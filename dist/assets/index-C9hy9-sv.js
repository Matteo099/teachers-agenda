(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();/**
* @vue/shared v3.5.7
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Qg(e){const t=Object.create(null);for(const n of e.split(","))t[n]=1;return n=>n in t}const Rt={},Sa=[],er=()=>{},UV=()=>!1,kf=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),Xg=e=>e.startsWith("onUpdate:"),nn=Object.assign,Jg=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},HV=Object.prototype.hasOwnProperty,St=(e,t)=>HV.call(e,t),We=Array.isArray,Ca=e=>Ef(e)==="[object Map]",lI=e=>Ef(e)==="[object Set]",Qe=e=>typeof e=="function",Wt=e=>typeof e=="string",Os=e=>typeof e=="symbol",Nt=e=>e!==null&&typeof e=="object",uI=e=>(Nt(e)||Qe(e))&&Qe(e.then)&&Qe(e.catch),cI=Object.prototype.toString,Ef=e=>cI.call(e),jV=e=>Ef(e).slice(8,-1),dI=e=>Ef(e)==="[object Object]",Zg=e=>Wt(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Xl=Qg(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Tf=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},WV=/-(\w)/g,hi=Tf(e=>e.replace(WV,(t,n)=>n?n.toUpperCase():"")),zV=/\B([A-Z])/g,Do=Tf(e=>e.replace(zV,"-$1").toLowerCase()),dr=Tf(e=>e.charAt(0).toUpperCase()+e.slice(1)),im=Tf(e=>e?`on${dr(e)}`:""),Is=(e,t)=>!Object.is(e,t),hd=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},fI=(e,t,n,i=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:i,value:n})},Jm=e=>{const t=parseFloat(e);return isNaN(t)?e:t},qV=e=>{const t=Wt(e)?Number(e):NaN;return isNaN(t)?e:t};let Wb;const hI=()=>Wb||(Wb=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Af(e){if(We(e)){const t={};for(let n=0;n<e.length;n++){const i=e[n],r=Wt(i)?QV(i):Af(i);if(r)for(const s in r)t[s]=r[s]}return t}else if(Wt(e)||Nt(e))return e}const GV=/;(?![^(]*\))/g,KV=/:([^]+)/,YV=/\/\*[^]*?\*\//g;function QV(e){const t={};return e.replace(YV,"").split(GV).forEach(n=>{if(n){const i=n.split(KV);i.length>1&&(t[i[0].trim()]=i[1].trim())}}),t}function Pf(e){let t="";if(Wt(e))t=e;else if(We(e))for(let n=0;n<e.length;n++){const i=Pf(e[n]);i&&(t+=i+" ")}else if(Nt(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}function mI(e){if(!e)return null;let{class:t,style:n}=e;return t&&!Wt(t)&&(e.class=Pf(t)),n&&(e.style=Af(n)),e}const XV="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",JV=Qg(XV);function vI(e){return!!e||e===""}const gI=e=>!!(e&&e.__v_isRef===!0),_t=e=>Wt(e)?e:e==null?"":We(e)||Nt(e)&&(e.toString===cI||!Qe(e.toString))?gI(e)?_t(e.value):JSON.stringify(e,pI,2):String(e),pI=(e,t)=>gI(t)?pI(e,t.value):Ca(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[i,r],s)=>(n[rm(i,s)+" =>"]=r,n),{})}:lI(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>rm(n))}:Os(t)?rm(t):Nt(t)&&!We(t)&&!dI(t)?String(t):t,rm=(e,t="")=>{var n;return Os(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};/**
* @vue/reactivity v3.5.7
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Jn;class yI{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Jn,!t&&Jn&&(this.index=(Jn.scopes||(Jn.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].pause();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].resume();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].resume()}}run(t){if(this._active){const n=Jn;try{return Jn=this,t()}finally{Jn=n}}}on(){Jn=this}off(){Jn=this.parent}stop(t){if(this._active){let n,i;for(n=0,i=this.effects.length;n<i;n++)this.effects[n].stop();for(n=0,i=this.cleanups.length;n<i;n++)this.cleanups[n]();if(this.scopes)for(n=0,i=this.scopes.length;n<i;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!t){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0,this._active=!1}}}function Qa(e){return new yI(e)}function ep(){return Jn}function _n(e,t=!1){Jn&&Jn.cleanups.push(e)}let xt;const sm=new WeakSet;class _I{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Jn&&Jn.active&&Jn.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,sm.has(this)&&(sm.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||wI(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,zb(this),SI(this);const t=xt,n=Oi;xt=this,Oi=!0;try{return this.fn()}finally{CI(this),xt=t,Oi=n,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)ip(t);this.deps=this.depsTail=void 0,zb(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?sm.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Zm(this)&&this.run()}get dirty(){return Zm(this)}}let bI=0,Jl;function wI(e){e.flags|=8,e.next=Jl,Jl=e}function tp(){bI++}function np(){if(--bI>0)return;let e;for(;Jl;){let t=Jl;for(Jl=void 0;t;){const n=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(i){e||(e=i)}t=n}}if(e)throw e}function SI(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function CI(e){let t,n=e.depsTail,i=n;for(;i;){const r=i.prevDep;i.version===-1?(i===n&&(n=r),ip(i),ZV(i)):t=i,i.dep.activeLink=i.prevActiveLink,i.prevActiveLink=void 0,i=r}e.deps=t,e.depsTail=n}function Zm(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(II(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function II(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===vu))return;e.globalVersion=vu;const t=e.dep;if(e.flags|=2,t.version>0&&!e.isSSR&&e.deps&&!Zm(e)){e.flags&=-3;return}const n=xt,i=Oi;xt=e,Oi=!0;try{SI(e);const r=e.fn(e._value);(t.version===0||Is(r,e._value))&&(e._value=r,t.version++)}catch(r){throw t.version++,r}finally{xt=n,Oi=i,CI(e),e.flags&=-3}}function ip(e,t=!1){const{dep:n,prevSub:i,nextSub:r}=e;if(i&&(i.nextSub=r,e.prevSub=void 0),r&&(r.prevSub=i,e.nextSub=void 0),n.subs===e&&(n.subs=i),!n.subs)if(n.computed){n.computed.flags&=-5;for(let s=n.computed.deps;s;s=s.nextDep)ip(s,!0)}else n.map&&!t&&(n.map.delete(n.key),n.map.size||gu.delete(n.target))}function ZV(e){const{prevDep:t,nextDep:n}=e;t&&(t.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=t,e.nextDep=void 0)}let Oi=!0;const kI=[];function Ms(){kI.push(Oi),Oi=!1}function Ls(){const e=kI.pop();Oi=e===void 0?!0:e}function zb(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const n=xt;xt=void 0;try{t()}finally{xt=n}}}let vu=0;class eD{constructor(t,n){this.sub=t,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class rp{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.target=void 0,this.map=void 0,this.key=void 0}track(t){if(!xt||!Oi||xt===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==xt)n=this.activeLink=new eD(xt,this),xt.deps?(n.prevDep=xt.depsTail,xt.depsTail.nextDep=n,xt.depsTail=n):xt.deps=xt.depsTail=n,xt.flags&4&&EI(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const i=n.nextDep;i.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=i),n.prevDep=xt.depsTail,n.nextDep=void 0,xt.depsTail.nextDep=n,xt.depsTail=n,xt.deps===n&&(xt.deps=i)}return n}trigger(t){this.version++,vu++,this.notify(t)}notify(t){tp();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{np()}}}function EI(e){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let i=t.deps;i;i=i.nextDep)EI(i)}const n=e.dep.subs;n!==e&&(e.prevSub=n,n&&(n.nextSub=e)),e.dep.subs=e}const gu=new WeakMap,oo=Symbol(""),ev=Symbol(""),pu=Symbol("");function zn(e,t,n){if(Oi&&xt){let i=gu.get(e);i||gu.set(e,i=new Map);let r=i.get(n);r||(i.set(n,r=new rp),r.target=e,r.map=i,r.key=n),r.track()}}function Dr(e,t,n,i,r,s){const o=gu.get(e);if(!o){vu++;return}const a=l=>{l&&l.trigger()};if(tp(),t==="clear")o.forEach(a);else{const l=We(e),u=l&&Zg(n);if(l&&n==="length"){const c=Number(i);o.forEach((d,h)=>{(h==="length"||h===pu||!Os(h)&&h>=c)&&a(d)})}else switch(n!==void 0&&a(o.get(n)),u&&a(o.get(pu)),t){case"add":l?u&&a(o.get("length")):(a(o.get(oo)),Ca(e)&&a(o.get(ev)));break;case"delete":l||(a(o.get(oo)),Ca(e)&&a(o.get(ev)));break;case"set":Ca(e)&&a(o.get(oo));break}}np()}function tD(e,t){var n;return(n=gu.get(e))==null?void 0:n.get(t)}function ra(e){const t=$e(e);return t===e?t:(zn(t,"iterate",pu),Ei(e)?t:t.map(Ln))}function xf(e){return zn(e=$e(e),"iterate",pu),e}const nD={__proto__:null,[Symbol.iterator](){return om(this,Symbol.iterator,Ln)},concat(...e){return ra(this).concat(...e.map(t=>We(t)?ra(t):t))},entries(){return om(this,"entries",e=>(e[1]=Ln(e[1]),e))},every(e,t){return wr(this,"every",e,t,void 0,arguments)},filter(e,t){return wr(this,"filter",e,t,n=>n.map(Ln),arguments)},find(e,t){return wr(this,"find",e,t,Ln,arguments)},findIndex(e,t){return wr(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return wr(this,"findLast",e,t,Ln,arguments)},findLastIndex(e,t){return wr(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return wr(this,"forEach",e,t,void 0,arguments)},includes(...e){return am(this,"includes",e)},indexOf(...e){return am(this,"indexOf",e)},join(e){return ra(this).join(e)},lastIndexOf(...e){return am(this,"lastIndexOf",e)},map(e,t){return wr(this,"map",e,t,void 0,arguments)},pop(){return Nl(this,"pop")},push(...e){return Nl(this,"push",e)},reduce(e,...t){return qb(this,"reduce",e,t)},reduceRight(e,...t){return qb(this,"reduceRight",e,t)},shift(){return Nl(this,"shift")},some(e,t){return wr(this,"some",e,t,void 0,arguments)},splice(...e){return Nl(this,"splice",e)},toReversed(){return ra(this).toReversed()},toSorted(e){return ra(this).toSorted(e)},toSpliced(...e){return ra(this).toSpliced(...e)},unshift(...e){return Nl(this,"unshift",e)},values(){return om(this,"values",Ln)}};function om(e,t,n){const i=xf(e),r=i[t]();return i!==e&&!Ei(e)&&(r._next=r.next,r.next=()=>{const s=r._next();return s.value&&(s.value=n(s.value)),s}),r}const iD=Array.prototype;function wr(e,t,n,i,r,s){const o=xf(e),a=o!==e&&!Ei(e),l=o[t];if(l!==iD[t]){const d=l.apply(e,s);return a?Ln(d):d}let u=n;o!==e&&(a?u=function(d,h){return n.call(this,Ln(d),h,e)}:n.length>2&&(u=function(d,h){return n.call(this,d,h,e)}));const c=l.call(o,u,i);return a&&r?r(c):c}function qb(e,t,n,i){const r=xf(e);let s=n;return r!==e&&(Ei(e)?n.length>3&&(s=function(o,a,l){return n.call(this,o,a,l,e)}):s=function(o,a,l){return n.call(this,o,Ln(a),l,e)}),r[t](s,...i)}function am(e,t,n){const i=$e(e);zn(i,"iterate",pu);const r=i[t](...n);return(r===-1||r===!1)&&lp(n[0])?(n[0]=$e(n[0]),i[t](...n)):r}function Nl(e,t,n=[]){Ms(),tp();const i=$e(e)[t].apply(e,n);return np(),Ls(),i}const rD=Qg("__proto__,__v_isRef,__isVue"),TI=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Os));function sD(e){Os(e)||(e=String(e));const t=$e(this);return zn(t,"has",e),t.hasOwnProperty(e)}class AI{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,i){const r=this._isReadonly,s=this._isShallow;if(n==="__v_isReactive")return!r;if(n==="__v_isReadonly")return r;if(n==="__v_isShallow")return s;if(n==="__v_raw")return i===(r?s?yD:VI:s?RI:xI).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(i)?t:void 0;const o=We(t);if(!r){let l;if(o&&(l=nD[n]))return l;if(n==="hasOwnProperty")return sD}const a=Reflect.get(t,n,Et(t)?t:i);return(Os(n)?TI.has(n):rD(n))||(r||zn(t,"get",n),s)?a:Et(a)?o&&Zg(n)?a:a.value:Nt(a)?r?Zu(a):ln(a):a}}class PI extends AI{constructor(t=!1){super(!1,t)}set(t,n,i,r){let s=t[n];if(!this._isShallow){const l=vo(s);if(!Ei(i)&&!vo(i)&&(s=$e(s),i=$e(i)),!We(t)&&Et(s)&&!Et(i))return l?!1:(s.value=i,!0)}const o=We(t)&&Zg(n)?Number(n)<t.length:St(t,n),a=Reflect.set(t,n,i,Et(t)?t:r);return t===$e(r)&&(o?Is(i,s)&&Dr(t,"set",n,i):Dr(t,"add",n,i)),a}deleteProperty(t,n){const i=St(t,n);t[n];const r=Reflect.deleteProperty(t,n);return r&&i&&Dr(t,"delete",n,void 0),r}has(t,n){const i=Reflect.has(t,n);return(!Os(n)||!TI.has(n))&&zn(t,"has",n),i}ownKeys(t){return zn(t,"iterate",We(t)?"length":oo),Reflect.ownKeys(t)}}class oD extends AI{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const aD=new PI,lD=new oD,uD=new PI(!0);const sp=e=>e,Rf=e=>Reflect.getPrototypeOf(e);function Uc(e,t,n=!1,i=!1){e=e.__v_raw;const r=$e(e),s=$e(t);n||(Is(t,s)&&zn(r,"get",t),zn(r,"get",s));const{has:o}=Rf(r),a=i?sp:n?up:Ln;if(o.call(r,t))return a(e.get(t));if(o.call(r,s))return a(e.get(s));e!==r&&e.get(t)}function Hc(e,t=!1){const n=this.__v_raw,i=$e(n),r=$e(e);return t||(Is(e,r)&&zn(i,"has",e),zn(i,"has",r)),e===r?n.has(e):n.has(e)||n.has(r)}function jc(e,t=!1){return e=e.__v_raw,!t&&zn($e(e),"iterate",oo),Reflect.get(e,"size",e)}function Gb(e,t=!1){!t&&!Ei(e)&&!vo(e)&&(e=$e(e));const n=$e(this);return Rf(n).has.call(n,e)||(n.add(e),Dr(n,"add",e,e)),this}function Kb(e,t,n=!1){!n&&!Ei(t)&&!vo(t)&&(t=$e(t));const i=$e(this),{has:r,get:s}=Rf(i);let o=r.call(i,e);o||(e=$e(e),o=r.call(i,e));const a=s.call(i,e);return i.set(e,t),o?Is(t,a)&&Dr(i,"set",e,t):Dr(i,"add",e,t),this}function Yb(e){const t=$e(this),{has:n,get:i}=Rf(t);let r=n.call(t,e);r||(e=$e(e),r=n.call(t,e)),i&&i.call(t,e);const s=t.delete(e);return r&&Dr(t,"delete",e,void 0),s}function Qb(){const e=$e(this),t=e.size!==0,n=e.clear();return t&&Dr(e,"clear",void 0,void 0),n}function Wc(e,t){return function(i,r){const s=this,o=s.__v_raw,a=$e(o),l=t?sp:e?up:Ln;return!e&&zn(a,"iterate",oo),o.forEach((u,c)=>i.call(r,l(u),l(c),s))}}function zc(e,t,n){return function(...i){const r=this.__v_raw,s=$e(r),o=Ca(s),a=e==="entries"||e===Symbol.iterator&&o,l=e==="keys"&&o,u=r[e](...i),c=n?sp:t?up:Ln;return!t&&zn(s,"iterate",l?ev:oo),{next(){const{value:d,done:h}=u.next();return h?{value:d,done:h}:{value:a?[c(d[0]),c(d[1])]:c(d),done:h}},[Symbol.iterator](){return this}}}}function es(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function cD(){const e={get(s){return Uc(this,s)},get size(){return jc(this)},has:Hc,add:Gb,set:Kb,delete:Yb,clear:Qb,forEach:Wc(!1,!1)},t={get(s){return Uc(this,s,!1,!0)},get size(){return jc(this)},has:Hc,add(s){return Gb.call(this,s,!0)},set(s,o){return Kb.call(this,s,o,!0)},delete:Yb,clear:Qb,forEach:Wc(!1,!0)},n={get(s){return Uc(this,s,!0)},get size(){return jc(this,!0)},has(s){return Hc.call(this,s,!0)},add:es("add"),set:es("set"),delete:es("delete"),clear:es("clear"),forEach:Wc(!0,!1)},i={get(s){return Uc(this,s,!0,!0)},get size(){return jc(this,!0)},has(s){return Hc.call(this,s,!0)},add:es("add"),set:es("set"),delete:es("delete"),clear:es("clear"),forEach:Wc(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(s=>{e[s]=zc(s,!1,!1),n[s]=zc(s,!0,!1),t[s]=zc(s,!1,!0),i[s]=zc(s,!0,!0)}),[e,n,t,i]}const[dD,fD,hD,mD]=cD();function op(e,t){const n=t?e?mD:hD:e?fD:dD;return(i,r,s)=>r==="__v_isReactive"?!e:r==="__v_isReadonly"?e:r==="__v_raw"?i:Reflect.get(St(n,r)&&r in i?n:i,r,s)}const vD={get:op(!1,!1)},gD={get:op(!1,!0)},pD={get:op(!0,!1)};const xI=new WeakMap,RI=new WeakMap,VI=new WeakMap,yD=new WeakMap;function _D(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function bD(e){return e.__v_skip||!Object.isExtensible(e)?0:_D(jV(e))}function ln(e){return vo(e)?e:ap(e,!1,aD,vD,xI)}function DI(e){return ap(e,!1,uD,gD,RI)}function Zu(e){return ap(e,!0,lD,pD,VI)}function ap(e,t,n,i,r){if(!Nt(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const s=r.get(e);if(s)return s;const o=bD(e);if(o===0)return e;const a=new Proxy(e,o===2?i:n);return r.set(e,a),a}function ys(e){return vo(e)?ys(e.__v_raw):!!(e&&e.__v_isReactive)}function vo(e){return!!(e&&e.__v_isReadonly)}function Ei(e){return!!(e&&e.__v_isShallow)}function lp(e){return e?!!e.__v_raw:!1}function $e(e){const t=e&&e.__v_raw;return t?$e(t):e}function Vf(e){return!St(e,"__v_skip")&&Object.isExtensible(e)&&fI(e,"__v_skip",!0),e}const Ln=e=>Nt(e)?ln(e):e,up=e=>Nt(e)?Zu(e):e;function Et(e){return e?e.__v_isRef===!0:!1}function j(e){return NI(e,!1)}function ye(e){return NI(e,!0)}function NI(e,t){return Et(e)?e:new wD(e,t)}class wD{constructor(t,n){this.dep=new rp,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?t:$e(t),this._value=n?t:Ln(t),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(t){const n=this._rawValue,i=this.__v_isShallow||Ei(t)||vo(t);t=i?t:$e(t),Is(t,n)&&(this._rawValue=t,this._value=i?t:Ln(t),this.dep.trigger())}}function qe(e){return Et(e)?e.value:e}function kr(e){return Qe(e)?e():qe(e)}const SD={get:(e,t,n)=>t==="__v_raw"?e:qe(Reflect.get(e,t,n)),set:(e,t,n,i)=>{const r=e[t];return Et(r)&&!Et(n)?(r.value=n,!0):Reflect.set(e,t,n,i)}};function OI(e){return ys(e)?e:new Proxy(e,SD)}function Wr(e){const t=We(e)?new Array(e.length):{};for(const n in e)t[n]=MI(e,n);return t}class CD{constructor(t,n,i){this._object=t,this._key=n,this._defaultValue=i,this.__v_isRef=!0,this._value=void 0}get value(){const t=this._object[this._key];return this._value=t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return tD($e(this._object),this._key)}}class ID{constructor(t){this._getter=t,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function ee(e,t,n){return Et(e)?e:Qe(e)?new ID(e):Nt(e)&&arguments.length>1?MI(e,t,n):j(e)}function MI(e,t,n){const i=e[t];return Et(i)?i:new CD(e,t,n)}class kD{constructor(t,n,i){this.fn=t,this.setter=n,this._value=void 0,this.dep=new rp(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=vu-1,this.effect=this,this.__v_isReadonly=!n,this.isSSR=i}notify(){if(this.flags|=16,!(this.flags&8)&&xt!==this)return wI(this),!0}get value(){const t=this.dep.track();return II(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function ED(e,t,n=!1){let i,r;return Qe(e)?i=e:(i=e.get,r=e.set),new kD(i,r,n)}const qc={},xd=new WeakMap;let Xs;function TD(e,t=!1,n=Xs){if(n){let i=xd.get(n);i||xd.set(n,i=[]),i.push(e)}}function AD(e,t,n=Rt){const{immediate:i,deep:r,once:s,scheduler:o,augmentJob:a,call:l}=n,u=A=>r?A:Ei(A)||r===!1||r===0?Tr(A,1):Tr(A);let c,d,h,v,g=!1,p=!1;if(Et(e)?(d=()=>e.value,g=Ei(e)):ys(e)?(d=()=>u(e),g=!0):We(e)?(p=!0,g=e.some(A=>ys(A)||Ei(A)),d=()=>e.map(A=>{if(Et(A))return A.value;if(ys(A))return u(A);if(Qe(A))return l?l(A,2):A()})):Qe(e)?t?d=l?()=>l(e,2):e:d=()=>{if(h){Ms();try{h()}finally{Ls()}}const A=Xs;Xs=c;try{return l?l(e,3,[v]):e(v)}finally{Xs=A}}:d=er,t&&r){const A=d,V=r===!0?1/0:r;d=()=>Tr(A(),V)}const y=ep(),w=()=>{c.stop(),y&&Jg(y.effects,c)};if(s&&t){const A=t;t=(...V)=>{A(...V),w()}}let C=p?new Array(e.length).fill(qc):qc;const x=A=>{if(!(!(c.flags&1)||!c.dirty&&!A))if(t){const V=c.run();if(r||g||(p?V.some((N,T)=>Is(N,C[T])):Is(V,C))){h&&h();const N=Xs;Xs=c;try{const T=[V,C===qc?void 0:p&&C[0]===qc?[]:C,v];l?l(t,3,T):t(...T),C=V}finally{Xs=N}}}else c.run()};return a&&a(x),c=new _I(d),c.scheduler=o?()=>o(x,!1):x,v=A=>TD(A,!1,c),h=c.onStop=()=>{const A=xd.get(c);if(A){if(l)l(A,4);else for(const V of A)V();xd.delete(c)}},t?i?x(!0):C=c.run():o?o(x.bind(null,!0),!0):c.run(),w.pause=c.pause.bind(c),w.resume=c.resume.bind(c),w.stop=w,w}function Tr(e,t=1/0,n){if(t<=0||!Nt(e)||e.__v_skip||(n=n||new Set,n.has(e)))return e;if(n.add(e),t--,Et(e))Tr(e.value,t,n);else if(We(e))for(let i=0;i<e.length;i++)Tr(e[i],t,n);else if(lI(e)||Ca(e))e.forEach(i=>{Tr(i,t,n)});else if(dI(e)){for(const i in e)Tr(e[i],t,n);for(const i of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,i)&&Tr(e[i],t,n)}return e}/**
* @vue/runtime-core v3.5.7
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function ec(e,t,n,i){try{return i?e(...i):e()}catch(r){Df(r,t,n)}}function Fi(e,t,n,i){if(Qe(e)){const r=ec(e,t,n,i);return r&&uI(r)&&r.catch(s=>{Df(s,t,n)}),r}if(We(e)){const r=[];for(let s=0;s<e.length;s++)r.push(Fi(e[s],t,n,i));return r}}function Df(e,t,n,i=!0){const r=t?t.vnode:null,{errorHandler:s,throwUnhandledErrorInProduction:o}=t&&t.appContext.config||Rt;if(t){let a=t.parent;const l=t.proxy,u=`https://vuejs.org/error-reference/#runtime-${n}`;for(;a;){const c=a.ec;if(c){for(let d=0;d<c.length;d++)if(c[d](e,l,u)===!1)return}a=a.parent}if(s){Ms(),ec(s,null,10,[e,l,u]),Ls();return}}PD(e,n,r,i,o)}function PD(e,t,n,i=!0,r=!1){if(r)throw e;console.error(e)}let yu=!1,tv=!1;const Zn=[];let Qi=0;const Ia=[];let os=null,da=0;const LI=Promise.resolve();let cp=null;function tt(e){const t=cp||LI;return e?t.then(this?e.bind(this):e):t}function xD(e){let t=yu?Qi+1:0,n=Zn.length;for(;t<n;){const i=t+n>>>1,r=Zn[i],s=_u(r);s<e||s===e&&r.flags&2?t=i+1:n=i}return t}function dp(e){if(!(e.flags&1)){const t=_u(e),n=Zn[Zn.length-1];!n||!(e.flags&2)&&t>=_u(n)?Zn.push(e):Zn.splice(xD(t),0,e),e.flags|=1,FI()}}function FI(){!yu&&!tv&&(tv=!0,cp=LI.then($I))}function RD(e){We(e)?Ia.push(...e):os&&e.id===-1?os.splice(da+1,0,e):e.flags&1||(Ia.push(e),e.flags|=1),FI()}function Xb(e,t,n=yu?Qi+1:0){for(;n<Zn.length;n++){const i=Zn[n];if(i&&i.flags&2){if(e&&i.id!==e.uid)continue;Zn.splice(n,1),n--,i.flags&4&&(i.flags&=-2),i(),i.flags&4||(i.flags&=-2)}}}function BI(e){if(Ia.length){const t=[...new Set(Ia)].sort((n,i)=>_u(n)-_u(i));if(Ia.length=0,os){os.push(...t);return}for(os=t,da=0;da<os.length;da++){const n=os[da];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}os=null,da=0}}const _u=e=>e.id==null?e.flags&2?-1:1/0:e.id;function $I(e){tv=!1,yu=!0;try{for(Qi=0;Qi<Zn.length;Qi++){const t=Zn[Qi];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),ec(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;Qi<Zn.length;Qi++){const t=Zn[Qi];t&&(t.flags&=-2)}Qi=0,Zn.length=0,BI(),yu=!1,cp=null,(Zn.length||Ia.length)&&$I()}}let un=null,UI=null;function Rd(e){const t=un;return un=e,UI=e&&e.type.__scopeId||null,t}function F(e,t=un,n){if(!t||e._n)return e;const i=(...r)=>{i._d&&uw(-1);const s=Rd(t);let o;try{o=e(...r)}finally{Rd(s),i._d&&uw(1)}return o};return i._n=!0,i._c=!0,i._d=!0,i}function Ht(e,t){if(un===null)return e;const n=Ff(un),i=e.dirs||(e.dirs=[]);for(let r=0;r<t.length;r++){let[s,o,a,l=Rt]=t[r];s&&(Qe(s)&&(s={mounted:s,updated:s}),s.deep&&Tr(o),i.push({dir:s,instance:n,value:o,oldValue:void 0,arg:a,modifiers:l}))}return e}function qs(e,t,n,i){const r=e.dirs,s=t&&t.dirs;for(let o=0;o<r.length;o++){const a=r[o];s&&(a.oldValue=s[o].value);let l=a.dir[i];l&&(Ms(),Fi(l,n,8,[e.el,a,e,t]),Ls())}}const HI=Symbol("_vte"),jI=e=>e.__isTeleport,Zl=e=>e&&(e.disabled||e.disabled===""),VD=e=>e&&(e.defer||e.defer===""),Jb=e=>typeof SVGElement<"u"&&e instanceof SVGElement,Zb=e=>typeof MathMLElement=="function"&&e instanceof MathMLElement,nv=(e,t)=>{const n=e&&e.to;return Wt(n)?t?t(n):null:n},DD={name:"Teleport",__isTeleport:!0,process(e,t,n,i,r,s,o,a,l,u){const{mc:c,pc:d,pbc:h,o:{insert:v,querySelector:g,createText:p,createComment:y}}=u,w=Zl(t.props);let{shapeFlag:C,children:x,dynamicChildren:A}=t;if(e==null){const V=t.el=p(""),N=t.anchor=p("");v(V,n,i),v(N,n,i);const T=(_,E)=>{C&16&&(r&&r.isCE&&(r.ce._teleportTarget=_),c(x,_,E,r,s,o,a,l))},b=()=>{const _=t.target=nv(t.props,g),E=WI(_,t,p,v);_&&(o!=="svg"&&Jb(_)?o="svg":o!=="mathml"&&Zb(_)&&(o="mathml"),w||(T(_,E),md(t)))};w&&(T(n,N),md(t)),VD(t.props)?ii(b,s):b()}else{t.el=e.el,t.targetStart=e.targetStart;const V=t.anchor=e.anchor,N=t.target=e.target,T=t.targetAnchor=e.targetAnchor,b=Zl(e.props),_=b?n:N,E=b?V:T;if(o==="svg"||Jb(N)?o="svg":(o==="mathml"||Zb(N))&&(o="mathml"),A?(h(e.dynamicChildren,A,_,r,s,o,a),bp(e,t,!0)):l||d(e,t,_,E,r,s,o,a,!1),w)b?t.props&&e.props&&t.props.to!==e.props.to&&(t.props.to=e.props.to):Gc(t,n,V,u,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const P=t.target=nv(t.props,g);P&&Gc(t,P,null,u,0)}else b&&Gc(t,N,T,u,1);md(t)}},remove(e,t,n,{um:i,o:{remove:r}},s){const{shapeFlag:o,children:a,anchor:l,targetStart:u,targetAnchor:c,target:d,props:h}=e;if(d&&(r(u),r(c)),s&&r(l),o&16){const v=s||!Zl(h);for(let g=0;g<a.length;g++){const p=a[g];i(p,t,n,v,!!p.dynamicChildren)}}},move:Gc,hydrate:ND};function Gc(e,t,n,{o:{insert:i},m:r},s=2){s===0&&i(e.targetAnchor,t,n);const{el:o,anchor:a,shapeFlag:l,children:u,props:c}=e,d=s===2;if(d&&i(o,t,n),(!d||Zl(c))&&l&16)for(let h=0;h<u.length;h++)r(u[h],t,n,2);d&&i(a,t,n)}function ND(e,t,n,i,r,s,{o:{nextSibling:o,parentNode:a,querySelector:l,insert:u,createText:c}},d){const h=t.target=nv(t.props,l);if(h){const v=h._lpa||h.firstChild;if(t.shapeFlag&16)if(Zl(t.props))t.anchor=d(o(e),t,a(e),n,i,r,s),t.targetStart=v,t.targetAnchor=v&&o(v);else{t.anchor=o(e);let g=v;for(;g;){if(g&&g.nodeType===8){if(g.data==="teleport start anchor")t.targetStart=g;else if(g.data==="teleport anchor"){t.targetAnchor=g,h._lpa=t.targetAnchor&&o(t.targetAnchor);break}}g=o(g)}t.targetAnchor||WI(h,t,c,u),d(v&&o(v),t,h,n,i,r,s)}md(t)}return t.anchor&&o(t.anchor)}const OD=DD;function md(e){const t=e.ctx;if(t&&t.ut){let n=e.targetStart;for(;n&&n!==e.targetAnchor;)n.nodeType===1&&n.setAttribute("data-v-owner",t.uid),n=n.nextSibling;t.ut()}}function WI(e,t,n,i){const r=t.targetStart=n(""),s=t.targetAnchor=n("");return r[HI]=s,e&&(i(r,e),i(s,e)),s}const as=Symbol("_leaveCb"),Kc=Symbol("_enterCb");function zI(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return dt(()=>{e.isMounted=!0}),wn(()=>{e.isUnmounting=!0}),e}const Si=[Function,Array],qI={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Si,onEnter:Si,onAfterEnter:Si,onEnterCancelled:Si,onBeforeLeave:Si,onLeave:Si,onAfterLeave:Si,onLeaveCancelled:Si,onBeforeAppear:Si,onAppear:Si,onAfterAppear:Si,onAppearCancelled:Si},GI=e=>{const t=e.subTree;return t.component?GI(t.component):t},MD={name:"BaseTransition",props:qI,setup(e,{slots:t}){const n=nc(),i=zI();return()=>{const r=t.default&&fp(t.default(),!0);if(!r||!r.length)return;const s=KI(r),o=$e(e),{mode:a}=o;if(i.isLeaving)return lm(s);const l=ew(s);if(!l)return lm(s);let u=bu(l,o,i,n,h=>u=h);l.type!==Un&&go(l,u);const c=n.subTree,d=c&&ew(c);if(d&&d.type!==Un&&!eo(l,d)&&GI(n).type!==Un){const h=bu(d,o,i,n);if(go(d,h),a==="out-in"&&l.type!==Un)return i.isLeaving=!0,h.afterLeave=()=>{i.isLeaving=!1,n.job.flags&8||n.update(),delete h.afterLeave},lm(s);a==="in-out"&&l.type!==Un&&(h.delayLeave=(v,g,p)=>{const y=YI(i,d);y[String(d.key)]=d,v[as]=()=>{g(),v[as]=void 0,delete u.delayedLeave},u.delayedLeave=p})}return s}}};function KI(e){let t=e[0];if(e.length>1){for(const n of e)if(n.type!==Un){t=n;break}}return t}const LD=MD;function YI(e,t){const{leavingVNodes:n}=e;let i=n.get(t.type);return i||(i=Object.create(null),n.set(t.type,i)),i}function bu(e,t,n,i,r){const{appear:s,mode:o,persisted:a=!1,onBeforeEnter:l,onEnter:u,onAfterEnter:c,onEnterCancelled:d,onBeforeLeave:h,onLeave:v,onAfterLeave:g,onLeaveCancelled:p,onBeforeAppear:y,onAppear:w,onAfterAppear:C,onAppearCancelled:x}=t,A=String(e.key),V=YI(n,e),N=(_,E)=>{_&&Fi(_,i,9,E)},T=(_,E)=>{const P=E[1];N(_,E),We(_)?_.every(I=>I.length<=1)&&P():_.length<=1&&P()},b={mode:o,persisted:a,beforeEnter(_){let E=l;if(!n.isMounted)if(s)E=y||l;else return;_[as]&&_[as](!0);const P=V[A];P&&eo(e,P)&&P.el[as]&&P.el[as](),N(E,[_])},enter(_){let E=u,P=c,I=d;if(!n.isMounted)if(s)E=w||u,P=C||c,I=x||d;else return;let R=!1;const H=_[Kc]=q=>{R||(R=!0,q?N(I,[_]):N(P,[_]),b.delayedLeave&&b.delayedLeave(),_[Kc]=void 0)};E?T(E,[_,H]):H()},leave(_,E){const P=String(e.key);if(_[Kc]&&_[Kc](!0),n.isUnmounting)return E();N(h,[_]);let I=!1;const R=_[as]=H=>{I||(I=!0,E(),H?N(p,[_]):N(g,[_]),_[as]=void 0,V[P]===e&&delete V[P])};V[P]=e,v?T(v,[_,R]):R()},clone(_){const E=bu(_,t,n,i,r);return r&&r(E),E}};return b}function lm(e){if(Nf(e))return e=Mr(e),e.children=null,e}function ew(e){if(!Nf(e))return jI(e.type)&&e.children?KI(e.children):e;const{shapeFlag:t,children:n}=e;if(n){if(t&16)return n[0];if(t&32&&Qe(n.default))return n.default()}}function go(e,t){e.shapeFlag&6&&e.component?(e.transition=t,go(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function fp(e,t=!1,n){let i=[],r=0;for(let s=0;s<e.length;s++){let o=e[s];const a=n==null?o.key:String(n)+String(o.key!=null?o.key:s);o.type===be?(o.patchFlag&128&&r++,i=i.concat(fp(o.children,t,a))):(t||o.type!==Un)&&i.push(a!=null?Mr(o,{key:a}):o)}if(r>1)for(let s=0;s<i.length;s++)i[s].patchFlag=-2;return i}/*! #__NO_SIDE_EFFECTS__ */function bn(e,t){return Qe(e)?nn({name:e.name},t,{setup:e}):e}function QI(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function iv(e,t,n,i,r=!1){if(We(e)){e.forEach((g,p)=>iv(g,t&&(We(t)?t[p]:t),n,i,r));return}if(ka(i)&&!r)return;const s=i.shapeFlag&4?Ff(i.component):i.el,o=r?null:s,{i:a,r:l}=e,u=t&&t.r,c=a.refs===Rt?a.refs={}:a.refs,d=a.setupState,h=$e(d),v=d===Rt?()=>!1:g=>St(h,g);if(u!=null&&u!==l&&(Wt(u)?(c[u]=null,v(u)&&(d[u]=null)):Et(u)&&(u.value=null)),Qe(l))ec(l,a,12,[o,c]);else{const g=Wt(l),p=Et(l);if(g||p){const y=()=>{if(e.f){const w=g?v(l)?d[l]:c[l]:l.value;r?We(w)&&Jg(w,s):We(w)?w.includes(s)||w.push(s):g?(c[l]=[s],v(l)&&(d[l]=c[l])):(l.value=[s],e.k&&(c[e.k]=l.value))}else g?(c[l]=o,v(l)&&(d[l]=o)):p&&(l.value=o,e.k&&(c[e.k]=o))};o?(y.id=-1,ii(y,n)):y()}}}const ka=e=>!!e.type.__asyncLoader,Nf=e=>e.type.__isKeepAlive;function XI(e,t){JI(e,"a",t)}function hp(e,t){JI(e,"da",t)}function JI(e,t,n=gn){const i=e.__wdc||(e.__wdc=()=>{let r=n;for(;r;){if(r.isDeactivated)return;r=r.parent}return e()});if(Of(t,i,n),n){let r=n.parent;for(;r&&r.parent;)Nf(r.parent.vnode)&&FD(i,t,n,r),r=r.parent}}function FD(e,t,n,i){const r=Of(t,e,i,!0);No(()=>{Jg(i[t],r)},n)}function Of(e,t,n=gn,i=!1){if(n){const r=n[e]||(n[e]=[]),s=t.__weh||(t.__weh=(...o)=>{Ms();const a=ic(n),l=Fi(t,n,e,o);return a(),Ls(),l});return i?r.unshift(s):r.push(s),s}}const zr=e=>(t,n=gn)=>{(!Lf||e==="sp")&&Of(e,(...i)=>t(...i),n)},mp=zr("bm"),dt=zr("m"),ZI=zr("bu"),vp=zr("u"),wn=zr("bum"),No=zr("um"),ek=zr("sp"),BD=zr("rtg"),$D=zr("rtc");function UD(e,t=gn){Of("ec",e,t)}const gp="components",HD="directives";function Z(e,t){return pp(gp,e,!0,t)||e}const tk=Symbol.for("v-ndc");function nk(e){return Wt(e)?pp(gp,e,!1)||e:e||tk}function vi(e){return pp(HD,e)}function pp(e,t,n=!0,i=!1){const r=un||gn;if(r){const s=r.type;if(e===gp){const a=PN(s,!1);if(a&&(a===t||a===hi(t)||a===dr(hi(t))))return s}const o=tw(r[e]||s[e],t)||tw(r.appContext[e],t);return!o&&i?s:o}}function tw(e,t){return e&&(e[t]||e[hi(t)]||e[dr(hi(t))])}function sr(e,t,n,i){let r;const s=n,o=We(e);if(o||Wt(e)){const a=o&&ys(e);let l=!1;a&&(l=!Ei(e),e=xf(e)),r=new Array(e.length);for(let u=0,c=e.length;u<c;u++)r[u]=t(l?Ln(e[u]):e[u],u,void 0,s)}else if(typeof e=="number"){r=new Array(e);for(let a=0;a<e;a++)r[a]=t(a+1,a,void 0,s)}else if(Nt(e))if(e[Symbol.iterator])r=Array.from(e,(a,l)=>t(a,l,void 0,s));else{const a=Object.keys(e);r=new Array(a.length);for(let l=0,u=a.length;l<u;l++){const c=a[l];r[l]=t(e[c],c,l,s)}}else r=[];return r}function jD(e,t){for(let n=0;n<t.length;n++){const i=t[n];if(We(i))for(let r=0;r<i.length;r++)e[i[r].name]=i[r].fn;else i&&(e[i.name]=i.key?(...r)=>{const s=i.fn(...r);return s&&(s.key=i.key),s}:i.fn)}return e}function WD(e,t,n={},i,r){if(un.ce||un.parent&&ka(un.parent)&&un.parent.ce)return n.name=t,Fe(),Je(be,null,[f("slot",n,i)],64);let s=e[t];s&&s._c&&(s._d=!1),Fe();const o=s&&ik(s(n)),a=Je(be,{key:(n.key||o&&o.key||`_${t}`)+(!o&&i?"_fb":"")},o||[],o&&e._===1?64:-2);return a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),s&&s._c&&(s._d=!0),a}function ik(e){return e.some(t=>Su(t)?!(t.type===Un||t.type===be&&!ik(t.children)):!0)?e:null}const rv=e=>e?wk(e)?Ff(e):rv(e.parent):null,eu=nn(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>rv(e.parent),$root:e=>rv(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>yp(e),$forceUpdate:e=>e.f||(e.f=()=>{dp(e.update)}),$nextTick:e=>e.n||(e.n=tt.bind(e.proxy)),$watch:e=>fN.bind(e)}),um=(e,t)=>e!==Rt&&!e.__isScriptSetup&&St(e,t),zD={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:n,setupState:i,data:r,props:s,accessCache:o,type:a,appContext:l}=e;let u;if(t[0]!=="$"){const v=o[t];if(v!==void 0)switch(v){case 1:return i[t];case 2:return r[t];case 4:return n[t];case 3:return s[t]}else{if(um(i,t))return o[t]=1,i[t];if(r!==Rt&&St(r,t))return o[t]=2,r[t];if((u=e.propsOptions[0])&&St(u,t))return o[t]=3,s[t];if(n!==Rt&&St(n,t))return o[t]=4,n[t];sv&&(o[t]=0)}}const c=eu[t];let d,h;if(c)return t==="$attrs"&&zn(e.attrs,"get",""),c(e);if((d=a.__cssModules)&&(d=d[t]))return d;if(n!==Rt&&St(n,t))return o[t]=4,n[t];if(h=l.config.globalProperties,St(h,t))return h[t]},set({_:e},t,n){const{data:i,setupState:r,ctx:s}=e;return um(r,t)?(r[t]=n,!0):i!==Rt&&St(i,t)?(i[t]=n,!0):St(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(s[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:i,appContext:r,propsOptions:s}},o){let a;return!!n[o]||e!==Rt&&St(e,o)||um(t,o)||(a=s[0])&&St(a,o)||St(i,o)||St(eu,o)||St(r.config.globalProperties,o)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:St(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function nw(e){return We(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let sv=!0;function qD(e){const t=yp(e),n=e.proxy,i=e.ctx;sv=!1,t.beforeCreate&&iw(t.beforeCreate,e,"bc");const{data:r,computed:s,methods:o,watch:a,provide:l,inject:u,created:c,beforeMount:d,mounted:h,beforeUpdate:v,updated:g,activated:p,deactivated:y,beforeDestroy:w,beforeUnmount:C,destroyed:x,unmounted:A,render:V,renderTracked:N,renderTriggered:T,errorCaptured:b,serverPrefetch:_,expose:E,inheritAttrs:P,components:I,directives:R,filters:H}=t;if(u&&GD(u,i,null),o)for(const X in o){const U=o[X];Qe(U)&&(i[X]=U.bind(n))}if(r){const X=r.call(n,n);Nt(X)&&(e.data=ln(X))}if(sv=!0,s)for(const X in s){const U=s[X],B=Qe(U)?U.bind(n,n):Qe(U.get)?U.get.bind(n,n):er,$=!Qe(U)&&Qe(U.set)?U.set.bind(n):er,Y=k({get:B,set:$});Object.defineProperty(i,X,{enumerable:!0,configurable:!0,get:()=>Y.value,set:re=>Y.value=re})}if(a)for(const X in a)rk(a[X],i,n,X);if(l){const X=Qe(l)?l.call(n):l;Reflect.ownKeys(X).forEach(U=>{bt(U,X[U])})}c&&iw(c,e,"c");function W(X,U){We(U)?U.forEach(B=>X(B.bind(n))):U&&X(U.bind(n))}if(W(mp,d),W(dt,h),W(ZI,v),W(vp,g),W(XI,p),W(hp,y),W(UD,b),W($D,N),W(BD,T),W(wn,C),W(No,A),W(ek,_),We(E))if(E.length){const X=e.exposed||(e.exposed={});E.forEach(U=>{Object.defineProperty(X,U,{get:()=>n[U],set:B=>n[U]=B})})}else e.exposed||(e.exposed={});V&&e.render===er&&(e.render=V),P!=null&&(e.inheritAttrs=P),I&&(e.components=I),R&&(e.directives=R),_&&QI(e)}function GD(e,t,n=er){We(e)&&(e=ov(e));for(const i in e){const r=e[i];let s;Nt(r)?"default"in r?s=He(r.from||i,r.default,!0):s=He(r.from||i):s=He(r),Et(s)?Object.defineProperty(t,i,{enumerable:!0,configurable:!0,get:()=>s.value,set:o=>s.value=o}):t[i]=s}}function iw(e,t,n){Fi(We(e)?e.map(i=>i.bind(t.proxy)):e.bind(t.proxy),t,n)}function rk(e,t,n,i){let r=i.includes(".")?gk(n,i):()=>n[i];if(Wt(e)){const s=t[e];Qe(s)&&he(r,s)}else if(Qe(e))he(r,e.bind(n));else if(Nt(e))if(We(e))e.forEach(s=>rk(s,t,n,i));else{const s=Qe(e.handler)?e.handler.bind(n):t[e.handler];Qe(s)&&he(r,s,e)}}function yp(e){const t=e.type,{mixins:n,extends:i}=t,{mixins:r,optionsCache:s,config:{optionMergeStrategies:o}}=e.appContext,a=s.get(t);let l;return a?l=a:!r.length&&!n&&!i?l=t:(l={},r.length&&r.forEach(u=>Vd(l,u,o,!0)),Vd(l,t,o)),Nt(t)&&s.set(t,l),l}function Vd(e,t,n,i=!1){const{mixins:r,extends:s}=t;s&&Vd(e,s,n,!0),r&&r.forEach(o=>Vd(e,o,n,!0));for(const o in t)if(!(i&&o==="expose")){const a=KD[o]||n&&n[o];e[o]=a?a(e[o],t[o]):t[o]}return e}const KD={data:rw,props:sw,emits:sw,methods:Wl,computed:Wl,beforeCreate:Xn,created:Xn,beforeMount:Xn,mounted:Xn,beforeUpdate:Xn,updated:Xn,beforeDestroy:Xn,beforeUnmount:Xn,destroyed:Xn,unmounted:Xn,activated:Xn,deactivated:Xn,errorCaptured:Xn,serverPrefetch:Xn,components:Wl,directives:Wl,watch:QD,provide:rw,inject:YD};function rw(e,t){return t?e?function(){return nn(Qe(e)?e.call(this,this):e,Qe(t)?t.call(this,this):t)}:t:e}function YD(e,t){return Wl(ov(e),ov(t))}function ov(e){if(We(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function Xn(e,t){return e?[...new Set([].concat(e,t))]:t}function Wl(e,t){return e?nn(Object.create(null),e,t):t}function sw(e,t){return e?We(e)&&We(t)?[...new Set([...e,...t])]:nn(Object.create(null),nw(e),nw(t??{})):t}function QD(e,t){if(!e)return t;if(!t)return e;const n=nn(Object.create(null),e);for(const i in t)n[i]=Xn(e[i],t[i]);return n}function sk(){return{app:null,config:{isNativeTag:UV,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let XD=0;function JD(e,t){return function(i,r=null){Qe(i)||(i=nn({},i)),r!=null&&!Nt(r)&&(r=null);const s=sk(),o=new WeakSet,a=[];let l=!1;const u=s.app={_uid:XD++,_component:i,_props:r,_container:null,_context:s,_instance:null,version:RN,get config(){return s.config},set config(c){},use(c,...d){return o.has(c)||(c&&Qe(c.install)?(o.add(c),c.install(u,...d)):Qe(c)&&(o.add(c),c(u,...d))),u},mixin(c){return s.mixins.includes(c)||s.mixins.push(c),u},component(c,d){return d?(s.components[c]=d,u):s.components[c]},directive(c,d){return d?(s.directives[c]=d,u):s.directives[c]},mount(c,d,h){if(!l){const v=u._ceVNode||f(i,r);return v.appContext=s,h===!0?h="svg":h===!1&&(h=void 0),d&&t?t(v,c):e(v,c,h),l=!0,u._container=c,c.__vue_app__=u,Ff(v.component)}},onUnmount(c){a.push(c)},unmount(){l&&(Fi(a,u._instance,16),e(null,u._container),delete u._container.__vue_app__)},provide(c,d){return s.provides[c]=d,u},runWithContext(c){const d=ao;ao=u;try{return c()}finally{ao=d}}};return u}}let ao=null;function bt(e,t){if(gn){let n=gn.provides;const i=gn.parent&&gn.parent.provides;i===n&&(n=gn.provides=Object.create(i)),n[e]=t}}function He(e,t,n=!1){const i=gn||un;if(i||ao){const r=ao?ao._context.provides:i?i.parent==null?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides:void 0;if(r&&e in r)return r[e];if(arguments.length>1)return n&&Qe(t)?t.call(i&&i.proxy):t}}function ZD(){return!!(gn||un||ao)}const ok={},ak=()=>Object.create(ok),lk=e=>Object.getPrototypeOf(e)===ok;function eN(e,t,n,i=!1){const r={},s=ak();e.propsDefaults=Object.create(null),uk(e,t,r,s);for(const o in e.propsOptions[0])o in r||(r[o]=void 0);n?e.props=i?r:DI(r):e.type.props?e.props=r:e.props=s,e.attrs=s}function tN(e,t,n,i){const{props:r,attrs:s,vnode:{patchFlag:o}}=e,a=$e(r),[l]=e.propsOptions;let u=!1;if((i||o>0)&&!(o&16)){if(o&8){const c=e.vnode.dynamicProps;for(let d=0;d<c.length;d++){let h=c[d];if(Mf(e.emitsOptions,h))continue;const v=t[h];if(l)if(St(s,h))v!==s[h]&&(s[h]=v,u=!0);else{const g=hi(h);r[g]=av(l,a,g,v,e,!1)}else v!==s[h]&&(s[h]=v,u=!0)}}}else{uk(e,t,r,s)&&(u=!0);let c;for(const d in a)(!t||!St(t,d)&&((c=Do(d))===d||!St(t,c)))&&(l?n&&(n[d]!==void 0||n[c]!==void 0)&&(r[d]=av(l,a,d,void 0,e,!0)):delete r[d]);if(s!==a)for(const d in s)(!t||!St(t,d))&&(delete s[d],u=!0)}u&&Dr(e.attrs,"set","")}function uk(e,t,n,i){const[r,s]=e.propsOptions;let o=!1,a;if(t)for(let l in t){if(Xl(l))continue;const u=t[l];let c;r&&St(r,c=hi(l))?!s||!s.includes(c)?n[c]=u:(a||(a={}))[c]=u:Mf(e.emitsOptions,l)||(!(l in i)||u!==i[l])&&(i[l]=u,o=!0)}if(s){const l=$e(n),u=a||Rt;for(let c=0;c<s.length;c++){const d=s[c];n[d]=av(r,l,d,u[d],e,!St(u,d))}}return o}function av(e,t,n,i,r,s){const o=e[n];if(o!=null){const a=St(o,"default");if(a&&i===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&Qe(l)){const{propsDefaults:u}=r;if(n in u)i=u[n];else{const c=ic(r);i=u[n]=l.call(null,t),c()}}else i=l;r.ce&&r.ce._setProp(n,i)}o[0]&&(s&&!a?i=!1:o[1]&&(i===""||i===Do(n))&&(i=!0))}return i}const nN=new WeakMap;function ck(e,t,n=!1){const i=n?nN:t.propsCache,r=i.get(e);if(r)return r;const s=e.props,o={},a=[];let l=!1;if(!Qe(e)){const c=d=>{l=!0;const[h,v]=ck(d,t,!0);nn(o,h),v&&a.push(...v)};!n&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}if(!s&&!l)return Nt(e)&&i.set(e,Sa),Sa;if(We(s))for(let c=0;c<s.length;c++){const d=hi(s[c]);ow(d)&&(o[d]=Rt)}else if(s)for(const c in s){const d=hi(c);if(ow(d)){const h=s[c],v=o[d]=We(h)||Qe(h)?{type:h}:nn({},h),g=v.type;let p=!1,y=!0;if(We(g))for(let w=0;w<g.length;++w){const C=g[w],x=Qe(C)&&C.name;if(x==="Boolean"){p=!0;break}else x==="String"&&(y=!1)}else p=Qe(g)&&g.name==="Boolean";v[0]=p,v[1]=y,(p||St(v,"default"))&&a.push(d)}}const u=[o,a];return Nt(e)&&i.set(e,u),u}function ow(e){return e[0]!=="$"&&!Xl(e)}const dk=e=>e[0]==="_"||e==="$stable",_p=e=>We(e)?e.map(Xi):[Xi(e)],iN=(e,t,n)=>{if(t._n)return t;const i=F((...r)=>_p(t(...r)),n);return i._c=!1,i},fk=(e,t,n)=>{const i=e._ctx;for(const r in e){if(dk(r))continue;const s=e[r];if(Qe(s))t[r]=iN(r,s,i);else if(s!=null){const o=_p(s);t[r]=()=>o}}},hk=(e,t)=>{const n=_p(t);e.slots.default=()=>n},mk=(e,t,n)=>{for(const i in t)(n||i!=="_")&&(e[i]=t[i])},rN=(e,t,n)=>{const i=e.slots=ak();if(e.vnode.shapeFlag&32){const r=t._;r?(mk(i,t,n),n&&fI(i,"_",r,!0)):fk(t,i)}else t&&hk(e,t)},sN=(e,t,n)=>{const{vnode:i,slots:r}=e;let s=!0,o=Rt;if(i.shapeFlag&32){const a=t._;a?n&&a===1?s=!1:mk(r,t,n):(s=!t.$stable,fk(t,r)),o=t}else t&&(hk(e,t),o={default:1});if(s)for(const a in r)!dk(a)&&o[a]==null&&delete r[a]},ii=_N;function oN(e){return aN(e)}function aN(e,t){const n=hI();n.__VUE__=!0;const{insert:i,remove:r,patchProp:s,createElement:o,createText:a,createComment:l,setText:u,setElementText:c,parentNode:d,nextSibling:h,setScopeId:v=er,insertStaticContent:g}=e,p=(O,M,G,ie=null,K=null,ue=null,ke=void 0,me=null,Ce=!!M.dynamicChildren)=>{if(O===M)return;O&&!eo(O,M)&&(ie=Q(O),re(O,K,ue,!0),O=null),M.patchFlag===-2&&(Ce=!1,M.dynamicChildren=null);const{type:ve,ref:Le,shapeFlag:Ae}=M;switch(ve){case tc:y(O,M,G,ie);break;case Un:w(O,M,G,ie);break;case fm:O==null&&C(M,G,ie,ke);break;case be:I(O,M,G,ie,K,ue,ke,me,Ce);break;default:Ae&1?V(O,M,G,ie,K,ue,ke,me,Ce):Ae&6?R(O,M,G,ie,K,ue,ke,me,Ce):(Ae&64||Ae&128)&&ve.process(O,M,G,ie,K,ue,ke,me,Ce,fe)}Le!=null&&K&&iv(Le,O&&O.ref,ue,M||O,!M)},y=(O,M,G,ie)=>{if(O==null)i(M.el=a(M.children),G,ie);else{const K=M.el=O.el;M.children!==O.children&&u(K,M.children)}},w=(O,M,G,ie)=>{O==null?i(M.el=l(M.children||""),G,ie):M.el=O.el},C=(O,M,G,ie)=>{[O.el,O.anchor]=g(O.children,M,G,ie,O.el,O.anchor)},x=({el:O,anchor:M},G,ie)=>{let K;for(;O&&O!==M;)K=h(O),i(O,G,ie),O=K;i(M,G,ie)},A=({el:O,anchor:M})=>{let G;for(;O&&O!==M;)G=h(O),r(O),O=G;r(M)},V=(O,M,G,ie,K,ue,ke,me,Ce)=>{M.type==="svg"?ke="svg":M.type==="math"&&(ke="mathml"),O==null?N(M,G,ie,K,ue,ke,me,Ce):_(O,M,K,ue,ke,me,Ce)},N=(O,M,G,ie,K,ue,ke,me)=>{let Ce,ve;const{props:Le,shapeFlag:Ae,transition:Oe,dirs:De}=O;if(Ce=O.el=o(O.type,ue,Le&&Le.is,Le),Ae&8?c(Ce,O.children):Ae&16&&b(O.children,Ce,null,ie,K,cm(O,ue),ke,me),De&&qs(O,null,ie,"created"),T(Ce,O,O.scopeId,ke,ie),Le){for(const yt in Le)yt!=="value"&&!Xl(yt)&&s(Ce,yt,null,Le[yt],ue,ie);"value"in Le&&s(Ce,"value",null,Le.value,ue),(ve=Le.onVnodeBeforeMount)&&Yi(ve,ie,O)}De&&qs(O,null,ie,"beforeMount");const je=lN(K,Oe);je&&Oe.beforeEnter(Ce),i(Ce,M,G),((ve=Le&&Le.onVnodeMounted)||je||De)&&ii(()=>{ve&&Yi(ve,ie,O),je&&Oe.enter(Ce),De&&qs(O,null,ie,"mounted")},K)},T=(O,M,G,ie,K)=>{if(G&&v(O,G),ie)for(let ue=0;ue<ie.length;ue++)v(O,ie[ue]);if(K){let ue=K.subTree;if(M===ue||yk(ue.type)&&(ue.ssContent===M||ue.ssFallback===M)){const ke=K.vnode;T(O,ke,ke.scopeId,ke.slotScopeIds,K.parent)}}},b=(O,M,G,ie,K,ue,ke,me,Ce=0)=>{for(let ve=Ce;ve<O.length;ve++){const Le=O[ve]=me?ls(O[ve]):Xi(O[ve]);p(null,Le,M,G,ie,K,ue,ke,me)}},_=(O,M,G,ie,K,ue,ke)=>{const me=M.el=O.el;let{patchFlag:Ce,dynamicChildren:ve,dirs:Le}=M;Ce|=O.patchFlag&16;const Ae=O.props||Rt,Oe=M.props||Rt;let De;if(G&&Gs(G,!1),(De=Oe.onVnodeBeforeUpdate)&&Yi(De,G,M,O),Le&&qs(M,O,G,"beforeUpdate"),G&&Gs(G,!0),(Ae.innerHTML&&Oe.innerHTML==null||Ae.textContent&&Oe.textContent==null)&&c(me,""),ve?E(O.dynamicChildren,ve,me,G,ie,cm(M,K),ue):ke||U(O,M,me,null,G,ie,cm(M,K),ue,!1),Ce>0){if(Ce&16)P(me,Ae,Oe,G,K);else if(Ce&2&&Ae.class!==Oe.class&&s(me,"class",null,Oe.class,K),Ce&4&&s(me,"style",Ae.style,Oe.style,K),Ce&8){const je=M.dynamicProps;for(let yt=0;yt<je.length;yt++){const mt=je[yt],Rn=Ae[mt],fn=Oe[mt];(fn!==Rn||mt==="value")&&s(me,mt,Rn,fn,K,G)}}Ce&1&&O.children!==M.children&&c(me,M.children)}else!ke&&ve==null&&P(me,Ae,Oe,G,K);((De=Oe.onVnodeUpdated)||Le)&&ii(()=>{De&&Yi(De,G,M,O),Le&&qs(M,O,G,"updated")},ie)},E=(O,M,G,ie,K,ue,ke)=>{for(let me=0;me<M.length;me++){const Ce=O[me],ve=M[me],Le=Ce.el&&(Ce.type===be||!eo(Ce,ve)||Ce.shapeFlag&70)?d(Ce.el):G;p(Ce,ve,Le,null,ie,K,ue,ke,!0)}},P=(O,M,G,ie,K)=>{if(M!==G){if(M!==Rt)for(const ue in M)!Xl(ue)&&!(ue in G)&&s(O,ue,M[ue],null,K,ie);for(const ue in G){if(Xl(ue))continue;const ke=G[ue],me=M[ue];ke!==me&&ue!=="value"&&s(O,ue,me,ke,K,ie)}"value"in G&&s(O,"value",M.value,G.value,K)}},I=(O,M,G,ie,K,ue,ke,me,Ce)=>{const ve=M.el=O?O.el:a(""),Le=M.anchor=O?O.anchor:a("");let{patchFlag:Ae,dynamicChildren:Oe,slotScopeIds:De}=M;De&&(me=me?me.concat(De):De),O==null?(i(ve,G,ie),i(Le,G,ie),b(M.children||[],G,Le,K,ue,ke,me,Ce)):Ae>0&&Ae&64&&Oe&&O.dynamicChildren?(E(O.dynamicChildren,Oe,G,K,ue,ke,me),(M.key!=null||K&&M===K.subTree)&&bp(O,M,!0)):U(O,M,G,Le,K,ue,ke,me,Ce)},R=(O,M,G,ie,K,ue,ke,me,Ce)=>{M.slotScopeIds=me,O==null?M.shapeFlag&512?K.ctx.activate(M,G,ie,ke,Ce):H(M,G,ie,K,ue,ke,Ce):q(O,M,Ce)},H=(O,M,G,ie,K,ue,ke)=>{const me=O.component=IN(O,ie,K);if(Nf(O)&&(me.ctx.renderer=fe),kN(me,!1,ke),me.asyncDep){if(K&&K.registerDep(me,W,ke),!O.el){const Ce=me.subTree=f(Un);w(null,Ce,M,G)}}else W(me,O,M,G,K,ue,ke)},q=(O,M,G)=>{const ie=M.component=O.component;if(pN(O,M,G))if(ie.asyncDep&&!ie.asyncResolved){X(ie,M,G);return}else ie.next=M,ie.update();else M.el=O.el,ie.vnode=M},W=(O,M,G,ie,K,ue,ke)=>{const me=()=>{if(O.isMounted){let{next:Ae,bu:Oe,u:De,parent:je,vnode:yt}=O;{const Vn=vk(O);if(Vn){Ae&&(Ae.el=yt.el,X(O,Ae,ke)),Vn.asyncDep.then(()=>{O.isUnmounted||me()});return}}let mt=Ae,Rn;Gs(O,!1),Ae?(Ae.el=yt.el,X(O,Ae,ke)):Ae=yt,Oe&&hd(Oe),(Rn=Ae.props&&Ae.props.onVnodeBeforeUpdate)&&Yi(Rn,je,Ae,yt),Gs(O,!0);const fn=dm(O),In=O.subTree;O.subTree=fn,p(In,fn,d(In.el),Q(In),O,K,ue),Ae.el=fn.el,mt===null&&yN(O,fn.el),De&&ii(De,K),(Rn=Ae.props&&Ae.props.onVnodeUpdated)&&ii(()=>Yi(Rn,je,Ae,yt),K)}else{let Ae;const{el:Oe,props:De}=M,{bm:je,m:yt,parent:mt,root:Rn,type:fn}=O,In=ka(M);if(Gs(O,!1),je&&hd(je),!In&&(Ae=De&&De.onVnodeBeforeMount)&&Yi(Ae,mt,M),Gs(O,!0),Oe&&Te){const Vn=()=>{O.subTree=dm(O),Te(Oe,O.subTree,O,K,null)};In&&fn.__asyncHydrate?fn.__asyncHydrate(Oe,O,Vn):Vn()}else{Rn.ce&&Rn.ce._injectChildStyle(fn);const Vn=O.subTree=dm(O);p(null,Vn,G,ie,O,K,ue),M.el=Vn.el}if(yt&&ii(yt,K),!In&&(Ae=De&&De.onVnodeMounted)){const Vn=M;ii(()=>Yi(Ae,mt,Vn),K)}(M.shapeFlag&256||mt&&ka(mt.vnode)&&mt.vnode.shapeFlag&256)&&O.a&&ii(O.a,K),O.isMounted=!0,M=G=ie=null}};O.scope.on();const Ce=O.effect=new _I(me);O.scope.off();const ve=O.update=Ce.run.bind(Ce),Le=O.job=Ce.runIfDirty.bind(Ce);Le.i=O,Le.id=O.uid,Ce.scheduler=()=>dp(Le),Gs(O,!0),ve()},X=(O,M,G)=>{M.component=O;const ie=O.vnode.props;O.vnode=M,O.next=null,tN(O,M.props,ie,G),sN(O,M.children,G),Ms(),Xb(O),Ls()},U=(O,M,G,ie,K,ue,ke,me,Ce=!1)=>{const ve=O&&O.children,Le=O?O.shapeFlag:0,Ae=M.children,{patchFlag:Oe,shapeFlag:De}=M;if(Oe>0){if(Oe&128){$(ve,Ae,G,ie,K,ue,ke,me,Ce);return}else if(Oe&256){B(ve,Ae,G,ie,K,ue,ke,me,Ce);return}}De&8?(Le&16&&oe(ve,K,ue),Ae!==ve&&c(G,Ae)):Le&16?De&16?$(ve,Ae,G,ie,K,ue,ke,me,Ce):oe(ve,K,ue,!0):(Le&8&&c(G,""),De&16&&b(Ae,G,ie,K,ue,ke,me,Ce))},B=(O,M,G,ie,K,ue,ke,me,Ce)=>{O=O||Sa,M=M||Sa;const ve=O.length,Le=M.length,Ae=Math.min(ve,Le);let Oe;for(Oe=0;Oe<Ae;Oe++){const De=M[Oe]=Ce?ls(M[Oe]):Xi(M[Oe]);p(O[Oe],De,G,null,K,ue,ke,me,Ce)}ve>Le?oe(O,K,ue,!0,!1,Ae):b(M,G,ie,K,ue,ke,me,Ce,Ae)},$=(O,M,G,ie,K,ue,ke,me,Ce)=>{let ve=0;const Le=M.length;let Ae=O.length-1,Oe=Le-1;for(;ve<=Ae&&ve<=Oe;){const De=O[ve],je=M[ve]=Ce?ls(M[ve]):Xi(M[ve]);if(eo(De,je))p(De,je,G,null,K,ue,ke,me,Ce);else break;ve++}for(;ve<=Ae&&ve<=Oe;){const De=O[Ae],je=M[Oe]=Ce?ls(M[Oe]):Xi(M[Oe]);if(eo(De,je))p(De,je,G,null,K,ue,ke,me,Ce);else break;Ae--,Oe--}if(ve>Ae){if(ve<=Oe){const De=Oe+1,je=De<Le?M[De].el:ie;for(;ve<=Oe;)p(null,M[ve]=Ce?ls(M[ve]):Xi(M[ve]),G,je,K,ue,ke,me,Ce),ve++}}else if(ve>Oe)for(;ve<=Ae;)re(O[ve],K,ue,!0),ve++;else{const De=ve,je=ve,yt=new Map;for(ve=je;ve<=Oe;ve++){const Yn=M[ve]=Ce?ls(M[ve]):Xi(M[ve]);Yn.key!=null&&yt.set(Yn.key,ve)}let mt,Rn=0;const fn=Oe-je+1;let In=!1,Vn=0;const Qr=new Array(fn);for(ve=0;ve<fn;ve++)Qr[ve]=0;for(ve=De;ve<=Ae;ve++){const Yn=O[ve];if(Rn>=fn){re(Yn,K,ue,!0);continue}let wi;if(Yn.key!=null)wi=yt.get(Yn.key);else for(mt=je;mt<=Oe;mt++)if(Qr[mt-je]===0&&eo(Yn,M[mt])){wi=mt;break}wi===void 0?re(Yn,K,ue,!0):(Qr[wi-je]=ve+1,wi>=Vn?Vn=wi:In=!0,p(Yn,M[wi],G,null,K,ue,ke,me,Ce),Rn++)}const Jo=In?uN(Qr):Sa;for(mt=Jo.length-1,ve=fn-1;ve>=0;ve--){const Yn=je+ve,wi=M[Yn],Zo=Yn+1<Le?M[Yn+1].el:ie;Qr[ve]===0?p(null,wi,G,Zo,K,ue,ke,me,Ce):In&&(mt<0||ve!==Jo[mt]?Y(wi,G,Zo,2):mt--)}}},Y=(O,M,G,ie,K=null)=>{const{el:ue,type:ke,transition:me,children:Ce,shapeFlag:ve}=O;if(ve&6){Y(O.component.subTree,M,G,ie);return}if(ve&128){O.suspense.move(M,G,ie);return}if(ve&64){ke.move(O,M,G,fe);return}if(ke===be){i(ue,M,G);for(let Ae=0;Ae<Ce.length;Ae++)Y(Ce[Ae],M,G,ie);i(O.anchor,M,G);return}if(ke===fm){x(O,M,G);return}if(ie!==2&&ve&1&&me)if(ie===0)me.beforeEnter(ue),i(ue,M,G),ii(()=>me.enter(ue),K);else{const{leave:Ae,delayLeave:Oe,afterLeave:De}=me,je=()=>i(ue,M,G),yt=()=>{Ae(ue,()=>{je(),De&&De()})};Oe?Oe(ue,je,yt):yt()}else i(ue,M,G)},re=(O,M,G,ie=!1,K=!1)=>{const{type:ue,props:ke,ref:me,children:Ce,dynamicChildren:ve,shapeFlag:Le,patchFlag:Ae,dirs:Oe,cacheIndex:De}=O;if(Ae===-2&&(K=!1),me!=null&&iv(me,null,G,O,!0),De!=null&&(M.renderCache[De]=void 0),Le&256){M.ctx.deactivate(O);return}const je=Le&1&&Oe,yt=!ka(O);let mt;if(yt&&(mt=ke&&ke.onVnodeBeforeUnmount)&&Yi(mt,M,O),Le&6)Ie(O.component,G,ie);else{if(Le&128){O.suspense.unmount(G,ie);return}je&&qs(O,null,M,"beforeUnmount"),Le&64?O.type.remove(O,M,G,fe,ie):ve&&!ve.hasOnce&&(ue!==be||Ae>0&&Ae&64)?oe(ve,M,G,!1,!0):(ue===be&&Ae&384||!K&&Le&16)&&oe(Ce,M,G),ie&&de(O)}(yt&&(mt=ke&&ke.onVnodeUnmounted)||je)&&ii(()=>{mt&&Yi(mt,M,O),je&&qs(O,null,M,"unmounted")},G)},de=O=>{const{type:M,el:G,anchor:ie,transition:K}=O;if(M===be){we(G,ie);return}if(M===fm){A(O);return}const ue=()=>{r(G),K&&!K.persisted&&K.afterLeave&&K.afterLeave()};if(O.shapeFlag&1&&K&&!K.persisted){const{leave:ke,delayLeave:me}=K,Ce=()=>ke(G,ue);me?me(O.el,ue,Ce):Ce()}else ue()},we=(O,M)=>{let G;for(;O!==M;)G=h(O),r(O),O=G;r(M)},Ie=(O,M,G)=>{const{bum:ie,scope:K,job:ue,subTree:ke,um:me,m:Ce,a:ve}=O;aw(Ce),aw(ve),ie&&hd(ie),K.stop(),ue&&(ue.flags|=8,re(ke,O,M,G)),me&&ii(me,M),ii(()=>{O.isUnmounted=!0},M),M&&M.pendingBranch&&!M.isUnmounted&&O.asyncDep&&!O.asyncResolved&&O.suspenseId===M.pendingId&&(M.deps--,M.deps===0&&M.resolve())},oe=(O,M,G,ie=!1,K=!1,ue=0)=>{for(let ke=ue;ke<O.length;ke++)re(O[ke],M,G,ie,K)},Q=O=>{if(O.shapeFlag&6)return Q(O.component.subTree);if(O.shapeFlag&128)return O.suspense.next();const M=h(O.anchor||O.el),G=M&&M[HI];return G?h(G):M};let le=!1;const pe=(O,M,G)=>{O==null?M._vnode&&re(M._vnode,null,null,!0):p(M._vnode||null,O,M,null,null,null,G),M._vnode=O,le||(le=!0,Xb(),BI(),le=!1)},fe={p,um:re,m:Y,r:de,mt:H,mc:b,pc:U,pbc:E,n:Q,o:e};let ce,Te;return{render:pe,hydrate:ce,createApp:JD(pe,ce)}}function cm({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function Gs({effect:e,job:t},n){n?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function lN(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function bp(e,t,n=!1){const i=e.children,r=t.children;if(We(i)&&We(r))for(let s=0;s<i.length;s++){const o=i[s];let a=r[s];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=r[s]=ls(r[s]),a.el=o.el),!n&&a.patchFlag!==-2&&bp(o,a)),a.type===tc&&(a.el=o.el)}}function uN(e){const t=e.slice(),n=[0];let i,r,s,o,a;const l=e.length;for(i=0;i<l;i++){const u=e[i];if(u!==0){if(r=n[n.length-1],e[r]<u){t[i]=r,n.push(i);continue}for(s=0,o=n.length-1;s<o;)a=s+o>>1,e[n[a]]<u?s=a+1:o=a;u<e[n[s]]&&(s>0&&(t[i]=n[s-1]),n[s]=i)}}for(s=n.length,o=n[s-1];s-- >0;)n[s]=o,o=t[o];return n}function vk(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:vk(t)}function aw(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const cN=Symbol.for("v-scx"),dN=()=>He(cN);function Gt(e,t){return wp(e,null,t)}function he(e,t,n){return wp(e,t,n)}function wp(e,t,n=Rt){const{immediate:i,deep:r,flush:s,once:o}=n,a=nn({},n);let l;if(Lf)if(s==="sync"){const h=dN();l=h.__watcherHandles||(h.__watcherHandles=[])}else if(!t||i)a.once=!0;else{const h=()=>{};return h.stop=er,h.resume=er,h.pause=er,h}const u=gn;a.call=(h,v,g)=>Fi(h,u,v,g);let c=!1;s==="post"?a.scheduler=h=>{ii(h,u&&u.suspense)}:s!=="sync"&&(c=!0,a.scheduler=(h,v)=>{v?h():dp(h)}),a.augmentJob=h=>{t&&(h.flags|=4),c&&(h.flags|=2,u&&(h.id=u.uid,h.i=u))};const d=AD(e,t,a);return l&&l.push(d),d}function fN(e,t,n){const i=this.proxy,r=Wt(e)?e.includes(".")?gk(i,e):()=>i[e]:e.bind(i,i);let s;Qe(t)?s=t:(s=t.handler,n=t);const o=ic(this),a=wp(r,s.bind(i),n);return o(),a}function gk(e,t){const n=t.split(".");return()=>{let i=e;for(let r=0;r<n.length&&i;r++)i=i[n[r]];return i}}const hN=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${hi(t)}Modifiers`]||e[`${Do(t)}Modifiers`];function mN(e,t,...n){if(e.isUnmounted)return;const i=e.vnode.props||Rt;let r=n;const s=t.startsWith("update:"),o=s&&hN(i,t.slice(7));o&&(o.trim&&(r=n.map(c=>Wt(c)?c.trim():c)),o.number&&(r=n.map(Jm)));let a,l=i[a=im(t)]||i[a=im(hi(t))];!l&&s&&(l=i[a=im(Do(t))]),l&&Fi(l,e,6,r);const u=i[a+"Once"];if(u){if(!e.emitted)e.emitted={};else if(e.emitted[a])return;e.emitted[a]=!0,Fi(u,e,6,r)}}function pk(e,t,n=!1){const i=t.emitsCache,r=i.get(e);if(r!==void 0)return r;const s=e.emits;let o={},a=!1;if(!Qe(e)){const l=u=>{const c=pk(u,t,!0);c&&(a=!0,nn(o,c))};!n&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!s&&!a?(Nt(e)&&i.set(e,null),null):(We(s)?s.forEach(l=>o[l]=null):nn(o,s),Nt(e)&&i.set(e,o),o)}function Mf(e,t){return!e||!kf(t)?!1:(t=t.slice(2).replace(/Once$/,""),St(e,t[0].toLowerCase()+t.slice(1))||St(e,Do(t))||St(e,t))}function dm(e){const{type:t,vnode:n,proxy:i,withProxy:r,propsOptions:[s],slots:o,attrs:a,emit:l,render:u,renderCache:c,props:d,data:h,setupState:v,ctx:g,inheritAttrs:p}=e,y=Rd(e);let w,C;try{if(n.shapeFlag&4){const A=r||i,V=A;w=Xi(u.call(V,A,c,d,v,h,g)),C=a}else{const A=t;w=Xi(A.length>1?A(d,{attrs:a,slots:o,emit:l}):A(d,null)),C=t.props?a:vN(a)}}catch(A){tu.length=0,Df(A,e,1),w=f(Un)}let x=w;if(C&&p!==!1){const A=Object.keys(C),{shapeFlag:V}=x;A.length&&V&7&&(s&&A.some(Xg)&&(C=gN(C,s)),x=Mr(x,C,!1,!0))}return n.dirs&&(x=Mr(x,null,!1,!0),x.dirs=x.dirs?x.dirs.concat(n.dirs):n.dirs),n.transition&&go(x,n.transition),w=x,Rd(y),w}const vN=e=>{let t;for(const n in e)(n==="class"||n==="style"||kf(n))&&((t||(t={}))[n]=e[n]);return t},gN=(e,t)=>{const n={};for(const i in e)(!Xg(i)||!(i.slice(9)in t))&&(n[i]=e[i]);return n};function pN(e,t,n){const{props:i,children:r,component:s}=e,{props:o,children:a,patchFlag:l}=t,u=s.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return i?lw(i,o,u):!!o;if(l&8){const c=t.dynamicProps;for(let d=0;d<c.length;d++){const h=c[d];if(o[h]!==i[h]&&!Mf(u,h))return!0}}}else return(r||a)&&(!a||!a.$stable)?!0:i===o?!1:i?o?lw(i,o,u):!0:!!o;return!1}function lw(e,t,n){const i=Object.keys(t);if(i.length!==Object.keys(e).length)return!0;for(let r=0;r<i.length;r++){const s=i[r];if(t[s]!==e[s]&&!Mf(n,s))return!0}return!1}function yN({vnode:e,parent:t},n){for(;t;){const i=t.subTree;if(i.suspense&&i.suspense.activeBranch===e&&(i.el=e.el),i===e)(e=t.vnode).el=n,t=t.parent;else break}}const yk=e=>e.__isSuspense;function _N(e,t){t&&t.pendingBranch?We(e)?t.effects.push(...e):t.effects.push(e):RD(e)}const be=Symbol.for("v-fgt"),tc=Symbol.for("v-txt"),Un=Symbol.for("v-cmt"),fm=Symbol.for("v-stc"),tu=[];let ui=null;function Fe(e=!1){tu.push(ui=e?null:[])}function bN(){tu.pop(),ui=tu[tu.length-1]||null}let wu=1;function uw(e){wu+=e,e<0&&ui&&(ui.hasOnce=!0)}function _k(e){return e.dynamicChildren=wu>0?ui||Sa:null,bN(),wu>0&&ui&&ui.push(e),e}function ei(e,t,n,i,r,s){return _k(kt(e,t,n,i,r,s,!0))}function Je(e,t,n,i,r){return _k(f(e,t,n,i,r,!0))}function Su(e){return e?e.__v_isVNode===!0:!1}function eo(e,t){return e.type===t.type&&e.key===t.key}const bk=({key:e})=>e??null,vd=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?Wt(e)||Et(e)||Qe(e)?{i:un,r:e,k:t,f:!!n}:e:null);function kt(e,t=null,n=null,i=0,r=null,s=e===be?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&bk(t),ref:t&&vd(t),scopeId:UI,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:i,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:un};return a?(Cp(l,n),s&128&&e.normalize(l)):n&&(l.shapeFlag|=Wt(n)?8:16),wu>0&&!o&&ui&&(l.patchFlag>0||s&6)&&l.patchFlag!==32&&ui.push(l),l}const f=wN;function wN(e,t=null,n=null,i=0,r=null,s=!1){if((!e||e===tk)&&(e=Un),Su(e)){const a=Mr(e,t,!0);return n&&Cp(a,n),wu>0&&!s&&ui&&(a.shapeFlag&6?ui[ui.indexOf(e)]=a:ui.push(a)),a.patchFlag=-2,a}if(xN(e)&&(e=e.__vccOpts),t){t=Sp(t);let{class:a,style:l}=t;a&&!Wt(a)&&(t.class=Pf(a)),Nt(l)&&(lp(l)&&!We(l)&&(l=nn({},l)),t.style=Af(l))}const o=Wt(e)?1:yk(e)?128:jI(e)?64:Nt(e)?4:Qe(e)?2:0;return kt(e,t,n,i,r,o,s,!0)}function Sp(e){return e?lp(e)||lk(e)?nn({},e):e:null}function Mr(e,t,n=!1,i=!1){const{props:r,ref:s,patchFlag:o,children:a,transition:l}=e,u=t?J(r||{},t):r,c={__v_isVNode:!0,__v_skip:!0,type:e.type,props:u,key:u&&bk(u),ref:t&&t.ref?n&&s?We(s)?s.concat(vd(t)):[s,vd(t)]:vd(t):s,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:a,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==be?o===-1?16:o|16:o,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:l,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Mr(e.ssContent),ssFallback:e.ssFallback&&Mr(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return l&&i&&go(c,l.clone(c)),c}function Ve(e=" ",t=0){return f(tc,null,e,t)}function an(e="",t=!1){return t?(Fe(),Je(Un,null,e)):f(Un,null,e)}function Xi(e){return e==null||typeof e=="boolean"?f(Un):We(e)?f(be,null,e.slice()):typeof e=="object"?ls(e):f(tc,null,String(e))}function ls(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Mr(e)}function Cp(e,t){let n=0;const{shapeFlag:i}=e;if(t==null)t=null;else if(We(t))n=16;else if(typeof t=="object")if(i&65){const r=t.default;r&&(r._c&&(r._d=!1),Cp(e,r()),r._c&&(r._d=!0));return}else{n=32;const r=t._;!r&&!lk(t)?t._ctx=un:r===3&&un&&(un.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Qe(t)?(t={default:t,_ctx:un},n=32):(t=String(t),i&64?(n=16,t=[Ve(t)]):n=8);e.children=t,e.shapeFlag|=n}function J(...e){const t={};for(let n=0;n<e.length;n++){const i=e[n];for(const r in i)if(r==="class")t.class!==i.class&&(t.class=Pf([t.class,i.class]));else if(r==="style")t.style=Af([t.style,i.style]);else if(kf(r)){const s=t[r],o=i[r];o&&s!==o&&!(We(s)&&s.includes(o))&&(t[r]=s?[].concat(s,o):o)}else r!==""&&(t[r]=i[r])}return t}function Yi(e,t,n,i=null){Fi(e,t,7,[n,i])}const SN=sk();let CN=0;function IN(e,t,n){const i=e.type,r=(t?t.appContext:e.appContext)||SN,s={uid:CN++,vnode:e,type:i,parent:t,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new yI(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(r.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:ck(i,r),emitsOptions:pk(i,r),emit:null,emitted:null,propsDefaults:Rt,inheritAttrs:i.inheritAttrs,ctx:Rt,data:Rt,props:Rt,attrs:Rt,slots:Rt,refs:Rt,setupState:Rt,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=t?t.root:s,s.emit=mN.bind(null,s),e.ce&&e.ce(s),s}let gn=null;const nc=()=>gn||un;let Dd,lv;{const e=hI(),t=(n,i)=>{let r;return(r=e[n])||(r=e[n]=[]),r.push(i),s=>{r.length>1?r.forEach(o=>o(s)):r[0](s)}};Dd=t("__VUE_INSTANCE_SETTERS__",n=>gn=n),lv=t("__VUE_SSR_SETTERS__",n=>Lf=n)}const ic=e=>{const t=gn;return Dd(e),e.scope.on(),()=>{e.scope.off(),Dd(t)}},cw=()=>{gn&&gn.scope.off(),Dd(null)};function wk(e){return e.vnode.shapeFlag&4}let Lf=!1;function kN(e,t=!1,n=!1){t&&lv(t);const{props:i,children:r}=e.vnode,s=wk(e);eN(e,i,s,t),rN(e,r,n);const o=s?EN(e,t):void 0;return t&&lv(!1),o}function EN(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,zD);const{setup:i}=n;if(i){const r=e.setupContext=i.length>1?AN(e):null,s=ic(e);Ms();const o=ec(i,e,0,[e.props,r]);if(Ls(),s(),uI(o)){if(ka(e)||QI(e),o.then(cw,cw),t)return o.then(a=>{dw(e,a,t)}).catch(a=>{Df(a,e,0)});e.asyncDep=o}else dw(e,o,t)}else Sk(e,t)}function dw(e,t,n){Qe(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Nt(t)&&(e.setupState=OI(t)),Sk(e,n)}let fw;function Sk(e,t,n){const i=e.type;if(!e.render){if(!t&&fw&&!i.render){const r=i.template||yp(e).template;if(r){const{isCustomElement:s,compilerOptions:o}=e.appContext.config,{delimiters:a,compilerOptions:l}=i,u=nn(nn({isCustomElement:s,delimiters:a},o),l);i.render=fw(r,u)}}e.render=i.render||er}{const r=ic(e);Ms();try{qD(e)}finally{Ls(),r()}}}const TN={get(e,t){return zn(e,"get",""),e[t]}};function AN(e){const t=n=>{e.exposed=n||{}};return{attrs:new Proxy(e.attrs,TN),slots:e.slots,emit:e.emit,expose:t}}function Ff(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(OI(Vf(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in eu)return eu[n](e)},has(t,n){return n in t||n in eu}})):e.proxy}function PN(e,t=!0){return Qe(e)?e.displayName||e.name:e.name||t&&e.__name}function xN(e){return Qe(e)&&"__vccOpts"in e}const k=(e,t)=>ED(e,t,Lf);function qi(e,t,n){const i=arguments.length;return i===2?Nt(t)&&!We(t)?Su(t)?f(e,null,[t]):f(e,t):f(e,null,t):(i>3?n=Array.prototype.slice.call(arguments,2):i===3&&Su(n)&&(n=[n]),f(e,t,n))}const RN="3.5.7";/**
* @vue/runtime-dom v3.5.7
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let uv;const hw=typeof window<"u"&&window.trustedTypes;if(hw)try{uv=hw.createPolicy("vue",{createHTML:e=>e})}catch{}const Ck=uv?e=>uv.createHTML(e):e=>e,VN="http://www.w3.org/2000/svg",DN="http://www.w3.org/1998/Math/MathML",Er=typeof document<"u"?document:null,mw=Er&&Er.createElement("template"),NN={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,i)=>{const r=t==="svg"?Er.createElementNS(VN,e):t==="mathml"?Er.createElementNS(DN,e):n?Er.createElement(e,{is:n}):Er.createElement(e);return e==="select"&&i&&i.multiple!=null&&r.setAttribute("multiple",i.multiple),r},createText:e=>Er.createTextNode(e),createComment:e=>Er.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Er.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,i,r,s){const o=n?n.previousSibling:t.lastChild;if(r&&(r===s||r.nextSibling))for(;t.insertBefore(r.cloneNode(!0),n),!(r===s||!(r=r.nextSibling)););else{mw.innerHTML=Ck(i==="svg"?`<svg>${e}</svg>`:i==="mathml"?`<math>${e}</math>`:e);const a=mw.content;if(i==="svg"||i==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}t.insertBefore(a,n)}return[o?o.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},ts="transition",Ol="animation",Va=Symbol("_vtc"),Ik={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},kk=nn({},qI,Ik),ON=e=>(e.displayName="Transition",e.props=kk,e),ks=ON((e,{slots:t})=>qi(LD,Ek(e),t)),Ks=(e,t=[])=>{We(e)?e.forEach(n=>n(...t)):e&&e(...t)},vw=e=>e?We(e)?e.some(t=>t.length>1):e.length>1:!1;function Ek(e){const t={};for(const I in e)I in Ik||(t[I]=e[I]);if(e.css===!1)return t;const{name:n="v",type:i,duration:r,enterFromClass:s=`${n}-enter-from`,enterActiveClass:o=`${n}-enter-active`,enterToClass:a=`${n}-enter-to`,appearFromClass:l=s,appearActiveClass:u=o,appearToClass:c=a,leaveFromClass:d=`${n}-leave-from`,leaveActiveClass:h=`${n}-leave-active`,leaveToClass:v=`${n}-leave-to`}=e,g=MN(r),p=g&&g[0],y=g&&g[1],{onBeforeEnter:w,onEnter:C,onEnterCancelled:x,onLeave:A,onLeaveCancelled:V,onBeforeAppear:N=w,onAppear:T=C,onAppearCancelled:b=x}=t,_=(I,R,H)=>{rs(I,R?c:a),rs(I,R?u:o),H&&H()},E=(I,R)=>{I._isLeaving=!1,rs(I,d),rs(I,v),rs(I,h),R&&R()},P=I=>(R,H)=>{const q=I?T:C,W=()=>_(R,I,H);Ks(q,[R,W]),gw(()=>{rs(R,I?l:s),Cr(R,I?c:a),vw(q)||pw(R,i,p,W)})};return nn(t,{onBeforeEnter(I){Ks(w,[I]),Cr(I,s),Cr(I,o)},onBeforeAppear(I){Ks(N,[I]),Cr(I,l),Cr(I,u)},onEnter:P(!1),onAppear:P(!0),onLeave(I,R){I._isLeaving=!0;const H=()=>E(I,R);Cr(I,d),Cr(I,h),Ak(),gw(()=>{I._isLeaving&&(rs(I,d),Cr(I,v),vw(A)||pw(I,i,y,H))}),Ks(A,[I,H])},onEnterCancelled(I){_(I,!1),Ks(x,[I])},onAppearCancelled(I){_(I,!0),Ks(b,[I])},onLeaveCancelled(I){E(I),Ks(V,[I])}})}function MN(e){if(e==null)return null;if(Nt(e))return[hm(e.enter),hm(e.leave)];{const t=hm(e);return[t,t]}}function hm(e){return qV(e)}function Cr(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.add(n)),(e[Va]||(e[Va]=new Set)).add(t)}function rs(e,t){t.split(/\s+/).forEach(i=>i&&e.classList.remove(i));const n=e[Va];n&&(n.delete(t),n.size||(e[Va]=void 0))}function gw(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let LN=0;function pw(e,t,n,i){const r=e._endId=++LN,s=()=>{r===e._endId&&i()};if(n!=null)return setTimeout(s,n);const{type:o,timeout:a,propCount:l}=Tk(e,t);if(!o)return i();const u=o+"end";let c=0;const d=()=>{e.removeEventListener(u,h),s()},h=v=>{v.target===e&&++c>=l&&d()};setTimeout(()=>{c<l&&d()},a+1),e.addEventListener(u,h)}function Tk(e,t){const n=window.getComputedStyle(e),i=g=>(n[g]||"").split(", "),r=i(`${ts}Delay`),s=i(`${ts}Duration`),o=yw(r,s),a=i(`${Ol}Delay`),l=i(`${Ol}Duration`),u=yw(a,l);let c=null,d=0,h=0;t===ts?o>0&&(c=ts,d=o,h=s.length):t===Ol?u>0&&(c=Ol,d=u,h=l.length):(d=Math.max(o,u),c=d>0?o>u?ts:Ol:null,h=c?c===ts?s.length:l.length:0);const v=c===ts&&/\b(transform|all)(,|$)/.test(i(`${ts}Property`).toString());return{type:c,timeout:d,propCount:h,hasTransform:v}}function yw(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((n,i)=>_w(n)+_w(e[i])))}function _w(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}function Ak(){return document.body.offsetHeight}function FN(e,t,n){const i=e[Va];i&&(t=(t?[t,...i]:[...i]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const Nd=Symbol("_vod"),Pk=Symbol("_vsh"),Gi={beforeMount(e,{value:t},{transition:n}){e[Nd]=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):Ml(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:i}){!t!=!n&&(i?t?(i.beforeEnter(e),Ml(e,!0),i.enter(e)):i.leave(e,()=>{Ml(e,!1)}):Ml(e,t))},beforeUnmount(e,{value:t}){Ml(e,t)}};function Ml(e,t){e.style.display=t?e[Nd]:"none",e[Pk]=!t}const BN=Symbol(""),$N=/(^|;)\s*display\s*:/;function UN(e,t,n){const i=e.style,r=Wt(n);let s=!1;if(n&&!r){if(t)if(Wt(t))for(const o of t.split(";")){const a=o.slice(0,o.indexOf(":")).trim();n[a]==null&&gd(i,a,"")}else for(const o in t)n[o]==null&&gd(i,o,"");for(const o in n)o==="display"&&(s=!0),gd(i,o,n[o])}else if(r){if(t!==n){const o=i[BN];o&&(n+=";"+o),i.cssText=n,s=$N.test(n)}}else t&&e.removeAttribute("style");Nd in e&&(e[Nd]=s?i.display:"",e[Pk]&&(i.display="none"))}const bw=/\s*!important$/;function gd(e,t,n){if(We(n))n.forEach(i=>gd(e,t,i));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const i=HN(e,t);bw.test(n)?e.setProperty(Do(i),n.replace(bw,""),"important"):e[i]=n}}const ww=["Webkit","Moz","ms"],mm={};function HN(e,t){const n=mm[t];if(n)return n;let i=hi(t);if(i!=="filter"&&i in e)return mm[t]=i;i=dr(i);for(let r=0;r<ww.length;r++){const s=ww[r]+i;if(s in e)return mm[t]=s}return t}const Sw="http://www.w3.org/1999/xlink";function Cw(e,t,n,i,r,s=JV(t)){i&&t.startsWith("xlink:")?n==null?e.removeAttributeNS(Sw,t.slice(6,t.length)):e.setAttributeNS(Sw,t,n):n==null||s&&!vI(n)?e.removeAttribute(t):e.setAttribute(t,s?"":Os(n)?String(n):n)}function jN(e,t,n,i){if(t==="innerHTML"||t==="textContent"){n!=null&&(e[t]=t==="innerHTML"?Ck(n):n);return}const r=e.tagName;if(t==="value"&&r!=="PROGRESS"&&!r.includes("-")){const o=r==="OPTION"?e.getAttribute("value")||"":e.value,a=n==null?e.type==="checkbox"?"on":"":String(n);(o!==a||!("_value"in e))&&(e.value=a),n==null&&e.removeAttribute(t),e._value=n;return}let s=!1;if(n===""||n==null){const o=typeof e[t];o==="boolean"?n=vI(n):n==null&&o==="string"?(n="",s=!0):o==="number"&&(n=0,s=!0)}try{e[t]=n}catch{}s&&e.removeAttribute(t)}function fa(e,t,n,i){e.addEventListener(t,n,i)}function WN(e,t,n,i){e.removeEventListener(t,n,i)}const Iw=Symbol("_vei");function zN(e,t,n,i,r=null){const s=e[Iw]||(e[Iw]={}),o=s[t];if(i&&o)o.value=i;else{const[a,l]=qN(t);if(i){const u=s[t]=YN(i,r);fa(e,a,u,l)}else o&&(WN(e,a,o,l),s[t]=void 0)}}const kw=/(?:Once|Passive|Capture)$/;function qN(e){let t;if(kw.test(e)){t={};let i;for(;i=e.match(kw);)e=e.slice(0,e.length-i[0].length),t[i[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Do(e.slice(2)),t]}let vm=0;const GN=Promise.resolve(),KN=()=>vm||(GN.then(()=>vm=0),vm=Date.now());function YN(e,t){const n=i=>{if(!i._vts)i._vts=Date.now();else if(i._vts<=n.attached)return;Fi(QN(i,n.value),t,5,[i])};return n.value=e,n.attached=KN(),n}function QN(e,t){if(We(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(i=>r=>!r._stopped&&i&&i(r))}else return t}const Ew=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,XN=(e,t,n,i,r,s)=>{const o=r==="svg";t==="class"?FN(e,i,o):t==="style"?UN(e,n,i):kf(t)?Xg(t)||zN(e,t,n,i,s):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):JN(e,t,i,o))?(jN(e,t,i),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&Cw(e,t,i,o,s,t!=="value")):(t==="true-value"?e._trueValue=i:t==="false-value"&&(e._falseValue=i),Cw(e,t,i,o))};function JN(e,t,n,i){if(i)return!!(t==="innerHTML"||t==="textContent"||t in e&&Ew(t)&&Qe(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const r=e.tagName;if(r==="IMG"||r==="VIDEO"||r==="CANVAS"||r==="SOURCE")return!1}return Ew(t)&&Wt(n)?!1:!!(t in e||e._isVueCE&&(/[A-Z]/.test(t)||!Wt(n)))}const xk=new WeakMap,Rk=new WeakMap,Od=Symbol("_moveCb"),Tw=Symbol("_enterCb"),ZN=e=>(delete e.props.mode,e),eO=ZN({name:"TransitionGroup",props:nn({},kk,{tag:String,moveClass:String}),setup(e,{slots:t}){const n=nc(),i=zI();let r,s;return vp(()=>{if(!r.length)return;const o=e.moveClass||`${e.name||"v"}-move`;if(!rO(r[0].el,n.vnode.el,o))return;r.forEach(tO),r.forEach(nO);const a=r.filter(iO);Ak(),a.forEach(l=>{const u=l.el,c=u.style;Cr(u,o),c.transform=c.webkitTransform=c.transitionDuration="";const d=u[Od]=h=>{h&&h.target!==u||(!h||/transform$/.test(h.propertyName))&&(u.removeEventListener("transitionend",d),u[Od]=null,rs(u,o))};u.addEventListener("transitionend",d)})}),()=>{const o=$e(e),a=Ek(o);let l=o.tag||be;if(r=[],s)for(let u=0;u<s.length;u++){const c=s[u];c.el&&c.el instanceof Element&&(r.push(c),go(c,bu(c,a,i,n)),xk.set(c,c.el.getBoundingClientRect()))}s=t.default?fp(t.default()):[];for(let u=0;u<s.length;u++){const c=s[u];c.key!=null&&go(c,bu(c,a,i,n))}return f(l,null,s)}}}),Ip=eO;function tO(e){const t=e.el;t[Od]&&t[Od](),t[Tw]&&t[Tw]()}function nO(e){Rk.set(e,e.el.getBoundingClientRect())}function iO(e){const t=xk.get(e),n=Rk.get(e),i=t.left-n.left,r=t.top-n.top;if(i||r){const s=e.el.style;return s.transform=s.webkitTransform=`translate(${i}px,${r}px)`,s.transitionDuration="0s",e}}function rO(e,t,n){const i=e.cloneNode(),r=e[Va];r&&r.forEach(a=>{a.split(/\s+/).forEach(l=>l&&i.classList.remove(l))}),n.split(/\s+/).forEach(a=>a&&i.classList.add(a)),i.style.display="none";const s=t.nodeType===1?t:t.parentNode;s.appendChild(i);const{hasTransform:o}=Tk(i);return s.removeChild(i),o}const Aw=e=>{const t=e.props["onUpdate:modelValue"]||!1;return We(t)?n=>hd(t,n):t};function sO(e){e.target.composing=!0}function Pw(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const gm=Symbol("_assign"),oO={created(e,{modifiers:{lazy:t,trim:n,number:i}},r){e[gm]=Aw(r);const s=i||r.props&&r.props.type==="number";fa(e,t?"change":"input",o=>{if(o.target.composing)return;let a=e.value;n&&(a=a.trim()),s&&(a=Jm(a)),e[gm](a)}),n&&fa(e,"change",()=>{e.value=e.value.trim()}),t||(fa(e,"compositionstart",sO),fa(e,"compositionend",Pw),fa(e,"change",Pw))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:n,modifiers:{lazy:i,trim:r,number:s}},o){if(e[gm]=Aw(o),e.composing)return;const a=(s||e.type==="number")&&!/^0\d/.test(e.value)?Jm(e.value):e.value,l=t??"";a!==l&&(document.activeElement===e&&e.type!=="range"&&(i&&t===n||r&&e.value.trim()===l)||(e.value=l))}},aO=["ctrl","shift","alt","meta"],lO={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>aO.some(n=>e[`${n}Key`]&&!t.includes(n))},Md=(e,t)=>{const n=e._withMods||(e._withMods={}),i=t.join(".");return n[i]||(n[i]=(r,...s)=>{for(let o=0;o<t.length;o++){const a=lO[t[o]];if(a&&a(r,t))return}return e(r,...s)})},uO=nn({patchProp:XN},NN);let xw;function Vk(){return xw||(xw=oN(uO))}const Dk=(...e)=>{Vk().render(...e)},cO=(...e)=>{const t=Vk().createApp(...e),{mount:n}=t;return t.mount=i=>{const r=fO(i);if(!r)return;const s=t._component;!Qe(s)&&!s.render&&!s.template&&(s.template=r.innerHTML),r.nodeType===1&&(r.textContent="");const o=n(r,!1,dO(r));return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),o},t};function dO(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function fO(e){return Wt(e)?document.querySelector(e):e}var hO=!1;/*!
 * pinia v2.2.2
 * (c) 2024 Eduardo San Martin Morote
 * @license MIT
 */let Nk;const Bf=e=>Nk=e,Ok=Symbol();function cv(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var nu;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(nu||(nu={}));function mO(){const e=Qa(!0),t=e.run(()=>j({}));let n=[],i=[];const r=Vf({install(s){Bf(r),r._a=s,s.provide(Ok,r),s.config.globalProperties.$pinia=r,i.forEach(o=>n.push(o)),i=[]},use(s){return!this._a&&!hO?i.push(s):n.push(s),this},_p:n,_a:null,_e:e,_s:new Map,state:t});return r}const Mk=()=>{};function Rw(e,t,n,i=Mk){e.push(t);const r=()=>{const s=e.indexOf(t);s>-1&&(e.splice(s,1),i())};return!n&&ep()&&_n(r),r}function sa(e,...t){e.slice().forEach(n=>{n(...t)})}const vO=e=>e(),Vw=Symbol(),pm=Symbol();function dv(e,t){e instanceof Map&&t instanceof Map?t.forEach((n,i)=>e.set(i,n)):e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const n in t){if(!t.hasOwnProperty(n))continue;const i=t[n],r=e[n];cv(r)&&cv(i)&&e.hasOwnProperty(n)&&!Et(i)&&!ys(i)?e[n]=dv(r,i):e[n]=i}return e}const gO=Symbol();function pO(e){return!cv(e)||!e.hasOwnProperty(gO)}const{assign:ss}=Object;function yO(e){return!!(Et(e)&&e.effect)}function _O(e,t,n,i){const{state:r,actions:s,getters:o}=t,a=n.state.value[e];let l;function u(){a||(n.state.value[e]=r?r():{});const c=Wr(n.state.value[e]);return ss(c,s,Object.keys(o||{}).reduce((d,h)=>(d[h]=Vf(k(()=>{Bf(n);const v=n._s.get(e);return o[h].call(v,v)})),d),{}))}return l=Lk(e,u,t,n,i,!0),l}function Lk(e,t,n={},i,r,s){let o;const a=ss({actions:{}},n),l={deep:!0};let u,c,d=[],h=[],v;const g=i.state.value[e];!s&&!g&&(i.state.value[e]={}),j({});let p;function y(b){let _;u=c=!1,typeof b=="function"?(b(i.state.value[e]),_={type:nu.patchFunction,storeId:e,events:v}):(dv(i.state.value[e],b),_={type:nu.patchObject,payload:b,storeId:e,events:v});const E=p=Symbol();tt().then(()=>{p===E&&(u=!0)}),c=!0,sa(d,_,i.state.value[e])}const w=s?function(){const{state:_}=n,E=_?_():{};this.$patch(P=>{ss(P,E)})}:Mk;function C(){o.stop(),d=[],h=[],i._s.delete(e)}const x=(b,_="")=>{if(Vw in b)return b[pm]=_,b;const E=function(){Bf(i);const P=Array.from(arguments),I=[],R=[];function H(X){I.push(X)}function q(X){R.push(X)}sa(h,{args:P,name:E[pm],store:V,after:H,onError:q});let W;try{W=b.apply(this&&this.$id===e?this:V,P)}catch(X){throw sa(R,X),X}return W instanceof Promise?W.then(X=>(sa(I,X),X)).catch(X=>(sa(R,X),Promise.reject(X))):(sa(I,W),W)};return E[Vw]=!0,E[pm]=_,E},A={_p:i,$id:e,$onAction:Rw.bind(null,h),$patch:y,$reset:w,$subscribe(b,_={}){const E=Rw(d,b,_.detached,()=>P()),P=o.run(()=>he(()=>i.state.value[e],I=>{(_.flush==="sync"?c:u)&&b({storeId:e,type:nu.direct,events:v},I)},ss({},l,_)));return E},$dispose:C},V=ln(A);i._s.set(e,V);const T=(i._a&&i._a.runWithContext||vO)(()=>i._e.run(()=>(o=Qa()).run(()=>t({action:x}))));for(const b in T){const _=T[b];if(Et(_)&&!yO(_)||ys(_))s||(g&&pO(_)&&(Et(_)?_.value=g[b]:dv(_,g[b])),i.state.value[e][b]=_);else if(typeof _=="function"){const E=x(_,b);T[b]=E,a.actions[b]=_}}return ss(V,T),ss($e(V),T),Object.defineProperty(V,"$state",{get:()=>i.state.value[e],set:b=>{y(_=>{ss(_,b)})}}),i._p.forEach(b=>{ss(V,o.run(()=>b({store:V,app:i._a,pinia:i,options:a})))}),g&&s&&n.hydrate&&n.hydrate(V.$state,g),u=!0,c=!0,V}function bO(e,t,n){let i,r;const s=typeof t=="function";i=e,r=s?n:t;function o(a,l){const u=ZD();return a=a||(u?He(Ok,null):null),a&&Bf(a),a=Nk,a._s.has(i)||(s?Lk(i,t,r,a):_O(i,r,a)),a._s.get(i)}return o.$id=i,o}function ti(e,t){let n;function i(){n=Qa(),n.run(()=>t.length?t(()=>{n==null||n.stop(),i()}):t())}he(e,r=>{r&&!n?i():r||(n==null||n.stop(),n=void 0)},{immediate:!0}),_n(()=>{n==null||n.stop()})}const ht=typeof window<"u",kp=ht&&"IntersectionObserver"in window,wO=ht&&("ontouchstart"in window||window.navigator.maxTouchPoints>0),Dw=ht&&"EyeDropper"in window;function Nw(e,t,n){SO(e,t),t.set(e,n)}function SO(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function CO(e,t,n){return e.set(Fk(e,t),n),n}function Ys(e,t){return e.get(Fk(e,t))}function Fk(e,t,n){if(typeof e=="function"?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")}function Bk(e,t,n){const i=t.length-1;if(i<0)return e===void 0?n:e;for(let r=0;r<i;r++){if(e==null)return n;e=e[t[r]]}return e==null||e[t[i]]===void 0?n:e[t[i]]}function fr(e,t){if(e===t)return!0;if(e instanceof Date&&t instanceof Date&&e.getTime()!==t.getTime()||e!==Object(e)||t!==Object(t))return!1;const n=Object.keys(e);return n.length!==Object.keys(t).length?!1:n.every(i=>fr(e[i],t[i]))}function po(e,t,n){return e==null||!t||typeof t!="string"?n:e[t]!==void 0?e[t]:(t=t.replace(/\[(\w+)\]/g,".$1"),t=t.replace(/^\./,""),Bk(e,t.split("."),n))}function Qt(e,t,n){if(t===!0)return e===void 0?n:e;if(t==null||typeof t=="boolean")return n;if(e!==Object(e)){if(typeof t!="function")return n;const r=t(e,n);return typeof r>"u"?n:r}if(typeof t=="string")return po(e,t,n);if(Array.isArray(t))return Bk(e,t,n);if(typeof t!="function")return n;const i=t(e,n);return typeof i>"u"?n:i}function ci(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return Array.from({length:e},(n,i)=>t+i)}function Se(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"px";if(!(e==null||e===""))return isNaN(+e)?String(e):isFinite(+e)?`${Number(e)}${t}`:void 0}function Ep(e){return e!==null&&typeof e=="object"&&!Array.isArray(e)}function Ow(e){let t;return e!==null&&typeof e=="object"&&((t=Object.getPrototypeOf(e))===Object.prototype||t===null)}function Tp(e){if(e&&"$el"in e){const t=e.$el;return(t==null?void 0:t.nodeType)===Node.TEXT_NODE?t.nextElementSibling:t}return e}const Mw=Object.freeze({enter:13,tab:9,delete:46,esc:27,space:32,up:38,down:40,left:37,right:39,end:35,home:36,del:46,backspace:8,insert:45,pageup:33,pagedown:34,shift:16}),fv=Object.freeze({enter:"Enter",tab:"Tab",delete:"Delete",esc:"Escape",space:"Space",up:"ArrowUp",down:"ArrowDown",left:"ArrowLeft",right:"ArrowRight",end:"End",home:"Home",del:"Delete",backspace:"Backspace",insert:"Insert",pageup:"PageUp",pagedown:"PageDown",shift:"Shift"});function $k(e){return Object.keys(e)}function to(e,t){return t.every(n=>e.hasOwnProperty(n))}function Ap(e,t){const n={},i=new Set(Object.keys(e));for(const r of t)i.has(r)&&(n[r]=e[r]);return n}function hv(e,t,n){const i=Object.create(null),r=Object.create(null);for(const s in e)t.some(o=>o instanceof RegExp?o.test(s):o===s)&&!(n!=null&&n.some(o=>o===s))?i[s]=e[s]:r[s]=e[s];return[i,r]}function pt(e,t){const n={...e};return t.forEach(i=>delete n[i]),n}function $f(e,t){const n={};return t.forEach(i=>n[i]=e[i]),n}const Uk=/^on[^a-z]/,Uf=e=>Uk.test(e),IO=["onAfterscriptexecute","onAnimationcancel","onAnimationend","onAnimationiteration","onAnimationstart","onAuxclick","onBeforeinput","onBeforescriptexecute","onChange","onClick","onCompositionend","onCompositionstart","onCompositionupdate","onContextmenu","onCopy","onCut","onDblclick","onFocusin","onFocusout","onFullscreenchange","onFullscreenerror","onGesturechange","onGestureend","onGesturestart","onGotpointercapture","onInput","onKeydown","onKeypress","onKeyup","onLostpointercapture","onMousedown","onMousemove","onMouseout","onMouseover","onMouseup","onMousewheel","onPaste","onPointercancel","onPointerdown","onPointerenter","onPointerleave","onPointermove","onPointerout","onPointerover","onPointerup","onReset","onSelect","onSubmit","onTouchcancel","onTouchend","onTouchmove","onTouchstart","onTransitioncancel","onTransitionend","onTransitionrun","onTransitionstart","onWheel"],kO=["ArrowUp","ArrowDown","ArrowRight","ArrowLeft","Enter","Escape","Tab"," "];function EO(e){return e.isComposing&&kO.includes(e.key)}function Fs(e){const[t,n]=hv(e,[Uk]),i=pt(t,IO),[r,s]=hv(n,["class","style","id",/^data-/]);return Object.assign(r,t),Object.assign(s,i),[r,s]}function Dt(e){return e==null?[]:Array.isArray(e)?e:[e]}function TO(e,t){let n=0;const i=function(){for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];clearTimeout(n),n=setTimeout(()=>e(...s),qe(t))};return i.clear=()=>{clearTimeout(n)},i.immediate=e,i}function Ut(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;return Math.max(t,Math.min(n,e))}function Ld(e){const t=e.toString().trim();return t.includes(".")?t.length-t.indexOf(".")-1:0}function Lw(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"0";return e+n.repeat(Math.max(0,t-e.length))}function Fw(e,t){return(arguments.length>2&&arguments[2]!==void 0?arguments[2]:"0").repeat(Math.max(0,t-e.length))+e}function AO(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;const n=[];let i=0;for(;i<e.length;)n.push(e.substr(i,t)),i+=t;return n}function PO(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return Array.from({length:Math.ceil(e.length/t)},(n,i)=>e.slice(i*t,i*t+t))}function Bw(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e3;if(e<t)return`${e} B`;const n=t===1024?["Ki","Mi","Gi"]:["k","M","G"];let i=-1;for(;Math.abs(e)>=t&&i<n.length-1;)e/=t,++i;return`${e.toFixed(1)} ${n[i]}B`}function Hn(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;const i={};for(const r in e)i[r]=e[r];for(const r in t){const s=e[r],o=t[r];if(Ow(s)&&Ow(o)){i[r]=Hn(s,o,n);continue}if(n&&Array.isArray(s)&&Array.isArray(o)){i[r]=n(s,o);continue}i[r]=o}return i}function Hk(e){return e.map(t=>t.type===be?Hk(t.children):t).flat()}function lo(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";if(lo.cache.has(e))return lo.cache.get(e);const t=e.replace(/[^a-z]/gi,"-").replace(/\B([A-Z])/g,"-$1").toLowerCase();return lo.cache.set(e,t),t}lo.cache=new Map;function pa(e,t){if(!t||typeof t!="object")return[];if(Array.isArray(t))return t.map(n=>pa(e,n)).flat(1);if(t.suspense)return pa(e,t.ssContent);if(Array.isArray(t.children))return t.children.map(n=>pa(e,n)).flat(1);if(t.component){if(Object.getOwnPropertySymbols(t.component.provides).includes(e))return[t.component];if(t.component.subTree)return pa(e,t.component.subTree).flat(1)}return[]}var Yc=new WeakMap,oa=new WeakMap;class xO{constructor(t){Nw(this,Yc,[]),Nw(this,oa,0),this.size=t}push(t){Ys(Yc,this)[Ys(oa,this)]=t,CO(oa,this,(Ys(oa,this)+1)%this.size)}values(){return Ys(Yc,this).slice(Ys(oa,this)).concat(Ys(Yc,this).slice(0,Ys(oa,this)))}}function RO(e){return"touches"in e?{clientX:e.touches[0].clientX,clientY:e.touches[0].clientY}:{clientX:e.clientX,clientY:e.clientY}}function Pp(e){const t=ln({}),n=k(e);return Gt(()=>{for(const i in n.value)t[i]=n.value[i]},{flush:"sync"}),Wr(t)}function Fd(e,t){return e.includes(t)}function jk(e){return e[2].toLowerCase()+e.slice(3)}const cn=()=>[Function,Array];function $w(e,t){return t="on"+dr(t),!!(e[t]||e[`${t}Once`]||e[`${t}Capture`]||e[`${t}OnceCapture`]||e[`${t}CaptureOnce`])}function xp(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(Array.isArray(e))for(const r of e)r(...n);else typeof e=="function"&&e(...n)}function Cu(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const n=["button","[href]",'input:not([type="hidden"])',"select","textarea","[tabindex]"].map(i=>`${i}${t?':not([tabindex="-1"])':""}:not([disabled])`).join(", ");return[...e.querySelectorAll(n)]}function Wk(e,t,n){let i,r=e.indexOf(document.activeElement);const s=t==="next"?1:-1;do r+=s,i=e[r];while((!i||i.offsetParent==null||!((n==null?void 0:n(i))??!0))&&r<e.length&&r>=0);return i}function uo(e,t){var i,r,s,o;const n=Cu(e);if(!t)(e===document.activeElement||!e.contains(document.activeElement))&&((i=n[0])==null||i.focus());else if(t==="first")(r=n[0])==null||r.focus();else if(t==="last")(s=n.at(-1))==null||s.focus();else if(typeof t=="number")(o=n[t])==null||o.focus();else{const a=Wk(n,t);a?a.focus():uo(e,t==="next"?"first":"last")}}function Qc(e){return e==null||typeof e=="string"&&e.trim()===""}function zk(){}function Da(e,t){if(!(ht&&typeof CSS<"u"&&typeof CSS.supports<"u"&&CSS.supports(`selector(${t})`)))return null;try{return!!e&&e.matches(t)}catch{return null}}function Hf(e){return e.some(t=>Su(t)?t.type===Un?!1:t.type!==be||Hf(t.children):!0)?e:null}function VO(e,t){if(!ht||e===0)return t(),()=>{};const n=window.setTimeout(t,e);return()=>window.clearTimeout(n)}function DO(e,t){const n=e.clientX,i=e.clientY,r=t.getBoundingClientRect(),s=r.left,o=r.top,a=r.right,l=r.bottom;return n>=s&&n<=a&&i>=o&&i<=l}function Bd(){const e=ye(),t=n=>{e.value=n};return Object.defineProperty(t,"value",{enumerable:!0,get:()=>e.value,set:n=>e.value=n}),Object.defineProperty(t,"el",{enumerable:!0,get:()=>Tp(e.value)}),t}function $d(e){const t=e.key.length===1,n=!e.ctrlKey&&!e.metaKey&&!e.altKey;return t&&n}const qk=["top","bottom"],NO=["start","end","left","right"];function mv(e,t){let[n,i]=e.split(" ");return i||(i=Fd(qk,n)?"start":Fd(NO,n)?"top":"center"),{side:vv(n,t),align:vv(i,t)}}function vv(e,t){return e==="start"?t?"right":"left":e==="end"?t?"left":"right":e}function ym(e){return{side:{center:"center",top:"bottom",bottom:"top",left:"right",right:"left"}[e.side],align:e.align}}function _m(e){return{side:e.side,align:{center:"center",top:"bottom",bottom:"top",left:"right",right:"left"}[e.align]}}function Uw(e){return{side:e.align,align:e.side}}function Hw(e){return Fd(qk,e.side)?"y":"x"}class co{constructor(t){let{x:n,y:i,width:r,height:s}=t;this.x=n,this.y=i,this.width=r,this.height=s}get top(){return this.y}get bottom(){return this.y+this.height}get left(){return this.x}get right(){return this.x+this.width}}function jw(e,t){return{x:{before:Math.max(0,t.left-e.left),after:Math.max(0,e.right-t.right)},y:{before:Math.max(0,t.top-e.top),after:Math.max(0,e.bottom-t.bottom)}}}function Gk(e){return Array.isArray(e)?new co({x:e[0],y:e[1],width:0,height:0}):e.getBoundingClientRect()}function Rp(e){const t=e.getBoundingClientRect(),n=getComputedStyle(e),i=n.transform;if(i){let r,s,o,a,l;if(i.startsWith("matrix3d("))r=i.slice(9,-1).split(/, /),s=+r[0],o=+r[5],a=+r[12],l=+r[13];else if(i.startsWith("matrix("))r=i.slice(7,-1).split(/, /),s=+r[0],o=+r[3],a=+r[4],l=+r[5];else return new co(t);const u=n.transformOrigin,c=t.x-a-(1-s)*parseFloat(u),d=t.y-l-(1-o)*parseFloat(u.slice(u.indexOf(" ")+1)),h=s?t.width/s:e.offsetWidth+1,v=o?t.height/o:e.offsetHeight+1;return new co({x:c,y:d,width:h,height:v})}else return new co(t)}function no(e,t,n){if(typeof e.animate>"u")return{finished:Promise.resolve()};let i;try{i=e.animate(t,n)}catch{return{finished:Promise.resolve()}}return typeof i.finished>"u"&&(i.finished=new Promise(r=>{i.onfinish=()=>{r(i)}})),i}const pd=new WeakMap;function OO(e,t){Object.keys(t).forEach(n=>{if(Uf(n)){const i=jk(n),r=pd.get(e);if(t[n]==null)r==null||r.forEach(s=>{const[o,a]=s;o===i&&(e.removeEventListener(i,a),r.delete(s))});else if(!r||![...r].some(s=>s[0]===i&&s[1]===t[n])){e.addEventListener(i,t[n]);const s=r||new Set;s.add([i,t[n]]),pd.has(e)||pd.set(e,s)}}else t[n]==null?e.removeAttribute(n):e.setAttribute(n,t[n])})}function MO(e,t){Object.keys(t).forEach(n=>{if(Uf(n)){const i=jk(n),r=pd.get(e);r==null||r.forEach(s=>{const[o,a]=s;o===i&&(e.removeEventListener(i,a),r.delete(s))})}else e.removeAttribute(n)})}const aa=2.4,Ww=.2126729,zw=.7151522,qw=.072175,LO=.55,FO=.58,BO=.57,$O=.62,Xc=.03,Gw=1.45,UO=5e-4,HO=1.25,jO=1.25,Kw=.078,Yw=12.82051282051282,Jc=.06,Qw=.001;function Xw(e,t){const n=(e.r/255)**aa,i=(e.g/255)**aa,r=(e.b/255)**aa,s=(t.r/255)**aa,o=(t.g/255)**aa,a=(t.b/255)**aa;let l=n*Ww+i*zw+r*qw,u=s*Ww+o*zw+a*qw;if(l<=Xc&&(l+=(Xc-l)**Gw),u<=Xc&&(u+=(Xc-u)**Gw),Math.abs(u-l)<UO)return 0;let c;if(u>l){const d=(u**LO-l**FO)*HO;c=d<Qw?0:d<Kw?d-d*Yw*Jc:d-Jc}else{const d=(u**$O-l**BO)*jO;c=d>-Qw?0:d>-Kw?d-d*Yw*Jc:d+Jc}return c*100}function WO(e,t){t=Array.isArray(t)?t.slice(0,-1).map(n=>`'${n}'`).join(", ")+` or '${t.at(-1)}'`:`'${t}'`}const Ud=.20689655172413793,zO=e=>e>Ud**3?Math.cbrt(e):e/(3*Ud**2)+4/29,qO=e=>e>Ud?e**3:3*Ud**2*(e-4/29);function Kk(e){const t=zO,n=t(e[1]);return[116*n-16,500*(t(e[0]/.95047)-n),200*(n-t(e[2]/1.08883))]}function Yk(e){const t=qO,n=(e[0]+16)/116;return[t(n+e[1]/500)*.95047,t(n),t(n-e[2]/200)*1.08883]}const GO=[[3.2406,-1.5372,-.4986],[-.9689,1.8758,.0415],[.0557,-.204,1.057]],KO=e=>e<=.0031308?e*12.92:1.055*e**(1/2.4)-.055,YO=[[.4124,.3576,.1805],[.2126,.7152,.0722],[.0193,.1192,.9505]],QO=e=>e<=.04045?e/12.92:((e+.055)/1.055)**2.4;function Qk(e){const t=Array(3),n=KO,i=GO;for(let r=0;r<3;++r)t[r]=Math.round(Ut(n(i[r][0]*e[0]+i[r][1]*e[1]+i[r][2]*e[2]))*255);return{r:t[0],g:t[1],b:t[2]}}function Vp(e){let{r:t,g:n,b:i}=e;const r=[0,0,0],s=QO,o=YO;t=s(t/255),n=s(n/255),i=s(i/255);for(let a=0;a<3;++a)r[a]=o[a][0]*t+o[a][1]*n+o[a][2]*i;return r}function gv(e){return!!e&&/^(#|var\(--|(rgb|hsl)a?\()/.test(e)}function XO(e){return gv(e)&&!/^((rgb|hsl)a?\()?var\(--/.test(e)}const Jw=/^(?<fn>(?:rgb|hsl)a?)\((?<values>.+)\)/,JO={rgb:(e,t,n,i)=>({r:e,g:t,b:n,a:i}),rgba:(e,t,n,i)=>({r:e,g:t,b:n,a:i}),hsl:(e,t,n,i)=>Zw({h:e,s:t,l:n,a:i}),hsla:(e,t,n,i)=>Zw({h:e,s:t,l:n,a:i}),hsv:(e,t,n,i)=>Lr({h:e,s:t,v:n,a:i}),hsva:(e,t,n,i)=>Lr({h:e,s:t,v:n,a:i})};function Ii(e){if(typeof e=="number")return{r:(e&16711680)>>16,g:(e&65280)>>8,b:e&255};if(typeof e=="string"&&Jw.test(e)){const{groups:t}=e.match(Jw),{fn:n,values:i}=t,r=i.split(/,\s*/).map(s=>s.endsWith("%")&&["hsl","hsla","hsv","hsva"].includes(n)?parseFloat(s)/100:parseFloat(s));return JO[n](...r)}else if(typeof e=="string"){let t=e.startsWith("#")?e.slice(1):e;return[3,4].includes(t.length)?t=t.split("").map(n=>n+n).join(""):[6,8].includes(t.length),tE(t)}else if(typeof e=="object"){if(to(e,["r","g","b"]))return e;if(to(e,["h","s","l"]))return Lr(Dp(e));if(to(e,["h","s","v"]))return Lr(e)}throw new TypeError(`Invalid color: ${e==null?e:String(e)||e.constructor.name}
Expected #hex, #hexa, rgb(), rgba(), hsl(), hsla(), object or number`)}function Lr(e){const{h:t,s:n,v:i,a:r}=e,s=a=>{const l=(a+t/60)%6;return i-i*n*Math.max(Math.min(l,4-l,1),0)},o=[s(5),s(3),s(1)].map(a=>Math.round(a*255));return{r:o[0],g:o[1],b:o[2],a:r}}function Zw(e){return Lr(Dp(e))}function jf(e){if(!e)return{h:0,s:1,v:1,a:1};const t=e.r/255,n=e.g/255,i=e.b/255,r=Math.max(t,n,i),s=Math.min(t,n,i);let o=0;r!==s&&(r===t?o=60*(0+(n-i)/(r-s)):r===n?o=60*(2+(i-t)/(r-s)):r===i&&(o=60*(4+(t-n)/(r-s)))),o<0&&(o=o+360);const a=r===0?0:(r-s)/r,l=[o,a,r];return{h:l[0],s:l[1],v:l[2],a:e.a}}function Xk(e){const{h:t,s:n,v:i,a:r}=e,s=i-i*n/2,o=s===1||s===0?0:(i-s)/Math.min(s,1-s);return{h:t,s:o,l:s,a:r}}function Dp(e){const{h:t,s:n,l:i,a:r}=e,s=i+n*Math.min(i,1-i),o=s===0?0:2-2*i/s;return{h:t,s:o,v:s,a:r}}function Jk(e){let{r:t,g:n,b:i,a:r}=e;return r===void 0?`rgb(${t}, ${n}, ${i})`:`rgba(${t}, ${n}, ${i}, ${r})`}function Zk(e){return Jk(Lr(e))}function Zc(e){const t=Math.round(e).toString(16);return("00".substr(0,2-t.length)+t).toUpperCase()}function eE(e){let{r:t,g:n,b:i,a:r}=e;return`#${[Zc(t),Zc(n),Zc(i),r!==void 0?Zc(Math.round(r*255)):""].join("")}`}function tE(e){e=ZO(e);let[t,n,i,r]=AO(e,2).map(s=>parseInt(s,16));return r=r===void 0?r:r/255,{r:t,g:n,b:i,a:r}}function nE(e){const t=tE(e);return jf(t)}function iE(e){return eE(Lr(e))}function ZO(e){return e.startsWith("#")&&(e=e.slice(1)),e=e.replace(/([^0-9a-f])/gi,"F"),(e.length===3||e.length===4)&&(e=e.split("").map(t=>t+t).join("")),e.length!==6&&(e=Lw(Lw(e,6),8,"F")),e}function eM(e,t){const n=Kk(Vp(e));return n[0]=n[0]+t*10,Qk(Yk(n))}function tM(e,t){const n=Kk(Vp(e));return n[0]=n[0]-t*10,Qk(Yk(n))}function pv(e){const t=Ii(e);return Vp(t)[1]}function nM(e,t){const n=pv(e),i=pv(t),r=Math.max(n,i),s=Math.min(n,i);return(r+.05)/(s+.05)}function rE(e){const t=Math.abs(Xw(Ii(0),Ii(e)));return Math.abs(Xw(Ii(16777215),Ii(e)))>Math.min(t,50)?"#fff":"#000"}function z(e,t){return n=>Object.keys(e).reduce((i,r)=>{const o=typeof e[r]=="object"&&e[r]!=null&&!Array.isArray(e[r])?e[r]:{type:e[r]};return n&&r in n?i[r]={...o,default:n[r]}:i[r]=o,t&&!i[r].source&&(i[r].source=t),i},{})}const Ee=z({class:[String,Array,Object],style:{type:[String,Array,Object],default:null}},"component");function zt(e,t){const n=nc();if(!n)throw new Error(`[Vuetify] ${e} must be called from inside a setup function`);return n}function hr(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"composables";const t=zt(e).type;return lo((t==null?void 0:t.aliasName)||(t==null?void 0:t.name))}let sE=0,yd=new WeakMap;function Sn(){const e=zt("getUid");if(yd.has(e))return yd.get(e);{const t=sE++;return yd.set(e,t),t}}Sn.reset=()=>{sE=0,yd=new WeakMap};function iM(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:zt("injectSelf");const{provides:n}=t;if(n&&e in n)return n[e]}const Na=Symbol.for("vuetify:defaults");function rM(e){return j(e)}function Np(){const e=He(Na);if(!e)throw new Error("[Vuetify] Could not find defaults instance");return e}function Ot(e,t){const n=Np(),i=j(e),r=k(()=>{if(qe(t==null?void 0:t.disabled))return n.value;const o=qe(t==null?void 0:t.scoped),a=qe(t==null?void 0:t.reset),l=qe(t==null?void 0:t.root);if(i.value==null&&!(o||a||l))return n.value;let u=Hn(i.value,{prev:n.value});if(o)return u;if(a||l){const c=Number(a||1/0);for(let d=0;d<=c&&!(!u||!("prev"in u));d++)u=u.prev;return u&&typeof l=="string"&&l in u&&(u=Hn(Hn(u,{prev:u}),u[l])),u}return u.prev?Hn(u.prev,u):u});return bt(Na,r),r}function sM(e,t){var n,i;return typeof((n=e.props)==null?void 0:n[t])<"u"||typeof((i=e.props)==null?void 0:i[lo(t)])<"u"}function oM(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Np();const i=zt("useDefaults");if(t=t??i.type.name??i.type.__name,!t)throw new Error("[Vuetify] Could not determine component name");const r=k(()=>{var l;return(l=n.value)==null?void 0:l[e._as??t]}),s=new Proxy(e,{get(l,u){var d,h,v,g,p,y,w;const c=Reflect.get(l,u);return u==="class"||u==="style"?[(d=r.value)==null?void 0:d[u],c].filter(C=>C!=null):typeof u=="string"&&!sM(i.vnode,u)?((h=r.value)==null?void 0:h[u])!==void 0?(v=r.value)==null?void 0:v[u]:((p=(g=n.value)==null?void 0:g.global)==null?void 0:p[u])!==void 0?(w=(y=n.value)==null?void 0:y.global)==null?void 0:w[u]:c:c}}),o=ye();Gt(()=>{if(r.value){const l=Object.entries(r.value).filter(u=>{let[c]=u;return c.startsWith(c[0].toUpperCase())});o.value=l.length?Object.fromEntries(l):void 0}else o.value=void 0});function a(){const l=iM(Na,i);bt(Na,k(()=>o.value?Hn((l==null?void 0:l.value)??{},o.value):l==null?void 0:l.value))}return{props:s,provideSubDefaults:a}}function gi(e){if(e._setup=e._setup??e.setup,!e.name)return e;if(e._setup){e.props=z(e.props??{},e.name)();const t=Object.keys(e.props).filter(n=>n!=="class"&&n!=="style");e.filterProps=function(i){return Ap(i,t)},e.props._as=String,e.setup=function(i,r){const s=Np();if(!s.value)return e._setup(i,r);const{props:o,provideSubDefaults:a}=oM(i,i._as??e.name,s),l=e._setup(o,r);return a(),l}}return e}function te(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return t=>(e?gi:bn)(t)}function aM(e,t){return t.props=e,t}function mr(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"div",n=arguments.length>2?arguments[2]:void 0;return te()({name:n??dr(hi(e.replace(/__/g,"-"))),props:{tag:{type:String,default:t},...Ee()},setup(i,r){let{slots:s}=r;return()=>{var o;return qi(i.tag,{class:[e,i.class],style:i.style},(o=s.default)==null?void 0:o.call(s))}}})}function oE(e){if(typeof e.getRootNode!="function"){for(;e.parentNode;)e=e.parentNode;return e!==document?null:document}const t=e.getRootNode();return t!==document&&t.getRootNode({composed:!0})!==document?null:t}const Iu="cubic-bezier(0.4, 0, 0.2, 1)",lM="cubic-bezier(0.0, 0, 0.2, 1)",uM="cubic-bezier(0.4, 0, 1, 1)";function eS(e,t,n){return Object.keys(e).filter(i=>Uf(i)&&i.endsWith(t)).reduce((i,r)=>(i[r.slice(0,-t.length)]=s=>e[r](s,n(s)),i),{})}function Op(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;for(;e;){if(t?cM(e):Mp(e))return e;e=e.parentElement}return document.scrollingElement}function ku(e,t){const n=[];if(t&&e&&!t.contains(e))return n;for(;e&&(Mp(e)&&n.push(e),e!==t);)e=e.parentElement;return n}function Mp(e){if(!e||e.nodeType!==Node.ELEMENT_NODE)return!1;const t=window.getComputedStyle(e);return t.overflowY==="scroll"||t.overflowY==="auto"&&e.scrollHeight>e.clientHeight}function cM(e){if(!e||e.nodeType!==Node.ELEMENT_NODE)return!1;const t=window.getComputedStyle(e);return["scroll","auto"].includes(t.overflowY)}function dM(e){for(;e;){if(window.getComputedStyle(e).position==="fixed")return!0;e=e.offsetParent}return!1}function se(e){const t=zt("useRender");t.render=e}function Re(e,t,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:d=>d,r=arguments.length>4&&arguments[4]!==void 0?arguments[4]:d=>d;const s=zt("useProxiedModel"),o=j(e[t]!==void 0?e[t]:n),a=lo(t),u=k(a!==t?()=>{var d,h,v,g;return e[t],!!(((d=s.vnode.props)!=null&&d.hasOwnProperty(t)||(h=s.vnode.props)!=null&&h.hasOwnProperty(a))&&((v=s.vnode.props)!=null&&v.hasOwnProperty(`onUpdate:${t}`)||(g=s.vnode.props)!=null&&g.hasOwnProperty(`onUpdate:${a}`)))}:()=>{var d,h;return e[t],!!((d=s.vnode.props)!=null&&d.hasOwnProperty(t)&&((h=s.vnode.props)!=null&&h.hasOwnProperty(`onUpdate:${t}`)))});ti(()=>!u.value,()=>{he(()=>e[t],d=>{o.value=d})});const c=k({get(){const d=e[t];return i(u.value?d:o.value)},set(d){const h=r(d),v=$e(u.value?e[t]:o.value);v===h||i(v)===d||(o.value=h,s==null||s.emit(`update:${t}`,h))}});return Object.defineProperty(c,"externalValue",{get:()=>u.value?e[t]:o.value}),c}const fM={badge:"Badge",open:"Open",close:"Close",dismiss:"Dismiss",confirmEdit:{ok:"OK",cancel:"Cancel"},dataIterator:{noResultsText:"No matching records found",loadingText:"Loading items..."},dataTable:{itemsPerPageText:"Rows per page:",ariaLabel:{sortDescending:"Sorted descending.",sortAscending:"Sorted ascending.",sortNone:"Not sorted.",activateNone:"Activate to remove sorting.",activateDescending:"Activate to sort descending.",activateAscending:"Activate to sort ascending."},sortBy:"Sort by"},dataFooter:{itemsPerPageText:"Items per page:",itemsPerPageAll:"All",nextPage:"Next page",prevPage:"Previous page",firstPage:"First page",lastPage:"Last page",pageText:"{0}-{1} of {2}"},dateRangeInput:{divider:"to"},datePicker:{itemsSelected:"{0} selected",range:{title:"Select dates",header:"Enter dates"},title:"Select date",header:"Enter date",input:{placeholder:"Enter date"}},noDataText:"No data available",carousel:{prev:"Previous visual",next:"Next visual",ariaLabel:{delimiter:"Carousel slide {0} of {1}"}},calendar:{moreEvents:"{0} more",today:"Today"},input:{clear:"Clear {0}",prependAction:"{0} prepended action",appendAction:"{0} appended action",otp:"Please enter OTP character {0}"},fileInput:{counter:"{0} files",counterSize:"{0} files ({1} in total)"},timePicker:{am:"AM",pm:"PM",title:"Select Time"},pagination:{ariaLabel:{root:"Pagination Navigation",next:"Next page",previous:"Previous page",page:"Go to page {0}",currentPage:"Page {0}, Current page",first:"First page",last:"Last page"}},stepper:{next:"Next",prev:"Previous"},rating:{ariaLabel:{item:"Rating {0} of {1}"}},loading:"Loading...",infiniteScroll:{loadMore:"Load more",empty:"No more"}},tS="$vuetify.",nS=(e,t)=>e.replace(/\{(\d+)\}/g,(n,i)=>String(t[+i])),aE=(e,t,n)=>function(i){for(var r=arguments.length,s=new Array(r>1?r-1:0),o=1;o<r;o++)s[o-1]=arguments[o];if(!i.startsWith(tS))return nS(i,s);const a=i.replace(tS,""),l=e.value&&n.value[e.value],u=t.value&&n.value[t.value];let c=po(l,a,null);return c||(`${i}${e.value}`,c=po(u,a,null)),c||(c=i),typeof c!="string"&&(c=i),nS(c,s)};function lE(e,t){return(n,i)=>new Intl.NumberFormat([e.value,t.value],i).format(n)}function bm(e,t,n){const i=Re(e,t,e[t]??n.value);return i.value=e[t]??n.value,he(n,r=>{e[t]==null&&(i.value=n.value)}),i}function uE(e){return t=>{const n=bm(t,"locale",e.current),i=bm(t,"fallback",e.fallback),r=bm(t,"messages",e.messages);return{name:"vuetify",current:n,fallback:i,messages:r,t:aE(n,i,r),n:lE(n,i),provide:uE({current:n,fallback:i,messages:r})}}}function hM(e){const t=ye((e==null?void 0:e.locale)??"en"),n=ye((e==null?void 0:e.fallback)??"en"),i=j({en:fM,...e==null?void 0:e.messages});return{name:"vuetify",current:t,fallback:n,messages:i,t:aE(t,n,i),n:lE(t,n),provide:uE({current:t,fallback:n,messages:i})}}const Oa=Symbol.for("vuetify:locale");function mM(e){return e.name!=null}function vM(e){const t=e!=null&&e.adapter&&mM(e==null?void 0:e.adapter)?e==null?void 0:e.adapter:hM(e),n=yM(t,e);return{...t,...n}}function At(){const e=He(Oa);if(!e)throw new Error("[Vuetify] Could not find injected locale instance");return e}function gM(e){const t=He(Oa);if(!t)throw new Error("[Vuetify] Could not find injected locale instance");const n=t.provide(e),i=_M(n,t.rtl,e),r={...n,...i};return bt(Oa,r),r}function pM(){return{af:!1,ar:!0,bg:!1,ca:!1,ckb:!1,cs:!1,de:!1,el:!1,en:!1,es:!1,et:!1,fa:!0,fi:!1,fr:!1,hr:!1,hu:!1,he:!0,id:!1,it:!1,ja:!1,km:!1,ko:!1,lv:!1,lt:!1,nl:!1,no:!1,pl:!1,pt:!1,ro:!1,ru:!1,sk:!1,sl:!1,srCyrl:!1,srLatn:!1,sv:!1,th:!1,tr:!1,az:!1,uk:!1,vi:!1,zhHans:!1,zhHant:!1}}function yM(e,t){const n=j((t==null?void 0:t.rtl)??pM()),i=k(()=>n.value[e.current.value]??!1);return{isRtl:i,rtl:n,rtlClasses:k(()=>`v-locale--is-${i.value?"rtl":"ltr"}`)}}function _M(e,t,n){const i=k(()=>n.rtl??t.value[e.current.value]??!1);return{isRtl:i,rtl:t,rtlClasses:k(()=>`v-locale--is-${i.value?"rtl":"ltr"}`)}}function sn(){const e=He(Oa);if(!e)throw new Error("[Vuetify] Could not find injected rtl instance");return{isRtl:e.isRtl,rtlClasses:e.rtlClasses}}const Wf={"001":1,AD:1,AE:6,AF:6,AG:0,AI:1,AL:1,AM:1,AN:1,AR:1,AS:0,AT:1,AU:1,AX:1,AZ:1,BA:1,BD:0,BE:1,BG:1,BH:6,BM:1,BN:1,BR:0,BS:0,BT:0,BW:0,BY:1,BZ:0,CA:0,CH:1,CL:1,CM:1,CN:1,CO:0,CR:1,CY:1,CZ:1,DE:1,DJ:6,DK:1,DM:0,DO:0,DZ:6,EC:1,EE:1,EG:6,ES:1,ET:0,FI:1,FJ:1,FO:1,FR:1,GB:1,"GB-alt-variant":0,GE:1,GF:1,GP:1,GR:1,GT:0,GU:0,HK:0,HN:0,HR:1,HU:1,ID:0,IE:1,IL:0,IN:0,IQ:6,IR:6,IS:1,IT:1,JM:0,JO:6,JP:0,KE:0,KG:1,KH:0,KR:0,KW:6,KZ:1,LA:0,LB:1,LI:1,LK:1,LT:1,LU:1,LV:1,LY:6,MC:1,MD:1,ME:1,MH:0,MK:1,MM:0,MN:1,MO:0,MQ:1,MT:0,MV:5,MX:0,MY:1,MZ:0,NI:0,NL:1,NO:1,NP:0,NZ:1,OM:6,PA:0,PE:0,PH:0,PK:0,PL:1,PR:0,PT:0,PY:0,QA:6,RE:1,RO:1,RS:1,RU:1,SA:0,SD:6,SE:1,SG:0,SI:1,SK:1,SM:1,SV:0,SY:6,TH:0,TJ:1,TM:1,TR:1,TT:0,TW:0,UA:1,UM:0,US:0,UY:1,UZ:1,VA:1,VE:0,VI:0,VN:1,WS:0,XK:1,YE:0,ZA:0,ZW:0};function bM(e,t,n){const i=[];let r=[];const s=cE(e),o=dE(e),a=n??Wf[t.slice(-2).toUpperCase()]??0,l=(s.getDay()-a+7)%7,u=(o.getDay()-a+7)%7;for(let c=0;c<l;c++){const d=new Date(s);d.setDate(d.getDate()-(l-c)),r.push(d)}for(let c=1;c<=o.getDate();c++){const d=new Date(e.getFullYear(),e.getMonth(),c);r.push(d),r.length===7&&(i.push(r),r=[])}for(let c=1;c<7-u;c++){const d=new Date(o);d.setDate(d.getDate()+c),r.push(d)}return r.length>0&&i.push(r),i}function wM(e,t,n){const i=n??Wf[t.slice(-2).toUpperCase()]??0,r=new Date(e);for(;r.getDay()!==i;)r.setDate(r.getDate()-1);return r}function SM(e,t){const n=new Date(e),i=((Wf[t.slice(-2).toUpperCase()]??0)+6)%7;for(;n.getDay()!==i;)n.setDate(n.getDate()+1);return n}function cE(e){return new Date(e.getFullYear(),e.getMonth(),1)}function dE(e){return new Date(e.getFullYear(),e.getMonth()+1,0)}function CM(e){const t=e.split("-").map(Number);return new Date(t[0],t[1]-1,t[2])}const IM=/^([12]\d{3}-([1-9]|0[1-9]|1[0-2])-([1-9]|0[1-9]|[12]\d|3[01]))$/;function fE(e){if(e==null)return new Date;if(e instanceof Date)return e;if(typeof e=="string"){let t;if(IM.test(e))return CM(e);if(t=Date.parse(e),!isNaN(t))return new Date(t)}return null}const iS=new Date(2e3,0,2);function kM(e,t){const n=t??Wf[e.slice(-2).toUpperCase()]??0;return ci(7).map(i=>{const r=new Date(iS);return r.setDate(iS.getDate()+n+i),new Intl.DateTimeFormat(e,{weekday:"narrow"}).format(r)})}function EM(e,t,n,i){const r=fE(e)??new Date,s=i==null?void 0:i[t];if(typeof s=="function")return s(r,t,n);let o={};switch(t){case"fullDate":o={year:"numeric",month:"long",day:"numeric"};break;case"fullDateWithWeekday":o={weekday:"long",year:"numeric",month:"long",day:"numeric"};break;case"normalDate":const a=r.getDate(),l=new Intl.DateTimeFormat(n,{month:"long"}).format(r);return`${a} ${l}`;case"normalDateWithWeekday":o={weekday:"short",day:"numeric",month:"short"};break;case"shortDate":o={month:"short",day:"numeric"};break;case"year":o={year:"numeric"};break;case"month":o={month:"long"};break;case"monthShort":o={month:"short"};break;case"monthAndYear":o={month:"long",year:"numeric"};break;case"monthAndDate":o={month:"long",day:"numeric"};break;case"weekday":o={weekday:"long"};break;case"weekdayShort":o={weekday:"short"};break;case"dayOfMonth":return new Intl.NumberFormat(n).format(r.getDate());case"hours12h":o={hour:"numeric",hour12:!0};break;case"hours24h":o={hour:"numeric",hour12:!1};break;case"minutes":o={minute:"numeric"};break;case"seconds":o={second:"numeric"};break;case"fullTime":o={hour:"numeric",minute:"numeric",second:"numeric",hour12:!0};break;case"fullTime12h":o={hour:"numeric",minute:"numeric",second:"numeric",hour12:!0};break;case"fullTime24h":o={hour:"numeric",minute:"numeric",second:"numeric",hour12:!1};break;case"fullDateTime":o={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",hour12:!0};break;case"fullDateTime12h":o={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",hour12:!0};break;case"fullDateTime24h":o={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",hour12:!1};break;case"keyboardDate":o={year:"numeric",month:"2-digit",day:"2-digit"};break;case"keyboardDateTime":o={year:"numeric",month:"2-digit",day:"2-digit",hour:"numeric",minute:"numeric",second:"numeric",hour12:!1};break;case"keyboardDateTime12h":o={year:"numeric",month:"2-digit",day:"2-digit",hour:"numeric",minute:"numeric",second:"numeric",hour12:!0};break;case"keyboardDateTime24h":o={year:"numeric",month:"2-digit",day:"2-digit",hour:"numeric",minute:"numeric",second:"numeric",hour12:!1};break;default:o=s??{timeZone:"UTC",timeZoneName:"short"}}return new Intl.DateTimeFormat(n,o).format(r)}function TM(e,t){const n=e.toJsDate(t),i=n.getFullYear(),r=Fw(String(n.getMonth()+1),2,"0"),s=Fw(String(n.getDate()),2,"0");return`${i}-${r}-${s}`}function AM(e){const[t,n,i]=e.split("-").map(Number);return new Date(t,n-1,i)}function PM(e,t){const n=new Date(e);return n.setMinutes(n.getMinutes()+t),n}function xM(e,t){const n=new Date(e);return n.setHours(n.getHours()+t),n}function RM(e,t){const n=new Date(e);return n.setDate(n.getDate()+t),n}function VM(e,t){const n=new Date(e);return n.setDate(n.getDate()+t*7),n}function DM(e,t){const n=new Date(e);return n.setDate(1),n.setMonth(n.getMonth()+t),n}function NM(e){return e.getFullYear()}function OM(e){return e.getMonth()}function MM(e){return e.getDate()}function LM(e){return new Date(e.getFullYear(),e.getMonth()+1,1)}function FM(e){return new Date(e.getFullYear(),e.getMonth()-1,1)}function BM(e){return e.getHours()}function $M(e){return e.getMinutes()}function UM(e){return new Date(e.getFullYear(),0,1)}function HM(e){return new Date(e.getFullYear(),11,31)}function jM(e,t){return Hd(e,t[0])&&qM(e,t[1])}function WM(e){const t=new Date(e);return t instanceof Date&&!isNaN(t.getTime())}function Hd(e,t){return e.getTime()>t.getTime()}function zM(e,t){return Hd(yv(e),yv(t))}function qM(e,t){return e.getTime()<t.getTime()}function rS(e,t){return e.getTime()===t.getTime()}function GM(e,t){return e.getDate()===t.getDate()&&e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear()}function KM(e,t){return e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear()}function YM(e,t){return e.getFullYear()===t.getFullYear()}function QM(e,t,n){const i=new Date(e),r=new Date(t);switch(n){case"years":return i.getFullYear()-r.getFullYear();case"quarters":return Math.floor((i.getMonth()-r.getMonth()+(i.getFullYear()-r.getFullYear())*12)/4);case"months":return i.getMonth()-r.getMonth()+(i.getFullYear()-r.getFullYear())*12;case"weeks":return Math.floor((i.getTime()-r.getTime())/(1e3*60*60*24*7));case"days":return Math.floor((i.getTime()-r.getTime())/(1e3*60*60*24));case"hours":return Math.floor((i.getTime()-r.getTime())/(1e3*60*60));case"minutes":return Math.floor((i.getTime()-r.getTime())/(1e3*60));case"seconds":return Math.floor((i.getTime()-r.getTime())/1e3);default:return i.getTime()-r.getTime()}}function XM(e,t){const n=new Date(e);return n.setHours(t),n}function JM(e,t){const n=new Date(e);return n.setMinutes(t),n}function ZM(e,t){const n=new Date(e);return n.setMonth(t),n}function eL(e,t){const n=new Date(e);return n.setDate(t),n}function tL(e,t){const n=new Date(e);return n.setFullYear(t),n}function yv(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate(),0,0,0,0)}function nL(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate(),23,59,59,999)}class iL{constructor(t){this.locale=t.locale,this.formats=t.formats}date(t){return fE(t)}toJsDate(t){return t}toISO(t){return TM(this,t)}parseISO(t){return AM(t)}addMinutes(t,n){return PM(t,n)}addHours(t,n){return xM(t,n)}addDays(t,n){return RM(t,n)}addWeeks(t,n){return VM(t,n)}addMonths(t,n){return DM(t,n)}getWeekArray(t,n){return bM(t,this.locale,n?Number(n):void 0)}startOfWeek(t,n){return wM(t,this.locale,n?Number(n):void 0)}endOfWeek(t){return SM(t,this.locale)}startOfMonth(t){return cE(t)}endOfMonth(t){return dE(t)}format(t,n){return EM(t,n,this.locale,this.formats)}isEqual(t,n){return rS(t,n)}isValid(t){return WM(t)}isWithinRange(t,n){return jM(t,n)}isAfter(t,n){return Hd(t,n)}isAfterDay(t,n){return zM(t,n)}isBefore(t,n){return!Hd(t,n)&&!rS(t,n)}isSameDay(t,n){return GM(t,n)}isSameMonth(t,n){return KM(t,n)}isSameYear(t,n){return YM(t,n)}setMinutes(t,n){return JM(t,n)}setHours(t,n){return XM(t,n)}setMonth(t,n){return ZM(t,n)}setDate(t,n){return eL(t,n)}setYear(t,n){return tL(t,n)}getDiff(t,n,i){return QM(t,n,i)}getWeekdays(t){return kM(this.locale,t?Number(t):void 0)}getYear(t){return NM(t)}getMonth(t){return OM(t)}getDate(t){return MM(t)}getNextMonth(t){return LM(t)}getPreviousMonth(t){return FM(t)}getHours(t){return BM(t)}getMinutes(t){return $M(t)}startOfDay(t){return yv(t)}endOfDay(t){return nL(t)}startOfYear(t){return UM(t)}endOfYear(t){return HM(t)}}const hE=Symbol.for("vuetify:date-options"),sS=Symbol.for("vuetify:date-adapter");function rL(e,t){const n=Hn({adapter:iL,locale:{af:"af-ZA",bg:"bg-BG",ca:"ca-ES",ckb:"",cs:"cs-CZ",de:"de-DE",el:"el-GR",en:"en-US",et:"et-EE",fa:"fa-IR",fi:"fi-FI",hr:"hr-HR",hu:"hu-HU",he:"he-IL",id:"id-ID",it:"it-IT",ja:"ja-JP",ko:"ko-KR",lv:"lv-LV",lt:"lt-LT",nl:"nl-NL",no:"no-NO",pl:"pl-PL",pt:"pt-PT",ro:"ro-RO",ru:"ru-RU",sk:"sk-SK",sl:"sl-SI",srCyrl:"sr-SP",srLatn:"sr-SP",sv:"sv-SE",th:"th-TH",tr:"tr-TR",az:"az-AZ",uk:"uk-UA",vi:"vi-VN",zhHans:"zh-CN",zhHant:"zh-TW"}},e);return{options:n,instance:mE(n,t)}}function mE(e,t){const n=ln(typeof e.adapter=="function"?new e.adapter({locale:e.locale[t.current.value]??t.current.value,formats:e.formats}):e.adapter);return he(t.current,i=>{n.locale=e.locale[i]??i??n.locale}),n}function Gn(){const e=He(hE);if(!e)throw new Error("[Vuetify] Could not find injected date options");const t=At();return mE(e,t)}function sL(e,t){const n=e.toJsDate(t);let i=n.getFullYear(),r=new Date(i,0,1);if(n<r)i=i-1,r=new Date(i,0,1);else{const a=new Date(i+1,0,1);n>=a&&(i=i+1,r=a)}const s=Math.abs(n.getTime()-r.getTime()),o=Math.ceil(s/(1e3*60*60*24));return Math.floor(o/7)+1}const zf=["sm","md","lg","xl","xxl"],_v=Symbol.for("vuetify:display"),oS={mobileBreakpoint:"lg",thresholds:{xs:0,sm:600,md:960,lg:1280,xl:1920,xxl:2560}},oL=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:oS;return Hn(oS,e)};function aS(e){return ht&&!e?window.innerWidth:typeof e=="object"&&e.clientWidth||0}function lS(e){return ht&&!e?window.innerHeight:typeof e=="object"&&e.clientHeight||0}function uS(e){const t=ht&&!e?window.navigator.userAgent:"ssr";function n(g){return!!t.match(g)}const i=n(/android/i),r=n(/iphone|ipad|ipod/i),s=n(/cordova/i),o=n(/electron/i),a=n(/chrome/i),l=n(/edge/i),u=n(/firefox/i),c=n(/opera/i),d=n(/win/i),h=n(/mac/i),v=n(/linux/i);return{android:i,ios:r,cordova:s,electron:o,chrome:a,edge:l,firefox:u,opera:c,win:d,mac:h,linux:v,touch:wO,ssr:t==="ssr"}}function aL(e,t){const{thresholds:n,mobileBreakpoint:i}=oL(e),r=ye(lS(t)),s=ye(uS(t)),o=ln({}),a=ye(aS(t));function l(){r.value=lS(),a.value=aS()}function u(){l(),s.value=uS()}return Gt(()=>{const c=a.value<n.sm,d=a.value<n.md&&!c,h=a.value<n.lg&&!(d||c),v=a.value<n.xl&&!(h||d||c),g=a.value<n.xxl&&!(v||h||d||c),p=a.value>=n.xxl,y=c?"xs":d?"sm":h?"md":v?"lg":g?"xl":"xxl",w=typeof i=="number"?i:n[i],C=a.value<w;o.xs=c,o.sm=d,o.md=h,o.lg=v,o.xl=g,o.xxl=p,o.smAndUp=!c,o.mdAndUp=!(c||d),o.lgAndUp=!(c||d||h),o.xlAndUp=!(c||d||h||v),o.smAndDown=!(h||v||g||p),o.mdAndDown=!(v||g||p),o.lgAndDown=!(g||p),o.xlAndDown=!p,o.name=y,o.height=r.value,o.width=a.value,o.mobile=C,o.mobileBreakpoint=i,o.platform=s.value,o.thresholds=n}),ht&&window.addEventListener("resize",l,{passive:!0}),{...Wr(o),update:u,ssr:!!t}}const Oo=z({mobile:{type:Boolean,default:!1},mobileBreakpoint:[Number,String]},"display");function pi(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:hr();const n=He(_v);if(!n)throw new Error("Could not find Vuetify display injection");const i=k(()=>{if(e.mobile!=null)return e.mobile;if(!e.mobileBreakpoint)return n.mobile.value;const s=typeof e.mobileBreakpoint=="number"?e.mobileBreakpoint:n.thresholds.value[e.mobileBreakpoint];return n.width.value<s}),r=k(()=>t?{[`${t}--mobile`]:i.value}:{});return{...n,displayClasses:r,mobile:i}}const vE=Symbol.for("vuetify:goto");function gE(){return{container:void 0,duration:300,layout:!1,offset:0,easing:"easeInOutCubic",patterns:{linear:e=>e,easeInQuad:e=>e**2,easeOutQuad:e=>e*(2-e),easeInOutQuad:e=>e<.5?2*e**2:-1+(4-2*e)*e,easeInCubic:e=>e**3,easeOutCubic:e=>--e**3+1,easeInOutCubic:e=>e<.5?4*e**3:(e-1)*(2*e-2)*(2*e-2)+1,easeInQuart:e=>e**4,easeOutQuart:e=>1- --e**4,easeInOutQuart:e=>e<.5?8*e**4:1-8*--e**4,easeInQuint:e=>e**5,easeOutQuint:e=>1+--e**5,easeInOutQuint:e=>e<.5?16*e**5:1+16*--e**5}}}function lL(e){return Lp(e)??(document.scrollingElement||document.body)}function Lp(e){return typeof e=="string"?document.querySelector(e):Tp(e)}function wm(e,t,n){if(typeof e=="number")return t&&n?-e:e;let i=Lp(e),r=0;for(;i;)r+=t?i.offsetLeft:i.offsetTop,i=i.offsetParent;return r}function uL(e,t){return{rtl:t.isRtl,options:Hn(gE(),e)}}async function cS(e,t,n,i){const r=n?"scrollLeft":"scrollTop",s=Hn((i==null?void 0:i.options)??gE(),t),o=i==null?void 0:i.rtl.value,a=(typeof e=="number"?e:Lp(e))??0,l=s.container==="parent"&&a instanceof HTMLElement?a.parentElement:lL(s.container),u=typeof s.easing=="function"?s.easing:s.patterns[s.easing];if(!u)throw new TypeError(`Easing function "${s.easing}" not found.`);let c;if(typeof a=="number")c=wm(a,n,o);else if(c=wm(a,n,o)-wm(l,n,o),s.layout){const g=window.getComputedStyle(a).getPropertyValue("--v-layout-top");g&&(c-=parseInt(g,10))}c+=s.offset,c=dL(l,c,!!o,!!n);const d=l[r]??0;if(c===d)return Promise.resolve(c);const h=performance.now();return new Promise(v=>requestAnimationFrame(function g(p){const w=(p-h)/s.duration,C=Math.floor(d+(c-d)*u(Ut(w,0,1)));if(l[r]=C,w>=1&&Math.abs(C-l[r])<10)return v(c);if(w>2)return v(l[r]);requestAnimationFrame(g)}))}function cL(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const t=He(vE),{isRtl:n}=sn();if(!t)throw new Error("[Vuetify] Could not find injected goto instance");const i={...t,rtl:k(()=>t.rtl.value||n.value)};async function r(s,o){return cS(s,Hn(e,o),!1,i)}return r.horizontal=async(s,o)=>cS(s,Hn(e,o),!0,i),r}function dL(e,t,n,i){const{scrollWidth:r,scrollHeight:s}=e,[o,a]=e===document.scrollingElement?[window.innerWidth,window.innerHeight]:[e.offsetWidth,e.offsetHeight];let l,u;return i?n?(l=-(r-o),u=0):(l=0,u=r-o):(l=0,u=s+-a),Math.max(Math.min(t,u),l)}const fL={collapse:"mdi-chevron-up",complete:"mdi-check",cancel:"mdi-close-circle",close:"mdi-close",delete:"mdi-close-circle",clear:"mdi-close-circle",success:"mdi-check-circle",info:"mdi-information",warning:"mdi-alert-circle",error:"mdi-close-circle",prev:"mdi-chevron-left",next:"mdi-chevron-right",checkboxOn:"mdi-checkbox-marked",checkboxOff:"mdi-checkbox-blank-outline",checkboxIndeterminate:"mdi-minus-box",delimiter:"mdi-circle",sortAsc:"mdi-arrow-up",sortDesc:"mdi-arrow-down",expand:"mdi-chevron-down",menu:"mdi-menu",subgroup:"mdi-menu-down",dropdown:"mdi-menu-down",radioOn:"mdi-radiobox-marked",radioOff:"mdi-radiobox-blank",edit:"mdi-pencil",ratingEmpty:"mdi-star-outline",ratingFull:"mdi-star",ratingHalf:"mdi-star-half-full",loading:"mdi-cached",first:"mdi-page-first",last:"mdi-page-last",unfold:"mdi-unfold-more-horizontal",file:"mdi-paperclip",plus:"mdi-plus",minus:"mdi-minus",calendar:"mdi-calendar",treeviewCollapse:"mdi-menu-down",treeviewExpand:"mdi-menu-right",eyeDropper:"mdi-eyedropper"},hL={component:e=>qi(Bp,{...e,class:"mdi"})},Be=[String,Function,Object,Array],bv=Symbol.for("vuetify:icons"),qf=z({icon:{type:Be},tag:{type:String,required:!0}},"icon"),wv=te()({name:"VComponentIcon",props:qf(),setup(e,t){let{slots:n}=t;return()=>{const i=e.icon;return f(e.tag,null,{default:()=>{var r;return[e.icon?f(i,null,null):(r=n.default)==null?void 0:r.call(n)]}})}}}),Fp=gi({name:"VSvgIcon",inheritAttrs:!1,props:qf(),setup(e,t){let{attrs:n}=t;return()=>f(e.tag,J(n,{style:null}),{default:()=>[f("svg",{class:"v-icon__svg",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",role:"img","aria-hidden":"true"},[Array.isArray(e.icon)?e.icon.map(i=>Array.isArray(i)?f("path",{d:i[0],"fill-opacity":i[1]},null):f("path",{d:i},null)):f("path",{d:e.icon},null)])]})}}),mL=gi({name:"VLigatureIcon",props:qf(),setup(e){return()=>f(e.tag,null,{default:()=>[e.icon]})}}),Bp=gi({name:"VClassIcon",props:qf(),setup(e){return()=>f(e.tag,{class:e.icon},null)}});function vL(){return{svg:{component:Fp},class:{component:Bp}}}function gL(e){const t=vL(),n=(e==null?void 0:e.defaultSet)??"mdi";return n==="mdi"&&!t.mdi&&(t.mdi=hL),Hn({defaultSet:n,sets:t,aliases:{...fL,vuetify:["M8.2241 14.2009L12 21L22 3H14.4459L8.2241 14.2009Z",["M7.26303 12.4733L7.00113 12L2 3H12.5261C12.5261 3 12.5261 3 12.5261 3L7.26303 12.4733Z",.6]],"vuetify-outline":"svg:M7.26 12.47 12.53 3H2L7.26 12.47ZM14.45 3 8.22 14.2 12 21 22 3H14.45ZM18.6 5 12 16.88 10.51 14.2 15.62 5ZM7.26 8.35 5.4 5H9.13L7.26 8.35Z","vuetify-play":["m6.376 13.184-4.11-7.192C1.505 4.66 2.467 3 4.003 3h8.532l-.953 1.576-.006.01-.396.677c-.429.732-.214 1.507.194 2.015.404.503 1.092.878 1.869.806a3.72 3.72 0 0 1 1.005.022c.276.053.434.143.523.237.138.146.38.635-.25 2.09-.893 1.63-1.553 1.722-1.847 1.677-.213-.033-.468-.158-.756-.406a4.95 4.95 0 0 1-.8-.927c-.39-.564-1.04-.84-1.66-.846-.625-.006-1.316.27-1.693.921l-.478.826-.911 1.506Z",["M9.093 11.552c.046-.079.144-.15.32-.148a.53.53 0 0 1 .43.207c.285.414.636.847 1.046 1.2.405.35.914.662 1.516.754 1.334.205 2.502-.698 3.48-2.495l.014-.028.013-.03c.687-1.574.774-2.852-.005-3.675-.37-.391-.861-.586-1.333-.676a5.243 5.243 0 0 0-1.447-.044c-.173.016-.393-.073-.54-.257-.145-.18-.127-.316-.082-.392l.393-.672L14.287 3h5.71c1.536 0 2.499 1.659 1.737 2.992l-7.997 13.996c-.768 1.344-2.706 1.344-3.473 0l-3.037-5.314 1.377-2.278.004-.006.004-.007.481-.831Z",.6]]}},e)}const pL=e=>{const t=He(bv);if(!t)throw new Error("Missing Vuetify Icons provide!");return{iconData:k(()=>{var l;const i=qe(e);if(!i)return{component:wv};let r=i;if(typeof r=="string"&&(r=r.trim(),r.startsWith("$")&&(r=(l=t.aliases)==null?void 0:l[r.slice(1)])),Array.isArray(r))return{component:Fp,icon:r};if(typeof r!="string")return{component:wv,icon:r};const s=Object.keys(t.sets).find(u=>typeof r=="string"&&r.startsWith(`${u}:`)),o=s?r.slice(s.length+1):r;return{component:t.sets[s??t.defaultSet].component,icon:o}})}},Eu=Symbol.for("vuetify:theme"),nt=z({theme:String},"theme");function dS(){return{defaultTheme:"light",variations:{colors:[],lighten:0,darken:0},themes:{light:{dark:!1,colors:{background:"#FFFFFF",surface:"#FFFFFF","surface-bright":"#FFFFFF","surface-light":"#EEEEEE","surface-variant":"#424242","on-surface-variant":"#EEEEEE",primary:"#1867C0","primary-darken-1":"#1F5592",secondary:"#48A9A6","secondary-darken-1":"#018786",error:"#B00020",info:"#2196F3",success:"#4CAF50",warning:"#FB8C00"},variables:{"border-color":"#000000","border-opacity":.12,"high-emphasis-opacity":.87,"medium-emphasis-opacity":.6,"disabled-opacity":.38,"idle-opacity":.04,"hover-opacity":.04,"focus-opacity":.12,"selected-opacity":.08,"activated-opacity":.12,"pressed-opacity":.12,"dragged-opacity":.08,"theme-kbd":"#212529","theme-on-kbd":"#FFFFFF","theme-code":"#F5F5F5","theme-on-code":"#000000"}},dark:{dark:!0,colors:{background:"#121212",surface:"#212121","surface-bright":"#ccbfd6","surface-light":"#424242","surface-variant":"#a3a3a3","on-surface-variant":"#424242",primary:"#2196F3","primary-darken-1":"#277CC1",secondary:"#54B6B2","secondary-darken-1":"#48A9A6",error:"#CF6679",info:"#2196F3",success:"#4CAF50",warning:"#FB8C00"},variables:{"border-color":"#FFFFFF","border-opacity":.12,"high-emphasis-opacity":1,"medium-emphasis-opacity":.7,"disabled-opacity":.5,"idle-opacity":.1,"hover-opacity":.04,"focus-opacity":.12,"selected-opacity":.08,"activated-opacity":.12,"pressed-opacity":.16,"dragged-opacity":.08,"theme-kbd":"#212529","theme-on-kbd":"#FFFFFF","theme-code":"#343434","theme-on-code":"#CCCCCC"}}}}}function yL(){var i,r;let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:dS();const t=dS();if(!e)return{...t,isDisabled:!0};const n={};for(const[s,o]of Object.entries(e.themes??{})){const a=o.dark||s==="dark"?(i=t.themes)==null?void 0:i.dark:(r=t.themes)==null?void 0:r.light;n[s]=Hn(a,o)}return Hn(t,{...e,themes:n})}function _L(e){const t=yL(e),n=j(t.defaultTheme),i=j(t.themes),r=k(()=>{const c={};for(const[d,h]of Object.entries(i.value)){const v=c[d]={...h,colors:{...h.colors}};if(t.variations)for(const g of t.variations.colors){const p=v.colors[g];if(p)for(const y of["lighten","darken"]){const w=y==="lighten"?eM:tM;for(const C of ci(t.variations[y],1))v.colors[`${g}-${y}-${C}`]=eE(w(Ii(p),C))}}for(const g of Object.keys(v.colors)){if(/^on-[a-z]/.test(g)||v.colors[`on-${g}`])continue;const p=`on-${g}`,y=Ii(v.colors[g]);v.colors[p]=rE(y)}}return c}),s=k(()=>r.value[n.value]),o=k(()=>{var g;const c=[];(g=s.value)!=null&&g.dark&&Qs(c,":root",["color-scheme: dark"]),Qs(c,":root",fS(s.value));for(const[p,y]of Object.entries(r.value))Qs(c,`.v-theme--${p}`,[`color-scheme: ${y.dark?"dark":"normal"}`,...fS(y)]);const d=[],h=[],v=new Set(Object.values(r.value).flatMap(p=>Object.keys(p.colors)));for(const p of v)/^on-[a-z]/.test(p)?Qs(h,`.${p}`,[`color: rgb(var(--v-theme-${p})) !important`]):(Qs(d,`.bg-${p}`,[`--v-theme-overlay-multiplier: var(--v-theme-${p}-overlay-multiplier)`,`background-color: rgb(var(--v-theme-${p})) !important`,`color: rgb(var(--v-theme-on-${p})) !important`]),Qs(h,`.text-${p}`,[`color: rgb(var(--v-theme-${p})) !important`]),Qs(h,`.border-${p}`,[`--v-border-color: var(--v-theme-${p})`]));return c.push(...d,...h),c.map((p,y)=>y===0?p:`    ${p}`).join("")});function a(){return{style:[{children:o.value,id:"vuetify-theme-stylesheet",nonce:t.cspNonce||!1}]}}function l(c){if(t.isDisabled)return;const d=c._context.provides.usehead;if(d)if(d.push){const h=d.push(a);ht&&he(o,()=>{h.patch(a)})}else ht?(d.addHeadObjs(k(a)),Gt(()=>d.updateDOM())):d.addHeadObjs(a());else{let v=function(){if(typeof document<"u"&&!h){const g=document.createElement("style");g.type="text/css",g.id="vuetify-theme-stylesheet",t.cspNonce&&g.setAttribute("nonce",t.cspNonce),h=g,document.head.appendChild(h)}h&&(h.innerHTML=o.value)},h=ht?document.getElementById("vuetify-theme-stylesheet"):null;ht?he(o,v,{immediate:!0}):v()}}const u=k(()=>t.isDisabled?void 0:`v-theme--${n.value}`);return{install:l,isDisabled:t.isDisabled,name:n,themes:i,current:s,computedThemes:r,themeClasses:u,styles:o,global:{name:n,current:s}}}function ft(e){zt("provideTheme");const t=He(Eu,null);if(!t)throw new Error("Could not find Vuetify theme injection");const n=k(()=>e.theme??t.name.value),i=k(()=>t.themes.value[n.value]),r=k(()=>t.isDisabled?void 0:`v-theme--${n.value}`),s={...t,name:n,current:i,themeClasses:r};return bt(Eu,s),s}function $p(){zt("useTheme");const e=He(Eu,null);if(!e)throw new Error("Could not find Vuetify theme injection");return e}function Qs(e,t,n){e.push(`${t} {
`,...n.map(i=>`  ${i};
`),`}
`)}function fS(e){const t=e.dark?2:1,n=e.dark?1:2,i=[];for(const[r,s]of Object.entries(e.colors)){const o=Ii(s);i.push(`--v-theme-${r}: ${o.r},${o.g},${o.b}`),r.startsWith("on-")||i.push(`--v-theme-${r}-overlay-multiplier: ${pv(s)>.18?t:n}`)}for(const[r,s]of Object.entries(e.variables)){const o=typeof s=="string"&&s.startsWith("#")?Ii(s):void 0,a=o?`${o.r}, ${o.g}, ${o.b}`:void 0;i.push(`--v-${r}: ${a??s}`)}return i}function Bi(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"content";const n=Bd(),i=j();if(ht){const r=new ResizeObserver(s=>{e==null||e(s,r),s.length&&(t==="content"?i.value=s[0].contentRect:i.value=s[0].target.getBoundingClientRect())});wn(()=>{r.disconnect()}),he(()=>n.el,(s,o)=>{o&&(r.unobserve(o),i.value=void 0),s&&r.observe(s)},{flush:"post"})}return{resizeRef:n,contentRect:Zu(i)}}const Tu=Symbol.for("vuetify:layout"),pE=Symbol.for("vuetify:layout-item"),hS=1e3,yE=z({overlaps:{type:Array,default:()=>[]},fullHeight:Boolean},"layout"),Mo=z({name:{type:String},order:{type:[Number,String],default:0},absolute:Boolean},"layout-item");function _E(){const e=He(Tu);if(!e)throw new Error("[Vuetify] Could not find injected layout");return{getLayoutItem:e.getLayoutItem,mainRect:e.mainRect,mainStyles:e.mainStyles}}function Lo(e){const t=He(Tu);if(!t)throw new Error("[Vuetify] Could not find injected layout");const n=e.id??`layout-item-${Sn()}`,i=zt("useLayoutItem");bt(pE,{id:n});const r=ye(!1);hp(()=>r.value=!0),XI(()=>r.value=!1);const{layoutItemStyles:s,layoutItemScrimStyles:o}=t.register(i,{...e,active:k(()=>r.value?!1:e.active.value),id:n});return wn(()=>t.unregister(n)),{layoutItemStyles:s,layoutRect:t.layoutRect,layoutItemScrimStyles:o}}const bL=(e,t,n,i)=>{let r={top:0,left:0,right:0,bottom:0};const s=[{id:"",layer:{...r}}];for(const o of e){const a=t.get(o),l=n.get(o),u=i.get(o);if(!a||!l||!u)continue;const c={...r,[a.value]:parseInt(r[a.value],10)+(u.value?parseInt(l.value,10):0)};s.push({id:o,layer:c}),r=c}return s};function bE(e){const t=He(Tu,null),n=k(()=>t?t.rootZIndex.value-100:hS),i=j([]),r=ln(new Map),s=ln(new Map),o=ln(new Map),a=ln(new Map),l=ln(new Map),{resizeRef:u,contentRect:c}=Bi(),d=k(()=>{const N=new Map,T=e.overlaps??[];for(const b of T.filter(_=>_.includes(":"))){const[_,E]=b.split(":");if(!i.value.includes(_)||!i.value.includes(E))continue;const P=r.get(_),I=r.get(E),R=s.get(_),H=s.get(E);!P||!I||!R||!H||(N.set(E,{position:P.value,amount:parseInt(R.value,10)}),N.set(_,{position:I.value,amount:-parseInt(H.value,10)}))}return N}),h=k(()=>{const N=[...new Set([...o.values()].map(b=>b.value))].sort((b,_)=>b-_),T=[];for(const b of N){const _=i.value.filter(E=>{var P;return((P=o.get(E))==null?void 0:P.value)===b});T.push(..._)}return bL(T,r,s,a)}),v=k(()=>!Array.from(l.values()).some(N=>N.value)),g=k(()=>h.value[h.value.length-1].layer),p=k(()=>({"--v-layout-left":Se(g.value.left),"--v-layout-right":Se(g.value.right),"--v-layout-top":Se(g.value.top),"--v-layout-bottom":Se(g.value.bottom),...v.value?void 0:{transition:"none"}})),y=k(()=>h.value.slice(1).map((N,T)=>{let{id:b}=N;const{layer:_}=h.value[T],E=s.get(b),P=r.get(b);return{id:b,..._,size:Number(E.value),position:P.value}})),w=N=>y.value.find(T=>T.id===N),C=zt("createLayout"),x=ye(!1);dt(()=>{x.value=!0}),bt(Tu,{register:(N,T)=>{let{id:b,order:_,position:E,layoutSize:P,elementSize:I,active:R,disableTransitions:H,absolute:q}=T;o.set(b,_),r.set(b,E),s.set(b,P),a.set(b,R),H&&l.set(b,H);const X=pa(pE,C==null?void 0:C.vnode).indexOf(N);X>-1?i.value.splice(X,0,b):i.value.push(b);const U=k(()=>y.value.findIndex(re=>re.id===b)),B=k(()=>n.value+h.value.length*2-U.value*2),$=k(()=>{const re=E.value==="left"||E.value==="right",de=E.value==="right",we=E.value==="bottom",Ie=I.value??P.value,oe=Ie===0?"%":"px",Q={[E.value]:0,zIndex:B.value,transform:`translate${re?"X":"Y"}(${(R.value?0:-(Ie===0?100:Ie))*(de||we?-1:1)}${oe})`,position:q.value||n.value!==hS?"absolute":"fixed",...v.value?void 0:{transition:"none"}};if(!x.value)return Q;const le=y.value[U.value];if(!le)throw new Error(`[Vuetify] Could not find layout item "${b}"`);const pe=d.value.get(b);return pe&&(le[pe.position]+=pe.amount),{...Q,height:re?`calc(100% - ${le.top}px - ${le.bottom}px)`:I.value?`${I.value}px`:void 0,left:de?void 0:`${le.left}px`,right:de?`${le.right}px`:void 0,top:E.value!=="bottom"?`${le.top}px`:void 0,bottom:E.value!=="top"?`${le.bottom}px`:void 0,width:re?I.value?`${I.value}px`:void 0:`calc(100% - ${le.left}px - ${le.right}px)`}}),Y=k(()=>({zIndex:B.value-1}));return{layoutItemStyles:$,layoutItemScrimStyles:Y,zIndex:B}},unregister:N=>{o.delete(N),r.delete(N),s.delete(N),a.delete(N),l.delete(N),i.value=i.value.filter(T=>T!==N)},mainRect:g,mainStyles:p,getLayoutItem:w,items:y,layoutRect:c,rootZIndex:n});const A=k(()=>["v-layout",{"v-layout--full-height":e.fullHeight}]),V=k(()=>({zIndex:t?n.value:void 0,position:t?"relative":void 0,overflow:t?"hidden":void 0}));return{layoutClasses:A,layoutStyles:V,getLayoutItem:w,items:y,layoutRect:c,layoutRef:u}}function wE(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{blueprint:t,...n}=e,i=Hn(t,n),{aliases:r={},components:s={},directives:o={}}=i,a=rM(i.defaults),l=aL(i.display,i.ssr),u=_L(i.theme),c=gL(i.icons),d=vM(i.locale),h=rL(i.date,d),v=uL(i.goTo,d);return{install:p=>{for(const y in o)p.directive(y,o[y]);for(const y in s)p.component(y,s[y]);for(const y in r)p.component(y,gi({...r[y],name:y,aliasName:r[y].name}));if(u.install(p),p.provide(Na,a),p.provide(_v,l),p.provide(Eu,u),p.provide(bv,c),p.provide(Oa,d),p.provide(hE,h.options),p.provide(sS,h.instance),p.provide(vE,v),ht&&i.ssr)if(p.$nuxt)p.$nuxt.hook("app:suspense:resolve",()=>{l.update()});else{const{mount:y}=p;p.mount=function(){const w=y(...arguments);return tt(()=>l.update()),p.mount=y,w}}Sn.reset(),p.mixin({computed:{$vuetify(){return ln({defaults:la.call(this,Na),display:la.call(this,_v),theme:la.call(this,Eu),icons:la.call(this,bv),locale:la.call(this,Oa),date:la.call(this,sS)})}}})},defaults:a,display:l,theme:u,icons:c,locale:d,date:h,goTo:v}}const wL="3.7.2";wE.version=wL;function la(e){var i,r;const t=this.$,n=((i=t.parent)==null?void 0:i.provides)??((r=t.vnode.appContext)==null?void 0:r.provides);if(n&&e in n)return n[e]}const SL=bO("settings",{state(){return{darkMode:!1}},actions:{toggleDarkMode(){this.darkMode=!this.darkMode}}}),CL=bn({__name:"App",setup(e){const{mobile:t}=pi({mobileBreakpoint:"md"}),n=j(1),i=k(()=>{switch(n.value){case 0:return"blue-grey";case 1:return"teal";case 2:return"brown";case 3:return"indigo";default:return"blue-grey"}}),r=j(!1),s=[],o=SL(),a=$p(),l=new URL("/teachers-agenda/assets/logor-m1FxASBK.png",import.meta.url).href,u=new URL("/teachers-agenda/assets/logo-CTnTPHwr.png",import.meta.url).href,c=j(!0);j(),j();const d=void 0;function h(){o.toggleDarkMode(),a.global.name.value=a.global.name.value=="myCustomDarkTheme"?"myCustomLightTheme":"myCustomDarkTheme"}function v(){}function g(){}function p(y){return!0}return(y,w)=>{const C=Z("v-img"),x=Z("v-list-item-title"),A=Z("v-list-item-subtitle"),V=Z("v-list-item"),N=Z("v-divider"),T=Z("v-icon"),b=Z("v-list"),_=Z("v-col"),E=Z("v-row"),P=Z("v-footer"),I=Z("v-navigation-drawer"),R=Z("v-app-bar-nav-icon"),H=Z("v-app-bar-title"),q=Z("v-btn"),W=Z("v-menu"),X=Z("v-app-bar"),U=Z("v-slide-x-transition"),B=Z("router-view"),$=Z("v-container"),Y=Z("v-main"),re=Z("v-bottom-navigation"),de=Z("v-layout"),we=Z("v-app");return Fe(),Je(we,null,{default:F(()=>[qe(t)?an("",!0):(Fe(),Je(I,{key:0,permanent:"",modelValue:c.value,"onUpdate:modelValue":w[0]||(w[0]=Ie=>c.value=Ie)},{append:F(()=>[f(P,{height:"45",class:"px-0"},{default:F(()=>[f(E,{"align-content":"center","no-gutters":"",class:"text-caption"},{default:F(()=>[f(_,{"align-self":"center",cols:"7"},{default:F(()=>[f(C,{src:qe(u),height:"45"},null,8,["src"])]),_:1}),f(_,{"align-self":"center",cols:"1"}),f(_,{"align-self":"center",class:"d-flex",cols:"3"},{default:F(()=>[f(T,{start:""},{default:F(()=>w[12]||(w[12]=[Ve("mdi-alpha-v-circle")])),_:1}),kt("span",null,_t(qe(d)),1)]),_:1})]),_:1})]),_:1})]),default:F(()=>[f(V,{height:"64"},{prepend:F(()=>[f(C,{contain:"",src:qe(l),height:"45",width:"45"},null,8,["src"])]),default:F(()=>[f(x,{class:"text-h6 ml-3"},{default:F(()=>w[3]||(w[3]=[Ve("Agenda")])),_:1}),f(A,{class:"text-h6 ml-3 pb-1"},{default:F(()=>w[4]||(w[4]=[Ve("Del Maestro")])),_:1})]),_:1}),f(N),f(b,{dense:"",nav:""},{default:F(()=>[f(V,{to:"/",color:"lime-darken-4"},{prepend:F(()=>[f(T,{icon:"mdi-home"})]),default:F(()=>[f(x,null,{default:F(()=>w[5]||(w[5]=[Ve("Home")])),_:1})]),_:1}),f(V,{to:"/schools",color:"lime-darken-4"},{prepend:F(()=>[f(T,{icon:"mdi-town-hall"})]),default:F(()=>[f(x,null,{default:F(()=>w[6]||(w[6]=[Ve("Gestisci Scuole")])),_:1})]),_:1}),f(V,{to:"/calendar",color:"lime-darken-4"},{prepend:F(()=>[f(T,{icon:"mdi-calendar"})]),default:F(()=>[f(x,null,{default:F(()=>w[7]||(w[7]=[Ve("Calendario")])),_:1})]),_:1}),f(V,{to:"/lesson/"+new Date,color:"lime-darken-4"},{prepend:F(()=>[f(T,{icon:"mdi-book-account"})]),default:F(()=>[f(x,null,{default:F(()=>w[8]||(w[8]=[Ve("Lezioni")])),_:1})]),_:1},8,["to"]),f(V,{to:"/recoveries",color:"lime-darken-4"},{prepend:F(()=>[f(T,{icon:"mdi-repeat"})]),default:F(()=>[f(x,null,{default:F(()=>w[9]||(w[9]=[Ve("Recuperi")])),_:1})]),_:1}),f(V,{to:"/reports",color:"lime-darken-4"},{prepend:F(()=>[f(T,{icon:"mdi-chart-bar"})]),default:F(()=>[f(x,null,{default:F(()=>w[10]||(w[10]=[Ve("Statistiche")])),_:1})]),_:1}),p("HANDLE_DIE")?(Fe(),Je(V,{key:0,to:"/settings",color:"lime-darken-4"},{prepend:F(()=>[f(T,{icon:"mdi-cog"})]),default:F(()=>[f(x,null,{default:F(()=>w[11]||(w[11]=[Ve("Impostazioni")])),_:1})]),_:1})):an("",!0)]),_:1})]),_:1},8,["modelValue"])),f(X,{color:"grey-darken-4"},{default:F(()=>[qe(t)?an("",!0):(Fe(),Je(R,{key:0,onClick:w[1]||(w[1]=Ie=>c.value=!c.value)})),f(H,{style:{"margin-left":"-10px"}}),f(q,{onClick:h,icon:"",class:"mr-2"},{default:F(()=>[f(T,{right:""},{default:F(()=>w[13]||(w[13]=[Ve("mdi-theme-light-dark")])),_:1})]),_:1}),f(W,{transition:"slide-y-transition"},{activator:F(({props:Ie})=>[f(q,J({icon:"",class:"mr-2"},Ie),{default:F(()=>[f(T,{right:""},{default:F(()=>w[14]||(w[14]=[Ve("mdi-bell")])),_:1})]),_:2},1040)]),default:F(()=>[f(b,null,{default:F(()=>[(Fe(),ei(be,null,sr(s,(Ie,oe)=>f(V,{key:oe},{default:F(()=>[f(x,null,{default:F(()=>[Ve(_t(Ie.title),1)]),_:2},1024)]),_:2},1024)),64))]),_:1})]),_:1}),kt("div",null,[r.value?an("",!0):(Fe(),Je(q,{key:0,class:"mx-5",variant:"outlined",onClick:v},{default:F(()=>[w[16]||(w[16]=Ve("Accedi ")),f(T,{right:"",class:"ml-2"},{default:F(()=>w[15]||(w[15]=[Ve("mdi-login")])),_:1})]),_:1})),r.value?(Fe(),Je(q,{key:1,class:"mx-5",variant:"outlined",onClick:g},{default:F(()=>[w[18]||(w[18]=Ve("Esci ")),f(T,{right:"",class:"ml-2"},{default:F(()=>w[17]||(w[17]=[Ve("mdi-logout")])),_:1})]),_:1})):an("",!0)])]),_:1}),f(Y,null,{default:F(()=>[f($,{fluid:""},{default:F(()=>[f(B,null,{default:F(({Component:Ie,route:oe})=>[f(U,{"leave-absolute":""},{default:F(()=>[(Fe(),Je(nk(Ie)))]),_:2},1024)]),_:1})]),_:1})]),_:1}),qe(t)?(Fe(),Je(de,{key:1,class:"overflow-visible position-relative",style:{height:"56px"}},{default:F(()=>[f(re,{class:"position-fixed bottom-0",modelValue:n.value,"onUpdate:modelValue":w[2]||(w[2]=Ie=>n.value=Ie),"bg-color":i.value,mode:"shift"},{default:F(()=>[f(q,null,{default:F(()=>[f(T,null,{default:F(()=>w[19]||(w[19]=[Ve("mdi-television-play")])),_:1}),w[20]||(w[20]=kt("span",null,"Video",-1))]),_:1}),f(q,null,{default:F(()=>[f(T,null,{default:F(()=>w[21]||(w[21]=[Ve("mdi-music-note")])),_:1}),w[22]||(w[22]=kt("span",null,"Music",-1))]),_:1}),f(q,null,{default:F(()=>[f(T,null,{default:F(()=>w[23]||(w[23]=[Ve("mdi-book")])),_:1}),w[24]||(w[24]=kt("span",null,"Book",-1))]),_:1}),f(q,null,{default:F(()=>[f(T,null,{default:F(()=>w[25]||(w[25]=[Ve("mdi-image")])),_:1}),w[26]||(w[26]=kt("span",null,"Image",-1))]),_:1})]),_:1},8,["modelValue","bg-color"])]),_:1})):an("",!0)]),_:1})}}}),IL=z({...Ee(),...yE({fullHeight:!0}),...nt()},"VApp"),kL=te()({name:"VApp",props:IL(),setup(e,t){let{slots:n}=t;const i=ft(e),{layoutClasses:r,getLayoutItem:s,items:o,layoutRef:a}=bE(e),{rtlClasses:l}=sn();return se(()=>{var u;return f("div",{ref:a,class:["v-application",i.themeClasses.value,r.value,l.value,e.class],style:[e.style]},[f("div",{class:"v-application__wrap"},[(u=n.default)==null?void 0:u.call(n)])])}),{getLayoutItem:s,items:o,theme:i}}}),Ge=z({tag:{type:String,default:"div"}},"tag"),SE=z({text:String,...Ee(),...Ge()},"VToolbarTitle"),Up=te()({name:"VToolbarTitle",props:SE(),setup(e,t){let{slots:n}=t;return se(()=>{const i=!!(n.default||n.text||e.text);return f(e.tag,{class:["v-toolbar-title",e.class],style:e.style},{default:()=>{var r;return[i&&f("div",{class:"v-toolbar-title__placeholder"},[n.text?n.text():e.text,(r=n.default)==null?void 0:r.call(n)])]}})}),{}}}),EL=z({disabled:Boolean,group:Boolean,hideOnLeave:Boolean,leaveAbsolute:Boolean,mode:String,origin:String},"transition");function yi(e,t,n){return te()({name:e,props:EL({mode:n,origin:t}),setup(i,r){let{slots:s}=r;const o={onBeforeEnter(a){i.origin&&(a.style.transformOrigin=i.origin)},onLeave(a){if(i.leaveAbsolute){const{offsetTop:l,offsetLeft:u,offsetWidth:c,offsetHeight:d}=a;a._transitionInitialStyles={position:a.style.position,top:a.style.top,left:a.style.left,width:a.style.width,height:a.style.height},a.style.position="absolute",a.style.top=`${l}px`,a.style.left=`${u}px`,a.style.width=`${c}px`,a.style.height=`${d}px`}i.hideOnLeave&&a.style.setProperty("display","none","important")},onAfterLeave(a){if(i.leaveAbsolute&&(a!=null&&a._transitionInitialStyles)){const{position:l,top:u,left:c,width:d,height:h}=a._transitionInitialStyles;delete a._transitionInitialStyles,a.style.position=l||"",a.style.top=u||"",a.style.left=c||"",a.style.width=d||"",a.style.height=h||""}}};return()=>{const a=i.group?Ip:ks;return qi(a,{name:i.disabled?"":e,css:!i.disabled,...i.group?void 0:{mode:i.mode},...i.disabled?{}:o},s.default)}}})}function CE(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"in-out";return te()({name:e,props:{mode:{type:String,default:n},disabled:Boolean,group:Boolean},setup(i,r){let{slots:s}=r;const o=i.group?Ip:ks;return()=>qi(o,{name:i.disabled?"":e,css:!i.disabled,...i.disabled?{}:t},s.default)}})}function IE(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";const n=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1)?"width":"height",i=hi(`offset-${n}`);return{onBeforeEnter(o){o._parent=o.parentNode,o._initialStyle={transition:o.style.transition,overflow:o.style.overflow,[n]:o.style[n]}},onEnter(o){const a=o._initialStyle;o.style.setProperty("transition","none","important"),o.style.overflow="hidden";const l=`${o[i]}px`;o.style[n]="0",o.offsetHeight,o.style.transition=a.transition,e&&o._parent&&o._parent.classList.add(e),requestAnimationFrame(()=>{o.style[n]=l})},onAfterEnter:s,onEnterCancelled:s,onLeave(o){o._initialStyle={transition:"",overflow:o.style.overflow,[n]:o.style[n]},o.style.overflow="hidden",o.style[n]=`${o[i]}px`,o.offsetHeight,requestAnimationFrame(()=>o.style[n]="0")},onAfterLeave:r,onLeaveCancelled:r};function r(o){e&&o._parent&&o._parent.classList.remove(e),s(o)}function s(o){const a=o._initialStyle[n];o.style.overflow=o._initialStyle.overflow,a!=null&&(o.style[n]=a),delete o._initialStyle}}const TL=z({target:[Object,Array]},"v-dialog-transition"),Gf=te()({name:"VDialogTransition",props:TL(),setup(e,t){let{slots:n}=t;const i={onBeforeEnter(r){r.style.pointerEvents="none",r.style.visibility="hidden"},async onEnter(r,s){var h;await new Promise(v=>requestAnimationFrame(v)),await new Promise(v=>requestAnimationFrame(v)),r.style.visibility="";const{x:o,y:a,sx:l,sy:u,speed:c}=vS(e.target,r),d=no(r,[{transform:`translate(${o}px, ${a}px) scale(${l}, ${u})`,opacity:0},{}],{duration:225*c,easing:lM});(h=mS(r))==null||h.forEach(v=>{no(v,[{opacity:0},{opacity:0,offset:.33},{}],{duration:225*2*c,easing:Iu})}),d.finished.then(()=>s())},onAfterEnter(r){r.style.removeProperty("pointer-events")},onBeforeLeave(r){r.style.pointerEvents="none"},async onLeave(r,s){var h;await new Promise(v=>requestAnimationFrame(v));const{x:o,y:a,sx:l,sy:u,speed:c}=vS(e.target,r);no(r,[{},{transform:`translate(${o}px, ${a}px) scale(${l}, ${u})`,opacity:0}],{duration:125*c,easing:uM}).finished.then(()=>s()),(h=mS(r))==null||h.forEach(v=>{no(v,[{},{opacity:0,offset:.2},{opacity:0}],{duration:125*2*c,easing:Iu})})},onAfterLeave(r){r.style.removeProperty("pointer-events")}};return()=>e.target?f(ks,J({name:"dialog-transition"},i,{css:!1}),n):f(ks,{name:"dialog-transition"},n)}});function mS(e){var n;const t=(n=e.querySelector(":scope > .v-card, :scope > .v-sheet, :scope > .v-list"))==null?void 0:n.children;return t&&[...t]}function vS(e,t){const n=Gk(e),i=Rp(t),[r,s]=getComputedStyle(t).transformOrigin.split(" ").map(w=>parseFloat(w)),[o,a]=getComputedStyle(t).getPropertyValue("--v-overlay-anchor-origin").split(" ");let l=n.left+n.width/2;o==="left"||a==="left"?l-=n.width/2:(o==="right"||a==="right")&&(l+=n.width/2);let u=n.top+n.height/2;o==="top"||a==="top"?u-=n.height/2:(o==="bottom"||a==="bottom")&&(u+=n.height/2);const c=n.width/i.width,d=n.height/i.height,h=Math.max(1,c,d),v=c/h||0,g=d/h||0,p=i.width*i.height/(window.innerWidth*window.innerHeight),y=p>.12?Math.min(1.5,(p-.12)*10+1):1;return{x:l-(r+i.left),y:u-(s+i.top),sx:v,sy:g,speed:y}}const AL=yi("fab-transition","center center","out-in"),PL=yi("dialog-bottom-transition"),xL=yi("dialog-top-transition"),Au=yi("fade-transition"),Hp=yi("scale-transition"),RL=yi("scroll-x-transition"),VL=yi("scroll-x-reverse-transition"),DL=yi("scroll-y-transition"),NL=yi("scroll-y-reverse-transition"),OL=yi("slide-x-transition"),ML=yi("slide-x-reverse-transition"),jp=yi("slide-y-transition"),LL=yi("slide-y-reverse-transition"),Kf=CE("expand-transition",IE()),Wp=CE("expand-x-transition",IE("",!0)),FL=z({defaults:Object,disabled:Boolean,reset:[Number,String],root:[Boolean,String],scoped:Boolean},"VDefaultsProvider"),ze=te(!1)({name:"VDefaultsProvider",props:FL(),setup(e,t){let{slots:n}=t;const{defaults:i,disabled:r,reset:s,root:o,scoped:a}=Wr(e);return Ot(i,{reset:s,root:o,scoped:a,disabled:r}),()=>{var l;return(l=n.default)==null?void 0:l.call(n)}}}),Jt=z({height:[Number,String],maxHeight:[Number,String],maxWidth:[Number,String],minHeight:[Number,String],minWidth:[Number,String],width:[Number,String]},"dimension");function Zt(e){return{dimensionStyles:k(()=>{const n={},i=Se(e.height),r=Se(e.maxHeight),s=Se(e.maxWidth),o=Se(e.minHeight),a=Se(e.minWidth),l=Se(e.width);return i!=null&&(n.height=i),r!=null&&(n.maxHeight=r),s!=null&&(n.maxWidth=s),o!=null&&(n.minHeight=o),a!=null&&(n.minWidth=a),l!=null&&(n.width=l),n})}}function BL(e){return{aspectStyles:k(()=>{const t=Number(e.aspectRatio);return t?{paddingBottom:String(1/t*100)+"%"}:void 0})}}const kE=z({aspectRatio:[String,Number],contentClass:null,inline:Boolean,...Ee(),...Jt()},"VResponsive"),Sv=te()({name:"VResponsive",props:kE(),setup(e,t){let{slots:n}=t;const{aspectStyles:i}=BL(e),{dimensionStyles:r}=Zt(e);return se(()=>{var s;return f("div",{class:["v-responsive",{"v-responsive--inline":e.inline},e.class],style:[r.value,e.style]},[f("div",{class:"v-responsive__sizer",style:i.value},null),(s=n.additional)==null?void 0:s.call(n),n.default&&f("div",{class:["v-responsive__content",e.contentClass]},[n.default()])])}),{}}});function zp(e){return Pp(()=>{const t=[],n={};if(e.value.background)if(gv(e.value.background)){if(n.backgroundColor=e.value.background,!e.value.text&&XO(e.value.background)){const i=Ii(e.value.background);if(i.a==null||i.a===1){const r=rE(i);n.color=r,n.caretColor=r}}}else t.push(`bg-${e.value.background}`);return e.value.text&&(gv(e.value.text)?(n.color=e.value.text,n.caretColor=e.value.text):t.push(`text-${e.value.text}`)),{colorClasses:t,colorStyles:n}})}function yn(e,t){const n=k(()=>({text:Et(e)?e.value:t?e[t]:null})),{colorClasses:i,colorStyles:r}=zp(n);return{textColorClasses:i,textColorStyles:r}}function wt(e,t){const n=k(()=>({background:Et(e)?e.value:t?e[t]:null})),{colorClasses:i,colorStyles:r}=zp(n);return{backgroundColorClasses:i,backgroundColorStyles:r}}const Mt=z({rounded:{type:[Boolean,Number,String],default:void 0},tile:Boolean},"rounded");function qt(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:hr();return{roundedClasses:k(()=>{const i=Et(e)?e.value:e.rounded,r=Et(e)?e.value:e.tile,s=[];if(i===!0||i==="")s.push(`${t}--rounded`);else if(typeof i=="string"||i===0)for(const o of String(i).split(" "))s.push(`rounded-${o}`);else(r||i===!1)&&s.push("rounded-0");return s})}}const Ki=z({transition:{type:[Boolean,String,Object],default:"fade-transition",validator:e=>e!==!0}},"transition"),jn=(e,t)=>{let{slots:n}=t;const{transition:i,disabled:r,group:s,...o}=e,{component:a=s?Ip:ks,...l}=typeof i=="object"?i:{};return qi(a,J(typeof i=="string"?{name:r?"":i}:l,typeof i=="string"?{}:Object.fromEntries(Object.entries({disabled:r,group:s}).filter(u=>{let[c,d]=u;return d!==void 0})),o),n)};function $L(e,t){if(!kp)return;const n=t.modifiers||{},i=t.value,{handler:r,options:s}=typeof i=="object"?i:{handler:i,options:{}},o=new IntersectionObserver(function(){var d;let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],l=arguments.length>1?arguments[1]:void 0;const u=(d=e._observe)==null?void 0:d[t.instance.$.uid];if(!u)return;const c=a.some(h=>h.isIntersecting);r&&(!n.quiet||u.init)&&(!n.once||c||u.init)&&r(c,a,l),c&&n.once?EE(e,t):u.init=!0},s);e._observe=Object(e._observe),e._observe[t.instance.$.uid]={init:!1,observer:o},o.observe(e)}function EE(e,t){var i;const n=(i=e._observe)==null?void 0:i[t.instance.$.uid];n&&(n.observer.unobserve(e),delete e._observe[t.instance.$.uid])}const rc={mounted:$L,unmounted:EE},TE=z({absolute:Boolean,alt:String,cover:Boolean,color:String,draggable:{type:[Boolean,String],default:void 0},eager:Boolean,gradient:String,lazySrc:String,options:{type:Object,default:()=>({root:void 0,rootMargin:void 0,threshold:void 0})},sizes:String,src:{type:[String,Object],default:""},crossorigin:String,referrerpolicy:String,srcset:String,position:String,...kE(),...Ee(),...Mt(),...Ki()},"VImg"),Fr=te()({name:"VImg",directives:{intersect:rc},props:TE(),emits:{loadstart:e=>!0,load:e=>!0,error:e=>!0},setup(e,t){let{emit:n,slots:i}=t;const{backgroundColorClasses:r,backgroundColorStyles:s}=wt(ee(e,"color")),{roundedClasses:o}=qt(e),a=zt("VImg"),l=ye(""),u=j(),c=ye(e.eager?"loading":"idle"),d=ye(),h=ye(),v=k(()=>e.src&&typeof e.src=="object"?{src:e.src.src,srcset:e.srcset||e.src.srcset,lazySrc:e.lazySrc||e.src.lazySrc,aspect:Number(e.aspectRatio||e.src.aspect||0)}:{src:e.src,srcset:e.srcset,lazySrc:e.lazySrc,aspect:Number(e.aspectRatio||0)}),g=k(()=>v.value.aspect||d.value/h.value||0);he(()=>e.src,()=>{p(c.value!=="idle")}),he(g,(I,R)=>{!I&&R&&u.value&&A(u.value)}),mp(()=>p());function p(I){if(!(e.eager&&I)&&!(kp&&!I&&!e.eager)){if(c.value="loading",v.value.lazySrc){const R=new Image;R.src=v.value.lazySrc,A(R,null)}v.value.src&&tt(()=>{var R;n("loadstart",((R=u.value)==null?void 0:R.currentSrc)||v.value.src),setTimeout(()=>{var H;if(!a.isUnmounted)if((H=u.value)!=null&&H.complete){if(u.value.naturalWidth||w(),c.value==="error")return;g.value||A(u.value,null),c.value==="loading"&&y()}else g.value||A(u.value),C()})})}}function y(){var I;a.isUnmounted||(C(),A(u.value),c.value="loaded",n("load",((I=u.value)==null?void 0:I.currentSrc)||v.value.src))}function w(){var I;a.isUnmounted||(c.value="error",n("error",((I=u.value)==null?void 0:I.currentSrc)||v.value.src))}function C(){const I=u.value;I&&(l.value=I.currentSrc||I.src)}let x=-1;wn(()=>{clearTimeout(x)});function A(I){let R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:100;const H=()=>{if(clearTimeout(x),a.isUnmounted)return;const{naturalHeight:q,naturalWidth:W}=I;q||W?(d.value=W,h.value=q):!I.complete&&c.value==="loading"&&R!=null?x=window.setTimeout(H,R):(I.currentSrc.endsWith(".svg")||I.currentSrc.startsWith("data:image/svg+xml"))&&(d.value=1,h.value=1)};H()}const V=k(()=>({"v-img__img--cover":e.cover,"v-img__img--contain":!e.cover})),N=()=>{var H;if(!v.value.src||c.value==="idle")return null;const I=f("img",{class:["v-img__img",V.value],style:{objectPosition:e.position},src:v.value.src,srcset:v.value.srcset,alt:e.alt,crossorigin:e.crossorigin,referrerpolicy:e.referrerpolicy,draggable:e.draggable,sizes:e.sizes,ref:u,onLoad:y,onError:w},null),R=(H=i.sources)==null?void 0:H.call(i);return f(jn,{transition:e.transition,appear:!0},{default:()=>[Ht(R?f("picture",{class:"v-img__picture"},[R,I]):I,[[Gi,c.value==="loaded"]])]})},T=()=>f(jn,{transition:e.transition},{default:()=>[v.value.lazySrc&&c.value!=="loaded"&&f("img",{class:["v-img__img","v-img__img--preload",V.value],style:{objectPosition:e.position},src:v.value.lazySrc,alt:e.alt,crossorigin:e.crossorigin,referrerpolicy:e.referrerpolicy,draggable:e.draggable},null)]}),b=()=>i.placeholder?f(jn,{transition:e.transition,appear:!0},{default:()=>[(c.value==="loading"||c.value==="error"&&!i.error)&&f("div",{class:"v-img__placeholder"},[i.placeholder()])]}):null,_=()=>i.error?f(jn,{transition:e.transition,appear:!0},{default:()=>[c.value==="error"&&f("div",{class:"v-img__error"},[i.error()])]}):null,E=()=>e.gradient?f("div",{class:"v-img__gradient",style:{backgroundImage:`linear-gradient(${e.gradient})`}},null):null,P=ye(!1);{const I=he(g,R=>{R&&(requestAnimationFrame(()=>{requestAnimationFrame(()=>{P.value=!0})}),I())})}return se(()=>{const I=Sv.filterProps(e);return Ht(f(Sv,J({class:["v-img",{"v-img--absolute":e.absolute,"v-img--booting":!P.value},r.value,o.value,e.class],style:[{width:Se(e.width==="auto"?d.value:e.width)},s.value,e.style]},I,{aspectRatio:g.value,"aria-label":e.alt,role:e.alt?"img":void 0}),{additional:()=>f(be,null,[f(N,null,null),f(T,null,null),f(E,null,null),f(b,null,null),f(_,null,null)]),default:i.default}),[[vi("intersect"),{handler:p,options:e.options},null,{once:!0}]])}),{currentSrc:l,image:u,state:c,naturalWidth:d,naturalHeight:h}}}),oi=z({border:[Boolean,Number,String]},"border");function _i(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:hr();return{borderClasses:k(()=>{const i=Et(e)?e.value:e.border,r=[];if(i===!0||i==="")r.push(`${t}--border`);else if(typeof i=="string"||i===0)for(const s of String(i).split(" "))r.push(`border-${s}`);return r})}}const on=z({elevation:{type:[Number,String],validator(e){const t=parseInt(e);return!isNaN(t)&&t>=0&&t<=24}}},"elevation");function Cn(e){return{elevationClasses:k(()=>{const n=Et(e)?e.value:e.elevation,i=[];return n==null||i.push(`elevation-${n}`),i})}}const UL=[null,"prominent","default","comfortable","compact"],AE=z({absolute:Boolean,collapse:Boolean,color:String,density:{type:String,default:"default",validator:e=>UL.includes(e)},extended:Boolean,extensionHeight:{type:[Number,String],default:48},flat:Boolean,floating:Boolean,height:{type:[Number,String],default:64},image:String,title:String,...oi(),...Ee(),...on(),...Mt(),...Ge({tag:"header"}),...nt()},"VToolbar"),Cv=te()({name:"VToolbar",props:AE(),setup(e,t){var v;let{slots:n}=t;const{backgroundColorClasses:i,backgroundColorStyles:r}=wt(ee(e,"color")),{borderClasses:s}=_i(e),{elevationClasses:o}=Cn(e),{roundedClasses:a}=qt(e),{themeClasses:l}=ft(e),{rtlClasses:u}=sn(),c=ye(!!(e.extended||(v=n.extension)!=null&&v.call(n))),d=k(()=>parseInt(Number(e.height)+(e.density==="prominent"?Number(e.height):0)-(e.density==="comfortable"?8:0)-(e.density==="compact"?16:0),10)),h=k(()=>c.value?parseInt(Number(e.extensionHeight)+(e.density==="prominent"?Number(e.extensionHeight):0)-(e.density==="comfortable"?4:0)-(e.density==="compact"?8:0),10):0);return Ot({VBtn:{variant:"text"}}),se(()=>{var w;const g=!!(e.title||n.title),p=!!(n.image||e.image),y=(w=n.extension)==null?void 0:w.call(n);return c.value=!!(e.extended||y),f(e.tag,{class:["v-toolbar",{"v-toolbar--absolute":e.absolute,"v-toolbar--collapse":e.collapse,"v-toolbar--flat":e.flat,"v-toolbar--floating":e.floating,[`v-toolbar--density-${e.density}`]:!0},i.value,s.value,o.value,a.value,l.value,u.value,e.class],style:[r.value,e.style]},{default:()=>[p&&f("div",{key:"image",class:"v-toolbar__image"},[n.image?f(ze,{key:"image-defaults",disabled:!e.image,defaults:{VImg:{cover:!0,src:e.image}}},n.image):f(Fr,{key:"image-img",cover:!0,src:e.image},null)]),f(ze,{defaults:{VTabs:{height:Se(d.value)}}},{default:()=>{var C,x,A;return[f("div",{class:"v-toolbar__content",style:{height:Se(d.value)}},[n.prepend&&f("div",{class:"v-toolbar__prepend"},[(C=n.prepend)==null?void 0:C.call(n)]),g&&f(Up,{key:"title",text:e.title},{text:n.title}),(x=n.default)==null?void 0:x.call(n),n.append&&f("div",{class:"v-toolbar__append"},[(A=n.append)==null?void 0:A.call(n)])])]}}),f(ze,{defaults:{VTabs:{height:Se(h.value)}}},{default:()=>[f(Kf,null,{default:()=>[c.value&&f("div",{class:"v-toolbar__extension",style:{height:Se(h.value)}},[y])]})]})]})}),{contentHeight:d,extensionHeight:h}}}),HL=z({scrollTarget:{type:String},scrollThreshold:{type:[String,Number],default:300}},"scroll");function jL(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{canScroll:n}=t;let i=0,r=0;const s=j(null),o=ye(0),a=ye(0),l=ye(0),u=ye(!1),c=ye(!1),d=k(()=>Number(e.scrollThreshold)),h=k(()=>Ut((d.value-o.value)/d.value||0)),v=()=>{const g=s.value;if(!g||n&&!n.value)return;i=o.value,o.value="window"in g?g.pageYOffset:g.scrollTop;const p=g instanceof Window?document.documentElement.scrollHeight:g.scrollHeight;if(r!==p){r=p;return}c.value=o.value<i,l.value=Math.abs(o.value-d.value)};return he(c,()=>{a.value=a.value||o.value}),he(u,()=>{a.value=0}),dt(()=>{he(()=>e.scrollTarget,g=>{var y;const p=g?document.querySelector(g):window;p&&p!==s.value&&((y=s.value)==null||y.removeEventListener("scroll",v),s.value=p,s.value.addEventListener("scroll",v,{passive:!0}))},{immediate:!0})}),wn(()=>{var g;(g=s.value)==null||g.removeEventListener("scroll",v)}),n&&he(n,v,{immediate:!0}),{scrollThreshold:d,currentScroll:o,currentThreshold:l,isScrollActive:u,scrollRatio:h,isScrollingUp:c,savedScroll:a}}function Fo(){const e=ye(!1);return dt(()=>{window.requestAnimationFrame(()=>{e.value=!0})}),{ssrBootStyles:k(()=>e.value?void 0:{transition:"none !important"}),isBooted:Zu(e)}}const WL=z({scrollBehavior:String,modelValue:{type:Boolean,default:!0},location:{type:String,default:"top",validator:e=>["top","bottom"].includes(e)},...AE(),...Mo(),...HL(),height:{type:[Number,String],default:64}},"VAppBar"),zL=te()({name:"VAppBar",props:WL(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const i=j(),r=Re(e,"modelValue"),s=k(()=>{var x;const C=new Set(((x=e.scrollBehavior)==null?void 0:x.split(" "))??[]);return{hide:C.has("hide"),fullyHide:C.has("fully-hide"),inverted:C.has("inverted"),collapse:C.has("collapse"),elevate:C.has("elevate"),fadeImage:C.has("fade-image")}}),o=k(()=>{const C=s.value;return C.hide||C.fullyHide||C.inverted||C.collapse||C.elevate||C.fadeImage||!r.value}),{currentScroll:a,scrollThreshold:l,isScrollingUp:u,scrollRatio:c}=jL(e,{canScroll:o}),d=k(()=>s.value.hide||s.value.fullyHide),h=k(()=>e.collapse||s.value.collapse&&(s.value.inverted?c.value>0:c.value===0)),v=k(()=>e.flat||s.value.fullyHide&&!r.value||s.value.elevate&&(s.value.inverted?a.value>0:a.value===0)),g=k(()=>s.value.fadeImage?s.value.inverted?1-c.value:c.value:void 0),p=k(()=>{var A,V;if(s.value.hide&&s.value.inverted)return 0;const C=((A=i.value)==null?void 0:A.contentHeight)??0,x=((V=i.value)==null?void 0:V.extensionHeight)??0;return d.value?a.value<l.value||s.value.fullyHide?C+x:C:C+x});ti(k(()=>!!e.scrollBehavior),()=>{Gt(()=>{d.value?s.value.inverted?r.value=a.value>l.value:r.value=u.value||a.value<l.value:r.value=!0})});const{ssrBootStyles:y}=Fo(),{layoutItemStyles:w}=Lo({id:e.name,order:k(()=>parseInt(e.order,10)),position:ee(e,"location"),layoutSize:p,elementSize:ye(void 0),active:r,absolute:ee(e,"absolute")});return se(()=>{const C=Cv.filterProps(e);return f(Cv,J({ref:i,class:["v-app-bar",{"v-app-bar--bottom":e.location==="bottom"},e.class],style:[{...w.value,"--v-toolbar-image-opacity":g.value,height:void 0,...y.value},e.style]},C,{collapse:h.value,flat:v.value}),n)}),{}}}),qL=[null,"default","comfortable","compact"],dn=z({density:{type:String,default:"default",validator:e=>qL.includes(e)}},"density");function Kn(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:hr();return{densityClasses:k(()=>`${t}--density-${e.density}`)}}const GL=["elevated","flat","tonal","outlined","text","plain"];function Bs(e,t){return f(be,null,[e&&f("span",{key:"overlay",class:`${t}__overlay`},null),f("span",{key:"underlay",class:`${t}__underlay`},null)])}const Pi=z({color:String,variant:{type:String,default:"elevated",validator:e=>GL.includes(e)}},"variant");function Bo(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:hr();const n=k(()=>{const{variant:s}=qe(e);return`${t}--variant-${s}`}),{colorClasses:i,colorStyles:r}=zp(k(()=>{const{variant:s,color:o}=qe(e);return{[["elevated","flat"].includes(s)?"background":"text"]:o}}));return{colorClasses:i,colorStyles:r,variantClasses:n}}const PE=z({baseColor:String,divided:Boolean,...oi(),...Ee(),...dn(),...on(),...Mt(),...Ge(),...nt(),...Pi()},"VBtnGroup"),Iv=te()({name:"VBtnGroup",props:PE(),setup(e,t){let{slots:n}=t;const{themeClasses:i}=ft(e),{densityClasses:r}=Kn(e),{borderClasses:s}=_i(e),{elevationClasses:o}=Cn(e),{roundedClasses:a}=qt(e);Ot({VBtn:{height:"auto",baseColor:ee(e,"baseColor"),color:ee(e,"color"),density:ee(e,"density"),flat:!0,variant:ee(e,"variant")}}),se(()=>f(e.tag,{class:["v-btn-group",{"v-btn-group--divided":e.divided},i.value,s.value,r.value,o.value,a.value,e.class],style:e.style},n))}}),$o=z({modelValue:{type:null,default:void 0},multiple:Boolean,mandatory:[Boolean,String],max:Number,selectedClass:String,disabled:Boolean},"group"),Uo=z({value:null,disabled:Boolean,selectedClass:String},"group-item");function Ho(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;const i=zt("useGroupItem");if(!i)throw new Error("[Vuetify] useGroupItem composable must be used inside a component setup function");const r=Sn();bt(Symbol.for(`${t.description}:id`),r);const s=He(t,null);if(!s){if(!n)return s;throw new Error(`[Vuetify] Could not find useGroup injection with symbol ${t.description}`)}const o=ee(e,"value"),a=k(()=>!!(s.disabled.value||e.disabled));s.register({id:r,value:o,disabled:a},i),wn(()=>{s.unregister(r)});const l=k(()=>s.isSelected(r)),u=k(()=>s.items.value[0].id===r),c=k(()=>s.items.value[s.items.value.length-1].id===r),d=k(()=>l.value&&[s.selectedClass.value,e.selectedClass]);return he(l,h=>{i.emit("group:selected",{value:h})},{flush:"sync"}),{id:r,isSelected:l,isFirst:u,isLast:c,toggle:()=>s.select(r,!l.value),select:h=>s.select(r,h),selectedClass:d,value:o,disabled:a,group:s}}function $s(e,t){let n=!1;const i=ln([]),r=Re(e,"modelValue",[],h=>h==null?[]:xE(i,Dt(h)),h=>{const v=YL(i,h);return e.multiple?v:v[0]}),s=zt("useGroup");function o(h,v){const g=h,p=Symbol.for(`${t.description}:id`),w=pa(p,s==null?void 0:s.vnode).indexOf(v);qe(g.value)==null&&(g.value=w,g.useIndexAsValue=!0),w>-1?i.splice(w,0,g):i.push(g)}function a(h){if(n)return;l();const v=i.findIndex(g=>g.id===h);i.splice(v,1)}function l(){const h=i.find(v=>!v.disabled);h&&e.mandatory==="force"&&!r.value.length&&(r.value=[h.id])}dt(()=>{l()}),wn(()=>{n=!0}),vp(()=>{for(let h=0;h<i.length;h++)i[h].useIndexAsValue&&(i[h].value=h)});function u(h,v){const g=i.find(p=>p.id===h);if(!(v&&(g!=null&&g.disabled)))if(e.multiple){const p=r.value.slice(),y=p.findIndex(C=>C===h),w=~y;if(v=v??!w,w&&e.mandatory&&p.length<=1||!w&&e.max!=null&&p.length+1>e.max)return;y<0&&v?p.push(h):y>=0&&!v&&p.splice(y,1),r.value=p}else{const p=r.value.includes(h);if(e.mandatory&&p)return;r.value=v??!p?[h]:[]}}function c(h){if(e.multiple,r.value.length){const v=r.value[0],g=i.findIndex(w=>w.id===v);let p=(g+h)%i.length,y=i[p];for(;y.disabled&&p!==g;)p=(p+h)%i.length,y=i[p];if(y.disabled)return;r.value=[i[p].id]}else{const v=i.find(g=>!g.disabled);v&&(r.value=[v.id])}}const d={register:o,unregister:a,selected:r,select:u,disabled:ee(e,"disabled"),prev:()=>c(i.length-1),next:()=>c(1),isSelected:h=>r.value.includes(h),selectedClass:k(()=>e.selectedClass),items:k(()=>i),getItemIndex:h=>KL(i,h)};return bt(t,d),d}function KL(e,t){const n=xE(e,[t]);return n.length?e.findIndex(i=>i.id===n[0]):-1}function xE(e,t){const n=[];return t.forEach(i=>{const r=e.find(o=>fr(i,o.value)),s=e[i];(r==null?void 0:r.value)!=null?n.push(r.id):s!=null&&n.push(s.id)}),n}function YL(e,t){const n=[];return t.forEach(i=>{const r=e.findIndex(s=>s.id===i);if(~r){const s=e[r];n.push(s.value!=null?s.value:r)}}),n}const qp=Symbol.for("vuetify:v-btn-toggle"),QL=z({...PE(),...$o()},"VBtnToggle"),XL=te()({name:"VBtnToggle",props:QL(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const{isSelected:i,next:r,prev:s,select:o,selected:a}=$s(e,qp);return se(()=>{const l=Iv.filterProps(e);return f(Iv,J({class:["v-btn-toggle",e.class]},l,{style:e.style}),{default:()=>{var u;return[(u=n.default)==null?void 0:u.call(n,{isSelected:i,next:r,prev:s,select:o,selected:a})]}})}),{next:r,prev:s,select:o}}}),JL=["x-small","small","default","large","x-large"],vr=z({size:{type:[String,Number],default:"default"}},"size");function Xa(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:hr();return Pp(()=>{let n,i;return Fd(JL,e.size)?n=`${t}--size-${e.size}`:e.size&&(i={width:Se(e.size),height:Se(e.size)}),{sizeClasses:n,sizeStyles:i}})}const ZL=z({color:String,disabled:Boolean,start:Boolean,end:Boolean,icon:Be,...Ee(),...vr(),...Ge({tag:"i"}),...nt()},"VIcon"),st=te()({name:"VIcon",props:ZL(),setup(e,t){let{attrs:n,slots:i}=t;const r=j(),{themeClasses:s}=ft(e),{iconData:o}=pL(k(()=>r.value||e.icon)),{sizeClasses:a}=Xa(e),{textColorClasses:l,textColorStyles:u}=yn(ee(e,"color"));return se(()=>{var h,v;const c=(h=i.default)==null?void 0:h.call(i);c&&(r.value=(v=Hk(c).filter(g=>g.type===tc&&g.children&&typeof g.children=="string")[0])==null?void 0:v.children);const d=!!(n.onClick||n.onClickOnce);return f(o.value.component,{tag:e.tag,icon:o.value.icon,class:["v-icon","notranslate",s.value,a.value,l.value,{"v-icon--clickable":d,"v-icon--disabled":e.disabled,"v-icon--start":e.start,"v-icon--end":e.end},e.class],style:[a.value?void 0:{fontSize:Se(e.size),height:Se(e.size),width:Se(e.size)},u.value,e.style],role:d?"button":void 0,"aria-hidden":!d,tabindex:d?e.disabled?-1:0:void 0},{default:()=>[c]})}),{}}});function Yf(e,t){const n=j(),i=ye(!1);if(kp){const r=new IntersectionObserver(s=>{i.value=!!s.find(o=>o.isIntersecting)},t);wn(()=>{r.disconnect()}),he(n,(s,o)=>{o&&(r.unobserve(o),i.value=!1),s&&r.observe(s)},{flush:"post"})}return{intersectionRef:n,isIntersecting:i}}const e2=z({bgColor:String,color:String,indeterminate:[Boolean,String],modelValue:{type:[Number,String],default:0},rotate:{type:[Number,String],default:0},width:{type:[Number,String],default:4},...Ee(),...vr(),...Ge({tag:"div"}),...nt()},"VProgressCircular"),Es=te()({name:"VProgressCircular",props:e2(),setup(e,t){let{slots:n}=t;const i=20,r=2*Math.PI*i,s=j(),{themeClasses:o}=ft(e),{sizeClasses:a,sizeStyles:l}=Xa(e),{textColorClasses:u,textColorStyles:c}=yn(ee(e,"color")),{textColorClasses:d,textColorStyles:h}=yn(ee(e,"bgColor")),{intersectionRef:v,isIntersecting:g}=Yf(),{resizeRef:p,contentRect:y}=Bi(),w=k(()=>Math.max(0,Math.min(100,parseFloat(e.modelValue)))),C=k(()=>Number(e.width)),x=k(()=>l.value?Number(e.size):y.value?y.value.width:Math.max(C.value,32)),A=k(()=>i/(1-C.value/x.value)*2),V=k(()=>C.value/x.value*A.value),N=k(()=>Se((100-w.value)/100*r));return Gt(()=>{v.value=s.value,p.value=s.value}),se(()=>f(e.tag,{ref:s,class:["v-progress-circular",{"v-progress-circular--indeterminate":!!e.indeterminate,"v-progress-circular--visible":g.value,"v-progress-circular--disable-shrink":e.indeterminate==="disable-shrink"},o.value,a.value,u.value,e.class],style:[l.value,c.value,e.style],role:"progressbar","aria-valuemin":"0","aria-valuemax":"100","aria-valuenow":e.indeterminate?void 0:w.value},{default:()=>[f("svg",{style:{transform:`rotate(calc(-90deg + ${Number(e.rotate)}deg))`},xmlns:"http://www.w3.org/2000/svg",viewBox:`0 0 ${A.value} ${A.value}`},[f("circle",{class:["v-progress-circular__underlay",d.value],style:h.value,fill:"transparent",cx:"50%",cy:"50%",r:i,"stroke-width":V.value,"stroke-dasharray":r,"stroke-dashoffset":0},null),f("circle",{class:"v-progress-circular__overlay",fill:"transparent",cx:"50%",cy:"50%",r:i,"stroke-width":V.value,"stroke-dasharray":r,"stroke-dashoffset":N.value},null)]),n.default&&f("div",{class:"v-progress-circular__content"},[n.default({value:w.value})])]})),{}}}),gS={center:"center",top:"bottom",bottom:"top",left:"right",right:"left"},qr=z({location:String},"location");function jo(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=arguments.length>2?arguments[2]:void 0;const{isRtl:i}=sn();return{locationStyles:k(()=>{if(!e.location)return{};const{side:s,align:o}=mv(e.location.split(" ").length>1?e.location:`${e.location} center`,i.value);function a(u){return n?n(u):0}const l={};return s!=="center"&&(t?l[gS[s]]=`calc(100% - ${a(s)}px)`:l[s]=0),o!=="center"?t?l[gS[o]]=`calc(100% - ${a(o)}px)`:l[o]=0:(s==="center"?l.top=l.left="50%":l[{top:"left",bottom:"left",left:"top",right:"top"}[s]]="50%",l.transform={top:"translateX(-50%)",bottom:"translateX(-50%)",left:"translateY(-50%)",right:"translateY(-50%)",center:"translate(-50%, -50%)"}[s]),l})}}const t2=z({absolute:Boolean,active:{type:Boolean,default:!0},bgColor:String,bgOpacity:[Number,String],bufferValue:{type:[Number,String],default:0},bufferColor:String,bufferOpacity:[Number,String],clickable:Boolean,color:String,height:{type:[Number,String],default:4},indeterminate:Boolean,max:{type:[Number,String],default:100},modelValue:{type:[Number,String],default:0},opacity:[Number,String],reverse:Boolean,stream:Boolean,striped:Boolean,roundedBar:Boolean,...Ee(),...qr({location:"top"}),...Mt(),...Ge(),...nt()},"VProgressLinear"),Qf=te()({name:"VProgressLinear",props:t2(),emits:{"update:modelValue":e=>!0},setup(e,t){var P;let{slots:n}=t;const i=Re(e,"modelValue"),{isRtl:r,rtlClasses:s}=sn(),{themeClasses:o}=ft(e),{locationStyles:a}=jo(e),{textColorClasses:l,textColorStyles:u}=yn(e,"color"),{backgroundColorClasses:c,backgroundColorStyles:d}=wt(k(()=>e.bgColor||e.color)),{backgroundColorClasses:h,backgroundColorStyles:v}=wt(k(()=>e.bufferColor||e.bgColor||e.color)),{backgroundColorClasses:g,backgroundColorStyles:p}=wt(e,"color"),{roundedClasses:y}=qt(e),{intersectionRef:w,isIntersecting:C}=Yf(),x=k(()=>parseFloat(e.max)),A=k(()=>parseFloat(e.height)),V=k(()=>Ut(parseFloat(e.bufferValue)/x.value*100,0,100)),N=k(()=>Ut(parseFloat(i.value)/x.value*100,0,100)),T=k(()=>r.value!==e.reverse),b=k(()=>e.indeterminate?"fade-transition":"slide-x-transition"),_=ht&&((P=window.matchMedia)==null?void 0:P.call(window,"(forced-colors: active)").matches);function E(I){if(!w.value)return;const{left:R,right:H,width:q}=w.value.getBoundingClientRect(),W=T.value?q-I.clientX+(H-q):I.clientX-R;i.value=Math.round(W/q*x.value)}return se(()=>f(e.tag,{ref:w,class:["v-progress-linear",{"v-progress-linear--absolute":e.absolute,"v-progress-linear--active":e.active&&C.value,"v-progress-linear--reverse":T.value,"v-progress-linear--rounded":e.rounded,"v-progress-linear--rounded-bar":e.roundedBar,"v-progress-linear--striped":e.striped},y.value,o.value,s.value,e.class],style:[{bottom:e.location==="bottom"?0:void 0,top:e.location==="top"?0:void 0,height:e.active?Se(A.value):0,"--v-progress-linear-height":Se(A.value),...e.absolute?a.value:{}},e.style],role:"progressbar","aria-hidden":e.active?"false":"true","aria-valuemin":"0","aria-valuemax":e.max,"aria-valuenow":e.indeterminate?void 0:N.value,onClick:e.clickable&&E},{default:()=>[e.stream&&f("div",{key:"stream",class:["v-progress-linear__stream",l.value],style:{...u.value,[T.value?"left":"right"]:Se(-A.value),borderTop:`${Se(A.value/2)} dotted`,opacity:parseFloat(e.bufferOpacity),top:`calc(50% - ${Se(A.value/4)})`,width:Se(100-V.value,"%"),"--v-progress-linear-stream-to":Se(A.value*(T.value?1:-1))}},null),f("div",{class:["v-progress-linear__background",_?void 0:c.value],style:[d.value,{opacity:parseFloat(e.bgOpacity),width:e.stream?0:void 0}]},null),f("div",{class:["v-progress-linear__buffer",_?void 0:h.value],style:[v.value,{opacity:parseFloat(e.bufferOpacity),width:Se(V.value,"%")}]},null),f(ks,{name:b.value},{default:()=>[e.indeterminate?f("div",{class:"v-progress-linear__indeterminate"},[["long","short"].map(I=>f("div",{key:I,class:["v-progress-linear__indeterminate",I,_?void 0:g.value],style:p.value},null))]):f("div",{class:["v-progress-linear__determinate",_?void 0:g.value],style:[p.value,{width:Se(N.value,"%")}]},null)]}),n.default&&f("div",{class:"v-progress-linear__content"},[n.default({value:N.value,buffer:V.value})])]})),{}}}),Xf=z({loading:[Boolean,String]},"loader");function sc(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:hr();return{loaderClasses:k(()=>({[`${t}--loading`]:e.loading}))}}function oc(e,t){var i;let{slots:n}=t;return f("div",{class:`${e.name}__loader`},[((i=n.default)==null?void 0:i.call(n,{color:e.color,isActive:e.active}))||f(Qf,{absolute:e.absolute,active:e.active,color:e.color,height:"2",indeterminate:!0},null)])}const n2=["static","relative","fixed","absolute","sticky"],Ja=z({position:{type:String,validator:e=>n2.includes(e)}},"position");function Za(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:hr();return{positionClasses:k(()=>e.position?`${t}--${e.position}`:void 0)}}function i2(){const e=zt("useRoute");return k(()=>{var t;return(t=e==null?void 0:e.proxy)==null?void 0:t.$route})}function RE(){var e,t;return(t=(e=zt("useRouter"))==null?void 0:e.proxy)==null?void 0:t.$router}function el(e,t){var d,h;const n=nk("RouterLink"),i=k(()=>!!(e.href||e.to)),r=k(()=>(i==null?void 0:i.value)||$w(t,"click")||$w(e,"click"));if(typeof n=="string"||!("useLink"in n)){const v=ee(e,"href");return{isLink:i,isClickable:r,href:v,linkProps:ln({href:v})}}const s=k(()=>({...e,to:ee(()=>e.to||"")})),o=n.useLink(s.value),a=k(()=>e.to?o:void 0),l=i2(),u=k(()=>{var v,g,p;return a.value?e.exact?l.value?((p=a.value.isExactActive)==null?void 0:p.value)&&fr(a.value.route.value.query,l.value.query):((g=a.value.isExactActive)==null?void 0:g.value)??!1:((v=a.value.isActive)==null?void 0:v.value)??!1:!1}),c=k(()=>{var v;return e.to?(v=a.value)==null?void 0:v.route.value.href:e.href});return{isLink:i,isClickable:r,isActive:u,route:(d=a.value)==null?void 0:d.route,navigate:(h=a.value)==null?void 0:h.navigate,href:c,linkProps:ln({href:c,"aria-current":k(()=>u.value?"page":void 0)})}}const ac=z({href:String,replace:Boolean,to:[String,Object],exact:Boolean},"router");let Sm=!1;function r2(e,t){let n=!1,i,r;ht&&(tt(()=>{window.addEventListener("popstate",s),i=e==null?void 0:e.beforeEach((o,a,l)=>{Sm?n?t(l):l():setTimeout(()=>n?t(l):l()),Sm=!0}),r=e==null?void 0:e.afterEach(()=>{Sm=!1})}),_n(()=>{window.removeEventListener("popstate",s),i==null||i(),r==null||r()}));function s(o){var a;(a=o.state)!=null&&a.replaced||(n=!0,setTimeout(()=>n=!1))}}function s2(e,t){he(()=>{var n;return(n=e.isActive)==null?void 0:n.value},n=>{e.isLink.value&&n&&t&&tt(()=>{t(!0)})},{immediate:!0})}const kv=Symbol("rippleStop"),o2=80;function pS(e,t){e.style.transform=t,e.style.webkitTransform=t}function Ev(e){return e.constructor.name==="TouchEvent"}function VE(e){return e.constructor.name==="KeyboardEvent"}const a2=function(e,t){var d;let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=0,r=0;if(!VE(e)){const h=t.getBoundingClientRect(),v=Ev(e)?e.touches[e.touches.length-1]:e;i=v.clientX-h.left,r=v.clientY-h.top}let s=0,o=.3;(d=t._ripple)!=null&&d.circle?(o=.15,s=t.clientWidth/2,s=n.center?s:s+Math.sqrt((i-s)**2+(r-s)**2)/4):s=Math.sqrt(t.clientWidth**2+t.clientHeight**2)/2;const a=`${(t.clientWidth-s*2)/2}px`,l=`${(t.clientHeight-s*2)/2}px`,u=n.center?a:`${i-s}px`,c=n.center?l:`${r-s}px`;return{radius:s,scale:o,x:u,y:c,centerX:a,centerY:l}},jd={show(e,t){var v;let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!((v=t==null?void 0:t._ripple)!=null&&v.enabled))return;const i=document.createElement("span"),r=document.createElement("span");i.appendChild(r),i.className="v-ripple__container",n.class&&(i.className+=` ${n.class}`);const{radius:s,scale:o,x:a,y:l,centerX:u,centerY:c}=a2(e,t,n),d=`${s*2}px`;r.className="v-ripple__animation",r.style.width=d,r.style.height=d,t.appendChild(i);const h=window.getComputedStyle(t);h&&h.position==="static"&&(t.style.position="relative",t.dataset.previousPosition="static"),r.classList.add("v-ripple__animation--enter"),r.classList.add("v-ripple__animation--visible"),pS(r,`translate(${a}, ${l}) scale3d(${o},${o},${o})`),r.dataset.activated=String(performance.now()),setTimeout(()=>{r.classList.remove("v-ripple__animation--enter"),r.classList.add("v-ripple__animation--in"),pS(r,`translate(${u}, ${c}) scale3d(1,1,1)`)},0)},hide(e){var s;if(!((s=e==null?void 0:e._ripple)!=null&&s.enabled))return;const t=e.getElementsByClassName("v-ripple__animation");if(t.length===0)return;const n=t[t.length-1];if(n.dataset.isHiding)return;n.dataset.isHiding="true";const i=performance.now()-Number(n.dataset.activated),r=Math.max(250-i,0);setTimeout(()=>{n.classList.remove("v-ripple__animation--in"),n.classList.add("v-ripple__animation--out"),setTimeout(()=>{var a;e.getElementsByClassName("v-ripple__animation").length===1&&e.dataset.previousPosition&&(e.style.position=e.dataset.previousPosition,delete e.dataset.previousPosition),((a=n.parentNode)==null?void 0:a.parentNode)===e&&e.removeChild(n.parentNode)},300)},r)}};function DE(e){return typeof e>"u"||!!e}function Pu(e){const t={},n=e.currentTarget;if(!(!(n!=null&&n._ripple)||n._ripple.touched||e[kv])){if(e[kv]=!0,Ev(e))n._ripple.touched=!0,n._ripple.isTouch=!0;else if(n._ripple.isTouch)return;if(t.center=n._ripple.centered||VE(e),n._ripple.class&&(t.class=n._ripple.class),Ev(e)){if(n._ripple.showTimerCommit)return;n._ripple.showTimerCommit=()=>{jd.show(e,n,t)},n._ripple.showTimer=window.setTimeout(()=>{var i;(i=n==null?void 0:n._ripple)!=null&&i.showTimerCommit&&(n._ripple.showTimerCommit(),n._ripple.showTimerCommit=null)},o2)}else jd.show(e,n,t)}}function yS(e){e[kv]=!0}function li(e){const t=e.currentTarget;if(t!=null&&t._ripple){if(window.clearTimeout(t._ripple.showTimer),e.type==="touchend"&&t._ripple.showTimerCommit){t._ripple.showTimerCommit(),t._ripple.showTimerCommit=null,t._ripple.showTimer=window.setTimeout(()=>{li(e)});return}window.setTimeout(()=>{t._ripple&&(t._ripple.touched=!1)}),jd.hide(t)}}function NE(e){const t=e.currentTarget;t!=null&&t._ripple&&(t._ripple.showTimerCommit&&(t._ripple.showTimerCommit=null),window.clearTimeout(t._ripple.showTimer))}let xu=!1;function OE(e){!xu&&(e.keyCode===Mw.enter||e.keyCode===Mw.space)&&(xu=!0,Pu(e))}function ME(e){xu=!1,li(e)}function LE(e){xu&&(xu=!1,li(e))}function FE(e,t,n){const{value:i,modifiers:r}=t,s=DE(i);if(s||jd.hide(e),e._ripple=e._ripple??{},e._ripple.enabled=s,e._ripple.centered=r.center,e._ripple.circle=r.circle,Ep(i)&&i.class&&(e._ripple.class=i.class),s&&!n){if(r.stop){e.addEventListener("touchstart",yS,{passive:!0}),e.addEventListener("mousedown",yS);return}e.addEventListener("touchstart",Pu,{passive:!0}),e.addEventListener("touchend",li,{passive:!0}),e.addEventListener("touchmove",NE,{passive:!0}),e.addEventListener("touchcancel",li),e.addEventListener("mousedown",Pu),e.addEventListener("mouseup",li),e.addEventListener("mouseleave",li),e.addEventListener("keydown",OE),e.addEventListener("keyup",ME),e.addEventListener("blur",LE),e.addEventListener("dragstart",li,{passive:!0})}else!s&&n&&BE(e)}function BE(e){e.removeEventListener("mousedown",Pu),e.removeEventListener("touchstart",Pu),e.removeEventListener("touchend",li),e.removeEventListener("touchmove",NE),e.removeEventListener("touchcancel",li),e.removeEventListener("mouseup",li),e.removeEventListener("mouseleave",li),e.removeEventListener("keydown",OE),e.removeEventListener("keyup",ME),e.removeEventListener("dragstart",li),e.removeEventListener("blur",LE)}function l2(e,t){FE(e,t,!1)}function u2(e){delete e._ripple,BE(e)}function c2(e,t){if(t.value===t.oldValue)return;const n=DE(t.oldValue);FE(e,t,n)}const Gr={mounted:l2,unmounted:u2,updated:c2},Jf=z({active:{type:Boolean,default:void 0},activeColor:String,baseColor:String,symbol:{type:null,default:qp},flat:Boolean,icon:[Boolean,String,Function,Object],prependIcon:Be,appendIcon:Be,block:Boolean,readonly:Boolean,slim:Boolean,stacked:Boolean,ripple:{type:[Boolean,Object],default:!0},text:String,...oi(),...Ee(),...dn(),...Jt(),...on(),...Uo(),...Xf(),...qr(),...Ja(),...Mt(),...ac(),...vr(),...Ge({tag:"button"}),...nt(),...Pi({variant:"elevated"})},"VBtn"),Ke=te()({name:"VBtn",props:Jf(),emits:{"group:selected":e=>!0},setup(e,t){let{attrs:n,slots:i}=t;const{themeClasses:r}=ft(e),{borderClasses:s}=_i(e),{densityClasses:o}=Kn(e),{dimensionStyles:a}=Zt(e),{elevationClasses:l}=Cn(e),{loaderClasses:u}=sc(e),{locationStyles:c}=jo(e),{positionClasses:d}=Za(e),{roundedClasses:h}=qt(e),{sizeClasses:v,sizeStyles:g}=Xa(e),p=Ho(e,e.symbol,!1),y=el(e,n),w=k(()=>{var P;return e.active!==void 0?e.active:y.isLink.value?(P=y.isActive)==null?void 0:P.value:p==null?void 0:p.isSelected.value}),C=k(()=>w.value?e.activeColor??e.color:e.color),x=k(()=>{var I,R;return{color:(p==null?void 0:p.isSelected.value)&&(!y.isLink.value||((I=y.isActive)==null?void 0:I.value))||!p||((R=y.isActive)==null?void 0:R.value)?C.value??e.baseColor:e.baseColor,variant:e.variant}}),{colorClasses:A,colorStyles:V,variantClasses:N}=Bo(x),T=k(()=>(p==null?void 0:p.disabled.value)||e.disabled),b=k(()=>e.variant==="elevated"&&!(e.disabled||e.flat||e.border)),_=k(()=>{if(!(e.value===void 0||typeof e.value=="symbol"))return Object(e.value)===e.value?JSON.stringify(e.value,null,0):e.value});function E(P){var I;T.value||y.isLink.value&&(P.metaKey||P.ctrlKey||P.shiftKey||P.button!==0||n.target==="_blank")||((I=y.navigate)==null||I.call(y,P),p==null||p.toggle())}return s2(y,p==null?void 0:p.select),se(()=>{const P=y.isLink.value?"a":e.tag,I=!!(e.prependIcon||i.prepend),R=!!(e.appendIcon||i.append),H=!!(e.icon&&e.icon!==!0);return Ht(f(P,J({type:P==="a"?void 0:"button",class:["v-btn",p==null?void 0:p.selectedClass.value,{"v-btn--active":w.value,"v-btn--block":e.block,"v-btn--disabled":T.value,"v-btn--elevated":b.value,"v-btn--flat":e.flat,"v-btn--icon":!!e.icon,"v-btn--loading":e.loading,"v-btn--readonly":e.readonly,"v-btn--slim":e.slim,"v-btn--stacked":e.stacked},r.value,s.value,A.value,o.value,l.value,u.value,d.value,h.value,v.value,N.value,e.class],style:[V.value,a.value,c.value,g.value,e.style],"aria-busy":e.loading?!0:void 0,disabled:T.value||void 0,tabindex:e.loading||e.readonly?-1:void 0,onClick:E,value:_.value},y.linkProps),{default:()=>{var q;return[Bs(!0,"v-btn"),!e.icon&&I&&f("span",{key:"prepend",class:"v-btn__prepend"},[i.prepend?f(ze,{key:"prepend-defaults",disabled:!e.prependIcon,defaults:{VIcon:{icon:e.prependIcon}}},i.prepend):f(st,{key:"prepend-icon",icon:e.prependIcon},null)]),f("span",{class:"v-btn__content","data-no-activator":""},[!i.default&&H?f(st,{key:"content-icon",icon:e.icon},null):f(ze,{key:"content-defaults",disabled:!H,defaults:{VIcon:{icon:e.icon}}},{default:()=>{var W;return[((W=i.default)==null?void 0:W.call(i))??e.text]}})]),!e.icon&&R&&f("span",{key:"append",class:"v-btn__append"},[i.append?f(ze,{key:"append-defaults",disabled:!e.appendIcon,defaults:{VIcon:{icon:e.appendIcon}}},i.append):f(st,{key:"append-icon",icon:e.appendIcon},null)]),!!e.loading&&f("span",{key:"loader",class:"v-btn__loader"},[((q=i.loader)==null?void 0:q.call(i))??f(Es,{color:typeof e.loading=="boolean"?void 0:e.loading,indeterminate:!0,width:"2"},null)])]}}),[[Gr,!T.value&&e.ripple,"",{center:!!e.icon}]])}),{group:p}}}),d2=z({...Jf({icon:"$menu",variant:"text"})},"VAppBarNavIcon"),f2=te()({name:"VAppBarNavIcon",props:d2(),setup(e,t){let{slots:n}=t;return se(()=>f(Ke,J(e,{class:["v-app-bar-nav-icon"]}),n)),{}}}),h2=te()({name:"VAppBarTitle",props:SE(),setup(e,t){let{slots:n}=t;return se(()=>f(Up,J(e,{class:"v-app-bar-title"}),n)),{}}}),$E=mr("v-alert-title"),m2=["success","info","warning","error"],v2=z({border:{type:[Boolean,String],validator:e=>typeof e=="boolean"||["top","end","bottom","start"].includes(e)},borderColor:String,closable:Boolean,closeIcon:{type:Be,default:"$close"},closeLabel:{type:String,default:"$vuetify.close"},icon:{type:[Boolean,String,Function,Object],default:null},modelValue:{type:Boolean,default:!0},prominent:Boolean,title:String,text:String,type:{type:String,validator:e=>m2.includes(e)},...Ee(),...dn(),...Jt(),...on(),...qr(),...Ja(),...Mt(),...Ge(),...nt(),...Pi({variant:"flat"})},"VAlert"),g2=te()({name:"VAlert",props:v2(),emits:{"click:close":e=>!0,"update:modelValue":e=>!0},setup(e,t){let{emit:n,slots:i}=t;const r=Re(e,"modelValue"),s=k(()=>{if(e.icon!==!1)return e.type?e.icon??`$${e.type}`:e.icon}),o=k(()=>({color:e.color??e.type,variant:e.variant})),{themeClasses:a}=ft(e),{colorClasses:l,colorStyles:u,variantClasses:c}=Bo(o),{densityClasses:d}=Kn(e),{dimensionStyles:h}=Zt(e),{elevationClasses:v}=Cn(e),{locationStyles:g}=jo(e),{positionClasses:p}=Za(e),{roundedClasses:y}=qt(e),{textColorClasses:w,textColorStyles:C}=yn(ee(e,"borderColor")),{t:x}=At(),A=k(()=>({"aria-label":x(e.closeLabel),onClick(V){r.value=!1,n("click:close",V)}}));return()=>{const V=!!(i.prepend||s.value),N=!!(i.title||e.title),T=!!(i.close||e.closable);return r.value&&f(e.tag,{class:["v-alert",e.border&&{"v-alert--border":!!e.border,[`v-alert--border-${e.border===!0?"start":e.border}`]:!0},{"v-alert--prominent":e.prominent},a.value,l.value,d.value,v.value,p.value,y.value,c.value,e.class],style:[u.value,h.value,g.value,e.style],role:"alert"},{default:()=>{var b,_;return[Bs(!1,"v-alert"),e.border&&f("div",{key:"border",class:["v-alert__border",w.value],style:C.value},null),V&&f("div",{key:"prepend",class:"v-alert__prepend"},[i.prepend?f(ze,{key:"prepend-defaults",disabled:!s.value,defaults:{VIcon:{density:e.density,icon:s.value,size:e.prominent?44:28}}},i.prepend):f(st,{key:"prepend-icon",density:e.density,icon:s.value,size:e.prominent?44:28},null)]),f("div",{class:"v-alert__content"},[N&&f($E,{key:"title"},{default:()=>{var E;return[((E=i.title)==null?void 0:E.call(i))??e.title]}}),((b=i.text)==null?void 0:b.call(i))??e.text,(_=i.default)==null?void 0:_.call(i)]),i.append&&f("div",{key:"append",class:"v-alert__append"},[i.append()]),T&&f("div",{key:"close",class:"v-alert__close"},[i.close?f(ze,{key:"close-defaults",defaults:{VBtn:{icon:e.closeIcon,size:"x-small",variant:"text"}}},{default:()=>{var E;return[(E=i.close)==null?void 0:E.call(i,{props:A.value})]}}):f(Ke,J({key:"close-btn",icon:e.closeIcon,size:"x-small",variant:"text"},A.value),null)])]}})}}}),p2=z({start:Boolean,end:Boolean,icon:Be,image:String,text:String,...oi(),...Ee(),...dn(),...Mt(),...vr(),...Ge(),...nt(),...Pi({variant:"flat"})},"VAvatar"),mi=te()({name:"VAvatar",props:p2(),setup(e,t){let{slots:n}=t;const{themeClasses:i}=ft(e),{borderClasses:r}=_i(e),{colorClasses:s,colorStyles:o,variantClasses:a}=Bo(e),{densityClasses:l}=Kn(e),{roundedClasses:u}=qt(e),{sizeClasses:c,sizeStyles:d}=Xa(e);return se(()=>f(e.tag,{class:["v-avatar",{"v-avatar--start":e.start,"v-avatar--end":e.end},i.value,r.value,s.value,l.value,u.value,c.value,a.value,e.class],style:[o.value,d.value,e.style]},{default:()=>[n.default?f(ze,{key:"content-defaults",defaults:{VImg:{cover:!0,src:e.image},VIcon:{icon:e.icon}}},{default:()=>[n.default()]}):e.image?f(Fr,{key:"image",src:e.image,alt:"",cover:!0},null):e.icon?f(st,{key:"icon",icon:e.icon},null):e.text,Bs(!1,"v-avatar")]})),{}}}),y2=z({text:String,onClick:cn(),...Ee(),...nt()},"VLabel"),tl=te()({name:"VLabel",props:y2(),setup(e,t){let{slots:n}=t;return se(()=>{var i;return f("label",{class:["v-label",{"v-label--clickable":!!e.onClick},e.class],style:e.style,onClick:e.onClick},[e.text,(i=n.default)==null?void 0:i.call(n)])}),{}}}),UE=Symbol.for("vuetify:selection-control-group"),Gp=z({color:String,disabled:{type:Boolean,default:null},defaultsTarget:String,error:Boolean,id:String,inline:Boolean,falseIcon:Be,trueIcon:Be,ripple:{type:[Boolean,Object],default:!0},multiple:{type:Boolean,default:null},name:String,readonly:{type:Boolean,default:null},modelValue:null,type:String,valueComparator:{type:Function,default:fr},...Ee(),...dn(),...nt()},"SelectionControlGroup"),_2=z({...Gp({defaultsTarget:"VSelectionControl"})},"VSelectionControlGroup"),HE=te()({name:"VSelectionControlGroup",props:_2(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const i=Re(e,"modelValue"),r=Sn(),s=k(()=>e.id||`v-selection-control-group-${r}`),o=k(()=>e.name||s.value),a=new Set;return bt(UE,{modelValue:i,forceUpdate:()=>{a.forEach(l=>l())},onForceUpdate:l=>{a.add(l),_n(()=>{a.delete(l)})}}),Ot({[e.defaultsTarget]:{color:ee(e,"color"),disabled:ee(e,"disabled"),density:ee(e,"density"),error:ee(e,"error"),inline:ee(e,"inline"),modelValue:i,multiple:k(()=>!!e.multiple||e.multiple==null&&Array.isArray(i.value)),name:o,falseIcon:ee(e,"falseIcon"),trueIcon:ee(e,"trueIcon"),readonly:ee(e,"readonly"),ripple:ee(e,"ripple"),type:ee(e,"type"),valueComparator:ee(e,"valueComparator")}}),se(()=>{var l;return f("div",{class:["v-selection-control-group",{"v-selection-control-group--inline":e.inline},e.class],style:e.style,role:e.type==="radio"?"radiogroup":void 0},[(l=n.default)==null?void 0:l.call(n)])}),{}}}),Zf=z({label:String,baseColor:String,trueValue:null,falseValue:null,value:null,...Ee(),...Gp()},"VSelectionControl");function b2(e){const t=He(UE,void 0),{densityClasses:n}=Kn(e),i=Re(e,"modelValue"),r=k(()=>e.trueValue!==void 0?e.trueValue:e.value!==void 0?e.value:!0),s=k(()=>e.falseValue!==void 0?e.falseValue:!1),o=k(()=>!!e.multiple||e.multiple==null&&Array.isArray(i.value)),a=k({get(){const v=t?t.modelValue.value:i.value;return o.value?Dt(v).some(g=>e.valueComparator(g,r.value)):e.valueComparator(v,r.value)},set(v){if(e.readonly)return;const g=v?r.value:s.value;let p=g;o.value&&(p=v?[...Dt(i.value),g]:Dt(i.value).filter(y=>!e.valueComparator(y,r.value))),t?t.modelValue.value=p:i.value=p}}),{textColorClasses:l,textColorStyles:u}=yn(k(()=>{if(!(e.error||e.disabled))return a.value?e.color:e.baseColor})),{backgroundColorClasses:c,backgroundColorStyles:d}=wt(k(()=>a.value&&!e.error&&!e.disabled?e.color:e.baseColor)),h=k(()=>a.value?e.trueIcon:e.falseIcon);return{group:t,densityClasses:n,trueValue:r,falseValue:s,model:a,textColorClasses:l,textColorStyles:u,backgroundColorClasses:c,backgroundColorStyles:d,icon:h}}const Ts=te()({name:"VSelectionControl",directives:{Ripple:Gr},inheritAttrs:!1,props:Zf(),emits:{"update:modelValue":e=>!0},setup(e,t){let{attrs:n,slots:i}=t;const{group:r,densityClasses:s,icon:o,model:a,textColorClasses:l,textColorStyles:u,backgroundColorClasses:c,backgroundColorStyles:d,trueValue:h}=b2(e),v=Sn(),g=ye(!1),p=ye(!1),y=j(),w=k(()=>e.id||`input-${v}`),C=k(()=>!e.disabled&&!e.readonly);r==null||r.onForceUpdate(()=>{y.value&&(y.value.checked=a.value)});function x(T){C.value&&(g.value=!0,Da(T.target,":focus-visible")!==!1&&(p.value=!0))}function A(){g.value=!1,p.value=!1}function V(T){T.stopPropagation()}function N(T){if(!C.value){y.value&&(y.value.checked=a.value);return}e.readonly&&r&&tt(()=>r.forceUpdate()),a.value=T.target.checked}return se(()=>{var P,I;const T=i.label?i.label({label:e.label,props:{for:w.value}}):e.label,[b,_]=Fs(n),E=f("input",J({ref:y,checked:a.value,disabled:!!e.disabled,id:w.value,onBlur:A,onFocus:x,onInput:N,"aria-disabled":!!e.disabled,"aria-label":e.label,type:e.type,value:h.value,name:e.name,"aria-checked":e.type==="checkbox"?a.value:void 0},_),null);return f("div",J({class:["v-selection-control",{"v-selection-control--dirty":a.value,"v-selection-control--disabled":e.disabled,"v-selection-control--error":e.error,"v-selection-control--focused":g.value,"v-selection-control--focus-visible":p.value,"v-selection-control--inline":e.inline},s.value,e.class]},b,{style:e.style}),[f("div",{class:["v-selection-control__wrapper",l.value],style:u.value},[(P=i.default)==null?void 0:P.call(i,{backgroundColorClasses:c,backgroundColorStyles:d}),Ht(f("div",{class:["v-selection-control__input"]},[((I=i.input)==null?void 0:I.call(i,{model:a,textColorClasses:l,textColorStyles:u,backgroundColorClasses:c,backgroundColorStyles:d,inputNode:E,icon:o.value,props:{onFocus:x,onBlur:A,id:w.value}}))??f(be,null,[o.value&&f(st,{key:"icon",icon:o.value},null),E])]),[[vi("ripple"),e.ripple&&[!e.disabled&&!e.readonly,null,["center","circle"]]]])]),T&&f(tl,{for:w.value,onClick:V},{default:()=>[T]})])}),{isFocused:g,input:y}}}),jE=z({indeterminate:Boolean,indeterminateIcon:{type:Be,default:"$checkboxIndeterminate"},...Zf({falseIcon:"$checkboxOff",trueIcon:"$checkboxOn"})},"VCheckboxBtn"),or=te()({name:"VCheckboxBtn",props:jE(),emits:{"update:modelValue":e=>!0,"update:indeterminate":e=>!0},setup(e,t){let{slots:n}=t;const i=Re(e,"indeterminate"),r=Re(e,"modelValue");function s(l){i.value&&(i.value=!1)}const o=k(()=>i.value?e.indeterminateIcon:e.falseIcon),a=k(()=>i.value?e.indeterminateIcon:e.trueIcon);return se(()=>{const l=pt(Ts.filterProps(e),["modelValue"]);return f(Ts,J(l,{modelValue:r.value,"onUpdate:modelValue":[u=>r.value=u,s],class:["v-checkbox-btn",e.class],style:e.style,type:"checkbox",falseIcon:o.value,trueIcon:a.value,"aria-checked":i.value?"mixed":void 0}),n)}),{}}});function WE(e){const{t}=At();function n(i){let{name:r}=i;const s={prepend:"prependAction",prependInner:"prependAction",append:"appendAction",appendInner:"appendAction",clear:"clear"}[r],o=e[`onClick:${r}`],a=o&&s?t(`$vuetify.input.${s}`,e.label??""):void 0;return f(st,{icon:e[`${r}Icon`],"aria-label":a,onClick:o},null)}return{InputIcon:n}}const w2=z({active:Boolean,color:String,messages:{type:[Array,String],default:()=>[]},...Ee(),...Ki({transition:{component:jp,leaveAbsolute:!0,group:!0}})},"VMessages"),zE=te()({name:"VMessages",props:w2(),setup(e,t){let{slots:n}=t;const i=k(()=>Dt(e.messages)),{textColorClasses:r,textColorStyles:s}=yn(k(()=>e.color));return se(()=>f(jn,{transition:e.transition,tag:"div",class:["v-messages",r.value,e.class],style:[s.value,e.style],role:"alert","aria-live":"polite"},{default:()=>[e.active&&i.value.map((o,a)=>f("div",{class:"v-messages__message",key:`${a}-${i.value}`},[n.message?n.message({message:o}):o]))]})),{}}}),nl=z({focused:Boolean,"onUpdate:focused":cn()},"focus");function gr(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:hr();const n=Re(e,"focused"),i=k(()=>({[`${t}--focused`]:n.value}));function r(){n.value=!0}function s(){n.value=!1}return{focusClasses:i,isFocused:n,focus:r,blur:s}}const qE=Symbol.for("vuetify:form"),S2=z({disabled:Boolean,fastFail:Boolean,readonly:Boolean,modelValue:{type:Boolean,default:null},validateOn:{type:String,default:"input"}},"form");function C2(e){const t=Re(e,"modelValue"),n=k(()=>e.disabled),i=k(()=>e.readonly),r=ye(!1),s=j([]),o=j([]);async function a(){const c=[];let d=!0;o.value=[],r.value=!0;for(const h of s.value){const v=await h.validate();if(v.length>0&&(d=!1,c.push({id:h.id,errorMessages:v})),!d&&e.fastFail)break}return o.value=c,r.value=!1,{valid:d,errors:o.value}}function l(){s.value.forEach(c=>c.reset())}function u(){s.value.forEach(c=>c.resetValidation())}return he(s,()=>{let c=0,d=0;const h=[];for(const v of s.value)v.isValid===!1?(d++,h.push({id:v.id,errorMessages:v.errorMessages})):v.isValid===!0&&c++;o.value=h,t.value=d>0?!1:c===s.value.length?!0:null},{deep:!0,flush:"post"}),bt(qE,{register:c=>{let{id:d,vm:h,validate:v,reset:g,resetValidation:p}=c;s.value.some(y=>y.id===d),s.value.push({id:d,validate:v,reset:g,resetValidation:p,vm:Vf(h),isValid:null,errorMessages:[]})},unregister:c=>{s.value=s.value.filter(d=>d.id!==c)},update:(c,d,h)=>{const v=s.value.find(g=>g.id===c);v&&(v.isValid=d,v.errorMessages=h)},isDisabled:n,isReadonly:i,isValidating:r,isValid:t,items:s,validateOn:ee(e,"validateOn")}),{errors:o,isDisabled:n,isReadonly:i,isValidating:r,isValid:t,items:s,validate:a,reset:l,resetValidation:u}}function lc(){return He(qE,null)}const GE=z({disabled:{type:Boolean,default:null},error:Boolean,errorMessages:{type:[Array,String],default:()=>[]},maxErrors:{type:[Number,String],default:1},name:String,label:String,readonly:{type:Boolean,default:null},rules:{type:Array,default:()=>[]},modelValue:null,validateOn:String,validationValue:null,...nl()},"validation");function KE(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:hr(),n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Sn();const i=Re(e,"modelValue"),r=k(()=>e.validationValue===void 0?i.value:e.validationValue),s=lc(),o=j([]),a=ye(!0),l=k(()=>!!(Dt(i.value===""?null:i.value).length||Dt(r.value===""?null:r.value).length)),u=k(()=>!!(e.disabled??(s==null?void 0:s.isDisabled.value))),c=k(()=>!!(e.readonly??(s==null?void 0:s.isReadonly.value))),d=k(()=>{var V;return(V=e.errorMessages)!=null&&V.length?Dt(e.errorMessages).concat(o.value).slice(0,Math.max(0,+e.maxErrors)):o.value}),h=k(()=>{let V=(e.validateOn??(s==null?void 0:s.validateOn.value))||"input";V==="lazy"&&(V="input lazy"),V==="eager"&&(V="input eager");const N=new Set((V==null?void 0:V.split(" "))??[]);return{input:N.has("input"),blur:N.has("blur")||N.has("input")||N.has("invalid-input"),invalidInput:N.has("invalid-input"),lazy:N.has("lazy"),eager:N.has("eager")}}),v=k(()=>{var V;return e.error||(V=e.errorMessages)!=null&&V.length?!1:e.rules.length?a.value?o.value.length||h.value.lazy?null:!0:!o.value.length:!0}),g=ye(!1),p=k(()=>({[`${t}--error`]:v.value===!1,[`${t}--dirty`]:l.value,[`${t}--disabled`]:u.value,[`${t}--readonly`]:c.value})),y=zt("validation"),w=k(()=>e.name??qe(n));mp(()=>{s==null||s.register({id:w.value,vm:y,validate:A,reset:C,resetValidation:x})}),wn(()=>{s==null||s.unregister(w.value)}),dt(async()=>{h.value.lazy||await A(!h.value.eager),s==null||s.update(w.value,v.value,d.value)}),ti(()=>h.value.input||h.value.invalidInput&&v.value===!1,()=>{he(r,()=>{if(r.value!=null)A();else if(e.focused){const V=he(()=>e.focused,N=>{N||A(),V()})}})}),ti(()=>h.value.blur,()=>{he(()=>e.focused,V=>{V||A()})}),he([v,d],()=>{s==null||s.update(w.value,v.value,d.value)});async function C(){i.value=null,await tt(),await x()}async function x(){a.value=!0,h.value.lazy?o.value=[]:await A(!h.value.eager)}async function A(){let V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const N=[];g.value=!0;for(const T of e.rules){if(N.length>=+(e.maxErrors??1))break;const _=await(typeof T=="function"?T:()=>T)(r.value);if(_!==!0){if(_!==!1&&typeof _!="string"){console.warn(`${_} is not a valid value. Rule functions must return boolean true or a string.`);continue}N.push(_||"")}}return o.value=N,g.value=!1,a.value=V,o.value}return{errorMessages:d,isDirty:l,isDisabled:u,isReadonly:c,isPristine:a,isValid:v,isValidating:g,reset:C,resetValidation:x,validate:A,validationClasses:p}}const Kr=z({id:String,appendIcon:Be,centerAffix:{type:Boolean,default:!0},prependIcon:Be,hideDetails:[Boolean,String],hideSpinButtons:Boolean,hint:String,persistentHint:Boolean,messages:{type:[Array,String],default:()=>[]},direction:{type:String,default:"horizontal",validator:e=>["horizontal","vertical"].includes(e)},"onClick:prepend":cn(),"onClick:append":cn(),...Ee(),...dn(),...$f(Jt(),["maxWidth","minWidth","width"]),...nt(),...GE()},"VInput"),Pn=te()({name:"VInput",props:{...Kr()},emits:{"update:modelValue":e=>!0},setup(e,t){let{attrs:n,slots:i,emit:r}=t;const{densityClasses:s}=Kn(e),{dimensionStyles:o}=Zt(e),{themeClasses:a}=ft(e),{rtlClasses:l}=sn(),{InputIcon:u}=WE(e),c=Sn(),d=k(()=>e.id||`input-${c}`),h=k(()=>`${d.value}-messages`),{errorMessages:v,isDirty:g,isDisabled:p,isReadonly:y,isPristine:w,isValid:C,isValidating:x,reset:A,resetValidation:V,validate:N,validationClasses:T}=KE(e,"v-input",d),b=k(()=>({id:d,messagesId:h,isDirty:g,isDisabled:p,isReadonly:y,isPristine:w,isValid:C,isValidating:x,reset:A,resetValidation:V,validate:N})),_=k(()=>{var E;return(E=e.errorMessages)!=null&&E.length||!w.value&&v.value.length?v.value:e.hint&&(e.persistentHint||e.focused)?e.hint:e.messages});return se(()=>{var H,q,W,X;const E=!!(i.prepend||e.prependIcon),P=!!(i.append||e.appendIcon),I=_.value.length>0,R=!e.hideDetails||e.hideDetails==="auto"&&(I||!!i.details);return f("div",{class:["v-input",`v-input--${e.direction}`,{"v-input--center-affix":e.centerAffix,"v-input--hide-spin-buttons":e.hideSpinButtons},s.value,a.value,l.value,T.value,e.class],style:[o.value,e.style]},[E&&f("div",{key:"prepend",class:"v-input__prepend"},[(H=i.prepend)==null?void 0:H.call(i,b.value),e.prependIcon&&f(u,{key:"prepend-icon",name:"prepend"},null)]),i.default&&f("div",{class:"v-input__control"},[(q=i.default)==null?void 0:q.call(i,b.value)]),P&&f("div",{key:"append",class:"v-input__append"},[e.appendIcon&&f(u,{key:"append-icon",name:"append"},null),(W=i.append)==null?void 0:W.call(i,b.value)]),R&&f("div",{class:"v-input__details"},[f(zE,{id:h.value,active:I,messages:_.value},{message:i.message}),(X=i.details)==null?void 0:X.call(i,b.value)])])}),{reset:A,resetValidation:V,validate:N,isValid:C,errorMessages:v}}}),I2=z({...Kr(),...pt(jE(),["inline"])},"VCheckbox"),k2=te()({name:"VCheckbox",inheritAttrs:!1,props:I2(),emits:{"update:modelValue":e=>!0,"update:focused":e=>!0},setup(e,t){let{attrs:n,slots:i}=t;const r=Re(e,"modelValue"),{isFocused:s,focus:o,blur:a}=gr(e),l=Sn(),u=k(()=>e.id||`checkbox-${l}`);return se(()=>{const[c,d]=Fs(n),h=Pn.filterProps(e),v=or.filterProps(e);return f(Pn,J({class:["v-checkbox",e.class]},c,h,{modelValue:r.value,"onUpdate:modelValue":g=>r.value=g,id:u.value,focused:s.value,style:e.style}),{...i,default:g=>{let{id:p,messagesId:y,isDisabled:w,isReadonly:C,isValid:x}=g;return f(or,J(v,{id:p.value,"aria-describedby":y.value,disabled:w.value,readonly:C.value},d,{error:x.value===!1,modelValue:r.value,"onUpdate:modelValue":A=>r.value=A,onFocus:o,onBlur:a}),i)}})}),{}}});function E2(e){let{selectedElement:t,containerElement:n,isRtl:i,isHorizontal:r}=e;const s=Ru(r,n),o=YE(r,i,n),a=Ru(r,t),l=QE(r,t),u=a*.4;return o>l?l-u:o+s<l+a?l-s+a+u:o}function T2(e){let{selectedElement:t,containerElement:n,isHorizontal:i}=e;const r=Ru(i,n),s=QE(i,t),o=Ru(i,t);return s-r/2+o/2}function _S(e,t){const n=e?"scrollWidth":"scrollHeight";return(t==null?void 0:t[n])||0}function A2(e,t){const n=e?"clientWidth":"clientHeight";return(t==null?void 0:t[n])||0}function YE(e,t,n){if(!n)return 0;const{scrollLeft:i,offsetWidth:r,scrollWidth:s}=n;return e?t?s-r+i:i:n.scrollTop}function Ru(e,t){const n=e?"offsetWidth":"offsetHeight";return(t==null?void 0:t[n])||0}function QE(e,t){const n=e?"offsetLeft":"offsetTop";return(t==null?void 0:t[n])||0}const XE=Symbol.for("vuetify:v-slide-group"),Kp=z({centerActive:Boolean,direction:{type:String,default:"horizontal"},symbol:{type:null,default:XE},nextIcon:{type:Be,default:"$next"},prevIcon:{type:Be,default:"$prev"},showArrows:{type:[Boolean,String],validator:e=>typeof e=="boolean"||["always","desktop","mobile"].includes(e)},...Ee(),...Oo({mobile:null}),...Ge(),...$o({selectedClass:"v-slide-group-item--active"})},"VSlideGroup"),Vu=te()({name:"VSlideGroup",props:Kp(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const{isRtl:i}=sn(),{displayClasses:r,mobile:s}=pi(e),o=$s(e,e.symbol),a=ye(!1),l=ye(0),u=ye(0),c=ye(0),d=k(()=>e.direction==="horizontal"),{resizeRef:h,contentRect:v}=Bi(),{resizeRef:g,contentRect:p}=Bi(),y=cL(),w=k(()=>({container:h.el,duration:200,easing:"easeOutQuart"})),C=k(()=>o.selected.value.length?o.items.value.findIndex($=>$.id===o.selected.value[0]):-1),x=k(()=>o.selected.value.length?o.items.value.findIndex($=>$.id===o.selected.value[o.selected.value.length-1]):-1);if(ht){let $=-1;he(()=>[o.selected.value,v.value,p.value,d.value],()=>{cancelAnimationFrame($),$=requestAnimationFrame(()=>{if(v.value&&p.value){const Y=d.value?"width":"height";u.value=v.value[Y],c.value=p.value[Y],a.value=u.value+1<c.value}if(C.value>=0&&g.el){const Y=g.el.children[x.value];V(Y,e.centerActive)}})})}const A=ye(!1);function V($,Y){let re=0;Y?re=T2({containerElement:h.el,isHorizontal:d.value,selectedElement:$}):re=E2({containerElement:h.el,isHorizontal:d.value,isRtl:i.value,selectedElement:$}),N(re)}function N($){if(!ht||!h.el)return;const Y=Ru(d.value,h.el),re=YE(d.value,i.value,h.el);if(!(_S(d.value,h.el)<=Y||Math.abs($-re)<16)){if(d.value&&i.value&&h.el){const{scrollWidth:we,offsetWidth:Ie}=h.el;$=we-Ie-$}d.value?y.horizontal($,w.value):y($,w.value)}}function T($){const{scrollTop:Y,scrollLeft:re}=$.target;l.value=d.value?re:Y}function b($){if(A.value=!0,!(!a.value||!g.el)){for(const Y of $.composedPath())for(const re of g.el.children)if(re===Y){V(re);return}}}function _($){A.value=!1}let E=!1;function P($){var Y;!E&&!A.value&&!($.relatedTarget&&((Y=g.el)!=null&&Y.contains($.relatedTarget)))&&H(),E=!1}function I(){E=!0}function R($){if(!g.el)return;function Y(re){$.preventDefault(),H(re)}d.value?$.key==="ArrowRight"?Y(i.value?"prev":"next"):$.key==="ArrowLeft"&&Y(i.value?"next":"prev"):$.key==="ArrowDown"?Y("next"):$.key==="ArrowUp"&&Y("prev"),$.key==="Home"?Y("first"):$.key==="End"&&Y("last")}function H($){var re,de;if(!g.el)return;let Y;if(!$)Y=Cu(g.el)[0];else if($==="next"){if(Y=(re=g.el.querySelector(":focus"))==null?void 0:re.nextElementSibling,!Y)return H("first")}else if($==="prev"){if(Y=(de=g.el.querySelector(":focus"))==null?void 0:de.previousElementSibling,!Y)return H("last")}else $==="first"?Y=g.el.firstElementChild:$==="last"&&(Y=g.el.lastElementChild);Y&&Y.focus({preventScroll:!0})}function q($){const Y=d.value&&i.value?-1:1,re=($==="prev"?-Y:Y)*u.value;let de=l.value+re;if(d.value&&i.value&&h.el){const{scrollWidth:we,offsetWidth:Ie}=h.el;de+=we-Ie}N(de)}const W=k(()=>({next:o.next,prev:o.prev,select:o.select,isSelected:o.isSelected})),X=k(()=>{switch(e.showArrows){case"always":return!0;case"desktop":return!s.value;case!0:return a.value||Math.abs(l.value)>0;case"mobile":return s.value||a.value||Math.abs(l.value)>0;default:return!s.value&&(a.value||Math.abs(l.value)>0)}}),U=k(()=>Math.abs(l.value)>1),B=k(()=>{if(!h.value)return!1;const $=_S(d.value,h.el),Y=A2(d.value,h.el);return $-Y-Math.abs(l.value)>1});return se(()=>f(e.tag,{class:["v-slide-group",{"v-slide-group--vertical":!d.value,"v-slide-group--has-affixes":X.value,"v-slide-group--is-overflowing":a.value},r.value,e.class],style:e.style,tabindex:A.value||o.selected.value.length?-1:0,onFocus:P},{default:()=>{var $,Y,re;return[X.value&&f("div",{key:"prev",class:["v-slide-group__prev",{"v-slide-group__prev--disabled":!U.value}],onMousedown:I,onClick:()=>U.value&&q("prev")},[(($=n.prev)==null?void 0:$.call(n,W.value))??f(Au,null,{default:()=>[f(st,{icon:i.value?e.nextIcon:e.prevIcon},null)]})]),f("div",{key:"container",ref:h,class:"v-slide-group__container",onScroll:T},[f("div",{ref:g,class:"v-slide-group__content",onFocusin:b,onFocusout:_,onKeydown:R},[(Y=n.default)==null?void 0:Y.call(n,W.value)])]),X.value&&f("div",{key:"next",class:["v-slide-group__next",{"v-slide-group__next--disabled":!B.value}],onMousedown:I,onClick:()=>B.value&&q("next")},[((re=n.next)==null?void 0:re.call(n,W.value))??f(Au,null,{default:()=>[f(st,{icon:i.value?e.prevIcon:e.nextIcon},null)]})])]}})),{selected:o.selected,scrollTo:q,scrollOffset:l,focus:H,hasPrev:U,hasNext:B}}}),JE=Symbol.for("vuetify:v-chip-group"),P2=z({column:Boolean,filter:Boolean,valueComparator:{type:Function,default:fr},...Kp(),...Ee(),...$o({selectedClass:"v-chip--selected"}),...Ge(),...nt(),...Pi({variant:"tonal"})},"VChipGroup"),x2=te()({name:"VChipGroup",props:P2(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const{themeClasses:i}=ft(e),{isSelected:r,select:s,next:o,prev:a,selected:l}=$s(e,JE);return Ot({VChip:{color:ee(e,"color"),disabled:ee(e,"disabled"),filter:ee(e,"filter"),variant:ee(e,"variant")}}),se(()=>{const u=Vu.filterProps(e);return f(Vu,J(u,{class:["v-chip-group",{"v-chip-group--column":e.column},i.value,e.class],style:e.style}),{default:()=>{var c;return[(c=n.default)==null?void 0:c.call(n,{isSelected:r,select:s,next:o,prev:a,selected:l.value})]}})}),{}}}),R2=z({activeClass:String,appendAvatar:String,appendIcon:Be,closable:Boolean,closeIcon:{type:Be,default:"$delete"},closeLabel:{type:String,default:"$vuetify.close"},draggable:Boolean,filter:Boolean,filterIcon:{type:String,default:"$complete"},label:Boolean,link:{type:Boolean,default:void 0},pill:Boolean,prependAvatar:String,prependIcon:Be,ripple:{type:[Boolean,Object],default:!0},text:String,modelValue:{type:Boolean,default:!0},onClick:cn(),onClickOnce:cn(),...oi(),...Ee(),...dn(),...on(),...Uo(),...Mt(),...ac(),...vr(),...Ge({tag:"span"}),...nt(),...Pi({variant:"tonal"})},"VChip"),Wo=te()({name:"VChip",directives:{Ripple:Gr},props:R2(),emits:{"click:close":e=>!0,"update:modelValue":e=>!0,"group:selected":e=>!0,click:e=>!0},setup(e,t){let{attrs:n,emit:i,slots:r}=t;const{t:s}=At(),{borderClasses:o}=_i(e),{colorClasses:a,colorStyles:l,variantClasses:u}=Bo(e),{densityClasses:c}=Kn(e),{elevationClasses:d}=Cn(e),{roundedClasses:h}=qt(e),{sizeClasses:v}=Xa(e),{themeClasses:g}=ft(e),p=Re(e,"modelValue"),y=Ho(e,JE,!1),w=el(e,n),C=k(()=>e.link!==!1&&w.isLink.value),x=k(()=>!e.disabled&&e.link!==!1&&(!!y||e.link||w.isClickable.value)),A=k(()=>({"aria-label":s(e.closeLabel),onClick(T){T.preventDefault(),T.stopPropagation(),p.value=!1,i("click:close",T)}}));function V(T){var b;i("click",T),x.value&&((b=w.navigate)==null||b.call(w,T),y==null||y.toggle())}function N(T){(T.key==="Enter"||T.key===" ")&&(T.preventDefault(),V(T))}return()=>{const T=w.isLink.value?"a":e.tag,b=!!(e.appendIcon||e.appendAvatar),_=!!(b||r.append),E=!!(r.close||e.closable),P=!!(r.filter||e.filter)&&y,I=!!(e.prependIcon||e.prependAvatar),R=!!(I||r.prepend),H=!y||y.isSelected.value;return p.value&&Ht(f(T,J({class:["v-chip",{"v-chip--disabled":e.disabled,"v-chip--label":e.label,"v-chip--link":x.value,"v-chip--filter":P,"v-chip--pill":e.pill},g.value,o.value,H?a.value:void 0,c.value,d.value,h.value,v.value,u.value,y==null?void 0:y.selectedClass.value,e.class],style:[H?l.value:void 0,e.style],disabled:e.disabled||void 0,draggable:e.draggable,tabindex:x.value?0:void 0,onClick:V,onKeydown:x.value&&!C.value&&N},w.linkProps),{default:()=>{var q;return[Bs(x.value,"v-chip"),P&&f(Wp,{key:"filter"},{default:()=>[Ht(f("div",{class:"v-chip__filter"},[r.filter?f(ze,{key:"filter-defaults",disabled:!e.filterIcon,defaults:{VIcon:{icon:e.filterIcon}}},r.filter):f(st,{key:"filter-icon",icon:e.filterIcon},null)]),[[Gi,y.isSelected.value]])]}),R&&f("div",{key:"prepend",class:"v-chip__prepend"},[r.prepend?f(ze,{key:"prepend-defaults",disabled:!I,defaults:{VAvatar:{image:e.prependAvatar,start:!0},VIcon:{icon:e.prependIcon,start:!0}}},r.prepend):f(be,null,[e.prependIcon&&f(st,{key:"prepend-icon",icon:e.prependIcon,start:!0},null),e.prependAvatar&&f(mi,{key:"prepend-avatar",image:e.prependAvatar,start:!0},null)])]),f("div",{class:"v-chip__content","data-no-activator":""},[((q=r.default)==null?void 0:q.call(r,{isSelected:y==null?void 0:y.isSelected.value,selectedClass:y==null?void 0:y.selectedClass.value,select:y==null?void 0:y.select,toggle:y==null?void 0:y.toggle,value:y==null?void 0:y.value.value,disabled:e.disabled}))??e.text]),_&&f("div",{key:"append",class:"v-chip__append"},[r.append?f(ze,{key:"append-defaults",disabled:!b,defaults:{VAvatar:{end:!0,image:e.appendAvatar},VIcon:{end:!0,icon:e.appendIcon}}},r.append):f(be,null,[e.appendIcon&&f(st,{key:"append-icon",end:!0,icon:e.appendIcon},null),e.appendAvatar&&f(mi,{key:"append-avatar",end:!0,image:e.appendAvatar},null)])]),E&&f("button",J({key:"close",class:"v-chip__close",type:"button"},A.value),[r.close?f(ze,{key:"close-defaults",defaults:{VIcon:{icon:e.closeIcon,size:"x-small"}}},r.close):f(st,{key:"close-icon",icon:e.closeIcon,size:"x-small"},null)])]}}),[[vi("ripple"),x.value&&e.ripple,null]])}}}),Tv=Symbol.for("vuetify:list");function ZE(){const e=He(Tv,{hasPrepend:ye(!1),updateHasPrepend:()=>null}),t={hasPrepend:ye(!1),updateHasPrepend:n=>{n&&(t.hasPrepend.value=n)}};return bt(Tv,t),e}function eT(){return He(Tv,null)}const Yp=e=>{const t={activate:n=>{let{id:i,value:r,activated:s}=n;return i=$e(i),e&&!r&&s.size===1&&s.has(i)||(r?s.add(i):s.delete(i)),s},in:(n,i,r)=>{let s=new Set;if(n!=null)for(const o of Dt(n))s=t.activate({id:o,value:!0,activated:new Set(s),children:i,parents:r});return s},out:n=>Array.from(n)};return t},tT=e=>{const t=Yp(e);return{activate:i=>{let{activated:r,id:s,...o}=i;s=$e(s);const a=r.has(s)?new Set([s]):new Set;return t.activate({...o,id:s,activated:a})},in:(i,r,s)=>{let o=new Set;if(i!=null){const a=Dt(i);a.length&&(o=t.in(a.slice(0,1),r,s))}return o},out:(i,r,s)=>t.out(i,r,s)}},V2=e=>{const t=Yp(e);return{activate:i=>{let{id:r,activated:s,children:o,...a}=i;return r=$e(r),o.has(r)?s:t.activate({id:r,activated:s,children:o,...a})},in:t.in,out:t.out}},D2=e=>{const t=tT(e);return{activate:i=>{let{id:r,activated:s,children:o,...a}=i;return r=$e(r),o.has(r)?s:t.activate({id:r,activated:s,children:o,...a})},in:t.in,out:t.out}},N2={open:e=>{let{id:t,value:n,opened:i,parents:r}=e;if(n){const s=new Set;s.add(t);let o=r.get(t);for(;o!=null;)s.add(o),o=r.get(o);return s}else return i.delete(t),i},select:()=>null},nT={open:e=>{let{id:t,value:n,opened:i,parents:r}=e;if(n){let s=r.get(t);for(i.add(t);s!=null&&s!==t;)i.add(s),s=r.get(s);return i}else i.delete(t);return i},select:()=>null},O2={open:nT.open,select:e=>{let{id:t,value:n,opened:i,parents:r}=e;if(!n)return i;const s=[];let o=r.get(t);for(;o!=null;)s.push(o),o=r.get(o);return new Set(s)}},Qp=e=>{const t={select:n=>{let{id:i,value:r,selected:s}=n;if(i=$e(i),e&&!r){const o=Array.from(s.entries()).reduce((a,l)=>{let[u,c]=l;return c==="on"&&a.push(u),a},[]);if(o.length===1&&o[0]===i)return s}return s.set(i,r?"on":"off"),s},in:(n,i,r)=>{let s=new Map;for(const o of n||[])s=t.select({id:o,value:!0,selected:new Map(s),children:i,parents:r});return s},out:n=>{const i=[];for(const[r,s]of n.entries())s==="on"&&i.push(r);return i}};return t},iT=e=>{const t=Qp(e);return{select:i=>{let{selected:r,id:s,...o}=i;s=$e(s);const a=r.has(s)?new Map([[s,r.get(s)]]):new Map;return t.select({...o,id:s,selected:a})},in:(i,r,s)=>{let o=new Map;return i!=null&&i.length&&(o=t.in(i.slice(0,1),r,s)),o},out:(i,r,s)=>t.out(i,r,s)}},M2=e=>{const t=Qp(e);return{select:i=>{let{id:r,selected:s,children:o,...a}=i;return r=$e(r),o.has(r)?s:t.select({id:r,selected:s,children:o,...a})},in:t.in,out:t.out}},L2=e=>{const t=iT(e);return{select:i=>{let{id:r,selected:s,children:o,...a}=i;return r=$e(r),o.has(r)?s:t.select({id:r,selected:s,children:o,...a})},in:t.in,out:t.out}},F2=e=>{const t={select:n=>{let{id:i,value:r,selected:s,children:o,parents:a}=n;i=$e(i);const l=new Map(s),u=[i];for(;u.length;){const d=u.shift();s.set($e(d),r?"on":"off"),o.has(d)&&u.push(...o.get(d))}let c=$e(a.get(i));for(;c;){const d=o.get(c),h=d.every(g=>s.get($e(g))==="on"),v=d.every(g=>!s.has($e(g))||s.get($e(g))==="off");s.set(c,h?"on":v?"off":"indeterminate"),c=$e(a.get(c))}return e&&!r&&Array.from(s.entries()).reduce((h,v)=>{let[g,p]=v;return p==="on"&&h.push(g),h},[]).length===0?l:s},in:(n,i,r)=>{let s=new Map;for(const o of n||[])s=t.select({id:o,value:!0,selected:new Map(s),children:i,parents:r});return s},out:(n,i)=>{const r=[];for(const[s,o]of n.entries())o==="on"&&!i.has(s)&&r.push(s);return r}};return t},Du=Symbol.for("vuetify:nested"),rT={id:ye(),root:{register:()=>null,unregister:()=>null,parents:j(new Map),children:j(new Map),open:()=>null,openOnSelect:()=>null,activate:()=>null,select:()=>null,activatable:j(!1),selectable:j(!1),opened:j(new Set),activated:j(new Set),selected:j(new Map),selectedValues:j([]),getPath:()=>[]}},B2=z({activatable:Boolean,selectable:Boolean,activeStrategy:[String,Function,Object],selectStrategy:[String,Function,Object],openStrategy:[String,Object],opened:null,activated:null,selected:null,mandatory:Boolean},"nested"),$2=e=>{let t=!1;const n=j(new Map),i=j(new Map),r=Re(e,"opened",e.opened,g=>new Set(g),g=>[...g.values()]),s=k(()=>{if(typeof e.activeStrategy=="object")return e.activeStrategy;if(typeof e.activeStrategy=="function")return e.activeStrategy(e.mandatory);switch(e.activeStrategy){case"leaf":return V2(e.mandatory);case"single-leaf":return D2(e.mandatory);case"independent":return Yp(e.mandatory);case"single-independent":default:return tT(e.mandatory)}}),o=k(()=>{if(typeof e.selectStrategy=="object")return e.selectStrategy;if(typeof e.selectStrategy=="function")return e.selectStrategy(e.mandatory);switch(e.selectStrategy){case"single-leaf":return L2(e.mandatory);case"leaf":return M2(e.mandatory);case"independent":return Qp(e.mandatory);case"single-independent":return iT(e.mandatory);case"classic":default:return F2(e.mandatory)}}),a=k(()=>{if(typeof e.openStrategy=="object")return e.openStrategy;switch(e.openStrategy){case"list":return O2;case"single":return N2;case"multiple":default:return nT}}),l=Re(e,"activated",e.activated,g=>s.value.in(g,n.value,i.value),g=>s.value.out(g,n.value,i.value)),u=Re(e,"selected",e.selected,g=>o.value.in(g,n.value,i.value),g=>o.value.out(g,n.value,i.value));wn(()=>{t=!0});function c(g){const p=[];let y=g;for(;y!=null;)p.unshift(y),y=i.value.get(y);return p}const d=zt("nested"),h=new Set,v={id:ye(),root:{opened:r,activatable:ee(e,"activatable"),selectable:ee(e,"selectable"),activated:l,selected:u,selectedValues:k(()=>{const g=[];for(const[p,y]of u.value.entries())y==="on"&&g.push(p);return g}),register:(g,p,y)=>{if(h.has(g)){c(g).join(" -> "),c(p).concat(g).join(" -> ");return}else h.add(g);p&&g!==p&&i.value.set(g,p),y&&n.value.set(g,[]),p!=null&&n.value.set(p,[...n.value.get(p)||[],g])},unregister:g=>{if(t)return;h.delete(g),n.value.delete(g);const p=i.value.get(g);if(p){const y=n.value.get(p)??[];n.value.set(p,y.filter(w=>w!==g))}i.value.delete(g)},open:(g,p,y)=>{d.emit("click:open",{id:g,value:p,path:c(g),event:y});const w=a.value.open({id:g,value:p,opened:new Set(r.value),children:n.value,parents:i.value,event:y});w&&(r.value=w)},openOnSelect:(g,p,y)=>{const w=a.value.select({id:g,value:p,selected:new Map(u.value),opened:new Set(r.value),children:n.value,parents:i.value,event:y});w&&(r.value=w)},select:(g,p,y)=>{d.emit("click:select",{id:g,value:p,path:c(g),event:y});const w=o.value.select({id:g,value:p,selected:new Map(u.value),children:n.value,parents:i.value,event:y});w&&(u.value=w),v.root.openOnSelect(g,p,y)},activate:(g,p,y)=>{if(!e.activatable)return v.root.select(g,!0,y);d.emit("click:activate",{id:g,value:p,path:c(g),event:y});const w=s.value.activate({id:g,value:p,activated:new Set(l.value),children:n.value,parents:i.value,event:y});w&&(l.value=w)},children:n,parents:i,getPath:c}};return bt(Du,v),v.root},sT=(e,t)=>{const n=He(Du,rT),i=Symbol(Sn()),r=k(()=>e.value!==void 0?e.value:i),s={...n,id:r,open:(o,a)=>n.root.open(r.value,o,a),openOnSelect:(o,a)=>n.root.openOnSelect(r.value,o,a),isOpen:k(()=>n.root.opened.value.has(r.value)),parent:k(()=>n.root.parents.value.get(r.value)),activate:(o,a)=>n.root.activate(r.value,o,a),isActivated:k(()=>n.root.activated.value.has($e(r.value))),select:(o,a)=>n.root.select(r.value,o,a),isSelected:k(()=>n.root.selected.value.get($e(r.value))==="on"),isIndeterminate:k(()=>n.root.selected.value.get(r.value)==="indeterminate"),isLeaf:k(()=>!n.root.children.value.get(r.value)),isGroupActivator:n.isGroupActivator};return!n.isGroupActivator&&n.root.register(r.value,n.id.value,t),wn(()=>{!n.isGroupActivator&&n.root.unregister(r.value)}),t&&bt(Du,s),s},U2=()=>{const e=He(Du,rT);bt(Du,{...e,isGroupActivator:!0})},H2=gi({name:"VListGroupActivator",setup(e,t){let{slots:n}=t;return U2(),()=>{var i;return(i=n.default)==null?void 0:i.call(n)}}}),oT=z({activeColor:String,baseColor:String,color:String,collapseIcon:{type:Be,default:"$collapse"},expandIcon:{type:Be,default:"$expand"},prependIcon:Be,appendIcon:Be,fluid:Boolean,subgroup:Boolean,title:String,value:null,...Ee(),...Ge()},"VListGroup"),Nu=te()({name:"VListGroup",props:oT(),setup(e,t){let{slots:n}=t;const{isOpen:i,open:r,id:s}=sT(ee(e,"value"),!0),o=k(()=>`v-list-group--id-${String(s.value)}`),a=eT(),{isBooted:l}=Fo();function u(v){v.stopPropagation(),r(!i.value,v)}const c=k(()=>({onClick:u,class:"v-list-group__header",id:o.value})),d=k(()=>i.value?e.collapseIcon:e.expandIcon),h=k(()=>({VListItem:{active:i.value,activeColor:e.activeColor,baseColor:e.baseColor,color:e.color,prependIcon:e.prependIcon||e.subgroup&&d.value,appendIcon:e.appendIcon||!e.subgroup&&d.value,title:e.title,value:e.value}}));return se(()=>f(e.tag,{class:["v-list-group",{"v-list-group--prepend":a==null?void 0:a.hasPrepend.value,"v-list-group--fluid":e.fluid,"v-list-group--subgroup":e.subgroup,"v-list-group--open":i.value},e.class],style:e.style},{default:()=>[n.activator&&f(ze,{defaults:h.value},{default:()=>[f(H2,null,{default:()=>[n.activator({props:c.value,isOpen:i.value})]})]}),f(jn,{transition:{component:Kf},disabled:!l.value},{default:()=>{var v;return[Ht(f("div",{class:"v-list-group__items",role:"group","aria-labelledby":o.value},[(v=n.default)==null?void 0:v.call(n)]),[[Gi,i.value]])]}})]})),{isOpen:i}}}),j2=z({opacity:[Number,String],...Ee(),...Ge()},"VListItemSubtitle"),aT=te()({name:"VListItemSubtitle",props:j2(),setup(e,t){let{slots:n}=t;return se(()=>f(e.tag,{class:["v-list-item-subtitle",e.class],style:[{"--v-list-item-subtitle-opacity":e.opacity},e.style]},n)),{}}}),lT=mr("v-list-item-title"),uT=z({active:{type:Boolean,default:void 0},activeClass:String,activeColor:String,appendAvatar:String,appendIcon:Be,baseColor:String,disabled:Boolean,lines:[Boolean,String],link:{type:Boolean,default:void 0},nav:Boolean,prependAvatar:String,prependIcon:Be,ripple:{type:[Boolean,Object],default:!0},slim:Boolean,subtitle:[String,Number],title:[String,Number],value:null,onClick:cn(),onClickOnce:cn(),...oi(),...Ee(),...dn(),...Jt(),...on(),...Mt(),...ac(),...Ge(),...nt(),...Pi({variant:"text"})},"VListItem"),$i=te()({name:"VListItem",directives:{Ripple:Gr},props:uT(),emits:{click:e=>!0},setup(e,t){let{attrs:n,slots:i,emit:r}=t;const s=el(e,n),o=k(()=>e.value===void 0?s.href.value:e.value),{activate:a,isActivated:l,select:u,isOpen:c,isSelected:d,isIndeterminate:h,isGroupActivator:v,root:g,parent:p,openOnSelect:y,id:w}=sT(o,!1),C=eT(),x=k(()=>{var re;return e.active!==!1&&(e.active||((re=s.isActive)==null?void 0:re.value)||(g.activatable.value?l.value:d.value))}),A=k(()=>e.link!==!1&&s.isLink.value),V=k(()=>!e.disabled&&e.link!==!1&&(e.link||s.isClickable.value||!!C&&(g.selectable.value||g.activatable.value||e.value!=null))),N=k(()=>e.rounded||e.nav),T=k(()=>e.color??e.activeColor),b=k(()=>({color:x.value?T.value??e.baseColor:e.baseColor,variant:e.variant}));he(()=>{var re;return(re=s.isActive)==null?void 0:re.value},re=>{re&&p.value!=null&&g.open(p.value,!0),re&&y(re)},{immediate:!0});const{themeClasses:_}=ft(e),{borderClasses:E}=_i(e),{colorClasses:P,colorStyles:I,variantClasses:R}=Bo(b),{densityClasses:H}=Kn(e),{dimensionStyles:q}=Zt(e),{elevationClasses:W}=Cn(e),{roundedClasses:X}=qt(N),U=k(()=>e.lines?`v-list-item--${e.lines}-line`:void 0),B=k(()=>({isActive:x.value,select:u,isOpen:c.value,isSelected:d.value,isIndeterminate:h.value}));function $(re){var de;r("click",re),V.value&&((de=s.navigate)==null||de.call(s,re),!v&&(g.activatable.value?a(!l.value,re):(g.selectable.value||e.value!=null)&&u(!d.value,re)))}function Y(re){(re.key==="Enter"||re.key===" ")&&(re.preventDefault(),re.target.dispatchEvent(new MouseEvent("click",re)))}return se(()=>{const re=A.value?"a":e.tag,de=i.title||e.title!=null,we=i.subtitle||e.subtitle!=null,Ie=!!(e.appendAvatar||e.appendIcon),oe=!!(Ie||i.append),Q=!!(e.prependAvatar||e.prependIcon),le=!!(Q||i.prepend);return C==null||C.updateHasPrepend(le),e.activeColor&&WO("active-color",["color","base-color"]),Ht(f(re,J({class:["v-list-item",{"v-list-item--active":x.value,"v-list-item--disabled":e.disabled,"v-list-item--link":V.value,"v-list-item--nav":e.nav,"v-list-item--prepend":!le&&(C==null?void 0:C.hasPrepend.value),"v-list-item--slim":e.slim,[`${e.activeClass}`]:e.activeClass&&x.value},_.value,E.value,P.value,H.value,W.value,U.value,X.value,R.value,e.class],style:[I.value,q.value,e.style],tabindex:V.value?C?-2:0:void 0,onClick:$,onKeydown:V.value&&!A.value&&Y},s.linkProps),{default:()=>{var pe;return[Bs(V.value||x.value,"v-list-item"),le&&f("div",{key:"prepend",class:"v-list-item__prepend"},[i.prepend?f(ze,{key:"prepend-defaults",disabled:!Q,defaults:{VAvatar:{density:e.density,image:e.prependAvatar},VIcon:{density:e.density,icon:e.prependIcon},VListItemAction:{start:!0}}},{default:()=>{var fe;return[(fe=i.prepend)==null?void 0:fe.call(i,B.value)]}}):f(be,null,[e.prependAvatar&&f(mi,{key:"prepend-avatar",density:e.density,image:e.prependAvatar},null),e.prependIcon&&f(st,{key:"prepend-icon",density:e.density,icon:e.prependIcon},null)]),f("div",{class:"v-list-item__spacer"},null)]),f("div",{class:"v-list-item__content","data-no-activator":""},[de&&f(lT,{key:"title"},{default:()=>{var fe;return[((fe=i.title)==null?void 0:fe.call(i,{title:e.title}))??e.title]}}),we&&f(aT,{key:"subtitle"},{default:()=>{var fe;return[((fe=i.subtitle)==null?void 0:fe.call(i,{subtitle:e.subtitle}))??e.subtitle]}}),(pe=i.default)==null?void 0:pe.call(i,B.value)]),oe&&f("div",{key:"append",class:"v-list-item__append"},[i.append?f(ze,{key:"append-defaults",disabled:!Ie,defaults:{VAvatar:{density:e.density,image:e.appendAvatar},VIcon:{density:e.density,icon:e.appendIcon},VListItemAction:{end:!0}}},{default:()=>{var fe;return[(fe=i.append)==null?void 0:fe.call(i,B.value)]}}):f(be,null,[e.appendIcon&&f(st,{key:"append-icon",density:e.density,icon:e.appendIcon},null),e.appendAvatar&&f(mi,{key:"append-avatar",density:e.density,image:e.appendAvatar},null)]),f("div",{class:"v-list-item__spacer"},null)])]}}),[[vi("ripple"),V.value&&e.ripple]])}),{activate:a,isActivated:l,isGroupActivator:v,isSelected:d,list:C,select:u,root:g,id:w}}}),W2=z({color:String,inset:Boolean,sticky:Boolean,title:String,...Ee(),...Ge()},"VListSubheader"),cT=te()({name:"VListSubheader",props:W2(),setup(e,t){let{slots:n}=t;const{textColorClasses:i,textColorStyles:r}=yn(ee(e,"color"));return se(()=>{const s=!!(n.default||e.title);return f(e.tag,{class:["v-list-subheader",{"v-list-subheader--inset":e.inset,"v-list-subheader--sticky":e.sticky},i.value,e.class],style:[{textColorStyles:r},e.style]},{default:()=>{var o;return[s&&f("div",{class:"v-list-subheader__text"},[((o=n.default)==null?void 0:o.call(n))??e.title])]}})}),{}}}),z2=z({color:String,inset:Boolean,length:[Number,String],opacity:[Number,String],thickness:[Number,String],vertical:Boolean,...Ee(),...nt()},"VDivider"),Ar=te()({name:"VDivider",props:z2(),setup(e,t){let{attrs:n,slots:i}=t;const{themeClasses:r}=ft(e),{textColorClasses:s,textColorStyles:o}=yn(ee(e,"color")),a=k(()=>{const l={};return e.length&&(l[e.vertical?"height":"width"]=Se(e.length)),e.thickness&&(l[e.vertical?"borderRightWidth":"borderTopWidth"]=Se(e.thickness)),l});return se(()=>{const l=f("hr",{class:[{"v-divider":!0,"v-divider--inset":e.inset,"v-divider--vertical":e.vertical},r.value,s.value,e.class],style:[a.value,o.value,{"--v-border-opacity":e.opacity},e.style],"aria-orientation":!n.role||n.role==="separator"?e.vertical?"vertical":"horizontal":void 0,role:`${n.role||"separator"}`},null);return i.default?f("div",{class:["v-divider__wrapper",{"v-divider__wrapper--vertical":e.vertical,"v-divider__wrapper--inset":e.inset}]},[l,f("div",{class:"v-divider__content"},[i.default()]),l]):l}),{}}}),q2=z({items:Array,returnObject:Boolean},"VListChildren"),dT=te()({name:"VListChildren",props:q2(),setup(e,t){let{slots:n}=t;return ZE(),()=>{var i,r;return((i=n.default)==null?void 0:i.call(n))??((r=e.items)==null?void 0:r.map(s=>{var h,v;let{children:o,props:a,type:l,raw:u}=s;if(l==="divider")return((h=n.divider)==null?void 0:h.call(n,{props:a}))??f(Ar,a,null);if(l==="subheader")return((v=n.subheader)==null?void 0:v.call(n,{props:a}))??f(cT,a,null);const c={subtitle:n.subtitle?g=>{var p;return(p=n.subtitle)==null?void 0:p.call(n,{...g,item:u})}:void 0,prepend:n.prepend?g=>{var p;return(p=n.prepend)==null?void 0:p.call(n,{...g,item:u})}:void 0,append:n.append?g=>{var p;return(p=n.append)==null?void 0:p.call(n,{...g,item:u})}:void 0,title:n.title?g=>{var p;return(p=n.title)==null?void 0:p.call(n,{...g,item:u})}:void 0},d=Nu.filterProps(a);return o?f(Nu,J({value:a==null?void 0:a.value},d),{activator:g=>{let{props:p}=g;const y={...a,...p,value:e.returnObject?u:a.value};return n.header?n.header({props:y}):f($i,y,c)},default:()=>f(dT,{items:o,returnObject:e.returnObject},n)}):n.item?n.item({props:a}):f($i,J(a,{value:e.returnObject?u:a.value}),c)}))}}}),fT=z({items:{type:Array,default:()=>[]},itemTitle:{type:[String,Array,Function],default:"title"},itemValue:{type:[String,Array,Function],default:"value"},itemChildren:{type:[Boolean,String,Array,Function],default:"children"},itemProps:{type:[Boolean,String,Array,Function],default:"props"},returnObject:Boolean,valueComparator:{type:Function,default:fr}},"list-items");function cs(e,t){const n=Qt(t,e.itemTitle,t),i=Qt(t,e.itemValue,n),r=Qt(t,e.itemChildren),s=e.itemProps===!0?typeof t=="object"&&t!=null&&!Array.isArray(t)?"children"in t?pt(t,["children"]):t:void 0:Qt(t,e.itemProps),o={title:n,value:i,...s};return{title:String(o.title??""),value:o.value,props:o,children:Array.isArray(r)?hT(e,r):void 0,raw:t}}function hT(e,t){const n=[];for(const i of t)n.push(cs(e,i));return n}function Xp(e){const t=k(()=>hT(e,e.items)),n=k(()=>t.value.some(s=>s.value===null));function i(s){return n.value||(s=s.filter(o=>o!==null)),s.map(o=>e.returnObject&&typeof o=="string"?cs(e,o):t.value.find(a=>e.valueComparator(o,a.value))||cs(e,o))}function r(s){return e.returnObject?s.map(o=>{let{raw:a}=o;return a}):s.map(o=>{let{value:a}=o;return a})}return{items:t,transformIn:i,transformOut:r}}function G2(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"}function K2(e,t){const n=Qt(t,e.itemType,"item"),i=G2(t)?t:Qt(t,e.itemTitle),r=Qt(t,e.itemValue,void 0),s=Qt(t,e.itemChildren),o=e.itemProps===!0?pt(t,["children"]):Qt(t,e.itemProps),a={title:i,value:r,...o};return{type:n,title:a.title,value:a.value,props:a,children:n==="item"&&s?mT(e,s):void 0,raw:t}}function mT(e,t){const n=[];for(const i of t)n.push(K2(e,i));return n}function vT(e){return{items:k(()=>mT(e,e.items))}}const gT=z({baseColor:String,activeColor:String,activeClass:String,bgColor:String,disabled:Boolean,expandIcon:String,collapseIcon:String,lines:{type:[Boolean,String],default:"one"},slim:Boolean,nav:Boolean,"onClick:open":cn(),"onClick:select":cn(),"onUpdate:opened":cn(),...B2({selectStrategy:"single-leaf",openStrategy:"list"}),...oi(),...Ee(),...dn(),...Jt(),...on(),itemType:{type:String,default:"type"},...fT(),...Mt(),...Ge(),...nt(),...Pi({variant:"text"})},"VList"),Ma=te()({name:"VList",props:gT(),emits:{"update:selected":e=>!0,"update:activated":e=>!0,"update:opened":e=>!0,"click:open":e=>!0,"click:activate":e=>!0,"click:select":e=>!0},setup(e,t){let{slots:n}=t;const{items:i}=vT(e),{themeClasses:r}=ft(e),{backgroundColorClasses:s,backgroundColorStyles:o}=wt(ee(e,"bgColor")),{borderClasses:a}=_i(e),{densityClasses:l}=Kn(e),{dimensionStyles:u}=Zt(e),{elevationClasses:c}=Cn(e),{roundedClasses:d}=qt(e),{children:h,open:v,parents:g,select:p,getPath:y}=$2(e),w=k(()=>e.lines?`v-list--${e.lines}-line`:void 0),C=ee(e,"activeColor"),x=ee(e,"baseColor"),A=ee(e,"color");ZE(),Ot({VListGroup:{activeColor:C,baseColor:x,color:A,expandIcon:ee(e,"expandIcon"),collapseIcon:ee(e,"collapseIcon")},VListItem:{activeClass:ee(e,"activeClass"),activeColor:C,baseColor:x,color:A,density:ee(e,"density"),disabled:ee(e,"disabled"),lines:ee(e,"lines"),nav:ee(e,"nav"),slim:ee(e,"slim"),variant:ee(e,"variant")}});const V=ye(!1),N=j();function T(R){V.value=!0}function b(R){V.value=!1}function _(R){var H;!V.value&&!(R.relatedTarget&&((H=N.value)!=null&&H.contains(R.relatedTarget)))&&I()}function E(R){const H=R.target;if(!(!N.value||["INPUT","TEXTAREA"].includes(H.tagName))){if(R.key==="ArrowDown")I("next");else if(R.key==="ArrowUp")I("prev");else if(R.key==="Home")I("first");else if(R.key==="End")I("last");else return;R.preventDefault()}}function P(R){V.value=!0}function I(R){if(N.value)return uo(N.value,R)}return se(()=>f(e.tag,{ref:N,class:["v-list",{"v-list--disabled":e.disabled,"v-list--nav":e.nav,"v-list--slim":e.slim},r.value,s.value,a.value,l.value,c.value,w.value,d.value,e.class],style:[o.value,u.value,e.style],tabindex:e.disabled||V.value?-1:0,role:"listbox","aria-activedescendant":void 0,onFocusin:T,onFocusout:b,onFocus:_,onKeydown:E,onMousedown:P},{default:()=>[f(dT,{items:i.value,returnObject:e.returnObject},n)]})),{open:v,select:p,focus:I,children:h,parents:g,getPath:y}}}),Y2=mr("v-list-img"),Q2=z({start:Boolean,end:Boolean,...Ee(),...Ge()},"VListItemAction"),pT=te()({name:"VListItemAction",props:Q2(),setup(e,t){let{slots:n}=t;return se(()=>f(e.tag,{class:["v-list-item-action",{"v-list-item-action--start":e.start,"v-list-item-action--end":e.end},e.class],style:e.style},n)),{}}}),X2=z({start:Boolean,end:Boolean,...Ee(),...Ge()},"VListItemMedia"),J2=te()({name:"VListItemMedia",props:X2(),setup(e,t){let{slots:n}=t;return se(()=>f(e.tag,{class:["v-list-item-media",{"v-list-item-media--start":e.start,"v-list-item-media--end":e.end},e.class],style:e.style},n)),{}}});function Cm(e,t){return{x:e.x+t.x,y:e.y+t.y}}function Z2(e,t){return{x:e.x-t.x,y:e.y-t.y}}function bS(e,t){if(e.side==="top"||e.side==="bottom"){const{side:n,align:i}=e,r=i==="left"?0:i==="center"?t.width/2:i==="right"?t.width:i,s=n==="top"?0:n==="bottom"?t.height:n;return Cm({x:r,y:s},t)}else if(e.side==="left"||e.side==="right"){const{side:n,align:i}=e,r=n==="left"?0:n==="right"?t.width:n,s=i==="top"?0:i==="center"?t.height/2:i==="bottom"?t.height:i;return Cm({x:r,y:s},t)}return Cm({x:t.width/2,y:t.height/2},t)}const yT={static:nF,connected:rF},eF=z({locationStrategy:{type:[String,Function],default:"static",validator:e=>typeof e=="function"||e in yT},location:{type:String,default:"bottom"},origin:{type:String,default:"auto"},offset:[Number,String,Array]},"VOverlay-location-strategies");function tF(e,t){const n=j({}),i=j();ht&&ti(()=>!!(t.isActive.value&&e.locationStrategy),s=>{var o,a;he(()=>e.locationStrategy,s),_n(()=>{window.removeEventListener("resize",r),i.value=void 0}),window.addEventListener("resize",r,{passive:!0}),typeof e.locationStrategy=="function"?i.value=(o=e.locationStrategy(t,e,n))==null?void 0:o.updateLocation:i.value=(a=yT[e.locationStrategy](t,e,n))==null?void 0:a.updateLocation});function r(s){var o;(o=i.value)==null||o.call(i,s)}return{contentStyles:n,updateLocation:i}}function nF(){}function iF(e,t){const n=Rp(e);return t?n.x+=parseFloat(e.style.right||0):n.x-=parseFloat(e.style.left||0),n.y-=parseFloat(e.style.top||0),n}function rF(e,t,n){(Array.isArray(e.target.value)||dM(e.target.value))&&Object.assign(n.value,{position:"fixed",top:0,[e.isRtl.value?"right":"left"]:0});const{preferredAnchor:r,preferredOrigin:s}=Pp(()=>{const g=mv(t.location,e.isRtl.value),p=t.origin==="overlap"?g:t.origin==="auto"?ym(g):mv(t.origin,e.isRtl.value);return g.side===p.side&&g.align===_m(p).align?{preferredAnchor:Uw(g),preferredOrigin:Uw(p)}:{preferredAnchor:g,preferredOrigin:p}}),[o,a,l,u]=["minWidth","minHeight","maxWidth","maxHeight"].map(g=>k(()=>{const p=parseFloat(t[g]);return isNaN(p)?1/0:p})),c=k(()=>{if(Array.isArray(t.offset))return t.offset;if(typeof t.offset=="string"){const g=t.offset.split(" ").map(parseFloat);return g.length<2&&g.push(0),g}return typeof t.offset=="number"?[t.offset,0]:[0,0]});let d=!1;const h=new ResizeObserver(()=>{d&&v()});he([e.target,e.contentEl],(g,p)=>{let[y,w]=g,[C,x]=p;C&&!Array.isArray(C)&&h.unobserve(C),y&&!Array.isArray(y)&&h.observe(y),x&&h.unobserve(x),w&&h.observe(w)},{immediate:!0}),_n(()=>{h.disconnect()});function v(){if(d=!1,requestAnimationFrame(()=>d=!0),!e.target.value||!e.contentEl.value)return;const g=Gk(e.target.value),p=iF(e.contentEl.value,e.isRtl.value),y=ku(e.contentEl.value),w=12;y.length||(y.push(document.documentElement),e.contentEl.value.style.top&&e.contentEl.value.style.left||(p.x-=parseFloat(document.documentElement.style.getPropertyValue("--v-body-scroll-x")||0),p.y-=parseFloat(document.documentElement.style.getPropertyValue("--v-body-scroll-y")||0)));const C=y.reduce((P,I)=>{const R=I.getBoundingClientRect(),H=new co({x:I===document.documentElement?0:R.x,y:I===document.documentElement?0:R.y,width:I.clientWidth,height:I.clientHeight});return P?new co({x:Math.max(P.left,H.left),y:Math.max(P.top,H.top),width:Math.min(P.right,H.right)-Math.max(P.left,H.left),height:Math.min(P.bottom,H.bottom)-Math.max(P.top,H.top)}):H},void 0);C.x+=w,C.y+=w,C.width-=w*2,C.height-=w*2;let x={anchor:r.value,origin:s.value};function A(P){const I=new co(p),R=bS(P.anchor,g),H=bS(P.origin,I);let{x:q,y:W}=Z2(R,H);switch(P.anchor.side){case"top":W-=c.value[0];break;case"bottom":W+=c.value[0];break;case"left":q-=c.value[0];break;case"right":q+=c.value[0];break}switch(P.anchor.align){case"top":W-=c.value[1];break;case"bottom":W+=c.value[1];break;case"left":q-=c.value[1];break;case"right":q+=c.value[1];break}return I.x+=q,I.y+=W,I.width=Math.min(I.width,l.value),I.height=Math.min(I.height,u.value),{overflows:jw(I,C),x:q,y:W}}let V=0,N=0;const T={x:0,y:0},b={x:!1,y:!1};let _=-1;for(;!(_++>10);){const{x:P,y:I,overflows:R}=A(x);V+=P,N+=I,p.x+=P,p.y+=I;{const H=Hw(x.anchor),q=R.x.before||R.x.after,W=R.y.before||R.y.after;let X=!1;if(["x","y"].forEach(U=>{if(U==="x"&&q&&!b.x||U==="y"&&W&&!b.y){const B={anchor:{...x.anchor},origin:{...x.origin}},$=U==="x"?H==="y"?_m:ym:H==="y"?ym:_m;B.anchor=$(B.anchor),B.origin=$(B.origin);const{overflows:Y}=A(B);(Y[U].before<=R[U].before&&Y[U].after<=R[U].after||Y[U].before+Y[U].after<(R[U].before+R[U].after)/2)&&(x=B,X=b[U]=!0)}}),X)continue}R.x.before&&(V+=R.x.before,p.x+=R.x.before),R.x.after&&(V-=R.x.after,p.x-=R.x.after),R.y.before&&(N+=R.y.before,p.y+=R.y.before),R.y.after&&(N-=R.y.after,p.y-=R.y.after);{const H=jw(p,C);T.x=C.width-H.x.before-H.x.after,T.y=C.height-H.y.before-H.y.after,V+=H.x.before,p.x+=H.x.before,N+=H.y.before,p.y+=H.y.before}break}const E=Hw(x.anchor);return Object.assign(n.value,{"--v-overlay-anchor-origin":`${x.anchor.side} ${x.anchor.align}`,transformOrigin:`${x.origin.side} ${x.origin.align}`,top:Se(Im(N)),left:e.isRtl.value?void 0:Se(Im(V)),right:e.isRtl.value?Se(Im(-V)):void 0,minWidth:Se(E==="y"?Math.min(o.value,g.width):o.value),maxWidth:Se(wS(Ut(T.x,o.value===1/0?0:o.value,l.value))),maxHeight:Se(wS(Ut(T.y,a.value===1/0?0:a.value,u.value)))}),{available:T,contentBox:p}}return he(()=>[r.value,s.value,t.offset,t.minWidth,t.minHeight,t.maxWidth,t.maxHeight],()=>v()),tt(()=>{const g=v();if(!g)return;const{available:p,contentBox:y}=g;y.height>p.y&&requestAnimationFrame(()=>{v(),requestAnimationFrame(()=>{v()})})}),{updateLocation:v}}function Im(e){return Math.round(e*devicePixelRatio)/devicePixelRatio}function wS(e){return Math.ceil(e*devicePixelRatio)/devicePixelRatio}let Av=!0;const Wd=[];function sF(e){!Av||Wd.length?(Wd.push(e),Pv()):(Av=!1,e(),Pv())}let SS=-1;function Pv(){cancelAnimationFrame(SS),SS=requestAnimationFrame(()=>{const e=Wd.shift();e&&e(),Wd.length?Pv():Av=!0})}const _d={none:null,close:lF,block:uF,reposition:cF},oF=z({scrollStrategy:{type:[String,Function],default:"block",validator:e=>typeof e=="function"||e in _d}},"VOverlay-scroll-strategies");function aF(e,t){if(!ht)return;let n;Gt(async()=>{n==null||n.stop(),t.isActive.value&&e.scrollStrategy&&(n=Qa(),await new Promise(i=>setTimeout(i)),n.active&&n.run(()=>{var i;typeof e.scrollStrategy=="function"?e.scrollStrategy(t,e,n):(i=_d[e.scrollStrategy])==null||i.call(_d,t,e,n)}))}),_n(()=>{n==null||n.stop()})}function lF(e){function t(n){e.isActive.value=!1}_T(e.targetEl.value??e.contentEl.value,t)}function uF(e,t){var o;const n=(o=e.root.value)==null?void 0:o.offsetParent,i=[...new Set([...ku(e.targetEl.value,t.contained?n:void 0),...ku(e.contentEl.value,t.contained?n:void 0)])].filter(a=>!a.classList.contains("v-overlay-scroll-blocked")),r=window.innerWidth-document.documentElement.offsetWidth,s=(a=>Mp(a)&&a)(n||document.documentElement);s&&e.root.value.classList.add("v-overlay--scroll-blocked"),i.forEach((a,l)=>{a.style.setProperty("--v-body-scroll-x",Se(-a.scrollLeft)),a.style.setProperty("--v-body-scroll-y",Se(-a.scrollTop)),a!==document.documentElement&&a.style.setProperty("--v-scrollbar-offset",Se(r)),a.classList.add("v-overlay-scroll-blocked")}),_n(()=>{i.forEach((a,l)=>{const u=parseFloat(a.style.getPropertyValue("--v-body-scroll-x")),c=parseFloat(a.style.getPropertyValue("--v-body-scroll-y")),d=a.style.scrollBehavior;a.style.scrollBehavior="auto",a.style.removeProperty("--v-body-scroll-x"),a.style.removeProperty("--v-body-scroll-y"),a.style.removeProperty("--v-scrollbar-offset"),a.classList.remove("v-overlay-scroll-blocked"),a.scrollLeft=-u,a.scrollTop=-c,a.style.scrollBehavior=d}),s&&e.root.value.classList.remove("v-overlay--scroll-blocked")})}function cF(e,t,n){let i=!1,r=-1,s=-1;function o(a){sF(()=>{var c,d;const l=performance.now();(d=(c=e.updateLocation).value)==null||d.call(c,a),i=(performance.now()-l)/(1e3/60)>2})}s=(typeof requestIdleCallback>"u"?a=>a():requestIdleCallback)(()=>{n.run(()=>{_T(e.targetEl.value??e.contentEl.value,a=>{i?(cancelAnimationFrame(r),r=requestAnimationFrame(()=>{r=requestAnimationFrame(()=>{o(a)})})):o(a)})})}),_n(()=>{typeof cancelIdleCallback<"u"&&cancelIdleCallback(s),cancelAnimationFrame(r)})}function _T(e,t){const n=[document,...ku(e)];n.forEach(i=>{i.addEventListener("scroll",t,{passive:!0})}),_n(()=>{n.forEach(i=>{i.removeEventListener("scroll",t)})})}const xv=Symbol.for("vuetify:v-menu"),Jp=z({closeDelay:[Number,String],openDelay:[Number,String]},"delay");function Zp(e,t){let n=()=>{};function i(o){n==null||n();const a=Number(o?e.openDelay:e.closeDelay);return new Promise(l=>{n=VO(a,()=>{t==null||t(o),l(o)})})}function r(){return i(!0)}function s(){return i(!1)}return{clearDelay:n,runOpenDelay:r,runCloseDelay:s}}const dF=z({target:[String,Object],activator:[String,Object],activatorProps:{type:Object,default:()=>({})},openOnClick:{type:Boolean,default:void 0},openOnHover:Boolean,openOnFocus:{type:Boolean,default:void 0},closeOnContentClick:Boolean,...Jp()},"VOverlay-activator");function fF(e,t){let{isActive:n,isTop:i,contentEl:r}=t;const s=zt("useActivator"),o=j();let a=!1,l=!1,u=!0;const c=k(()=>e.openOnFocus||e.openOnFocus==null&&e.openOnHover),d=k(()=>e.openOnClick||e.openOnClick==null&&!e.openOnHover&&!c.value),{runOpenDelay:h,runCloseDelay:v}=Zp(e,b=>{b===(e.openOnHover&&a||c.value&&l)&&!(e.openOnHover&&n.value&&!i.value)&&(n.value!==b&&(u=!0),n.value=b)}),g=j(),p={onClick:b=>{b.stopPropagation(),o.value=b.currentTarget||b.target,n.value||(g.value=[b.clientX,b.clientY]),n.value=!n.value},onMouseenter:b=>{var _;(_=b.sourceCapabilities)!=null&&_.firesTouchEvents||(a=!0,o.value=b.currentTarget||b.target,h())},onMouseleave:b=>{a=!1,v()},onFocus:b=>{Da(b.target,":focus-visible")!==!1&&(l=!0,b.stopPropagation(),o.value=b.currentTarget||b.target,h())},onBlur:b=>{l=!1,b.stopPropagation(),v()}},y=k(()=>{const b={};return d.value&&(b.onClick=p.onClick),e.openOnHover&&(b.onMouseenter=p.onMouseenter,b.onMouseleave=p.onMouseleave),c.value&&(b.onFocus=p.onFocus,b.onBlur=p.onBlur),b}),w=k(()=>{const b={};if(e.openOnHover&&(b.onMouseenter=()=>{a=!0,h()},b.onMouseleave=()=>{a=!1,v()}),c.value&&(b.onFocusin=()=>{l=!0,h()},b.onFocusout=()=>{l=!1,v()}),e.closeOnContentClick){const _=He(xv,null);b.onClick=()=>{n.value=!1,_==null||_.closeParents()}}return b}),C=k(()=>{const b={};return e.openOnHover&&(b.onMouseenter=()=>{u&&(a=!0,u=!1,h())},b.onMouseleave=()=>{a=!1,v()}),b});he(i,b=>{var _;b&&(e.openOnHover&&!a&&(!c.value||!l)||c.value&&!l&&(!e.openOnHover||!a))&&!((_=r.value)!=null&&_.contains(document.activeElement))&&(n.value=!1)}),he(n,b=>{b||setTimeout(()=>{g.value=void 0})},{flush:"post"});const x=Bd();Gt(()=>{x.value&&tt(()=>{o.value=x.el})});const A=Bd(),V=k(()=>e.target==="cursor"&&g.value?g.value:A.value?A.el:bT(e.target,s)||o.value),N=k(()=>Array.isArray(V.value)?void 0:V.value);let T;return he(()=>!!e.activator,b=>{b&&ht?(T=Qa(),T.run(()=>{hF(e,s,{activatorEl:o,activatorEvents:y})})):T&&T.stop()},{flush:"post",immediate:!0}),_n(()=>{T==null||T.stop()}),{activatorEl:o,activatorRef:x,target:V,targetEl:N,targetRef:A,activatorEvents:y,contentEvents:w,scrimEvents:C}}function hF(e,t,n){let{activatorEl:i,activatorEvents:r}=n;he(()=>e.activator,(l,u)=>{if(u&&l!==u){const c=a(u);c&&o(c)}l&&tt(()=>s())},{immediate:!0}),he(()=>e.activatorProps,()=>{s()}),_n(()=>{o()});function s(){let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:a(),u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e.activatorProps;l&&OO(l,J(r.value,u))}function o(){let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:a(),u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e.activatorProps;l&&MO(l,J(r.value,u))}function a(){let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:e.activator;const u=bT(l,t);return i.value=(u==null?void 0:u.nodeType)===Node.ELEMENT_NODE?u:void 0,i.value}}function bT(e,t){var i,r;if(!e)return;let n;if(e==="parent"){let s=(r=(i=t==null?void 0:t.proxy)==null?void 0:i.$el)==null?void 0:r.parentNode;for(;s!=null&&s.hasAttribute("data-no-activator");)s=s.parentNode;n=s}else typeof e=="string"?n=document.querySelector(e):"$el"in e?n=e.$el:n=e;return n}function wT(){if(!ht)return ye(!1);const{ssr:e}=pi();if(e){const t=ye(!1);return dt(()=>{t.value=!0}),t}else return ye(!0)}const ey=z({eager:Boolean},"lazy");function ty(e,t){const n=ye(!1),i=k(()=>n.value||e.eager||t.value);he(t,()=>n.value=!0);function r(){e.eager||(n.value=!1)}return{isBooted:n,hasContent:i,onAfterLeave:r}}function zo(){const t=zt("useScopeId").vnode.scopeId;return{scopeId:t?{[t]:""}:void 0}}const CS=Symbol.for("vuetify:stack"),Ll=ln([]);function mF(e,t,n){const i=zt("useStack"),r=!n,s=He(CS,void 0),o=ln({activeChildren:new Set});bt(CS,o);const a=ye(+t.value);ti(e,()=>{var d;const c=(d=Ll.at(-1))==null?void 0:d[1];a.value=c?c+10:+t.value,r&&Ll.push([i.uid,a.value]),s==null||s.activeChildren.add(i.uid),_n(()=>{if(r){const h=$e(Ll).findIndex(v=>v[0]===i.uid);Ll.splice(h,1)}s==null||s.activeChildren.delete(i.uid)})});const l=ye(!0);r&&Gt(()=>{var d;const c=((d=Ll.at(-1))==null?void 0:d[0])===i.uid;setTimeout(()=>l.value=c)});const u=k(()=>!o.activeChildren.size);return{globalTop:Zu(l),localTop:u,stackStyles:k(()=>({zIndex:a.value}))}}function vF(e){return{teleportTarget:k(()=>{const n=e();if(n===!0||!ht)return;const i=n===!1?document.body:typeof n=="string"?document.querySelector(n):n;if(i==null)return;let r=[...i.children].find(s=>s.matches(".v-overlay-container"));return r||(r=document.createElement("div"),r.className="v-overlay-container",i.appendChild(r)),r})}}function gF(){return!0}function ST(e,t,n){if(!e||CT(e,n)===!1)return!1;const i=oE(t);if(typeof ShadowRoot<"u"&&i instanceof ShadowRoot&&i.host===e.target)return!1;const r=(typeof n.value=="object"&&n.value.include||(()=>[]))();return r.push(t),!r.some(s=>s==null?void 0:s.contains(e.target))}function CT(e,t){return(typeof t.value=="object"&&t.value.closeConditional||gF)(e)}function pF(e,t,n){const i=typeof n.value=="function"?n.value:n.value.handler;e.shadowTarget=e.target,t._clickOutside.lastMousedownWasOutside&&ST(e,t,n)&&setTimeout(()=>{CT(e,n)&&i&&i(e)},0)}function IS(e,t){const n=oE(e);t(document),typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&t(n)}const IT={mounted(e,t){const n=r=>pF(r,e,t),i=r=>{e._clickOutside.lastMousedownWasOutside=ST(r,e,t)};IS(e,r=>{r.addEventListener("click",n,!0),r.addEventListener("mousedown",i,!0)}),e._clickOutside||(e._clickOutside={lastMousedownWasOutside:!1}),e._clickOutside[t.instance.$.uid]={onClick:n,onMousedown:i}},beforeUnmount(e,t){e._clickOutside&&(IS(e,n=>{var s;if(!n||!((s=e._clickOutside)!=null&&s[t.instance.$.uid]))return;const{onClick:i,onMousedown:r}=e._clickOutside[t.instance.$.uid];n.removeEventListener("click",i,!0),n.removeEventListener("mousedown",r,!0)}),delete e._clickOutside[t.instance.$.uid])}};function yF(e){const{modelValue:t,color:n,...i}=e;return f(ks,{name:"fade-transition",appear:!0},{default:()=>[e.modelValue&&f("div",J({class:["v-overlay__scrim",e.color.backgroundColorClasses.value],style:e.color.backgroundColorStyles.value},i),null)]})}const uc=z({absolute:Boolean,attach:[Boolean,String,Object],closeOnBack:{type:Boolean,default:!0},contained:Boolean,contentClass:null,contentProps:null,disabled:Boolean,opacity:[Number,String],noClickAnimation:Boolean,modelValue:Boolean,persistent:Boolean,scrim:{type:[Boolean,String],default:!0},zIndex:{type:[Number,String],default:2e3},...dF(),...Ee(),...Jt(),...ey(),...eF(),...oF(),...nt(),...Ki()},"VOverlay"),ar=te()({name:"VOverlay",directives:{ClickOutside:IT},inheritAttrs:!1,props:{_disableGlobalStack:Boolean,...uc()},emits:{"click:outside":e=>!0,"update:modelValue":e=>!0,afterEnter:()=>!0,afterLeave:()=>!0},setup(e,t){let{slots:n,attrs:i,emit:r}=t;const s=zt("VOverlay"),o=j(),a=j(),l=j(),u=Re(e,"modelValue"),c=k({get:()=>u.value,set:oe=>{oe&&e.disabled||(u.value=oe)}}),{themeClasses:d}=ft(e),{rtlClasses:h,isRtl:v}=sn(),{hasContent:g,onAfterLeave:p}=ty(e,c),y=wt(k(()=>typeof e.scrim=="string"?e.scrim:null)),{globalTop:w,localTop:C,stackStyles:x}=mF(c,ee(e,"zIndex"),e._disableGlobalStack),{activatorEl:A,activatorRef:V,target:N,targetEl:T,targetRef:b,activatorEvents:_,contentEvents:E,scrimEvents:P}=fF(e,{isActive:c,isTop:C,contentEl:l}),{teleportTarget:I}=vF(()=>{var le,pe,fe;const oe=e.attach||e.contained;if(oe)return oe;const Q=((le=A==null?void 0:A.value)==null?void 0:le.getRootNode())||((fe=(pe=s.proxy)==null?void 0:pe.$el)==null?void 0:fe.getRootNode());return Q instanceof ShadowRoot?Q:!1}),{dimensionStyles:R}=Zt(e),H=wT(),{scopeId:q}=zo();he(()=>e.disabled,oe=>{oe&&(c.value=!1)});const{contentStyles:W,updateLocation:X}=tF(e,{isRtl:v,contentEl:l,target:N,isActive:c});aF(e,{root:o,contentEl:l,targetEl:T,isActive:c,updateLocation:X});function U(oe){r("click:outside",oe),e.persistent?de():c.value=!1}function B(oe){return c.value&&w.value&&(!e.scrim||oe.target===a.value||oe instanceof MouseEvent&&oe.shadowTarget===a.value)}ht&&he(c,oe=>{oe?window.addEventListener("keydown",$):window.removeEventListener("keydown",$)},{immediate:!0}),wn(()=>{ht&&window.removeEventListener("keydown",$)});function $(oe){var Q,le;oe.key==="Escape"&&w.value&&(e.persistent?de():(c.value=!1,(Q=l.value)!=null&&Q.contains(document.activeElement)&&((le=A.value)==null||le.focus())))}const Y=RE();ti(()=>e.closeOnBack,()=>{r2(Y,oe=>{w.value&&c.value?(oe(!1),e.persistent?de():c.value=!1):oe()})});const re=j();he(()=>c.value&&(e.absolute||e.contained)&&I.value==null,oe=>{if(oe){const Q=Op(o.value);Q&&Q!==document.scrollingElement&&(re.value=Q.scrollTop)}});function de(){e.noClickAnimation||l.value&&no(l.value,[{transformOrigin:"center"},{transform:"scale(1.03)"},{transformOrigin:"center"}],{duration:150,easing:Iu})}function we(){r("afterEnter")}function Ie(){p(),r("afterLeave")}return se(()=>{var oe;return f(be,null,[(oe=n.activator)==null?void 0:oe.call(n,{isActive:c.value,targetRef:b,props:J({ref:V},_.value,e.activatorProps)}),H.value&&g.value&&f(OD,{disabled:!I.value,to:I.value},{default:()=>[f("div",J({class:["v-overlay",{"v-overlay--absolute":e.absolute||e.contained,"v-overlay--active":c.value,"v-overlay--contained":e.contained},d.value,h.value,e.class],style:[x.value,{"--v-overlay-opacity":e.opacity,top:Se(re.value)},e.style],ref:o},q,i),[f(yF,J({color:y,modelValue:c.value&&!!e.scrim,ref:a},P.value),null),f(jn,{appear:!0,persisted:!0,transition:e.transition,target:N.value,onAfterEnter:we,onAfterLeave:Ie},{default:()=>{var Q;return[Ht(f("div",J({ref:l,class:["v-overlay__content",e.contentClass],style:[R.value,W.value]},E.value,e.contentProps),[(Q=n.default)==null?void 0:Q.call(n,{isActive:c})]),[[Gi,c.value],[vi("click-outside"),{handler:U,closeConditional:B,include:()=>[A.value]}]])]}})])]})])}),{activatorEl:A,scrimEl:a,target:N,animateClick:de,contentEl:l,globalTop:w,localTop:C,updateLocation:X}}}),km=Symbol("Forwarded refs");function Em(e,t){let n=e;for(;n;){const i=Reflect.getOwnPropertyDescriptor(n,t);if(i)return i;n=Object.getPrototypeOf(n)}}function bi(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return e[km]=n,new Proxy(e,{get(r,s){if(Reflect.has(r,s))return Reflect.get(r,s);if(!(typeof s=="symbol"||s.startsWith("$")||s.startsWith("__"))){for(const o of n)if(o.value&&Reflect.has(o.value,s)){const a=Reflect.get(o.value,s);return typeof a=="function"?a.bind(o.value):a}}},has(r,s){if(Reflect.has(r,s))return!0;if(typeof s=="symbol"||s.startsWith("$")||s.startsWith("__"))return!1;for(const o of n)if(o.value&&Reflect.has(o.value,s))return!0;return!1},set(r,s,o){if(Reflect.has(r,s))return Reflect.set(r,s,o);if(typeof s=="symbol"||s.startsWith("$")||s.startsWith("__"))return!1;for(const a of n)if(a.value&&Reflect.has(a.value,s))return Reflect.set(a.value,s,o);return!1},getOwnPropertyDescriptor(r,s){var a;const o=Reflect.getOwnPropertyDescriptor(r,s);if(o)return o;if(!(typeof s=="symbol"||s.startsWith("$")||s.startsWith("__"))){for(const l of n){if(!l.value)continue;const u=Em(l.value,s)??("_"in l.value?Em((a=l.value._)==null?void 0:a.setupState,s):void 0);if(u)return u}for(const l of n){const u=l.value&&l.value[km];if(!u)continue;const c=u.slice();for(;c.length;){const d=c.shift(),h=Em(d.value,s);if(h)return h;const v=d.value&&d.value[km];v&&c.push(...v)}}}}})}const kT=z({id:String,submenu:Boolean,...pt(uc({closeDelay:250,closeOnContentClick:!0,locationStrategy:"connected",location:void 0,openDelay:300,scrim:!1,scrollStrategy:"reposition",transition:{component:Gf}}),["absolute"])},"VMenu"),yo=te()({name:"VMenu",props:kT(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const i=Re(e,"modelValue"),{scopeId:r}=zo(),{isRtl:s}=sn(),o=Sn(),a=k(()=>e.id||`v-menu-${o}`),l=j(),u=He(xv,null),c=ye(new Set);bt(xv,{register(){c.value.add(o)},unregister(){c.value.delete(o)},closeParents(y){setTimeout(()=>{var w;!c.value.size&&!e.persistent&&(y==null||(w=l.value)!=null&&w.contentEl&&!DO(y,l.value.contentEl))&&(i.value=!1,u==null||u.closeParents())},40)}}),wn(()=>u==null?void 0:u.unregister()),hp(()=>i.value=!1);async function d(y){var x,A,V;const w=y.relatedTarget,C=y.target;await tt(),i.value&&w!==C&&((x=l.value)!=null&&x.contentEl)&&((A=l.value)!=null&&A.globalTop)&&![document,l.value.contentEl].includes(C)&&!l.value.contentEl.contains(C)&&((V=Cu(l.value.contentEl)[0])==null||V.focus())}he(i,y=>{y?(u==null||u.register(),document.addEventListener("focusin",d,{once:!0})):(u==null||u.unregister(),document.removeEventListener("focusin",d))});function h(y){u==null||u.closeParents(y)}function v(y){var w,C,x,A,V;if(!e.disabled)if(y.key==="Tab"||y.key==="Enter"&&!e.closeOnContentClick){if(y.key==="Enter"&&(y.target instanceof HTMLTextAreaElement||y.target instanceof HTMLInputElement&&y.target.closest("form")))return;y.key==="Enter"&&y.preventDefault(),Wk(Cu((w=l.value)==null?void 0:w.contentEl,!1),y.shiftKey?"prev":"next",T=>T.tabIndex>=0)||(i.value=!1,(x=(C=l.value)==null?void 0:C.activatorEl)==null||x.focus())}else e.submenu&&y.key===(s.value?"ArrowRight":"ArrowLeft")&&(i.value=!1,(V=(A=l.value)==null?void 0:A.activatorEl)==null||V.focus())}function g(y){var C;if(e.disabled)return;const w=(C=l.value)==null?void 0:C.contentEl;w&&i.value?y.key==="ArrowDown"?(y.preventDefault(),y.stopImmediatePropagation(),uo(w,"next")):y.key==="ArrowUp"?(y.preventDefault(),y.stopImmediatePropagation(),uo(w,"prev")):e.submenu&&(y.key===(s.value?"ArrowRight":"ArrowLeft")?i.value=!1:y.key===(s.value?"ArrowLeft":"ArrowRight")&&(y.preventDefault(),uo(w,"first"))):(e.submenu?y.key===(s.value?"ArrowLeft":"ArrowRight"):["ArrowDown","ArrowUp"].includes(y.key))&&(i.value=!0,y.preventDefault(),setTimeout(()=>setTimeout(()=>g(y))))}const p=k(()=>J({"aria-haspopup":"menu","aria-expanded":String(i.value),"aria-owns":a.value,onKeydown:g},e.activatorProps));return se(()=>{const y=ar.filterProps(e);return f(ar,J({ref:l,id:a.value,class:["v-menu",e.class],style:e.style},y,{modelValue:i.value,"onUpdate:modelValue":w=>i.value=w,absolute:!0,activatorProps:p.value,location:e.location??(e.submenu?"end":"bottom"),"onClick:outside":h,onKeydown:v},r),{activator:n.activator,default:function(){for(var w=arguments.length,C=new Array(w),x=0;x<w;x++)C[x]=arguments[x];return f(ze,{root:"VMenu"},{default:()=>{var A;return[(A=n.default)==null?void 0:A.call(n,...C)]}})}})}),bi({id:a,openChildren:c},l)}}),_F=z({active:Boolean,disabled:Boolean,max:[Number,String],value:{type:[Number,String],default:0},...Ee(),...Ki({transition:{component:jp}})},"VCounter"),eh=te()({name:"VCounter",functional:!0,props:_F(),setup(e,t){let{slots:n}=t;const i=k(()=>e.max?`${e.value} / ${e.max}`:String(e.value));return se(()=>f(jn,{transition:e.transition},{default:()=>[Ht(f("div",{class:["v-counter",{"text-error":e.max&&!e.disabled&&parseFloat(e.value)>parseFloat(e.max)},e.class],style:e.style},[n.default?n.default({counter:i.value,max:e.max,value:e.value}):i.value]),[[Gi,e.active]])]})),{}}}),bF=z({floating:Boolean,...Ee()},"VFieldLabel"),zl=te()({name:"VFieldLabel",props:bF(),setup(e,t){let{slots:n}=t;return se(()=>f(tl,{class:["v-field-label",{"v-field-label--floating":e.floating},e.class],style:e.style,"aria-hidden":e.floating||void 0},n)),{}}}),wF=["underlined","outlined","filled","solo","solo-inverted","solo-filled","plain"],cc=z({appendInnerIcon:Be,bgColor:String,clearable:Boolean,clearIcon:{type:Be,default:"$clear"},active:Boolean,centerAffix:{type:Boolean,default:void 0},color:String,baseColor:String,dirty:Boolean,disabled:{type:Boolean,default:null},error:Boolean,flat:Boolean,label:String,persistentClear:Boolean,prependInnerIcon:Be,reverse:Boolean,singleLine:Boolean,variant:{type:String,default:"filled",validator:e=>wF.includes(e)},"onClick:clear":cn(),"onClick:appendInner":cn(),"onClick:prependInner":cn(),...Ee(),...Xf(),...Mt(),...nt()},"VField"),il=te()({name:"VField",inheritAttrs:!1,props:{id:String,...nl(),...cc()},emits:{"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,t){let{attrs:n,emit:i,slots:r}=t;const{themeClasses:s}=ft(e),{loaderClasses:o}=sc(e),{focusClasses:a,isFocused:l,focus:u,blur:c}=gr(e),{InputIcon:d}=WE(e),{roundedClasses:h}=qt(e),{rtlClasses:v}=sn(),g=k(()=>e.dirty||e.active),p=k(()=>!e.singleLine&&!!(e.label||r.label)),y=Sn(),w=k(()=>e.id||`input-${y}`),C=k(()=>`${w.value}-messages`),x=j(),A=j(),V=j(),N=k(()=>["plain","underlined"].includes(e.variant)),{backgroundColorClasses:T,backgroundColorStyles:b}=wt(ee(e,"bgColor")),{textColorClasses:_,textColorStyles:E}=yn(k(()=>e.error||e.disabled?void 0:g.value&&l.value?e.color:e.baseColor));he(g,H=>{if(p.value){const q=x.value.$el,W=A.value.$el;requestAnimationFrame(()=>{const X=Rp(q),U=W.getBoundingClientRect(),B=U.x-X.x,$=U.y-X.y-(X.height/2-U.height/2),Y=U.width/.75,re=Math.abs(Y-X.width)>1?{maxWidth:Se(Y)}:void 0,de=getComputedStyle(q),we=getComputedStyle(W),Ie=parseFloat(de.transitionDuration)*1e3||150,oe=parseFloat(we.getPropertyValue("--v-field-label-scale")),Q=we.getPropertyValue("color");q.style.visibility="visible",W.style.visibility="hidden",no(q,{transform:`translate(${B}px, ${$}px) scale(${oe})`,color:Q,...re},{duration:Ie,easing:Iu,direction:H?"normal":"reverse"}).finished.then(()=>{q.style.removeProperty("visibility"),W.style.removeProperty("visibility")})})}},{flush:"post"});const P=k(()=>({isActive:g,isFocused:l,controlRef:V,blur:c,focus:u}));function I(H){H.target!==document.activeElement&&H.preventDefault()}function R(H){var q;H.key!=="Enter"&&H.key!==" "||(H.preventDefault(),H.stopPropagation(),(q=e["onClick:clear"])==null||q.call(e,new MouseEvent("click")))}return se(()=>{var B,$,Y;const H=e.variant==="outlined",q=!!(r["prepend-inner"]||e.prependInnerIcon),W=!!(e.clearable||r.clear),X=!!(r["append-inner"]||e.appendInnerIcon||W),U=()=>r.label?r.label({...P.value,label:e.label,props:{for:w.value}}):e.label;return f("div",J({class:["v-field",{"v-field--active":g.value,"v-field--appended":X,"v-field--center-affix":e.centerAffix??!N.value,"v-field--disabled":e.disabled,"v-field--dirty":e.dirty,"v-field--error":e.error,"v-field--flat":e.flat,"v-field--has-background":!!e.bgColor,"v-field--persistent-clear":e.persistentClear,"v-field--prepended":q,"v-field--reverse":e.reverse,"v-field--single-line":e.singleLine,"v-field--no-label":!U(),[`v-field--variant-${e.variant}`]:!0},s.value,T.value,a.value,o.value,h.value,v.value,e.class],style:[b.value,e.style],onClick:I},n),[f("div",{class:"v-field__overlay"},null),f(oc,{name:"v-field",active:!!e.loading,color:e.error?"error":typeof e.loading=="string"?e.loading:e.color},{default:r.loader}),q&&f("div",{key:"prepend",class:"v-field__prepend-inner"},[e.prependInnerIcon&&f(d,{key:"prepend-icon",name:"prependInner"},null),(B=r["prepend-inner"])==null?void 0:B.call(r,P.value)]),f("div",{class:"v-field__field","data-no-activator":""},[["filled","solo","solo-inverted","solo-filled"].includes(e.variant)&&p.value&&f(zl,{key:"floating-label",ref:A,class:[_.value],floating:!0,for:w.value,style:E.value},{default:()=>[U()]}),f(zl,{ref:x,for:w.value},{default:()=>[U()]}),($=r.default)==null?void 0:$.call(r,{...P.value,props:{id:w.value,class:"v-field__input","aria-describedby":C.value},focus:u,blur:c})]),W&&f(Wp,{key:"clear"},{default:()=>[Ht(f("div",{class:"v-field__clearable",onMousedown:re=>{re.preventDefault(),re.stopPropagation()}},[f(ze,{defaults:{VIcon:{icon:e.clearIcon}}},{default:()=>[r.clear?r.clear({...P.value,props:{onKeydown:R,onFocus:u,onBlur:c,onClick:e["onClick:clear"]}}):f(d,{name:"clear",onKeydown:R,onFocus:u,onBlur:c},null)]})]),[[Gi,e.dirty]])]}),X&&f("div",{key:"append",class:"v-field__append-inner"},[(Y=r["append-inner"])==null?void 0:Y.call(r,P.value),e.appendInnerIcon&&f(d,{key:"append-icon",name:"appendInner"},null)]),f("div",{class:["v-field__outline",_.value],style:E.value},[H&&f(be,null,[f("div",{class:"v-field__outline__start"},null),p.value&&f("div",{class:"v-field__outline__notch"},[f(zl,{ref:A,floating:!0,for:w.value},{default:()=>[U()]})]),f("div",{class:"v-field__outline__end"},null)]),N.value&&p.value&&f(zl,{ref:A,floating:!0,for:w.value},{default:()=>[U()]})])])}),{controlRef:V}}});function ny(e){const t=Object.keys(il.props).filter(n=>!Uf(n)&&n!=="class"&&n!=="style");return Ap(e,t)}const SF=["color","file","time","date","datetime-local","week","month"],rl=z({autofocus:Boolean,counter:[Boolean,Number,String],counterValue:[Number,Function],prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,suffix:String,role:String,type:{type:String,default:"text"},modelModifiers:Object,...Kr(),...cc()},"VTextField"),Ui=te()({name:"VTextField",directives:{Intersect:rc},inheritAttrs:!1,props:rl(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,t){let{attrs:n,emit:i,slots:r}=t;const s=Re(e,"modelValue"),{isFocused:o,focus:a,blur:l}=gr(e),u=k(()=>typeof e.counterValue=="function"?e.counterValue(s.value):typeof e.counterValue=="number"?e.counterValue:(s.value??"").toString().length),c=k(()=>{if(n.maxlength)return n.maxlength;if(!(!e.counter||typeof e.counter!="number"&&typeof e.counter!="string"))return e.counter}),d=k(()=>["plain","underlined"].includes(e.variant));function h(N,T){var b,_;!e.autofocus||!N||(_=(b=T[0].target)==null?void 0:b.focus)==null||_.call(b)}const v=j(),g=j(),p=j(),y=k(()=>SF.includes(e.type)||e.persistentPlaceholder||o.value||e.active);function w(){var N;p.value!==document.activeElement&&((N=p.value)==null||N.focus()),o.value||a()}function C(N){i("mousedown:control",N),N.target!==p.value&&(w(),N.preventDefault())}function x(N){w(),i("click:control",N)}function A(N){N.stopPropagation(),w(),tt(()=>{s.value=null,xp(e["onClick:clear"],N)})}function V(N){var b;const T=N.target;if(s.value=T.value,(b=e.modelModifiers)!=null&&b.trim&&["text","search","password","tel","url"].includes(e.type)){const _=[T.selectionStart,T.selectionEnd];tt(()=>{T.selectionStart=_[0],T.selectionEnd=_[1]})}}return se(()=>{const N=!!(r.counter||e.counter!==!1&&e.counter!=null),T=!!(N||r.details),[b,_]=Fs(n),{modelValue:E,...P}=Pn.filterProps(e),I=ny(e);return f(Pn,J({ref:v,modelValue:s.value,"onUpdate:modelValue":R=>s.value=R,class:["v-text-field",{"v-text-field--prefixed":e.prefix,"v-text-field--suffixed":e.suffix,"v-input--plain-underlined":d.value},e.class],style:e.style},b,P,{centerAffix:!d.value,focused:o.value}),{...r,default:R=>{let{id:H,isDisabled:q,isDirty:W,isReadonly:X,isValid:U}=R;return f(il,J({ref:g,onMousedown:C,onClick:x,"onClick:clear":A,"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"],role:e.role},I,{id:H.value,active:y.value||W.value,dirty:W.value||e.dirty,disabled:q.value,focused:o.value,error:U.value===!1}),{...r,default:B=>{let{props:{class:$,...Y}}=B;const re=Ht(f("input",J({ref:p,value:s.value,onInput:V,autofocus:e.autofocus,readonly:X.value,disabled:q.value,name:e.name,placeholder:e.placeholder,size:1,type:e.type,onFocus:w,onBlur:l},Y,_),null),[[vi("intersect"),{handler:h},null,{once:!0}]]);return f(be,null,[e.prefix&&f("span",{class:"v-text-field__prefix"},[f("span",{class:"v-text-field__prefix__text"},[e.prefix])]),r.default?f("div",{class:$,"data-no-activator":""},[r.default(),re]):Mr(re,{class:$}),e.suffix&&f("span",{class:"v-text-field__suffix"},[f("span",{class:"v-text-field__suffix__text"},[e.suffix])])])}})},details:T?R=>{var H;return f(be,null,[(H=r.details)==null?void 0:H.call(r,R),N&&f(be,null,[f("span",null,null),f(eh,{active:e.persistentCounter||o.value,value:u.value,max:c.value,disabled:e.disabled},r.counter)])])}:void 0})}),bi({},v,g,p)}}),CF=z({renderless:Boolean,...Ee()},"VVirtualScrollItem"),ET=te()({name:"VVirtualScrollItem",inheritAttrs:!1,props:CF(),emits:{"update:height":e=>!0},setup(e,t){let{attrs:n,emit:i,slots:r}=t;const{resizeRef:s,contentRect:o}=Bi(void 0,"border");he(()=>{var a;return(a=o.value)==null?void 0:a.height},a=>{a!=null&&i("update:height",a)}),se(()=>{var a,l;return e.renderless?f(be,null,[(a=r.default)==null?void 0:a.call(r,{itemRef:s})]):f("div",J({ref:s,class:["v-virtual-scroll__item",e.class],style:e.style},n),[(l=r.default)==null?void 0:l.call(r)])})}}),IF=-1,kF=1,Tm=100,TT=z({itemHeight:{type:[Number,String],default:null},height:[Number,String]},"virtual");function AT(e,t){const n=pi(),i=ye(0);Gt(()=>{i.value=parseFloat(e.itemHeight||0)});const r=ye(0),s=ye(Math.ceil((parseInt(e.height)||n.height.value)/(i.value||16))||1),o=ye(0),a=ye(0),l=j(),u=j();let c=0;const{resizeRef:d,contentRect:h}=Bi();Gt(()=>{d.value=l.value});const v=k(()=>{var B;return l.value===document.documentElement?n.height.value:((B=h.value)==null?void 0:B.height)||parseInt(e.height)||0}),g=k(()=>!!(l.value&&u.value&&v.value&&i.value));let p=Array.from({length:t.value.length}),y=Array.from({length:t.value.length});const w=ye(0);let C=-1;function x(B){return p[B]||i.value}const A=TO(()=>{const B=performance.now();y[0]=0;const $=t.value.length;for(let Y=1;Y<=$-1;Y++)y[Y]=(y[Y-1]||0)+x(Y-1);w.value=Math.max(w.value,performance.now()-B)},w),V=he(g,B=>{B&&(V(),c=u.value.offsetTop,A.immediate(),q(),~C&&tt(()=>{ht&&window.requestAnimationFrame(()=>{X(C),C=-1})}))});_n(()=>{A.clear()});function N(B,$){const Y=p[B],re=i.value;i.value=re?Math.min(i.value,$):$,(Y!==$||re!==i.value)&&(p[B]=$,A())}function T(B){return B=Ut(B,0,t.value.length-1),y[B]||0}function b(B){return EF(y,B)}let _=0,E=0,P=0;he(v,(B,$)=>{$&&(q(),B<$&&requestAnimationFrame(()=>{E=0,q()}))});function I(){if(!l.value||!u.value)return;const B=l.value.scrollTop,$=performance.now();$-P>500?(E=Math.sign(B-_),c=u.value.offsetTop):E=B-_,_=B,P=$,q()}function R(){!l.value||!u.value||(E=0,P=0,q())}let H=-1;function q(){cancelAnimationFrame(H),H=requestAnimationFrame(W)}function W(){if(!l.value||!v.value)return;const B=_-c,$=Math.sign(E),Y=Math.max(0,B-Tm),re=Ut(b(Y),0,t.value.length),de=B+v.value+Tm,we=Ut(b(de)+1,re+1,t.value.length);if(($!==IF||re<r.value)&&($!==kF||we>s.value)){const Ie=T(r.value)-T(re),oe=T(we)-T(s.value);Math.max(Ie,oe)>Tm?(r.value=re,s.value=we):(re<=0&&(r.value=re),we>=t.value.length&&(s.value=we))}o.value=T(r.value),a.value=T(t.value.length)-T(s.value)}function X(B){const $=T(B);!l.value||B&&!$?C=B:l.value.scrollTop=$}const U=k(()=>t.value.slice(r.value,s.value).map((B,$)=>({raw:B,index:$+r.value})));return he(t,()=>{p=Array.from({length:t.value.length}),y=Array.from({length:t.value.length}),A.immediate(),q()},{deep:!0}),{calculateVisibleItems:q,containerRef:l,markerRef:u,computedItems:U,paddingTop:o,paddingBottom:a,scrollToIndex:X,handleScroll:I,handleScrollend:R,handleItemResize:N}}function EF(e,t){let n=e.length-1,i=0,r=0,s=null,o=-1;if(e[n]<t)return n;for(;i<=n;)if(r=i+n>>1,s=e[r],s>t)n=r-1;else if(s<t)o=r,i=r+1;else return s===t?r:i;return o}const TF=z({items:{type:Array,default:()=>[]},renderless:Boolean,...TT(),...Ee(),...Jt()},"VVirtualScroll"),th=te()({name:"VVirtualScroll",props:TF(),setup(e,t){let{slots:n}=t;const i=zt("VVirtualScroll"),{dimensionStyles:r}=Zt(e),{calculateVisibleItems:s,containerRef:o,markerRef:a,handleScroll:l,handleScrollend:u,handleItemResize:c,scrollToIndex:d,paddingTop:h,paddingBottom:v,computedItems:g}=AT(e,ee(e,"items"));return ti(()=>e.renderless,()=>{function p(){var C,x;const w=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)?"addEventListener":"removeEventListener";o.value===document.documentElement?(document[w]("scroll",l,{passive:!0}),document[w]("scrollend",u)):((C=o.value)==null||C[w]("scroll",l,{passive:!0}),(x=o.value)==null||x[w]("scrollend",u))}dt(()=>{o.value=Op(i.vnode.el,!0),p(!0)}),_n(p)}),se(()=>{const p=g.value.map(y=>f(ET,{key:y.index,renderless:e.renderless,"onUpdate:height":w=>c(y.index,w)},{default:w=>{var C;return(C=n.default)==null?void 0:C.call(n,{item:y.raw,index:y.index,...w})}}));return e.renderless?f(be,null,[f("div",{ref:a,class:"v-virtual-scroll__spacer",style:{paddingTop:Se(h.value)}},null),p,f("div",{class:"v-virtual-scroll__spacer",style:{paddingBottom:Se(v.value)}},null)]):f("div",{ref:o,class:["v-virtual-scroll",e.class],onScrollPassive:l,onScrollend:u,style:[r.value,e.style]},[f("div",{ref:a,class:"v-virtual-scroll__container",style:{paddingTop:Se(h.value),paddingBottom:Se(v.value)}},[p])])}),{calculateVisibleItems:s,scrollToIndex:d}}});function iy(e,t){const n=ye(!1);let i;function r(a){cancelAnimationFrame(i),n.value=!0,i=requestAnimationFrame(()=>{i=requestAnimationFrame(()=>{n.value=!1})})}async function s(){await new Promise(a=>requestAnimationFrame(a)),await new Promise(a=>requestAnimationFrame(a)),await new Promise(a=>requestAnimationFrame(a)),await new Promise(a=>{if(n.value){const l=he(n,()=>{l(),a()})}else a()})}async function o(a){var c,d;if(a.key==="Tab"&&((c=t.value)==null||c.focus()),!["PageDown","PageUp","Home","End"].includes(a.key))return;const l=(d=e.value)==null?void 0:d.$el;if(!l)return;(a.key==="Home"||a.key==="End")&&l.scrollTo({top:a.key==="Home"?0:l.scrollHeight,behavior:"smooth"}),await s();const u=l.querySelectorAll(":scope > :not(.v-virtual-scroll__spacer)");if(a.key==="PageDown"||a.key==="Home"){const h=l.getBoundingClientRect().top;for(const v of u)if(v.getBoundingClientRect().top>=h){v.focus();break}}else{const h=l.getBoundingClientRect().bottom;for(const v of[...u].reverse())if(v.getBoundingClientRect().bottom<=h){v.focus();break}}}return{onScrollPassive:r,onKeydown:o}}const ry=z({chips:Boolean,closableChips:Boolean,closeText:{type:String,default:"$vuetify.close"},openText:{type:String,default:"$vuetify.open"},eager:Boolean,hideNoData:Boolean,hideSelected:Boolean,listProps:{type:Object},menu:Boolean,menuIcon:{type:Be,default:"$dropdown"},menuProps:{type:Object},multiple:Boolean,noDataText:{type:String,default:"$vuetify.noDataText"},openOnClear:Boolean,itemColor:String,...fT({itemChildren:!1})},"Select"),AF=z({...ry(),...pt(rl({modelValue:null,role:"combobox"}),["validationValue","dirty","appendInnerIcon"]),...Ki({transition:{component:Gf}})},"VSelect"),sy=te()({name:"VSelect",props:AF(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,"update:menu":e=>!0},setup(e,t){let{slots:n}=t;const{t:i}=At(),r=j(),s=j(),o=j(),a=Re(e,"menu"),l=k({get:()=>a.value,set:B=>{var $;a.value&&!B&&(($=s.value)!=null&&$.openChildren.size)||(a.value=B)}}),{items:u,transformIn:c,transformOut:d}=Xp(e),h=Re(e,"modelValue",[],B=>c(B===null?[null]:Dt(B)),B=>{const $=d(B);return e.multiple?$:$[0]??null}),v=k(()=>typeof e.counterValue=="function"?e.counterValue(h.value):typeof e.counterValue=="number"?e.counterValue:h.value.length),g=lc(),p=k(()=>h.value.map(B=>B.value)),y=ye(!1),w=k(()=>l.value?e.closeText:e.openText);let C="",x;const A=k(()=>e.hideSelected?u.value.filter(B=>!h.value.some($=>e.valueComparator($,B))):u.value),V=k(()=>e.hideNoData&&!A.value.length||e.readonly||(g==null?void 0:g.isReadonly.value)),N=k(()=>{var B;return{...e.menuProps,activatorProps:{...((B=e.menuProps)==null?void 0:B.activatorProps)||{},"aria-haspopup":"listbox"}}}),T=j(),b=iy(T,r);function _(B){e.openOnClear&&(l.value=!0)}function E(){V.value||(l.value=!l.value)}function P(B){$d(B)&&I(B)}function I(B){var de,we;if(!B.key||e.readonly||g!=null&&g.isReadonly.value)return;["Enter"," ","ArrowDown","ArrowUp","Home","End"].includes(B.key)&&B.preventDefault(),["Enter","ArrowDown"," "].includes(B.key)&&(l.value=!0),["Escape","Tab"].includes(B.key)&&(l.value=!1),B.key==="Home"?(de=T.value)==null||de.focus("first"):B.key==="End"&&((we=T.value)==null||we.focus("last"));const $=1e3;if(e.multiple||!$d(B))return;const Y=performance.now();Y-x>$&&(C=""),C+=B.key.toLowerCase(),x=Y;const re=u.value.find(Ie=>Ie.title.toLowerCase().startsWith(C));if(re!==void 0){h.value=[re];const Ie=A.value.indexOf(re);ht&&window.requestAnimationFrame(()=>{var oe;Ie>=0&&((oe=o.value)==null||oe.scrollToIndex(Ie))})}}function R(B){let $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!B.props.disabled)if(e.multiple){const Y=h.value.findIndex(de=>e.valueComparator(de.value,B.value)),re=$??!~Y;if(~Y){const de=re?[...h.value,B]:[...h.value];de.splice(Y,1),h.value=de}else re&&(h.value=[...h.value,B])}else{const Y=$!==!1;h.value=Y?[B]:[],tt(()=>{l.value=!1})}}function H(B){var $;($=T.value)!=null&&$.$el.contains(B.relatedTarget)||(l.value=!1)}function q(){var B;e.eager&&((B=o.value)==null||B.calculateVisibleItems())}function W(){var B;y.value&&((B=r.value)==null||B.focus())}function X(B){y.value=!0}function U(B){if(B==null)h.value=[];else if(Da(r.value,":autofill")||Da(r.value,":-webkit-autofill")){const $=u.value.find(Y=>Y.title===B);$&&R($)}else r.value&&(r.value.value="")}return he(l,()=>{if(!e.hideSelected&&l.value&&h.value.length){const B=A.value.findIndex($=>h.value.some(Y=>e.valueComparator(Y.value,$.value)));ht&&window.requestAnimationFrame(()=>{var $;B>=0&&(($=o.value)==null||$.scrollToIndex(B))})}}),he(()=>e.items,(B,$)=>{l.value||y.value&&!$.length&&B.length&&(l.value=!0)}),se(()=>{const B=!!(e.chips||n.chip),$=!!(!e.hideNoData||A.value.length||n["prepend-item"]||n["append-item"]||n["no-data"]),Y=h.value.length>0,re=Ui.filterProps(e),de=Y||!y.value&&e.label&&!e.persistentPlaceholder?void 0:e.placeholder;return f(Ui,J({ref:r},re,{modelValue:h.value.map(we=>we.props.value).join(", "),"onUpdate:modelValue":U,focused:y.value,"onUpdate:focused":we=>y.value=we,validationValue:h.externalValue,counterValue:v.value,dirty:Y,class:["v-select",{"v-select--active-menu":l.value,"v-select--chips":!!e.chips,[`v-select--${e.multiple?"multiple":"single"}`]:!0,"v-select--selected":h.value.length,"v-select--selection-slot":!!n.selection},e.class],style:e.style,inputmode:"none",placeholder:de,"onClick:clear":_,"onMousedown:control":E,onBlur:H,onKeydown:I,"aria-label":i(w.value),title:i(w.value)}),{...n,default:()=>f(be,null,[f(yo,J({ref:s,modelValue:l.value,"onUpdate:modelValue":we=>l.value=we,activator:"parent",contentClass:"v-select__content",disabled:V.value,eager:e.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:e.transition,onAfterEnter:q,onAfterLeave:W},N.value),{default:()=>[$&&f(Ma,J({ref:T,selected:p.value,selectStrategy:e.multiple?"independent":"single-independent",onMousedown:we=>we.preventDefault(),onKeydown:P,onFocusin:X,tabindex:"-1","aria-live":"polite",color:e.itemColor??e.color},b,e.listProps),{default:()=>{var we,Ie,oe;return[(we=n["prepend-item"])==null?void 0:we.call(n),!A.value.length&&!e.hideNoData&&(((Ie=n["no-data"])==null?void 0:Ie.call(n))??f($i,{title:i(e.noDataText)},null)),f(th,{ref:o,renderless:!0,items:A.value},{default:Q=>{var Te;let{item:le,index:pe,itemRef:fe}=Q;const ce=J(le.props,{ref:fe,key:pe,onClick:()=>R(le,null)});return((Te=n.item)==null?void 0:Te.call(n,{item:le,index:pe,props:ce}))??f($i,J(ce,{role:"option"}),{prepend:O=>{let{isSelected:M}=O;return f(be,null,[e.multiple&&!e.hideSelected?f(or,{key:le.value,modelValue:M,ripple:!1,tabindex:"-1"},null):void 0,le.props.prependAvatar&&f(mi,{image:le.props.prependAvatar},null),le.props.prependIcon&&f(st,{icon:le.props.prependIcon},null)])}})}}),(oe=n["append-item"])==null?void 0:oe.call(n)]}})]}),h.value.map((we,Ie)=>{function oe(fe){fe.stopPropagation(),fe.preventDefault(),R(we,!1)}const Q={"onClick:close":oe,onKeydown(fe){fe.key!=="Enter"&&fe.key!==" "||(fe.preventDefault(),fe.stopPropagation(),oe(fe))},onMousedown(fe){fe.preventDefault(),fe.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0},le=B?!!n.chip:!!n.selection,pe=le?Hf(B?n.chip({item:we,index:Ie,props:Q}):n.selection({item:we,index:Ie})):void 0;if(!(le&&!pe))return f("div",{key:we.value,class:"v-select__selection"},[B?n.chip?f(ze,{key:"chip-defaults",defaults:{VChip:{closable:e.closableChips,size:"small",text:we.title}}},{default:()=>[pe]}):f(Wo,J({key:"chip",closable:e.closableChips,size:"small",text:we.title,disabled:we.props.disabled},Q),null):pe??f("span",{class:"v-select__selection-text"},[we.title,e.multiple&&Ie<h.value.length-1&&f("span",{class:"v-select__selection-comma"},[Ve(",")])])])})]),"append-inner":function(){var Q;for(var we=arguments.length,Ie=new Array(we),oe=0;oe<we;oe++)Ie[oe]=arguments[oe];return f(be,null,[(Q=n["append-inner"])==null?void 0:Q.call(n,...Ie),e.menuIcon?f(st,{class:"v-select__menu-icon",icon:e.menuIcon},null):void 0])}})}),bi({isFocused:y,menu:l,select:R},r)}}),PF=(e,t,n)=>e==null||t==null?-1:e.toString().toLocaleLowerCase().indexOf(t.toString().toLocaleLowerCase()),sl=z({customFilter:Function,customKeyFilter:Object,filterKeys:[Array,String],filterMode:{type:String,default:"intersection"},noFilter:Boolean},"filter");function xF(e,t,n){var a;const i=[],r=(n==null?void 0:n.default)??PF,s=n!=null&&n.filterKeys?Dt(n.filterKeys):!1,o=Object.keys((n==null?void 0:n.customKeyFilter)??{}).length;if(!(e!=null&&e.length))return i;e:for(let l=0;l<e.length;l++){const[u,c=u]=Dt(e[l]),d={},h={};let v=-1;if((t||o>0)&&!(n!=null&&n.noFilter)){if(typeof u=="object"){const y=s||Object.keys(c);for(const w of y){const C=Qt(c,w),x=(a=n==null?void 0:n.customKeyFilter)==null?void 0:a[w];if(v=x?x(C,t,u):r(C,t,u),v!==-1&&v!==!1)x?d[w]=v:h[w]=v;else if((n==null?void 0:n.filterMode)==="every")continue e}}else v=r(u,t,u),v!==-1&&v!==!1&&(h.title=v);const g=Object.keys(h).length,p=Object.keys(d).length;if(!g&&!p||(n==null?void 0:n.filterMode)==="union"&&p!==o&&!g||(n==null?void 0:n.filterMode)==="intersection"&&(p!==o||!g))continue}i.push({index:l,matches:{...h,...d}})}return i}function ol(e,t,n,i){const r=j([]),s=j(new Map),o=k(()=>i!=null&&i.transform?qe(t).map(l=>[l,i.transform(l)]):qe(t));Gt(()=>{const l=typeof n=="function"?n():qe(n),u=typeof l!="string"&&typeof l!="number"?"":String(l),c=xF(o.value,u,{customKeyFilter:{...e.customKeyFilter,...qe(i==null?void 0:i.customKeyFilter)},default:e.customFilter,filterKeys:e.filterKeys,filterMode:e.filterMode,noFilter:e.noFilter}),d=qe(t),h=[],v=new Map;c.forEach(g=>{let{index:p,matches:y}=g;const w=d[p];h.push(w),v.set(w.value,y)}),r.value=h,s.value=v});function a(l){return s.value.get(l.value)}return{filteredItems:r,filteredMatches:s,getMatches:a}}function RF(e,t,n){if(t==null)return e;if(Array.isArray(t))throw new Error("Multiple matches is not implemented");return typeof t=="number"&&~t?f(be,null,[f("span",{class:"v-autocomplete__unmask"},[e.substr(0,t)]),f("span",{class:"v-autocomplete__mask"},[e.substr(t,n)]),f("span",{class:"v-autocomplete__unmask"},[e.substr(t+n)])]):e}const VF=z({autoSelectFirst:{type:[Boolean,String]},clearOnSelect:Boolean,search:String,...sl({filterKeys:["title"]}),...ry(),...pt(rl({modelValue:null,role:"combobox"}),["validationValue","dirty","appendInnerIcon"]),...Ki({transition:!1})},"VAutocomplete"),DF=te()({name:"VAutocomplete",props:VF(),emits:{"update:focused":e=>!0,"update:search":e=>!0,"update:modelValue":e=>!0,"update:menu":e=>!0},setup(e,t){let{slots:n}=t;const{t:i}=At(),r=j(),s=ye(!1),o=ye(!0),a=ye(!1),l=j(),u=j(),c=Re(e,"menu"),d=k({get:()=>c.value,set:ce=>{var Te;c.value&&!ce&&((Te=l.value)!=null&&Te.openChildren.size)||(c.value=ce)}}),h=ye(-1),v=k(()=>{var ce;return(ce=r.value)==null?void 0:ce.color}),g=k(()=>d.value?e.closeText:e.openText),{items:p,transformIn:y,transformOut:w}=Xp(e),{textColorClasses:C,textColorStyles:x}=yn(v),A=Re(e,"search",""),V=Re(e,"modelValue",[],ce=>y(ce===null?[null]:Dt(ce)),ce=>{const Te=w(ce);return e.multiple?Te:Te[0]??null}),N=k(()=>typeof e.counterValue=="function"?e.counterValue(V.value):typeof e.counterValue=="number"?e.counterValue:V.value.length),T=lc(),{filteredItems:b,getMatches:_}=ol(e,p,()=>o.value?"":A.value),E=k(()=>e.hideSelected?b.value.filter(ce=>!V.value.some(Te=>Te.value===ce.value)):b.value),P=k(()=>!!(e.chips||n.chip)),I=k(()=>P.value||!!n.selection),R=k(()=>V.value.map(ce=>ce.props.value)),H=k(()=>{var Te;return(e.autoSelectFirst===!0||e.autoSelectFirst==="exact"&&A.value===((Te=E.value[0])==null?void 0:Te.title))&&E.value.length>0&&!o.value&&!a.value}),q=k(()=>e.hideNoData&&!E.value.length||e.readonly||(T==null?void 0:T.isReadonly.value)),W=j(),X=iy(W,r);function U(ce){e.openOnClear&&(d.value=!0),A.value=""}function B(){q.value||(d.value=!0)}function $(ce){q.value||(s.value&&(ce.preventDefault(),ce.stopPropagation()),d.value=!d.value)}function Y(ce){var Te;$d(ce)&&((Te=r.value)==null||Te.focus())}function re(ce){var M,G,ie;if(e.readonly||T!=null&&T.isReadonly.value)return;const Te=r.value.selectionStart,O=V.value.length;if((h.value>-1||["Enter","ArrowDown","ArrowUp"].includes(ce.key))&&ce.preventDefault(),["Enter","ArrowDown"].includes(ce.key)&&(d.value=!0),["Escape"].includes(ce.key)&&(d.value=!1),H.value&&["Enter","Tab"].includes(ce.key)&&!V.value.some(K=>{let{value:ue}=K;return ue===E.value[0].value})&&fe(E.value[0]),ce.key==="ArrowDown"&&H.value&&((M=W.value)==null||M.focus("next")),["Backspace","Delete"].includes(ce.key)){if(!e.multiple&&I.value&&V.value.length>0&&!A.value)return fe(V.value[0],!1);if(~h.value){const K=h.value;fe(V.value[h.value],!1),h.value=K>=O-1?O-2:K}else ce.key==="Backspace"&&!A.value&&(h.value=O-1)}if(e.multiple){if(ce.key==="ArrowLeft"){if(h.value<0&&Te>0)return;const K=h.value>-1?h.value-1:O-1;V.value[K]?h.value=K:(h.value=-1,r.value.setSelectionRange((G=A.value)==null?void 0:G.length,(ie=A.value)==null?void 0:ie.length))}if(ce.key==="ArrowRight"){if(h.value<0)return;const K=h.value+1;V.value[K]?h.value=K:(h.value=-1,r.value.setSelectionRange(0,0))}}}function de(ce){if(Da(r.value,":autofill")||Da(r.value,":-webkit-autofill")){const Te=p.value.find(O=>O.title===ce.target.value);Te&&fe(Te)}}function we(){var ce;e.eager&&((ce=u.value)==null||ce.calculateVisibleItems())}function Ie(){var ce;s.value&&(o.value=!0,(ce=r.value)==null||ce.focus())}function oe(ce){s.value=!0,setTimeout(()=>{a.value=!0})}function Q(ce){a.value=!1}function le(ce){(ce==null||ce===""&&!e.multiple&&!I.value)&&(V.value=[])}const pe=ye(!1);function fe(ce){let Te=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!(!ce||ce.props.disabled))if(e.multiple){const O=V.value.findIndex(G=>e.valueComparator(G.value,ce.value)),M=Te??!~O;if(~O){const G=M?[...V.value,ce]:[...V.value];G.splice(O,1),V.value=G}else M&&(V.value=[...V.value,ce]);e.clearOnSelect&&(A.value="")}else{const O=Te!==!1;V.value=O?[ce]:[],A.value=O&&!I.value?ce.title:"",tt(()=>{d.value=!1,o.value=!0})}}return he(s,(ce,Te)=>{var O;ce!==Te&&(ce?(pe.value=!0,A.value=e.multiple||I.value?"":String(((O=V.value.at(-1))==null?void 0:O.props.title)??""),o.value=!0,tt(()=>pe.value=!1)):(!e.multiple&&A.value==null&&(V.value=[]),d.value=!1,V.value.some(M=>{let{title:G}=M;return G===A.value})||(A.value=""),h.value=-1))}),he(A,ce=>{!s.value||pe.value||(ce&&(d.value=!0),o.value=!ce)}),he(d,()=>{if(!e.hideSelected&&d.value&&V.value.length){const ce=E.value.findIndex(Te=>V.value.some(O=>Te.value===O.value));ht&&window.requestAnimationFrame(()=>{var Te;ce>=0&&((Te=u.value)==null||Te.scrollToIndex(ce))})}}),he(()=>e.items,(ce,Te)=>{d.value||s.value&&!Te.length&&ce.length&&(d.value=!0)}),se(()=>{const ce=!!(!e.hideNoData||E.value.length||n["prepend-item"]||n["append-item"]||n["no-data"]),Te=V.value.length>0,O=Ui.filterProps(e);return f(Ui,J({ref:r},O,{modelValue:A.value,"onUpdate:modelValue":[M=>A.value=M,le],focused:s.value,"onUpdate:focused":M=>s.value=M,validationValue:V.externalValue,counterValue:N.value,dirty:Te,onChange:de,class:["v-autocomplete",`v-autocomplete--${e.multiple?"multiple":"single"}`,{"v-autocomplete--active-menu":d.value,"v-autocomplete--chips":!!e.chips,"v-autocomplete--selection-slot":!!I.value,"v-autocomplete--selecting-index":h.value>-1},e.class],style:e.style,readonly:e.readonly,placeholder:Te?void 0:e.placeholder,"onClick:clear":U,"onMousedown:control":B,onKeydown:re}),{...n,default:()=>f(be,null,[f(yo,J({ref:l,modelValue:d.value,"onUpdate:modelValue":M=>d.value=M,activator:"parent",contentClass:"v-autocomplete__content",disabled:q.value,eager:e.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:e.transition,onAfterEnter:we,onAfterLeave:Ie},e.menuProps),{default:()=>[ce&&f(Ma,J({ref:W,selected:R.value,selectStrategy:e.multiple?"independent":"single-independent",onMousedown:M=>M.preventDefault(),onKeydown:Y,onFocusin:oe,onFocusout:Q,tabindex:"-1","aria-live":"polite",color:e.itemColor??e.color},X,e.listProps),{default:()=>{var M,G,ie;return[(M=n["prepend-item"])==null?void 0:M.call(n),!E.value.length&&!e.hideNoData&&(((G=n["no-data"])==null?void 0:G.call(n))??f($i,{title:i(e.noDataText)},null)),f(th,{ref:u,renderless:!0,items:E.value},{default:K=>{var ve;let{item:ue,index:ke,itemRef:me}=K;const Ce=J(ue.props,{ref:me,key:ke,active:H.value&&ke===0?!0:void 0,onClick:()=>fe(ue,null)});return((ve=n.item)==null?void 0:ve.call(n,{item:ue,index:ke,props:Ce}))??f($i,J(Ce,{role:"option"}),{prepend:Le=>{let{isSelected:Ae}=Le;return f(be,null,[e.multiple&&!e.hideSelected?f(or,{key:ue.value,modelValue:Ae,ripple:!1,tabindex:"-1"},null):void 0,ue.props.prependAvatar&&f(mi,{image:ue.props.prependAvatar},null),ue.props.prependIcon&&f(st,{icon:ue.props.prependIcon},null)])},title:()=>{var Le,Ae;return o.value?ue.title:RF(ue.title,(Le=_(ue))==null?void 0:Le.title,((Ae=A.value)==null?void 0:Ae.length)??0)}})}}),(ie=n["append-item"])==null?void 0:ie.call(n)]}})]}),V.value.map((M,G)=>{function ie(me){me.stopPropagation(),me.preventDefault(),fe(M,!1)}const K={"onClick:close":ie,onKeydown(me){me.key!=="Enter"&&me.key!==" "||(me.preventDefault(),me.stopPropagation(),ie(me))},onMousedown(me){me.preventDefault(),me.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0},ue=P.value?!!n.chip:!!n.selection,ke=ue?Hf(P.value?n.chip({item:M,index:G,props:K}):n.selection({item:M,index:G})):void 0;if(!(ue&&!ke))return f("div",{key:M.value,class:["v-autocomplete__selection",G===h.value&&["v-autocomplete__selection--selected",C.value]],style:G===h.value?x.value:{}},[P.value?n.chip?f(ze,{key:"chip-defaults",defaults:{VChip:{closable:e.closableChips,size:"small",text:M.title}}},{default:()=>[ke]}):f(Wo,J({key:"chip",closable:e.closableChips,size:"small",text:M.title,disabled:M.props.disabled},K),null):ke??f("span",{class:"v-autocomplete__selection-text"},[M.title,e.multiple&&G<V.value.length-1&&f("span",{class:"v-autocomplete__selection-comma"},[Ve(",")])])])})]),"append-inner":function(){var K;for(var M=arguments.length,G=new Array(M),ie=0;ie<M;ie++)G[ie]=arguments[ie];return f(be,null,[(K=n["append-inner"])==null?void 0:K.call(n,...G),e.menuIcon?f(st,{class:"v-autocomplete__menu-icon",icon:e.menuIcon,onMousedown:$,onClick:zk,"aria-label":i(g.value),title:i(g.value),tabindex:"-1"},null):void 0])}})}),bi({isFocused:s,isPristine:o,menu:d,search:A,filteredItems:b,select:fe},r)}}),NF=z({bordered:Boolean,color:String,content:[Number,String],dot:Boolean,floating:Boolean,icon:Be,inline:Boolean,label:{type:String,default:"$vuetify.badge"},max:[Number,String],modelValue:{type:Boolean,default:!0},offsetX:[Number,String],offsetY:[Number,String],textColor:String,...Ee(),...qr({location:"top end"}),...Mt(),...Ge(),...nt(),...Ki({transition:"scale-rotate-transition"})},"VBadge"),PT=te()({name:"VBadge",inheritAttrs:!1,props:NF(),setup(e,t){const{backgroundColorClasses:n,backgroundColorStyles:i}=wt(ee(e,"color")),{roundedClasses:r}=qt(e),{t:s}=At(),{textColorClasses:o,textColorStyles:a}=yn(ee(e,"textColor")),{themeClasses:l}=$p(),{locationStyles:u}=jo(e,!0,c=>(e.floating?e.dot?2:4:e.dot?8:12)+(["top","bottom"].includes(c)?+(e.offsetY??0):["left","right"].includes(c)?+(e.offsetX??0):0));return se(()=>{const c=Number(e.content),d=!e.max||isNaN(c)?e.content:c<=+e.max?c:`${e.max}+`,[h,v]=hv(t.attrs,["aria-atomic","aria-label","aria-live","role","title"]);return f(e.tag,J({class:["v-badge",{"v-badge--bordered":e.bordered,"v-badge--dot":e.dot,"v-badge--floating":e.floating,"v-badge--inline":e.inline},e.class]},v,{style:e.style}),{default:()=>{var g,p;return[f("div",{class:"v-badge__wrapper"},[(p=(g=t.slots).default)==null?void 0:p.call(g),f(jn,{transition:e.transition},{default:()=>{var y,w;return[Ht(f("span",J({class:["v-badge__badge",l.value,n.value,r.value,o.value],style:[i.value,a.value,e.inline?{}:u.value],"aria-atomic":"true","aria-label":s(e.label,c),"aria-live":"polite",role:"status"},h),[e.dot?void 0:t.slots.badge?(w=(y=t.slots).badge)==null?void 0:w.call(y):e.icon?f(st,{icon:e.icon},null):d]),[[Gi,e.modelValue]])]}})])]}})}),{}}}),OF=z({color:String,density:String,...Ee()},"VBannerActions"),xT=te()({name:"VBannerActions",props:OF(),setup(e,t){let{slots:n}=t;return Ot({VBtn:{color:e.color,density:e.density,slim:!0,variant:"text"}}),se(()=>{var i;return f("div",{class:["v-banner-actions",e.class],style:e.style},[(i=n.default)==null?void 0:i.call(n)])}),{}}}),RT=mr("v-banner-text"),MF=z({avatar:String,bgColor:String,color:String,icon:Be,lines:String,stacked:Boolean,sticky:Boolean,text:String,...oi(),...Ee(),...dn(),...Jt(),...Oo({mobile:null}),...on(),...qr(),...Ja(),...Mt(),...Ge(),...nt()},"VBanner"),LF=te()({name:"VBanner",props:MF(),setup(e,t){let{slots:n}=t;const{backgroundColorClasses:i,backgroundColorStyles:r}=wt(e,"bgColor"),{borderClasses:s}=_i(e),{densityClasses:o}=Kn(e),{displayClasses:a,mobile:l}=pi(e),{dimensionStyles:u}=Zt(e),{elevationClasses:c}=Cn(e),{locationStyles:d}=jo(e),{positionClasses:h}=Za(e),{roundedClasses:v}=qt(e),{themeClasses:g}=ft(e),p=ee(e,"color"),y=ee(e,"density");Ot({VBannerActions:{color:p,density:y}}),se(()=>{const w=!!(e.text||n.text),C=!!(e.avatar||e.icon),x=!!(C||n.prepend);return f(e.tag,{class:["v-banner",{"v-banner--stacked":e.stacked||l.value,"v-banner--sticky":e.sticky,[`v-banner--${e.lines}-line`]:!!e.lines},g.value,i.value,s.value,o.value,a.value,c.value,h.value,v.value,e.class],style:[r.value,u.value,d.value,e.style],role:"banner"},{default:()=>{var A;return[x&&f("div",{key:"prepend",class:"v-banner__prepend"},[n.prepend?f(ze,{key:"prepend-defaults",disabled:!C,defaults:{VAvatar:{color:p.value,density:y.value,icon:e.icon,image:e.avatar}}},n.prepend):f(mi,{key:"prepend-avatar",color:p.value,density:y.value,icon:e.icon,image:e.avatar},null)]),f("div",{class:"v-banner__content"},[w&&f(RT,{key:"text"},{default:()=>{var V;return[((V=n.text)==null?void 0:V.call(n))??e.text]}}),(A=n.default)==null?void 0:A.call(n)]),n.actions&&f(xT,{key:"actions"},n.actions)]}})})}}),FF=z({baseColor:String,bgColor:String,color:String,grow:Boolean,mode:{type:String,validator:e=>!e||["horizontal","shift"].includes(e)},height:{type:[Number,String],default:56},active:{type:Boolean,default:!0},...oi(),...Ee(),...dn(),...on(),...Mt(),...Mo({name:"bottom-navigation"}),...Ge({tag:"header"}),...$o({selectedClass:"v-btn--selected"}),...nt()},"VBottomNavigation"),BF=te()({name:"VBottomNavigation",props:FF(),emits:{"update:active":e=>!0,"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const{themeClasses:i}=$p(),{borderClasses:r}=_i(e),{backgroundColorClasses:s,backgroundColorStyles:o}=wt(ee(e,"bgColor")),{densityClasses:a}=Kn(e),{elevationClasses:l}=Cn(e),{roundedClasses:u}=qt(e),{ssrBootStyles:c}=Fo(),d=k(()=>Number(e.height)-(e.density==="comfortable"?8:0)-(e.density==="compact"?16:0)),h=Re(e,"active",e.active),{layoutItemStyles:v}=Lo({id:e.name,order:k(()=>parseInt(e.order,10)),position:k(()=>"bottom"),layoutSize:k(()=>h.value?d.value:0),elementSize:d,active:h,absolute:ee(e,"absolute")});return $s(e,qp),Ot({VBtn:{baseColor:ee(e,"baseColor"),color:ee(e,"color"),density:ee(e,"density"),stacked:k(()=>e.mode!=="horizontal"),variant:"text"}},{scoped:!0}),se(()=>f(e.tag,{class:["v-bottom-navigation",{"v-bottom-navigation--active":h.value,"v-bottom-navigation--grow":e.grow,"v-bottom-navigation--shift":e.mode==="shift"},i.value,s.value,r.value,a.value,l.value,u.value,e.class],style:[o.value,v.value,{height:Se(d.value)},c.value,e.style]},{default:()=>[n.default&&f("div",{class:"v-bottom-navigation__content"},[n.default()])]})),{}}}),VT=z({fullscreen:Boolean,retainFocus:{type:Boolean,default:!0},scrollable:Boolean,...uc({origin:"center center",scrollStrategy:"block",transition:{component:Gf},zIndex:2400})},"VDialog"),Rv=te()({name:"VDialog",props:VT(),emits:{"update:modelValue":e=>!0,afterEnter:()=>!0,afterLeave:()=>!0},setup(e,t){let{emit:n,slots:i}=t;const r=Re(e,"modelValue"),{scopeId:s}=zo(),o=j();function a(c){var v,g;const d=c.relatedTarget,h=c.target;if(d!==h&&((v=o.value)!=null&&v.contentEl)&&((g=o.value)!=null&&g.globalTop)&&![document,o.value.contentEl].includes(h)&&!o.value.contentEl.contains(h)){const p=Cu(o.value.contentEl);if(!p.length)return;const y=p[0],w=p[p.length-1];d===y?w.focus():y.focus()}}ht&&he(()=>r.value&&e.retainFocus,c=>{c?document.addEventListener("focusin",a):document.removeEventListener("focusin",a)},{immediate:!0});function l(){var c;n("afterEnter"),(c=o.value)!=null&&c.contentEl&&!o.value.contentEl.contains(document.activeElement)&&o.value.contentEl.focus({preventScroll:!0})}function u(){n("afterLeave")}return he(r,async c=>{var d;c||(await tt(),(d=o.value.activatorEl)==null||d.focus({preventScroll:!0}))}),se(()=>{const c=ar.filterProps(e),d=J({"aria-haspopup":"dialog"},e.activatorProps),h=J({tabindex:-1},e.contentProps);return f(ar,J({ref:o,class:["v-dialog",{"v-dialog--fullscreen":e.fullscreen,"v-dialog--scrollable":e.scrollable},e.class],style:e.style},c,{modelValue:r.value,"onUpdate:modelValue":v=>r.value=v,"aria-modal":"true",activatorProps:d,contentProps:h,role:"dialog",onAfterEnter:l,onAfterLeave:u},s),{activator:i.activator,default:function(){for(var v=arguments.length,g=new Array(v),p=0;p<v;p++)g[p]=arguments[p];return f(ze,{root:"VDialog"},{default:()=>{var y;return[(y=i.default)==null?void 0:y.call(i,...g)]}})}})}),bi({},o)}}),$F=z({inset:Boolean,...VT({transition:"bottom-sheet-transition"})},"VBottomSheet"),UF=te()({name:"VBottomSheet",props:$F(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const i=Re(e,"modelValue");return se(()=>{const r=Rv.filterProps(e);return f(Rv,J(r,{contentClass:["v-bottom-sheet__content",e.contentClass],modelValue:i.value,"onUpdate:modelValue":s=>i.value=s,class:["v-bottom-sheet",{"v-bottom-sheet--inset":e.inset},e.class],style:e.style}),n)}),{}}}),HF=z({divider:[Number,String],...Ee()},"VBreadcrumbsDivider"),DT=te()({name:"VBreadcrumbsDivider",props:HF(),setup(e,t){let{slots:n}=t;return se(()=>{var i;return f("li",{class:["v-breadcrumbs-divider",e.class],style:e.style},[((i=n==null?void 0:n.default)==null?void 0:i.call(n))??e.divider])}),{}}}),jF=z({active:Boolean,activeClass:String,activeColor:String,color:String,disabled:Boolean,title:String,...Ee(),...ac(),...Ge({tag:"li"})},"VBreadcrumbsItem"),NT=te()({name:"VBreadcrumbsItem",props:jF(),setup(e,t){let{slots:n,attrs:i}=t;const r=el(e,i),s=k(()=>{var u;return e.active||((u=r.isActive)==null?void 0:u.value)}),o=k(()=>s.value?e.activeColor:e.color),{textColorClasses:a,textColorStyles:l}=yn(o);return se(()=>f(e.tag,{class:["v-breadcrumbs-item",{"v-breadcrumbs-item--active":s.value,"v-breadcrumbs-item--disabled":e.disabled,[`${e.activeClass}`]:s.value&&e.activeClass},a.value,e.class],style:[l.value,e.style],"aria-current":s.value?"page":void 0},{default:()=>{var u,c;return[r.isLink.value?f("a",J({class:"v-breadcrumbs-item--link",onClick:r.navigate},r.linkProps),[((c=n.default)==null?void 0:c.call(n))??e.title]):((u=n.default)==null?void 0:u.call(n))??e.title]}})),{}}}),WF=z({activeClass:String,activeColor:String,bgColor:String,color:String,disabled:Boolean,divider:{type:String,default:"/"},icon:Be,items:{type:Array,default:()=>[]},...Ee(),...dn(),...Mt(),...Ge({tag:"ul"})},"VBreadcrumbs"),zF=te()({name:"VBreadcrumbs",props:WF(),setup(e,t){let{slots:n}=t;const{backgroundColorClasses:i,backgroundColorStyles:r}=wt(ee(e,"bgColor")),{densityClasses:s}=Kn(e),{roundedClasses:o}=qt(e);Ot({VBreadcrumbsDivider:{divider:ee(e,"divider")},VBreadcrumbsItem:{activeClass:ee(e,"activeClass"),activeColor:ee(e,"activeColor"),color:ee(e,"color"),disabled:ee(e,"disabled")}});const a=k(()=>e.items.map(l=>typeof l=="string"?{item:{title:l},raw:l}:{item:l,raw:l}));return se(()=>{const l=!!(n.prepend||e.icon);return f(e.tag,{class:["v-breadcrumbs",i.value,s.value,o.value,e.class],style:[r.value,e.style]},{default:()=>{var u;return[l&&f("li",{key:"prepend",class:"v-breadcrumbs__prepend"},[n.prepend?f(ze,{key:"prepend-defaults",disabled:!e.icon,defaults:{VIcon:{icon:e.icon,start:!0}}},n.prepend):f(st,{key:"prepend-icon",start:!0,icon:e.icon},null)]),a.value.map((c,d,h)=>{var p;let{item:v,raw:g}=c;return f(be,null,[((p=n.item)==null?void 0:p.call(n,{item:v,index:d}))??f(NT,J({key:d,disabled:d>=h.length-1},typeof v=="string"?{title:v}:v),{default:n.title?()=>{var y;return(y=n.title)==null?void 0:y.call(n,{item:v,index:d})}:void 0}),d<h.length-1&&f(DT,null,{default:n.divider?()=>{var y;return(y=n.divider)==null?void 0:y.call(n,{item:g,index:d})}:void 0})])}),(u=n.default)==null?void 0:u.call(n)]}})}),{}}}),OT=te()({name:"VCardActions",props:Ee(),setup(e,t){let{slots:n}=t;return Ot({VBtn:{slim:!0,variant:"text"}}),se(()=>{var i;return f("div",{class:["v-card-actions",e.class],style:e.style},[(i=n.default)==null?void 0:i.call(n)])}),{}}}),qF=z({opacity:[Number,String],...Ee(),...Ge()},"VCardSubtitle"),MT=te()({name:"VCardSubtitle",props:qF(),setup(e,t){let{slots:n}=t;return se(()=>f(e.tag,{class:["v-card-subtitle",e.class],style:[{"--v-card-subtitle-opacity":e.opacity},e.style]},n)),{}}}),LT=mr("v-card-title"),GF=z({appendAvatar:String,appendIcon:Be,prependAvatar:String,prependIcon:Be,subtitle:[String,Number],title:[String,Number],...Ee(),...dn()},"VCardItem"),FT=te()({name:"VCardItem",props:GF(),setup(e,t){let{slots:n}=t;return se(()=>{var u;const i=!!(e.prependAvatar||e.prependIcon),r=!!(i||n.prepend),s=!!(e.appendAvatar||e.appendIcon),o=!!(s||n.append),a=!!(e.title!=null||n.title),l=!!(e.subtitle!=null||n.subtitle);return f("div",{class:["v-card-item",e.class],style:e.style},[r&&f("div",{key:"prepend",class:"v-card-item__prepend"},[n.prepend?f(ze,{key:"prepend-defaults",disabled:!i,defaults:{VAvatar:{density:e.density,image:e.prependAvatar},VIcon:{density:e.density,icon:e.prependIcon}}},n.prepend):f(be,null,[e.prependAvatar&&f(mi,{key:"prepend-avatar",density:e.density,image:e.prependAvatar},null),e.prependIcon&&f(st,{key:"prepend-icon",density:e.density,icon:e.prependIcon},null)])]),f("div",{class:"v-card-item__content"},[a&&f(LT,{key:"title"},{default:()=>{var c;return[((c=n.title)==null?void 0:c.call(n))??e.title]}}),l&&f(MT,{key:"subtitle"},{default:()=>{var c;return[((c=n.subtitle)==null?void 0:c.call(n))??e.subtitle]}}),(u=n.default)==null?void 0:u.call(n)]),o&&f("div",{key:"append",class:"v-card-item__append"},[n.append?f(ze,{key:"append-defaults",disabled:!s,defaults:{VAvatar:{density:e.density,image:e.appendAvatar},VIcon:{density:e.density,icon:e.appendIcon}}},n.append):f(be,null,[e.appendIcon&&f(st,{key:"append-icon",density:e.density,icon:e.appendIcon},null),e.appendAvatar&&f(mi,{key:"append-avatar",density:e.density,image:e.appendAvatar},null)])])])}),{}}}),KF=z({opacity:[Number,String],...Ee(),...Ge()},"VCardText"),BT=te()({name:"VCardText",props:KF(),setup(e,t){let{slots:n}=t;return se(()=>f(e.tag,{class:["v-card-text",e.class],style:[{"--v-card-text-opacity":e.opacity},e.style]},n)),{}}}),YF=z({appendAvatar:String,appendIcon:Be,disabled:Boolean,flat:Boolean,hover:Boolean,image:String,link:{type:Boolean,default:void 0},prependAvatar:String,prependIcon:Be,ripple:{type:[Boolean,Object],default:!0},subtitle:[String,Number],text:[String,Number],title:[String,Number],...oi(),...Ee(),...dn(),...Jt(),...on(),...Xf(),...qr(),...Ja(),...Mt(),...ac(),...Ge(),...nt(),...Pi({variant:"elevated"})},"VCard"),QF=te()({name:"VCard",directives:{Ripple:Gr},props:YF(),setup(e,t){let{attrs:n,slots:i}=t;const{themeClasses:r}=ft(e),{borderClasses:s}=_i(e),{colorClasses:o,colorStyles:a,variantClasses:l}=Bo(e),{densityClasses:u}=Kn(e),{dimensionStyles:c}=Zt(e),{elevationClasses:d}=Cn(e),{loaderClasses:h}=sc(e),{locationStyles:v}=jo(e),{positionClasses:g}=Za(e),{roundedClasses:p}=qt(e),y=el(e,n),w=k(()=>e.link!==!1&&y.isLink.value),C=k(()=>!e.disabled&&e.link!==!1&&(e.link||y.isClickable.value));return se(()=>{const x=w.value?"a":e.tag,A=!!(i.title||e.title!=null),V=!!(i.subtitle||e.subtitle!=null),N=A||V,T=!!(i.append||e.appendAvatar||e.appendIcon),b=!!(i.prepend||e.prependAvatar||e.prependIcon),_=!!(i.image||e.image),E=N||b||T,P=!!(i.text||e.text!=null);return Ht(f(x,J({class:["v-card",{"v-card--disabled":e.disabled,"v-card--flat":e.flat,"v-card--hover":e.hover&&!(e.disabled||e.flat),"v-card--link":C.value},r.value,s.value,o.value,u.value,d.value,h.value,g.value,p.value,l.value,e.class],style:[a.value,c.value,v.value,e.style],onClick:C.value&&y.navigate,tabindex:e.disabled?-1:void 0},y.linkProps),{default:()=>{var I;return[_&&f("div",{key:"image",class:"v-card__image"},[i.image?f(ze,{key:"image-defaults",disabled:!e.image,defaults:{VImg:{cover:!0,src:e.image}}},i.image):f(Fr,{key:"image-img",cover:!0,src:e.image},null)]),f(oc,{name:"v-card",active:!!e.loading,color:typeof e.loading=="boolean"?void 0:e.loading},{default:i.loader}),E&&f(FT,{key:"item",prependAvatar:e.prependAvatar,prependIcon:e.prependIcon,title:e.title,subtitle:e.subtitle,appendAvatar:e.appendAvatar,appendIcon:e.appendIcon},{default:i.item,prepend:i.prepend,title:i.title,subtitle:i.subtitle,append:i.append}),P&&f(BT,{key:"text"},{default:()=>{var R;return[((R=i.text)==null?void 0:R.call(i))??e.text]}}),(I=i.default)==null?void 0:I.call(i),i.actions&&f(OT,null,{default:i.actions}),Bs(C.value,"v-card")]}}),[[vi("ripple"),C.value&&e.ripple]])}),{}}}),XF=e=>{const{touchstartX:t,touchendX:n,touchstartY:i,touchendY:r}=e,s=.5,o=16;e.offsetX=n-t,e.offsetY=r-i,Math.abs(e.offsetY)<s*Math.abs(e.offsetX)&&(e.left&&n<t-o&&e.left(e),e.right&&n>t+o&&e.right(e)),Math.abs(e.offsetX)<s*Math.abs(e.offsetY)&&(e.up&&r<i-o&&e.up(e),e.down&&r>i+o&&e.down(e))};function JF(e,t){var i;const n=e.changedTouches[0];t.touchstartX=n.clientX,t.touchstartY=n.clientY,(i=t.start)==null||i.call(t,{originalEvent:e,...t})}function ZF(e,t){var i;const n=e.changedTouches[0];t.touchendX=n.clientX,t.touchendY=n.clientY,(i=t.end)==null||i.call(t,{originalEvent:e,...t}),XF(t)}function eB(e,t){var i;const n=e.changedTouches[0];t.touchmoveX=n.clientX,t.touchmoveY=n.clientY,(i=t.move)==null||i.call(t,{originalEvent:e,...t})}function tB(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const t={touchstartX:0,touchstartY:0,touchendX:0,touchendY:0,touchmoveX:0,touchmoveY:0,offsetX:0,offsetY:0,left:e.left,right:e.right,up:e.up,down:e.down,start:e.start,move:e.move,end:e.end};return{touchstart:n=>JF(n,t),touchend:n=>ZF(n,t),touchmove:n=>eB(n,t)}}function nB(e,t){var a;const n=t.value,i=n!=null&&n.parent?e.parentElement:e,r=(n==null?void 0:n.options)??{passive:!0},s=(a=t.instance)==null?void 0:a.$.uid;if(!i||!s)return;const o=tB(t.value);i._touchHandlers=i._touchHandlers??Object.create(null),i._touchHandlers[s]=o,$k(o).forEach(l=>{i.addEventListener(l,o[l],r)})}function iB(e,t){var s,o;const n=(s=t.value)!=null&&s.parent?e.parentElement:e,i=(o=t.instance)==null?void 0:o.$.uid;if(!(n!=null&&n._touchHandlers)||!i)return;const r=n._touchHandlers[i];$k(r).forEach(a=>{n.removeEventListener(a,r[a])}),delete n._touchHandlers[i]}const oy={mounted:nB,unmounted:iB},$T=Symbol.for("vuetify:v-window"),UT=Symbol.for("vuetify:v-window-group"),nh=z({continuous:Boolean,nextIcon:{type:[Boolean,String,Function,Object],default:"$next"},prevIcon:{type:[Boolean,String,Function,Object],default:"$prev"},reverse:Boolean,showArrows:{type:[Boolean,String],validator:e=>typeof e=="boolean"||e==="hover"},touch:{type:[Object,Boolean],default:void 0},direction:{type:String,default:"horizontal"},modelValue:null,disabled:Boolean,selectedClass:{type:String,default:"v-window-item--active"},mandatory:{type:[Boolean,String],default:"force"},...Ee(),...Ge(),...nt()},"VWindow"),_o=te()({name:"VWindow",directives:{Touch:oy},props:nh(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const{themeClasses:i}=ft(e),{isRtl:r}=sn(),{t:s}=At(),o=$s(e,UT),a=j(),l=k(()=>r.value?!e.reverse:e.reverse),u=ye(!1),c=k(()=>{const A=e.direction==="vertical"?"y":"x",N=(l.value?!u.value:u.value)?"-reverse":"";return`v-window-${A}${N}-transition`}),d=ye(0),h=j(void 0),v=k(()=>o.items.value.findIndex(A=>o.selected.value.includes(A.id)));he(v,(A,V)=>{const N=o.items.value.length,T=N-1;N<=2?u.value=A<V:A===T&&V===0?u.value=!0:A===0&&V===T?u.value=!1:u.value=A<V}),bt($T,{transition:c,isReversed:u,transitionCount:d,transitionHeight:h,rootRef:a});const g=k(()=>e.continuous||v.value!==0),p=k(()=>e.continuous||v.value!==o.items.value.length-1);function y(){g.value&&o.prev()}function w(){p.value&&o.next()}const C=k(()=>{const A=[],V={icon:r.value?e.nextIcon:e.prevIcon,class:`v-window__${l.value?"right":"left"}`,onClick:o.prev,"aria-label":s("$vuetify.carousel.prev")};A.push(g.value?n.prev?n.prev({props:V}):f(Ke,V,null):f("div",null,null));const N={icon:r.value?e.prevIcon:e.nextIcon,class:`v-window__${l.value?"left":"right"}`,onClick:o.next,"aria-label":s("$vuetify.carousel.next")};return A.push(p.value?n.next?n.next({props:N}):f(Ke,N,null):f("div",null,null)),A}),x=k(()=>e.touch===!1?e.touch:{...{left:()=>{l.value?y():w()},right:()=>{l.value?w():y()},start:V=>{let{originalEvent:N}=V;N.stopPropagation()}},...e.touch===!0?{}:e.touch});return se(()=>Ht(f(e.tag,{ref:a,class:["v-window",{"v-window--show-arrows-on-hover":e.showArrows==="hover"},i.value,e.class],style:e.style},{default:()=>{var A,V;return[f("div",{class:"v-window__container",style:{height:h.value}},[(A=n.default)==null?void 0:A.call(n,{group:o}),e.showArrows!==!1&&f("div",{class:"v-window__controls"},[C.value])]),(V=n.additional)==null?void 0:V.call(n,{group:o})]}}),[[vi("touch"),x.value]])),{group:o}}}),rB=z({color:String,cycle:Boolean,delimiterIcon:{type:Be,default:"$delimiter"},height:{type:[Number,String],default:500},hideDelimiters:Boolean,hideDelimiterBackground:Boolean,interval:{type:[Number,String],default:6e3,validator:e=>Number(e)>0},progress:[Boolean,String],verticalDelimiters:[Boolean,String],...nh({continuous:!0,mandatory:"force",showArrows:!0})},"VCarousel"),sB=te()({name:"VCarousel",props:rB(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const i=Re(e,"modelValue"),{t:r}=At(),s=j();let o=-1;he(i,l),he(()=>e.interval,l),he(()=>e.cycle,u=>{u?l():window.clearTimeout(o)}),dt(a);function a(){!e.cycle||!s.value||(o=window.setTimeout(s.value.group.next,+e.interval>0?+e.interval:6e3))}function l(){window.clearTimeout(o),window.requestAnimationFrame(a)}return se(()=>{const u=_o.filterProps(e);return f(_o,J({ref:s},u,{modelValue:i.value,"onUpdate:modelValue":c=>i.value=c,class:["v-carousel",{"v-carousel--hide-delimiter-background":e.hideDelimiterBackground,"v-carousel--vertical-delimiters":e.verticalDelimiters},e.class],style:[{height:Se(e.height)},e.style]}),{default:n.default,additional:c=>{let{group:d}=c;return f(be,null,[!e.hideDelimiters&&f("div",{class:"v-carousel__controls",style:{left:e.verticalDelimiters==="left"&&e.verticalDelimiters?0:"auto",right:e.verticalDelimiters==="right"?0:"auto"}},[d.items.value.length>0&&f(ze,{defaults:{VBtn:{color:e.color,icon:e.delimiterIcon,size:"x-small",variant:"text"}},scoped:!0},{default:()=>[d.items.value.map((h,v)=>{const g={id:`carousel-item-${h.id}`,"aria-label":r("$vuetify.carousel.ariaLabel.delimiter",v+1,d.items.value.length),class:["v-carousel__controls__item",d.isSelected(h.id)&&"v-btn--active"],onClick:()=>d.select(h.id,!0)};return n.item?n.item({props:g,item:h}):f(Ke,J(h,g),null)})]})]),e.progress&&f(Qf,{class:"v-carousel__progress",color:typeof e.progress=="string"?e.progress:void 0,modelValue:(d.getItemIndex(i.value)+1)/d.items.value.length*100},null)])},prev:n.prev,next:n.next})}),{}}}),ih=z({reverseTransition:{type:[Boolean,String],default:void 0},transition:{type:[Boolean,String],default:void 0},...Ee(),...Uo(),...ey()},"VWindowItem"),bo=te()({name:"VWindowItem",directives:{Touch:oy},props:ih(),emits:{"group:selected":e=>!0},setup(e,t){let{slots:n}=t;const i=He($T),r=Ho(e,UT),{isBooted:s}=Fo();if(!i||!r)throw new Error("[Vuetify] VWindowItem must be used inside VWindow");const o=ye(!1),a=k(()=>s.value&&(i.isReversed.value?e.reverseTransition!==!1:e.transition!==!1));function l(){!o.value||!i||(o.value=!1,i.transitionCount.value>0&&(i.transitionCount.value-=1,i.transitionCount.value===0&&(i.transitionHeight.value=void 0)))}function u(){var g;o.value||!i||(o.value=!0,i.transitionCount.value===0&&(i.transitionHeight.value=Se((g=i.rootRef.value)==null?void 0:g.clientHeight)),i.transitionCount.value+=1)}function c(){l()}function d(g){o.value&&tt(()=>{!a.value||!o.value||!i||(i.transitionHeight.value=Se(g.clientHeight))})}const h=k(()=>{const g=i.isReversed.value?e.reverseTransition:e.transition;return a.value?{name:typeof g!="string"?i.transition.value:g,onBeforeEnter:u,onAfterEnter:l,onEnterCancelled:c,onBeforeLeave:u,onAfterLeave:l,onLeaveCancelled:c,onEnter:d}:!1}),{hasContent:v}=ty(e,r.isSelected);return se(()=>f(jn,{transition:h.value,disabled:!s.value},{default:()=>{var g;return[Ht(f("div",{class:["v-window-item",r.selectedClass.value,e.class],style:e.style},[v.value&&((g=n.default)==null?void 0:g.call(n))]),[[Gi,r.isSelected.value]])]}})),{groupItem:r}}}),oB=z({...TE(),...ih()},"VCarouselItem"),aB=te()({name:"VCarouselItem",inheritAttrs:!1,props:oB(),setup(e,t){let{slots:n,attrs:i}=t;se(()=>{const r=Fr.filterProps(e),s=bo.filterProps(e);return f(bo,J({class:["v-carousel-item",e.class]},s),{default:()=>[f(Fr,J(i,r),n)]})})}}),lB=mr("v-code"),uB=z({color:{type:Object},disabled:Boolean,dotSize:{type:[Number,String],default:10},height:{type:[Number,String],default:150},width:{type:[Number,String],default:300},...Ee()},"VColorPickerCanvas"),cB=gi({name:"VColorPickerCanvas",props:uB(),emits:{"update:color":e=>!0,"update:position":e=>!0},setup(e,t){let{emit:n}=t;const i=ye(!1),r=j(),s=ye(parseFloat(e.width)),o=ye(parseFloat(e.height)),a=j({x:0,y:0}),l=k({get:()=>a.value,set(y){var x,A;if(!r.value)return;const{x:w,y:C}=y;a.value=y,n("update:color",{h:((x=e.color)==null?void 0:x.h)??0,s:Ut(w,0,s.value)/s.value,v:1-Ut(C,0,o.value)/o.value,a:((A=e.color)==null?void 0:A.a)??1})}}),u=k(()=>{const{x:y,y:w}=l.value,C=parseInt(e.dotSize,10)/2;return{width:Se(e.dotSize),height:Se(e.dotSize),transform:`translate(${Se(y-C)}, ${Se(w-C)})`}}),{resizeRef:c}=Bi(y=>{var x;if(!((x=c.el)!=null&&x.offsetParent))return;const{width:w,height:C}=y[0].contentRect;s.value=w,o.value=C});function d(y,w,C){const{left:x,top:A,width:V,height:N}=C;l.value={x:Ut(y-x,0,V),y:Ut(w-A,0,N)}}function h(y){y.type==="mousedown"&&y.preventDefault(),!e.disabled&&(v(y),window.addEventListener("mousemove",v),window.addEventListener("mouseup",g),window.addEventListener("touchmove",v),window.addEventListener("touchend",g))}function v(y){if(e.disabled||!r.value)return;i.value=!0;const w=RO(y);d(w.clientX,w.clientY,r.value.getBoundingClientRect())}function g(){window.removeEventListener("mousemove",v),window.removeEventListener("mouseup",g),window.removeEventListener("touchmove",v),window.removeEventListener("touchend",g)}function p(){var A;if(!r.value)return;const y=r.value,w=y.getContext("2d");if(!w)return;const C=w.createLinearGradient(0,0,y.width,0);C.addColorStop(0,"hsla(0, 0%, 100%, 1)"),C.addColorStop(1,`hsla(${((A=e.color)==null?void 0:A.h)??0}, 100%, 50%, 1)`),w.fillStyle=C,w.fillRect(0,0,y.width,y.height);const x=w.createLinearGradient(0,0,0,y.height);x.addColorStop(0,"hsla(0, 0%, 0%, 0)"),x.addColorStop(1,"hsla(0, 0%, 0%, 1)"),w.fillStyle=x,w.fillRect(0,0,y.width,y.height)}return he(()=>{var y;return(y=e.color)==null?void 0:y.h},p,{immediate:!0}),he(()=>[s.value,o.value],(y,w)=>{p(),a.value={x:l.value.x*y[0]/w[0],y:l.value.y*y[1]/w[1]}},{flush:"post"}),he(()=>e.color,()=>{if(i.value){i.value=!1;return}a.value=e.color?{x:e.color.s*s.value,y:(1-e.color.v)*o.value}:{x:0,y:0}},{deep:!0,immediate:!0}),dt(()=>p()),se(()=>f("div",{ref:c,class:["v-color-picker-canvas",e.class],style:e.style,onMousedown:h,onTouchstartPassive:h},[f("canvas",{ref:r,width:s.value,height:o.value},null),e.color&&f("div",{class:["v-color-picker-canvas__dot",{"v-color-picker-canvas__dot--disabled":e.disabled}],style:u.value},null)])),{}}});function dB(e,t){if(t){const{a:n,...i}=e;return i}return e}function fB(e,t){if(t==null||typeof t=="string"){const n=iE(e);return e.a===1?n.slice(0,7):n}if(typeof t=="object"){let n;return to(t,["r","g","b"])?n=Lr(e):to(t,["h","s","l"])?n=Xk(e):to(t,["h","s","v"])&&(n=e),dB(n,!to(t,["a"])&&e.a===1)}return e}const ya={h:0,s:0,v:0,a:1},Vv={inputProps:{type:"number",min:0},inputs:[{label:"R",max:255,step:1,getValue:e=>Math.round(e.r),getColor:(e,t)=>({...e,r:Number(t)})},{label:"G",max:255,step:1,getValue:e=>Math.round(e.g),getColor:(e,t)=>({...e,g:Number(t)})},{label:"B",max:255,step:1,getValue:e=>Math.round(e.b),getColor:(e,t)=>({...e,b:Number(t)})},{label:"A",max:1,step:.01,getValue:e=>{let{a:t}=e;return t!=null?Math.round(t*100)/100:1},getColor:(e,t)=>({...e,a:Number(t)})}],to:Lr,from:jf};var aI;const hB={...Vv,inputs:(aI=Vv.inputs)==null?void 0:aI.slice(0,3)},Dv={inputProps:{type:"number",min:0},inputs:[{label:"H",max:360,step:1,getValue:e=>Math.round(e.h),getColor:(e,t)=>({...e,h:Number(t)})},{label:"S",max:1,step:.01,getValue:e=>Math.round(e.s*100)/100,getColor:(e,t)=>({...e,s:Number(t)})},{label:"L",max:1,step:.01,getValue:e=>Math.round(e.l*100)/100,getColor:(e,t)=>({...e,l:Number(t)})},{label:"A",max:1,step:.01,getValue:e=>{let{a:t}=e;return t!=null?Math.round(t*100)/100:1},getColor:(e,t)=>({...e,a:Number(t)})}],to:Xk,from:Dp},mB={...Dv,inputs:Dv.inputs.slice(0,3)},HT={inputProps:{type:"text"},inputs:[{label:"HEXA",getValue:e=>e,getColor:(e,t)=>t}],to:iE,from:nE},vB={...HT,inputs:[{label:"HEX",getValue:e=>e.slice(0,7),getColor:(e,t)=>t}]},fo={rgb:hB,rgba:Vv,hsl:mB,hsla:Dv,hex:vB,hexa:HT},gB=e=>{let{label:t,...n}=e;return f("div",{class:"v-color-picker-edit__input"},[f("input",n,null),f("span",null,[t])])},pB=z({color:Object,disabled:Boolean,mode:{type:String,default:"rgba",validator:e=>Object.keys(fo).includes(e)},modes:{type:Array,default:()=>Object.keys(fo),validator:e=>Array.isArray(e)&&e.every(t=>Object.keys(fo).includes(t))},...Ee()},"VColorPickerEdit"),yB=gi({name:"VColorPickerEdit",props:pB(),emits:{"update:color":e=>!0,"update:mode":e=>!0},setup(e,t){let{emit:n}=t;const i=k(()=>e.modes.map(s=>({...fo[s],name:s}))),r=k(()=>{var a;const s=i.value.find(l=>l.name===e.mode);if(!s)return[];const o=e.color?s.to(e.color):null;return(a=s.inputs)==null?void 0:a.map(l=>{let{getValue:u,getColor:c,...d}=l;return{...s.inputProps,...d,disabled:e.disabled,value:o&&u(o),onChange:h=>{const v=h.target;v&&n("update:color",s.from(c(o??s.to(ya),v.value)))}}})});return se(()=>{var s;return f("div",{class:["v-color-picker-edit",e.class],style:e.style},[(s=r.value)==null?void 0:s.map(o=>f(gB,o,null)),i.value.length>1&&f(Ke,{icon:"$unfold",size:"x-small",variant:"plain",onClick:()=>{const o=i.value.findIndex(a=>a.name===e.mode);n("update:mode",i.value[(o+1)%i.value.length].name)}},null)])}),{}}}),ay=Symbol.for("vuetify:v-slider");function Nv(e,t,n){const i=n==="vertical",r=t.getBoundingClientRect(),s="touches"in e?e.touches[0]:e;return i?s.clientY-(r.top+r.height/2):s.clientX-(r.left+r.width/2)}function _B(e,t){return"touches"in e&&e.touches.length?e.touches[0][t]:"changedTouches"in e&&e.changedTouches.length?e.changedTouches[0][t]:e[t]}const jT=z({disabled:{type:Boolean,default:null},error:Boolean,readonly:{type:Boolean,default:null},max:{type:[Number,String],default:100},min:{type:[Number,String],default:0},step:{type:[Number,String],default:0},thumbColor:String,thumbLabel:{type:[Boolean,String],default:void 0,validator:e=>typeof e=="boolean"||e==="always"},thumbSize:{type:[Number,String],default:20},showTicks:{type:[Boolean,String],default:!1,validator:e=>typeof e=="boolean"||e==="always"},ticks:{type:[Array,Object]},tickSize:{type:[Number,String],default:2},color:String,trackColor:String,trackFillColor:String,trackSize:{type:[Number,String],default:4},direction:{type:String,default:"horizontal",validator:e=>["vertical","horizontal"].includes(e)},reverse:Boolean,...Mt(),...on({elevation:2}),ripple:{type:Boolean,default:!0}},"Slider"),WT=e=>{const t=k(()=>parseFloat(e.min)),n=k(()=>parseFloat(e.max)),i=k(()=>+e.step>0?parseFloat(e.step):0),r=k(()=>Math.max(Ld(i.value),Ld(t.value)));function s(o){if(o=parseFloat(o),i.value<=0)return o;const a=Ut(o,t.value,n.value),l=t.value%i.value,u=Math.round((a-l)/i.value)*i.value+l;return parseFloat(Math.min(u,n.value).toFixed(r.value))}return{min:t,max:n,step:i,decimals:r,roundValue:s}},zT=e=>{let{props:t,steps:n,onSliderStart:i,onSliderMove:r,onSliderEnd:s,getActiveThumb:o}=e;const{isRtl:a}=sn(),l=ee(t,"reverse"),u=k(()=>t.direction==="vertical"),c=k(()=>u.value!==l.value),{min:d,max:h,step:v,decimals:g,roundValue:p}=n,y=k(()=>parseInt(t.thumbSize,10)),w=k(()=>parseInt(t.tickSize,10)),C=k(()=>parseInt(t.trackSize,10)),x=k(()=>(h.value-d.value)/v.value),A=ee(t,"disabled"),V=k(()=>t.error||t.disabled?void 0:t.thumbColor??t.color),N=k(()=>t.error||t.disabled?void 0:t.trackColor??t.color),T=k(()=>t.error||t.disabled?void 0:t.trackFillColor??t.color),b=ye(!1),_=ye(0),E=j(),P=j();function I(oe){var G;const Q=t.direction==="vertical",le=Q?"top":"left",pe=Q?"height":"width",fe=Q?"clientY":"clientX",{[le]:ce,[pe]:Te}=(G=E.value)==null?void 0:G.$el.getBoundingClientRect(),O=_B(oe,fe);let M=Math.min(Math.max((O-ce-_.value)/Te,0),1)||0;return(Q?c.value:c.value!==a.value)&&(M=1-M),p(d.value+M*(h.value-d.value))}const R=oe=>{s({value:I(oe)}),b.value=!1,_.value=0},H=oe=>{P.value=o(oe),P.value&&(P.value.focus(),b.value=!0,P.value.contains(oe.target)?_.value=Nv(oe,P.value,t.direction):(_.value=0,r({value:I(oe)})),i({value:I(oe)}))},q={passive:!0,capture:!0};function W(oe){r({value:I(oe)})}function X(oe){oe.stopPropagation(),oe.preventDefault(),R(oe),window.removeEventListener("mousemove",W,q),window.removeEventListener("mouseup",X)}function U(oe){var Q;R(oe),window.removeEventListener("touchmove",W,q),(Q=oe.target)==null||Q.removeEventListener("touchend",U)}function B(oe){var Q;H(oe),window.addEventListener("touchmove",W,q),(Q=oe.target)==null||Q.addEventListener("touchend",U,{passive:!1})}function $(oe){oe.preventDefault(),H(oe),window.addEventListener("mousemove",W,q),window.addEventListener("mouseup",X,{passive:!1})}const Y=oe=>{const Q=(oe-d.value)/(h.value-d.value)*100;return Ut(isNaN(Q)?0:Q,0,100)},re=ee(t,"showTicks"),de=k(()=>re.value?t.ticks?Array.isArray(t.ticks)?t.ticks.map(oe=>({value:oe,position:Y(oe),label:oe.toString()})):Object.keys(t.ticks).map(oe=>({value:parseFloat(oe),position:Y(parseFloat(oe)),label:t.ticks[oe]})):x.value!==1/0?ci(x.value+1).map(oe=>{const Q=d.value+oe*v.value;return{value:Q,position:Y(Q)}}):[]:[]),we=k(()=>de.value.some(oe=>{let{label:Q}=oe;return!!Q})),Ie={activeThumbRef:P,color:ee(t,"color"),decimals:g,disabled:A,direction:ee(t,"direction"),elevation:ee(t,"elevation"),hasLabels:we,isReversed:l,indexFromEnd:c,min:d,max:h,mousePressed:b,numTicks:x,onSliderMousedown:$,onSliderTouchstart:B,parsedTicks:de,parseMouseMove:I,position:Y,readonly:ee(t,"readonly"),rounded:ee(t,"rounded"),roundValue:p,showTicks:re,startOffset:_,step:v,thumbSize:y,thumbColor:V,thumbLabel:ee(t,"thumbLabel"),ticks:ee(t,"ticks"),tickSize:w,trackColor:N,trackContainerRef:E,trackFillColor:T,trackSize:C,vertical:u};return bt(ay,Ie),Ie},bB=z({focused:Boolean,max:{type:Number,required:!0},min:{type:Number,required:!0},modelValue:{type:Number,required:!0},position:{type:Number,required:!0},ripple:{type:[Boolean,Object],default:!0},name:String,...Ee()},"VSliderThumb"),Ov=te()({name:"VSliderThumb",directives:{Ripple:Gr},props:bB(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n,emit:i}=t;const r=He(ay),{isRtl:s,rtlClasses:o}=sn();if(!r)throw new Error("[Vuetify] v-slider-thumb must be used inside v-slider or v-range-slider");const{thumbColor:a,step:l,disabled:u,thumbSize:c,thumbLabel:d,direction:h,isReversed:v,vertical:g,readonly:p,elevation:y,mousePressed:w,decimals:C,indexFromEnd:x}=r,A=k(()=>u.value?void 0:y.value),{elevationClasses:V}=Cn(A),{textColorClasses:N,textColorStyles:T}=yn(a),{pageup:b,pagedown:_,end:E,home:P,left:I,right:R,down:H,up:q}=fv,W=[b,_,E,P,I,R,H,q],X=k(()=>l.value?[1,2,3]:[1,5,10]);function U($,Y){if(!W.includes($.key))return;$.preventDefault();const re=l.value||.1,de=(e.max-e.min)/re;if([I,R,H,q].includes($.key)){const Ie=(g.value?[s.value?I:R,v.value?H:q]:x.value!==s.value?[I,q]:[R,q]).includes($.key)?1:-1,oe=$.shiftKey?2:$.ctrlKey?1:0;Y=Y+Ie*re*X.value[oe]}else if($.key===P)Y=e.min;else if($.key===E)Y=e.max;else{const we=$.key===_?1:-1;Y=Y-we*re*(de>100?de/10:10)}return Math.max(e.min,Math.min(e.max,Y))}function B($){const Y=U($,e.modelValue);Y!=null&&i("update:modelValue",Y)}return se(()=>{const $=Se(x.value?100-e.position:e.position,"%");return f("div",{class:["v-slider-thumb",{"v-slider-thumb--focused":e.focused,"v-slider-thumb--pressed":e.focused&&w.value},e.class,o.value],style:[{"--v-slider-thumb-position":$,"--v-slider-thumb-size":Se(c.value)},e.style],role:"slider",tabindex:u.value?-1:0,"aria-label":e.name,"aria-valuemin":e.min,"aria-valuemax":e.max,"aria-valuenow":e.modelValue,"aria-readonly":!!p.value,"aria-orientation":h.value,onKeydown:p.value?void 0:B},[f("div",{class:["v-slider-thumb__surface",N.value,V.value],style:{...T.value}},null),Ht(f("div",{class:["v-slider-thumb__ripple",N.value],style:T.value},null),[[vi("ripple"),e.ripple,null,{circle:!0,center:!0}]]),f(Hp,{origin:"bottom center"},{default:()=>{var Y;return[Ht(f("div",{class:"v-slider-thumb__label-container"},[f("div",{class:["v-slider-thumb__label"]},[f("div",null,[((Y=n["thumb-label"])==null?void 0:Y.call(n,{modelValue:e.modelValue}))??e.modelValue.toFixed(l.value?C.value:1)])])]),[[Gi,d.value&&e.focused||d.value==="always"]])]}})])}),{}}}),wB=z({start:{type:Number,required:!0},stop:{type:Number,required:!0},...Ee()},"VSliderTrack"),qT=te()({name:"VSliderTrack",props:wB(),emits:{},setup(e,t){let{slots:n}=t;const i=He(ay);if(!i)throw new Error("[Vuetify] v-slider-track must be inside v-slider or v-range-slider");const{color:r,parsedTicks:s,rounded:o,showTicks:a,tickSize:l,trackColor:u,trackFillColor:c,trackSize:d,vertical:h,min:v,max:g,indexFromEnd:p}=i,{roundedClasses:y}=qt(o),{backgroundColorClasses:w,backgroundColorStyles:C}=wt(c),{backgroundColorClasses:x,backgroundColorStyles:A}=wt(u),V=k(()=>`inset-${h.value?"block":"inline"}-${p.value?"end":"start"}`),N=k(()=>h.value?"height":"width"),T=k(()=>({[V.value]:"0%",[N.value]:"100%"})),b=k(()=>e.stop-e.start),_=k(()=>({[V.value]:Se(e.start,"%"),[N.value]:Se(b.value,"%")})),E=k(()=>a.value?(h.value?s.value.slice().reverse():s.value).map((I,R)=>{var q;const H=I.value!==v.value&&I.value!==g.value?Se(I.position,"%"):void 0;return f("div",{key:I.value,class:["v-slider-track__tick",{"v-slider-track__tick--filled":I.position>=e.start&&I.position<=e.stop,"v-slider-track__tick--first":I.value===v.value,"v-slider-track__tick--last":I.value===g.value}],style:{[V.value]:H}},[(I.label||n["tick-label"])&&f("div",{class:"v-slider-track__tick-label"},[((q=n["tick-label"])==null?void 0:q.call(n,{tick:I,index:R}))??I.label])])}):[]);return se(()=>f("div",{class:["v-slider-track",y.value,e.class],style:[{"--v-slider-track-size":Se(d.value),"--v-slider-tick-size":Se(l.value)},e.style]},[f("div",{class:["v-slider-track__background",x.value,{"v-slider-track__background--opacity":!!r.value||!c.value}],style:{...T.value,...A.value}},null),f("div",{class:["v-slider-track__fill",w.value],style:{..._.value,...C.value}},null),a.value&&f("div",{class:["v-slider-track__ticks",{"v-slider-track__ticks--always-show":a.value==="always"}]},[E.value])])),{}}}),SB=z({...nl(),...jT(),...Kr(),modelValue:{type:[Number,String],default:0}},"VSlider"),Mv=te()({name:"VSlider",props:SB(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,start:e=>!0,end:e=>!0},setup(e,t){let{slots:n,emit:i}=t;const r=j(),{rtlClasses:s}=sn(),o=WT(e),a=Re(e,"modelValue",void 0,N=>o.roundValue(N??o.min.value)),{min:l,max:u,mousePressed:c,roundValue:d,onSliderMousedown:h,onSliderTouchstart:v,trackContainerRef:g,position:p,hasLabels:y,readonly:w}=zT({props:e,steps:o,onSliderStart:()=>{i("start",a.value)},onSliderEnd:N=>{let{value:T}=N;const b=d(T);a.value=b,i("end",b)},onSliderMove:N=>{let{value:T}=N;return a.value=d(T)},getActiveThumb:()=>{var N;return(N=r.value)==null?void 0:N.$el}}),{isFocused:C,focus:x,blur:A}=gr(e),V=k(()=>p(a.value));return se(()=>{const N=Pn.filterProps(e),T=!!(e.label||n.label||n.prepend);return f(Pn,J({class:["v-slider",{"v-slider--has-labels":!!n["tick-label"]||y.value,"v-slider--focused":C.value,"v-slider--pressed":c.value,"v-slider--disabled":e.disabled},s.value,e.class],style:e.style},N,{focused:C.value}),{...n,prepend:T?b=>{var _,E;return f(be,null,[((_=n.label)==null?void 0:_.call(n,b))??(e.label?f(tl,{id:b.id.value,class:"v-slider__label",text:e.label},null):void 0),(E=n.prepend)==null?void 0:E.call(n,b)])}:void 0,default:b=>{let{id:_,messagesId:E}=b;return f("div",{class:"v-slider__container",onMousedown:w.value?void 0:h,onTouchstartPassive:w.value?void 0:v},[f("input",{id:_.value,name:e.name||_.value,disabled:!!e.disabled,readonly:!!e.readonly,tabindex:"-1",value:a.value},null),f(qT,{ref:g,start:0,stop:V.value},{"tick-label":n["tick-label"]}),f(Ov,{ref:r,"aria-describedby":E.value,focused:C.value,min:l.value,max:u.value,modelValue:a.value,"onUpdate:modelValue":P=>a.value=P,position:V.value,elevation:e.elevation,onFocus:x,onBlur:A,ripple:e.ripple,name:e.name},{"thumb-label":n["thumb-label"]})])}})}),{}}}),CB=z({color:{type:Object},disabled:Boolean,hideAlpha:Boolean,...Ee()},"VColorPickerPreview"),IB=gi({name:"VColorPickerPreview",props:CB(),emits:{"update:color":e=>!0},setup(e,t){let{emit:n}=t;const i=new AbortController;No(()=>i.abort());async function r(){if(!Dw)return;const s=new window.EyeDropper;try{const o=await s.open({signal:i.signal}),a=nE(o.sRGBHex);n("update:color",{...e.color??ya,...a})}catch{}}return se(()=>{var s,o;return f("div",{class:["v-color-picker-preview",{"v-color-picker-preview--hide-alpha":e.hideAlpha},e.class],style:e.style},[Dw&&f("div",{class:"v-color-picker-preview__eye-dropper",key:"eyeDropper"},[f(Ke,{onClick:r,icon:"$eyeDropper",variant:"plain",density:"comfortable"},null)]),f("div",{class:"v-color-picker-preview__dot"},[f("div",{style:{background:Zk(e.color??ya)}},null)]),f("div",{class:"v-color-picker-preview__sliders"},[f(Mv,{class:"v-color-picker-preview__track v-color-picker-preview__hue",modelValue:(s=e.color)==null?void 0:s.h,"onUpdate:modelValue":a=>n("update:color",{...e.color??ya,h:a}),step:0,min:0,max:360,disabled:e.disabled,thumbSize:14,trackSize:8,trackFillColor:"white",hideDetails:!0},null),!e.hideAlpha&&f(Mv,{class:"v-color-picker-preview__track v-color-picker-preview__alpha",modelValue:((o=e.color)==null?void 0:o.a)??1,"onUpdate:modelValue":a=>n("update:color",{...e.color??ya,a}),step:1/256,min:0,max:1,disabled:e.disabled,thumbSize:14,trackSize:8,trackFillColor:"white",hideDetails:!0},null)])])}),{}}}),kB={base:"#f44336",lighten5:"#ffebee",lighten4:"#ffcdd2",lighten3:"#ef9a9a",lighten2:"#e57373",lighten1:"#ef5350",darken1:"#e53935",darken2:"#d32f2f",darken3:"#c62828",darken4:"#b71c1c",accent1:"#ff8a80",accent2:"#ff5252",accent3:"#ff1744",accent4:"#d50000"},EB={base:"#e91e63",lighten5:"#fce4ec",lighten4:"#f8bbd0",lighten3:"#f48fb1",lighten2:"#f06292",lighten1:"#ec407a",darken1:"#d81b60",darken2:"#c2185b",darken3:"#ad1457",darken4:"#880e4f",accent1:"#ff80ab",accent2:"#ff4081",accent3:"#f50057",accent4:"#c51162"},TB={base:"#9c27b0",lighten5:"#f3e5f5",lighten4:"#e1bee7",lighten3:"#ce93d8",lighten2:"#ba68c8",lighten1:"#ab47bc",darken1:"#8e24aa",darken2:"#7b1fa2",darken3:"#6a1b9a",darken4:"#4a148c",accent1:"#ea80fc",accent2:"#e040fb",accent3:"#d500f9",accent4:"#aa00ff"},AB={base:"#673ab7",lighten5:"#ede7f6",lighten4:"#d1c4e9",lighten3:"#b39ddb",lighten2:"#9575cd",lighten1:"#7e57c2",darken1:"#5e35b1",darken2:"#512da8",darken3:"#4527a0",darken4:"#311b92",accent1:"#b388ff",accent2:"#7c4dff",accent3:"#651fff",accent4:"#6200ea"},PB={base:"#3f51b5",lighten5:"#e8eaf6",lighten4:"#c5cae9",lighten3:"#9fa8da",lighten2:"#7986cb",lighten1:"#5c6bc0",darken1:"#3949ab",darken2:"#303f9f",darken3:"#283593",darken4:"#1a237e",accent1:"#8c9eff",accent2:"#536dfe",accent3:"#3d5afe",accent4:"#304ffe"},xB={base:"#2196f3",lighten5:"#e3f2fd",lighten4:"#bbdefb",lighten3:"#90caf9",lighten2:"#64b5f6",lighten1:"#42a5f5",darken1:"#1e88e5",darken2:"#1976d2",darken3:"#1565c0",darken4:"#0d47a1",accent1:"#82b1ff",accent2:"#448aff",accent3:"#2979ff",accent4:"#2962ff"},RB={base:"#03a9f4",lighten5:"#e1f5fe",lighten4:"#b3e5fc",lighten3:"#81d4fa",lighten2:"#4fc3f7",lighten1:"#29b6f6",darken1:"#039be5",darken2:"#0288d1",darken3:"#0277bd",darken4:"#01579b",accent1:"#80d8ff",accent2:"#40c4ff",accent3:"#00b0ff",accent4:"#0091ea"},VB={base:"#00bcd4",lighten5:"#e0f7fa",lighten4:"#b2ebf2",lighten3:"#80deea",lighten2:"#4dd0e1",lighten1:"#26c6da",darken1:"#00acc1",darken2:"#0097a7",darken3:"#00838f",darken4:"#006064",accent1:"#84ffff",accent2:"#18ffff",accent3:"#00e5ff",accent4:"#00b8d4"},DB={base:"#009688",lighten5:"#e0f2f1",lighten4:"#b2dfdb",lighten3:"#80cbc4",lighten2:"#4db6ac",lighten1:"#26a69a",darken1:"#00897b",darken2:"#00796b",darken3:"#00695c",darken4:"#004d40",accent1:"#a7ffeb",accent2:"#64ffda",accent3:"#1de9b6",accent4:"#00bfa5"},NB={base:"#4caf50",lighten5:"#e8f5e9",lighten4:"#c8e6c9",lighten3:"#a5d6a7",lighten2:"#81c784",lighten1:"#66bb6a",darken1:"#43a047",darken2:"#388e3c",darken3:"#2e7d32",darken4:"#1b5e20",accent1:"#b9f6ca",accent2:"#69f0ae",accent3:"#00e676",accent4:"#00c853"},OB={base:"#8bc34a",lighten5:"#f1f8e9",lighten4:"#dcedc8",lighten3:"#c5e1a5",lighten2:"#aed581",lighten1:"#9ccc65",darken1:"#7cb342",darken2:"#689f38",darken3:"#558b2f",darken4:"#33691e",accent1:"#ccff90",accent2:"#b2ff59",accent3:"#76ff03",accent4:"#64dd17"},MB={base:"#cddc39",lighten5:"#f9fbe7",lighten4:"#f0f4c3",lighten3:"#e6ee9c",lighten2:"#dce775",lighten1:"#d4e157",darken1:"#c0ca33",darken2:"#afb42b",darken3:"#9e9d24",darken4:"#827717",accent1:"#f4ff81",accent2:"#eeff41",accent3:"#c6ff00",accent4:"#aeea00"},LB={base:"#ffeb3b",lighten5:"#fffde7",lighten4:"#fff9c4",lighten3:"#fff59d",lighten2:"#fff176",lighten1:"#ffee58",darken1:"#fdd835",darken2:"#fbc02d",darken3:"#f9a825",darken4:"#f57f17",accent1:"#ffff8d",accent2:"#ffff00",accent3:"#ffea00",accent4:"#ffd600"},FB={base:"#ffc107",lighten5:"#fff8e1",lighten4:"#ffecb3",lighten3:"#ffe082",lighten2:"#ffd54f",lighten1:"#ffca28",darken1:"#ffb300",darken2:"#ffa000",darken3:"#ff8f00",darken4:"#ff6f00",accent1:"#ffe57f",accent2:"#ffd740",accent3:"#ffc400",accent4:"#ffab00"},BB={base:"#ff9800",lighten5:"#fff3e0",lighten4:"#ffe0b2",lighten3:"#ffcc80",lighten2:"#ffb74d",lighten1:"#ffa726",darken1:"#fb8c00",darken2:"#f57c00",darken3:"#ef6c00",darken4:"#e65100",accent1:"#ffd180",accent2:"#ffab40",accent3:"#ff9100",accent4:"#ff6d00"},$B={base:"#ff5722",lighten5:"#fbe9e7",lighten4:"#ffccbc",lighten3:"#ffab91",lighten2:"#ff8a65",lighten1:"#ff7043",darken1:"#f4511e",darken2:"#e64a19",darken3:"#d84315",darken4:"#bf360c",accent1:"#ff9e80",accent2:"#ff6e40",accent3:"#ff3d00",accent4:"#dd2c00"},UB={base:"#795548",lighten5:"#efebe9",lighten4:"#d7ccc8",lighten3:"#bcaaa4",lighten2:"#a1887f",lighten1:"#8d6e63",darken1:"#6d4c41",darken2:"#5d4037",darken3:"#4e342e",darken4:"#3e2723"},HB={base:"#607d8b",lighten5:"#eceff1",lighten4:"#cfd8dc",lighten3:"#b0bec5",lighten2:"#90a4ae",lighten1:"#78909c",darken1:"#546e7a",darken2:"#455a64",darken3:"#37474f",darken4:"#263238"},jB={base:"#9e9e9e",lighten5:"#fafafa",lighten4:"#f5f5f5",lighten3:"#eeeeee",lighten2:"#e0e0e0",lighten1:"#bdbdbd",darken1:"#757575",darken2:"#616161",darken3:"#424242",darken4:"#212121"},WB={black:"#000000",white:"#ffffff",transparent:"#ffffff00"},zB={red:kB,pink:EB,purple:TB,deepPurple:AB,indigo:PB,blue:xB,lightBlue:RB,cyan:VB,teal:DB,green:NB,lightGreen:OB,lime:MB,yellow:LB,amber:FB,orange:BB,deepOrange:$B,brown:UB,blueGrey:HB,grey:jB,shades:WB},qB=z({swatches:{type:Array,default:()=>GB(zB)},disabled:Boolean,color:Object,maxHeight:[Number,String],...Ee()},"VColorPickerSwatches");function GB(e){return Object.keys(e).map(t=>{const n=e[t];return n.base?[n.base,n.darken4,n.darken3,n.darken2,n.darken1,n.lighten1,n.lighten2,n.lighten3,n.lighten4,n.lighten5]:[n.black,n.white,n.transparent]})}const KB=gi({name:"VColorPickerSwatches",props:qB(),emits:{"update:color":e=>!0},setup(e,t){let{emit:n}=t;return se(()=>f("div",{class:["v-color-picker-swatches",e.class],style:[{maxHeight:Se(e.maxHeight)},e.style]},[f("div",null,[e.swatches.map(i=>f("div",{class:"v-color-picker-swatches__swatch"},[i.map(r=>{const s=Ii(r),o=jf(s),a=Jk(s);return f("div",{class:"v-color-picker-swatches__color",onClick:()=>o&&n("update:color",o)},[f("div",{style:{background:a}},[e.color&&fr(e.color,o)?f(st,{size:"x-small",icon:"$success",color:nM(r,"#FFFFFF")>2?"white":"black"},null):void 0])])})]))])])),{}}}),rh=z({color:String,...oi(),...Ee(),...Jt(),...on(),...qr(),...Ja(),...Mt(),...Ge(),...nt()},"VSheet"),As=te()({name:"VSheet",props:rh(),setup(e,t){let{slots:n}=t;const{themeClasses:i}=ft(e),{backgroundColorClasses:r,backgroundColorStyles:s}=wt(ee(e,"color")),{borderClasses:o}=_i(e),{dimensionStyles:a}=Zt(e),{elevationClasses:l}=Cn(e),{locationStyles:u}=jo(e),{positionClasses:c}=Za(e),{roundedClasses:d}=qt(e);return se(()=>f(e.tag,{class:["v-sheet",i.value,r.value,o.value,l.value,c.value,d.value,e.class],style:[s.value,a.value,u.value,e.style]},n)),{}}}),YB=z({canvasHeight:{type:[String,Number],default:150},disabled:Boolean,dotSize:{type:[Number,String],default:10},hideCanvas:Boolean,hideSliders:Boolean,hideInputs:Boolean,mode:{type:String,default:"rgba",validator:e=>Object.keys(fo).includes(e)},modes:{type:Array,default:()=>Object.keys(fo),validator:e=>Array.isArray(e)&&e.every(t=>Object.keys(fo).includes(t))},showSwatches:Boolean,swatches:Array,swatchesMaxHeight:{type:[Number,String],default:150},modelValue:{type:[Object,String]},...pt(rh({width:300}),["height","location","minHeight","maxHeight","minWidth","maxWidth"])},"VColorPicker"),QB=gi({name:"VColorPicker",props:YB(),emits:{"update:modelValue":e=>!0,"update:mode":e=>!0},setup(e){const t=Re(e,"mode"),n=j(null),i=Re(e,"modelValue",void 0,l=>{if(l==null||l==="")return null;let u;try{u=jf(Ii(l))}catch{return null}return u},l=>l?fB(l,e.modelValue):null),r=k(()=>i.value?{...i.value,h:n.value??i.value.h}:null),{rtlClasses:s}=sn();let o=!0;he(i,l=>{if(!o){o=!0;return}l&&(n.value=l.h)},{immediate:!0});const a=l=>{o=!1,n.value=l.h,i.value=l};return dt(()=>{e.modes.includes(t.value)||(t.value=e.modes[0])}),Ot({VSlider:{color:void 0,trackColor:void 0,trackFillColor:void 0}}),se(()=>{const l=As.filterProps(e);return f(As,J({rounded:e.rounded,elevation:e.elevation,theme:e.theme,class:["v-color-picker",s.value,e.class],style:[{"--v-color-picker-color-hsv":Zk({...r.value??ya,a:1})},e.style]},l,{maxWidth:e.width}),{default:()=>[!e.hideCanvas&&f(cB,{key:"canvas",color:r.value,"onUpdate:color":a,disabled:e.disabled,dotSize:e.dotSize,width:e.width,height:e.canvasHeight},null),(!e.hideSliders||!e.hideInputs)&&f("div",{key:"controls",class:"v-color-picker__controls"},[!e.hideSliders&&f(IB,{key:"preview",color:r.value,"onUpdate:color":a,hideAlpha:!t.value.endsWith("a"),disabled:e.disabled},null),!e.hideInputs&&f(yB,{key:"edit",modes:e.modes,mode:t.value,"onUpdate:mode":u=>t.value=u,color:r.value,"onUpdate:color":a,disabled:e.disabled},null)]),e.showSwatches&&f(KB,{key:"swatches",color:r.value,"onUpdate:color":a,maxHeight:e.swatchesMaxHeight,swatches:e.swatches,disabled:e.disabled},null)]})}),{}}});function XB(e,t,n){if(t==null)return e;if(Array.isArray(t))throw new Error("Multiple matches is not implemented");return typeof t=="number"&&~t?f(be,null,[f("span",{class:"v-combobox__unmask"},[e.substr(0,t)]),f("span",{class:"v-combobox__mask"},[e.substr(t,n)]),f("span",{class:"v-combobox__unmask"},[e.substr(t+n)])]):e}const JB=z({autoSelectFirst:{type:[Boolean,String]},clearOnSelect:{type:Boolean,default:!0},delimiters:Array,...sl({filterKeys:["title"]}),...ry({hideNoData:!0,returnObject:!0}),...pt(rl({modelValue:null,role:"combobox"}),["validationValue","dirty","appendInnerIcon"]),...Ki({transition:!1})},"VCombobox"),ZB=te()({name:"VCombobox",props:JB(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,"update:search":e=>!0,"update:menu":e=>!0},setup(e,t){var Te;let{emit:n,slots:i}=t;const{t:r}=At(),s=j(),o=ye(!1),a=ye(!0),l=ye(!1),u=j(),c=j(),d=Re(e,"menu"),h=k({get:()=>d.value,set:O=>{var M;d.value&&!O&&((M=u.value)!=null&&M.openChildren.size)||(d.value=O)}}),v=ye(-1);let g=!1;const p=k(()=>{var O;return(O=s.value)==null?void 0:O.color}),y=k(()=>h.value?e.closeText:e.openText),{items:w,transformIn:C,transformOut:x}=Xp(e),{textColorClasses:A,textColorStyles:V}=yn(p),N=Re(e,"modelValue",[],O=>C(Dt(O)),O=>{const M=x(O);return e.multiple?M:M[0]??null}),T=lc(),b=k(()=>!!(e.chips||i.chip)),_=k(()=>b.value||!!i.selection),E=ye(!e.multiple&&!_.value?((Te=N.value[0])==null?void 0:Te.title)??"":""),P=k({get:()=>E.value,set:O=>{var M;if(E.value=O??"",!e.multiple&&!_.value&&(N.value=[cs(e,O)]),O&&e.multiple&&((M=e.delimiters)!=null&&M.length)){const G=O.split(new RegExp(`(?:${e.delimiters.join("|")})+`));G.length>1&&(G.forEach(ie=>{ie=ie.trim(),ie&&le(cs(e,ie))}),E.value="")}O||(v.value=-1),a.value=!O}}),I=k(()=>typeof e.counterValue=="function"?e.counterValue(N.value):typeof e.counterValue=="number"?e.counterValue:e.multiple?N.value.length:P.value.length);he(E,O=>{g?tt(()=>g=!1):o.value&&!h.value&&(h.value=!0),n("update:search",O)}),he(N,O=>{var M;!e.multiple&&!_.value&&(E.value=((M=O[0])==null?void 0:M.title)??"")});const{filteredItems:R,getMatches:H}=ol(e,w,()=>a.value?"":P.value),q=k(()=>e.hideSelected?R.value.filter(O=>!N.value.some(M=>M.value===O.value)):R.value),W=k(()=>N.value.map(O=>O.value)),X=k(()=>{var M;return(e.autoSelectFirst===!0||e.autoSelectFirst==="exact"&&P.value===((M=q.value[0])==null?void 0:M.title))&&q.value.length>0&&!a.value&&!l.value}),U=k(()=>e.hideNoData&&!q.value.length||e.readonly||(T==null?void 0:T.isReadonly.value)),B=j(),$=iy(B,s);function Y(O){g=!0,e.openOnClear&&(h.value=!0)}function re(){U.value||(h.value=!0)}function de(O){U.value||(o.value&&(O.preventDefault(),O.stopPropagation()),h.value=!h.value)}function we(O){var M;$d(O)&&((M=s.value)==null||M.focus())}function Ie(O){var ie;if(EO(O)||e.readonly||T!=null&&T.isReadonly.value)return;const M=s.value.selectionStart,G=N.value.length;if((v.value>-1||["Enter","ArrowDown","ArrowUp"].includes(O.key))&&O.preventDefault(),["Enter","ArrowDown"].includes(O.key)&&(h.value=!0),["Escape"].includes(O.key)&&(h.value=!1),["Enter","Escape","Tab"].includes(O.key)&&(X.value&&["Enter","Tab"].includes(O.key)&&!N.value.some(K=>{let{value:ue}=K;return ue===q.value[0].value})&&le(R.value[0]),a.value=!0),O.key==="ArrowDown"&&X.value&&((ie=B.value)==null||ie.focus("next")),O.key==="Enter"&&P.value&&(le(cs(e,P.value)),_.value&&(E.value="")),["Backspace","Delete"].includes(O.key)){if(!e.multiple&&_.value&&N.value.length>0&&!P.value)return le(N.value[0],!1);if(~v.value){const K=v.value;le(N.value[v.value],!1),v.value=K>=G-1?G-2:K}else O.key==="Backspace"&&!P.value&&(v.value=G-1)}if(e.multiple){if(O.key==="ArrowLeft"){if(v.value<0&&M>0)return;const K=v.value>-1?v.value-1:G-1;N.value[K]?v.value=K:(v.value=-1,s.value.setSelectionRange(P.value.length,P.value.length))}if(O.key==="ArrowRight"){if(v.value<0)return;const K=v.value+1;N.value[K]?v.value=K:(v.value=-1,s.value.setSelectionRange(0,0))}}}function oe(){var O;e.eager&&((O=c.value)==null||O.calculateVisibleItems())}function Q(){var O;o.value&&(a.value=!0,(O=s.value)==null||O.focus())}function le(O){let M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!(!O||O.props.disabled))if(e.multiple){const G=N.value.findIndex(K=>e.valueComparator(K.value,O.value)),ie=M??!~G;if(~G){const K=ie?[...N.value,O]:[...N.value];K.splice(G,1),N.value=K}else ie&&(N.value=[...N.value,O]);e.clearOnSelect&&(P.value="")}else{const G=M!==!1;N.value=G?[O]:[],E.value=G&&!_.value?O.title:"",tt(()=>{h.value=!1,a.value=!0})}}function pe(O){o.value=!0,setTimeout(()=>{l.value=!0})}function fe(O){l.value=!1}function ce(O){(O==null||O===""&&!e.multiple&&!_.value)&&(N.value=[])}return he(o,(O,M)=>{if(!(O||O===M)&&(v.value=-1,h.value=!1,P.value)){if(e.multiple){le(cs(e,P.value));return}if(!_.value)return;N.value.some(G=>{let{title:ie}=G;return ie===P.value})?E.value="":le(cs(e,P.value))}}),he(h,()=>{if(!e.hideSelected&&h.value&&N.value.length){const O=q.value.findIndex(M=>N.value.some(G=>e.valueComparator(G.value,M.value)));ht&&window.requestAnimationFrame(()=>{var M;O>=0&&((M=c.value)==null||M.scrollToIndex(O))})}}),he(()=>e.items,(O,M)=>{h.value||o.value&&!M.length&&O.length&&(h.value=!0)}),se(()=>{const O=!!(!e.hideNoData||q.value.length||i["prepend-item"]||i["append-item"]||i["no-data"]),M=N.value.length>0,G=Ui.filterProps(e);return f(Ui,J({ref:s},G,{modelValue:P.value,"onUpdate:modelValue":[ie=>P.value=ie,ce],focused:o.value,"onUpdate:focused":ie=>o.value=ie,validationValue:N.externalValue,counterValue:I.value,dirty:M,class:["v-combobox",{"v-combobox--active-menu":h.value,"v-combobox--chips":!!e.chips,"v-combobox--selection-slot":!!_.value,"v-combobox--selecting-index":v.value>-1,[`v-combobox--${e.multiple?"multiple":"single"}`]:!0},e.class],style:e.style,readonly:e.readonly,placeholder:M?void 0:e.placeholder,"onClick:clear":Y,"onMousedown:control":re,onKeydown:Ie}),{...i,default:()=>f(be,null,[f(yo,J({ref:u,modelValue:h.value,"onUpdate:modelValue":ie=>h.value=ie,activator:"parent",contentClass:"v-combobox__content",disabled:U.value,eager:e.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:e.transition,onAfterEnter:oe,onAfterLeave:Q},e.menuProps),{default:()=>[O&&f(Ma,J({ref:B,selected:W.value,selectStrategy:e.multiple?"independent":"single-independent",onMousedown:ie=>ie.preventDefault(),onKeydown:we,onFocusin:pe,onFocusout:fe,tabindex:"-1","aria-live":"polite",color:e.itemColor??e.color},$,e.listProps),{default:()=>{var ie,K,ue;return[(ie=i["prepend-item"])==null?void 0:ie.call(i),!q.value.length&&!e.hideNoData&&(((K=i["no-data"])==null?void 0:K.call(i))??f($i,{title:r(e.noDataText)},null)),f(th,{ref:c,renderless:!0,items:q.value},{default:ke=>{var Ae;let{item:me,index:Ce,itemRef:ve}=ke;const Le=J(me.props,{ref:ve,key:Ce,active:X.value&&Ce===0?!0:void 0,onClick:()=>le(me,null)});return((Ae=i.item)==null?void 0:Ae.call(i,{item:me,index:Ce,props:Le}))??f($i,J(Le,{role:"option"}),{prepend:Oe=>{let{isSelected:De}=Oe;return f(be,null,[e.multiple&&!e.hideSelected?f(or,{key:me.value,modelValue:De,ripple:!1,tabindex:"-1"},null):void 0,me.props.prependAvatar&&f(mi,{image:me.props.prependAvatar},null),me.props.prependIcon&&f(st,{icon:me.props.prependIcon},null)])},title:()=>{var Oe,De;return a.value?me.title:XB(me.title,(Oe=H(me))==null?void 0:Oe.title,((De=P.value)==null?void 0:De.length)??0)}})}}),(ue=i["append-item"])==null?void 0:ue.call(i)]}})]}),N.value.map((ie,K)=>{function ue(ve){ve.stopPropagation(),ve.preventDefault(),le(ie,!1)}const ke={"onClick:close":ue,onKeydown(ve){ve.key!=="Enter"&&ve.key!==" "||(ve.preventDefault(),ve.stopPropagation(),ue(ve))},onMousedown(ve){ve.preventDefault(),ve.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0},me=b.value?!!i.chip:!!i.selection,Ce=me?Hf(b.value?i.chip({item:ie,index:K,props:ke}):i.selection({item:ie,index:K})):void 0;if(!(me&&!Ce))return f("div",{key:ie.value,class:["v-combobox__selection",K===v.value&&["v-combobox__selection--selected",A.value]],style:K===v.value?V.value:{}},[b.value?i.chip?f(ze,{key:"chip-defaults",defaults:{VChip:{closable:e.closableChips,size:"small",text:ie.title}}},{default:()=>[Ce]}):f(Wo,J({key:"chip",closable:e.closableChips,size:"small",text:ie.title,disabled:ie.props.disabled},ke),null):Ce??f("span",{class:"v-combobox__selection-text"},[ie.title,e.multiple&&K<N.value.length-1&&f("span",{class:"v-combobox__selection-comma"},[Ve(",")])])])})]),"append-inner":function(){var ke;for(var ie=arguments.length,K=new Array(ie),ue=0;ue<ie;ue++)K[ue]=arguments[ue];return f(be,null,[(ke=i["append-inner"])==null?void 0:ke.call(i,...K),(!e.hideNoData||e.items.length)&&e.menuIcon?f(st,{class:"v-combobox__menu-icon",icon:e.menuIcon,onMousedown:de,onClick:zk,"aria-label":r(y.value),title:r(y.value),tabindex:"-1"},null):void 0])}})}),bi({isFocused:o,isPristine:a,menu:h,search:P,selectionIndex:v,filteredItems:R,select:le},s)}}),GT=z({modelValue:null,color:String,cancelText:{type:String,default:"$vuetify.confirmEdit.cancel"},okText:{type:String,default:"$vuetify.confirmEdit.ok"}},"VConfirmEdit"),Lv=te()({name:"VConfirmEdit",props:GT(),emits:{cancel:()=>!0,save:e=>!0,"update:modelValue":e=>!0},setup(e,t){let{emit:n,slots:i}=t;const r=Re(e,"modelValue"),s=j();Gt(()=>{s.value=structuredClone($e(r.value))});const{t:o}=At(),a=k(()=>fr(r.value,s.value));function l(){r.value=s.value,n("save",s.value)}function u(){s.value=structuredClone($e(r.value)),n("cancel")}let c=!1;return se(()=>{var h;const d=f(be,null,[f(Ke,{disabled:a.value,variant:"text",color:e.color,onClick:u,text:o(e.cancelText)},null),f(Ke,{disabled:a.value,variant:"text",color:e.color,onClick:l,text:o(e.okText)},null)]);return f(be,null,[(h=i.default)==null?void 0:h.call(i,{model:s,save:l,cancel:u,isPristine:a.value,get actions(){return c=!0,d}}),!c&&d])}),{save:l,cancel:u,isPristine:a}}}),KT=z({expandOnClick:Boolean,showExpand:Boolean,expanded:{type:Array,default:()=>[]}},"DataTable-expand"),YT=Symbol.for("vuetify:datatable:expanded");function sh(e){const t=ee(e,"expandOnClick"),n=Re(e,"expanded",e.expanded,a=>new Set(a),a=>[...a.values()]);function i(a,l){const u=new Set(n.value);l?u.add(a.value):u.delete(a.value),n.value=u}function r(a){return n.value.has(a.value)}function s(a){i(a,!r(a))}const o={expand:i,expanded:n,expandOnClick:t,isExpanded:r,toggleExpand:s};return bt(YT,o),o}function QT(){const e=He(YT);if(!e)throw new Error("foo");return e}const ly=z({groupBy:{type:Array,default:()=>[]}},"DataTable-group"),XT=Symbol.for("vuetify:data-table-group");function uy(e){return{groupBy:Re(e,"groupBy")}}function oh(e){const{disableSort:t,groupBy:n,sortBy:i}=e,r=j(new Set),s=k(()=>n.value.map(c=>({...c,order:c.order??!1})).concat(t!=null&&t.value?[]:i.value));function o(c){return r.value.has(c.id)}function a(c){const d=new Set(r.value);o(c)?d.delete(c.id):d.add(c.id),r.value=d}function l(c){function d(h){const v=[];for(const g of h.items)"type"in g&&g.type==="group"?v.push(...d(g)):v.push(g);return v}return d({type:"group",items:c,id:"dummy",key:"dummy",value:"dummy",depth:0})}const u={sortByWithGroups:s,toggleGroup:a,opened:r,groupBy:n,extractRows:l,isGroupOpen:o};return bt(XT,u),u}function JT(){const e=He(XT);if(!e)throw new Error("Missing group!");return e}function e$(e,t){if(!e.length)return[];const n=new Map;for(const i of e){const r=po(i.raw,t);n.has(r)||n.set(r,[]),n.get(r).push(i)}return n}function ZT(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"root";if(!t.length)return[];const r=e$(e,t[0]),s=[],o=t.slice(1);return r.forEach((a,l)=>{const u=t[0],c=`${i}_${u}_${l}`;s.push({depth:n,id:c,key:u,value:l,items:o.length?ZT(a,o,n+1,c):a,type:"group"})}),s}function eA(e,t){const n=[];for(const i of e)"type"in i&&i.type==="group"?(i.value!=null&&n.push(i),(t.has(i.id)||i.value==null)&&n.push(...eA(i.items,t))):n.push(i);return n}function ah(e,t,n){return{flatItems:k(()=>{if(!t.value.length)return e.value;const r=ZT(e.value,t.value.map(s=>s.key));return eA(r,n.value)})}}function lh(e){let{page:t,itemsPerPage:n,sortBy:i,groupBy:r,search:s}=e;const o=zt("VDataTable"),a=k(()=>({page:t.value,itemsPerPage:n.value,sortBy:i.value,groupBy:r.value,search:s.value}));let l=null;he(a,()=>{fr(l,a.value)||(l&&l.search!==a.value.search&&(t.value=1),o.emit("update:options",a.value),l=a.value)},{deep:!0,immediate:!0})}const cy=z({page:{type:[Number,String],default:1},itemsPerPage:{type:[Number,String],default:10}},"DataTable-paginate"),tA=Symbol.for("vuetify:data-table-pagination");function dy(e){const t=Re(e,"page",void 0,i=>+(i??1)),n=Re(e,"itemsPerPage",void 0,i=>+(i??10));return{page:t,itemsPerPage:n}}function fy(e){const{page:t,itemsPerPage:n,itemsLength:i}=e,r=k(()=>n.value===-1?0:n.value*(t.value-1)),s=k(()=>n.value===-1?i.value:Math.min(i.value,r.value+n.value)),o=k(()=>n.value===-1||i.value===0?1:Math.ceil(i.value/n.value));Gt(()=>{t.value>o.value&&(t.value=o.value)});function a(h){n.value=h,t.value=1}function l(){t.value=Ut(t.value+1,1,o.value)}function u(){t.value=Ut(t.value-1,1,o.value)}function c(h){t.value=Ut(h,1,o.value)}const d={page:t,itemsPerPage:n,startIndex:r,stopIndex:s,pageCount:o,itemsLength:i,nextPage:l,prevPage:u,setPage:c,setItemsPerPage:a};return bt(tA,d),d}function t$(){const e=He(tA);if(!e)throw new Error("Missing pagination!");return e}function nA(e){const t=zt("usePaginatedItems"),{items:n,startIndex:i,stopIndex:r,itemsPerPage:s}=e,o=k(()=>s.value<=0?n.value:n.value.slice(i.value,r.value));return he(o,a=>{t.emit("update:currentItems",a)}),{paginatedItems:o}}const n$={showSelectAll:!1,allSelected:()=>[],select:e=>{var i;let{items:t,value:n}=e;return new Set(n?[(i=t[0])==null?void 0:i.value]:[])},selectAll:e=>{let{selected:t}=e;return t}},iA={showSelectAll:!0,allSelected:e=>{let{currentPage:t}=e;return t},select:e=>{let{items:t,value:n,selected:i}=e;for(const r of t)n?i.add(r.value):i.delete(r.value);return i},selectAll:e=>{let{value:t,currentPage:n,selected:i}=e;return iA.select({items:n,value:t,selected:i})}},rA={showSelectAll:!0,allSelected:e=>{let{allItems:t}=e;return t},select:e=>{let{items:t,value:n,selected:i}=e;for(const r of t)n?i.add(r.value):i.delete(r.value);return i},selectAll:e=>{let{value:t,allItems:n,selected:i}=e;return rA.select({items:n,value:t,selected:i})}},sA=z({showSelect:Boolean,selectStrategy:{type:[String,Object],default:"page"},modelValue:{type:Array,default:()=>[]},valueComparator:{type:Function,default:fr}},"DataTable-select"),oA=Symbol.for("vuetify:data-table-selection");function uh(e,t){let{allItems:n,currentPage:i}=t;const r=Re(e,"modelValue",e.modelValue,w=>new Set(Dt(w).map(C=>{var x;return((x=n.value.find(A=>e.valueComparator(C,A.value)))==null?void 0:x.value)??C})),w=>[...w.values()]),s=k(()=>n.value.filter(w=>w.selectable)),o=k(()=>i.value.filter(w=>w.selectable)),a=k(()=>{if(typeof e.selectStrategy=="object")return e.selectStrategy;switch(e.selectStrategy){case"single":return n$;case"all":return rA;case"page":default:return iA}});function l(w){return Dt(w).every(C=>r.value.has(C.value))}function u(w){return Dt(w).some(C=>r.value.has(C.value))}function c(w,C){const x=a.value.select({items:w,value:C,selected:new Set(r.value)});r.value=x}function d(w){c([w],!l([w]))}function h(w){const C=a.value.selectAll({value:w,allItems:s.value,currentPage:o.value,selected:new Set(r.value)});r.value=C}const v=k(()=>r.value.size>0),g=k(()=>{const w=a.value.allSelected({allItems:s.value,currentPage:o.value});return!!w.length&&l(w)}),p=k(()=>a.value.showSelectAll),y={toggleSelect:d,select:c,selectAll:h,isSelected:l,isSomeSelected:u,someSelected:v,allSelected:g,showSelectAll:p};return bt(oA,y),y}function ch(){const e=He(oA);if(!e)throw new Error("Missing selection!");return e}const aA=z({sortBy:{type:Array,default:()=>[]},customKeySort:Object,multiSort:Boolean,mustSort:Boolean},"DataTable-sort"),lA=Symbol.for("vuetify:data-table-sort");function dh(e){const t=Re(e,"sortBy"),n=ee(e,"mustSort"),i=ee(e,"multiSort");return{sortBy:t,mustSort:n,multiSort:i}}function fh(e){const{sortBy:t,mustSort:n,multiSort:i,page:r}=e,s=l=>{if(l.key==null)return;let u=t.value.map(d=>({...d}))??[];const c=u.find(d=>d.key===l.key);c?c.order==="desc"?n.value?c.order="asc":u=u.filter(d=>d.key!==l.key):c.order="desc":i.value?u=[...u,{key:l.key,order:"asc"}]:u=[{key:l.key,order:"asc"}],t.value=u,r&&(r.value=1)};function o(l){return!!t.value.find(u=>u.key===l.key)}const a={sortBy:t,toggleSort:s,isSorted:o};return bt(lA,a),a}function uA(){const e=He(lA);if(!e)throw new Error("Missing sort!");return e}function hy(e,t,n,i){const r=At();return{sortedItems:k(()=>{var o,a;return n.value.length?i$(t.value,n.value,r.current.value,{transform:i==null?void 0:i.transform,sortFunctions:{...e.customKeySort,...(o=i==null?void 0:i.sortFunctions)==null?void 0:o.value},sortRawFunctions:(a=i==null?void 0:i.sortRawFunctions)==null?void 0:a.value}):t.value})}}function i$(e,t,n,i){const r=new Intl.Collator(n,{sensitivity:"accent",usage:"sort"});return e.map(o=>[o,i!=null&&i.transform?i.transform(o):o]).sort((o,a)=>{var l,u;for(let c=0;c<t.length;c++){let d=!1;const h=t[c].key,v=t[c].order??"asc";if(v===!1)continue;let g=po(o[1],h),p=po(a[1],h),y=o[0].raw,w=a[0].raw;if(v==="desc"&&([g,p]=[p,g],[y,w]=[w,y]),(l=i==null?void 0:i.sortRawFunctions)!=null&&l[h]){const C=i.sortRawFunctions[h](y,w);if(C==null)continue;if(d=!0,C)return C}if((u=i==null?void 0:i.sortFunctions)!=null&&u[h]){const C=i.sortFunctions[h](g,p);if(C==null)continue;if(d=!0,C)return C}if(!d){if(g instanceof Date&&p instanceof Date)return g.getTime()-p.getTime();if([g,p]=[g,p].map(C=>C!=null?C.toString().toLocaleLowerCase():C),g!==p)return Qc(g)&&Qc(p)?0:Qc(g)?-1:Qc(p)?1:!isNaN(g)&&!isNaN(p)?Number(g)-Number(p):r.compare(g,p)}}return 0}).map(o=>{let[a]=o;return a})}const r$=z({items:{type:Array,default:()=>[]},itemValue:{type:[String,Array,Function],default:"id"},itemSelectable:{type:[String,Array,Function],default:null},returnObject:Boolean},"DataIterator-items");function s$(e,t){const n=e.returnObject?t:Qt(t,e.itemValue),i=Qt(t,e.itemSelectable,!0);return{type:"item",value:n,selectable:i,raw:t}}function o$(e,t){const n=[];for(const i of t)n.push(s$(e,i));return n}function a$(e){return{items:k(()=>o$(e,e.items))}}const l$=z({search:String,loading:Boolean,...Ee(),...r$(),...sA(),...aA(),...cy({itemsPerPage:5}),...KT(),...ly(),...sl(),...Ge(),...Ki({transition:{component:Au,hideOnLeave:!0}})},"VDataIterator"),u$=te()({name:"VDataIterator",props:l$(),emits:{"update:modelValue":e=>!0,"update:groupBy":e=>!0,"update:page":e=>!0,"update:itemsPerPage":e=>!0,"update:sortBy":e=>!0,"update:options":e=>!0,"update:expanded":e=>!0,"update:currentItems":e=>!0},setup(e,t){let{slots:n}=t;const i=Re(e,"groupBy"),r=ee(e,"search"),{items:s}=a$(e),{filteredItems:o}=ol(e,s,r,{transform:Y=>Y.raw}),{sortBy:a,multiSort:l,mustSort:u}=dh(e),{page:c,itemsPerPage:d}=dy(e),{toggleSort:h}=fh({sortBy:a,multiSort:l,mustSort:u,page:c}),{sortByWithGroups:v,opened:g,extractRows:p,isGroupOpen:y,toggleGroup:w}=oh({groupBy:i,sortBy:a}),{sortedItems:C}=hy(e,o,v,{transform:Y=>Y.raw}),{flatItems:x}=ah(C,i,g),A=k(()=>x.value.length),{startIndex:V,stopIndex:N,pageCount:T,prevPage:b,nextPage:_,setItemsPerPage:E,setPage:P}=fy({page:c,itemsPerPage:d,itemsLength:A}),{paginatedItems:I}=nA({items:x,startIndex:V,stopIndex:N,itemsPerPage:d}),R=k(()=>p(I.value)),{isSelected:H,select:q,selectAll:W,toggleSelect:X}=uh(e,{allItems:s,currentPage:R}),{isExpanded:U,toggleExpand:B}=sh(e);lh({page:c,itemsPerPage:d,sortBy:a,groupBy:i,search:r});const $=k(()=>({page:c.value,itemsPerPage:d.value,sortBy:a.value,pageCount:T.value,toggleSort:h,prevPage:b,nextPage:_,setPage:P,setItemsPerPage:E,isSelected:H,select:q,selectAll:W,toggleSelect:X,isExpanded:U,toggleExpand:B,isGroupOpen:y,toggleGroup:w,items:R.value,groupedItems:I.value}));return se(()=>f(e.tag,{class:["v-data-iterator",{"v-data-iterator--loading":e.loading},e.class],style:e.style},{default:()=>{var Y,re;return[(Y=n.header)==null?void 0:Y.call(n,$.value),f(jn,{transition:e.transition},{default:()=>{var de,we;return[e.loading?f(oc,{key:"loader",name:"v-data-iterator",active:!0},{default:Ie=>{var oe;return(oe=n.loader)==null?void 0:oe.call(n,Ie)}}):f("div",{key:"items"},[I.value.length?(we=n.default)==null?void 0:we.call(n,$.value):(de=n["no-data"])==null?void 0:de.call(n)])]}}),(re=n.footer)==null?void 0:re.call(n,$.value)]}})),{}}});function c$(){const e=j([]);ZI(()=>e.value=[]);function t(n,i){e.value[i]=n}return{refs:e,updateRef:t}}const d$=z({activeColor:String,start:{type:[Number,String],default:1},modelValue:{type:Number,default:e=>e.start},disabled:Boolean,length:{type:[Number,String],default:1,validator:e=>e%1===0},totalVisible:[Number,String],firstIcon:{type:Be,default:"$first"},prevIcon:{type:Be,default:"$prev"},nextIcon:{type:Be,default:"$next"},lastIcon:{type:Be,default:"$last"},ariaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.root"},pageAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.page"},currentPageAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.currentPage"},firstAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.first"},previousAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.previous"},nextAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.next"},lastAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.last"},ellipsis:{type:String,default:"..."},showFirstLastPage:Boolean,...oi(),...Ee(),...dn(),...on(),...Mt(),...vr(),...Ge({tag:"nav"}),...nt(),...Pi({variant:"text"})},"VPagination"),Fv=te()({name:"VPagination",props:d$(),emits:{"update:modelValue":e=>!0,first:e=>!0,prev:e=>!0,next:e=>!0,last:e=>!0},setup(e,t){let{slots:n,emit:i}=t;const r=Re(e,"modelValue"),{t:s,n:o}=At(),{isRtl:a}=sn(),{themeClasses:l}=ft(e),{width:u}=pi(),c=ye(-1);Ot(void 0,{scoped:!0});const{resizeRef:d}=Bi(b=>{if(!b.length)return;const{target:_,contentRect:E}=b[0],P=_.querySelector(".v-pagination__list > *");if(!P)return;const I=E.width,R=P.offsetWidth+parseFloat(getComputedStyle(P).marginRight)*2;c.value=p(I,R)}),h=k(()=>parseInt(e.length,10)),v=k(()=>parseInt(e.start,10)),g=k(()=>e.totalVisible!=null?parseInt(e.totalVisible,10):c.value>=0?c.value:p(u.value,58));function p(b,_){const E=e.showFirstLastPage?5:3;return Math.max(0,Math.floor(+((b-_*E)/_).toFixed(2)))}const y=k(()=>{if(h.value<=0||isNaN(h.value)||h.value>Number.MAX_SAFE_INTEGER)return[];if(g.value<=0)return[];if(g.value===1)return[r.value];if(h.value<=g.value)return ci(h.value,v.value);const b=g.value%2===0,_=b?g.value/2:Math.floor(g.value/2),E=b?_:_+1,P=h.value-_;if(E-r.value>=0)return[...ci(Math.max(1,g.value-1),v.value),e.ellipsis,h.value];if(r.value-P>=(b?1:0)){const I=g.value-1,R=h.value-I+v.value;return[v.value,e.ellipsis,...ci(I,R)]}else{const I=Math.max(1,g.value-3),R=I===1?r.value:r.value-Math.ceil(I/2)+v.value;return[v.value,e.ellipsis,...ci(I,R),e.ellipsis,h.value]}});function w(b,_,E){b.preventDefault(),r.value=_,E&&i(E,_)}const{refs:C,updateRef:x}=c$();Ot({VPaginationBtn:{color:ee(e,"color"),border:ee(e,"border"),density:ee(e,"density"),size:ee(e,"size"),variant:ee(e,"variant"),rounded:ee(e,"rounded"),elevation:ee(e,"elevation")}});const A=k(()=>y.value.map((b,_)=>{const E=P=>x(P,_);if(typeof b=="string")return{isActive:!1,key:`ellipsis-${_}`,page:b,props:{ref:E,ellipsis:!0,icon:!0,disabled:!0}};{const P=b===r.value;return{isActive:P,key:b,page:o(b),props:{ref:E,ellipsis:!1,icon:!0,disabled:!!e.disabled||+e.length<2,color:P?e.activeColor:e.color,"aria-current":P,"aria-label":s(P?e.currentPageAriaLabel:e.pageAriaLabel,b),onClick:I=>w(I,b)}}}})),V=k(()=>{const b=!!e.disabled||r.value<=v.value,_=!!e.disabled||r.value>=v.value+h.value-1;return{first:e.showFirstLastPage?{icon:a.value?e.lastIcon:e.firstIcon,onClick:E=>w(E,v.value,"first"),disabled:b,"aria-label":s(e.firstAriaLabel),"aria-disabled":b}:void 0,prev:{icon:a.value?e.nextIcon:e.prevIcon,onClick:E=>w(E,r.value-1,"prev"),disabled:b,"aria-label":s(e.previousAriaLabel),"aria-disabled":b},next:{icon:a.value?e.prevIcon:e.nextIcon,onClick:E=>w(E,r.value+1,"next"),disabled:_,"aria-label":s(e.nextAriaLabel),"aria-disabled":_},last:e.showFirstLastPage?{icon:a.value?e.firstIcon:e.lastIcon,onClick:E=>w(E,v.value+h.value-1,"last"),disabled:_,"aria-label":s(e.lastAriaLabel),"aria-disabled":_}:void 0}});function N(){var _;const b=r.value-v.value;(_=C.value[b])==null||_.$el.focus()}function T(b){b.key===fv.left&&!e.disabled&&r.value>+e.start?(r.value=r.value-1,tt(N)):b.key===fv.right&&!e.disabled&&r.value<v.value+h.value-1&&(r.value=r.value+1,tt(N))}return se(()=>f(e.tag,{ref:d,class:["v-pagination",l.value,e.class],style:e.style,role:"navigation","aria-label":s(e.ariaLabel),onKeydown:T,"data-test":"v-pagination-root"},{default:()=>[f("ul",{class:"v-pagination__list"},[e.showFirstLastPage&&f("li",{key:"first",class:"v-pagination__first","data-test":"v-pagination-first"},[n.first?n.first(V.value.first):f(Ke,J({_as:"VPaginationBtn"},V.value.first),null)]),f("li",{key:"prev",class:"v-pagination__prev","data-test":"v-pagination-prev"},[n.prev?n.prev(V.value.prev):f(Ke,J({_as:"VPaginationBtn"},V.value.prev),null)]),A.value.map((b,_)=>f("li",{key:b.key,class:["v-pagination__item",{"v-pagination__item--is-active":b.isActive}],"data-test":"v-pagination-item"},[n.item?n.item(b):f(Ke,J({_as:"VPaginationBtn"},b.props),{default:()=>[b.page]})])),f("li",{key:"next",class:"v-pagination__next","data-test":"v-pagination-next"},[n.next?n.next(V.value.next):f(Ke,J({_as:"VPaginationBtn"},V.value.next),null)]),e.showFirstLastPage&&f("li",{key:"last",class:"v-pagination__last","data-test":"v-pagination-last"},[n.last?n.last(V.value.last):f(Ke,J({_as:"VPaginationBtn"},V.value.last),null)])])]})),{}}}),my=z({prevIcon:{type:Be,default:"$prev"},nextIcon:{type:Be,default:"$next"},firstIcon:{type:Be,default:"$first"},lastIcon:{type:Be,default:"$last"},itemsPerPageText:{type:String,default:"$vuetify.dataFooter.itemsPerPageText"},pageText:{type:String,default:"$vuetify.dataFooter.pageText"},firstPageLabel:{type:String,default:"$vuetify.dataFooter.firstPage"},prevPageLabel:{type:String,default:"$vuetify.dataFooter.prevPage"},nextPageLabel:{type:String,default:"$vuetify.dataFooter.nextPage"},lastPageLabel:{type:String,default:"$vuetify.dataFooter.lastPage"},itemsPerPageOptions:{type:Array,default:()=>[{value:10,title:"10"},{value:25,title:"25"},{value:50,title:"50"},{value:100,title:"100"},{value:-1,title:"$vuetify.dataFooter.itemsPerPageAll"}]},showCurrentPage:Boolean},"VDataTableFooter"),Ou=te()({name:"VDataTableFooter",props:my(),setup(e,t){let{slots:n}=t;const{t:i}=At(),{page:r,pageCount:s,startIndex:o,stopIndex:a,itemsLength:l,itemsPerPage:u,setItemsPerPage:c}=t$(),d=k(()=>e.itemsPerPageOptions.map(h=>typeof h=="number"?{value:h,title:h===-1?i("$vuetify.dataFooter.itemsPerPageAll"):String(h)}:{...h,title:isNaN(Number(h.title))?i(h.title):h.title}));return se(()=>{var v;const h=Fv.filterProps(e);return f("div",{class:"v-data-table-footer"},[(v=n.prepend)==null?void 0:v.call(n),f("div",{class:"v-data-table-footer__items-per-page"},[f("span",null,[i(e.itemsPerPageText)]),f(sy,{items:d.value,modelValue:u.value,"onUpdate:modelValue":g=>c(Number(g)),density:"compact",variant:"outlined","hide-details":!0},null)]),f("div",{class:"v-data-table-footer__info"},[f("div",null,[i(e.pageText,l.value?o.value+1:0,a.value,l.value)])]),f("div",{class:"v-data-table-footer__pagination"},[f(Fv,J({modelValue:r.value,"onUpdate:modelValue":g=>r.value=g,density:"comfortable","first-aria-label":e.firstPageLabel,"last-aria-label":e.lastPageLabel,length:s.value,"next-aria-label":e.nextPageLabel,"previous-aria-label":e.prevPageLabel,rounded:!0,"show-first-last-page":!0,"total-visible":e.showCurrentPage?1:0,variant:"plain"},h),null)])])}),{}}}),zd=aM({align:{type:String,default:"start"},fixed:Boolean,fixedOffset:[Number,String],height:[Number,String],lastFixed:Boolean,noPadding:Boolean,tag:String,width:[Number,String],maxWidth:[Number,String],nowrap:Boolean},(e,t)=>{let{slots:n}=t;const i=e.tag??"td";return f(i,{class:["v-data-table__td",{"v-data-table-column--fixed":e.fixed,"v-data-table-column--last-fixed":e.lastFixed,"v-data-table-column--no-padding":e.noPadding,"v-data-table-column--nowrap":e.nowrap},`v-data-table-column--align-${e.align}`],style:{height:Se(e.height),width:Se(e.width),maxWidth:Se(e.maxWidth),left:Se(e.fixedOffset||null)}},{default:()=>{var r;return[(r=n.default)==null?void 0:r.call(n)]}})}),f$=z({headers:Array},"DataTable-header"),cA=Symbol.for("vuetify:data-table-headers"),dA={title:"",sortable:!1},h$={...dA,width:48};function m$(){const t=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]).map(n=>({element:n,priority:0}));return{enqueue:(n,i)=>{let r=!1;for(let s=0;s<t.length;s++)if(t[s].priority>i){t.splice(s,0,{element:n,priority:i}),r=!0;break}r||t.push({element:n,priority:i})},size:()=>t.length,count:()=>{let n=0;if(!t.length)return 0;const i=Math.floor(t[0].priority);for(let r=0;r<t.length;r++)Math.floor(t[r].priority)===i&&(n+=1);return n},dequeue:()=>t.shift()}}function Bv(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];if(!e.children)t.push(e);else for(const n of e.children)Bv(n,t);return t}function fA(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:new Set;for(const n of e)n.key&&t.add(n.key),n.children&&fA(n.children,t);return t}function v$(e){if(e.key){if(e.key==="data-table-group")return dA;if(["data-table-expand","data-table-select"].includes(e.key))return h$}}function vy(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return e.children?Math.max(t,...e.children.map(n=>vy(n,t+1))):t}function g$(e){let t=!1;function n(s){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(s)if(o&&(s.fixed=!0),s.fixed)if(s.children)for(let a=s.children.length-1;a>=0;a--)n(s.children[a],!0);else t?isNaN(+s.width)&&(`${s.key}`,void 0):s.lastFixed=!0,t=!0;else if(s.children)for(let a=s.children.length-1;a>=0;a--)n(s.children[a]);else t=!1}for(let s=e.length-1;s>=0;s--)n(e[s]);function i(s){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(!s)return o;if(s.children){s.fixedOffset=o;for(const a of s.children)o=i(a,o)}else s.fixed&&(s.fixedOffset=o,o+=parseFloat(s.width||"0")||0);return o}let r=0;for(const s of e)r=i(s,r)}function p$(e,t){const n=[];let i=0;const r=m$(e);for(;r.size()>0;){let o=r.count();const a=[];let l=1;for(;o>0;){const{element:u,priority:c}=r.dequeue(),d=t-i-vy(u);if(a.push({...u,rowspan:d??1,colspan:u.children?Bv(u).length:1}),u.children)for(const h of u.children){const v=c%1+l/Math.pow(10,i+2);r.enqueue(h,i+d+v)}l+=1,o-=1}i+=1,n.push(a)}return{columns:e.map(o=>Bv(o)).flat(),headers:n}}function hA(e){const t=[];for(const n of e){const i={...v$(n),...n},r=i.key??(typeof i.value=="string"?i.value:null),s=i.value??r??null,o={...i,key:r,value:s,sortable:i.sortable??(i.key!=null||!!i.sort),children:i.children?hA(i.children):void 0};t.push(o)}return t}function gy(e,t){const n=j([]),i=j([]),r=j({}),s=j({}),o=j({});Gt(()=>{var p,y,w;const u=(e.headers||Object.keys(e.items[0]??{}).map(C=>({key:C,title:dr(C)}))).slice(),c=fA(u);(p=t==null?void 0:t.groupBy)!=null&&p.value.length&&!c.has("data-table-group")&&u.unshift({key:"data-table-group",title:"Group"}),(y=t==null?void 0:t.showSelect)!=null&&y.value&&!c.has("data-table-select")&&u.unshift({key:"data-table-select"}),(w=t==null?void 0:t.showExpand)!=null&&w.value&&!c.has("data-table-expand")&&u.push({key:"data-table-expand"});const d=hA(u);g$(d);const h=Math.max(...d.map(C=>vy(C)))+1,v=p$(d,h);n.value=v.headers,i.value=v.columns;const g=v.headers.flat(1);for(const C of g)C.key&&(C.sortable&&(C.sort&&(r.value[C.key]=C.sort),C.sortRaw&&(s.value[C.key]=C.sortRaw)),C.filter&&(o.value[C.key]=C.filter))});const a={headers:n,columns:i,sortFunctions:r,sortRawFunctions:s,filterFunctions:o};return bt(cA,a),a}function hh(){const e=He(cA);if(!e)throw new Error("Missing headers!");return e}const mA=z({color:String,sticky:Boolean,disableSort:Boolean,multiSort:Boolean,sortAscIcon:{type:Be,default:"$sortAsc"},sortDescIcon:{type:Be,default:"$sortDesc"},headerProps:{type:Object},...Oo(),...Xf()},"VDataTableHeaders"),wo=te()({name:"VDataTableHeaders",props:mA(),setup(e,t){let{slots:n}=t;const{t:i}=At(),{toggleSort:r,sortBy:s,isSorted:o}=uA(),{someSelected:a,allSelected:l,selectAll:u,showSelectAll:c}=ch(),{columns:d,headers:h}=hh(),{loaderClasses:v}=sc(e);function g(b,_){if(!(!e.sticky&&!b.fixed))return{position:"sticky",left:b.fixed?Se(b.fixedOffset):void 0,top:e.sticky?`calc(var(--v-table-header-height) * ${_})`:void 0}}function p(b){const _=s.value.find(E=>E.key===b.key);return _?_.order==="asc"?e.sortAscIcon:e.sortDescIcon:e.sortAscIcon}const{backgroundColorClasses:y,backgroundColorStyles:w}=wt(e,"color"),{displayClasses:C,mobile:x}=pi(e),A=k(()=>({headers:h.value,columns:d.value,toggleSort:r,isSorted:o,sortBy:s.value,someSelected:a.value,allSelected:l.value,selectAll:u,getSortIcon:p})),V=k(()=>["v-data-table__th",{"v-data-table__th--sticky":e.sticky},C.value,v.value]),N=b=>{let{column:_,x:E,y:P}=b;const I=_.key==="data-table-select"||_.key==="data-table-expand",R=J(e.headerProps??{},_.headerProps??{});return f(zd,J({tag:"th",align:_.align,class:[{"v-data-table__th--sortable":_.sortable&&!e.disableSort,"v-data-table__th--sorted":o(_),"v-data-table__th--fixed":_.fixed},...V.value],style:{width:Se(_.width),minWidth:Se(_.minWidth),maxWidth:Se(_.maxWidth),...g(_,P)},colspan:_.colspan,rowspan:_.rowspan,onClick:_.sortable?()=>r(_):void 0,fixed:_.fixed,nowrap:_.nowrap,lastFixed:_.lastFixed,noPadding:I},R),{default:()=>{var W;const H=`header.${_.key}`,q={column:_,selectAll:u,isSorted:o,toggleSort:r,sortBy:s.value,someSelected:a.value,allSelected:l.value,getSortIcon:p};return n[H]?n[H](q):_.key==="data-table-select"?((W=n["header.data-table-select"])==null?void 0:W.call(n,q))??(c.value&&f(or,{modelValue:l.value,indeterminate:a.value&&!l.value,"onUpdate:modelValue":u},null)):f("div",{class:"v-data-table-header__content"},[f("span",null,[_.title]),_.sortable&&!e.disableSort&&f(st,{key:"icon",class:"v-data-table-header__sort-icon",icon:p(_)},null),e.multiSort&&o(_)&&f("div",{key:"badge",class:["v-data-table-header__sort-badge",...y.value],style:w.value},[s.value.findIndex(X=>X.key===_.key)+1])])}})},T=()=>{const b=J(e.headerProps??{}??{}),_=k(()=>d.value.filter(P=>(P==null?void 0:P.sortable)&&!e.disableSort)),E=k(()=>{if(d.value.find(I=>I.key==="data-table-select")!=null)return l.value?"$checkboxOn":a.value?"$checkboxIndeterminate":"$checkboxOff"});return f(zd,J({tag:"th",class:[...V.value],colspan:h.value.length+1},b),{default:()=>[f("div",{class:"v-data-table-header__content"},[f(sy,{chips:!0,class:"v-data-table__td-sort-select",clearable:!0,density:"default",items:_.value,label:i("$vuetify.dataTable.sortBy"),multiple:e.multiSort,variant:"underlined","onClick:clear":()=>s.value=[],appendIcon:E.value,"onClick:append":()=>u(!l.value)},{...n,chip:P=>{var I;return f(Wo,{onClick:(I=P.item.raw)!=null&&I.sortable?()=>r(P.item.raw):void 0,onMousedown:R=>{R.preventDefault(),R.stopPropagation()}},{default:()=>[P.item.title,f(st,{class:["v-data-table__td-sort-icon",o(P.item.raw)&&"v-data-table__td-sort-icon-active"],icon:p(P.item.raw),size:"small"},null)]})}})])]})};se(()=>x.value?f("tr",null,[f(T,null,null)]):f(be,null,[n.headers?n.headers(A.value):h.value.map((b,_)=>f("tr",null,[b.map((E,P)=>f(N,{column:E,x:P,y:_},null))])),e.loading&&f("tr",{class:"v-data-table-progress"},[f("th",{colspan:d.value.length},[f(oc,{name:"v-data-table-progress",absolute:!0,active:!0,color:typeof e.loading=="boolean"?void 0:e.loading,indeterminate:!0},{default:n.loader})])])]))}}),y$=z({item:{type:Object,required:!0}},"VDataTableGroupHeaderRow"),_$=te()({name:"VDataTableGroupHeaderRow",props:y$(),setup(e,t){let{slots:n}=t;const{isGroupOpen:i,toggleGroup:r,extractRows:s}=JT(),{isSelected:o,isSomeSelected:a,select:l}=ch(),{columns:u}=hh(),c=k(()=>s([e.item]));return()=>f("tr",{class:"v-data-table-group-header-row",style:{"--v-data-table-group-header-row-depth":e.item.depth}},[u.value.map(d=>{var h,v;if(d.key==="data-table-group"){const g=i(e.item)?"$expand":"$next",p=()=>r(e.item);return((h=n["data-table-group"])==null?void 0:h.call(n,{item:e.item,count:c.value.length,props:{icon:g,onClick:p}}))??f(zd,{class:"v-data-table-group-header-row__column"},{default:()=>[f(Ke,{size:"small",variant:"text",icon:g,onClick:p},null),f("span",null,[e.item.value]),f("span",null,[Ve("("),c.value.length,Ve(")")])]})}if(d.key==="data-table-select"){const g=o(c.value),p=a(c.value)&&!g,y=w=>l(c.value,w);return((v=n["data-table-select"])==null?void 0:v.call(n,{props:{modelValue:g,indeterminate:p,"onUpdate:modelValue":y}}))??f("td",null,[f(or,{modelValue:g,indeterminate:p,"onUpdate:modelValue":y},null)])}return f("td",null,null)})])}}),b$=z({index:Number,item:Object,cellProps:[Object,Function],onClick:cn(),onContextmenu:cn(),onDblclick:cn(),...Oo()},"VDataTableRow"),py=te()({name:"VDataTableRow",props:b$(),setup(e,t){let{slots:n}=t;const{displayClasses:i,mobile:r}=pi(e,"v-data-table__tr"),{isSelected:s,toggleSelect:o,someSelected:a,allSelected:l,selectAll:u}=ch(),{isExpanded:c,toggleExpand:d}=QT(),{toggleSort:h,sortBy:v,isSorted:g}=uA(),{columns:p}=hh();se(()=>f("tr",{class:["v-data-table__tr",{"v-data-table__tr--clickable":!!(e.onClick||e.onContextmenu||e.onDblclick)},i.value],onClick:e.onClick,onContextmenu:e.onContextmenu,onDblclick:e.onDblclick},[e.item&&p.value.map((y,w)=>{const C=e.item,x=`item.${y.key}`,A=`header.${y.key}`,V={index:e.index,item:C.raw,internalItem:C,value:po(C.columns,y.key),column:y,isSelected:s,toggleSelect:o,isExpanded:c,toggleExpand:d},N={column:y,selectAll:u,isSorted:g,toggleSort:h,sortBy:v.value,someSelected:a.value,allSelected:l.value,getSortIcon:()=>""},T=typeof e.cellProps=="function"?e.cellProps({index:V.index,item:V.item,internalItem:V.internalItem,value:V.value,column:y}):e.cellProps,b=typeof y.cellProps=="function"?y.cellProps({index:V.index,item:V.item,internalItem:V.internalItem,value:V.value}):y.cellProps;return f(zd,J({align:y.align,class:{"v-data-table__td--expanded-row":y.key==="data-table-expand","v-data-table__td--select-row":y.key==="data-table-select"},fixed:y.fixed,fixedOffset:y.fixedOffset,lastFixed:y.lastFixed,maxWidth:r.value?void 0:y.maxWidth,noPadding:y.key==="data-table-select"||y.key==="data-table-expand",nowrap:y.nowrap,width:r.value?void 0:y.width},T,b),{default:()=>{var E,P,I,R,H;if(n[x]&&!r.value)return(E=n[x])==null?void 0:E.call(n,V);if(y.key==="data-table-select")return((P=n["item.data-table-select"])==null?void 0:P.call(n,V))??f(or,{disabled:!C.selectable,modelValue:s([C]),onClick:Md(()=>o(C),["stop"])},null);if(y.key==="data-table-expand")return((I=n["item.data-table-expand"])==null?void 0:I.call(n,V))??f(Ke,{icon:c(C)?"$collapse":"$expand",size:"small",variant:"text",onClick:Md(()=>d(C),["stop"])},null);const _=_t(V.value);return r.value?f(be,null,[f("div",{class:"v-data-table__td-title"},[((R=n[A])==null?void 0:R.call(n,N))??y.title]),f("div",{class:"v-data-table__td-value"},[((H=n[x])==null?void 0:H.call(n,V))??_])]):_}})})]))}}),vA=z({loading:[Boolean,String],loadingText:{type:String,default:"$vuetify.dataIterator.loadingText"},hideNoData:Boolean,items:{type:Array,default:()=>[]},noDataText:{type:String,default:"$vuetify.noDataText"},rowProps:[Object,Function],cellProps:[Object,Function],...Oo()},"VDataTableRows"),So=te()({name:"VDataTableRows",inheritAttrs:!1,props:vA(),setup(e,t){let{attrs:n,slots:i}=t;const{columns:r}=hh(),{expandOnClick:s,toggleExpand:o,isExpanded:a}=QT(),{isSelected:l,toggleSelect:u}=ch(),{toggleGroup:c,isGroupOpen:d}=JT(),{t:h}=At(),{mobile:v}=pi(e);return se(()=>{var g,p;return e.loading&&(!e.items.length||i.loading)?f("tr",{class:"v-data-table-rows-loading",key:"loading"},[f("td",{colspan:r.value.length},[((g=i.loading)==null?void 0:g.call(i))??h(e.loadingText)])]):!e.loading&&!e.items.length&&!e.hideNoData?f("tr",{class:"v-data-table-rows-no-data",key:"no-data"},[f("td",{colspan:r.value.length},[((p=i["no-data"])==null?void 0:p.call(i))??h(e.noDataText)])]):f(be,null,[e.items.map((y,w)=>{var A;if(y.type==="group"){const V={index:w,item:y,columns:r.value,isExpanded:a,toggleExpand:o,isSelected:l,toggleSelect:u,toggleGroup:c,isGroupOpen:d};return i["group-header"]?i["group-header"](V):f(_$,J({key:`group-header_${y.id}`,item:y},eS(n,":group-header",()=>V)),i)}const C={index:w,item:y.raw,internalItem:y,columns:r.value,isExpanded:a,toggleExpand:o,isSelected:l,toggleSelect:u},x={...C,props:J({key:`item_${y.key??y.index}`,onClick:s.value?()=>{o(y)}:void 0,index:w,item:y,cellProps:e.cellProps,mobile:v.value},eS(n,":row",()=>C),typeof e.rowProps=="function"?e.rowProps({item:C.item,index:C.index,internalItem:C.internalItem}):e.rowProps)};return f(be,{key:x.props.key},[i.item?i.item(x):f(py,x.props,i),a(y)&&((A=i["expanded-row"])==null?void 0:A.call(i,C))])})])}),{}}}),gA=z({fixedHeader:Boolean,fixedFooter:Boolean,height:[Number,String],hover:Boolean,...Ee(),...dn(),...Ge(),...nt()},"VTable"),Co=te()({name:"VTable",props:gA(),setup(e,t){let{slots:n,emit:i}=t;const{themeClasses:r}=ft(e),{densityClasses:s}=Kn(e);return se(()=>f(e.tag,{class:["v-table",{"v-table--fixed-height":!!e.height,"v-table--fixed-header":e.fixedHeader,"v-table--fixed-footer":e.fixedFooter,"v-table--has-top":!!n.top,"v-table--has-bottom":!!n.bottom,"v-table--hover":e.hover},r.value,s.value,e.class],style:e.style},{default:()=>{var o,a,l;return[(o=n.top)==null?void 0:o.call(n),n.default?f("div",{class:"v-table__wrapper",style:{height:Se(e.height)}},[f("table",null,[n.default()])]):(a=n.wrapper)==null?void 0:a.call(n),(l=n.bottom)==null?void 0:l.call(n)]}})),{}}}),w$=z({items:{type:Array,default:()=>[]},itemValue:{type:[String,Array,Function],default:"id"},itemSelectable:{type:[String,Array,Function],default:null},rowProps:[Object,Function],cellProps:[Object,Function],returnObject:Boolean},"DataTable-items");function S$(e,t,n,i){const r=e.returnObject?t:Qt(t,e.itemValue),s=Qt(t,e.itemSelectable,!0),o=i.reduce((a,l)=>(l.key!=null&&(a[l.key]=Qt(t,l.value)),a),{});return{type:"item",key:e.returnObject?Qt(t,e.itemValue):r,index:n,value:r,selectable:s,columns:o,raw:t}}function C$(e,t,n){return t.map((i,r)=>S$(e,i,r,n))}function yy(e,t){return{items:k(()=>C$(e,e.items,t.value))}}const _y=z({...vA(),hideDefaultBody:Boolean,hideDefaultFooter:Boolean,hideDefaultHeader:Boolean,width:[String,Number],search:String,...KT(),...ly(),...f$(),...w$(),...sA(),...aA(),...mA(),...gA()},"DataTable"),I$=z({...cy(),..._y(),...sl(),...my()},"VDataTable"),k$=te()({name:"VDataTable",props:I$(),emits:{"update:modelValue":e=>!0,"update:page":e=>!0,"update:itemsPerPage":e=>!0,"update:sortBy":e=>!0,"update:options":e=>!0,"update:groupBy":e=>!0,"update:expanded":e=>!0,"update:currentItems":e=>!0},setup(e,t){let{attrs:n,slots:i}=t;const{groupBy:r}=uy(e),{sortBy:s,multiSort:o,mustSort:a}=dh(e),{page:l,itemsPerPage:u}=dy(e),{disableSort:c}=Wr(e),{columns:d,headers:h,sortFunctions:v,sortRawFunctions:g,filterFunctions:p}=gy(e,{groupBy:r,showSelect:ee(e,"showSelect"),showExpand:ee(e,"showExpand")}),{items:y}=yy(e,d),w=ee(e,"search"),{filteredItems:C}=ol(e,y,w,{transform:Q=>Q.columns,customKeyFilter:p}),{toggleSort:x}=fh({sortBy:s,multiSort:o,mustSort:a,page:l}),{sortByWithGroups:A,opened:V,extractRows:N,isGroupOpen:T,toggleGroup:b}=oh({groupBy:r,sortBy:s,disableSort:c}),{sortedItems:_}=hy(e,C,A,{transform:Q=>({...Q.raw,...Q.columns}),sortFunctions:v,sortRawFunctions:g}),{flatItems:E}=ah(_,r,V),P=k(()=>E.value.length),{startIndex:I,stopIndex:R,pageCount:H,setItemsPerPage:q}=fy({page:l,itemsPerPage:u,itemsLength:P}),{paginatedItems:W}=nA({items:E,startIndex:I,stopIndex:R,itemsPerPage:u}),X=k(()=>N(W.value)),{isSelected:U,select:B,selectAll:$,toggleSelect:Y,someSelected:re,allSelected:de}=uh(e,{allItems:y,currentPage:X}),{isExpanded:we,toggleExpand:Ie}=sh(e);lh({page:l,itemsPerPage:u,sortBy:s,groupBy:r,search:w}),Ot({VDataTableRows:{hideNoData:ee(e,"hideNoData"),noDataText:ee(e,"noDataText"),loading:ee(e,"loading"),loadingText:ee(e,"loadingText")}});const oe=k(()=>({page:l.value,itemsPerPage:u.value,sortBy:s.value,pageCount:H.value,toggleSort:x,setItemsPerPage:q,someSelected:re.value,allSelected:de.value,isSelected:U,select:B,selectAll:$,toggleSelect:Y,isExpanded:we,toggleExpand:Ie,isGroupOpen:T,toggleGroup:b,items:X.value.map(Q=>Q.raw),internalItems:X.value,groupedItems:W.value,columns:d.value,headers:h.value}));return se(()=>{const Q=Ou.filterProps(e),le=wo.filterProps(e),pe=So.filterProps(e),fe=Co.filterProps(e);return f(Co,J({class:["v-data-table",{"v-data-table--show-select":e.showSelect,"v-data-table--loading":e.loading},e.class],style:e.style},fe),{top:()=>{var ce;return(ce=i.top)==null?void 0:ce.call(i,oe.value)},default:()=>{var ce,Te,O,M,G,ie;return i.default?i.default(oe.value):f(be,null,[(ce=i.colgroup)==null?void 0:ce.call(i,oe.value),!e.hideDefaultHeader&&f("thead",{key:"thead"},[f(wo,le,i)]),(Te=i.thead)==null?void 0:Te.call(i,oe.value),!e.hideDefaultBody&&f("tbody",null,[(O=i["body.prepend"])==null?void 0:O.call(i,oe.value),i.body?i.body(oe.value):f(So,J(n,pe,{items:W.value}),i),(M=i["body.append"])==null?void 0:M.call(i,oe.value)]),(G=i.tbody)==null?void 0:G.call(i,oe.value),(ie=i.tfoot)==null?void 0:ie.call(i,oe.value)])},bottom:()=>i.bottom?i.bottom(oe.value):!e.hideDefaultFooter&&f(be,null,[f(Ar,null,null),f(Ou,Q,{prepend:i["footer.prepend"]})])})}),{}}}),E$=z({..._y(),...ly(),...TT(),...sl()},"VDataTableVirtual"),T$=te()({name:"VDataTableVirtual",props:E$(),emits:{"update:modelValue":e=>!0,"update:sortBy":e=>!0,"update:options":e=>!0,"update:groupBy":e=>!0,"update:expanded":e=>!0},setup(e,t){let{attrs:n,slots:i}=t;const{groupBy:r}=uy(e),{sortBy:s,multiSort:o,mustSort:a}=dh(e),{disableSort:l}=Wr(e),{columns:u,headers:c,filterFunctions:d,sortFunctions:h,sortRawFunctions:v}=gy(e,{groupBy:r,showSelect:ee(e,"showSelect"),showExpand:ee(e,"showExpand")}),{items:g}=yy(e,u),p=ee(e,"search"),{filteredItems:y}=ol(e,g,p,{transform:le=>le.columns,customKeyFilter:d}),{toggleSort:w}=fh({sortBy:s,multiSort:o,mustSort:a}),{sortByWithGroups:C,opened:x,extractRows:A,isGroupOpen:V,toggleGroup:N}=oh({groupBy:r,sortBy:s,disableSort:l}),{sortedItems:T}=hy(e,y,C,{transform:le=>({...le.raw,...le.columns}),sortFunctions:h,sortRawFunctions:v}),{flatItems:b}=ah(T,r,x),_=k(()=>A(b.value)),{isSelected:E,select:P,selectAll:I,toggleSelect:R,someSelected:H,allSelected:q}=uh(e,{allItems:_,currentPage:_}),{isExpanded:W,toggleExpand:X}=sh(e),{containerRef:U,markerRef:B,paddingTop:$,paddingBottom:Y,computedItems:re,handleItemResize:de,handleScroll:we,handleScrollend:Ie}=AT(e,b),oe=k(()=>re.value.map(le=>le.raw));lh({sortBy:s,page:ye(1),itemsPerPage:ye(-1),groupBy:r,search:p}),Ot({VDataTableRows:{hideNoData:ee(e,"hideNoData"),noDataText:ee(e,"noDataText"),loading:ee(e,"loading"),loadingText:ee(e,"loadingText")}});const Q=k(()=>({sortBy:s.value,toggleSort:w,someSelected:H.value,allSelected:q.value,isSelected:E,select:P,selectAll:I,toggleSelect:R,isExpanded:W,toggleExpand:X,isGroupOpen:V,toggleGroup:N,items:_.value.map(le=>le.raw),internalItems:_.value,groupedItems:b.value,columns:u.value,headers:c.value}));se(()=>{const le=wo.filterProps(e),pe=So.filterProps(e),fe=Co.filterProps(e);return f(Co,J({class:["v-data-table",{"v-data-table--loading":e.loading},e.class],style:e.style},fe),{top:()=>{var ce;return(ce=i.top)==null?void 0:ce.call(i,Q.value)},wrapper:()=>{var ce,Te,O;return f("div",{ref:U,onScrollPassive:we,onScrollend:Ie,class:"v-table__wrapper",style:{height:Se(e.height)}},[f("table",null,[(ce=i.colgroup)==null?void 0:ce.call(i,Q.value),!e.hideDefaultHeader&&f("thead",{key:"thead"},[f(wo,J(le,{sticky:e.fixedHeader}),i)]),!e.hideDefaultBody&&f("tbody",null,[f("tr",{ref:B,style:{height:Se($.value),border:0}},[f("td",{colspan:u.value.length,style:{height:0,border:0}},null)]),(Te=i["body.prepend"])==null?void 0:Te.call(i,Q.value),f(So,J(n,pe,{items:oe.value}),{...i,item:M=>f(ET,{key:M.internalItem.index,renderless:!0,"onUpdate:height":G=>de(M.internalItem.index,G)},{default:G=>{var K;let{itemRef:ie}=G;return((K=i.item)==null?void 0:K.call(i,{...M,itemRef:ie}))??f(py,J(M.props,{ref:ie,key:M.internalItem.index,index:M.internalItem.index}),i)}})}),(O=i["body.append"])==null?void 0:O.call(i,Q.value),f("tr",{style:{height:Se(Y.value),border:0}},[f("td",{colspan:u.value.length,style:{height:0,border:0}},null)])])])])},bottom:()=>{var ce;return(ce=i.bottom)==null?void 0:ce.call(i,Q.value)}})})}}),A$=z({itemsLength:{type:[Number,String],required:!0},...cy(),..._y(),...my()},"VDataTableServer"),P$=te()({name:"VDataTableServer",props:A$(),emits:{"update:modelValue":e=>!0,"update:page":e=>!0,"update:itemsPerPage":e=>!0,"update:sortBy":e=>!0,"update:options":e=>!0,"update:expanded":e=>!0,"update:groupBy":e=>!0},setup(e,t){let{attrs:n,slots:i}=t;const{groupBy:r}=uy(e),{sortBy:s,multiSort:o,mustSort:a}=dh(e),{page:l,itemsPerPage:u}=dy(e),{disableSort:c}=Wr(e),d=k(()=>parseInt(e.itemsLength,10)),{columns:h,headers:v}=gy(e,{groupBy:r,showSelect:ee(e,"showSelect"),showExpand:ee(e,"showExpand")}),{items:g}=yy(e,h),{toggleSort:p}=fh({sortBy:s,multiSort:o,mustSort:a,page:l}),{opened:y,isGroupOpen:w,toggleGroup:C,extractRows:x}=oh({groupBy:r,sortBy:s,disableSort:c}),{pageCount:A,setItemsPerPage:V}=fy({page:l,itemsPerPage:u,itemsLength:d}),{flatItems:N}=ah(g,r,y),{isSelected:T,select:b,selectAll:_,toggleSelect:E,someSelected:P,allSelected:I}=uh(e,{allItems:g,currentPage:g}),{isExpanded:R,toggleExpand:H}=sh(e),q=k(()=>x(g.value));lh({page:l,itemsPerPage:u,sortBy:s,groupBy:r,search:ee(e,"search")}),bt("v-data-table",{toggleSort:p,sortBy:s}),Ot({VDataTableRows:{hideNoData:ee(e,"hideNoData"),noDataText:ee(e,"noDataText"),loading:ee(e,"loading"),loadingText:ee(e,"loadingText")}});const W=k(()=>({page:l.value,itemsPerPage:u.value,sortBy:s.value,pageCount:A.value,toggleSort:p,setItemsPerPage:V,someSelected:P.value,allSelected:I.value,isSelected:T,select:b,selectAll:_,toggleSelect:E,isExpanded:R,toggleExpand:H,isGroupOpen:w,toggleGroup:C,items:q.value.map(X=>X.raw),internalItems:q.value,groupedItems:N.value,columns:h.value,headers:v.value}));se(()=>{const X=Ou.filterProps(e),U=wo.filterProps(e),B=So.filterProps(e),$=Co.filterProps(e);return f(Co,J({class:["v-data-table",{"v-data-table--loading":e.loading},e.class],style:e.style},$),{top:()=>{var Y;return(Y=i.top)==null?void 0:Y.call(i,W.value)},default:()=>{var Y,re,de,we,Ie,oe;return i.default?i.default(W.value):f(be,null,[(Y=i.colgroup)==null?void 0:Y.call(i,W.value),!e.hideDefaultHeader&&f("thead",{key:"thead",class:"v-data-table__thead",role:"rowgroup"},[f(wo,J(U,{sticky:e.fixedHeader}),i)]),(re=i.thead)==null?void 0:re.call(i,W.value),!e.hideDefaultBody&&f("tbody",{class:"v-data-table__tbody",role:"rowgroup"},[(de=i["body.prepend"])==null?void 0:de.call(i,W.value),i.body?i.body(W.value):f(So,J(n,B,{items:N.value}),i),(we=i["body.append"])==null?void 0:we.call(i,W.value)]),(Ie=i.tbody)==null?void 0:Ie.call(i,W.value),(oe=i.tfoot)==null?void 0:oe.call(i,W.value)])},bottom:()=>i.bottom?i.bottom(W.value):!e.hideDefaultFooter&&f(be,null,[f(Ar,null,null),f(Ou,X,{prepend:i["footer.prepend"]})])})})}}),x$=z({fluid:{type:Boolean,default:!1},...Ee(),...Jt(),...Ge()},"VContainer"),R$=te()({name:"VContainer",props:x$(),setup(e,t){let{slots:n}=t;const{rtlClasses:i}=sn(),{dimensionStyles:r}=Zt(e);return se(()=>f(e.tag,{class:["v-container",{"v-container--fluid":e.fluid},i.value,e.class],style:[r.value,e.style]},n)),{}}}),pA=zf.reduce((e,t)=>(e[t]={type:[Boolean,String,Number],default:!1},e),{}),yA=zf.reduce((e,t)=>{const n="offset"+dr(t);return e[n]={type:[String,Number],default:null},e},{}),_A=zf.reduce((e,t)=>{const n="order"+dr(t);return e[n]={type:[String,Number],default:null},e},{}),kS={col:Object.keys(pA),offset:Object.keys(yA),order:Object.keys(_A)};function V$(e,t,n){let i=e;if(!(n==null||n===!1)){if(t){const r=t.replace(e,"");i+=`-${r}`}return e==="col"&&(i="v-"+i),e==="col"&&(n===""||n===!0)||(i+=`-${n}`),i.toLowerCase()}}const D$=["auto","start","end","center","baseline","stretch"],N$=z({cols:{type:[Boolean,String,Number],default:!1},...pA,offset:{type:[String,Number],default:null},...yA,order:{type:[String,Number],default:null},..._A,alignSelf:{type:String,default:null,validator:e=>D$.includes(e)},...Ee(),...Ge()},"VCol"),O$=te()({name:"VCol",props:N$(),setup(e,t){let{slots:n}=t;const i=k(()=>{const r=[];let s;for(s in kS)kS[s].forEach(a=>{const l=e[a],u=V$(s,a,l);u&&r.push(u)});const o=r.some(a=>a.startsWith("v-col-"));return r.push({"v-col":!o||!e.cols,[`v-col-${e.cols}`]:e.cols,[`offset-${e.offset}`]:e.offset,[`order-${e.order}`]:e.order,[`align-self-${e.alignSelf}`]:e.alignSelf}),r});return()=>{var r;return qi(e.tag,{class:[i.value,e.class],style:e.style},(r=n.default)==null?void 0:r.call(n))}}}),by=["start","end","center"],bA=["space-between","space-around","space-evenly"];function wy(e,t){return zf.reduce((n,i)=>{const r=e+dr(i);return n[r]=t(),n},{})}const M$=[...by,"baseline","stretch"],wA=e=>M$.includes(e),SA=wy("align",()=>({type:String,default:null,validator:wA})),L$=[...by,...bA],CA=e=>L$.includes(e),IA=wy("justify",()=>({type:String,default:null,validator:CA})),F$=[...by,...bA,"stretch"],kA=e=>F$.includes(e),EA=wy("alignContent",()=>({type:String,default:null,validator:kA})),ES={align:Object.keys(SA),justify:Object.keys(IA),alignContent:Object.keys(EA)},B$={align:"align",justify:"justify",alignContent:"align-content"};function $$(e,t,n){let i=B$[e];if(n!=null){if(t){const r=t.replace(e,"");i+=`-${r}`}return i+=`-${n}`,i.toLowerCase()}}const U$=z({dense:Boolean,noGutters:Boolean,align:{type:String,default:null,validator:wA},...SA,justify:{type:String,default:null,validator:CA},...IA,alignContent:{type:String,default:null,validator:kA},...EA,...Ee(),...Ge()},"VRow"),H$=te()({name:"VRow",props:U$(),setup(e,t){let{slots:n}=t;const i=k(()=>{const r=[];let s;for(s in ES)ES[s].forEach(o=>{const a=e[o],l=$$(s,o,a);l&&r.push(l)});return r.push({"v-row--no-gutters":e.noGutters,"v-row--dense":e.dense,[`align-${e.align}`]:e.align,[`justify-${e.justify}`]:e.justify,[`align-content-${e.alignContent}`]:e.alignContent}),r});return()=>{var r;return qi(e.tag,{class:["v-row",i.value,e.class],style:e.style},(r=n.default)==null?void 0:r.call(n))}}}),TA=mr("v-spacer","div","VSpacer"),AA=z({active:{type:[String,Array],default:void 0},disabled:{type:[Boolean,String,Array],default:!1},nextIcon:{type:Be,default:"$next"},prevIcon:{type:Be,default:"$prev"},modeIcon:{type:Be,default:"$subgroup"},text:String,viewMode:{type:String,default:"month"}},"VDatePickerControls"),$v=te()({name:"VDatePickerControls",props:AA(),emits:{"click:year":()=>!0,"click:month":()=>!0,"click:prev":()=>!0,"click:next":()=>!0,"click:text":()=>!0},setup(e,t){let{emit:n}=t;const i=k(()=>Array.isArray(e.disabled)?e.disabled.includes("text"):!!e.disabled),r=k(()=>Array.isArray(e.disabled)?e.disabled.includes("mode"):!!e.disabled),s=k(()=>Array.isArray(e.disabled)?e.disabled.includes("prev"):!!e.disabled),o=k(()=>Array.isArray(e.disabled)?e.disabled.includes("next"):!!e.disabled);function a(){n("click:prev")}function l(){n("click:next")}function u(){n("click:year")}function c(){n("click:month")}return se(()=>f("div",{class:["v-date-picker-controls"]},[f(Ke,{class:"v-date-picker-controls__month-btn",disabled:i.value,text:e.text,variant:"text",rounded:!0,onClick:c},null),f(Ke,{key:"mode-btn",class:"v-date-picker-controls__mode-btn",disabled:r.value,density:"comfortable",icon:e.modeIcon,variant:"text",onClick:u},null),f(TA,{key:"mode-spacer"},null),f("div",{key:"month-buttons",class:"v-date-picker-controls__month"},[f(Ke,{disabled:s.value,icon:e.prevIcon,variant:"text",onClick:a},null),f(Ke,{disabled:o.value,icon:e.nextIcon,variant:"text",onClick:l},null)])])),{}}}),j$=z({appendIcon:String,color:String,header:String,transition:String,onClick:cn()},"VDatePickerHeader"),Uv=te()({name:"VDatePickerHeader",props:j$(),emits:{click:()=>!0,"click:append":()=>!0},setup(e,t){let{emit:n,slots:i}=t;const{backgroundColorClasses:r,backgroundColorStyles:s}=wt(e,"color");function o(){n("click")}function a(){n("click:append")}return se(()=>{const l=!!(i.default||e.header),u=!!(i.append||e.appendIcon);return f("div",{class:["v-date-picker-header",{"v-date-picker-header--clickable":!!e.onClick},r.value],style:s.value,onClick:o},[i.prepend&&f("div",{key:"prepend",class:"v-date-picker-header__prepend"},[i.prepend()]),l&&f(jn,{key:"content",name:e.transition},{default:()=>{var c;return[f("div",{key:e.header,class:"v-date-picker-header__content"},[((c=i.default)==null?void 0:c.call(i))??e.header])]}}),u&&f("div",{class:"v-date-picker-header__append"},[i.append?f(ze,{key:"append-defaults",disabled:!e.appendIcon,defaults:{VBtn:{icon:e.appendIcon,variant:"text"}}},{default:()=>{var c;return[(c=i.append)==null?void 0:c.call(i)]}}):f(Ke,{key:"append-btn",icon:e.appendIcon,variant:"text",onClick:a},null)])])}),{}}}),PA=z({allowedDates:[Array,Function],disabled:Boolean,displayValue:null,modelValue:Array,month:[Number,String],max:null,min:null,showAdjacentMonths:Boolean,year:[Number,String],weekdays:{type:Array,default:()=>[0,1,2,3,4,5,6]},weeksInMonth:{type:String,default:"dynamic"},firstDayOfWeek:[Number,String]},"calendar");function xA(e){const t=Gn(),n=Re(e,"modelValue",[],v=>Dt(v)),i=k(()=>e.displayValue?t.date(e.displayValue):n.value.length>0?t.date(n.value[0]):e.min?t.date(e.min):Array.isArray(e.allowedDates)?t.date(e.allowedDates[0]):t.date()),r=Re(e,"year",void 0,v=>{const g=v!=null?Number(v):t.getYear(i.value);return t.startOfYear(t.setYear(t.date(),g))},v=>t.getYear(v)),s=Re(e,"month",void 0,v=>{const g=v!=null?Number(v):t.getMonth(i.value),p=t.setYear(t.startOfMonth(t.date()),t.getYear(r.value));return t.setMonth(p,g)},v=>t.getMonth(v)),o=k(()=>{const v=Number(e.firstDayOfWeek??0);return e.weekdays.map(g=>(g+v)%7)}),a=k(()=>{const v=t.getWeekArray(s.value,e.firstDayOfWeek),g=v.flat(),p=6*7;if(e.weeksInMonth==="static"&&g.length<p){const y=g[g.length-1];let w=[];for(let C=1;C<=p-g.length;C++)w.push(t.addDays(y,C)),C%7===0&&(v.push(w),w=[])}return v});function l(v,g){return v.filter(p=>o.value.includes(t.toJsDate(p).getDay())).map((p,y)=>{const w=t.toISO(p),C=!t.isSameMonth(p,s.value),x=t.isSameDay(p,t.startOfMonth(s.value)),A=t.isSameDay(p,t.endOfMonth(s.value)),V=t.isSameDay(p,s.value);return{date:p,isoDate:w,formatted:t.format(p,"keyboardDate"),year:t.getYear(p),month:t.getMonth(p),isDisabled:h(p),isWeekStart:y%7===0,isWeekEnd:y%7===6,isToday:t.isSameDay(p,g),isAdjacent:C,isHidden:C&&!e.showAdjacentMonths,isStart:x,isSelected:n.value.some(N=>t.isSameDay(p,N)),isEnd:A,isSame:V,localized:t.format(p,"dayOfMonth")}})}const u=k(()=>{const v=t.startOfWeek(i.value,e.firstDayOfWeek),g=[];for(let y=0;y<=6;y++)g.push(t.addDays(v,y));const p=t.date();return l(g,p)}),c=k(()=>{const v=a.value.flat(),g=t.date();return l(v,g)}),d=k(()=>a.value.map(v=>v.length?sL(t,v[0]):null));function h(v){if(e.disabled)return!0;const g=t.date(v);return e.min&&t.isAfter(t.date(e.min),g)||e.max&&t.isAfter(g,t.date(e.max))?!0:Array.isArray(e.allowedDates)&&e.allowedDates.length>0?!e.allowedDates.some(p=>t.isSameDay(t.date(p),g)):typeof e.allowedDates=="function"?!e.allowedDates(g):!1}return{displayValue:i,daysInMonth:c,daysInWeek:u,genDays:l,model:n,weeksInMonth:a,weekDays:o,weekNumbers:d}}const RA=z({color:String,hideWeekdays:Boolean,multiple:[Boolean,Number,String],showWeek:Boolean,transition:{type:String,default:"picker-transition"},reverseTransition:{type:String,default:"picker-reverse-transition"},...PA()},"VDatePickerMonth"),Hv=te()({name:"VDatePickerMonth",props:RA(),emits:{"update:modelValue":e=>!0,"update:month":e=>!0,"update:year":e=>!0},setup(e,t){let{emit:n,slots:i}=t;const r=j(),{daysInMonth:s,model:o,weekNumbers:a}=xA(e),l=Gn(),u=ye(),c=ye(),d=ye(!1),h=k(()=>d.value?e.reverseTransition:e.transition);e.multiple==="range"&&o.value.length>0&&(u.value=o.value[0],o.value.length>1&&(c.value=o.value[o.value.length-1]));const v=k(()=>{const w=["number","string"].includes(typeof e.multiple)?Number(e.multiple):1/0;return o.value.length>=w});he(s,(w,C)=>{C&&(d.value=l.isBefore(w[0].date,C[0].date))});function g(w){const C=l.startOfDay(w);if(o.value.length===0?u.value=void 0:o.value.length===1&&(u.value=o.value[0],c.value=void 0),!u.value)u.value=C,o.value=[u.value];else if(c.value)u.value=w,c.value=void 0,o.value=[u.value];else{if(l.isSameDay(C,u.value)){u.value=void 0,o.value=[];return}else l.isBefore(C,u.value)?(c.value=l.endOfDay(u.value),u.value=C):c.value=l.endOfDay(C);const x=l.getDiff(c.value,u.value,"days"),A=[u.value];for(let V=1;V<x;V++){const N=l.addDays(u.value,V);A.push(N)}A.push(c.value),o.value=A}}function p(w){const C=o.value.findIndex(x=>l.isSameDay(x,w));if(C===-1)o.value=[...o.value,w];else{const x=[...o.value];x.splice(C,1),o.value=x}}function y(w){e.multiple==="range"?g(w):e.multiple?p(w):o.value=[w]}return()=>f("div",{class:"v-date-picker-month"},[e.showWeek&&f("div",{key:"weeks",class:"v-date-picker-month__weeks"},[!e.hideWeekdays&&f("div",{key:"hide-week-days",class:"v-date-picker-month__day"},[Ve("")]),a.value.map(w=>f("div",{class:["v-date-picker-month__day","v-date-picker-month__day--adjacent"]},[w]))]),f(jn,{name:h.value},{default:()=>{var w;return[f("div",{ref:r,key:(w=s.value[0].date)==null?void 0:w.toString(),class:"v-date-picker-month__days"},[!e.hideWeekdays&&l.getWeekdays(e.firstDayOfWeek).map(C=>f("div",{class:["v-date-picker-month__day","v-date-picker-month__weekday"]},[C])),s.value.map((C,x)=>{const A={props:{onClick:()=>y(C.date)},item:C,i:x};return v.value&&!C.isSelected&&(C.isDisabled=!0),f("div",{class:["v-date-picker-month__day",{"v-date-picker-month__day--adjacent":C.isAdjacent,"v-date-picker-month__day--hide-adjacent":C.isHidden,"v-date-picker-month__day--selected":C.isSelected,"v-date-picker-month__day--week-end":C.isWeekEnd,"v-date-picker-month__day--week-start":C.isWeekStart}],"data-v-date":C.isDisabled?void 0:C.isoDate},[(e.showAdjacentMonths||!C.isAdjacent)&&f(ze,{defaults:{VBtn:{class:"v-date-picker-month__day-btn",color:(C.isSelected||C.isToday)&&!C.isDisabled?e.color:void 0,disabled:C.isDisabled,icon:!0,ripple:!1,text:C.localized,variant:C.isDisabled?C.isToday?"outlined":"text":C.isToday&&!C.isSelected?"outlined":"flat",onClick:()=>y(C.date)}}},{default:()=>{var V;return[((V=i.day)==null?void 0:V.call(i,A))??f(Ke,A.props,null)]}})])})])]}})])}}),VA=z({color:String,height:[String,Number],min:null,max:null,modelValue:Number,year:Number},"VDatePickerMonths"),jv=te()({name:"VDatePickerMonths",props:VA(),emits:{"update:modelValue":e=>!0},setup(e,t){let{emit:n,slots:i}=t;const r=Gn(),s=Re(e,"modelValue"),o=k(()=>{let a=r.startOfYear(r.date());return e.year&&(a=r.setYear(a,e.year)),ci(12).map(l=>{const u=r.format(a,"monthShort"),c=!!(e.min&&r.isAfter(r.startOfMonth(r.date(e.min)),a)||e.max&&r.isAfter(a,r.startOfMonth(r.date(e.max))));return a=r.getNextMonth(a),{isDisabled:c,text:u,value:l}})});return Gt(()=>{s.value=s.value??r.getMonth(r.date())}),se(()=>f("div",{class:"v-date-picker-months",style:{height:Se(e.height)}},[f("div",{class:"v-date-picker-months__content"},[o.value.map((a,l)=>{var d;const u={active:s.value===l,color:s.value===l?e.color:void 0,disabled:a.isDisabled,rounded:!0,text:a.text,variant:s.value===a.value?"flat":"text",onClick:()=>c(l)};function c(h){if(s.value===h){n("update:modelValue",s.value);return}s.value=h}return((d=i.month)==null?void 0:d.call(i,{month:a,i:l,props:u}))??f(Ke,J({key:"month"},u),null)})])])),{}}}),DA=z({color:String,height:[String,Number],min:null,max:null,modelValue:Number},"VDatePickerYears"),Wv=te()({name:"VDatePickerYears",props:DA(),emits:{"update:modelValue":e=>!0},setup(e,t){let{emit:n,slots:i}=t;const r=Gn(),s=Re(e,"modelValue"),o=k(()=>{const l=r.getYear(r.date());let u=l-100,c=l+52;e.min&&(u=r.getYear(r.date(e.min))),e.max&&(c=r.getYear(r.date(e.max)));let d=r.startOfYear(r.date());return d=r.setYear(d,u),ci(c-u+1,u).map(h=>{const v=r.format(d,"year");return d=r.setYear(d,r.getYear(d)+1),{text:v,value:h}})});Gt(()=>{s.value=s.value??r.getYear(r.date())});const a=Bd();return dt(async()=>{var l;await tt(),(l=a.el)==null||l.scrollIntoView({block:"center"})}),se(()=>f("div",{class:"v-date-picker-years",style:{height:Se(e.height)}},[f("div",{class:"v-date-picker-years__content"},[o.value.map((l,u)=>{var d;const c={ref:s.value===l.value?a:void 0,active:s.value===l.value,color:s.value===l.value?e.color:void 0,rounded:!0,text:l.text,variant:s.value===l.value?"flat":"text",onClick:()=>{if(s.value===l.value){n("update:modelValue",s.value);return}s.value=l.value}};return((d=i.year)==null?void 0:d.call(i,{year:l,i:u,props:c}))??f(Ke,J({key:"month"},c),null)})])])),{}}}),NA=mr("v-picker-title"),Sy=z({bgColor:String,landscape:Boolean,title:String,hideHeader:Boolean,...rh()},"VPicker"),Mu=te()({name:"VPicker",props:Sy(),setup(e,t){let{slots:n}=t;const{backgroundColorClasses:i,backgroundColorStyles:r}=wt(ee(e,"color"));return se(()=>{const s=As.filterProps(e),o=!!(e.title||n.title);return f(As,J(s,{color:e.bgColor,class:["v-picker",{"v-picker--landscape":e.landscape,"v-picker--with-actions":!!n.actions},e.class],style:e.style}),{default:()=>{var a;return[!e.hideHeader&&f("div",{key:"header",class:[i.value],style:[r.value]},[o&&f(NA,{key:"picker-title"},{default:()=>{var l;return[((l=n.title)==null?void 0:l.call(n))??e.title]}}),n.header&&f("div",{class:"v-picker__header"},[n.header()])]),f("div",{class:"v-picker__body"},[(a=n.default)==null?void 0:a.call(n)]),n.actions&&f(ze,{defaults:{VBtn:{slim:!0,variant:"text"}}},{default:()=>[f("div",{class:"v-picker__actions"},[n.actions()])]})]}})}),{}}}),OA=z({header:{type:String,default:"$vuetify.datePicker.header"},...AA(),...RA({weeksInMonth:"static"}),...pt(VA(),["modelValue"]),...pt(DA(),["modelValue"]),...Sy({title:"$vuetify.datePicker.title"}),modelValue:null},"VDatePicker"),zv=te()({name:"VDatePicker",props:OA(),emits:{"update:modelValue":e=>!0,"update:month":e=>!0,"update:year":e=>!0,"update:viewMode":e=>!0},setup(e,t){let{emit:n,slots:i}=t;const r=Gn(),{t:s}=At(),o=Re(e,"modelValue",void 0,_=>Dt(_),_=>e.multiple?_:_[0]),a=Re(e,"viewMode"),l=k(()=>{var E;const _=r.date((E=o.value)==null?void 0:E[0]);return _&&r.isValid(_)?_:r.date()}),u=j(Number(e.month??r.getMonth(r.startOfMonth(l.value)))),c=j(Number(e.year??r.getYear(r.startOfYear(r.setMonth(l.value,u.value))))),d=ye(!1),h=k(()=>e.multiple&&o.value.length>1?s("$vuetify.datePicker.itemsSelected",o.value.length):o.value[0]&&r.isValid(o.value[0])?r.format(r.date(o.value[0]),"normalDateWithWeekday"):s(e.header)),v=k(()=>{let _=r.date();return _=r.setDate(_,1),_=r.setMonth(_,u.value),_=r.setYear(_,c.value),r.format(_,"monthAndYear")}),g=k(()=>`date-picker-header${d.value?"-reverse":""}-transition`),p=k(()=>{const _=r.date(e.min);return e.min&&r.isValid(_)?_:null}),y=k(()=>{const _=r.date(e.max);return e.max&&r.isValid(_)?_:null}),w=k(()=>{if(e.disabled)return!0;const _=[];if(a.value!=="month")_.push("prev","next");else{let E=r.date();if(E=r.setYear(E,c.value),E=r.setMonth(E,u.value),p.value){const P=r.addDays(r.startOfMonth(E),-1);r.isAfter(p.value,P)&&_.push("prev")}if(y.value){const P=r.addDays(r.endOfMonth(E),1);r.isAfter(P,y.value)&&_.push("next")}}return _});function C(){u.value<11?u.value++:(c.value++,u.value=0,b(c.value)),T(u.value)}function x(){u.value>0?u.value--:(c.value--,u.value=11,b(c.value)),T(u.value)}function A(){a.value="month"}function V(){a.value=a.value==="months"?"month":"months"}function N(){a.value=a.value==="year"?"month":"year"}function T(_){a.value==="months"&&V(),n("update:month",_)}function b(_){a.value==="year"&&N(),n("update:year",_)}return he(o,(_,E)=>{const P=Dt(E),I=Dt(_);if(!I.length)return;const R=r.date(P[P.length-1]),H=r.date(I[I.length-1]),q=r.getMonth(H),W=r.getYear(H);q!==u.value&&(u.value=q,T(u.value)),W!==c.value&&(c.value=W,b(c.value)),d.value=r.isBefore(R,H)}),se(()=>{const _=Mu.filterProps(e),E=$v.filterProps(e),P=Uv.filterProps(e),I=Hv.filterProps(e),R=pt(jv.filterProps(e),["modelValue"]),H=pt(Wv.filterProps(e),["modelValue"]),q={header:h.value,transition:g.value};return f(Mu,J(_,{class:["v-date-picker",`v-date-picker--${a.value}`,{"v-date-picker--show-week":e.showWeek},e.class],style:e.style}),{title:()=>{var W;return((W=i.title)==null?void 0:W.call(i))??f("div",{class:"v-date-picker__title"},[s(e.title)])},header:()=>i.header?f(ze,{defaults:{VDatePickerHeader:{...q}}},{default:()=>{var W;return[(W=i.header)==null?void 0:W.call(i,q)]}}):f(Uv,J({key:"header"},P,q,{onClick:a.value!=="month"?A:void 0}),{...i,default:void 0}),default:()=>f(be,null,[f($v,J(E,{disabled:w.value,text:v.value,"onClick:next":C,"onClick:prev":x,"onClick:month":V,"onClick:year":N}),null),f(Au,{hideOnLeave:!0},{default:()=>[a.value==="months"?f(jv,J({key:"date-picker-months"},R,{modelValue:u.value,"onUpdate:modelValue":[W=>u.value=W,T],min:p.value,max:y.value,year:c.value}),null):a.value==="year"?f(Wv,J({key:"date-picker-years"},H,{modelValue:c.value,"onUpdate:modelValue":[W=>c.value=W,b],min:p.value,max:y.value}),null):f(Hv,J({key:"date-picker-month"},I,{modelValue:o.value,"onUpdate:modelValue":W=>o.value=W,month:u.value,"onUpdate:month":[W=>u.value=W,T],year:c.value,"onUpdate:year":[W=>c.value=W,b],min:p.value,max:y.value}),null)]})]),actions:i.actions})}),{}}}),W$=z({actionText:String,bgColor:String,color:String,icon:Be,image:String,justify:{type:String,default:"center"},headline:String,title:String,text:String,textWidth:{type:[Number,String],default:500},href:String,to:String,...Ee(),...Jt(),...vr({size:void 0}),...nt()},"VEmptyState"),z$=te()({name:"VEmptyState",props:W$(),emits:{"click:action":e=>!0},setup(e,t){let{emit:n,slots:i}=t;const{themeClasses:r}=ft(e),{backgroundColorClasses:s,backgroundColorStyles:o}=wt(ee(e,"bgColor")),{dimensionStyles:a}=Zt(e),{displayClasses:l}=pi();function u(c){n("click:action",c)}return se(()=>{var y,w,C;const c=!!(i.actions||e.actionText),d=!!(i.headline||e.headline),h=!!(i.title||e.title),v=!!(i.text||e.text),g=!!(i.media||e.image||e.icon),p=e.size||(e.image?200:96);return f("div",{class:["v-empty-state",{[`v-empty-state--${e.justify}`]:!0},r.value,s.value,l.value,e.class],style:[o.value,a.value,e.style]},[g&&f("div",{key:"media",class:"v-empty-state__media"},[i.media?f(ze,{key:"media-defaults",defaults:{VImg:{src:e.image,height:p},VIcon:{size:p,icon:e.icon}}},{default:()=>[i.media()]}):f(be,null,[e.image?f(Fr,{key:"image",src:e.image,height:p},null):e.icon?f(st,{key:"icon",color:e.color,size:p,icon:e.icon},null):void 0])]),d&&f("div",{key:"headline",class:"v-empty-state__headline"},[((y=i.headline)==null?void 0:y.call(i))??e.headline]),h&&f("div",{key:"title",class:"v-empty-state__title"},[((w=i.title)==null?void 0:w.call(i))??e.title]),v&&f("div",{key:"text",class:"v-empty-state__text",style:{maxWidth:Se(e.textWidth)}},[((C=i.text)==null?void 0:C.call(i))??e.text]),i.default&&f("div",{key:"content",class:"v-empty-state__content"},[i.default()]),c&&f("div",{key:"actions",class:"v-empty-state__actions"},[f(ze,{defaults:{VBtn:{class:"v-empty-state__action-btn",color:e.color??"surface-variant",text:e.actionText}}},{default:()=>{var x;return[((x=i.actions)==null?void 0:x.call(i,{props:{onClick:u}}))??f(Ke,{onClick:u},null)]}})])])}),{}}}),Lu=Symbol.for("vuetify:v-expansion-panel"),MA=z({...Ee(),...ey()},"VExpansionPanelText"),qv=te()({name:"VExpansionPanelText",props:MA(),setup(e,t){let{slots:n}=t;const i=He(Lu);if(!i)throw new Error("[Vuetify] v-expansion-panel-text needs to be placed inside v-expansion-panel");const{hasContent:r,onAfterLeave:s}=ty(e,i.isSelected);return se(()=>f(Kf,{onAfterLeave:s},{default:()=>{var o;return[Ht(f("div",{class:["v-expansion-panel-text",e.class],style:e.style},[n.default&&r.value&&f("div",{class:"v-expansion-panel-text__wrapper"},[(o=n.default)==null?void 0:o.call(n)])]),[[Gi,i.isSelected.value]])]}})),{}}}),LA=z({color:String,expandIcon:{type:Be,default:"$expand"},collapseIcon:{type:Be,default:"$collapse"},hideActions:Boolean,focusable:Boolean,static:Boolean,ripple:{type:[Boolean,Object],default:!1},readonly:Boolean,...Ee(),...Jt()},"VExpansionPanelTitle"),Gv=te()({name:"VExpansionPanelTitle",directives:{Ripple:Gr},props:LA(),setup(e,t){let{slots:n}=t;const i=He(Lu);if(!i)throw new Error("[Vuetify] v-expansion-panel-title needs to be placed inside v-expansion-panel");const{backgroundColorClasses:r,backgroundColorStyles:s}=wt(e,"color"),{dimensionStyles:o}=Zt(e),a=k(()=>({collapseIcon:e.collapseIcon,disabled:i.disabled.value,expanded:i.isSelected.value,expandIcon:e.expandIcon,readonly:e.readonly})),l=k(()=>i.isSelected.value?e.collapseIcon:e.expandIcon);return se(()=>{var u;return Ht(f("button",{class:["v-expansion-panel-title",{"v-expansion-panel-title--active":i.isSelected.value,"v-expansion-panel-title--focusable":e.focusable,"v-expansion-panel-title--static":e.static},r.value,e.class],style:[s.value,o.value,e.style],type:"button",tabindex:i.disabled.value?-1:void 0,disabled:i.disabled.value,"aria-expanded":i.isSelected.value,onClick:e.readonly?void 0:i.toggle},[f("span",{class:"v-expansion-panel-title__overlay"},null),(u=n.default)==null?void 0:u.call(n,a.value),!e.hideActions&&f(ze,{defaults:{VIcon:{icon:l.value}}},{default:()=>{var c;return[f("span",{class:"v-expansion-panel-title__icon"},[((c=n.actions)==null?void 0:c.call(n,a.value))??f(st,null,null)])]}})]),[[vi("ripple"),e.ripple]])}),{}}}),Cy=z({title:String,text:String,bgColor:String,...on(),...Uo(),...Mt(),...Ge(),...LA(),...MA()},"VExpansionPanel"),Kv=te()({name:"VExpansionPanel",props:Cy(),emits:{"group:selected":e=>!0},setup(e,t){let{slots:n}=t;const i=Ho(e,Lu),{backgroundColorClasses:r,backgroundColorStyles:s}=wt(e,"bgColor"),{elevationClasses:o}=Cn(e),{roundedClasses:a}=qt(e),l=k(()=>(i==null?void 0:i.disabled.value)||e.disabled),u=k(()=>i.group.items.value.reduce((h,v,g)=>(i.group.selected.value.includes(v.id)&&h.push(g),h),[])),c=k(()=>{const h=i.group.items.value.findIndex(v=>v.id===i.id);return!i.isSelected.value&&u.value.some(v=>v-h===1)}),d=k(()=>{const h=i.group.items.value.findIndex(v=>v.id===i.id);return!i.isSelected.value&&u.value.some(v=>v-h===-1)});return bt(Lu,i),se(()=>{const h=!!(n.text||e.text),v=!!(n.title||e.title),g=Gv.filterProps(e),p=qv.filterProps(e);return f(e.tag,{class:["v-expansion-panel",{"v-expansion-panel--active":i.isSelected.value,"v-expansion-panel--before-active":c.value,"v-expansion-panel--after-active":d.value,"v-expansion-panel--disabled":l.value},a.value,r.value,e.class],style:[s.value,e.style]},{default:()=>[f("div",{class:["v-expansion-panel__shadow",...o.value]},null),f(ze,{defaults:{VExpansionPanelTitle:{...g},VExpansionPanelText:{...p}}},{default:()=>{var y;return[v&&f(Gv,{key:"title"},{default:()=>[n.title?n.title():e.title]}),h&&f(qv,{key:"text"},{default:()=>[n.text?n.text():e.text]}),(y=n.default)==null?void 0:y.call(n)]}})]})}),{groupItem:i}}}),q$=["default","accordion","inset","popout"],FA=z({flat:Boolean,...$o(),...Ap(Cy(),["bgColor","collapseIcon","color","eager","elevation","expandIcon","focusable","hideActions","readonly","ripple","rounded","tile","static"]),...nt(),...Ee(),...Ge(),variant:{type:String,default:"default",validator:e=>q$.includes(e)}},"VExpansionPanels"),Yv=te()({name:"VExpansionPanels",props:FA(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const{next:i,prev:r}=$s(e,Lu),{themeClasses:s}=ft(e),o=k(()=>e.variant&&`v-expansion-panels--variant-${e.variant}`);return Ot({VExpansionPanel:{bgColor:ee(e,"bgColor"),collapseIcon:ee(e,"collapseIcon"),color:ee(e,"color"),eager:ee(e,"eager"),elevation:ee(e,"elevation"),expandIcon:ee(e,"expandIcon"),focusable:ee(e,"focusable"),hideActions:ee(e,"hideActions"),readonly:ee(e,"readonly"),ripple:ee(e,"ripple"),rounded:ee(e,"rounded"),static:ee(e,"static")}}),se(()=>f(e.tag,{class:["v-expansion-panels",{"v-expansion-panels--flat":e.flat,"v-expansion-panels--tile":e.tile},s.value,o.value,e.class],style:e.style},{default:()=>{var a;return[(a=n.default)==null?void 0:a.call(n,{prev:r,next:i})]}})),{next:i,prev:r}}}),G$=z({app:Boolean,appear:Boolean,extended:Boolean,layout:Boolean,offset:Boolean,modelValue:{type:Boolean,default:!0},...pt(Jf({active:!0}),["location"]),...Mo(),...qr(),...Ki({transition:"fab-transition"})},"VFab"),K$=te()({name:"VFab",props:G$(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const i=Re(e,"modelValue"),r=ye(56),s=j(),{resizeRef:o}=Bi(d=>{d.length&&(r.value=d[0].target.clientHeight)}),a=k(()=>e.app||e.absolute),l=k(()=>{var d;return a.value?((d=e.location)==null?void 0:d.split(" ").shift())??"bottom":!1}),u=k(()=>{var d;return a.value?((d=e.location)==null?void 0:d.split(" ")[1])??"end":!1});ti(()=>e.app,()=>{const d=Lo({id:e.name,order:k(()=>parseInt(e.order,10)),position:l,layoutSize:k(()=>e.layout?r.value+24:0),elementSize:k(()=>r.value+24),active:k(()=>e.app&&i.value),absolute:ee(e,"absolute")});Gt(()=>{s.value=d.layoutItemStyles.value})});const c=j();return se(()=>{const d=Ke.filterProps(e);return f("div",{ref:c,class:["v-fab",{"v-fab--absolute":e.absolute,"v-fab--app":!!e.app,"v-fab--extended":e.extended,"v-fab--offset":e.offset,[`v-fab--${l.value}`]:a.value,[`v-fab--${u.value}`]:a.value},e.class],style:[e.app?{...s.value}:{height:"inherit",width:void 0},e.style]},[f("div",{class:"v-fab__container"},[f(jn,{appear:e.appear,transition:e.transition},{default:()=>[Ht(f(Ke,J({ref:o},d,{active:void 0,location:void 0}),n),[[Gi,e.active]])]})])])}),{}}}),Y$=z({chips:Boolean,counter:Boolean,counterSizeString:{type:String,default:"$vuetify.fileInput.counterSize"},counterString:{type:String,default:"$vuetify.fileInput.counter"},hideInput:Boolean,multiple:Boolean,showSize:{type:[Boolean,Number,String],default:!1,validator:e=>typeof e=="boolean"||[1e3,1024].includes(Number(e))},...Kr({prependIcon:"$file"}),modelValue:{type:[Array,Object],default:e=>e.multiple?[]:null,validator:e=>Dt(e).every(t=>t!=null&&typeof t=="object")},...cc({clearable:!0})},"VFileInput"),Q$=te()({name:"VFileInput",inheritAttrs:!1,props:Y$(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,t){let{attrs:n,emit:i,slots:r}=t;const{t:s}=At(),o=Re(e,"modelValue",e.modelValue,_=>Dt(_),_=>!e.multiple&&Array.isArray(_)?_[0]:_),{isFocused:a,focus:l,blur:u}=gr(e),c=k(()=>typeof e.showSize!="boolean"?e.showSize:void 0),d=k(()=>(o.value??[]).reduce((_,E)=>{let{size:P=0}=E;return _+P},0)),h=k(()=>Bw(d.value,c.value)),v=k(()=>(o.value??[]).map(_=>{const{name:E="",size:P=0}=_;return e.showSize?`${E} (${Bw(P,c.value)})`:E})),g=k(()=>{var E;const _=((E=o.value)==null?void 0:E.length)??0;return e.showSize?s(e.counterSizeString,_,h.value):s(e.counterString,_)}),p=j(),y=j(),w=j(),C=k(()=>a.value||e.active),x=k(()=>["plain","underlined"].includes(e.variant));function A(){var _;w.value!==document.activeElement&&((_=w.value)==null||_.focus()),a.value||l()}function V(_){var E;(E=w.value)==null||E.click()}function N(_){i("mousedown:control",_)}function T(_){var E;(E=w.value)==null||E.click(),i("click:control",_)}function b(_){_.stopPropagation(),A(),tt(()=>{o.value=[],xp(e["onClick:clear"],_)})}return he(o,_=>{(!Array.isArray(_)||!_.length)&&w.value&&(w.value.value="")}),se(()=>{const _=!!(r.counter||e.counter),E=!!(_||r.details),[P,I]=Fs(n),{modelValue:R,...H}=Pn.filterProps(e),q=ny(e);return f(Pn,J({ref:p,modelValue:o.value,"onUpdate:modelValue":W=>o.value=W,class:["v-file-input",{"v-file-input--chips":!!e.chips,"v-file-input--hide":e.hideInput,"v-input--plain-underlined":x.value},e.class],style:e.style,"onClick:prepend":V},P,H,{centerAffix:!x.value,focused:a.value}),{...r,default:W=>{let{id:X,isDisabled:U,isDirty:B,isReadonly:$,isValid:Y}=W;return f(il,J({ref:y,"prepend-icon":e.prependIcon,onMousedown:N,onClick:T,"onClick:clear":b,"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"]},q,{id:X.value,active:C.value||B.value,dirty:B.value||e.dirty,disabled:U.value,focused:a.value,error:Y.value===!1}),{...r,default:re=>{var Ie;let{props:{class:de,...we}}=re;return f(be,null,[f("input",J({ref:w,type:"file",readonly:$.value,disabled:U.value,multiple:e.multiple,name:e.name,onClick:oe=>{oe.stopPropagation(),$.value&&oe.preventDefault(),A()},onChange:oe=>{if(!oe.target)return;const Q=oe.target;o.value=[...Q.files??[]]},onFocus:A,onBlur:u},we,I),null),f("div",{class:de},[!!((Ie=o.value)!=null&&Ie.length)&&!e.hideInput&&(r.selection?r.selection({fileNames:v.value,totalBytes:d.value,totalBytesReadable:h.value}):e.chips?v.value.map(oe=>f(Wo,{key:oe,size:"small",text:oe},null)):v.value.join(", "))])])}})},details:E?W=>{var X,U;return f(be,null,[(X=r.details)==null?void 0:X.call(r,W),_&&f(be,null,[f("span",null,null),f(eh,{active:!!((U=o.value)!=null&&U.length),value:g.value,disabled:e.disabled},r.counter)])])}:void 0})}),bi({},p,y,w)}}),X$=z({app:Boolean,color:String,height:{type:[Number,String],default:"auto"},...oi(),...Ee(),...on(),...Mo(),...Mt(),...Ge({tag:"footer"}),...nt()},"VFooter"),J$=te()({name:"VFooter",props:X$(),setup(e,t){let{slots:n}=t;const i=j(),{themeClasses:r}=ft(e),{backgroundColorClasses:s,backgroundColorStyles:o}=wt(ee(e,"color")),{borderClasses:a}=_i(e),{elevationClasses:l}=Cn(e),{roundedClasses:u}=qt(e),c=ye(32),{resizeRef:d}=Bi(v=>{v.length&&(c.value=v[0].target.clientHeight)}),h=k(()=>e.height==="auto"?c.value:parseInt(e.height,10));return ti(()=>e.app,()=>{const v=Lo({id:e.name,order:k(()=>parseInt(e.order,10)),position:k(()=>"bottom"),layoutSize:h,elementSize:k(()=>e.height==="auto"?void 0:h.value),active:k(()=>e.app),absolute:ee(e,"absolute")});Gt(()=>{i.value=v.layoutItemStyles.value})}),se(()=>f(e.tag,{ref:d,class:["v-footer",r.value,s.value,a.value,l.value,u.value,e.class],style:[o.value,e.app?i.value:{height:Se(e.height)},e.style]},n)),{}}}),Z$=z({...Ee(),...S2()},"VForm"),e4=te()({name:"VForm",props:Z$(),emits:{"update:modelValue":e=>!0,submit:e=>!0},setup(e,t){let{slots:n,emit:i}=t;const r=C2(e),s=j();function o(l){l.preventDefault(),r.reset()}function a(l){const u=l,c=r.validate();u.then=c.then.bind(c),u.catch=c.catch.bind(c),u.finally=c.finally.bind(c),i("submit",u),u.defaultPrevented||c.then(d=>{var v;let{valid:h}=d;h&&((v=s.value)==null||v.submit())}),u.preventDefault()}return se(()=>{var l;return f("form",{ref:s,class:["v-form",e.class],style:e.style,novalidate:!0,onReset:o,onSubmit:a},[(l=n.default)==null?void 0:l.call(n,r)])}),bi(r,s)}}),t4=z({disabled:Boolean,modelValue:{type:Boolean,default:null},...Jp()},"VHover"),n4=te()({name:"VHover",props:t4(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const i=Re(e,"modelValue"),{runOpenDelay:r,runCloseDelay:s}=Zp(e,o=>!e.disabled&&(i.value=o));return()=>{var o;return(o=n.default)==null?void 0:o.call(n,{isHovering:i.value,props:{onMouseenter:r,onMouseleave:s}})}}}),i4=z({color:String,direction:{type:String,default:"vertical",validator:e=>["vertical","horizontal"].includes(e)},side:{type:String,default:"end",validator:e=>["start","end","both"].includes(e)},mode:{type:String,default:"intersect",validator:e=>["intersect","manual"].includes(e)},margin:[Number,String],loadMoreText:{type:String,default:"$vuetify.infiniteScroll.loadMore"},emptyText:{type:String,default:"$vuetify.infiniteScroll.empty"},...Jt(),...Ge()},"VInfiniteScroll"),TS=gi({name:"VInfiniteScrollIntersect",props:{side:{type:String,required:!0},rootMargin:String},emits:{intersect:(e,t)=>!0},setup(e,t){let{emit:n}=t;const{intersectionRef:i,isIntersecting:r}=Yf();return he(r,async s=>{n("intersect",e.side,s)}),se(()=>f("div",{class:"v-infinite-scroll-intersect",style:{"--v-infinite-margin-size":e.rootMargin},ref:i},[Ve("")])),{}}}),r4=te()({name:"VInfiniteScroll",props:i4(),emits:{load:e=>!0},setup(e,t){let{slots:n,emit:i}=t;const r=j(),s=ye("ok"),o=ye("ok"),a=k(()=>Se(e.margin)),l=ye(!1);function u(V){if(!r.value)return;const N=e.direction==="vertical"?"scrollTop":"scrollLeft";r.value[N]=V}function c(){if(!r.value)return 0;const V=e.direction==="vertical"?"scrollTop":"scrollLeft";return r.value[V]}function d(){if(!r.value)return 0;const V=e.direction==="vertical"?"scrollHeight":"scrollWidth";return r.value[V]}function h(){if(!r.value)return 0;const V=e.direction==="vertical"?"clientHeight":"clientWidth";return r.value[V]}dt(()=>{r.value&&(e.side==="start"?u(d()):e.side==="both"&&u(d()/2-h()/2))});function v(V,N){V==="start"?s.value=N:V==="end"&&(o.value=N)}function g(V){return V==="start"?s.value:o.value}let p=0;function y(V,N){l.value=N,l.value&&w(V)}function w(V){if(e.mode!=="manual"&&!l.value)return;const N=g(V);if(!r.value||["empty","loading"].includes(N))return;p=d(),v(V,"loading");function T(b){v(V,b),tt(()=>{b==="empty"||b==="error"||(b==="ok"&&V==="start"&&u(d()-p+c()),e.mode!=="manual"&&tt(()=>{window.requestAnimationFrame(()=>{window.requestAnimationFrame(()=>{window.requestAnimationFrame(()=>{w(V)})})})}))})}i("load",{side:V,done:T})}const{t:C}=At();function x(V,N){var _,E,P,I,R;if(e.side!==V&&e.side!=="both")return;const T=()=>w(V),b={side:V,props:{onClick:T,color:e.color}};return N==="error"?(_=n.error)==null?void 0:_.call(n,b):N==="empty"?((E=n.empty)==null?void 0:E.call(n,b))??f("div",null,[C(e.emptyText)]):e.mode==="manual"?N==="loading"?((P=n.loading)==null?void 0:P.call(n,b))??f(Es,{indeterminate:!0,color:e.color},null):((I=n["load-more"])==null?void 0:I.call(n,b))??f(Ke,{variant:"outlined",color:e.color,onClick:T},{default:()=>[C(e.loadMoreText)]}):((R=n.loading)==null?void 0:R.call(n,b))??f(Es,{indeterminate:!0,color:e.color},null)}const{dimensionStyles:A}=Zt(e);se(()=>{const V=e.tag,N=e.side==="start"||e.side==="both",T=e.side==="end"||e.side==="both",b=e.mode==="intersect";return f(V,{ref:r,class:["v-infinite-scroll",`v-infinite-scroll--${e.direction}`,{"v-infinite-scroll--start":N,"v-infinite-scroll--end":T}],style:A.value},{default:()=>{var _;return[f("div",{class:"v-infinite-scroll__side"},[x("start",s.value)]),N&&b&&f(TS,{key:"start",side:"start",onIntersect:y,rootMargin:a.value},null),(_=n.default)==null?void 0:_.call(n),T&&b&&f(TS,{key:"end",side:"end",onIntersect:y,rootMargin:a.value},null),f("div",{class:"v-infinite-scroll__side"},[x("end",o.value)])]}})})}}),BA=Symbol.for("vuetify:v-item-group"),s4=z({...Ee(),...$o({selectedClass:"v-item--selected"}),...Ge(),...nt()},"VItemGroup"),o4=te()({name:"VItemGroup",props:s4(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const{themeClasses:i}=ft(e),{isSelected:r,select:s,next:o,prev:a,selected:l}=$s(e,BA);return()=>f(e.tag,{class:["v-item-group",i.value,e.class],style:e.style},{default:()=>{var u;return[(u=n.default)==null?void 0:u.call(n,{isSelected:r,select:s,next:o,prev:a,selected:l.value})]}})}}),a4=te()({name:"VItem",props:Uo(),emits:{"group:selected":e=>!0},setup(e,t){let{slots:n}=t;const{isSelected:i,select:r,toggle:s,selectedClass:o,value:a,disabled:l}=Ho(e,BA);return()=>{var u;return(u=n.default)==null?void 0:u.call(n,{isSelected:i.value,selectedClass:o.value,select:r,toggle:s,value:a.value,disabled:l.value})}}}),l4=mr("v-kbd"),u4=z({...Ee(),...Jt(),...yE()},"VLayout"),c4=te()({name:"VLayout",props:u4(),setup(e,t){let{slots:n}=t;const{layoutClasses:i,layoutStyles:r,getLayoutItem:s,items:o,layoutRef:a}=bE(e),{dimensionStyles:l}=Zt(e);return se(()=>{var u;return f("div",{ref:a,class:[i.value,e.class],style:[l.value,r.value,e.style]},[(u=n.default)==null?void 0:u.call(n)])}),{getLayoutItem:s,items:o}}}),d4=z({position:{type:String,required:!0},size:{type:[Number,String],default:300},modelValue:Boolean,...Ee(),...Mo()},"VLayoutItem"),f4=te()({name:"VLayoutItem",props:d4(),setup(e,t){let{slots:n}=t;const{layoutItemStyles:i}=Lo({id:e.name,order:k(()=>parseInt(e.order,10)),position:ee(e,"position"),elementSize:ee(e,"size"),layoutSize:ee(e,"size"),active:ee(e,"modelValue"),absolute:ee(e,"absolute")});return()=>{var r;return f("div",{class:["v-layout-item",e.class],style:[i.value,e.style]},[(r=n.default)==null?void 0:r.call(n)])}}}),h4=z({modelValue:Boolean,options:{type:Object,default:()=>({root:void 0,rootMargin:void 0,threshold:void 0})},...Ee(),...Jt(),...Ge(),...Ki({transition:"fade-transition"})},"VLazy"),m4=te()({name:"VLazy",directives:{intersect:rc},props:h4(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const{dimensionStyles:i}=Zt(e),r=Re(e,"modelValue");function s(o){r.value||(r.value=o)}return se(()=>Ht(f(e.tag,{class:["v-lazy",e.class],style:[i.value,e.style]},{default:()=>[r.value&&f(jn,{transition:e.transition,appear:!0},{default:()=>{var o;return[(o=n.default)==null?void 0:o.call(n)]}})]}),[[vi("intersect"),{handler:s,options:e.options},null]])),{}}}),v4=z({locale:String,fallbackLocale:String,messages:Object,rtl:{type:Boolean,default:void 0},...Ee()},"VLocaleProvider"),g4=te()({name:"VLocaleProvider",props:v4(),setup(e,t){let{slots:n}=t;const{rtlClasses:i}=gM(e);return se(()=>{var r;return f("div",{class:["v-locale-provider",i.value,e.class],style:e.style},[(r=n.default)==null?void 0:r.call(n)])}),{}}}),p4=z({scrollable:Boolean,...Ee(),...Jt(),...Ge({tag:"main"})},"VMain"),y4=te()({name:"VMain",props:p4(),setup(e,t){let{slots:n}=t;const{dimensionStyles:i}=Zt(e),{mainStyles:r}=_E(),{ssrBootStyles:s}=Fo();return se(()=>f(e.tag,{class:["v-main",{"v-main--scrollable":e.scrollable},e.class],style:[r.value,s.value,i.value,e.style]},{default:()=>{var o,a;return[e.scrollable?f("div",{class:"v-main__scroller"},[(o=n.default)==null?void 0:o.call(n)]):(a=n.default)==null?void 0:a.call(n)]}})),{}}});function _4(e){let{rootEl:t,isSticky:n,layoutItemStyles:i}=e;const r=ye(!1),s=ye(0),o=k(()=>{const u=typeof r.value=="boolean"?"top":r.value;return[n.value?{top:"auto",bottom:"auto",height:void 0}:void 0,r.value?{[u]:Se(s.value)}:{top:i.value.top}]});dt(()=>{he(n,u=>{u?window.addEventListener("scroll",l,{passive:!0}):window.removeEventListener("scroll",l)},{immediate:!0})}),wn(()=>{window.removeEventListener("scroll",l)});let a=0;function l(){const u=a>window.scrollY?"up":"down",c=t.value.getBoundingClientRect(),d=parseFloat(i.value.top??0),h=window.scrollY-Math.max(0,s.value-d),v=c.height+Math.max(s.value,d)-window.scrollY-window.innerHeight,g=parseFloat(getComputedStyle(t.value).getPropertyValue("--v-body-scroll-y"))||0;c.height<window.innerHeight-d?(r.value="top",s.value=d):u==="up"&&r.value==="bottom"||u==="down"&&r.value==="top"?(s.value=window.scrollY+c.top-g,r.value=!0):u==="down"&&v<=0?(s.value=0,r.value="bottom"):u==="up"&&h<=0&&(g?r.value!=="top"&&(s.value=-h+g+d,r.value="top"):(s.value=c.top+h,r.value="top")),a=window.scrollY}return{isStuck:r,stickyStyles:o}}const b4=100,w4=20;function AS(e){return(e<0?-1:1)*Math.sqrt(Math.abs(e))*1.41421356237}function PS(e){if(e.length<2)return 0;if(e.length===2)return e[1].t===e[0].t?0:(e[1].d-e[0].d)/(e[1].t-e[0].t);let t=0;for(let n=e.length-1;n>0;n--){if(e[n].t===e[n-1].t)continue;const i=AS(t),r=(e[n].d-e[n-1].d)/(e[n].t-e[n-1].t);t+=(r-i)*Math.abs(r),n===e.length-1&&(t*=.5)}return AS(t)*1e3}function S4(){const e={};function t(r){Array.from(r.changedTouches).forEach(s=>{(e[s.identifier]??(e[s.identifier]=new xO(w4))).push([r.timeStamp,s])})}function n(r){Array.from(r.changedTouches).forEach(s=>{delete e[s.identifier]})}function i(r){var u;const s=(u=e[r])==null?void 0:u.values().reverse();if(!s)throw new Error(`No samples for touch id ${r}`);const o=s[0],a=[],l=[];for(const c of s){if(o[0]-c[0]>b4)break;a.push({t:c[0],d:c[1].clientX}),l.push({t:c[0],d:c[1].clientY})}return{x:PS(a),y:PS(l),get direction(){const{x:c,y:d}=this,[h,v]=[Math.abs(c),Math.abs(d)];return h>v&&c>=0?"right":h>v&&c<=0?"left":v>h&&d>=0?"down":v>h&&d<=0?"up":C4()}}}return{addMovement:t,endTouch:n,getVelocity:i}}function C4(){throw new Error}function I4(e){let{el:t,isActive:n,isTemporary:i,width:r,touchless:s,position:o}=e;dt(()=>{window.addEventListener("touchstart",C,{passive:!0}),window.addEventListener("touchmove",x,{passive:!1}),window.addEventListener("touchend",A,{passive:!0})}),wn(()=>{window.removeEventListener("touchstart",C),window.removeEventListener("touchmove",x),window.removeEventListener("touchend",A)});const a=k(()=>["left","right"].includes(o.value)),{addMovement:l,endTouch:u,getVelocity:c}=S4();let d=!1;const h=ye(!1),v=ye(0),g=ye(0);let p;function y(N,T){return(o.value==="left"?N:o.value==="right"?document.documentElement.clientWidth-N:o.value==="top"?N:o.value==="bottom"?document.documentElement.clientHeight-N:ua())-(T?r.value:0)}function w(N){let T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const b=o.value==="left"?(N-g.value)/r.value:o.value==="right"?(document.documentElement.clientWidth-N-g.value)/r.value:o.value==="top"?(N-g.value)/r.value:o.value==="bottom"?(document.documentElement.clientHeight-N-g.value)/r.value:ua();return T?Math.max(0,Math.min(1,b)):b}function C(N){if(s.value)return;const T=N.changedTouches[0].clientX,b=N.changedTouches[0].clientY,_=25,E=o.value==="left"?T<_:o.value==="right"?T>document.documentElement.clientWidth-_:o.value==="top"?b<_:o.value==="bottom"?b>document.documentElement.clientHeight-_:ua(),P=n.value&&(o.value==="left"?T<r.value:o.value==="right"?T>document.documentElement.clientWidth-r.value:o.value==="top"?b<r.value:o.value==="bottom"?b>document.documentElement.clientHeight-r.value:ua());(E||P||n.value&&i.value)&&(p=[T,b],g.value=y(a.value?T:b,n.value),v.value=w(a.value?T:b),d=g.value>-20&&g.value<80,u(N),l(N))}function x(N){const T=N.changedTouches[0].clientX,b=N.changedTouches[0].clientY;if(d){if(!N.cancelable){d=!1;return}const E=Math.abs(T-p[0]),P=Math.abs(b-p[1]);(a.value?E>P&&E>3:P>E&&P>3)?(h.value=!0,d=!1):(a.value?P:E)>3&&(d=!1)}if(!h.value)return;N.preventDefault(),l(N);const _=w(a.value?T:b,!1);v.value=Math.max(0,Math.min(1,_)),_>1?g.value=y(a.value?T:b,!0):_<0&&(g.value=y(a.value?T:b,!1))}function A(N){if(d=!1,!h.value)return;l(N),h.value=!1;const T=c(N.changedTouches[0].identifier),b=Math.abs(T.x),_=Math.abs(T.y);(a.value?b>_&&b>400:_>b&&_>3)?n.value=T.direction===({left:"right",right:"left",top:"down",bottom:"up"}[o.value]||ua()):n.value=v.value>.5}const V=k(()=>h.value?{transform:o.value==="left"?`translateX(calc(-100% + ${v.value*r.value}px))`:o.value==="right"?`translateX(calc(100% - ${v.value*r.value}px))`:o.value==="top"?`translateY(calc(-100% + ${v.value*r.value}px))`:o.value==="bottom"?`translateY(calc(100% - ${v.value*r.value}px))`:ua(),transition:"none"}:void 0);return ti(h,()=>{var b,_;const N=((b=t.value)==null?void 0:b.style.transform)??null,T=((_=t.value)==null?void 0:_.style.transition)??null;Gt(()=>{var E,P,I,R;(P=t.value)==null||P.style.setProperty("transform",((E=V.value)==null?void 0:E.transform)||"none"),(R=t.value)==null||R.style.setProperty("transition",((I=V.value)==null?void 0:I.transition)||null)}),_n(()=>{var E,P;(E=t.value)==null||E.style.setProperty("transform",N),(P=t.value)==null||P.style.setProperty("transition",T)})}),{isDragging:h,dragProgress:v,dragStyles:V}}function ua(){throw new Error}const k4=["start","end","left","right","top","bottom"],E4=z({color:String,disableResizeWatcher:Boolean,disableRouteWatcher:Boolean,expandOnHover:Boolean,floating:Boolean,modelValue:{type:Boolean,default:null},permanent:Boolean,rail:{type:Boolean,default:null},railWidth:{type:[Number,String],default:56},scrim:{type:[Boolean,String],default:!0},image:String,temporary:Boolean,persistent:Boolean,touchless:Boolean,width:{type:[Number,String],default:256},location:{type:String,default:"start",validator:e=>k4.includes(e)},sticky:Boolean,...oi(),...Ee(),...Jp(),...Oo({mobile:null}),...on(),...Mo(),...Mt(),...Ge({tag:"nav"}),...nt()},"VNavigationDrawer"),T4=te()({name:"VNavigationDrawer",props:E4(),emits:{"update:modelValue":e=>!0,"update:rail":e=>!0},setup(e,t){let{attrs:n,emit:i,slots:r}=t;const{isRtl:s}=sn(),{themeClasses:o}=ft(e),{borderClasses:a}=_i(e),{backgroundColorClasses:l,backgroundColorStyles:u}=wt(ee(e,"color")),{elevationClasses:c}=Cn(e),{displayClasses:d,mobile:h}=pi(e),{roundedClasses:v}=qt(e),g=RE(),p=Re(e,"modelValue",null,Y=>!!Y),{ssrBootStyles:y}=Fo(),{scopeId:w}=zo(),C=j(),x=ye(!1),{runOpenDelay:A,runCloseDelay:V}=Zp(e,Y=>{x.value=Y}),N=k(()=>e.rail&&e.expandOnHover&&x.value?Number(e.width):Number(e.rail?e.railWidth:e.width)),T=k(()=>vv(e.location,s.value)),b=k(()=>e.persistent),_=k(()=>!e.permanent&&(h.value||e.temporary)),E=k(()=>e.sticky&&!_.value&&T.value!=="bottom");ti(()=>e.expandOnHover&&e.rail!=null,()=>{he(x,Y=>i("update:rail",!Y))}),ti(()=>!e.disableResizeWatcher,()=>{he(_,Y=>!e.permanent&&tt(()=>p.value=!Y))}),ti(()=>!e.disableRouteWatcher&&!!g,()=>{he(g.currentRoute,()=>_.value&&(p.value=!1))}),he(()=>e.permanent,Y=>{Y&&(p.value=!0)}),e.modelValue==null&&!_.value&&(p.value=e.permanent||!h.value);const{isDragging:P,dragProgress:I}=I4({el:C,isActive:p,isTemporary:_,width:N,touchless:ee(e,"touchless"),position:T}),R=k(()=>{const Y=_.value?0:e.rail&&e.expandOnHover?Number(e.railWidth):N.value;return P.value?Y*I.value:Y}),H=k(()=>["top","bottom"].includes(e.location)?0:N.value),{layoutItemStyles:q,layoutItemScrimStyles:W}=Lo({id:e.name,order:k(()=>parseInt(e.order,10)),position:T,layoutSize:R,elementSize:H,active:k(()=>p.value||P.value),disableTransitions:k(()=>P.value),absolute:k(()=>e.absolute||E.value&&typeof X.value!="string")}),{isStuck:X,stickyStyles:U}=_4({rootEl:C,isSticky:E,layoutItemStyles:q}),B=wt(k(()=>typeof e.scrim=="string"?e.scrim:null)),$=k(()=>({...P.value?{opacity:I.value*.2,transition:"none"}:void 0,...W.value}));return Ot({VList:{bgColor:"transparent"}}),se(()=>{const Y=r.image||e.image;return f(be,null,[f(e.tag,J({ref:C,onMouseenter:A,onMouseleave:V,class:["v-navigation-drawer",`v-navigation-drawer--${T.value}`,{"v-navigation-drawer--expand-on-hover":e.expandOnHover,"v-navigation-drawer--floating":e.floating,"v-navigation-drawer--is-hovering":x.value,"v-navigation-drawer--rail":e.rail,"v-navigation-drawer--temporary":_.value,"v-navigation-drawer--persistent":b.value,"v-navigation-drawer--active":p.value,"v-navigation-drawer--sticky":E.value},o.value,l.value,a.value,d.value,c.value,v.value,e.class],style:[u.value,q.value,y.value,U.value,e.style,["top","bottom"].includes(T.value)?{height:"auto"}:{}]},w,n),{default:()=>{var re,de,we;return[Y&&f("div",{key:"image",class:"v-navigation-drawer__img"},[r.image?f(ze,{key:"image-defaults",disabled:!e.image,defaults:{VImg:{alt:"",cover:!0,height:"inherit",src:e.image}}},r.image):f(Fr,{key:"image-img",alt:"",cover:!0,height:"inherit",src:e.image},null)]),r.prepend&&f("div",{class:"v-navigation-drawer__prepend"},[(re=r.prepend)==null?void 0:re.call(r)]),f("div",{class:"v-navigation-drawer__content"},[(de=r.default)==null?void 0:de.call(r)]),r.append&&f("div",{class:"v-navigation-drawer__append"},[(we=r.append)==null?void 0:we.call(r)])]}}),f(ks,{name:"fade-transition"},{default:()=>[_.value&&(P.value||p.value)&&!!e.scrim&&f("div",J({class:["v-navigation-drawer__scrim",B.backgroundColorClasses.value],style:[$.value,B.backgroundColorStyles.value],onClick:()=>{b.value||(p.value=!1)}},w),null)]})])}),{isStuck:X}}}),A4=gi({name:"VNoSsr",setup(e,t){let{slots:n}=t;const i=wT();return()=>{var r;return i.value&&((r=n.default)==null?void 0:r.call(n))}}}),P4=z({autofocus:Boolean,divider:String,focusAll:Boolean,label:{type:String,default:"$vuetify.input.otp"},length:{type:[Number,String],default:6},modelValue:{type:[Number,String],default:void 0},placeholder:String,type:{type:String,default:"number"},...Jt(),...nl(),...$f(cc({variant:"outlined"}),["baseColor","bgColor","class","color","disabled","error","loading","rounded","style","theme","variant"])},"VOtpInput"),x4=te()({name:"VOtpInput",props:P4(),emits:{finish:e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,t){let{attrs:n,emit:i,slots:r}=t;const{dimensionStyles:s}=Zt(e),{isFocused:o,focus:a,blur:l}=gr(e),u=Re(e,"modelValue","",b=>b==null?[]:String(b).split(""),b=>b.join("")),{t:c}=At(),d=k(()=>Number(e.length)),h=k(()=>Array(d.value).fill(0)),v=j(-1),g=j(),p=j([]),y=k(()=>p.value[v.value]);function w(){if(T(y.value.value)){y.value.value="";return}const b=u.value.slice(),_=y.value.value;b[v.value]=_;let E=null;v.value>u.value.length?E=u.value.length+1:v.value+1!==d.value&&(E="next"),u.value=b,E&&uo(g.value,E)}function C(b){const _=u.value.slice(),E=v.value;let P=null;["ArrowLeft","ArrowRight","Backspace","Delete"].includes(b.key)&&(b.preventDefault(),b.key==="ArrowLeft"?P="prev":b.key==="ArrowRight"?P="next":["Backspace","Delete"].includes(b.key)&&(_[v.value]="",u.value=_,v.value>0&&b.key==="Backspace"?P="prev":requestAnimationFrame(()=>{var I;(I=p.value[E])==null||I.select()})),requestAnimationFrame(()=>{P!=null&&uo(g.value,P)}))}function x(b,_){var P,I;_.preventDefault(),_.stopPropagation();const E=((P=_==null?void 0:_.clipboardData)==null?void 0:P.getData("Text").slice(0,d.value))??"";T(E)||(u.value=E.split(""),(I=p.value)==null||I[b].blur())}function A(){u.value=[]}function V(b,_){a(),v.value=_}function N(){l(),v.value=-1}function T(b){return e.type==="number"&&/[^0-9]/g.test(b)}return Ot({VField:{color:k(()=>e.color),bgColor:k(()=>e.color),baseColor:k(()=>e.baseColor),disabled:k(()=>e.disabled),error:k(()=>e.error),variant:k(()=>e.variant)}},{scoped:!0}),he(u,b=>{b.length===d.value&&i("finish",b.join(""))},{deep:!0}),he(v,b=>{b<0||tt(()=>{var _;(_=p.value[b])==null||_.select()})}),se(()=>{var E;const[b,_]=Fs(n);return f("div",J({class:["v-otp-input",{"v-otp-input--divided":!!e.divider},e.class],style:[e.style]},b),[f("div",{ref:g,class:"v-otp-input__content",style:[s.value]},[h.value.map((P,I)=>f(be,null,[e.divider&&I!==0&&f("span",{class:"v-otp-input__divider"},[e.divider]),f(il,{focused:o.value&&e.focusAll||v.value===I,key:I},{...r,loader:void 0,default:()=>f("input",{ref:R=>p.value[I]=R,"aria-label":c(e.label,I+1),autofocus:I===0&&e.autofocus,autocomplete:"one-time-code",class:["v-otp-input__field"],disabled:e.disabled,inputmode:e.type==="number"?"numeric":"text",min:e.type==="number"?0:void 0,maxlength:"1",placeholder:e.placeholder,type:e.type==="number"?"text":e.type,value:u.value[I],onInput:w,onFocus:R=>V(R,I),onBlur:N,onKeydown:C,onPaste:R=>x(I,R)},null)})])),f("input",J({class:"v-otp-input-input",type:"hidden"},_,{value:u.value.join("")}),null),f(ar,{contained:!0,"content-class":"v-otp-input__loader","model-value":!!e.loading,persistent:!0},{default:()=>{var P;return[((P=r.loader)==null?void 0:P.call(r))??f(Es,{color:typeof e.loading=="boolean"?void 0:e.loading,indeterminate:!0,size:"24",width:"2"},null)]}}),(E=r.default)==null?void 0:E.call(r)])])}),{blur:()=>{var b;(b=p.value)==null||b.some(_=>_.blur())},focus:()=>{var b;(b=p.value)==null||b[0].focus()},reset:A,isFocused:o}}});function R4(e){return Math.floor(Math.abs(e))*Math.sign(e)}const V4=z({scale:{type:[Number,String],default:.5},...Ee()},"VParallax"),D4=te()({name:"VParallax",props:V4(),setup(e,t){let{slots:n}=t;const{intersectionRef:i,isIntersecting:r}=Yf(),{resizeRef:s,contentRect:o}=Bi(),{height:a}=pi(),l=j();Gt(()=>{var v;i.value=s.value=(v=l.value)==null?void 0:v.$el});let u;he(r,v=>{v?(u=Op(i.value),u=u===document.scrollingElement?document:u,u.addEventListener("scroll",h,{passive:!0}),h()):u.removeEventListener("scroll",h)}),wn(()=>{u==null||u.removeEventListener("scroll",h)}),he(a,h),he(()=>{var v;return(v=o.value)==null?void 0:v.height},h);const c=k(()=>1-Ut(+e.scale));let d=-1;function h(){r.value&&(cancelAnimationFrame(d),d=requestAnimationFrame(()=>{var V;const v=((V=l.value)==null?void 0:V.$el).querySelector(".v-img__img");if(!v)return;const g=u instanceof Document?document.documentElement.clientHeight:u.clientHeight,p=u instanceof Document?window.scrollY:u.scrollTop,y=i.value.getBoundingClientRect().top+p,w=o.value.height,C=y+(w-g)/2,x=R4((p-C)*c.value),A=Math.max(1,(c.value*(g-w)+w)/w);v.style.setProperty("transform",`translateY(${x}px) scale(${A})`)}))}return se(()=>f(Fr,{class:["v-parallax",{"v-parallax--active":r.value},e.class],style:e.style,ref:l,cover:!0,onLoadstart:h,onLoad:h},n)),{}}}),N4=z({...Zf({falseIcon:"$radioOff",trueIcon:"$radioOn"})},"VRadio"),O4=te()({name:"VRadio",props:N4(),setup(e,t){let{slots:n}=t;return se(()=>{const i=Ts.filterProps(e);return f(Ts,J(i,{class:["v-radio",e.class],style:e.style,type:"radio"}),n)}),{}}}),M4=z({height:{type:[Number,String],default:"auto"},...Kr(),...pt(Gp(),["multiple"]),trueIcon:{type:Be,default:"$radioOn"},falseIcon:{type:Be,default:"$radioOff"},type:{type:String,default:"radio"}},"VRadioGroup"),L4=te()({name:"VRadioGroup",inheritAttrs:!1,props:M4(),emits:{"update:modelValue":e=>!0},setup(e,t){let{attrs:n,slots:i}=t;const r=Sn(),s=k(()=>e.id||`radio-group-${r}`),o=Re(e,"modelValue");return se(()=>{const[a,l]=Fs(n),u=Pn.filterProps(e),c=Ts.filterProps(e),d=i.label?i.label({label:e.label,props:{for:s.value}}):e.label;return f(Pn,J({class:["v-radio-group",e.class],style:e.style},a,u,{modelValue:o.value,"onUpdate:modelValue":h=>o.value=h,id:s.value}),{...i,default:h=>{let{id:v,messagesId:g,isDisabled:p,isReadonly:y}=h;return f(be,null,[d&&f(tl,{id:v.value},{default:()=>[d]}),f(HE,J(c,{id:v.value,"aria-describedby":g.value,defaultsTarget:"VRadio",trueIcon:e.trueIcon,falseIcon:e.falseIcon,type:e.type,disabled:p.value,readonly:y.value,"aria-labelledby":d?v.value:void 0,multiple:!1},l,{modelValue:o.value,"onUpdate:modelValue":w=>o.value=w}),i)])}})}),{}}}),F4=z({...nl(),...Kr(),...jT(),strict:Boolean,modelValue:{type:Array,default:()=>[0,0]}},"VRangeSlider"),B4=te()({name:"VRangeSlider",props:F4(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,end:e=>!0,start:e=>!0},setup(e,t){let{slots:n,emit:i}=t;const r=j(),s=j(),o=j(),{rtlClasses:a}=sn();function l(E){if(!r.value||!s.value)return;const P=Nv(E,r.value.$el,e.direction),I=Nv(E,s.value.$el,e.direction),R=Math.abs(P),H=Math.abs(I);return R<H||R===H&&P<0?r.value.$el:s.value.$el}const u=WT(e),c=Re(e,"modelValue",void 0,E=>E!=null&&E.length?E.map(P=>u.roundValue(P)):[0,0]),{activeThumbRef:d,hasLabels:h,max:v,min:g,mousePressed:p,onSliderMousedown:y,onSliderTouchstart:w,position:C,trackContainerRef:x,readonly:A}=zT({props:e,steps:u,onSliderStart:()=>{i("start",c.value)},onSliderEnd:E=>{var R;let{value:P}=E;const I=d.value===((R=r.value)==null?void 0:R.$el)?[P,c.value[1]]:[c.value[0],P];!e.strict&&I[0]<I[1]&&(c.value=I),i("end",c.value)},onSliderMove:E=>{var H,q,W,X;let{value:P}=E;const[I,R]=c.value;!e.strict&&I===R&&I!==g.value&&(d.value=P>I?(H=s.value)==null?void 0:H.$el:(q=r.value)==null?void 0:q.$el,(W=d.value)==null||W.focus()),d.value===((X=r.value)==null?void 0:X.$el)?c.value=[Math.min(P,R),R]:c.value=[I,Math.max(I,P)]},getActiveThumb:l}),{isFocused:V,focus:N,blur:T}=gr(e),b=k(()=>C(c.value[0])),_=k(()=>C(c.value[1]));return se(()=>{const E=Pn.filterProps(e),P=!!(e.label||n.label||n.prepend);return f(Pn,J({class:["v-slider","v-range-slider",{"v-slider--has-labels":!!n["tick-label"]||h.value,"v-slider--focused":V.value,"v-slider--pressed":p.value,"v-slider--disabled":e.disabled},a.value,e.class],style:e.style,ref:o},E,{focused:V.value}),{...n,prepend:P?I=>{var R,H;return f(be,null,[((R=n.label)==null?void 0:R.call(n,I))??(e.label?f(tl,{class:"v-slider__label",text:e.label},null):void 0),(H=n.prepend)==null?void 0:H.call(n,I)])}:void 0,default:I=>{var q,W;let{id:R,messagesId:H}=I;return f("div",{class:"v-slider__container",onMousedown:A.value?void 0:y,onTouchstartPassive:A.value?void 0:w},[f("input",{id:`${R.value}_start`,name:e.name||R.value,disabled:!!e.disabled,readonly:!!e.readonly,tabindex:"-1",value:c.value[0]},null),f("input",{id:`${R.value}_stop`,name:e.name||R.value,disabled:!!e.disabled,readonly:!!e.readonly,tabindex:"-1",value:c.value[1]},null),f(qT,{ref:x,start:b.value,stop:_.value},{"tick-label":n["tick-label"]}),f(Ov,{ref:r,"aria-describedby":H.value,focused:V&&d.value===((q=r.value)==null?void 0:q.$el),modelValue:c.value[0],"onUpdate:modelValue":X=>c.value=[X,c.value[1]],onFocus:X=>{var U,B,$,Y;N(),d.value=(U=r.value)==null?void 0:U.$el,c.value[0]===c.value[1]&&c.value[1]===g.value&&X.relatedTarget!==((B=s.value)==null?void 0:B.$el)&&(($=r.value)==null||$.$el.blur(),(Y=s.value)==null||Y.$el.focus())},onBlur:()=>{T(),d.value=void 0},min:g.value,max:c.value[1],position:b.value,ripple:e.ripple},{"thumb-label":n["thumb-label"]}),f(Ov,{ref:s,"aria-describedby":H.value,focused:V&&d.value===((W=s.value)==null?void 0:W.$el),modelValue:c.value[1],"onUpdate:modelValue":X=>c.value=[c.value[0],X],onFocus:X=>{var U,B,$,Y;N(),d.value=(U=s.value)==null?void 0:U.$el,c.value[0]===c.value[1]&&c.value[0]===v.value&&X.relatedTarget!==((B=r.value)==null?void 0:B.$el)&&(($=s.value)==null||$.$el.blur(),(Y=r.value)==null||Y.$el.focus())},onBlur:()=>{T(),d.value=void 0},min:c.value[0],max:v.value,position:_.value,ripple:e.ripple},{"thumb-label":n["thumb-label"]})])}})}),{}}}),$4=z({name:String,itemAriaLabel:{type:String,default:"$vuetify.rating.ariaLabel.item"},activeColor:String,color:String,clearable:Boolean,disabled:Boolean,emptyIcon:{type:Be,default:"$ratingEmpty"},fullIcon:{type:Be,default:"$ratingFull"},halfIncrements:Boolean,hover:Boolean,length:{type:[Number,String],default:5},readonly:Boolean,modelValue:{type:[Number,String],default:0},itemLabels:Array,itemLabelPosition:{type:String,default:"top",validator:e=>["top","bottom"].includes(e)},ripple:Boolean,...Ee(),...dn(),...vr(),...Ge(),...nt()},"VRating"),U4=te()({name:"VRating",props:$4(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const{t:i}=At(),{themeClasses:r}=ft(e),s=Re(e,"modelValue"),o=k(()=>Ut(parseFloat(s.value),0,+e.length)),a=k(()=>ci(Number(e.length),1)),l=k(()=>a.value.flatMap(p=>e.halfIncrements?[p-.5,p]:[p])),u=ye(-1),c=k(()=>l.value.map(p=>{const y=e.hover&&u.value>-1,w=o.value>=p,C=u.value>=p,A=(y?C:w)?e.fullIcon:e.emptyIcon,V=e.activeColor??e.color,N=w||C?V:e.color;return{isFilled:w,isHovered:C,icon:A,color:N}})),d=k(()=>[0,...l.value].map(p=>{function y(){u.value=p}function w(){u.value=-1}function C(){e.disabled||e.readonly||(s.value=o.value===p&&e.clearable?0:p)}return{onMouseenter:e.hover?y:void 0,onMouseleave:e.hover?w:void 0,onClick:C}})),h=k(()=>e.name??`v-rating-${Sn()}`);function v(p){var b,_;let{value:y,index:w,showStar:C=!0}=p;const{onMouseenter:x,onMouseleave:A,onClick:V}=d.value[w+1],N=`${h.value}-${String(y).replace(".","-")}`,T={color:(b=c.value[w])==null?void 0:b.color,density:e.density,disabled:e.disabled,icon:(_=c.value[w])==null?void 0:_.icon,ripple:e.ripple,size:e.size,variant:"plain"};return f(be,null,[f("label",{for:N,class:{"v-rating__item--half":e.halfIncrements&&y%1>0,"v-rating__item--full":e.halfIncrements&&y%1===0},onMouseenter:x,onMouseleave:A,onClick:V},[f("span",{class:"v-rating__hidden"},[i(e.itemAriaLabel,y,e.length)]),C?n.item?n.item({...c.value[w],props:T,value:y,index:w,rating:o.value}):f(Ke,J({"aria-label":i(e.itemAriaLabel,y,e.length)},T),null):void 0]),f("input",{class:"v-rating__hidden",name:h.value,id:N,type:"radio",value:y,checked:o.value===y,tabindex:-1,readonly:e.readonly,disabled:e.disabled},null)])}function g(p){return n["item-label"]?n["item-label"](p):p.label?f("span",null,[p.label]):f("span",null,[Ve("")])}return se(()=>{var y;const p=!!((y=e.itemLabels)!=null&&y.length)||n["item-label"];return f(e.tag,{class:["v-rating",{"v-rating--hover":e.hover,"v-rating--readonly":e.readonly},r.value,e.class],style:e.style},{default:()=>[f(v,{value:0,index:-1,showStar:!1},null),a.value.map((w,C)=>{var x,A;return f("div",{class:"v-rating__wrapper"},[p&&e.itemLabelPosition==="top"?g({value:w,index:C,label:(x=e.itemLabels)==null?void 0:x[C]}):void 0,f("div",{class:"v-rating__item"},[e.halfIncrements?f(be,null,[f(v,{value:w-.5,index:C*2},null),f(v,{value:w,index:C*2+1},null)]):f(v,{value:w,index:C},null)]),p&&e.itemLabelPosition==="bottom"?g({value:w,index:C,label:(A=e.itemLabels)==null?void 0:A[C]}):void 0])})]})}),{}}}),H4={actions:"button@2",article:"heading, paragraph",avatar:"avatar",button:"button",card:"image, heading","card-avatar":"image, list-item-avatar",chip:"chip","date-picker":"list-item, heading, divider, date-picker-options, date-picker-days, actions","date-picker-options":"text, avatar@2","date-picker-days":"avatar@28",divider:"divider",heading:"heading",image:"image","list-item":"text","list-item-avatar":"avatar, text","list-item-two-line":"sentences","list-item-avatar-two-line":"avatar, sentences","list-item-three-line":"paragraph","list-item-avatar-three-line":"avatar, paragraph",ossein:"ossein",paragraph:"text@3",sentences:"text@2",subtitle:"text",table:"table-heading, table-thead, table-tbody, table-tfoot","table-heading":"chip, text","table-thead":"heading@6","table-tbody":"table-row-divider@6","table-row-divider":"table-row, divider","table-row":"text@6","table-tfoot":"text@2, avatar@2",text:"text"};function j4(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return f("div",{class:["v-skeleton-loader__bone",`v-skeleton-loader__${e}`]},[t])}function xS(e){const[t,n]=e.split("@");return Array.from({length:n}).map(()=>mh(t))}function mh(e){let t=[];if(!e)return t;const n=H4[e];if(e!==n){if(e.includes(","))return RS(e);if(e.includes("@"))return xS(e);n.includes(",")?t=RS(n):n.includes("@")?t=xS(n):n&&t.push(mh(n))}return[j4(e,t)]}function RS(e){return e.replace(/\s/g,"").split(",").map(mh)}const W4=z({boilerplate:Boolean,color:String,loading:Boolean,loadingText:{type:String,default:"$vuetify.loading"},type:{type:[String,Array],default:"ossein"},...Jt(),...on(),...nt()},"VSkeletonLoader"),z4=te()({name:"VSkeletonLoader",props:W4(),setup(e,t){let{slots:n}=t;const{backgroundColorClasses:i,backgroundColorStyles:r}=wt(ee(e,"color")),{dimensionStyles:s}=Zt(e),{elevationClasses:o}=Cn(e),{themeClasses:a}=ft(e),{t:l}=At(),u=k(()=>mh(Dt(e.type).join(",")));return se(()=>{var h;const c=!n.default||e.loading,d=e.boilerplate||!c?{}:{ariaLive:"polite",ariaLabel:l(e.loadingText),role:"alert"};return f("div",J({class:["v-skeleton-loader",{"v-skeleton-loader--boilerplate":e.boilerplate},a.value,i.value,o.value],style:[r.value,c?s.value:{}]},d),[c?u.value:(h=n.default)==null?void 0:h.call(n)])}),{}}}),q4=te()({name:"VSlideGroupItem",props:Uo(),emits:{"group:selected":e=>!0},setup(e,t){let{slots:n}=t;const i=Ho(e,XE);return()=>{var r;return(r=n.default)==null?void 0:r.call(n,{isSelected:i.isSelected.value,select:i.select,toggle:i.toggle,selectedClass:i.selectedClass.value})}}});function G4(e){const t=ye(e());let n=-1;function i(){clearInterval(n)}function r(){i(),tt(()=>t.value=e())}function s(o){const a=o?getComputedStyle(o):{transitionDuration:.2},l=parseFloat(a.transitionDuration)*1e3||200;if(i(),t.value<=0)return;const u=performance.now();n=window.setInterval(()=>{const c=performance.now()-u+l;t.value=Math.max(e()-c,0),t.value<=0&&i()},l)}return _n(i),{clear:i,time:t,start:s,reset:r}}const $A=z({multiLine:Boolean,text:String,timer:[Boolean,String],timeout:{type:[Number,String],default:5e3},vertical:Boolean,...qr({location:"bottom"}),...Ja(),...Mt(),...Pi(),...nt(),...pt(uc({transition:"v-snackbar-transition"}),["persistent","noClickAnimation","scrim","scrollStrategy"])},"VSnackbar"),Qv=te()({name:"VSnackbar",props:$A(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const i=Re(e,"modelValue"),{positionClasses:r}=Za(e),{scopeId:s}=zo(),{themeClasses:o}=ft(e),{colorClasses:a,colorStyles:l,variantClasses:u}=Bo(e),{roundedClasses:c}=qt(e),d=G4(()=>Number(e.timeout)),h=j(),v=j(),g=ye(!1),p=ye(0),y=j(),w=He(Tu,void 0);ti(()=>!!w,()=>{const P=_E();Gt(()=>{y.value=P.mainStyles.value})}),he(i,x),he(()=>e.timeout,x),dt(()=>{i.value&&x()});let C=-1;function x(){d.reset(),window.clearTimeout(C);const P=Number(e.timeout);if(!i.value||P===-1)return;const I=Tp(v.value);d.start(I),C=window.setTimeout(()=>{i.value=!1},P)}function A(){d.reset(),window.clearTimeout(C)}function V(){g.value=!0,A()}function N(){g.value=!1,x()}function T(P){p.value=P.touches[0].clientY}function b(P){Math.abs(p.value-P.changedTouches[0].clientY)>50&&(i.value=!1)}function _(){g.value&&N()}const E=k(()=>e.location.split(" ").reduce((P,I)=>(P[`v-snackbar--${I}`]=!0,P),{}));return se(()=>{const P=ar.filterProps(e),I=!!(n.default||n.text||e.text);return f(ar,J({ref:h,class:["v-snackbar",{"v-snackbar--active":i.value,"v-snackbar--multi-line":e.multiLine&&!e.vertical,"v-snackbar--timer":!!e.timer,"v-snackbar--vertical":e.vertical},E.value,r.value,e.class],style:[y.value,e.style]},P,{modelValue:i.value,"onUpdate:modelValue":R=>i.value=R,contentProps:J({class:["v-snackbar__wrapper",o.value,a.value,c.value,u.value],style:[l.value],onPointerenter:V,onPointerleave:N},P.contentProps),persistent:!0,noClickAnimation:!0,scrim:!1,scrollStrategy:"none",_disableGlobalStack:!0,onTouchstartPassive:T,onTouchend:b,onAfterLeave:_},s),{default:()=>{var R,H;return[Bs(!1,"v-snackbar"),e.timer&&!g.value&&f("div",{key:"timer",class:"v-snackbar__timer"},[f(Qf,{ref:v,color:typeof e.timer=="string"?e.timer:"info",max:e.timeout,"model-value":d.time.value},null)]),I&&f("div",{key:"content",class:"v-snackbar__content",role:"status","aria-live":"polite"},[((R=n.text)==null?void 0:R.call(n))??e.text,(H=n.default)==null?void 0:H.call(n)]),n.actions&&f(ze,{defaults:{VBtn:{variant:"text",ripple:!1,slim:!0}}},{default:()=>[f("div",{class:"v-snackbar__actions"},[n.actions({isActive:i})])]})]},activator:n.activator})}),bi({},h)}}),UA=z({autoDraw:Boolean,autoDrawDuration:[Number,String],autoDrawEasing:{type:String,default:"ease"},color:String,gradient:{type:Array,default:()=>[]},gradientDirection:{type:String,validator:e=>["top","bottom","left","right"].includes(e),default:"top"},height:{type:[String,Number],default:75},labels:{type:Array,default:()=>[]},labelSize:{type:[Number,String],default:7},lineWidth:{type:[String,Number],default:4},id:String,itemValue:{type:String,default:"value"},modelValue:{type:Array,default:()=>[]},min:[String,Number],max:[String,Number],padding:{type:[String,Number],default:8},showLabels:Boolean,smooth:Boolean,width:{type:[Number,String],default:300}},"Line"),HA=z({autoLineWidth:Boolean,...UA()},"VBarline"),VS=te()({name:"VBarline",props:HA(),setup(e,t){let{slots:n}=t;const i=Sn(),r=k(()=>e.id||`barline-${i}`),s=k(()=>Number(e.autoDrawDuration)||500),o=k(()=>!!(e.showLabels||e.labels.length>0||n!=null&&n.label)),a=k(()=>parseFloat(e.lineWidth)||4),l=k(()=>Math.max(e.modelValue.length*a.value,Number(e.width))),u=k(()=>({minX:0,maxX:l.value,minY:0,maxY:parseInt(e.height,10)})),c=k(()=>e.modelValue.map(p=>Qt(p,e.itemValue,p)));function d(p,y){const{minX:w,maxX:C,minY:x,maxY:A}=y,V=p.length;let N=e.max!=null?Number(e.max):Math.max(...p),T=e.min!=null?Number(e.min):Math.min(...p);T>0&&e.min==null&&(T=0),N<0&&e.max==null&&(N=0);const b=C/V,_=(A-x)/(N-T||1),E=A-Math.abs(T*_);return p.map((P,I)=>{const R=Math.abs(_*P);return{x:w+I*b,y:E-R+ +(P<0)*R,height:R,value:P}})}const h=k(()=>{const p=[],y=d(c.value,u.value),w=y.length;for(let C=0;p.length<w;C++){const x=y[C];let A=e.labels[C];A||(A=typeof x=="object"?x.value:x),p.push({x:x.x,value:String(A)})}return p}),v=k(()=>d(c.value,u.value)),g=k(()=>(Math.abs(v.value[0].x-v.value[1].x)-a.value)/2);se(()=>{const p=e.gradient.slice().length?e.gradient.slice().reverse():[""];return f("svg",{display:"block"},[f("defs",null,[f("linearGradient",{id:r.value,gradientUnits:"userSpaceOnUse",x1:e.gradientDirection==="left"?"100%":"0",y1:e.gradientDirection==="top"?"100%":"0",x2:e.gradientDirection==="right"?"100%":"0",y2:e.gradientDirection==="bottom"?"100%":"0"},[p.map((y,w)=>f("stop",{offset:w/Math.max(p.length-1,1),"stop-color":y||"currentColor"},null))])]),f("clipPath",{id:`${r.value}-clip`},[v.value.map(y=>f("rect",{x:y.x+g.value,y:y.y,width:a.value,height:y.height,rx:typeof e.smooth=="number"?e.smooth:e.smooth?2:0,ry:typeof e.smooth=="number"?e.smooth:e.smooth?2:0},[e.autoDraw&&f(be,null,[f("animate",{attributeName:"y",from:y.y+y.height,to:y.y,dur:`${s.value}ms`,fill:"freeze"},null),f("animate",{attributeName:"height",from:"0",to:y.height,dur:`${s.value}ms`,fill:"freeze"},null)])]))]),o.value&&f("g",{key:"labels",style:{textAnchor:"middle",dominantBaseline:"mathematical",fill:"currentColor"}},[h.value.map((y,w)=>{var C;return f("text",{x:y.x+g.value+a.value/2,y:parseInt(e.height,10)-2+(parseInt(e.labelSize,10)||7*.75),"font-size":Number(e.labelSize)||7},[((C=n.label)==null?void 0:C.call(n,{index:w,value:y.value}))??y.value])})]),f("g",{"clip-path":`url(#${r.value}-clip)`,fill:`url(#${r.value})`},[f("rect",{x:0,y:0,width:Math.max(e.modelValue.length*a.value,Number(e.width)),height:e.height},null)])])})}});function K4(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:75;if(e.length===0)return"";const r=e.shift(),s=e[e.length-1];return(n?`M${r.x} ${i-r.x+2} L${r.x} ${r.y}`:`M${r.x} ${r.y}`)+e.map((o,a)=>{const l=e[a+1],u=e[a-1]||r,c=l&&Y4(l,o,u);if(!l||c)return`L${o.x} ${o.y}`;const d=Math.min(DS(u,o),DS(l,o)),v=d/2<t?d/2:t,g=NS(u,o,v),p=NS(l,o,v);return`L${g.x} ${g.y}S${o.x} ${o.y} ${p.x} ${p.y}`}).join("")+(n?`L${s.x} ${i-r.x+2} Z`:"")}function ed(e){return parseInt(e,10)}function Y4(e,t,n){return ed(e.x+n.x)===ed(2*t.x)&&ed(e.y+n.y)===ed(2*t.y)}function DS(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function NS(e,t,n){const i={x:e.x-t.x,y:e.y-t.y},r=Math.sqrt(i.x*i.x+i.y*i.y),s={x:i.x/r,y:i.y/r};return{x:t.x+s.x*n,y:t.y+s.y*n}}const jA=z({fill:Boolean,...UA()},"VTrendline"),OS=te()({name:"VTrendline",props:jA(),setup(e,t){let{slots:n}=t;const i=Sn(),r=k(()=>e.id||`trendline-${i}`),s=k(()=>Number(e.autoDrawDuration)||(e.fill?500:2e3)),o=j(0),a=j(null);function l(y,w){const{minX:C,maxX:x,minY:A,maxY:V}=w,N=y.length,T=e.max!=null?Number(e.max):Math.max(...y),b=e.min!=null?Number(e.min):Math.min(...y),_=(x-C)/(N-1),E=(V-A)/(T-b||1);return y.map((P,I)=>({x:C+I*_,y:V-(P-b)*E,value:P}))}const u=k(()=>!!(e.showLabels||e.labels.length>0||n!=null&&n.label)),c=k(()=>parseFloat(e.lineWidth)||4),d=k(()=>Number(e.width)),h=k(()=>{const y=Number(e.padding);return{minX:y,maxX:d.value-y,minY:y,maxY:parseInt(e.height,10)-y}}),v=k(()=>e.modelValue.map(y=>Qt(y,e.itemValue,y))),g=k(()=>{const y=[],w=l(v.value,h.value),C=w.length;for(let x=0;y.length<C;x++){const A=w[x];let V=e.labels[x];V||(V=typeof A=="object"?A.value:A),y.push({x:A.x,value:String(V)})}return y});he(()=>e.modelValue,async()=>{if(await tt(),!e.autoDraw||!a.value)return;const y=a.value,w=y.getTotalLength();e.fill?(y.style.transformOrigin="bottom center",y.style.transition="none",y.style.transform="scaleY(0)",y.getBoundingClientRect(),y.style.transition=`transform ${s.value}ms ${e.autoDrawEasing}`,y.style.transform="scaleY(1)"):(y.style.strokeDasharray=`${w}`,y.style.strokeDashoffset=`${w}`,y.getBoundingClientRect(),y.style.transition=`stroke-dashoffset ${s.value}ms ${e.autoDrawEasing}`,y.style.strokeDashoffset="0"),o.value=w},{immediate:!0});function p(y){return K4(l(v.value,h.value),e.smooth?8:Number(e.smooth),y,parseInt(e.height,10))}se(()=>{var w;const y=e.gradient.slice().length?e.gradient.slice().reverse():[""];return f("svg",{display:"block","stroke-width":parseFloat(e.lineWidth)??4},[f("defs",null,[f("linearGradient",{id:r.value,gradientUnits:"userSpaceOnUse",x1:e.gradientDirection==="left"?"100%":"0",y1:e.gradientDirection==="top"?"100%":"0",x2:e.gradientDirection==="right"?"100%":"0",y2:e.gradientDirection==="bottom"?"100%":"0"},[y.map((C,x)=>f("stop",{offset:x/Math.max(y.length-1,1),"stop-color":C||"currentColor"},null))])]),u.value&&f("g",{key:"labels",style:{textAnchor:"middle",dominantBaseline:"mathematical",fill:"currentColor"}},[g.value.map((C,x)=>{var A;return f("text",{x:C.x+c.value/2+c.value/2,y:parseInt(e.height,10)-4+(parseInt(e.labelSize,10)||7*.75),"font-size":Number(e.labelSize)||7},[((A=n.label)==null?void 0:A.call(n,{index:x,value:C.value}))??C.value])})]),f("path",{ref:a,d:p(e.fill),fill:e.fill?`url(#${r.value})`:"none",stroke:e.fill?"none":`url(#${r.value})`},null),e.fill&&f("path",{d:p(!1),fill:"none",stroke:e.color??((w=e.gradient)==null?void 0:w[0])},null)])})}}),Q4=z({type:{type:String,default:"trend"},...HA(),...jA()},"VSparkline"),X4=te()({name:"VSparkline",props:Q4(),setup(e,t){let{slots:n}=t;const{textColorClasses:i,textColorStyles:r}=yn(ee(e,"color")),s=k(()=>!!(e.showLabels||e.labels.length>0||n!=null&&n.label)),o=k(()=>{let a=parseInt(e.height,10);return s.value&&(a+=parseInt(e.labelSize,10)*1.5),a});se(()=>{const a=e.type==="trend"?OS:VS,l=e.type==="trend"?OS.filterProps(e):VS.filterProps(e);return f(a,J({key:e.type,class:i.value,style:r.value,viewBox:`0 0 ${e.width} ${parseInt(o.value,10)}`},l),n)})}}),J4=z({...Ee(),...kT({offset:8,minWidth:0,openDelay:0,closeDelay:100,location:"top center",transition:"scale-transition"})},"VSpeedDial"),Z4=te()({name:"VSpeedDial",props:J4(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const i=Re(e,"modelValue"),r=j(),s=k(()=>{var u;const[a,l="center"]=((u=e.location)==null?void 0:u.split(" "))??[];return`${a} ${l}`}),o=k(()=>({[`v-speed-dial__content--${s.value.replace(" ","-")}`]:!0}));return se(()=>{const a=yo.filterProps(e);return f(yo,J(a,{modelValue:i.value,"onUpdate:modelValue":l=>i.value=l,class:e.class,style:e.style,contentClass:["v-speed-dial__content",o.value,e.contentClass],location:s.value,ref:r,transition:"fade-transition"}),{...n,default:l=>f(ze,{defaults:{VBtn:{size:"small"}}},{default:()=>[f(jn,{appear:!0,group:!0,transition:e.transition},{default:()=>{var u;return[(u=n.default)==null?void 0:u.call(n,l)]}})]})})}),{}}}),Iy=Symbol.for("vuetify:v-stepper"),ky=z({color:String,disabled:{type:[Boolean,String],default:!1},prevText:{type:String,default:"$vuetify.stepper.prev"},nextText:{type:String,default:"$vuetify.stepper.next"}},"VStepperActions"),qd=te()({name:"VStepperActions",props:ky(),emits:{"click:prev":()=>!0,"click:next":()=>!0},setup(e,t){let{emit:n,slots:i}=t;const{t:r}=At();function s(){n("click:prev")}function o(){n("click:next")}return se(()=>{const a={onClick:s},l={onClick:o};return f("div",{class:"v-stepper-actions"},[f(ze,{defaults:{VBtn:{disabled:["prev",!0].includes(e.disabled),text:r(e.prevText),variant:"text"}}},{default:()=>{var u;return[((u=i.prev)==null?void 0:u.call(i,{props:a}))??f(Ke,a,null)]}}),f(ze,{defaults:{VBtn:{color:e.color,disabled:["next",!0].includes(e.disabled),text:r(e.nextText),variant:"tonal"}}},{default:()=>{var u;return[((u=i.next)==null?void 0:u.call(i,{props:l}))??f(Ke,l,null)]}})])}),{}}}),WA=mr("v-stepper-header"),zA=z({color:String,title:String,subtitle:String,complete:Boolean,completeIcon:{type:String,default:"$complete"},editable:Boolean,editIcon:{type:String,default:"$edit"},error:Boolean,errorIcon:{type:String,default:"$error"},icon:String,ripple:{type:[Boolean,Object],default:!0},rules:{type:Array,default:()=>[]}},"StepperItem"),eU=z({...zA(),...Uo()},"VStepperItem"),qA=te()({name:"VStepperItem",directives:{Ripple:Gr},props:eU(),emits:{"group:selected":e=>!0},setup(e,t){let{slots:n}=t;const i=Ho(e,Iy,!0),r=k(()=>(i==null?void 0:i.value.value)??e.value),s=k(()=>e.rules.every(h=>h()===!0)),o=k(()=>!e.disabled&&e.editable),a=k(()=>!e.disabled&&e.editable),l=k(()=>e.error||!s.value),u=k(()=>e.complete||e.rules.length>0&&s.value),c=k(()=>l.value?e.errorIcon:u.value?e.completeIcon:i.isSelected.value&&e.editable?e.editIcon:e.icon),d=k(()=>({canEdit:a.value,hasError:l.value,hasCompleted:u.value,title:e.title,subtitle:e.subtitle,step:r.value,value:e.value}));return se(()=>{var y,w,C;const h=(!i||i.isSelected.value||u.value||a.value)&&!l.value&&!e.disabled,v=!!(e.title!=null||n.title),g=!!(e.subtitle!=null||n.subtitle);function p(){i==null||i.toggle()}return Ht(f("button",{class:["v-stepper-item",{"v-stepper-item--complete":u.value,"v-stepper-item--disabled":e.disabled,"v-stepper-item--error":l.value},i==null?void 0:i.selectedClass.value],disabled:!e.editable,onClick:p},[o.value&&Bs(!0,"v-stepper-item"),f(mi,{key:"stepper-avatar",class:"v-stepper-item__avatar",color:h?e.color:void 0,size:24},{default:()=>{var x;return[((x=n.icon)==null?void 0:x.call(n,d.value))??(c.value?f(st,{icon:c.value},null):r.value)]}}),f("div",{class:"v-stepper-item__content"},[v&&f("div",{key:"title",class:"v-stepper-item__title"},[((y=n.title)==null?void 0:y.call(n,d.value))??e.title]),g&&f("div",{key:"subtitle",class:"v-stepper-item__subtitle"},[((w=n.subtitle)==null?void 0:w.call(n,d.value))??e.subtitle]),(C=n.default)==null?void 0:C.call(n,d.value)])]),[[vi("ripple"),e.ripple&&e.editable,null]])}),{}}}),tU=z({...pt(nh(),["continuous","nextIcon","prevIcon","showArrows","touch","mandatory"])},"VStepperWindow"),GA=te()({name:"VStepperWindow",props:tU(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const i=He(Iy,null),r=Re(e,"modelValue"),s=k({get(){var o;return r.value!=null||!i?r.value:(o=i.items.value.find(a=>i.selected.value.includes(a.id)))==null?void 0:o.value},set(o){r.value=o}});return se(()=>{const o=_o.filterProps(e);return f(_o,J({_as:"VStepperWindow"},o,{modelValue:s.value,"onUpdate:modelValue":a=>s.value=a,class:["v-stepper-window",e.class],style:e.style,mandatory:!1,touch:!1}),n)}),{}}}),nU=z({...ih()},"VStepperWindowItem"),KA=te()({name:"VStepperWindowItem",props:nU(),setup(e,t){let{slots:n}=t;return se(()=>{const i=bo.filterProps(e);return f(bo,J({_as:"VStepperWindowItem"},i,{class:["v-stepper-window-item",e.class],style:e.style}),n)}),{}}}),YA=z({altLabels:Boolean,bgColor:String,completeIcon:String,editIcon:String,editable:Boolean,errorIcon:String,hideActions:Boolean,items:{type:Array,default:()=>[]},itemTitle:{type:String,default:"title"},itemValue:{type:String,default:"value"},nonLinear:Boolean,flat:Boolean,...Oo()},"Stepper"),iU=z({...YA(),...$o({mandatory:"force",selectedClass:"v-stepper-item--selected"}),...rh(),...$f(ky(),["prevText","nextText"])},"VStepper"),rU=te()({name:"VStepper",props:iU(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const{items:i,next:r,prev:s,selected:o}=$s(e,Iy),{displayClasses:a,mobile:l}=pi(e),{completeIcon:u,editIcon:c,errorIcon:d,color:h,editable:v,prevText:g,nextText:p}=Wr(e),y=k(()=>e.items.map((x,A)=>{const V=Qt(x,e.itemTitle,x),N=Qt(x,e.itemValue,A+1);return{title:V,value:N,raw:x}})),w=k(()=>i.value.findIndex(x=>o.value.includes(x.id))),C=k(()=>e.disabled?e.disabled:w.value===0?"prev":w.value===i.value.length-1?"next":!1);return Ot({VStepperItem:{editable:v,errorIcon:d,completeIcon:u,editIcon:c,prevText:g,nextText:p},VStepperActions:{color:h,disabled:C,prevText:g,nextText:p}}),se(()=>{const x=As.filterProps(e),A=!!(n.header||e.items.length),V=e.items.length>0,N=!e.hideActions&&!!(V||n.actions);return f(As,J(x,{color:e.bgColor,class:["v-stepper",{"v-stepper--alt-labels":e.altLabels,"v-stepper--flat":e.flat,"v-stepper--non-linear":e.nonLinear,"v-stepper--mobile":l.value},a.value,e.class],style:e.style}),{default:()=>{var T,b;return[A&&f(WA,{key:"stepper-header"},{default:()=>[y.value.map((_,E)=>{let{raw:P,...I}=_;return f(be,null,[!!E&&f(Ar,null,null),f(qA,I,{default:n[`header-item.${I.value}`]??n.header,icon:n.icon,title:n.title,subtitle:n.subtitle})])})]}),V&&f(GA,{key:"stepper-window"},{default:()=>[y.value.map(_=>f(KA,{value:_.value},{default:()=>{var E,P;return((E=n[`item.${_.value}`])==null?void 0:E.call(n,_))??((P=n.item)==null?void 0:P.call(n,_))}}))]}),(T=n.default)==null?void 0:T.call(n,{prev:s,next:r}),N&&(((b=n.actions)==null?void 0:b.call(n,{next:r,prev:s}))??f(qd,{key:"stepper-actions","onClick:prev":s,"onClick:next":r},n))]}})}),{prev:s,next:r}}}),sU=z({indeterminate:Boolean,inset:Boolean,flat:Boolean,loading:{type:[Boolean,String],default:!1},...Kr(),...Zf()},"VSwitch"),oU=te()({name:"VSwitch",inheritAttrs:!1,props:sU(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,"update:indeterminate":e=>!0},setup(e,t){let{attrs:n,slots:i}=t;const r=Re(e,"indeterminate"),s=Re(e,"modelValue"),{loaderClasses:o}=sc(e),{isFocused:a,focus:l,blur:u}=gr(e),c=j(),d=ht&&window.matchMedia("(forced-colors: active)").matches,h=k(()=>typeof e.loading=="string"&&e.loading!==""?e.loading:e.color),v=Sn(),g=k(()=>e.id||`switch-${v}`);function p(){r.value&&(r.value=!1)}function y(w){var C,x;w.stopPropagation(),w.preventDefault(),(x=(C=c.value)==null?void 0:C.input)==null||x.click()}return se(()=>{const[w,C]=Fs(n),x=Pn.filterProps(e),A=Ts.filterProps(e);return f(Pn,J({class:["v-switch",{"v-switch--flat":e.flat},{"v-switch--inset":e.inset},{"v-switch--indeterminate":r.value},o.value,e.class]},w,x,{modelValue:s.value,"onUpdate:modelValue":V=>s.value=V,id:g.value,focused:a.value,style:e.style}),{...i,default:V=>{let{id:N,messagesId:T,isDisabled:b,isReadonly:_,isValid:E}=V;const P={model:s,isValid:E};return f(Ts,J({ref:c},A,{modelValue:s.value,"onUpdate:modelValue":[I=>s.value=I,p],id:N.value,"aria-describedby":T.value,type:"checkbox","aria-checked":r.value?"mixed":void 0,disabled:b.value,readonly:_.value,onFocus:l,onBlur:u},C),{...i,default:I=>{let{backgroundColorClasses:R,backgroundColorStyles:H}=I;return f("div",{class:["v-switch__track",d?void 0:R.value],style:H.value,onClick:y},[i["track-true"]&&f("div",{key:"prepend",class:"v-switch__track-true"},[i["track-true"](P)]),i["track-false"]&&f("div",{key:"append",class:"v-switch__track-false"},[i["track-false"](P)])])},input:I=>{let{inputNode:R,icon:H,backgroundColorClasses:q,backgroundColorStyles:W}=I;return f(be,null,[R,f("div",{class:["v-switch__thumb",{"v-switch__thumb--filled":H||e.loading},e.inset||d?void 0:q.value],style:e.inset?void 0:W.value},[i.thumb?f(ze,{defaults:{VIcon:{icon:H,size:"x-small"}}},{default:()=>[i.thumb({...P,icon:H})]}):f(Hp,null,{default:()=>[e.loading?f(oc,{name:"v-switch",active:!0,color:E.value===!1?void 0:h.value},{default:X=>i.loader?i.loader(X):f(Es,{active:X.isActive,color:X.color,indeterminate:!0,size:"16",width:"2"},null)}):H&&f(st,{key:String(H),icon:H,size:"x-small"},null)]})])])}})}})}),{}}}),aU=z({color:String,height:[Number,String],window:Boolean,...Ee(),...on(),...Mo(),...Mt(),...Ge(),...nt()},"VSystemBar"),lU=te()({name:"VSystemBar",props:aU(),setup(e,t){let{slots:n}=t;const{themeClasses:i}=ft(e),{backgroundColorClasses:r,backgroundColorStyles:s}=wt(ee(e,"color")),{elevationClasses:o}=Cn(e),{roundedClasses:a}=qt(e),{ssrBootStyles:l}=Fo(),u=k(()=>e.height??(e.window?32:24)),{layoutItemStyles:c}=Lo({id:e.name,order:k(()=>parseInt(e.order,10)),position:ye("top"),layoutSize:u,elementSize:u,active:k(()=>!0),absolute:ee(e,"absolute")});return se(()=>f(e.tag,{class:["v-system-bar",{"v-system-bar--window":e.window},i.value,r.value,o.value,a.value,e.class],style:[s.value,c.value,l.value,e.style]},n)),{}}}),Ey=Symbol.for("vuetify:v-tabs"),uU=z({fixed:Boolean,sliderColor:String,hideSlider:Boolean,direction:{type:String,default:"horizontal"},...pt(Jf({selectedClass:"v-tab--selected",variant:"text"}),["active","block","flat","location","position","symbol"])},"VTab"),QA=te()({name:"VTab",props:uU(),setup(e,t){let{slots:n,attrs:i}=t;const{textColorClasses:r,textColorStyles:s}=yn(e,"sliderColor"),o=j(),a=j(),l=k(()=>e.direction==="horizontal"),u=k(()=>{var d,h;return((h=(d=o.value)==null?void 0:d.group)==null?void 0:h.isSelected.value)??!1});function c(d){var v,g;let{value:h}=d;if(h){const p=(g=(v=o.value)==null?void 0:v.$el.parentElement)==null?void 0:g.querySelector(".v-tab--selected .v-tab__slider"),y=a.value;if(!p||!y)return;const w=getComputedStyle(p).color,C=p.getBoundingClientRect(),x=y.getBoundingClientRect(),A=l.value?"x":"y",V=l.value?"X":"Y",N=l.value?"right":"bottom",T=l.value?"width":"height",b=C[A],_=x[A],E=b>_?C[N]-x[N]:C[A]-x[A],P=Math.sign(E)>0?l.value?"right":"bottom":Math.sign(E)<0?l.value?"left":"top":"center",R=(Math.abs(E)+(Math.sign(E)<0?C[T]:x[T]))/Math.max(C[T],x[T])||0,H=C[T]/x[T]||0,q=1.5;no(y,{backgroundColor:[w,"currentcolor"],transform:[`translate${V}(${E}px) scale${V}(${H})`,`translate${V}(${E/q}px) scale${V}(${(R-1)/q+1})`,"none"],transformOrigin:Array(3).fill(P)},{duration:225,easing:Iu})}}return se(()=>{const d=Ke.filterProps(e);return f(Ke,J({symbol:Ey,ref:o,class:["v-tab",e.class],style:e.style,tabindex:u.value?0:-1,role:"tab","aria-selected":String(u.value),active:!1},d,i,{block:e.fixed,maxWidth:e.fixed?300:void 0,"onGroup:selected":c}),{...n,default:()=>{var h;return f(be,null,[((h=n.default)==null?void 0:h.call(n))??e.text,!e.hideSlider&&f("div",{ref:a,class:["v-tab__slider",r.value],style:s.value},null)])}})}),bi({},o)}}),cU=z({...pt(nh(),["continuous","nextIcon","prevIcon","showArrows","touch","mandatory"])},"VTabsWindow"),XA=te()({name:"VTabsWindow",props:cU(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const i=He(Ey,null),r=Re(e,"modelValue"),s=k({get(){var o;return r.value!=null||!i?r.value:(o=i.items.value.find(a=>i.selected.value.includes(a.id)))==null?void 0:o.value},set(o){r.value=o}});return se(()=>{const o=_o.filterProps(e);return f(_o,J({_as:"VTabsWindow"},o,{modelValue:s.value,"onUpdate:modelValue":a=>s.value=a,class:["v-tabs-window",e.class],style:e.style,mandatory:!1,touch:!1}),n)}),{}}}),dU=z({...ih()},"VTabsWindowItem"),JA=te()({name:"VTabsWindowItem",props:dU(),setup(e,t){let{slots:n}=t;return se(()=>{const i=bo.filterProps(e);return f(bo,J({_as:"VTabsWindowItem"},i,{class:["v-tabs-window-item",e.class],style:e.style}),n)}),{}}});function fU(e){return e?e.map(t=>Ep(t)?t:{text:t,value:t}):[]}const hU=z({alignTabs:{type:String,default:"start"},color:String,fixedTabs:Boolean,items:{type:Array,default:()=>[]},stacked:Boolean,bgColor:String,grow:Boolean,height:{type:[Number,String],default:void 0},hideSlider:Boolean,sliderColor:String,...Kp({mandatory:"force",selectedClass:"v-tab-item--selected"}),...dn(),...Ge()},"VTabs"),mU=te()({name:"VTabs",props:hU(),emits:{"update:modelValue":e=>!0},setup(e,t){let{attrs:n,slots:i}=t;const r=Re(e,"modelValue"),s=k(()=>fU(e.items)),{densityClasses:o}=Kn(e),{backgroundColorClasses:a,backgroundColorStyles:l}=wt(ee(e,"bgColor")),{scopeId:u}=zo();return Ot({VTab:{color:ee(e,"color"),direction:ee(e,"direction"),stacked:ee(e,"stacked"),fixed:ee(e,"fixedTabs"),sliderColor:ee(e,"sliderColor"),hideSlider:ee(e,"hideSlider")}}),se(()=>{const c=Vu.filterProps(e),d=!!(i.window||e.items.length>0);return f(be,null,[f(Vu,J(c,{modelValue:r.value,"onUpdate:modelValue":h=>r.value=h,class:["v-tabs",`v-tabs--${e.direction}`,`v-tabs--align-tabs-${e.alignTabs}`,{"v-tabs--fixed-tabs":e.fixedTabs,"v-tabs--grow":e.grow,"v-tabs--stacked":e.stacked},o.value,a.value,e.class],style:[{"--v-tabs-height":Se(e.height)},l.value,e.style],role:"tablist",symbol:Ey},u,n),{default:()=>{var h;return[((h=i.default)==null?void 0:h.call(i))??s.value.map(v=>{var g;return((g=i.tab)==null?void 0:g.call(i,{item:v}))??f(QA,J(v,{key:v.text,value:v.value}),{default:i[`tab.${v.value}`]?()=>{var p;return(p=i[`tab.${v.value}`])==null?void 0:p.call(i,{item:v})}:void 0})})]}}),d&&f(XA,J({modelValue:r.value,"onUpdate:modelValue":h=>r.value=h,key:"tabs-window"},u),{default:()=>{var h;return[s.value.map(v=>{var g;return((g=i.item)==null?void 0:g.call(i,{item:v}))??f(JA,{value:v.value},{default:()=>{var p;return(p=i[`item.${v.value}`])==null?void 0:p.call(i,{item:v})}})}),(h=i.window)==null?void 0:h.call(i)]}})])}),{}}}),vU=z({autoGrow:Boolean,autofocus:Boolean,counter:[Boolean,Number,String],counterValue:Function,prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,noResize:Boolean,rows:{type:[Number,String],default:5,validator:e=>!isNaN(parseFloat(e))},maxRows:{type:[Number,String],validator:e=>!isNaN(parseFloat(e))},suffix:String,modelModifiers:Object,...Kr(),...cc()},"VTextarea"),gU=te()({name:"VTextarea",directives:{Intersect:rc},inheritAttrs:!1,props:vU(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,t){let{attrs:n,emit:i,slots:r}=t;const s=Re(e,"modelValue"),{isFocused:o,focus:a,blur:l}=gr(e),u=k(()=>typeof e.counterValue=="function"?e.counterValue(s.value):(s.value||"").toString().length),c=k(()=>{if(n.maxlength)return n.maxlength;if(!(!e.counter||typeof e.counter!="number"&&typeof e.counter!="string"))return e.counter});function d(P,I){var R,H;!e.autofocus||!P||(H=(R=I[0].target)==null?void 0:R.focus)==null||H.call(R)}const h=j(),v=j(),g=ye(""),p=j(),y=k(()=>e.persistentPlaceholder||o.value||e.active);function w(){var P;p.value!==document.activeElement&&((P=p.value)==null||P.focus()),o.value||a()}function C(P){w(),i("click:control",P)}function x(P){i("mousedown:control",P)}function A(P){P.stopPropagation(),w(),tt(()=>{s.value="",xp(e["onClick:clear"],P)})}function V(P){var R;const I=P.target;if(s.value=I.value,(R=e.modelModifiers)!=null&&R.trim){const H=[I.selectionStart,I.selectionEnd];tt(()=>{I.selectionStart=H[0],I.selectionEnd=H[1]})}}const N=j(),T=j(+e.rows),b=k(()=>["plain","underlined"].includes(e.variant));Gt(()=>{e.autoGrow||(T.value=+e.rows)});function _(){e.autoGrow&&tt(()=>{if(!N.value||!v.value)return;const P=getComputedStyle(N.value),I=getComputedStyle(v.value.$el),R=parseFloat(P.getPropertyValue("--v-field-padding-top"))+parseFloat(P.getPropertyValue("--v-input-padding-top"))+parseFloat(P.getPropertyValue("--v-field-padding-bottom")),H=N.value.scrollHeight,q=parseFloat(P.lineHeight),W=Math.max(parseFloat(e.rows)*q+R,parseFloat(I.getPropertyValue("--v-input-control-height"))),X=parseFloat(e.maxRows)*q+R||1/0,U=Ut(H??0,W,X);T.value=Math.floor((U-R)/q),g.value=Se(U)})}dt(_),he(s,_),he(()=>e.rows,_),he(()=>e.maxRows,_),he(()=>e.density,_);let E;return he(N,P=>{P?(E=new ResizeObserver(_),E.observe(N.value)):E==null||E.disconnect()}),wn(()=>{E==null||E.disconnect()}),se(()=>{const P=!!(r.counter||e.counter||e.counterValue),I=!!(P||r.details),[R,H]=Fs(n),{modelValue:q,...W}=Pn.filterProps(e),X=ny(e);return f(Pn,J({ref:h,modelValue:s.value,"onUpdate:modelValue":U=>s.value=U,class:["v-textarea v-text-field",{"v-textarea--prefixed":e.prefix,"v-textarea--suffixed":e.suffix,"v-text-field--prefixed":e.prefix,"v-text-field--suffixed":e.suffix,"v-textarea--auto-grow":e.autoGrow,"v-textarea--no-resize":e.noResize||e.autoGrow,"v-input--plain-underlined":b.value},e.class],style:e.style},R,W,{centerAffix:T.value===1&&!b.value,focused:o.value}),{...r,default:U=>{let{id:B,isDisabled:$,isDirty:Y,isReadonly:re,isValid:de}=U;return f(il,J({ref:v,style:{"--v-textarea-control-height":g.value},onClick:C,onMousedown:x,"onClick:clear":A,"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"]},X,{id:B.value,active:y.value||Y.value,centerAffix:T.value===1&&!b.value,dirty:Y.value||e.dirty,disabled:$.value,focused:o.value,error:de.value===!1}),{...r,default:we=>{let{props:{class:Ie,...oe}}=we;return f(be,null,[e.prefix&&f("span",{class:"v-text-field__prefix"},[e.prefix]),Ht(f("textarea",J({ref:p,class:Ie,value:s.value,onInput:V,autofocus:e.autofocus,readonly:re.value,disabled:$.value,placeholder:e.placeholder,rows:e.rows,name:e.name,onFocus:w,onBlur:l},oe,H),null),[[vi("intersect"),{handler:d},null,{once:!0}]]),e.autoGrow&&Ht(f("textarea",{class:[Ie,"v-textarea__sizer"],id:`${oe.id}-sizer`,"onUpdate:modelValue":Q=>s.value=Q,ref:N,readonly:!0,"aria-hidden":"true"},null),[[oO,s.value]]),e.suffix&&f("span",{class:"v-text-field__suffix"},[e.suffix])])}})},details:I?U=>{var B;return f(be,null,[(B=r.details)==null?void 0:B.call(r,U),P&&f(be,null,[f("span",null,null),f(eh,{active:e.persistentCounter||o.value,value:u.value,max:c.value,disabled:e.disabled},r.counter)])])}:void 0})}),bi({},h,v,p)}}),pU=z({withBackground:Boolean,...Ee(),...nt(),...Ge()},"VThemeProvider"),yU=te()({name:"VThemeProvider",props:pU(),setup(e,t){let{slots:n}=t;const{themeClasses:i}=ft(e);return()=>{var r;return e.withBackground?f(e.tag,{class:["v-theme-provider",i.value,e.class],style:e.style},{default:()=>{var s;return[(s=n.default)==null?void 0:s.call(n)]}}):(r=n.default)==null?void 0:r.call(n)}}}),_U=z({dotColor:String,fillDot:Boolean,hideDot:Boolean,icon:Be,iconColor:String,lineColor:String,...Ee(),...Mt(),...vr(),...on()},"VTimelineDivider"),bU=te()({name:"VTimelineDivider",props:_U(),setup(e,t){let{slots:n}=t;const{sizeClasses:i,sizeStyles:r}=Xa(e,"v-timeline-divider__dot"),{backgroundColorStyles:s,backgroundColorClasses:o}=wt(ee(e,"dotColor")),{roundedClasses:a}=qt(e,"v-timeline-divider__dot"),{elevationClasses:l}=Cn(e),{backgroundColorClasses:u,backgroundColorStyles:c}=wt(ee(e,"lineColor"));return se(()=>f("div",{class:["v-timeline-divider",{"v-timeline-divider--fill-dot":e.fillDot},e.class],style:e.style},[f("div",{class:["v-timeline-divider__before",u.value],style:c.value},null),!e.hideDot&&f("div",{key:"dot",class:["v-timeline-divider__dot",l.value,a.value,i.value],style:r.value},[f("div",{class:["v-timeline-divider__inner-dot",o.value,a.value],style:s.value},[n.default?f(ze,{key:"icon-defaults",disabled:!e.icon,defaults:{VIcon:{color:e.iconColor,icon:e.icon,size:e.size}}},n.default):f(st,{key:"icon",color:e.iconColor,icon:e.icon,size:e.size},null)])]),f("div",{class:["v-timeline-divider__after",u.value],style:c.value},null)])),{}}}),ZA=z({density:String,dotColor:String,fillDot:Boolean,hideDot:Boolean,hideOpposite:{type:Boolean,default:void 0},icon:Be,iconColor:String,lineInset:[Number,String],...Ee(),...Jt(),...on(),...Mt(),...vr(),...Ge()},"VTimelineItem"),wU=te()({name:"VTimelineItem",props:ZA(),setup(e,t){let{slots:n}=t;const{dimensionStyles:i}=Zt(e),r=ye(0),s=j();return he(s,o=>{var a;o&&(r.value=((a=o.$el.querySelector(".v-timeline-divider__dot"))==null?void 0:a.getBoundingClientRect().width)??0)},{flush:"post"}),se(()=>{var o,a;return f("div",{class:["v-timeline-item",{"v-timeline-item--fill-dot":e.fillDot},e.class],style:[{"--v-timeline-dot-size":Se(r.value),"--v-timeline-line-inset":e.lineInset?`calc(var(--v-timeline-dot-size) / 2 + ${Se(e.lineInset)})`:Se(0)},e.style]},[f("div",{class:"v-timeline-item__body",style:i.value},[(o=n.default)==null?void 0:o.call(n)]),f(bU,{ref:s,hideDot:e.hideDot,icon:e.icon,iconColor:e.iconColor,size:e.size,elevation:e.elevation,dotColor:e.dotColor,fillDot:e.fillDot,rounded:e.rounded},{default:n.icon}),e.density!=="compact"&&f("div",{class:"v-timeline-item__opposite"},[!e.hideOpposite&&((a=n.opposite)==null?void 0:a.call(n))])])}),{}}}),SU=z({align:{type:String,default:"center",validator:e=>["center","start"].includes(e)},direction:{type:String,default:"vertical",validator:e=>["vertical","horizontal"].includes(e)},justify:{type:String,default:"auto",validator:e=>["auto","center"].includes(e)},side:{type:String,validator:e=>e==null||["start","end"].includes(e)},lineThickness:{type:[String,Number],default:2},lineColor:String,truncateLine:{type:String,validator:e=>["start","end","both"].includes(e)},...$f(ZA({lineInset:0}),["dotColor","fillDot","hideOpposite","iconColor","lineInset","size"]),...Ee(),...dn(),...Ge(),...nt()},"VTimeline"),CU=te()({name:"VTimeline",props:SU(),setup(e,t){let{slots:n}=t;const{themeClasses:i}=ft(e),{densityClasses:r}=Kn(e),{rtlClasses:s}=sn();Ot({VTimelineDivider:{lineColor:ee(e,"lineColor")},VTimelineItem:{density:ee(e,"density"),dotColor:ee(e,"dotColor"),fillDot:ee(e,"fillDot"),hideOpposite:ee(e,"hideOpposite"),iconColor:ee(e,"iconColor"),lineColor:ee(e,"lineColor"),lineInset:ee(e,"lineInset"),size:ee(e,"size")}});const o=k(()=>{const l=e.side?e.side:e.density!=="default"?"end":null;return l&&`v-timeline--side-${l}`}),a=k(()=>{const l=["v-timeline--truncate-line-start","v-timeline--truncate-line-end"];switch(e.truncateLine){case"both":return l;case"start":return l[0];case"end":return l[1];default:return null}});return se(()=>f(e.tag,{class:["v-timeline",`v-timeline--${e.direction}`,`v-timeline--align-${e.align}`,`v-timeline--justify-${e.justify}`,a.value,{"v-timeline--inset-line":!!e.lineInset},i.value,r.value,o.value,s.value,e.class],style:[{"--v-timeline-line-thickness":Se(e.lineThickness)},e.style]},n)),{}}}),IU=z({...Ee(),...Pi({variant:"text"})},"VToolbarItems"),kU=te()({name:"VToolbarItems",props:IU(),setup(e,t){let{slots:n}=t;return Ot({VBtn:{color:ee(e,"color"),height:"inherit",variant:ee(e,"variant")}}),se(()=>{var i;return f("div",{class:["v-toolbar-items",e.class],style:e.style},[(i=n.default)==null?void 0:i.call(n)])}),{}}}),EU=z({id:String,text:String,...pt(uc({closeOnBack:!1,location:"end",locationStrategy:"connected",eager:!0,minWidth:0,offset:10,openOnClick:!1,openOnHover:!0,origin:"auto",scrim:!1,scrollStrategy:"reposition",transition:!1}),["absolute","persistent"])},"VTooltip"),e1=te()({name:"VTooltip",props:EU(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const i=Re(e,"modelValue"),{scopeId:r}=zo(),s=Sn(),o=k(()=>e.id||`v-tooltip-${s}`),a=j(),l=k(()=>e.location.split(" ").length>1?e.location:e.location+" center"),u=k(()=>e.origin==="auto"||e.origin==="overlap"||e.origin.split(" ").length>1||e.location.split(" ").length>1?e.origin:e.origin+" center"),c=k(()=>e.transition?e.transition:i.value?"scale-transition":"fade-transition"),d=k(()=>J({"aria-describedby":o.value},e.activatorProps));return se(()=>{const h=ar.filterProps(e);return f(ar,J({ref:a,class:["v-tooltip",e.class],style:e.style,id:o.value},h,{modelValue:i.value,"onUpdate:modelValue":v=>i.value=v,transition:c.value,absolute:!0,location:l.value,origin:u.value,persistent:!0,role:"tooltip",activatorProps:d.value,_disableGlobalStack:!0},r),{activator:n.activator,default:function(){var y;for(var v=arguments.length,g=new Array(v),p=0;p<v;p++)g[p]=arguments[p];return((y=n.default)==null?void 0:y.call(n,...g))??e.text}})}),bi({},a)}}),TU=te()({name:"VValidation",props:GE(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const i=KE(e,"validation");return()=>{var r;return(r=n.default)==null?void 0:r.call(n,i)}}}),AU=Object.freeze(Object.defineProperty({__proto__:null,VAlert:g2,VAlertTitle:$E,VApp:kL,VAppBar:zL,VAppBarNavIcon:f2,VAppBarTitle:h2,VAutocomplete:DF,VAvatar:mi,VBadge:PT,VBanner:LF,VBannerActions:xT,VBannerText:RT,VBottomNavigation:BF,VBottomSheet:UF,VBreadcrumbs:zF,VBreadcrumbsDivider:DT,VBreadcrumbsItem:NT,VBtn:Ke,VBtnGroup:Iv,VBtnToggle:XL,VCard:QF,VCardActions:OT,VCardItem:FT,VCardSubtitle:MT,VCardText:BT,VCardTitle:LT,VCarousel:sB,VCarouselItem:aB,VCheckbox:k2,VCheckboxBtn:or,VChip:Wo,VChipGroup:x2,VClassIcon:Bp,VCode:lB,VCol:O$,VColorPicker:QB,VCombobox:ZB,VComponentIcon:wv,VConfirmEdit:Lv,VContainer:R$,VCounter:eh,VDataIterator:u$,VDataTable:k$,VDataTableFooter:Ou,VDataTableHeaders:wo,VDataTableRow:py,VDataTableRows:So,VDataTableServer:P$,VDataTableVirtual:T$,VDatePicker:zv,VDatePickerControls:$v,VDatePickerHeader:Uv,VDatePickerMonth:Hv,VDatePickerMonths:jv,VDatePickerYears:Wv,VDefaultsProvider:ze,VDialog:Rv,VDialogBottomTransition:PL,VDialogTopTransition:xL,VDialogTransition:Gf,VDivider:Ar,VEmptyState:z$,VExpandTransition:Kf,VExpandXTransition:Wp,VExpansionPanel:Kv,VExpansionPanelText:qv,VExpansionPanelTitle:Gv,VExpansionPanels:Yv,VFab:K$,VFabTransition:AL,VFadeTransition:Au,VField:il,VFieldLabel:zl,VFileInput:Q$,VFooter:J$,VForm:e4,VHover:n4,VIcon:st,VImg:Fr,VInfiniteScroll:r4,VInput:Pn,VItem:a4,VItemGroup:o4,VKbd:l4,VLabel:tl,VLayout:c4,VLayoutItem:f4,VLazy:m4,VLigatureIcon:mL,VList:Ma,VListGroup:Nu,VListImg:Y2,VListItem:$i,VListItemAction:pT,VListItemMedia:J2,VListItemSubtitle:aT,VListItemTitle:lT,VListSubheader:cT,VLocaleProvider:g4,VMain:y4,VMenu:yo,VMessages:zE,VNavigationDrawer:T4,VNoSsr:A4,VOtpInput:x4,VOverlay:ar,VPagination:Fv,VParallax:D4,VProgressCircular:Es,VProgressLinear:Qf,VRadio:O4,VRadioGroup:L4,VRangeSlider:B4,VRating:U4,VResponsive:Sv,VRow:H$,VScaleTransition:Hp,VScrollXReverseTransition:VL,VScrollXTransition:RL,VScrollYReverseTransition:NL,VScrollYTransition:DL,VSelect:sy,VSelectionControl:Ts,VSelectionControlGroup:HE,VSheet:As,VSkeletonLoader:z4,VSlideGroup:Vu,VSlideGroupItem:q4,VSlideXReverseTransition:ML,VSlideXTransition:OL,VSlideYReverseTransition:LL,VSlideYTransition:jp,VSlider:Mv,VSnackbar:Qv,VSpacer:TA,VSparkline:X4,VSpeedDial:Z4,VStepper:rU,VStepperActions:qd,VStepperHeader:WA,VStepperItem:qA,VStepperWindow:GA,VStepperWindowItem:KA,VSvgIcon:Fp,VSwitch:oU,VSystemBar:lU,VTab:QA,VTable:Co,VTabs:mU,VTabsWindow:XA,VTabsWindowItem:JA,VTextField:Ui,VTextarea:gU,VThemeProvider:yU,VTimeline:CU,VTimelineItem:wU,VToolbar:Cv,VToolbarItems:kU,VToolbarTitle:Up,VTooltip:e1,VValidation:TU,VVirtualScroll:th,VWindow:_o,VWindowItem:bo},Symbol.toStringTag,{value:"Module"}));function PU(e,t){const n=t.modifiers||{},i=t.value,{once:r,immediate:s,...o}=n,a=!Object.keys(o).length,{handler:l,options:u}=typeof i=="object"?i:{handler:i,options:{attributes:(o==null?void 0:o.attr)??a,characterData:(o==null?void 0:o.char)??a,childList:(o==null?void 0:o.child)??a,subtree:(o==null?void 0:o.sub)??a}},c=new MutationObserver(function(){let d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],h=arguments.length>1?arguments[1]:void 0;l==null||l(d,h),r&&t1(e,t)});s&&(l==null||l([],c)),e._mutate=Object(e._mutate),e._mutate[t.instance.$.uid]={observer:c},c.observe(e,u)}function t1(e,t){var n;(n=e._mutate)!=null&&n[t.instance.$.uid]&&(e._mutate[t.instance.$.uid].observer.disconnect(),delete e._mutate[t.instance.$.uid])}const xU={mounted:PU,unmounted:t1};function RU(e,t){var r,s;const n=t.value,i={passive:!((r=t.modifiers)!=null&&r.active)};window.addEventListener("resize",n,i),e._onResize=Object(e._onResize),e._onResize[t.instance.$.uid]={handler:n,options:i},(s=t.modifiers)!=null&&s.quiet||n()}function VU(e,t){var r;if(!((r=e._onResize)!=null&&r[t.instance.$.uid]))return;const{handler:n,options:i}=e._onResize[t.instance.$.uid];window.removeEventListener("resize",n,i),delete e._onResize[t.instance.$.uid]}const DU={mounted:RU,unmounted:VU};function n1(e,t){const{self:n=!1}=t.modifiers??{},i=t.value,r=typeof i=="object"&&i.options||{passive:!0},s=typeof i=="function"||"handleEvent"in i?i:i.handler,o=n?e:t.arg?document.querySelector(t.arg):window;o&&(o.addEventListener("scroll",s,r),e._onScroll=Object(e._onScroll),e._onScroll[t.instance.$.uid]={handler:s,options:r,target:n?void 0:o})}function i1(e,t){var s;if(!((s=e._onScroll)!=null&&s[t.instance.$.uid]))return;const{handler:n,options:i,target:r=e}=e._onScroll[t.instance.$.uid];r.removeEventListener("scroll",n,i),delete e._onScroll[t.instance.$.uid]}function NU(e,t){t.value!==t.oldValue&&(i1(e,t),n1(e,t))}const OU={mounted:n1,unmounted:i1,updated:NU};function MU(e,t){const n=typeof e=="string"?Z(e):e,i=LU(n,t);return{mounted:i,updated:i,unmounted(r){Dk(null,r)}}}function LU(e,t){return function(n,i,r){var d,h,v;const s=typeof t=="function"?t(i):t,o=((d=i.value)==null?void 0:d.text)??i.value??(s==null?void 0:s.text),a=Ep(i.value)?i.value:{},l=()=>o??n.textContent,u=(r.ctx===i.instance.$?(h=FU(r,i.instance.$))==null?void 0:h.provides:(v=r.ctx)==null?void 0:v.provides)??i.instance.$.provides,c=qi(e,J(s,a),l);c.appContext=Object.assign(Object.create(null),i.instance.$.appContext,{provides:u}),Dk(c,n)}}function FU(e,t){const n=new Set,i=s=>{var o,a;for(const l of s){if(!l)continue;if(l===e)return!0;n.add(l);let u;if(l.suspense?u=i([l.ssContent]):Array.isArray(l.children)?u=i(l.children):(o=l.component)!=null&&o.vnode&&(u=i([(a=l.component)==null?void 0:a.subTree])),u)return u;n.delete(l)}return!1};if(!i([t.subTree]))throw new Error("Could not find original vnode");const r=Array.from(n).reverse();for(const s of r)if(s.component)return s.component;return t}const BU=MU(e1,e=>{var t;return{activator:"parent",location:(t=e.arg)==null?void 0:t.replace("-"," "),text:typeof e.value=="boolean"?void 0:e.value}}),$U=Object.freeze(Object.defineProperty({__proto__:null,ClickOutside:IT,Intersect:rc,Mutate:xU,Resize:DU,Ripple:Gr,Scroll:OU,Tooltip:BU,Touch:oy},Symbol.toStringTag,{value:"Module"})),UU=z({allDay:Boolean,interval:Object,intervalDivisions:{type:Number,required:!0},intervalDuration:{type:Number,required:!0},intervalHeight:{type:Number,required:!0},event:Object},"VCalendarIntervalEvent"),Xv=te()({name:"VCalendarIntervalEvent",props:UU(),setup(e){const t=Gn(),n=()=>{var i,r,s,o;if(!((i=e.event)!=null&&i.first)&&!((r=e.event)!=null&&r.last)||t.isEqual((s=e.event)==null?void 0:s.start,(o=e.interval)==null?void 0:o.start))return{height:"100%",margin:Se(0)};{const{height:a,margin:l}=Array.from({length:e.intervalDivisions},u=>u*(e.intervalDuration/e.intervalDivisions)).reduce((u,c,d)=>{var h,v;return t.isBefore(t.addMinutes((h=e.interval)==null?void 0:h.start,c),(v=e.event)==null?void 0:v.start)?{height:Se(e.intervalHeight/e.intervalDivisions*d),margin:Se(e.intervalHeight/e.intervalDivisions*d)}:{height:u.height,margin:u.margin}},{height:"",margin:""});return{height:a,margin:l}}};return se(()=>{var i,r,s,o,a;return f(As,{height:n().height,density:"comfortable",style:`margin-top: ${n().margin}`,class:"v-calendar-internal-event",color:((i=e.event)==null?void 0:i.color)??void 0,rounded:(r=e.event)!=null&&r.first&&((s=e.event)!=null&&s.last)?!0:(o=e.event)!=null&&o.first?"t":(a=e.event)!=null&&a.last?"b":!1},{default:()=>{var l,u;return[(l=e.event)!=null&&l.first?(u=e.event)==null?void 0:u.title:""]}})}),{}}}),r1=z({day:{type:Object,default:()=>({})},dayIndex:Number,events:Array,intervalDivisions:{type:Number,default:2},intervalDuration:{type:Number,default:60},intervalHeight:{type:Number,default:48},intervalFormat:{type:[String,Function],default:"fullTime12h"},intervalStart:{type:Number,default:0}},"VCalendarInterval"),Jv=te()({name:"VCalendarInterval",props:{index:{type:Number,required:!0},...r1()},setup(e,t){const n=Gn(),i=k(()=>{const r=n.addMinutes(n.startOfDay(e.day.date),e.intervalDuration*(e.index+e.intervalStart)),s=n.addMinutes(n.startOfDay(e.day.date),e.intervalDuration*(e.index+e.intervalStart+1)-1);return{...e.day,label:n.format(r,"fullTime24h"),start:r,end:s,events:e.events?e.events.filter(o=>!o.allDay&&(n.isEqual(r,o.start)||n.isWithinRange(o.start,[r,s])||n.isWithinRange(r,[o.start,o.end])||n.isEqual(s,o.end))).map(o=>({...o,first:n.isEqual(r,o.start)||n.isWithinRange(o.start,[r,s]),last:n.isEqual(s,o.end)||n.isWithinRange(o.end,[r,s])})):[]}});return se(()=>{var r,s;return e.dayIndex===0?f("div",{class:"v-calendar-day__row-with-label",style:`height: ${Se(e.intervalHeight)}`},[f("div",{class:"v-calendar-day__row-label"},[f("slot",{name:"intervalFormat",interval:i.value},[e.index?e.intervalFormat?typeof e.intervalFormat=="string"?n.format(i.value.start,"hours12h"):e.intervalFormat(i.value):i.value.label:""])]),f("div",{class:"v-calendar-day__row-hairline"},null),f("div",{class:["v-calendar-day__row-content",i.value.events.some(o=>!o.last)?"v-calendar-day__row-content-through":""]},[f("slot",{name:"intervalBody",interval:i.value},[(r=i.value.events)==null?void 0:r.map(o=>f(Xv,{event:o,interval:i.value,intervalDivisions:e.intervalDivisions,intervalDuration:e.intervalDuration,intervalHeight:e.intervalHeight},null))])])]):f("div",{class:"v-calendar-day__row-without-label",style:`height: ${Se(e.intervalHeight)}`},[f("div",{class:["v-calendar-day__row-content",i.value.events.some(o=>!o.last)?"v-calendar-day__row-content-through":""]},[f("slot",{name:"intervalBody",interval:i.value},[(s=i.value.events)==null?void 0:s.filter(o=>!o.allDay).map(o=>f(Xv,{event:o,interval:i.value,intervalDivisions:e.intervalDivisions,intervalDuration:e.intervalDuration,intervalHeight:e.intervalHeight},null))])])])}),{interval:i}}}),s1=z({hideDayHeader:Boolean,intervals:{type:Number,default:24},...r1()},"VCalendarDay"),bd=te()({name:"VCalendarDay",props:s1(),setup(e){const t=Gn(),n=k(()=>[...Array.from({length:e.intervals},(i,r)=>r).filter((i,r)=>e.intervalDuration*(r+e.intervalStart)<1440)]);return se(()=>{const i=Jv.filterProps(e);return f("div",{class:"v-calendar-day__container"},[!e.hideDayHeader&&f("div",{key:"calender-week-name",class:"v-calendar-weekly__head-weekday"},[t.format(e.day.date,"weekdayShort"),f("div",null,[f(Ke,{icon:!0,text:t.format(e.day.date,"dayOfMonth"),variant:"text"},null)])]),n.value.map((r,s)=>f(Jv,J({index:s},i),null))])}),{intervals:n}}}),o1=z({nextIcon:{type:String,default:"$next"},prevIcon:{type:String,default:"$prev"},title:String,text:{type:String,default:"$vuetify.calendar.today"},viewMode:{type:String,default:"month"}},"VCalendarHeader"),Zv=te()({name:"VCalendarHeader",props:o1(),emits:{"click:next":()=>!0,"click:prev":()=>!0,"click:toToday":()=>!0},setup(e,t){let{emit:n}=t;const{t:i}=At();function r(){n("click:prev")}function s(){n("click:next")}function o(){n("click:toToday")}return se(()=>f("div",{class:"v-calendar-header"},[e.text&&f(Ke,{key:"today",class:"v-calendar-header__today",text:i(e.text),variant:"outlined",onClick:o},null),f(Ke,{density:"comfortable",icon:e.prevIcon,variant:"text",onClick:r},null),f(Ke,{density:"comfortable",icon:e.nextIcon,variant:"text",onClick:s},null),f("div",{class:"v-calendar-header__title"},[e.title])])),{}}}),HU=z({allDay:Boolean,day:Object,event:Object},"VCalendarEvent"),MS=te()({name:"VCalendarEvent",props:HU(),setup(e){return se(()=>f(Wo,{color:e.allDay?"primary":void 0,density:"comfortable",label:e.allDay,width:"100%"},{default:()=>{var t,n;return[f(PT,{inline:!0,dot:!0,color:(t=e.event)==null?void 0:t.color},null),(n=e.event)==null?void 0:n.title]}})),{}}}),jU=z({active:Boolean,color:String,day:Object,disabled:Boolean,events:Array,title:[Number,String]},"VCalendarMonthDay"),a1=te()({name:"VCalendarMonthDay",props:jU(),setup(e,t){let{emit:n,slots:i}=t;return se(()=>{var s,o,a,l,u,c,d,h,v,g,p;const r=!!(e.title||(s=i.title)!=null&&s.call(i,{title:e.title}));return f("div",{class:["v-calendar-month__day"]},[!((o=e.day)!=null&&o.isHidden)&&r&&f("div",{key:"title",class:"v-calendar-weekly__day-label"},[((a=i.title)==null?void 0:a.call(i,{title:e.title}))??f(Ke,{class:(l=e.day)!=null&&l.isToday?"v-calendar-weekly__day-label__today":void 0,color:e.color,disabled:e.disabled,icon:!0,size:"x-small",variant:(u=e.day)!=null&&u.isToday?void 0:"flat"},{default:()=>[e.title]})]),!((c=e.day)!=null&&c.isHidden)&&f("div",{key:"content",class:"v-calendar-weekly__day-content"},[((d=i.content)==null?void 0:d.call(i))??f("div",null,[f("div",{class:"v-calendar-weekly__day-alldayevents-container"},[(h=e.events)==null?void 0:h.filter(y=>y.allDay).map(y=>i.event?i.event({day:e.day,allDay:!0,event:y}):f(MS,{day:e.day,event:y,allDay:!0},null))]),f("div",{class:"v-calendar-weekly__day-events-container"},[(v=e.events)==null?void 0:v.filter(y=>!y.allDay).map(y=>i.event?i.event({day:e.day,event:y,allDay:!1}):f(MS,{day:e.day,event:y},null))])])]),!((g=e.day)!=null&&g.isHidden)&&((p=i.default)==null?void 0:p.call(i))])}),{}}}),WU=z({hideHeader:Boolean,hideWeekNumber:Boolean,...PA(),...s1(),...o1()},"VCalender"),zU=te()({name:"VCalendar",props:WU(),emits:{next:null,prev:null,"update:modelValue":null},setup(e,t){let{emit:n,slots:i}=t;const r=Gn(),{daysInMonth:s,daysInWeek:o,genDays:a,model:l,displayValue:u,weekNumbers:c,weekDays:d}=xA(e),h=r.getWeekdays();function v(){e.viewMode==="month"&&(l.value=[r.addMonths(u.value,1)]),e.viewMode==="week"&&(l.value=[r.addDays(u.value,7)]),e.viewMode==="day"&&(l.value=[r.addDays(u.value,1)])}function g(){e.viewMode==="month"&&(l.value=[r.addMonths(u.value,-1)]),e.viewMode==="week"&&(l.value=[r.addDays(u.value,-7)]),e.viewMode==="day"&&(l.value=[r.addDays(u.value,-1)])}function p(){l.value=[r.date()]}const y=k(()=>r.format(u.value,"monthAndYear"));return se(()=>{var x;const w=bd.filterProps(e),C=Zv.filterProps(e);return f("div",{class:["v-calendar",{"v-calendar-monthly":e.viewMode==="month","v-calendar-weekly":e.viewMode==="week","v-calendar-day":e.viewMode==="day"}]},[f("div",null,[!e.hideHeader&&(i.header?i.header({title:y.value}):f(Zv,J({key:"calendar-header"},C,{title:y.value,"onClick:next":v,"onClick:prev":g,"onClick:toToday":p}),null))]),f("div",{class:["v-calendar__container",`days__${d.value.length}`]},[e.viewMode==="month"&&!e.hideDayHeader&&f("div",{class:["v-calendar-weekly__head",`days__${d.value.length}`,...e.hideWeekNumber?[]:["v-calendar-weekly__head-weeknumbers"]],key:"calenderWeeklyHead"},[e.hideWeekNumber?"":f("div",{key:"weekNumber0",class:"v-calendar-weekly__head-weeknumber"},null),d.value.map(A=>f("div",{class:`v-calendar-weekly__head-weekday${e.hideWeekNumber?"":"-with-weeknumber"}`},[h[A]]))]),e.viewMode==="month"&&f("div",{key:"VCalendarMonth",class:["v-calendar-month__days",`days${e.hideWeekNumber?"":"-with-weeknumbers"}__${d.value.length}`,...e.hideWeekNumber?[]:["v-calendar-month__weeknumbers"]]},[PO(s.value,d.value.length).map((A,V)=>[e.hideWeekNumber?"":f("div",{class:"v-calendar-month__weeknumber"},[c.value[V]]),A.map(N=>{var T;return f(a1,{color:r.isSameDay(r.date(),N.date)?"primary":void 0,day:N,title:N?r.format(N.date,"dayOfMonth"):"NaN",events:(T=e.events)==null?void 0:T.filter(b=>r.isSameDay(N.date,b.start)||r.isSameDay(N.date,b.end))},{event:i.event})})])]),e.viewMode==="week"&&o.value.map((A,V)=>{var N;return f(bd,J(w,{day:A,dayIndex:V,events:(N=e.events)==null?void 0:N.filter(T=>r.isSameDay(T.start,A.date)||r.isSameDay(T.end,A.date))}),null)}),e.viewMode==="day"&&f(bd,J(w,{day:a([u.value],r.date())[0],dayIndex:0,events:(x=e.events)==null?void 0:x.filter(A=>r.isSameDay(A.start,a([u.value],r.date())[0].date)||r.isSameDay(A.end,a([u.value],r.date())[0].date))}),null)])])}),{daysInMonth:s,daysInWeek:o,genDays:a}}}),qU=z({hideActions:Boolean,...nl(),...GT(),...rl({placeholder:"mm/dd/yyyy",prependIcon:"$calendar"}),...pt(OA({weeksInMonth:"dynamic",hideHeader:!0}),["active"])},"VDateInput"),GU=te()({name:"VDateInput",props:qU(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const{t:i}=At(),r=Gn(),{isFocused:s,focus:o,blur:a}=gr(e),l=Re(e,"modelValue",e.multiple?[]:null),u=ye(!1),c=k(()=>{const p=Dt(l.value);if(!p.length)return null;if(e.multiple===!0)return i("$vuetify.datePicker.itemsSelected",p.length);if(e.multiple==="range"){const y=p[0],w=p[p.length-1];return r.isValid(y)&&r.isValid(w)?`${r.format(y,"keyboardDate")} - ${r.format(w,"keyboardDate")}`:""}return r.isValid(l.value)?r.format(l.value,"keyboardDate"):""}),d=k(()=>!e.disabled&&!e.readonly);function h(p){if(p.key!=="Enter")return;if(!u.value||!s.value){u.value=!0;return}const y=p.target;l.value=r.date(y.value)}function v(p){p.preventDefault(),p.stopPropagation(),u.value=!0}function g(){u.value=!1}se(()=>{const p=Lv.filterProps(e),y=zv.filterProps(pt(e,["active"])),w=Ui.filterProps(e);return f(Ui,J(w,{class:e.class,style:e.style,modelValue:c.value,onKeydown:d.value?h:void 0,focused:u.value||s.value,onFocus:o,onBlur:a,"onClick:control":d.value?v:void 0,"onClick:prepend":d.value?v:void 0}),{default:()=>{var C;return[f(yo,{modelValue:u.value,"onUpdate:modelValue":x=>u.value=x,activator:"parent","min-width":"0",closeOnContentClick:!1,openOnClick:!1},{default:()=>[f(Lv,J(p,{modelValue:l.value,"onUpdate:modelValue":x=>l.value=x,onSave:g}),{default:x=>{let{actions:A,model:V}=x;return f(zv,J(y,{modelValue:e.hideActions?l.value:V.value,"onUpdate:modelValue":N=>{e.hideActions?(l.value=N,e.multiple||(u.value=!1)):V.value=N},onMousedown:N=>N.preventDefault()}),{actions:e.hideActions?void 0:()=>A})}})]}),(C=n.default)==null?void 0:C.call(n)]}})})}}),KU=z({controlVariant:{type:String,default:"default"},inset:Boolean,hideInput:Boolean,modelValue:{type:Number,default:null},min:{type:Number,default:Number.MIN_SAFE_INTEGER},max:{type:Number,default:Number.MAX_SAFE_INTEGER},step:{type:Number,default:1},...pt(rl({}),["appendInnerIcon","modelValue","prependInnerIcon"])},"VNumberInput"),YU=te()({name:"VNumberInput",props:{...KU()},emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const i=Re(e,"modelValue"),r=k({get:()=>i.value,set(E){if(E===null){i.value=null;return}!isNaN(+E)&&+E<=e.max&&+E>=e.min&&(i.value=+E)}}),s=j(),o=k(()=>Ld(e.step)),a=k(()=>typeof r.value=="number"?Ld(r.value):0),l=lc(),u=k(()=>e.disabled||e.readonly||(l==null?void 0:l.isReadonly.value)),c=k(()=>u.value?!1:(r.value??0)+e.step<=e.max),d=k(()=>u.value?!1:(r.value??0)-e.step>=e.min),h=k(()=>e.hideInput?"stacked":e.controlVariant),v=k(()=>h.value==="split"?"$plus":"$collapse"),g=k(()=>h.value==="split"?"$minus":"$expand"),p=k(()=>h.value==="split"?"default":"small"),y=k(()=>h.value==="stacked"?"auto":"100%"),w=k(()=>({click:A})),C=k(()=>({click:V}));dt(()=>{!e.readonly&&!e.disabled&&_()});function x(){let E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;if(u.value)return;if(r.value==null){r.value=Ut(0,e.min,e.max);return}const P=Math.max(a.value,o.value);E?c.value&&(r.value=+(r.value+e.step).toFixed(P)):d.value&&(r.value=+(r.value-e.step).toFixed(P))}function A(E){E.stopPropagation(),x()}function V(E){E.stopPropagation(),x(!1)}function N(E){var q,W,X;if(!E.data)return;const P=(q=E.target)==null?void 0:q.value,I=(W=E.target)==null?void 0:W.selectionStart,R=(X=E.target)==null?void 0:X.selectionEnd,H=P?P.slice(0,I)+E.data+P.slice(R):E.data;/^-?(\d+(\.\d*)?|(\.\d+)|\d*|\.)$/.test(H)||E.preventDefault()}async function T(E){["Enter","ArrowLeft","ArrowRight","Backspace","Delete","Tab"].includes(E.key)||E.ctrlKey||["ArrowDown","ArrowUp"].includes(E.key)&&(E.preventDefault(),_(),await tt(),E.key==="ArrowDown"?x(!1):x())}function b(E){E.stopPropagation()}function _(){if(!s.value)return;const E=s.value.value;E&&!isNaN(+E)?r.value=Ut(+E,e.min,e.max):r.value=null}return se(()=>{const{modelValue:E,...P}=Ui.filterProps(e);function I(){return n.increment?f(ze,{key:"increment-defaults",defaults:{VBtn:{disabled:!c.value,flat:!0,height:y.value,size:p.value,icon:v.value}}},{default:()=>[n.increment(w.value)]}):f(Ke,{disabled:!c.value,flat:!0,key:"increment-btn",height:y.value,name:"increment-btn",icon:v.value,onClick:A,onMousedown:b,size:p.value,tabindex:"-1"},null)}function R(){return n.decrement?f(ze,{key:"decrement-defaults",defaults:{VBtn:{disabled:!d.value,flat:!0,height:y.value,size:p.value,icon:g.value}}},{default:()=>[n.decrement(C.value)]}):f(Ke,{disabled:!d.value,flat:!0,key:"decrement-btn",height:y.value,name:"decrement-btn",icon:g.value,size:p.value,tabindex:"-1",onClick:V,onMousedown:b},null)}function H(){return f("div",{class:"v-number-input__control"},[R(),f(Ar,{vertical:h.value!=="stacked"},null),I()])}function q(){return!e.hideInput&&!e.inset?f(Ar,{vertical:!0},null):void 0}const W=h.value==="split"?f("div",{class:"v-number-input__control"},[f(Ar,{vertical:!0},null),I()]):e.reverse?void 0:f(be,null,[q(),H()]),X=n["append-inner"]||W,U=h.value==="split"?f("div",{class:"v-number-input__control"},[R(),f(Ar,{vertical:!0},null)]):e.reverse?f(be,null,[H(),q()]):void 0,B=n["prepend-inner"]||U;return f(Ui,J({ref:s,modelValue:r.value,"onUpdate:modelValue":$=>r.value=$,onBeforeinput:N,onChange:_,onKeydown:T,class:["v-number-input",{"v-number-input--default":h.value==="default","v-number-input--hide-input":e.hideInput,"v-number-input--inset":e.inset,"v-number-input--reverse":e.reverse,"v-number-input--split":h.value==="split","v-number-input--stacked":h.value==="stacked"},e.class]},P,{style:e.style,inputmode:"decimal"}),{...n,"append-inner":X?function(){var de;for(var $=arguments.length,Y=new Array($),re=0;re<$;re++)Y[re]=arguments[re];return f(be,null,[(de=n["append-inner"])==null?void 0:de.call(n,...Y),W])}:void 0,"prepend-inner":B?function(){var de;for(var $=arguments.length,Y=new Array($),re=0;re<$;re++)Y[re]=arguments[re];return f(be,null,[U,(de=n["prepend-inner"])==null?void 0:de.call(n,...Y)])}:void 0})}),bi({},s)}}),QU=z({...ky()},"VStepperActions"),l1=te()({name:"VStepperVerticalActions",props:QU(),emits:{"click:prev":()=>!0,"click:next":()=>!0},setup(e,t){let{emit:n,slots:i}=t;function r(){n("click:prev")}function s(){n("click:next")}return se(()=>{const o=qd.filterProps(e);return f(qd,J({class:"v-stepper-vertical-actions"},o,{"onClick:prev":r,"onClick:next":s}),i)}),{}}}),XU=z({hideActions:Boolean,...zA(),...pt(Cy({expandIcon:"",collapseIcon:""}),["hideActions"])},"VStepperVerticalItem"),u1=te()({name:"VStepperVerticalItem",props:XU(),emits:{"click:next":()=>!0,"click:prev":()=>!0,"click:finish":()=>!0},setup(e,t){let{emit:n,slots:i}=t;const r=j(),s=k(()=>isNaN(parseInt(e.value))?e.value:Number(e.value)),o=k(()=>{var C;return(C=r.value)==null?void 0:C.groupItem}),a=k(()=>{var C;return((C=o.value)==null?void 0:C.isSelected.value)??!1}),l=k(()=>a.value?e.rules.every(C=>C()===!0):null),u=k(()=>!e.disabled&&e.editable),c=k(()=>e.error||a.value&&!l.value),d=k(()=>e.complete||e.rules.length>0&&l.value===!0),h=k(()=>{var C;return e.disabled?e.disabled:(C=o.value)!=null&&C.isFirst.value?"prev":!1}),v=k(()=>{var C;return c.value?e.errorIcon:d.value?e.completeIcon:(C=o.value)!=null&&C.isSelected.value&&e.editable?e.editIcon:e.icon}),g=k(()=>({canEdit:u.value,hasError:c.value,hasCompleted:d.value,title:e.title,subtitle:e.subtitle,step:s.value,value:e.value})),p=k(()=>({...g.value,prev:w,next:y}));function y(){var C;n("click:next"),!((C=o.value)!=null&&C.isLast.value)&&o.value.group.next()}function w(){n("click:prev"),o.value.group.prev()}return se(()=>{var V;const C=(d.value||((V=o.value)==null?void 0:V.isSelected.value))&&!c.value&&!e.disabled,x=!e.hideActions||!!i.actions,A=Kv.filterProps(e);return f(Kv,J({_as:"VStepperVerticalItem",ref:r},A,{class:["v-stepper-vertical-item",{"v-stepper-vertical-item--complete":d.value,"v-stepper-vertical-item--disabled":e.disabled,"v-stepper-vertical-item--editable":u.value,"v-stepper-vertical-item--error":c.value},e.class],readonly:!e.editable,style:e.style,color:"","hide-actions":!1,value:s.value}),{title:()=>{var N,T;return f(be,null,[f(mi,{key:"stepper-avatar",class:"v-stepper-vertical-item__avatar",color:C?e.color:void 0,size:24,start:!0},{default:()=>{var b;return[((b=i.icon)==null?void 0:b.call(i,g.value))??(v.value?f(st,{icon:v.value},null):s.value)]}}),f("div",null,[f("div",{class:"v-stepper-vertical-item__title"},[((N=i.title)==null?void 0:N.call(i,g.value))??e.title]),f("div",{class:"v-stepper-vertical-item__subtitle"},[((T=i.subtitle)==null?void 0:T.call(i,g.value))??e.subtitle])])])},text:()=>{var N,T;return f(be,null,[((N=i.default)==null?void 0:N.call(i,g.value))??e.text,x&&f(ze,{defaults:{VStepperVerticalActions:{disabled:h.value,finish:(T=o.value)==null?void 0:T.isLast.value}}},{default:()=>{var b;return[((b=i.actions)==null?void 0:b.call(i,p.value))??f(l1,{"onClick:next":y,"onClick:prev":w},{prev:i.prev?()=>{var _;return(_=i.prev)==null?void 0:_.call(i,p.value)}:void 0,next:i.next?()=>{var _;return(_=i.next)==null?void 0:_.call(i,p.value)}:void 0})]}})])}})}),{}}}),JU=z({prevText:{type:String,default:"$vuetify.stepper.prev"},nextText:{type:String,default:"$vuetify.stepper.next"},...YA(),...pt(FA({mandatory:"force",variant:"accordion"}),["static"])},"VStepperVertical"),ZU=te()({name:"VStepperVertical",props:JU(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const i=j(),{color:r,eager:s,editable:o,prevText:a,nextText:l,hideActions:u}=Wr(e),c=Re(e,"modelValue"),d=k(()=>e.items.map((h,v)=>{const g=Qt(h,e.itemTitle,h),p=Qt(h,e.itemValue,v+1);return{title:g,value:p,raw:h}}));return Ot({VStepperVerticalItem:{color:r,eager:s,editable:o,prevText:a,nextText:l,hideActions:u,static:!0},VStepperActions:{color:r}}),se(()=>{const h=Yv.filterProps(e);return f(Yv,J(h,{modelValue:c.value,"onUpdate:modelValue":v=>c.value=v,ref:i,class:["v-stepper",{"v-stepper--alt-labels":e.altLabels,"v-stepper--flat":e.flat,"v-stepper--non-linear":e.nonLinear,"v-stepper--mobile":e.mobile},e.class],style:e.style}),{...n,default:v=>{var y;let{prev:g,next:p}=v;return f(be,null,[d.value.map(w=>{let{raw:C,...x}=w;return f(u1,x,{...n,default:n[`item.${x.value}`]})}),(y=n.default)==null?void 0:y.call(n,{prev:g,next:p,step:c.value})])}})}),{}}}),eH=te()({name:"VPullToRefresh",props:{disabled:Boolean,pullDownThreshold:{type:Number,default:64}},emits:{load:e=>!0},setup(e,t){let{slots:n,emit:i}=t,r=0,s=[];const o=ye(0),a=j(),l=ye(!1),u=ye(!1),c=ye(!1),d=k(()=>o.value>=e.pullDownThreshold&&!l.value),h=k(()=>Ut(o.value,0,e.pullDownThreshold));function v(y){l.value||e.disabled||(c.value=!0,r="clientY"in y?y.clientY:y.touches[0].clientY)}function g(y){if(l.value||!c.value||e.disabled)return;const w="clientY"in y?y.clientY:y.touches[0].clientY;s.length&&!s[0].scrollTop&&(o.value=w-r)}function p(y){l.value||e.disabled||(c.value=!1,d.value?(i("load",{done:function(){l.value&&(o.value=0,l.value=!1)}}),l.value=!0):o.value=0)}dt(()=>{s=ku(a.value)}),he([h,l],()=>{if(s.length){const y=h.value&&!l.value;s.forEach(w=>w.style.overflow=y?"hidden":"auto")}}),he(h,(y,w)=>{u.value=y<w}),se(()=>{var y;return f("div",{class:["v-pull-to-refresh"],onTouchstart:v,onTouchmove:g,onTouchend:p,onMousedown:v,onMouseup:p,onMouseleave:p,onMousemove:g,ref:a},[f("div",{class:["v-pull-to-refresh__pull-down",{"v-pull-to-refresh__pull-down--touching":c.value}],style:{top:Se(-1*e.pullDownThreshold+h.value),height:Se(e.pullDownThreshold)}},[n.pullDownPanel?n.pullDownPanel({canRefresh:d.value,goingUp:u.value,refreshing:l.value}):f("div",{class:["v-pull-to-refresh__pull-down-default"]},[l.value?f(Es,{indeterminate:!0,active:!1},null):f(st,{icon:d.value||u.value?"$sortAsc":"$sortDesc"},null)])]),f("div",{class:["v-pull-to-refresh__scroll-container",{"v-pull-to-refresh__scroll-container--touching":c.value}],style:{top:Se(h.value)}},[(y=n.default)==null?void 0:y.call(n)])])})}}),tH=z({closable:[Boolean,String],closeText:{type:String,default:"$vuetify.dismiss"},modelValue:{type:Array,default:()=>[]},...pt($A(),["modelValue"])},"VSnackbarQueue"),nH=te()({name:"VSnackbarQueue",props:tH(),emits:{"update:modelValue":e=>!0},setup(e,t){let{emit:n,slots:i}=t;const{t:r}=At(),s=ye(!1),o=ye(!1),a=ye();he(()=>e.modelValue.length,(h,v)=>{!o.value&&h>v&&u()}),he(s,h=>{h&&(o.value=!0)});function l(){e.modelValue.length?u():(a.value=void 0,o.value=!1)}function u(){const[h,...v]=e.modelValue;n("update:modelValue",v),a.value=typeof h=="string"?{text:h}:h,tt(()=>{s.value=!0})}function c(){s.value=!1}const d=k(()=>({color:typeof e.closable=="string"?e.closable:void 0,text:r(e.closeText)}));se(()=>{const h=!!(e.closable||i.actions),{modelValue:v,...g}=Qv.filterProps(e);return f(be,null,[o.value&&!!a.value&&(i.default?f(ze,{defaults:{VSnackbar:a.value}},{default:()=>[i.default({item:a.value})]}):f(Qv,J(g,a.value,{modelValue:s.value,"onUpdate:modelValue":p=>s.value=p,onAfterLeave:l}),{text:i.text?()=>{var p;return(p=i.text)==null?void 0:p.call(i,{item:a.value})}:void 0,actions:h?()=>f(be,null,[i.actions?f(ze,{defaults:{VBtn:d.value}},{default:()=>[i.actions({item:a.value,props:{onClick:c}})]}):f(Ke,J(d.value,{onClick:c}),null)]):void 0}))])})}});function io(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;return String(e).padStart(t,"0")}const iH=z({allowedValues:Function,ampm:Boolean,color:String,disabled:Boolean,displayedValue:null,double:Boolean,format:{type:Function,default:e=>e},max:{type:Number,required:!0},min:{type:Number,required:!0},scrollable:Boolean,readonly:Boolean,rotate:{type:Number,default:0},step:{type:Number,default:1},modelValue:{type:Number}},"VTimePickerClock"),eg=te()({name:"VTimePickerClock",props:iH(),emits:{change:e=>!0,input:e=>!0},setup(e,t){let{emit:n}=t;const i=j(null),r=j(null),s=j(void 0),o=j(!1),a=j(null),l=j(null),{textColorClasses:u,textColorStyles:c}=yn(ee(e,"color")),{backgroundColorClasses:d,backgroundColorStyles:h}=wt(ee(e,"color")),v=k(()=>e.max-e.min+1),g=k(()=>e.double?v.value/2:v.value),p=k(()=>360/g.value),y=k(()=>p.value*Math.PI/180),w=k(()=>e.modelValue==null?e.min:e.modelValue),C=k(()=>.62),x=k(()=>{const U=[];for(let B=e.min;B<=e.max;B=B+e.step)U.push(B);return U});he(()=>e.modelValue,U=>{s.value=U});function A(U){s.value!==U&&(s.value=U),n("input",U)}function V(U){return!e.allowedValues||e.allowedValues(U)}function N(U){if(!e.scrollable||e.disabled)return;U.preventDefault();const B=Math.sign(-U.deltaY||1);let $=w.value;do $=$+B,$=($-e.min+v.value)%v.value+e.min;while(!V($)&&$!==w.value);$!==e.displayedValue&&A($)}function T(U){return e.double&&U-e.min>=g.value}function b(U){return T(U)?C.value:1}function _(U){const B=e.rotate*Math.PI/180;return{x:Math.sin((U-e.min)*y.value+B)*b(U),y:-Math.cos((U-e.min)*y.value+B)*b(U)}}function E(U,B){const $=(Math.round(U/p.value)+(B?g.value:0))%v.value+e.min;return U<360-p.value/2?$:B?e.max-g.value+1:e.min}function P(U){const{x:B,y:$}=_(U);return{left:`${50+B*50}%`,top:`${50+$*50}%`}}function I(U,B){const $=B.x-U.x,Y=B.y-U.y;return Math.sqrt($*$+Y*Y)}function R(U,B){const $=2*Math.atan2(B.y-U.y-I(U,B),B.x-U.x);return Math.abs($*180/Math.PI)}function H(U){a.value===null&&(a.value=U),l.value=U,A(U)}function q(U){var ce,Te;if(U.preventDefault(),!o.value&&U.type!=="click"||!i.value)return;const{width:B,top:$,left:Y}=(ce=i.value)==null?void 0:ce.getBoundingClientRect(),{width:re}=((Te=r.value)==null?void 0:Te.getBoundingClientRect())??{width:0},{clientX:de,clientY:we}="touches"in U?U.touches[0]:U,Ie={x:B/2,y:-B/2},oe={x:de-Y,y:$-we},Q=Math.round(R(Ie,oe)-e.rotate+360)%360,le=e.double&&I(Ie,oe)<(re+re*C.value)/4,pe=Math.ceil(15/p.value);let fe;for(let O=0;O<pe;O++)if(fe=E(Q+O*p.value,le),V(fe)||(fe=E(Q-O*p.value,le),V(fe)))return H(fe)}function W(U){e.disabled||(U.preventDefault(),window.addEventListener("mousemove",q),window.addEventListener("touchmove",q),window.addEventListener("mouseup",X),window.addEventListener("touchend",X),a.value=null,l.value=null,o.value=!0,q(U))}function X(U){U.stopPropagation(),window.removeEventListener("mousemove",q),window.removeEventListener("touchmove",q),window.removeEventListener("mouseup",X),window.removeEventListener("touchend",X),o.value=!1,l.value!==null&&V(l.value)&&n("change",l.value)}se(()=>f("div",{class:[{"v-time-picker-clock":!0,"v-time-picker-clock--indeterminate":e.modelValue==null,"v-time-picker-clock--readonly":e.readonly}],onMousedown:W,onTouchstart:W,onWheel:N,ref:i},[f("div",{class:"v-time-picker-clock__inner",ref:r},[f("div",{class:[{"v-time-picker-clock__hand":!0,"v-time-picker-clock__hand--inner":T(e.modelValue)},u.value],style:[{transform:`rotate(${e.rotate+p.value*(w.value-e.min)}deg) scaleY(${b(w.value)})`},c.value]},null),x.value.map(U=>{const B=U===w.value;return f("div",{class:[{"v-time-picker-clock__item":!0,"v-time-picker-clock__item--active":B,"v-time-picker-clock__item--disabled":e.disabled||!V(U)},B&&d.value],style:[P(U),B&&h.value]},[f("span",null,[e.format(U)])])})])]))}});var Yt=function(e){return e[e.Hour=1]="Hour",e[e.Minute=2]="Minute",e[e.Second=3]="Second",e}(Yt||{});const rH=z({ampm:Boolean,ampmInTitle:Boolean,ampmReadonly:Boolean,color:String,disabled:Boolean,hour:Number,minute:Number,second:Number,period:String,readonly:Boolean,useSeconds:Boolean,selecting:Number,value:Number},"VTimePickerControls"),tg=te()({name:"VTimePickerControls",props:rH(),emits:{"update:period":e=>!0,"update:selecting":e=>!0},setup(e,t){let{emit:n,slots:i}=t;const{t:r}=At();return se(()=>{let s=e.hour;return e.ampm&&(s=s?(s-1)%12+1:12),f("div",{class:"v-time-picker-controls"},[f("div",{class:{"v-time-picker-controls__time":!0,"v-time-picker-controls__time--with-seconds":e.useSeconds}},[f(Ke,{active:e.selecting===1,color:e.selecting===1?e.color:void 0,disabled:e.disabled,variant:"tonal",class:{"v-time-picker-controls__time__btn":!0,"v-time-picker-controls__time--with-ampm__btn":e.ampm,"v-time-picker-controls__time--with-seconds__btn":e.useSeconds},text:e.hour==null?"--":io(`${s}`),onClick:()=>n("update:selecting",Yt.Hour)},null),f("span",{class:["v-time-picker-controls__time__separator",{"v-time-picker-controls--with-seconds__time__separator":e.useSeconds}]},[Ve(":")]),f(Ke,{active:e.selecting===2,color:e.selecting===2?e.color:void 0,class:{"v-time-picker-controls__time__btn":!0,"v-time-picker-controls__time__btn__active":e.selecting===2,"v-time-picker-controls__time--with-ampm__btn":e.ampm,"v-time-picker-controls__time--with-seconds__btn":e.useSeconds},disabled:e.disabled,variant:"tonal",text:e.minute==null?"--":io(e.minute),onClick:()=>n("update:selecting",Yt.Minute)},null),e.useSeconds&&f("span",{class:["v-time-picker-controls__time__separator",{"v-time-picker-controls--with-seconds__time__separator":e.useSeconds}],key:"secondsDivider"},[Ve(":")]),e.useSeconds&&f(Ke,{key:"secondsVal",variant:"tonal",onClick:()=>n("update:selecting",Yt.Second),class:{"v-time-picker-controls__time__btn":!0,"v-time-picker-controls__time__btn__active":e.selecting===3,"v-time-picker-controls__time--with-seconds__btn":e.useSeconds},disabled:e.disabled,text:e.second==null?"--":io(e.second)},null),e.ampm&&e.ampmInTitle&&f("div",{class:["v-time-picker-controls__ampm",{"v-time-picker-controls__ampm--readonly":e.ampmReadonly}]},[f(Ke,{active:e.period==="am",color:e.period==="am"?e.color:void 0,class:{"v-time-picker-controls__ampm__am":!0,"v-time-picker-controls__ampm__btn":!0,"v-time-picker-controls__ampm__btn__active":e.period==="am"},disabled:e.disabled,text:r("$vuetify.timePicker.am"),variant:e.disabled&&e.period==="am"?"elevated":"tonal",onClick:()=>e.period!=="am"?n("update:period","am"):null},null),f(Ke,{active:e.period==="pm",color:e.period==="pm"?e.color:void 0,class:{"v-time-picker-controls__ampm__pm":!0,"v-time-picker-controls__ampm__btn":!0,"v-time-picker-controls__ampm__btn__active":e.period==="pm"},disabled:e.disabled,text:r("$vuetify.timePicker.pm"),variant:e.disabled&&e.period==="pm"?"elevated":"tonal",onClick:()=>e.period!=="pm"?n("update:period","pm"):null},null)])])])}),{}}}),sH=ci(24),c1=ci(12),oH=c1.map(e=>e+12);ci(60);const aH={1:"hour",2:"minute",3:"second"},lH=z({allowedHours:[Function,Array],allowedMinutes:[Function,Array],allowedSeconds:[Function,Array],ampmInTitle:Boolean,disabled:Boolean,format:{type:String,default:"ampm"},max:String,min:String,modelValue:null,readonly:Boolean,scrollable:Boolean,useSeconds:Boolean,...pt(Sy({title:"$vuetify.timePicker.title"}),["landscape"])},"VTimePicker"),uH=te()({name:"VTimePicker",props:lH(),emits:{"update:hour":e=>!0,"update:minute":e=>!0,"update:period":e=>!0,"update:second":e=>!0,"update:modelValue":e=>!0},setup(e,t){let{emit:n,slots:i}=t;const{t:r}=At(),s=j(null),o=j(null),a=j(null),l=j(null),u=j(null),c=j(null),d=j("am"),h=j(Yt.Hour),v=j(null),g=j(null),p=k(()=>{let I;if(e.allowedHours instanceof Array?I=q=>e.allowedHours.includes(q):I=e.allowedHours,!e.min&&!e.max)return I;const R=e.min?Number(e.min.split(":")[0]):0,H=e.max?Number(e.max.split(":")[0]):23;return q=>q>=R*1&&q<=H*1&&(!I||I(q))}),y=k(()=>{let I;const R=!p.value||s.value===null||p.value(s.value);if(e.allowedMinutes instanceof Array?I=$=>e.allowedMinutes.includes($):I=e.allowedMinutes,!e.min&&!e.max)return R?I:()=>!1;const[H,q]=e.min?e.min.split(":").map(Number):[0,0],[W,X]=e.max?e.max.split(":").map(Number):[23,59],U=H*60+q*1,B=W*60+X*1;return $=>{const Y=60*s.value+$;return Y>=U&&Y<=B&&R&&(!I||I($))}}),w=k(()=>{let I;const H=(!p.value||s.value===null||p.value(s.value))&&(!y.value||o.value===null||y.value(o.value));if(e.allowedSeconds instanceof Array?I=de=>e.allowedSeconds.includes(de):I=e.allowedSeconds,!e.min&&!e.max)return H?I:()=>!1;const[q,W,X]=e.min?e.min.split(":").map(Number):[0,0,0],[U,B,$]=e.max?e.max.split(":").map(Number):[23,59,59],Y=q*3600+W*60+(X||0)*1,re=U*3600+B*60+($||0)*1;return de=>{const we=3600*s.value+60*o.value+de;return we>=Y&&we<=re&&H&&(!I||I(de))}}),C=k(()=>e.format==="ampm");he(()=>e.modelValue,I=>T(I)),dt(()=>{T(e.modelValue)});function x(){return s.value!=null&&o.value!=null&&(!e.useSeconds||a.value!=null)?`${io(s.value)}:${io(o.value)}`+(e.useSeconds?`:${io(a.value)}`:""):null}function A(){const I=x();I!==null&&n("update:modelValue",I)}function V(I){return I?(I-1)%12+1:12}function N(I,R){return I%12+(R==="pm"?12:0)}function T(I){if(I==null||I==="")s.value=null,o.value=null,a.value=null;else if(I instanceof Date)s.value=I.getHours(),o.value=I.getMinutes(),a.value=I.getSeconds();else{const[R,,H,,q,W]=I.trim().toLowerCase().match(/^(\d+):(\d+)(:(\d+))?([ap]m)?$/)||new Array(6);s.value=W?N(parseInt(R,10),W):parseInt(R,10),o.value=parseInt(H,10),a.value=parseInt(q||0,10)}d.value=s.value==null||s.value<12?"am":"pm"}function b(I,R){const H=p.value;if(!H)return R;const q=C.value?R<12?c1:oH:sH;return((q.find(X=>H((X+R)%q.length+q[0]))||0)+R)%q.length+q[0]}function _(I){if(d.value=I,s.value!=null){const R=s.value+(d.value==="am"?-12:12);s.value=b("hour",R)}return n("update:period",I),A(),!0}function E(I){h.value===Yt.Hour?s.value=C.value?N(I,d.value):I:h.value===Yt.Minute?o.value=I:a.value=I}function P(I){switch(aH[h.value]){case"hour":n("update:hour",I);break;case"minute":n("update:minute",I);break;case"second":n("update:second",I);break}const R=h.value===(e.useSeconds?Yt.Second:Yt.Minute);h.value===Yt.Hour?h.value=Yt.Minute:e.useSeconds&&h.value===Yt.Minute&&(h.value=Yt.Second),!(s.value===l.value&&o.value===u.value&&(!e.useSeconds||a.value===c.value)||x()===null)&&(l.value=s.value,u.value=o.value,e.useSeconds&&(c.value=a.value),R&&A())}se(()=>{const I=Mu.filterProps(e),R=tg.filterProps(e),H=eg.filterProps(pt(e,["format","modelValue","min","max"]));return f(Mu,J(I,{color:void 0,class:["v-time-picker",e.class],style:e.style}),{title:()=>{var q;return((q=i.title)==null?void 0:q.call(i))??f("div",{class:"v-time-picker__title"},[r(e.title)])},header:()=>f(tg,J(R,{ampm:C.value||e.ampmInTitle,ampmReadonly:C.value&&!e.ampmInTitle,hour:s.value,minute:o.value,period:d.value,second:a.value,selecting:h.value,"onUpdate:period":q=>_(q),"onUpdate:selecting":q=>h.value=q,ref:v}),null),default:()=>f(eg,J(H,{allowedValues:h.value===Yt.Hour?p.value:h.value===Yt.Minute?y.value:w.value,double:h.value===Yt.Hour&&!C.value,format:h.value===Yt.Hour?C.value?V:q=>q:q=>io(q,2),max:h.value===Yt.Hour?C.value&&d.value==="am"?11:23:59,min:h.value===Yt.Hour&&C.value&&d.value==="pm"?12:0,size:20,step:h.value===Yt.Hour?1:5,modelValue:h.value===Yt.Hour?s.value:h.value===Yt.Minute?o.value:a.value,onChange:P,onInput:E,ref:g}),null),actions:i.actions})})}}),cH=z({...pt(oT({collapseIcon:"$treeviewCollapse",expandIcon:"$treeviewExpand"}),["subgroup"])},"VTreeviewGroup"),ng=te()({name:"VTreeviewGroup",props:cH(),setup(e,t){let{slots:n}=t;const i=j(),r=k(()=>{var o;return(o=i.value)!=null&&o.isOpen?e.collapseIcon:e.expandIcon}),s=k(()=>{var o;return{VTreeviewItem:{prependIcon:void 0,appendIcon:void 0,active:(o=i.value)==null?void 0:o.isOpen,toggleIcon:r.value}}});return se(()=>{const o=Nu.filterProps(e);return f(Nu,J(o,{ref:i,class:["v-treeview-group",e.class],subgroup:!0}),{...n,activator:n.activator?a=>f(be,null,[f(ze,{defaults:s.value},{default:()=>{var l;return[(l=n.activator)==null?void 0:l.call(n,a)]}})]):void 0})}),{}}}),d1=Symbol.for("vuetify:v-treeview"),dH=z({loading:Boolean,onToggleExpand:cn(),toggleIcon:Be,...uT({slim:!0})},"VTreeviewItem"),ig=te()({name:"VTreeviewItem",props:dH(),setup(e,t){let{attrs:n,slots:i,emit:r}=t;const s=el(e,n),o=j(),a=k(()=>{var d,h;return((d=o.value)==null?void 0:d.root.activatable.value)&&((h=o.value)==null?void 0:h.isGroupActivator)}),l=k(()=>{var d;return!e.disabled&&e.link!==!1&&(e.link||s.isClickable.value||e.value!=null&&!!((d=o.value)!=null&&d.list)||a.value)});function u(d){var h,v,g,p;!l.value||!a.value&&((h=o.value)!=null&&h.isGroupActivator)||(v=o.value)!=null&&v.root.activatable.value&&((p=o.value)==null||p.activate(!((g=o.value)!=null&&g.isActivated),d))}const c=He(d1,{visibleIds:j()}).visibleIds;return se(()=>{var v,g;const d=pt($i.filterProps(e),["onClick"]),h=i.prepend||e.toggleIcon;return f($i,J({ref:o},d,{active:(v=o.value)==null?void 0:v.isActivated,class:["v-treeview-item",{"v-treeview-item--activatable-group-activator":a.value,"v-treeview-item--filtered":c.value&&!c.value.has((g=o.value)==null?void 0:g.id)},e.class],ripple:!1,onClick:e.onClick??u}),{...i,prepend:h?p=>{var y;return f(be,null,[e.toggleIcon&&f(pT,{start:!1},{default:()=>[f(Ke,{density:"compact",icon:e.toggleIcon,loading:e.loading,variant:"text",onClick:e.onToggleExpand},{loader(){return f(Es,{indeterminate:"disable-shrink",size:"20",width:"2"},null)}})]}),(y=i.prepend)==null?void 0:y.call(i,p)])}:void 0})}),{}}}),f1=z({loadChildren:Function,loadingIcon:{type:String,default:"$loading"},items:Array,openOnClick:{type:Boolean,default:void 0},indeterminateIcon:{type:Be,default:"$checkboxIndeterminate"},falseIcon:Be,trueIcon:Be,returnObject:Boolean,selectable:Boolean,selectedColor:String,selectStrategy:[String,Function,Object]},"VTreeviewChildren"),Gd=te()({name:"VTreeviewChildren",props:f1(),setup(e,t){let{emit:n,slots:i}=t;const r=ye(null),s=k(()=>e.openOnClick!=null?e.openOnClick:e.selectable);function o(l){return new Promise(u=>{var c,d;if(!((c=e.items)!=null&&c.length)||!e.loadChildren)return u();if(((d=l==null?void 0:l.children)==null?void 0:d.length)===0){r.value=l.value,e.loadChildren(l).then(u);return}u()}).finally(()=>{r.value=null})}function a(l,u){e.selectable&&l(!u)}return()=>{var l,u;return((l=i.default)==null?void 0:l.call(i))??((u=e.items)==null?void 0:u.map(c=>{var C;let{children:d,props:h,raw:v}=c;const g=r.value===v.value,p={prepend:x=>{var A;return f(be,null,[e.selectable&&(!d||d&&!["leaf","single-leaf"].includes(e.selectStrategy))&&f("div",null,[f(or,{key:v.value,modelValue:x.isSelected,loading:g,color:e.selectedColor,indeterminate:x.isIndeterminate,indeterminateIcon:e.indeterminateIcon,falseIcon:e.falseIcon,trueIcon:e.trueIcon,onClick:Md(()=>a(x.select,x.isSelected),["stop"]),onKeydown:V=>{["Enter","Space"].includes(V.key)&&(V.stopPropagation(),a(x.select,x.isSelected))}},null)]),(A=i.prepend)==null?void 0:A.call(i,{...x,item:v})])},append:i.append?x=>{var A;return(A=i.append)==null?void 0:A.call(i,{...x,item:v})}:void 0,title:i.title?x=>{var A;return(A=i.title)==null?void 0:A.call(i,{...x,item:v})}:void 0},y=ng.filterProps(h),w=Gd.filterProps(e);return d?f(ng,J(y,{value:e.returnObject?v:y==null?void 0:y.value}),{activator:x=>{let{props:A}=x;const V={...h,...A,value:h==null?void 0:h.value,onToggleExpand:[()=>o(v),A.onClick],onClick:s.value?[()=>o(v),A.onClick]:void 0};return f(ig,J(V,{value:e.returnObject?$e(v):h.value,loading:g}),p)},default:()=>f(Gd,J(w,{items:d,returnObject:e.returnObject}),i)}):((C=i.item)==null?void 0:C.call(i,{props:h}))??f(ig,J(h,{value:e.returnObject?$e(v):h.value}),p)}))}}});function h1(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];for(const n of e)t.push(n),n.children&&h1(n.children,t);return t}const fH=z({openAll:Boolean,search:String,...sl({filterKeys:["title"]}),...f1(),...pt(gT({collapseIcon:"$treeviewCollapse",expandIcon:"$treeviewExpand",slim:!0}),["itemType","nav","openStrategy"]),modelValue:{type:Array,default:()=>[]}},"VTreeview"),hH=te()({name:"VTreeview",props:fH(),emits:{"update:opened":e=>!0,"update:activated":e=>!0,"update:selected":e=>!0,"update:modelValue":e=>!0,"click:open":e=>!0,"click:select":e=>!0},setup(e,t){let{slots:n}=t;const{items:i}=vT(e),r=ee(e,"activeColor"),s=ee(e,"baseColor"),o=ee(e,"color"),a=Re(e,"activated"),l=Re(e,"modelValue"),u=Re(e,"selected",e.modelValue),c=k({get:()=>u.value,set(x){u.value=x,l.value=x}}),d=j(),h=k(()=>e.openAll?C(i.value):e.opened),v=k(()=>h1(i.value)),g=ee(e,"search"),{filteredItems:p}=ol(e,v,g),y=k(()=>{var A;if(!g.value)return null;const x=(A=d.value)==null?void 0:A.getPath;return x?new Set(p.value.flatMap(V=>[...x(V.props.value),...w(V.props.value)])):null});function w(x){var N,T;const A=[],V=(((N=d.value)==null?void 0:N.children.get(x))??[]).slice();for(;V.length;){const b=V.shift();b&&(A.push(b),V.push(...(((T=d.value)==null?void 0:T.children.get(b))??[]).slice()))}return A}function C(x){let A=[];for(const V of x)V.children&&(A.push(e.returnObject?$e(V.raw):V.value),V.children&&(A=A.concat(C(V.children))));return A}return bt(d1,{visibleIds:y}),Ot({VTreeviewGroup:{activeColor:r,baseColor:s,color:o,collapseIcon:ee(e,"collapseIcon"),expandIcon:ee(e,"expandIcon")},VTreeviewItem:{activeClass:ee(e,"activeClass"),activeColor:r,baseColor:s,color:o,density:ee(e,"density"),disabled:ee(e,"disabled"),lines:ee(e,"lines"),variant:ee(e,"variant")}}),se(()=>{const x=Ma.filterProps(e),A=Gd.filterProps(e);return f(Ma,J({ref:d},x,{class:["v-treeview",e.class],"open-strategy":"multiple",style:e.style,opened:h.value,activated:a.value,"onUpdate:activated":V=>a.value=V,selected:c.value,"onUpdate:selected":V=>c.value=V}),{default:()=>[f(Gd,J(A,{returnObject:e.returnObject,items:i.value}),n)]})}),{}}}),mH=Object.freeze(Object.defineProperty({__proto__:null,VCalendar:zU,VCalendarDay:bd,VCalendarHeader:Zv,VCalendarInterval:Jv,VCalendarIntervalEvent:Xv,VCalendarMonthDay:a1,VDateInput:GU,VNumberInput:YU,VPicker:Mu,VPickerTitle:NA,VPullToRefresh:eH,VSnackbarQueue:nH,VStepperVertical:ZU,VStepperVerticalActions:l1,VStepperVerticalItem:u1,VTimePicker:uH,VTimePickerClock:eg,VTimePickerControls:tg,VTreeview:hH,VTreeviewGroup:ng,VTreeviewItem:ig},Symbol.toStringTag,{value:"Module"})),vH={dark:!1,colors:{background:"#FFFFFF",surface:"#FFFFFF",primary:"#6200EE","primary-darken-1":"#3700B3",secondary:"#03DAC6","secondary-darken-1":"#018786",error:"#B00020",info:"#2196F3",success:"#4CAF50",warning:"#FB8C00","blue-grey-lighten":"#37474F"}},gH={dark:!0,colors:{success:"#78dc77",secondary:"#000000",primary:"#cfbdff",info:"#9ecaff","blue-grey-lighten":"#ECEFF1"}},pH=wE({components:{...AU,...mH},directives:$U,theme:{defaultTheme:"myCustomLightTheme",themes:{myCustomLightTheme:vH,myCustomDarkTheme:gH}},locale:{locale:"it",fallback:"en"},date:{locale:{it:"it-IT"}}});/*!
  * vue-router v4.4.5
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const ha=typeof document<"u";function m1(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function yH(e){return e.__esModule||e[Symbol.toStringTag]==="Module"||e.default&&m1(e.default)}const It=Object.assign;function Am(e,t){const n={};for(const i in t){const r=t[i];n[i]=Hi(r)?r.map(e):e(r)}return n}const iu=()=>{},Hi=Array.isArray,v1=/#/g,_H=/&/g,bH=/\//g,wH=/=/g,SH=/\?/g,g1=/\+/g,CH=/%5B/g,IH=/%5D/g,p1=/%5E/g,kH=/%60/g,y1=/%7B/g,EH=/%7C/g,_1=/%7D/g,TH=/%20/g;function Ty(e){return encodeURI(""+e).replace(EH,"|").replace(CH,"[").replace(IH,"]")}function AH(e){return Ty(e).replace(y1,"{").replace(_1,"}").replace(p1,"^")}function rg(e){return Ty(e).replace(g1,"%2B").replace(TH,"+").replace(v1,"%23").replace(_H,"%26").replace(kH,"`").replace(y1,"{").replace(_1,"}").replace(p1,"^")}function PH(e){return rg(e).replace(wH,"%3D")}function xH(e){return Ty(e).replace(v1,"%23").replace(SH,"%3F")}function RH(e){return e==null?"":xH(e).replace(bH,"%2F")}function Fu(e){try{return decodeURIComponent(""+e)}catch{}return""+e}const VH=/\/$/,DH=e=>e.replace(VH,"");function Pm(e,t,n="/"){let i,r={},s="",o="";const a=t.indexOf("#");let l=t.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(i=t.slice(0,l),s=t.slice(l+1,a>-1?a:t.length),r=e(s)),a>-1&&(i=i||t.slice(0,a),o=t.slice(a,t.length)),i=LH(i??t,n),{fullPath:i+(s&&"?")+s+o,path:i,query:r,hash:Fu(o)}}function NH(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function LS(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function OH(e,t,n){const i=t.matched.length-1,r=n.matched.length-1;return i>-1&&i===r&&La(t.matched[i],n.matched[r])&&b1(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function La(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function b1(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!MH(e[n],t[n]))return!1;return!0}function MH(e,t){return Hi(e)?FS(e,t):Hi(t)?FS(t,e):e===t}function FS(e,t){return Hi(t)?e.length===t.length&&e.every((n,i)=>n===t[i]):e.length===1&&e[0]===t}function LH(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),i=e.split("/"),r=i[i.length-1];(r===".."||r===".")&&i.push("");let s=n.length-1,o,a;for(o=0;o<i.length;o++)if(a=i[o],a!==".")if(a==="..")s>1&&s--;else break;return n.slice(0,s).join("/")+"/"+i.slice(o).join("/")}const ns={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var Bu;(function(e){e.pop="pop",e.push="push"})(Bu||(Bu={}));var ru;(function(e){e.back="back",e.forward="forward",e.unknown=""})(ru||(ru={}));function FH(e){if(!e)if(ha){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),DH(e)}const BH=/^[^#]+#/;function $H(e,t){return e.replace(BH,"#")+t}function UH(e,t){const n=document.documentElement.getBoundingClientRect(),i=e.getBoundingClientRect();return{behavior:t.behavior,left:i.left-n.left-(t.left||0),top:i.top-n.top-(t.top||0)}}const vh=()=>({left:window.scrollX,top:window.scrollY});function HH(e){let t;if("el"in e){const n=e.el,i=typeof n=="string"&&n.startsWith("#"),r=typeof n=="string"?i?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!r)return;t=UH(r,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function BS(e,t){return(history.state?history.state.position-t:-1)+e}const sg=new Map;function jH(e,t){sg.set(e,t)}function WH(e){const t=sg.get(e);return sg.delete(e),t}let zH=()=>location.protocol+"//"+location.host;function w1(e,t){const{pathname:n,search:i,hash:r}=t,s=e.indexOf("#");if(s>-1){let a=r.includes(e.slice(s))?e.slice(s).length:1,l=r.slice(a);return l[0]!=="/"&&(l="/"+l),LS(l,"")}return LS(n,e)+i+r}function qH(e,t,n,i){let r=[],s=[],o=null;const a=({state:h})=>{const v=w1(e,location),g=n.value,p=t.value;let y=0;if(h){if(n.value=v,t.value=h,o&&o===g){o=null;return}y=p?h.position-p.position:0}else i(v);r.forEach(w=>{w(n.value,g,{delta:y,type:Bu.pop,direction:y?y>0?ru.forward:ru.back:ru.unknown})})};function l(){o=n.value}function u(h){r.push(h);const v=()=>{const g=r.indexOf(h);g>-1&&r.splice(g,1)};return s.push(v),v}function c(){const{history:h}=window;h.state&&h.replaceState(It({},h.state,{scroll:vh()}),"")}function d(){for(const h of s)h();s=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",c)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",c,{passive:!0}),{pauseListeners:l,listen:u,destroy:d}}function $S(e,t,n,i=!1,r=!1){return{back:e,current:t,forward:n,replaced:i,position:window.history.length,scroll:r?vh():null}}function GH(e){const{history:t,location:n}=window,i={value:w1(e,n)},r={value:t.state};r.value||s(i.value,{back:null,current:i.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function s(l,u,c){const d=e.indexOf("#"),h=d>-1?(n.host&&document.querySelector("base")?e:e.slice(d))+l:zH()+e+l;try{t[c?"replaceState":"pushState"](u,"",h),r.value=u}catch(v){console.error(v),n[c?"replace":"assign"](h)}}function o(l,u){const c=It({},t.state,$S(r.value.back,l,r.value.forward,!0),u,{position:r.value.position});s(l,c,!0),i.value=l}function a(l,u){const c=It({},r.value,t.state,{forward:l,scroll:vh()});s(c.current,c,!0);const d=It({},$S(i.value,l,null),{position:c.position+1},u);s(l,d,!1),i.value=l}return{location:i,state:r,push:a,replace:o}}function KH(e){e=FH(e);const t=GH(e),n=qH(e,t.state,t.location,t.replace);function i(s,o=!0){o||n.pauseListeners(),history.go(s)}const r=It({location:"",base:e,go:i,createHref:$H.bind(null,e)},t,n);return Object.defineProperty(r,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(r,"state",{enumerable:!0,get:()=>t.state.value}),r}function YH(e){return typeof e=="string"||e&&typeof e=="object"}function S1(e){return typeof e=="string"||typeof e=="symbol"}const C1=Symbol("");var US;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(US||(US={}));function Fa(e,t){return It(new Error,{type:e,[C1]:!0},t)}function Sr(e,t){return e instanceof Error&&C1 in e&&(t==null||!!(e.type&t))}const HS="[^/]+?",QH={sensitive:!1,strict:!1,start:!0,end:!0},XH=/[.+*?^${}()[\]/\\]/g;function JH(e,t){const n=It({},QH,t),i=[];let r=n.start?"^":"";const s=[];for(const u of e){const c=u.length?[]:[90];n.strict&&!u.length&&(r+="/");for(let d=0;d<u.length;d++){const h=u[d];let v=40+(n.sensitive?.25:0);if(h.type===0)d||(r+="/"),r+=h.value.replace(XH,"\\$&"),v+=40;else if(h.type===1){const{value:g,repeatable:p,optional:y,regexp:w}=h;s.push({name:g,repeatable:p,optional:y});const C=w||HS;if(C!==HS){v+=10;try{new RegExp(`(${C})`)}catch(A){throw new Error(`Invalid custom RegExp for param "${g}" (${C}): `+A.message)}}let x=p?`((?:${C})(?:/(?:${C}))*)`:`(${C})`;d||(x=y&&u.length<2?`(?:/${x})`:"/"+x),y&&(x+="?"),r+=x,v+=20,y&&(v+=-8),p&&(v+=-20),C===".*"&&(v+=-50)}c.push(v)}i.push(c)}if(n.strict&&n.end){const u=i.length-1;i[u][i[u].length-1]+=.7000000000000001}n.strict||(r+="/?"),n.end?r+="$":n.strict&&(r+="(?:/|$)");const o=new RegExp(r,n.sensitive?"":"i");function a(u){const c=u.match(o),d={};if(!c)return null;for(let h=1;h<c.length;h++){const v=c[h]||"",g=s[h-1];d[g.name]=v&&g.repeatable?v.split("/"):v}return d}function l(u){let c="",d=!1;for(const h of e){(!d||!c.endsWith("/"))&&(c+="/"),d=!1;for(const v of h)if(v.type===0)c+=v.value;else if(v.type===1){const{value:g,repeatable:p,optional:y}=v,w=g in u?u[g]:"";if(Hi(w)&&!p)throw new Error(`Provided param "${g}" is an array but it is not repeatable (* or + modifiers)`);const C=Hi(w)?w.join("/"):w;if(!C)if(y)h.length<2&&(c.endsWith("/")?c=c.slice(0,-1):d=!0);else throw new Error(`Missing required param "${g}"`);c+=C}}return c||"/"}return{re:o,score:i,keys:s,parse:a,stringify:l}}function ZH(e,t){let n=0;for(;n<e.length&&n<t.length;){const i=t[n]-e[n];if(i)return i;n++}return e.length<t.length?e.length===1&&e[0]===80?-1:1:e.length>t.length?t.length===1&&t[0]===80?1:-1:0}function I1(e,t){let n=0;const i=e.score,r=t.score;for(;n<i.length&&n<r.length;){const s=ZH(i[n],r[n]);if(s)return s;n++}if(Math.abs(r.length-i.length)===1){if(jS(i))return 1;if(jS(r))return-1}return r.length-i.length}function jS(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const e6={type:0,value:""},t6=/[a-zA-Z0-9_]/;function n6(e){if(!e)return[[]];if(e==="/")return[[e6]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(v){throw new Error(`ERR (${n})/"${u}": ${v}`)}let n=0,i=n;const r=[];let s;function o(){s&&r.push(s),s=[]}let a=0,l,u="",c="";function d(){u&&(n===0?s.push({type:0,value:u}):n===1||n===2||n===3?(s.length>1&&(l==="*"||l==="+")&&t(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),s.push({type:1,value:u,regexp:c,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):t("Invalid state to consume buffer"),u="")}function h(){u+=l}for(;a<e.length;){if(l=e[a++],l==="\\"&&n!==2){i=n,n=4;continue}switch(n){case 0:l==="/"?(u&&d(),o()):l===":"?(d(),n=1):h();break;case 4:h(),n=i;break;case 1:l==="("?n=2:t6.test(l)?h():(d(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?c[c.length-1]=="\\"?c=c.slice(0,-1)+l:n=3:c+=l;break;case 3:d(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,c="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${u}"`),d(),o(),r}function i6(e,t,n){const i=JH(n6(e.path),n),r=It(i,{record:e,parent:t,children:[],alias:[]});return t&&!r.record.aliasOf==!t.record.aliasOf&&t.children.push(r),r}function r6(e,t){const n=[],i=new Map;t=GS({strict:!1,end:!0,sensitive:!1},t);function r(d){return i.get(d)}function s(d,h,v){const g=!v,p=zS(d);p.aliasOf=v&&v.record;const y=GS(t,d),w=[p];if("alias"in d){const A=typeof d.alias=="string"?[d.alias]:d.alias;for(const V of A)w.push(zS(It({},p,{components:v?v.record.components:p.components,path:V,aliasOf:v?v.record:p})))}let C,x;for(const A of w){const{path:V}=A;if(h&&V[0]!=="/"){const N=h.record.path,T=N[N.length-1]==="/"?"":"/";A.path=h.record.path+(V&&T+V)}if(C=i6(A,h,y),v?v.alias.push(C):(x=x||C,x!==C&&x.alias.push(C),g&&d.name&&!qS(C)&&o(d.name)),k1(C)&&l(C),p.children){const N=p.children;for(let T=0;T<N.length;T++)s(N[T],C,v&&v.children[T])}v=v||C}return x?()=>{o(x)}:iu}function o(d){if(S1(d)){const h=i.get(d);h&&(i.delete(d),n.splice(n.indexOf(h),1),h.children.forEach(o),h.alias.forEach(o))}else{const h=n.indexOf(d);h>-1&&(n.splice(h,1),d.record.name&&i.delete(d.record.name),d.children.forEach(o),d.alias.forEach(o))}}function a(){return n}function l(d){const h=a6(d,n);n.splice(h,0,d),d.record.name&&!qS(d)&&i.set(d.record.name,d)}function u(d,h){let v,g={},p,y;if("name"in d&&d.name){if(v=i.get(d.name),!v)throw Fa(1,{location:d});y=v.record.name,g=It(WS(h.params,v.keys.filter(x=>!x.optional).concat(v.parent?v.parent.keys.filter(x=>x.optional):[]).map(x=>x.name)),d.params&&WS(d.params,v.keys.map(x=>x.name))),p=v.stringify(g)}else if(d.path!=null)p=d.path,v=n.find(x=>x.re.test(p)),v&&(g=v.parse(p),y=v.record.name);else{if(v=h.name?i.get(h.name):n.find(x=>x.re.test(h.path)),!v)throw Fa(1,{location:d,currentLocation:h});y=v.record.name,g=It({},h.params,d.params),p=v.stringify(g)}const w=[];let C=v;for(;C;)w.unshift(C.record),C=C.parent;return{name:y,path:p,params:g,matched:w,meta:o6(w)}}e.forEach(d=>s(d));function c(){n.length=0,i.clear()}return{addRoute:s,resolve:u,removeRoute:o,clearRoutes:c,getRoutes:a,getRecordMatcher:r}}function WS(e,t){const n={};for(const i of t)i in e&&(n[i]=e[i]);return n}function zS(e){const t={path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:e.aliasOf,beforeEnter:e.beforeEnter,props:s6(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function s6(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const i in e.components)t[i]=typeof n=="object"?n[i]:n;return t}function qS(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function o6(e){return e.reduce((t,n)=>It(t,n.meta),{})}function GS(e,t){const n={};for(const i in e)n[i]=i in t?t[i]:e[i];return n}function a6(e,t){let n=0,i=t.length;for(;n!==i;){const s=n+i>>1;I1(e,t[s])<0?i=s:n=s+1}const r=l6(e);return r&&(i=t.lastIndexOf(r,i-1)),i}function l6(e){let t=e;for(;t=t.parent;)if(k1(t)&&I1(e,t)===0)return t}function k1({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function u6(e){const t={};if(e===""||e==="?")return t;const i=(e[0]==="?"?e.slice(1):e).split("&");for(let r=0;r<i.length;++r){const s=i[r].replace(g1," "),o=s.indexOf("="),a=Fu(o<0?s:s.slice(0,o)),l=o<0?null:Fu(s.slice(o+1));if(a in t){let u=t[a];Hi(u)||(u=t[a]=[u]),u.push(l)}else t[a]=l}return t}function KS(e){let t="";for(let n in e){const i=e[n];if(n=PH(n),i==null){i!==void 0&&(t+=(t.length?"&":"")+n);continue}(Hi(i)?i.map(s=>s&&rg(s)):[i&&rg(i)]).forEach(s=>{s!==void 0&&(t+=(t.length?"&":"")+n,s!=null&&(t+="="+s))})}return t}function c6(e){const t={};for(const n in e){const i=e[n];i!==void 0&&(t[n]=Hi(i)?i.map(r=>r==null?null:""+r):i==null?i:""+i)}return t}const d6=Symbol(""),YS=Symbol(""),gh=Symbol(""),Ay=Symbol(""),og=Symbol("");function Fl(){let e=[];function t(i){return e.push(i),()=>{const r=e.indexOf(i);r>-1&&e.splice(r,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function us(e,t,n,i,r,s=o=>o()){const o=i&&(i.enterCallbacks[r]=i.enterCallbacks[r]||[]);return()=>new Promise((a,l)=>{const u=h=>{h===!1?l(Fa(4,{from:n,to:t})):h instanceof Error?l(h):YH(h)?l(Fa(2,{from:t,to:h})):(o&&i.enterCallbacks[r]===o&&typeof h=="function"&&o.push(h),a())},c=s(()=>e.call(i&&i.instances[r],t,n,u));let d=Promise.resolve(c);e.length<3&&(d=d.then(u)),d.catch(h=>l(h))})}function xm(e,t,n,i,r=s=>s()){const s=[];for(const o of e)for(const a in o.components){let l=o.components[a];if(!(t!=="beforeRouteEnter"&&!o.instances[a]))if(m1(l)){const c=(l.__vccOpts||l)[t];c&&s.push(us(c,n,i,o,a,r))}else{let u=l();s.push(()=>u.then(c=>{if(!c)throw new Error(`Couldn't resolve component "${a}" at "${o.path}"`);const d=yH(c)?c.default:c;o.mods[a]=c,o.components[a]=d;const v=(d.__vccOpts||d)[t];return v&&us(v,n,i,o,a,r)()}))}}return s}function QS(e){const t=He(gh),n=He(Ay),i=k(()=>{const l=qe(e.to);return t.resolve(l)}),r=k(()=>{const{matched:l}=i.value,{length:u}=l,c=l[u-1],d=n.matched;if(!c||!d.length)return-1;const h=d.findIndex(La.bind(null,c));if(h>-1)return h;const v=XS(l[u-2]);return u>1&&XS(c)===v&&d[d.length-1].path!==v?d.findIndex(La.bind(null,l[u-2])):h}),s=k(()=>r.value>-1&&v6(n.params,i.value.params)),o=k(()=>r.value>-1&&r.value===n.matched.length-1&&b1(n.params,i.value.params));function a(l={}){return m6(l)?t[qe(e.replace)?"replace":"push"](qe(e.to)).catch(iu):Promise.resolve()}return{route:i,href:k(()=>i.value.href),isActive:s,isExactActive:o,navigate:a}}const f6=bn({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:QS,setup(e,{slots:t}){const n=ln(QS(e)),{options:i}=He(gh),r=k(()=>({[JS(e.activeClass,i.linkActiveClass,"router-link-active")]:n.isActive,[JS(e.exactActiveClass,i.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const s=t.default&&t.default(n);return e.custom?s:qi("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:r.value},s)}}}),h6=f6;function m6(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function v6(e,t){for(const n in t){const i=t[n],r=e[n];if(typeof i=="string"){if(i!==r)return!1}else if(!Hi(r)||r.length!==i.length||i.some((s,o)=>s!==r[o]))return!1}return!0}function XS(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const JS=(e,t,n)=>e??t??n,g6=bn({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const i=He(og),r=k(()=>e.route||i.value),s=He(YS,0),o=k(()=>{let u=qe(s);const{matched:c}=r.value;let d;for(;(d=c[u])&&!d.components;)u++;return u}),a=k(()=>r.value.matched[o.value]);bt(YS,k(()=>o.value+1)),bt(d6,a),bt(og,r);const l=j();return he(()=>[l.value,a.value,e.name],([u,c,d],[h,v,g])=>{c&&(c.instances[d]=u,v&&v!==c&&u&&u===h&&(c.leaveGuards.size||(c.leaveGuards=v.leaveGuards),c.updateGuards.size||(c.updateGuards=v.updateGuards))),u&&c&&(!v||!La(c,v)||!h)&&(c.enterCallbacks[d]||[]).forEach(p=>p(u))},{flush:"post"}),()=>{const u=r.value,c=e.name,d=a.value,h=d&&d.components[c];if(!h)return ZS(n.default,{Component:h,route:u});const v=d.props[c],g=v?v===!0?u.params:typeof v=="function"?v(u):v:null,y=qi(h,It({},g,t,{onVnodeUnmounted:w=>{w.component.isUnmounted&&(d.instances[c]=null)},ref:l}));return ZS(n.default,{Component:y,route:u})||y}}});function ZS(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const p6=g6;function y6(e){const t=r6(e.routes,e),n=e.parseQuery||u6,i=e.stringifyQuery||KS,r=e.history,s=Fl(),o=Fl(),a=Fl(),l=ye(ns);let u=ns;ha&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const c=Am.bind(null,Q=>""+Q),d=Am.bind(null,RH),h=Am.bind(null,Fu);function v(Q,le){let pe,fe;return S1(Q)?(pe=t.getRecordMatcher(Q),fe=le):fe=Q,t.addRoute(fe,pe)}function g(Q){const le=t.getRecordMatcher(Q);le&&t.removeRoute(le)}function p(){return t.getRoutes().map(Q=>Q.record)}function y(Q){return!!t.getRecordMatcher(Q)}function w(Q,le){if(le=It({},le||l.value),typeof Q=="string"){const M=Pm(n,Q,le.path),G=t.resolve({path:M.path},le),ie=r.createHref(M.fullPath);return It(M,G,{params:h(G.params),hash:Fu(M.hash),redirectedFrom:void 0,href:ie})}let pe;if(Q.path!=null)pe=It({},Q,{path:Pm(n,Q.path,le.path).path});else{const M=It({},Q.params);for(const G in M)M[G]==null&&delete M[G];pe=It({},Q,{params:d(M)}),le.params=d(le.params)}const fe=t.resolve(pe,le),ce=Q.hash||"";fe.params=c(h(fe.params));const Te=NH(i,It({},Q,{hash:AH(ce),path:fe.path})),O=r.createHref(Te);return It({fullPath:Te,hash:ce,query:i===KS?c6(Q.query):Q.query||{}},fe,{redirectedFrom:void 0,href:O})}function C(Q){return typeof Q=="string"?Pm(n,Q,l.value.path):It({},Q)}function x(Q,le){if(u!==Q)return Fa(8,{from:le,to:Q})}function A(Q){return T(Q)}function V(Q){return A(It(C(Q),{replace:!0}))}function N(Q){const le=Q.matched[Q.matched.length-1];if(le&&le.redirect){const{redirect:pe}=le;let fe=typeof pe=="function"?pe(Q):pe;return typeof fe=="string"&&(fe=fe.includes("?")||fe.includes("#")?fe=C(fe):{path:fe},fe.params={}),It({query:Q.query,hash:Q.hash,params:fe.path!=null?{}:Q.params},fe)}}function T(Q,le){const pe=u=w(Q),fe=l.value,ce=Q.state,Te=Q.force,O=Q.replace===!0,M=N(pe);if(M)return T(It(C(M),{state:typeof M=="object"?It({},ce,M.state):ce,force:Te,replace:O}),le||pe);const G=pe;G.redirectedFrom=le;let ie;return!Te&&OH(i,fe,pe)&&(ie=Fa(16,{to:G,from:fe}),Y(fe,fe,!0,!1)),(ie?Promise.resolve(ie):E(G,fe)).catch(K=>Sr(K)?Sr(K,2)?K:$(K):U(K,G,fe)).then(K=>{if(K){if(Sr(K,2))return T(It({replace:O},C(K.to),{state:typeof K.to=="object"?It({},ce,K.to.state):ce,force:Te}),le||G)}else K=I(G,fe,!0,O,ce);return P(G,fe,K),K})}function b(Q,le){const pe=x(Q,le);return pe?Promise.reject(pe):Promise.resolve()}function _(Q){const le=we.values().next().value;return le&&typeof le.runWithContext=="function"?le.runWithContext(Q):Q()}function E(Q,le){let pe;const[fe,ce,Te]=_6(Q,le);pe=xm(fe.reverse(),"beforeRouteLeave",Q,le);for(const M of fe)M.leaveGuards.forEach(G=>{pe.push(us(G,Q,le))});const O=b.bind(null,Q,le);return pe.push(O),oe(pe).then(()=>{pe=[];for(const M of s.list())pe.push(us(M,Q,le));return pe.push(O),oe(pe)}).then(()=>{pe=xm(ce,"beforeRouteUpdate",Q,le);for(const M of ce)M.updateGuards.forEach(G=>{pe.push(us(G,Q,le))});return pe.push(O),oe(pe)}).then(()=>{pe=[];for(const M of Te)if(M.beforeEnter)if(Hi(M.beforeEnter))for(const G of M.beforeEnter)pe.push(us(G,Q,le));else pe.push(us(M.beforeEnter,Q,le));return pe.push(O),oe(pe)}).then(()=>(Q.matched.forEach(M=>M.enterCallbacks={}),pe=xm(Te,"beforeRouteEnter",Q,le,_),pe.push(O),oe(pe))).then(()=>{pe=[];for(const M of o.list())pe.push(us(M,Q,le));return pe.push(O),oe(pe)}).catch(M=>Sr(M,8)?M:Promise.reject(M))}function P(Q,le,pe){a.list().forEach(fe=>_(()=>fe(Q,le,pe)))}function I(Q,le,pe,fe,ce){const Te=x(Q,le);if(Te)return Te;const O=le===ns,M=ha?history.state:{};pe&&(fe||O?r.replace(Q.fullPath,It({scroll:O&&M&&M.scroll},ce)):r.push(Q.fullPath,ce)),l.value=Q,Y(Q,le,pe,O),$()}let R;function H(){R||(R=r.listen((Q,le,pe)=>{if(!Ie.listening)return;const fe=w(Q),ce=N(fe);if(ce){T(It(ce,{replace:!0}),fe).catch(iu);return}u=fe;const Te=l.value;ha&&jH(BS(Te.fullPath,pe.delta),vh()),E(fe,Te).catch(O=>Sr(O,12)?O:Sr(O,2)?(T(O.to,fe).then(M=>{Sr(M,20)&&!pe.delta&&pe.type===Bu.pop&&r.go(-1,!1)}).catch(iu),Promise.reject()):(pe.delta&&r.go(-pe.delta,!1),U(O,fe,Te))).then(O=>{O=O||I(fe,Te,!1),O&&(pe.delta&&!Sr(O,8)?r.go(-pe.delta,!1):pe.type===Bu.pop&&Sr(O,20)&&r.go(-1,!1)),P(fe,Te,O)}).catch(iu)}))}let q=Fl(),W=Fl(),X;function U(Q,le,pe){$(Q);const fe=W.list();return fe.length?fe.forEach(ce=>ce(Q,le,pe)):console.error(Q),Promise.reject(Q)}function B(){return X&&l.value!==ns?Promise.resolve():new Promise((Q,le)=>{q.add([Q,le])})}function $(Q){return X||(X=!Q,H(),q.list().forEach(([le,pe])=>Q?pe(Q):le()),q.reset()),Q}function Y(Q,le,pe,fe){const{scrollBehavior:ce}=e;if(!ha||!ce)return Promise.resolve();const Te=!pe&&WH(BS(Q.fullPath,0))||(fe||!pe)&&history.state&&history.state.scroll||null;return tt().then(()=>ce(Q,le,Te)).then(O=>O&&HH(O)).catch(O=>U(O,Q,le))}const re=Q=>r.go(Q);let de;const we=new Set,Ie={currentRoute:l,listening:!0,addRoute:v,removeRoute:g,clearRoutes:t.clearRoutes,hasRoute:y,getRoutes:p,resolve:w,options:e,push:A,replace:V,go:re,back:()=>re(-1),forward:()=>re(1),beforeEach:s.add,beforeResolve:o.add,afterEach:a.add,onError:W.add,isReady:B,install(Q){const le=this;Q.component("RouterLink",h6),Q.component("RouterView",p6),Q.config.globalProperties.$router=le,Object.defineProperty(Q.config.globalProperties,"$route",{enumerable:!0,get:()=>qe(l)}),ha&&!de&&l.value===ns&&(de=!0,A(r.location).catch(ce=>{}));const pe={};for(const ce in ns)Object.defineProperty(pe,ce,{get:()=>l.value[ce],enumerable:!0});Q.provide(gh,le),Q.provide(Ay,DI(pe)),Q.provide(og,l);const fe=Q.unmount;we.add(Q),Q.unmount=function(){we.delete(Q),we.size<1&&(u=ns,R&&R(),R=null,l.value=ns,de=!1,X=!1),fe()}}};function oe(Q){return Q.reduce((le,pe)=>le.then(()=>_(pe)),Promise.resolve())}return Ie}function _6(e,t){const n=[],i=[],r=[],s=Math.max(t.matched.length,e.matched.length);for(let o=0;o<s;o++){const a=t.matched[o];a&&(e.matched.find(u=>La(u,a))?i.push(a):n.push(a));const l=e.matched[o];l&&(t.matched.find(u=>La(u,l))||r.push(l))}return[n,i,r]}function b6(){return He(gh)}function w6(e){return He(Ay)}var e0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E1={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xe=function(e,t){if(!e)throw al(t)},al=function(e){return new Error("Firebase Database ("+E1.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T1=function(e){const t=[];let n=0;for(let i=0;i<e.length;i++){let r=e.charCodeAt(i);r<128?t[n++]=r:r<2048?(t[n++]=r>>6|192,t[n++]=r&63|128):(r&64512)===55296&&i+1<e.length&&(e.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(e.charCodeAt(++i)&1023),t[n++]=r>>18|240,t[n++]=r>>12&63|128,t[n++]=r>>6&63|128,t[n++]=r&63|128):(t[n++]=r>>12|224,t[n++]=r>>6&63|128,t[n++]=r&63|128)}return t},S6=function(e){const t=[];let n=0,i=0;for(;n<e.length;){const r=e[n++];if(r<128)t[i++]=String.fromCharCode(r);else if(r>191&&r<224){const s=e[n++];t[i++]=String.fromCharCode((r&31)<<6|s&63)}else if(r>239&&r<365){const s=e[n++],o=e[n++],a=e[n++],l=((r&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;t[i++]=String.fromCharCode(55296+(l>>10)),t[i++]=String.fromCharCode(56320+(l&1023))}else{const s=e[n++],o=e[n++];t[i++]=String.fromCharCode((r&15)<<12|(s&63)<<6|o&63)}}return t.join("")},ph={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<e.length;r+=3){const s=e[r],o=r+1<e.length,a=o?e[r+1]:0,l=r+2<e.length,u=l?e[r+2]:0,c=s>>2,d=(s&3)<<4|a>>4;let h=(a&15)<<2|u>>6,v=u&63;l||(v=64,o||(h=64)),i.push(n[c],n[d],n[h],n[v])}return i.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(T1(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):S6(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<e.length;){const s=n[e.charAt(r++)],a=r<e.length?n[e.charAt(r)]:0;++r;const u=r<e.length?n[e.charAt(r)]:64;++r;const d=r<e.length?n[e.charAt(r)]:64;if(++r,s==null||a==null||u==null||d==null)throw new C6;const h=s<<2|a>>4;if(i.push(h),u!==64){const v=a<<4&240|u>>2;if(i.push(v),d!==64){const g=u<<6&192|d;i.push(g)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class C6 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const A1=function(e){const t=T1(e);return ph.encodeByteArray(t,!0)},Kd=function(e){return A1(e).replace(/\./g,"")},Yd=function(e){try{return ph.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I6(e){return P1(void 0,e)}function P1(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:const n=t;return new Date(n.getTime());case Object:e===void 0&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)!t.hasOwnProperty(n)||!k6(n)||(e[n]=P1(e[n],t[n]));return e}function k6(e){return e!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E6(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T6=()=>E6().__FIREBASE_DEFAULTS__,A6=()=>{if(typeof process>"u"||typeof e0>"u")return;const e=e0.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},P6=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&Yd(e[1]);return t&&JSON.parse(t)},yh=()=>{try{return T6()||A6()||P6()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},x1=e=>{var t,n;return(n=(t=yh())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},x6=e=>{const t=x1(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),i]:[t.substring(0,n),i]},R1=()=>{var e;return(e=yh())===null||e===void 0?void 0:e.config},V1=e=>{var t;return(t=yh())===null||t===void 0?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $u{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R6(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=t||"demo-project",r=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Kd(JSON.stringify(n)),Kd(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Py(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(qn())}function V6(){var e;const t=(e=yh())===null||e===void 0?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function D6(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function N6(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function D1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function O6(){const e=qn();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function N1(){return E1.NODE_ADMIN===!0}function M6(){return!V6()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function O1(){try{return typeof indexedDB=="object"}catch{return!1}}function L6(){return new Promise((e,t)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),e(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var s;t(((s=r.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F6="FirebaseError";class pr extends Error{constructor(t,n,i){super(n),this.code=t,this.customData=i,this.name=F6,Object.setPrototypeOf(this,pr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ll.prototype.create)}}class ll{constructor(t,n,i){this.service=t,this.serviceName=n,this.errors=i}create(t,...n){const i=n[0]||{},r=`${this.service}/${t}`,s=this.errors[t],o=s?B6(s,i):"Error",a=`${this.serviceName}: ${o} (${r}).`;return new pr(r,a,i)}}function B6(e,t){return e.replace($6,(n,i)=>{const r=t[i];return r!=null?String(r):`<${i}?>`})}const $6=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uu(e){return JSON.parse(e)}function En(e){return JSON.stringify(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M1=function(e){let t={},n={},i={},r="";try{const s=e.split(".");t=Uu(Yd(s[0])||""),n=Uu(Yd(s[1])||""),r=s[2],i=n.d||{},delete n.d}catch{}return{header:t,claims:n,data:i,signature:r}},U6=function(e){const t=M1(e),n=t.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},H6=function(e){const t=M1(e).claims;return typeof t=="object"&&t.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yr(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Ba(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]}function ag(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Qd(e,t,n){const i={};for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(i[r]=t.call(n,e[r],r,e));return i}function Xd(e,t){if(e===t)return!0;const n=Object.keys(e),i=Object.keys(t);for(const r of n){if(!i.includes(r))return!1;const s=e[r],o=t[r];if(t0(s)&&t0(o)){if(!Xd(s,o))return!1}else if(s!==o)return!1}for(const r of i)if(!n.includes(r))return!1;return!0}function t0(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ul(e){const t=[];for(const[n,i]of Object.entries(e))Array.isArray(i)?i.forEach(r=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j6{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(t,n){n||(n=0);const i=this.W_;if(typeof t=="string")for(let d=0;d<16;d++)i[d]=t.charCodeAt(n)<<24|t.charCodeAt(n+1)<<16|t.charCodeAt(n+2)<<8|t.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)i[d]=t[n]<<24|t[n+1]<<16|t[n+2]<<8|t[n+3],n+=4;for(let d=16;d<80;d++){const h=i[d-3]^i[d-8]^i[d-14]^i[d-16];i[d]=(h<<1|h>>>31)&4294967295}let r=this.chain_[0],s=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4],u,c;for(let d=0;d<80;d++){d<40?d<20?(u=a^s&(o^a),c=1518500249):(u=s^o^a,c=1859775393):d<60?(u=s&o|a&(s|o),c=2400959708):(u=s^o^a,c=3395469782);const h=(r<<5|r>>>27)+u+l+c+i[d]&4294967295;l=a,a=o,o=(s<<30|s>>>2)&4294967295,s=r,r=h}this.chain_[0]=this.chain_[0]+r&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(t,n){if(t==null)return;n===void 0&&(n=t.length);const i=n-this.blockSize;let r=0;const s=this.buf_;let o=this.inbuf_;for(;r<n;){if(o===0)for(;r<=i;)this.compress_(t,r),r+=this.blockSize;if(typeof t=="string"){for(;r<n;)if(s[o]=t.charCodeAt(r),++o,++r,o===this.blockSize){this.compress_(s),o=0;break}}else for(;r<n;)if(s[o]=t[r],++o,++r,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const t=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let r=this.blockSize-1;r>=56;r--)this.buf_[r]=n&255,n/=256;this.compress_(this.buf_);let i=0;for(let r=0;r<5;r++)for(let s=24;s>=0;s-=8)t[i]=this.chain_[r]>>s&255,++i;return t}}function W6(e,t){const n=new z6(e,t);return n.subscribe.bind(n)}class z6{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(i=>{this.error(i)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,i){let r;if(t===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");q6(t,["next","error","complete"])?r=t:r={next:t,error:n,complete:i},r.next===void 0&&(r.next=Rm),r.error===void 0&&(r.error=Rm),r.complete===void 0&&(r.complete=Rm);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),s}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function q6(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function Rm(){}function G6(e,t){return`${e} failed: ${t} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K6=function(e){const t=[];let n=0;for(let i=0;i<e.length;i++){let r=e.charCodeAt(i);if(r>=55296&&r<=56319){const s=r-55296;i++,xe(i<e.length,"Surrogate pair missing trail surrogate.");const o=e.charCodeAt(i)-56320;r=65536+(s<<10)+o}r<128?t[n++]=r:r<2048?(t[n++]=r>>6|192,t[n++]=r&63|128):r<65536?(t[n++]=r>>12|224,t[n++]=r>>6&63|128,t[n++]=r&63|128):(t[n++]=r>>18|240,t[n++]=r>>12&63|128,t[n++]=r>>6&63|128,t[n++]=r&63|128)}return t},_h=function(e){let t=0;for(let n=0;n<e.length;n++){const i=e.charCodeAt(n);i<128?t++:i<2048?t+=2:i>=55296&&i<=56319?(t+=4,n++):t+=3}return t};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function si(e){return e&&e._delegate?e._delegate:e}class ji{constructor(t,n,i){this.name=t,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Js="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y6{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const i=new $u;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const i=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),r=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(X6(t))try{this.getOrInitializeService({instanceIdentifier:Js})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:r});i.resolve(s)}catch{}}}}clearInstance(t=Js){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Js){return this.instances.has(t)}getOptions(t=Js){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);i===a&&o.resolve(r)}return r}onInit(t,n){var i;const r=this.normalizeInstanceIdentifier(n),s=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;s.add(t),this.onInitCallbacks.set(r,s);const o=this.instances.get(r);return o&&t(o,r),()=>{s.delete(t)}}invokeOnInitCallbacks(t,n){const i=this.onInitCallbacks.get(n);if(i)for(const r of i)try{r(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:Q6(t),options:n}),this.instances.set(t,i),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=Js){return this.component?this.component.multipleInstances?t:Js:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Q6(e){return e===Js?void 0:e}function X6(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J6{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new Y6(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var it;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(it||(it={}));const Z6={debug:it.DEBUG,verbose:it.VERBOSE,info:it.INFO,warn:it.WARN,error:it.ERROR,silent:it.SILENT},e5=it.INFO,t5={[it.DEBUG]:"log",[it.VERBOSE]:"log",[it.INFO]:"info",[it.WARN]:"warn",[it.ERROR]:"error"},n5=(e,t,...n)=>{if(t<e.logLevel)return;const i=new Date().toISOString(),r=t5[t];if(r)console[r](`[${i}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class dc{constructor(t){this.name=t,this._logLevel=e5,this._logHandler=n5,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in it))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?Z6[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,it.DEBUG,...t),this._logHandler(this,it.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,it.VERBOSE,...t),this._logHandler(this,it.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,it.INFO,...t),this._logHandler(this,it.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,it.WARN,...t),this._logHandler(this,it.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,it.ERROR,...t),this._logHandler(this,it.ERROR,...t)}}const i5=(e,t)=>t.some(n=>e instanceof n);let n0,i0;function r5(){return n0||(n0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function s5(){return i0||(i0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const L1=new WeakMap,lg=new WeakMap,F1=new WeakMap,Vm=new WeakMap,xy=new WeakMap;function o5(e){const t=new Promise((n,i)=>{const r=()=>{e.removeEventListener("success",s),e.removeEventListener("error",o)},s=()=>{n(_s(e.result)),r()},o=()=>{i(e.error),r()};e.addEventListener("success",s),e.addEventListener("error",o)});return t.then(n=>{n instanceof IDBCursor&&L1.set(n,e)}).catch(()=>{}),xy.set(t,e),t}function a5(e){if(lg.has(e))return;const t=new Promise((n,i)=>{const r=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",o),e.removeEventListener("abort",o)},s=()=>{n(),r()},o=()=>{i(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",s),e.addEventListener("error",o),e.addEventListener("abort",o)});lg.set(e,t)}let ug={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return lg.get(e);if(t==="objectStoreNames")return e.objectStoreNames||F1.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return _s(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function l5(e){ug=e(ug)}function u5(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const i=e.call(Dm(this),t,...n);return F1.set(i,t.sort?t.sort():[t]),_s(i)}:s5().includes(e)?function(...t){return e.apply(Dm(this),t),_s(L1.get(this))}:function(...t){return _s(e.apply(Dm(this),t))}}function c5(e){return typeof e=="function"?u5(e):(e instanceof IDBTransaction&&a5(e),i5(e,r5())?new Proxy(e,ug):e)}function _s(e){if(e instanceof IDBRequest)return o5(e);if(Vm.has(e))return Vm.get(e);const t=c5(e);return t!==e&&(Vm.set(e,t),xy.set(t,e)),t}const Dm=e=>xy.get(e);function d5(e,t,{blocked:n,upgrade:i,blocking:r,terminated:s}={}){const o=indexedDB.open(e,t),a=_s(o);return i&&o.addEventListener("upgradeneeded",l=>{i(_s(o.result),l.oldVersion,l.newVersion,_s(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),r&&l.addEventListener("versionchange",u=>r(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const f5=["get","getKey","getAll","getAllKeys","count"],h5=["put","add","delete","clear"],Nm=new Map;function r0(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Nm.get(t))return Nm.get(t);const n=t.replace(/FromIndex$/,""),i=t!==n,r=h5.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(r||f5.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,r?"readwrite":"readonly");let u=l.store;return i&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),r&&l.done]))[0]};return Nm.set(t,s),s}l5(e=>({...e,get:(t,n,i)=>r0(t,n)||e.get(t,n,i),has:(t,n)=>!!r0(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m5{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(v5(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function v5(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const cg="@firebase/app",s0="0.10.11";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Br=new dc("@firebase/app"),g5="@firebase/app-compat",p5="@firebase/analytics-compat",y5="@firebase/analytics",_5="@firebase/app-check-compat",b5="@firebase/app-check",w5="@firebase/auth",S5="@firebase/auth-compat",C5="@firebase/database",I5="@firebase/database-compat",k5="@firebase/functions",E5="@firebase/functions-compat",T5="@firebase/installations",A5="@firebase/installations-compat",P5="@firebase/messaging",x5="@firebase/messaging-compat",R5="@firebase/performance",V5="@firebase/performance-compat",D5="@firebase/remote-config",N5="@firebase/remote-config-compat",O5="@firebase/storage",M5="@firebase/storage-compat",L5="@firebase/firestore",F5="@firebase/vertexai-preview",B5="@firebase/firestore-compat",$5="firebase",U5="10.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dg="[DEFAULT]",H5={[cg]:"fire-core",[g5]:"fire-core-compat",[y5]:"fire-analytics",[p5]:"fire-analytics-compat",[b5]:"fire-app-check",[_5]:"fire-app-check-compat",[w5]:"fire-auth",[S5]:"fire-auth-compat",[C5]:"fire-rtdb",[I5]:"fire-rtdb-compat",[k5]:"fire-fn",[E5]:"fire-fn-compat",[T5]:"fire-iid",[A5]:"fire-iid-compat",[P5]:"fire-fcm",[x5]:"fire-fcm-compat",[R5]:"fire-perf",[V5]:"fire-perf-compat",[D5]:"fire-rc",[N5]:"fire-rc-compat",[O5]:"fire-gcs",[M5]:"fire-gcs-compat",[L5]:"fire-fst",[B5]:"fire-fst-compat",[F5]:"fire-vertex","fire-js":"fire-js",[$5]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hu=new Map,j5=new Map,fg=new Map;function o0(e,t){try{e.container.addComponent(t)}catch(n){Br.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function lr(e){const t=e.name;if(fg.has(t))return Br.debug(`There were multiple attempts to register component ${t}.`),!1;fg.set(t,e);for(const n of Hu.values())o0(n,e);for(const n of j5.values())o0(n,e);return!0}function Ry(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function vs(e){return e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W5={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},bs=new ll("app","Firebase",W5);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z5{constructor(t,n,i){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new ji("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw bs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Us=U5;function B1(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const i=Object.assign({name:dg,automaticDataCollectionEnabled:!1},t),r=i.name;if(typeof r!="string"||!r)throw bs.create("bad-app-name",{appName:String(r)});if(n||(n=R1()),!n)throw bs.create("no-options");const s=Hu.get(r);if(s){if(Xd(n,s.options)&&Xd(i,s.config))return s;throw bs.create("duplicate-app",{appName:r})}const o=new J6(r);for(const l of fg.values())o.addComponent(l);const a=new z5(n,i,o);return Hu.set(r,a),a}function Vy(e=dg){const t=Hu.get(e);if(!t&&e===dg&&R1())return B1();if(!t)throw bs.create("no-app",{appName:e});return t}function q5(){return Array.from(Hu.values())}function di(e,t,n){var i;let r=(i=H5[e])!==null&&i!==void 0?i:e;n&&(r+=`-${n}`);const s=r.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const a=[`Unable to register library "${r}" with version "${t}":`];s&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Br.warn(a.join(" "));return}lr(new ji(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G5="firebase-heartbeat-database",K5=1,ju="firebase-heartbeat-store";let Om=null;function $1(){return Om||(Om=d5(G5,K5,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(ju)}catch(n){console.warn(n)}}}}).catch(e=>{throw bs.create("idb-open",{originalErrorMessage:e.message})})),Om}async function Y5(e){try{const n=(await $1()).transaction(ju),i=await n.objectStore(ju).get(U1(e));return await n.done,i}catch(t){if(t instanceof pr)Br.warn(t.message);else{const n=bs.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Br.warn(n.message)}}}async function a0(e,t){try{const i=(await $1()).transaction(ju,"readwrite");await i.objectStore(ju).put(t,U1(e)),await i.done}catch(n){if(n instanceof pr)Br.warn(n.message);else{const i=bs.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Br.warn(i.message)}}}function U1(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q5=1024,X5=30*24*60*60*1e3;class J5{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new e3(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var t,n;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=l0();return((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:r}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=X5}),this._storage.overwrite(this._heartbeatsCache))}catch(i){Br.warn(i)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=l0(),{heartbeatsToSend:i,unsentEntries:r}=Z5(this._heartbeatsCache.heartbeats),s=Kd(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Br.warn(n),""}}}function l0(){return new Date().toISOString().substring(0,10)}function Z5(e,t=Q5){const n=[];let i=e.slice();for(const r of e){const s=n.find(o=>o.agent===r.agent);if(s){if(s.dates.push(r.date),u0(n)>t){s.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),u0(n)>t){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class e3{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return O1()?L6().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Y5(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return a0(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return a0(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function u0(e){return Kd(JSON.stringify({version:2,heartbeats:e})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t3(e){lr(new ji("platform-logger",t=>new m5(t),"PRIVATE")),lr(new ji("heartbeat",t=>new J5(t),"PRIVATE")),di(cg,s0,e),di(cg,s0,"esm2017"),di("fire-js","")}t3("");var c0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ho,H1;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(T,b){function _(){}_.prototype=b.prototype,T.D=b.prototype,T.prototype=new _,T.prototype.constructor=T,T.C=function(E,P,I){for(var R=Array(arguments.length-2),H=2;H<arguments.length;H++)R[H-2]=arguments[H];return b.prototype[P].apply(E,R)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(i,n),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(T,b,_){_||(_=0);var E=Array(16);if(typeof b=="string")for(var P=0;16>P;++P)E[P]=b.charCodeAt(_++)|b.charCodeAt(_++)<<8|b.charCodeAt(_++)<<16|b.charCodeAt(_++)<<24;else for(P=0;16>P;++P)E[P]=b[_++]|b[_++]<<8|b[_++]<<16|b[_++]<<24;b=T.g[0],_=T.g[1],P=T.g[2];var I=T.g[3],R=b+(I^_&(P^I))+E[0]+3614090360&4294967295;b=_+(R<<7&4294967295|R>>>25),R=I+(P^b&(_^P))+E[1]+3905402710&4294967295,I=b+(R<<12&4294967295|R>>>20),R=P+(_^I&(b^_))+E[2]+606105819&4294967295,P=I+(R<<17&4294967295|R>>>15),R=_+(b^P&(I^b))+E[3]+3250441966&4294967295,_=P+(R<<22&4294967295|R>>>10),R=b+(I^_&(P^I))+E[4]+4118548399&4294967295,b=_+(R<<7&4294967295|R>>>25),R=I+(P^b&(_^P))+E[5]+1200080426&4294967295,I=b+(R<<12&4294967295|R>>>20),R=P+(_^I&(b^_))+E[6]+2821735955&4294967295,P=I+(R<<17&4294967295|R>>>15),R=_+(b^P&(I^b))+E[7]+4249261313&4294967295,_=P+(R<<22&4294967295|R>>>10),R=b+(I^_&(P^I))+E[8]+1770035416&4294967295,b=_+(R<<7&4294967295|R>>>25),R=I+(P^b&(_^P))+E[9]+2336552879&4294967295,I=b+(R<<12&4294967295|R>>>20),R=P+(_^I&(b^_))+E[10]+4294925233&4294967295,P=I+(R<<17&4294967295|R>>>15),R=_+(b^P&(I^b))+E[11]+2304563134&4294967295,_=P+(R<<22&4294967295|R>>>10),R=b+(I^_&(P^I))+E[12]+1804603682&4294967295,b=_+(R<<7&4294967295|R>>>25),R=I+(P^b&(_^P))+E[13]+4254626195&4294967295,I=b+(R<<12&4294967295|R>>>20),R=P+(_^I&(b^_))+E[14]+2792965006&4294967295,P=I+(R<<17&4294967295|R>>>15),R=_+(b^P&(I^b))+E[15]+1236535329&4294967295,_=P+(R<<22&4294967295|R>>>10),R=b+(P^I&(_^P))+E[1]+4129170786&4294967295,b=_+(R<<5&4294967295|R>>>27),R=I+(_^P&(b^_))+E[6]+3225465664&4294967295,I=b+(R<<9&4294967295|R>>>23),R=P+(b^_&(I^b))+E[11]+643717713&4294967295,P=I+(R<<14&4294967295|R>>>18),R=_+(I^b&(P^I))+E[0]+3921069994&4294967295,_=P+(R<<20&4294967295|R>>>12),R=b+(P^I&(_^P))+E[5]+3593408605&4294967295,b=_+(R<<5&4294967295|R>>>27),R=I+(_^P&(b^_))+E[10]+38016083&4294967295,I=b+(R<<9&4294967295|R>>>23),R=P+(b^_&(I^b))+E[15]+3634488961&4294967295,P=I+(R<<14&4294967295|R>>>18),R=_+(I^b&(P^I))+E[4]+3889429448&4294967295,_=P+(R<<20&4294967295|R>>>12),R=b+(P^I&(_^P))+E[9]+568446438&4294967295,b=_+(R<<5&4294967295|R>>>27),R=I+(_^P&(b^_))+E[14]+3275163606&4294967295,I=b+(R<<9&4294967295|R>>>23),R=P+(b^_&(I^b))+E[3]+4107603335&4294967295,P=I+(R<<14&4294967295|R>>>18),R=_+(I^b&(P^I))+E[8]+1163531501&4294967295,_=P+(R<<20&4294967295|R>>>12),R=b+(P^I&(_^P))+E[13]+2850285829&4294967295,b=_+(R<<5&4294967295|R>>>27),R=I+(_^P&(b^_))+E[2]+4243563512&4294967295,I=b+(R<<9&4294967295|R>>>23),R=P+(b^_&(I^b))+E[7]+1735328473&4294967295,P=I+(R<<14&4294967295|R>>>18),R=_+(I^b&(P^I))+E[12]+2368359562&4294967295,_=P+(R<<20&4294967295|R>>>12),R=b+(_^P^I)+E[5]+4294588738&4294967295,b=_+(R<<4&4294967295|R>>>28),R=I+(b^_^P)+E[8]+2272392833&4294967295,I=b+(R<<11&4294967295|R>>>21),R=P+(I^b^_)+E[11]+1839030562&4294967295,P=I+(R<<16&4294967295|R>>>16),R=_+(P^I^b)+E[14]+4259657740&4294967295,_=P+(R<<23&4294967295|R>>>9),R=b+(_^P^I)+E[1]+2763975236&4294967295,b=_+(R<<4&4294967295|R>>>28),R=I+(b^_^P)+E[4]+1272893353&4294967295,I=b+(R<<11&4294967295|R>>>21),R=P+(I^b^_)+E[7]+4139469664&4294967295,P=I+(R<<16&4294967295|R>>>16),R=_+(P^I^b)+E[10]+3200236656&4294967295,_=P+(R<<23&4294967295|R>>>9),R=b+(_^P^I)+E[13]+681279174&4294967295,b=_+(R<<4&4294967295|R>>>28),R=I+(b^_^P)+E[0]+3936430074&4294967295,I=b+(R<<11&4294967295|R>>>21),R=P+(I^b^_)+E[3]+3572445317&4294967295,P=I+(R<<16&4294967295|R>>>16),R=_+(P^I^b)+E[6]+76029189&4294967295,_=P+(R<<23&4294967295|R>>>9),R=b+(_^P^I)+E[9]+3654602809&4294967295,b=_+(R<<4&4294967295|R>>>28),R=I+(b^_^P)+E[12]+3873151461&4294967295,I=b+(R<<11&4294967295|R>>>21),R=P+(I^b^_)+E[15]+530742520&4294967295,P=I+(R<<16&4294967295|R>>>16),R=_+(P^I^b)+E[2]+3299628645&4294967295,_=P+(R<<23&4294967295|R>>>9),R=b+(P^(_|~I))+E[0]+4096336452&4294967295,b=_+(R<<6&4294967295|R>>>26),R=I+(_^(b|~P))+E[7]+1126891415&4294967295,I=b+(R<<10&4294967295|R>>>22),R=P+(b^(I|~_))+E[14]+2878612391&4294967295,P=I+(R<<15&4294967295|R>>>17),R=_+(I^(P|~b))+E[5]+4237533241&4294967295,_=P+(R<<21&4294967295|R>>>11),R=b+(P^(_|~I))+E[12]+1700485571&4294967295,b=_+(R<<6&4294967295|R>>>26),R=I+(_^(b|~P))+E[3]+2399980690&4294967295,I=b+(R<<10&4294967295|R>>>22),R=P+(b^(I|~_))+E[10]+4293915773&4294967295,P=I+(R<<15&4294967295|R>>>17),R=_+(I^(P|~b))+E[1]+2240044497&4294967295,_=P+(R<<21&4294967295|R>>>11),R=b+(P^(_|~I))+E[8]+1873313359&4294967295,b=_+(R<<6&4294967295|R>>>26),R=I+(_^(b|~P))+E[15]+4264355552&4294967295,I=b+(R<<10&4294967295|R>>>22),R=P+(b^(I|~_))+E[6]+2734768916&4294967295,P=I+(R<<15&4294967295|R>>>17),R=_+(I^(P|~b))+E[13]+1309151649&4294967295,_=P+(R<<21&4294967295|R>>>11),R=b+(P^(_|~I))+E[4]+4149444226&4294967295,b=_+(R<<6&4294967295|R>>>26),R=I+(_^(b|~P))+E[11]+3174756917&4294967295,I=b+(R<<10&4294967295|R>>>22),R=P+(b^(I|~_))+E[2]+718787259&4294967295,P=I+(R<<15&4294967295|R>>>17),R=_+(I^(P|~b))+E[9]+3951481745&4294967295,T.g[0]=T.g[0]+b&4294967295,T.g[1]=T.g[1]+(P+(R<<21&4294967295|R>>>11))&4294967295,T.g[2]=T.g[2]+P&4294967295,T.g[3]=T.g[3]+I&4294967295}i.prototype.u=function(T,b){b===void 0&&(b=T.length);for(var _=b-this.blockSize,E=this.B,P=this.h,I=0;I<b;){if(P==0)for(;I<=_;)r(this,T,I),I+=this.blockSize;if(typeof T=="string"){for(;I<b;)if(E[P++]=T.charCodeAt(I++),P==this.blockSize){r(this,E),P=0;break}}else for(;I<b;)if(E[P++]=T[I++],P==this.blockSize){r(this,E),P=0;break}}this.h=P,this.o+=b},i.prototype.v=function(){var T=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);T[0]=128;for(var b=1;b<T.length-8;++b)T[b]=0;var _=8*this.o;for(b=T.length-8;b<T.length;++b)T[b]=_&255,_/=256;for(this.u(T),T=Array(16),b=_=0;4>b;++b)for(var E=0;32>E;E+=8)T[_++]=this.g[b]>>>E&255;return T};function s(T,b){var _=a;return Object.prototype.hasOwnProperty.call(_,T)?_[T]:_[T]=b(T)}function o(T,b){this.h=b;for(var _=[],E=!0,P=T.length-1;0<=P;P--){var I=T[P]|0;E&&I==b||(_[P]=I,E=!1)}this.g=_}var a={};function l(T){return-128<=T&&128>T?s(T,function(b){return new o([b|0],0>b?-1:0)}):new o([T|0],0>T?-1:0)}function u(T){if(isNaN(T)||!isFinite(T))return d;if(0>T)return y(u(-T));for(var b=[],_=1,E=0;T>=_;E++)b[E]=T/_|0,_*=4294967296;return new o(b,0)}function c(T,b){if(T.length==0)throw Error("number format error: empty string");if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(T.charAt(0)=="-")return y(c(T.substring(1),b));if(0<=T.indexOf("-"))throw Error('number format error: interior "-" character');for(var _=u(Math.pow(b,8)),E=d,P=0;P<T.length;P+=8){var I=Math.min(8,T.length-P),R=parseInt(T.substring(P,P+I),b);8>I?(I=u(Math.pow(b,I)),E=E.j(I).add(u(R))):(E=E.j(_),E=E.add(u(R)))}return E}var d=l(0),h=l(1),v=l(16777216);e=o.prototype,e.m=function(){if(p(this))return-y(this).m();for(var T=0,b=1,_=0;_<this.g.length;_++){var E=this.i(_);T+=(0<=E?E:4294967296+E)*b,b*=4294967296}return T},e.toString=function(T){if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(g(this))return"0";if(p(this))return"-"+y(this).toString(T);for(var b=u(Math.pow(T,6)),_=this,E="";;){var P=A(_,b).g;_=w(_,P.j(b));var I=((0<_.g.length?_.g[0]:_.h)>>>0).toString(T);if(_=P,g(_))return I+E;for(;6>I.length;)I="0"+I;E=I+E}},e.i=function(T){return 0>T?0:T<this.g.length?this.g[T]:this.h};function g(T){if(T.h!=0)return!1;for(var b=0;b<T.g.length;b++)if(T.g[b]!=0)return!1;return!0}function p(T){return T.h==-1}e.l=function(T){return T=w(this,T),p(T)?-1:g(T)?0:1};function y(T){for(var b=T.g.length,_=[],E=0;E<b;E++)_[E]=~T.g[E];return new o(_,~T.h).add(h)}e.abs=function(){return p(this)?y(this):this},e.add=function(T){for(var b=Math.max(this.g.length,T.g.length),_=[],E=0,P=0;P<=b;P++){var I=E+(this.i(P)&65535)+(T.i(P)&65535),R=(I>>>16)+(this.i(P)>>>16)+(T.i(P)>>>16);E=R>>>16,I&=65535,R&=65535,_[P]=R<<16|I}return new o(_,_[_.length-1]&-2147483648?-1:0)};function w(T,b){return T.add(y(b))}e.j=function(T){if(g(this)||g(T))return d;if(p(this))return p(T)?y(this).j(y(T)):y(y(this).j(T));if(p(T))return y(this.j(y(T)));if(0>this.l(v)&&0>T.l(v))return u(this.m()*T.m());for(var b=this.g.length+T.g.length,_=[],E=0;E<2*b;E++)_[E]=0;for(E=0;E<this.g.length;E++)for(var P=0;P<T.g.length;P++){var I=this.i(E)>>>16,R=this.i(E)&65535,H=T.i(P)>>>16,q=T.i(P)&65535;_[2*E+2*P]+=R*q,C(_,2*E+2*P),_[2*E+2*P+1]+=I*q,C(_,2*E+2*P+1),_[2*E+2*P+1]+=R*H,C(_,2*E+2*P+1),_[2*E+2*P+2]+=I*H,C(_,2*E+2*P+2)}for(E=0;E<b;E++)_[E]=_[2*E+1]<<16|_[2*E];for(E=b;E<2*b;E++)_[E]=0;return new o(_,0)};function C(T,b){for(;(T[b]&65535)!=T[b];)T[b+1]+=T[b]>>>16,T[b]&=65535,b++}function x(T,b){this.g=T,this.h=b}function A(T,b){if(g(b))throw Error("division by zero");if(g(T))return new x(d,d);if(p(T))return b=A(y(T),b),new x(y(b.g),y(b.h));if(p(b))return b=A(T,y(b)),new x(y(b.g),b.h);if(30<T.g.length){if(p(T)||p(b))throw Error("slowDivide_ only works with positive integers.");for(var _=h,E=b;0>=E.l(T);)_=V(_),E=V(E);var P=N(_,1),I=N(E,1);for(E=N(E,2),_=N(_,2);!g(E);){var R=I.add(E);0>=R.l(T)&&(P=P.add(_),I=R),E=N(E,1),_=N(_,1)}return b=w(T,P.j(b)),new x(P,b)}for(P=d;0<=T.l(b);){for(_=Math.max(1,Math.floor(T.m()/b.m())),E=Math.ceil(Math.log(_)/Math.LN2),E=48>=E?1:Math.pow(2,E-48),I=u(_),R=I.j(b);p(R)||0<R.l(T);)_-=E,I=u(_),R=I.j(b);g(I)&&(I=h),P=P.add(I),T=w(T,R)}return new x(P,T)}e.A=function(T){return A(this,T).h},e.and=function(T){for(var b=Math.max(this.g.length,T.g.length),_=[],E=0;E<b;E++)_[E]=this.i(E)&T.i(E);return new o(_,this.h&T.h)},e.or=function(T){for(var b=Math.max(this.g.length,T.g.length),_=[],E=0;E<b;E++)_[E]=this.i(E)|T.i(E);return new o(_,this.h|T.h)},e.xor=function(T){for(var b=Math.max(this.g.length,T.g.length),_=[],E=0;E<b;E++)_[E]=this.i(E)^T.i(E);return new o(_,this.h^T.h)};function V(T){for(var b=T.g.length+1,_=[],E=0;E<b;E++)_[E]=T.i(E)<<1|T.i(E-1)>>>31;return new o(_,T.h)}function N(T,b){var _=b>>5;b%=32;for(var E=T.g.length-_,P=[],I=0;I<E;I++)P[I]=0<b?T.i(I+_)>>>b|T.i(I+_+1)<<32-b:T.i(I+_);return new o(P,T.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,H1=i,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=c,ho=o}).apply(typeof c0<"u"?c0:typeof self<"u"?self:typeof window<"u"?window:{});var td=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var j1,W1,ql,z1,wd,hg,q1,G1,K1;(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(m,S,D){return m==Array.prototype||m==Object.prototype||(m[S]=D.value),m};function n(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof td=="object"&&td];for(var S=0;S<m.length;++S){var D=m[S];if(D&&D.Math==Math)return D}throw Error("Cannot find global object")}var i=n(this);function r(m,S){if(S)e:{var D=i;m=m.split(".");for(var L=0;L<m.length-1;L++){var ne=m[L];if(!(ne in D))break e;D=D[ne]}m=m[m.length-1],L=D[m],S=S(L),S!=L&&S!=null&&t(D,m,{configurable:!0,writable:!0,value:S})}}function s(m,S){m instanceof String&&(m+="");var D=0,L=!1,ne={next:function(){if(!L&&D<m.length){var ae=D++;return{value:S(ae,m[ae]),done:!1}}return L=!0,{done:!0,value:void 0}}};return ne[Symbol.iterator]=function(){return ne},ne}r("Array.prototype.values",function(m){return m||function(){return s(this,function(S,D){return D})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(m){var S=typeof m;return S=S!="object"?S:m?Array.isArray(m)?"array":S:"null",S=="array"||S=="object"&&typeof m.length=="number"}function u(m){var S=typeof m;return S=="object"&&m!=null||S=="function"}function c(m,S,D){return m.call.apply(m.bind,arguments)}function d(m,S,D){if(!m)throw Error();if(2<arguments.length){var L=Array.prototype.slice.call(arguments,2);return function(){var ne=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(ne,L),m.apply(S,ne)}}return function(){return m.apply(S,arguments)}}function h(m,S,D){return h=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?c:d,h.apply(null,arguments)}function v(m,S){var D=Array.prototype.slice.call(arguments,1);return function(){var L=D.slice();return L.push.apply(L,arguments),m.apply(this,L)}}function g(m,S){function D(){}D.prototype=S.prototype,m.aa=S.prototype,m.prototype=new D,m.prototype.constructor=m,m.Qb=function(L,ne,ae){for(var Pe=Array(arguments.length-2),Pt=2;Pt<arguments.length;Pt++)Pe[Pt-2]=arguments[Pt];return S.prototype[ne].apply(L,Pe)}}function p(m){const S=m.length;if(0<S){const D=Array(S);for(let L=0;L<S;L++)D[L]=m[L];return D}return[]}function y(m,S){for(let D=1;D<arguments.length;D++){const L=arguments[D];if(l(L)){const ne=m.length||0,ae=L.length||0;m.length=ne+ae;for(let Pe=0;Pe<ae;Pe++)m[ne+Pe]=L[Pe]}else m.push(L)}}class w{constructor(S,D){this.i=S,this.j=D,this.h=0,this.g=null}get(){let S;return 0<this.h?(this.h--,S=this.g,this.g=S.next,S.next=null):S=this.i(),S}}function C(m){return/^[\s\xa0]*$/.test(m)}function x(){var m=a.navigator;return m&&(m=m.userAgent)?m:""}function A(m){return A[" "](m),m}A[" "]=function(){};var V=x().indexOf("Gecko")!=-1&&!(x().toLowerCase().indexOf("webkit")!=-1&&x().indexOf("Edge")==-1)&&!(x().indexOf("Trident")!=-1||x().indexOf("MSIE")!=-1)&&x().indexOf("Edge")==-1;function N(m,S,D){for(const L in m)S.call(D,m[L],L,m)}function T(m,S){for(const D in m)S.call(void 0,m[D],D,m)}function b(m){const S={};for(const D in m)S[D]=m[D];return S}const _="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function E(m,S){let D,L;for(let ne=1;ne<arguments.length;ne++){L=arguments[ne];for(D in L)m[D]=L[D];for(let ae=0;ae<_.length;ae++)D=_[ae],Object.prototype.hasOwnProperty.call(L,D)&&(m[D]=L[D])}}function P(m){var S=1;m=m.split(":");const D=[];for(;0<S&&m.length;)D.push(m.shift()),S--;return m.length&&D.push(m.join(":")),D}function I(m){a.setTimeout(()=>{throw m},0)}function R(){var m=B;let S=null;return m.g&&(S=m.g,m.g=m.g.next,m.g||(m.h=null),S.next=null),S}class H{constructor(){this.h=this.g=null}add(S,D){const L=q.get();L.set(S,D),this.h?this.h.next=L:this.g=L,this.h=L}}var q=new w(()=>new W,m=>m.reset());class W{constructor(){this.next=this.g=this.h=null}set(S,D){this.h=S,this.g=D,this.next=null}reset(){this.next=this.g=this.h=null}}let X,U=!1,B=new H,$=()=>{const m=a.Promise.resolve(void 0);X=()=>{m.then(Y)}};var Y=()=>{for(var m;m=R();){try{m.h.call(m.g)}catch(D){I(D)}var S=q;S.j(m),100>S.h&&(S.h++,m.next=S.g,S.g=m)}U=!1};function re(){this.s=this.s,this.C=this.C}re.prototype.s=!1,re.prototype.ma=function(){this.s||(this.s=!0,this.N())},re.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function de(m,S){this.type=m,this.g=this.target=S,this.defaultPrevented=!1}de.prototype.h=function(){this.defaultPrevented=!0};var we=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var m=!1,S=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const D=()=>{};a.addEventListener("test",D,S),a.removeEventListener("test",D,S)}catch{}return m}();function Ie(m,S){if(de.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m){var D=this.type=m.type,L=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;if(this.target=m.target||m.srcElement,this.g=S,S=m.relatedTarget){if(V){e:{try{A(S.nodeName);var ne=!0;break e}catch{}ne=!1}ne||(S=null)}}else D=="mouseover"?S=m.fromElement:D=="mouseout"&&(S=m.toElement);this.relatedTarget=S,L?(this.clientX=L.clientX!==void 0?L.clientX:L.pageX,this.clientY=L.clientY!==void 0?L.clientY:L.pageY,this.screenX=L.screenX||0,this.screenY=L.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=typeof m.pointerType=="string"?m.pointerType:oe[m.pointerType]||"",this.state=m.state,this.i=m,m.defaultPrevented&&Ie.aa.h.call(this)}}g(Ie,de);var oe={2:"touch",3:"pen",4:"mouse"};Ie.prototype.h=function(){Ie.aa.h.call(this);var m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var Q="closure_listenable_"+(1e6*Math.random()|0),le=0;function pe(m,S,D,L,ne){this.listener=m,this.proxy=null,this.src=S,this.type=D,this.capture=!!L,this.ha=ne,this.key=++le,this.da=this.fa=!1}function fe(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function ce(m){this.src=m,this.g={},this.h=0}ce.prototype.add=function(m,S,D,L,ne){var ae=m.toString();m=this.g[ae],m||(m=this.g[ae]=[],this.h++);var Pe=O(m,S,L,ne);return-1<Pe?(S=m[Pe],D||(S.fa=!1)):(S=new pe(S,this.src,ae,!!L,ne),S.fa=D,m.push(S)),S};function Te(m,S){var D=S.type;if(D in m.g){var L=m.g[D],ne=Array.prototype.indexOf.call(L,S,void 0),ae;(ae=0<=ne)&&Array.prototype.splice.call(L,ne,1),ae&&(fe(S),m.g[D].length==0&&(delete m.g[D],m.h--))}}function O(m,S,D,L){for(var ne=0;ne<m.length;++ne){var ae=m[ne];if(!ae.da&&ae.listener==S&&ae.capture==!!D&&ae.ha==L)return ne}return-1}var M="closure_lm_"+(1e6*Math.random()|0),G={};function ie(m,S,D,L,ne){if(Array.isArray(S)){for(var ae=0;ae<S.length;ae++)ie(m,S[ae],D,L,ne);return null}return D=Oe(D),m&&m[Q]?m.K(S,D,u(L)?!!L.capture:!!L,ne):K(m,S,D,!1,L,ne)}function K(m,S,D,L,ne,ae){if(!S)throw Error("Invalid event type");var Pe=u(ne)?!!ne.capture:!!ne,Pt=Le(m);if(Pt||(m[M]=Pt=new ce(m)),D=Pt.add(S,D,L,Pe,ae),D.proxy)return D;if(L=ue(),D.proxy=L,L.src=m,L.listener=D,m.addEventListener)we||(ne=Pe),ne===void 0&&(ne=!1),m.addEventListener(S.toString(),L,ne);else if(m.attachEvent)m.attachEvent(Ce(S.toString()),L);else if(m.addListener&&m.removeListener)m.addListener(L);else throw Error("addEventListener and attachEvent are unavailable.");return D}function ue(){function m(D){return S.call(m.src,m.listener,D)}const S=ve;return m}function ke(m,S,D,L,ne){if(Array.isArray(S))for(var ae=0;ae<S.length;ae++)ke(m,S[ae],D,L,ne);else L=u(L)?!!L.capture:!!L,D=Oe(D),m&&m[Q]?(m=m.i,S=String(S).toString(),S in m.g&&(ae=m.g[S],D=O(ae,D,L,ne),-1<D&&(fe(ae[D]),Array.prototype.splice.call(ae,D,1),ae.length==0&&(delete m.g[S],m.h--)))):m&&(m=Le(m))&&(S=m.g[S.toString()],m=-1,S&&(m=O(S,D,L,ne)),(D=-1<m?S[m]:null)&&me(D))}function me(m){if(typeof m!="number"&&m&&!m.da){var S=m.src;if(S&&S[Q])Te(S.i,m);else{var D=m.type,L=m.proxy;S.removeEventListener?S.removeEventListener(D,L,m.capture):S.detachEvent?S.detachEvent(Ce(D),L):S.addListener&&S.removeListener&&S.removeListener(L),(D=Le(S))?(Te(D,m),D.h==0&&(D.src=null,S[M]=null)):fe(m)}}}function Ce(m){return m in G?G[m]:G[m]="on"+m}function ve(m,S){if(m.da)m=!0;else{S=new Ie(S,this);var D=m.listener,L=m.ha||m.src;m.fa&&me(m),m=D.call(L,S)}return m}function Le(m){return m=m[M],m instanceof ce?m:null}var Ae="__closure_events_fn_"+(1e9*Math.random()>>>0);function Oe(m){return typeof m=="function"?m:(m[Ae]||(m[Ae]=function(S){return m.handleEvent(S)}),m[Ae])}function De(){re.call(this),this.i=new ce(this),this.M=this,this.F=null}g(De,re),De.prototype[Q]=!0,De.prototype.removeEventListener=function(m,S,D,L){ke(this,m,S,D,L)};function je(m,S){var D,L=m.F;if(L)for(D=[];L;L=L.F)D.push(L);if(m=m.M,L=S.type||S,typeof S=="string")S=new de(S,m);else if(S instanceof de)S.target=S.target||m;else{var ne=S;S=new de(L,m),E(S,ne)}if(ne=!0,D)for(var ae=D.length-1;0<=ae;ae--){var Pe=S.g=D[ae];ne=yt(Pe,L,!0,S)&&ne}if(Pe=S.g=m,ne=yt(Pe,L,!0,S)&&ne,ne=yt(Pe,L,!1,S)&&ne,D)for(ae=0;ae<D.length;ae++)Pe=S.g=D[ae],ne=yt(Pe,L,!1,S)&&ne}De.prototype.N=function(){if(De.aa.N.call(this),this.i){var m=this.i,S;for(S in m.g){for(var D=m.g[S],L=0;L<D.length;L++)fe(D[L]);delete m.g[S],m.h--}}this.F=null},De.prototype.K=function(m,S,D,L){return this.i.add(String(m),S,!1,D,L)},De.prototype.L=function(m,S,D,L){return this.i.add(String(m),S,!0,D,L)};function yt(m,S,D,L){if(S=m.i.g[String(S)],!S)return!0;S=S.concat();for(var ne=!0,ae=0;ae<S.length;++ae){var Pe=S[ae];if(Pe&&!Pe.da&&Pe.capture==D){var Pt=Pe.listener,kn=Pe.ha||Pe.src;Pe.fa&&Te(m.i,Pe),ne=Pt.call(kn,L)!==!1&&ne}}return ne&&!L.defaultPrevented}function mt(m,S,D){if(typeof m=="function")D&&(m=h(m,D));else if(m&&typeof m.handleEvent=="function")m=h(m.handleEvent,m);else throw Error("Invalid listener argument");return 2147483647<Number(S)?-1:a.setTimeout(m,S||0)}function Rn(m){m.g=mt(()=>{m.g=null,m.i&&(m.i=!1,Rn(m))},m.l);const S=m.h;m.h=null,m.m.apply(null,S)}class fn extends re{constructor(S,D){super(),this.m=S,this.l=D,this.h=null,this.i=!1,this.g=null}j(S){this.h=arguments,this.g?this.i=!0:Rn(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function In(m){re.call(this),this.h=m,this.g={}}g(In,re);var Vn=[];function Qr(m){N(m.g,function(S,D){this.g.hasOwnProperty(D)&&me(S)},m),m.g={}}In.prototype.N=function(){In.aa.N.call(this),Qr(this)},In.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Jo=a.JSON.stringify,Yn=a.JSON.parse,wi=class{stringify(m){return a.JSON.stringify(m,void 0)}parse(m){return a.JSON.parse(m,void 0)}};function Zo(){}Zo.prototype.h=null;function Z_(m){return m.h||(m.h=m.i())}function eb(){}var wl={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function jh(){de.call(this,"d")}g(jh,de);function Wh(){de.call(this,"c")}g(Wh,de);var Hs={},tb=null;function Tc(){return tb=tb||new De}Hs.La="serverreachability";function nb(m){de.call(this,Hs.La,m)}g(nb,de);function Sl(m){const S=Tc();je(S,new nb(S))}Hs.STAT_EVENT="statevent";function ib(m,S){de.call(this,Hs.STAT_EVENT,m),this.stat=S}g(ib,de);function Qn(m){const S=Tc();je(S,new ib(S,m))}Hs.Ma="timingevent";function rb(m,S){de.call(this,Hs.Ma,m),this.size=S}g(rb,de);function Cl(m,S){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){m()},S)}function Il(){this.g=!0}Il.prototype.xa=function(){this.g=!1};function yV(m,S,D,L,ne,ae){m.info(function(){if(m.g)if(ae)for(var Pe="",Pt=ae.split("&"),kn=0;kn<Pt.length;kn++){var vt=Pt[kn].split("=");if(1<vt.length){var Dn=vt[0];vt=vt[1];var Nn=Dn.split("_");Pe=2<=Nn.length&&Nn[1]=="type"?Pe+(Dn+"="+vt+"&"):Pe+(Dn+"=redacted&")}}else Pe=null;else Pe=ae;return"XMLHTTP REQ ("+L+") [attempt "+ne+"]: "+S+`
`+D+`
`+Pe})}function _V(m,S,D,L,ne,ae,Pe){m.info(function(){return"XMLHTTP RESP ("+L+") [ attempt "+ne+"]: "+S+`
`+D+`
`+ae+" "+Pe})}function ea(m,S,D,L){m.info(function(){return"XMLHTTP TEXT ("+S+"): "+wV(m,D)+(L?" "+L:"")})}function bV(m,S){m.info(function(){return"TIMEOUT: "+S})}Il.prototype.info=function(){};function wV(m,S){if(!m.g)return S;if(!S)return null;try{var D=JSON.parse(S);if(D){for(m=0;m<D.length;m++)if(Array.isArray(D[m])){var L=D[m];if(!(2>L.length)){var ne=L[1];if(Array.isArray(ne)&&!(1>ne.length)){var ae=ne[0];if(ae!="noop"&&ae!="stop"&&ae!="close")for(var Pe=1;Pe<ne.length;Pe++)ne[Pe]=""}}}}return Jo(D)}catch{return S}}var Ac={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},sb={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},zh;function Pc(){}g(Pc,Zo),Pc.prototype.g=function(){return new XMLHttpRequest},Pc.prototype.i=function(){return{}},zh=new Pc;function Xr(m,S,D,L){this.j=m,this.i=S,this.l=D,this.R=L||1,this.U=new In(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ob}function ob(){this.i=null,this.g="",this.h=!1}var ab={},qh={};function Gh(m,S,D){m.L=1,m.v=Dc(_r(S)),m.m=D,m.P=!0,lb(m,null)}function lb(m,S){m.F=Date.now(),xc(m),m.A=_r(m.v);var D=m.A,L=m.R;Array.isArray(L)||(L=[String(L)]),Sb(D.i,"t",L),m.C=0,D=m.j.J,m.h=new ob,m.g=$b(m.j,D?S:null,!m.m),0<m.O&&(m.M=new fn(h(m.Y,m,m.g),m.O)),S=m.U,D=m.g,L=m.ca;var ne="readystatechange";Array.isArray(ne)||(ne&&(Vn[0]=ne.toString()),ne=Vn);for(var ae=0;ae<ne.length;ae++){var Pe=ie(D,ne[ae],L||S.handleEvent,!1,S.h||S);if(!Pe)break;S.g[Pe.key]=Pe}S=m.H?b(m.H):{},m.m?(m.u||(m.u="POST"),S["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.A,m.u,m.m,S)):(m.u="GET",m.g.ea(m.A,m.u,null,S)),Sl(),yV(m.i,m.u,m.A,m.l,m.R,m.m)}Xr.prototype.ca=function(m){m=m.target;const S=this.M;S&&br(m)==3?S.j():this.Y(m)},Xr.prototype.Y=function(m){try{if(m==this.g)e:{const Nn=br(this.g);var S=this.g.Ba();const ia=this.g.Z();if(!(3>Nn)&&(Nn!=3||this.g&&(this.h.h||this.g.oa()||Pb(this.g)))){this.J||Nn!=4||S==7||(S==8||0>=ia?Sl(3):Sl(2)),Kh(this);var D=this.g.Z();this.X=D;t:if(ub(this)){var L=Pb(this.g);m="";var ne=L.length,ae=br(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){js(this),kl(this);var Pe="";break t}this.h.i=new a.TextDecoder}for(S=0;S<ne;S++)this.h.h=!0,m+=this.h.i.decode(L[S],{stream:!(ae&&S==ne-1)});L.length=0,this.h.g+=m,this.C=0,Pe=this.h.g}else Pe=this.g.oa();if(this.o=D==200,_V(this.i,this.u,this.A,this.l,this.R,Nn,D),this.o){if(this.T&&!this.K){t:{if(this.g){var Pt,kn=this.g;if((Pt=kn.g?kn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(Pt)){var vt=Pt;break t}}vt=null}if(D=vt)ea(this.i,this.l,D,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Yh(this,D);else{this.o=!1,this.s=3,Qn(12),js(this),kl(this);break e}}if(this.P){D=!0;let xi;for(;!this.J&&this.C<Pe.length;)if(xi=SV(this,Pe),xi==qh){Nn==4&&(this.s=4,Qn(14),D=!1),ea(this.i,this.l,null,"[Incomplete Response]");break}else if(xi==ab){this.s=4,Qn(15),ea(this.i,this.l,Pe,"[Invalid Chunk]"),D=!1;break}else ea(this.i,this.l,xi,null),Yh(this,xi);if(ub(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Nn!=4||Pe.length!=0||this.h.h||(this.s=1,Qn(16),D=!1),this.o=this.o&&D,!D)ea(this.i,this.l,Pe,"[Invalid Chunked Response]"),js(this),kl(this);else if(0<Pe.length&&!this.W){this.W=!0;var Dn=this.j;Dn.g==this&&Dn.ba&&!Dn.M&&(Dn.j.info("Great, no buffering proxy detected. Bytes received: "+Pe.length),tm(Dn),Dn.M=!0,Qn(11))}}else ea(this.i,this.l,Pe,null),Yh(this,Pe);Nn==4&&js(this),this.o&&!this.J&&(Nn==4?Mb(this.j,this):(this.o=!1,xc(this)))}else BV(this.g),D==400&&0<Pe.indexOf("Unknown SID")?(this.s=3,Qn(12)):(this.s=0,Qn(13)),js(this),kl(this)}}}catch{}finally{}};function ub(m){return m.g?m.u=="GET"&&m.L!=2&&m.j.Ca:!1}function SV(m,S){var D=m.C,L=S.indexOf(`
`,D);return L==-1?qh:(D=Number(S.substring(D,L)),isNaN(D)?ab:(L+=1,L+D>S.length?qh:(S=S.slice(L,L+D),m.C=L+D,S)))}Xr.prototype.cancel=function(){this.J=!0,js(this)};function xc(m){m.S=Date.now()+m.I,cb(m,m.I)}function cb(m,S){if(m.B!=null)throw Error("WatchDog timer not null");m.B=Cl(h(m.ba,m),S)}function Kh(m){m.B&&(a.clearTimeout(m.B),m.B=null)}Xr.prototype.ba=function(){this.B=null;const m=Date.now();0<=m-this.S?(bV(this.i,this.A),this.L!=2&&(Sl(),Qn(17)),js(this),this.s=2,kl(this)):cb(this,this.S-m)};function kl(m){m.j.G==0||m.J||Mb(m.j,m)}function js(m){Kh(m);var S=m.M;S&&typeof S.ma=="function"&&S.ma(),m.M=null,Qr(m.U),m.g&&(S=m.g,m.g=null,S.abort(),S.ma())}function Yh(m,S){try{var D=m.j;if(D.G!=0&&(D.g==m||Qh(D.h,m))){if(!m.K&&Qh(D.h,m)&&D.G==3){try{var L=D.Da.g.parse(S)}catch{L=null}if(Array.isArray(L)&&L.length==3){var ne=L;if(ne[0]==0){e:if(!D.u){if(D.g)if(D.g.F+3e3<m.F)Fc(D),Mc(D);else break e;em(D),Qn(18)}}else D.za=ne[1],0<D.za-D.T&&37500>ne[2]&&D.F&&D.v==0&&!D.C&&(D.C=Cl(h(D.Za,D),6e3));if(1>=hb(D.h)&&D.ca){try{D.ca()}catch{}D.ca=void 0}}else zs(D,11)}else if((m.K||D.g==m)&&Fc(D),!C(S))for(ne=D.Da.g.parse(S),S=0;S<ne.length;S++){let vt=ne[S];if(D.T=vt[0],vt=vt[1],D.G==2)if(vt[0]=="c"){D.K=vt[1],D.ia=vt[2];const Dn=vt[3];Dn!=null&&(D.la=Dn,D.j.info("VER="+D.la));const Nn=vt[4];Nn!=null&&(D.Aa=Nn,D.j.info("SVER="+D.Aa));const ia=vt[5];ia!=null&&typeof ia=="number"&&0<ia&&(L=1.5*ia,D.L=L,D.j.info("backChannelRequestTimeoutMs_="+L)),L=D;const xi=m.g;if(xi){const $c=xi.g?xi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if($c){var ae=L.h;ae.g||$c.indexOf("spdy")==-1&&$c.indexOf("quic")==-1&&$c.indexOf("h2")==-1||(ae.j=ae.l,ae.g=new Set,ae.h&&(Xh(ae,ae.h),ae.h=null))}if(L.D){const nm=xi.g?xi.g.getResponseHeader("X-HTTP-Session-Id"):null;nm&&(L.ya=nm,Lt(L.I,L.D,nm))}}D.G=3,D.l&&D.l.ua(),D.ba&&(D.R=Date.now()-m.F,D.j.info("Handshake RTT: "+D.R+"ms")),L=D;var Pe=m;if(L.qa=Bb(L,L.J?L.ia:null,L.W),Pe.K){mb(L.h,Pe);var Pt=Pe,kn=L.L;kn&&(Pt.I=kn),Pt.B&&(Kh(Pt),xc(Pt)),L.g=Pe}else Nb(L);0<D.i.length&&Lc(D)}else vt[0]!="stop"&&vt[0]!="close"||zs(D,7);else D.G==3&&(vt[0]=="stop"||vt[0]=="close"?vt[0]=="stop"?zs(D,7):Zh(D):vt[0]!="noop"&&D.l&&D.l.ta(vt),D.v=0)}}Sl(4)}catch{}}var CV=class{constructor(m,S){this.g=m,this.map=S}};function db(m){this.l=m||10,a.PerformanceNavigationTiming?(m=a.performance.getEntriesByType("navigation"),m=0<m.length&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function fb(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function hb(m){return m.h?1:m.g?m.g.size:0}function Qh(m,S){return m.h?m.h==S:m.g?m.g.has(S):!1}function Xh(m,S){m.g?m.g.add(S):m.h=S}function mb(m,S){m.h&&m.h==S?m.h=null:m.g&&m.g.has(S)&&m.g.delete(S)}db.prototype.cancel=function(){if(this.i=vb(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function vb(m){if(m.h!=null)return m.i.concat(m.h.D);if(m.g!=null&&m.g.size!==0){let S=m.i;for(const D of m.g.values())S=S.concat(D.D);return S}return p(m.i)}function IV(m){if(m.V&&typeof m.V=="function")return m.V();if(typeof Map<"u"&&m instanceof Map||typeof Set<"u"&&m instanceof Set)return Array.from(m.values());if(typeof m=="string")return m.split("");if(l(m)){for(var S=[],D=m.length,L=0;L<D;L++)S.push(m[L]);return S}S=[],D=0;for(L in m)S[D++]=m[L];return S}function kV(m){if(m.na&&typeof m.na=="function")return m.na();if(!m.V||typeof m.V!="function"){if(typeof Map<"u"&&m instanceof Map)return Array.from(m.keys());if(!(typeof Set<"u"&&m instanceof Set)){if(l(m)||typeof m=="string"){var S=[];m=m.length;for(var D=0;D<m;D++)S.push(D);return S}S=[],D=0;for(const L in m)S[D++]=L;return S}}}function gb(m,S){if(m.forEach&&typeof m.forEach=="function")m.forEach(S,void 0);else if(l(m)||typeof m=="string")Array.prototype.forEach.call(m,S,void 0);else for(var D=kV(m),L=IV(m),ne=L.length,ae=0;ae<ne;ae++)S.call(void 0,L[ae],D&&D[ae],m)}var pb=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function EV(m,S){if(m){m=m.split("&");for(var D=0;D<m.length;D++){var L=m[D].indexOf("="),ne=null;if(0<=L){var ae=m[D].substring(0,L);ne=m[D].substring(L+1)}else ae=m[D];S(ae,ne?decodeURIComponent(ne.replace(/\+/g," ")):"")}}}function Ws(m){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,m instanceof Ws){this.h=m.h,Rc(this,m.j),this.o=m.o,this.g=m.g,Vc(this,m.s),this.l=m.l;var S=m.i,D=new Al;D.i=S.i,S.g&&(D.g=new Map(S.g),D.h=S.h),yb(this,D),this.m=m.m}else m&&(S=String(m).match(pb))?(this.h=!1,Rc(this,S[1]||"",!0),this.o=El(S[2]||""),this.g=El(S[3]||"",!0),Vc(this,S[4]),this.l=El(S[5]||"",!0),yb(this,S[6]||"",!0),this.m=El(S[7]||"")):(this.h=!1,this.i=new Al(null,this.h))}Ws.prototype.toString=function(){var m=[],S=this.j;S&&m.push(Tl(S,_b,!0),":");var D=this.g;return(D||S=="file")&&(m.push("//"),(S=this.o)&&m.push(Tl(S,_b,!0),"@"),m.push(encodeURIComponent(String(D)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),D=this.s,D!=null&&m.push(":",String(D))),(D=this.l)&&(this.g&&D.charAt(0)!="/"&&m.push("/"),m.push(Tl(D,D.charAt(0)=="/"?PV:AV,!0))),(D=this.i.toString())&&m.push("?",D),(D=this.m)&&m.push("#",Tl(D,RV)),m.join("")};function _r(m){return new Ws(m)}function Rc(m,S,D){m.j=D?El(S,!0):S,m.j&&(m.j=m.j.replace(/:$/,""))}function Vc(m,S){if(S){if(S=Number(S),isNaN(S)||0>S)throw Error("Bad port number "+S);m.s=S}else m.s=null}function yb(m,S,D){S instanceof Al?(m.i=S,VV(m.i,m.h)):(D||(S=Tl(S,xV)),m.i=new Al(S,m.h))}function Lt(m,S,D){m.i.set(S,D)}function Dc(m){return Lt(m,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),m}function El(m,S){return m?S?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function Tl(m,S,D){return typeof m=="string"?(m=encodeURI(m).replace(S,TV),D&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function TV(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var _b=/[#\/\?@]/g,AV=/[#\?:]/g,PV=/[#\?]/g,xV=/[#\?@]/g,RV=/#/g;function Al(m,S){this.h=this.g=null,this.i=m||null,this.j=!!S}function Jr(m){m.g||(m.g=new Map,m.h=0,m.i&&EV(m.i,function(S,D){m.add(decodeURIComponent(S.replace(/\+/g," ")),D)}))}e=Al.prototype,e.add=function(m,S){Jr(this),this.i=null,m=ta(this,m);var D=this.g.get(m);return D||this.g.set(m,D=[]),D.push(S),this.h+=1,this};function bb(m,S){Jr(m),S=ta(m,S),m.g.has(S)&&(m.i=null,m.h-=m.g.get(S).length,m.g.delete(S))}function wb(m,S){return Jr(m),S=ta(m,S),m.g.has(S)}e.forEach=function(m,S){Jr(this),this.g.forEach(function(D,L){D.forEach(function(ne){m.call(S,ne,L,this)},this)},this)},e.na=function(){Jr(this);const m=Array.from(this.g.values()),S=Array.from(this.g.keys()),D=[];for(let L=0;L<S.length;L++){const ne=m[L];for(let ae=0;ae<ne.length;ae++)D.push(S[L])}return D},e.V=function(m){Jr(this);let S=[];if(typeof m=="string")wb(this,m)&&(S=S.concat(this.g.get(ta(this,m))));else{m=Array.from(this.g.values());for(let D=0;D<m.length;D++)S=S.concat(m[D])}return S},e.set=function(m,S){return Jr(this),this.i=null,m=ta(this,m),wb(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[S]),this.h+=1,this},e.get=function(m,S){return m?(m=this.V(m),0<m.length?String(m[0]):S):S};function Sb(m,S,D){bb(m,S),0<D.length&&(m.i=null,m.g.set(ta(m,S),p(D)),m.h+=D.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],S=Array.from(this.g.keys());for(var D=0;D<S.length;D++){var L=S[D];const ae=encodeURIComponent(String(L)),Pe=this.V(L);for(L=0;L<Pe.length;L++){var ne=ae;Pe[L]!==""&&(ne+="="+encodeURIComponent(String(Pe[L]))),m.push(ne)}}return this.i=m.join("&")};function ta(m,S){return S=String(S),m.j&&(S=S.toLowerCase()),S}function VV(m,S){S&&!m.j&&(Jr(m),m.i=null,m.g.forEach(function(D,L){var ne=L.toLowerCase();L!=ne&&(bb(this,L),Sb(this,ne,D))},m)),m.j=S}function DV(m,S){const D=new Il;if(a.Image){const L=new Image;L.onload=v(Zr,D,"TestLoadImage: loaded",!0,S,L),L.onerror=v(Zr,D,"TestLoadImage: error",!1,S,L),L.onabort=v(Zr,D,"TestLoadImage: abort",!1,S,L),L.ontimeout=v(Zr,D,"TestLoadImage: timeout",!1,S,L),a.setTimeout(function(){L.ontimeout&&L.ontimeout()},1e4),L.src=m}else S(!1)}function NV(m,S){const D=new Il,L=new AbortController,ne=setTimeout(()=>{L.abort(),Zr(D,"TestPingServer: timeout",!1,S)},1e4);fetch(m,{signal:L.signal}).then(ae=>{clearTimeout(ne),ae.ok?Zr(D,"TestPingServer: ok",!0,S):Zr(D,"TestPingServer: server error",!1,S)}).catch(()=>{clearTimeout(ne),Zr(D,"TestPingServer: error",!1,S)})}function Zr(m,S,D,L,ne){try{ne&&(ne.onload=null,ne.onerror=null,ne.onabort=null,ne.ontimeout=null),L(D)}catch{}}function OV(){this.g=new wi}function MV(m,S,D){const L=D||"";try{gb(m,function(ne,ae){let Pe=ne;u(ne)&&(Pe=Jo(ne)),S.push(L+ae+"="+encodeURIComponent(Pe))})}catch(ne){throw S.push(L+"type="+encodeURIComponent("_badmap")),ne}}function Pl(m){this.l=m.Ub||null,this.j=m.eb||!1}g(Pl,Zo),Pl.prototype.g=function(){return new Nc(this.l,this.j)},Pl.prototype.i=function(m){return function(){return m}}({});function Nc(m,S){De.call(this),this.D=m,this.o=S,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}g(Nc,De),e=Nc.prototype,e.open=function(m,S){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=m,this.A=S,this.readyState=1,Rl(this)},e.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const S={headers:this.u,method:this.B,credentials:this.m,cache:void 0};m&&(S.body=m),(this.D||a).fetch(new Request(this.A,S)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,xl(this)),this.readyState=0},e.Sa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,Rl(this)),this.g&&(this.readyState=3,Rl(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Cb(this)}else m.text().then(this.Ra.bind(this),this.ga.bind(this))};function Cb(m){m.j.read().then(m.Pa.bind(m)).catch(m.ga.bind(m))}e.Pa=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var S=m.value?m.value:new Uint8Array(0);(S=this.v.decode(S,{stream:!m.done}))&&(this.response=this.responseText+=S)}m.done?xl(this):Rl(this),this.readyState==3&&Cb(this)}},e.Ra=function(m){this.g&&(this.response=this.responseText=m,xl(this))},e.Qa=function(m){this.g&&(this.response=m,xl(this))},e.ga=function(){this.g&&xl(this)};function xl(m){m.readyState=4,m.l=null,m.j=null,m.v=null,Rl(m)}e.setRequestHeader=function(m,S){this.u.append(m,S)},e.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],S=this.h.entries();for(var D=S.next();!D.done;)D=D.value,m.push(D[0]+": "+D[1]),D=S.next();return m.join(`\r
`)};function Rl(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(Nc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function Ib(m){let S="";return N(m,function(D,L){S+=L,S+=":",S+=D,S+=`\r
`}),S}function Jh(m,S,D){e:{for(L in D){var L=!1;break e}L=!0}L||(D=Ib(D),typeof m=="string"?D!=null&&encodeURIComponent(String(D)):Lt(m,S,D))}function Kt(m){De.call(this),this.headers=new Map,this.o=m||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}g(Kt,De);var LV=/^https?$/i,FV=["POST","PUT"];e=Kt.prototype,e.Ha=function(m){this.J=m},e.ea=function(m,S,D,L){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);S=S?S.toUpperCase():"GET",this.D=m,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():zh.g(),this.v=this.o?Z_(this.o):Z_(zh),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open(S,String(m),!0),this.B=!1}catch(ae){kb(this,ae);return}if(m=D||"",D=new Map(this.headers),L)if(Object.getPrototypeOf(L)===Object.prototype)for(var ne in L)D.set(ne,L[ne]);else if(typeof L.keys=="function"&&typeof L.get=="function")for(const ae of L.keys())D.set(ae,L.get(ae));else throw Error("Unknown input type for opt_headers: "+String(L));L=Array.from(D.keys()).find(ae=>ae.toLowerCase()=="content-type"),ne=a.FormData&&m instanceof a.FormData,!(0<=Array.prototype.indexOf.call(FV,S,void 0))||L||ne||D.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ae,Pe]of D)this.g.setRequestHeader(ae,Pe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ab(this),this.u=!0,this.g.send(m),this.u=!1}catch(ae){kb(this,ae)}};function kb(m,S){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=S,m.m=5,Eb(m),Oc(m)}function Eb(m){m.A||(m.A=!0,je(m,"complete"),je(m,"error"))}e.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=m||7,je(this,"complete"),je(this,"abort"),Oc(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Oc(this,!0)),Kt.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?Tb(this):this.bb())},e.bb=function(){Tb(this)};function Tb(m){if(m.h&&typeof o<"u"&&(!m.v[1]||br(m)!=4||m.Z()!=2)){if(m.u&&br(m)==4)mt(m.Ea,0,m);else if(je(m,"readystatechange"),br(m)==4){m.h=!1;try{const Pe=m.Z();e:switch(Pe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var S=!0;break e;default:S=!1}var D;if(!(D=S)){var L;if(L=Pe===0){var ne=String(m.D).match(pb)[1]||null;!ne&&a.self&&a.self.location&&(ne=a.self.location.protocol.slice(0,-1)),L=!LV.test(ne?ne.toLowerCase():"")}D=L}if(D)je(m,"complete"),je(m,"success");else{m.m=6;try{var ae=2<br(m)?m.g.statusText:""}catch{ae=""}m.l=ae+" ["+m.Z()+"]",Eb(m)}}finally{Oc(m)}}}}function Oc(m,S){if(m.g){Ab(m);const D=m.g,L=m.v[0]?()=>{}:null;m.g=null,m.v=null,S||je(m,"ready");try{D.onreadystatechange=L}catch{}}}function Ab(m){m.I&&(a.clearTimeout(m.I),m.I=null)}e.isActive=function(){return!!this.g};function br(m){return m.g?m.g.readyState:0}e.Z=function(){try{return 2<br(this)?this.g.status:-1}catch{return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.Oa=function(m){if(this.g){var S=this.g.responseText;return m&&S.indexOf(m)==0&&(S=S.substring(m.length)),Yn(S)}};function Pb(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.H){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function BV(m){const S={};m=(m.g&&2<=br(m)&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let L=0;L<m.length;L++){if(C(m[L]))continue;var D=P(m[L]);const ne=D[0];if(D=D[1],typeof D!="string")continue;D=D.trim();const ae=S[ne]||[];S[ne]=ae,ae.push(D)}T(S,function(L){return L.join(", ")})}e.Ba=function(){return this.m},e.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Vl(m,S,D){return D&&D.internalChannelParams&&D.internalChannelParams[m]||S}function xb(m){this.Aa=0,this.i=[],this.j=new Il,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Vl("failFast",!1,m),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Vl("baseRetryDelayMs",5e3,m),this.cb=Vl("retryDelaySeedMs",1e4,m),this.Wa=Vl("forwardChannelMaxRetries",2,m),this.wa=Vl("forwardChannelRequestTimeoutMs",2e4,m),this.pa=m&&m.xmlHttpFactory||void 0,this.Xa=m&&m.Tb||void 0,this.Ca=m&&m.useFetchStreams||!1,this.L=void 0,this.J=m&&m.supportsCrossDomainXhr||!1,this.K="",this.h=new db(m&&m.concurrentRequestLimit),this.Da=new OV,this.P=m&&m.fastHandshake||!1,this.O=m&&m.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=m&&m.Rb||!1,m&&m.xa&&this.j.xa(),m&&m.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&m&&m.detectBufferingProxy||!1,this.ja=void 0,m&&m.longPollingTimeout&&0<m.longPollingTimeout&&(this.ja=m.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}e=xb.prototype,e.la=8,e.G=1,e.connect=function(m,S,D,L){Qn(0),this.W=m,this.H=S||{},D&&L!==void 0&&(this.H.OSID=D,this.H.OAID=L),this.F=this.X,this.I=Bb(this,null,this.W),Lc(this)};function Zh(m){if(Rb(m),m.G==3){var S=m.U++,D=_r(m.I);if(Lt(D,"SID",m.K),Lt(D,"RID",S),Lt(D,"TYPE","terminate"),Dl(m,D),S=new Xr(m,m.j,S),S.L=2,S.v=Dc(_r(D)),D=!1,a.navigator&&a.navigator.sendBeacon)try{D=a.navigator.sendBeacon(S.v.toString(),"")}catch{}!D&&a.Image&&(new Image().src=S.v,D=!0),D||(S.g=$b(S.j,null),S.g.ea(S.v)),S.F=Date.now(),xc(S)}Fb(m)}function Mc(m){m.g&&(tm(m),m.g.cancel(),m.g=null)}function Rb(m){Mc(m),m.u&&(a.clearTimeout(m.u),m.u=null),Fc(m),m.h.cancel(),m.s&&(typeof m.s=="number"&&a.clearTimeout(m.s),m.s=null)}function Lc(m){if(!fb(m.h)&&!m.s){m.s=!0;var S=m.Ga;X||$(),U||(X(),U=!0),B.add(S,m),m.B=0}}function $V(m,S){return hb(m.h)>=m.h.j-(m.s?1:0)?!1:m.s?(m.i=S.D.concat(m.i),!0):m.G==1||m.G==2||m.B>=(m.Va?0:m.Wa)?!1:(m.s=Cl(h(m.Ga,m,S),Lb(m,m.B)),m.B++,!0)}e.Ga=function(m){if(this.s)if(this.s=null,this.G==1){if(!m){this.U=Math.floor(1e5*Math.random()),m=this.U++;const ne=new Xr(this,this.j,m);let ae=this.o;if(this.S&&(ae?(ae=b(ae),E(ae,this.S)):ae=this.S),this.m!==null||this.O||(ne.H=ae,ae=null),this.P)e:{for(var S=0,D=0;D<this.i.length;D++){t:{var L=this.i[D];if("__data__"in L.map&&(L=L.map.__data__,typeof L=="string")){L=L.length;break t}L=void 0}if(L===void 0)break;if(S+=L,4096<S){S=D;break e}if(S===4096||D===this.i.length-1){S=D+1;break e}}S=1e3}else S=1e3;S=Db(this,ne,S),D=_r(this.I),Lt(D,"RID",m),Lt(D,"CVER",22),this.D&&Lt(D,"X-HTTP-Session-Id",this.D),Dl(this,D),ae&&(this.O?S="headers="+encodeURIComponent(String(Ib(ae)))+"&"+S:this.m&&Jh(D,this.m,ae)),Xh(this.h,ne),this.Ua&&Lt(D,"TYPE","init"),this.P?(Lt(D,"$req",S),Lt(D,"SID","null"),ne.T=!0,Gh(ne,D,null)):Gh(ne,D,S),this.G=2}}else this.G==3&&(m?Vb(this,m):this.i.length==0||fb(this.h)||Vb(this))};function Vb(m,S){var D;S?D=S.l:D=m.U++;const L=_r(m.I);Lt(L,"SID",m.K),Lt(L,"RID",D),Lt(L,"AID",m.T),Dl(m,L),m.m&&m.o&&Jh(L,m.m,m.o),D=new Xr(m,m.j,D,m.B+1),m.m===null&&(D.H=m.o),S&&(m.i=S.D.concat(m.i)),S=Db(m,D,1e3),D.I=Math.round(.5*m.wa)+Math.round(.5*m.wa*Math.random()),Xh(m.h,D),Gh(D,L,S)}function Dl(m,S){m.H&&N(m.H,function(D,L){Lt(S,L,D)}),m.l&&gb({},function(D,L){Lt(S,L,D)})}function Db(m,S,D){D=Math.min(m.i.length,D);var L=m.l?h(m.l.Na,m.l,m):null;e:{var ne=m.i;let ae=-1;for(;;){const Pe=["count="+D];ae==-1?0<D?(ae=ne[0].g,Pe.push("ofs="+ae)):ae=0:Pe.push("ofs="+ae);let Pt=!0;for(let kn=0;kn<D;kn++){let vt=ne[kn].g;const Dn=ne[kn].map;if(vt-=ae,0>vt)ae=Math.max(0,ne[kn].g-100),Pt=!1;else try{MV(Dn,Pe,"req"+vt+"_")}catch{L&&L(Dn)}}if(Pt){L=Pe.join("&");break e}}}return m=m.i.splice(0,D),S.D=m,L}function Nb(m){if(!m.g&&!m.u){m.Y=1;var S=m.Fa;X||$(),U||(X(),U=!0),B.add(S,m),m.v=0}}function em(m){return m.g||m.u||3<=m.v?!1:(m.Y++,m.u=Cl(h(m.Fa,m),Lb(m,m.v)),m.v++,!0)}e.Fa=function(){if(this.u=null,Ob(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var m=2*this.R;this.j.info("BP detection timer enabled: "+m),this.A=Cl(h(this.ab,this),m)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Qn(10),Mc(this),Ob(this))};function tm(m){m.A!=null&&(a.clearTimeout(m.A),m.A=null)}function Ob(m){m.g=new Xr(m,m.j,"rpc",m.Y),m.m===null&&(m.g.H=m.o),m.g.O=0;var S=_r(m.qa);Lt(S,"RID","rpc"),Lt(S,"SID",m.K),Lt(S,"AID",m.T),Lt(S,"CI",m.F?"0":"1"),!m.F&&m.ja&&Lt(S,"TO",m.ja),Lt(S,"TYPE","xmlhttp"),Dl(m,S),m.m&&m.o&&Jh(S,m.m,m.o),m.L&&(m.g.I=m.L);var D=m.g;m=m.ia,D.L=1,D.v=Dc(_r(S)),D.m=null,D.P=!0,lb(D,m)}e.Za=function(){this.C!=null&&(this.C=null,Mc(this),em(this),Qn(19))};function Fc(m){m.C!=null&&(a.clearTimeout(m.C),m.C=null)}function Mb(m,S){var D=null;if(m.g==S){Fc(m),tm(m),m.g=null;var L=2}else if(Qh(m.h,S))D=S.D,mb(m.h,S),L=1;else return;if(m.G!=0){if(S.o)if(L==1){D=S.m?S.m.length:0,S=Date.now()-S.F;var ne=m.B;L=Tc(),je(L,new rb(L,D)),Lc(m)}else Nb(m);else if(ne=S.s,ne==3||ne==0&&0<S.X||!(L==1&&$V(m,S)||L==2&&em(m)))switch(D&&0<D.length&&(S=m.h,S.i=S.i.concat(D)),ne){case 1:zs(m,5);break;case 4:zs(m,10);break;case 3:zs(m,6);break;default:zs(m,2)}}}function Lb(m,S){let D=m.Ta+Math.floor(Math.random()*m.cb);return m.isActive()||(D*=2),D*S}function zs(m,S){if(m.j.info("Error code "+S),S==2){var D=h(m.fb,m),L=m.Xa;const ne=!L;L=new Ws(L||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Rc(L,"https"),Dc(L),ne?DV(L.toString(),D):NV(L.toString(),D)}else Qn(2);m.G=0,m.l&&m.l.sa(S),Fb(m),Rb(m)}e.fb=function(m){m?(this.j.info("Successfully pinged google.com"),Qn(2)):(this.j.info("Failed to ping google.com"),Qn(1))};function Fb(m){if(m.G=0,m.ka=[],m.l){const S=vb(m.h);(S.length!=0||m.i.length!=0)&&(y(m.ka,S),y(m.ka,m.i),m.h.i.length=0,p(m.i),m.i.length=0),m.l.ra()}}function Bb(m,S,D){var L=D instanceof Ws?_r(D):new Ws(D);if(L.g!="")S&&(L.g=S+"."+L.g),Vc(L,L.s);else{var ne=a.location;L=ne.protocol,S=S?S+"."+ne.hostname:ne.hostname,ne=+ne.port;var ae=new Ws(null);L&&Rc(ae,L),S&&(ae.g=S),ne&&Vc(ae,ne),D&&(ae.l=D),L=ae}return D=m.D,S=m.ya,D&&S&&Lt(L,D,S),Lt(L,"VER",m.la),Dl(m,L),L}function $b(m,S,D){if(S&&!m.J)throw Error("Can't create secondary domain capable XhrIo object.");return S=m.Ca&&!m.pa?new Kt(new Pl({eb:D})):new Kt(m.pa),S.Ha(m.J),S}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ub(){}e=Ub.prototype,e.ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){};function Bc(){}Bc.prototype.g=function(m,S){return new ai(m,S)};function ai(m,S){De.call(this),this.g=new xb(S),this.l=m,this.h=S&&S.messageUrlParams||null,m=S&&S.messageHeaders||null,S&&S.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=S&&S.initMessageHeaders||null,S&&S.messageContentType&&(m?m["X-WebChannel-Content-Type"]=S.messageContentType:m={"X-WebChannel-Content-Type":S.messageContentType}),S&&S.va&&(m?m["X-WebChannel-Client-Profile"]=S.va:m={"X-WebChannel-Client-Profile":S.va}),this.g.S=m,(m=S&&S.Sb)&&!C(m)&&(this.g.m=m),this.v=S&&S.supportsCrossDomainXhr||!1,this.u=S&&S.sendRawJson||!1,(S=S&&S.httpSessionIdParam)&&!C(S)&&(this.g.D=S,m=this.h,m!==null&&S in m&&(m=this.h,S in m&&delete m[S])),this.j=new na(this)}g(ai,De),ai.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},ai.prototype.close=function(){Zh(this.g)},ai.prototype.o=function(m){var S=this.g;if(typeof m=="string"){var D={};D.__data__=m,m=D}else this.u&&(D={},D.__data__=Jo(m),m=D);S.i.push(new CV(S.Ya++,m)),S.G==3&&Lc(S)},ai.prototype.N=function(){this.g.l=null,delete this.j,Zh(this.g),delete this.g,ai.aa.N.call(this)};function Hb(m){jh.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var S=m.__sm__;if(S){e:{for(const D in S){m=D;break e}m=void 0}(this.i=m)&&(m=this.i,S=S!==null&&m in S?S[m]:void 0),this.data=S}else this.data=m}g(Hb,jh);function jb(){Wh.call(this),this.status=1}g(jb,Wh);function na(m){this.g=m}g(na,Ub),na.prototype.ua=function(){je(this.g,"a")},na.prototype.ta=function(m){je(this.g,new Hb(m))},na.prototype.sa=function(m){je(this.g,new jb)},na.prototype.ra=function(){je(this.g,"b")},Bc.prototype.createWebChannel=Bc.prototype.g,ai.prototype.send=ai.prototype.o,ai.prototype.open=ai.prototype.m,ai.prototype.close=ai.prototype.close,K1=function(){return new Bc},G1=function(){return Tc()},q1=Hs,hg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ac.NO_ERROR=0,Ac.TIMEOUT=8,Ac.HTTP_ERROR=6,wd=Ac,sb.COMPLETE="complete",z1=sb,eb.EventType=wl,wl.OPEN="a",wl.CLOSE="b",wl.ERROR="c",wl.MESSAGE="d",De.prototype.listen=De.prototype.K,ql=eb,W1=Pl,Kt.prototype.listenOnce=Kt.prototype.L,Kt.prototype.getLastError=Kt.prototype.Ka,Kt.prototype.getLastErrorCode=Kt.prototype.Ba,Kt.prototype.getStatus=Kt.prototype.Z,Kt.prototype.getResponseJson=Kt.prototype.Oa,Kt.prototype.getResponseText=Kt.prototype.oa,Kt.prototype.send=Kt.prototype.ea,Kt.prototype.setWithCredentials=Kt.prototype.Ha,j1=Kt}).apply(typeof td<"u"?td:typeof self<"u"?self:typeof window<"u"?window:{});const d0="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Mn.UNAUTHENTICATED=new Mn(null),Mn.GOOGLE_CREDENTIALS=new Mn("google-credentials-uid"),Mn.FIRST_PARTY=new Mn("first-party-uid"),Mn.MOCK_USER=new Mn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cl="10.13.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Io=new dc("@firebase/firestore");function Bl(){return Io.logLevel}function Me(e,...t){if(Io.logLevel<=it.DEBUG){const n=t.map(Dy);Io.debug(`Firestore (${cl}): ${e}`,...n)}}function $r(e,...t){if(Io.logLevel<=it.ERROR){const n=t.map(Dy);Io.error(`Firestore (${cl}): ${e}`,...n)}}function $a(e,...t){if(Io.logLevel<=it.WARN){const n=t.map(Dy);Io.warn(`Firestore (${cl}): ${e}`,...n)}}function Dy(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xe(e="Unexpected state"){const t=`FIRESTORE (${cl}) INTERNAL ASSERTION FAILED: `+e;throw $r(t),new Error(t)}function Vt(e,t){e||Xe()}function et(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ge={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ne extends pr{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y1{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class n3{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(Mn.UNAUTHENTICATED))}shutdown(){}}class i3{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class r3{constructor(t){this.t=t,this.currentUser=Mn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){let i=this.i;const r=l=>this.i!==i?(i=this.i,n(l)):Promise.resolve();let s=new Nr;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Nr,t.enqueueRetryable(()=>r(this.currentUser))};const o=()=>{const l=s;t.enqueueRetryable(async()=>{await l.promise,await r(this.currentUser)})},a=l=>{Me("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(Me("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Nr)}},0),o()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==t?(Me("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Vt(typeof i.accessToken=="string"),new Y1(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return Vt(t===null||typeof t=="string"),new Mn(t)}}class s3{constructor(t,n,i){this.l=t,this.h=n,this.P=i,this.type="FirstParty",this.user=Mn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class o3{constructor(t,n,i){this.l=t,this.h=n,this.P=i}getToken(){return Promise.resolve(new s3(this.l,this.h,this.P))}start(t,n){t.enqueueRetryable(()=>n(Mn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class a3{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class l3{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,n){const i=s=>{s.error!=null&&Me("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,Me("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{t.enqueueRetryable(()=>i(s))};const r=s=>{Me("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?r(s):Me("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(Vt(typeof n.token=="string"),this.R=n.token,new a3(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u3(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let i=0;i<e;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q1{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length;let i="";for(;i.length<20;){const r=u3(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<n&&(i+=t.charAt(r[s]%t.length))}return i}}function gt(e,t){return e<t?-1:e>t?1:0}function Ua(e,t,n){return e.length===t.length&&e.every((i,r)=>n(i,t[r]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class at{constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new Ne(ge.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ne(ge.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new Ne(ge.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Ne(ge.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return at.fromMillis(Date.now())}static fromDate(t){return at.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),i=Math.floor(1e6*(t-1e3*n));return new at(n,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?gt(this.nanoseconds,t.nanoseconds):gt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ze{constructor(t){this.timestamp=t}static fromTimestamp(t){return new Ze(t)}static min(){return new Ze(new at(0,0))}static max(){return new Ze(new at(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wu{constructor(t,n,i){n===void 0?n=0:n>t.length&&Xe(),i===void 0?i=t.length-n:i>t.length-n&&Xe(),this.segments=t,this.offset=n,this.len=i}get length(){return this.len}isEqual(t){return Wu.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Wu?t.forEach(i=>{n.push(i)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,i=this.limit();n<i;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const i=Math.min(t.length,n.length);for(let r=0;r<i;r++){const s=t.get(r),o=n.get(r);if(s<o)return-1;if(s>o)return 1}return t.length<n.length?-1:t.length>n.length?1:0}}class $t extends Wu{construct(t,n,i){return new $t(t,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const i of t){if(i.indexOf("//")>=0)throw new Ne(ge.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(r=>r.length>0))}return new $t(n)}static emptyPath(){return new $t([])}}const c3=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Tn extends Wu{construct(t,n,i){return new Tn(t,n,i)}static isValidIdentifier(t){return c3.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Tn.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Tn(["__name__"])}static fromServerFormat(t){const n=[];let i="",r=0;const s=()=>{if(i.length===0)throw new Ne(ge.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let o=!1;for(;r<t.length;){const a=t[r];if(a==="\\"){if(r+1===t.length)throw new Ne(ge.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const l=t[r+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Ne(ge.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=l,r+=2}else a==="`"?(o=!o,r++):a!=="."||o?(i+=a,r++):(s(),r++)}if(s(),o)throw new Ne(ge.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Tn(n)}static emptyPath(){return new Tn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ue{constructor(t){this.path=t}static fromPath(t){return new Ue($t.fromString(t))}static fromName(t){return new Ue($t.fromString(t).popFirst(5))}static empty(){return new Ue($t.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&$t.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return $t.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Ue(new $t(t.slice()))}}function d3(e,t){const n=e.toTimestamp().seconds,i=e.toTimestamp().nanoseconds+1,r=Ze.fromTimestamp(i===1e9?new at(n+1,0):new at(n,i));return new Ps(r,Ue.empty(),t)}function f3(e){return new Ps(e.readTime,e.key,-1)}class Ps{constructor(t,n,i){this.readTime=t,this.documentKey=n,this.largestBatchId=i}static min(){return new Ps(Ze.min(),Ue.empty(),-1)}static max(){return new Ps(Ze.max(),Ue.empty(),-1)}}function h3(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=Ue.comparator(e.documentKey,t.documentKey),n!==0?n:gt(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m3="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class v3{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fc(e){if(e.code!==ge.FAILED_PRECONDITION||e.message!==m3)throw e;Me("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&Xe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new _e((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(t,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(n,s).next(i,r)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof _e?n:_e.resolve(n)}catch(n){return _e.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):_e.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):_e.reject(n)}static resolve(t){return new _e((n,i)=>{n(t)})}static reject(t){return new _e((n,i)=>{i(t)})}static waitFor(t){return new _e((n,i)=>{let r=0,s=0,o=!1;t.forEach(a=>{++r,a.next(()=>{++s,o&&s===r&&n()},l=>i(l))}),o=!0,s===r&&n()})}static or(t){let n=_e.resolve(!1);for(const i of t)n=n.next(r=>r?_e.resolve(r):i());return n}static forEach(t,n){const i=[];return t.forEach((r,s)=>{i.push(n.call(this,r,s))}),this.waitFor(i)}static mapArray(t,n){return new _e((i,r)=>{const s=t.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(t[u]).next(c=>{o[u]=c,++a,a===s&&i(o)},c=>r(c))}})}static doWhile(t,n){return new _e((i,r)=>{const s=()=>{t()===!0?n().next(()=>{s()},r):i()};s()})}}function g3(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function hc(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ny{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=i=>this.ie(i),this.se=i=>n.writeSequenceNumber(i))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.se&&this.se(t),t}}Ny.oe=-1;function bh(e){return e==null}function Jd(e){return e===0&&1/e==-1/0}function p3(e){return typeof e=="number"&&Number.isInteger(e)&&!Jd(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f0(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function dl(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function X1(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rn=class mg{constructor(t,n){this.comparator=t,this.root=n||ws.EMPTY}insert(t,n){return new mg(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,ws.BLACK,null,null))}remove(t){return new mg(this.comparator,this.root.remove(t,this.comparator).copy(null,null,ws.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(t,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(t){let n=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(r===0)return n+i.left.size;r<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,i)=>(t(n,i),!1))}toString(){const t=[];return this.inorderTraversal((n,i)=>(t.push(`${n}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new nd(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new nd(this.root,t,this.comparator,!1)}getReverseIterator(){return new nd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new nd(this.root,t,this.comparator,!0)}},nd=class{constructor(t,n,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!t.isEmpty();)if(s=n?i(t.key,n):1,n&&r&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(s===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}},ws=class Ir{constructor(t,n,i,r,s){this.key=t,this.value=n,this.color=i??Ir.RED,this.left=r??Ir.EMPTY,this.right=s??Ir.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,i,r,s){return new Ir(t??this.key,n??this.value,i??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,i){let r=this;const s=i(t,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(t,n,i),null):s===0?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(t,n,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Ir.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let i,r=this;if(n(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),n(t,r.key)===0){if(r.right.isEmpty())return Ir.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ir.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ir.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Xe();const t=this.left.check();if(t!==this.right.check())throw Xe();return t+(this.isRed()?0:1)}};ws.EMPTY=null,ws.RED=!0,ws.BLACK=!1;ws.EMPTY=new class{constructor(){this.size=0}get key(){throw Xe()}get value(){throw Xe()}get color(){throw Xe()}get left(){throw Xe()}get right(){throw Xe()}copy(t,n,i,r,s){return this}insert(t,n,i){return new ws(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(t){this.comparator=t,this.data=new rn(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,i)=>(t(n),!1))}forEachInRange(t,n){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;n(r.key)}}forEachWhile(t,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new h0(this.data.getIterator())}getIteratorFrom(t){return new h0(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(i=>{n=n.add(i)}),n}isEqual(t){if(!(t instanceof An)||this.size!==t.size)return!1;const n=this.data.getIterator(),i=t.data.getIterator();for(;n.hasNext();){const r=n.getNext().key,s=i.getNext().key;if(this.comparator(r,s)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new An(this.comparator);return n.data=t,n}}class h0{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vi{constructor(t){this.fields=t,t.sort(Tn.comparator)}static empty(){return new Vi([])}unionWith(t){let n=new An(Tn.comparator);for(const i of this.fields)n=n.add(i);for(const i of t)n=n.add(i);return new Vi(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Ua(this.fields,t.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(r){try{return atob(r)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new J1("Invalid base64 string: "+s):s}}(t);return new xn(n)}static fromUint8Array(t){const n=function(r){let s="";for(let o=0;o<r.length;++o)s+=String.fromCharCode(r[o]);return s}(t);return new xn(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let r=0;r<n.length;r++)i[r]=n.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return gt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}xn.EMPTY_BYTE_STRING=new xn("");const y3=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function xs(e){if(Vt(!!e),typeof e=="string"){let t=0;const n=y3.exec(e);if(Vt(!!n),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}const i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Xt(e.seconds),nanos:Xt(e.nanos)}}function Xt(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function ko(e){return typeof e=="string"?xn.fromBase64String(e):xn.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oy(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function My(e){const t=e.mapValue.fields.__previous_value__;return Oy(t)?My(t):t}function zu(e){const t=xs(e.mapValue.fields.__local_write_time__.timestampValue);return new at(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _3{constructor(t,n,i,r,s,o,a,l,u){this.databaseId=t,this.appId=n,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class qu{constructor(t,n){this.projectId=t,this.database=n||"(default)"}static empty(){return new qu("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(t){return t instanceof qu&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const id={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Eo(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Oy(e)?4:w3(e)?9007199254740991:b3(e)?10:11:Xe()}function ur(e,t){if(e===t)return!0;const n=Eo(e);if(n!==Eo(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return zu(e).isEqual(zu(t));case 3:return function(r,s){if(typeof r.timestampValue=="string"&&typeof s.timestampValue=="string"&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;const o=xs(r.timestampValue),a=xs(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(r,s){return ko(r.bytesValue).isEqual(ko(s.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(r,s){return Xt(r.geoPointValue.latitude)===Xt(s.geoPointValue.latitude)&&Xt(r.geoPointValue.longitude)===Xt(s.geoPointValue.longitude)}(e,t);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return Xt(r.integerValue)===Xt(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){const o=Xt(r.doubleValue),a=Xt(s.doubleValue);return o===a?Jd(o)===Jd(a):isNaN(o)&&isNaN(a)}return!1}(e,t);case 9:return Ua(e.arrayValue.values||[],t.arrayValue.values||[],ur);case 10:case 11:return function(r,s){const o=r.mapValue.fields||{},a=s.mapValue.fields||{};if(f0(o)!==f0(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!ur(o[l],a[l])))return!1;return!0}(e,t);default:return Xe()}}function Gu(e,t){return(e.values||[]).find(n=>ur(n,t))!==void 0}function Ha(e,t){if(e===t)return 0;const n=Eo(e),i=Eo(t);if(n!==i)return gt(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return gt(e.booleanValue,t.booleanValue);case 2:return function(s,o){const a=Xt(s.integerValue||s.doubleValue),l=Xt(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(e,t);case 3:return m0(e.timestampValue,t.timestampValue);case 4:return m0(zu(e),zu(t));case 5:return gt(e.stringValue,t.stringValue);case 6:return function(s,o){const a=ko(s),l=ko(o);return a.compareTo(l)}(e.bytesValue,t.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const c=gt(a[u],l[u]);if(c!==0)return c}return gt(a.length,l.length)}(e.referenceValue,t.referenceValue);case 8:return function(s,o){const a=gt(Xt(s.latitude),Xt(o.latitude));return a!==0?a:gt(Xt(s.longitude),Xt(o.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return v0(e.arrayValue,t.arrayValue);case 10:return function(s,o){var a,l,u,c;const d=s.fields||{},h=o.fields||{},v=(a=d.value)===null||a===void 0?void 0:a.arrayValue,g=(l=h.value)===null||l===void 0?void 0:l.arrayValue,p=gt(((u=v==null?void 0:v.values)===null||u===void 0?void 0:u.length)||0,((c=g==null?void 0:g.values)===null||c===void 0?void 0:c.length)||0);return p!==0?p:v0(v,g)}(e.mapValue,t.mapValue);case 11:return function(s,o){if(s===id.mapValue&&o===id.mapValue)return 0;if(s===id.mapValue)return 1;if(o===id.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),u=o.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let d=0;d<l.length&&d<c.length;++d){const h=gt(l[d],c[d]);if(h!==0)return h;const v=Ha(a[l[d]],u[c[d]]);if(v!==0)return v}return gt(l.length,c.length)}(e.mapValue,t.mapValue);default:throw Xe()}}function m0(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return gt(e,t);const n=xs(e),i=xs(t),r=gt(n.seconds,i.seconds);return r!==0?r:gt(n.nanos,i.nanos)}function v0(e,t){const n=e.values||[],i=t.values||[];for(let r=0;r<n.length&&r<i.length;++r){const s=Ha(n[r],i[r]);if(s)return s}return gt(n.length,i.length)}function ja(e){return vg(e)}function vg(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(n){const i=xs(n);return`time(${i.seconds},${i.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(n){return ko(n).toBase64()}(e.bytesValue):"referenceValue"in e?function(n){return Ue.fromName(n).toString()}(e.referenceValue):"geoPointValue"in e?function(n){return`geo(${n.latitude},${n.longitude})`}(e.geoPointValue):"arrayValue"in e?function(n){let i="[",r=!0;for(const s of n.values||[])r?r=!1:i+=",",i+=vg(s);return i+"]"}(e.arrayValue):"mapValue"in e?function(n){const i=Object.keys(n.fields||{}).sort();let r="{",s=!0;for(const o of i)s?s=!1:r+=",",r+=`${o}:${vg(n.fields[o])}`;return r+"}"}(e.mapValue):Xe()}function g0(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function gg(e){return!!e&&"integerValue"in e}function Ly(e){return!!e&&"arrayValue"in e}function p0(e){return!!e&&"nullValue"in e}function y0(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Sd(e){return!!e&&"mapValue"in e}function b3(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function su(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return dl(e.mapValue.fields,(n,i)=>t.mapValue.fields[n]=su(i)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=su(e.arrayValue.values[n]);return t}return Object.assign({},e)}function w3(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci{constructor(t){this.value=t}static empty(){return new Ci({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let i=0;i<t.length-1;++i)if(n=(n.mapValue.fields||{})[t.get(i)],!Sd(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=su(n)}setAll(t){let n=Tn.emptyPath(),i={},r=[];t.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,i,r),i={},r=[],n=a.popLast()}o?i[a.lastSegment()]=su(o):r.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,i,r)}delete(t){const n=this.field(t.popLast());Sd(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return ur(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=n.mapValue.fields[t.get(i)];Sd(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[t.get(i)]=r),n=r}return n.mapValue.fields}applyChanges(t,n,i){dl(n,(r,s)=>t[r]=s);for(const r of i)delete t[r]}clone(){return new Ci(su(this.value))}}function Z1(e){const t=[];return dl(e.fields,(n,i)=>{const r=new Tn([n]);if(Sd(i)){const s=Z1(i.mapValue).fields;if(s.length===0)t.push(r);else for(const o of s)t.push(r.child(o))}else t.push(r)}),new Vi(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(t,n,i,r,s,o,a){this.key=t,this.documentType=n,this.version=i,this.readTime=r,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(t){return new Fn(t,0,Ze.min(),Ze.min(),Ze.min(),Ci.empty(),0)}static newFoundDocument(t,n,i,r){return new Fn(t,1,n,Ze.min(),i,r,0)}static newNoDocument(t,n){return new Fn(t,2,n,Ze.min(),Ze.min(),Ci.empty(),0)}static newUnknownDocument(t,n){return new Fn(t,3,n,Ze.min(),Ze.min(),Ci.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(Ze.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Ci.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Ci.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ze.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Fn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Fn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zd{constructor(t,n){this.position=t,this.inclusive=n}}function _0(e,t,n){let i=0;for(let r=0;r<e.position.length;r++){const s=t[r],o=e.position[r];if(s.field.isKeyField()?i=Ue.comparator(Ue.fromName(o.referenceValue),n.key):i=Ha(o,n.data.field(s.field)),s.dir==="desc"&&(i*=-1),i!==0)break}return i}function b0(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!ur(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef{constructor(t,n="asc"){this.field=t,this.dir=n}}function S3(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eP{}class tn extends eP{constructor(t,n,i){super(),this.field=t,this.op=n,this.value=i}static create(t,n,i){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,i):new I3(t,n,i):n==="array-contains"?new T3(t,i):n==="in"?new A3(t,i):n==="not-in"?new P3(t,i):n==="array-contains-any"?new x3(t,i):new tn(t,n,i)}static createKeyFieldInFilter(t,n,i){return n==="in"?new k3(t,i):new E3(t,i)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Ha(n,this.value)):n!==null&&Eo(this.value)===Eo(n)&&this.matchesComparison(Ha(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Xe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Wi extends eP{constructor(t,n){super(),this.filters=t,this.op=n,this.ae=null}static create(t,n){return new Wi(t,n)}matches(t){return tP(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function tP(e){return e.op==="and"}function nP(e){return C3(e)&&tP(e)}function C3(e){for(const t of e.filters)if(t instanceof Wi)return!1;return!0}function pg(e){if(e instanceof tn)return e.field.canonicalString()+e.op.toString()+ja(e.value);if(nP(e))return e.filters.map(t=>pg(t)).join(",");{const t=e.filters.map(n=>pg(n)).join(",");return`${e.op}(${t})`}}function iP(e,t){return e instanceof tn?function(i,r){return r instanceof tn&&i.op===r.op&&i.field.isEqual(r.field)&&ur(i.value,r.value)}(e,t):e instanceof Wi?function(i,r){return r instanceof Wi&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce((s,o,a)=>s&&iP(o,r.filters[a]),!0):!1}(e,t):void Xe()}function rP(e){return e instanceof tn?function(n){return`${n.field.canonicalString()} ${n.op} ${ja(n.value)}`}(e):e instanceof Wi?function(n){return n.op.toString()+" {"+n.getFilters().map(rP).join(" ,")+"}"}(e):"Filter"}class I3 extends tn{constructor(t,n,i){super(t,n,i),this.key=Ue.fromName(i.referenceValue)}matches(t){const n=Ue.comparator(t.key,this.key);return this.matchesComparison(n)}}class k3 extends tn{constructor(t,n){super(t,"in",n),this.keys=sP("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class E3 extends tn{constructor(t,n){super(t,"not-in",n),this.keys=sP("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function sP(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>Ue.fromName(i.referenceValue))}class T3 extends tn{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return Ly(n)&&Gu(n.arrayValue,this.value)}}class A3 extends tn{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Gu(this.value.arrayValue,n)}}class P3 extends tn{constructor(t,n){super(t,"not-in",n)}matches(t){if(Gu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&!Gu(this.value.arrayValue,n)}}class x3 extends tn{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!Ly(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>Gu(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R3{constructor(t,n=null,i=[],r=[],s=null,o=null,a=null){this.path=t,this.collectionGroup=n,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}}function w0(e,t=null,n=[],i=[],r=null,s=null,o=null){return new R3(e,t,n,i,r,s,o)}function Fy(e){const t=et(e);if(t.ue===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(i=>pg(i)).join(","),n+="|ob:",n+=t.orderBy.map(i=>function(s){return s.field.canonicalString()+s.dir}(i)).join(","),bh(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(i=>ja(i)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(i=>ja(i)).join(",")),t.ue=n}return t.ue}function By(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!S3(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!iP(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!b0(e.startAt,t.startAt)&&b0(e.endAt,t.endAt)}function yg(e){return Ue.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mc{constructor(t,n=null,i=[],r=[],s=null,o="F",a=null,l=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function V3(e,t,n,i,r,s,o,a){return new mc(e,t,n,i,r,s,o,a)}function wh(e){return new mc(e)}function S0(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function oP(e){return e.collectionGroup!==null}function ou(e){const t=et(e);if(t.ce===null){t.ce=[];const n=new Set;for(const s of t.explicitOrderBy)t.ce.push(s),n.add(s.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new An(Tn.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(t).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||t.ce.push(new ef(s,i))}),n.has(Tn.keyField().canonicalString())||t.ce.push(new ef(Tn.keyField(),i))}return t.ce}function tr(e){const t=et(e);return t.le||(t.le=D3(t,ou(e))),t.le}function D3(e,t){if(e.limitType==="F")return w0(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(r=>{const s=r.dir==="desc"?"asc":"desc";return new ef(r.field,s)});const n=e.endAt?new Zd(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Zd(e.startAt.position,e.startAt.inclusive):null;return w0(e.path,e.collectionGroup,t,e.filters,e.limit,n,i)}}function _g(e,t){const n=e.filters.concat([t]);return new mc(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function bg(e,t,n){return new mc(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Sh(e,t){return By(tr(e),tr(t))&&e.limitType===t.limitType}function aP(e){return`${Fy(tr(e))}|lt:${e.limitType}`}function ma(e){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(r=>rP(r)).join(", ")}]`),bh(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(r=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(r)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(r=>ja(r)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(r=>ja(r)).join(",")),`Target(${i})`}(tr(e))}; limitType=${e.limitType})`}function Ch(e,t){return t.isFoundDocument()&&function(i,r){const s=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(s):Ue.isDocumentKey(i.path)?i.path.isEqual(s):i.path.isImmediateParentOf(s)}(e,t)&&function(i,r){for(const s of ou(i))if(!s.field.isKeyField()&&r.data.field(s.field)===null)return!1;return!0}(e,t)&&function(i,r){for(const s of i.filters)if(!s.matches(r))return!1;return!0}(e,t)&&function(i,r){return!(i.startAt&&!function(o,a,l){const u=_0(o,a,l);return o.inclusive?u<=0:u<0}(i.startAt,ou(i),r)||i.endAt&&!function(o,a,l){const u=_0(o,a,l);return o.inclusive?u>=0:u>0}(i.endAt,ou(i),r))}(e,t)}function N3(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function lP(e){return(t,n)=>{let i=!1;for(const r of ou(e)){const s=O3(r,t,n);if(s!==0)return s;i=i||r.field.isKeyField()}return 0}}function O3(e,t,n){const i=e.field.isKeyField()?Ue.comparator(t.key,n.key):function(s,o,a){const l=o.data.field(s),u=a.data.field(s);return l!==null&&u!==null?Ha(l,u):Xe()}(e.field,t,n);switch(e.dir){case"asc":return i;case"desc":return-1*i;default:return Xe()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fl{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),i=this.inner[n];if(i!==void 0){for(const[r,s]of i)if(this.equalsFn(r,t))return s}}has(t){return this.get(t)!==void 0}set(t,n){const i=this.mapKeyFn(t),r=this.inner[i];if(r===void 0)return this.inner[i]=[[t,n]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],t))return void(r[s]=[t,n]);r.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),i=this.inner[n];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return i.length===1?delete this.inner[n]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(t){dl(this.inner,(n,i)=>{for(const[r,s]of i)t(r,s)})}isEmpty(){return X1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M3=new rn(Ue.comparator);function Ur(){return M3}const uP=new rn(Ue.comparator);function Gl(...e){let t=uP;for(const n of e)t=t.insert(n.key,n);return t}function cP(e){let t=uP;return e.forEach((n,i)=>t=t.insert(n,i.overlayedDocument)),t}function ro(){return au()}function dP(){return au()}function au(){return new fl(e=>e.toString(),(e,t)=>e.isEqual(t))}const L3=new rn(Ue.comparator),F3=new An(Ue.comparator);function rt(...e){let t=F3;for(const n of e)t=t.add(n);return t}const B3=new An(gt);function $3(){return B3}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $y(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Jd(t)?"-0":t}}function fP(e){return{integerValue:""+e}}function U3(e,t){return p3(t)?fP(t):$y(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ih{constructor(){this._=void 0}}function H3(e,t,n){return e instanceof tf?function(r,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&Oy(s)&&(s=My(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,t):e instanceof Ku?mP(e,t):e instanceof Yu?vP(e,t):function(r,s){const o=hP(r,s),a=C0(o)+C0(r.Pe);return gg(o)&&gg(r.Pe)?fP(a):$y(r.serializer,a)}(e,t)}function j3(e,t,n){return e instanceof Ku?mP(e,t):e instanceof Yu?vP(e,t):n}function hP(e,t){return e instanceof nf?function(i){return gg(i)||function(s){return!!s&&"doubleValue"in s}(i)}(t)?t:{integerValue:0}:null}class tf extends Ih{}class Ku extends Ih{constructor(t){super(),this.elements=t}}function mP(e,t){const n=gP(t);for(const i of e.elements)n.some(r=>ur(r,i))||n.push(i);return{arrayValue:{values:n}}}class Yu extends Ih{constructor(t){super(),this.elements=t}}function vP(e,t){let n=gP(t);for(const i of e.elements)n=n.filter(r=>!ur(r,i));return{arrayValue:{values:n}}}class nf extends Ih{constructor(t,n){super(),this.serializer=t,this.Pe=n}}function C0(e){return Xt(e.integerValue||e.doubleValue)}function gP(e){return Ly(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}function W3(e,t){return e.field.isEqual(t.field)&&function(i,r){return i instanceof Ku&&r instanceof Ku||i instanceof Yu&&r instanceof Yu?Ua(i.elements,r.elements,ur):i instanceof nf&&r instanceof nf?ur(i.Pe,r.Pe):i instanceof tf&&r instanceof tf}(e.transform,t.transform)}class z3{constructor(t,n){this.version=t,this.transformResults=n}}class Mi{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new Mi}static exists(t){return new Mi(void 0,t)}static updateTime(t){return new Mi(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Cd(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class kh{}function pP(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new Uy(e.key,Mi.none()):new vc(e.key,e.data,Mi.none());{const n=e.data,i=Ci.empty();let r=new An(Tn.comparator);for(let s of t.fields)if(!r.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?i.delete(s):i.set(s,o),r=r.add(s)}return new qo(e.key,i,new Vi(r.toArray()),Mi.none())}}function q3(e,t,n){e instanceof vc?function(r,s,o){const a=r.value.clone(),l=k0(r.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(e,t,n):e instanceof qo?function(r,s,o){if(!Cd(r.precondition,s))return void s.convertToUnknownDocument(o.version);const a=k0(r.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(yP(r)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(e,t,n):function(r,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,t,n)}function lu(e,t,n,i){return e instanceof vc?function(s,o,a,l){if(!Cd(s.precondition,o))return a;const u=s.value.clone(),c=E0(s.fieldTransforms,l,o);return u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(e,t,n,i):e instanceof qo?function(s,o,a,l){if(!Cd(s.precondition,o))return a;const u=E0(s.fieldTransforms,l,o),c=o.data;return c.setAll(yP(s)),c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(e,t,n,i):function(s,o,a){return Cd(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(e,t,n)}function G3(e,t){let n=null;for(const i of e.fieldTransforms){const r=t.data.field(i.field),s=hP(i.transform,r||null);s!=null&&(n===null&&(n=Ci.empty()),n.set(i.field,s))}return n||null}function I0(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&Ua(i,r,(s,o)=>W3(s,o))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class vc extends kh{constructor(t,n,i,r=[]){super(),this.key=t,this.value=n,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class qo extends kh{constructor(t,n,i,r,s=[]){super(),this.key=t,this.data=n,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function yP(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=e.data.field(n);t.set(n,i)}}),t}function k0(e,t,n){const i=new Map;Vt(e.length===n.length);for(let r=0;r<n.length;r++){const s=e[r],o=s.transform,a=t.data.field(s.field);i.set(s.field,j3(o,a,n[r]))}return i}function E0(e,t,n){const i=new Map;for(const r of e){const s=r.transform,o=n.data.field(r.field);i.set(r.field,H3(s,o,t))}return i}class Uy extends kh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class K3 extends kh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y3{constructor(t,n,i,r){this.batchId=t,this.localWriteTime=n,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,n){const i=n.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(t.key)&&q3(s,t,i[r])}}applyToLocalView(t,n){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(n=lu(i,t,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(n=lu(i,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const i=dP();return this.mutations.forEach(r=>{const s=t.get(r.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(r.key)?null:a;const l=pP(o,a);l!==null&&i.set(r.key,l),o.isValidDocument()||o.convertToNoDocument(Ze.min())}),i}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),rt())}isEqual(t){return this.batchId===t.batchId&&Ua(this.mutations,t.mutations,(n,i)=>I0(n,i))&&Ua(this.baseMutations,t.baseMutations,(n,i)=>I0(n,i))}}class Hy{constructor(t,n,i,r){this.batch=t,this.commitVersion=n,this.mutationResults=i,this.docVersions=r}static from(t,n,i){Vt(t.mutations.length===i.length);let r=function(){return L3}();const s=t.mutations;for(let o=0;o<s.length;o++)r=r.insert(s[o].key,i[o].version);return new Hy(t,n,i,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q3{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X3{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var en,lt;function J3(e){switch(e){default:return Xe();case ge.CANCELLED:case ge.UNKNOWN:case ge.DEADLINE_EXCEEDED:case ge.RESOURCE_EXHAUSTED:case ge.INTERNAL:case ge.UNAVAILABLE:case ge.UNAUTHENTICATED:return!1;case ge.INVALID_ARGUMENT:case ge.NOT_FOUND:case ge.ALREADY_EXISTS:case ge.PERMISSION_DENIED:case ge.FAILED_PRECONDITION:case ge.ABORTED:case ge.OUT_OF_RANGE:case ge.UNIMPLEMENTED:case ge.DATA_LOSS:return!0}}function _P(e){if(e===void 0)return $r("GRPC error has no .code"),ge.UNKNOWN;switch(e){case en.OK:return ge.OK;case en.CANCELLED:return ge.CANCELLED;case en.UNKNOWN:return ge.UNKNOWN;case en.DEADLINE_EXCEEDED:return ge.DEADLINE_EXCEEDED;case en.RESOURCE_EXHAUSTED:return ge.RESOURCE_EXHAUSTED;case en.INTERNAL:return ge.INTERNAL;case en.UNAVAILABLE:return ge.UNAVAILABLE;case en.UNAUTHENTICATED:return ge.UNAUTHENTICATED;case en.INVALID_ARGUMENT:return ge.INVALID_ARGUMENT;case en.NOT_FOUND:return ge.NOT_FOUND;case en.ALREADY_EXISTS:return ge.ALREADY_EXISTS;case en.PERMISSION_DENIED:return ge.PERMISSION_DENIED;case en.FAILED_PRECONDITION:return ge.FAILED_PRECONDITION;case en.ABORTED:return ge.ABORTED;case en.OUT_OF_RANGE:return ge.OUT_OF_RANGE;case en.UNIMPLEMENTED:return ge.UNIMPLEMENTED;case en.DATA_LOSS:return ge.DATA_LOSS;default:return Xe()}}(lt=en||(en={}))[lt.OK=0]="OK",lt[lt.CANCELLED=1]="CANCELLED",lt[lt.UNKNOWN=2]="UNKNOWN",lt[lt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",lt[lt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",lt[lt.NOT_FOUND=5]="NOT_FOUND",lt[lt.ALREADY_EXISTS=6]="ALREADY_EXISTS",lt[lt.PERMISSION_DENIED=7]="PERMISSION_DENIED",lt[lt.UNAUTHENTICATED=16]="UNAUTHENTICATED",lt[lt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",lt[lt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",lt[lt.ABORTED=10]="ABORTED",lt[lt.OUT_OF_RANGE=11]="OUT_OF_RANGE",lt[lt.UNIMPLEMENTED=12]="UNIMPLEMENTED",lt[lt.INTERNAL=13]="INTERNAL",lt[lt.UNAVAILABLE=14]="UNAVAILABLE",lt[lt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z3(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ej=new ho([4294967295,4294967295],0);function T0(e){const t=Z3().encode(e),n=new H1;return n.update(t),new Uint8Array(n.digest())}function A0(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),i=t.getUint32(4,!0),r=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new ho([n,i],0),new ho([r,s],0)]}class jy{constructor(t,n,i){if(this.bitmap=t,this.padding=n,this.hashCount=i,n<0||n>=8)throw new Kl(`Invalid padding: ${n}`);if(i<0)throw new Kl(`Invalid hash count: ${i}`);if(t.length>0&&this.hashCount===0)throw new Kl(`Invalid hash count: ${i}`);if(t.length===0&&n!==0)throw new Kl(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*t.length-n,this.Te=ho.fromNumber(this.Ie)}Ee(t,n,i){let r=t.add(n.multiply(ho.fromNumber(i)));return r.compare(ej)===1&&(r=new ho([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Te).toNumber()}de(t){return(this.bitmap[Math.floor(t/8)]&1<<t%8)!=0}mightContain(t){if(this.Ie===0)return!1;const n=T0(t),[i,r]=A0(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(i,r,s);if(!this.de(o))return!1}return!0}static create(t,n,i){const r=t%8==0?0:8-t%8,s=new Uint8Array(Math.ceil(t/8)),o=new jy(s,r,n);return i.forEach(a=>o.insert(a)),o}insert(t){if(this.Ie===0)return;const n=T0(t),[i,r]=A0(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(i,r,s);this.Ae(o)}}Ae(t){const n=Math.floor(t/8),i=t%8;this.bitmap[n]|=1<<i}}class Kl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh{constructor(t,n,i,r,s){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(t,n,i){const r=new Map;return r.set(t,gc.createSynthesizedTargetChangeForCurrentChange(t,n,i)),new Eh(Ze.min(),r,new rn(gt),Ur(),rt())}}class gc{constructor(t,n,i,r,s){this.resumeToken=t,this.current=n,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(t,n,i){return new gc(i,n,rt(),rt(),rt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Id{constructor(t,n,i,r){this.Re=t,this.removedTargetIds=n,this.key=i,this.Ve=r}}class bP{constructor(t,n){this.targetId=t,this.me=n}}class wP{constructor(t,n,i=xn.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=n,this.resumeToken=i,this.cause=r}}class P0{constructor(){this.fe=0,this.ge=R0(),this.pe=xn.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(t){t.approximateByteSize()>0&&(this.we=!0,this.pe=t)}ve(){let t=rt(),n=rt(),i=rt();return this.ge.forEach((r,s)=>{switch(s){case 0:t=t.add(r);break;case 2:n=n.add(r);break;case 1:i=i.add(r);break;default:Xe()}}),new gc(this.pe,this.ye,t,n,i)}Ce(){this.we=!1,this.ge=R0()}Fe(t,n){this.we=!0,this.ge=this.ge.insert(t,n)}Me(t){this.we=!0,this.ge=this.ge.remove(t)}xe(){this.fe+=1}Oe(){this.fe-=1,Vt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class tj{constructor(t){this.Le=t,this.Be=new Map,this.ke=Ur(),this.qe=x0(),this.Qe=new rn(gt)}Ke(t){for(const n of t.Re)t.Ve&&t.Ve.isFoundDocument()?this.$e(n,t.Ve):this.Ue(n,t.key,t.Ve);for(const n of t.removedTargetIds)this.Ue(n,t.key,t.Ve)}We(t){this.forEachTarget(t,n=>{const i=this.Ge(n);switch(t.state){case 0:this.ze(n)&&i.De(t.resumeToken);break;case 1:i.Oe(),i.Se||i.Ce(),i.De(t.resumeToken);break;case 2:i.Oe(),i.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(i.Ne(),i.De(t.resumeToken));break;case 4:this.ze(n)&&(this.je(n),i.De(t.resumeToken));break;default:Xe()}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.Be.forEach((i,r)=>{this.ze(r)&&n(r)})}He(t){const n=t.targetId,i=t.me.count,r=this.Je(n);if(r){const s=r.target;if(yg(s))if(i===0){const o=new Ue(s.path);this.Ue(n,o,Fn.newNoDocument(o,Ze.min()))}else Vt(i===1);else{const o=this.Ye(n);if(o!==i){const a=this.Ze(t),l=a?this.Xe(a,t,o):1;if(l!==0){this.je(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,u)}}}}}Ze(t){const n=t.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:s=0}=n;let o,a;try{o=ko(i).toUint8Array()}catch(l){if(l instanceof J1)return $a("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new jy(o,r,s)}catch(l){return $a(l instanceof Kl?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(t,n,i){return n.me.count===i-this.nt(t,n.targetId)?0:2}nt(t,n){const i=this.Le.getRemoteKeysForTarget(n);let r=0;return i.forEach(s=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;t.mightContain(a)||(this.Ue(n,s,null),r++)}),r}rt(t){const n=new Map;this.Be.forEach((s,o)=>{const a=this.Je(o);if(a){if(s.current&&yg(a.target)){const l=new Ue(a.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,Fn.newNoDocument(l,t))}s.be&&(n.set(o,s.ve()),s.Ce())}});let i=rt();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.Je(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(i=i.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(t));const r=new Eh(t,n,this.Qe,this.ke,i);return this.ke=Ur(),this.qe=x0(),this.Qe=new rn(gt),r}$e(t,n){if(!this.ze(t))return;const i=this.it(t,n.key)?2:0;this.Ge(t).Fe(n.key,i),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(t))}Ue(t,n,i){if(!this.ze(t))return;const r=this.Ge(t);this.it(t,n)?r.Fe(n,1):r.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(t)),i&&(this.ke=this.ke.insert(n,i))}removeTarget(t){this.Be.delete(t)}Ye(t){const n=this.Ge(t).ve();return this.Le.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}xe(t){this.Ge(t).xe()}Ge(t){let n=this.Be.get(t);return n||(n=new P0,this.Be.set(t,n)),n}st(t){let n=this.qe.get(t);return n||(n=new An(gt),this.qe=this.qe.insert(t,n)),n}ze(t){const n=this.Je(t)!==null;return n||Me("WatchChangeAggregator","Detected inactive target",t),n}Je(t){const n=this.Be.get(t);return n&&n.Se?null:this.Le.ot(t)}je(t){this.Be.set(t,new P0),this.Le.getRemoteKeysForTarget(t).forEach(n=>{this.Ue(t,n,null)})}it(t,n){return this.Le.getRemoteKeysForTarget(t).has(n)}}function x0(){return new rn(Ue.comparator)}function R0(){return new rn(Ue.comparator)}const nj={asc:"ASCENDING",desc:"DESCENDING"},ij={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},rj={and:"AND",or:"OR"};class sj{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function wg(e,t){return e.useProto3Json||bh(t)?t:{value:t}}function rf(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function SP(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function oj(e,t){return rf(e,t.toTimestamp())}function nr(e){return Vt(!!e),Ze.fromTimestamp(function(n){const i=xs(n);return new at(i.seconds,i.nanos)}(e))}function Wy(e,t){return Sg(e,t).canonicalString()}function Sg(e,t){const n=function(r){return new $t(["projects",r.projectId,"databases",r.database])}(e).child("documents");return t===void 0?n:n.child(t)}function CP(e){const t=$t.fromString(e);return Vt(AP(t)),t}function Cg(e,t){return Wy(e.databaseId,t.path)}function Mm(e,t){const n=CP(t);if(n.get(1)!==e.databaseId.projectId)throw new Ne(ge.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Ne(ge.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Ue(kP(n))}function IP(e,t){return Wy(e.databaseId,t)}function aj(e){const t=CP(e);return t.length===4?$t.emptyPath():kP(t)}function Ig(e){return new $t(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function kP(e){return Vt(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function V0(e,t,n){return{name:Cg(e,t),fields:n.value.mapValue.fields}}function lj(e,t){let n;if("targetChange"in t){t.targetChange;const i=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:Xe()}(t.targetChange.targetChangeType||"NO_CHANGE"),r=t.targetChange.targetIds||[],s=function(u,c){return u.useProto3Json?(Vt(c===void 0||typeof c=="string"),xn.fromBase64String(c||"")):(Vt(c===void 0||c instanceof Buffer||c instanceof Uint8Array),xn.fromUint8Array(c||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,a=o&&function(u){const c=u.code===void 0?ge.UNKNOWN:_P(u.code);return new Ne(c,u.message||"")}(o);n=new wP(i,r,s,a||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const r=Mm(e,i.document.name),s=nr(i.document.updateTime),o=i.document.createTime?nr(i.document.createTime):Ze.min(),a=new Ci({mapValue:{fields:i.document.fields}}),l=Fn.newFoundDocument(r,s,o,a),u=i.targetIds||[],c=i.removedTargetIds||[];n=new Id(u,c,l.key,l)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const r=Mm(e,i.document),s=i.readTime?nr(i.readTime):Ze.min(),o=Fn.newNoDocument(r,s),a=i.removedTargetIds||[];n=new Id([],a,o.key,o)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const r=Mm(e,i.document),s=i.removedTargetIds||[];n=new Id([],s,r,null)}else{if(!("filter"in t))return Xe();{t.filter;const i=t.filter;i.targetId;const{count:r=0,unchangedNames:s}=i,o=new X3(r,s),a=i.targetId;n=new bP(a,o)}}return n}function uj(e,t){let n;if(t instanceof vc)n={update:V0(e,t.key,t.value)};else if(t instanceof Uy)n={delete:Cg(e,t.key)};else if(t instanceof qo)n={update:V0(e,t.key,t.data),updateMask:yj(t.fieldMask)};else{if(!(t instanceof K3))return Xe();n={verify:Cg(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(i=>function(s,o){const a=o.transform;if(a instanceof tf)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Ku)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Yu)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof nf)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw Xe()}(0,i))),t.precondition.isNone||(n.currentDocument=function(r,s){return s.updateTime!==void 0?{updateTime:oj(r,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Xe()}(e,t.precondition)),n}function cj(e,t){return e&&e.length>0?(Vt(t!==void 0),e.map(n=>function(r,s){let o=r.updateTime?nr(r.updateTime):nr(s);return o.isEqual(Ze.min())&&(o=nr(s)),new z3(o,r.transformResults||[])}(n,t))):[]}function dj(e,t){return{documents:[IP(e,t.path)]}}function fj(e,t){const n={structuredQuery:{}},i=t.path;let r;t.collectionGroup!==null?(r=i,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(r=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=IP(e,r);const s=function(u){if(u.length!==0)return TP(Wi.create(u,"and"))}(t.filters);s&&(n.structuredQuery.where=s);const o=function(u){if(u.length!==0)return u.map(c=>function(h){return{field:va(h.field),direction:vj(h.dir)}}(c))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);const a=wg(e,t.limit);return a!==null&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(t.endAt)),{_t:n,parent:r}}function hj(e){let t=aj(e.parent);const n=e.structuredQuery,i=n.from?n.from.length:0;let r=null;if(i>0){Vt(i===1);const c=n.from[0];c.allDescendants?r=c.collectionId:t=t.child(c.collectionId)}let s=[];n.where&&(s=function(d){const h=EP(d);return h instanceof Wi&&nP(h)?h.getFilters():[h]}(n.where));let o=[];n.orderBy&&(o=function(d){return d.map(h=>function(g){return new ef(ga(g.field),function(y){switch(y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(h))}(n.orderBy));let a=null;n.limit&&(a=function(d){let h;return h=typeof d=="object"?d.value:d,bh(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(d){const h=!!d.before,v=d.values||[];return new Zd(v,h)}(n.startAt));let u=null;return n.endAt&&(u=function(d){const h=!d.before,v=d.values||[];return new Zd(v,h)}(n.endAt)),V3(t,r,o,s,a,"F",l,u)}function mj(e,t){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Xe()}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function EP(e){return e.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=ga(n.unaryFilter.field);return tn.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=ga(n.unaryFilter.field);return tn.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=ga(n.unaryFilter.field);return tn.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=ga(n.unaryFilter.field);return tn.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Xe()}}(e):e.fieldFilter!==void 0?function(n){return tn.create(ga(n.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Xe()}}(n.fieldFilter.op),n.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(n){return Wi.create(n.compositeFilter.filters.map(i=>EP(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return Xe()}}(n.compositeFilter.op))}(e):Xe()}function vj(e){return nj[e]}function gj(e){return ij[e]}function pj(e){return rj[e]}function va(e){return{fieldPath:e.canonicalString()}}function ga(e){return Tn.fromServerFormat(e.fieldPath)}function TP(e){return e instanceof tn?function(n){if(n.op==="=="){if(y0(n.value))return{unaryFilter:{field:va(n.field),op:"IS_NAN"}};if(p0(n.value))return{unaryFilter:{field:va(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(y0(n.value))return{unaryFilter:{field:va(n.field),op:"IS_NOT_NAN"}};if(p0(n.value))return{unaryFilter:{field:va(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:va(n.field),op:gj(n.op),value:n.value}}}(e):e instanceof Wi?function(n){const i=n.getFilters().map(r=>TP(r));return i.length===1?i[0]:{compositeFilter:{op:pj(n.op),filters:i}}}(e):Xe()}function yj(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function AP(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs{constructor(t,n,i,r,s=Ze.min(),o=Ze.min(),a=xn.EMPTY_BYTE_STRING,l=null){this.target=t,this.targetId=n,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(t){return new gs(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new gs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new gs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new gs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _j{constructor(t){this.ct=t}}function bj(e){const t=hj({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?bg(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wj{constructor(){this.un=new Sj}addToCollectionParentIndex(t,n){return this.un.add(n),_e.resolve()}getCollectionParents(t,n){return _e.resolve(this.un.getEntries(n))}addFieldIndex(t,n){return _e.resolve()}deleteFieldIndex(t,n){return _e.resolve()}deleteAllFieldIndexes(t){return _e.resolve()}createTargetIndexes(t,n){return _e.resolve()}getDocumentsMatchingTarget(t,n){return _e.resolve(null)}getIndexType(t,n){return _e.resolve(0)}getFieldIndexes(t,n){return _e.resolve([])}getNextCollectionGroupToUpdate(t){return _e.resolve(null)}getMinOffset(t,n){return _e.resolve(Ps.min())}getMinOffsetFromCollectionGroup(t,n){return _e.resolve(Ps.min())}updateCollectionGroup(t,n,i){return _e.resolve()}updateIndexEntries(t,n){return _e.resolve()}}class Sj{constructor(){this.index={}}add(t){const n=t.lastSegment(),i=t.popLast(),r=this.index[n]||new An($t.comparator),s=!r.has(i);return this.index[n]=r.add(i),s}has(t){const n=t.lastSegment(),i=t.popLast(),r=this.index[n];return r&&r.has(i)}getEntries(t){return(this.index[t]||new An($t.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa{constructor(t){this.Ln=t}next(){return this.Ln+=2,this.Ln}static Bn(){return new Wa(0)}static kn(){return new Wa(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cj{constructor(){this.changes=new fl(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,Fn.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?_e.resolve(i):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ij{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kj{constructor(t,n,i,r){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=r}getDocument(t,n){let i=null;return this.documentOverlayCache.getOverlay(t,n).next(r=>(i=r,this.remoteDocumentCache.getEntry(t,n))).next(r=>(i!==null&&lu(i.mutation,r,Vi.empty(),at.now()),r))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(i=>this.getLocalViewOfDocuments(t,i,rt()).next(()=>i))}getLocalViewOfDocuments(t,n,i=rt()){const r=ro();return this.populateOverlays(t,r,n).next(()=>this.computeViews(t,n,r,i).next(s=>{let o=Gl();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(t,n){const i=ro();return this.populateOverlays(t,i,n).next(()=>this.computeViews(t,n,i,rt()))}populateOverlays(t,n,i){const r=[];return i.forEach(s=>{n.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(t,r).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(t,n,i,r){let s=Ur();const o=au(),a=function(){return au()}();return n.forEach((l,u)=>{const c=i.get(u.key);r.has(u.key)&&(c===void 0||c.mutation instanceof qo)?s=s.insert(u.key,u):c!==void 0?(o.set(u.key,c.mutation.getFieldMask()),lu(c.mutation,u,c.mutation.getFieldMask(),at.now())):o.set(u.key,Vi.empty())}),this.recalculateAndSaveOverlays(t,s).next(l=>(l.forEach((u,c)=>o.set(u,c)),n.forEach((u,c)=>{var d;return a.set(u,new Ij(c,(d=o.get(u))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(t,n){const i=au();let r=new rn((o,a)=>o-a),s=rt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=i.get(l)||Vi.empty();c=a.applyToLocalView(u,c),i.set(l,c);const d=(r.get(a.batchId)||rt()).add(l);r=r.insert(a.batchId,d)})}).next(()=>{const o=[],a=r.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,d=dP();c.forEach(h=>{if(!s.has(h)){const v=pP(n.get(h),i.get(h));v!==null&&d.set(h,v),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(t,u,d))}return _e.waitFor(o)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,n,i,r){return function(o){return Ue.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):oP(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,i,r):this.getDocumentsMatchingCollectionQuery(t,n,i,r)}getNextDocuments(t,n,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,i,r).next(s=>{const o=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,i.largestBatchId,r-s.size):_e.resolve(ro());let a=-1,l=s;return o.next(u=>_e.forEach(u,(c,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(c)?_e.resolve():this.remoteDocumentCache.getEntry(t,c).next(h=>{l=l.insert(c,h)}))).next(()=>this.populateOverlays(t,u,s)).next(()=>this.computeViews(t,l,u,rt())).next(c=>({batchId:a,changes:cP(c)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new Ue(n)).next(i=>{let r=Gl();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(t,n,i,r){const s=n.collectionGroup;let o=Gl();return this.indexManager.getCollectionParents(t,s).next(a=>_e.forEach(a,l=>{const u=function(d,h){return new mc(h,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(t,u,i,r).next(c=>{c.forEach((d,h)=>{o=o.insert(d,h)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(t,n,i,r){let s;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,i.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,i,s,r))).next(o=>{s.forEach((l,u)=>{const c=u.getKey();o.get(c)===null&&(o=o.insert(c,Fn.newInvalidDocument(c)))});let a=Gl();return o.forEach((l,u)=>{const c=s.get(l);c!==void 0&&lu(c.mutation,u,Vi.empty(),at.now()),Ch(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ej{constructor(t){this.serializer=t,this.hr=new Map,this.Pr=new Map}getBundleMetadata(t,n){return _e.resolve(this.hr.get(n))}saveBundleMetadata(t,n){return this.hr.set(n.id,function(r){return{id:r.id,version:r.version,createTime:nr(r.createTime)}}(n)),_e.resolve()}getNamedQuery(t,n){return _e.resolve(this.Pr.get(n))}saveNamedQuery(t,n){return this.Pr.set(n.name,function(r){return{name:r.name,query:bj(r.bundledQuery),readTime:nr(r.readTime)}}(n)),_e.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tj{constructor(){this.overlays=new rn(Ue.comparator),this.Ir=new Map}getOverlay(t,n){return _e.resolve(this.overlays.get(n))}getOverlays(t,n){const i=ro();return _e.forEach(n,r=>this.getOverlay(t,r).next(s=>{s!==null&&i.set(r,s)})).next(()=>i)}saveOverlays(t,n,i){return i.forEach((r,s)=>{this.ht(t,n,s)}),_e.resolve()}removeOverlaysForBatchId(t,n,i){const r=this.Ir.get(i);return r!==void 0&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(i)),_e.resolve()}getOverlaysForCollection(t,n,i){const r=ro(),s=n.length+1,o=new Ue(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>i&&r.set(l.getKey(),l)}return _e.resolve(r)}getOverlaysForCollectionGroup(t,n,i,r){let s=new rn((u,c)=>u-c);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>i){let c=s.get(u.largestBatchId);c===null&&(c=ro(),s=s.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=ro(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=r)););return _e.resolve(a)}ht(t,n,i){const r=this.overlays.get(i.key);if(r!==null){const o=this.Ir.get(r.largestBatchId).delete(i.key);this.Ir.set(r.largestBatchId,o)}this.overlays=this.overlays.insert(i.key,new Q3(n,i));let s=this.Ir.get(n);s===void 0&&(s=rt(),this.Ir.set(n,s)),this.Ir.set(n,s.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aj{constructor(){this.sessionToken=xn.EMPTY_BYTE_STRING}getSessionToken(t){return _e.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,_e.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zy{constructor(){this.Tr=new An(mn.Er),this.dr=new An(mn.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(t,n){const i=new mn(t,n);this.Tr=this.Tr.add(i),this.dr=this.dr.add(i)}Rr(t,n){t.forEach(i=>this.addReference(i,n))}removeReference(t,n){this.Vr(new mn(t,n))}mr(t,n){t.forEach(i=>this.removeReference(i,n))}gr(t){const n=new Ue(new $t([])),i=new mn(n,t),r=new mn(n,t+1),s=[];return this.dr.forEachInRange([i,r],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(t=>this.Vr(t))}Vr(t){this.Tr=this.Tr.delete(t),this.dr=this.dr.delete(t)}yr(t){const n=new Ue(new $t([])),i=new mn(n,t),r=new mn(n,t+1);let s=rt();return this.dr.forEachInRange([i,r],o=>{s=s.add(o.key)}),s}containsKey(t){const n=new mn(t,0),i=this.Tr.firstAfterOrEqual(n);return i!==null&&t.isEqual(i.key)}}class mn{constructor(t,n){this.key=t,this.wr=n}static Er(t,n){return Ue.comparator(t.key,n.key)||gt(t.wr,n.wr)}static Ar(t,n){return gt(t.wr,n.wr)||Ue.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pj{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new An(mn.Er)}checkEmpty(t){return _e.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,i,r){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new Y3(s,n,i,r);this.mutationQueue.push(o);for(const a of r)this.br=this.br.add(new mn(a.key,s)),this.indexManager.addToCollectionParentIndex(t,a.key.path.popLast());return _e.resolve(o)}lookupMutationBatch(t,n){return _e.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(t,n){const i=n+1,r=this.vr(i),s=r<0?0:r;return _e.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return _e.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(t){return _e.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const i=new mn(n,0),r=new mn(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([i,r],o=>{const a=this.Dr(o.wr);s.push(a)}),_e.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(t,n){let i=new An(gt);return n.forEach(r=>{const s=new mn(r,0),o=new mn(r,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],a=>{i=i.add(a.wr)})}),_e.resolve(this.Cr(i))}getAllMutationBatchesAffectingQuery(t,n){const i=n.path,r=i.length+1;let s=i;Ue.isDocumentKey(s)||(s=s.child(""));const o=new mn(new Ue(s),0);let a=new An(gt);return this.br.forEachWhile(l=>{const u=l.key.path;return!!i.isPrefixOf(u)&&(u.length===r&&(a=a.add(l.wr)),!0)},o),_e.resolve(this.Cr(a))}Cr(t){const n=[];return t.forEach(i=>{const r=this.Dr(i);r!==null&&n.push(r)}),n}removeMutationBatch(t,n){Vt(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let i=this.br;return _e.forEach(n.mutations,r=>{const s=new mn(r.key,n.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this.br=i})}On(t){}containsKey(t,n){const i=new mn(n,0),r=this.br.firstAfterOrEqual(i);return _e.resolve(n.isEqual(r&&r.key))}performConsistencyCheck(t){return this.mutationQueue.length,_e.resolve()}Fr(t,n){return this.vr(t)}vr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Dr(t){const n=this.vr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xj{constructor(t){this.Mr=t,this.docs=function(){return new rn(Ue.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const i=n.key,r=this.docs.get(i),s=r?r.size:0,o=this.Mr(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const i=this.docs.get(n);return _e.resolve(i?i.document.mutableCopy():Fn.newInvalidDocument(n))}getEntries(t,n){let i=Ur();return n.forEach(r=>{const s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():Fn.newInvalidDocument(r))}),_e.resolve(i)}getDocumentsMatchingQuery(t,n,i,r){let s=Ur();const o=n.path,a=new Ue(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||h3(f3(c),i)<=0||(r.has(c.key)||Ch(n,c))&&(s=s.insert(c.key,c.mutableCopy()))}return _e.resolve(s)}getAllFromCollectionGroup(t,n,i,r){Xe()}Or(t,n){return _e.forEach(this.docs,i=>n(i))}newChangeBuffer(t){return new Rj(this)}getSize(t){return _e.resolve(this.size)}}class Rj extends Cj{constructor(t){super(),this.cr=t}applyChanges(t){const n=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?n.push(this.cr.addEntry(t,r)):this.cr.removeEntry(i)}),_e.waitFor(n)}getFromCache(t,n){return this.cr.getEntry(t,n)}getAllFromCache(t,n){return this.cr.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vj{constructor(t){this.persistence=t,this.Nr=new fl(n=>Fy(n),By),this.lastRemoteSnapshotVersion=Ze.min(),this.highestTargetId=0,this.Lr=0,this.Br=new zy,this.targetCount=0,this.kr=Wa.Bn()}forEachTarget(t,n){return this.Nr.forEach((i,r)=>n(r)),_e.resolve()}getLastRemoteSnapshotVersion(t){return _e.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return _e.resolve(this.Lr)}allocateTargetId(t){return this.highestTargetId=this.kr.next(),_e.resolve(this.highestTargetId)}setTargetsMetadata(t,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.Lr&&(this.Lr=n),_e.resolve()}Kn(t){this.Nr.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.kr=new Wa(n),this.highestTargetId=n),t.sequenceNumber>this.Lr&&(this.Lr=t.sequenceNumber)}addTargetData(t,n){return this.Kn(n),this.targetCount+=1,_e.resolve()}updateTargetData(t,n){return this.Kn(n),_e.resolve()}removeTargetData(t,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,_e.resolve()}removeTargets(t,n,i){let r=0;const s=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=n&&i.get(a.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(t,a.targetId)),r++)}),_e.waitFor(s).next(()=>r)}getTargetCount(t){return _e.resolve(this.targetCount)}getTargetData(t,n){const i=this.Nr.get(n)||null;return _e.resolve(i)}addMatchingKeys(t,n,i){return this.Br.Rr(n,i),_e.resolve()}removeMatchingKeys(t,n,i){this.Br.mr(n,i);const r=this.persistence.referenceDelegate,s=[];return r&&n.forEach(o=>{s.push(r.markPotentiallyOrphaned(t,o))}),_e.waitFor(s)}removeMatchingKeysForTargetId(t,n){return this.Br.gr(n),_e.resolve()}getMatchingKeysForTargetId(t,n){const i=this.Br.yr(n);return _e.resolve(i)}containsKey(t,n){return _e.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dj{constructor(t,n){this.qr={},this.overlays={},this.Qr=new Ny(0),this.Kr=!1,this.Kr=!0,this.$r=new Aj,this.referenceDelegate=t(this),this.Ur=new Vj(this),this.indexManager=new wj,this.remoteDocumentCache=function(r){return new xj(r)}(i=>this.referenceDelegate.Wr(i)),this.serializer=new _j(n),this.Gr=new Ej(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new Tj,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let i=this.qr[t.toKey()];return i||(i=new Pj(n,this.referenceDelegate),this.qr[t.toKey()]=i),i}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(t,n,i){Me("MemoryPersistence","Starting transaction:",t);const r=new Nj(this.Qr.next());return this.referenceDelegate.zr(),i(r).next(s=>this.referenceDelegate.jr(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Hr(t,n){return _e.or(Object.values(this.qr).map(i=>()=>i.containsKey(t,n)))}}class Nj extends v3{constructor(t){super(),this.currentSequenceNumber=t}}class qy{constructor(t){this.persistence=t,this.Jr=new zy,this.Yr=null}static Zr(t){return new qy(t)}get Xr(){if(this.Yr)return this.Yr;throw Xe()}addReference(t,n,i){return this.Jr.addReference(i,n),this.Xr.delete(i.toString()),_e.resolve()}removeReference(t,n,i){return this.Jr.removeReference(i,n),this.Xr.add(i.toString()),_e.resolve()}markPotentiallyOrphaned(t,n){return this.Xr.add(n.toString()),_e.resolve()}removeTarget(t,n){this.Jr.gr(n.targetId).forEach(r=>this.Xr.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,n.targetId).next(r=>{r.forEach(s=>this.Xr.add(s.toString()))}).next(()=>i.removeTargetData(t,n))}zr(){this.Yr=new Set}jr(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return _e.forEach(this.Xr,i=>{const r=Ue.fromPath(i);return this.ei(t,r).next(s=>{s||n.removeEntry(r,Ze.min())})}).next(()=>(this.Yr=null,n.apply(t)))}updateLimboDocument(t,n){return this.ei(t,n).next(i=>{i?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(t){return 0}ei(t,n){return _e.or([()=>_e.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Hr(t,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gy{constructor(t,n,i,r){this.targetId=t,this.fromCache=n,this.$i=i,this.Ui=r}static Wi(t,n){let i=rt(),r=rt();for(const s of n.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new Gy(t,n.fromCache,i,r)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oj{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mj{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return M6()?8:g3(qn())>0?6:4}()}initialize(t,n){this.Ji=t,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(t,n,i,r){const s={result:null};return this.Yi(t,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(t,n,r,i).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new Oj;return this.Xi(t,n,o).next(a=>{if(s.result=a,this.zi)return this.es(t,n,o,a.size)})}).next(()=>s.result)}es(t,n,i,r){return i.documentReadCount<this.ji?(Bl()<=it.DEBUG&&Me("QueryEngine","SDK will not create cache indexes for query:",ma(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),_e.resolve()):(Bl()<=it.DEBUG&&Me("QueryEngine","Query:",ma(n),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.Hi*r?(Bl()<=it.DEBUG&&Me("QueryEngine","The SDK decides to create cache indexes for query:",ma(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,tr(n))):_e.resolve())}Yi(t,n){if(S0(n))return _e.resolve(null);let i=tr(n);return this.indexManager.getIndexType(t,i).next(r=>r===0?null:(n.limit!==null&&r===1&&(n=bg(n,null,"F"),i=tr(n)),this.indexManager.getDocumentsMatchingTarget(t,i).next(s=>{const o=rt(...s);return this.Ji.getDocuments(t,o).next(a=>this.indexManager.getMinOffset(t,i).next(l=>{const u=this.ts(n,a);return this.ns(n,u,o,l.readTime)?this.Yi(t,bg(n,null,"F")):this.rs(t,u,n,l)}))})))}Zi(t,n,i,r){return S0(n)||r.isEqual(Ze.min())?_e.resolve(null):this.Ji.getDocuments(t,i).next(s=>{const o=this.ts(n,s);return this.ns(n,o,i,r)?_e.resolve(null):(Bl()<=it.DEBUG&&Me("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),ma(n)),this.rs(t,o,n,d3(r,-1)).next(a=>a))})}ts(t,n){let i=new An(lP(t));return n.forEach((r,s)=>{Ch(t,s)&&(i=i.add(s))}),i}ns(t,n,i,r){if(t.limit===null)return!1;if(i.size!==n.size)return!0;const s=t.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Xi(t,n,i){return Bl()<=it.DEBUG&&Me("QueryEngine","Using full collection scan to execute query:",ma(n)),this.Ji.getDocumentsMatchingQuery(t,n,Ps.min(),i)}rs(t,n,i,r){return this.Ji.getDocumentsMatchingQuery(t,i,r).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lj{constructor(t,n,i,r){this.persistence=t,this.ss=n,this.serializer=r,this.os=new rn(gt),this._s=new fl(s=>Fy(s),By),this.us=new Map,this.cs=t.getRemoteDocumentCache(),this.Ur=t.getTargetCache(),this.Gr=t.getBundleCache(),this.ls(i)}ls(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new kj(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.os))}}function Fj(e,t,n,i){return new Lj(e,t,n,i)}async function PP(e,t){const n=et(e);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let r;return n.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,n.ls(t),n.mutationQueue.getAllMutationBatches(i))).next(s=>{const o=[],a=[];let l=rt();for(const u of r){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of s){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(i,l).next(u=>({hs:u,removedBatchIds:o,addedBatchIds:a}))})})}function Bj(e,t){const n=et(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=t.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,l,u,c){const d=u.batch,h=d.keys();let v=_e.resolve();return h.forEach(g=>{v=v.next(()=>c.getEntry(l,g)).next(p=>{const y=u.docVersions.get(g);Vt(y!==null),p.version.compareTo(y)<0&&(d.applyToRemoteDocument(p,u),p.isValidDocument()&&(p.setReadTime(u.commitVersion),c.addEntry(p)))})}),v.next(()=>a.mutationQueue.removeMutationBatch(l,d))}(n,i,t,s).next(()=>s.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,r,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(a){let l=rt();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(t))).next(()=>n.localDocuments.getDocuments(i,r))})}function xP(e){const t=et(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Ur.getLastRemoteSnapshotVersion(n))}function $j(e,t){const n=et(e),i=t.snapshotVersion;let r=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});r=n.os;const a=[];t.targetChanges.forEach((c,d)=>{const h=r.get(d);if(!h)return;a.push(n.Ur.removeMatchingKeys(s,c.removedDocuments,d).next(()=>n.Ur.addMatchingKeys(s,c.addedDocuments,d)));let v=h.withSequenceNumber(s.currentSequenceNumber);t.targetMismatches.get(d)!==null?v=v.withResumeToken(xn.EMPTY_BYTE_STRING,Ze.min()).withLastLimboFreeSnapshotVersion(Ze.min()):c.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(c.resumeToken,i)),r=r.insert(d,v),function(p,y,w){return p.resumeToken.approximateByteSize()===0||y.snapshotVersion.toMicroseconds()-p.snapshotVersion.toMicroseconds()>=3e8?!0:w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size>0}(h,v,c)&&a.push(n.Ur.updateTargetData(s,v))});let l=Ur(),u=rt();if(t.documentUpdates.forEach(c=>{t.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(Uj(s,o,t.documentUpdates).next(c=>{l=c.Ps,u=c.Is})),!i.isEqual(Ze.min())){const c=n.Ur.getLastRemoteSnapshotVersion(s).next(d=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,i));a.push(c)}return _e.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.os=r,s))}function Uj(e,t,n){let i=rt(),r=rt();return n.forEach(s=>i=i.add(s)),t.getEntries(e,i).next(s=>{let o=Ur();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(r=r.add(a)),l.isNoDocument()&&l.version.isEqual(Ze.min())?(t.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(t.addEntry(l),o=o.insert(a,l)):Me("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{Ps:o,Is:r}})}function Hj(e,t){const n=et(e);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(t===void 0&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function jj(e,t){const n=et(e);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return n.Ur.getTargetData(i,t).next(s=>s?(r=s,_e.resolve(r)):n.Ur.allocateTargetId(i).next(o=>(r=new gs(t,o,"TargetPurposeListen",i.currentSequenceNumber),n.Ur.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=n.os.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.os=n.os.insert(i.targetId,i),n._s.set(t,i.targetId)),i})}async function kg(e,t,n){const i=et(e),r=i.os.get(t),s=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",s,o=>i.persistence.referenceDelegate.removeTarget(o,r))}catch(o){if(!hc(o))throw o;Me("LocalStore",`Failed to update sequence numbers for target ${t}: ${o}`)}i.os=i.os.remove(t),i._s.delete(r.target)}function D0(e,t,n){const i=et(e);let r=Ze.min(),s=rt();return i.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,c){const d=et(l),h=d._s.get(c);return h!==void 0?_e.resolve(d.os.get(h)):d.Ur.getTargetData(u,c)}(i,o,tr(t)).next(a=>{if(a)return r=a.lastLimboFreeSnapshotVersion,i.Ur.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>i.ss.getDocumentsMatchingQuery(o,t,n?r:Ze.min(),n?s:rt())).next(a=>(Wj(i,N3(t),a),{documents:a,Ts:s})))}function Wj(e,t,n){let i=e.us.get(t)||Ze.min();n.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),e.us.set(t,i)}class N0{constructor(){this.activeTargetIds=$3()}fs(t){this.activeTargetIds=this.activeTargetIds.add(t)}gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Vs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class zj{constructor(){this.so=new N0,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,i){}addLocalQueryTarget(t,n=!0){return n&&this.so.fs(t),this.oo[t]||"not-current"}updateQueryState(t,n,i){this.oo[t]=n}removeLocalQueryTarget(t){this.so.gs(t)}isLocalQueryTarget(t){return this.so.activeTargetIds.has(t)}clearQueryState(t){delete this.oo[t]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(t){return this.so.activeTargetIds.has(t)}start(){return this.so=new N0,Promise.resolve()}handleUserChange(t,n,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qj{_o(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O0{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(t){this.ho.push(t)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Me("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.ho)t(0)}lo(){Me("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.ho)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rd=null;function Lm(){return rd===null?rd=function(){return 268435456+Math.round(2147483648*Math.random())}():rd++,"0x"+rd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gj={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kj{constructor(t){this.Io=t.Io,this.To=t.To}Eo(t){this.Ao=t}Ro(t){this.Vo=t}mo(t){this.fo=t}onMessage(t){this.po=t}close(){this.To()}send(t){this.Io(t)}yo(){this.Ao()}wo(){this.Vo()}So(t){this.fo(t)}bo(t){this.po(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const On="WebChannelConnection";class Yj extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const i=n.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=i+"://"+n.host,this.vo=`projects/${r}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${r}`:`project_id=${r}&database_id=${s}`}get Fo(){return!1}Mo(n,i,r,s,o){const a=Lm(),l=this.xo(n,i.toUriEncodedString());Me("RestConnection",`Sending RPC '${n}' ${a}:`,l,r);const u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,s,o),this.No(n,l,u,r).then(c=>(Me("RestConnection",`Received RPC '${n}' ${a}: `,c),c),c=>{throw $a("RestConnection",`RPC '${n}' ${a} failed with error: `,c,"url: ",l,"request:",r),c})}Lo(n,i,r,s,o,a){return this.Mo(n,i,r,s,o)}Oo(n,i,r){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+cl}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((s,o)=>n[o]=s),r&&r.headers.forEach((s,o)=>n[o]=s)}xo(n,i){const r=Gj[n];return`${this.Do}/v1/${i}:${r}`}terminate(){}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}No(t,n,i,r){const s=Lm();return new Promise((o,a)=>{const l=new j1;l.setWithCredentials(!0),l.listenOnce(z1.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case wd.NO_ERROR:const c=l.getResponseJson();Me(On,`XHR for RPC '${t}' ${s} received:`,JSON.stringify(c)),o(c);break;case wd.TIMEOUT:Me(On,`RPC '${t}' ${s} timed out`),a(new Ne(ge.DEADLINE_EXCEEDED,"Request time out"));break;case wd.HTTP_ERROR:const d=l.getStatus();if(Me(On,`RPC '${t}' ${s} failed with status:`,d,"response text:",l.getResponseText()),d>0){let h=l.getResponseJson();Array.isArray(h)&&(h=h[0]);const v=h==null?void 0:h.error;if(v&&v.status&&v.message){const g=function(y){const w=y.toLowerCase().replace(/_/g,"-");return Object.values(ge).indexOf(w)>=0?w:ge.UNKNOWN}(v.status);a(new Ne(g,v.message))}else a(new Ne(ge.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new Ne(ge.UNAVAILABLE,"Connection failed."));break;default:Xe()}}finally{Me(On,`RPC '${t}' ${s} completed.`)}});const u=JSON.stringify(r);Me(On,`RPC '${t}' ${s} sending request:`,r),l.send(n,"POST",u,i,15)})}Bo(t,n,i){const r=Lm(),s=[this.Do,"/","google.firestore.v1.Firestore","/",t,"/channel"],o=K1(),a=G1(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.xmlHttpFactory=new W1({})),this.Oo(l.initMessageHeaders,n,i),l.encodeInitMessageHeaders=!0;const c=s.join("");Me(On,`Creating RPC '${t}' stream ${r}: ${c}`,l);const d=o.createWebChannel(c,l);let h=!1,v=!1;const g=new Kj({Io:y=>{v?Me(On,`Not sending because RPC '${t}' stream ${r} is closed:`,y):(h||(Me(On,`Opening RPC '${t}' stream ${r} transport.`),d.open(),h=!0),Me(On,`RPC '${t}' stream ${r} sending:`,y),d.send(y))},To:()=>d.close()}),p=(y,w,C)=>{y.listen(w,x=>{try{C(x)}catch(A){setTimeout(()=>{throw A},0)}})};return p(d,ql.EventType.OPEN,()=>{v||(Me(On,`RPC '${t}' stream ${r} transport opened.`),g.yo())}),p(d,ql.EventType.CLOSE,()=>{v||(v=!0,Me(On,`RPC '${t}' stream ${r} transport closed`),g.So())}),p(d,ql.EventType.ERROR,y=>{v||(v=!0,$a(On,`RPC '${t}' stream ${r} transport errored:`,y),g.So(new Ne(ge.UNAVAILABLE,"The operation could not be completed")))}),p(d,ql.EventType.MESSAGE,y=>{var w;if(!v){const C=y.data[0];Vt(!!C);const x=C,A=x.error||((w=x[0])===null||w===void 0?void 0:w.error);if(A){Me(On,`RPC '${t}' stream ${r} received error:`,A);const V=A.status;let N=function(_){const E=en[_];if(E!==void 0)return _P(E)}(V),T=A.message;N===void 0&&(N=ge.INTERNAL,T="Unknown error status: "+V+" with message "+A.message),v=!0,g.So(new Ne(N,T)),d.close()}else Me(On,`RPC '${t}' stream ${r} received:`,C),g.bo(C)}}),p(a,q1.STAT_EVENT,y=>{y.stat===hg.PROXY?Me(On,`RPC '${t}' stream ${r} detected buffering proxy`):y.stat===hg.NOPROXY&&Me(On,`RPC '${t}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{g.wo()},0),g}}function Fm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Th(e){return new sj(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RP{constructor(t,n,i=1e3,r=1.5,s=6e4){this.ui=t,this.timerId=n,this.ko=i,this.qo=r,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(t){this.cancel();const n=Math.floor(this.Ko+this.zo()),i=Math.max(0,Date.now()-this.Uo),r=Math.max(0,n-i);r>0&&Me("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,r,()=>(this.Uo=Date.now(),t())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VP{constructor(t,n,i,r,s,o,a,l){this.ui=t,this.Ho=i,this.Jo=r,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new RP(t,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(t){this.u_(),this.stream.send(t)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(t,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,t!==4?this.t_.reset():n&&n.code===ge.RESOURCE_EXHAUSTED?($r(n.toString()),$r("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===ge.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.mo(n)}l_(){}auth(){this.state=1;const t=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Yo===n&&this.P_(i,r)},i=>{t(()=>{const r=new Ne(ge.UNKNOWN,"Fetching auth token failed: "+i.message);return this.I_(r)})})}P_(t,n){const i=this.h_(this.Yo);this.stream=this.T_(t,n),this.stream.Eo(()=>{i(()=>this.listener.Eo())}),this.stream.Ro(()=>{i(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(r=>{i(()=>this.I_(r))}),this.stream.onMessage(r=>{i(()=>++this.e_==1?this.E_(r):this.onNext(r))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(t){return Me("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}h_(t){return n=>{this.ui.enqueueAndForget(()=>this.Yo===t?n():(Me("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Qj extends VP{constructor(t,n,i,r,s,o){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,r,o),this.serializer=s}T_(t,n){return this.connection.Bo("Listen",t,n)}E_(t){return this.onNext(t)}onNext(t){this.t_.reset();const n=lj(this.serializer,t),i=function(s){if(!("targetChange"in s))return Ze.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?Ze.min():o.readTime?nr(o.readTime):Ze.min()}(t);return this.listener.d_(n,i)}A_(t){const n={};n.database=Ig(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=yg(l)?{documents:dj(s,l)}:{query:fj(s,l)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=SP(s,o.resumeToken);const u=wg(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(Ze.min())>0){a.readTime=rf(s,o.snapshotVersion.toTimestamp());const u=wg(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,t);const i=mj(this.serializer,t);i&&(n.labels=i),this.a_(n)}R_(t){const n={};n.database=Ig(this.serializer),n.removeTarget=t,this.a_(n)}}class Xj extends VP{constructor(t,n,i,r,s,o){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,r,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(t,n){return this.connection.Bo("Write",t,n)}E_(t){return Vt(!!t.streamToken),this.lastStreamToken=t.streamToken,Vt(!t.writeResults||t.writeResults.length===0),this.listener.f_()}onNext(t){Vt(!!t.streamToken),this.lastStreamToken=t.streamToken,this.t_.reset();const n=cj(t.writeResults,t.commitTime),i=nr(t.commitTime);return this.listener.g_(i,n)}p_(){const t={};t.database=Ig(this.serializer),this.a_(t)}m_(t){const n={streamToken:this.lastStreamToken,writes:t.map(i=>uj(this.serializer,i))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jj extends class{}{constructor(t,n,i,r){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=i,this.serializer=r,this.y_=!1}w_(){if(this.y_)throw new Ne(ge.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(t,n,i,r){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(t,Sg(n,i),r,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===ge.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Ne(ge.UNKNOWN,s.toString())})}Lo(t,n,i,r,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(t,Sg(n,i),r,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===ge.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Ne(ge.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class Zj{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(t){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.C_("Offline")))}set(t){this.x_(),this.S_=0,t==="Online"&&(this.D_=!1),this.C_(t)}C_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}F_(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?($r(n),this.D_=!1):Me("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eW{constructor(t,n,i,r,s){this.localStore=t,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{i.enqueueAndForget(async()=>{Go(this)&&(Me("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=et(l);u.L_.add(4),await pc(u),u.q_.set("Unknown"),u.L_.delete(4),await Ah(u)}(this))})}),this.q_=new Zj(i,r)}}async function Ah(e){if(Go(e))for(const t of e.B_)await t(!0)}async function pc(e){for(const t of e.B_)await t(!1)}function DP(e,t){const n=et(e);n.N_.has(t.targetId)||(n.N_.set(t.targetId,t),Xy(n)?Qy(n):hl(n).r_()&&Yy(n,t))}function Ky(e,t){const n=et(e),i=hl(n);n.N_.delete(t),i.r_()&&NP(n,t),n.N_.size===0&&(i.r_()?i.o_():Go(n)&&n.q_.set("Unknown"))}function Yy(e,t){if(e.Q_.xe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Ze.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}hl(e).A_(t)}function NP(e,t){e.Q_.xe(t),hl(e).R_(t)}function Qy(e){e.Q_=new tj({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),ot:t=>e.N_.get(t)||null,tt:()=>e.datastore.serializer.databaseId}),hl(e).start(),e.q_.v_()}function Xy(e){return Go(e)&&!hl(e).n_()&&e.N_.size>0}function Go(e){return et(e).L_.size===0}function OP(e){e.Q_=void 0}async function tW(e){e.q_.set("Online")}async function nW(e){e.N_.forEach((t,n)=>{Yy(e,t)})}async function iW(e,t){OP(e),Xy(e)?(e.q_.M_(t),Qy(e)):e.q_.set("Unknown")}async function rW(e,t,n){if(e.q_.set("Online"),t instanceof wP&&t.state===2&&t.cause)try{await async function(r,s){const o=s.cause;for(const a of s.targetIds)r.N_.has(a)&&(await r.remoteSyncer.rejectListen(a,o),r.N_.delete(a),r.Q_.removeTarget(a))}(e,t)}catch(i){Me("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),i),await sf(e,i)}else if(t instanceof Id?e.Q_.Ke(t):t instanceof bP?e.Q_.He(t):e.Q_.We(t),!n.isEqual(Ze.min()))try{const i=await xP(e.localStore);n.compareTo(i)>=0&&await function(s,o){const a=s.Q_.rt(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=s.N_.get(u);c&&s.N_.set(u,c.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const c=s.N_.get(l);if(!c)return;s.N_.set(l,c.withResumeToken(xn.EMPTY_BYTE_STRING,c.snapshotVersion)),NP(s,l);const d=new gs(c.target,l,u,c.sequenceNumber);Yy(s,d)}),s.remoteSyncer.applyRemoteEvent(a)}(e,n)}catch(i){Me("RemoteStore","Failed to raise snapshot:",i),await sf(e,i)}}async function sf(e,t,n){if(!hc(t))throw t;e.L_.add(1),await pc(e),e.q_.set("Offline"),n||(n=()=>xP(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{Me("RemoteStore","Retrying IndexedDB access"),await n(),e.L_.delete(1),await Ah(e)})}function MP(e,t){return t().catch(n=>sf(e,n,t))}async function Ph(e){const t=et(e),n=Rs(t);let i=t.O_.length>0?t.O_[t.O_.length-1].batchId:-1;for(;sW(t);)try{const r=await Hj(t.localStore,i);if(r===null){t.O_.length===0&&n.o_();break}i=r.batchId,oW(t,r)}catch(r){await sf(t,r)}LP(t)&&FP(t)}function sW(e){return Go(e)&&e.O_.length<10}function oW(e,t){e.O_.push(t);const n=Rs(e);n.r_()&&n.V_&&n.m_(t.mutations)}function LP(e){return Go(e)&&!Rs(e).n_()&&e.O_.length>0}function FP(e){Rs(e).start()}async function aW(e){Rs(e).p_()}async function lW(e){const t=Rs(e);for(const n of e.O_)t.m_(n.mutations)}async function uW(e,t,n){const i=e.O_.shift(),r=Hy.from(i,t,n);await MP(e,()=>e.remoteSyncer.applySuccessfulWrite(r)),await Ph(e)}async function cW(e,t){t&&Rs(e).V_&&await async function(i,r){if(function(o){return J3(o)&&o!==ge.ABORTED}(r.code)){const s=i.O_.shift();Rs(i).s_(),await MP(i,()=>i.remoteSyncer.rejectFailedWrite(s.batchId,r)),await Ph(i)}}(e,t),LP(e)&&FP(e)}async function M0(e,t){const n=et(e);n.asyncQueue.verifyOperationInProgress(),Me("RemoteStore","RemoteStore received new credentials");const i=Go(n);n.L_.add(3),await pc(n),i&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.L_.delete(3),await Ah(n)}async function dW(e,t){const n=et(e);t?(n.L_.delete(2),await Ah(n)):t||(n.L_.add(2),await pc(n),n.q_.set("Unknown"))}function hl(e){return e.K_||(e.K_=function(n,i,r){const s=et(n);return s.w_(),new Qj(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(e.datastore,e.asyncQueue,{Eo:tW.bind(null,e),Ro:nW.bind(null,e),mo:iW.bind(null,e),d_:rW.bind(null,e)}),e.B_.push(async t=>{t?(e.K_.s_(),Xy(e)?Qy(e):e.q_.set("Unknown")):(await e.K_.stop(),OP(e))})),e.K_}function Rs(e){return e.U_||(e.U_=function(n,i,r){const s=et(n);return s.w_(),new Xj(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(e.datastore,e.asyncQueue,{Eo:()=>Promise.resolve(),Ro:aW.bind(null,e),mo:cW.bind(null,e),f_:lW.bind(null,e),g_:uW.bind(null,e)}),e.B_.push(async t=>{t?(e.U_.s_(),await Ph(e)):(await e.U_.stop(),e.O_.length>0&&(Me("RemoteStore",`Stopping write stream with ${e.O_.length} pending writes`),e.O_=[]))})),e.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jy{constructor(t,n,i,r,s){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new Nr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,i,r,s){const o=Date.now()+i,a=new Jy(t,n,o,r,s);return a.start(i),a}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ne(ge.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Zy(e,t){if($r("AsyncQueue",`${t}: ${e}`),hc(e))return new Ne(ge.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea{constructor(t){this.comparator=t?(n,i)=>t(n,i)||Ue.comparator(n.key,i.key):(n,i)=>Ue.comparator(n.key,i.key),this.keyedMap=Gl(),this.sortedSet=new rn(this.comparator)}static emptySet(t){return new Ea(t.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,i)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Ea)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;n.hasNext();){const r=n.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const i=new Ea;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L0{constructor(){this.W_=new rn(Ue.comparator)}track(t){const n=t.doc.key,i=this.W_.get(n);i?t.type!==0&&i.type===3?this.W_=this.W_.insert(n,t):t.type===3&&i.type!==1?this.W_=this.W_.insert(n,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.W_=this.W_.insert(n,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.W_=this.W_.insert(n,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.W_=this.W_.remove(n):t.type===1&&i.type===2?this.W_=this.W_.insert(n,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.W_=this.W_.insert(n,{type:2,doc:t.doc}):Xe():this.W_=this.W_.insert(n,t)}G_(){const t=[];return this.W_.inorderTraversal((n,i)=>{t.push(i)}),t}}class za{constructor(t,n,i,r,s,o,a,l,u){this.query=t,this.docs=n,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(t,n,i,r,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new za(t,n,Ea.emptySet(n),o,i,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Sh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,i=t.docChanges;if(n.length!==i.length)return!1;for(let r=0;r<n.length;r++)if(n[r].type!==i[r].type||!n[r].doc.isEqual(i[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fW{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(t=>t.J_())}}class hW{constructor(){this.queries=F0(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,i){const r=et(n),s=r.queries;r.queries=F0(),s.forEach((o,a)=>{for(const l of a.j_)l.onError(i)})})(this,new Ne(ge.ABORTED,"Firestore shutting down"))}}function F0(){return new fl(e=>aP(e),Sh)}async function e_(e,t){const n=et(e);let i=3;const r=t.query;let s=n.queries.get(r);s?!s.H_()&&t.J_()&&(i=2):(s=new fW,i=t.J_()?0:1);try{switch(i){case 0:s.z_=await n.onListen(r,!0);break;case 1:s.z_=await n.onListen(r,!1);break;case 2:await n.onFirstRemoteStoreListen(r)}}catch(o){const a=Zy(o,`Initialization of query '${ma(t.query)}' failed`);return void t.onError(a)}n.queries.set(r,s),s.j_.push(t),t.Z_(n.onlineState),s.z_&&t.X_(s.z_)&&n_(n)}async function t_(e,t){const n=et(e),i=t.query;let r=3;const s=n.queries.get(i);if(s){const o=s.j_.indexOf(t);o>=0&&(s.j_.splice(o,1),s.j_.length===0?r=t.J_()?0:1:!s.H_()&&t.J_()&&(r=2))}switch(r){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function mW(e,t){const n=et(e);let i=!1;for(const r of t){const s=r.query,o=n.queries.get(s);if(o){for(const a of o.j_)a.X_(r)&&(i=!0);o.z_=r}}i&&n_(n)}function vW(e,t,n){const i=et(e),r=i.queries.get(t);if(r)for(const s of r.j_)s.onError(n);i.queries.delete(t)}function n_(e){e.Y_.forEach(t=>{t.next()})}var Eg,B0;(B0=Eg||(Eg={})).ea="default",B0.Cache="cache";class i_{constructor(t,n,i){this.query=t,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=i||{}}X_(t){if(!this.options.includeMetadataChanges){const i=[];for(const r of t.docChanges)r.type!==3&&i.push(r);t=new za(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.na?this.ia(t)&&(this.ta.next(t),n=!0):this.sa(t,this.onlineState)&&(this.oa(t),n=!0),this.ra=t,n}onError(t){this.ta.error(t)}Z_(t){this.onlineState=t;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,t)&&(this.oa(this.ra),n=!0),n}sa(t,n){if(!t.fromCache||!this.J_())return!0;const i=n!=="Offline";return(!this.options._a||!i)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}ia(t){if(t.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(t){t=za.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.na=!0,this.ta.next(t)}J_(){return this.options.source!==Eg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BP{constructor(t){this.key=t}}class $P{constructor(t){this.key=t}}class gW{constructor(t,n){this.query=t,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=rt(),this.mutatedKeys=rt(),this.Aa=lP(t),this.Ra=new Ea(this.Aa)}get Va(){return this.Ta}ma(t,n){const i=n?n.fa:new L0,r=n?n.Ra:this.Ra;let s=n?n.mutatedKeys:this.mutatedKeys,o=r,a=!1;const l=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,u=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((c,d)=>{const h=r.get(c),v=Ch(this.query,d)?d:null,g=!!h&&this.mutatedKeys.has(h.key),p=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations);let y=!1;h&&v?h.data.isEqual(v.data)?g!==p&&(i.track({type:3,doc:v}),y=!0):this.ga(h,v)||(i.track({type:2,doc:v}),y=!0,(l&&this.Aa(v,l)>0||u&&this.Aa(v,u)<0)&&(a=!0)):!h&&v?(i.track({type:0,doc:v}),y=!0):h&&!v&&(i.track({type:1,doc:h}),y=!0,(l||u)&&(a=!0)),y&&(v?(o=o.add(v),s=p?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),i.track({type:1,doc:c})}return{Ra:o,fa:i,ns:a,mutatedKeys:s}}ga(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,i,r){const s=this.Ra;this.Ra=t.Ra,this.mutatedKeys=t.mutatedKeys;const o=t.fa.G_();o.sort((c,d)=>function(v,g){const p=y=>{switch(y){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Xe()}};return p(v)-p(g)}(c.type,d.type)||this.Aa(c.doc,d.doc)),this.pa(i),r=r!=null&&r;const a=n&&!r?this.ya():[],l=this.da.size===0&&this.current&&!r?1:0,u=l!==this.Ea;return this.Ea=l,o.length!==0||u?{snapshot:new za(this.query,t.Ra,s,o,t.mutatedKeys,l===0,u,!1,!!i&&i.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new L0,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(t){return!this.Ta.has(t)&&!!this.Ra.has(t)&&!this.Ra.get(t).hasLocalMutations}pa(t){t&&(t.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=t.current)}ya(){if(!this.current)return[];const t=this.da;this.da=rt(),this.Ra.forEach(i=>{this.Sa(i.key)&&(this.da=this.da.add(i.key))});const n=[];return t.forEach(i=>{this.da.has(i)||n.push(new $P(i))}),this.da.forEach(i=>{t.has(i)||n.push(new BP(i))}),n}ba(t){this.Ta=t.Ts,this.da=rt();const n=this.ma(t.documents);return this.applyChanges(n,!0)}Da(){return za.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class pW{constructor(t,n,i){this.query=t,this.targetId=n,this.view=i}}class yW{constructor(t){this.key=t,this.va=!1}}class _W{constructor(t,n,i,r,s,o){this.localStore=t,this.remoteStore=n,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new fl(a=>aP(a),Sh),this.Ma=new Map,this.xa=new Set,this.Oa=new rn(Ue.comparator),this.Na=new Map,this.La=new zy,this.Ba={},this.ka=new Map,this.qa=Wa.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function bW(e,t,n=!0){const i=qP(e);let r;const s=i.Fa.get(t);return s?(i.sharedClientState.addLocalQueryTarget(s.targetId),r=s.view.Da()):r=await UP(i,t,n,!0),r}async function wW(e,t){const n=qP(e);await UP(n,t,!0,!1)}async function UP(e,t,n,i){const r=await jj(e.localStore,tr(t)),s=r.targetId,o=e.sharedClientState.addLocalQueryTarget(s,n);let a;return i&&(a=await SW(e,t,s,o==="current",r.resumeToken)),e.isPrimaryClient&&n&&DP(e.remoteStore,r),a}async function SW(e,t,n,i,r){e.Ka=(d,h,v)=>async function(p,y,w,C){let x=y.view.ma(w);x.ns&&(x=await D0(p.localStore,y.query,!1).then(({documents:T})=>y.view.ma(T,x)));const A=C&&C.targetChanges.get(y.targetId),V=C&&C.targetMismatches.get(y.targetId)!=null,N=y.view.applyChanges(x,p.isPrimaryClient,A,V);return U0(p,y.targetId,N.wa),N.snapshot}(e,d,h,v);const s=await D0(e.localStore,t,!0),o=new gW(t,s.Ts),a=o.ma(s.documents),l=gc.createSynthesizedTargetChangeForCurrentChange(n,i&&e.onlineState!=="Offline",r),u=o.applyChanges(a,e.isPrimaryClient,l);U0(e,n,u.wa);const c=new pW(t,n,o);return e.Fa.set(t,c),e.Ma.has(n)?e.Ma.get(n).push(t):e.Ma.set(n,[t]),u.snapshot}async function CW(e,t,n){const i=et(e),r=i.Fa.get(t),s=i.Ma.get(r.targetId);if(s.length>1)return i.Ma.set(r.targetId,s.filter(o=>!Sh(o,t))),void i.Fa.delete(t);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||await kg(i.localStore,r.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(r.targetId),n&&Ky(i.remoteStore,r.targetId),Tg(i,r.targetId)}).catch(fc)):(Tg(i,r.targetId),await kg(i.localStore,r.targetId,!0))}async function IW(e,t){const n=et(e),i=n.Fa.get(t),r=n.Ma.get(i.targetId);n.isPrimaryClient&&r.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),Ky(n.remoteStore,i.targetId))}async function kW(e,t,n){const i=VW(e);try{const r=await function(o,a){const l=et(o),u=at.now(),c=a.reduce((v,g)=>v.add(g.key),rt());let d,h;return l.persistence.runTransaction("Locally write mutations","readwrite",v=>{let g=Ur(),p=rt();return l.cs.getEntries(v,c).next(y=>{g=y,g.forEach((w,C)=>{C.isValidDocument()||(p=p.add(w))})}).next(()=>l.localDocuments.getOverlayedDocuments(v,g)).next(y=>{d=y;const w=[];for(const C of a){const x=G3(C,d.get(C.key).overlayedDocument);x!=null&&w.push(new qo(C.key,x,Z1(x.value.mapValue),Mi.exists(!0)))}return l.mutationQueue.addMutationBatch(v,u,w,a)}).next(y=>{h=y;const w=y.applyToLocalDocumentSet(d,p);return l.documentOverlayCache.saveOverlays(v,y.batchId,w)})}).then(()=>({batchId:h.batchId,changes:cP(d)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(r.batchId),function(o,a,l){let u=o.Ba[o.currentUser.toKey()];u||(u=new rn(gt)),u=u.insert(a,l),o.Ba[o.currentUser.toKey()]=u}(i,r.batchId,n),await yc(i,r.changes),await Ph(i.remoteStore)}catch(r){const s=Zy(r,"Failed to persist write");n.reject(s)}}async function HP(e,t){const n=et(e);try{const i=await $j(n.localStore,t);t.targetChanges.forEach((r,s)=>{const o=n.Na.get(s);o&&(Vt(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?o.va=!0:r.modifiedDocuments.size>0?Vt(o.va):r.removedDocuments.size>0&&(Vt(o.va),o.va=!1))}),await yc(n,i,t)}catch(i){await fc(i)}}function $0(e,t,n){const i=et(e);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const r=[];i.Fa.forEach((s,o)=>{const a=o.view.Z_(t);a.snapshot&&r.push(a.snapshot)}),function(o,a){const l=et(o);l.onlineState=a;let u=!1;l.queries.forEach((c,d)=>{for(const h of d.j_)h.Z_(a)&&(u=!0)}),u&&n_(l)}(i.eventManager,t),r.length&&i.Ca.d_(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function EW(e,t,n){const i=et(e);i.sharedClientState.updateQueryState(t,"rejected",n);const r=i.Na.get(t),s=r&&r.key;if(s){let o=new rn(Ue.comparator);o=o.insert(s,Fn.newNoDocument(s,Ze.min()));const a=rt().add(s),l=new Eh(Ze.min(),new Map,new rn(gt),o,a);await HP(i,l),i.Oa=i.Oa.remove(s),i.Na.delete(t),r_(i)}else await kg(i.localStore,t,!1).then(()=>Tg(i,t,n)).catch(fc)}async function TW(e,t){const n=et(e),i=t.batch.batchId;try{const r=await Bj(n.localStore,t);WP(n,i,null),jP(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await yc(n,r)}catch(r){await fc(r)}}async function AW(e,t,n){const i=et(e);try{const r=await function(o,a){const l=et(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,a).next(d=>(Vt(d!==null),c=d.keys(),l.mutationQueue.removeMutationBatch(u,d))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(i.localStore,t);WP(i,t,n),jP(i,t),i.sharedClientState.updateMutationState(t,"rejected",n),await yc(i,r)}catch(r){await fc(r)}}function jP(e,t){(e.ka.get(t)||[]).forEach(n=>{n.resolve()}),e.ka.delete(t)}function WP(e,t,n){const i=et(e);let r=i.Ba[i.currentUser.toKey()];if(r){const s=r.get(t);s&&(n?s.reject(n):s.resolve(),r=r.remove(t)),i.Ba[i.currentUser.toKey()]=r}}function Tg(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const i of e.Ma.get(t))e.Fa.delete(i),n&&e.Ca.$a(i,n);e.Ma.delete(t),e.isPrimaryClient&&e.La.gr(t).forEach(i=>{e.La.containsKey(i)||zP(e,i)})}function zP(e,t){e.xa.delete(t.path.canonicalString());const n=e.Oa.get(t);n!==null&&(Ky(e.remoteStore,n),e.Oa=e.Oa.remove(t),e.Na.delete(n),r_(e))}function U0(e,t,n){for(const i of n)i instanceof BP?(e.La.addReference(i.key,t),PW(e,i)):i instanceof $P?(Me("SyncEngine","Document no longer in limbo: "+i.key),e.La.removeReference(i.key,t),e.La.containsKey(i.key)||zP(e,i.key)):Xe()}function PW(e,t){const n=t.key,i=n.path.canonicalString();e.Oa.get(n)||e.xa.has(i)||(Me("SyncEngine","New document in limbo: "+n),e.xa.add(i),r_(e))}function r_(e){for(;e.xa.size>0&&e.Oa.size<e.maxConcurrentLimboResolutions;){const t=e.xa.values().next().value;e.xa.delete(t);const n=new Ue($t.fromString(t)),i=e.qa.next();e.Na.set(i,new yW(n)),e.Oa=e.Oa.insert(n,i),DP(e.remoteStore,new gs(tr(wh(n.path)),i,"TargetPurposeLimboResolution",Ny.oe))}}async function yc(e,t,n){const i=et(e),r=[],s=[],o=[];i.Fa.isEmpty()||(i.Fa.forEach((a,l)=>{o.push(i.Ka(l,t,n).then(u=>{var c;if((u||n)&&i.isPrimaryClient){const d=u?!u.fromCache:(c=n==null?void 0:n.targetChanges.get(l.targetId))===null||c===void 0?void 0:c.current;i.sharedClientState.updateQueryState(l.targetId,d?"current":"not-current")}if(u){r.push(u);const d=Gy.Wi(l.targetId,u);s.push(d)}}))}),await Promise.all(o),i.Ca.d_(r),await async function(l,u){const c=et(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>_e.forEach(u,h=>_e.forEach(h.$i,v=>c.persistence.referenceDelegate.addReference(d,h.targetId,v)).next(()=>_e.forEach(h.Ui,v=>c.persistence.referenceDelegate.removeReference(d,h.targetId,v)))))}catch(d){if(!hc(d))throw d;Me("LocalStore","Failed to update sequence numbers: "+d)}for(const d of u){const h=d.targetId;if(!d.fromCache){const v=c.os.get(h),g=v.snapshotVersion,p=v.withLastLimboFreeSnapshotVersion(g);c.os=c.os.insert(h,p)}}}(i.localStore,s))}async function xW(e,t){const n=et(e);if(!n.currentUser.isEqual(t)){Me("SyncEngine","User change. New user:",t.toKey());const i=await PP(n.localStore,t);n.currentUser=t,function(s,o){s.ka.forEach(a=>{a.forEach(l=>{l.reject(new Ne(ge.CANCELLED,o))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),await yc(n,i.hs)}}function RW(e,t){const n=et(e),i=n.Na.get(t);if(i&&i.va)return rt().add(i.key);{let r=rt();const s=n.Ma.get(t);if(!s)return r;for(const o of s){const a=n.Fa.get(o);r=r.unionWith(a.view.Va)}return r}}function qP(e){const t=et(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=HP.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=RW.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=EW.bind(null,t),t.Ca.d_=mW.bind(null,t.eventManager),t.Ca.$a=vW.bind(null,t.eventManager),t}function VW(e){const t=et(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=TW.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=AW.bind(null,t),t}class H0{constructor(){this.synchronizeTabs=!1}async initialize(t){this.serializer=Th(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),await this.persistence.start(),this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore)}createGarbageCollectionScheduler(t,n){return null}createIndexBackfillerScheduler(t,n){return null}createLocalStore(t){return Fj(this.persistence,new Mj,t.initialUser,this.serializer)}createPersistence(t){return new Dj(qy.Zr,this.serializer)}createSharedClientState(t){return new zj}async terminate(){var t,n;(t=this.gcScheduler)===null||t===void 0||t.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class DW{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>$0(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=xW.bind(null,this.syncEngine),await dW(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new hW}()}createDatastore(t){const n=Th(t.databaseInfo.databaseId),i=function(s){return new Yj(s)}(t.databaseInfo);return function(s,o,a,l){return new Jj(s,o,a,l)}(t.authCredentials,t.appCheckCredentials,i,n)}createRemoteStore(t){return function(i,r,s,o,a){return new eW(i,r,s,o,a)}(this.localStore,this.datastore,t.asyncQueue,n=>$0(this.syncEngine,n,0),function(){return O0.D()?new O0:new qj}())}createSyncEngine(t,n){return function(r,s,o,a,l,u,c){const d=new _W(r,s,o,a,l,u);return c&&(d.Qa=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await async function(r){const s=et(r);Me("RemoteStore","RemoteStore shutting down."),s.L_.add(5),await pc(s),s.k_.shutdown(),s.q_.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s_{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Ga(this.observer.next,t)}error(t){this.observer.error?this.Ga(this.observer.error,t):$r("Uncaught Error in snapshot listener:",t.toString())}za(){this.muted=!0}Ga(t,n){this.muted||setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NW{constructor(t,n,i,r){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=r,this.user=Mn.UNAUTHENTICATED,this.clientId=Q1.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,async s=>{Me("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(i,s=>(Me("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ne(ge.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Nr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const i=Zy(n,"Failed to shutdown persistence");t.reject(i)}}),t.promise}}async function Bm(e,t){e.asyncQueue.verifyOperationInProgress(),Me("FirestoreClient","Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let i=n.initialUser;e.setCredentialChangeListener(async r=>{i.isEqual(r)||(await PP(t.localStore,r),i=r)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function j0(e,t){e.asyncQueue.verifyOperationInProgress();const n=await MW(e);Me("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(i=>M0(t.remoteStore,i)),e.setAppCheckTokenChangeListener((i,r)=>M0(t.remoteStore,r)),e._onlineComponents=t}function OW(e){return e.name==="FirebaseError"?e.code===ge.FAILED_PRECONDITION||e.code===ge.UNIMPLEMENTED:!(typeof DOMException<"u"&&e instanceof DOMException)||e.code===22||e.code===20||e.code===11}async function MW(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Me("FirestoreClient","Using user provided OfflineComponentProvider");try{await Bm(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!OW(n))throw n;$a("Error using user provided cache. Falling back to memory cache: "+n),await Bm(e,new H0)}}else Me("FirestoreClient","Using default OfflineComponentProvider"),await Bm(e,new H0);return e._offlineComponents}async function GP(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Me("FirestoreClient","Using user provided OnlineComponentProvider"),await j0(e,e._uninitializedComponentsProvider._online)):(Me("FirestoreClient","Using default OnlineComponentProvider"),await j0(e,new DW))),e._onlineComponents}function LW(e){return GP(e).then(t=>t.syncEngine)}async function of(e){const t=await GP(e),n=t.eventManager;return n.onListen=bW.bind(null,t.syncEngine),n.onUnlisten=CW.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=wW.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=IW.bind(null,t.syncEngine),n}function FW(e,t,n={}){const i=new Nr;return e.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const c=new s_({next:h=>{o.enqueueAndForget(()=>t_(s,d));const v=h.docs.has(a);!v&&h.fromCache?u.reject(new Ne(ge.UNAVAILABLE,"Failed to get document because the client is offline.")):v&&h.fromCache&&l&&l.source==="server"?u.reject(new Ne(ge.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(h)},error:h=>u.reject(h)}),d=new i_(wh(a.path),c,{includeMetadataChanges:!0,_a:!0});return e_(s,d)}(await of(e),e.asyncQueue,t,n,i)),i.promise}function BW(e,t,n={}){const i=new Nr;return e.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const c=new s_({next:h=>{o.enqueueAndForget(()=>t_(s,d)),h.fromCache&&l.source==="server"?u.reject(new Ne(ge.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(h)},error:h=>u.reject(h)}),d=new i_(a,c,{includeMetadataChanges:!0,_a:!0});return e_(s,d)}(await of(e),e.asyncQueue,t,n,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KP(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W0=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YP(e,t,n){if(!n)throw new Ne(ge.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function $W(e,t,n,i){if(t===!0&&i===!0)throw new Ne(ge.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function z0(e){if(!Ue.isDocumentKey(e))throw new Ne(ge.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function q0(e){if(Ue.isDocumentKey(e))throw new Ne(ge.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function xh(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(i){return i.constructor?i.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":Xe()}function Ti(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Ne(ge.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=xh(e);throw new Ne(ge.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G0{constructor(t){var n,i;if(t.host===void 0){if(t.ssl!==void 0)throw new Ne(ge.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new Ne(ge.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}$W("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=KP((i=t.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Ne(ge.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Ne(ge.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Ne(ge.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Rh{constructor(t,n,i,r){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new G0({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Ne(ge.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(t){if(this._settingsFrozen)throw new Ne(ge.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new G0(t),t.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new n3;switch(i.type){case"firstParty":return new o3(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new Ne(ge.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=W0.get(n);i&&(Me("ComponentProvider","Removing Datastore"),W0.delete(n),i.terminate())}(this),Promise.resolve()}}function QP(e,t,n,i={}){var r;const s=(e=Ti(e,Rh))._getSettings(),o=`${t}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&$a("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),i.mockUserToken){let a,l;if(typeof i.mockUserToken=="string")a=i.mockUserToken,l=Mn.MOCK_USER;else{a=R6(i.mockUserToken,(r=e._app)===null||r===void 0?void 0:r.options.projectId);const u=i.mockUserToken.sub||i.mockUserToken.user_id;if(!u)throw new Ne(ge.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Mn(u)}e._authCredentials=new i3(new Y1(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko{constructor(t,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new Ko(this.firestore,t,this._query)}}class ni{constructor(t,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ss(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new ni(this.firestore,t,this._key)}}class Ss extends Ko{constructor(t,n,i){super(t,n,wh(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new ni(this.firestore,null,new Ue(t))}withConverter(t){return new Ss(this.firestore,t,this._path)}}function UW(e,t,...n){if(e=si(e),YP("collection","path",t),e instanceof Rh){const i=$t.fromString(t,...n);return q0(i),new Ss(e,null,i)}{if(!(e instanceof ni||e instanceof Ss))throw new Ne(ge.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=e._path.child($t.fromString(t,...n));return q0(i),new Ss(e.firestore,null,i)}}function ml(e,t,...n){if(e=si(e),arguments.length===1&&(t=Q1.newId()),YP("doc","path",t),e instanceof Rh){const i=$t.fromString(t,...n);return z0(i),new ni(e,null,new Ue(i))}{if(!(e instanceof ni||e instanceof Ss))throw new Ne(ge.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=e._path.child($t.fromString(t,...n));return z0(i),new ni(e.firestore,e instanceof Ss?e.converter:null,new Ue(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HW{constructor(){this.au=Promise.resolve(),this.uu=[],this.cu=!1,this.lu=[],this.hu=null,this.Pu=!1,this.Iu=!1,this.Tu=[],this.t_=new RP(this,"async_queue_retry"),this.Eu=()=>{const n=Fm();n&&Me("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()};const t=Fm();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Eu)}get isShuttingDown(){return this.cu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.du(),this.Au(t)}enterRestrictedMode(t){if(!this.cu){this.cu=!0,this.Iu=t||!1;const n=Fm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Eu)}}enqueue(t){if(this.du(),this.cu)return new Promise(()=>{});const n=new Nr;return this.Au(()=>this.cu&&this.Iu?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.uu.push(t),this.Ru()))}async Ru(){if(this.uu.length!==0){try{await this.uu[0](),this.uu.shift(),this.t_.reset()}catch(t){if(!hc(t))throw t;Me("AsyncQueue","Operation failed with retryable error: "+t)}this.uu.length>0&&this.t_.Go(()=>this.Ru())}}Au(t){const n=this.au.then(()=>(this.Pu=!0,t().catch(i=>{this.hu=i,this.Pu=!1;const r=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(i);throw $r("INTERNAL UNHANDLED ERROR: ",r),i}).then(i=>(this.Pu=!1,i))));return this.au=n,n}enqueueAfterDelay(t,n,i){this.du(),this.Tu.indexOf(t)>-1&&(n=0);const r=Jy.createAndSchedule(this,t,n,i,s=>this.Vu(s));return this.lu.push(r),r}du(){this.hu&&Xe()}verifyOperationInProgress(){}async mu(){let t;do t=this.au,await t;while(t!==this.au)}fu(t){for(const n of this.lu)if(n.timerId===t)return!0;return!1}gu(t){return this.mu().then(()=>{this.lu.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.lu)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.mu()})}pu(t){this.Tu.push(t)}Vu(t){const n=this.lu.indexOf(t);this.lu.splice(n,1)}}function K0(e){return function(n,i){if(typeof n!="object"||n===null)return!1;const r=n;for(const s of i)if(s in r&&typeof r[s]=="function")return!0;return!1}(e,["next","error","complete"])}class Vs extends Rh{constructor(t,n,i,r){super(t,n,i,r),this.type="firestore",this._queue=function(){return new HW}(),this._persistenceKey=(r==null?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||JP(this),this._firestoreClient.terminate()}}function XP(e,t){const n=typeof e=="object"?e:Vy(),i=typeof e=="string"?e:"(default)",r=Ry(n,"firestore").getImmediate({identifier:i});if(!r._initialized){const s=x6("firestore");s&&QP(r,...s)}return r}function Vh(e){return e._firestoreClient||JP(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function JP(e){var t,n,i;const r=e._freezeSettings(),s=function(a,l,u,c){return new _3(a,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,KP(c.experimentalLongPollingOptions),c.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,r);e._firestoreClient=new NW(e._authCredentials,e._appCheckCredentials,e._queue,s),!((n=r.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=r.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.localCache.kind,_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qa{constructor(t){this._byteString=t}static fromBase64String(t){try{return new qa(xn.fromBase64String(t))}catch(n){throw new Ne(ge.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new qa(xn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o_{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new Ne(ge.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Tn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZP{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dh{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new Ne(ge.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Ne(ge.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return gt(this._lat,t._lat)||gt(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a_{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(i,r){if(i.length!==r.length)return!1;for(let s=0;s<i.length;++s)if(i[s]!==r[s])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jW=/^__.*__$/;class WW{constructor(t,n,i){this.data=t,this.fieldMask=n,this.fieldTransforms=i}toMutation(t,n){return this.fieldMask!==null?new qo(t,this.data,this.fieldMask,n,this.fieldTransforms):new vc(t,this.data,n,this.fieldTransforms)}}function ex(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Xe()}}class l_{constructor(t,n,i,r,s,o){this.settings=t,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=r,s===void 0&&this.yu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get wu(){return this.settings.wu}Su(t){return new l_(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}bu(t){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(t),r=this.Su({path:i,Du:!1});return r.vu(t),r}Cu(t){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(t),r=this.Su({path:i,Du:!1});return r.yu(),r}Fu(t){return this.Su({path:void 0,Du:!0})}Mu(t){return af(t,this.settings.methodName,this.settings.xu||!1,this.path,this.settings.Ou)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}yu(){if(this.path)for(let t=0;t<this.path.length;t++)this.vu(this.path.get(t))}vu(t){if(t.length===0)throw this.Mu("Document fields must not be empty");if(ex(this.wu)&&jW.test(t))throw this.Mu('Document fields cannot begin and end with "__"')}}class zW{constructor(t,n,i){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=i||Th(t)}Nu(t,n,i,r=!1){return new l_({wu:t,methodName:n,Ou:i,path:Tn.emptyPath(),Du:!1,xu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function u_(e){const t=e._freezeSettings(),n=Th(e._databaseId);return new zW(e._databaseId,!!t.ignoreUndefinedProperties,n)}function tx(e,t,n,i,r,s={}){const o=e.Nu(s.merge||s.mergeFields?2:0,t,n,r);rx("Data must be an object, but it was:",o,i);const a=nx(i,o);let l,u;if(s.merge)l=new Vi(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const d of s.mergeFields){const h=GW(t,d,n);if(!o.contains(h))throw new Ne(ge.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);YW(c,h)||c.push(h)}l=new Vi(c),u=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,u=o.fieldTransforms;return new WW(new Ci(a),l,u)}function qW(e,t,n,i=!1){return c_(n,e.Nu(i?4:3,t))}function c_(e,t){if(ix(e=si(e)))return rx("Unsupported field value:",t,e),nx(e,t);if(e instanceof ZP)return function(i,r){if(!ex(r.wu))throw r.Mu(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Mu(`${i._methodName}() is not currently supported inside arrays`);const s=i._toFieldTransform(r);s&&r.fieldTransforms.push(s)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Du&&t.wu!==4)throw t.Mu("Nested arrays are not supported");return function(i,r){const s=[];let o=0;for(const a of i){let l=c_(a,r.Fu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(e,t)}return function(i,r){if((i=si(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return U3(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const s=at.fromDate(i);return{timestampValue:rf(r.serializer,s)}}if(i instanceof at){const s=new at(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:rf(r.serializer,s)}}if(i instanceof Dh)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof qa)return{bytesValue:SP(r.serializer,i._byteString)};if(i instanceof ni){const s=r.databaseId,o=i.firestore._databaseId;if(!o.isEqual(s))throw r.Mu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Wy(i.firestore._databaseId||r.databaseId,i._key.path)}}if(i instanceof a_)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(l=>{if(typeof l!="number")throw a.Mu("VectorValues must only contain numeric values.");return $y(a.serializer,l)})}}}}}}(i,r);throw r.Mu(`Unsupported field value: ${xh(i)}`)}(e,t)}function nx(e,t){const n={};return X1(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):dl(e,(i,r)=>{const s=c_(r,t.bu(i));s!=null&&(n[i]=s)}),{mapValue:{fields:n}}}function ix(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof at||e instanceof Dh||e instanceof qa||e instanceof ni||e instanceof ZP||e instanceof a_)}function rx(e,t,n){if(!ix(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const i=xh(n);throw i==="an object"?t.Mu(e+" a custom object"):t.Mu(e+" "+i)}}function GW(e,t,n){if((t=si(t))instanceof o_)return t._internalPath;if(typeof t=="string")return sx(e,t);throw af("Field path arguments must be of type string or ",e,!1,void 0,n)}const KW=new RegExp("[~\\*/\\[\\]]");function sx(e,t,n){if(t.search(KW)>=0)throw af(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new o_(...t.split("."))._internalPath}catch{throw af(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function af(e,t,n,i,r){const s=i&&!i.isEmpty(),o=r!==void 0;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${i}`),o&&(l+=` in document ${r}`),l+=")"),new Ne(ge.INVALID_ARGUMENT,a+e+l)}function YW(e,t){return e.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ox{constructor(t,n,i,r,s){this._firestore=t,this._userDataWriter=n,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new ni(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new QW(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(d_("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class QW extends ox{data(){return super.data()}}function d_(e,t){return typeof t=="string"?sx(e,t):t instanceof o_?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ax(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new Ne(ge.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class f_{}class XW extends f_{}function JW(e,t,...n){let i=[];t instanceof f_&&i.push(t),i=i.concat(n),function(s){const o=s.filter(l=>l instanceof h_).length,a=s.filter(l=>l instanceof Nh).length;if(o>1||o>0&&a>0)throw new Ne(ge.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)e=r._apply(e);return e}class Nh extends XW{constructor(t,n,i){super(),this._field=t,this._op=n,this._value=i,this.type="where"}static _create(t,n,i){return new Nh(t,n,i)}_apply(t){const n=this._parse(t);return lx(t._query,n),new Ko(t.firestore,t.converter,_g(t._query,n))}_parse(t){const n=u_(t.firestore);return function(s,o,a,l,u,c,d){let h;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new Ne(ge.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){Q0(d,c);const v=[];for(const g of d)v.push(Y0(l,s,g));h={arrayValue:{values:v}}}else h=Y0(l,s,d)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||Q0(d,c),h=qW(a,o,d,c==="in"||c==="not-in");return tn.create(u,c,h)}(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}function ZW(e,t,n){const i=t,r=d_("where",e);return Nh._create(r,i,n)}class h_ extends f_{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new h_(t,n)}_parse(t){const n=this._queryConstraints.map(i=>i._parse(t)).filter(i=>i.getFilters().length>0);return n.length===1?n[0]:Wi.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:(function(r,s){let o=r;const a=s.getFlattenedFilters();for(const l of a)lx(o,l),o=_g(o,l)}(t._query,n),new Ko(t.firestore,t.converter,_g(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Y0(e,t,n){if(typeof(n=si(n))=="string"){if(n==="")throw new Ne(ge.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!oP(t)&&n.indexOf("/")!==-1)throw new Ne(ge.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=t.path.child($t.fromString(n));if(!Ue.isDocumentKey(i))throw new Ne(ge.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return g0(e,new Ue(i))}if(n instanceof ni)return g0(e,n._key);throw new Ne(ge.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${xh(n)}.`)}function Q0(e,t){if(!Array.isArray(e)||e.length===0)throw new Ne(ge.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function lx(e,t){const n=function(r,s){for(const o of r)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(e.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(n!==null)throw n===t.op?new Ne(ge.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new Ne(ge.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class e9{convertValue(t,n="none"){switch(Eo(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Xt(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(ko(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw Xe()}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const i={};return dl(t,(r,s)=>{i[r]=this.convertValue(s,n)}),i}convertVectorValue(t){var n,i,r;const s=(r=(i=(n=t.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||i===void 0?void 0:i.values)===null||r===void 0?void 0:r.map(o=>Xt(o.doubleValue));return new a_(s)}convertGeoPoint(t){return new Dh(Xt(t.latitude),Xt(t.longitude))}convertArray(t,n){return(t.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(t,n){switch(n){case"previous":const i=My(t);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(zu(t));default:return null}}convertTimestamp(t){const n=xs(t);return new at(n.seconds,n.nanos)}convertDocumentKey(t,n){const i=$t.fromString(t);Vt(AP(i));const r=new qu(i.get(1),i.get(3)),s=new Ue(i.popFirst(5));return r.isEqual(n)||$r(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ux(e,t,n){let i;return i=e?e.toFirestore(t):t,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yl{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class cx extends ox{constructor(t,n,i,r,s,o){super(t,n,i,r,o),this._firestore=t,this._firestoreImpl=t,this.metadata=s}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new kd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const i=this._document.data.field(d_("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}}class kd extends cx{data(t={}){return super.data(t)}}class dx{constructor(t,n,i,r){this._firestore=t,this._userDataWriter=n,this._snapshot=r,this.metadata=new Yl(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(i=>{t.call(n,new kd(this._firestore,this._userDataWriter,i.key,i,new Yl(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ne(ge.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,s){if(r._snapshot.oldDocs.isEmpty()){let o=0;return r._snapshot.docChanges.map(a=>{const l=new kd(r._firestore,r._userDataWriter,a.doc.key,a.doc,new Yl(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new kd(r._firestore,r._userDataWriter,a.doc.key,a.doc,new Yl(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter);let u=-1,c=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),c=o.indexOf(a.doc.key)),{type:t9(a.type),doc:l,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function t9(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Xe()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fx(e){e=Ti(e,ni);const t=Ti(e.firestore,Vs);return FW(Vh(t),e._key).then(n=>mx(t,e,n))}class m_ extends e9{constructor(t){super(),this.firestore=t}convertBytes(t){return new qa(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new ni(this.firestore,null,n)}}function n9(e){e=Ti(e,Ko);const t=Ti(e.firestore,Vs),n=Vh(t),i=new m_(t);return ax(e._query),BW(n,e._query).then(r=>new dx(t,i,e,r))}function v_(e,t,n){e=Ti(e,ni);const i=Ti(e.firestore,Vs),r=ux(e.converter,t);return p_(i,[tx(u_(i),"setDoc",e._key,r,e.converter!==null,n).toMutation(e._key,Mi.none())])}function hx(e){return p_(Ti(e.firestore,Vs),[new Uy(e._key,Mi.none())])}function g_(e,t){const n=Ti(e.firestore,Vs),i=ml(e),r=ux(e.converter,t);return p_(n,[tx(u_(e.firestore),"addDoc",i._key,r,e.converter!==null,{}).toMutation(i._key,Mi.exists(!1))]).then(()=>i)}function vl(e,...t){var n,i,r;e=si(e);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof t[o]!="object"||K0(t[o])||(s=t[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(K0(t[o])){const d=t[o];t[o]=(n=d.next)===null||n===void 0?void 0:n.bind(d),t[o+1]=(i=d.error)===null||i===void 0?void 0:i.bind(d),t[o+2]=(r=d.complete)===null||r===void 0?void 0:r.bind(d)}let l,u,c;if(e instanceof ni)u=Ti(e.firestore,Vs),c=wh(e._key.path),l={next:d=>{t[o]&&t[o](mx(u,e,d))},error:t[o+1],complete:t[o+2]};else{const d=Ti(e,Ko);u=Ti(d.firestore,Vs),c=d._query;const h=new m_(u);l={next:v=>{t[o]&&t[o](new dx(u,h,d,v))},error:t[o+1],complete:t[o+2]},ax(e._query)}return function(h,v,g,p){const y=new s_(p),w=new i_(v,y,g);return h.asyncQueue.enqueueAndForget(async()=>e_(await of(h),w)),()=>{y.za(),h.asyncQueue.enqueueAndForget(async()=>t_(await of(h),w))}}(Vh(u),c,a,l)}function p_(e,t){return function(i,r){const s=new Nr;return i.asyncQueue.enqueueAndForget(async()=>kW(await LW(i),r,s)),s.promise}(Vh(e),t)}function mx(e,t,n){const i=n.docs.get(t._key),r=new m_(e);return new cx(e,r,t._key,i,new Yl(n.hasPendingWrites,n.fromCache),t.converter)}(function(t,n=!0){(function(r){cl=r})(Us),lr(new ji("firestore",(i,{instanceIdentifier:r,options:s})=>{const o=i.getProvider("app").getImmediate(),a=new Vs(new r3(i.getProvider("auth-internal")),new l3(i.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new Ne(ge.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new qu(u.options.projectId,c)}(o,r),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),di(d0,"4.7.2",t),di(d0,"4.7.2","esm2017")})();const i9=bn({__name:"LevelRangeEditor",props:{initialLevelRanges:{}},emits:["close","save"],setup(e,{emit:t}){const n=e,i=t,r=j(0),s=j(0),o=j(""),a=j(),l=j([]);he(()=>n.initialLevelRanges,()=>u());function u(){n.initialLevelRanges&&(l.value=JSON.parse(JSON.stringify(n.initialLevelRanges)),l.value.length>0&&(a.value=l.value[0]))}function c(g,p){const y=g.levels.indexOf(p);g.levels.splice(y,1)}function d(){const g=a.value;if(g){const p=l.value.findIndex(y=>y.price==g.price);l.value.splice(p,1),a.value=l.value[0]}}function h(){const g=+r.value,p=+s.value;if(g==null||g==null||isNaN(g)||g==0||p==null||p==null||isNaN(p)||p==0||(r.value=0,s.value=0,l.value.findIndex(w=>w.price==g)!=-1))return;const y=a.value={price:g,levels:[],minutes:p};l.value.push(y),l.value.sort((w,C)=>w.price-C.price)}function v(g){const p=o.value.trim();p.length!=0&&(o.value="",!g.levels.includes(p)&&g.levels.push(p))}return dt(()=>u()),(g,p)=>{const y=Z("v-number-input"),w=Z("v-col"),C=Z("v-btn"),x=Z("v-row"),A=Z("v-tab"),V=Z("v-tabs"),N=Z("v-text-field"),T=Z("v-icon"),b=Z("v-list"),_=Z("v-tabs-window-item"),E=Z("v-tabs-window"),P=Z("v-card"),I=Z("v-card-text"),R=Z("v-divider"),H=Z("v-spacer"),q=Z("v-card-actions");return Fe(),Je(P,{"prepend-icon":"mdi-format-list-numbered",title:"Livelli"},{default:F(()=>[f(I,null,{default:F(()=>[f(x,{class:"my-3 mb-10 justify-center"},{default:F(()=>[f(w,{class:"mx-2"},{default:F(()=>[f(y,{"max-width":"500",modelValue:r.value,"onUpdate:modelValue":p[0]||(p[0]=W=>r.value=W),reverse:!1,controlVariant:"default",label:"Fascia di Prezzo",prefix:"",hideInput:!1,inset:!1,min:0},null,8,["modelValue"])]),_:1}),f(w,{class:"mx-2"},{default:F(()=>[f(y,{"max-width":"500",modelValue:s.value,"onUpdate:modelValue":p[1]||(p[1]=W=>s.value=W),reverse:!1,controlVariant:"default",label:"Minuti di Lezione",suffix:"min",hideInput:!1,inset:!1,min:1},null,8,["modelValue"])]),_:1}),f(w,{class:"mx-2"},{default:F(()=>[f(C,{onClick:h,icon:"mdi-plus",color:"success"}),f(C,{onClick:d,icon:"mdi-minus",color:"error"})]),_:1})]),_:1}),a.value?(Fe(),Je(P,{key:0,class:"mx-5 mt-5 pa-2",elevation:"3"},{default:F(()=>[f(V,{modelValue:a.value,"onUpdate:modelValue":p[2]||(p[2]=W=>a.value=W),class:"my-2","align-tabs":"center",color:"primary","show-arrows":""},{default:F(()=>[(Fe(!0),ei(be,null,sr(l.value,W=>(Fe(),Je(A,{key:W.price,text:W.price+" ",value:W},null,8,["text","value"]))),128))]),_:1},8,["modelValue"]),f(E,{modelValue:a.value,"onUpdate:modelValue":p[4]||(p[4]=W=>a.value=W)},{default:F(()=>[(Fe(!0),ei(be,null,sr(l.value,W=>(Fe(),Je(_,{class:"mx-5 my-5",key:W.price,value:W},{default:F(()=>[f(N,{modelValue:o.value,"onUpdate:modelValue":p[3]||(p[3]=X=>o.value=X),label:"Nome Livello","append-icon":"mdi-plus",type:"text","onClick:append":X=>v(W)},null,8,["modelValue","onClick:append"]),f(b,{items:W.levels},{append:F(({item:X})=>[f(T,{size:"small",onClick:U=>c(W,X)},{default:F(()=>p[7]||(p[7]=[Ve(" mdi-delete ")])),_:2},1032,["onClick"])]),_:2},1032,["items"])]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])]),_:1})):an("",!0)]),_:1}),f(R),f(q,null,{default:F(()=>[f(H),f(C,{text:"Annulla",variant:"plain",onClick:p[5]||(p[5]=W=>i("close"))}),f(C,{color:"primary",text:"Salva Livelli",variant:"tonal",onClick:p[6]||(p[6]=W=>i("save",l.value))})]),_:1})]),_:1})}}}),r9=bn({__name:"ManagerEditor",props:{initialManagerOptions:{}},emits:["close","save"],setup(e,{emit:t}){const n=e,i=t,r=j(0),s=j(0),o=j(0);he(()=>n.initialManagerOptions,()=>a());function a(){n.initialManagerOptions&&(r.value=n.initialManagerOptions.totalStudents,s.value=n.initialManagerOptions.quotePerStudent,o.value=n.initialManagerOptions.cashFund)}function l(){return{totalStudents:r.value,quotePerStudent:s.value,cashFund:o.value}}return dt(()=>a()),(u,c)=>{const d=Z("v-number-input"),h=Z("v-col"),v=Z("v-row"),g=Z("v-card-text"),p=Z("v-divider"),y=Z("v-spacer"),w=Z("v-btn"),C=Z("v-card-actions"),x=Z("v-card");return Fe(),Je(x,{"prepend-icon":"mdi-account",title:"Gestione Scuola"},{default:F(()=>[f(g,null,{default:F(()=>[f(v,{class:"my-3 mb-10 justify-center"},{default:F(()=>[f(h,{cols:"12",md:"6"},{default:F(()=>[f(d,{modelValue:r.value,"onUpdate:modelValue":c[0]||(c[0]=A=>r.value=A),reverse:!1,controlVariant:"default",label:"Numero Totale Studenti",hideInput:!1,inset:!1,min:0},null,8,["modelValue"])]),_:1}),f(h,{cols:"12",md:"6"},{default:F(()=>[f(d,{modelValue:s.value,"onUpdate:modelValue":c[1]||(c[1]=A=>s.value=A),reverse:!1,controlVariant:"default",label:"Quota per Studente",prefix:"",hideInput:!1,inset:!1,min:0},null,8,["modelValue"])]),_:1}),f(h,{cols:"12",md:"6"},{default:F(()=>[f(d,{modelValue:o.value,"onUpdate:modelValue":c[2]||(c[2]=A=>o.value=A),reverse:!1,controlVariant:"default",label:"Fondo Cassa",hideInput:!1,prefix:"",inset:!1,min:0},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),f(p),f(C,null,{default:F(()=>[f(y),f(w,{text:"Annulla",variant:"plain",onClick:c[3]||(c[3]=A=>i("close"))}),f(w,{color:"primary",text:"Salva Gestione",variant:"tonal",onClick:c[4]||(c[4]=A=>i("save",l()))})]),_:1})]),_:1})}}});function y_(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]]);return n}function vx(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const s9=vx,gx=new ll("auth","Firebase",vx());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lf=new dc("@firebase/auth");function o9(e,...t){lf.logLevel<=it.WARN&&lf.warn(`Auth (${Us}): ${e}`,...t)}function Ed(e,...t){lf.logLevel<=it.ERROR&&lf.error(`Auth (${Us}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hr(e,...t){throw __(e,...t)}function ir(e,...t){return __(e,...t)}function px(e,t,n){const i=Object.assign(Object.assign({},s9()),{[t]:n});return new ll("auth","Firebase",i).create(t,{appName:e.name})}function mo(e){return px(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function __(e,...t){if(typeof e!="string"){const n=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=e.name),e._errorFactory.create(n,...i)}return gx.create(e,...t)}function Ye(e,t,...n){if(!e)throw __(t,...n)}function Pr(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Ed(t),new Error(t)}function jr(e,t){e||Pr(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ag(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.href)||""}function a9(){return X0()==="http:"||X0()==="https:"}function X0(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l9(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(a9()||N6()||"connection"in navigator)?navigator.onLine:!0}function u9(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c{constructor(t,n){this.shortDelay=t,this.longDelay=n,jr(n>t,"Short delay should be less than long delay!"),this.isMobile=Py()||D1()}get(){return l9()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b_(e,t){jr(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yx{static initialize(t,n,i){this.fetchImpl=t,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Pr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Pr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Pr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c9={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d9=new _c(3e4,6e4);function w_(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function gl(e,t,n,i,r={}){return _x(e,r,async()=>{let s={},o={};i&&(t==="GET"?o=i:s={body:JSON.stringify(i)});const a=ul(Object.assign({key:e.config.apiKey},o)).slice(1),l=await e._getAdditionalHeaders();l["Content-Type"]="application/json",e.languageCode&&(l["X-Firebase-Locale"]=e.languageCode);const u=Object.assign({method:t,headers:l},s);return D6()||(u.referrerPolicy="no-referrer"),yx.fetch()(bx(e,e.config.apiHost,n,a),u)})}async function _x(e,t,n){e._canInitEmulator=!1;const i=Object.assign(Object.assign({},c9),t);try{const r=new h9(e),s=await Promise.race([n(),r.promise]);r.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw sd(e,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw sd(e,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw sd(e,"email-already-in-use",o);if(l==="USER_DISABLED")throw sd(e,"user-disabled",o);const c=i[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw px(e,c,u);Hr(e,c)}}catch(r){if(r instanceof pr)throw r;Hr(e,"network-request-failed",{message:String(r)})}}async function f9(e,t,n,i,r={}){const s=await gl(e,t,n,i,r);return"mfaPendingCredential"in s&&Hr(e,"multi-factor-auth-required",{_serverResponse:s}),s}function bx(e,t,n,i){const r=`${t}${n}?${i}`;return e.config.emulator?b_(e.config,r):`${e.config.apiScheme}://${r}`}class h9{constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(ir(this.auth,"network-request-failed")),d9.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function sd(e,t,n){const i={appName:e.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const r=ir(e,t,i);return r.customData._tokenResponse=n,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m9(e,t){return gl(e,"POST","/v1/accounts:delete",t)}async function wx(e,t){return gl(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uu(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function v9(e,t=!1){const n=si(e),i=await n.getIdToken(t),r=S_(i);Ye(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");const s=typeof r.firebase=="object"?r.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:r,token:i,authTime:uu($m(r.auth_time)),issuedAtTime:uu($m(r.iat)),expirationTime:uu($m(r.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function $m(e){return Number(e)*1e3}function S_(e){const[t,n,i]=e.split(".");if(t===void 0||n===void 0||i===void 0)return Ed("JWT malformed, contained fewer than 3 sections"),null;try{const r=Yd(n);return r?JSON.parse(r):(Ed("Failed to decode base64 JWT payload"),null)}catch(r){return Ed("Caught error parsing JWT payload as JSON",r==null?void 0:r.toString()),null}}function J0(e){const t=S_(e);return Ye(t,"internal-error"),Ye(typeof t.exp<"u","internal-error"),Ye(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qu(e,t,n=!1){if(n)return t;try{return await t}catch(i){throw i instanceof pr&&g9(i)&&e.auth.currentUser===e&&await e.auth.signOut(),i}}function g9({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p9{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pg{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=uu(this.lastLoginAt),this.creationTime=uu(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uf(e){var t;const n=e.auth,i=await e.getIdToken(),r=await Qu(e,wx(n,{idToken:i}));Ye(r==null?void 0:r.users.length,n,"internal-error");const s=r.users[0];e._notifyReloadListener(s);const o=!((t=s.providerUserInfo)===null||t===void 0)&&t.length?Sx(s.providerUserInfo):[],a=_9(e.providerData,o),l=e.isAnonymous,u=!(e.email&&s.passwordHash)&&!(a!=null&&a.length),c=l?u:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Pg(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(e,d)}async function y9(e){const t=si(e);await uf(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function _9(e,t){return[...e.filter(i=>!t.some(r=>r.providerId===i.providerId)),...t]}function Sx(e){return e.map(t=>{var{providerId:n}=t,i=y_(t,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function b9(e,t){const n=await _x(e,{},async()=>{const i=ul({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:s}=e.config,o=bx(e,r,"/v1/token",`key=${s}`),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",yx.fetch()(o,{method:"POST",headers:a,body:i})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function w9(e,t){return gl(e,"POST","/v2/accounts:revokeToken",w_(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Ye(t.idToken,"internal-error"),Ye(typeof t.idToken<"u","internal-error"),Ye(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):J0(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){Ye(t.length!==0,"internal-error");const n=J0(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ye(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:i,refreshToken:r,expiresIn:s}=await b9(t,n);this.updateTokensAndExpiration(i,r,Number(s))}updateTokensAndExpiration(t,n,i){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(t,n){const{refreshToken:i,accessToken:r,expirationTime:s}=n,o=new Ta;return i&&(Ye(typeof i=="string","internal-error",{appName:t}),o.refreshToken=i),r&&(Ye(typeof r=="string","internal-error",{appName:t}),o.accessToken=r),s&&(Ye(typeof s=="number","internal-error",{appName:t}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Ta,this.toJSON())}_performRefresh(){return Pr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function is(e,t){Ye(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class xr{constructor(t){var{uid:n,auth:i,stsTokenManager:r}=t,s=y_(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new p9(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Pg(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(t){const n=await Qu(this,this.stsTokenManager.getToken(this.auth,t));return Ye(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return v9(this,t)}reload(){return y9(this)}_assign(t){this!==t&&(Ye(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new xr(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){Ye(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let i=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),i=!0),n&&await uf(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(vs(this.auth.app))return Promise.reject(mo(this.auth));const t=await this.getIdToken();return await Qu(this,m9(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var i,r,s,o,a,l,u,c;const d=(i=n.displayName)!==null&&i!==void 0?i:void 0,h=(r=n.email)!==null&&r!==void 0?r:void 0,v=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,g=(o=n.photoURL)!==null&&o!==void 0?o:void 0,p=(a=n.tenantId)!==null&&a!==void 0?a:void 0,y=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,w=(u=n.createdAt)!==null&&u!==void 0?u:void 0,C=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:x,emailVerified:A,isAnonymous:V,providerData:N,stsTokenManager:T}=n;Ye(x&&T,t,"internal-error");const b=Ta.fromJSON(this.name,T);Ye(typeof x=="string",t,"internal-error"),is(d,t.name),is(h,t.name),Ye(typeof A=="boolean",t,"internal-error"),Ye(typeof V=="boolean",t,"internal-error"),is(v,t.name),is(g,t.name),is(p,t.name),is(y,t.name),is(w,t.name),is(C,t.name);const _=new xr({uid:x,auth:t,email:h,emailVerified:A,displayName:d,isAnonymous:V,photoURL:g,phoneNumber:v,tenantId:p,stsTokenManager:b,createdAt:w,lastLoginAt:C});return N&&Array.isArray(N)&&(_.providerData=N.map(E=>Object.assign({},E))),y&&(_._redirectEventId=y),_}static async _fromIdTokenResponse(t,n,i=!1){const r=new Ta;r.updateFromServerResponse(n);const s=new xr({uid:n.localId,auth:t,stsTokenManager:r,isAnonymous:i});return await uf(s),s}static async _fromGetAccountInfoResponse(t,n,i){const r=n.users[0];Ye(r.localId!==void 0,"internal-error");const s=r.providerUserInfo!==void 0?Sx(r.providerUserInfo):[],o=!(r.email&&r.passwordHash)&&!(s!=null&&s.length),a=new Ta;a.updateFromIdToken(i);const l=new xr({uid:r.localId,auth:t,stsTokenManager:a,isAnonymous:o}),u={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:s,metadata:new Pg(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z0=new Map;function Rr(e){jr(e instanceof Function,"Expected a class definition");let t=Z0.get(e);return t?(jr(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Z0.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cx{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}Cx.type="NONE";const eC=Cx;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Td(e,t,n){return`firebase:${e}:${t}:${n}`}class Aa{constructor(t,n,i){this.persistence=t,this.auth=n,this.userKey=i;const{config:r,name:s}=this.auth;this.fullUserKey=Td(this.userKey,r.apiKey,s),this.fullPersistenceKey=Td("persistence",r.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);return t?xr._fromJSON(this.auth,t):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,i="authUser"){if(!n.length)return new Aa(Rr(eC),t,i);const r=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=r[0]||Rr(eC);const o=Td(i,t.config.apiKey,t.name);let a=null;for(const u of n)try{const c=await u._get(o);if(c){const d=xr._fromJSON(t,c);u!==s&&(a=d),s=u;break}}catch{}const l=r.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new Aa(s,t,i):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new Aa(s,t,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tC(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Tx(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Ix(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Px(t))return"Blackberry";if(xx(t))return"Webos";if(kx(t))return"Safari";if((t.includes("chrome/")||Ex(t))&&!t.includes("edge/"))return"Chrome";if(Ax(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=e.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function Ix(e=qn()){return/firefox\//i.test(e)}function kx(e=qn()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Ex(e=qn()){return/crios\//i.test(e)}function Tx(e=qn()){return/iemobile/i.test(e)}function Ax(e=qn()){return/android/i.test(e)}function Px(e=qn()){return/blackberry/i.test(e)}function xx(e=qn()){return/webos/i.test(e)}function C_(e=qn()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function S9(e=qn()){var t;return C_(e)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function C9(){return O6()&&document.documentMode===10}function Rx(e=qn()){return C_(e)||Ax(e)||xx(e)||Px(e)||/windows phone/i.test(e)||Tx(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vx(e,t=[]){let n;switch(e){case"Browser":n=tC(qn());break;case"Worker":n=`${tC(qn())}-${e}`;break;default:n=e}const i=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Us}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I9{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const i=s=>new Promise((o,a)=>{try{const l=t(s);o(l)}catch(l){a(l)}});i.onAbort=n,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const i of this.queue)await i(t),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const r of n)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k9(e,t={}){return gl(e,"GET","/v2/passwordPolicy",w_(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E9=6;class T9{constructor(t){var n,i,r,s;const o=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:E9,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(i=t.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(s=t.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var n,i,r,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,l),this.validatePasswordCharacterOptions(t,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(i=l.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(r=l.containsLowercaseLetter)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(t,n){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=t.length>=i),r&&(n.meetsMaxPasswordLength=t.length<=r)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let r=0;r<t.length;r++)i=t.charAt(r),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(t,n,i,r,s){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A9{constructor(t,n,i,r){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new nC(this),this.idTokenSubscription=new nC(this),this.beforeStateQueue=new I9(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=gx,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=Rr(n)),this._initializationPromise=this.queue(async()=>{var i,r;if(!this._deleted&&(this.persistenceManager=await Aa.create(this,t),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((r=this.currentUser)===null||r===void 0?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await wx(this,{idToken:t}),i=await xr._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var n;if(vs(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,s=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(t);(!o||o===a)&&(l!=null&&l.user)&&(r=l.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ye(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await uf(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=u9()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(vs(this.app))return Promise.reject(mo(this));const n=t?si(t):null;return n&&Ye(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&Ye(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return vs(this.app)?Promise.reject(mo(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return vs(this.app)?Promise.reject(mo(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Rr(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await k9(this),n=new T9(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new ll("auth","Firebase",t())}onAuthStateChanged(t,n,i){return this.registerStateListener(this.authStateSubscription,t,n,i)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,i){return this.registerStateListener(this.idTokenSubscription,t,n,i)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const i=this.onAuthStateChanged(()=>{i(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await w9(this,i)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const i=await this.getOrInitRedirectPersistenceManager(n);return t===null?i.removeCurrentUser():i.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&Rr(t)||this._popupRedirectResolver;Ye(n,this,"argument-error"),this.redirectPersistenceManager=await Aa.create(this,[Rr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,i,r){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ye(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=t.addObserver(n,i,r);return()=>{o=!0,l()}}else{const l=t.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Ye(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=Vx(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const i=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());i&&(n["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(n["X-Firebase-AppCheck"]=r),n}async _getAppCheckToken(){var t;const n=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return n!=null&&n.error&&o9(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function I_(e){return si(e)}class nC{constructor(t){this.auth=t,this.observer=null,this.addObserver=W6(n=>this.observer=n)}get next(){return Ye(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let k_={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function P9(e){k_=e}function x9(e){return k_.loadJS(e)}function R9(){return k_.gapiScript}function V9(e){return`__${e}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dx(e,t){const n=Ry(e,"auth");if(n.isInitialized()){const r=n.getImmediate(),s=n.getOptions();if(Xd(s,t??{}))return r;Hr(r,"already-initialized")}return n.initialize({options:t})}function D9(e,t){const n=(t==null?void 0:t.persistence)||[],i=(Array.isArray(n)?n:[n]).map(Rr);t!=null&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(i,t==null?void 0:t.popupRedirectResolver)}function Nx(e,t,n){const i=I_(e);Ye(i._canInitEmulator,i,"emulator-config-failed"),Ye(/^https?:\/\//.test(t),i,"invalid-emulator-scheme");const r=!1,s=Ox(t),{host:o,port:a}=N9(t),l=a===null?"":`:${a}`;i.config.emulator={url:`${s}//${o}${l}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:r})}),O9()}function Ox(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function N9(e){const t=Ox(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const s=r[1];return{host:s,port:iC(i.substr(s.length+1))}}else{const[s,o]=i.split(":");return{host:s,port:iC(o)}}}function iC(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function O9(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mx{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return Pr("not implemented")}_getIdTokenResponse(t){return Pr("not implemented")}_linkToIdToken(t,n){return Pr("not implemented")}_getReauthenticationResolver(t){return Pr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pa(e,t){return f9(e,"POST","/v1/accounts:signInWithIdp",w_(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M9="http://localhost";class To extends Mx{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new To(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):Hr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:i,signInMethod:r}=n,s=y_(n,["providerId","signInMethod"]);if(!i||!r)return null;const o=new To(i,r);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(t){const n=this.buildRequest();return Pa(t,n)}_linkToIdToken(t,n){const i=this.buildRequest();return i.idToken=n,Pa(t,i)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,Pa(t,n)}buildRequest(){const t={requestUri:M9,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=ul(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lx{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc extends Lx{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds extends bc{constructor(){super("facebook.com")}static credential(t){return To._fromParams({providerId:ds.PROVIDER_ID,signInMethod:ds.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return ds.credentialFromTaggedObject(t)}static credentialFromError(t){return ds.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return ds.credential(t.oauthAccessToken)}catch{return null}}}ds.FACEBOOK_SIGN_IN_METHOD="facebook.com";ds.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs extends bc{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return To._fromParams({providerId:fs.PROVIDER_ID,signInMethod:fs.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return fs.credentialFromTaggedObject(t)}static credentialFromError(t){return fs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:i}=t;if(!n&&!i)return null;try{return fs.credential(n,i)}catch{return null}}}fs.GOOGLE_SIGN_IN_METHOD="google.com";fs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hs extends bc{constructor(){super("github.com")}static credential(t){return To._fromParams({providerId:hs.PROVIDER_ID,signInMethod:hs.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return hs.credentialFromTaggedObject(t)}static credentialFromError(t){return hs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return hs.credential(t.oauthAccessToken)}catch{return null}}}hs.GITHUB_SIGN_IN_METHOD="github.com";hs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms extends bc{constructor(){super("twitter.com")}static credential(t,n){return To._fromParams({providerId:ms.PROVIDER_ID,signInMethod:ms.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return ms.credentialFromTaggedObject(t)}static credentialFromError(t){return ms.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=t;if(!n||!i)return null;try{return ms.credential(n,i)}catch{return null}}}ms.TWITTER_SIGN_IN_METHOD="twitter.com";ms.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ga{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,i,r=!1){const s=await xr._fromIdTokenResponse(t,i,r),o=rC(i);return new Ga({user:s,providerId:o,_tokenResponse:i,operationType:n})}static async _forOperation(t,n,i){await t._updateTokensIfNecessary(i,!0);const r=rC(i);return new Ga({user:t,providerId:r,_tokenResponse:i,operationType:n})}}function rC(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cf extends pr{constructor(t,n,i,r){var s;super(n.code,n.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,cf.prototype),this.customData={appName:t.name,tenantId:(s=t.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(t,n,i,r){return new cf(t,n,i,r)}}function Fx(e,t,n,i){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?cf._fromErrorAndOperation(e,s,t,i):s})}async function L9(e,t,n=!1){const i=await Qu(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Ga._forOperation(e,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function F9(e,t,n=!1){const{auth:i}=e;if(vs(i.app))return Promise.reject(mo(i));const r="reauthenticate";try{const s=await Qu(e,Fx(i,r,t,e),n);Ye(s.idToken,i,"internal-error");const o=S_(s.idToken);Ye(o,i,"internal-error");const{sub:a}=o;return Ye(e.uid===a,i,"user-mismatch"),Ga._forOperation(e,r,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Hr(i,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function B9(e,t,n=!1){if(vs(e.app))return Promise.reject(mo(e));const i="signIn",r=await Fx(e,i,t),s=await Ga._fromIdTokenResponse(e,i,r);return n||await e._updateCurrentUser(s.user),s}function Bx(e,t,n,i){return si(e).onIdTokenChanged(t,n,i)}function $9(e,t,n){return si(e).beforeAuthStateChanged(t,n)}const df="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $x{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(df,"1"),this.storage.removeItem(df),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U9=1e3,H9=10;class Ux extends $x{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Rx(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),r=this.localCache[n];i!==r&&t(n,r,i)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const i=t.key;n?this.detachListener():this.stopPolling();const r=()=>{const o=this.storage.getItem(i);!n&&this.localCache[i]===o||this.notifyListeners(i,o)},s=this.storage.getItem(i);C9()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(r,H9):r()}notifyListeners(t,n){this.localCache[t]=n;const i=this.listeners[t];if(i)for(const r of Array.from(i))r(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:i}),!0)})},U9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}Ux.type="LOCAL";const Hx=Ux;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jx extends $x{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}jx.type="SESSION";const E_=jx;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j9(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(r=>r.isListeningto(t));if(n)return n;const i=new Oh(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:i,eventType:r,data:s}=n.data,o=this.handlersMap[r];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:r});const a=Array.from(o).map(async u=>u(n.origin,s)),l=await j9(a);n.ports[0].postMessage({status:"done",eventId:i,eventType:r,response:l})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Oh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T_(e="",t=10){let n="";for(let i=0;i<t;i++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W9{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,i=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=T_("",20);r.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},i);o={messageChannel:r,onMessage(d){const h=d;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(c),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(h.data.response);break;default:clearTimeout(c),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:t,eventId:u,data:n},[r.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rr(){return window}function z9(e){rr().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wx(){return typeof rr().WorkerGlobalScope<"u"&&typeof rr().importScripts=="function"}async function q9(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function G9(){var e;return((e=navigator==null?void 0:navigator.serviceWorker)===null||e===void 0?void 0:e.controller)||null}function K9(){return Wx()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zx="firebaseLocalStorageDb",Y9=1,ff="firebaseLocalStorage",qx="fbase_key";class wc{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Mh(e,t){return e.transaction([ff],t?"readwrite":"readonly").objectStore(ff)}function Q9(){const e=indexedDB.deleteDatabase(zx);return new wc(e).toPromise()}function xg(){const e=indexedDB.open(zx,Y9);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const i=e.result;try{i.createObjectStore(ff,{keyPath:qx})}catch(r){n(r)}}),e.addEventListener("success",async()=>{const i=e.result;i.objectStoreNames.contains(ff)?t(i):(i.close(),await Q9(),t(await xg()))})})}async function sC(e,t,n){const i=Mh(e,!0).put({[qx]:t,value:n});return new wc(i).toPromise()}async function X9(e,t){const n=Mh(e,!1).get(t),i=await new wc(n).toPromise();return i===void 0?null:i.value}function oC(e,t){const n=Mh(e,!0).delete(t);return new wc(n).toPromise()}const J9=800,Z9=3;class Gx{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await xg(),this.db)}async _withRetries(t){let n=0;for(;;)try{const i=await this._openDb();return await t(i)}catch(i){if(n++>Z9)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Wx()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Oh._getInstance(K9()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await q9(),!this.activeServiceWorker)return;this.sender=new W9(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((n=i[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||G9()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await xg();return await sC(t,df,"1"),await oC(t,df),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>sC(i,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(i=>X9(i,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>oC(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(r=>{const s=Mh(r,!1).getAll();return new wc(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(t.length!==0)for(const{fbase_key:r,value:s}of t)i.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(s)&&(this.notifyListeners(r,s),n.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!i.has(r)&&(this.notifyListeners(r,null),n.push(r));return n}notifyListeners(t,n){this.localCache[t]=n;const i=this.listeners[t];if(i)for(const r of Array.from(i))r(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),J9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Gx.type="LOCAL";const Kx=Gx;new _c(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ez(e,t){return t?Rr(t):(Ye(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A_ extends Mx{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Pa(t,this._buildIdpRequest())}_linkToIdToken(t,n){return Pa(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return Pa(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function tz(e){return B9(e.auth,new A_(e),e.bypassAuthState)}function nz(e){const{auth:t,user:n}=e;return Ye(n,t,"internal-error"),F9(n,new A_(e),e.bypassAuthState)}async function iz(e){const{auth:t,user:n}=e;return Ye(n,t,"internal-error"),L9(n,new A_(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yx{constructor(t,n,i,r,s=!1){this.auth=t,this.resolver=i,this.user=r,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:i,postBody:r,tenantId:s,error:o,type:a}=t;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:i,tenantId:s||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return tz;case"linkViaPopup":case"linkViaRedirect":return iz;case"reauthViaPopup":case"reauthViaRedirect":return nz;default:Hr(this.auth,"internal-error")}}resolve(t){jr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){jr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rz=new _c(2e3,1e4);class _a extends Yx{constructor(t,n,i,r,s){super(t,n,r,s),this.provider=i,this.authWindow=null,this.pollId=null,_a.currentPopupAction&&_a.currentPopupAction.cancel(),_a.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Ye(t,this.auth,"internal-error"),t}async onExecution(){jr(this.filter.length===1,"Popup operations only handle one event");const t=T_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ir(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(ir(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_a.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,i;if(!((i=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ir(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,rz.get())};t()}}_a.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sz="pendingRedirect",Ad=new Map;class oz extends Yx{constructor(t,n,i=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let t=Ad.get(this.auth._key());if(!t){try{const i=await az(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(i)}catch(n){t=()=>Promise.reject(n)}Ad.set(this.auth._key(),t)}return this.bypassAuthState||Ad.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function az(e,t){const n=cz(t),i=uz(e);if(!await i._isAvailable())return!1;const r=await i._get(n)==="true";return await i._remove(n),r}function lz(e,t){Ad.set(e._key(),t)}function uz(e){return Rr(e._redirectPersistence)}function cz(e){return Td(sz,e.config.apiKey,e.name)}async function dz(e,t,n=!1){if(vs(e.app))return Promise.reject(mo(e));const i=I_(e),r=ez(i,t),o=await new oz(i,r,n).execute();return o&&!n&&(delete o.user._redirectEventId,await i._persistUserIfCurrent(o.user),await i._setRedirectUser(null,t)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fz=10*60*1e3;class hz{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(t,i)&&(n=!0,this.sendToConsumer(t,i),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!mz(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var i;if(t.error&&!Qx(t)){const r=((i=t.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(ir(this.auth,r))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const i=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&i}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=fz&&this.cachedEventUids.clear(),this.cachedEventUids.has(aC(t))}saveEventToCache(t){this.cachedEventUids.add(aC(t)),this.lastProcessedEventTime=Date.now()}}function aC(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function Qx({type:e,error:t}){return e==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function mz(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Qx(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vz(e,t={}){return gl(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gz=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,pz=/^https?/;async function yz(e){if(e.config.emulator)return;const{authorizedDomains:t}=await vz(e);for(const n of t)try{if(_z(n))return}catch{}Hr(e,"unauthorized-domain")}function _z(e){const t=Ag(),{protocol:n,hostname:i}=new URL(t);if(e.startsWith("chrome-extension://")){const o=new URL(e);return o.hostname===""&&i===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===i}if(!pz.test(n))return!1;if(gz.test(e))return i===e;const r=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bz=new _c(3e4,6e4);function lC(){const e=rr().___jsl;if(e!=null&&e.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function wz(e){return new Promise((t,n)=>{var i,r,s;function o(){lC(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{lC(),n(ir(e,"network-request-failed"))},timeout:bz.get()})}if(!((r=(i=rr().gapi)===null||i===void 0?void 0:i.iframes)===null||r===void 0)&&r.Iframe)t(gapi.iframes.getContext());else if(!((s=rr().gapi)===null||s===void 0)&&s.load)o();else{const a=V9("iframefcb");return rr()[a]=()=>{gapi.load?o():n(ir(e,"network-request-failed"))},x9(`${R9()}?onload=${a}`).catch(l=>n(l))}}).catch(t=>{throw Pd=null,t})}let Pd=null;function Sz(e){return Pd=Pd||wz(e),Pd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cz=new _c(5e3,15e3),Iz="__/auth/iframe",kz="emulator/auth/iframe",Ez={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Tz=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Az(e){const t=e.config;Ye(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?b_(t,kz):`https://${e.config.authDomain}/${Iz}`,i={apiKey:t.apiKey,appName:e.name,v:Us},r=Tz.get(e.config.apiHost);r&&(i.eid=r);const s=e._getFrameworks();return s.length&&(i.fw=s.join(",")),`${n}?${ul(i).slice(1)}`}async function Pz(e){const t=await Sz(e),n=rr().gapi;return Ye(n,e,"internal-error"),t.open({where:document.body,url:Az(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ez,dontclear:!0},i=>new Promise(async(r,s)=>{await i.restyle({setHideOnLeave:!1});const o=ir(e,"network-request-failed"),a=rr().setTimeout(()=>{s(o)},Cz.get());function l(){rr().clearTimeout(a),r(i)}i.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xz={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Rz=500,Vz=600,Dz="_blank",Nz="http://localhost";class uC{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Oz(e,t,n,i=Rz,r=Vz){const s=Math.max((window.screen.availHeight-r)/2,0).toString(),o=Math.max((window.screen.availWidth-i)/2,0).toString();let a="";const l=Object.assign(Object.assign({},xz),{width:i.toString(),height:r.toString(),top:s,left:o}),u=qn().toLowerCase();n&&(a=Ex(u)?Dz:n),Ix(u)&&(t=t||Nz,l.scrollbars="yes");const c=Object.entries(l).reduce((h,[v,g])=>`${h}${v}=${g},`,"");if(S9(u)&&a!=="_self")return Mz(t||"",a),new uC(null);const d=window.open(t||"",a,c);Ye(d,e,"popup-blocked");try{d.focus()}catch{}return new uC(d)}function Mz(e,t){const n=document.createElement("a");n.href=e,n.target=t;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lz="__/auth/handler",Fz="emulator/auth/handler",Bz=encodeURIComponent("fac");async function cC(e,t,n,i,r,s){Ye(e.config.authDomain,e,"auth-domain-config-required"),Ye(e.config.apiKey,e,"invalid-api-key");const o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:i,v:Us,eventId:r};if(t instanceof Lx){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",ag(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(const[c,d]of Object.entries({}))o[c]=d}if(t instanceof bc){const c=t.getScopes().filter(d=>d!=="");c.length>0&&(o.scopes=c.join(","))}e.tenantId&&(o.tid=e.tenantId);const a=o;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];const l=await e._getAppCheckToken(),u=l?`#${Bz}=${encodeURIComponent(l)}`:"";return`${$z(e)}?${ul(a).slice(1)}${u}`}function $z({config:e}){return e.emulator?b_(e,Fz):`https://${e.authDomain}/${Lz}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Um="webStorageSupport";class Uz{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=E_,this._completeRedirectFn=dz,this._overrideRedirectResult=lz}async _openPopup(t,n,i,r){var s;jr((s=this.eventManagers[t._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await cC(t,n,i,Ag(),r);return Oz(t,o,T_())}async _openRedirect(t,n,i,r){await this._originValidation(t);const s=await cC(t,n,i,Ag(),r);return z9(s),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:r,promise:s}=this.eventManagers[n];return r?Promise.resolve(r):(jr(s,"If manager is not set, promise should be"),s)}const i=this.initAndGetManager(t);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(t){const n=await Pz(t),i=new hz(t);return n.register("authEvent",r=>(Ye(r==null?void 0:r.authEvent,t,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:i},this.iframes[t._key()]=n,i}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(Um,{type:Um},r=>{var s;const o=(s=r==null?void 0:r[0])===null||s===void 0?void 0:s[Um];o!==void 0&&n(!!o),Hr(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=yz(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return Rx()||kx()||C_()}}const Xx=Uz;var dC="@firebase/auth",fC="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hz{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(i=>{t((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ye(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jz(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Wz(e){lr(new ji("auth",(t,{options:n})=>{const i=t.getProvider("app").getImmediate(),r=t.getProvider("heartbeat"),s=t.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=i.options;Ye(o&&!o.includes(":"),"invalid-api-key",{appName:i.name});const l={apiKey:o,authDomain:a,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Vx(e)},u=new A9(i,r,s,l);return D9(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,i)=>{t.getProvider("auth-internal").initialize()})),lr(new ji("auth-internal",t=>{const n=I_(t.getProvider("auth").getImmediate());return(i=>new Hz(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),di(dC,fC,jz(e)),di(dC,fC,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zz=5*60,qz=V1("authIdTokenMaxAge")||zz;let hC=null;const Gz=e=>async t=>{const n=t&&await t.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>qz)return;const r=n==null?void 0:n.token;hC!==r&&(hC=r,await fetch(e,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function Kz(e=Vy()){const t=Ry(e,"auth");if(t.isInitialized())return t.getImmediate();const n=Dx(e,{popupRedirectResolver:Xx,persistence:[Kx,Hx,E_]}),i=V1("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(i,location.origin);if(location.origin===s.origin){const o=Gz(s.toString());$9(n,o,()=>o(n.currentUser)),Bx(n,a=>o(a))}}const r=x1("auth");return r&&Nx(n,`http://${r}`),n}function Yz(){var e,t;return(t=(e=document.getElementsByTagName("head"))===null||e===void 0?void 0:e[0])!==null&&t!==void 0?t:document}P9({loadJS(e){return new Promise((t,n)=>{const i=document.createElement("script");i.setAttribute("src",e),i.onload=t,i.onerror=r=>{const s=ir("internal-error");s.customData=r,n(s)},i.type="text/javascript",i.charset="UTF-8",Yz().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Wz("Browser");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qz=new Map,Xz={activated:!1,tokenObservers:[]};function zi(e){return Qz.get(e)||Object.assign({},Xz)}const mC={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jz{constructor(t,n,i,r,s){if(this.operation=t,this.retryPolicy=n,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=r,r>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}async process(t){this.stop();try{this.pending=new $u,this.pending.promise.catch(n=>{}),await Zz(this.getNextRun(t)),this.pending.resolve(),await this.pending.promise,this.pending=new $u,this.pending.promise.catch(n=>{}),await this.operation(),this.pending.resolve(),await this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}function Zz(e){return new Promise(t=>{setTimeout(t,e)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eq={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"},hf=new ll("appCheck","AppCheck",eq);function Jx(e){if(!zi(e).activated)throw hf.create("use-before-activation",{appName:e.name})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tq="firebase-app-check-database",nq=1,Rg="firebase-app-check-store";let od=null;function iq(){return od||(od=new Promise((e,t)=>{try{const n=indexedDB.open(tq,nq);n.onsuccess=i=>{e(i.target.result)},n.onerror=i=>{var r;t(hf.create("storage-open",{originalErrorMessage:(r=i.target.error)===null||r===void 0?void 0:r.message}))},n.onupgradeneeded=i=>{const r=i.target.result;switch(i.oldVersion){case 0:r.createObjectStore(Rg,{keyPath:"compositeKey"})}}}catch(n){t(hf.create("storage-open",{originalErrorMessage:n==null?void 0:n.message}))}}),od)}function rq(e,t){return sq(oq(e),t)}async function sq(e,t){const i=(await iq()).transaction(Rg,"readwrite"),s=i.objectStore(Rg).put({compositeKey:e,value:t});return new Promise((o,a)=>{s.onsuccess=l=>{o()},i.onerror=l=>{var u;a(hf.create("storage-set",{originalErrorMessage:(u=l.target.error)===null||u===void 0?void 0:u.message}))}})}function oq(e){return`${e.options.appId}-${e.name}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vg=new dc("@firebase/app-check");function vC(e,t){return O1()?rq(e,t).catch(n=>{Vg.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aq={error:"UNKNOWN_ERROR"};function lq(e){return ph.encodeString(JSON.stringify(e),!1)}async function Dg(e,t=!1){const n=e.app;Jx(n);const i=zi(n);let r=i.token,s;if(r&&!Ql(r)&&(i.token=void 0,r=void 0),!r){const l=await i.cachedTokenPromise;l&&(Ql(l)?r=l:await vC(n,void 0))}if(!t&&r&&Ql(r))return{token:r.token};let o=!1;try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),o=!0),r=await zi(n).exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"?Vg.warn(l.message):Vg.error(l),s=l}let a;return r?s?Ql(r)?a={token:r.token,internalError:s}:a=pC(s):(a={token:r.token},i.token=r,await vC(n,r)):a=pC(s),o&&fq(n,a),a}async function uq(e){const t=e.app;Jx(t);const{provider:n}=zi(t);{const{token:i}=await n.getToken();return{token:i}}}function cq(e,t,n,i){const{app:r}=e,s=zi(r),o={next:n,error:i,type:t};if(s.tokenObservers=[...s.tokenObservers,o],s.token&&Ql(s.token)){const a=s.token;Promise.resolve().then(()=>{n({token:a.token}),gC(e)}).catch(()=>{})}s.cachedTokenPromise.then(()=>gC(e))}function Zx(e,t){const n=zi(e),i=n.tokenObservers.filter(r=>r.next!==t);i.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=i}function gC(e){const{app:t}=e,n=zi(t);let i=n.tokenRefresher;i||(i=dq(e),n.tokenRefresher=i),!i.isRunning()&&n.isTokenAutoRefreshEnabled&&i.start()}function dq(e){const{app:t}=e;return new Jz(async()=>{const n=zi(t);let i;if(n.token?i=await Dg(e,!0):i=await Dg(e),i.error)throw i.error;if(i.internalError)throw i.internalError},()=>!0,()=>{const n=zi(t);if(n.token){let i=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5;const r=n.token.expireTimeMillis-5*60*1e3;return i=Math.min(i,r),Math.max(0,i-Date.now())}else return 0},mC.RETRIAL_MIN_WAIT,mC.RETRIAL_MAX_WAIT)}function fq(e,t){const n=zi(e).tokenObservers;for(const i of n)try{i.type==="EXTERNAL"&&t.error!=null?i.error(t.error):i.next(t)}catch{}}function Ql(e){return e.expireTimeMillis-Date.now()>0}function pC(e){return{token:lq(aq),error:e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hq{constructor(t,n){this.app=t,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:t}=zi(this.app);for(const n of t)Zx(this.app,n.next);return Promise.resolve()}}function mq(e,t){return new hq(e,t)}function vq(e){return{getToken:t=>Dg(e,t),getLimitedUseToken:()=>uq(e),addTokenListener:t=>cq(e,"INTERNAL",t),removeTokenListener:t=>Zx(e.app,t)}}const gq="@firebase/app-check",pq="0.8.8",yq="app-check",yC="app-check-internal";function _q(){lr(new ji(yq,e=>{const t=e.getProvider("app").getImmediate(),n=e.getProvider("heartbeat");return mq(t,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider(yC).initialize()})),lr(new ji(yC,e=>{const t=e.getProvider("app-check").getImmediate();return vq(t)},"PUBLIC").setInstantiationMode("EXPLICIT")),di(gq,pq)}_q();var bq="firebase",wq="10.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */di(bq,wq,"app");const eR=Symbol("firebaseApp");function Lh(e){return nc()&&He(eR,null)||Vy(e)}const Ji=()=>{};function P_(e,t){return t.split(".").reduce((n,i)=>n&&n[i],e)}function Sq(e,t,n){const i=(""+t).split("."),r=i.pop(),s=i.reduce((o,a)=>o&&o[a],e);if(s!=null)return Array.isArray(s)?s.splice(Number(r),1,n):s[r]=n}function Yo(e){return!!e&&typeof e=="object"}const Cq=Object.prototype;function Iq(e){return Yo(e)&&Object.getPrototypeOf(e)===Cq}function x_(e){return Yo(e)&&e.type==="document"}function kq(e){return Yo(e)&&e.type==="collection"}function Eq(e){return x_(e)||kq(e)}function Tq(e){return Yo(e)&&e.type==="query"}function Aq(e){return Yo(e)&&"ref"in e}function Pq(e){return Yo(e)&&typeof e.bucket=="string"}function xq(e,t){let n;return()=>{if(!n)return n=!0,e(t())}}const Rq=Symbol.for("v-scx");function Vq(){return!!He(Rq,0)}const ad=new WeakMap;function Dq(e,t){if(!ad.has(e)){const n=Qa(!0);ad.set(e,n);const{unmount:i}=t;t.unmount=()=>{i.call(t),n.stop(),ad.delete(e)}}return ad.get(e)}const Nq=new WeakMap,ld=new WeakMap;function Oq(e){const t=Lh(e);if(!ld.has(t)){let n;const r=[new Promise(s=>{n=s}),s=>{ld.set(t,s),n(s.value)}];ld.set(t,r)}return ld.get(t)}function Mq(e,t){Bx(t,n=>{const i=Oq();e.value=n,Array.isArray(i)&&i[1](e)})}var _C={};const bC="@firebase/database",wC="1.0.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tR="";function Lq(e){tR=e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fq{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,n){n==null?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),En(n))}get(t){const n=this.domStorage_.getItem(this.prefixedName_(t));return n==null?null:Uu(n)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bq{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,n){n==null?delete this.cache_[t]:this.cache_[t]=n}get(t){return Yr(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nR=function(e){try{if(typeof window<"u"&&typeof window[e]<"u"){const t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new Fq(t)}}catch{}return new Bq},so=nR("localStorage"),$q=nR("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xa=new dc("@firebase/database"),Uq=function(){let e=1;return function(){return e++}}(),iR=function(e){const t=K6(e),n=new j6;n.update(t);const i=n.digest();return ph.encodeByteArray(i)},Sc=function(...e){let t="";for(let n=0;n<e.length;n++){const i=e[n];Array.isArray(i)||i&&typeof i=="object"&&typeof i.length=="number"?t+=Sc.apply(null,i):typeof i=="object"?t+=En(i):t+=i,t+=" "}return t};let cu=null,SC=!0;const Hq=function(e,t){xe(!t,"Can't turn on custom loggers persistently."),xa.logLevel=it.VERBOSE,cu=xa.log.bind(xa)},Bn=function(...e){if(SC===!0&&(SC=!1,cu===null&&$q.get("logging_enabled")===!0&&Hq()),cu){const t=Sc.apply(null,e);cu(t)}},Cc=function(e){return function(...t){Bn(e,...t)}},Ng=function(...e){const t="FIREBASE INTERNAL ERROR: "+Sc(...e);xa.error(t)},Ao=function(...e){const t=`FIREBASE FATAL ERROR: ${Sc(...e)}`;throw xa.error(t),new Error(t)},fi=function(...e){const t="FIREBASE WARNING: "+Sc(...e);xa.warn(t)},jq=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&fi("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},rR=function(e){return typeof e=="number"&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},Wq=function(e){if(document.readyState==="complete")e();else{let t=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}t||(t=!0,e())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Ka="[MIN_NAME]",Po="[MAX_NAME]",pl=function(e,t){if(e===t)return 0;if(e===Ka||t===Po)return-1;if(t===Ka||e===Po)return 1;{const n=CC(e),i=CC(t);return n!==null?i!==null?n-i===0?e.length-t.length:n-i:-1:i!==null?1:e<t?-1:1}},zq=function(e,t){return e===t?0:e<t?-1:1},$l=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+En(t))},R_=function(e){if(typeof e!="object"||e===null)return En(e);const t=[];for(const i in e)t.push(i);t.sort();let n="{";for(let i=0;i<t.length;i++)i!==0&&(n+=","),n+=En(t[i]),n+=":",n+=R_(e[t[i]]);return n+="}",n},sR=function(e,t){const n=e.length;if(n<=t)return[e];const i=[];for(let r=0;r<n;r+=t)r+t>n?i.push(e.substring(r,n)):i.push(e.substring(r,r+t));return i};function Ai(e,t){for(const n in e)e.hasOwnProperty(n)&&t(n,e[n])}const oR=function(e){xe(!rR(e),"Invalid JSON number");const t=11,n=52,i=(1<<t-1)-1;let r,s,o,a,l;e===0?(s=0,o=0,r=1/e===-1/0?1:0):(r=e<0,e=Math.abs(e),e>=Math.pow(2,1-i)?(a=Math.min(Math.floor(Math.log(e)/Math.LN2),i),s=a+i,o=Math.round(e*Math.pow(2,n-a)-Math.pow(2,n))):(s=0,o=Math.round(e/Math.pow(2,1-i-n))));const u=[];for(l=n;l;l-=1)u.push(o%2?1:0),o=Math.floor(o/2);for(l=t;l;l-=1)u.push(s%2?1:0),s=Math.floor(s/2);u.push(r?1:0),u.reverse();const c=u.join("");let d="";for(l=0;l<64;l+=8){let h=parseInt(c.substr(l,8),2).toString(16);h.length===1&&(h="0"+h),d=d+h}return d.toLowerCase()},qq=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},Gq=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"},Kq=new RegExp("^-?(0*)\\d{1,10}$"),Yq=-2147483648,Qq=2147483647,CC=function(e){if(Kq.test(e)){const t=Number(e);if(t>=Yq&&t<=Qq)return t}return null},Ic=function(e){try{e()}catch(t){setTimeout(()=>{const n=t.stack||"";throw fi("Exception was thrown by user callback.",n),t},Math.floor(0))}},Xq=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},du=function(e,t){const n=setTimeout(e,t);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jq{constructor(t,n){this.appName_=t,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(i=>this.appCheck=i)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((n,i)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(n,i):n(null)},0)})}addTokenChangeListener(t){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(i=>i.addTokenListener(t))}notifyForInvalidToken(){fi(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zq{constructor(t,n,i){this.appName_=t,this.firebaseOptions_=n,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(r=>this.auth_=r)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(n=>n&&n.code==="auth/token-not-initialized"?(Bn("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,i)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(n,i):n(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(n=>n.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(n=>n.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',fi(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V_="5",aR="v",lR="s",uR="r",cR="f",dR=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,fR="ls",hR="p",Og="ac",mR="websocket",vR="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eG{constructor(t,n,i,r,s=!1,o="",a=!1,l=!1){this.secure=n,this.namespace=i,this.webSocketOnly=r,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=so.get("host:"+t)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&so.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){const t=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${t}${this.host}/${n}`}}function tG(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams}function gR(e,t,n){xe(typeof t=="string","typeof type must == string"),xe(typeof n=="object","typeof params must == object");let i;if(t===mR)i=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else if(t===vR)i=(e.secure?"https://":"http://")+e.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+t);tG(e)&&(n.ns=e.namespace);const r=[];return Ai(n,(s,o)=>{r.push(s+"="+o)}),i+r.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nG{constructor(){this.counters_={}}incrementCounter(t,n=1){Yr(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=n}get(){return I6(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hm={},jm={};function D_(e){const t=e.toString();return Hm[t]||(Hm[t]=new nG),Hm[t]}function iG(e,t){const n=e.toString();return jm[n]||(jm[n]=t()),jm[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rG{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,n){this.closeAfterResponse=t,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,n){for(this.pendingResponses[t]=n;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<i.length;++r)i[r]&&Ic(()=>{this.onMessage_(i[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IC="start",sG="close",oG="pLPCommand",aG="pRTLPCB",pR="id",yR="pw",_R="ser",lG="cb",uG="seg",cG="ts",dG="d",fG="dframe",bR=1870,wR=30,hG=bR-wR,mG=25e3,vG=3e4;class ba{constructor(t,n,i,r,s,o,a){this.connId=t,this.repoInfo=n,this.applicationId=i,this.appCheckToken=r,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Cc(t),this.stats_=D_(n),this.urlFn=l=>(this.appCheckToken&&(l[Og]=this.appCheckToken),gR(n,vR,l))}open(t,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new rG(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(vG)),Wq(()=>{if(this.isClosed_)return;this.scriptTagHolder=new N_((...s)=>{const[o,a,l,u,c]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===IC)this.id=a,this.password=l;else if(o===sG)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{const[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const i={};i[IC]="t",i[_R]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(i[lG]=this.scriptTagHolder.uniqueCallbackIdentifier),i[aR]=V_,this.transportSessionId&&(i[lR]=this.transportSessionId),this.lastSessionId&&(i[fR]=this.lastSessionId),this.applicationId&&(i[hR]=this.applicationId),this.appCheckToken&&(i[Og]=this.appCheckToken),typeof location<"u"&&location.hostname&&dR.test(location.hostname)&&(i[uR]=cR);const r=this.urlFn(i);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){ba.forceAllow_=!0}static forceDisallow(){ba.forceDisallow_=!0}static isAvailable(){return ba.forceAllow_?!0:!ba.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!qq()&&!Gq()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const n=En(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const i=A1(n),r=sR(i,hG);for(let s=0;s<r.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[s]),this.curSegmentNum++}addDisconnectPingFrame(t,n){this.myDisconnFrame=document.createElement("iframe");const i={};i[fG]="t",i[pR]=t,i[yR]=n,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const n=En(t).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class N_{constructor(t,n,i,r){this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=Uq(),window[oG+this.uniqueCallbackIdentifier]=t,window[aG+this.uniqueCallbackIdentifier]=n,this.myIFrame=N_.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){Bn("frame writing exception"),a.stack&&Bn(a.stack),Bn(a)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",document.body){document.body.appendChild(t);try{t.contentWindow.document||Bn("No IE domain setting required")}catch{const i=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,n){for(this.myID=t,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t[pR]=this.myID,t[yR]=this.myPW,t[_R]=this.currentSerial;let n=this.urlFn(t),i="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+wR+i.length<=bR;){const o=this.pendingSegs.shift();i=i+"&"+uG+r+"="+o.seg+"&"+cG+r+"="+o.ts+"&"+dG+r+"="+o.d,r++}return n=n+i,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(t,n,i){this.pendingSegs.push({seg:t,ts:n,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(t,n){this.outstandingRequests.add(n);const i=()=>{this.outstandingRequests.delete(n),this.newRequest_()},r=setTimeout(i,Math.floor(mG)),s=()=>{clearTimeout(r),i()};this.addTag(t,s)}addTag(t,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=t,i.onload=i.onreadystatechange=function(){const r=i.readyState;(!r||r==="loaded"||r==="complete")&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),n())},i.onerror=()=>{Bn("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gG=16384,pG=45e3;let mf=null;typeof MozWebSocket<"u"?mf=MozWebSocket:typeof WebSocket<"u"&&(mf=WebSocket);class Ri{constructor(t,n,i,r,s,o,a){this.connId=t,this.applicationId=i,this.appCheckToken=r,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Cc(this.connId),this.stats_=D_(n),this.connURL=Ri.connectionURL_(n,o,a,r,i),this.nodeAdmin=n.nodeAdmin}static connectionURL_(t,n,i,r,s){const o={};return o[aR]=V_,typeof location<"u"&&location.hostname&&dR.test(location.hostname)&&(o[uR]=cR),n&&(o[lR]=n),i&&(o[fR]=i),r&&(o[Og]=r),s&&(o[hR]=s),gR(t,mR,o)}open(t,n){this.onDisconnect=n,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,so.set("previous_websocket_failure",!0);try{let i;N1(),this.mySock=new mf(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const r=i.message||i.data;r&&this.log_(r),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const r=i.message||i.data;r&&this.log_(r),this.onClosed_()}}start(){}static forceDisallow(){Ri.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(n);i&&i.length>1&&parseFloat(i[1])<4.4&&(t=!0)}return!t&&mf!==null&&!Ri.forceDisallow_}static previouslyFailed(){return so.isInMemoryStorage||so.get("previous_websocket_failure")===!0}markConnectionHealthy(){so.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const i=Uu(n);this.onMessage(i)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if(xe(this.frames===null,"We already have a frame buffer"),t.length<=6){const n=Number(t);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(this.mySock===null)return;const n=t.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const i=this.extractFrameCount_(n);i!==null&&this.appendFrame_(i)}}send(t){this.resetKeepAlive();const n=En(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const i=sR(n,gG);i.length>1&&this.sendString_(String(i.length));for(let r=0;r<i.length;r++)this.sendString_(i[r])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(pG))}sendString_(t){try{this.mySock.send(t)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Ri.responsesRequiredToBeHealthy=2;Ri.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xu{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[ba,Ri]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(t){const n=Ri&&Ri.isAvailable();let i=n&&!Ri.previouslyFailed();if(t.webSocketOnly&&(n||fi("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[Ri];else{const r=this.transports_=[];for(const s of Xu.ALL_TRANSPORTS)s&&s.isAvailable()&&r.push(s);Xu.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Xu.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yG=6e4,_G=5e3,bG=10*1024,wG=100*1024,Wm="t",kC="d",SG="s",EC="r",CG="e",TC="o",AC="a",PC="n",xC="p",IG="h";class kG{constructor(t,n,i,r,s,o,a,l,u,c){this.id=t,this.repoInfo_=n,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=u,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Cc("c:"+this.id+":"),this.transportManager_=new Xu(n),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,i)},Math.floor(0));const r=t.healthyTimeout||0;r>0&&(this.healthyTimeout_=du(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>wG?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>bG?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return n=>{t===this.conn_?this.onConnectionLost_(n):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return n=>{this.state_!==2&&(t===this.rx_?this.onPrimaryMessageReceived_(n):t===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(t){const n={t:"d",d:t};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if(Wm in t){const n=t[Wm];n===AC?this.upgradeIfSecondaryHealthy_():n===EC?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===TC&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const n=$l("t",t),i=$l("d",t);if(n==="c")this.onSecondaryControl_(i);else if(n==="d")this.pendingDataMessages.push(i);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:xC,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:AC,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:PC,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const n=$l("t",t),i=$l("d",t);n==="c"?this.onControl_(i):n==="d"&&this.onDataMessage_(i)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const n=$l(Wm,t);if(kC in t){const i=t[kC];if(n===IG){const r=Object.assign({},i);this.repoInfo_.isUsingEmulator&&(r.h=this.repoInfo_.host),this.onHandshake_(r)}else if(n===PC){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===SG?this.onConnectionShutdown_(i):n===EC?this.onReset_(i):n===CG?Ng("Server Error: "+i):n===TC?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Ng("Unknown control packet command: "+n)}}onHandshake_(t){const n=t.ts,i=t.v,r=t.h;this.sessionId=t.s,this.repoInfo_.host=r,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),V_!==i&&fi("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,i),du(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(yG))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,n){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):du(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(_G))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:xC,d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,!t&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(so.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(t)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SR{put(t,n,i,r){}merge(t,n,i,r){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,n,i){}onDisconnectMerge(t,n,i){}onDisconnectCancel(t,n){}reportStats(t){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CR{constructor(t){this.allowedEvents_=t,this.listeners_={},xe(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...n){if(Array.isArray(this.listeners_[t])){const i=[...this.listeners_[t]];for(let r=0;r<i.length;r++)i[r].callback.apply(i[r].context,n)}}on(t,n,i){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:n,context:i});const r=this.getInitialEvent(t);r&&n.apply(i,r)}off(t,n,i){this.validateEventType_(t);const r=this.listeners_[t]||[];for(let s=0;s<r.length;s++)if(r[s].callback===n&&(!i||i===r[s].context)){r.splice(s,1);return}}validateEventType_(t){xe(this.allowedEvents_.find(n=>n===t),"Unknown event: "+t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vf extends CR{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Py()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new vf}getInitialEvent(t){return xe(t==="online","Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RC=32,VC=768;class jt{constructor(t,n){if(n===void 0){this.pieces_=t.split("/");let i=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}toString(){let t="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(t+="/"+this.pieces_[n]);return t||"/"}}function Tt(){return new jt("")}function ut(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function Ds(e){return e.pieces_.length-e.pieceNum_}function Bt(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new jt(e.pieces_,t)}function IR(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function EG(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)e.pieces_[n]!==""&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}function kR(e,t=0){return e.pieces_.slice(e.pieceNum_+t)}function ER(e){if(e.pieceNum_>=e.pieces_.length)return null;const t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new jt(t,0)}function pn(e,t){const n=[];for(let i=e.pieceNum_;i<e.pieces_.length;i++)n.push(e.pieces_[i]);if(t instanceof jt)for(let i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);else{const i=t.split("/");for(let r=0;r<i.length;r++)i[r].length>0&&n.push(i[r])}return new jt(n,0)}function ot(e){return e.pieceNum_>=e.pieces_.length}function ki(e,t){const n=ut(e),i=ut(t);if(n===null)return t;if(n===i)return ki(Bt(e),Bt(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function TR(e,t){if(Ds(e)!==Ds(t))return!1;for(let n=e.pieceNum_,i=t.pieceNum_;n<=e.pieces_.length;n++,i++)if(e.pieces_[n]!==t.pieces_[i])return!1;return!0}function Di(e,t){let n=e.pieceNum_,i=t.pieceNum_;if(Ds(e)>Ds(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[i])return!1;++n,++i}return!0}class TG{constructor(t,n){this.errorPrefix_=n,this.parts_=kR(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=_h(this.parts_[i]);AR(this)}}function AG(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=_h(t),AR(e)}function PG(e){const t=e.parts_.pop();e.byteLength_-=_h(t),e.parts_.length>0&&(e.byteLength_-=1)}function AR(e){if(e.byteLength_>VC)throw new Error(e.errorPrefix_+"has a key path longer than "+VC+" bytes ("+e.byteLength_+").");if(e.parts_.length>RC)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+RC+") or object contains a cycle "+Zs(e))}function Zs(e){return e.parts_.length===0?"":"in property '"+e.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O_ extends CR{constructor(){super(["visible"]);let t,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const i=!document[t];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new O_}getInitialEvent(t){return xe(t==="visible","Unknown event type: "+t),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ul=1e3,xG=60*5*1e3,DC=30*1e3,RG=1.3,VG=3e4,DG="server_kill",NC=3;class Or extends SR{constructor(t,n,i,r,s,o,a,l){if(super(),this.repoInfo_=t,this.applicationId_=n,this.onDataUpdate_=i,this.onConnectStatus_=r,this.onServerInfoUpdate_=s,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=Or.nextPersistentConnectionId_++,this.log_=Cc("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Ul,this.maxReconnectDelay_=xG,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!N1())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");O_.getInstance().on("visible",this.onVisible_,this),t.host.indexOf("fblocal")===-1&&vf.getInstance().on("online",this.onOnline_,this)}sendRequest(t,n,i){const r=++this.requestNumber_,s={r,a:t,b:n};this.log_(En(s)),xe(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),i&&(this.requestCBHash_[r]=i)}get(t){this.initConnection_();const n=new $u,r={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:o=>{const a=o.d;o.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(r),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(t,n,i,r){this.initConnection_();const s=t._queryIdentifier,o=t._path.toString();this.log_("Listen called for "+o+" "+s),this.listens.has(o)||this.listens.set(o,new Map),xe(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),xe(!this.listens.get(o).has(s),"listen() called twice for same path/queryId.");const a={onComplete:r,hashFn:n,query:t,tag:i};this.listens.get(o).set(s,a),this.connected_&&this.sendListen_(a)}sendGet_(t){const n=this.outstandingGets_[t];this.sendRequest("g",n.request,i=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(i)})}sendListen_(t){const n=t.query,i=n._path.toString(),r=n._queryIdentifier;this.log_("Listen on "+i+" for "+r);const s={p:i},o="q";t.tag&&(s.q=n._queryObject,s.t=t.tag),s.h=t.hashFn(),this.sendRequest(o,s,a=>{const l=a.d,u=a.s;Or.warnOnListenWarnings_(l,n),(this.listens.get(i)&&this.listens.get(i).get(r))===t&&(this.log_("listen response",a),u!=="ok"&&this.removeListen_(i,r),t.onComplete&&t.onComplete(u,l))})}static warnOnListenWarnings_(t,n){if(t&&typeof t=="object"&&Yr(t,"w")){const i=Ba(t,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const r='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();fi(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${r} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&t.length===40||H6(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=DC)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,n=U6(t)?"auth":"gauth",i={cred:t};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(n,i,r=>{const s=r.s,o=r.d||"error";this.authToken_===t&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const n=t.s,i=t.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,i)})}unlisten(t,n){const i=t._path.toString(),r=t._queryIdentifier;this.log_("Unlisten called for "+i+" "+r),xe(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,r)&&this.connected_&&this.sendUnlisten_(i,r,t._queryObject,n)}sendUnlisten_(t,n,i,r){this.log_("Unlisten on "+t+" for "+n);const s={p:t},o="n";r&&(s.q=i,s.t=r),this.sendRequest(o,s)}onDisconnectPut(t,n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,n,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:n,onComplete:i})}onDisconnectMerge(t,n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,n,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:n,onComplete:i})}onDisconnectCancel(t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(t,n,i,r){const s={p:n,d:i};this.log_("onDisconnect "+t,s),this.sendRequest(t,s,o=>{r&&setTimeout(()=>{r(o.s,o.d)},Math.floor(0))})}put(t,n,i,r){this.putInternal("p",t,n,i,r)}merge(t,n,i,r){this.putInternal("m",t,n,i,r)}putInternal(t,n,i,r,s){this.initConnection_();const o={p:n,d:i};s!==void 0&&(o.h=s),this.outstandingPuts_.push({action:t,request:o,onComplete:r}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(t){const n=this.outstandingPuts_[t].action,i=this.outstandingPuts_[t].request,r=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(n,i,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[t],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),r&&r(s.s,s.d)})}reportStats(t){if(this.connected_){const n={c:t};this.log_("reportStats",n),this.sendRequest("s",n,i=>{if(i.s!=="ok"){const s=i.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+En(t));const n=t.r,i=this.requestCBHash_[n];i&&(delete this.requestCBHash_[n],i(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,n){this.log_("handleServerMessage",t,n),t==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):t==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):t==="c"?this.onListenRevoked_(n.p,n.q):t==="ac"?this.onAuthRevoked_(n.s,n.d):t==="apc"?this.onAppCheckRevoked_(n.s,n.d):t==="sd"?this.onSecurityDebugPacket_(n):Ng("Unrecognized action received from server: "+En(t)+`
Are you using the latest client?`)}onReady_(t,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(t),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){xe(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Ul,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=Ul,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>VG&&(this.reconnectDelay_=Ul),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const t=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-t);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*RG)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const t=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),r=this.id+":"+Or.nextConnectionId_++,s=this.lastSessionId;let o=!1,a=null;const l=function(){a?a.close():(o=!0,i())},u=function(d){xe(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(d)};this.realtime_={close:l,sendRequest:u};const c=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[d,h]=await Promise.all([this.authTokenProvider_.getToken(c),this.appCheckTokenProvider_.getToken(c)]);o?Bn("getToken() completed but was canceled"):(Bn("getToken() completed. Creating connection."),this.authToken_=d&&d.accessToken,this.appCheckToken_=h&&h.token,a=new kG(r,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,n,i,v=>{fi(v+" ("+this.repoInfo_.toString()+")"),this.interrupt(DG)},s))}catch(d){this.log_("Failed to get token: "+d),o||(this.repoInfo_.nodeAdmin&&fi(d),l())}}}interrupt(t){Bn("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){Bn("Resuming connection for reason: "+t),delete this.interruptReasons_[t],ag(this.interruptReasons_)&&(this.reconnectDelay_=Ul,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const n=t-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const n=this.outstandingPuts_[t];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(t,n){let i;n?i=n.map(s=>R_(s)).join("$"):i="default";const r=this.removeListen_(t,i);r&&r.onComplete&&r.onComplete("permission_denied")}removeListen_(t,n){const i=new jt(t).toString();let r;if(this.listens.has(i)){const s=this.listens.get(i);r=s.get(n),s.delete(n),s.size===0&&this.listens.delete(i)}else r=void 0;return r}onAuthRevoked_(t,n){Bn("Auth token revoked: "+t+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(t==="invalid_token"||t==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=NC&&(this.reconnectDelay_=DC,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,n){Bn("App check token revoked: "+t+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(t==="invalid_token"||t==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=NC&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const n of t.values())this.sendListen_(n);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let n="js";t["sdk."+n+"."+tR.replace(/\./g,"-")]=1,Py()?t["framework.cordova"]=1:D1()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=vf.getInstance().currentlyOnline();return ag(this.interruptReasons_)&&t}}Or.nextPersistentConnectionId_=0;Or.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(t,n){this.name=t,this.node=n}static Wrap(t,n){return new ct(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,n){const i=new ct(Ka,t),r=new ct(Ka,n);return this.compare(i,r)!==0}minPost(){return ct.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ud;class PR extends Fh{static get __EMPTY_NODE(){return ud}static set __EMPTY_NODE(t){ud=t}compare(t,n){return pl(t.name,n.name)}isDefinedOn(t){throw al("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,n){return!1}minPost(){return ct.MIN}maxPost(){return new ct(Po,ud)}makePost(t,n){return xe(typeof t=="string","KeyIndex indexValue must always be a string."),new ct(t,ud)}toString(){return".key"}}const Ra=new PR;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cd{constructor(t,n,i,r,s=null){this.isReverse_=r,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!t.isEmpty();)if(t=t,o=n?i(t.key,n):1,r&&(o*=-1),o<0)this.isReverse_?t=t.left:t=t.right;else if(o===0){this.nodeStack_.push(t);break}else this.nodeStack_.push(t),this.isReverse_?t=t.right:t=t.left}getNext(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(t.key,t.value):n={key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}class vn{constructor(t,n,i,r,s){this.key=t,this.value=n,this.color=i??vn.RED,this.left=r??ri.EMPTY_NODE,this.right=s??ri.EMPTY_NODE}copy(t,n,i,r,s){return new vn(t??this.key,n??this.value,i??this.color,r??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,i){let r=this;const s=i(t,r.key);return s<0?r=r.copy(null,null,null,r.left.insert(t,n,i),null):s===0?r=r.copy(null,n,null,null,null):r=r.copy(null,null,null,null,r.right.insert(t,n,i)),r.fixUp_()}removeMin_(){if(this.left.isEmpty())return ri.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,n){let i,r;if(i=this,n(t,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),n(t,i.key)===0){if(i.right.isEmpty())return ri.EMPTY_NODE;r=i.right.min_(),i=i.copy(r.key,r.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,vn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,vn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}vn.RED=!0;vn.BLACK=!1;class NG{copy(t,n,i,r,s){return this}insert(t,n,i){return new vn(t,n,null)}remove(t,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class ri{constructor(t,n=ri.EMPTY_NODE){this.comparator_=t,this.root_=n}insert(t,n){return new ri(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,vn.BLACK,null,null))}remove(t){return new ri(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,vn.BLACK,null,null))}get(t){let n,i=this.root_;for(;!i.isEmpty();){if(n=this.comparator_(t,i.key),n===0)return i.value;n<0?i=i.left:n>0&&(i=i.right)}return null}getPredecessorKey(t){let n,i=this.root_,r=null;for(;!i.isEmpty();)if(n=this.comparator_(t,i.key),n===0){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}else n<0?i=i.left:n>0&&(r=i,i=i.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new cd(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,n){return new cd(this.root_,t,this.comparator_,!1,n)}getReverseIteratorFrom(t,n){return new cd(this.root_,t,this.comparator_,!0,n)}getReverseIterator(t){return new cd(this.root_,null,this.comparator_,!0,t)}}ri.EMPTY_NODE=new NG;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OG(e,t){return pl(e.name,t.name)}function M_(e,t){return pl(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mg;function MG(e){Mg=e}const xR=function(e){return typeof e=="number"?"number:"+oR(e):"string:"+e},RR=function(e){if(e.isLeafNode()){const t=e.val();xe(typeof t=="string"||typeof t=="number"||typeof t=="object"&&Yr(t,".sv"),"Priority must be a string or number.")}else xe(e===Mg||e.isEmpty(),"priority of unexpected type.");xe(e===Mg||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let OC;class hn{constructor(t,n=hn.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=n,this.lazyHash_=null,xe(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),RR(this.priorityNode_)}static set __childrenNodeConstructor(t){OC=t}static get __childrenNodeConstructor(){return OC}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new hn(this.value_,t)}getImmediateChild(t){return t===".priority"?this.priorityNode_:hn.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return ot(t)?this:ut(t)===".priority"?this.priorityNode_:hn.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,n){return null}updateImmediateChild(t,n){return t===".priority"?this.updatePriority(n):n.isEmpty()&&t!==".priority"?this:hn.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)}updateChild(t,n){const i=ut(t);return i===null?n:n.isEmpty()&&i!==".priority"?this:(xe(i!==".priority"||Ds(t)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,hn.__childrenNodeConstructor.EMPTY_NODE.updateChild(Bt(t),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,n){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+xR(this.priorityNode_.val())+":");const n=typeof this.value_;t+=n+":",n==="number"?t+=oR(this.value_):t+=this.value_,this.lazyHash_=iR(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===hn.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof hn.__childrenNodeConstructor?-1:(xe(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const n=typeof t.value_,i=typeof this.value_,r=hn.VALUE_TYPE_ORDER.indexOf(n),s=hn.VALUE_TYPE_ORDER.indexOf(i);return xe(r>=0,"Unknown leaf type: "+n),xe(s>=0,"Unknown leaf type: "+i),r===s?i==="object"?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:s-r}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const n=t;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}hn.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let VR,DR;function LG(e){VR=e}function FG(e){DR=e}class BG extends Fh{compare(t,n){const i=t.node.getPriority(),r=n.node.getPriority(),s=i.compareTo(r);return s===0?pl(t.name,n.name):s}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,n){return!t.getPriority().equals(n.getPriority())}minPost(){return ct.MIN}maxPost(){return new ct(Po,new hn("[PRIORITY-POST]",DR))}makePost(t,n){const i=VR(t);return new ct(n,new hn("[PRIORITY-POST]",i))}toString(){return".priority"}}const Wn=new BG;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $G=Math.log(2);class UG{constructor(t){const n=s=>parseInt(Math.log(s)/$G,10),i=s=>parseInt(Array(s+1).join("1"),2);this.count=n(t+1),this.current_=this.count-1;const r=i(this.count);this.bits_=t+1&r}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const gf=function(e,t,n,i){e.sort(t);const r=function(l,u){const c=u-l;let d,h;if(c===0)return null;if(c===1)return d=e[l],h=n?n(d):d,new vn(h,d.node,vn.BLACK,null,null);{const v=parseInt(c/2,10)+l,g=r(l,v),p=r(v+1,u);return d=e[v],h=n?n(d):d,new vn(h,d.node,vn.BLACK,g,p)}},s=function(l){let u=null,c=null,d=e.length;const h=function(g,p){const y=d-g,w=d;d-=g;const C=r(y+1,w),x=e[y],A=n?n(x):x;v(new vn(A,x.node,p,null,C))},v=function(g){u?(u.left=g,u=g):(c=g,u=g)};for(let g=0;g<l.count;++g){const p=l.nextBitIsOne(),y=Math.pow(2,l.count-(g+1));p?h(y,vn.BLACK):(h(y,vn.BLACK),h(y,vn.RED))}return c},o=new UG(e.length),a=s(o);return new ri(i||t,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zm;const ca={};class Vr{constructor(t,n){this.indexes_=t,this.indexSet_=n}static get Default(){return xe(ca&&Wn,"ChildrenNode.ts has not been loaded"),zm=zm||new Vr({".priority":ca},{".priority":Wn}),zm}get(t){const n=Ba(this.indexes_,t);if(!n)throw new Error("No index defined for "+t);return n instanceof ri?n:null}hasIndex(t){return Yr(this.indexSet_,t.toString())}addIndex(t,n){xe(t!==Ra,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let r=!1;const s=n.getIterator(ct.Wrap);let o=s.getNext();for(;o;)r=r||t.isDefinedOn(o.node),i.push(o),o=s.getNext();let a;r?a=gf(i,t.getCompare()):a=ca;const l=t.toString(),u=Object.assign({},this.indexSet_);u[l]=t;const c=Object.assign({},this.indexes_);return c[l]=a,new Vr(c,u)}addToIndexes(t,n){const i=Qd(this.indexes_,(r,s)=>{const o=Ba(this.indexSet_,s);if(xe(o,"Missing index implementation for "+s),r===ca)if(o.isDefinedOn(t.node)){const a=[],l=n.getIterator(ct.Wrap);let u=l.getNext();for(;u;)u.name!==t.name&&a.push(u),u=l.getNext();return a.push(t),gf(a,o.getCompare())}else return ca;else{const a=n.get(t.name);let l=r;return a&&(l=l.remove(new ct(t.name,a))),l.insert(t,t.node)}});return new Vr(i,this.indexSet_)}removeFromIndexes(t,n){const i=Qd(this.indexes_,r=>{if(r===ca)return r;{const s=n.get(t.name);return s?r.remove(new ct(t.name,s)):r}});return new Vr(i,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hl;class Ct{constructor(t,n,i){this.children_=t,this.priorityNode_=n,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&RR(this.priorityNode_),this.children_.isEmpty()&&xe(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Hl||(Hl=new Ct(new ri(M_),null,Vr.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Hl}updatePriority(t){return this.children_.isEmpty()?this:new Ct(this.children_,t,this.indexMap_)}getImmediateChild(t){if(t===".priority")return this.getPriority();{const n=this.children_.get(t);return n===null?Hl:n}}getChild(t){const n=ut(t);return n===null?this:this.getImmediateChild(n).getChild(Bt(t))}hasChild(t){return this.children_.get(t)!==null}updateImmediateChild(t,n){if(xe(n,"We should always be passing snapshot nodes"),t===".priority")return this.updatePriority(n);{const i=new ct(t,n);let r,s;n.isEmpty()?(r=this.children_.remove(t),s=this.indexMap_.removeFromIndexes(i,this.children_)):(r=this.children_.insert(t,n),s=this.indexMap_.addToIndexes(i,this.children_));const o=r.isEmpty()?Hl:this.priorityNode_;return new Ct(r,o,s)}}updateChild(t,n){const i=ut(t);if(i===null)return n;{xe(ut(t)!==".priority"||Ds(t)===1,".priority must be the last token in a path");const r=this.getImmediateChild(i).updateChild(Bt(t),n);return this.updateImmediateChild(i,r)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const n={};let i=0,r=0,s=!0;if(this.forEachChild(Wn,(o,a)=>{n[o]=a.val(t),i++,s&&Ct.INTEGER_REGEXP_.test(o)?r=Math.max(r,Number(o)):s=!1}),!t&&s&&r<2*i){const o=[];for(const a in n)o[a]=n[a];return o}else return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let t="";this.getPriority().isEmpty()||(t+="priority:"+xR(this.getPriority().val())+":"),this.forEachChild(Wn,(n,i)=>{const r=i.hash();r!==""&&(t+=":"+n+":"+r)}),this.lazyHash_=t===""?"":iR(t)}return this.lazyHash_}getPredecessorChildName(t,n,i){const r=this.resolveIndex_(i);if(r){const s=r.getPredecessorKey(new ct(t,n));return s?s.name:null}else return this.children_.getPredecessorKey(t)}getFirstChildName(t){const n=this.resolveIndex_(t);if(n){const i=n.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(t){const n=this.getFirstChildName(t);return n?new ct(n,this.children_.get(n)):null}getLastChildName(t){const n=this.resolveIndex_(t);if(n){const i=n.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(t){const n=this.getLastChildName(t);return n?new ct(n,this.children_.get(n)):null}forEachChild(t,n){const i=this.resolveIndex_(t);return i?i.inorderTraversal(r=>n(r.name,r.node)):this.children_.inorderTraversal(n)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,n){const i=this.resolveIndex_(n);if(i)return i.getIteratorFrom(t,r=>r);{const r=this.children_.getIteratorFrom(t.name,ct.Wrap);let s=r.peek();for(;s!=null&&n.compare(s,t)<0;)r.getNext(),s=r.peek();return r}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,n){const i=this.resolveIndex_(n);if(i)return i.getReverseIteratorFrom(t,r=>r);{const r=this.children_.getReverseIteratorFrom(t.name,ct.Wrap);let s=r.peek();for(;s!=null&&n.compare(s,t)>0;)r.getNext(),s=r.peek();return r}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===kc?-1:0}withIndex(t){if(t===Ra||this.indexMap_.hasIndex(t))return this;{const n=this.indexMap_.addIndex(t,this.children_);return new Ct(this.children_,this.priorityNode_,n)}}isIndexed(t){return t===Ra||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const n=t;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const i=this.getIterator(Wn),r=n.getIterator(Wn);let s=i.getNext(),o=r.getNext();for(;s&&o;){if(s.name!==o.name||!s.node.equals(o.node))return!1;s=i.getNext(),o=r.getNext()}return s===null&&o===null}else return!1;else return!1}}resolveIndex_(t){return t===Ra?null:this.indexMap_.get(t.toString())}}Ct.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class HG extends Ct{constructor(){super(new ri(M_),Ct.EMPTY_NODE,Vr.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return Ct.EMPTY_NODE}isEmpty(){return!1}}const kc=new HG;Object.defineProperties(ct,{MIN:{value:new ct(Ka,Ct.EMPTY_NODE)},MAX:{value:new ct(Po,kc)}});PR.__EMPTY_NODE=Ct.EMPTY_NODE;hn.__childrenNodeConstructor=Ct;MG(kc);FG(kc);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jG=!0;function $n(e,t=null){if(e===null)return Ct.EMPTY_NODE;if(typeof e=="object"&&".priority"in e&&(t=e[".priority"]),xe(t===null||typeof t=="string"||typeof t=="number"||typeof t=="object"&&".sv"in t,"Invalid priority type found: "+typeof t),typeof e=="object"&&".value"in e&&e[".value"]!==null&&(e=e[".value"]),typeof e!="object"||".sv"in e){const n=e;return new hn(n,$n(t))}if(!(e instanceof Array)&&jG){const n=[];let i=!1;if(Ai(e,(o,a)=>{if(o.substring(0,1)!=="."){const l=$n(a);l.isEmpty()||(i=i||!l.getPriority().isEmpty(),n.push(new ct(o,l)))}}),n.length===0)return Ct.EMPTY_NODE;const s=gf(n,OG,o=>o.name,M_);if(i){const o=gf(n,Wn.getCompare());return new Ct(s,$n(t),new Vr({".priority":o},{".priority":Wn}))}else return new Ct(s,$n(t),Vr.Default)}else{let n=Ct.EMPTY_NODE;return Ai(e,(i,r)=>{if(Yr(e,i)&&i.substring(0,1)!=="."){const s=$n(r);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(i,s))}}),n.updatePriority($n(t))}}LG($n);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WG extends Fh{constructor(t){super(),this.indexPath_=t,xe(!ot(t)&&ut(t)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,n){const i=this.extractChild(t.node),r=this.extractChild(n.node),s=i.compareTo(r);return s===0?pl(t.name,n.name):s}makePost(t,n){const i=$n(t),r=Ct.EMPTY_NODE.updateChild(this.indexPath_,i);return new ct(n,r)}maxPost(){const t=Ct.EMPTY_NODE.updateChild(this.indexPath_,kc);return new ct(Po,t)}toString(){return kR(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zG extends Fh{compare(t,n){const i=t.node.compareTo(n.node);return i===0?pl(t.name,n.name):i}isDefinedOn(t){return!0}indexedValueChanged(t,n){return!t.equals(n)}minPost(){return ct.MIN}maxPost(){return ct.MAX}makePost(t,n){const i=$n(t);return new ct(n,i)}toString(){return".value"}}const qG=new zG;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GG(e){return{type:"value",snapshotNode:e}}function KG(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function YG(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function MC(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}function QG(e,t){return{type:"child_moved",snapshotNode:t,childName:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L_{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Wn}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return xe(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return xe(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Ka}hasEnd(){return this.endSet_}getIndexEndValue(){return xe(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return xe(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Po}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return xe(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Wn}copy(){const t=new L_;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function LC(e){const t={};if(e.isDefault())return t;let n;if(e.index_===Wn?n="$priority":e.index_===qG?n="$value":e.index_===Ra?n="$key":(xe(e.index_ instanceof WG,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=En(n),e.startSet_){const i=e.startAfterSet_?"startAfter":"startAt";t[i]=En(e.indexStartValue_),e.startNameSet_&&(t[i]+=","+En(e.indexStartName_))}if(e.endSet_){const i=e.endBeforeSet_?"endBefore":"endAt";t[i]=En(e.indexEndValue_),e.endNameSet_&&(t[i]+=","+En(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function FC(e){const t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;let n=e.viewFrom_;n===""&&(e.isViewFromLeft()?n="l":n="r"),t.vf=n}return e.index_!==Wn&&(t.i=e.index_.toString()),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pf extends SR{constructor(t,n,i,r){super(),this.repoInfo_=t,this.onDataUpdate_=n,this.authTokenProvider_=i,this.appCheckTokenProvider_=r,this.log_=Cc("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,n){return n!==void 0?"tag$"+n:(xe(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,n,i,r){const s=t._path.toString();this.log_("Listen called for "+s+" "+t._queryIdentifier);const o=pf.getListenId_(t,i),a={};this.listens_[o]=a;const l=LC(t._queryParams);this.restRequest_(s+".json",l,(u,c)=>{let d=c;if(u===404&&(d=null,u=null),u===null&&this.onDataUpdate_(s,d,!1,i),Ba(this.listens_,o)===a){let h;u?u===401?h="permission_denied":h="rest_error:"+u:h="ok",r(h,null)}})}unlisten(t,n){const i=pf.getListenId_(t,n);delete this.listens_[i]}get(t){const n=LC(t._queryParams),i=t._path.toString(),r=new $u;return this.restRequest_(i+".json",n,(s,o)=>{let a=o;s===404&&(a=null,s=null),s===null?(this.onDataUpdate_(i,a,!1,null),r.resolve(a)):r.reject(new Error(a))}),r.promise}refreshAuthToken(t){}restRequest_(t,n={},i){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,s])=>{r&&r.accessToken&&(n.auth=r.accessToken),s&&s.token&&(n.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+ul(n);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(i&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=Uu(a.responseText)}catch{fi("Failed to parse JSON response for "+o+": "+a.responseText)}i(null,l)}else a.status!==401&&a.status!==404&&fi("Got unsuccessful REST response for "+o+" Status: "+a.status),i(a.status);i=null}},a.open("GET",o,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XG{constructor(){this.rootNode_=Ct.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,n){this.rootNode_=this.rootNode_.updateChild(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yf(){return{value:null,children:new Map}}function NR(e,t,n){if(ot(t))e.value=n,e.children.clear();else if(e.value!==null)e.value=e.value.updateChild(t,n);else{const i=ut(t);e.children.has(i)||e.children.set(i,yf());const r=e.children.get(i);t=Bt(t),NR(r,t,n)}}function Lg(e,t,n){e.value!==null?n(t,e.value):JG(e,(i,r)=>{const s=new jt(t.toString()+"/"+i);Lg(r,s,n)})}function JG(e,t){e.children.forEach((n,i)=>{t(i,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZG{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),n=Object.assign({},t);return this.last_&&Ai(this.last_,(i,r)=>{n[i]=n[i]-r}),this.last_=t,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BC=10*1e3,eK=30*1e3,tK=5*60*1e3;class nK{constructor(t,n){this.server_=n,this.statsToReport_={},this.statsListener_=new ZG(t);const i=BC+(eK-BC)*Math.random();du(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const t=this.statsListener_.get(),n={};let i=!1;Ai(t,(r,s)=>{s>0&&Yr(this.statsToReport_,r)&&(n[r]=s,i=!0)}),i&&this.server_.reportStats(n),du(this.reportStats_.bind(this),Math.floor(Math.random()*2*tK))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Zi;(function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Zi||(Zi={}));function OR(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function MR(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function LR(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _f{constructor(t,n,i){this.path=t,this.affectedTree=n,this.revert=i,this.type=Zi.ACK_USER_WRITE,this.source=OR()}operationForChild(t){if(ot(this.path)){if(this.affectedTree.value!=null)return xe(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new jt(t));return new _f(Tt(),n,this.revert)}}else return xe(ut(this.path)===t,"operationForChild called for unrelated child."),new _f(Bt(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo{constructor(t,n,i){this.source=t,this.path=n,this.snap=i,this.type=Zi.OVERWRITE}operationForChild(t){return ot(this.path)?new xo(this.source,Tt(),this.snap.getImmediateChild(t)):new xo(this.source,Bt(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ju{constructor(t,n,i){this.source=t,this.path=n,this.children=i,this.type=Zi.MERGE}operationForChild(t){if(ot(this.path)){const n=this.children.subtree(new jt(t));return n.isEmpty()?null:n.value?new xo(this.source,Tt(),n.value):new Ju(this.source,Tt(),n)}else return xe(ut(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new Ju(this.source,Bt(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F_{constructor(t,n,i){this.node_=t,this.fullyInitialized_=n,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(ot(t))return this.isFullyInitialized()&&!this.filtered_;const n=ut(t);return this.isCompleteForChild(n)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}function iK(e,t,n,i){const r=[],s=[];return t.forEach(o=>{o.type==="child_changed"&&e.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(QG(o.childName,o.snapshotNode))}),jl(e,r,"child_removed",t,i,n),jl(e,r,"child_added",t,i,n),jl(e,r,"child_moved",s,i,n),jl(e,r,"child_changed",t,i,n),jl(e,r,"value",t,i,n),r}function jl(e,t,n,i,r,s){const o=i.filter(a=>a.type===n);o.sort((a,l)=>sK(e,a,l)),o.forEach(a=>{const l=rK(e,a,s);r.forEach(u=>{u.respondsTo(a.type)&&t.push(u.createEvent(l,e.query_))})})}function rK(e,t,n){return t.type==="value"||t.type==="child_removed"||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}function sK(e,t,n){if(t.childName==null||n.childName==null)throw al("Should only compare child_ events.");const i=new ct(t.childName,t.snapshotNode),r=new ct(n.childName,n.snapshotNode);return e.index_.compare(i,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FR(e,t){return{eventCache:e,serverCache:t}}function fu(e,t,n,i){return FR(new F_(t,n,i),e.serverCache)}function BR(e,t,n,i){return FR(e.eventCache,new F_(t,n,i))}function Fg(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function Ro(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qm;const oK=()=>(qm||(qm=new ri(zq)),qm);class Ft{constructor(t,n=oK()){this.value=t,this.children=n}static fromObject(t){let n=new Ft(null);return Ai(t,(i,r)=>{n=n.set(new jt(i),r)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,n){if(this.value!=null&&n(this.value))return{path:Tt(),value:this.value};if(ot(t))return null;{const i=ut(t),r=this.children.get(i);if(r!==null){const s=r.findRootMostMatchingPathAndValue(Bt(t),n);return s!=null?{path:pn(new jt(i),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(ot(t))return this;{const n=ut(t),i=this.children.get(n);return i!==null?i.subtree(Bt(t)):new Ft(null)}}set(t,n){if(ot(t))return new Ft(n,this.children);{const i=ut(t),s=(this.children.get(i)||new Ft(null)).set(Bt(t),n),o=this.children.insert(i,s);return new Ft(this.value,o)}}remove(t){if(ot(t))return this.children.isEmpty()?new Ft(null):new Ft(null,this.children);{const n=ut(t),i=this.children.get(n);if(i){const r=i.remove(Bt(t));let s;return r.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,r),this.value===null&&s.isEmpty()?new Ft(null):new Ft(this.value,s)}else return this}}get(t){if(ot(t))return this.value;{const n=ut(t),i=this.children.get(n);return i?i.get(Bt(t)):null}}setTree(t,n){if(ot(t))return n;{const i=ut(t),s=(this.children.get(i)||new Ft(null)).setTree(Bt(t),n);let o;return s.isEmpty()?o=this.children.remove(i):o=this.children.insert(i,s),new Ft(this.value,o)}}fold(t){return this.fold_(Tt(),t)}fold_(t,n){const i={};return this.children.inorderTraversal((r,s)=>{i[r]=s.fold_(pn(t,r),n)}),n(t,this.value,i)}findOnPath(t,n){return this.findOnPath_(t,Tt(),n)}findOnPath_(t,n,i){const r=this.value?i(n,this.value):!1;if(r)return r;if(ot(t))return null;{const s=ut(t),o=this.children.get(s);return o?o.findOnPath_(Bt(t),pn(n,s),i):null}}foreachOnPath(t,n){return this.foreachOnPath_(t,Tt(),n)}foreachOnPath_(t,n,i){if(ot(t))return this;{this.value&&i(n,this.value);const r=ut(t),s=this.children.get(r);return s?s.foreachOnPath_(Bt(t),pn(n,r),i):new Ft(null)}}foreach(t){this.foreach_(Tt(),t)}foreach_(t,n){this.children.inorderTraversal((i,r)=>{r.foreach_(pn(t,i),n)}),this.value&&n(t,this.value)}foreachChild(t){this.children.inorderTraversal((n,i)=>{i.value&&t(n,i.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li{constructor(t){this.writeTree_=t}static empty(){return new Li(new Ft(null))}}function hu(e,t,n){if(ot(t))return new Li(new Ft(n));{const i=e.writeTree_.findRootMostValueAndPath(t);if(i!=null){const r=i.path;let s=i.value;const o=ki(r,t);return s=s.updateChild(o,n),new Li(e.writeTree_.set(r,s))}else{const r=new Ft(n),s=e.writeTree_.setTree(t,r);return new Li(s)}}}function $C(e,t,n){let i=e;return Ai(n,(r,s)=>{i=hu(i,pn(t,r),s)}),i}function UC(e,t){if(ot(t))return Li.empty();{const n=e.writeTree_.setTree(t,new Ft(null));return new Li(n)}}function Bg(e,t){return Qo(e,t)!=null}function Qo(e,t){const n=e.writeTree_.findRootMostValueAndPath(t);return n!=null?e.writeTree_.get(n.path).getChild(ki(n.path,t)):null}function HC(e){const t=[],n=e.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Wn,(i,r)=>{t.push(new ct(i,r))}):e.writeTree_.children.inorderTraversal((i,r)=>{r.value!=null&&t.push(new ct(i,r.value))}),t}function Cs(e,t){if(ot(t))return e;{const n=Qo(e,t);return n!=null?new Li(new Ft(n)):new Li(e.writeTree_.subtree(t))}}function $g(e){return e.writeTree_.isEmpty()}function Ya(e,t){return $R(Tt(),e.writeTree_,t)}function $R(e,t,n){if(t.value!=null)return n.updateChild(e,t.value);{let i=null;return t.children.inorderTraversal((r,s)=>{r===".priority"?(xe(s.value!==null,"Priority writes must always be leaf nodes"),i=s.value):n=$R(pn(e,r),s,n)}),!n.getChild(e).isEmpty()&&i!==null&&(n=n.updateChild(pn(e,".priority"),i)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UR(e,t){return qR(t,e)}function aK(e,t,n,i,r){xe(i>e.lastWriteId,"Stacking an older write on top of newer ones"),r===void 0&&(r=!0),e.allWrites.push({path:t,snap:n,writeId:i,visible:r}),r&&(e.visibleWrites=hu(e.visibleWrites,t,n)),e.lastWriteId=i}function lK(e,t){for(let n=0;n<e.allWrites.length;n++){const i=e.allWrites[n];if(i.writeId===t)return i}return null}function uK(e,t){const n=e.allWrites.findIndex(a=>a.writeId===t);xe(n>=0,"removeWrite called with nonexistent writeId.");const i=e.allWrites[n];e.allWrites.splice(n,1);let r=i.visible,s=!1,o=e.allWrites.length-1;for(;r&&o>=0;){const a=e.allWrites[o];a.visible&&(o>=n&&cK(a,i.path)?r=!1:Di(i.path,a.path)&&(s=!0)),o--}if(r){if(s)return dK(e),!0;if(i.snap)e.visibleWrites=UC(e.visibleWrites,i.path);else{const a=i.children;Ai(a,l=>{e.visibleWrites=UC(e.visibleWrites,pn(i.path,l))})}return!0}else return!1}function cK(e,t){if(e.snap)return Di(e.path,t);for(const n in e.children)if(e.children.hasOwnProperty(n)&&Di(pn(e.path,n),t))return!0;return!1}function dK(e){e.visibleWrites=HR(e.allWrites,fK,Tt()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}function fK(e){return e.visible}function HR(e,t,n){let i=Li.empty();for(let r=0;r<e.length;++r){const s=e[r];if(t(s)){const o=s.path;let a;if(s.snap)Di(n,o)?(a=ki(n,o),i=hu(i,a,s.snap)):Di(o,n)&&(a=ki(o,n),i=hu(i,Tt(),s.snap.getChild(a)));else if(s.children){if(Di(n,o))a=ki(n,o),i=$C(i,a,s.children);else if(Di(o,n))if(a=ki(o,n),ot(a))i=$C(i,Tt(),s.children);else{const l=Ba(s.children,ut(a));if(l){const u=l.getChild(Bt(a));i=hu(i,Tt(),u)}}}else throw al("WriteRecord should have .snap or .children")}}return i}function jR(e,t,n,i,r){if(!i&&!r){const s=Qo(e.visibleWrites,t);if(s!=null)return s;{const o=Cs(e.visibleWrites,t);if($g(o))return n;if(n==null&&!Bg(o,Tt()))return null;{const a=n||Ct.EMPTY_NODE;return Ya(o,a)}}}else{const s=Cs(e.visibleWrites,t);if(!r&&$g(s))return n;if(!r&&n==null&&!Bg(s,Tt()))return null;{const o=function(u){return(u.visible||r)&&(!i||!~i.indexOf(u.writeId))&&(Di(u.path,t)||Di(t,u.path))},a=HR(e.allWrites,o,t),l=n||Ct.EMPTY_NODE;return Ya(a,l)}}}function hK(e,t,n){let i=Ct.EMPTY_NODE;const r=Qo(e.visibleWrites,t);if(r)return r.isLeafNode()||r.forEachChild(Wn,(s,o)=>{i=i.updateImmediateChild(s,o)}),i;if(n){const s=Cs(e.visibleWrites,t);return n.forEachChild(Wn,(o,a)=>{const l=Ya(Cs(s,new jt(o)),a);i=i.updateImmediateChild(o,l)}),HC(s).forEach(o=>{i=i.updateImmediateChild(o.name,o.node)}),i}else{const s=Cs(e.visibleWrites,t);return HC(s).forEach(o=>{i=i.updateImmediateChild(o.name,o.node)}),i}}function mK(e,t,n,i,r){xe(i||r,"Either existingEventSnap or existingServerSnap must exist");const s=pn(t,n);if(Bg(e.visibleWrites,s))return null;{const o=Cs(e.visibleWrites,s);return $g(o)?r.getChild(n):Ya(o,r.getChild(n))}}function vK(e,t,n,i){const r=pn(t,n),s=Qo(e.visibleWrites,r);if(s!=null)return s;if(i.isCompleteForChild(n)){const o=Cs(e.visibleWrites,r);return Ya(o,i.getNode().getImmediateChild(n))}else return null}function gK(e,t){return Qo(e.visibleWrites,t)}function pK(e,t,n,i,r,s,o){let a;const l=Cs(e.visibleWrites,t),u=Qo(l,Tt());if(u!=null)a=u;else if(n!=null)a=Ya(l,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){const c=[],d=o.getCompare(),h=s?a.getReverseIteratorFrom(i,o):a.getIteratorFrom(i,o);let v=h.getNext();for(;v&&c.length<r;)d(v,i)!==0&&c.push(v),v=h.getNext();return c}else return[]}function yK(){return{visibleWrites:Li.empty(),allWrites:[],lastWriteId:-1}}function Ug(e,t,n,i){return jR(e.writeTree,e.treePath,t,n,i)}function WR(e,t){return hK(e.writeTree,e.treePath,t)}function jC(e,t,n,i){return mK(e.writeTree,e.treePath,t,n,i)}function bf(e,t){return gK(e.writeTree,pn(e.treePath,t))}function _K(e,t,n,i,r,s){return pK(e.writeTree,e.treePath,t,n,i,r,s)}function B_(e,t,n){return vK(e.writeTree,e.treePath,t,n)}function zR(e,t){return qR(pn(e.treePath,t),e.writeTree)}function qR(e,t){return{treePath:e,writeTree:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bK{constructor(){this.changeMap=new Map}trackChildChange(t){const n=t.type,i=t.childName;xe(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),xe(i!==".priority","Only non-priority child changes can be tracked.");const r=this.changeMap.get(i);if(r){const s=r.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(i,MC(i,t.snapshotNode,r.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(i);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(i,YG(i,r.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(i,KG(i,t.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(i,MC(i,t.snapshotNode,r.oldSnap));else throw al("Illegal combination of changes: "+t+" occurred after "+r)}else this.changeMap.set(i,t)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wK{getCompleteChild(t){return null}getChildAfterChild(t,n,i){return null}}const GR=new wK;class $_{constructor(t,n,i=null){this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=i}getCompleteChild(t){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(t))return n.getNode().getImmediateChild(t);{const i=this.optCompleteServerCache_!=null?new F_(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return B_(this.writes_,t,i)}}getChildAfterChild(t,n,i){const r=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Ro(this.viewCache_),s=_K(this.writes_,r,n,1,i,t);return s.length===0?null:s[0]}}function SK(e,t){xe(t.eventCache.getNode().isIndexed(e.filter.getIndex()),"Event snap not indexed"),xe(t.serverCache.getNode().isIndexed(e.filter.getIndex()),"Server snap not indexed")}function CK(e,t,n,i,r){const s=new bK;let o,a;if(n.type===Zi.OVERWRITE){const u=n;u.source.fromUser?o=Hg(e,t,u.path,u.snap,i,r,s):(xe(u.source.fromServer,"Unknown source."),a=u.source.tagged||t.serverCache.isFiltered()&&!ot(u.path),o=wf(e,t,u.path,u.snap,i,r,a,s))}else if(n.type===Zi.MERGE){const u=n;u.source.fromUser?o=kK(e,t,u.path,u.children,i,r,s):(xe(u.source.fromServer,"Unknown source."),a=u.source.tagged||t.serverCache.isFiltered(),o=jg(e,t,u.path,u.children,i,r,a,s))}else if(n.type===Zi.ACK_USER_WRITE){const u=n;u.revert?o=AK(e,t,u.path,i,r,s):o=EK(e,t,u.path,u.affectedTree,i,r,s)}else if(n.type===Zi.LISTEN_COMPLETE)o=TK(e,t,n.path,i,s);else throw al("Unknown operation type: "+n.type);const l=s.getChanges();return IK(t,o,l),{viewCache:o,changes:l}}function IK(e,t,n){const i=t.eventCache;if(i.isFullyInitialized()){const r=i.getNode().isLeafNode()||i.getNode().isEmpty(),s=Fg(e);(n.length>0||!e.eventCache.isFullyInitialized()||r&&!i.getNode().equals(s)||!i.getNode().getPriority().equals(s.getPriority()))&&n.push(GG(Fg(t)))}}function KR(e,t,n,i,r,s){const o=t.eventCache;if(bf(i,n)!=null)return t;{let a,l;if(ot(n))if(xe(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const u=Ro(t),c=u instanceof Ct?u:Ct.EMPTY_NODE,d=WR(i,c);a=e.filter.updateFullNode(t.eventCache.getNode(),d,s)}else{const u=Ug(i,Ro(t));a=e.filter.updateFullNode(t.eventCache.getNode(),u,s)}else{const u=ut(n);if(u===".priority"){xe(Ds(n)===1,"Can't have a priority with additional path components");const c=o.getNode();l=t.serverCache.getNode();const d=jC(i,n,c,l);d!=null?a=e.filter.updatePriority(c,d):a=o.getNode()}else{const c=Bt(n);let d;if(o.isCompleteForChild(u)){l=t.serverCache.getNode();const h=jC(i,n,o.getNode(),l);h!=null?d=o.getNode().getImmediateChild(u).updateChild(c,h):d=o.getNode().getImmediateChild(u)}else d=B_(i,u,t.serverCache);d!=null?a=e.filter.updateChild(o.getNode(),u,d,c,r,s):a=o.getNode()}}return fu(t,a,o.isFullyInitialized()||ot(n),e.filter.filtersNodes())}}function wf(e,t,n,i,r,s,o,a){const l=t.serverCache;let u;const c=o?e.filter:e.filter.getIndexedFilter();if(ot(n))u=c.updateFullNode(l.getNode(),i,null);else if(c.filtersNodes()&&!l.isFiltered()){const v=l.getNode().updateChild(n,i);u=c.updateFullNode(l.getNode(),v,null)}else{const v=ut(n);if(!l.isCompleteForPath(n)&&Ds(n)>1)return t;const g=Bt(n),y=l.getNode().getImmediateChild(v).updateChild(g,i);v===".priority"?u=c.updatePriority(l.getNode(),y):u=c.updateChild(l.getNode(),v,y,g,GR,null)}const d=BR(t,u,l.isFullyInitialized()||ot(n),c.filtersNodes()),h=new $_(r,d,s);return KR(e,d,n,r,h,a)}function Hg(e,t,n,i,r,s,o){const a=t.eventCache;let l,u;const c=new $_(r,t,s);if(ot(n))u=e.filter.updateFullNode(t.eventCache.getNode(),i,o),l=fu(t,u,!0,e.filter.filtersNodes());else{const d=ut(n);if(d===".priority")u=e.filter.updatePriority(t.eventCache.getNode(),i),l=fu(t,u,a.isFullyInitialized(),a.isFiltered());else{const h=Bt(n),v=a.getNode().getImmediateChild(d);let g;if(ot(h))g=i;else{const p=c.getCompleteChild(d);p!=null?IR(h)===".priority"&&p.getChild(ER(h)).isEmpty()?g=p:g=p.updateChild(h,i):g=Ct.EMPTY_NODE}if(v.equals(g))l=t;else{const p=e.filter.updateChild(a.getNode(),d,g,h,c,o);l=fu(t,p,a.isFullyInitialized(),e.filter.filtersNodes())}}}return l}function WC(e,t){return e.eventCache.isCompleteForChild(t)}function kK(e,t,n,i,r,s,o){let a=t;return i.foreach((l,u)=>{const c=pn(n,l);WC(t,ut(c))&&(a=Hg(e,a,c,u,r,s,o))}),i.foreach((l,u)=>{const c=pn(n,l);WC(t,ut(c))||(a=Hg(e,a,c,u,r,s,o))}),a}function zC(e,t,n){return n.foreach((i,r)=>{t=t.updateChild(i,r)}),t}function jg(e,t,n,i,r,s,o,a){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let l=t,u;ot(n)?u=i:u=new Ft(null).setTree(n,i);const c=t.serverCache.getNode();return u.children.inorderTraversal((d,h)=>{if(c.hasChild(d)){const v=t.serverCache.getNode().getImmediateChild(d),g=zC(e,v,h);l=wf(e,l,new jt(d),g,r,s,o,a)}}),u.children.inorderTraversal((d,h)=>{const v=!t.serverCache.isCompleteForChild(d)&&h.value===null;if(!c.hasChild(d)&&!v){const g=t.serverCache.getNode().getImmediateChild(d),p=zC(e,g,h);l=wf(e,l,new jt(d),p,r,s,o,a)}}),l}function EK(e,t,n,i,r,s,o){if(bf(r,n)!=null)return t;const a=t.serverCache.isFiltered(),l=t.serverCache;if(i.value!=null){if(ot(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return wf(e,t,n,l.getNode().getChild(n),r,s,a,o);if(ot(n)){let u=new Ft(null);return l.getNode().forEachChild(Ra,(c,d)=>{u=u.set(new jt(c),d)}),jg(e,t,n,u,r,s,a,o)}else return t}else{let u=new Ft(null);return i.foreach((c,d)=>{const h=pn(n,c);l.isCompleteForPath(h)&&(u=u.set(c,l.getNode().getChild(h)))}),jg(e,t,n,u,r,s,a,o)}}function TK(e,t,n,i,r){const s=t.serverCache,o=BR(t,s.getNode(),s.isFullyInitialized()||ot(n),s.isFiltered());return KR(e,o,n,i,GR,r)}function AK(e,t,n,i,r,s){let o;if(bf(i,n)!=null)return t;{const a=new $_(i,t,r),l=t.eventCache.getNode();let u;if(ot(n)||ut(n)===".priority"){let c;if(t.serverCache.isFullyInitialized())c=Ug(i,Ro(t));else{const d=t.serverCache.getNode();xe(d instanceof Ct,"serverChildren would be complete if leaf node"),c=WR(i,d)}c=c,u=e.filter.updateFullNode(l,c,s)}else{const c=ut(n);let d=B_(i,c,t.serverCache);d==null&&t.serverCache.isCompleteForChild(c)&&(d=l.getImmediateChild(c)),d!=null?u=e.filter.updateChild(l,c,d,Bt(n),a,s):t.eventCache.getNode().hasChild(c)?u=e.filter.updateChild(l,c,Ct.EMPTY_NODE,Bt(n),a,s):u=l,u.isEmpty()&&t.serverCache.isFullyInitialized()&&(o=Ug(i,Ro(t)),o.isLeafNode()&&(u=e.filter.updateFullNode(u,o,s)))}return o=t.serverCache.isFullyInitialized()||bf(i,Tt())!=null,fu(t,u,o,e.filter.filtersNodes())}}function PK(e,t){const n=Ro(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!ot(t)&&!n.getImmediateChild(ut(t)).isEmpty())?n.getChild(t):null}function qC(e,t,n,i){t.type===Zi.MERGE&&t.source.queryId!==null&&(xe(Ro(e.viewCache_),"We should always have a full cache before handling merges"),xe(Fg(e.viewCache_),"Missing event cache, even though we have a server cache"));const r=e.viewCache_,s=CK(e.processor_,r,t,n,i);return SK(e.processor_,s.viewCache),xe(s.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=s.viewCache,xK(e,s.changes,s.viewCache.eventCache.getNode())}function xK(e,t,n,i){const r=e.eventRegistrations_;return iK(e.eventGenerator_,t,n,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let GC;function RK(e){xe(!GC,"__referenceConstructor has already been defined"),GC=e}function U_(e,t,n,i){const r=t.source.queryId;if(r!==null){const s=e.views.get(r);return xe(s!=null,"SyncTree gave us an op for an invalid query."),qC(s,t,n,i)}else{let s=[];for(const o of e.views.values())s=s.concat(qC(o,t,n,i));return s}}function H_(e,t){let n=null;for(const i of e.views.values())n=n||PK(i,t);return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let KC;function VK(e){xe(!KC,"__referenceConstructor has already been defined"),KC=e}class YC{constructor(t){this.listenProvider_=t,this.syncPointTree_=new Ft(null),this.pendingWriteTree_=yK(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function DK(e,t,n,i,r){return aK(e.pendingWriteTree_,t,n,i,r),r?$h(e,new xo(OR(),t,n)):[]}function wa(e,t,n=!1){const i=lK(e.pendingWriteTree_,t);if(uK(e.pendingWriteTree_,t)){let s=new Ft(null);return i.snap!=null?s=s.set(Tt(),!0):Ai(i.children,o=>{s=s.set(new jt(o),!0)}),$h(e,new _f(i.path,s,n))}else return[]}function Bh(e,t,n){return $h(e,new xo(MR(),t,n))}function NK(e,t,n){const i=Ft.fromObject(n);return $h(e,new Ju(MR(),t,i))}function OK(e,t,n,i){const r=JR(e,i);if(r!=null){const s=ZR(r),o=s.path,a=s.queryId,l=ki(o,t),u=new xo(LR(a),l,n);return eV(e,o,u)}else return[]}function MK(e,t,n,i){const r=JR(e,i);if(r){const s=ZR(r),o=s.path,a=s.queryId,l=ki(o,t),u=Ft.fromObject(n),c=new Ju(LR(a),l,u);return eV(e,o,c)}else return[]}function YR(e,t,n){const r=e.pendingWriteTree_,s=e.syncPointTree_.findOnPath(t,(o,a)=>{const l=ki(o,t),u=H_(a,l);if(u)return u});return jR(r,t,s,n,!0)}function $h(e,t){return QR(t,e.syncPointTree_,null,UR(e.pendingWriteTree_,Tt()))}function QR(e,t,n,i){if(ot(e.path))return XR(e,t,n,i);{const r=t.get(Tt());n==null&&r!=null&&(n=H_(r,Tt()));let s=[];const o=ut(e.path),a=e.operationForChild(o),l=t.children.get(o);if(l&&a){const u=n?n.getImmediateChild(o):null,c=zR(i,o);s=s.concat(QR(a,l,u,c))}return r&&(s=s.concat(U_(r,e,i,n))),s}}function XR(e,t,n,i){const r=t.get(Tt());n==null&&r!=null&&(n=H_(r,Tt()));let s=[];return t.children.inorderTraversal((o,a)=>{const l=n?n.getImmediateChild(o):null,u=zR(i,o),c=e.operationForChild(o);c&&(s=s.concat(XR(c,a,l,u)))}),r&&(s=s.concat(U_(r,e,i,n))),s}function JR(e,t){return e.tagToQueryMap.get(t)}function ZR(e){const t=e.indexOf("$");return xe(t!==-1&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new jt(e.substr(0,t))}}function eV(e,t,n){const i=e.syncPointTree_.get(t);xe(i,"Missing sync point for query tag that we're tracking");const r=UR(e.pendingWriteTree_,t);return U_(i,n,r,null)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j_{constructor(t){this.node_=t}getImmediateChild(t){const n=this.node_.getImmediateChild(t);return new j_(n)}node(){return this.node_}}class W_{constructor(t,n){this.syncTree_=t,this.path_=n}getImmediateChild(t){const n=pn(this.path_,t);return new W_(this.syncTree_,n)}node(){return YR(this.syncTree_,this.path_)}}const LK=function(e){return e=e||{},e.timestamp=e.timestamp||new Date().getTime(),e},QC=function(e,t,n){if(!e||typeof e!="object")return e;if(xe(".sv"in e,"Unexpected leaf node or priority contents"),typeof e[".sv"]=="string")return FK(e[".sv"],t,n);if(typeof e[".sv"]=="object")return BK(e[".sv"],t);xe(!1,"Unexpected server value: "+JSON.stringify(e,null,2))},FK=function(e,t,n){switch(e){case"timestamp":return n.timestamp;default:xe(!1,"Unexpected server value: "+e)}},BK=function(e,t,n){e.hasOwnProperty("increment")||xe(!1,"Unexpected server value: "+JSON.stringify(e,null,2));const i=e.increment;typeof i!="number"&&xe(!1,"Unexpected increment value: "+i);const r=t.node();if(xe(r!==null&&typeof r<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;const o=r.getValue();return typeof o!="number"?i:o+i},$K=function(e,t,n,i){return z_(t,new W_(n,e),i)},UK=function(e,t,n){return z_(e,new j_(t),n)};function z_(e,t,n){const i=e.getPriority().val(),r=QC(i,t.getImmediateChild(".priority"),n);let s;if(e.isLeafNode()){const o=e,a=QC(o.getValue(),t,n);return a!==o.getValue()||r!==o.getPriority().val()?new hn(a,$n(r)):e}else{const o=e;return s=o,r!==o.getPriority().val()&&(s=s.updatePriority(new hn(r))),o.forEachChild(Wn,(a,l)=>{const u=z_(l,t.getImmediateChild(a),n);u!==l&&(s=s.updateImmediateChild(a,u))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q_{constructor(t="",n=null,i={children:{},childCount:0}){this.name=t,this.parent=n,this.node=i}}function G_(e,t){let n=t instanceof jt?t:new jt(t),i=e,r=ut(n);for(;r!==null;){const s=Ba(i.node.children,r)||{children:{},childCount:0};i=new q_(r,i,s),n=Bt(n),r=ut(n)}return i}function yl(e){return e.node.value}function tV(e,t){e.node.value=t,Wg(e)}function nV(e){return e.node.childCount>0}function HK(e){return yl(e)===void 0&&!nV(e)}function Uh(e,t){Ai(e.node.children,(n,i)=>{t(new q_(n,e,i))})}function iV(e,t,n,i){n&&!i&&t(e),Uh(e,r=>{iV(r,t,!0,i)}),n&&i&&t(e)}function jK(e,t,n){let i=e.parent;for(;i!==null;){if(t(i))return!0;i=i.parent}return!1}function Ec(e){return new jt(e.parent===null?e.name:Ec(e.parent)+"/"+e.name)}function Wg(e){e.parent!==null&&WK(e.parent,e.name,e)}function WK(e,t,n){const i=HK(n),r=Yr(e.node.children,t);i&&r?(delete e.node.children[t],e.node.childCount--,Wg(e)):!i&&!r&&(e.node.children[t]=n.node,e.node.childCount++,Wg(e))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zK=/[\[\].#$\/\u0000-\u001F\u007F]/,qK=/[\[\].#$\u0000-\u001F\u007F]/,Gm=10*1024*1024,rV=function(e){return typeof e=="string"&&e.length!==0&&!zK.test(e)},GK=function(e){return typeof e=="string"&&e.length!==0&&!qK.test(e)},KK=function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),GK(e)},sV=function(e,t,n){const i=n instanceof jt?new TG(n,e):n;if(t===void 0)throw new Error(e+"contains undefined "+Zs(i));if(typeof t=="function")throw new Error(e+"contains a function "+Zs(i)+" with contents = "+t.toString());if(rR(t))throw new Error(e+"contains "+t.toString()+" "+Zs(i));if(typeof t=="string"&&t.length>Gm/3&&_h(t)>Gm)throw new Error(e+"contains a string greater than "+Gm+" utf8 bytes "+Zs(i)+" ('"+t.substring(0,50)+"...')");if(t&&typeof t=="object"){let r=!1,s=!1;if(Ai(t,(o,a)=>{if(o===".value")r=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!rV(o)))throw new Error(e+" contains an invalid key ("+o+") "+Zs(i)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);AG(i,o),sV(e,a,i),PG(i)}),r&&s)throw new Error(e+' contains ".value" child '+Zs(i)+" in addition to actual children.")}},YK=function(e,t){const n=t.path.toString();if(typeof t.repoInfo.host!="string"||t.repoInfo.host.length===0||!rV(t.repoInfo.namespace)&&t.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!KK(n))throw new Error(G6(e,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QK{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function XK(e,t){let n=null;for(let i=0;i<t.length;i++){const r=t[i],s=r.getPath();n!==null&&!TR(s,n.path)&&(e.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(r)}n&&e.eventLists_.push(n)}function Xo(e,t,n){XK(e,n),JK(e,i=>Di(i,t)||Di(t,i))}function JK(e,t){e.recursionDepth_++;let n=!0;for(let i=0;i<e.eventLists_.length;i++){const r=e.eventLists_[i];if(r){const s=r.path;t(s)?(ZK(e.eventLists_[i]),e.eventLists_[i]=null):n=!1}}n&&(e.eventLists_=[]),e.recursionDepth_--}function ZK(e){for(let t=0;t<e.events.length;t++){const n=e.events[t];if(n!==null){e.events[t]=null;const i=n.getEventRunner();cu&&Bn("event: "+n.toString()),Ic(i)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e8="repo_interrupt",t8=25;class n8{constructor(t,n,i,r){this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=i,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new QK,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=yf(),this.transactionQueueTree_=new q_,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function i8(e,t,n){if(e.stats_=D_(e.repoInfo_),e.forceRestClient_||Xq())e.server_=new pf(e.repoInfo_,(i,r,s,o)=>{XC(e,i,r,s,o)},e.authTokenProvider_,e.appCheckProvider_),setTimeout(()=>JC(e,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{En(n)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}e.persistentConnection_=new Or(e.repoInfo_,t,(i,r,s,o)=>{XC(e,i,r,s,o)},i=>{JC(e,i)},i=>{s8(e,i)},e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener(i=>{e.server_.refreshAuthToken(i)}),e.appCheckProvider_.addTokenChangeListener(i=>{e.server_.refreshAppCheckToken(i.token)}),e.statsReporter_=iG(e.repoInfo_,()=>new nK(e.stats_,e.server_)),e.infoData_=new XG,e.infoSyncTree_=new YC({startListening:(i,r,s,o)=>{let a=[];const l=e.infoData_.getNode(i._path);return l.isEmpty()||(a=Bh(e.infoSyncTree_,i._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),K_(e,"connected",!1),e.serverSyncTree_=new YC({startListening:(i,r,s,o)=>(e.server_.listen(i,s,r,(a,l)=>{const u=o(a,l);Xo(e.eventQueue_,i._path,u)}),[]),stopListening:(i,r)=>{e.server_.unlisten(i,r)}})}function r8(e){const n=e.infoData_.getNode(new jt(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function oV(e){return LK({timestamp:r8(e)})}function XC(e,t,n,i,r){e.dataUpdateCount++;const s=new jt(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let o=[];if(r)if(i){const l=Qd(n,u=>$n(u));o=MK(e.serverSyncTree_,s,l,r)}else{const l=$n(n);o=OK(e.serverSyncTree_,s,l,r)}else if(i){const l=Qd(n,u=>$n(u));o=NK(e.serverSyncTree_,s,l)}else{const l=$n(n);o=Bh(e.serverSyncTree_,s,l)}let a=s;o.length>0&&(a=Q_(e,s)),Xo(e.eventQueue_,a,o)}function JC(e,t){K_(e,"connected",t),t===!1&&a8(e)}function s8(e,t){Ai(t,(n,i)=>{K_(e,n,i)})}function K_(e,t,n){const i=new jt("/.info/"+t),r=$n(n);e.infoData_.updateSnapshot(i,r);const s=Bh(e.infoSyncTree_,i,r);Xo(e.eventQueue_,i,s)}function o8(e){return e.nextWriteId_++}function a8(e){aV(e,"onDisconnectEvents");const t=oV(e),n=yf();Lg(e.onDisconnect_,Tt(),(r,s)=>{const o=$K(r,s,e.serverSyncTree_,t);NR(n,r,o)});let i=[];Lg(n,Tt(),(r,s)=>{i=i.concat(Bh(e.serverSyncTree_,r,s));const o=d8(e,r);Q_(e,o)}),e.onDisconnect_=yf(),Xo(e.eventQueue_,Tt(),i)}function l8(e){e.persistentConnection_&&e.persistentConnection_.interrupt(e8)}function aV(e,...t){let n="";e.persistentConnection_&&(n=e.persistentConnection_.id+":"),Bn(n,...t)}function lV(e,t,n){return YR(e.serverSyncTree_,t,n)||Ct.EMPTY_NODE}function Y_(e,t=e.transactionQueueTree_){if(t||Hh(e,t),yl(t)){const n=cV(e,t);xe(n.length>0,"Sending zero length transaction queue"),n.every(r=>r.status===0)&&u8(e,Ec(t),n)}else nV(t)&&Uh(t,n=>{Y_(e,n)})}function u8(e,t,n){const i=n.map(u=>u.currentWriteId),r=lV(e,t,i);let s=r;const o=r.hash();for(let u=0;u<n.length;u++){const c=n[u];xe(c.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),c.status=1,c.retryCount++;const d=ki(t,c.path);s=s.updateChild(d,c.currentOutputSnapshotRaw)}const a=s.val(!0),l=t;e.server_.put(l.toString(),a,u=>{aV(e,"transaction put response",{path:l.toString(),status:u});let c=[];if(u==="ok"){const d=[];for(let h=0;h<n.length;h++)n[h].status=2,c=c.concat(wa(e.serverSyncTree_,n[h].currentWriteId)),n[h].onComplete&&d.push(()=>n[h].onComplete(null,!0,n[h].currentOutputSnapshotResolved)),n[h].unwatcher();Hh(e,G_(e.transactionQueueTree_,t)),Y_(e,e.transactionQueueTree_),Xo(e.eventQueue_,t,c);for(let h=0;h<d.length;h++)Ic(d[h])}else{if(u==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{fi("transaction at "+l.toString()+" failed: "+u);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=u}Q_(e,t)}},o)}function Q_(e,t){const n=uV(e,t),i=Ec(n),r=cV(e,n);return c8(e,r,i),i}function c8(e,t,n){if(t.length===0)return;const i=[];let r=[];const o=t.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<t.length;a++){const l=t[a],u=ki(n,l.path);let c=!1,d;if(xe(u!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)c=!0,d=l.abortReason,r=r.concat(wa(e.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=t8)c=!0,d="maxretry",r=r.concat(wa(e.serverSyncTree_,l.currentWriteId,!0));else{const h=lV(e,l.path,o);l.currentInputSnapshot=h;const v=t[a].update(h.val());if(v!==void 0){sV("transaction failed: Data returned ",v,l.path);let g=$n(v);typeof v=="object"&&v!=null&&Yr(v,".priority")||(g=g.updatePriority(h.getPriority()));const y=l.currentWriteId,w=oV(e),C=UK(g,h,w);l.currentOutputSnapshotRaw=g,l.currentOutputSnapshotResolved=C,l.currentWriteId=o8(e),o.splice(o.indexOf(y),1),r=r.concat(DK(e.serverSyncTree_,l.path,C,l.currentWriteId,l.applyLocally)),r=r.concat(wa(e.serverSyncTree_,y,!0))}else c=!0,d="nodata",r=r.concat(wa(e.serverSyncTree_,l.currentWriteId,!0))}Xo(e.eventQueue_,n,r),r=[],c&&(t[a].status=2,function(h){setTimeout(h,Math.floor(0))}(t[a].unwatcher),t[a].onComplete&&(d==="nodata"?i.push(()=>t[a].onComplete(null,!1,t[a].currentInputSnapshot)):i.push(()=>t[a].onComplete(new Error(d),!1,null))))}Hh(e,e.transactionQueueTree_);for(let a=0;a<i.length;a++)Ic(i[a]);Y_(e,e.transactionQueueTree_)}function uV(e,t){let n,i=e.transactionQueueTree_;for(n=ut(t);n!==null&&yl(i)===void 0;)i=G_(i,n),t=Bt(t),n=ut(t);return i}function cV(e,t){const n=[];return dV(e,t,n),n.sort((i,r)=>i.order-r.order),n}function dV(e,t,n){const i=yl(t);if(i)for(let r=0;r<i.length;r++)n.push(i[r]);Uh(t,r=>{dV(e,r,n)})}function Hh(e,t){const n=yl(t);if(n){let i=0;for(let r=0;r<n.length;r++)n[r].status!==2&&(n[i]=n[r],i++);n.length=i,tV(t,n.length>0?n:void 0)}Uh(t,i=>{Hh(e,i)})}function d8(e,t){const n=Ec(uV(e,t)),i=G_(e.transactionQueueTree_,t);return jK(i,r=>{Km(e,r)}),Km(e,i),iV(i,r=>{Km(e,r)}),n}function Km(e,t){const n=yl(t);if(n){const i=[];let r=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(xe(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(xe(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),r=r.concat(wa(e.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&i.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?tV(t,void 0):n.length=s+1,Xo(e.eventQueue_,Ec(t),r);for(let o=0;o<i.length;o++)Ic(i[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f8(e){let t="";const n=e.split("/");for(let i=0;i<n.length;i++)if(n[i].length>0){let r=n[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch{}t+="/"+r}return t}function h8(e){const t={};e.charAt(0)==="?"&&(e=e.substring(1));for(const n of e.split("&")){if(n.length===0)continue;const i=n.split("=");i.length===2?t[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):fi(`Invalid query segment '${n}' in query '${e}'`)}return t}const ZC=function(e,t){const n=m8(e),i=n.namespace;n.domain==="firebase.com"&&Ao(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||i==="undefined")&&n.domain!=="localhost"&&Ao("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||jq();const r=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new eG(n.host,n.secure,i,r,t,"",i!==n.subdomain),path:new jt(n.pathString)}},m8=function(e){let t="",n="",i="",r="",s="",o=!0,a="https",l=443;if(typeof e=="string"){let u=e.indexOf("//");u>=0&&(a=e.substring(0,u-1),e=e.substring(u+2));let c=e.indexOf("/");c===-1&&(c=e.length);let d=e.indexOf("?");d===-1&&(d=e.length),t=e.substring(0,Math.min(c,d)),c<d&&(r=f8(e.substring(c,d)));const h=h8(e.substring(Math.min(e.length,d)));u=t.indexOf(":"),u>=0?(o=a==="https"||a==="wss",l=parseInt(t.substring(u+1),10)):u=t.length;const v=t.slice(0,u);if(v.toLowerCase()==="localhost")n="localhost";else if(v.split(".").length<=2)n=v;else{const g=t.indexOf(".");i=t.substring(0,g).toLowerCase(),n=t.substring(g+1),s=i}"ns"in h&&(s=h.ns)}return{host:t,port:l,domain:n,subdomain:i,secure:o,scheme:a,pathString:r,namespace:s}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X_{constructor(t,n,i,r){this._repo=t,this._path=n,this._queryParams=i,this._orderByCalled=r}get key(){return ot(this._path)?null:IR(this._path)}get ref(){return new _l(this._repo,this._path)}get _queryIdentifier(){const t=FC(this._queryParams),n=R_(t);return n==="{}"?"default":n}get _queryObject(){return FC(this._queryParams)}isEqual(t){if(t=si(t),!(t instanceof X_))return!1;const n=this._repo===t._repo,i=TR(this._path,t._path),r=this._queryIdentifier===t._queryIdentifier;return n&&i&&r}toJSON(){return this.toString()}toString(){return this._repo.toString()+EG(this._path)}}class _l extends X_{constructor(t,n){super(t,n,new L_,!1)}get parent(){const t=ER(this._path);return t===null?null:new _l(this._repo,t)}get root(){let t=this;for(;t.parent!==null;)t=t.parent;return t}}RK(_l);VK(_l);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v8="FIREBASE_DATABASE_EMULATOR_HOST",zg={};let g8=!1;function p8(e,t,n,i,r){let s=i||e.options.databaseURL;s===void 0&&(e.options.projectId||Ao("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Bn("Using default host for project ",e.options.projectId),s=`${e.options.projectId}-default-rtdb.firebaseio.com`);let o=ZC(s,r),a=o.repoInfo,l;typeof process<"u"&&_C&&(l=_C[v8]),l?(s=`http://${l}?ns=${a.namespace}`,o=ZC(s,r),a=o.repoInfo):o.repoInfo.secure;const u=new Zq(e.name,e.options,t);YK("Invalid Firebase Database URL",o),ot(o.path)||Ao("Database URL must point to the root of a Firebase Database (not including a child path).");const c=_8(a,e,u,new Jq(e.name,n));return new b8(c,e)}function y8(e,t){const n=zg[t];(!n||n[e.key]!==e)&&Ao(`Database ${t}(${e.repoInfo_}) has already been deleted.`),l8(e),delete n[e.key]}function _8(e,t,n,i){let r=zg[t.name];r||(r={},zg[t.name]=r);let s=r[e.toURLString()];return s&&Ao("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new n8(e,g8,n,i),r[e.toURLString()]=s,s}class b8{constructor(t,n){this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(i8(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new _l(this._repo,Tt())),this._rootInternal}_delete(){return this._rootInternal!==null&&(y8(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){this._rootInternal===null&&Ao("Cannot call "+t+" on a deleted database.")}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w8(e){Lq(Us),lr(new ji("database",(t,{instanceIdentifier:n})=>{const i=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return p8(i,r,s,n)},"PUBLIC").setMultipleInstances(!0)),di(bC,wC,e),di(bC,wC,"esm2017")}Or.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)};Or.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};w8();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fV="firebasestorage.googleapis.com",S8="storageBucket",C8=2*60*1e3,I8=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr extends pr{constructor(t,n,i=0){super(Ym(t),`Firebase Storage: ${n} (${Ym(t)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,yr.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return Ym(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var cr;(function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(cr||(cr={}));function Ym(e){return"storage/"+e}function k8(){const e="An unknown error occurred, please check the error payload for server response.";return new yr(cr.UNKNOWN,e)}function E8(){return new yr(cr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function T8(){return new yr(cr.CANCELED,"User canceled the upload/download.")}function A8(e){return new yr(cr.INVALID_URL,"Invalid URL '"+e+"'.")}function P8(e){return new yr(cr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+e+"'.")}function eI(e){return new yr(cr.INVALID_ARGUMENT,e)}function hV(){return new yr(cr.APP_DELETED,"The Firebase app was deleted.")}function x8(e){return new yr(cr.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni{constructor(t,n){this.bucket=t,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,n){let i;try{i=Ni.makeFromUrl(t,n)}catch{return new Ni(t,"")}if(i.path==="")return i;throw P8(t)}static makeFromUrl(t,n){let i=null;const r="([A-Za-z0-9.\\-_]+)";function s(A){A.path.charAt(A.path.length-1)==="/"&&(A.path_=A.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+r+o,"i"),l={bucket:1,path:3};function u(A){A.path_=decodeURIComponent(A.path)}const c="v[A-Za-z0-9_]+",d=n.replace(/[.]/g,"\\."),h="(/([^?#]*).*)?$",v=new RegExp(`^https?://${d}/${c}/b/${r}/o${h}`,"i"),g={bucket:1,path:3},p=n===fV?"(?:storage.googleapis.com|storage.cloud.google.com)":n,y="([^?#]*)",w=new RegExp(`^https?://${p}/${r}/${y}`,"i"),x=[{regex:a,indices:l,postModify:s},{regex:v,indices:g,postModify:u},{regex:w,indices:{bucket:1,path:2},postModify:u}];for(let A=0;A<x.length;A++){const V=x[A],N=V.regex.exec(t);if(N){const T=N[V.indices.bucket];let b=N[V.indices.path];b||(b=""),i=new Ni(T,b),V.postModify(i);break}}if(i==null)throw A8(t);return i}}class R8{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V8(e,t,n){let i=1,r=null,s=null,o=!1,a=0;function l(){return a===2}let u=!1;function c(...y){u||(u=!0,t.apply(null,y))}function d(y){r=setTimeout(()=>{r=null,e(v,l())},y)}function h(){s&&clearTimeout(s)}function v(y,...w){if(u){h();return}if(y){h(),c.call(null,y,...w);return}if(l()||o){h(),c.call(null,y,...w);return}i<64&&(i*=2);let x;a===1?(a=2,x=0):x=(i+Math.random())*1e3,d(x)}let g=!1;function p(y){g||(g=!0,h(),!u&&(r!==null?(y||(a=2),clearTimeout(r),d(0)):y||(a=1)))}return d(0),s=setTimeout(()=>{o=!0,p(!0)},n),p}function D8(e){e(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N8(e){return e!==void 0}function tI(e,t,n,i){if(i<t)throw eI(`Invalid value for '${e}'. Expected ${t} or greater.`);if(i>n)throw eI(`Invalid value for '${e}'. Expected ${n} or less.`)}function O8(e){const t=encodeURIComponent;let n="?";for(const i in e)if(e.hasOwnProperty(i)){const r=t(i)+"="+t(e[i]);n=n+r+"&"}return n=n.slice(0,-1),n}var Sf;(function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"})(Sf||(Sf={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M8(e,t){const n=e>=500&&e<600,r=[408,429].indexOf(e)!==-1,s=t.indexOf(e)!==-1;return n||r||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L8{constructor(t,n,i,r,s,o,a,l,u,c,d,h=!0){this.url_=t,this.method_=n,this.headers_=i,this.body_=r,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=c,this.connectionFactory_=d,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((v,g)=>{this.resolve_=v,this.reject_=g,this.start_()})}start_(){const t=(i,r)=>{if(r){i(!1,new dd(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const l=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===Sf.NO_ERROR,l=s.getStatus();if(!a||M8(l,this.additionalRetryCodes_)&&this.retry){const c=s.getErrorCode()===Sf.ABORT;i(!1,new dd(!1,null,c));return}const u=this.successCodes_.indexOf(l)!==-1;i(!0,new dd(u,s))})},n=(i,r)=>{const s=this.resolve_,o=this.reject_,a=r.connection;if(r.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());N8(l)?s(l):s()}catch(l){o(l)}else if(a!==null){const l=k8();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(r.canceled){const l=this.appDelete_?hV():T8();o(l)}else{const l=E8();o(l)}};this.canceled_?n(!1,new dd(!1,null,!0)):this.backoffId_=V8(t,n,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&D8(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class dd{constructor(t,n,i){this.wasSuccessCode=t,this.connection=n,this.canceled=!!i}}function F8(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function B8(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function $8(e,t){t&&(e["X-Firebase-GMPID"]=t)}function U8(e,t){t!==null&&(e["X-Firebase-AppCheck"]=t)}function H8(e,t,n,i,r,s,o=!0){const a=O8(e.urlParams),l=e.url+a,u=Object.assign({},e.headers);return $8(u,t),F8(u,n),B8(u,s),U8(u,i),new L8(l,e.method,u,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,r,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j8(e){if(e.length===0)return null;const t=e.lastIndexOf("/");return t===-1?"":e.slice(0,t)}function W8(e){const t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cf{constructor(t,n){this._service=t,n instanceof Ni?this._location=n:this._location=Ni.makeFromUrl(n,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,n){return new Cf(t,n)}get root(){const t=new Ni(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return W8(this._location.path)}get storage(){return this._service}get parent(){const t=j8(this._location.path);if(t===null)return null;const n=new Ni(this._location.bucket,t);return new Cf(this._service,n)}_throwIfRoot(t){if(this._location.path==="")throw x8(t)}}function nI(e,t){const n=t==null?void 0:t[S8];return n==null?null:Ni.makeFromBucketSpec(n,e)}class z8{constructor(t,n,i,r,s){this.app=t,this._authProvider=n,this._appCheckProvider=i,this._url=r,this._firebaseVersion=s,this._bucket=null,this._host=fV,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=C8,this._maxUploadRetryTime=I8,this._requests=new Set,r!=null?this._bucket=Ni.makeFromBucketSpec(r,this._host):this._bucket=nI(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=Ni.makeFromBucketSpec(this._url,t):this._bucket=nI(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){tI("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){tI("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const n=await t.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new Cf(this,t)}_makeRequest(t,n,i,r,s=!0){if(this._deleted)return new R8(hV());{const o=H8(t,this._appId,i,r,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(t,n){const[i,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,n,i,r).getPromise()}}const iI="@firebase/storage",rI="0.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q8="storage";function G8(e,{instanceIdentifier:t}){const n=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),r=e.getProvider("app-check-internal");return new z8(n,i,r,t,Us)}function K8(){lr(new ji(q8,G8,"PUBLIC").setMultipleInstances(!0)),di(iI,rI,""),di(iI,rI,"esm2017")}K8();const Qm=new WeakMap;function mV(e,t){return Qm.has(t)||Qm.set(t,{f:{},r:{},s:{},u:{}}),Qm.get(t)}function Y8(e,t,n,i){if(!e)return n;const[r,s]=vV(e);if(!r)return n;const o=mV(void 0,i)[r]||{},a=t||s;return a&&a in o?o[a]:n}function Q8(e,t,n,i){if(!e)return;const[r,s]=vV(e);if(!r)return;const o=mV(void 0,i)[r],a=t||s;if(a)return n.then(l=>{o[a]=l}).catch(Ji),a}function vV(e){return Eq(e)||Tq(e)?["f",e.path]:Aq(e)?["r",e.toString()]:Pq(e)?["s",e.toString()]:[]}const Xm=new WeakMap;function X8(e,t,n){const i=Lh();Xm.has(i)||Xm.set(i,new Map);const r=Xm.get(i),s=Q8(t,n,e,i);return s&&r.set(s,e),s?()=>r.delete(s):Ji}const J8={toFirestore(e){return e},fromFirestore(e,t){return e.exists()?Object.defineProperties(e.data(t),{id:{value:e.id}}):null}};function qg(e,t,n,i){if(!Iq(e))return[e,{}];const r=[{},{}],s=Object.keys(n).reduce((a,l)=>{const u=n[l];return a[u.path]=u.data(),a},{});function o(a,l,u,c){l=l||{};const[d,h]=c;Object.getOwnPropertyNames(a).forEach(v=>{const g=Object.getOwnPropertyDescriptor(a,v);g&&!g.enumerable&&Object.defineProperty(d,v,g)});for(const v in a){const g=a[v];if(g==null||g instanceof Date||g instanceof at||g instanceof Dh)d[v]=g;else if(x_(g)){const p=u+v;d[v]=p in n?l[v]:g.path,h[p]=g.converter?g:g.withConverter(i.converter)}else if(Array.isArray(g)){d[v]=Array(g.length);for(let p=0;p<g.length;p++){const y=g[p];y&&y.path in s&&(d[v][p]=s[y.path])}o(g,l[v]||d[v],u+v+".",[d[v],h])}else Yo(g)?(d[v]={},o(g,l[v],u+v+".",[d[v],h])):d[v]=g}}return o(e,t,"",r),r}const J_={reset:!1,wait:!0,maxRefDepth:2,converter:J8,snapshotOptions:{serverTimestamps:"estimate"}};function If(e){for(const t in e)e[t].unsub()}function Gg(e,t,n,i,r,s,o,a,l){const[u,c]=qg(i.data(e.snapshotOptions),P_(t,n),r,e);s.set(t,n,u),Kg(e,t,n,r,c,s,o,a,l)}function Z8({ref:e,target:t,path:n,depth:i,resolve:r,reject:s,ops:o},a){const l=Object.create(null);let u=Ji;return a.once?fx(e).then(c=>{c.exists()?Gg(a,t,n,c,l,o,i,r,s):(o.set(t,n,null),r())}).catch(s):u=vl(e,c=>{c.exists()?Gg(a,t,n,c,l,o,i,r,s):(o.set(t,n,null),r())},s),()=>{u(),If(l)}}function Kg(e,t,n,i,r,s,o,a,l){const u=Object.keys(r);if(Object.keys(i).filter(p=>u.indexOf(p)<0).forEach(p=>{i[p].unsub(),delete i[p]}),!u.length||++o>e.maxRefDepth)return a(n);let d=0;const h=u.length,v=Object.create(null);function g(p){p in v&&++d>=h&&a(n)}u.forEach(p=>{const y=i[p],w=r[p],C=`${n}.${p}`;if(v[C]=!0,y)if(y.path!==w.path)y.unsub();else return;i[p]={data:()=>P_(t,C),unsub:Z8({ref:w,target:t,path:C,depth:o,ops:s,resolve:g.bind(null,C),reject:l},e),path:w.path}})}function e7(e,t,n,i,r,s){const o=Object.assign({},J_,s),{snapshotListenOptions:a,snapshotOptions:l,wait:u,once:c}=o,d="value";let h=j(u?[]:e.value);u||n.set(e,d,[]);const v=i;let g,p=Ji;const y=[],w={added:({newIndex:x,doc:A})=>{y.splice(x,0,Object.create(null));const V=y[x],[N,T]=qg(A.data(l),void 0,V,o);n.add(kr(h),x,N),Kg(o,h,`${d}.${x}`,V,T,n,0,i.bind(null,A),r)},modified:({oldIndex:x,newIndex:A,doc:V})=>{const N=kr(h),T=y[x],b=N[x],[_,E]=qg(V.data(l),b,T,o);y.splice(A,0,T),n.remove(N,x),n.add(N,A,_),Kg(o,h,`${d}.${A}`,T,E,n,0,i,r)},removed:({oldIndex:x})=>{const A=kr(h);n.remove(A,x),If(y.splice(x,1)[0])}};function C(x){const A=x.docChanges(a);if(!g&&A.length){g=!0;let V=0;const N=A.length,T=Object.create(null);for(let b=0;b<N;b++)T[A[b].doc.id]=!0;i=b=>{b&&b.id in T&&++V>=N&&(u&&(n.set(e,d,kr(h)),h=e),v(kr(h)),i=Ji)}}A.forEach(V=>{w[V.type](V)}),A.length||(u&&(n.set(e,d,kr(h)),h=e),i(kr(h)))}return c?n9(t).then(C).catch(r):p=vl(t,C,r),x=>{if(p(),x){const A=typeof x=="function"?x():[];n.set(e,d,A)}y.forEach(If)}}function t7(e,t,n,i,r,s){const o=Object.assign({},J_,s),a="value",l=Object.create(null);i=xq(i,()=>P_(e,a));let u=Ji;function c(d){d.exists()?Gg(o,e,a,d,l,n,0,i,r):(n.set(e,a,null),i(null))}return o.once?fx(t).then(c).catch(r):u=vl(t,c,r),d=>{if(u(),d){const h=typeof d=="function"?d():null;n.set(e,a,h)}If(l)}}const sI=Symbol();function n7(e,t){let n=Ji;const i=Object.assign({},J_,t),r=kr(e),s=i.target||j();Vq()&&(i.once=!0);const o=Y8(r,i.ssrKey,sI,Lh()),a=o!==sI;a&&(s.value=o);let l=!a;const u=j(!1),c=j(),d=ye(),h=ep();let v=Ji;function g(){let w=kr(e);const C=new Promise((x,A)=>{if(n(i.reset),!w)return n=Ji,x(null);u.value=l,l=!0,w.converter||(w=w.withConverter(i.converter)),n=(x_(w)?t7:e7)(s,w,i7,x,A,i)}).catch(x=>(d.value===C&&(c.value=x),Promise.reject(x))).finally(()=>{d.value===C&&(u.value=!1)});d.value=C}let p=Ji;(Et(e)||typeof e=="function")&&(p=he(e,g)),g(),r&&(v=X8(d.value,r,i.ssrKey)),nc()&&ek(()=>d.value),h&&_n(y);function y(w=i.reset){p(),v(),n(w)}return Object.defineProperties(s,{error:{get:()=>c},data:{get:()=>s},pending:{get:()=>u},promise:{get:()=>d},stop:{get:()=>y}})}const i7={set:(e,t,n)=>Sq(e,t,n),add:(e,t,n)=>e.splice(t,0,n),remove:(e,t)=>e.splice(t,1)};function r7(e,t){return n7(e,t)}function s7(e){return XP(Lh(e))}function o7(e){return l7({initialUser:e,dependencies:{popupRedirectResolver:Xx,persistence:[Kx,Hx,E_]}})}const a7=Symbol("VueFireAuth");function l7({dependencies:e,initialUser:t}){return(n,i)=>{const[r,s]=u7(n,i,t,e);Mq(r,s)}}function u7(e,t,n,i,r=Dx(e,i)){const s=Dq(e,t).run(()=>j(n));return Nq.set(e,s),t.provide(a7,r),[s,r]}function c7(e,{firebaseApp:t,modules:n=[]}){e.provide(eR,t);for(const i of n)i(t,e)}var Ns=(e=>(e.SCHOOLS="schools",e.STUDENTS="students",e.WEEK_LESSONS="weekLessons",e))(Ns||{});const mu={};function d7(){const e=()=>({toFirestore:n=>n,fromFirestore:n=>{const i=n.data();return i.id=n.id,i}}),t=n=>UW(s7(),n).withConverter(e());mu.schools=t("schools"),mu.students=t("students"),mu.weekLessons=t("weekLessons")}function Vo(e){return Object.keys(mu).length==0&&d7(),mu[e]}const gV=bn({__name:"SchoolEditor",props:{initialSchool:{},edit:{type:Boolean}},emits:["close","save"],setup(e,{emit:t}){const n=Vo(Ns.SCHOOLS),i=e,r=t,s=j(""),o=j(""),a=j(""),l=j(""),u=j(!1),c=j(),d=j([]),h=j(!1),v=j(!1),g=j(!1);he(()=>i.initialSchool,()=>p());function p(){if(i.initialSchool){const x=JSON.parse(JSON.stringify(i.initialSchool));s.value=x.name,o.value=x.city??"",a.value=x.email??"",l.value=x.phoneNumber??"",u.value=x.managed,c.value=x.managerOptions,d.value=x.levelRanges}}function y(x){console.log(x,JSON.stringify(x)),c.value=x,v.value=!1}function w(x){console.log(x,JSON.stringify(x)),d.value=x,h.value=!1}async function C(){var A,V,N;g.value=!0;const x={name:s.value,managed:u.value,levelRanges:d.value,city:o.value,email:a.value,phoneNumber:l.value,calendarLesson:((A=i.initialSchool)==null?void 0:A.calendarLesson)??[],createdAt:i.edit?(V=i.initialSchool)==null?void 0:V.createdAt:at.now(),updatedAt:at.now()};u.value&&(x.managerOptions=c.value),s.value="",o.value="",a.value="",l.value="",u.value=!1,d.value=[],c.value=void 0;try{if(i.edit&&((N=i.initialSchool)==null?void 0:N.id)!=null){const T=await v_(ml(n,i.initialSchool.id),x);console.log("Document (schools) update with ID: ",x.id,T)}else{const T=await g_(n,x);console.log("Document (schools) written with ID: ",T.id)}r("save",x)}catch(T){r("save"),console.error("Error adding document (schools): ",T)}finally{g.value=!1}}return dt(()=>p()),(x,A)=>{const V=Z("v-text-field"),N=Z("v-col"),T=Z("v-checkbox"),b=Z("v-btn"),_=Z("v-dialog"),E=Z("v-row"),P=Z("v-card-text"),I=Z("v-divider"),R=Z("v-spacer"),H=Z("v-card-actions"),q=Z("v-card");return Fe(),Je(q,{"prepend-icon":"mdi-school",title:"Scuola"},{default:F(()=>[f(P,null,{default:F(()=>[f(E,{dense:""},{default:F(()=>[f(N,{cols:"12",md:"6"},{default:F(()=>[f(V,{modelValue:s.value,"onUpdate:modelValue":A[0]||(A[0]=W=>s.value=W),label:"Nome",required:""},null,8,["modelValue"])]),_:1}),f(N,{cols:"12",md:"6"},{default:F(()=>[f(V,{modelValue:o.value,"onUpdate:modelValue":A[1]||(A[1]=W=>o.value=W),label:"Citt"},null,8,["modelValue"])]),_:1}),f(N,{cols:"12",md:"6"},{default:F(()=>[f(V,{modelValue:a.value,"onUpdate:modelValue":A[2]||(A[2]=W=>a.value=W),label:"Email"},null,8,["modelValue"])]),_:1}),f(N,{cols:"12",md:"6"},{default:F(()=>[f(V,{modelValue:l.value,"onUpdate:modelValue":A[3]||(A[3]=W=>l.value=W),label:"Numero di Telefono"},null,8,["modelValue"])]),_:1}),f(N,{cols:"12",md:"12"},{default:F(()=>[f(E,{"justify-center":""},{default:F(()=>[f(N,{class:"align-self-center"},{default:F(()=>[f(T,{modelValue:u.value,"onUpdate:modelValue":A[4]||(A[4]=W=>u.value=W),label:"Gestione"},null,8,["modelValue"])]),_:1}),f(N,{class:"align-self-center"},{default:F(()=>[u.value?(Fe(),Je(_,{key:0,modelValue:v.value,"onUpdate:modelValue":A[7]||(A[7]=W=>v.value=W),fullscreen:""},{activator:F(({props:W})=>[f(b,J({text:"Gestione"},W),null,16)]),default:F(()=>[f(r9,{initialManagerOptions:c.value,onClose:A[5]||(A[5]=W=>v.value=!1),onSave:A[6]||(A[6]=W=>y(W))},null,8,["initialManagerOptions"])]),_:1},8,["modelValue"])):an("",!0)]),_:1})]),_:1})]),_:1}),f(N,{cols:"12",md:"6"},{default:F(()=>[f(_,{modelValue:h.value,"onUpdate:modelValue":A[10]||(A[10]=W=>h.value=W),fullscreen:""},{activator:F(({props:W})=>[f(b,J({text:"Gestisci Livelli"},W),null,16)]),default:F(()=>[f(i9,{initialLevelRanges:d.value,onClose:A[8]||(A[8]=W=>h.value=!1),onSave:A[9]||(A[9]=W=>w(W))},null,8,["initialLevelRanges"])]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1}),f(I),f(H,null,{default:F(()=>[f(R),f(b,{text:"Chiudi",variant:"plain",onClick:A[11]||(A[11]=W=>r("close"))}),f(b,{color:"primary",loading:g.value,disabled:g.value,text:x.edit?"Salva Modifiche":"Crea",variant:"tonal",onClick:C},null,8,["loading","disabled","text"])]),_:1})]),_:1})}}}),f7={class:"text-center ma-4"},fd=bn({__name:"HomeView",setup(e){const t=Vo(Ns.SCHOOLS);let n;const i=j([]),r=j(!1),s=j(!1);function o(l){l&&(s.value=!1)}async function a(){r.value=!0,n=vl(t,l=>{const u=l.docs.map(c=>c.data());i.value=u,r.value=!1,console.log("Current data: ",l,u)},l=>{r.value=!1,console.error(l)})}return dt(async()=>{await a()}),No(()=>{n==null||n()}),(l,u)=>{const c=Z("v-skeleton-loader"),d=Z("v-col"),h=Z("v-row"),v=Z("v-expand-transition"),g=Z("v-card"),p=Z("v-icon"),y=Z("v-dialog"),w=Z("v-container");return Fe(),Je(w,{fluid:""},{default:F(()=>[f(v,{mode:"out-in"},{default:F(()=>[r.value?(Fe(),Je(h,{key:0,"no-gutters":""},{default:F(()=>[(Fe(),ei(be,null,sr(3,C=>f(d,{key:C,cols:"12",sm:"4"},{default:F(()=>[f(c,{class:"ma-2 pa-2",type:"card"})]),_:2},1024)),64))]),_:1})):an("",!0)]),_:1}),f(h,{"no-gutters":""},{default:F(()=>[(Fe(!0),ei(be,null,sr(i.value,C=>(Fe(),Je(d,{key:C.name,cols:"12",sm:"4"},{default:F(()=>[f(g,{"append-icon":"mdi-open-in-new",class:"ma-2 pa-2",to:"/school/"+C.id,"prepend-icon":"mdi-town-hall",subtitle:"Visualizza tutti gli aggiornamenti della scuola "+C.name,title:C.name,color:"primary"},null,8,["to","subtitle","title"])]),_:2},1024))),128)),f(d,{cols:"12",sm:"4"},{default:F(()=>[f(y,{modelValue:s.value,"onUpdate:modelValue":u[2]||(u[2]=C=>s.value=C),fullscreen:""},{activator:F(({props:C})=>[f(g,J({class:"ma-2 pa-2",color:"secondary"},C),{default:F(()=>[kt("div",f7,[u[4]||(u[4]=kt("p",{class:"text-h6 font-weight"},"Aggiungi una scuola",-1)),f(p,{size:"x-large"},{default:F(()=>u[3]||(u[3]=[Ve("mdi-plus")])),_:1})])]),_:2},1040)]),default:F(()=>[f(gV,{onClose:u[0]||(u[0]=C=>s.value=!1),onSave:u[1]||(u[1]=C=>o(C))})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1})}}}),h7=["colspan"],m7=bn({__name:"ManageSchoolView",setup(e){const t=j([]),n=[{key:"data-table-expand"},{title:"Nome",align:"start",sortable:!0,key:"name"},{title:"Citt",key:"city"},{title:"Indirizzo",key:"address"},{title:" / minuto",key:"paymentCriteria"}],i=j([]);function r(){}function s(a){}function o(a){}return dt(()=>{for(let a=0;a<10;a++)i.value.push({id:a,name:"La Fenice",city:"Servigliano",address:"Commenda n 8/bis",paymentCriteria:.5})}),(a,l)=>{const u=Z("v-text-field"),c=Z("v-btn"),d=Z("v-row"),h=Z("v-col"),v=Z("v-container"),g=Z("v-data-table");return Fe(),Je(v,{fluid:""},{default:F(()=>[l[8]||(l[8]=kt("p",{class:"text-h5 text-center mb-6"},"Le mie scuole",-1)),f(d,{class:"mr-4 mb-1 align-center"},{default:F(()=>[f(u,{class:"ma-2","prepend-inner-icon":"mdi-magnify",density:"comfortable",placeholder:"Ricerca...",theme:"light",variant:"solo","hide-details":""}),f(c,{"prepend-icon":"mdi-plus",color:"success",onClick:r},{default:F(()=>l[1]||(l[1]=[Ve("nuova scuola")])),_:1})]),_:1}),f(g,{expanded:t.value,"onUpdate:expanded":l[0]||(l[0]=p=>t.value=p),headers:n,items:i.value,"item-value":"id","show-expand":""},{"expanded-row":F(({columns:p,item:y})=>[kt("tr",null,[kt("td",{colspan:p.length},[f(v,{class:"ma-3"},{default:F(()=>[f(d,null,{default:F(()=>[f(h,{cols:"12",md:"9"},{default:F(()=>[Ve(" More info about "+_t(y.name)+" ",1),l[2]||(l[2]=kt("p",null,"...",-1)),l[3]||(l[3]=kt("p",null,"...",-1)),l[4]||(l[4]=kt("p",null,"...",-1))]),_:2},1024),f(h,{cols:"12",md:"3"},{default:F(()=>[f(d,{class:"my-2"},{default:F(()=>[f(c,{"prepend-icon":"mdi-eye",to:"/school/"+y.id},{default:F(()=>l[5]||(l[5]=[Ve("Visualizza")])),_:2},1032,["to"])]),_:2},1024),f(d,{class:"my-2"},{default:F(()=>[f(c,{"prepend-icon":"mdi-pencil",onClick:w=>void 0},{default:F(()=>l[6]||(l[6]=[Ve("Modifica")])),_:2},1032,["onClick"])]),_:2},1024),f(d,{class:"my-2"},{default:F(()=>[f(c,{"prepend-icon":"mdi-delete-outline",color:"error",onClick:w=>void 0},{default:F(()=>l[7]||(l[7]=[Ve("Elimina")])),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)],8,h7)])]),_:1},8,["expanded","items"])]),_:1})}}}),pV=bn({__name:"DeleteDialog",props:{objName:{default:"Oggetto"},name:{},onDelete:{}},emits:["delete"],setup(e,{emit:t}){const n=e,i=j(!1),r=j(!1);async function s(){var a;r.value=!0;const o=await((a=n.onDelete)==null?void 0:a.call(n))??!1;r.value=!1,i.value=o}return(o,a)=>{const l=Z("v-card-text"),u=Z("v-btn"),c=Z("v-spacer"),d=Z("v-card-actions"),h=Z("v-card"),v=Z("v-dialog");return Fe(),Je(v,{modelValue:i.value,"onUpdate:modelValue":a[1]||(a[1]=g=>i.value=g)},{activator:F(({props:g})=>[WD(o.$slots,"activator",mI(Sp({props:g})))]),default:F(()=>[f(h,{"prepend-icon":"mdi-alert",class:"mx-auto","max-width":"500",title:"Elimina "+o.objName},{default:F(()=>[f(l,null,{default:F(()=>[kt("p",null,[a[2]||(a[2]=Ve("Sei sicuro di voler eliminare ")),kt("b",null,_t(o.name),1),a[3]||(a[3]=Ve("?"))]),a[4]||(a[4]=kt("br",null,null,-1)),a[5]||(a[5]=kt("p",null,[Ve("Dopo avere eliminato la risorsa "),kt("b",null,"NON"),Ve("  pi possibile recuperare i dati!")],-1))]),_:1}),f(d,null,{default:F(()=>[f(u,{text:"Annulla",onClick:a[0]||(a[0]=g=>i.value=!1)}),f(c),f(u,{color:"surface-variant",text:"Elimina",variant:"flat",onClick:s,loading:r.value},null,8,["loading"])]),_:1})]),_:1},8,["title"])]),_:3},8,["modelValue"])}}}),ps=["Luned","Marted","Mercoled","Gioved","Venerd","Sabato","Domenica"],v7=e=>e,Yg=bn({__name:"StudentEditor",props:{initialStudent:{},schoolId:{},edit:{type:Boolean}},emits:["close","save"],setup(e,{emit:t}){const n=Vo(Ns.STUDENTS),i=e,r=t,s=j(),o=j(""),a=j(""),l=j(""),u=j(),c=j(""),d=j([]),h=j(!1);he(()=>i.initialStudent,()=>v()),he(()=>i.schoolId,()=>g());function v(){if(i.initialStudent){const y=JSON.parse(JSON.stringify(i.initialStudent));o.value=y.name,a.value=y.surname??"",l.value=y.contact??"",u.value=ps[y.lessonDay],c.value=y.level,d.value=y.notes??[]}}function g(){s.value=i.schoolId}async function p(){var w,C;h.value=!0;const y={schoolId:s.value,name:o.value,surname:a.value,contact:l.value,level:c.value,notes:d.value,createdAt:i.edit?(w=i.initialStudent)==null?void 0:w.createdAt:at.now(),updatedAt:at.now()};u.value&&(y.lessonDay=ps.indexOf(u.value)),o.value="",a.value="",l.value="",c.value="",u.value=void 0,d.value=[];try{if(i.edit&&((C=i.initialStudent)==null?void 0:C.id)!=null){const x=await v_(ml(n,i.initialStudent.id),y);console.log("Document (schools) update with ID: ",y.id,x)}else{const x=await g_(n,y);console.log("Document (schools) written with ID: ",x.id)}r("save",y)}catch(x){r("save"),console.error("Error adding document (schools): ",x)}finally{h.value=!1}}return dt(()=>{v(),g()}),(y,w)=>{const C=Z("v-text-field"),x=Z("v-col"),A=Z("v-select"),V=Z("v-row"),N=Z("v-card-text"),T=Z("v-divider"),b=Z("v-spacer"),_=Z("v-btn"),E=Z("v-card-actions"),P=Z("v-card");return Fe(),Je(P,{"prepend-icon":"mdi-school",title:"Studente"},{default:F(()=>[f(N,null,{default:F(()=>[f(V,{dense:""},{default:F(()=>[f(x,{cols:"12",md:"6"},{default:F(()=>[f(C,{modelValue:o.value,"onUpdate:modelValue":w[0]||(w[0]=I=>o.value=I),label:"Nome",required:""},null,8,["modelValue"])]),_:1}),f(x,{cols:"12",md:"6"},{default:F(()=>[f(C,{modelValue:a.value,"onUpdate:modelValue":w[1]||(w[1]=I=>a.value=I),label:"Cognome",required:""},null,8,["modelValue"])]),_:1}),f(x,{cols:"12",md:"6"},{default:F(()=>[f(C,{modelValue:l.value,"onUpdate:modelValue":w[2]||(w[2]=I=>l.value=I),label:"Contatto"},null,8,["modelValue"])]),_:1}),f(x,{cols:"12",md:"6"},{default:F(()=>[f(A,{modelValue:u.value,"onUpdate:modelValue":w[3]||(w[3]=I=>u.value=I),items:qe(ps),label:"Giorno della Lezione"},null,8,["modelValue","items"])]),_:1}),f(x,{cols:"12",md:"6"},{default:F(()=>[f(C,{modelValue:s.value,"onUpdate:modelValue":w[4]||(w[4]=I=>s.value=I),label:"Scuola",required:""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),f(T),f(E,null,{default:F(()=>[f(b),f(_,{text:"Chiudi",variant:"plain",onClick:w[5]||(w[5]=I=>r("close"))}),f(_,{color:"primary",loading:h.value,disabled:h.value,text:y.edit?"Salva Modifiche":"Crea",variant:"tonal",onClick:p},null,8,["loading","disabled","text"])]),_:1})]),_:1})}}}),g7={key:1,class:"text-grey text-caption align-self-center"},oI=bn({__name:"WeekLessonEditor",props:{edit:{type:Boolean},schoolId:{},initialWeekLesson:{},levelRanges:{}},emits:["close","save"],setup(e,{emit:t}){const n=Gn(),i=t,r=e,s=Vo(Ns.WEEK_LESSONS),o=Vo(Ns.STUDENTS),a=[],l=j(),u=j(),c=j(),d=j(),h=j(),v=j([]),g=j([]),p=j(),y=j([]),w=j([]),C=j([]),x=j(!1),A=j(!1),V=j(!1),N=j(!1);let T;he(()=>r.schoolId,()=>R()),he(()=>r.initialWeekLesson,()=>I()),he(c,()=>H()),he(d,()=>H()),he(h,()=>H()),he(w,()=>P()),he(c,async()=>await W());const b=k(()=>w.value.length===y.value.length),_=k(()=>w.value.length>0);function E(){b.value?w.value=[]:w.value=y.value.slice()}function P(){let X=0;try{const U=p.value;if(!U)return;const B=U.split(":");if(B.length!=2)return;const $=parseInt(B[0]),Y=parseInt(B[1]);X=$*60+Y}catch{return}C.value=[],w.value.forEach((U,B)=>{C.value.push({studentId:U.id,time:{hour:Math.trunc(X/60),minutes:X%60}}),r.levelRanges.forEach($=>{if($.levels.includes(U.level)){X+=$.minutes;return}})})}function I(){if(r.initialWeekLesson){const X=JSON.parse(JSON.stringify(r.initialWeekLesson));c.value=ps[X.dayOfWeek],d.value=X.from.toDate(),h.value=X.to.toDate(),v.value=X.exclude.map($=>$.toDate()),C.value=X.schedule;const U=C.value.reduce(($,Y)=>$.time.hour*60+$.time.minutes<Y.time.hour*60+$.time.minutes?$:Y);U&&(p.value=`${U.time.hour}:${U.time.minutes}`);const B=C.value.map($=>$.studentId);w.value.push(...y.value.filter($=>B.includes($.id)))}}function R(){r.schoolId&&(u.value=r.schoolId)}function H(){if(c.value===void 0||d.value===void 0||h.value===void 0)return;g.value=[];const X=ps.indexOf(c.value),U=X===6?0:X+1;let B=new Date(d.value);for(;B<=h.value;){if(B.getDay()===U){const $=new Date(B);g.value.push({name:n.format($,"keyboard24"),value:$})}B.setDate(B.getDate()+1)}}async function q(){var U,B;A.value=!0;const X={dayOfWeek:ps.indexOf(c.value),from:at.fromDate(d.value),to:at.fromDate(h.value),exclude:v.value.map($=>at.fromDate($)),createdAt:r.edit?(U=r.initialWeekLesson)==null?void 0:U.createdAt:at.now(),updatedAt:at.now()};c.value=void 0,d.value=void 0,h.value=void 0,v.value=[];try{if(r.edit&&((B=r.initialWeekLesson)==null?void 0:B.id)!=null){const $=await v_(ml(s,r.initialWeekLesson.id),X);console.log("Document (week lessons) update with ID: ",X.id,$)}else{const $=await g_(s,X);console.log("Document (week lessons) written with ID: ",$.id)}i("save",X)}catch($){i("save"),console.error("Error adding document (schools): ",$)}finally{A.value=!1}}async function W(){T==null||T(),console.log("loadStudents called"),V.value=!0,T=vl(JW(o,ZW(v7("lessonDay"),"==",c.value)),X=>{const U=X.docs.map(B=>B.data());y.value=U,V.value=!1,console.log("Current data: ",X,U)},X=>{V.value=!1,console.error(X)},()=>{console.log("loadStudents completitions")}),a.push(T)}return No(()=>{a.forEach(X=>X==null?void 0:X())}),dt(async()=>{R(),I(),await W()}),(X,U)=>{const B=Z("v-select"),$=Z("v-date-input"),Y=Z("v-chip"),re=Z("v-time-picker"),de=Z("v-dialog"),we=Z("v-text-field"),Ie=Z("v-checkbox-btn"),oe=Z("v-list-item"),Q=Z("v-divider"),le=Z("v-form"),pe=Z("v-list-subheader"),fe=Z("v-list-item-title"),ce=Z("v-list"),Te=Z("v-card-text"),O=Z("v-spacer"),M=Z("v-btn"),G=Z("v-card-actions"),ie=Z("v-card");return Fe(),Je(ie,{title:"Lezione Settimanale"},{default:F(()=>[f(Te,null,{default:F(()=>[f(le,null,{default:F(()=>[f(B,{modelValue:c.value,"onUpdate:modelValue":U[0]||(U[0]=K=>c.value=K),items:qe(ps),label:"Giorno",required:""},null,8,["modelValue","items"]),f($,{max:h.value,modelValue:d.value,"onUpdate:modelValue":U[1]||(U[1]=K=>d.value=K),label:"Dal"},null,8,["max","modelValue"]),f($,{min:d.value,modelValue:h.value,"onUpdate:modelValue":U[2]||(U[2]=K=>h.value=K),label:"Al"},null,8,["min","modelValue"]),f(B,{modelValue:v.value,"onUpdate:modelValue":U[3]||(U[3]=K=>v.value=K),items:g.value,label:"Giorni da Escludere",multiple:"","item-title":"name","item-value":"value","no-data-text":"Nessuna Data Disponibile",clearable:""},{selection:F(({item:K,index:ue})=>[ue<2?(Fe(),Je(Y,{key:0},{default:F(()=>[kt("span",null,_t(qe(n).format(K.title,"keyboard24")),1)]),_:2},1024)):an("",!0),ue===2?(Fe(),ei("span",g7," (+"+_t(v.value.length-2)+" others) ",1)):an("",!0)]),_:1},8,["modelValue","items"]),f(we,{modelValue:p.value,"onUpdate:modelValue":U[6]||(U[6]=K=>p.value=K),active:x.value,focused:x.value,label:"Orario della prima Lezione","prepend-icon":"mdi-clock-time-four-outline",readonly:""},{default:F(()=>[f(de,{modelValue:x.value,"onUpdate:modelValue":U[5]||(U[5]=K=>x.value=K),activator:"parent",width:"auto"},{default:F(()=>[x.value?(Fe(),Je(re,{key:0,modelValue:p.value,"onUpdate:modelValue":U[4]||(U[4]=K=>p.value=K)},null,8,["modelValue"])):an("",!0)]),_:1},8,["modelValue"])]),_:1},8,["modelValue","active","focused"]),f(B,{modelValue:w.value,"onUpdate:modelValue":U[10]||(U[10]=K=>w.value=K),items:y.value,label:"Studenti",ref_key:"selectStudentRef",ref:l,"item-title":"name","item-value":"id",multiple:"",onClick:U[11]||(U[11]=K=>console.log(l.value)),"no-data-text":"Nessuno studente disponibile per questa scuola"},{"prepend-item":F(()=>[f(oe,{title:"Seleziona tutti",onClick:E},{prepend:F(()=>[f(Ie,{color:_.value?"indigo-darken-4":void 0,indeterminate:_.value&&!b.value,"model-value":b.value},null,8,["color","indeterminate","model-value"])]),_:1}),f(Q,{class:"mt-2"})]),"append-item":F(()=>[f(Q,{class:"mt-2"}),f(de,{modelValue:N.value,"onUpdate:modelValue":U[9]||(U[9]=K=>N.value=K),fullscreen:""},{activator:F(({props:K})=>[f(oe,J({"prepend-icon":"mdi-plus",title:"Crea Studente",color:"success"},K),null,16)]),default:F(()=>[f(Yg,{schoolId:X.schoolId,onClose:U[7]||(U[7]=K=>N.value=!1),onSave:U[8]||(U[8]=K=>N.value=!1)},null,8,["schoolId"])]),_:1},8,["modelValue"])]),_:1},8,["modelValue","items"])]),_:1}),f(ce,null,{default:F(()=>[f(pe,null,{default:F(()=>U[13]||(U[13]=[Ve("STUDENTI")])),_:1}),(Fe(!0),ei(be,null,sr(C.value,(K,ue)=>(Fe(),Je(oe,{key:ue,value:K,color:"primary"},{prepend:F(()=>[kt("b",null,_t(K.time.hour)+":"+_t(K.time.minutes),1)]),default:F(()=>[f(fe,{text:"item.studentId"})]),_:2},1032,["value"]))),128))]),_:1})]),_:1}),f(G,null,{default:F(()=>[f(O),f(M,{text:"Chiudi",onClick:U[12]||(U[12]=K=>i("close"))}),f(M,{text:"Salva",onClick:q,loading:A.value},null,8,["loading"])]),_:1})]),_:1})}}}),p7={key:1},y7=bn({__name:"CalendarLessonEditor",props:{schoolId:{},calendarLesson:{}},emits:["close"],setup(e,{emit:t}){const n=Gn(),i=t,r=j([]);function s(a){switch(a){case 0:return"Luned";default:return"None"}}async function o(){const a=[{studentId:"A1",time:{hour:14,minutes:0}}],l=[{id:"1",schoolId:"",dayOfWeek:0,exclude:[],from:at.now(),to:at.now(),schedule:a,createdAt:at.now(),updatedAt:at.now()}];r.value=l}return dt(async()=>{await o()}),(a,l)=>{const u=Z("v-btn"),c=Z("v-dialog"),d=Z("v-col"),h=Z("v-row"),v=Z("v-expansion-panel-title"),g=Z("v-list"),p=Z("v-expansion-panel-text"),y=Z("v-expansion-panel"),w=Z("v-expansion-panels"),C=Z("v-card-text"),x=Z("v-spacer"),A=Z("v-card-actions"),V=Z("v-card");return Fe(),Je(V,{title:"Calendario"},{append:F(()=>[f(c,{transition:"dialog-bottom-transition",fullscreen:""},{activator:F(({props:N})=>[f(u,J({icon:"mdi-plus"},N,{variant:"text"}),null,16)]),default:F(({isActive:N})=>[f(oI,{schoolId:a.schoolId,levelRanges:[],onClose:T=>N.value=!1},null,8,["schoolId","onClose"])]),_:1})]),default:F(()=>[f(C,null,{default:F(()=>[f(w,null,{default:F(()=>[(Fe(!0),ei(be,null,sr(r.value,N=>(Fe(),Je(y,{key:N.id},{default:F(()=>[f(v,null,{default:F(({expanded:T})=>[f(h,{"no-gutters":""},{default:F(()=>[f(d,{class:"d-flex justify-start",cols:"5"},{default:F(()=>[Ve(" Tutti i "+_t(s(N.dayOfWeek)),1)]),_:2},1024),f(d,{class:"text-grey",cols:"5"},{default:F(()=>[Ve(" Dal "+_t(qe(n).format(N.from,"keyboard24"))+" al "+_t(qe(n).format(N.to,"keyboard24")),1)]),_:2},1024),f(d,null,{default:F(()=>[f(c,{transition:"dialog-bottom-transition",fullscreen:""},{activator:F(({props:b})=>[f(u,J({icon:"mdi-pencil",variant:"text",onClick:l[0]||(l[0]=Md(_=>console.log("edit"),["stop"])),ref_for:!0},b),null,16)]),default:F(({isActive:b})=>[f(oI,{schoolId:N.schoolId,initialWeekLesson:N,levelRanges:[],edit:"",onClose:_=>b.value=!1},null,8,["schoolId","initialWeekLesson","onClose"])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024),f(p,null,{default:F(()=>[N.schedule.length>0?(Fe(),Je(g,{key:0,items:N.schedule,"item-props":""},{title:F(({item:T})=>[Ve(_t(T.studentId)+" - "+_t(T.time.hour)+":"+_t(T.time.minutes),1)]),_:2},1032,["items"])):(Fe(),ei("span",p7,"Nessuna lezione programmata"))]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1}),f(A,null,{default:F(()=>[f(x),f(u,{text:"Chiudi",onClick:l[1]||(l[1]=N=>i("close"))})]),_:1})]),_:1})}}}),_7=bn({__name:"Lessons",props:{schoolId:{},calendarLesson:{default(){return[]}}},setup(e){const t=Gn(),n=e,i=j([]);he(n.calendarLesson??[],()=>s());async function r(){}async function s(){n.calendarLesson==null&&await r();const o=new Date,a=[{date:new Date(2024,8,23),alert:!0},{date:new Date(2024,8,26)},{date:new Date(2024,9,7)},{date:new Date(2024,9,14)}];let l={date:1/0,index:-1};a.forEach((u,c)=>{if(u.next=!1,t.isAfter(u.date,o)){const d=t.getDiff(u.date,o);d<l.date&&(l={date:d,index:c})}}),l.index!==-1&&(a[l.index].next=!0),i.value=a}return dt(async()=>{await s()}),(o,a)=>{const l=Z("v-btn"),u=Z("v-dialog"),c=Z("v-list-subheader"),d=Z("v-icon"),h=Z("v-avatar"),v=Z("v-list-item"),g=Z("v-list"),p=Z("v-card");return Fe(),Je(p,{title:"Lezioni",elevation:"3",loading:!o.calendarLesson},{append:F(()=>[f(u,{transition:"dialog-bottom-transition",fullscreen:""},{activator:F(({props:y})=>[f(l,J({icon:"mdi-pencil",variant:"text"},y,{disabled:!o.calendarLesson}),null,16,["disabled"])]),default:F(({isActive:y})=>[o.calendarLesson?(Fe(),Je(y7,{key:0,schoolId:o.schoolId,calendarLesson:o.calendarLesson,onClose:w=>y.value=!1},null,8,["schoolId","calendarLesson","onClose"])):an("",!0)]),_:1})]),default:F(()=>[f(g,{lines:"two"},{default:F(()=>[f(c,{inset:""},{default:F(()=>a[0]||(a[0]=[Ve("Settembre")])),_:1}),(Fe(!0),ei(be,null,sr(i.value,y=>(Fe(),Je(v,{key:y.date,title:qe(t).format(y.date,"keyboardDate"),to:"/lesson/"+y.date,baseColor:y.next?"primary":""},jD({prepend:F(()=>[f(h,{color:y.next?"primary":y.alert?"warning":"grey-lighten-1"},{default:F(()=>[f(d,{color:"white"},{default:F(()=>a[1]||(a[1]=[Ve("mdi-calendar")])),_:1})]),_:2},1032,["color"])]),_:2},[y.alert?{name:"append",fn:F(()=>[f(d,{color:"warning"},{default:F(()=>a[2]||(a[2]=[Ve("mdi-alert")])),_:1})]),key:"0"}:void 0]),1032,["title","to","baseColor"]))),128))]),_:1})]),_:1},8,["loading"])}}}),b7=bn({__name:"Students",props:{schoolId:{}},setup(e){const t=Vo(Ns.STUDENTS),n=[],i=j([]),r=j(!1),s=j(!1),o=j(!1),a=[{title:"Nome",align:"start",sortable:!0,key:"name"},{title:"Cognome",key:"surname"},{title:"Contatto",key:"contact"},{title:"Giorno della Lezione",key:"lessonDay"},{title:"Operazioni",key:"actions",sortable:!1}];function l(d){d&&(s.value=!1)}async function u(d){try{return await hx(ml(t,d==null?void 0:d.id)),!0}catch{return!1}}async function c(){r.value=!0;const d=vl(t,h=>{const v=h.docs.map(g=>g.data());i.value=v,r.value=!1,console.log("Current data: ",h,v)},h=>{r.value=!1,console.error(h)});n.push(d)}return dt(async()=>{await c()}),No(()=>{n.forEach(d=>d==null?void 0:d())}),(d,h)=>{const v=Z("v-text-field"),g=Z("v-btn"),p=Z("v-dialog"),y=Z("v-row"),w=Z("v-icon"),C=Z("v-data-table"),x=Z("v-card-text"),A=Z("v-card");return Fe(),Je(A,{elevation:"3"},{default:F(()=>[f(x,null,{default:F(()=>[f(y,{class:"mr-4 mb-1 align-center"},{default:F(()=>[f(v,{class:"ma-2","prepend-inner-icon":"mdi-magnify",density:"comfortable",placeholder:"Ricerca...",theme:"light",variant:"solo","hide-details":""}),f(p,{modelValue:s.value,"onUpdate:modelValue":h[2]||(h[2]=V=>s.value=V),fullscreen:""},{activator:F(({props:V})=>[f(g,J({"prepend-icon":"mdi-plus",color:"success"},V),{default:F(()=>h[6]||(h[6]=[Ve("nuovo studente")])),_:2},1040)]),default:F(()=>[f(Yg,{schoolId:d.schoolId,onClose:h[0]||(h[0]=V=>s.value=!1),onSave:h[1]||(h[1]=V=>l(V))},null,8,["schoolId"])]),_:1},8,["modelValue"])]),_:1}),f(C,{headers:a,items:i.value,"item-value":"id"},{"item.lessonDay":F(({item:V})=>[Ve(_t(qe(ps)[V.lessonDay]),1)]),"item.actions":F(({item:V})=>[f(p,{modelValue:o.value,"onUpdate:modelValue":h[5]||(h[5]=N=>o.value=N),fullscreen:""},{activator:F(({props:N})=>[f(w,J({class:"me-2",size:"small"},N),{default:F(()=>h[7]||(h[7]=[Ve(" mdi-pencil ")])),_:2},1040)]),default:F(()=>[f(Yg,{edit:"",schoolId:d.schoolId,initialStudent:V,onClose:h[3]||(h[3]=N=>o.value=!1),onSave:h[4]||(h[4]=N=>o.value=!1)},null,8,["schoolId","initialStudent"])]),_:2},1032,["modelValue"]),f(pV,{name:V.name+" "+V.surname,objName:"Studente",onDelete:async()=>await u(V)},{activator:F(({props:N})=>[f(w,J({size:"small"},N),{default:F(()=>h[8]||(h[8]=[Ve(" mdi-delete ")])),_:2},1040)]),_:2},1032,["name","onDelete"])]),_:1},8,["items"])]),_:1})]),_:1})}}}),w7={key:0},S7={key:1},C7={key:2},I7=bn({__name:"SchoolView",setup(e){const t=w6(),n=b6(),i=Gn(),r=Vo(Ns.SCHOOLS),s=[];j(new Date);const o=j(),a=j([]),l=j([]),u=j(!1),c=k(()=>ml(r,t.params.id)),d=r7(c);function h(w){w.recoveryDate=void 0,w.status="NOT_RECOVERED"}function v(w){o.value&&(w.recoveryDate=o.value,w.status="RECOVERY_SCHEDULED")}async function g(){try{return await hx(c.value),n.push("/"),!0}catch{return!1}}async function p(){const w=[{name:"Luca Verdi",date:new Date("10/09/2024 14:00"),status:"NOT_RECOVERED",id:1},{name:"Alessio Rossi",date:new Date("10/09/2024 18:00"),status:"NOT_RECOVERED",id:2}];a.value=w}async function y(){const w=[{id:0,title:"Questa  una nota molto carina e paffutella",description:"",student:"Matteo Rossi"},{id:1,title:"Questa  una nota con descrizione",description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Ut viverra tincidunt risus sit amet interdum. Nam sed leo id ipsum efficitur congue nec ut est. Nullam in metus leo. In commodo, leo eu vulputate euismod, urna lacus efficitur nibh, ut maximus felis metus eu odio. Duis cursus commodo auctor. Suspendisse condimentum lorem dui, id tristique lectus commodo nec.",student:"Luca Verdi"}];l.value=w}return dt(async()=>{await p(),await y()}),No(()=>{s.forEach(w=>w())}),(w,C)=>{const x=Z("v-btn"),A=Z("v-list-item"),V=Z("v-dialog"),N=Z("v-list"),T=Z("v-menu"),b=Z("v-col"),_=Z("v-date-picker"),E=Z("v-card-text"),P=Z("v-spacer"),I=Z("v-card-actions"),R=Z("v-card"),H=Z("v-row"),q=Z("v-expansion-panel-title"),W=Z("v-expansion-panel-text"),X=Z("v-expansion-panel"),U=Z("v-expansion-panels");return qe(d)?(Fe(),Je(R,{key:0,class:"pa-3",title:qe(d).name,elevation:"0"},{append:F(()=>[f(T,{transition:"slide-y-transition"},{activator:F(({props:B})=>[f(x,J({icon:"mdi-dots-vertical",variant:"text"},B),null,16)]),default:F(()=>[f(N,null,{default:F(()=>[f(V,{modelValue:u.value,"onUpdate:modelValue":C[2]||(C[2]=B=>u.value=B),fullscreen:""},{activator:F(({props:B})=>[f(A,J({title:"Modifica"},B),null,16)]),default:F(()=>[f(gV,{edit:"",initialSchool:qe(d),onClose:C[0]||(C[0]=B=>u.value=!1),onSave:C[1]||(C[1]=B=>u.value=!1)},null,8,["initialSchool"])]),_:1},8,["modelValue"]),f(pV,{name:qe(d).name,objName:"Scuola",onDelete:g},{activator:F(({props:B})=>[f(A,J({title:"Elimina"},B),null,16)]),_:1},8,["name"])]),_:1})]),_:1})]),default:F(()=>[f(H,{class:"mt-5"},{default:F(()=>[f(b,{class:"pa-2",cols:"12",md:"6"},{default:F(()=>[f(_7,{schoolId:qe(d).id,calendarLesson:qe(d).calendarLesson},null,8,["schoolId","calendarLesson"])]),_:1}),f(b,{class:"pa-2",cols:"12",md:"6"},{default:F(()=>[f(R,{title:"Recuperi",elevation:"3"},{default:F(()=>[f(N,{lines:"three",items:a.value,"item-props":""},{title:F(({item:B})=>[Ve(_t(B.name),1)]),subtitle:F(({item:B})=>[B.status=="NOT_RECOVERED"?(Fe(),ei("div",w7," Da recuperare la lezione del "+_t(qe(i).format(B.date,"keyboardDate")),1)):B.status=="RECOVERY_SCHEDULED"?(Fe(),ei("div",S7," Recupero programmato per il "+_t(qe(i).format(B.recoveryDate,"keyboardDate")),1)):(Fe(),ei("div",C7," Recupero della lezione del "+_t(qe(i).format(B.date,"keyboardDate"))+" effettuato il "+_t(qe(i).format(B.recoveryDate,"keyboardDate")),1))]),append:F(({item:B})=>[B.status=="NOT_RECOVERED"?(Fe(),Je(V,{key:0,width:"auto",scrollable:"",persistent:""},{activator:F(({props:$})=>[f(x,mI(Sp($)),{default:F(()=>C[4]||(C[4]=[Ve("programma")])),_:2},1040)]),default:F(({isActive:$})=>[f(R,null,{default:F(()=>[f(E,{class:"pa-6"},{default:F(()=>[f(_,{min:new Date,modelValue:o.value,"onUpdate:modelValue":C[3]||(C[3]=Y=>o.value=Y)},null,8,["min","modelValue"])]),_:1}),f(I,null,{default:F(()=>[f(x,{text:"Annulla",onClick:Y=>$.value=!1},null,8,["onClick"]),f(P),f(x,{color:"surface-variant",text:"Salva",variant:"flat",onClick:Y=>{$.value=!1,v(B)}},null,8,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024)):an("",!0),B.status=="RECOVERY_SCHEDULED"?(Fe(),Je(x,{key:1,onClick:$=>h(B)},{default:F(()=>C[5]||(C[5]=[Ve("annulla")])),_:2},1032,["onClick"])):an("",!0)]),_:1},8,["items"])]),_:1})]),_:1})]),_:1}),f(H,null,{default:F(()=>[f(b,{class:"pa-2",cols:"12",md:"6"},{default:F(()=>[f(b7,{schoolId:qe(d).id},null,8,["schoolId"])]),_:1})]),_:1}),f(H,null,{default:F(()=>[f(b,{class:"pa-2",cols:"12"},{default:F(()=>[f(R,{title:"Note",elevation:"3"},{default:F(()=>[f(U,null,{default:F(()=>[(Fe(!0),ei(be,null,sr(l.value,B=>(Fe(),Je(X,{key:B.id},{default:F(()=>[f(q,null,{default:F(()=>[f(H,{"no-gutters":""},{default:F(()=>[f(b,{class:"d-flex justify-start",cols:"8"},{default:F(()=>[Ve(_t(B.title),1)]),_:2},1024),f(b,{class:"text-grey",cols:"4"},{default:F(()=>[kt("span",null,_t(B.student),1)]),_:2},1024)]),_:2},1024)]),_:2},1024),f(W,null,{default:F(()=>[Ve(_t(B.description),1)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["title"])):an("",!0)}}}),k7={class:"text-h5 text-center mb-6"},E7={class:"d-flex"},T7={class:"d-flex justify-space-between w-100"},A7={class:"ml-4"},P7={class:"mr-4"},x7=bn({__name:"DayLessonView",setup(e){const t=Gn(),n=j(!1),i=j([]),r=j(!1),s=j([]),o=j(new Date),a=j([]),l=k(()=>i.value.length!=0);he(i,()=>{i.value.length==0&&(r.value=!1)});function u(A){switch(A.status){case"UNKONWN":return"gray";case"PRESENT":return"green";case"ABSENT":return"red";case"RECOVERED":return"blue";case"TRIAL":return"yellow";default:return"gray"}}function c(A){A&&(A.status="PRESENT"),i.value.forEach(V=>{s.value[V].status="PRESENT"}),i.value=[]}function d(A){i.value.forEach(V=>{s.value[V].status="ABSENT"}),i.value=[],A&&(A.status="ABSENT")}function h(A){A&&(A.status="UNKNOWN")}function v(A){A.status="RECOVERED"}function g(A){}function p(){r.value?i.value=[]:i.value=[...Array(s.value.length).keys()]}function y(A){s.value.push(A)}async function w(){const A=[{id:"1",schoolId:"prova",level:"1",name:"Mario",surname:"Rossi",notes:[],contact:"2378542365",lessonDay:0,createdAt:at.now(),updatedAt:at.now()}];a.value=A}async function C(){const A=t.format(o.value,"keyboardDate");s.value=[{title:"Cristina Sole",start:new Date(`${A} 06:00`),end:new Date(`${A} 06:40`),note:"",status:"UNKNOWN"},{title:"Angelica Verdi",start:new Date(`${A} 07:00`),end:new Date(`${A} 07:40`),note:"",status:"UNKNOWN"},{title:"Francesca Giallo",start:new Date(`${A} 07:40`),end:new Date(`${A} 09:00`),note:"",status:"UNKNOWN"},{title:"Luca Prezzi",start:new Date(`${A} 09:00`),end:new Date(`${A} 09:40`),note:"",status:"UNKNOWN"},{title:"Giorgio Forl",start:new Date(`${A} 10:00`),end:new Date(`${A} 10:40`),note:"",status:"UNKNOWN"},{title:"Alessio Palla",start:new Date(`${A} 10:40`),end:new Date(`${A} 12:00`),note:"",status:"UNKNOWN"},{title:"Matteo Romagnoli",start:new Date(`${A} 14:00`),end:new Date(`${A} 14:40`),note:"",status:"UNKNOWN"},{title:"Lorenzo Bianchi",start:new Date(`${A} 14:40`),end:new Date(`${A} 15:20`),note:"",status:"UNKNOWN"},{title:"Francesco Rossi",start:new Date(`${A} 15:20`),end:new Date(`${A} 16:00`),note:"qualche nota...",status:"UNKNOWN"},{title:"Giovanni Colori",start:new Date(`${A} 16:00`),end:new Date(`${A} 16:40`),note:"",status:"UNKNOWN"}]}function x(){const A=new Date;let V=0;for(V=0;V<s.value.length;V++){const T=s.value[V];if(t.isAfter(A,T.start)&&t.isBefore(A,T.end))break}const N=document.getElementById("time"+V);N==null||N.scrollIntoView({block:"start",behavior:"smooth"})}return dt(async()=>{await C(),x()}),(A,V)=>{const N=Z("v-btn"),T=Z("v-date-picker"),b=Z("v-card-text"),_=Z("v-spacer"),E=Z("v-card-actions"),P=Z("v-card"),I=Z("v-menu"),R=Z("v-list"),H=Z("v-dialog"),q=Z("v-checkbox"),W=Z("v-row"),X=Z("v-icon"),U=Z("v-expansion-panel"),B=Z("v-expansion-panels"),$=Z("v-timeline-item"),Y=Z("v-timeline"),re=Z("v-container");return Fe(),Je(re,{fluid:""},{default:F(()=>[kt("p",k7,[Ve("Lezioni del "+_t(qe(t).format(o.value,"keyboardDate"))+" ",1),f(I,{"close-on-content-click":!1,"model-value":n.value},{activator:F(({props:de})=>[f(N,J(de,{icon:"mdi-calendar"}),null,16)]),default:F(()=>[f(P,null,{default:F(()=>[f(b,{class:"pa-6"},{default:F(()=>[f(T,{"model-value":o.value},null,8,["model-value"])]),_:1}),f(E,null,{default:F(()=>[f(_),f(N,{variant:"text",onClick:V[0]||(V[0]=de=>n.value=!1)},{default:F(()=>V[5]||(V[5]=[Ve(" Cancel ")])),_:1}),f(N,{color:"primary",variant:"text",onClick:V[1]||(V[1]=de=>n.value=!1)},{default:F(()=>V[6]||(V[6]=[Ve(" Save ")])),_:1})]),_:1})]),_:1})]),_:1},8,["model-value"])]),f(W,null,{default:F(()=>[f(N,{onClick:c,disabled:!l.value},{default:F(()=>V[7]||(V[7]=[Ve("presenti")])),_:1},8,["disabled"]),f(N,{onClick:d,disabled:!l.value},{default:F(()=>V[8]||(V[8]=[Ve("assenti")])),_:1},8,["disabled"]),f(H,{transition:"dialog-bottom-transition",fullscreen:""},{activator:F(({props:de})=>[f(N,J({onClick:w},de),{default:F(()=>V[9]||(V[9]=[Ve("Aggiugni studente")])),_:2},1040)]),default:F(({isActive:de})=>[f(P,null,{default:F(()=>[f(R,{items:a.value,"onClick:select":V[2]||(V[2]=we=>y(we))},{title:F(({item:we})=>[Ve(_t(we),1)]),_:1},8,["items"])]),_:1})]),_:1}),f(q,{modelValue:r.value,"onUpdate:modelValue":V[3]||(V[3]=de=>r.value=de),indeterminate:i.value.length!=0&&i.value.length!=s.value.length,onClick:p},null,8,["modelValue","indeterminate"])]),_:1}),f(Y,{side:"end","truncate-line":"both"},{default:F(()=>[(Fe(!0),ei(be,null,sr(s.value,(de,we)=>(Fe(),Je($,{class:"event-item","dot-color":u(de),size:"small"},{default:F(()=>[kt("div",E7,[f(q,{modelValue:i.value,"onUpdate:modelValue":V[4]||(V[4]=Ie=>i.value=Ie),value:we,multiple:""},null,8,["modelValue","value"]),f(B,{id:"time"+we},{default:F(()=>[f(U,{text:de.note},{title:F(()=>{var Ie;return[kt("div",T7,[kt("strong",A7,_t(de.title),1),((Ie=de.note)==null?void 0:Ie.trim().length)!=0?(Fe(),Je(X,{key:0,color:"primary"},{default:F(()=>V[10]||(V[10]=[Ve("mdi-note")])),_:1})):an("",!0),kt("span",P7,_t(qe(t).format(de.start,"fullTime24h"))+" - "+_t(qe(t).format(de.end,"fullTime24h")),1)])]}),text:F(()=>[f(N,{onClick:Ie=>c(de)},{default:F(()=>V[11]||(V[11]=[Ve("presente")])),_:2},1032,["onClick"]),f(N,{onClick:Ie=>d(de)},{default:F(()=>V[12]||(V[12]=[Ve("assente")])),_:2},1032,["onClick"]),de.status!="UNKNOWN"?(Fe(),Je(N,{key:0,onClick:Ie=>h(de)},{default:F(()=>V[13]||(V[13]=[Ve("annulla")])),_:2},1032,["onClick"])):an("",!0),f(N,{onClick:Ie=>void 0},{default:F(()=>V[14]||(V[14]=[Ve("note")])),_:2},1032,["onClick"]),de.status=="ABSENT"?(Fe(),Je(N,{key:1,onClick:Ie=>v(de)},{default:F(()=>V[15]||(V[15]=[Ve("schedula recupero")])),_:2},1032,["onClick"])):an("",!0),Ve(" "+_t(de.note),1)]),_:2},1032,["text"])]),_:2},1032,["id"])])]),_:2},1032,["dot-color"]))),256))]),_:1})]),_:1})}}}),R7=bn({__name:"CalendarView",setup(e){const t=j(),n=j([]);async function i({start:s,end:o}){const a=[],l=s,u=o,c=(u.getTime()-l.getTime())/864e5,d=r(c,c+20),h=["blue","indigo","deep-purple","cyan","green","orange","grey darken-1"],v=["La Fenice","Lizard","Lizard"];for(let g=0;g<d;g++){const p=r(0,3)===0,y=r(l.getTime(),u.getTime()),w=new Date(y-y%9e5),C=r(2,p?288:8)*9e5,x=new Date(w.getTime()+C);a.push({title:v[r(0,v.length-1)],start:w,end:x,color:h[r(0,h.length-1)],allDay:!p})}n.value=a}function r(s,o){return Math.floor((o-s+1)*Math.random())+s}return dt(async()=>{const s=Gn();await i({start:s.startOfDay(s.startOfMonth(new Date)),end:s.endOfDay(s.endOfMonth(new Date))})}),(s,o)=>{const a=Z("v-calendar"),l=Z("v-sheet"),u=Z("v-col"),c=Z("v-row");return Fe(),Je(c,{class:"fill-height"},{default:F(()=>[f(u,null,{default:F(()=>[f(l,{height:"600"},{default:F(()=>[f(a,{ref:"calendar",modelValue:t.value,"onUpdate:modelValue":o[0]||(o[0]=d=>t.value=d),events:n.value,color:"primary",type:"month"},null,8,["modelValue","events"])]),_:1})]),_:1})]),_:1})}}}),V7=y6({history:KH("/teachers-agenda"),routes:[{path:"/",name:"home",component:fd},{path:"/schools",name:"schools",component:m7},{path:"/school/:id",component:I7,meta:{transition:"v-slide-x-transition"}},{path:"/lesson/:date",name:"lessons",component:x7},{path:"/recoveries",name:"recoveries",component:fd},{path:"/calendar",name:"calendar",component:R7},{path:"/reports",name:"reports",component:fd},{path:"/settings",name:"settings",component:fd}]}),D7={apiKey:"AIzaSyDhEJoQLDHojsr_VEtB1O9IErI__pShKa8",authDomain:"teachers-agenda.firebaseapp.com",projectId:"teachers-agenda",storageBucket:"teachers-agenda.appspot.com",messagingSenderId:"56057008308",appId:"1:56057008308:web:ca3a75547d1b64ba3087e1",measurementId:"G-KWTDHCXRJ4"};function N7(e){const t=e||B1(D7),n=Kz(t),i=XP(t);return"true".toLowerCase()==="true"&&location.hostname==="localhost"&&(Nx(n,"http://localhost:9099"),QP(i,"localhost",8080)),{firebaseApp:t,auth:n,firestore:i}}function O7(){const e=q5()[0];return N7(e)}const{firebaseApp:M7}=O7(),bl=cO(CL);bl.config.performance=!0;bl.use(mO());bl.use(V7);bl.use(pH);bl.use(c7,{firebaseApp:M7,modules:[o7()]});bl.mount("#app");
