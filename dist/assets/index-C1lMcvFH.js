var o3=Object.defineProperty;var a3=(e,t,n)=>t in e?o3(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var In=(e,t,n)=>a3(e,typeof t!="symbol"?t+"":t,n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();/**
* @vue/shared v3.5.7
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function dS(e){const t=Object.create(null);for(const n of e.split(","))t[n]=1;return n=>n in t}const Wt={},Uu=[],Cs=()=>{},l3=()=>!1,Zg=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),fS=e=>e.startsWith("onUpdate:"),zn=Object.assign,hS=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},u3=Object.prototype.hasOwnProperty,qt=(e,t)=>u3.call(e,t),rt=Array.isArray,ju=e=>ep(e)==="[object Map]",OR=e=>ep(e)==="[object Set]",ht=e=>typeof e=="function",Dn=e=>typeof e=="string",Ta=e=>typeof e=="symbol",gn=e=>e!==null&&typeof e=="object",VR=e=>(gn(e)||ht(e))&&ht(e.then)&&ht(e.catch),NR=Object.prototype.toString,ep=e=>NR.call(e),c3=e=>ep(e).slice(8,-1),MR=e=>ep(e)==="[object Object]",vS=e=>Dn(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Bd=dS(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),tp=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},d3=/-(\w)/g,lr=tp(e=>e.replace(d3,(t,n)=>n?n.toUpperCase():"")),f3=/\B([A-Z])/g,Ia=tp(e=>e.replace(f3,"-$1").toLowerCase()),Fs=tp(e=>e.charAt(0).toUpperCase()+e.slice(1)),sy=tp(e=>e?`on${Fs(e)}`:""),nr=(e,t)=>!Object.is(e,t),Xv=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},LR=(e,t,n,i=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:i,value:n})},yb=e=>{const t=parseFloat(e);return isNaN(t)?e:t},h3=e=>{const t=Dn(e)?Number(e):NaN;return isNaN(t)?e:t};let Mk;const FR=()=>Mk||(Mk=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function np(e){if(rt(e)){const t={};for(let n=0;n<e.length;n++){const i=e[n],r=Dn(i)?p3(i):np(i);if(r)for(const s in r)t[s]=r[s]}return t}else if(Dn(e)||gn(e))return e}const v3=/;(?![^(]*\))/g,m3=/:([^]+)/,g3=/\/\*[^]*?\*\//g;function p3(e){const t={};return e.replace(g3,"").split(v3).forEach(n=>{if(n){const i=n.split(m3);i.length>1&&(t[i[0].trim()]=i[1].trim())}}),t}function ip(e){let t="";if(Dn(e))t=e;else if(rt(e))for(let n=0;n<e.length;n++){const i=ip(e[n]);i&&(t+=i+" ")}else if(gn(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}function $R(e){if(!e)return null;let{class:t,style:n}=e;return t&&!Dn(t)&&(e.class=ip(t)),n&&(e.style=np(n)),e}const _3="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",y3=dS(_3);function BR(e){return!!e||e===""}const UR=e=>!!(e&&e.__v_isRef===!0),lt=e=>Dn(e)?e:e==null?"":rt(e)||gn(e)&&(e.toString===NR||!ht(e.toString))?UR(e)?lt(e.value):JSON.stringify(e,jR,2):String(e),jR=(e,t)=>UR(t)?jR(e,t.value):ju(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[i,r],s)=>(n[oy(i,s)+" =>"]=r,n),{})}:OR(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>oy(n))}:Ta(t)?oy(t):gn(t)&&!rt(t)&&!MR(t)?String(t):t,oy=(e,t="")=>{var n;return Ta(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};/**
* @vue/reactivity v3.5.7
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Gi;class HR{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Gi,!t&&Gi&&(this.index=(Gi.scopes||(Gi.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].pause();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].resume();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].resume()}}run(t){if(this._active){const n=Gi;try{return Gi=this,t()}finally{Gi=n}}}on(){Gi=this}off(){Gi=this.parent}stop(t){if(this._active){let n,i;for(n=0,i=this.effects.length;n<i;n++)this.effects[n].stop();for(n=0,i=this.cleanups.length;n<i;n++)this.cleanups[n]();if(this.scopes)for(n=0,i=this.scopes.length;n<i;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!t){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0,this._active=!1}}}function uh(e){return new HR(e)}function WR(){return Gi}function Ci(e,t=!1){Gi&&Gi.cleanups.push(e)}let ln;const ay=new WeakSet;class zR{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Gi&&Gi.active&&Gi.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,ay.has(this)&&(ay.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||qR(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Lk(this),YR(this);const t=ln,n=es;ln=this,es=!0;try{return this.fn()}finally{KR(this),ln=t,es=n,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)pS(t);this.deps=this.depsTail=void 0,Lk(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?ay.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){bb(this)&&this.run()}get dirty(){return bb(this)}}let GR=0,Ud;function qR(e){e.flags|=8,e.next=Ud,Ud=e}function mS(){GR++}function gS(){if(--GR>0)return;let e;for(;Ud;){let t=Ud;for(Ud=void 0;t;){const n=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(i){e||(e=i)}t=n}}if(e)throw e}function YR(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function KR(e){let t,n=e.depsTail,i=n;for(;i;){const r=i.prevDep;i.version===-1?(i===n&&(n=r),pS(i),b3(i)):t=i,i.dep.activeLink=i.prevActiveLink,i.prevActiveLink=void 0,i=r}e.deps=t,e.depsTail=n}function bb(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(XR(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function XR(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===cf))return;e.globalVersion=cf;const t=e.dep;if(e.flags|=2,t.version>0&&!e.isSSR&&e.deps&&!bb(e)){e.flags&=-3;return}const n=ln,i=es;ln=e,es=!0;try{YR(e);const r=e.fn(e._value);(t.version===0||nr(r,e._value))&&(e._value=r,t.version++)}catch(r){throw t.version++,r}finally{ln=n,es=i,KR(e),e.flags&=-3}}function pS(e,t=!1){const{dep:n,prevSub:i,nextSub:r}=e;if(i&&(i.nextSub=r,e.prevSub=void 0),r&&(r.prevSub=i,e.nextSub=void 0),n.subs===e&&(n.subs=i),!n.subs)if(n.computed){n.computed.flags&=-5;for(let s=n.computed.deps;s;s=s.nextDep)pS(s,!0)}else n.map&&!t&&(n.map.delete(n.key),n.map.size||df.delete(n.target))}function b3(e){const{prevDep:t,nextDep:n}=e;t&&(t.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=t,e.nextDep=void 0)}let es=!0;const QR=[];function Aa(){QR.push(es),es=!1}function Pa(){const e=QR.pop();es=e===void 0?!0:e}function Lk(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const n=ln;ln=void 0;try{t()}finally{ln=n}}}let cf=0;class w3{constructor(t,n){this.sub=t,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class rp{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.target=void 0,this.map=void 0,this.key=void 0}track(t){if(!ln||!es||ln===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==ln)n=this.activeLink=new w3(ln,this),ln.deps?(n.prevDep=ln.depsTail,ln.depsTail.nextDep=n,ln.depsTail=n):ln.deps=ln.depsTail=n,ln.flags&4&&JR(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const i=n.nextDep;i.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=i),n.prevDep=ln.depsTail,n.nextDep=void 0,ln.depsTail.nextDep=n,ln.depsTail=n,ln.deps===n&&(ln.deps=i)}return n}trigger(t){this.version++,cf++,this.notify(t)}notify(t){mS();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{gS()}}}function JR(e){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let i=t.deps;i;i=i.nextDep)JR(i)}const n=e.dep.subs;n!==e&&(e.prevSub=n,n&&(n.nextSub=e)),e.dep.subs=e}const df=new WeakMap,vl=Symbol(""),wb=Symbol(""),ff=Symbol("");function Bi(e,t,n){if(es&&ln){let i=df.get(e);i||df.set(e,i=new Map);let r=i.get(n);r||(i.set(n,r=new rp),r.target=e,r.map=i,r.key=n),r.track()}}function ho(e,t,n,i,r,s){const o=df.get(e);if(!o){cf++;return}const a=l=>{l&&l.trigger()};if(mS(),t==="clear")o.forEach(a);else{const l=rt(e),u=l&&vS(n);if(l&&n==="length"){const d=Number(i);o.forEach((c,f)=>{(f==="length"||f===ff||!Ta(f)&&f>=d)&&a(c)})}else switch(n!==void 0&&a(o.get(n)),u&&a(o.get(ff)),t){case"add":l?u&&a(o.get("length")):(a(o.get(vl)),ju(e)&&a(o.get(wb)));break;case"delete":l||(a(o.get(vl)),ju(e)&&a(o.get(wb)));break;case"set":ju(e)&&a(o.get(vl));break}}gS()}function S3(e,t){var n;return(n=df.get(e))==null?void 0:n.get(t)}function pu(e){const t=Ge(e);return t===e?t:(Bi(t,"iterate",ff),$r(e)?t:t.map(Ri))}function sp(e){return Bi(e=Ge(e),"iterate",ff),e}const E3={__proto__:null,[Symbol.iterator](){return ly(this,Symbol.iterator,Ri)},concat(...e){return pu(this).concat(...e.map(t=>rt(t)?pu(t):t))},entries(){return ly(this,"entries",e=>(e[1]=Ri(e[1]),e))},every(e,t){return Xs(this,"every",e,t,void 0,arguments)},filter(e,t){return Xs(this,"filter",e,t,n=>n.map(Ri),arguments)},find(e,t){return Xs(this,"find",e,t,Ri,arguments)},findIndex(e,t){return Xs(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return Xs(this,"findLast",e,t,Ri,arguments)},findLastIndex(e,t){return Xs(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return Xs(this,"forEach",e,t,void 0,arguments)},includes(...e){return uy(this,"includes",e)},indexOf(...e){return uy(this,"indexOf",e)},join(e){return pu(this).join(e)},lastIndexOf(...e){return uy(this,"lastIndexOf",e)},map(e,t){return Xs(this,"map",e,t,void 0,arguments)},pop(){return md(this,"pop")},push(...e){return md(this,"push",e)},reduce(e,...t){return Fk(this,"reduce",e,t)},reduceRight(e,...t){return Fk(this,"reduceRight",e,t)},shift(){return md(this,"shift")},some(e,t){return Xs(this,"some",e,t,void 0,arguments)},splice(...e){return md(this,"splice",e)},toReversed(){return pu(this).toReversed()},toSorted(e){return pu(this).toSorted(e)},toSpliced(...e){return pu(this).toSpliced(...e)},unshift(...e){return md(this,"unshift",e)},values(){return ly(this,"values",Ri)}};function ly(e,t,n){const i=sp(e),r=i[t]();return i!==e&&!$r(e)&&(r._next=r.next,r.next=()=>{const s=r._next();return s.value&&(s.value=n(s.value)),s}),r}const C3=Array.prototype;function Xs(e,t,n,i,r,s){const o=sp(e),a=o!==e&&!$r(e),l=o[t];if(l!==C3[t]){const c=l.apply(e,s);return a?Ri(c):c}let u=n;o!==e&&(a?u=function(c,f){return n.call(this,Ri(c),f,e)}:n.length>2&&(u=function(c,f){return n.call(this,c,f,e)}));const d=l.call(o,u,i);return a&&r?r(d):d}function Fk(e,t,n,i){const r=sp(e);let s=n;return r!==e&&($r(e)?n.length>3&&(s=function(o,a,l){return n.call(this,o,a,l,e)}):s=function(o,a,l){return n.call(this,o,Ri(a),l,e)}),r[t](s,...i)}function uy(e,t,n){const i=Ge(e);Bi(i,"iterate",ff);const r=i[t](...n);return(r===-1||r===!1)&&wS(n[0])?(n[0]=Ge(n[0]),i[t](...n)):r}function md(e,t,n=[]){Aa(),mS();const i=Ge(e)[t].apply(e,n);return gS(),Pa(),i}const k3=dS("__proto__,__v_isRef,__isVue"),ZR=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Ta));function T3(e){Ta(e)||(e=String(e));const t=Ge(this);return Bi(t,"has",e),t.hasOwnProperty(e)}class eO{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,i){const r=this._isReadonly,s=this._isShallow;if(n==="__v_isReactive")return!r;if(n==="__v_isReadonly")return r;if(n==="__v_isShallow")return s;if(n==="__v_raw")return i===(r?s?$3:rO:s?iO:nO).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(i)?t:void 0;const o=rt(t);if(!r){let l;if(o&&(l=E3[n]))return l;if(n==="hasOwnProperty")return T3}const a=Reflect.get(t,n,Qe(t)?t:i);return(Ta(n)?ZR.has(n):k3(n))||(r||Bi(t,"get",n),s)?a:Qe(a)?o&&vS(n)?a:a.value:gn(a)?r?xc(a):cn(a):a}}class tO extends eO{constructor(t=!1){super(!1,t)}set(t,n,i,r){let s=t[n];if(!this._isShallow){const l=Cl(s);if(!$r(i)&&!Cl(i)&&(s=Ge(s),i=Ge(i)),!rt(t)&&Qe(s)&&!Qe(i))return l?!1:(s.value=i,!0)}const o=rt(t)&&vS(n)?Number(n)<t.length:qt(t,n),a=Reflect.set(t,n,i,Qe(t)?t:r);return t===Ge(r)&&(o?nr(i,s)&&ho(t,"set",n,i):ho(t,"add",n,i)),a}deleteProperty(t,n){const i=qt(t,n);t[n];const r=Reflect.deleteProperty(t,n);return r&&i&&ho(t,"delete",n,void 0),r}has(t,n){const i=Reflect.has(t,n);return(!Ta(n)||!ZR.has(n))&&Bi(t,"has",n),i}ownKeys(t){return Bi(t,"iterate",rt(t)?"length":vl),Reflect.ownKeys(t)}}class I3 extends eO{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const A3=new tO,P3=new I3,x3=new tO(!0);const _S=e=>e,op=e=>Reflect.getPrototypeOf(e);function cv(e,t,n=!1,i=!1){e=e.__v_raw;const r=Ge(e),s=Ge(t);n||(nr(t,s)&&Bi(r,"get",t),Bi(r,"get",s));const{has:o}=op(r),a=i?_S:n?ES:Ri;if(o.call(r,t))return a(e.get(t));if(o.call(r,s))return a(e.get(s));e!==r&&e.get(t)}function dv(e,t=!1){const n=this.__v_raw,i=Ge(n),r=Ge(e);return t||(nr(e,r)&&Bi(i,"has",e),Bi(i,"has",r)),e===r?n.has(e):n.has(e)||n.has(r)}function fv(e,t=!1){return e=e.__v_raw,!t&&Bi(Ge(e),"iterate",vl),Reflect.get(e,"size",e)}function $k(e,t=!1){!t&&!$r(e)&&!Cl(e)&&(e=Ge(e));const n=Ge(this);return op(n).has.call(n,e)||(n.add(e),ho(n,"add",e,e)),this}function Bk(e,t,n=!1){!n&&!$r(t)&&!Cl(t)&&(t=Ge(t));const i=Ge(this),{has:r,get:s}=op(i);let o=r.call(i,e);o||(e=Ge(e),o=r.call(i,e));const a=s.call(i,e);return i.set(e,t),o?nr(t,a)&&ho(i,"set",e,t):ho(i,"add",e,t),this}function Uk(e){const t=Ge(this),{has:n,get:i}=op(t);let r=n.call(t,e);r||(e=Ge(e),r=n.call(t,e)),i&&i.call(t,e);const s=t.delete(e);return r&&ho(t,"delete",e,void 0),s}function jk(){const e=Ge(this),t=e.size!==0,n=e.clear();return t&&ho(e,"clear",void 0,void 0),n}function hv(e,t){return function(i,r){const s=this,o=s.__v_raw,a=Ge(o),l=t?_S:e?ES:Ri;return!e&&Bi(a,"iterate",vl),o.forEach((u,d)=>i.call(r,l(u),l(d),s))}}function vv(e,t,n){return function(...i){const r=this.__v_raw,s=Ge(r),o=ju(s),a=e==="entries"||e===Symbol.iterator&&o,l=e==="keys"&&o,u=r[e](...i),d=n?_S:t?ES:Ri;return!t&&Bi(s,"iterate",l?wb:vl),{next(){const{value:c,done:f}=u.next();return f?{value:c,done:f}:{value:a?[d(c[0]),d(c[1])]:d(c),done:f}},[Symbol.iterator](){return this}}}}function Uo(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function D3(){const e={get(s){return cv(this,s)},get size(){return fv(this)},has:dv,add:$k,set:Bk,delete:Uk,clear:jk,forEach:hv(!1,!1)},t={get(s){return cv(this,s,!1,!0)},get size(){return fv(this)},has:dv,add(s){return $k.call(this,s,!0)},set(s,o){return Bk.call(this,s,o,!0)},delete:Uk,clear:jk,forEach:hv(!1,!0)},n={get(s){return cv(this,s,!0)},get size(){return fv(this,!0)},has(s){return dv.call(this,s,!0)},add:Uo("add"),set:Uo("set"),delete:Uo("delete"),clear:Uo("clear"),forEach:hv(!0,!1)},i={get(s){return cv(this,s,!0,!0)},get size(){return fv(this,!0)},has(s){return dv.call(this,s,!0)},add:Uo("add"),set:Uo("set"),delete:Uo("delete"),clear:Uo("clear"),forEach:hv(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(s=>{e[s]=vv(s,!1,!1),n[s]=vv(s,!0,!1),t[s]=vv(s,!1,!0),i[s]=vv(s,!0,!0)}),[e,n,t,i]}const[R3,O3,V3,N3]=D3();function yS(e,t){const n=t?e?N3:V3:e?O3:R3;return(i,r,s)=>r==="__v_isReactive"?!e:r==="__v_isReadonly"?e:r==="__v_raw"?i:Reflect.get(qt(n,r)&&r in i?n:i,r,s)}const M3={get:yS(!1,!1)},L3={get:yS(!1,!0)},F3={get:yS(!0,!1)};const nO=new WeakMap,iO=new WeakMap,rO=new WeakMap,$3=new WeakMap;function B3(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function U3(e){return e.__v_skip||!Object.isExtensible(e)?0:B3(c3(e))}function cn(e){return Cl(e)?e:bS(e,!1,A3,M3,nO)}function sO(e){return bS(e,!1,x3,L3,iO)}function xc(e){return bS(e,!0,P3,F3,rO)}function bS(e,t,n,i,r){if(!gn(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const s=r.get(e);if(s)return s;const o=U3(e);if(o===0)return e;const a=new Proxy(e,o===2?i:n);return r.set(e,a),a}function ml(e){return Cl(e)?ml(e.__v_raw):!!(e&&e.__v_isReactive)}function Cl(e){return!!(e&&e.__v_isReadonly)}function $r(e){return!!(e&&e.__v_isShallow)}function wS(e){return e?!!e.__v_raw:!1}function Ge(e){const t=e&&e.__v_raw;return t?Ge(t):e}function SS(e){return!qt(e,"__v_skip")&&Object.isExtensible(e)&&LR(e,"__v_skip",!0),e}const Ri=e=>gn(e)?cn(e):e,ES=e=>gn(e)?xc(e):e;function Qe(e){return e?e.__v_isRef===!0:!1}function z(e){return oO(e,!1)}function Te(e){return oO(e,!0)}function oO(e,t){return Qe(e)?e:new j3(e,t)}class j3{constructor(t,n){this.dep=new rp,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?t:Ge(t),this._value=n?t:Ri(t),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(t){const n=this._rawValue,i=this.__v_isShallow||$r(t)||Cl(t);t=i?t:Ge(t),nr(t,n)&&(this._rawValue=t,this._value=i?t:Ri(t),this.dep.trigger())}}function se(e){return Qe(e)?e.value:e}function fn(e){return ht(e)?e():se(e)}const H3={get:(e,t,n)=>t==="__v_raw"?e:se(Reflect.get(e,t,n)),set:(e,t,n,i)=>{const r=e[t];return Qe(r)&&!Qe(n)?(r.value=n,!0):Reflect.set(e,t,n,i)}};function aO(e){return ml(e)?e:new Proxy(e,H3)}class W3{constructor(t){this.__v_isRef=!0,this._value=void 0;const n=this.dep=new rp,{get:i,set:r}=t(n.track.bind(n),n.trigger.bind(n));this._get=i,this._set=r}get value(){return this._value=this._get()}set value(t){this._set(t)}}function z3(e){return new W3(e)}function xa(e){const t=rt(e)?new Array(e.length):{};for(const n in e)t[n]=lO(e,n);return t}class G3{constructor(t,n,i){this._object=t,this._key=n,this._defaultValue=i,this.__v_isRef=!0,this._value=void 0}get value(){const t=this._object[this._key];return this._value=t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return S3(Ge(this._object),this._key)}}class q3{constructor(t){this._getter=t,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function ue(e,t,n){return Qe(e)?e:ht(e)?new q3(e):gn(e)&&arguments.length>1?lO(e,t,n):z(e)}function lO(e,t,n){const i=e[t];return Qe(i)?i:new G3(e,t,n)}class Y3{constructor(t,n,i){this.fn=t,this.setter=n,this._value=void 0,this.dep=new rp(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=cf-1,this.effect=this,this.__v_isReadonly=!n,this.isSSR=i}notify(){if(this.flags|=16,!(this.flags&8)&&ln!==this)return qR(this),!0}get value(){const t=this.dep.track();return XR(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function K3(e,t,n=!1){let i,r;return ht(e)?i=e:(i=e.get,r=e.set),new Y3(i,r,n)}const mv={},Im=new WeakMap;let Xa;function X3(e,t=!1,n=Xa){if(n){let i=Im.get(n);i||Im.set(n,i=[]),i.push(e)}}function Q3(e,t,n=Wt){const{immediate:i,deep:r,once:s,scheduler:o,augmentJob:a,call:l}=n,u=k=>r?k:$r(k)||r===!1||r===0?no(k,1):no(k);let d,c,f,v,g=!1,p=!1;if(Qe(e)?(c=()=>e.value,g=$r(e)):ml(e)?(c=()=>u(e),g=!0):rt(e)?(p=!0,g=e.some(k=>ml(k)||$r(k)),c=()=>e.map(k=>{if(Qe(k))return k.value;if(ml(k))return u(k);if(ht(k))return l?l(k,2):k()})):ht(e)?t?c=l?()=>l(e,2):e:c=()=>{if(f){Aa();try{f()}finally{Pa()}}const k=Xa;Xa=d;try{return l?l(e,3,[v]):e(v)}finally{Xa=k}}:c=Cs,t&&r){const k=c,R=r===!0?1/0:r;c=()=>no(k(),R)}const _=WR(),y=()=>{d.stop(),_&&hS(_.effects,d)};if(s&&t){const k=t;t=(...R)=>{k(...R),y()}}let b=p?new Array(e.length).fill(mv):mv;const E=k=>{if(!(!(d.flags&1)||!d.dirty&&!k))if(t){const R=d.run();if(r||g||(p?R.some((O,D)=>nr(O,b[D])):nr(R,b))){f&&f();const O=Xa;Xa=d;try{const D=[R,b===mv?void 0:p&&b[0]===mv?[]:b,v];l?l(t,3,D):t(...D),b=R}finally{Xa=O}}}else d.run()};return a&&a(E),d=new zR(c),d.scheduler=o?()=>o(E,!1):E,v=k=>X3(k,!1,d),f=d.onStop=()=>{const k=Im.get(d);if(k){if(l)l(k,4);else for(const R of k)R();Im.delete(d)}},t?i?E(!0):b=d.run():o?o(E.bind(null,!0),!0):d.run(),y.pause=d.pause.bind(d),y.resume=d.resume.bind(d),y.stop=y,y}function no(e,t=1/0,n){if(t<=0||!gn(e)||e.__v_skip||(n=n||new Set,n.has(e)))return e;if(n.add(e),t--,Qe(e))no(e.value,t,n);else if(rt(e))for(let i=0;i<e.length;i++)no(e[i],t,n);else if(OR(e)||ju(e))e.forEach(i=>{no(i,t,n)});else if(MR(e)){for(const i in e)no(e[i],t,n);for(const i of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,i)&&no(e[i],t,n)}return e}/**
* @vue/runtime-core v3.5.7
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function ch(e,t,n,i){try{return i?e(...i):e()}catch(r){ap(r,t,n)}}function rs(e,t,n,i){if(ht(e)){const r=ch(e,t,n,i);return r&&VR(r)&&r.catch(s=>{ap(s,t,n)}),r}if(rt(e)){const r=[];for(let s=0;s<e.length;s++)r.push(rs(e[s],t,n,i));return r}}function ap(e,t,n,i=!0){const r=t?t.vnode:null,{errorHandler:s,throwUnhandledErrorInProduction:o}=t&&t.appContext.config||Wt;if(t){let a=t.parent;const l=t.proxy,u=`https://vuejs.org/error-reference/#runtime-${n}`;for(;a;){const d=a.ec;if(d){for(let c=0;c<d.length;c++)if(d[c](e,l,u)===!1)return}a=a.parent}if(s){Aa(),ch(s,null,10,[e,l,u]),Pa();return}}J3(e,n,r,i,o)}function J3(e,t,n,i=!0,r=!1){if(r)throw e;console.error(e)}let hf=!1,Sb=!1;const Yi=[];let gs=0;const Hu=[];let qo=null,Au=0;const uO=Promise.resolve();let CS=null;function ot(e){const t=CS||uO;return e?t.then(this?e.bind(this):e):t}function Z3(e){let t=hf?gs+1:0,n=Yi.length;for(;t<n;){const i=t+n>>>1,r=Yi[i],s=vf(r);s<e||s===e&&r.flags&2?t=i+1:n=i}return t}function kS(e){if(!(e.flags&1)){const t=vf(e),n=Yi[Yi.length-1];!n||!(e.flags&2)&&t>=vf(n)?Yi.push(e):Yi.splice(Z3(t),0,e),e.flags|=1,cO()}}function cO(){!hf&&!Sb&&(Sb=!0,CS=uO.then(fO))}function ej(e){rt(e)?Hu.push(...e):qo&&e.id===-1?qo.splice(Au+1,0,e):e.flags&1||(Hu.push(e),e.flags|=1),cO()}function Hk(e,t,n=hf?gs+1:0){for(;n<Yi.length;n++){const i=Yi[n];if(i&&i.flags&2){if(e&&i.id!==e.uid)continue;Yi.splice(n,1),n--,i.flags&4&&(i.flags&=-2),i(),i.flags&4||(i.flags&=-2)}}}function dO(e){if(Hu.length){const t=[...new Set(Hu)].sort((n,i)=>vf(n)-vf(i));if(Hu.length=0,qo){qo.push(...t);return}for(qo=t,Au=0;Au<qo.length;Au++){const n=qo[Au];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}qo=null,Au=0}}const vf=e=>e.id==null?e.flags&2?-1:1/0:e.id;function fO(e){Sb=!1,hf=!0;try{for(gs=0;gs<Yi.length;gs++){const t=Yi[gs];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),ch(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;gs<Yi.length;gs++){const t=Yi[gs];t&&(t.flags&=-2)}gs=0,Yi.length=0,dO(),hf=!1,CS=null,(Yi.length||Hu.length)&&fO()}}let ui=null,hO=null;function Am(e){const t=ui;return ui=e,hO=e&&e.type.__scopeId||null,t}function N(e,t=ui,n){if(!t||e._n)return e;const i=(...r)=>{i._d&&eT(-1);const s=Am(t);let o;try{o=e(...r)}finally{Am(s),i._d&&eT(1)}return o};return i._n=!0,i._c=!0,i._d=!0,i}function pn(e,t){if(ui===null)return e;const n=hp(ui),i=e.dirs||(e.dirs=[]);for(let r=0;r<t.length;r++){let[s,o,a,l=Wt]=t[r];s&&(ht(s)&&(s={mounted:s,updated:s}),s.deep&&no(o),i.push({dir:s,instance:n,value:o,oldValue:void 0,arg:a,modifiers:l}))}return e}function za(e,t,n,i){const r=e.dirs,s=t&&t.dirs;for(let o=0;o<r.length;o++){const a=r[o];s&&(a.oldValue=s[o].value);let l=a.dir[i];l&&(Aa(),rs(l,n,8,[e.el,a,e,t]),Pa())}}const vO=Symbol("_vte"),mO=e=>e.__isTeleport,jd=e=>e&&(e.disabled||e.disabled===""),tj=e=>e&&(e.defer||e.defer===""),Wk=e=>typeof SVGElement<"u"&&e instanceof SVGElement,zk=e=>typeof MathMLElement=="function"&&e instanceof MathMLElement,Eb=(e,t)=>{const n=e&&e.to;return Dn(n)?t?t(n):null:n},nj={name:"Teleport",__isTeleport:!0,process(e,t,n,i,r,s,o,a,l,u){const{mc:d,pc:c,pbc:f,o:{insert:v,querySelector:g,createText:p,createComment:_}}=u,y=jd(t.props);let{shapeFlag:b,children:E,dynamicChildren:k}=t;if(e==null){const R=t.el=p(""),O=t.anchor=p("");v(R,n,i),v(O,n,i);const D=(w,C)=>{b&16&&(r&&r.isCE&&(r.ce._teleportTarget=w),d(E,w,C,r,s,o,a,l))},S=()=>{const w=t.target=Eb(t.props,g),C=pO(w,t,p,v);w&&(o!=="svg"&&Wk(w)?o="svg":o!=="mathml"&&zk(w)&&(o="mathml"),y||(D(w,C),Qv(t)))};y&&(D(n,O),Qv(t)),tj(t.props)?tr(S,s):S()}else{t.el=e.el,t.targetStart=e.targetStart;const R=t.anchor=e.anchor,O=t.target=e.target,D=t.targetAnchor=e.targetAnchor,S=jd(e.props),w=S?n:O,C=S?R:D;if(o==="svg"||Wk(O)?o="svg":(o==="mathml"||zk(O))&&(o="mathml"),k?(f(e.dynamicChildren,k,w,r,s,o,a),NS(e,t,!0)):l||c(e,t,w,C,r,s,o,a,!1),y)S?t.props&&e.props&&t.props.to!==e.props.to&&(t.props.to=e.props.to):gv(t,n,R,u,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const A=t.target=Eb(t.props,g);A&&gv(t,A,null,u,0)}else S&&gv(t,O,D,u,1);Qv(t)}},remove(e,t,n,{um:i,o:{remove:r}},s){const{shapeFlag:o,children:a,anchor:l,targetStart:u,targetAnchor:d,target:c,props:f}=e;if(c&&(r(u),r(d)),s&&r(l),o&16){const v=s||!jd(f);for(let g=0;g<a.length;g++){const p=a[g];i(p,t,n,v,!!p.dynamicChildren)}}},move:gv,hydrate:ij};function gv(e,t,n,{o:{insert:i},m:r},s=2){s===0&&i(e.targetAnchor,t,n);const{el:o,anchor:a,shapeFlag:l,children:u,props:d}=e,c=s===2;if(c&&i(o,t,n),(!c||jd(d))&&l&16)for(let f=0;f<u.length;f++)r(u[f],t,n,2);c&&i(a,t,n)}function ij(e,t,n,i,r,s,{o:{nextSibling:o,parentNode:a,querySelector:l,insert:u,createText:d}},c){const f=t.target=Eb(t.props,l);if(f){const v=f._lpa||f.firstChild;if(t.shapeFlag&16)if(jd(t.props))t.anchor=c(o(e),t,a(e),n,i,r,s),t.targetStart=v,t.targetAnchor=v&&o(v);else{t.anchor=o(e);let g=v;for(;g;){if(g&&g.nodeType===8){if(g.data==="teleport start anchor")t.targetStart=g;else if(g.data==="teleport anchor"){t.targetAnchor=g,f._lpa=t.targetAnchor&&o(t.targetAnchor);break}}g=o(g)}t.targetAnchor||pO(f,t,d,u),c(v&&o(v),t,f,n,i,r,s)}Qv(t)}return t.anchor&&o(t.anchor)}const gO=nj;function Qv(e){const t=e.ctx;if(t&&t.ut){let n=e.targetStart;for(;n&&n!==e.targetAnchor;)n.nodeType===1&&n.setAttribute("data-v-owner",t.uid),n=n.nextSibling;t.ut()}}function pO(e,t,n,i){const r=t.targetStart=n(""),s=t.targetAnchor=n("");return r[vO]=s,e&&(i(r,e),i(s,e)),s}const Yo=Symbol("_leaveCb"),pv=Symbol("_enterCb");function _O(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return yt(()=>{e.isMounted=!0}),di(()=>{e.isUnmounting=!0}),e}const Or=[Function,Array],yO={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Or,onEnter:Or,onAfterEnter:Or,onEnterCancelled:Or,onBeforeLeave:Or,onLeave:Or,onAfterLeave:Or,onLeaveCancelled:Or,onBeforeAppear:Or,onAppear:Or,onAfterAppear:Or,onAppearCancelled:Or},bO=e=>{const t=e.subTree;return t.component?bO(t.component):t},rj={name:"BaseTransition",props:yO,setup(e,{slots:t}){const n=Gl(),i=_O();return()=>{const r=t.default&&TS(t.default(),!0);if(!r||!r.length)return;const s=wO(r),o=Ge(e),{mode:a}=o;if(i.isLeaving)return cy(s);const l=Gk(s);if(!l)return cy(s);let u=mf(l,o,i,n,f=>u=f);l.type!==Mi&&kl(l,u);const d=n.subTree,c=d&&Gk(d);if(c&&c.type!==Mi&&!el(l,c)&&bO(n).type!==Mi){const f=mf(c,o,i,n);if(kl(c,f),a==="out-in"&&l.type!==Mi)return i.isLeaving=!0,f.afterLeave=()=>{i.isLeaving=!1,n.job.flags&8||n.update(),delete f.afterLeave},cy(s);a==="in-out"&&l.type!==Mi&&(f.delayLeave=(v,g,p)=>{const _=SO(i,c);_[String(c.key)]=c,v[Yo]=()=>{g(),v[Yo]=void 0,delete u.delayedLeave},u.delayedLeave=p})}return s}}};function wO(e){let t=e[0];if(e.length>1){for(const n of e)if(n.type!==Mi){t=n;break}}return t}const sj=rj;function SO(e,t){const{leavingVNodes:n}=e;let i=n.get(t.type);return i||(i=Object.create(null),n.set(t.type,i)),i}function mf(e,t,n,i,r){const{appear:s,mode:o,persisted:a=!1,onBeforeEnter:l,onEnter:u,onAfterEnter:d,onEnterCancelled:c,onBeforeLeave:f,onLeave:v,onAfterLeave:g,onLeaveCancelled:p,onBeforeAppear:_,onAppear:y,onAfterAppear:b,onAppearCancelled:E}=t,k=String(e.key),R=SO(n,e),O=(w,C)=>{w&&rs(w,i,9,C)},D=(w,C)=>{const A=C[1];O(w,C),rt(w)?w.every(P=>P.length<=1)&&A():w.length<=1&&A()},S={mode:o,persisted:a,beforeEnter(w){let C=l;if(!n.isMounted)if(s)C=_||l;else return;w[Yo]&&w[Yo](!0);const A=R[k];A&&el(e,A)&&A.el[Yo]&&A.el[Yo](),O(C,[w])},enter(w){let C=u,A=d,P=c;if(!n.isMounted)if(s)C=y||u,A=b||d,P=E||c;else return;let x=!1;const U=w[pv]=$=>{x||(x=!0,$?O(P,[w]):O(A,[w]),S.delayedLeave&&S.delayedLeave(),w[pv]=void 0)};C?D(C,[w,U]):U()},leave(w,C){const A=String(e.key);if(w[pv]&&w[pv](!0),n.isUnmounting)return C();O(f,[w]);let P=!1;const x=w[Yo]=U=>{P||(P=!0,C(),U?O(p,[w]):O(g,[w]),w[Yo]=void 0,R[A]===e&&delete R[A])};R[A]=e,v?D(v,[w,x]):x()},clone(w){const C=mf(w,t,n,i,r);return r&&r(C),C}};return S}function cy(e){if(lp(e))return e=Ds(e),e.children=null,e}function Gk(e){if(!lp(e))return mO(e.type)&&e.children?wO(e.children):e;const{shapeFlag:t,children:n}=e;if(n){if(t&16)return n[0];if(t&32&&ht(n.default))return n.default()}}function kl(e,t){e.shapeFlag&6&&e.component?(e.transition=t,kl(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function TS(e,t=!1,n){let i=[],r=0;for(let s=0;s<e.length;s++){let o=e[s];const a=n==null?o.key:String(n)+String(o.key!=null?o.key:s);o.type===Ie?(o.patchFlag&128&&r++,i=i.concat(TS(o.children,t,a))):(t||o.type!==Mi)&&i.push(a!=null?Ds(o,{key:a}):o)}if(r>1)for(let s=0;s<i.length;s++)i[s].patchFlag=-2;return i}/*! #__NO_SIDE_EFFECTS__ */function Tt(e,t){return ht(e)?zn({name:e.name},t,{setup:e}):e}function EO(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function oj(e){const t=Gl(),n=Te(null);if(t){const r=t.refs===Wt?t.refs={}:t.refs;Object.defineProperty(r,e,{enumerable:!0,get:()=>n.value,set:s=>n.value=s})}return n}function Cb(e,t,n,i,r=!1){if(rt(e)){e.forEach((g,p)=>Cb(g,t&&(rt(t)?t[p]:t),n,i,r));return}if(Wu(i)&&!r)return;const s=i.shapeFlag&4?hp(i.component):i.el,o=r?null:s,{i:a,r:l}=e,u=t&&t.r,d=a.refs===Wt?a.refs={}:a.refs,c=a.setupState,f=Ge(c),v=c===Wt?()=>!1:g=>qt(f,g);if(u!=null&&u!==l&&(Dn(u)?(d[u]=null,v(u)&&(c[u]=null)):Qe(u)&&(u.value=null)),ht(l))ch(l,a,12,[o,d]);else{const g=Dn(l),p=Qe(l);if(g||p){const _=()=>{if(e.f){const y=g?v(l)?c[l]:d[l]:l.value;r?rt(y)&&hS(y,s):rt(y)?y.includes(s)||y.push(s):g?(d[l]=[s],v(l)&&(c[l]=d[l])):(l.value=[s],e.k&&(d[e.k]=l.value))}else g?(d[l]=o,v(l)&&(c[l]=o)):p&&(l.value=o,e.k&&(d[e.k]=o))};o?(_.id=-1,tr(_,n)):_()}}}const Wu=e=>!!e.type.__asyncLoader,lp=e=>e.type.__isKeepAlive;function CO(e,t){kO(e,"a",t)}function IS(e,t){kO(e,"da",t)}function kO(e,t,n=_i){const i=e.__wdc||(e.__wdc=()=>{let r=n;for(;r;){if(r.isDeactivated)return;r=r.parent}return e()});if(up(t,i,n),n){let r=n.parent;for(;r&&r.parent;)lp(r.parent.vnode)&&aj(i,t,n,r),r=r.parent}}function aj(e,t,n,i){const r=up(t,e,i,!0);Ir(()=>{hS(i[t],r)},n)}function up(e,t,n=_i,i=!1){if(n){const r=n[e]||(n[e]=[]),s=t.__weh||(t.__weh=(...o)=>{Aa();const a=fh(n),l=rs(t,n,e,o);return a(),Pa(),l});return i?r.unshift(s):r.push(s),s}}const Po=e=>(t,n=_i)=>{(!fp||e==="sp")&&up(e,(...i)=>t(...i),n)},AS=Po("bm"),yt=Po("m"),TO=Po("bu"),PS=Po("u"),di=Po("bum"),Ir=Po("um"),IO=Po("sp"),lj=Po("rtg"),uj=Po("rtc");function cj(e,t=_i){up("ec",e,t)}const xS="components",dj="directives";function H(e,t){return DS(xS,e,!0,t)||e}const AO=Symbol.for("v-ndc");function PO(e){return Dn(e)?DS(xS,e,!1)||e:e||AO}function ur(e){return DS(dj,e)}function DS(e,t,n=!0,i=!1){const r=ui||_i;if(r){const s=r.type;if(e===xS){const a=Xj(s,!1);if(a&&(a===t||a===lr(t)||a===Fs(lr(t))))return s}const o=qk(r[e]||s[e],t)||qk(r.appContext[e],t);return!o&&i?s:o}}function qk(e,t){return e&&(e[t]||e[lr(t)]||e[Fs(lr(t))])}function Ui(e,t,n,i){let r;const s=n,o=rt(e);if(o||Dn(e)){const a=o&&ml(e);let l=!1;a&&(l=!$r(e),e=sp(e)),r=new Array(e.length);for(let u=0,d=e.length;u<d;u++)r[u]=t(l?Ri(e[u]):e[u],u,void 0,s)}else if(typeof e=="number"){r=new Array(e);for(let a=0;a<e;a++)r[a]=t(a+1,a,void 0,s)}else if(gn(e))if(e[Symbol.iterator])r=Array.from(e,(a,l)=>t(a,l,void 0,s));else{const a=Object.keys(e);r=new Array(a.length);for(let l=0,u=a.length;l<u;l++){const d=a[l];r[l]=t(e[d],d,l,s)}}else r=[];return r}function RS(e,t){for(let n=0;n<t.length;n++){const i=t[n];if(rt(i))for(let r=0;r<i.length;r++)e[i[r].name]=i[r].fn;else i&&(e[i.name]=i.key?(...r)=>{const s=i.fn(...r);return s&&(s.key=i.key),s}:i.fn)}return e}function fj(e,t,n={},i,r){if(ui.ce||ui.parent&&Wu(ui.parent)&&ui.parent.ce)return n.name=t,ye(),Le(Ie,null,[h("slot",n,i)],64);let s=e[t];s&&s._c&&(s._d=!1),ye();const o=s&&xO(s(n)),a=Le(Ie,{key:(n.key||o&&o.key||`_${t}`)+(!o&&i?"_fb":"")},o||[],o&&e._===1?64:-2);return a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),s&&s._c&&(s._d=!0),a}function xO(e){return e.some(t=>Tl(t)?!(t.type===Mi||t.type===Ie&&!xO(t.children)):!0)?e:null}const kb=e=>e?KO(e)?hp(e):kb(e.parent):null,Hd=zn(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>kb(e.parent),$root:e=>kb(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>OS(e),$forceUpdate:e=>e.f||(e.f=()=>{kS(e.update)}),$nextTick:e=>e.n||(e.n=ot.bind(e.proxy)),$watch:e=>Vj.bind(e)}),dy=(e,t)=>e!==Wt&&!e.__isScriptSetup&&qt(e,t),hj={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:n,setupState:i,data:r,props:s,accessCache:o,type:a,appContext:l}=e;let u;if(t[0]!=="$"){const v=o[t];if(v!==void 0)switch(v){case 1:return i[t];case 2:return r[t];case 4:return n[t];case 3:return s[t]}else{if(dy(i,t))return o[t]=1,i[t];if(r!==Wt&&qt(r,t))return o[t]=2,r[t];if((u=e.propsOptions[0])&&qt(u,t))return o[t]=3,s[t];if(n!==Wt&&qt(n,t))return o[t]=4,n[t];Tb&&(o[t]=0)}}const d=Hd[t];let c,f;if(d)return t==="$attrs"&&Bi(e.attrs,"get",""),d(e);if((c=a.__cssModules)&&(c=c[t]))return c;if(n!==Wt&&qt(n,t))return o[t]=4,n[t];if(f=l.config.globalProperties,qt(f,t))return f[t]},set({_:e},t,n){const{data:i,setupState:r,ctx:s}=e;return dy(r,t)?(r[t]=n,!0):i!==Wt&&qt(i,t)?(i[t]=n,!0):qt(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(s[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:i,appContext:r,propsOptions:s}},o){let a;return!!n[o]||e!==Wt&&qt(e,o)||dy(t,o)||(a=s[0])&&qt(a,o)||qt(i,o)||qt(Hd,o)||qt(r.config.globalProperties,o)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:qt(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function Pm(e){return rt(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}function tc(e,t){return!e||!t?e||t:rt(e)&&rt(t)?e.concat(t):zn({},Pm(e),Pm(t))}let Tb=!0;function vj(e){const t=OS(e),n=e.proxy,i=e.ctx;Tb=!1,t.beforeCreate&&Yk(t.beforeCreate,e,"bc");const{data:r,computed:s,methods:o,watch:a,provide:l,inject:u,created:d,beforeMount:c,mounted:f,beforeUpdate:v,updated:g,activated:p,deactivated:_,beforeDestroy:y,beforeUnmount:b,destroyed:E,unmounted:k,render:R,renderTracked:O,renderTriggered:D,errorCaptured:S,serverPrefetch:w,expose:C,inheritAttrs:A,components:P,directives:x,filters:U}=t;if(u&&mj(u,i,null),o)for(const Y in o){const W=o[Y];ht(W)&&(i[Y]=W.bind(n))}if(r){const Y=r.call(n,n);gn(Y)&&(e.data=cn(Y))}if(Tb=!0,s)for(const Y in s){const W=s[Y],K=ht(W)?W.bind(n,n):ht(W.get)?W.get.bind(n,n):Cs,G=!ht(W)&&ht(W.set)?W.set.bind(n):Cs,te=I({get:K,set:G});Object.defineProperty(i,Y,{enumerable:!0,configurable:!0,get:()=>te.value,set:oe=>te.value=oe})}if(a)for(const Y in a)DO(a[Y],i,n,Y);if(l){const Y=ht(l)?l.call(n):l;Reflect.ownKeys(Y).forEach(W=>{Ut(W,Y[W])})}d&&Yk(d,e,"c");function j(Y,W){rt(W)?W.forEach(K=>Y(K.bind(n))):W&&Y(W.bind(n))}if(j(AS,c),j(yt,f),j(TO,v),j(PS,g),j(CO,p),j(IS,_),j(cj,S),j(uj,O),j(lj,D),j(di,b),j(Ir,k),j(IO,w),rt(C))if(C.length){const Y=e.exposed||(e.exposed={});C.forEach(W=>{Object.defineProperty(Y,W,{get:()=>n[W],set:K=>n[W]=K})})}else e.exposed||(e.exposed={});R&&e.render===Cs&&(e.render=R),A!=null&&(e.inheritAttrs=A),P&&(e.components=P),x&&(e.directives=x),w&&EO(e)}function mj(e,t,n=Cs){rt(e)&&(e=Ib(e));for(const i in e){const r=e[i];let s;gn(r)?"default"in r?s=st(r.from||i,r.default,!0):s=st(r.from||i):s=st(r),Qe(s)?Object.defineProperty(t,i,{enumerable:!0,configurable:!0,get:()=>s.value,set:o=>s.value=o}):t[i]=s}}function Yk(e,t,n){rs(rt(e)?e.map(i=>i.bind(t.proxy)):e.bind(t.proxy),t,n)}function DO(e,t,n,i){let r=i.includes(".")?HO(n,i):()=>n[i];if(Dn(e)){const s=t[e];ht(s)&&ge(r,s)}else if(ht(e))ge(r,e.bind(n));else if(gn(e))if(rt(e))e.forEach(s=>DO(s,t,n,i));else{const s=ht(e.handler)?e.handler.bind(n):t[e.handler];ht(s)&&ge(r,s,e)}}function OS(e){const t=e.type,{mixins:n,extends:i}=t,{mixins:r,optionsCache:s,config:{optionMergeStrategies:o}}=e.appContext,a=s.get(t);let l;return a?l=a:!r.length&&!n&&!i?l=t:(l={},r.length&&r.forEach(u=>xm(l,u,o,!0)),xm(l,t,o)),gn(t)&&s.set(t,l),l}function xm(e,t,n,i=!1){const{mixins:r,extends:s}=t;s&&xm(e,s,n,!0),r&&r.forEach(o=>xm(e,o,n,!0));for(const o in t)if(!(i&&o==="expose")){const a=gj[o]||n&&n[o];e[o]=a?a(e[o],t[o]):t[o]}return e}const gj={data:Kk,props:Xk,emits:Xk,methods:Td,computed:Td,beforeCreate:zi,created:zi,beforeMount:zi,mounted:zi,beforeUpdate:zi,updated:zi,beforeDestroy:zi,beforeUnmount:zi,destroyed:zi,unmounted:zi,activated:zi,deactivated:zi,errorCaptured:zi,serverPrefetch:zi,components:Td,directives:Td,watch:_j,provide:Kk,inject:pj};function Kk(e,t){return t?e?function(){return zn(ht(e)?e.call(this,this):e,ht(t)?t.call(this,this):t)}:t:e}function pj(e,t){return Td(Ib(e),Ib(t))}function Ib(e){if(rt(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function zi(e,t){return e?[...new Set([].concat(e,t))]:t}function Td(e,t){return e?zn(Object.create(null),e,t):t}function Xk(e,t){return e?rt(e)&&rt(t)?[...new Set([...e,...t])]:zn(Object.create(null),Pm(e),Pm(t??{})):t}function _j(e,t){if(!e)return t;if(!t)return e;const n=zn(Object.create(null),e);for(const i in t)n[i]=zi(e[i],t[i]);return n}function RO(){return{app:null,config:{isNativeTag:l3,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let yj=0;function bj(e,t){return function(i,r=null){ht(i)||(i=zn({},i)),r!=null&&!gn(r)&&(r=null);const s=RO(),o=new WeakSet,a=[];let l=!1;const u=s.app={_uid:yj++,_component:i,_props:r,_container:null,_context:s,_instance:null,version:Jj,get config(){return s.config},set config(d){},use(d,...c){return o.has(d)||(d&&ht(d.install)?(o.add(d),d.install(u,...c)):ht(d)&&(o.add(d),d(u,...c))),u},mixin(d){return s.mixins.includes(d)||s.mixins.push(d),u},component(d,c){return c?(s.components[d]=c,u):s.components[d]},directive(d,c){return c?(s.directives[d]=c,u):s.directives[d]},mount(d,c,f){if(!l){const v=u._ceVNode||h(i,r);return v.appContext=s,f===!0?f="svg":f===!1&&(f=void 0),c&&t?t(v,d):e(v,d,f),l=!0,u._container=d,d.__vue_app__=u,hp(v.component)}},onUnmount(d){a.push(d)},unmount(){l&&(rs(a,u._instance,16),e(null,u._container),delete u._container.__vue_app__)},provide(d,c){return s.provides[d]=c,u},runWithContext(d){const c=zu;zu=u;try{return d()}finally{zu=c}}};return u}}let zu=null;function Ut(e,t){if(_i){let n=_i.provides;const i=_i.parent&&_i.parent.provides;i===n&&(n=_i.provides=Object.create(i)),n[e]=t}}function st(e,t,n=!1){const i=_i||ui;if(i||zu){const r=zu?zu._context.provides:i?i.parent==null?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides:void 0;if(r&&e in r)return r[e];if(arguments.length>1)return n&&ht(t)?t.call(i&&i.proxy):t}}const OO={},VO=()=>Object.create(OO),NO=e=>Object.getPrototypeOf(e)===OO;function wj(e,t,n,i=!1){const r={},s=VO();e.propsDefaults=Object.create(null),MO(e,t,r,s);for(const o in e.propsOptions[0])o in r||(r[o]=void 0);n?e.props=i?r:sO(r):e.type.props?e.props=r:e.props=s,e.attrs=s}function Sj(e,t,n,i){const{props:r,attrs:s,vnode:{patchFlag:o}}=e,a=Ge(r),[l]=e.propsOptions;let u=!1;if((i||o>0)&&!(o&16)){if(o&8){const d=e.vnode.dynamicProps;for(let c=0;c<d.length;c++){let f=d[c];if(dp(e.emitsOptions,f))continue;const v=t[f];if(l)if(qt(s,f))v!==s[f]&&(s[f]=v,u=!0);else{const g=lr(f);r[g]=Ab(l,a,g,v,e,!1)}else v!==s[f]&&(s[f]=v,u=!0)}}}else{MO(e,t,r,s)&&(u=!0);let d;for(const c in a)(!t||!qt(t,c)&&((d=Ia(c))===c||!qt(t,d)))&&(l?n&&(n[c]!==void 0||n[d]!==void 0)&&(r[c]=Ab(l,a,c,void 0,e,!0)):delete r[c]);if(s!==a)for(const c in s)(!t||!qt(t,c))&&(delete s[c],u=!0)}u&&ho(e.attrs,"set","")}function MO(e,t,n,i){const[r,s]=e.propsOptions;let o=!1,a;if(t)for(let l in t){if(Bd(l))continue;const u=t[l];let d;r&&qt(r,d=lr(l))?!s||!s.includes(d)?n[d]=u:(a||(a={}))[d]=u:dp(e.emitsOptions,l)||(!(l in i)||u!==i[l])&&(i[l]=u,o=!0)}if(s){const l=Ge(n),u=a||Wt;for(let d=0;d<s.length;d++){const c=s[d];n[c]=Ab(r,l,c,u[c],e,!qt(u,c))}}return o}function Ab(e,t,n,i,r,s){const o=e[n];if(o!=null){const a=qt(o,"default");if(a&&i===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&ht(l)){const{propsDefaults:u}=r;if(n in u)i=u[n];else{const d=fh(r);i=u[n]=l.call(null,t),d()}}else i=l;r.ce&&r.ce._setProp(n,i)}o[0]&&(s&&!a?i=!1:o[1]&&(i===""||i===Ia(n))&&(i=!0))}return i}const Ej=new WeakMap;function LO(e,t,n=!1){const i=n?Ej:t.propsCache,r=i.get(e);if(r)return r;const s=e.props,o={},a=[];let l=!1;if(!ht(e)){const d=c=>{l=!0;const[f,v]=LO(c,t,!0);zn(o,f),v&&a.push(...v)};!n&&t.mixins.length&&t.mixins.forEach(d),e.extends&&d(e.extends),e.mixins&&e.mixins.forEach(d)}if(!s&&!l)return gn(e)&&i.set(e,Uu),Uu;if(rt(s))for(let d=0;d<s.length;d++){const c=lr(s[d]);Qk(c)&&(o[c]=Wt)}else if(s)for(const d in s){const c=lr(d);if(Qk(c)){const f=s[d],v=o[c]=rt(f)||ht(f)?{type:f}:zn({},f),g=v.type;let p=!1,_=!0;if(rt(g))for(let y=0;y<g.length;++y){const b=g[y],E=ht(b)&&b.name;if(E==="Boolean"){p=!0;break}else E==="String"&&(_=!1)}else p=ht(g)&&g.name==="Boolean";v[0]=p,v[1]=_,(p||qt(v,"default"))&&a.push(c)}}const u=[o,a];return gn(e)&&i.set(e,u),u}function Qk(e){return e[0]!=="$"&&!Bd(e)}const FO=e=>e[0]==="_"||e==="$stable",VS=e=>rt(e)?e.map(_s):[_s(e)],Cj=(e,t,n)=>{if(t._n)return t;const i=N((...r)=>VS(t(...r)),n);return i._c=!1,i},$O=(e,t,n)=>{const i=e._ctx;for(const r in e){if(FO(r))continue;const s=e[r];if(ht(s))t[r]=Cj(r,s,i);else if(s!=null){const o=VS(s);t[r]=()=>o}}},BO=(e,t)=>{const n=VS(t);e.slots.default=()=>n},UO=(e,t,n)=>{for(const i in t)(n||i!=="_")&&(e[i]=t[i])},kj=(e,t,n)=>{const i=e.slots=VO();if(e.vnode.shapeFlag&32){const r=t._;r?(UO(i,t,n),n&&LR(i,"_",r,!0)):$O(t,i)}else t&&BO(e,t)},Tj=(e,t,n)=>{const{vnode:i,slots:r}=e;let s=!0,o=Wt;if(i.shapeFlag&32){const a=t._;a?n&&a===1?s=!1:UO(r,t,n):(s=!t.$stable,$O(t,r)),o=t}else t&&(BO(e,t),o={default:1});if(s)for(const a in r)!FO(a)&&o[a]==null&&delete r[a]},tr=Bj;function Ij(e){return Aj(e)}function Aj(e,t){const n=FR();n.__VUE__=!0;const{insert:i,remove:r,patchProp:s,createElement:o,createText:a,createComment:l,setText:u,setElementText:d,parentNode:c,nextSibling:f,setScopeId:v=Cs,insertStaticContent:g}=e,p=(M,L,ee,fe=null,ae=null,me=null,Pe=void 0,Ee=null,Re=!!L.dynamicChildren)=>{if(M===L)return;M&&!el(M,L)&&(fe=B(M),oe(M,ae,me,!0),M=null),L.patchFlag===-2&&(Re=!1,L.dynamicChildren=null);const{type:be,ref:ze,shapeFlag:Me}=L;switch(be){case dh:_(M,L,ee,fe);break;case Mi:y(M,L,ee,fe);break;case vy:M==null&&b(L,ee,fe,Pe);break;case Ie:P(M,L,ee,fe,ae,me,Pe,Ee,Re);break;default:Me&1?R(M,L,ee,fe,ae,me,Pe,Ee,Re):Me&6?x(M,L,ee,fe,ae,me,Pe,Ee,Re):(Me&64||Me&128)&&be.process(M,L,ee,fe,ae,me,Pe,Ee,Re,ce)}ze!=null&&ae&&Cb(ze,M&&M.ref,me,L||M,!L)},_=(M,L,ee,fe)=>{if(M==null)i(L.el=a(L.children),ee,fe);else{const ae=L.el=M.el;L.children!==M.children&&u(ae,L.children)}},y=(M,L,ee,fe)=>{M==null?i(L.el=l(L.children||""),ee,fe):L.el=M.el},b=(M,L,ee,fe)=>{[M.el,M.anchor]=g(M.children,L,ee,fe,M.el,M.anchor)},E=({el:M,anchor:L},ee,fe)=>{let ae;for(;M&&M!==L;)ae=f(M),i(M,ee,fe),M=ae;i(L,ee,fe)},k=({el:M,anchor:L})=>{let ee;for(;M&&M!==L;)ee=f(M),r(M),M=ee;r(L)},R=(M,L,ee,fe,ae,me,Pe,Ee,Re)=>{L.type==="svg"?Pe="svg":L.type==="math"&&(Pe="mathml"),M==null?O(L,ee,fe,ae,me,Pe,Ee,Re):w(M,L,ae,me,Pe,Ee,Re)},O=(M,L,ee,fe,ae,me,Pe,Ee)=>{let Re,be;const{props:ze,shapeFlag:Me,transition:He,dirs:Ce}=M;if(Re=M.el=o(M.type,me,ze&&ze.is,ze),Me&8?d(Re,M.children):Me&16&&S(M.children,Re,null,fe,ae,fy(M,me),Pe,Ee),Ce&&za(M,null,fe,"created"),D(Re,M,M.scopeId,Pe,fe),ze){for(const mt in ze)mt!=="value"&&!Bd(mt)&&s(Re,mt,null,ze[mt],me,fe);"value"in ze&&s(Re,"value",null,ze.value,me),(be=ze.onVnodeBeforeMount)&&vs(be,fe,M)}Ce&&za(M,null,fe,"beforeMount");const Ze=Pj(ae,He);Ze&&He.beforeEnter(Re),i(Re,L,ee),((be=ze&&ze.onVnodeMounted)||Ze||Ce)&&tr(()=>{be&&vs(be,fe,M),Ze&&He.enter(Re),Ce&&za(M,null,fe,"mounted")},ae)},D=(M,L,ee,fe,ae)=>{if(ee&&v(M,ee),fe)for(let me=0;me<fe.length;me++)v(M,fe[me]);if(ae){let me=ae.subTree;if(L===me||GO(me.type)&&(me.ssContent===L||me.ssFallback===L)){const Pe=ae.vnode;D(M,Pe,Pe.scopeId,Pe.slotScopeIds,ae.parent)}}},S=(M,L,ee,fe,ae,me,Pe,Ee,Re=0)=>{for(let be=Re;be<M.length;be++){const ze=M[be]=Ee?Ko(M[be]):_s(M[be]);p(null,ze,L,ee,fe,ae,me,Pe,Ee)}},w=(M,L,ee,fe,ae,me,Pe)=>{const Ee=L.el=M.el;let{patchFlag:Re,dynamicChildren:be,dirs:ze}=L;Re|=M.patchFlag&16;const Me=M.props||Wt,He=L.props||Wt;let Ce;if(ee&&Ga(ee,!1),(Ce=He.onVnodeBeforeUpdate)&&vs(Ce,ee,L,M),ze&&za(L,M,ee,"beforeUpdate"),ee&&Ga(ee,!0),(Me.innerHTML&&He.innerHTML==null||Me.textContent&&He.textContent==null)&&d(Ee,""),be?C(M.dynamicChildren,be,Ee,ee,fe,fy(L,ae),me):Pe||W(M,L,Ee,null,ee,fe,fy(L,ae),me,!1),Re>0){if(Re&16)A(Ee,Me,He,ee,ae);else if(Re&2&&Me.class!==He.class&&s(Ee,"class",null,He.class,ae),Re&4&&s(Ee,"style",Me.style,He.style,ae),Re&8){const Ze=L.dynamicProps;for(let mt=0;mt<Ze.length;mt++){const xt=Ze[mt],le=Me[xt],re=He[xt];(re!==le||xt==="value")&&s(Ee,xt,le,re,ae,ee)}}Re&1&&M.children!==L.children&&d(Ee,L.children)}else!Pe&&be==null&&A(Ee,Me,He,ee,ae);((Ce=He.onVnodeUpdated)||ze)&&tr(()=>{Ce&&vs(Ce,ee,L,M),ze&&za(L,M,ee,"updated")},fe)},C=(M,L,ee,fe,ae,me,Pe)=>{for(let Ee=0;Ee<L.length;Ee++){const Re=M[Ee],be=L[Ee],ze=Re.el&&(Re.type===Ie||!el(Re,be)||Re.shapeFlag&70)?c(Re.el):ee;p(Re,be,ze,null,fe,ae,me,Pe,!0)}},A=(M,L,ee,fe,ae)=>{if(L!==ee){if(L!==Wt)for(const me in L)!Bd(me)&&!(me in ee)&&s(M,me,L[me],null,ae,fe);for(const me in ee){if(Bd(me))continue;const Pe=ee[me],Ee=L[me];Pe!==Ee&&me!=="value"&&s(M,me,Ee,Pe,ae,fe)}"value"in ee&&s(M,"value",L.value,ee.value,ae)}},P=(M,L,ee,fe,ae,me,Pe,Ee,Re)=>{const be=L.el=M?M.el:a(""),ze=L.anchor=M?M.anchor:a("");let{patchFlag:Me,dynamicChildren:He,slotScopeIds:Ce}=L;Ce&&(Ee=Ee?Ee.concat(Ce):Ce),M==null?(i(be,ee,fe),i(ze,ee,fe),S(L.children||[],ee,ze,ae,me,Pe,Ee,Re)):Me>0&&Me&64&&He&&M.dynamicChildren?(C(M.dynamicChildren,He,ee,ae,me,Pe,Ee),(L.key!=null||ae&&L===ae.subTree)&&NS(M,L,!0)):W(M,L,ee,ze,ae,me,Pe,Ee,Re)},x=(M,L,ee,fe,ae,me,Pe,Ee,Re)=>{L.slotScopeIds=Ee,M==null?L.shapeFlag&512?ae.ctx.activate(L,ee,fe,Pe,Re):U(L,ee,fe,ae,me,Pe,Re):$(M,L,Re)},U=(M,L,ee,fe,ae,me,Pe)=>{const Ee=M.component=zj(M,fe,ae);if(lp(M)&&(Ee.ctx.renderer=ce),Gj(Ee,!1,Pe),Ee.asyncDep){if(ae&&ae.registerDep(Ee,j,Pe),!M.el){const Re=Ee.subTree=h(Mi);y(null,Re,L,ee)}}else j(Ee,M,L,ee,ae,me,Pe)},$=(M,L,ee)=>{const fe=L.component=M.component;if(Fj(M,L,ee))if(fe.asyncDep&&!fe.asyncResolved){Y(fe,L,ee);return}else fe.next=L,fe.update();else L.el=M.el,fe.vnode=L},j=(M,L,ee,fe,ae,me,Pe)=>{const Ee=()=>{if(M.isMounted){let{next:Me,bu:He,u:Ce,parent:Ze,vnode:mt}=M;{const Fe=jO(M);if(Fe){Me&&(Me.el=mt.el,Y(M,Me,Pe)),Fe.asyncDep.then(()=>{M.isUnmounted||Ee()});return}}let xt=Me,le;Ga(M,!1),Me?(Me.el=mt.el,Y(M,Me,Pe)):Me=mt,He&&Xv(He),(le=Me.props&&Me.props.onVnodeBeforeUpdate)&&vs(le,Ze,Me,mt),Ga(M,!0);const re=hy(M),we=M.subTree;M.subTree=re,p(we,re,c(we.el),B(we),M,ae,me),Me.el=re.el,xt===null&&$j(M,re.el),Ce&&tr(Ce,ae),(le=Me.props&&Me.props.onVnodeUpdated)&&tr(()=>vs(le,Ze,Me,mt),ae)}else{let Me;const{el:He,props:Ce}=L,{bm:Ze,m:mt,parent:xt,root:le,type:re}=M,we=Wu(L);if(Ga(M,!1),Ze&&Xv(Ze),!we&&(Me=Ce&&Ce.onVnodeBeforeMount)&&vs(Me,xt,L),Ga(M,!0),He&&Se){const Fe=()=>{M.subTree=hy(M),Se(He,M.subTree,M,ae,null)};we&&re.__asyncHydrate?re.__asyncHydrate(He,M,Fe):Fe()}else{le.ce&&le.ce._injectChildStyle(re);const Fe=M.subTree=hy(M);p(null,Fe,ee,fe,M,ae,me),L.el=Fe.el}if(mt&&tr(mt,ae),!we&&(Me=Ce&&Ce.onVnodeMounted)){const Fe=L;tr(()=>vs(Me,xt,Fe),ae)}(L.shapeFlag&256||xt&&Wu(xt.vnode)&&xt.vnode.shapeFlag&256)&&M.a&&tr(M.a,ae),M.isMounted=!0,L=ee=fe=null}};M.scope.on();const Re=M.effect=new zR(Ee);M.scope.off();const be=M.update=Re.run.bind(Re),ze=M.job=Re.runIfDirty.bind(Re);ze.i=M,ze.id=M.uid,Re.scheduler=()=>kS(ze),Ga(M,!0),be()},Y=(M,L,ee)=>{L.component=M;const fe=M.vnode.props;M.vnode=L,M.next=null,Sj(M,L.props,fe,ee),Tj(M,L.children,ee),Aa(),Hk(M),Pa()},W=(M,L,ee,fe,ae,me,Pe,Ee,Re=!1)=>{const be=M&&M.children,ze=M?M.shapeFlag:0,Me=L.children,{patchFlag:He,shapeFlag:Ce}=L;if(He>0){if(He&128){G(be,Me,ee,fe,ae,me,Pe,Ee,Re);return}else if(He&256){K(be,Me,ee,fe,ae,me,Pe,Ee,Re);return}}Ce&8?(ze&16&&Q(be,ae,me),Me!==be&&d(ee,Me)):ze&16?Ce&16?G(be,Me,ee,fe,ae,me,Pe,Ee,Re):Q(be,ae,me,!0):(ze&8&&d(ee,""),Ce&16&&S(Me,ee,fe,ae,me,Pe,Ee,Re))},K=(M,L,ee,fe,ae,me,Pe,Ee,Re)=>{M=M||Uu,L=L||Uu;const be=M.length,ze=L.length,Me=Math.min(be,ze);let He;for(He=0;He<Me;He++){const Ce=L[He]=Re?Ko(L[He]):_s(L[He]);p(M[He],Ce,ee,null,ae,me,Pe,Ee,Re)}be>ze?Q(M,ae,me,!0,!1,Me):S(L,ee,fe,ae,me,Pe,Ee,Re,Me)},G=(M,L,ee,fe,ae,me,Pe,Ee,Re)=>{let be=0;const ze=L.length;let Me=M.length-1,He=ze-1;for(;be<=Me&&be<=He;){const Ce=M[be],Ze=L[be]=Re?Ko(L[be]):_s(L[be]);if(el(Ce,Ze))p(Ce,Ze,ee,null,ae,me,Pe,Ee,Re);else break;be++}for(;be<=Me&&be<=He;){const Ce=M[Me],Ze=L[He]=Re?Ko(L[He]):_s(L[He]);if(el(Ce,Ze))p(Ce,Ze,ee,null,ae,me,Pe,Ee,Re);else break;Me--,He--}if(be>Me){if(be<=He){const Ce=He+1,Ze=Ce<ze?L[Ce].el:fe;for(;be<=He;)p(null,L[be]=Re?Ko(L[be]):_s(L[be]),ee,Ze,ae,me,Pe,Ee,Re),be++}}else if(be>He)for(;be<=Me;)oe(M[be],ae,me,!0),be++;else{const Ce=be,Ze=be,mt=new Map;for(be=Ze;be<=He;be++){const qe=L[be]=Re?Ko(L[be]):_s(L[be]);qe.key!=null&&mt.set(qe.key,be)}let xt,le=0;const re=He-Ze+1;let we=!1,Fe=0;const et=new Array(re);for(be=0;be<re;be++)et[be]=0;for(be=Ce;be<=Me;be++){const qe=M[be];if(le>=re){oe(qe,ae,me,!0);continue}let kt;if(qe.key!=null)kt=mt.get(qe.key);else for(xt=Ze;xt<=He;xt++)if(et[xt-Ze]===0&&el(qe,L[xt])){kt=xt;break}kt===void 0?oe(qe,ae,me,!0):(et[kt-Ze]=be+1,kt>=Fe?Fe=kt:we=!0,p(qe,L[kt],ee,null,ae,me,Pe,Ee,Re),le++)}const ft=we?xj(et):Uu;for(xt=ft.length-1,be=re-1;be>=0;be--){const qe=Ze+be,kt=L[qe],on=qe+1<ze?L[qe+1].el:fe;et[be]===0?p(null,kt,ee,on,ae,me,Pe,Ee,Re):we&&(xt<0||be!==ft[xt]?te(kt,ee,on,2):xt--)}}},te=(M,L,ee,fe,ae=null)=>{const{el:me,type:Pe,transition:Ee,children:Re,shapeFlag:be}=M;if(be&6){te(M.component.subTree,L,ee,fe);return}if(be&128){M.suspense.move(L,ee,fe);return}if(be&64){Pe.move(M,L,ee,ce);return}if(Pe===Ie){i(me,L,ee);for(let Me=0;Me<Re.length;Me++)te(Re[Me],L,ee,fe);i(M.anchor,L,ee);return}if(Pe===vy){E(M,L,ee);return}if(fe!==2&&be&1&&Ee)if(fe===0)Ee.beforeEnter(me),i(me,L,ee),tr(()=>Ee.enter(me),ae);else{const{leave:Me,delayLeave:He,afterLeave:Ce}=Ee,Ze=()=>i(me,L,ee),mt=()=>{Me(me,()=>{Ze(),Ce&&Ce()})};He?He(me,Ze,mt):mt()}else i(me,L,ee)},oe=(M,L,ee,fe=!1,ae=!1)=>{const{type:me,props:Pe,ref:Ee,children:Re,dynamicChildren:be,shapeFlag:ze,patchFlag:Me,dirs:He,cacheIndex:Ce}=M;if(Me===-2&&(ae=!1),Ee!=null&&Cb(Ee,null,ee,M,!0),Ce!=null&&(L.renderCache[Ce]=void 0),ze&256){L.ctx.deactivate(M);return}const Ze=ze&1&&He,mt=!Wu(M);let xt;if(mt&&(xt=Pe&&Pe.onVnodeBeforeUnmount)&&vs(xt,L,M),ze&6)Ne(M.component,ee,fe);else{if(ze&128){M.suspense.unmount(ee,fe);return}Ze&&za(M,null,L,"beforeUnmount"),ze&64?M.type.remove(M,L,ee,ce,fe):be&&!be.hasOnce&&(me!==Ie||Me>0&&Me&64)?Q(be,L,ee,!1,!0):(me===Ie&&Me&384||!ae&&ze&16)&&Q(Re,L,ee),fe&&_e(M)}(mt&&(xt=Pe&&Pe.onVnodeUnmounted)||Ze)&&tr(()=>{xt&&vs(xt,L,M),Ze&&za(M,null,L,"unmounted")},ee)},_e=M=>{const{type:L,el:ee,anchor:fe,transition:ae}=M;if(L===Ie){Ae(ee,fe);return}if(L===vy){k(M);return}const me=()=>{r(ee),ae&&!ae.persisted&&ae.afterLeave&&ae.afterLeave()};if(M.shapeFlag&1&&ae&&!ae.persisted){const{leave:Pe,delayLeave:Ee}=ae,Re=()=>Pe(ee,me);Ee?Ee(M.el,me,Re):Re()}else me()},Ae=(M,L)=>{let ee;for(;M!==L;)ee=f(M),r(M),M=ee;r(L)},Ne=(M,L,ee)=>{const{bum:fe,scope:ae,job:me,subTree:Pe,um:Ee,m:Re,a:be}=M;Jk(Re),Jk(be),fe&&Xv(fe),ae.stop(),me&&(me.flags|=8,oe(Pe,M,L,ee)),Ee&&tr(Ee,L),tr(()=>{M.isUnmounted=!0},L),L&&L.pendingBranch&&!L.isUnmounted&&M.asyncDep&&!M.asyncResolved&&M.suspenseId===L.pendingId&&(L.deps--,L.deps===0&&L.resolve())},Q=(M,L,ee,fe=!1,ae=!1,me=0)=>{for(let Pe=me;Pe<M.length;Pe++)oe(M[Pe],L,ee,fe,ae)},B=M=>{if(M.shapeFlag&6)return B(M.component.subTree);if(M.shapeFlag&128)return M.suspense.next();const L=f(M.anchor||M.el),ee=L&&L[vO];return ee?f(ee):L};let q=!1;const ie=(M,L,ee)=>{M==null?L._vnode&&oe(L._vnode,null,null,!0):p(L._vnode||null,M,L,null,null,null,ee),L._vnode=M,q||(q=!0,Hk(),dO(),q=!1)},ce={p,um:oe,m:te,r:_e,mt:U,mc:S,pc:W,pbc:C,n:B,o:e};let ne,Se;return{render:ie,hydrate:ne,createApp:bj(ie,ne)}}function fy({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function Ga({effect:e,job:t},n){n?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function Pj(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function NS(e,t,n=!1){const i=e.children,r=t.children;if(rt(i)&&rt(r))for(let s=0;s<i.length;s++){const o=i[s];let a=r[s];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=r[s]=Ko(r[s]),a.el=o.el),!n&&a.patchFlag!==-2&&NS(o,a)),a.type===dh&&(a.el=o.el)}}function xj(e){const t=e.slice(),n=[0];let i,r,s,o,a;const l=e.length;for(i=0;i<l;i++){const u=e[i];if(u!==0){if(r=n[n.length-1],e[r]<u){t[i]=r,n.push(i);continue}for(s=0,o=n.length-1;s<o;)a=s+o>>1,e[n[a]]<u?s=a+1:o=a;u<e[n[s]]&&(s>0&&(t[i]=n[s-1]),n[s]=i)}}for(s=n.length,o=n[s-1];s-- >0;)n[s]=o,o=t[o];return n}function jO(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:jO(t)}function Jk(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const Dj=Symbol.for("v-scx"),Rj=()=>st(Dj);function rn(e,t){return cp(e,null,t)}function Oj(e,t){return cp(e,null,{flush:"sync"})}function ge(e,t,n){return cp(e,t,n)}function cp(e,t,n=Wt){const{immediate:i,deep:r,flush:s,once:o}=n,a=zn({},n);let l;if(fp)if(s==="sync"){const f=Rj();l=f.__watcherHandles||(f.__watcherHandles=[])}else if(!t||i)a.once=!0;else{const f=()=>{};return f.stop=Cs,f.resume=Cs,f.pause=Cs,f}const u=_i;a.call=(f,v,g)=>rs(f,u,v,g);let d=!1;s==="post"?a.scheduler=f=>{tr(f,u&&u.suspense)}:s!=="sync"&&(d=!0,a.scheduler=(f,v)=>{v?f():kS(f)}),a.augmentJob=f=>{t&&(f.flags|=4),d&&(f.flags|=2,u&&(f.id=u.uid,f.i=u))};const c=Q3(e,t,a);return l&&l.push(c),c}function Vj(e,t,n){const i=this.proxy,r=Dn(e)?e.includes(".")?HO(i,e):()=>i[e]:e.bind(i,i);let s;ht(t)?s=t:(s=t.handler,n=t);const o=fh(this),a=cp(r,s.bind(i),n);return o(),a}function HO(e,t){const n=t.split(".");return()=>{let i=e;for(let r=0;r<n.length&&i;r++)i=i[n[r]];return i}}function nc(e,t,n=Wt){const i=Gl(),r=lr(t),s=Ia(t),o=WO(e,t),a=z3((l,u)=>{let d,c=Wt,f;return Oj(()=>{const v=e[t];nr(d,v)&&(d=v,u())}),{get(){return l(),n.get?n.get(d):d},set(v){const g=n.set?n.set(v):v;if(!nr(g,d)&&!(c!==Wt&&nr(v,c)))return;const p=i.vnode.props;p&&(t in p||r in p||s in p)&&(`onUpdate:${t}`in p||`onUpdate:${r}`in p||`onUpdate:${s}`in p)||(d=v,u()),i.emit(`update:${t}`,g),nr(v,g)&&nr(v,c)&&!nr(g,f)&&u(),c=v,f=g}}});return a[Symbol.iterator]=()=>{let l=0;return{next(){return l<2?{value:l++?o||Wt:a,done:!1}:{done:!0}}}},a}const WO=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${lr(t)}Modifiers`]||e[`${Ia(t)}Modifiers`];function Nj(e,t,...n){if(e.isUnmounted)return;const i=e.vnode.props||Wt;let r=n;const s=t.startsWith("update:"),o=s&&WO(i,t.slice(7));o&&(o.trim&&(r=n.map(d=>Dn(d)?d.trim():d)),o.number&&(r=n.map(yb)));let a,l=i[a=sy(t)]||i[a=sy(lr(t))];!l&&s&&(l=i[a=sy(Ia(t))]),l&&rs(l,e,6,r);const u=i[a+"Once"];if(u){if(!e.emitted)e.emitted={};else if(e.emitted[a])return;e.emitted[a]=!0,rs(u,e,6,r)}}function zO(e,t,n=!1){const i=t.emitsCache,r=i.get(e);if(r!==void 0)return r;const s=e.emits;let o={},a=!1;if(!ht(e)){const l=u=>{const d=zO(u,t,!0);d&&(a=!0,zn(o,d))};!n&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!s&&!a?(gn(e)&&i.set(e,null),null):(rt(s)?s.forEach(l=>o[l]=null):zn(o,s),gn(e)&&i.set(e,o),o)}function dp(e,t){return!e||!Zg(t)?!1:(t=t.slice(2).replace(/Once$/,""),qt(e,t[0].toLowerCase()+t.slice(1))||qt(e,Ia(t))||qt(e,t))}function hy(e){const{type:t,vnode:n,proxy:i,withProxy:r,propsOptions:[s],slots:o,attrs:a,emit:l,render:u,renderCache:d,props:c,data:f,setupState:v,ctx:g,inheritAttrs:p}=e,_=Am(e);let y,b;try{if(n.shapeFlag&4){const k=r||i,R=k;y=_s(u.call(R,k,d,c,v,f,g)),b=a}else{const k=t;y=_s(k.length>1?k(c,{attrs:a,slots:o,emit:l}):k(c,null)),b=t.props?a:Mj(a)}}catch(k){Wd.length=0,ap(k,e,1),y=h(Mi)}let E=y;if(b&&p!==!1){const k=Object.keys(b),{shapeFlag:R}=E;k.length&&R&7&&(s&&k.some(fS)&&(b=Lj(b,s)),E=Ds(E,b,!1,!0))}return n.dirs&&(E=Ds(E,null,!1,!0),E.dirs=E.dirs?E.dirs.concat(n.dirs):n.dirs),n.transition&&kl(E,n.transition),y=E,Am(_),y}const Mj=e=>{let t;for(const n in e)(n==="class"||n==="style"||Zg(n))&&((t||(t={}))[n]=e[n]);return t},Lj=(e,t)=>{const n={};for(const i in e)(!fS(i)||!(i.slice(9)in t))&&(n[i]=e[i]);return n};function Fj(e,t,n){const{props:i,children:r,component:s}=e,{props:o,children:a,patchFlag:l}=t,u=s.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return i?Zk(i,o,u):!!o;if(l&8){const d=t.dynamicProps;for(let c=0;c<d.length;c++){const f=d[c];if(o[f]!==i[f]&&!dp(u,f))return!0}}}else return(r||a)&&(!a||!a.$stable)?!0:i===o?!1:i?o?Zk(i,o,u):!0:!!o;return!1}function Zk(e,t,n){const i=Object.keys(t);if(i.length!==Object.keys(e).length)return!0;for(let r=0;r<i.length;r++){const s=i[r];if(t[s]!==e[s]&&!dp(n,s))return!0}return!1}function $j({vnode:e,parent:t},n){for(;t;){const i=t.subTree;if(i.suspense&&i.suspense.activeBranch===e&&(i.el=e.el),i===e)(e=t.vnode).el=n,t=t.parent;else break}}const GO=e=>e.__isSuspense;function Bj(e,t){t&&t.pendingBranch?rt(e)?t.effects.push(...e):t.effects.push(e):ej(e)}const Ie=Symbol.for("v-fgt"),dh=Symbol.for("v-txt"),Mi=Symbol.for("v-cmt"),vy=Symbol.for("v-stc"),Wd=[];let _r=null;function ye(e=!1){Wd.push(_r=e?null:[])}function Uj(){Wd.pop(),_r=Wd[Wd.length-1]||null}let gf=1;function eT(e){gf+=e,e<0&&_r&&(_r.hasOnce=!0)}function qO(e){return e.dynamicChildren=gf>0?_r||Uu:null,Uj(),gf>0&&_r&&_r.push(e),e}function St(e,t,n,i,r,s){return qO(tt(e,t,n,i,r,s,!0))}function Le(e,t,n,i,r){return qO(h(e,t,n,i,r,!0))}function Tl(e){return e?e.__v_isVNode===!0:!1}function el(e,t){return e.type===t.type&&e.key===t.key}const YO=({key:e})=>e??null,Jv=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?Dn(e)||Qe(e)||ht(e)?{i:ui,r:e,k:t,f:!!n}:e:null);function tt(e,t=null,n=null,i=0,r=null,s=e===Ie?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&YO(t),ref:t&&Jv(t),scopeId:hO,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:i,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:ui};return a?(LS(l,n),s&128&&e.normalize(l)):n&&(l.shapeFlag|=Dn(n)?8:16),gf>0&&!o&&_r&&(l.patchFlag>0||s&6)&&l.patchFlag!==32&&_r.push(l),l}const h=jj;function jj(e,t=null,n=null,i=0,r=null,s=!1){if((!e||e===AO)&&(e=Mi),Tl(e)){const a=Ds(e,t,!0);return n&&LS(a,n),gf>0&&!s&&_r&&(a.shapeFlag&6?_r[_r.indexOf(e)]=a:_r.push(a)),a.patchFlag=-2,a}if(Qj(e)&&(e=e.__vccOpts),t){t=MS(t);let{class:a,style:l}=t;a&&!Dn(a)&&(t.class=ip(a)),gn(l)&&(wS(l)&&!rt(l)&&(l=zn({},l)),t.style=np(l))}const o=Dn(e)?1:GO(e)?128:mO(e)?64:gn(e)?4:ht(e)?2:0;return tt(e,t,n,i,r,o,s,!0)}function MS(e){return e?wS(e)||NO(e)?zn({},e):e:null}function Ds(e,t,n=!1,i=!1){const{props:r,ref:s,patchFlag:o,children:a,transition:l}=e,u=t?J(r||{},t):r,d={__v_isVNode:!0,__v_skip:!0,type:e.type,props:u,key:u&&YO(u),ref:t&&t.ref?n&&s?rt(s)?s.concat(Jv(t)):[s,Jv(t)]:Jv(t):s,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:a,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Ie?o===-1?16:o|16:o,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:l,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Ds(e.ssContent),ssFallback:e.ssFallback&&Ds(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return l&&i&&kl(d,l.clone(d)),d}function xe(e=" ",t=0){return h(dh,null,e,t)}function Jt(e="",t=!1){return t?(ye(),Le(Mi,null,e)):h(Mi,null,e)}function _s(e){return e==null||typeof e=="boolean"?h(Mi):rt(e)?h(Ie,null,e.slice()):typeof e=="object"?Ko(e):h(dh,null,String(e))}function Ko(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Ds(e)}function LS(e,t){let n=0;const{shapeFlag:i}=e;if(t==null)t=null;else if(rt(t))n=16;else if(typeof t=="object")if(i&65){const r=t.default;r&&(r._c&&(r._d=!1),LS(e,r()),r._c&&(r._d=!0));return}else{n=32;const r=t._;!r&&!NO(t)?t._ctx=ui:r===3&&ui&&(ui.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else ht(t)?(t={default:t,_ctx:ui},n=32):(t=String(t),i&64?(n=16,t=[xe(t)]):n=8);e.children=t,e.shapeFlag|=n}function J(...e){const t={};for(let n=0;n<e.length;n++){const i=e[n];for(const r in i)if(r==="class")t.class!==i.class&&(t.class=ip([t.class,i.class]));else if(r==="style")t.style=np([t.style,i.style]);else if(Zg(r)){const s=t[r],o=i[r];o&&s!==o&&!(rt(s)&&s.includes(o))&&(t[r]=s?[].concat(s,o):o)}else r!==""&&(t[r]=i[r])}return t}function vs(e,t,n,i=null){rs(e,t,7,[n,i])}const Hj=RO();let Wj=0;function zj(e,t,n){const i=e.type,r=(t?t.appContext:e.appContext)||Hj,s={uid:Wj++,vnode:e,type:i,parent:t,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new HR(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(r.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:LO(i,r),emitsOptions:zO(i,r),emit:null,emitted:null,propsDefaults:Wt,inheritAttrs:i.inheritAttrs,ctx:Wt,data:Wt,props:Wt,attrs:Wt,slots:Wt,refs:Wt,setupState:Wt,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=t?t.root:s,s.emit=Nj.bind(null,s),e.ce&&e.ce(s),s}let _i=null;const Gl=()=>_i||ui;let Dm,Pb;{const e=FR(),t=(n,i)=>{let r;return(r=e[n])||(r=e[n]=[]),r.push(i),s=>{r.length>1?r.forEach(o=>o(s)):r[0](s)}};Dm=t("__VUE_INSTANCE_SETTERS__",n=>_i=n),Pb=t("__VUE_SSR_SETTERS__",n=>fp=n)}const fh=e=>{const t=_i;return Dm(e),e.scope.on(),()=>{e.scope.off(),Dm(t)}},tT=()=>{_i&&_i.scope.off(),Dm(null)};function KO(e){return e.vnode.shapeFlag&4}let fp=!1;function Gj(e,t=!1,n=!1){t&&Pb(t);const{props:i,children:r}=e.vnode,s=KO(e);wj(e,i,s,t),kj(e,r,n);const o=s?qj(e,t):void 0;return t&&Pb(!1),o}function qj(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,hj);const{setup:i}=n;if(i){const r=e.setupContext=i.length>1?Kj(e):null,s=fh(e);Aa();const o=ch(i,e,0,[e.props,r]);if(Pa(),s(),VR(o)){if(Wu(e)||EO(e),o.then(tT,tT),t)return o.then(a=>{nT(e,a,t)}).catch(a=>{ap(a,e,0)});e.asyncDep=o}else nT(e,o,t)}else XO(e,t)}function nT(e,t,n){ht(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:gn(t)&&(e.setupState=aO(t)),XO(e,n)}let iT;function XO(e,t,n){const i=e.type;if(!e.render){if(!t&&iT&&!i.render){const r=i.template||OS(e).template;if(r){const{isCustomElement:s,compilerOptions:o}=e.appContext.config,{delimiters:a,compilerOptions:l}=i,u=zn(zn({isCustomElement:s,delimiters:a},o),l);i.render=iT(r,u)}}e.render=i.render||Cs}{const r=fh(e);Aa();try{vj(e)}finally{Pa(),r()}}}const Yj={get(e,t){return Bi(e,"get",""),e[t]}};function Kj(e){const t=n=>{e.exposed=n||{}};return{attrs:new Proxy(e.attrs,Yj),slots:e.slots,emit:e.emit,expose:t}}function hp(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(aO(SS(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in Hd)return Hd[n](e)},has(t,n){return n in t||n in Hd}})):e.proxy}function Xj(e,t=!0){return ht(e)?e.displayName||e.name:e.name||t&&e.__name}function Qj(e){return ht(e)&&"__vccOpts"in e}const I=(e,t)=>K3(e,t,fp);function ni(e,t,n){const i=arguments.length;return i===2?gn(t)&&!rt(t)?Tl(t)?h(e,null,[t]):h(e,t):h(e,null,t):(i>3?n=Array.prototype.slice.call(arguments,2):i===3&&Tl(n)&&(n=[n]),h(e,t,n))}const Jj="3.5.7";/**
* @vue/runtime-dom v3.5.7
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let xb;const rT=typeof window<"u"&&window.trustedTypes;if(rT)try{xb=rT.createPolicy("vue",{createHTML:e=>e})}catch{}const QO=xb?e=>xb.createHTML(e):e=>e,Zj="http://www.w3.org/2000/svg",e5="http://www.w3.org/1998/Math/MathML",to=typeof document<"u"?document:null,sT=to&&to.createElement("template"),t5={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,i)=>{const r=t==="svg"?to.createElementNS(Zj,e):t==="mathml"?to.createElementNS(e5,e):n?to.createElement(e,{is:n}):to.createElement(e);return e==="select"&&i&&i.multiple!=null&&r.setAttribute("multiple",i.multiple),r},createText:e=>to.createTextNode(e),createComment:e=>to.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>to.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,i,r,s){const o=n?n.previousSibling:t.lastChild;if(r&&(r===s||r.nextSibling))for(;t.insertBefore(r.cloneNode(!0),n),!(r===s||!(r=r.nextSibling)););else{sT.innerHTML=QO(i==="svg"?`<svg>${e}</svg>`:i==="mathml"?`<math>${e}</math>`:e);const a=sT.content;if(i==="svg"||i==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}t.insertBefore(a,n)}return[o?o.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},jo="transition",gd="animation",ic=Symbol("_vtc"),JO={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},ZO=zn({},yO,JO),n5=e=>(e.displayName="Transition",e.props=ZO,e),va=n5((e,{slots:t})=>ni(sj,eV(e),t)),qa=(e,t=[])=>{rt(e)?e.forEach(n=>n(...t)):e&&e(...t)},oT=e=>e?rt(e)?e.some(t=>t.length>1):e.length>1:!1;function eV(e){const t={};for(const P in e)P in JO||(t[P]=e[P]);if(e.css===!1)return t;const{name:n="v",type:i,duration:r,enterFromClass:s=`${n}-enter-from`,enterActiveClass:o=`${n}-enter-active`,enterToClass:a=`${n}-enter-to`,appearFromClass:l=s,appearActiveClass:u=o,appearToClass:d=a,leaveFromClass:c=`${n}-leave-from`,leaveActiveClass:f=`${n}-leave-active`,leaveToClass:v=`${n}-leave-to`}=e,g=i5(r),p=g&&g[0],_=g&&g[1],{onBeforeEnter:y,onEnter:b,onEnterCancelled:E,onLeave:k,onLeaveCancelled:R,onBeforeAppear:O=y,onAppear:D=b,onAppearCancelled:S=E}=t,w=(P,x,U)=>{zo(P,x?d:a),zo(P,x?u:o),U&&U()},C=(P,x)=>{P._isLeaving=!1,zo(P,c),zo(P,v),zo(P,f),x&&x()},A=P=>(x,U)=>{const $=P?D:b,j=()=>w(x,P,U);qa($,[x,j]),aT(()=>{zo(x,P?l:s),Zs(x,P?d:a),oT($)||lT(x,i,p,j)})};return zn(t,{onBeforeEnter(P){qa(y,[P]),Zs(P,s),Zs(P,o)},onBeforeAppear(P){qa(O,[P]),Zs(P,l),Zs(P,u)},onEnter:A(!1),onAppear:A(!0),onLeave(P,x){P._isLeaving=!0;const U=()=>C(P,x);Zs(P,c),Zs(P,f),nV(),aT(()=>{P._isLeaving&&(zo(P,c),Zs(P,v),oT(k)||lT(P,i,_,U))}),qa(k,[P,U])},onEnterCancelled(P){w(P,!1),qa(E,[P])},onAppearCancelled(P){w(P,!0),qa(S,[P])},onLeaveCancelled(P){C(P),qa(R,[P])}})}function i5(e){if(e==null)return null;if(gn(e))return[my(e.enter),my(e.leave)];{const t=my(e);return[t,t]}}function my(e){return h3(e)}function Zs(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.add(n)),(e[ic]||(e[ic]=new Set)).add(t)}function zo(e,t){t.split(/\s+/).forEach(i=>i&&e.classList.remove(i));const n=e[ic];n&&(n.delete(t),n.size||(e[ic]=void 0))}function aT(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let r5=0;function lT(e,t,n,i){const r=e._endId=++r5,s=()=>{r===e._endId&&i()};if(n!=null)return setTimeout(s,n);const{type:o,timeout:a,propCount:l}=tV(e,t);if(!o)return i();const u=o+"end";let d=0;const c=()=>{e.removeEventListener(u,f),s()},f=v=>{v.target===e&&++d>=l&&c()};setTimeout(()=>{d<l&&c()},a+1),e.addEventListener(u,f)}function tV(e,t){const n=window.getComputedStyle(e),i=g=>(n[g]||"").split(", "),r=i(`${jo}Delay`),s=i(`${jo}Duration`),o=uT(r,s),a=i(`${gd}Delay`),l=i(`${gd}Duration`),u=uT(a,l);let d=null,c=0,f=0;t===jo?o>0&&(d=jo,c=o,f=s.length):t===gd?u>0&&(d=gd,c=u,f=l.length):(c=Math.max(o,u),d=c>0?o>u?jo:gd:null,f=d?d===jo?s.length:l.length:0);const v=d===jo&&/\b(transform|all)(,|$)/.test(i(`${jo}Property`).toString());return{type:d,timeout:c,propCount:f,hasTransform:v}}function uT(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((n,i)=>cT(n)+cT(e[i])))}function cT(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}function nV(){return document.body.offsetHeight}function s5(e,t,n){const i=e[ic];i&&(t=(t?[t,...i]:[...i]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const Rm=Symbol("_vod"),iV=Symbol("_vsh"),fs={beforeMount(e,{value:t},{transition:n}){e[Rm]=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):pd(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:i}){!t!=!n&&(i?t?(i.beforeEnter(e),pd(e,!0),i.enter(e)):i.leave(e,()=>{pd(e,!1)}):pd(e,t))},beforeUnmount(e,{value:t}){pd(e,t)}};function pd(e,t){e.style.display=t?e[Rm]:"none",e[iV]=!t}const o5=Symbol(""),a5=/(^|;)\s*display\s*:/;function l5(e,t,n){const i=e.style,r=Dn(n);let s=!1;if(n&&!r){if(t)if(Dn(t))for(const o of t.split(";")){const a=o.slice(0,o.indexOf(":")).trim();n[a]==null&&Zv(i,a,"")}else for(const o in t)n[o]==null&&Zv(i,o,"");for(const o in n)o==="display"&&(s=!0),Zv(i,o,n[o])}else if(r){if(t!==n){const o=i[o5];o&&(n+=";"+o),i.cssText=n,s=a5.test(n)}}else t&&e.removeAttribute("style");Rm in e&&(e[Rm]=s?i.display:"",e[iV]&&(i.display="none"))}const dT=/\s*!important$/;function Zv(e,t,n){if(rt(n))n.forEach(i=>Zv(e,t,i));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const i=u5(e,t);dT.test(n)?e.setProperty(Ia(i),n.replace(dT,""),"important"):e[i]=n}}const fT=["Webkit","Moz","ms"],gy={};function u5(e,t){const n=gy[t];if(n)return n;let i=lr(t);if(i!=="filter"&&i in e)return gy[t]=i;i=Fs(i);for(let r=0;r<fT.length;r++){const s=fT[r]+i;if(s in e)return gy[t]=s}return t}const hT="http://www.w3.org/1999/xlink";function vT(e,t,n,i,r,s=y3(t)){i&&t.startsWith("xlink:")?n==null?e.removeAttributeNS(hT,t.slice(6,t.length)):e.setAttributeNS(hT,t,n):n==null||s&&!BR(n)?e.removeAttribute(t):e.setAttribute(t,s?"":Ta(n)?String(n):n)}function c5(e,t,n,i){if(t==="innerHTML"||t==="textContent"){n!=null&&(e[t]=t==="innerHTML"?QO(n):n);return}const r=e.tagName;if(t==="value"&&r!=="PROGRESS"&&!r.includes("-")){const o=r==="OPTION"?e.getAttribute("value")||"":e.value,a=n==null?e.type==="checkbox"?"on":"":String(n);(o!==a||!("_value"in e))&&(e.value=a),n==null&&e.removeAttribute(t),e._value=n;return}let s=!1;if(n===""||n==null){const o=typeof e[t];o==="boolean"?n=BR(n):n==null&&o==="string"?(n="",s=!0):o==="number"&&(n=0,s=!0)}try{e[t]=n}catch{}s&&e.removeAttribute(t)}function Pu(e,t,n,i){e.addEventListener(t,n,i)}function d5(e,t,n,i){e.removeEventListener(t,n,i)}const mT=Symbol("_vei");function f5(e,t,n,i,r=null){const s=e[mT]||(e[mT]={}),o=s[t];if(i&&o)o.value=i;else{const[a,l]=h5(t);if(i){const u=s[t]=g5(i,r);Pu(e,a,u,l)}else o&&(d5(e,a,o,l),s[t]=void 0)}}const gT=/(?:Once|Passive|Capture)$/;function h5(e){let t;if(gT.test(e)){t={};let i;for(;i=e.match(gT);)e=e.slice(0,e.length-i[0].length),t[i[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Ia(e.slice(2)),t]}let py=0;const v5=Promise.resolve(),m5=()=>py||(v5.then(()=>py=0),py=Date.now());function g5(e,t){const n=i=>{if(!i._vts)i._vts=Date.now();else if(i._vts<=n.attached)return;rs(p5(i,n.value),t,5,[i])};return n.value=e,n.attached=m5(),n}function p5(e,t){if(rt(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(i=>r=>!r._stopped&&i&&i(r))}else return t}const pT=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,_5=(e,t,n,i,r,s)=>{const o=r==="svg";t==="class"?s5(e,i,o):t==="style"?l5(e,n,i):Zg(t)?fS(t)||f5(e,t,n,i,s):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):y5(e,t,i,o))?(c5(e,t,i),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&vT(e,t,i,o,s,t!=="value")):(t==="true-value"?e._trueValue=i:t==="false-value"&&(e._falseValue=i),vT(e,t,i,o))};function y5(e,t,n,i){if(i)return!!(t==="innerHTML"||t==="textContent"||t in e&&pT(t)&&ht(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const r=e.tagName;if(r==="IMG"||r==="VIDEO"||r==="CANVAS"||r==="SOURCE")return!1}return pT(t)&&Dn(n)?!1:!!(t in e||e._isVueCE&&(/[A-Z]/.test(t)||!Dn(n)))}const rV=new WeakMap,sV=new WeakMap,Om=Symbol("_moveCb"),_T=Symbol("_enterCb"),b5=e=>(delete e.props.mode,e),w5=b5({name:"TransitionGroup",props:zn({},ZO,{tag:String,moveClass:String}),setup(e,{slots:t}){const n=Gl(),i=_O();let r,s;return PS(()=>{if(!r.length)return;const o=e.moveClass||`${e.name||"v"}-move`;if(!k5(r[0].el,n.vnode.el,o))return;r.forEach(S5),r.forEach(E5);const a=r.filter(C5);nV(),a.forEach(l=>{const u=l.el,d=u.style;Zs(u,o),d.transform=d.webkitTransform=d.transitionDuration="";const c=u[Om]=f=>{f&&f.target!==u||(!f||/transform$/.test(f.propertyName))&&(u.removeEventListener("transitionend",c),u[Om]=null,zo(u,o))};u.addEventListener("transitionend",c)})}),()=>{const o=Ge(e),a=eV(o);let l=o.tag||Ie;if(r=[],s)for(let u=0;u<s.length;u++){const d=s[u];d.el&&d.el instanceof Element&&(r.push(d),kl(d,mf(d,a,i,n)),rV.set(d,d.el.getBoundingClientRect()))}s=t.default?TS(t.default()):[];for(let u=0;u<s.length;u++){const d=s[u];d.key!=null&&kl(d,mf(d,a,i,n))}return h(l,null,s)}}}),FS=w5;function S5(e){const t=e.el;t[Om]&&t[Om](),t[_T]&&t[_T]()}function E5(e){sV.set(e,e.el.getBoundingClientRect())}function C5(e){const t=rV.get(e),n=sV.get(e),i=t.left-n.left,r=t.top-n.top;if(i||r){const s=e.el.style;return s.transform=s.webkitTransform=`translate(${i}px,${r}px)`,s.transitionDuration="0s",e}}function k5(e,t,n){const i=e.cloneNode(),r=e[ic];r&&r.forEach(a=>{a.split(/\s+/).forEach(l=>l&&i.classList.remove(l))}),n.split(/\s+/).forEach(a=>a&&i.classList.add(a)),i.style.display="none";const s=t.nodeType===1?t:t.parentNode;s.appendChild(i);const{hasTransform:o}=tV(i);return s.removeChild(i),o}const yT=e=>{const t=e.props["onUpdate:modelValue"]||!1;return rt(t)?n=>Xv(t,n):t};function T5(e){e.target.composing=!0}function bT(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const _y=Symbol("_assign"),I5={created(e,{modifiers:{lazy:t,trim:n,number:i}},r){e[_y]=yT(r);const s=i||r.props&&r.props.type==="number";Pu(e,t?"change":"input",o=>{if(o.target.composing)return;let a=e.value;n&&(a=a.trim()),s&&(a=yb(a)),e[_y](a)}),n&&Pu(e,"change",()=>{e.value=e.value.trim()}),t||(Pu(e,"compositionstart",T5),Pu(e,"compositionend",bT),Pu(e,"change",bT))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:n,modifiers:{lazy:i,trim:r,number:s}},o){if(e[_y]=yT(o),e.composing)return;const a=(s||e.type==="number")&&!/^0\d/.test(e.value)?yb(e.value):e.value,l=t??"";a!==l&&(document.activeElement===e&&e.type!=="range"&&(i&&t===n||r&&e.value.trim()===l)||(e.value=l))}},A5=["ctrl","shift","alt","meta"],P5={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>A5.some(n=>e[`${n}Key`]&&!t.includes(n))},Il=(e,t)=>{const n=e._withMods||(e._withMods={}),i=t.join(".");return n[i]||(n[i]=(r,...s)=>{for(let o=0;o<t.length;o++){const a=P5[t[o]];if(a&&a(r,t))return}return e(r,...s)})},x5=zn({patchProp:_5},t5);let wT;function oV(){return wT||(wT=Ij(x5))}const aV=(...e)=>{oV().render(...e)},lV=(...e)=>{const t=oV().createApp(...e),{mount:n}=t;return t.mount=i=>{const r=R5(i);if(!r)return;const s=t._component;!ht(s)&&!s.render&&!s.template&&(s.template=r.innerHTML),r.nodeType===1&&(r.textContent="");const o=n(r,!1,D5(r));return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),o},t};function D5(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function R5(e){return Dn(e)?document.querySelector(e):e}var O5=!1;/*!
 * pinia v2.2.2
 * (c) 2024 Eduardo San Martin Morote
 * @license MIT
 */const V5=Symbol();var ST;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(ST||(ST={}));function N5(){const e=uh(!0),t=e.run(()=>z({}));let n=[],i=[];const r=SS({install(s){r._a=s,s.provide(V5,r),s.config.globalProperties.$pinia=r,i.forEach(o=>n.push(o)),i=[]},use(s){return!this._a&&!O5?i.push(s):n.push(s),this},_p:n,_a:null,_e:e,_s:new Map,state:t});return r}const hh={TOP_LEFT:"top-left",TOP_RIGHT:"top-right",TOP_CENTER:"top-center",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",BOTTOM_CENTER:"bottom-center"},rc={LIGHT:"light",DARK:"dark",COLORED:"colored",AUTO:"auto"},Zi={INFO:"info",SUCCESS:"success",WARNING:"warning",ERROR:"error",DEFAULT:"default"},M5={BOUNCE:"bounce",SLIDE:"slide",FLIP:"flip",ZOOM:"zoom",NONE:"none"},uV={dangerouslyHTMLString:!1,multiple:!0,position:hh.TOP_RIGHT,autoClose:5e3,transition:"bounce",hideProgressBar:!1,pauseOnHover:!0,pauseOnFocusLoss:!0,closeOnClick:!0,className:"",bodyClassName:"",style:{},progressClassName:"",progressStyle:{},role:"alert",theme:"light"},L5={rtl:!1,newestOnTop:!1,toastClassName:""},cV={...uV,...L5};({...uV,type:Zi.DEFAULT});var Yt=(e=>(e[e.COLLAPSE_DURATION=300]="COLLAPSE_DURATION",e[e.DEBOUNCE_DURATION=50]="DEBOUNCE_DURATION",e.CSS_NAMESPACE="Toastify",e))(Yt||{}),Db=(e=>(e.ENTRANCE_ANIMATION_END="d",e))(Db||{});const F5={enter:"Toastify--animate Toastify__bounce-enter",exit:"Toastify--animate Toastify__bounce-exit",appendPosition:!0},$5={enter:"Toastify--animate Toastify__slide-enter",exit:"Toastify--animate Toastify__slide-exit",appendPosition:!0},B5={enter:"Toastify--animate Toastify__zoom-enter",exit:"Toastify--animate Toastify__zoom-exit"},U5={enter:"Toastify--animate Toastify__flip-enter",exit:"Toastify--animate Toastify__flip-exit"},ET="Toastify--animate Toastify__none-enter";function dV(e,t=!1){var n;let i=F5;if(!e||typeof e=="string")switch(e){case"flip":i=U5;break;case"zoom":i=B5;break;case"slide":i=$5;break}else i=e;if(t)i.enter=ET;else if(i.enter===ET){const r=(n=i.exit.split("__")[1])==null?void 0:n.split("-")[0];i.enter=`Toastify--animate Toastify__${r}-enter`}return i}function j5(e){return e.containerId||String(e.position)}const vp="will-unmount";function H5(e=hh.TOP_RIGHT){return!!document.querySelector(`.${Yt.CSS_NAMESPACE}__toast-container--${e}`)}function W5(e=hh.TOP_RIGHT){return`${Yt.CSS_NAMESPACE}__toast-container--${e}`}function z5(e,t,n=!1){const i=[`${Yt.CSS_NAMESPACE}__toast-container`,`${Yt.CSS_NAMESPACE}__toast-container--${e}`,n?`${Yt.CSS_NAMESPACE}__toast-container--rtl`:null].filter(Boolean).join(" ");return Gu(t)?t({position:e,rtl:n,defaultClassName:i}):`${i} ${t||""}`}function G5(e){var t;const{position:n,containerClassName:i,rtl:r=!1,style:s={}}=e,o=Yt.CSS_NAMESPACE,a=W5(n),l=document.querySelector(`.${o}`),u=document.querySelector(`.${a}`),d=!!u&&!((t=u.className)!=null&&t.includes(vp)),c=l||document.createElement("div"),f=document.createElement("div");f.className=z5(n,i,r),f.dataset.testid=`${Yt.CSS_NAMESPACE}__toast-container--${n}`,f.id=j5(e);for(const v in s)if(Object.prototype.hasOwnProperty.call(s,v)){const g=s[v];f.style[v]=g}return l||(c.className=Yt.CSS_NAMESPACE,document.body.appendChild(c)),d||c.appendChild(f),f}function Rb(e){var t,n,i;const r=typeof e=="string"?e:((t=e.currentTarget)==null?void 0:t.id)||((n=e.target)==null?void 0:n.id),s=document.getElementById(r);s&&s.removeEventListener("animationend",Rb,!1);try{pf[r].unmount(),(i=document.getElementById(r))==null||i.remove(),delete pf[r],delete gi[r]}catch{}}const pf=cn({});function q5(e,t){const n=document.getElementById(String(t));n&&(pf[n.id]=e)}function Ob(e,t=!0){const n=String(e);if(!pf[n])return;const i=document.getElementById(n);i&&i.classList.add(vp),t?(K5(e),i&&i.addEventListener("animationend",Rb,!1)):Rb(n),Rs.items=Rs.items.filter(r=>r.containerId!==e)}function Y5(e){for(const t in pf)Ob(t,e);Rs.items=[]}function fV(e,t){const n=document.getElementById(e.toastId);if(n){let i=e;i={...i,...dV(i.transition)};const r=i.appendPosition?`${i.exit}--${i.position}`:i.exit;n.className+=` ${r}`,t&&t(n)}}function K5(e){for(const t in gi)if(t===e)for(const n of gi[t]||[])fV(n)}function X5(e){const t=sc().find(n=>n.toastId===e);return t==null?void 0:t.containerId}function $S(e){return document.getElementById(e)}function Q5(e){const t=$S(e.containerId);return t&&t.classList.contains(vp)}function CT(e){var t;const n=Tl(e.content)?Ge(e.content.props):null;return n??Ge((t=e.data)!=null?t:{})}function J5(e){return e?Rs.items.filter(t=>t.containerId===e).length>0:Rs.items.length>0}function Z5(){if(Rs.items.length>0){const e=Rs.items.shift();em(e==null?void 0:e.toastContent,e==null?void 0:e.toastProps)}}const gi=cn({}),Rs=cn({items:[]});function sc(){const e=Ge(gi);return Object.values(e).reduce((t,n)=>[...t,...n],[])}function eH(e){return sc().find(t=>t.toastId===e)}function em(e,t={}){if(Q5(t)){const n=$S(t.containerId);n&&n.addEventListener("animationend",Vb.bind(null,e,t),!1)}else Vb(e,t)}function Vb(e,t={}){const n=$S(t.containerId);n&&n.removeEventListener("animationend",Vb.bind(null,e,t),!1);const i=gi[t.containerId]||[],r=i.length>0;if(!r&&!H5(t.position)){const s=G5(t),o=lV(yH,t);o.mount(s),q5(o,s.id)}r&&!t.updateId&&(t.position=i[0].position),ot(()=>{t.updateId?mr.update(t):mr.add(e,t)})}const mr={add(e,t){const{containerId:n=""}=t;n&&(gi[n]=gi[n]||[],gi[n].find(i=>i.toastId===t.toastId)||setTimeout(()=>{var i,r;t.newestOnTop?(i=gi[n])==null||i.unshift(t):(r=gi[n])==null||r.push(t),t.onOpen&&t.onOpen(CT(t))},t.delay||0))},remove(e){if(e){const t=X5(e);if(t){const n=gi[t];let i=n.find(r=>r.toastId===e);gi[t]=n.filter(r=>r.toastId!==e),!gi[t].length&&!J5(t)&&Ob(t,!1),Z5(),ot(()=>{i!=null&&i.onClose&&(i.onClose(CT(i)),i=void 0)})}}},update(e={}){const{containerId:t=""}=e;if(t&&e.updateId){gi[t]=gi[t]||[];const n=gi[t].find(s=>s.toastId===e.toastId),i=(n==null?void 0:n.position)!==e.position||(n==null?void 0:n.transition)!==e.transition,r={...e,disabledEnterTransition:!i,updateId:void 0};mr.dismissForce(e==null?void 0:e.toastId),setTimeout(()=>{Xe(r.content,r)},e.delay||0)}},clear(e,t=!0){e?Ob(e,t):Y5(t)},dismissCallback(e){var t;const n=(t=e.currentTarget)==null?void 0:t.id,i=document.getElementById(n);i&&(i.removeEventListener("animationend",mr.dismissCallback,!1),setTimeout(()=>{mr.remove(n)}))},dismiss(e){if(e){const t=sc();for(const n of t)if(n.toastId===e){fV(n,i=>{i.addEventListener("animationend",mr.dismissCallback,!1)});break}}},dismissForce(e){if(e){const t=sc();for(const n of t)if(n.toastId===e){const i=document.getElementById(e);i&&(i.remove(),i.removeEventListener("animationend",mr.dismissCallback,!1),mr.remove(e));break}}}},hV=cn({}),Vm=cn({});function vV(){return Math.random().toString(36).substring(2,9)}function tH(e){return typeof e=="number"&&!isNaN(e)}function Nb(e){return typeof e=="string"}function Gu(e){return typeof e=="function"}function mp(...e){return J(...e)}function tm(e){return typeof e=="object"&&(!!(e!=null&&e.render)||!!(e!=null&&e.setup)||typeof(e==null?void 0:e.type)=="object")}function nH(e={}){hV[`${Yt.CSS_NAMESPACE}-default-options`]=e}function iH(){return hV[`${Yt.CSS_NAMESPACE}-default-options`]||cV}function rH(){return document.documentElement.classList.contains("dark")?"dark":"light"}var nm=(e=>(e[e.Enter=0]="Enter",e[e.Exit=1]="Exit",e))(nm||{});const mV={containerId:{type:[String,Number],required:!1,default:""},clearOnUrlChange:{type:Boolean,required:!1,default:!0},disabledEnterTransition:{type:Boolean,required:!1,default:!1},dangerouslyHTMLString:{type:Boolean,required:!1,default:!1},multiple:{type:Boolean,required:!1,default:!0},limit:{type:Number,required:!1,default:void 0},position:{type:String,required:!1,default:hh.TOP_LEFT},bodyClassName:{type:String,required:!1,default:""},autoClose:{type:[Number,Boolean],required:!1,default:!1},closeButton:{type:[Boolean,Function,Object],required:!1,default:void 0},transition:{type:[String,Object],required:!1,default:"bounce"},hideProgressBar:{type:Boolean,required:!1,default:!1},pauseOnHover:{type:Boolean,required:!1,default:!0},pauseOnFocusLoss:{type:Boolean,required:!1,default:!0},closeOnClick:{type:Boolean,required:!1,default:!0},progress:{type:Number,required:!1,default:void 0},progressClassName:{type:String,required:!1,default:""},toastStyle:{type:Object,required:!1,default(){return{}}},progressStyle:{type:Object,required:!1,default(){return{}}},role:{type:String,required:!1,default:"alert"},theme:{type:String,required:!1,default:rc.AUTO},content:{type:[String,Object,Function],required:!1,default:""},toastId:{type:[String,Number],required:!1,default:""},data:{type:[Object,String],required:!1,default(){return{}}},type:{type:String,required:!1,default:Zi.DEFAULT},icon:{type:[Boolean,String,Number,Object,Function],required:!1,default:void 0},delay:{type:Number,required:!1,default:void 0},onOpen:{type:Function,required:!1,default:void 0},onClose:{type:Function,required:!1,default:void 0},onClick:{type:Function,required:!1,default:void 0},isLoading:{type:Boolean,required:!1,default:void 0},rtl:{type:Boolean,required:!1,default:!1},toastClassName:{type:String,required:!1,default:""},updateId:{type:[String,Number],required:!1,default:""}},sH={autoClose:{type:[Number,Boolean],required:!0},isRunning:{type:Boolean,required:!1,default:void 0},type:{type:String,required:!1,default:Zi.DEFAULT},theme:{type:String,required:!1,default:rc.AUTO},hide:{type:Boolean,required:!1,default:void 0},className:{type:[String,Function],required:!1,default:""},controlledProgress:{type:Boolean,required:!1,default:void 0},rtl:{type:Boolean,required:!1,default:void 0},isIn:{type:Boolean,required:!1,default:void 0},progress:{type:Number,required:!1,default:void 0},closeToast:{type:Function,required:!1,default:void 0}},oH=Tt({name:"ProgressBar",props:sH,setup(e,{attrs:t}){const n=z(),i=I(()=>e.hide?"true":"false"),r=I(()=>({...t.style||{},animationDuration:`${e.autoClose===!0?5e3:e.autoClose}ms`,animationPlayState:e.isRunning?"running":"paused",opacity:e.hide||e.autoClose===!1?0:1,transform:e.controlledProgress?`scaleX(${e.progress})`:"none"})),s=I(()=>[`${Yt.CSS_NAMESPACE}__progress-bar`,e.controlledProgress?`${Yt.CSS_NAMESPACE}__progress-bar--controlled`:`${Yt.CSS_NAMESPACE}__progress-bar--animated`,`${Yt.CSS_NAMESPACE}__progress-bar-theme--${e.theme}`,`${Yt.CSS_NAMESPACE}__progress-bar--${e.type}`,e.rtl?`${Yt.CSS_NAMESPACE}__progress-bar--rtl`:null].filter(Boolean).join(" ")),o=I(()=>`${s.value} ${(t==null?void 0:t.class)||""}`),a=()=>{n.value&&(n.value.onanimationend=null,n.value.ontransitionend=null)},l=()=>{e.isIn&&e.closeToast&&e.autoClose!==!1&&(e.closeToast(),a())},u=I(()=>e.controlledProgress?null:l),d=I(()=>e.controlledProgress?l:null);return rn(()=>{n.value&&(a(),n.value.onanimationend=u.value,n.value.ontransitionend=d.value)}),()=>h("div",{ref:n,role:"progressbar","aria-hidden":i.value,"aria-label":"notification timer",class:o.value,style:r.value},null)}}),aH=Tt({name:"CloseButton",inheritAttrs:!1,props:{theme:{type:String,required:!1,default:rc.AUTO},type:{type:String,required:!1,default:rc.LIGHT},ariaLabel:{type:String,required:!1,default:"close"},closeToast:{type:Function,required:!1,default:void 0}},setup(e){return()=>h("button",{class:`${Yt.CSS_NAMESPACE}__close-button ${Yt.CSS_NAMESPACE}__close-button--${e.theme}`,type:"button",onClick:t=>{t.stopPropagation(),e.closeToast&&e.closeToast(t)},"aria-label":e.ariaLabel},[h("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},[h("path",{"fill-rule":"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"},null)])])}}),gp=({theme:e,type:t,path:n,...i})=>h("svg",J({viewBox:"0 0 24 24",width:"100%",height:"100%",fill:e==="colored"?"currentColor":`var(--toastify-icon-color-${t})`},i),[h("path",{d:n},null)]);function lH(e){return h(gp,J(e,{path:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}),null)}function uH(e){return h(gp,J(e,{path:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}),null)}function cH(e){return h(gp,J(e,{path:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}),null)}function dH(e){return h(gp,J(e,{path:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}),null)}function fH(){return h("div",{class:`${Yt.CSS_NAMESPACE}__spinner`},null)}const Mb={info:uH,warning:lH,success:cH,error:dH,spinner:fH},hH=e=>e in Mb;function vH({theme:e,type:t,isLoading:n,icon:i}){let r;const s={theme:e,type:t};return n?r=Mb.spinner():i===!1?r=void 0:tm(i)?r=Ge(i):Gu(i)?r=i(s):Tl(i)?r=Ds(i,s):Nb(i)||tH(i)?r=i:hH(t)&&(r=Mb[t](s)),r}const mH=()=>{};function gH(e,t,n=Yt.COLLAPSE_DURATION){const{scrollHeight:i,style:r}=e,s=n;requestAnimationFrame(()=>{r.minHeight="initial",r.height=i+"px",r.transition=`all ${s}ms`,requestAnimationFrame(()=>{r.height="0",r.padding="0",r.margin="0",setTimeout(t,s)})})}function pH(e){const t=z(!1),n=z(!1),i=z(!1),r=z(nm.Enter),s=cn({...e,appendPosition:e.appendPosition||!1,collapse:typeof e.collapse>"u"?!0:e.collapse,collapseDuration:e.collapseDuration||Yt.COLLAPSE_DURATION}),o=s.done||mH,a=I(()=>s.appendPosition?`${s.enter}--${s.position}`:s.enter),l=I(()=>s.appendPosition?`${s.exit}--${s.position}`:s.exit),u=I(()=>e.pauseOnHover?{onMouseenter:_,onMouseleave:p}:{});function d(){const b=a.value.split(" ");f().addEventListener(Db.ENTRANCE_ANIMATION_END,p,{once:!0});const E=R=>{const O=f();R.target===O&&(O.dispatchEvent(new Event(Db.ENTRANCE_ANIMATION_END)),O.removeEventListener("animationend",E),O.removeEventListener("animationcancel",E),r.value===nm.Enter&&R.type!=="animationcancel"&&O.classList.remove(...b))},k=()=>{const R=f();R.classList.add(...b),R.addEventListener("animationend",E),R.addEventListener("animationcancel",E)};e.pauseOnFocusLoss&&v(),k()}function c(){if(!f())return;const b=()=>{const k=f();k.removeEventListener("animationend",b),s.collapse?gH(k,o,s.collapseDuration):o()},E=()=>{const k=f();r.value=nm.Exit,k&&(k.className+=` ${l.value}`,k.addEventListener("animationend",b))};n.value||(i.value?b():setTimeout(E))}function f(){return e.toastRef.value}function v(){document.hasFocus()||_(),window.addEventListener("focus",p),window.addEventListener("blur",_)}function g(){window.removeEventListener("focus",p),window.removeEventListener("blur",_)}function p(){(!e.loading.value||e.isLoading===void 0)&&(t.value=!0)}function _(){t.value=!1}function y(b){b&&(b.stopPropagation(),b.preventDefault()),n.value=!1}return rn(c),rn(()=>{const b=sc();n.value=b.findIndex(E=>E.toastId===s.toastId)>-1}),rn(()=>{e.isLoading!==void 0&&(e.loading.value?_():p())}),yt(d),Ir(()=>{e.pauseOnFocusLoss&&g()}),{isIn:n,isRunning:t,hideToast:y,eventHandlers:u}}const _H=Tt({name:"ToastItem",inheritAttrs:!1,props:mV,setup(e){const t=z(),n=I(()=>!!e.isLoading),i=I(()=>e.progress!==void 0&&e.progress!==null),r=I(()=>vH(e)),s=I(()=>[`${Yt.CSS_NAMESPACE}__toast`,`${Yt.CSS_NAMESPACE}__toast-theme--${e.theme}`,`${Yt.CSS_NAMESPACE}__toast--${e.type}`,e.rtl?`${Yt.CSS_NAMESPACE}__toast--rtl`:void 0,e.toastClassName||""].filter(Boolean).join(" ")),{isRunning:o,isIn:a,hideToast:l,eventHandlers:u}=pH({toastRef:t,loading:n,done:()=>{mr.remove(e.toastId)},...dV(e.transition,e.disabledEnterTransition),...e});return()=>h("div",J({id:e.toastId,class:s.value,style:e.toastStyle||{},ref:t,"data-testid":`toast-item-${e.toastId}`,onClick:d=>{e.closeOnClick&&l(),e.onClick&&e.onClick(d)}},u.value),[h("div",{role:e.role,"data-testid":"toast-body",class:`${Yt.CSS_NAMESPACE}__toast-body ${e.bodyClassName||""}`},[r.value!=null&&h("div",{"data-testid":`toast-icon-${e.type}`,class:[`${Yt.CSS_NAMESPACE}__toast-icon`,e.isLoading?"":`${Yt.CSS_NAMESPACE}--animate-icon ${Yt.CSS_NAMESPACE}__zoom-enter`].join(" ")},[tm(r.value)?ni(Ge(r.value),{theme:e.theme,type:e.type}):Gu(r.value)?r.value({theme:e.theme,type:e.type}):r.value]),h("div",{"data-testid":"toast-content"},[tm(e.content)?ni(Ge(e.content),{toastProps:Ge(e),closeToast:l,data:e.data}):Gu(e.content)?e.content({toastProps:Ge(e),closeToast:l,data:e.data}):e.dangerouslyHTMLString?ni("div",{innerHTML:e.content}):e.content])]),(e.closeButton===void 0||e.closeButton===!0)&&h(aH,{theme:e.theme,closeToast:d=>{d.stopPropagation(),d.preventDefault(),l()}},null),tm(e.closeButton)?ni(Ge(e.closeButton),{closeToast:l,type:e.type,theme:e.theme}):Gu(e.closeButton)?e.closeButton({closeToast:l,type:e.type,theme:e.theme}):null,h(oH,{className:e.progressClassName,style:e.progressStyle,rtl:e.rtl,theme:e.theme,isIn:a.value,type:e.type,hide:e.hideProgressBar,isRunning:o.value,autoClose:e.autoClose,controlledProgress:i.value,progress:e.progress,closeToast:e.isLoading?void 0:l},null)])}});let zd=0;function gV(){typeof window>"u"||(zd&&window.cancelAnimationFrame(zd),zd=window.requestAnimationFrame(gV),Vm.lastUrl!==window.location.href&&(Vm.lastUrl=window.location.href,mr.clear()))}const yH=Tt({name:"ToastifyContainer",inheritAttrs:!1,props:mV,setup(e){const t=I(()=>e.containerId),n=I(()=>gi[t.value]||[]),i=I(()=>n.value.filter(r=>r.position===e.position));return yt(()=>{typeof window<"u"&&e.clearOnUrlChange&&window.requestAnimationFrame(gV)}),Ir(()=>{typeof window<"u"&&zd&&(window.cancelAnimationFrame(zd),Vm.lastUrl="")}),()=>h(Ie,null,[i.value.map(r=>{const{toastId:s=""}=r;return h(_H,J({key:s},r),null)})])}});let yy=!1;function pV(){const e=[];return sc().forEach(t=>{const n=document.getElementById(t.containerId);n&&!n.classList.contains(vp)&&e.push(t)}),e}function bH(e){const t=pV().length,n=e??0;return n>0&&t+Rs.items.length>=n}function wH(e){bH(e.limit)&&!e.updateId&&Rs.items.push({toastId:e.toastId,containerId:e.containerId,toastContent:e.content,toastProps:e})}function Da(e,t,n={}){if(yy)return;n=mp(iH(),{type:t},Ge(n)),(!n.toastId||typeof n.toastId!="string"&&typeof n.toastId!="number")&&(n.toastId=vV()),n={...n,content:e,containerId:n.containerId||String(n.position)};const i=Number(n==null?void 0:n.progress);return i<0&&(n.progress=0),i>1&&(n.progress=1),n.theme==="auto"&&(n.theme=rH()),wH(n),Vm.lastUrl=window.location.href,n.multiple?Rs.items.length?n.updateId&&em(e,n):em(e,n):(yy=!0,Xe.clearAll(void 0,!1),setTimeout(()=>{em(e,n)},0),setTimeout(()=>{yy=!1},390)),n.toastId}const Xe=(e,t)=>Da(e,Zi.DEFAULT,t);Xe.info=(e,t)=>Da(e,Zi.DEFAULT,{...t,type:Zi.INFO});Xe.error=(e,t)=>Da(e,Zi.DEFAULT,{...t,type:Zi.ERROR});Xe.warning=(e,t)=>Da(e,Zi.DEFAULT,{...t,type:Zi.WARNING});Xe.warn=Xe.warning;Xe.success=(e,t)=>Da(e,Zi.DEFAULT,{...t,type:Zi.SUCCESS});Xe.loading=(e,t)=>Da(e,Zi.DEFAULT,mp(t,{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1}));Xe.dark=(e,t)=>Da(e,Zi.DEFAULT,mp(t,{theme:rc.DARK}));Xe.remove=e=>{e?mr.dismiss(e):mr.clear()};Xe.clearAll=(e,t)=>{ot(()=>{mr.clear(e,t)})};Xe.isActive=e=>{let t=!1;return t=pV().findIndex(n=>n.toastId===e)>-1,t};Xe.update=(e,t={})=>{setTimeout(()=>{const n=eH(e);if(n){const i=Ge(n),{content:r}=i,s={...i,...t,toastId:t.toastId||e,updateId:vV()},o=s.render||r;delete s.render,Da(o,s.type,s)}},0)};Xe.done=e=>{Xe.update(e,{isLoading:!1,progress:1})};Xe.promise=SH;function SH(e,{pending:t,error:n,success:i},r){var s,o,a;let l;const u={...r||{},autoClose:!1};t&&(l=Nb(t)?Xe.loading(t,u):Xe.loading(t.render,{...u,...t}));const d={autoClose:(s=r==null?void 0:r.autoClose)!=null?s:!0,closeOnClick:(o=r==null?void 0:r.closeOnClick)!=null?o:!0,closeButton:(a=r==null?void 0:r.autoClose)!=null?a:null,isLoading:void 0,draggable:null,delay:100},c=(v,g,p)=>{if(g==null){Xe.remove(l);return}const _={type:v,...d,...r,data:p},y=Nb(g)?{render:g}:g;return l?Xe.update(l,{..._,...y,isLoading:!1}):Xe(y.render,{..._,...y,isLoading:!1}),p},f=Gu(e)?e():e;return f.then(v=>{c("success",i,v)}).catch(v=>{c("error",n,v)}),f}Xe.POSITION=hh;Xe.THEME=rc;Xe.TYPE=Zi;Xe.TRANSITIONS=M5;const _V={install(e,t={}){EH(t)}};typeof window<"u"&&(window.Vue3Toastify=_V);function EH(e={}){const t=mp(cV,e);nH(t)}var kT={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yV={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ue=function(e,t){if(!e)throw Dc(t)},Dc=function(e){return new Error("Firebase Database ("+yV.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bV=function(e){const t=[];let n=0;for(let i=0;i<e.length;i++){let r=e.charCodeAt(i);r<128?t[n++]=r:r<2048?(t[n++]=r>>6|192,t[n++]=r&63|128):(r&64512)===55296&&i+1<e.length&&(e.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(e.charCodeAt(++i)&1023),t[n++]=r>>18|240,t[n++]=r>>12&63|128,t[n++]=r>>6&63|128,t[n++]=r&63|128):(t[n++]=r>>12|224,t[n++]=r>>6&63|128,t[n++]=r&63|128)}return t},CH=function(e){const t=[];let n=0,i=0;for(;n<e.length;){const r=e[n++];if(r<128)t[i++]=String.fromCharCode(r);else if(r>191&&r<224){const s=e[n++];t[i++]=String.fromCharCode((r&31)<<6|s&63)}else if(r>239&&r<365){const s=e[n++],o=e[n++],a=e[n++],l=((r&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;t[i++]=String.fromCharCode(55296+(l>>10)),t[i++]=String.fromCharCode(56320+(l&1023))}else{const s=e[n++],o=e[n++];t[i++]=String.fromCharCode((r&15)<<12|(s&63)<<6|o&63)}}return t.join("")},pp={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<e.length;r+=3){const s=e[r],o=r+1<e.length,a=o?e[r+1]:0,l=r+2<e.length,u=l?e[r+2]:0,d=s>>2,c=(s&3)<<4|a>>4;let f=(a&15)<<2|u>>6,v=u&63;l||(v=64,o||(f=64)),i.push(n[d],n[c],n[f],n[v])}return i.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(bV(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):CH(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<e.length;){const s=n[e.charAt(r++)],a=r<e.length?n[e.charAt(r)]:0;++r;const u=r<e.length?n[e.charAt(r)]:64;++r;const c=r<e.length?n[e.charAt(r)]:64;if(++r,s==null||a==null||u==null||c==null)throw new kH;const f=s<<2|a>>4;if(i.push(f),u!==64){const v=a<<4&240|u>>2;if(i.push(v),c!==64){const g=u<<6&192|c;i.push(g)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class kH extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const wV=function(e){const t=bV(e);return pp.encodeByteArray(t,!0)},Nm=function(e){return wV(e).replace(/\./g,"")},Mm=function(e){try{return pp.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TH(e){return SV(void 0,e)}function SV(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:const n=t;return new Date(n.getTime());case Object:e===void 0&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)!t.hasOwnProperty(n)||!IH(n)||(e[n]=SV(e[n],t[n]));return e}function IH(e){return e!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AH(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PH=()=>AH().__FIREBASE_DEFAULTS__,xH=()=>{if(typeof process>"u"||typeof kT>"u")return;const e=kT.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},DH=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&Mm(e[1]);return t&&JSON.parse(t)},_p=()=>{try{return PH()||xH()||DH()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},EV=e=>{var t,n;return(n=(t=_p())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},RH=e=>{const t=EV(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),i]:[t.substring(0,n),i]},CV=()=>{var e;return(e=_p())===null||e===void 0?void 0:e.config},kV=e=>{var t;return(t=_p())===null||t===void 0?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _f{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OH(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=t||"demo-project",r=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Nm(JSON.stringify(n)),Nm(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ji(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function BS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ji())}function VH(){var e;const t=(e=_p())===null||e===void 0?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function NH(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function MH(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function TV(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function LH(){const e=ji();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function IV(){return yV.NODE_ADMIN===!0}function FH(){return!VH()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function AV(){try{return typeof indexedDB=="object"}catch{return!1}}function $H(){return new Promise((e,t)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),e(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var s;t(((s=r.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BH="FirebaseError";class $s extends Error{constructor(t,n,i){super(n),this.code=t,this.customData=i,this.name=BH,Object.setPrototypeOf(this,$s.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Rc.prototype.create)}}class Rc{constructor(t,n,i){this.service=t,this.serviceName=n,this.errors=i}create(t,...n){const i=n[0]||{},r=`${this.service}/${t}`,s=this.errors[t],o=s?UH(s,i):"Error",a=`${this.serviceName}: ${o} (${r}).`;return new $s(r,a,i)}}function UH(e,t){return e.replace(jH,(n,i)=>{const r=t[i];return r!=null?String(r):`<${i}?>`})}const jH=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yf(e){return JSON.parse(e)}function yi(e){return JSON.stringify(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PV=function(e){let t={},n={},i={},r="";try{const s=e.split(".");t=yf(Mm(s[0])||""),n=yf(Mm(s[1])||""),r=s[2],i=n.d||{},delete n.d}catch{}return{header:t,claims:n,data:i,signature:r}},HH=function(e){const t=PV(e),n=t.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},WH=function(e){const t=PV(e).claims;return typeof t=="object"&&t.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xo(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function oc(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]}function Lb(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Lm(e,t,n){const i={};for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(i[r]=t.call(n,e[r],r,e));return i}function Fm(e,t){if(e===t)return!0;const n=Object.keys(e),i=Object.keys(t);for(const r of n){if(!i.includes(r))return!1;const s=e[r],o=t[r];if(TT(s)&&TT(o)){if(!Fm(s,o))return!1}else if(s!==o)return!1}for(const r of i)if(!n.includes(r))return!1;return!0}function TT(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oc(e){const t=[];for(const[n,i]of Object.entries(e))Array.isArray(i)?i.forEach(r=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}function Id(e){const t={};return e.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[r,s]=i.split("=");t[decodeURIComponent(r)]=decodeURIComponent(s)}}),t}function Ad(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zH{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(t,n){n||(n=0);const i=this.W_;if(typeof t=="string")for(let c=0;c<16;c++)i[c]=t.charCodeAt(n)<<24|t.charCodeAt(n+1)<<16|t.charCodeAt(n+2)<<8|t.charCodeAt(n+3),n+=4;else for(let c=0;c<16;c++)i[c]=t[n]<<24|t[n+1]<<16|t[n+2]<<8|t[n+3],n+=4;for(let c=16;c<80;c++){const f=i[c-3]^i[c-8]^i[c-14]^i[c-16];i[c]=(f<<1|f>>>31)&4294967295}let r=this.chain_[0],s=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4],u,d;for(let c=0;c<80;c++){c<40?c<20?(u=a^s&(o^a),d=1518500249):(u=s^o^a,d=1859775393):c<60?(u=s&o|a&(s|o),d=2400959708):(u=s^o^a,d=3395469782);const f=(r<<5|r>>>27)+u+l+d+i[c]&4294967295;l=a,a=o,o=(s<<30|s>>>2)&4294967295,s=r,r=f}this.chain_[0]=this.chain_[0]+r&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(t,n){if(t==null)return;n===void 0&&(n=t.length);const i=n-this.blockSize;let r=0;const s=this.buf_;let o=this.inbuf_;for(;r<n;){if(o===0)for(;r<=i;)this.compress_(t,r),r+=this.blockSize;if(typeof t=="string"){for(;r<n;)if(s[o]=t.charCodeAt(r),++o,++r,o===this.blockSize){this.compress_(s),o=0;break}}else for(;r<n;)if(s[o]=t[r],++o,++r,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const t=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let r=this.blockSize-1;r>=56;r--)this.buf_[r]=n&255,n/=256;this.compress_(this.buf_);let i=0;for(let r=0;r<5;r++)for(let s=24;s>=0;s-=8)t[i]=this.chain_[r]>>s&255,++i;return t}}function GH(e,t){const n=new qH(e,t);return n.subscribe.bind(n)}class qH{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(i=>{this.error(i)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,i){let r;if(t===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");YH(t,["next","error","complete"])?r=t:r={next:t,error:n,complete:i},r.next===void 0&&(r.next=by),r.error===void 0&&(r.error=by),r.complete===void 0&&(r.complete=by);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),s}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function YH(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function by(){}function KH(e,t){return`${e} failed: ${t} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XH=function(e){const t=[];let n=0;for(let i=0;i<e.length;i++){let r=e.charCodeAt(i);if(r>=55296&&r<=56319){const s=r-55296;i++,Ue(i<e.length,"Surrogate pair missing trail surrogate.");const o=e.charCodeAt(i)-56320;r=65536+(s<<10)+o}r<128?t[n++]=r:r<2048?(t[n++]=r>>6|192,t[n++]=r&63|128):r<65536?(t[n++]=r>>12|224,t[n++]=r>>6&63|128,t[n++]=r&63|128):(t[n++]=r>>18|240,t[n++]=r>>12&63|128,t[n++]=r>>6&63|128,t[n++]=r&63|128)}return t},yp=function(e){let t=0;for(let n=0;n<e.length;n++){const i=e.charCodeAt(n);i<128?t++:i<2048?t+=2:i>=55296&&i<=56319?(t+=4,n++):t+=3}return t};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gn(e){return e&&e._delegate?e._delegate:e}class ss{constructor(t,n,i){this.name=t,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QH{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const i=new _f;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const i=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),r=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(ZH(t))try{this.getOrInitializeService({instanceIdentifier:Qa})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:r});i.resolve(s)}catch{}}}}clearInstance(t=Qa){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Qa){return this.instances.has(t)}getOptions(t=Qa){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);i===a&&o.resolve(r)}return r}onInit(t,n){var i;const r=this.normalizeInstanceIdentifier(n),s=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;s.add(t),this.onInitCallbacks.set(r,s);const o=this.instances.get(r);return o&&t(o,r),()=>{s.delete(t)}}invokeOnInitCallbacks(t,n){const i=this.onInitCallbacks.get(n);if(i)for(const r of i)try{r(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:JH(t),options:n}),this.instances.set(t,i),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=Qa){return this.component?this.component.multipleInstances?t:Qa:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function JH(e){return e===Qa?void 0:e}function ZH(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e9{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new QH(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var It;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(It||(It={}));const t9={debug:It.DEBUG,verbose:It.VERBOSE,info:It.INFO,warn:It.WARN,error:It.ERROR,silent:It.SILENT},n9=It.INFO,i9={[It.DEBUG]:"log",[It.VERBOSE]:"log",[It.INFO]:"info",[It.WARN]:"warn",[It.ERROR]:"error"},r9=(e,t,...n)=>{if(t<e.logLevel)return;const i=new Date().toISOString(),r=i9[t];if(r)console[r](`[${i}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class vh{constructor(t){this.name=t,this._logLevel=n9,this._logHandler=r9,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in It))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?t9[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,It.DEBUG,...t),this._logHandler(this,It.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,It.VERBOSE,...t),this._logHandler(this,It.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,It.INFO,...t),this._logHandler(this,It.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,It.WARN,...t),this._logHandler(this,It.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,It.ERROR,...t),this._logHandler(this,It.ERROR,...t)}}const s9=(e,t)=>t.some(n=>e instanceof n);let IT,AT;function o9(){return IT||(IT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function a9(){return AT||(AT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const xV=new WeakMap,Fb=new WeakMap,DV=new WeakMap,wy=new WeakMap,US=new WeakMap;function l9(e){const t=new Promise((n,i)=>{const r=()=>{e.removeEventListener("success",s),e.removeEventListener("error",o)},s=()=>{n(aa(e.result)),r()},o=()=>{i(e.error),r()};e.addEventListener("success",s),e.addEventListener("error",o)});return t.then(n=>{n instanceof IDBCursor&&xV.set(n,e)}).catch(()=>{}),US.set(t,e),t}function u9(e){if(Fb.has(e))return;const t=new Promise((n,i)=>{const r=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",o),e.removeEventListener("abort",o)},s=()=>{n(),r()},o=()=>{i(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",s),e.addEventListener("error",o),e.addEventListener("abort",o)});Fb.set(e,t)}let $b={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return Fb.get(e);if(t==="objectStoreNames")return e.objectStoreNames||DV.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return aa(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function c9(e){$b=e($b)}function d9(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const i=e.call(Sy(this),t,...n);return DV.set(i,t.sort?t.sort():[t]),aa(i)}:a9().includes(e)?function(...t){return e.apply(Sy(this),t),aa(xV.get(this))}:function(...t){return aa(e.apply(Sy(this),t))}}function f9(e){return typeof e=="function"?d9(e):(e instanceof IDBTransaction&&u9(e),s9(e,o9())?new Proxy(e,$b):e)}function aa(e){if(e instanceof IDBRequest)return l9(e);if(wy.has(e))return wy.get(e);const t=f9(e);return t!==e&&(wy.set(e,t),US.set(t,e)),t}const Sy=e=>US.get(e);function h9(e,t,{blocked:n,upgrade:i,blocking:r,terminated:s}={}){const o=indexedDB.open(e,t),a=aa(o);return i&&o.addEventListener("upgradeneeded",l=>{i(aa(o.result),l.oldVersion,l.newVersion,aa(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),r&&l.addEventListener("versionchange",u=>r(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const v9=["get","getKey","getAll","getAllKeys","count"],m9=["put","add","delete","clear"],Ey=new Map;function PT(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Ey.get(t))return Ey.get(t);const n=t.replace(/FromIndex$/,""),i=t!==n,r=m9.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(r||v9.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,r?"readwrite":"readonly");let u=l.store;return i&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),r&&l.done]))[0]};return Ey.set(t,s),s}c9(e=>({...e,get:(t,n,i)=>PT(t,n)||e.get(t,n,i),has:(t,n)=>!!PT(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g9{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(p9(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function p9(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Bb="@firebase/app",xT="0.10.11";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yo=new vh("@firebase/app"),_9="@firebase/app-compat",y9="@firebase/analytics-compat",b9="@firebase/analytics",w9="@firebase/app-check-compat",S9="@firebase/app-check",E9="@firebase/auth",C9="@firebase/auth-compat",k9="@firebase/database",T9="@firebase/database-compat",I9="@firebase/functions",A9="@firebase/functions-compat",P9="@firebase/installations",x9="@firebase/installations-compat",D9="@firebase/messaging",R9="@firebase/messaging-compat",O9="@firebase/performance",V9="@firebase/performance-compat",N9="@firebase/remote-config",M9="@firebase/remote-config-compat",L9="@firebase/storage",F9="@firebase/storage-compat",$9="@firebase/firestore",B9="@firebase/vertexai-preview",U9="@firebase/firestore-compat",j9="firebase",H9="10.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ub="[DEFAULT]",W9={[Bb]:"fire-core",[_9]:"fire-core-compat",[b9]:"fire-analytics",[y9]:"fire-analytics-compat",[S9]:"fire-app-check",[w9]:"fire-app-check-compat",[E9]:"fire-auth",[C9]:"fire-auth-compat",[k9]:"fire-rtdb",[T9]:"fire-rtdb-compat",[I9]:"fire-fn",[A9]:"fire-fn-compat",[P9]:"fire-iid",[x9]:"fire-iid-compat",[D9]:"fire-fcm",[R9]:"fire-fcm-compat",[O9]:"fire-perf",[V9]:"fire-perf-compat",[N9]:"fire-rc",[M9]:"fire-rc-compat",[L9]:"fire-gcs",[F9]:"fire-gcs-compat",[$9]:"fire-fst",[U9]:"fire-fst-compat",[B9]:"fire-vertex","fire-js":"fire-js",[j9]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bf=new Map,z9=new Map,jb=new Map;function DT(e,t){try{e.container.addComponent(t)}catch(n){yo.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Os(e){const t=e.name;if(jb.has(t))return yo.debug(`There were multiple attempts to register component ${t}.`),!1;jb.set(t,e);for(const n of bf.values())DT(n,e);for(const n of z9.values())DT(n,e);return!0}function jS(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Kr(e){return e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G9={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},la=new Rc("app","Firebase",G9);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q9{constructor(t,n,i){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new ss("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw la.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ra=H9;function RV(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const i=Object.assign({name:Ub,automaticDataCollectionEnabled:!1},t),r=i.name;if(typeof r!="string"||!r)throw la.create("bad-app-name",{appName:String(r)});if(n||(n=CV()),!n)throw la.create("no-options");const s=bf.get(r);if(s){if(Fm(n,s.options)&&Fm(i,s.config))return s;throw la.create("duplicate-app",{appName:r})}const o=new e9(r);for(const l of jb.values())o.addComponent(l);const a=new q9(n,i,o);return bf.set(r,a),a}function HS(e=Ub){const t=bf.get(e);if(!t&&e===Ub&&CV())return RV();if(!t)throw la.create("no-app",{appName:e});return t}function Y9(){return Array.from(bf.values())}function wr(e,t,n){var i;let r=(i=W9[e])!==null&&i!==void 0?i:e;n&&(r+=`-${n}`);const s=r.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const a=[`Unable to register library "${r}" with version "${t}":`];s&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),yo.warn(a.join(" "));return}Os(new ss(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K9="firebase-heartbeat-database",X9=1,wf="firebase-heartbeat-store";let Cy=null;function OV(){return Cy||(Cy=h9(K9,X9,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(wf)}catch(n){console.warn(n)}}}}).catch(e=>{throw la.create("idb-open",{originalErrorMessage:e.message})})),Cy}async function Q9(e){try{const n=(await OV()).transaction(wf),i=await n.objectStore(wf).get(VV(e));return await n.done,i}catch(t){if(t instanceof $s)yo.warn(t.message);else{const n=la.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});yo.warn(n.message)}}}async function RT(e,t){try{const i=(await OV()).transaction(wf,"readwrite");await i.objectStore(wf).put(t,VV(e)),await i.done}catch(n){if(n instanceof $s)yo.warn(n.message);else{const i=la.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});yo.warn(i.message)}}}function VV(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J9=1024,Z9=30*24*60*60*1e3;class eW{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new nW(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var t,n;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=OT();return((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:r}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=Z9}),this._storage.overwrite(this._heartbeatsCache))}catch(i){yo.warn(i)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=OT(),{heartbeatsToSend:i,unsentEntries:r}=tW(this._heartbeatsCache.heartbeats),s=Nm(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return yo.warn(n),""}}}function OT(){return new Date().toISOString().substring(0,10)}function tW(e,t=J9){const n=[];let i=e.slice();for(const r of e){const s=n.find(o=>o.agent===r.agent);if(s){if(s.dates.push(r.date),VT(n)>t){s.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),VT(n)>t){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class nW{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return AV()?$H().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Q9(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return RT(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return RT(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function VT(e){return Nm(JSON.stringify({version:2,heartbeats:e})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iW(e){Os(new ss("platform-logger",t=>new g9(t),"PRIVATE")),Os(new ss("heartbeat",t=>new eW(t),"PRIVATE")),wr(Bb,xT,e),wr(Bb,xT,"esm2017"),wr("fire-js","")}iW("");function WS(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]]);return n}function NV(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const rW=NV,MV=new Rc("auth","Firebase",NV());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $m=new vh("@firebase/auth");function sW(e,...t){$m.logLevel<=It.WARN&&$m.warn(`Auth (${Ra}): ${e}`,...t)}function im(e,...t){$m.logLevel<=It.ERROR&&$m.error(`Auth (${Ra}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Br(e,...t){throw GS(e,...t)}function ts(e,...t){return GS(e,...t)}function zS(e,t,n){const i=Object.assign(Object.assign({},rW()),{[t]:n});return new Rc("auth","Firebase",i).create(t,{appName:e.name})}function vo(e){return zS(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function oW(e,t,n){const i=n;if(!(t instanceof i))throw i.name!==t.constructor.name&&Br(e,"argument-error"),zS(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function GS(e,...t){if(typeof e!="string"){const n=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=e.name),e._errorFactory.create(n,...i)}return MV.create(e,...t)}function ct(e,t,...n){if(!e)throw GS(t,...n)}function ao(e){const t="INTERNAL ASSERTION FAILED: "+e;throw im(t),new Error(t)}function bo(e,t){e||ao(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hb(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.href)||""}function aW(){return NT()==="http:"||NT()==="https:"}function NT(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lW(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(aW()||MH()||"connection"in navigator)?navigator.onLine:!0}function uW(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh{constructor(t,n){this.shortDelay=t,this.longDelay=n,bo(n>t,"Short delay should be less than long delay!"),this.isMobile=BS()||TV()}get(){return lW()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qS(e,t){bo(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LV{static initialize(t,n,i){this.fetchImpl=t,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ao("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ao("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ao("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cW={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dW=new mh(3e4,6e4);function Do(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function Bs(e,t,n,i,r={}){return FV(e,r,async()=>{let s={},o={};i&&(t==="GET"?o=i:s={body:JSON.stringify(i)});const a=Oc(Object.assign({key:e.config.apiKey},o)).slice(1),l=await e._getAdditionalHeaders();l["Content-Type"]="application/json",e.languageCode&&(l["X-Firebase-Locale"]=e.languageCode);const u=Object.assign({method:t,headers:l},s);return NH()||(u.referrerPolicy="no-referrer"),LV.fetch()($V(e,e.config.apiHost,n,a),u)})}async function FV(e,t,n){e._canInitEmulator=!1;const i=Object.assign(Object.assign({},cW),t);try{const r=new hW(e),s=await Promise.race([n(),r.promise]);r.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw _v(e,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw _v(e,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw _v(e,"email-already-in-use",o);if(l==="USER_DISABLED")throw _v(e,"user-disabled",o);const d=i[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw zS(e,d,u);Br(e,d)}}catch(r){if(r instanceof $s)throw r;Br(e,"network-request-failed",{message:String(r)})}}async function gh(e,t,n,i,r={}){const s=await Bs(e,t,n,i,r);return"mfaPendingCredential"in s&&Br(e,"multi-factor-auth-required",{_serverResponse:s}),s}function $V(e,t,n,i){const r=`${t}${n}?${i}`;return e.config.emulator?qS(e.config,r):`${e.config.apiScheme}://${r}`}function fW(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class hW{constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(ts(this.auth,"network-request-failed")),dW.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function _v(e,t,n){const i={appName:e.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const r=ts(e,t,i);return r.customData._tokenResponse=n,r}function MT(e){return e!==void 0&&e.enterprise!==void 0}class vW{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===t)return fW(n.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}}async function mW(e,t){return Bs(e,"GET","/v2/recaptchaConfig",Do(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gW(e,t){return Bs(e,"POST","/v1/accounts:delete",t)}async function BV(e,t){return Bs(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gd(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function pW(e,t=!1){const n=Gn(e),i=await n.getIdToken(t),r=YS(i);ct(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");const s=typeof r.firebase=="object"?r.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:r,token:i,authTime:Gd(ky(r.auth_time)),issuedAtTime:Gd(ky(r.iat)),expirationTime:Gd(ky(r.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function ky(e){return Number(e)*1e3}function YS(e){const[t,n,i]=e.split(".");if(t===void 0||n===void 0||i===void 0)return im("JWT malformed, contained fewer than 3 sections"),null;try{const r=Mm(n);return r?JSON.parse(r):(im("Failed to decode base64 JWT payload"),null)}catch(r){return im("Caught error parsing JWT payload as JSON",r==null?void 0:r.toString()),null}}function LT(e){const t=YS(e);return ct(t,"internal-error"),ct(typeof t.exp<"u","internal-error"),ct(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ac(e,t,n=!1){if(n)return t;try{return await t}catch(i){throw i instanceof $s&&_W(i)&&e.auth.currentUser===e&&await e.auth.signOut(),i}}function _W({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yW{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wb{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Gd(this.lastLoginAt),this.creationTime=Gd(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bm(e){var t;const n=e.auth,i=await e.getIdToken(),r=await ac(e,BV(n,{idToken:i}));ct(r==null?void 0:r.users.length,n,"internal-error");const s=r.users[0];e._notifyReloadListener(s);const o=!((t=s.providerUserInfo)===null||t===void 0)&&t.length?UV(s.providerUserInfo):[],a=wW(e.providerData,o),l=e.isAnonymous,u=!(e.email&&s.passwordHash)&&!(a!=null&&a.length),d=l?u:!1,c={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Wb(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(e,c)}async function bW(e){const t=Gn(e);await Bm(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function wW(e,t){return[...e.filter(i=>!t.some(r=>r.providerId===i.providerId)),...t]}function UV(e){return e.map(t=>{var{providerId:n}=t,i=WS(t,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SW(e,t){const n=await FV(e,{},async()=>{const i=Oc({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:s}=e.config,o=$V(e,r,"/v1/token",`key=${s}`),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",LV.fetch()(o,{method:"POST",headers:a,body:i})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function EW(e,t){return Bs(e,"POST","/v2/accounts:revokeToken",Do(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){ct(t.idToken,"internal-error"),ct(typeof t.idToken<"u","internal-error"),ct(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):LT(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){ct(t.length!==0,"internal-error");const n=LT(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ct(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:i,refreshToken:r,expiresIn:s}=await SW(t,n);this.updateTokensAndExpiration(i,r,Number(s))}updateTokensAndExpiration(t,n,i){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(t,n){const{refreshToken:i,accessToken:r,expirationTime:s}=n,o=new qu;return i&&(ct(typeof i=="string","internal-error",{appName:t}),o.refreshToken=i),r&&(ct(typeof r=="string","internal-error",{appName:t}),o.accessToken=r),s&&(ct(typeof s=="number","internal-error",{appName:t}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new qu,this.toJSON())}_performRefresh(){return ao("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ho(e,t){ct(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class lo{constructor(t){var{uid:n,auth:i,stsTokenManager:r}=t,s=WS(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new yW(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Wb(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(t){const n=await ac(this,this.stsTokenManager.getToken(this.auth,t));return ct(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return pW(this,t)}reload(){return bW(this)}_assign(t){this!==t&&(ct(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new lo(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){ct(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let i=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),i=!0),n&&await Bm(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Kr(this.auth.app))return Promise.reject(vo(this.auth));const t=await this.getIdToken();return await ac(this,gW(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var i,r,s,o,a,l,u,d;const c=(i=n.displayName)!==null&&i!==void 0?i:void 0,f=(r=n.email)!==null&&r!==void 0?r:void 0,v=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,g=(o=n.photoURL)!==null&&o!==void 0?o:void 0,p=(a=n.tenantId)!==null&&a!==void 0?a:void 0,_=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,y=(u=n.createdAt)!==null&&u!==void 0?u:void 0,b=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:E,emailVerified:k,isAnonymous:R,providerData:O,stsTokenManager:D}=n;ct(E&&D,t,"internal-error");const S=qu.fromJSON(this.name,D);ct(typeof E=="string",t,"internal-error"),Ho(c,t.name),Ho(f,t.name),ct(typeof k=="boolean",t,"internal-error"),ct(typeof R=="boolean",t,"internal-error"),Ho(v,t.name),Ho(g,t.name),Ho(p,t.name),Ho(_,t.name),Ho(y,t.name),Ho(b,t.name);const w=new lo({uid:E,auth:t,email:f,emailVerified:k,displayName:c,isAnonymous:R,photoURL:g,phoneNumber:v,tenantId:p,stsTokenManager:S,createdAt:y,lastLoginAt:b});return O&&Array.isArray(O)&&(w.providerData=O.map(C=>Object.assign({},C))),_&&(w._redirectEventId=_),w}static async _fromIdTokenResponse(t,n,i=!1){const r=new qu;r.updateFromServerResponse(n);const s=new lo({uid:n.localId,auth:t,stsTokenManager:r,isAnonymous:i});return await Bm(s),s}static async _fromGetAccountInfoResponse(t,n,i){const r=n.users[0];ct(r.localId!==void 0,"internal-error");const s=r.providerUserInfo!==void 0?UV(r.providerUserInfo):[],o=!(r.email&&r.passwordHash)&&!(s!=null&&s.length),a=new qu;a.updateFromIdToken(i);const l=new lo({uid:r.localId,auth:t,stsTokenManager:a,isAnonymous:o}),u={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:s,metadata:new Wb(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FT=new Map;function uo(e){bo(e instanceof Function,"Expected a class definition");let t=FT.get(e);return t?(bo(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,FT.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jV{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}jV.type="NONE";const $T=jV;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rm(e,t,n){return`firebase:${e}:${t}:${n}`}class Yu{constructor(t,n,i){this.persistence=t,this.auth=n,this.userKey=i;const{config:r,name:s}=this.auth;this.fullUserKey=rm(this.userKey,r.apiKey,s),this.fullPersistenceKey=rm("persistence",r.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);return t?lo._fromJSON(this.auth,t):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,i="authUser"){if(!n.length)return new Yu(uo($T),t,i);const r=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=r[0]||uo($T);const o=rm(i,t.config.apiKey,t.name);let a=null;for(const u of n)try{const d=await u._get(o);if(d){const c=lo._fromJSON(t,d);u!==s&&(a=c),s=u;break}}catch{}const l=r.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new Yu(s,t,i):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new Yu(s,t,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BT(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(GV(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(HV(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(YV(t))return"Blackberry";if(KV(t))return"Webos";if(WV(t))return"Safari";if((t.includes("chrome/")||zV(t))&&!t.includes("edge/"))return"Chrome";if(qV(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=e.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function HV(e=ji()){return/firefox\//i.test(e)}function WV(e=ji()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function zV(e=ji()){return/crios\//i.test(e)}function GV(e=ji()){return/iemobile/i.test(e)}function qV(e=ji()){return/android/i.test(e)}function YV(e=ji()){return/blackberry/i.test(e)}function KV(e=ji()){return/webos/i.test(e)}function KS(e=ji()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function CW(e=ji()){var t;return KS(e)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function kW(){return LH()&&document.documentMode===10}function XV(e=ji()){return KS(e)||qV(e)||KV(e)||YV(e)||/windows phone/i.test(e)||GV(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QV(e,t=[]){let n;switch(e){case"Browser":n=BT(ji());break;case"Worker":n=`${BT(ji())}-${e}`;break;default:n=e}const i=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ra}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TW{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const i=s=>new Promise((o,a)=>{try{const l=t(s);o(l)}catch(l){a(l)}});i.onAbort=n,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const i of this.queue)await i(t),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const r of n)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IW(e,t={}){return Bs(e,"GET","/v2/passwordPolicy",Do(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AW=6;class PW{constructor(t){var n,i,r,s;const o=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:AW,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(i=t.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(s=t.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var n,i,r,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,l),this.validatePasswordCharacterOptions(t,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(i=l.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(r=l.containsLowercaseLetter)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(t,n){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=t.length>=i),r&&(n.meetsMaxPasswordLength=t.length<=r)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let r=0;r<t.length;r++)i=t.charAt(r),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(t,n,i,r,s){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xW{constructor(t,n,i,r){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new UT(this),this.idTokenSubscription=new UT(this),this.beforeStateQueue=new TW(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=MV,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=uo(n)),this._initializationPromise=this.queue(async()=>{var i,r;if(!this._deleted&&(this.persistenceManager=await Yu.create(this,t),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((r=this.currentUser)===null||r===void 0?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await BV(this,{idToken:t}),i=await lo._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var n;if(Kr(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,s=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(t);(!o||o===a)&&(l!=null&&l.user)&&(r=l.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return ct(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await Bm(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=uW()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Kr(this.app))return Promise.reject(vo(this));const n=t?Gn(t):null;return n&&ct(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&ct(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Kr(this.app)?Promise.reject(vo(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Kr(this.app)?Promise.reject(vo(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(uo(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await IW(this),n=new PW(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new Rc("auth","Firebase",t())}onAuthStateChanged(t,n,i){return this.registerStateListener(this.authStateSubscription,t,n,i)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,i){return this.registerStateListener(this.idTokenSubscription,t,n,i)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const i=this.onAuthStateChanged(()=>{i(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await EW(this,i)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const i=await this.getOrInitRedirectPersistenceManager(n);return t===null?i.removeCurrentUser():i.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&uo(t)||this._popupRedirectResolver;ct(n,this,"argument-error"),this.redirectPersistenceManager=await Yu.create(this,[uo(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,i,r){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ct(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=t.addObserver(n,i,r);return()=>{o=!0,l()}}else{const l=t.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return ct(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=QV(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const i=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());i&&(n["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(n["X-Firebase-AppCheck"]=r),n}async _getAppCheckToken(){var t;const n=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return n!=null&&n.error&&sW(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Ro(e){return Gn(e)}class UT{constructor(t){this.auth=t,this.observer=null,this.addObserver=GH(n=>this.observer=n)}get next(){return ct(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function DW(e){bp=e}function JV(e){return bp.loadJS(e)}function RW(){return bp.recaptchaEnterpriseScript}function OW(){return bp.gapiScript}function VW(e){return`__${e}${Math.floor(Math.random()*1e6)}`}const NW="recaptcha-enterprise",MW="NO_RECAPTCHA";class LW{constructor(t){this.type=NW,this.auth=Ro(t)}async verify(t="verify",n=!1){async function i(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{mW(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new vW(l);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(l=>{a(l)})})}function r(s,o,a){const l=window.grecaptcha;MT(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:t}).then(u=>{o(u)}).catch(()=>{o(MW)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{i(this.auth).then(a=>{if(!n&&MT(window.grecaptcha))r(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=RW();l.length!==0&&(l+=a),JV(l).then(()=>{r(a,s,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})}}async function jT(e,t,n,i=!1){const r=new LW(e);let s;try{s=await r.verify(n)}catch{s=await r.verify(n,!0)}const o=Object.assign({},t);return i?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function Um(e,t,n,i){var r;if(!((r=e._getRecaptchaConfig())===null||r===void 0)&&r.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await jT(e,t,n,n==="getOobCode");return i(e,s)}else return i(e,t).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await jT(e,t,n,n==="getOobCode");return i(e,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZV(e,t){const n=jS(e,"auth");if(n.isInitialized()){const r=n.getImmediate(),s=n.getOptions();if(Fm(s,t??{}))return r;Br(r,"already-initialized")}return n.initialize({options:t})}function FW(e,t){const n=(t==null?void 0:t.persistence)||[],i=(Array.isArray(n)?n:[n]).map(uo);t!=null&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(i,t==null?void 0:t.popupRedirectResolver)}function eN(e,t,n){const i=Ro(e);ct(i._canInitEmulator,i,"emulator-config-failed"),ct(/^https?:\/\//.test(t),i,"invalid-emulator-scheme");const r=!1,s=tN(t),{host:o,port:a}=$W(t),l=a===null?"":`:${a}`;i.config.emulator={url:`${s}//${o}${l}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:r})}),BW()}function tN(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function $W(e){const t=tN(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const s=r[1];return{host:s,port:HT(i.substr(s.length+1))}}else{const[s,o]=i.split(":");return{host:s,port:HT(o)}}}function HT(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function BW(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XS{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return ao("not implemented")}_getIdTokenResponse(t){return ao("not implemented")}_linkToIdToken(t,n){return ao("not implemented")}_getReauthenticationResolver(t){return ao("not implemented")}}async function UW(e,t){return Bs(e,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jW(e,t){return gh(e,"POST","/v1/accounts:signInWithPassword",Do(e,t))}async function HW(e,t){return Bs(e,"POST","/v1/accounts:sendOobCode",Do(e,t))}async function WW(e,t){return HW(e,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zW(e,t){return gh(e,"POST","/v1/accounts:signInWithEmailLink",Do(e,t))}async function GW(e,t){return gh(e,"POST","/v1/accounts:signInWithEmailLink",Do(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sf extends XS{constructor(t,n,i,r=null){super("password",i),this._email=t,this._password=n,this._tenantId=r}static _fromEmailAndPassword(t,n){return new Sf(t,n,"password")}static _fromEmailAndCode(t,n,i=null){return new Sf(t,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Um(t,n,"signInWithPassword",jW);case"emailLink":return zW(t,{email:this._email,oobCode:this._password});default:Br(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":const i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Um(t,i,"signUpPassword",UW);case"emailLink":return GW(t,{idToken:n,email:this._email,oobCode:this._password});default:Br(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ku(e,t){return gh(e,"POST","/v1/accounts:signInWithIdp",Do(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qW="http://localhost";class Al extends XS{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Al(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):Br("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:i,signInMethod:r}=n,s=WS(n,["providerId","signInMethod"]);if(!i||!r)return null;const o=new Al(i,r);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(t){const n=this.buildRequest();return Ku(t,n)}_linkToIdToken(t,n){const i=this.buildRequest();return i.idToken=n,Ku(t,i)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,Ku(t,n)}buildRequest(){const t={requestUri:qW,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=Oc(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YW(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function KW(e){const t=Id(Ad(e)).link,n=t?Id(Ad(t)).deep_link_id:null,i=Id(Ad(e)).deep_link_id;return(i?Id(Ad(i)).link:null)||i||n||t||e}class QS{constructor(t){var n,i,r,s,o,a;const l=Id(Ad(t)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,d=(i=l.oobCode)!==null&&i!==void 0?i:null,c=YW((r=l.mode)!==null&&r!==void 0?r:null);ct(u&&d&&c,"argument-error"),this.apiKey=u,this.operation=c,this.code=d,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(t){const n=KW(t);try{return new QS(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc{constructor(){this.providerId=Vc.PROVIDER_ID}static credential(t,n){return Sf._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const i=QS.parseLink(n);return ct(i,"argument-error"),Sf._fromEmailAndCode(t,i.code,i.tenantId)}}Vc.PROVIDER_ID="password";Vc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Vc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JS{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ph extends JS{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo extends ph{constructor(){super("facebook.com")}static credential(t){return Al._fromParams({providerId:Jo.PROVIDER_ID,signInMethod:Jo.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Jo.credentialFromTaggedObject(t)}static credentialFromError(t){return Jo.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Jo.credential(t.oauthAccessToken)}catch{return null}}}Jo.FACEBOOK_SIGN_IN_METHOD="facebook.com";Jo.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io extends ph{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Al._fromParams({providerId:io.PROVIDER_ID,signInMethod:io.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return io.credentialFromTaggedObject(t)}static credentialFromError(t){return io.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:i}=t;if(!n&&!i)return null;try{return io.credential(n,i)}catch{return null}}}io.GOOGLE_SIGN_IN_METHOD="google.com";io.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo extends ph{constructor(){super("github.com")}static credential(t){return Al._fromParams({providerId:Zo.PROVIDER_ID,signInMethod:Zo.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Zo.credentialFromTaggedObject(t)}static credentialFromError(t){return Zo.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Zo.credential(t.oauthAccessToken)}catch{return null}}}Zo.GITHUB_SIGN_IN_METHOD="github.com";Zo.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea extends ph{constructor(){super("twitter.com")}static credential(t,n){return Al._fromParams({providerId:ea.PROVIDER_ID,signInMethod:ea.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return ea.credentialFromTaggedObject(t)}static credentialFromError(t){return ea.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=t;if(!n||!i)return null;try{return ea.credential(n,i)}catch{return null}}}ea.TWITTER_SIGN_IN_METHOD="twitter.com";ea.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XW(e,t){return gh(e,"POST","/v1/accounts:signUp",Do(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pl{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,i,r=!1){const s=await lo._fromIdTokenResponse(t,i,r),o=WT(i);return new Pl({user:s,providerId:o,_tokenResponse:i,operationType:n})}static async _forOperation(t,n,i){await t._updateTokensIfNecessary(i,!0);const r=WT(i);return new Pl({user:t,providerId:r,_tokenResponse:i,operationType:n})}}function WT(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jm extends $s{constructor(t,n,i,r){var s;super(n.code,n.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,jm.prototype),this.customData={appName:t.name,tenantId:(s=t.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(t,n,i,r){return new jm(t,n,i,r)}}function nN(e,t,n,i){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?jm._fromErrorAndOperation(e,s,t,i):s})}async function QW(e,t,n=!1){const i=await ac(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Pl._forOperation(e,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JW(e,t,n=!1){const{auth:i}=e;if(Kr(i.app))return Promise.reject(vo(i));const r="reauthenticate";try{const s=await ac(e,nN(i,r,t,e),n);ct(s.idToken,i,"internal-error");const o=YS(s.idToken);ct(o,i,"internal-error");const{sub:a}=o;return ct(e.uid===a,i,"user-mismatch"),Pl._forOperation(e,r,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Br(i,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iN(e,t,n=!1){if(Kr(e.app))return Promise.reject(vo(e));const i="signIn",r=await nN(e,i,t),s=await Pl._fromIdTokenResponse(e,i,r);return n||await e._updateCurrentUser(s.user),s}async function ZW(e,t){return iN(Ro(e),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rN(e){const t=Ro(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function ez(e,t,n){const i=Ro(e);await Um(i,{requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"},"getOobCode",WW)}async function tz(e,t,n){if(Kr(e.app))return Promise.reject(vo(e));const i=Ro(e),o=await Um(i,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",XW).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&rN(e),l}),a=await Pl._fromIdTokenResponse(i,"signIn",o);return await i._updateCurrentUser(a.user),a}function nz(e,t,n){return Kr(e.app)?Promise.reject(vo(e)):ZW(Gn(e),Vc.credential(t,n)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&rN(e),i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iz(e,t){return Bs(e,"POST","/v1/accounts:update",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rz(e,{displayName:t,photoURL:n}){if(t===void 0&&n===void 0)return;const i=Gn(e),s={idToken:await i.getIdToken(),displayName:t,photoUrl:n,returnSecureToken:!0},o=await ac(i,iz(i.auth,s));i.displayName=o.displayName||null,i.photoURL=o.photoUrl||null;const a=i.providerData.find(({providerId:l})=>l==="password");a&&(a.displayName=i.displayName,a.photoURL=i.photoURL),await i._updateTokensIfNecessary(o)}function sN(e,t,n,i){return Gn(e).onIdTokenChanged(t,n,i)}function sz(e,t,n){return Gn(e).beforeAuthStateChanged(t,n)}function oz(e){return Gn(e).signOut()}const Hm="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oN{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Hm,"1"),this.storage.removeItem(Hm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const az=1e3,lz=10;class aN extends oN{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=XV(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),r=this.localCache[n];i!==r&&t(n,r,i)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const i=t.key;n?this.detachListener():this.stopPolling();const r=()=>{const o=this.storage.getItem(i);!n&&this.localCache[i]===o||this.notifyListeners(i,o)},s=this.storage.getItem(i);kW()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(r,lz):r()}notifyListeners(t,n){this.localCache[t]=n;const i=this.listeners[t];if(i)for(const r of Array.from(i))r(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:i}),!0)})},az)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}aN.type="LOCAL";const lN=aN;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uN extends oN{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}uN.type="SESSION";const ZS=uN;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uz(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wp{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(r=>r.isListeningto(t));if(n)return n;const i=new wp(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:i,eventType:r,data:s}=n.data,o=this.handlersMap[r];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:r});const a=Array.from(o).map(async u=>u(n.origin,s)),l=await uz(a);n.ports[0].postMessage({status:"done",eventId:i,eventType:r,response:l})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}wp.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eE(e="",t=10){let n="";for(let i=0;i<t;i++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cz{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,i=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=eE("",20);r.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},i);o={messageChannel:r,onMessage(c){const f=c;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(f.data.response);break;default:clearTimeout(d),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:t,eventId:u,data:n},[r.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ks(){return window}function dz(e){ks().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cN(){return typeof ks().WorkerGlobalScope<"u"&&typeof ks().importScripts=="function"}async function fz(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function hz(){var e;return((e=navigator==null?void 0:navigator.serviceWorker)===null||e===void 0?void 0:e.controller)||null}function vz(){return cN()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dN="firebaseLocalStorageDb",mz=1,Wm="firebaseLocalStorage",fN="fbase_key";class _h{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Sp(e,t){return e.transaction([Wm],t?"readwrite":"readonly").objectStore(Wm)}function gz(){const e=indexedDB.deleteDatabase(dN);return new _h(e).toPromise()}function zb(){const e=indexedDB.open(dN,mz);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const i=e.result;try{i.createObjectStore(Wm,{keyPath:fN})}catch(r){n(r)}}),e.addEventListener("success",async()=>{const i=e.result;i.objectStoreNames.contains(Wm)?t(i):(i.close(),await gz(),t(await zb()))})})}async function zT(e,t,n){const i=Sp(e,!0).put({[fN]:t,value:n});return new _h(i).toPromise()}async function pz(e,t){const n=Sp(e,!1).get(t),i=await new _h(n).toPromise();return i===void 0?null:i.value}function GT(e,t){const n=Sp(e,!0).delete(t);return new _h(n).toPromise()}const _z=800,yz=3;class hN{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await zb(),this.db)}async _withRetries(t){let n=0;for(;;)try{const i=await this._openDb();return await t(i)}catch(i){if(n++>yz)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return cN()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=wp._getInstance(vz()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await fz(),!this.activeServiceWorker)return;this.sender=new cz(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((n=i[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||hz()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await zb();return await zT(t,Hm,"1"),await GT(t,Hm),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>zT(i,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(i=>pz(i,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>GT(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(r=>{const s=Sp(r,!1).getAll();return new _h(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(t.length!==0)for(const{fbase_key:r,value:s}of t)i.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(s)&&(this.notifyListeners(r,s),n.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!i.has(r)&&(this.notifyListeners(r,null),n.push(r));return n}notifyListeners(t,n){this.localCache[t]=n;const i=this.listeners[t];if(i)for(const r of Array.from(i))r(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),_z)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}hN.type="LOCAL";const vN=hN;new mh(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mN(e,t){return t?uo(t):(ct(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tE extends XS{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Ku(t,this._buildIdpRequest())}_linkToIdToken(t,n){return Ku(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return Ku(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function bz(e){return iN(e.auth,new tE(e),e.bypassAuthState)}function wz(e){const{auth:t,user:n}=e;return ct(n,t,"internal-error"),JW(n,new tE(e),e.bypassAuthState)}async function Sz(e){const{auth:t,user:n}=e;return ct(n,t,"internal-error"),QW(n,new tE(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gN{constructor(t,n,i,r,s=!1){this.auth=t,this.resolver=i,this.user=r,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:i,postBody:r,tenantId:s,error:o,type:a}=t;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:i,tenantId:s||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return bz;case"linkViaPopup":case"linkViaRedirect":return Sz;case"reauthViaPopup":case"reauthViaRedirect":return wz;default:Br(this.auth,"internal-error")}}resolve(t){bo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){bo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ez=new mh(2e3,1e4);async function Cz(e,t,n){if(Kr(e.app))return Promise.reject(ts(e,"operation-not-supported-in-this-environment"));const i=Ro(e);oW(e,t,JS);const r=mN(i,n);return new ol(i,"signInViaPopup",t,r).executeNotNull()}class ol extends gN{constructor(t,n,i,r,s){super(t,n,r,s),this.provider=i,this.authWindow=null,this.pollId=null,ol.currentPopupAction&&ol.currentPopupAction.cancel(),ol.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return ct(t,this.auth,"internal-error"),t}async onExecution(){bo(this.filter.length===1,"Popup operations only handle one event");const t=eE();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ts(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(ts(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ol.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,i;if(!((i=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ts(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,Ez.get())};t()}}ol.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kz="pendingRedirect",sm=new Map;class Tz extends gN{constructor(t,n,i=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let t=sm.get(this.auth._key());if(!t){try{const i=await Iz(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(i)}catch(n){t=()=>Promise.reject(n)}sm.set(this.auth._key(),t)}return this.bypassAuthState||sm.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Iz(e,t){const n=xz(t),i=Pz(e);if(!await i._isAvailable())return!1;const r=await i._get(n)==="true";return await i._remove(n),r}function Az(e,t){sm.set(e._key(),t)}function Pz(e){return uo(e._redirectPersistence)}function xz(e){return rm(kz,e.config.apiKey,e.name)}async function Dz(e,t,n=!1){if(Kr(e.app))return Promise.reject(vo(e));const i=Ro(e),r=mN(i,t),o=await new Tz(i,r,n).execute();return o&&!n&&(delete o.user._redirectEventId,await i._persistUserIfCurrent(o.user),await i._setRedirectUser(null,t)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rz=10*60*1e3;class Oz{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(t,i)&&(n=!0,this.sendToConsumer(t,i),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!Vz(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var i;if(t.error&&!pN(t)){const r=((i=t.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(ts(this.auth,r))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const i=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&i}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=Rz&&this.cachedEventUids.clear(),this.cachedEventUids.has(qT(t))}saveEventToCache(t){this.cachedEventUids.add(qT(t)),this.lastProcessedEventTime=Date.now()}}function qT(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function pN({type:e,error:t}){return e==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function Vz(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return pN(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nz(e,t={}){return Bs(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mz=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Lz=/^https?/;async function Fz(e){if(e.config.emulator)return;const{authorizedDomains:t}=await Nz(e);for(const n of t)try{if($z(n))return}catch{}Br(e,"unauthorized-domain")}function $z(e){const t=Hb(),{protocol:n,hostname:i}=new URL(t);if(e.startsWith("chrome-extension://")){const o=new URL(e);return o.hostname===""&&i===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===i}if(!Lz.test(n))return!1;if(Mz.test(e))return i===e;const r=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bz=new mh(3e4,6e4);function YT(){const e=ks().___jsl;if(e!=null&&e.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function Uz(e){return new Promise((t,n)=>{var i,r,s;function o(){YT(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{YT(),n(ts(e,"network-request-failed"))},timeout:Bz.get()})}if(!((r=(i=ks().gapi)===null||i===void 0?void 0:i.iframes)===null||r===void 0)&&r.Iframe)t(gapi.iframes.getContext());else if(!((s=ks().gapi)===null||s===void 0)&&s.load)o();else{const a=VW("iframefcb");return ks()[a]=()=>{gapi.load?o():n(ts(e,"network-request-failed"))},JV(`${OW()}?onload=${a}`).catch(l=>n(l))}}).catch(t=>{throw om=null,t})}let om=null;function jz(e){return om=om||Uz(e),om}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hz=new mh(5e3,15e3),Wz="__/auth/iframe",zz="emulator/auth/iframe",Gz={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},qz=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Yz(e){const t=e.config;ct(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?qS(t,zz):`https://${e.config.authDomain}/${Wz}`,i={apiKey:t.apiKey,appName:e.name,v:Ra},r=qz.get(e.config.apiHost);r&&(i.eid=r);const s=e._getFrameworks();return s.length&&(i.fw=s.join(",")),`${n}?${Oc(i).slice(1)}`}async function Kz(e){const t=await jz(e),n=ks().gapi;return ct(n,e,"internal-error"),t.open({where:document.body,url:Yz(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Gz,dontclear:!0},i=>new Promise(async(r,s)=>{await i.restyle({setHideOnLeave:!1});const o=ts(e,"network-request-failed"),a=ks().setTimeout(()=>{s(o)},Hz.get());function l(){ks().clearTimeout(a),r(i)}i.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xz={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Qz=500,Jz=600,Zz="_blank",e8="http://localhost";class KT{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function t8(e,t,n,i=Qz,r=Jz){const s=Math.max((window.screen.availHeight-r)/2,0).toString(),o=Math.max((window.screen.availWidth-i)/2,0).toString();let a="";const l=Object.assign(Object.assign({},Xz),{width:i.toString(),height:r.toString(),top:s,left:o}),u=ji().toLowerCase();n&&(a=zV(u)?Zz:n),HV(u)&&(t=t||e8,l.scrollbars="yes");const d=Object.entries(l).reduce((f,[v,g])=>`${f}${v}=${g},`,"");if(CW(u)&&a!=="_self")return n8(t||"",a),new KT(null);const c=window.open(t||"",a,d);ct(c,e,"popup-blocked");try{c.focus()}catch{}return new KT(c)}function n8(e,t){const n=document.createElement("a");n.href=e,n.target=t;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i8="__/auth/handler",r8="emulator/auth/handler",s8=encodeURIComponent("fac");async function XT(e,t,n,i,r,s){ct(e.config.authDomain,e,"auth-domain-config-required"),ct(e.config.apiKey,e,"invalid-api-key");const o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:i,v:Ra,eventId:r};if(t instanceof JS){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",Lb(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(const[d,c]of Object.entries({}))o[d]=c}if(t instanceof ph){const d=t.getScopes().filter(c=>c!=="");d.length>0&&(o.scopes=d.join(","))}e.tenantId&&(o.tid=e.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await e._getAppCheckToken(),u=l?`#${s8}=${encodeURIComponent(l)}`:"";return`${o8(e)}?${Oc(a).slice(1)}${u}`}function o8({config:e}){return e.emulator?qS(e,r8):`https://${e.authDomain}/${i8}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ty="webStorageSupport";class a8{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ZS,this._completeRedirectFn=Dz,this._overrideRedirectResult=Az}async _openPopup(t,n,i,r){var s;bo((s=this.eventManagers[t._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await XT(t,n,i,Hb(),r);return t8(t,o,eE())}async _openRedirect(t,n,i,r){await this._originValidation(t);const s=await XT(t,n,i,Hb(),r);return dz(s),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:r,promise:s}=this.eventManagers[n];return r?Promise.resolve(r):(bo(s,"If manager is not set, promise should be"),s)}const i=this.initAndGetManager(t);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(t){const n=await Kz(t),i=new Oz(t);return n.register("authEvent",r=>(ct(r==null?void 0:r.authEvent,t,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:i},this.iframes[t._key()]=n,i}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(Ty,{type:Ty},r=>{var s;const o=(s=r==null?void 0:r[0])===null||s===void 0?void 0:s[Ty];o!==void 0&&n(!!o),Br(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Fz(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return XV()||WV()||KS()}}const _N=a8;var QT="@firebase/auth",JT="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l8{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(i=>{t((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ct(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u8(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function c8(e){Os(new ss("auth",(t,{options:n})=>{const i=t.getProvider("app").getImmediate(),r=t.getProvider("heartbeat"),s=t.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=i.options;ct(o&&!o.includes(":"),"invalid-api-key",{appName:i.name});const l={apiKey:o,authDomain:a,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:QV(e)},u=new xW(i,r,s,l);return FW(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,i)=>{t.getProvider("auth-internal").initialize()})),Os(new ss("auth-internal",t=>{const n=Ro(t.getProvider("auth").getImmediate());return(i=>new l8(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),wr(QT,JT,u8(e)),wr(QT,JT,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d8=5*60,f8=kV("authIdTokenMaxAge")||d8;let ZT=null;const h8=e=>async t=>{const n=t&&await t.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>f8)return;const r=n==null?void 0:n.token;ZT!==r&&(ZT=r,await fetch(e,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function v8(e=HS()){const t=jS(e,"auth");if(t.isInitialized())return t.getImmediate();const n=ZV(e,{popupRedirectResolver:_N,persistence:[vN,lN,ZS]}),i=kV("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(i,location.origin);if(location.origin===s.origin){const o=h8(s.toString());sz(n,o,()=>o(n.currentUser)),sN(n,a=>o(a))}}const r=EV("auth");return r&&eN(n,`http://${r}`),n}function m8(){var e,t;return(t=(e=document.getElementsByTagName("head"))===null||e===void 0?void 0:e[0])!==null&&t!==void 0?t:document}DW({loadJS(e){return new Promise((t,n)=>{const i=document.createElement("script");i.setAttribute("src",e),i.onload=t,i.onerror=r=>{const s=ts("internal-error");s.customData=r,n(s)},i.type="text/javascript",i.charset="UTF-8",m8().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});c8("Browser");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g8=new Map,p8={activated:!1,tokenObservers:[]};function os(e){return g8.get(e)||Object.assign({},p8)}const eI={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _8{constructor(t,n,i,r,s){if(this.operation=t,this.retryPolicy=n,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=r,r>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}async process(t){this.stop();try{this.pending=new _f,this.pending.promise.catch(n=>{}),await y8(this.getNextRun(t)),this.pending.resolve(),await this.pending.promise,this.pending=new _f,this.pending.promise.catch(n=>{}),await this.operation(),this.pending.resolve(),await this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}function y8(e){return new Promise(t=>{setTimeout(t,e)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b8={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"},zm=new Rc("appCheck","AppCheck",b8);function yN(e){if(!os(e).activated)throw zm.create("use-before-activation",{appName:e.name})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w8="firebase-app-check-database",S8=1,Gb="firebase-app-check-store";let yv=null;function E8(){return yv||(yv=new Promise((e,t)=>{try{const n=indexedDB.open(w8,S8);n.onsuccess=i=>{e(i.target.result)},n.onerror=i=>{var r;t(zm.create("storage-open",{originalErrorMessage:(r=i.target.error)===null||r===void 0?void 0:r.message}))},n.onupgradeneeded=i=>{const r=i.target.result;switch(i.oldVersion){case 0:r.createObjectStore(Gb,{keyPath:"compositeKey"})}}}catch(n){t(zm.create("storage-open",{originalErrorMessage:n==null?void 0:n.message}))}}),yv)}function C8(e,t){return k8(T8(e),t)}async function k8(e,t){const i=(await E8()).transaction(Gb,"readwrite"),s=i.objectStore(Gb).put({compositeKey:e,value:t});return new Promise((o,a)=>{s.onsuccess=l=>{o()},i.onerror=l=>{var u;a(zm.create("storage-set",{originalErrorMessage:(u=l.target.error)===null||u===void 0?void 0:u.message}))}})}function T8(e){return`${e.options.appId}-${e.name}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qb=new vh("@firebase/app-check");function tI(e,t){return AV()?C8(e,t).catch(n=>{qb.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I8={error:"UNKNOWN_ERROR"};function A8(e){return pp.encodeString(JSON.stringify(e),!1)}async function Yb(e,t=!1){const n=e.app;yN(n);const i=os(n);let r=i.token,s;if(r&&!Pd(r)&&(i.token=void 0,r=void 0),!r){const l=await i.cachedTokenPromise;l&&(Pd(l)?r=l:await tI(n,void 0))}if(!t&&r&&Pd(r))return{token:r.token};let o=!1;try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),o=!0),r=await os(n).exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"?qb.warn(l.message):qb.error(l),s=l}let a;return r?s?Pd(r)?a={token:r.token,internalError:s}:a=iI(s):(a={token:r.token},i.token=r,await tI(n,r)):a=iI(s),o&&R8(n,a),a}async function P8(e){const t=e.app;yN(t);const{provider:n}=os(t);{const{token:i}=await n.getToken();return{token:i}}}function x8(e,t,n,i){const{app:r}=e,s=os(r),o={next:n,error:i,type:t};if(s.tokenObservers=[...s.tokenObservers,o],s.token&&Pd(s.token)){const a=s.token;Promise.resolve().then(()=>{n({token:a.token}),nI(e)}).catch(()=>{})}s.cachedTokenPromise.then(()=>nI(e))}function bN(e,t){const n=os(e),i=n.tokenObservers.filter(r=>r.next!==t);i.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=i}function nI(e){const{app:t}=e,n=os(t);let i=n.tokenRefresher;i||(i=D8(e),n.tokenRefresher=i),!i.isRunning()&&n.isTokenAutoRefreshEnabled&&i.start()}function D8(e){const{app:t}=e;return new _8(async()=>{const n=os(t);let i;if(n.token?i=await Yb(e,!0):i=await Yb(e),i.error)throw i.error;if(i.internalError)throw i.internalError},()=>!0,()=>{const n=os(t);if(n.token){let i=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5;const r=n.token.expireTimeMillis-5*60*1e3;return i=Math.min(i,r),Math.max(0,i-Date.now())}else return 0},eI.RETRIAL_MIN_WAIT,eI.RETRIAL_MAX_WAIT)}function R8(e,t){const n=os(e).tokenObservers;for(const i of n)try{i.type==="EXTERNAL"&&t.error!=null?i.error(t.error):i.next(t)}catch{}}function Pd(e){return e.expireTimeMillis-Date.now()>0}function iI(e){return{token:A8(I8),error:e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O8{constructor(t,n){this.app=t,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:t}=os(this.app);for(const n of t)bN(this.app,n.next);return Promise.resolve()}}function V8(e,t){return new O8(e,t)}function N8(e){return{getToken:t=>Yb(e,t),getLimitedUseToken:()=>P8(e),addTokenListener:t=>x8(e,"INTERNAL",t),removeTokenListener:t=>bN(e.app,t)}}const M8="@firebase/app-check",L8="0.8.8",F8="app-check",rI="app-check-internal";function $8(){Os(new ss(F8,e=>{const t=e.getProvider("app").getImmediate(),n=e.getProvider("heartbeat");return V8(t,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider(rI).initialize()})),Os(new ss(rI,e=>{const t=e.getProvider("app-check").getImmediate();return N8(t)},"PUBLIC").setInstantiationMode("EXPLICIT")),wr(M8,L8)}$8();var B8="firebase",U8="10.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */wr(B8,U8,"app");const wN=Symbol("firebaseApp");function yh(e){return Gl()&&st(wN,null)||HS(e)}const ys=()=>{},j8=typeof window<"u";function nE(e,t){return t.split(".").reduce((n,i)=>n&&n[i],e)}function H8(e,t,n){const i=(""+t).split("."),r=i.pop(),s=i.reduce((o,a)=>o&&o[a],e);if(s!=null)return Array.isArray(s)?s.splice(Number(r),1,n):s[r]=n}function ql(e){return!!e&&typeof e=="object"}const W8=Object.prototype;function z8(e){return ql(e)&&Object.getPrototypeOf(e)===W8}function iE(e){return ql(e)&&e.type==="document"}function G8(e){return ql(e)&&e.type==="collection"}function q8(e){return iE(e)||G8(e)}function Y8(e){return ql(e)&&e.type==="query"}function K8(e){return ql(e)&&"ref"in e}function X8(e){return ql(e)&&typeof e.bucket=="string"}function Q8(e,t){let n;return()=>{if(!n)return n=!0,e(t())}}const J8=Symbol.for("v-scx");function Z8(){return!!st(J8,0)}const bv=new WeakMap;function e7(e,t){if(!bv.has(e)){const n=uh(!0);bv.set(e,n);const{unmount:i}=t;t.unmount=()=>{i.call(t),n.stop(),bv.delete(e)}}return bv.get(e)}const SN=new WeakMap;function EN(e){return SN.get(yh(e))}const wv=new WeakMap;function CN(e){const t=yh(e);if(!wv.has(t)){let n;const r=[new Promise(s=>{n=s}),s=>{wv.set(t,s),n(s.value)}];wv.set(t,r)}return wv.get(t)}function sI(e){const t=CN(e);return Array.isArray(t)?t[0]:Promise.resolve(t.value)}function t7(e,t){sN(t,n=>{const i=CN();e.value=n,Array.isArray(i)&&i[1](e)})}var oI={};const aI="@firebase/database",lI="1.0.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kN="";function n7(e){kN=e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i7{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,n){n==null?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),yi(n))}get(t){const n=this.domStorage_.getItem(this.prefixedName_(t));return n==null?null:yf(n)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r7{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,n){n==null?delete this.cache_[t]:this.cache_[t]=n}get(t){return xo(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TN=function(e){try{if(typeof window<"u"&&typeof window[e]<"u"){const t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new i7(t)}}catch{}return new r7},al=TN("localStorage"),s7=TN("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xu=new vh("@firebase/database"),o7=function(){let e=1;return function(){return e++}}(),IN=function(e){const t=XH(e),n=new zH;n.update(t);const i=n.digest();return pp.encodeByteArray(i)},bh=function(...e){let t="";for(let n=0;n<e.length;n++){const i=e[n];Array.isArray(i)||i&&typeof i=="object"&&typeof i.length=="number"?t+=bh.apply(null,i):typeof i=="object"?t+=yi(i):t+=i,t+=" "}return t};let qd=null,uI=!0;const a7=function(e,t){Ue(!t,"Can't turn on custom loggers persistently."),Xu.logLevel=It.VERBOSE,qd=Xu.log.bind(Xu)},Oi=function(...e){if(uI===!0&&(uI=!1,qd===null&&s7.get("logging_enabled")===!0&&a7()),qd){const t=bh.apply(null,e);qd(t)}},wh=function(e){return function(...t){Oi(e,...t)}},Kb=function(...e){const t="FIREBASE INTERNAL ERROR: "+bh(...e);Xu.error(t)},xl=function(...e){const t=`FIREBASE FATAL ERROR: ${bh(...e)}`;throw Xu.error(t),new Error(t)},Sr=function(...e){const t="FIREBASE WARNING: "+bh(...e);Xu.warn(t)},l7=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Sr("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},AN=function(e){return typeof e=="number"&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},u7=function(e){if(document.readyState==="complete")e();else{let t=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}t||(t=!0,e())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},lc="[MIN_NAME]",Dl="[MAX_NAME]",Nc=function(e,t){if(e===t)return 0;if(e===lc||t===Dl)return-1;if(t===lc||e===Dl)return 1;{const n=cI(e),i=cI(t);return n!==null?i!==null?n-i===0?e.length-t.length:n-i:-1:i!==null?1:e<t?-1:1}},c7=function(e,t){return e===t?0:e<t?-1:1},_d=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+yi(t))},rE=function(e){if(typeof e!="object"||e===null)return yi(e);const t=[];for(const i in e)t.push(i);t.sort();let n="{";for(let i=0;i<t.length;i++)i!==0&&(n+=","),n+=yi(t[i]),n+=":",n+=rE(e[t[i]]);return n+="}",n},PN=function(e,t){const n=e.length;if(n<=t)return[e];const i=[];for(let r=0;r<n;r+=t)r+t>n?i.push(e.substring(r,n)):i.push(e.substring(r,r+t));return i};function Ur(e,t){for(const n in e)e.hasOwnProperty(n)&&t(n,e[n])}const xN=function(e){Ue(!AN(e),"Invalid JSON number");const t=11,n=52,i=(1<<t-1)-1;let r,s,o,a,l;e===0?(s=0,o=0,r=1/e===-1/0?1:0):(r=e<0,e=Math.abs(e),e>=Math.pow(2,1-i)?(a=Math.min(Math.floor(Math.log(e)/Math.LN2),i),s=a+i,o=Math.round(e*Math.pow(2,n-a)-Math.pow(2,n))):(s=0,o=Math.round(e/Math.pow(2,1-i-n))));const u=[];for(l=n;l;l-=1)u.push(o%2?1:0),o=Math.floor(o/2);for(l=t;l;l-=1)u.push(s%2?1:0),s=Math.floor(s/2);u.push(r?1:0),u.reverse();const d=u.join("");let c="";for(l=0;l<64;l+=8){let f=parseInt(d.substr(l,8),2).toString(16);f.length===1&&(f="0"+f),c=c+f}return c.toLowerCase()},d7=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},f7=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"},h7=new RegExp("^-?(0*)\\d{1,10}$"),v7=-2147483648,m7=2147483647,cI=function(e){if(h7.test(e)){const t=Number(e);if(t>=v7&&t<=m7)return t}return null},Sh=function(e){try{e()}catch(t){setTimeout(()=>{const n=t.stack||"";throw Sr("Exception was thrown by user callback.",n),t},Math.floor(0))}},g7=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Yd=function(e,t){const n=setTimeout(e,t);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p7{constructor(t,n){this.appName_=t,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(i=>this.appCheck=i)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((n,i)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(n,i):n(null)},0)})}addTokenChangeListener(t){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(i=>i.addTokenListener(t))}notifyForInvalidToken(){Sr(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _7{constructor(t,n,i){this.appName_=t,this.firebaseOptions_=n,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(r=>this.auth_=r)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(n=>n&&n.code==="auth/token-not-initialized"?(Oi("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,i)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(n,i):n(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(n=>n.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(n=>n.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Sr(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sE="5",DN="v",RN="s",ON="r",VN="f",NN=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,MN="ls",LN="p",Xb="ac",FN="websocket",$N="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y7{constructor(t,n,i,r,s=!1,o="",a=!1,l=!1){this.secure=n,this.namespace=i,this.webSocketOnly=r,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=al.get("host:"+t)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&al.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){const t=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${t}${this.host}/${n}`}}function b7(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams}function BN(e,t,n){Ue(typeof t=="string","typeof type must == string"),Ue(typeof n=="object","typeof params must == object");let i;if(t===FN)i=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else if(t===$N)i=(e.secure?"https://":"http://")+e.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+t);b7(e)&&(n.ns=e.namespace);const r=[];return Ur(n,(s,o)=>{r.push(s+"="+o)}),i+r.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w7{constructor(){this.counters_={}}incrementCounter(t,n=1){xo(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=n}get(){return TH(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iy={},Ay={};function oE(e){const t=e.toString();return Iy[t]||(Iy[t]=new w7),Iy[t]}function S7(e,t){const n=e.toString();return Ay[n]||(Ay[n]=t()),Ay[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E7{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,n){this.closeAfterResponse=t,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,n){for(this.pendingResponses[t]=n;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<i.length;++r)i[r]&&Sh(()=>{this.onMessage_(i[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dI="start",C7="close",k7="pLPCommand",T7="pRTLPCB",UN="id",jN="pw",HN="ser",I7="cb",A7="seg",P7="ts",x7="d",D7="dframe",WN=1870,zN=30,R7=WN-zN,O7=25e3,V7=3e4;class Vu{constructor(t,n,i,r,s,o,a){this.connId=t,this.repoInfo=n,this.applicationId=i,this.appCheckToken=r,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=wh(t),this.stats_=oE(n),this.urlFn=l=>(this.appCheckToken&&(l[Xb]=this.appCheckToken),BN(n,$N,l))}open(t,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new E7(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(V7)),u7(()=>{if(this.isClosed_)return;this.scriptTagHolder=new aE((...s)=>{const[o,a,l,u,d]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===dI)this.id=a,this.password=l;else if(o===C7)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{const[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const i={};i[dI]="t",i[HN]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(i[I7]=this.scriptTagHolder.uniqueCallbackIdentifier),i[DN]=sE,this.transportSessionId&&(i[RN]=this.transportSessionId),this.lastSessionId&&(i[MN]=this.lastSessionId),this.applicationId&&(i[LN]=this.applicationId),this.appCheckToken&&(i[Xb]=this.appCheckToken),typeof location<"u"&&location.hostname&&NN.test(location.hostname)&&(i[ON]=VN);const r=this.urlFn(i);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Vu.forceAllow_=!0}static forceDisallow(){Vu.forceDisallow_=!0}static isAvailable(){return Vu.forceAllow_?!0:!Vu.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!d7()&&!f7()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const n=yi(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const i=wV(n),r=PN(i,R7);for(let s=0;s<r.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[s]),this.curSegmentNum++}addDisconnectPingFrame(t,n){this.myDisconnFrame=document.createElement("iframe");const i={};i[D7]="t",i[UN]=t,i[jN]=n,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const n=yi(t).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class aE{constructor(t,n,i,r){this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=o7(),window[k7+this.uniqueCallbackIdentifier]=t,window[T7+this.uniqueCallbackIdentifier]=n,this.myIFrame=aE.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){Oi("frame writing exception"),a.stack&&Oi(a.stack),Oi(a)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",document.body){document.body.appendChild(t);try{t.contentWindow.document||Oi("No IE domain setting required")}catch{const i=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,n){for(this.myID=t,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t[UN]=this.myID,t[jN]=this.myPW,t[HN]=this.currentSerial;let n=this.urlFn(t),i="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+zN+i.length<=WN;){const o=this.pendingSegs.shift();i=i+"&"+A7+r+"="+o.seg+"&"+P7+r+"="+o.ts+"&"+x7+r+"="+o.d,r++}return n=n+i,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(t,n,i){this.pendingSegs.push({seg:t,ts:n,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(t,n){this.outstandingRequests.add(n);const i=()=>{this.outstandingRequests.delete(n),this.newRequest_()},r=setTimeout(i,Math.floor(O7)),s=()=>{clearTimeout(r),i()};this.addTag(t,s)}addTag(t,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=t,i.onload=i.onreadystatechange=function(){const r=i.readyState;(!r||r==="loaded"||r==="complete")&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),n())},i.onerror=()=>{Oi("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N7=16384,M7=45e3;let Gm=null;typeof MozWebSocket<"u"?Gm=MozWebSocket:typeof WebSocket<"u"&&(Gm=WebSocket);class zr{constructor(t,n,i,r,s,o,a){this.connId=t,this.applicationId=i,this.appCheckToken=r,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=wh(this.connId),this.stats_=oE(n),this.connURL=zr.connectionURL_(n,o,a,r,i),this.nodeAdmin=n.nodeAdmin}static connectionURL_(t,n,i,r,s){const o={};return o[DN]=sE,typeof location<"u"&&location.hostname&&NN.test(location.hostname)&&(o[ON]=VN),n&&(o[RN]=n),i&&(o[MN]=i),r&&(o[Xb]=r),s&&(o[LN]=s),BN(t,FN,o)}open(t,n){this.onDisconnect=n,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,al.set("previous_websocket_failure",!0);try{let i;IV(),this.mySock=new Gm(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const r=i.message||i.data;r&&this.log_(r),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const r=i.message||i.data;r&&this.log_(r),this.onClosed_()}}start(){}static forceDisallow(){zr.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(n);i&&i.length>1&&parseFloat(i[1])<4.4&&(t=!0)}return!t&&Gm!==null&&!zr.forceDisallow_}static previouslyFailed(){return al.isInMemoryStorage||al.get("previous_websocket_failure")===!0}markConnectionHealthy(){al.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const i=yf(n);this.onMessage(i)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if(Ue(this.frames===null,"We already have a frame buffer"),t.length<=6){const n=Number(t);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(this.mySock===null)return;const n=t.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const i=this.extractFrameCount_(n);i!==null&&this.appendFrame_(i)}}send(t){this.resetKeepAlive();const n=yi(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const i=PN(n,N7);i.length>1&&this.sendString_(String(i.length));for(let r=0;r<i.length;r++)this.sendString_(i[r])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(M7))}sendString_(t){try{this.mySock.send(t)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}zr.responsesRequiredToBeHealthy=2;zr.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ef{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[Vu,zr]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(t){const n=zr&&zr.isAvailable();let i=n&&!zr.previouslyFailed();if(t.webSocketOnly&&(n||Sr("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[zr];else{const r=this.transports_=[];for(const s of Ef.ALL_TRANSPORTS)s&&s.isAvailable()&&r.push(s);Ef.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Ef.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L7=6e4,F7=5e3,$7=10*1024,B7=100*1024,Py="t",fI="d",U7="s",hI="r",j7="e",vI="o",mI="a",gI="n",pI="p",H7="h";class W7{constructor(t,n,i,r,s,o,a,l,u,d){this.id=t,this.repoInfo_=n,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=u,this.lastSessionId=d,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=wh("c:"+this.id+":"),this.transportManager_=new Ef(n),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,i)},Math.floor(0));const r=t.healthyTimeout||0;r>0&&(this.healthyTimeout_=Yd(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>B7?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>$7?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return n=>{t===this.conn_?this.onConnectionLost_(n):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return n=>{this.state_!==2&&(t===this.rx_?this.onPrimaryMessageReceived_(n):t===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(t){const n={t:"d",d:t};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if(Py in t){const n=t[Py];n===mI?this.upgradeIfSecondaryHealthy_():n===hI?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===vI&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const n=_d("t",t),i=_d("d",t);if(n==="c")this.onSecondaryControl_(i);else if(n==="d")this.pendingDataMessages.push(i);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:pI,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:mI,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:gI,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const n=_d("t",t),i=_d("d",t);n==="c"?this.onControl_(i):n==="d"&&this.onDataMessage_(i)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const n=_d(Py,t);if(fI in t){const i=t[fI];if(n===H7){const r=Object.assign({},i);this.repoInfo_.isUsingEmulator&&(r.h=this.repoInfo_.host),this.onHandshake_(r)}else if(n===gI){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===U7?this.onConnectionShutdown_(i):n===hI?this.onReset_(i):n===j7?Kb("Server Error: "+i):n===vI?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Kb("Unknown control packet command: "+n)}}onHandshake_(t){const n=t.ts,i=t.v,r=t.h;this.sessionId=t.s,this.repoInfo_.host=r,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),sE!==i&&Sr("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,i),Yd(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(L7))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,n){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Yd(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(F7))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:pI,d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,!t&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(al.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(t)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GN{put(t,n,i,r){}merge(t,n,i,r){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,n,i){}onDisconnectMerge(t,n,i){}onDisconnectCancel(t,n){}reportStats(t){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qN{constructor(t){this.allowedEvents_=t,this.listeners_={},Ue(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...n){if(Array.isArray(this.listeners_[t])){const i=[...this.listeners_[t]];for(let r=0;r<i.length;r++)i[r].callback.apply(i[r].context,n)}}on(t,n,i){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:n,context:i});const r=this.getInitialEvent(t);r&&n.apply(i,r)}off(t,n,i){this.validateEventType_(t);const r=this.listeners_[t]||[];for(let s=0;s<r.length;s++)if(r[s].callback===n&&(!i||i===r[s].context)){r.splice(s,1);return}}validateEventType_(t){Ue(this.allowedEvents_.find(n=>n===t),"Unknown event: "+t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qm extends qN{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!BS()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new qm}getInitialEvent(t){return Ue(t==="online","Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _I=32,yI=768;class Tn{constructor(t,n){if(n===void 0){this.pieces_=t.split("/");let i=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}toString(){let t="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(t+="/"+this.pieces_[n]);return t||"/"}}function tn(){return new Tn("")}function Mt(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function ma(e){return e.pieces_.length-e.pieceNum_}function Sn(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new Tn(e.pieces_,t)}function YN(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function z7(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)e.pieces_[n]!==""&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}function KN(e,t=0){return e.pieces_.slice(e.pieceNum_+t)}function XN(e){if(e.pieceNum_>=e.pieces_.length)return null;const t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new Tn(t,0)}function li(e,t){const n=[];for(let i=e.pieceNum_;i<e.pieces_.length;i++)n.push(e.pieces_[i]);if(t instanceof Tn)for(let i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);else{const i=t.split("/");for(let r=0;r<i.length;r++)i[r].length>0&&n.push(i[r])}return new Tn(n,0)}function Rt(e){return e.pieceNum_>=e.pieces_.length}function Mr(e,t){const n=Mt(e),i=Mt(t);if(n===null)return t;if(n===i)return Mr(Sn(e),Sn(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function QN(e,t){if(ma(e)!==ma(t))return!1;for(let n=e.pieceNum_,i=t.pieceNum_;n<=e.pieces_.length;n++,i++)if(e.pieces_[n]!==t.pieces_[i])return!1;return!0}function Xr(e,t){let n=e.pieceNum_,i=t.pieceNum_;if(ma(e)>ma(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[i])return!1;++n,++i}return!0}class G7{constructor(t,n){this.errorPrefix_=n,this.parts_=KN(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=yp(this.parts_[i]);JN(this)}}function q7(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=yp(t),JN(e)}function Y7(e){const t=e.parts_.pop();e.byteLength_-=yp(t),e.parts_.length>0&&(e.byteLength_-=1)}function JN(e){if(e.byteLength_>yI)throw new Error(e.errorPrefix_+"has a key path longer than "+yI+" bytes ("+e.byteLength_+").");if(e.parts_.length>_I)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+_I+") or object contains a cycle "+Ja(e))}function Ja(e){return e.parts_.length===0?"":"in property '"+e.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lE extends qN{constructor(){super(["visible"]);let t,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const i=!document[t];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new lE}getInitialEvent(t){return Ue(t==="visible","Unknown event type: "+t),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yd=1e3,K7=60*5*1e3,bI=30*1e3,X7=1.3,Q7=3e4,J7="server_kill",wI=3;class mo extends GN{constructor(t,n,i,r,s,o,a,l){if(super(),this.repoInfo_=t,this.applicationId_=n,this.onDataUpdate_=i,this.onConnectStatus_=r,this.onServerInfoUpdate_=s,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=mo.nextPersistentConnectionId_++,this.log_=wh("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=yd,this.maxReconnectDelay_=K7,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!IV())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");lE.getInstance().on("visible",this.onVisible_,this),t.host.indexOf("fblocal")===-1&&qm.getInstance().on("online",this.onOnline_,this)}sendRequest(t,n,i){const r=++this.requestNumber_,s={r,a:t,b:n};this.log_(yi(s)),Ue(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),i&&(this.requestCBHash_[r]=i)}get(t){this.initConnection_();const n=new _f,r={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:o=>{const a=o.d;o.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(r),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(t,n,i,r){this.initConnection_();const s=t._queryIdentifier,o=t._path.toString();this.log_("Listen called for "+o+" "+s),this.listens.has(o)||this.listens.set(o,new Map),Ue(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Ue(!this.listens.get(o).has(s),"listen() called twice for same path/queryId.");const a={onComplete:r,hashFn:n,query:t,tag:i};this.listens.get(o).set(s,a),this.connected_&&this.sendListen_(a)}sendGet_(t){const n=this.outstandingGets_[t];this.sendRequest("g",n.request,i=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(i)})}sendListen_(t){const n=t.query,i=n._path.toString(),r=n._queryIdentifier;this.log_("Listen on "+i+" for "+r);const s={p:i},o="q";t.tag&&(s.q=n._queryObject,s.t=t.tag),s.h=t.hashFn(),this.sendRequest(o,s,a=>{const l=a.d,u=a.s;mo.warnOnListenWarnings_(l,n),(this.listens.get(i)&&this.listens.get(i).get(r))===t&&(this.log_("listen response",a),u!=="ok"&&this.removeListen_(i,r),t.onComplete&&t.onComplete(u,l))})}static warnOnListenWarnings_(t,n){if(t&&typeof t=="object"&&xo(t,"w")){const i=oc(t,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const r='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();Sr(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${r} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&t.length===40||WH(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=bI)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,n=HH(t)?"auth":"gauth",i={cred:t};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(n,i,r=>{const s=r.s,o=r.d||"error";this.authToken_===t&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const n=t.s,i=t.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,i)})}unlisten(t,n){const i=t._path.toString(),r=t._queryIdentifier;this.log_("Unlisten called for "+i+" "+r),Ue(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,r)&&this.connected_&&this.sendUnlisten_(i,r,t._queryObject,n)}sendUnlisten_(t,n,i,r){this.log_("Unlisten on "+t+" for "+n);const s={p:t},o="n";r&&(s.q=i,s.t=r),this.sendRequest(o,s)}onDisconnectPut(t,n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,n,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:n,onComplete:i})}onDisconnectMerge(t,n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,n,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:n,onComplete:i})}onDisconnectCancel(t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(t,n,i,r){const s={p:n,d:i};this.log_("onDisconnect "+t,s),this.sendRequest(t,s,o=>{r&&setTimeout(()=>{r(o.s,o.d)},Math.floor(0))})}put(t,n,i,r){this.putInternal("p",t,n,i,r)}merge(t,n,i,r){this.putInternal("m",t,n,i,r)}putInternal(t,n,i,r,s){this.initConnection_();const o={p:n,d:i};s!==void 0&&(o.h=s),this.outstandingPuts_.push({action:t,request:o,onComplete:r}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(t){const n=this.outstandingPuts_[t].action,i=this.outstandingPuts_[t].request,r=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(n,i,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[t],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),r&&r(s.s,s.d)})}reportStats(t){if(this.connected_){const n={c:t};this.log_("reportStats",n),this.sendRequest("s",n,i=>{if(i.s!=="ok"){const s=i.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+yi(t));const n=t.r,i=this.requestCBHash_[n];i&&(delete this.requestCBHash_[n],i(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,n){this.log_("handleServerMessage",t,n),t==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):t==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):t==="c"?this.onListenRevoked_(n.p,n.q):t==="ac"?this.onAuthRevoked_(n.s,n.d):t==="apc"?this.onAppCheckRevoked_(n.s,n.d):t==="sd"?this.onSecurityDebugPacket_(n):Kb("Unrecognized action received from server: "+yi(t)+`
Are you using the latest client?`)}onReady_(t,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(t),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){Ue(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=yd,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=yd,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>Q7&&(this.reconnectDelay_=yd),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const t=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-t);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*X7)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const t=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),r=this.id+":"+mo.nextConnectionId_++,s=this.lastSessionId;let o=!1,a=null;const l=function(){a?a.close():(o=!0,i())},u=function(c){Ue(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(c)};this.realtime_={close:l,sendRequest:u};const d=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[c,f]=await Promise.all([this.authTokenProvider_.getToken(d),this.appCheckTokenProvider_.getToken(d)]);o?Oi("getToken() completed but was canceled"):(Oi("getToken() completed. Creating connection."),this.authToken_=c&&c.accessToken,this.appCheckToken_=f&&f.token,a=new W7(r,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,n,i,v=>{Sr(v+" ("+this.repoInfo_.toString()+")"),this.interrupt(J7)},s))}catch(c){this.log_("Failed to get token: "+c),o||(this.repoInfo_.nodeAdmin&&Sr(c),l())}}}interrupt(t){Oi("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){Oi("Resuming connection for reason: "+t),delete this.interruptReasons_[t],Lb(this.interruptReasons_)&&(this.reconnectDelay_=yd,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const n=t-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const n=this.outstandingPuts_[t];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(t,n){let i;n?i=n.map(s=>rE(s)).join("$"):i="default";const r=this.removeListen_(t,i);r&&r.onComplete&&r.onComplete("permission_denied")}removeListen_(t,n){const i=new Tn(t).toString();let r;if(this.listens.has(i)){const s=this.listens.get(i);r=s.get(n),s.delete(n),s.size===0&&this.listens.delete(i)}else r=void 0;return r}onAuthRevoked_(t,n){Oi("Auth token revoked: "+t+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(t==="invalid_token"||t==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=wI&&(this.reconnectDelay_=bI,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,n){Oi("App check token revoked: "+t+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(t==="invalid_token"||t==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=wI&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const n of t.values())this.sendListen_(n);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let n="js";t["sdk."+n+"."+kN.replace(/\./g,"-")]=1,BS()?t["framework.cordova"]=1:TV()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=qm.getInstance().currentlyOnline();return Lb(this.interruptReasons_)&&t}}mo.nextPersistentConnectionId_=0;mo.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(t,n){this.name=t,this.node=n}static Wrap(t,n){return new Lt(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ep{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,n){const i=new Lt(lc,t),r=new Lt(lc,n);return this.compare(i,r)!==0}minPost(){return Lt.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sv;class ZN extends Ep{static get __EMPTY_NODE(){return Sv}static set __EMPTY_NODE(t){Sv=t}compare(t,n){return Nc(t.name,n.name)}isDefinedOn(t){throw Dc("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,n){return!1}minPost(){return Lt.MIN}maxPost(){return new Lt(Dl,Sv)}makePost(t,n){return Ue(typeof t=="string","KeyIndex indexValue must always be a string."),new Lt(t,Sv)}toString(){return".key"}}const Qu=new ZN;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ev=class{constructor(t,n,i,r,s=null){this.isReverse_=r,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!t.isEmpty();)if(t=t,o=n?i(t.key,n):1,r&&(o*=-1),o<0)this.isReverse_?t=t.left:t=t.right;else if(o===0){this.nodeStack_.push(t);break}else this.nodeStack_.push(t),this.isReverse_?t=t.right:t=t.left}getNext(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(t.key,t.value):n={key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}},vr=class xd{constructor(t,n,i,r,s){this.key=t,this.value=n,this.color=i??xd.RED,this.left=r??bs.EMPTY_NODE,this.right=s??bs.EMPTY_NODE}copy(t,n,i,r,s){return new xd(t??this.key,n??this.value,i??this.color,r??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,i){let r=this;const s=i(t,r.key);return s<0?r=r.copy(null,null,null,r.left.insert(t,n,i),null):s===0?r=r.copy(null,n,null,null,null):r=r.copy(null,null,null,null,r.right.insert(t,n,i)),r.fixUp_()}removeMin_(){if(this.left.isEmpty())return bs.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,n){let i,r;if(i=this,n(t,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),n(t,i.key)===0){if(i.right.isEmpty())return bs.EMPTY_NODE;r=i.right.min_(),i=i.copy(r.key,r.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,xd.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,xd.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}};vr.RED=!0;vr.BLACK=!1;class Z7{copy(t,n,i,r,s){return this}insert(t,n,i){return new vr(t,n,null)}remove(t,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}let bs=class am{constructor(t,n=am.EMPTY_NODE){this.comparator_=t,this.root_=n}insert(t,n){return new am(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,vr.BLACK,null,null))}remove(t){return new am(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,vr.BLACK,null,null))}get(t){let n,i=this.root_;for(;!i.isEmpty();){if(n=this.comparator_(t,i.key),n===0)return i.value;n<0?i=i.left:n>0&&(i=i.right)}return null}getPredecessorKey(t){let n,i=this.root_,r=null;for(;!i.isEmpty();)if(n=this.comparator_(t,i.key),n===0){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}else n<0?i=i.left:n>0&&(r=i,i=i.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new Ev(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,n){return new Ev(this.root_,t,this.comparator_,!1,n)}getReverseIteratorFrom(t,n){return new Ev(this.root_,t,this.comparator_,!0,n)}getReverseIterator(t){return new Ev(this.root_,null,this.comparator_,!0,t)}};bs.EMPTY_NODE=new Z7;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eG(e,t){return Nc(e.name,t.name)}function uE(e,t){return Nc(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qb;function tG(e){Qb=e}const eM=function(e){return typeof e=="number"?"number:"+xN(e):"string:"+e},tM=function(e){if(e.isLeafNode()){const t=e.val();Ue(typeof t=="string"||typeof t=="number"||typeof t=="object"&&xo(t,".sv"),"Priority must be a string or number.")}else Ue(e===Qb||e.isEmpty(),"priority of unexpected type.");Ue(e===Qb||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let SI;class oi{constructor(t,n=oi.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=n,this.lazyHash_=null,Ue(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),tM(this.priorityNode_)}static set __childrenNodeConstructor(t){SI=t}static get __childrenNodeConstructor(){return SI}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new oi(this.value_,t)}getImmediateChild(t){return t===".priority"?this.priorityNode_:oi.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return Rt(t)?this:Mt(t)===".priority"?this.priorityNode_:oi.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,n){return null}updateImmediateChild(t,n){return t===".priority"?this.updatePriority(n):n.isEmpty()&&t!==".priority"?this:oi.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)}updateChild(t,n){const i=Mt(t);return i===null?n:n.isEmpty()&&i!==".priority"?this:(Ue(i!==".priority"||ma(t)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,oi.__childrenNodeConstructor.EMPTY_NODE.updateChild(Sn(t),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,n){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+eM(this.priorityNode_.val())+":");const n=typeof this.value_;t+=n+":",n==="number"?t+=xN(this.value_):t+=this.value_,this.lazyHash_=IN(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===oi.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof oi.__childrenNodeConstructor?-1:(Ue(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const n=typeof t.value_,i=typeof this.value_,r=oi.VALUE_TYPE_ORDER.indexOf(n),s=oi.VALUE_TYPE_ORDER.indexOf(i);return Ue(r>=0,"Unknown leaf type: "+n),Ue(s>=0,"Unknown leaf type: "+i),r===s?i==="object"?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:s-r}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const n=t;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}oi.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nM,iM;function nG(e){nM=e}function iG(e){iM=e}class rG extends Ep{compare(t,n){const i=t.node.getPriority(),r=n.node.getPriority(),s=i.compareTo(r);return s===0?Nc(t.name,n.name):s}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,n){return!t.getPriority().equals(n.getPriority())}minPost(){return Lt.MIN}maxPost(){return new Lt(Dl,new oi("[PRIORITY-POST]",iM))}makePost(t,n){const i=nM(t);return new Lt(n,new oi("[PRIORITY-POST]",i))}toString(){return".priority"}}const Li=new rG;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sG=Math.log(2);class oG{constructor(t){const n=s=>parseInt(Math.log(s)/sG,10),i=s=>parseInt(Array(s+1).join("1"),2);this.count=n(t+1),this.current_=this.count-1;const r=i(this.count);this.bits_=t+1&r}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const Ym=function(e,t,n,i){e.sort(t);const r=function(l,u){const d=u-l;let c,f;if(d===0)return null;if(d===1)return c=e[l],f=n?n(c):c,new vr(f,c.node,vr.BLACK,null,null);{const v=parseInt(d/2,10)+l,g=r(l,v),p=r(v+1,u);return c=e[v],f=n?n(c):c,new vr(f,c.node,vr.BLACK,g,p)}},s=function(l){let u=null,d=null,c=e.length;const f=function(g,p){const _=c-g,y=c;c-=g;const b=r(_+1,y),E=e[_],k=n?n(E):E;v(new vr(k,E.node,p,null,b))},v=function(g){u?(u.left=g,u=g):(d=g,u=g)};for(let g=0;g<l.count;++g){const p=l.nextBitIsOne(),_=Math.pow(2,l.count-(g+1));p?f(_,vr.BLACK):(f(_,vr.BLACK),f(_,vr.RED))}return d},o=new oG(e.length),a=s(o);return new bs(i||t,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xy;const _u={};class co{constructor(t,n){this.indexes_=t,this.indexSet_=n}static get Default(){return Ue(_u&&Li,"ChildrenNode.ts has not been loaded"),xy=xy||new co({".priority":_u},{".priority":Li}),xy}get(t){const n=oc(this.indexes_,t);if(!n)throw new Error("No index defined for "+t);return n instanceof bs?n:null}hasIndex(t){return xo(this.indexSet_,t.toString())}addIndex(t,n){Ue(t!==Qu,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let r=!1;const s=n.getIterator(Lt.Wrap);let o=s.getNext();for(;o;)r=r||t.isDefinedOn(o.node),i.push(o),o=s.getNext();let a;r?a=Ym(i,t.getCompare()):a=_u;const l=t.toString(),u=Object.assign({},this.indexSet_);u[l]=t;const d=Object.assign({},this.indexes_);return d[l]=a,new co(d,u)}addToIndexes(t,n){const i=Lm(this.indexes_,(r,s)=>{const o=oc(this.indexSet_,s);if(Ue(o,"Missing index implementation for "+s),r===_u)if(o.isDefinedOn(t.node)){const a=[],l=n.getIterator(Lt.Wrap);let u=l.getNext();for(;u;)u.name!==t.name&&a.push(u),u=l.getNext();return a.push(t),Ym(a,o.getCompare())}else return _u;else{const a=n.get(t.name);let l=r;return a&&(l=l.remove(new Lt(t.name,a))),l.insert(t,t.node)}});return new co(i,this.indexSet_)}removeFromIndexes(t,n){const i=Lm(this.indexes_,r=>{if(r===_u)return r;{const s=n.get(t.name);return s?r.remove(new Lt(t.name,s)):r}});return new co(i,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bd;class Kt{constructor(t,n,i){this.children_=t,this.priorityNode_=n,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&tM(this.priorityNode_),this.children_.isEmpty()&&Ue(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return bd||(bd=new Kt(new bs(uE),null,co.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||bd}updatePriority(t){return this.children_.isEmpty()?this:new Kt(this.children_,t,this.indexMap_)}getImmediateChild(t){if(t===".priority")return this.getPriority();{const n=this.children_.get(t);return n===null?bd:n}}getChild(t){const n=Mt(t);return n===null?this:this.getImmediateChild(n).getChild(Sn(t))}hasChild(t){return this.children_.get(t)!==null}updateImmediateChild(t,n){if(Ue(n,"We should always be passing snapshot nodes"),t===".priority")return this.updatePriority(n);{const i=new Lt(t,n);let r,s;n.isEmpty()?(r=this.children_.remove(t),s=this.indexMap_.removeFromIndexes(i,this.children_)):(r=this.children_.insert(t,n),s=this.indexMap_.addToIndexes(i,this.children_));const o=r.isEmpty()?bd:this.priorityNode_;return new Kt(r,o,s)}}updateChild(t,n){const i=Mt(t);if(i===null)return n;{Ue(Mt(t)!==".priority"||ma(t)===1,".priority must be the last token in a path");const r=this.getImmediateChild(i).updateChild(Sn(t),n);return this.updateImmediateChild(i,r)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const n={};let i=0,r=0,s=!0;if(this.forEachChild(Li,(o,a)=>{n[o]=a.val(t),i++,s&&Kt.INTEGER_REGEXP_.test(o)?r=Math.max(r,Number(o)):s=!1}),!t&&s&&r<2*i){const o=[];for(const a in n)o[a]=n[a];return o}else return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let t="";this.getPriority().isEmpty()||(t+="priority:"+eM(this.getPriority().val())+":"),this.forEachChild(Li,(n,i)=>{const r=i.hash();r!==""&&(t+=":"+n+":"+r)}),this.lazyHash_=t===""?"":IN(t)}return this.lazyHash_}getPredecessorChildName(t,n,i){const r=this.resolveIndex_(i);if(r){const s=r.getPredecessorKey(new Lt(t,n));return s?s.name:null}else return this.children_.getPredecessorKey(t)}getFirstChildName(t){const n=this.resolveIndex_(t);if(n){const i=n.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(t){const n=this.getFirstChildName(t);return n?new Lt(n,this.children_.get(n)):null}getLastChildName(t){const n=this.resolveIndex_(t);if(n){const i=n.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(t){const n=this.getLastChildName(t);return n?new Lt(n,this.children_.get(n)):null}forEachChild(t,n){const i=this.resolveIndex_(t);return i?i.inorderTraversal(r=>n(r.name,r.node)):this.children_.inorderTraversal(n)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,n){const i=this.resolveIndex_(n);if(i)return i.getIteratorFrom(t,r=>r);{const r=this.children_.getIteratorFrom(t.name,Lt.Wrap);let s=r.peek();for(;s!=null&&n.compare(s,t)<0;)r.getNext(),s=r.peek();return r}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,n){const i=this.resolveIndex_(n);if(i)return i.getReverseIteratorFrom(t,r=>r);{const r=this.children_.getReverseIteratorFrom(t.name,Lt.Wrap);let s=r.peek();for(;s!=null&&n.compare(s,t)>0;)r.getNext(),s=r.peek();return r}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===Eh?-1:0}withIndex(t){if(t===Qu||this.indexMap_.hasIndex(t))return this;{const n=this.indexMap_.addIndex(t,this.children_);return new Kt(this.children_,this.priorityNode_,n)}}isIndexed(t){return t===Qu||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const n=t;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const i=this.getIterator(Li),r=n.getIterator(Li);let s=i.getNext(),o=r.getNext();for(;s&&o;){if(s.name!==o.name||!s.node.equals(o.node))return!1;s=i.getNext(),o=r.getNext()}return s===null&&o===null}else return!1;else return!1}}resolveIndex_(t){return t===Qu?null:this.indexMap_.get(t.toString())}}Kt.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class aG extends Kt{constructor(){super(new bs(uE),Kt.EMPTY_NODE,co.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return Kt.EMPTY_NODE}isEmpty(){return!1}}const Eh=new aG;Object.defineProperties(Lt,{MIN:{value:new Lt(lc,Kt.EMPTY_NODE)},MAX:{value:new Lt(Dl,Eh)}});ZN.__EMPTY_NODE=Kt.EMPTY_NODE;oi.__childrenNodeConstructor=Kt;tG(Eh);iG(Eh);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lG=!0;function Vi(e,t=null){if(e===null)return Kt.EMPTY_NODE;if(typeof e=="object"&&".priority"in e&&(t=e[".priority"]),Ue(t===null||typeof t=="string"||typeof t=="number"||typeof t=="object"&&".sv"in t,"Invalid priority type found: "+typeof t),typeof e=="object"&&".value"in e&&e[".value"]!==null&&(e=e[".value"]),typeof e!="object"||".sv"in e){const n=e;return new oi(n,Vi(t))}if(!(e instanceof Array)&&lG){const n=[];let i=!1;if(Ur(e,(o,a)=>{if(o.substring(0,1)!=="."){const l=Vi(a);l.isEmpty()||(i=i||!l.getPriority().isEmpty(),n.push(new Lt(o,l)))}}),n.length===0)return Kt.EMPTY_NODE;const s=Ym(n,eG,o=>o.name,uE);if(i){const o=Ym(n,Li.getCompare());return new Kt(s,Vi(t),new co({".priority":o},{".priority":Li}))}else return new Kt(s,Vi(t),co.Default)}else{let n=Kt.EMPTY_NODE;return Ur(e,(i,r)=>{if(xo(e,i)&&i.substring(0,1)!=="."){const s=Vi(r);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(i,s))}}),n.updatePriority(Vi(t))}}nG(Vi);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uG extends Ep{constructor(t){super(),this.indexPath_=t,Ue(!Rt(t)&&Mt(t)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,n){const i=this.extractChild(t.node),r=this.extractChild(n.node),s=i.compareTo(r);return s===0?Nc(t.name,n.name):s}makePost(t,n){const i=Vi(t),r=Kt.EMPTY_NODE.updateChild(this.indexPath_,i);return new Lt(n,r)}maxPost(){const t=Kt.EMPTY_NODE.updateChild(this.indexPath_,Eh);return new Lt(Dl,t)}toString(){return KN(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cG extends Ep{compare(t,n){const i=t.node.compareTo(n.node);return i===0?Nc(t.name,n.name):i}isDefinedOn(t){return!0}indexedValueChanged(t,n){return!t.equals(n)}minPost(){return Lt.MIN}maxPost(){return Lt.MAX}makePost(t,n){const i=Vi(t);return new Lt(n,i)}toString(){return".value"}}const dG=new cG;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fG(e){return{type:"value",snapshotNode:e}}function hG(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function vG(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function EI(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}function mG(e,t){return{type:"child_moved",snapshotNode:t,childName:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cE{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Li}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return Ue(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return Ue(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:lc}hasEnd(){return this.endSet_}getIndexEndValue(){return Ue(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return Ue(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Dl}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return Ue(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Li}copy(){const t=new cE;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function CI(e){const t={};if(e.isDefault())return t;let n;if(e.index_===Li?n="$priority":e.index_===dG?n="$value":e.index_===Qu?n="$key":(Ue(e.index_ instanceof uG,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=yi(n),e.startSet_){const i=e.startAfterSet_?"startAfter":"startAt";t[i]=yi(e.indexStartValue_),e.startNameSet_&&(t[i]+=","+yi(e.indexStartName_))}if(e.endSet_){const i=e.endBeforeSet_?"endBefore":"endAt";t[i]=yi(e.indexEndValue_),e.endNameSet_&&(t[i]+=","+yi(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function kI(e){const t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;let n=e.viewFrom_;n===""&&(e.isViewFromLeft()?n="l":n="r"),t.vf=n}return e.index_!==Li&&(t.i=e.index_.toString()),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Km extends GN{constructor(t,n,i,r){super(),this.repoInfo_=t,this.onDataUpdate_=n,this.authTokenProvider_=i,this.appCheckTokenProvider_=r,this.log_=wh("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,n){return n!==void 0?"tag$"+n:(Ue(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,n,i,r){const s=t._path.toString();this.log_("Listen called for "+s+" "+t._queryIdentifier);const o=Km.getListenId_(t,i),a={};this.listens_[o]=a;const l=CI(t._queryParams);this.restRequest_(s+".json",l,(u,d)=>{let c=d;if(u===404&&(c=null,u=null),u===null&&this.onDataUpdate_(s,c,!1,i),oc(this.listens_,o)===a){let f;u?u===401?f="permission_denied":f="rest_error:"+u:f="ok",r(f,null)}})}unlisten(t,n){const i=Km.getListenId_(t,n);delete this.listens_[i]}get(t){const n=CI(t._queryParams),i=t._path.toString(),r=new _f;return this.restRequest_(i+".json",n,(s,o)=>{let a=o;s===404&&(a=null,s=null),s===null?(this.onDataUpdate_(i,a,!1,null),r.resolve(a)):r.reject(new Error(a))}),r.promise}refreshAuthToken(t){}restRequest_(t,n={},i){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,s])=>{r&&r.accessToken&&(n.auth=r.accessToken),s&&s.token&&(n.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+Oc(n);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(i&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=yf(a.responseText)}catch{Sr("Failed to parse JSON response for "+o+": "+a.responseText)}i(null,l)}else a.status!==401&&a.status!==404&&Sr("Got unsuccessful REST response for "+o+" Status: "+a.status),i(a.status);i=null}},a.open("GET",o,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gG{constructor(){this.rootNode_=Kt.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,n){this.rootNode_=this.rootNode_.updateChild(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xm(){return{value:null,children:new Map}}function rM(e,t,n){if(Rt(t))e.value=n,e.children.clear();else if(e.value!==null)e.value=e.value.updateChild(t,n);else{const i=Mt(t);e.children.has(i)||e.children.set(i,Xm());const r=e.children.get(i);t=Sn(t),rM(r,t,n)}}function Jb(e,t,n){e.value!==null?n(t,e.value):pG(e,(i,r)=>{const s=new Tn(t.toString()+"/"+i);Jb(r,s,n)})}function pG(e,t){e.children.forEach((n,i)=>{t(i,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _G{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),n=Object.assign({},t);return this.last_&&Ur(this.last_,(i,r)=>{n[i]=n[i]-r}),this.last_=t,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TI=10*1e3,yG=30*1e3,bG=5*60*1e3;class wG{constructor(t,n){this.server_=n,this.statsToReport_={},this.statsListener_=new _G(t);const i=TI+(yG-TI)*Math.random();Yd(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const t=this.statsListener_.get(),n={};let i=!1;Ur(t,(r,s)=>{s>0&&xo(this.statsToReport_,r)&&(n[r]=s,i=!0)}),i&&this.server_.reportStats(n),Yd(this.reportStats_.bind(this),Math.floor(Math.random()*2*bG))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ws;(function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(ws||(ws={}));function sM(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function oM(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function aM(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qm{constructor(t,n,i){this.path=t,this.affectedTree=n,this.revert=i,this.type=ws.ACK_USER_WRITE,this.source=sM()}operationForChild(t){if(Rt(this.path)){if(this.affectedTree.value!=null)return Ue(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new Tn(t));return new Qm(tn(),n,this.revert)}}else return Ue(Mt(this.path)===t,"operationForChild called for unrelated child."),new Qm(Sn(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rl{constructor(t,n,i){this.source=t,this.path=n,this.snap=i,this.type=ws.OVERWRITE}operationForChild(t){return Rt(this.path)?new Rl(this.source,tn(),this.snap.getImmediateChild(t)):new Rl(this.source,Sn(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cf{constructor(t,n,i){this.source=t,this.path=n,this.children=i,this.type=ws.MERGE}operationForChild(t){if(Rt(this.path)){const n=this.children.subtree(new Tn(t));return n.isEmpty()?null:n.value?new Rl(this.source,tn(),n.value):new Cf(this.source,tn(),n)}else return Ue(Mt(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new Cf(this.source,Sn(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dE{constructor(t,n,i){this.node_=t,this.fullyInitialized_=n,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(Rt(t))return this.isFullyInitialized()&&!this.filtered_;const n=Mt(t);return this.isCompleteForChild(n)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}function SG(e,t,n,i){const r=[],s=[];return t.forEach(o=>{o.type==="child_changed"&&e.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(mG(o.childName,o.snapshotNode))}),wd(e,r,"child_removed",t,i,n),wd(e,r,"child_added",t,i,n),wd(e,r,"child_moved",s,i,n),wd(e,r,"child_changed",t,i,n),wd(e,r,"value",t,i,n),r}function wd(e,t,n,i,r,s){const o=i.filter(a=>a.type===n);o.sort((a,l)=>CG(e,a,l)),o.forEach(a=>{const l=EG(e,a,s);r.forEach(u=>{u.respondsTo(a.type)&&t.push(u.createEvent(l,e.query_))})})}function EG(e,t,n){return t.type==="value"||t.type==="child_removed"||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}function CG(e,t,n){if(t.childName==null||n.childName==null)throw Dc("Should only compare child_ events.");const i=new Lt(t.childName,t.snapshotNode),r=new Lt(n.childName,n.snapshotNode);return e.index_.compare(i,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lM(e,t){return{eventCache:e,serverCache:t}}function Kd(e,t,n,i){return lM(new dE(t,n,i),e.serverCache)}function uM(e,t,n,i){return lM(e.eventCache,new dE(t,n,i))}function Zb(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function Ol(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dy;const kG=()=>(Dy||(Dy=new bs(c7)),Dy);class wn{constructor(t,n=kG()){this.value=t,this.children=n}static fromObject(t){let n=new wn(null);return Ur(t,(i,r)=>{n=n.set(new Tn(i),r)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,n){if(this.value!=null&&n(this.value))return{path:tn(),value:this.value};if(Rt(t))return null;{const i=Mt(t),r=this.children.get(i);if(r!==null){const s=r.findRootMostMatchingPathAndValue(Sn(t),n);return s!=null?{path:li(new Tn(i),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(Rt(t))return this;{const n=Mt(t),i=this.children.get(n);return i!==null?i.subtree(Sn(t)):new wn(null)}}set(t,n){if(Rt(t))return new wn(n,this.children);{const i=Mt(t),s=(this.children.get(i)||new wn(null)).set(Sn(t),n),o=this.children.insert(i,s);return new wn(this.value,o)}}remove(t){if(Rt(t))return this.children.isEmpty()?new wn(null):new wn(null,this.children);{const n=Mt(t),i=this.children.get(n);if(i){const r=i.remove(Sn(t));let s;return r.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,r),this.value===null&&s.isEmpty()?new wn(null):new wn(this.value,s)}else return this}}get(t){if(Rt(t))return this.value;{const n=Mt(t),i=this.children.get(n);return i?i.get(Sn(t)):null}}setTree(t,n){if(Rt(t))return n;{const i=Mt(t),s=(this.children.get(i)||new wn(null)).setTree(Sn(t),n);let o;return s.isEmpty()?o=this.children.remove(i):o=this.children.insert(i,s),new wn(this.value,o)}}fold(t){return this.fold_(tn(),t)}fold_(t,n){const i={};return this.children.inorderTraversal((r,s)=>{i[r]=s.fold_(li(t,r),n)}),n(t,this.value,i)}findOnPath(t,n){return this.findOnPath_(t,tn(),n)}findOnPath_(t,n,i){const r=this.value?i(n,this.value):!1;if(r)return r;if(Rt(t))return null;{const s=Mt(t),o=this.children.get(s);return o?o.findOnPath_(Sn(t),li(n,s),i):null}}foreachOnPath(t,n){return this.foreachOnPath_(t,tn(),n)}foreachOnPath_(t,n,i){if(Rt(t))return this;{this.value&&i(n,this.value);const r=Mt(t),s=this.children.get(r);return s?s.foreachOnPath_(Sn(t),li(n,r),i):new wn(null)}}foreach(t){this.foreach_(tn(),t)}foreach_(t,n){this.children.inorderTraversal((i,r)=>{r.foreach_(li(t,i),n)}),this.value&&n(t,this.value)}foreachChild(t){this.children.inorderTraversal((n,i)=>{i.value&&t(n,i.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns{constructor(t){this.writeTree_=t}static empty(){return new ns(new wn(null))}}function Xd(e,t,n){if(Rt(t))return new ns(new wn(n));{const i=e.writeTree_.findRootMostValueAndPath(t);if(i!=null){const r=i.path;let s=i.value;const o=Mr(r,t);return s=s.updateChild(o,n),new ns(e.writeTree_.set(r,s))}else{const r=new wn(n),s=e.writeTree_.setTree(t,r);return new ns(s)}}}function II(e,t,n){let i=e;return Ur(n,(r,s)=>{i=Xd(i,li(t,r),s)}),i}function AI(e,t){if(Rt(t))return ns.empty();{const n=e.writeTree_.setTree(t,new wn(null));return new ns(n)}}function e0(e,t){return Yl(e,t)!=null}function Yl(e,t){const n=e.writeTree_.findRootMostValueAndPath(t);return n!=null?e.writeTree_.get(n.path).getChild(Mr(n.path,t)):null}function PI(e){const t=[],n=e.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Li,(i,r)=>{t.push(new Lt(i,r))}):e.writeTree_.children.inorderTraversal((i,r)=>{r.value!=null&&t.push(new Lt(i,r.value))}),t}function ua(e,t){if(Rt(t))return e;{const n=Yl(e,t);return n!=null?new ns(new wn(n)):new ns(e.writeTree_.subtree(t))}}function t0(e){return e.writeTree_.isEmpty()}function uc(e,t){return cM(tn(),e.writeTree_,t)}function cM(e,t,n){if(t.value!=null)return n.updateChild(e,t.value);{let i=null;return t.children.inorderTraversal((r,s)=>{r===".priority"?(Ue(s.value!==null,"Priority writes must always be leaf nodes"),i=s.value):n=cM(li(e,r),s,n)}),!n.getChild(e).isEmpty()&&i!==null&&(n=n.updateChild(li(e,".priority"),i)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dM(e,t){return gM(t,e)}function TG(e,t,n,i,r){Ue(i>e.lastWriteId,"Stacking an older write on top of newer ones"),r===void 0&&(r=!0),e.allWrites.push({path:t,snap:n,writeId:i,visible:r}),r&&(e.visibleWrites=Xd(e.visibleWrites,t,n)),e.lastWriteId=i}function IG(e,t){for(let n=0;n<e.allWrites.length;n++){const i=e.allWrites[n];if(i.writeId===t)return i}return null}function AG(e,t){const n=e.allWrites.findIndex(a=>a.writeId===t);Ue(n>=0,"removeWrite called with nonexistent writeId.");const i=e.allWrites[n];e.allWrites.splice(n,1);let r=i.visible,s=!1,o=e.allWrites.length-1;for(;r&&o>=0;){const a=e.allWrites[o];a.visible&&(o>=n&&PG(a,i.path)?r=!1:Xr(i.path,a.path)&&(s=!0)),o--}if(r){if(s)return xG(e),!0;if(i.snap)e.visibleWrites=AI(e.visibleWrites,i.path);else{const a=i.children;Ur(a,l=>{e.visibleWrites=AI(e.visibleWrites,li(i.path,l))})}return!0}else return!1}function PG(e,t){if(e.snap)return Xr(e.path,t);for(const n in e.children)if(e.children.hasOwnProperty(n)&&Xr(li(e.path,n),t))return!0;return!1}function xG(e){e.visibleWrites=fM(e.allWrites,DG,tn()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}function DG(e){return e.visible}function fM(e,t,n){let i=ns.empty();for(let r=0;r<e.length;++r){const s=e[r];if(t(s)){const o=s.path;let a;if(s.snap)Xr(n,o)?(a=Mr(n,o),i=Xd(i,a,s.snap)):Xr(o,n)&&(a=Mr(o,n),i=Xd(i,tn(),s.snap.getChild(a)));else if(s.children){if(Xr(n,o))a=Mr(n,o),i=II(i,a,s.children);else if(Xr(o,n))if(a=Mr(o,n),Rt(a))i=II(i,tn(),s.children);else{const l=oc(s.children,Mt(a));if(l){const u=l.getChild(Sn(a));i=Xd(i,tn(),u)}}}else throw Dc("WriteRecord should have .snap or .children")}}return i}function hM(e,t,n,i,r){if(!i&&!r){const s=Yl(e.visibleWrites,t);if(s!=null)return s;{const o=ua(e.visibleWrites,t);if(t0(o))return n;if(n==null&&!e0(o,tn()))return null;{const a=n||Kt.EMPTY_NODE;return uc(o,a)}}}else{const s=ua(e.visibleWrites,t);if(!r&&t0(s))return n;if(!r&&n==null&&!e0(s,tn()))return null;{const o=function(u){return(u.visible||r)&&(!i||!~i.indexOf(u.writeId))&&(Xr(u.path,t)||Xr(t,u.path))},a=fM(e.allWrites,o,t),l=n||Kt.EMPTY_NODE;return uc(a,l)}}}function RG(e,t,n){let i=Kt.EMPTY_NODE;const r=Yl(e.visibleWrites,t);if(r)return r.isLeafNode()||r.forEachChild(Li,(s,o)=>{i=i.updateImmediateChild(s,o)}),i;if(n){const s=ua(e.visibleWrites,t);return n.forEachChild(Li,(o,a)=>{const l=uc(ua(s,new Tn(o)),a);i=i.updateImmediateChild(o,l)}),PI(s).forEach(o=>{i=i.updateImmediateChild(o.name,o.node)}),i}else{const s=ua(e.visibleWrites,t);return PI(s).forEach(o=>{i=i.updateImmediateChild(o.name,o.node)}),i}}function OG(e,t,n,i,r){Ue(i||r,"Either existingEventSnap or existingServerSnap must exist");const s=li(t,n);if(e0(e.visibleWrites,s))return null;{const o=ua(e.visibleWrites,s);return t0(o)?r.getChild(n):uc(o,r.getChild(n))}}function VG(e,t,n,i){const r=li(t,n),s=Yl(e.visibleWrites,r);if(s!=null)return s;if(i.isCompleteForChild(n)){const o=ua(e.visibleWrites,r);return uc(o,i.getNode().getImmediateChild(n))}else return null}function NG(e,t){return Yl(e.visibleWrites,t)}function MG(e,t,n,i,r,s,o){let a;const l=ua(e.visibleWrites,t),u=Yl(l,tn());if(u!=null)a=u;else if(n!=null)a=uc(l,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){const d=[],c=o.getCompare(),f=s?a.getReverseIteratorFrom(i,o):a.getIteratorFrom(i,o);let v=f.getNext();for(;v&&d.length<r;)c(v,i)!==0&&d.push(v),v=f.getNext();return d}else return[]}function LG(){return{visibleWrites:ns.empty(),allWrites:[],lastWriteId:-1}}function n0(e,t,n,i){return hM(e.writeTree,e.treePath,t,n,i)}function vM(e,t){return RG(e.writeTree,e.treePath,t)}function xI(e,t,n,i){return OG(e.writeTree,e.treePath,t,n,i)}function Jm(e,t){return NG(e.writeTree,li(e.treePath,t))}function FG(e,t,n,i,r,s){return MG(e.writeTree,e.treePath,t,n,i,r,s)}function fE(e,t,n){return VG(e.writeTree,e.treePath,t,n)}function mM(e,t){return gM(li(e.treePath,t),e.writeTree)}function gM(e,t){return{treePath:e,writeTree:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $G{constructor(){this.changeMap=new Map}trackChildChange(t){const n=t.type,i=t.childName;Ue(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),Ue(i!==".priority","Only non-priority child changes can be tracked.");const r=this.changeMap.get(i);if(r){const s=r.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(i,EI(i,t.snapshotNode,r.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(i);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(i,vG(i,r.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(i,hG(i,t.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(i,EI(i,t.snapshotNode,r.oldSnap));else throw Dc("Illegal combination of changes: "+t+" occurred after "+r)}else this.changeMap.set(i,t)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BG{getCompleteChild(t){return null}getChildAfterChild(t,n,i){return null}}const pM=new BG;class hE{constructor(t,n,i=null){this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=i}getCompleteChild(t){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(t))return n.getNode().getImmediateChild(t);{const i=this.optCompleteServerCache_!=null?new dE(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return fE(this.writes_,t,i)}}getChildAfterChild(t,n,i){const r=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Ol(this.viewCache_),s=FG(this.writes_,r,n,1,i,t);return s.length===0?null:s[0]}}function UG(e,t){Ue(t.eventCache.getNode().isIndexed(e.filter.getIndex()),"Event snap not indexed"),Ue(t.serverCache.getNode().isIndexed(e.filter.getIndex()),"Server snap not indexed")}function jG(e,t,n,i,r){const s=new $G;let o,a;if(n.type===ws.OVERWRITE){const u=n;u.source.fromUser?o=i0(e,t,u.path,u.snap,i,r,s):(Ue(u.source.fromServer,"Unknown source."),a=u.source.tagged||t.serverCache.isFiltered()&&!Rt(u.path),o=Zm(e,t,u.path,u.snap,i,r,a,s))}else if(n.type===ws.MERGE){const u=n;u.source.fromUser?o=WG(e,t,u.path,u.children,i,r,s):(Ue(u.source.fromServer,"Unknown source."),a=u.source.tagged||t.serverCache.isFiltered(),o=r0(e,t,u.path,u.children,i,r,a,s))}else if(n.type===ws.ACK_USER_WRITE){const u=n;u.revert?o=qG(e,t,u.path,i,r,s):o=zG(e,t,u.path,u.affectedTree,i,r,s)}else if(n.type===ws.LISTEN_COMPLETE)o=GG(e,t,n.path,i,s);else throw Dc("Unknown operation type: "+n.type);const l=s.getChanges();return HG(t,o,l),{viewCache:o,changes:l}}function HG(e,t,n){const i=t.eventCache;if(i.isFullyInitialized()){const r=i.getNode().isLeafNode()||i.getNode().isEmpty(),s=Zb(e);(n.length>0||!e.eventCache.isFullyInitialized()||r&&!i.getNode().equals(s)||!i.getNode().getPriority().equals(s.getPriority()))&&n.push(fG(Zb(t)))}}function _M(e,t,n,i,r,s){const o=t.eventCache;if(Jm(i,n)!=null)return t;{let a,l;if(Rt(n))if(Ue(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const u=Ol(t),d=u instanceof Kt?u:Kt.EMPTY_NODE,c=vM(i,d);a=e.filter.updateFullNode(t.eventCache.getNode(),c,s)}else{const u=n0(i,Ol(t));a=e.filter.updateFullNode(t.eventCache.getNode(),u,s)}else{const u=Mt(n);if(u===".priority"){Ue(ma(n)===1,"Can't have a priority with additional path components");const d=o.getNode();l=t.serverCache.getNode();const c=xI(i,n,d,l);c!=null?a=e.filter.updatePriority(d,c):a=o.getNode()}else{const d=Sn(n);let c;if(o.isCompleteForChild(u)){l=t.serverCache.getNode();const f=xI(i,n,o.getNode(),l);f!=null?c=o.getNode().getImmediateChild(u).updateChild(d,f):c=o.getNode().getImmediateChild(u)}else c=fE(i,u,t.serverCache);c!=null?a=e.filter.updateChild(o.getNode(),u,c,d,r,s):a=o.getNode()}}return Kd(t,a,o.isFullyInitialized()||Rt(n),e.filter.filtersNodes())}}function Zm(e,t,n,i,r,s,o,a){const l=t.serverCache;let u;const d=o?e.filter:e.filter.getIndexedFilter();if(Rt(n))u=d.updateFullNode(l.getNode(),i,null);else if(d.filtersNodes()&&!l.isFiltered()){const v=l.getNode().updateChild(n,i);u=d.updateFullNode(l.getNode(),v,null)}else{const v=Mt(n);if(!l.isCompleteForPath(n)&&ma(n)>1)return t;const g=Sn(n),_=l.getNode().getImmediateChild(v).updateChild(g,i);v===".priority"?u=d.updatePriority(l.getNode(),_):u=d.updateChild(l.getNode(),v,_,g,pM,null)}const c=uM(t,u,l.isFullyInitialized()||Rt(n),d.filtersNodes()),f=new hE(r,c,s);return _M(e,c,n,r,f,a)}function i0(e,t,n,i,r,s,o){const a=t.eventCache;let l,u;const d=new hE(r,t,s);if(Rt(n))u=e.filter.updateFullNode(t.eventCache.getNode(),i,o),l=Kd(t,u,!0,e.filter.filtersNodes());else{const c=Mt(n);if(c===".priority")u=e.filter.updatePriority(t.eventCache.getNode(),i),l=Kd(t,u,a.isFullyInitialized(),a.isFiltered());else{const f=Sn(n),v=a.getNode().getImmediateChild(c);let g;if(Rt(f))g=i;else{const p=d.getCompleteChild(c);p!=null?YN(f)===".priority"&&p.getChild(XN(f)).isEmpty()?g=p:g=p.updateChild(f,i):g=Kt.EMPTY_NODE}if(v.equals(g))l=t;else{const p=e.filter.updateChild(a.getNode(),c,g,f,d,o);l=Kd(t,p,a.isFullyInitialized(),e.filter.filtersNodes())}}}return l}function DI(e,t){return e.eventCache.isCompleteForChild(t)}function WG(e,t,n,i,r,s,o){let a=t;return i.foreach((l,u)=>{const d=li(n,l);DI(t,Mt(d))&&(a=i0(e,a,d,u,r,s,o))}),i.foreach((l,u)=>{const d=li(n,l);DI(t,Mt(d))||(a=i0(e,a,d,u,r,s,o))}),a}function RI(e,t,n){return n.foreach((i,r)=>{t=t.updateChild(i,r)}),t}function r0(e,t,n,i,r,s,o,a){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let l=t,u;Rt(n)?u=i:u=new wn(null).setTree(n,i);const d=t.serverCache.getNode();return u.children.inorderTraversal((c,f)=>{if(d.hasChild(c)){const v=t.serverCache.getNode().getImmediateChild(c),g=RI(e,v,f);l=Zm(e,l,new Tn(c),g,r,s,o,a)}}),u.children.inorderTraversal((c,f)=>{const v=!t.serverCache.isCompleteForChild(c)&&f.value===null;if(!d.hasChild(c)&&!v){const g=t.serverCache.getNode().getImmediateChild(c),p=RI(e,g,f);l=Zm(e,l,new Tn(c),p,r,s,o,a)}}),l}function zG(e,t,n,i,r,s,o){if(Jm(r,n)!=null)return t;const a=t.serverCache.isFiltered(),l=t.serverCache;if(i.value!=null){if(Rt(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return Zm(e,t,n,l.getNode().getChild(n),r,s,a,o);if(Rt(n)){let u=new wn(null);return l.getNode().forEachChild(Qu,(d,c)=>{u=u.set(new Tn(d),c)}),r0(e,t,n,u,r,s,a,o)}else return t}else{let u=new wn(null);return i.foreach((d,c)=>{const f=li(n,d);l.isCompleteForPath(f)&&(u=u.set(d,l.getNode().getChild(f)))}),r0(e,t,n,u,r,s,a,o)}}function GG(e,t,n,i,r){const s=t.serverCache,o=uM(t,s.getNode(),s.isFullyInitialized()||Rt(n),s.isFiltered());return _M(e,o,n,i,pM,r)}function qG(e,t,n,i,r,s){let o;if(Jm(i,n)!=null)return t;{const a=new hE(i,t,r),l=t.eventCache.getNode();let u;if(Rt(n)||Mt(n)===".priority"){let d;if(t.serverCache.isFullyInitialized())d=n0(i,Ol(t));else{const c=t.serverCache.getNode();Ue(c instanceof Kt,"serverChildren would be complete if leaf node"),d=vM(i,c)}d=d,u=e.filter.updateFullNode(l,d,s)}else{const d=Mt(n);let c=fE(i,d,t.serverCache);c==null&&t.serverCache.isCompleteForChild(d)&&(c=l.getImmediateChild(d)),c!=null?u=e.filter.updateChild(l,d,c,Sn(n),a,s):t.eventCache.getNode().hasChild(d)?u=e.filter.updateChild(l,d,Kt.EMPTY_NODE,Sn(n),a,s):u=l,u.isEmpty()&&t.serverCache.isFullyInitialized()&&(o=n0(i,Ol(t)),o.isLeafNode()&&(u=e.filter.updateFullNode(u,o,s)))}return o=t.serverCache.isFullyInitialized()||Jm(i,tn())!=null,Kd(t,u,o,e.filter.filtersNodes())}}function YG(e,t){const n=Ol(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!Rt(t)&&!n.getImmediateChild(Mt(t)).isEmpty())?n.getChild(t):null}function OI(e,t,n,i){t.type===ws.MERGE&&t.source.queryId!==null&&(Ue(Ol(e.viewCache_),"We should always have a full cache before handling merges"),Ue(Zb(e.viewCache_),"Missing event cache, even though we have a server cache"));const r=e.viewCache_,s=jG(e.processor_,r,t,n,i);return UG(e.processor_,s.viewCache),Ue(s.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=s.viewCache,KG(e,s.changes,s.viewCache.eventCache.getNode())}function KG(e,t,n,i){const r=e.eventRegistrations_;return SG(e.eventGenerator_,t,n,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let VI;function XG(e){Ue(!VI,"__referenceConstructor has already been defined"),VI=e}function vE(e,t,n,i){const r=t.source.queryId;if(r!==null){const s=e.views.get(r);return Ue(s!=null,"SyncTree gave us an op for an invalid query."),OI(s,t,n,i)}else{let s=[];for(const o of e.views.values())s=s.concat(OI(o,t,n,i));return s}}function mE(e,t){let n=null;for(const i of e.views.values())n=n||YG(i,t);return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let NI;function QG(e){Ue(!NI,"__referenceConstructor has already been defined"),NI=e}class MI{constructor(t){this.listenProvider_=t,this.syncPointTree_=new wn(null),this.pendingWriteTree_=LG(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function JG(e,t,n,i,r){return TG(e.pendingWriteTree_,t,n,i,r),r?kp(e,new Rl(sM(),t,n)):[]}function Nu(e,t,n=!1){const i=IG(e.pendingWriteTree_,t);if(AG(e.pendingWriteTree_,t)){let s=new wn(null);return i.snap!=null?s=s.set(tn(),!0):Ur(i.children,o=>{s=s.set(new Tn(o),!0)}),kp(e,new Qm(i.path,s,n))}else return[]}function Cp(e,t,n){return kp(e,new Rl(oM(),t,n))}function ZG(e,t,n){const i=wn.fromObject(n);return kp(e,new Cf(oM(),t,i))}function eq(e,t,n,i){const r=SM(e,i);if(r!=null){const s=EM(r),o=s.path,a=s.queryId,l=Mr(o,t),u=new Rl(aM(a),l,n);return CM(e,o,u)}else return[]}function tq(e,t,n,i){const r=SM(e,i);if(r){const s=EM(r),o=s.path,a=s.queryId,l=Mr(o,t),u=wn.fromObject(n),d=new Cf(aM(a),l,u);return CM(e,o,d)}else return[]}function yM(e,t,n){const r=e.pendingWriteTree_,s=e.syncPointTree_.findOnPath(t,(o,a)=>{const l=Mr(o,t),u=mE(a,l);if(u)return u});return hM(r,t,s,n,!0)}function kp(e,t){return bM(t,e.syncPointTree_,null,dM(e.pendingWriteTree_,tn()))}function bM(e,t,n,i){if(Rt(e.path))return wM(e,t,n,i);{const r=t.get(tn());n==null&&r!=null&&(n=mE(r,tn()));let s=[];const o=Mt(e.path),a=e.operationForChild(o),l=t.children.get(o);if(l&&a){const u=n?n.getImmediateChild(o):null,d=mM(i,o);s=s.concat(bM(a,l,u,d))}return r&&(s=s.concat(vE(r,e,i,n))),s}}function wM(e,t,n,i){const r=t.get(tn());n==null&&r!=null&&(n=mE(r,tn()));let s=[];return t.children.inorderTraversal((o,a)=>{const l=n?n.getImmediateChild(o):null,u=mM(i,o),d=e.operationForChild(o);d&&(s=s.concat(wM(d,a,l,u)))}),r&&(s=s.concat(vE(r,e,i,n))),s}function SM(e,t){return e.tagToQueryMap.get(t)}function EM(e){const t=e.indexOf("$");return Ue(t!==-1&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new Tn(e.substr(0,t))}}function CM(e,t,n){const i=e.syncPointTree_.get(t);Ue(i,"Missing sync point for query tag that we're tracking");const r=dM(e.pendingWriteTree_,t);return vE(i,n,r,null)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gE{constructor(t){this.node_=t}getImmediateChild(t){const n=this.node_.getImmediateChild(t);return new gE(n)}node(){return this.node_}}class pE{constructor(t,n){this.syncTree_=t,this.path_=n}getImmediateChild(t){const n=li(this.path_,t);return new pE(this.syncTree_,n)}node(){return yM(this.syncTree_,this.path_)}}const nq=function(e){return e=e||{},e.timestamp=e.timestamp||new Date().getTime(),e},LI=function(e,t,n){if(!e||typeof e!="object")return e;if(Ue(".sv"in e,"Unexpected leaf node or priority contents"),typeof e[".sv"]=="string")return iq(e[".sv"],t,n);if(typeof e[".sv"]=="object")return rq(e[".sv"],t);Ue(!1,"Unexpected server value: "+JSON.stringify(e,null,2))},iq=function(e,t,n){switch(e){case"timestamp":return n.timestamp;default:Ue(!1,"Unexpected server value: "+e)}},rq=function(e,t,n){e.hasOwnProperty("increment")||Ue(!1,"Unexpected server value: "+JSON.stringify(e,null,2));const i=e.increment;typeof i!="number"&&Ue(!1,"Unexpected increment value: "+i);const r=t.node();if(Ue(r!==null&&typeof r<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;const o=r.getValue();return typeof o!="number"?i:o+i},sq=function(e,t,n,i){return _E(t,new pE(n,e),i)},oq=function(e,t,n){return _E(e,new gE(t),n)};function _E(e,t,n){const i=e.getPriority().val(),r=LI(i,t.getImmediateChild(".priority"),n);let s;if(e.isLeafNode()){const o=e,a=LI(o.getValue(),t,n);return a!==o.getValue()||r!==o.getPriority().val()?new oi(a,Vi(r)):e}else{const o=e;return s=o,r!==o.getPriority().val()&&(s=s.updatePriority(new oi(r))),o.forEachChild(Li,(a,l)=>{const u=_E(l,t.getImmediateChild(a),n);u!==l&&(s=s.updateImmediateChild(a,u))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yE{constructor(t="",n=null,i={children:{},childCount:0}){this.name=t,this.parent=n,this.node=i}}function bE(e,t){let n=t instanceof Tn?t:new Tn(t),i=e,r=Mt(n);for(;r!==null;){const s=oc(i.node.children,r)||{children:{},childCount:0};i=new yE(r,i,s),n=Sn(n),r=Mt(n)}return i}function Mc(e){return e.node.value}function kM(e,t){e.node.value=t,s0(e)}function TM(e){return e.node.childCount>0}function aq(e){return Mc(e)===void 0&&!TM(e)}function Tp(e,t){Ur(e.node.children,(n,i)=>{t(new yE(n,e,i))})}function IM(e,t,n,i){n&&!i&&t(e),Tp(e,r=>{IM(r,t,!0,i)}),n&&i&&t(e)}function lq(e,t,n){let i=e.parent;for(;i!==null;){if(t(i))return!0;i=i.parent}return!1}function Ch(e){return new Tn(e.parent===null?e.name:Ch(e.parent)+"/"+e.name)}function s0(e){e.parent!==null&&uq(e.parent,e.name,e)}function uq(e,t,n){const i=aq(n),r=xo(e.node.children,t);i&&r?(delete e.node.children[t],e.node.childCount--,s0(e)):!i&&!r&&(e.node.children[t]=n.node,e.node.childCount++,s0(e))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cq=/[\[\].#$\/\u0000-\u001F\u007F]/,dq=/[\[\].#$\u0000-\u001F\u007F]/,Ry=10*1024*1024,AM=function(e){return typeof e=="string"&&e.length!==0&&!cq.test(e)},fq=function(e){return typeof e=="string"&&e.length!==0&&!dq.test(e)},hq=function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),fq(e)},PM=function(e,t,n){const i=n instanceof Tn?new G7(n,e):n;if(t===void 0)throw new Error(e+"contains undefined "+Ja(i));if(typeof t=="function")throw new Error(e+"contains a function "+Ja(i)+" with contents = "+t.toString());if(AN(t))throw new Error(e+"contains "+t.toString()+" "+Ja(i));if(typeof t=="string"&&t.length>Ry/3&&yp(t)>Ry)throw new Error(e+"contains a string greater than "+Ry+" utf8 bytes "+Ja(i)+" ('"+t.substring(0,50)+"...')");if(t&&typeof t=="object"){let r=!1,s=!1;if(Ur(t,(o,a)=>{if(o===".value")r=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!AM(o)))throw new Error(e+" contains an invalid key ("+o+") "+Ja(i)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);q7(i,o),PM(e,a,i),Y7(i)}),r&&s)throw new Error(e+' contains ".value" child '+Ja(i)+" in addition to actual children.")}},vq=function(e,t){const n=t.path.toString();if(typeof t.repoInfo.host!="string"||t.repoInfo.host.length===0||!AM(t.repoInfo.namespace)&&t.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!hq(n))throw new Error(KH(e,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mq{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function gq(e,t){let n=null;for(let i=0;i<t.length;i++){const r=t[i],s=r.getPath();n!==null&&!QN(s,n.path)&&(e.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(r)}n&&e.eventLists_.push(n)}function Kl(e,t,n){gq(e,n),pq(e,i=>Xr(i,t)||Xr(t,i))}function pq(e,t){e.recursionDepth_++;let n=!0;for(let i=0;i<e.eventLists_.length;i++){const r=e.eventLists_[i];if(r){const s=r.path;t(s)?(_q(e.eventLists_[i]),e.eventLists_[i]=null):n=!1}}n&&(e.eventLists_=[]),e.recursionDepth_--}function _q(e){for(let t=0;t<e.events.length;t++){const n=e.events[t];if(n!==null){e.events[t]=null;const i=n.getEventRunner();qd&&Oi("event: "+n.toString()),Sh(i)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yq="repo_interrupt",bq=25;class wq{constructor(t,n,i,r){this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=i,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new mq,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Xm(),this.transactionQueueTree_=new yE,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Sq(e,t,n){if(e.stats_=oE(e.repoInfo_),e.forceRestClient_||g7())e.server_=new Km(e.repoInfo_,(i,r,s,o)=>{FI(e,i,r,s,o)},e.authTokenProvider_,e.appCheckProvider_),setTimeout(()=>$I(e,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{yi(n)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}e.persistentConnection_=new mo(e.repoInfo_,t,(i,r,s,o)=>{FI(e,i,r,s,o)},i=>{$I(e,i)},i=>{Cq(e,i)},e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener(i=>{e.server_.refreshAuthToken(i)}),e.appCheckProvider_.addTokenChangeListener(i=>{e.server_.refreshAppCheckToken(i.token)}),e.statsReporter_=S7(e.repoInfo_,()=>new wG(e.stats_,e.server_)),e.infoData_=new gG,e.infoSyncTree_=new MI({startListening:(i,r,s,o)=>{let a=[];const l=e.infoData_.getNode(i._path);return l.isEmpty()||(a=Cp(e.infoSyncTree_,i._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),wE(e,"connected",!1),e.serverSyncTree_=new MI({startListening:(i,r,s,o)=>(e.server_.listen(i,s,r,(a,l)=>{const u=o(a,l);Kl(e.eventQueue_,i._path,u)}),[]),stopListening:(i,r)=>{e.server_.unlisten(i,r)}})}function Eq(e){const n=e.infoData_.getNode(new Tn(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function xM(e){return nq({timestamp:Eq(e)})}function FI(e,t,n,i,r){e.dataUpdateCount++;const s=new Tn(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let o=[];if(r)if(i){const l=Lm(n,u=>Vi(u));o=tq(e.serverSyncTree_,s,l,r)}else{const l=Vi(n);o=eq(e.serverSyncTree_,s,l,r)}else if(i){const l=Lm(n,u=>Vi(u));o=ZG(e.serverSyncTree_,s,l)}else{const l=Vi(n);o=Cp(e.serverSyncTree_,s,l)}let a=s;o.length>0&&(a=EE(e,s)),Kl(e.eventQueue_,a,o)}function $I(e,t){wE(e,"connected",t),t===!1&&Tq(e)}function Cq(e,t){Ur(t,(n,i)=>{wE(e,n,i)})}function wE(e,t,n){const i=new Tn("/.info/"+t),r=Vi(n);e.infoData_.updateSnapshot(i,r);const s=Cp(e.infoSyncTree_,i,r);Kl(e.eventQueue_,i,s)}function kq(e){return e.nextWriteId_++}function Tq(e){DM(e,"onDisconnectEvents");const t=xM(e),n=Xm();Jb(e.onDisconnect_,tn(),(r,s)=>{const o=sq(r,s,e.serverSyncTree_,t);rM(n,r,o)});let i=[];Jb(n,tn(),(r,s)=>{i=i.concat(Cp(e.serverSyncTree_,r,s));const o=xq(e,r);EE(e,o)}),e.onDisconnect_=Xm(),Kl(e.eventQueue_,tn(),i)}function Iq(e){e.persistentConnection_&&e.persistentConnection_.interrupt(yq)}function DM(e,...t){let n="";e.persistentConnection_&&(n=e.persistentConnection_.id+":"),Oi(n,...t)}function RM(e,t,n){return yM(e.serverSyncTree_,t,n)||Kt.EMPTY_NODE}function SE(e,t=e.transactionQueueTree_){if(t||Ip(e,t),Mc(t)){const n=VM(e,t);Ue(n.length>0,"Sending zero length transaction queue"),n.every(r=>r.status===0)&&Aq(e,Ch(t),n)}else TM(t)&&Tp(t,n=>{SE(e,n)})}function Aq(e,t,n){const i=n.map(u=>u.currentWriteId),r=RM(e,t,i);let s=r;const o=r.hash();for(let u=0;u<n.length;u++){const d=n[u];Ue(d.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),d.status=1,d.retryCount++;const c=Mr(t,d.path);s=s.updateChild(c,d.currentOutputSnapshotRaw)}const a=s.val(!0),l=t;e.server_.put(l.toString(),a,u=>{DM(e,"transaction put response",{path:l.toString(),status:u});let d=[];if(u==="ok"){const c=[];for(let f=0;f<n.length;f++)n[f].status=2,d=d.concat(Nu(e.serverSyncTree_,n[f].currentWriteId)),n[f].onComplete&&c.push(()=>n[f].onComplete(null,!0,n[f].currentOutputSnapshotResolved)),n[f].unwatcher();Ip(e,bE(e.transactionQueueTree_,t)),SE(e,e.transactionQueueTree_),Kl(e.eventQueue_,t,d);for(let f=0;f<c.length;f++)Sh(c[f])}else{if(u==="datastale")for(let c=0;c<n.length;c++)n[c].status===3?n[c].status=4:n[c].status=0;else{Sr("transaction at "+l.toString()+" failed: "+u);for(let c=0;c<n.length;c++)n[c].status=4,n[c].abortReason=u}EE(e,t)}},o)}function EE(e,t){const n=OM(e,t),i=Ch(n),r=VM(e,n);return Pq(e,r,i),i}function Pq(e,t,n){if(t.length===0)return;const i=[];let r=[];const o=t.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<t.length;a++){const l=t[a],u=Mr(n,l.path);let d=!1,c;if(Ue(u!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)d=!0,c=l.abortReason,r=r.concat(Nu(e.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=bq)d=!0,c="maxretry",r=r.concat(Nu(e.serverSyncTree_,l.currentWriteId,!0));else{const f=RM(e,l.path,o);l.currentInputSnapshot=f;const v=t[a].update(f.val());if(v!==void 0){PM("transaction failed: Data returned ",v,l.path);let g=Vi(v);typeof v=="object"&&v!=null&&xo(v,".priority")||(g=g.updatePriority(f.getPriority()));const _=l.currentWriteId,y=xM(e),b=oq(g,f,y);l.currentOutputSnapshotRaw=g,l.currentOutputSnapshotResolved=b,l.currentWriteId=kq(e),o.splice(o.indexOf(_),1),r=r.concat(JG(e.serverSyncTree_,l.path,b,l.currentWriteId,l.applyLocally)),r=r.concat(Nu(e.serverSyncTree_,_,!0))}else d=!0,c="nodata",r=r.concat(Nu(e.serverSyncTree_,l.currentWriteId,!0))}Kl(e.eventQueue_,n,r),r=[],d&&(t[a].status=2,function(f){setTimeout(f,Math.floor(0))}(t[a].unwatcher),t[a].onComplete&&(c==="nodata"?i.push(()=>t[a].onComplete(null,!1,t[a].currentInputSnapshot)):i.push(()=>t[a].onComplete(new Error(c),!1,null))))}Ip(e,e.transactionQueueTree_);for(let a=0;a<i.length;a++)Sh(i[a]);SE(e,e.transactionQueueTree_)}function OM(e,t){let n,i=e.transactionQueueTree_;for(n=Mt(t);n!==null&&Mc(i)===void 0;)i=bE(i,n),t=Sn(t),n=Mt(t);return i}function VM(e,t){const n=[];return NM(e,t,n),n.sort((i,r)=>i.order-r.order),n}function NM(e,t,n){const i=Mc(t);if(i)for(let r=0;r<i.length;r++)n.push(i[r]);Tp(t,r=>{NM(e,r,n)})}function Ip(e,t){const n=Mc(t);if(n){let i=0;for(let r=0;r<n.length;r++)n[r].status!==2&&(n[i]=n[r],i++);n.length=i,kM(t,n.length>0?n:void 0)}Tp(t,i=>{Ip(e,i)})}function xq(e,t){const n=Ch(OM(e,t)),i=bE(e.transactionQueueTree_,t);return lq(i,r=>{Oy(e,r)}),Oy(e,i),IM(i,r=>{Oy(e,r)}),n}function Oy(e,t){const n=Mc(t);if(n){const i=[];let r=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(Ue(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(Ue(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),r=r.concat(Nu(e.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&i.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?kM(t,void 0):n.length=s+1,Kl(e.eventQueue_,Ch(t),r);for(let o=0;o<i.length;o++)Sh(i[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dq(e){let t="";const n=e.split("/");for(let i=0;i<n.length;i++)if(n[i].length>0){let r=n[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch{}t+="/"+r}return t}function Rq(e){const t={};e.charAt(0)==="?"&&(e=e.substring(1));for(const n of e.split("&")){if(n.length===0)continue;const i=n.split("=");i.length===2?t[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):Sr(`Invalid query segment '${n}' in query '${e}'`)}return t}const BI=function(e,t){const n=Oq(e),i=n.namespace;n.domain==="firebase.com"&&xl(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||i==="undefined")&&n.domain!=="localhost"&&xl("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||l7();const r=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new y7(n.host,n.secure,i,r,t,"",i!==n.subdomain),path:new Tn(n.pathString)}},Oq=function(e){let t="",n="",i="",r="",s="",o=!0,a="https",l=443;if(typeof e=="string"){let u=e.indexOf("//");u>=0&&(a=e.substring(0,u-1),e=e.substring(u+2));let d=e.indexOf("/");d===-1&&(d=e.length);let c=e.indexOf("?");c===-1&&(c=e.length),t=e.substring(0,Math.min(d,c)),d<c&&(r=Dq(e.substring(d,c)));const f=Rq(e.substring(Math.min(e.length,c)));u=t.indexOf(":"),u>=0?(o=a==="https"||a==="wss",l=parseInt(t.substring(u+1),10)):u=t.length;const v=t.slice(0,u);if(v.toLowerCase()==="localhost")n="localhost";else if(v.split(".").length<=2)n=v;else{const g=t.indexOf(".");i=t.substring(0,g).toLowerCase(),n=t.substring(g+1),s=i}"ns"in f&&(s=f.ns)}return{host:t,port:l,domain:n,subdomain:i,secure:o,scheme:a,pathString:r,namespace:s}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CE{constructor(t,n,i,r){this._repo=t,this._path=n,this._queryParams=i,this._orderByCalled=r}get key(){return Rt(this._path)?null:YN(this._path)}get ref(){return new Lc(this._repo,this._path)}get _queryIdentifier(){const t=kI(this._queryParams),n=rE(t);return n==="{}"?"default":n}get _queryObject(){return kI(this._queryParams)}isEqual(t){if(t=Gn(t),!(t instanceof CE))return!1;const n=this._repo===t._repo,i=QN(this._path,t._path),r=this._queryIdentifier===t._queryIdentifier;return n&&i&&r}toJSON(){return this.toString()}toString(){return this._repo.toString()+z7(this._path)}}class Lc extends CE{constructor(t,n){super(t,n,new cE,!1)}get parent(){const t=XN(this._path);return t===null?null:new Lc(this._repo,t)}get root(){let t=this;for(;t.parent!==null;)t=t.parent;return t}}XG(Lc);QG(Lc);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vq="FIREBASE_DATABASE_EMULATOR_HOST",o0={};let Nq=!1;function Mq(e,t,n,i,r){let s=i||e.options.databaseURL;s===void 0&&(e.options.projectId||xl("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Oi("Using default host for project ",e.options.projectId),s=`${e.options.projectId}-default-rtdb.firebaseio.com`);let o=BI(s,r),a=o.repoInfo,l;typeof process<"u"&&oI&&(l=oI[Vq]),l?(s=`http://${l}?ns=${a.namespace}`,o=BI(s,r),a=o.repoInfo):o.repoInfo.secure;const u=new _7(e.name,e.options,t);vq("Invalid Firebase Database URL",o),Rt(o.path)||xl("Database URL must point to the root of a Firebase Database (not including a child path).");const d=Fq(a,e,u,new p7(e.name,n));return new $q(d,e)}function Lq(e,t){const n=o0[t];(!n||n[e.key]!==e)&&xl(`Database ${t}(${e.repoInfo_}) has already been deleted.`),Iq(e),delete n[e.key]}function Fq(e,t,n,i){let r=o0[t.name];r||(r={},o0[t.name]=r);let s=r[e.toURLString()];return s&&xl("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new wq(e,Nq,n,i),r[e.toURLString()]=s,s}class $q{constructor(t,n){this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(Sq(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Lc(this._repo,tn())),this._rootInternal}_delete(){return this._rootInternal!==null&&(Lq(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){this._rootInternal===null&&xl("Cannot call "+t+" on a deleted database.")}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bq(e){n7(Ra),Os(new ss("database",(t,{instanceIdentifier:n})=>{const i=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return Mq(i,r,s,n)},"PUBLIC").setMultipleInstances(!0)),wr(aI,lI,e),wr(aI,lI,"esm2017")}mo.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)};mo.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};Bq();var UI=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var gl,MM;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(D,S){function w(){}w.prototype=S.prototype,D.D=S.prototype,D.prototype=new w,D.prototype.constructor=D,D.C=function(C,A,P){for(var x=Array(arguments.length-2),U=2;U<arguments.length;U++)x[U-2]=arguments[U];return S.prototype[A].apply(C,x)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(i,n),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(D,S,w){w||(w=0);var C=Array(16);if(typeof S=="string")for(var A=0;16>A;++A)C[A]=S.charCodeAt(w++)|S.charCodeAt(w++)<<8|S.charCodeAt(w++)<<16|S.charCodeAt(w++)<<24;else for(A=0;16>A;++A)C[A]=S[w++]|S[w++]<<8|S[w++]<<16|S[w++]<<24;S=D.g[0],w=D.g[1],A=D.g[2];var P=D.g[3],x=S+(P^w&(A^P))+C[0]+3614090360&4294967295;S=w+(x<<7&4294967295|x>>>25),x=P+(A^S&(w^A))+C[1]+3905402710&4294967295,P=S+(x<<12&4294967295|x>>>20),x=A+(w^P&(S^w))+C[2]+606105819&4294967295,A=P+(x<<17&4294967295|x>>>15),x=w+(S^A&(P^S))+C[3]+3250441966&4294967295,w=A+(x<<22&4294967295|x>>>10),x=S+(P^w&(A^P))+C[4]+4118548399&4294967295,S=w+(x<<7&4294967295|x>>>25),x=P+(A^S&(w^A))+C[5]+1200080426&4294967295,P=S+(x<<12&4294967295|x>>>20),x=A+(w^P&(S^w))+C[6]+2821735955&4294967295,A=P+(x<<17&4294967295|x>>>15),x=w+(S^A&(P^S))+C[7]+4249261313&4294967295,w=A+(x<<22&4294967295|x>>>10),x=S+(P^w&(A^P))+C[8]+1770035416&4294967295,S=w+(x<<7&4294967295|x>>>25),x=P+(A^S&(w^A))+C[9]+2336552879&4294967295,P=S+(x<<12&4294967295|x>>>20),x=A+(w^P&(S^w))+C[10]+4294925233&4294967295,A=P+(x<<17&4294967295|x>>>15),x=w+(S^A&(P^S))+C[11]+2304563134&4294967295,w=A+(x<<22&4294967295|x>>>10),x=S+(P^w&(A^P))+C[12]+1804603682&4294967295,S=w+(x<<7&4294967295|x>>>25),x=P+(A^S&(w^A))+C[13]+4254626195&4294967295,P=S+(x<<12&4294967295|x>>>20),x=A+(w^P&(S^w))+C[14]+2792965006&4294967295,A=P+(x<<17&4294967295|x>>>15),x=w+(S^A&(P^S))+C[15]+1236535329&4294967295,w=A+(x<<22&4294967295|x>>>10),x=S+(A^P&(w^A))+C[1]+4129170786&4294967295,S=w+(x<<5&4294967295|x>>>27),x=P+(w^A&(S^w))+C[6]+3225465664&4294967295,P=S+(x<<9&4294967295|x>>>23),x=A+(S^w&(P^S))+C[11]+643717713&4294967295,A=P+(x<<14&4294967295|x>>>18),x=w+(P^S&(A^P))+C[0]+3921069994&4294967295,w=A+(x<<20&4294967295|x>>>12),x=S+(A^P&(w^A))+C[5]+3593408605&4294967295,S=w+(x<<5&4294967295|x>>>27),x=P+(w^A&(S^w))+C[10]+38016083&4294967295,P=S+(x<<9&4294967295|x>>>23),x=A+(S^w&(P^S))+C[15]+3634488961&4294967295,A=P+(x<<14&4294967295|x>>>18),x=w+(P^S&(A^P))+C[4]+3889429448&4294967295,w=A+(x<<20&4294967295|x>>>12),x=S+(A^P&(w^A))+C[9]+568446438&4294967295,S=w+(x<<5&4294967295|x>>>27),x=P+(w^A&(S^w))+C[14]+3275163606&4294967295,P=S+(x<<9&4294967295|x>>>23),x=A+(S^w&(P^S))+C[3]+4107603335&4294967295,A=P+(x<<14&4294967295|x>>>18),x=w+(P^S&(A^P))+C[8]+1163531501&4294967295,w=A+(x<<20&4294967295|x>>>12),x=S+(A^P&(w^A))+C[13]+2850285829&4294967295,S=w+(x<<5&4294967295|x>>>27),x=P+(w^A&(S^w))+C[2]+4243563512&4294967295,P=S+(x<<9&4294967295|x>>>23),x=A+(S^w&(P^S))+C[7]+1735328473&4294967295,A=P+(x<<14&4294967295|x>>>18),x=w+(P^S&(A^P))+C[12]+2368359562&4294967295,w=A+(x<<20&4294967295|x>>>12),x=S+(w^A^P)+C[5]+4294588738&4294967295,S=w+(x<<4&4294967295|x>>>28),x=P+(S^w^A)+C[8]+2272392833&4294967295,P=S+(x<<11&4294967295|x>>>21),x=A+(P^S^w)+C[11]+1839030562&4294967295,A=P+(x<<16&4294967295|x>>>16),x=w+(A^P^S)+C[14]+4259657740&4294967295,w=A+(x<<23&4294967295|x>>>9),x=S+(w^A^P)+C[1]+2763975236&4294967295,S=w+(x<<4&4294967295|x>>>28),x=P+(S^w^A)+C[4]+1272893353&4294967295,P=S+(x<<11&4294967295|x>>>21),x=A+(P^S^w)+C[7]+4139469664&4294967295,A=P+(x<<16&4294967295|x>>>16),x=w+(A^P^S)+C[10]+3200236656&4294967295,w=A+(x<<23&4294967295|x>>>9),x=S+(w^A^P)+C[13]+681279174&4294967295,S=w+(x<<4&4294967295|x>>>28),x=P+(S^w^A)+C[0]+3936430074&4294967295,P=S+(x<<11&4294967295|x>>>21),x=A+(P^S^w)+C[3]+3572445317&4294967295,A=P+(x<<16&4294967295|x>>>16),x=w+(A^P^S)+C[6]+76029189&4294967295,w=A+(x<<23&4294967295|x>>>9),x=S+(w^A^P)+C[9]+3654602809&4294967295,S=w+(x<<4&4294967295|x>>>28),x=P+(S^w^A)+C[12]+3873151461&4294967295,P=S+(x<<11&4294967295|x>>>21),x=A+(P^S^w)+C[15]+530742520&4294967295,A=P+(x<<16&4294967295|x>>>16),x=w+(A^P^S)+C[2]+3299628645&4294967295,w=A+(x<<23&4294967295|x>>>9),x=S+(A^(w|~P))+C[0]+4096336452&4294967295,S=w+(x<<6&4294967295|x>>>26),x=P+(w^(S|~A))+C[7]+1126891415&4294967295,P=S+(x<<10&4294967295|x>>>22),x=A+(S^(P|~w))+C[14]+2878612391&4294967295,A=P+(x<<15&4294967295|x>>>17),x=w+(P^(A|~S))+C[5]+4237533241&4294967295,w=A+(x<<21&4294967295|x>>>11),x=S+(A^(w|~P))+C[12]+1700485571&4294967295,S=w+(x<<6&4294967295|x>>>26),x=P+(w^(S|~A))+C[3]+2399980690&4294967295,P=S+(x<<10&4294967295|x>>>22),x=A+(S^(P|~w))+C[10]+4293915773&4294967295,A=P+(x<<15&4294967295|x>>>17),x=w+(P^(A|~S))+C[1]+2240044497&4294967295,w=A+(x<<21&4294967295|x>>>11),x=S+(A^(w|~P))+C[8]+1873313359&4294967295,S=w+(x<<6&4294967295|x>>>26),x=P+(w^(S|~A))+C[15]+4264355552&4294967295,P=S+(x<<10&4294967295|x>>>22),x=A+(S^(P|~w))+C[6]+2734768916&4294967295,A=P+(x<<15&4294967295|x>>>17),x=w+(P^(A|~S))+C[13]+1309151649&4294967295,w=A+(x<<21&4294967295|x>>>11),x=S+(A^(w|~P))+C[4]+4149444226&4294967295,S=w+(x<<6&4294967295|x>>>26),x=P+(w^(S|~A))+C[11]+3174756917&4294967295,P=S+(x<<10&4294967295|x>>>22),x=A+(S^(P|~w))+C[2]+718787259&4294967295,A=P+(x<<15&4294967295|x>>>17),x=w+(P^(A|~S))+C[9]+3951481745&4294967295,D.g[0]=D.g[0]+S&4294967295,D.g[1]=D.g[1]+(A+(x<<21&4294967295|x>>>11))&4294967295,D.g[2]=D.g[2]+A&4294967295,D.g[3]=D.g[3]+P&4294967295}i.prototype.u=function(D,S){S===void 0&&(S=D.length);for(var w=S-this.blockSize,C=this.B,A=this.h,P=0;P<S;){if(A==0)for(;P<=w;)r(this,D,P),P+=this.blockSize;if(typeof D=="string"){for(;P<S;)if(C[A++]=D.charCodeAt(P++),A==this.blockSize){r(this,C),A=0;break}}else for(;P<S;)if(C[A++]=D[P++],A==this.blockSize){r(this,C),A=0;break}}this.h=A,this.o+=S},i.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var S=1;S<D.length-8;++S)D[S]=0;var w=8*this.o;for(S=D.length-8;S<D.length;++S)D[S]=w&255,w/=256;for(this.u(D),D=Array(16),S=w=0;4>S;++S)for(var C=0;32>C;C+=8)D[w++]=this.g[S]>>>C&255;return D};function s(D,S){var w=a;return Object.prototype.hasOwnProperty.call(w,D)?w[D]:w[D]=S(D)}function o(D,S){this.h=S;for(var w=[],C=!0,A=D.length-1;0<=A;A--){var P=D[A]|0;C&&P==S||(w[A]=P,C=!1)}this.g=w}var a={};function l(D){return-128<=D&&128>D?s(D,function(S){return new o([S|0],0>S?-1:0)}):new o([D|0],0>D?-1:0)}function u(D){if(isNaN(D)||!isFinite(D))return c;if(0>D)return _(u(-D));for(var S=[],w=1,C=0;D>=w;C++)S[C]=D/w|0,w*=4294967296;return new o(S,0)}function d(D,S){if(D.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(D.charAt(0)=="-")return _(d(D.substring(1),S));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=u(Math.pow(S,8)),C=c,A=0;A<D.length;A+=8){var P=Math.min(8,D.length-A),x=parseInt(D.substring(A,A+P),S);8>P?(P=u(Math.pow(S,P)),C=C.j(P).add(u(x))):(C=C.j(w),C=C.add(u(x)))}return C}var c=l(0),f=l(1),v=l(16777216);e=o.prototype,e.m=function(){if(p(this))return-_(this).m();for(var D=0,S=1,w=0;w<this.g.length;w++){var C=this.i(w);D+=(0<=C?C:4294967296+C)*S,S*=4294967296}return D},e.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(g(this))return"0";if(p(this))return"-"+_(this).toString(D);for(var S=u(Math.pow(D,6)),w=this,C="";;){var A=k(w,S).g;w=y(w,A.j(S));var P=((0<w.g.length?w.g[0]:w.h)>>>0).toString(D);if(w=A,g(w))return P+C;for(;6>P.length;)P="0"+P;C=P+C}},e.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function g(D){if(D.h!=0)return!1;for(var S=0;S<D.g.length;S++)if(D.g[S]!=0)return!1;return!0}function p(D){return D.h==-1}e.l=function(D){return D=y(this,D),p(D)?-1:g(D)?0:1};function _(D){for(var S=D.g.length,w=[],C=0;C<S;C++)w[C]=~D.g[C];return new o(w,~D.h).add(f)}e.abs=function(){return p(this)?_(this):this},e.add=function(D){for(var S=Math.max(this.g.length,D.g.length),w=[],C=0,A=0;A<=S;A++){var P=C+(this.i(A)&65535)+(D.i(A)&65535),x=(P>>>16)+(this.i(A)>>>16)+(D.i(A)>>>16);C=x>>>16,P&=65535,x&=65535,w[A]=x<<16|P}return new o(w,w[w.length-1]&-2147483648?-1:0)};function y(D,S){return D.add(_(S))}e.j=function(D){if(g(this)||g(D))return c;if(p(this))return p(D)?_(this).j(_(D)):_(_(this).j(D));if(p(D))return _(this.j(_(D)));if(0>this.l(v)&&0>D.l(v))return u(this.m()*D.m());for(var S=this.g.length+D.g.length,w=[],C=0;C<2*S;C++)w[C]=0;for(C=0;C<this.g.length;C++)for(var A=0;A<D.g.length;A++){var P=this.i(C)>>>16,x=this.i(C)&65535,U=D.i(A)>>>16,$=D.i(A)&65535;w[2*C+2*A]+=x*$,b(w,2*C+2*A),w[2*C+2*A+1]+=P*$,b(w,2*C+2*A+1),w[2*C+2*A+1]+=x*U,b(w,2*C+2*A+1),w[2*C+2*A+2]+=P*U,b(w,2*C+2*A+2)}for(C=0;C<S;C++)w[C]=w[2*C+1]<<16|w[2*C];for(C=S;C<2*S;C++)w[C]=0;return new o(w,0)};function b(D,S){for(;(D[S]&65535)!=D[S];)D[S+1]+=D[S]>>>16,D[S]&=65535,S++}function E(D,S){this.g=D,this.h=S}function k(D,S){if(g(S))throw Error("division by zero");if(g(D))return new E(c,c);if(p(D))return S=k(_(D),S),new E(_(S.g),_(S.h));if(p(S))return S=k(D,_(S)),new E(_(S.g),S.h);if(30<D.g.length){if(p(D)||p(S))throw Error("slowDivide_ only works with positive integers.");for(var w=f,C=S;0>=C.l(D);)w=R(w),C=R(C);var A=O(w,1),P=O(C,1);for(C=O(C,2),w=O(w,2);!g(C);){var x=P.add(C);0>=x.l(D)&&(A=A.add(w),P=x),C=O(C,1),w=O(w,1)}return S=y(D,A.j(S)),new E(A,S)}for(A=c;0<=D.l(S);){for(w=Math.max(1,Math.floor(D.m()/S.m())),C=Math.ceil(Math.log(w)/Math.LN2),C=48>=C?1:Math.pow(2,C-48),P=u(w),x=P.j(S);p(x)||0<x.l(D);)w-=C,P=u(w),x=P.j(S);g(P)&&(P=f),A=A.add(P),D=y(D,x)}return new E(A,D)}e.A=function(D){return k(this,D).h},e.and=function(D){for(var S=Math.max(this.g.length,D.g.length),w=[],C=0;C<S;C++)w[C]=this.i(C)&D.i(C);return new o(w,this.h&D.h)},e.or=function(D){for(var S=Math.max(this.g.length,D.g.length),w=[],C=0;C<S;C++)w[C]=this.i(C)|D.i(C);return new o(w,this.h|D.h)},e.xor=function(D){for(var S=Math.max(this.g.length,D.g.length),w=[],C=0;C<S;C++)w[C]=this.i(C)^D.i(C);return new o(w,this.h^D.h)};function R(D){for(var S=D.g.length+1,w=[],C=0;C<S;C++)w[C]=D.i(C)<<1|D.i(C-1)>>>31;return new o(w,D.h)}function O(D,S){var w=S>>5;S%=32;for(var C=D.g.length-w,A=[],P=0;P<C;P++)A[P]=0<S?D.i(P+w)>>>S|D.i(P+w+1)<<32-S:D.i(P+w);return new o(A,D.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,MM=i,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=d,gl=o}).apply(typeof UI<"u"?UI:typeof self<"u"?self:typeof window<"u"?window:{});var Cv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var LM,FM,Dd,$M,lm,a0,BM,UM,jM;(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(m,T,V){return m==Array.prototype||m==Object.prototype||(m[T]=V.value),m};function n(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof Cv=="object"&&Cv];for(var T=0;T<m.length;++T){var V=m[T];if(V&&V.Math==Math)return V}throw Error("Cannot find global object")}var i=n(this);function r(m,T){if(T)e:{var V=i;m=m.split(".");for(var F=0;F<m.length-1;F++){var he=m[F];if(!(he in V))break e;V=V[he]}m=m[m.length-1],F=V[m],T=T(F),T!=F&&T!=null&&t(V,m,{configurable:!0,writable:!0,value:T})}}function s(m,T){m instanceof String&&(m+="");var V=0,F=!1,he={next:function(){if(!F&&V<m.length){var pe=V++;return{value:T(pe,m[pe]),done:!1}}return F=!0,{done:!0,value:void 0}}};return he[Symbol.iterator]=function(){return he},he}r("Array.prototype.values",function(m){return m||function(){return s(this,function(T,V){return V})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(m){var T=typeof m;return T=T!="object"?T:m?Array.isArray(m)?"array":T:"null",T=="array"||T=="object"&&typeof m.length=="number"}function u(m){var T=typeof m;return T=="object"&&m!=null||T=="function"}function d(m,T,V){return m.call.apply(m.bind,arguments)}function c(m,T,V){if(!m)throw Error();if(2<arguments.length){var F=Array.prototype.slice.call(arguments,2);return function(){var he=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(he,F),m.apply(T,he)}}return function(){return m.apply(T,arguments)}}function f(m,T,V){return f=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:c,f.apply(null,arguments)}function v(m,T){var V=Array.prototype.slice.call(arguments,1);return function(){var F=V.slice();return F.push.apply(F,arguments),m.apply(this,F)}}function g(m,T){function V(){}V.prototype=T.prototype,m.aa=T.prototype,m.prototype=new V,m.prototype.constructor=m,m.Qb=function(F,he,pe){for(var Be=Array(arguments.length-2),an=2;an<arguments.length;an++)Be[an-2]=arguments[an];return T.prototype[he].apply(F,Be)}}function p(m){const T=m.length;if(0<T){const V=Array(T);for(let F=0;F<T;F++)V[F]=m[F];return V}return[]}function _(m,T){for(let V=1;V<arguments.length;V++){const F=arguments[V];if(l(F)){const he=m.length||0,pe=F.length||0;m.length=he+pe;for(let Be=0;Be<pe;Be++)m[he+Be]=F[Be]}else m.push(F)}}class y{constructor(T,V){this.i=T,this.j=V,this.h=0,this.g=null}get(){let T;return 0<this.h?(this.h--,T=this.g,this.g=T.next,T.next=null):T=this.i(),T}}function b(m){return/^[\s\xa0]*$/.test(m)}function E(){var m=a.navigator;return m&&(m=m.userAgent)?m:""}function k(m){return k[" "](m),m}k[" "]=function(){};var R=E().indexOf("Gecko")!=-1&&!(E().toLowerCase().indexOf("webkit")!=-1&&E().indexOf("Edge")==-1)&&!(E().indexOf("Trident")!=-1||E().indexOf("MSIE")!=-1)&&E().indexOf("Edge")==-1;function O(m,T,V){for(const F in m)T.call(V,m[F],F,m)}function D(m,T){for(const V in m)T.call(void 0,m[V],V,m)}function S(m){const T={};for(const V in m)T[V]=m[V];return T}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function C(m,T){let V,F;for(let he=1;he<arguments.length;he++){F=arguments[he];for(V in F)m[V]=F[V];for(let pe=0;pe<w.length;pe++)V=w[pe],Object.prototype.hasOwnProperty.call(F,V)&&(m[V]=F[V])}}function A(m){var T=1;m=m.split(":");const V=[];for(;0<T&&m.length;)V.push(m.shift()),T--;return m.length&&V.push(m.join(":")),V}function P(m){a.setTimeout(()=>{throw m},0)}function x(){var m=K;let T=null;return m.g&&(T=m.g,m.g=m.g.next,m.g||(m.h=null),T.next=null),T}class U{constructor(){this.h=this.g=null}add(T,V){const F=$.get();F.set(T,V),this.h?this.h.next=F:this.g=F,this.h=F}}var $=new y(()=>new j,m=>m.reset());class j{constructor(){this.next=this.g=this.h=null}set(T,V){this.h=T,this.g=V,this.next=null}reset(){this.next=this.g=this.h=null}}let Y,W=!1,K=new U,G=()=>{const m=a.Promise.resolve(void 0);Y=()=>{m.then(te)}};var te=()=>{for(var m;m=x();){try{m.h.call(m.g)}catch(V){P(V)}var T=$;T.j(m),100>T.h&&(T.h++,m.next=T.g,T.g=m)}W=!1};function oe(){this.s=this.s,this.C=this.C}oe.prototype.s=!1,oe.prototype.ma=function(){this.s||(this.s=!0,this.N())},oe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function _e(m,T){this.type=m,this.g=this.target=T,this.defaultPrevented=!1}_e.prototype.h=function(){this.defaultPrevented=!0};var Ae=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var m=!1,T=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const V=()=>{};a.addEventListener("test",V,T),a.removeEventListener("test",V,T)}catch{}return m}();function Ne(m,T){if(_e.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m){var V=this.type=m.type,F=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;if(this.target=m.target||m.srcElement,this.g=T,T=m.relatedTarget){if(R){e:{try{k(T.nodeName);var he=!0;break e}catch{}he=!1}he||(T=null)}}else V=="mouseover"?T=m.fromElement:V=="mouseout"&&(T=m.toElement);this.relatedTarget=T,F?(this.clientX=F.clientX!==void 0?F.clientX:F.pageX,this.clientY=F.clientY!==void 0?F.clientY:F.pageY,this.screenX=F.screenX||0,this.screenY=F.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=typeof m.pointerType=="string"?m.pointerType:Q[m.pointerType]||"",this.state=m.state,this.i=m,m.defaultPrevented&&Ne.aa.h.call(this)}}g(Ne,_e);var Q={2:"touch",3:"pen",4:"mouse"};Ne.prototype.h=function(){Ne.aa.h.call(this);var m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var B="closure_listenable_"+(1e6*Math.random()|0),q=0;function ie(m,T,V,F,he){this.listener=m,this.proxy=null,this.src=T,this.type=V,this.capture=!!F,this.ha=he,this.key=++q,this.da=this.fa=!1}function ce(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function ne(m){this.src=m,this.g={},this.h=0}ne.prototype.add=function(m,T,V,F,he){var pe=m.toString();m=this.g[pe],m||(m=this.g[pe]=[],this.h++);var Be=M(m,T,F,he);return-1<Be?(T=m[Be],V||(T.fa=!1)):(T=new ie(T,this.src,pe,!!F,he),T.fa=V,m.push(T)),T};function Se(m,T){var V=T.type;if(V in m.g){var F=m.g[V],he=Array.prototype.indexOf.call(F,T,void 0),pe;(pe=0<=he)&&Array.prototype.splice.call(F,he,1),pe&&(ce(T),m.g[V].length==0&&(delete m.g[V],m.h--))}}function M(m,T,V,F){for(var he=0;he<m.length;++he){var pe=m[he];if(!pe.da&&pe.listener==T&&pe.capture==!!V&&pe.ha==F)return he}return-1}var L="closure_lm_"+(1e6*Math.random()|0),ee={};function fe(m,T,V,F,he){if(Array.isArray(T)){for(var pe=0;pe<T.length;pe++)fe(m,T[pe],V,F,he);return null}return V=He(V),m&&m[B]?m.K(T,V,u(F)?!!F.capture:!!F,he):ae(m,T,V,!1,F,he)}function ae(m,T,V,F,he,pe){if(!T)throw Error("Invalid event type");var Be=u(he)?!!he.capture:!!he,an=ze(m);if(an||(m[L]=an=new ne(m)),V=an.add(T,V,F,Be,pe),V.proxy)return V;if(F=me(),V.proxy=F,F.src=m,F.listener=V,m.addEventListener)Ae||(he=Be),he===void 0&&(he=!1),m.addEventListener(T.toString(),F,he);else if(m.attachEvent)m.attachEvent(Re(T.toString()),F);else if(m.addListener&&m.removeListener)m.addListener(F);else throw Error("addEventListener and attachEvent are unavailable.");return V}function me(){function m(V){return T.call(m.src,m.listener,V)}const T=be;return m}function Pe(m,T,V,F,he){if(Array.isArray(T))for(var pe=0;pe<T.length;pe++)Pe(m,T[pe],V,F,he);else F=u(F)?!!F.capture:!!F,V=He(V),m&&m[B]?(m=m.i,T=String(T).toString(),T in m.g&&(pe=m.g[T],V=M(pe,V,F,he),-1<V&&(ce(pe[V]),Array.prototype.splice.call(pe,V,1),pe.length==0&&(delete m.g[T],m.h--)))):m&&(m=ze(m))&&(T=m.g[T.toString()],m=-1,T&&(m=M(T,V,F,he)),(V=-1<m?T[m]:null)&&Ee(V))}function Ee(m){if(typeof m!="number"&&m&&!m.da){var T=m.src;if(T&&T[B])Se(T.i,m);else{var V=m.type,F=m.proxy;T.removeEventListener?T.removeEventListener(V,F,m.capture):T.detachEvent?T.detachEvent(Re(V),F):T.addListener&&T.removeListener&&T.removeListener(F),(V=ze(T))?(Se(V,m),V.h==0&&(V.src=null,T[L]=null)):ce(m)}}}function Re(m){return m in ee?ee[m]:ee[m]="on"+m}function be(m,T){if(m.da)m=!0;else{T=new Ne(T,this);var V=m.listener,F=m.ha||m.src;m.fa&&Ee(m),m=V.call(F,T)}return m}function ze(m){return m=m[L],m instanceof ne?m:null}var Me="__closure_events_fn_"+(1e9*Math.random()>>>0);function He(m){return typeof m=="function"?m:(m[Me]||(m[Me]=function(T){return m.handleEvent(T)}),m[Me])}function Ce(){oe.call(this),this.i=new ne(this),this.M=this,this.F=null}g(Ce,oe),Ce.prototype[B]=!0,Ce.prototype.removeEventListener=function(m,T,V,F){Pe(this,m,T,V,F)};function Ze(m,T){var V,F=m.F;if(F)for(V=[];F;F=F.F)V.push(F);if(m=m.M,F=T.type||T,typeof T=="string")T=new _e(T,m);else if(T instanceof _e)T.target=T.target||m;else{var he=T;T=new _e(F,m),C(T,he)}if(he=!0,V)for(var pe=V.length-1;0<=pe;pe--){var Be=T.g=V[pe];he=mt(Be,F,!0,T)&&he}if(Be=T.g=m,he=mt(Be,F,!0,T)&&he,he=mt(Be,F,!1,T)&&he,V)for(pe=0;pe<V.length;pe++)Be=T.g=V[pe],he=mt(Be,F,!1,T)&&he}Ce.prototype.N=function(){if(Ce.aa.N.call(this),this.i){var m=this.i,T;for(T in m.g){for(var V=m.g[T],F=0;F<V.length;F++)ce(V[F]);delete m.g[T],m.h--}}this.F=null},Ce.prototype.K=function(m,T,V,F){return this.i.add(String(m),T,!1,V,F)},Ce.prototype.L=function(m,T,V,F){return this.i.add(String(m),T,!0,V,F)};function mt(m,T,V,F){if(T=m.i.g[String(T)],!T)return!0;T=T.concat();for(var he=!0,pe=0;pe<T.length;++pe){var Be=T[pe];if(Be&&!Be.da&&Be.capture==V){var an=Be.listener,vi=Be.ha||Be.src;Be.fa&&Se(m.i,Be),he=an.call(vi,F)!==!1&&he}}return he&&!F.defaultPrevented}function xt(m,T,V){if(typeof m=="function")V&&(m=f(m,V));else if(m&&typeof m.handleEvent=="function")m=f(m.handleEvent,m);else throw Error("Invalid listener argument");return 2147483647<Number(T)?-1:a.setTimeout(m,T||0)}function le(m){m.g=xt(()=>{m.g=null,m.i&&(m.i=!1,le(m))},m.l);const T=m.h;m.h=null,m.m.apply(null,T)}class re extends oe{constructor(T,V){super(),this.m=T,this.l=V,this.h=null,this.i=!1,this.g=null}j(T){this.h=arguments,this.g?this.i=!0:le(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function we(m){oe.call(this),this.h=m,this.g={}}g(we,oe);var Fe=[];function et(m){O(m.g,function(T,V){this.g.hasOwnProperty(V)&&Ee(T)},m),m.g={}}we.prototype.N=function(){we.aa.N.call(this),et(this)},we.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ft=a.JSON.stringify,qe=a.JSON.parse,kt=class{stringify(m){return a.JSON.stringify(m,void 0)}parse(m){return a.JSON.parse(m,void 0)}};function on(){}on.prototype.h=null;function ti(m){return m.h||(m.h=m.i())}function Zt(){}var Fn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function si(){_e.call(this,"d")}g(si,_e);function Ii(){_e.call(this,"c")}g(Ii,_e);var dr={},du=null;function Lo(){return du=du||new Ce}dr.La="serverreachability";function fu(m){_e.call(this,dr.La,m)}g(fu,_e);function qs(m){const T=Lo();Ze(T,new fu(T))}dr.STAT_EVENT="statevent";function KC(m,T){_e.call(this,dr.STAT_EVENT,m),this.stat=T}g(KC,_e);function Wi(m){const T=Lo();Ze(T,new KC(T,m))}dr.Ma="timingevent";function XC(m,T){_e.call(this,dr.Ma,m),this.size=T}g(XC,_e);function rd(m,T){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){m()},T)}function sd(){this.g=!0}sd.prototype.xa=function(){this.g=!1};function L6(m,T,V,F,he,pe){m.info(function(){if(m.g)if(pe)for(var Be="",an=pe.split("&"),vi=0;vi<an.length;vi++){var jt=an[vi].split("=");if(1<jt.length){var Ai=jt[0];jt=jt[1];var Pi=Ai.split("_");Be=2<=Pi.length&&Pi[1]=="type"?Be+(Ai+"="+jt+"&"):Be+(Ai+"=redacted&")}}else Be=null;else Be=pe;return"XMLHTTP REQ ("+F+") [attempt "+he+"]: "+T+`
`+V+`
`+Be})}function F6(m,T,V,F,he,pe,Be){m.info(function(){return"XMLHTTP RESP ("+F+") [ attempt "+he+"]: "+T+`
`+V+`
`+pe+" "+Be})}function hu(m,T,V,F){m.info(function(){return"XMLHTTP TEXT ("+T+"): "+B6(m,V)+(F?" "+F:"")})}function $6(m,T){m.info(function(){return"TIMEOUT: "+T})}sd.prototype.info=function(){};function B6(m,T){if(!m.g)return T;if(!T)return null;try{var V=JSON.parse(T);if(V){for(m=0;m<V.length;m++)if(Array.isArray(V[m])){var F=V[m];if(!(2>F.length)){var he=F[1];if(Array.isArray(he)&&!(1>he.length)){var pe=he[0];if(pe!="noop"&&pe!="stop"&&pe!="close")for(var Be=1;Be<he.length;Be++)he[Be]=""}}}}return ft(V)}catch{return T}}var Qh={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},QC={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},q_;function Jh(){}g(Jh,on),Jh.prototype.g=function(){return new XMLHttpRequest},Jh.prototype.i=function(){return{}},q_=new Jh;function Fo(m,T,V,F){this.j=m,this.i=T,this.l=V,this.R=F||1,this.U=new we(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new JC}function JC(){this.i=null,this.g="",this.h=!1}var ZC={},Y_={};function K_(m,T,V){m.L=1,m.v=nv(Ys(T)),m.m=V,m.P=!0,ek(m,null)}function ek(m,T){m.F=Date.now(),Zh(m),m.A=Ys(m.v);var V=m.A,F=m.R;Array.isArray(F)||(F=[String(F)]),vk(V.i,"t",F),m.C=0,V=m.j.J,m.h=new JC,m.g=Rk(m.j,V?T:null,!m.m),0<m.O&&(m.M=new re(f(m.Y,m,m.g),m.O)),T=m.U,V=m.g,F=m.ca;var he="readystatechange";Array.isArray(he)||(he&&(Fe[0]=he.toString()),he=Fe);for(var pe=0;pe<he.length;pe++){var Be=fe(V,he[pe],F||T.handleEvent,!1,T.h||T);if(!Be)break;T.g[Be.key]=Be}T=m.H?S(m.H):{},m.m?(m.u||(m.u="POST"),T["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.A,m.u,m.m,T)):(m.u="GET",m.g.ea(m.A,m.u,null,T)),qs(),L6(m.i,m.u,m.A,m.l,m.R,m.m)}Fo.prototype.ca=function(m){m=m.target;const T=this.M;T&&Ks(m)==3?T.j():this.Y(m)},Fo.prototype.Y=function(m){try{if(m==this.g)e:{const Pi=Ks(this.g);var T=this.g.Ba();const gu=this.g.Z();if(!(3>Pi)&&(Pi!=3||this.g&&(this.h.h||this.g.oa()||wk(this.g)))){this.J||Pi!=4||T==7||(T==8||0>=gu?qs(3):qs(2)),X_(this);var V=this.g.Z();this.X=V;t:if(tk(this)){var F=wk(this.g);m="";var he=F.length,pe=Ks(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ja(this),od(this);var Be="";break t}this.h.i=new a.TextDecoder}for(T=0;T<he;T++)this.h.h=!0,m+=this.h.i.decode(F[T],{stream:!(pe&&T==he-1)});F.length=0,this.h.g+=m,this.C=0,Be=this.h.g}else Be=this.g.oa();if(this.o=V==200,F6(this.i,this.u,this.A,this.l,this.R,Pi,V),this.o){if(this.T&&!this.K){t:{if(this.g){var an,vi=this.g;if((an=vi.g?vi.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!b(an)){var jt=an;break t}}jt=null}if(V=jt)hu(this.i,this.l,V,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Q_(this,V);else{this.o=!1,this.s=3,Wi(12),ja(this),od(this);break e}}if(this.P){V=!0;let Wr;for(;!this.J&&this.C<Be.length;)if(Wr=U6(this,Be),Wr==Y_){Pi==4&&(this.s=4,Wi(14),V=!1),hu(this.i,this.l,null,"[Incomplete Response]");break}else if(Wr==ZC){this.s=4,Wi(15),hu(this.i,this.l,Be,"[Invalid Chunk]"),V=!1;break}else hu(this.i,this.l,Wr,null),Q_(this,Wr);if(tk(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Pi!=4||Be.length!=0||this.h.h||(this.s=1,Wi(16),V=!1),this.o=this.o&&V,!V)hu(this.i,this.l,Be,"[Invalid Chunked Response]"),ja(this),od(this);else if(0<Be.length&&!this.W){this.W=!0;var Ai=this.j;Ai.g==this&&Ai.ba&&!Ai.M&&(Ai.j.info("Great, no buffering proxy detected. Bytes received: "+Be.length),iy(Ai),Ai.M=!0,Wi(11))}}else hu(this.i,this.l,Be,null),Q_(this,Be);Pi==4&&ja(this),this.o&&!this.J&&(Pi==4?Ak(this.j,this):(this.o=!1,Zh(this)))}else r3(this.g),V==400&&0<Be.indexOf("Unknown SID")?(this.s=3,Wi(12)):(this.s=0,Wi(13)),ja(this),od(this)}}}catch{}finally{}};function tk(m){return m.g?m.u=="GET"&&m.L!=2&&m.j.Ca:!1}function U6(m,T){var V=m.C,F=T.indexOf(`
`,V);return F==-1?Y_:(V=Number(T.substring(V,F)),isNaN(V)?ZC:(F+=1,F+V>T.length?Y_:(T=T.slice(F,F+V),m.C=F+V,T)))}Fo.prototype.cancel=function(){this.J=!0,ja(this)};function Zh(m){m.S=Date.now()+m.I,nk(m,m.I)}function nk(m,T){if(m.B!=null)throw Error("WatchDog timer not null");m.B=rd(f(m.ba,m),T)}function X_(m){m.B&&(a.clearTimeout(m.B),m.B=null)}Fo.prototype.ba=function(){this.B=null;const m=Date.now();0<=m-this.S?($6(this.i,this.A),this.L!=2&&(qs(),Wi(17)),ja(this),this.s=2,od(this)):nk(this,this.S-m)};function od(m){m.j.G==0||m.J||Ak(m.j,m)}function ja(m){X_(m);var T=m.M;T&&typeof T.ma=="function"&&T.ma(),m.M=null,et(m.U),m.g&&(T=m.g,m.g=null,T.abort(),T.ma())}function Q_(m,T){try{var V=m.j;if(V.G!=0&&(V.g==m||J_(V.h,m))){if(!m.K&&J_(V.h,m)&&V.G==3){try{var F=V.Da.g.parse(T)}catch{F=null}if(Array.isArray(F)&&F.length==3){var he=F;if(he[0]==0){e:if(!V.u){if(V.g)if(V.g.F+3e3<m.F)av(V),sv(V);else break e;ny(V),Wi(18)}}else V.za=he[1],0<V.za-V.T&&37500>he[2]&&V.F&&V.v==0&&!V.C&&(V.C=rd(f(V.Za,V),6e3));if(1>=sk(V.h)&&V.ca){try{V.ca()}catch{}V.ca=void 0}}else Wa(V,11)}else if((m.K||V.g==m)&&av(V),!b(T))for(he=V.Da.g.parse(T),T=0;T<he.length;T++){let jt=he[T];if(V.T=jt[0],jt=jt[1],V.G==2)if(jt[0]=="c"){V.K=jt[1],V.ia=jt[2];const Ai=jt[3];Ai!=null&&(V.la=Ai,V.j.info("VER="+V.la));const Pi=jt[4];Pi!=null&&(V.Aa=Pi,V.j.info("SVER="+V.Aa));const gu=jt[5];gu!=null&&typeof gu=="number"&&0<gu&&(F=1.5*gu,V.L=F,V.j.info("backChannelRequestTimeoutMs_="+F)),F=V;const Wr=m.g;if(Wr){const uv=Wr.g?Wr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(uv){var pe=F.h;pe.g||uv.indexOf("spdy")==-1&&uv.indexOf("quic")==-1&&uv.indexOf("h2")==-1||(pe.j=pe.l,pe.g=new Set,pe.h&&(Z_(pe,pe.h),pe.h=null))}if(F.D){const ry=Wr.g?Wr.g.getResponseHeader("X-HTTP-Session-Id"):null;ry&&(F.ya=ry,bn(F.I,F.D,ry))}}V.G=3,V.l&&V.l.ua(),V.ba&&(V.R=Date.now()-m.F,V.j.info("Handshake RTT: "+V.R+"ms")),F=V;var Be=m;if(F.qa=Dk(F,F.J?F.ia:null,F.W),Be.K){ok(F.h,Be);var an=Be,vi=F.L;vi&&(an.I=vi),an.B&&(X_(an),Zh(an)),F.g=Be}else Tk(F);0<V.i.length&&ov(V)}else jt[0]!="stop"&&jt[0]!="close"||Wa(V,7);else V.G==3&&(jt[0]=="stop"||jt[0]=="close"?jt[0]=="stop"?Wa(V,7):ty(V):jt[0]!="noop"&&V.l&&V.l.ta(jt),V.v=0)}}qs(4)}catch{}}var j6=class{constructor(m,T){this.g=m,this.map=T}};function ik(m){this.l=m||10,a.PerformanceNavigationTiming?(m=a.performance.getEntriesByType("navigation"),m=0<m.length&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function rk(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function sk(m){return m.h?1:m.g?m.g.size:0}function J_(m,T){return m.h?m.h==T:m.g?m.g.has(T):!1}function Z_(m,T){m.g?m.g.add(T):m.h=T}function ok(m,T){m.h&&m.h==T?m.h=null:m.g&&m.g.has(T)&&m.g.delete(T)}ik.prototype.cancel=function(){if(this.i=ak(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function ak(m){if(m.h!=null)return m.i.concat(m.h.D);if(m.g!=null&&m.g.size!==0){let T=m.i;for(const V of m.g.values())T=T.concat(V.D);return T}return p(m.i)}function H6(m){if(m.V&&typeof m.V=="function")return m.V();if(typeof Map<"u"&&m instanceof Map||typeof Set<"u"&&m instanceof Set)return Array.from(m.values());if(typeof m=="string")return m.split("");if(l(m)){for(var T=[],V=m.length,F=0;F<V;F++)T.push(m[F]);return T}T=[],V=0;for(F in m)T[V++]=m[F];return T}function W6(m){if(m.na&&typeof m.na=="function")return m.na();if(!m.V||typeof m.V!="function"){if(typeof Map<"u"&&m instanceof Map)return Array.from(m.keys());if(!(typeof Set<"u"&&m instanceof Set)){if(l(m)||typeof m=="string"){var T=[];m=m.length;for(var V=0;V<m;V++)T.push(V);return T}T=[],V=0;for(const F in m)T[V++]=F;return T}}}function lk(m,T){if(m.forEach&&typeof m.forEach=="function")m.forEach(T,void 0);else if(l(m)||typeof m=="string")Array.prototype.forEach.call(m,T,void 0);else for(var V=W6(m),F=H6(m),he=F.length,pe=0;pe<he;pe++)T.call(void 0,F[pe],V&&V[pe],m)}var uk=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function z6(m,T){if(m){m=m.split("&");for(var V=0;V<m.length;V++){var F=m[V].indexOf("="),he=null;if(0<=F){var pe=m[V].substring(0,F);he=m[V].substring(F+1)}else pe=m[V];T(pe,he?decodeURIComponent(he.replace(/\+/g," ")):"")}}}function Ha(m){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,m instanceof Ha){this.h=m.h,ev(this,m.j),this.o=m.o,this.g=m.g,tv(this,m.s),this.l=m.l;var T=m.i,V=new ud;V.i=T.i,T.g&&(V.g=new Map(T.g),V.h=T.h),ck(this,V),this.m=m.m}else m&&(T=String(m).match(uk))?(this.h=!1,ev(this,T[1]||"",!0),this.o=ad(T[2]||""),this.g=ad(T[3]||"",!0),tv(this,T[4]),this.l=ad(T[5]||"",!0),ck(this,T[6]||"",!0),this.m=ad(T[7]||"")):(this.h=!1,this.i=new ud(null,this.h))}Ha.prototype.toString=function(){var m=[],T=this.j;T&&m.push(ld(T,dk,!0),":");var V=this.g;return(V||T=="file")&&(m.push("//"),(T=this.o)&&m.push(ld(T,dk,!0),"@"),m.push(encodeURIComponent(String(V)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),V=this.s,V!=null&&m.push(":",String(V))),(V=this.l)&&(this.g&&V.charAt(0)!="/"&&m.push("/"),m.push(ld(V,V.charAt(0)=="/"?Y6:q6,!0))),(V=this.i.toString())&&m.push("?",V),(V=this.m)&&m.push("#",ld(V,X6)),m.join("")};function Ys(m){return new Ha(m)}function ev(m,T,V){m.j=V?ad(T,!0):T,m.j&&(m.j=m.j.replace(/:$/,""))}function tv(m,T){if(T){if(T=Number(T),isNaN(T)||0>T)throw Error("Bad port number "+T);m.s=T}else m.s=null}function ck(m,T,V){T instanceof ud?(m.i=T,Q6(m.i,m.h)):(V||(T=ld(T,K6)),m.i=new ud(T,m.h))}function bn(m,T,V){m.i.set(T,V)}function nv(m){return bn(m,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),m}function ad(m,T){return m?T?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function ld(m,T,V){return typeof m=="string"?(m=encodeURI(m).replace(T,G6),V&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function G6(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var dk=/[#\/\?@]/g,q6=/[#\?:]/g,Y6=/[#\?]/g,K6=/[#\?@]/g,X6=/#/g;function ud(m,T){this.h=this.g=null,this.i=m||null,this.j=!!T}function $o(m){m.g||(m.g=new Map,m.h=0,m.i&&z6(m.i,function(T,V){m.add(decodeURIComponent(T.replace(/\+/g," ")),V)}))}e=ud.prototype,e.add=function(m,T){$o(this),this.i=null,m=vu(this,m);var V=this.g.get(m);return V||this.g.set(m,V=[]),V.push(T),this.h+=1,this};function fk(m,T){$o(m),T=vu(m,T),m.g.has(T)&&(m.i=null,m.h-=m.g.get(T).length,m.g.delete(T))}function hk(m,T){return $o(m),T=vu(m,T),m.g.has(T)}e.forEach=function(m,T){$o(this),this.g.forEach(function(V,F){V.forEach(function(he){m.call(T,he,F,this)},this)},this)},e.na=function(){$o(this);const m=Array.from(this.g.values()),T=Array.from(this.g.keys()),V=[];for(let F=0;F<T.length;F++){const he=m[F];for(let pe=0;pe<he.length;pe++)V.push(T[F])}return V},e.V=function(m){$o(this);let T=[];if(typeof m=="string")hk(this,m)&&(T=T.concat(this.g.get(vu(this,m))));else{m=Array.from(this.g.values());for(let V=0;V<m.length;V++)T=T.concat(m[V])}return T},e.set=function(m,T){return $o(this),this.i=null,m=vu(this,m),hk(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[T]),this.h+=1,this},e.get=function(m,T){return m?(m=this.V(m),0<m.length?String(m[0]):T):T};function vk(m,T,V){fk(m,T),0<V.length&&(m.i=null,m.g.set(vu(m,T),p(V)),m.h+=V.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],T=Array.from(this.g.keys());for(var V=0;V<T.length;V++){var F=T[V];const pe=encodeURIComponent(String(F)),Be=this.V(F);for(F=0;F<Be.length;F++){var he=pe;Be[F]!==""&&(he+="="+encodeURIComponent(String(Be[F]))),m.push(he)}}return this.i=m.join("&")};function vu(m,T){return T=String(T),m.j&&(T=T.toLowerCase()),T}function Q6(m,T){T&&!m.j&&($o(m),m.i=null,m.g.forEach(function(V,F){var he=F.toLowerCase();F!=he&&(fk(this,F),vk(this,he,V))},m)),m.j=T}function J6(m,T){const V=new sd;if(a.Image){const F=new Image;F.onload=v(Bo,V,"TestLoadImage: loaded",!0,T,F),F.onerror=v(Bo,V,"TestLoadImage: error",!1,T,F),F.onabort=v(Bo,V,"TestLoadImage: abort",!1,T,F),F.ontimeout=v(Bo,V,"TestLoadImage: timeout",!1,T,F),a.setTimeout(function(){F.ontimeout&&F.ontimeout()},1e4),F.src=m}else T(!1)}function Z6(m,T){const V=new sd,F=new AbortController,he=setTimeout(()=>{F.abort(),Bo(V,"TestPingServer: timeout",!1,T)},1e4);fetch(m,{signal:F.signal}).then(pe=>{clearTimeout(he),pe.ok?Bo(V,"TestPingServer: ok",!0,T):Bo(V,"TestPingServer: server error",!1,T)}).catch(()=>{clearTimeout(he),Bo(V,"TestPingServer: error",!1,T)})}function Bo(m,T,V,F,he){try{he&&(he.onload=null,he.onerror=null,he.onabort=null,he.ontimeout=null),F(V)}catch{}}function e3(){this.g=new kt}function t3(m,T,V){const F=V||"";try{lk(m,function(he,pe){let Be=he;u(he)&&(Be=ft(he)),T.push(F+pe+"="+encodeURIComponent(Be))})}catch(he){throw T.push(F+"type="+encodeURIComponent("_badmap")),he}}function cd(m){this.l=m.Ub||null,this.j=m.eb||!1}g(cd,on),cd.prototype.g=function(){return new iv(this.l,this.j)},cd.prototype.i=function(m){return function(){return m}}({});function iv(m,T){Ce.call(this),this.D=m,this.o=T,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}g(iv,Ce),e=iv.prototype,e.open=function(m,T){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=m,this.A=T,this.readyState=1,fd(this)},e.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const T={headers:this.u,method:this.B,credentials:this.m,cache:void 0};m&&(T.body=m),(this.D||a).fetch(new Request(this.A,T)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,dd(this)),this.readyState=0},e.Sa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,fd(this)),this.g&&(this.readyState=3,fd(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;mk(this)}else m.text().then(this.Ra.bind(this),this.ga.bind(this))};function mk(m){m.j.read().then(m.Pa.bind(m)).catch(m.ga.bind(m))}e.Pa=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var T=m.value?m.value:new Uint8Array(0);(T=this.v.decode(T,{stream:!m.done}))&&(this.response=this.responseText+=T)}m.done?dd(this):fd(this),this.readyState==3&&mk(this)}},e.Ra=function(m){this.g&&(this.response=this.responseText=m,dd(this))},e.Qa=function(m){this.g&&(this.response=m,dd(this))},e.ga=function(){this.g&&dd(this)};function dd(m){m.readyState=4,m.l=null,m.j=null,m.v=null,fd(m)}e.setRequestHeader=function(m,T){this.u.append(m,T)},e.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],T=this.h.entries();for(var V=T.next();!V.done;)V=V.value,m.push(V[0]+": "+V[1]),V=T.next();return m.join(`\r
`)};function fd(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(iv.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function gk(m){let T="";return O(m,function(V,F){T+=F,T+=":",T+=V,T+=`\r
`}),T}function ey(m,T,V){e:{for(F in V){var F=!1;break e}F=!0}F||(V=gk(V),typeof m=="string"?V!=null&&encodeURIComponent(String(V)):bn(m,T,V))}function $n(m){Ce.call(this),this.headers=new Map,this.o=m||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}g($n,Ce);var n3=/^https?$/i,i3=["POST","PUT"];e=$n.prototype,e.Ha=function(m){this.J=m},e.ea=function(m,T,V,F){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);T=T?T.toUpperCase():"GET",this.D=m,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():q_.g(),this.v=this.o?ti(this.o):ti(q_),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(T,String(m),!0),this.B=!1}catch(pe){pk(this,pe);return}if(m=V||"",V=new Map(this.headers),F)if(Object.getPrototypeOf(F)===Object.prototype)for(var he in F)V.set(he,F[he]);else if(typeof F.keys=="function"&&typeof F.get=="function")for(const pe of F.keys())V.set(pe,F.get(pe));else throw Error("Unknown input type for opt_headers: "+String(F));F=Array.from(V.keys()).find(pe=>pe.toLowerCase()=="content-type"),he=a.FormData&&m instanceof a.FormData,!(0<=Array.prototype.indexOf.call(i3,T,void 0))||F||he||V.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[pe,Be]of V)this.g.setRequestHeader(pe,Be);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{bk(this),this.u=!0,this.g.send(m),this.u=!1}catch(pe){pk(this,pe)}};function pk(m,T){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=T,m.m=5,_k(m),rv(m)}function _k(m){m.A||(m.A=!0,Ze(m,"complete"),Ze(m,"error"))}e.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=m||7,Ze(this,"complete"),Ze(this,"abort"),rv(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),rv(this,!0)),$n.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?yk(this):this.bb())},e.bb=function(){yk(this)};function yk(m){if(m.h&&typeof o<"u"&&(!m.v[1]||Ks(m)!=4||m.Z()!=2)){if(m.u&&Ks(m)==4)xt(m.Ea,0,m);else if(Ze(m,"readystatechange"),Ks(m)==4){m.h=!1;try{const Be=m.Z();e:switch(Be){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var T=!0;break e;default:T=!1}var V;if(!(V=T)){var F;if(F=Be===0){var he=String(m.D).match(uk)[1]||null;!he&&a.self&&a.self.location&&(he=a.self.location.protocol.slice(0,-1)),F=!n3.test(he?he.toLowerCase():"")}V=F}if(V)Ze(m,"complete"),Ze(m,"success");else{m.m=6;try{var pe=2<Ks(m)?m.g.statusText:""}catch{pe=""}m.l=pe+" ["+m.Z()+"]",_k(m)}}finally{rv(m)}}}}function rv(m,T){if(m.g){bk(m);const V=m.g,F=m.v[0]?()=>{}:null;m.g=null,m.v=null,T||Ze(m,"ready");try{V.onreadystatechange=F}catch{}}}function bk(m){m.I&&(a.clearTimeout(m.I),m.I=null)}e.isActive=function(){return!!this.g};function Ks(m){return m.g?m.g.readyState:0}e.Z=function(){try{return 2<Ks(this)?this.g.status:-1}catch{return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.Oa=function(m){if(this.g){var T=this.g.responseText;return m&&T.indexOf(m)==0&&(T=T.substring(m.length)),qe(T)}};function wk(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.H){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function r3(m){const T={};m=(m.g&&2<=Ks(m)&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let F=0;F<m.length;F++){if(b(m[F]))continue;var V=A(m[F]);const he=V[0];if(V=V[1],typeof V!="string")continue;V=V.trim();const pe=T[he]||[];T[he]=pe,pe.push(V)}D(T,function(F){return F.join(", ")})}e.Ba=function(){return this.m},e.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function hd(m,T,V){return V&&V.internalChannelParams&&V.internalChannelParams[m]||T}function Sk(m){this.Aa=0,this.i=[],this.j=new sd,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=hd("failFast",!1,m),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=hd("baseRetryDelayMs",5e3,m),this.cb=hd("retryDelaySeedMs",1e4,m),this.Wa=hd("forwardChannelMaxRetries",2,m),this.wa=hd("forwardChannelRequestTimeoutMs",2e4,m),this.pa=m&&m.xmlHttpFactory||void 0,this.Xa=m&&m.Tb||void 0,this.Ca=m&&m.useFetchStreams||!1,this.L=void 0,this.J=m&&m.supportsCrossDomainXhr||!1,this.K="",this.h=new ik(m&&m.concurrentRequestLimit),this.Da=new e3,this.P=m&&m.fastHandshake||!1,this.O=m&&m.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=m&&m.Rb||!1,m&&m.xa&&this.j.xa(),m&&m.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&m&&m.detectBufferingProxy||!1,this.ja=void 0,m&&m.longPollingTimeout&&0<m.longPollingTimeout&&(this.ja=m.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}e=Sk.prototype,e.la=8,e.G=1,e.connect=function(m,T,V,F){Wi(0),this.W=m,this.H=T||{},V&&F!==void 0&&(this.H.OSID=V,this.H.OAID=F),this.F=this.X,this.I=Dk(this,null,this.W),ov(this)};function ty(m){if(Ek(m),m.G==3){var T=m.U++,V=Ys(m.I);if(bn(V,"SID",m.K),bn(V,"RID",T),bn(V,"TYPE","terminate"),vd(m,V),T=new Fo(m,m.j,T),T.L=2,T.v=nv(Ys(V)),V=!1,a.navigator&&a.navigator.sendBeacon)try{V=a.navigator.sendBeacon(T.v.toString(),"")}catch{}!V&&a.Image&&(new Image().src=T.v,V=!0),V||(T.g=Rk(T.j,null),T.g.ea(T.v)),T.F=Date.now(),Zh(T)}xk(m)}function sv(m){m.g&&(iy(m),m.g.cancel(),m.g=null)}function Ek(m){sv(m),m.u&&(a.clearTimeout(m.u),m.u=null),av(m),m.h.cancel(),m.s&&(typeof m.s=="number"&&a.clearTimeout(m.s),m.s=null)}function ov(m){if(!rk(m.h)&&!m.s){m.s=!0;var T=m.Ga;Y||G(),W||(Y(),W=!0),K.add(T,m),m.B=0}}function s3(m,T){return sk(m.h)>=m.h.j-(m.s?1:0)?!1:m.s?(m.i=T.D.concat(m.i),!0):m.G==1||m.G==2||m.B>=(m.Va?0:m.Wa)?!1:(m.s=rd(f(m.Ga,m,T),Pk(m,m.B)),m.B++,!0)}e.Ga=function(m){if(this.s)if(this.s=null,this.G==1){if(!m){this.U=Math.floor(1e5*Math.random()),m=this.U++;const he=new Fo(this,this.j,m);let pe=this.o;if(this.S&&(pe?(pe=S(pe),C(pe,this.S)):pe=this.S),this.m!==null||this.O||(he.H=pe,pe=null),this.P)e:{for(var T=0,V=0;V<this.i.length;V++){t:{var F=this.i[V];if("__data__"in F.map&&(F=F.map.__data__,typeof F=="string")){F=F.length;break t}F=void 0}if(F===void 0)break;if(T+=F,4096<T){T=V;break e}if(T===4096||V===this.i.length-1){T=V+1;break e}}T=1e3}else T=1e3;T=kk(this,he,T),V=Ys(this.I),bn(V,"RID",m),bn(V,"CVER",22),this.D&&bn(V,"X-HTTP-Session-Id",this.D),vd(this,V),pe&&(this.O?T="headers="+encodeURIComponent(String(gk(pe)))+"&"+T:this.m&&ey(V,this.m,pe)),Z_(this.h,he),this.Ua&&bn(V,"TYPE","init"),this.P?(bn(V,"$req",T),bn(V,"SID","null"),he.T=!0,K_(he,V,null)):K_(he,V,T),this.G=2}}else this.G==3&&(m?Ck(this,m):this.i.length==0||rk(this.h)||Ck(this))};function Ck(m,T){var V;T?V=T.l:V=m.U++;const F=Ys(m.I);bn(F,"SID",m.K),bn(F,"RID",V),bn(F,"AID",m.T),vd(m,F),m.m&&m.o&&ey(F,m.m,m.o),V=new Fo(m,m.j,V,m.B+1),m.m===null&&(V.H=m.o),T&&(m.i=T.D.concat(m.i)),T=kk(m,V,1e3),V.I=Math.round(.5*m.wa)+Math.round(.5*m.wa*Math.random()),Z_(m.h,V),K_(V,F,T)}function vd(m,T){m.H&&O(m.H,function(V,F){bn(T,F,V)}),m.l&&lk({},function(V,F){bn(T,F,V)})}function kk(m,T,V){V=Math.min(m.i.length,V);var F=m.l?f(m.l.Na,m.l,m):null;e:{var he=m.i;let pe=-1;for(;;){const Be=["count="+V];pe==-1?0<V?(pe=he[0].g,Be.push("ofs="+pe)):pe=0:Be.push("ofs="+pe);let an=!0;for(let vi=0;vi<V;vi++){let jt=he[vi].g;const Ai=he[vi].map;if(jt-=pe,0>jt)pe=Math.max(0,he[vi].g-100),an=!1;else try{t3(Ai,Be,"req"+jt+"_")}catch{F&&F(Ai)}}if(an){F=Be.join("&");break e}}}return m=m.i.splice(0,V),T.D=m,F}function Tk(m){if(!m.g&&!m.u){m.Y=1;var T=m.Fa;Y||G(),W||(Y(),W=!0),K.add(T,m),m.v=0}}function ny(m){return m.g||m.u||3<=m.v?!1:(m.Y++,m.u=rd(f(m.Fa,m),Pk(m,m.v)),m.v++,!0)}e.Fa=function(){if(this.u=null,Ik(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var m=2*this.R;this.j.info("BP detection timer enabled: "+m),this.A=rd(f(this.ab,this),m)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Wi(10),sv(this),Ik(this))};function iy(m){m.A!=null&&(a.clearTimeout(m.A),m.A=null)}function Ik(m){m.g=new Fo(m,m.j,"rpc",m.Y),m.m===null&&(m.g.H=m.o),m.g.O=0;var T=Ys(m.qa);bn(T,"RID","rpc"),bn(T,"SID",m.K),bn(T,"AID",m.T),bn(T,"CI",m.F?"0":"1"),!m.F&&m.ja&&bn(T,"TO",m.ja),bn(T,"TYPE","xmlhttp"),vd(m,T),m.m&&m.o&&ey(T,m.m,m.o),m.L&&(m.g.I=m.L);var V=m.g;m=m.ia,V.L=1,V.v=nv(Ys(T)),V.m=null,V.P=!0,ek(V,m)}e.Za=function(){this.C!=null&&(this.C=null,sv(this),ny(this),Wi(19))};function av(m){m.C!=null&&(a.clearTimeout(m.C),m.C=null)}function Ak(m,T){var V=null;if(m.g==T){av(m),iy(m),m.g=null;var F=2}else if(J_(m.h,T))V=T.D,ok(m.h,T),F=1;else return;if(m.G!=0){if(T.o)if(F==1){V=T.m?T.m.length:0,T=Date.now()-T.F;var he=m.B;F=Lo(),Ze(F,new XC(F,V)),ov(m)}else Tk(m);else if(he=T.s,he==3||he==0&&0<T.X||!(F==1&&s3(m,T)||F==2&&ny(m)))switch(V&&0<V.length&&(T=m.h,T.i=T.i.concat(V)),he){case 1:Wa(m,5);break;case 4:Wa(m,10);break;case 3:Wa(m,6);break;default:Wa(m,2)}}}function Pk(m,T){let V=m.Ta+Math.floor(Math.random()*m.cb);return m.isActive()||(V*=2),V*T}function Wa(m,T){if(m.j.info("Error code "+T),T==2){var V=f(m.fb,m),F=m.Xa;const he=!F;F=new Ha(F||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||ev(F,"https"),nv(F),he?J6(F.toString(),V):Z6(F.toString(),V)}else Wi(2);m.G=0,m.l&&m.l.sa(T),xk(m),Ek(m)}e.fb=function(m){m?(this.j.info("Successfully pinged google.com"),Wi(2)):(this.j.info("Failed to ping google.com"),Wi(1))};function xk(m){if(m.G=0,m.ka=[],m.l){const T=ak(m.h);(T.length!=0||m.i.length!=0)&&(_(m.ka,T),_(m.ka,m.i),m.h.i.length=0,p(m.i),m.i.length=0),m.l.ra()}}function Dk(m,T,V){var F=V instanceof Ha?Ys(V):new Ha(V);if(F.g!="")T&&(F.g=T+"."+F.g),tv(F,F.s);else{var he=a.location;F=he.protocol,T=T?T+"."+he.hostname:he.hostname,he=+he.port;var pe=new Ha(null);F&&ev(pe,F),T&&(pe.g=T),he&&tv(pe,he),V&&(pe.l=V),F=pe}return V=m.D,T=m.ya,V&&T&&bn(F,V,T),bn(F,"VER",m.la),vd(m,F),F}function Rk(m,T,V){if(T&&!m.J)throw Error("Can't create secondary domain capable XhrIo object.");return T=m.Ca&&!m.pa?new $n(new cd({eb:V})):new $n(m.pa),T.Ha(m.J),T}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ok(){}e=Ok.prototype,e.ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){};function lv(){}lv.prototype.g=function(m,T){return new fr(m,T)};function fr(m,T){Ce.call(this),this.g=new Sk(T),this.l=m,this.h=T&&T.messageUrlParams||null,m=T&&T.messageHeaders||null,T&&T.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=T&&T.initMessageHeaders||null,T&&T.messageContentType&&(m?m["X-WebChannel-Content-Type"]=T.messageContentType:m={"X-WebChannel-Content-Type":T.messageContentType}),T&&T.va&&(m?m["X-WebChannel-Client-Profile"]=T.va:m={"X-WebChannel-Client-Profile":T.va}),this.g.S=m,(m=T&&T.Sb)&&!b(m)&&(this.g.m=m),this.v=T&&T.supportsCrossDomainXhr||!1,this.u=T&&T.sendRawJson||!1,(T=T&&T.httpSessionIdParam)&&!b(T)&&(this.g.D=T,m=this.h,m!==null&&T in m&&(m=this.h,T in m&&delete m[T])),this.j=new mu(this)}g(fr,Ce),fr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},fr.prototype.close=function(){ty(this.g)},fr.prototype.o=function(m){var T=this.g;if(typeof m=="string"){var V={};V.__data__=m,m=V}else this.u&&(V={},V.__data__=ft(m),m=V);T.i.push(new j6(T.Ya++,m)),T.G==3&&ov(T)},fr.prototype.N=function(){this.g.l=null,delete this.j,ty(this.g),delete this.g,fr.aa.N.call(this)};function Vk(m){si.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var T=m.__sm__;if(T){e:{for(const V in T){m=V;break e}m=void 0}(this.i=m)&&(m=this.i,T=T!==null&&m in T?T[m]:void 0),this.data=T}else this.data=m}g(Vk,si);function Nk(){Ii.call(this),this.status=1}g(Nk,Ii);function mu(m){this.g=m}g(mu,Ok),mu.prototype.ua=function(){Ze(this.g,"a")},mu.prototype.ta=function(m){Ze(this.g,new Vk(m))},mu.prototype.sa=function(m){Ze(this.g,new Nk)},mu.prototype.ra=function(){Ze(this.g,"b")},lv.prototype.createWebChannel=lv.prototype.g,fr.prototype.send=fr.prototype.o,fr.prototype.open=fr.prototype.m,fr.prototype.close=fr.prototype.close,jM=function(){return new lv},UM=function(){return Lo()},BM=dr,a0={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Qh.NO_ERROR=0,Qh.TIMEOUT=8,Qh.HTTP_ERROR=6,lm=Qh,QC.COMPLETE="complete",$M=QC,Zt.EventType=Fn,Fn.OPEN="a",Fn.CLOSE="b",Fn.ERROR="c",Fn.MESSAGE="d",Ce.prototype.listen=Ce.prototype.K,Dd=Zt,FM=cd,$n.prototype.listenOnce=$n.prototype.L,$n.prototype.getLastError=$n.prototype.Ka,$n.prototype.getLastErrorCode=$n.prototype.Ba,$n.prototype.getStatus=$n.prototype.Z,$n.prototype.getResponseJson=$n.prototype.Oa,$n.prototype.getResponseText=$n.prototype.oa,$n.prototype.send=$n.prototype.ea,$n.prototype.setWithCredentials=$n.prototype.Ha,LM=$n}).apply(typeof Cv<"u"?Cv:typeof self<"u"?self:typeof window<"u"?window:{});const jI="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Di.UNAUTHENTICATED=new Di(null),Di.GOOGLE_CREDENTIALS=new Di("google-credentials-uid"),Di.FIRST_PARTY=new Di("first-party-uid"),Di.MOCK_USER=new Di("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fc="10.13.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vl=new vh("@firebase/firestore");function Sd(){return Vl.logLevel}function Ke(e,...t){if(Vl.logLevel<=It.DEBUG){const n=t.map(kE);Vl.debug(`Firestore (${Fc}): ${e}`,...n)}}function wo(e,...t){if(Vl.logLevel<=It.ERROR){const n=t.map(kE);Vl.error(`Firestore (${Fc}): ${e}`,...n)}}function cc(e,...t){if(Vl.logLevel<=It.WARN){const n=t.map(kE);Vl.warn(`Firestore (${Fc}): ${e}`,...n)}}function kE(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vt(e="Unexpected state"){const t=`FIRESTORE (${Fc}) INTERNAL ASSERTION FAILED: `+e;throw wo(t),new Error(t)}function dn(e,t){e||vt()}function _t(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ke={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class We extends $s{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HM{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class Uq{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(Di.UNAUTHENTICATED))}shutdown(){}}class jq{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Hq{constructor(t){this.t=t,this.currentUser=Di.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){let i=this.i;const r=l=>this.i!==i?(i=this.i,n(l)):Promise.resolve();let s=new go;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new go,t.enqueueRetryable(()=>r(this.currentUser))};const o=()=>{const l=s;t.enqueueRetryable(async()=>{await l.promise,await r(this.currentUser)})},a=l=>{Ke("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(Ke("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new go)}},0),o()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==t?(Ke("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(dn(typeof i.accessToken=="string"),new HM(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return dn(t===null||typeof t=="string"),new Di(t)}}class Wq{constructor(t,n,i){this.l=t,this.h=n,this.P=i,this.type="FirstParty",this.user=Di.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class zq{constructor(t,n,i){this.l=t,this.h=n,this.P=i}getToken(){return Promise.resolve(new Wq(this.l,this.h,this.P))}start(t,n){t.enqueueRetryable(()=>n(Di.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Gq{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class qq{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,n){const i=s=>{s.error!=null&&Ke("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,Ke("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{t.enqueueRetryable(()=>i(s))};const r=s=>{Ke("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?r(s):Ke("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(dn(typeof n.token=="string"),this.R=n.token,new Gq(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yq(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let i=0;i<e;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WM{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length;let i="";for(;i.length<20;){const r=Yq(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<n&&(i+=t.charAt(r[s]%t.length))}return i}}function Ht(e,t){return e<t?-1:e>t?1:0}function dc(e,t,n){return e.length===t.length&&e.every((i,r)=>n(i,t[r]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new We(ke.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new We(ke.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new We(ke.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new We(ke.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return Et.fromMillis(Date.now())}static fromDate(t){return Et.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),i=Math.floor(1e6*(t-1e3*n));return new Et(n,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?Ht(this.nanoseconds,t.nanoseconds):Ht(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(t){this.timestamp=t}static fromTimestamp(t){return new gt(t)}static min(){return new gt(new Et(0,0))}static max(){return new gt(new Et(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kf{constructor(t,n,i){n===void 0?n=0:n>t.length&&vt(),i===void 0?i=t.length-n:i>t.length-n&&vt(),this.segments=t,this.offset=n,this.len=i}get length(){return this.len}isEqual(t){return kf.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof kf?t.forEach(i=>{n.push(i)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,i=this.limit();n<i;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const i=Math.min(t.length,n.length);for(let r=0;r<i;r++){const s=t.get(r),o=n.get(r);if(s<o)return-1;if(s>o)return 1}return t.length<n.length?-1:t.length>n.length?1:0}}class Cn extends kf{construct(t,n,i){return new Cn(t,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const i of t){if(i.indexOf("//")>=0)throw new We(ke.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(r=>r.length>0))}return new Cn(n)}static emptyPath(){return new Cn([])}}const Kq=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class bi extends kf{construct(t,n,i){return new bi(t,n,i)}static isValidIdentifier(t){return Kq.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),bi.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new bi(["__name__"])}static fromServerFormat(t){const n=[];let i="",r=0;const s=()=>{if(i.length===0)throw new We(ke.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let o=!1;for(;r<t.length;){const a=t[r];if(a==="\\"){if(r+1===t.length)throw new We(ke.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const l=t[r+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new We(ke.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=l,r+=2}else a==="`"?(o=!o,r++):a!=="."||o?(i+=a,r++):(s(),r++)}if(s(),o)throw new We(ke.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new bi(n)}static emptyPath(){return new bi([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class it{constructor(t){this.path=t}static fromPath(t){return new it(Cn.fromString(t))}static fromName(t){return new it(Cn.fromString(t).popFirst(5))}static empty(){return new it(Cn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Cn.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return Cn.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new it(new Cn(t.slice()))}}function Xq(e,t){const n=e.toTimestamp().seconds,i=e.toTimestamp().nanoseconds+1,r=gt.fromTimestamp(i===1e9?new Et(n+1,0):new Et(n,i));return new ga(r,it.empty(),t)}function Qq(e){return new ga(e.readTime,e.key,-1)}class ga{constructor(t,n,i){this.readTime=t,this.documentKey=n,this.largestBatchId=i}static min(){return new ga(gt.min(),it.empty(),-1)}static max(){return new ga(gt.max(),it.empty(),-1)}}function Jq(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=it.comparator(e.documentKey,t.documentKey),n!==0?n:Ht(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zq="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class eY{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kh(e){if(e.code!==ke.FAILED_PRECONDITION||e.message!==Zq)throw e;Ke("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oe{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&vt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new Oe((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(t,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(n,s).next(i,r)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof Oe?n:Oe.resolve(n)}catch(n){return Oe.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):Oe.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):Oe.reject(n)}static resolve(t){return new Oe((n,i)=>{n(t)})}static reject(t){return new Oe((n,i)=>{i(t)})}static waitFor(t){return new Oe((n,i)=>{let r=0,s=0,o=!1;t.forEach(a=>{++r,a.next(()=>{++s,o&&s===r&&n()},l=>i(l))}),o=!0,s===r&&n()})}static or(t){let n=Oe.resolve(!1);for(const i of t)n=n.next(r=>r?Oe.resolve(r):i());return n}static forEach(t,n){const i=[];return t.forEach((r,s)=>{i.push(n.call(this,r,s))}),this.waitFor(i)}static mapArray(t,n){return new Oe((i,r)=>{const s=t.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(t[u]).next(d=>{o[u]=d,++a,a===s&&i(o)},d=>r(d))}})}static doWhile(t,n){return new Oe((i,r)=>{const s=()=>{t()===!0?n().next(()=>{s()},r):i()};s()})}}function tY(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Th(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TE{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=i=>this.ie(i),this.se=i=>n.writeSequenceNumber(i))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.se&&this.se(t),t}}TE.oe=-1;function Ap(e){return e==null}function eg(e){return e===0&&1/e==-1/0}function nY(e){return typeof e=="number"&&Number.isInteger(e)&&!eg(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HI(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Xl(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function zM(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(t,n){this.comparator=t,this.root=n||pi.EMPTY}insert(t,n){return new Ln(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,pi.BLACK,null,null))}remove(t){return new Ln(this.comparator,this.root.remove(t,this.comparator).copy(null,null,pi.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(t,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(t){let n=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(r===0)return n+i.left.size;r<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,i)=>(t(n,i),!1))}toString(){const t=[];return this.inorderTraversal((n,i)=>(t.push(`${n}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new kv(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new kv(this.root,t,this.comparator,!1)}getReverseIterator(){return new kv(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new kv(this.root,t,this.comparator,!0)}}class kv{constructor(t,n,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!t.isEmpty();)if(s=n?i(t.key,n):1,n&&r&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(s===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class pi{constructor(t,n,i,r,s){this.key=t,this.value=n,this.color=i??pi.RED,this.left=r??pi.EMPTY,this.right=s??pi.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,i,r,s){return new pi(t??this.key,n??this.value,i??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,i){let r=this;const s=i(t,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(t,n,i),null):s===0?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(t,n,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return pi.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let i,r=this;if(n(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),n(t,r.key)===0){if(r.right.isEmpty())return pi.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,pi.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,pi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw vt();const t=this.left.check();if(t!==this.right.check())throw vt();return t+(this.isRed()?0:1)}}pi.EMPTY=null,pi.RED=!0,pi.BLACK=!1;pi.EMPTY=new class{constructor(){this.size=0}get key(){throw vt()}get value(){throw vt()}get color(){throw vt()}get left(){throw vt()}get right(){throw vt()}copy(t,n,i,r,s){return this}insert(t,n,i){return new pi(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wi{constructor(t){this.comparator=t,this.data=new Ln(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,i)=>(t(n),!1))}forEachInRange(t,n){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;n(r.key)}}forEachWhile(t,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new WI(this.data.getIterator())}getIteratorFrom(t){return new WI(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(i=>{n=n.add(i)}),n}isEqual(t){if(!(t instanceof wi)||this.size!==t.size)return!1;const n=this.data.getIterator(),i=t.data.getIterator();for(;n.hasNext();){const r=n.getNext().key,s=i.getNext().key;if(this.comparator(r,s)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new wi(this.comparator);return n.data=t,n}}class WI{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr{constructor(t){this.fields=t,t.sort(bi.comparator)}static empty(){return new yr([])}unionWith(t){let n=new wi(bi.comparator);for(const i of this.fields)n=n.add(i);for(const i of t)n=n.add(i);return new yr(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return dc(this.fields,t.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GM extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Si{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(r){try{return atob(r)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new GM("Invalid base64 string: "+s):s}}(t);return new Si(n)}static fromUint8Array(t){const n=function(r){let s="";for(let o=0;o<r.length;++o)s+=String.fromCharCode(r[o]);return s}(t);return new Si(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let r=0;r<n.length;r++)i[r]=n.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Ht(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Si.EMPTY_BYTE_STRING=new Si("");const iY=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function pa(e){if(dn(!!e),typeof e=="string"){let t=0;const n=iY.exec(e);if(dn(!!n),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}const i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Wn(e.seconds),nanos:Wn(e.nanos)}}function Wn(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function Nl(e){return typeof e=="string"?Si.fromBase64String(e):Si.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IE(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function AE(e){const t=e.mapValue.fields.__previous_value__;return IE(t)?AE(t):t}function Tf(e){const t=pa(e.mapValue.fields.__local_write_time__.timestampValue);return new Et(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rY{constructor(t,n,i,r,s,o,a,l,u){this.databaseId=t,this.appId=n,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class If{constructor(t,n){this.projectId=t,this.database=n||"(default)"}static empty(){return new If("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(t){return t instanceof If&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tv={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Ml(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?IE(e)?4:oY(e)?9007199254740991:sY(e)?10:11:vt()}function Vs(e,t){if(e===t)return!0;const n=Ml(e);if(n!==Ml(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Tf(e).isEqual(Tf(t));case 3:return function(r,s){if(typeof r.timestampValue=="string"&&typeof s.timestampValue=="string"&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;const o=pa(r.timestampValue),a=pa(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(r,s){return Nl(r.bytesValue).isEqual(Nl(s.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(r,s){return Wn(r.geoPointValue.latitude)===Wn(s.geoPointValue.latitude)&&Wn(r.geoPointValue.longitude)===Wn(s.geoPointValue.longitude)}(e,t);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return Wn(r.integerValue)===Wn(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){const o=Wn(r.doubleValue),a=Wn(s.doubleValue);return o===a?eg(o)===eg(a):isNaN(o)&&isNaN(a)}return!1}(e,t);case 9:return dc(e.arrayValue.values||[],t.arrayValue.values||[],Vs);case 10:case 11:return function(r,s){const o=r.mapValue.fields||{},a=s.mapValue.fields||{};if(HI(o)!==HI(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Vs(o[l],a[l])))return!1;return!0}(e,t);default:return vt()}}function Af(e,t){return(e.values||[]).find(n=>Vs(n,t))!==void 0}function fc(e,t){if(e===t)return 0;const n=Ml(e),i=Ml(t);if(n!==i)return Ht(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ht(e.booleanValue,t.booleanValue);case 2:return function(s,o){const a=Wn(s.integerValue||s.doubleValue),l=Wn(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(e,t);case 3:return zI(e.timestampValue,t.timestampValue);case 4:return zI(Tf(e),Tf(t));case 5:return Ht(e.stringValue,t.stringValue);case 6:return function(s,o){const a=Nl(s),l=Nl(o);return a.compareTo(l)}(e.bytesValue,t.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const d=Ht(a[u],l[u]);if(d!==0)return d}return Ht(a.length,l.length)}(e.referenceValue,t.referenceValue);case 8:return function(s,o){const a=Ht(Wn(s.latitude),Wn(o.latitude));return a!==0?a:Ht(Wn(s.longitude),Wn(o.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return GI(e.arrayValue,t.arrayValue);case 10:return function(s,o){var a,l,u,d;const c=s.fields||{},f=o.fields||{},v=(a=c.value)===null||a===void 0?void 0:a.arrayValue,g=(l=f.value)===null||l===void 0?void 0:l.arrayValue,p=Ht(((u=v==null?void 0:v.values)===null||u===void 0?void 0:u.length)||0,((d=g==null?void 0:g.values)===null||d===void 0?void 0:d.length)||0);return p!==0?p:GI(v,g)}(e.mapValue,t.mapValue);case 11:return function(s,o){if(s===Tv.mapValue&&o===Tv.mapValue)return 0;if(s===Tv.mapValue)return 1;if(o===Tv.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),u=o.fields||{},d=Object.keys(u);l.sort(),d.sort();for(let c=0;c<l.length&&c<d.length;++c){const f=Ht(l[c],d[c]);if(f!==0)return f;const v=fc(a[l[c]],u[d[c]]);if(v!==0)return v}return Ht(l.length,d.length)}(e.mapValue,t.mapValue);default:throw vt()}}function zI(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return Ht(e,t);const n=pa(e),i=pa(t),r=Ht(n.seconds,i.seconds);return r!==0?r:Ht(n.nanos,i.nanos)}function GI(e,t){const n=e.values||[],i=t.values||[];for(let r=0;r<n.length&&r<i.length;++r){const s=fc(n[r],i[r]);if(s)return s}return Ht(n.length,i.length)}function hc(e){return l0(e)}function l0(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(n){const i=pa(n);return`time(${i.seconds},${i.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(n){return Nl(n).toBase64()}(e.bytesValue):"referenceValue"in e?function(n){return it.fromName(n).toString()}(e.referenceValue):"geoPointValue"in e?function(n){return`geo(${n.latitude},${n.longitude})`}(e.geoPointValue):"arrayValue"in e?function(n){let i="[",r=!0;for(const s of n.values||[])r?r=!1:i+=",",i+=l0(s);return i+"]"}(e.arrayValue):"mapValue"in e?function(n){const i=Object.keys(n.fields||{}).sort();let r="{",s=!0;for(const o of i)s?s=!1:r+=",",r+=`${o}:${l0(n.fields[o])}`;return r+"}"}(e.mapValue):vt()}function qI(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function u0(e){return!!e&&"integerValue"in e}function PE(e){return!!e&&"arrayValue"in e}function YI(e){return!!e&&"nullValue"in e}function KI(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function um(e){return!!e&&"mapValue"in e}function sY(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Qd(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Xl(e.mapValue.fields,(n,i)=>t.mapValue.fields[n]=Qd(i)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Qd(e.arrayValue.values[n]);return t}return Object.assign({},e)}function oY(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or{constructor(t){this.value=t}static empty(){return new or({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let i=0;i<t.length-1;++i)if(n=(n.mapValue.fields||{})[t.get(i)],!um(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Qd(n)}setAll(t){let n=bi.emptyPath(),i={},r=[];t.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,i,r),i={},r=[],n=a.popLast()}o?i[a.lastSegment()]=Qd(o):r.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,i,r)}delete(t){const n=this.field(t.popLast());um(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return Vs(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=n.mapValue.fields[t.get(i)];um(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[t.get(i)]=r),n=r}return n.mapValue.fields}applyChanges(t,n,i){Xl(n,(r,s)=>t[r]=s);for(const r of i)delete t[r]}clone(){return new or(Qd(this.value))}}function qM(e){const t=[];return Xl(e.fields,(n,i)=>{const r=new bi([n]);if(um(i)){const s=qM(i.mapValue).fields;if(s.length===0)t.push(r);else for(const o of s)t.push(r.child(o))}else t.push(r)}),new yr(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni{constructor(t,n,i,r,s,o,a){this.key=t,this.documentType=n,this.version=i,this.readTime=r,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(t){return new Ni(t,0,gt.min(),gt.min(),gt.min(),or.empty(),0)}static newFoundDocument(t,n,i,r){return new Ni(t,1,n,gt.min(),i,r,0)}static newNoDocument(t,n){return new Ni(t,2,n,gt.min(),gt.min(),or.empty(),0)}static newUnknownDocument(t,n){return new Ni(t,3,n,gt.min(),gt.min(),or.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(gt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=or.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=or.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=gt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Ni&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Ni(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tg{constructor(t,n){this.position=t,this.inclusive=n}}function XI(e,t,n){let i=0;for(let r=0;r<e.position.length;r++){const s=t[r],o=e.position[r];if(s.field.isKeyField()?i=it.comparator(it.fromName(o.referenceValue),n.key):i=fc(o,n.data.field(s.field)),s.dir==="desc"&&(i*=-1),i!==0)break}return i}function QI(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Vs(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pf{constructor(t,n="asc"){this.field=t,this.dir=n}}function aY(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YM{}class Qn extends YM{constructor(t,n,i){super(),this.field=t,this.op=n,this.value=i}static create(t,n,i){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,i):new uY(t,n,i):n==="array-contains"?new fY(t,i):n==="in"?new hY(t,i):n==="not-in"?new vY(t,i):n==="array-contains-any"?new mY(t,i):new Qn(t,n,i)}static createKeyFieldInFilter(t,n,i){return n==="in"?new cY(t,i):new dY(t,i)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(fc(n,this.value)):n!==null&&Ml(this.value)===Ml(n)&&this.matchesComparison(fc(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return vt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class as extends YM{constructor(t,n){super(),this.filters=t,this.op=n,this.ae=null}static create(t,n){return new as(t,n)}matches(t){return KM(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function KM(e){return e.op==="and"}function XM(e){return lY(e)&&KM(e)}function lY(e){for(const t of e.filters)if(t instanceof as)return!1;return!0}function c0(e){if(e instanceof Qn)return e.field.canonicalString()+e.op.toString()+hc(e.value);if(XM(e))return e.filters.map(t=>c0(t)).join(",");{const t=e.filters.map(n=>c0(n)).join(",");return`${e.op}(${t})`}}function QM(e,t){return e instanceof Qn?function(i,r){return r instanceof Qn&&i.op===r.op&&i.field.isEqual(r.field)&&Vs(i.value,r.value)}(e,t):e instanceof as?function(i,r){return r instanceof as&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce((s,o,a)=>s&&QM(o,r.filters[a]),!0):!1}(e,t):void vt()}function JM(e){return e instanceof Qn?function(n){return`${n.field.canonicalString()} ${n.op} ${hc(n.value)}`}(e):e instanceof as?function(n){return n.op.toString()+" {"+n.getFilters().map(JM).join(" ,")+"}"}(e):"Filter"}class uY extends Qn{constructor(t,n,i){super(t,n,i),this.key=it.fromName(i.referenceValue)}matches(t){const n=it.comparator(t.key,this.key);return this.matchesComparison(n)}}class cY extends Qn{constructor(t,n){super(t,"in",n),this.keys=ZM("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class dY extends Qn{constructor(t,n){super(t,"not-in",n),this.keys=ZM("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function ZM(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>it.fromName(i.referenceValue))}class fY extends Qn{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return PE(n)&&Af(n.arrayValue,this.value)}}class hY extends Qn{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Af(this.value.arrayValue,n)}}class vY extends Qn{constructor(t,n){super(t,"not-in",n)}matches(t){if(Af(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&!Af(this.value.arrayValue,n)}}class mY extends Qn{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!PE(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>Af(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gY{constructor(t,n=null,i=[],r=[],s=null,o=null,a=null){this.path=t,this.collectionGroup=n,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}}function JI(e,t=null,n=[],i=[],r=null,s=null,o=null){return new gY(e,t,n,i,r,s,o)}function xE(e){const t=_t(e);if(t.ue===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(i=>c0(i)).join(","),n+="|ob:",n+=t.orderBy.map(i=>function(s){return s.field.canonicalString()+s.dir}(i)).join(","),Ap(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(i=>hc(i)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(i=>hc(i)).join(",")),t.ue=n}return t.ue}function DE(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!aY(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!QM(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!QI(e.startAt,t.startAt)&&QI(e.endAt,t.endAt)}function d0(e){return it.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $c{constructor(t,n=null,i=[],r=[],s=null,o="F",a=null,l=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function pY(e,t,n,i,r,s,o,a){return new $c(e,t,n,i,r,s,o,a)}function Pp(e){return new $c(e)}function ZI(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function e2(e){return e.collectionGroup!==null}function Jd(e){const t=_t(e);if(t.ce===null){t.ce=[];const n=new Set;for(const s of t.explicitOrderBy)t.ce.push(s),n.add(s.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new wi(bi.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(t).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||t.ce.push(new Pf(s,i))}),n.has(bi.keyField().canonicalString())||t.ce.push(new Pf(bi.keyField(),i))}return t.ce}function Ts(e){const t=_t(e);return t.le||(t.le=_Y(t,Jd(e))),t.le}function _Y(e,t){if(e.limitType==="F")return JI(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(r=>{const s=r.dir==="desc"?"asc":"desc";return new Pf(r.field,s)});const n=e.endAt?new tg(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new tg(e.startAt.position,e.startAt.inclusive):null;return JI(e.path,e.collectionGroup,t,e.filters,e.limit,n,i)}}function f0(e,t){const n=e.filters.concat([t]);return new $c(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function h0(e,t,n){return new $c(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function xp(e,t){return DE(Ts(e),Ts(t))&&e.limitType===t.limitType}function t2(e){return`${xE(Ts(e))}|lt:${e.limitType}`}function xu(e){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(r=>JM(r)).join(", ")}]`),Ap(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(r=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(r)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(r=>hc(r)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(r=>hc(r)).join(",")),`Target(${i})`}(Ts(e))}; limitType=${e.limitType})`}function Dp(e,t){return t.isFoundDocument()&&function(i,r){const s=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(s):it.isDocumentKey(i.path)?i.path.isEqual(s):i.path.isImmediateParentOf(s)}(e,t)&&function(i,r){for(const s of Jd(i))if(!s.field.isKeyField()&&r.data.field(s.field)===null)return!1;return!0}(e,t)&&function(i,r){for(const s of i.filters)if(!s.matches(r))return!1;return!0}(e,t)&&function(i,r){return!(i.startAt&&!function(o,a,l){const u=XI(o,a,l);return o.inclusive?u<=0:u<0}(i.startAt,Jd(i),r)||i.endAt&&!function(o,a,l){const u=XI(o,a,l);return o.inclusive?u>=0:u>0}(i.endAt,Jd(i),r))}(e,t)}function yY(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function n2(e){return(t,n)=>{let i=!1;for(const r of Jd(e)){const s=bY(r,t,n);if(s!==0)return s;i=i||r.field.isKeyField()}return 0}}function bY(e,t,n){const i=e.field.isKeyField()?it.comparator(t.key,n.key):function(s,o,a){const l=o.data.field(s),u=a.data.field(s);return l!==null&&u!==null?fc(l,u):vt()}(e.field,t,n);switch(e.dir){case"asc":return i;case"desc":return-1*i;default:return vt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bc{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),i=this.inner[n];if(i!==void 0){for(const[r,s]of i)if(this.equalsFn(r,t))return s}}has(t){return this.get(t)!==void 0}set(t,n){const i=this.mapKeyFn(t),r=this.inner[i];if(r===void 0)return this.inner[i]=[[t,n]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],t))return void(r[s]=[t,n]);r.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),i=this.inner[n];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return i.length===1?delete this.inner[n]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(t){Xl(this.inner,(n,i)=>{for(const[r,s]of i)t(r,s)})}isEmpty(){return zM(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wY=new Ln(it.comparator);function So(){return wY}const i2=new Ln(it.comparator);function Rd(...e){let t=i2;for(const n of e)t=t.insert(n.key,n);return t}function r2(e){let t=i2;return e.forEach((n,i)=>t=t.insert(n,i.overlayedDocument)),t}function ll(){return Zd()}function s2(){return Zd()}function Zd(){return new Bc(e=>e.toString(),(e,t)=>e.isEqual(t))}const SY=new Ln(it.comparator),EY=new wi(it.comparator);function At(...e){let t=EY;for(const n of e)t=t.add(n);return t}const CY=new wi(Ht);function kY(){return CY}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RE(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:eg(t)?"-0":t}}function o2(e){return{integerValue:""+e}}function TY(e,t){return nY(t)?o2(t):RE(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rp{constructor(){this._=void 0}}function IY(e,t,n){return e instanceof ng?function(r,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&IE(s)&&(s=AE(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,t):e instanceof xf?l2(e,t):e instanceof Df?u2(e,t):function(r,s){const o=a2(r,s),a=eA(o)+eA(r.Pe);return u0(o)&&u0(r.Pe)?o2(a):RE(r.serializer,a)}(e,t)}function AY(e,t,n){return e instanceof xf?l2(e,t):e instanceof Df?u2(e,t):n}function a2(e,t){return e instanceof ig?function(i){return u0(i)||function(s){return!!s&&"doubleValue"in s}(i)}(t)?t:{integerValue:0}:null}class ng extends Rp{}class xf extends Rp{constructor(t){super(),this.elements=t}}function l2(e,t){const n=c2(t);for(const i of e.elements)n.some(r=>Vs(r,i))||n.push(i);return{arrayValue:{values:n}}}class Df extends Rp{constructor(t){super(),this.elements=t}}function u2(e,t){let n=c2(t);for(const i of e.elements)n=n.filter(r=>!Vs(r,i));return{arrayValue:{values:n}}}class ig extends Rp{constructor(t,n){super(),this.serializer=t,this.Pe=n}}function eA(e){return Wn(e.integerValue||e.doubleValue)}function c2(e){return PE(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}function PY(e,t){return e.field.isEqual(t.field)&&function(i,r){return i instanceof xf&&r instanceof xf||i instanceof Df&&r instanceof Df?dc(i.elements,r.elements,Vs):i instanceof ig&&r instanceof ig?Vs(i.Pe,r.Pe):i instanceof ng&&r instanceof ng}(e.transform,t.transform)}class xY{constructor(t,n){this.version=t,this.transformResults=n}}class ar{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new ar}static exists(t){return new ar(void 0,t)}static updateTime(t){return new ar(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function cm(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class Op{}function d2(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new Vp(e.key,ar.none()):new Ih(e.key,e.data,ar.none());{const n=e.data,i=or.empty();let r=new wi(bi.comparator);for(let s of t.fields)if(!r.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?i.delete(s):i.set(s,o),r=r.add(s)}return new Oa(e.key,i,new yr(r.toArray()),ar.none())}}function DY(e,t,n){e instanceof Ih?function(r,s,o){const a=r.value.clone(),l=nA(r.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(e,t,n):e instanceof Oa?function(r,s,o){if(!cm(r.precondition,s))return void s.convertToUnknownDocument(o.version);const a=nA(r.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(f2(r)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(e,t,n):function(r,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,t,n)}function ef(e,t,n,i){return e instanceof Ih?function(s,o,a,l){if(!cm(s.precondition,o))return a;const u=s.value.clone(),d=iA(s.fieldTransforms,l,o);return u.setAll(d),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(e,t,n,i):e instanceof Oa?function(s,o,a,l){if(!cm(s.precondition,o))return a;const u=iA(s.fieldTransforms,l,o),d=o.data;return d.setAll(f2(s)),d.setAll(u),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(c=>c.field))}(e,t,n,i):function(s,o,a){return cm(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(e,t,n)}function RY(e,t){let n=null;for(const i of e.fieldTransforms){const r=t.data.field(i.field),s=a2(i.transform,r||null);s!=null&&(n===null&&(n=or.empty()),n.set(i.field,s))}return n||null}function tA(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&dc(i,r,(s,o)=>PY(s,o))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Ih extends Op{constructor(t,n,i,r=[]){super(),this.key=t,this.value=n,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Oa extends Op{constructor(t,n,i,r,s=[]){super(),this.key=t,this.data=n,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function f2(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=e.data.field(n);t.set(n,i)}}),t}function nA(e,t,n){const i=new Map;dn(e.length===n.length);for(let r=0;r<n.length;r++){const s=e[r],o=s.transform,a=t.data.field(s.field);i.set(s.field,AY(o,a,n[r]))}return i}function iA(e,t,n){const i=new Map;for(const r of e){const s=r.transform,o=n.data.field(r.field);i.set(r.field,IY(s,o,t))}return i}class Vp extends Op{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class OY extends Op{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VY{constructor(t,n,i,r){this.batchId=t,this.localWriteTime=n,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,n){const i=n.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(t.key)&&DY(s,t,i[r])}}applyToLocalView(t,n){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(n=ef(i,t,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(n=ef(i,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const i=s2();return this.mutations.forEach(r=>{const s=t.get(r.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(r.key)?null:a;const l=d2(o,a);l!==null&&i.set(r.key,l),o.isValidDocument()||o.convertToNoDocument(gt.min())}),i}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),At())}isEqual(t){return this.batchId===t.batchId&&dc(this.mutations,t.mutations,(n,i)=>tA(n,i))&&dc(this.baseMutations,t.baseMutations,(n,i)=>tA(n,i))}}class OE{constructor(t,n,i,r){this.batch=t,this.commitVersion=n,this.mutationResults=i,this.docVersions=r}static from(t,n,i){dn(t.mutations.length===i.length);let r=function(){return SY}();const s=t.mutations;for(let o=0;o<s.length;o++)r=r.insert(s[o].key,i[o].version);return new OE(t,n,i,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NY{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MY{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Kn,Nt;function LY(e){switch(e){default:return vt();case ke.CANCELLED:case ke.UNKNOWN:case ke.DEADLINE_EXCEEDED:case ke.RESOURCE_EXHAUSTED:case ke.INTERNAL:case ke.UNAVAILABLE:case ke.UNAUTHENTICATED:return!1;case ke.INVALID_ARGUMENT:case ke.NOT_FOUND:case ke.ALREADY_EXISTS:case ke.PERMISSION_DENIED:case ke.FAILED_PRECONDITION:case ke.ABORTED:case ke.OUT_OF_RANGE:case ke.UNIMPLEMENTED:case ke.DATA_LOSS:return!0}}function h2(e){if(e===void 0)return wo("GRPC error has no .code"),ke.UNKNOWN;switch(e){case Kn.OK:return ke.OK;case Kn.CANCELLED:return ke.CANCELLED;case Kn.UNKNOWN:return ke.UNKNOWN;case Kn.DEADLINE_EXCEEDED:return ke.DEADLINE_EXCEEDED;case Kn.RESOURCE_EXHAUSTED:return ke.RESOURCE_EXHAUSTED;case Kn.INTERNAL:return ke.INTERNAL;case Kn.UNAVAILABLE:return ke.UNAVAILABLE;case Kn.UNAUTHENTICATED:return ke.UNAUTHENTICATED;case Kn.INVALID_ARGUMENT:return ke.INVALID_ARGUMENT;case Kn.NOT_FOUND:return ke.NOT_FOUND;case Kn.ALREADY_EXISTS:return ke.ALREADY_EXISTS;case Kn.PERMISSION_DENIED:return ke.PERMISSION_DENIED;case Kn.FAILED_PRECONDITION:return ke.FAILED_PRECONDITION;case Kn.ABORTED:return ke.ABORTED;case Kn.OUT_OF_RANGE:return ke.OUT_OF_RANGE;case Kn.UNIMPLEMENTED:return ke.UNIMPLEMENTED;case Kn.DATA_LOSS:return ke.DATA_LOSS;default:return vt()}}(Nt=Kn||(Kn={}))[Nt.OK=0]="OK",Nt[Nt.CANCELLED=1]="CANCELLED",Nt[Nt.UNKNOWN=2]="UNKNOWN",Nt[Nt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Nt[Nt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Nt[Nt.NOT_FOUND=5]="NOT_FOUND",Nt[Nt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Nt[Nt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Nt[Nt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Nt[Nt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Nt[Nt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Nt[Nt.ABORTED=10]="ABORTED",Nt[Nt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Nt[Nt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Nt[Nt.INTERNAL=13]="INTERNAL",Nt[Nt.UNAVAILABLE=14]="UNAVAILABLE",Nt[Nt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FY(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $Y=new gl([4294967295,4294967295],0);function rA(e){const t=FY().encode(e),n=new MM;return n.update(t),new Uint8Array(n.digest())}function sA(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),i=t.getUint32(4,!0),r=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new gl([n,i],0),new gl([r,s],0)]}class VE{constructor(t,n,i){if(this.bitmap=t,this.padding=n,this.hashCount=i,n<0||n>=8)throw new Od(`Invalid padding: ${n}`);if(i<0)throw new Od(`Invalid hash count: ${i}`);if(t.length>0&&this.hashCount===0)throw new Od(`Invalid hash count: ${i}`);if(t.length===0&&n!==0)throw new Od(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*t.length-n,this.Te=gl.fromNumber(this.Ie)}Ee(t,n,i){let r=t.add(n.multiply(gl.fromNumber(i)));return r.compare($Y)===1&&(r=new gl([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Te).toNumber()}de(t){return(this.bitmap[Math.floor(t/8)]&1<<t%8)!=0}mightContain(t){if(this.Ie===0)return!1;const n=rA(t),[i,r]=sA(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(i,r,s);if(!this.de(o))return!1}return!0}static create(t,n,i){const r=t%8==0?0:8-t%8,s=new Uint8Array(Math.ceil(t/8)),o=new VE(s,r,n);return i.forEach(a=>o.insert(a)),o}insert(t){if(this.Ie===0)return;const n=rA(t),[i,r]=sA(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(i,r,s);this.Ae(o)}}Ae(t){const n=Math.floor(t/8),i=t%8;this.bitmap[n]|=1<<i}}class Od extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Np{constructor(t,n,i,r,s){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(t,n,i){const r=new Map;return r.set(t,Ah.createSynthesizedTargetChangeForCurrentChange(t,n,i)),new Np(gt.min(),r,new Ln(Ht),So(),At())}}class Ah{constructor(t,n,i,r,s){this.resumeToken=t,this.current=n,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(t,n,i){return new Ah(i,n,At(),At(),At())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dm{constructor(t,n,i,r){this.Re=t,this.removedTargetIds=n,this.key=i,this.Ve=r}}class v2{constructor(t,n){this.targetId=t,this.me=n}}class m2{constructor(t,n,i=Si.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=n,this.resumeToken=i,this.cause=r}}class oA{constructor(){this.fe=0,this.ge=lA(),this.pe=Si.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(t){t.approximateByteSize()>0&&(this.we=!0,this.pe=t)}ve(){let t=At(),n=At(),i=At();return this.ge.forEach((r,s)=>{switch(s){case 0:t=t.add(r);break;case 2:n=n.add(r);break;case 1:i=i.add(r);break;default:vt()}}),new Ah(this.pe,this.ye,t,n,i)}Ce(){this.we=!1,this.ge=lA()}Fe(t,n){this.we=!0,this.ge=this.ge.insert(t,n)}Me(t){this.we=!0,this.ge=this.ge.remove(t)}xe(){this.fe+=1}Oe(){this.fe-=1,dn(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class BY{constructor(t){this.Le=t,this.Be=new Map,this.ke=So(),this.qe=aA(),this.Qe=new Ln(Ht)}Ke(t){for(const n of t.Re)t.Ve&&t.Ve.isFoundDocument()?this.$e(n,t.Ve):this.Ue(n,t.key,t.Ve);for(const n of t.removedTargetIds)this.Ue(n,t.key,t.Ve)}We(t){this.forEachTarget(t,n=>{const i=this.Ge(n);switch(t.state){case 0:this.ze(n)&&i.De(t.resumeToken);break;case 1:i.Oe(),i.Se||i.Ce(),i.De(t.resumeToken);break;case 2:i.Oe(),i.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(i.Ne(),i.De(t.resumeToken));break;case 4:this.ze(n)&&(this.je(n),i.De(t.resumeToken));break;default:vt()}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.Be.forEach((i,r)=>{this.ze(r)&&n(r)})}He(t){const n=t.targetId,i=t.me.count,r=this.Je(n);if(r){const s=r.target;if(d0(s))if(i===0){const o=new it(s.path);this.Ue(n,o,Ni.newNoDocument(o,gt.min()))}else dn(i===1);else{const o=this.Ye(n);if(o!==i){const a=this.Ze(t),l=a?this.Xe(a,t,o):1;if(l!==0){this.je(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,u)}}}}}Ze(t){const n=t.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:s=0}=n;let o,a;try{o=Nl(i).toUint8Array()}catch(l){if(l instanceof GM)return cc("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new VE(o,r,s)}catch(l){return cc(l instanceof Od?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(t,n,i){return n.me.count===i-this.nt(t,n.targetId)?0:2}nt(t,n){const i=this.Le.getRemoteKeysForTarget(n);let r=0;return i.forEach(s=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;t.mightContain(a)||(this.Ue(n,s,null),r++)}),r}rt(t){const n=new Map;this.Be.forEach((s,o)=>{const a=this.Je(o);if(a){if(s.current&&d0(a.target)){const l=new it(a.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,Ni.newNoDocument(l,t))}s.be&&(n.set(o,s.ve()),s.Ce())}});let i=At();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.Je(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(i=i.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(t));const r=new Np(t,n,this.Qe,this.ke,i);return this.ke=So(),this.qe=aA(),this.Qe=new Ln(Ht),r}$e(t,n){if(!this.ze(t))return;const i=this.it(t,n.key)?2:0;this.Ge(t).Fe(n.key,i),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(t))}Ue(t,n,i){if(!this.ze(t))return;const r=this.Ge(t);this.it(t,n)?r.Fe(n,1):r.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(t)),i&&(this.ke=this.ke.insert(n,i))}removeTarget(t){this.Be.delete(t)}Ye(t){const n=this.Ge(t).ve();return this.Le.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}xe(t){this.Ge(t).xe()}Ge(t){let n=this.Be.get(t);return n||(n=new oA,this.Be.set(t,n)),n}st(t){let n=this.qe.get(t);return n||(n=new wi(Ht),this.qe=this.qe.insert(t,n)),n}ze(t){const n=this.Je(t)!==null;return n||Ke("WatchChangeAggregator","Detected inactive target",t),n}Je(t){const n=this.Be.get(t);return n&&n.Se?null:this.Le.ot(t)}je(t){this.Be.set(t,new oA),this.Le.getRemoteKeysForTarget(t).forEach(n=>{this.Ue(t,n,null)})}it(t,n){return this.Le.getRemoteKeysForTarget(t).has(n)}}function aA(){return new Ln(it.comparator)}function lA(){return new Ln(it.comparator)}const UY={asc:"ASCENDING",desc:"DESCENDING"},jY={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},HY={and:"AND",or:"OR"};class WY{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function v0(e,t){return e.useProto3Json||Ap(t)?t:{value:t}}function rg(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function g2(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function zY(e,t){return rg(e,t.toTimestamp())}function Is(e){return dn(!!e),gt.fromTimestamp(function(n){const i=pa(n);return new Et(i.seconds,i.nanos)}(e))}function NE(e,t){return m0(e,t).canonicalString()}function m0(e,t){const n=function(r){return new Cn(["projects",r.projectId,"databases",r.database])}(e).child("documents");return t===void 0?n:n.child(t)}function p2(e){const t=Cn.fromString(e);return dn(S2(t)),t}function g0(e,t){return NE(e.databaseId,t.path)}function Vy(e,t){const n=p2(t);if(n.get(1)!==e.databaseId.projectId)throw new We(ke.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new We(ke.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new it(y2(n))}function _2(e,t){return NE(e.databaseId,t)}function GY(e){const t=p2(e);return t.length===4?Cn.emptyPath():y2(t)}function p0(e){return new Cn(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function y2(e){return dn(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function uA(e,t,n){return{name:g0(e,t),fields:n.value.mapValue.fields}}function qY(e,t){let n;if("targetChange"in t){t.targetChange;const i=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:vt()}(t.targetChange.targetChangeType||"NO_CHANGE"),r=t.targetChange.targetIds||[],s=function(u,d){return u.useProto3Json?(dn(d===void 0||typeof d=="string"),Si.fromBase64String(d||"")):(dn(d===void 0||d instanceof Buffer||d instanceof Uint8Array),Si.fromUint8Array(d||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,a=o&&function(u){const d=u.code===void 0?ke.UNKNOWN:h2(u.code);return new We(d,u.message||"")}(o);n=new m2(i,r,s,a||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const r=Vy(e,i.document.name),s=Is(i.document.updateTime),o=i.document.createTime?Is(i.document.createTime):gt.min(),a=new or({mapValue:{fields:i.document.fields}}),l=Ni.newFoundDocument(r,s,o,a),u=i.targetIds||[],d=i.removedTargetIds||[];n=new dm(u,d,l.key,l)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const r=Vy(e,i.document),s=i.readTime?Is(i.readTime):gt.min(),o=Ni.newNoDocument(r,s),a=i.removedTargetIds||[];n=new dm([],a,o.key,o)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const r=Vy(e,i.document),s=i.removedTargetIds||[];n=new dm([],s,r,null)}else{if(!("filter"in t))return vt();{t.filter;const i=t.filter;i.targetId;const{count:r=0,unchangedNames:s}=i,o=new MY(r,s),a=i.targetId;n=new v2(a,o)}}return n}function YY(e,t){let n;if(t instanceof Ih)n={update:uA(e,t.key,t.value)};else if(t instanceof Vp)n={delete:g0(e,t.key)};else if(t instanceof Oa)n={update:uA(e,t.key,t.data),updateMask:iK(t.fieldMask)};else{if(!(t instanceof OY))return vt();n={verify:g0(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(i=>function(s,o){const a=o.transform;if(a instanceof ng)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof xf)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Df)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof ig)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw vt()}(0,i))),t.precondition.isNone||(n.currentDocument=function(r,s){return s.updateTime!==void 0?{updateTime:zY(r,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:vt()}(e,t.precondition)),n}function KY(e,t){return e&&e.length>0?(dn(t!==void 0),e.map(n=>function(r,s){let o=r.updateTime?Is(r.updateTime):Is(s);return o.isEqual(gt.min())&&(o=Is(s)),new xY(o,r.transformResults||[])}(n,t))):[]}function XY(e,t){return{documents:[_2(e,t.path)]}}function QY(e,t){const n={structuredQuery:{}},i=t.path;let r;t.collectionGroup!==null?(r=i,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(r=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=_2(e,r);const s=function(u){if(u.length!==0)return w2(as.create(u,"and"))}(t.filters);s&&(n.structuredQuery.where=s);const o=function(u){if(u.length!==0)return u.map(d=>function(f){return{field:Du(f.field),direction:eK(f.dir)}}(d))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);const a=v0(e,t.limit);return a!==null&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(t.endAt)),{_t:n,parent:r}}function JY(e){let t=GY(e.parent);const n=e.structuredQuery,i=n.from?n.from.length:0;let r=null;if(i>0){dn(i===1);const d=n.from[0];d.allDescendants?r=d.collectionId:t=t.child(d.collectionId)}let s=[];n.where&&(s=function(c){const f=b2(c);return f instanceof as&&XM(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=function(c){return c.map(f=>function(g){return new Pf(Ru(g.field),function(_){switch(_){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(c){let f;return f=typeof c=="object"?c.value:c,Ap(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(c){const f=!!c.before,v=c.values||[];return new tg(v,f)}(n.startAt));let u=null;return n.endAt&&(u=function(c){const f=!c.before,v=c.values||[];return new tg(v,f)}(n.endAt)),pY(t,r,o,s,a,"F",l,u)}function ZY(e,t){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return vt()}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function b2(e){return e.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=Ru(n.unaryFilter.field);return Qn.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=Ru(n.unaryFilter.field);return Qn.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Ru(n.unaryFilter.field);return Qn.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Ru(n.unaryFilter.field);return Qn.create(o,"!=",{nullValue:"NULL_VALUE"});default:return vt()}}(e):e.fieldFilter!==void 0?function(n){return Qn.create(Ru(n.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return vt()}}(n.fieldFilter.op),n.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(n){return as.create(n.compositeFilter.filters.map(i=>b2(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return vt()}}(n.compositeFilter.op))}(e):vt()}function eK(e){return UY[e]}function tK(e){return jY[e]}function nK(e){return HY[e]}function Du(e){return{fieldPath:e.canonicalString()}}function Ru(e){return bi.fromServerFormat(e.fieldPath)}function w2(e){return e instanceof Qn?function(n){if(n.op==="=="){if(KI(n.value))return{unaryFilter:{field:Du(n.field),op:"IS_NAN"}};if(YI(n.value))return{unaryFilter:{field:Du(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(KI(n.value))return{unaryFilter:{field:Du(n.field),op:"IS_NOT_NAN"}};if(YI(n.value))return{unaryFilter:{field:Du(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Du(n.field),op:tK(n.op),value:n.value}}}(e):e instanceof as?function(n){const i=n.getFilters().map(r=>w2(r));return i.length===1?i[0]:{compositeFilter:{op:nK(n.op),filters:i}}}(e):vt()}function iK(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function S2(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na{constructor(t,n,i,r,s=gt.min(),o=gt.min(),a=Si.EMPTY_BYTE_STRING,l=null){this.target=t,this.targetId=n,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(t){return new na(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new na(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new na(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new na(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rK{constructor(t){this.ct=t}}function sK(e){const t=JY({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?h0(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oK{constructor(){this.un=new aK}addToCollectionParentIndex(t,n){return this.un.add(n),Oe.resolve()}getCollectionParents(t,n){return Oe.resolve(this.un.getEntries(n))}addFieldIndex(t,n){return Oe.resolve()}deleteFieldIndex(t,n){return Oe.resolve()}deleteAllFieldIndexes(t){return Oe.resolve()}createTargetIndexes(t,n){return Oe.resolve()}getDocumentsMatchingTarget(t,n){return Oe.resolve(null)}getIndexType(t,n){return Oe.resolve(0)}getFieldIndexes(t,n){return Oe.resolve([])}getNextCollectionGroupToUpdate(t){return Oe.resolve(null)}getMinOffset(t,n){return Oe.resolve(ga.min())}getMinOffsetFromCollectionGroup(t,n){return Oe.resolve(ga.min())}updateCollectionGroup(t,n,i){return Oe.resolve()}updateIndexEntries(t,n){return Oe.resolve()}}class aK{constructor(){this.index={}}add(t){const n=t.lastSegment(),i=t.popLast(),r=this.index[n]||new wi(Cn.comparator),s=!r.has(i);return this.index[n]=r.add(i),s}has(t){const n=t.lastSegment(),i=t.popLast(),r=this.index[n];return r&&r.has(i)}getEntries(t){return(this.index[t]||new wi(Cn.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc{constructor(t){this.Ln=t}next(){return this.Ln+=2,this.Ln}static Bn(){return new vc(0)}static kn(){return new vc(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lK{constructor(){this.changes=new Bc(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,Ni.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?Oe.resolve(i):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uK{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cK{constructor(t,n,i,r){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=r}getDocument(t,n){let i=null;return this.documentOverlayCache.getOverlay(t,n).next(r=>(i=r,this.remoteDocumentCache.getEntry(t,n))).next(r=>(i!==null&&ef(i.mutation,r,yr.empty(),Et.now()),r))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(i=>this.getLocalViewOfDocuments(t,i,At()).next(()=>i))}getLocalViewOfDocuments(t,n,i=At()){const r=ll();return this.populateOverlays(t,r,n).next(()=>this.computeViews(t,n,r,i).next(s=>{let o=Rd();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(t,n){const i=ll();return this.populateOverlays(t,i,n).next(()=>this.computeViews(t,n,i,At()))}populateOverlays(t,n,i){const r=[];return i.forEach(s=>{n.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(t,r).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(t,n,i,r){let s=So();const o=Zd(),a=function(){return Zd()}();return n.forEach((l,u)=>{const d=i.get(u.key);r.has(u.key)&&(d===void 0||d.mutation instanceof Oa)?s=s.insert(u.key,u):d!==void 0?(o.set(u.key,d.mutation.getFieldMask()),ef(d.mutation,u,d.mutation.getFieldMask(),Et.now())):o.set(u.key,yr.empty())}),this.recalculateAndSaveOverlays(t,s).next(l=>(l.forEach((u,d)=>o.set(u,d)),n.forEach((u,d)=>{var c;return a.set(u,new uK(d,(c=o.get(u))!==null&&c!==void 0?c:null))}),a))}recalculateAndSaveOverlays(t,n){const i=Zd();let r=new Ln((o,a)=>o-a),s=At();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let d=i.get(l)||yr.empty();d=a.applyToLocalView(u,d),i.set(l,d);const c=(r.get(a.batchId)||At()).add(l);r=r.insert(a.batchId,c)})}).next(()=>{const o=[],a=r.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,d=l.value,c=s2();d.forEach(f=>{if(!s.has(f)){const v=d2(n.get(f),i.get(f));v!==null&&c.set(f,v),s=s.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(t,u,c))}return Oe.waitFor(o)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,n,i,r){return function(o){return it.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):e2(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,i,r):this.getDocumentsMatchingCollectionQuery(t,n,i,r)}getNextDocuments(t,n,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,i,r).next(s=>{const o=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,i.largestBatchId,r-s.size):Oe.resolve(ll());let a=-1,l=s;return o.next(u=>Oe.forEach(u,(d,c)=>(a<c.largestBatchId&&(a=c.largestBatchId),s.get(d)?Oe.resolve():this.remoteDocumentCache.getEntry(t,d).next(f=>{l=l.insert(d,f)}))).next(()=>this.populateOverlays(t,u,s)).next(()=>this.computeViews(t,l,u,At())).next(d=>({batchId:a,changes:r2(d)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new it(n)).next(i=>{let r=Rd();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(t,n,i,r){const s=n.collectionGroup;let o=Rd();return this.indexManager.getCollectionParents(t,s).next(a=>Oe.forEach(a,l=>{const u=function(c,f){return new $c(f,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(t,u,i,r).next(d=>{d.forEach((c,f)=>{o=o.insert(c,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(t,n,i,r){let s;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,i.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,i,s,r))).next(o=>{s.forEach((l,u)=>{const d=u.getKey();o.get(d)===null&&(o=o.insert(d,Ni.newInvalidDocument(d)))});let a=Rd();return o.forEach((l,u)=>{const d=s.get(l);d!==void 0&&ef(d.mutation,u,yr.empty(),Et.now()),Dp(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dK{constructor(t){this.serializer=t,this.hr=new Map,this.Pr=new Map}getBundleMetadata(t,n){return Oe.resolve(this.hr.get(n))}saveBundleMetadata(t,n){return this.hr.set(n.id,function(r){return{id:r.id,version:r.version,createTime:Is(r.createTime)}}(n)),Oe.resolve()}getNamedQuery(t,n){return Oe.resolve(this.Pr.get(n))}saveNamedQuery(t,n){return this.Pr.set(n.name,function(r){return{name:r.name,query:sK(r.bundledQuery),readTime:Is(r.readTime)}}(n)),Oe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fK{constructor(){this.overlays=new Ln(it.comparator),this.Ir=new Map}getOverlay(t,n){return Oe.resolve(this.overlays.get(n))}getOverlays(t,n){const i=ll();return Oe.forEach(n,r=>this.getOverlay(t,r).next(s=>{s!==null&&i.set(r,s)})).next(()=>i)}saveOverlays(t,n,i){return i.forEach((r,s)=>{this.ht(t,n,s)}),Oe.resolve()}removeOverlaysForBatchId(t,n,i){const r=this.Ir.get(i);return r!==void 0&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(i)),Oe.resolve()}getOverlaysForCollection(t,n,i){const r=ll(),s=n.length+1,o=new it(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>i&&r.set(l.getKey(),l)}return Oe.resolve(r)}getOverlaysForCollectionGroup(t,n,i,r){let s=new Ln((u,d)=>u-d);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>i){let d=s.get(u.largestBatchId);d===null&&(d=ll(),s=s.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const a=ll(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,d)=>a.set(u,d)),!(a.size()>=r)););return Oe.resolve(a)}ht(t,n,i){const r=this.overlays.get(i.key);if(r!==null){const o=this.Ir.get(r.largestBatchId).delete(i.key);this.Ir.set(r.largestBatchId,o)}this.overlays=this.overlays.insert(i.key,new NY(n,i));let s=this.Ir.get(n);s===void 0&&(s=At(),this.Ir.set(n,s)),this.Ir.set(n,s.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hK{constructor(){this.sessionToken=Si.EMPTY_BYTE_STRING}getSessionToken(t){return Oe.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,Oe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ME{constructor(){this.Tr=new wi(ai.Er),this.dr=new wi(ai.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(t,n){const i=new ai(t,n);this.Tr=this.Tr.add(i),this.dr=this.dr.add(i)}Rr(t,n){t.forEach(i=>this.addReference(i,n))}removeReference(t,n){this.Vr(new ai(t,n))}mr(t,n){t.forEach(i=>this.removeReference(i,n))}gr(t){const n=new it(new Cn([])),i=new ai(n,t),r=new ai(n,t+1),s=[];return this.dr.forEachInRange([i,r],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(t=>this.Vr(t))}Vr(t){this.Tr=this.Tr.delete(t),this.dr=this.dr.delete(t)}yr(t){const n=new it(new Cn([])),i=new ai(n,t),r=new ai(n,t+1);let s=At();return this.dr.forEachInRange([i,r],o=>{s=s.add(o.key)}),s}containsKey(t){const n=new ai(t,0),i=this.Tr.firstAfterOrEqual(n);return i!==null&&t.isEqual(i.key)}}class ai{constructor(t,n){this.key=t,this.wr=n}static Er(t,n){return it.comparator(t.key,n.key)||Ht(t.wr,n.wr)}static Ar(t,n){return Ht(t.wr,n.wr)||it.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vK{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new wi(ai.Er)}checkEmpty(t){return Oe.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,i,r){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new VY(s,n,i,r);this.mutationQueue.push(o);for(const a of r)this.br=this.br.add(new ai(a.key,s)),this.indexManager.addToCollectionParentIndex(t,a.key.path.popLast());return Oe.resolve(o)}lookupMutationBatch(t,n){return Oe.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(t,n){const i=n+1,r=this.vr(i),s=r<0?0:r;return Oe.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return Oe.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(t){return Oe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const i=new ai(n,0),r=new ai(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([i,r],o=>{const a=this.Dr(o.wr);s.push(a)}),Oe.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(t,n){let i=new wi(Ht);return n.forEach(r=>{const s=new ai(r,0),o=new ai(r,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],a=>{i=i.add(a.wr)})}),Oe.resolve(this.Cr(i))}getAllMutationBatchesAffectingQuery(t,n){const i=n.path,r=i.length+1;let s=i;it.isDocumentKey(s)||(s=s.child(""));const o=new ai(new it(s),0);let a=new wi(Ht);return this.br.forEachWhile(l=>{const u=l.key.path;return!!i.isPrefixOf(u)&&(u.length===r&&(a=a.add(l.wr)),!0)},o),Oe.resolve(this.Cr(a))}Cr(t){const n=[];return t.forEach(i=>{const r=this.Dr(i);r!==null&&n.push(r)}),n}removeMutationBatch(t,n){dn(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let i=this.br;return Oe.forEach(n.mutations,r=>{const s=new ai(r.key,n.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this.br=i})}On(t){}containsKey(t,n){const i=new ai(n,0),r=this.br.firstAfterOrEqual(i);return Oe.resolve(n.isEqual(r&&r.key))}performConsistencyCheck(t){return this.mutationQueue.length,Oe.resolve()}Fr(t,n){return this.vr(t)}vr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Dr(t){const n=this.vr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mK{constructor(t){this.Mr=t,this.docs=function(){return new Ln(it.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const i=n.key,r=this.docs.get(i),s=r?r.size:0,o=this.Mr(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const i=this.docs.get(n);return Oe.resolve(i?i.document.mutableCopy():Ni.newInvalidDocument(n))}getEntries(t,n){let i=So();return n.forEach(r=>{const s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():Ni.newInvalidDocument(r))}),Oe.resolve(i)}getDocumentsMatchingQuery(t,n,i,r){let s=So();const o=n.path,a=new it(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:d}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||Jq(Qq(d),i)<=0||(r.has(d.key)||Dp(n,d))&&(s=s.insert(d.key,d.mutableCopy()))}return Oe.resolve(s)}getAllFromCollectionGroup(t,n,i,r){vt()}Or(t,n){return Oe.forEach(this.docs,i=>n(i))}newChangeBuffer(t){return new gK(this)}getSize(t){return Oe.resolve(this.size)}}class gK extends lK{constructor(t){super(),this.cr=t}applyChanges(t){const n=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?n.push(this.cr.addEntry(t,r)):this.cr.removeEntry(i)}),Oe.waitFor(n)}getFromCache(t,n){return this.cr.getEntry(t,n)}getAllFromCache(t,n){return this.cr.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pK{constructor(t){this.persistence=t,this.Nr=new Bc(n=>xE(n),DE),this.lastRemoteSnapshotVersion=gt.min(),this.highestTargetId=0,this.Lr=0,this.Br=new ME,this.targetCount=0,this.kr=vc.Bn()}forEachTarget(t,n){return this.Nr.forEach((i,r)=>n(r)),Oe.resolve()}getLastRemoteSnapshotVersion(t){return Oe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Oe.resolve(this.Lr)}allocateTargetId(t){return this.highestTargetId=this.kr.next(),Oe.resolve(this.highestTargetId)}setTargetsMetadata(t,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.Lr&&(this.Lr=n),Oe.resolve()}Kn(t){this.Nr.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.kr=new vc(n),this.highestTargetId=n),t.sequenceNumber>this.Lr&&(this.Lr=t.sequenceNumber)}addTargetData(t,n){return this.Kn(n),this.targetCount+=1,Oe.resolve()}updateTargetData(t,n){return this.Kn(n),Oe.resolve()}removeTargetData(t,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,Oe.resolve()}removeTargets(t,n,i){let r=0;const s=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=n&&i.get(a.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(t,a.targetId)),r++)}),Oe.waitFor(s).next(()=>r)}getTargetCount(t){return Oe.resolve(this.targetCount)}getTargetData(t,n){const i=this.Nr.get(n)||null;return Oe.resolve(i)}addMatchingKeys(t,n,i){return this.Br.Rr(n,i),Oe.resolve()}removeMatchingKeys(t,n,i){this.Br.mr(n,i);const r=this.persistence.referenceDelegate,s=[];return r&&n.forEach(o=>{s.push(r.markPotentiallyOrphaned(t,o))}),Oe.waitFor(s)}removeMatchingKeysForTargetId(t,n){return this.Br.gr(n),Oe.resolve()}getMatchingKeysForTargetId(t,n){const i=this.Br.yr(n);return Oe.resolve(i)}containsKey(t,n){return Oe.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _K{constructor(t,n){this.qr={},this.overlays={},this.Qr=new TE(0),this.Kr=!1,this.Kr=!0,this.$r=new hK,this.referenceDelegate=t(this),this.Ur=new pK(this),this.indexManager=new oK,this.remoteDocumentCache=function(r){return new mK(r)}(i=>this.referenceDelegate.Wr(i)),this.serializer=new rK(n),this.Gr=new dK(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new fK,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let i=this.qr[t.toKey()];return i||(i=new vK(n,this.referenceDelegate),this.qr[t.toKey()]=i),i}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(t,n,i){Ke("MemoryPersistence","Starting transaction:",t);const r=new yK(this.Qr.next());return this.referenceDelegate.zr(),i(r).next(s=>this.referenceDelegate.jr(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Hr(t,n){return Oe.or(Object.values(this.qr).map(i=>()=>i.containsKey(t,n)))}}class yK extends eY{constructor(t){super(),this.currentSequenceNumber=t}}class LE{constructor(t){this.persistence=t,this.Jr=new ME,this.Yr=null}static Zr(t){return new LE(t)}get Xr(){if(this.Yr)return this.Yr;throw vt()}addReference(t,n,i){return this.Jr.addReference(i,n),this.Xr.delete(i.toString()),Oe.resolve()}removeReference(t,n,i){return this.Jr.removeReference(i,n),this.Xr.add(i.toString()),Oe.resolve()}markPotentiallyOrphaned(t,n){return this.Xr.add(n.toString()),Oe.resolve()}removeTarget(t,n){this.Jr.gr(n.targetId).forEach(r=>this.Xr.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,n.targetId).next(r=>{r.forEach(s=>this.Xr.add(s.toString()))}).next(()=>i.removeTargetData(t,n))}zr(){this.Yr=new Set}jr(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Oe.forEach(this.Xr,i=>{const r=it.fromPath(i);return this.ei(t,r).next(s=>{s||n.removeEntry(r,gt.min())})}).next(()=>(this.Yr=null,n.apply(t)))}updateLimboDocument(t,n){return this.ei(t,n).next(i=>{i?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(t){return 0}ei(t,n){return Oe.or([()=>Oe.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Hr(t,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FE{constructor(t,n,i,r){this.targetId=t,this.fromCache=n,this.$i=i,this.Ui=r}static Wi(t,n){let i=At(),r=At();for(const s of n.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new FE(t,n.fromCache,i,r)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bK{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wK{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return FH()?8:tY(ji())>0?6:4}()}initialize(t,n){this.Ji=t,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(t,n,i,r){const s={result:null};return this.Yi(t,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(t,n,r,i).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new bK;return this.Xi(t,n,o).next(a=>{if(s.result=a,this.zi)return this.es(t,n,o,a.size)})}).next(()=>s.result)}es(t,n,i,r){return i.documentReadCount<this.ji?(Sd()<=It.DEBUG&&Ke("QueryEngine","SDK will not create cache indexes for query:",xu(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),Oe.resolve()):(Sd()<=It.DEBUG&&Ke("QueryEngine","Query:",xu(n),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.Hi*r?(Sd()<=It.DEBUG&&Ke("QueryEngine","The SDK decides to create cache indexes for query:",xu(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ts(n))):Oe.resolve())}Yi(t,n){if(ZI(n))return Oe.resolve(null);let i=Ts(n);return this.indexManager.getIndexType(t,i).next(r=>r===0?null:(n.limit!==null&&r===1&&(n=h0(n,null,"F"),i=Ts(n)),this.indexManager.getDocumentsMatchingTarget(t,i).next(s=>{const o=At(...s);return this.Ji.getDocuments(t,o).next(a=>this.indexManager.getMinOffset(t,i).next(l=>{const u=this.ts(n,a);return this.ns(n,u,o,l.readTime)?this.Yi(t,h0(n,null,"F")):this.rs(t,u,n,l)}))})))}Zi(t,n,i,r){return ZI(n)||r.isEqual(gt.min())?Oe.resolve(null):this.Ji.getDocuments(t,i).next(s=>{const o=this.ts(n,s);return this.ns(n,o,i,r)?Oe.resolve(null):(Sd()<=It.DEBUG&&Ke("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),xu(n)),this.rs(t,o,n,Xq(r,-1)).next(a=>a))})}ts(t,n){let i=new wi(n2(t));return n.forEach((r,s)=>{Dp(t,s)&&(i=i.add(s))}),i}ns(t,n,i,r){if(t.limit===null)return!1;if(i.size!==n.size)return!0;const s=t.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Xi(t,n,i){return Sd()<=It.DEBUG&&Ke("QueryEngine","Using full collection scan to execute query:",xu(n)),this.Ji.getDocumentsMatchingQuery(t,n,ga.min(),i)}rs(t,n,i,r){return this.Ji.getDocumentsMatchingQuery(t,i,r).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SK{constructor(t,n,i,r){this.persistence=t,this.ss=n,this.serializer=r,this.os=new Ln(Ht),this._s=new Bc(s=>xE(s),DE),this.us=new Map,this.cs=t.getRemoteDocumentCache(),this.Ur=t.getTargetCache(),this.Gr=t.getBundleCache(),this.ls(i)}ls(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new cK(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.os))}}function EK(e,t,n,i){return new SK(e,t,n,i)}async function E2(e,t){const n=_t(e);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let r;return n.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,n.ls(t),n.mutationQueue.getAllMutationBatches(i))).next(s=>{const o=[],a=[];let l=At();for(const u of r){o.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}for(const u of s){a.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(i,l).next(u=>({hs:u,removedBatchIds:o,addedBatchIds:a}))})})}function CK(e,t){const n=_t(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=t.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,l,u,d){const c=u.batch,f=c.keys();let v=Oe.resolve();return f.forEach(g=>{v=v.next(()=>d.getEntry(l,g)).next(p=>{const _=u.docVersions.get(g);dn(_!==null),p.version.compareTo(_)<0&&(c.applyToRemoteDocument(p,u),p.isValidDocument()&&(p.setReadTime(u.commitVersion),d.addEntry(p)))})}),v.next(()=>a.mutationQueue.removeMutationBatch(l,c))}(n,i,t,s).next(()=>s.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,r,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(a){let l=At();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(t))).next(()=>n.localDocuments.getDocuments(i,r))})}function C2(e){const t=_t(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Ur.getLastRemoteSnapshotVersion(n))}function kK(e,t){const n=_t(e),i=t.snapshotVersion;let r=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});r=n.os;const a=[];t.targetChanges.forEach((d,c)=>{const f=r.get(c);if(!f)return;a.push(n.Ur.removeMatchingKeys(s,d.removedDocuments,c).next(()=>n.Ur.addMatchingKeys(s,d.addedDocuments,c)));let v=f.withSequenceNumber(s.currentSequenceNumber);t.targetMismatches.get(c)!==null?v=v.withResumeToken(Si.EMPTY_BYTE_STRING,gt.min()).withLastLimboFreeSnapshotVersion(gt.min()):d.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(d.resumeToken,i)),r=r.insert(c,v),function(p,_,y){return p.resumeToken.approximateByteSize()===0||_.snapshotVersion.toMicroseconds()-p.snapshotVersion.toMicroseconds()>=3e8?!0:y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0}(f,v,d)&&a.push(n.Ur.updateTargetData(s,v))});let l=So(),u=At();if(t.documentUpdates.forEach(d=>{t.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))}),a.push(TK(s,o,t.documentUpdates).next(d=>{l=d.Ps,u=d.Is})),!i.isEqual(gt.min())){const d=n.Ur.getLastRemoteSnapshotVersion(s).next(c=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,i));a.push(d)}return Oe.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.os=r,s))}function TK(e,t,n){let i=At(),r=At();return n.forEach(s=>i=i.add(s)),t.getEntries(e,i).next(s=>{let o=So();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(r=r.add(a)),l.isNoDocument()&&l.version.isEqual(gt.min())?(t.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(t.addEntry(l),o=o.insert(a,l)):Ke("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{Ps:o,Is:r}})}function IK(e,t){const n=_t(e);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(t===void 0&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function AK(e,t){const n=_t(e);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return n.Ur.getTargetData(i,t).next(s=>s?(r=s,Oe.resolve(r)):n.Ur.allocateTargetId(i).next(o=>(r=new na(t,o,"TargetPurposeListen",i.currentSequenceNumber),n.Ur.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=n.os.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.os=n.os.insert(i.targetId,i),n._s.set(t,i.targetId)),i})}async function _0(e,t,n){const i=_t(e),r=i.os.get(t),s=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",s,o=>i.persistence.referenceDelegate.removeTarget(o,r))}catch(o){if(!Th(o))throw o;Ke("LocalStore",`Failed to update sequence numbers for target ${t}: ${o}`)}i.os=i.os.remove(t),i._s.delete(r.target)}function cA(e,t,n){const i=_t(e);let r=gt.min(),s=At();return i.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,d){const c=_t(l),f=c._s.get(d);return f!==void 0?Oe.resolve(c.os.get(f)):c.Ur.getTargetData(u,d)}(i,o,Ts(t)).next(a=>{if(a)return r=a.lastLimboFreeSnapshotVersion,i.Ur.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>i.ss.getDocumentsMatchingQuery(o,t,n?r:gt.min(),n?s:At())).next(a=>(PK(i,yY(t),a),{documents:a,Ts:s})))}function PK(e,t,n){let i=e.us.get(t)||gt.min();n.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),e.us.set(t,i)}class dA{constructor(){this.activeTargetIds=kY()}fs(t){this.activeTargetIds=this.activeTargetIds.add(t)}gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Vs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class xK{constructor(){this.so=new dA,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,i){}addLocalQueryTarget(t,n=!0){return n&&this.so.fs(t),this.oo[t]||"not-current"}updateQueryState(t,n,i){this.oo[t]=n}removeLocalQueryTarget(t){this.so.gs(t)}isLocalQueryTarget(t){return this.so.activeTargetIds.has(t)}clearQueryState(t){delete this.oo[t]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(t){return this.so.activeTargetIds.has(t)}start(){return this.so=new dA,Promise.resolve()}handleUserChange(t,n,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DK{_o(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fA{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(t){this.ho.push(t)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Ke("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.ho)t(0)}lo(){Ke("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.ho)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Iv=null;function Ny(){return Iv===null?Iv=function(){return 268435456+Math.round(2147483648*Math.random())}():Iv++,"0x"+Iv.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RK={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OK{constructor(t){this.Io=t.Io,this.To=t.To}Eo(t){this.Ao=t}Ro(t){this.Vo=t}mo(t){this.fo=t}onMessage(t){this.po=t}close(){this.To()}send(t){this.Io(t)}yo(){this.Ao()}wo(){this.Vo()}So(t){this.fo(t)}bo(t){this.po(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xi="WebChannelConnection";class VK extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const i=n.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=i+"://"+n.host,this.vo=`projects/${r}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${r}`:`project_id=${r}&database_id=${s}`}get Fo(){return!1}Mo(n,i,r,s,o){const a=Ny(),l=this.xo(n,i.toUriEncodedString());Ke("RestConnection",`Sending RPC '${n}' ${a}:`,l,r);const u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,s,o),this.No(n,l,u,r).then(d=>(Ke("RestConnection",`Received RPC '${n}' ${a}: `,d),d),d=>{throw cc("RestConnection",`RPC '${n}' ${a} failed with error: `,d,"url: ",l,"request:",r),d})}Lo(n,i,r,s,o,a){return this.Mo(n,i,r,s,o)}Oo(n,i,r){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Fc}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((s,o)=>n[o]=s),r&&r.headers.forEach((s,o)=>n[o]=s)}xo(n,i){const r=RK[n];return`${this.Do}/v1/${i}:${r}`}terminate(){}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}No(t,n,i,r){const s=Ny();return new Promise((o,a)=>{const l=new LM;l.setWithCredentials(!0),l.listenOnce($M.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case lm.NO_ERROR:const d=l.getResponseJson();Ke(xi,`XHR for RPC '${t}' ${s} received:`,JSON.stringify(d)),o(d);break;case lm.TIMEOUT:Ke(xi,`RPC '${t}' ${s} timed out`),a(new We(ke.DEADLINE_EXCEEDED,"Request time out"));break;case lm.HTTP_ERROR:const c=l.getStatus();if(Ke(xi,`RPC '${t}' ${s} failed with status:`,c,"response text:",l.getResponseText()),c>0){let f=l.getResponseJson();Array.isArray(f)&&(f=f[0]);const v=f==null?void 0:f.error;if(v&&v.status&&v.message){const g=function(_){const y=_.toLowerCase().replace(/_/g,"-");return Object.values(ke).indexOf(y)>=0?y:ke.UNKNOWN}(v.status);a(new We(g,v.message))}else a(new We(ke.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new We(ke.UNAVAILABLE,"Connection failed."));break;default:vt()}}finally{Ke(xi,`RPC '${t}' ${s} completed.`)}});const u=JSON.stringify(r);Ke(xi,`RPC '${t}' ${s} sending request:`,r),l.send(n,"POST",u,i,15)})}Bo(t,n,i){const r=Ny(),s=[this.Do,"/","google.firestore.v1.Firestore","/",t,"/channel"],o=jM(),a=UM(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.xmlHttpFactory=new FM({})),this.Oo(l.initMessageHeaders,n,i),l.encodeInitMessageHeaders=!0;const d=s.join("");Ke(xi,`Creating RPC '${t}' stream ${r}: ${d}`,l);const c=o.createWebChannel(d,l);let f=!1,v=!1;const g=new OK({Io:_=>{v?Ke(xi,`Not sending because RPC '${t}' stream ${r} is closed:`,_):(f||(Ke(xi,`Opening RPC '${t}' stream ${r} transport.`),c.open(),f=!0),Ke(xi,`RPC '${t}' stream ${r} sending:`,_),c.send(_))},To:()=>c.close()}),p=(_,y,b)=>{_.listen(y,E=>{try{b(E)}catch(k){setTimeout(()=>{throw k},0)}})};return p(c,Dd.EventType.OPEN,()=>{v||(Ke(xi,`RPC '${t}' stream ${r} transport opened.`),g.yo())}),p(c,Dd.EventType.CLOSE,()=>{v||(v=!0,Ke(xi,`RPC '${t}' stream ${r} transport closed`),g.So())}),p(c,Dd.EventType.ERROR,_=>{v||(v=!0,cc(xi,`RPC '${t}' stream ${r} transport errored:`,_),g.So(new We(ke.UNAVAILABLE,"The operation could not be completed")))}),p(c,Dd.EventType.MESSAGE,_=>{var y;if(!v){const b=_.data[0];dn(!!b);const E=b,k=E.error||((y=E[0])===null||y===void 0?void 0:y.error);if(k){Ke(xi,`RPC '${t}' stream ${r} received error:`,k);const R=k.status;let O=function(w){const C=Kn[w];if(C!==void 0)return h2(C)}(R),D=k.message;O===void 0&&(O=ke.INTERNAL,D="Unknown error status: "+R+" with message "+k.message),v=!0,g.So(new We(O,D)),c.close()}else Ke(xi,`RPC '${t}' stream ${r} received:`,b),g.bo(b)}}),p(a,BM.STAT_EVENT,_=>{_.stat===a0.PROXY?Ke(xi,`RPC '${t}' stream ${r} detected buffering proxy`):_.stat===a0.NOPROXY&&Ke(xi,`RPC '${t}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{g.wo()},0),g}}function My(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mp(e){return new WY(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k2{constructor(t,n,i=1e3,r=1.5,s=6e4){this.ui=t,this.timerId=n,this.ko=i,this.qo=r,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(t){this.cancel();const n=Math.floor(this.Ko+this.zo()),i=Math.max(0,Date.now()-this.Uo),r=Math.max(0,n-i);r>0&&Ke("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,r,()=>(this.Uo=Date.now(),t())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T2{constructor(t,n,i,r,s,o,a,l){this.ui=t,this.Ho=i,this.Jo=r,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new k2(t,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(t){this.u_(),this.stream.send(t)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(t,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,t!==4?this.t_.reset():n&&n.code===ke.RESOURCE_EXHAUSTED?(wo(n.toString()),wo("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===ke.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.mo(n)}l_(){}auth(){this.state=1;const t=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Yo===n&&this.P_(i,r)},i=>{t(()=>{const r=new We(ke.UNKNOWN,"Fetching auth token failed: "+i.message);return this.I_(r)})})}P_(t,n){const i=this.h_(this.Yo);this.stream=this.T_(t,n),this.stream.Eo(()=>{i(()=>this.listener.Eo())}),this.stream.Ro(()=>{i(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(r=>{i(()=>this.I_(r))}),this.stream.onMessage(r=>{i(()=>++this.e_==1?this.E_(r):this.onNext(r))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(t){return Ke("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}h_(t){return n=>{this.ui.enqueueAndForget(()=>this.Yo===t?n():(Ke("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class NK extends T2{constructor(t,n,i,r,s,o){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,r,o),this.serializer=s}T_(t,n){return this.connection.Bo("Listen",t,n)}E_(t){return this.onNext(t)}onNext(t){this.t_.reset();const n=qY(this.serializer,t),i=function(s){if(!("targetChange"in s))return gt.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?gt.min():o.readTime?Is(o.readTime):gt.min()}(t);return this.listener.d_(n,i)}A_(t){const n={};n.database=p0(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=d0(l)?{documents:XY(s,l)}:{query:QY(s,l)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=g2(s,o.resumeToken);const u=v0(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(gt.min())>0){a.readTime=rg(s,o.snapshotVersion.toTimestamp());const u=v0(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,t);const i=ZY(this.serializer,t);i&&(n.labels=i),this.a_(n)}R_(t){const n={};n.database=p0(this.serializer),n.removeTarget=t,this.a_(n)}}class MK extends T2{constructor(t,n,i,r,s,o){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,r,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(t,n){return this.connection.Bo("Write",t,n)}E_(t){return dn(!!t.streamToken),this.lastStreamToken=t.streamToken,dn(!t.writeResults||t.writeResults.length===0),this.listener.f_()}onNext(t){dn(!!t.streamToken),this.lastStreamToken=t.streamToken,this.t_.reset();const n=KY(t.writeResults,t.commitTime),i=Is(t.commitTime);return this.listener.g_(i,n)}p_(){const t={};t.database=p0(this.serializer),this.a_(t)}m_(t){const n={streamToken:this.lastStreamToken,writes:t.map(i=>YY(this.serializer,i))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LK extends class{}{constructor(t,n,i,r){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=i,this.serializer=r,this.y_=!1}w_(){if(this.y_)throw new We(ke.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(t,n,i,r){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(t,m0(n,i),r,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===ke.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new We(ke.UNKNOWN,s.toString())})}Lo(t,n,i,r,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(t,m0(n,i),r,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===ke.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new We(ke.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class FK{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(t){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.C_("Offline")))}set(t){this.x_(),this.S_=0,t==="Online"&&(this.D_=!1),this.C_(t)}C_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}F_(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(wo(n),this.D_=!1):Ke("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $K{constructor(t,n,i,r,s){this.localStore=t,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{i.enqueueAndForget(async()=>{Ql(this)&&(Ke("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=_t(l);u.L_.add(4),await Ph(u),u.q_.set("Unknown"),u.L_.delete(4),await Lp(u)}(this))})}),this.q_=new FK(i,r)}}async function Lp(e){if(Ql(e))for(const t of e.B_)await t(!0)}async function Ph(e){for(const t of e.B_)await t(!1)}function I2(e,t){const n=_t(e);n.N_.has(t.targetId)||(n.N_.set(t.targetId,t),jE(n)?UE(n):Uc(n).r_()&&BE(n,t))}function $E(e,t){const n=_t(e),i=Uc(n);n.N_.delete(t),i.r_()&&A2(n,t),n.N_.size===0&&(i.r_()?i.o_():Ql(n)&&n.q_.set("Unknown"))}function BE(e,t){if(e.Q_.xe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(gt.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Uc(e).A_(t)}function A2(e,t){e.Q_.xe(t),Uc(e).R_(t)}function UE(e){e.Q_=new BY({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),ot:t=>e.N_.get(t)||null,tt:()=>e.datastore.serializer.databaseId}),Uc(e).start(),e.q_.v_()}function jE(e){return Ql(e)&&!Uc(e).n_()&&e.N_.size>0}function Ql(e){return _t(e).L_.size===0}function P2(e){e.Q_=void 0}async function BK(e){e.q_.set("Online")}async function UK(e){e.N_.forEach((t,n)=>{BE(e,t)})}async function jK(e,t){P2(e),jE(e)?(e.q_.M_(t),UE(e)):e.q_.set("Unknown")}async function HK(e,t,n){if(e.q_.set("Online"),t instanceof m2&&t.state===2&&t.cause)try{await async function(r,s){const o=s.cause;for(const a of s.targetIds)r.N_.has(a)&&(await r.remoteSyncer.rejectListen(a,o),r.N_.delete(a),r.Q_.removeTarget(a))}(e,t)}catch(i){Ke("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),i),await sg(e,i)}else if(t instanceof dm?e.Q_.Ke(t):t instanceof v2?e.Q_.He(t):e.Q_.We(t),!n.isEqual(gt.min()))try{const i=await C2(e.localStore);n.compareTo(i)>=0&&await function(s,o){const a=s.Q_.rt(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const d=s.N_.get(u);d&&s.N_.set(u,d.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const d=s.N_.get(l);if(!d)return;s.N_.set(l,d.withResumeToken(Si.EMPTY_BYTE_STRING,d.snapshotVersion)),A2(s,l);const c=new na(d.target,l,u,d.sequenceNumber);BE(s,c)}),s.remoteSyncer.applyRemoteEvent(a)}(e,n)}catch(i){Ke("RemoteStore","Failed to raise snapshot:",i),await sg(e,i)}}async function sg(e,t,n){if(!Th(t))throw t;e.L_.add(1),await Ph(e),e.q_.set("Offline"),n||(n=()=>C2(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{Ke("RemoteStore","Retrying IndexedDB access"),await n(),e.L_.delete(1),await Lp(e)})}function x2(e,t){return t().catch(n=>sg(e,n,t))}async function Fp(e){const t=_t(e),n=_a(t);let i=t.O_.length>0?t.O_[t.O_.length-1].batchId:-1;for(;WK(t);)try{const r=await IK(t.localStore,i);if(r===null){t.O_.length===0&&n.o_();break}i=r.batchId,zK(t,r)}catch(r){await sg(t,r)}D2(t)&&R2(t)}function WK(e){return Ql(e)&&e.O_.length<10}function zK(e,t){e.O_.push(t);const n=_a(e);n.r_()&&n.V_&&n.m_(t.mutations)}function D2(e){return Ql(e)&&!_a(e).n_()&&e.O_.length>0}function R2(e){_a(e).start()}async function GK(e){_a(e).p_()}async function qK(e){const t=_a(e);for(const n of e.O_)t.m_(n.mutations)}async function YK(e,t,n){const i=e.O_.shift(),r=OE.from(i,t,n);await x2(e,()=>e.remoteSyncer.applySuccessfulWrite(r)),await Fp(e)}async function KK(e,t){t&&_a(e).V_&&await async function(i,r){if(function(o){return LY(o)&&o!==ke.ABORTED}(r.code)){const s=i.O_.shift();_a(i).s_(),await x2(i,()=>i.remoteSyncer.rejectFailedWrite(s.batchId,r)),await Fp(i)}}(e,t),D2(e)&&R2(e)}async function hA(e,t){const n=_t(e);n.asyncQueue.verifyOperationInProgress(),Ke("RemoteStore","RemoteStore received new credentials");const i=Ql(n);n.L_.add(3),await Ph(n),i&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.L_.delete(3),await Lp(n)}async function XK(e,t){const n=_t(e);t?(n.L_.delete(2),await Lp(n)):t||(n.L_.add(2),await Ph(n),n.q_.set("Unknown"))}function Uc(e){return e.K_||(e.K_=function(n,i,r){const s=_t(n);return s.w_(),new NK(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(e.datastore,e.asyncQueue,{Eo:BK.bind(null,e),Ro:UK.bind(null,e),mo:jK.bind(null,e),d_:HK.bind(null,e)}),e.B_.push(async t=>{t?(e.K_.s_(),jE(e)?UE(e):e.q_.set("Unknown")):(await e.K_.stop(),P2(e))})),e.K_}function _a(e){return e.U_||(e.U_=function(n,i,r){const s=_t(n);return s.w_(),new MK(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(e.datastore,e.asyncQueue,{Eo:()=>Promise.resolve(),Ro:GK.bind(null,e),mo:KK.bind(null,e),f_:qK.bind(null,e),g_:YK.bind(null,e)}),e.B_.push(async t=>{t?(e.U_.s_(),await Fp(e)):(await e.U_.stop(),e.O_.length>0&&(Ke("RemoteStore",`Stopping write stream with ${e.O_.length} pending writes`),e.O_=[]))})),e.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HE{constructor(t,n,i,r,s){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new go,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,i,r,s){const o=Date.now()+i,a=new HE(t,n,o,r,s);return a.start(i),a}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new We(ke.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function WE(e,t){if(wo("AsyncQueue",`${t}: ${e}`),Th(e))return new We(ke.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ju{constructor(t){this.comparator=t?(n,i)=>t(n,i)||it.comparator(n.key,i.key):(n,i)=>it.comparator(n.key,i.key),this.keyedMap=Rd(),this.sortedSet=new Ln(this.comparator)}static emptySet(t){return new Ju(t.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,i)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Ju)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;n.hasNext();){const r=n.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const i=new Ju;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vA{constructor(){this.W_=new Ln(it.comparator)}track(t){const n=t.doc.key,i=this.W_.get(n);i?t.type!==0&&i.type===3?this.W_=this.W_.insert(n,t):t.type===3&&i.type!==1?this.W_=this.W_.insert(n,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.W_=this.W_.insert(n,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.W_=this.W_.insert(n,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.W_=this.W_.remove(n):t.type===1&&i.type===2?this.W_=this.W_.insert(n,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.W_=this.W_.insert(n,{type:2,doc:t.doc}):vt():this.W_=this.W_.insert(n,t)}G_(){const t=[];return this.W_.inorderTraversal((n,i)=>{t.push(i)}),t}}class mc{constructor(t,n,i,r,s,o,a,l,u){this.query=t,this.docs=n,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(t,n,i,r,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new mc(t,n,Ju.emptySet(n),o,i,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&xp(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,i=t.docChanges;if(n.length!==i.length)return!1;for(let r=0;r<n.length;r++)if(n[r].type!==i[r].type||!n[r].doc.isEqual(i[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QK{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(t=>t.J_())}}class JK{constructor(){this.queries=mA(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,i){const r=_t(n),s=r.queries;r.queries=mA(),s.forEach((o,a)=>{for(const l of a.j_)l.onError(i)})})(this,new We(ke.ABORTED,"Firestore shutting down"))}}function mA(){return new Bc(e=>t2(e),xp)}async function zE(e,t){const n=_t(e);let i=3;const r=t.query;let s=n.queries.get(r);s?!s.H_()&&t.J_()&&(i=2):(s=new QK,i=t.J_()?0:1);try{switch(i){case 0:s.z_=await n.onListen(r,!0);break;case 1:s.z_=await n.onListen(r,!1);break;case 2:await n.onFirstRemoteStoreListen(r)}}catch(o){const a=WE(o,`Initialization of query '${xu(t.query)}' failed`);return void t.onError(a)}n.queries.set(r,s),s.j_.push(t),t.Z_(n.onlineState),s.z_&&t.X_(s.z_)&&qE(n)}async function GE(e,t){const n=_t(e),i=t.query;let r=3;const s=n.queries.get(i);if(s){const o=s.j_.indexOf(t);o>=0&&(s.j_.splice(o,1),s.j_.length===0?r=t.J_()?0:1:!s.H_()&&t.J_()&&(r=2))}switch(r){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function ZK(e,t){const n=_t(e);let i=!1;for(const r of t){const s=r.query,o=n.queries.get(s);if(o){for(const a of o.j_)a.X_(r)&&(i=!0);o.z_=r}}i&&qE(n)}function eX(e,t,n){const i=_t(e),r=i.queries.get(t);if(r)for(const s of r.j_)s.onError(n);i.queries.delete(t)}function qE(e){e.Y_.forEach(t=>{t.next()})}var y0,gA;(gA=y0||(y0={})).ea="default",gA.Cache="cache";class YE{constructor(t,n,i){this.query=t,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=i||{}}X_(t){if(!this.options.includeMetadataChanges){const i=[];for(const r of t.docChanges)r.type!==3&&i.push(r);t=new mc(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.na?this.ia(t)&&(this.ta.next(t),n=!0):this.sa(t,this.onlineState)&&(this.oa(t),n=!0),this.ra=t,n}onError(t){this.ta.error(t)}Z_(t){this.onlineState=t;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,t)&&(this.oa(this.ra),n=!0),n}sa(t,n){if(!t.fromCache||!this.J_())return!0;const i=n!=="Offline";return(!this.options._a||!i)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}ia(t){if(t.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(t){t=mc.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.na=!0,this.ta.next(t)}J_(){return this.options.source!==y0.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O2{constructor(t){this.key=t}}class V2{constructor(t){this.key=t}}class tX{constructor(t,n){this.query=t,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=At(),this.mutatedKeys=At(),this.Aa=n2(t),this.Ra=new Ju(this.Aa)}get Va(){return this.Ta}ma(t,n){const i=n?n.fa:new vA,r=n?n.Ra:this.Ra;let s=n?n.mutatedKeys:this.mutatedKeys,o=r,a=!1;const l=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,u=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((d,c)=>{const f=r.get(d),v=Dp(this.query,c)?c:null,g=!!f&&this.mutatedKeys.has(f.key),p=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations);let _=!1;f&&v?f.data.isEqual(v.data)?g!==p&&(i.track({type:3,doc:v}),_=!0):this.ga(f,v)||(i.track({type:2,doc:v}),_=!0,(l&&this.Aa(v,l)>0||u&&this.Aa(v,u)<0)&&(a=!0)):!f&&v?(i.track({type:0,doc:v}),_=!0):f&&!v&&(i.track({type:1,doc:f}),_=!0,(l||u)&&(a=!0)),_&&(v?(o=o.add(v),s=p?s.add(d):s.delete(d)):(o=o.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),s=s.delete(d.key),i.track({type:1,doc:d})}return{Ra:o,fa:i,ns:a,mutatedKeys:s}}ga(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,i,r){const s=this.Ra;this.Ra=t.Ra,this.mutatedKeys=t.mutatedKeys;const o=t.fa.G_();o.sort((d,c)=>function(v,g){const p=_=>{switch(_){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return vt()}};return p(v)-p(g)}(d.type,c.type)||this.Aa(d.doc,c.doc)),this.pa(i),r=r!=null&&r;const a=n&&!r?this.ya():[],l=this.da.size===0&&this.current&&!r?1:0,u=l!==this.Ea;return this.Ea=l,o.length!==0||u?{snapshot:new mc(this.query,t.Ra,s,o,t.mutatedKeys,l===0,u,!1,!!i&&i.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new vA,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(t){return!this.Ta.has(t)&&!!this.Ra.has(t)&&!this.Ra.get(t).hasLocalMutations}pa(t){t&&(t.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=t.current)}ya(){if(!this.current)return[];const t=this.da;this.da=At(),this.Ra.forEach(i=>{this.Sa(i.key)&&(this.da=this.da.add(i.key))});const n=[];return t.forEach(i=>{this.da.has(i)||n.push(new V2(i))}),this.da.forEach(i=>{t.has(i)||n.push(new O2(i))}),n}ba(t){this.Ta=t.Ts,this.da=At();const n=this.ma(t.documents);return this.applyChanges(n,!0)}Da(){return mc.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class nX{constructor(t,n,i){this.query=t,this.targetId=n,this.view=i}}class iX{constructor(t){this.key=t,this.va=!1}}class rX{constructor(t,n,i,r,s,o){this.localStore=t,this.remoteStore=n,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new Bc(a=>t2(a),xp),this.Ma=new Map,this.xa=new Set,this.Oa=new Ln(it.comparator),this.Na=new Map,this.La=new ME,this.Ba={},this.ka=new Map,this.qa=vc.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function sX(e,t,n=!0){const i=B2(e);let r;const s=i.Fa.get(t);return s?(i.sharedClientState.addLocalQueryTarget(s.targetId),r=s.view.Da()):r=await N2(i,t,n,!0),r}async function oX(e,t){const n=B2(e);await N2(n,t,!0,!1)}async function N2(e,t,n,i){const r=await AK(e.localStore,Ts(t)),s=r.targetId,o=e.sharedClientState.addLocalQueryTarget(s,n);let a;return i&&(a=await aX(e,t,s,o==="current",r.resumeToken)),e.isPrimaryClient&&n&&I2(e.remoteStore,r),a}async function aX(e,t,n,i,r){e.Ka=(c,f,v)=>async function(p,_,y,b){let E=_.view.ma(y);E.ns&&(E=await cA(p.localStore,_.query,!1).then(({documents:D})=>_.view.ma(D,E)));const k=b&&b.targetChanges.get(_.targetId),R=b&&b.targetMismatches.get(_.targetId)!=null,O=_.view.applyChanges(E,p.isPrimaryClient,k,R);return _A(p,_.targetId,O.wa),O.snapshot}(e,c,f,v);const s=await cA(e.localStore,t,!0),o=new tX(t,s.Ts),a=o.ma(s.documents),l=Ah.createSynthesizedTargetChangeForCurrentChange(n,i&&e.onlineState!=="Offline",r),u=o.applyChanges(a,e.isPrimaryClient,l);_A(e,n,u.wa);const d=new nX(t,n,o);return e.Fa.set(t,d),e.Ma.has(n)?e.Ma.get(n).push(t):e.Ma.set(n,[t]),u.snapshot}async function lX(e,t,n){const i=_t(e),r=i.Fa.get(t),s=i.Ma.get(r.targetId);if(s.length>1)return i.Ma.set(r.targetId,s.filter(o=>!xp(o,t))),void i.Fa.delete(t);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||await _0(i.localStore,r.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(r.targetId),n&&$E(i.remoteStore,r.targetId),b0(i,r.targetId)}).catch(kh)):(b0(i,r.targetId),await _0(i.localStore,r.targetId,!0))}async function uX(e,t){const n=_t(e),i=n.Fa.get(t),r=n.Ma.get(i.targetId);n.isPrimaryClient&&r.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),$E(n.remoteStore,i.targetId))}async function cX(e,t,n){const i=pX(e);try{const r=await function(o,a){const l=_t(o),u=Et.now(),d=a.reduce((v,g)=>v.add(g.key),At());let c,f;return l.persistence.runTransaction("Locally write mutations","readwrite",v=>{let g=So(),p=At();return l.cs.getEntries(v,d).next(_=>{g=_,g.forEach((y,b)=>{b.isValidDocument()||(p=p.add(y))})}).next(()=>l.localDocuments.getOverlayedDocuments(v,g)).next(_=>{c=_;const y=[];for(const b of a){const E=RY(b,c.get(b.key).overlayedDocument);E!=null&&y.push(new Oa(b.key,E,qM(E.value.mapValue),ar.exists(!0)))}return l.mutationQueue.addMutationBatch(v,u,y,a)}).next(_=>{f=_;const y=_.applyToLocalDocumentSet(c,p);return l.documentOverlayCache.saveOverlays(v,_.batchId,y)})}).then(()=>({batchId:f.batchId,changes:r2(c)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(r.batchId),function(o,a,l){let u=o.Ba[o.currentUser.toKey()];u||(u=new Ln(Ht)),u=u.insert(a,l),o.Ba[o.currentUser.toKey()]=u}(i,r.batchId,n),await xh(i,r.changes),await Fp(i.remoteStore)}catch(r){const s=WE(r,"Failed to persist write");n.reject(s)}}async function M2(e,t){const n=_t(e);try{const i=await kK(n.localStore,t);t.targetChanges.forEach((r,s)=>{const o=n.Na.get(s);o&&(dn(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?o.va=!0:r.modifiedDocuments.size>0?dn(o.va):r.removedDocuments.size>0&&(dn(o.va),o.va=!1))}),await xh(n,i,t)}catch(i){await kh(i)}}function pA(e,t,n){const i=_t(e);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const r=[];i.Fa.forEach((s,o)=>{const a=o.view.Z_(t);a.snapshot&&r.push(a.snapshot)}),function(o,a){const l=_t(o);l.onlineState=a;let u=!1;l.queries.forEach((d,c)=>{for(const f of c.j_)f.Z_(a)&&(u=!0)}),u&&qE(l)}(i.eventManager,t),r.length&&i.Ca.d_(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function dX(e,t,n){const i=_t(e);i.sharedClientState.updateQueryState(t,"rejected",n);const r=i.Na.get(t),s=r&&r.key;if(s){let o=new Ln(it.comparator);o=o.insert(s,Ni.newNoDocument(s,gt.min()));const a=At().add(s),l=new Np(gt.min(),new Map,new Ln(Ht),o,a);await M2(i,l),i.Oa=i.Oa.remove(s),i.Na.delete(t),KE(i)}else await _0(i.localStore,t,!1).then(()=>b0(i,t,n)).catch(kh)}async function fX(e,t){const n=_t(e),i=t.batch.batchId;try{const r=await CK(n.localStore,t);F2(n,i,null),L2(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await xh(n,r)}catch(r){await kh(r)}}async function hX(e,t,n){const i=_t(e);try{const r=await function(o,a){const l=_t(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return l.mutationQueue.lookupMutationBatch(u,a).next(c=>(dn(c!==null),d=c.keys(),l.mutationQueue.removeMutationBatch(u,c))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>l.localDocuments.getDocuments(u,d))})}(i.localStore,t);F2(i,t,n),L2(i,t),i.sharedClientState.updateMutationState(t,"rejected",n),await xh(i,r)}catch(r){await kh(r)}}function L2(e,t){(e.ka.get(t)||[]).forEach(n=>{n.resolve()}),e.ka.delete(t)}function F2(e,t,n){const i=_t(e);let r=i.Ba[i.currentUser.toKey()];if(r){const s=r.get(t);s&&(n?s.reject(n):s.resolve(),r=r.remove(t)),i.Ba[i.currentUser.toKey()]=r}}function b0(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const i of e.Ma.get(t))e.Fa.delete(i),n&&e.Ca.$a(i,n);e.Ma.delete(t),e.isPrimaryClient&&e.La.gr(t).forEach(i=>{e.La.containsKey(i)||$2(e,i)})}function $2(e,t){e.xa.delete(t.path.canonicalString());const n=e.Oa.get(t);n!==null&&($E(e.remoteStore,n),e.Oa=e.Oa.remove(t),e.Na.delete(n),KE(e))}function _A(e,t,n){for(const i of n)i instanceof O2?(e.La.addReference(i.key,t),vX(e,i)):i instanceof V2?(Ke("SyncEngine","Document no longer in limbo: "+i.key),e.La.removeReference(i.key,t),e.La.containsKey(i.key)||$2(e,i.key)):vt()}function vX(e,t){const n=t.key,i=n.path.canonicalString();e.Oa.get(n)||e.xa.has(i)||(Ke("SyncEngine","New document in limbo: "+n),e.xa.add(i),KE(e))}function KE(e){for(;e.xa.size>0&&e.Oa.size<e.maxConcurrentLimboResolutions;){const t=e.xa.values().next().value;e.xa.delete(t);const n=new it(Cn.fromString(t)),i=e.qa.next();e.Na.set(i,new iX(n)),e.Oa=e.Oa.insert(n,i),I2(e.remoteStore,new na(Ts(Pp(n.path)),i,"TargetPurposeLimboResolution",TE.oe))}}async function xh(e,t,n){const i=_t(e),r=[],s=[],o=[];i.Fa.isEmpty()||(i.Fa.forEach((a,l)=>{o.push(i.Ka(l,t,n).then(u=>{var d;if((u||n)&&i.isPrimaryClient){const c=u?!u.fromCache:(d=n==null?void 0:n.targetChanges.get(l.targetId))===null||d===void 0?void 0:d.current;i.sharedClientState.updateQueryState(l.targetId,c?"current":"not-current")}if(u){r.push(u);const c=FE.Wi(l.targetId,u);s.push(c)}}))}),await Promise.all(o),i.Ca.d_(r),await async function(l,u){const d=_t(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",c=>Oe.forEach(u,f=>Oe.forEach(f.$i,v=>d.persistence.referenceDelegate.addReference(c,f.targetId,v)).next(()=>Oe.forEach(f.Ui,v=>d.persistence.referenceDelegate.removeReference(c,f.targetId,v)))))}catch(c){if(!Th(c))throw c;Ke("LocalStore","Failed to update sequence numbers: "+c)}for(const c of u){const f=c.targetId;if(!c.fromCache){const v=d.os.get(f),g=v.snapshotVersion,p=v.withLastLimboFreeSnapshotVersion(g);d.os=d.os.insert(f,p)}}}(i.localStore,s))}async function mX(e,t){const n=_t(e);if(!n.currentUser.isEqual(t)){Ke("SyncEngine","User change. New user:",t.toKey());const i=await E2(n.localStore,t);n.currentUser=t,function(s,o){s.ka.forEach(a=>{a.forEach(l=>{l.reject(new We(ke.CANCELLED,o))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),await xh(n,i.hs)}}function gX(e,t){const n=_t(e),i=n.Na.get(t);if(i&&i.va)return At().add(i.key);{let r=At();const s=n.Ma.get(t);if(!s)return r;for(const o of s){const a=n.Fa.get(o);r=r.unionWith(a.view.Va)}return r}}function B2(e){const t=_t(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=M2.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=gX.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=dX.bind(null,t),t.Ca.d_=ZK.bind(null,t.eventManager),t.Ca.$a=eX.bind(null,t.eventManager),t}function pX(e){const t=_t(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=fX.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=hX.bind(null,t),t}class yA{constructor(){this.synchronizeTabs=!1}async initialize(t){this.serializer=Mp(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),await this.persistence.start(),this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore)}createGarbageCollectionScheduler(t,n){return null}createIndexBackfillerScheduler(t,n){return null}createLocalStore(t){return EK(this.persistence,new wK,t.initialUser,this.serializer)}createPersistence(t){return new _K(LE.Zr,this.serializer)}createSharedClientState(t){return new xK}async terminate(){var t,n;(t=this.gcScheduler)===null||t===void 0||t.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class _X{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>pA(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=mX.bind(null,this.syncEngine),await XK(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new JK}()}createDatastore(t){const n=Mp(t.databaseInfo.databaseId),i=function(s){return new VK(s)}(t.databaseInfo);return function(s,o,a,l){return new LK(s,o,a,l)}(t.authCredentials,t.appCheckCredentials,i,n)}createRemoteStore(t){return function(i,r,s,o,a){return new $K(i,r,s,o,a)}(this.localStore,this.datastore,t.asyncQueue,n=>pA(this.syncEngine,n,0),function(){return fA.D()?new fA:new DK}())}createSyncEngine(t,n){return function(r,s,o,a,l,u,d){const c=new rX(r,s,o,a,l,u);return d&&(c.Qa=!0),c}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await async function(r){const s=_t(r);Ke("RemoteStore","RemoteStore shutting down."),s.L_.add(5),await Ph(s),s.k_.shutdown(),s.q_.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XE{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Ga(this.observer.next,t)}error(t){this.observer.error?this.Ga(this.observer.error,t):wo("Uncaught Error in snapshot listener:",t.toString())}za(){this.muted=!0}Ga(t,n){this.muted||setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yX{constructor(t,n,i,r){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=r,this.user=Di.UNAUTHENTICATED,this.clientId=WM.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,async s=>{Ke("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(i,s=>(Ke("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new We(ke.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const t=new go;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const i=WE(n,"Failed to shutdown persistence");t.reject(i)}}),t.promise}}async function Ly(e,t){e.asyncQueue.verifyOperationInProgress(),Ke("FirestoreClient","Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let i=n.initialUser;e.setCredentialChangeListener(async r=>{i.isEqual(r)||(await E2(t.localStore,r),i=r)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function bA(e,t){e.asyncQueue.verifyOperationInProgress();const n=await wX(e);Ke("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(i=>hA(t.remoteStore,i)),e.setAppCheckTokenChangeListener((i,r)=>hA(t.remoteStore,r)),e._onlineComponents=t}function bX(e){return e.name==="FirebaseError"?e.code===ke.FAILED_PRECONDITION||e.code===ke.UNIMPLEMENTED:!(typeof DOMException<"u"&&e instanceof DOMException)||e.code===22||e.code===20||e.code===11}async function wX(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Ke("FirestoreClient","Using user provided OfflineComponentProvider");try{await Ly(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!bX(n))throw n;cc("Error using user provided cache. Falling back to memory cache: "+n),await Ly(e,new yA)}}else Ke("FirestoreClient","Using default OfflineComponentProvider"),await Ly(e,new yA);return e._offlineComponents}async function U2(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Ke("FirestoreClient","Using user provided OnlineComponentProvider"),await bA(e,e._uninitializedComponentsProvider._online)):(Ke("FirestoreClient","Using default OnlineComponentProvider"),await bA(e,new _X))),e._onlineComponents}function SX(e){return U2(e).then(t=>t.syncEngine)}async function og(e){const t=await U2(e),n=t.eventManager;return n.onListen=sX.bind(null,t.syncEngine),n.onUnlisten=lX.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=oX.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=uX.bind(null,t.syncEngine),n}function EX(e,t,n={}){const i=new go;return e.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const d=new XE({next:f=>{o.enqueueAndForget(()=>GE(s,c));const v=f.docs.has(a);!v&&f.fromCache?u.reject(new We(ke.UNAVAILABLE,"Failed to get document because the client is offline.")):v&&f.fromCache&&l&&l.source==="server"?u.reject(new We(ke.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(f)},error:f=>u.reject(f)}),c=new YE(Pp(a.path),d,{includeMetadataChanges:!0,_a:!0});return zE(s,c)}(await og(e),e.asyncQueue,t,n,i)),i.promise}function CX(e,t,n={}){const i=new go;return e.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const d=new XE({next:f=>{o.enqueueAndForget(()=>GE(s,c)),f.fromCache&&l.source==="server"?u.reject(new We(ke.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(f)},error:f=>u.reject(f)}),c=new YE(a,d,{includeMetadataChanges:!0,_a:!0});return zE(s,c)}(await og(e),e.asyncQueue,t,n,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j2(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wA=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H2(e,t,n){if(!n)throw new We(ke.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function kX(e,t,n,i){if(t===!0&&i===!0)throw new We(ke.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function SA(e){if(!it.isDocumentKey(e))throw new We(ke.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function EA(e){if(it.isDocumentKey(e))throw new We(ke.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function $p(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(i){return i.constructor?i.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":vt()}function Er(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new We(ke.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=$p(e);throw new We(ke.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CA{constructor(t){var n,i;if(t.host===void 0){if(t.ssl!==void 0)throw new We(ke.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new We(ke.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}kX("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=j2((i=t.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new We(ke.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new We(ke.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new We(ke.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Bp{constructor(t,n,i,r){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new CA({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new We(ke.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(t){if(this._settingsFrozen)throw new We(ke.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new CA(t),t.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new Uq;switch(i.type){case"firstParty":return new zq(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new We(ke.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=wA.get(n);i&&(Ke("ComponentProvider","Removing Datastore"),wA.delete(n),i.terminate())}(this),Promise.resolve()}}function W2(e,t,n,i={}){var r;const s=(e=Er(e,Bp))._getSettings(),o=`${t}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&cc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),i.mockUserToken){let a,l;if(typeof i.mockUserToken=="string")a=i.mockUserToken,l=Di.MOCK_USER;else{a=OH(i.mockUserToken,(r=e._app)===null||r===void 0?void 0:r.options.projectId);const u=i.mockUserToken.sub||i.mockUserToken.user_id;if(!u)throw new We(ke.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Di(u)}e._authCredentials=new jq(new HM(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Va{constructor(t,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new Va(this.firestore,t,this._query)}}class Qi{constructor(t,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ca(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Qi(this.firestore,t,this._key)}}class ca extends Va{constructor(t,n,i){super(t,n,Pp(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Qi(this.firestore,null,new it(t))}withConverter(t){return new ca(this.firestore,t,this._path)}}function TX(e,t,...n){if(e=Gn(e),H2("collection","path",t),e instanceof Bp){const i=Cn.fromString(t,...n);return EA(i),new ca(e,null,i)}{if(!(e instanceof Qi||e instanceof ca))throw new We(ke.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=e._path.child(Cn.fromString(t,...n));return EA(i),new ca(e.firestore,null,i)}}function Vd(e,t,...n){if(e=Gn(e),arguments.length===1&&(t=WM.newId()),H2("doc","path",t),e instanceof Bp){const i=Cn.fromString(t,...n);return SA(i),new Qi(e,null,new it(i))}{if(!(e instanceof Qi||e instanceof ca))throw new We(ke.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=e._path.child(Cn.fromString(t,...n));return SA(i),new Qi(e.firestore,e instanceof ca?e.converter:null,new it(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IX{constructor(){this.au=Promise.resolve(),this.uu=[],this.cu=!1,this.lu=[],this.hu=null,this.Pu=!1,this.Iu=!1,this.Tu=[],this.t_=new k2(this,"async_queue_retry"),this.Eu=()=>{const n=My();n&&Ke("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()};const t=My();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Eu)}get isShuttingDown(){return this.cu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.du(),this.Au(t)}enterRestrictedMode(t){if(!this.cu){this.cu=!0,this.Iu=t||!1;const n=My();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Eu)}}enqueue(t){if(this.du(),this.cu)return new Promise(()=>{});const n=new go;return this.Au(()=>this.cu&&this.Iu?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.uu.push(t),this.Ru()))}async Ru(){if(this.uu.length!==0){try{await this.uu[0](),this.uu.shift(),this.t_.reset()}catch(t){if(!Th(t))throw t;Ke("AsyncQueue","Operation failed with retryable error: "+t)}this.uu.length>0&&this.t_.Go(()=>this.Ru())}}Au(t){const n=this.au.then(()=>(this.Pu=!0,t().catch(i=>{this.hu=i,this.Pu=!1;const r=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(i);throw wo("INTERNAL UNHANDLED ERROR: ",r),i}).then(i=>(this.Pu=!1,i))));return this.au=n,n}enqueueAfterDelay(t,n,i){this.du(),this.Tu.indexOf(t)>-1&&(n=0);const r=HE.createAndSchedule(this,t,n,i,s=>this.Vu(s));return this.lu.push(r),r}du(){this.hu&&vt()}verifyOperationInProgress(){}async mu(){let t;do t=this.au,await t;while(t!==this.au)}fu(t){for(const n of this.lu)if(n.timerId===t)return!0;return!1}gu(t){return this.mu().then(()=>{this.lu.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.lu)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.mu()})}pu(t){this.Tu.push(t)}Vu(t){const n=this.lu.indexOf(t);this.lu.splice(n,1)}}function kA(e){return function(n,i){if(typeof n!="object"||n===null)return!1;const r=n;for(const s of i)if(s in r&&typeof r[s]=="function")return!0;return!1}(e,["next","error","complete"])}class Eo extends Bp{constructor(t,n,i,r){super(t,n,i,r),this.type="firestore",this._queue=function(){return new IX}(),this._persistenceKey=(r==null?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||G2(this),this._firestoreClient.terminate()}}function z2(e,t){const n=typeof e=="object"?e:HS(),i=typeof e=="string"?e:"(default)",r=jS(n,"firestore").getImmediate({identifier:i});if(!r._initialized){const s=RH("firestore");s&&W2(r,...s)}return r}function Dh(e){return e._firestoreClient||G2(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function G2(e){var t,n,i;const r=e._freezeSettings(),s=function(a,l,u,d){return new rY(a,l,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,j2(d.experimentalLongPollingOptions),d.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,r);e._firestoreClient=new yX(e._authCredentials,e._appCheckCredentials,e._queue,s),!((n=r.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=r.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.localCache.kind,_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc{constructor(t){this._byteString=t}static fromBase64String(t){try{return new gc(Si.fromBase64String(t))}catch(n){throw new We(ke.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new gc(Si.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rh{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new We(ke.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new bi(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}function AX(){return new Rh("__name__")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QE{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Up{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new We(ke.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new We(ke.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Ht(this._lat,t._lat)||Ht(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JE{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(i,r){if(i.length!==r.length)return!1;for(let s=0;s<i.length;++s)if(i[s]!==r[s])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PX=/^__.*__$/;class xX{constructor(t,n,i){this.data=t,this.fieldMask=n,this.fieldTransforms=i}toMutation(t,n){return this.fieldMask!==null?new Oa(t,this.data,this.fieldMask,n,this.fieldTransforms):new Ih(t,this.data,n,this.fieldTransforms)}}class q2{constructor(t,n,i){this.data=t,this.fieldMask=n,this.fieldTransforms=i}toMutation(t,n){return new Oa(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function Y2(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw vt()}}class ZE{constructor(t,n,i,r,s,o){this.settings=t,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=r,s===void 0&&this.yu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get wu(){return this.settings.wu}Su(t){return new ZE(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}bu(t){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(t),r=this.Su({path:i,Du:!1});return r.vu(t),r}Cu(t){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(t),r=this.Su({path:i,Du:!1});return r.yu(),r}Fu(t){return this.Su({path:void 0,Du:!0})}Mu(t){return ag(t,this.settings.methodName,this.settings.xu||!1,this.path,this.settings.Ou)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}yu(){if(this.path)for(let t=0;t<this.path.length;t++)this.vu(this.path.get(t))}vu(t){if(t.length===0)throw this.Mu("Document fields must not be empty");if(Y2(this.wu)&&PX.test(t))throw this.Mu('Document fields cannot begin and end with "__"')}}class DX{constructor(t,n,i){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=i||Mp(t)}Nu(t,n,i,r=!1){return new ZE({wu:t,methodName:n,Ou:i,path:bi.emptyPath(),Du:!1,xu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function jp(e){const t=e._freezeSettings(),n=Mp(e._databaseId);return new DX(e._databaseId,!!t.ignoreUndefinedProperties,n)}function e1(e,t,n,i,r,s={}){const o=e.Nu(s.merge||s.mergeFields?2:0,t,n,r);t1("Data must be an object, but it was:",o,i);const a=K2(i,o);let l,u;if(s.merge)l=new yr(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const d=[];for(const c of s.mergeFields){const f=w0(t,c,n);if(!o.contains(f))throw new We(ke.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);Q2(d,f)||d.push(f)}l=new yr(d),u=o.fieldTransforms.filter(c=>l.covers(c.field))}else l=null,u=o.fieldTransforms;return new xX(new or(a),l,u)}class Hp extends QE{_toFieldTransform(t){if(t.wu!==2)throw t.wu===1?t.Mu(`${this._methodName}() can only appear at the top level of your update data`):t.Mu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Hp}}function RX(e,t,n,i){const r=e.Nu(1,t,n);t1("Data must be an object, but it was:",r,i);const s=[],o=or.empty();Xl(i,(l,u)=>{const d=n1(t,l,n);u=Gn(u);const c=r.Cu(d);if(u instanceof Hp)s.push(d);else{const f=Oh(u,c);f!=null&&(s.push(d),o.set(d,f))}});const a=new yr(s);return new q2(o,a,r.fieldTransforms)}function OX(e,t,n,i,r,s){const o=e.Nu(1,t,n),a=[w0(t,i,n)],l=[r];if(s.length%2!=0)throw new We(ke.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<s.length;f+=2)a.push(w0(t,s[f])),l.push(s[f+1]);const u=[],d=or.empty();for(let f=a.length-1;f>=0;--f)if(!Q2(u,a[f])){const v=a[f];let g=l[f];g=Gn(g);const p=o.Cu(v);if(g instanceof Hp)u.push(v);else{const _=Oh(g,p);_!=null&&(u.push(v),d.set(v,_))}}const c=new yr(u);return new q2(d,c,o.fieldTransforms)}function VX(e,t,n,i=!1){return Oh(n,e.Nu(i?4:3,t))}function Oh(e,t){if(X2(e=Gn(e)))return t1("Unsupported field value:",t,e),K2(e,t);if(e instanceof QE)return function(i,r){if(!Y2(r.wu))throw r.Mu(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Mu(`${i._methodName}() is not currently supported inside arrays`);const s=i._toFieldTransform(r);s&&r.fieldTransforms.push(s)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Du&&t.wu!==4)throw t.Mu("Nested arrays are not supported");return function(i,r){const s=[];let o=0;for(const a of i){let l=Oh(a,r.Fu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(e,t)}return function(i,r){if((i=Gn(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return TY(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const s=Et.fromDate(i);return{timestampValue:rg(r.serializer,s)}}if(i instanceof Et){const s=new Et(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:rg(r.serializer,s)}}if(i instanceof Up)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof gc)return{bytesValue:g2(r.serializer,i._byteString)};if(i instanceof Qi){const s=r.databaseId,o=i.firestore._databaseId;if(!o.isEqual(s))throw r.Mu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:NE(i.firestore._databaseId||r.databaseId,i._key.path)}}if(i instanceof JE)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(l=>{if(typeof l!="number")throw a.Mu("VectorValues must only contain numeric values.");return RE(a.serializer,l)})}}}}}}(i,r);throw r.Mu(`Unsupported field value: ${$p(i)}`)}(e,t)}function K2(e,t){const n={};return zM(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Xl(e,(i,r)=>{const s=Oh(r,t.bu(i));s!=null&&(n[i]=s)}),{mapValue:{fields:n}}}function X2(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof Et||e instanceof Up||e instanceof gc||e instanceof Qi||e instanceof QE||e instanceof JE)}function t1(e,t,n){if(!X2(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const i=$p(n);throw i==="an object"?t.Mu(e+" a custom object"):t.Mu(e+" "+i)}}function w0(e,t,n){if((t=Gn(t))instanceof Rh)return t._internalPath;if(typeof t=="string")return n1(e,t);throw ag("Field path arguments must be of type string or ",e,!1,void 0,n)}const NX=new RegExp("[~\\*/\\[\\]]");function n1(e,t,n){if(t.search(NX)>=0)throw ag(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new Rh(...t.split("."))._internalPath}catch{throw ag(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function ag(e,t,n,i,r){const s=i&&!i.isEmpty(),o=r!==void 0;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${i}`),o&&(l+=` in document ${r}`),l+=")"),new We(ke.INVALID_ARGUMENT,a+e+l)}function Q2(e,t){return e.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J2{constructor(t,n,i,r,s){this._firestore=t,this._userDataWriter=n,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Qi(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new MX(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(Wp("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class MX extends J2{data(){return super.data()}}function Wp(e,t){return typeof t=="string"?n1(e,t):t instanceof Rh?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z2(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new We(ke.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class i1{}class eL extends i1{}function Fy(e,t,...n){let i=[];t instanceof i1&&i.push(t),i=i.concat(n),function(s){const o=s.filter(l=>l instanceof r1).length,a=s.filter(l=>l instanceof zp).length;if(o>1||o>0&&a>0)throw new We(ke.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)e=r._apply(e);return e}class zp extends eL{constructor(t,n,i){super(),this._field=t,this._op=n,this._value=i,this.type="where"}static _create(t,n,i){return new zp(t,n,i)}_apply(t){const n=this._parse(t);return nL(t._query,n),new Va(t.firestore,t.converter,f0(t._query,n))}_parse(t){const n=jp(t.firestore);return function(s,o,a,l,u,d,c){let f;if(u.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new We(ke.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){IA(c,d);const v=[];for(const g of c)v.push(TA(l,s,g));f={arrayValue:{values:v}}}else f=TA(l,s,c)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||IA(c,d),f=VX(a,o,c,d==="in"||d==="not-in");return Qn.create(u,d,f)}(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}function Pn(e,t,n){const i=t,r=Wp("where",e);return zp._create(r,i,n)}class r1 extends i1{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new r1(t,n)}_parse(t){const n=this._queryConstraints.map(i=>i._parse(t)).filter(i=>i.getFilters().length>0);return n.length===1?n[0]:as.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:(function(r,s){let o=r;const a=s.getFlattenedFilters();for(const l of a)nL(o,l),o=f0(o,l)}(t._query,n),new Va(t.firestore,t.converter,f0(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class s1 extends eL{constructor(t,n){super(),this._field=t,this._direction=n,this.type="orderBy"}static _create(t,n){return new s1(t,n)}_apply(t){const n=function(r,s,o){if(r.startAt!==null)throw new We(ke.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new We(ke.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Pf(s,o)}(t._query,this._field,this._direction);return new Va(t.firestore,t.converter,function(r,s){const o=r.explicitOrderBy.concat([s]);return new $c(r.path,r.collectionGroup,o,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(t._query,n))}}function tL(e,t="asc"){const n=t,i=Wp("orderBy",e);return s1._create(i,n)}function TA(e,t,n){if(typeof(n=Gn(n))=="string"){if(n==="")throw new We(ke.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!e2(t)&&n.indexOf("/")!==-1)throw new We(ke.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=t.path.child(Cn.fromString(n));if(!it.isDocumentKey(i))throw new We(ke.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return qI(e,new it(i))}if(n instanceof Qi)return qI(e,n._key);throw new We(ke.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${$p(n)}.`)}function IA(e,t){if(!Array.isArray(e)||e.length===0)throw new We(ke.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function nL(e,t){const n=function(r,s){for(const o of r)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(e.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(n!==null)throw n===t.op?new We(ke.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new We(ke.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class LX{convertValue(t,n="none"){switch(Ml(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Wn(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Nl(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw vt()}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const i={};return Xl(t,(r,s)=>{i[r]=this.convertValue(s,n)}),i}convertVectorValue(t){var n,i,r;const s=(r=(i=(n=t.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||i===void 0?void 0:i.values)===null||r===void 0?void 0:r.map(o=>Wn(o.doubleValue));return new JE(s)}convertGeoPoint(t){return new Up(Wn(t.latitude),Wn(t.longitude))}convertArray(t,n){return(t.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(t,n){switch(n){case"previous":const i=AE(t);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(Tf(t));default:return null}}convertTimestamp(t){const n=pa(t);return new Et(n.seconds,n.nanos)}convertDocumentKey(t,n){const i=Cn.fromString(t);dn(S2(i));const r=new If(i.get(1),i.get(3)),s=new it(i.popFirst(5));return r.isEqual(n)||wo(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o1(e,t,n){let i;return i=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nd{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class iL extends J2{constructor(t,n,i,r,s,o){super(t,n,i,r,o),this._firestore=t,this._firestoreImpl=t,this.metadata=s}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new fm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const i=this._document.data.field(Wp("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}}class fm extends iL{data(t={}){return super.data(t)}}class rL{constructor(t,n,i,r){this._firestore=t,this._userDataWriter=n,this._snapshot=r,this.metadata=new Nd(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(i=>{t.call(n,new fm(this._firestore,this._userDataWriter,i.key,i,new Nd(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new We(ke.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,s){if(r._snapshot.oldDocs.isEmpty()){let o=0;return r._snapshot.docChanges.map(a=>{const l=new fm(r._firestore,r._userDataWriter,a.doc.key,a.doc,new Nd(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new fm(r._firestore,r._userDataWriter,a.doc.key,a.doc,new Nd(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter);let u=-1,d=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:FX(a.type),doc:l,oldIndex:u,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function FX(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return vt()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a1(e){e=Er(e,Qi);const t=Er(e.firestore,Eo);return EX(Dh(t),e._key).then(n=>sL(t,e,n))}class l1 extends LX{constructor(t){super(),this.firestore=t}convertBytes(t){return new gc(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new Qi(this.firestore,null,n)}}function S0(e){e=Er(e,Va);const t=Er(e.firestore,Eo),n=Dh(t),i=new l1(t);return Z2(e._query),CX(n,e._query).then(r=>new rL(t,i,e,r))}function $X(e,t,n){e=Er(e,Qi);const i=Er(e.firestore,Eo),r=o1(e.converter,t,n);return qp(i,[e1(jp(i),"setDoc",e._key,r,e.converter!==null,n).toMutation(e._key,ar.none())])}function BX(e){return qp(Er(e.firestore,Eo),[new Vp(e._key,ar.none())])}function UX(e,t){const n=Er(e.firestore,Eo),i=Vd(e),r=o1(e.converter,t);return qp(n,[e1(jp(e.firestore),"addDoc",i._key,r,e.converter!==null,{}).toMutation(i._key,ar.exists(!1))]).then(()=>i)}function Gp(e,...t){var n,i,r;e=Gn(e);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof t[o]!="object"||kA(t[o])||(s=t[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(kA(t[o])){const c=t[o];t[o]=(n=c.next)===null||n===void 0?void 0:n.bind(c),t[o+1]=(i=c.error)===null||i===void 0?void 0:i.bind(c),t[o+2]=(r=c.complete)===null||r===void 0?void 0:r.bind(c)}let l,u,d;if(e instanceof Qi)u=Er(e.firestore,Eo),d=Pp(e._key.path),l={next:c=>{t[o]&&t[o](sL(u,e,c))},error:t[o+1],complete:t[o+2]};else{const c=Er(e,Va);u=Er(c.firestore,Eo),d=c._query;const f=new l1(u);l={next:v=>{t[o]&&t[o](new rL(u,f,c,v))},error:t[o+1],complete:t[o+2]},Z2(e._query)}return function(f,v,g,p){const _=new XE(p),y=new YE(v,_,g);return f.asyncQueue.enqueueAndForget(async()=>zE(await og(f),y)),()=>{_.za(),f.asyncQueue.enqueueAndForget(async()=>GE(await og(f),y))}}(Dh(u),d,a,l)}function qp(e,t){return function(i,r){const s=new go;return i.asyncQueue.enqueueAndForget(async()=>cX(await SX(i),r,s)),s.promise}(Dh(e),t)}function sL(e,t,n){const i=n.docs.get(t._key),r=new l1(e);return new iL(e,r,t._key,i,new Nd(n.hasPendingWrites,n.fromCache),t.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jX{constructor(t,n){this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=jp(t)}set(t,n,i){this._verifyNotCommitted();const r=$y(t,this._firestore),s=o1(r.converter,n,i),o=e1(this._dataReader,"WriteBatch.set",r._key,s,r.converter!==null,i);return this._mutations.push(o.toMutation(r._key,ar.none())),this}update(t,n,i,...r){this._verifyNotCommitted();const s=$y(t,this._firestore);let o;return o=typeof(n=Gn(n))=="string"||n instanceof Rh?OX(this._dataReader,"WriteBatch.update",s._key,n,i,r):RX(this._dataReader,"WriteBatch.update",s._key,n),this._mutations.push(o.toMutation(s._key,ar.exists(!0))),this}delete(t){this._verifyNotCommitted();const n=$y(t,this._firestore);return this._mutations=this._mutations.concat(new Vp(n._key,ar.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new We(ke.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function $y(e,t){if((e=Gn(e)).firestore!==t)throw new We(ke.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AA(e){return Dh(e=Er(e,Eo)),new jX(e,t=>qp(e,t))}(function(t,n=!0){(function(r){Fc=r})(Ra),Os(new ss("firestore",(i,{instanceIdentifier:r,options:s})=>{const o=i.getProvider("app").getImmediate(),a=new Eo(new Hq(i.getProvider("auth-internal")),new qq(i.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new We(ke.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new If(u.options.projectId,d)}(o,r),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),wr(jI,"4.7.2",t),wr(jI,"4.7.2","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oL="firebasestorage.googleapis.com",HX="storageBucket",WX=2*60*1e3,zX=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us extends $s{constructor(t,n,i=0){super(By(t),`Firebase Storage: ${n} (${By(t)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Us.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return By(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Ns;(function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Ns||(Ns={}));function By(e){return"storage/"+e}function GX(){const e="An unknown error occurred, please check the error payload for server response.";return new Us(Ns.UNKNOWN,e)}function qX(){return new Us(Ns.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function YX(){return new Us(Ns.CANCELED,"User canceled the upload/download.")}function KX(e){return new Us(Ns.INVALID_URL,"Invalid URL '"+e+"'.")}function XX(e){return new Us(Ns.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+e+"'.")}function PA(e){return new Us(Ns.INVALID_ARGUMENT,e)}function aL(){return new Us(Ns.APP_DELETED,"The Firebase app was deleted.")}function QX(e){return new Us(Ns.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr{constructor(t,n){this.bucket=t,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,n){let i;try{i=Qr.makeFromUrl(t,n)}catch{return new Qr(t,"")}if(i.path==="")return i;throw XX(t)}static makeFromUrl(t,n){let i=null;const r="([A-Za-z0-9.\\-_]+)";function s(k){k.path.charAt(k.path.length-1)==="/"&&(k.path_=k.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+r+o,"i"),l={bucket:1,path:3};function u(k){k.path_=decodeURIComponent(k.path)}const d="v[A-Za-z0-9_]+",c=n.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",v=new RegExp(`^https?://${c}/${d}/b/${r}/o${f}`,"i"),g={bucket:1,path:3},p=n===oL?"(?:storage.googleapis.com|storage.cloud.google.com)":n,_="([^?#]*)",y=new RegExp(`^https?://${p}/${r}/${_}`,"i"),E=[{regex:a,indices:l,postModify:s},{regex:v,indices:g,postModify:u},{regex:y,indices:{bucket:1,path:2},postModify:u}];for(let k=0;k<E.length;k++){const R=E[k],O=R.regex.exec(t);if(O){const D=O[R.indices.bucket];let S=O[R.indices.path];S||(S=""),i=new Qr(D,S),R.postModify(i);break}}if(i==null)throw KX(t);return i}}class JX{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZX(e,t,n){let i=1,r=null,s=null,o=!1,a=0;function l(){return a===2}let u=!1;function d(..._){u||(u=!0,t.apply(null,_))}function c(_){r=setTimeout(()=>{r=null,e(v,l())},_)}function f(){s&&clearTimeout(s)}function v(_,...y){if(u){f();return}if(_){f(),d.call(null,_,...y);return}if(l()||o){f(),d.call(null,_,...y);return}i<64&&(i*=2);let E;a===1?(a=2,E=0):E=(i+Math.random())*1e3,c(E)}let g=!1;function p(_){g||(g=!0,f(),!u&&(r!==null?(_||(a=2),clearTimeout(r),c(0)):_||(a=1)))}return c(0),s=setTimeout(()=>{o=!0,p(!0)},n),p}function eQ(e){e(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tQ(e){return e!==void 0}function xA(e,t,n,i){if(i<t)throw PA(`Invalid value for '${e}'. Expected ${t} or greater.`);if(i>n)throw PA(`Invalid value for '${e}'. Expected ${n} or less.`)}function nQ(e){const t=encodeURIComponent;let n="?";for(const i in e)if(e.hasOwnProperty(i)){const r=t(i)+"="+t(e[i]);n=n+r+"&"}return n=n.slice(0,-1),n}var lg;(function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"})(lg||(lg={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iQ(e,t){const n=e>=500&&e<600,r=[408,429].indexOf(e)!==-1,s=t.indexOf(e)!==-1;return n||r||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rQ{constructor(t,n,i,r,s,o,a,l,u,d,c,f=!0){this.url_=t,this.method_=n,this.headers_=i,this.body_=r,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=d,this.connectionFactory_=c,this.retry=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((v,g)=>{this.resolve_=v,this.reject_=g,this.start_()})}start_(){const t=(i,r)=>{if(r){i(!1,new Av(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const l=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===lg.NO_ERROR,l=s.getStatus();if(!a||iQ(l,this.additionalRetryCodes_)&&this.retry){const d=s.getErrorCode()===lg.ABORT;i(!1,new Av(!1,null,d));return}const u=this.successCodes_.indexOf(l)!==-1;i(!0,new Av(u,s))})},n=(i,r)=>{const s=this.resolve_,o=this.reject_,a=r.connection;if(r.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());tQ(l)?s(l):s()}catch(l){o(l)}else if(a!==null){const l=GX();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(r.canceled){const l=this.appDelete_?aL():YX();o(l)}else{const l=qX();o(l)}};this.canceled_?n(!1,new Av(!1,null,!0)):this.backoffId_=ZX(t,n,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&eQ(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Av{constructor(t,n,i){this.wasSuccessCode=t,this.connection=n,this.canceled=!!i}}function sQ(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function oQ(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function aQ(e,t){t&&(e["X-Firebase-GMPID"]=t)}function lQ(e,t){t!==null&&(e["X-Firebase-AppCheck"]=t)}function uQ(e,t,n,i,r,s,o=!0){const a=nQ(e.urlParams),l=e.url+a,u=Object.assign({},e.headers);return aQ(u,t),sQ(u,n),oQ(u,s),lQ(u,i),new rQ(l,e.method,u,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,r,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cQ(e){if(e.length===0)return null;const t=e.lastIndexOf("/");return t===-1?"":e.slice(0,t)}function dQ(e){const t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fQ=class E0{constructor(t,n){this._service=t,n instanceof Qr?this._location=n:this._location=Qr.makeFromUrl(n,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,n){return new E0(t,n)}get root(){const t=new Qr(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return dQ(this._location.path)}get storage(){return this._service}get parent(){const t=cQ(this._location.path);if(t===null)return null;const n=new Qr(this._location.bucket,t);return new E0(this._service,n)}_throwIfRoot(t){if(this._location.path==="")throw QX(t)}};function DA(e,t){const n=t==null?void 0:t[HX];return n==null?null:Qr.makeFromBucketSpec(n,e)}class hQ{constructor(t,n,i,r,s){this.app=t,this._authProvider=n,this._appCheckProvider=i,this._url=r,this._firebaseVersion=s,this._bucket=null,this._host=oL,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=WX,this._maxUploadRetryTime=zX,this._requests=new Set,r!=null?this._bucket=Qr.makeFromBucketSpec(r,this._host):this._bucket=DA(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=Qr.makeFromBucketSpec(this._url,t):this._bucket=DA(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){xA("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){xA("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const n=await t.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new fQ(this,t)}_makeRequest(t,n,i,r,s=!0){if(this._deleted)return new JX(aL());{const o=uQ(t,this._appId,i,r,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(t,n){const[i,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,n,i,r).getPromise()}}const RA="@firebase/storage",OA="0.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vQ="storage";function mQ(e,{instanceIdentifier:t}){const n=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),r=e.getProvider("app-check-internal");return new hQ(n,i,r,t,Ra)}function gQ(){Os(new ss(vQ,mQ,"PUBLIC").setMultipleInstances(!0)),wr(RA,OA,""),wr(RA,OA,"esm2017")}gQ();const Uy=new WeakMap;function lL(e,t){return Uy.has(t)||Uy.set(t,{f:{},r:{},s:{},u:{}}),Uy.get(t)}function pQ(e,t,n,i){if(!e)return n;const[r,s]=uL(e);if(!r)return n;const o=lL(void 0,i)[r]||{},a=t||s;return a&&a in o?o[a]:n}function _Q(e,t,n,i){if(!e)return;const[r,s]=uL(e);if(!r)return;const o=lL(void 0,i)[r],a=t||s;if(a)return n.then(l=>{o[a]=l}).catch(ys),a}function uL(e){return q8(e)||Y8(e)?["f",e.path]:K8(e)?["r",e.toString()]:X8(e)?["s",e.toString()]:[]}const jy=new WeakMap;function yQ(e,t,n){const i=yh();jy.has(i)||jy.set(i,new Map);const r=jy.get(i),s=_Q(t,n,e,i);return s&&r.set(s,e),s?()=>r.delete(s):ys}const bQ={toFirestore(e){return e},fromFirestore(e,t){return e.exists()?Object.defineProperties(e.data(t),{id:{value:e.id}}):null}};function C0(e,t,n,i){if(!z8(e))return[e,{}];const r=[{},{}],s=Object.keys(n).reduce((a,l)=>{const u=n[l];return a[u.path]=u.data(),a},{});function o(a,l,u,d){l=l||{};const[c,f]=d;Object.getOwnPropertyNames(a).forEach(v=>{const g=Object.getOwnPropertyDescriptor(a,v);g&&!g.enumerable&&Object.defineProperty(c,v,g)});for(const v in a){const g=a[v];if(g==null||g instanceof Date||g instanceof Et||g instanceof Up)c[v]=g;else if(iE(g)){const p=u+v;c[v]=p in n?l[v]:g.path,f[p]=g.converter?g:g.withConverter(i.converter)}else if(Array.isArray(g)){c[v]=Array(g.length);for(let p=0;p<g.length;p++){const _=g[p];_&&_.path in s&&(c[v][p]=s[_.path])}o(g,l[v]||c[v],u+v+".",[c[v],f])}else ql(g)?(c[v]={},o(g,l[v],u+v+".",[c[v],f])):c[v]=g}}return o(e,t,"",r),r}const u1={reset:!1,wait:!0,maxRefDepth:2,converter:bQ,snapshotOptions:{serverTimestamps:"estimate"}};function ug(e){for(const t in e)e[t].unsub()}function k0(e,t,n,i,r,s,o,a,l){const[u,d]=C0(i.data(e.snapshotOptions),nE(t,n),r,e);s.set(t,n,u),T0(e,t,n,r,d,s,o,a,l)}function wQ({ref:e,target:t,path:n,depth:i,resolve:r,reject:s,ops:o},a){const l=Object.create(null);let u=ys;return a.once?a1(e).then(d=>{d.exists()?k0(a,t,n,d,l,o,i,r,s):(o.set(t,n,null),r())}).catch(s):u=Gp(e,d=>{d.exists()?k0(a,t,n,d,l,o,i,r,s):(o.set(t,n,null),r())},s),()=>{u(),ug(l)}}function T0(e,t,n,i,r,s,o,a,l){const u=Object.keys(r);if(Object.keys(i).filter(p=>u.indexOf(p)<0).forEach(p=>{i[p].unsub(),delete i[p]}),!u.length||++o>e.maxRefDepth)return a(n);let c=0;const f=u.length,v=Object.create(null);function g(p){p in v&&++c>=f&&a(n)}u.forEach(p=>{const _=i[p],y=r[p],b=`${n}.${p}`;if(v[b]=!0,_)if(_.path!==y.path)_.unsub();else return;i[p]={data:()=>nE(t,b),unsub:wQ({ref:y,target:t,path:b,depth:o,ops:s,resolve:g.bind(null,b),reject:l},e),path:y.path}})}function SQ(e,t,n,i,r,s){const o=Object.assign({},u1,s),{snapshotListenOptions:a,snapshotOptions:l,wait:u,once:d}=o,c="value";let f=z(u?[]:e.value);u||n.set(e,c,[]);const v=i;let g,p=ys;const _=[],y={added:({newIndex:E,doc:k})=>{_.splice(E,0,Object.create(null));const R=_[E],[O,D]=C0(k.data(l),void 0,R,o);n.add(fn(f),E,O),T0(o,f,`${c}.${E}`,R,D,n,0,i.bind(null,k),r)},modified:({oldIndex:E,newIndex:k,doc:R})=>{const O=fn(f),D=_[E],S=O[E],[w,C]=C0(R.data(l),S,D,o);_.splice(k,0,D),n.remove(O,E),n.add(O,k,w),T0(o,f,`${c}.${k}`,D,C,n,0,i,r)},removed:({oldIndex:E})=>{const k=fn(f);n.remove(k,E),ug(_.splice(E,1)[0])}};function b(E){const k=E.docChanges(a);if(!g&&k.length){g=!0;let R=0;const O=k.length,D=Object.create(null);for(let S=0;S<O;S++)D[k[S].doc.id]=!0;i=S=>{S&&S.id in D&&++R>=O&&(u&&(n.set(e,c,fn(f)),f=e),v(fn(f)),i=ys)}}k.forEach(R=>{y[R.type](R)}),k.length||(u&&(n.set(e,c,fn(f)),f=e),i(fn(f)))}return d?S0(t).then(b).catch(r):p=Gp(t,b,r),E=>{if(p(),E){const k=typeof E=="function"?E():[];n.set(e,c,k)}_.forEach(ug)}}function EQ(e,t,n,i,r,s){const o=Object.assign({},u1,s),a="value",l=Object.create(null);i=Q8(i,()=>nE(e,a));let u=ys;function d(c){c.exists()?k0(o,e,a,c,l,n,0,i,r):(n.set(e,a,null),i(null))}return o.once?a1(t).then(d).catch(r):u=Gp(t,d,r),c=>{if(u(),c){const f=typeof c=="function"?c():null;n.set(e,a,f)}ug(l)}}const VA=Symbol();function CQ(e,t){let n=ys;const i=Object.assign({},u1,t),r=fn(e),s=i.target||z();Z8()&&(i.once=!0);const o=pQ(r,i.ssrKey,VA,yh()),a=o!==VA;a&&(s.value=o);let l=!a;const u=z(!1),d=z(),c=Te(),f=WR();let v=ys;function g(){let y=fn(e);const b=new Promise((E,k)=>{if(n(i.reset),!y)return n=ys,E(null);u.value=l,l=!0,y.converter||(y=y.withConverter(i.converter)),n=(iE(y)?EQ:SQ)(s,y,kQ,E,k,i)}).catch(E=>(c.value===b&&(d.value=E),Promise.reject(E))).finally(()=>{c.value===b&&(u.value=!1)});c.value=b}let p=ys;(Qe(e)||typeof e=="function")&&(p=ge(e,g)),g(),r&&(v=yQ(c.value,r,i.ssrKey)),Gl()&&IO(()=>c.value),f&&Ci(_);function _(y=i.reset){p(),v(),n(y)}return Object.defineProperties(s,{error:{get:()=>d},data:{get:()=>s},pending:{get:()=>u},promise:{get:()=>c},stop:{get:()=>_}})}const kQ={set:(e,t,n)=>H8(e,t,n),add:(e,t,n)=>e.splice(t,0,n),remove:(e,t)=>e.splice(t,1)};function Yp(e,t){return CQ(e,t)}function I0(e){return z2(yh(e))}function TQ(e){return IQ({initialUser:e,dependencies:{popupRedirectResolver:_N,persistence:[vN,lN,ZS]}})}const cL=Symbol("VueFireAuth");function IQ({dependencies:e,initialUser:t}){return(n,i)=>{const[r,s]=AQ(n,i,t,e);t7(r,s)}}function AQ(e,t,n,i,r=ZV(e,i)){const s=e7(e,t).run(()=>z(n));return SN.set(e,s),t.provide(cL,r),[s,r]}function dL(e){return j8?st(cL):null}function PQ(e,{firebaseApp:t,modules:n=[]}){e.provide(wN,t);for(const i of n)i(t,e)}/*!
  * vue-router v4.4.5
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const Ou=typeof document<"u";function fL(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function xQ(e){return e.__esModule||e[Symbol.toStringTag]==="Module"||e.default&&fL(e.default)}const Qt=Object.assign;function Hy(e,t){const n={};for(const i in t){const r=t[i];n[i]=ls(r)?r.map(e):e(r)}return n}const tf=()=>{},ls=Array.isArray,hL=/#/g,DQ=/&/g,RQ=/\//g,OQ=/=/g,VQ=/\?/g,vL=/\+/g,NQ=/%5B/g,MQ=/%5D/g,mL=/%5E/g,LQ=/%60/g,gL=/%7B/g,FQ=/%7C/g,pL=/%7D/g,$Q=/%20/g;function c1(e){return encodeURI(""+e).replace(FQ,"|").replace(NQ,"[").replace(MQ,"]")}function BQ(e){return c1(e).replace(gL,"{").replace(pL,"}").replace(mL,"^")}function A0(e){return c1(e).replace(vL,"%2B").replace($Q,"+").replace(hL,"%23").replace(DQ,"%26").replace(LQ,"`").replace(gL,"{").replace(pL,"}").replace(mL,"^")}function UQ(e){return A0(e).replace(OQ,"%3D")}function jQ(e){return c1(e).replace(hL,"%23").replace(VQ,"%3F")}function HQ(e){return e==null?"":jQ(e).replace(RQ,"%2F")}function Rf(e){try{return decodeURIComponent(""+e)}catch{}return""+e}const WQ=/\/$/,zQ=e=>e.replace(WQ,"");function Wy(e,t,n="/"){let i,r={},s="",o="";const a=t.indexOf("#");let l=t.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(i=t.slice(0,l),s=t.slice(l+1,a>-1?a:t.length),r=e(s)),a>-1&&(i=i||t.slice(0,a),o=t.slice(a,t.length)),i=KQ(i??t,n),{fullPath:i+(s&&"?")+s+o,path:i,query:r,hash:Rf(o)}}function GQ(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function NA(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function qQ(e,t,n){const i=t.matched.length-1,r=n.matched.length-1;return i>-1&&i===r&&pc(t.matched[i],n.matched[r])&&_L(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function pc(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function _L(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!YQ(e[n],t[n]))return!1;return!0}function YQ(e,t){return ls(e)?MA(e,t):ls(t)?MA(t,e):e===t}function MA(e,t){return ls(t)?e.length===t.length&&e.every((n,i)=>n===t[i]):e.length===1&&e[0]===t}function KQ(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),i=e.split("/"),r=i[i.length-1];(r===".."||r===".")&&i.push("");let s=n.length-1,o,a;for(o=0;o<i.length;o++)if(a=i[o],a!==".")if(a==="..")s>1&&s--;else break;return n.slice(0,s).join("/")+"/"+i.slice(o).join("/")}const Wo={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var Of;(function(e){e.pop="pop",e.push="push"})(Of||(Of={}));var nf;(function(e){e.back="back",e.forward="forward",e.unknown=""})(nf||(nf={}));function XQ(e){if(!e)if(Ou){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),zQ(e)}const QQ=/^[^#]+#/;function JQ(e,t){return e.replace(QQ,"#")+t}function ZQ(e,t){const n=document.documentElement.getBoundingClientRect(),i=e.getBoundingClientRect();return{behavior:t.behavior,left:i.left-n.left-(t.left||0),top:i.top-n.top-(t.top||0)}}const Kp=()=>({left:window.scrollX,top:window.scrollY});function eJ(e){let t;if("el"in e){const n=e.el,i=typeof n=="string"&&n.startsWith("#"),r=typeof n=="string"?i?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!r)return;t=ZQ(r,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function LA(e,t){return(history.state?history.state.position-t:-1)+e}const P0=new Map;function tJ(e,t){P0.set(e,t)}function nJ(e){const t=P0.get(e);return P0.delete(e),t}let iJ=()=>location.protocol+"//"+location.host;function yL(e,t){const{pathname:n,search:i,hash:r}=t,s=e.indexOf("#");if(s>-1){let a=r.includes(e.slice(s))?e.slice(s).length:1,l=r.slice(a);return l[0]!=="/"&&(l="/"+l),NA(l,"")}return NA(n,e)+i+r}function rJ(e,t,n,i){let r=[],s=[],o=null;const a=({state:f})=>{const v=yL(e,location),g=n.value,p=t.value;let _=0;if(f){if(n.value=v,t.value=f,o&&o===g){o=null;return}_=p?f.position-p.position:0}else i(v);r.forEach(y=>{y(n.value,g,{delta:_,type:Of.pop,direction:_?_>0?nf.forward:nf.back:nf.unknown})})};function l(){o=n.value}function u(f){r.push(f);const v=()=>{const g=r.indexOf(f);g>-1&&r.splice(g,1)};return s.push(v),v}function d(){const{history:f}=window;f.state&&f.replaceState(Qt({},f.state,{scroll:Kp()}),"")}function c(){for(const f of s)f();s=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",d)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",d,{passive:!0}),{pauseListeners:l,listen:u,destroy:c}}function FA(e,t,n,i=!1,r=!1){return{back:e,current:t,forward:n,replaced:i,position:window.history.length,scroll:r?Kp():null}}function sJ(e){const{history:t,location:n}=window,i={value:yL(e,n)},r={value:t.state};r.value||s(i.value,{back:null,current:i.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function s(l,u,d){const c=e.indexOf("#"),f=c>-1?(n.host&&document.querySelector("base")?e:e.slice(c))+l:iJ()+e+l;try{t[d?"replaceState":"pushState"](u,"",f),r.value=u}catch(v){console.error(v),n[d?"replace":"assign"](f)}}function o(l,u){const d=Qt({},t.state,FA(r.value.back,l,r.value.forward,!0),u,{position:r.value.position});s(l,d,!0),i.value=l}function a(l,u){const d=Qt({},r.value,t.state,{forward:l,scroll:Kp()});s(d.current,d,!0);const c=Qt({},FA(i.value,l,null),{position:d.position+1},u);s(l,c,!1),i.value=l}return{location:i,state:r,push:a,replace:o}}function oJ(e){e=XQ(e);const t=sJ(e),n=rJ(e,t.state,t.location,t.replace);function i(s,o=!0){o||n.pauseListeners(),history.go(s)}const r=Qt({location:"",base:e,go:i,createHref:JQ.bind(null,e)},t,n);return Object.defineProperty(r,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(r,"state",{enumerable:!0,get:()=>t.state.value}),r}function aJ(e){return e=location.host?e||location.pathname+location.search:"",e.includes("#")||(e+="#"),oJ(e)}function lJ(e){return typeof e=="string"||e&&typeof e=="object"}function bL(e){return typeof e=="string"||typeof e=="symbol"}const wL=Symbol("");var $A;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})($A||($A={}));function _c(e,t){return Qt(new Error,{type:e,[wL]:!0},t)}function Qs(e,t){return e instanceof Error&&wL in e&&(t==null||!!(e.type&t))}const BA="[^/]+?",uJ={sensitive:!1,strict:!1,start:!0,end:!0},cJ=/[.+*?^${}()[\]/\\]/g;function dJ(e,t){const n=Qt({},uJ,t),i=[];let r=n.start?"^":"";const s=[];for(const u of e){const d=u.length?[]:[90];n.strict&&!u.length&&(r+="/");for(let c=0;c<u.length;c++){const f=u[c];let v=40+(n.sensitive?.25:0);if(f.type===0)c||(r+="/"),r+=f.value.replace(cJ,"\\$&"),v+=40;else if(f.type===1){const{value:g,repeatable:p,optional:_,regexp:y}=f;s.push({name:g,repeatable:p,optional:_});const b=y||BA;if(b!==BA){v+=10;try{new RegExp(`(${b})`)}catch(k){throw new Error(`Invalid custom RegExp for param "${g}" (${b}): `+k.message)}}let E=p?`((?:${b})(?:/(?:${b}))*)`:`(${b})`;c||(E=_&&u.length<2?`(?:/${E})`:"/"+E),_&&(E+="?"),r+=E,v+=20,_&&(v+=-8),p&&(v+=-20),b===".*"&&(v+=-50)}d.push(v)}i.push(d)}if(n.strict&&n.end){const u=i.length-1;i[u][i[u].length-1]+=.7000000000000001}n.strict||(r+="/?"),n.end?r+="$":n.strict&&(r+="(?:/|$)");const o=new RegExp(r,n.sensitive?"":"i");function a(u){const d=u.match(o),c={};if(!d)return null;for(let f=1;f<d.length;f++){const v=d[f]||"",g=s[f-1];c[g.name]=v&&g.repeatable?v.split("/"):v}return c}function l(u){let d="",c=!1;for(const f of e){(!c||!d.endsWith("/"))&&(d+="/"),c=!1;for(const v of f)if(v.type===0)d+=v.value;else if(v.type===1){const{value:g,repeatable:p,optional:_}=v,y=g in u?u[g]:"";if(ls(y)&&!p)throw new Error(`Provided param "${g}" is an array but it is not repeatable (* or + modifiers)`);const b=ls(y)?y.join("/"):y;if(!b)if(_)f.length<2&&(d.endsWith("/")?d=d.slice(0,-1):c=!0);else throw new Error(`Missing required param "${g}"`);d+=b}}return d||"/"}return{re:o,score:i,keys:s,parse:a,stringify:l}}function fJ(e,t){let n=0;for(;n<e.length&&n<t.length;){const i=t[n]-e[n];if(i)return i;n++}return e.length<t.length?e.length===1&&e[0]===80?-1:1:e.length>t.length?t.length===1&&t[0]===80?1:-1:0}function SL(e,t){let n=0;const i=e.score,r=t.score;for(;n<i.length&&n<r.length;){const s=fJ(i[n],r[n]);if(s)return s;n++}if(Math.abs(r.length-i.length)===1){if(UA(i))return 1;if(UA(r))return-1}return r.length-i.length}function UA(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const hJ={type:0,value:""},vJ=/[a-zA-Z0-9_]/;function mJ(e){if(!e)return[[]];if(e==="/")return[[hJ]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(v){throw new Error(`ERR (${n})/"${u}": ${v}`)}let n=0,i=n;const r=[];let s;function o(){s&&r.push(s),s=[]}let a=0,l,u="",d="";function c(){u&&(n===0?s.push({type:0,value:u}):n===1||n===2||n===3?(s.length>1&&(l==="*"||l==="+")&&t(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),s.push({type:1,value:u,regexp:d,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):t("Invalid state to consume buffer"),u="")}function f(){u+=l}for(;a<e.length;){if(l=e[a++],l==="\\"&&n!==2){i=n,n=4;continue}switch(n){case 0:l==="/"?(u&&c(),o()):l===":"?(c(),n=1):f();break;case 4:f(),n=i;break;case 1:l==="("?n=2:vJ.test(l)?f():(c(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?d[d.length-1]=="\\"?d=d.slice(0,-1)+l:n=3:d+=l;break;case 3:c(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,d="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${u}"`),c(),o(),r}function gJ(e,t,n){const i=dJ(mJ(e.path),n),r=Qt(i,{record:e,parent:t,children:[],alias:[]});return t&&!r.record.aliasOf==!t.record.aliasOf&&t.children.push(r),r}function pJ(e,t){const n=[],i=new Map;t=zA({strict:!1,end:!0,sensitive:!1},t);function r(c){return i.get(c)}function s(c,f,v){const g=!v,p=HA(c);p.aliasOf=v&&v.record;const _=zA(t,c),y=[p];if("alias"in c){const k=typeof c.alias=="string"?[c.alias]:c.alias;for(const R of k)y.push(HA(Qt({},p,{components:v?v.record.components:p.components,path:R,aliasOf:v?v.record:p})))}let b,E;for(const k of y){const{path:R}=k;if(f&&R[0]!=="/"){const O=f.record.path,D=O[O.length-1]==="/"?"":"/";k.path=f.record.path+(R&&D+R)}if(b=gJ(k,f,_),v?v.alias.push(b):(E=E||b,E!==b&&E.alias.push(b),g&&c.name&&!WA(b)&&o(c.name)),EL(b)&&l(b),p.children){const O=p.children;for(let D=0;D<O.length;D++)s(O[D],b,v&&v.children[D])}v=v||b}return E?()=>{o(E)}:tf}function o(c){if(bL(c)){const f=i.get(c);f&&(i.delete(c),n.splice(n.indexOf(f),1),f.children.forEach(o),f.alias.forEach(o))}else{const f=n.indexOf(c);f>-1&&(n.splice(f,1),c.record.name&&i.delete(c.record.name),c.children.forEach(o),c.alias.forEach(o))}}function a(){return n}function l(c){const f=bJ(c,n);n.splice(f,0,c),c.record.name&&!WA(c)&&i.set(c.record.name,c)}function u(c,f){let v,g={},p,_;if("name"in c&&c.name){if(v=i.get(c.name),!v)throw _c(1,{location:c});_=v.record.name,g=Qt(jA(f.params,v.keys.filter(E=>!E.optional).concat(v.parent?v.parent.keys.filter(E=>E.optional):[]).map(E=>E.name)),c.params&&jA(c.params,v.keys.map(E=>E.name))),p=v.stringify(g)}else if(c.path!=null)p=c.path,v=n.find(E=>E.re.test(p)),v&&(g=v.parse(p),_=v.record.name);else{if(v=f.name?i.get(f.name):n.find(E=>E.re.test(f.path)),!v)throw _c(1,{location:c,currentLocation:f});_=v.record.name,g=Qt({},f.params,c.params),p=v.stringify(g)}const y=[];let b=v;for(;b;)y.unshift(b.record),b=b.parent;return{name:_,path:p,params:g,matched:y,meta:yJ(y)}}e.forEach(c=>s(c));function d(){n.length=0,i.clear()}return{addRoute:s,resolve:u,removeRoute:o,clearRoutes:d,getRoutes:a,getRecordMatcher:r}}function jA(e,t){const n={};for(const i of t)i in e&&(n[i]=e[i]);return n}function HA(e){const t={path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:e.aliasOf,beforeEnter:e.beforeEnter,props:_J(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function _J(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const i in e.components)t[i]=typeof n=="object"?n[i]:n;return t}function WA(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function yJ(e){return e.reduce((t,n)=>Qt(t,n.meta),{})}function zA(e,t){const n={};for(const i in e)n[i]=i in t?t[i]:e[i];return n}function bJ(e,t){let n=0,i=t.length;for(;n!==i;){const s=n+i>>1;SL(e,t[s])<0?i=s:n=s+1}const r=wJ(e);return r&&(i=t.lastIndexOf(r,i-1)),i}function wJ(e){let t=e;for(;t=t.parent;)if(EL(t)&&SL(e,t)===0)return t}function EL({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function SJ(e){const t={};if(e===""||e==="?")return t;const i=(e[0]==="?"?e.slice(1):e).split("&");for(let r=0;r<i.length;++r){const s=i[r].replace(vL," "),o=s.indexOf("="),a=Rf(o<0?s:s.slice(0,o)),l=o<0?null:Rf(s.slice(o+1));if(a in t){let u=t[a];ls(u)||(u=t[a]=[u]),u.push(l)}else t[a]=l}return t}function GA(e){let t="";for(let n in e){const i=e[n];if(n=UQ(n),i==null){i!==void 0&&(t+=(t.length?"&":"")+n);continue}(ls(i)?i.map(s=>s&&A0(s)):[i&&A0(i)]).forEach(s=>{s!==void 0&&(t+=(t.length?"&":"")+n,s!=null&&(t+="="+s))})}return t}function EJ(e){const t={};for(const n in e){const i=e[n];i!==void 0&&(t[n]=ls(i)?i.map(r=>r==null?null:""+r):i==null?i:""+i)}return t}const CJ=Symbol(""),qA=Symbol(""),Xp=Symbol(""),d1=Symbol(""),x0=Symbol("");function Ed(){let e=[];function t(i){return e.push(i),()=>{const r=e.indexOf(i);r>-1&&e.splice(r,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function Xo(e,t,n,i,r,s=o=>o()){const o=i&&(i.enterCallbacks[r]=i.enterCallbacks[r]||[]);return()=>new Promise((a,l)=>{const u=f=>{f===!1?l(_c(4,{from:n,to:t})):f instanceof Error?l(f):lJ(f)?l(_c(2,{from:t,to:f})):(o&&i.enterCallbacks[r]===o&&typeof f=="function"&&o.push(f),a())},d=s(()=>e.call(i&&i.instances[r],t,n,u));let c=Promise.resolve(d);e.length<3&&(c=c.then(u)),c.catch(f=>l(f))})}function zy(e,t,n,i,r=s=>s()){const s=[];for(const o of e)for(const a in o.components){let l=o.components[a];if(!(t!=="beforeRouteEnter"&&!o.instances[a]))if(fL(l)){const d=(l.__vccOpts||l)[t];d&&s.push(Xo(d,n,i,o,a,r))}else{let u=l();s.push(()=>u.then(d=>{if(!d)throw new Error(`Couldn't resolve component "${a}" at "${o.path}"`);const c=xQ(d)?d.default:d;o.mods[a]=d,o.components[a]=c;const v=(c.__vccOpts||c)[t];return v&&Xo(v,n,i,o,a,r)()}))}}return s}function YA(e){const t=st(Xp),n=st(d1),i=I(()=>{const l=se(e.to);return t.resolve(l)}),r=I(()=>{const{matched:l}=i.value,{length:u}=l,d=l[u-1],c=n.matched;if(!d||!c.length)return-1;const f=c.findIndex(pc.bind(null,d));if(f>-1)return f;const v=KA(l[u-2]);return u>1&&KA(d)===v&&c[c.length-1].path!==v?c.findIndex(pc.bind(null,l[u-2])):f}),s=I(()=>r.value>-1&&AJ(n.params,i.value.params)),o=I(()=>r.value>-1&&r.value===n.matched.length-1&&_L(n.params,i.value.params));function a(l={}){return IJ(l)?t[se(e.replace)?"replace":"push"](se(e.to)).catch(tf):Promise.resolve()}return{route:i,href:I(()=>i.value.href),isActive:s,isExactActive:o,navigate:a}}const kJ=Tt({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:YA,setup(e,{slots:t}){const n=cn(YA(e)),{options:i}=st(Xp),r=I(()=>({[XA(e.activeClass,i.linkActiveClass,"router-link-active")]:n.isActive,[XA(e.exactActiveClass,i.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const s=t.default&&t.default(n);return e.custom?s:ni("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:r.value},s)}}}),TJ=kJ;function IJ(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function AJ(e,t){for(const n in t){const i=t[n],r=e[n];if(typeof i=="string"){if(i!==r)return!1}else if(!ls(r)||r.length!==i.length||i.some((s,o)=>s!==r[o]))return!1}return!0}function KA(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const XA=(e,t,n)=>e??t??n,PJ=Tt({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const i=st(x0),r=I(()=>e.route||i.value),s=st(qA,0),o=I(()=>{let u=se(s);const{matched:d}=r.value;let c;for(;(c=d[u])&&!c.components;)u++;return u}),a=I(()=>r.value.matched[o.value]);Ut(qA,I(()=>o.value+1)),Ut(CJ,a),Ut(x0,r);const l=z();return ge(()=>[l.value,a.value,e.name],([u,d,c],[f,v,g])=>{d&&(d.instances[c]=u,v&&v!==d&&u&&u===f&&(d.leaveGuards.size||(d.leaveGuards=v.leaveGuards),d.updateGuards.size||(d.updateGuards=v.updateGuards))),u&&d&&(!v||!pc(d,v)||!f)&&(d.enterCallbacks[c]||[]).forEach(p=>p(u))},{flush:"post"}),()=>{const u=r.value,d=e.name,c=a.value,f=c&&c.components[d];if(!f)return QA(n.default,{Component:f,route:u});const v=c.props[d],g=v?v===!0?u.params:typeof v=="function"?v(u):v:null,_=ni(f,Qt({},g,t,{onVnodeUnmounted:y=>{y.component.isUnmounted&&(c.instances[d]=null)},ref:l}));return QA(n.default,{Component:_,route:u})||_}}});function QA(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const xJ=PJ;function DJ(e){const t=pJ(e.routes,e),n=e.parseQuery||SJ,i=e.stringifyQuery||GA,r=e.history,s=Ed(),o=Ed(),a=Ed(),l=Te(Wo);let u=Wo;Ou&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const d=Hy.bind(null,B=>""+B),c=Hy.bind(null,HQ),f=Hy.bind(null,Rf);function v(B,q){let ie,ce;return bL(B)?(ie=t.getRecordMatcher(B),ce=q):ce=B,t.addRoute(ce,ie)}function g(B){const q=t.getRecordMatcher(B);q&&t.removeRoute(q)}function p(){return t.getRoutes().map(B=>B.record)}function _(B){return!!t.getRecordMatcher(B)}function y(B,q){if(q=Qt({},q||l.value),typeof B=="string"){const L=Wy(n,B,q.path),ee=t.resolve({path:L.path},q),fe=r.createHref(L.fullPath);return Qt(L,ee,{params:f(ee.params),hash:Rf(L.hash),redirectedFrom:void 0,href:fe})}let ie;if(B.path!=null)ie=Qt({},B,{path:Wy(n,B.path,q.path).path});else{const L=Qt({},B.params);for(const ee in L)L[ee]==null&&delete L[ee];ie=Qt({},B,{params:c(L)}),q.params=c(q.params)}const ce=t.resolve(ie,q),ne=B.hash||"";ce.params=d(f(ce.params));const Se=GQ(i,Qt({},B,{hash:BQ(ne),path:ce.path})),M=r.createHref(Se);return Qt({fullPath:Se,hash:ne,query:i===GA?EJ(B.query):B.query||{}},ce,{redirectedFrom:void 0,href:M})}function b(B){return typeof B=="string"?Wy(n,B,l.value.path):Qt({},B)}function E(B,q){if(u!==B)return _c(8,{from:q,to:B})}function k(B){return D(B)}function R(B){return k(Qt(b(B),{replace:!0}))}function O(B){const q=B.matched[B.matched.length-1];if(q&&q.redirect){const{redirect:ie}=q;let ce=typeof ie=="function"?ie(B):ie;return typeof ce=="string"&&(ce=ce.includes("?")||ce.includes("#")?ce=b(ce):{path:ce},ce.params={}),Qt({query:B.query,hash:B.hash,params:ce.path!=null?{}:B.params},ce)}}function D(B,q){const ie=u=y(B),ce=l.value,ne=B.state,Se=B.force,M=B.replace===!0,L=O(ie);if(L)return D(Qt(b(L),{state:typeof L=="object"?Qt({},ne,L.state):ne,force:Se,replace:M}),q||ie);const ee=ie;ee.redirectedFrom=q;let fe;return!Se&&qQ(i,ce,ie)&&(fe=_c(16,{to:ee,from:ce}),te(ce,ce,!0,!1)),(fe?Promise.resolve(fe):C(ee,ce)).catch(ae=>Qs(ae)?Qs(ae,2)?ae:G(ae):W(ae,ee,ce)).then(ae=>{if(ae){if(Qs(ae,2))return D(Qt({replace:M},b(ae.to),{state:typeof ae.to=="object"?Qt({},ne,ae.to.state):ne,force:Se}),q||ee)}else ae=P(ee,ce,!0,M,ne);return A(ee,ce,ae),ae})}function S(B,q){const ie=E(B,q);return ie?Promise.reject(ie):Promise.resolve()}function w(B){const q=Ae.values().next().value;return q&&typeof q.runWithContext=="function"?q.runWithContext(B):B()}function C(B,q){let ie;const[ce,ne,Se]=RJ(B,q);ie=zy(ce.reverse(),"beforeRouteLeave",B,q);for(const L of ce)L.leaveGuards.forEach(ee=>{ie.push(Xo(ee,B,q))});const M=S.bind(null,B,q);return ie.push(M),Q(ie).then(()=>{ie=[];for(const L of s.list())ie.push(Xo(L,B,q));return ie.push(M),Q(ie)}).then(()=>{ie=zy(ne,"beforeRouteUpdate",B,q);for(const L of ne)L.updateGuards.forEach(ee=>{ie.push(Xo(ee,B,q))});return ie.push(M),Q(ie)}).then(()=>{ie=[];for(const L of Se)if(L.beforeEnter)if(ls(L.beforeEnter))for(const ee of L.beforeEnter)ie.push(Xo(ee,B,q));else ie.push(Xo(L.beforeEnter,B,q));return ie.push(M),Q(ie)}).then(()=>(B.matched.forEach(L=>L.enterCallbacks={}),ie=zy(Se,"beforeRouteEnter",B,q,w),ie.push(M),Q(ie))).then(()=>{ie=[];for(const L of o.list())ie.push(Xo(L,B,q));return ie.push(M),Q(ie)}).catch(L=>Qs(L,8)?L:Promise.reject(L))}function A(B,q,ie){a.list().forEach(ce=>w(()=>ce(B,q,ie)))}function P(B,q,ie,ce,ne){const Se=E(B,q);if(Se)return Se;const M=q===Wo,L=Ou?history.state:{};ie&&(ce||M?r.replace(B.fullPath,Qt({scroll:M&&L&&L.scroll},ne)):r.push(B.fullPath,ne)),l.value=B,te(B,q,ie,M),G()}let x;function U(){x||(x=r.listen((B,q,ie)=>{if(!Ne.listening)return;const ce=y(B),ne=O(ce);if(ne){D(Qt(ne,{replace:!0}),ce).catch(tf);return}u=ce;const Se=l.value;Ou&&tJ(LA(Se.fullPath,ie.delta),Kp()),C(ce,Se).catch(M=>Qs(M,12)?M:Qs(M,2)?(D(M.to,ce).then(L=>{Qs(L,20)&&!ie.delta&&ie.type===Of.pop&&r.go(-1,!1)}).catch(tf),Promise.reject()):(ie.delta&&r.go(-ie.delta,!1),W(M,ce,Se))).then(M=>{M=M||P(ce,Se,!1),M&&(ie.delta&&!Qs(M,8)?r.go(-ie.delta,!1):ie.type===Of.pop&&Qs(M,20)&&r.go(-1,!1)),A(ce,Se,M)}).catch(tf)}))}let $=Ed(),j=Ed(),Y;function W(B,q,ie){G(B);const ce=j.list();return ce.length?ce.forEach(ne=>ne(B,q,ie)):console.error(B),Promise.reject(B)}function K(){return Y&&l.value!==Wo?Promise.resolve():new Promise((B,q)=>{$.add([B,q])})}function G(B){return Y||(Y=!B,U(),$.list().forEach(([q,ie])=>B?ie(B):q()),$.reset()),B}function te(B,q,ie,ce){const{scrollBehavior:ne}=e;if(!Ou||!ne)return Promise.resolve();const Se=!ie&&nJ(LA(B.fullPath,0))||(ce||!ie)&&history.state&&history.state.scroll||null;return ot().then(()=>ne(B,q,Se)).then(M=>M&&eJ(M)).catch(M=>W(M,B,q))}const oe=B=>r.go(B);let _e;const Ae=new Set,Ne={currentRoute:l,listening:!0,addRoute:v,removeRoute:g,clearRoutes:t.clearRoutes,hasRoute:_,getRoutes:p,resolve:y,options:e,push:k,replace:R,go:oe,back:()=>oe(-1),forward:()=>oe(1),beforeEach:s.add,beforeResolve:o.add,afterEach:a.add,onError:j.add,isReady:K,install(B){const q=this;B.component("RouterLink",TJ),B.component("RouterView",xJ),B.config.globalProperties.$router=q,Object.defineProperty(B.config.globalProperties,"$route",{enumerable:!0,get:()=>se(l)}),Ou&&!_e&&l.value===Wo&&(_e=!0,k(r.location).catch(ne=>{}));const ie={};for(const ne in Wo)Object.defineProperty(ie,ne,{get:()=>l.value[ne],enumerable:!0});B.provide(Xp,q),B.provide(d1,sO(ie)),B.provide(x0,l);const ce=B.unmount;Ae.add(B),B.unmount=function(){Ae.delete(B),Ae.size<1&&(u=Wo,x&&x(),x=null,l.value=Wo,_e=!1,Y=!1),ce()}}};function Q(B){return B.reduce((q,ie)=>q.then(()=>w(ie)),Promise.resolve())}return Ne}function RJ(e,t){const n=[],i=[],r=[],s=Math.max(t.matched.length,e.matched.length);for(let o=0;o<s;o++){const a=t.matched[o];a&&(e.matched.find(u=>pc(u,a))?i.push(a):n.push(a));const l=e.matched[o];l&&(t.matched.find(u=>pc(u,l))||r.push(l))}return[n,i,r]}function Vh(){return st(Xp)}function Qp(e){return st(d1)}function Ji(e,t){let n;function i(){n=uh(),n.run(()=>t.length?t(()=>{n==null||n.stop(),i()}):t())}ge(e,r=>{r&&!n?i():r||(n==null||n.stop(),n=void 0)},{immediate:!0}),Ci(()=>{n==null||n.stop()})}const Bt=typeof window<"u",f1=Bt&&"IntersectionObserver"in window,OJ=Bt&&("ontouchstart"in window||window.navigator.maxTouchPoints>0),JA=Bt&&"EyeDropper"in window;function ZA(e,t,n){VJ(e,t),t.set(e,n)}function VJ(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function NJ(e,t,n){return e.set(CL(e,t),n),n}function Ya(e,t){return e.get(CL(e,t))}function CL(e,t,n){if(typeof e=="function"?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")}function kL(e,t,n){const i=t.length-1;if(i<0)return e===void 0?n:e;for(let r=0;r<i;r++){if(e==null)return n;e=e[t[r]]}return e==null||e[t[i]]===void 0?n:e[t[i]]}function js(e,t){if(e===t)return!0;if(e instanceof Date&&t instanceof Date&&e.getTime()!==t.getTime()||e!==Object(e)||t!==Object(t))return!1;const n=Object.keys(e);return n.length!==Object.keys(t).length?!1:n.every(i=>js(e[i],t[i]))}function Ll(e,t,n){return e==null||!t||typeof t!="string"?n:e[t]!==void 0?e[t]:(t=t.replace(/\[(\w+)\]/g,".$1"),t=t.replace(/^\./,""),kL(e,t.split("."),n))}function jn(e,t,n){if(t===!0)return e===void 0?n:e;if(t==null||typeof t=="boolean")return n;if(e!==Object(e)){if(typeof t!="function")return n;const r=t(e,n);return typeof r>"u"?n:r}if(typeof t=="string")return Ll(e,t,n);if(Array.isArray(t))return kL(e,t,n);if(typeof t!="function")return n;const i=t(e,n);return typeof i>"u"?n:i}function br(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return Array.from({length:e},(n,i)=>t+i)}function Ve(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"px";if(!(e==null||e===""))return isNaN(+e)?String(e):isFinite(+e)?`${Number(e)}${t}`:void 0}function h1(e){return e!==null&&typeof e=="object"&&!Array.isArray(e)}function eP(e){let t;return e!==null&&typeof e=="object"&&((t=Object.getPrototypeOf(e))===Object.prototype||t===null)}function v1(e){if(e&&"$el"in e){const t=e.$el;return(t==null?void 0:t.nodeType)===Node.TEXT_NODE?t.nextElementSibling:t}return e}const tP=Object.freeze({enter:13,tab:9,delete:46,esc:27,space:32,up:38,down:40,left:37,right:39,end:35,home:36,del:46,backspace:8,insert:45,pageup:33,pagedown:34,shift:16}),D0=Object.freeze({enter:"Enter",tab:"Tab",delete:"Delete",esc:"Escape",space:"Space",up:"ArrowUp",down:"ArrowDown",left:"ArrowLeft",right:"ArrowRight",end:"End",home:"Home",del:"Delete",backspace:"Backspace",insert:"Insert",pageup:"PageUp",pagedown:"PageDown",shift:"Shift"});function TL(e){return Object.keys(e)}function ul(e,t){return t.every(n=>e.hasOwnProperty(n))}function m1(e,t){const n={},i=new Set(Object.keys(e));for(const r of t)i.has(r)&&(n[r]=e[r]);return n}function R0(e,t,n){const i=Object.create(null),r=Object.create(null);for(const s in e)t.some(o=>o instanceof RegExp?o.test(s):o===s)&&!(n!=null&&n.some(o=>o===s))?i[s]=e[s]:r[s]=e[s];return[i,r]}function zt(e,t){const n={...e};return t.forEach(i=>delete n[i]),n}function Jp(e,t){const n={};return t.forEach(i=>n[i]=e[i]),n}const IL=/^on[^a-z]/,Zp=e=>IL.test(e),MJ=["onAfterscriptexecute","onAnimationcancel","onAnimationend","onAnimationiteration","onAnimationstart","onAuxclick","onBeforeinput","onBeforescriptexecute","onChange","onClick","onCompositionend","onCompositionstart","onCompositionupdate","onContextmenu","onCopy","onCut","onDblclick","onFocusin","onFocusout","onFullscreenchange","onFullscreenerror","onGesturechange","onGestureend","onGesturestart","onGotpointercapture","onInput","onKeydown","onKeypress","onKeyup","onLostpointercapture","onMousedown","onMousemove","onMouseout","onMouseover","onMouseup","onMousewheel","onPaste","onPointercancel","onPointerdown","onPointerenter","onPointerleave","onPointermove","onPointerout","onPointerover","onPointerup","onReset","onSelect","onSubmit","onTouchcancel","onTouchend","onTouchmove","onTouchstart","onTransitioncancel","onTransitionend","onTransitionrun","onTransitionstart","onWheel"],LJ=["ArrowUp","ArrowDown","ArrowRight","ArrowLeft","Enter","Escape","Tab"," "];function FJ(e){return e.isComposing&&LJ.includes(e.key)}function Na(e){const[t,n]=R0(e,[IL]),i=zt(t,MJ),[r,s]=R0(n,["class","style","id",/^data-/]);return Object.assign(r,t),Object.assign(s,i),[r,s]}function vn(e){return e==null?[]:Array.isArray(e)?e:[e]}function $J(e,t){let n=0;const i=function(){for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];clearTimeout(n),n=setTimeout(()=>e(...s),se(t))};return i.clear=()=>{clearTimeout(n)},i.immediate=e,i}function kn(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;return Math.max(t,Math.min(n,e))}function cg(e){const t=e.toString().trim();return t.includes(".")?t.length-t.indexOf(".")-1:0}function nP(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"0";return e+n.repeat(Math.max(0,t-e.length))}function iP(e,t){return(arguments.length>2&&arguments[2]!==void 0?arguments[2]:"0").repeat(Math.max(0,t-e.length))+e}function BJ(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;const n=[];let i=0;for(;i<e.length;)n.push(e.substr(i,t)),i+=t;return n}function UJ(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return Array.from({length:Math.ceil(e.length/t)},(n,i)=>e.slice(i*t,i*t+t))}function rP(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e3;if(e<t)return`${e} B`;const n=t===1024?["Ki","Mi","Gi"]:["k","M","G"];let i=-1;for(;Math.abs(e)>=t&&i<n.length-1;)e/=t,++i;return`${e.toFixed(1)} ${n[i]}B`}function Fi(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;const i={};for(const r in e)i[r]=e[r];for(const r in t){const s=e[r],o=t[r];if(eP(s)&&eP(o)){i[r]=Fi(s,o,n);continue}if(n&&Array.isArray(s)&&Array.isArray(o)){i[r]=n(s,o);continue}i[r]=o}return i}function AL(e){return e.map(t=>t.type===Ie?AL(t.children):t).flat()}function pl(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";if(pl.cache.has(e))return pl.cache.get(e);const t=e.replace(/[^a-z]/gi,"-").replace(/\B([A-Z])/g,"-$1").toLowerCase();return pl.cache.set(e,t),t}pl.cache=new Map;function Mu(e,t){if(!t||typeof t!="object")return[];if(Array.isArray(t))return t.map(n=>Mu(e,n)).flat(1);if(t.suspense)return Mu(e,t.ssContent);if(Array.isArray(t.children))return t.children.map(n=>Mu(e,n)).flat(1);if(t.component){if(Object.getOwnPropertySymbols(t.component.provides).includes(e))return[t.component];if(t.component.subTree)return Mu(e,t.component.subTree).flat(1)}return[]}var Pv=new WeakMap,yu=new WeakMap;class jJ{constructor(t){ZA(this,Pv,[]),ZA(this,yu,0),this.size=t}push(t){Ya(Pv,this)[Ya(yu,this)]=t,NJ(yu,this,(Ya(yu,this)+1)%this.size)}values(){return Ya(Pv,this).slice(Ya(yu,this)).concat(Ya(Pv,this).slice(0,Ya(yu,this)))}}function HJ(e){return"touches"in e?{clientX:e.touches[0].clientX,clientY:e.touches[0].clientY}:{clientX:e.clientX,clientY:e.clientY}}function g1(e){const t=cn({}),n=I(e);return rn(()=>{for(const i in n.value)t[i]=n.value[i]},{flush:"sync"}),xa(t)}function dg(e,t){return e.includes(t)}function PL(e){return e[2].toLowerCase()+e.slice(3)}const ii=()=>[Function,Array];function sP(e,t){return t="on"+Fs(t),!!(e[t]||e[`${t}Once`]||e[`${t}Capture`]||e[`${t}OnceCapture`]||e[`${t}CaptureOnce`])}function p1(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(Array.isArray(e))for(const r of e)r(...n);else typeof e=="function"&&e(...n)}function Vf(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const n=["button","[href]",'input:not([type="hidden"])',"select","textarea","[tabindex]"].map(i=>`${i}${t?':not([tabindex="-1"])':""}:not([disabled])`).join(", ");return[...e.querySelectorAll(n)]}function xL(e,t,n){let i,r=e.indexOf(document.activeElement);const s=t==="next"?1:-1;do r+=s,i=e[r];while((!i||i.offsetParent==null||!((n==null?void 0:n(i))??!0))&&r<e.length&&r>=0);return i}function _l(e,t){var i,r,s,o;const n=Vf(e);if(!t)(e===document.activeElement||!e.contains(document.activeElement))&&((i=n[0])==null||i.focus());else if(t==="first")(r=n[0])==null||r.focus();else if(t==="last")(s=n.at(-1))==null||s.focus();else if(typeof t=="number")(o=n[t])==null||o.focus();else{const a=xL(n,t);a?a.focus():_l(e,t==="next"?"first":"last")}}function xv(e){return e==null||typeof e=="string"&&e.trim()===""}function DL(){}function yc(e,t){if(!(Bt&&typeof CSS<"u"&&typeof CSS.supports<"u"&&CSS.supports(`selector(${t})`)))return null;try{return!!e&&e.matches(t)}catch{return null}}function e_(e){return e.some(t=>Tl(t)?t.type===Mi?!1:t.type!==Ie||e_(t.children):!0)?e:null}function WJ(e,t){if(!Bt||e===0)return t(),()=>{};const n=window.setTimeout(t,e);return()=>window.clearTimeout(n)}function zJ(e,t){const n=e.clientX,i=e.clientY,r=t.getBoundingClientRect(),s=r.left,o=r.top,a=r.right,l=r.bottom;return n>=s&&n<=a&&i>=o&&i<=l}function fg(){const e=Te(),t=n=>{e.value=n};return Object.defineProperty(t,"value",{enumerable:!0,get:()=>e.value,set:n=>e.value=n}),Object.defineProperty(t,"el",{enumerable:!0,get:()=>v1(e.value)}),t}function hg(e){const t=e.key.length===1,n=!e.ctrlKey&&!e.metaKey&&!e.altKey;return t&&n}const RL=["top","bottom"],GJ=["start","end","left","right"];function O0(e,t){let[n,i]=e.split(" ");return i||(i=dg(RL,n)?"start":dg(GJ,n)?"top":"center"),{side:V0(n,t),align:V0(i,t)}}function V0(e,t){return e==="start"?t?"right":"left":e==="end"?t?"left":"right":e}function Gy(e){return{side:{center:"center",top:"bottom",bottom:"top",left:"right",right:"left"}[e.side],align:e.align}}function qy(e){return{side:e.side,align:{center:"center",top:"bottom",bottom:"top",left:"right",right:"left"}[e.align]}}function oP(e){return{side:e.align,align:e.side}}function aP(e){return dg(RL,e.side)?"y":"x"}class yl{constructor(t){let{x:n,y:i,width:r,height:s}=t;this.x=n,this.y=i,this.width=r,this.height=s}get top(){return this.y}get bottom(){return this.y+this.height}get left(){return this.x}get right(){return this.x+this.width}}function lP(e,t){return{x:{before:Math.max(0,t.left-e.left),after:Math.max(0,e.right-t.right)},y:{before:Math.max(0,t.top-e.top),after:Math.max(0,e.bottom-t.bottom)}}}function OL(e){return Array.isArray(e)?new yl({x:e[0],y:e[1],width:0,height:0}):e.getBoundingClientRect()}function _1(e){const t=e.getBoundingClientRect(),n=getComputedStyle(e),i=n.transform;if(i){let r,s,o,a,l;if(i.startsWith("matrix3d("))r=i.slice(9,-1).split(/, /),s=+r[0],o=+r[5],a=+r[12],l=+r[13];else if(i.startsWith("matrix("))r=i.slice(7,-1).split(/, /),s=+r[0],o=+r[3],a=+r[4],l=+r[5];else return new yl(t);const u=n.transformOrigin,d=t.x-a-(1-s)*parseFloat(u),c=t.y-l-(1-o)*parseFloat(u.slice(u.indexOf(" ")+1)),f=s?t.width/s:e.offsetWidth+1,v=o?t.height/o:e.offsetHeight+1;return new yl({x:d,y:c,width:f,height:v})}else return new yl(t)}function cl(e,t,n){if(typeof e.animate>"u")return{finished:Promise.resolve()};let i;try{i=e.animate(t,n)}catch{return{finished:Promise.resolve()}}return typeof i.finished>"u"&&(i.finished=new Promise(r=>{i.onfinish=()=>{r(i)}})),i}const hm=new WeakMap;function qJ(e,t){Object.keys(t).forEach(n=>{if(Zp(n)){const i=PL(n),r=hm.get(e);if(t[n]==null)r==null||r.forEach(s=>{const[o,a]=s;o===i&&(e.removeEventListener(i,a),r.delete(s))});else if(!r||![...r].some(s=>s[0]===i&&s[1]===t[n])){e.addEventListener(i,t[n]);const s=r||new Set;s.add([i,t[n]]),hm.has(e)||hm.set(e,s)}}else t[n]==null?e.removeAttribute(n):e.setAttribute(n,t[n])})}function YJ(e,t){Object.keys(t).forEach(n=>{if(Zp(n)){const i=PL(n),r=hm.get(e);r==null||r.forEach(s=>{const[o,a]=s;o===i&&(e.removeEventListener(i,a),r.delete(s))})}else e.removeAttribute(n)})}const bu=2.4,uP=.2126729,cP=.7151522,dP=.072175,KJ=.55,XJ=.58,QJ=.57,JJ=.62,Dv=.03,fP=1.45,ZJ=5e-4,eZ=1.25,tZ=1.25,hP=.078,vP=12.82051282051282,Rv=.06,mP=.001;function gP(e,t){const n=(e.r/255)**bu,i=(e.g/255)**bu,r=(e.b/255)**bu,s=(t.r/255)**bu,o=(t.g/255)**bu,a=(t.b/255)**bu;let l=n*uP+i*cP+r*dP,u=s*uP+o*cP+a*dP;if(l<=Dv&&(l+=(Dv-l)**fP),u<=Dv&&(u+=(Dv-u)**fP),Math.abs(u-l)<ZJ)return 0;let d;if(u>l){const c=(u**KJ-l**XJ)*eZ;d=c<mP?0:c<hP?c-c*vP*Rv:c-Rv}else{const c=(u**JJ-l**QJ)*tZ;d=c>-mP?0:c>-hP?c-c*vP*Rv:c+Rv}return d*100}function nZ(e,t){t=Array.isArray(t)?t.slice(0,-1).map(n=>`'${n}'`).join(", ")+` or '${t.at(-1)}'`:`'${t}'`}const vg=.20689655172413793,iZ=e=>e>vg**3?Math.cbrt(e):e/(3*vg**2)+4/29,rZ=e=>e>vg?e**3:3*vg**2*(e-4/29);function VL(e){const t=iZ,n=t(e[1]);return[116*n-16,500*(t(e[0]/.95047)-n),200*(n-t(e[2]/1.08883))]}function NL(e){const t=rZ,n=(e[0]+16)/116;return[t(n+e[1]/500)*.95047,t(n),t(n-e[2]/200)*1.08883]}const sZ=[[3.2406,-1.5372,-.4986],[-.9689,1.8758,.0415],[.0557,-.204,1.057]],oZ=e=>e<=.0031308?e*12.92:1.055*e**(1/2.4)-.055,aZ=[[.4124,.3576,.1805],[.2126,.7152,.0722],[.0193,.1192,.9505]],lZ=e=>e<=.04045?e/12.92:((e+.055)/1.055)**2.4;function ML(e){const t=Array(3),n=oZ,i=sZ;for(let r=0;r<3;++r)t[r]=Math.round(kn(n(i[r][0]*e[0]+i[r][1]*e[1]+i[r][2]*e[2]))*255);return{r:t[0],g:t[1],b:t[2]}}function y1(e){let{r:t,g:n,b:i}=e;const r=[0,0,0],s=lZ,o=aZ;t=s(t/255),n=s(n/255),i=s(i/255);for(let a=0;a<3;++a)r[a]=o[a][0]*t+o[a][1]*n+o[a][2]*i;return r}function N0(e){return!!e&&/^(#|var\(--|(rgb|hsl)a?\()/.test(e)}function uZ(e){return N0(e)&&!/^((rgb|hsl)a?\()?var\(--/.test(e)}const pP=/^(?<fn>(?:rgb|hsl)a?)\((?<values>.+)\)/,cZ={rgb:(e,t,n,i)=>({r:e,g:t,b:n,a:i}),rgba:(e,t,n,i)=>({r:e,g:t,b:n,a:i}),hsl:(e,t,n,i)=>_P({h:e,s:t,l:n,a:i}),hsla:(e,t,n,i)=>_P({h:e,s:t,l:n,a:i}),hsv:(e,t,n,i)=>Co({h:e,s:t,v:n,a:i}),hsva:(e,t,n,i)=>Co({h:e,s:t,v:n,a:i})};function Lr(e){if(typeof e=="number")return{r:(e&16711680)>>16,g:(e&65280)>>8,b:e&255};if(typeof e=="string"&&pP.test(e)){const{groups:t}=e.match(pP),{fn:n,values:i}=t,r=i.split(/,\s*/).map(s=>s.endsWith("%")&&["hsl","hsla","hsv","hsva"].includes(n)?parseFloat(s)/100:parseFloat(s));return cZ[n](...r)}else if(typeof e=="string"){let t=e.startsWith("#")?e.slice(1):e;return[3,4].includes(t.length)?t=t.split("").map(n=>n+n).join(""):[6,8].includes(t.length),UL(t)}else if(typeof e=="object"){if(ul(e,["r","g","b"]))return e;if(ul(e,["h","s","l"]))return Co(b1(e));if(ul(e,["h","s","v"]))return Co(e)}throw new TypeError(`Invalid color: ${e==null?e:String(e)||e.constructor.name}
Expected #hex, #hexa, rgb(), rgba(), hsl(), hsla(), object or number`)}function Co(e){const{h:t,s:n,v:i,a:r}=e,s=a=>{const l=(a+t/60)%6;return i-i*n*Math.max(Math.min(l,4-l,1),0)},o=[s(5),s(3),s(1)].map(a=>Math.round(a*255));return{r:o[0],g:o[1],b:o[2],a:r}}function _P(e){return Co(b1(e))}function t_(e){if(!e)return{h:0,s:1,v:1,a:1};const t=e.r/255,n=e.g/255,i=e.b/255,r=Math.max(t,n,i),s=Math.min(t,n,i);let o=0;r!==s&&(r===t?o=60*(0+(n-i)/(r-s)):r===n?o=60*(2+(i-t)/(r-s)):r===i&&(o=60*(4+(t-n)/(r-s)))),o<0&&(o=o+360);const a=r===0?0:(r-s)/r,l=[o,a,r];return{h:l[0],s:l[1],v:l[2],a:e.a}}function LL(e){const{h:t,s:n,v:i,a:r}=e,s=i-i*n/2,o=s===1||s===0?0:(i-s)/Math.min(s,1-s);return{h:t,s:o,l:s,a:r}}function b1(e){const{h:t,s:n,l:i,a:r}=e,s=i+n*Math.min(i,1-i),o=s===0?0:2-2*i/s;return{h:t,s:o,v:s,a:r}}function FL(e){let{r:t,g:n,b:i,a:r}=e;return r===void 0?`rgb(${t}, ${n}, ${i})`:`rgba(${t}, ${n}, ${i}, ${r})`}function $L(e){return FL(Co(e))}function Ov(e){const t=Math.round(e).toString(16);return("00".substr(0,2-t.length)+t).toUpperCase()}function BL(e){let{r:t,g:n,b:i,a:r}=e;return`#${[Ov(t),Ov(n),Ov(i),r!==void 0?Ov(Math.round(r*255)):""].join("")}`}function UL(e){e=dZ(e);let[t,n,i,r]=BJ(e,2).map(s=>parseInt(s,16));return r=r===void 0?r:r/255,{r:t,g:n,b:i,a:r}}function jL(e){const t=UL(e);return t_(t)}function HL(e){return BL(Co(e))}function dZ(e){return e.startsWith("#")&&(e=e.slice(1)),e=e.replace(/([^0-9a-f])/gi,"F"),(e.length===3||e.length===4)&&(e=e.split("").map(t=>t+t).join("")),e.length!==6&&(e=nP(nP(e,6),8,"F")),e}function fZ(e,t){const n=VL(y1(e));return n[0]=n[0]+t*10,ML(NL(n))}function hZ(e,t){const n=VL(y1(e));return n[0]=n[0]-t*10,ML(NL(n))}function M0(e){const t=Lr(e);return y1(t)[1]}function vZ(e,t){const n=M0(e),i=M0(t),r=Math.max(n,i),s=Math.min(n,i);return(r+.05)/(s+.05)}function WL(e){const t=Math.abs(gP(Lr(0),Lr(e)));return Math.abs(gP(Lr(16777215),Lr(e)))>Math.min(t,50)?"#fff":"#000"}function Z(e,t){return n=>Object.keys(e).reduce((i,r)=>{const o=typeof e[r]=="object"&&e[r]!=null&&!Array.isArray(e[r])?e[r]:{type:e[r]};return n&&r in n?i[r]={...o,default:n[r]}:i[r]=o,t&&!i[r].source&&(i[r].source=t),i},{})}const $e=Z({class:[String,Array,Object],style:{type:[String,Array,Object],default:null}},"component");function Rn(e,t){const n=Gl();if(!n)throw new Error(`[Vuetify] ${e} must be called from inside a setup function`);return n}function Hs(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"composables";const t=Rn(e).type;return pl((t==null?void 0:t.aliasName)||(t==null?void 0:t.name))}let zL=0,vm=new WeakMap;function fi(){const e=Rn("getUid");if(vm.has(e))return vm.get(e);{const t=zL++;return vm.set(e,t),t}}fi.reset=()=>{zL=0,vm=new WeakMap};function mZ(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Rn("injectSelf");const{provides:n}=t;if(n&&e in n)return n[e]}const bc=Symbol.for("vuetify:defaults");function gZ(e){return z(e)}function w1(){const e=st(bc);if(!e)throw new Error("[Vuetify] Could not find defaults instance");return e}function _n(e,t){const n=w1(),i=z(e),r=I(()=>{if(se(t==null?void 0:t.disabled))return n.value;const o=se(t==null?void 0:t.scoped),a=se(t==null?void 0:t.reset),l=se(t==null?void 0:t.root);if(i.value==null&&!(o||a||l))return n.value;let u=Fi(i.value,{prev:n.value});if(o)return u;if(a||l){const d=Number(a||1/0);for(let c=0;c<=d&&!(!u||!("prev"in u));c++)u=u.prev;return u&&typeof l=="string"&&l in u&&(u=Fi(Fi(u,{prev:u}),u[l])),u}return u.prev?Fi(u.prev,u):u});return Ut(bc,r),r}function pZ(e,t){var n,i;return typeof((n=e.props)==null?void 0:n[t])<"u"||typeof((i=e.props)==null?void 0:i[pl(t)])<"u"}function _Z(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:w1();const i=Rn("useDefaults");if(t=t??i.type.name??i.type.__name,!t)throw new Error("[Vuetify] Could not determine component name");const r=I(()=>{var l;return(l=n.value)==null?void 0:l[e._as??t]}),s=new Proxy(e,{get(l,u){var c,f,v,g,p,_,y;const d=Reflect.get(l,u);return u==="class"||u==="style"?[(c=r.value)==null?void 0:c[u],d].filter(b=>b!=null):typeof u=="string"&&!pZ(i.vnode,u)?((f=r.value)==null?void 0:f[u])!==void 0?(v=r.value)==null?void 0:v[u]:((p=(g=n.value)==null?void 0:g.global)==null?void 0:p[u])!==void 0?(y=(_=n.value)==null?void 0:_.global)==null?void 0:y[u]:d:d}}),o=Te();rn(()=>{if(r.value){const l=Object.entries(r.value).filter(u=>{let[d]=u;return d.startsWith(d[0].toUpperCase())});o.value=l.length?Object.fromEntries(l):void 0}else o.value=void 0});function a(){const l=mZ(bc,i);Ut(bc,I(()=>o.value?Fi((l==null?void 0:l.value)??{},o.value):l==null?void 0:l.value))}return{props:s,provideSubDefaults:a}}function Ar(e){if(e._setup=e._setup??e.setup,!e.name)return e;if(e._setup){e.props=Z(e.props??{},e.name)();const t=Object.keys(e.props).filter(n=>n!=="class"&&n!=="style");e.filterProps=function(i){return m1(i,t)},e.props._as=String,e.setup=function(i,r){const s=w1();if(!s.value)return e._setup(i,r);const{props:o,provideSubDefaults:a}=_Z(i,i._as??e.name,s),l=e._setup(o,r);return a(),l}}return e}function de(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return t=>(e?Ar:Tt)(t)}function yZ(e,t){return t.props=e,t}function Ws(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"div",n=arguments.length>2?arguments[2]:void 0;return de()({name:n??Fs(lr(e.replace(/__/g,"-"))),props:{tag:{type:String,default:t},...$e()},setup(i,r){let{slots:s}=r;return()=>{var o;return ni(i.tag,{class:[e,i.class],style:i.style},(o=s.default)==null?void 0:o.call(s))}}})}function GL(e){if(typeof e.getRootNode!="function"){for(;e.parentNode;)e=e.parentNode;return e!==document?null:document}const t=e.getRootNode();return t!==document&&t.getRootNode({composed:!0})!==document?null:t}const Nf="cubic-bezier(0.4, 0, 0.2, 1)",bZ="cubic-bezier(0.0, 0, 0.2, 1)",wZ="cubic-bezier(0.4, 0, 1, 1)";function yP(e,t,n){return Object.keys(e).filter(i=>Zp(i)&&i.endsWith(t)).reduce((i,r)=>(i[r.slice(0,-t.length)]=s=>e[r](s,n(s)),i),{})}function S1(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;for(;e;){if(t?SZ(e):E1(e))return e;e=e.parentElement}return document.scrollingElement}function Mf(e,t){const n=[];if(t&&e&&!t.contains(e))return n;for(;e&&(E1(e)&&n.push(e),e!==t);)e=e.parentElement;return n}function E1(e){if(!e||e.nodeType!==Node.ELEMENT_NODE)return!1;const t=window.getComputedStyle(e);return t.overflowY==="scroll"||t.overflowY==="auto"&&e.scrollHeight>e.clientHeight}function SZ(e){if(!e||e.nodeType!==Node.ELEMENT_NODE)return!1;const t=window.getComputedStyle(e);return["scroll","auto"].includes(t.overflowY)}function EZ(e){for(;e;){if(window.getComputedStyle(e).position==="fixed")return!0;e=e.offsetParent}return!1}function ve(e){const t=Rn("useRender");t.render=e}function je(e,t,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:c=>c,r=arguments.length>4&&arguments[4]!==void 0?arguments[4]:c=>c;const s=Rn("useProxiedModel"),o=z(e[t]!==void 0?e[t]:n),a=pl(t),u=I(a!==t?()=>{var c,f,v,g;return e[t],!!(((c=s.vnode.props)!=null&&c.hasOwnProperty(t)||(f=s.vnode.props)!=null&&f.hasOwnProperty(a))&&((v=s.vnode.props)!=null&&v.hasOwnProperty(`onUpdate:${t}`)||(g=s.vnode.props)!=null&&g.hasOwnProperty(`onUpdate:${a}`)))}:()=>{var c,f;return e[t],!!((c=s.vnode.props)!=null&&c.hasOwnProperty(t)&&((f=s.vnode.props)!=null&&f.hasOwnProperty(`onUpdate:${t}`)))});Ji(()=>!u.value,()=>{ge(()=>e[t],c=>{o.value=c})});const d=I({get(){const c=e[t];return i(u.value?c:o.value)},set(c){const f=r(c),v=Ge(u.value?e[t]:o.value);v===f||i(v)===c||(o.value=f,s==null||s.emit(`update:${t}`,f))}});return Object.defineProperty(d,"externalValue",{get:()=>u.value?e[t]:o.value}),d}const qL={badge:"Badge",open:"Open",close:"Close",dismiss:"Dismiss",confirmEdit:{ok:"OK",cancel:"Cancel"},dataIterator:{noResultsText:"No matching records found",loadingText:"Loading items..."},dataTable:{itemsPerPageText:"Rows per page:",ariaLabel:{sortDescending:"Sorted descending.",sortAscending:"Sorted ascending.",sortNone:"Not sorted.",activateNone:"Activate to remove sorting.",activateDescending:"Activate to sort descending.",activateAscending:"Activate to sort ascending."},sortBy:"Sort by"},dataFooter:{itemsPerPageText:"Items per page:",itemsPerPageAll:"All",nextPage:"Next page",prevPage:"Previous page",firstPage:"First page",lastPage:"Last page",pageText:"{0}-{1} of {2}"},dateRangeInput:{divider:"to"},datePicker:{itemsSelected:"{0} selected",range:{title:"Select dates",header:"Enter dates"},title:"Select date",header:"Enter date",input:{placeholder:"Enter date"}},noDataText:"No data available",carousel:{prev:"Previous visual",next:"Next visual",ariaLabel:{delimiter:"Carousel slide {0} of {1}"}},calendar:{moreEvents:"{0} more",today:"Today"},input:{clear:"Clear {0}",prependAction:"{0} prepended action",appendAction:"{0} appended action",otp:"Please enter OTP character {0}"},fileInput:{counter:"{0} files",counterSize:"{0} files ({1} in total)"},timePicker:{am:"AM",pm:"PM",title:"Select Time"},pagination:{ariaLabel:{root:"Pagination Navigation",next:"Next page",previous:"Previous page",page:"Go to page {0}",currentPage:"Page {0}, Current page",first:"First page",last:"Last page"}},stepper:{next:"Next",prev:"Previous"},rating:{ariaLabel:{item:"Rating {0} of {1}"}},loading:"Loading...",infiniteScroll:{loadMore:"Load more",empty:"No more"}},bP="$vuetify.",wP=(e,t)=>e.replace(/\{(\d+)\}/g,(n,i)=>String(t[+i])),YL=(e,t,n)=>function(i){for(var r=arguments.length,s=new Array(r>1?r-1:0),o=1;o<r;o++)s[o-1]=arguments[o];if(!i.startsWith(bP))return wP(i,s);const a=i.replace(bP,""),l=e.value&&n.value[e.value],u=t.value&&n.value[t.value];let d=Ll(l,a,null);return d||(`${i}${e.value}`,d=Ll(u,a,null)),d||(d=i),typeof d!="string"&&(d=i),wP(d,s)};function KL(e,t){return(n,i)=>new Intl.NumberFormat([e.value,t.value],i).format(n)}function Yy(e,t,n){const i=je(e,t,e[t]??n.value);return i.value=e[t]??n.value,ge(n,r=>{e[t]==null&&(i.value=n.value)}),i}function XL(e){return t=>{const n=Yy(t,"locale",e.current),i=Yy(t,"fallback",e.fallback),r=Yy(t,"messages",e.messages);return{name:"vuetify",current:n,fallback:i,messages:r,t:YL(n,i,r),n:KL(n,i),provide:XL({current:n,fallback:i,messages:r})}}}function CZ(e){const t=Te((e==null?void 0:e.locale)??"en"),n=Te((e==null?void 0:e.fallback)??"en"),i=z({en:qL,...e==null?void 0:e.messages});return{name:"vuetify",current:t,fallback:n,messages:i,t:YL(t,n,i),n:KL(t,n),provide:XL({current:t,fallback:n,messages:i})}}const wc=Symbol.for("vuetify:locale");function kZ(e){return e.name!=null}function TZ(e){const t=e!=null&&e.adapter&&kZ(e==null?void 0:e.adapter)?e==null?void 0:e.adapter:CZ(e),n=PZ(t,e);return{...t,...n}}function sn(){const e=st(wc);if(!e)throw new Error("[Vuetify] Could not find injected locale instance");return e}function IZ(e){const t=st(wc);if(!t)throw new Error("[Vuetify] Could not find injected locale instance");const n=t.provide(e),i=xZ(n,t.rtl,e),r={...n,...i};return Ut(wc,r),r}function AZ(){return{af:!1,ar:!0,bg:!1,ca:!1,ckb:!1,cs:!1,de:!1,el:!1,en:!1,es:!1,et:!1,fa:!0,fi:!1,fr:!1,hr:!1,hu:!1,he:!0,id:!1,it:!1,ja:!1,km:!1,ko:!1,lv:!1,lt:!1,nl:!1,no:!1,pl:!1,pt:!1,ro:!1,ru:!1,sk:!1,sl:!1,srCyrl:!1,srLatn:!1,sv:!1,th:!1,tr:!1,az:!1,uk:!1,vi:!1,zhHans:!1,zhHant:!1}}function PZ(e,t){const n=z((t==null?void 0:t.rtl)??AZ()),i=I(()=>n.value[e.current.value]??!1);return{isRtl:i,rtl:n,rtlClasses:I(()=>`v-locale--is-${i.value?"rtl":"ltr"}`)}}function xZ(e,t,n){const i=I(()=>n.rtl??t.value[e.current.value]??!1);return{isRtl:i,rtl:t,rtlClasses:I(()=>`v-locale--is-${i.value?"rtl":"ltr"}`)}}function Jn(){const e=st(wc);if(!e)throw new Error("[Vuetify] Could not find injected rtl instance");return{isRtl:e.isRtl,rtlClasses:e.rtlClasses}}const n_={"001":1,AD:1,AE:6,AF:6,AG:0,AI:1,AL:1,AM:1,AN:1,AR:1,AS:0,AT:1,AU:1,AX:1,AZ:1,BA:1,BD:0,BE:1,BG:1,BH:6,BM:1,BN:1,BR:0,BS:0,BT:0,BW:0,BY:1,BZ:0,CA:0,CH:1,CL:1,CM:1,CN:1,CO:0,CR:1,CY:1,CZ:1,DE:1,DJ:6,DK:1,DM:0,DO:0,DZ:6,EC:1,EE:1,EG:6,ES:1,ET:0,FI:1,FJ:1,FO:1,FR:1,GB:1,"GB-alt-variant":0,GE:1,GF:1,GP:1,GR:1,GT:0,GU:0,HK:0,HN:0,HR:1,HU:1,ID:0,IE:1,IL:0,IN:0,IQ:6,IR:6,IS:1,IT:1,JM:0,JO:6,JP:0,KE:0,KG:1,KH:0,KR:0,KW:6,KZ:1,LA:0,LB:1,LI:1,LK:1,LT:1,LU:1,LV:1,LY:6,MC:1,MD:1,ME:1,MH:0,MK:1,MM:0,MN:1,MO:0,MQ:1,MT:0,MV:5,MX:0,MY:1,MZ:0,NI:0,NL:1,NO:1,NP:0,NZ:1,OM:6,PA:0,PE:0,PH:0,PK:0,PL:1,PR:0,PT:0,PY:0,QA:6,RE:1,RO:1,RS:1,RU:1,SA:0,SD:6,SE:1,SG:0,SI:1,SK:1,SM:1,SV:0,SY:6,TH:0,TJ:1,TM:1,TR:1,TT:0,TW:0,UA:1,UM:0,US:0,UY:1,UZ:1,VA:1,VE:0,VI:0,VN:1,WS:0,XK:1,YE:0,ZA:0,ZW:0};function DZ(e,t,n){const i=[];let r=[];const s=QL(e),o=JL(e),a=n??n_[t.slice(-2).toUpperCase()]??0,l=(s.getDay()-a+7)%7,u=(o.getDay()-a+7)%7;for(let d=0;d<l;d++){const c=new Date(s);c.setDate(c.getDate()-(l-d)),r.push(c)}for(let d=1;d<=o.getDate();d++){const c=new Date(e.getFullYear(),e.getMonth(),d);r.push(c),r.length===7&&(i.push(r),r=[])}for(let d=1;d<7-u;d++){const c=new Date(o);c.setDate(c.getDate()+d),r.push(c)}return r.length>0&&i.push(r),i}function RZ(e,t,n){const i=n??n_[t.slice(-2).toUpperCase()]??0,r=new Date(e);for(;r.getDay()!==i;)r.setDate(r.getDate()-1);return r}function OZ(e,t){const n=new Date(e),i=((n_[t.slice(-2).toUpperCase()]??0)+6)%7;for(;n.getDay()!==i;)n.setDate(n.getDate()+1);return n}function QL(e){return new Date(e.getFullYear(),e.getMonth(),1)}function JL(e){return new Date(e.getFullYear(),e.getMonth()+1,0)}function VZ(e){const t=e.split("-").map(Number);return new Date(t[0],t[1]-1,t[2])}const NZ=/^([12]\d{3}-([1-9]|0[1-9]|1[0-2])-([1-9]|0[1-9]|[12]\d|3[01]))$/;function ZL(e){if(e==null)return new Date;if(e instanceof Date)return e;if(typeof e=="string"){let t;if(NZ.test(e))return VZ(e);if(t=Date.parse(e),!isNaN(t))return new Date(t)}return null}const SP=new Date(2e3,0,2);function MZ(e,t){const n=t??n_[e.slice(-2).toUpperCase()]??0;return br(7).map(i=>{const r=new Date(SP);return r.setDate(SP.getDate()+n+i),new Intl.DateTimeFormat(e,{weekday:"narrow"}).format(r)})}function LZ(e,t,n,i){const r=ZL(e)??new Date,s=i==null?void 0:i[t];if(typeof s=="function")return s(r,t,n);let o={};switch(t){case"fullDate":o={year:"numeric",month:"long",day:"numeric"};break;case"fullDateWithWeekday":o={weekday:"long",year:"numeric",month:"long",day:"numeric"};break;case"normalDate":const a=r.getDate(),l=new Intl.DateTimeFormat(n,{month:"long"}).format(r);return`${a} ${l}`;case"normalDateWithWeekday":o={weekday:"short",day:"numeric",month:"short"};break;case"shortDate":o={month:"short",day:"numeric"};break;case"year":o={year:"numeric"};break;case"month":o={month:"long"};break;case"monthShort":o={month:"short"};break;case"monthAndYear":o={month:"long",year:"numeric"};break;case"monthAndDate":o={month:"long",day:"numeric"};break;case"weekday":o={weekday:"long"};break;case"weekdayShort":o={weekday:"short"};break;case"dayOfMonth":return new Intl.NumberFormat(n).format(r.getDate());case"hours12h":o={hour:"numeric",hour12:!0};break;case"hours24h":o={hour:"numeric",hour12:!1};break;case"minutes":o={minute:"numeric"};break;case"seconds":o={second:"numeric"};break;case"fullTime":o={hour:"numeric",minute:"numeric",second:"numeric",hour12:!0};break;case"fullTime12h":o={hour:"numeric",minute:"numeric",second:"numeric",hour12:!0};break;case"fullTime24h":o={hour:"numeric",minute:"numeric",second:"numeric",hour12:!1};break;case"fullDateTime":o={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",hour12:!0};break;case"fullDateTime12h":o={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",hour12:!0};break;case"fullDateTime24h":o={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",hour12:!1};break;case"keyboardDate":o={year:"numeric",month:"2-digit",day:"2-digit"};break;case"keyboardDateTime":o={year:"numeric",month:"2-digit",day:"2-digit",hour:"numeric",minute:"numeric",second:"numeric",hour12:!1};break;case"keyboardDateTime12h":o={year:"numeric",month:"2-digit",day:"2-digit",hour:"numeric",minute:"numeric",second:"numeric",hour12:!0};break;case"keyboardDateTime24h":o={year:"numeric",month:"2-digit",day:"2-digit",hour:"numeric",minute:"numeric",second:"numeric",hour12:!1};break;default:o=s??{timeZone:"UTC",timeZoneName:"short"}}return new Intl.DateTimeFormat(n,o).format(r)}function FZ(e,t){const n=e.toJsDate(t),i=n.getFullYear(),r=iP(String(n.getMonth()+1),2,"0"),s=iP(String(n.getDate()),2,"0");return`${i}-${r}-${s}`}function $Z(e){const[t,n,i]=e.split("-").map(Number);return new Date(t,n-1,i)}function BZ(e,t){const n=new Date(e);return n.setMinutes(n.getMinutes()+t),n}function UZ(e,t){const n=new Date(e);return n.setHours(n.getHours()+t),n}function jZ(e,t){const n=new Date(e);return n.setDate(n.getDate()+t),n}function HZ(e,t){const n=new Date(e);return n.setDate(n.getDate()+t*7),n}function WZ(e,t){const n=new Date(e);return n.setDate(1),n.setMonth(n.getMonth()+t),n}function zZ(e){return e.getFullYear()}function GZ(e){return e.getMonth()}function qZ(e){return e.getDate()}function YZ(e){return new Date(e.getFullYear(),e.getMonth()+1,1)}function KZ(e){return new Date(e.getFullYear(),e.getMonth()-1,1)}function XZ(e){return e.getHours()}function QZ(e){return e.getMinutes()}function JZ(e){return new Date(e.getFullYear(),0,1)}function ZZ(e){return new Date(e.getFullYear(),11,31)}function eee(e,t){return mg(e,t[0])&&iee(e,t[1])}function tee(e){const t=new Date(e);return t instanceof Date&&!isNaN(t.getTime())}function mg(e,t){return e.getTime()>t.getTime()}function nee(e,t){return mg(L0(e),L0(t))}function iee(e,t){return e.getTime()<t.getTime()}function EP(e,t){return e.getTime()===t.getTime()}function ree(e,t){return e.getDate()===t.getDate()&&e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear()}function see(e,t){return e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear()}function oee(e,t){return e.getFullYear()===t.getFullYear()}function aee(e,t,n){const i=new Date(e),r=new Date(t);switch(n){case"years":return i.getFullYear()-r.getFullYear();case"quarters":return Math.floor((i.getMonth()-r.getMonth()+(i.getFullYear()-r.getFullYear())*12)/4);case"months":return i.getMonth()-r.getMonth()+(i.getFullYear()-r.getFullYear())*12;case"weeks":return Math.floor((i.getTime()-r.getTime())/(1e3*60*60*24*7));case"days":return Math.floor((i.getTime()-r.getTime())/(1e3*60*60*24));case"hours":return Math.floor((i.getTime()-r.getTime())/(1e3*60*60));case"minutes":return Math.floor((i.getTime()-r.getTime())/(1e3*60));case"seconds":return Math.floor((i.getTime()-r.getTime())/1e3);default:return i.getTime()-r.getTime()}}function lee(e,t){const n=new Date(e);return n.setHours(t),n}function uee(e,t){const n=new Date(e);return n.setMinutes(t),n}function cee(e,t){const n=new Date(e);return n.setMonth(t),n}function dee(e,t){const n=new Date(e);return n.setDate(t),n}function fee(e,t){const n=new Date(e);return n.setFullYear(t),n}function L0(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate(),0,0,0,0)}function hee(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate(),23,59,59,999)}class vee{constructor(t){this.locale=t.locale,this.formats=t.formats}date(t){return ZL(t)}toJsDate(t){return t}toISO(t){return FZ(this,t)}parseISO(t){return $Z(t)}addMinutes(t,n){return BZ(t,n)}addHours(t,n){return UZ(t,n)}addDays(t,n){return jZ(t,n)}addWeeks(t,n){return HZ(t,n)}addMonths(t,n){return WZ(t,n)}getWeekArray(t,n){return DZ(t,this.locale,n?Number(n):void 0)}startOfWeek(t,n){return RZ(t,this.locale,n?Number(n):void 0)}endOfWeek(t){return OZ(t,this.locale)}startOfMonth(t){return QL(t)}endOfMonth(t){return JL(t)}format(t,n){return LZ(t,n,this.locale,this.formats)}isEqual(t,n){return EP(t,n)}isValid(t){return tee(t)}isWithinRange(t,n){return eee(t,n)}isAfter(t,n){return mg(t,n)}isAfterDay(t,n){return nee(t,n)}isBefore(t,n){return!mg(t,n)&&!EP(t,n)}isSameDay(t,n){return ree(t,n)}isSameMonth(t,n){return see(t,n)}isSameYear(t,n){return oee(t,n)}setMinutes(t,n){return uee(t,n)}setHours(t,n){return lee(t,n)}setMonth(t,n){return cee(t,n)}setDate(t,n){return dee(t,n)}setYear(t,n){return fee(t,n)}getDiff(t,n,i){return aee(t,n,i)}getWeekdays(t){return MZ(this.locale,t?Number(t):void 0)}getYear(t){return zZ(t)}getMonth(t){return GZ(t)}getDate(t){return qZ(t)}getNextMonth(t){return YZ(t)}getPreviousMonth(t){return KZ(t)}getHours(t){return XZ(t)}getMinutes(t){return QZ(t)}startOfDay(t){return L0(t)}endOfDay(t){return hee(t)}startOfYear(t){return JZ(t)}endOfYear(t){return ZZ(t)}}const eF=Symbol.for("vuetify:date-options"),CP=Symbol.for("vuetify:date-adapter");function mee(e,t){const n=Fi({adapter:vee,locale:{af:"af-ZA",bg:"bg-BG",ca:"ca-ES",ckb:"",cs:"cs-CZ",de:"de-DE",el:"el-GR",en:"en-US",et:"et-EE",fa:"fa-IR",fi:"fi-FI",hr:"hr-HR",hu:"hu-HU",he:"he-IL",id:"id-ID",it:"it-IT",ja:"ja-JP",ko:"ko-KR",lv:"lv-LV",lt:"lt-LT",nl:"nl-NL",no:"no-NO",pl:"pl-PL",pt:"pt-PT",ro:"ro-RO",ru:"ru-RU",sk:"sk-SK",sl:"sl-SI",srCyrl:"sr-SP",srLatn:"sr-SP",sv:"sv-SE",th:"th-TH",tr:"tr-TR",az:"az-AZ",uk:"uk-UA",vi:"vi-VN",zhHans:"zh-CN",zhHant:"zh-TW"}},e);return{options:n,instance:tF(n,t)}}function tF(e,t){const n=cn(typeof e.adapter=="function"?new e.adapter({locale:e.locale[t.current.value]??t.current.value,formats:e.formats}):e.adapter);return ge(t.current,i=>{n.locale=e.locale[i]??i??n.locale}),n}function jr(){const e=st(eF);if(!e)throw new Error("[Vuetify] Could not find injected date options");const t=sn();return tF(e,t)}function gee(e,t){const n=e.toJsDate(t);let i=n.getFullYear(),r=new Date(i,0,1);if(n<r)i=i-1,r=new Date(i,0,1);else{const a=new Date(i+1,0,1);n>=a&&(i=i+1,r=a)}const s=Math.abs(n.getTime()-r.getTime()),o=Math.ceil(s/(1e3*60*60*24));return Math.floor(o/7)+1}const i_=["sm","md","lg","xl","xxl"],F0=Symbol.for("vuetify:display"),kP={mobileBreakpoint:"lg",thresholds:{xs:0,sm:600,md:960,lg:1280,xl:1920,xxl:2560}},pee=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:kP;return Fi(kP,e)};function TP(e){return Bt&&!e?window.innerWidth:typeof e=="object"&&e.clientWidth||0}function IP(e){return Bt&&!e?window.innerHeight:typeof e=="object"&&e.clientHeight||0}function AP(e){const t=Bt&&!e?window.navigator.userAgent:"ssr";function n(g){return!!t.match(g)}const i=n(/android/i),r=n(/iphone|ipad|ipod/i),s=n(/cordova/i),o=n(/electron/i),a=n(/chrome/i),l=n(/edge/i),u=n(/firefox/i),d=n(/opera/i),c=n(/win/i),f=n(/mac/i),v=n(/linux/i);return{android:i,ios:r,cordova:s,electron:o,chrome:a,edge:l,firefox:u,opera:d,win:c,mac:f,linux:v,touch:OJ,ssr:t==="ssr"}}function _ee(e,t){const{thresholds:n,mobileBreakpoint:i}=pee(e),r=Te(IP(t)),s=Te(AP(t)),o=cn({}),a=Te(TP(t));function l(){r.value=IP(),a.value=TP()}function u(){l(),s.value=AP()}return rn(()=>{const d=a.value<n.sm,c=a.value<n.md&&!d,f=a.value<n.lg&&!(c||d),v=a.value<n.xl&&!(f||c||d),g=a.value<n.xxl&&!(v||f||c||d),p=a.value>=n.xxl,_=d?"xs":c?"sm":f?"md":v?"lg":g?"xl":"xxl",y=typeof i=="number"?i:n[i],b=a.value<y;o.xs=d,o.sm=c,o.md=f,o.lg=v,o.xl=g,o.xxl=p,o.smAndUp=!d,o.mdAndUp=!(d||c),o.lgAndUp=!(d||c||f),o.xlAndUp=!(d||c||f||v),o.smAndDown=!(f||v||g||p),o.mdAndDown=!(v||g||p),o.lgAndDown=!(g||p),o.xlAndDown=!p,o.name=_,o.height=r.value,o.width=a.value,o.mobile=b,o.mobileBreakpoint=i,o.platform=s.value,o.thresholds=n}),Bt&&window.addEventListener("resize",l,{passive:!0}),{...xa(o),update:u,ssr:!!t}}const Jl=Z({mobile:{type:Boolean,default:!1},mobileBreakpoint:[Number,String]},"display");function Pr(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Hs();const n=st(F0);if(!n)throw new Error("Could not find Vuetify display injection");const i=I(()=>{if(e.mobile!=null)return e.mobile;if(!e.mobileBreakpoint)return n.mobile.value;const s=typeof e.mobileBreakpoint=="number"?e.mobileBreakpoint:n.thresholds.value[e.mobileBreakpoint];return n.width.value<s}),r=I(()=>t?{[`${t}--mobile`]:i.value}:{});return{...n,displayClasses:r,mobile:i}}const nF=Symbol.for("vuetify:goto");function iF(){return{container:void 0,duration:300,layout:!1,offset:0,easing:"easeInOutCubic",patterns:{linear:e=>e,easeInQuad:e=>e**2,easeOutQuad:e=>e*(2-e),easeInOutQuad:e=>e<.5?2*e**2:-1+(4-2*e)*e,easeInCubic:e=>e**3,easeOutCubic:e=>--e**3+1,easeInOutCubic:e=>e<.5?4*e**3:(e-1)*(2*e-2)*(2*e-2)+1,easeInQuart:e=>e**4,easeOutQuart:e=>1- --e**4,easeInOutQuart:e=>e<.5?8*e**4:1-8*--e**4,easeInQuint:e=>e**5,easeOutQuint:e=>1+--e**5,easeInOutQuint:e=>e<.5?16*e**5:1+16*--e**5}}}function yee(e){return C1(e)??(document.scrollingElement||document.body)}function C1(e){return typeof e=="string"?document.querySelector(e):v1(e)}function Ky(e,t,n){if(typeof e=="number")return t&&n?-e:e;let i=C1(e),r=0;for(;i;)r+=t?i.offsetLeft:i.offsetTop,i=i.offsetParent;return r}function bee(e,t){return{rtl:t.isRtl,options:Fi(iF(),e)}}async function PP(e,t,n,i){const r=n?"scrollLeft":"scrollTop",s=Fi((i==null?void 0:i.options)??iF(),t),o=i==null?void 0:i.rtl.value,a=(typeof e=="number"?e:C1(e))??0,l=s.container==="parent"&&a instanceof HTMLElement?a.parentElement:yee(s.container),u=typeof s.easing=="function"?s.easing:s.patterns[s.easing];if(!u)throw new TypeError(`Easing function "${s.easing}" not found.`);let d;if(typeof a=="number")d=Ky(a,n,o);else if(d=Ky(a,n,o)-Ky(l,n,o),s.layout){const g=window.getComputedStyle(a).getPropertyValue("--v-layout-top");g&&(d-=parseInt(g,10))}d+=s.offset,d=See(l,d,!!o,!!n);const c=l[r]??0;if(d===c)return Promise.resolve(d);const f=performance.now();return new Promise(v=>requestAnimationFrame(function g(p){const y=(p-f)/s.duration,b=Math.floor(c+(d-c)*u(kn(y,0,1)));if(l[r]=b,y>=1&&Math.abs(b-l[r])<10)return v(d);if(y>2)return v(l[r]);requestAnimationFrame(g)}))}function wee(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const t=st(nF),{isRtl:n}=Jn();if(!t)throw new Error("[Vuetify] Could not find injected goto instance");const i={...t,rtl:I(()=>t.rtl.value||n.value)};async function r(s,o){return PP(s,Fi(e,o),!1,i)}return r.horizontal=async(s,o)=>PP(s,Fi(e,o),!0,i),r}function See(e,t,n,i){const{scrollWidth:r,scrollHeight:s}=e,[o,a]=e===document.scrollingElement?[window.innerWidth,window.innerHeight]:[e.offsetWidth,e.offsetHeight];let l,u;return i?n?(l=-(r-o),u=0):(l=0,u=r-o):(l=0,u=s+-a),Math.max(Math.min(t,u),l)}const Eee={collapse:"mdi-chevron-up",complete:"mdi-check",cancel:"mdi-close-circle",close:"mdi-close",delete:"mdi-close-circle",clear:"mdi-close-circle",success:"mdi-check-circle",info:"mdi-information",warning:"mdi-alert-circle",error:"mdi-close-circle",prev:"mdi-chevron-left",next:"mdi-chevron-right",checkboxOn:"mdi-checkbox-marked",checkboxOff:"mdi-checkbox-blank-outline",checkboxIndeterminate:"mdi-minus-box",delimiter:"mdi-circle",sortAsc:"mdi-arrow-up",sortDesc:"mdi-arrow-down",expand:"mdi-chevron-down",menu:"mdi-menu",subgroup:"mdi-menu-down",dropdown:"mdi-menu-down",radioOn:"mdi-radiobox-marked",radioOff:"mdi-radiobox-blank",edit:"mdi-pencil",ratingEmpty:"mdi-star-outline",ratingFull:"mdi-star",ratingHalf:"mdi-star-half-full",loading:"mdi-cached",first:"mdi-page-first",last:"mdi-page-last",unfold:"mdi-unfold-more-horizontal",file:"mdi-paperclip",plus:"mdi-plus",minus:"mdi-minus",calendar:"mdi-calendar",treeviewCollapse:"mdi-menu-down",treeviewExpand:"mdi-menu-right",eyeDropper:"mdi-eyedropper"},Cee={component:e=>ni(T1,{...e,class:"mdi"})},Je=[String,Function,Object,Array],$0=Symbol.for("vuetify:icons"),r_=Z({icon:{type:Je},tag:{type:String,required:!0}},"icon"),B0=de()({name:"VComponentIcon",props:r_(),setup(e,t){let{slots:n}=t;return()=>{const i=e.icon;return h(e.tag,null,{default:()=>{var r;return[e.icon?h(i,null,null):(r=n.default)==null?void 0:r.call(n)]}})}}}),k1=Ar({name:"VSvgIcon",inheritAttrs:!1,props:r_(),setup(e,t){let{attrs:n}=t;return()=>h(e.tag,J(n,{style:null}),{default:()=>[h("svg",{class:"v-icon__svg",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",role:"img","aria-hidden":"true"},[Array.isArray(e.icon)?e.icon.map(i=>Array.isArray(i)?h("path",{d:i[0],"fill-opacity":i[1]},null):h("path",{d:i},null)):h("path",{d:e.icon},null)])]})}}),kee=Ar({name:"VLigatureIcon",props:r_(),setup(e){return()=>h(e.tag,null,{default:()=>[e.icon]})}}),T1=Ar({name:"VClassIcon",props:r_(),setup(e){return()=>h(e.tag,{class:e.icon},null)}});function Tee(){return{svg:{component:k1},class:{component:T1}}}function Iee(e){const t=Tee(),n=(e==null?void 0:e.defaultSet)??"mdi";return n==="mdi"&&!t.mdi&&(t.mdi=Cee),Fi({defaultSet:n,sets:t,aliases:{...Eee,vuetify:["M8.2241 14.2009L12 21L22 3H14.4459L8.2241 14.2009Z",["M7.26303 12.4733L7.00113 12L2 3H12.5261C12.5261 3 12.5261 3 12.5261 3L7.26303 12.4733Z",.6]],"vuetify-outline":"svg:M7.26 12.47 12.53 3H2L7.26 12.47ZM14.45 3 8.22 14.2 12 21 22 3H14.45ZM18.6 5 12 16.88 10.51 14.2 15.62 5ZM7.26 8.35 5.4 5H9.13L7.26 8.35Z","vuetify-play":["m6.376 13.184-4.11-7.192C1.505 4.66 2.467 3 4.003 3h8.532l-.953 1.576-.006.01-.396.677c-.429.732-.214 1.507.194 2.015.404.503 1.092.878 1.869.806a3.72 3.72 0 0 1 1.005.022c.276.053.434.143.523.237.138.146.38.635-.25 2.09-.893 1.63-1.553 1.722-1.847 1.677-.213-.033-.468-.158-.756-.406a4.95 4.95 0 0 1-.8-.927c-.39-.564-1.04-.84-1.66-.846-.625-.006-1.316.27-1.693.921l-.478.826-.911 1.506Z",["M9.093 11.552c.046-.079.144-.15.32-.148a.53.53 0 0 1 .43.207c.285.414.636.847 1.046 1.2.405.35.914.662 1.516.754 1.334.205 2.502-.698 3.48-2.495l.014-.028.013-.03c.687-1.574.774-2.852-.005-3.675-.37-.391-.861-.586-1.333-.676a5.243 5.243 0 0 0-1.447-.044c-.173.016-.393-.073-.54-.257-.145-.18-.127-.316-.082-.392l.393-.672L14.287 3h5.71c1.536 0 2.499 1.659 1.737 2.992l-7.997 13.996c-.768 1.344-2.706 1.344-3.473 0l-3.037-5.314 1.377-2.278.004-.006.004-.007.481-.831Z",.6]]}},e)}const Aee=e=>{const t=st($0);if(!t)throw new Error("Missing Vuetify Icons provide!");return{iconData:I(()=>{var l;const i=se(e);if(!i)return{component:B0};let r=i;if(typeof r=="string"&&(r=r.trim(),r.startsWith("$")&&(r=(l=t.aliases)==null?void 0:l[r.slice(1)])),Array.isArray(r))return{component:k1,icon:r};if(typeof r!="string")return{component:B0,icon:r};const s=Object.keys(t.sets).find(u=>typeof r=="string"&&r.startsWith(`${u}:`)),o=s?r.slice(s.length+1):r;return{component:t.sets[s??t.defaultSet].component,icon:o}})}},Lf=Symbol.for("vuetify:theme"),Ct=Z({theme:String},"theme");function xP(){return{defaultTheme:"light",variations:{colors:[],lighten:0,darken:0},themes:{light:{dark:!1,colors:{background:"#FFFFFF",surface:"#FFFFFF","surface-bright":"#FFFFFF","surface-light":"#EEEEEE","surface-variant":"#424242","on-surface-variant":"#EEEEEE",primary:"#1867C0","primary-darken-1":"#1F5592",secondary:"#48A9A6","secondary-darken-1":"#018786",error:"#B00020",info:"#2196F3",success:"#4CAF50",warning:"#FB8C00"},variables:{"border-color":"#000000","border-opacity":.12,"high-emphasis-opacity":.87,"medium-emphasis-opacity":.6,"disabled-opacity":.38,"idle-opacity":.04,"hover-opacity":.04,"focus-opacity":.12,"selected-opacity":.08,"activated-opacity":.12,"pressed-opacity":.12,"dragged-opacity":.08,"theme-kbd":"#212529","theme-on-kbd":"#FFFFFF","theme-code":"#F5F5F5","theme-on-code":"#000000"}},dark:{dark:!0,colors:{background:"#121212",surface:"#212121","surface-bright":"#ccbfd6","surface-light":"#424242","surface-variant":"#a3a3a3","on-surface-variant":"#424242",primary:"#2196F3","primary-darken-1":"#277CC1",secondary:"#54B6B2","secondary-darken-1":"#48A9A6",error:"#CF6679",info:"#2196F3",success:"#4CAF50",warning:"#FB8C00"},variables:{"border-color":"#FFFFFF","border-opacity":.12,"high-emphasis-opacity":1,"medium-emphasis-opacity":.7,"disabled-opacity":.5,"idle-opacity":.1,"hover-opacity":.04,"focus-opacity":.12,"selected-opacity":.08,"activated-opacity":.12,"pressed-opacity":.16,"dragged-opacity":.08,"theme-kbd":"#212529","theme-on-kbd":"#FFFFFF","theme-code":"#343434","theme-on-code":"#CCCCCC"}}}}}function Pee(){var i,r;let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:xP();const t=xP();if(!e)return{...t,isDisabled:!0};const n={};for(const[s,o]of Object.entries(e.themes??{})){const a=o.dark||s==="dark"?(i=t.themes)==null?void 0:i.dark:(r=t.themes)==null?void 0:r.light;n[s]=Fi(a,o)}return Fi(t,{...e,themes:n})}function xee(e){const t=Pee(e),n=z(t.defaultTheme),i=z(t.themes),r=I(()=>{const d={};for(const[c,f]of Object.entries(i.value)){const v=d[c]={...f,colors:{...f.colors}};if(t.variations)for(const g of t.variations.colors){const p=v.colors[g];if(p)for(const _ of["lighten","darken"]){const y=_==="lighten"?fZ:hZ;for(const b of br(t.variations[_],1))v.colors[`${g}-${_}-${b}`]=BL(y(Lr(p),b))}}for(const g of Object.keys(v.colors)){if(/^on-[a-z]/.test(g)||v.colors[`on-${g}`])continue;const p=`on-${g}`,_=Lr(v.colors[g]);v.colors[p]=WL(_)}}return d}),s=I(()=>r.value[n.value]),o=I(()=>{var g;const d=[];(g=s.value)!=null&&g.dark&&Ka(d,":root",["color-scheme: dark"]),Ka(d,":root",DP(s.value));for(const[p,_]of Object.entries(r.value))Ka(d,`.v-theme--${p}`,[`color-scheme: ${_.dark?"dark":"normal"}`,...DP(_)]);const c=[],f=[],v=new Set(Object.values(r.value).flatMap(p=>Object.keys(p.colors)));for(const p of v)/^on-[a-z]/.test(p)?Ka(f,`.${p}`,[`color: rgb(var(--v-theme-${p})) !important`]):(Ka(c,`.bg-${p}`,[`--v-theme-overlay-multiplier: var(--v-theme-${p}-overlay-multiplier)`,`background-color: rgb(var(--v-theme-${p})) !important`,`color: rgb(var(--v-theme-on-${p})) !important`]),Ka(f,`.text-${p}`,[`color: rgb(var(--v-theme-${p})) !important`]),Ka(f,`.border-${p}`,[`--v-border-color: var(--v-theme-${p})`]));return d.push(...c,...f),d.map((p,_)=>_===0?p:`    ${p}`).join("")});function a(){return{style:[{children:o.value,id:"vuetify-theme-stylesheet",nonce:t.cspNonce||!1}]}}function l(d){if(t.isDisabled)return;const c=d._context.provides.usehead;if(c)if(c.push){const f=c.push(a);Bt&&ge(o,()=>{f.patch(a)})}else Bt?(c.addHeadObjs(I(a)),rn(()=>c.updateDOM())):c.addHeadObjs(a());else{let v=function(){if(typeof document<"u"&&!f){const g=document.createElement("style");g.type="text/css",g.id="vuetify-theme-stylesheet",t.cspNonce&&g.setAttribute("nonce",t.cspNonce),f=g,document.head.appendChild(f)}f&&(f.innerHTML=o.value)},f=Bt?document.getElementById("vuetify-theme-stylesheet"):null;Bt?ge(o,v,{immediate:!0}):v()}}const u=I(()=>t.isDisabled?void 0:`v-theme--${n.value}`);return{install:l,isDisabled:t.isDisabled,name:n,themes:i,current:s,computedThemes:r,themeClasses:u,styles:o,global:{name:n,current:s}}}function Ft(e){Rn("provideTheme");const t=st(Lf,null);if(!t)throw new Error("Could not find Vuetify theme injection");const n=I(()=>e.theme??t.name.value),i=I(()=>t.themes.value[n.value]),r=I(()=>t.isDisabled?void 0:`v-theme--${n.value}`),s={...t,name:n,current:i,themeClasses:r};return Ut(Lf,s),s}function I1(){Rn("useTheme");const e=st(Lf,null);if(!e)throw new Error("Could not find Vuetify theme injection");return e}function Ka(e,t,n){e.push(`${t} {
`,...n.map(i=>`  ${i};
`),`}
`)}function DP(e){const t=e.dark?2:1,n=e.dark?1:2,i=[];for(const[r,s]of Object.entries(e.colors)){const o=Lr(s);i.push(`--v-theme-${r}: ${o.r},${o.g},${o.b}`),r.startsWith("on-")||i.push(`--v-theme-${r}-overlay-multiplier: ${M0(s)>.18?t:n}`)}for(const[r,s]of Object.entries(e.variables)){const o=typeof s=="string"&&s.startsWith("#")?Lr(s):void 0,a=o?`${o.r}, ${o.g}, ${o.b}`:void 0;i.push(`--v-${r}: ${a??s}`)}return i}function us(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"content";const n=fg(),i=z();if(Bt){const r=new ResizeObserver(s=>{e==null||e(s,r),s.length&&(t==="content"?i.value=s[0].contentRect:i.value=s[0].target.getBoundingClientRect())});di(()=>{r.disconnect()}),ge(()=>n.el,(s,o)=>{o&&(r.unobserve(o),i.value=void 0),s&&r.observe(s)},{flush:"post"})}return{resizeRef:n,contentRect:xc(i)}}const Ff=Symbol.for("vuetify:layout"),rF=Symbol.for("vuetify:layout-item"),RP=1e3,sF=Z({overlaps:{type:Array,default:()=>[]},fullHeight:Boolean},"layout"),Zl=Z({name:{type:String},order:{type:[Number,String],default:0},absolute:Boolean},"layout-item");function oF(){const e=st(Ff);if(!e)throw new Error("[Vuetify] Could not find injected layout");return{getLayoutItem:e.getLayoutItem,mainRect:e.mainRect,mainStyles:e.mainStyles}}function eu(e){const t=st(Ff);if(!t)throw new Error("[Vuetify] Could not find injected layout");const n=e.id??`layout-item-${fi()}`,i=Rn("useLayoutItem");Ut(rF,{id:n});const r=Te(!1);IS(()=>r.value=!0),CO(()=>r.value=!1);const{layoutItemStyles:s,layoutItemScrimStyles:o}=t.register(i,{...e,active:I(()=>r.value?!1:e.active.value),id:n});return di(()=>t.unregister(n)),{layoutItemStyles:s,layoutRect:t.layoutRect,layoutItemScrimStyles:o}}const Dee=(e,t,n,i)=>{let r={top:0,left:0,right:0,bottom:0};const s=[{id:"",layer:{...r}}];for(const o of e){const a=t.get(o),l=n.get(o),u=i.get(o);if(!a||!l||!u)continue;const d={...r,[a.value]:parseInt(r[a.value],10)+(u.value?parseInt(l.value,10):0)};s.push({id:o,layer:d}),r=d}return s};function aF(e){const t=st(Ff,null),n=I(()=>t?t.rootZIndex.value-100:RP),i=z([]),r=cn(new Map),s=cn(new Map),o=cn(new Map),a=cn(new Map),l=cn(new Map),{resizeRef:u,contentRect:d}=us(),c=I(()=>{const O=new Map,D=e.overlaps??[];for(const S of D.filter(w=>w.includes(":"))){const[w,C]=S.split(":");if(!i.value.includes(w)||!i.value.includes(C))continue;const A=r.get(w),P=r.get(C),x=s.get(w),U=s.get(C);!A||!P||!x||!U||(O.set(C,{position:A.value,amount:parseInt(x.value,10)}),O.set(w,{position:P.value,amount:-parseInt(U.value,10)}))}return O}),f=I(()=>{const O=[...new Set([...o.values()].map(S=>S.value))].sort((S,w)=>S-w),D=[];for(const S of O){const w=i.value.filter(C=>{var A;return((A=o.get(C))==null?void 0:A.value)===S});D.push(...w)}return Dee(D,r,s,a)}),v=I(()=>!Array.from(l.values()).some(O=>O.value)),g=I(()=>f.value[f.value.length-1].layer),p=I(()=>({"--v-layout-left":Ve(g.value.left),"--v-layout-right":Ve(g.value.right),"--v-layout-top":Ve(g.value.top),"--v-layout-bottom":Ve(g.value.bottom),...v.value?void 0:{transition:"none"}})),_=I(()=>f.value.slice(1).map((O,D)=>{let{id:S}=O;const{layer:w}=f.value[D],C=s.get(S),A=r.get(S);return{id:S,...w,size:Number(C.value),position:A.value}})),y=O=>_.value.find(D=>D.id===O),b=Rn("createLayout"),E=Te(!1);yt(()=>{E.value=!0}),Ut(Ff,{register:(O,D)=>{let{id:S,order:w,position:C,layoutSize:A,elementSize:P,active:x,disableTransitions:U,absolute:$}=D;o.set(S,w),r.set(S,C),s.set(S,A),a.set(S,x),U&&l.set(S,U);const Y=Mu(rF,b==null?void 0:b.vnode).indexOf(O);Y>-1?i.value.splice(Y,0,S):i.value.push(S);const W=I(()=>_.value.findIndex(oe=>oe.id===S)),K=I(()=>n.value+f.value.length*2-W.value*2),G=I(()=>{const oe=C.value==="left"||C.value==="right",_e=C.value==="right",Ae=C.value==="bottom",Ne=P.value??A.value,Q=Ne===0?"%":"px",B={[C.value]:0,zIndex:K.value,transform:`translate${oe?"X":"Y"}(${(x.value?0:-(Ne===0?100:Ne))*(_e||Ae?-1:1)}${Q})`,position:$.value||n.value!==RP?"absolute":"fixed",...v.value?void 0:{transition:"none"}};if(!E.value)return B;const q=_.value[W.value];if(!q)throw new Error(`[Vuetify] Could not find layout item "${S}"`);const ie=c.value.get(S);return ie&&(q[ie.position]+=ie.amount),{...B,height:oe?`calc(100% - ${q.top}px - ${q.bottom}px)`:P.value?`${P.value}px`:void 0,left:_e?void 0:`${q.left}px`,right:_e?`${q.right}px`:void 0,top:C.value!=="bottom"?`${q.top}px`:void 0,bottom:C.value!=="top"?`${q.bottom}px`:void 0,width:oe?P.value?`${P.value}px`:void 0:`calc(100% - ${q.left}px - ${q.right}px)`}}),te=I(()=>({zIndex:K.value-1}));return{layoutItemStyles:G,layoutItemScrimStyles:te,zIndex:K}},unregister:O=>{o.delete(O),r.delete(O),s.delete(O),a.delete(O),l.delete(O),i.value=i.value.filter(D=>D!==O)},mainRect:g,mainStyles:p,getLayoutItem:y,items:_,layoutRect:d,rootZIndex:n});const k=I(()=>["v-layout",{"v-layout--full-height":e.fullHeight}]),R=I(()=>({zIndex:t?n.value:void 0,position:t?"relative":void 0,overflow:t?"hidden":void 0}));return{layoutClasses:k,layoutStyles:R,getLayoutItem:y,items:_,layoutRect:d,layoutRef:u}}function lF(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{blueprint:t,...n}=e,i=Fi(t,n),{aliases:r={},components:s={},directives:o={}}=i,a=gZ(i.defaults),l=_ee(i.display,i.ssr),u=xee(i.theme),d=Iee(i.icons),c=TZ(i.locale),f=mee(i.date,c),v=bee(i.goTo,c);return{install:p=>{for(const _ in o)p.directive(_,o[_]);for(const _ in s)p.component(_,s[_]);for(const _ in r)p.component(_,Ar({...r[_],name:_,aliasName:r[_].name}));if(u.install(p),p.provide(bc,a),p.provide(F0,l),p.provide(Lf,u),p.provide($0,d),p.provide(wc,c),p.provide(eF,f.options),p.provide(CP,f.instance),p.provide(nF,v),Bt&&i.ssr)if(p.$nuxt)p.$nuxt.hook("app:suspense:resolve",()=>{l.update()});else{const{mount:_}=p;p.mount=function(){const y=_(...arguments);return ot(()=>l.update()),p.mount=_,y}}fi.reset(),p.mixin({computed:{$vuetify(){return cn({defaults:wu.call(this,bc),display:wu.call(this,F0),theme:wu.call(this,Lf),icons:wu.call(this,$0),locale:wu.call(this,wc),date:wu.call(this,CP)})}}})},defaults:a,display:l,theme:u,icons:d,locale:c,date:f,goTo:v}}const Ree="3.7.2";lF.version=Ree;function wu(e){var i,r;const t=this.$,n=((i=t.parent)==null?void 0:i.provides)??((r=t.vnode.appContext)==null?void 0:r.provides);if(n&&e in n)return n[e]}class Jr{static getItem(t){try{const n=localStorage.getItem(t);return n?JSON.parse(n):null}catch(n){return console.error(`Error retrieving item from localStorage: ${n}`),null}}static setItem(t,n){try{const i=JSON.stringify(n);localStorage.setItem(t,i)}catch(i){console.error(`Error setting item in localStorage: ${i}`)}}static removeItem(t){localStorage.removeItem(t)}static clear(){localStorage.clear()}}const En=e=>e,OP=function(e,t){const n=e.getDay();if(t==n)return e;const i=(t-n+7)%7||7,r=new Date(e);return r.setDate(e.getDate()+i),r},Oee=function(e,t){const n=e.getDay();if(t==n)return e;const i=(t-n+7)%7||7,r=new Date(e);return r.setDate(e.getDate()-i),r},Vee=new Intl.DateTimeFormat("it-IT",{year:"numeric",month:"2-digit",day:"2-digit",timeZone:"Europe/Rome"}),uF=function(e){if(!e)return"";const t=new Date(e);return Vee.format(t)},Nee=new Intl.DateTimeFormat("it-IT",{timeStyle:"medium",dateStyle:"short",timeZone:"Europe/Rome"}),Mee=function(e){if(!e)return"";const t=new Date(e);return Nee.format(t)},Lee=function(e,t){if(e.length!==t.length)return!1;const n=[...e].sort(),i=[...t].sort();return n.every((r,s)=>r===i[s])},Fee=function(e,t=30,n=80){let i=0;for(let s=0;s<e.length;s++)i=e.charCodeAt(s)+((i<<5)-i);return"hsl("+i%360+", "+t+"%, "+n+"%)"};class cF{constructor(){In(this,"handlers",[]);In(this,"unsubscription");In(this,"cache")}subscribe(t,n=!1){return this.handlers.push(t),n&&this.cache!=null&&t.next(this.cache),new $ee(this,t)}unsubscribe(t){var i;const n=this.handlers.indexOf(t);n!==-1&&this.handlers.splice(n,1),this.handlers.length==0&&((i=this.unsubscription)==null||i.call(this))}unsubscribeAll(){this.clear()}setUnsubscription(t){this.unsubscription=t}next(t){this.cache=t,[...this.handlers].forEach(n=>n.next(t))}error(t){[...this.handlers].forEach(n=>{var i;return(i=n.error)==null?void 0:i.call(n,t)}),console.log(t)}clear(){this.handlers=[]}expose(){return this}}class $ee{constructor(t,n){this.liteEvent=t,this.handler=n}unsubscribe(){this.liteEvent.unsubscribe(this.handler)}}const Bee=()=>{const e=new WeakSet;return(t,n)=>{if(typeof n=="object"&&n!==null){if(e.has(n))return;e.add(n)}return n}};var An=(e=>(e[e.ERROR=0]="ERROR",e[e.WARNING=1]="WARNING",e[e.INFO=2]="INFO",e[e.EXCEPTION=3]="EXCEPTION",e[e.PROMISE_REJECTION=4]="PROMISE_REJECTION",e[e.ALL=5]="ALL",e))(An||{});const Ug=class Ug{constructor(){In(this,"logs",[]);In(this,"logs2",[]);In(this,"_subscription",new cF)}static get instance(){return this._instance||(this._instance=new Ug),this._instance}get subscription(){return this._subscription}get enabled(){return Jr.getItem("debugEnabled")??!0}push(t,...n){if(!this.enabled)return;const i=JSON.stringify(n,Bee()),r=new Date;this.logs.push({level:t,message:i,timestamp:r}),this._subscription.next(this.logs)}clear(){this.logs.length=0,this._subscription.next(this.logs)}};In(Ug,"_instance",null);let ia=Ug;const Uee={class:"d-flex justify-center w-100"},jee={key:1,class:"text-h7"},Hee={class:"mx-auto text-center"},Wee={key:0},zee={key:1,class:"text-h7"},Gee={class:"text-caption mt-1"},qee=Tt({__name:"App",setup(e){const{mobile:t}=Pr({mobileBreakpoint:"md"}),n=z(1),i=I(()=>{switch(n.value){case 0:return"blue-grey";case 1:return"teal";case 2:return"brown";case 3:return"indigo";default:return"blue-grey"}}),r=[],s=dL(),o=I1(),a=new URL("/teachers-agenda/assets/logor-m1FxASBK.png",import.meta.url).href,l=z(!1),u=z(!0),d="1.0.0-alpha4-dev",c={text:`Versione ${d}`,scrollStrategy:"close",location:"bottom",scrim:!0,persistent:!1,openOnClick:!0,openOnHover:!1},f=EN(),v=Vh(),g=Qp(),p=I(()=>{var E,k;return((k=(E=f.value)==null?void 0:E.displayName)==null?void 0:k.split(" ").map(R=>R.charAt(0)).join(""))??"TA"}),_=I(()=>{var E;return((E=f.value)==null?void 0:E.photoURL)??a}),y=I(()=>Fee(p.value));ge(f,async(E,k)=>{if(!E&&k&&g.meta.requiresAuth)return v.push({name:"login"});if(E){if(typeof g.query.redirect=="string")return v.push(g.query.redirect);if(g.name=="login")return v.push("/")}}),ge(()=>g.name,()=>u.value=g.name=="login");function b(){const E=Jr.getItem("theme")??"myCustomLightTheme";o.global.name.value=E=="myCustomDarkTheme"?"myCustomLightTheme":"myCustomDarkTheme",Jr.setItem("theme",o.global.name.value)}return yt(()=>{o.global.name.value=Jr.getItem("theme")??"myCustomLightTheme"}),(E,k)=>{const R=H("v-img"),O=H("v-list-item-title"),D=H("v-list-item-subtitle"),S=H("v-list-item"),w=H("v-divider"),C=H("v-icon"),A=H("v-list"),P=H("v-footer"),x=H("v-navigation-drawer"),U=H("v-app-bar-nav-icon"),$=H("v-app-bar-title"),j=H("v-btn"),Y=H("v-menu"),W=H("v-avatar"),K=H("v-fab-transition"),G=H("v-card-text"),te=H("v-card"),oe=H("v-app-bar"),_e=H("v-slide-x-transition"),Ae=H("router-view"),Ne=H("v-container"),Q=H("v-main"),B=H("v-bottom-navigation"),q=H("v-layout"),ie=H("v-app"),ce=ur("tooltip");return ye(),Le(ie,null,{default:N(()=>[!u.value&&!se(t)?(ye(),Le(x,{key:0,permanent:"",modelValue:l.value,"onUpdate:modelValue":k[0]||(k[0]=ne=>l.value=ne)},{append:N(()=>[h(P,{height:"45",class:"px-0"},{default:N(()=>[tt("div",Uee,[h(C,{start:""},{default:N(()=>k[12]||(k[12]=[xe("mdi-alpha-v-circle")])),_:1}),tt("span",null,lt(se(d)),1)])]),_:1})]),default:N(()=>[h(S,{height:"64"},{prepend:N(()=>[h(R,{contain:"",src:se(a),height:"45",width:"45"},null,8,["src"])]),default:N(()=>[h(O,{class:"text-h6 ml-3"},{default:N(()=>k[4]||(k[4]=[xe("Agenda")])),_:1}),h(D,{class:"text-h6 ml-3 pb-1"},{default:N(()=>k[5]||(k[5]=[xe("Del Maestro")])),_:1})]),_:1}),h(w),h(A,{dense:"",nav:""},{default:N(()=>[h(S,{to:"/",color:"lime-darken-4"},{prepend:N(()=>[h(C,{icon:"mdi-home"})]),default:N(()=>[h(O,null,{default:N(()=>k[6]||(k[6]=[xe("Home")])),_:1})]),_:1}),h(S,{to:"/schools",color:"lime-darken-4"},{prepend:N(()=>[h(C,{icon:"mdi-town-hall"})]),default:N(()=>[h(O,null,{default:N(()=>k[7]||(k[7]=[xe("Gestisci Scuole")])),_:1})]),_:1}),h(S,{to:"/calendar",color:"lime-darken-4"},{prepend:N(()=>[h(C,{icon:"mdi-calendar"})]),default:N(()=>[h(O,null,{default:N(()=>k[8]||(k[8]=[xe("Calendario")])),_:1})]),_:1}),h(S,{to:"/lesson/"+new Date,color:"lime-darken-4"},{prepend:N(()=>[h(C,{icon:"mdi-book-account"})]),default:N(()=>[h(O,null,{default:N(()=>k[9]||(k[9]=[xe("Lezioni")])),_:1})]),_:1},8,["to"]),h(S,{to:"/recoveries",color:"lime-darken-4"},{prepend:N(()=>[h(C,{icon:"mdi-repeat"})]),default:N(()=>[h(O,null,{default:N(()=>k[10]||(k[10]=[xe("Recuperi")])),_:1})]),_:1}),h(S,{to:"/reports",color:"lime-darken-4"},{prepend:N(()=>[h(C,{icon:"mdi-chart-bar"})]),default:N(()=>[h(O,null,{default:N(()=>k[11]||(k[11]=[xe("Statistiche")])),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])):Jt("",!0),h(oe,{color:"grey-darken-4"},{default:N(()=>[!u.value&&!se(t)?(ye(),Le(U,{key:0,onClick:k[1]||(k[1]=ne=>l.value=!l.value)})):Jt("",!0),h($,{style:{"margin-left":"-10px"}}),se(t)?pn((ye(),Le(j,{key:1,icon:"",class:"mr-2"},{default:N(()=>[h(C,{right:""},{default:N(()=>k[13]||(k[13]=[xe("mdi-information")])),_:1})]),_:1})),[[ce,c]]):Jt("",!0),h(j,{onClick:b,icon:"",class:"mr-2"},{default:N(()=>[h(C,{right:""},{default:N(()=>k[14]||(k[14]=[xe("mdi-theme-light-dark")])),_:1})]),_:1}),h(Y,{transition:"slide-y-transition"},{activator:N(({props:ne})=>[h(j,J({icon:"",class:"mr-2"},ne),{default:N(()=>[h(C,{right:""},{default:N(()=>k[15]||(k[15]=[xe("mdi-bell")])),_:1})]),_:2},1040)]),default:N(()=>[h(A,null,{default:N(()=>[(ye(),St(Ie,null,Ui(r,(ne,Se)=>h(S,{key:Se},{default:N(()=>[h(O,null,{default:N(()=>[xe(lt(ne.title),1)]),_:2},1024)]),_:2},1024)),64))]),_:1})]),_:1}),h(Y,{"min-width":"200px",class:"mr-2",rounded:""},{activator:N(({props:ne})=>[h(j,J({class:"mr-2",icon:""},ne),{default:N(()=>[h(W,{color:y.value},{default:N(()=>[_.value?(ye(),Le(R,{key:0,src:_.value},null,8,["src"])):(ye(),St("span",jee,lt(p.value),1))]),_:1},8,["color"])]),_:2},1040)]),default:N(()=>[h(te,null,{default:N(()=>[h(G,null,{default:N(()=>[tt("div",Hee,[se(f)?(ye(),St("div",Wee,[h(W,{color:y.value},{default:N(()=>[_.value?(ye(),Le(R,{key:0,src:_.value},null,8,["src"])):(ye(),St("span",zee,lt(p.value),1))]),_:1},8,["color"]),tt("h3",null,lt(se(f).displayName),1),tt("p",Gee,lt(se(f).email),1),h(w,{class:"my-3"}),h(j,{variant:"text",rounded:"",to:"/settings"},{default:N(()=>[h(C,{right:"",class:"mr-2"},{default:N(()=>k[16]||(k[16]=[xe("mdi-cog")])),_:1}),k[17]||(k[17]=xe(" Impostazioni "))]),_:1}),k[20]||(k[20]=tt("br",null,null,-1)),h(j,{variant:"text",rounded:"",to:"/debugger"},{default:N(()=>[h(C,{right:"",class:"mr-2"},{default:N(()=>k[18]||(k[18]=[xe("mdi-bug")])),_:1}),k[19]||(k[19]=xe(" Debugger "))]),_:1}),h(w,{class:"my-3"})])):Jt("",!0),h(K,null,{default:N(()=>[se(f)?(ye(),Le(j,{key:1,class:"mx-5",variant:"text",onClick:k[2]||(k[2]=ne=>se(oz)(se(s)))},{default:N(()=>[k[24]||(k[24]=xe(" Esci ")),h(C,{right:"",class:"ml-2"},{default:N(()=>k[23]||(k[23]=[xe("mdi-logout")])),_:1})]),_:1})):(ye(),Le(j,{key:0,class:"mx-5",variant:"outlined",to:"/login"},{default:N(()=>[k[22]||(k[22]=xe(" Accedi ")),h(C,{right:"",class:"ml-2"},{default:N(()=>k[21]||(k[21]=[xe("mdi-login")])),_:1})]),_:1}))]),_:1})])]),_:1})]),_:1})]),_:1})]),_:1}),h(Q,null,{default:N(()=>[h(Ne,{fluid:""},{default:N(()=>[h(Ae,null,{default:N(({Component:ne,route:Se})=>[h(_e,{"leave-absolute":""},{default:N(()=>[(ye(),Le(PO(ne)))]),_:2},1024)]),_:1})]),_:1})]),_:1}),!u.value&&se(t)?(ye(),Le(q,{key:1,class:"overflow-visible position-relative",style:{height:"56px"}},{default:N(()=>[h(B,{class:"position-fixed bottom-0",modelValue:n.value,"onUpdate:modelValue":k[3]||(k[3]=ne=>n.value=ne),"bg-color":i.value,mode:"shift"},{default:N(()=>[h(j,{to:"/"},{default:N(()=>[h(C,null,{default:N(()=>k[25]||(k[25]=[xe("mdi-home")])),_:1}),k[26]||(k[26]=tt("span",null,"Home",-1))]),_:1})]),_:1},8,["modelValue","bg-color"])]),_:1})):Jt("",!0)]),_:1})}}}),Yee={apiKey:"AIzaSyDhEJoQLDHojsr_VEtB1O9IErI__pShKa8",authDomain:"teachers-agenda.firebaseapp.com",projectId:"teachers-agenda",storageBucket:"teachers-agenda.appspot.com",messagingSenderId:"56057008308",appId:"1:56057008308:web:ca3a75547d1b64ba3087e1",measurementId:"G-KWTDHCXRJ4"};function Kee(e){const t=e||RV(Yee),n=v8(t),i=z2(t);return"true".toLowerCase()==="true"&&location.hostname==="localhost"&&(eN(n,"http://localhost:9099"),W2(i,"localhost",8080)),{firebaseApp:t,auth:n,firestore:i}}function Xee(){const e=Y9()[0];return Kee(e)}const Qee=new io,Jee=Z({...$e(),...sF({fullHeight:!0}),...Ct()},"VApp"),Zee=de()({name:"VApp",props:Jee(),setup(e,t){let{slots:n}=t;const i=Ft(e),{layoutClasses:r,getLayoutItem:s,items:o,layoutRef:a}=aF(e),{rtlClasses:l}=Jn();return ve(()=>{var u;return h("div",{ref:a,class:["v-application",i.themeClasses.value,r.value,l.value,e.class],style:[e.style]},[h("div",{class:"v-application__wrap"},[(u=n.default)==null?void 0:u.call(n)])])}),{getLayoutItem:s,items:o,theme:i}}}),ut=Z({tag:{type:String,default:"div"}},"tag"),dF=Z({text:String,...$e(),...ut()},"VToolbarTitle"),A1=de()({name:"VToolbarTitle",props:dF(),setup(e,t){let{slots:n}=t;return ve(()=>{const i=!!(n.default||n.text||e.text);return h(e.tag,{class:["v-toolbar-title",e.class],style:e.style},{default:()=>{var r;return[i&&h("div",{class:"v-toolbar-title__placeholder"},[n.text?n.text():e.text,(r=n.default)==null?void 0:r.call(n)])]}})}),{}}}),ete=Z({disabled:Boolean,group:Boolean,hideOnLeave:Boolean,leaveAbsolute:Boolean,mode:String,origin:String},"transition");function xr(e,t,n){return de()({name:e,props:ete({mode:n,origin:t}),setup(i,r){let{slots:s}=r;const o={onBeforeEnter(a){i.origin&&(a.style.transformOrigin=i.origin)},onLeave(a){if(i.leaveAbsolute){const{offsetTop:l,offsetLeft:u,offsetWidth:d,offsetHeight:c}=a;a._transitionInitialStyles={position:a.style.position,top:a.style.top,left:a.style.left,width:a.style.width,height:a.style.height},a.style.position="absolute",a.style.top=`${l}px`,a.style.left=`${u}px`,a.style.width=`${d}px`,a.style.height=`${c}px`}i.hideOnLeave&&a.style.setProperty("display","none","important")},onAfterLeave(a){if(i.leaveAbsolute&&(a!=null&&a._transitionInitialStyles)){const{position:l,top:u,left:d,width:c,height:f}=a._transitionInitialStyles;delete a._transitionInitialStyles,a.style.position=l||"",a.style.top=u||"",a.style.left=d||"",a.style.width=c||"",a.style.height=f||""}}};return()=>{const a=i.group?FS:va;return ni(a,{name:i.disabled?"":e,css:!i.disabled,...i.group?void 0:{mode:i.mode},...i.disabled?{}:o},s.default)}}})}function fF(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"in-out";return de()({name:e,props:{mode:{type:String,default:n},disabled:Boolean,group:Boolean},setup(i,r){let{slots:s}=r;const o=i.group?FS:va;return()=>ni(o,{name:i.disabled?"":e,css:!i.disabled,...i.disabled?{}:t},s.default)}})}function hF(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";const n=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1)?"width":"height",i=lr(`offset-${n}`);return{onBeforeEnter(o){o._parent=o.parentNode,o._initialStyle={transition:o.style.transition,overflow:o.style.overflow,[n]:o.style[n]}},onEnter(o){const a=o._initialStyle;o.style.setProperty("transition","none","important"),o.style.overflow="hidden";const l=`${o[i]}px`;o.style[n]="0",o.offsetHeight,o.style.transition=a.transition,e&&o._parent&&o._parent.classList.add(e),requestAnimationFrame(()=>{o.style[n]=l})},onAfterEnter:s,onEnterCancelled:s,onLeave(o){o._initialStyle={transition:"",overflow:o.style.overflow,[n]:o.style[n]},o.style.overflow="hidden",o.style[n]=`${o[i]}px`,o.offsetHeight,requestAnimationFrame(()=>o.style[n]="0")},onAfterLeave:r,onLeaveCancelled:r};function r(o){e&&o._parent&&o._parent.classList.remove(e),s(o)}function s(o){const a=o._initialStyle[n];o.style.overflow=o._initialStyle.overflow,a!=null&&(o.style[n]=a),delete o._initialStyle}}const tte=Z({target:[Object,Array]},"v-dialog-transition"),s_=de()({name:"VDialogTransition",props:tte(),setup(e,t){let{slots:n}=t;const i={onBeforeEnter(r){r.style.pointerEvents="none",r.style.visibility="hidden"},async onEnter(r,s){var f;await new Promise(v=>requestAnimationFrame(v)),await new Promise(v=>requestAnimationFrame(v)),r.style.visibility="";const{x:o,y:a,sx:l,sy:u,speed:d}=NP(e.target,r),c=cl(r,[{transform:`translate(${o}px, ${a}px) scale(${l}, ${u})`,opacity:0},{}],{duration:225*d,easing:bZ});(f=VP(r))==null||f.forEach(v=>{cl(v,[{opacity:0},{opacity:0,offset:.33},{}],{duration:225*2*d,easing:Nf})}),c.finished.then(()=>s())},onAfterEnter(r){r.style.removeProperty("pointer-events")},onBeforeLeave(r){r.style.pointerEvents="none"},async onLeave(r,s){var f;await new Promise(v=>requestAnimationFrame(v));const{x:o,y:a,sx:l,sy:u,speed:d}=NP(e.target,r);cl(r,[{},{transform:`translate(${o}px, ${a}px) scale(${l}, ${u})`,opacity:0}],{duration:125*d,easing:wZ}).finished.then(()=>s()),(f=VP(r))==null||f.forEach(v=>{cl(v,[{},{opacity:0,offset:.2},{opacity:0}],{duration:125*2*d,easing:Nf})})},onAfterLeave(r){r.style.removeProperty("pointer-events")}};return()=>e.target?h(va,J({name:"dialog-transition"},i,{css:!1}),n):h(va,{name:"dialog-transition"},n)}});function VP(e){var n;const t=(n=e.querySelector(":scope > .v-card, :scope > .v-sheet, :scope > .v-list"))==null?void 0:n.children;return t&&[...t]}function NP(e,t){const n=OL(e),i=_1(t),[r,s]=getComputedStyle(t).transformOrigin.split(" ").map(y=>parseFloat(y)),[o,a]=getComputedStyle(t).getPropertyValue("--v-overlay-anchor-origin").split(" ");let l=n.left+n.width/2;o==="left"||a==="left"?l-=n.width/2:(o==="right"||a==="right")&&(l+=n.width/2);let u=n.top+n.height/2;o==="top"||a==="top"?u-=n.height/2:(o==="bottom"||a==="bottom")&&(u+=n.height/2);const d=n.width/i.width,c=n.height/i.height,f=Math.max(1,d,c),v=d/f||0,g=c/f||0,p=i.width*i.height/(window.innerWidth*window.innerHeight),_=p>.12?Math.min(1.5,(p-.12)*10+1):1;return{x:l-(r+i.left),y:u-(s+i.top),sx:v,sy:g,speed:_}}const nte=xr("fab-transition","center center","out-in"),ite=xr("dialog-bottom-transition"),rte=xr("dialog-top-transition"),$f=xr("fade-transition"),P1=xr("scale-transition"),ste=xr("scroll-x-transition"),ote=xr("scroll-x-reverse-transition"),ate=xr("scroll-y-transition"),lte=xr("scroll-y-reverse-transition"),ute=xr("slide-x-transition"),cte=xr("slide-x-reverse-transition"),x1=xr("slide-y-transition"),dte=xr("slide-y-reverse-transition"),o_=fF("expand-transition",hF()),D1=fF("expand-x-transition",hF("",!0)),fte=Z({defaults:Object,disabled:Boolean,reset:[Number,String],root:[Boolean,String],scoped:Boolean},"VDefaultsProvider"),at=de(!1)({name:"VDefaultsProvider",props:fte(),setup(e,t){let{slots:n}=t;const{defaults:i,disabled:r,reset:s,root:o,scoped:a}=xa(e);return _n(i,{reset:s,root:o,scoped:a,disabled:r}),()=>{var l;return(l=n.default)==null?void 0:l.call(n)}}}),qn=Z({height:[Number,String],maxHeight:[Number,String],maxWidth:[Number,String],minHeight:[Number,String],minWidth:[Number,String],width:[Number,String]},"dimension");function Yn(e){return{dimensionStyles:I(()=>{const n={},i=Ve(e.height),r=Ve(e.maxHeight),s=Ve(e.maxWidth),o=Ve(e.minHeight),a=Ve(e.minWidth),l=Ve(e.width);return i!=null&&(n.height=i),r!=null&&(n.maxHeight=r),s!=null&&(n.maxWidth=s),o!=null&&(n.minHeight=o),a!=null&&(n.minWidth=a),l!=null&&(n.width=l),n})}}function hte(e){return{aspectStyles:I(()=>{const t=Number(e.aspectRatio);return t?{paddingBottom:String(1/t*100)+"%"}:void 0})}}const vF=Z({aspectRatio:[String,Number],contentClass:null,inline:Boolean,...$e(),...qn()},"VResponsive"),U0=de()({name:"VResponsive",props:vF(),setup(e,t){let{slots:n}=t;const{aspectStyles:i}=hte(e),{dimensionStyles:r}=Yn(e);return ve(()=>{var s;return h("div",{class:["v-responsive",{"v-responsive--inline":e.inline},e.class],style:[r.value,e.style]},[h("div",{class:"v-responsive__sizer",style:i.value},null),(s=n.additional)==null?void 0:s.call(n),n.default&&h("div",{class:["v-responsive__content",e.contentClass]},[n.default()])])}),{}}});function R1(e){return g1(()=>{const t=[],n={};if(e.value.background)if(N0(e.value.background)){if(n.backgroundColor=e.value.background,!e.value.text&&uZ(e.value.background)){const i=Lr(e.value.background);if(i.a==null||i.a===1){const r=WL(i);n.color=r,n.caretColor=r}}}else t.push(`bg-${e.value.background}`);return e.value.text&&(N0(e.value.text)?(n.color=e.value.text,n.caretColor=e.value.text):t.push(`text-${e.value.text}`)),{colorClasses:t,colorStyles:n}})}function ci(e,t){const n=I(()=>({text:Qe(e)?e.value:t?e[t]:null})),{colorClasses:i,colorStyles:r}=R1(n);return{textColorClasses:i,textColorStyles:r}}function Gt(e,t){const n=I(()=>({background:Qe(e)?e.value:t?e[t]:null})),{colorClasses:i,colorStyles:r}=R1(n);return{backgroundColorClasses:i,backgroundColorStyles:r}}const yn=Z({rounded:{type:[Boolean,Number,String],default:void 0},tile:Boolean},"rounded");function On(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Hs();return{roundedClasses:I(()=>{const i=Qe(e)?e.value:e.rounded,r=Qe(e)?e.value:e.tile,s=[];if(i===!0||i==="")s.push(`${t}--rounded`);else if(typeof i=="string"||i===0)for(const o of String(i).split(" "))s.push(`rounded-${o}`);else(r||i===!1)&&s.push("rounded-0");return s})}}const hs=Z({transition:{type:[Boolean,String,Object],default:"fade-transition",validator:e=>e!==!0}},"transition"),$i=(e,t)=>{let{slots:n}=t;const{transition:i,disabled:r,group:s,...o}=e,{component:a=s?FS:va,...l}=typeof i=="object"?i:{};return ni(a,J(typeof i=="string"?{name:r?"":i}:l,typeof i=="string"?{}:Object.fromEntries(Object.entries({disabled:r,group:s}).filter(u=>{let[d,c]=u;return c!==void 0})),o),n)};function vte(e,t){if(!f1)return;const n=t.modifiers||{},i=t.value,{handler:r,options:s}=typeof i=="object"?i:{handler:i,options:{}},o=new IntersectionObserver(function(){var c;let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],l=arguments.length>1?arguments[1]:void 0;const u=(c=e._observe)==null?void 0:c[t.instance.$.uid];if(!u)return;const d=a.some(f=>f.isIntersecting);r&&(!n.quiet||u.init)&&(!n.once||d||u.init)&&r(d,a,l),d&&n.once?mF(e,t):u.init=!0},s);e._observe=Object(e._observe),e._observe[t.instance.$.uid]={init:!1,observer:o},o.observe(e)}function mF(e,t){var i;const n=(i=e._observe)==null?void 0:i[t.instance.$.uid];n&&(n.observer.unobserve(e),delete e._observe[t.instance.$.uid])}const Nh={mounted:vte,unmounted:mF},gF=Z({absolute:Boolean,alt:String,cover:Boolean,color:String,draggable:{type:[Boolean,String],default:void 0},eager:Boolean,gradient:String,lazySrc:String,options:{type:Object,default:()=>({root:void 0,rootMargin:void 0,threshold:void 0})},sizes:String,src:{type:[String,Object],default:""},crossorigin:String,referrerpolicy:String,srcset:String,position:String,...vF(),...$e(),...yn(),...hs()},"VImg"),ko=de()({name:"VImg",directives:{intersect:Nh},props:gF(),emits:{loadstart:e=>!0,load:e=>!0,error:e=>!0},setup(e,t){let{emit:n,slots:i}=t;const{backgroundColorClasses:r,backgroundColorStyles:s}=Gt(ue(e,"color")),{roundedClasses:o}=On(e),a=Rn("VImg"),l=Te(""),u=z(),d=Te(e.eager?"loading":"idle"),c=Te(),f=Te(),v=I(()=>e.src&&typeof e.src=="object"?{src:e.src.src,srcset:e.srcset||e.src.srcset,lazySrc:e.lazySrc||e.src.lazySrc,aspect:Number(e.aspectRatio||e.src.aspect||0)}:{src:e.src,srcset:e.srcset,lazySrc:e.lazySrc,aspect:Number(e.aspectRatio||0)}),g=I(()=>v.value.aspect||c.value/f.value||0);ge(()=>e.src,()=>{p(d.value!=="idle")}),ge(g,(P,x)=>{!P&&x&&u.value&&k(u.value)}),AS(()=>p());function p(P){if(!(e.eager&&P)&&!(f1&&!P&&!e.eager)){if(d.value="loading",v.value.lazySrc){const x=new Image;x.src=v.value.lazySrc,k(x,null)}v.value.src&&ot(()=>{var x;n("loadstart",((x=u.value)==null?void 0:x.currentSrc)||v.value.src),setTimeout(()=>{var U;if(!a.isUnmounted)if((U=u.value)!=null&&U.complete){if(u.value.naturalWidth||y(),d.value==="error")return;g.value||k(u.value,null),d.value==="loading"&&_()}else g.value||k(u.value),b()})})}}function _(){var P;a.isUnmounted||(b(),k(u.value),d.value="loaded",n("load",((P=u.value)==null?void 0:P.currentSrc)||v.value.src))}function y(){var P;a.isUnmounted||(d.value="error",n("error",((P=u.value)==null?void 0:P.currentSrc)||v.value.src))}function b(){const P=u.value;P&&(l.value=P.currentSrc||P.src)}let E=-1;di(()=>{clearTimeout(E)});function k(P){let x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:100;const U=()=>{if(clearTimeout(E),a.isUnmounted)return;const{naturalHeight:$,naturalWidth:j}=P;$||j?(c.value=j,f.value=$):!P.complete&&d.value==="loading"&&x!=null?E=window.setTimeout(U,x):(P.currentSrc.endsWith(".svg")||P.currentSrc.startsWith("data:image/svg+xml"))&&(c.value=1,f.value=1)};U()}const R=I(()=>({"v-img__img--cover":e.cover,"v-img__img--contain":!e.cover})),O=()=>{var U;if(!v.value.src||d.value==="idle")return null;const P=h("img",{class:["v-img__img",R.value],style:{objectPosition:e.position},src:v.value.src,srcset:v.value.srcset,alt:e.alt,crossorigin:e.crossorigin,referrerpolicy:e.referrerpolicy,draggable:e.draggable,sizes:e.sizes,ref:u,onLoad:_,onError:y},null),x=(U=i.sources)==null?void 0:U.call(i);return h($i,{transition:e.transition,appear:!0},{default:()=>[pn(x?h("picture",{class:"v-img__picture"},[x,P]):P,[[fs,d.value==="loaded"]])]})},D=()=>h($i,{transition:e.transition},{default:()=>[v.value.lazySrc&&d.value!=="loaded"&&h("img",{class:["v-img__img","v-img__img--preload",R.value],style:{objectPosition:e.position},src:v.value.lazySrc,alt:e.alt,crossorigin:e.crossorigin,referrerpolicy:e.referrerpolicy,draggable:e.draggable},null)]}),S=()=>i.placeholder?h($i,{transition:e.transition,appear:!0},{default:()=>[(d.value==="loading"||d.value==="error"&&!i.error)&&h("div",{class:"v-img__placeholder"},[i.placeholder()])]}):null,w=()=>i.error?h($i,{transition:e.transition,appear:!0},{default:()=>[d.value==="error"&&h("div",{class:"v-img__error"},[i.error()])]}):null,C=()=>e.gradient?h("div",{class:"v-img__gradient",style:{backgroundImage:`linear-gradient(${e.gradient})`}},null):null,A=Te(!1);{const P=ge(g,x=>{x&&(requestAnimationFrame(()=>{requestAnimationFrame(()=>{A.value=!0})}),P())})}return ve(()=>{const P=U0.filterProps(e);return pn(h(U0,J({class:["v-img",{"v-img--absolute":e.absolute,"v-img--booting":!A.value},r.value,o.value,e.class],style:[{width:Ve(e.width==="auto"?c.value:e.width)},s.value,e.style]},P,{aspectRatio:g.value,"aria-label":e.alt,role:e.alt?"img":void 0}),{additional:()=>h(Ie,null,[h(O,null,null),h(D,null,null),h(C,null,null),h(S,null,null),h(w,null,null)]),default:i.default}),[[ur("intersect"),{handler:p,options:e.options},null,{once:!0}]])}),{currentSrc:l,image:u,state:d,naturalWidth:c,naturalHeight:f}}}),cr=Z({border:[Boolean,Number,String]},"border");function Dr(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Hs();return{borderClasses:I(()=>{const i=Qe(e)?e.value:e.border,r=[];if(i===!0||i==="")r.push(`${t}--border`);else if(typeof i=="string"||i===0)for(const s of String(i).split(" "))r.push(`border-${s}`);return r})}}const Zn=Z({elevation:{type:[Number,String],validator(e){const t=parseInt(e);return!isNaN(t)&&t>=0&&t<=24}}},"elevation");function hi(e){return{elevationClasses:I(()=>{const n=Qe(e)?e.value:e.elevation,i=[];return n==null||i.push(`elevation-${n}`),i})}}const mte=[null,"prominent","default","comfortable","compact"],pF=Z({absolute:Boolean,collapse:Boolean,color:String,density:{type:String,default:"default",validator:e=>mte.includes(e)},extended:Boolean,extensionHeight:{type:[Number,String],default:48},flat:Boolean,floating:Boolean,height:{type:[Number,String],default:64},image:String,title:String,...cr(),...$e(),...Zn(),...yn(),...ut({tag:"header"}),...Ct()},"VToolbar"),j0=de()({name:"VToolbar",props:pF(),setup(e,t){var v;let{slots:n}=t;const{backgroundColorClasses:i,backgroundColorStyles:r}=Gt(ue(e,"color")),{borderClasses:s}=Dr(e),{elevationClasses:o}=hi(e),{roundedClasses:a}=On(e),{themeClasses:l}=Ft(e),{rtlClasses:u}=Jn(),d=Te(!!(e.extended||(v=n.extension)!=null&&v.call(n))),c=I(()=>parseInt(Number(e.height)+(e.density==="prominent"?Number(e.height):0)-(e.density==="comfortable"?8:0)-(e.density==="compact"?16:0),10)),f=I(()=>d.value?parseInt(Number(e.extensionHeight)+(e.density==="prominent"?Number(e.extensionHeight):0)-(e.density==="comfortable"?4:0)-(e.density==="compact"?8:0),10):0);return _n({VBtn:{variant:"text"}}),ve(()=>{var y;const g=!!(e.title||n.title),p=!!(n.image||e.image),_=(y=n.extension)==null?void 0:y.call(n);return d.value=!!(e.extended||_),h(e.tag,{class:["v-toolbar",{"v-toolbar--absolute":e.absolute,"v-toolbar--collapse":e.collapse,"v-toolbar--flat":e.flat,"v-toolbar--floating":e.floating,[`v-toolbar--density-${e.density}`]:!0},i.value,s.value,o.value,a.value,l.value,u.value,e.class],style:[r.value,e.style]},{default:()=>[p&&h("div",{key:"image",class:"v-toolbar__image"},[n.image?h(at,{key:"image-defaults",disabled:!e.image,defaults:{VImg:{cover:!0,src:e.image}}},n.image):h(ko,{key:"image-img",cover:!0,src:e.image},null)]),h(at,{defaults:{VTabs:{height:Ve(c.value)}}},{default:()=>{var b,E,k;return[h("div",{class:"v-toolbar__content",style:{height:Ve(c.value)}},[n.prepend&&h("div",{class:"v-toolbar__prepend"},[(b=n.prepend)==null?void 0:b.call(n)]),g&&h(A1,{key:"title",text:e.title},{text:n.title}),(E=n.default)==null?void 0:E.call(n),n.append&&h("div",{class:"v-toolbar__append"},[(k=n.append)==null?void 0:k.call(n)])])]}}),h(at,{defaults:{VTabs:{height:Ve(f.value)}}},{default:()=>[h(o_,null,{default:()=>[d.value&&h("div",{class:"v-toolbar__extension",style:{height:Ve(f.value)}},[_])]})]})]})}),{contentHeight:c,extensionHeight:f}}}),gte=Z({scrollTarget:{type:String},scrollThreshold:{type:[String,Number],default:300}},"scroll");function pte(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{canScroll:n}=t;let i=0,r=0;const s=z(null),o=Te(0),a=Te(0),l=Te(0),u=Te(!1),d=Te(!1),c=I(()=>Number(e.scrollThreshold)),f=I(()=>kn((c.value-o.value)/c.value||0)),v=()=>{const g=s.value;if(!g||n&&!n.value)return;i=o.value,o.value="window"in g?g.pageYOffset:g.scrollTop;const p=g instanceof Window?document.documentElement.scrollHeight:g.scrollHeight;if(r!==p){r=p;return}d.value=o.value<i,l.value=Math.abs(o.value-c.value)};return ge(d,()=>{a.value=a.value||o.value}),ge(u,()=>{a.value=0}),yt(()=>{ge(()=>e.scrollTarget,g=>{var _;const p=g?document.querySelector(g):window;p&&p!==s.value&&((_=s.value)==null||_.removeEventListener("scroll",v),s.value=p,s.value.addEventListener("scroll",v,{passive:!0}))},{immediate:!0})}),di(()=>{var g;(g=s.value)==null||g.removeEventListener("scroll",v)}),n&&ge(n,v,{immediate:!0}),{scrollThreshold:c,currentScroll:o,currentThreshold:l,isScrollActive:u,scrollRatio:f,isScrollingUp:d,savedScroll:a}}function tu(){const e=Te(!1);return yt(()=>{window.requestAnimationFrame(()=>{e.value=!0})}),{ssrBootStyles:I(()=>e.value?void 0:{transition:"none !important"}),isBooted:xc(e)}}const _te=Z({scrollBehavior:String,modelValue:{type:Boolean,default:!0},location:{type:String,default:"top",validator:e=>["top","bottom"].includes(e)},...pF(),...Zl(),...gte(),height:{type:[Number,String],default:64}},"VAppBar"),yte=de()({name:"VAppBar",props:_te(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const i=z(),r=je(e,"modelValue"),s=I(()=>{var E;const b=new Set(((E=e.scrollBehavior)==null?void 0:E.split(" "))??[]);return{hide:b.has("hide"),fullyHide:b.has("fully-hide"),inverted:b.has("inverted"),collapse:b.has("collapse"),elevate:b.has("elevate"),fadeImage:b.has("fade-image")}}),o=I(()=>{const b=s.value;return b.hide||b.fullyHide||b.inverted||b.collapse||b.elevate||b.fadeImage||!r.value}),{currentScroll:a,scrollThreshold:l,isScrollingUp:u,scrollRatio:d}=pte(e,{canScroll:o}),c=I(()=>s.value.hide||s.value.fullyHide),f=I(()=>e.collapse||s.value.collapse&&(s.value.inverted?d.value>0:d.value===0)),v=I(()=>e.flat||s.value.fullyHide&&!r.value||s.value.elevate&&(s.value.inverted?a.value>0:a.value===0)),g=I(()=>s.value.fadeImage?s.value.inverted?1-d.value:d.value:void 0),p=I(()=>{var k,R;if(s.value.hide&&s.value.inverted)return 0;const b=((k=i.value)==null?void 0:k.contentHeight)??0,E=((R=i.value)==null?void 0:R.extensionHeight)??0;return c.value?a.value<l.value||s.value.fullyHide?b+E:b:b+E});Ji(I(()=>!!e.scrollBehavior),()=>{rn(()=>{c.value?s.value.inverted?r.value=a.value>l.value:r.value=u.value||a.value<l.value:r.value=!0})});const{ssrBootStyles:_}=tu(),{layoutItemStyles:y}=eu({id:e.name,order:I(()=>parseInt(e.order,10)),position:ue(e,"location"),layoutSize:p,elementSize:Te(void 0),active:r,absolute:ue(e,"absolute")});return ve(()=>{const b=j0.filterProps(e);return h(j0,J({ref:i,class:["v-app-bar",{"v-app-bar--bottom":e.location==="bottom"},e.class],style:[{...y.value,"--v-toolbar-image-opacity":g.value,height:void 0,..._.value},e.style]},b,{collapse:f.value,flat:v.value}),n)}),{}}}),bte=[null,"default","comfortable","compact"],ri=Z({density:{type:String,default:"default",validator:e=>bte.includes(e)}},"density");function Hi(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Hs();return{densityClasses:I(()=>`${t}--density-${e.density}`)}}const wte=["elevated","flat","tonal","outlined","text","plain"];function Ma(e,t){return h(Ie,null,[e&&h("span",{key:"overlay",class:`${t}__overlay`},null),h("span",{key:"underlay",class:`${t}__underlay`},null)])}const Hr=Z({color:String,variant:{type:String,default:"elevated",validator:e=>wte.includes(e)}},"variant");function nu(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Hs();const n=I(()=>{const{variant:s}=se(e);return`${t}--variant-${s}`}),{colorClasses:i,colorStyles:r}=R1(I(()=>{const{variant:s,color:o}=se(e);return{[["elevated","flat"].includes(s)?"background":"text"]:o}}));return{colorClasses:i,colorStyles:r,variantClasses:n}}const _F=Z({baseColor:String,divided:Boolean,...cr(),...$e(),...ri(),...Zn(),...yn(),...ut(),...Ct(),...Hr()},"VBtnGroup"),H0=de()({name:"VBtnGroup",props:_F(),setup(e,t){let{slots:n}=t;const{themeClasses:i}=Ft(e),{densityClasses:r}=Hi(e),{borderClasses:s}=Dr(e),{elevationClasses:o}=hi(e),{roundedClasses:a}=On(e);_n({VBtn:{height:"auto",baseColor:ue(e,"baseColor"),color:ue(e,"color"),density:ue(e,"density"),flat:!0,variant:ue(e,"variant")}}),ve(()=>h(e.tag,{class:["v-btn-group",{"v-btn-group--divided":e.divided},i.value,s.value,r.value,o.value,a.value,e.class],style:e.style},n))}}),iu=Z({modelValue:{type:null,default:void 0},multiple:Boolean,mandatory:[Boolean,String],max:Number,selectedClass:String,disabled:Boolean},"group"),ru=Z({value:null,disabled:Boolean,selectedClass:String},"group-item");function su(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;const i=Rn("useGroupItem");if(!i)throw new Error("[Vuetify] useGroupItem composable must be used inside a component setup function");const r=fi();Ut(Symbol.for(`${t.description}:id`),r);const s=st(t,null);if(!s){if(!n)return s;throw new Error(`[Vuetify] Could not find useGroup injection with symbol ${t.description}`)}const o=ue(e,"value"),a=I(()=>!!(s.disabled.value||e.disabled));s.register({id:r,value:o,disabled:a},i),di(()=>{s.unregister(r)});const l=I(()=>s.isSelected(r)),u=I(()=>s.items.value[0].id===r),d=I(()=>s.items.value[s.items.value.length-1].id===r),c=I(()=>l.value&&[s.selectedClass.value,e.selectedClass]);return ge(l,f=>{i.emit("group:selected",{value:f})},{flush:"sync"}),{id:r,isSelected:l,isFirst:u,isLast:d,toggle:()=>s.select(r,!l.value),select:f=>s.select(r,f),selectedClass:c,value:o,disabled:a,group:s}}function La(e,t){let n=!1;const i=cn([]),r=je(e,"modelValue",[],f=>f==null?[]:yF(i,vn(f)),f=>{const v=Ete(i,f);return e.multiple?v:v[0]}),s=Rn("useGroup");function o(f,v){const g=f,p=Symbol.for(`${t.description}:id`),y=Mu(p,s==null?void 0:s.vnode).indexOf(v);se(g.value)==null&&(g.value=y,g.useIndexAsValue=!0),y>-1?i.splice(y,0,g):i.push(g)}function a(f){if(n)return;l();const v=i.findIndex(g=>g.id===f);i.splice(v,1)}function l(){const f=i.find(v=>!v.disabled);f&&e.mandatory==="force"&&!r.value.length&&(r.value=[f.id])}yt(()=>{l()}),di(()=>{n=!0}),PS(()=>{for(let f=0;f<i.length;f++)i[f].useIndexAsValue&&(i[f].value=f)});function u(f,v){const g=i.find(p=>p.id===f);if(!(v&&(g!=null&&g.disabled)))if(e.multiple){const p=r.value.slice(),_=p.findIndex(b=>b===f),y=~_;if(v=v??!y,y&&e.mandatory&&p.length<=1||!y&&e.max!=null&&p.length+1>e.max)return;_<0&&v?p.push(f):_>=0&&!v&&p.splice(_,1),r.value=p}else{const p=r.value.includes(f);if(e.mandatory&&p)return;r.value=v??!p?[f]:[]}}function d(f){if(e.multiple,r.value.length){const v=r.value[0],g=i.findIndex(y=>y.id===v);let p=(g+f)%i.length,_=i[p];for(;_.disabled&&p!==g;)p=(p+f)%i.length,_=i[p];if(_.disabled)return;r.value=[i[p].id]}else{const v=i.find(g=>!g.disabled);v&&(r.value=[v.id])}}const c={register:o,unregister:a,selected:r,select:u,disabled:ue(e,"disabled"),prev:()=>d(i.length-1),next:()=>d(1),isSelected:f=>r.value.includes(f),selectedClass:I(()=>e.selectedClass),items:I(()=>i),getItemIndex:f=>Ste(i,f)};return Ut(t,c),c}function Ste(e,t){const n=yF(e,[t]);return n.length?e.findIndex(i=>i.id===n[0]):-1}function yF(e,t){const n=[];return t.forEach(i=>{const r=e.find(o=>js(i,o.value)),s=e[i];(r==null?void 0:r.value)!=null?n.push(r.id):s!=null&&n.push(s.id)}),n}function Ete(e,t){const n=[];return t.forEach(i=>{const r=e.findIndex(s=>s.id===i);if(~r){const s=e[r];n.push(s.value!=null?s.value:r)}}),n}const O1=Symbol.for("vuetify:v-btn-toggle"),Cte=Z({..._F(),...iu()},"VBtnToggle"),kte=de()({name:"VBtnToggle",props:Cte(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const{isSelected:i,next:r,prev:s,select:o,selected:a}=La(e,O1);return ve(()=>{const l=H0.filterProps(e);return h(H0,J({class:["v-btn-toggle",e.class]},l,{style:e.style}),{default:()=>{var u;return[(u=n.default)==null?void 0:u.call(n,{isSelected:i,next:r,prev:s,select:o,selected:a})]}})}),{next:r,prev:s,select:o}}}),Tte=["x-small","small","default","large","x-large"],zs=Z({size:{type:[String,Number],default:"default"}},"size");function jc(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Hs();return g1(()=>{let n,i;return dg(Tte,e.size)?n=`${t}--size-${e.size}`:e.size&&(i={width:Ve(e.size),height:Ve(e.size)}),{sizeClasses:n,sizeStyles:i}})}const Ite=Z({color:String,disabled:Boolean,start:Boolean,end:Boolean,icon:Je,...$e(),...zs(),...ut({tag:"i"}),...Ct()},"VIcon"),Pt=de()({name:"VIcon",props:Ite(),setup(e,t){let{attrs:n,slots:i}=t;const r=z(),{themeClasses:s}=Ft(e),{iconData:o}=Aee(I(()=>r.value||e.icon)),{sizeClasses:a}=jc(e),{textColorClasses:l,textColorStyles:u}=ci(ue(e,"color"));return ve(()=>{var f,v;const d=(f=i.default)==null?void 0:f.call(i);d&&(r.value=(v=AL(d).filter(g=>g.type===dh&&g.children&&typeof g.children=="string")[0])==null?void 0:v.children);const c=!!(n.onClick||n.onClickOnce);return h(o.value.component,{tag:e.tag,icon:o.value.icon,class:["v-icon","notranslate",s.value,a.value,l.value,{"v-icon--clickable":c,"v-icon--disabled":e.disabled,"v-icon--start":e.start,"v-icon--end":e.end},e.class],style:[a.value?void 0:{fontSize:Ve(e.size),height:Ve(e.size),width:Ve(e.size)},u.value,e.style],role:c?"button":void 0,"aria-hidden":!c,tabindex:c?e.disabled?-1:0:void 0},{default:()=>[d]})}),{}}});function a_(e,t){const n=z(),i=Te(!1);if(f1){const r=new IntersectionObserver(s=>{i.value=!!s.find(o=>o.isIntersecting)},t);di(()=>{r.disconnect()}),ge(n,(s,o)=>{o&&(r.unobserve(o),i.value=!1),s&&r.observe(s)},{flush:"post"})}return{intersectionRef:n,isIntersecting:i}}const Ate=Z({bgColor:String,color:String,indeterminate:[Boolean,String],modelValue:{type:[Number,String],default:0},rotate:{type:[Number,String],default:0},width:{type:[Number,String],default:4},...$e(),...zs(),...ut({tag:"div"}),...Ct()},"VProgressCircular"),ya=de()({name:"VProgressCircular",props:Ate(),setup(e,t){let{slots:n}=t;const i=20,r=2*Math.PI*i,s=z(),{themeClasses:o}=Ft(e),{sizeClasses:a,sizeStyles:l}=jc(e),{textColorClasses:u,textColorStyles:d}=ci(ue(e,"color")),{textColorClasses:c,textColorStyles:f}=ci(ue(e,"bgColor")),{intersectionRef:v,isIntersecting:g}=a_(),{resizeRef:p,contentRect:_}=us(),y=I(()=>Math.max(0,Math.min(100,parseFloat(e.modelValue)))),b=I(()=>Number(e.width)),E=I(()=>l.value?Number(e.size):_.value?_.value.width:Math.max(b.value,32)),k=I(()=>i/(1-b.value/E.value)*2),R=I(()=>b.value/E.value*k.value),O=I(()=>Ve((100-y.value)/100*r));return rn(()=>{v.value=s.value,p.value=s.value}),ve(()=>h(e.tag,{ref:s,class:["v-progress-circular",{"v-progress-circular--indeterminate":!!e.indeterminate,"v-progress-circular--visible":g.value,"v-progress-circular--disable-shrink":e.indeterminate==="disable-shrink"},o.value,a.value,u.value,e.class],style:[l.value,d.value,e.style],role:"progressbar","aria-valuemin":"0","aria-valuemax":"100","aria-valuenow":e.indeterminate?void 0:y.value},{default:()=>[h("svg",{style:{transform:`rotate(calc(-90deg + ${Number(e.rotate)}deg))`},xmlns:"http://www.w3.org/2000/svg",viewBox:`0 0 ${k.value} ${k.value}`},[h("circle",{class:["v-progress-circular__underlay",c.value],style:f.value,fill:"transparent",cx:"50%",cy:"50%",r:i,"stroke-width":R.value,"stroke-dasharray":r,"stroke-dashoffset":0},null),h("circle",{class:"v-progress-circular__overlay",fill:"transparent",cx:"50%",cy:"50%",r:i,"stroke-width":R.value,"stroke-dasharray":r,"stroke-dashoffset":O.value},null)]),n.default&&h("div",{class:"v-progress-circular__content"},[n.default({value:y.value})])]})),{}}}),MP={center:"center",top:"bottom",bottom:"top",left:"right",right:"left"},Oo=Z({location:String},"location");function ou(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=arguments.length>2?arguments[2]:void 0;const{isRtl:i}=Jn();return{locationStyles:I(()=>{if(!e.location)return{};const{side:s,align:o}=O0(e.location.split(" ").length>1?e.location:`${e.location} center`,i.value);function a(u){return n?n(u):0}const l={};return s!=="center"&&(t?l[MP[s]]=`calc(100% - ${a(s)}px)`:l[s]=0),o!=="center"?t?l[MP[o]]=`calc(100% - ${a(o)}px)`:l[o]=0:(s==="center"?l.top=l.left="50%":l[{top:"left",bottom:"left",left:"top",right:"top"}[s]]="50%",l.transform={top:"translateX(-50%)",bottom:"translateX(-50%)",left:"translateY(-50%)",right:"translateY(-50%)",center:"translate(-50%, -50%)"}[s]),l})}}const Pte=Z({absolute:Boolean,active:{type:Boolean,default:!0},bgColor:String,bgOpacity:[Number,String],bufferValue:{type:[Number,String],default:0},bufferColor:String,bufferOpacity:[Number,String],clickable:Boolean,color:String,height:{type:[Number,String],default:4},indeterminate:Boolean,max:{type:[Number,String],default:100},modelValue:{type:[Number,String],default:0},opacity:[Number,String],reverse:Boolean,stream:Boolean,striped:Boolean,roundedBar:Boolean,...$e(),...Oo({location:"top"}),...yn(),...ut(),...Ct()},"VProgressLinear"),l_=de()({name:"VProgressLinear",props:Pte(),emits:{"update:modelValue":e=>!0},setup(e,t){var A;let{slots:n}=t;const i=je(e,"modelValue"),{isRtl:r,rtlClasses:s}=Jn(),{themeClasses:o}=Ft(e),{locationStyles:a}=ou(e),{textColorClasses:l,textColorStyles:u}=ci(e,"color"),{backgroundColorClasses:d,backgroundColorStyles:c}=Gt(I(()=>e.bgColor||e.color)),{backgroundColorClasses:f,backgroundColorStyles:v}=Gt(I(()=>e.bufferColor||e.bgColor||e.color)),{backgroundColorClasses:g,backgroundColorStyles:p}=Gt(e,"color"),{roundedClasses:_}=On(e),{intersectionRef:y,isIntersecting:b}=a_(),E=I(()=>parseFloat(e.max)),k=I(()=>parseFloat(e.height)),R=I(()=>kn(parseFloat(e.bufferValue)/E.value*100,0,100)),O=I(()=>kn(parseFloat(i.value)/E.value*100,0,100)),D=I(()=>r.value!==e.reverse),S=I(()=>e.indeterminate?"fade-transition":"slide-x-transition"),w=Bt&&((A=window.matchMedia)==null?void 0:A.call(window,"(forced-colors: active)").matches);function C(P){if(!y.value)return;const{left:x,right:U,width:$}=y.value.getBoundingClientRect(),j=D.value?$-P.clientX+(U-$):P.clientX-x;i.value=Math.round(j/$*E.value)}return ve(()=>h(e.tag,{ref:y,class:["v-progress-linear",{"v-progress-linear--absolute":e.absolute,"v-progress-linear--active":e.active&&b.value,"v-progress-linear--reverse":D.value,"v-progress-linear--rounded":e.rounded,"v-progress-linear--rounded-bar":e.roundedBar,"v-progress-linear--striped":e.striped},_.value,o.value,s.value,e.class],style:[{bottom:e.location==="bottom"?0:void 0,top:e.location==="top"?0:void 0,height:e.active?Ve(k.value):0,"--v-progress-linear-height":Ve(k.value),...e.absolute?a.value:{}},e.style],role:"progressbar","aria-hidden":e.active?"false":"true","aria-valuemin":"0","aria-valuemax":e.max,"aria-valuenow":e.indeterminate?void 0:O.value,onClick:e.clickable&&C},{default:()=>[e.stream&&h("div",{key:"stream",class:["v-progress-linear__stream",l.value],style:{...u.value,[D.value?"left":"right"]:Ve(-k.value),borderTop:`${Ve(k.value/2)} dotted`,opacity:parseFloat(e.bufferOpacity),top:`calc(50% - ${Ve(k.value/4)})`,width:Ve(100-R.value,"%"),"--v-progress-linear-stream-to":Ve(k.value*(D.value?1:-1))}},null),h("div",{class:["v-progress-linear__background",w?void 0:d.value],style:[c.value,{opacity:parseFloat(e.bgOpacity),width:e.stream?0:void 0}]},null),h("div",{class:["v-progress-linear__buffer",w?void 0:f.value],style:[v.value,{opacity:parseFloat(e.bufferOpacity),width:Ve(R.value,"%")}]},null),h(va,{name:S.value},{default:()=>[e.indeterminate?h("div",{class:"v-progress-linear__indeterminate"},[["long","short"].map(P=>h("div",{key:P,class:["v-progress-linear__indeterminate",P,w?void 0:g.value],style:p.value},null))]):h("div",{class:["v-progress-linear__determinate",w?void 0:g.value],style:[p.value,{width:Ve(O.value,"%")}]},null)]}),n.default&&h("div",{class:"v-progress-linear__content"},[n.default({value:O.value,buffer:R.value})])]})),{}}}),u_=Z({loading:[Boolean,String]},"loader");function Mh(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Hs();return{loaderClasses:I(()=>({[`${t}--loading`]:e.loading}))}}function Lh(e,t){var i;let{slots:n}=t;return h("div",{class:`${e.name}__loader`},[((i=n.default)==null?void 0:i.call(n,{color:e.color,isActive:e.active}))||h(l_,{absolute:e.absolute,active:e.active,color:e.color,height:"2",indeterminate:!0},null)])}const xte=["static","relative","fixed","absolute","sticky"],Hc=Z({position:{type:String,validator:e=>xte.includes(e)}},"position");function Wc(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Hs();return{positionClasses:I(()=>e.position?`${t}--${e.position}`:void 0)}}function Dte(){const e=Rn("useRoute");return I(()=>{var t;return(t=e==null?void 0:e.proxy)==null?void 0:t.$route})}function bF(){var e,t;return(t=(e=Rn("useRouter"))==null?void 0:e.proxy)==null?void 0:t.$router}function zc(e,t){var c,f;const n=PO("RouterLink"),i=I(()=>!!(e.href||e.to)),r=I(()=>(i==null?void 0:i.value)||sP(t,"click")||sP(e,"click"));if(typeof n=="string"||!("useLink"in n)){const v=ue(e,"href");return{isLink:i,isClickable:r,href:v,linkProps:cn({href:v})}}const s=I(()=>({...e,to:ue(()=>e.to||"")})),o=n.useLink(s.value),a=I(()=>e.to?o:void 0),l=Dte(),u=I(()=>{var v,g,p;return a.value?e.exact?l.value?((p=a.value.isExactActive)==null?void 0:p.value)&&js(a.value.route.value.query,l.value.query):((g=a.value.isExactActive)==null?void 0:g.value)??!1:((v=a.value.isActive)==null?void 0:v.value)??!1:!1}),d=I(()=>{var v;return e.to?(v=a.value)==null?void 0:v.route.value.href:e.href});return{isLink:i,isClickable:r,isActive:u,route:(c=a.value)==null?void 0:c.route,navigate:(f=a.value)==null?void 0:f.navigate,href:d,linkProps:cn({href:d,"aria-current":I(()=>u.value?"page":void 0)})}}const Fh=Z({href:String,replace:Boolean,to:[String,Object],exact:Boolean},"router");let Xy=!1;function Rte(e,t){let n=!1,i,r;Bt&&(ot(()=>{window.addEventListener("popstate",s),i=e==null?void 0:e.beforeEach((o,a,l)=>{Xy?n?t(l):l():setTimeout(()=>n?t(l):l()),Xy=!0}),r=e==null?void 0:e.afterEach(()=>{Xy=!1})}),Ci(()=>{window.removeEventListener("popstate",s),i==null||i(),r==null||r()}));function s(o){var a;(a=o.state)!=null&&a.replaced||(n=!0,setTimeout(()=>n=!1))}}function Ote(e,t){ge(()=>{var n;return(n=e.isActive)==null?void 0:n.value},n=>{e.isLink.value&&n&&t&&ot(()=>{t(!0)})},{immediate:!0})}const W0=Symbol("rippleStop"),Vte=80;function LP(e,t){e.style.transform=t,e.style.webkitTransform=t}function z0(e){return e.constructor.name==="TouchEvent"}function wF(e){return e.constructor.name==="KeyboardEvent"}const Nte=function(e,t){var c;let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=0,r=0;if(!wF(e)){const f=t.getBoundingClientRect(),v=z0(e)?e.touches[e.touches.length-1]:e;i=v.clientX-f.left,r=v.clientY-f.top}let s=0,o=.3;(c=t._ripple)!=null&&c.circle?(o=.15,s=t.clientWidth/2,s=n.center?s:s+Math.sqrt((i-s)**2+(r-s)**2)/4):s=Math.sqrt(t.clientWidth**2+t.clientHeight**2)/2;const a=`${(t.clientWidth-s*2)/2}px`,l=`${(t.clientHeight-s*2)/2}px`,u=n.center?a:`${i-s}px`,d=n.center?l:`${r-s}px`;return{radius:s,scale:o,x:u,y:d,centerX:a,centerY:l}},gg={show(e,t){var v;let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!((v=t==null?void 0:t._ripple)!=null&&v.enabled))return;const i=document.createElement("span"),r=document.createElement("span");i.appendChild(r),i.className="v-ripple__container",n.class&&(i.className+=` ${n.class}`);const{radius:s,scale:o,x:a,y:l,centerX:u,centerY:d}=Nte(e,t,n),c=`${s*2}px`;r.className="v-ripple__animation",r.style.width=c,r.style.height=c,t.appendChild(i);const f=window.getComputedStyle(t);f&&f.position==="static"&&(t.style.position="relative",t.dataset.previousPosition="static"),r.classList.add("v-ripple__animation--enter"),r.classList.add("v-ripple__animation--visible"),LP(r,`translate(${a}, ${l}) scale3d(${o},${o},${o})`),r.dataset.activated=String(performance.now()),setTimeout(()=>{r.classList.remove("v-ripple__animation--enter"),r.classList.add("v-ripple__animation--in"),LP(r,`translate(${u}, ${d}) scale3d(1,1,1)`)},0)},hide(e){var s;if(!((s=e==null?void 0:e._ripple)!=null&&s.enabled))return;const t=e.getElementsByClassName("v-ripple__animation");if(t.length===0)return;const n=t[t.length-1];if(n.dataset.isHiding)return;n.dataset.isHiding="true";const i=performance.now()-Number(n.dataset.activated),r=Math.max(250-i,0);setTimeout(()=>{n.classList.remove("v-ripple__animation--in"),n.classList.add("v-ripple__animation--out"),setTimeout(()=>{var a;e.getElementsByClassName("v-ripple__animation").length===1&&e.dataset.previousPosition&&(e.style.position=e.dataset.previousPosition,delete e.dataset.previousPosition),((a=n.parentNode)==null?void 0:a.parentNode)===e&&e.removeChild(n.parentNode)},300)},r)}};function SF(e){return typeof e>"u"||!!e}function Bf(e){const t={},n=e.currentTarget;if(!(!(n!=null&&n._ripple)||n._ripple.touched||e[W0])){if(e[W0]=!0,z0(e))n._ripple.touched=!0,n._ripple.isTouch=!0;else if(n._ripple.isTouch)return;if(t.center=n._ripple.centered||wF(e),n._ripple.class&&(t.class=n._ripple.class),z0(e)){if(n._ripple.showTimerCommit)return;n._ripple.showTimerCommit=()=>{gg.show(e,n,t)},n._ripple.showTimer=window.setTimeout(()=>{var i;(i=n==null?void 0:n._ripple)!=null&&i.showTimerCommit&&(n._ripple.showTimerCommit(),n._ripple.showTimerCommit=null)},Vte)}else gg.show(e,n,t)}}function FP(e){e[W0]=!0}function pr(e){const t=e.currentTarget;if(t!=null&&t._ripple){if(window.clearTimeout(t._ripple.showTimer),e.type==="touchend"&&t._ripple.showTimerCommit){t._ripple.showTimerCommit(),t._ripple.showTimerCommit=null,t._ripple.showTimer=window.setTimeout(()=>{pr(e)});return}window.setTimeout(()=>{t._ripple&&(t._ripple.touched=!1)}),gg.hide(t)}}function EF(e){const t=e.currentTarget;t!=null&&t._ripple&&(t._ripple.showTimerCommit&&(t._ripple.showTimerCommit=null),window.clearTimeout(t._ripple.showTimer))}let Uf=!1;function CF(e){!Uf&&(e.keyCode===tP.enter||e.keyCode===tP.space)&&(Uf=!0,Bf(e))}function kF(e){Uf=!1,pr(e)}function TF(e){Uf&&(Uf=!1,pr(e))}function IF(e,t,n){const{value:i,modifiers:r}=t,s=SF(i);if(s||gg.hide(e),e._ripple=e._ripple??{},e._ripple.enabled=s,e._ripple.centered=r.center,e._ripple.circle=r.circle,h1(i)&&i.class&&(e._ripple.class=i.class),s&&!n){if(r.stop){e.addEventListener("touchstart",FP,{passive:!0}),e.addEventListener("mousedown",FP);return}e.addEventListener("touchstart",Bf,{passive:!0}),e.addEventListener("touchend",pr,{passive:!0}),e.addEventListener("touchmove",EF,{passive:!0}),e.addEventListener("touchcancel",pr),e.addEventListener("mousedown",Bf),e.addEventListener("mouseup",pr),e.addEventListener("mouseleave",pr),e.addEventListener("keydown",CF),e.addEventListener("keyup",kF),e.addEventListener("blur",TF),e.addEventListener("dragstart",pr,{passive:!0})}else!s&&n&&AF(e)}function AF(e){e.removeEventListener("mousedown",Bf),e.removeEventListener("touchstart",Bf),e.removeEventListener("touchend",pr),e.removeEventListener("touchmove",EF),e.removeEventListener("touchcancel",pr),e.removeEventListener("mouseup",pr),e.removeEventListener("mouseleave",pr),e.removeEventListener("keydown",CF),e.removeEventListener("keyup",kF),e.removeEventListener("dragstart",pr),e.removeEventListener("blur",TF)}function Mte(e,t){IF(e,t,!1)}function Lte(e){delete e._ripple,AF(e)}function Fte(e,t){if(t.value===t.oldValue)return;const n=SF(t.oldValue);IF(e,t,n)}const Vo={mounted:Mte,unmounted:Lte,updated:Fte},c_=Z({active:{type:Boolean,default:void 0},activeColor:String,baseColor:String,symbol:{type:null,default:O1},flat:Boolean,icon:[Boolean,String,Function,Object],prependIcon:Je,appendIcon:Je,block:Boolean,readonly:Boolean,slim:Boolean,stacked:Boolean,ripple:{type:[Boolean,Object],default:!0},text:String,...cr(),...$e(),...ri(),...qn(),...Zn(),...ru(),...u_(),...Oo(),...Hc(),...yn(),...Fh(),...zs(),...ut({tag:"button"}),...Ct(),...Hr({variant:"elevated"})},"VBtn"),dt=de()({name:"VBtn",props:c_(),emits:{"group:selected":e=>!0},setup(e,t){let{attrs:n,slots:i}=t;const{themeClasses:r}=Ft(e),{borderClasses:s}=Dr(e),{densityClasses:o}=Hi(e),{dimensionStyles:a}=Yn(e),{elevationClasses:l}=hi(e),{loaderClasses:u}=Mh(e),{locationStyles:d}=ou(e),{positionClasses:c}=Wc(e),{roundedClasses:f}=On(e),{sizeClasses:v,sizeStyles:g}=jc(e),p=su(e,e.symbol,!1),_=zc(e,n),y=I(()=>{var A;return e.active!==void 0?e.active:_.isLink.value?(A=_.isActive)==null?void 0:A.value:p==null?void 0:p.isSelected.value}),b=I(()=>y.value?e.activeColor??e.color:e.color),E=I(()=>{var P,x;return{color:(p==null?void 0:p.isSelected.value)&&(!_.isLink.value||((P=_.isActive)==null?void 0:P.value))||!p||((x=_.isActive)==null?void 0:x.value)?b.value??e.baseColor:e.baseColor,variant:e.variant}}),{colorClasses:k,colorStyles:R,variantClasses:O}=nu(E),D=I(()=>(p==null?void 0:p.disabled.value)||e.disabled),S=I(()=>e.variant==="elevated"&&!(e.disabled||e.flat||e.border)),w=I(()=>{if(!(e.value===void 0||typeof e.value=="symbol"))return Object(e.value)===e.value?JSON.stringify(e.value,null,0):e.value});function C(A){var P;D.value||_.isLink.value&&(A.metaKey||A.ctrlKey||A.shiftKey||A.button!==0||n.target==="_blank")||((P=_.navigate)==null||P.call(_,A),p==null||p.toggle())}return Ote(_,p==null?void 0:p.select),ve(()=>{const A=_.isLink.value?"a":e.tag,P=!!(e.prependIcon||i.prepend),x=!!(e.appendIcon||i.append),U=!!(e.icon&&e.icon!==!0);return pn(h(A,J({type:A==="a"?void 0:"button",class:["v-btn",p==null?void 0:p.selectedClass.value,{"v-btn--active":y.value,"v-btn--block":e.block,"v-btn--disabled":D.value,"v-btn--elevated":S.value,"v-btn--flat":e.flat,"v-btn--icon":!!e.icon,"v-btn--loading":e.loading,"v-btn--readonly":e.readonly,"v-btn--slim":e.slim,"v-btn--stacked":e.stacked},r.value,s.value,k.value,o.value,l.value,u.value,c.value,f.value,v.value,O.value,e.class],style:[R.value,a.value,d.value,g.value,e.style],"aria-busy":e.loading?!0:void 0,disabled:D.value||void 0,tabindex:e.loading||e.readonly?-1:void 0,onClick:C,value:w.value},_.linkProps),{default:()=>{var $;return[Ma(!0,"v-btn"),!e.icon&&P&&h("span",{key:"prepend",class:"v-btn__prepend"},[i.prepend?h(at,{key:"prepend-defaults",disabled:!e.prependIcon,defaults:{VIcon:{icon:e.prependIcon}}},i.prepend):h(Pt,{key:"prepend-icon",icon:e.prependIcon},null)]),h("span",{class:"v-btn__content","data-no-activator":""},[!i.default&&U?h(Pt,{key:"content-icon",icon:e.icon},null):h(at,{key:"content-defaults",disabled:!U,defaults:{VIcon:{icon:e.icon}}},{default:()=>{var j;return[((j=i.default)==null?void 0:j.call(i))??e.text]}})]),!e.icon&&x&&h("span",{key:"append",class:"v-btn__append"},[i.append?h(at,{key:"append-defaults",disabled:!e.appendIcon,defaults:{VIcon:{icon:e.appendIcon}}},i.append):h(Pt,{key:"append-icon",icon:e.appendIcon},null)]),!!e.loading&&h("span",{key:"loader",class:"v-btn__loader"},[(($=i.loader)==null?void 0:$.call(i))??h(ya,{color:typeof e.loading=="boolean"?void 0:e.loading,indeterminate:!0,width:"2"},null)])]}}),[[Vo,!D.value&&e.ripple,"",{center:!!e.icon}]])}),{group:p}}}),$te=Z({...c_({icon:"$menu",variant:"text"})},"VAppBarNavIcon"),Bte=de()({name:"VAppBarNavIcon",props:$te(),setup(e,t){let{slots:n}=t;return ve(()=>h(dt,J(e,{class:["v-app-bar-nav-icon"]}),n)),{}}}),Ute=de()({name:"VAppBarTitle",props:dF(),setup(e,t){let{slots:n}=t;return ve(()=>h(A1,J(e,{class:"v-app-bar-title"}),n)),{}}}),PF=Ws("v-alert-title"),jte=["success","info","warning","error"],Hte=Z({border:{type:[Boolean,String],validator:e=>typeof e=="boolean"||["top","end","bottom","start"].includes(e)},borderColor:String,closable:Boolean,closeIcon:{type:Je,default:"$close"},closeLabel:{type:String,default:"$vuetify.close"},icon:{type:[Boolean,String,Function,Object],default:null},modelValue:{type:Boolean,default:!0},prominent:Boolean,title:String,text:String,type:{type:String,validator:e=>jte.includes(e)},...$e(),...ri(),...qn(),...Zn(),...Oo(),...Hc(),...yn(),...ut(),...Ct(),...Hr({variant:"flat"})},"VAlert"),Wte=de()({name:"VAlert",props:Hte(),emits:{"click:close":e=>!0,"update:modelValue":e=>!0},setup(e,t){let{emit:n,slots:i}=t;const r=je(e,"modelValue"),s=I(()=>{if(e.icon!==!1)return e.type?e.icon??`$${e.type}`:e.icon}),o=I(()=>({color:e.color??e.type,variant:e.variant})),{themeClasses:a}=Ft(e),{colorClasses:l,colorStyles:u,variantClasses:d}=nu(o),{densityClasses:c}=Hi(e),{dimensionStyles:f}=Yn(e),{elevationClasses:v}=hi(e),{locationStyles:g}=ou(e),{positionClasses:p}=Wc(e),{roundedClasses:_}=On(e),{textColorClasses:y,textColorStyles:b}=ci(ue(e,"borderColor")),{t:E}=sn(),k=I(()=>({"aria-label":E(e.closeLabel),onClick(R){r.value=!1,n("click:close",R)}}));return()=>{const R=!!(i.prepend||s.value),O=!!(i.title||e.title),D=!!(i.close||e.closable);return r.value&&h(e.tag,{class:["v-alert",e.border&&{"v-alert--border":!!e.border,[`v-alert--border-${e.border===!0?"start":e.border}`]:!0},{"v-alert--prominent":e.prominent},a.value,l.value,c.value,v.value,p.value,_.value,d.value,e.class],style:[u.value,f.value,g.value,e.style],role:"alert"},{default:()=>{var S,w;return[Ma(!1,"v-alert"),e.border&&h("div",{key:"border",class:["v-alert__border",y.value],style:b.value},null),R&&h("div",{key:"prepend",class:"v-alert__prepend"},[i.prepend?h(at,{key:"prepend-defaults",disabled:!s.value,defaults:{VIcon:{density:e.density,icon:s.value,size:e.prominent?44:28}}},i.prepend):h(Pt,{key:"prepend-icon",density:e.density,icon:s.value,size:e.prominent?44:28},null)]),h("div",{class:"v-alert__content"},[O&&h(PF,{key:"title"},{default:()=>{var C;return[((C=i.title)==null?void 0:C.call(i))??e.title]}}),((S=i.text)==null?void 0:S.call(i))??e.text,(w=i.default)==null?void 0:w.call(i)]),i.append&&h("div",{key:"append",class:"v-alert__append"},[i.append()]),D&&h("div",{key:"close",class:"v-alert__close"},[i.close?h(at,{key:"close-defaults",defaults:{VBtn:{icon:e.closeIcon,size:"x-small",variant:"text"}}},{default:()=>{var C;return[(C=i.close)==null?void 0:C.call(i,{props:k.value})]}}):h(dt,J({key:"close-btn",icon:e.closeIcon,size:"x-small",variant:"text"},k.value),null)])]}})}}}),zte=Z({start:Boolean,end:Boolean,icon:Je,image:String,text:String,...cr(),...$e(),...ri(),...yn(),...zs(),...ut(),...Ct(),...Hr({variant:"flat"})},"VAvatar"),Cr=de()({name:"VAvatar",props:zte(),setup(e,t){let{slots:n}=t;const{themeClasses:i}=Ft(e),{borderClasses:r}=Dr(e),{colorClasses:s,colorStyles:o,variantClasses:a}=nu(e),{densityClasses:l}=Hi(e),{roundedClasses:u}=On(e),{sizeClasses:d,sizeStyles:c}=jc(e);return ve(()=>h(e.tag,{class:["v-avatar",{"v-avatar--start":e.start,"v-avatar--end":e.end},i.value,r.value,s.value,l.value,u.value,d.value,a.value,e.class],style:[o.value,c.value,e.style]},{default:()=>[n.default?h(at,{key:"content-defaults",defaults:{VImg:{cover:!0,src:e.image},VIcon:{icon:e.icon}}},{default:()=>[n.default()]}):e.image?h(ko,{key:"image",src:e.image,alt:"",cover:!0},null):e.icon?h(Pt,{key:"icon",icon:e.icon},null):e.text,Ma(!1,"v-avatar")]})),{}}}),Gte=Z({text:String,onClick:ii(),...$e(),...Ct()},"VLabel"),Gc=de()({name:"VLabel",props:Gte(),setup(e,t){let{slots:n}=t;return ve(()=>{var i;return h("label",{class:["v-label",{"v-label--clickable":!!e.onClick},e.class],style:e.style,onClick:e.onClick},[e.text,(i=n.default)==null?void 0:i.call(n)])}),{}}}),xF=Symbol.for("vuetify:selection-control-group"),V1=Z({color:String,disabled:{type:Boolean,default:null},defaultsTarget:String,error:Boolean,id:String,inline:Boolean,falseIcon:Je,trueIcon:Je,ripple:{type:[Boolean,Object],default:!0},multiple:{type:Boolean,default:null},name:String,readonly:{type:Boolean,default:null},modelValue:null,type:String,valueComparator:{type:Function,default:js},...$e(),...ri(),...Ct()},"SelectionControlGroup"),qte=Z({...V1({defaultsTarget:"VSelectionControl"})},"VSelectionControlGroup"),DF=de()({name:"VSelectionControlGroup",props:qte(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const i=je(e,"modelValue"),r=fi(),s=I(()=>e.id||`v-selection-control-group-${r}`),o=I(()=>e.name||s.value),a=new Set;return Ut(xF,{modelValue:i,forceUpdate:()=>{a.forEach(l=>l())},onForceUpdate:l=>{a.add(l),Ci(()=>{a.delete(l)})}}),_n({[e.defaultsTarget]:{color:ue(e,"color"),disabled:ue(e,"disabled"),density:ue(e,"density"),error:ue(e,"error"),inline:ue(e,"inline"),modelValue:i,multiple:I(()=>!!e.multiple||e.multiple==null&&Array.isArray(i.value)),name:o,falseIcon:ue(e,"falseIcon"),trueIcon:ue(e,"trueIcon"),readonly:ue(e,"readonly"),ripple:ue(e,"ripple"),type:ue(e,"type"),valueComparator:ue(e,"valueComparator")}}),ve(()=>{var l;return h("div",{class:["v-selection-control-group",{"v-selection-control-group--inline":e.inline},e.class],style:e.style,role:e.type==="radio"?"radiogroup":void 0},[(l=n.default)==null?void 0:l.call(n)])}),{}}}),d_=Z({label:String,baseColor:String,trueValue:null,falseValue:null,value:null,...$e(),...V1()},"VSelectionControl");function Yte(e){const t=st(xF,void 0),{densityClasses:n}=Hi(e),i=je(e,"modelValue"),r=I(()=>e.trueValue!==void 0?e.trueValue:e.value!==void 0?e.value:!0),s=I(()=>e.falseValue!==void 0?e.falseValue:!1),o=I(()=>!!e.multiple||e.multiple==null&&Array.isArray(i.value)),a=I({get(){const v=t?t.modelValue.value:i.value;return o.value?vn(v).some(g=>e.valueComparator(g,r.value)):e.valueComparator(v,r.value)},set(v){if(e.readonly)return;const g=v?r.value:s.value;let p=g;o.value&&(p=v?[...vn(i.value),g]:vn(i.value).filter(_=>!e.valueComparator(_,r.value))),t?t.modelValue.value=p:i.value=p}}),{textColorClasses:l,textColorStyles:u}=ci(I(()=>{if(!(e.error||e.disabled))return a.value?e.color:e.baseColor})),{backgroundColorClasses:d,backgroundColorStyles:c}=Gt(I(()=>a.value&&!e.error&&!e.disabled?e.color:e.baseColor)),f=I(()=>a.value?e.trueIcon:e.falseIcon);return{group:t,densityClasses:n,trueValue:r,falseValue:s,model:a,textColorClasses:l,textColorStyles:u,backgroundColorClasses:d,backgroundColorStyles:c,icon:f}}const ba=de()({name:"VSelectionControl",directives:{Ripple:Vo},inheritAttrs:!1,props:d_(),emits:{"update:modelValue":e=>!0},setup(e,t){let{attrs:n,slots:i}=t;const{group:r,densityClasses:s,icon:o,model:a,textColorClasses:l,textColorStyles:u,backgroundColorClasses:d,backgroundColorStyles:c,trueValue:f}=Yte(e),v=fi(),g=Te(!1),p=Te(!1),_=z(),y=I(()=>e.id||`input-${v}`),b=I(()=>!e.disabled&&!e.readonly);r==null||r.onForceUpdate(()=>{_.value&&(_.value.checked=a.value)});function E(D){b.value&&(g.value=!0,yc(D.target,":focus-visible")!==!1&&(p.value=!0))}function k(){g.value=!1,p.value=!1}function R(D){D.stopPropagation()}function O(D){if(!b.value){_.value&&(_.value.checked=a.value);return}e.readonly&&r&&ot(()=>r.forceUpdate()),a.value=D.target.checked}return ve(()=>{var A,P;const D=i.label?i.label({label:e.label,props:{for:y.value}}):e.label,[S,w]=Na(n),C=h("input",J({ref:_,checked:a.value,disabled:!!e.disabled,id:y.value,onBlur:k,onFocus:E,onInput:O,"aria-disabled":!!e.disabled,"aria-label":e.label,type:e.type,value:f.value,name:e.name,"aria-checked":e.type==="checkbox"?a.value:void 0},w),null);return h("div",J({class:["v-selection-control",{"v-selection-control--dirty":a.value,"v-selection-control--disabled":e.disabled,"v-selection-control--error":e.error,"v-selection-control--focused":g.value,"v-selection-control--focus-visible":p.value,"v-selection-control--inline":e.inline},s.value,e.class]},S,{style:e.style}),[h("div",{class:["v-selection-control__wrapper",l.value],style:u.value},[(A=i.default)==null?void 0:A.call(i,{backgroundColorClasses:d,backgroundColorStyles:c}),pn(h("div",{class:["v-selection-control__input"]},[((P=i.input)==null?void 0:P.call(i,{model:a,textColorClasses:l,textColorStyles:u,backgroundColorClasses:d,backgroundColorStyles:c,inputNode:C,icon:o.value,props:{onFocus:E,onBlur:k,id:y.value}}))??h(Ie,null,[o.value&&h(Pt,{key:"icon",icon:o.value},null),C])]),[[ur("ripple"),e.ripple&&[!e.disabled&&!e.readonly,null,["center","circle"]]]])]),D&&h(Gc,{for:y.value,onClick:R},{default:()=>[D]})])}),{isFocused:g,input:_}}}),RF=Z({indeterminate:Boolean,indeterminateIcon:{type:Je,default:"$checkboxIndeterminate"},...d_({falseIcon:"$checkboxOff",trueIcon:"$checkboxOn"})},"VCheckboxBtn"),Ms=de()({name:"VCheckboxBtn",props:RF(),emits:{"update:modelValue":e=>!0,"update:indeterminate":e=>!0},setup(e,t){let{slots:n}=t;const i=je(e,"indeterminate"),r=je(e,"modelValue");function s(l){i.value&&(i.value=!1)}const o=I(()=>i.value?e.indeterminateIcon:e.falseIcon),a=I(()=>i.value?e.indeterminateIcon:e.trueIcon);return ve(()=>{const l=zt(ba.filterProps(e),["modelValue"]);return h(ba,J(l,{modelValue:r.value,"onUpdate:modelValue":[u=>r.value=u,s],class:["v-checkbox-btn",e.class],style:e.style,type:"checkbox",falseIcon:o.value,trueIcon:a.value,"aria-checked":i.value?"mixed":void 0}),n)}),{}}});function OF(e){const{t}=sn();function n(i){let{name:r}=i;const s={prepend:"prependAction",prependInner:"prependAction",append:"appendAction",appendInner:"appendAction",clear:"clear"}[r],o=e[`onClick:${r}`],a=o&&s?t(`$vuetify.input.${s}`,e.label??""):void 0;return h(Pt,{icon:e[`${r}Icon`],"aria-label":a,onClick:o},null)}return{InputIcon:n}}const Kte=Z({active:Boolean,color:String,messages:{type:[Array,String],default:()=>[]},...$e(),...hs({transition:{component:x1,leaveAbsolute:!0,group:!0}})},"VMessages"),VF=de()({name:"VMessages",props:Kte(),setup(e,t){let{slots:n}=t;const i=I(()=>vn(e.messages)),{textColorClasses:r,textColorStyles:s}=ci(I(()=>e.color));return ve(()=>h($i,{transition:e.transition,tag:"div",class:["v-messages",r.value,e.class],style:[s.value,e.style],role:"alert","aria-live":"polite"},{default:()=>[e.active&&i.value.map((o,a)=>h("div",{class:"v-messages__message",key:`${a}-${i.value}`},[n.message?n.message({message:o}):o]))]})),{}}}),qc=Z({focused:Boolean,"onUpdate:focused":ii()},"focus");function Gs(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Hs();const n=je(e,"focused"),i=I(()=>({[`${t}--focused`]:n.value}));function r(){n.value=!0}function s(){n.value=!1}return{focusClasses:i,isFocused:n,focus:r,blur:s}}const NF=Symbol.for("vuetify:form"),Xte=Z({disabled:Boolean,fastFail:Boolean,readonly:Boolean,modelValue:{type:Boolean,default:null},validateOn:{type:String,default:"input"}},"form");function Qte(e){const t=je(e,"modelValue"),n=I(()=>e.disabled),i=I(()=>e.readonly),r=Te(!1),s=z([]),o=z([]);async function a(){const d=[];let c=!0;o.value=[],r.value=!0;for(const f of s.value){const v=await f.validate();if(v.length>0&&(c=!1,d.push({id:f.id,errorMessages:v})),!c&&e.fastFail)break}return o.value=d,r.value=!1,{valid:c,errors:o.value}}function l(){s.value.forEach(d=>d.reset())}function u(){s.value.forEach(d=>d.resetValidation())}return ge(s,()=>{let d=0,c=0;const f=[];for(const v of s.value)v.isValid===!1?(c++,f.push({id:v.id,errorMessages:v.errorMessages})):v.isValid===!0&&d++;o.value=f,t.value=c>0?!1:d===s.value.length?!0:null},{deep:!0,flush:"post"}),Ut(NF,{register:d=>{let{id:c,vm:f,validate:v,reset:g,resetValidation:p}=d;s.value.some(_=>_.id===c),s.value.push({id:c,validate:v,reset:g,resetValidation:p,vm:SS(f),isValid:null,errorMessages:[]})},unregister:d=>{s.value=s.value.filter(c=>c.id!==d)},update:(d,c,f)=>{const v=s.value.find(g=>g.id===d);v&&(v.isValid=c,v.errorMessages=f)},isDisabled:n,isReadonly:i,isValidating:r,isValid:t,items:s,validateOn:ue(e,"validateOn")}),{errors:o,isDisabled:n,isReadonly:i,isValidating:r,isValid:t,items:s,validate:a,reset:l,resetValidation:u}}function $h(){return st(NF,null)}const MF=Z({disabled:{type:Boolean,default:null},error:Boolean,errorMessages:{type:[Array,String],default:()=>[]},maxErrors:{type:[Number,String],default:1},name:String,label:String,readonly:{type:Boolean,default:null},rules:{type:Array,default:()=>[]},modelValue:null,validateOn:String,validationValue:null,...qc()},"validation");function LF(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Hs(),n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:fi();const i=je(e,"modelValue"),r=I(()=>e.validationValue===void 0?i.value:e.validationValue),s=$h(),o=z([]),a=Te(!0),l=I(()=>!!(vn(i.value===""?null:i.value).length||vn(r.value===""?null:r.value).length)),u=I(()=>!!(e.disabled??(s==null?void 0:s.isDisabled.value))),d=I(()=>!!(e.readonly??(s==null?void 0:s.isReadonly.value))),c=I(()=>{var R;return(R=e.errorMessages)!=null&&R.length?vn(e.errorMessages).concat(o.value).slice(0,Math.max(0,+e.maxErrors)):o.value}),f=I(()=>{let R=(e.validateOn??(s==null?void 0:s.validateOn.value))||"input";R==="lazy"&&(R="input lazy"),R==="eager"&&(R="input eager");const O=new Set((R==null?void 0:R.split(" "))??[]);return{input:O.has("input"),blur:O.has("blur")||O.has("input")||O.has("invalid-input"),invalidInput:O.has("invalid-input"),lazy:O.has("lazy"),eager:O.has("eager")}}),v=I(()=>{var R;return e.error||(R=e.errorMessages)!=null&&R.length?!1:e.rules.length?a.value?o.value.length||f.value.lazy?null:!0:!o.value.length:!0}),g=Te(!1),p=I(()=>({[`${t}--error`]:v.value===!1,[`${t}--dirty`]:l.value,[`${t}--disabled`]:u.value,[`${t}--readonly`]:d.value})),_=Rn("validation"),y=I(()=>e.name??se(n));AS(()=>{s==null||s.register({id:y.value,vm:_,validate:k,reset:b,resetValidation:E})}),di(()=>{s==null||s.unregister(y.value)}),yt(async()=>{f.value.lazy||await k(!f.value.eager),s==null||s.update(y.value,v.value,c.value)}),Ji(()=>f.value.input||f.value.invalidInput&&v.value===!1,()=>{ge(r,()=>{if(r.value!=null)k();else if(e.focused){const R=ge(()=>e.focused,O=>{O||k(),R()})}})}),Ji(()=>f.value.blur,()=>{ge(()=>e.focused,R=>{R||k()})}),ge([v,c],()=>{s==null||s.update(y.value,v.value,c.value)});async function b(){i.value=null,await ot(),await E()}async function E(){a.value=!0,f.value.lazy?o.value=[]:await k(!f.value.eager)}async function k(){let R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const O=[];g.value=!0;for(const D of e.rules){if(O.length>=+(e.maxErrors??1))break;const w=await(typeof D=="function"?D:()=>D)(r.value);if(w!==!0){if(w!==!1&&typeof w!="string"){console.warn(`${w} is not a valid value. Rule functions must return boolean true or a string.`);continue}O.push(w||"")}}return o.value=O,g.value=!1,a.value=R,o.value}return{errorMessages:c,isDirty:l,isDisabled:u,isReadonly:d,isPristine:a,isValid:v,isValidating:g,reset:b,resetValidation:E,validate:k,validationClasses:p}}const No=Z({id:String,appendIcon:Je,centerAffix:{type:Boolean,default:!0},prependIcon:Je,hideDetails:[Boolean,String],hideSpinButtons:Boolean,hint:String,persistentHint:Boolean,messages:{type:[Array,String],default:()=>[]},direction:{type:String,default:"horizontal",validator:e=>["horizontal","vertical"].includes(e)},"onClick:prepend":ii(),"onClick:append":ii(),...$e(),...ri(),...Jp(qn(),["maxWidth","minWidth","width"]),...Ct(),...MF()},"VInput"),Ei=de()({name:"VInput",props:{...No()},emits:{"update:modelValue":e=>!0},setup(e,t){let{attrs:n,slots:i,emit:r}=t;const{densityClasses:s}=Hi(e),{dimensionStyles:o}=Yn(e),{themeClasses:a}=Ft(e),{rtlClasses:l}=Jn(),{InputIcon:u}=OF(e),d=fi(),c=I(()=>e.id||`input-${d}`),f=I(()=>`${c.value}-messages`),{errorMessages:v,isDirty:g,isDisabled:p,isReadonly:_,isPristine:y,isValid:b,isValidating:E,reset:k,resetValidation:R,validate:O,validationClasses:D}=LF(e,"v-input",c),S=I(()=>({id:c,messagesId:f,isDirty:g,isDisabled:p,isReadonly:_,isPristine:y,isValid:b,isValidating:E,reset:k,resetValidation:R,validate:O})),w=I(()=>{var C;return(C=e.errorMessages)!=null&&C.length||!y.value&&v.value.length?v.value:e.hint&&(e.persistentHint||e.focused)?e.hint:e.messages});return ve(()=>{var U,$,j,Y;const C=!!(i.prepend||e.prependIcon),A=!!(i.append||e.appendIcon),P=w.value.length>0,x=!e.hideDetails||e.hideDetails==="auto"&&(P||!!i.details);return h("div",{class:["v-input",`v-input--${e.direction}`,{"v-input--center-affix":e.centerAffix,"v-input--hide-spin-buttons":e.hideSpinButtons},s.value,a.value,l.value,D.value,e.class],style:[o.value,e.style]},[C&&h("div",{key:"prepend",class:"v-input__prepend"},[(U=i.prepend)==null?void 0:U.call(i,S.value),e.prependIcon&&h(u,{key:"prepend-icon",name:"prepend"},null)]),i.default&&h("div",{class:"v-input__control"},[($=i.default)==null?void 0:$.call(i,S.value)]),A&&h("div",{key:"append",class:"v-input__append"},[e.appendIcon&&h(u,{key:"append-icon",name:"append"},null),(j=i.append)==null?void 0:j.call(i,S.value)]),x&&h("div",{class:"v-input__details"},[h(VF,{id:f.value,active:P,messages:w.value},{message:i.message}),(Y=i.details)==null?void 0:Y.call(i,S.value)])])}),{reset:k,resetValidation:R,validate:O,isValid:b,errorMessages:v}}}),Jte=Z({...No(),...zt(RF(),["inline"])},"VCheckbox"),Zte=de()({name:"VCheckbox",inheritAttrs:!1,props:Jte(),emits:{"update:modelValue":e=>!0,"update:focused":e=>!0},setup(e,t){let{attrs:n,slots:i}=t;const r=je(e,"modelValue"),{isFocused:s,focus:o,blur:a}=Gs(e),l=fi(),u=I(()=>e.id||`checkbox-${l}`);return ve(()=>{const[d,c]=Na(n),f=Ei.filterProps(e),v=Ms.filterProps(e);return h(Ei,J({class:["v-checkbox",e.class]},d,f,{modelValue:r.value,"onUpdate:modelValue":g=>r.value=g,id:u.value,focused:s.value,style:e.style}),{...i,default:g=>{let{id:p,messagesId:_,isDisabled:y,isReadonly:b,isValid:E}=g;return h(Ms,J(v,{id:p.value,"aria-describedby":_.value,disabled:y.value,readonly:b.value},c,{error:E.value===!1,modelValue:r.value,"onUpdate:modelValue":k=>r.value=k,onFocus:o,onBlur:a}),i)}})}),{}}});function ene(e){let{selectedElement:t,containerElement:n,isRtl:i,isHorizontal:r}=e;const s=jf(r,n),o=FF(r,i,n),a=jf(r,t),l=$F(r,t),u=a*.4;return o>l?l-u:o+s<l+a?l-s+a+u:o}function tne(e){let{selectedElement:t,containerElement:n,isHorizontal:i}=e;const r=jf(i,n),s=$F(i,t),o=jf(i,t);return s-r/2+o/2}function $P(e,t){const n=e?"scrollWidth":"scrollHeight";return(t==null?void 0:t[n])||0}function nne(e,t){const n=e?"clientWidth":"clientHeight";return(t==null?void 0:t[n])||0}function FF(e,t,n){if(!n)return 0;const{scrollLeft:i,offsetWidth:r,scrollWidth:s}=n;return e?t?s-r+i:i:n.scrollTop}function jf(e,t){const n=e?"offsetWidth":"offsetHeight";return(t==null?void 0:t[n])||0}function $F(e,t){const n=e?"offsetLeft":"offsetTop";return(t==null?void 0:t[n])||0}const BF=Symbol.for("vuetify:v-slide-group"),N1=Z({centerActive:Boolean,direction:{type:String,default:"horizontal"},symbol:{type:null,default:BF},nextIcon:{type:Je,default:"$next"},prevIcon:{type:Je,default:"$prev"},showArrows:{type:[Boolean,String],validator:e=>typeof e=="boolean"||["always","desktop","mobile"].includes(e)},...$e(),...Jl({mobile:null}),...ut(),...iu({selectedClass:"v-slide-group-item--active"})},"VSlideGroup"),Hf=de()({name:"VSlideGroup",props:N1(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const{isRtl:i}=Jn(),{displayClasses:r,mobile:s}=Pr(e),o=La(e,e.symbol),a=Te(!1),l=Te(0),u=Te(0),d=Te(0),c=I(()=>e.direction==="horizontal"),{resizeRef:f,contentRect:v}=us(),{resizeRef:g,contentRect:p}=us(),_=wee(),y=I(()=>({container:f.el,duration:200,easing:"easeOutQuart"})),b=I(()=>o.selected.value.length?o.items.value.findIndex(G=>G.id===o.selected.value[0]):-1),E=I(()=>o.selected.value.length?o.items.value.findIndex(G=>G.id===o.selected.value[o.selected.value.length-1]):-1);if(Bt){let G=-1;ge(()=>[o.selected.value,v.value,p.value,c.value],()=>{cancelAnimationFrame(G),G=requestAnimationFrame(()=>{if(v.value&&p.value){const te=c.value?"width":"height";u.value=v.value[te],d.value=p.value[te],a.value=u.value+1<d.value}if(b.value>=0&&g.el){const te=g.el.children[E.value];R(te,e.centerActive)}})})}const k=Te(!1);function R(G,te){let oe=0;te?oe=tne({containerElement:f.el,isHorizontal:c.value,selectedElement:G}):oe=ene({containerElement:f.el,isHorizontal:c.value,isRtl:i.value,selectedElement:G}),O(oe)}function O(G){if(!Bt||!f.el)return;const te=jf(c.value,f.el),oe=FF(c.value,i.value,f.el);if(!($P(c.value,f.el)<=te||Math.abs(G-oe)<16)){if(c.value&&i.value&&f.el){const{scrollWidth:Ae,offsetWidth:Ne}=f.el;G=Ae-Ne-G}c.value?_.horizontal(G,y.value):_(G,y.value)}}function D(G){const{scrollTop:te,scrollLeft:oe}=G.target;l.value=c.value?oe:te}function S(G){if(k.value=!0,!(!a.value||!g.el)){for(const te of G.composedPath())for(const oe of g.el.children)if(oe===te){R(oe);return}}}function w(G){k.value=!1}let C=!1;function A(G){var te;!C&&!k.value&&!(G.relatedTarget&&((te=g.el)!=null&&te.contains(G.relatedTarget)))&&U(),C=!1}function P(){C=!0}function x(G){if(!g.el)return;function te(oe){G.preventDefault(),U(oe)}c.value?G.key==="ArrowRight"?te(i.value?"prev":"next"):G.key==="ArrowLeft"&&te(i.value?"next":"prev"):G.key==="ArrowDown"?te("next"):G.key==="ArrowUp"&&te("prev"),G.key==="Home"?te("first"):G.key==="End"&&te("last")}function U(G){var oe,_e;if(!g.el)return;let te;if(!G)te=Vf(g.el)[0];else if(G==="next"){if(te=(oe=g.el.querySelector(":focus"))==null?void 0:oe.nextElementSibling,!te)return U("first")}else if(G==="prev"){if(te=(_e=g.el.querySelector(":focus"))==null?void 0:_e.previousElementSibling,!te)return U("last")}else G==="first"?te=g.el.firstElementChild:G==="last"&&(te=g.el.lastElementChild);te&&te.focus({preventScroll:!0})}function $(G){const te=c.value&&i.value?-1:1,oe=(G==="prev"?-te:te)*u.value;let _e=l.value+oe;if(c.value&&i.value&&f.el){const{scrollWidth:Ae,offsetWidth:Ne}=f.el;_e+=Ae-Ne}O(_e)}const j=I(()=>({next:o.next,prev:o.prev,select:o.select,isSelected:o.isSelected})),Y=I(()=>{switch(e.showArrows){case"always":return!0;case"desktop":return!s.value;case!0:return a.value||Math.abs(l.value)>0;case"mobile":return s.value||a.value||Math.abs(l.value)>0;default:return!s.value&&(a.value||Math.abs(l.value)>0)}}),W=I(()=>Math.abs(l.value)>1),K=I(()=>{if(!f.value)return!1;const G=$P(c.value,f.el),te=nne(c.value,f.el);return G-te-Math.abs(l.value)>1});return ve(()=>h(e.tag,{class:["v-slide-group",{"v-slide-group--vertical":!c.value,"v-slide-group--has-affixes":Y.value,"v-slide-group--is-overflowing":a.value},r.value,e.class],style:e.style,tabindex:k.value||o.selected.value.length?-1:0,onFocus:A},{default:()=>{var G,te,oe;return[Y.value&&h("div",{key:"prev",class:["v-slide-group__prev",{"v-slide-group__prev--disabled":!W.value}],onMousedown:P,onClick:()=>W.value&&$("prev")},[((G=n.prev)==null?void 0:G.call(n,j.value))??h($f,null,{default:()=>[h(Pt,{icon:i.value?e.nextIcon:e.prevIcon},null)]})]),h("div",{key:"container",ref:f,class:"v-slide-group__container",onScroll:D},[h("div",{ref:g,class:"v-slide-group__content",onFocusin:S,onFocusout:w,onKeydown:x},[(te=n.default)==null?void 0:te.call(n,j.value)])]),Y.value&&h("div",{key:"next",class:["v-slide-group__next",{"v-slide-group__next--disabled":!K.value}],onMousedown:P,onClick:()=>K.value&&$("next")},[((oe=n.next)==null?void 0:oe.call(n,j.value))??h($f,null,{default:()=>[h(Pt,{icon:i.value?e.prevIcon:e.nextIcon},null)]})])]}})),{selected:o.selected,scrollTo:$,scrollOffset:l,focus:U,hasPrev:W,hasNext:K}}}),UF=Symbol.for("vuetify:v-chip-group"),ine=Z({column:Boolean,filter:Boolean,valueComparator:{type:Function,default:js},...N1(),...$e(),...iu({selectedClass:"v-chip--selected"}),...ut(),...Ct(),...Hr({variant:"tonal"})},"VChipGroup"),rne=de()({name:"VChipGroup",props:ine(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const{themeClasses:i}=Ft(e),{isSelected:r,select:s,next:o,prev:a,selected:l}=La(e,UF);return _n({VChip:{color:ue(e,"color"),disabled:ue(e,"disabled"),filter:ue(e,"filter"),variant:ue(e,"variant")}}),ve(()=>{const u=Hf.filterProps(e);return h(Hf,J(u,{class:["v-chip-group",{"v-chip-group--column":e.column},i.value,e.class],style:e.style}),{default:()=>{var d;return[(d=n.default)==null?void 0:d.call(n,{isSelected:r,select:s,next:o,prev:a,selected:l.value})]}})}),{}}}),sne=Z({activeClass:String,appendAvatar:String,appendIcon:Je,closable:Boolean,closeIcon:{type:Je,default:"$delete"},closeLabel:{type:String,default:"$vuetify.close"},draggable:Boolean,filter:Boolean,filterIcon:{type:String,default:"$complete"},label:Boolean,link:{type:Boolean,default:void 0},pill:Boolean,prependAvatar:String,prependIcon:Je,ripple:{type:[Boolean,Object],default:!0},text:String,modelValue:{type:Boolean,default:!0},onClick:ii(),onClickOnce:ii(),...cr(),...$e(),...ri(),...Zn(),...ru(),...yn(),...Fh(),...zs(),...ut({tag:"span"}),...Ct(),...Hr({variant:"tonal"})},"VChip"),au=de()({name:"VChip",directives:{Ripple:Vo},props:sne(),emits:{"click:close":e=>!0,"update:modelValue":e=>!0,"group:selected":e=>!0,click:e=>!0},setup(e,t){let{attrs:n,emit:i,slots:r}=t;const{t:s}=sn(),{borderClasses:o}=Dr(e),{colorClasses:a,colorStyles:l,variantClasses:u}=nu(e),{densityClasses:d}=Hi(e),{elevationClasses:c}=hi(e),{roundedClasses:f}=On(e),{sizeClasses:v}=jc(e),{themeClasses:g}=Ft(e),p=je(e,"modelValue"),_=su(e,UF,!1),y=zc(e,n),b=I(()=>e.link!==!1&&y.isLink.value),E=I(()=>!e.disabled&&e.link!==!1&&(!!_||e.link||y.isClickable.value)),k=I(()=>({"aria-label":s(e.closeLabel),onClick(D){D.preventDefault(),D.stopPropagation(),p.value=!1,i("click:close",D)}}));function R(D){var S;i("click",D),E.value&&((S=y.navigate)==null||S.call(y,D),_==null||_.toggle())}function O(D){(D.key==="Enter"||D.key===" ")&&(D.preventDefault(),R(D))}return()=>{const D=y.isLink.value?"a":e.tag,S=!!(e.appendIcon||e.appendAvatar),w=!!(S||r.append),C=!!(r.close||e.closable),A=!!(r.filter||e.filter)&&_,P=!!(e.prependIcon||e.prependAvatar),x=!!(P||r.prepend),U=!_||_.isSelected.value;return p.value&&pn(h(D,J({class:["v-chip",{"v-chip--disabled":e.disabled,"v-chip--label":e.label,"v-chip--link":E.value,"v-chip--filter":A,"v-chip--pill":e.pill},g.value,o.value,U?a.value:void 0,d.value,c.value,f.value,v.value,u.value,_==null?void 0:_.selectedClass.value,e.class],style:[U?l.value:void 0,e.style],disabled:e.disabled||void 0,draggable:e.draggable,tabindex:E.value?0:void 0,onClick:R,onKeydown:E.value&&!b.value&&O},y.linkProps),{default:()=>{var $;return[Ma(E.value,"v-chip"),A&&h(D1,{key:"filter"},{default:()=>[pn(h("div",{class:"v-chip__filter"},[r.filter?h(at,{key:"filter-defaults",disabled:!e.filterIcon,defaults:{VIcon:{icon:e.filterIcon}}},r.filter):h(Pt,{key:"filter-icon",icon:e.filterIcon},null)]),[[fs,_.isSelected.value]])]}),x&&h("div",{key:"prepend",class:"v-chip__prepend"},[r.prepend?h(at,{key:"prepend-defaults",disabled:!P,defaults:{VAvatar:{image:e.prependAvatar,start:!0},VIcon:{icon:e.prependIcon,start:!0}}},r.prepend):h(Ie,null,[e.prependIcon&&h(Pt,{key:"prepend-icon",icon:e.prependIcon,start:!0},null),e.prependAvatar&&h(Cr,{key:"prepend-avatar",image:e.prependAvatar,start:!0},null)])]),h("div",{class:"v-chip__content","data-no-activator":""},[(($=r.default)==null?void 0:$.call(r,{isSelected:_==null?void 0:_.isSelected.value,selectedClass:_==null?void 0:_.selectedClass.value,select:_==null?void 0:_.select,toggle:_==null?void 0:_.toggle,value:_==null?void 0:_.value.value,disabled:e.disabled}))??e.text]),w&&h("div",{key:"append",class:"v-chip__append"},[r.append?h(at,{key:"append-defaults",disabled:!S,defaults:{VAvatar:{end:!0,image:e.appendAvatar},VIcon:{end:!0,icon:e.appendIcon}}},r.append):h(Ie,null,[e.appendIcon&&h(Pt,{key:"append-icon",end:!0,icon:e.appendIcon},null),e.appendAvatar&&h(Cr,{key:"append-avatar",end:!0,image:e.appendAvatar},null)])]),C&&h("button",J({key:"close",class:"v-chip__close",type:"button"},k.value),[r.close?h(at,{key:"close-defaults",defaults:{VIcon:{icon:e.closeIcon,size:"x-small"}}},r.close):h(Pt,{key:"close-icon",icon:e.closeIcon,size:"x-small"},null)])]}}),[[ur("ripple"),E.value&&e.ripple,null]])}}}),G0=Symbol.for("vuetify:list");function jF(){const e=st(G0,{hasPrepend:Te(!1),updateHasPrepend:()=>null}),t={hasPrepend:Te(!1),updateHasPrepend:n=>{n&&(t.hasPrepend.value=n)}};return Ut(G0,t),e}function HF(){return st(G0,null)}const M1=e=>{const t={activate:n=>{let{id:i,value:r,activated:s}=n;return i=Ge(i),e&&!r&&s.size===1&&s.has(i)||(r?s.add(i):s.delete(i)),s},in:(n,i,r)=>{let s=new Set;if(n!=null)for(const o of vn(n))s=t.activate({id:o,value:!0,activated:new Set(s),children:i,parents:r});return s},out:n=>Array.from(n)};return t},WF=e=>{const t=M1(e);return{activate:i=>{let{activated:r,id:s,...o}=i;s=Ge(s);const a=r.has(s)?new Set([s]):new Set;return t.activate({...o,id:s,activated:a})},in:(i,r,s)=>{let o=new Set;if(i!=null){const a=vn(i);a.length&&(o=t.in(a.slice(0,1),r,s))}return o},out:(i,r,s)=>t.out(i,r,s)}},one=e=>{const t=M1(e);return{activate:i=>{let{id:r,activated:s,children:o,...a}=i;return r=Ge(r),o.has(r)?s:t.activate({id:r,activated:s,children:o,...a})},in:t.in,out:t.out}},ane=e=>{const t=WF(e);return{activate:i=>{let{id:r,activated:s,children:o,...a}=i;return r=Ge(r),o.has(r)?s:t.activate({id:r,activated:s,children:o,...a})},in:t.in,out:t.out}},lne={open:e=>{let{id:t,value:n,opened:i,parents:r}=e;if(n){const s=new Set;s.add(t);let o=r.get(t);for(;o!=null;)s.add(o),o=r.get(o);return s}else return i.delete(t),i},select:()=>null},zF={open:e=>{let{id:t,value:n,opened:i,parents:r}=e;if(n){let s=r.get(t);for(i.add(t);s!=null&&s!==t;)i.add(s),s=r.get(s);return i}else i.delete(t);return i},select:()=>null},une={open:zF.open,select:e=>{let{id:t,value:n,opened:i,parents:r}=e;if(!n)return i;const s=[];let o=r.get(t);for(;o!=null;)s.push(o),o=r.get(o);return new Set(s)}},L1=e=>{const t={select:n=>{let{id:i,value:r,selected:s}=n;if(i=Ge(i),e&&!r){const o=Array.from(s.entries()).reduce((a,l)=>{let[u,d]=l;return d==="on"&&a.push(u),a},[]);if(o.length===1&&o[0]===i)return s}return s.set(i,r?"on":"off"),s},in:(n,i,r)=>{let s=new Map;for(const o of n||[])s=t.select({id:o,value:!0,selected:new Map(s),children:i,parents:r});return s},out:n=>{const i=[];for(const[r,s]of n.entries())s==="on"&&i.push(r);return i}};return t},GF=e=>{const t=L1(e);return{select:i=>{let{selected:r,id:s,...o}=i;s=Ge(s);const a=r.has(s)?new Map([[s,r.get(s)]]):new Map;return t.select({...o,id:s,selected:a})},in:(i,r,s)=>{let o=new Map;return i!=null&&i.length&&(o=t.in(i.slice(0,1),r,s)),o},out:(i,r,s)=>t.out(i,r,s)}},cne=e=>{const t=L1(e);return{select:i=>{let{id:r,selected:s,children:o,...a}=i;return r=Ge(r),o.has(r)?s:t.select({id:r,selected:s,children:o,...a})},in:t.in,out:t.out}},dne=e=>{const t=GF(e);return{select:i=>{let{id:r,selected:s,children:o,...a}=i;return r=Ge(r),o.has(r)?s:t.select({id:r,selected:s,children:o,...a})},in:t.in,out:t.out}},fne=e=>{const t={select:n=>{let{id:i,value:r,selected:s,children:o,parents:a}=n;i=Ge(i);const l=new Map(s),u=[i];for(;u.length;){const c=u.shift();s.set(Ge(c),r?"on":"off"),o.has(c)&&u.push(...o.get(c))}let d=Ge(a.get(i));for(;d;){const c=o.get(d),f=c.every(g=>s.get(Ge(g))==="on"),v=c.every(g=>!s.has(Ge(g))||s.get(Ge(g))==="off");s.set(d,f?"on":v?"off":"indeterminate"),d=Ge(a.get(d))}return e&&!r&&Array.from(s.entries()).reduce((f,v)=>{let[g,p]=v;return p==="on"&&f.push(g),f},[]).length===0?l:s},in:(n,i,r)=>{let s=new Map;for(const o of n||[])s=t.select({id:o,value:!0,selected:new Map(s),children:i,parents:r});return s},out:(n,i)=>{const r=[];for(const[s,o]of n.entries())o==="on"&&!i.has(s)&&r.push(s);return r}};return t},Wf=Symbol.for("vuetify:nested"),qF={id:Te(),root:{register:()=>null,unregister:()=>null,parents:z(new Map),children:z(new Map),open:()=>null,openOnSelect:()=>null,activate:()=>null,select:()=>null,activatable:z(!1),selectable:z(!1),opened:z(new Set),activated:z(new Set),selected:z(new Map),selectedValues:z([]),getPath:()=>[]}},hne=Z({activatable:Boolean,selectable:Boolean,activeStrategy:[String,Function,Object],selectStrategy:[String,Function,Object],openStrategy:[String,Object],opened:null,activated:null,selected:null,mandatory:Boolean},"nested"),vne=e=>{let t=!1;const n=z(new Map),i=z(new Map),r=je(e,"opened",e.opened,g=>new Set(g),g=>[...g.values()]),s=I(()=>{if(typeof e.activeStrategy=="object")return e.activeStrategy;if(typeof e.activeStrategy=="function")return e.activeStrategy(e.mandatory);switch(e.activeStrategy){case"leaf":return one(e.mandatory);case"single-leaf":return ane(e.mandatory);case"independent":return M1(e.mandatory);case"single-independent":default:return WF(e.mandatory)}}),o=I(()=>{if(typeof e.selectStrategy=="object")return e.selectStrategy;if(typeof e.selectStrategy=="function")return e.selectStrategy(e.mandatory);switch(e.selectStrategy){case"single-leaf":return dne(e.mandatory);case"leaf":return cne(e.mandatory);case"independent":return L1(e.mandatory);case"single-independent":return GF(e.mandatory);case"classic":default:return fne(e.mandatory)}}),a=I(()=>{if(typeof e.openStrategy=="object")return e.openStrategy;switch(e.openStrategy){case"list":return une;case"single":return lne;case"multiple":default:return zF}}),l=je(e,"activated",e.activated,g=>s.value.in(g,n.value,i.value),g=>s.value.out(g,n.value,i.value)),u=je(e,"selected",e.selected,g=>o.value.in(g,n.value,i.value),g=>o.value.out(g,n.value,i.value));di(()=>{t=!0});function d(g){const p=[];let _=g;for(;_!=null;)p.unshift(_),_=i.value.get(_);return p}const c=Rn("nested"),f=new Set,v={id:Te(),root:{opened:r,activatable:ue(e,"activatable"),selectable:ue(e,"selectable"),activated:l,selected:u,selectedValues:I(()=>{const g=[];for(const[p,_]of u.value.entries())_==="on"&&g.push(p);return g}),register:(g,p,_)=>{if(f.has(g)){d(g).join(" -> "),d(p).concat(g).join(" -> ");return}else f.add(g);p&&g!==p&&i.value.set(g,p),_&&n.value.set(g,[]),p!=null&&n.value.set(p,[...n.value.get(p)||[],g])},unregister:g=>{if(t)return;f.delete(g),n.value.delete(g);const p=i.value.get(g);if(p){const _=n.value.get(p)??[];n.value.set(p,_.filter(y=>y!==g))}i.value.delete(g)},open:(g,p,_)=>{c.emit("click:open",{id:g,value:p,path:d(g),event:_});const y=a.value.open({id:g,value:p,opened:new Set(r.value),children:n.value,parents:i.value,event:_});y&&(r.value=y)},openOnSelect:(g,p,_)=>{const y=a.value.select({id:g,value:p,selected:new Map(u.value),opened:new Set(r.value),children:n.value,parents:i.value,event:_});y&&(r.value=y)},select:(g,p,_)=>{c.emit("click:select",{id:g,value:p,path:d(g),event:_});const y=o.value.select({id:g,value:p,selected:new Map(u.value),children:n.value,parents:i.value,event:_});y&&(u.value=y),v.root.openOnSelect(g,p,_)},activate:(g,p,_)=>{if(!e.activatable)return v.root.select(g,!0,_);c.emit("click:activate",{id:g,value:p,path:d(g),event:_});const y=s.value.activate({id:g,value:p,activated:new Set(l.value),children:n.value,parents:i.value,event:_});y&&(l.value=y)},children:n,parents:i,getPath:d}};return Ut(Wf,v),v.root},YF=(e,t)=>{const n=st(Wf,qF),i=Symbol(fi()),r=I(()=>e.value!==void 0?e.value:i),s={...n,id:r,open:(o,a)=>n.root.open(r.value,o,a),openOnSelect:(o,a)=>n.root.openOnSelect(r.value,o,a),isOpen:I(()=>n.root.opened.value.has(r.value)),parent:I(()=>n.root.parents.value.get(r.value)),activate:(o,a)=>n.root.activate(r.value,o,a),isActivated:I(()=>n.root.activated.value.has(Ge(r.value))),select:(o,a)=>n.root.select(r.value,o,a),isSelected:I(()=>n.root.selected.value.get(Ge(r.value))==="on"),isIndeterminate:I(()=>n.root.selected.value.get(r.value)==="indeterminate"),isLeaf:I(()=>!n.root.children.value.get(r.value)),isGroupActivator:n.isGroupActivator};return!n.isGroupActivator&&n.root.register(r.value,n.id.value,t),di(()=>{!n.isGroupActivator&&n.root.unregister(r.value)}),t&&Ut(Wf,s),s},mne=()=>{const e=st(Wf,qF);Ut(Wf,{...e,isGroupActivator:!0})},gne=Ar({name:"VListGroupActivator",setup(e,t){let{slots:n}=t;return mne(),()=>{var i;return(i=n.default)==null?void 0:i.call(n)}}}),KF=Z({activeColor:String,baseColor:String,color:String,collapseIcon:{type:Je,default:"$collapse"},expandIcon:{type:Je,default:"$expand"},prependIcon:Je,appendIcon:Je,fluid:Boolean,subgroup:Boolean,title:String,value:null,...$e(),...ut()},"VListGroup"),zf=de()({name:"VListGroup",props:KF(),setup(e,t){let{slots:n}=t;const{isOpen:i,open:r,id:s}=YF(ue(e,"value"),!0),o=I(()=>`v-list-group--id-${String(s.value)}`),a=HF(),{isBooted:l}=tu();function u(v){v.stopPropagation(),r(!i.value,v)}const d=I(()=>({onClick:u,class:"v-list-group__header",id:o.value})),c=I(()=>i.value?e.collapseIcon:e.expandIcon),f=I(()=>({VListItem:{active:i.value,activeColor:e.activeColor,baseColor:e.baseColor,color:e.color,prependIcon:e.prependIcon||e.subgroup&&c.value,appendIcon:e.appendIcon||!e.subgroup&&c.value,title:e.title,value:e.value}}));return ve(()=>h(e.tag,{class:["v-list-group",{"v-list-group--prepend":a==null?void 0:a.hasPrepend.value,"v-list-group--fluid":e.fluid,"v-list-group--subgroup":e.subgroup,"v-list-group--open":i.value},e.class],style:e.style},{default:()=>[n.activator&&h(at,{defaults:f.value},{default:()=>[h(gne,null,{default:()=>[n.activator({props:d.value,isOpen:i.value})]})]}),h($i,{transition:{component:o_},disabled:!l.value},{default:()=>{var v;return[pn(h("div",{class:"v-list-group__items",role:"group","aria-labelledby":o.value},[(v=n.default)==null?void 0:v.call(n)]),[[fs,i.value]])]}})]})),{isOpen:i}}}),pne=Z({opacity:[Number,String],...$e(),...ut()},"VListItemSubtitle"),XF=de()({name:"VListItemSubtitle",props:pne(),setup(e,t){let{slots:n}=t;return ve(()=>h(e.tag,{class:["v-list-item-subtitle",e.class],style:[{"--v-list-item-subtitle-opacity":e.opacity},e.style]},n)),{}}}),QF=Ws("v-list-item-title"),JF=Z({active:{type:Boolean,default:void 0},activeClass:String,activeColor:String,appendAvatar:String,appendIcon:Je,baseColor:String,disabled:Boolean,lines:[Boolean,String],link:{type:Boolean,default:void 0},nav:Boolean,prependAvatar:String,prependIcon:Je,ripple:{type:[Boolean,Object],default:!0},slim:Boolean,subtitle:[String,Number],title:[String,Number],value:null,onClick:ii(),onClickOnce:ii(),...cr(),...$e(),...ri(),...qn(),...Zn(),...yn(),...Fh(),...ut(),...Ct(),...Hr({variant:"text"})},"VListItem"),cs=de()({name:"VListItem",directives:{Ripple:Vo},props:JF(),emits:{click:e=>!0},setup(e,t){let{attrs:n,slots:i,emit:r}=t;const s=zc(e,n),o=I(()=>e.value===void 0?s.href.value:e.value),{activate:a,isActivated:l,select:u,isOpen:d,isSelected:c,isIndeterminate:f,isGroupActivator:v,root:g,parent:p,openOnSelect:_,id:y}=YF(o,!1),b=HF(),E=I(()=>{var oe;return e.active!==!1&&(e.active||((oe=s.isActive)==null?void 0:oe.value)||(g.activatable.value?l.value:c.value))}),k=I(()=>e.link!==!1&&s.isLink.value),R=I(()=>!e.disabled&&e.link!==!1&&(e.link||s.isClickable.value||!!b&&(g.selectable.value||g.activatable.value||e.value!=null))),O=I(()=>e.rounded||e.nav),D=I(()=>e.color??e.activeColor),S=I(()=>({color:E.value?D.value??e.baseColor:e.baseColor,variant:e.variant}));ge(()=>{var oe;return(oe=s.isActive)==null?void 0:oe.value},oe=>{oe&&p.value!=null&&g.open(p.value,!0),oe&&_(oe)},{immediate:!0});const{themeClasses:w}=Ft(e),{borderClasses:C}=Dr(e),{colorClasses:A,colorStyles:P,variantClasses:x}=nu(S),{densityClasses:U}=Hi(e),{dimensionStyles:$}=Yn(e),{elevationClasses:j}=hi(e),{roundedClasses:Y}=On(O),W=I(()=>e.lines?`v-list-item--${e.lines}-line`:void 0),K=I(()=>({isActive:E.value,select:u,isOpen:d.value,isSelected:c.value,isIndeterminate:f.value}));function G(oe){var _e;r("click",oe),R.value&&((_e=s.navigate)==null||_e.call(s,oe),!v&&(g.activatable.value?a(!l.value,oe):(g.selectable.value||e.value!=null)&&u(!c.value,oe)))}function te(oe){(oe.key==="Enter"||oe.key===" ")&&(oe.preventDefault(),oe.target.dispatchEvent(new MouseEvent("click",oe)))}return ve(()=>{const oe=k.value?"a":e.tag,_e=i.title||e.title!=null,Ae=i.subtitle||e.subtitle!=null,Ne=!!(e.appendAvatar||e.appendIcon),Q=!!(Ne||i.append),B=!!(e.prependAvatar||e.prependIcon),q=!!(B||i.prepend);return b==null||b.updateHasPrepend(q),e.activeColor&&nZ("active-color",["color","base-color"]),pn(h(oe,J({class:["v-list-item",{"v-list-item--active":E.value,"v-list-item--disabled":e.disabled,"v-list-item--link":R.value,"v-list-item--nav":e.nav,"v-list-item--prepend":!q&&(b==null?void 0:b.hasPrepend.value),"v-list-item--slim":e.slim,[`${e.activeClass}`]:e.activeClass&&E.value},w.value,C.value,A.value,U.value,j.value,W.value,Y.value,x.value,e.class],style:[P.value,$.value,e.style],tabindex:R.value?b?-2:0:void 0,onClick:G,onKeydown:R.value&&!k.value&&te},s.linkProps),{default:()=>{var ie;return[Ma(R.value||E.value,"v-list-item"),q&&h("div",{key:"prepend",class:"v-list-item__prepend"},[i.prepend?h(at,{key:"prepend-defaults",disabled:!B,defaults:{VAvatar:{density:e.density,image:e.prependAvatar},VIcon:{density:e.density,icon:e.prependIcon},VListItemAction:{start:!0}}},{default:()=>{var ce;return[(ce=i.prepend)==null?void 0:ce.call(i,K.value)]}}):h(Ie,null,[e.prependAvatar&&h(Cr,{key:"prepend-avatar",density:e.density,image:e.prependAvatar},null),e.prependIcon&&h(Pt,{key:"prepend-icon",density:e.density,icon:e.prependIcon},null)]),h("div",{class:"v-list-item__spacer"},null)]),h("div",{class:"v-list-item__content","data-no-activator":""},[_e&&h(QF,{key:"title"},{default:()=>{var ce;return[((ce=i.title)==null?void 0:ce.call(i,{title:e.title}))??e.title]}}),Ae&&h(XF,{key:"subtitle"},{default:()=>{var ce;return[((ce=i.subtitle)==null?void 0:ce.call(i,{subtitle:e.subtitle}))??e.subtitle]}}),(ie=i.default)==null?void 0:ie.call(i,K.value)]),Q&&h("div",{key:"append",class:"v-list-item__append"},[i.append?h(at,{key:"append-defaults",disabled:!Ne,defaults:{VAvatar:{density:e.density,image:e.appendAvatar},VIcon:{density:e.density,icon:e.appendIcon},VListItemAction:{end:!0}}},{default:()=>{var ce;return[(ce=i.append)==null?void 0:ce.call(i,K.value)]}}):h(Ie,null,[e.appendIcon&&h(Pt,{key:"append-icon",density:e.density,icon:e.appendIcon},null),e.appendAvatar&&h(Cr,{key:"append-avatar",density:e.density,image:e.appendAvatar},null)]),h("div",{class:"v-list-item__spacer"},null)])]}}),[[ur("ripple"),R.value&&e.ripple]])}),{activate:a,isActivated:l,isGroupActivator:v,isSelected:c,list:b,select:u,root:g,id:y}}}),_ne=Z({color:String,inset:Boolean,sticky:Boolean,title:String,...$e(),...ut()},"VListSubheader"),ZF=de()({name:"VListSubheader",props:_ne(),setup(e,t){let{slots:n}=t;const{textColorClasses:i,textColorStyles:r}=ci(ue(e,"color"));return ve(()=>{const s=!!(n.default||e.title);return h(e.tag,{class:["v-list-subheader",{"v-list-subheader--inset":e.inset,"v-list-subheader--sticky":e.sticky},i.value,e.class],style:[{textColorStyles:r},e.style]},{default:()=>{var o;return[s&&h("div",{class:"v-list-subheader__text"},[((o=n.default)==null?void 0:o.call(n))??e.title])]}})}),{}}}),yne=Z({color:String,inset:Boolean,length:[Number,String],opacity:[Number,String],thickness:[Number,String],vertical:Boolean,...$e(),...Ct()},"VDivider"),fo=de()({name:"VDivider",props:yne(),setup(e,t){let{attrs:n,slots:i}=t;const{themeClasses:r}=Ft(e),{textColorClasses:s,textColorStyles:o}=ci(ue(e,"color")),a=I(()=>{const l={};return e.length&&(l[e.vertical?"height":"width"]=Ve(e.length)),e.thickness&&(l[e.vertical?"borderRightWidth":"borderTopWidth"]=Ve(e.thickness)),l});return ve(()=>{const l=h("hr",{class:[{"v-divider":!0,"v-divider--inset":e.inset,"v-divider--vertical":e.vertical},r.value,s.value,e.class],style:[a.value,o.value,{"--v-border-opacity":e.opacity},e.style],"aria-orientation":!n.role||n.role==="separator"?e.vertical?"vertical":"horizontal":void 0,role:`${n.role||"separator"}`},null);return i.default?h("div",{class:["v-divider__wrapper",{"v-divider__wrapper--vertical":e.vertical,"v-divider__wrapper--inset":e.inset}]},[l,h("div",{class:"v-divider__content"},[i.default()]),l]):l}),{}}}),bne=Z({items:Array,returnObject:Boolean},"VListChildren"),e$=de()({name:"VListChildren",props:bne(),setup(e,t){let{slots:n}=t;return jF(),()=>{var i,r;return((i=n.default)==null?void 0:i.call(n))??((r=e.items)==null?void 0:r.map(s=>{var f,v;let{children:o,props:a,type:l,raw:u}=s;if(l==="divider")return((f=n.divider)==null?void 0:f.call(n,{props:a}))??h(fo,a,null);if(l==="subheader")return((v=n.subheader)==null?void 0:v.call(n,{props:a}))??h(ZF,a,null);const d={subtitle:n.subtitle?g=>{var p;return(p=n.subtitle)==null?void 0:p.call(n,{...g,item:u})}:void 0,prepend:n.prepend?g=>{var p;return(p=n.prepend)==null?void 0:p.call(n,{...g,item:u})}:void 0,append:n.append?g=>{var p;return(p=n.append)==null?void 0:p.call(n,{...g,item:u})}:void 0,title:n.title?g=>{var p;return(p=n.title)==null?void 0:p.call(n,{...g,item:u})}:void 0},c=zf.filterProps(a);return o?h(zf,J({value:a==null?void 0:a.value},c),{activator:g=>{let{props:p}=g;const _={...a,...p,value:e.returnObject?u:a.value};return n.header?n.header({props:_}):h(cs,_,d)},default:()=>h(e$,{items:o,returnObject:e.returnObject},n)}):n.item?n.item({props:a}):h(cs,J(a,{value:e.returnObject?u:a.value}),d)}))}}}),t$=Z({items:{type:Array,default:()=>[]},itemTitle:{type:[String,Array,Function],default:"title"},itemValue:{type:[String,Array,Function],default:"value"},itemChildren:{type:[Boolean,String,Array,Function],default:"children"},itemProps:{type:[Boolean,String,Array,Function],default:"props"},returnObject:Boolean,valueComparator:{type:Function,default:js}},"list-items");function ta(e,t){const n=jn(t,e.itemTitle,t),i=jn(t,e.itemValue,n),r=jn(t,e.itemChildren),s=e.itemProps===!0?typeof t=="object"&&t!=null&&!Array.isArray(t)?"children"in t?zt(t,["children"]):t:void 0:jn(t,e.itemProps),o={title:n,value:i,...s};return{title:String(o.title??""),value:o.value,props:o,children:Array.isArray(r)?n$(e,r):void 0,raw:t}}function n$(e,t){const n=[];for(const i of t)n.push(ta(e,i));return n}function F1(e){const t=I(()=>n$(e,e.items)),n=I(()=>t.value.some(s=>s.value===null));function i(s){return n.value||(s=s.filter(o=>o!==null)),s.map(o=>e.returnObject&&typeof o=="string"?ta(e,o):t.value.find(a=>e.valueComparator(o,a.value))||ta(e,o))}function r(s){return e.returnObject?s.map(o=>{let{raw:a}=o;return a}):s.map(o=>{let{value:a}=o;return a})}return{items:t,transformIn:i,transformOut:r}}function wne(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"}function Sne(e,t){const n=jn(t,e.itemType,"item"),i=wne(t)?t:jn(t,e.itemTitle),r=jn(t,e.itemValue,void 0),s=jn(t,e.itemChildren),o=e.itemProps===!0?zt(t,["children"]):jn(t,e.itemProps),a={title:i,value:r,...o};return{type:n,title:a.title,value:a.value,props:a,children:n==="item"&&s?i$(e,s):void 0,raw:t}}function i$(e,t){const n=[];for(const i of t)n.push(Sne(e,i));return n}function r$(e){return{items:I(()=>i$(e,e.items))}}const s$=Z({baseColor:String,activeColor:String,activeClass:String,bgColor:String,disabled:Boolean,expandIcon:String,collapseIcon:String,lines:{type:[Boolean,String],default:"one"},slim:Boolean,nav:Boolean,"onClick:open":ii(),"onClick:select":ii(),"onUpdate:opened":ii(),...hne({selectStrategy:"single-leaf",openStrategy:"list"}),...cr(),...$e(),...ri(),...qn(),...Zn(),itemType:{type:String,default:"type"},...t$(),...yn(),...ut(),...Ct(),...Hr({variant:"text"})},"VList"),Sc=de()({name:"VList",props:s$(),emits:{"update:selected":e=>!0,"update:activated":e=>!0,"update:opened":e=>!0,"click:open":e=>!0,"click:activate":e=>!0,"click:select":e=>!0},setup(e,t){let{slots:n}=t;const{items:i}=r$(e),{themeClasses:r}=Ft(e),{backgroundColorClasses:s,backgroundColorStyles:o}=Gt(ue(e,"bgColor")),{borderClasses:a}=Dr(e),{densityClasses:l}=Hi(e),{dimensionStyles:u}=Yn(e),{elevationClasses:d}=hi(e),{roundedClasses:c}=On(e),{children:f,open:v,parents:g,select:p,getPath:_}=vne(e),y=I(()=>e.lines?`v-list--${e.lines}-line`:void 0),b=ue(e,"activeColor"),E=ue(e,"baseColor"),k=ue(e,"color");jF(),_n({VListGroup:{activeColor:b,baseColor:E,color:k,expandIcon:ue(e,"expandIcon"),collapseIcon:ue(e,"collapseIcon")},VListItem:{activeClass:ue(e,"activeClass"),activeColor:b,baseColor:E,color:k,density:ue(e,"density"),disabled:ue(e,"disabled"),lines:ue(e,"lines"),nav:ue(e,"nav"),slim:ue(e,"slim"),variant:ue(e,"variant")}});const R=Te(!1),O=z();function D(x){R.value=!0}function S(x){R.value=!1}function w(x){var U;!R.value&&!(x.relatedTarget&&((U=O.value)!=null&&U.contains(x.relatedTarget)))&&P()}function C(x){const U=x.target;if(!(!O.value||["INPUT","TEXTAREA"].includes(U.tagName))){if(x.key==="ArrowDown")P("next");else if(x.key==="ArrowUp")P("prev");else if(x.key==="Home")P("first");else if(x.key==="End")P("last");else return;x.preventDefault()}}function A(x){R.value=!0}function P(x){if(O.value)return _l(O.value,x)}return ve(()=>h(e.tag,{ref:O,class:["v-list",{"v-list--disabled":e.disabled,"v-list--nav":e.nav,"v-list--slim":e.slim},r.value,s.value,a.value,l.value,d.value,y.value,c.value,e.class],style:[o.value,u.value,e.style],tabindex:e.disabled||R.value?-1:0,role:"listbox","aria-activedescendant":void 0,onFocusin:D,onFocusout:S,onFocus:w,onKeydown:C,onMousedown:A},{default:()=>[h(e$,{items:i.value,returnObject:e.returnObject},n)]})),{open:v,select:p,focus:P,children:f,parents:g,getPath:_}}}),Ene=Ws("v-list-img"),Cne=Z({start:Boolean,end:Boolean,...$e(),...ut()},"VListItemAction"),o$=de()({name:"VListItemAction",props:Cne(),setup(e,t){let{slots:n}=t;return ve(()=>h(e.tag,{class:["v-list-item-action",{"v-list-item-action--start":e.start,"v-list-item-action--end":e.end},e.class],style:e.style},n)),{}}}),kne=Z({start:Boolean,end:Boolean,...$e(),...ut()},"VListItemMedia"),Tne=de()({name:"VListItemMedia",props:kne(),setup(e,t){let{slots:n}=t;return ve(()=>h(e.tag,{class:["v-list-item-media",{"v-list-item-media--start":e.start,"v-list-item-media--end":e.end},e.class],style:e.style},n)),{}}});function Qy(e,t){return{x:e.x+t.x,y:e.y+t.y}}function Ine(e,t){return{x:e.x-t.x,y:e.y-t.y}}function BP(e,t){if(e.side==="top"||e.side==="bottom"){const{side:n,align:i}=e,r=i==="left"?0:i==="center"?t.width/2:i==="right"?t.width:i,s=n==="top"?0:n==="bottom"?t.height:n;return Qy({x:r,y:s},t)}else if(e.side==="left"||e.side==="right"){const{side:n,align:i}=e,r=n==="left"?0:n==="right"?t.width:n,s=i==="top"?0:i==="center"?t.height/2:i==="bottom"?t.height:i;return Qy({x:r,y:s},t)}return Qy({x:t.width/2,y:t.height/2},t)}const a$={static:xne,connected:Rne},Ane=Z({locationStrategy:{type:[String,Function],default:"static",validator:e=>typeof e=="function"||e in a$},location:{type:String,default:"bottom"},origin:{type:String,default:"auto"},offset:[Number,String,Array]},"VOverlay-location-strategies");function Pne(e,t){const n=z({}),i=z();Bt&&Ji(()=>!!(t.isActive.value&&e.locationStrategy),s=>{var o,a;ge(()=>e.locationStrategy,s),Ci(()=>{window.removeEventListener("resize",r),i.value=void 0}),window.addEventListener("resize",r,{passive:!0}),typeof e.locationStrategy=="function"?i.value=(o=e.locationStrategy(t,e,n))==null?void 0:o.updateLocation:i.value=(a=a$[e.locationStrategy](t,e,n))==null?void 0:a.updateLocation});function r(s){var o;(o=i.value)==null||o.call(i,s)}return{contentStyles:n,updateLocation:i}}function xne(){}function Dne(e,t){const n=_1(e);return t?n.x+=parseFloat(e.style.right||0):n.x-=parseFloat(e.style.left||0),n.y-=parseFloat(e.style.top||0),n}function Rne(e,t,n){(Array.isArray(e.target.value)||EZ(e.target.value))&&Object.assign(n.value,{position:"fixed",top:0,[e.isRtl.value?"right":"left"]:0});const{preferredAnchor:r,preferredOrigin:s}=g1(()=>{const g=O0(t.location,e.isRtl.value),p=t.origin==="overlap"?g:t.origin==="auto"?Gy(g):O0(t.origin,e.isRtl.value);return g.side===p.side&&g.align===qy(p).align?{preferredAnchor:oP(g),preferredOrigin:oP(p)}:{preferredAnchor:g,preferredOrigin:p}}),[o,a,l,u]=["minWidth","minHeight","maxWidth","maxHeight"].map(g=>I(()=>{const p=parseFloat(t[g]);return isNaN(p)?1/0:p})),d=I(()=>{if(Array.isArray(t.offset))return t.offset;if(typeof t.offset=="string"){const g=t.offset.split(" ").map(parseFloat);return g.length<2&&g.push(0),g}return typeof t.offset=="number"?[t.offset,0]:[0,0]});let c=!1;const f=new ResizeObserver(()=>{c&&v()});ge([e.target,e.contentEl],(g,p)=>{let[_,y]=g,[b,E]=p;b&&!Array.isArray(b)&&f.unobserve(b),_&&!Array.isArray(_)&&f.observe(_),E&&f.unobserve(E),y&&f.observe(y)},{immediate:!0}),Ci(()=>{f.disconnect()});function v(){if(c=!1,requestAnimationFrame(()=>c=!0),!e.target.value||!e.contentEl.value)return;const g=OL(e.target.value),p=Dne(e.contentEl.value,e.isRtl.value),_=Mf(e.contentEl.value),y=12;_.length||(_.push(document.documentElement),e.contentEl.value.style.top&&e.contentEl.value.style.left||(p.x-=parseFloat(document.documentElement.style.getPropertyValue("--v-body-scroll-x")||0),p.y-=parseFloat(document.documentElement.style.getPropertyValue("--v-body-scroll-y")||0)));const b=_.reduce((A,P)=>{const x=P.getBoundingClientRect(),U=new yl({x:P===document.documentElement?0:x.x,y:P===document.documentElement?0:x.y,width:P.clientWidth,height:P.clientHeight});return A?new yl({x:Math.max(A.left,U.left),y:Math.max(A.top,U.top),width:Math.min(A.right,U.right)-Math.max(A.left,U.left),height:Math.min(A.bottom,U.bottom)-Math.max(A.top,U.top)}):U},void 0);b.x+=y,b.y+=y,b.width-=y*2,b.height-=y*2;let E={anchor:r.value,origin:s.value};function k(A){const P=new yl(p),x=BP(A.anchor,g),U=BP(A.origin,P);let{x:$,y:j}=Ine(x,U);switch(A.anchor.side){case"top":j-=d.value[0];break;case"bottom":j+=d.value[0];break;case"left":$-=d.value[0];break;case"right":$+=d.value[0];break}switch(A.anchor.align){case"top":j-=d.value[1];break;case"bottom":j+=d.value[1];break;case"left":$-=d.value[1];break;case"right":$+=d.value[1];break}return P.x+=$,P.y+=j,P.width=Math.min(P.width,l.value),P.height=Math.min(P.height,u.value),{overflows:lP(P,b),x:$,y:j}}let R=0,O=0;const D={x:0,y:0},S={x:!1,y:!1};let w=-1;for(;!(w++>10);){const{x:A,y:P,overflows:x}=k(E);R+=A,O+=P,p.x+=A,p.y+=P;{const U=aP(E.anchor),$=x.x.before||x.x.after,j=x.y.before||x.y.after;let Y=!1;if(["x","y"].forEach(W=>{if(W==="x"&&$&&!S.x||W==="y"&&j&&!S.y){const K={anchor:{...E.anchor},origin:{...E.origin}},G=W==="x"?U==="y"?qy:Gy:U==="y"?Gy:qy;K.anchor=G(K.anchor),K.origin=G(K.origin);const{overflows:te}=k(K);(te[W].before<=x[W].before&&te[W].after<=x[W].after||te[W].before+te[W].after<(x[W].before+x[W].after)/2)&&(E=K,Y=S[W]=!0)}}),Y)continue}x.x.before&&(R+=x.x.before,p.x+=x.x.before),x.x.after&&(R-=x.x.after,p.x-=x.x.after),x.y.before&&(O+=x.y.before,p.y+=x.y.before),x.y.after&&(O-=x.y.after,p.y-=x.y.after);{const U=lP(p,b);D.x=b.width-U.x.before-U.x.after,D.y=b.height-U.y.before-U.y.after,R+=U.x.before,p.x+=U.x.before,O+=U.y.before,p.y+=U.y.before}break}const C=aP(E.anchor);return Object.assign(n.value,{"--v-overlay-anchor-origin":`${E.anchor.side} ${E.anchor.align}`,transformOrigin:`${E.origin.side} ${E.origin.align}`,top:Ve(Jy(O)),left:e.isRtl.value?void 0:Ve(Jy(R)),right:e.isRtl.value?Ve(Jy(-R)):void 0,minWidth:Ve(C==="y"?Math.min(o.value,g.width):o.value),maxWidth:Ve(UP(kn(D.x,o.value===1/0?0:o.value,l.value))),maxHeight:Ve(UP(kn(D.y,a.value===1/0?0:a.value,u.value)))}),{available:D,contentBox:p}}return ge(()=>[r.value,s.value,t.offset,t.minWidth,t.minHeight,t.maxWidth,t.maxHeight],()=>v()),ot(()=>{const g=v();if(!g)return;const{available:p,contentBox:_}=g;_.height>p.y&&requestAnimationFrame(()=>{v(),requestAnimationFrame(()=>{v()})})}),{updateLocation:v}}function Jy(e){return Math.round(e*devicePixelRatio)/devicePixelRatio}function UP(e){return Math.ceil(e*devicePixelRatio)/devicePixelRatio}let q0=!0;const pg=[];function One(e){!q0||pg.length?(pg.push(e),Y0()):(q0=!1,e(),Y0())}let jP=-1;function Y0(){cancelAnimationFrame(jP),jP=requestAnimationFrame(()=>{const e=pg.shift();e&&e(),pg.length?Y0():q0=!0})}const mm={none:null,close:Mne,block:Lne,reposition:Fne},Vne=Z({scrollStrategy:{type:[String,Function],default:"block",validator:e=>typeof e=="function"||e in mm}},"VOverlay-scroll-strategies");function Nne(e,t){if(!Bt)return;let n;rn(async()=>{n==null||n.stop(),t.isActive.value&&e.scrollStrategy&&(n=uh(),await new Promise(i=>setTimeout(i)),n.active&&n.run(()=>{var i;typeof e.scrollStrategy=="function"?e.scrollStrategy(t,e,n):(i=mm[e.scrollStrategy])==null||i.call(mm,t,e,n)}))}),Ci(()=>{n==null||n.stop()})}function Mne(e){function t(n){e.isActive.value=!1}l$(e.targetEl.value??e.contentEl.value,t)}function Lne(e,t){var o;const n=(o=e.root.value)==null?void 0:o.offsetParent,i=[...new Set([...Mf(e.targetEl.value,t.contained?n:void 0),...Mf(e.contentEl.value,t.contained?n:void 0)])].filter(a=>!a.classList.contains("v-overlay-scroll-blocked")),r=window.innerWidth-document.documentElement.offsetWidth,s=(a=>E1(a)&&a)(n||document.documentElement);s&&e.root.value.classList.add("v-overlay--scroll-blocked"),i.forEach((a,l)=>{a.style.setProperty("--v-body-scroll-x",Ve(-a.scrollLeft)),a.style.setProperty("--v-body-scroll-y",Ve(-a.scrollTop)),a!==document.documentElement&&a.style.setProperty("--v-scrollbar-offset",Ve(r)),a.classList.add("v-overlay-scroll-blocked")}),Ci(()=>{i.forEach((a,l)=>{const u=parseFloat(a.style.getPropertyValue("--v-body-scroll-x")),d=parseFloat(a.style.getPropertyValue("--v-body-scroll-y")),c=a.style.scrollBehavior;a.style.scrollBehavior="auto",a.style.removeProperty("--v-body-scroll-x"),a.style.removeProperty("--v-body-scroll-y"),a.style.removeProperty("--v-scrollbar-offset"),a.classList.remove("v-overlay-scroll-blocked"),a.scrollLeft=-u,a.scrollTop=-d,a.style.scrollBehavior=c}),s&&e.root.value.classList.remove("v-overlay--scroll-blocked")})}function Fne(e,t,n){let i=!1,r=-1,s=-1;function o(a){One(()=>{var d,c;const l=performance.now();(c=(d=e.updateLocation).value)==null||c.call(d,a),i=(performance.now()-l)/(1e3/60)>2})}s=(typeof requestIdleCallback>"u"?a=>a():requestIdleCallback)(()=>{n.run(()=>{l$(e.targetEl.value??e.contentEl.value,a=>{i?(cancelAnimationFrame(r),r=requestAnimationFrame(()=>{r=requestAnimationFrame(()=>{o(a)})})):o(a)})})}),Ci(()=>{typeof cancelIdleCallback<"u"&&cancelIdleCallback(s),cancelAnimationFrame(r)})}function l$(e,t){const n=[document,...Mf(e)];n.forEach(i=>{i.addEventListener("scroll",t,{passive:!0})}),Ci(()=>{n.forEach(i=>{i.removeEventListener("scroll",t)})})}const K0=Symbol.for("vuetify:v-menu"),$1=Z({closeDelay:[Number,String],openDelay:[Number,String]},"delay");function B1(e,t){let n=()=>{};function i(o){n==null||n();const a=Number(o?e.openDelay:e.closeDelay);return new Promise(l=>{n=WJ(a,()=>{t==null||t(o),l(o)})})}function r(){return i(!0)}function s(){return i(!1)}return{clearDelay:n,runOpenDelay:r,runCloseDelay:s}}const $ne=Z({target:[String,Object],activator:[String,Object],activatorProps:{type:Object,default:()=>({})},openOnClick:{type:Boolean,default:void 0},openOnHover:Boolean,openOnFocus:{type:Boolean,default:void 0},closeOnContentClick:Boolean,...$1()},"VOverlay-activator");function Bne(e,t){let{isActive:n,isTop:i,contentEl:r}=t;const s=Rn("useActivator"),o=z();let a=!1,l=!1,u=!0;const d=I(()=>e.openOnFocus||e.openOnFocus==null&&e.openOnHover),c=I(()=>e.openOnClick||e.openOnClick==null&&!e.openOnHover&&!d.value),{runOpenDelay:f,runCloseDelay:v}=B1(e,S=>{S===(e.openOnHover&&a||d.value&&l)&&!(e.openOnHover&&n.value&&!i.value)&&(n.value!==S&&(u=!0),n.value=S)}),g=z(),p={onClick:S=>{S.stopPropagation(),o.value=S.currentTarget||S.target,n.value||(g.value=[S.clientX,S.clientY]),n.value=!n.value},onMouseenter:S=>{var w;(w=S.sourceCapabilities)!=null&&w.firesTouchEvents||(a=!0,o.value=S.currentTarget||S.target,f())},onMouseleave:S=>{a=!1,v()},onFocus:S=>{yc(S.target,":focus-visible")!==!1&&(l=!0,S.stopPropagation(),o.value=S.currentTarget||S.target,f())},onBlur:S=>{l=!1,S.stopPropagation(),v()}},_=I(()=>{const S={};return c.value&&(S.onClick=p.onClick),e.openOnHover&&(S.onMouseenter=p.onMouseenter,S.onMouseleave=p.onMouseleave),d.value&&(S.onFocus=p.onFocus,S.onBlur=p.onBlur),S}),y=I(()=>{const S={};if(e.openOnHover&&(S.onMouseenter=()=>{a=!0,f()},S.onMouseleave=()=>{a=!1,v()}),d.value&&(S.onFocusin=()=>{l=!0,f()},S.onFocusout=()=>{l=!1,v()}),e.closeOnContentClick){const w=st(K0,null);S.onClick=()=>{n.value=!1,w==null||w.closeParents()}}return S}),b=I(()=>{const S={};return e.openOnHover&&(S.onMouseenter=()=>{u&&(a=!0,u=!1,f())},S.onMouseleave=()=>{a=!1,v()}),S});ge(i,S=>{var w;S&&(e.openOnHover&&!a&&(!d.value||!l)||d.value&&!l&&(!e.openOnHover||!a))&&!((w=r.value)!=null&&w.contains(document.activeElement))&&(n.value=!1)}),ge(n,S=>{S||setTimeout(()=>{g.value=void 0})},{flush:"post"});const E=fg();rn(()=>{E.value&&ot(()=>{o.value=E.el})});const k=fg(),R=I(()=>e.target==="cursor"&&g.value?g.value:k.value?k.el:u$(e.target,s)||o.value),O=I(()=>Array.isArray(R.value)?void 0:R.value);let D;return ge(()=>!!e.activator,S=>{S&&Bt?(D=uh(),D.run(()=>{Une(e,s,{activatorEl:o,activatorEvents:_})})):D&&D.stop()},{flush:"post",immediate:!0}),Ci(()=>{D==null||D.stop()}),{activatorEl:o,activatorRef:E,target:R,targetEl:O,targetRef:k,activatorEvents:_,contentEvents:y,scrimEvents:b}}function Une(e,t,n){let{activatorEl:i,activatorEvents:r}=n;ge(()=>e.activator,(l,u)=>{if(u&&l!==u){const d=a(u);d&&o(d)}l&&ot(()=>s())},{immediate:!0}),ge(()=>e.activatorProps,()=>{s()}),Ci(()=>{o()});function s(){let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:a(),u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e.activatorProps;l&&qJ(l,J(r.value,u))}function o(){let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:a(),u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e.activatorProps;l&&YJ(l,J(r.value,u))}function a(){let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:e.activator;const u=u$(l,t);return i.value=(u==null?void 0:u.nodeType)===Node.ELEMENT_NODE?u:void 0,i.value}}function u$(e,t){var i,r;if(!e)return;let n;if(e==="parent"){let s=(r=(i=t==null?void 0:t.proxy)==null?void 0:i.$el)==null?void 0:r.parentNode;for(;s!=null&&s.hasAttribute("data-no-activator");)s=s.parentNode;n=s}else typeof e=="string"?n=document.querySelector(e):"$el"in e?n=e.$el:n=e;return n}function c$(){if(!Bt)return Te(!1);const{ssr:e}=Pr();if(e){const t=Te(!1);return yt(()=>{t.value=!0}),t}else return Te(!0)}const U1=Z({eager:Boolean},"lazy");function j1(e,t){const n=Te(!1),i=I(()=>n.value||e.eager||t.value);ge(t,()=>n.value=!0);function r(){e.eager||(n.value=!1)}return{isBooted:n,hasContent:i,onAfterLeave:r}}function lu(){const t=Rn("useScopeId").vnode.scopeId;return{scopeId:t?{[t]:""}:void 0}}const HP=Symbol.for("vuetify:stack"),Cd=cn([]);function jne(e,t,n){const i=Rn("useStack"),r=!n,s=st(HP,void 0),o=cn({activeChildren:new Set});Ut(HP,o);const a=Te(+t.value);Ji(e,()=>{var c;const d=(c=Cd.at(-1))==null?void 0:c[1];a.value=d?d+10:+t.value,r&&Cd.push([i.uid,a.value]),s==null||s.activeChildren.add(i.uid),Ci(()=>{if(r){const f=Ge(Cd).findIndex(v=>v[0]===i.uid);Cd.splice(f,1)}s==null||s.activeChildren.delete(i.uid)})});const l=Te(!0);r&&rn(()=>{var c;const d=((c=Cd.at(-1))==null?void 0:c[0])===i.uid;setTimeout(()=>l.value=d)});const u=I(()=>!o.activeChildren.size);return{globalTop:xc(l),localTop:u,stackStyles:I(()=>({zIndex:a.value}))}}function Hne(e){return{teleportTarget:I(()=>{const n=e();if(n===!0||!Bt)return;const i=n===!1?document.body:typeof n=="string"?document.querySelector(n):n;if(i==null)return;let r=[...i.children].find(s=>s.matches(".v-overlay-container"));return r||(r=document.createElement("div"),r.className="v-overlay-container",i.appendChild(r)),r})}}function Wne(){return!0}function d$(e,t,n){if(!e||f$(e,n)===!1)return!1;const i=GL(t);if(typeof ShadowRoot<"u"&&i instanceof ShadowRoot&&i.host===e.target)return!1;const r=(typeof n.value=="object"&&n.value.include||(()=>[]))();return r.push(t),!r.some(s=>s==null?void 0:s.contains(e.target))}function f$(e,t){return(typeof t.value=="object"&&t.value.closeConditional||Wne)(e)}function zne(e,t,n){const i=typeof n.value=="function"?n.value:n.value.handler;e.shadowTarget=e.target,t._clickOutside.lastMousedownWasOutside&&d$(e,t,n)&&setTimeout(()=>{f$(e,n)&&i&&i(e)},0)}function WP(e,t){const n=GL(e);t(document),typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&t(n)}const h$={mounted(e,t){const n=r=>zne(r,e,t),i=r=>{e._clickOutside.lastMousedownWasOutside=d$(r,e,t)};WP(e,r=>{r.addEventListener("click",n,!0),r.addEventListener("mousedown",i,!0)}),e._clickOutside||(e._clickOutside={lastMousedownWasOutside:!1}),e._clickOutside[t.instance.$.uid]={onClick:n,onMousedown:i}},beforeUnmount(e,t){e._clickOutside&&(WP(e,n=>{var s;if(!n||!((s=e._clickOutside)!=null&&s[t.instance.$.uid]))return;const{onClick:i,onMousedown:r}=e._clickOutside[t.instance.$.uid];n.removeEventListener("click",i,!0),n.removeEventListener("mousedown",r,!0)}),delete e._clickOutside[t.instance.$.uid])}};function Gne(e){const{modelValue:t,color:n,...i}=e;return h(va,{name:"fade-transition",appear:!0},{default:()=>[e.modelValue&&h("div",J({class:["v-overlay__scrim",e.color.backgroundColorClasses.value],style:e.color.backgroundColorStyles.value},i),null)]})}const Bh=Z({absolute:Boolean,attach:[Boolean,String,Object],closeOnBack:{type:Boolean,default:!0},contained:Boolean,contentClass:null,contentProps:null,disabled:Boolean,opacity:[Number,String],noClickAnimation:Boolean,modelValue:Boolean,persistent:Boolean,scrim:{type:[Boolean,String],default:!0},zIndex:{type:[Number,String],default:2e3},...$ne(),...$e(),...qn(),...U1(),...Ane(),...Vne(),...Ct(),...hs()},"VOverlay"),Ls=de()({name:"VOverlay",directives:{ClickOutside:h$},inheritAttrs:!1,props:{_disableGlobalStack:Boolean,...Bh()},emits:{"click:outside":e=>!0,"update:modelValue":e=>!0,afterEnter:()=>!0,afterLeave:()=>!0},setup(e,t){let{slots:n,attrs:i,emit:r}=t;const s=Rn("VOverlay"),o=z(),a=z(),l=z(),u=je(e,"modelValue"),d=I({get:()=>u.value,set:Q=>{Q&&e.disabled||(u.value=Q)}}),{themeClasses:c}=Ft(e),{rtlClasses:f,isRtl:v}=Jn(),{hasContent:g,onAfterLeave:p}=j1(e,d),_=Gt(I(()=>typeof e.scrim=="string"?e.scrim:null)),{globalTop:y,localTop:b,stackStyles:E}=jne(d,ue(e,"zIndex"),e._disableGlobalStack),{activatorEl:k,activatorRef:R,target:O,targetEl:D,targetRef:S,activatorEvents:w,contentEvents:C,scrimEvents:A}=Bne(e,{isActive:d,isTop:b,contentEl:l}),{teleportTarget:P}=Hne(()=>{var q,ie,ce;const Q=e.attach||e.contained;if(Q)return Q;const B=((q=k==null?void 0:k.value)==null?void 0:q.getRootNode())||((ce=(ie=s.proxy)==null?void 0:ie.$el)==null?void 0:ce.getRootNode());return B instanceof ShadowRoot?B:!1}),{dimensionStyles:x}=Yn(e),U=c$(),{scopeId:$}=lu();ge(()=>e.disabled,Q=>{Q&&(d.value=!1)});const{contentStyles:j,updateLocation:Y}=Pne(e,{isRtl:v,contentEl:l,target:O,isActive:d});Nne(e,{root:o,contentEl:l,targetEl:D,isActive:d,updateLocation:Y});function W(Q){r("click:outside",Q),e.persistent?_e():d.value=!1}function K(Q){return d.value&&y.value&&(!e.scrim||Q.target===a.value||Q instanceof MouseEvent&&Q.shadowTarget===a.value)}Bt&&ge(d,Q=>{Q?window.addEventListener("keydown",G):window.removeEventListener("keydown",G)},{immediate:!0}),di(()=>{Bt&&window.removeEventListener("keydown",G)});function G(Q){var B,q;Q.key==="Escape"&&y.value&&(e.persistent?_e():(d.value=!1,(B=l.value)!=null&&B.contains(document.activeElement)&&((q=k.value)==null||q.focus())))}const te=bF();Ji(()=>e.closeOnBack,()=>{Rte(te,Q=>{y.value&&d.value?(Q(!1),e.persistent?_e():d.value=!1):Q()})});const oe=z();ge(()=>d.value&&(e.absolute||e.contained)&&P.value==null,Q=>{if(Q){const B=S1(o.value);B&&B!==document.scrollingElement&&(oe.value=B.scrollTop)}});function _e(){e.noClickAnimation||l.value&&cl(l.value,[{transformOrigin:"center"},{transform:"scale(1.03)"},{transformOrigin:"center"}],{duration:150,easing:Nf})}function Ae(){r("afterEnter")}function Ne(){p(),r("afterLeave")}return ve(()=>{var Q;return h(Ie,null,[(Q=n.activator)==null?void 0:Q.call(n,{isActive:d.value,targetRef:S,props:J({ref:R},w.value,e.activatorProps)}),U.value&&g.value&&h(gO,{disabled:!P.value,to:P.value},{default:()=>[h("div",J({class:["v-overlay",{"v-overlay--absolute":e.absolute||e.contained,"v-overlay--active":d.value,"v-overlay--contained":e.contained},c.value,f.value,e.class],style:[E.value,{"--v-overlay-opacity":e.opacity,top:Ve(oe.value)},e.style],ref:o},$,i),[h(Gne,J({color:_,modelValue:d.value&&!!e.scrim,ref:a},A.value),null),h($i,{appear:!0,persisted:!0,transition:e.transition,target:O.value,onAfterEnter:Ae,onAfterLeave:Ne},{default:()=>{var B;return[pn(h("div",J({ref:l,class:["v-overlay__content",e.contentClass],style:[x.value,j.value]},C.value,e.contentProps),[(B=n.default)==null?void 0:B.call(n,{isActive:d})]),[[fs,d.value],[ur("click-outside"),{handler:W,closeConditional:K,include:()=>[k.value]}]])]}})])]})])}),{activatorEl:k,scrimEl:a,target:O,animateClick:_e,contentEl:l,globalTop:y,localTop:b,updateLocation:Y}}}),Zy=Symbol("Forwarded refs");function eb(e,t){let n=e;for(;n;){const i=Reflect.getOwnPropertyDescriptor(n,t);if(i)return i;n=Object.getPrototypeOf(n)}}function Rr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return e[Zy]=n,new Proxy(e,{get(r,s){if(Reflect.has(r,s))return Reflect.get(r,s);if(!(typeof s=="symbol"||s.startsWith("$")||s.startsWith("__"))){for(const o of n)if(o.value&&Reflect.has(o.value,s)){const a=Reflect.get(o.value,s);return typeof a=="function"?a.bind(o.value):a}}},has(r,s){if(Reflect.has(r,s))return!0;if(typeof s=="symbol"||s.startsWith("$")||s.startsWith("__"))return!1;for(const o of n)if(o.value&&Reflect.has(o.value,s))return!0;return!1},set(r,s,o){if(Reflect.has(r,s))return Reflect.set(r,s,o);if(typeof s=="symbol"||s.startsWith("$")||s.startsWith("__"))return!1;for(const a of n)if(a.value&&Reflect.has(a.value,s))return Reflect.set(a.value,s,o);return!1},getOwnPropertyDescriptor(r,s){var a;const o=Reflect.getOwnPropertyDescriptor(r,s);if(o)return o;if(!(typeof s=="symbol"||s.startsWith("$")||s.startsWith("__"))){for(const l of n){if(!l.value)continue;const u=eb(l.value,s)??("_"in l.value?eb((a=l.value._)==null?void 0:a.setupState,s):void 0);if(u)return u}for(const l of n){const u=l.value&&l.value[Zy];if(!u)continue;const d=u.slice();for(;d.length;){const c=d.shift(),f=eb(c.value,s);if(f)return f;const v=c.value&&c.value[Zy];v&&d.push(...v)}}}}})}const v$=Z({id:String,submenu:Boolean,...zt(Bh({closeDelay:250,closeOnContentClick:!0,locationStrategy:"connected",location:void 0,openDelay:300,scrim:!1,scrollStrategy:"reposition",transition:{component:s_}}),["absolute"])},"VMenu"),Fl=de()({name:"VMenu",props:v$(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const i=je(e,"modelValue"),{scopeId:r}=lu(),{isRtl:s}=Jn(),o=fi(),a=I(()=>e.id||`v-menu-${o}`),l=z(),u=st(K0,null),d=Te(new Set);Ut(K0,{register(){d.value.add(o)},unregister(){d.value.delete(o)},closeParents(_){setTimeout(()=>{var y;!d.value.size&&!e.persistent&&(_==null||(y=l.value)!=null&&y.contentEl&&!zJ(_,l.value.contentEl))&&(i.value=!1,u==null||u.closeParents())},40)}}),di(()=>u==null?void 0:u.unregister()),IS(()=>i.value=!1);async function c(_){var E,k,R;const y=_.relatedTarget,b=_.target;await ot(),i.value&&y!==b&&((E=l.value)!=null&&E.contentEl)&&((k=l.value)!=null&&k.globalTop)&&![document,l.value.contentEl].includes(b)&&!l.value.contentEl.contains(b)&&((R=Vf(l.value.contentEl)[0])==null||R.focus())}ge(i,_=>{_?(u==null||u.register(),document.addEventListener("focusin",c,{once:!0})):(u==null||u.unregister(),document.removeEventListener("focusin",c))});function f(_){u==null||u.closeParents(_)}function v(_){var y,b,E,k,R;if(!e.disabled)if(_.key==="Tab"||_.key==="Enter"&&!e.closeOnContentClick){if(_.key==="Enter"&&(_.target instanceof HTMLTextAreaElement||_.target instanceof HTMLInputElement&&_.target.closest("form")))return;_.key==="Enter"&&_.preventDefault(),xL(Vf((y=l.value)==null?void 0:y.contentEl,!1),_.shiftKey?"prev":"next",D=>D.tabIndex>=0)||(i.value=!1,(E=(b=l.value)==null?void 0:b.activatorEl)==null||E.focus())}else e.submenu&&_.key===(s.value?"ArrowRight":"ArrowLeft")&&(i.value=!1,(R=(k=l.value)==null?void 0:k.activatorEl)==null||R.focus())}function g(_){var b;if(e.disabled)return;const y=(b=l.value)==null?void 0:b.contentEl;y&&i.value?_.key==="ArrowDown"?(_.preventDefault(),_.stopImmediatePropagation(),_l(y,"next")):_.key==="ArrowUp"?(_.preventDefault(),_.stopImmediatePropagation(),_l(y,"prev")):e.submenu&&(_.key===(s.value?"ArrowRight":"ArrowLeft")?i.value=!1:_.key===(s.value?"ArrowLeft":"ArrowRight")&&(_.preventDefault(),_l(y,"first"))):(e.submenu?_.key===(s.value?"ArrowLeft":"ArrowRight"):["ArrowDown","ArrowUp"].includes(_.key))&&(i.value=!0,_.preventDefault(),setTimeout(()=>setTimeout(()=>g(_))))}const p=I(()=>J({"aria-haspopup":"menu","aria-expanded":String(i.value),"aria-owns":a.value,onKeydown:g},e.activatorProps));return ve(()=>{const _=Ls.filterProps(e);return h(Ls,J({ref:l,id:a.value,class:["v-menu",e.class],style:e.style},_,{modelValue:i.value,"onUpdate:modelValue":y=>i.value=y,absolute:!0,activatorProps:p.value,location:e.location??(e.submenu?"end":"bottom"),"onClick:outside":f,onKeydown:v},r),{activator:n.activator,default:function(){for(var y=arguments.length,b=new Array(y),E=0;E<y;E++)b[E]=arguments[E];return h(at,{root:"VMenu"},{default:()=>{var k;return[(k=n.default)==null?void 0:k.call(n,...b)]}})}})}),Rr({id:a,openChildren:d},l)}}),qne=Z({active:Boolean,disabled:Boolean,max:[Number,String],value:{type:[Number,String],default:0},...$e(),...hs({transition:{component:x1}})},"VCounter"),f_=de()({name:"VCounter",functional:!0,props:qne(),setup(e,t){let{slots:n}=t;const i=I(()=>e.max?`${e.value} / ${e.max}`:String(e.value));return ve(()=>h($i,{transition:e.transition},{default:()=>[pn(h("div",{class:["v-counter",{"text-error":e.max&&!e.disabled&&parseFloat(e.value)>parseFloat(e.max)},e.class],style:e.style},[n.default?n.default({counter:i.value,max:e.max,value:e.value}):i.value]),[[fs,e.active]])]})),{}}}),Yne=Z({floating:Boolean,...$e()},"VFieldLabel"),Md=de()({name:"VFieldLabel",props:Yne(),setup(e,t){let{slots:n}=t;return ve(()=>h(Gc,{class:["v-field-label",{"v-field-label--floating":e.floating},e.class],style:e.style,"aria-hidden":e.floating||void 0},n)),{}}}),Kne=["underlined","outlined","filled","solo","solo-inverted","solo-filled","plain"],Uh=Z({appendInnerIcon:Je,bgColor:String,clearable:Boolean,clearIcon:{type:Je,default:"$clear"},active:Boolean,centerAffix:{type:Boolean,default:void 0},color:String,baseColor:String,dirty:Boolean,disabled:{type:Boolean,default:null},error:Boolean,flat:Boolean,label:String,persistentClear:Boolean,prependInnerIcon:Je,reverse:Boolean,singleLine:Boolean,variant:{type:String,default:"filled",validator:e=>Kne.includes(e)},"onClick:clear":ii(),"onClick:appendInner":ii(),"onClick:prependInner":ii(),...$e(),...u_(),...yn(),...Ct()},"VField"),Yc=de()({name:"VField",inheritAttrs:!1,props:{id:String,...qc(),...Uh()},emits:{"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,t){let{attrs:n,emit:i,slots:r}=t;const{themeClasses:s}=Ft(e),{loaderClasses:o}=Mh(e),{focusClasses:a,isFocused:l,focus:u,blur:d}=Gs(e),{InputIcon:c}=OF(e),{roundedClasses:f}=On(e),{rtlClasses:v}=Jn(),g=I(()=>e.dirty||e.active),p=I(()=>!e.singleLine&&!!(e.label||r.label)),_=fi(),y=I(()=>e.id||`input-${_}`),b=I(()=>`${y.value}-messages`),E=z(),k=z(),R=z(),O=I(()=>["plain","underlined"].includes(e.variant)),{backgroundColorClasses:D,backgroundColorStyles:S}=Gt(ue(e,"bgColor")),{textColorClasses:w,textColorStyles:C}=ci(I(()=>e.error||e.disabled?void 0:g.value&&l.value?e.color:e.baseColor));ge(g,U=>{if(p.value){const $=E.value.$el,j=k.value.$el;requestAnimationFrame(()=>{const Y=_1($),W=j.getBoundingClientRect(),K=W.x-Y.x,G=W.y-Y.y-(Y.height/2-W.height/2),te=W.width/.75,oe=Math.abs(te-Y.width)>1?{maxWidth:Ve(te)}:void 0,_e=getComputedStyle($),Ae=getComputedStyle(j),Ne=parseFloat(_e.transitionDuration)*1e3||150,Q=parseFloat(Ae.getPropertyValue("--v-field-label-scale")),B=Ae.getPropertyValue("color");$.style.visibility="visible",j.style.visibility="hidden",cl($,{transform:`translate(${K}px, ${G}px) scale(${Q})`,color:B,...oe},{duration:Ne,easing:Nf,direction:U?"normal":"reverse"}).finished.then(()=>{$.style.removeProperty("visibility"),j.style.removeProperty("visibility")})})}},{flush:"post"});const A=I(()=>({isActive:g,isFocused:l,controlRef:R,blur:d,focus:u}));function P(U){U.target!==document.activeElement&&U.preventDefault()}function x(U){var $;U.key!=="Enter"&&U.key!==" "||(U.preventDefault(),U.stopPropagation(),($=e["onClick:clear"])==null||$.call(e,new MouseEvent("click")))}return ve(()=>{var K,G,te;const U=e.variant==="outlined",$=!!(r["prepend-inner"]||e.prependInnerIcon),j=!!(e.clearable||r.clear),Y=!!(r["append-inner"]||e.appendInnerIcon||j),W=()=>r.label?r.label({...A.value,label:e.label,props:{for:y.value}}):e.label;return h("div",J({class:["v-field",{"v-field--active":g.value,"v-field--appended":Y,"v-field--center-affix":e.centerAffix??!O.value,"v-field--disabled":e.disabled,"v-field--dirty":e.dirty,"v-field--error":e.error,"v-field--flat":e.flat,"v-field--has-background":!!e.bgColor,"v-field--persistent-clear":e.persistentClear,"v-field--prepended":$,"v-field--reverse":e.reverse,"v-field--single-line":e.singleLine,"v-field--no-label":!W(),[`v-field--variant-${e.variant}`]:!0},s.value,D.value,a.value,o.value,f.value,v.value,e.class],style:[S.value,e.style],onClick:P},n),[h("div",{class:"v-field__overlay"},null),h(Lh,{name:"v-field",active:!!e.loading,color:e.error?"error":typeof e.loading=="string"?e.loading:e.color},{default:r.loader}),$&&h("div",{key:"prepend",class:"v-field__prepend-inner"},[e.prependInnerIcon&&h(c,{key:"prepend-icon",name:"prependInner"},null),(K=r["prepend-inner"])==null?void 0:K.call(r,A.value)]),h("div",{class:"v-field__field","data-no-activator":""},[["filled","solo","solo-inverted","solo-filled"].includes(e.variant)&&p.value&&h(Md,{key:"floating-label",ref:k,class:[w.value],floating:!0,for:y.value,style:C.value},{default:()=>[W()]}),h(Md,{ref:E,for:y.value},{default:()=>[W()]}),(G=r.default)==null?void 0:G.call(r,{...A.value,props:{id:y.value,class:"v-field__input","aria-describedby":b.value},focus:u,blur:d})]),j&&h(D1,{key:"clear"},{default:()=>[pn(h("div",{class:"v-field__clearable",onMousedown:oe=>{oe.preventDefault(),oe.stopPropagation()}},[h(at,{defaults:{VIcon:{icon:e.clearIcon}}},{default:()=>[r.clear?r.clear({...A.value,props:{onKeydown:x,onFocus:u,onBlur:d,onClick:e["onClick:clear"]}}):h(c,{name:"clear",onKeydown:x,onFocus:u,onBlur:d},null)]})]),[[fs,e.dirty]])]}),Y&&h("div",{key:"append",class:"v-field__append-inner"},[(te=r["append-inner"])==null?void 0:te.call(r,A.value),e.appendInnerIcon&&h(c,{key:"append-icon",name:"appendInner"},null)]),h("div",{class:["v-field__outline",w.value],style:C.value},[U&&h(Ie,null,[h("div",{class:"v-field__outline__start"},null),p.value&&h("div",{class:"v-field__outline__notch"},[h(Md,{ref:k,floating:!0,for:y.value},{default:()=>[W()]})]),h("div",{class:"v-field__outline__end"},null)]),O.value&&p.value&&h(Md,{ref:k,floating:!0,for:y.value},{default:()=>[W()]})])])}),{controlRef:R}}});function H1(e){const t=Object.keys(Yc.props).filter(n=>!Zp(n)&&n!=="class"&&n!=="style");return m1(e,t)}const Xne=["color","file","time","date","datetime-local","week","month"],Kc=Z({autofocus:Boolean,counter:[Boolean,Number,String],counterValue:[Number,Function],prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,suffix:String,role:String,type:{type:String,default:"text"},modelModifiers:Object,...No(),...Uh()},"VTextField"),ds=de()({name:"VTextField",directives:{Intersect:Nh},inheritAttrs:!1,props:Kc(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,t){let{attrs:n,emit:i,slots:r}=t;const s=je(e,"modelValue"),{isFocused:o,focus:a,blur:l}=Gs(e),u=I(()=>typeof e.counterValue=="function"?e.counterValue(s.value):typeof e.counterValue=="number"?e.counterValue:(s.value??"").toString().length),d=I(()=>{if(n.maxlength)return n.maxlength;if(!(!e.counter||typeof e.counter!="number"&&typeof e.counter!="string"))return e.counter}),c=I(()=>["plain","underlined"].includes(e.variant));function f(O,D){var S,w;!e.autofocus||!O||(w=(S=D[0].target)==null?void 0:S.focus)==null||w.call(S)}const v=z(),g=z(),p=z(),_=I(()=>Xne.includes(e.type)||e.persistentPlaceholder||o.value||e.active);function y(){var O;p.value!==document.activeElement&&((O=p.value)==null||O.focus()),o.value||a()}function b(O){i("mousedown:control",O),O.target!==p.value&&(y(),O.preventDefault())}function E(O){y(),i("click:control",O)}function k(O){O.stopPropagation(),y(),ot(()=>{s.value=null,p1(e["onClick:clear"],O)})}function R(O){var S;const D=O.target;if(s.value=D.value,(S=e.modelModifiers)!=null&&S.trim&&["text","search","password","tel","url"].includes(e.type)){const w=[D.selectionStart,D.selectionEnd];ot(()=>{D.selectionStart=w[0],D.selectionEnd=w[1]})}}return ve(()=>{const O=!!(r.counter||e.counter!==!1&&e.counter!=null),D=!!(O||r.details),[S,w]=Na(n),{modelValue:C,...A}=Ei.filterProps(e),P=H1(e);return h(Ei,J({ref:v,modelValue:s.value,"onUpdate:modelValue":x=>s.value=x,class:["v-text-field",{"v-text-field--prefixed":e.prefix,"v-text-field--suffixed":e.suffix,"v-input--plain-underlined":c.value},e.class],style:e.style},S,A,{centerAffix:!c.value,focused:o.value}),{...r,default:x=>{let{id:U,isDisabled:$,isDirty:j,isReadonly:Y,isValid:W}=x;return h(Yc,J({ref:g,onMousedown:b,onClick:E,"onClick:clear":k,"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"],role:e.role},P,{id:U.value,active:_.value||j.value,dirty:j.value||e.dirty,disabled:$.value,focused:o.value,error:W.value===!1}),{...r,default:K=>{let{props:{class:G,...te}}=K;const oe=pn(h("input",J({ref:p,value:s.value,onInput:R,autofocus:e.autofocus,readonly:Y.value,disabled:$.value,name:e.name,placeholder:e.placeholder,size:1,type:e.type,onFocus:y,onBlur:l},te,w),null),[[ur("intersect"),{handler:f},null,{once:!0}]]);return h(Ie,null,[e.prefix&&h("span",{class:"v-text-field__prefix"},[h("span",{class:"v-text-field__prefix__text"},[e.prefix])]),r.default?h("div",{class:G,"data-no-activator":""},[r.default(),oe]):Ds(oe,{class:G}),e.suffix&&h("span",{class:"v-text-field__suffix"},[h("span",{class:"v-text-field__suffix__text"},[e.suffix])])])}})},details:D?x=>{var U;return h(Ie,null,[(U=r.details)==null?void 0:U.call(r,x),O&&h(Ie,null,[h("span",null,null),h(f_,{active:e.persistentCounter||o.value,value:u.value,max:d.value,disabled:e.disabled},r.counter)])])}:void 0})}),Rr({},v,g,p)}}),Qne=Z({renderless:Boolean,...$e()},"VVirtualScrollItem"),m$=de()({name:"VVirtualScrollItem",inheritAttrs:!1,props:Qne(),emits:{"update:height":e=>!0},setup(e,t){let{attrs:n,emit:i,slots:r}=t;const{resizeRef:s,contentRect:o}=us(void 0,"border");ge(()=>{var a;return(a=o.value)==null?void 0:a.height},a=>{a!=null&&i("update:height",a)}),ve(()=>{var a,l;return e.renderless?h(Ie,null,[(a=r.default)==null?void 0:a.call(r,{itemRef:s})]):h("div",J({ref:s,class:["v-virtual-scroll__item",e.class],style:e.style},n),[(l=r.default)==null?void 0:l.call(r)])})}}),Jne=-1,Zne=1,tb=100,g$=Z({itemHeight:{type:[Number,String],default:null},height:[Number,String]},"virtual");function p$(e,t){const n=Pr(),i=Te(0);rn(()=>{i.value=parseFloat(e.itemHeight||0)});const r=Te(0),s=Te(Math.ceil((parseInt(e.height)||n.height.value)/(i.value||16))||1),o=Te(0),a=Te(0),l=z(),u=z();let d=0;const{resizeRef:c,contentRect:f}=us();rn(()=>{c.value=l.value});const v=I(()=>{var K;return l.value===document.documentElement?n.height.value:((K=f.value)==null?void 0:K.height)||parseInt(e.height)||0}),g=I(()=>!!(l.value&&u.value&&v.value&&i.value));let p=Array.from({length:t.value.length}),_=Array.from({length:t.value.length});const y=Te(0);let b=-1;function E(K){return p[K]||i.value}const k=$J(()=>{const K=performance.now();_[0]=0;const G=t.value.length;for(let te=1;te<=G-1;te++)_[te]=(_[te-1]||0)+E(te-1);y.value=Math.max(y.value,performance.now()-K)},y),R=ge(g,K=>{K&&(R(),d=u.value.offsetTop,k.immediate(),$(),~b&&ot(()=>{Bt&&window.requestAnimationFrame(()=>{Y(b),b=-1})}))});Ci(()=>{k.clear()});function O(K,G){const te=p[K],oe=i.value;i.value=oe?Math.min(i.value,G):G,(te!==G||oe!==i.value)&&(p[K]=G,k())}function D(K){return K=kn(K,0,t.value.length-1),_[K]||0}function S(K){return eie(_,K)}let w=0,C=0,A=0;ge(v,(K,G)=>{G&&($(),K<G&&requestAnimationFrame(()=>{C=0,$()}))});function P(){if(!l.value||!u.value)return;const K=l.value.scrollTop,G=performance.now();G-A>500?(C=Math.sign(K-w),d=u.value.offsetTop):C=K-w,w=K,A=G,$()}function x(){!l.value||!u.value||(C=0,A=0,$())}let U=-1;function $(){cancelAnimationFrame(U),U=requestAnimationFrame(j)}function j(){if(!l.value||!v.value)return;const K=w-d,G=Math.sign(C),te=Math.max(0,K-tb),oe=kn(S(te),0,t.value.length),_e=K+v.value+tb,Ae=kn(S(_e)+1,oe+1,t.value.length);if((G!==Jne||oe<r.value)&&(G!==Zne||Ae>s.value)){const Ne=D(r.value)-D(oe),Q=D(Ae)-D(s.value);Math.max(Ne,Q)>tb?(r.value=oe,s.value=Ae):(oe<=0&&(r.value=oe),Ae>=t.value.length&&(s.value=Ae))}o.value=D(r.value),a.value=D(t.value.length)-D(s.value)}function Y(K){const G=D(K);!l.value||K&&!G?b=K:l.value.scrollTop=G}const W=I(()=>t.value.slice(r.value,s.value).map((K,G)=>({raw:K,index:G+r.value})));return ge(t,()=>{p=Array.from({length:t.value.length}),_=Array.from({length:t.value.length}),k.immediate(),$()},{deep:!0}),{calculateVisibleItems:$,containerRef:l,markerRef:u,computedItems:W,paddingTop:o,paddingBottom:a,scrollToIndex:Y,handleScroll:P,handleScrollend:x,handleItemResize:O}}function eie(e,t){let n=e.length-1,i=0,r=0,s=null,o=-1;if(e[n]<t)return n;for(;i<=n;)if(r=i+n>>1,s=e[r],s>t)n=r-1;else if(s<t)o=r,i=r+1;else return s===t?r:i;return o}const tie=Z({items:{type:Array,default:()=>[]},renderless:Boolean,...g$(),...$e(),...qn()},"VVirtualScroll"),h_=de()({name:"VVirtualScroll",props:tie(),setup(e,t){let{slots:n}=t;const i=Rn("VVirtualScroll"),{dimensionStyles:r}=Yn(e),{calculateVisibleItems:s,containerRef:o,markerRef:a,handleScroll:l,handleScrollend:u,handleItemResize:d,scrollToIndex:c,paddingTop:f,paddingBottom:v,computedItems:g}=p$(e,ue(e,"items"));return Ji(()=>e.renderless,()=>{function p(){var b,E;const y=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)?"addEventListener":"removeEventListener";o.value===document.documentElement?(document[y]("scroll",l,{passive:!0}),document[y]("scrollend",u)):((b=o.value)==null||b[y]("scroll",l,{passive:!0}),(E=o.value)==null||E[y]("scrollend",u))}yt(()=>{o.value=S1(i.vnode.el,!0),p(!0)}),Ci(p)}),ve(()=>{const p=g.value.map(_=>h(m$,{key:_.index,renderless:e.renderless,"onUpdate:height":y=>d(_.index,y)},{default:y=>{var b;return(b=n.default)==null?void 0:b.call(n,{item:_.raw,index:_.index,...y})}}));return e.renderless?h(Ie,null,[h("div",{ref:a,class:"v-virtual-scroll__spacer",style:{paddingTop:Ve(f.value)}},null),p,h("div",{class:"v-virtual-scroll__spacer",style:{paddingBottom:Ve(v.value)}},null)]):h("div",{ref:o,class:["v-virtual-scroll",e.class],onScrollPassive:l,onScrollend:u,style:[r.value,e.style]},[h("div",{ref:a,class:"v-virtual-scroll__container",style:{paddingTop:Ve(f.value),paddingBottom:Ve(v.value)}},[p])])}),{calculateVisibleItems:s,scrollToIndex:c}}});function W1(e,t){const n=Te(!1);let i;function r(a){cancelAnimationFrame(i),n.value=!0,i=requestAnimationFrame(()=>{i=requestAnimationFrame(()=>{n.value=!1})})}async function s(){await new Promise(a=>requestAnimationFrame(a)),await new Promise(a=>requestAnimationFrame(a)),await new Promise(a=>requestAnimationFrame(a)),await new Promise(a=>{if(n.value){const l=ge(n,()=>{l(),a()})}else a()})}async function o(a){var d,c;if(a.key==="Tab"&&((d=t.value)==null||d.focus()),!["PageDown","PageUp","Home","End"].includes(a.key))return;const l=(c=e.value)==null?void 0:c.$el;if(!l)return;(a.key==="Home"||a.key==="End")&&l.scrollTo({top:a.key==="Home"?0:l.scrollHeight,behavior:"smooth"}),await s();const u=l.querySelectorAll(":scope > :not(.v-virtual-scroll__spacer)");if(a.key==="PageDown"||a.key==="Home"){const f=l.getBoundingClientRect().top;for(const v of u)if(v.getBoundingClientRect().top>=f){v.focus();break}}else{const f=l.getBoundingClientRect().bottom;for(const v of[...u].reverse())if(v.getBoundingClientRect().bottom<=f){v.focus();break}}}return{onScrollPassive:r,onKeydown:o}}const z1=Z({chips:Boolean,closableChips:Boolean,closeText:{type:String,default:"$vuetify.close"},openText:{type:String,default:"$vuetify.open"},eager:Boolean,hideNoData:Boolean,hideSelected:Boolean,listProps:{type:Object},menu:Boolean,menuIcon:{type:Je,default:"$dropdown"},menuProps:{type:Object},multiple:Boolean,noDataText:{type:String,default:"$vuetify.noDataText"},openOnClear:Boolean,itemColor:String,...t$({itemChildren:!1})},"Select"),nie=Z({...z1(),...zt(Kc({modelValue:null,role:"combobox"}),["validationValue","dirty","appendInnerIcon"]),...hs({transition:{component:s_}})},"VSelect"),G1=de()({name:"VSelect",props:nie(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,"update:menu":e=>!0},setup(e,t){let{slots:n}=t;const{t:i}=sn(),r=z(),s=z(),o=z(),a=je(e,"menu"),l=I({get:()=>a.value,set:K=>{var G;a.value&&!K&&((G=s.value)!=null&&G.openChildren.size)||(a.value=K)}}),{items:u,transformIn:d,transformOut:c}=F1(e),f=je(e,"modelValue",[],K=>d(K===null?[null]:vn(K)),K=>{const G=c(K);return e.multiple?G:G[0]??null}),v=I(()=>typeof e.counterValue=="function"?e.counterValue(f.value):typeof e.counterValue=="number"?e.counterValue:f.value.length),g=$h(),p=I(()=>f.value.map(K=>K.value)),_=Te(!1),y=I(()=>l.value?e.closeText:e.openText);let b="",E;const k=I(()=>e.hideSelected?u.value.filter(K=>!f.value.some(G=>e.valueComparator(G,K))):u.value),R=I(()=>e.hideNoData&&!k.value.length||e.readonly||(g==null?void 0:g.isReadonly.value)),O=I(()=>{var K;return{...e.menuProps,activatorProps:{...((K=e.menuProps)==null?void 0:K.activatorProps)||{},"aria-haspopup":"listbox"}}}),D=z(),S=W1(D,r);function w(K){e.openOnClear&&(l.value=!0)}function C(){R.value||(l.value=!l.value)}function A(K){hg(K)&&P(K)}function P(K){var _e,Ae;if(!K.key||e.readonly||g!=null&&g.isReadonly.value)return;["Enter"," ","ArrowDown","ArrowUp","Home","End"].includes(K.key)&&K.preventDefault(),["Enter","ArrowDown"," "].includes(K.key)&&(l.value=!0),["Escape","Tab"].includes(K.key)&&(l.value=!1),K.key==="Home"?(_e=D.value)==null||_e.focus("first"):K.key==="End"&&((Ae=D.value)==null||Ae.focus("last"));const G=1e3;if(e.multiple||!hg(K))return;const te=performance.now();te-E>G&&(b=""),b+=K.key.toLowerCase(),E=te;const oe=u.value.find(Ne=>Ne.title.toLowerCase().startsWith(b));if(oe!==void 0){f.value=[oe];const Ne=k.value.indexOf(oe);Bt&&window.requestAnimationFrame(()=>{var Q;Ne>=0&&((Q=o.value)==null||Q.scrollToIndex(Ne))})}}function x(K){let G=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!K.props.disabled)if(e.multiple){const te=f.value.findIndex(_e=>e.valueComparator(_e.value,K.value)),oe=G??!~te;if(~te){const _e=oe?[...f.value,K]:[...f.value];_e.splice(te,1),f.value=_e}else oe&&(f.value=[...f.value,K])}else{const te=G!==!1;f.value=te?[K]:[],ot(()=>{l.value=!1})}}function U(K){var G;(G=D.value)!=null&&G.$el.contains(K.relatedTarget)||(l.value=!1)}function $(){var K;e.eager&&((K=o.value)==null||K.calculateVisibleItems())}function j(){var K;_.value&&((K=r.value)==null||K.focus())}function Y(K){_.value=!0}function W(K){if(K==null)f.value=[];else if(yc(r.value,":autofill")||yc(r.value,":-webkit-autofill")){const G=u.value.find(te=>te.title===K);G&&x(G)}else r.value&&(r.value.value="")}return ge(l,()=>{if(!e.hideSelected&&l.value&&f.value.length){const K=k.value.findIndex(G=>f.value.some(te=>e.valueComparator(te.value,G.value)));Bt&&window.requestAnimationFrame(()=>{var G;K>=0&&((G=o.value)==null||G.scrollToIndex(K))})}}),ge(()=>e.items,(K,G)=>{l.value||_.value&&!G.length&&K.length&&(l.value=!0)}),ve(()=>{const K=!!(e.chips||n.chip),G=!!(!e.hideNoData||k.value.length||n["prepend-item"]||n["append-item"]||n["no-data"]),te=f.value.length>0,oe=ds.filterProps(e),_e=te||!_.value&&e.label&&!e.persistentPlaceholder?void 0:e.placeholder;return h(ds,J({ref:r},oe,{modelValue:f.value.map(Ae=>Ae.props.value).join(", "),"onUpdate:modelValue":W,focused:_.value,"onUpdate:focused":Ae=>_.value=Ae,validationValue:f.externalValue,counterValue:v.value,dirty:te,class:["v-select",{"v-select--active-menu":l.value,"v-select--chips":!!e.chips,[`v-select--${e.multiple?"multiple":"single"}`]:!0,"v-select--selected":f.value.length,"v-select--selection-slot":!!n.selection},e.class],style:e.style,inputmode:"none",placeholder:_e,"onClick:clear":w,"onMousedown:control":C,onBlur:U,onKeydown:P,"aria-label":i(y.value),title:i(y.value)}),{...n,default:()=>h(Ie,null,[h(Fl,J({ref:s,modelValue:l.value,"onUpdate:modelValue":Ae=>l.value=Ae,activator:"parent",contentClass:"v-select__content",disabled:R.value,eager:e.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:e.transition,onAfterEnter:$,onAfterLeave:j},O.value),{default:()=>[G&&h(Sc,J({ref:D,selected:p.value,selectStrategy:e.multiple?"independent":"single-independent",onMousedown:Ae=>Ae.preventDefault(),onKeydown:A,onFocusin:Y,tabindex:"-1","aria-live":"polite",color:e.itemColor??e.color},S,e.listProps),{default:()=>{var Ae,Ne,Q;return[(Ae=n["prepend-item"])==null?void 0:Ae.call(n),!k.value.length&&!e.hideNoData&&(((Ne=n["no-data"])==null?void 0:Ne.call(n))??h(cs,{title:i(e.noDataText)},null)),h(h_,{ref:o,renderless:!0,items:k.value},{default:B=>{var Se;let{item:q,index:ie,itemRef:ce}=B;const ne=J(q.props,{ref:ce,key:ie,onClick:()=>x(q,null)});return((Se=n.item)==null?void 0:Se.call(n,{item:q,index:ie,props:ne}))??h(cs,J(ne,{role:"option"}),{prepend:M=>{let{isSelected:L}=M;return h(Ie,null,[e.multiple&&!e.hideSelected?h(Ms,{key:q.value,modelValue:L,ripple:!1,tabindex:"-1"},null):void 0,q.props.prependAvatar&&h(Cr,{image:q.props.prependAvatar},null),q.props.prependIcon&&h(Pt,{icon:q.props.prependIcon},null)])}})}}),(Q=n["append-item"])==null?void 0:Q.call(n)]}})]}),f.value.map((Ae,Ne)=>{function Q(ce){ce.stopPropagation(),ce.preventDefault(),x(Ae,!1)}const B={"onClick:close":Q,onKeydown(ce){ce.key!=="Enter"&&ce.key!==" "||(ce.preventDefault(),ce.stopPropagation(),Q(ce))},onMousedown(ce){ce.preventDefault(),ce.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0},q=K?!!n.chip:!!n.selection,ie=q?e_(K?n.chip({item:Ae,index:Ne,props:B}):n.selection({item:Ae,index:Ne})):void 0;if(!(q&&!ie))return h("div",{key:Ae.value,class:"v-select__selection"},[K?n.chip?h(at,{key:"chip-defaults",defaults:{VChip:{closable:e.closableChips,size:"small",text:Ae.title}}},{default:()=>[ie]}):h(au,J({key:"chip",closable:e.closableChips,size:"small",text:Ae.title,disabled:Ae.props.disabled},B),null):ie??h("span",{class:"v-select__selection-text"},[Ae.title,e.multiple&&Ne<f.value.length-1&&h("span",{class:"v-select__selection-comma"},[xe(",")])])])})]),"append-inner":function(){var B;for(var Ae=arguments.length,Ne=new Array(Ae),Q=0;Q<Ae;Q++)Ne[Q]=arguments[Q];return h(Ie,null,[(B=n["append-inner"])==null?void 0:B.call(n,...Ne),e.menuIcon?h(Pt,{class:"v-select__menu-icon",icon:e.menuIcon},null):void 0])}})}),Rr({isFocused:_,menu:l,select:x},r)}}),iie=(e,t,n)=>e==null||t==null?-1:e.toString().toLocaleLowerCase().indexOf(t.toString().toLocaleLowerCase()),Xc=Z({customFilter:Function,customKeyFilter:Object,filterKeys:[Array,String],filterMode:{type:String,default:"intersection"},noFilter:Boolean},"filter");function rie(e,t,n){var a;const i=[],r=(n==null?void 0:n.default)??iie,s=n!=null&&n.filterKeys?vn(n.filterKeys):!1,o=Object.keys((n==null?void 0:n.customKeyFilter)??{}).length;if(!(e!=null&&e.length))return i;e:for(let l=0;l<e.length;l++){const[u,d=u]=vn(e[l]),c={},f={};let v=-1;if((t||o>0)&&!(n!=null&&n.noFilter)){if(typeof u=="object"){const _=s||Object.keys(d);for(const y of _){const b=jn(d,y),E=(a=n==null?void 0:n.customKeyFilter)==null?void 0:a[y];if(v=E?E(b,t,u):r(b,t,u),v!==-1&&v!==!1)E?c[y]=v:f[y]=v;else if((n==null?void 0:n.filterMode)==="every")continue e}}else v=r(u,t,u),v!==-1&&v!==!1&&(f.title=v);const g=Object.keys(f).length,p=Object.keys(c).length;if(!g&&!p||(n==null?void 0:n.filterMode)==="union"&&p!==o&&!g||(n==null?void 0:n.filterMode)==="intersection"&&(p!==o||!g))continue}i.push({index:l,matches:{...f,...c}})}return i}function Qc(e,t,n,i){const r=z([]),s=z(new Map),o=I(()=>i!=null&&i.transform?se(t).map(l=>[l,i.transform(l)]):se(t));rn(()=>{const l=typeof n=="function"?n():se(n),u=typeof l!="string"&&typeof l!="number"?"":String(l),d=rie(o.value,u,{customKeyFilter:{...e.customKeyFilter,...se(i==null?void 0:i.customKeyFilter)},default:e.customFilter,filterKeys:e.filterKeys,filterMode:e.filterMode,noFilter:e.noFilter}),c=se(t),f=[],v=new Map;d.forEach(g=>{let{index:p,matches:_}=g;const y=c[p];f.push(y),v.set(y.value,_)}),r.value=f,s.value=v});function a(l){return s.value.get(l.value)}return{filteredItems:r,filteredMatches:s,getMatches:a}}function sie(e,t,n){if(t==null)return e;if(Array.isArray(t))throw new Error("Multiple matches is not implemented");return typeof t=="number"&&~t?h(Ie,null,[h("span",{class:"v-autocomplete__unmask"},[e.substr(0,t)]),h("span",{class:"v-autocomplete__mask"},[e.substr(t,n)]),h("span",{class:"v-autocomplete__unmask"},[e.substr(t+n)])]):e}const oie=Z({autoSelectFirst:{type:[Boolean,String]},clearOnSelect:Boolean,search:String,...Xc({filterKeys:["title"]}),...z1(),...zt(Kc({modelValue:null,role:"combobox"}),["validationValue","dirty","appendInnerIcon"]),...hs({transition:!1})},"VAutocomplete"),aie=de()({name:"VAutocomplete",props:oie(),emits:{"update:focused":e=>!0,"update:search":e=>!0,"update:modelValue":e=>!0,"update:menu":e=>!0},setup(e,t){let{slots:n}=t;const{t:i}=sn(),r=z(),s=Te(!1),o=Te(!0),a=Te(!1),l=z(),u=z(),d=je(e,"menu"),c=I({get:()=>d.value,set:ne=>{var Se;d.value&&!ne&&((Se=l.value)!=null&&Se.openChildren.size)||(d.value=ne)}}),f=Te(-1),v=I(()=>{var ne;return(ne=r.value)==null?void 0:ne.color}),g=I(()=>c.value?e.closeText:e.openText),{items:p,transformIn:_,transformOut:y}=F1(e),{textColorClasses:b,textColorStyles:E}=ci(v),k=je(e,"search",""),R=je(e,"modelValue",[],ne=>_(ne===null?[null]:vn(ne)),ne=>{const Se=y(ne);return e.multiple?Se:Se[0]??null}),O=I(()=>typeof e.counterValue=="function"?e.counterValue(R.value):typeof e.counterValue=="number"?e.counterValue:R.value.length),D=$h(),{filteredItems:S,getMatches:w}=Qc(e,p,()=>o.value?"":k.value),C=I(()=>e.hideSelected?S.value.filter(ne=>!R.value.some(Se=>Se.value===ne.value)):S.value),A=I(()=>!!(e.chips||n.chip)),P=I(()=>A.value||!!n.selection),x=I(()=>R.value.map(ne=>ne.props.value)),U=I(()=>{var Se;return(e.autoSelectFirst===!0||e.autoSelectFirst==="exact"&&k.value===((Se=C.value[0])==null?void 0:Se.title))&&C.value.length>0&&!o.value&&!a.value}),$=I(()=>e.hideNoData&&!C.value.length||e.readonly||(D==null?void 0:D.isReadonly.value)),j=z(),Y=W1(j,r);function W(ne){e.openOnClear&&(c.value=!0),k.value=""}function K(){$.value||(c.value=!0)}function G(ne){$.value||(s.value&&(ne.preventDefault(),ne.stopPropagation()),c.value=!c.value)}function te(ne){var Se;hg(ne)&&((Se=r.value)==null||Se.focus())}function oe(ne){var L,ee,fe;if(e.readonly||D!=null&&D.isReadonly.value)return;const Se=r.value.selectionStart,M=R.value.length;if((f.value>-1||["Enter","ArrowDown","ArrowUp"].includes(ne.key))&&ne.preventDefault(),["Enter","ArrowDown"].includes(ne.key)&&(c.value=!0),["Escape"].includes(ne.key)&&(c.value=!1),U.value&&["Enter","Tab"].includes(ne.key)&&!R.value.some(ae=>{let{value:me}=ae;return me===C.value[0].value})&&ce(C.value[0]),ne.key==="ArrowDown"&&U.value&&((L=j.value)==null||L.focus("next")),["Backspace","Delete"].includes(ne.key)){if(!e.multiple&&P.value&&R.value.length>0&&!k.value)return ce(R.value[0],!1);if(~f.value){const ae=f.value;ce(R.value[f.value],!1),f.value=ae>=M-1?M-2:ae}else ne.key==="Backspace"&&!k.value&&(f.value=M-1)}if(e.multiple){if(ne.key==="ArrowLeft"){if(f.value<0&&Se>0)return;const ae=f.value>-1?f.value-1:M-1;R.value[ae]?f.value=ae:(f.value=-1,r.value.setSelectionRange((ee=k.value)==null?void 0:ee.length,(fe=k.value)==null?void 0:fe.length))}if(ne.key==="ArrowRight"){if(f.value<0)return;const ae=f.value+1;R.value[ae]?f.value=ae:(f.value=-1,r.value.setSelectionRange(0,0))}}}function _e(ne){if(yc(r.value,":autofill")||yc(r.value,":-webkit-autofill")){const Se=p.value.find(M=>M.title===ne.target.value);Se&&ce(Se)}}function Ae(){var ne;e.eager&&((ne=u.value)==null||ne.calculateVisibleItems())}function Ne(){var ne;s.value&&(o.value=!0,(ne=r.value)==null||ne.focus())}function Q(ne){s.value=!0,setTimeout(()=>{a.value=!0})}function B(ne){a.value=!1}function q(ne){(ne==null||ne===""&&!e.multiple&&!P.value)&&(R.value=[])}const ie=Te(!1);function ce(ne){let Se=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!(!ne||ne.props.disabled))if(e.multiple){const M=R.value.findIndex(ee=>e.valueComparator(ee.value,ne.value)),L=Se??!~M;if(~M){const ee=L?[...R.value,ne]:[...R.value];ee.splice(M,1),R.value=ee}else L&&(R.value=[...R.value,ne]);e.clearOnSelect&&(k.value="")}else{const M=Se!==!1;R.value=M?[ne]:[],k.value=M&&!P.value?ne.title:"",ot(()=>{c.value=!1,o.value=!0})}}return ge(s,(ne,Se)=>{var M;ne!==Se&&(ne?(ie.value=!0,k.value=e.multiple||P.value?"":String(((M=R.value.at(-1))==null?void 0:M.props.title)??""),o.value=!0,ot(()=>ie.value=!1)):(!e.multiple&&k.value==null&&(R.value=[]),c.value=!1,R.value.some(L=>{let{title:ee}=L;return ee===k.value})||(k.value=""),f.value=-1))}),ge(k,ne=>{!s.value||ie.value||(ne&&(c.value=!0),o.value=!ne)}),ge(c,()=>{if(!e.hideSelected&&c.value&&R.value.length){const ne=C.value.findIndex(Se=>R.value.some(M=>Se.value===M.value));Bt&&window.requestAnimationFrame(()=>{var Se;ne>=0&&((Se=u.value)==null||Se.scrollToIndex(ne))})}}),ge(()=>e.items,(ne,Se)=>{c.value||s.value&&!Se.length&&ne.length&&(c.value=!0)}),ve(()=>{const ne=!!(!e.hideNoData||C.value.length||n["prepend-item"]||n["append-item"]||n["no-data"]),Se=R.value.length>0,M=ds.filterProps(e);return h(ds,J({ref:r},M,{modelValue:k.value,"onUpdate:modelValue":[L=>k.value=L,q],focused:s.value,"onUpdate:focused":L=>s.value=L,validationValue:R.externalValue,counterValue:O.value,dirty:Se,onChange:_e,class:["v-autocomplete",`v-autocomplete--${e.multiple?"multiple":"single"}`,{"v-autocomplete--active-menu":c.value,"v-autocomplete--chips":!!e.chips,"v-autocomplete--selection-slot":!!P.value,"v-autocomplete--selecting-index":f.value>-1},e.class],style:e.style,readonly:e.readonly,placeholder:Se?void 0:e.placeholder,"onClick:clear":W,"onMousedown:control":K,onKeydown:oe}),{...n,default:()=>h(Ie,null,[h(Fl,J({ref:l,modelValue:c.value,"onUpdate:modelValue":L=>c.value=L,activator:"parent",contentClass:"v-autocomplete__content",disabled:$.value,eager:e.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:e.transition,onAfterEnter:Ae,onAfterLeave:Ne},e.menuProps),{default:()=>[ne&&h(Sc,J({ref:j,selected:x.value,selectStrategy:e.multiple?"independent":"single-independent",onMousedown:L=>L.preventDefault(),onKeydown:te,onFocusin:Q,onFocusout:B,tabindex:"-1","aria-live":"polite",color:e.itemColor??e.color},Y,e.listProps),{default:()=>{var L,ee,fe;return[(L=n["prepend-item"])==null?void 0:L.call(n),!C.value.length&&!e.hideNoData&&(((ee=n["no-data"])==null?void 0:ee.call(n))??h(cs,{title:i(e.noDataText)},null)),h(h_,{ref:u,renderless:!0,items:C.value},{default:ae=>{var be;let{item:me,index:Pe,itemRef:Ee}=ae;const Re=J(me.props,{ref:Ee,key:Pe,active:U.value&&Pe===0?!0:void 0,onClick:()=>ce(me,null)});return((be=n.item)==null?void 0:be.call(n,{item:me,index:Pe,props:Re}))??h(cs,J(Re,{role:"option"}),{prepend:ze=>{let{isSelected:Me}=ze;return h(Ie,null,[e.multiple&&!e.hideSelected?h(Ms,{key:me.value,modelValue:Me,ripple:!1,tabindex:"-1"},null):void 0,me.props.prependAvatar&&h(Cr,{image:me.props.prependAvatar},null),me.props.prependIcon&&h(Pt,{icon:me.props.prependIcon},null)])},title:()=>{var ze,Me;return o.value?me.title:sie(me.title,(ze=w(me))==null?void 0:ze.title,((Me=k.value)==null?void 0:Me.length)??0)}})}}),(fe=n["append-item"])==null?void 0:fe.call(n)]}})]}),R.value.map((L,ee)=>{function fe(Ee){Ee.stopPropagation(),Ee.preventDefault(),ce(L,!1)}const ae={"onClick:close":fe,onKeydown(Ee){Ee.key!=="Enter"&&Ee.key!==" "||(Ee.preventDefault(),Ee.stopPropagation(),fe(Ee))},onMousedown(Ee){Ee.preventDefault(),Ee.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0},me=A.value?!!n.chip:!!n.selection,Pe=me?e_(A.value?n.chip({item:L,index:ee,props:ae}):n.selection({item:L,index:ee})):void 0;if(!(me&&!Pe))return h("div",{key:L.value,class:["v-autocomplete__selection",ee===f.value&&["v-autocomplete__selection--selected",b.value]],style:ee===f.value?E.value:{}},[A.value?n.chip?h(at,{key:"chip-defaults",defaults:{VChip:{closable:e.closableChips,size:"small",text:L.title}}},{default:()=>[Pe]}):h(au,J({key:"chip",closable:e.closableChips,size:"small",text:L.title,disabled:L.props.disabled},ae),null):Pe??h("span",{class:"v-autocomplete__selection-text"},[L.title,e.multiple&&ee<R.value.length-1&&h("span",{class:"v-autocomplete__selection-comma"},[xe(",")])])])})]),"append-inner":function(){var ae;for(var L=arguments.length,ee=new Array(L),fe=0;fe<L;fe++)ee[fe]=arguments[fe];return h(Ie,null,[(ae=n["append-inner"])==null?void 0:ae.call(n,...ee),e.menuIcon?h(Pt,{class:"v-autocomplete__menu-icon",icon:e.menuIcon,onMousedown:G,onClick:DL,"aria-label":i(g.value),title:i(g.value),tabindex:"-1"},null):void 0])}})}),Rr({isFocused:s,isPristine:o,menu:c,search:k,filteredItems:S,select:ce},r)}}),lie=Z({bordered:Boolean,color:String,content:[Number,String],dot:Boolean,floating:Boolean,icon:Je,inline:Boolean,label:{type:String,default:"$vuetify.badge"},max:[Number,String],modelValue:{type:Boolean,default:!0},offsetX:[Number,String],offsetY:[Number,String],textColor:String,...$e(),...Oo({location:"top end"}),...yn(),...ut(),...Ct(),...hs({transition:"scale-rotate-transition"})},"VBadge"),_$=de()({name:"VBadge",inheritAttrs:!1,props:lie(),setup(e,t){const{backgroundColorClasses:n,backgroundColorStyles:i}=Gt(ue(e,"color")),{roundedClasses:r}=On(e),{t:s}=sn(),{textColorClasses:o,textColorStyles:a}=ci(ue(e,"textColor")),{themeClasses:l}=I1(),{locationStyles:u}=ou(e,!0,d=>(e.floating?e.dot?2:4:e.dot?8:12)+(["top","bottom"].includes(d)?+(e.offsetY??0):["left","right"].includes(d)?+(e.offsetX??0):0));return ve(()=>{const d=Number(e.content),c=!e.max||isNaN(d)?e.content:d<=+e.max?d:`${e.max}+`,[f,v]=R0(t.attrs,["aria-atomic","aria-label","aria-live","role","title"]);return h(e.tag,J({class:["v-badge",{"v-badge--bordered":e.bordered,"v-badge--dot":e.dot,"v-badge--floating":e.floating,"v-badge--inline":e.inline},e.class]},v,{style:e.style}),{default:()=>{var g,p;return[h("div",{class:"v-badge__wrapper"},[(p=(g=t.slots).default)==null?void 0:p.call(g),h($i,{transition:e.transition},{default:()=>{var _,y;return[pn(h("span",J({class:["v-badge__badge",l.value,n.value,r.value,o.value],style:[i.value,a.value,e.inline?{}:u.value],"aria-atomic":"true","aria-label":s(e.label,d),"aria-live":"polite",role:"status"},f),[e.dot?void 0:t.slots.badge?(y=(_=t.slots).badge)==null?void 0:y.call(_):e.icon?h(Pt,{icon:e.icon},null):c]),[[fs,e.modelValue]])]}})])]}})}),{}}}),uie=Z({color:String,density:String,...$e()},"VBannerActions"),y$=de()({name:"VBannerActions",props:uie(),setup(e,t){let{slots:n}=t;return _n({VBtn:{color:e.color,density:e.density,slim:!0,variant:"text"}}),ve(()=>{var i;return h("div",{class:["v-banner-actions",e.class],style:e.style},[(i=n.default)==null?void 0:i.call(n)])}),{}}}),b$=Ws("v-banner-text"),cie=Z({avatar:String,bgColor:String,color:String,icon:Je,lines:String,stacked:Boolean,sticky:Boolean,text:String,...cr(),...$e(),...ri(),...qn(),...Jl({mobile:null}),...Zn(),...Oo(),...Hc(),...yn(),...ut(),...Ct()},"VBanner"),die=de()({name:"VBanner",props:cie(),setup(e,t){let{slots:n}=t;const{backgroundColorClasses:i,backgroundColorStyles:r}=Gt(e,"bgColor"),{borderClasses:s}=Dr(e),{densityClasses:o}=Hi(e),{displayClasses:a,mobile:l}=Pr(e),{dimensionStyles:u}=Yn(e),{elevationClasses:d}=hi(e),{locationStyles:c}=ou(e),{positionClasses:f}=Wc(e),{roundedClasses:v}=On(e),{themeClasses:g}=Ft(e),p=ue(e,"color"),_=ue(e,"density");_n({VBannerActions:{color:p,density:_}}),ve(()=>{const y=!!(e.text||n.text),b=!!(e.avatar||e.icon),E=!!(b||n.prepend);return h(e.tag,{class:["v-banner",{"v-banner--stacked":e.stacked||l.value,"v-banner--sticky":e.sticky,[`v-banner--${e.lines}-line`]:!!e.lines},g.value,i.value,s.value,o.value,a.value,d.value,f.value,v.value,e.class],style:[r.value,u.value,c.value,e.style],role:"banner"},{default:()=>{var k;return[E&&h("div",{key:"prepend",class:"v-banner__prepend"},[n.prepend?h(at,{key:"prepend-defaults",disabled:!b,defaults:{VAvatar:{color:p.value,density:_.value,icon:e.icon,image:e.avatar}}},n.prepend):h(Cr,{key:"prepend-avatar",color:p.value,density:_.value,icon:e.icon,image:e.avatar},null)]),h("div",{class:"v-banner__content"},[y&&h(b$,{key:"text"},{default:()=>{var R;return[((R=n.text)==null?void 0:R.call(n))??e.text]}}),(k=n.default)==null?void 0:k.call(n)]),n.actions&&h(y$,{key:"actions"},n.actions)]}})})}}),fie=Z({baseColor:String,bgColor:String,color:String,grow:Boolean,mode:{type:String,validator:e=>!e||["horizontal","shift"].includes(e)},height:{type:[Number,String],default:56},active:{type:Boolean,default:!0},...cr(),...$e(),...ri(),...Zn(),...yn(),...Zl({name:"bottom-navigation"}),...ut({tag:"header"}),...iu({selectedClass:"v-btn--selected"}),...Ct()},"VBottomNavigation"),hie=de()({name:"VBottomNavigation",props:fie(),emits:{"update:active":e=>!0,"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const{themeClasses:i}=I1(),{borderClasses:r}=Dr(e),{backgroundColorClasses:s,backgroundColorStyles:o}=Gt(ue(e,"bgColor")),{densityClasses:a}=Hi(e),{elevationClasses:l}=hi(e),{roundedClasses:u}=On(e),{ssrBootStyles:d}=tu(),c=I(()=>Number(e.height)-(e.density==="comfortable"?8:0)-(e.density==="compact"?16:0)),f=je(e,"active",e.active),{layoutItemStyles:v}=eu({id:e.name,order:I(()=>parseInt(e.order,10)),position:I(()=>"bottom"),layoutSize:I(()=>f.value?c.value:0),elementSize:c,active:f,absolute:ue(e,"absolute")});return La(e,O1),_n({VBtn:{baseColor:ue(e,"baseColor"),color:ue(e,"color"),density:ue(e,"density"),stacked:I(()=>e.mode!=="horizontal"),variant:"text"}},{scoped:!0}),ve(()=>h(e.tag,{class:["v-bottom-navigation",{"v-bottom-navigation--active":f.value,"v-bottom-navigation--grow":e.grow,"v-bottom-navigation--shift":e.mode==="shift"},i.value,s.value,r.value,a.value,l.value,u.value,e.class],style:[o.value,v.value,{height:Ve(c.value)},d.value,e.style]},{default:()=>[n.default&&h("div",{class:"v-bottom-navigation__content"},[n.default()])]})),{}}}),w$=Z({fullscreen:Boolean,retainFocus:{type:Boolean,default:!0},scrollable:Boolean,...Bh({origin:"center center",scrollStrategy:"block",transition:{component:s_},zIndex:2400})},"VDialog"),X0=de()({name:"VDialog",props:w$(),emits:{"update:modelValue":e=>!0,afterEnter:()=>!0,afterLeave:()=>!0},setup(e,t){let{emit:n,slots:i}=t;const r=je(e,"modelValue"),{scopeId:s}=lu(),o=z();function a(d){var v,g;const c=d.relatedTarget,f=d.target;if(c!==f&&((v=o.value)!=null&&v.contentEl)&&((g=o.value)!=null&&g.globalTop)&&![document,o.value.contentEl].includes(f)&&!o.value.contentEl.contains(f)){const p=Vf(o.value.contentEl);if(!p.length)return;const _=p[0],y=p[p.length-1];c===_?y.focus():_.focus()}}Bt&&ge(()=>r.value&&e.retainFocus,d=>{d?document.addEventListener("focusin",a):document.removeEventListener("focusin",a)},{immediate:!0});function l(){var d;n("afterEnter"),(d=o.value)!=null&&d.contentEl&&!o.value.contentEl.contains(document.activeElement)&&o.value.contentEl.focus({preventScroll:!0})}function u(){n("afterLeave")}return ge(r,async d=>{var c;d||(await ot(),(c=o.value.activatorEl)==null||c.focus({preventScroll:!0}))}),ve(()=>{const d=Ls.filterProps(e),c=J({"aria-haspopup":"dialog"},e.activatorProps),f=J({tabindex:-1},e.contentProps);return h(Ls,J({ref:o,class:["v-dialog",{"v-dialog--fullscreen":e.fullscreen,"v-dialog--scrollable":e.scrollable},e.class],style:e.style},d,{modelValue:r.value,"onUpdate:modelValue":v=>r.value=v,"aria-modal":"true",activatorProps:c,contentProps:f,role:"dialog",onAfterEnter:l,onAfterLeave:u},s),{activator:i.activator,default:function(){for(var v=arguments.length,g=new Array(v),p=0;p<v;p++)g[p]=arguments[p];return h(at,{root:"VDialog"},{default:()=>{var _;return[(_=i.default)==null?void 0:_.call(i,...g)]}})}})}),Rr({},o)}}),vie=Z({inset:Boolean,...w$({transition:"bottom-sheet-transition"})},"VBottomSheet"),mie=de()({name:"VBottomSheet",props:vie(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const i=je(e,"modelValue");return ve(()=>{const r=X0.filterProps(e);return h(X0,J(r,{contentClass:["v-bottom-sheet__content",e.contentClass],modelValue:i.value,"onUpdate:modelValue":s=>i.value=s,class:["v-bottom-sheet",{"v-bottom-sheet--inset":e.inset},e.class],style:e.style}),n)}),{}}}),gie=Z({divider:[Number,String],...$e()},"VBreadcrumbsDivider"),S$=de()({name:"VBreadcrumbsDivider",props:gie(),setup(e,t){let{slots:n}=t;return ve(()=>{var i;return h("li",{class:["v-breadcrumbs-divider",e.class],style:e.style},[((i=n==null?void 0:n.default)==null?void 0:i.call(n))??e.divider])}),{}}}),pie=Z({active:Boolean,activeClass:String,activeColor:String,color:String,disabled:Boolean,title:String,...$e(),...Fh(),...ut({tag:"li"})},"VBreadcrumbsItem"),E$=de()({name:"VBreadcrumbsItem",props:pie(),setup(e,t){let{slots:n,attrs:i}=t;const r=zc(e,i),s=I(()=>{var u;return e.active||((u=r.isActive)==null?void 0:u.value)}),o=I(()=>s.value?e.activeColor:e.color),{textColorClasses:a,textColorStyles:l}=ci(o);return ve(()=>h(e.tag,{class:["v-breadcrumbs-item",{"v-breadcrumbs-item--active":s.value,"v-breadcrumbs-item--disabled":e.disabled,[`${e.activeClass}`]:s.value&&e.activeClass},a.value,e.class],style:[l.value,e.style],"aria-current":s.value?"page":void 0},{default:()=>{var u,d;return[r.isLink.value?h("a",J({class:"v-breadcrumbs-item--link",onClick:r.navigate},r.linkProps),[((d=n.default)==null?void 0:d.call(n))??e.title]):((u=n.default)==null?void 0:u.call(n))??e.title]}})),{}}}),_ie=Z({activeClass:String,activeColor:String,bgColor:String,color:String,disabled:Boolean,divider:{type:String,default:"/"},icon:Je,items:{type:Array,default:()=>[]},...$e(),...ri(),...yn(),...ut({tag:"ul"})},"VBreadcrumbs"),yie=de()({name:"VBreadcrumbs",props:_ie(),setup(e,t){let{slots:n}=t;const{backgroundColorClasses:i,backgroundColorStyles:r}=Gt(ue(e,"bgColor")),{densityClasses:s}=Hi(e),{roundedClasses:o}=On(e);_n({VBreadcrumbsDivider:{divider:ue(e,"divider")},VBreadcrumbsItem:{activeClass:ue(e,"activeClass"),activeColor:ue(e,"activeColor"),color:ue(e,"color"),disabled:ue(e,"disabled")}});const a=I(()=>e.items.map(l=>typeof l=="string"?{item:{title:l},raw:l}:{item:l,raw:l}));return ve(()=>{const l=!!(n.prepend||e.icon);return h(e.tag,{class:["v-breadcrumbs",i.value,s.value,o.value,e.class],style:[r.value,e.style]},{default:()=>{var u;return[l&&h("li",{key:"prepend",class:"v-breadcrumbs__prepend"},[n.prepend?h(at,{key:"prepend-defaults",disabled:!e.icon,defaults:{VIcon:{icon:e.icon,start:!0}}},n.prepend):h(Pt,{key:"prepend-icon",start:!0,icon:e.icon},null)]),a.value.map((d,c,f)=>{var p;let{item:v,raw:g}=d;return h(Ie,null,[((p=n.item)==null?void 0:p.call(n,{item:v,index:c}))??h(E$,J({key:c,disabled:c>=f.length-1},typeof v=="string"?{title:v}:v),{default:n.title?()=>{var _;return(_=n.title)==null?void 0:_.call(n,{item:v,index:c})}:void 0}),c<f.length-1&&h(S$,null,{default:n.divider?()=>{var _;return(_=n.divider)==null?void 0:_.call(n,{item:g,index:c})}:void 0})])}),(u=n.default)==null?void 0:u.call(n)]}})}),{}}}),C$=de()({name:"VCardActions",props:$e(),setup(e,t){let{slots:n}=t;return _n({VBtn:{slim:!0,variant:"text"}}),ve(()=>{var i;return h("div",{class:["v-card-actions",e.class],style:e.style},[(i=n.default)==null?void 0:i.call(n)])}),{}}}),bie=Z({opacity:[Number,String],...$e(),...ut()},"VCardSubtitle"),k$=de()({name:"VCardSubtitle",props:bie(),setup(e,t){let{slots:n}=t;return ve(()=>h(e.tag,{class:["v-card-subtitle",e.class],style:[{"--v-card-subtitle-opacity":e.opacity},e.style]},n)),{}}}),T$=Ws("v-card-title"),wie=Z({appendAvatar:String,appendIcon:Je,prependAvatar:String,prependIcon:Je,subtitle:[String,Number],title:[String,Number],...$e(),...ri()},"VCardItem"),I$=de()({name:"VCardItem",props:wie(),setup(e,t){let{slots:n}=t;return ve(()=>{var u;const i=!!(e.prependAvatar||e.prependIcon),r=!!(i||n.prepend),s=!!(e.appendAvatar||e.appendIcon),o=!!(s||n.append),a=!!(e.title!=null||n.title),l=!!(e.subtitle!=null||n.subtitle);return h("div",{class:["v-card-item",e.class],style:e.style},[r&&h("div",{key:"prepend",class:"v-card-item__prepend"},[n.prepend?h(at,{key:"prepend-defaults",disabled:!i,defaults:{VAvatar:{density:e.density,image:e.prependAvatar},VIcon:{density:e.density,icon:e.prependIcon}}},n.prepend):h(Ie,null,[e.prependAvatar&&h(Cr,{key:"prepend-avatar",density:e.density,image:e.prependAvatar},null),e.prependIcon&&h(Pt,{key:"prepend-icon",density:e.density,icon:e.prependIcon},null)])]),h("div",{class:"v-card-item__content"},[a&&h(T$,{key:"title"},{default:()=>{var d;return[((d=n.title)==null?void 0:d.call(n))??e.title]}}),l&&h(k$,{key:"subtitle"},{default:()=>{var d;return[((d=n.subtitle)==null?void 0:d.call(n))??e.subtitle]}}),(u=n.default)==null?void 0:u.call(n)]),o&&h("div",{key:"append",class:"v-card-item__append"},[n.append?h(at,{key:"append-defaults",disabled:!s,defaults:{VAvatar:{density:e.density,image:e.appendAvatar},VIcon:{density:e.density,icon:e.appendIcon}}},n.append):h(Ie,null,[e.appendIcon&&h(Pt,{key:"append-icon",density:e.density,icon:e.appendIcon},null),e.appendAvatar&&h(Cr,{key:"append-avatar",density:e.density,image:e.appendAvatar},null)])])])}),{}}}),Sie=Z({opacity:[Number,String],...$e(),...ut()},"VCardText"),A$=de()({name:"VCardText",props:Sie(),setup(e,t){let{slots:n}=t;return ve(()=>h(e.tag,{class:["v-card-text",e.class],style:[{"--v-card-text-opacity":e.opacity},e.style]},n)),{}}}),Eie=Z({appendAvatar:String,appendIcon:Je,disabled:Boolean,flat:Boolean,hover:Boolean,image:String,link:{type:Boolean,default:void 0},prependAvatar:String,prependIcon:Je,ripple:{type:[Boolean,Object],default:!0},subtitle:[String,Number],text:[String,Number],title:[String,Number],...cr(),...$e(),...ri(),...qn(),...Zn(),...u_(),...Oo(),...Hc(),...yn(),...Fh(),...ut(),...Ct(),...Hr({variant:"elevated"})},"VCard"),Cie=de()({name:"VCard",directives:{Ripple:Vo},props:Eie(),setup(e,t){let{attrs:n,slots:i}=t;const{themeClasses:r}=Ft(e),{borderClasses:s}=Dr(e),{colorClasses:o,colorStyles:a,variantClasses:l}=nu(e),{densityClasses:u}=Hi(e),{dimensionStyles:d}=Yn(e),{elevationClasses:c}=hi(e),{loaderClasses:f}=Mh(e),{locationStyles:v}=ou(e),{positionClasses:g}=Wc(e),{roundedClasses:p}=On(e),_=zc(e,n),y=I(()=>e.link!==!1&&_.isLink.value),b=I(()=>!e.disabled&&e.link!==!1&&(e.link||_.isClickable.value));return ve(()=>{const E=y.value?"a":e.tag,k=!!(i.title||e.title!=null),R=!!(i.subtitle||e.subtitle!=null),O=k||R,D=!!(i.append||e.appendAvatar||e.appendIcon),S=!!(i.prepend||e.prependAvatar||e.prependIcon),w=!!(i.image||e.image),C=O||S||D,A=!!(i.text||e.text!=null);return pn(h(E,J({class:["v-card",{"v-card--disabled":e.disabled,"v-card--flat":e.flat,"v-card--hover":e.hover&&!(e.disabled||e.flat),"v-card--link":b.value},r.value,s.value,o.value,u.value,c.value,f.value,g.value,p.value,l.value,e.class],style:[a.value,d.value,v.value,e.style],onClick:b.value&&_.navigate,tabindex:e.disabled?-1:void 0},_.linkProps),{default:()=>{var P;return[w&&h("div",{key:"image",class:"v-card__image"},[i.image?h(at,{key:"image-defaults",disabled:!e.image,defaults:{VImg:{cover:!0,src:e.image}}},i.image):h(ko,{key:"image-img",cover:!0,src:e.image},null)]),h(Lh,{name:"v-card",active:!!e.loading,color:typeof e.loading=="boolean"?void 0:e.loading},{default:i.loader}),C&&h(I$,{key:"item",prependAvatar:e.prependAvatar,prependIcon:e.prependIcon,title:e.title,subtitle:e.subtitle,appendAvatar:e.appendAvatar,appendIcon:e.appendIcon},{default:i.item,prepend:i.prepend,title:i.title,subtitle:i.subtitle,append:i.append}),A&&h(A$,{key:"text"},{default:()=>{var x;return[((x=i.text)==null?void 0:x.call(i))??e.text]}}),(P=i.default)==null?void 0:P.call(i),i.actions&&h(C$,null,{default:i.actions}),Ma(b.value,"v-card")]}}),[[ur("ripple"),b.value&&e.ripple]])}),{}}}),kie=e=>{const{touchstartX:t,touchendX:n,touchstartY:i,touchendY:r}=e,s=.5,o=16;e.offsetX=n-t,e.offsetY=r-i,Math.abs(e.offsetY)<s*Math.abs(e.offsetX)&&(e.left&&n<t-o&&e.left(e),e.right&&n>t+o&&e.right(e)),Math.abs(e.offsetX)<s*Math.abs(e.offsetY)&&(e.up&&r<i-o&&e.up(e),e.down&&r>i+o&&e.down(e))};function Tie(e,t){var i;const n=e.changedTouches[0];t.touchstartX=n.clientX,t.touchstartY=n.clientY,(i=t.start)==null||i.call(t,{originalEvent:e,...t})}function Iie(e,t){var i;const n=e.changedTouches[0];t.touchendX=n.clientX,t.touchendY=n.clientY,(i=t.end)==null||i.call(t,{originalEvent:e,...t}),kie(t)}function Aie(e,t){var i;const n=e.changedTouches[0];t.touchmoveX=n.clientX,t.touchmoveY=n.clientY,(i=t.move)==null||i.call(t,{originalEvent:e,...t})}function Pie(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const t={touchstartX:0,touchstartY:0,touchendX:0,touchendY:0,touchmoveX:0,touchmoveY:0,offsetX:0,offsetY:0,left:e.left,right:e.right,up:e.up,down:e.down,start:e.start,move:e.move,end:e.end};return{touchstart:n=>Tie(n,t),touchend:n=>Iie(n,t),touchmove:n=>Aie(n,t)}}function xie(e,t){var a;const n=t.value,i=n!=null&&n.parent?e.parentElement:e,r=(n==null?void 0:n.options)??{passive:!0},s=(a=t.instance)==null?void 0:a.$.uid;if(!i||!s)return;const o=Pie(t.value);i._touchHandlers=i._touchHandlers??Object.create(null),i._touchHandlers[s]=o,TL(o).forEach(l=>{i.addEventListener(l,o[l],r)})}function Die(e,t){var s,o;const n=(s=t.value)!=null&&s.parent?e.parentElement:e,i=(o=t.instance)==null?void 0:o.$.uid;if(!(n!=null&&n._touchHandlers)||!i)return;const r=n._touchHandlers[i];TL(r).forEach(a=>{n.removeEventListener(a,r[a])}),delete n._touchHandlers[i]}const q1={mounted:xie,unmounted:Die},P$=Symbol.for("vuetify:v-window"),x$=Symbol.for("vuetify:v-window-group"),v_=Z({continuous:Boolean,nextIcon:{type:[Boolean,String,Function,Object],default:"$next"},prevIcon:{type:[Boolean,String,Function,Object],default:"$prev"},reverse:Boolean,showArrows:{type:[Boolean,String],validator:e=>typeof e=="boolean"||e==="hover"},touch:{type:[Object,Boolean],default:void 0},direction:{type:String,default:"horizontal"},modelValue:null,disabled:Boolean,selectedClass:{type:String,default:"v-window-item--active"},mandatory:{type:[Boolean,String],default:"force"},...$e(),...ut(),...Ct()},"VWindow"),$l=de()({name:"VWindow",directives:{Touch:q1},props:v_(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const{themeClasses:i}=Ft(e),{isRtl:r}=Jn(),{t:s}=sn(),o=La(e,x$),a=z(),l=I(()=>r.value?!e.reverse:e.reverse),u=Te(!1),d=I(()=>{const k=e.direction==="vertical"?"y":"x",O=(l.value?!u.value:u.value)?"-reverse":"";return`v-window-${k}${O}-transition`}),c=Te(0),f=z(void 0),v=I(()=>o.items.value.findIndex(k=>o.selected.value.includes(k.id)));ge(v,(k,R)=>{const O=o.items.value.length,D=O-1;O<=2?u.value=k<R:k===D&&R===0?u.value=!0:k===0&&R===D?u.value=!1:u.value=k<R}),Ut(P$,{transition:d,isReversed:u,transitionCount:c,transitionHeight:f,rootRef:a});const g=I(()=>e.continuous||v.value!==0),p=I(()=>e.continuous||v.value!==o.items.value.length-1);function _(){g.value&&o.prev()}function y(){p.value&&o.next()}const b=I(()=>{const k=[],R={icon:r.value?e.nextIcon:e.prevIcon,class:`v-window__${l.value?"right":"left"}`,onClick:o.prev,"aria-label":s("$vuetify.carousel.prev")};k.push(g.value?n.prev?n.prev({props:R}):h(dt,R,null):h("div",null,null));const O={icon:r.value?e.prevIcon:e.nextIcon,class:`v-window__${l.value?"left":"right"}`,onClick:o.next,"aria-label":s("$vuetify.carousel.next")};return k.push(p.value?n.next?n.next({props:O}):h(dt,O,null):h("div",null,null)),k}),E=I(()=>e.touch===!1?e.touch:{...{left:()=>{l.value?_():y()},right:()=>{l.value?y():_()},start:R=>{let{originalEvent:O}=R;O.stopPropagation()}},...e.touch===!0?{}:e.touch});return ve(()=>pn(h(e.tag,{ref:a,class:["v-window",{"v-window--show-arrows-on-hover":e.showArrows==="hover"},i.value,e.class],style:e.style},{default:()=>{var k,R;return[h("div",{class:"v-window__container",style:{height:f.value}},[(k=n.default)==null?void 0:k.call(n,{group:o}),e.showArrows!==!1&&h("div",{class:"v-window__controls"},[b.value])]),(R=n.additional)==null?void 0:R.call(n,{group:o})]}}),[[ur("touch"),E.value]])),{group:o}}}),Rie=Z({color:String,cycle:Boolean,delimiterIcon:{type:Je,default:"$delimiter"},height:{type:[Number,String],default:500},hideDelimiters:Boolean,hideDelimiterBackground:Boolean,interval:{type:[Number,String],default:6e3,validator:e=>Number(e)>0},progress:[Boolean,String],verticalDelimiters:[Boolean,String],...v_({continuous:!0,mandatory:"force",showArrows:!0})},"VCarousel"),Oie=de()({name:"VCarousel",props:Rie(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const i=je(e,"modelValue"),{t:r}=sn(),s=z();let o=-1;ge(i,l),ge(()=>e.interval,l),ge(()=>e.cycle,u=>{u?l():window.clearTimeout(o)}),yt(a);function a(){!e.cycle||!s.value||(o=window.setTimeout(s.value.group.next,+e.interval>0?+e.interval:6e3))}function l(){window.clearTimeout(o),window.requestAnimationFrame(a)}return ve(()=>{const u=$l.filterProps(e);return h($l,J({ref:s},u,{modelValue:i.value,"onUpdate:modelValue":d=>i.value=d,class:["v-carousel",{"v-carousel--hide-delimiter-background":e.hideDelimiterBackground,"v-carousel--vertical-delimiters":e.verticalDelimiters},e.class],style:[{height:Ve(e.height)},e.style]}),{default:n.default,additional:d=>{let{group:c}=d;return h(Ie,null,[!e.hideDelimiters&&h("div",{class:"v-carousel__controls",style:{left:e.verticalDelimiters==="left"&&e.verticalDelimiters?0:"auto",right:e.verticalDelimiters==="right"?0:"auto"}},[c.items.value.length>0&&h(at,{defaults:{VBtn:{color:e.color,icon:e.delimiterIcon,size:"x-small",variant:"text"}},scoped:!0},{default:()=>[c.items.value.map((f,v)=>{const g={id:`carousel-item-${f.id}`,"aria-label":r("$vuetify.carousel.ariaLabel.delimiter",v+1,c.items.value.length),class:["v-carousel__controls__item",c.isSelected(f.id)&&"v-btn--active"],onClick:()=>c.select(f.id,!0)};return n.item?n.item({props:g,item:f}):h(dt,J(f,g),null)})]})]),e.progress&&h(l_,{class:"v-carousel__progress",color:typeof e.progress=="string"?e.progress:void 0,modelValue:(c.getItemIndex(i.value)+1)/c.items.value.length*100},null)])},prev:n.prev,next:n.next})}),{}}}),m_=Z({reverseTransition:{type:[Boolean,String],default:void 0},transition:{type:[Boolean,String],default:void 0},...$e(),...ru(),...U1()},"VWindowItem"),Bl=de()({name:"VWindowItem",directives:{Touch:q1},props:m_(),emits:{"group:selected":e=>!0},setup(e,t){let{slots:n}=t;const i=st(P$),r=su(e,x$),{isBooted:s}=tu();if(!i||!r)throw new Error("[Vuetify] VWindowItem must be used inside VWindow");const o=Te(!1),a=I(()=>s.value&&(i.isReversed.value?e.reverseTransition!==!1:e.transition!==!1));function l(){!o.value||!i||(o.value=!1,i.transitionCount.value>0&&(i.transitionCount.value-=1,i.transitionCount.value===0&&(i.transitionHeight.value=void 0)))}function u(){var g;o.value||!i||(o.value=!0,i.transitionCount.value===0&&(i.transitionHeight.value=Ve((g=i.rootRef.value)==null?void 0:g.clientHeight)),i.transitionCount.value+=1)}function d(){l()}function c(g){o.value&&ot(()=>{!a.value||!o.value||!i||(i.transitionHeight.value=Ve(g.clientHeight))})}const f=I(()=>{const g=i.isReversed.value?e.reverseTransition:e.transition;return a.value?{name:typeof g!="string"?i.transition.value:g,onBeforeEnter:u,onAfterEnter:l,onEnterCancelled:d,onBeforeLeave:u,onAfterLeave:l,onLeaveCancelled:d,onEnter:c}:!1}),{hasContent:v}=j1(e,r.isSelected);return ve(()=>h($i,{transition:f.value,disabled:!s.value},{default:()=>{var g;return[pn(h("div",{class:["v-window-item",r.selectedClass.value,e.class],style:e.style},[v.value&&((g=n.default)==null?void 0:g.call(n))]),[[fs,r.isSelected.value]])]}})),{groupItem:r}}}),Vie=Z({...gF(),...m_()},"VCarouselItem"),Nie=de()({name:"VCarouselItem",inheritAttrs:!1,props:Vie(),setup(e,t){let{slots:n,attrs:i}=t;ve(()=>{const r=ko.filterProps(e),s=Bl.filterProps(e);return h(Bl,J({class:["v-carousel-item",e.class]},s),{default:()=>[h(ko,J(i,r),n)]})})}}),Mie=Ws("v-code"),Lie=Z({color:{type:Object},disabled:Boolean,dotSize:{type:[Number,String],default:10},height:{type:[Number,String],default:150},width:{type:[Number,String],default:300},...$e()},"VColorPickerCanvas"),Fie=Ar({name:"VColorPickerCanvas",props:Lie(),emits:{"update:color":e=>!0,"update:position":e=>!0},setup(e,t){let{emit:n}=t;const i=Te(!1),r=z(),s=Te(parseFloat(e.width)),o=Te(parseFloat(e.height)),a=z({x:0,y:0}),l=I({get:()=>a.value,set(_){var E,k;if(!r.value)return;const{x:y,y:b}=_;a.value=_,n("update:color",{h:((E=e.color)==null?void 0:E.h)??0,s:kn(y,0,s.value)/s.value,v:1-kn(b,0,o.value)/o.value,a:((k=e.color)==null?void 0:k.a)??1})}}),u=I(()=>{const{x:_,y}=l.value,b=parseInt(e.dotSize,10)/2;return{width:Ve(e.dotSize),height:Ve(e.dotSize),transform:`translate(${Ve(_-b)}, ${Ve(y-b)})`}}),{resizeRef:d}=us(_=>{var E;if(!((E=d.el)!=null&&E.offsetParent))return;const{width:y,height:b}=_[0].contentRect;s.value=y,o.value=b});function c(_,y,b){const{left:E,top:k,width:R,height:O}=b;l.value={x:kn(_-E,0,R),y:kn(y-k,0,O)}}function f(_){_.type==="mousedown"&&_.preventDefault(),!e.disabled&&(v(_),window.addEventListener("mousemove",v),window.addEventListener("mouseup",g),window.addEventListener("touchmove",v),window.addEventListener("touchend",g))}function v(_){if(e.disabled||!r.value)return;i.value=!0;const y=HJ(_);c(y.clientX,y.clientY,r.value.getBoundingClientRect())}function g(){window.removeEventListener("mousemove",v),window.removeEventListener("mouseup",g),window.removeEventListener("touchmove",v),window.removeEventListener("touchend",g)}function p(){var k;if(!r.value)return;const _=r.value,y=_.getContext("2d");if(!y)return;const b=y.createLinearGradient(0,0,_.width,0);b.addColorStop(0,"hsla(0, 0%, 100%, 1)"),b.addColorStop(1,`hsla(${((k=e.color)==null?void 0:k.h)??0}, 100%, 50%, 1)`),y.fillStyle=b,y.fillRect(0,0,_.width,_.height);const E=y.createLinearGradient(0,0,0,_.height);E.addColorStop(0,"hsla(0, 0%, 0%, 0)"),E.addColorStop(1,"hsla(0, 0%, 0%, 1)"),y.fillStyle=E,y.fillRect(0,0,_.width,_.height)}return ge(()=>{var _;return(_=e.color)==null?void 0:_.h},p,{immediate:!0}),ge(()=>[s.value,o.value],(_,y)=>{p(),a.value={x:l.value.x*_[0]/y[0],y:l.value.y*_[1]/y[1]}},{flush:"post"}),ge(()=>e.color,()=>{if(i.value){i.value=!1;return}a.value=e.color?{x:e.color.s*s.value,y:(1-e.color.v)*o.value}:{x:0,y:0}},{deep:!0,immediate:!0}),yt(()=>p()),ve(()=>h("div",{ref:d,class:["v-color-picker-canvas",e.class],style:e.style,onMousedown:f,onTouchstartPassive:f},[h("canvas",{ref:r,width:s.value,height:o.value},null),e.color&&h("div",{class:["v-color-picker-canvas__dot",{"v-color-picker-canvas__dot--disabled":e.disabled}],style:u.value},null)])),{}}});function $ie(e,t){if(t){const{a:n,...i}=e;return i}return e}function Bie(e,t){if(t==null||typeof t=="string"){const n=HL(e);return e.a===1?n.slice(0,7):n}if(typeof t=="object"){let n;return ul(t,["r","g","b"])?n=Co(e):ul(t,["h","s","l"])?n=LL(e):ul(t,["h","s","v"])&&(n=e),$ie(n,!ul(t,["a"])&&e.a===1)}return e}const Lu={h:0,s:0,v:0,a:1},Q0={inputProps:{type:"number",min:0},inputs:[{label:"R",max:255,step:1,getValue:e=>Math.round(e.r),getColor:(e,t)=>({...e,r:Number(t)})},{label:"G",max:255,step:1,getValue:e=>Math.round(e.g),getColor:(e,t)=>({...e,g:Number(t)})},{label:"B",max:255,step:1,getValue:e=>Math.round(e.b),getColor:(e,t)=>({...e,b:Number(t)})},{label:"A",max:1,step:.01,getValue:e=>{let{a:t}=e;return t!=null?Math.round(t*100)/100:1},getColor:(e,t)=>({...e,a:Number(t)})}],to:Co,from:t_};var RR;const Uie={...Q0,inputs:(RR=Q0.inputs)==null?void 0:RR.slice(0,3)},J0={inputProps:{type:"number",min:0},inputs:[{label:"H",max:360,step:1,getValue:e=>Math.round(e.h),getColor:(e,t)=>({...e,h:Number(t)})},{label:"S",max:1,step:.01,getValue:e=>Math.round(e.s*100)/100,getColor:(e,t)=>({...e,s:Number(t)})},{label:"L",max:1,step:.01,getValue:e=>Math.round(e.l*100)/100,getColor:(e,t)=>({...e,l:Number(t)})},{label:"A",max:1,step:.01,getValue:e=>{let{a:t}=e;return t!=null?Math.round(t*100)/100:1},getColor:(e,t)=>({...e,a:Number(t)})}],to:LL,from:b1},jie={...J0,inputs:J0.inputs.slice(0,3)},D$={inputProps:{type:"text"},inputs:[{label:"HEXA",getValue:e=>e,getColor:(e,t)=>t}],to:HL,from:jL},Hie={...D$,inputs:[{label:"HEX",getValue:e=>e.slice(0,7),getColor:(e,t)=>t}]},bl={rgb:Uie,rgba:Q0,hsl:jie,hsla:J0,hex:Hie,hexa:D$},Wie=e=>{let{label:t,...n}=e;return h("div",{class:"v-color-picker-edit__input"},[h("input",n,null),h("span",null,[t])])},zie=Z({color:Object,disabled:Boolean,mode:{type:String,default:"rgba",validator:e=>Object.keys(bl).includes(e)},modes:{type:Array,default:()=>Object.keys(bl),validator:e=>Array.isArray(e)&&e.every(t=>Object.keys(bl).includes(t))},...$e()},"VColorPickerEdit"),Gie=Ar({name:"VColorPickerEdit",props:zie(),emits:{"update:color":e=>!0,"update:mode":e=>!0},setup(e,t){let{emit:n}=t;const i=I(()=>e.modes.map(s=>({...bl[s],name:s}))),r=I(()=>{var a;const s=i.value.find(l=>l.name===e.mode);if(!s)return[];const o=e.color?s.to(e.color):null;return(a=s.inputs)==null?void 0:a.map(l=>{let{getValue:u,getColor:d,...c}=l;return{...s.inputProps,...c,disabled:e.disabled,value:o&&u(o),onChange:f=>{const v=f.target;v&&n("update:color",s.from(d(o??s.to(Lu),v.value)))}}})});return ve(()=>{var s;return h("div",{class:["v-color-picker-edit",e.class],style:e.style},[(s=r.value)==null?void 0:s.map(o=>h(Wie,o,null)),i.value.length>1&&h(dt,{icon:"$unfold",size:"x-small",variant:"plain",onClick:()=>{const o=i.value.findIndex(a=>a.name===e.mode);n("update:mode",i.value[(o+1)%i.value.length].name)}},null)])}),{}}}),Y1=Symbol.for("vuetify:v-slider");function Z0(e,t,n){const i=n==="vertical",r=t.getBoundingClientRect(),s="touches"in e?e.touches[0]:e;return i?s.clientY-(r.top+r.height/2):s.clientX-(r.left+r.width/2)}function qie(e,t){return"touches"in e&&e.touches.length?e.touches[0][t]:"changedTouches"in e&&e.changedTouches.length?e.changedTouches[0][t]:e[t]}const R$=Z({disabled:{type:Boolean,default:null},error:Boolean,readonly:{type:Boolean,default:null},max:{type:[Number,String],default:100},min:{type:[Number,String],default:0},step:{type:[Number,String],default:0},thumbColor:String,thumbLabel:{type:[Boolean,String],default:void 0,validator:e=>typeof e=="boolean"||e==="always"},thumbSize:{type:[Number,String],default:20},showTicks:{type:[Boolean,String],default:!1,validator:e=>typeof e=="boolean"||e==="always"},ticks:{type:[Array,Object]},tickSize:{type:[Number,String],default:2},color:String,trackColor:String,trackFillColor:String,trackSize:{type:[Number,String],default:4},direction:{type:String,default:"horizontal",validator:e=>["vertical","horizontal"].includes(e)},reverse:Boolean,...yn(),...Zn({elevation:2}),ripple:{type:Boolean,default:!0}},"Slider"),O$=e=>{const t=I(()=>parseFloat(e.min)),n=I(()=>parseFloat(e.max)),i=I(()=>+e.step>0?parseFloat(e.step):0),r=I(()=>Math.max(cg(i.value),cg(t.value)));function s(o){if(o=parseFloat(o),i.value<=0)return o;const a=kn(o,t.value,n.value),l=t.value%i.value,u=Math.round((a-l)/i.value)*i.value+l;return parseFloat(Math.min(u,n.value).toFixed(r.value))}return{min:t,max:n,step:i,decimals:r,roundValue:s}},V$=e=>{let{props:t,steps:n,onSliderStart:i,onSliderMove:r,onSliderEnd:s,getActiveThumb:o}=e;const{isRtl:a}=Jn(),l=ue(t,"reverse"),u=I(()=>t.direction==="vertical"),d=I(()=>u.value!==l.value),{min:c,max:f,step:v,decimals:g,roundValue:p}=n,_=I(()=>parseInt(t.thumbSize,10)),y=I(()=>parseInt(t.tickSize,10)),b=I(()=>parseInt(t.trackSize,10)),E=I(()=>(f.value-c.value)/v.value),k=ue(t,"disabled"),R=I(()=>t.error||t.disabled?void 0:t.thumbColor??t.color),O=I(()=>t.error||t.disabled?void 0:t.trackColor??t.color),D=I(()=>t.error||t.disabled?void 0:t.trackFillColor??t.color),S=Te(!1),w=Te(0),C=z(),A=z();function P(Q){var ee;const B=t.direction==="vertical",q=B?"top":"left",ie=B?"height":"width",ce=B?"clientY":"clientX",{[q]:ne,[ie]:Se}=(ee=C.value)==null?void 0:ee.$el.getBoundingClientRect(),M=qie(Q,ce);let L=Math.min(Math.max((M-ne-w.value)/Se,0),1)||0;return(B?d.value:d.value!==a.value)&&(L=1-L),p(c.value+L*(f.value-c.value))}const x=Q=>{s({value:P(Q)}),S.value=!1,w.value=0},U=Q=>{A.value=o(Q),A.value&&(A.value.focus(),S.value=!0,A.value.contains(Q.target)?w.value=Z0(Q,A.value,t.direction):(w.value=0,r({value:P(Q)})),i({value:P(Q)}))},$={passive:!0,capture:!0};function j(Q){r({value:P(Q)})}function Y(Q){Q.stopPropagation(),Q.preventDefault(),x(Q),window.removeEventListener("mousemove",j,$),window.removeEventListener("mouseup",Y)}function W(Q){var B;x(Q),window.removeEventListener("touchmove",j,$),(B=Q.target)==null||B.removeEventListener("touchend",W)}function K(Q){var B;U(Q),window.addEventListener("touchmove",j,$),(B=Q.target)==null||B.addEventListener("touchend",W,{passive:!1})}function G(Q){Q.preventDefault(),U(Q),window.addEventListener("mousemove",j,$),window.addEventListener("mouseup",Y,{passive:!1})}const te=Q=>{const B=(Q-c.value)/(f.value-c.value)*100;return kn(isNaN(B)?0:B,0,100)},oe=ue(t,"showTicks"),_e=I(()=>oe.value?t.ticks?Array.isArray(t.ticks)?t.ticks.map(Q=>({value:Q,position:te(Q),label:Q.toString()})):Object.keys(t.ticks).map(Q=>({value:parseFloat(Q),position:te(parseFloat(Q)),label:t.ticks[Q]})):E.value!==1/0?br(E.value+1).map(Q=>{const B=c.value+Q*v.value;return{value:B,position:te(B)}}):[]:[]),Ae=I(()=>_e.value.some(Q=>{let{label:B}=Q;return!!B})),Ne={activeThumbRef:A,color:ue(t,"color"),decimals:g,disabled:k,direction:ue(t,"direction"),elevation:ue(t,"elevation"),hasLabels:Ae,isReversed:l,indexFromEnd:d,min:c,max:f,mousePressed:S,numTicks:E,onSliderMousedown:G,onSliderTouchstart:K,parsedTicks:_e,parseMouseMove:P,position:te,readonly:ue(t,"readonly"),rounded:ue(t,"rounded"),roundValue:p,showTicks:oe,startOffset:w,step:v,thumbSize:_,thumbColor:R,thumbLabel:ue(t,"thumbLabel"),ticks:ue(t,"ticks"),tickSize:y,trackColor:O,trackContainerRef:C,trackFillColor:D,trackSize:b,vertical:u};return Ut(Y1,Ne),Ne},Yie=Z({focused:Boolean,max:{type:Number,required:!0},min:{type:Number,required:!0},modelValue:{type:Number,required:!0},position:{type:Number,required:!0},ripple:{type:[Boolean,Object],default:!0},name:String,...$e()},"VSliderThumb"),ew=de()({name:"VSliderThumb",directives:{Ripple:Vo},props:Yie(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n,emit:i}=t;const r=st(Y1),{isRtl:s,rtlClasses:o}=Jn();if(!r)throw new Error("[Vuetify] v-slider-thumb must be used inside v-slider or v-range-slider");const{thumbColor:a,step:l,disabled:u,thumbSize:d,thumbLabel:c,direction:f,isReversed:v,vertical:g,readonly:p,elevation:_,mousePressed:y,decimals:b,indexFromEnd:E}=r,k=I(()=>u.value?void 0:_.value),{elevationClasses:R}=hi(k),{textColorClasses:O,textColorStyles:D}=ci(a),{pageup:S,pagedown:w,end:C,home:A,left:P,right:x,down:U,up:$}=D0,j=[S,w,C,A,P,x,U,$],Y=I(()=>l.value?[1,2,3]:[1,5,10]);function W(G,te){if(!j.includes(G.key))return;G.preventDefault();const oe=l.value||.1,_e=(e.max-e.min)/oe;if([P,x,U,$].includes(G.key)){const Ne=(g.value?[s.value?P:x,v.value?U:$]:E.value!==s.value?[P,$]:[x,$]).includes(G.key)?1:-1,Q=G.shiftKey?2:G.ctrlKey?1:0;te=te+Ne*oe*Y.value[Q]}else if(G.key===A)te=e.min;else if(G.key===C)te=e.max;else{const Ae=G.key===w?1:-1;te=te-Ae*oe*(_e>100?_e/10:10)}return Math.max(e.min,Math.min(e.max,te))}function K(G){const te=W(G,e.modelValue);te!=null&&i("update:modelValue",te)}return ve(()=>{const G=Ve(E.value?100-e.position:e.position,"%");return h("div",{class:["v-slider-thumb",{"v-slider-thumb--focused":e.focused,"v-slider-thumb--pressed":e.focused&&y.value},e.class,o.value],style:[{"--v-slider-thumb-position":G,"--v-slider-thumb-size":Ve(d.value)},e.style],role:"slider",tabindex:u.value?-1:0,"aria-label":e.name,"aria-valuemin":e.min,"aria-valuemax":e.max,"aria-valuenow":e.modelValue,"aria-readonly":!!p.value,"aria-orientation":f.value,onKeydown:p.value?void 0:K},[h("div",{class:["v-slider-thumb__surface",O.value,R.value],style:{...D.value}},null),pn(h("div",{class:["v-slider-thumb__ripple",O.value],style:D.value},null),[[ur("ripple"),e.ripple,null,{circle:!0,center:!0}]]),h(P1,{origin:"bottom center"},{default:()=>{var te;return[pn(h("div",{class:"v-slider-thumb__label-container"},[h("div",{class:["v-slider-thumb__label"]},[h("div",null,[((te=n["thumb-label"])==null?void 0:te.call(n,{modelValue:e.modelValue}))??e.modelValue.toFixed(l.value?b.value:1)])])]),[[fs,c.value&&e.focused||c.value==="always"]])]}})])}),{}}}),Kie=Z({start:{type:Number,required:!0},stop:{type:Number,required:!0},...$e()},"VSliderTrack"),N$=de()({name:"VSliderTrack",props:Kie(),emits:{},setup(e,t){let{slots:n}=t;const i=st(Y1);if(!i)throw new Error("[Vuetify] v-slider-track must be inside v-slider or v-range-slider");const{color:r,parsedTicks:s,rounded:o,showTicks:a,tickSize:l,trackColor:u,trackFillColor:d,trackSize:c,vertical:f,min:v,max:g,indexFromEnd:p}=i,{roundedClasses:_}=On(o),{backgroundColorClasses:y,backgroundColorStyles:b}=Gt(d),{backgroundColorClasses:E,backgroundColorStyles:k}=Gt(u),R=I(()=>`inset-${f.value?"block":"inline"}-${p.value?"end":"start"}`),O=I(()=>f.value?"height":"width"),D=I(()=>({[R.value]:"0%",[O.value]:"100%"})),S=I(()=>e.stop-e.start),w=I(()=>({[R.value]:Ve(e.start,"%"),[O.value]:Ve(S.value,"%")})),C=I(()=>a.value?(f.value?s.value.slice().reverse():s.value).map((P,x)=>{var $;const U=P.value!==v.value&&P.value!==g.value?Ve(P.position,"%"):void 0;return h("div",{key:P.value,class:["v-slider-track__tick",{"v-slider-track__tick--filled":P.position>=e.start&&P.position<=e.stop,"v-slider-track__tick--first":P.value===v.value,"v-slider-track__tick--last":P.value===g.value}],style:{[R.value]:U}},[(P.label||n["tick-label"])&&h("div",{class:"v-slider-track__tick-label"},[(($=n["tick-label"])==null?void 0:$.call(n,{tick:P,index:x}))??P.label])])}):[]);return ve(()=>h("div",{class:["v-slider-track",_.value,e.class],style:[{"--v-slider-track-size":Ve(c.value),"--v-slider-tick-size":Ve(l.value)},e.style]},[h("div",{class:["v-slider-track__background",E.value,{"v-slider-track__background--opacity":!!r.value||!d.value}],style:{...D.value,...k.value}},null),h("div",{class:["v-slider-track__fill",y.value],style:{...w.value,...b.value}},null),a.value&&h("div",{class:["v-slider-track__ticks",{"v-slider-track__ticks--always-show":a.value==="always"}]},[C.value])])),{}}}),Xie=Z({...qc(),...R$(),...No(),modelValue:{type:[Number,String],default:0}},"VSlider"),tw=de()({name:"VSlider",props:Xie(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,start:e=>!0,end:e=>!0},setup(e,t){let{slots:n,emit:i}=t;const r=z(),{rtlClasses:s}=Jn(),o=O$(e),a=je(e,"modelValue",void 0,O=>o.roundValue(O??o.min.value)),{min:l,max:u,mousePressed:d,roundValue:c,onSliderMousedown:f,onSliderTouchstart:v,trackContainerRef:g,position:p,hasLabels:_,readonly:y}=V$({props:e,steps:o,onSliderStart:()=>{i("start",a.value)},onSliderEnd:O=>{let{value:D}=O;const S=c(D);a.value=S,i("end",S)},onSliderMove:O=>{let{value:D}=O;return a.value=c(D)},getActiveThumb:()=>{var O;return(O=r.value)==null?void 0:O.$el}}),{isFocused:b,focus:E,blur:k}=Gs(e),R=I(()=>p(a.value));return ve(()=>{const O=Ei.filterProps(e),D=!!(e.label||n.label||n.prepend);return h(Ei,J({class:["v-slider",{"v-slider--has-labels":!!n["tick-label"]||_.value,"v-slider--focused":b.value,"v-slider--pressed":d.value,"v-slider--disabled":e.disabled},s.value,e.class],style:e.style},O,{focused:b.value}),{...n,prepend:D?S=>{var w,C;return h(Ie,null,[((w=n.label)==null?void 0:w.call(n,S))??(e.label?h(Gc,{id:S.id.value,class:"v-slider__label",text:e.label},null):void 0),(C=n.prepend)==null?void 0:C.call(n,S)])}:void 0,default:S=>{let{id:w,messagesId:C}=S;return h("div",{class:"v-slider__container",onMousedown:y.value?void 0:f,onTouchstartPassive:y.value?void 0:v},[h("input",{id:w.value,name:e.name||w.value,disabled:!!e.disabled,readonly:!!e.readonly,tabindex:"-1",value:a.value},null),h(N$,{ref:g,start:0,stop:R.value},{"tick-label":n["tick-label"]}),h(ew,{ref:r,"aria-describedby":C.value,focused:b.value,min:l.value,max:u.value,modelValue:a.value,"onUpdate:modelValue":A=>a.value=A,position:R.value,elevation:e.elevation,onFocus:E,onBlur:k,ripple:e.ripple,name:e.name},{"thumb-label":n["thumb-label"]})])}})}),{}}}),Qie=Z({color:{type:Object},disabled:Boolean,hideAlpha:Boolean,...$e()},"VColorPickerPreview"),Jie=Ar({name:"VColorPickerPreview",props:Qie(),emits:{"update:color":e=>!0},setup(e,t){let{emit:n}=t;const i=new AbortController;Ir(()=>i.abort());async function r(){if(!JA)return;const s=new window.EyeDropper;try{const o=await s.open({signal:i.signal}),a=jL(o.sRGBHex);n("update:color",{...e.color??Lu,...a})}catch{}}return ve(()=>{var s,o;return h("div",{class:["v-color-picker-preview",{"v-color-picker-preview--hide-alpha":e.hideAlpha},e.class],style:e.style},[JA&&h("div",{class:"v-color-picker-preview__eye-dropper",key:"eyeDropper"},[h(dt,{onClick:r,icon:"$eyeDropper",variant:"plain",density:"comfortable"},null)]),h("div",{class:"v-color-picker-preview__dot"},[h("div",{style:{background:$L(e.color??Lu)}},null)]),h("div",{class:"v-color-picker-preview__sliders"},[h(tw,{class:"v-color-picker-preview__track v-color-picker-preview__hue",modelValue:(s=e.color)==null?void 0:s.h,"onUpdate:modelValue":a=>n("update:color",{...e.color??Lu,h:a}),step:0,min:0,max:360,disabled:e.disabled,thumbSize:14,trackSize:8,trackFillColor:"white",hideDetails:!0},null),!e.hideAlpha&&h(tw,{class:"v-color-picker-preview__track v-color-picker-preview__alpha",modelValue:((o=e.color)==null?void 0:o.a)??1,"onUpdate:modelValue":a=>n("update:color",{...e.color??Lu,a}),step:1/256,min:0,max:1,disabled:e.disabled,thumbSize:14,trackSize:8,trackFillColor:"white",hideDetails:!0},null)])])}),{}}}),Zie={base:"#f44336",lighten5:"#ffebee",lighten4:"#ffcdd2",lighten3:"#ef9a9a",lighten2:"#e57373",lighten1:"#ef5350",darken1:"#e53935",darken2:"#d32f2f",darken3:"#c62828",darken4:"#b71c1c",accent1:"#ff8a80",accent2:"#ff5252",accent3:"#ff1744",accent4:"#d50000"},ere={base:"#e91e63",lighten5:"#fce4ec",lighten4:"#f8bbd0",lighten3:"#f48fb1",lighten2:"#f06292",lighten1:"#ec407a",darken1:"#d81b60",darken2:"#c2185b",darken3:"#ad1457",darken4:"#880e4f",accent1:"#ff80ab",accent2:"#ff4081",accent3:"#f50057",accent4:"#c51162"},tre={base:"#9c27b0",lighten5:"#f3e5f5",lighten4:"#e1bee7",lighten3:"#ce93d8",lighten2:"#ba68c8",lighten1:"#ab47bc",darken1:"#8e24aa",darken2:"#7b1fa2",darken3:"#6a1b9a",darken4:"#4a148c",accent1:"#ea80fc",accent2:"#e040fb",accent3:"#d500f9",accent4:"#aa00ff"},nre={base:"#673ab7",lighten5:"#ede7f6",lighten4:"#d1c4e9",lighten3:"#b39ddb",lighten2:"#9575cd",lighten1:"#7e57c2",darken1:"#5e35b1",darken2:"#512da8",darken3:"#4527a0",darken4:"#311b92",accent1:"#b388ff",accent2:"#7c4dff",accent3:"#651fff",accent4:"#6200ea"},ire={base:"#3f51b5",lighten5:"#e8eaf6",lighten4:"#c5cae9",lighten3:"#9fa8da",lighten2:"#7986cb",lighten1:"#5c6bc0",darken1:"#3949ab",darken2:"#303f9f",darken3:"#283593",darken4:"#1a237e",accent1:"#8c9eff",accent2:"#536dfe",accent3:"#3d5afe",accent4:"#304ffe"},rre={base:"#2196f3",lighten5:"#e3f2fd",lighten4:"#bbdefb",lighten3:"#90caf9",lighten2:"#64b5f6",lighten1:"#42a5f5",darken1:"#1e88e5",darken2:"#1976d2",darken3:"#1565c0",darken4:"#0d47a1",accent1:"#82b1ff",accent2:"#448aff",accent3:"#2979ff",accent4:"#2962ff"},sre={base:"#03a9f4",lighten5:"#e1f5fe",lighten4:"#b3e5fc",lighten3:"#81d4fa",lighten2:"#4fc3f7",lighten1:"#29b6f6",darken1:"#039be5",darken2:"#0288d1",darken3:"#0277bd",darken4:"#01579b",accent1:"#80d8ff",accent2:"#40c4ff",accent3:"#00b0ff",accent4:"#0091ea"},ore={base:"#00bcd4",lighten5:"#e0f7fa",lighten4:"#b2ebf2",lighten3:"#80deea",lighten2:"#4dd0e1",lighten1:"#26c6da",darken1:"#00acc1",darken2:"#0097a7",darken3:"#00838f",darken4:"#006064",accent1:"#84ffff",accent2:"#18ffff",accent3:"#00e5ff",accent4:"#00b8d4"},are={base:"#009688",lighten5:"#e0f2f1",lighten4:"#b2dfdb",lighten3:"#80cbc4",lighten2:"#4db6ac",lighten1:"#26a69a",darken1:"#00897b",darken2:"#00796b",darken3:"#00695c",darken4:"#004d40",accent1:"#a7ffeb",accent2:"#64ffda",accent3:"#1de9b6",accent4:"#00bfa5"},lre={base:"#4caf50",lighten5:"#e8f5e9",lighten4:"#c8e6c9",lighten3:"#a5d6a7",lighten2:"#81c784",lighten1:"#66bb6a",darken1:"#43a047",darken2:"#388e3c",darken3:"#2e7d32",darken4:"#1b5e20",accent1:"#b9f6ca",accent2:"#69f0ae",accent3:"#00e676",accent4:"#00c853"},ure={base:"#8bc34a",lighten5:"#f1f8e9",lighten4:"#dcedc8",lighten3:"#c5e1a5",lighten2:"#aed581",lighten1:"#9ccc65",darken1:"#7cb342",darken2:"#689f38",darken3:"#558b2f",darken4:"#33691e",accent1:"#ccff90",accent2:"#b2ff59",accent3:"#76ff03",accent4:"#64dd17"},cre={base:"#cddc39",lighten5:"#f9fbe7",lighten4:"#f0f4c3",lighten3:"#e6ee9c",lighten2:"#dce775",lighten1:"#d4e157",darken1:"#c0ca33",darken2:"#afb42b",darken3:"#9e9d24",darken4:"#827717",accent1:"#f4ff81",accent2:"#eeff41",accent3:"#c6ff00",accent4:"#aeea00"},dre={base:"#ffeb3b",lighten5:"#fffde7",lighten4:"#fff9c4",lighten3:"#fff59d",lighten2:"#fff176",lighten1:"#ffee58",darken1:"#fdd835",darken2:"#fbc02d",darken3:"#f9a825",darken4:"#f57f17",accent1:"#ffff8d",accent2:"#ffff00",accent3:"#ffea00",accent4:"#ffd600"},fre={base:"#ffc107",lighten5:"#fff8e1",lighten4:"#ffecb3",lighten3:"#ffe082",lighten2:"#ffd54f",lighten1:"#ffca28",darken1:"#ffb300",darken2:"#ffa000",darken3:"#ff8f00",darken4:"#ff6f00",accent1:"#ffe57f",accent2:"#ffd740",accent3:"#ffc400",accent4:"#ffab00"},hre={base:"#ff9800",lighten5:"#fff3e0",lighten4:"#ffe0b2",lighten3:"#ffcc80",lighten2:"#ffb74d",lighten1:"#ffa726",darken1:"#fb8c00",darken2:"#f57c00",darken3:"#ef6c00",darken4:"#e65100",accent1:"#ffd180",accent2:"#ffab40",accent3:"#ff9100",accent4:"#ff6d00"},vre={base:"#ff5722",lighten5:"#fbe9e7",lighten4:"#ffccbc",lighten3:"#ffab91",lighten2:"#ff8a65",lighten1:"#ff7043",darken1:"#f4511e",darken2:"#e64a19",darken3:"#d84315",darken4:"#bf360c",accent1:"#ff9e80",accent2:"#ff6e40",accent3:"#ff3d00",accent4:"#dd2c00"},mre={base:"#795548",lighten5:"#efebe9",lighten4:"#d7ccc8",lighten3:"#bcaaa4",lighten2:"#a1887f",lighten1:"#8d6e63",darken1:"#6d4c41",darken2:"#5d4037",darken3:"#4e342e",darken4:"#3e2723"},gre={base:"#607d8b",lighten5:"#eceff1",lighten4:"#cfd8dc",lighten3:"#b0bec5",lighten2:"#90a4ae",lighten1:"#78909c",darken1:"#546e7a",darken2:"#455a64",darken3:"#37474f",darken4:"#263238"},pre={base:"#9e9e9e",lighten5:"#fafafa",lighten4:"#f5f5f5",lighten3:"#eeeeee",lighten2:"#e0e0e0",lighten1:"#bdbdbd",darken1:"#757575",darken2:"#616161",darken3:"#424242",darken4:"#212121"},_re={black:"#000000",white:"#ffffff",transparent:"#ffffff00"},yre={red:Zie,pink:ere,purple:tre,deepPurple:nre,indigo:ire,blue:rre,lightBlue:sre,cyan:ore,teal:are,green:lre,lightGreen:ure,lime:cre,yellow:dre,amber:fre,orange:hre,deepOrange:vre,brown:mre,blueGrey:gre,grey:pre,shades:_re},bre=Z({swatches:{type:Array,default:()=>wre(yre)},disabled:Boolean,color:Object,maxHeight:[Number,String],...$e()},"VColorPickerSwatches");function wre(e){return Object.keys(e).map(t=>{const n=e[t];return n.base?[n.base,n.darken4,n.darken3,n.darken2,n.darken1,n.lighten1,n.lighten2,n.lighten3,n.lighten4,n.lighten5]:[n.black,n.white,n.transparent]})}const Sre=Ar({name:"VColorPickerSwatches",props:bre(),emits:{"update:color":e=>!0},setup(e,t){let{emit:n}=t;return ve(()=>h("div",{class:["v-color-picker-swatches",e.class],style:[{maxHeight:Ve(e.maxHeight)},e.style]},[h("div",null,[e.swatches.map(i=>h("div",{class:"v-color-picker-swatches__swatch"},[i.map(r=>{const s=Lr(r),o=t_(s),a=FL(s);return h("div",{class:"v-color-picker-swatches__color",onClick:()=>o&&n("update:color",o)},[h("div",{style:{background:a}},[e.color&&js(e.color,o)?h(Pt,{size:"x-small",icon:"$success",color:vZ(r,"#FFFFFF")>2?"white":"black"},null):void 0])])})]))])])),{}}}),g_=Z({color:String,...cr(),...$e(),...qn(),...Zn(),...Oo(),...Hc(),...yn(),...ut(),...Ct()},"VSheet"),wa=de()({name:"VSheet",props:g_(),setup(e,t){let{slots:n}=t;const{themeClasses:i}=Ft(e),{backgroundColorClasses:r,backgroundColorStyles:s}=Gt(ue(e,"color")),{borderClasses:o}=Dr(e),{dimensionStyles:a}=Yn(e),{elevationClasses:l}=hi(e),{locationStyles:u}=ou(e),{positionClasses:d}=Wc(e),{roundedClasses:c}=On(e);return ve(()=>h(e.tag,{class:["v-sheet",i.value,r.value,o.value,l.value,d.value,c.value,e.class],style:[s.value,a.value,u.value,e.style]},n)),{}}}),Ere=Z({canvasHeight:{type:[String,Number],default:150},disabled:Boolean,dotSize:{type:[Number,String],default:10},hideCanvas:Boolean,hideSliders:Boolean,hideInputs:Boolean,mode:{type:String,default:"rgba",validator:e=>Object.keys(bl).includes(e)},modes:{type:Array,default:()=>Object.keys(bl),validator:e=>Array.isArray(e)&&e.every(t=>Object.keys(bl).includes(t))},showSwatches:Boolean,swatches:Array,swatchesMaxHeight:{type:[Number,String],default:150},modelValue:{type:[Object,String]},...zt(g_({width:300}),["height","location","minHeight","maxHeight","minWidth","maxWidth"])},"VColorPicker"),Cre=Ar({name:"VColorPicker",props:Ere(),emits:{"update:modelValue":e=>!0,"update:mode":e=>!0},setup(e){const t=je(e,"mode"),n=z(null),i=je(e,"modelValue",void 0,l=>{if(l==null||l==="")return null;let u;try{u=t_(Lr(l))}catch{return null}return u},l=>l?Bie(l,e.modelValue):null),r=I(()=>i.value?{...i.value,h:n.value??i.value.h}:null),{rtlClasses:s}=Jn();let o=!0;ge(i,l=>{if(!o){o=!0;return}l&&(n.value=l.h)},{immediate:!0});const a=l=>{o=!1,n.value=l.h,i.value=l};return yt(()=>{e.modes.includes(t.value)||(t.value=e.modes[0])}),_n({VSlider:{color:void 0,trackColor:void 0,trackFillColor:void 0}}),ve(()=>{const l=wa.filterProps(e);return h(wa,J({rounded:e.rounded,elevation:e.elevation,theme:e.theme,class:["v-color-picker",s.value,e.class],style:[{"--v-color-picker-color-hsv":$L({...r.value??Lu,a:1})},e.style]},l,{maxWidth:e.width}),{default:()=>[!e.hideCanvas&&h(Fie,{key:"canvas",color:r.value,"onUpdate:color":a,disabled:e.disabled,dotSize:e.dotSize,width:e.width,height:e.canvasHeight},null),(!e.hideSliders||!e.hideInputs)&&h("div",{key:"controls",class:"v-color-picker__controls"},[!e.hideSliders&&h(Jie,{key:"preview",color:r.value,"onUpdate:color":a,hideAlpha:!t.value.endsWith("a"),disabled:e.disabled},null),!e.hideInputs&&h(Gie,{key:"edit",modes:e.modes,mode:t.value,"onUpdate:mode":u=>t.value=u,color:r.value,"onUpdate:color":a,disabled:e.disabled},null)]),e.showSwatches&&h(Sre,{key:"swatches",color:r.value,"onUpdate:color":a,maxHeight:e.swatchesMaxHeight,swatches:e.swatches,disabled:e.disabled},null)]})}),{}}});function kre(e,t,n){if(t==null)return e;if(Array.isArray(t))throw new Error("Multiple matches is not implemented");return typeof t=="number"&&~t?h(Ie,null,[h("span",{class:"v-combobox__unmask"},[e.substr(0,t)]),h("span",{class:"v-combobox__mask"},[e.substr(t,n)]),h("span",{class:"v-combobox__unmask"},[e.substr(t+n)])]):e}const Tre=Z({autoSelectFirst:{type:[Boolean,String]},clearOnSelect:{type:Boolean,default:!0},delimiters:Array,...Xc({filterKeys:["title"]}),...z1({hideNoData:!0,returnObject:!0}),...zt(Kc({modelValue:null,role:"combobox"}),["validationValue","dirty","appendInnerIcon"]),...hs({transition:!1})},"VCombobox"),Ire=de()({name:"VCombobox",props:Tre(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,"update:search":e=>!0,"update:menu":e=>!0},setup(e,t){var Se;let{emit:n,slots:i}=t;const{t:r}=sn(),s=z(),o=Te(!1),a=Te(!0),l=Te(!1),u=z(),d=z(),c=je(e,"menu"),f=I({get:()=>c.value,set:M=>{var L;c.value&&!M&&((L=u.value)!=null&&L.openChildren.size)||(c.value=M)}}),v=Te(-1);let g=!1;const p=I(()=>{var M;return(M=s.value)==null?void 0:M.color}),_=I(()=>f.value?e.closeText:e.openText),{items:y,transformIn:b,transformOut:E}=F1(e),{textColorClasses:k,textColorStyles:R}=ci(p),O=je(e,"modelValue",[],M=>b(vn(M)),M=>{const L=E(M);return e.multiple?L:L[0]??null}),D=$h(),S=I(()=>!!(e.chips||i.chip)),w=I(()=>S.value||!!i.selection),C=Te(!e.multiple&&!w.value?((Se=O.value[0])==null?void 0:Se.title)??"":""),A=I({get:()=>C.value,set:M=>{var L;if(C.value=M??"",!e.multiple&&!w.value&&(O.value=[ta(e,M)]),M&&e.multiple&&((L=e.delimiters)!=null&&L.length)){const ee=M.split(new RegExp(`(?:${e.delimiters.join("|")})+`));ee.length>1&&(ee.forEach(fe=>{fe=fe.trim(),fe&&q(ta(e,fe))}),C.value="")}M||(v.value=-1),a.value=!M}}),P=I(()=>typeof e.counterValue=="function"?e.counterValue(O.value):typeof e.counterValue=="number"?e.counterValue:e.multiple?O.value.length:A.value.length);ge(C,M=>{g?ot(()=>g=!1):o.value&&!f.value&&(f.value=!0),n("update:search",M)}),ge(O,M=>{var L;!e.multiple&&!w.value&&(C.value=((L=M[0])==null?void 0:L.title)??"")});const{filteredItems:x,getMatches:U}=Qc(e,y,()=>a.value?"":A.value),$=I(()=>e.hideSelected?x.value.filter(M=>!O.value.some(L=>L.value===M.value)):x.value),j=I(()=>O.value.map(M=>M.value)),Y=I(()=>{var L;return(e.autoSelectFirst===!0||e.autoSelectFirst==="exact"&&A.value===((L=$.value[0])==null?void 0:L.title))&&$.value.length>0&&!a.value&&!l.value}),W=I(()=>e.hideNoData&&!$.value.length||e.readonly||(D==null?void 0:D.isReadonly.value)),K=z(),G=W1(K,s);function te(M){g=!0,e.openOnClear&&(f.value=!0)}function oe(){W.value||(f.value=!0)}function _e(M){W.value||(o.value&&(M.preventDefault(),M.stopPropagation()),f.value=!f.value)}function Ae(M){var L;hg(M)&&((L=s.value)==null||L.focus())}function Ne(M){var fe;if(FJ(M)||e.readonly||D!=null&&D.isReadonly.value)return;const L=s.value.selectionStart,ee=O.value.length;if((v.value>-1||["Enter","ArrowDown","ArrowUp"].includes(M.key))&&M.preventDefault(),["Enter","ArrowDown"].includes(M.key)&&(f.value=!0),["Escape"].includes(M.key)&&(f.value=!1),["Enter","Escape","Tab"].includes(M.key)&&(Y.value&&["Enter","Tab"].includes(M.key)&&!O.value.some(ae=>{let{value:me}=ae;return me===$.value[0].value})&&q(x.value[0]),a.value=!0),M.key==="ArrowDown"&&Y.value&&((fe=K.value)==null||fe.focus("next")),M.key==="Enter"&&A.value&&(q(ta(e,A.value)),w.value&&(C.value="")),["Backspace","Delete"].includes(M.key)){if(!e.multiple&&w.value&&O.value.length>0&&!A.value)return q(O.value[0],!1);if(~v.value){const ae=v.value;q(O.value[v.value],!1),v.value=ae>=ee-1?ee-2:ae}else M.key==="Backspace"&&!A.value&&(v.value=ee-1)}if(e.multiple){if(M.key==="ArrowLeft"){if(v.value<0&&L>0)return;const ae=v.value>-1?v.value-1:ee-1;O.value[ae]?v.value=ae:(v.value=-1,s.value.setSelectionRange(A.value.length,A.value.length))}if(M.key==="ArrowRight"){if(v.value<0)return;const ae=v.value+1;O.value[ae]?v.value=ae:(v.value=-1,s.value.setSelectionRange(0,0))}}}function Q(){var M;e.eager&&((M=d.value)==null||M.calculateVisibleItems())}function B(){var M;o.value&&(a.value=!0,(M=s.value)==null||M.focus())}function q(M){let L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!(!M||M.props.disabled))if(e.multiple){const ee=O.value.findIndex(ae=>e.valueComparator(ae.value,M.value)),fe=L??!~ee;if(~ee){const ae=fe?[...O.value,M]:[...O.value];ae.splice(ee,1),O.value=ae}else fe&&(O.value=[...O.value,M]);e.clearOnSelect&&(A.value="")}else{const ee=L!==!1;O.value=ee?[M]:[],C.value=ee&&!w.value?M.title:"",ot(()=>{f.value=!1,a.value=!0})}}function ie(M){o.value=!0,setTimeout(()=>{l.value=!0})}function ce(M){l.value=!1}function ne(M){(M==null||M===""&&!e.multiple&&!w.value)&&(O.value=[])}return ge(o,(M,L)=>{if(!(M||M===L)&&(v.value=-1,f.value=!1,A.value)){if(e.multiple){q(ta(e,A.value));return}if(!w.value)return;O.value.some(ee=>{let{title:fe}=ee;return fe===A.value})?C.value="":q(ta(e,A.value))}}),ge(f,()=>{if(!e.hideSelected&&f.value&&O.value.length){const M=$.value.findIndex(L=>O.value.some(ee=>e.valueComparator(ee.value,L.value)));Bt&&window.requestAnimationFrame(()=>{var L;M>=0&&((L=d.value)==null||L.scrollToIndex(M))})}}),ge(()=>e.items,(M,L)=>{f.value||o.value&&!L.length&&M.length&&(f.value=!0)}),ve(()=>{const M=!!(!e.hideNoData||$.value.length||i["prepend-item"]||i["append-item"]||i["no-data"]),L=O.value.length>0,ee=ds.filterProps(e);return h(ds,J({ref:s},ee,{modelValue:A.value,"onUpdate:modelValue":[fe=>A.value=fe,ne],focused:o.value,"onUpdate:focused":fe=>o.value=fe,validationValue:O.externalValue,counterValue:P.value,dirty:L,class:["v-combobox",{"v-combobox--active-menu":f.value,"v-combobox--chips":!!e.chips,"v-combobox--selection-slot":!!w.value,"v-combobox--selecting-index":v.value>-1,[`v-combobox--${e.multiple?"multiple":"single"}`]:!0},e.class],style:e.style,readonly:e.readonly,placeholder:L?void 0:e.placeholder,"onClick:clear":te,"onMousedown:control":oe,onKeydown:Ne}),{...i,default:()=>h(Ie,null,[h(Fl,J({ref:u,modelValue:f.value,"onUpdate:modelValue":fe=>f.value=fe,activator:"parent",contentClass:"v-combobox__content",disabled:W.value,eager:e.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:e.transition,onAfterEnter:Q,onAfterLeave:B},e.menuProps),{default:()=>[M&&h(Sc,J({ref:K,selected:j.value,selectStrategy:e.multiple?"independent":"single-independent",onMousedown:fe=>fe.preventDefault(),onKeydown:Ae,onFocusin:ie,onFocusout:ce,tabindex:"-1","aria-live":"polite",color:e.itemColor??e.color},G,e.listProps),{default:()=>{var fe,ae,me;return[(fe=i["prepend-item"])==null?void 0:fe.call(i),!$.value.length&&!e.hideNoData&&(((ae=i["no-data"])==null?void 0:ae.call(i))??h(cs,{title:r(e.noDataText)},null)),h(h_,{ref:d,renderless:!0,items:$.value},{default:Pe=>{var Me;let{item:Ee,index:Re,itemRef:be}=Pe;const ze=J(Ee.props,{ref:be,key:Re,active:Y.value&&Re===0?!0:void 0,onClick:()=>q(Ee,null)});return((Me=i.item)==null?void 0:Me.call(i,{item:Ee,index:Re,props:ze}))??h(cs,J(ze,{role:"option"}),{prepend:He=>{let{isSelected:Ce}=He;return h(Ie,null,[e.multiple&&!e.hideSelected?h(Ms,{key:Ee.value,modelValue:Ce,ripple:!1,tabindex:"-1"},null):void 0,Ee.props.prependAvatar&&h(Cr,{image:Ee.props.prependAvatar},null),Ee.props.prependIcon&&h(Pt,{icon:Ee.props.prependIcon},null)])},title:()=>{var He,Ce;return a.value?Ee.title:kre(Ee.title,(He=U(Ee))==null?void 0:He.title,((Ce=A.value)==null?void 0:Ce.length)??0)}})}}),(me=i["append-item"])==null?void 0:me.call(i)]}})]}),O.value.map((fe,ae)=>{function me(be){be.stopPropagation(),be.preventDefault(),q(fe,!1)}const Pe={"onClick:close":me,onKeydown(be){be.key!=="Enter"&&be.key!==" "||(be.preventDefault(),be.stopPropagation(),me(be))},onMousedown(be){be.preventDefault(),be.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0},Ee=S.value?!!i.chip:!!i.selection,Re=Ee?e_(S.value?i.chip({item:fe,index:ae,props:Pe}):i.selection({item:fe,index:ae})):void 0;if(!(Ee&&!Re))return h("div",{key:fe.value,class:["v-combobox__selection",ae===v.value&&["v-combobox__selection--selected",k.value]],style:ae===v.value?R.value:{}},[S.value?i.chip?h(at,{key:"chip-defaults",defaults:{VChip:{closable:e.closableChips,size:"small",text:fe.title}}},{default:()=>[Re]}):h(au,J({key:"chip",closable:e.closableChips,size:"small",text:fe.title,disabled:fe.props.disabled},Pe),null):Re??h("span",{class:"v-combobox__selection-text"},[fe.title,e.multiple&&ae<O.value.length-1&&h("span",{class:"v-combobox__selection-comma"},[xe(",")])])])})]),"append-inner":function(){var Pe;for(var fe=arguments.length,ae=new Array(fe),me=0;me<fe;me++)ae[me]=arguments[me];return h(Ie,null,[(Pe=i["append-inner"])==null?void 0:Pe.call(i,...ae),(!e.hideNoData||e.items.length)&&e.menuIcon?h(Pt,{class:"v-combobox__menu-icon",icon:e.menuIcon,onMousedown:_e,onClick:DL,"aria-label":r(_.value),title:r(_.value),tabindex:"-1"},null):void 0])}})}),Rr({isFocused:o,isPristine:a,menu:f,search:A,selectionIndex:v,filteredItems:x,select:q},s)}}),M$=Z({modelValue:null,color:String,cancelText:{type:String,default:"$vuetify.confirmEdit.cancel"},okText:{type:String,default:"$vuetify.confirmEdit.ok"}},"VConfirmEdit"),nw=de()({name:"VConfirmEdit",props:M$(),emits:{cancel:()=>!0,save:e=>!0,"update:modelValue":e=>!0},setup(e,t){let{emit:n,slots:i}=t;const r=je(e,"modelValue"),s=z();rn(()=>{s.value=structuredClone(Ge(r.value))});const{t:o}=sn(),a=I(()=>js(r.value,s.value));function l(){r.value=s.value,n("save",s.value)}function u(){s.value=structuredClone(Ge(r.value)),n("cancel")}let d=!1;return ve(()=>{var f;const c=h(Ie,null,[h(dt,{disabled:a.value,variant:"text",color:e.color,onClick:u,text:o(e.cancelText)},null),h(dt,{disabled:a.value,variant:"text",color:e.color,onClick:l,text:o(e.okText)},null)]);return h(Ie,null,[(f=i.default)==null?void 0:f.call(i,{model:s,save:l,cancel:u,isPristine:a.value,get actions(){return d=!0,c}}),!d&&c])}),{save:l,cancel:u,isPristine:a}}}),L$=Z({expandOnClick:Boolean,showExpand:Boolean,expanded:{type:Array,default:()=>[]}},"DataTable-expand"),F$=Symbol.for("vuetify:datatable:expanded");function p_(e){const t=ue(e,"expandOnClick"),n=je(e,"expanded",e.expanded,a=>new Set(a),a=>[...a.values()]);function i(a,l){const u=new Set(n.value);l?u.add(a.value):u.delete(a.value),n.value=u}function r(a){return n.value.has(a.value)}function s(a){i(a,!r(a))}const o={expand:i,expanded:n,expandOnClick:t,isExpanded:r,toggleExpand:s};return Ut(F$,o),o}function $$(){const e=st(F$);if(!e)throw new Error("foo");return e}const K1=Z({groupBy:{type:Array,default:()=>[]}},"DataTable-group"),B$=Symbol.for("vuetify:data-table-group");function X1(e){return{groupBy:je(e,"groupBy")}}function __(e){const{disableSort:t,groupBy:n,sortBy:i}=e,r=z(new Set),s=I(()=>n.value.map(d=>({...d,order:d.order??!1})).concat(t!=null&&t.value?[]:i.value));function o(d){return r.value.has(d.id)}function a(d){const c=new Set(r.value);o(d)?c.delete(d.id):c.add(d.id),r.value=c}function l(d){function c(f){const v=[];for(const g of f.items)"type"in g&&g.type==="group"?v.push(...c(g)):v.push(g);return v}return c({type:"group",items:d,id:"dummy",key:"dummy",value:"dummy",depth:0})}const u={sortByWithGroups:s,toggleGroup:a,opened:r,groupBy:n,extractRows:l,isGroupOpen:o};return Ut(B$,u),u}function U$(){const e=st(B$);if(!e)throw new Error("Missing group!");return e}function Are(e,t){if(!e.length)return[];const n=new Map;for(const i of e){const r=Ll(i.raw,t);n.has(r)||n.set(r,[]),n.get(r).push(i)}return n}function j$(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"root";if(!t.length)return[];const r=Are(e,t[0]),s=[],o=t.slice(1);return r.forEach((a,l)=>{const u=t[0],d=`${i}_${u}_${l}`;s.push({depth:n,id:d,key:u,value:l,items:o.length?j$(a,o,n+1,d):a,type:"group"})}),s}function H$(e,t){const n=[];for(const i of e)"type"in i&&i.type==="group"?(i.value!=null&&n.push(i),(t.has(i.id)||i.value==null)&&n.push(...H$(i.items,t))):n.push(i);return n}function y_(e,t,n){return{flatItems:I(()=>{if(!t.value.length)return e.value;const r=j$(e.value,t.value.map(s=>s.key));return H$(r,n.value)})}}function b_(e){let{page:t,itemsPerPage:n,sortBy:i,groupBy:r,search:s}=e;const o=Rn("VDataTable"),a=I(()=>({page:t.value,itemsPerPage:n.value,sortBy:i.value,groupBy:r.value,search:s.value}));let l=null;ge(a,()=>{js(l,a.value)||(l&&l.search!==a.value.search&&(t.value=1),o.emit("update:options",a.value),l=a.value)},{deep:!0,immediate:!0})}const Q1=Z({page:{type:[Number,String],default:1},itemsPerPage:{type:[Number,String],default:10}},"DataTable-paginate"),W$=Symbol.for("vuetify:data-table-pagination");function J1(e){const t=je(e,"page",void 0,i=>+(i??1)),n=je(e,"itemsPerPage",void 0,i=>+(i??10));return{page:t,itemsPerPage:n}}function Z1(e){const{page:t,itemsPerPage:n,itemsLength:i}=e,r=I(()=>n.value===-1?0:n.value*(t.value-1)),s=I(()=>n.value===-1?i.value:Math.min(i.value,r.value+n.value)),o=I(()=>n.value===-1||i.value===0?1:Math.ceil(i.value/n.value));rn(()=>{t.value>o.value&&(t.value=o.value)});function a(f){n.value=f,t.value=1}function l(){t.value=kn(t.value+1,1,o.value)}function u(){t.value=kn(t.value-1,1,o.value)}function d(f){t.value=kn(f,1,o.value)}const c={page:t,itemsPerPage:n,startIndex:r,stopIndex:s,pageCount:o,itemsLength:i,nextPage:l,prevPage:u,setPage:d,setItemsPerPage:a};return Ut(W$,c),c}function Pre(){const e=st(W$);if(!e)throw new Error("Missing pagination!");return e}function z$(e){const t=Rn("usePaginatedItems"),{items:n,startIndex:i,stopIndex:r,itemsPerPage:s}=e,o=I(()=>s.value<=0?n.value:n.value.slice(i.value,r.value));return ge(o,a=>{t.emit("update:currentItems",a)}),{paginatedItems:o}}const xre={showSelectAll:!1,allSelected:()=>[],select:e=>{var i;let{items:t,value:n}=e;return new Set(n?[(i=t[0])==null?void 0:i.value]:[])},selectAll:e=>{let{selected:t}=e;return t}},G$={showSelectAll:!0,allSelected:e=>{let{currentPage:t}=e;return t},select:e=>{let{items:t,value:n,selected:i}=e;for(const r of t)n?i.add(r.value):i.delete(r.value);return i},selectAll:e=>{let{value:t,currentPage:n,selected:i}=e;return G$.select({items:n,value:t,selected:i})}},q$={showSelectAll:!0,allSelected:e=>{let{allItems:t}=e;return t},select:e=>{let{items:t,value:n,selected:i}=e;for(const r of t)n?i.add(r.value):i.delete(r.value);return i},selectAll:e=>{let{value:t,allItems:n,selected:i}=e;return q$.select({items:n,value:t,selected:i})}},Y$=Z({showSelect:Boolean,selectStrategy:{type:[String,Object],default:"page"},modelValue:{type:Array,default:()=>[]},valueComparator:{type:Function,default:js}},"DataTable-select"),K$=Symbol.for("vuetify:data-table-selection");function w_(e,t){let{allItems:n,currentPage:i}=t;const r=je(e,"modelValue",e.modelValue,y=>new Set(vn(y).map(b=>{var E;return((E=n.value.find(k=>e.valueComparator(b,k.value)))==null?void 0:E.value)??b})),y=>[...y.values()]),s=I(()=>n.value.filter(y=>y.selectable)),o=I(()=>i.value.filter(y=>y.selectable)),a=I(()=>{if(typeof e.selectStrategy=="object")return e.selectStrategy;switch(e.selectStrategy){case"single":return xre;case"all":return q$;case"page":default:return G$}});function l(y){return vn(y).every(b=>r.value.has(b.value))}function u(y){return vn(y).some(b=>r.value.has(b.value))}function d(y,b){const E=a.value.select({items:y,value:b,selected:new Set(r.value)});r.value=E}function c(y){d([y],!l([y]))}function f(y){const b=a.value.selectAll({value:y,allItems:s.value,currentPage:o.value,selected:new Set(r.value)});r.value=b}const v=I(()=>r.value.size>0),g=I(()=>{const y=a.value.allSelected({allItems:s.value,currentPage:o.value});return!!y.length&&l(y)}),p=I(()=>a.value.showSelectAll),_={toggleSelect:c,select:d,selectAll:f,isSelected:l,isSomeSelected:u,someSelected:v,allSelected:g,showSelectAll:p};return Ut(K$,_),_}function S_(){const e=st(K$);if(!e)throw new Error("Missing selection!");return e}const X$=Z({sortBy:{type:Array,default:()=>[]},customKeySort:Object,multiSort:Boolean,mustSort:Boolean},"DataTable-sort"),Q$=Symbol.for("vuetify:data-table-sort");function E_(e){const t=je(e,"sortBy"),n=ue(e,"mustSort"),i=ue(e,"multiSort");return{sortBy:t,mustSort:n,multiSort:i}}function C_(e){const{sortBy:t,mustSort:n,multiSort:i,page:r}=e,s=l=>{if(l.key==null)return;let u=t.value.map(c=>({...c}))??[];const d=u.find(c=>c.key===l.key);d?d.order==="desc"?n.value?d.order="asc":u=u.filter(c=>c.key!==l.key):d.order="desc":i.value?u=[...u,{key:l.key,order:"asc"}]:u=[{key:l.key,order:"asc"}],t.value=u,r&&(r.value=1)};function o(l){return!!t.value.find(u=>u.key===l.key)}const a={sortBy:t,toggleSort:s,isSorted:o};return Ut(Q$,a),a}function J$(){const e=st(Q$);if(!e)throw new Error("Missing sort!");return e}function eC(e,t,n,i){const r=sn();return{sortedItems:I(()=>{var o,a;return n.value.length?Dre(t.value,n.value,r.current.value,{transform:i==null?void 0:i.transform,sortFunctions:{...e.customKeySort,...(o=i==null?void 0:i.sortFunctions)==null?void 0:o.value},sortRawFunctions:(a=i==null?void 0:i.sortRawFunctions)==null?void 0:a.value}):t.value})}}function Dre(e,t,n,i){const r=new Intl.Collator(n,{sensitivity:"accent",usage:"sort"});return e.map(o=>[o,i!=null&&i.transform?i.transform(o):o]).sort((o,a)=>{var l,u;for(let d=0;d<t.length;d++){let c=!1;const f=t[d].key,v=t[d].order??"asc";if(v===!1)continue;let g=Ll(o[1],f),p=Ll(a[1],f),_=o[0].raw,y=a[0].raw;if(v==="desc"&&([g,p]=[p,g],[_,y]=[y,_]),(l=i==null?void 0:i.sortRawFunctions)!=null&&l[f]){const b=i.sortRawFunctions[f](_,y);if(b==null)continue;if(c=!0,b)return b}if((u=i==null?void 0:i.sortFunctions)!=null&&u[f]){const b=i.sortFunctions[f](g,p);if(b==null)continue;if(c=!0,b)return b}if(!c){if(g instanceof Date&&p instanceof Date)return g.getTime()-p.getTime();if([g,p]=[g,p].map(b=>b!=null?b.toString().toLocaleLowerCase():b),g!==p)return xv(g)&&xv(p)?0:xv(g)?-1:xv(p)?1:!isNaN(g)&&!isNaN(p)?Number(g)-Number(p):r.compare(g,p)}}return 0}).map(o=>{let[a]=o;return a})}const Rre=Z({items:{type:Array,default:()=>[]},itemValue:{type:[String,Array,Function],default:"id"},itemSelectable:{type:[String,Array,Function],default:null},returnObject:Boolean},"DataIterator-items");function Ore(e,t){const n=e.returnObject?t:jn(t,e.itemValue),i=jn(t,e.itemSelectable,!0);return{type:"item",value:n,selectable:i,raw:t}}function Vre(e,t){const n=[];for(const i of t)n.push(Ore(e,i));return n}function Nre(e){return{items:I(()=>Vre(e,e.items))}}const Mre=Z({search:String,loading:Boolean,...$e(),...Rre(),...Y$(),...X$(),...Q1({itemsPerPage:5}),...L$(),...K1(),...Xc(),...ut(),...hs({transition:{component:$f,hideOnLeave:!0}})},"VDataIterator"),Lre=de()({name:"VDataIterator",props:Mre(),emits:{"update:modelValue":e=>!0,"update:groupBy":e=>!0,"update:page":e=>!0,"update:itemsPerPage":e=>!0,"update:sortBy":e=>!0,"update:options":e=>!0,"update:expanded":e=>!0,"update:currentItems":e=>!0},setup(e,t){let{slots:n}=t;const i=je(e,"groupBy"),r=ue(e,"search"),{items:s}=Nre(e),{filteredItems:o}=Qc(e,s,r,{transform:te=>te.raw}),{sortBy:a,multiSort:l,mustSort:u}=E_(e),{page:d,itemsPerPage:c}=J1(e),{toggleSort:f}=C_({sortBy:a,multiSort:l,mustSort:u,page:d}),{sortByWithGroups:v,opened:g,extractRows:p,isGroupOpen:_,toggleGroup:y}=__({groupBy:i,sortBy:a}),{sortedItems:b}=eC(e,o,v,{transform:te=>te.raw}),{flatItems:E}=y_(b,i,g),k=I(()=>E.value.length),{startIndex:R,stopIndex:O,pageCount:D,prevPage:S,nextPage:w,setItemsPerPage:C,setPage:A}=Z1({page:d,itemsPerPage:c,itemsLength:k}),{paginatedItems:P}=z$({items:E,startIndex:R,stopIndex:O,itemsPerPage:c}),x=I(()=>p(P.value)),{isSelected:U,select:$,selectAll:j,toggleSelect:Y}=w_(e,{allItems:s,currentPage:x}),{isExpanded:W,toggleExpand:K}=p_(e);b_({page:d,itemsPerPage:c,sortBy:a,groupBy:i,search:r});const G=I(()=>({page:d.value,itemsPerPage:c.value,sortBy:a.value,pageCount:D.value,toggleSort:f,prevPage:S,nextPage:w,setPage:A,setItemsPerPage:C,isSelected:U,select:$,selectAll:j,toggleSelect:Y,isExpanded:W,toggleExpand:K,isGroupOpen:_,toggleGroup:y,items:x.value,groupedItems:P.value}));return ve(()=>h(e.tag,{class:["v-data-iterator",{"v-data-iterator--loading":e.loading},e.class],style:e.style},{default:()=>{var te,oe;return[(te=n.header)==null?void 0:te.call(n,G.value),h($i,{transition:e.transition},{default:()=>{var _e,Ae;return[e.loading?h(Lh,{key:"loader",name:"v-data-iterator",active:!0},{default:Ne=>{var Q;return(Q=n.loader)==null?void 0:Q.call(n,Ne)}}):h("div",{key:"items"},[P.value.length?(Ae=n.default)==null?void 0:Ae.call(n,G.value):(_e=n["no-data"])==null?void 0:_e.call(n)])]}}),(oe=n.footer)==null?void 0:oe.call(n,G.value)]}})),{}}});function Fre(){const e=z([]);TO(()=>e.value=[]);function t(n,i){e.value[i]=n}return{refs:e,updateRef:t}}const $re=Z({activeColor:String,start:{type:[Number,String],default:1},modelValue:{type:Number,default:e=>e.start},disabled:Boolean,length:{type:[Number,String],default:1,validator:e=>e%1===0},totalVisible:[Number,String],firstIcon:{type:Je,default:"$first"},prevIcon:{type:Je,default:"$prev"},nextIcon:{type:Je,default:"$next"},lastIcon:{type:Je,default:"$last"},ariaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.root"},pageAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.page"},currentPageAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.currentPage"},firstAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.first"},previousAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.previous"},nextAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.next"},lastAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.last"},ellipsis:{type:String,default:"..."},showFirstLastPage:Boolean,...cr(),...$e(),...ri(),...Zn(),...yn(),...zs(),...ut({tag:"nav"}),...Ct(),...Hr({variant:"text"})},"VPagination"),iw=de()({name:"VPagination",props:$re(),emits:{"update:modelValue":e=>!0,first:e=>!0,prev:e=>!0,next:e=>!0,last:e=>!0},setup(e,t){let{slots:n,emit:i}=t;const r=je(e,"modelValue"),{t:s,n:o}=sn(),{isRtl:a}=Jn(),{themeClasses:l}=Ft(e),{width:u}=Pr(),d=Te(-1);_n(void 0,{scoped:!0});const{resizeRef:c}=us(S=>{if(!S.length)return;const{target:w,contentRect:C}=S[0],A=w.querySelector(".v-pagination__list > *");if(!A)return;const P=C.width,x=A.offsetWidth+parseFloat(getComputedStyle(A).marginRight)*2;d.value=p(P,x)}),f=I(()=>parseInt(e.length,10)),v=I(()=>parseInt(e.start,10)),g=I(()=>e.totalVisible!=null?parseInt(e.totalVisible,10):d.value>=0?d.value:p(u.value,58));function p(S,w){const C=e.showFirstLastPage?5:3;return Math.max(0,Math.floor(+((S-w*C)/w).toFixed(2)))}const _=I(()=>{if(f.value<=0||isNaN(f.value)||f.value>Number.MAX_SAFE_INTEGER)return[];if(g.value<=0)return[];if(g.value===1)return[r.value];if(f.value<=g.value)return br(f.value,v.value);const S=g.value%2===0,w=S?g.value/2:Math.floor(g.value/2),C=S?w:w+1,A=f.value-w;if(C-r.value>=0)return[...br(Math.max(1,g.value-1),v.value),e.ellipsis,f.value];if(r.value-A>=(S?1:0)){const P=g.value-1,x=f.value-P+v.value;return[v.value,e.ellipsis,...br(P,x)]}else{const P=Math.max(1,g.value-3),x=P===1?r.value:r.value-Math.ceil(P/2)+v.value;return[v.value,e.ellipsis,...br(P,x),e.ellipsis,f.value]}});function y(S,w,C){S.preventDefault(),r.value=w,C&&i(C,w)}const{refs:b,updateRef:E}=Fre();_n({VPaginationBtn:{color:ue(e,"color"),border:ue(e,"border"),density:ue(e,"density"),size:ue(e,"size"),variant:ue(e,"variant"),rounded:ue(e,"rounded"),elevation:ue(e,"elevation")}});const k=I(()=>_.value.map((S,w)=>{const C=A=>E(A,w);if(typeof S=="string")return{isActive:!1,key:`ellipsis-${w}`,page:S,props:{ref:C,ellipsis:!0,icon:!0,disabled:!0}};{const A=S===r.value;return{isActive:A,key:S,page:o(S),props:{ref:C,ellipsis:!1,icon:!0,disabled:!!e.disabled||+e.length<2,color:A?e.activeColor:e.color,"aria-current":A,"aria-label":s(A?e.currentPageAriaLabel:e.pageAriaLabel,S),onClick:P=>y(P,S)}}}})),R=I(()=>{const S=!!e.disabled||r.value<=v.value,w=!!e.disabled||r.value>=v.value+f.value-1;return{first:e.showFirstLastPage?{icon:a.value?e.lastIcon:e.firstIcon,onClick:C=>y(C,v.value,"first"),disabled:S,"aria-label":s(e.firstAriaLabel),"aria-disabled":S}:void 0,prev:{icon:a.value?e.nextIcon:e.prevIcon,onClick:C=>y(C,r.value-1,"prev"),disabled:S,"aria-label":s(e.previousAriaLabel),"aria-disabled":S},next:{icon:a.value?e.prevIcon:e.nextIcon,onClick:C=>y(C,r.value+1,"next"),disabled:w,"aria-label":s(e.nextAriaLabel),"aria-disabled":w},last:e.showFirstLastPage?{icon:a.value?e.firstIcon:e.lastIcon,onClick:C=>y(C,v.value+f.value-1,"last"),disabled:w,"aria-label":s(e.lastAriaLabel),"aria-disabled":w}:void 0}});function O(){var w;const S=r.value-v.value;(w=b.value[S])==null||w.$el.focus()}function D(S){S.key===D0.left&&!e.disabled&&r.value>+e.start?(r.value=r.value-1,ot(O)):S.key===D0.right&&!e.disabled&&r.value<v.value+f.value-1&&(r.value=r.value+1,ot(O))}return ve(()=>h(e.tag,{ref:c,class:["v-pagination",l.value,e.class],style:e.style,role:"navigation","aria-label":s(e.ariaLabel),onKeydown:D,"data-test":"v-pagination-root"},{default:()=>[h("ul",{class:"v-pagination__list"},[e.showFirstLastPage&&h("li",{key:"first",class:"v-pagination__first","data-test":"v-pagination-first"},[n.first?n.first(R.value.first):h(dt,J({_as:"VPaginationBtn"},R.value.first),null)]),h("li",{key:"prev",class:"v-pagination__prev","data-test":"v-pagination-prev"},[n.prev?n.prev(R.value.prev):h(dt,J({_as:"VPaginationBtn"},R.value.prev),null)]),k.value.map((S,w)=>h("li",{key:S.key,class:["v-pagination__item",{"v-pagination__item--is-active":S.isActive}],"data-test":"v-pagination-item"},[n.item?n.item(S):h(dt,J({_as:"VPaginationBtn"},S.props),{default:()=>[S.page]})])),h("li",{key:"next",class:"v-pagination__next","data-test":"v-pagination-next"},[n.next?n.next(R.value.next):h(dt,J({_as:"VPaginationBtn"},R.value.next),null)]),e.showFirstLastPage&&h("li",{key:"last",class:"v-pagination__last","data-test":"v-pagination-last"},[n.last?n.last(R.value.last):h(dt,J({_as:"VPaginationBtn"},R.value.last),null)])])]})),{}}}),tC=Z({prevIcon:{type:Je,default:"$prev"},nextIcon:{type:Je,default:"$next"},firstIcon:{type:Je,default:"$first"},lastIcon:{type:Je,default:"$last"},itemsPerPageText:{type:String,default:"$vuetify.dataFooter.itemsPerPageText"},pageText:{type:String,default:"$vuetify.dataFooter.pageText"},firstPageLabel:{type:String,default:"$vuetify.dataFooter.firstPage"},prevPageLabel:{type:String,default:"$vuetify.dataFooter.prevPage"},nextPageLabel:{type:String,default:"$vuetify.dataFooter.nextPage"},lastPageLabel:{type:String,default:"$vuetify.dataFooter.lastPage"},itemsPerPageOptions:{type:Array,default:()=>[{value:10,title:"10"},{value:25,title:"25"},{value:50,title:"50"},{value:100,title:"100"},{value:-1,title:"$vuetify.dataFooter.itemsPerPageAll"}]},showCurrentPage:Boolean},"VDataTableFooter"),Gf=de()({name:"VDataTableFooter",props:tC(),setup(e,t){let{slots:n}=t;const{t:i}=sn(),{page:r,pageCount:s,startIndex:o,stopIndex:a,itemsLength:l,itemsPerPage:u,setItemsPerPage:d}=Pre(),c=I(()=>e.itemsPerPageOptions.map(f=>typeof f=="number"?{value:f,title:f===-1?i("$vuetify.dataFooter.itemsPerPageAll"):String(f)}:{...f,title:isNaN(Number(f.title))?i(f.title):f.title}));return ve(()=>{var v;const f=iw.filterProps(e);return h("div",{class:"v-data-table-footer"},[(v=n.prepend)==null?void 0:v.call(n),h("div",{class:"v-data-table-footer__items-per-page"},[h("span",null,[i(e.itemsPerPageText)]),h(G1,{items:c.value,modelValue:u.value,"onUpdate:modelValue":g=>d(Number(g)),density:"compact",variant:"outlined","hide-details":!0},null)]),h("div",{class:"v-data-table-footer__info"},[h("div",null,[i(e.pageText,l.value?o.value+1:0,a.value,l.value)])]),h("div",{class:"v-data-table-footer__pagination"},[h(iw,J({modelValue:r.value,"onUpdate:modelValue":g=>r.value=g,density:"comfortable","first-aria-label":e.firstPageLabel,"last-aria-label":e.lastPageLabel,length:s.value,"next-aria-label":e.nextPageLabel,"previous-aria-label":e.prevPageLabel,rounded:!0,"show-first-last-page":!0,"total-visible":e.showCurrentPage?1:0,variant:"plain"},f),null)])])}),{}}}),_g=yZ({align:{type:String,default:"start"},fixed:Boolean,fixedOffset:[Number,String],height:[Number,String],lastFixed:Boolean,noPadding:Boolean,tag:String,width:[Number,String],maxWidth:[Number,String],nowrap:Boolean},(e,t)=>{let{slots:n}=t;const i=e.tag??"td";return h(i,{class:["v-data-table__td",{"v-data-table-column--fixed":e.fixed,"v-data-table-column--last-fixed":e.lastFixed,"v-data-table-column--no-padding":e.noPadding,"v-data-table-column--nowrap":e.nowrap},`v-data-table-column--align-${e.align}`],style:{height:Ve(e.height),width:Ve(e.width),maxWidth:Ve(e.maxWidth),left:Ve(e.fixedOffset||null)}},{default:()=>{var r;return[(r=n.default)==null?void 0:r.call(n)]}})}),Bre=Z({headers:Array},"DataTable-header"),Z$=Symbol.for("vuetify:data-table-headers"),eB={title:"",sortable:!1},Ure={...eB,width:48};function jre(){const t=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]).map(n=>({element:n,priority:0}));return{enqueue:(n,i)=>{let r=!1;for(let s=0;s<t.length;s++)if(t[s].priority>i){t.splice(s,0,{element:n,priority:i}),r=!0;break}r||t.push({element:n,priority:i})},size:()=>t.length,count:()=>{let n=0;if(!t.length)return 0;const i=Math.floor(t[0].priority);for(let r=0;r<t.length;r++)Math.floor(t[r].priority)===i&&(n+=1);return n},dequeue:()=>t.shift()}}function rw(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];if(!e.children)t.push(e);else for(const n of e.children)rw(n,t);return t}function tB(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:new Set;for(const n of e)n.key&&t.add(n.key),n.children&&tB(n.children,t);return t}function Hre(e){if(e.key){if(e.key==="data-table-group")return eB;if(["data-table-expand","data-table-select"].includes(e.key))return Ure}}function nC(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return e.children?Math.max(t,...e.children.map(n=>nC(n,t+1))):t}function Wre(e){let t=!1;function n(s){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(s)if(o&&(s.fixed=!0),s.fixed)if(s.children)for(let a=s.children.length-1;a>=0;a--)n(s.children[a],!0);else t?isNaN(+s.width)&&(`${s.key}`,void 0):s.lastFixed=!0,t=!0;else if(s.children)for(let a=s.children.length-1;a>=0;a--)n(s.children[a]);else t=!1}for(let s=e.length-1;s>=0;s--)n(e[s]);function i(s){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(!s)return o;if(s.children){s.fixedOffset=o;for(const a of s.children)o=i(a,o)}else s.fixed&&(s.fixedOffset=o,o+=parseFloat(s.width||"0")||0);return o}let r=0;for(const s of e)r=i(s,r)}function zre(e,t){const n=[];let i=0;const r=jre(e);for(;r.size()>0;){let o=r.count();const a=[];let l=1;for(;o>0;){const{element:u,priority:d}=r.dequeue(),c=t-i-nC(u);if(a.push({...u,rowspan:c??1,colspan:u.children?rw(u).length:1}),u.children)for(const f of u.children){const v=d%1+l/Math.pow(10,i+2);r.enqueue(f,i+c+v)}l+=1,o-=1}i+=1,n.push(a)}return{columns:e.map(o=>rw(o)).flat(),headers:n}}function nB(e){const t=[];for(const n of e){const i={...Hre(n),...n},r=i.key??(typeof i.value=="string"?i.value:null),s=i.value??r??null,o={...i,key:r,value:s,sortable:i.sortable??(i.key!=null||!!i.sort),children:i.children?nB(i.children):void 0};t.push(o)}return t}function iC(e,t){const n=z([]),i=z([]),r=z({}),s=z({}),o=z({});rn(()=>{var p,_,y;const u=(e.headers||Object.keys(e.items[0]??{}).map(b=>({key:b,title:Fs(b)}))).slice(),d=tB(u);(p=t==null?void 0:t.groupBy)!=null&&p.value.length&&!d.has("data-table-group")&&u.unshift({key:"data-table-group",title:"Group"}),(_=t==null?void 0:t.showSelect)!=null&&_.value&&!d.has("data-table-select")&&u.unshift({key:"data-table-select"}),(y=t==null?void 0:t.showExpand)!=null&&y.value&&!d.has("data-table-expand")&&u.push({key:"data-table-expand"});const c=nB(u);Wre(c);const f=Math.max(...c.map(b=>nC(b)))+1,v=zre(c,f);n.value=v.headers,i.value=v.columns;const g=v.headers.flat(1);for(const b of g)b.key&&(b.sortable&&(b.sort&&(r.value[b.key]=b.sort),b.sortRaw&&(s.value[b.key]=b.sortRaw)),b.filter&&(o.value[b.key]=b.filter))});const a={headers:n,columns:i,sortFunctions:r,sortRawFunctions:s,filterFunctions:o};return Ut(Z$,a),a}function k_(){const e=st(Z$);if(!e)throw new Error("Missing headers!");return e}const iB=Z({color:String,sticky:Boolean,disableSort:Boolean,multiSort:Boolean,sortAscIcon:{type:Je,default:"$sortAsc"},sortDescIcon:{type:Je,default:"$sortDesc"},headerProps:{type:Object},...Jl(),...u_()},"VDataTableHeaders"),Ul=de()({name:"VDataTableHeaders",props:iB(),setup(e,t){let{slots:n}=t;const{t:i}=sn(),{toggleSort:r,sortBy:s,isSorted:o}=J$(),{someSelected:a,allSelected:l,selectAll:u,showSelectAll:d}=S_(),{columns:c,headers:f}=k_(),{loaderClasses:v}=Mh(e);function g(S,w){if(!(!e.sticky&&!S.fixed))return{position:"sticky",left:S.fixed?Ve(S.fixedOffset):void 0,top:e.sticky?`calc(var(--v-table-header-height) * ${w})`:void 0}}function p(S){const w=s.value.find(C=>C.key===S.key);return w?w.order==="asc"?e.sortAscIcon:e.sortDescIcon:e.sortAscIcon}const{backgroundColorClasses:_,backgroundColorStyles:y}=Gt(e,"color"),{displayClasses:b,mobile:E}=Pr(e),k=I(()=>({headers:f.value,columns:c.value,toggleSort:r,isSorted:o,sortBy:s.value,someSelected:a.value,allSelected:l.value,selectAll:u,getSortIcon:p})),R=I(()=>["v-data-table__th",{"v-data-table__th--sticky":e.sticky},b.value,v.value]),O=S=>{let{column:w,x:C,y:A}=S;const P=w.key==="data-table-select"||w.key==="data-table-expand",x=J(e.headerProps??{},w.headerProps??{});return h(_g,J({tag:"th",align:w.align,class:[{"v-data-table__th--sortable":w.sortable&&!e.disableSort,"v-data-table__th--sorted":o(w),"v-data-table__th--fixed":w.fixed},...R.value],style:{width:Ve(w.width),minWidth:Ve(w.minWidth),maxWidth:Ve(w.maxWidth),...g(w,A)},colspan:w.colspan,rowspan:w.rowspan,onClick:w.sortable?()=>r(w):void 0,fixed:w.fixed,nowrap:w.nowrap,lastFixed:w.lastFixed,noPadding:P},x),{default:()=>{var j;const U=`header.${w.key}`,$={column:w,selectAll:u,isSorted:o,toggleSort:r,sortBy:s.value,someSelected:a.value,allSelected:l.value,getSortIcon:p};return n[U]?n[U]($):w.key==="data-table-select"?((j=n["header.data-table-select"])==null?void 0:j.call(n,$))??(d.value&&h(Ms,{modelValue:l.value,indeterminate:a.value&&!l.value,"onUpdate:modelValue":u},null)):h("div",{class:"v-data-table-header__content"},[h("span",null,[w.title]),w.sortable&&!e.disableSort&&h(Pt,{key:"icon",class:"v-data-table-header__sort-icon",icon:p(w)},null),e.multiSort&&o(w)&&h("div",{key:"badge",class:["v-data-table-header__sort-badge",..._.value],style:y.value},[s.value.findIndex(Y=>Y.key===w.key)+1])])}})},D=()=>{const S=J(e.headerProps??{}??{}),w=I(()=>c.value.filter(A=>(A==null?void 0:A.sortable)&&!e.disableSort)),C=I(()=>{if(c.value.find(P=>P.key==="data-table-select")!=null)return l.value?"$checkboxOn":a.value?"$checkboxIndeterminate":"$checkboxOff"});return h(_g,J({tag:"th",class:[...R.value],colspan:f.value.length+1},S),{default:()=>[h("div",{class:"v-data-table-header__content"},[h(G1,{chips:!0,class:"v-data-table__td-sort-select",clearable:!0,density:"default",items:w.value,label:i("$vuetify.dataTable.sortBy"),multiple:e.multiSort,variant:"underlined","onClick:clear":()=>s.value=[],appendIcon:C.value,"onClick:append":()=>u(!l.value)},{...n,chip:A=>{var P;return h(au,{onClick:(P=A.item.raw)!=null&&P.sortable?()=>r(A.item.raw):void 0,onMousedown:x=>{x.preventDefault(),x.stopPropagation()}},{default:()=>[A.item.title,h(Pt,{class:["v-data-table__td-sort-icon",o(A.item.raw)&&"v-data-table__td-sort-icon-active"],icon:p(A.item.raw),size:"small"},null)]})}})])]})};ve(()=>E.value?h("tr",null,[h(D,null,null)]):h(Ie,null,[n.headers?n.headers(k.value):f.value.map((S,w)=>h("tr",null,[S.map((C,A)=>h(O,{column:C,x:A,y:w},null))])),e.loading&&h("tr",{class:"v-data-table-progress"},[h("th",{colspan:c.value.length},[h(Lh,{name:"v-data-table-progress",absolute:!0,active:!0,color:typeof e.loading=="boolean"?void 0:e.loading,indeterminate:!0},{default:n.loader})])])]))}}),Gre=Z({item:{type:Object,required:!0}},"VDataTableGroupHeaderRow"),qre=de()({name:"VDataTableGroupHeaderRow",props:Gre(),setup(e,t){let{slots:n}=t;const{isGroupOpen:i,toggleGroup:r,extractRows:s}=U$(),{isSelected:o,isSomeSelected:a,select:l}=S_(),{columns:u}=k_(),d=I(()=>s([e.item]));return()=>h("tr",{class:"v-data-table-group-header-row",style:{"--v-data-table-group-header-row-depth":e.item.depth}},[u.value.map(c=>{var f,v;if(c.key==="data-table-group"){const g=i(e.item)?"$expand":"$next",p=()=>r(e.item);return((f=n["data-table-group"])==null?void 0:f.call(n,{item:e.item,count:d.value.length,props:{icon:g,onClick:p}}))??h(_g,{class:"v-data-table-group-header-row__column"},{default:()=>[h(dt,{size:"small",variant:"text",icon:g,onClick:p},null),h("span",null,[e.item.value]),h("span",null,[xe("("),d.value.length,xe(")")])]})}if(c.key==="data-table-select"){const g=o(d.value),p=a(d.value)&&!g,_=y=>l(d.value,y);return((v=n["data-table-select"])==null?void 0:v.call(n,{props:{modelValue:g,indeterminate:p,"onUpdate:modelValue":_}}))??h("td",null,[h(Ms,{modelValue:g,indeterminate:p,"onUpdate:modelValue":_},null)])}return h("td",null,null)})])}}),Yre=Z({index:Number,item:Object,cellProps:[Object,Function],onClick:ii(),onContextmenu:ii(),onDblclick:ii(),...Jl()},"VDataTableRow"),rC=de()({name:"VDataTableRow",props:Yre(),setup(e,t){let{slots:n}=t;const{displayClasses:i,mobile:r}=Pr(e,"v-data-table__tr"),{isSelected:s,toggleSelect:o,someSelected:a,allSelected:l,selectAll:u}=S_(),{isExpanded:d,toggleExpand:c}=$$(),{toggleSort:f,sortBy:v,isSorted:g}=J$(),{columns:p}=k_();ve(()=>h("tr",{class:["v-data-table__tr",{"v-data-table__tr--clickable":!!(e.onClick||e.onContextmenu||e.onDblclick)},i.value],onClick:e.onClick,onContextmenu:e.onContextmenu,onDblclick:e.onDblclick},[e.item&&p.value.map((_,y)=>{const b=e.item,E=`item.${_.key}`,k=`header.${_.key}`,R={index:e.index,item:b.raw,internalItem:b,value:Ll(b.columns,_.key),column:_,isSelected:s,toggleSelect:o,isExpanded:d,toggleExpand:c},O={column:_,selectAll:u,isSorted:g,toggleSort:f,sortBy:v.value,someSelected:a.value,allSelected:l.value,getSortIcon:()=>""},D=typeof e.cellProps=="function"?e.cellProps({index:R.index,item:R.item,internalItem:R.internalItem,value:R.value,column:_}):e.cellProps,S=typeof _.cellProps=="function"?_.cellProps({index:R.index,item:R.item,internalItem:R.internalItem,value:R.value}):_.cellProps;return h(_g,J({align:_.align,class:{"v-data-table__td--expanded-row":_.key==="data-table-expand","v-data-table__td--select-row":_.key==="data-table-select"},fixed:_.fixed,fixedOffset:_.fixedOffset,lastFixed:_.lastFixed,maxWidth:r.value?void 0:_.maxWidth,noPadding:_.key==="data-table-select"||_.key==="data-table-expand",nowrap:_.nowrap,width:r.value?void 0:_.width},D,S),{default:()=>{var C,A,P,x,U;if(n[E]&&!r.value)return(C=n[E])==null?void 0:C.call(n,R);if(_.key==="data-table-select")return((A=n["item.data-table-select"])==null?void 0:A.call(n,R))??h(Ms,{disabled:!b.selectable,modelValue:s([b]),onClick:Il(()=>o(b),["stop"])},null);if(_.key==="data-table-expand")return((P=n["item.data-table-expand"])==null?void 0:P.call(n,R))??h(dt,{icon:d(b)?"$collapse":"$expand",size:"small",variant:"text",onClick:Il(()=>c(b),["stop"])},null);const w=lt(R.value);return r.value?h(Ie,null,[h("div",{class:"v-data-table__td-title"},[((x=n[k])==null?void 0:x.call(n,O))??_.title]),h("div",{class:"v-data-table__td-value"},[((U=n[E])==null?void 0:U.call(n,R))??w])]):w}})})]))}}),rB=Z({loading:[Boolean,String],loadingText:{type:String,default:"$vuetify.dataIterator.loadingText"},hideNoData:Boolean,items:{type:Array,default:()=>[]},noDataText:{type:String,default:"$vuetify.noDataText"},rowProps:[Object,Function],cellProps:[Object,Function],...Jl()},"VDataTableRows"),jl=de()({name:"VDataTableRows",inheritAttrs:!1,props:rB(),setup(e,t){let{attrs:n,slots:i}=t;const{columns:r}=k_(),{expandOnClick:s,toggleExpand:o,isExpanded:a}=$$(),{isSelected:l,toggleSelect:u}=S_(),{toggleGroup:d,isGroupOpen:c}=U$(),{t:f}=sn(),{mobile:v}=Pr(e);return ve(()=>{var g,p;return e.loading&&(!e.items.length||i.loading)?h("tr",{class:"v-data-table-rows-loading",key:"loading"},[h("td",{colspan:r.value.length},[((g=i.loading)==null?void 0:g.call(i))??f(e.loadingText)])]):!e.loading&&!e.items.length&&!e.hideNoData?h("tr",{class:"v-data-table-rows-no-data",key:"no-data"},[h("td",{colspan:r.value.length},[((p=i["no-data"])==null?void 0:p.call(i))??f(e.noDataText)])]):h(Ie,null,[e.items.map((_,y)=>{var k;if(_.type==="group"){const R={index:y,item:_,columns:r.value,isExpanded:a,toggleExpand:o,isSelected:l,toggleSelect:u,toggleGroup:d,isGroupOpen:c};return i["group-header"]?i["group-header"](R):h(qre,J({key:`group-header_${_.id}`,item:_},yP(n,":group-header",()=>R)),i)}const b={index:y,item:_.raw,internalItem:_,columns:r.value,isExpanded:a,toggleExpand:o,isSelected:l,toggleSelect:u},E={...b,props:J({key:`item_${_.key??_.index}`,onClick:s.value?()=>{o(_)}:void 0,index:y,item:_,cellProps:e.cellProps,mobile:v.value},yP(n,":row",()=>b),typeof e.rowProps=="function"?e.rowProps({item:b.item,index:b.index,internalItem:b.internalItem}):e.rowProps)};return h(Ie,{key:E.props.key},[i.item?i.item(E):h(rC,E.props,i),a(_)&&((k=i["expanded-row"])==null?void 0:k.call(i,b))])})])}),{}}}),sB=Z({fixedHeader:Boolean,fixedFooter:Boolean,height:[Number,String],hover:Boolean,...$e(),...ri(),...ut(),...Ct()},"VTable"),Hl=de()({name:"VTable",props:sB(),setup(e,t){let{slots:n,emit:i}=t;const{themeClasses:r}=Ft(e),{densityClasses:s}=Hi(e);return ve(()=>h(e.tag,{class:["v-table",{"v-table--fixed-height":!!e.height,"v-table--fixed-header":e.fixedHeader,"v-table--fixed-footer":e.fixedFooter,"v-table--has-top":!!n.top,"v-table--has-bottom":!!n.bottom,"v-table--hover":e.hover},r.value,s.value,e.class],style:e.style},{default:()=>{var o,a,l;return[(o=n.top)==null?void 0:o.call(n),n.default?h("div",{class:"v-table__wrapper",style:{height:Ve(e.height)}},[h("table",null,[n.default()])]):(a=n.wrapper)==null?void 0:a.call(n),(l=n.bottom)==null?void 0:l.call(n)]}})),{}}}),Kre=Z({items:{type:Array,default:()=>[]},itemValue:{type:[String,Array,Function],default:"id"},itemSelectable:{type:[String,Array,Function],default:null},rowProps:[Object,Function],cellProps:[Object,Function],returnObject:Boolean},"DataTable-items");function Xre(e,t,n,i){const r=e.returnObject?t:jn(t,e.itemValue),s=jn(t,e.itemSelectable,!0),o=i.reduce((a,l)=>(l.key!=null&&(a[l.key]=jn(t,l.value)),a),{});return{type:"item",key:e.returnObject?jn(t,e.itemValue):r,index:n,value:r,selectable:s,columns:o,raw:t}}function Qre(e,t,n){return t.map((i,r)=>Xre(e,i,r,n))}function sC(e,t){return{items:I(()=>Qre(e,e.items,t.value))}}const oC=Z({...rB(),hideDefaultBody:Boolean,hideDefaultFooter:Boolean,hideDefaultHeader:Boolean,width:[String,Number],search:String,...L$(),...K1(),...Bre(),...Kre(),...Y$(),...X$(),...iB(),...sB()},"DataTable"),Jre=Z({...Q1(),...oC(),...Xc(),...tC()},"VDataTable"),Zre=de()({name:"VDataTable",props:Jre(),emits:{"update:modelValue":e=>!0,"update:page":e=>!0,"update:itemsPerPage":e=>!0,"update:sortBy":e=>!0,"update:options":e=>!0,"update:groupBy":e=>!0,"update:expanded":e=>!0,"update:currentItems":e=>!0},setup(e,t){let{attrs:n,slots:i}=t;const{groupBy:r}=X1(e),{sortBy:s,multiSort:o,mustSort:a}=E_(e),{page:l,itemsPerPage:u}=J1(e),{disableSort:d}=xa(e),{columns:c,headers:f,sortFunctions:v,sortRawFunctions:g,filterFunctions:p}=iC(e,{groupBy:r,showSelect:ue(e,"showSelect"),showExpand:ue(e,"showExpand")}),{items:_}=sC(e,c),y=ue(e,"search"),{filteredItems:b}=Qc(e,_,y,{transform:B=>B.columns,customKeyFilter:p}),{toggleSort:E}=C_({sortBy:s,multiSort:o,mustSort:a,page:l}),{sortByWithGroups:k,opened:R,extractRows:O,isGroupOpen:D,toggleGroup:S}=__({groupBy:r,sortBy:s,disableSort:d}),{sortedItems:w}=eC(e,b,k,{transform:B=>({...B.raw,...B.columns}),sortFunctions:v,sortRawFunctions:g}),{flatItems:C}=y_(w,r,R),A=I(()=>C.value.length),{startIndex:P,stopIndex:x,pageCount:U,setItemsPerPage:$}=Z1({page:l,itemsPerPage:u,itemsLength:A}),{paginatedItems:j}=z$({items:C,startIndex:P,stopIndex:x,itemsPerPage:u}),Y=I(()=>O(j.value)),{isSelected:W,select:K,selectAll:G,toggleSelect:te,someSelected:oe,allSelected:_e}=w_(e,{allItems:_,currentPage:Y}),{isExpanded:Ae,toggleExpand:Ne}=p_(e);b_({page:l,itemsPerPage:u,sortBy:s,groupBy:r,search:y}),_n({VDataTableRows:{hideNoData:ue(e,"hideNoData"),noDataText:ue(e,"noDataText"),loading:ue(e,"loading"),loadingText:ue(e,"loadingText")}});const Q=I(()=>({page:l.value,itemsPerPage:u.value,sortBy:s.value,pageCount:U.value,toggleSort:E,setItemsPerPage:$,someSelected:oe.value,allSelected:_e.value,isSelected:W,select:K,selectAll:G,toggleSelect:te,isExpanded:Ae,toggleExpand:Ne,isGroupOpen:D,toggleGroup:S,items:Y.value.map(B=>B.raw),internalItems:Y.value,groupedItems:j.value,columns:c.value,headers:f.value}));return ve(()=>{const B=Gf.filterProps(e),q=Ul.filterProps(e),ie=jl.filterProps(e),ce=Hl.filterProps(e);return h(Hl,J({class:["v-data-table",{"v-data-table--show-select":e.showSelect,"v-data-table--loading":e.loading},e.class],style:e.style},ce),{top:()=>{var ne;return(ne=i.top)==null?void 0:ne.call(i,Q.value)},default:()=>{var ne,Se,M,L,ee,fe;return i.default?i.default(Q.value):h(Ie,null,[(ne=i.colgroup)==null?void 0:ne.call(i,Q.value),!e.hideDefaultHeader&&h("thead",{key:"thead"},[h(Ul,q,i)]),(Se=i.thead)==null?void 0:Se.call(i,Q.value),!e.hideDefaultBody&&h("tbody",null,[(M=i["body.prepend"])==null?void 0:M.call(i,Q.value),i.body?i.body(Q.value):h(jl,J(n,ie,{items:j.value}),i),(L=i["body.append"])==null?void 0:L.call(i,Q.value)]),(ee=i.tbody)==null?void 0:ee.call(i,Q.value),(fe=i.tfoot)==null?void 0:fe.call(i,Q.value)])},bottom:()=>i.bottom?i.bottom(Q.value):!e.hideDefaultFooter&&h(Ie,null,[h(fo,null,null),h(Gf,B,{prepend:i["footer.prepend"]})])})}),{}}}),ese=Z({...oC(),...K1(),...g$(),...Xc()},"VDataTableVirtual"),tse=de()({name:"VDataTableVirtual",props:ese(),emits:{"update:modelValue":e=>!0,"update:sortBy":e=>!0,"update:options":e=>!0,"update:groupBy":e=>!0,"update:expanded":e=>!0},setup(e,t){let{attrs:n,slots:i}=t;const{groupBy:r}=X1(e),{sortBy:s,multiSort:o,mustSort:a}=E_(e),{disableSort:l}=xa(e),{columns:u,headers:d,filterFunctions:c,sortFunctions:f,sortRawFunctions:v}=iC(e,{groupBy:r,showSelect:ue(e,"showSelect"),showExpand:ue(e,"showExpand")}),{items:g}=sC(e,u),p=ue(e,"search"),{filteredItems:_}=Qc(e,g,p,{transform:q=>q.columns,customKeyFilter:c}),{toggleSort:y}=C_({sortBy:s,multiSort:o,mustSort:a}),{sortByWithGroups:b,opened:E,extractRows:k,isGroupOpen:R,toggleGroup:O}=__({groupBy:r,sortBy:s,disableSort:l}),{sortedItems:D}=eC(e,_,b,{transform:q=>({...q.raw,...q.columns}),sortFunctions:f,sortRawFunctions:v}),{flatItems:S}=y_(D,r,E),w=I(()=>k(S.value)),{isSelected:C,select:A,selectAll:P,toggleSelect:x,someSelected:U,allSelected:$}=w_(e,{allItems:w,currentPage:w}),{isExpanded:j,toggleExpand:Y}=p_(e),{containerRef:W,markerRef:K,paddingTop:G,paddingBottom:te,computedItems:oe,handleItemResize:_e,handleScroll:Ae,handleScrollend:Ne}=p$(e,S),Q=I(()=>oe.value.map(q=>q.raw));b_({sortBy:s,page:Te(1),itemsPerPage:Te(-1),groupBy:r,search:p}),_n({VDataTableRows:{hideNoData:ue(e,"hideNoData"),noDataText:ue(e,"noDataText"),loading:ue(e,"loading"),loadingText:ue(e,"loadingText")}});const B=I(()=>({sortBy:s.value,toggleSort:y,someSelected:U.value,allSelected:$.value,isSelected:C,select:A,selectAll:P,toggleSelect:x,isExpanded:j,toggleExpand:Y,isGroupOpen:R,toggleGroup:O,items:w.value.map(q=>q.raw),internalItems:w.value,groupedItems:S.value,columns:u.value,headers:d.value}));ve(()=>{const q=Ul.filterProps(e),ie=jl.filterProps(e),ce=Hl.filterProps(e);return h(Hl,J({class:["v-data-table",{"v-data-table--loading":e.loading},e.class],style:e.style},ce),{top:()=>{var ne;return(ne=i.top)==null?void 0:ne.call(i,B.value)},wrapper:()=>{var ne,Se,M;return h("div",{ref:W,onScrollPassive:Ae,onScrollend:Ne,class:"v-table__wrapper",style:{height:Ve(e.height)}},[h("table",null,[(ne=i.colgroup)==null?void 0:ne.call(i,B.value),!e.hideDefaultHeader&&h("thead",{key:"thead"},[h(Ul,J(q,{sticky:e.fixedHeader}),i)]),!e.hideDefaultBody&&h("tbody",null,[h("tr",{ref:K,style:{height:Ve(G.value),border:0}},[h("td",{colspan:u.value.length,style:{height:0,border:0}},null)]),(Se=i["body.prepend"])==null?void 0:Se.call(i,B.value),h(jl,J(n,ie,{items:Q.value}),{...i,item:L=>h(m$,{key:L.internalItem.index,renderless:!0,"onUpdate:height":ee=>_e(L.internalItem.index,ee)},{default:ee=>{var ae;let{itemRef:fe}=ee;return((ae=i.item)==null?void 0:ae.call(i,{...L,itemRef:fe}))??h(rC,J(L.props,{ref:fe,key:L.internalItem.index,index:L.internalItem.index}),i)}})}),(M=i["body.append"])==null?void 0:M.call(i,B.value),h("tr",{style:{height:Ve(te.value),border:0}},[h("td",{colspan:u.value.length,style:{height:0,border:0}},null)])])])])},bottom:()=>{var ne;return(ne=i.bottom)==null?void 0:ne.call(i,B.value)}})})}}),nse=Z({itemsLength:{type:[Number,String],required:!0},...Q1(),...oC(),...tC()},"VDataTableServer"),ise=de()({name:"VDataTableServer",props:nse(),emits:{"update:modelValue":e=>!0,"update:page":e=>!0,"update:itemsPerPage":e=>!0,"update:sortBy":e=>!0,"update:options":e=>!0,"update:expanded":e=>!0,"update:groupBy":e=>!0},setup(e,t){let{attrs:n,slots:i}=t;const{groupBy:r}=X1(e),{sortBy:s,multiSort:o,mustSort:a}=E_(e),{page:l,itemsPerPage:u}=J1(e),{disableSort:d}=xa(e),c=I(()=>parseInt(e.itemsLength,10)),{columns:f,headers:v}=iC(e,{groupBy:r,showSelect:ue(e,"showSelect"),showExpand:ue(e,"showExpand")}),{items:g}=sC(e,f),{toggleSort:p}=C_({sortBy:s,multiSort:o,mustSort:a,page:l}),{opened:_,isGroupOpen:y,toggleGroup:b,extractRows:E}=__({groupBy:r,sortBy:s,disableSort:d}),{pageCount:k,setItemsPerPage:R}=Z1({page:l,itemsPerPage:u,itemsLength:c}),{flatItems:O}=y_(g,r,_),{isSelected:D,select:S,selectAll:w,toggleSelect:C,someSelected:A,allSelected:P}=w_(e,{allItems:g,currentPage:g}),{isExpanded:x,toggleExpand:U}=p_(e),$=I(()=>E(g.value));b_({page:l,itemsPerPage:u,sortBy:s,groupBy:r,search:ue(e,"search")}),Ut("v-data-table",{toggleSort:p,sortBy:s}),_n({VDataTableRows:{hideNoData:ue(e,"hideNoData"),noDataText:ue(e,"noDataText"),loading:ue(e,"loading"),loadingText:ue(e,"loadingText")}});const j=I(()=>({page:l.value,itemsPerPage:u.value,sortBy:s.value,pageCount:k.value,toggleSort:p,setItemsPerPage:R,someSelected:A.value,allSelected:P.value,isSelected:D,select:S,selectAll:w,toggleSelect:C,isExpanded:x,toggleExpand:U,isGroupOpen:y,toggleGroup:b,items:$.value.map(Y=>Y.raw),internalItems:$.value,groupedItems:O.value,columns:f.value,headers:v.value}));ve(()=>{const Y=Gf.filterProps(e),W=Ul.filterProps(e),K=jl.filterProps(e),G=Hl.filterProps(e);return h(Hl,J({class:["v-data-table",{"v-data-table--loading":e.loading},e.class],style:e.style},G),{top:()=>{var te;return(te=i.top)==null?void 0:te.call(i,j.value)},default:()=>{var te,oe,_e,Ae,Ne,Q;return i.default?i.default(j.value):h(Ie,null,[(te=i.colgroup)==null?void 0:te.call(i,j.value),!e.hideDefaultHeader&&h("thead",{key:"thead",class:"v-data-table__thead",role:"rowgroup"},[h(Ul,J(W,{sticky:e.fixedHeader}),i)]),(oe=i.thead)==null?void 0:oe.call(i,j.value),!e.hideDefaultBody&&h("tbody",{class:"v-data-table__tbody",role:"rowgroup"},[(_e=i["body.prepend"])==null?void 0:_e.call(i,j.value),i.body?i.body(j.value):h(jl,J(n,K,{items:O.value}),i),(Ae=i["body.append"])==null?void 0:Ae.call(i,j.value)]),(Ne=i.tbody)==null?void 0:Ne.call(i,j.value),(Q=i.tfoot)==null?void 0:Q.call(i,j.value)])},bottom:()=>i.bottom?i.bottom(j.value):!e.hideDefaultFooter&&h(Ie,null,[h(fo,null,null),h(Gf,Y,{prepend:i["footer.prepend"]})])})})}}),rse=Z({fluid:{type:Boolean,default:!1},...$e(),...qn(),...ut()},"VContainer"),sse=de()({name:"VContainer",props:rse(),setup(e,t){let{slots:n}=t;const{rtlClasses:i}=Jn(),{dimensionStyles:r}=Yn(e);return ve(()=>h(e.tag,{class:["v-container",{"v-container--fluid":e.fluid},i.value,e.class],style:[r.value,e.style]},n)),{}}}),oB=i_.reduce((e,t)=>(e[t]={type:[Boolean,String,Number],default:!1},e),{}),aB=i_.reduce((e,t)=>{const n="offset"+Fs(t);return e[n]={type:[String,Number],default:null},e},{}),lB=i_.reduce((e,t)=>{const n="order"+Fs(t);return e[n]={type:[String,Number],default:null},e},{}),zP={col:Object.keys(oB),offset:Object.keys(aB),order:Object.keys(lB)};function ose(e,t,n){let i=e;if(!(n==null||n===!1)){if(t){const r=t.replace(e,"");i+=`-${r}`}return e==="col"&&(i="v-"+i),e==="col"&&(n===""||n===!0)||(i+=`-${n}`),i.toLowerCase()}}const ase=["auto","start","end","center","baseline","stretch"],lse=Z({cols:{type:[Boolean,String,Number],default:!1},...oB,offset:{type:[String,Number],default:null},...aB,order:{type:[String,Number],default:null},...lB,alignSelf:{type:String,default:null,validator:e=>ase.includes(e)},...$e(),...ut()},"VCol"),use=de()({name:"VCol",props:lse(),setup(e,t){let{slots:n}=t;const i=I(()=>{const r=[];let s;for(s in zP)zP[s].forEach(a=>{const l=e[a],u=ose(s,a,l);u&&r.push(u)});const o=r.some(a=>a.startsWith("v-col-"));return r.push({"v-col":!o||!e.cols,[`v-col-${e.cols}`]:e.cols,[`offset-${e.offset}`]:e.offset,[`order-${e.order}`]:e.order,[`align-self-${e.alignSelf}`]:e.alignSelf}),r});return()=>{var r;return ni(e.tag,{class:[i.value,e.class],style:e.style},(r=n.default)==null?void 0:r.call(n))}}}),aC=["start","end","center"],uB=["space-between","space-around","space-evenly"];function lC(e,t){return i_.reduce((n,i)=>{const r=e+Fs(i);return n[r]=t(),n},{})}const cse=[...aC,"baseline","stretch"],cB=e=>cse.includes(e),dB=lC("align",()=>({type:String,default:null,validator:cB})),dse=[...aC,...uB],fB=e=>dse.includes(e),hB=lC("justify",()=>({type:String,default:null,validator:fB})),fse=[...aC,...uB,"stretch"],vB=e=>fse.includes(e),mB=lC("alignContent",()=>({type:String,default:null,validator:vB})),GP={align:Object.keys(dB),justify:Object.keys(hB),alignContent:Object.keys(mB)},hse={align:"align",justify:"justify",alignContent:"align-content"};function vse(e,t,n){let i=hse[e];if(n!=null){if(t){const r=t.replace(e,"");i+=`-${r}`}return i+=`-${n}`,i.toLowerCase()}}const mse=Z({dense:Boolean,noGutters:Boolean,align:{type:String,default:null,validator:cB},...dB,justify:{type:String,default:null,validator:fB},...hB,alignContent:{type:String,default:null,validator:vB},...mB,...$e(),...ut()},"VRow"),gse=de()({name:"VRow",props:mse(),setup(e,t){let{slots:n}=t;const i=I(()=>{const r=[];let s;for(s in GP)GP[s].forEach(o=>{const a=e[o],l=vse(s,o,a);l&&r.push(l)});return r.push({"v-row--no-gutters":e.noGutters,"v-row--dense":e.dense,[`align-${e.align}`]:e.align,[`justify-${e.justify}`]:e.justify,[`align-content-${e.alignContent}`]:e.alignContent}),r});return()=>{var r;return ni(e.tag,{class:["v-row",i.value,e.class],style:e.style},(r=n.default)==null?void 0:r.call(n))}}}),gB=Ws("v-spacer","div","VSpacer"),pB=Z({active:{type:[String,Array],default:void 0},disabled:{type:[Boolean,String,Array],default:!1},nextIcon:{type:Je,default:"$next"},prevIcon:{type:Je,default:"$prev"},modeIcon:{type:Je,default:"$subgroup"},text:String,viewMode:{type:String,default:"month"}},"VDatePickerControls"),sw=de()({name:"VDatePickerControls",props:pB(),emits:{"click:year":()=>!0,"click:month":()=>!0,"click:prev":()=>!0,"click:next":()=>!0,"click:text":()=>!0},setup(e,t){let{emit:n}=t;const i=I(()=>Array.isArray(e.disabled)?e.disabled.includes("text"):!!e.disabled),r=I(()=>Array.isArray(e.disabled)?e.disabled.includes("mode"):!!e.disabled),s=I(()=>Array.isArray(e.disabled)?e.disabled.includes("prev"):!!e.disabled),o=I(()=>Array.isArray(e.disabled)?e.disabled.includes("next"):!!e.disabled);function a(){n("click:prev")}function l(){n("click:next")}function u(){n("click:year")}function d(){n("click:month")}return ve(()=>h("div",{class:["v-date-picker-controls"]},[h(dt,{class:"v-date-picker-controls__month-btn",disabled:i.value,text:e.text,variant:"text",rounded:!0,onClick:d},null),h(dt,{key:"mode-btn",class:"v-date-picker-controls__mode-btn",disabled:r.value,density:"comfortable",icon:e.modeIcon,variant:"text",onClick:u},null),h(gB,{key:"mode-spacer"},null),h("div",{key:"month-buttons",class:"v-date-picker-controls__month"},[h(dt,{disabled:s.value,icon:e.prevIcon,variant:"text",onClick:a},null),h(dt,{disabled:o.value,icon:e.nextIcon,variant:"text",onClick:l},null)])])),{}}}),pse=Z({appendIcon:String,color:String,header:String,transition:String,onClick:ii()},"VDatePickerHeader"),ow=de()({name:"VDatePickerHeader",props:pse(),emits:{click:()=>!0,"click:append":()=>!0},setup(e,t){let{emit:n,slots:i}=t;const{backgroundColorClasses:r,backgroundColorStyles:s}=Gt(e,"color");function o(){n("click")}function a(){n("click:append")}return ve(()=>{const l=!!(i.default||e.header),u=!!(i.append||e.appendIcon);return h("div",{class:["v-date-picker-header",{"v-date-picker-header--clickable":!!e.onClick},r.value],style:s.value,onClick:o},[i.prepend&&h("div",{key:"prepend",class:"v-date-picker-header__prepend"},[i.prepend()]),l&&h($i,{key:"content",name:e.transition},{default:()=>{var d;return[h("div",{key:e.header,class:"v-date-picker-header__content"},[((d=i.default)==null?void 0:d.call(i))??e.header])]}}),u&&h("div",{class:"v-date-picker-header__append"},[i.append?h(at,{key:"append-defaults",disabled:!e.appendIcon,defaults:{VBtn:{icon:e.appendIcon,variant:"text"}}},{default:()=>{var d;return[(d=i.append)==null?void 0:d.call(i)]}}):h(dt,{key:"append-btn",icon:e.appendIcon,variant:"text",onClick:a},null)])])}),{}}}),_B=Z({allowedDates:[Array,Function],disabled:Boolean,displayValue:null,modelValue:Array,month:[Number,String],max:null,min:null,showAdjacentMonths:Boolean,year:[Number,String],weekdays:{type:Array,default:()=>[0,1,2,3,4,5,6]},weeksInMonth:{type:String,default:"dynamic"},firstDayOfWeek:[Number,String]},"calendar");function yB(e){const t=jr(),n=je(e,"modelValue",[],v=>vn(v)),i=I(()=>e.displayValue?t.date(e.displayValue):n.value.length>0?t.date(n.value[0]):e.min?t.date(e.min):Array.isArray(e.allowedDates)?t.date(e.allowedDates[0]):t.date()),r=je(e,"year",void 0,v=>{const g=v!=null?Number(v):t.getYear(i.value);return t.startOfYear(t.setYear(t.date(),g))},v=>t.getYear(v)),s=je(e,"month",void 0,v=>{const g=v!=null?Number(v):t.getMonth(i.value),p=t.setYear(t.startOfMonth(t.date()),t.getYear(r.value));return t.setMonth(p,g)},v=>t.getMonth(v)),o=I(()=>{const v=Number(e.firstDayOfWeek??0);return e.weekdays.map(g=>(g+v)%7)}),a=I(()=>{const v=t.getWeekArray(s.value,e.firstDayOfWeek),g=v.flat(),p=6*7;if(e.weeksInMonth==="static"&&g.length<p){const _=g[g.length-1];let y=[];for(let b=1;b<=p-g.length;b++)y.push(t.addDays(_,b)),b%7===0&&(v.push(y),y=[])}return v});function l(v,g){return v.filter(p=>o.value.includes(t.toJsDate(p).getDay())).map((p,_)=>{const y=t.toISO(p),b=!t.isSameMonth(p,s.value),E=t.isSameDay(p,t.startOfMonth(s.value)),k=t.isSameDay(p,t.endOfMonth(s.value)),R=t.isSameDay(p,s.value);return{date:p,isoDate:y,formatted:t.format(p,"keyboardDate"),year:t.getYear(p),month:t.getMonth(p),isDisabled:f(p),isWeekStart:_%7===0,isWeekEnd:_%7===6,isToday:t.isSameDay(p,g),isAdjacent:b,isHidden:b&&!e.showAdjacentMonths,isStart:E,isSelected:n.value.some(O=>t.isSameDay(p,O)),isEnd:k,isSame:R,localized:t.format(p,"dayOfMonth")}})}const u=I(()=>{const v=t.startOfWeek(i.value,e.firstDayOfWeek),g=[];for(let _=0;_<=6;_++)g.push(t.addDays(v,_));const p=t.date();return l(g,p)}),d=I(()=>{const v=a.value.flat(),g=t.date();return l(v,g)}),c=I(()=>a.value.map(v=>v.length?gee(t,v[0]):null));function f(v){if(e.disabled)return!0;const g=t.date(v);return e.min&&t.isAfter(t.date(e.min),g)||e.max&&t.isAfter(g,t.date(e.max))?!0:Array.isArray(e.allowedDates)&&e.allowedDates.length>0?!e.allowedDates.some(p=>t.isSameDay(t.date(p),g)):typeof e.allowedDates=="function"?!e.allowedDates(g):!1}return{displayValue:i,daysInMonth:d,daysInWeek:u,genDays:l,model:n,weeksInMonth:a,weekDays:o,weekNumbers:c}}const bB=Z({color:String,hideWeekdays:Boolean,multiple:[Boolean,Number,String],showWeek:Boolean,transition:{type:String,default:"picker-transition"},reverseTransition:{type:String,default:"picker-reverse-transition"},..._B()},"VDatePickerMonth"),aw=de()({name:"VDatePickerMonth",props:bB(),emits:{"update:modelValue":e=>!0,"update:month":e=>!0,"update:year":e=>!0},setup(e,t){let{emit:n,slots:i}=t;const r=z(),{daysInMonth:s,model:o,weekNumbers:a}=yB(e),l=jr(),u=Te(),d=Te(),c=Te(!1),f=I(()=>c.value?e.reverseTransition:e.transition);e.multiple==="range"&&o.value.length>0&&(u.value=o.value[0],o.value.length>1&&(d.value=o.value[o.value.length-1]));const v=I(()=>{const y=["number","string"].includes(typeof e.multiple)?Number(e.multiple):1/0;return o.value.length>=y});ge(s,(y,b)=>{b&&(c.value=l.isBefore(y[0].date,b[0].date))});function g(y){const b=l.startOfDay(y);if(o.value.length===0?u.value=void 0:o.value.length===1&&(u.value=o.value[0],d.value=void 0),!u.value)u.value=b,o.value=[u.value];else if(d.value)u.value=y,d.value=void 0,o.value=[u.value];else{if(l.isSameDay(b,u.value)){u.value=void 0,o.value=[];return}else l.isBefore(b,u.value)?(d.value=l.endOfDay(u.value),u.value=b):d.value=l.endOfDay(b);const E=l.getDiff(d.value,u.value,"days"),k=[u.value];for(let R=1;R<E;R++){const O=l.addDays(u.value,R);k.push(O)}k.push(d.value),o.value=k}}function p(y){const b=o.value.findIndex(E=>l.isSameDay(E,y));if(b===-1)o.value=[...o.value,y];else{const E=[...o.value];E.splice(b,1),o.value=E}}function _(y){e.multiple==="range"?g(y):e.multiple?p(y):o.value=[y]}return()=>h("div",{class:"v-date-picker-month"},[e.showWeek&&h("div",{key:"weeks",class:"v-date-picker-month__weeks"},[!e.hideWeekdays&&h("div",{key:"hide-week-days",class:"v-date-picker-month__day"},[xe("")]),a.value.map(y=>h("div",{class:["v-date-picker-month__day","v-date-picker-month__day--adjacent"]},[y]))]),h($i,{name:f.value},{default:()=>{var y;return[h("div",{ref:r,key:(y=s.value[0].date)==null?void 0:y.toString(),class:"v-date-picker-month__days"},[!e.hideWeekdays&&l.getWeekdays(e.firstDayOfWeek).map(b=>h("div",{class:["v-date-picker-month__day","v-date-picker-month__weekday"]},[b])),s.value.map((b,E)=>{const k={props:{onClick:()=>_(b.date)},item:b,i:E};return v.value&&!b.isSelected&&(b.isDisabled=!0),h("div",{class:["v-date-picker-month__day",{"v-date-picker-month__day--adjacent":b.isAdjacent,"v-date-picker-month__day--hide-adjacent":b.isHidden,"v-date-picker-month__day--selected":b.isSelected,"v-date-picker-month__day--week-end":b.isWeekEnd,"v-date-picker-month__day--week-start":b.isWeekStart}],"data-v-date":b.isDisabled?void 0:b.isoDate},[(e.showAdjacentMonths||!b.isAdjacent)&&h(at,{defaults:{VBtn:{class:"v-date-picker-month__day-btn",color:(b.isSelected||b.isToday)&&!b.isDisabled?e.color:void 0,disabled:b.isDisabled,icon:!0,ripple:!1,text:b.localized,variant:b.isDisabled?b.isToday?"outlined":"text":b.isToday&&!b.isSelected?"outlined":"flat",onClick:()=>_(b.date)}}},{default:()=>{var R;return[((R=i.day)==null?void 0:R.call(i,k))??h(dt,k.props,null)]}})])})])]}})])}}),wB=Z({color:String,height:[String,Number],min:null,max:null,modelValue:Number,year:Number},"VDatePickerMonths"),lw=de()({name:"VDatePickerMonths",props:wB(),emits:{"update:modelValue":e=>!0},setup(e,t){let{emit:n,slots:i}=t;const r=jr(),s=je(e,"modelValue"),o=I(()=>{let a=r.startOfYear(r.date());return e.year&&(a=r.setYear(a,e.year)),br(12).map(l=>{const u=r.format(a,"monthShort"),d=!!(e.min&&r.isAfter(r.startOfMonth(r.date(e.min)),a)||e.max&&r.isAfter(a,r.startOfMonth(r.date(e.max))));return a=r.getNextMonth(a),{isDisabled:d,text:u,value:l}})});return rn(()=>{s.value=s.value??r.getMonth(r.date())}),ve(()=>h("div",{class:"v-date-picker-months",style:{height:Ve(e.height)}},[h("div",{class:"v-date-picker-months__content"},[o.value.map((a,l)=>{var c;const u={active:s.value===l,color:s.value===l?e.color:void 0,disabled:a.isDisabled,rounded:!0,text:a.text,variant:s.value===a.value?"flat":"text",onClick:()=>d(l)};function d(f){if(s.value===f){n("update:modelValue",s.value);return}s.value=f}return((c=i.month)==null?void 0:c.call(i,{month:a,i:l,props:u}))??h(dt,J({key:"month"},u),null)})])])),{}}}),SB=Z({color:String,height:[String,Number],min:null,max:null,modelValue:Number},"VDatePickerYears"),uw=de()({name:"VDatePickerYears",props:SB(),emits:{"update:modelValue":e=>!0},setup(e,t){let{emit:n,slots:i}=t;const r=jr(),s=je(e,"modelValue"),o=I(()=>{const l=r.getYear(r.date());let u=l-100,d=l+52;e.min&&(u=r.getYear(r.date(e.min))),e.max&&(d=r.getYear(r.date(e.max)));let c=r.startOfYear(r.date());return c=r.setYear(c,u),br(d-u+1,u).map(f=>{const v=r.format(c,"year");return c=r.setYear(c,r.getYear(c)+1),{text:v,value:f}})});rn(()=>{s.value=s.value??r.getYear(r.date())});const a=fg();return yt(async()=>{var l;await ot(),(l=a.el)==null||l.scrollIntoView({block:"center"})}),ve(()=>h("div",{class:"v-date-picker-years",style:{height:Ve(e.height)}},[h("div",{class:"v-date-picker-years__content"},[o.value.map((l,u)=>{var c;const d={ref:s.value===l.value?a:void 0,active:s.value===l.value,color:s.value===l.value?e.color:void 0,rounded:!0,text:l.text,variant:s.value===l.value?"flat":"text",onClick:()=>{if(s.value===l.value){n("update:modelValue",s.value);return}s.value=l.value}};return((c=i.year)==null?void 0:c.call(i,{year:l,i:u,props:d}))??h(dt,J({key:"month"},d),null)})])])),{}}}),EB=Ws("v-picker-title"),uC=Z({bgColor:String,landscape:Boolean,title:String,hideHeader:Boolean,...g_()},"VPicker"),qf=de()({name:"VPicker",props:uC(),setup(e,t){let{slots:n}=t;const{backgroundColorClasses:i,backgroundColorStyles:r}=Gt(ue(e,"color"));return ve(()=>{const s=wa.filterProps(e),o=!!(e.title||n.title);return h(wa,J(s,{color:e.bgColor,class:["v-picker",{"v-picker--landscape":e.landscape,"v-picker--with-actions":!!n.actions},e.class],style:e.style}),{default:()=>{var a;return[!e.hideHeader&&h("div",{key:"header",class:[i.value],style:[r.value]},[o&&h(EB,{key:"picker-title"},{default:()=>{var l;return[((l=n.title)==null?void 0:l.call(n))??e.title]}}),n.header&&h("div",{class:"v-picker__header"},[n.header()])]),h("div",{class:"v-picker__body"},[(a=n.default)==null?void 0:a.call(n)]),n.actions&&h(at,{defaults:{VBtn:{slim:!0,variant:"text"}}},{default:()=>[h("div",{class:"v-picker__actions"},[n.actions()])]})]}})}),{}}}),CB=Z({header:{type:String,default:"$vuetify.datePicker.header"},...pB(),...bB({weeksInMonth:"static"}),...zt(wB(),["modelValue"]),...zt(SB(),["modelValue"]),...uC({title:"$vuetify.datePicker.title"}),modelValue:null},"VDatePicker"),cw=de()({name:"VDatePicker",props:CB(),emits:{"update:modelValue":e=>!0,"update:month":e=>!0,"update:year":e=>!0,"update:viewMode":e=>!0},setup(e,t){let{emit:n,slots:i}=t;const r=jr(),{t:s}=sn(),o=je(e,"modelValue",void 0,w=>vn(w),w=>e.multiple?w:w[0]),a=je(e,"viewMode"),l=I(()=>{var C;const w=r.date((C=o.value)==null?void 0:C[0]);return w&&r.isValid(w)?w:r.date()}),u=z(Number(e.month??r.getMonth(r.startOfMonth(l.value)))),d=z(Number(e.year??r.getYear(r.startOfYear(r.setMonth(l.value,u.value))))),c=Te(!1),f=I(()=>e.multiple&&o.value.length>1?s("$vuetify.datePicker.itemsSelected",o.value.length):o.value[0]&&r.isValid(o.value[0])?r.format(r.date(o.value[0]),"normalDateWithWeekday"):s(e.header)),v=I(()=>{let w=r.date();return w=r.setDate(w,1),w=r.setMonth(w,u.value),w=r.setYear(w,d.value),r.format(w,"monthAndYear")}),g=I(()=>`date-picker-header${c.value?"-reverse":""}-transition`),p=I(()=>{const w=r.date(e.min);return e.min&&r.isValid(w)?w:null}),_=I(()=>{const w=r.date(e.max);return e.max&&r.isValid(w)?w:null}),y=I(()=>{if(e.disabled)return!0;const w=[];if(a.value!=="month")w.push("prev","next");else{let C=r.date();if(C=r.setYear(C,d.value),C=r.setMonth(C,u.value),p.value){const A=r.addDays(r.startOfMonth(C),-1);r.isAfter(p.value,A)&&w.push("prev")}if(_.value){const A=r.addDays(r.endOfMonth(C),1);r.isAfter(A,_.value)&&w.push("next")}}return w});function b(){u.value<11?u.value++:(d.value++,u.value=0,S(d.value)),D(u.value)}function E(){u.value>0?u.value--:(d.value--,u.value=11,S(d.value)),D(u.value)}function k(){a.value="month"}function R(){a.value=a.value==="months"?"month":"months"}function O(){a.value=a.value==="year"?"month":"year"}function D(w){a.value==="months"&&R(),n("update:month",w)}function S(w){a.value==="year"&&O(),n("update:year",w)}return ge(o,(w,C)=>{const A=vn(C),P=vn(w);if(!P.length)return;const x=r.date(A[A.length-1]),U=r.date(P[P.length-1]),$=r.getMonth(U),j=r.getYear(U);$!==u.value&&(u.value=$,D(u.value)),j!==d.value&&(d.value=j,S(d.value)),c.value=r.isBefore(x,U)}),ve(()=>{const w=qf.filterProps(e),C=sw.filterProps(e),A=ow.filterProps(e),P=aw.filterProps(e),x=zt(lw.filterProps(e),["modelValue"]),U=zt(uw.filterProps(e),["modelValue"]),$={header:f.value,transition:g.value};return h(qf,J(w,{class:["v-date-picker",`v-date-picker--${a.value}`,{"v-date-picker--show-week":e.showWeek},e.class],style:e.style}),{title:()=>{var j;return((j=i.title)==null?void 0:j.call(i))??h("div",{class:"v-date-picker__title"},[s(e.title)])},header:()=>i.header?h(at,{defaults:{VDatePickerHeader:{...$}}},{default:()=>{var j;return[(j=i.header)==null?void 0:j.call(i,$)]}}):h(ow,J({key:"header"},A,$,{onClick:a.value!=="month"?k:void 0}),{...i,default:void 0}),default:()=>h(Ie,null,[h(sw,J(C,{disabled:y.value,text:v.value,"onClick:next":b,"onClick:prev":E,"onClick:month":R,"onClick:year":O}),null),h($f,{hideOnLeave:!0},{default:()=>[a.value==="months"?h(lw,J({key:"date-picker-months"},x,{modelValue:u.value,"onUpdate:modelValue":[j=>u.value=j,D],min:p.value,max:_.value,year:d.value}),null):a.value==="year"?h(uw,J({key:"date-picker-years"},U,{modelValue:d.value,"onUpdate:modelValue":[j=>d.value=j,S],min:p.value,max:_.value}),null):h(aw,J({key:"date-picker-month"},P,{modelValue:o.value,"onUpdate:modelValue":j=>o.value=j,month:u.value,"onUpdate:month":[j=>u.value=j,D],year:d.value,"onUpdate:year":[j=>d.value=j,S],min:p.value,max:_.value}),null)]})]),actions:i.actions})}),{}}}),_se=Z({actionText:String,bgColor:String,color:String,icon:Je,image:String,justify:{type:String,default:"center"},headline:String,title:String,text:String,textWidth:{type:[Number,String],default:500},href:String,to:String,...$e(),...qn(),...zs({size:void 0}),...Ct()},"VEmptyState"),yse=de()({name:"VEmptyState",props:_se(),emits:{"click:action":e=>!0},setup(e,t){let{emit:n,slots:i}=t;const{themeClasses:r}=Ft(e),{backgroundColorClasses:s,backgroundColorStyles:o}=Gt(ue(e,"bgColor")),{dimensionStyles:a}=Yn(e),{displayClasses:l}=Pr();function u(d){n("click:action",d)}return ve(()=>{var _,y,b;const d=!!(i.actions||e.actionText),c=!!(i.headline||e.headline),f=!!(i.title||e.title),v=!!(i.text||e.text),g=!!(i.media||e.image||e.icon),p=e.size||(e.image?200:96);return h("div",{class:["v-empty-state",{[`v-empty-state--${e.justify}`]:!0},r.value,s.value,l.value,e.class],style:[o.value,a.value,e.style]},[g&&h("div",{key:"media",class:"v-empty-state__media"},[i.media?h(at,{key:"media-defaults",defaults:{VImg:{src:e.image,height:p},VIcon:{size:p,icon:e.icon}}},{default:()=>[i.media()]}):h(Ie,null,[e.image?h(ko,{key:"image",src:e.image,height:p},null):e.icon?h(Pt,{key:"icon",color:e.color,size:p,icon:e.icon},null):void 0])]),c&&h("div",{key:"headline",class:"v-empty-state__headline"},[((_=i.headline)==null?void 0:_.call(i))??e.headline]),f&&h("div",{key:"title",class:"v-empty-state__title"},[((y=i.title)==null?void 0:y.call(i))??e.title]),v&&h("div",{key:"text",class:"v-empty-state__text",style:{maxWidth:Ve(e.textWidth)}},[((b=i.text)==null?void 0:b.call(i))??e.text]),i.default&&h("div",{key:"content",class:"v-empty-state__content"},[i.default()]),d&&h("div",{key:"actions",class:"v-empty-state__actions"},[h(at,{defaults:{VBtn:{class:"v-empty-state__action-btn",color:e.color??"surface-variant",text:e.actionText}}},{default:()=>{var E;return[((E=i.actions)==null?void 0:E.call(i,{props:{onClick:u}}))??h(dt,{onClick:u},null)]}})])])}),{}}}),Yf=Symbol.for("vuetify:v-expansion-panel"),kB=Z({...$e(),...U1()},"VExpansionPanelText"),dw=de()({name:"VExpansionPanelText",props:kB(),setup(e,t){let{slots:n}=t;const i=st(Yf);if(!i)throw new Error("[Vuetify] v-expansion-panel-text needs to be placed inside v-expansion-panel");const{hasContent:r,onAfterLeave:s}=j1(e,i.isSelected);return ve(()=>h(o_,{onAfterLeave:s},{default:()=>{var o;return[pn(h("div",{class:["v-expansion-panel-text",e.class],style:e.style},[n.default&&r.value&&h("div",{class:"v-expansion-panel-text__wrapper"},[(o=n.default)==null?void 0:o.call(n)])]),[[fs,i.isSelected.value]])]}})),{}}}),TB=Z({color:String,expandIcon:{type:Je,default:"$expand"},collapseIcon:{type:Je,default:"$collapse"},hideActions:Boolean,focusable:Boolean,static:Boolean,ripple:{type:[Boolean,Object],default:!1},readonly:Boolean,...$e(),...qn()},"VExpansionPanelTitle"),fw=de()({name:"VExpansionPanelTitle",directives:{Ripple:Vo},props:TB(),setup(e,t){let{slots:n}=t;const i=st(Yf);if(!i)throw new Error("[Vuetify] v-expansion-panel-title needs to be placed inside v-expansion-panel");const{backgroundColorClasses:r,backgroundColorStyles:s}=Gt(e,"color"),{dimensionStyles:o}=Yn(e),a=I(()=>({collapseIcon:e.collapseIcon,disabled:i.disabled.value,expanded:i.isSelected.value,expandIcon:e.expandIcon,readonly:e.readonly})),l=I(()=>i.isSelected.value?e.collapseIcon:e.expandIcon);return ve(()=>{var u;return pn(h("button",{class:["v-expansion-panel-title",{"v-expansion-panel-title--active":i.isSelected.value,"v-expansion-panel-title--focusable":e.focusable,"v-expansion-panel-title--static":e.static},r.value,e.class],style:[s.value,o.value,e.style],type:"button",tabindex:i.disabled.value?-1:void 0,disabled:i.disabled.value,"aria-expanded":i.isSelected.value,onClick:e.readonly?void 0:i.toggle},[h("span",{class:"v-expansion-panel-title__overlay"},null),(u=n.default)==null?void 0:u.call(n,a.value),!e.hideActions&&h(at,{defaults:{VIcon:{icon:l.value}}},{default:()=>{var d;return[h("span",{class:"v-expansion-panel-title__icon"},[((d=n.actions)==null?void 0:d.call(n,a.value))??h(Pt,null,null)])]}})]),[[ur("ripple"),e.ripple]])}),{}}}),cC=Z({title:String,text:String,bgColor:String,...Zn(),...ru(),...yn(),...ut(),...TB(),...kB()},"VExpansionPanel"),hw=de()({name:"VExpansionPanel",props:cC(),emits:{"group:selected":e=>!0},setup(e,t){let{slots:n}=t;const i=su(e,Yf),{backgroundColorClasses:r,backgroundColorStyles:s}=Gt(e,"bgColor"),{elevationClasses:o}=hi(e),{roundedClasses:a}=On(e),l=I(()=>(i==null?void 0:i.disabled.value)||e.disabled),u=I(()=>i.group.items.value.reduce((f,v,g)=>(i.group.selected.value.includes(v.id)&&f.push(g),f),[])),d=I(()=>{const f=i.group.items.value.findIndex(v=>v.id===i.id);return!i.isSelected.value&&u.value.some(v=>v-f===1)}),c=I(()=>{const f=i.group.items.value.findIndex(v=>v.id===i.id);return!i.isSelected.value&&u.value.some(v=>v-f===-1)});return Ut(Yf,i),ve(()=>{const f=!!(n.text||e.text),v=!!(n.title||e.title),g=fw.filterProps(e),p=dw.filterProps(e);return h(e.tag,{class:["v-expansion-panel",{"v-expansion-panel--active":i.isSelected.value,"v-expansion-panel--before-active":d.value,"v-expansion-panel--after-active":c.value,"v-expansion-panel--disabled":l.value},a.value,r.value,e.class],style:[s.value,e.style]},{default:()=>[h("div",{class:["v-expansion-panel__shadow",...o.value]},null),h(at,{defaults:{VExpansionPanelTitle:{...g},VExpansionPanelText:{...p}}},{default:()=>{var _;return[v&&h(fw,{key:"title"},{default:()=>[n.title?n.title():e.title]}),f&&h(dw,{key:"text"},{default:()=>[n.text?n.text():e.text]}),(_=n.default)==null?void 0:_.call(n)]}})]})}),{groupItem:i}}}),bse=["default","accordion","inset","popout"],IB=Z({flat:Boolean,...iu(),...m1(cC(),["bgColor","collapseIcon","color","eager","elevation","expandIcon","focusable","hideActions","readonly","ripple","rounded","tile","static"]),...Ct(),...$e(),...ut(),variant:{type:String,default:"default",validator:e=>bse.includes(e)}},"VExpansionPanels"),vw=de()({name:"VExpansionPanels",props:IB(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const{next:i,prev:r}=La(e,Yf),{themeClasses:s}=Ft(e),o=I(()=>e.variant&&`v-expansion-panels--variant-${e.variant}`);return _n({VExpansionPanel:{bgColor:ue(e,"bgColor"),collapseIcon:ue(e,"collapseIcon"),color:ue(e,"color"),eager:ue(e,"eager"),elevation:ue(e,"elevation"),expandIcon:ue(e,"expandIcon"),focusable:ue(e,"focusable"),hideActions:ue(e,"hideActions"),readonly:ue(e,"readonly"),ripple:ue(e,"ripple"),rounded:ue(e,"rounded"),static:ue(e,"static")}}),ve(()=>h(e.tag,{class:["v-expansion-panels",{"v-expansion-panels--flat":e.flat,"v-expansion-panels--tile":e.tile},s.value,o.value,e.class],style:e.style},{default:()=>{var a;return[(a=n.default)==null?void 0:a.call(n,{prev:r,next:i})]}})),{next:i,prev:r}}}),wse=Z({app:Boolean,appear:Boolean,extended:Boolean,layout:Boolean,offset:Boolean,modelValue:{type:Boolean,default:!0},...zt(c_({active:!0}),["location"]),...Zl(),...Oo(),...hs({transition:"fab-transition"})},"VFab"),Sse=de()({name:"VFab",props:wse(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const i=je(e,"modelValue"),r=Te(56),s=z(),{resizeRef:o}=us(c=>{c.length&&(r.value=c[0].target.clientHeight)}),a=I(()=>e.app||e.absolute),l=I(()=>{var c;return a.value?((c=e.location)==null?void 0:c.split(" ").shift())??"bottom":!1}),u=I(()=>{var c;return a.value?((c=e.location)==null?void 0:c.split(" ")[1])??"end":!1});Ji(()=>e.app,()=>{const c=eu({id:e.name,order:I(()=>parseInt(e.order,10)),position:l,layoutSize:I(()=>e.layout?r.value+24:0),elementSize:I(()=>r.value+24),active:I(()=>e.app&&i.value),absolute:ue(e,"absolute")});rn(()=>{s.value=c.layoutItemStyles.value})});const d=z();return ve(()=>{const c=dt.filterProps(e);return h("div",{ref:d,class:["v-fab",{"v-fab--absolute":e.absolute,"v-fab--app":!!e.app,"v-fab--extended":e.extended,"v-fab--offset":e.offset,[`v-fab--${l.value}`]:a.value,[`v-fab--${u.value}`]:a.value},e.class],style:[e.app?{...s.value}:{height:"inherit",width:void 0},e.style]},[h("div",{class:"v-fab__container"},[h($i,{appear:e.appear,transition:e.transition},{default:()=>[pn(h(dt,J({ref:o},c,{active:void 0,location:void 0}),n),[[fs,e.active]])]})])])}),{}}}),Ese=Z({chips:Boolean,counter:Boolean,counterSizeString:{type:String,default:"$vuetify.fileInput.counterSize"},counterString:{type:String,default:"$vuetify.fileInput.counter"},hideInput:Boolean,multiple:Boolean,showSize:{type:[Boolean,Number,String],default:!1,validator:e=>typeof e=="boolean"||[1e3,1024].includes(Number(e))},...No({prependIcon:"$file"}),modelValue:{type:[Array,Object],default:e=>e.multiple?[]:null,validator:e=>vn(e).every(t=>t!=null&&typeof t=="object")},...Uh({clearable:!0})},"VFileInput"),Cse=de()({name:"VFileInput",inheritAttrs:!1,props:Ese(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,t){let{attrs:n,emit:i,slots:r}=t;const{t:s}=sn(),o=je(e,"modelValue",e.modelValue,w=>vn(w),w=>!e.multiple&&Array.isArray(w)?w[0]:w),{isFocused:a,focus:l,blur:u}=Gs(e),d=I(()=>typeof e.showSize!="boolean"?e.showSize:void 0),c=I(()=>(o.value??[]).reduce((w,C)=>{let{size:A=0}=C;return w+A},0)),f=I(()=>rP(c.value,d.value)),v=I(()=>(o.value??[]).map(w=>{const{name:C="",size:A=0}=w;return e.showSize?`${C} (${rP(A,d.value)})`:C})),g=I(()=>{var C;const w=((C=o.value)==null?void 0:C.length)??0;return e.showSize?s(e.counterSizeString,w,f.value):s(e.counterString,w)}),p=z(),_=z(),y=z(),b=I(()=>a.value||e.active),E=I(()=>["plain","underlined"].includes(e.variant));function k(){var w;y.value!==document.activeElement&&((w=y.value)==null||w.focus()),a.value||l()}function R(w){var C;(C=y.value)==null||C.click()}function O(w){i("mousedown:control",w)}function D(w){var C;(C=y.value)==null||C.click(),i("click:control",w)}function S(w){w.stopPropagation(),k(),ot(()=>{o.value=[],p1(e["onClick:clear"],w)})}return ge(o,w=>{(!Array.isArray(w)||!w.length)&&y.value&&(y.value.value="")}),ve(()=>{const w=!!(r.counter||e.counter),C=!!(w||r.details),[A,P]=Na(n),{modelValue:x,...U}=Ei.filterProps(e),$=H1(e);return h(Ei,J({ref:p,modelValue:o.value,"onUpdate:modelValue":j=>o.value=j,class:["v-file-input",{"v-file-input--chips":!!e.chips,"v-file-input--hide":e.hideInput,"v-input--plain-underlined":E.value},e.class],style:e.style,"onClick:prepend":R},A,U,{centerAffix:!E.value,focused:a.value}),{...r,default:j=>{let{id:Y,isDisabled:W,isDirty:K,isReadonly:G,isValid:te}=j;return h(Yc,J({ref:_,"prepend-icon":e.prependIcon,onMousedown:O,onClick:D,"onClick:clear":S,"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"]},$,{id:Y.value,active:b.value||K.value,dirty:K.value||e.dirty,disabled:W.value,focused:a.value,error:te.value===!1}),{...r,default:oe=>{var Ne;let{props:{class:_e,...Ae}}=oe;return h(Ie,null,[h("input",J({ref:y,type:"file",readonly:G.value,disabled:W.value,multiple:e.multiple,name:e.name,onClick:Q=>{Q.stopPropagation(),G.value&&Q.preventDefault(),k()},onChange:Q=>{if(!Q.target)return;const B=Q.target;o.value=[...B.files??[]]},onFocus:k,onBlur:u},Ae,P),null),h("div",{class:_e},[!!((Ne=o.value)!=null&&Ne.length)&&!e.hideInput&&(r.selection?r.selection({fileNames:v.value,totalBytes:c.value,totalBytesReadable:f.value}):e.chips?v.value.map(Q=>h(au,{key:Q,size:"small",text:Q},null)):v.value.join(", "))])])}})},details:C?j=>{var Y,W;return h(Ie,null,[(Y=r.details)==null?void 0:Y.call(r,j),w&&h(Ie,null,[h("span",null,null),h(f_,{active:!!((W=o.value)!=null&&W.length),value:g.value,disabled:e.disabled},r.counter)])])}:void 0})}),Rr({},p,_,y)}}),kse=Z({app:Boolean,color:String,height:{type:[Number,String],default:"auto"},...cr(),...$e(),...Zn(),...Zl(),...yn(),...ut({tag:"footer"}),...Ct()},"VFooter"),Tse=de()({name:"VFooter",props:kse(),setup(e,t){let{slots:n}=t;const i=z(),{themeClasses:r}=Ft(e),{backgroundColorClasses:s,backgroundColorStyles:o}=Gt(ue(e,"color")),{borderClasses:a}=Dr(e),{elevationClasses:l}=hi(e),{roundedClasses:u}=On(e),d=Te(32),{resizeRef:c}=us(v=>{v.length&&(d.value=v[0].target.clientHeight)}),f=I(()=>e.height==="auto"?d.value:parseInt(e.height,10));return Ji(()=>e.app,()=>{const v=eu({id:e.name,order:I(()=>parseInt(e.order,10)),position:I(()=>"bottom"),layoutSize:f,elementSize:I(()=>e.height==="auto"?void 0:f.value),active:I(()=>e.app),absolute:ue(e,"absolute")});rn(()=>{i.value=v.layoutItemStyles.value})}),ve(()=>h(e.tag,{ref:c,class:["v-footer",r.value,s.value,a.value,l.value,u.value,e.class],style:[o.value,e.app?i.value:{height:Ve(e.height)},e.style]},n)),{}}}),Ise=Z({...$e(),...Xte()},"VForm"),Ase=de()({name:"VForm",props:Ise(),emits:{"update:modelValue":e=>!0,submit:e=>!0},setup(e,t){let{slots:n,emit:i}=t;const r=Qte(e),s=z();function o(l){l.preventDefault(),r.reset()}function a(l){const u=l,d=r.validate();u.then=d.then.bind(d),u.catch=d.catch.bind(d),u.finally=d.finally.bind(d),i("submit",u),u.defaultPrevented||d.then(c=>{var v;let{valid:f}=c;f&&((v=s.value)==null||v.submit())}),u.preventDefault()}return ve(()=>{var l;return h("form",{ref:s,class:["v-form",e.class],style:e.style,novalidate:!0,onReset:o,onSubmit:a},[(l=n.default)==null?void 0:l.call(n,r)])}),Rr(r,s)}}),Pse=Z({disabled:Boolean,modelValue:{type:Boolean,default:null},...$1()},"VHover"),xse=de()({name:"VHover",props:Pse(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const i=je(e,"modelValue"),{runOpenDelay:r,runCloseDelay:s}=B1(e,o=>!e.disabled&&(i.value=o));return()=>{var o;return(o=n.default)==null?void 0:o.call(n,{isHovering:i.value,props:{onMouseenter:r,onMouseleave:s}})}}}),Dse=Z({color:String,direction:{type:String,default:"vertical",validator:e=>["vertical","horizontal"].includes(e)},side:{type:String,default:"end",validator:e=>["start","end","both"].includes(e)},mode:{type:String,default:"intersect",validator:e=>["intersect","manual"].includes(e)},margin:[Number,String],loadMoreText:{type:String,default:"$vuetify.infiniteScroll.loadMore"},emptyText:{type:String,default:"$vuetify.infiniteScroll.empty"},...qn(),...ut()},"VInfiniteScroll"),qP=Ar({name:"VInfiniteScrollIntersect",props:{side:{type:String,required:!0},rootMargin:String},emits:{intersect:(e,t)=>!0},setup(e,t){let{emit:n}=t;const{intersectionRef:i,isIntersecting:r}=a_();return ge(r,async s=>{n("intersect",e.side,s)}),ve(()=>h("div",{class:"v-infinite-scroll-intersect",style:{"--v-infinite-margin-size":e.rootMargin},ref:i},[xe("")])),{}}}),Rse=de()({name:"VInfiniteScroll",props:Dse(),emits:{load:e=>!0},setup(e,t){let{slots:n,emit:i}=t;const r=z(),s=Te("ok"),o=Te("ok"),a=I(()=>Ve(e.margin)),l=Te(!1);function u(R){if(!r.value)return;const O=e.direction==="vertical"?"scrollTop":"scrollLeft";r.value[O]=R}function d(){if(!r.value)return 0;const R=e.direction==="vertical"?"scrollTop":"scrollLeft";return r.value[R]}function c(){if(!r.value)return 0;const R=e.direction==="vertical"?"scrollHeight":"scrollWidth";return r.value[R]}function f(){if(!r.value)return 0;const R=e.direction==="vertical"?"clientHeight":"clientWidth";return r.value[R]}yt(()=>{r.value&&(e.side==="start"?u(c()):e.side==="both"&&u(c()/2-f()/2))});function v(R,O){R==="start"?s.value=O:R==="end"&&(o.value=O)}function g(R){return R==="start"?s.value:o.value}let p=0;function _(R,O){l.value=O,l.value&&y(R)}function y(R){if(e.mode!=="manual"&&!l.value)return;const O=g(R);if(!r.value||["empty","loading"].includes(O))return;p=c(),v(R,"loading");function D(S){v(R,S),ot(()=>{S==="empty"||S==="error"||(S==="ok"&&R==="start"&&u(c()-p+d()),e.mode!=="manual"&&ot(()=>{window.requestAnimationFrame(()=>{window.requestAnimationFrame(()=>{window.requestAnimationFrame(()=>{y(R)})})})}))})}i("load",{side:R,done:D})}const{t:b}=sn();function E(R,O){var w,C,A,P,x;if(e.side!==R&&e.side!=="both")return;const D=()=>y(R),S={side:R,props:{onClick:D,color:e.color}};return O==="error"?(w=n.error)==null?void 0:w.call(n,S):O==="empty"?((C=n.empty)==null?void 0:C.call(n,S))??h("div",null,[b(e.emptyText)]):e.mode==="manual"?O==="loading"?((A=n.loading)==null?void 0:A.call(n,S))??h(ya,{indeterminate:!0,color:e.color},null):((P=n["load-more"])==null?void 0:P.call(n,S))??h(dt,{variant:"outlined",color:e.color,onClick:D},{default:()=>[b(e.loadMoreText)]}):((x=n.loading)==null?void 0:x.call(n,S))??h(ya,{indeterminate:!0,color:e.color},null)}const{dimensionStyles:k}=Yn(e);ve(()=>{const R=e.tag,O=e.side==="start"||e.side==="both",D=e.side==="end"||e.side==="both",S=e.mode==="intersect";return h(R,{ref:r,class:["v-infinite-scroll",`v-infinite-scroll--${e.direction}`,{"v-infinite-scroll--start":O,"v-infinite-scroll--end":D}],style:k.value},{default:()=>{var w;return[h("div",{class:"v-infinite-scroll__side"},[E("start",s.value)]),O&&S&&h(qP,{key:"start",side:"start",onIntersect:_,rootMargin:a.value},null),(w=n.default)==null?void 0:w.call(n),D&&S&&h(qP,{key:"end",side:"end",onIntersect:_,rootMargin:a.value},null),h("div",{class:"v-infinite-scroll__side"},[E("end",o.value)])]}})})}}),AB=Symbol.for("vuetify:v-item-group"),Ose=Z({...$e(),...iu({selectedClass:"v-item--selected"}),...ut(),...Ct()},"VItemGroup"),Vse=de()({name:"VItemGroup",props:Ose(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const{themeClasses:i}=Ft(e),{isSelected:r,select:s,next:o,prev:a,selected:l}=La(e,AB);return()=>h(e.tag,{class:["v-item-group",i.value,e.class],style:e.style},{default:()=>{var u;return[(u=n.default)==null?void 0:u.call(n,{isSelected:r,select:s,next:o,prev:a,selected:l.value})]}})}}),Nse=de()({name:"VItem",props:ru(),emits:{"group:selected":e=>!0},setup(e,t){let{slots:n}=t;const{isSelected:i,select:r,toggle:s,selectedClass:o,value:a,disabled:l}=su(e,AB);return()=>{var u;return(u=n.default)==null?void 0:u.call(n,{isSelected:i.value,selectedClass:o.value,select:r,toggle:s,value:a.value,disabled:l.value})}}}),Mse=Ws("v-kbd"),Lse=Z({...$e(),...qn(),...sF()},"VLayout"),Fse=de()({name:"VLayout",props:Lse(),setup(e,t){let{slots:n}=t;const{layoutClasses:i,layoutStyles:r,getLayoutItem:s,items:o,layoutRef:a}=aF(e),{dimensionStyles:l}=Yn(e);return ve(()=>{var u;return h("div",{ref:a,class:[i.value,e.class],style:[l.value,r.value,e.style]},[(u=n.default)==null?void 0:u.call(n)])}),{getLayoutItem:s,items:o}}}),$se=Z({position:{type:String,required:!0},size:{type:[Number,String],default:300},modelValue:Boolean,...$e(),...Zl()},"VLayoutItem"),Bse=de()({name:"VLayoutItem",props:$se(),setup(e,t){let{slots:n}=t;const{layoutItemStyles:i}=eu({id:e.name,order:I(()=>parseInt(e.order,10)),position:ue(e,"position"),elementSize:ue(e,"size"),layoutSize:ue(e,"size"),active:ue(e,"modelValue"),absolute:ue(e,"absolute")});return()=>{var r;return h("div",{class:["v-layout-item",e.class],style:[i.value,e.style]},[(r=n.default)==null?void 0:r.call(n)])}}}),Use=Z({modelValue:Boolean,options:{type:Object,default:()=>({root:void 0,rootMargin:void 0,threshold:void 0})},...$e(),...qn(),...ut(),...hs({transition:"fade-transition"})},"VLazy"),jse=de()({name:"VLazy",directives:{intersect:Nh},props:Use(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const{dimensionStyles:i}=Yn(e),r=je(e,"modelValue");function s(o){r.value||(r.value=o)}return ve(()=>pn(h(e.tag,{class:["v-lazy",e.class],style:[i.value,e.style]},{default:()=>[r.value&&h($i,{transition:e.transition,appear:!0},{default:()=>{var o;return[(o=n.default)==null?void 0:o.call(n)]}})]}),[[ur("intersect"),{handler:s,options:e.options},null]])),{}}}),Hse=Z({locale:String,fallbackLocale:String,messages:Object,rtl:{type:Boolean,default:void 0},...$e()},"VLocaleProvider"),Wse=de()({name:"VLocaleProvider",props:Hse(),setup(e,t){let{slots:n}=t;const{rtlClasses:i}=IZ(e);return ve(()=>{var r;return h("div",{class:["v-locale-provider",i.value,e.class],style:e.style},[(r=n.default)==null?void 0:r.call(n)])}),{}}}),zse=Z({scrollable:Boolean,...$e(),...qn(),...ut({tag:"main"})},"VMain"),Gse=de()({name:"VMain",props:zse(),setup(e,t){let{slots:n}=t;const{dimensionStyles:i}=Yn(e),{mainStyles:r}=oF(),{ssrBootStyles:s}=tu();return ve(()=>h(e.tag,{class:["v-main",{"v-main--scrollable":e.scrollable},e.class],style:[r.value,s.value,i.value,e.style]},{default:()=>{var o,a;return[e.scrollable?h("div",{class:"v-main__scroller"},[(o=n.default)==null?void 0:o.call(n)]):(a=n.default)==null?void 0:a.call(n)]}})),{}}});function qse(e){let{rootEl:t,isSticky:n,layoutItemStyles:i}=e;const r=Te(!1),s=Te(0),o=I(()=>{const u=typeof r.value=="boolean"?"top":r.value;return[n.value?{top:"auto",bottom:"auto",height:void 0}:void 0,r.value?{[u]:Ve(s.value)}:{top:i.value.top}]});yt(()=>{ge(n,u=>{u?window.addEventListener("scroll",l,{passive:!0}):window.removeEventListener("scroll",l)},{immediate:!0})}),di(()=>{window.removeEventListener("scroll",l)});let a=0;function l(){const u=a>window.scrollY?"up":"down",d=t.value.getBoundingClientRect(),c=parseFloat(i.value.top??0),f=window.scrollY-Math.max(0,s.value-c),v=d.height+Math.max(s.value,c)-window.scrollY-window.innerHeight,g=parseFloat(getComputedStyle(t.value).getPropertyValue("--v-body-scroll-y"))||0;d.height<window.innerHeight-c?(r.value="top",s.value=c):u==="up"&&r.value==="bottom"||u==="down"&&r.value==="top"?(s.value=window.scrollY+d.top-g,r.value=!0):u==="down"&&v<=0?(s.value=0,r.value="bottom"):u==="up"&&f<=0&&(g?r.value!=="top"&&(s.value=-f+g+c,r.value="top"):(s.value=d.top+f,r.value="top")),a=window.scrollY}return{isStuck:r,stickyStyles:o}}const Yse=100,Kse=20;function YP(e){return(e<0?-1:1)*Math.sqrt(Math.abs(e))*1.41421356237}function KP(e){if(e.length<2)return 0;if(e.length===2)return e[1].t===e[0].t?0:(e[1].d-e[0].d)/(e[1].t-e[0].t);let t=0;for(let n=e.length-1;n>0;n--){if(e[n].t===e[n-1].t)continue;const i=YP(t),r=(e[n].d-e[n-1].d)/(e[n].t-e[n-1].t);t+=(r-i)*Math.abs(r),n===e.length-1&&(t*=.5)}return YP(t)*1e3}function Xse(){const e={};function t(r){Array.from(r.changedTouches).forEach(s=>{(e[s.identifier]??(e[s.identifier]=new jJ(Kse))).push([r.timeStamp,s])})}function n(r){Array.from(r.changedTouches).forEach(s=>{delete e[s.identifier]})}function i(r){var u;const s=(u=e[r])==null?void 0:u.values().reverse();if(!s)throw new Error(`No samples for touch id ${r}`);const o=s[0],a=[],l=[];for(const d of s){if(o[0]-d[0]>Yse)break;a.push({t:d[0],d:d[1].clientX}),l.push({t:d[0],d:d[1].clientY})}return{x:KP(a),y:KP(l),get direction(){const{x:d,y:c}=this,[f,v]=[Math.abs(d),Math.abs(c)];return f>v&&d>=0?"right":f>v&&d<=0?"left":v>f&&c>=0?"down":v>f&&c<=0?"up":Qse()}}}return{addMovement:t,endTouch:n,getVelocity:i}}function Qse(){throw new Error}function Jse(e){let{el:t,isActive:n,isTemporary:i,width:r,touchless:s,position:o}=e;yt(()=>{window.addEventListener("touchstart",b,{passive:!0}),window.addEventListener("touchmove",E,{passive:!1}),window.addEventListener("touchend",k,{passive:!0})}),di(()=>{window.removeEventListener("touchstart",b),window.removeEventListener("touchmove",E),window.removeEventListener("touchend",k)});const a=I(()=>["left","right"].includes(o.value)),{addMovement:l,endTouch:u,getVelocity:d}=Xse();let c=!1;const f=Te(!1),v=Te(0),g=Te(0);let p;function _(O,D){return(o.value==="left"?O:o.value==="right"?document.documentElement.clientWidth-O:o.value==="top"?O:o.value==="bottom"?document.documentElement.clientHeight-O:Su())-(D?r.value:0)}function y(O){let D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const S=o.value==="left"?(O-g.value)/r.value:o.value==="right"?(document.documentElement.clientWidth-O-g.value)/r.value:o.value==="top"?(O-g.value)/r.value:o.value==="bottom"?(document.documentElement.clientHeight-O-g.value)/r.value:Su();return D?Math.max(0,Math.min(1,S)):S}function b(O){if(s.value)return;const D=O.changedTouches[0].clientX,S=O.changedTouches[0].clientY,w=25,C=o.value==="left"?D<w:o.value==="right"?D>document.documentElement.clientWidth-w:o.value==="top"?S<w:o.value==="bottom"?S>document.documentElement.clientHeight-w:Su(),A=n.value&&(o.value==="left"?D<r.value:o.value==="right"?D>document.documentElement.clientWidth-r.value:o.value==="top"?S<r.value:o.value==="bottom"?S>document.documentElement.clientHeight-r.value:Su());(C||A||n.value&&i.value)&&(p=[D,S],g.value=_(a.value?D:S,n.value),v.value=y(a.value?D:S),c=g.value>-20&&g.value<80,u(O),l(O))}function E(O){const D=O.changedTouches[0].clientX,S=O.changedTouches[0].clientY;if(c){if(!O.cancelable){c=!1;return}const C=Math.abs(D-p[0]),A=Math.abs(S-p[1]);(a.value?C>A&&C>3:A>C&&A>3)?(f.value=!0,c=!1):(a.value?A:C)>3&&(c=!1)}if(!f.value)return;O.preventDefault(),l(O);const w=y(a.value?D:S,!1);v.value=Math.max(0,Math.min(1,w)),w>1?g.value=_(a.value?D:S,!0):w<0&&(g.value=_(a.value?D:S,!1))}function k(O){if(c=!1,!f.value)return;l(O),f.value=!1;const D=d(O.changedTouches[0].identifier),S=Math.abs(D.x),w=Math.abs(D.y);(a.value?S>w&&S>400:w>S&&w>3)?n.value=D.direction===({left:"right",right:"left",top:"down",bottom:"up"}[o.value]||Su()):n.value=v.value>.5}const R=I(()=>f.value?{transform:o.value==="left"?`translateX(calc(-100% + ${v.value*r.value}px))`:o.value==="right"?`translateX(calc(100% - ${v.value*r.value}px))`:o.value==="top"?`translateY(calc(-100% + ${v.value*r.value}px))`:o.value==="bottom"?`translateY(calc(100% - ${v.value*r.value}px))`:Su(),transition:"none"}:void 0);return Ji(f,()=>{var S,w;const O=((S=t.value)==null?void 0:S.style.transform)??null,D=((w=t.value)==null?void 0:w.style.transition)??null;rn(()=>{var C,A,P,x;(A=t.value)==null||A.style.setProperty("transform",((C=R.value)==null?void 0:C.transform)||"none"),(x=t.value)==null||x.style.setProperty("transition",((P=R.value)==null?void 0:P.transition)||null)}),Ci(()=>{var C,A;(C=t.value)==null||C.style.setProperty("transform",O),(A=t.value)==null||A.style.setProperty("transition",D)})}),{isDragging:f,dragProgress:v,dragStyles:R}}function Su(){throw new Error}const Zse=["start","end","left","right","top","bottom"],eoe=Z({color:String,disableResizeWatcher:Boolean,disableRouteWatcher:Boolean,expandOnHover:Boolean,floating:Boolean,modelValue:{type:Boolean,default:null},permanent:Boolean,rail:{type:Boolean,default:null},railWidth:{type:[Number,String],default:56},scrim:{type:[Boolean,String],default:!0},image:String,temporary:Boolean,persistent:Boolean,touchless:Boolean,width:{type:[Number,String],default:256},location:{type:String,default:"start",validator:e=>Zse.includes(e)},sticky:Boolean,...cr(),...$e(),...$1(),...Jl({mobile:null}),...Zn(),...Zl(),...yn(),...ut({tag:"nav"}),...Ct()},"VNavigationDrawer"),toe=de()({name:"VNavigationDrawer",props:eoe(),emits:{"update:modelValue":e=>!0,"update:rail":e=>!0},setup(e,t){let{attrs:n,emit:i,slots:r}=t;const{isRtl:s}=Jn(),{themeClasses:o}=Ft(e),{borderClasses:a}=Dr(e),{backgroundColorClasses:l,backgroundColorStyles:u}=Gt(ue(e,"color")),{elevationClasses:d}=hi(e),{displayClasses:c,mobile:f}=Pr(e),{roundedClasses:v}=On(e),g=bF(),p=je(e,"modelValue",null,te=>!!te),{ssrBootStyles:_}=tu(),{scopeId:y}=lu(),b=z(),E=Te(!1),{runOpenDelay:k,runCloseDelay:R}=B1(e,te=>{E.value=te}),O=I(()=>e.rail&&e.expandOnHover&&E.value?Number(e.width):Number(e.rail?e.railWidth:e.width)),D=I(()=>V0(e.location,s.value)),S=I(()=>e.persistent),w=I(()=>!e.permanent&&(f.value||e.temporary)),C=I(()=>e.sticky&&!w.value&&D.value!=="bottom");Ji(()=>e.expandOnHover&&e.rail!=null,()=>{ge(E,te=>i("update:rail",!te))}),Ji(()=>!e.disableResizeWatcher,()=>{ge(w,te=>!e.permanent&&ot(()=>p.value=!te))}),Ji(()=>!e.disableRouteWatcher&&!!g,()=>{ge(g.currentRoute,()=>w.value&&(p.value=!1))}),ge(()=>e.permanent,te=>{te&&(p.value=!0)}),e.modelValue==null&&!w.value&&(p.value=e.permanent||!f.value);const{isDragging:A,dragProgress:P}=Jse({el:b,isActive:p,isTemporary:w,width:O,touchless:ue(e,"touchless"),position:D}),x=I(()=>{const te=w.value?0:e.rail&&e.expandOnHover?Number(e.railWidth):O.value;return A.value?te*P.value:te}),U=I(()=>["top","bottom"].includes(e.location)?0:O.value),{layoutItemStyles:$,layoutItemScrimStyles:j}=eu({id:e.name,order:I(()=>parseInt(e.order,10)),position:D,layoutSize:x,elementSize:U,active:I(()=>p.value||A.value),disableTransitions:I(()=>A.value),absolute:I(()=>e.absolute||C.value&&typeof Y.value!="string")}),{isStuck:Y,stickyStyles:W}=qse({rootEl:b,isSticky:C,layoutItemStyles:$}),K=Gt(I(()=>typeof e.scrim=="string"?e.scrim:null)),G=I(()=>({...A.value?{opacity:P.value*.2,transition:"none"}:void 0,...j.value}));return _n({VList:{bgColor:"transparent"}}),ve(()=>{const te=r.image||e.image;return h(Ie,null,[h(e.tag,J({ref:b,onMouseenter:k,onMouseleave:R,class:["v-navigation-drawer",`v-navigation-drawer--${D.value}`,{"v-navigation-drawer--expand-on-hover":e.expandOnHover,"v-navigation-drawer--floating":e.floating,"v-navigation-drawer--is-hovering":E.value,"v-navigation-drawer--rail":e.rail,"v-navigation-drawer--temporary":w.value,"v-navigation-drawer--persistent":S.value,"v-navigation-drawer--active":p.value,"v-navigation-drawer--sticky":C.value},o.value,l.value,a.value,c.value,d.value,v.value,e.class],style:[u.value,$.value,_.value,W.value,e.style,["top","bottom"].includes(D.value)?{height:"auto"}:{}]},y,n),{default:()=>{var oe,_e,Ae;return[te&&h("div",{key:"image",class:"v-navigation-drawer__img"},[r.image?h(at,{key:"image-defaults",disabled:!e.image,defaults:{VImg:{alt:"",cover:!0,height:"inherit",src:e.image}}},r.image):h(ko,{key:"image-img",alt:"",cover:!0,height:"inherit",src:e.image},null)]),r.prepend&&h("div",{class:"v-navigation-drawer__prepend"},[(oe=r.prepend)==null?void 0:oe.call(r)]),h("div",{class:"v-navigation-drawer__content"},[(_e=r.default)==null?void 0:_e.call(r)]),r.append&&h("div",{class:"v-navigation-drawer__append"},[(Ae=r.append)==null?void 0:Ae.call(r)])]}}),h(va,{name:"fade-transition"},{default:()=>[w.value&&(A.value||p.value)&&!!e.scrim&&h("div",J({class:["v-navigation-drawer__scrim",K.backgroundColorClasses.value],style:[G.value,K.backgroundColorStyles.value],onClick:()=>{S.value||(p.value=!1)}},y),null)]})])}),{isStuck:Y}}}),noe=Ar({name:"VNoSsr",setup(e,t){let{slots:n}=t;const i=c$();return()=>{var r;return i.value&&((r=n.default)==null?void 0:r.call(n))}}}),ioe=Z({autofocus:Boolean,divider:String,focusAll:Boolean,label:{type:String,default:"$vuetify.input.otp"},length:{type:[Number,String],default:6},modelValue:{type:[Number,String],default:void 0},placeholder:String,type:{type:String,default:"number"},...qn(),...qc(),...Jp(Uh({variant:"outlined"}),["baseColor","bgColor","class","color","disabled","error","loading","rounded","style","theme","variant"])},"VOtpInput"),roe=de()({name:"VOtpInput",props:ioe(),emits:{finish:e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,t){let{attrs:n,emit:i,slots:r}=t;const{dimensionStyles:s}=Yn(e),{isFocused:o,focus:a,blur:l}=Gs(e),u=je(e,"modelValue","",S=>S==null?[]:String(S).split(""),S=>S.join("")),{t:d}=sn(),c=I(()=>Number(e.length)),f=I(()=>Array(c.value).fill(0)),v=z(-1),g=z(),p=z([]),_=I(()=>p.value[v.value]);function y(){if(D(_.value.value)){_.value.value="";return}const S=u.value.slice(),w=_.value.value;S[v.value]=w;let C=null;v.value>u.value.length?C=u.value.length+1:v.value+1!==c.value&&(C="next"),u.value=S,C&&_l(g.value,C)}function b(S){const w=u.value.slice(),C=v.value;let A=null;["ArrowLeft","ArrowRight","Backspace","Delete"].includes(S.key)&&(S.preventDefault(),S.key==="ArrowLeft"?A="prev":S.key==="ArrowRight"?A="next":["Backspace","Delete"].includes(S.key)&&(w[v.value]="",u.value=w,v.value>0&&S.key==="Backspace"?A="prev":requestAnimationFrame(()=>{var P;(P=p.value[C])==null||P.select()})),requestAnimationFrame(()=>{A!=null&&_l(g.value,A)}))}function E(S,w){var A,P;w.preventDefault(),w.stopPropagation();const C=((A=w==null?void 0:w.clipboardData)==null?void 0:A.getData("Text").slice(0,c.value))??"";D(C)||(u.value=C.split(""),(P=p.value)==null||P[S].blur())}function k(){u.value=[]}function R(S,w){a(),v.value=w}function O(){l(),v.value=-1}function D(S){return e.type==="number"&&/[^0-9]/g.test(S)}return _n({VField:{color:I(()=>e.color),bgColor:I(()=>e.color),baseColor:I(()=>e.baseColor),disabled:I(()=>e.disabled),error:I(()=>e.error),variant:I(()=>e.variant)}},{scoped:!0}),ge(u,S=>{S.length===c.value&&i("finish",S.join(""))},{deep:!0}),ge(v,S=>{S<0||ot(()=>{var w;(w=p.value[S])==null||w.select()})}),ve(()=>{var C;const[S,w]=Na(n);return h("div",J({class:["v-otp-input",{"v-otp-input--divided":!!e.divider},e.class],style:[e.style]},S),[h("div",{ref:g,class:"v-otp-input__content",style:[s.value]},[f.value.map((A,P)=>h(Ie,null,[e.divider&&P!==0&&h("span",{class:"v-otp-input__divider"},[e.divider]),h(Yc,{focused:o.value&&e.focusAll||v.value===P,key:P},{...r,loader:void 0,default:()=>h("input",{ref:x=>p.value[P]=x,"aria-label":d(e.label,P+1),autofocus:P===0&&e.autofocus,autocomplete:"one-time-code",class:["v-otp-input__field"],disabled:e.disabled,inputmode:e.type==="number"?"numeric":"text",min:e.type==="number"?0:void 0,maxlength:"1",placeholder:e.placeholder,type:e.type==="number"?"text":e.type,value:u.value[P],onInput:y,onFocus:x=>R(x,P),onBlur:O,onKeydown:b,onPaste:x=>E(P,x)},null)})])),h("input",J({class:"v-otp-input-input",type:"hidden"},w,{value:u.value.join("")}),null),h(Ls,{contained:!0,"content-class":"v-otp-input__loader","model-value":!!e.loading,persistent:!0},{default:()=>{var A;return[((A=r.loader)==null?void 0:A.call(r))??h(ya,{color:typeof e.loading=="boolean"?void 0:e.loading,indeterminate:!0,size:"24",width:"2"},null)]}}),(C=r.default)==null?void 0:C.call(r)])])}),{blur:()=>{var S;(S=p.value)==null||S.some(w=>w.blur())},focus:()=>{var S;(S=p.value)==null||S[0].focus()},reset:k,isFocused:o}}});function soe(e){return Math.floor(Math.abs(e))*Math.sign(e)}const ooe=Z({scale:{type:[Number,String],default:.5},...$e()},"VParallax"),aoe=de()({name:"VParallax",props:ooe(),setup(e,t){let{slots:n}=t;const{intersectionRef:i,isIntersecting:r}=a_(),{resizeRef:s,contentRect:o}=us(),{height:a}=Pr(),l=z();rn(()=>{var v;i.value=s.value=(v=l.value)==null?void 0:v.$el});let u;ge(r,v=>{v?(u=S1(i.value),u=u===document.scrollingElement?document:u,u.addEventListener("scroll",f,{passive:!0}),f()):u.removeEventListener("scroll",f)}),di(()=>{u==null||u.removeEventListener("scroll",f)}),ge(a,f),ge(()=>{var v;return(v=o.value)==null?void 0:v.height},f);const d=I(()=>1-kn(+e.scale));let c=-1;function f(){r.value&&(cancelAnimationFrame(c),c=requestAnimationFrame(()=>{var R;const v=((R=l.value)==null?void 0:R.$el).querySelector(".v-img__img");if(!v)return;const g=u instanceof Document?document.documentElement.clientHeight:u.clientHeight,p=u instanceof Document?window.scrollY:u.scrollTop,_=i.value.getBoundingClientRect().top+p,y=o.value.height,b=_+(y-g)/2,E=soe((p-b)*d.value),k=Math.max(1,(d.value*(g-y)+y)/y);v.style.setProperty("transform",`translateY(${E}px) scale(${k})`)}))}return ve(()=>h(ko,{class:["v-parallax",{"v-parallax--active":r.value},e.class],style:e.style,ref:l,cover:!0,onLoadstart:f,onLoad:f},n)),{}}}),loe=Z({...d_({falseIcon:"$radioOff",trueIcon:"$radioOn"})},"VRadio"),uoe=de()({name:"VRadio",props:loe(),setup(e,t){let{slots:n}=t;return ve(()=>{const i=ba.filterProps(e);return h(ba,J(i,{class:["v-radio",e.class],style:e.style,type:"radio"}),n)}),{}}}),coe=Z({height:{type:[Number,String],default:"auto"},...No(),...zt(V1(),["multiple"]),trueIcon:{type:Je,default:"$radioOn"},falseIcon:{type:Je,default:"$radioOff"},type:{type:String,default:"radio"}},"VRadioGroup"),doe=de()({name:"VRadioGroup",inheritAttrs:!1,props:coe(),emits:{"update:modelValue":e=>!0},setup(e,t){let{attrs:n,slots:i}=t;const r=fi(),s=I(()=>e.id||`radio-group-${r}`),o=je(e,"modelValue");return ve(()=>{const[a,l]=Na(n),u=Ei.filterProps(e),d=ba.filterProps(e),c=i.label?i.label({label:e.label,props:{for:s.value}}):e.label;return h(Ei,J({class:["v-radio-group",e.class],style:e.style},a,u,{modelValue:o.value,"onUpdate:modelValue":f=>o.value=f,id:s.value}),{...i,default:f=>{let{id:v,messagesId:g,isDisabled:p,isReadonly:_}=f;return h(Ie,null,[c&&h(Gc,{id:v.value},{default:()=>[c]}),h(DF,J(d,{id:v.value,"aria-describedby":g.value,defaultsTarget:"VRadio",trueIcon:e.trueIcon,falseIcon:e.falseIcon,type:e.type,disabled:p.value,readonly:_.value,"aria-labelledby":c?v.value:void 0,multiple:!1},l,{modelValue:o.value,"onUpdate:modelValue":y=>o.value=y}),i)])}})}),{}}}),foe=Z({...qc(),...No(),...R$(),strict:Boolean,modelValue:{type:Array,default:()=>[0,0]}},"VRangeSlider"),hoe=de()({name:"VRangeSlider",props:foe(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,end:e=>!0,start:e=>!0},setup(e,t){let{slots:n,emit:i}=t;const r=z(),s=z(),o=z(),{rtlClasses:a}=Jn();function l(C){if(!r.value||!s.value)return;const A=Z0(C,r.value.$el,e.direction),P=Z0(C,s.value.$el,e.direction),x=Math.abs(A),U=Math.abs(P);return x<U||x===U&&A<0?r.value.$el:s.value.$el}const u=O$(e),d=je(e,"modelValue",void 0,C=>C!=null&&C.length?C.map(A=>u.roundValue(A)):[0,0]),{activeThumbRef:c,hasLabels:f,max:v,min:g,mousePressed:p,onSliderMousedown:_,onSliderTouchstart:y,position:b,trackContainerRef:E,readonly:k}=V$({props:e,steps:u,onSliderStart:()=>{i("start",d.value)},onSliderEnd:C=>{var x;let{value:A}=C;const P=c.value===((x=r.value)==null?void 0:x.$el)?[A,d.value[1]]:[d.value[0],A];!e.strict&&P[0]<P[1]&&(d.value=P),i("end",d.value)},onSliderMove:C=>{var U,$,j,Y;let{value:A}=C;const[P,x]=d.value;!e.strict&&P===x&&P!==g.value&&(c.value=A>P?(U=s.value)==null?void 0:U.$el:($=r.value)==null?void 0:$.$el,(j=c.value)==null||j.focus()),c.value===((Y=r.value)==null?void 0:Y.$el)?d.value=[Math.min(A,x),x]:d.value=[P,Math.max(P,A)]},getActiveThumb:l}),{isFocused:R,focus:O,blur:D}=Gs(e),S=I(()=>b(d.value[0])),w=I(()=>b(d.value[1]));return ve(()=>{const C=Ei.filterProps(e),A=!!(e.label||n.label||n.prepend);return h(Ei,J({class:["v-slider","v-range-slider",{"v-slider--has-labels":!!n["tick-label"]||f.value,"v-slider--focused":R.value,"v-slider--pressed":p.value,"v-slider--disabled":e.disabled},a.value,e.class],style:e.style,ref:o},C,{focused:R.value}),{...n,prepend:A?P=>{var x,U;return h(Ie,null,[((x=n.label)==null?void 0:x.call(n,P))??(e.label?h(Gc,{class:"v-slider__label",text:e.label},null):void 0),(U=n.prepend)==null?void 0:U.call(n,P)])}:void 0,default:P=>{var $,j;let{id:x,messagesId:U}=P;return h("div",{class:"v-slider__container",onMousedown:k.value?void 0:_,onTouchstartPassive:k.value?void 0:y},[h("input",{id:`${x.value}_start`,name:e.name||x.value,disabled:!!e.disabled,readonly:!!e.readonly,tabindex:"-1",value:d.value[0]},null),h("input",{id:`${x.value}_stop`,name:e.name||x.value,disabled:!!e.disabled,readonly:!!e.readonly,tabindex:"-1",value:d.value[1]},null),h(N$,{ref:E,start:S.value,stop:w.value},{"tick-label":n["tick-label"]}),h(ew,{ref:r,"aria-describedby":U.value,focused:R&&c.value===(($=r.value)==null?void 0:$.$el),modelValue:d.value[0],"onUpdate:modelValue":Y=>d.value=[Y,d.value[1]],onFocus:Y=>{var W,K,G,te;O(),c.value=(W=r.value)==null?void 0:W.$el,d.value[0]===d.value[1]&&d.value[1]===g.value&&Y.relatedTarget!==((K=s.value)==null?void 0:K.$el)&&((G=r.value)==null||G.$el.blur(),(te=s.value)==null||te.$el.focus())},onBlur:()=>{D(),c.value=void 0},min:g.value,max:d.value[1],position:S.value,ripple:e.ripple},{"thumb-label":n["thumb-label"]}),h(ew,{ref:s,"aria-describedby":U.value,focused:R&&c.value===((j=s.value)==null?void 0:j.$el),modelValue:d.value[1],"onUpdate:modelValue":Y=>d.value=[d.value[0],Y],onFocus:Y=>{var W,K,G,te;O(),c.value=(W=s.value)==null?void 0:W.$el,d.value[0]===d.value[1]&&d.value[0]===v.value&&Y.relatedTarget!==((K=r.value)==null?void 0:K.$el)&&((G=s.value)==null||G.$el.blur(),(te=r.value)==null||te.$el.focus())},onBlur:()=>{D(),c.value=void 0},min:d.value[0],max:v.value,position:w.value,ripple:e.ripple},{"thumb-label":n["thumb-label"]})])}})}),{}}}),voe=Z({name:String,itemAriaLabel:{type:String,default:"$vuetify.rating.ariaLabel.item"},activeColor:String,color:String,clearable:Boolean,disabled:Boolean,emptyIcon:{type:Je,default:"$ratingEmpty"},fullIcon:{type:Je,default:"$ratingFull"},halfIncrements:Boolean,hover:Boolean,length:{type:[Number,String],default:5},readonly:Boolean,modelValue:{type:[Number,String],default:0},itemLabels:Array,itemLabelPosition:{type:String,default:"top",validator:e=>["top","bottom"].includes(e)},ripple:Boolean,...$e(),...ri(),...zs(),...ut(),...Ct()},"VRating"),moe=de()({name:"VRating",props:voe(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const{t:i}=sn(),{themeClasses:r}=Ft(e),s=je(e,"modelValue"),o=I(()=>kn(parseFloat(s.value),0,+e.length)),a=I(()=>br(Number(e.length),1)),l=I(()=>a.value.flatMap(p=>e.halfIncrements?[p-.5,p]:[p])),u=Te(-1),d=I(()=>l.value.map(p=>{const _=e.hover&&u.value>-1,y=o.value>=p,b=u.value>=p,k=(_?b:y)?e.fullIcon:e.emptyIcon,R=e.activeColor??e.color,O=y||b?R:e.color;return{isFilled:y,isHovered:b,icon:k,color:O}})),c=I(()=>[0,...l.value].map(p=>{function _(){u.value=p}function y(){u.value=-1}function b(){e.disabled||e.readonly||(s.value=o.value===p&&e.clearable?0:p)}return{onMouseenter:e.hover?_:void 0,onMouseleave:e.hover?y:void 0,onClick:b}})),f=I(()=>e.name??`v-rating-${fi()}`);function v(p){var S,w;let{value:_,index:y,showStar:b=!0}=p;const{onMouseenter:E,onMouseleave:k,onClick:R}=c.value[y+1],O=`${f.value}-${String(_).replace(".","-")}`,D={color:(S=d.value[y])==null?void 0:S.color,density:e.density,disabled:e.disabled,icon:(w=d.value[y])==null?void 0:w.icon,ripple:e.ripple,size:e.size,variant:"plain"};return h(Ie,null,[h("label",{for:O,class:{"v-rating__item--half":e.halfIncrements&&_%1>0,"v-rating__item--full":e.halfIncrements&&_%1===0},onMouseenter:E,onMouseleave:k,onClick:R},[h("span",{class:"v-rating__hidden"},[i(e.itemAriaLabel,_,e.length)]),b?n.item?n.item({...d.value[y],props:D,value:_,index:y,rating:o.value}):h(dt,J({"aria-label":i(e.itemAriaLabel,_,e.length)},D),null):void 0]),h("input",{class:"v-rating__hidden",name:f.value,id:O,type:"radio",value:_,checked:o.value===_,tabindex:-1,readonly:e.readonly,disabled:e.disabled},null)])}function g(p){return n["item-label"]?n["item-label"](p):p.label?h("span",null,[p.label]):h("span",null,[xe("")])}return ve(()=>{var _;const p=!!((_=e.itemLabels)!=null&&_.length)||n["item-label"];return h(e.tag,{class:["v-rating",{"v-rating--hover":e.hover,"v-rating--readonly":e.readonly},r.value,e.class],style:e.style},{default:()=>[h(v,{value:0,index:-1,showStar:!1},null),a.value.map((y,b)=>{var E,k;return h("div",{class:"v-rating__wrapper"},[p&&e.itemLabelPosition==="top"?g({value:y,index:b,label:(E=e.itemLabels)==null?void 0:E[b]}):void 0,h("div",{class:"v-rating__item"},[e.halfIncrements?h(Ie,null,[h(v,{value:y-.5,index:b*2},null),h(v,{value:y,index:b*2+1},null)]):h(v,{value:y,index:b},null)]),p&&e.itemLabelPosition==="bottom"?g({value:y,index:b,label:(k=e.itemLabels)==null?void 0:k[b]}):void 0])})]})}),{}}}),goe={actions:"button@2",article:"heading, paragraph",avatar:"avatar",button:"button",card:"image, heading","card-avatar":"image, list-item-avatar",chip:"chip","date-picker":"list-item, heading, divider, date-picker-options, date-picker-days, actions","date-picker-options":"text, avatar@2","date-picker-days":"avatar@28",divider:"divider",heading:"heading",image:"image","list-item":"text","list-item-avatar":"avatar, text","list-item-two-line":"sentences","list-item-avatar-two-line":"avatar, sentences","list-item-three-line":"paragraph","list-item-avatar-three-line":"avatar, paragraph",ossein:"ossein",paragraph:"text@3",sentences:"text@2",subtitle:"text",table:"table-heading, table-thead, table-tbody, table-tfoot","table-heading":"chip, text","table-thead":"heading@6","table-tbody":"table-row-divider@6","table-row-divider":"table-row, divider","table-row":"text@6","table-tfoot":"text@2, avatar@2",text:"text"};function poe(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return h("div",{class:["v-skeleton-loader__bone",`v-skeleton-loader__${e}`]},[t])}function XP(e){const[t,n]=e.split("@");return Array.from({length:n}).map(()=>T_(t))}function T_(e){let t=[];if(!e)return t;const n=goe[e];if(e!==n){if(e.includes(","))return QP(e);if(e.includes("@"))return XP(e);n.includes(",")?t=QP(n):n.includes("@")?t=XP(n):n&&t.push(T_(n))}return[poe(e,t)]}function QP(e){return e.replace(/\s/g,"").split(",").map(T_)}const _oe=Z({boilerplate:Boolean,color:String,loading:Boolean,loadingText:{type:String,default:"$vuetify.loading"},type:{type:[String,Array],default:"ossein"},...qn(),...Zn(),...Ct()},"VSkeletonLoader"),yoe=de()({name:"VSkeletonLoader",props:_oe(),setup(e,t){let{slots:n}=t;const{backgroundColorClasses:i,backgroundColorStyles:r}=Gt(ue(e,"color")),{dimensionStyles:s}=Yn(e),{elevationClasses:o}=hi(e),{themeClasses:a}=Ft(e),{t:l}=sn(),u=I(()=>T_(vn(e.type).join(",")));return ve(()=>{var f;const d=!n.default||e.loading,c=e.boilerplate||!d?{}:{ariaLive:"polite",ariaLabel:l(e.loadingText),role:"alert"};return h("div",J({class:["v-skeleton-loader",{"v-skeleton-loader--boilerplate":e.boilerplate},a.value,i.value,o.value],style:[r.value,d?s.value:{}]},c),[d?u.value:(f=n.default)==null?void 0:f.call(n)])}),{}}}),boe=de()({name:"VSlideGroupItem",props:ru(),emits:{"group:selected":e=>!0},setup(e,t){let{slots:n}=t;const i=su(e,BF);return()=>{var r;return(r=n.default)==null?void 0:r.call(n,{isSelected:i.isSelected.value,select:i.select,toggle:i.toggle,selectedClass:i.selectedClass.value})}}});function woe(e){const t=Te(e());let n=-1;function i(){clearInterval(n)}function r(){i(),ot(()=>t.value=e())}function s(o){const a=o?getComputedStyle(o):{transitionDuration:.2},l=parseFloat(a.transitionDuration)*1e3||200;if(i(),t.value<=0)return;const u=performance.now();n=window.setInterval(()=>{const d=performance.now()-u+l;t.value=Math.max(e()-d,0),t.value<=0&&i()},l)}return Ci(i),{clear:i,time:t,start:s,reset:r}}const PB=Z({multiLine:Boolean,text:String,timer:[Boolean,String],timeout:{type:[Number,String],default:5e3},vertical:Boolean,...Oo({location:"bottom"}),...Hc(),...yn(),...Hr(),...Ct(),...zt(Bh({transition:"v-snackbar-transition"}),["persistent","noClickAnimation","scrim","scrollStrategy"])},"VSnackbar"),mw=de()({name:"VSnackbar",props:PB(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const i=je(e,"modelValue"),{positionClasses:r}=Wc(e),{scopeId:s}=lu(),{themeClasses:o}=Ft(e),{colorClasses:a,colorStyles:l,variantClasses:u}=nu(e),{roundedClasses:d}=On(e),c=woe(()=>Number(e.timeout)),f=z(),v=z(),g=Te(!1),p=Te(0),_=z(),y=st(Ff,void 0);Ji(()=>!!y,()=>{const A=oF();rn(()=>{_.value=A.mainStyles.value})}),ge(i,E),ge(()=>e.timeout,E),yt(()=>{i.value&&E()});let b=-1;function E(){c.reset(),window.clearTimeout(b);const A=Number(e.timeout);if(!i.value||A===-1)return;const P=v1(v.value);c.start(P),b=window.setTimeout(()=>{i.value=!1},A)}function k(){c.reset(),window.clearTimeout(b)}function R(){g.value=!0,k()}function O(){g.value=!1,E()}function D(A){p.value=A.touches[0].clientY}function S(A){Math.abs(p.value-A.changedTouches[0].clientY)>50&&(i.value=!1)}function w(){g.value&&O()}const C=I(()=>e.location.split(" ").reduce((A,P)=>(A[`v-snackbar--${P}`]=!0,A),{}));return ve(()=>{const A=Ls.filterProps(e),P=!!(n.default||n.text||e.text);return h(Ls,J({ref:f,class:["v-snackbar",{"v-snackbar--active":i.value,"v-snackbar--multi-line":e.multiLine&&!e.vertical,"v-snackbar--timer":!!e.timer,"v-snackbar--vertical":e.vertical},C.value,r.value,e.class],style:[_.value,e.style]},A,{modelValue:i.value,"onUpdate:modelValue":x=>i.value=x,contentProps:J({class:["v-snackbar__wrapper",o.value,a.value,d.value,u.value],style:[l.value],onPointerenter:R,onPointerleave:O},A.contentProps),persistent:!0,noClickAnimation:!0,scrim:!1,scrollStrategy:"none",_disableGlobalStack:!0,onTouchstartPassive:D,onTouchend:S,onAfterLeave:w},s),{default:()=>{var x,U;return[Ma(!1,"v-snackbar"),e.timer&&!g.value&&h("div",{key:"timer",class:"v-snackbar__timer"},[h(l_,{ref:v,color:typeof e.timer=="string"?e.timer:"info",max:e.timeout,"model-value":c.time.value},null)]),P&&h("div",{key:"content",class:"v-snackbar__content",role:"status","aria-live":"polite"},[((x=n.text)==null?void 0:x.call(n))??e.text,(U=n.default)==null?void 0:U.call(n)]),n.actions&&h(at,{defaults:{VBtn:{variant:"text",ripple:!1,slim:!0}}},{default:()=>[h("div",{class:"v-snackbar__actions"},[n.actions({isActive:i})])]})]},activator:n.activator})}),Rr({},f)}}),xB=Z({autoDraw:Boolean,autoDrawDuration:[Number,String],autoDrawEasing:{type:String,default:"ease"},color:String,gradient:{type:Array,default:()=>[]},gradientDirection:{type:String,validator:e=>["top","bottom","left","right"].includes(e),default:"top"},height:{type:[String,Number],default:75},labels:{type:Array,default:()=>[]},labelSize:{type:[Number,String],default:7},lineWidth:{type:[String,Number],default:4},id:String,itemValue:{type:String,default:"value"},modelValue:{type:Array,default:()=>[]},min:[String,Number],max:[String,Number],padding:{type:[String,Number],default:8},showLabels:Boolean,smooth:Boolean,width:{type:[Number,String],default:300}},"Line"),DB=Z({autoLineWidth:Boolean,...xB()},"VBarline"),JP=de()({name:"VBarline",props:DB(),setup(e,t){let{slots:n}=t;const i=fi(),r=I(()=>e.id||`barline-${i}`),s=I(()=>Number(e.autoDrawDuration)||500),o=I(()=>!!(e.showLabels||e.labels.length>0||n!=null&&n.label)),a=I(()=>parseFloat(e.lineWidth)||4),l=I(()=>Math.max(e.modelValue.length*a.value,Number(e.width))),u=I(()=>({minX:0,maxX:l.value,minY:0,maxY:parseInt(e.height,10)})),d=I(()=>e.modelValue.map(p=>jn(p,e.itemValue,p)));function c(p,_){const{minX:y,maxX:b,minY:E,maxY:k}=_,R=p.length;let O=e.max!=null?Number(e.max):Math.max(...p),D=e.min!=null?Number(e.min):Math.min(...p);D>0&&e.min==null&&(D=0),O<0&&e.max==null&&(O=0);const S=b/R,w=(k-E)/(O-D||1),C=k-Math.abs(D*w);return p.map((A,P)=>{const x=Math.abs(w*A);return{x:y+P*S,y:C-x+ +(A<0)*x,height:x,value:A}})}const f=I(()=>{const p=[],_=c(d.value,u.value),y=_.length;for(let b=0;p.length<y;b++){const E=_[b];let k=e.labels[b];k||(k=typeof E=="object"?E.value:E),p.push({x:E.x,value:String(k)})}return p}),v=I(()=>c(d.value,u.value)),g=I(()=>(Math.abs(v.value[0].x-v.value[1].x)-a.value)/2);ve(()=>{const p=e.gradient.slice().length?e.gradient.slice().reverse():[""];return h("svg",{display:"block"},[h("defs",null,[h("linearGradient",{id:r.value,gradientUnits:"userSpaceOnUse",x1:e.gradientDirection==="left"?"100%":"0",y1:e.gradientDirection==="top"?"100%":"0",x2:e.gradientDirection==="right"?"100%":"0",y2:e.gradientDirection==="bottom"?"100%":"0"},[p.map((_,y)=>h("stop",{offset:y/Math.max(p.length-1,1),"stop-color":_||"currentColor"},null))])]),h("clipPath",{id:`${r.value}-clip`},[v.value.map(_=>h("rect",{x:_.x+g.value,y:_.y,width:a.value,height:_.height,rx:typeof e.smooth=="number"?e.smooth:e.smooth?2:0,ry:typeof e.smooth=="number"?e.smooth:e.smooth?2:0},[e.autoDraw&&h(Ie,null,[h("animate",{attributeName:"y",from:_.y+_.height,to:_.y,dur:`${s.value}ms`,fill:"freeze"},null),h("animate",{attributeName:"height",from:"0",to:_.height,dur:`${s.value}ms`,fill:"freeze"},null)])]))]),o.value&&h("g",{key:"labels",style:{textAnchor:"middle",dominantBaseline:"mathematical",fill:"currentColor"}},[f.value.map((_,y)=>{var b;return h("text",{x:_.x+g.value+a.value/2,y:parseInt(e.height,10)-2+(parseInt(e.labelSize,10)||7*.75),"font-size":Number(e.labelSize)||7},[((b=n.label)==null?void 0:b.call(n,{index:y,value:_.value}))??_.value])})]),h("g",{"clip-path":`url(#${r.value}-clip)`,fill:`url(#${r.value})`},[h("rect",{x:0,y:0,width:Math.max(e.modelValue.length*a.value,Number(e.width)),height:e.height},null)])])})}});function Soe(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:75;if(e.length===0)return"";const r=e.shift(),s=e[e.length-1];return(n?`M${r.x} ${i-r.x+2} L${r.x} ${r.y}`:`M${r.x} ${r.y}`)+e.map((o,a)=>{const l=e[a+1],u=e[a-1]||r,d=l&&Eoe(l,o,u);if(!l||d)return`L${o.x} ${o.y}`;const c=Math.min(ZP(u,o),ZP(l,o)),v=c/2<t?c/2:t,g=ex(u,o,v),p=ex(l,o,v);return`L${g.x} ${g.y}S${o.x} ${o.y} ${p.x} ${p.y}`}).join("")+(n?`L${s.x} ${i-r.x+2} Z`:"")}function Vv(e){return parseInt(e,10)}function Eoe(e,t,n){return Vv(e.x+n.x)===Vv(2*t.x)&&Vv(e.y+n.y)===Vv(2*t.y)}function ZP(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function ex(e,t,n){const i={x:e.x-t.x,y:e.y-t.y},r=Math.sqrt(i.x*i.x+i.y*i.y),s={x:i.x/r,y:i.y/r};return{x:t.x+s.x*n,y:t.y+s.y*n}}const RB=Z({fill:Boolean,...xB()},"VTrendline"),tx=de()({name:"VTrendline",props:RB(),setup(e,t){let{slots:n}=t;const i=fi(),r=I(()=>e.id||`trendline-${i}`),s=I(()=>Number(e.autoDrawDuration)||(e.fill?500:2e3)),o=z(0),a=z(null);function l(_,y){const{minX:b,maxX:E,minY:k,maxY:R}=y,O=_.length,D=e.max!=null?Number(e.max):Math.max(..._),S=e.min!=null?Number(e.min):Math.min(..._),w=(E-b)/(O-1),C=(R-k)/(D-S||1);return _.map((A,P)=>({x:b+P*w,y:R-(A-S)*C,value:A}))}const u=I(()=>!!(e.showLabels||e.labels.length>0||n!=null&&n.label)),d=I(()=>parseFloat(e.lineWidth)||4),c=I(()=>Number(e.width)),f=I(()=>{const _=Number(e.padding);return{minX:_,maxX:c.value-_,minY:_,maxY:parseInt(e.height,10)-_}}),v=I(()=>e.modelValue.map(_=>jn(_,e.itemValue,_))),g=I(()=>{const _=[],y=l(v.value,f.value),b=y.length;for(let E=0;_.length<b;E++){const k=y[E];let R=e.labels[E];R||(R=typeof k=="object"?k.value:k),_.push({x:k.x,value:String(R)})}return _});ge(()=>e.modelValue,async()=>{if(await ot(),!e.autoDraw||!a.value)return;const _=a.value,y=_.getTotalLength();e.fill?(_.style.transformOrigin="bottom center",_.style.transition="none",_.style.transform="scaleY(0)",_.getBoundingClientRect(),_.style.transition=`transform ${s.value}ms ${e.autoDrawEasing}`,_.style.transform="scaleY(1)"):(_.style.strokeDasharray=`${y}`,_.style.strokeDashoffset=`${y}`,_.getBoundingClientRect(),_.style.transition=`stroke-dashoffset ${s.value}ms ${e.autoDrawEasing}`,_.style.strokeDashoffset="0"),o.value=y},{immediate:!0});function p(_){return Soe(l(v.value,f.value),e.smooth?8:Number(e.smooth),_,parseInt(e.height,10))}ve(()=>{var y;const _=e.gradient.slice().length?e.gradient.slice().reverse():[""];return h("svg",{display:"block","stroke-width":parseFloat(e.lineWidth)??4},[h("defs",null,[h("linearGradient",{id:r.value,gradientUnits:"userSpaceOnUse",x1:e.gradientDirection==="left"?"100%":"0",y1:e.gradientDirection==="top"?"100%":"0",x2:e.gradientDirection==="right"?"100%":"0",y2:e.gradientDirection==="bottom"?"100%":"0"},[_.map((b,E)=>h("stop",{offset:E/Math.max(_.length-1,1),"stop-color":b||"currentColor"},null))])]),u.value&&h("g",{key:"labels",style:{textAnchor:"middle",dominantBaseline:"mathematical",fill:"currentColor"}},[g.value.map((b,E)=>{var k;return h("text",{x:b.x+d.value/2+d.value/2,y:parseInt(e.height,10)-4+(parseInt(e.labelSize,10)||7*.75),"font-size":Number(e.labelSize)||7},[((k=n.label)==null?void 0:k.call(n,{index:E,value:b.value}))??b.value])})]),h("path",{ref:a,d:p(e.fill),fill:e.fill?`url(#${r.value})`:"none",stroke:e.fill?"none":`url(#${r.value})`},null),e.fill&&h("path",{d:p(!1),fill:"none",stroke:e.color??((y=e.gradient)==null?void 0:y[0])},null)])})}}),Coe=Z({type:{type:String,default:"trend"},...DB(),...RB()},"VSparkline"),koe=de()({name:"VSparkline",props:Coe(),setup(e,t){let{slots:n}=t;const{textColorClasses:i,textColorStyles:r}=ci(ue(e,"color")),s=I(()=>!!(e.showLabels||e.labels.length>0||n!=null&&n.label)),o=I(()=>{let a=parseInt(e.height,10);return s.value&&(a+=parseInt(e.labelSize,10)*1.5),a});ve(()=>{const a=e.type==="trend"?tx:JP,l=e.type==="trend"?tx.filterProps(e):JP.filterProps(e);return h(a,J({key:e.type,class:i.value,style:r.value,viewBox:`0 0 ${e.width} ${parseInt(o.value,10)}`},l),n)})}}),Toe=Z({...$e(),...v$({offset:8,minWidth:0,openDelay:0,closeDelay:100,location:"top center",transition:"scale-transition"})},"VSpeedDial"),Ioe=de()({name:"VSpeedDial",props:Toe(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const i=je(e,"modelValue"),r=z(),s=I(()=>{var u;const[a,l="center"]=((u=e.location)==null?void 0:u.split(" "))??[];return`${a} ${l}`}),o=I(()=>({[`v-speed-dial__content--${s.value.replace(" ","-")}`]:!0}));return ve(()=>{const a=Fl.filterProps(e);return h(Fl,J(a,{modelValue:i.value,"onUpdate:modelValue":l=>i.value=l,class:e.class,style:e.style,contentClass:["v-speed-dial__content",o.value,e.contentClass],location:s.value,ref:r,transition:"fade-transition"}),{...n,default:l=>h(at,{defaults:{VBtn:{size:"small"}}},{default:()=>[h($i,{appear:!0,group:!0,transition:e.transition},{default:()=>{var u;return[(u=n.default)==null?void 0:u.call(n,l)]}})]})})}),{}}}),dC=Symbol.for("vuetify:v-stepper"),fC=Z({color:String,disabled:{type:[Boolean,String],default:!1},prevText:{type:String,default:"$vuetify.stepper.prev"},nextText:{type:String,default:"$vuetify.stepper.next"}},"VStepperActions"),yg=de()({name:"VStepperActions",props:fC(),emits:{"click:prev":()=>!0,"click:next":()=>!0},setup(e,t){let{emit:n,slots:i}=t;const{t:r}=sn();function s(){n("click:prev")}function o(){n("click:next")}return ve(()=>{const a={onClick:s},l={onClick:o};return h("div",{class:"v-stepper-actions"},[h(at,{defaults:{VBtn:{disabled:["prev",!0].includes(e.disabled),text:r(e.prevText),variant:"text"}}},{default:()=>{var u;return[((u=i.prev)==null?void 0:u.call(i,{props:a}))??h(dt,a,null)]}}),h(at,{defaults:{VBtn:{color:e.color,disabled:["next",!0].includes(e.disabled),text:r(e.nextText),variant:"tonal"}}},{default:()=>{var u;return[((u=i.next)==null?void 0:u.call(i,{props:l}))??h(dt,l,null)]}})])}),{}}}),OB=Ws("v-stepper-header"),VB=Z({color:String,title:String,subtitle:String,complete:Boolean,completeIcon:{type:String,default:"$complete"},editable:Boolean,editIcon:{type:String,default:"$edit"},error:Boolean,errorIcon:{type:String,default:"$error"},icon:String,ripple:{type:[Boolean,Object],default:!0},rules:{type:Array,default:()=>[]}},"StepperItem"),Aoe=Z({...VB(),...ru()},"VStepperItem"),NB=de()({name:"VStepperItem",directives:{Ripple:Vo},props:Aoe(),emits:{"group:selected":e=>!0},setup(e,t){let{slots:n}=t;const i=su(e,dC,!0),r=I(()=>(i==null?void 0:i.value.value)??e.value),s=I(()=>e.rules.every(f=>f()===!0)),o=I(()=>!e.disabled&&e.editable),a=I(()=>!e.disabled&&e.editable),l=I(()=>e.error||!s.value),u=I(()=>e.complete||e.rules.length>0&&s.value),d=I(()=>l.value?e.errorIcon:u.value?e.completeIcon:i.isSelected.value&&e.editable?e.editIcon:e.icon),c=I(()=>({canEdit:a.value,hasError:l.value,hasCompleted:u.value,title:e.title,subtitle:e.subtitle,step:r.value,value:e.value}));return ve(()=>{var _,y,b;const f=(!i||i.isSelected.value||u.value||a.value)&&!l.value&&!e.disabled,v=!!(e.title!=null||n.title),g=!!(e.subtitle!=null||n.subtitle);function p(){i==null||i.toggle()}return pn(h("button",{class:["v-stepper-item",{"v-stepper-item--complete":u.value,"v-stepper-item--disabled":e.disabled,"v-stepper-item--error":l.value},i==null?void 0:i.selectedClass.value],disabled:!e.editable,onClick:p},[o.value&&Ma(!0,"v-stepper-item"),h(Cr,{key:"stepper-avatar",class:"v-stepper-item__avatar",color:f?e.color:void 0,size:24},{default:()=>{var E;return[((E=n.icon)==null?void 0:E.call(n,c.value))??(d.value?h(Pt,{icon:d.value},null):r.value)]}}),h("div",{class:"v-stepper-item__content"},[v&&h("div",{key:"title",class:"v-stepper-item__title"},[((_=n.title)==null?void 0:_.call(n,c.value))??e.title]),g&&h("div",{key:"subtitle",class:"v-stepper-item__subtitle"},[((y=n.subtitle)==null?void 0:y.call(n,c.value))??e.subtitle]),(b=n.default)==null?void 0:b.call(n,c.value)])]),[[ur("ripple"),e.ripple&&e.editable,null]])}),{}}}),Poe=Z({...zt(v_(),["continuous","nextIcon","prevIcon","showArrows","touch","mandatory"])},"VStepperWindow"),MB=de()({name:"VStepperWindow",props:Poe(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const i=st(dC,null),r=je(e,"modelValue"),s=I({get(){var o;return r.value!=null||!i?r.value:(o=i.items.value.find(a=>i.selected.value.includes(a.id)))==null?void 0:o.value},set(o){r.value=o}});return ve(()=>{const o=$l.filterProps(e);return h($l,J({_as:"VStepperWindow"},o,{modelValue:s.value,"onUpdate:modelValue":a=>s.value=a,class:["v-stepper-window",e.class],style:e.style,mandatory:!1,touch:!1}),n)}),{}}}),xoe=Z({...m_()},"VStepperWindowItem"),LB=de()({name:"VStepperWindowItem",props:xoe(),setup(e,t){let{slots:n}=t;return ve(()=>{const i=Bl.filterProps(e);return h(Bl,J({_as:"VStepperWindowItem"},i,{class:["v-stepper-window-item",e.class],style:e.style}),n)}),{}}}),FB=Z({altLabels:Boolean,bgColor:String,completeIcon:String,editIcon:String,editable:Boolean,errorIcon:String,hideActions:Boolean,items:{type:Array,default:()=>[]},itemTitle:{type:String,default:"title"},itemValue:{type:String,default:"value"},nonLinear:Boolean,flat:Boolean,...Jl()},"Stepper"),Doe=Z({...FB(),...iu({mandatory:"force",selectedClass:"v-stepper-item--selected"}),...g_(),...Jp(fC(),["prevText","nextText"])},"VStepper"),Roe=de()({name:"VStepper",props:Doe(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const{items:i,next:r,prev:s,selected:o}=La(e,dC),{displayClasses:a,mobile:l}=Pr(e),{completeIcon:u,editIcon:d,errorIcon:c,color:f,editable:v,prevText:g,nextText:p}=xa(e),_=I(()=>e.items.map((E,k)=>{const R=jn(E,e.itemTitle,E),O=jn(E,e.itemValue,k+1);return{title:R,value:O,raw:E}})),y=I(()=>i.value.findIndex(E=>o.value.includes(E.id))),b=I(()=>e.disabled?e.disabled:y.value===0?"prev":y.value===i.value.length-1?"next":!1);return _n({VStepperItem:{editable:v,errorIcon:c,completeIcon:u,editIcon:d,prevText:g,nextText:p},VStepperActions:{color:f,disabled:b,prevText:g,nextText:p}}),ve(()=>{const E=wa.filterProps(e),k=!!(n.header||e.items.length),R=e.items.length>0,O=!e.hideActions&&!!(R||n.actions);return h(wa,J(E,{color:e.bgColor,class:["v-stepper",{"v-stepper--alt-labels":e.altLabels,"v-stepper--flat":e.flat,"v-stepper--non-linear":e.nonLinear,"v-stepper--mobile":l.value},a.value,e.class],style:e.style}),{default:()=>{var D,S;return[k&&h(OB,{key:"stepper-header"},{default:()=>[_.value.map((w,C)=>{let{raw:A,...P}=w;return h(Ie,null,[!!C&&h(fo,null,null),h(NB,P,{default:n[`header-item.${P.value}`]??n.header,icon:n.icon,title:n.title,subtitle:n.subtitle})])})]}),R&&h(MB,{key:"stepper-window"},{default:()=>[_.value.map(w=>h(LB,{value:w.value},{default:()=>{var C,A;return((C=n[`item.${w.value}`])==null?void 0:C.call(n,w))??((A=n.item)==null?void 0:A.call(n,w))}}))]}),(D=n.default)==null?void 0:D.call(n,{prev:s,next:r}),O&&(((S=n.actions)==null?void 0:S.call(n,{next:r,prev:s}))??h(yg,{key:"stepper-actions","onClick:prev":s,"onClick:next":r},n))]}})}),{prev:s,next:r}}}),Ooe=Z({indeterminate:Boolean,inset:Boolean,flat:Boolean,loading:{type:[Boolean,String],default:!1},...No(),...d_()},"VSwitch"),Voe=de()({name:"VSwitch",inheritAttrs:!1,props:Ooe(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,"update:indeterminate":e=>!0},setup(e,t){let{attrs:n,slots:i}=t;const r=je(e,"indeterminate"),s=je(e,"modelValue"),{loaderClasses:o}=Mh(e),{isFocused:a,focus:l,blur:u}=Gs(e),d=z(),c=Bt&&window.matchMedia("(forced-colors: active)").matches,f=I(()=>typeof e.loading=="string"&&e.loading!==""?e.loading:e.color),v=fi(),g=I(()=>e.id||`switch-${v}`);function p(){r.value&&(r.value=!1)}function _(y){var b,E;y.stopPropagation(),y.preventDefault(),(E=(b=d.value)==null?void 0:b.input)==null||E.click()}return ve(()=>{const[y,b]=Na(n),E=Ei.filterProps(e),k=ba.filterProps(e);return h(Ei,J({class:["v-switch",{"v-switch--flat":e.flat},{"v-switch--inset":e.inset},{"v-switch--indeterminate":r.value},o.value,e.class]},y,E,{modelValue:s.value,"onUpdate:modelValue":R=>s.value=R,id:g.value,focused:a.value,style:e.style}),{...i,default:R=>{let{id:O,messagesId:D,isDisabled:S,isReadonly:w,isValid:C}=R;const A={model:s,isValid:C};return h(ba,J({ref:d},k,{modelValue:s.value,"onUpdate:modelValue":[P=>s.value=P,p],id:O.value,"aria-describedby":D.value,type:"checkbox","aria-checked":r.value?"mixed":void 0,disabled:S.value,readonly:w.value,onFocus:l,onBlur:u},b),{...i,default:P=>{let{backgroundColorClasses:x,backgroundColorStyles:U}=P;return h("div",{class:["v-switch__track",c?void 0:x.value],style:U.value,onClick:_},[i["track-true"]&&h("div",{key:"prepend",class:"v-switch__track-true"},[i["track-true"](A)]),i["track-false"]&&h("div",{key:"append",class:"v-switch__track-false"},[i["track-false"](A)])])},input:P=>{let{inputNode:x,icon:U,backgroundColorClasses:$,backgroundColorStyles:j}=P;return h(Ie,null,[x,h("div",{class:["v-switch__thumb",{"v-switch__thumb--filled":U||e.loading},e.inset||c?void 0:$.value],style:e.inset?void 0:j.value},[i.thumb?h(at,{defaults:{VIcon:{icon:U,size:"x-small"}}},{default:()=>[i.thumb({...A,icon:U})]}):h(P1,null,{default:()=>[e.loading?h(Lh,{name:"v-switch",active:!0,color:C.value===!1?void 0:f.value},{default:Y=>i.loader?i.loader(Y):h(ya,{active:Y.isActive,color:Y.color,indeterminate:!0,size:"16",width:"2"},null)}):U&&h(Pt,{key:String(U),icon:U,size:"x-small"},null)]})])])}})}})}),{}}}),Noe=Z({color:String,height:[Number,String],window:Boolean,...$e(),...Zn(),...Zl(),...yn(),...ut(),...Ct()},"VSystemBar"),Moe=de()({name:"VSystemBar",props:Noe(),setup(e,t){let{slots:n}=t;const{themeClasses:i}=Ft(e),{backgroundColorClasses:r,backgroundColorStyles:s}=Gt(ue(e,"color")),{elevationClasses:o}=hi(e),{roundedClasses:a}=On(e),{ssrBootStyles:l}=tu(),u=I(()=>e.height??(e.window?32:24)),{layoutItemStyles:d}=eu({id:e.name,order:I(()=>parseInt(e.order,10)),position:Te("top"),layoutSize:u,elementSize:u,active:I(()=>!0),absolute:ue(e,"absolute")});return ve(()=>h(e.tag,{class:["v-system-bar",{"v-system-bar--window":e.window},i.value,r.value,o.value,a.value,e.class],style:[s.value,d.value,l.value,e.style]},n)),{}}}),hC=Symbol.for("vuetify:v-tabs"),Loe=Z({fixed:Boolean,sliderColor:String,hideSlider:Boolean,direction:{type:String,default:"horizontal"},...zt(c_({selectedClass:"v-tab--selected",variant:"text"}),["active","block","flat","location","position","symbol"])},"VTab"),$B=de()({name:"VTab",props:Loe(),setup(e,t){let{slots:n,attrs:i}=t;const{textColorClasses:r,textColorStyles:s}=ci(e,"sliderColor"),o=z(),a=z(),l=I(()=>e.direction==="horizontal"),u=I(()=>{var c,f;return((f=(c=o.value)==null?void 0:c.group)==null?void 0:f.isSelected.value)??!1});function d(c){var v,g;let{value:f}=c;if(f){const p=(g=(v=o.value)==null?void 0:v.$el.parentElement)==null?void 0:g.querySelector(".v-tab--selected .v-tab__slider"),_=a.value;if(!p||!_)return;const y=getComputedStyle(p).color,b=p.getBoundingClientRect(),E=_.getBoundingClientRect(),k=l.value?"x":"y",R=l.value?"X":"Y",O=l.value?"right":"bottom",D=l.value?"width":"height",S=b[k],w=E[k],C=S>w?b[O]-E[O]:b[k]-E[k],A=Math.sign(C)>0?l.value?"right":"bottom":Math.sign(C)<0?l.value?"left":"top":"center",x=(Math.abs(C)+(Math.sign(C)<0?b[D]:E[D]))/Math.max(b[D],E[D])||0,U=b[D]/E[D]||0,$=1.5;cl(_,{backgroundColor:[y,"currentcolor"],transform:[`translate${R}(${C}px) scale${R}(${U})`,`translate${R}(${C/$}px) scale${R}(${(x-1)/$+1})`,"none"],transformOrigin:Array(3).fill(A)},{duration:225,easing:Nf})}}return ve(()=>{const c=dt.filterProps(e);return h(dt,J({symbol:hC,ref:o,class:["v-tab",e.class],style:e.style,tabindex:u.value?0:-1,role:"tab","aria-selected":String(u.value),active:!1},c,i,{block:e.fixed,maxWidth:e.fixed?300:void 0,"onGroup:selected":d}),{...n,default:()=>{var f;return h(Ie,null,[((f=n.default)==null?void 0:f.call(n))??e.text,!e.hideSlider&&h("div",{ref:a,class:["v-tab__slider",r.value],style:s.value},null)])}})}),Rr({},o)}}),Foe=Z({...zt(v_(),["continuous","nextIcon","prevIcon","showArrows","touch","mandatory"])},"VTabsWindow"),BB=de()({name:"VTabsWindow",props:Foe(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const i=st(hC,null),r=je(e,"modelValue"),s=I({get(){var o;return r.value!=null||!i?r.value:(o=i.items.value.find(a=>i.selected.value.includes(a.id)))==null?void 0:o.value},set(o){r.value=o}});return ve(()=>{const o=$l.filterProps(e);return h($l,J({_as:"VTabsWindow"},o,{modelValue:s.value,"onUpdate:modelValue":a=>s.value=a,class:["v-tabs-window",e.class],style:e.style,mandatory:!1,touch:!1}),n)}),{}}}),$oe=Z({...m_()},"VTabsWindowItem"),UB=de()({name:"VTabsWindowItem",props:$oe(),setup(e,t){let{slots:n}=t;return ve(()=>{const i=Bl.filterProps(e);return h(Bl,J({_as:"VTabsWindowItem"},i,{class:["v-tabs-window-item",e.class],style:e.style}),n)}),{}}});function Boe(e){return e?e.map(t=>h1(t)?t:{text:t,value:t}):[]}const Uoe=Z({alignTabs:{type:String,default:"start"},color:String,fixedTabs:Boolean,items:{type:Array,default:()=>[]},stacked:Boolean,bgColor:String,grow:Boolean,height:{type:[Number,String],default:void 0},hideSlider:Boolean,sliderColor:String,...N1({mandatory:"force",selectedClass:"v-tab-item--selected"}),...ri(),...ut()},"VTabs"),joe=de()({name:"VTabs",props:Uoe(),emits:{"update:modelValue":e=>!0},setup(e,t){let{attrs:n,slots:i}=t;const r=je(e,"modelValue"),s=I(()=>Boe(e.items)),{densityClasses:o}=Hi(e),{backgroundColorClasses:a,backgroundColorStyles:l}=Gt(ue(e,"bgColor")),{scopeId:u}=lu();return _n({VTab:{color:ue(e,"color"),direction:ue(e,"direction"),stacked:ue(e,"stacked"),fixed:ue(e,"fixedTabs"),sliderColor:ue(e,"sliderColor"),hideSlider:ue(e,"hideSlider")}}),ve(()=>{const d=Hf.filterProps(e),c=!!(i.window||e.items.length>0);return h(Ie,null,[h(Hf,J(d,{modelValue:r.value,"onUpdate:modelValue":f=>r.value=f,class:["v-tabs",`v-tabs--${e.direction}`,`v-tabs--align-tabs-${e.alignTabs}`,{"v-tabs--fixed-tabs":e.fixedTabs,"v-tabs--grow":e.grow,"v-tabs--stacked":e.stacked},o.value,a.value,e.class],style:[{"--v-tabs-height":Ve(e.height)},l.value,e.style],role:"tablist",symbol:hC},u,n),{default:()=>{var f;return[((f=i.default)==null?void 0:f.call(i))??s.value.map(v=>{var g;return((g=i.tab)==null?void 0:g.call(i,{item:v}))??h($B,J(v,{key:v.text,value:v.value}),{default:i[`tab.${v.value}`]?()=>{var p;return(p=i[`tab.${v.value}`])==null?void 0:p.call(i,{item:v})}:void 0})})]}}),c&&h(BB,J({modelValue:r.value,"onUpdate:modelValue":f=>r.value=f,key:"tabs-window"},u),{default:()=>{var f;return[s.value.map(v=>{var g;return((g=i.item)==null?void 0:g.call(i,{item:v}))??h(UB,{value:v.value},{default:()=>{var p;return(p=i[`item.${v.value}`])==null?void 0:p.call(i,{item:v})}})}),(f=i.window)==null?void 0:f.call(i)]}})])}),{}}}),Hoe=Z({autoGrow:Boolean,autofocus:Boolean,counter:[Boolean,Number,String],counterValue:Function,prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,noResize:Boolean,rows:{type:[Number,String],default:5,validator:e=>!isNaN(parseFloat(e))},maxRows:{type:[Number,String],validator:e=>!isNaN(parseFloat(e))},suffix:String,modelModifiers:Object,...No(),...Uh()},"VTextarea"),Woe=de()({name:"VTextarea",directives:{Intersect:Nh},inheritAttrs:!1,props:Hoe(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,t){let{attrs:n,emit:i,slots:r}=t;const s=je(e,"modelValue"),{isFocused:o,focus:a,blur:l}=Gs(e),u=I(()=>typeof e.counterValue=="function"?e.counterValue(s.value):(s.value||"").toString().length),d=I(()=>{if(n.maxlength)return n.maxlength;if(!(!e.counter||typeof e.counter!="number"&&typeof e.counter!="string"))return e.counter});function c(A,P){var x,U;!e.autofocus||!A||(U=(x=P[0].target)==null?void 0:x.focus)==null||U.call(x)}const f=z(),v=z(),g=Te(""),p=z(),_=I(()=>e.persistentPlaceholder||o.value||e.active);function y(){var A;p.value!==document.activeElement&&((A=p.value)==null||A.focus()),o.value||a()}function b(A){y(),i("click:control",A)}function E(A){i("mousedown:control",A)}function k(A){A.stopPropagation(),y(),ot(()=>{s.value="",p1(e["onClick:clear"],A)})}function R(A){var x;const P=A.target;if(s.value=P.value,(x=e.modelModifiers)!=null&&x.trim){const U=[P.selectionStart,P.selectionEnd];ot(()=>{P.selectionStart=U[0],P.selectionEnd=U[1]})}}const O=z(),D=z(+e.rows),S=I(()=>["plain","underlined"].includes(e.variant));rn(()=>{e.autoGrow||(D.value=+e.rows)});function w(){e.autoGrow&&ot(()=>{if(!O.value||!v.value)return;const A=getComputedStyle(O.value),P=getComputedStyle(v.value.$el),x=parseFloat(A.getPropertyValue("--v-field-padding-top"))+parseFloat(A.getPropertyValue("--v-input-padding-top"))+parseFloat(A.getPropertyValue("--v-field-padding-bottom")),U=O.value.scrollHeight,$=parseFloat(A.lineHeight),j=Math.max(parseFloat(e.rows)*$+x,parseFloat(P.getPropertyValue("--v-input-control-height"))),Y=parseFloat(e.maxRows)*$+x||1/0,W=kn(U??0,j,Y);D.value=Math.floor((W-x)/$),g.value=Ve(W)})}yt(w),ge(s,w),ge(()=>e.rows,w),ge(()=>e.maxRows,w),ge(()=>e.density,w);let C;return ge(O,A=>{A?(C=new ResizeObserver(w),C.observe(O.value)):C==null||C.disconnect()}),di(()=>{C==null||C.disconnect()}),ve(()=>{const A=!!(r.counter||e.counter||e.counterValue),P=!!(A||r.details),[x,U]=Na(n),{modelValue:$,...j}=Ei.filterProps(e),Y=H1(e);return h(Ei,J({ref:f,modelValue:s.value,"onUpdate:modelValue":W=>s.value=W,class:["v-textarea v-text-field",{"v-textarea--prefixed":e.prefix,"v-textarea--suffixed":e.suffix,"v-text-field--prefixed":e.prefix,"v-text-field--suffixed":e.suffix,"v-textarea--auto-grow":e.autoGrow,"v-textarea--no-resize":e.noResize||e.autoGrow,"v-input--plain-underlined":S.value},e.class],style:e.style},x,j,{centerAffix:D.value===1&&!S.value,focused:o.value}),{...r,default:W=>{let{id:K,isDisabled:G,isDirty:te,isReadonly:oe,isValid:_e}=W;return h(Yc,J({ref:v,style:{"--v-textarea-control-height":g.value},onClick:b,onMousedown:E,"onClick:clear":k,"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"]},Y,{id:K.value,active:_.value||te.value,centerAffix:D.value===1&&!S.value,dirty:te.value||e.dirty,disabled:G.value,focused:o.value,error:_e.value===!1}),{...r,default:Ae=>{let{props:{class:Ne,...Q}}=Ae;return h(Ie,null,[e.prefix&&h("span",{class:"v-text-field__prefix"},[e.prefix]),pn(h("textarea",J({ref:p,class:Ne,value:s.value,onInput:R,autofocus:e.autofocus,readonly:oe.value,disabled:G.value,placeholder:e.placeholder,rows:e.rows,name:e.name,onFocus:y,onBlur:l},Q,U),null),[[ur("intersect"),{handler:c},null,{once:!0}]]),e.autoGrow&&pn(h("textarea",{class:[Ne,"v-textarea__sizer"],id:`${Q.id}-sizer`,"onUpdate:modelValue":B=>s.value=B,ref:O,readonly:!0,"aria-hidden":"true"},null),[[I5,s.value]]),e.suffix&&h("span",{class:"v-text-field__suffix"},[e.suffix])])}})},details:P?W=>{var K;return h(Ie,null,[(K=r.details)==null?void 0:K.call(r,W),A&&h(Ie,null,[h("span",null,null),h(f_,{active:e.persistentCounter||o.value,value:u.value,max:d.value,disabled:e.disabled},r.counter)])])}:void 0})}),Rr({},f,v,p)}}),zoe=Z({withBackground:Boolean,...$e(),...Ct(),...ut()},"VThemeProvider"),Goe=de()({name:"VThemeProvider",props:zoe(),setup(e,t){let{slots:n}=t;const{themeClasses:i}=Ft(e);return()=>{var r;return e.withBackground?h(e.tag,{class:["v-theme-provider",i.value,e.class],style:e.style},{default:()=>{var s;return[(s=n.default)==null?void 0:s.call(n)]}}):(r=n.default)==null?void 0:r.call(n)}}}),qoe=Z({dotColor:String,fillDot:Boolean,hideDot:Boolean,icon:Je,iconColor:String,lineColor:String,...$e(),...yn(),...zs(),...Zn()},"VTimelineDivider"),Yoe=de()({name:"VTimelineDivider",props:qoe(),setup(e,t){let{slots:n}=t;const{sizeClasses:i,sizeStyles:r}=jc(e,"v-timeline-divider__dot"),{backgroundColorStyles:s,backgroundColorClasses:o}=Gt(ue(e,"dotColor")),{roundedClasses:a}=On(e,"v-timeline-divider__dot"),{elevationClasses:l}=hi(e),{backgroundColorClasses:u,backgroundColorStyles:d}=Gt(ue(e,"lineColor"));return ve(()=>h("div",{class:["v-timeline-divider",{"v-timeline-divider--fill-dot":e.fillDot},e.class],style:e.style},[h("div",{class:["v-timeline-divider__before",u.value],style:d.value},null),!e.hideDot&&h("div",{key:"dot",class:["v-timeline-divider__dot",l.value,a.value,i.value],style:r.value},[h("div",{class:["v-timeline-divider__inner-dot",o.value,a.value],style:s.value},[n.default?h(at,{key:"icon-defaults",disabled:!e.icon,defaults:{VIcon:{color:e.iconColor,icon:e.icon,size:e.size}}},n.default):h(Pt,{key:"icon",color:e.iconColor,icon:e.icon,size:e.size},null)])]),h("div",{class:["v-timeline-divider__after",u.value],style:d.value},null)])),{}}}),jB=Z({density:String,dotColor:String,fillDot:Boolean,hideDot:Boolean,hideOpposite:{type:Boolean,default:void 0},icon:Je,iconColor:String,lineInset:[Number,String],...$e(),...qn(),...Zn(),...yn(),...zs(),...ut()},"VTimelineItem"),Koe=de()({name:"VTimelineItem",props:jB(),setup(e,t){let{slots:n}=t;const{dimensionStyles:i}=Yn(e),r=Te(0),s=z();return ge(s,o=>{var a;o&&(r.value=((a=o.$el.querySelector(".v-timeline-divider__dot"))==null?void 0:a.getBoundingClientRect().width)??0)},{flush:"post"}),ve(()=>{var o,a;return h("div",{class:["v-timeline-item",{"v-timeline-item--fill-dot":e.fillDot},e.class],style:[{"--v-timeline-dot-size":Ve(r.value),"--v-timeline-line-inset":e.lineInset?`calc(var(--v-timeline-dot-size) / 2 + ${Ve(e.lineInset)})`:Ve(0)},e.style]},[h("div",{class:"v-timeline-item__body",style:i.value},[(o=n.default)==null?void 0:o.call(n)]),h(Yoe,{ref:s,hideDot:e.hideDot,icon:e.icon,iconColor:e.iconColor,size:e.size,elevation:e.elevation,dotColor:e.dotColor,fillDot:e.fillDot,rounded:e.rounded},{default:n.icon}),e.density!=="compact"&&h("div",{class:"v-timeline-item__opposite"},[!e.hideOpposite&&((a=n.opposite)==null?void 0:a.call(n))])])}),{}}}),Xoe=Z({align:{type:String,default:"center",validator:e=>["center","start"].includes(e)},direction:{type:String,default:"vertical",validator:e=>["vertical","horizontal"].includes(e)},justify:{type:String,default:"auto",validator:e=>["auto","center"].includes(e)},side:{type:String,validator:e=>e==null||["start","end"].includes(e)},lineThickness:{type:[String,Number],default:2},lineColor:String,truncateLine:{type:String,validator:e=>["start","end","both"].includes(e)},...Jp(jB({lineInset:0}),["dotColor","fillDot","hideOpposite","iconColor","lineInset","size"]),...$e(),...ri(),...ut(),...Ct()},"VTimeline"),Qoe=de()({name:"VTimeline",props:Xoe(),setup(e,t){let{slots:n}=t;const{themeClasses:i}=Ft(e),{densityClasses:r}=Hi(e),{rtlClasses:s}=Jn();_n({VTimelineDivider:{lineColor:ue(e,"lineColor")},VTimelineItem:{density:ue(e,"density"),dotColor:ue(e,"dotColor"),fillDot:ue(e,"fillDot"),hideOpposite:ue(e,"hideOpposite"),iconColor:ue(e,"iconColor"),lineColor:ue(e,"lineColor"),lineInset:ue(e,"lineInset"),size:ue(e,"size")}});const o=I(()=>{const l=e.side?e.side:e.density!=="default"?"end":null;return l&&`v-timeline--side-${l}`}),a=I(()=>{const l=["v-timeline--truncate-line-start","v-timeline--truncate-line-end"];switch(e.truncateLine){case"both":return l;case"start":return l[0];case"end":return l[1];default:return null}});return ve(()=>h(e.tag,{class:["v-timeline",`v-timeline--${e.direction}`,`v-timeline--align-${e.align}`,`v-timeline--justify-${e.justify}`,a.value,{"v-timeline--inset-line":!!e.lineInset},i.value,r.value,o.value,s.value,e.class],style:[{"--v-timeline-line-thickness":Ve(e.lineThickness)},e.style]},n)),{}}}),Joe=Z({...$e(),...Hr({variant:"text"})},"VToolbarItems"),Zoe=de()({name:"VToolbarItems",props:Joe(),setup(e,t){let{slots:n}=t;return _n({VBtn:{color:ue(e,"color"),height:"inherit",variant:ue(e,"variant")}}),ve(()=>{var i;return h("div",{class:["v-toolbar-items",e.class],style:e.style},[(i=n.default)==null?void 0:i.call(n)])}),{}}}),eae=Z({id:String,text:String,...zt(Bh({closeOnBack:!1,location:"end",locationStrategy:"connected",eager:!0,minWidth:0,offset:10,openOnClick:!1,openOnHover:!0,origin:"auto",scrim:!1,scrollStrategy:"reposition",transition:!1}),["absolute","persistent"])},"VTooltip"),HB=de()({name:"VTooltip",props:eae(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const i=je(e,"modelValue"),{scopeId:r}=lu(),s=fi(),o=I(()=>e.id||`v-tooltip-${s}`),a=z(),l=I(()=>e.location.split(" ").length>1?e.location:e.location+" center"),u=I(()=>e.origin==="auto"||e.origin==="overlap"||e.origin.split(" ").length>1||e.location.split(" ").length>1?e.origin:e.origin+" center"),d=I(()=>e.transition?e.transition:i.value?"scale-transition":"fade-transition"),c=I(()=>J({"aria-describedby":o.value},e.activatorProps));return ve(()=>{const f=Ls.filterProps(e);return h(Ls,J({ref:a,class:["v-tooltip",e.class],style:e.style,id:o.value},f,{modelValue:i.value,"onUpdate:modelValue":v=>i.value=v,transition:d.value,absolute:!0,location:l.value,origin:u.value,persistent:!0,role:"tooltip",activatorProps:c.value,_disableGlobalStack:!0},r),{activator:n.activator,default:function(){var _;for(var v=arguments.length,g=new Array(v),p=0;p<v;p++)g[p]=arguments[p];return((_=n.default)==null?void 0:_.call(n,...g))??e.text}})}),Rr({},a)}}),tae=de()({name:"VValidation",props:MF(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const i=LF(e,"validation");return()=>{var r;return(r=n.default)==null?void 0:r.call(n,i)}}}),nae=Object.freeze(Object.defineProperty({__proto__:null,VAlert:Wte,VAlertTitle:PF,VApp:Zee,VAppBar:yte,VAppBarNavIcon:Bte,VAppBarTitle:Ute,VAutocomplete:aie,VAvatar:Cr,VBadge:_$,VBanner:die,VBannerActions:y$,VBannerText:b$,VBottomNavigation:hie,VBottomSheet:mie,VBreadcrumbs:yie,VBreadcrumbsDivider:S$,VBreadcrumbsItem:E$,VBtn:dt,VBtnGroup:H0,VBtnToggle:kte,VCard:Cie,VCardActions:C$,VCardItem:I$,VCardSubtitle:k$,VCardText:A$,VCardTitle:T$,VCarousel:Oie,VCarouselItem:Nie,VCheckbox:Zte,VCheckboxBtn:Ms,VChip:au,VChipGroup:rne,VClassIcon:T1,VCode:Mie,VCol:use,VColorPicker:Cre,VCombobox:Ire,VComponentIcon:B0,VConfirmEdit:nw,VContainer:sse,VCounter:f_,VDataIterator:Lre,VDataTable:Zre,VDataTableFooter:Gf,VDataTableHeaders:Ul,VDataTableRow:rC,VDataTableRows:jl,VDataTableServer:ise,VDataTableVirtual:tse,VDatePicker:cw,VDatePickerControls:sw,VDatePickerHeader:ow,VDatePickerMonth:aw,VDatePickerMonths:lw,VDatePickerYears:uw,VDefaultsProvider:at,VDialog:X0,VDialogBottomTransition:ite,VDialogTopTransition:rte,VDialogTransition:s_,VDivider:fo,VEmptyState:yse,VExpandTransition:o_,VExpandXTransition:D1,VExpansionPanel:hw,VExpansionPanelText:dw,VExpansionPanelTitle:fw,VExpansionPanels:vw,VFab:Sse,VFabTransition:nte,VFadeTransition:$f,VField:Yc,VFieldLabel:Md,VFileInput:Cse,VFooter:Tse,VForm:Ase,VHover:xse,VIcon:Pt,VImg:ko,VInfiniteScroll:Rse,VInput:Ei,VItem:Nse,VItemGroup:Vse,VKbd:Mse,VLabel:Gc,VLayout:Fse,VLayoutItem:Bse,VLazy:jse,VLigatureIcon:kee,VList:Sc,VListGroup:zf,VListImg:Ene,VListItem:cs,VListItemAction:o$,VListItemMedia:Tne,VListItemSubtitle:XF,VListItemTitle:QF,VListSubheader:ZF,VLocaleProvider:Wse,VMain:Gse,VMenu:Fl,VMessages:VF,VNavigationDrawer:toe,VNoSsr:noe,VOtpInput:roe,VOverlay:Ls,VPagination:iw,VParallax:aoe,VProgressCircular:ya,VProgressLinear:l_,VRadio:uoe,VRadioGroup:doe,VRangeSlider:hoe,VRating:moe,VResponsive:U0,VRow:gse,VScaleTransition:P1,VScrollXReverseTransition:ote,VScrollXTransition:ste,VScrollYReverseTransition:lte,VScrollYTransition:ate,VSelect:G1,VSelectionControl:ba,VSelectionControlGroup:DF,VSheet:wa,VSkeletonLoader:yoe,VSlideGroup:Hf,VSlideGroupItem:boe,VSlideXReverseTransition:cte,VSlideXTransition:ute,VSlideYReverseTransition:dte,VSlideYTransition:x1,VSlider:tw,VSnackbar:mw,VSpacer:gB,VSparkline:koe,VSpeedDial:Ioe,VStepper:Roe,VStepperActions:yg,VStepperHeader:OB,VStepperItem:NB,VStepperWindow:MB,VStepperWindowItem:LB,VSvgIcon:k1,VSwitch:Voe,VSystemBar:Moe,VTab:$B,VTable:Hl,VTabs:joe,VTabsWindow:BB,VTabsWindowItem:UB,VTextField:ds,VTextarea:Woe,VThemeProvider:Goe,VTimeline:Qoe,VTimelineItem:Koe,VToolbar:j0,VToolbarItems:Zoe,VToolbarTitle:A1,VTooltip:HB,VValidation:tae,VVirtualScroll:h_,VWindow:$l,VWindowItem:Bl},Symbol.toStringTag,{value:"Module"}));function iae(e,t){const n=t.modifiers||{},i=t.value,{once:r,immediate:s,...o}=n,a=!Object.keys(o).length,{handler:l,options:u}=typeof i=="object"?i:{handler:i,options:{attributes:(o==null?void 0:o.attr)??a,characterData:(o==null?void 0:o.char)??a,childList:(o==null?void 0:o.child)??a,subtree:(o==null?void 0:o.sub)??a}},d=new MutationObserver(function(){let c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],f=arguments.length>1?arguments[1]:void 0;l==null||l(c,f),r&&WB(e,t)});s&&(l==null||l([],d)),e._mutate=Object(e._mutate),e._mutate[t.instance.$.uid]={observer:d},d.observe(e,u)}function WB(e,t){var n;(n=e._mutate)!=null&&n[t.instance.$.uid]&&(e._mutate[t.instance.$.uid].observer.disconnect(),delete e._mutate[t.instance.$.uid])}const rae={mounted:iae,unmounted:WB};function sae(e,t){var r,s;const n=t.value,i={passive:!((r=t.modifiers)!=null&&r.active)};window.addEventListener("resize",n,i),e._onResize=Object(e._onResize),e._onResize[t.instance.$.uid]={handler:n,options:i},(s=t.modifiers)!=null&&s.quiet||n()}function oae(e,t){var r;if(!((r=e._onResize)!=null&&r[t.instance.$.uid]))return;const{handler:n,options:i}=e._onResize[t.instance.$.uid];window.removeEventListener("resize",n,i),delete e._onResize[t.instance.$.uid]}const aae={mounted:sae,unmounted:oae};function zB(e,t){const{self:n=!1}=t.modifiers??{},i=t.value,r=typeof i=="object"&&i.options||{passive:!0},s=typeof i=="function"||"handleEvent"in i?i:i.handler,o=n?e:t.arg?document.querySelector(t.arg):window;o&&(o.addEventListener("scroll",s,r),e._onScroll=Object(e._onScroll),e._onScroll[t.instance.$.uid]={handler:s,options:r,target:n?void 0:o})}function GB(e,t){var s;if(!((s=e._onScroll)!=null&&s[t.instance.$.uid]))return;const{handler:n,options:i,target:r=e}=e._onScroll[t.instance.$.uid];r.removeEventListener("scroll",n,i),delete e._onScroll[t.instance.$.uid]}function lae(e,t){t.value!==t.oldValue&&(GB(e,t),zB(e,t))}const uae={mounted:zB,unmounted:GB,updated:lae};function cae(e,t){const n=typeof e=="string"?H(e):e,i=dae(n,t);return{mounted:i,updated:i,unmounted(r){aV(null,r)}}}function dae(e,t){return function(n,i,r){var c,f,v;const s=typeof t=="function"?t(i):t,o=((c=i.value)==null?void 0:c.text)??i.value??(s==null?void 0:s.text),a=h1(i.value)?i.value:{},l=()=>o??n.textContent,u=(r.ctx===i.instance.$?(f=fae(r,i.instance.$))==null?void 0:f.provides:(v=r.ctx)==null?void 0:v.provides)??i.instance.$.provides,d=ni(e,J(s,a),l);d.appContext=Object.assign(Object.create(null),i.instance.$.appContext,{provides:u}),aV(d,n)}}function fae(e,t){const n=new Set,i=s=>{var o,a;for(const l of s){if(!l)continue;if(l===e)return!0;n.add(l);let u;if(l.suspense?u=i([l.ssContent]):Array.isArray(l.children)?u=i(l.children):(o=l.component)!=null&&o.vnode&&(u=i([(a=l.component)==null?void 0:a.subTree])),u)return u;n.delete(l)}return!1};if(!i([t.subTree]))throw new Error("Could not find original vnode");const r=Array.from(n).reverse();for(const s of r)if(s.component)return s.component;return t}const hae=cae(HB,e=>{var t;return{activator:"parent",location:(t=e.arg)==null?void 0:t.replace("-"," "),text:typeof e.value=="boolean"?void 0:e.value}}),vae=Object.freeze(Object.defineProperty({__proto__:null,ClickOutside:h$,Intersect:Nh,Mutate:rae,Resize:aae,Ripple:Vo,Scroll:uae,Tooltip:hae,Touch:q1},Symbol.toStringTag,{value:"Module"})),mae=Z({allDay:Boolean,interval:Object,intervalDivisions:{type:Number,required:!0},intervalDuration:{type:Number,required:!0},intervalHeight:{type:Number,required:!0},event:Object},"VCalendarIntervalEvent"),gw=de()({name:"VCalendarIntervalEvent",props:mae(),setup(e){const t=jr(),n=()=>{var i,r,s,o;if(!((i=e.event)!=null&&i.first)&&!((r=e.event)!=null&&r.last)||t.isEqual((s=e.event)==null?void 0:s.start,(o=e.interval)==null?void 0:o.start))return{height:"100%",margin:Ve(0)};{const{height:a,margin:l}=Array.from({length:e.intervalDivisions},u=>u*(e.intervalDuration/e.intervalDivisions)).reduce((u,d,c)=>{var f,v;return t.isBefore(t.addMinutes((f=e.interval)==null?void 0:f.start,d),(v=e.event)==null?void 0:v.start)?{height:Ve(e.intervalHeight/e.intervalDivisions*c),margin:Ve(e.intervalHeight/e.intervalDivisions*c)}:{height:u.height,margin:u.margin}},{height:"",margin:""});return{height:a,margin:l}}};return ve(()=>{var i,r,s,o,a;return h(wa,{height:n().height,density:"comfortable",style:`margin-top: ${n().margin}`,class:"v-calendar-internal-event",color:((i=e.event)==null?void 0:i.color)??void 0,rounded:(r=e.event)!=null&&r.first&&((s=e.event)!=null&&s.last)?!0:(o=e.event)!=null&&o.first?"t":(a=e.event)!=null&&a.last?"b":!1},{default:()=>{var l,u;return[(l=e.event)!=null&&l.first?(u=e.event)==null?void 0:u.title:""]}})}),{}}}),qB=Z({day:{type:Object,default:()=>({})},dayIndex:Number,events:Array,intervalDivisions:{type:Number,default:2},intervalDuration:{type:Number,default:60},intervalHeight:{type:Number,default:48},intervalFormat:{type:[String,Function],default:"fullTime12h"},intervalStart:{type:Number,default:0}},"VCalendarInterval"),pw=de()({name:"VCalendarInterval",props:{index:{type:Number,required:!0},...qB()},setup(e,t){const n=jr(),i=I(()=>{const r=n.addMinutes(n.startOfDay(e.day.date),e.intervalDuration*(e.index+e.intervalStart)),s=n.addMinutes(n.startOfDay(e.day.date),e.intervalDuration*(e.index+e.intervalStart+1)-1);return{...e.day,label:n.format(r,"fullTime24h"),start:r,end:s,events:e.events?e.events.filter(o=>!o.allDay&&(n.isEqual(r,o.start)||n.isWithinRange(o.start,[r,s])||n.isWithinRange(r,[o.start,o.end])||n.isEqual(s,o.end))).map(o=>({...o,first:n.isEqual(r,o.start)||n.isWithinRange(o.start,[r,s]),last:n.isEqual(s,o.end)||n.isWithinRange(o.end,[r,s])})):[]}});return ve(()=>{var r,s;return e.dayIndex===0?h("div",{class:"v-calendar-day__row-with-label",style:`height: ${Ve(e.intervalHeight)}`},[h("div",{class:"v-calendar-day__row-label"},[h("slot",{name:"intervalFormat",interval:i.value},[e.index?e.intervalFormat?typeof e.intervalFormat=="string"?n.format(i.value.start,"hours12h"):e.intervalFormat(i.value):i.value.label:""])]),h("div",{class:"v-calendar-day__row-hairline"},null),h("div",{class:["v-calendar-day__row-content",i.value.events.some(o=>!o.last)?"v-calendar-day__row-content-through":""]},[h("slot",{name:"intervalBody",interval:i.value},[(r=i.value.events)==null?void 0:r.map(o=>h(gw,{event:o,interval:i.value,intervalDivisions:e.intervalDivisions,intervalDuration:e.intervalDuration,intervalHeight:e.intervalHeight},null))])])]):h("div",{class:"v-calendar-day__row-without-label",style:`height: ${Ve(e.intervalHeight)}`},[h("div",{class:["v-calendar-day__row-content",i.value.events.some(o=>!o.last)?"v-calendar-day__row-content-through":""]},[h("slot",{name:"intervalBody",interval:i.value},[(s=i.value.events)==null?void 0:s.filter(o=>!o.allDay).map(o=>h(gw,{event:o,interval:i.value,intervalDivisions:e.intervalDivisions,intervalDuration:e.intervalDuration,intervalHeight:e.intervalHeight},null))])])])}),{interval:i}}}),YB=Z({hideDayHeader:Boolean,intervals:{type:Number,default:24},...qB()},"VCalendarDay"),gm=de()({name:"VCalendarDay",props:YB(),setup(e){const t=jr(),n=I(()=>[...Array.from({length:e.intervals},(i,r)=>r).filter((i,r)=>e.intervalDuration*(r+e.intervalStart)<1440)]);return ve(()=>{const i=pw.filterProps(e);return h("div",{class:"v-calendar-day__container"},[!e.hideDayHeader&&h("div",{key:"calender-week-name",class:"v-calendar-weekly__head-weekday"},[t.format(e.day.date,"weekdayShort"),h("div",null,[h(dt,{icon:!0,text:t.format(e.day.date,"dayOfMonth"),variant:"text"},null)])]),n.value.map((r,s)=>h(pw,J({index:s},i),null))])}),{intervals:n}}}),KB=Z({nextIcon:{type:String,default:"$next"},prevIcon:{type:String,default:"$prev"},title:String,text:{type:String,default:"$vuetify.calendar.today"},viewMode:{type:String,default:"month"}},"VCalendarHeader"),_w=de()({name:"VCalendarHeader",props:KB(),emits:{"click:next":()=>!0,"click:prev":()=>!0,"click:toToday":()=>!0},setup(e,t){let{emit:n}=t;const{t:i}=sn();function r(){n("click:prev")}function s(){n("click:next")}function o(){n("click:toToday")}return ve(()=>h("div",{class:"v-calendar-header"},[e.text&&h(dt,{key:"today",class:"v-calendar-header__today",text:i(e.text),variant:"outlined",onClick:o},null),h(dt,{density:"comfortable",icon:e.prevIcon,variant:"text",onClick:r},null),h(dt,{density:"comfortable",icon:e.nextIcon,variant:"text",onClick:s},null),h("div",{class:"v-calendar-header__title"},[e.title])])),{}}}),gae=Z({allDay:Boolean,day:Object,event:Object},"VCalendarEvent"),nx=de()({name:"VCalendarEvent",props:gae(),setup(e){return ve(()=>h(au,{color:e.allDay?"primary":void 0,density:"comfortable",label:e.allDay,width:"100%"},{default:()=>{var t,n;return[h(_$,{inline:!0,dot:!0,color:(t=e.event)==null?void 0:t.color},null),(n=e.event)==null?void 0:n.title]}})),{}}}),pae=Z({active:Boolean,color:String,day:Object,disabled:Boolean,events:Array,title:[Number,String]},"VCalendarMonthDay"),XB=de()({name:"VCalendarMonthDay",props:pae(),setup(e,t){let{emit:n,slots:i}=t;return ve(()=>{var s,o,a,l,u,d,c,f,v,g,p;const r=!!(e.title||(s=i.title)!=null&&s.call(i,{title:e.title}));return h("div",{class:["v-calendar-month__day"]},[!((o=e.day)!=null&&o.isHidden)&&r&&h("div",{key:"title",class:"v-calendar-weekly__day-label"},[((a=i.title)==null?void 0:a.call(i,{title:e.title}))??h(dt,{class:(l=e.day)!=null&&l.isToday?"v-calendar-weekly__day-label__today":void 0,color:e.color,disabled:e.disabled,icon:!0,size:"x-small",variant:(u=e.day)!=null&&u.isToday?void 0:"flat"},{default:()=>[e.title]})]),!((d=e.day)!=null&&d.isHidden)&&h("div",{key:"content",class:"v-calendar-weekly__day-content"},[((c=i.content)==null?void 0:c.call(i))??h("div",null,[h("div",{class:"v-calendar-weekly__day-alldayevents-container"},[(f=e.events)==null?void 0:f.filter(_=>_.allDay).map(_=>i.event?i.event({day:e.day,allDay:!0,event:_}):h(nx,{day:e.day,event:_,allDay:!0},null))]),h("div",{class:"v-calendar-weekly__day-events-container"},[(v=e.events)==null?void 0:v.filter(_=>!_.allDay).map(_=>i.event?i.event({day:e.day,event:_,allDay:!1}):h(nx,{day:e.day,event:_},null))])])]),!((g=e.day)!=null&&g.isHidden)&&((p=i.default)==null?void 0:p.call(i))])}),{}}}),_ae=Z({hideHeader:Boolean,hideWeekNumber:Boolean,..._B(),...YB(),...KB()},"VCalender"),yae=de()({name:"VCalendar",props:_ae(),emits:{next:null,prev:null,"update:modelValue":null},setup(e,t){let{emit:n,slots:i}=t;const r=jr(),{daysInMonth:s,daysInWeek:o,genDays:a,model:l,displayValue:u,weekNumbers:d,weekDays:c}=yB(e),f=r.getWeekdays();function v(){e.viewMode==="month"&&(l.value=[r.addMonths(u.value,1)]),e.viewMode==="week"&&(l.value=[r.addDays(u.value,7)]),e.viewMode==="day"&&(l.value=[r.addDays(u.value,1)])}function g(){e.viewMode==="month"&&(l.value=[r.addMonths(u.value,-1)]),e.viewMode==="week"&&(l.value=[r.addDays(u.value,-7)]),e.viewMode==="day"&&(l.value=[r.addDays(u.value,-1)])}function p(){l.value=[r.date()]}const _=I(()=>r.format(u.value,"monthAndYear"));return ve(()=>{var E;const y=gm.filterProps(e),b=_w.filterProps(e);return h("div",{class:["v-calendar",{"v-calendar-monthly":e.viewMode==="month","v-calendar-weekly":e.viewMode==="week","v-calendar-day":e.viewMode==="day"}]},[h("div",null,[!e.hideHeader&&(i.header?i.header({title:_.value}):h(_w,J({key:"calendar-header"},b,{title:_.value,"onClick:next":v,"onClick:prev":g,"onClick:toToday":p}),null))]),h("div",{class:["v-calendar__container",`days__${c.value.length}`]},[e.viewMode==="month"&&!e.hideDayHeader&&h("div",{class:["v-calendar-weekly__head",`days__${c.value.length}`,...e.hideWeekNumber?[]:["v-calendar-weekly__head-weeknumbers"]],key:"calenderWeeklyHead"},[e.hideWeekNumber?"":h("div",{key:"weekNumber0",class:"v-calendar-weekly__head-weeknumber"},null),c.value.map(k=>h("div",{class:`v-calendar-weekly__head-weekday${e.hideWeekNumber?"":"-with-weeknumber"}`},[f[k]]))]),e.viewMode==="month"&&h("div",{key:"VCalendarMonth",class:["v-calendar-month__days",`days${e.hideWeekNumber?"":"-with-weeknumbers"}__${c.value.length}`,...e.hideWeekNumber?[]:["v-calendar-month__weeknumbers"]]},[UJ(s.value,c.value.length).map((k,R)=>[e.hideWeekNumber?"":h("div",{class:"v-calendar-month__weeknumber"},[d.value[R]]),k.map(O=>{var D;return h(XB,{color:r.isSameDay(r.date(),O.date)?"primary":void 0,day:O,title:O?r.format(O.date,"dayOfMonth"):"NaN",events:(D=e.events)==null?void 0:D.filter(S=>r.isSameDay(O.date,S.start)||r.isSameDay(O.date,S.end))},{event:i.event})})])]),e.viewMode==="week"&&o.value.map((k,R)=>{var O;return h(gm,J(y,{day:k,dayIndex:R,events:(O=e.events)==null?void 0:O.filter(D=>r.isSameDay(D.start,k.date)||r.isSameDay(D.end,k.date))}),null)}),e.viewMode==="day"&&h(gm,J(y,{day:a([u.value],r.date())[0],dayIndex:0,events:(E=e.events)==null?void 0:E.filter(k=>r.isSameDay(k.start,a([u.value],r.date())[0].date)||r.isSameDay(k.end,a([u.value],r.date())[0].date))}),null)])])}),{daysInMonth:s,daysInWeek:o,genDays:a}}}),bae=Z({hideActions:Boolean,...qc(),...M$(),...Kc({placeholder:"mm/dd/yyyy",prependIcon:"$calendar"}),...zt(CB({weeksInMonth:"dynamic",hideHeader:!0}),["active"])},"VDateInput"),wae=de()({name:"VDateInput",props:bae(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const{t:i}=sn(),r=jr(),{isFocused:s,focus:o,blur:a}=Gs(e),l=je(e,"modelValue",e.multiple?[]:null),u=Te(!1),d=I(()=>{const p=vn(l.value);if(!p.length)return null;if(e.multiple===!0)return i("$vuetify.datePicker.itemsSelected",p.length);if(e.multiple==="range"){const _=p[0],y=p[p.length-1];return r.isValid(_)&&r.isValid(y)?`${r.format(_,"keyboardDate")} - ${r.format(y,"keyboardDate")}`:""}return r.isValid(l.value)?r.format(l.value,"keyboardDate"):""}),c=I(()=>!e.disabled&&!e.readonly);function f(p){if(p.key!=="Enter")return;if(!u.value||!s.value){u.value=!0;return}const _=p.target;l.value=r.date(_.value)}function v(p){p.preventDefault(),p.stopPropagation(),u.value=!0}function g(){u.value=!1}ve(()=>{const p=nw.filterProps(e),_=cw.filterProps(zt(e,["active"])),y=ds.filterProps(e);return h(ds,J(y,{class:e.class,style:e.style,modelValue:d.value,onKeydown:c.value?f:void 0,focused:u.value||s.value,onFocus:o,onBlur:a,"onClick:control":c.value?v:void 0,"onClick:prepend":c.value?v:void 0}),{default:()=>{var b;return[h(Fl,{modelValue:u.value,"onUpdate:modelValue":E=>u.value=E,activator:"parent","min-width":"0",closeOnContentClick:!1,openOnClick:!1},{default:()=>[h(nw,J(p,{modelValue:l.value,"onUpdate:modelValue":E=>l.value=E,onSave:g}),{default:E=>{let{actions:k,model:R}=E;return h(cw,J(_,{modelValue:e.hideActions?l.value:R.value,"onUpdate:modelValue":O=>{e.hideActions?(l.value=O,e.multiple||(u.value=!1)):R.value=O},onMousedown:O=>O.preventDefault()}),{actions:e.hideActions?void 0:()=>k})}})]}),(b=n.default)==null?void 0:b.call(n)]}})})}}),Sae=Z({controlVariant:{type:String,default:"default"},inset:Boolean,hideInput:Boolean,modelValue:{type:Number,default:null},min:{type:Number,default:Number.MIN_SAFE_INTEGER},max:{type:Number,default:Number.MAX_SAFE_INTEGER},step:{type:Number,default:1},...zt(Kc({}),["appendInnerIcon","modelValue","prependInnerIcon"])},"VNumberInput"),Eae=de()({name:"VNumberInput",props:{...Sae()},emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const i=je(e,"modelValue"),r=I({get:()=>i.value,set(C){if(C===null){i.value=null;return}!isNaN(+C)&&+C<=e.max&&+C>=e.min&&(i.value=+C)}}),s=z(),o=I(()=>cg(e.step)),a=I(()=>typeof r.value=="number"?cg(r.value):0),l=$h(),u=I(()=>e.disabled||e.readonly||(l==null?void 0:l.isReadonly.value)),d=I(()=>u.value?!1:(r.value??0)+e.step<=e.max),c=I(()=>u.value?!1:(r.value??0)-e.step>=e.min),f=I(()=>e.hideInput?"stacked":e.controlVariant),v=I(()=>f.value==="split"?"$plus":"$collapse"),g=I(()=>f.value==="split"?"$minus":"$expand"),p=I(()=>f.value==="split"?"default":"small"),_=I(()=>f.value==="stacked"?"auto":"100%"),y=I(()=>({click:k})),b=I(()=>({click:R}));yt(()=>{!e.readonly&&!e.disabled&&w()});function E(){let C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;if(u.value)return;if(r.value==null){r.value=kn(0,e.min,e.max);return}const A=Math.max(a.value,o.value);C?d.value&&(r.value=+(r.value+e.step).toFixed(A)):c.value&&(r.value=+(r.value-e.step).toFixed(A))}function k(C){C.stopPropagation(),E()}function R(C){C.stopPropagation(),E(!1)}function O(C){var $,j,Y;if(!C.data)return;const A=($=C.target)==null?void 0:$.value,P=(j=C.target)==null?void 0:j.selectionStart,x=(Y=C.target)==null?void 0:Y.selectionEnd,U=A?A.slice(0,P)+C.data+A.slice(x):C.data;/^-?(\d+(\.\d*)?|(\.\d+)|\d*|\.)$/.test(U)||C.preventDefault()}async function D(C){["Enter","ArrowLeft","ArrowRight","Backspace","Delete","Tab"].includes(C.key)||C.ctrlKey||["ArrowDown","ArrowUp"].includes(C.key)&&(C.preventDefault(),w(),await ot(),C.key==="ArrowDown"?E(!1):E())}function S(C){C.stopPropagation()}function w(){if(!s.value)return;const C=s.value.value;C&&!isNaN(+C)?r.value=kn(+C,e.min,e.max):r.value=null}return ve(()=>{const{modelValue:C,...A}=ds.filterProps(e);function P(){return n.increment?h(at,{key:"increment-defaults",defaults:{VBtn:{disabled:!d.value,flat:!0,height:_.value,size:p.value,icon:v.value}}},{default:()=>[n.increment(y.value)]}):h(dt,{disabled:!d.value,flat:!0,key:"increment-btn",height:_.value,name:"increment-btn",icon:v.value,onClick:k,onMousedown:S,size:p.value,tabindex:"-1"},null)}function x(){return n.decrement?h(at,{key:"decrement-defaults",defaults:{VBtn:{disabled:!c.value,flat:!0,height:_.value,size:p.value,icon:g.value}}},{default:()=>[n.decrement(b.value)]}):h(dt,{disabled:!c.value,flat:!0,key:"decrement-btn",height:_.value,name:"decrement-btn",icon:g.value,size:p.value,tabindex:"-1",onClick:R,onMousedown:S},null)}function U(){return h("div",{class:"v-number-input__control"},[x(),h(fo,{vertical:f.value!=="stacked"},null),P()])}function $(){return!e.hideInput&&!e.inset?h(fo,{vertical:!0},null):void 0}const j=f.value==="split"?h("div",{class:"v-number-input__control"},[h(fo,{vertical:!0},null),P()]):e.reverse?void 0:h(Ie,null,[$(),U()]),Y=n["append-inner"]||j,W=f.value==="split"?h("div",{class:"v-number-input__control"},[x(),h(fo,{vertical:!0},null)]):e.reverse?h(Ie,null,[U(),$()]):void 0,K=n["prepend-inner"]||W;return h(ds,J({ref:s,modelValue:r.value,"onUpdate:modelValue":G=>r.value=G,onBeforeinput:O,onChange:w,onKeydown:D,class:["v-number-input",{"v-number-input--default":f.value==="default","v-number-input--hide-input":e.hideInput,"v-number-input--inset":e.inset,"v-number-input--reverse":e.reverse,"v-number-input--split":f.value==="split","v-number-input--stacked":f.value==="stacked"},e.class]},A,{style:e.style,inputmode:"decimal"}),{...n,"append-inner":Y?function(){var _e;for(var G=arguments.length,te=new Array(G),oe=0;oe<G;oe++)te[oe]=arguments[oe];return h(Ie,null,[(_e=n["append-inner"])==null?void 0:_e.call(n,...te),j])}:void 0,"prepend-inner":K?function(){var _e;for(var G=arguments.length,te=new Array(G),oe=0;oe<G;oe++)te[oe]=arguments[oe];return h(Ie,null,[W,(_e=n["prepend-inner"])==null?void 0:_e.call(n,...te)])}:void 0})}),Rr({},s)}}),Cae=Z({...fC()},"VStepperActions"),QB=de()({name:"VStepperVerticalActions",props:Cae(),emits:{"click:prev":()=>!0,"click:next":()=>!0},setup(e,t){let{emit:n,slots:i}=t;function r(){n("click:prev")}function s(){n("click:next")}return ve(()=>{const o=yg.filterProps(e);return h(yg,J({class:"v-stepper-vertical-actions"},o,{"onClick:prev":r,"onClick:next":s}),i)}),{}}}),kae=Z({hideActions:Boolean,...VB(),...zt(cC({expandIcon:"",collapseIcon:""}),["hideActions"])},"VStepperVerticalItem"),JB=de()({name:"VStepperVerticalItem",props:kae(),emits:{"click:next":()=>!0,"click:prev":()=>!0,"click:finish":()=>!0},setup(e,t){let{emit:n,slots:i}=t;const r=z(),s=I(()=>isNaN(parseInt(e.value))?e.value:Number(e.value)),o=I(()=>{var b;return(b=r.value)==null?void 0:b.groupItem}),a=I(()=>{var b;return((b=o.value)==null?void 0:b.isSelected.value)??!1}),l=I(()=>a.value?e.rules.every(b=>b()===!0):null),u=I(()=>!e.disabled&&e.editable),d=I(()=>e.error||a.value&&!l.value),c=I(()=>e.complete||e.rules.length>0&&l.value===!0),f=I(()=>{var b;return e.disabled?e.disabled:(b=o.value)!=null&&b.isFirst.value?"prev":!1}),v=I(()=>{var b;return d.value?e.errorIcon:c.value?e.completeIcon:(b=o.value)!=null&&b.isSelected.value&&e.editable?e.editIcon:e.icon}),g=I(()=>({canEdit:u.value,hasError:d.value,hasCompleted:c.value,title:e.title,subtitle:e.subtitle,step:s.value,value:e.value})),p=I(()=>({...g.value,prev:y,next:_}));function _(){var b;n("click:next"),!((b=o.value)!=null&&b.isLast.value)&&o.value.group.next()}function y(){n("click:prev"),o.value.group.prev()}return ve(()=>{var R;const b=(c.value||((R=o.value)==null?void 0:R.isSelected.value))&&!d.value&&!e.disabled,E=!e.hideActions||!!i.actions,k=hw.filterProps(e);return h(hw,J({_as:"VStepperVerticalItem",ref:r},k,{class:["v-stepper-vertical-item",{"v-stepper-vertical-item--complete":c.value,"v-stepper-vertical-item--disabled":e.disabled,"v-stepper-vertical-item--editable":u.value,"v-stepper-vertical-item--error":d.value},e.class],readonly:!e.editable,style:e.style,color:"","hide-actions":!1,value:s.value}),{title:()=>{var O,D;return h(Ie,null,[h(Cr,{key:"stepper-avatar",class:"v-stepper-vertical-item__avatar",color:b?e.color:void 0,size:24,start:!0},{default:()=>{var S;return[((S=i.icon)==null?void 0:S.call(i,g.value))??(v.value?h(Pt,{icon:v.value},null):s.value)]}}),h("div",null,[h("div",{class:"v-stepper-vertical-item__title"},[((O=i.title)==null?void 0:O.call(i,g.value))??e.title]),h("div",{class:"v-stepper-vertical-item__subtitle"},[((D=i.subtitle)==null?void 0:D.call(i,g.value))??e.subtitle])])])},text:()=>{var O,D;return h(Ie,null,[((O=i.default)==null?void 0:O.call(i,g.value))??e.text,E&&h(at,{defaults:{VStepperVerticalActions:{disabled:f.value,finish:(D=o.value)==null?void 0:D.isLast.value}}},{default:()=>{var S;return[((S=i.actions)==null?void 0:S.call(i,p.value))??h(QB,{"onClick:next":_,"onClick:prev":y},{prev:i.prev?()=>{var w;return(w=i.prev)==null?void 0:w.call(i,p.value)}:void 0,next:i.next?()=>{var w;return(w=i.next)==null?void 0:w.call(i,p.value)}:void 0})]}})])}})}),{}}}),Tae=Z({prevText:{type:String,default:"$vuetify.stepper.prev"},nextText:{type:String,default:"$vuetify.stepper.next"},...FB(),...zt(IB({mandatory:"force",variant:"accordion"}),["static"])},"VStepperVertical"),Iae=de()({name:"VStepperVertical",props:Tae(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const i=z(),{color:r,eager:s,editable:o,prevText:a,nextText:l,hideActions:u}=xa(e),d=je(e,"modelValue"),c=I(()=>e.items.map((f,v)=>{const g=jn(f,e.itemTitle,f),p=jn(f,e.itemValue,v+1);return{title:g,value:p,raw:f}}));return _n({VStepperVerticalItem:{color:r,eager:s,editable:o,prevText:a,nextText:l,hideActions:u,static:!0},VStepperActions:{color:r}}),ve(()=>{const f=vw.filterProps(e);return h(vw,J(f,{modelValue:d.value,"onUpdate:modelValue":v=>d.value=v,ref:i,class:["v-stepper",{"v-stepper--alt-labels":e.altLabels,"v-stepper--flat":e.flat,"v-stepper--non-linear":e.nonLinear,"v-stepper--mobile":e.mobile},e.class],style:e.style}),{...n,default:v=>{var _;let{prev:g,next:p}=v;return h(Ie,null,[c.value.map(y=>{let{raw:b,...E}=y;return h(JB,E,{...n,default:n[`item.${E.value}`]})}),(_=n.default)==null?void 0:_.call(n,{prev:g,next:p,step:d.value})])}})}),{}}}),Aae=de()({name:"VPullToRefresh",props:{disabled:Boolean,pullDownThreshold:{type:Number,default:64}},emits:{load:e=>!0},setup(e,t){let{slots:n,emit:i}=t,r=0,s=[];const o=Te(0),a=z(),l=Te(!1),u=Te(!1),d=Te(!1),c=I(()=>o.value>=e.pullDownThreshold&&!l.value),f=I(()=>kn(o.value,0,e.pullDownThreshold));function v(_){l.value||e.disabled||(d.value=!0,r="clientY"in _?_.clientY:_.touches[0].clientY)}function g(_){if(l.value||!d.value||e.disabled)return;const y="clientY"in _?_.clientY:_.touches[0].clientY;s.length&&!s[0].scrollTop&&(o.value=y-r)}function p(_){l.value||e.disabled||(d.value=!1,c.value?(i("load",{done:function(){l.value&&(o.value=0,l.value=!1)}}),l.value=!0):o.value=0)}yt(()=>{s=Mf(a.value)}),ge([f,l],()=>{if(s.length){const _=f.value&&!l.value;s.forEach(y=>y.style.overflow=_?"hidden":"auto")}}),ge(f,(_,y)=>{u.value=_<y}),ve(()=>{var _;return h("div",{class:["v-pull-to-refresh"],onTouchstart:v,onTouchmove:g,onTouchend:p,onMousedown:v,onMouseup:p,onMouseleave:p,onMousemove:g,ref:a},[h("div",{class:["v-pull-to-refresh__pull-down",{"v-pull-to-refresh__pull-down--touching":d.value}],style:{top:Ve(-1*e.pullDownThreshold+f.value),height:Ve(e.pullDownThreshold)}},[n.pullDownPanel?n.pullDownPanel({canRefresh:c.value,goingUp:u.value,refreshing:l.value}):h("div",{class:["v-pull-to-refresh__pull-down-default"]},[l.value?h(ya,{indeterminate:!0,active:!1},null):h(Pt,{icon:c.value||u.value?"$sortAsc":"$sortDesc"},null)])]),h("div",{class:["v-pull-to-refresh__scroll-container",{"v-pull-to-refresh__scroll-container--touching":d.value}],style:{top:Ve(f.value)}},[(_=n.default)==null?void 0:_.call(n)])])})}}),Pae=Z({closable:[Boolean,String],closeText:{type:String,default:"$vuetify.dismiss"},modelValue:{type:Array,default:()=>[]},...zt(PB(),["modelValue"])},"VSnackbarQueue"),xae=de()({name:"VSnackbarQueue",props:Pae(),emits:{"update:modelValue":e=>!0},setup(e,t){let{emit:n,slots:i}=t;const{t:r}=sn(),s=Te(!1),o=Te(!1),a=Te();ge(()=>e.modelValue.length,(f,v)=>{!o.value&&f>v&&u()}),ge(s,f=>{f&&(o.value=!0)});function l(){e.modelValue.length?u():(a.value=void 0,o.value=!1)}function u(){const[f,...v]=e.modelValue;n("update:modelValue",v),a.value=typeof f=="string"?{text:f}:f,ot(()=>{s.value=!0})}function d(){s.value=!1}const c=I(()=>({color:typeof e.closable=="string"?e.closable:void 0,text:r(e.closeText)}));ve(()=>{const f=!!(e.closable||i.actions),{modelValue:v,...g}=mw.filterProps(e);return h(Ie,null,[o.value&&!!a.value&&(i.default?h(at,{defaults:{VSnackbar:a.value}},{default:()=>[i.default({item:a.value})]}):h(mw,J(g,a.value,{modelValue:s.value,"onUpdate:modelValue":p=>s.value=p,onAfterLeave:l}),{text:i.text?()=>{var p;return(p=i.text)==null?void 0:p.call(i,{item:a.value})}:void 0,actions:f?()=>h(Ie,null,[i.actions?h(at,{defaults:{VBtn:c.value}},{default:()=>[i.actions({item:a.value,props:{onClick:d}})]}):h(dt,J(c.value,{onClick:d}),null)]):void 0}))])})}});function dl(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;return String(e).padStart(t,"0")}const Dae=Z({allowedValues:Function,ampm:Boolean,color:String,disabled:Boolean,displayedValue:null,double:Boolean,format:{type:Function,default:e=>e},max:{type:Number,required:!0},min:{type:Number,required:!0},scrollable:Boolean,readonly:Boolean,rotate:{type:Number,default:0},step:{type:Number,default:1},modelValue:{type:Number}},"VTimePickerClock"),yw=de()({name:"VTimePickerClock",props:Dae(),emits:{change:e=>!0,input:e=>!0},setup(e,t){let{emit:n}=t;const i=z(null),r=z(null),s=z(void 0),o=z(!1),a=z(null),l=z(null),{textColorClasses:u,textColorStyles:d}=ci(ue(e,"color")),{backgroundColorClasses:c,backgroundColorStyles:f}=Gt(ue(e,"color")),v=I(()=>e.max-e.min+1),g=I(()=>e.double?v.value/2:v.value),p=I(()=>360/g.value),_=I(()=>p.value*Math.PI/180),y=I(()=>e.modelValue==null?e.min:e.modelValue),b=I(()=>.62),E=I(()=>{const W=[];for(let K=e.min;K<=e.max;K=K+e.step)W.push(K);return W});ge(()=>e.modelValue,W=>{s.value=W});function k(W){s.value!==W&&(s.value=W),n("input",W)}function R(W){return!e.allowedValues||e.allowedValues(W)}function O(W){if(!e.scrollable||e.disabled)return;W.preventDefault();const K=Math.sign(-W.deltaY||1);let G=y.value;do G=G+K,G=(G-e.min+v.value)%v.value+e.min;while(!R(G)&&G!==y.value);G!==e.displayedValue&&k(G)}function D(W){return e.double&&W-e.min>=g.value}function S(W){return D(W)?b.value:1}function w(W){const K=e.rotate*Math.PI/180;return{x:Math.sin((W-e.min)*_.value+K)*S(W),y:-Math.cos((W-e.min)*_.value+K)*S(W)}}function C(W,K){const G=(Math.round(W/p.value)+(K?g.value:0))%v.value+e.min;return W<360-p.value/2?G:K?e.max-g.value+1:e.min}function A(W){const{x:K,y:G}=w(W);return{left:`${50+K*50}%`,top:`${50+G*50}%`}}function P(W,K){const G=K.x-W.x,te=K.y-W.y;return Math.sqrt(G*G+te*te)}function x(W,K){const G=2*Math.atan2(K.y-W.y-P(W,K),K.x-W.x);return Math.abs(G*180/Math.PI)}function U(W){a.value===null&&(a.value=W),l.value=W,k(W)}function $(W){var ne,Se;if(W.preventDefault(),!o.value&&W.type!=="click"||!i.value)return;const{width:K,top:G,left:te}=(ne=i.value)==null?void 0:ne.getBoundingClientRect(),{width:oe}=((Se=r.value)==null?void 0:Se.getBoundingClientRect())??{width:0},{clientX:_e,clientY:Ae}="touches"in W?W.touches[0]:W,Ne={x:K/2,y:-K/2},Q={x:_e-te,y:G-Ae},B=Math.round(x(Ne,Q)-e.rotate+360)%360,q=e.double&&P(Ne,Q)<(oe+oe*b.value)/4,ie=Math.ceil(15/p.value);let ce;for(let M=0;M<ie;M++)if(ce=C(B+M*p.value,q),R(ce)||(ce=C(B-M*p.value,q),R(ce)))return U(ce)}function j(W){e.disabled||(W.preventDefault(),window.addEventListener("mousemove",$),window.addEventListener("touchmove",$),window.addEventListener("mouseup",Y),window.addEventListener("touchend",Y),a.value=null,l.value=null,o.value=!0,$(W))}function Y(W){W.stopPropagation(),window.removeEventListener("mousemove",$),window.removeEventListener("touchmove",$),window.removeEventListener("mouseup",Y),window.removeEventListener("touchend",Y),o.value=!1,l.value!==null&&R(l.value)&&n("change",l.value)}ve(()=>h("div",{class:[{"v-time-picker-clock":!0,"v-time-picker-clock--indeterminate":e.modelValue==null,"v-time-picker-clock--readonly":e.readonly}],onMousedown:j,onTouchstart:j,onWheel:O,ref:i},[h("div",{class:"v-time-picker-clock__inner",ref:r},[h("div",{class:[{"v-time-picker-clock__hand":!0,"v-time-picker-clock__hand--inner":D(e.modelValue)},u.value],style:[{transform:`rotate(${e.rotate+p.value*(y.value-e.min)}deg) scaleY(${S(y.value)})`},d.value]},null),E.value.map(W=>{const K=W===y.value;return h("div",{class:[{"v-time-picker-clock__item":!0,"v-time-picker-clock__item--active":K,"v-time-picker-clock__item--disabled":e.disabled||!R(W)},K&&c.value],style:[A(W),K&&f.value]},[h("span",null,[e.format(W)])])})])]))}});var Bn=function(e){return e[e.Hour=1]="Hour",e[e.Minute=2]="Minute",e[e.Second=3]="Second",e}(Bn||{});const Rae=Z({ampm:Boolean,ampmInTitle:Boolean,ampmReadonly:Boolean,color:String,disabled:Boolean,hour:Number,minute:Number,second:Number,period:String,readonly:Boolean,useSeconds:Boolean,selecting:Number,value:Number},"VTimePickerControls"),bw=de()({name:"VTimePickerControls",props:Rae(),emits:{"update:period":e=>!0,"update:selecting":e=>!0},setup(e,t){let{emit:n,slots:i}=t;const{t:r}=sn();return ve(()=>{let s=e.hour;return e.ampm&&(s=s?(s-1)%12+1:12),h("div",{class:"v-time-picker-controls"},[h("div",{class:{"v-time-picker-controls__time":!0,"v-time-picker-controls__time--with-seconds":e.useSeconds}},[h(dt,{active:e.selecting===1,color:e.selecting===1?e.color:void 0,disabled:e.disabled,variant:"tonal",class:{"v-time-picker-controls__time__btn":!0,"v-time-picker-controls__time--with-ampm__btn":e.ampm,"v-time-picker-controls__time--with-seconds__btn":e.useSeconds},text:e.hour==null?"--":dl(`${s}`),onClick:()=>n("update:selecting",Bn.Hour)},null),h("span",{class:["v-time-picker-controls__time__separator",{"v-time-picker-controls--with-seconds__time__separator":e.useSeconds}]},[xe(":")]),h(dt,{active:e.selecting===2,color:e.selecting===2?e.color:void 0,class:{"v-time-picker-controls__time__btn":!0,"v-time-picker-controls__time__btn__active":e.selecting===2,"v-time-picker-controls__time--with-ampm__btn":e.ampm,"v-time-picker-controls__time--with-seconds__btn":e.useSeconds},disabled:e.disabled,variant:"tonal",text:e.minute==null?"--":dl(e.minute),onClick:()=>n("update:selecting",Bn.Minute)},null),e.useSeconds&&h("span",{class:["v-time-picker-controls__time__separator",{"v-time-picker-controls--with-seconds__time__separator":e.useSeconds}],key:"secondsDivider"},[xe(":")]),e.useSeconds&&h(dt,{key:"secondsVal",variant:"tonal",onClick:()=>n("update:selecting",Bn.Second),class:{"v-time-picker-controls__time__btn":!0,"v-time-picker-controls__time__btn__active":e.selecting===3,"v-time-picker-controls__time--with-seconds__btn":e.useSeconds},disabled:e.disabled,text:e.second==null?"--":dl(e.second)},null),e.ampm&&e.ampmInTitle&&h("div",{class:["v-time-picker-controls__ampm",{"v-time-picker-controls__ampm--readonly":e.ampmReadonly}]},[h(dt,{active:e.period==="am",color:e.period==="am"?e.color:void 0,class:{"v-time-picker-controls__ampm__am":!0,"v-time-picker-controls__ampm__btn":!0,"v-time-picker-controls__ampm__btn__active":e.period==="am"},disabled:e.disabled,text:r("$vuetify.timePicker.am"),variant:e.disabled&&e.period==="am"?"elevated":"tonal",onClick:()=>e.period!=="am"?n("update:period","am"):null},null),h(dt,{active:e.period==="pm",color:e.period==="pm"?e.color:void 0,class:{"v-time-picker-controls__ampm__pm":!0,"v-time-picker-controls__ampm__btn":!0,"v-time-picker-controls__ampm__btn__active":e.period==="pm"},disabled:e.disabled,text:r("$vuetify.timePicker.pm"),variant:e.disabled&&e.period==="pm"?"elevated":"tonal",onClick:()=>e.period!=="pm"?n("update:period","pm"):null},null)])])])}),{}}}),Oae=br(24),ZB=br(12),Vae=ZB.map(e=>e+12);br(60);const Nae={1:"hour",2:"minute",3:"second"},Mae=Z({allowedHours:[Function,Array],allowedMinutes:[Function,Array],allowedSeconds:[Function,Array],ampmInTitle:Boolean,disabled:Boolean,format:{type:String,default:"ampm"},max:String,min:String,modelValue:null,readonly:Boolean,scrollable:Boolean,useSeconds:Boolean,...zt(uC({title:"$vuetify.timePicker.title"}),["landscape"])},"VTimePicker"),Lae=de()({name:"VTimePicker",props:Mae(),emits:{"update:hour":e=>!0,"update:minute":e=>!0,"update:period":e=>!0,"update:second":e=>!0,"update:modelValue":e=>!0},setup(e,t){let{emit:n,slots:i}=t;const{t:r}=sn(),s=z(null),o=z(null),a=z(null),l=z(null),u=z(null),d=z(null),c=z("am"),f=z(Bn.Hour),v=z(null),g=z(null),p=I(()=>{let P;if(e.allowedHours instanceof Array?P=$=>e.allowedHours.includes($):P=e.allowedHours,!e.min&&!e.max)return P;const x=e.min?Number(e.min.split(":")[0]):0,U=e.max?Number(e.max.split(":")[0]):23;return $=>$>=x*1&&$<=U*1&&(!P||P($))}),_=I(()=>{let P;const x=!p.value||s.value===null||p.value(s.value);if(e.allowedMinutes instanceof Array?P=G=>e.allowedMinutes.includes(G):P=e.allowedMinutes,!e.min&&!e.max)return x?P:()=>!1;const[U,$]=e.min?e.min.split(":").map(Number):[0,0],[j,Y]=e.max?e.max.split(":").map(Number):[23,59],W=U*60+$*1,K=j*60+Y*1;return G=>{const te=60*s.value+G;return te>=W&&te<=K&&x&&(!P||P(G))}}),y=I(()=>{let P;const U=(!p.value||s.value===null||p.value(s.value))&&(!_.value||o.value===null||_.value(o.value));if(e.allowedSeconds instanceof Array?P=_e=>e.allowedSeconds.includes(_e):P=e.allowedSeconds,!e.min&&!e.max)return U?P:()=>!1;const[$,j,Y]=e.min?e.min.split(":").map(Number):[0,0,0],[W,K,G]=e.max?e.max.split(":").map(Number):[23,59,59],te=$*3600+j*60+(Y||0)*1,oe=W*3600+K*60+(G||0)*1;return _e=>{const Ae=3600*s.value+60*o.value+_e;return Ae>=te&&Ae<=oe&&U&&(!P||P(_e))}}),b=I(()=>e.format==="ampm");ge(()=>e.modelValue,P=>D(P)),yt(()=>{D(e.modelValue)});function E(){return s.value!=null&&o.value!=null&&(!e.useSeconds||a.value!=null)?`${dl(s.value)}:${dl(o.value)}`+(e.useSeconds?`:${dl(a.value)}`:""):null}function k(){const P=E();P!==null&&n("update:modelValue",P)}function R(P){return P?(P-1)%12+1:12}function O(P,x){return P%12+(x==="pm"?12:0)}function D(P){if(P==null||P==="")s.value=null,o.value=null,a.value=null;else if(P instanceof Date)s.value=P.getHours(),o.value=P.getMinutes(),a.value=P.getSeconds();else{const[x,,U,,$,j]=P.trim().toLowerCase().match(/^(\d+):(\d+)(:(\d+))?([ap]m)?$/)||new Array(6);s.value=j?O(parseInt(x,10),j):parseInt(x,10),o.value=parseInt(U,10),a.value=parseInt($||0,10)}c.value=s.value==null||s.value<12?"am":"pm"}function S(P,x){const U=p.value;if(!U)return x;const $=b.value?x<12?ZB:Vae:Oae;return(($.find(Y=>U((Y+x)%$.length+$[0]))||0)+x)%$.length+$[0]}function w(P){if(c.value=P,s.value!=null){const x=s.value+(c.value==="am"?-12:12);s.value=S("hour",x)}return n("update:period",P),k(),!0}function C(P){f.value===Bn.Hour?s.value=b.value?O(P,c.value):P:f.value===Bn.Minute?o.value=P:a.value=P}function A(P){switch(Nae[f.value]){case"hour":n("update:hour",P);break;case"minute":n("update:minute",P);break;case"second":n("update:second",P);break}const x=f.value===(e.useSeconds?Bn.Second:Bn.Minute);f.value===Bn.Hour?f.value=Bn.Minute:e.useSeconds&&f.value===Bn.Minute&&(f.value=Bn.Second),!(s.value===l.value&&o.value===u.value&&(!e.useSeconds||a.value===d.value)||E()===null)&&(l.value=s.value,u.value=o.value,e.useSeconds&&(d.value=a.value),x&&k())}ve(()=>{const P=qf.filterProps(e),x=bw.filterProps(e),U=yw.filterProps(zt(e,["format","modelValue","min","max"]));return h(qf,J(P,{color:void 0,class:["v-time-picker",e.class],style:e.style}),{title:()=>{var $;return(($=i.title)==null?void 0:$.call(i))??h("div",{class:"v-time-picker__title"},[r(e.title)])},header:()=>h(bw,J(x,{ampm:b.value||e.ampmInTitle,ampmReadonly:b.value&&!e.ampmInTitle,hour:s.value,minute:o.value,period:c.value,second:a.value,selecting:f.value,"onUpdate:period":$=>w($),"onUpdate:selecting":$=>f.value=$,ref:v}),null),default:()=>h(yw,J(U,{allowedValues:f.value===Bn.Hour?p.value:f.value===Bn.Minute?_.value:y.value,double:f.value===Bn.Hour&&!b.value,format:f.value===Bn.Hour?b.value?R:$=>$:$=>dl($,2),max:f.value===Bn.Hour?b.value&&c.value==="am"?11:23:59,min:f.value===Bn.Hour&&b.value&&c.value==="pm"?12:0,size:20,step:f.value===Bn.Hour?1:5,modelValue:f.value===Bn.Hour?s.value:f.value===Bn.Minute?o.value:a.value,onChange:A,onInput:C,ref:g}),null),actions:i.actions})})}}),Fae=Z({...zt(KF({collapseIcon:"$treeviewCollapse",expandIcon:"$treeviewExpand"}),["subgroup"])},"VTreeviewGroup"),ww=de()({name:"VTreeviewGroup",props:Fae(),setup(e,t){let{slots:n}=t;const i=z(),r=I(()=>{var o;return(o=i.value)!=null&&o.isOpen?e.collapseIcon:e.expandIcon}),s=I(()=>{var o;return{VTreeviewItem:{prependIcon:void 0,appendIcon:void 0,active:(o=i.value)==null?void 0:o.isOpen,toggleIcon:r.value}}});return ve(()=>{const o=zf.filterProps(e);return h(zf,J(o,{ref:i,class:["v-treeview-group",e.class],subgroup:!0}),{...n,activator:n.activator?a=>h(Ie,null,[h(at,{defaults:s.value},{default:()=>{var l;return[(l=n.activator)==null?void 0:l.call(n,a)]}})]):void 0})}),{}}}),e4=Symbol.for("vuetify:v-treeview"),$ae=Z({loading:Boolean,onToggleExpand:ii(),toggleIcon:Je,...JF({slim:!0})},"VTreeviewItem"),Sw=de()({name:"VTreeviewItem",props:$ae(),setup(e,t){let{attrs:n,slots:i,emit:r}=t;const s=zc(e,n),o=z(),a=I(()=>{var c,f;return((c=o.value)==null?void 0:c.root.activatable.value)&&((f=o.value)==null?void 0:f.isGroupActivator)}),l=I(()=>{var c;return!e.disabled&&e.link!==!1&&(e.link||s.isClickable.value||e.value!=null&&!!((c=o.value)!=null&&c.list)||a.value)});function u(c){var f,v,g,p;!l.value||!a.value&&((f=o.value)!=null&&f.isGroupActivator)||(v=o.value)!=null&&v.root.activatable.value&&((p=o.value)==null||p.activate(!((g=o.value)!=null&&g.isActivated),c))}const d=st(e4,{visibleIds:z()}).visibleIds;return ve(()=>{var v,g;const c=zt(cs.filterProps(e),["onClick"]),f=i.prepend||e.toggleIcon;return h(cs,J({ref:o},c,{active:(v=o.value)==null?void 0:v.isActivated,class:["v-treeview-item",{"v-treeview-item--activatable-group-activator":a.value,"v-treeview-item--filtered":d.value&&!d.value.has((g=o.value)==null?void 0:g.id)},e.class],ripple:!1,onClick:e.onClick??u}),{...i,prepend:f?p=>{var _;return h(Ie,null,[e.toggleIcon&&h(o$,{start:!1},{default:()=>[h(dt,{density:"compact",icon:e.toggleIcon,loading:e.loading,variant:"text",onClick:e.onToggleExpand},{loader(){return h(ya,{indeterminate:"disable-shrink",size:"20",width:"2"},null)}})]}),(_=i.prepend)==null?void 0:_.call(i,p)])}:void 0})}),{}}}),t4=Z({loadChildren:Function,loadingIcon:{type:String,default:"$loading"},items:Array,openOnClick:{type:Boolean,default:void 0},indeterminateIcon:{type:Je,default:"$checkboxIndeterminate"},falseIcon:Je,trueIcon:Je,returnObject:Boolean,selectable:Boolean,selectedColor:String,selectStrategy:[String,Function,Object]},"VTreeviewChildren"),bg=de()({name:"VTreeviewChildren",props:t4(),setup(e,t){let{emit:n,slots:i}=t;const r=Te(null),s=I(()=>e.openOnClick!=null?e.openOnClick:e.selectable);function o(l){return new Promise(u=>{var d,c;if(!((d=e.items)!=null&&d.length)||!e.loadChildren)return u();if(((c=l==null?void 0:l.children)==null?void 0:c.length)===0){r.value=l.value,e.loadChildren(l).then(u);return}u()}).finally(()=>{r.value=null})}function a(l,u){e.selectable&&l(!u)}return()=>{var l,u;return((l=i.default)==null?void 0:l.call(i))??((u=e.items)==null?void 0:u.map(d=>{var b;let{children:c,props:f,raw:v}=d;const g=r.value===v.value,p={prepend:E=>{var k;return h(Ie,null,[e.selectable&&(!c||c&&!["leaf","single-leaf"].includes(e.selectStrategy))&&h("div",null,[h(Ms,{key:v.value,modelValue:E.isSelected,loading:g,color:e.selectedColor,indeterminate:E.isIndeterminate,indeterminateIcon:e.indeterminateIcon,falseIcon:e.falseIcon,trueIcon:e.trueIcon,onClick:Il(()=>a(E.select,E.isSelected),["stop"]),onKeydown:R=>{["Enter","Space"].includes(R.key)&&(R.stopPropagation(),a(E.select,E.isSelected))}},null)]),(k=i.prepend)==null?void 0:k.call(i,{...E,item:v})])},append:i.append?E=>{var k;return(k=i.append)==null?void 0:k.call(i,{...E,item:v})}:void 0,title:i.title?E=>{var k;return(k=i.title)==null?void 0:k.call(i,{...E,item:v})}:void 0},_=ww.filterProps(f),y=bg.filterProps(e);return c?h(ww,J(_,{value:e.returnObject?v:_==null?void 0:_.value}),{activator:E=>{let{props:k}=E;const R={...f,...k,value:f==null?void 0:f.value,onToggleExpand:[()=>o(v),k.onClick],onClick:s.value?[()=>o(v),k.onClick]:void 0};return h(Sw,J(R,{value:e.returnObject?Ge(v):f.value,loading:g}),p)},default:()=>h(bg,J(y,{items:c,returnObject:e.returnObject}),i)}):((b=i.item)==null?void 0:b.call(i,{props:f}))??h(Sw,J(f,{value:e.returnObject?Ge(v):f.value}),p)}))}}});function n4(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];for(const n of e)t.push(n),n.children&&n4(n.children,t);return t}const Bae=Z({openAll:Boolean,search:String,...Xc({filterKeys:["title"]}),...t4(),...zt(s$({collapseIcon:"$treeviewCollapse",expandIcon:"$treeviewExpand",slim:!0}),["itemType","nav","openStrategy"]),modelValue:{type:Array,default:()=>[]}},"VTreeview"),Uae=de()({name:"VTreeview",props:Bae(),emits:{"update:opened":e=>!0,"update:activated":e=>!0,"update:selected":e=>!0,"update:modelValue":e=>!0,"click:open":e=>!0,"click:select":e=>!0},setup(e,t){let{slots:n}=t;const{items:i}=r$(e),r=ue(e,"activeColor"),s=ue(e,"baseColor"),o=ue(e,"color"),a=je(e,"activated"),l=je(e,"modelValue"),u=je(e,"selected",e.modelValue),d=I({get:()=>u.value,set(E){u.value=E,l.value=E}}),c=z(),f=I(()=>e.openAll?b(i.value):e.opened),v=I(()=>n4(i.value)),g=ue(e,"search"),{filteredItems:p}=Qc(e,v,g),_=I(()=>{var k;if(!g.value)return null;const E=(k=c.value)==null?void 0:k.getPath;return E?new Set(p.value.flatMap(R=>[...E(R.props.value),...y(R.props.value)])):null});function y(E){var O,D;const k=[],R=(((O=c.value)==null?void 0:O.children.get(E))??[]).slice();for(;R.length;){const S=R.shift();S&&(k.push(S),R.push(...(((D=c.value)==null?void 0:D.children.get(S))??[]).slice()))}return k}function b(E){let k=[];for(const R of E)R.children&&(k.push(e.returnObject?Ge(R.raw):R.value),R.children&&(k=k.concat(b(R.children))));return k}return Ut(e4,{visibleIds:_}),_n({VTreeviewGroup:{activeColor:r,baseColor:s,color:o,collapseIcon:ue(e,"collapseIcon"),expandIcon:ue(e,"expandIcon")},VTreeviewItem:{activeClass:ue(e,"activeClass"),activeColor:r,baseColor:s,color:o,density:ue(e,"density"),disabled:ue(e,"disabled"),lines:ue(e,"lines"),variant:ue(e,"variant")}}),ve(()=>{const E=Sc.filterProps(e),k=bg.filterProps(e);return h(Sc,J({ref:c},E,{class:["v-treeview",e.class],"open-strategy":"multiple",style:e.style,opened:f.value,activated:a.value,"onUpdate:activated":R=>a.value=R,selected:d.value,"onUpdate:selected":R=>d.value=R}),{default:()=>[h(bg,J(k,{returnObject:e.returnObject,items:i.value}),n)]})}),{}}}),jae=Object.freeze(Object.defineProperty({__proto__:null,VCalendar:yae,VCalendarDay:gm,VCalendarHeader:_w,VCalendarInterval:pw,VCalendarIntervalEvent:gw,VCalendarMonthDay:XB,VDateInput:wae,VNumberInput:Eae,VPicker:qf,VPickerTitle:EB,VPullToRefresh:Aae,VSnackbarQueue:xae,VStepperVertical:Iae,VStepperVerticalActions:QB,VStepperVerticalItem:JB,VTimePicker:Lae,VTimePickerClock:yw,VTimePickerControls:bw,VTreeview:Uae,VTreeviewGroup:ww,VTreeviewItem:Sw},Symbol.toStringTag,{value:"Module"})),Hae={badge:"Distintivo",open:"Apri",close:"Chiudi",dismiss:"Dismiss",confirmEdit:{ok:"OK",cancel:"Annulla"},dataIterator:{noResultsText:"Nessun risultato trovato",loadingText:"Caricamento in corso..."},dataTable:{itemsPerPageText:"Righe per pagina:",ariaLabel:{sortDescending:"Ordinati in ordine decrescente.",sortAscending:"Ordinati in ordine crescente.",sortNone:"Non ordinato.",activateNone:"Attiva per rimuovere l'ordinamento.",activateDescending:"Attiva per ordinare in ordine decrescente.",activateAscending:"Attiva per ordinare in ordine crescente."},sortBy:"Ordina per"},dataFooter:{itemsPerPageText:"Elementi per pagina:",itemsPerPageAll:"Tutti",nextPage:"Pagina seguente",prevPage:"Pagina precedente",firstPage:"Prima pagina",lastPage:"Ultima pagina",pageText:"{0}-{1} di {2}"},dateRangeInput:{divider:"a"},datePicker:{itemsSelected:"{0} selected",range:{title:"Seleziona date",header:"Inserisci date"},title:"Seleziona data",header:"Inserisci data",input:{placeholder:"Inserisci data"}},noDataText:"Nessun elemento disponibile",carousel:{prev:"Vista precedente",next:"Prossima vista",ariaLabel:{delimiter:"Slide carosello {0} di {1}"}},calendar:{moreEvents:"{0} di pi",today:"Today"},input:{clear:"Cancella {0}",prependAction:"Azione precedente {0}",appendAction:"Azione successiva {0}",otp:"Inserisci il codice OTP {0}"},fileInput:{counter:"{0} file",counterSize:"{0} file ({1} in totale)"},timePicker:{am:"AM",pm:"PM",title:"Select Time"},pagination:{ariaLabel:{root:"Navigazione impaginazione",next:"Pagina seguente",previous:"Pagina precedente",page:"Vai alla pagina {0}",currentPage:"Pagina corrente, pagina {0}",first:"Prima pagina",last:"Ultima pagina"}},stepper:{next:"Successivo",prev:"Precedente"},rating:{ariaLabel:{item:"Valutazione {0} di {1}"}},loading:"Caricamento...",infiniteScroll:{loadMore:"Carica altro",empty:"Nessun elemento"}},Wae={dark:!1,colors:{background:"#FFFFFF",surface:"#FFFFFF",primary:"#6200EE","primary-darken-1":"#3700B3",secondary:"#03DAC6","secondary-darken-1":"#018786",error:"#B00020",info:"#2196F3",success:"#4CAF50",warning:"#FB8C00","blue-grey-lighten":"#37474F"}},zae={dark:!0,colors:{success:"#78dc77",secondary:"#000000",primary:"#cfbdff",info:"#9ecaff","blue-grey-lighten":"#ECEFF1"}},Gae=lF({components:{...nae,...jae},directives:vae,theme:{defaultTheme:"myCustomLightTheme",themes:{myCustomLightTheme:Wae,myCustomDarkTheme:zae}},locale:{locale:"it",fallback:"en",messages:{en:qL,it:Hae}},date:{locale:{it:"it-IT"}}});var I_,bt,i4,r4,tl,ix,s4,Ew,vC,Cw,kw,o4,Kf={},a4=[],qae=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,A_=Array.isArray;function ra(e,t){for(var n in t)e[n]=t[n];return e}function l4(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function Wl(e,t,n){var i,r,s,o={};for(s in t)s=="key"?i=t[s]:s=="ref"?r=t[s]:o[s]=t[s];if(arguments.length>2&&(o.children=arguments.length>3?I_.call(arguments,2):n),typeof e=="function"&&e.defaultProps!=null)for(s in e.defaultProps)o[s]===void 0&&(o[s]=e.defaultProps[s]);return pm(e,o,i,r,null)}function pm(e,t,n,i,r){var s={type:e,props:t,key:n,ref:i,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:r??++i4,__i:-1,__u:0};return r==null&&bt.vnode!=null&&bt.vnode(s),s}function Vt(e){return e.children}function As(e,t){this.props=e,this.context=t}function Ec(e,t){if(t==null)return e.__?Ec(e.__,e.__i+1):null;for(var n;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null)return n.__e;return typeof e.type=="function"?Ec(e):null}function u4(e){var t,n;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null){e.__e=e.__c.base=n.__e;break}return u4(e)}}function Tw(e){(!e.__d&&(e.__d=!0)&&tl.push(e)&&!wg.__r++||ix!==bt.debounceRendering)&&((ix=bt.debounceRendering)||s4)(wg)}function wg(){var e,t,n,i,r,s,o,a;for(tl.sort(Ew);e=tl.shift();)e.__d&&(t=tl.length,i=void 0,s=(r=(n=e).__v).__e,o=[],a=[],n.__P&&((i=ra({},r)).__v=r.__v+1,bt.vnode&&bt.vnode(i),mC(n.__P,i,r,n.__n,n.__P.namespaceURI,32&r.__u?[s]:null,o,s??Ec(r),!!(32&r.__u),a),i.__v=r.__v,i.__.__k[i.__i]=i,f4(o,i,a),i.__e!=s&&u4(i)),tl.length>t&&tl.sort(Ew));wg.__r=0}function c4(e,t,n,i,r,s,o,a,l,u,d){var c,f,v,g,p,_=i&&i.__k||a4,y=t.length;for(n.__d=l,Yae(n,t,_),l=n.__d,c=0;c<y;c++)(v=n.__k[c])!=null&&(f=v.__i===-1?Kf:_[v.__i]||Kf,v.__i=c,mC(e,v,f,r,s,o,a,l,u,d),g=v.__e,v.ref&&f.ref!=v.ref&&(f.ref&&gC(f.ref,null,v),d.push(v.ref,v.__c||g,v)),p==null&&g!=null&&(p=g),65536&v.__u||f.__k===v.__k?l=d4(v,l,e):typeof v.type=="function"&&v.__d!==void 0?l=v.__d:g&&(l=g.nextSibling),v.__d=void 0,v.__u&=-196609);n.__d=l,n.__e=p}function Yae(e,t,n){var i,r,s,o,a,l=t.length,u=n.length,d=u,c=0;for(e.__k=[],i=0;i<l;i++)(r=t[i])!=null&&typeof r!="boolean"&&typeof r!="function"?(o=i+c,(r=e.__k[i]=typeof r=="string"||typeof r=="number"||typeof r=="bigint"||r.constructor==String?pm(null,r,null,null,null):A_(r)?pm(Vt,{children:r},null,null,null):r.constructor===void 0&&r.__b>0?pm(r.type,r.props,r.key,r.ref?r.ref:null,r.__v):r).__=e,r.__b=e.__b+1,s=null,(a=r.__i=Kae(r,n,o,d))!==-1&&(d--,(s=n[a])&&(s.__u|=131072)),s==null||s.__v===null?(a==-1&&c--,typeof r.type!="function"&&(r.__u|=65536)):a!==o&&(a==o-1?c--:a==o+1?c++:(a>o?c--:c++,r.__u|=65536))):r=e.__k[i]=null;if(d)for(i=0;i<u;i++)(s=n[i])!=null&&!(131072&s.__u)&&(s.__e==e.__d&&(e.__d=Ec(s)),h4(s,s))}function d4(e,t,n){var i,r;if(typeof e.type=="function"){for(i=e.__k,r=0;i&&r<i.length;r++)i[r]&&(i[r].__=e,t=d4(i[r],t,n));return t}e.__e!=t&&(t&&e.type&&!n.contains(t)&&(t=Ec(e)),n.insertBefore(e.__e,t||null),t=e.__e);do t=t&&t.nextSibling;while(t!=null&&t.nodeType===8);return t}function Sg(e,t){return t=t||[],e==null||typeof e=="boolean"||(A_(e)?e.some(function(n){Sg(n,t)}):t.push(e)),t}function Kae(e,t,n,i){var r=e.key,s=e.type,o=n-1,a=n+1,l=t[n];if(l===null||l&&r==l.key&&s===l.type&&!(131072&l.__u))return n;if(i>(l!=null&&!(131072&l.__u)?1:0))for(;o>=0||a<t.length;){if(o>=0){if((l=t[o])&&!(131072&l.__u)&&r==l.key&&s===l.type)return o;o--}if(a<t.length){if((l=t[a])&&!(131072&l.__u)&&r==l.key&&s===l.type)return a;a++}}return-1}function rx(e,t,n){t[0]==="-"?e.setProperty(t,n??""):e[t]=n==null?"":typeof n!="number"||qae.test(t)?n:n+"px"}function Nv(e,t,n,i,r){var s;e:if(t==="style")if(typeof n=="string")e.style.cssText=n;else{if(typeof i=="string"&&(e.style.cssText=i=""),i)for(t in i)n&&t in n||rx(e.style,t,"");if(n)for(t in n)i&&n[t]===i[t]||rx(e.style,t,n[t])}else if(t[0]==="o"&&t[1]==="n")s=t!==(t=t.replace(/(PointerCapture)$|Capture$/i,"$1")),t=t.toLowerCase()in e||t==="onFocusOut"||t==="onFocusIn"?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+s]=n,n?i?n.u=i.u:(n.u=vC,e.addEventListener(t,s?kw:Cw,s)):e.removeEventListener(t,s?kw:Cw,s);else{if(r=="http://www.w3.org/2000/svg")t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(t!="width"&&t!="height"&&t!="href"&&t!="list"&&t!="form"&&t!="tabIndex"&&t!="download"&&t!="rowSpan"&&t!="colSpan"&&t!="role"&&t!="popover"&&t in e)try{e[t]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&t[4]!=="-"?e.removeAttribute(t):e.setAttribute(t,t=="popover"&&n==1?"":n))}}function sx(e){return function(t){if(this.l){var n=this.l[t.type+e];if(t.t==null)t.t=vC++;else if(t.t<n.u)return;return n(bt.event?bt.event(t):t)}}}function mC(e,t,n,i,r,s,o,a,l,u){var d,c,f,v,g,p,_,y,b,E,k,R,O,D,S,w,C=t.type;if(t.constructor!==void 0)return null;128&n.__u&&(l=!!(32&n.__u),s=[a=t.__e=n.__e]),(d=bt.__b)&&d(t);e:if(typeof C=="function")try{if(y=t.props,b="prototype"in C&&C.prototype.render,E=(d=C.contextType)&&i[d.__c],k=d?E?E.props.value:d.__:i,n.__c?_=(c=t.__c=n.__c).__=c.__E:(b?t.__c=c=new C(y,k):(t.__c=c=new As(y,k),c.constructor=C,c.render=Qae),E&&E.sub(c),c.props=y,c.state||(c.state={}),c.context=k,c.__n=i,f=c.__d=!0,c.__h=[],c._sb=[]),b&&c.__s==null&&(c.__s=c.state),b&&C.getDerivedStateFromProps!=null&&(c.__s==c.state&&(c.__s=ra({},c.__s)),ra(c.__s,C.getDerivedStateFromProps(y,c.__s))),v=c.props,g=c.state,c.__v=t,f)b&&C.getDerivedStateFromProps==null&&c.componentWillMount!=null&&c.componentWillMount(),b&&c.componentDidMount!=null&&c.__h.push(c.componentDidMount);else{if(b&&C.getDerivedStateFromProps==null&&y!==v&&c.componentWillReceiveProps!=null&&c.componentWillReceiveProps(y,k),!c.__e&&(c.shouldComponentUpdate!=null&&c.shouldComponentUpdate(y,c.__s,k)===!1||t.__v===n.__v)){for(t.__v!==n.__v&&(c.props=y,c.state=c.__s,c.__d=!1),t.__e=n.__e,t.__k=n.__k,t.__k.some(function(A){A&&(A.__=t)}),R=0;R<c._sb.length;R++)c.__h.push(c._sb[R]);c._sb=[],c.__h.length&&o.push(c);break e}c.componentWillUpdate!=null&&c.componentWillUpdate(y,c.__s,k),b&&c.componentDidUpdate!=null&&c.__h.push(function(){c.componentDidUpdate(v,g,p)})}if(c.context=k,c.props=y,c.__P=e,c.__e=!1,O=bt.__r,D=0,b){for(c.state=c.__s,c.__d=!1,O&&O(t),d=c.render(c.props,c.state,c.context),S=0;S<c._sb.length;S++)c.__h.push(c._sb[S]);c._sb=[]}else do c.__d=!1,O&&O(t),d=c.render(c.props,c.state,c.context),c.state=c.__s;while(c.__d&&++D<25);c.state=c.__s,c.getChildContext!=null&&(i=ra(ra({},i),c.getChildContext())),b&&!f&&c.getSnapshotBeforeUpdate!=null&&(p=c.getSnapshotBeforeUpdate(v,g)),c4(e,A_(w=d!=null&&d.type===Vt&&d.key==null?d.props.children:d)?w:[w],t,n,i,r,s,o,a,l,u),c.base=t.__e,t.__u&=-161,c.__h.length&&o.push(c),_&&(c.__E=c.__=null)}catch(A){if(t.__v=null,l||s!=null){for(t.__u|=l?160:128;a&&a.nodeType===8&&a.nextSibling;)a=a.nextSibling;s[s.indexOf(a)]=null,t.__e=a}else t.__e=n.__e,t.__k=n.__k;bt.__e(A,t,n)}else s==null&&t.__v===n.__v?(t.__k=n.__k,t.__e=n.__e):t.__e=Xae(n.__e,t,n,i,r,s,o,l,u);(d=bt.diffed)&&d(t)}function f4(e,t,n){t.__d=void 0;for(var i=0;i<n.length;i++)gC(n[i],n[++i],n[++i]);bt.__c&&bt.__c(t,e),e.some(function(r){try{e=r.__h,r.__h=[],e.some(function(s){s.call(r)})}catch(s){bt.__e(s,r.__v)}})}function Xae(e,t,n,i,r,s,o,a,l){var u,d,c,f,v,g,p,_=n.props,y=t.props,b=t.type;if(b==="svg"?r="http://www.w3.org/2000/svg":b==="math"?r="http://www.w3.org/1998/Math/MathML":r||(r="http://www.w3.org/1999/xhtml"),s!=null){for(u=0;u<s.length;u++)if((v=s[u])&&"setAttribute"in v==!!b&&(b?v.localName===b:v.nodeType===3)){e=v,s[u]=null;break}}if(e==null){if(b===null)return document.createTextNode(y);e=document.createElementNS(r,b,y.is&&y),a&&(bt.__m&&bt.__m(t,s),a=!1),s=null}if(b===null)_===y||a&&e.data===y||(e.data=y);else{if(s=s&&I_.call(e.childNodes),_=n.props||Kf,!a&&s!=null)for(_={},u=0;u<e.attributes.length;u++)_[(v=e.attributes[u]).name]=v.value;for(u in _)if(v=_[u],u!="children"){if(u=="dangerouslySetInnerHTML")c=v;else if(!(u in y)){if(u=="value"&&"defaultValue"in y||u=="checked"&&"defaultChecked"in y)continue;Nv(e,u,null,v,r)}}for(u in y)v=y[u],u=="children"?f=v:u=="dangerouslySetInnerHTML"?d=v:u=="value"?g=v:u=="checked"?p=v:a&&typeof v!="function"||_[u]===v||Nv(e,u,v,_[u],r);if(d)a||c&&(d.__html===c.__html||d.__html===e.innerHTML)||(e.innerHTML=d.__html),t.__k=[];else if(c&&(e.innerHTML=""),c4(e,A_(f)?f:[f],t,n,i,b==="foreignObject"?"http://www.w3.org/1999/xhtml":r,s,o,s?s[0]:n.__k&&Ec(n,0),a,l),s!=null)for(u=s.length;u--;)l4(s[u]);a||(u="value",b==="progress"&&g==null?e.removeAttribute("value"):g!==void 0&&(g!==e[u]||b==="progress"&&!g||b==="option"&&g!==_[u])&&Nv(e,u,g,_[u],r),u="checked",p!==void 0&&p!==e[u]&&Nv(e,u,p,_[u],r))}return e}function gC(e,t,n){try{if(typeof e=="function"){var i=typeof e.__u=="function";i&&e.__u(),i&&t==null||(e.__u=e(t))}else e.current=t}catch(r){bt.__e(r,n)}}function h4(e,t,n){var i,r;if(bt.unmount&&bt.unmount(e),(i=e.ref)&&(i.current&&i.current!==e.__e||gC(i,null,t)),(i=e.__c)!=null){if(i.componentWillUnmount)try{i.componentWillUnmount()}catch(s){bt.__e(s,t)}i.base=i.__P=null}if(i=e.__k)for(r=0;r<i.length;r++)i[r]&&h4(i[r],t,n||typeof e.type!="function");n||l4(e.__e),e.__c=e.__=e.__e=e.__d=void 0}function Qae(e,t,n){return this.constructor(e,n)}function Eg(e,t,n){var i,r,s,o;bt.__&&bt.__(e,t),r=(i=typeof n=="function")?null:t.__k,s=[],o=[],mC(t,e=(!i&&n||t).__k=Wl(Vt,null,[e]),r||Kf,Kf,t.namespaceURI,!i&&n?[n]:r?null:t.firstChild?I_.call(t.childNodes):null,s,!i&&n?n:r?r.__e:t.firstChild,i,o),f4(s,e,o)}function v4(e,t){var n={__c:t="__cC"+o4++,__:e,Consumer:function(i,r){return i.children(r)},Provider:function(i){var r,s;return this.getChildContext||(r=new Set,(s={})[t]=this,this.getChildContext=function(){return s},this.componentWillUnmount=function(){r=null},this.shouldComponentUpdate=function(o){this.props.value!==o.value&&r.forEach(function(a){a.__e=!0,Tw(a)})},this.sub=function(o){r.add(o);var a=o.componentWillUnmount;o.componentWillUnmount=function(){r&&r.delete(o),a&&a.call(o)}}),i.children}};return n.Provider.__=n.Consumer.contextType=n}I_=a4.slice,bt={__e:function(e,t,n,i){for(var r,s,o;t=t.__;)if((r=t.__c)&&!r.__)try{if((s=r.constructor)&&s.getDerivedStateFromError!=null&&(r.setState(s.getDerivedStateFromError(e)),o=r.__d),r.componentDidCatch!=null&&(r.componentDidCatch(e,i||{}),o=r.__d),o)return r.__E=r}catch(a){e=a}throw e}},i4=0,r4=function(e){return e!=null&&e.constructor==null},As.prototype.setState=function(e,t){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=ra({},this.state),typeof e=="function"&&(e=e(ra({},n),this.props)),e&&ra(n,e),e!=null&&this.__v&&(t&&this._sb.push(t),Tw(this))},As.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),Tw(this))},As.prototype.render=Vt,tl=[],s4=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Ew=function(e,t){return e.__v.__b-t.__v.__b},wg.__r=0,vC=0,Cw=sx(!1),kw=sx(!0),o4=0;var Jae=0;function X(e,t,n,i,r,s){t||(t={});var o,a,l=t;"ref"in t&&(o=t.ref,delete t.ref);var u={type:e,props:l,key:n,ref:o,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:--Jae,__i:-1,__u:0,__source:r,__self:s};if(typeof e=="function"&&(o=e.defaultProps))for(a in o)l[a]===void 0&&(l[a]=o[a]);return bt.vnode&&bt.vnode(u),u}var Cc,Nn,nb,ox,Cg=0,m4=[],Xn=bt,ax=Xn.__b,lx=Xn.__r,ux=Xn.diffed,cx=Xn.__c,dx=Xn.unmount,fx=Xn.__;function P_(e,t){Xn.__h&&Xn.__h(Nn,e,Cg||t),Cg=0;var n=Nn.__H||(Nn.__H={__:[],__h:[]});return e>=n.__.length&&n.__.push({}),n.__[e]}function wt(e){return Cg=1,Zae(p4,e)}function Zae(e,t,n){var i=P_(Cc++,2);if(i.t=e,!i.__c&&(i.__=[n?n(t):p4(void 0,t),function(a){var l=i.__N?i.__N[0]:i.__[0],u=i.t(l,a);l!==u&&(i.__N=[u,i.__[1]],i.__c.setState({}))}],i.__c=Nn,!Nn.u)){var r=function(a,l,u){if(!i.__c.__H)return!0;var d=i.__c.__H.__.filter(function(f){return!!f.__c});if(d.every(function(f){return!f.__N}))return!s||s.call(this,a,l,u);var c=!1;return d.forEach(function(f){if(f.__N){var v=f.__[0];f.__=f.__N,f.__N=void 0,v!==f.__[0]&&(c=!0)}}),!(!c&&i.__c.props===a)&&(!s||s.call(this,a,l,u))};Nn.u=!0;var s=Nn.shouldComponentUpdate,o=Nn.componentWillUpdate;Nn.componentWillUpdate=function(a,l,u){if(this.__e){var d=s;s=void 0,r(a,l,u),s=d}o&&o.call(this,a,l,u)},Nn.shouldComponentUpdate=r}return i.__N||i.__}function Xt(e,t){var n=P_(Cc++,3);!Xn.__s&&g4(n.__H,t)&&(n.__=e,n.i=t,Nn.__H.__h.push(n))}function ele(e){return Cg=5,pC(function(){return{current:e}},[])}function pC(e,t){var n=P_(Cc++,7);return g4(n.__H,t)&&(n.__=e(),n.__H=t,n.__h=e),n.__}function Vn(e){var t=Nn.context[e.__c],n=P_(Cc++,9);return n.c=e,t?(n.__==null&&(n.__=!0,t.sub(Nn)),t.props.value):e.__}function tle(){for(var e;e=m4.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(_m),e.__H.__h.forEach(Iw),e.__H.__h=[]}catch(t){e.__H.__h=[],Xn.__e(t,e.__v)}}Xn.__b=function(e){Nn=null,ax&&ax(e)},Xn.__=function(e,t){e&&t.__k&&t.__k.__m&&(e.__m=t.__k.__m),fx&&fx(e,t)},Xn.__r=function(e){lx&&lx(e),Cc=0;var t=(Nn=e.__c).__H;t&&(nb===Nn?(t.__h=[],Nn.__h=[],t.__.forEach(function(n){n.__N&&(n.__=n.__N),n.i=n.__N=void 0})):(t.__h.forEach(_m),t.__h.forEach(Iw),t.__h=[],Cc=0)),nb=Nn},Xn.diffed=function(e){ux&&ux(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(m4.push(t)!==1&&ox===Xn.requestAnimationFrame||((ox=Xn.requestAnimationFrame)||nle)(tle)),t.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.i=void 0})),nb=Nn=null},Xn.__c=function(e,t){t.some(function(n){try{n.__h.forEach(_m),n.__h=n.__h.filter(function(i){return!i.__||Iw(i)})}catch(i){t.some(function(r){r.__h&&(r.__h=[])}),t=[],Xn.__e(i,n.__v)}}),cx&&cx(e,t)},Xn.unmount=function(e){dx&&dx(e);var t,n=e.__c;n&&n.__H&&(n.__H.__.forEach(function(i){try{_m(i)}catch(r){t=r}}),n.__H=void 0,t&&Xn.__e(t,n.__v))};var hx=typeof requestAnimationFrame=="function";function nle(e){var t,n=function(){clearTimeout(i),hx&&cancelAnimationFrame(t),setTimeout(e)},i=setTimeout(n,100);hx&&(t=requestAnimationFrame(n))}function _m(e){var t=Nn,n=e.__c;typeof n=="function"&&(e.__c=void 0,n()),Nn=t}function Iw(e){var t=Nn;e.__c=e.__(),Nn=t}function g4(e,t){return!e||e.length!==t.length||t.some(function(n,i){return n!==e[i]})}function p4(e,t){return typeof t=="function"?t(e):t}function vx(e,t){for(var n in e)if(n!=="__source"&&!(n in t))return!0;for(var i in t)if(i!=="__source"&&e[i]!==t[i])return!0;return!1}function mx(e,t){this.props=e,this.context=t}(mx.prototype=new As).isPureReactComponent=!0,mx.prototype.shouldComponentUpdate=function(e,t){return vx(this.props,e)||vx(this.state,t)};var gx=bt.__b;bt.__b=function(e){e.type&&e.type.__f&&e.ref&&(e.props.ref=e.ref,e.ref=null),gx&&gx(e)};var ile=bt.__e;bt.__e=function(e,t,n,i){if(e.then){for(var r,s=t;s=s.__;)if((r=s.__c)&&r.__c)return t.__e==null&&(t.__e=n.__e,t.__k=n.__k),r.__c(e,t)}ile(e,t,n,i)};var px=bt.unmount;function _4(e,t,n){return e&&(e.__c&&e.__c.__H&&(e.__c.__H.__.forEach(function(i){typeof i.__c=="function"&&i.__c()}),e.__c.__H=null),(e=function(i,r){for(var s in r)i[s]=r[s];return i}({},e)).__c!=null&&(e.__c.__P===n&&(e.__c.__P=t),e.__c=null),e.__k=e.__k&&e.__k.map(function(i){return _4(i,t,n)})),e}function y4(e,t,n){return e&&n&&(e.__v=null,e.__k=e.__k&&e.__k.map(function(i){return y4(i,t,n)}),e.__c&&e.__c.__P===t&&(e.__e&&n.appendChild(e.__e),e.__c.__e=!0,e.__c.__P=n)),e}function ib(){this.__u=0,this.t=null,this.__b=null}function b4(e){var t=e.__.__c;return t&&t.__a&&t.__a(e)}function Mv(){this.u=null,this.o=null}bt.unmount=function(e){var t=e.__c;t&&t.__R&&t.__R(),t&&32&e.__u&&(e.type=null),px&&px(e)},(ib.prototype=new As).__c=function(e,t){var n=t.__c,i=this;i.t==null&&(i.t=[]),i.t.push(n);var r=b4(i.__v),s=!1,o=function(){s||(s=!0,n.__R=null,r?r(a):a())};n.__R=o;var a=function(){if(!--i.__u){if(i.state.__a){var l=i.state.__a;i.__v.__k[0]=y4(l,l.__c.__P,l.__c.__O)}var u;for(i.setState({__a:i.__b=null});u=i.t.pop();)u.forceUpdate()}};i.__u++||32&t.__u||i.setState({__a:i.__b=i.__v.__k[0]}),e.then(o,o)},ib.prototype.componentWillUnmount=function(){this.t=[]},ib.prototype.render=function(e,t){if(this.__b){if(this.__v.__k){var n=document.createElement("div"),i=this.__v.__k[0].__c;this.__v.__k[0]=_4(this.__b,n,i.__O=i.__P)}this.__b=null}var r=t.__a&&Wl(Vt,null,e.fallback);return r&&(r.__u&=-33),[Wl(Vt,null,t.__a?null:e.children),r]};var _x=function(e,t,n){if(++n[1]===n[0]&&e.o.delete(t),e.props.revealOrder&&(e.props.revealOrder[0]!=="t"||!e.o.size))for(n=e.u;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;e.u=n=n[2]}};function rle(e){return this.getChildContext=function(){return e.context},e.children}function sle(e){var t=this,n=e.i;t.componentWillUnmount=function(){Eg(null,t.l),t.l=null,t.i=null},t.i&&t.i!==n&&t.componentWillUnmount(),t.l||(t.i=n,t.l={nodeType:1,parentNode:n,childNodes:[],contains:function(){return!0},appendChild:function(i){this.childNodes.push(i),t.i.appendChild(i)},insertBefore:function(i,r){this.childNodes.push(i),t.i.appendChild(i)},removeChild:function(i){this.childNodes.splice(this.childNodes.indexOf(i)>>>1,1),t.i.removeChild(i)}}),Eg(Wl(rle,{context:t.context},e.__v),t.l)}function ole(e,t){var n=Wl(sle,{__v:e,i:t});return n.containerInfo=t,n}(Mv.prototype=new As).__a=function(e){var t=this,n=b4(t.__v),i=t.o.get(e);return i[0]++,function(r){var s=function(){t.props.revealOrder?(i.push(r),_x(t,e,i)):r()};n?n(s):s()}},Mv.prototype.render=function(e){this.u=null,this.o=new Map;var t=Sg(e.children);e.revealOrder&&e.revealOrder[0]==="b"&&t.reverse();for(var n=t.length;n--;)this.o.set(t[n],this.u=[1,0,this.u]);return e.children},Mv.prototype.componentDidUpdate=Mv.prototype.componentDidMount=function(){var e=this;this.o.forEach(function(t,n){_x(e,n,t)})};var ale=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,lle=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,ule=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,cle=/[A-Z0-9]/g,dle=typeof document<"u",fle=function(e){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/:/fil|che|ra/).test(e)};As.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(e){Object.defineProperty(As.prototype,e,{configurable:!0,get:function(){return this["UNSAFE_"+e]},set:function(t){Object.defineProperty(this,e,{configurable:!0,writable:!0,value:t})}})});var yx=bt.event;function hle(){}function vle(){return this.cancelBubble}function mle(){return this.defaultPrevented}bt.event=function(e){return yx&&(e=yx(e)),e.persist=hle,e.isPropagationStopped=vle,e.isDefaultPrevented=mle,e.nativeEvent=e};var gle={enumerable:!1,configurable:!0,get:function(){return this.class}},bx=bt.vnode;bt.vnode=function(e){typeof e.type=="string"&&function(t){var n=t.props,i=t.type,r={},s=i.indexOf("-")===-1;for(var o in n){var a=n[o];if(!(o==="value"&&"defaultValue"in n&&a==null||dle&&o==="children"&&i==="noscript"||o==="class"||o==="className")){var l=o.toLowerCase();o==="defaultValue"&&"value"in n&&n.value==null?o="value":o==="download"&&a===!0?a="":l==="translate"&&a==="no"?a=!1:l[0]==="o"&&l[1]==="n"?l==="ondoubleclick"?o="ondblclick":l!=="onchange"||i!=="input"&&i!=="textarea"||fle(n.type)?l==="onfocus"?o="onfocusin":l==="onblur"?o="onfocusout":ule.test(o)&&(o=l):l=o="oninput":s&&lle.test(o)?o=o.replace(cle,"-$&").toLowerCase():a===null&&(a=void 0),l==="oninput"&&r[o=l]&&(o="oninputCapture"),r[o]=a}}i=="select"&&r.multiple&&Array.isArray(r.value)&&(r.value=Sg(n.children).forEach(function(u){u.props.selected=r.value.indexOf(u.props.value)!=-1})),i=="select"&&r.defaultValue!=null&&(r.value=Sg(n.children).forEach(function(u){u.props.selected=r.multiple?r.defaultValue.indexOf(u.props.value)!=-1:r.defaultValue==u.props.value})),n.class&&!n.className?(r.class=n.class,Object.defineProperty(r,"className",gle)):(n.className&&!n.class||n.class&&n.className)&&(r.class=r.className=n.className),t.props=r}(e),e.$$typeof=ale,bx&&bx(e)};var wx=bt.__r;bt.__r=function(e){wx&&wx(e),e.__c};var Sx=bt.diffed;bt.diffed=function(e){Sx&&Sx(e);var t=e.props,n=e.__e;n!=null&&e.type==="textarea"&&"value"in t&&t.value!==n.value&&(n.value=t.value==null?"":t.value)};var ple=Symbol.for("preact-signals");function x_(){if(da>1)da--;else{for(var e,t=!1;rf!==void 0;){var n=rf;for(rf=void 0,Pw++;n!==void 0;){var i=n.o;if(n.o=void 0,n.f&=-3,!(8&n.f)&&S4(n))try{n.c()}catch(r){t||(e=r,t=!0)}n=i}}if(Pw=0,da--,t)throw e}}function Aw(e){if(da>0)return e();da++;try{return e()}finally{x_()}}var un=void 0,rf=void 0,da=0,Pw=0,kg=0;function w4(e){if(un!==void 0){var t=e.n;if(t===void 0||t.t!==un)return t={i:0,S:e,p:un.s,n:void 0,t:un,e:void 0,x:void 0,r:t},un.s!==void 0&&(un.s.n=t),un.s=t,e.n=t,32&un.f&&e.S(t),t;if(t.i===-1)return t.i=0,t.n!==void 0&&(t.n.p=t.p,t.p!==void 0&&(t.p.n=t.n),t.p=un.s,t.n=void 0,un.s.n=t,un.s=t),t}}function ki(e){this.v=e,this.i=0,this.n=void 0,this.t=void 0}ki.prototype.brand=ple;ki.prototype.h=function(){return!0};ki.prototype.S=function(e){this.t!==e&&e.e===void 0&&(e.x=this.t,this.t!==void 0&&(this.t.e=e),this.t=e)};ki.prototype.U=function(e){if(this.t!==void 0){var t=e.e,n=e.x;t!==void 0&&(t.x=n,e.e=void 0),n!==void 0&&(n.e=t,e.x=void 0),e===this.t&&(this.t=n)}};ki.prototype.subscribe=function(e){var t=this;return To(function(){var n=t.value,i=un;un=void 0;try{e(n)}finally{un=i}})};ki.prototype.valueOf=function(){return this.value};ki.prototype.toString=function(){return this.value+""};ki.prototype.toJSON=function(){return this.value};ki.prototype.peek=function(){var e=un;un=void 0;try{return this.value}finally{un=e}};Object.defineProperty(ki.prototype,"value",{get:function(){var e=w4(this);return e!==void 0&&(e.i=this.i),this.v},set:function(e){if(e!==this.v){if(Pw>100)throw new Error("Cycle detected");this.v=e,this.i++,kg++,da++;try{for(var t=this.t;t!==void 0;t=t.x)t.t.N()}finally{x_()}}}});function $t(e){return new ki(e)}function S4(e){for(var t=e.s;t!==void 0;t=t.n)if(t.S.i!==t.i||!t.S.h()||t.S.i!==t.i)return!0;return!1}function E4(e){for(var t=e.s;t!==void 0;t=t.n){var n=t.S.n;if(n!==void 0&&(t.r=n),t.S.n=t,t.i=-1,t.n===void 0){e.s=t;break}}}function C4(e){for(var t=e.s,n=void 0;t!==void 0;){var i=t.p;t.i===-1?(t.S.U(t),i!==void 0&&(i.n=t.n),t.n!==void 0&&(t.n.p=i)):n=t,t.S.n=t.r,t.r!==void 0&&(t.r=void 0),t=i}e.s=n}function Jc(e){ki.call(this,void 0),this.x=e,this.s=void 0,this.g=kg-1,this.f=4}(Jc.prototype=new ki).h=function(){if(this.f&=-3,1&this.f)return!1;if((36&this.f)==32||(this.f&=-5,this.g===kg))return!0;if(this.g=kg,this.f|=1,this.i>0&&!S4(this))return this.f&=-2,!0;var e=un;try{E4(this),un=this;var t=this.x();(16&this.f||this.v!==t||this.i===0)&&(this.v=t,this.f&=-17,this.i++)}catch(n){this.v=n,this.f|=16,this.i++}return un=e,C4(this),this.f&=-2,!0};Jc.prototype.S=function(e){if(this.t===void 0){this.f|=36;for(var t=this.s;t!==void 0;t=t.n)t.S.S(t)}ki.prototype.S.call(this,e)};Jc.prototype.U=function(e){if(this.t!==void 0&&(ki.prototype.U.call(this,e),this.t===void 0)){this.f&=-33;for(var t=this.s;t!==void 0;t=t.n)t.S.U(t)}};Jc.prototype.N=function(){if(!(2&this.f)){this.f|=6;for(var e=this.t;e!==void 0;e=e.x)e.t.N()}};Object.defineProperty(Jc.prototype,"value",{get:function(){if(1&this.f)throw new Error("Cycle detected");var e=w4(this);if(this.h(),e!==void 0&&(e.i=this.i),16&this.f)throw this.v;return this.v}});function k4(e){return new Jc(e)}function T4(e){var t=e.u;if(e.u=void 0,typeof t=="function"){da++;var n=un;un=void 0;try{t()}catch(i){throw e.f&=-2,e.f|=8,_C(e),i}finally{un=n,x_()}}}function _C(e){for(var t=e.s;t!==void 0;t=t.n)t.S.U(t);e.x=void 0,e.s=void 0,T4(e)}function _le(e){if(un!==this)throw new Error("Out-of-order effect");C4(this),un=e,this.f&=-2,8&this.f&&_C(this),x_()}function jh(e){this.x=e,this.u=void 0,this.s=void 0,this.o=void 0,this.f=32}jh.prototype.c=function(){var e=this.S();try{if(8&this.f||this.x===void 0)return;var t=this.x();typeof t=="function"&&(this.u=t)}finally{e()}};jh.prototype.S=function(){if(1&this.f)throw new Error("Cycle detected");this.f|=1,this.f&=-9,T4(this),E4(this),da++;var e=un;return un=this,_le.bind(this,e)};jh.prototype.N=function(){2&this.f||(this.f|=2,this.o=rf,rf=this)};jh.prototype.d=function(){this.f|=8,1&this.f||_C(this)};function To(e){var t=new jh(e);try{t.c()}catch(n){throw t.d(),n}return t.d.bind(t)}var rb;function Zc(e,t){bt[e]=t.bind(null,bt[e]||function(){})}function Tg(e){rb&&rb(),rb=e&&e.S()}function I4(e){var t=this,n=e.data,i=ble(n);i.value=n;var r=pC(function(){for(var s=t.__v;s=s.__;)if(s.__c){s.__c.__$f|=4;break}return t.__$u.c=function(){var o;!r4(r.peek())&&((o=t.base)==null?void 0:o.nodeType)===3?t.base.data=r.peek():(t.__$f|=1,t.setState({}))},k4(function(){var o=i.value.value;return o===0?0:o===!0?"":o||""})},[]);return r.value}I4.displayName="_st";Object.defineProperties(ki.prototype,{constructor:{configurable:!0,value:void 0},type:{configurable:!0,value:I4},props:{configurable:!0,get:function(){return{data:this}}},__b:{configurable:!0,value:1}});Zc("__b",function(e,t){if(typeof t.type=="string"){var n,i=t.props;for(var r in i)if(r!=="children"){var s=i[r];s instanceof ki&&(n||(t.__np=n={}),n[r]=s,i[r]=s.peek())}}e(t)});Zc("__r",function(e,t){Tg();var n,i=t.__c;i&&(i.__$f&=-2,(n=i.__$u)===void 0&&(i.__$u=n=function(r){var s;return To(function(){s=this}),s.c=function(){i.__$f|=1,i.setState({})},s}())),Tg(n),e(t)});Zc("__e",function(e,t,n,i){Tg(),e(t,n,i)});Zc("diffed",function(e,t){Tg();var n;if(typeof t.type=="string"&&(n=t.__e)){var i=t.__np,r=t.props;if(i){var s=n.U;if(s)for(var o in s){var a=s[o];a!==void 0&&!(o in i)&&(a.d(),s[o]=void 0)}else n.U=s={};for(var l in i){var u=s[l],d=i[l];u===void 0?(u=yle(n,l,d,r),s[l]=u):u.o(d,r)}}}e(t)});function yle(e,t,n,i){var r=t in e&&e.ownerSVGElement===void 0,s=$t(n);return{o:function(o,a){s.value=o,i=a},d:To(function(){var o=s.value.value;i[t]!==o&&(i[t]=o,r?e[t]=o:o?e.setAttribute(t,o):e.removeAttribute(t))})}}Zc("unmount",function(e,t){if(typeof t.type=="string"){var n=t.__e;if(n){var i=n.U;if(i){n.U=void 0;for(var r in i){var s=i[r];s&&s.d()}}}}else{var o=t.__c;if(o){var a=o.__$u;a&&(o.__$u=void 0,a.d())}}e(t)});Zc("__h",function(e,t,n,i){(i<3||i===9)&&(t.__$f|=2),e(t,n,i)});As.prototype.shouldComponentUpdate=function(e,t){var n=this.__$u;if(!(n&&n.s!==void 0||4&this.__$f)||3&this.__$f)return!0;for(var i in t)return!0;for(var r in e)if(r!=="__source"&&e[r]!==this.props[r])return!0;for(var s in this.props)if(!(s in e))return!0;return!1};function ble(e){return pC(function(){return $t(e)},[])}function fa(e){var t=ele(e);t.current=e,Xt(function(){return To(function(){return t.current()})},[])}const Mo=v4({}),Ex={DATE_STRING:/^\d{4}-\d{2}-\d{2}$/,TIME_STRING:/^\d{2}:\d{2}$/,DATE_TIME_STRING:/^\d{4}-\d{2}-\d{2} \d{2}:\d{2}$/};let wle=class extends Error{constructor(t){super(`Invalid date time specification: ${t}`)}};const nn=e=>{if(!Ex.DATE_TIME_STRING.test(e)&&!Ex.DATE_STRING.test(e))throw new wle(e);return new Date(Number(e.slice(0,4)),Number(e.slice(5,7))-1,Number(e.slice(8,10)),Number(e.slice(11,13)),Number(e.slice(14,16)))},kr=e=>{const t=e.slice(11,13),n=e.slice(14,16);return{year:Number(e.slice(0,4)),month:Number(e.slice(5,7))-1,date:Number(e.slice(8,10)),hours:t!==""?Number(t):void 0,minutes:n!==""?Number(n):void 0}},A4=(e,t)=>e.toLocaleString(t,{month:"long"}),Sle=(e,t)=>e.toLocaleString(t,{month:"numeric",day:"numeric",year:"numeric"}),Ele=(e,t)=>e.map(n=>n.toLocaleString(t,{weekday:"short"}).charAt(0)),yC=(e,t)=>e.toLocaleString(t,{weekday:"short"}),Cle=(e,t)=>e.map(n=>yC(n,t)),P4=(e,t)=>["zh-cn","ca-es"].includes(t.toLowerCase())?Cle(e,t):Ele(e,t);var kle="data:image/svg+xml,%3c%3fxml version='1.0' encoding='utf-8'%3f%3e%3c!-- Uploaded to: SVG Repo%2c www.svgrepo.com%2c Generator: SVG Repo Mixer Tools --%3e%3csvg width='800px' height='800px' viewBox='0 0 24 24' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3cpath d='M6 9L12 15L18 9' stroke='%23DED8E1' stroke-width='4' stroke-linecap='round' stroke-linejoin='round'/%3e%3c/svg%3e";const Ki=()=>"s"+Math.random().toString(36).substring(2,11),Ig=e=>e.key==="Enter"||e.key===" ";function Tle(){const e=Ki(),t=Ki(),n=Ki(),i=Vn(Mo),r=f=>f===""?i.translate("MM/DD/YYYY"):Sle(nn(f),i.config.locale.value);Xt(()=>{i.datePickerState.inputDisplayedValue.value=r(i.datePickerState.selectedDate.value)},[i.datePickerState.selectedDate.value,i.config.locale.value]);const[s,o]=wt([]),a=()=>{const f=document.getElementById(n);i.datePickerState.inputWrapperElement.value=f instanceof HTMLDivElement?f:void 0};Xt(()=>{i.config.teleportTo&&a();const f=["sx__date-input-wrapper"];i.datePickerState.isOpen.value&&f.push("sx__date-input--active"),o(f)},[i.datePickerState.isOpen.value]);const l=f=>{f.key==="Enter"&&u(f)},u=f=>{f.stopPropagation();try{i.datePickerState.inputDisplayedValue.value=f.target.value,i.datePickerState.close()}catch{}};Xt(()=>{const f=document.getElementById(e);if(f!==null)return f.addEventListener("change",u),()=>f.removeEventListener("change",u)});const d=f=>{u(f),i.datePickerState.open()},c=f=>{Ig(f)&&(f.preventDefault(),i.datePickerState.open(),setTimeout(()=>{const v=document.querySelector('[data-focus="true"]');v instanceof HTMLElement&&v.focus()},50))};return X(Vt,{children:X("div",{className:s.join(" "),id:n,children:[X("label",{for:e,id:t,className:"sx__date-input-label",children:i.config.label||i.translate("Date")}),X("input",{id:e,tabIndex:i.datePickerState.isDisabled.value?-1:0,name:i.config.name||"date","aria-describedby":t,value:i.datePickerState.inputDisplayedValue.value,"data-testid":"date-picker-input",className:"sx__date-input",onClick:d,onKeyUp:l,type:"text"}),X("button",{tabIndex:i.datePickerState.isDisabled.value?-1:0,"aria-label":i.translate("Choose Date"),onKeyDown:c,onClick:()=>i.datePickerState.open(),className:"sx__date-input-chevron-wrapper",children:X("img",{className:"sx__date-input-chevron",src:kle,alt:""})})]})})}var fl;(function(e){e.MONTH_DAYS="month-days",e.YEARS="years"})(fl||(fl={}));const Ile="years-view",Ale="months-view",Ple="date-picker-week";let xle=class extends Error{constructor(t,n){super(`Number must be between ${t} and ${n}.`),Object.defineProperty(this,"min",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"max",{enumerable:!0,configurable:!0,writable:!0,value:n})}};const qi=e=>{if(e<0||e>99)throw new xle(0,99);return String(e).padStart(2,"0")},Hn=e=>`${e.getFullYear()}-${qi(e.getMonth()+1)}-${qi(e.getDate())}`,Dle=e=>`${qi(e.getHours())}:${qi(e.getMinutes())}`,D_=e=>`${Hn(e)} ${Dle(e)}`,R_=(e,t)=>{const{year:n,month:i,date:r,hours:s,minutes:o}=kr(e),a=s!==void 0&&o!==void 0,l=new Date(n,i,r,s??0,o??0);let u=(l.getMonth()+t)%12;return u<0&&(u+=12),l.setMonth(l.getMonth()+t),l.getMonth()>u?l.setDate(0):l.getMonth()<u&&(l.setMonth(l.getMonth()+1),l.setDate(0)),a?D_(l):Hn(l)},Fa=(e,t)=>{const{year:n,month:i,date:r,hours:s,minutes:o}=kr(e),a=s!==void 0&&o!==void 0,l=new Date(n,i,r,s??0,o??0);return l.setDate(l.getDate()+t),a?D_(l):Hn(l)},en=e=>e.slice(0,10),kc=e=>e.slice(11),x4=(e,t)=>(e=e.slice(0,8)+qi(t)+e.slice(10),e),Rle=e=>(e=R_(e,-1),x4(e,1)),Ole=e=>(e=R_(e,1),x4(e,1)),sb=(e,t)=>`${Hn(nn(e))} ${t}`;function Ag({direction:e,onClick:t,buttonText:n,disabled:i=!1}){return X("button",{disabled:i,className:"sx__chevron-wrapper sx__ripple",onMouseUp:t,onKeyDown:s=>{Ig(s)&&t()},tabIndex:0,children:X("i",{className:`sx__chevron sx__chevron--${e}`,children:n})})}function Vle({setYearsView:e}){const t=Vn(Mo),n=c=>{const f=nn(c);return A4(f,t.config.locale.value)},i=c=>kr(c).year,[r,s]=wt(n(t.datePickerState.datePickerDate.value)),[o,a]=wt(i(t.datePickerState.datePickerDate.value)),l=()=>{t.datePickerState.datePickerDate.value=Rle(t.datePickerState.datePickerDate.value)},u=()=>{t.datePickerState.datePickerDate.value=Ole(t.datePickerState.datePickerDate.value)};Xt(()=>{s(n(t.datePickerState.datePickerDate.value)),a(i(t.datePickerState.datePickerDate.value))},[t.datePickerState.datePickerDate.value]);const d=c=>{c.stopPropagation(),e()};return X(Vt,{children:X("header",{className:"sx__date-picker__month-view-header",children:[X(Ag,{direction:"previous",onClick:()=>l(),buttonText:t.translate("Previous month")}),X("button",{className:"sx__date-picker__month-view-header__month-year",onClick:c=>d(c),children:r+" "+o}),X(Ag,{direction:"next",onClick:()=>u(),buttonText:t.translate("Next month")})]})})}function Nle(){const e=Vn(Mo),t=e.timeUnitsImpl.getWeekFor(nn(e.datePickerState.datePickerDate.value)),n=P4(t,e.config.locale.value);return X("div",{className:"sx__date-picker__day-names",children:n.map(i=>X("span",{"data-testid":"day-name",className:"sx__date-picker__day-name",children:i}))})}const bC=e=>{const t=new Date;return e.getDate()===t.getDate()&&e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear()},Mle=(e,t)=>e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear();function D4({strokeColor:e}){return X(Vt,{children:X("svg",{className:"sx__event-icon",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[X("g",{id:"SVGRepo_bgCarrier","stroke-width":"0"}),X("g",{id:"SVGRepo_tracerCarrier","stroke-linecap":"round","stroke-linejoin":"round"}),X("g",{id:"SVGRepo_iconCarrier",children:[X("path",{d:"M12 8V12L15 15",stroke:e,"stroke-width":"2","stroke-linecap":"round"}),X("circle",{cx:"12",cy:"12",r:"9",stroke:e,"stroke-width":"2"})]})]})})}function Lle({strokeColor:e}){return X(Vt,{children:X("svg",{className:"sx__event-icon",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[X("g",{id:"SVGRepo_bgCarrier","stroke-width":"0"}),X("g",{id:"SVGRepo_tracerCarrier","stroke-linecap":"round","stroke-linejoin":"round"}),X("g",{id:"SVGRepo_iconCarrier",children:[X("path",{d:"M15 7C15 8.65685 13.6569 10 12 10C10.3431 10 9 8.65685 9 7C9 5.34315 10.3431 4 12 4C13.6569 4 15 5.34315 15 7Z",stroke:e,"stroke-width":"2"}),X("path",{d:"M5 19.5C5 15.9101 7.91015 13 11.5 13H12.5C16.0899 13 19 15.9101 19 19.5V20C19 20.5523 18.5523 21 18 21H6C5.44772 21 5 20.5523 5 20V19.5Z",stroke:e,"stroke-width":"2"})]})]})})}function Fle({strokeColor:e}){return X(Vt,{children:X("svg",{className:"sx__event-icon",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[X("g",{id:"SVGRepo_bgCarrier","stroke-width":"0"}),X("g",{id:"SVGRepo_tracerCarrier","stroke-linecap":"round","stroke-linejoin":"round"}),X("g",{id:"SVGRepo_iconCarrier",children:[X("g",{"clip-path":"url(#clip0_429_11046)",children:[X("rect",{x:"12",y:"11",width:"0.01",height:"0.01",stroke:e,"stroke-width":"2","stroke-linejoin":"round"}),X("path",{d:"M12 22L17.5 16.5C20.5376 13.4624 20.5376 8.53757 17.5 5.5C14.4624 2.46244 9.53757 2.46244 6.5 5.5C3.46244 8.53757 3.46244 13.4624 6.5 16.5L12 22Z",stroke:e,"stroke-width":"2","stroke-linejoin":"round"})]}),X("defs",{children:X("clipPath",{id:"clip0_429_11046",children:X("rect",{width:"24",height:"24",fill:"white"})})})]})]})})}const $le=/^(0[0-9]|1[0-9]|2[0-3]):[0-5][0-9]$/,Qo=/^(\d{4})-(\d{2})-(\d{2}) (0[0-9]|1[0-9]|2[0-3]):[0-5][0-9]$/,Lv=/^(\d{4})-(\d{2})-(\d{2})$/;let Ble=class extends Error{constructor(t){super(`Invalid time string: ${t}`)}};const wC=1.6666666666666667,Sa=e=>{if(!$le.test(e)&&e!=="24:00")throw new Ble(e);const[t,n]=e.split(":").map(r=>parseInt(r,10));let i=(n*wC).toString();return i.split(".")[0].length<2&&(i=`0${i}`),Number(t+i)},Pg=e=>{const t=Math.floor(e/100),n=Math.round(e%100/wC);return`${qi(t)}:${qi(n)}`},Ule=(e,t)=>{const n=t/wC,i=nn(e);return i.setMinutes(i.getMinutes()+n),D_(i)};var xw;(function(e){e[e.SUNDAY=0]="SUNDAY",e[e.MONDAY=1]="MONDAY",e[e.TUESDAY=2]="TUESDAY",e[e.WEDNESDAY=3]="WEDNESDAY",e[e.THURSDAY=4]="THURSDAY",e[e.FRIDAY=5]="FRIDAY",e[e.SATURDAY=6]="SATURDAY"})(xw||(xw={}));const R4="en-US",O4=xw.MONDAY,jle="primary";let Hle=class{constructor(t,n,i,r,s,o,a,l,u,d=void 0,c={},f={}){Object.defineProperty(this,"_config",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"id",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(this,"start",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"end",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"title",{enumerable:!0,configurable:!0,writable:!0,value:s}),Object.defineProperty(this,"people",{enumerable:!0,configurable:!0,writable:!0,value:o}),Object.defineProperty(this,"location",{enumerable:!0,configurable:!0,writable:!0,value:a}),Object.defineProperty(this,"description",{enumerable:!0,configurable:!0,writable:!0,value:l}),Object.defineProperty(this,"calendarId",{enumerable:!0,configurable:!0,writable:!0,value:u}),Object.defineProperty(this,"_options",{enumerable:!0,configurable:!0,writable:!0,value:d}),Object.defineProperty(this,"_customContent",{enumerable:!0,configurable:!0,writable:!0,value:c}),Object.defineProperty(this,"_foreignProperties",{enumerable:!0,configurable:!0,writable:!0,value:f}),Object.defineProperty(this,"_previousConcurrentEvents",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_totalConcurrentEvents",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_nDaysInGrid",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_eventFragments",{enumerable:!0,configurable:!0,writable:!0,value:{}})}get _isSingleDayTimed(){return Qo.test(this.start)&&Qo.test(this.end)&&en(this.start)===en(this.end)}get _isSingleDayFullDay(){return Lv.test(this.start)&&Lv.test(this.end)&&this.start===this.end}get _isMultiDayTimed(){return Qo.test(this.start)&&Qo.test(this.end)&&en(this.start)!==en(this.end)}get _isMultiDayFullDay(){return Lv.test(this.start)&&Lv.test(this.end)&&this.start!==this.end}get _isSingleHybridDayTimed(){if(!this._config.isHybridDay||!Qo.test(this.start)||!Qo.test(this.end))return!1;const t=en(this.start),n=en(this.end),i=Hn(new Date(nn(n).getTime()-864e5));if(t!==n&&t!==i)return!1;const r=this._config.dayBoundaries.value,s=Sa(kc(this.start)),o=Sa(kc(this.end));return s>=r.start&&(o<=r.end||o>s)||s<r.end&&o<=r.end}get _color(){return this.calendarId&&this._config.calendars.value&&this.calendarId in this._config.calendars.value?this._config.calendars.value[this.calendarId].colorName:jle}_getForeignProperties(){return this._foreignProperties}_getExternalEvent(){return{id:this.id,start:this.start,end:this.end,title:this.title,people:this.people,location:this.location,description:this.description,calendarId:this.calendarId,_options:this._options,...this._getForeignProperties()}}},V4=class{constructor(t,n,i,r){Object.defineProperty(this,"_config",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"id",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(this,"start",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"end",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"people",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"location",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"description",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"title",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"calendarId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_foreignProperties",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_options",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_customContent",{enumerable:!0,configurable:!0,writable:!0,value:{}})}build(){return new Hle(this._config,this.id,this.start,this.end,this.title,this.people,this.location,this.description,this.calendarId,this._options,this._customContent,this._foreignProperties)}withTitle(t){return this.title=t,this}withPeople(t){return this.people=t,this}withLocation(t){return this.location=t,this}withDescription(t){return this.description=t,this}withForeignProperties(t){return this._foreignProperties=t,this}withCalendarId(t){return this.calendarId=t,this}withOptions(t){return this._options=t,this}withCustomContent(t){return this._customContent=t,this}};const Xf=(e,t)=>{const n=new V4(t.config,e.id,e.start,e.end).withTitle(e.title).withPeople(e.people).withCalendarId(e.calendarId).withForeignProperties(JSON.parse(JSON.stringify(e._getForeignProperties()))).withLocation(e.location).withDescription(e.description).withOptions(e._options).withCustomContent(e._customContent).build();return n._nDaysInGrid=e._nDaysInGrid,n},Wle=e=>e.reduce((t,n,i)=>i===0?n:i===e.length-1?`${t} & ${n}`:`${t}, ${n}`,""),Za=(e,t)=>{const{year:n,month:i,date:r}=kr(e);return new Date(n,i,r).toLocaleDateString(t,{day:"numeric",month:"long",year:"numeric"})},ha=Za,Fu=(e,t)=>{const{year:n,month:i,date:r,hours:s,minutes:o}=kr(e);return new Date(n,i,r,s,o).toLocaleTimeString(t,{hour:"numeric",minute:"numeric"})},N4=(e,t,n="")=>{const i={start:e.start,end:e.end};return e._isSingleDayFullDay?Za(i.start,t):e._isMultiDayFullDay?`${Za(i.start,t)} ${n} ${Za(i.end,t)}`:e._isSingleDayTimed?`${Za(i.start,t)} <span aria-hidden="true"></span> ${Fu(i.start,t)} ${n} ${Fu(i.end,t)}`:`${Za(i.start,t)}, ${Fu(i.start,t)} ${n} ${Za(i.end,t)}, ${Fu(i.end,t)}`};function zle({week:e}){const t=Vn(Mo),n=e.map(a=>{const l=["sx__date-picker__day"];return bC(a)&&l.push("sx__date-picker__day--today"),Hn(a)===t.datePickerState.selectedDate.value&&l.push("sx__date-picker__day--selected"),Mle(a,nn(t.datePickerState.datePickerDate.value))||l.push("is-leading-or-trailing"),{day:a,classes:l}}),i=a=>{const l=Hn(a);return l>=t.config.min&&l<=t.config.max},r=a=>{t.datePickerState.selectedDate.value=Hn(a),t.datePickerState.close()},s=a=>Hn(a.day)===t.datePickerState.datePickerDate.value,o=a=>{if(a.key==="Enter"){t.datePickerState.selectedDate.value=t.datePickerState.datePickerDate.value,t.datePickerState.close();return}const l=new Map([["ArrowDown",7],["ArrowUp",-7],["ArrowLeft",-1],["ArrowRight",1]]);t.datePickerState.datePickerDate.value=Fa(t.datePickerState.datePickerDate.value,l.get(a.key)||0)};return X(Vt,{children:X("div",{"data-testid":Ple,className:"sx__date-picker__week",children:n.map(a=>X("button",{tabIndex:s(a)?0:-1,disabled:!i(a.day),"aria-label":ha(t.datePickerState.datePickerDate.value,t.config.locale.value),className:a.classes.join(" "),"data-focus":s(a)?"true":void 0,onClick:()=>r(a.day),onKeyDown:o,children:a.day.getDate()}))})})}function Gle({seatYearsView:e}){const t=Ki(),n=Vn(Mo),[i,r]=wt([]),s=()=>{const o=nn(n.datePickerState.datePickerDate.value);r(n.timeUnitsImpl.getMonthWithTrailingAndLeadingDays(o.getFullYear(),o.getMonth()))};return Xt(()=>{s()},[n.datePickerState.datePickerDate.value]),Xt(()=>{const o=new MutationObserver(l=>{l.forEach(u=>{const d=u.target;d.dataset.focus==="true"&&d.focus()})}),a=document.getElementById(t);return o.observe(a,{childList:!0,subtree:!0,attributes:!0}),()=>o.disconnect()},[]),X(Vt,{children:X("div",{id:t,"data-testid":Ale,className:"sx__date-picker__month-view",children:[X(Vle,{setYearsView:e}),X(Nle,{}),i.map(o=>X(zle,{week:o}))]})})}function qle({year:e,setYearAndMonth:t,isExpanded:n,expand:i}){const r=Vn(Mo),s=r.timeUnitsImpl.getMonthsFor(e),o=(a,l)=>{a.stopPropagation(),t(e,l.getMonth())};return X(Vt,{children:X("li",{className:n?"sx__is-expanded":"",children:[X("button",{className:"sx__date-picker__years-accordion__expand-button sx__ripple--wide",onClick:()=>i(e),children:e}),n&&X("div",{className:"sx__date-picker__years-view-accordion__panel",children:s.map(a=>X("button",{className:"sx__date-picker__years-view-accordion__month",onClick:l=>o(l,a),children:A4(a,r.config.locale.value)}))})]})})}function Yle({setMonthView:e}){const t=Vn(Mo),n=nn(t.config.min).getFullYear(),i=nn(t.config.max).getFullYear(),r=Array.from({length:i-n+1},(u,d)=>n+d),{year:s}=kr(t.datePickerState.selectedDate.value),[o,a]=wt(s),l=(u,d)=>{t.datePickerState.datePickerDate.value=Hn(new Date(u,d,1)),e()};return Xt(()=>{var u;const d=(u=document.querySelector(".sx__date-picker__years-view"))===null||u===void 0?void 0:u.querySelector(".sx__is-expanded");d&&d.scrollIntoView({block:"center"})},[]),X(Vt,{children:X("ul",{className:"sx__date-picker__years-view","data-testid":Ile,children:r.map(u=>X(qle,{year:u,setYearAndMonth:(d,c)=>l(d,c),isExpanded:o===u,expand:d=>a(d)}))})})}const Kle=e=>{if(e){const t=e.scrollHeight>e.clientHeight,i=window.getComputedStyle(e).overflowY.indexOf("hidden")!==-1;return t&&!i}return!0},M4=(e,t=[])=>!e||e===document.body||e.nodeType===Node.DOCUMENT_FRAGMENT_NODE?(t.push(window),t):(Kle(e)&&t.push(e),M4(e.assignedSlot?e.assignedSlot.parentNode:e.parentNode,t)),Cx="sx__date-picker-popup";function Xle(){const e=Vn(Mo),[t,n]=wt(fl.MONTH_DAYS),i=[Cx,e.config.placement],[r,s]=wt(i);Xt(()=>{s([...i,e.datePickerState.isDark.value?"is-dark":""])},[e.datePickerState.isDark.value]);const o=g=>{g.target.closest(`.${Cx}`)||e.datePickerState.close()},a=g=>{g.key==="Escape"&&(e.config.listeners.onEscapeKeyDown?e.config.listeners.onEscapeKeyDown(e):e.datePickerState.close())};Xt(()=>(document.addEventListener("click",o),document.addEventListener("keydown",a),()=>{document.removeEventListener("click",o),document.removeEventListener("keydown",a)}),[]);const l=Number(getComputedStyle(document.documentElement).fontSize.split("px")[0]),u=362,d=332,c=()=>{const g=e.datePickerState.inputWrapperElement.value,p=g==null?void 0:g.getBoundingClientRect();if(!(g===void 0||!(p instanceof DOMRect)))return{top:e.config.placement.includes("bottom")?p.height+p.y+1:p.y-l-u,left:e.config.placement.includes("start")?p.x:p.x+p.width-d,width:d,position:"fixed"}},[f,v]=wt(c());return Xt(()=>{const g=e.datePickerState.inputWrapperElement.value;if(g===void 0)return;const p=M4(g),_=()=>v(c());return p.forEach(y=>y.addEventListener("scroll",_)),()=>p.forEach(y=>y.removeEventListener("scroll",_))},[]),X(Vt,{children:X("div",{style:e.config.teleportTo?f:void 0,"data-testid":"date-picker-popup",className:r.join(" "),children:t===fl.MONTH_DAYS?X(Gle,{seatYearsView:()=>n(fl.YEARS)}):X(Yle,{setMonthView:()=>n(fl.MONTH_DAYS)})})})}function Qle({$app:e}){const t=["sx__date-picker-wrapper"],[n,i]=wt(t);Xt(()=>{var s;const o=[...t];e.datePickerState.isDark.value&&o.push("is-dark"),!((s=e.config.style)===null||s===void 0)&&s.fullWidth&&o.push("has-full-width"),e.datePickerState.isDisabled.value&&o.push("is-disabled"),i(o)},[e.datePickerState.isDark.value,e.datePickerState.isDisabled.value]);let r=X(Xle,{});return e.config.teleportTo&&(r=ole(r,e.config.teleportTo)),X(Vt,{children:X("div",{className:n.join(" "),children:X(Mo.Provider,{value:e,children:[X(Tle,{}),e.datePickerState.isOpen.value&&r]})})})}const ei=v4({});class Jle{constructor(t,n,i,r){Object.defineProperty(this,"datePickerState",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"config",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(this,"timeUnitsImpl",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"translate",{enumerable:!0,configurable:!0,writable:!0,value:r})}}class Zle{constructor(){Object.defineProperty(this,"datePickerState",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"config",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"timeUnitsImpl",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"translate",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}build(){return new Jle(this.datePickerState,this.config,this.timeUnitsImpl,this.translate)}withDatePickerState(t){return this.datePickerState=t,this}withConfig(t){return this.config=t,this}withTimeUnitsImpl(t){return this.timeUnitsImpl=t,this}withTranslate(t){return this.translate=t,this}}var Xi;(function(e){e.Day="day",e.Week="week",e.MonthGrid="month-grid",e.MonthAgenda="month-agenda"})(Xi||(Xi={}));const Dw=e=>[e.config.locale.value,{month:"long"}],Rw=e=>[e.config.locale.value,{year:"numeric"}],eue=(e,t,n)=>{const i=nn(t).toLocaleString(...Dw(e)),r=nn(t).toLocaleString(...Rw(e)),s=nn(n).toLocaleString(...Dw(e)),o=nn(n).toLocaleString(...Rw(e));return i===s&&r===o?`${i} ${r}`:i!==s&&r===o?`${i}  ${s} ${r}`:`${i} ${r}  ${s} ${o}`},tue=e=>{const t=nn(e.datePickerState.selectedDate.value).toLocaleString(...Dw(e)),n=nn(e.datePickerState.selectedDate.value).toLocaleString(...Rw(e));return`${t} ${n}`};function nue(){const e=Vn(ei),[t,n]=wt("");return Xt(()=>{e.calendarState.view.value===Xi.Week&&n(eue(e,e.calendarState.range.value.start,e.calendarState.range.value.end)),(e.calendarState.view.value===Xi.MonthGrid||e.calendarState.view.value===Xi.Day||e.calendarState.view.value===Xi.MonthAgenda)&&n(tue(e))},[e.calendarState.range.value]),X("span",{className:"sx__range-heading",children:t})}function iue(){const e=Vn(ei);return X("button",{className:"sx__today-button sx__ripple",onClick:()=>{e.datePickerState.selectedDate.value=Hn(new Date)},children:e.translate("Today")})}function rue(){const e=Vn(ei),[t,n]=wt([]);Xt(()=>{e.calendarState.isCalendarSmall.value?n(e.config.views.value.filter(p=>p.hasSmallScreenCompat)):n(e.config.views.value.filter(p=>p.hasWideScreenCompat))},[e.calendarState.isCalendarSmall.value]);const[i,r]=wt("");Xt(()=>{const p=e.config.views.value.find(_=>_.name===e.calendarState.view.value);p&&r(e.translate(p.label))},[e.calendarState.view.value]);const[s,o]=wt(!1),a=p=>{const _=p.target;_ instanceof HTMLElement&&!_.closest(".sx__view-selection")&&o(!1)};Xt(()=>(document.addEventListener("click",a),()=>document.removeEventListener("click",a)),[]);const l=p=>{o(!1),e.calendarState.setView(p,e.datePickerState.selectedDate.value)},[u,d]=wt(),[c,f]=wt(0),v=p=>{Ig(p)&&o(!s),setTimeout(()=>{var _;const y=(_=e.elements.calendarWrapper)===null||_===void 0?void 0:_.querySelectorAll(".sx__view-selection-item");if(!y)return;d(y);const b=y[0];b instanceof HTMLElement&&(f(0),b.focus())},50)},g=(p,_)=>{if(u)if(p.key==="ArrowDown"){const y=u[c+1];y instanceof HTMLElement&&(f(c+1),y.focus())}else if(p.key==="ArrowUp"){const y=u[c-1];y instanceof HTMLElement&&(f(c-1),y.focus())}else Ig(p)&&l(_)};return X("div",{className:"sx__view-selection",children:[X("div",{tabIndex:0,role:"button","aria-label":e.translate("Select View"),className:"sx__view-selection-selected-item sx__ripple",onClick:()=>o(!s),onKeyDown:v,children:i}),s&&X("ul",{"data-testid":"view-selection-items",className:"sx__view-selection-items",children:t.map(p=>X("li",{"aria-label":e.translate("Select View")+" "+e.translate(p.label),tabIndex:-1,role:"button",onKeyDown:_=>g(_,p.name),onClick:()=>l(p.name),className:"sx__view-selection-item"+(p.name===e.calendarState.view.value?" is-selected":""),children:e.translate(p.label)}))})]})}function sue(){const e=Vn(ei),t=l=>{const u=e.config.views.value.find(d=>d.name===e.calendarState.view.value);u&&(e.datePickerState.selectedDate.value=u.backwardForwardFn(e.datePickerState.selectedDate.value,l==="forwards"?u.backwardForwardUnits:-u.backwardForwardUnits))},[n,i]=wt("");fa(()=>{i(`${ha(e.calendarState.range.value.start,e.config.locale.value)} ${e.translate("to")} ${ha(e.calendarState.range.value.end,e.config.locale.value)}`)});const[r,s]=wt(""),[o,a]=wt("");return Xt(()=>{const l=e.config.views.value.find(u=>u.name===e.calendarState.view.value);l&&(s(l.setDateRange({range:e.calendarState.range,calendarConfig:e.config,timeUnitsImpl:e.timeUnitsImpl,date:l.backwardForwardFn(e.datePickerState.selectedDate.value,-l.backwardForwardUnits)}).end),a(l.setDateRange({range:e.calendarState.range,calendarConfig:e.config,timeUnitsImpl:e.timeUnitsImpl,date:l.backwardForwardFn(e.datePickerState.selectedDate.value,l.backwardForwardUnits)}).start))},[e.datePickerState.selectedDate.value,e.calendarState.view.value]),X(Vt,{children:X("div",{className:"sx__forward-backward-navigation","aria-label":n,"aria-live":"polite",children:[X(Ag,{disabled:!!(e.config.minDate.value&&en(r)<e.config.minDate.value),onClick:()=>t("backwards"),direction:"previous",buttonText:e.translate("Previous period")}),X(Ag,{disabled:!!(e.config.maxDate.value&&en(o)>e.config.maxDate.value),onClick:()=>t("forwards"),direction:"next",buttonText:e.translate("Next period")})]})})}const ro=e=>document.querySelector(`[data-ccid="${e}"]`);function oue(){const e=Vn(ei),t=new Zle().withDatePickerState(e.datePickerState).withConfig(e.datePickerConfig).withTranslate(e.translate).withTimeUnitsImpl(e.timeUnitsImpl).build(),n=e.config._customComponentFns.headerContent,i=wt(n?Ki():void 0)[0],r=e.config._customComponentFns.headerContentLeftPrepend,s=wt(r?Ki():void 0)[0],o=e.config._customComponentFns.headerContentLeftAppend,a=wt(o?Ki():void 0)[0],l=e.config._customComponentFns.headerContentRightPrepend,u=wt(l?Ki():void 0)[0],d=e.config._customComponentFns.headerContentRightAppend,c=wt(d?Ki():void 0)[0];Xt(()=>{n&&n(ro(i),{}),r&&s&&r(ro(s),{}),o&&o(ro(a),{}),l&&l(ro(u),{}),d&&d(ro(c),{})},[]);const f=e.config.locale.value;return X("header",{className:"sx__calendar-header","data-ccid":i,children:!n&&X(Vt,{children:[X("div",{className:"sx__calendar-header-content",children:[s&&X("div",{"data-ccid":s}),X(iue,{}),X(sue,{}),X(nue,{}),a&&X("div",{"data-ccid":a})]}),X("div",{className:"sx__calendar-header-content",children:[u&&X("div",{"data-ccid":u}),e.config.views.value.length>1&&X(rue,{},f+"-view-selection"),X(Qle,{$app:t}),c&&X("div",{"data-ccid":c})]})]})})}const aue=(e,t)=>{e.elements.calendarWrapper=document.getElementById(t)},lue=(e,t)=>{const n=e.config.views.value.find(i=>i.name===e.calendarState.view.value);if(t){if(n.hasSmallScreenCompat)return;const i=e.config.views.value.find(r=>r.hasSmallScreenCompat);i&&e.calendarState.setView(i.name,e.datePickerState.selectedDate.value)}else{if(n.hasWideScreenCompat)return;const i=e.config.views.value.find(r=>r.hasWideScreenCompat);i&&e.calendarState.setView(i.name,e.datePickerState.selectedDate.value)}},uue=e=>{const t=document.documentElement,n=e.elements.calendarWrapper,i=+window.getComputedStyle(t).fontSize.split("p")[0],r=700,s=16/i,o=r/s;if(!n)return;const a=e.config.callbacks.isCalendarSmall?e.config.callbacks.isCalendarSmall(e):n.clientWidth<o;a!==e.calendarState.isCalendarSmall.value&&(e.calendarState.isCalendarSmall.value=a,lue(e,a))};function cue(e){const t="sx__calendar-wrapper",[n,i]=wt([t]);return fa(()=>{const r=[t];e.calendarState.isCalendarSmall.value&&r.push("sx__is-calendar-small"),e.calendarState.isDark.value&&r.push("is-dark"),i(r)}),n}const due=e=>{Object.values(e.config.plugins).forEach(t=>{t!=null&&t.onRender&&t.onRender(e)})},fue=e=>{Object.values(e.config.plugins).forEach(t=>{t!=null&&t.destroy&&t.destroy()})},hue=e=>{Object.values(e.config.plugins).forEach(t=>{t!=null&&t.beforeRender&&t.beforeRender(e)})};function vue({$app:e}){var t;const n=Ki(),i=Ki();Xt(()=>{var f;return aue(e,n),due(e),!((f=e.config.callbacks)===null||f===void 0)&&f.onRender&&e.config.callbacks.onRender(e),()=>fue(e)},[]);const r=()=>{uue(e)};Xt(()=>{if(e.config.isResponsive)return r(),window.addEventListener("resize",r),()=>window.removeEventListener("resize",r)},[]);const s=cue(e),[o,a]=wt();fa(()=>{const f=e.config.views.value.find(g=>g.name===e.calendarState.view.value),v=document.getElementById(i);!f||!v||f.name===(o==null?void 0:o.name)||(o&&o.destroy(),a(f),f.render(v,e))});const[l,u]=wt(""),[d,c]=wt("");return fa(()=>{var f,v;const g=(((f=e.calendarState.range.value)===null||f===void 0?void 0:f.start)||"")>l;c(g?"sx__slide-left":"sx__slide-right"),setTimeout(()=>{c("")},300),u(((v=e.calendarState.range.value)===null||v===void 0?void 0:v.start)||"")}),fa(()=>{e.datePickerConfig.locale.value=e.config.locale.value}),X(Vt,{children:X("div",{className:s.join(" "),id:n,children:X("div",{className:"sx__calendar",children:X(ei.Provider,{value:e,children:[X(oue,{}),X("div",{className:["sx__view-container",d].join(" "),id:i}),e.config.plugins.eventModal&&e.config.plugins.eventModal.calendarEvent.value&&X(e.config.plugins.eventModal.ComponentFn,{$app:e},(t=e.config.plugins.eventModal.calendarEvent.value)===null||t===void 0?void 0:t.id)]})})})})}const ym=(e,t)=>{const{id:n,start:i,end:r,title:s,description:o,location:a,people:l,_options:u,...d}=e;return new V4(t,n,i,r).withTitle(s).withDescription(o).withLocation(a).withPeople(l).withCalendarId(e.calendarId).withOptions(u).withForeignProperties(d).withCustomContent(e._customContent).build()};let mue=class{constructor(t){Object.defineProperty(this,"$app",{enumerable:!0,configurable:!0,writable:!0,value:t})}set(t){this.$app.calendarEvents.list.value=t.map(n=>ym(n,this.$app.config))}add(t){const n=ym(t,this.$app.config),i=[...this.$app.calendarEvents.list.value];i.push(n),this.$app.calendarEvents.list.value=i}get(t){var n;return(n=this.$app.calendarEvents.list.value.find(i=>i.id===t))===null||n===void 0?void 0:n._getExternalEvent()}getAll(){return this.$app.calendarEvents.list.value.map(t=>t._getExternalEvent())}remove(t){const n=this.$app.calendarEvents.list.value.findIndex(r=>r.id===t),i=[...this.$app.calendarEvents.list.value];i.splice(n,1),this.$app.calendarEvents.list.value=i}update(t){const n=this.$app.calendarEvents.list.value.findIndex(r=>r.id===t.id),i=[...this.$app.calendarEvents.list.value];i.splice(n,1,ym(t,this.$app.config)),this.$app.calendarEvents.list.value=i}};class gue{constructor(t){var n;Object.defineProperty(this,"$app",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"events",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.events=new mue(this.$app),hue(this.$app),Object.values(this.$app.config.plugins).forEach(i=>{i!=null&&i.name&&(this[i.name]=i)}),!((n=t.config.callbacks)===null||n===void 0)&&n.beforeRender&&t.config.callbacks.beforeRender(t)}render(t){Eg(Wl(vue,{$app:this.$app}),t)}setTheme(t){this.$app.calendarState.isDark.value=t==="dark"}getTheme(){return this.$app.calendarState.isDark.value?"dark":"light"}_setCustomComponentFn(t,n){this.$app.config._customComponentFns[t]=n}}class pue{constructor(t,n,i,r,s,o,a,l={calendarWrapper:void 0}){Object.defineProperty(this,"config",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"timeUnitsImpl",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(this,"calendarState",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"datePickerState",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"translate",{enumerable:!0,configurable:!0,writable:!0,value:s}),Object.defineProperty(this,"datePickerConfig",{enumerable:!0,configurable:!0,writable:!0,value:o}),Object.defineProperty(this,"calendarEvents",{enumerable:!0,configurable:!0,writable:!0,value:a}),Object.defineProperty(this,"elements",{enumerable:!0,configurable:!0,writable:!0,value:l})}}class _ue{constructor(){Object.defineProperty(this,"config",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"timeUnitsImpl",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"datePickerState",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"calendarState",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"translate",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"datePickerConfig",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"calendarEvents",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}build(){return new pue(this.config,this.timeUnitsImpl,this.calendarState,this.datePickerState,this.translate,this.datePickerConfig,this.calendarEvents)}withConfig(t){return this.config=t,this}withTimeUnitsImpl(t){return this.timeUnitsImpl=t,this}withDatePickerState(t){return this.datePickerState=t,this}withCalendarState(t){return this.calendarState=t,this}withTranslate(t){return this.translate=t,this}withDatePickerConfig(t){return this.datePickerConfig=t,this}withCalendarEvents(t){return this.calendarEvents=t,this}}var Gr;(function(e){e.SLASH="/",e.DASH="-",e.PERIOD="."})(Gr||(Gr={}));var qr;(function(e){e.DMY="DMY",e.MDY="MDY",e.YMD="YMD"})(qr||(qr={}));const kd={slashMDY:{delimiter:Gr.SLASH,order:qr.MDY},slashDMY:{delimiter:Gr.SLASH,order:qr.DMY},slashYMD:{delimiter:Gr.SLASH,order:qr.YMD},periodDMY:{delimiter:Gr.PERIOD,order:qr.DMY},dashYMD:{delimiter:Gr.DASH,order:qr.YMD}},yue=new Map([["en-US",kd.slashMDY],["en-GB",kd.slashDMY],["zh-CN",kd.slashYMD],["de-DE",kd.periodDMY],["sv-SE",kd.dashYMD]]);class bue extends Error{constructor(t){super(`Locale not supported: ${t}`)}}class L4 extends Error{constructor(t,n){super(`Invalid date format: ${t} for locale: ${n}`)}}const Fv=(e,t,n)=>{const i=e.match(t);if(!i)throw new L4(e,n);return i},wue=(e,t)=>{if(/^\d{4}-\d{2}-\d{2}$/.test(e))return e;const i=yue.get(t);if(!i)throw new bue(t);const{order:r,delimiter:s}=i,o=/^(\d{1,2})\/(\d{1,2})\/(\d{4})$/,a=/^(\d{1,2})\.(\d{1,2})\.(\d{4})$/,l=/^(\d{4})\/(\d{1,2})\/(\d{1,2})$/;if(r===qr.DMY&&s===Gr.SLASH){const u=Fv(e,o,t),[,d,c,f]=u;return`${f}-${qi(+c)}-${qi(+d)}`}if(r===qr.MDY&&s===Gr.SLASH){const u=Fv(e,o,t),[,d,c,f]=u;return`${f}-${qi(+d)}-${qi(+c)}`}if(r===qr.YMD&&s===Gr.SLASH){const u=Fv(e,l,t),[,d,c,f]=u;return`${d}-${qi(+c)}-${qi(+f)}`}if(r===qr.DMY&&s===Gr.PERIOD){const u=Fv(e,a,t),[,d,c,f]=u;return`${f}-${qi(+c)}-${qi(+d)}`}throw new L4(e,t)},Sue=(e,t)=>{var n;const i=Hn(new Date),r=typeof t=="string"?t:i,s=$t(!1),o=$t(e.disabled||!1),a=$t(fl.MONTH_DAYS),l=$t(r),u=$t(r||i),d=$t(((n=e.style)===null||n===void 0?void 0:n.dark)||!1),c=$t(t||""),f=$t(t||"");To(()=>{try{const p=wue(c.value,e.locale.value);if(p<e.min||p>e.max){c.value=f.value;return}l.value=p,u.value=p,f.value=c.value}catch{}});let v=!1;const g=p=>{if(!v)return v=!0;e.listeners.onChange(p)};return To(()=>{var p;!((p=e.listeners)===null||p===void 0)&&p.onChange&&g(l.value)}),{inputWrapperElement:$t(void 0),isOpen:s,isDisabled:o,datePickerView:a,selectedDate:l,datePickerDate:u,inputDisplayedValue:c,isDark:d,open:()=>s.value=!0,close:()=>s.value=!1,toggle:()=>s.value=!s.value,setView:p=>a.value=p}},Eue={Date:"Datum","MM/DD/YYYY":"TT.MM.JJJJ","Next month":"Nchster Monat","Previous month":"Vorheriger Monat","Choose Date":"Datum auswhlen"},Cue={Today:"Heute",Month:"Monat",Week:"Woche",Day:"Tag","Select View":"Ansicht auswhlen",events:"Ereignisse",event:"Ereignis","No events":"Keine Ereignisse","Next period":"Nchster Zeitraum","Previous period":"Vorheriger Zeitraum",to:"bis","Full day- and multiple day events":"Ganztgige und mehrtgige Ereignisse","Link to {{n}} more events on {{date}}":"Link zu {{n}} weiteren Ereignissen am {{date}}","Link to 1 more event on {{date}}":"Link zu 1 weiteren Ereignis am {{date}}"},kue={...Eue,...Cue},Tue={Date:"Date","MM/DD/YYYY":"MM/DD/YYYY","Next month":"Next month","Previous month":"Previous month","Choose Date":"Choose Date"},Iue={Today:"Today",Month:"Month",Week:"Week",Day:"Day","Select View":"Select View",events:"events",event:"event","No events":"No events","Next period":"Next period","Previous period":"Previous period",to:"to","Full day- and multiple day events":"Full day- and multiple day events","Link to {{n}} more events on {{date}}":"Link to {{n}} more events on {{date}}","Link to 1 more event on {{date}}":"Link to 1 more event on {{date}}"},Aue={...Tue,...Iue},Pue={Date:"Data","MM/DD/YYYY":"DD/MM/YYYY","Next month":"Mese successivo","Previous month":"Mese precedente","Choose Date":"Scegli la data"},xue={Today:"Oggi",Month:"Mese",Week:"Settimana",Day:"Giorno","Select View":"Seleziona la vista",events:"eventi",event:"evento","No events":"Nessun evento","Next period":"Periodo successivo","Previous period":"Periodo precedente",to:"a","Full day- and multiple day events":"Eventi della giornata e plurigiornalieri","Link to {{n}} more events on {{date}}":"Link a {{n}} eventi in pi il {{date}}","Link to 1 more event on {{date}}":"Link a 1 evento in pi il {{date}}"},Due={...Pue,...xue},Rue={Date:"Date","MM/DD/YYYY":"DD/MM/YYYY","Next month":"Next month","Previous month":"Previous month","Choose Date":"Choose Date"},Oue={Today:"Today",Month:"Month",Week:"Week",Day:"Day","Select View":"Select View",events:"events",event:"event","No events":"No events","Next period":"Next period","Previous period":"Previous period",to:"to","Full day- and multiple day events":"Full day- and multiple day events","Link to {{n}} more events on {{date}}":"Link to {{n}} more events on {{date}}","Link to 1 more event on {{date}}":"Link to 1 more event on {{date}}"},Vue={...Rue,...Oue},Nue={Date:"Datum","MM/DD/YYYY":"-MM-DD","Next month":"Nsta mnad","Previous month":"Fregende mnad","Choose Date":"Vlj datum"},Mue={Today:"Idag",Month:"Mnad",Week:"Vecka",Day:"Dag","Select View":"Vlj vy",events:"hndelser",event:"hndelse","No events":"Inga hndelser","Next period":"Nsta period","Previous period":"Fregende period",to:"till","Full day- and multiple day events":"Heldags- och flerdagshndelser","Link to {{n}} more events on {{date}}":"Lnk till {{n}} fler hndelser den {{date}}","Link to 1 more event on {{date}}":"Lnk till 1 hndelse till den {{date}}"},Lue={...Nue,...Mue},Fue={Date:"","MM/DD/YYYY":"//","Next month":"","Previous month":"","Choose Date":""},$ue={Today:"",Month:"",Week:"",Day:"","Select View":"",events:"",event:"","No events":"","Next period":"","Previous period":"",to:"","Full day- and multiple day events":"","Link to {{n}} more events on {{date}}":"{{date}}{{n}}","Link to 1 more event on {{date}}":"{{date}}1"},Bue={...Fue,...$ue},Uue={Date:"","MM/DD/YYYY":"//","Next month":"","Previous month":"","Choose Date":""},jue={Today:"",Month:"",Week:"",Day:"","Select View":"",events:"",event:"","No events":"","Next period":"","Previous period":"",to:"","Full day- and multiple day events":"","Link to {{n}} more events on {{date}}":"{{date}} {{n}}","Link to 1 more event on {{date}}":"{{date}} 1"},Hue={...Uue,...jue},Wue={Date:"","MM/DD/YYYY":"//","Next month":" ","Previous month":" ","Choose Date":" "},zue={Today:"",Month:"",Week:"",Day:"","Select View":" ",events:"",event:"","No events":" ","Next period":" ","Previous period":" ",to:"","Full day- and multiple day events":"       ","Link to {{n}} more events on {{date}}":"  {{n}}    {{date}}","Link to 1 more event on {{date}}":"  1    {{date}}"},Gue={...Wue,...zue},que={Date:"","MM/DD/YYYY":"//","Next month":" ","Previous month":" ","Choose Date":" "},Yue={Today:"",Month:"",Week:"",Day:"","Select View":" ",events:"",event:"","No events":" ","Next period":"","Previous period":"",to:"","Full day- and multiple day events":"   ","Link to {{n}} more events on {{date}}":"{{date}} {{n}}   ","Link to 1 more event on {{date}}":"{{date}} 1   "},Kue={...que,...Yue},Xue={Date:"Date","MM/DD/YYYY":"JJ/MM/AAAA","Next month":"Mois suivant","Previous month":"Mois prcdent","Choose Date":"Choisir une date"},Que={Today:"Aujourd'hui",Month:"Mois",Week:"Semaine",Day:"Jour","Select View":"Choisir la vue",events:"vnements",event:"vnement","No events":"Aucun vnement","Next period":"Priode suivante","Previous period":"Priode prcdente",to:"","Full day- and multiple day events":"vnements d'une ou plusieurs journes","Link to {{n}} more events on {{date}}":"Lien vers {{n}} autres vnements le {{date}}","Link to 1 more event on {{date}}":"Lien vers 1 autre vnement le {{date}}"},Jue={...Xue,...Que},Zue={Date:"Dato","MM/DD/YYYY":"-MM-DD","Next month":"Nste mned","Previous month":"Foregende mned","Choose Date":"Vlg dato"},ece={Today:"I dag",Month:"Mned",Week:"Uge",Day:"Dag","Select View":"Vlg visning",events:"begivenheder",event:"begivenhed","No events":"Ingen begivenheder","Next period":"Nste periode","Previous period":"Forgende periode",to:"til","Full day- and multiple day events":"Heldagsbegivenheder og flerdagsbegivenheder","Link to {{n}} more events on {{date}}":"Link til {{n}} flere begivenheder den {{date}}","Link to 1 more event on {{date}}":"Link til 1 mere begivenhed den {{date}}"},tce={...Zue,...ece},nce={Date:"Data","MM/DD/YYYY":"DD/MM/YYYY","Next month":"Nastpny miesic","Previous month":"Poprzedni miesic","Choose Date":"Wybiewrz dat"},ice={Today:"Dzisiaj",Month:"Miesic",Week:"Tydzie",Day:"Dzie","Select View":"Wybierz widok",events:"wydarzenia",event:"wydarzenie","No events":"Brak wydarze","Next period":"Nastpny okres","Previous period":"Poprzedni okres",to:"do","Full day- and multiple day events":"Wydarzenia caodniowe i wielodniowe","Link to {{n}} more events on {{date}}":"Link do {{n}} kolejnych wydarze w dniu {{date}}","Link to 1 more event on {{date}}":"Link do 1 kolejnego wydarzenia w dniu {{date}}"},rce={...nce,...ice},sce={Date:"Fecha","MM/DD/YYYY":"DD/MM/YYYY","Next month":"Siguiente mes","Previous month":"Mes anterior","Choose Date":"Seleccione una fecha"},oce={Today:"Hoy",Month:"Mes",Week:"Semana",Day:"Da","Select View":"Seleccione una vista",events:"eventos",event:"evento","No events":"Sin eventos","Next period":"Siguiente perodo","Previous period":"Perodo anterior",to:"a","Full day- and multiple day events":"Da completo y eventos de mltiples das","Link to {{n}} more events on {{date}}":"Enlace a {{n}} eventos ms el {{date}}","Link to 1 more event on {{date}}":"Enlace a 1 evento ms el {{date}}"},ace={...sce,...oce},lce={Today:"Vandaag",Month:"Maand",Week:"Week",Day:"Dag","Select View":"Kies weergave",events:"gebeurtenissen",event:"gebeurtenis","No events":"Geen gebeurtenissen","Next period":"Volgende periode","Previous period":"Vorige periode",to:"tot","Full day- and multiple day events":"Evenementen van een hele dag en meerdere dagen","Link to {{n}} more events on {{date}}":"Link naar {{n}} meer evenementen op {{date}}","Link to 1 more event on {{date}}":"Link naar 1 meer evenement op {{date}}"},uce={Date:"Datum","MM/DD/YYYY":"DD-MM-JJJJ","Next month":"Volgende maand","Previous month":"Vorige maand","Choose Date":"Kies datum"},cce={...uce,...lce},dce={Date:"Data","MM/DD/YYYY":"DD/MM/YYYY","Next month":"Ms seguinte","Previous month":"Ms anterior","Choose Date":"Escolha uma data"},fce={Today:"Hoje",Month:"Ms",Week:"Semana",Day:"Dia","Select View":"Selecione uma visualizao",events:"eventos",event:"evento","No events":"Sem eventos","Next period":"Perodo seguinte","Previous period":"Perodo anterior",to:"a","Full day- and multiple day events":"Dia inteiro e eventos de vrios dias","Link to {{n}} more events on {{date}}":"Link para mais {{n}} eventos em {{date}}","Link to 1 more event on {{date}}":"Link para mais 1 evento em {{date}}"},hce={...dce,...fce},vce={Date:"Dtum","MM/DD/YYYY":"DD/MM/YYYY","Next month":"al mesiac","Previous month":"Predchdzajci mesiac","Choose Date":"Vyberte dtum"},mce={Today:"Dnes",Month:"Mesiac",Week:"Tde",Day:"De","Select View":"Vyberte zobrazenie",events:"udalosti",event:"udalos","No events":"iadne udalosti","Next period":"alie obdobie","Previous period":"Predchdzajce obdobie",to:"do","Full day- and multiple day events":"Celodenn a viacdov udalosti","Link to {{n}} more events on {{date}}":"Odkaz na {{n}} alch udalost da {{date}}","Link to 1 more event on {{date}}":"Odkaz na 1 aliu udalos da {{date}}"},gce={...vce,...mce},pce={Date:"","MM/DD/YYYY":"DD/MM/YYYY","Next month":" ","Previous month":" ","Choose Date":" "},_ce={Today:"",Month:"",Week:"",Day:"","Select View":" ",events:"",event:"","No events":" ","Next period":" ","Previous period":" ",to:"","Full day- and multiple day events":"   ","Link to {{n}} more events on {{date}}":"  {{n}}    {{date}}","Link to 1 more event on {{date}}":"  1    {{date}}"},yce={...pce,..._ce},bce={Date:"Tarih","MM/DD/YYYY":"GG/AA/YYYY","Next month":"Sonraki ay","Previous month":"nceki ay","Choose Date":"Tarih Se"},wce={Today:"Bugn",Month:"Aylk",Week:"Haftalk",Day:"Gnlk","Select View":"Grnm Se",events:"etkinlikler",event:"etkinlik","No events":"Etkinlik yok","Next period":"Sonraki dnem","Previous period":"nceki dnem",to:"dan","Full day- and multiple day events":"Tm gn ve oklu gn etkinlikleri","Link to {{n}} more events on {{date}}":"{{date}} tarihinde {{n}} etkinlie balant","Link to 1 more event on {{date}}":"{{date}} tarihinde 1 etkinlie balant"},Sce={...bce,...wce},Ece={Date:"","MM/DD/YYYY":"//","Next month":" ","Previous month":" ","Choose Date":" "},Cce={Today:"",Month:"",Week:"",Day:"","Select View":" ",events:"",event:"","No events":" ","Next period":" ","Previous period":" ",to:"","Full day- and multiple day events":"         ","Link to {{n}} more events on {{date}}":"{{date}}  {{n}}  ","Link to 1 more event on {{date}}":"{{date}}  1  "},kce={...Ece,...Cce},Tce={Date:"Tanggal","MM/DD/YYYY":"DD.MM.YYYY","Next month":"Bulan depan","Previous month":"Bulan sebelumnya","Choose Date":"Pilih tanggal"},Ice={Today:"Hari Ini",Month:"Bulan",Week:"Minggu",Day:"Hari","Select View":"Pilih tampilan",events:"Acara",event:"Acara","No events":"Tidak ada acara","Next period":"Periode selanjutnya","Previous period":"Periode sebelumnya",to:"sampai","Full day- and multiple day events":"Sepanjang hari dan acara beberapa hari ","Link to {{n}} more events on {{date}}":"Tautan ke {{n}} acara lainnya pada {{date}}","Link to 1 more event on {{date}}":"Tautan ke 1 acara lainnya pada {{date}}"},Ace={...Tce,...Ice},Pce={Date:"Datum","MM/DD/YYYY":"DD/MM/YYYY","Next month":"Dal msc","Previous month":"Pedchoz msc","Choose Date":"Vyberte datum"},xce={Today:"Dnes",Month:"Msc",Week:"Tden",Day:"Den","Select View":"Vyberte zobrazen",events:"udlosti",event:"udlost","No events":"dn udlosti","Next period":"Pt obdob","Previous period":"Pedchoz obdob",to:"do","Full day- and multiple day events":"Celodenn a vcedenn udlosti","Link to {{n}} more events on {{date}}":"Odkaz na {{n}} dalch udlost dne {{date}}","Link to 1 more event on {{date}}":"Odkaz na 1 dal udlost dne {{date}}"},Dce={...Pce,...xce},Rce={Date:"Kuupev","MM/DD/YYYY":"PP.KK.AAAA","Next month":"Jrgmine kuu","Previous month":"Eelmine kuu","Choose Date":"Vali kuupev"},Oce={Today:"Tna",Month:"Kuu",Week:"Ndal",Day:"Pev","Select View":"Vali vaade",events:"sndmused",event:"sndmus","No events":"Pole sndmusi","Next period":"Jrgmine periood","Previous period":"Eelmine periood",to:"kuni","Full day- and multiple day events":"Tispeva- ja mitmepevasndmused","Link to {{n}} more events on {{date}}":"Link {{n}} rohkematele sndmustele kuupeval {{date}}","Link to 1 more event on {{date}}":"Link hele lisasndmusele kuupeval {{date}}"},Vce={...Rce,...Oce},Nce={Date:"","MM/DD/YYYY":"//","Next month":" ","Previous month":" ","Choose Date":" "},Mce={Today:"",Month:"",Week:"",Day:"","Select View":" ",events:"",event:"","No events":" ","Next period":" ","Previous period":" ",to:"","Full day- and multiple day events":"       ","Link to {{n}} more events on {{date}}":"  {{n}}    {{date}}","Link to 1 more event on {{date}}":"  1    {{date}}"},Lce={...Nce,...Mce},Fce={Date:"Datum","MM/DD/YYYY":"DD/MM/YYYY","Next month":"Sledei mesec","Previous month":"Prethodni mesec","Choose Date":"Izaberite datum"},$ce={Today:"Danas",Month:"Mesec",Week:"Nedelja",Day:"Dan","Select View":"Odaberite pregled",events:"Dogaaji",event:"Dogaaj","No events":"Nema dogaaja","Next period":"Naredni period","Previous period":"Prethodni period",to:"do","Full day- and multiple day events":"Celodnevni i viednevni dogaaji","Link to {{n}} more events on {{date}}":"Link do jo {{n}} dogaaja na {{date}}","Link to 1 more event on {{date}}":"Link do jednog dogaaja na {{date}}"},Bce={...Fce,...$ce};class Uce extends Error{constructor(t){super(`Invalid locale: ${t}`)}}const jce=(e,t)=>(n,i)=>{if(!/^[a-z]{2}-[A-Z]{2}$/.test(e.value))throw new Uce(e.value);const r=e.value.replace("-",""),s=t[r];if(!s)return n;let o=s[n]||n;return Object.keys(i||{}).forEach(a=>{const l=String(i==null?void 0:i[a]);l&&(o=o.replace(`{{${a}}}`,l))}),o},Hce={Date:"Data","MM/DD/YYYY":"DD/MM/YYYY","Next month":"Segent mes","Previous month":"Mes anterior","Choose Date":"Selecciona una data"},Wce={Today:"Avui",Month:"Mes",Week:"Setmana",Day:"Dia","Select View":"Selecciona una vista",events:"Esdeveniments",event:"Esdeveniment","No events":"Sense esdeveniments","Next period":"Segent perode","Previous period":"Perode anterior",to:"a","Full day- and multiple day events":"Esdeveniments de dia complet i de mltiples dies","Link to {{n}} more events on {{date}}":"Enlla a {{n}} esdeveniments ms el {{date}}","Link to 1 more event on {{date}}":"Enlla a 1 esdeveniment ms el {{date}}"},zce={...Hce,...Wce},Gce={deDE:kue,enUS:Aue,itIT:Due,enGB:Vue,svSE:Lue,zhCN:Bue,jaJP:Hue,ruRU:Gue,koKR:Kue,frFR:Jue,daDK:tce,mkMK:yce,plPL:rce,esES:ace,nlNL:cce,ptBR:hce,skSK:gce,trTR:Sce,kyKG:kce,idID:Ace,csCZ:Dce,etEE:Vce,ukUA:Lce,caES:zce,srRS:Bce};class qce{constructor(t){Object.defineProperty(this,"config",{enumerable:!0,configurable:!0,writable:!0,value:t})}setLight(){Object.entries(this.config.calendars.value||{}).forEach(([t,n])=>{if(!n.lightColors){console.warn(`No light colors defined for calendar ${t}`);return}this.setColors(n.colorName,n.lightColors)})}setDark(){Object.entries(this.config.calendars.value||{}).forEach(([t,n])=>{if(!n.darkColors){console.warn(`No dark colors defined for calendar ${t}`);return}this.setColors(n.colorName,n.darkColors)})}setColors(t,n){document.documentElement.style.setProperty(`--sx-color-${t}`,n.main),document.documentElement.style.setProperty(`--sx-color-${t}-container`,n.container),document.documentElement.style.setProperty(`--sx-color-on-${t}-container`,n.onContainer)}}const Yce=(e,t,n)=>{var i;const r=$t(((i=e.views.value.find(f=>f.name===e.defaultView))===null||i===void 0?void 0:i.name)||e.views.value[0].name),s=k4(()=>r.value),o=$t(null);let a=!1;const l=f=>{if(!a)return a=!0;e.callbacks.onRangeUpdate&&f.value&&e.callbacks.onRangeUpdate(f.value)};To(()=>{e.callbacks.onRangeUpdate&&o.value&&l(o)});const u=f=>{var v,g;const _=e.views.value.find(y=>y.name===r.value).setDateRange({calendarConfig:e,date:f,range:o,timeUnitsImpl:t});_.start===((v=o.value)===null||v===void 0?void 0:v.start)&&_.end===((g=o.value)===null||g===void 0?void 0:g.end)||(o.value=_)};u(n||Hn(new Date));const d=$t(void 0),c=$t(e.isDark.value||!1);return To(()=>{const f=new qce(e);c.value?f.setDark():f.setLight()}),{view:s,isDark:c,setRange:u,range:o,isCalendarSmall:d,setView:(f,v)=>{Aw(()=>{r.value=f,u(v)})}}},Kce=(e,t)=>{const n=$t(e.map(r=>ym(r,t))),i=$t(void 0);return{list:n,filterPredicate:i}};Xi.Week;const Xce={start:0,end:2400},Qce=1600,Qf="blocker",Jce=(e,t,n)=>e===t?2400:n?2400-e+t:t-e;class Zce{constructor(t=R4,n=O4,i=Xi.Week,r=[],s=Xce,o,a={},l={},u=!1,d=!0,c={},f={},v=void 0,g=void 0,p={nEventsPerDay:4}){Object.defineProperty(this,"defaultView",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"plugins",{enumerable:!0,configurable:!0,writable:!0,value:l}),Object.defineProperty(this,"isResponsive",{enumerable:!0,configurable:!0,writable:!0,value:d}),Object.defineProperty(this,"callbacks",{enumerable:!0,configurable:!0,writable:!0,value:c}),Object.defineProperty(this,"_customComponentFns",{enumerable:!0,configurable:!0,writable:!0,value:f}),Object.defineProperty(this,"locale",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"firstDayOfWeek",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"views",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"dayBoundaries",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"weekOptions",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"calendars",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"isDark",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"minDate",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"maxDate",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"monthGridOptions",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.locale=$t(t),this.firstDayOfWeek=$t(n),this.views=$t(r),this.dayBoundaries=$t(s),this.weekOptions=$t(o),this.calendars=$t(a),this.isDark=$t(u),this.minDate=$t(v),this.maxDate=$t(g),this.monthGridOptions=$t(p)}get isHybridDay(){return this.dayBoundaries.value.start>this.dayBoundaries.value.end||this.dayBoundaries.value.start!==0&&this.dayBoundaries.value.start===this.dayBoundaries.value.end}get timePointsPerDay(){return Jce(this.dayBoundaries.value.start,this.dayBoundaries.value.end,this.isHybridDay)}}class ede{constructor(){Object.defineProperty(this,"locale",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"firstDayOfWeek",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"defaultView",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"views",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"dayBoundaries",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"weekOptions",{enumerable:!0,configurable:!0,writable:!0,value:{gridHeight:Qce,nDays:7,eventWidth:100,timeAxisFormatOptions:{hour:"numeric"}}}),Object.defineProperty(this,"monthGridOptions",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"calendars",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"plugins",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"isDark",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"isResponsive",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"callbacks",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"minDate",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"maxDate",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}build(){return new Zce(this.locale,this.firstDayOfWeek,this.defaultView,this.views,this.dayBoundaries,this.weekOptions,this.calendars,this.plugins,this.isDark,this.isResponsive,this.callbacks,{},this.minDate,this.maxDate,this.monthGridOptions)}withLocale(t){return this.locale=t,this}withFirstDayOfWeek(t){return this.firstDayOfWeek=t,this}withDefaultView(t){return this.defaultView=t,this}withViews(t){return this.views=t,this}withDayBoundaries(t){return t?(this.dayBoundaries={start:Sa(t.start),end:Sa(t.end)},this):this}withWeekOptions(t){return this.weekOptions={...this.weekOptions,...t},this}withCalendars(t){return this.calendars=t,this}withPlugins(t){return t?(t.forEach(n=>{this.plugins[n.name]=n}),this):this}withIsDark(t){return this.isDark=t,this}withIsResponsive(t){return this.isResponsive=t,this}withCallbacks(t){return this.callbacks=t,this}withMinDate(t){return this.minDate=t,this}withMaxDate(t){return this.maxDate=t,this}withMonthGridOptions(t){return this.monthGridOptions=t,this}}const tde=(e,t)=>new ede().withLocale(e.locale).withFirstDayOfWeek(e.firstDayOfWeek).withDefaultView(e.defaultView).withViews(e.views).withDayBoundaries(e.dayBoundaries).withWeekOptions(e.weekOptions).withCalendars(e.calendars).withPlugins(t).withIsDark(e.isDark).withIsResponsive(e.isResponsive).withCallbacks(e.callbacks).withMinDate(e.minDate).withMaxDate(e.maxDate).withMonthGridOptions(e.monthGridOptions).build();var Ow;(function(e){e[e.JANUARY=0]="JANUARY",e[e.FEBRUARY=1]="FEBRUARY",e[e.MARCH=2]="MARCH",e[e.APRIL=3]="APRIL",e[e.MAY=4]="MAY",e[e.JUNE=5]="JUNE",e[e.JULY=6]="JULY",e[e.AUGUST=7]="AUGUST",e[e.SEPTEMBER=8]="SEPTEMBER",e[e.OCTOBER=9]="OCTOBER",e[e.NOVEMBER=10]="NOVEMBER",e[e.DECEMBER=11]="DECEMBER"})(Ow||(Ow={}));class F4 extends Error{constructor(){super("Year zero does not exist in the Gregorian calendar.")}}class nde extends Date{constructor(t,n,i){if(super(t,n,i),t===0)throw new F4;this.setFullYear(t)}get year(){return this.getFullYear()}get month(){return this.getMonth()}get date(){return this.getDate()}}class ide{constructor(t){Object.defineProperty(this,"config",{enumerable:!0,configurable:!0,writable:!0,value:t})}get firstDayOfWeek(){return this.config.firstDayOfWeek.value}set firstDayOfWeek(t){this.config.firstDayOfWeek.value=t}getMonthWithTrailingAndLeadingDays(t,n){if(t===0)throw new F4;const i=new Date(t,n,1),r=[this.getWeekFor(i)];let s=!0,o=r[0][0];for(;s;){const a=new Date(o.getFullYear(),o.getMonth(),o.getDate()+7);a.getMonth()===n?(r.push(this.getWeekFor(a)),o=a):s=!1}return r}getWeekFor(t){const n=[this.getFirstDateOfWeek(t)];for(;n.length<7;){const i=n[n.length-1],r=new Date(i);r.setDate(i.getDate()+1),n.push(r)}return n}getMonthsFor(t){return Object.values(Ow).filter(n=>!isNaN(Number(n))).map(n=>new nde(t,Number(n),1))}getFirstDateOfWeek(t){const n=t.getDay()-this.firstDayOfWeek,i=t;return n===0||(n>0?i.setDate(t.getDate()-n):i.setDate(t.getDate()-(7+n))),i}}class rde{constructor(){Object.defineProperty(this,"config",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}build(){return new ide(this.config)}withConfig(t){return this.config=t,this}}const sde=e=>new rde().withConfig(e).build();var xg;(function(e){e.TOP_START="top-start",e.TOP_END="top-end",e.BOTTOM_START="bottom-start",e.BOTTOM_END="bottom-end"})(xg||(xg={}));class ode{constructor(t=R4,n=O4,i=Hn(new Date(1970,0,1)),r=Hn(new Date(new Date().getFullYear()+50,11,31)),s=xg.BOTTOM_START,o={},a={},l,u,d,c){Object.defineProperty(this,"min",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"max",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"placement",{enumerable:!0,configurable:!0,writable:!0,value:s}),Object.defineProperty(this,"listeners",{enumerable:!0,configurable:!0,writable:!0,value:o}),Object.defineProperty(this,"style",{enumerable:!0,configurable:!0,writable:!0,value:a}),Object.defineProperty(this,"teleportTo",{enumerable:!0,configurable:!0,writable:!0,value:l}),Object.defineProperty(this,"label",{enumerable:!0,configurable:!0,writable:!0,value:u}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:d}),Object.defineProperty(this,"disabled",{enumerable:!0,configurable:!0,writable:!0,value:c}),Object.defineProperty(this,"locale",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"firstDayOfWeek",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.locale=$t(t),this.firstDayOfWeek=$t(n)}}class ade{constructor(){Object.defineProperty(this,"locale",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"firstDayOfWeek",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"min",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"max",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"placement",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"listeners",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"style",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"teleportTo",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"label",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"disabled",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}build(){return new ode(this.locale,this.firstDayOfWeek,this.min,this.max,this.placement,this.listeners,this.style,this.teleportTo,this.label,this.name,this.disabled)}withLocale(t){return this.locale=t,this}withFirstDayOfWeek(t){return this.firstDayOfWeek=t,this}withMin(t){return this.min=t,this}withMax(t){return this.max=t,this}withPlacement(t){return this.placement=t,this}withListeners(t){return this.listeners=t,this}withStyle(t){return this.style=t,this}withTeleportTo(t){return this.teleportTo=t,this}withLabel(t){return this.label=t,this}withName(t){return this.name=t,this}withDisabled(t){return this.disabled=t,this}}const lde=(e,t)=>{var n;return new ade().withLocale(e.locale).withFirstDayOfWeek(e.firstDayOfWeek).withMin(e.minDate).withMax(e.maxDate).withStyle((n=e.datePicker)===null||n===void 0?void 0:n.style).withPlacement(xg.BOTTOM_END).withListeners({onChange:t}).build()},ude=(e,t)=>{let n=null;return i=>{var r;e.setRange(i),!((r=t.callbacks)===null||r===void 0)&&r.onSelectedDateUpdate&&i!==n&&(n=i,t.callbacks.onSelectedDateUpdate(i))}},cde=(e,t)=>{if(e&&t)throw new Error("You cannot provide plugins over the config object and as an argument to createCalendar.")},dde=(e,t)=>{var n;const i=tde(e,t),r=sde(i),s=Yce(i,r,e.selectedDate),o=ude(s,e),a=lde(e,o),l=Sue(a,e.selectedDate||((n=e.datePicker)===null||n===void 0?void 0:n.selectedDate)),u=Kce(e.events||[],i);return new _ue().withConfig(i).withTimeUnitsImpl(r).withDatePickerState(l).withCalendarEvents(u).withDatePickerConfig(a).withCalendarState(s).withTranslate(jce(i.locale,Gce)).build()},$4=(e,t)=>(cde(e.plugins,t),new gue(dde(e,e.plugins||[])));class fde{constructor(t){Object.defineProperty(this,"randomId",{enumerable:!0,configurable:!0,writable:!0,value:Ki()}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"label",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"Component",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"setDateRange",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"hasSmallScreenCompat",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"hasWideScreenCompat",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"backwardForwardFn",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"backwardForwardUnits",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=t.name,this.label=t.label,this.Component=t.Component,this.setDateRange=t.setDateRange,this.hasSmallScreenCompat=t.hasSmallScreenCompat,this.hasWideScreenCompat=t.hasWideScreenCompat,this.backwardForwardFn=t.backwardForwardFn,this.backwardForwardUnits=t.backwardForwardUnits}render(t,n){Eg(Wl(this.Component,{$app:n,id:this.randomId}),t)}destroy(){const t=document.getElementById(this.randomId);t&&t.remove()}}const $a=e=>new fde(e),Vw=(e,t,n)=>{if(n<t.start){const i=2400-t.start;return(n+i)/e*100}return(n-t.start)/e*100},hde=(e,t,n,i)=>Vw(i,n,Sa(kc(t)))-Vw(i,n,Sa(kc(e))),vde=(e,t)=>!e._totalConcurrentEvents||!e._previousConcurrentEvents?0:(e._previousConcurrentEvents||0)/(e._totalConcurrentEvents||0)*t,mde=(e,t)=>t-e,gde=e=>e._previousConcurrentEvents?"1px solid #fff":0,B4=e=>"time-grid-event-copy-"+e,Hh=e=>"touches"in e&&typeof e.touches=="object";function O_(e){const[t,n]=wt(),i=u=>{if(!u)return n(void 0);n(Xf(u,e))},[r,s]=wt(),o=(u,d)=>{s(setTimeout(()=>u(d),150))},a=(u,d)=>{if(Hh(u)&&u.touches.length===0||!e.config.plugins.eventModal)return;const c=u.target;if(!(c instanceof HTMLElement))return;const f=c.classList.contains("sx__event")?c:c.closest(".sx__event");f instanceof HTMLElement&&(e.config.plugins.eventModal.calendarEventElement.value=f,e.config.plugins.eventModal.setCalendarEvent(d,f.getBoundingClientRect()))};return{eventCopy:t,updateCopy:i,createDragStartTimeout:o,setClickedEventIfNotDragging:(u,d)=>{r&&(clearTimeout(r),a(d,u)),s(void 0)},setClickedEvent:a}}const pde=(e,t)=>{let n=e?"custom-time-grid-event-"+Ki():void 0;return n&&t&&(n+="-copy"),n},Ea=(e,t)=>{e.config.callbacks.onEventClick&&e.config.callbacks.onEventClick(t._getExternalEvent())},U4=e=>{const t=Hh(e)?e.touches[0]:e;return{clientX:t.clientX,clientY:t.clientY}},_de=(e,t,n)=>Vw(n,t,Sa(kc(e))),Jf=e=>{setTimeout(()=>{e()})},V_=e=>{const t=e.elements.calendarWrapper;if(!(t instanceof HTMLElement))return;const n=t.querySelector(".sx__event-modal");n instanceof HTMLElement&&setTimeout(()=>{n.focus()},100)};function j4({calendarEvent:e,dayBoundariesDateTime:t,isCopy:n,setMouseDown:i}){var r,s,o,a;const l=Vn(ei),{eventCopy:u,updateCopy:d,createDragStartTimeout:c,setClickedEventIfNotDragging:f,setClickedEvent:v}=O_(l),g=[l.config.locale.value,{hour:"numeric",minute:"numeric"}],p=(x,U)=>{const $=nn(x).toLocaleTimeString(...g),j=nn(U).toLocaleTimeString(...g);return`${$}  ${j}`},_={borderLeft:`4px solid var(--sx-color-${e._color})`,textColor:`var(--sx-color-on-${e._color}-container)`,backgroundColor:`var(--sx-color-${e._color}-container)`,iconStroke:`var(--sx-color-on-${e._color}-container)`},y=vde(e,l.config.weekOptions.value.eventWidth),b=x=>{var U;if(Hh(x)&&x.preventDefault(),!t||!x.target||!l.config.plugins.dragAndDrop||!((U=e._options)===null||U===void 0)&&U.disableDND)return;const $=Xf(e,l);d($),l.config.plugins.dragAndDrop.createTimeGridDragHandler({$app:l,eventCoordinates:U4(x),updateCopy:d,eventCopy:$},t)},E=l.config._customComponentFns.timeGridEvent,k=pde(E,n);Xt(()=>{E&&E(ro(k),{calendarEvent:e._getExternalEvent()})},[e,u]);const R=x=>{x.stopPropagation(),Ea(l,e)},O=x=>{(x.key==="Enter"||x.key===" ")&&(x.stopPropagation(),v(x,e),Ea(l,e),Jf(()=>{V_(l)}))},D=x=>{if(i(!0),x.stopPropagation(),!!t&&l.config.plugins.resize){const U=Xf(e,l);d(U),l.config.plugins.resize.createTimeGridEventResizer(U,d,x,t)}},S=gde(e),w=["sx__time-grid-event","sx__event"];n&&w.push("is-event-copy"),!((r=e._options)===null||r===void 0)&&r.additionalClasses&&w.push(...e._options.additionalClasses);const C=x=>{i(!0),c(b,x)},A=x=>{Jf(()=>i(!1)),f(e,x)},P=(s=e._customContent)===null||s===void 0?void 0:s.timeGrid;return X(Vt,{children:[X("div",{id:n?B4(e.id):void 0,"data-event-id":e.id,onClick:R,onKeyDown:O,onMouseDown:C,onMouseUp:A,onTouchStart:C,onTouchEnd:A,className:w.join(" "),tabIndex:0,role:"button",style:{top:`${_de(e.start,l.config.dayBoundaries.value,l.config.timePointsPerDay)}%`,height:`${hde(e.start,e.end,l.config.dayBoundaries.value,l.config.timePointsPerDay)}%`,left:`${y}%`,width:`${mde(y,n?100:l.config.weekOptions.value.eventWidth)}%`,backgroundColor:E?void 0:_.backgroundColor,color:E?void 0:_.textColor,borderTop:S,borderRight:S,borderBottom:S,borderLeft:E?void 0:_.borderLeft,padding:E?"0":void 0},children:X("div",{"data-ccid":k,className:"sx__time-grid-event-inner",children:[!E&&!P&&X(Vt,{children:[e.title&&X("div",{className:"sx__time-grid-event-title",children:e.title}),X("div",{className:"sx__time-grid-event-time",children:[X(D4,{strokeColor:_.iconStroke}),p(e.start,e.end)]}),e.people&&e.people.length>0&&X("div",{className:"sx__time-grid-event-people",children:[X(Lle,{strokeColor:_.iconStroke}),Wle(e.people)]}),e.location&&X("div",{className:"sx__time-grid-event-location",children:[X(Fle,{strokeColor:_.iconStroke}),e.location]})]}),P&&X("div",{dangerouslySetInnerHTML:{__html:((o=e._customContent)===null||o===void 0?void 0:o.timeGrid)||""}}),l.config.plugins.resize&&!(!((a=e._options)===null||a===void 0)&&a.disableResize)&&X("div",{className:"sx__time-grid-event-resize-handle",onMouseDown:D})]})}),u&&X(j4,{calendarEvent:u,isCopy:!0,setMouseDown:i})]})}const SC=(e,t)=>e.start===t.start?e.end<t.end?1:e.end>t.end?-1:0:e.start<t.start?-1:e.start>t.start?1:0,yde=(e,t)=>{const n=en(e.start),i=en(t.start),r=en(e.end),s=en(t.end);return n===i?r<s?1:r>s?-1:0:n<i?-1:n>i?1:0},Nw=(e,t=[],n=0)=>{for(let i=n;i<e.length;i++){const r=e[i],s=e[i+1];if(t.length&&(!s||t.every(o=>o.end<s.start))){t.push(r);for(let o=0;o<t.length;o++){const a=t[o],l=t.filter((d,c)=>d===a||c>o?!1:d.start<=a.start&&d.end>a.start).length,u=t.filter((d,c)=>d===a||c<o?!1:d.start<a.end&&d.end>=a.start).length;a._totalConcurrentEvents=l+u+1,a._previousConcurrentEvents=l}return t=[],Nw(e,t,i+1)}if(s&&r.end>s.start||t.some(o=>o.end>r.start))return t.push(r),Nw(e,t,i+1);r._totalConcurrentEvents=1,r._previousConcurrentEvents=0}return e},bde=(e,t,n)=>{if(!(e.target instanceof HTMLElement))return;const i="sx__time-grid-day",r=e.target.classList.contains(i)?e.target:e.target.closest("."+i),o=(e.clientY-r.getBoundingClientRect().top)/r.getBoundingClientRect().height*100,a=Math.round(t.config.timePointsPerDay/100*o);return Ule(n,a)},N_=e=>{switch(e){case 0:return"sx__sunday";case 1:return"sx__monday";case 2:return"sx__tuesday";case 3:return"sx__wednesday";case 4:return"sx__thursday";case 5:return"sx__friday";case 6:return"sx__saturday";default:throw new Error("Invalid weekday")}};function wde({calendarEvents:e,date:t}){const[n,i]=wt(!1),r=Vn(ei),s=Pg(r.config.dayBoundaries.value.start),o=Pg(r.config.dayBoundaries.value.end),a=sb(t,s),l=r.config.isHybridDay?Fa(sb(t,o),1):sb(t,o),u={start:a,end:l},d=e.sort(SC),[c,f]=wt([]);Xt(()=>{f(Nw(d))},[e]);const v=(b,E)=>{if(!E||n)return;const k=bde(b,r,a);k&&E(k)},g=()=>{setTimeout(()=>{i(!1)},10)},p=["sx__time-grid-day",N_(nn(t).getDay())],[_,y]=wt(p);return fa(()=>{const b=[...p];r.datePickerState.selectedDate.value===t&&b.push("is-selected"),y(b)}),X("div",{className:_.join(" "),"data-time-grid-date":t,onClick:b=>v(b,r.config.callbacks.onClickDateTime),onDblClick:b=>v(b,r.config.callbacks.onDoubleClickDateTime),"aria-label":ha(t,r.config.locale.value),onMouseLeave:()=>i(!1),onMouseUp:g,onTouchEnd:g,children:c.map(b=>X(j4,{calendarEvent:b,dayBoundariesDateTime:u,setMouseDown:i},b.id))})}const Sde=({start:e,end:t},n)=>{const i=[];let r=Math.floor(e/100);if(n){for(;r<24;)i.push(r),r+=1;r=0}const s=t===0?24:Math.ceil(t/100);for(;r<s;)i.push(r),r+=1;return i};function Ede(){const e=Vn(ei),[t,n]=wt([]);fa(()=>{n(Sde(e.config.dayBoundaries.value,e.config.isHybridDay));const r=e.config.timePointsPerDay/100,s=e.config.weekOptions.value.gridHeight/r;document.documentElement.style.setProperty("--sx-week-grid-hour-height",`${s}px`)});const i=new Intl.DateTimeFormat(e.config.locale.value,e.config.weekOptions.value.timeAxisFormatOptions);return X(Vt,{children:X("div",{className:"sx__week-grid__time-axis",children:t.map(r=>X("div",{className:"sx__week-grid__hour",children:X("span",{className:"sx__week-grid__hour-text",children:i.format(new Date(0,0,0,r))})}))})})}function Cde({week:e}){const t=Vn(ei),n=i=>{const r=["sx__week-grid__date",N_(i.getDay())];return bC(i)&&r.push("sx__week-grid__date--is-today"),r.join(" ")};return X(Vt,{children:X("div",{className:"sx__week-grid__date-axis",children:e.map(i=>X("div",{className:n(i),"data-date":Hn(i),children:[X("div",{className:"sx__week-grid__day-name",children:yC(i,t.config.locale.value)}),X("div",{className:"sx__week-grid__date-number",children:i.getDate()})]}))})})}const kde=e=>{const t=[],n=[];for(const i of e){if(i._isSingleDayTimed||i._isSingleHybridDayTimed){n.push(i);continue}(i._isSingleDayFullDay||i._isMultiDayFullDay||i._isMultiDayTimed)&&t.push(i)}return{timeGridEvents:n,dateGridEvents:t}},kx=(e,t)=>{const n=Hn(t);return e[n]={date:n,timeGridEvents:[],dateGridEvents:{}},e},Tde=e=>e.calendarState.view.value===Xi.Day?kx({},nn(e.calendarState.range.value.start)):e.timeUnitsImpl.getWeekFor(nn(e.datePickerState.selectedDate.value)).slice(0,e.config.weekOptions.value.nDays).reduce(kx,{}),Ide=(e,t,n)=>{var i;for(const r of e){const s=n.calendarState.range.value;if(r.start>=s.start&&r.end<=s.end){let o=en(r.start);const a=kc(r.start);Sa(a)<n.config.dayBoundaries.value.start&&(o=Fa(o,-1)),(i=t[o])===null||i===void 0||i.timeGridEvents.push(r)}}return t},Ade=(e,t)=>{const n=Object.keys(t).sort(),i=n[0],r=n[n.length-1],s=new Set;for(const o of e){const a=en(o.start),l=en(o.end),u=!!t[a];let d=u;if(!u&&a<i&&l>=i&&(d=!0),!d)continue;const c=u?a:i,f=l<=r?l:r,v=Object.values(t).filter(_=>_.date>=c&&_.date<=f);let g,p=0;for(;g===void 0;)v.every(y=>!y.dateGridEvents[p])?(g=p,s.add(p)):p++;for(const[_,y]of v.entries())_===0?(o._nDaysInGrid=v.length,y.dateGridEvents[g]=o):y.dateGridEvents[g]=Qf}for(const o of Array.from(s))for(const[,a]of Object.entries(t))a.dateGridEvents[o]||(a.dateGridEvents[o]=void 0);return t},Pde=(e,t,n)=>{let i=2;const r=10;return e&&n&&(i+=r),t&&n&&(i+=r),i},xde=(e,t,n)=>({borderBottomLeftRadius:e||n?0:void 0,borderTopLeftRadius:e||n?0:void 0,borderBottomRightRadius:t||n?0:void 0,borderTopRightRadius:t||n?0:void 0});function H4({calendarEvent:e,gridRow:t,isCopy:n}){var i,r,s,o;const a=Vn(ei),{eventCopy:l,updateCopy:u,createDragStartTimeout:d,setClickedEventIfNotDragging:c,setClickedEvent:f}=O_(a),v={borderLeft:`4px solid var(--sx-color-${e._color})`,color:`var(--sx-color-on-${e._color}-container)`,backgroundColor:`var(--sx-color-${e._color}-container)`},g=w=>{var C;if(!a.config.plugins.dragAndDrop||!((C=e._options)===null||C===void 0)&&C.disableDND)return;Hh(w)&&w.preventDefault();const A=Xf(e,a);u(A),a.config.plugins.dragAndDrop.createDateGridDragHandler({eventCoordinates:U4(w),eventCopy:A,updateCopy:u,$app:a})},p=en(e.start)<en(a.calendarState.range.value.start),_=en(e.end)>en(a.calendarState.range.value.end),y={backgroundColor:v.backgroundColor},b=a.config._customComponentFns.dateGridEvent;let E=b?"custom-date-grid-event-"+Ki():void 0;n&&E&&(E+="-copy"),Xt(()=>{b&&b(ro(E),{calendarEvent:e._getExternalEvent()})},[e,l]);const k=w=>{w.stopPropagation();const C=Xf(e,a);u(C),a.config.plugins.resize.createDateGridEventResizer(C,u,w)},R=w=>{(w.key==="Enter"||w.key===" ")&&(w.stopPropagation(),f(w,e),Ea(a,e),Jf(()=>{V_(a)}))},O=["sx__event","sx__date-grid-event","sx__date-grid-cell"];n&&O.push("sx__date-grid-event--copy"),p&&O.push("sx__date-grid-event--overflow-left"),_&&O.push("sx__date-grid-event--overflow-right"),!((i=e._options)===null||i===void 0)&&i.additionalClasses&&O.push(...e._options.additionalClasses);const D=p?"none":v.borderLeft,S=(r=e._customContent)===null||r===void 0?void 0:r.dateGrid;return X(Vt,{children:[X("div",{id:n?B4(e.id):void 0,tabIndex:0,"aria-label":e.title+" "+N4(e,a.config.locale.value,a.translate("to")),role:"button","data-ccid":E,"data-event-id":e.id,onMouseDown:w=>d(g,w),onMouseUp:w=>c(e,w),onTouchStart:w=>d(g,w),onTouchEnd:w=>c(e,w),onClick:()=>Ea(a,e),onKeyDown:R,className:O.join(" "),style:{width:`calc(${e._nDaysInGrid*100}% - ${Pde(p,_,!b)}px)`,gridRow:t,display:l?"none":"flex",padding:b?"0px":void 0,borderLeft:b?void 0:D,color:b?void 0:v.color,backgroundColor:b?void 0:v.backgroundColor,...xde(p,_,!!b)},children:[!b&&!S&&X(Vt,{children:[p&&X("div",{className:"sx__date-grid-event--left-overflow",style:y}),X("span",{className:"sx__date-grid-event-text",children:[e.title," ",Qo.test(e.start)&&X("span",{className:"sx__date-grid-event-time",children:Fu(e.start,a.config.locale.value)})]}),_&&X("div",{className:"sx__date-grid-event--right-overflow",style:y})]}),S&&X("div",{dangerouslySetInnerHTML:{__html:((s=e._customContent)===null||s===void 0?void 0:s.dateGrid)||""}}),a.config.plugins.resize&&!(!((o=e._options)===null||o===void 0)&&o.disableResize)&&!_&&X("div",{className:"sx__date-grid-event-resize-handle",onMouseDown:k})]}),l&&X(H4,{calendarEvent:l,gridRow:t,isCopy:!0})]})}function Dde({calendarEvents:e,date:t}){return X("div",{className:"sx__date-grid-day","data-date-grid-date":t,children:Object.values(e).map((n,i)=>n===Qf||!n?X("div",{className:"sx__date-grid-cell",style:{gridRow:i+1}}):X(H4,{calendarEvent:n,gridRow:i+1}))})}const W4=({$app:e,id:t})=>{document.documentElement.style.setProperty("--sx-week-grid-height",`${e.config.weekOptions.value.gridHeight}px`);const[n,i]=wt({});return fa(()=>{var r,s;const o=(r=e.calendarState.range.value)===null||r===void 0?void 0:r.start,a=(s=e.calendarState.range.value)===null||s===void 0?void 0:s.end;if(!o||!a)return;let l=Tde(e);const u=e.calendarEvents.filterPredicate.value?e.calendarEvents.list.value.filter(e.calendarEvents.filterPredicate.value):e.calendarEvents.list.value,{dateGridEvents:d,timeGridEvents:c}=kde(u);l=Ade(d.sort(SC),l),l=Ide(c,l,e),i(l)}),X(Vt,{children:X(ei.Provider,{value:e,children:X("div",{className:"sx__week-wrapper",id:t,children:[X("div",{className:"sx__week-header",children:X("div",{className:"sx__week-header-content",children:[X(Cde,{week:Object.values(n).map(r=>nn(r.date))}),X("div",{className:"sx__date-grid","aria-label":e.translate("Full day- and multiple day events"),children:Object.values(n).map(r=>X(Dde,{date:r.date,calendarEvents:r.dateGridEvents},r.date))}),X("div",{className:"sx__week-header-border"})]})}),X("div",{className:"sx__week-grid",children:[X(Ede,{}),Object.values(n).map(r=>X(wde,{calendarEvents:r.timeGridEvents,date:r.date},r.date))]})]})})})},z4=(e,t)=>`${Hn(t)} ${Pg(e.dayBoundaries.value.start)}`,G4=(e,t)=>{let n=Pg(e.dayBoundaries.value.end),i=Hn(t);return e.isHybridDay&&(i=Fa(i,1)),e.dayBoundaries.value.end===2400&&(n="23:59"),`${i} ${n}`},Rde=e=>{const t=e.timeUnitsImpl.getWeekFor(nn(e.date)).slice(0,e.calendarConfig.weekOptions.value.nDays);return{start:z4(e.calendarConfig,t[0]),end:G4(e.calendarConfig,t[t.length-1])}},q4=e=>{const{year:t,month:n}=kr(e.date),i=e.timeUnitsImpl.getMonthWithTrailingAndLeadingDays(t,n),r=Hn(i[i.length-1][i[i.length-1].length-1]);return{start:D_(i[0][0]),end:`${r} 23:59`}},Ode=e=>({start:z4(e.calendarConfig,nn(e.date)),end:G4(e.calendarConfig,nn(e.date))}),Y4={name:Xi.Week,label:"Week",Component:W4,setDateRange:Rde,hasSmallScreenCompat:!1,hasWideScreenCompat:!0,backwardForwardFn:Fa,backwardForwardUnits:7},Vde=$a(Y4),Nde=()=>$a(Y4),Mde=(e,t)=>(e.push({date:Hn(t),events:{}}),e),Lde=(e,t)=>{const{year:n,month:i}=kr(e),r=t.getMonthWithTrailingAndLeadingDays(n,i),s=[];for(const o of r)s.push(o.reduce(Mde,[]));return s};function Fde({gridRow:e,calendarEvent:t,date:n,isFirstWeek:i,isLastWeek:r}){var s,o,a,l,u;const d=Vn(ei),c=i&&((s=d.calendarState.range.value)===null||s===void 0?void 0:s.start)&&en(t.start)<en(d.calendarState.range.value.start),f=r&&((o=d.calendarState.range.value)===null||o===void 0?void 0:o.end)&&en(t.end)>en(d.calendarState.range.value.end),{createDragStartTimeout:v,setClickedEventIfNotDragging:g,setClickedEvent:p}=O_(d),_=en(t.start)===n,y=t._eventFragments[n],b={borderLeft:_?`4px solid var(--sx-color-${t._color})`:void 0,color:`var(--sx-color-on-${t._color}-container)`,backgroundColor:`var(--sx-color-${t._color}-container)`,width:`calc(${y*100+"%"} + ${y}px - 10px)`},E=C=>{var A;Hh(C)&&C.preventDefault(),C.target&&(!d.config.plugins.dragAndDrop||!((A=t._options)===null||A===void 0)&&A.disableDND||d.config.plugins.dragAndDrop.createMonthGridDragHandler(t,d))},k=d.config._customComponentFns.monthGridEvent,R=k?"custom-month-grid-event-"+Ki():void 0;Xt(()=>{k&&k(ro(R),{calendarEvent:t._getExternalEvent(),hasStartDate:_})},[t]);const O=C=>{C.stopPropagation(),Ea(d,t)},D=C=>{(C.key==="Enter"||C.key===" ")&&(C.stopPropagation(),p(C,t),Ea(d,t),Jf(()=>{V_(d)}))},S=["sx__event","sx__month-grid-event","sx__month-grid-cell"];!((a=t._options)===null||a===void 0)&&a.additionalClasses&&S.push(...t._options.additionalClasses),c&&S.push("sx__month-grid-event--overflow-left"),f&&S.push("sx__month-grid-event--overflow-right");const w=(l=t._customContent)===null||l===void 0?void 0:l.monthGrid;return X("div",{draggable:!!d.config.plugins.dragAndDrop,"data-event-id":t.id,"data-ccid":R,onMouseDown:C=>v(E,C),onMouseUp:C=>g(t,C),onTouchStart:C=>v(E,C),onTouchEnd:C=>g(t,C),onClick:O,onKeyDown:D,className:S.join(" "),style:{gridRow:e,width:b.width,padding:k?"0px":void 0,borderLeft:k?void 0:b.borderLeft,color:k?void 0:b.color,backgroundColor:k?void 0:b.backgroundColor},tabIndex:0,role:"button",children:[!k&&!w&&X(Vt,{children:[Qo.test(t.start)&&X("div",{className:"sx__month-grid-event-time",children:Fu(t.start,d.config.locale.value)}),X("div",{className:"sx__month-grid-event-title",children:t.title})]}),w&&X("div",{dangerouslySetInnerHTML:{__html:((u=t._customContent)===null||u===void 0?void 0:u.monthGrid)||""}})]})}function $de({day:e,isFirstWeek:t,isLastWeek:n}){const i=Vn(ei),r=Object.values(e.events).filter(b=>typeof b=="object"||b===Qf).length,s=b=>b===1?i.translate("event"):i.translate("events"),o=b=>b===1?i.translate("Link to 1 more event on {{date}}",{date:ha(e.date,i.config.locale.value)}):i.translate("Link to {{n}} more events on {{date}}",{date:ha(e.date,i.config.locale.value),n:r-i.config.monthGridOptions.value.nEventsPerDay}),a=b=>{b.stopPropagation(),i.config.callbacks.onClickPlusEvents&&i.config.callbacks.onClickPlusEvents(e.date),i.config.views.value.find(E=>E.name===Xi.Day)&&setTimeout(()=>{i.datePickerState.selectedDate.value=e.date,i.calendarState.setView(Xi.Day,e.date)},250)},l=["sx__month-grid-day__header-date"],u=nn(e.date),d=u;bC(d)&&l.push("sx__is-today");const{month:c}=kr(i.datePickerState.selectedDate.value),{month:f}=kr(e.date),v=["sx__month-grid-day",N_(u.getDay())],[g,p]=wt(v);Xt(()=>{const b=[...v];f!==c&&b.push("is-leading-or-trailing"),i.datePickerState.selectedDate.value===e.date&&b.push("is-selected"),p(b)},[i.datePickerState.selectedDate.value]);const y=Object.values(e.events).slice(i.config.monthGridOptions.value.nEventsPerDay).filter(b=>b===Qf||typeof b=="object").length;return X("div",{className:g.join(" "),"data-date":e.date,onClick:()=>i.config.callbacks.onClickDate&&i.config.callbacks.onClickDate(e.date),"aria-label":ha(e.date,i.config.locale.value),onDblClick:()=>{var b,E;return(E=(b=i.config.callbacks).onDoubleClickDate)===null||E===void 0?void 0:E.call(b,e.date)},children:[X("div",{className:"sx__month-grid-day__header",children:[t?X("div",{className:"sx__month-grid-day__header-day-name",children:yC(d,i.config.locale.value)}):null,X("div",{className:l.join(" "),children:d.getDate()})]}),X("div",{className:"sx__month-grid-day__events",children:Object.values(e.events).slice(0,i.config.monthGridOptions.value.nEventsPerDay).map((b,E)=>typeof b!="object"?X("div",{className:"sx__month-grid-blocker sx__month-grid-cell",style:{gridRow:E+1}}):X(Fde,{gridRow:E+1,calendarEvent:b,date:e.date,isFirstWeek:t,isLastWeek:n}))}),y>0?X("button",{className:"sx__month-grid-day__events-more sx__ripple--wide","aria-label":o(y),onClick:a,children:`+ ${y} ${s(y)}`}):null]})}function Bde({week:e,isFirstWeek:t,isLastWeek:n}){return X("div",{className:"sx__month-grid-week",children:e.map(i=>{const r=i.date;return X($de,{day:i,isFirstWeek:t,isLastWeek:n},r)})})}const Ude=(e,t)=>{const n=Object.keys(t).sort(),i=n[0],r=n[n.length-1],s=new Set;for(const o of e){const a=en(o.start),l=en(o.end),u=!!t[a];let d=u;if(!u&&a<i&&l>=i&&(d=!0),!d)continue;const c=u?a:i,f=l<=r?l:r,v=Object.values(t).filter(_=>_.date>=c&&_.date<=f);let g,p=0;for(;g===void 0;)v.every(y=>!y.events[p])?(g=p,s.add(p)):p++;for(const[_,y]of v.entries())_===0?(o._eventFragments[c]=v.length,y.events[g]=o):y.events[g]=Qf}for(const o of Array.from(s))for(const[,a]of Object.entries(t))a.events[o]||(a.events[o]=void 0);return t},jde=(e,t)=>{const n=[];return e.forEach(i=>{const r={};i.forEach(s=>r[s.date]=s),n.push(r)}),n.forEach(i=>Ude(t,i)),e},Hde=({$app:e,id:t})=>{var n,i;const[r,s]=wt([]);return Xt(()=>{e.calendarEvents.list.value.forEach(l=>{l._eventFragments={}});const o=Lde(e.datePickerState.selectedDate.value,e.timeUnitsImpl),a=e.calendarEvents.filterPredicate.value?e.calendarEvents.list.value.filter(e.calendarEvents.filterPredicate.value):e.calendarEvents.list.value;s(jde(o,a.sort(yde)))},[(n=e.calendarState.range.value)===null||n===void 0?void 0:n.start,(i=e.calendarState.range.value)===null||i===void 0?void 0:i.end,e.calendarEvents.list.value,e.calendarEvents.filterPredicate.value]),X(ei.Provider,{value:e,children:X("div",{id:t,className:"sx__month-grid-wrapper",children:r.map((o,a)=>X(Bde,{week:o,isFirstWeek:a===0,isLastWeek:a===r.length-1},a))})})},K4={name:Xi.MonthGrid,label:"Month",setDateRange:q4,Component:Hde,hasWideScreenCompat:!0,hasSmallScreenCompat:!1,backwardForwardFn:R_,backwardForwardUnits:1};$a(K4);const Wde=()=>$a(K4),zde=({$app:e,id:t})=>X(W4,{$app:e,id:t}),X4={name:Xi.Day,label:"Day",setDateRange:Ode,hasWideScreenCompat:!0,hasSmallScreenCompat:!0,Component:zde,backwardForwardFn:Fa,backwardForwardUnits:1};$a(X4);const Q4=()=>$a(X4),Gde=(e,t)=>{const{year:n,month:i}=kr(e);return{weeks:t.getMonthWithTrailingAndLeadingDays(n,i).map(s=>s.map(o=>({date:Hn(o),events:[]})))}};function qde({day:e,isActive:t,setActiveDate:n}){const i=Vn(ei),{month:r}=kr(i.datePickerState.selectedDate.value),{month:s}=kr(e.date),o=nn(e.date),a=["sx__month-agenda-day",N_(o.getDay())];t&&a.push("sx__month-agenda-day--active"),s!==r&&a.push("is-leading-or-trailing");const l=()=>{var c,f;n(e.date),(f=(c=i.config.callbacks).onClickAgendaDate)===null||f===void 0||f.call(c,e.date)},u=c=>c.date===i.datePickerState.selectedDate.value,d=c=>{const f=new Map([["ArrowDown",7],["ArrowUp",-7],["ArrowLeft",-1],["ArrowRight",1]]);i.datePickerState.selectedDate.value=Fa(i.datePickerState.selectedDate.value,f.get(c.key)||0)};return X("button",{className:a.join(" "),onClick:l,"aria-label":ha(e.date,i.config.locale.value),tabIndex:u(e)?0:-1,"data-agenda-focus":u(e)?"true":void 0,onKeyDown:d,children:[X("div",{children:o.getDate()}),X("div",{className:"sx__month-agenda-day__event-icons",children:e.events.slice(0,3).map(c=>X("div",{style:{backgroundColor:`var(--sx-color-${c._color})`,filter:"brightness(1.6)"},className:"sx__month-agenda-day__event-icon"}))})]})}function Yde({week:e,setActiveDate:t,activeDate:n}){return X("div",{className:"sx__month-agenda-week",children:e.map((i,r)=>X(qde,{setActiveDate:t,day:i,isActive:n===i.date},r+i.date))})}function Kde({week:e}){const t=Vn(ei),n=P4(e.map(i=>nn(i.date)),t.config.locale.value);return X("div",{className:"sx__month-agenda-day-names",children:n.map(i=>X("div",{className:"sx__month-agenda-day-name",children:i}))})}const Xde=(e,t)=>{let n=e;const i=[n];for(;n<t;)n=Fa(n,1),i.push(n);return i},Qde=e=>t=>{Xde(en(t.start),en(t.end)).forEach(n=>{e[n]&&e[n].events.push(t)})},Jde=(e,t)=>{const n=e.weeks.reduce((i,r)=>(r.forEach(s=>{i[s.date]=s}),i),{});return t.forEach(Qde(n)),e};function Zde({calendarEvent:e}){var t,n;const i=Vn(ei),{setClickedEvent:r}=O_(i),s={backgroundColor:`var(--sx-color-${e._color}-container)`,color:`var(--sx-color-on-${e._color}-container)`,borderLeft:`4px solid var(--sx-color-${e._color})`},o=i.config._customComponentFns.monthAgendaEvent,a=o?"custom-month-agenda-event-"+e.id:void 0;Xt(()=>{o&&o(ro(a),{calendarEvent:e._getExternalEvent()})},[e]);const l=c=>{r(c,e),Ea(i,e)},u=c=>{(c.key==="Enter"||c.key===" ")&&(c.stopPropagation(),r(c,e),Ea(i,e),Jf(()=>{V_(i)}))},d=(t=e._customContent)===null||t===void 0?void 0:t.monthAgenda;return X("div",{className:"sx__event sx__month-agenda-event","data-ccid":a,"data-event-id":e.id,style:{backgroundColor:o?void 0:s.backgroundColor,color:o?void 0:s.color,borderLeft:o?void 0:s.borderLeft,padding:o?"0px":void 0},onClick:c=>l(c),onKeyDown:u,tabIndex:0,role:"button",children:[!o&&!d&&X(Vt,{children:[X("div",{className:"sx__month-agenda-event__title",children:e.title}),X("div",{className:"sx__month-agenda-event__time sx__month-agenda-event__has-icon",children:[X(D4,{strokeColor:`var(--sx-color-on-${e._color}-container)`}),X("div",{dangerouslySetInnerHTML:{__html:N4(e,i.config.locale.value)}})]})]}),d&&X("div",{dangerouslySetInnerHTML:{__html:((n=e._customContent)===null||n===void 0?void 0:n.monthAgenda)||""}})]})}function efe({events:e}){const t=Vn(ei);return X("div",{className:"sx__month-agenda-events",children:e.length?e.map(n=>X(Zde,{calendarEvent:n},n.id)):X("div",{className:"sx__month-agenda-events__empty",children:t.translate("No events")})})}const tfe=({$app:e,id:t})=>{var n;const i=()=>{const o=e.calendarEvents.filterPredicate.value?e.calendarEvents.list.value.filter(e.calendarEvents.filterPredicate.value):e.calendarEvents.list.value;return Jde(Gde(e.datePickerState.selectedDate.value,e.timeUnitsImpl),o.sort(SC))},[r,s]=wt(i());return Xt(()=>{s(i())},[e.datePickerState.selectedDate.value,e.calendarEvents.list.value,e.calendarEvents.filterPredicate.value]),Xt(()=>{const o=new MutationObserver(l=>{l.forEach(u=>{const d=u.target;d.dataset.agendaFocus==="true"&&d.focus()})}),a=document.getElementById(t);return o.observe(a,{childList:!0,subtree:!0,attributes:!0}),()=>o.disconnect()},[]),X(ei.Provider,{value:e,children:X("div",{id:t,className:"sx__month-agenda-wrapper",children:[X(Kde,{week:r.weeks[0]}),X("div",{className:"sx__month-agenda-weeks",children:r.weeks.map((o,a)=>X(Yde,{week:o,setActiveDate:l=>e.datePickerState.selectedDate.value=l,activeDate:e.datePickerState.selectedDate.value},a))}),X(efe,{events:((n=r.weeks.flat().find(o=>o.date===e.datePickerState.selectedDate.value))===null||n===void 0?void 0:n.events)||[]},e.datePickerState.selectedDate.value)]})})},J4={name:Xi.MonthAgenda,label:"Month",setDateRange:q4,Component:tfe,hasSmallScreenCompat:!0,hasWideScreenCompat:!1,backwardForwardFn:R_,backwardForwardUnits:1};$a(J4);const nfe=()=>$a(J4),Nr=["Domenica","Luned","Marted","Mercoled","Gioved","Venerd","Sabato"],Tx=["Gennaio","Febbraio","Marzo","Aprile","Maggio","Giugno","Luglio","Agosto","Settembre","Ottobre","Novembre","Dicembre"];class Ot{constructor(t=0,n=0,i=0){this.hour=t,this.minutes=n,this.seconds=i}static fromITime(t){const n=Math.trunc(t/3600),i=Math.trunc((t-n*3600)/60),r=t-(n*3600+i*60);return new Ot(n,i,r)}static fromHHMM(t){try{const n=t.split(":");if(n.length!=2)return;const i=parseInt(n[0]),r=parseInt(n[1]);return new Ot(i,r)}catch{return}}getTotalMinutes(){return this.hour*60+this.minutes}toITime(){return this.hour*3600+this.minutes*60+this.seconds}add(t){return this.hour+=t.hour??0,this.minutes+=t.minutes??0,this.seconds+=t.seconds??0,this}format(){const t=this.hour.toString().padStart(2,"0")||"00",n=this.minutes.toString().padStart(2,"0")||"00",i=this.seconds.toString().padStart(2,"0");return this.seconds!=0?`${t}:${n}:${i}`:`${t}:${n}`}}class pt{constructor(t,n,i){this.day=t,this.month=n,this.year=i}static today(){return this.fromDate(new Date)}static fromIyyyyMMdd(t){if(t.length!=8)throw new Error("Unable to parse date, format not correct (yyyyMMdd): "+t);const n=parseInt(t.substring(0,4)),i=parseInt(t.substring(4,6)),r=parseInt(t.substring(6,8));return new pt(r,i,n)}toIyyyyMMdd(t="",n=0){return`${this.year.toString().padStart(4,"0")}${t}${(this.month+n).toString().padStart(2,"0")}${t}${this.day.toString().padStart(2,"0")}`}static fromDate(t){const n=t.getFullYear(),i=t.getMonth(),r=t.getDate();return new pt(r,i,n)}toDate(){return new Date(this.year,this.month,this.day)}format(){return uF(this.toDate())}equals(t){return this.day==t.day&&this.month==t.month&&this.year==t.year}getYear(){return this.year}getMonth(){return this.month}getDay(){return this.day}}var Zf=(e=>(e[e.ABSENT_AND_PRESENT=0]="ABSENT_AND_PRESENT",e[e.ONLY_PRESENT=1]="ONLY_PRESENT",e))(Zf||{});const ife=["gray","green","red","orange"];var xn=(e=>(e[e.NONE=0]="NONE",e[e.PRESENT=1]="PRESENT",e[e.ABSENT=2]="ABSENT",e[e.CANCELLED=3]="CANCELLED",e))(xn||{});const rfe={unset:"Lezioni di Recupero da Programmare",pending:"Lezioni di Recupero Programmate",done:"Lezioni di Recupero Completate"};var ed=(e=>(e.SCHOOLS="schools",e.STUDENTS="students",e.WEEKLY_LESSONS="weeklyLessons",e.DAILY_LESSONS="dailyLessons",e.RECOVERY_LESSONS="recoveryLessons",e))(ed||{});const sfe=()=>({toFirestore:e=>e,fromFirestore:e=>{const t=e.data();return t.id=e.id,t}}),ofe=e=>TX(I0(),e).withConverter(sfe());function Wh(e,t){const n=`${e}/${t}/user${e.charAt(0).toUpperCase()+e.slice(1)}`;return ofe(n)}class zh{constructor(t){In(this,"user",EN());In(this,"cache",{});this._collectionReference=t}get collectionReference(){var t,n,i;return(this.cache.userId!=((t=this.user.value)==null?void 0:t.uid)||!this.cache.collectionReference)&&(this.cache={userId:(n=this.user.value)==null?void 0:n.uid,collectionReference:this._collectionReference(((i=this.user.value)==null?void 0:i.uid)??"")}),this.cache.collectionReference}observe(t){return I(()=>Vd(this.collectionReference,t.value))}async get(t){return(await this.getDoc(t)).data()}async getDoc(t){return await a1(Vd(this.collectionReference,t))}async getAll(...t){const n=Fy(this.collectionReference,...t);return(await S0(n)).docs.map(r=>r.data())}async getAllDocs(...t){const n=Fy(this.collectionReference,...t);return await S0(n)}async save(t,n){return n!=null?($X(Vd(this.collectionReference,n),t),n):(await UX(this.collectionReference,t)).id}observeAll(...t){const n=new cF,i=Fy(this.collectionReference,...t),r=Gp(i,s=>{const o=s.docs.map(a=>a.data());n.next(o)},s=>{n.error(s)});return n.setUnsubscription(r),n}async delete(t){await BX(Vd(this.collectionReference,t))}deleteAll(){throw new Error("Method not implemented.")}}const jg=class jg extends zh{constructor(){super(t=>Wh(ed.SCHOOLS,t))}static get instance(){return this._instance||(this._instance=new jg),this._instance}};In(jg,"_instance",null);let Io=jg;var afe=Object.create,Z4=Object.defineProperty,lfe=Object.getOwnPropertyDescriptor,EC=Object.getOwnPropertyNames,ufe=Object.getPrototypeOf,cfe=Object.prototype.hasOwnProperty,dfe=(e,t)=>function(){return e&&(t=(0,e[EC(e)[0]])(e=0)),t},ffe=(e,t)=>function(){return t||(0,e[EC(e)[0]])((t={exports:{}}).exports,t),t.exports},hfe=(e,t,n,i)=>{if(t&&typeof t=="object"||typeof t=="function")for(let r of EC(t))!cfe.call(e,r)&&r!==n&&Z4(e,r,{get:()=>t[r],enumerable:!(i=lfe(t,r))||i.enumerable});return e},vfe=(e,t,n)=>(n=e!=null?afe(ufe(e)):{},hfe(Z4(n,"default",{value:e,enumerable:!0}),e)),Gh=dfe({"../../node_modules/.pnpm/tsup@8.3.0_@microsoft+api-extractor@7.43.0_@types+node@20.16.11__@swc+core@1.5.29_jiti@2.0.0__khi6fwhekjxtif3xyxfitrs5gq/node_modules/tsup/assets/esm_shims.js"(){}}),mfe=ffe({"../../node_modules/.pnpm/rfdc@1.4.1/node_modules/rfdc/index.js"(e,t){Gh(),t.exports=i;function n(s){return s instanceof Buffer?Buffer.from(s):new s.constructor(s.buffer.slice(),s.byteOffset,s.length)}function i(s){if(s=s||{},s.circles)return r(s);const o=new Map;if(o.set(Date,c=>new Date(c)),o.set(Map,(c,f)=>new Map(l(Array.from(c),f))),o.set(Set,(c,f)=>new Set(l(Array.from(c),f))),s.constructorHandlers)for(const c of s.constructorHandlers)o.set(c[0],c[1]);let a=null;return s.proto?d:u;function l(c,f){const v=Object.keys(c),g=new Array(v.length);for(let p=0;p<v.length;p++){const _=v[p],y=c[_];typeof y!="object"||y===null?g[_]=y:y.constructor!==Object&&(a=o.get(y.constructor))?g[_]=a(y,f):ArrayBuffer.isView(y)?g[_]=n(y):g[_]=f(y)}return g}function u(c){if(typeof c!="object"||c===null)return c;if(Array.isArray(c))return l(c,u);if(c.constructor!==Object&&(a=o.get(c.constructor)))return a(c,u);const f={};for(const v in c){if(Object.hasOwnProperty.call(c,v)===!1)continue;const g=c[v];typeof g!="object"||g===null?f[v]=g:g.constructor!==Object&&(a=o.get(g.constructor))?f[v]=a(g,u):ArrayBuffer.isView(g)?f[v]=n(g):f[v]=u(g)}return f}function d(c){if(typeof c!="object"||c===null)return c;if(Array.isArray(c))return l(c,d);if(c.constructor!==Object&&(a=o.get(c.constructor)))return a(c,d);const f={};for(const v in c){const g=c[v];typeof g!="object"||g===null?f[v]=g:g.constructor!==Object&&(a=o.get(g.constructor))?f[v]=a(g,d):ArrayBuffer.isView(g)?f[v]=n(g):f[v]=d(g)}return f}}function r(s){const o=[],a=[],l=new Map;if(l.set(Date,v=>new Date(v)),l.set(Map,(v,g)=>new Map(d(Array.from(v),g))),l.set(Set,(v,g)=>new Set(d(Array.from(v),g))),s.constructorHandlers)for(const v of s.constructorHandlers)l.set(v[0],v[1]);let u=null;return s.proto?f:c;function d(v,g){const p=Object.keys(v),_=new Array(p.length);for(let y=0;y<p.length;y++){const b=p[y],E=v[b];if(typeof E!="object"||E===null)_[b]=E;else if(E.constructor!==Object&&(u=l.get(E.constructor)))_[b]=u(E,g);else if(ArrayBuffer.isView(E))_[b]=n(E);else{const k=o.indexOf(E);k!==-1?_[b]=a[k]:_[b]=g(E)}}return _}function c(v){if(typeof v!="object"||v===null)return v;if(Array.isArray(v))return d(v,c);if(v.constructor!==Object&&(u=l.get(v.constructor)))return u(v,c);const g={};o.push(v),a.push(g);for(const p in v){if(Object.hasOwnProperty.call(v,p)===!1)continue;const _=v[p];if(typeof _!="object"||_===null)g[p]=_;else if(_.constructor!==Object&&(u=l.get(_.constructor)))g[p]=u(_,c);else if(ArrayBuffer.isView(_))g[p]=n(_);else{const y=o.indexOf(_);y!==-1?g[p]=a[y]:g[p]=c(_)}}return o.pop(),a.pop(),g}function f(v){if(typeof v!="object"||v===null)return v;if(Array.isArray(v))return d(v,f);if(v.constructor!==Object&&(u=l.get(v.constructor)))return u(v,f);const g={};o.push(v),a.push(g);for(const p in v){const _=v[p];if(typeof _!="object"||_===null)g[p]=_;else if(_.constructor!==Object&&(u=l.get(_.constructor)))g[p]=u(_,f);else if(ArrayBuffer.isView(_))g[p]=n(_);else{const y=o.indexOf(_);y!==-1?g[p]=a[y]:g[p]=f(_)}}return o.pop(),a.pop(),g}}}});Gh();Gh();Gh();var eU=typeof navigator<"u",Ye=typeof window<"u"?window:typeof globalThis<"u"?globalThis:typeof global<"u"?global:{};typeof Ye.chrome<"u"&&Ye.chrome.devtools;eU&&(Ye.self,Ye.top);var Ix;typeof navigator<"u"&&((Ix=navigator.userAgent)==null||Ix.toLowerCase().includes("electron"));Gh();var gfe=vfe(mfe()),pfe=/(?:^|[-_/])(\w)/g;function _fe(e,t){return t?t.toUpperCase():""}function yfe(e){return e&&`${e}`.replace(pfe,_fe)}function bfe(e,t){let n=e.replace(/^[a-z]:/i,"").replace(/\\/g,"/");n.endsWith(`index${t}`)&&(n=n.replace(`/index${t}`,t));const i=n.lastIndexOf("/"),r=n.substring(i+1);{const s=r.lastIndexOf(t);return r.substring(0,s)}}var Ax=(0,gfe.default)({circles:!0});const wfe={trailing:!0};function M_(e,t=25,n={}){if(n={...wfe,...n},!Number.isFinite(t))throw new TypeError("Expected `wait` to be a finite number");let i,r,s=[],o,a;const l=(u,d)=>(o=Sfe(e,u,d),o.finally(()=>{if(o=null,n.trailing&&a&&!r){const c=l(u,a);return a=null,c}}),o);return function(...u){return o?(n.trailing&&(a=u),o):new Promise(d=>{const c=!r&&n.leading;clearTimeout(r),r=setTimeout(()=>{r=null;const f=n.leading?i:l(this,u);for(const v of s)v(f);s=[]},t),c?(i=l(this,u),d(i)):s.push(d)})}}async function Sfe(e,t,n){return await e.apply(t,n)}function Mw(e,t={},n){for(const i in e){const r=e[i],s=n?`${n}:${i}`:i;typeof r=="object"&&r!==null?Mw(r,t,s):typeof r=="function"&&(t[s]=r)}return t}const Efe={run:e=>e()},Cfe=()=>Efe,tU=typeof console.createTask<"u"?console.createTask:Cfe;function kfe(e,t){const n=t.shift(),i=tU(n);return e.reduce((r,s)=>r.then(()=>i.run(()=>s(...t))),Promise.resolve())}function Tfe(e,t){const n=t.shift(),i=tU(n);return Promise.all(e.map(r=>i.run(()=>r(...t))))}function ob(e,t){for(const n of[...e])n(t)}class Ife{constructor(){this._hooks={},this._before=void 0,this._after=void 0,this._deprecatedMessages=void 0,this._deprecatedHooks={},this.hook=this.hook.bind(this),this.callHook=this.callHook.bind(this),this.callHookWith=this.callHookWith.bind(this)}hook(t,n,i={}){if(!t||typeof n!="function")return()=>{};const r=t;let s;for(;this._deprecatedHooks[t];)s=this._deprecatedHooks[t],t=s.to;if(s&&!i.allowDeprecated){let o=s.message;o||(o=`${r} hook has been deprecated`+(s.to?`, please use ${s.to}`:"")),this._deprecatedMessages||(this._deprecatedMessages=new Set),this._deprecatedMessages.has(o)||(console.warn(o),this._deprecatedMessages.add(o))}if(!n.name)try{Object.defineProperty(n,"name",{get:()=>"_"+t.replace(/\W+/g,"_")+"_hook_cb",configurable:!0})}catch{}return this._hooks[t]=this._hooks[t]||[],this._hooks[t].push(n),()=>{n&&(this.removeHook(t,n),n=void 0)}}hookOnce(t,n){let i,r=(...s)=>(typeof i=="function"&&i(),i=void 0,r=void 0,n(...s));return i=this.hook(t,r),i}removeHook(t,n){if(this._hooks[t]){const i=this._hooks[t].indexOf(n);i!==-1&&this._hooks[t].splice(i,1),this._hooks[t].length===0&&delete this._hooks[t]}}deprecateHook(t,n){this._deprecatedHooks[t]=typeof n=="string"?{to:n}:n;const i=this._hooks[t]||[];delete this._hooks[t];for(const r of i)this.hook(t,r)}deprecateHooks(t){Object.assign(this._deprecatedHooks,t);for(const n in t)this.deprecateHook(n,t[n])}addHooks(t){const n=Mw(t),i=Object.keys(n).map(r=>this.hook(r,n[r]));return()=>{for(const r of i.splice(0,i.length))r()}}removeHooks(t){const n=Mw(t);for(const i in n)this.removeHook(i,n[i])}removeAllHooks(){for(const t in this._hooks)delete this._hooks[t]}callHook(t,...n){return n.unshift(t),this.callHookWith(kfe,t,...n)}callHookParallel(t,...n){return n.unshift(t),this.callHookWith(Tfe,t,...n)}callHookWith(t,n,...i){const r=this._before||this._after?{name:n,args:i,context:{}}:void 0;this._before&&ob(this._before,r);const s=t(n in this._hooks?[...this._hooks[n]]:[],i);return s instanceof Promise?s.finally(()=>{this._after&&r&&ob(this._after,r)}):(this._after&&r&&ob(this._after,r),s)}beforeEach(t){return this._before=this._before||[],this._before.push(t),()=>{if(this._before!==void 0){const n=this._before.indexOf(t);n!==-1&&this._before.splice(n,1)}}}afterEach(t){return this._after=this._after||[],this._after.push(t),()=>{if(this._after!==void 0){const n=this._after.indexOf(t);n!==-1&&this._after.splice(n,1)}}}}function nU(){return new Ife}var Afe=Object.create,iU=Object.defineProperty,Pfe=Object.getOwnPropertyDescriptor,CC=Object.getOwnPropertyNames,xfe=Object.getPrototypeOf,Dfe=Object.prototype.hasOwnProperty,Rfe=(e,t)=>function(){return e&&(t=(0,e[CC(e)[0]])(e=0)),t},rU=(e,t)=>function(){return t||(0,e[CC(e)[0]])((t={exports:{}}).exports,t),t.exports},Ofe=(e,t,n,i)=>{if(t&&typeof t=="object"||typeof t=="function")for(let r of CC(t))!Dfe.call(e,r)&&r!==n&&iU(e,r,{get:()=>t[r],enumerable:!(i=Pfe(t,r))||i.enumerable});return e},Vfe=(e,t,n)=>(n=e!=null?Afe(xfe(e)):{},Ofe(iU(n,"default",{value:e,enumerable:!0}),e)),De=Rfe({"../../node_modules/.pnpm/tsup@8.3.0_@microsoft+api-extractor@7.43.0_@types+node@20.16.11__@swc+core@1.5.29_jiti@2.0.0__khi6fwhekjxtif3xyxfitrs5gq/node_modules/tsup/assets/esm_shims.js"(){}}),Nfe=rU({"../../node_modules/.pnpm/speakingurl@14.0.1/node_modules/speakingurl/lib/speakingurl.js"(e,t){De(),function(n){var i={:"A",:"A",:"A",:"A",:"Ae",:"A",:"AE",:"C",:"E",:"E",:"E",:"E",:"I",:"I",:"I",:"I",:"D",:"N",:"O",:"O",:"O",:"O",:"Oe",:"O",:"O",:"U",:"U",:"U",:"Ue",:"U",:"Y",:"TH",:"ss",:"a",:"a",:"a",:"a",:"ae",:"a",:"ae",:"c",:"e",:"e",:"e",:"e",:"i",:"i",:"i",:"i",:"d",:"n",:"o",:"o",:"o",:"o",:"oe",:"o",:"o",:"u",:"u",:"u",:"ue",:"u",:"y",:"th",:"y","":"SS",:"a",:"a",:"i",:"aa",:"u",:"e",:"a",:"b",:"t",:"th",:"j",:"h",:"kh",:"d",:"th",:"r",:"z",:"s",:"sh",:"s",:"dh",:"t",:"z",:"a",:"gh",:"f",:"q",:"k",:"l",:"m",:"n",:"h",:"w",:"y",:"a",:"h",:"la",:"laa",:"lai",:"laa",:"g",:"ch",:"p",:"zh",:"k",:"y","":"a","":"an","":"e","":"en","":"u","":"on","":"","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9",:"k",:"kh",:"g",:"ga",:"ng",:"s",:"sa",:"z","":"za",:"ny",:"t",:"ta",:"d",:"da",:"na",:"t",:"ta",:"d",:"da",:"n",:"p",:"pa",:"b",:"ba",:"m",:"y",:"ya",:"l",:"w",:"th",:"h",:"la",:"a","":"y","":"ya","":"w","":"yw","":"ywa","":"h",:"e","":"-e",:"i",:"-i",:"u",:"-u",:"aw","":"aw",:"aw","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"","":"","":"",:"c",:"d",:"e",:"n",:"r",:"s",:"t",:"u",:"z",:"C",:"D",:"E",:"N",:"R",:"S",:"T",:"U",:"Z",:"h",:"sh",:"n",:"r",:"b",:"lh",:"k",:"a",:"v",:"m",:"f",:"dh",:"th",:"l",:"g",:"gn",:"s",:"d",:"z",:"t",:"y",:"p",:"j",:"ch",:"tt",:"hh",:"kh",:"th",:"z",:"sh",:"s",:"d",:"t",:"z",:"a",:"gh",:"q",:"w","":"a","":"aa","":"i","":"ee","":"u","":"oo","":"e","":"ey","":"o","":"oa","":"",:"a",:"b",:"g",:"d",:"e",:"v",:"z",:"t",:"i",:"k",:"l",:"m",:"n",:"o",:"p",:"zh",:"r",:"s",:"t",:"u",:"p",:"k",:"gh",:"q",:"sh",:"ch",:"ts",:"dz",:"ts",:"ch",:"kh",:"j",:"h",:"a",:"v",:"g",:"d",:"e",:"z",:"i",:"th",:"i",:"k",:"l",:"m",:"n",:"ks",:"o",:"p",:"r",:"s",:"t",:"y",:"f",:"x",:"ps",:"o",:"a",:"e",:"i",:"o",:"y",:"i",:"o",:"s",:"i",:"y",:"y",:"i",:"A",:"B",:"G",:"D",:"E",:"Z",:"I",:"TH",:"I",:"K",:"L",:"M",:"N",:"KS",:"O",:"P",:"R",:"S",:"T",:"Y",:"F",:"X",:"PS",:"O",:"A",:"E",:"I",:"O",:"Y",:"I",:"O",:"I",:"Y",:"a",:"e",:"g",:"i",:"k",:"l",:"n",:"u",:"A",:"E",:"G",:"I",:"k",:"L",:"N",:"U",:"Kj",:"kj",:"Lj",:"lj",:"Nj",:"nj",:"Ts",:"ts",:"a",:"c",:"e",:"l",:"n",:"s",:"z",:"z",:"A",:"C",:"E",:"L",:"N",:"S",:"Z",:"Z",:"Ye",:"I",:"Yi",:"G",:"ye",:"i",:"yi",:"g",:"a",:"A",:"s",:"S",:"t",:"T",:"t",:"T",:"a",:"b",:"v",:"g",:"d",:"e",:"yo",:"zh",:"z",:"i",:"i",:"k",:"l",:"m",:"n",:"o",:"p",:"r",:"s",:"t",:"u",:"f",:"kh",:"c",:"ch",:"sh",:"sh",:"",:"y",:"",:"e",:"yu",:"ya",:"A",:"B",:"V",:"G",:"D",:"E",:"Yo",:"Zh",:"Z",:"I",:"I",:"K",:"L",:"M",:"N",:"O",:"P",:"R",:"S",:"T",:"U",:"F",:"Kh",:"C",:"Ch",:"Sh",:"Sh",:"",:"Y",:"",:"E",:"Yu",:"Ya",:"dj",:"j",:"c",:"dz",:"Dj",:"j",:"C",:"Dz",:"l",:"l",:"r",:"L",:"L",:"R",:"s",:"S",:"i",:"I",:"g",:"G",:"a",:"A",:"a",:"A",:"a",:"A",:"d",:"D",:"e",:"E",:"e",:"E",:"e",:"E",:"e",:"E",:"e",:"E",:"e",:"E",:"e",:"E",:"e",:"E",:"o",:"o",:"o",:"o",:"O",:"o",:"O",:"o",:"O",:"o",:"O",:"o",:"O",:"o",:"O",:"o",:"O",:"o",:"O",:"o",:"O",:"o",:"O",:"o",:"o",:"i",:"I",:"i",:"I",:"i",:"i",:"u",:"U",:"u",:"U",:"u",:"U",:"u",:"U",:"u",:"U",:"u",:"U",:"u",:"U",:"u",:"U",:"u",:"",:"y",:"y",:"y",:"Y",:"y",:"Y",:"y",:"Y",:"a",:"A",:"a",:"A",:"a",:"A",:"a",:"A",:"a",:"A",:"a",:"A",:"a",:"A",:"a",:"A",:"a",:"A","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"10","":"11","":"12","":"13","":"14","":"15","":"16","":"17","":"18","":"18","":"18","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"10","":"0","":"11","":"12","":"13","":"14","":"15","":"16","":"17","":"18","":"19","":"20","":"A","":"B","":"C","":"D","":"E","":"F","":"G","":"H","":"I","":"J","":"K","":"L","":"M","":"N","":"O","":"P","":"Q","":"R","":"S","":"T","":"U","":"V","":"W","":"X","":"Y","":"Z","":"a","":"b","":"c","":"d","":"e","":"f","":"g","":"h","":"i","":"j","":"k","":"l","":"m","":"n","":"o","":"p","":"q","":"r","":"s","":"t","":"u","":"v","":"w","":"x","":"y","":"z","":'"',"":'"',"":"'","":"'","":"d",:"f","":"(TM)","":"(C)",:"oe",:"OE","":"(R)","":"+","":"(SM)","":"...","":"o",:"o",:"a","":"*","":",","":".",$:"USD","":"EUR","":"BRN","":"FRF","":"GBP","":"ITL","":"NGN","":"ESP","":"KRW","":"ILS","":"VND","":"LAK","":"MNT","":"GRD","":"ARS","":"PYG","":"ARA","":"UAH","":"GHS","":"cent","":"CNY",:"CNY",:"YEN","":"IRR","":"EWE","":"THB","":"INR","":"INR","":"PF","":"TRY","":"AFN","":"AZN",:"BGN","":"KHR","":"CRC","":"KZT",:"MKD",z:"PLN","":"RUB","":"GEL"},r=["",""],s={"":"a","":"a","":"e","":"e","":"i","":"i","":"o","":"u","":"u","":"aung","":"aw","":"aw","":"aw","":"aw","":"","":"et","":"aik","":"auk","":"in","":"aing","":"aung","":"it","":"i","":"at","":"eik","":"ok","":"ut","":"it","":"d","":"ok","":"ait","":"an","":"an","":"ein","":"on","":"un","":"at","":"eik","":"ok","":"ut","":"nub","":"an","":"ein","":"on","":"un","":"e","":"ol","":"in","":"an","":"ein","":"on","":"ah","":"ah"},o={en:{},az:{:"c",:"e",:"g",:"i",:"o",:"s",:"u",:"C",:"E",:"G",:"I",:"O",:"S",:"U"},cs:{:"c",:"d",:"e",:"n",:"r",:"s",:"t",:"u",:"z",:"C",:"D",:"E",:"N",:"R",:"S",:"T",:"U",:"Z"},fi:{:"a",:"A",:"o",:"O"},hu:{:"a",:"A",:"o",:"O",:"u",:"U",:"u",:"U"},lt:{:"a",:"c",:"e",:"e",:"i",:"s",:"u",:"u",:"z",:"A",:"C",:"E",:"E",:"I",:"S",:"U",:"U"},lv:{:"a",:"c",:"e",:"g",:"i",:"k",:"l",:"n",:"s",:"u",:"z",:"A",:"C",:"E",:"G",:"i",:"k",:"L",:"N",:"S",:"u",:"Z"},pl:{:"a",:"c",:"e",:"l",:"n",:"o",:"s",:"z",:"z",:"A",:"C",:"e",:"L",:"N",:"O",:"S",:"Z",:"Z"},sv:{:"a",:"A",:"o",:"O"},sk:{:"a",:"A"},sr:{:"lj",:"nj",:"Lj",:"Nj",:"dj",:"Dj"},tr:{:"U",:"O",:"u",:"o"}},a={ar:{"":"delta","":"la-nihaya","":"hob","&":"wa","|":"aw","<":"aqal-men",">":"akbar-men","":"majmou","":"omla"},az:{},ca:{"":"delta","":"infinit","":"amor","&":"i","|":"o","<":"menys que",">":"mes que","":"suma dels","":"moneda"},cs:{"":"delta","":"nekonecno","":"laska","&":"a","|":"nebo","<":"mensi nez",">":"vetsi nez","":"soucet","":"mena"},de:{"":"delta","":"unendlich","":"Liebe","&":"und","|":"oder","<":"kleiner als",">":"groesser als","":"Summe von","":"Waehrung"},dv:{"":"delta","":"kolunulaa","":"loabi","&":"aai","|":"noonee","<":"ah vure kuda",">":"ah vure bodu","":"jumula","":"faisaa"},en:{"":"delta","":"infinity","":"love","&":"and","|":"or","<":"less than",">":"greater than","":"sum","":"currency"},es:{"":"delta","":"infinito","":"amor","&":"y","|":"u","<":"menos que",">":"mas que","":"suma de los","":"moneda"},fa:{"":"delta","":"bi-nahayat","":"eshgh","&":"va","|":"ya","<":"kamtar-az",">":"bishtar-az","":"majmooe","":"vahed"},fi:{"":"delta","":"aarettomyys","":"rakkaus","&":"ja","|":"tai","<":"pienempi kuin",">":"suurempi kuin","":"summa","":"valuutta"},fr:{"":"delta","":"infiniment","":"Amour","&":"et","|":"ou","<":"moins que",">":"superieure a","":"somme des","":"monnaie"},ge:{"":"delta","":"usasruloba","":"siqvaruli","&":"da","|":"an","<":"naklebi",">":"meti","":"jami","":"valuta"},gr:{},hu:{"":"delta","":"vegtelen","":"szerelem","&":"es","|":"vagy","<":"kisebb mint",">":"nagyobb mint","":"szumma","":"penznem"},it:{"":"delta","":"infinito","":"amore","&":"e","|":"o","<":"minore di",">":"maggiore di","":"somma","":"moneta"},lt:{"":"delta","":"begalybe","":"meile","&":"ir","|":"ar","<":"maziau nei",">":"daugiau nei","":"suma","":"valiuta"},lv:{"":"delta","":"bezgaliba","":"milestiba","&":"un","|":"vai","<":"mazak neka",">":"lielaks neka","":"summa","":"valuta"},my:{"":"kwahkhyaet","":"asaonasme","":"akhyait","&":"nhin","|":"tho","<":"ngethaw",">":"kyithaw","":"paungld","":"ngwekye"},mk:{},nl:{"":"delta","":"oneindig","":"liefde","&":"en","|":"of","<":"kleiner dan",">":"groter dan","":"som","":"valuta"},pl:{"":"delta","":"nieskonczonosc","":"milosc","&":"i","|":"lub","<":"mniejsze niz",">":"wieksze niz","":"suma","":"waluta"},pt:{"":"delta","":"infinito","":"amor","&":"e","|":"ou","<":"menor que",">":"maior que","":"soma","":"moeda"},ro:{"":"delta","":"infinit","":"dragoste","&":"si","|":"sau","<":"mai mic ca",">":"mai mare ca","":"suma","":"valuta"},ru:{"":"delta","":"beskonechno","":"lubov","&":"i","|":"ili","<":"menshe",">":"bolshe","":"summa","":"valjuta"},sk:{"":"delta","":"nekonecno","":"laska","&":"a","|":"alebo","<":"menej ako",">":"viac ako","":"sucet","":"mena"},sr:{},tr:{"":"delta","":"sonsuzluk","":"ask","&":"ve","|":"veya","<":"kucuktur",">":"buyuktur","":"toplam","":"para birimi"},uk:{"":"delta","":"bezkinechnist","":"lubov","&":"i","|":"abo","<":"menshe",">":"bilshe","":"suma","":"valjuta"},vn:{"":"delta","":"vo cuc","":"yeu","&":"va","|":"hoac","<":"nho hon",">":"lon hon","":"tong","":"tien te"}},l=[";","?",":","@","&","=","+","$",",","/"].join(""),u=[";","?",":","@","&","=","+","$",","].join(""),d=[".","!","~","*","'","(",")"].join(""),c=function(_,y){var b="-",E="",k="",R=!0,O={},D,S,w,C,A,P,x,U,$,j,Y,W,K,G,te="";if(typeof _!="string")return"";if(typeof y=="string"&&(b=y),x=a.en,U=o.en,typeof y=="object"){D=y.maintainCase||!1,O=y.custom&&typeof y.custom=="object"?y.custom:O,w=+y.truncate>1&&y.truncate||!1,C=y.uric||!1,A=y.uricNoSlash||!1,P=y.mark||!1,R=!(y.symbols===!1||y.lang===!1),b=y.separator||b,C&&(te+=l),A&&(te+=u),P&&(te+=d),x=y.lang&&a[y.lang]&&R?a[y.lang]:R?a.en:{},U=y.lang&&o[y.lang]?o[y.lang]:y.lang===!1||y.lang===!0?{}:o.en,y.titleCase&&typeof y.titleCase.length=="number"&&Array.prototype.toString.call(y.titleCase)?(y.titleCase.forEach(function(oe){O[oe+""]=oe+""}),S=!0):S=!!y.titleCase,y.custom&&typeof y.custom.length=="number"&&Array.prototype.toString.call(y.custom)&&y.custom.forEach(function(oe){O[oe+""]=oe+""}),Object.keys(O).forEach(function(oe){var _e;oe.length>1?_e=new RegExp("\\b"+v(oe)+"\\b","gi"):_e=new RegExp(v(oe),"gi"),_=_.replace(_e,O[oe])});for(Y in O)te+=Y}for(te+=b,te=v(te),_=_.replace(/(^\s+|\s+$)/g,""),K=!1,G=!1,j=0,W=_.length;j<W;j++)Y=_[j],g(Y,O)?K=!1:U[Y]?(Y=K&&U[Y].match(/[A-Za-z0-9]/)?" "+U[Y]:U[Y],K=!1):Y in i?(j+1<W&&r.indexOf(_[j+1])>=0?(k+=Y,Y=""):G===!0?(Y=s[k]+i[Y],k=""):Y=K&&i[Y].match(/[A-Za-z0-9]/)?" "+i[Y]:i[Y],K=!1,G=!1):Y in s?(k+=Y,Y="",j===W-1&&(Y=s[k]),G=!0):x[Y]&&!(C&&l.indexOf(Y)!==-1)&&!(A&&u.indexOf(Y)!==-1)?(Y=K||E.substr(-1).match(/[A-Za-z0-9]/)?b+x[Y]:x[Y],Y+=_[j+1]!==void 0&&_[j+1].match(/[A-Za-z0-9]/)?b:"",K=!0):(G===!0?(Y=s[k]+Y,k="",G=!1):K&&(/[A-Za-z0-9]/.test(Y)||E.substr(-1).match(/A-Za-z0-9]/))&&(Y=" "+Y),K=!1),E+=Y.replace(new RegExp("[^\\w\\s"+te+"_-]","g"),b);return S&&(E=E.replace(/(\w)(\S*)/g,function(oe,_e,Ae){var Ne=_e.toUpperCase()+(Ae!==null?Ae:"");return Object.keys(O).indexOf(Ne.toLowerCase())<0?Ne:Ne.toLowerCase()})),E=E.replace(/\s+/g,b).replace(new RegExp("\\"+b+"+","g"),b).replace(new RegExp("(^\\"+b+"+|\\"+b+"+$)","g"),""),w&&E.length>w&&($=E.charAt(w)===b,E=E.slice(0,w),$||(E=E.slice(0,E.lastIndexOf(b)))),!D&&!S&&(E=E.toLowerCase()),E},f=function(_){return function(b){return c(b,_)}},v=function(_){return _.replace(/[-\\^$*+?.()|[\]{}\/]/g,"\\$&")},g=function(p,_){for(var y in _)if(_[y]===p)return!0};if(typeof t<"u"&&t.exports)t.exports=c,t.exports.createSlug=f;else if(typeof define<"u"&&define.amd)define([],function(){return c});else try{if(n.getSlug||n.createSlug)throw"speakingurl: globals exists /(getSlug|createSlug)/";n.getSlug=c,n.createSlug=f}catch{}}(e)}}),Mfe=rU({"../../node_modules/.pnpm/speakingurl@14.0.1/node_modules/speakingurl/index.js"(e,t){De(),t.exports=Nfe()}});De();De();De();De();De();De();De();function Lfe(e){return!!(e&&e.__v_isReadonly)}function sU(e){return Lfe(e)?sU(e.__v_raw):!!(e&&e.__v_isReactive)}function ab(e){return!!(e&&e.__v_isRef===!0)}function Ld(e){const t=e&&e.__v_raw;return t?Ld(t):e}var Ffe=Symbol.for("v-fgt");De();function $fe(e){var t;const n=e.name||e._componentTag||e.__VUE_DEVTOOLS_COMPONENT_GUSSED_NAME__||e.__name;return n==="index"&&((t=e.__file)!=null&&t.endsWith("index.vue"))?"":n}function Bfe(e){const t=e.__file;if(t)return yfe(bfe(t,".vue"))}function Px(e,t){return e.type.__VUE_DEVTOOLS_COMPONENT_GUSSED_NAME__=t,t}function kC(e){if(e.__VUE_DEVTOOLS_NEXT_APP_RECORD__)return e.__VUE_DEVTOOLS_NEXT_APP_RECORD__;if(e.root)return e.appContext.app.__VUE_DEVTOOLS_NEXT_APP_RECORD__}async function Ufe(e){const{app:t,uid:n,instance:i}=e;try{if(i.__VUE_DEVTOOLS_NEXT_UID__)return i.__VUE_DEVTOOLS_NEXT_UID__;const r=await kC(t);if(!r)return null;const s=r.rootInstance===i;return`${r.id}:${s?"root":n}`}catch{}}function oU(e){var t;return((t=e.subTree)==null?void 0:t.type)===Ffe}function L_(e){var t,n,i;const r=$fe((e==null?void 0:e.type)||{});if(r)return r;if((e==null?void 0:e.root)===e)return"Root";for(const o in(n=(t=e.parent)==null?void 0:t.type)==null?void 0:n.components)if(e.parent.type.components[o]===(e==null?void 0:e.type))return Px(e,o);for(const o in(i=e.appContext)==null?void 0:i.components)if(e.appContext.components[o]===(e==null?void 0:e.type))return Px(e,o);const s=Bfe((e==null?void 0:e.type)||{});return s||"Anonymous Component"}function Lw(e,t){return t=t||`${e.id}:root`,e.instanceMap.get(t)||e.instanceMap.get(":root")}var jfe=class{constructor(){this.refEditor=new Hfe}set(e,t,n,i){const r=Array.isArray(t)?t:t.split(".");for(;r.length>1;){const a=r.shift();e instanceof Map&&(e=e.get(a)),e instanceof Set?e=Array.from(e.values())[a]:e=e[a],this.refEditor.isRef(e)&&(e=this.refEditor.get(e))}const s=r[0],o=this.refEditor.get(e)[s];i?i(e,s,n):this.refEditor.isRef(o)?this.refEditor.set(o,n):e[s]=n}get(e,t){const n=Array.isArray(t)?t:t.split(".");for(let i=0;i<n.length;i++)if(e instanceof Map?e=e.get(n[i]):e=e[n[i]],this.refEditor.isRef(e)&&(e=this.refEditor.get(e)),!e)return;return e}has(e,t,n=!1){if(typeof e>"u")return!1;const i=Array.isArray(t)?t.slice():t.split("."),r=n?2:1;for(;e&&i.length>r;){const s=i.shift();e=e[s],this.refEditor.isRef(e)&&(e=this.refEditor.get(e))}return e!=null&&Object.prototype.hasOwnProperty.call(e,i[0])}createDefaultSetCallback(e){return(t,n,i)=>{if((e.remove||e.newKey)&&(Array.isArray(t)?t.splice(n,1):Ld(t)instanceof Map?t.delete(n):Ld(t)instanceof Set?t.delete(Array.from(t.values())[n]):Reflect.deleteProperty(t,n)),!e.remove){const r=t[e.newKey||n];this.refEditor.isRef(r)?this.refEditor.set(r,i):Ld(t)instanceof Map?t.set(e.newKey||n,i):Ld(t)instanceof Set?t.add(i):t[e.newKey||n]=i}}}},Hfe=class{set(e,t){if(ab(e))e.value=t;else{if(e instanceof Set&&Array.isArray(t)){e.clear(),t.forEach(r=>e.add(r));return}const n=Object.keys(t);if(e instanceof Map){const r=new Set(e.keys());n.forEach(s=>{e.set(s,Reflect.get(t,s)),r.delete(s)}),r.forEach(s=>e.delete(s));return}const i=new Set(Object.keys(e));n.forEach(r=>{Reflect.set(e,r,Reflect.get(t,r)),i.delete(r)}),i.forEach(r=>Reflect.deleteProperty(e,r))}}get(e){return ab(e)?e.value:e}isRef(e){return ab(e)||sU(e)}};De();function TC(e){return oU(e)?Wfe(e.subTree):e.subTree?[e.subTree.el]:[]}function Wfe(e){if(!e.children)return[];const t=[];return e.children.forEach(n=>{n.component?t.push(...TC(n.component)):n!=null&&n.el&&t.push(n.el)}),t}De();De();function zfe(){const e={top:0,bottom:0,left:0,right:0,get width(){return e.right-e.left},get height(){return e.bottom-e.top}};return e}var $v;function Gfe(e){return $v||($v=document.createRange()),$v.selectNode(e),$v.getBoundingClientRect()}function qfe(e){const t=zfe();if(!e.children)return t;for(let n=0,i=e.children.length;n<i;n++){const r=e.children[n];let s;if(r.component)s=zl(r.component);else if(r.el){const o=r.el;o.nodeType===1||o.getBoundingClientRect?s=o.getBoundingClientRect():o.nodeType===3&&o.data.trim()&&(s=Gfe(o))}s&&Yfe(t,s)}return t}function Yfe(e,t){return(!e.top||t.top<e.top)&&(e.top=t.top),(!e.bottom||t.bottom>e.bottom)&&(e.bottom=t.bottom),(!e.left||t.left<e.left)&&(e.left=t.left),(!e.right||t.right>e.right)&&(e.right=t.right),e}var xx={top:0,left:0,right:0,bottom:0,width:0,height:0};function zl(e){const t=e.subTree.el;return typeof window>"u"?xx:oU(e)?qfe(e.subTree):(t==null?void 0:t.nodeType)===1?t==null?void 0:t.getBoundingClientRect():e.subTree.component?zl(e.subTree.component):xx}var aU="__vue-devtools-component-inspector__",lU="__vue-devtools-component-inspector__card__",uU="__vue-devtools-component-inspector__name__",cU="__vue-devtools-component-inspector__indicator__",dU={display:"block",zIndex:2147483640,position:"fixed",backgroundColor:"#42b88325",border:"1px solid #42b88350",borderRadius:"5px",transition:"all 0.1s ease-in",pointerEvents:"none"},Kfe={fontFamily:"Arial, Helvetica, sans-serif",padding:"5px 8px",borderRadius:"4px",textAlign:"left",position:"absolute",left:0,color:"#e9e9e9",fontSize:"14px",fontWeight:600,lineHeight:"24px",backgroundColor:"#42b883",boxShadow:"0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px -1px rgba(0, 0, 0, 0.1)"},Xfe={display:"inline-block",fontWeight:400,fontStyle:"normal",fontSize:"12px",opacity:.7};function td(){return document.getElementById(aU)}function Qfe(){return document.getElementById(lU)}function Jfe(){return document.getElementById(cU)}function Zfe(){return document.getElementById(uU)}function IC(e){return{left:`${Math.round(e.left*100)/100}px`,top:`${Math.round(e.top*100)/100}px`,width:`${Math.round(e.width*100)/100}px`,height:`${Math.round(e.height*100)/100}px`}}function AC(e){var t;const n=document.createElement("div");n.id=(t=e.elementId)!=null?t:aU,Object.assign(n.style,{...dU,...IC(e.bounds),...e.style});const i=document.createElement("span");i.id=lU,Object.assign(i.style,{...Kfe,top:e.bounds.top<35?0:"-35px"});const r=document.createElement("span");r.id=uU,r.innerHTML=`&lt;${e.name}&gt;&nbsp;&nbsp;`;const s=document.createElement("i");return s.id=cU,s.innerHTML=`${Math.round(e.bounds.width*100)/100} x ${Math.round(e.bounds.height*100)/100}`,Object.assign(s.style,Xfe),i.appendChild(r),i.appendChild(s),n.appendChild(i),document.body.appendChild(n),n}function PC(e){const t=td(),n=Qfe(),i=Zfe(),r=Jfe();t&&(Object.assign(t.style,{...dU,...IC(e.bounds)}),Object.assign(n.style,{top:e.bounds.top<35?0:"-35px"}),i.innerHTML=`&lt;${e.name}&gt;&nbsp;&nbsp;`,r.innerHTML=`${Math.round(e.bounds.width*100)/100} x ${Math.round(e.bounds.height*100)/100}`)}function ehe(e){const t=zl(e),n=L_(e);td()?PC({bounds:t,name:n}):AC({bounds:t,name:n})}function fU(){const e=td();e&&(e.style.display="none")}var Fw=null;function $w(e){const t=e.target;if(t){const n=t.__vueParentComponent;if(n&&(Fw=n,n.vnode.el)){const r=zl(n),s=L_(n);td()?PC({bounds:r,name:s}):AC({bounds:r,name:s})}}}function the(e,t){var n;if(e.preventDefault(),e.stopPropagation(),Fw){const i=(n=ir.value)==null?void 0:n.app;Ufe({app:i,uid:i.uid,instance:Fw}).then(r=>{t(r)})}}var Dg=null;function nhe(){fU(),window.removeEventListener("mouseover",$w),window.removeEventListener("click",Dg,!0),Dg=null}function ihe(){return window.addEventListener("mouseover",$w),new Promise(e=>{function t(n){n.preventDefault(),n.stopPropagation(),the(n,i=>{window.removeEventListener("click",t,!0),Dg=null,window.removeEventListener("mouseover",$w);const r=td();r&&(r.style.display="none"),e(JSON.stringify({id:i}))})}Dg=t,window.addEventListener("click",t,!0)})}function rhe(e){const t=Lw(ir.value,e.id);if(t){const[n]=TC(t);if(typeof n.scrollIntoView=="function")n.scrollIntoView({behavior:"smooth"});else{const i=zl(t),r=document.createElement("div"),s={...IC(i),position:"absolute"};Object.assign(r.style,s),document.body.appendChild(r),r.scrollIntoView({behavior:"smooth"}),setTimeout(()=>{document.body.removeChild(r)},2e3)}setTimeout(()=>{const i=zl(t);if(i.width||i.height){const r=L_(t),s=td();s?PC({...e,name:r,bounds:i}):AC({...e,name:r,bounds:i}),setTimeout(()=>{s&&(s.style.display="none")},1500)}},1200)}}De();var Dx,Rx;(Rx=(Dx=Ye).__VUE_DEVTOOLS_COMPONENT_INSPECTOR_ENABLED__)!=null||(Dx.__VUE_DEVTOOLS_COMPONENT_INSPECTOR_ENABLED__=!0);function she(e){let t=0;const n=setInterval(()=>{Ye.__VUE_INSPECTOR__&&(clearInterval(n),t+=30,e()),t>=5e3&&clearInterval(n)},30)}function ohe(){const e=Ye.__VUE_INSPECTOR__,t=e.openInEditor;e.openInEditor=async(...n)=>{e.disable(),t(...n)}}function ahe(){return new Promise(e=>{function t(){ohe(),e(Ye.__VUE_INSPECTOR__)}Ye.__VUE_INSPECTOR__?t():she(()=>{t()})})}De();De();De();var lhe="__VUE_DEVTOOLS_KIT_TIMELINE_LAYERS_STATE__";function uhe(){if(!eU||typeof localStorage>"u")return{recordingState:!1,mouseEventEnabled:!1,keyboardEventEnabled:!1,componentEventEnabled:!1,performanceEventEnabled:!1,selected:""};const e=localStorage.getItem(lhe);return e?JSON.parse(e):{recordingState:!1,mouseEventEnabled:!1,keyboardEventEnabled:!1,componentEventEnabled:!1,performanceEventEnabled:!1,selected:""}}De();De();De();var Ox,Vx;(Vx=(Ox=Ye).__VUE_DEVTOOLS_KIT_TIMELINE_LAYERS)!=null||(Ox.__VUE_DEVTOOLS_KIT_TIMELINE_LAYERS=[]);var che=new Proxy(Ye.__VUE_DEVTOOLS_KIT_TIMELINE_LAYERS,{get(e,t,n){return Reflect.get(e,t,n)}});function dhe(e,t){che.push({...e,descriptorId:t.id,appRecord:kC(t.app)})}var Nx,Mx;(Mx=(Nx=Ye).__VUE_DEVTOOLS_KIT_INSPECTOR__)!=null||(Nx.__VUE_DEVTOOLS_KIT_INSPECTOR__=[]);var xC=new Proxy(Ye.__VUE_DEVTOOLS_KIT_INSPECTOR__,{get(e,t,n){return Reflect.get(e,t,n)}}),hU=M_(()=>{nd.hooks.callHook("sendInspectorToClient",vU())});function fhe(e,t){xC.push({options:e,descriptor:t,treeFilter:"",selectedNodeId:"",appRecord:kC(t.app)}),hU()}function vU(){return xC.filter(e=>e.descriptor.app===ir.value.app).filter(e=>e.descriptor.id!=="components").map(e=>{var t;const n=e.descriptor,i=e.options;return{id:i.id,label:i.label,logo:n.logo,icon:`custom-ic-baseline-${(t=i==null?void 0:i.icon)==null?void 0:t.replace(/_/g,"-")}`,packageName:n.packageName,homepage:n.homepage,pluginId:n.id}})}function bm(e,t){return xC.find(n=>n.options.id===e&&(t?n.descriptor.app===t:!0))}function hhe(){const e=nU();return e.hook("addInspector",({inspector:t,plugin:n})=>{fhe(t,n.descriptor)}),e.hook("sendInspectorTree",async({inspectorId:t,plugin:n})=>{var i;if(!t||!((i=n==null?void 0:n.descriptor)!=null&&i.app))return;const r=bm(t,n.descriptor.app),s={app:n.descriptor.app,inspectorId:t,filter:(r==null?void 0:r.treeFilter)||"",rootNodes:[]};await new Promise(o=>{e.callHookWith(async a=>{await Promise.all(a.map(l=>l(s))),o()},"getInspectorTree")}),e.callHookWith(async o=>{await Promise.all(o.map(a=>a({inspectorId:t,rootNodes:s.rootNodes})))},"sendInspectorTreeToClient")}),e.hook("sendInspectorState",async({inspectorId:t,plugin:n})=>{var i;if(!t||!((i=n==null?void 0:n.descriptor)!=null&&i.app))return;const r=bm(t,n.descriptor.app),s={app:n.descriptor.app,inspectorId:t,nodeId:(r==null?void 0:r.selectedNodeId)||"",state:null},o={currentTab:`custom-inspector:${t}`};s.nodeId&&await new Promise(a=>{e.callHookWith(async l=>{await Promise.all(l.map(u=>u(s,o))),a()},"getInspectorState")}),e.callHookWith(async a=>{await Promise.all(a.map(l=>l({inspectorId:t,nodeId:s.nodeId,state:s.state})))},"sendInspectorStateToClient")}),e.hook("customInspectorSelectNode",({inspectorId:t,nodeId:n,plugin:i})=>{const r=bm(t,i.descriptor.app);r&&(r.selectedNodeId=n)}),e.hook("timelineLayerAdded",({options:t,plugin:n})=>{dhe(t,n.descriptor)}),e.hook("timelineEventAdded",({options:t,plugin:n})=>{e.callHookWith(async i=>{await Promise.all(i.map(r=>r(t)))},"sendTimelineEventToClient")}),e.hook("getComponentInstances",async({app:t})=>{const n=t.__VUE_DEVTOOLS_NEXT_APP_RECORD__;if(!n)return null;const i=n.id.toString();return[...n.instanceMap].filter(([s])=>s.split(":")[0]===i).map(([,s])=>s)}),e.hook("getComponentBounds",async({instance:t})=>zl(t)),e.hook("getComponentName",({instance:t})=>L_(t)),e.hook("componentHighlight",({uid:t})=>{const n=ir.value.instanceMap.get(t);n&&ehe(n)}),e.hook("componentUnhighlight",()=>{fU()}),e}var Lx,Fx;(Fx=(Lx=Ye).__VUE_DEVTOOLS_KIT_APP_RECORDS__)!=null||(Lx.__VUE_DEVTOOLS_KIT_APP_RECORDS__=[]);var $x,Bx;(Bx=($x=Ye).__VUE_DEVTOOLS_KIT_ACTIVE_APP_RECORD__)!=null||($x.__VUE_DEVTOOLS_KIT_ACTIVE_APP_RECORD__={});var Ux,jx;(jx=(Ux=Ye).__VUE_DEVTOOLS_KIT_ACTIVE_APP_RECORD_ID__)!=null||(Ux.__VUE_DEVTOOLS_KIT_ACTIVE_APP_RECORD_ID__="");var Hx,Wx;(Wx=(Hx=Ye).__VUE_DEVTOOLS_KIT_CUSTOM_TABS__)!=null||(Hx.__VUE_DEVTOOLS_KIT_CUSTOM_TABS__=[]);var zx,Gx;(Gx=(zx=Ye).__VUE_DEVTOOLS_KIT_CUSTOM_COMMANDS__)!=null||(zx.__VUE_DEVTOOLS_KIT_CUSTOM_COMMANDS__=[]);var hl="__VUE_DEVTOOLS_KIT_GLOBAL_STATE__";function vhe(){return{connected:!1,clientConnected:!1,vitePluginDetected:!0,appRecords:[],activeAppRecordId:"",tabs:[],commands:[],highPerfModeEnabled:!0,devtoolsClientDetected:{},perfUniqueGroupId:0,timelineLayersState:uhe()}}var qx,Yx;(Yx=(qx=Ye)[hl])!=null||(qx[hl]=vhe());var mhe=M_(e=>{nd.hooks.callHook("devtoolsStateUpdated",{state:e})});M_((e,t)=>{nd.hooks.callHook("devtoolsConnectedUpdated",{state:e,oldState:t})});var F_=new Proxy(Ye.__VUE_DEVTOOLS_KIT_APP_RECORDS__,{get(e,t,n){return t==="value"?Ye.__VUE_DEVTOOLS_KIT_APP_RECORDS__:Ye.__VUE_DEVTOOLS_KIT_APP_RECORDS__[t]}}),ir=new Proxy(Ye.__VUE_DEVTOOLS_KIT_ACTIVE_APP_RECORD__,{get(e,t,n){return t==="value"?Ye.__VUE_DEVTOOLS_KIT_ACTIVE_APP_RECORD__:t==="id"?Ye.__VUE_DEVTOOLS_KIT_ACTIVE_APP_RECORD_ID__:Ye.__VUE_DEVTOOLS_KIT_ACTIVE_APP_RECORD__[t]}});function mU(){mhe({...Ye[hl],appRecords:F_.value,activeAppRecordId:ir.id,tabs:Ye.__VUE_DEVTOOLS_KIT_CUSTOM_TABS__,commands:Ye.__VUE_DEVTOOLS_KIT_CUSTOM_COMMANDS__})}function ghe(e){Ye.__VUE_DEVTOOLS_KIT_ACTIVE_APP_RECORD__=e,mU()}function phe(e){Ye.__VUE_DEVTOOLS_KIT_ACTIVE_APP_RECORD_ID__=e,mU()}var wl=new Proxy(Ye[hl],{get(e,t){return t==="appRecords"?F_:t==="activeAppRecordId"?ir.id:t==="tabs"?Ye.__VUE_DEVTOOLS_KIT_CUSTOM_TABS__:t==="commands"?Ye.__VUE_DEVTOOLS_KIT_CUSTOM_COMMANDS__:Ye[hl][t]},deleteProperty(e,t){return delete e[t],!0},set(e,t,n){return{...Ye[hl]},e[t]=n,Ye[hl][t]=n,!0}});function _he(e={}){var t,n,i;const{file:r,host:s,baseUrl:o=window.location.origin,line:a=0,column:l=0}=e;if(r){if(s==="chrome-extension"){const u=r.replace(/\\/g,"\\\\"),d=(n=(t=window.VUE_DEVTOOLS_CONFIG)==null?void 0:t.openInEditorHost)!=null?n:"/";fetch(`${d}__open-in-editor?file=${encodeURI(r)}`).then(c=>{if(!c.ok){const f=`Opening component ${u} failed`;console.log(`%c${f}`,"color:red")}})}else if(wl.vitePluginDetected){const u=(i=Ye.__VUE_DEVTOOLS_OPEN_IN_EDITOR_BASE_URL__)!=null?i:o;Ye.__VUE_INSPECTOR__.openInEditor(u,r,a,l)}}}De();De();De();De();De();var Kx,Xx;(Xx=(Kx=Ye).__VUE_DEVTOOLS_KIT_PLUGIN_BUFFER__)!=null||(Kx.__VUE_DEVTOOLS_KIT_PLUGIN_BUFFER__=[]);var DC=new Proxy(Ye.__VUE_DEVTOOLS_KIT_PLUGIN_BUFFER__,{get(e,t,n){return Reflect.get(e,t,n)}});function Bw(e){const t={};return Object.keys(e).forEach(n=>{t[n]=e[n].defaultValue}),t}function RC(e){return`__VUE_DEVTOOLS_NEXT_PLUGIN_SETTINGS__${e}__`}function yhe(e){var t,n,i;const r=(n=(t=DC.find(s=>{var o;return s[0].id===e&&!!((o=s[0])!=null&&o.settings)}))==null?void 0:t[0])!=null?n:null;return(i=r==null?void 0:r.settings)!=null?i:null}function gU(e,t){var n,i,r;const s=RC(e);if(s){const o=localStorage.getItem(s);if(o)return JSON.parse(o)}if(e){const o=(i=(n=DC.find(a=>a[0].id===e))==null?void 0:n[0])!=null?i:null;return Bw((r=o==null?void 0:o.settings)!=null?r:{})}return Bw(t)}function bhe(e,t){const n=RC(e);localStorage.getItem(n)||localStorage.setItem(n,JSON.stringify(Bw(t)))}function whe(e,t,n){const i=RC(e),r=localStorage.getItem(i),s=JSON.parse(r||"{}"),o={...s,[t]:n};localStorage.setItem(i,JSON.stringify(o)),nd.hooks.callHookWith(a=>{a.forEach(l=>l({pluginId:e,key:t,oldValue:s[t],newValue:n,settings:o}))},"setPluginSettings")}De();De();De();De();De();De();De();De();De();De();De();var Qx,Jx,hr=(Jx=(Qx=Ye).__VUE_DEVTOOLS_HOOK)!=null?Jx:Qx.__VUE_DEVTOOLS_HOOK=nU(),She={vueAppInit(e){hr.hook("app:init",e)},vueAppUnmount(e){hr.hook("app:unmount",e)},vueAppConnected(e){hr.hook("app:connected",e)},componentAdded(e){return hr.hook("component:added",e)},componentEmit(e){return hr.hook("component:emit",e)},componentUpdated(e){return hr.hook("component:updated",e)},componentRemoved(e){return hr.hook("component:removed",e)},setupDevtoolsPlugin(e){hr.hook("devtools-plugin:setup",e)},perfStart(e){return hr.hook("perf:start",e)},perfEnd(e){return hr.hook("perf:end",e)}},Ehe={on:She,setupDevToolsPlugin(e,t){return hr.callHook("devtools-plugin:setup",e,t)}},Che=class{constructor({plugin:e,ctx:t}){this.hooks=t.hooks,this.plugin=e}get on(){return{visitComponentTree:e=>{this.hooks.hook("visitComponentTree",e)},inspectComponent:e=>{this.hooks.hook("inspectComponent",e)},editComponentState:e=>{this.hooks.hook("editComponentState",e)},getInspectorTree:e=>{this.hooks.hook("getInspectorTree",e)},getInspectorState:e=>{this.hooks.hook("getInspectorState",e)},editInspectorState:e=>{this.hooks.hook("editInspectorState",e)},inspectTimelineEvent:e=>{this.hooks.hook("inspectTimelineEvent",e)},timelineCleared:e=>{this.hooks.hook("timelineCleared",e)},setPluginSettings:e=>{this.hooks.hook("setPluginSettings",e)}}}notifyComponentUpdate(e){var t;const n=vU().find(i=>i.packageName===this.plugin.descriptor.packageName);if(n!=null&&n.id){if(e){const i=[e.appContext.app,e.uid,(t=e.parent)==null?void 0:t.uid,e];hr.callHook("component:updated",...i)}else hr.callHook("component:updated");this.hooks.callHook("sendInspectorState",{inspectorId:n.id,plugin:this.plugin})}}addInspector(e){this.hooks.callHook("addInspector",{inspector:e,plugin:this.plugin}),this.plugin.descriptor.settings&&bhe(e.id,this.plugin.descriptor.settings)}sendInspectorTree(e){this.hooks.callHook("sendInspectorTree",{inspectorId:e,plugin:this.plugin})}sendInspectorState(e){this.hooks.callHook("sendInspectorState",{inspectorId:e,plugin:this.plugin})}selectInspectorNode(e,t){this.hooks.callHook("customInspectorSelectNode",{inspectorId:e,nodeId:t,plugin:this.plugin})}now(){return Date.now()}addTimelineLayer(e){this.hooks.callHook("timelineLayerAdded",{options:e,plugin:this.plugin})}addTimelineEvent(e){this.hooks.callHook("timelineEventAdded",{options:e,plugin:this.plugin})}getSettings(e){return gU(e??this.plugin.descriptor.id,this.plugin.descriptor.settings)}getComponentInstances(e){return this.hooks.callHook("getComponentInstances",{app:e})}getComponentBounds(e){return this.hooks.callHook("getComponentBounds",{instance:e})}getComponentName(e){return this.hooks.callHook("getComponentName",{instance:e})}highlightElement(e){const t=e.__VUE_DEVTOOLS_NEXT_UID__;return this.hooks.callHook("componentHighlight",{uid:t})}unhighlightElement(){return this.hooks.callHook("componentUnhighlight")}},khe=Che;De();De();De();De();var The="__vue_devtool_undefined__",Ihe="__vue_devtool_infinity__",Ahe="__vue_devtool_negative_infinity__",Phe="__vue_devtool_nan__";De();De();var xhe={[The]:"undefined",[Phe]:"NaN",[Ihe]:"Infinity",[Ahe]:"-Infinity"};Object.entries(xhe).reduce((e,[t,n])=>(e[n]=t,e),{});De();De();De();De();De();var Zx,eD;(eD=(Zx=Ye).__VUE_DEVTOOLS_KIT__REGISTERED_PLUGIN_APPS__)!=null||(Zx.__VUE_DEVTOOLS_KIT__REGISTERED_PLUGIN_APPS__=new Set);function Dhe(e,t){const[n,i]=e;if(n.app!==t)return;const r=new khe({plugin:{setupFn:i,descriptor:n},ctx:nd});n.packageName==="vuex"&&r.on.editInspectorState(s=>{r.sendInspectorState(s.inspectorId)}),i(r)}function Rhe(e){Ye.__VUE_DEVTOOLS_KIT__REGISTERED_PLUGIN_APPS__.has(e)||(Ye.__VUE_DEVTOOLS_KIT__REGISTERED_PLUGIN_APPS__.add(e),DC.forEach(t=>{Dhe(t,e)}))}De();De();var eh="__VUE_DEVTOOLS_ROUTER__",Tc="__VUE_DEVTOOLS_ROUTER_INFO__",tD,nD;(nD=(tD=Ye)[Tc])!=null||(tD[Tc]={currentRoute:null,routes:[]});var iD,rD;(rD=(iD=Ye)[eh])!=null||(iD[eh]={});new Proxy(Ye[Tc],{get(e,t){return Ye[Tc][t]}});new Proxy(Ye[eh],{get(e,t){if(t==="value")return Ye[eh]}});function Ohe(e){const t=new Map;return((e==null?void 0:e.getRoutes())||[]).filter(n=>!t.has(n.path)&&t.set(n.path,1))}function OC(e){return e.map(t=>{let{path:n,name:i,children:r,meta:s}=t;return r!=null&&r.length&&(r=OC(r)),{path:n,name:i,children:r,meta:s}})}function Vhe(e){if(e){const{fullPath:t,hash:n,href:i,path:r,name:s,matched:o,params:a,query:l}=e;return{fullPath:t,hash:n,href:i,path:r,name:s,params:a,query:l,matched:OC(o)}}return e}function Nhe(e,t){function n(){var i;const r=(i=e.app)==null?void 0:i.config.globalProperties.$router,s=Vhe(r==null?void 0:r.currentRoute.value),o=OC(Ohe(r)),a=console.warn;console.warn=()=>{},Ye[Tc]={currentRoute:s?Ax(s):{},routes:Ax(o)},Ye[eh]=r,console.warn=a}n(),Ehe.on.componentUpdated(M_(()=>{var i;((i=t.value)==null?void 0:i.app)===e.app&&(n(),nd.hooks.callHook("routerInfoUpdated",{state:Ye[Tc]}))},200))}function Mhe(e){return{async getInspectorTree(t){const n={...t,app:ir.value.app,rootNodes:[]};return await new Promise(i=>{e.callHookWith(async r=>{await Promise.all(r.map(s=>s(n))),i()},"getInspectorTree")}),n.rootNodes},async getInspectorState(t){const n={...t,app:ir.value.app,state:null},i={currentTab:`custom-inspector:${t.inspectorId}`};return await new Promise(r=>{e.callHookWith(async s=>{await Promise.all(s.map(o=>o(n,i))),r()},"getInspectorState")}),n.state},editInspectorState(t){const n=new jfe,i={...t,app:ir.value.app,set:(r,s=t.path,o=t.state.value,a)=>{n.set(r,s,o,a||n.createDefaultSetCallback(t.state))}};e.callHookWith(r=>{r.forEach(s=>s(i))},"editInspectorState")},sendInspectorState(t){const n=bm(t);e.callHook("sendInspectorState",{inspectorId:t,plugin:{descriptor:n.descriptor,setupFn:()=>({})}})},inspectComponentInspector(){return ihe()},cancelInspectComponentInspector(){return nhe()},getComponentRenderCode(t){const n=Lw(ir.value,t);if(n)return(n==null?void 0:n.type)instanceof Function?n.type.toString():n.render.toString()},scrollToComponent(t){return rhe({id:t})},openInEditor:_he,getVueInspector:ahe,toggleApp(t){const n=F_.value.find(i=>i.id===t);n&&(phe(t),ghe(n),Nhe(n,ir),hU(),Rhe(n.app))},inspectDOM(t){const n=Lw(ir.value,t);if(n){const[i]=TC(n);i&&(Ye.__VUE_DEVTOOLS_INSPECT_DOM_TARGET__=i)}},updatePluginSettings(t,n,i){whe(t,n,i)},getPluginSettings(t){return{options:yhe(t),values:gU(t)}}}}De();var sD,oD;(oD=(sD=Ye).__VUE_DEVTOOLS_ENV__)!=null||(sD.__VUE_DEVTOOLS_ENV__={vitePluginDetected:!1});var aD=hhe(),lD,uD;(uD=(lD=Ye).__VUE_DEVTOOLS_KIT_CONTEXT__)!=null||(lD.__VUE_DEVTOOLS_KIT_CONTEXT__={hooks:aD,get state(){return{...wl,activeAppRecordId:ir.id,activeAppRecord:ir.value,appRecords:F_.value}},api:Mhe(aD)});var nd=Ye.__VUE_DEVTOOLS_KIT_CONTEXT__;De();Vfe(Mfe());var cD,dD;(dD=(cD=Ye).__VUE_DEVTOOLS_NEXT_APP_RECORD_INFO__)!=null||(cD.__VUE_DEVTOOLS_NEXT_APP_RECORD_INFO__={id:0,appIds:new Set});De();function Lhe(e){wl.highPerfModeEnabled=e??!wl.highPerfModeEnabled}De();De();De();function Fhe(e){wl.devtoolsClientDetected={...wl.devtoolsClientDetected,...e};const t=Object.values(wl.devtoolsClientDetected).some(Boolean);Lhe(!t)}var fD,hD;(hD=(fD=Ye).__VUE_DEVTOOLS_UPDATE_CLIENT_DETECTED__)!=null||(fD.__VUE_DEVTOOLS_UPDATE_CLIENT_DETECTED__=Fhe);De();De();De();De();De();De();De();var $he=class{constructor(){this.keyToValue=new Map,this.valueToKey=new Map}set(e,t){this.keyToValue.set(e,t),this.valueToKey.set(t,e)}getByKey(e){return this.keyToValue.get(e)}getByValue(e){return this.valueToKey.get(e)}clear(){this.keyToValue.clear(),this.valueToKey.clear()}},pU=class{constructor(e){this.generateIdentifier=e,this.kv=new $he}register(e,t){this.kv.getByValue(e)||(t||(t=this.generateIdentifier(e)),this.kv.set(t,e))}clear(){this.kv.clear()}getIdentifier(e){return this.kv.getByValue(e)}getValue(e){return this.kv.getByKey(e)}},Bhe=class extends pU{constructor(){super(e=>e.name),this.classToAllowedProps=new Map}register(e,t){typeof t=="object"?(t.allowProps&&this.classToAllowedProps.set(e,t.allowProps),super.register(e,t.identifier)):super.register(e,t)}getAllowedProps(e){return this.classToAllowedProps.get(e)}};De();De();function Uhe(e){if("values"in Object)return Object.values(e);const t=[];for(const n in e)e.hasOwnProperty(n)&&t.push(e[n]);return t}function jhe(e,t){const n=Uhe(e);if("find"in n)return n.find(t);const i=n;for(let r=0;r<i.length;r++){const s=i[r];if(t(s))return s}}function Ic(e,t){Object.entries(e).forEach(([n,i])=>t(i,n))}function wm(e,t){return e.indexOf(t)!==-1}function vD(e,t){for(let n=0;n<e.length;n++){const i=e[n];if(t(i))return i}}var Hhe=class{constructor(){this.transfomers={}}register(e){this.transfomers[e.name]=e}findApplicable(e){return jhe(this.transfomers,t=>t.isApplicable(e))}findByName(e){return this.transfomers[e]}};De();De();var Whe=e=>Object.prototype.toString.call(e).slice(8,-1),_U=e=>typeof e>"u",zhe=e=>e===null,th=e=>typeof e!="object"||e===null||e===Object.prototype?!1:Object.getPrototypeOf(e)===null?!0:Object.getPrototypeOf(e)===Object.prototype,Uw=e=>th(e)&&Object.keys(e).length===0,Ca=e=>Array.isArray(e),Ghe=e=>typeof e=="string",qhe=e=>typeof e=="number"&&!isNaN(e),Yhe=e=>typeof e=="boolean",Khe=e=>e instanceof RegExp,nh=e=>e instanceof Map,ih=e=>e instanceof Set,yU=e=>Whe(e)==="Symbol",Xhe=e=>e instanceof Date&&!isNaN(e.valueOf()),Qhe=e=>e instanceof Error,mD=e=>typeof e=="number"&&isNaN(e),Jhe=e=>Yhe(e)||zhe(e)||_U(e)||qhe(e)||Ghe(e)||yU(e),Zhe=e=>typeof e=="bigint",eve=e=>e===1/0||e===-1/0,tve=e=>ArrayBuffer.isView(e)&&!(e instanceof DataView),nve=e=>e instanceof URL;De();var bU=e=>e.replace(/\./g,"\\."),lb=e=>e.map(String).map(bU).join("."),sf=e=>{const t=[];let n="";for(let r=0;r<e.length;r++){let s=e.charAt(r);if(s==="\\"&&e.charAt(r+1)==="."){n+=".",r++;continue}if(s==="."){t.push(n),n="";continue}n+=s}const i=n;return t.push(i),t};De();function ms(e,t,n,i){return{isApplicable:e,annotation:t,transform:n,untransform:i}}var wU=[ms(_U,"undefined",()=>null,()=>{}),ms(Zhe,"bigint",e=>e.toString(),e=>typeof BigInt<"u"?BigInt(e):(console.error("Please add a BigInt polyfill."),e)),ms(Xhe,"Date",e=>e.toISOString(),e=>new Date(e)),ms(Qhe,"Error",(e,t)=>{const n={name:e.name,message:e.message};return t.allowedErrorProps.forEach(i=>{n[i]=e[i]}),n},(e,t)=>{const n=new Error(e.message);return n.name=e.name,n.stack=e.stack,t.allowedErrorProps.forEach(i=>{n[i]=e[i]}),n}),ms(Khe,"regexp",e=>""+e,e=>{const t=e.slice(1,e.lastIndexOf("/")),n=e.slice(e.lastIndexOf("/")+1);return new RegExp(t,n)}),ms(ih,"set",e=>[...e.values()],e=>new Set(e)),ms(nh,"map",e=>[...e.entries()],e=>new Map(e)),ms(e=>mD(e)||eve(e),"number",e=>mD(e)?"NaN":e>0?"Infinity":"-Infinity",Number),ms(e=>e===0&&1/e===-1/0,"number",()=>"-0",Number),ms(nve,"URL",e=>e.toString(),e=>new URL(e))];function $_(e,t,n,i){return{isApplicable:e,annotation:t,transform:n,untransform:i}}var SU=$_((e,t)=>yU(e)?!!t.symbolRegistry.getIdentifier(e):!1,(e,t)=>["symbol",t.symbolRegistry.getIdentifier(e)],e=>e.description,(e,t,n)=>{const i=n.symbolRegistry.getValue(t[1]);if(!i)throw new Error("Trying to deserialize unknown symbol");return i}),ive=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array,Uint8ClampedArray].reduce((e,t)=>(e[t.name]=t,e),{}),EU=$_(tve,e=>["typed-array",e.constructor.name],e=>[...e],(e,t)=>{const n=ive[t[1]];if(!n)throw new Error("Trying to deserialize unknown typed array");return new n(e)});function CU(e,t){return e!=null&&e.constructor?!!t.classRegistry.getIdentifier(e.constructor):!1}var kU=$_(CU,(e,t)=>["class",t.classRegistry.getIdentifier(e.constructor)],(e,t)=>{const n=t.classRegistry.getAllowedProps(e.constructor);if(!n)return{...e};const i={};return n.forEach(r=>{i[r]=e[r]}),i},(e,t,n)=>{const i=n.classRegistry.getValue(t[1]);if(!i)throw new Error("Trying to deserialize unknown class - check https://github.com/blitz-js/superjson/issues/116#issuecomment-773996564");return Object.assign(Object.create(i.prototype),e)}),TU=$_((e,t)=>!!t.customTransformerRegistry.findApplicable(e),(e,t)=>["custom",t.customTransformerRegistry.findApplicable(e).name],(e,t)=>t.customTransformerRegistry.findApplicable(e).serialize(e),(e,t,n)=>{const i=n.customTransformerRegistry.findByName(t[1]);if(!i)throw new Error("Trying to deserialize unknown custom value");return i.deserialize(e)}),rve=[kU,SU,TU,EU],gD=(e,t)=>{const n=vD(rve,r=>r.isApplicable(e,t));if(n)return{value:n.transform(e,t),type:n.annotation(e,t)};const i=vD(wU,r=>r.isApplicable(e,t));if(i)return{value:i.transform(e,t),type:i.annotation}},IU={};wU.forEach(e=>{IU[e.annotation]=e});var sve=(e,t,n)=>{if(Ca(t))switch(t[0]){case"symbol":return SU.untransform(e,t,n);case"class":return kU.untransform(e,t,n);case"custom":return TU.untransform(e,t,n);case"typed-array":return EU.untransform(e,t,n);default:throw new Error("Unknown transformation: "+t)}else{const i=IU[t];if(!i)throw new Error("Unknown transformation: "+t);return i.untransform(e,n)}};De();var $u=(e,t)=>{const n=e.keys();for(;t>0;)n.next(),t--;return n.next().value};function AU(e){if(wm(e,"__proto__"))throw new Error("__proto__ is not allowed as a property");if(wm(e,"prototype"))throw new Error("prototype is not allowed as a property");if(wm(e,"constructor"))throw new Error("constructor is not allowed as a property")}var ove=(e,t)=>{AU(t);for(let n=0;n<t.length;n++){const i=t[n];if(ih(e))e=$u(e,+i);else if(nh(e)){const r=+i,s=+t[++n]==0?"key":"value",o=$u(e,r);switch(s){case"key":e=o;break;case"value":e=e.get(o);break}}else e=e[i]}return e},jw=(e,t,n)=>{if(AU(t),t.length===0)return n(e);let i=e;for(let s=0;s<t.length-1;s++){const o=t[s];if(Ca(i)){const a=+o;i=i[a]}else if(th(i))i=i[o];else if(ih(i)){const a=+o;i=$u(i,a)}else if(nh(i)){if(s===t.length-2)break;const l=+o,u=+t[++s]==0?"key":"value",d=$u(i,l);switch(u){case"key":i=d;break;case"value":i=i.get(d);break}}}const r=t[t.length-1];if(Ca(i)?i[+r]=n(i[+r]):th(i)&&(i[r]=n(i[r])),ih(i)){const s=$u(i,+r),o=n(s);s!==o&&(i.delete(s),i.add(o))}if(nh(i)){const s=+t[t.length-2],o=$u(i,s);switch(+r==0?"key":"value"){case"key":{const l=n(o);i.set(l,i.get(o)),l!==o&&i.delete(o);break}case"value":{i.set(o,n(i.get(o)));break}}}return e};function Hw(e,t,n=[]){if(!e)return;if(!Ca(e)){Ic(e,(s,o)=>Hw(s,t,[...n,...sf(o)]));return}const[i,r]=e;r&&Ic(r,(s,o)=>{Hw(s,t,[...n,...sf(o)])}),t(i,n)}function ave(e,t,n){return Hw(t,(i,r)=>{e=jw(e,r,s=>sve(s,i,n))}),e}function lve(e,t){function n(i,r){const s=ove(e,sf(r));i.map(sf).forEach(o=>{e=jw(e,o,()=>s)})}if(Ca(t)){const[i,r]=t;i.forEach(s=>{e=jw(e,sf(s),()=>e)}),r&&Ic(r,n)}else Ic(t,n);return e}var uve=(e,t)=>th(e)||Ca(e)||nh(e)||ih(e)||CU(e,t);function cve(e,t,n){const i=n.get(e);i?i.push(t):n.set(e,[t])}function dve(e,t){const n={};let i;return e.forEach(r=>{if(r.length<=1)return;t||(r=r.map(a=>a.map(String)).sort((a,l)=>a.length-l.length));const[s,...o]=r;s.length===0?i=o.map(lb):n[lb(s)]=o.map(lb)}),i?Uw(n)?[i]:[i,n]:Uw(n)?void 0:n}var PU=(e,t,n,i,r=[],s=[],o=new Map)=>{var a;const l=Jhe(e);if(!l){cve(e,r,t);const g=o.get(e);if(g)return i?{transformedValue:null}:g}if(!uve(e,n)){const g=gD(e,n),p=g?{transformedValue:g.value,annotations:[g.type]}:{transformedValue:e};return l||o.set(e,p),p}if(wm(s,e))return{transformedValue:null};const u=gD(e,n),d=(a=u==null?void 0:u.value)!=null?a:e,c=Ca(d)?[]:{},f={};Ic(d,(g,p)=>{if(p==="__proto__"||p==="constructor"||p==="prototype")throw new Error(`Detected property ${p}. This is a prototype pollution risk, please remove it from your object.`);const _=PU(g,t,n,i,[...r,p],[...s,e],o);c[p]=_.transformedValue,Ca(_.annotations)?f[p]=_.annotations:th(_.annotations)&&Ic(_.annotations,(y,b)=>{f[bU(p)+"."+b]=y})});const v=Uw(f)?{transformedValue:c,annotations:u?[u.type]:void 0}:{transformedValue:c,annotations:u?[u.type,f]:f};return l||o.set(e,v),v};De();De();function xU(e){return Object.prototype.toString.call(e).slice(8,-1)}function pD(e){return xU(e)==="Array"}function fve(e){if(xU(e)!=="Object")return!1;const t=Object.getPrototypeOf(e);return!!t&&t.constructor===Object&&t===Object.prototype}function hve(e,t,n,i,r){const s={}.propertyIsEnumerable.call(i,t)?"enumerable":"nonenumerable";s==="enumerable"&&(e[t]=n),r&&s==="nonenumerable"&&Object.defineProperty(e,t,{value:n,enumerable:!1,writable:!0,configurable:!0})}function Ww(e,t={}){if(pD(e))return e.map(r=>Ww(r,t));if(!fve(e))return e;const n=Object.getOwnPropertyNames(e),i=Object.getOwnPropertySymbols(e);return[...n,...i].reduce((r,s)=>{if(pD(t.props)&&!t.props.includes(s))return r;const o=e[s],a=Ww(o,t);return hve(r,s,a,e,t.nonenumerable),r},{})}var mn=class{constructor({dedupe:e=!1}={}){this.classRegistry=new Bhe,this.symbolRegistry=new pU(t=>{var n;return(n=t.description)!=null?n:""}),this.customTransformerRegistry=new Hhe,this.allowedErrorProps=[],this.dedupe=e}serialize(e){const t=new Map,n=PU(e,t,this,this.dedupe),i={json:n.transformedValue};n.annotations&&(i.meta={...i.meta,values:n.annotations});const r=dve(t,this.dedupe);return r&&(i.meta={...i.meta,referentialEqualities:r}),i}deserialize(e){const{json:t,meta:n}=e;let i=Ww(t);return n!=null&&n.values&&(i=ave(i,n.values,this)),n!=null&&n.referentialEqualities&&(i=lve(i,n.referentialEqualities)),i}stringify(e){return JSON.stringify(this.serialize(e))}parse(e){return this.deserialize(JSON.parse(e))}registerClass(e,t){this.classRegistry.register(e,t)}registerSymbol(e,t){this.symbolRegistry.register(e,t)}registerCustom(e,t){this.customTransformerRegistry.register({name:t,...e})}allowErrorProps(...e){this.allowedErrorProps.push(...e)}};mn.defaultInstance=new mn;mn.serialize=mn.defaultInstance.serialize.bind(mn.defaultInstance);mn.deserialize=mn.defaultInstance.deserialize.bind(mn.defaultInstance);mn.stringify=mn.defaultInstance.stringify.bind(mn.defaultInstance);mn.parse=mn.defaultInstance.parse.bind(mn.defaultInstance);mn.registerClass=mn.defaultInstance.registerClass.bind(mn.defaultInstance);mn.registerSymbol=mn.defaultInstance.registerSymbol.bind(mn.defaultInstance);mn.registerCustom=mn.defaultInstance.registerCustom.bind(mn.defaultInstance);mn.allowErrorProps=mn.defaultInstance.allowErrorProps.bind(mn.defaultInstance);De();De();De();De();De();De();De();De();De();De();De();De();De();De();De();De();De();De();De();De();De();De();De();var _D,yD;(yD=(_D=Ye).__VUE_DEVTOOLS_KIT_MESSAGE_CHANNELS__)!=null||(_D.__VUE_DEVTOOLS_KIT_MESSAGE_CHANNELS__=[]);var bD,wD;(wD=(bD=Ye).__VUE_DEVTOOLS_KIT_RPC_CLIENT__)!=null||(bD.__VUE_DEVTOOLS_KIT_RPC_CLIENT__=null);var SD,ED;(ED=(SD=Ye).__VUE_DEVTOOLS_KIT_RPC_SERVER__)!=null||(SD.__VUE_DEVTOOLS_KIT_RPC_SERVER__=null);var CD,kD;(kD=(CD=Ye).__VUE_DEVTOOLS_KIT_VITE_RPC_CLIENT__)!=null||(CD.__VUE_DEVTOOLS_KIT_VITE_RPC_CLIENT__=null);var TD,ID;(ID=(TD=Ye).__VUE_DEVTOOLS_KIT_VITE_RPC_SERVER__)!=null||(TD.__VUE_DEVTOOLS_KIT_VITE_RPC_SERVER__=null);var AD,PD;(PD=(AD=Ye).__VUE_DEVTOOLS_KIT_BROADCAST_RPC_SERVER__)!=null||(AD.__VUE_DEVTOOLS_KIT_BROADCAST_RPC_SERVER__=null);De();De();De();De();De();De();De();/**
  * vee-validate v4.14.3
  * (c) 2024 Abdelrahman Awad
  * @license MIT
  */function Yr(e){return typeof e=="function"}function DU(e){return e==null}const Ac=e=>e!==null&&!!e&&typeof e=="object"&&!Array.isArray(e);function VC(e){return Number(e)>=0}function vve(e){return typeof e=="object"&&e!==null}function mve(e){return e==null?e===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}function xD(e){if(!vve(e)||mve(e)!=="[object Object]")return!1;if(Object.getPrototypeOf(e)===null)return!0;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function rh(e,t){return Object.keys(t).forEach(n=>{if(xD(t[n])&&xD(e[n])){e[n]||(e[n]={}),rh(e[n],t[n]);return}e[n]=t[n]}),e}function Bv(e){const t=e.split(".");if(!t.length)return"";let n=String(t[0]);for(let i=1;i<t.length;i++){if(VC(t[i])){n+=`[${t[i]}]`;continue}n+=`.${t[i]}`}return n}const gve={};function pve(e){return gve[e]}function DD(e,t,n){typeof n.value=="object"&&(n.value=hn(n.value)),!n.enumerable||n.get||n.set||!n.configurable||!n.writable||t==="__proto__"?Object.defineProperty(e,t,n):e[t]=n.value}function hn(e){if(typeof e!="object")return e;var t=0,n,i,r,s=Object.prototype.toString.call(e);if(s==="[object Object]"?r=Object.create(e.__proto__||null):s==="[object Array]"?r=Array(e.length):s==="[object Set]"?(r=new Set,e.forEach(function(o){r.add(hn(o))})):s==="[object Map]"?(r=new Map,e.forEach(function(o,a){r.set(hn(a),hn(o))})):s==="[object Date]"?r=new Date(+e):s==="[object RegExp]"?r=new RegExp(e.source,e.flags):s==="[object DataView]"?r=new e.constructor(hn(e.buffer)):s==="[object ArrayBuffer]"?r=e.slice(0):s.slice(-6)==="Array]"&&(r=new e.constructor(e)),r){for(i=Object.getOwnPropertySymbols(e);t<i.length;t++)DD(r,i[t],Object.getOwnPropertyDescriptor(e,i[t]));for(t=0,i=Object.getOwnPropertyNames(e);t<i.length;t++)Object.hasOwnProperty.call(r,n=i[t])&&r[n]===e[n]||DD(r,n,Object.getOwnPropertyDescriptor(e,n))}return r||e}const _ve=Symbol("vee-validate-form"),yve=Symbol("vee-validate-form-context"),bve=typeof window<"u";function wve(e){return Yr(e)&&!!e.__locatorRef}function sa(e){return!!e&&Yr(e.parse)&&e.__type==="VVTypedSchema"}function RU(e){return!!e&&Yr(e.validate)}function Sve(e){return e==="checkbox"||e==="radio"}function Eve(e){return Ac(e)||Array.isArray(e)}function Cve(e){return Array.isArray(e)?e.length===0:Ac(e)&&Object.keys(e).length===0}function B_(e){return/^\[.+\]$/i.test(e)}function kve(e){return OU(e)&&e.multiple}function OU(e){return e.tagName==="SELECT"}function Tve(e){return VU(e)&&e.target&&"submit"in e.target}function VU(e){return e?!!(typeof Event<"u"&&Yr(Event)&&e instanceof Event||e&&e.srcElement):!1}function of(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var n,i,r;if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(i=n;i--!==0;)if(!of(e[i],t[i]))return!1;return!0}if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(i of e.entries())if(!t.has(i[0]))return!1;for(i of e.entries())if(!of(i[1],t.get(i[0])))return!1;return!0}if(RD(e)&&RD(t))return!(e.size!==t.size||e.name!==t.name||e.lastModified!==t.lastModified||e.type!==t.type);if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(i of e.entries())if(!t.has(i[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(n=e.length,n!=t.length)return!1;for(i=n;i--!==0;)if(e[i]!==t[i])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();for(r=Object.keys(e),n=r.length,i=n;i--!==0;){var s=r[i];if(!of(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function RD(e){return bve?e instanceof File:!1}function NC(e){return B_(e)?e.replace(/\[|\]/gi,""):e}function so(e,t,n){return e?B_(t)?e[NC(t)]:(t||"").split(/\.|\[(\d+)\]/).filter(Boolean).reduce((r,s)=>Eve(r)&&s in r?r[s]:n,e):n}function eo(e,t,n){if(B_(t)){e[NC(t)]=n;return}const i=t.split(/\.|\[(\d+)\]/).filter(Boolean);let r=e;for(let s=0;s<i.length;s++){if(s===i.length-1){r[i[s]]=n;return}(!(i[s]in r)||DU(r[i[s]]))&&(r[i[s]]=VC(i[s+1])?[]:{}),r=r[i[s]]}}function ub(e,t){if(Array.isArray(e)&&VC(t)){e.splice(Number(t),1);return}Ac(e)&&delete e[t]}function OD(e,t){if(B_(t)){delete e[NC(t)];return}const n=t.split(/\.|\[(\d+)\]/).filter(Boolean);let i=e;for(let s=0;s<n.length;s++){if(s===n.length-1){ub(i,n[s]);break}if(!(n[s]in i)||DU(i[n[s]]))break;i=i[n[s]]}const r=n.map((s,o)=>so(e,n.slice(0,o).join(".")));for(let s=r.length-1;s>=0;s--)if(Cve(r[s])){if(s===0){ub(e,n[0]);continue}ub(r[s-1],n[s-1])}}function Vr(e){return Object.keys(e)}function VD(e,t=0){let n=null,i=[];return function(...r){return n&&clearTimeout(n),n=setTimeout(()=>{const s=e(...r);i.forEach(o=>o(s)),i=[]},t),new Promise(s=>i.push(s))}}function Ive(e,t){let n;return async function(...r){const s=e(...r);n=s;const o=await s;return s!==n?o:(n=void 0,t(o,r))}}function ND(e){return Array.isArray(e)?e:e?[e]:[]}function Uv(e,t){const n={};for(const i in e)t.includes(i)||(n[i]=e[i]);return n}function Ave(e){let t=null,n=[];return function(...i){const r=ot(()=>{if(t!==r)return;const s=e(...i);n.forEach(o=>o(s)),n=[],t=null});return t=r,new Promise(s=>n.push(s))}}function cb(e){if(NU(e))return e._value}function NU(e){return"_value"in e}function Pve(e){return e.type==="number"||e.type==="range"?Number.isNaN(e.valueAsNumber)?e.value:e.valueAsNumber:e.value}function MD(e){if(!VU(e))return e;const t=e.target;if(Sve(t.type)&&NU(t))return cb(t);if(t.type==="file"&&t.files){const n=Array.from(t.files);return t.multiple?n:n[0]}if(kve(t))return Array.from(t.options).filter(n=>n.selected&&!n.disabled).map(cb);if(OU(t)){const n=Array.from(t.options).find(i=>i.selected);return n?cb(n):t.value}return Pve(t)}function xve(e){const t={};return Object.defineProperty(t,"_$$isNormalized",{value:!0,writable:!1,enumerable:!1,configurable:!1}),e?Ac(e)&&e._$$isNormalized?e:Ac(e)?Object.keys(e).reduce((n,i)=>{const r=Dve(e[i]);return e[i]!==!1&&(n[i]=LD(r)),n},t):typeof e!="string"?t:e.split("|").reduce((n,i)=>{const r=Rve(i);return r.name&&(n[r.name]=LD(r.params)),n},t):t}function Dve(e){return e===!0?[]:Array.isArray(e)||Ac(e)?e:[e]}function LD(e){const t=n=>typeof n=="string"&&n[0]==="@"?Ove(n.slice(1)):n;return Array.isArray(e)?e.map(t):e instanceof RegExp?[e]:Object.keys(e).reduce((n,i)=>(n[i]=t(e[i]),n),{})}const Rve=e=>{let t=[];const n=e.split(":")[0];return e.includes(":")&&(t=e.split(":").slice(1).join(":").split(",")),{name:n,params:t}};function Ove(e){const t=n=>{var i;return(i=so(n,e))!==null&&i!==void 0?i:n[e]};return t.__locatorRef=e,t}const Vve={generateMessage:({field:e})=>`${e} is not valid.`,bails:!0,validateOnBlur:!0,validateOnChange:!0,validateOnInput:!1,validateOnModelUpdate:!0};let Nve=Object.assign({},Vve);const Fd=()=>Nve;async function Mve(e,t,n={}){const i=n==null?void 0:n.bails,r={name:(n==null?void 0:n.name)||"{field}",rules:t,label:n==null?void 0:n.label,bails:i??!0,formData:(n==null?void 0:n.values)||{}},s=await Lve(r,e);return Object.assign(Object.assign({},s),{valid:!s.errors.length})}async function Lve(e,t){const n=e.rules;if(sa(n)||RU(n))return $ve(t,Object.assign(Object.assign({},e),{rules:n}));if(Yr(n)||Array.isArray(n)){const a={field:e.label||e.name,name:e.name,label:e.label,form:e.formData,value:t},l=Array.isArray(n)?n:[n],u=l.length,d=[];for(let c=0;c<u;c++){const f=l[c],v=await f(t,a);if(!(typeof v!="string"&&!Array.isArray(v)&&v)){if(Array.isArray(v))d.push(...v);else{const p=typeof v=="string"?v:LU(a);d.push(p)}if(e.bails)return{errors:d}}}return{errors:d}}const i=Object.assign(Object.assign({},e),{rules:xve(n)}),r=[],s=Object.keys(i.rules),o=s.length;for(let a=0;a<o;a++){const l=s[a],u=await Bve(i,t,{name:l,params:i.rules[l]});if(u.error&&(r.push(u.error),e.bails))return{errors:r}}return{errors:r}}function Fve(e){return!!e&&e.name==="ValidationError"}function MU(e){return{__type:"VVTypedSchema",async parse(n,i){var r;try{return{output:await e.validate(n,{abortEarly:!1,context:(i==null?void 0:i.formData)||{}}),errors:[]}}catch(s){if(!Fve(s))throw s;if(!(!((r=s.inner)===null||r===void 0)&&r.length)&&s.errors.length)return{errors:[{path:s.path,errors:s.errors}]};const o=s.inner.reduce((a,l)=>{const u=l.path||"";return a[u]||(a[u]={errors:[],path:u}),a[u].errors.push(...l.errors),a},{});return{errors:Object.values(o)}}}}}async function $ve(e,t){const i=await(sa(t.rules)?t.rules:MU(t.rules)).parse(e,{formData:t.formData}),r=[];for(const s of i.errors)s.errors.length&&r.push(...s.errors);return{value:i.value,errors:r}}async function Bve(e,t,n){const i=pve(n.name);if(!i)throw new Error(`No such validator '${n.name}' exists.`);const r=Uve(n.params,e.formData),s={field:e.label||e.name,name:e.name,label:e.label,value:t,form:e.formData,rule:Object.assign(Object.assign({},n),{params:r})},o=await i(t,r,s);return typeof o=="string"?{error:o}:{error:o?void 0:LU(s)}}function LU(e){const t=Fd().generateMessage;return t?t(e):"Field is invalid"}function Uve(e,t){const n=i=>wve(i)?i(t):i;return Array.isArray(e)?e.map(n):Object.keys(e).reduce((i,r)=>(i[r]=n(e[r]),i),{})}async function jve(e,t){const i=await(sa(e)?e:MU(e)).parse(hn(t),{formData:hn(t)}),r={},s={};for(const o of i.errors){const a=o.errors,l=(o.path||"").replace(/\["(\d+)"\]/g,(u,d)=>`[${d}]`);r[l]={valid:!a.length,errors:a},a.length&&(s[l]=a[0])}return{valid:!i.errors.length,results:r,errors:s,values:i.value,source:"schema"}}async function Hve(e,t,n){const r=Vr(e).map(async u=>{var d,c,f;const v=(d=n==null?void 0:n.names)===null||d===void 0?void 0:d[u],g=await Mve(so(t,u),e[u],{name:(v==null?void 0:v.name)||u,label:v==null?void 0:v.label,values:t,bails:(f=(c=n==null?void 0:n.bailsMap)===null||c===void 0?void 0:c[u])!==null&&f!==void 0?f:!0});return Object.assign(Object.assign({},g),{path:u})});let s=!0;const o=await Promise.all(r),a={},l={};for(const u of o)a[u.path]={valid:u.valid,errors:u.errors},u.valid||(s=!1,l[u.path]=u.errors[0]);return{valid:s,results:a,errors:l,source:"schema"}}let Wve=0;const jv=["bails","fieldsCount","id","multiple","type","validate"];function FU(e){const t=(e==null?void 0:e.initialValues)||{},n=Object.assign({},fn(t)),i=se(e==null?void 0:e.validationSchema);return i&&sa(i)&&Yr(i.cast)?hn(i.cast(n)||{}):hn(n)}function ka(e){var t;const n=Wve++;let i=0;const r=z(!1),s=z(!1),o=z(0),a=[],l=cn(FU(e)),u=z([]),d=z({}),c=z({}),f=Ave(()=>{c.value=u.value.reduce((le,re)=>(le[Bv(fn(re.path))]=re,le),{})});function v(le,re){const we=j(le);if(!we){typeof le=="string"&&(d.value[Bv(le)]=ND(re));return}if(typeof le=="string"){const Fe=Bv(le);d.value[Fe]&&delete d.value[Fe]}we.errors=ND(re),we.valid=!we.errors.length}function g(le){Vr(le).forEach(re=>{v(re,le[re])})}e!=null&&e.initialErrors&&g(e.initialErrors);const p=I(()=>{const le=u.value.reduce((re,we)=>(we.errors.length&&(re[we.path]=we.errors),re),{});return Object.assign(Object.assign({},d.value),le)}),_=I(()=>Vr(p.value).reduce((le,re)=>{const we=p.value[re];return we!=null&&we.length&&(le[re]=we[0]),le},{})),y=I(()=>u.value.reduce((le,re)=>(le[re.path]={name:re.path||"",label:re.label||""},le),{})),b=I(()=>u.value.reduce((le,re)=>{var we;return le[re.path]=(we=re.bails)!==null&&we!==void 0?we:!0,le},{})),E=Object.assign({},(e==null?void 0:e.initialErrors)||{}),k=(t=e==null?void 0:e.keepValuesOnUnmount)!==null&&t!==void 0?t:!1,{initialValues:R,originalInitialValues:O,setInitialValues:D}=Gve(u,l,e),S=zve(u,l,O,_),w=I(()=>u.value.reduce((le,re)=>{const we=so(l,re.path);return eo(le,re.path,we),le},{})),C=e==null?void 0:e.validationSchema;function A(le,re){var we,Fe;const et=I(()=>so(R.value,fn(le))),ft=c.value[fn(le)],qe=(re==null?void 0:re.type)==="checkbox"||(re==null?void 0:re.type)==="radio";if(ft&&qe){ft.multiple=!0;const Ii=i++;return Array.isArray(ft.id)?ft.id.push(Ii):ft.id=[ft.id,Ii],ft.fieldsCount++,ft.__flags.pendingUnmount[Ii]=!1,ft}const kt=I(()=>so(l,fn(le))),on=fn(le),ti=W.findIndex(Ii=>Ii===on);ti!==-1&&W.splice(ti,1);const Zt=I(()=>{var Ii,dr,du,Lo;const fu=fn(C);if(sa(fu))return(dr=(Ii=fu.describe)===null||Ii===void 0?void 0:Ii.call(fu,fn(le)).required)!==null&&dr!==void 0?dr:!1;const qs=fn(re==null?void 0:re.schema);return sa(qs)&&(Lo=(du=qs.describe)===null||du===void 0?void 0:du.call(qs).required)!==null&&Lo!==void 0?Lo:!1}),Fn=i++,si=cn({id:Fn,path:le,touched:!1,pending:!1,valid:!0,validated:!!(!((we=E[on])===null||we===void 0)&&we.length),required:Zt,initialValue:et,errors:Te([]),bails:(Fe=re==null?void 0:re.bails)!==null&&Fe!==void 0?Fe:!1,label:re==null?void 0:re.label,type:(re==null?void 0:re.type)||"default",value:kt,multiple:!1,__flags:{pendingUnmount:{[Fn]:!1},pendingReset:!1},fieldsCount:1,validate:re==null?void 0:re.validate,dirty:I(()=>!of(se(kt),se(et)))});return u.value.push(si),c.value[on]=si,f(),_.value[on]&&!E[on]&&ot(()=>{Pe(on,{mode:"silent"})}),Qe(le)&&ge(le,Ii=>{f();const dr=hn(kt.value);c.value[Ii]=si,ot(()=>{eo(l,Ii,dr)})}),si}const P=VD(ze,5),x=VD(ze,5),U=Ive(async le=>await(le==="silent"?P():x()),(le,[re])=>{const we=Vr(Q.errorBag.value),et=[...new Set([...Vr(le.results),...u.value.map(ft=>ft.path),...we])].sort().reduce((ft,qe)=>{var kt;const on=qe,ti=j(on)||Y(on),Zt=((kt=le.results[on])===null||kt===void 0?void 0:kt.errors)||[],Fn=fn(ti==null?void 0:ti.path)||on,si=qve({errors:Zt,valid:!Zt.length},ft.results[Fn]);return ft.results[Fn]=si,si.valid||(ft.errors[Fn]=si.errors[0]),ti&&d.value[Fn]&&delete d.value[Fn],ti?(ti.valid=si.valid,re==="silent"||re==="validated-only"&&!ti.validated||v(ti,si.errors),ft):(v(Fn,Zt),ft)},{valid:le.valid,results:{},errors:{},source:le.source});return le.values&&(et.values=le.values,et.source=le.source),Vr(et.results).forEach(ft=>{var qe;const kt=j(ft);kt&&re!=="silent"&&(re==="validated-only"&&!kt.validated||v(kt,(qe=et.results[ft])===null||qe===void 0?void 0:qe.errors))}),et});function $(le){u.value.forEach(le)}function j(le){const re=typeof le=="string"?Bv(le):le;return typeof re=="string"?c.value[re]:re}function Y(le){return u.value.filter(we=>le.startsWith(we.path)).reduce((we,Fe)=>we?Fe.path.length>we.path.length?Fe:we:Fe,void 0)}let W=[],K;function G(le){return W.push(le),K||(K=ot(()=>{[...W].sort().reverse().forEach(we=>{OD(l,we)}),W=[],K=null})),K}function te(le){return function(we,Fe){return function(ft){return ft instanceof Event&&(ft.preventDefault(),ft.stopPropagation()),$(qe=>qe.touched=!0),r.value=!0,o.value++,me().then(qe=>{const kt=hn(l);if(qe.valid&&typeof we=="function"){const on=hn(w.value);let ti=le?on:kt;return qe.values&&(ti=qe.source==="schema"?qe.values:Object.assign({},ti,qe.values)),we(ti,{evt:ft,controlledValues:on,setErrors:g,setFieldError:v,setTouched:ee,setFieldTouched:ne,setValues:ie,setFieldValue:B,resetForm:ae,resetField:fe})}!qe.valid&&typeof Fe=="function"&&Fe({values:kt,evt:ft,errors:qe.errors,results:qe.results})}).then(qe=>(r.value=!1,qe),qe=>{throw r.value=!1,qe})}}}const _e=te(!1);_e.withControlled=te(!0);function Ae(le,re){const we=u.value.findIndex(et=>et.path===le&&(Array.isArray(et.id)?et.id.includes(re):et.id===re)),Fe=u.value[we];if(!(we===-1||!Fe)){if(ot(()=>{Pe(le,{mode:"silent",warn:!1})}),Fe.multiple&&Fe.fieldsCount&&Fe.fieldsCount--,Array.isArray(Fe.id)){const et=Fe.id.indexOf(re);et>=0&&Fe.id.splice(et,1),delete Fe.__flags.pendingUnmount[re]}(!Fe.multiple||Fe.fieldsCount<=0)&&(u.value.splice(we,1),Ee(le),f(),delete c.value[le])}}function Ne(le){Vr(c.value).forEach(re=>{re.startsWith(le)&&delete c.value[re]}),u.value=u.value.filter(re=>!re.path.startsWith(le)),ot(()=>{f()})}const Q={formId:n,values:l,controlledValues:w,errorBag:p,errors:_,schema:C,submitCount:o,meta:S,isSubmitting:r,isValidating:s,fieldArrays:a,keepValuesOnUnmount:k,validateSchema:se(C)?U:void 0,validate:me,setFieldError:v,validateField:Pe,setFieldValue:B,setValues:ie,setErrors:g,setFieldTouched:ne,setTouched:ee,resetForm:ae,resetField:fe,handleSubmit:_e,useFieldModel:Ce,defineInputBinds:Ze,defineComponentBinds:mt,defineField:He,stageInitialValue:Re,unsetInitialValue:Ee,setFieldInitialValue:be,createPathState:A,getPathState:j,unsetPathValue:G,removePathState:Ae,initialValues:R,getAllPathStates:()=>u.value,destroyPath:Ne,isFieldTouched:Se,isFieldDirty:M,isFieldValid:L};function B(le,re,we=!0){const Fe=hn(re),et=typeof le=="string"?le:le.path;j(et)||A(et),eo(l,et,Fe),we&&Pe(et)}function q(le,re=!0){Vr(l).forEach(we=>{delete l[we]}),Vr(le).forEach(we=>{B(we,le[we],!1)}),re&&me()}function ie(le,re=!0){rh(l,le),a.forEach(we=>we&&we.reset()),re&&me()}function ce(le,re){const we=j(fn(le))||A(le);return I({get(){return we.value},set(Fe){var et;const ft=fn(le);B(ft,Fe,(et=fn(re))!==null&&et!==void 0?et:!1)}})}function ne(le,re){const we=j(le);we&&(we.touched=re)}function Se(le){const re=j(le);return re?re.touched:u.value.filter(we=>we.path.startsWith(le)).some(we=>we.touched)}function M(le){const re=j(le);return re?re.dirty:u.value.filter(we=>we.path.startsWith(le)).some(we=>we.dirty)}function L(le){const re=j(le);return re?re.valid:u.value.filter(we=>we.path.startsWith(le)).every(we=>we.valid)}function ee(le){if(typeof le=="boolean"){$(re=>{re.touched=le});return}Vr(le).forEach(re=>{ne(re,!!le[re])})}function fe(le,re){var we;const Fe=re&&"value"in re?re.value:so(R.value,le),et=j(le);et&&(et.__flags.pendingReset=!0),be(le,hn(Fe),!0),B(le,Fe,!1),ne(le,(we=re==null?void 0:re.touched)!==null&&we!==void 0?we:!1),v(le,(re==null?void 0:re.errors)||[]),ot(()=>{et&&(et.__flags.pendingReset=!1)})}function ae(le,re){let we=hn(le!=null&&le.values?le.values:O.value);we=re!=null&&re.force?we:rh(O.value,we),we=sa(C)&&Yr(C.cast)?C.cast(we):we,D(we,{force:re==null?void 0:re.force}),$(Fe=>{var et;Fe.__flags.pendingReset=!0,Fe.validated=!1,Fe.touched=((et=le==null?void 0:le.touched)===null||et===void 0?void 0:et[Fe.path])||!1,B(Fe.path,so(we,Fe.path),!1),v(Fe.path,void 0)}),re!=null&&re.force?q(we,!1):ie(we,!1),g((le==null?void 0:le.errors)||{}),o.value=(le==null?void 0:le.submitCount)||0,ot(()=>{me({mode:"silent"}),$(Fe=>{Fe.__flags.pendingReset=!1})})}async function me(le){const re=(le==null?void 0:le.mode)||"force";if(re==="force"&&$(qe=>qe.validated=!0),Q.validateSchema)return Q.validateSchema(re);s.value=!0;const we=await Promise.all(u.value.map(qe=>qe.validate?qe.validate(le).then(kt=>({key:qe.path,valid:kt.valid,errors:kt.errors,value:kt.value})):Promise.resolve({key:qe.path,valid:!0,errors:[],value:void 0})));s.value=!1;const Fe={},et={},ft={};for(const qe of we)Fe[qe.key]={valid:qe.valid,errors:qe.errors},qe.value&&eo(ft,qe.key,qe.value),qe.errors.length&&(et[qe.key]=qe.errors[0]);return{valid:we.every(qe=>qe.valid),results:Fe,errors:et,values:ft,source:"fields"}}async function Pe(le,re){var we;const Fe=j(le);if(Fe&&(re==null?void 0:re.mode)!=="silent"&&(Fe.validated=!0),C){const{results:et}=await U((re==null?void 0:re.mode)||"validated-only");return et[le]||{errors:[],valid:!0}}return Fe!=null&&Fe.validate?Fe.validate(re):(!Fe&&(we=re==null?void 0:re.warn),Promise.resolve({errors:[],valid:!0}))}function Ee(le){OD(R.value,le)}function Re(le,re,we=!1){be(le,re),eo(l,le,re),we&&!(e!=null&&e.initialValues)&&eo(O.value,le,hn(re))}function be(le,re,we=!1){eo(R.value,le,hn(re)),we&&eo(O.value,le,hn(re))}async function ze(){const le=se(C);if(!le)return{valid:!0,results:{},errors:{},source:"none"};s.value=!0;const re=RU(le)||sa(le)?await jve(le,l):await Hve(le,l,{names:y.value,bailsMap:b.value});return s.value=!1,re}const Me=_e((le,{evt:re})=>{Tve(re)&&re.target.submit()});yt(()=>{if(e!=null&&e.initialErrors&&g(e.initialErrors),e!=null&&e.initialTouched&&ee(e.initialTouched),e!=null&&e.validateOnMount){me();return}Q.validateSchema&&Q.validateSchema("silent")}),Qe(C)&&ge(C,()=>{var le;(le=Q.validateSchema)===null||le===void 0||le.call(Q,"validated-only")}),Ut(_ve,Q);function He(le,re){const we=Yr(re)||re==null?void 0:re.label,Fe=j(fn(le))||A(le,{label:we}),et=()=>Yr(re)?re(Uv(Fe,jv)):re||{};function ft(){var Zt;Fe.touched=!0,((Zt=et().validateOnBlur)!==null&&Zt!==void 0?Zt:Fd().validateOnBlur)&&Pe(Fe.path)}function qe(){var Zt;((Zt=et().validateOnInput)!==null&&Zt!==void 0?Zt:Fd().validateOnInput)&&ot(()=>{Pe(Fe.path)})}function kt(){var Zt;((Zt=et().validateOnChange)!==null&&Zt!==void 0?Zt:Fd().validateOnChange)&&ot(()=>{Pe(Fe.path)})}const on=I(()=>{const Zt={onChange:kt,onInput:qe,onBlur:ft};return Yr(re)?Object.assign(Object.assign({},Zt),re(Uv(Fe,jv)).props||{}):re!=null&&re.props?Object.assign(Object.assign({},Zt),re.props(Uv(Fe,jv))):Zt});return[ce(le,()=>{var Zt,Fn,si;return(si=(Zt=et().validateOnModelUpdate)!==null&&Zt!==void 0?Zt:(Fn=Fd())===null||Fn===void 0?void 0:Fn.validateOnModelUpdate)!==null&&si!==void 0?si:!0}),on]}function Ce(le){return Array.isArray(le)?le.map(re=>ce(re,!0)):ce(le)}function Ze(le,re){const[we,Fe]=He(le,re);function et(){Fe.value.onBlur()}function ft(kt){const on=MD(kt);B(fn(le),on,!1),Fe.value.onInput()}function qe(kt){const on=MD(kt);B(fn(le),on,!1),Fe.value.onChange()}return I(()=>Object.assign(Object.assign({},Fe.value),{onBlur:et,onInput:ft,onChange:qe,value:we.value}))}function mt(le,re){const[we,Fe]=He(le,re),et=j(fn(le));function ft(qe){we.value=qe}return I(()=>{const qe=Yr(re)?re(Uv(et,jv)):re||{};return Object.assign({[qe.model||"modelValue"]:we.value,[`onUpdate:${qe.model||"modelValue"}`]:ft},Fe.value)})}const xt=Object.assign(Object.assign({},Q),{values:xc(l),handleReset:()=>ae(),submitForm:Me});return Ut(yve,xt),xt}function zve(e,t,n,i){const r={touched:"some",pending:"some",valid:"every"},s=I(()=>!of(t,se(n)));function o(){const l=e.value;return Vr(r).reduce((u,d)=>{const c=r[d];return u[d]=l[c](f=>f[d]),u},{})}const a=cn(o());return rn(()=>{const l=o();a.touched=l.touched,a.valid=l.valid,a.pending=l.pending}),I(()=>Object.assign(Object.assign({initialValues:se(n)},a),{valid:a.valid&&!Vr(i.value).length,dirty:s.value}))}function Gve(e,t,n){const i=FU(n),r=z(i),s=z(hn(i));function o(a,l){l!=null&&l.force?(r.value=hn(a),s.value=hn(a)):(r.value=rh(hn(r.value)||{},hn(a)),s.value=rh(hn(s.value)||{},hn(a))),l!=null&&l.updateFields&&e.value.forEach(u=>{if(u.touched)return;const c=so(r.value,u.path);eo(t,u.path,hn(c))})}return{initialValues:r,originalInitialValues:s,setInitialValues:o}}function qve(e,t){return t?{valid:e.valid&&t.valid,errors:[...e.errors,...t.errors]}:e}function Yve(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function uu(e){this._maxSize=e,this.clear()}uu.prototype.clear=function(){this._size=0,this._values=Object.create(null)};uu.prototype.get=function(e){return this._values[e]};uu.prototype.set=function(e,t){return this._size>=this._maxSize&&this.clear(),e in this._values||this._size++,this._values[e]=t};var Kve=/[^.^\]^[]+|(?=\[\]|\.\.)/g,$U=/^\d+$/,Xve=/^\d/,Qve=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,Jve=/^\s*(['"]?)(.*?)(\1)\s*$/,MC=512,FD=new uu(MC),$D=new uu(MC),BD=new uu(MC),Sl={Cache:uu,split:zw,normalizePath:db,setter:function(e){var t=db(e);return $D.get(e)||$D.set(e,function(i,r){for(var s=0,o=t.length,a=i;s<o-1;){var l=t[s];if(l==="__proto__"||l==="constructor"||l==="prototype")return i;a=a[t[s++]]}a[t[s]]=r})},getter:function(e,t){var n=db(e);return BD.get(e)||BD.set(e,function(r){for(var s=0,o=n.length;s<o;)if(r!=null||!t)r=r[n[s++]];else return;return r})},join:function(e){return e.reduce(function(t,n){return t+(LC(n)||$U.test(n)?"["+n+"]":(t?".":"")+n)},"")},forEach:function(e,t,n){Zve(Array.isArray(e)?e:zw(e),t,n)}};function db(e){return FD.get(e)||FD.set(e,zw(e).map(function(t){return t.replace(Jve,"$2")}))}function zw(e){return e.match(Kve)||[""]}function Zve(e,t,n){var i=e.length,r,s,o,a;for(s=0;s<i;s++)r=e[s],r&&(nme(r)&&(r='"'+r+'"'),a=LC(r),o=!a&&/^\d+$/.test(r),t.call(n,r,a,o,s,e))}function LC(e){return typeof e=="string"&&e&&["'",'"'].indexOf(e.charAt(0))!==-1}function eme(e){return e.match(Xve)&&!e.match($U)}function tme(e){return Qve.test(e)}function nme(e){return!LC(e)&&(eme(e)||tme(e))}const ime=/[A-Z\xc0-\xd6\xd8-\xde]?[a-z\xdf-\xf6\xf8-\xff]+(?:['](?:d|ll|m|re|s|t|ve))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde]|$)|(?:[A-Z\xc0-\xd6\xd8-\xde]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['](?:D|LL|M|RE|S|T|VE))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde](?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])|$)|[A-Z\xc0-\xd6\xd8-\xde]?(?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['](?:d|ll|m|re|s|t|ve))?|[A-Z\xc0-\xd6\xd8-\xde]+(?:['](?:D|LL|M|RE|S|T|VE))?|\d*(?:1ST|2ND|3RD|(?![123])\dTH)(?=\b|[a-z_])|\d*(?:1st|2nd|3rd|(?![123])\dth)(?=\b|[A-Z_])|\d+|(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g,U_=e=>e.match(ime)||[],j_=e=>e[0].toUpperCase()+e.slice(1),FC=(e,t)=>U_(e).join(t).toLowerCase(),BU=e=>U_(e).reduce((t,n)=>`${t}${t?n[0].toUpperCase()+n.slice(1).toLowerCase():n.toLowerCase()}`,""),rme=e=>j_(BU(e)),sme=e=>FC(e,"_"),ome=e=>FC(e,"-"),ame=e=>j_(FC(e," ")),lme=e=>U_(e).map(j_).join(" ");var fb={words:U_,upperFirst:j_,camelCase:BU,pascalCase:rme,snakeCase:sme,kebabCase:ome,sentenceCase:ame,titleCase:lme},$C={exports:{}};$C.exports=function(e){return UU(ume(e),e)};$C.exports.array=UU;function UU(e,t){var n=e.length,i=new Array(n),r={},s=n,o=cme(t),a=dme(e);for(t.forEach(function(u){if(!a.has(u[0])||!a.has(u[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")});s--;)r[s]||l(e[s],s,new Set);return i;function l(u,d,c){if(c.has(u)){var f;try{f=", node was:"+JSON.stringify(u)}catch{f=""}throw new Error("Cyclic dependency"+f)}if(!a.has(u))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(u));if(!r[d]){r[d]=!0;var v=o.get(u)||new Set;if(v=Array.from(v),d=v.length){c.add(u);do{var g=v[--d];l(g,a.get(g),c)}while(d);c.delete(u)}i[--n]=u}}}function ume(e){for(var t=new Set,n=0,i=e.length;n<i;n++){var r=e[n];t.add(r[0]),t.add(r[1])}return Array.from(t)}function cme(e){for(var t=new Map,n=0,i=e.length;n<i;n++){var r=e[n];t.has(r[0])||t.set(r[0],new Set),t.has(r[1])||t.set(r[1],new Set),t.get(r[0]).add(r[1])}return t}function dme(e){for(var t=new Map,n=0,i=e.length;n<i;n++)t.set(e[n],n);return t}var fme=$C.exports;const hme=Yve(fme),vme=Object.prototype.toString,mme=Error.prototype.toString,gme=RegExp.prototype.toString,pme=typeof Symbol<"u"?Symbol.prototype.toString:()=>"",_me=/^Symbol\((.*)\)(.*)$/;function yme(e){return e!=+e?"NaN":e===0&&1/e<0?"-0":""+e}function UD(e,t=!1){if(e==null||e===!0||e===!1)return""+e;const n=typeof e;if(n==="number")return yme(e);if(n==="string")return t?`"${e}"`:e;if(n==="function")return"[Function "+(e.name||"anonymous")+"]";if(n==="symbol")return pme.call(e).replace(_me,"Symbol($1)");const i=vme.call(e).slice(8,-1);return i==="Date"?isNaN(e.getTime())?""+e:e.toISOString(e):i==="Error"||e instanceof Error?"["+mme.call(e)+"]":i==="RegExp"?gme.call(e):null}function po(e,t){let n=UD(e,t);return n!==null?n:JSON.stringify(e,function(i,r){let s=UD(this[i],t);return s!==null?s:r},2)}function jU(e){return e==null?[]:[].concat(e)}let HU,WU,zU,bme=/\$\{\s*(\w+)\s*\}/g;HU=Symbol.toStringTag;class jD{constructor(t,n,i,r){this.name=void 0,this.message=void 0,this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=void 0,this.inner=void 0,this[HU]="Error",this.name="ValidationError",this.value=n,this.path=i,this.type=r,this.errors=[],this.inner=[],jU(t).forEach(s=>{if(rr.isError(s)){this.errors.push(...s.errors);const o=s.inner.length?s.inner:[s];this.inner.push(...o)}else this.errors.push(s)}),this.message=this.errors.length>1?`${this.errors.length} errors occurred`:this.errors[0]}}WU=Symbol.hasInstance;zU=Symbol.toStringTag;class rr extends Error{static formatError(t,n){const i=n.label||n.path||"this";return i!==n.path&&(n=Object.assign({},n,{path:i})),typeof t=="string"?t.replace(bme,(r,s)=>po(n[s])):typeof t=="function"?t(n):t}static isError(t){return t&&t.name==="ValidationError"}constructor(t,n,i,r,s){const o=new jD(t,n,i,r);if(s)return o;super(),this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=[],this.inner=[],this[zU]="Error",this.name=o.name,this.message=o.message,this.type=o.type,this.value=o.value,this.path=o.path,this.errors=o.errors,this.inner=o.inner,Error.captureStackTrace&&Error.captureStackTrace(this,rr)}static[WU](t){return jD[Symbol.hasInstance](t)||super[Symbol.hasInstance](t)}}let ps={default:"${path} is invalid",required:"${path} is a required field",defined:"${path} must be defined",notNull:"${path} cannot be null",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:({path:e,type:t,value:n,originalValue:i})=>{const r=i!=null&&i!==n?` (cast from the value \`${po(i,!0)}\`).`:".";return t!=="mixed"?`${e} must be a \`${t}\` type, but the final value was: \`${po(n,!0)}\``+r:`${e} must match the configured type. The validated value was: \`${po(n,!0)}\``+r}},er={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",datetime:"${path} must be a valid ISO date-time",datetime_precision:"${path} must be a valid ISO date-time with a sub-second precision of exactly ${precision} digits",datetime_offset:'${path} must be a valid ISO date-time with UTC "Z" timezone',trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},Go={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},Gw={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},qw={isValue:"${path} field must be ${value}"},Yw={noUnknown:"${path} field has unspecified keys: ${unknown}"},Sm={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"},wme={notType:e=>{const{path:t,value:n,spec:i}=e,r=i.types.length;if(Array.isArray(n)){if(n.length<r)return`${t} tuple value has too few items, expected a length of ${r} but got ${n.length} for value: \`${po(n,!0)}\``;if(n.length>r)return`${t} tuple value has too many items, expected a length of ${r} but got ${n.length} for value: \`${po(n,!0)}\``}return rr.formatError(ps.notType,e)}};Object.assign(Object.create(null),{mixed:ps,string:er,number:Go,date:Gw,object:Yw,array:Sm,boolean:qw,tuple:wme});const H_=e=>e&&e.__isYupSchema__;class Rg{static fromOptions(t,n){if(!n.then&&!n.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");let{is:i,then:r,otherwise:s}=n,o=typeof i=="function"?i:(...a)=>a.every(l=>l===i);return new Rg(t,(a,l)=>{var u;let d=o(...a)?r:s;return(u=d==null?void 0:d(l))!=null?u:l})}constructor(t,n){this.fn=void 0,this.refs=t,this.refs=t,this.fn=n}resolve(t,n){let i=this.refs.map(s=>s.getValue(n==null?void 0:n.value,n==null?void 0:n.parent,n==null?void 0:n.context)),r=this.fn(i,t,n);if(r===void 0||r===t)return t;if(!H_(r))throw new TypeError("conditions must return a schema object");return r.resolve(n)}}const Hv={context:"$",value:"."};function Sme(e,t){return new Ba(e,t)}class Ba{constructor(t,n={}){if(this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,typeof t!="string")throw new TypeError("ref must be a string, got: "+t);if(this.key=t.trim(),t==="")throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===Hv.context,this.isValue=this.key[0]===Hv.value,this.isSibling=!this.isContext&&!this.isValue;let i=this.isContext?Hv.context:this.isValue?Hv.value:"";this.path=this.key.slice(i.length),this.getter=this.path&&Sl.getter(this.path,!0),this.map=n.map}getValue(t,n,i){let r=this.isContext?i:this.isValue?t:n;return this.getter&&(r=this.getter(r||{})),this.map&&(r=this.map(r)),r}cast(t,n){return this.getValue(t,n==null?void 0:n.parent,n==null?void 0:n.context)}resolve(){return this}describe(){return{type:"ref",key:this.key}}toString(){return`Ref(${this.key})`}static isRef(t){return t&&t.__isYupRef}}Ba.prototype.__isYupRef=!0;const Zr=e=>e==null;function Eu(e){function t({value:n,path:i="",options:r,originalValue:s,schema:o},a,l){const{name:u,test:d,params:c,message:f,skipAbsent:v}=e;let{parent:g,context:p,abortEarly:_=o.spec.abortEarly,disableStackTrace:y=o.spec.disableStackTrace}=r;function b(A){return Ba.isRef(A)?A.getValue(n,g,p):A}function E(A={}){const P=Object.assign({value:n,originalValue:s,label:o.spec.label,path:A.path||i,spec:o.spec,disableStackTrace:A.disableStackTrace||y},c,A.params);for(const U of Object.keys(P))P[U]=b(P[U]);const x=new rr(rr.formatError(A.message||f,P),n,P.path,A.type||u,P.disableStackTrace);return x.params=P,x}const k=_?a:l;let R={path:i,parent:g,type:u,from:r.from,createError:E,resolve:b,options:r,originalValue:s,schema:o};const O=A=>{rr.isError(A)?k(A):A?l(null):k(E())},D=A=>{rr.isError(A)?k(A):a(A)};if(v&&Zr(n))return O(!0);let w;try{var C;if(w=d.call(R,n,R),typeof((C=w)==null?void 0:C.then)=="function"){if(r.sync)throw new Error(`Validation test of type: "${R.type}" returned a Promise during a synchronous validate. This test will finish after the validate call has returned`);return Promise.resolve(w).then(O,D)}}catch(A){D(A);return}O(w)}return t.OPTIONS=e,t}function Eme(e,t,n,i=n){let r,s,o;return t?(Sl.forEach(t,(a,l,u)=>{let d=l?a.slice(1,a.length-1):a;e=e.resolve({context:i,parent:r,value:n});let c=e.type==="tuple",f=u?parseInt(d,10):0;if(e.innerType||c){if(c&&!u)throw new Error(`Yup.reach cannot implicitly index into a tuple type. the path part "${o}" must contain an index to the tuple element, e.g. "${o}[0]"`);if(n&&f>=n.length)throw new Error(`Yup.reach cannot resolve an array item at index: ${a}, in the path: ${t}. because there is no value at that index. `);r=n,n=n&&n[f],e=c?e.spec.types[f]:e.innerType}if(!u){if(!e.fields||!e.fields[d])throw new Error(`The schema does not contain the path: ${t}. (failed at: ${o} which is a type: "${e.type}")`);r=n,n=n&&n[d],e=e.fields[d]}s=d,o=l?"["+a+"]":"."+a}),{schema:e,parent:r,parentPath:s}):{parent:r,parentPath:t,schema:e}}class Og extends Set{describe(){const t=[];for(const n of this.values())t.push(Ba.isRef(n)?n.describe():n);return t}resolveAll(t){let n=[];for(const i of this.values())n.push(t(i));return n}clone(){return new Og(this.values())}merge(t,n){const i=this.clone();return t.forEach(r=>i.add(r)),n.forEach(r=>i.delete(r)),i}}function Bu(e,t=new Map){if(H_(e)||!e||typeof e!="object")return e;if(t.has(e))return t.get(e);let n;if(e instanceof Date)n=new Date(e.getTime()),t.set(e,n);else if(e instanceof RegExp)n=new RegExp(e),t.set(e,n);else if(Array.isArray(e)){n=new Array(e.length),t.set(e,n);for(let i=0;i<e.length;i++)n[i]=Bu(e[i],t)}else if(e instanceof Map){n=new Map,t.set(e,n);for(const[i,r]of e.entries())n.set(i,Bu(r,t))}else if(e instanceof Set){n=new Set,t.set(e,n);for(const i of e)n.add(Bu(i,t))}else if(e instanceof Object){n={},t.set(e,n);for(const[i,r]of Object.entries(e))n[i]=Bu(r,t)}else throw Error(`Unable to clone ${e}`);return n}class Tr{constructor(t){this.type=void 0,this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this.internalTests={},this._whitelist=new Og,this._blacklist=new Og,this.exclusiveTests=Object.create(null),this._typeCheck=void 0,this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation(()=>{this.typeError(ps.notType)}),this.type=t.type,this._typeCheck=t.check,this.spec=Object.assign({strip:!1,strict:!1,abortEarly:!0,recursive:!0,disableStackTrace:!1,nullable:!1,optional:!0,coerce:!0},t==null?void 0:t.spec),this.withMutation(n=>{n.nonNullable()})}get _type(){return this.type}clone(t){if(this._mutate)return t&&Object.assign(this.spec,t),this;const n=Object.create(Object.getPrototypeOf(this));return n.type=this.type,n._typeCheck=this._typeCheck,n._whitelist=this._whitelist.clone(),n._blacklist=this._blacklist.clone(),n.internalTests=Object.assign({},this.internalTests),n.exclusiveTests=Object.assign({},this.exclusiveTests),n.deps=[...this.deps],n.conditions=[...this.conditions],n.tests=[...this.tests],n.transforms=[...this.transforms],n.spec=Bu(Object.assign({},this.spec,t)),n}label(t){let n=this.clone();return n.spec.label=t,n}meta(...t){if(t.length===0)return this.spec.meta;let n=this.clone();return n.spec.meta=Object.assign(n.spec.meta||{},t[0]),n}withMutation(t){let n=this._mutate;this._mutate=!0;let i=t(this);return this._mutate=n,i}concat(t){if(!t||t===this)return this;if(t.type!==this.type&&this.type!=="mixed")throw new TypeError(`You cannot \`concat()\` schema's of different types: ${this.type} and ${t.type}`);let n=this,i=t.clone();const r=Object.assign({},n.spec,i.spec);return i.spec=r,i.internalTests=Object.assign({},n.internalTests,i.internalTests),i._whitelist=n._whitelist.merge(t._whitelist,t._blacklist),i._blacklist=n._blacklist.merge(t._blacklist,t._whitelist),i.tests=n.tests,i.exclusiveTests=n.exclusiveTests,i.withMutation(s=>{t.tests.forEach(o=>{s.test(o.OPTIONS)})}),i.transforms=[...n.transforms,...i.transforms],i}isType(t){return t==null?!!(this.spec.nullable&&t===null||this.spec.optional&&t===void 0):this._typeCheck(t)}resolve(t){let n=this;if(n.conditions.length){let i=n.conditions;n=n.clone(),n.conditions=[],n=i.reduce((r,s)=>s.resolve(r,t),n),n=n.resolve(t)}return n}resolveOptions(t){var n,i,r,s;return Object.assign({},t,{from:t.from||[],strict:(n=t.strict)!=null?n:this.spec.strict,abortEarly:(i=t.abortEarly)!=null?i:this.spec.abortEarly,recursive:(r=t.recursive)!=null?r:this.spec.recursive,disableStackTrace:(s=t.disableStackTrace)!=null?s:this.spec.disableStackTrace})}cast(t,n={}){let i=this.resolve(Object.assign({value:t},n)),r=n.assert==="ignore-optionality",s=i._cast(t,n);if(n.assert!==!1&&!i.isType(s)){if(r&&Zr(s))return s;let o=po(t),a=po(s);throw new TypeError(`The value of ${n.path||"field"} could not be cast to a value that satisfies the schema type: "${i.type}". 

attempted value: ${o} 
`+(a!==o?`result of cast: ${a}`:""))}return s}_cast(t,n){let i=t===void 0?t:this.transforms.reduce((r,s)=>s.call(this,r,t,this),t);return i===void 0&&(i=this.getDefault(n)),i}_validate(t,n={},i,r){let{path:s,originalValue:o=t,strict:a=this.spec.strict}=n,l=t;a||(l=this._cast(l,Object.assign({assert:!1},n)));let u=[];for(let d of Object.values(this.internalTests))d&&u.push(d);this.runTests({path:s,value:l,originalValue:o,options:n,tests:u},i,d=>{if(d.length)return r(d,l);this.runTests({path:s,value:l,originalValue:o,options:n,tests:this.tests},i,r)})}runTests(t,n,i){let r=!1,{tests:s,value:o,originalValue:a,path:l,options:u}=t,d=p=>{r||(r=!0,n(p,o))},c=p=>{r||(r=!0,i(p,o))},f=s.length,v=[];if(!f)return c([]);let g={value:o,originalValue:a,path:l,options:u,schema:this};for(let p=0;p<s.length;p++){const _=s[p];_(g,d,function(b){b&&(Array.isArray(b)?v.push(...b):v.push(b)),--f<=0&&c(v)})}}asNestedTest({key:t,index:n,parent:i,parentPath:r,originalParent:s,options:o}){const a=t??n;if(a==null)throw TypeError("Must include `key` or `index` for nested validations");const l=typeof a=="number";let u=i[a];const d=Object.assign({},o,{strict:!0,parent:i,value:u,originalValue:s[a],key:void 0,[l?"index":"key"]:a,path:l||a.includes(".")?`${r||""}[${l?a:`"${a}"`}]`:(r?`${r}.`:"")+t});return(c,f,v)=>this.resolve(d)._validate(u,d,f,v)}validate(t,n){var i;let r=this.resolve(Object.assign({},n,{value:t})),s=(i=n==null?void 0:n.disableStackTrace)!=null?i:r.spec.disableStackTrace;return new Promise((o,a)=>r._validate(t,n,(l,u)=>{rr.isError(l)&&(l.value=u),a(l)},(l,u)=>{l.length?a(new rr(l,u,void 0,void 0,s)):o(u)}))}validateSync(t,n){var i;let r=this.resolve(Object.assign({},n,{value:t})),s,o=(i=n==null?void 0:n.disableStackTrace)!=null?i:r.spec.disableStackTrace;return r._validate(t,Object.assign({},n,{sync:!0}),(a,l)=>{throw rr.isError(a)&&(a.value=l),a},(a,l)=>{if(a.length)throw new rr(a,t,void 0,void 0,o);s=l}),s}isValid(t,n){return this.validate(t,n).then(()=>!0,i=>{if(rr.isError(i))return!1;throw i})}isValidSync(t,n){try{return this.validateSync(t,n),!0}catch(i){if(rr.isError(i))return!1;throw i}}_getDefault(t){let n=this.spec.default;return n==null?n:typeof n=="function"?n.call(this,t):Bu(n)}getDefault(t){return this.resolve(t||{})._getDefault(t)}default(t){return arguments.length===0?this._getDefault():this.clone({default:t})}strict(t=!0){return this.clone({strict:t})}nullability(t,n){const i=this.clone({nullable:t});return i.internalTests.nullable=Eu({message:n,name:"nullable",test(r){return r===null?this.schema.spec.nullable:!0}}),i}optionality(t,n){const i=this.clone({optional:t});return i.internalTests.optionality=Eu({message:n,name:"optionality",test(r){return r===void 0?this.schema.spec.optional:!0}}),i}optional(){return this.optionality(!0)}defined(t=ps.defined){return this.optionality(!1,t)}nullable(){return this.nullability(!0)}nonNullable(t=ps.notNull){return this.nullability(!1,t)}required(t=ps.required){return this.clone().withMutation(n=>n.nonNullable(t).defined(t))}notRequired(){return this.clone().withMutation(t=>t.nullable().optional())}transform(t){let n=this.clone();return n.transforms.push(t),n}test(...t){let n;if(t.length===1?typeof t[0]=="function"?n={test:t[0]}:n=t[0]:t.length===2?n={name:t[0],test:t[1]}:n={name:t[0],message:t[1],test:t[2]},n.message===void 0&&(n.message=ps.default),typeof n.test!="function")throw new TypeError("`test` is a required parameters");let i=this.clone(),r=Eu(n),s=n.exclusive||n.name&&i.exclusiveTests[n.name]===!0;if(n.exclusive&&!n.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return n.name&&(i.exclusiveTests[n.name]=!!n.exclusive),i.tests=i.tests.filter(o=>!(o.OPTIONS.name===n.name&&(s||o.OPTIONS.test===r.OPTIONS.test))),i.tests.push(r),i}when(t,n){!Array.isArray(t)&&typeof t!="string"&&(n=t,t=".");let i=this.clone(),r=jU(t).map(s=>new Ba(s));return r.forEach(s=>{s.isSibling&&i.deps.push(s.key)}),i.conditions.push(typeof n=="function"?new Rg(r,n):Rg.fromOptions(r,n)),i}typeError(t){let n=this.clone();return n.internalTests.typeError=Eu({message:t,name:"typeError",skipAbsent:!0,test(i){return this.schema._typeCheck(i)?!0:this.createError({params:{type:this.schema.type}})}}),n}oneOf(t,n=ps.oneOf){let i=this.clone();return t.forEach(r=>{i._whitelist.add(r),i._blacklist.delete(r)}),i.internalTests.whiteList=Eu({message:n,name:"oneOf",skipAbsent:!0,test(r){let s=this.schema._whitelist,o=s.resolveAll(this.resolve);return o.includes(r)?!0:this.createError({params:{values:Array.from(s).join(", "),resolved:o}})}}),i}notOneOf(t,n=ps.notOneOf){let i=this.clone();return t.forEach(r=>{i._blacklist.add(r),i._whitelist.delete(r)}),i.internalTests.blacklist=Eu({message:n,name:"notOneOf",test(r){let s=this.schema._blacklist,o=s.resolveAll(this.resolve);return o.includes(r)?this.createError({params:{values:Array.from(s).join(", "),resolved:o}}):!0}}),i}strip(t=!0){let n=this.clone();return n.spec.strip=t,n}describe(t){const n=(t?this.resolve(t):this).clone(),{label:i,meta:r,optional:s,nullable:o}=n.spec;return{meta:r,label:i,optional:s,nullable:o,default:n.getDefault(t),type:n.type,oneOf:n._whitelist.describe(),notOneOf:n._blacklist.describe(),tests:n.tests.map(l=>({name:l.OPTIONS.name,params:l.OPTIONS.params})).filter((l,u,d)=>d.findIndex(c=>c.name===l.name)===u)}}}Tr.prototype.__isYupSchema__=!0;for(const e of["validate","validateSync"])Tr.prototype[`${e}At`]=function(t,n,i={}){const{parent:r,parentPath:s,schema:o}=Eme(this,t,n,i.context);return o[e](r&&r[s],Object.assign({},i,{parent:r,path:t}))};for(const e of["equals","is"])Tr.prototype[e]=Tr.prototype.oneOf;for(const e of["not","nope"])Tr.prototype[e]=Tr.prototype.notOneOf;function GU(){return new qU}class qU extends Tr{constructor(){super({type:"boolean",check(t){return t instanceof Boolean&&(t=t.valueOf()),typeof t=="boolean"}}),this.withMutation(()=>{this.transform((t,n,i)=>{if(i.spec.coerce&&!i.isType(t)){if(/^(true|1)$/i.test(String(t)))return!0;if(/^(false|0)$/i.test(String(t)))return!1}return t})})}isTrue(t=qw.isValue){return this.test({message:t,name:"is-value",exclusive:!0,params:{value:"true"},test(n){return Zr(n)||n===!0}})}isFalse(t=qw.isValue){return this.test({message:t,name:"is-value",exclusive:!0,params:{value:"false"},test(n){return Zr(n)||n===!1}})}default(t){return super.default(t)}defined(t){return super.defined(t)}optional(){return super.optional()}required(t){return super.required(t)}notRequired(){return super.notRequired()}nullable(){return super.nullable()}nonNullable(t){return super.nonNullable(t)}strip(t){return super.strip(t)}}GU.prototype=qU.prototype;const Cme=/^(\d{4}|[+-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,.](\d{1,}))?)?(?:(Z)|([+-])(\d{2})(?::?(\d{2}))?)?)?$/;function kme(e){const t=Kw(e);if(!t)return Date.parse?Date.parse(e):Number.NaN;if(t.z===void 0&&t.plusMinus===void 0)return new Date(t.year,t.month,t.day,t.hour,t.minute,t.second,t.millisecond).valueOf();let n=0;return t.z!=="Z"&&t.plusMinus!==void 0&&(n=t.hourOffset*60+t.minuteOffset,t.plusMinus==="+"&&(n=0-n)),Date.UTC(t.year,t.month,t.day,t.hour,t.minute+n,t.second,t.millisecond)}function Kw(e){var t,n;const i=Cme.exec(e);return i?{year:Js(i[1]),month:Js(i[2],1)-1,day:Js(i[3],1),hour:Js(i[4]),minute:Js(i[5]),second:Js(i[6]),millisecond:i[7]?Js(i[7].substring(0,3)):0,precision:(t=(n=i[7])==null?void 0:n.length)!=null?t:void 0,z:i[8]||void 0,plusMinus:i[9]||void 0,hourOffset:Js(i[10]),minuteOffset:Js(i[11])}:null}function Js(e,t=0){return Number(e)||t}let Tme=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Ime=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,Ame=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,Pme="^\\d{4}-\\d{2}-\\d{2}",xme="\\d{2}:\\d{2}:\\d{2}",Dme="(([+-]\\d{2}(:?\\d{2})?)|Z)",Rme=new RegExp(`${Pme}T${xme}(\\.\\d+)?${Dme}$`),Ome=e=>Zr(e)||e===e.trim(),Vme={}.toString();function Mn(){return new YU}class YU extends Tr{constructor(){super({type:"string",check(t){return t instanceof String&&(t=t.valueOf()),typeof t=="string"}}),this.withMutation(()=>{this.transform((t,n,i)=>{if(!i.spec.coerce||i.isType(t)||Array.isArray(t))return t;const r=t!=null&&t.toString?t.toString():t;return r===Vme?t:r})})}required(t){return super.required(t).withMutation(n=>n.test({message:t||ps.required,name:"required",skipAbsent:!0,test:i=>!!i.length}))}notRequired(){return super.notRequired().withMutation(t=>(t.tests=t.tests.filter(n=>n.OPTIONS.name!=="required"),t))}length(t,n=er.length){return this.test({message:n,name:"length",exclusive:!0,params:{length:t},skipAbsent:!0,test(i){return i.length===this.resolve(t)}})}min(t,n=er.min){return this.test({message:n,name:"min",exclusive:!0,params:{min:t},skipAbsent:!0,test(i){return i.length>=this.resolve(t)}})}max(t,n=er.max){return this.test({name:"max",exclusive:!0,message:n,params:{max:t},skipAbsent:!0,test(i){return i.length<=this.resolve(t)}})}matches(t,n){let i=!1,r,s;return n&&(typeof n=="object"?{excludeEmptyString:i=!1,message:r,name:s}=n:r=n),this.test({name:s||"matches",message:r||er.matches,params:{regex:t},skipAbsent:!0,test:o=>o===""&&i||o.search(t)!==-1})}email(t=er.email){return this.matches(Tme,{name:"email",message:t,excludeEmptyString:!0})}url(t=er.url){return this.matches(Ime,{name:"url",message:t,excludeEmptyString:!0})}uuid(t=er.uuid){return this.matches(Ame,{name:"uuid",message:t,excludeEmptyString:!1})}datetime(t){let n="",i,r;return t&&(typeof t=="object"?{message:n="",allowOffset:i=!1,precision:r=void 0}=t:n=t),this.matches(Rme,{name:"datetime",message:n||er.datetime,excludeEmptyString:!0}).test({name:"datetime_offset",message:n||er.datetime_offset,params:{allowOffset:i},skipAbsent:!0,test:s=>{if(!s||i)return!0;const o=Kw(s);return o?!!o.z:!1}}).test({name:"datetime_precision",message:n||er.datetime_precision,params:{precision:r},skipAbsent:!0,test:s=>{if(!s||r==null)return!0;const o=Kw(s);return o?o.precision===r:!1}})}ensure(){return this.default("").transform(t=>t===null?"":t)}trim(t=er.trim){return this.transform(n=>n!=null?n.trim():n).test({message:t,name:"trim",test:Ome})}lowercase(t=er.lowercase){return this.transform(n=>Zr(n)?n:n.toLowerCase()).test({message:t,name:"string_case",exclusive:!0,skipAbsent:!0,test:n=>Zr(n)||n===n.toLowerCase()})}uppercase(t=er.uppercase){return this.transform(n=>Zr(n)?n:n.toUpperCase()).test({message:t,name:"string_case",exclusive:!0,skipAbsent:!0,test:n=>Zr(n)||n===n.toUpperCase()})}}Mn.prototype=YU.prototype;let Nme=e=>e!=+e;function af(){return new KU}class KU extends Tr{constructor(){super({type:"number",check(t){return t instanceof Number&&(t=t.valueOf()),typeof t=="number"&&!Nme(t)}}),this.withMutation(()=>{this.transform((t,n,i)=>{if(!i.spec.coerce)return t;let r=t;if(typeof r=="string"){if(r=r.replace(/\s/g,""),r==="")return NaN;r=+r}return i.isType(r)||r===null?r:parseFloat(r)})})}min(t,n=Go.min){return this.test({message:n,name:"min",exclusive:!0,params:{min:t},skipAbsent:!0,test(i){return i>=this.resolve(t)}})}max(t,n=Go.max){return this.test({message:n,name:"max",exclusive:!0,params:{max:t},skipAbsent:!0,test(i){return i<=this.resolve(t)}})}lessThan(t,n=Go.lessThan){return this.test({message:n,name:"max",exclusive:!0,params:{less:t},skipAbsent:!0,test(i){return i<this.resolve(t)}})}moreThan(t,n=Go.moreThan){return this.test({message:n,name:"min",exclusive:!0,params:{more:t},skipAbsent:!0,test(i){return i>this.resolve(t)}})}positive(t=Go.positive){return this.moreThan(0,t)}negative(t=Go.negative){return this.lessThan(0,t)}integer(t=Go.integer){return this.test({name:"integer",message:t,skipAbsent:!0,test:n=>Number.isInteger(n)})}truncate(){return this.transform(t=>Zr(t)?t:t|0)}round(t){var n;let i=["ceil","floor","round","trunc"];if(t=((n=t)==null?void 0:n.toLowerCase())||"round",t==="trunc")return this.truncate();if(i.indexOf(t.toLowerCase())===-1)throw new TypeError("Only valid options for round() are: "+i.join(", "));return this.transform(r=>Zr(r)?r:Math[t](r))}}af.prototype=KU.prototype;let XU=new Date(""),Mme=e=>Object.prototype.toString.call(e)==="[object Date]";function Zu(){return new qh}class qh extends Tr{constructor(){super({type:"date",check(t){return Mme(t)&&!isNaN(t.getTime())}}),this.withMutation(()=>{this.transform((t,n,i)=>!i.spec.coerce||i.isType(t)||t===null?t:(t=kme(t),isNaN(t)?qh.INVALID_DATE:new Date(t)))})}prepareParam(t,n){let i;if(Ba.isRef(t))i=t;else{let r=this.cast(t);if(!this._typeCheck(r))throw new TypeError(`\`${n}\` must be a Date or a value that can be \`cast()\` to a Date`);i=r}return i}min(t,n=Gw.min){let i=this.prepareParam(t,"min");return this.test({message:n,name:"min",exclusive:!0,params:{min:t},skipAbsent:!0,test(r){return r>=this.resolve(i)}})}max(t,n=Gw.max){let i=this.prepareParam(t,"max");return this.test({message:n,name:"max",exclusive:!0,params:{max:t},skipAbsent:!0,test(r){return r<=this.resolve(i)}})}}qh.INVALID_DATE=XU;Zu.prototype=qh.prototype;Zu.INVALID_DATE=XU;function Lme(e,t=[]){let n=[],i=new Set,r=new Set(t.map(([o,a])=>`${o}-${a}`));function s(o,a){let l=Sl.split(o)[0];i.add(l),r.has(`${a}-${l}`)||n.push([a,l])}for(const o of Object.keys(e)){let a=e[o];i.add(o),Ba.isRef(a)&&a.isSibling?s(a.path,o):H_(a)&&"deps"in a&&a.deps.forEach(l=>s(l,o))}return hme.array(Array.from(i),n).reverse()}function HD(e,t){let n=1/0;return e.some((i,r)=>{var s;if((s=t.path)!=null&&s.includes(i))return n=r,!0}),n}function QU(e){return(t,n)=>HD(e,t)-HD(e,n)}const JU=(e,t,n)=>{if(typeof e!="string")return e;let i=e;try{i=JSON.parse(e)}catch{}return n.isType(i)?i:e};function Em(e){if("fields"in e){const t={};for(const[n,i]of Object.entries(e.fields))t[n]=Em(i);return e.setFields(t)}if(e.type==="array"){const t=e.optional();return t.innerType&&(t.innerType=Em(t.innerType)),t}return e.type==="tuple"?e.optional().clone({types:e.spec.types.map(Em)}):"optional"in e?e.optional():e}const Fme=(e,t)=>{const n=[...Sl.normalizePath(t)];if(n.length===1)return n[0]in e;let i=n.pop(),r=Sl.getter(Sl.join(n),!0)(e);return!!(r&&i in r)};let WD=e=>Object.prototype.toString.call(e)==="[object Object]";function $me(e,t){let n=Object.keys(e.fields);return Object.keys(t).filter(i=>n.indexOf(i)===-1)}const Bme=QU([]);function is(e){return new ZU(e)}class ZU extends Tr{constructor(t){super({type:"object",check(n){return WD(n)||typeof n=="function"}}),this.fields=Object.create(null),this._sortErrors=Bme,this._nodes=[],this._excludedEdges=[],this.withMutation(()=>{t&&this.shape(t)})}_cast(t,n={}){var i;let r=super._cast(t,n);if(r===void 0)return this.getDefault(n);if(!this._typeCheck(r))return r;let s=this.fields,o=(i=n.stripUnknown)!=null?i:this.spec.noUnknown,a=[].concat(this._nodes,Object.keys(r).filter(c=>!this._nodes.includes(c))),l={},u=Object.assign({},n,{parent:l,__validating:n.__validating||!1}),d=!1;for(const c of a){let f=s[c],v=c in r;if(f){let g,p=r[c];u.path=(n.path?`${n.path}.`:"")+c,f=f.resolve({value:p,context:n.context,parent:l});let _=f instanceof Tr?f.spec:void 0,y=_==null?void 0:_.strict;if(_!=null&&_.strip){d=d||c in r;continue}g=!n.__validating||!y?f.cast(r[c],u):r[c],g!==void 0&&(l[c]=g)}else v&&!o&&(l[c]=r[c]);(v!==c in l||l[c]!==r[c])&&(d=!0)}return d?l:r}_validate(t,n={},i,r){let{from:s=[],originalValue:o=t,recursive:a=this.spec.recursive}=n;n.from=[{schema:this,value:o},...s],n.__validating=!0,n.originalValue=o,super._validate(t,n,i,(l,u)=>{if(!a||!WD(u)){r(l,u);return}o=o||u;let d=[];for(let c of this._nodes){let f=this.fields[c];!f||Ba.isRef(f)||d.push(f.asNestedTest({options:n,key:c,parent:u,parentPath:n.path,originalParent:o}))}this.runTests({tests:d,value:u,originalValue:o,options:n},i,c=>{r(c.sort(this._sortErrors).concat(l),u)})})}clone(t){const n=super.clone(t);return n.fields=Object.assign({},this.fields),n._nodes=this._nodes,n._excludedEdges=this._excludedEdges,n._sortErrors=this._sortErrors,n}concat(t){let n=super.concat(t),i=n.fields;for(let[r,s]of Object.entries(this.fields)){const o=i[r];i[r]=o===void 0?s:o}return n.withMutation(r=>r.setFields(i,[...this._excludedEdges,...t._excludedEdges]))}_getDefault(t){if("default"in this.spec)return super._getDefault(t);if(!this._nodes.length)return;let n={};return this._nodes.forEach(i=>{var r;const s=this.fields[i];let o=t;(r=o)!=null&&r.value&&(o=Object.assign({},o,{parent:o.value,value:o.value[i]})),n[i]=s&&"getDefault"in s?s.getDefault(o):void 0}),n}setFields(t,n){let i=this.clone();return i.fields=t,i._nodes=Lme(t,n),i._sortErrors=QU(Object.keys(t)),n&&(i._excludedEdges=n),i}shape(t,n=[]){return this.clone().withMutation(i=>{let r=i._excludedEdges;return n.length&&(Array.isArray(n[0])||(n=[n]),r=[...i._excludedEdges,...n]),i.setFields(Object.assign(i.fields,t),r)})}partial(){const t={};for(const[n,i]of Object.entries(this.fields))t[n]="optional"in i&&i.optional instanceof Function?i.optional():i;return this.setFields(t)}deepPartial(){return Em(this)}pick(t){const n={};for(const i of t)this.fields[i]&&(n[i]=this.fields[i]);return this.setFields(n,this._excludedEdges.filter(([i,r])=>t.includes(i)&&t.includes(r)))}omit(t){const n=[];for(const i of Object.keys(this.fields))t.includes(i)||n.push(i);return this.pick(n)}from(t,n,i){let r=Sl.getter(t,!0);return this.transform(s=>{if(!s)return s;let o=s;return Fme(s,t)&&(o=Object.assign({},s),i||delete o[t],o[n]=r(s)),o})}json(){return this.transform(JU)}noUnknown(t=!0,n=Yw.noUnknown){typeof t!="boolean"&&(n=t,t=!0);let i=this.test({name:"noUnknown",exclusive:!0,message:n,test(r){if(r==null)return!0;const s=$me(this.schema,r);return!t||s.length===0||this.createError({params:{unknown:s.join(", ")}})}});return i.spec.noUnknown=t,i}unknown(t=!0,n=Yw.noUnknown){return this.noUnknown(!t,n)}transformKeys(t){return this.transform(n=>{if(!n)return n;const i={};for(const r of Object.keys(n))i[t(r)]=n[r];return i})}camelCase(){return this.transformKeys(fb.camelCase)}snakeCase(){return this.transformKeys(fb.snakeCase)}constantCase(){return this.transformKeys(t=>fb.snakeCase(t).toUpperCase())}describe(t){const n=(t?this.resolve(t):this).clone(),i=super.describe(t);i.fields={};for(const[s,o]of Object.entries(n.fields)){var r;let a=t;(r=a)!=null&&r.value&&(a=Object.assign({},a,{parent:a.value,value:a.value[s]})),i.fields[s]=o.describe(a)}return i}}is.prototype=ZU.prototype;function W_(e){return new e6(e)}class e6 extends Tr{constructor(t){super({type:"array",spec:{types:t},check(n){return Array.isArray(n)}}),this.innerType=void 0,this.innerType=t}_cast(t,n){const i=super._cast(t,n);if(!this._typeCheck(i)||!this.innerType)return i;let r=!1;const s=i.map((o,a)=>{const l=this.innerType.cast(o,Object.assign({},n,{path:`${n.path||""}[${a}]`}));return l!==o&&(r=!0),l});return r?s:i}_validate(t,n={},i,r){var s;let o=this.innerType,a=(s=n.recursive)!=null?s:this.spec.recursive;n.originalValue!=null&&n.originalValue,super._validate(t,n,i,(l,u)=>{var d;if(!a||!o||!this._typeCheck(u)){r(l,u);return}let c=new Array(u.length);for(let v=0;v<u.length;v++){var f;c[v]=o.asNestedTest({options:n,index:v,parent:u,parentPath:n.path,originalParent:(f=n.originalValue)!=null?f:t})}this.runTests({value:u,tests:c,originalValue:(d=n.originalValue)!=null?d:t,options:n},i,v=>r(v.concat(l),u))})}clone(t){const n=super.clone(t);return n.innerType=this.innerType,n}json(){return this.transform(JU)}concat(t){let n=super.concat(t);return n.innerType=this.innerType,t.innerType&&(n.innerType=n.innerType?n.innerType.concat(t.innerType):t.innerType),n}of(t){let n=this.clone();if(!H_(t))throw new TypeError("`array.of()` sub-schema must be a valid yup schema not: "+po(t));return n.innerType=t,n.spec=Object.assign({},n.spec,{types:t}),n}length(t,n=Sm.length){return this.test({message:n,name:"length",exclusive:!0,params:{length:t},skipAbsent:!0,test(i){return i.length===this.resolve(t)}})}min(t,n){return n=n||Sm.min,this.test({message:n,name:"min",exclusive:!0,params:{min:t},skipAbsent:!0,test(i){return i.length>=this.resolve(t)}})}max(t,n){return n=n||Sm.max,this.test({message:n,name:"max",exclusive:!0,params:{max:t},skipAbsent:!0,test(i){return i.length<=this.resolve(t)}})}ensure(){return this.default(()=>[]).transform((t,n)=>this._typeCheck(t)?t:n==null?[]:[].concat(n))}compact(t){let n=t?(i,r,s)=>!t(i,r,s):i=>!!i;return this.transform(i=>i!=null?i.filter(n):i)}describe(t){const n=(t?this.resolve(t):this).clone(),i=super.describe(t);if(n.innerType){var r;let s=t;(r=s)!=null&&r.value&&(s=Object.assign({},s,{parent:s.value,value:s.value[0]})),i.innerType=n.innerType.describe(s)}return i}}W_.prototype=e6.prototype;const Ume=Tt({__name:"LevelRangeEditor",props:{initialLevelRanges:{}},emits:["close","save"],setup(e,{emit:t}){const n=e,i=t,r=z(0),s=z(""),o=z(),a=z([]);ge(()=>n.initialLevelRanges,()=>l());function l(){n.initialLevelRanges&&(a.value=JSON.parse(JSON.stringify(n.initialLevelRanges)),a.value.length>0&&(o.value=a.value[0]))}function u(v,g){const p=v.levels.indexOf(g);v.levels.splice(p,1)}function d(){const v=o.value;if(v){const g=a.value.findIndex(p=>p.price==v.price);a.value.splice(g,1),o.value=a.value[0]}}function c(){const v=+r.value;if(v==null||v==null||isNaN(v)||v==0||(r.value=0,a.value.findIndex(p=>p.price==v)!=-1))return;const g=o.value={price:v,levels:[]};a.value.push(g),a.value.sort((p,_)=>p.price-_.price)}function f(v){const g=s.value.trim();g.length!=0&&(s.value="",!v.levels.includes(g)&&v.levels.push(g))}return yt(()=>l()),(v,g)=>{const p=H("v-number-input"),_=H("v-col"),y=H("v-btn"),b=H("v-row"),E=H("v-tab"),k=H("v-tabs"),R=H("v-text-field"),O=H("v-icon"),D=H("v-list"),S=H("v-tabs-window-item"),w=H("v-tabs-window"),C=H("v-card"),A=H("v-card-text"),P=H("v-divider"),x=H("v-spacer"),U=H("v-card-actions");return ye(),Le(C,{"prepend-icon":"mdi-format-list-numbered",title:"Livelli"},{default:N(()=>[h(A,null,{default:N(()=>[h(b,{class:"my-3 mb-10 justify-center"},{default:N(()=>[h(_,{class:"px-2",cols:"12",md:"4"},{default:N(()=>[h(p,{"max-width":"500",modelValue:r.value,"onUpdate:modelValue":g[0]||(g[0]=$=>r.value=$),reverse:!1,controlVariant:"default",label:"Fascia di Prezzo",prefix:"",hideInput:!1,inset:!1,min:0},null,8,["modelValue"])]),_:1}),h(_,{class:"px-2",cols:"12",md:"1"},{default:N(()=>[h(y,{onClick:c,icon:"mdi-plus",color:"success"}),h(y,{onClick:d,icon:"mdi-minus",color:"error"})]),_:1})]),_:1}),o.value?(ye(),Le(C,{key:0,class:"mx-5 mt-5 pa-2",elevation:"3"},{default:N(()=>[h(k,{modelValue:o.value,"onUpdate:modelValue":g[1]||(g[1]=$=>o.value=$),class:"my-2","align-tabs":"center",color:"primary","show-arrows":""},{default:N(()=>[(ye(!0),St(Ie,null,Ui(a.value,$=>(ye(),Le(E,{key:$.price,text:$.price+" ",value:$},null,8,["text","value"]))),128))]),_:1},8,["modelValue"]),h(w,{modelValue:o.value,"onUpdate:modelValue":g[3]||(g[3]=$=>o.value=$)},{default:N(()=>[(ye(!0),St(Ie,null,Ui(a.value,$=>(ye(),Le(S,{class:"mx-5 my-5",key:$.price,value:$},{default:N(()=>[h(R,{modelValue:s.value,"onUpdate:modelValue":g[2]||(g[2]=j=>s.value=j),label:"Nome Livello","append-icon":"mdi-plus",type:"text","onClick:append":j=>f($)},null,8,["modelValue","onClick:append"]),h(D,{items:$.levels},{append:N(({item:j})=>[h(O,{size:"small",onClick:Y=>u($,j)},{default:N(()=>g[6]||(g[6]=[xe(" mdi-delete ")])),_:2},1032,["onClick"])]),_:2},1032,["items"])]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])]),_:1})):Jt("",!0)]),_:1}),h(P),h(U,null,{default:N(()=>[h(x),h(y,{text:"Annulla",variant:"plain",onClick:g[4]||(g[4]=$=>i("close"))}),h(y,{color:"primary",text:"Salva Livelli",variant:"tonal",onClick:g[5]||(g[5]=$=>i("save",a.value))})]),_:1})]),_:1})}}}),jme=Tt({__name:"ManagerEditor",props:{initialManagerOptions:{}},emits:["close","save"],setup(e,{emit:t}){const n=e,i=t,r=is({totalStudents:af().required("Il Numero Totale degli Studenti  obbligatorio").positive().label("Numero Totale Studenti"),quotePerStudent:af().required("La Quota per Studente  obbligatoria").positive().label("Quota per Studente"),cashFund:af().positive().label("Fondo Cassa").nullable().optional()}),{defineField:s,handleSubmit:o}=ka({validationSchema:r}),a=_=>({props:{"error-messages":_.errors}}),[l,u]=s("totalStudents",a),[d,c]=s("quotePerStudent",a),[f,v]=s("cashFund",a),g=o(async _=>{i("save",{..._})},_=>{Xe.warn("Ci sono alcuni errori! Inserisci correttamente i dati"),console.log(_)});ge(()=>n.initialManagerOptions,()=>p(),{immediate:!0});function p(){n.initialManagerOptions&&(l.value=n.initialManagerOptions.totalStudents,d.value=n.initialManagerOptions.quotePerStudent,f.value=n.initialManagerOptions.cashFund)}return(_,y)=>{const b=H("v-number-input"),E=H("v-col"),k=H("v-row"),R=H("v-card-text"),O=H("v-divider"),D=H("v-spacer"),S=H("v-btn"),w=H("v-card-actions"),C=H("v-card");return ye(),Le(C,{"prepend-icon":"mdi-account",title:"Gestione Scuola"},{default:N(()=>[h(R,null,{default:N(()=>[h(k,{class:"my-3 mb-10 justify-center"},{default:N(()=>[h(E,{cols:"12",md:"6"},{default:N(()=>[h(b,J({modelValue:se(l),"onUpdate:modelValue":y[0]||(y[0]=A=>Qe(l)?l.value=A:null)},se(u),{reverse:!1,controlVariant:"default",label:"Numero Totale Studenti",hideInput:!1,inset:!1,min:0}),null,16,["modelValue"])]),_:1}),h(E,{cols:"12",md:"6"},{default:N(()=>[h(b,J({modelValue:se(d),"onUpdate:modelValue":y[1]||(y[1]=A=>Qe(d)?d.value=A:null)},se(c),{reverse:!1,controlVariant:"default",label:"Quota per Studente",prefix:"",hideInput:!1,inset:!1,min:0}),null,16,["modelValue"])]),_:1}),h(E,{cols:"12",md:"6"},{default:N(()=>[h(b,J({modelValue:se(f),"onUpdate:modelValue":y[2]||(y[2]=A=>Qe(f)?f.value=A:null)},se(v),{reverse:!1,controlVariant:"default",label:"Fondo Cassa",hideInput:!1,prefix:"",inset:!1,min:0}),null,16,["modelValue"])]),_:1})]),_:1})]),_:1}),h(O),h(w,null,{default:N(()=>[h(D),h(S,{text:"Annulla",variant:"plain",onClick:y[3]||(y[3]=A=>i("close"))}),h(S,{color:"primary",text:"Salva Gestione",variant:"tonal",onClick:se(g)},null,8,["onClick"])]),_:1})]),_:1})}}}),Hme={class:"v-input--center-affix v-input--error"},Wme={class:"v-input__details"},zme={class:"v-messages__message v-messages",role:"alert"},Gme={class:"v-input--center-affix v-input--error"},qme={class:"v-input__details"},Yme={class:"v-messages__message v-messages",role:"alert"},t6=Tt({__name:"SchoolEditor",props:{initialSchool:{},edit:{type:Boolean}},emits:["close","save"],setup(e,{emit:t}){const n=e,i=t,r=z(!1),s=z(!1),o=z(!1),a=[{key:Zf.ABSENT_AND_PRESENT,value:"La lezione viene pagata sia se lo studente  presente sia se  assente"},{key:Zf.ONLY_PRESENT,value:"La lezione viene pagata solo se lo studente  presente"}],l=is({name:Mn().required("Il Nome  obbligatorio").min(1).label("Nome"),city:Mn().label("Citt").nullable().optional(),email:Mn().label("Email").nullable().optional(),phoneNumber:Mn().label("Numero di Telefono").nullable().optional(),managed:GU().label("Gestione"),salaryStrategy:Mn().required("L'Opzione di pagamento lezioni  obbligatorio").label("Opzione di Pagamento"),managerOptions:is().test({test:Y=>k.value?Y!==void 0:!0,message:"Configurare la Gestione della Scuola correttamente",exclusive:!1,name:"managedProp"}).label("Opzioni Gestione"),levelRanges:W_().of(is()).test({test:Y=>!!Y&&Y.length!=0,message:"I livelli sono obbligatori; configurare correttamente i Livelli",exclusive:!1,name:"level"}).label("Livelli")}),{defineField:u,handleSubmit:d}=ka({validationSchema:l}),c=Y=>({props:{"error-messages":Y.errors}}),[f,v]=u("name",c),[g,p]=u("city",c),[_,y]=u("email",c),[b,E]=u("phoneNumber",c),[k,R]=u("managed",c),[O,D]=u("salaryStrategy",c),[S,w]=u("managerOptions",c),[C,A]=u("levelRanges",c),P=d(async Y=>{j(Y)},Y=>{Xe.warn("Ci sono alcuni errori! Inserisci correttamente i dati"),console.log(Y)});ge(()=>n.initialSchool,()=>x());function x(){if(n.initialSchool){const Y=JSON.parse(JSON.stringify(n.initialSchool));f.value=Y.name,g.value=Y.city??"",_.value=Y.email??"",b.value=Y.phoneNumber??"",O.value=Y.salaryStrategy,k.value=Y.managed,S.value=Y.managerOptions,C.value=Y.levelRanges}}function U(Y){console.log(Y,JSON.stringify(Y)),S.value=Y,s.value=!1}function $(Y){console.log(Y,JSON.stringify(Y)),C.value=Y,r.value=!1}async function j(Y){var K,G;o.value=!0;const W={name:Y.name,salaryStrategy:Y.salaryStrategy,managed:k.value??!1,levelRanges:Y.levelRanges,createdAt:n.edit?(K=n.initialSchool)==null?void 0:K.createdAt:Et.now(),updatedAt:Et.now()};Y.city&&(W.city=Y.city),Y.email&&(W.email=Y.email),Y.phoneNumber&&(W.phoneNumber=Y.phoneNumber),k.value&&(W.managerOptions=S.value);try{n.edit&&((G=n.initialSchool)==null?void 0:G.id)!=null?(await Io.instance.save(W,n.initialSchool.id),Xe.success("Scuola Aggiornata"),n.initialSchool.salaryStrategy!=null&&n.initialSchool.salaryStrategy!=W.salaryStrategy&&Xe.warning("E' stata aggiornata l'opzione di pagamento, tuttavia TUTTE le lezioni giornaliere create fino ad ora non saranno aggiornate in automatico!",{autoClose:1e4})):(await Io.instance.save(W),Xe.success("Scuola Creata")),i("save",W)}catch(te){i("save"),Xe.error("Errore durante il salvataggio"),console.error("Error adding document (schools): ",te)}finally{o.value=!1}}return yt(()=>x()),(Y,W)=>{const K=H("v-text-field"),G=H("v-col"),te=H("v-select"),oe=H("v-checkbox"),_e=H("v-btn"),Ae=H("v-dialog"),Ne=H("v-row"),Q=H("v-card-text"),B=H("v-divider"),q=H("v-spacer"),ie=H("v-card-actions"),ce=H("v-card");return ye(),Le(ce,{"prepend-icon":"mdi-school",title:"Scuola"},{default:N(()=>[h(Q,null,{default:N(()=>[h(Ne,{dense:""},{default:N(()=>[h(G,{cols:"12",md:"6"},{default:N(()=>[h(K,J({modelValue:se(f),"onUpdate:modelValue":W[0]||(W[0]=ne=>Qe(f)?f.value=ne:null)},se(v),{label:"Nome",required:""}),null,16,["modelValue"])]),_:1}),h(G,{cols:"12",md:"6"},{default:N(()=>[h(K,J({modelValue:se(g),"onUpdate:modelValue":W[1]||(W[1]=ne=>Qe(g)?g.value=ne:null)},se(p),{label:"Citt"}),null,16,["modelValue"])]),_:1}),h(G,{cols:"12",md:"6"},{default:N(()=>[h(K,J({modelValue:se(_),"onUpdate:modelValue":W[2]||(W[2]=ne=>Qe(_)?_.value=ne:null)},se(y),{label:"Email"}),null,16,["modelValue"])]),_:1}),h(G,{cols:"12",md:"6"},{default:N(()=>[h(K,J({modelValue:se(b),"onUpdate:modelValue":W[3]||(W[3]=ne=>Qe(b)?b.value=ne:null)},se(E),{label:"Numero di Telefono"}),null,16,["modelValue"])]),_:1}),h(G,{cols:"12",md:"12"},{default:N(()=>[h(Ne,{"justify-center":""},{default:N(()=>[h(G,{class:"align-self-center"},{default:N(()=>[h(te,J({modelValue:se(O),"onUpdate:modelValue":W[4]||(W[4]=ne=>Qe(O)?O.value=ne:null)},se(D),{items:a,"item-title":"value","item-value":"key",label:"Opzione di Pagamento",required:""}),null,16,["modelValue"])]),_:1}),h(G,{class:"align-self-center"},{default:N(()=>[h(oe,J({modelValue:se(k),"onUpdate:modelValue":W[5]||(W[5]=ne=>Qe(k)?k.value=ne:null)},se(R),{label:"Gestione"}),null,16,["modelValue"])]),_:1}),h(G,{class:"align-self-center"},{default:N(()=>[se(k)?(ye(),Le(Ae,{key:0,modelValue:s.value,"onUpdate:modelValue":W[8]||(W[8]=ne=>s.value=ne),fullscreen:""},{activator:N(({props:ne})=>{var Se;return[tt("div",Hme,[h(_e,J({text:"Gestione"},ne),null,16),tt("div",Wme,[tt("div",zme,[tt("span",null,lt((Se=se(w)["error-messages"])==null?void 0:Se[0]),1)])])])]}),default:N(()=>[h(jme,{initialManagerOptions:se(S),onClose:W[6]||(W[6]=ne=>s.value=!1),onSave:W[7]||(W[7]=ne=>U(ne))},null,8,["initialManagerOptions"])]),_:1},8,["modelValue"])):Jt("",!0)]),_:1})]),_:1})]),_:1}),h(G,{cols:"12",md:"6"},{default:N(()=>[h(Ae,{modelValue:r.value,"onUpdate:modelValue":W[11]||(W[11]=ne=>r.value=ne),fullscreen:""},{activator:N(({props:ne})=>{var Se;return[tt("div",Gme,[h(_e,J({text:"Gestisci Livelli"},ne),null,16),tt("div",qme,[tt("div",Yme,[tt("span",null,lt((Se=se(A)["error-messages"])==null?void 0:Se[0]),1)])])])]}),default:N(()=>[h(Ume,{initialLevelRanges:se(C),onClose:W[9]||(W[9]=ne=>r.value=!1),onSave:W[10]||(W[10]=ne=>$(ne))},null,8,["initialLevelRanges"])]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1}),h(B),h(ie,null,{default:N(()=>[h(q),h(_e,{text:"Chiudi",variant:"plain",onClick:W[12]||(W[12]=ne=>i("close"))}),h(_e,{color:"primary",loading:o.value,disabled:o.value,text:Y.edit?"Salva Modifiche":"Crea",variant:"tonal",onClick:se(P)},null,8,["loading","disabled","text","onClick"])]),_:1})]),_:1})}}}),Kme={class:"text-center ma-4"},hb=Tt({__name:"HomeView",setup(e){let t;const n=z([]),i=z(!1),r=z(!1);function s(l){l&&(r.value=!1)}function o(l){return l.city?`${l.name} (${l.city})`:l.name}async function a(){i.value=!0,t=Io.instance.observeAll().subscribe({next:l=>{n.value=l,i.value=!1},error:l=>{Xe.warning("Impossibile caricare le scuole..."),i.value=!1}})}return yt(async()=>{await a()}),Ir(()=>{t==null||t.unsubscribe()}),(l,u)=>{const d=H("v-skeleton-loader"),c=H("v-col"),f=H("v-row"),v=H("v-expand-transition"),g=H("v-card"),p=H("v-icon"),_=H("v-dialog"),y=H("v-container");return ye(),Le(y,{fluid:""},{default:N(()=>[h(v,{mode:"out-in"},{default:N(()=>[i.value?(ye(),Le(f,{key:0,"no-gutters":""},{default:N(()=>[(ye(),St(Ie,null,Ui(3,b=>h(c,{key:b,cols:"12",sm:"4"},{default:N(()=>[h(d,{class:"ma-2 pa-2",type:"card"})]),_:2},1024)),64))]),_:1})):Jt("",!0)]),_:1}),h(f,{"no-gutters":""},{default:N(()=>[(ye(!0),St(Ie,null,Ui(n.value,b=>(ye(),Le(c,{key:b.name,cols:"12",sm:"4"},{default:N(()=>[h(g,{"append-icon":"mdi-open-in-new",class:"ma-2 pa-2",to:"/school/"+b.id,"prepend-icon":"mdi-town-hall",subtitle:"Visualizza tutti gli aggiornamenti della scuola "+b.name,title:o(b),color:"primary"},null,8,["to","subtitle","title"])]),_:2},1024))),128)),h(c,{cols:"12",sm:"4"},{default:N(()=>[h(_,{modelValue:r.value,"onUpdate:modelValue":u[2]||(u[2]=b=>r.value=b),fullscreen:""},{activator:N(({props:b})=>[h(g,J({class:"ma-2 pa-2",color:"secondary"},b),{default:N(()=>[tt("div",Kme,[u[4]||(u[4]=tt("p",{class:"text-h6 font-weight"},"Aggiungi una scuola",-1)),h(p,{size:"x-large"},{default:N(()=>u[3]||(u[3]=[xe("mdi-plus")])),_:1})])]),_:2},1040)]),default:N(()=>[h(t6,{onClose:u[0]||(u[0]=b=>r.value=!1),onSave:u[1]||(u[1]=b=>s(b))})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1})}}}),Xme=["colspan"],Qme=Tt({__name:"ManageSchoolView",setup(e){const t=z([]),n=[{key:"data-table-expand"},{title:"Nome",align:"start",sortable:!0,key:"name"},{title:"Citt",key:"city"},{title:"Indirizzo",key:"address"},{title:" / minuto",key:"paymentCriteria"}],i=z([]);function r(){}function s(a){}function o(a){}return yt(()=>{for(let a=0;a<10;a++)i.value.push({id:a,name:"La Fenice",city:"Servigliano",address:"Commenda n 8/bis",paymentCriteria:.5})}),(a,l)=>{const u=H("v-text-field"),d=H("v-btn"),c=H("v-row"),f=H("v-col"),v=H("v-container"),g=H("v-data-table");return ye(),Le(v,{fluid:""},{default:N(()=>[l[8]||(l[8]=tt("p",{class:"text-h5 text-center mb-6"},"Le mie scuole",-1)),h(c,{class:"mr-4 mb-1 align-center"},{default:N(()=>[h(u,{class:"ma-2","prepend-inner-icon":"mdi-magnify",density:"comfortable",placeholder:"Ricerca...",theme:"light",variant:"solo","hide-details":""}),h(d,{"prepend-icon":"mdi-plus",color:"success",onClick:r},{default:N(()=>l[1]||(l[1]=[xe("nuova scuola")])),_:1})]),_:1}),h(g,{expanded:t.value,"onUpdate:expanded":l[0]||(l[0]=p=>t.value=p),headers:n,items:i.value,"item-value":"id","show-expand":""},{"expanded-row":N(({columns:p,item:_})=>[tt("tr",null,[tt("td",{colspan:p.length},[h(v,{class:"ma-3"},{default:N(()=>[h(c,null,{default:N(()=>[h(f,{cols:"12",md:"9"},{default:N(()=>[xe(" More info about "+lt(_.name)+" ",1),l[2]||(l[2]=tt("p",null,"...",-1)),l[3]||(l[3]=tt("p",null,"...",-1)),l[4]||(l[4]=tt("p",null,"...",-1))]),_:2},1024),h(f,{cols:"12",md:"3"},{default:N(()=>[h(c,{class:"my-2"},{default:N(()=>[h(d,{"prepend-icon":"mdi-eye",to:"/school/"+_.id},{default:N(()=>l[5]||(l[5]=[xe("Visualizza")])),_:2},1032,["to"])]),_:2},1024),h(c,{class:"my-2"},{default:N(()=>[h(d,{"prepend-icon":"mdi-pencil",onClick:y=>void 0},{default:N(()=>l[6]||(l[6]=[xe("Modifica")])),_:2},1032,["onClick"])]),_:2},1024),h(c,{class:"my-2"},{default:N(()=>[h(d,{"prepend-icon":"mdi-delete-outline",color:"error",onClick:y=>void 0},{default:N(()=>l[7]||(l[7]=[xe("Elimina")])),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)],8,Xme)])]),_:1},8,["expanded","items"])]),_:1})}}}),Yh=Tt({__name:"DeleteDialog",props:{objName:{default:"Oggetto"},useToast:{type:Boolean,default:!0},name:{},onDelete:{}},emits:["delete"],setup(e,{emit:t}){const n=e,i=z(!1),r=z(!1);async function s(){var a;r.value=!0;const o=await((a=n.onDelete)==null?void 0:a.call(n))??!1;n.useToast&&(o?Xe.success(`${n.objName} eliminato/a`):Xe.warning("Errore durante l'eliminazione")),r.value=!1,i.value=o}return(o,a)=>{const l=H("v-card-text"),u=H("v-btn"),d=H("v-spacer"),c=H("v-card-actions"),f=H("v-card"),v=H("v-dialog");return ye(),Le(v,{modelValue:i.value,"onUpdate:modelValue":a[1]||(a[1]=g=>i.value=g)},{activator:N(({props:g})=>[fj(o.$slots,"activator",$R(MS({props:g})))]),default:N(()=>[h(f,{"prepend-icon":"mdi-alert",class:"mx-auto","max-width":"500",title:"Elimina "+o.objName},{default:N(()=>[h(l,null,{default:N(()=>[tt("p",null,[a[2]||(a[2]=xe("Sei sicuro di voler eliminare ")),tt("b",null,lt(o.name),1),a[3]||(a[3]=xe("?"))]),a[4]||(a[4]=tt("br",null,null,-1)),a[5]||(a[5]=tt("p",null,[xe("Dopo avere eliminato la risorsa "),tt("b",null,"NON"),xe("  pi possibile recuperare i dati!")],-1))]),_:1}),h(c,null,{default:N(()=>[h(u,{text:"Annulla",onClick:a[0]||(a[0]=g=>i.value=!1)}),h(d),h(u,{color:"surface-variant",text:"Elimina",variant:"flat",onClick:s,loading:r.value},null,8,["loading"])]),_:1})]),_:1},8,["title"])]),_:3},8,["modelValue"])}}}),Kh=Tt({__name:"BackButton",setup(e){const t=Vh();function n(){t.go(-1)}return(i,r)=>{const s=H("v-btn");return ye(),Le(s,{icon:"mdi-arrow-left",onClick:n,variant:"text"})}}}),Hg=class Hg extends zh{constructor(){super(t=>Wh(ed.STUDENTS,t))}static get instance(){return this._instance||(this._instance=new Hg),this._instance}};In(Hg,"_instance",null);let _o=Hg;const Wg=class Wg extends zh{constructor(){super(t=>Wh(ed.WEEKLY_LESSONS,t))}static get instance(){return this._instance||(this._instance=new Wg),this._instance}};In(Wg,"_instance",null);let Ps=Wg;const zg=class zg extends zh{constructor(){super(t=>Wh(ed.DAILY_LESSONS,t))}static get instance(){return this._instance||(this._instance=new zg),this._instance}};In(zg,"_instance",null);let Dt=zg;var mi=[];for(var vb=0;vb<256;++vb)mi.push((vb+256).toString(16).slice(1));function Jme(e,t=0){return(mi[e[t+0]]+mi[e[t+1]]+mi[e[t+2]]+mi[e[t+3]]+"-"+mi[e[t+4]]+mi[e[t+5]]+"-"+mi[e[t+6]]+mi[e[t+7]]+"-"+mi[e[t+8]]+mi[e[t+9]]+"-"+mi[e[t+10]]+mi[e[t+11]]+mi[e[t+12]]+mi[e[t+13]]+mi[e[t+14]]+mi[e[t+15]]).toLowerCase()}var Wv,Zme=new Uint8Array(16);function ege(){if(!Wv&&(Wv=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Wv))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Wv(Zme)}var tge=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);const zD={randomUUID:tge};function El(e,t,n){if(zD.randomUUID&&!t&&!e)return zD.randomUUID();e=e||{};var i=e.random||(e.rng||ege)();return i[6]=i[6]&15|64,i[8]=i[8]&63|128,Jme(i)}const Gg=class Gg extends zh{constructor(){super(t=>Wh(ed.RECOVERY_LESSONS,t))}static get instance(){return this._instance||(this._instance=new Gg),this._instance}};In(Gg,"_instance",null);let oo=Gg;const qg=class qg{static get instance(){return this._instance||(this._instance=new qg),this._instance}async getStudentsOfSchool(t){const n=Pn(En("schoolId"),"==",t);return _o.instance.getAll(n)}observeStudentsOfSchool(t){const n=Pn(En("schoolId"),"==",t);return _o.instance.observeAll(n)}async getStudentsOfSchoolWithIds(t,n){if(n.length==0)return[];const i=Pn(En("schoolId"),"==",t),r=Pn(AX(),"in",n);return _o.instance.getAll(i,r)}};In(qg,"_instance",null);let Ao=qg;var $d=(e=>(e[e.SET_PRESENT=0]="SET_PRESENT",e[e.SET_ABSENT=1]="SET_ABSENT",e[e.CANCEL=2]="CANCEL",e[e.RESET=3]="RESET",e))($d||{});const sl=class sl{static get instance(){return this._instance||(this._instance=new sl),this._instance}async computeDailyLessons(t){const n=Array.from(new Set(t.recoveries.flatMap(d=>{var c;return[d.originalLesson.dailyLessonId,(c=d.recoveryLesson)==null?void 0:c.dailyLessonId]}).filter(Boolean))),r=(await Promise.all(n.map(d=>Dt.instance.get(d)))).filter(Boolean),s=await Ao.instance.getStudentsOfSchool(t.schoolId),o=[],a=[],l=[],u=(d,c,f,v,g)=>{f.push({...d,...c,...v,recoveryStatus:g})};return t.recoveries.forEach(d=>{const{originalLesson:c,recoveryLesson:f,status:v}=d,g=r.find(y=>y.id===c.dailyLessonId),p=f?r.find(y=>y.id===f.dailyLessonId):void 0;if(!g){console.warn("Unable to load original daily lesson of a recovery...");return}const _={originalDailyLesson:g,recoveryDailyLesson:p};g.lessons.forEach(y=>{if(y.lessonId!==c.lessonId)return;const b=s.find(E=>E.id===y.studentId);b&&(p?v!=null?u(y,b,l,_,v):u(y,b,a,_):u(y,b,o,_))})}),{recoveryMap:[{type:"unset",recoveries:o},{type:"pending",recoveries:a},{type:"done",recoveries:l}],schoolId:t.schoolId}}async getOrCreate(t){const n=await oo.instance.getDoc(t);if(n.exists())return n.data();const i={recoveries:[],schoolId:t};return await oo.instance.save(i,t),i}getRecoveryType(t){return!t.status&&!t.recoveryLesson?0:!t.status&&t.recoveryLesson?1:2}addRecoveryByType(t,n,i,r){let s=t.recoveries.findIndex(a=>a.originalLesson.dailyLessonId==n.dailyLessonId&&a.originalLesson.lessonId==n.lessonId);s==-1&&(t.recoveries.push({originalLesson:n}),s=t.recoveries.length-1);const o=t.recoveries[s];i==0?o.originalLesson=r:i==1?o.recoveryLesson=r:o.status=r}removeRecoveryByType(t,n,i){const r=t.recoveries.findIndex(s=>s.originalLesson.dailyLessonId==n.dailyLessonId&&s.originalLesson.lessonId==n.lessonId);if(r!=-1){if(i==0)return t.recoveries.splice(r,1),!0;if(i==1){if(t.recoveries[r].recoveryLesson)return delete t.recoveries[r].recoveryLesson,!0}else if(t.recoveries[r].status)return delete t.recoveries[r].status,!0}return!1}async updateRecovery(t,n,...i){var s;const r=await sl.instance.getOrCreate(n);for await(const o of i){const a=((s=o.recovery)==null?void 0:s.ref)=="original",l=a?{dailyLessonId:o.recovery.lessonRef.dailyLessonId,lessonId:o.recovery.lessonRef.lessonId}:{dailyLessonId:o.dailyLessonId,lessonId:o.lessonId};if(t==0)if(!a)this.removeRecoveryByType(r,l,0);else{const u=xn.PRESENT;this.addRecoveryByType(r,l,2,u)}else if(t==1)if(a){const u={...l};this.removeRecoveryByType(r,l,1),this.addRecoveryByType(r,l,0,u);const d=l.lessonId,c=await Dt.instance.get(l.dailyLessonId);await Fr.instance.moveRecoveryRefToUndoneList(c,d)}else{const u={...l};this.addRecoveryByType(r,l,0,u)}else if(t==2)if(!a)this.removeRecoveryByType(r,l,0);else{const u=xn.CANCELLED;this.addRecoveryByType(r,l,2,u)}else if(t==3){if(!a)this.removeRecoveryByType(r,l,0);else if(!this.removeRecoveryByType(r,l,2)){const d={dailyLessonId:o.dailyLessonId,lessonId:o.lessonId};this.addRecoveryByType(r,l,1,d);const c=l.lessonId,f=o.lessonId,v={lessonRef:{...l},ref:"original"},g={lessonRef:{...d},ref:"recovery"},p=await Dt.instance.get(l.dailyLessonId),_=await Dt.instance.get(o.dailyLessonId);await Fr.instance.addRecoveryRef(p,c,g),await Fr.instance.addRecoveryRef(_,f,v)}}}oo.instance.save(r,n)}async scheduleRecovery(t,n){const i=await sl.instance.getOrCreate(t.schoolId),r=await Fr.instance.createRecoveryLesson(n),s=await Dt.instance.getDoc(t.originalDailyLesson.id);if(s.exists()){const l=s.data(),u=l.lessons.find(d=>d.lessonId==t.lessonId);u&&(u.recovery={ref:"recovery",lessonRef:{dailyLessonId:r.dailyLessonId,lessonId:r.lessonId}},await Dt.instance.save(l,l.id))}else console.warn("");const o={dailyLessonId:t.originalDailyLesson.id,lessonId:t.lessonId},a={dailyLessonId:r.dailyLessonId,lessonId:r.lessonId};this.addRecoveryByType(i,o,1,a),oo.instance.save(i,t.schoolId)}async cancelRecovery(t,n){var c,f,v,g,p,_;if(!t.recoveryDailyLesson)return;const i=await sl.instance.getOrCreate(t.schoolId);let r,s;const o=[];((c=t.recovery)==null?void 0:c.ref)=="recovery"?(r=t.recovery.lessonRef,s=(v=(f=t.recoveryDailyLesson.lessons.find(y=>y.lessonId==(r==null?void 0:r.lessonId)))==null?void 0:f.recovery)==null?void 0:v.lessonRef):((g=t.recovery)==null?void 0:g.ref)=="original"&&(s=t.recovery.lessonRef,r=(_=(p=t.originalDailyLesson.lessons.find(y=>y.lessonId==(s==null?void 0:s.lessonId)))==null?void 0:p.recovery)==null?void 0:_.lessonRef);const a=await Dt.instance.get(t.recoveryDailyLesson.id),l=a==null?void 0:a.lessons.findIndex(y=>y.lessonId==(r==null?void 0:r.lessonId));a&&l!=null&&l!=-1&&(a.lessons.splice(l,1),a.lessons.length==0?await Dt.instance.delete(a.id):await Dt.instance.save(a,a.id));const u=await Dt.instance.get(t.originalDailyLesson.id),d=u==null?void 0:u.lessons.findIndex(y=>y.lessonId==(s==null?void 0:s.lessonId));u&&d!=null&&d!=-1&&(delete u.lessons[d].recovery,await Dt.instance.save(u,u.id)),s&&(o.push(2,1),n&&o.push(0),o.forEach(y=>this.removeRecoveryByType(i,s,y)),await oo.instance.save(i,t.schoolId))}};In(sl,"_instance",null);let Ss=sl;const Yg=class Yg{static get instance(){return this._instance||(this._instance=new Yg),this._instance}async getStudentLesson(t,n){n??(n=t.lessons.map(r=>r.studentId));const i=await Ao.instance.getStudentsOfSchoolWithIds(t.schoolId,n);return t.lessons.map(r=>{const s=i.find(o=>o.id==r.studentId);return{...r,...s}})}};In(Yg,"_instance",null);let sh=Yg;const Kg=class Kg{static get instance(){return this._instance||(this._instance=new Kg),this._instance}async computeSalary(t,n,i){const r=await Fr.instance.getDailyLessonOfSchoolBetweenDate(t.id,n,i);return this.computeSalaryOfDailyLessons(r)}async computeSalaryOfDailyLessons(t){const n=[];return t.forEach(i=>{const r=i.lessons.filter(o=>o.status==xn.PRESENT).length,s=i.lessons.filter(o=>o.status==xn.ABSENT).length;n.push({dailyLessonId:i.id,date:i.date,lastUpdate:i.lastSalaryUpdate,salary:i.salary,presents:r,absents:s})}),n}computeSalaryByStudentLesson(t,n){var r;if(!t)return 0;if(t.salaryStrategy==Zf.ABSENT_AND_PRESENT&&(n.status==xn.PRESENT||n.status==xn.ABSENT)||t.salaryStrategy==Zf.ONLY_PRESENT&&n.status==xn.PRESENT){const s=(r=t.levelRanges.find(o=>o.levels.includes(n.level)))==null?void 0:r.price;if(s!=null)return s*((n.endTime-n.startTime)/60)}return 0}};In(Kg,"_instance",null);let oh=Kg;const uf=class uf{static get instance(){return this._instance||(this._instance=new uf),this._instance}async getDailyLessonOfSchoolByDate(t,n){const i=Pn(En("schoolId"),"==",t),r=Pn(En("date"),"==",n);return Dt.instance.getAll(i,r)}async getDailyLessonOfSchoolFromDate(t,n,i){const r=[],s=Pn(En("schoolId"),"==",t),o=Pn(En("date"),">=",n);return r.push(s,o),i&&r.push(tL(En("date"),i)),Dt.instance.getAll(...r)}async getDailyLessonOfSchoolBetweenDate(t,n,i){const r=Pn(En("schoolId"),"==",t),s=Pn(En("date"),">=",n),o=Pn(En("date"),"<=",i);return await Dt.instance.getAll(r,s,o)}async getOrCreateDailyLessonId(t,n){return n instanceof Date?this.createDailyLessonByDate(t,n):this.handleLessonProjection(t,n)}async handleLessonProjection(t,n){if(!n.dailyLessonId){const i=this.buildDailyLessonFromProjection(t.schoolId,n);return Dt.instance.save(i)}return n.dailyLessonId}buildDailyLessonFromProjection(t,n){return{date:n.date.toIyyyyMMdd(),schoolId:t,lessons:n.lessons.map(i=>({lessonId:El(),status:xn.NONE,studentId:i.studentId,startTime:i.startTime,endTime:i.endTime,createdAt:Et.now(),updatedAt:Et.now()}))}}async createDailyLessonByDate(t,n){var o;const i=pt.fromDate(n).toIyyyyMMdd(),r=await uf.instance.getDailyLessonOfSchoolByDate(t.schoolId,i);if((o=r==null?void 0:r[0])!=null&&o.id)return r[0].id;const s=this.buildDailyLessonFromWeeklyOrEmpty(t,n,i);return Dt.instance.save(s)}buildDailyLessonFromWeeklyOrEmpty(t,n,i){const r=t.weeklyLessons.find(s=>s.dayOfWeek===n.getDay());return r?{date:i,schoolId:t.schoolId,lessons:r.schedule.map(s=>({lessonId:El(),status:xn.NONE,studentId:s.studentId,startTime:s.startTime,endTime:s.endTime,createdAt:Et.now(),updatedAt:Et.now()}))}:{date:i,schoolId:t.schoolId,lessons:[]}}async removeRecoveryLesson(t){const n=await Dt.instance.getDoc(t.dailyLessonId);if(n.exists()){const i=n.data(),r=i.lessons.findIndex(s=>s.lessonId==t.lessonId);if(r!=-1){const s=i.lessons.splice(r,1)[0];s.recovery||console.warn("Deleting a lesson not marked as recovery lesson!",s),Dt.instance.save(i,i.id)}}}async createRecoveryLesson(t){const n={lessonId:El(),status:xn.NONE,studentId:t.studentId,startTime:t.startTime,endTime:t.endTime,recovery:{ref:"original",lessonRef:{dailyLessonId:t.originalDailyLessonId,lessonId:t.originalLessonId}},createdAt:Et.now(),updatedAt:Et.now()},i=await ah.instance.getSchoolLessons(t.schoolId,t.date),r=await this.getOrCreateDailyLessonId(i,t.date),s=await Dt.instance.get(r);return s.lessons.push(n),await Dt.instance.save(s,s.id),{...n,dailyLessonId:s.id}}async removeRecoveryRef(t,n){const i=t.lessons.find(r=>r.lessonId==n);i&&i.recovery&&(delete i.recovery,await Dt.instance.save(t,t.id))}async moveRecoveryRefToUndoneList(t,n){const i=t.lessons.find(r=>r.lessonId==n);if(i&&i.recovery){const r={...i.recovery.lessonRef};i.undoneRecoveryRef||(i.undoneRecoveryRef=[]),i.undoneRecoveryRef.push(r),delete i.recovery,await Dt.instance.save(t,t.id)}}async addRecoveryRef(t,n,i){const r=t.lessons.find(s=>s.lessonId==n);r&&(r.recovery=i,await Dt.instance.save(t,t.id))}async deleteStudentLesson(t,n,i){const r=n.lessons.findIndex(s=>s.studentId==t.id)??-1;if(r==-1)return!1;try{const s=n.lessons[r];if(s.recovery){if(s.recovery.ref=="original"){const o=await Dt.instance.get(s.recovery.lessonRef.dailyLessonId),a=n;if(!o)return console.warn("Unable to cancel recovery because original daily lesson does not exist"),!1;const l={...t,originalDailyLesson:o,recoveryDailyLesson:a};await Ss.instance.cancelRecovery(l,i)}else if(s.recovery.ref=="recovery"){const o=await Dt.instance.get(s.recovery.lessonRef.dailyLessonId);if(!o)return console.warn("Unable to cancel recovery because recovery daily lesson does not exist"),!1;const l=(await sh.instance.getStudentLesson(o)).find(u=>u.lessonId==s.recovery.lessonRef.lessonId);if(!l)return console.warn("Unable to cancel recovery because recovery student lesson does not exist"),!1;await this.deleteStudentLesson(l,o,!0),n.lessons.splice(r,1),await Dt.instance.save(n,n.id)}}return!0}catch{return!1}}async computeSalaryOfDailyLesson(t,n){const i=await Dt.instance.get(n);if(!i)return;const r=i.lessons.map(a=>a.studentId),s=await sh.instance.getStudentLesson(i,r);let o=0;if(i.lessons.forEach(a=>{const l=s.find(u=>u.id==a.studentId);l!==void 0&&(o+=oh.instance.computeSalaryByStudentLesson(t,l))}),o!=i.salary)return i.salary=o,i.lastSalaryUpdate=Et.now(),await Dt.instance.save(i,i.id),i}};In(uf,"_instance",null);let Fr=uf;const Xg=class Xg{static get instance(){return this._instance||(this._instance=new Xg),this._instance}async getWeeklyLessonOfSchool(t){const n=Pn(En("schoolId"),"==",t);return Ps.instance.getAll(n)}async getWeeklyLessonOfSchoolByDayBetweenDate(t,n,i){const r=Pn(En("schoolId"),"==",t),s=Pn(En("dayOfWeek"),"==",n),o=Pn(En("from"),"<=",i),a=Pn(En("to"),">=",i);return Ps.instance.getAll(r,s,o,a)}observeWeekLessonOfSchool(t){const n=Pn(En("schoolId"),"==",t),i=tL(En("dayOfWeek"));return Ps.instance.observeAll(n,i)}};In(Xg,"_instance",null);let Vg=Xg;const Qg=class Qg{static get instance(){return this._instance||(this._instance=new Qg),this._instance}async deleteById(t){const n=AA(I0()),i=await Io.instance.getDoc(t);n.delete(i.ref),(await this.getSchoolRelations(t)).forEach(r=>n.delete(r)),await n.commit()}async delete(t){const n=AA(I0()),i=t.id;n.delete(t),(await this.getSchoolRelations(i)).forEach(r=>n.delete(r)),await n.commit()}async getSchoolRelations(t){const n=[];return(await _o.instance.getAllDocs(Pn(En("schoolId"),"==",t))).forEach(a=>n.push(a.ref)),(await Ps.instance.getAllDocs(Pn(En("schoolId"),"==",t))).forEach(a=>n.push(a.ref)),(await Dt.instance.getAllDocs(Pn(En("schoolId"),"==",t))).forEach(a=>n.push(a.ref)),(await oo.instance.getAllDocs(Pn(En("schoolId"),"==",t))).forEach(a=>n.push(a.ref)),n}async getSchoolLessons(t,n){const i=n instanceof Date?pt.fromDate(n).toIyyyyMMdd():n,r=await Fr.instance.getDailyLessonOfSchoolFromDate(t,i,"desc"),s=await Vg.instance.getWeeklyLessonOfSchool(t);return{dailyLessons:r,weeklyLessons:s,schoolId:t}}};In(Qg,"_instance",null);let ah=Qg;var Xw;(function(e){e.DragAndDrop="dragAndDrop",e.EventModal="eventModal",e.ScrollController="scrollController",e.EventRecurrence="eventRecurrence",e.Resize="resize",e.CalendarControls="calendarControls",e.CurrentTime="currentTime"})(Xw||(Xw={}));let nge=class extends Error{constructor(t){super(`Invalid time string: ${t}`)}};const ige=/^(0[0-9]|1[0-9]|2[0-3]):[0-5][0-9]$/,Cu=/^(\d{4})-(\d{2})-(\d{2}) (0[0-9]|1[0-9]|2[0-3]):[0-5][0-9]$/,zv=/^(\d{4})-(\d{2})-(\d{2})$/,GD={DATE_STRING:/^\d{4}-\d{2}-\d{2}$/,TIME_STRING:/^\d{2}:\d{2}$/,DATE_TIME_STRING:/^\d{4}-\d{2}-\d{2} \d{2}:\d{2}$/};let rge=class extends Error{constructor(t){super(`Invalid date time specification: ${t}`)}};const n6=e=>{if(!GD.DATE_TIME_STRING.test(e)&&!GD.DATE_STRING.test(e))throw new rge(e);return new Date(Number(e.slice(0,4)),Number(e.slice(5,7))-1,Number(e.slice(8,10)),Number(e.slice(11,13)),Number(e.slice(14,16)))},Qw=e=>{const t=e.slice(11,13),n=e.slice(14,16);return{year:Number(e.slice(0,4)),month:Number(e.slice(5,7))-1,date:Number(e.slice(8,10)),hours:t!==""?Number(t):void 0,minutes:n!==""?Number(n):void 0}};let sge=class extends Error{constructor(t,n){super(`Number must be between ${t} and ${n}.`),Object.defineProperty(this,"min",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"max",{enumerable:!0,configurable:!0,writable:!0,value:n})}};const Ng=e=>{if(e<0||e>99)throw new sge(0,99);return String(e).padStart(2,"0")},BC=e=>`${e.getFullYear()}-${Ng(e.getMonth()+1)}-${Ng(e.getDate())}`,oge=e=>`${Ng(e.getHours())}:${Ng(e.getMinutes())}`,i6=e=>`${BC(e)} ${oge(e)}`,r6=1.6666666666666667,qD=e=>{if(!ige.test(e)&&e!=="24:00")throw new nge(e);const[t,n]=e.split(":").map(r=>parseInt(r,10));let i=(n*r6).toString();return i.split(".")[0].length<2&&(i=`0${i}`),Number(t+i)},YD=(e,t)=>{const n=t/r6,i=n6(e);return i.setMinutes(i.getMinutes()+n),i6(i)},Es=(e,t)=>{const{year:n,month:i,date:r,hours:s,minutes:o}=Qw(e),a=s!==void 0&&o!==void 0,l=new Date(n,i,r,s??0,o??0);return l.setDate(l.getDate()+t),a?i6(l):BC(l)},sr=e=>e.slice(0,10),Jw=e=>e.slice(11),KD=(e,t)=>{const n=Jw(e);return`${t} ${n}`},s6=e=>"time-grid-event-copy-"+e,age=(e,t,n)=>{var i;(i=e.config.plugins.eventRecurrence)===null||i===void 0||i.updateRecurrenceDND(t.id,n,t.start)},lge=(e,t)=>{const n=e.calendarEvents.list.value.find(i=>i.id===t.id);n&&(n.start=t.start,n.end=t.end,e.calendarEvents.list.value=[...e.calendarEvents.list.value])},UC=(e,t,n)=>{"rrule"in t._getForeignProperties()&&e.config.plugins.eventRecurrence?age(e,t,n):lge(e,t),e.config.callbacks.onEventUpdate&&e.config.callbacks.onEventUpdate(t._getExternalEvent())},uge=e=>"touches"in e&&typeof e.touches=="object",o6=e=>{const t=uge(e)?e.touches[0]:e;return{clientX:t.clientX,clientY:t.clientY}},cge=e=>e.config.timePointsPerDay/e.config.weekOptions.value.gridHeight;class dge{constructor(t,n,i,r,s,o){Object.defineProperty(this,"$app",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"eventCoordinates",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(this,"eventCopy",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"updateCopy",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"dayBoundariesDateTime",{enumerable:!0,configurable:!0,writable:!0,value:s}),Object.defineProperty(this,"CHANGE_THRESHOLD_IN_TIME_POINTS",{enumerable:!0,configurable:!0,writable:!0,value:o}),Object.defineProperty(this,"dayWidth",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"startY",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"startX",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"lastIntervalDiff",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"lastDaysDiff",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"originalStart",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"handleMouseOrTouchMove",{enumerable:!0,configurable:!0,writable:!0,value:a=>{const{clientX:l,clientY:u}=o6(a),c=(u-this.startY)*this.timePointsPerPixel(),f=Math.round(c/this.CHANGE_THRESHOLD_IN_TIME_POINTS),v=l-this.startX,g=Math.round(v/this.dayWidth);this.handleVerticalMouseOrTouchMove(f),this.handleHorizontalMouseOrTouchMove(g)}}),Object.defineProperty(this,"handleMouseUpOrTouchEnd",{enumerable:!0,configurable:!0,writable:!0,value:()=>{document.removeEventListener("mousemove",this.handleMouseOrTouchMove),document.removeEventListener("touchmove",this.handleMouseOrTouchMove),this.updateCopy(void 0),this.updateOriginalEvent()}}),this.dayWidth=t.elements.calendarWrapper.querySelector(".sx__time-grid-day").clientWidth,this.startY=this.eventCoordinates.clientY,this.startX=this.eventCoordinates.clientX,this.originalStart=this.eventCopy.start,this.init()}init(){document.addEventListener("mousemove",this.handleMouseOrTouchMove),document.addEventListener("mouseup",this.handleMouseUpOrTouchEnd,{once:!0}),document.addEventListener("touchmove",this.handleMouseOrTouchMove,{passive:!1}),document.addEventListener("touchend",this.handleMouseUpOrTouchEnd,{once:!0})}timePointsPerPixel(){return cge(this.$app)}handleVerticalMouseOrTouchMove(t){if(t===this.lastIntervalDiff)return;const n=t>this.lastIntervalDiff?this.CHANGE_THRESHOLD_IN_TIME_POINTS:-this.CHANGE_THRESHOLD_IN_TIME_POINTS;this.setTimeForEventCopy(n),this.lastIntervalDiff=t}setTimeForEventCopy(t){const n=YD(this.eventCopy.start,t),i=YD(this.eventCopy.end,t);n<Es(this.dayBoundariesDateTime.start,this.lastDaysDiff)||i>Es(this.dayBoundariesDateTime.end,this.lastDaysDiff)||(this.eventCopy.start=n,this.eventCopy.end=i,this.updateCopy(this.eventCopy))}handleHorizontalMouseOrTouchMove(t){if(t===this.lastDaysDiff)return;const n=t-this.lastDaysDiff,i=Es(sr(this.eventCopy.start),n),r=Es(sr(this.eventCopy.end),n),s=KD(this.eventCopy.start,i),o=KD(this.eventCopy.end,r);s<this.$app.calendarState.range.value.start||o>this.$app.calendarState.range.value.end||(this.setDateForEventCopy(s,o),this.transformEventCopyPosition(t),this.lastDaysDiff=t)}setDateForEventCopy(t,n){this.eventCopy.start=t,this.eventCopy.end=n,this.updateCopy(this.eventCopy)}transformEventCopyPosition(t){const n=this.$app.elements.calendarWrapper.querySelector("#"+s6(this.eventCopy.id));n.style.transform=`translateX(calc(${t*100}% + ${t}px))`}updateOriginalEvent(){if(this.lastIntervalDiff===0&&this.lastDaysDiff===0)return;const t=this.lastDaysDiff===0,n=document.querySelector(`[data-event-id="${this.eventCopy.id}"]`);!t&&n instanceof HTMLElement&&(n.style.display="none"),UC(this.$app,this.eventCopy,this.originalStart)}}const fge=e=>e.elements.calendarWrapper.querySelector(".sx__time-grid-day").clientWidth,hge=(e,t)=>e.elements.calendarWrapper.querySelector("#"+s6(t.id)),XD=1e3*60*60*24;class vge{constructor(t,n,i,r){Object.defineProperty(this,"$app",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"eventCopy",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"updateCopy",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"startX",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"dayWidth",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"originalStart",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"originalEnd",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"rangeStartDate",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"rangeEndDate",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"lastDaysDiff",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"handleMouseOrTouchMove",{enumerable:!0,configurable:!0,writable:!0,value:s=>{const{clientX:o}=o6(s),a=o-this.startX,l=Math.round(a/this.dayWidth);if(l===this.lastDaysDiff)return;const u=Es(this.originalStart,l),d=Es(this.originalEnd,l),c=sr(u),f=sr(d);if(c>this.rangeEndDate||f<this.rangeStartDate)return;this.eventCopy.start=u,this.eventCopy.end=d;const g=c>=this.rangeStartDate&&c<=this.rangeEndDate?c:this.rangeStartDate,_=f>=this.rangeStartDate&&f<=this.rangeEndDate?f:this.rangeEndDate;this.eventCopy._nDaysInGrid=Math.round((new Date(_).getTime()-new Date(g).getTime())/XD)+1,c>=this.rangeStartDate&&this.transformEventCopyPosition(c),this.updateCopy(this.eventCopy),this.lastDaysDiff=l}}),Object.defineProperty(this,"handleMouseUpOrTouchEnd",{enumerable:!0,configurable:!0,writable:!0,value:()=>{document.removeEventListener("mousemove",this.handleMouseOrTouchMove),document.removeEventListener("touchmove",this.handleMouseOrTouchMove),this.updateOriginalEvent(),setTimeout(()=>{this.updateCopy(void 0)},10)}}),this.startX=n.clientX,this.dayWidth=fge(this.$app),this.originalStart=this.eventCopy.start,this.originalEnd=this.eventCopy.end,this.rangeStartDate=sr(this.$app.calendarState.range.value.start),this.rangeEndDate=Es(this.rangeStartDate,t.config.weekOptions.value.nDays-1),this.init()}init(){document.addEventListener("mousemove",this.handleMouseOrTouchMove),document.addEventListener("mouseup",this.handleMouseUpOrTouchEnd,{once:!0}),document.addEventListener("touchmove",this.handleMouseOrTouchMove,{passive:!1}),document.addEventListener("touchend",this.handleMouseUpOrTouchEnd,{once:!0})}transformEventCopyPosition(t){const n=sr(this.originalStart),i=Math.round((new Date(t).getTime()-new Date(n>=this.rangeStartDate?n:this.rangeStartDate).getTime())/XD);hge(this.$app,this.eventCopy).style.transform=`translateX(calc(${i*this.dayWidth}px + ${i}px))`}updateOriginalEvent(){this.lastDaysDiff!==0&&UC(this.$app,this.eventCopy,this.originalStart)}}const QD=(e,t)=>{const{year:n,month:i,date:r}=Qw(e),{year:s,month:o,date:a}=Qw(t),l=new Date(n,i,r),d=new Date(s,o,a).getTime()-l.getTime();return Math.round(d/(1e3*3600*24))};var Zw;(function(e){e[e.SUNDAY=0]="SUNDAY",e[e.MONDAY=1]="MONDAY",e[e.TUESDAY=2]="TUESDAY",e[e.WEDNESDAY=3]="WEDNESDAY",e[e.THURSDAY=4]="THURSDAY",e[e.FRIDAY=5]="FRIDAY",e[e.SATURDAY=6]="SATURDAY"})(Zw||(Zw={}));Zw.MONDAY;const mge="primary";let gge=class{constructor(t,n,i,r,s,o,a,l,u,d=void 0,c={},f={}){Object.defineProperty(this,"_config",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"id",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(this,"start",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"end",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"title",{enumerable:!0,configurable:!0,writable:!0,value:s}),Object.defineProperty(this,"people",{enumerable:!0,configurable:!0,writable:!0,value:o}),Object.defineProperty(this,"location",{enumerable:!0,configurable:!0,writable:!0,value:a}),Object.defineProperty(this,"description",{enumerable:!0,configurable:!0,writable:!0,value:l}),Object.defineProperty(this,"calendarId",{enumerable:!0,configurable:!0,writable:!0,value:u}),Object.defineProperty(this,"_options",{enumerable:!0,configurable:!0,writable:!0,value:d}),Object.defineProperty(this,"_customContent",{enumerable:!0,configurable:!0,writable:!0,value:c}),Object.defineProperty(this,"_foreignProperties",{enumerable:!0,configurable:!0,writable:!0,value:f}),Object.defineProperty(this,"_previousConcurrentEvents",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_totalConcurrentEvents",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_nDaysInGrid",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_eventFragments",{enumerable:!0,configurable:!0,writable:!0,value:{}})}get _isSingleDayTimed(){return Cu.test(this.start)&&Cu.test(this.end)&&sr(this.start)===sr(this.end)}get _isSingleDayFullDay(){return zv.test(this.start)&&zv.test(this.end)&&this.start===this.end}get _isMultiDayTimed(){return Cu.test(this.start)&&Cu.test(this.end)&&sr(this.start)!==sr(this.end)}get _isMultiDayFullDay(){return zv.test(this.start)&&zv.test(this.end)&&this.start!==this.end}get _isSingleHybridDayTimed(){if(!this._config.isHybridDay||!Cu.test(this.start)||!Cu.test(this.end))return!1;const t=sr(this.start),n=sr(this.end),i=BC(new Date(n6(n).getTime()-864e5));if(t!==n&&t!==i)return!1;const r=this._config.dayBoundaries.value,s=qD(Jw(this.start)),o=qD(Jw(this.end));return s>=r.start&&(o<=r.end||o>s)||s<r.end&&o<=r.end}get _color(){return this.calendarId&&this._config.calendars.value&&this.calendarId in this._config.calendars.value?this._config.calendars.value[this.calendarId].colorName:mge}_getForeignProperties(){return this._foreignProperties}_getExternalEvent(){return{id:this.id,start:this.start,end:this.end,title:this.title,people:this.people,location:this.location,description:this.description,calendarId:this.calendarId,_options:this._options,...this._getForeignProperties()}}},pge=class{constructor(t,n,i,r){Object.defineProperty(this,"_config",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"id",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(this,"start",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"end",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"people",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"location",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"description",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"title",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"calendarId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_foreignProperties",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_options",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_customContent",{enumerable:!0,configurable:!0,writable:!0,value:{}})}build(){return new gge(this._config,this.id,this.start,this.end,this.title,this.people,this.location,this.description,this.calendarId,this._options,this._customContent,this._foreignProperties)}withTitle(t){return this.title=t,this}withPeople(t){return this.people=t,this}withLocation(t){return this.location=t,this}withDescription(t){return this.description=t,this}withForeignProperties(t){return this._foreignProperties=t,this}withCalendarId(t){return this.calendarId=t,this}withOptions(t){return this._options=t,this}withCustomContent(t){return this._customContent=t,this}};const _ge=(e,t)=>{const n=new pge(t.config,e.id,e.start,e.end).withTitle(e.title).withPeople(e.people).withCalendarId(e.calendarId).withForeignProperties(JSON.parse(JSON.stringify(e._getForeignProperties()))).withLocation(e.location).withDescription(e.description).withOptions(e._options).withCustomContent(e._customContent).build();return n._nDaysInGrid=e._nDaysInGrid,n};class yge{constructor(t,n){Object.defineProperty(this,"calendarEvent",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"$app",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(this,"allDayElements",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"currentDragoverDate",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"eventNDays",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"originalStart",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"MONTH_DAY_CLASS_NAME",{enumerable:!0,configurable:!0,writable:!0,value:"sx__month-grid-day"}),Object.defineProperty(this,"MONTH_DAY_SELECTOR",{enumerable:!0,configurable:!0,writable:!0,value:`.${this.MONTH_DAY_CLASS_NAME}`}),Object.defineProperty(this,"DAY_DRAGOVER_CLASS_NAME",{enumerable:!0,configurable:!0,writable:!0,value:"sx__month-grid-day--dragover"}),Object.defineProperty(this,"handleDragOver",{enumerable:!0,configurable:!0,writable:!0,value:i=>{i.preventDefault();let r=i.target;if((!(r instanceof HTMLDivElement)||!r.classList.contains(this.MONTH_DAY_CLASS_NAME))&&(r=i.target.closest(this.MONTH_DAY_SELECTOR)),this.currentDragoverDate===r.dataset.date)return;this.currentDragoverDate=r.dataset.date;const s=Es(this.currentDragoverDate,this.eventNDays-1);this.allDayElements.forEach(o=>{const a=o.dataset.date;a>=this.currentDragoverDate&&a<=s?o.classList.add(this.DAY_DRAGOVER_CLASS_NAME):o.classList.remove(this.DAY_DRAGOVER_CLASS_NAME)})}}),Object.defineProperty(this,"handleDragEnd",{enumerable:!0,configurable:!0,writable:!0,value:()=>{this.allDayElements.forEach(i=>{i.removeEventListener("dragover",this.handleDragOver),i.classList.remove(this.DAY_DRAGOVER_CLASS_NAME)}),this.setCalendarEventPointerEventsTo("auto"),this.updateCalendarEvent()}}),Object.defineProperty(this,"setCalendarEventPointerEventsTo",{enumerable:!0,configurable:!0,writable:!0,value:i=>{var r;((r=this.$app.elements.calendarWrapper)===null||r===void 0?void 0:r.querySelectorAll(".sx__event")).forEach(s=>{String(s.dataset.eventId)!==String(this.calendarEvent.id)&&(s.style.pointerEvents=i)})}}),Object.defineProperty(this,"updateCalendarEvent",{enumerable:!0,configurable:!0,writable:!0,value:()=>{const i=_ge(this.calendarEvent,this.$app),r=QD(sr(this.calendarEvent.start),sr(this.currentDragoverDate));i.start=Es(i.start,r),i.end=Es(i.end,r),UC(this.$app,i,this.originalStart)}}),this.originalStart=this.calendarEvent.start,this.allDayElements=n.elements.calendarWrapper.querySelectorAll(this.MONTH_DAY_SELECTOR),this.eventNDays=QD(this.calendarEvent.start,this.calendarEvent.end)+1,this.init()}init(){document.addEventListener("dragend",this.handleDragEnd,{once:!0}),this.allDayElements.forEach(t=>{t.addEventListener("dragover",this.handleDragOver)}),this.setCalendarEventPointerEventsTo("none")}}const bge=(e,t)=>(t.name=e,t);class wge{onRender(t){t.elements.calendarWrapper&&(t.elements.calendarWrapper.dataset.hasDnd="true")}constructor(t){Object.defineProperty(this,"minutesPerInterval",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:Xw.DragAndDrop})}createTimeGridDragHandler(t,n){return new dge(t.$app,t.eventCoordinates,t.eventCopy,t.updateCopy,n,this.getTimePointsForIntervalConfig())}getTimePointsForIntervalConfig(){return this.minutesPerInterval===60?100:this.minutesPerInterval===30?50:25}createDateGridDragHandler(t){return new vge(t.$app,t.eventCoordinates,t.eventCopy,t.updateCopy)}createMonthGridDragHandler(t,n){return new yge(t,n)}}const Sge=(e=15)=>bge("dragAndDrop",new wge(e));var eS;(function(e){e.DragAndDrop="dragAndDrop",e.EventModal="eventModal",e.ScrollController="scrollController",e.EventRecurrence="eventRecurrence",e.Resize="resize",e.CalendarControls="calendarControls",e.CurrentTime="currentTime"})(eS||(eS={}));const Ege=()=>"s"+Math.random().toString(36).substring(2,11),Cge=(e,t)=>function(n){n.target instanceof HTMLElement&&(n.target.closest(`#${t}`)||e.config.plugins.eventModal.close())},kge=(e,t,n=250)=>{const o=t.bottom-e.top>n,a=t.bottom<e.bottom,l=t.top<e.top;let u=0,d=0,c="0%";e.bottom-t.top>n&&!l?u=t.top:o&&a?u=t.bottom-n:o&&!a?u=e.bottom-n:u=e.top,e.right-t.right>410?(d=t.right+10,c="-10%"):t.left-e.left>410?(d=t.left-410,c="10%"):d=e.left,document.documentElement.style.setProperty("--sx-event-modal-animation-start",c),document.documentElement.style.setProperty("--sx-event-modal-top",`${u}px`),document.documentElement.style.setProperty("--sx-event-modal-left",`${d}px`)};function Tge({strokeColor:e}){return X(Vt,{children:X("svg",{className:"sx__event-icon",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[X("g",{id:"SVGRepo_bgCarrier","stroke-width":"0"}),X("g",{id:"SVGRepo_tracerCarrier","stroke-linecap":"round","stroke-linejoin":"round"}),X("g",{id:"SVGRepo_iconCarrier",children:[X("path",{d:"M12 8V12L15 15",stroke:e,"stroke-width":"2","stroke-linecap":"round"}),X("circle",{cx:"12",cy:"12",r:"9",stroke:e,"stroke-width":"2"})]})]})})}function Ige({strokeColor:e}){return X(Vt,{children:X("svg",{className:"sx__event-icon",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[X("g",{id:"SVGRepo_bgCarrier","stroke-width":"0"}),X("g",{id:"SVGRepo_tracerCarrier","stroke-linecap":"round","stroke-linejoin":"round"}),X("g",{id:"SVGRepo_iconCarrier",children:[X("path",{d:"M15 7C15 8.65685 13.6569 10 12 10C10.3431 10 9 8.65685 9 7C9 5.34315 10.3431 4 12 4C13.6569 4 15 5.34315 15 7Z",stroke:e,"stroke-width":"2"}),X("path",{d:"M5 19.5C5 15.9101 7.91015 13 11.5 13H12.5C16.0899 13 19 15.9101 19 19.5V20C19 20.5523 18.5523 21 18 21H6C5.44772 21 5 20.5523 5 20V19.5Z",stroke:e,"stroke-width":"2"})]})]})})}const Age=e=>e.reduce((t,n,i)=>i===0?n:i===e.length-1?`${t} & ${n}`:`${t}, ${n}`,"");function Pge({strokeColor:e}){return X(Vt,{children:X("svg",{className:"sx__event-icon",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[X("g",{id:"SVGRepo_bgCarrier","stroke-width":"0"}),X("g",{id:"SVGRepo_tracerCarrier","stroke-linecap":"round","stroke-linejoin":"round"}),X("g",{id:"SVGRepo_iconCarrier",children:[X("g",{"clip-path":"url(#clip0_429_11046)",children:[X("rect",{x:"12",y:"11",width:"0.01",height:"0.01",stroke:e,"stroke-width":"2","stroke-linejoin":"round"}),X("path",{d:"M12 22L17.5 16.5C20.5376 13.4624 20.5376 8.53757 17.5 5.5C14.4624 2.46244 9.53757 2.46244 6.5 5.5C3.46244 8.53757 3.46244 13.4624 6.5 16.5L12 22Z",stroke:e,"stroke-width":"2","stroke-linejoin":"round"})]}),X("defs",{children:X("clipPath",{id:"clip0_429_11046",children:X("rect",{width:"24",height:"24",fill:"white"})})})]})]})})}function xge({strokeColor:e}){return X(Vt,{children:X("svg",{className:"sx__event-icon",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[X("g",{id:"SVGRepo_bgCarrier","stroke-width":"0"}),X("g",{id:"SVGRepo_tracerCarrier","stroke-linecap":"round","stroke-linejoin":"round"}),X("g",{id:"SVGRepo_iconCarrier",children:[X("rect",{x:"4",y:"4",width:"16",height:"16",rx:"3",stroke:e,"stroke-width":"2"}),X("path",{d:"M16 10L8 10",stroke:e,"stroke-width":"2","stroke-linecap":"round"}),X("path",{d:"M16 14L8 14",stroke:e,"stroke-width":"2","stroke-linecap":"round"})]})]})})}const a6=e=>{const t=e.slice(11,13),n=e.slice(14,16);return{year:Number(e.slice(0,4)),month:Number(e.slice(5,7))-1,date:Number(e.slice(8,10)),hours:t!==""?Number(t):void 0,minutes:n!==""?Number(n):void 0}},ku=(e,t)=>{const{year:n,month:i,date:r}=a6(e);return new Date(n,i,r).toLocaleDateString(t,{day:"numeric",month:"long",year:"numeric"})},Gv=(e,t)=>{const{year:n,month:i,date:r,hours:s,minutes:o}=a6(e);return new Date(n,i,r,s,o).toLocaleTimeString(t,{hour:"numeric",minute:"numeric"})},Dge=(e,t,n="")=>{const i={start:e.start,end:e.end};return e._isSingleDayFullDay?ku(i.start,t):e._isMultiDayFullDay?`${ku(i.start,t)} ${n} ${ku(i.end,t)}`:e._isSingleDayTimed?`${ku(i.start,t)} <span aria-hidden="true"></span> ${Gv(i.start,t)} ${n} ${Gv(i.end,t)}`:`${ku(i.start,t)}, ${Gv(i.start,t)} ${n} ${ku(i.end,t)}, ${Gv(i.end,t)}`},Rge=e=>{const t="#000",n="var(--sx-color-neutral-variant)",i=$t(e.calendarState.isDark.value?n:t);return To(()=>{e.calendarState.isDark.value?i.value=n:i.value=t}),i},Oge=e=>{if(e){const t=e.scrollHeight>e.clientHeight,i=window.getComputedStyle(e).overflowY.indexOf("hidden")!==-1;return t&&!i}return!0},l6=(e,t=[])=>!e||e===document.body||e.nodeType===Node.DOCUMENT_FRAGMENT_NODE?(t.push(window),t):(Oge(e)&&t.push(e),l6(e.assignedSlot?e.assignedSlot.parentNode:e.parentNode,t)),Vge=e=>{setTimeout(()=>{e()})};function Nge({$app:e}){const[t]=wt(Ege()),{value:n}=e.config.plugins.eventModal.calendarEvent,[i,r]=wt(!1),s=e.config._customComponentFns.eventModal,[o,a]=wt("sx__event-modal"),l=()=>{var c,f,v;kge((c=e.elements.calendarWrapper)===null||c===void 0?void 0:c.getBoundingClientRect(),(f=e.config.plugins.eventModal)===null||f===void 0?void 0:f.calendarEventDOMRect.value,((v=e.elements.calendarWrapper)===null||v===void 0?void 0:v.querySelector(".sx__event-modal")).clientHeight)},u=()=>{var c,f;e.config.plugins.eventModal.calendarEventDOMRect.value=(f=(c=e.config.plugins.eventModal)===null||c===void 0?void 0:c.calendarEventElement.value)===null||f===void 0?void 0:f.getBoundingClientRect(),l()};Xt(()=>{var c;s?s(document.querySelector(`[data-ccid=${t}]`),{calendarEvent:n==null?void 0:n._getExternalEvent()}):a(o.concat(" sx__event-modal-default")),Vge(()=>{l()}),r(!0);const f=Cge(e,t),v=l6(((c=e.config.plugins.eventModal)===null||c===void 0?void 0:c.calendarEventElement.value)||null);return v.forEach(g=>g.addEventListener("scroll",u)),document.addEventListener("click",f),()=>{document.removeEventListener("click",f),v.forEach(g=>g.removeEventListener("scroll",u))}},[]);const d=Rge(e);return X(Vt,{children:n&&X("div",{id:t,tabIndex:0,"data-ccid":t,className:`${o}${i?" is-open":""}`,children:!s&&X(Vt,{children:[X("div",{className:"sx__has-icon sx__event-modal__title",children:[X("div",{style:{backgroundColor:`var(--sx-color-${n._color}-container)`},className:"sx__event-modal__color-icon sx__event-icon"}),n.title]}),X("div",{className:"sx__has-icon sx__event-modal__time",children:[X(Tge,{strokeColor:d.value}),X("div",{dangerouslySetInnerHTML:{__html:Dge(n,e.config.locale.value)}})]}),n.people&&n.people.length&&X("div",{className:"sx__has-icon sx__event-modal__people",children:[X(Ige,{strokeColor:d.value}),Age(n.people)]}),n.location&&X("div",{className:"sx__has-icon sx__event-modal__location",children:[X(Pge,{strokeColor:d.value}),n.location]}),n.description&&X("div",{className:"sx__has-icon sx__event-modal__description",children:[X(xge,{strokeColor:d.value}),n.description]})]})})})}const Mge=(e,t)=>(t.name=e,t);class Lge{constructor(){Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:eS.EventModal}),Object.defineProperty(this,"calendarEvent",{enumerable:!0,configurable:!0,writable:!0,value:$t(null)}),Object.defineProperty(this,"calendarEventDOMRect",{enumerable:!0,configurable:!0,writable:!0,value:$t(null)}),Object.defineProperty(this,"calendarEventElement",{enumerable:!0,configurable:!0,writable:!0,value:$t(null)}),Object.defineProperty(this,"ComponentFn",{enumerable:!0,configurable:!0,writable:!0,value:Nge})}setCalendarEvent(t,n){Aw(()=>{this.calendarEvent.value=t,this.calendarEventDOMRect.value=n})}close(){Aw(()=>{this.calendarEvent.value=null,this.calendarEventDOMRect.value=null})}}const u6=()=>Mge("eventModal",new Lge),Fge=/^(0[0-9]|1[0-9]|2[0-3]):[0-5][0-9]$/,Tu=/^(\d{4})-(\d{2})-(\d{2}) (0[0-9]|1[0-9]|2[0-3]):[0-5][0-9]$/,qv=/^(\d{4})-(\d{2})-(\d{2})$/,JD={DATE_STRING:/^\d{4}-\d{2}-\d{2}$/,TIME_STRING:/^\d{2}:\d{2}$/,DATE_TIME_STRING:/^\d{4}-\d{2}-\d{2} \d{2}:\d{2}$/};class $ge extends Error{constructor(t){super(`Invalid date time specification: ${t}`)}}const Bge=e=>{if(!JD.DATE_TIME_STRING.test(e)&&!JD.DATE_STRING.test(e))throw new $ge(e);return new Date(Number(e.slice(0,4)),Number(e.slice(5,7))-1,Number(e.slice(8,10)),Number(e.slice(11,13)),Number(e.slice(14,16)))};let Uge=class extends Error{constructor(t,n){super(`Number must be between ${t} and ${n}.`),Object.defineProperty(this,"min",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"max",{enumerable:!0,configurable:!0,writable:!0,value:n})}};const ZD=e=>{if(e<0||e>99)throw new Uge(0,99);return String(e).padStart(2,"0")},jge=e=>`${e.getFullYear()}-${ZD(e.getMonth()+1)}-${ZD(e.getDate())}`;let Hge=class extends Error{constructor(t){super(`Invalid time string: ${t}`)}};const Wge=1.6666666666666667,eR=e=>{if(!Fge.test(e)&&e!=="24:00")throw new Hge(e);const[t,n]=e.split(":").map(r=>parseInt(r,10));let i=(n*Wge).toString();return i.split(".")[0].length<2&&(i=`0${i}`),Number(t+i)},Iu=e=>e.slice(0,10),tR=e=>e.slice(11);var tS;(function(e){e[e.SUNDAY=0]="SUNDAY",e[e.MONDAY=1]="MONDAY",e[e.TUESDAY=2]="TUESDAY",e[e.WEDNESDAY=3]="WEDNESDAY",e[e.THURSDAY=4]="THURSDAY",e[e.FRIDAY=5]="FRIDAY",e[e.SATURDAY=6]="SATURDAY"})(tS||(tS={}));tS.MONDAY;const zge="primary";class Gge{constructor(t,n,i,r,s,o,a,l,u,d=void 0,c={},f={}){Object.defineProperty(this,"_config",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"id",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(this,"start",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"end",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"title",{enumerable:!0,configurable:!0,writable:!0,value:s}),Object.defineProperty(this,"people",{enumerable:!0,configurable:!0,writable:!0,value:o}),Object.defineProperty(this,"location",{enumerable:!0,configurable:!0,writable:!0,value:a}),Object.defineProperty(this,"description",{enumerable:!0,configurable:!0,writable:!0,value:l}),Object.defineProperty(this,"calendarId",{enumerable:!0,configurable:!0,writable:!0,value:u}),Object.defineProperty(this,"_options",{enumerable:!0,configurable:!0,writable:!0,value:d}),Object.defineProperty(this,"_customContent",{enumerable:!0,configurable:!0,writable:!0,value:c}),Object.defineProperty(this,"_foreignProperties",{enumerable:!0,configurable:!0,writable:!0,value:f}),Object.defineProperty(this,"_previousConcurrentEvents",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_totalConcurrentEvents",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_nDaysInGrid",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_eventFragments",{enumerable:!0,configurable:!0,writable:!0,value:{}})}get _isSingleDayTimed(){return Tu.test(this.start)&&Tu.test(this.end)&&Iu(this.start)===Iu(this.end)}get _isSingleDayFullDay(){return qv.test(this.start)&&qv.test(this.end)&&this.start===this.end}get _isMultiDayTimed(){return Tu.test(this.start)&&Tu.test(this.end)&&Iu(this.start)!==Iu(this.end)}get _isMultiDayFullDay(){return qv.test(this.start)&&qv.test(this.end)&&this.start!==this.end}get _isSingleHybridDayTimed(){if(!this._config.isHybridDay||!Tu.test(this.start)||!Tu.test(this.end))return!1;const t=Iu(this.start),n=Iu(this.end),i=jge(new Date(Bge(n).getTime()-864e5));if(t!==n&&t!==i)return!1;const r=this._config.dayBoundaries.value,s=eR(tR(this.start)),o=eR(tR(this.end));return s>=r.start&&(o<=r.end||o>s)||s<r.end&&o<=r.end}get _color(){return this.calendarId&&this._config.calendars.value&&this.calendarId in this._config.calendars.value?this._config.calendars.value[this.calendarId].colorName:zge}_getForeignProperties(){return this._foreignProperties}_getExternalEvent(){return{id:this.id,start:this.start,end:this.end,title:this.title,people:this.people,location:this.location,description:this.description,calendarId:this.calendarId,_options:this._options,...this._getForeignProperties()}}}class qge{constructor(t,n,i,r){Object.defineProperty(this,"_config",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"id",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(this,"start",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"end",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"people",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"location",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"description",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"title",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"calendarId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_foreignProperties",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_options",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_customContent",{enumerable:!0,configurable:!0,writable:!0,value:{}})}build(){return new Gge(this._config,this.id,this.start,this.end,this.title,this.people,this.location,this.description,this.calendarId,this._options,this._customContent,this._foreignProperties)}withTitle(t){return this.title=t,this}withPeople(t){return this.people=t,this}withLocation(t){return this.location=t,this}withDescription(t){return this.description=t,this}withForeignProperties(t){return this._foreignProperties=t,this}withCalendarId(t){return this.calendarId=t,this}withOptions(t){return this._options=t,this}withCustomContent(t){return this._customContent=t,this}}const mb=(e,t)=>{const{id:n,start:i,end:r,title:s,description:o,location:a,people:l,_options:u,...d}=e;return new qge(t,n,i,r).withTitle(s).withDescription(o).withLocation(a).withPeople(l).withCalendarId(e.calendarId).withOptions(u).withForeignProperties(d).withCustomContent(e._customContent).build()};class Yge{constructor(t){Object.defineProperty(this,"$app",{enumerable:!0,configurable:!0,writable:!0,value:t})}set(t){this.$app.calendarEvents.list.value=t.map(n=>mb(n,this.$app.config))}add(t){const n=mb(t,this.$app.config),i=[...this.$app.calendarEvents.list.value];i.push(n),this.$app.calendarEvents.list.value=i}get(t){var n;return(n=this.$app.calendarEvents.list.value.find(i=>i.id===t))===null||n===void 0?void 0:n._getExternalEvent()}getAll(){return this.$app.calendarEvents.list.value.map(t=>t._getExternalEvent())}remove(t){const n=this.$app.calendarEvents.list.value.findIndex(r=>r.id===t),i=[...this.$app.calendarEvents.list.value];i.splice(n,1),this.$app.calendarEvents.list.value=i}update(t){const n=this.$app.calendarEvents.list.value.findIndex(r=>r.id===t.id),i=[...this.$app.calendarEvents.list.value];i.splice(n,1,mb(t,this.$app.config)),this.$app.calendarEvents.list.value=i}}const Kge=(e,t)=>(t.name=e,t);class Xge{constructor(){Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EventsServicePlugin"}),Object.defineProperty(this,"$app",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"eventsFacade",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}beforeRender(t){this.$app=t,this.eventsFacade=new Yge(t)}update(t){this.eventsFacade.update(t)}add(t){this.eventsFacade.add(t)}remove(t){this.eventsFacade.remove(t)}get(t){return this.eventsFacade.get(t)}getAll(){return this.eventsFacade.getAll()}set(t){this.eventsFacade.set(t)}setBackgroundEvents(t){this.$app.calendarEvents.backgroundEvents.value=t}}const c6=()=>Kge("eventsService",new Xge),Qge=(e,t)=>(n,i)=>{const r={Component:ni(t,i),wrapperElement:n};e(r)};class Jge extends Error{constructor(t){super(t),this.name="[Schedule-X reactivity error]"}}const d6=Tt({name:"ScheduleXCalendar",props:{calendarApp:{type:Object,required:!0},customComponents:{type:Object,default:()=>({})}},data(){return{elId:"sx"+Math.random().toString(36).substr(2,9),customComponentsMeta:[]}},mounted(){if(ml(this.calendarApp))throw new Jge("calendarApp cannot be saved in a ref. Since this causes deep reactivity, it destroys the calendars internal reactivity. Save in a normal const or shallowRef");const e={...this.customComponents,...this.$slots};for(const[t,n]of Object.entries(e))this.calendarApp._setCustomComponentFn(t,Qge(this.setCustomComponentMeta,n));this.calendarApp.render(document.getElementById(this.elId))},methods:{setCustomComponentMeta(e){if(!(e.wrapperElement instanceof HTMLElement))return;const t=({wrapperElement:s})=>s instanceof HTMLElement,n=[...this.customComponentsMeta.filter(t)],i=e.wrapperElement.dataset.ccid,r=n.find(({wrapperElement:s})=>s.dataset.ccid===i);r&&n.splice(n.indexOf(r),1),this.customComponentsMeta=[...n,e]}},render(){const e=this.customComponentsMeta.map(({Component:t,wrapperElement:n})=>ni(gO,{to:n},t));return ni("div",{id:this.elId,class:"sx-vue-calendar-wrapper"},ni(Ie,{},e))}});var jC,nt,f6,h6,nl,nR,v6,nS,m6,iS={},g6=[],Zge=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,z_=Array.isArray;function oa(e,t){for(var n in t)e[n]=t[n];return e}function p6(e){var t=e.parentNode;t&&t.removeChild(e)}function iR(e,t,n){var i,r,s,o={};for(s in t)s=="key"?i=t[s]:s=="ref"?r=t[s]:o[s]=t[s];if(arguments.length>2&&(o.children=arguments.length>3?jC.call(arguments,2):n),typeof e=="function"&&e.defaultProps!=null)for(s in e.defaultProps)o[s]===void 0&&(o[s]=e.defaultProps[s]);return Cm(e,o,i,r,null)}function Cm(e,t,n,i,r){var s={type:e,props:t,key:n,ref:i,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:r??++f6,__i:-1,__u:0};return r==null&&nt.vnode!=null&&nt.vnode(s),s}function lh(e){return e.children}function xs(e,t){this.props=e,this.context=t}function Pc(e,t){if(t==null)return e.__?Pc(e.__,e.__i+1):null;for(var n;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null)return n.__e;return typeof e.type=="function"?Pc(e):null}function _6(e){var t,n;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null){e.__e=e.__c.base=n.__e;break}return _6(e)}}function rS(e){(!e.__d&&(e.__d=!0)&&nl.push(e)&&!Mg.__r++||nR!==nt.debounceRendering)&&((nR=nt.debounceRendering)||v6)(Mg)}function Mg(){var e,t,n,i,r,s,o,a,l;for(nl.sort(nS);e=nl.shift();)e.__d&&(t=nl.length,i=void 0,s=(r=(n=e).__v).__e,a=[],l=[],(o=n.__P)&&((i=oa({},r)).__v=r.__v+1,nt.vnode&&nt.vnode(i),w6(o,i,r,n.__n,o.ownerSVGElement!==void 0,32&r.__u?[s]:null,a,s??Pc(r),!!(32&r.__u),l),i.__.__k[i.__i]=i,npe(a,i,l),i.__e!=s&&_6(i)),nl.length>t&&nl.sort(nS));Mg.__r=0}function y6(e,t,n,i,r,s,o,a,l,u,d){var c,f,v,g,p,_=i&&i.__k||g6,y=t.length;for(n.__d=l,epe(n,t,_),l=n.__d,c=0;c<y;c++)(v=n.__k[c])!=null&&typeof v!="boolean"&&typeof v!="function"&&(f=v.__i===-1?iS:_[v.__i]||iS,v.__i=c,w6(e,v,f,r,s,o,a,l,u,d),g=v.__e,v.ref&&f.ref!=v.ref&&(f.ref&&HC(f.ref,null,v),d.push(v.ref,v.__c||g,v)),p==null&&g!=null&&(p=g),65536&v.__u||f.__k===v.__k?l=b6(v,l,e):typeof v.type=="function"&&v.__d!==void 0?l=v.__d:g&&(l=g.nextSibling),v.__d=void 0,v.__u&=-196609);n.__d=l,n.__e=p}function epe(e,t,n){var i,r,s,o,a,l=t.length,u=n.length,d=u,c=0;for(e.__k=[],i=0;i<l;i++)(r=e.__k[i]=(r=t[i])==null||typeof r=="boolean"||typeof r=="function"?null:typeof r=="string"||typeof r=="number"||typeof r=="bigint"||r.constructor==String?Cm(null,r,null,null,r):z_(r)?Cm(lh,{children:r},null,null,null):r.constructor===void 0&&r.__b>0?Cm(r.type,r.props,r.key,r.ref?r.ref:null,r.__v):r)!=null?(r.__=e,r.__b=e.__b+1,a=tpe(r,n,o=i+c,d),r.__i=a,s=null,a!==-1&&(d--,(s=n[a])&&(s.__u|=131072)),s==null||s.__v===null?(a==-1&&c--,typeof r.type!="function"&&(r.__u|=65536)):a!==o&&(a===o+1?c++:a>o?d>l-o?c+=a-o:c--:c=a<o&&a==o-1?a-o:0,a!==i+c&&(r.__u|=65536))):(s=n[i])&&s.key==null&&s.__e&&(s.__e==e.__d&&(e.__d=Pc(s)),sS(s,s,!1),n[i]=null,d--);if(d)for(i=0;i<u;i++)(s=n[i])!=null&&!(131072&s.__u)&&(s.__e==e.__d&&(e.__d=Pc(s)),sS(s,s))}function b6(e,t,n){var i,r;if(typeof e.type=="function"){for(i=e.__k,r=0;i&&r<i.length;r++)i[r]&&(i[r].__=e,t=b6(i[r],t,n));return t}return e.__e!=t&&(n.insertBefore(e.__e,t||null),t=e.__e),t&&t.nextSibling}function Lg(e,t){return t=t||[],e==null||typeof e=="boolean"||(z_(e)?e.some(function(n){Lg(n,t)}):t.push(e)),t}function tpe(e,t,n,i){var r=e.key,s=e.type,o=n-1,a=n+1,l=t[n];if(l===null||l&&r==l.key&&s===l.type)return n;if(i>(l!=null&&!(131072&l.__u)?1:0))for(;o>=0||a<t.length;){if(o>=0){if((l=t[o])&&!(131072&l.__u)&&r==l.key&&s===l.type)return o;o--}if(a<t.length){if((l=t[a])&&!(131072&l.__u)&&r==l.key&&s===l.type)return a;a++}}return-1}function rR(e,t,n){t[0]==="-"?e.setProperty(t,n??""):e[t]=n==null?"":typeof n!="number"||Zge.test(t)?n:n+"px"}function Yv(e,t,n,i,r){var s;e:if(t==="style")if(typeof n=="string")e.style.cssText=n;else{if(typeof i=="string"&&(e.style.cssText=i=""),i)for(t in i)n&&t in n||rR(e.style,t,"");if(n)for(t in n)i&&n[t]===i[t]||rR(e.style,t,n[t])}else if(t[0]==="o"&&t[1]==="n")s=t!==(t=t.replace(/(PointerCapture)$|Capture$/,"$1")),t=t.toLowerCase()in e?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+s]=n,n?i?n.u=i.u:(n.u=Date.now(),e.addEventListener(t,s?oR:sR,s)):e.removeEventListener(t,s?oR:sR,s);else{if(r)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(t!=="width"&&t!=="height"&&t!=="href"&&t!=="list"&&t!=="form"&&t!=="tabIndex"&&t!=="download"&&t!=="rowSpan"&&t!=="colSpan"&&t!=="role"&&t in e)try{e[t]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&t[4]!=="-"?e.removeAttribute(t):e.setAttribute(t,n))}}function sR(e){var t=this.l[e.type+!1];if(e.t){if(e.t<=t.u)return}else e.t=Date.now();return t(nt.event?nt.event(e):e)}function oR(e){return this.l[e.type+!0](nt.event?nt.event(e):e)}function w6(e,t,n,i,r,s,o,a,l,u){var d,c,f,v,g,p,_,y,b,E,k,R,O,D,S,w=t.type;if(t.constructor!==void 0)return null;128&n.__u&&(l=!!(32&n.__u),s=[a=t.__e=n.__e]),(d=nt.__b)&&d(t);e:if(typeof w=="function")try{if(y=t.props,b=(d=w.contextType)&&i[d.__c],E=d?b?b.props.value:d.__:i,n.__c?_=(c=t.__c=n.__c).__=c.__E:("prototype"in w&&w.prototype.render?t.__c=c=new w(y,E):(t.__c=c=new xs(y,E),c.constructor=w,c.render=rpe),b&&b.sub(c),c.props=y,c.state||(c.state={}),c.context=E,c.__n=i,f=c.__d=!0,c.__h=[],c._sb=[]),c.__s==null&&(c.__s=c.state),w.getDerivedStateFromProps!=null&&(c.__s==c.state&&(c.__s=oa({},c.__s)),oa(c.__s,w.getDerivedStateFromProps(y,c.__s))),v=c.props,g=c.state,c.__v=t,f)w.getDerivedStateFromProps==null&&c.componentWillMount!=null&&c.componentWillMount(),c.componentDidMount!=null&&c.__h.push(c.componentDidMount);else{if(w.getDerivedStateFromProps==null&&y!==v&&c.componentWillReceiveProps!=null&&c.componentWillReceiveProps(y,E),!c.__e&&(c.shouldComponentUpdate!=null&&c.shouldComponentUpdate(y,c.__s,E)===!1||t.__v===n.__v)){for(t.__v!==n.__v&&(c.props=y,c.state=c.__s,c.__d=!1),t.__e=n.__e,t.__k=n.__k,t.__k.forEach(function(C){C&&(C.__=t)}),k=0;k<c._sb.length;k++)c.__h.push(c._sb[k]);c._sb=[],c.__h.length&&o.push(c);break e}c.componentWillUpdate!=null&&c.componentWillUpdate(y,c.__s,E),c.componentDidUpdate!=null&&c.__h.push(function(){c.componentDidUpdate(v,g,p)})}if(c.context=E,c.props=y,c.__P=e,c.__e=!1,R=nt.__r,O=0,"prototype"in w&&w.prototype.render){for(c.state=c.__s,c.__d=!1,R&&R(t),d=c.render(c.props,c.state,c.context),D=0;D<c._sb.length;D++)c.__h.push(c._sb[D]);c._sb=[]}else do c.__d=!1,R&&R(t),d=c.render(c.props,c.state,c.context),c.state=c.__s;while(c.__d&&++O<25);c.state=c.__s,c.getChildContext!=null&&(i=oa(oa({},i),c.getChildContext())),f||c.getSnapshotBeforeUpdate==null||(p=c.getSnapshotBeforeUpdate(v,g)),y6(e,z_(S=d!=null&&d.type===lh&&d.key==null?d.props.children:d)?S:[S],t,n,i,r,s,o,a,l,u),c.base=t.__e,t.__u&=-161,c.__h.length&&o.push(c),_&&(c.__E=c.__=null)}catch(C){t.__v=null,l||s!=null?(t.__e=a,t.__u|=l?160:32,s[s.indexOf(a)]=null):(t.__e=n.__e,t.__k=n.__k),nt.__e(C,t,n)}else s==null&&t.__v===n.__v?(t.__k=n.__k,t.__e=n.__e):t.__e=ipe(n.__e,t,n,i,r,s,o,l,u);(d=nt.diffed)&&d(t)}function npe(e,t,n){t.__d=void 0;for(var i=0;i<n.length;i++)HC(n[i],n[++i],n[++i]);nt.__c&&nt.__c(t,e),e.some(function(r){try{e=r.__h,r.__h=[],e.some(function(s){s.call(r)})}catch(s){nt.__e(s,r.__v)}})}function ipe(e,t,n,i,r,s,o,a,l){var u,d,c,f,v,g,p,_=n.props,y=t.props,b=t.type;if(b==="svg"&&(r=!0),s!=null){for(u=0;u<s.length;u++)if((v=s[u])&&"setAttribute"in v==!!b&&(b?v.localName===b:v.nodeType===3)){e=v,s[u]=null;break}}if(e==null){if(b===null)return document.createTextNode(y);e=r?document.createElementNS("http://www.w3.org/2000/svg",b):document.createElement(b,y.is&&y),s=null,a=!1}if(b===null)_===y||a&&e.data===y||(e.data=y);else{if(s=s&&jC.call(e.childNodes),_=n.props||iS,!a&&s!=null)for(_={},u=0;u<e.attributes.length;u++)_[(v=e.attributes[u]).name]=v.value;for(u in _)v=_[u],u=="children"||(u=="dangerouslySetInnerHTML"?c=v:u==="key"||u in y||Yv(e,u,null,v,r));for(u in y)v=y[u],u=="children"?f=v:u=="dangerouslySetInnerHTML"?d=v:u=="value"?g=v:u=="checked"?p=v:u==="key"||a&&typeof v!="function"||_[u]===v||Yv(e,u,v,_[u],r);if(d)a||c&&(d.__html===c.__html||d.__html===e.innerHTML)||(e.innerHTML=d.__html),t.__k=[];else if(c&&(e.innerHTML=""),y6(e,z_(f)?f:[f],t,n,i,r&&b!=="foreignObject",s,o,s?s[0]:n.__k&&Pc(n,0),a,l),s!=null)for(u=s.length;u--;)s[u]!=null&&p6(s[u]);a||(u="value",g!==void 0&&(g!==e[u]||b==="progress"&&!g||b==="option"&&g!==_[u])&&Yv(e,u,g,_[u],!1),u="checked",p!==void 0&&p!==e[u]&&Yv(e,u,p,_[u],!1))}return e}function HC(e,t,n){try{typeof e=="function"?e(t):e.current=t}catch(i){nt.__e(i,n)}}function sS(e,t,n){var i,r;if(nt.unmount&&nt.unmount(e),(i=e.ref)&&(i.current&&i.current!==e.__e||HC(i,null,t)),(i=e.__c)!=null){if(i.componentWillUnmount)try{i.componentWillUnmount()}catch(s){nt.__e(s,t)}i.base=i.__P=null,e.__c=void 0}if(i=e.__k)for(r=0;r<i.length;r++)i[r]&&sS(i[r],t,n||typeof e.type!="function");n||e.__e==null||p6(e.__e),e.__=e.__e=e.__d=void 0}function rpe(e,t,n){return this.constructor(e,n)}function spe(e,t){var n={__c:t="__cC"+m6++,__:e,Consumer:function(i,r){return i.children(r)},Provider:function(i){var r,s;return this.getChildContext||(r=[],(s={})[t]=this,this.getChildContext=function(){return s},this.shouldComponentUpdate=function(o){this.props.value!==o.value&&r.some(function(a){a.__e=!0,rS(a)})},this.sub=function(o){r.push(o);var a=o.componentWillUnmount;o.componentWillUnmount=function(){r.splice(r.indexOf(o),1),a&&a.call(o)}}),i.children}};return n.Provider.__=n.Consumer.contextType=n}jC=g6.slice,nt={__e:function(e,t,n,i){for(var r,s,o;t=t.__;)if((r=t.__c)&&!r.__)try{if((s=r.constructor)&&s.getDerivedStateFromError!=null&&(r.setState(s.getDerivedStateFromError(e)),o=r.__d),r.componentDidCatch!=null&&(r.componentDidCatch(e,i||{}),o=r.__d),o)return r.__E=r}catch(a){e=a}throw e}},f6=0,h6=function(e){return e!=null&&e.constructor==null},xs.prototype.setState=function(e,t){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=oa({},this.state),typeof e=="function"&&(e=e(oa({},n),this.props)),e&&oa(n,e),e!=null&&this.__v&&(t&&this._sb.push(t),rS(this))},xs.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),rS(this))},xs.prototype.render=lh,nl=[],v6=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,nS=function(e,t){return e.__v.__b-t.__v.__b},Mg.__r=0,m6=0;var oS,gr,gb,aR,lR=0,S6=[],km=[],uR=nt.__b,cR=nt.__r,dR=nt.diffed,fR=nt.__c,hR=nt.unmount;function ope(e,t){nt.__h&&nt.__h(gr,e,lR||t),lR=0;var n=gr.__H||(gr.__H={__:[],__h:[]});return e>=n.__.length&&n.__.push({__V:km}),n.__[e]}function E6(e,t){var n=ope(oS++,7);return upe(n.__H,t)?(n.__V=e(),n.i=t,n.__h=e,n.__V):n.__}function ape(){for(var e;e=S6.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(Tm),e.__H.__h.forEach(aS),e.__H.__h=[]}catch(t){e.__H.__h=[],nt.__e(t,e.__v)}}nt.__b=function(e){gr=null,uR&&uR(e)},nt.__r=function(e){cR&&cR(e),oS=0;var t=(gr=e.__c).__H;t&&(gb===gr?(t.__h=[],gr.__h=[],t.__.forEach(function(n){n.__N&&(n.__=n.__N),n.__V=km,n.__N=n.i=void 0})):(t.__h.forEach(Tm),t.__h.forEach(aS),t.__h=[],oS=0)),gb=gr},nt.diffed=function(e){dR&&dR(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(S6.push(t)!==1&&aR===nt.requestAnimationFrame||((aR=nt.requestAnimationFrame)||lpe)(ape)),t.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.__V!==km&&(n.__=n.__V),n.i=void 0,n.__V=km})),gb=gr=null},nt.__c=function(e,t){t.some(function(n){try{n.__h.forEach(Tm),n.__h=n.__h.filter(function(i){return!i.__||aS(i)})}catch(i){t.some(function(r){r.__h&&(r.__h=[])}),t=[],nt.__e(i,n.__v)}}),fR&&fR(e,t)},nt.unmount=function(e){hR&&hR(e);var t,n=e.__c;n&&n.__H&&(n.__H.__.forEach(function(i){try{Tm(i)}catch(r){t=r}}),n.__H=void 0,t&&nt.__e(t,n.__v))};var vR=typeof requestAnimationFrame=="function";function lpe(e){var t,n=function(){clearTimeout(i),vR&&cancelAnimationFrame(t),setTimeout(e)},i=setTimeout(n,100);vR&&(t=requestAnimationFrame(n))}function Tm(e){var t=gr,n=e.__c;typeof n=="function"&&(e.__c=void 0,n()),gr=t}function aS(e){var t=gr;e.__c=e.__(),gr=t}function upe(e,t){return!e||e.length!==t.length||t.some(function(n,i){return n!==e[i]})}function cpe(e,t){for(var n in t)e[n]=t[n];return e}function mR(e,t){for(var n in e)if(n!=="__source"&&!(n in t))return!0;for(var i in t)if(i!=="__source"&&e[i]!==t[i])return!0;return!1}function gR(e){this.props=e}(gR.prototype=new xs).isPureReactComponent=!0,gR.prototype.shouldComponentUpdate=function(e,t){return mR(this.props,e)||mR(this.state,t)};var pR=nt.__b;nt.__b=function(e){e.type&&e.type.__f&&e.ref&&(e.props.ref=e.ref,e.ref=null),pR&&pR(e)};var dpe=nt.__e;nt.__e=function(e,t,n,i){if(e.then){for(var r,s=t;s=s.__;)if((r=s.__c)&&r.__c)return t.__e==null&&(t.__e=n.__e,t.__k=n.__k),r.__c(e,t)}dpe(e,t,n,i)};var _R=nt.unmount;function C6(e,t,n){return e&&(e.__c&&e.__c.__H&&(e.__c.__H.__.forEach(function(i){typeof i.__c=="function"&&i.__c()}),e.__c.__H=null),(e=cpe({},e)).__c!=null&&(e.__c.__P===n&&(e.__c.__P=t),e.__c=null),e.__k=e.__k&&e.__k.map(function(i){return C6(i,t,n)})),e}function k6(e,t,n){return e&&n&&(e.__v=null,e.__k=e.__k&&e.__k.map(function(i){return k6(i,t,n)}),e.__c&&e.__c.__P===t&&(e.__e&&n.appendChild(e.__e),e.__c.__e=!0,e.__c.__P=n)),e}function pb(){this.__u=0,this.t=null,this.__b=null}function T6(e){var t=e.__.__c;return t&&t.__a&&t.__a(e)}function Kv(){this.u=null,this.o=null}nt.unmount=function(e){var t=e.__c;t&&t.__R&&t.__R(),t&&32&e.__u&&(e.type=null),_R&&_R(e)},(pb.prototype=new xs).__c=function(e,t){var n=t.__c,i=this;i.t==null&&(i.t=[]),i.t.push(n);var r=T6(i.__v),s=!1,o=function(){s||(s=!0,n.__R=null,r?r(a):a())};n.__R=o;var a=function(){if(!--i.__u){if(i.state.__a){var l=i.state.__a;i.__v.__k[0]=k6(l,l.__c.__P,l.__c.__O)}var u;for(i.setState({__a:i.__b=null});u=i.t.pop();)u.forceUpdate()}};i.__u++||32&t.__u||i.setState({__a:i.__b=i.__v.__k[0]}),e.then(o,o)},pb.prototype.componentWillUnmount=function(){this.t=[]},pb.prototype.render=function(e,t){if(this.__b){if(this.__v.__k){var n=document.createElement("div"),i=this.__v.__k[0].__c;this.__v.__k[0]=C6(this.__b,n,i.__O=i.__P)}this.__b=null}var r=t.__a&&iR(lh,null,e.fallback);return r&&(r.__u&=-33),[iR(lh,null,t.__a?null:e.children),r]};var yR=function(e,t,n){if(++n[1]===n[0]&&e.o.delete(t),e.props.revealOrder&&(e.props.revealOrder[0]!=="t"||!e.o.size))for(n=e.u;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;e.u=n=n[2]}};(Kv.prototype=new xs).__a=function(e){var t=this,n=T6(t.__v),i=t.o.get(e);return i[0]++,function(r){var s=function(){t.props.revealOrder?(i.push(r),yR(t,e,i)):r()};n?n(s):s()}},Kv.prototype.render=function(e){this.u=null,this.o=new Map;var t=Lg(e.children);e.revealOrder&&e.revealOrder[0]==="b"&&t.reverse();for(var n=t.length;n--;)this.o.set(t[n],this.u=[1,0,this.u]);return e.children},Kv.prototype.componentDidUpdate=Kv.prototype.componentDidMount=function(){var e=this;this.o.forEach(function(t,n){yR(e,n,t)})};var fpe=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,hpe=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,vpe=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,mpe=/[A-Z0-9]/g,gpe=typeof document<"u",ppe=function(e){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/:/fil|che|ra/).test(e)};xs.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(e){Object.defineProperty(xs.prototype,e,{configurable:!0,get:function(){return this["UNSAFE_"+e]},set:function(t){Object.defineProperty(this,e,{configurable:!0,writable:!0,value:t})}})});var bR=nt.event;function _pe(){}function ype(){return this.cancelBubble}function bpe(){return this.defaultPrevented}nt.event=function(e){return bR&&(e=bR(e)),e.persist=_pe,e.isPropagationStopped=ype,e.isDefaultPrevented=bpe,e.nativeEvent=e};var wpe={enumerable:!1,configurable:!0,get:function(){return this.class}},wR=nt.vnode;nt.vnode=function(e){typeof e.type=="string"&&function(t){var n=t.props,i=t.type,r={};for(var s in n){var o=n[s];if(!(s==="value"&&"defaultValue"in n&&o==null||gpe&&s==="children"&&i==="noscript"||s==="class"||s==="className")){var a=s.toLowerCase();s==="defaultValue"&&"value"in n&&n.value==null?s="value":s==="download"&&o===!0?o="":a==="ondoubleclick"?s="ondblclick":a!=="onchange"||i!=="input"&&i!=="textarea"||ppe(n.type)?a==="onfocus"?s="onfocusin":a==="onblur"?s="onfocusout":vpe.test(s)?s=a:i.indexOf("-")===-1&&hpe.test(s)?s=s.replace(mpe,"-$&").toLowerCase():o===null&&(o=void 0):a=s="oninput",a==="oninput"&&r[s=a]&&(s="oninputCapture"),r[s]=o}}i=="select"&&r.multiple&&Array.isArray(r.value)&&(r.value=Lg(n.children).forEach(function(l){l.props.selected=r.value.indexOf(l.props.value)!=-1})),i=="select"&&r.defaultValue!=null&&(r.value=Lg(n.children).forEach(function(l){l.props.selected=r.multiple?r.defaultValue.indexOf(l.props.value)!=-1:r.defaultValue==l.props.value})),n.class&&!n.className?(r.class=n.class,Object.defineProperty(r,"className",wpe)):(n.className&&!n.class||n.class&&n.className)&&(r.class=r.className=n.className),t.props=r}(e),e.$$typeof=fpe,wR&&wR(e)};var SR=nt.__r;nt.__r=function(e){SR&&SR(e),e.__c};var ER=nt.diffed;nt.diffed=function(e){ER&&ER(e);var t=e.props,n=e.__e;n!=null&&e.type==="textarea"&&"value"in t&&t.value!==n.value&&(n.value=t.value==null?"":t.value)};function G_(){throw new Error("Cycle detected")}var Spe=Symbol.for("preact-signals");function WC(){if(ec>1)ec--;else{for(var e,t=!1;lf!==void 0;){var n=lf;for(lf=void 0,lS++;n!==void 0;){var i=n.o;if(n.o=void 0,n.f&=-3,!(8&n.f)&&P6(n))try{n.c()}catch(r){t||(e=r,t=!0)}n=i}}if(lS=0,ec--,t)throw e}}var Un=void 0,lf=void 0,ec=0,lS=0,Fg=0;function I6(e){if(Un!==void 0){var t=e.n;if(t===void 0||t.t!==Un)return t={i:0,S:e,p:Un.s,n:void 0,t:Un,e:void 0,x:void 0,r:t},Un.s!==void 0&&(Un.s.n=t),Un.s=t,e.n=t,32&Un.f&&e.S(t),t;if(t.i===-1)return t.i=0,t.n!==void 0&&(t.n.p=t.p,t.p!==void 0&&(t.p.n=t.n),t.p=Un.s,t.n=void 0,Un.s.n=t,Un.s=t),t}}function Ti(e){this.v=e,this.i=0,this.n=void 0,this.t=void 0}Ti.prototype.brand=Spe;Ti.prototype.h=function(){return!0};Ti.prototype.S=function(e){this.t!==e&&e.e===void 0&&(e.x=this.t,this.t!==void 0&&(this.t.e=e),this.t=e)};Ti.prototype.U=function(e){if(this.t!==void 0){var t=e.e,n=e.x;t!==void 0&&(t.x=n,e.e=void 0),n!==void 0&&(n.e=t,e.x=void 0),e===this.t&&(this.t=n)}};Ti.prototype.subscribe=function(e){var t=this;return GC(function(){var n=t.value,i=32&this.f;this.f&=-33;try{e(n)}finally{this.f|=i}})};Ti.prototype.valueOf=function(){return this.value};Ti.prototype.toString=function(){return this.value+""};Ti.prototype.toJSON=function(){return this.value};Ti.prototype.peek=function(){return this.v};Object.defineProperty(Ti.prototype,"value",{get:function(){var e=I6(this);return e!==void 0&&(e.i=this.i),this.v},set:function(e){if(Un instanceof Ua&&function(){throw new Error("Computed cannot have side-effects")}(),e!==this.v){lS>100&&G_(),this.v=e,this.i++,Fg++,ec++;try{for(var t=this.t;t!==void 0;t=t.x)t.t.N()}finally{WC()}}}});function A6(e){return new Ti(e)}function P6(e){for(var t=e.s;t!==void 0;t=t.n)if(t.S.i!==t.i||!t.S.h()||t.S.i!==t.i)return!0;return!1}function x6(e){for(var t=e.s;t!==void 0;t=t.n){var n=t.S.n;if(n!==void 0&&(t.r=n),t.S.n=t,t.i=-1,t.n===void 0){e.s=t;break}}}function D6(e){for(var t=e.s,n=void 0;t!==void 0;){var i=t.p;t.i===-1?(t.S.U(t),i!==void 0&&(i.n=t.n),t.n!==void 0&&(t.n.p=i)):n=t,t.S.n=t.r,t.r!==void 0&&(t.r=void 0),t=i}e.s=n}function Ua(e){Ti.call(this,void 0),this.x=e,this.s=void 0,this.g=Fg-1,this.f=4}(Ua.prototype=new Ti).h=function(){if(this.f&=-3,1&this.f)return!1;if((36&this.f)==32||(this.f&=-5,this.g===Fg))return!0;if(this.g=Fg,this.f|=1,this.i>0&&!P6(this))return this.f&=-2,!0;var e=Un;try{x6(this),Un=this;var t=this.x();(16&this.f||this.v!==t||this.i===0)&&(this.v=t,this.f&=-17,this.i++)}catch(n){this.v=n,this.f|=16,this.i++}return Un=e,D6(this),this.f&=-2,!0};Ua.prototype.S=function(e){if(this.t===void 0){this.f|=36;for(var t=this.s;t!==void 0;t=t.n)t.S.S(t)}Ti.prototype.S.call(this,e)};Ua.prototype.U=function(e){if(this.t!==void 0&&(Ti.prototype.U.call(this,e),this.t===void 0)){this.f&=-33;for(var t=this.s;t!==void 0;t=t.n)t.S.U(t)}};Ua.prototype.N=function(){if(!(2&this.f)){this.f|=6;for(var e=this.t;e!==void 0;e=e.x)e.t.N()}};Ua.prototype.peek=function(){if(this.h()||G_(),16&this.f)throw this.v;return this.v};Object.defineProperty(Ua.prototype,"value",{get:function(){1&this.f&&G_();var e=I6(this);if(this.h(),e!==void 0&&(e.i=this.i),16&this.f)throw this.v;return this.v}});function Epe(e){return new Ua(e)}function R6(e){var t=e.u;if(e.u=void 0,typeof t=="function"){ec++;var n=Un;Un=void 0;try{t()}catch(i){throw e.f&=-2,e.f|=8,zC(e),i}finally{Un=n,WC()}}}function zC(e){for(var t=e.s;t!==void 0;t=t.n)t.S.U(t);e.x=void 0,e.s=void 0,R6(e)}function Cpe(e){if(Un!==this)throw new Error("Out-of-order effect");D6(this),Un=e,this.f&=-2,8&this.f&&zC(this),WC()}function Xh(e){this.x=e,this.u=void 0,this.s=void 0,this.o=void 0,this.f=32}Xh.prototype.c=function(){var e=this.S();try{if(8&this.f||this.x===void 0)return;var t=this.x();typeof t=="function"&&(this.u=t)}finally{e()}};Xh.prototype.S=function(){1&this.f&&G_(),this.f|=1,this.f&=-9,R6(this),x6(this),ec++;var e=Un;return Un=this,Cpe.bind(this,e)};Xh.prototype.N=function(){2&this.f||(this.f|=2,this.o=lf,lf=this)};Xh.prototype.d=function(){this.f|=8,1&this.f||zC(this)};function GC(e){var t=new Xh(e);try{t.c()}catch(n){throw t.d(),n}return t.d.bind(t)}var _b;function id(e,t){nt[e]=t.bind(null,nt[e]||function(){})}function $g(e){_b&&_b(),_b=e&&e.S()}function O6(e){var t=this,n=e.data,i=Tpe(n);i.value=n;var r=E6(function(){for(var s=t.__v;s=s.__;)if(s.__c){s.__c.__$f|=4;break}return t.__$u.c=function(){var o;!h6(r.peek())&&((o=t.base)==null?void 0:o.nodeType)===3?t.base.data=r.peek():(t.__$f|=1,t.setState({}))},Epe(function(){var o=i.value.value;return o===0?0:o===!0?"":o||""})},[]);return r.value}O6.displayName="_st";Object.defineProperties(Ti.prototype,{constructor:{configurable:!0,value:void 0},type:{configurable:!0,value:O6},props:{configurable:!0,get:function(){return{data:this}}},__b:{configurable:!0,value:1}});id("__b",function(e,t){if(typeof t.type=="string"){var n,i=t.props;for(var r in i)if(r!=="children"){var s=i[r];s instanceof Ti&&(n||(t.__np=n={}),n[r]=s,i[r]=s.peek())}}e(t)});id("__r",function(e,t){$g();var n,i=t.__c;i&&(i.__$f&=-2,(n=i.__$u)===void 0&&(i.__$u=n=function(r){var s;return GC(function(){s=this}),s.c=function(){i.__$f|=1,i.setState({})},s}())),$g(n),e(t)});id("__e",function(e,t,n,i){$g(),e(t,n,i)});id("diffed",function(e,t){$g();var n;if(typeof t.type=="string"&&(n=t.__e)){var i=t.__np,r=t.props;if(i){var s=n.U;if(s)for(var o in s){var a=s[o];a!==void 0&&!(o in i)&&(a.d(),s[o]=void 0)}else n.U=s={};for(var l in i){var u=s[l],d=i[l];u===void 0?(u=kpe(n,l,d,r),s[l]=u):u.o(d,r)}}}e(t)});function kpe(e,t,n,i){var r=t in e&&e.ownerSVGElement===void 0,s=A6(n);return{o:function(o,a){s.value=o,i=a},d:GC(function(){var o=s.value.value;i[t]!==o&&(i[t]=o,r?e[t]=o:o?e.setAttribute(t,o):e.removeAttribute(t))})}}id("unmount",function(e,t){if(typeof t.type=="string"){var n=t.__e;if(n){var i=n.U;if(i){n.U=void 0;for(var r in i){var s=i[r];s&&s.d()}}}}else{var o=t.__c;if(o){var a=o.__$u;a&&(o.__$u=void 0,a.d())}}e(t)});id("__h",function(e,t,n,i){(i<3||i===9)&&(t.__$f|=2),e(t,n,i)});xs.prototype.shouldComponentUpdate=function(e,t){var n=this.__$u;if(!(n&&n.s!==void 0||4&this.__$f)||3&this.__$f)return!0;for(var i in t)return!0;for(var r in e)if(r!=="__source"&&e[r]!==this.props[r])return!0;for(var s in this.props)if(!(s in e))return!0;return!1};function Tpe(e){return E6(function(){return A6(e)},[])}spe({});var CR;(function(e){e.MONTH_DAYS="month-days",e.YEARS="years"})(CR||(CR={}));var uS;(function(e){e[e.SUNDAY=0]="SUNDAY",e[e.MONDAY=1]="MONDAY",e[e.TUESDAY=2]="TUESDAY",e[e.WEDNESDAY=3]="WEDNESDAY",e[e.THURSDAY=4]="THURSDAY",e[e.FRIDAY=5]="FRIDAY",e[e.SATURDAY=6]="SATURDAY"})(uS||(uS={}));uS.MONDAY;var kR;(function(e){e[e.JANUARY=0]="JANUARY",e[e.FEBRUARY=1]="FEBRUARY",e[e.MARCH=2]="MARCH",e[e.APRIL=3]="APRIL",e[e.MAY=4]="MAY",e[e.JUNE=5]="JUNE",e[e.JULY=6]="JULY",e[e.AUGUST=7]="AUGUST",e[e.SEPTEMBER=8]="SEPTEMBER",e[e.OCTOBER=9]="OCTOBER",e[e.NOVEMBER=10]="NOVEMBER",e[e.DECEMBER=11]="DECEMBER"})(kR||(kR={}));var il;(function(e){e.SLASH="/",e.DASH="-",e.PERIOD="."})(il||(il={}));var rl;(function(e){e.DMY="DMY",e.MDY="MDY",e.YMD="YMD"})(rl||(rl={}));il.SLASH,rl.MDY,il.SLASH,rl.DMY,il.SLASH,rl.YMD,il.PERIOD,rl.DMY,il.DASH,rl.YMD;var TR;(function(e){e.TOP_START="top-start",e.TOP_END="top-end",e.BOTTOM_START="bottom-start",e.BOTTOM_END="bottom-end"})(TR||(TR={}));const V6=Tt({__name:"EditLessonTime",props:{startTime:{},endTime:{},minutesOfLesson:{default:60}},emits:["close","save"],setup(e,{emit:t}){const n=e,i=t,r=z(!1),s=z(!1),o=z(!0),a=is({startTime:Mn().required("L'Orario di inizio Lezione  obbligatorio").label("Orario di inizio Lezione"),endTime:Mn().required("L'Orario di fine Lezione  obbligatorio").label("Orario di fine Lezione")}),{defineField:l,handleSubmit:u}=ka({validationSchema:a}),d=b=>({props:{"error-messages":b.errors}}),[c,f]=l("startTime",d),[v,g]=l("endTime",d),p=u(async b=>{var E,k;if((((E=Ot.fromHHMM(c.value))==null?void 0:E.getTotalMinutes())??0)>(((k=Ot.fromHHMM(v.value))==null?void 0:k.getTotalMinutes())??0)){Xe.warning("L'orario di inizio lezione deve essere antecedente all'orario di fine lezione");return}i("save",{...b})},b=>{Xe.warn("Ci sono alcuni errori! Inserisci correttamente i dati"),console.log(b)});ge(n,()=>_(),{immediate:!0}),ge(c,()=>y()),ge(o,()=>y());function _(){n.startTime&&(c.value=n.startTime),n.endTime&&(v.value=n.endTime),y()}function y(){if(o.value&&n.minutesOfLesson!=null){const b=Ot.fromHHMM(c.value);if(!b)return;v.value=Ot.fromITime((b.getTotalMinutes()+n.minutesOfLesson)*60).format()}}return(b,E)=>{const k=H("v-checkbox"),R=H("v-col"),O=H("v-time-picker"),D=H("v-dialog"),S=H("v-text-field"),w=H("v-row"),C=H("v-card-text"),A=H("v-spacer"),P=H("v-btn"),x=H("v-card-actions"),U=H("v-card");return ye(),Le(U,{title:"Modifica orario lezione",elevation:"2"},{default:N(()=>[h(C,null,{default:N(()=>[h(w,{justify:"space-around"},{default:N(()=>[h(R,{cols:"11",md:"6"},{default:N(()=>[h(k,{modelValue:o.value,"onUpdate:modelValue":E[0]||(E[0]=$=>o.value=$),label:"Allinea la data di fine lezione in base alla durata della lezione definita dallo studente"},null,8,["modelValue"])]),_:1}),h(R,{cols:"11",sm:"5"},{default:N(()=>[h(S,J({modelValue:se(c),"onUpdate:modelValue":E[3]||(E[3]=$=>Qe(c)?c.value=$:null),active:r.value,focus:r.value,label:"Data di inizio"},se(f),{"prepend-icon":"mdi-clock-time-four-outline",readonly:""}),{default:N(()=>[h(D,{modelValue:r.value,"onUpdate:modelValue":E[2]||(E[2]=$=>r.value=$),activator:"parent",width:"auto"},{default:N(()=>[r.value?(ye(),Le(O,{key:0,format:"24hr",modelValue:se(c),"onUpdate:modelValue":E[1]||(E[1]=$=>Qe(c)?c.value=$:null)},null,8,["modelValue"])):Jt("",!0)]),_:1},8,["modelValue"])]),_:1},16,["modelValue","active","focus"])]),_:1}),h(R,{cols:"11",sm:"5"},{default:N(()=>[h(S,J({modelValue:se(v),"onUpdate:modelValue":E[6]||(E[6]=$=>Qe(v)?v.value=$:null),active:s.value,focused:s.value,label:"Data di fine"},se(g),{"prepend-icon":"mdi-clock-time-four-outline",disabled:o.value,readonly:""}),{default:N(()=>[h(D,{modelValue:s.value,"onUpdate:modelValue":E[5]||(E[5]=$=>s.value=$),activator:"parent",width:"auto"},{default:N(()=>[s.value?(ye(),Le(O,{key:0,format:"24hr",modelValue:se(v),"onUpdate:modelValue":E[4]||(E[4]=$=>Qe(v)?v.value=$:null)},null,8,["modelValue"])):Jt("",!0)]),_:1},8,["modelValue"])]),_:1},16,["modelValue","active","focused","disabled"])]),_:1})]),_:1})]),_:1}),h(x,null,{default:N(()=>[h(A),h(P,{text:"Annulla",variant:"plain",onClick:E[7]||(E[7]=Il($=>i("close"),["stop"]))}),h(P,{color:"primary",text:"Modifica",variant:"tonal",onClick:Il(se(p),["stop"])},null,8,["onClick"])]),_:1})]),_:1})}}}),Ipe=Tt({__name:"DailyLessonCalendar",props:tc({date:{default:()=>pt.today()},editable:{type:Boolean,default:!1},showDay:{type:Boolean,default:!1},sort:{type:Boolean,default:!1}},{modelValue:{default:[]},modelModifiers:{}}),emits:tc(["edit"],["update:modelValue"]),setup(e,{emit:t}){const n=e,i=t,r=nc(e,"modelValue"),s=z([]),o=z(!1);ge(r,()=>c(),{deep:!0});const a=c6(),l=u6(),u=Sge(15),d=$4({locale:"it-IT",selectedDate:n.date.toIyyyyMMdd("-"),views:[Q4()],events:[],plugins:n.editable?[u,a,l]:[u,a],callbacks:{onEventUpdate(y){const b=s.value.find(E=>E.id==y.id);b&&(b.start=y.start,b.end=y.end,g(y))}}});function c(){s.value=f(),s.value.forEach(y=>{y._options||(y._options={}),y._options.disableDND=!n.editable,a.get(y.id)?a.update(y):a.add(y)}),console.log("updateInternalEvents",a.getAll(),n.date),a.getAll().forEach(y=>{s.value.findIndex(E=>E.id==y.id)==-1&&a.remove(y.id)})}function f(){const y=n.date.toIyyyyMMdd("-");return r.value.map(b=>"lessonId"in b?(console.log(b),{id:b.lessonId,start:y+" "+Ot.fromITime(b.startTime).format(),end:y+" "+Ot.fromITime(b.endTime).format(),title:`${b.name} ${b.surname} - ${Nr[b.lessonDay??0]}`,data:{...b}}):b)}function v(y,b){var D,S;if(!y)return;const E=s.value.find(w=>w.id==y.id);if(!E)return;const k={...y},R=(D=k.start)==null?void 0:D.split(" "),O=(S=k.end)==null?void 0:S.split(" ");E.start=R[0]+" "+b.startTime,E.end=O[0]+" "+b.endTime,g(E),o.value=!1}function g(y){var E,k;const b=r.value.find(R=>"lessonId"in R?R.lessonId==y.id:R.id==y.id);b&&("lessonId"in b?(b.startTime=((E=Ot.fromHHMM(y.start.split(" ")[1]))==null?void 0:E.toITime())??b.startTime,b.endTime=((k=Ot.fromHHMM(y.end.split(" ")[1]))==null?void 0:k.toITime())??b.endTime):(b.start=y.start,b.end=y.end),n.sort&&r.value.sort((R,O)=>R.startTime-O.startTime),i("edit"))}function p(){const y=document.getElementsByClassName("sx__calendar-header")[0];y.style.display=y.style.display=="none"?"":"none",_()}function _(y=0){const b=document.getElementsByClassName("sx__week-header")[0];b?b.style.display=n.showDay?"":"none":y>=10?console.error("Unable to hide day header"):setTimeout(()=>_(y+1),10)}return yt(()=>{p(),c()}),(y,b)=>{const E=H("v-spacer"),k=H("v-btn"),R=H("v-dialog"),O=H("v-card-actions"),D=H("v-card"),S=H("v-container");return ye(),Le(S,null,{default:N(()=>[h(se(d6),{"calendar-app":se(d)},{eventModal:N(({calendarEvent:w})=>[h(D,{elevation:"3",title:w.title,subtitle:w.start.split(" ")[1]+" - "+w.end.split(" ")[1],text:w.description},{default:N(()=>[h(O,null,{default:N(()=>[h(E),h(R,{modelValue:o.value,"onUpdate:modelValue":b[2]||(b[2]=C=>o.value=C),transition:"dialog-bottom-transition"},{activator:N(({props:C})=>[h(k,{text:"Chiudi",onClick:b[0]||(b[0]=A=>se(l).close())}),h(k,J({text:"Modifica",color:"primary"},C,{onClick:b[1]||(b[1]=Il(()=>{},["stop"]))}),null,16)]),default:N(({isActive:C})=>{var A,P;return[h(V6,{onClose:x=>C.value=!1,onSave:x=>v(w,x),startTime:(A=w.start)==null?void 0:A.split(" ")[1],endTime:(P=w.end)==null?void 0:P.split(" ")[1],minutesOfLesson:w.data.minutesLessonDuration},null,8,["onClose","onSave","startTime","endTime","minutesOfLesson"])]}),_:2},1032,["modelValue"])]),_:2},1024)]),_:2},1032,["title","subtitle","text"])]),_:1},8,["calendar-app"])]),_:1})}}}),qC=(e,t)=>{const n=e.__vccOpts||e;for(const[i,r]of t)n[i]=r;return n},YC=qC(Ipe,[["__scopeId","data-v-a762334b"]]),Ape={key:1,class:"text-grey text-caption align-self-center"},IR=Tt({__name:"WeekLessonEditor",props:{school:{default:()=>({id:"1"})},edit:{type:Boolean},initialWeekLesson:{}},emits:["close","save"],setup(e,{emit:t}){const n=t,i=e,r=[];let s;const o=z([]),a=z([]),l=z([]),u=z([]),d=z(!1),c=z(!1),f=z(!1),v=is({dayOfWeek:Mn().required("Il Giorno  obbligatorio").label("Giorno"),from:Zu().required("La Data di Inizio delle lezioni settimanali  obbligatoria").label("Dal"),to:Zu().required("La Data di Fine delle lezioni settimanali  obbligatoria").label("Al"),excludeDates:W_().of(Zu()).label("Giorni da Escludere").nullable().optional(),startingTime:Mn().required("L'Orario della prima Lezione  obbligatorio").label("Orario della prima Lezione")}),{defineField:g,handleSubmit:p}=ka({validationSchema:v}),_=B=>({props:{"error-messages":B.errors}}),[y,b]=g("dayOfWeek",_),[E,k]=g("from",_),[R,O]=g("to",_),[D,S]=g("excludeDates",_),[w,C]=g("startingTime",_);let A=!1;const P=z([]),x=p(async B=>{oe()},B=>{Xe.warn("Ci sono alcuni errori! Inserisci correttamente i dati"),console.log(B)});ge(()=>i.initialWeekLesson,()=>G()),ge(y,()=>te()),ge(E,()=>te()),ge(R,()=>te()),ge(u,()=>Y()),ge(w,()=>{W(),A=!1}),ge(y,async()=>await Q()),ge(P,()=>K(),{deep:!0});const U=I(()=>u.value.length===l.value.length),$=I(()=>u.value.length>0);function j(){U.value?u.value=[]:u.value=l.value.slice()}function Y(){var B;for(const q of u.value)if(o.value.findIndex(ce=>ce.studentId===q.id)===-1){const ce=o.value.reduce((M,L)=>L.endTime>M?L.endTime:M,((B=Ot.fromHHMM(w.value))==null?void 0:B.getTotalMinutes())??0),ne=q.minutesLessonDuration||0,Se=ce+ne*60;o.value.push({lessonId:El(),studentId:q.id,startTime:ce,endTime:Se})}for(const q of[...o.value])if(u.value.findIndex(ce=>ce.id==q.studentId)==-1){const ce=o.value.indexOf(q);o.value.splice(ce,1)}W()}function W(){var q;if(!A&&o.value.length>0){o.value.sort((ne,Se)=>ne.startTime-Se.startTime);const ce=(((q=Ot.fromHHMM(w.value))==null?void 0:q.getTotalMinutes())??0)*60-o.value[0].startTime;o.value.forEach(ne=>{ne.startTime+=ce,ne.endTime+=ce})}const B=pt.today();P.value=o.value.map(ie=>{const ce=_e(ie.studentId);return{id:ie.lessonId,start:B.toIyyyyMMdd("-")+" "+Ot.fromITime(ie.startTime).format(),end:B.toIyyyyMMdd("-")+" "+Ot.fromITime(ie.endTime).format(),title:`${Ae(ie.studentId)} - ${Ne(ie.studentId)}`,data:{...ie,...ce}}})}function K(){o.value=P.value.map(B=>{const q=B.start.split(" ")[1],ie=B.end.split(" ")[1];return{lessonId:B.data.lessonId,startTime:Ot.fromHHMM(q).toITime(),endTime:Ot.fromHHMM(ie).toITime(),studentId:B.data.studentId}})}function G(){if(i.initialWeekLesson){const B=JSON.parse(JSON.stringify(i.initialWeekLesson));y.value=Nr[B.dayOfWeek],E.value=pt.fromIyyyyMMdd(B.from).toDate(),R.value=pt.fromIyyyyMMdd(B.to).toDate(),D.value=B.exclude.map(ie=>pt.fromIyyyyMMdd(ie).toDate()),o.value=B.schedule;const q=o.value.map(ie=>ie.studentId);if(u.value=l.value.filter(ie=>q.includes(ie.id)),o.value.length>0){A=!0;const ie=o.value[0].startTime;w.value=Ot.fromITime(ie).format()}}}function te(){if(y.value===void 0||E.value===void 0||R.value===void 0)return;a.value=[];const B=Nr.indexOf(y.value);let q=new Date(E.value);for(;q<=R.value;){if(q.getDay()===B){const ie=new Date(q);a.value.push({name:uF(ie),value:ie})}q.setDate(q.getDate()+1)}}async function oe(B){var ie,ce,ne;c.value=!0;const q={schoolId:i.school.id,dayOfWeek:Nr.indexOf(y.value),from:pt.fromDate(E.value).toIyyyyMMdd(),to:pt.fromDate(R.value).toIyyyyMMdd(),exclude:((ie=D.value)==null?void 0:ie.map(Se=>pt.fromDate(Se).toIyyyyMMdd()))??[],schedule:o.value.sort((Se,M)=>Se.startTime-M.startTime),createdAt:i.edit?(ce=i.initialWeekLesson)==null?void 0:ce.createdAt:Et.now(),updatedAt:Et.now()};try{i.edit&&((ne=i.initialWeekLesson)==null?void 0:ne.id)!=null?(await Ps.instance.save(q,i.initialWeekLesson.id),Xe.success("Lezione Settimanale Aggiornata")):(await Ps.instance.save(q),Xe.success("Lezione Settimanale Creata")),n("save",q)}catch(Se){n("save"),Xe.error("Errore durante il salvataggio"),console.error("Error adding document (schools): ",Se)}finally{c.value=!1}}function _e(B){return l.value.find(q=>q.id==B)}function Ae(B){let q;return typeof B=="string"?q=_e(B):q=B,`${q==null?void 0:q.name} ${q==null?void 0:q.surname}`}function Ne(B){let q;return typeof B=="string"?q=_e(B):q=B,Nr[(q==null?void 0:q.lessonDay)??0]}async function Q(){s==null||s.unsubscribe(),f.value=!0;const B=new Promise((q,ie)=>{s=Ao.instance.observeStudentsOfSchool(i.school.id).subscribe({next:ce=>{l.value=ce,f.value=!1,q()},error:ce=>{f.value=!1,ie(ce)}})});r.push(s),await B}return Ir(()=>{r.forEach(B=>B.unsubscribe())}),yt(async()=>{await Q(),G()}),(B,q)=>{const ie=H("v-select"),ce=H("v-col"),ne=H("v-row"),Se=H("v-date-input"),M=H("v-chip"),L=H("v-time-picker"),ee=H("v-dialog"),fe=H("v-text-field"),ae=H("v-checkbox-btn"),me=H("v-list-item"),Pe=H("v-divider"),Ee=H("v-form"),Re=H("v-card-text"),be=H("v-spacer"),ze=H("v-btn"),Me=H("v-card-actions"),He=H("v-card");return ye(),Le(He,{title:"Lezione Settimanale"},{default:N(()=>[h(Re,null,{default:N(()=>[h(Ee,{class:"ma-2"},{default:N(()=>[h(ne,{class:"my-1 justify-center"},{default:N(()=>[h(ce,{class:"px-2"},{default:N(()=>[h(ie,J({modelValue:se(y),"onUpdate:modelValue":q[0]||(q[0]=Ce=>Qe(y)?y.value=Ce:null)},se(b),{items:se(Nr),label:"Giorno",required:""}),null,16,["modelValue","items"])]),_:1})]),_:1}),h(ne,{class:"my-1 justify-center"},{default:N(()=>[h(ce,{class:"px-2",cols:"12",md:"4"},{default:N(()=>[h(Se,J({max:se(R),modelValue:se(E),"onUpdate:modelValue":q[1]||(q[1]=Ce=>Qe(E)?E.value=Ce:null)},se(k),{label:"Dal",inputmode:"none"}),null,16,["max","modelValue"])]),_:1}),h(ce,{class:"px-2",cols:"12",md:"4"},{default:N(()=>[h(Se,J({min:se(E),modelValue:se(R),"onUpdate:modelValue":q[2]||(q[2]=Ce=>Qe(R)?R.value=Ce:null)},se(O),{label:"Al",inputmode:"none"}),null,16,["min","modelValue"])]),_:1}),h(ce,{class:"px-2",cols:"12",md:"4"},{default:N(()=>[h(ie,J({modelValue:se(D),"onUpdate:modelValue":q[3]||(q[3]=Ce=>Qe(D)?D.value=Ce:null)},se(S),{items:a.value,label:"Giorni da Escludere",multiple:"","item-title":"name","item-value":"value","no-data-text":"Nessuna Data Disponibile",clearable:""}),{selection:N(({item:Ce,index:Ze})=>[Ze<2?(ye(),Le(M,{key:0},{default:N(()=>[tt("span",null,lt(Ce.title),1)]),_:2},1024)):Jt("",!0),Ze===2?(ye(),St("span",Ape," (+"+lt(se(D).length-2)+" others) ",1)):Jt("",!0)]),_:1},16,["modelValue","items"])]),_:1})]),_:1}),h(ne,{class:"my-1 justify-center"},{default:N(()=>[h(ce,{class:"px-2",cols:"12",md:"6"},{default:N(()=>[h(fe,J({modelValue:se(w),"onUpdate:modelValue":q[6]||(q[6]=Ce=>Qe(w)?w.value=Ce:null)},se(C),{active:d.value,focused:d.value,inputmode:"none",label:"Orario della prima Lezione","prepend-icon":"mdi-clock-time-four-outline",readonly:""}),{default:N(()=>[h(ee,{modelValue:d.value,"onUpdate:modelValue":q[5]||(q[5]=Ce=>d.value=Ce),activator:"parent",width:"auto"},{default:N(()=>[d.value?(ye(),Le(L,{key:0,modelValue:se(w),"onUpdate:modelValue":q[4]||(q[4]=Ce=>Qe(w)?w.value=Ce:null),format:"24hr"},null,8,["modelValue"])):Jt("",!0)]),_:1},8,["modelValue"])]),_:1},16,["modelValue","active","focused"])]),_:1}),h(ce,{class:"px-2",cols:"12",md:"6"},{default:N(()=>[h(ie,{modelValue:u.value,"onUpdate:modelValue":q[7]||(q[7]=Ce=>u.value=Ce),items:l.value,label:"Studenti","item-title":"name","item-value":"id","return-object":!0,multiple:"","no-data-text":"Nessuno studente disponibile per questa scuola"},RS({_:2},[l.value.length>1?{name:"prepend-item",fn:N(()=>[h(me,{title:"Seleziona tutti",onClick:j},{prepend:N(()=>[h(ae,{color:$.value?"indigo-darken-4":void 0,indeterminate:$.value&&!U.value,"model-value":U.value},null,8,["color","indeterminate","model-value"])]),_:1}),h(Pe,{class:"mt-2"})]),key:"0"}:void 0]),1032,["modelValue","items"])]),_:1})]),_:1})]),_:1}),h(YC,{modelValue:P.value,"onUpdate:modelValue":q[8]||(q[8]=Ce=>P.value=Ce),editable:""},null,8,["modelValue"])]),_:1}),h(Me,null,{default:N(()=>[h(be),h(ze,{text:"Chiudi",onClick:q[9]||(q[9]=Ce=>n("close"))}),h(ze,{text:"Salva",color:"primary",onClick:se(x),loading:c.value},null,8,["onClick","loading"])]),_:1})]),_:1})}}}),Ppe={key:1},xpe=Tt({__name:"CalendarLessonEditor",props:{school:{}},emits:["close"],setup(e,{emit:t}){const n=e,i=t,r=[],s=z([]),o=z(!1),a=z(!1),l=z([]),u=z(!1);async function d(g){if(!g)return!1;try{return await Ps.instance.delete(g.id),!0}catch{return!1}}async function c(){o.value=!0;const g=Vg.instance.observeWeekLessonOfSchool(n.school.id).subscribe({next:p=>{s.value=p,o.value=!1},error:p=>o.value=!1});r.push(g)}async function f(){a.value=!0;const g=Ao.instance.observeStudentsOfSchool(n.school.id).subscribe({next:p=>{l.value=p,a.value=!1},error:p=>a.value=!1});r.push(g)}function v(g){const p=l.value.find(_=>_.id==g);return`${p==null?void 0:p.name} ${p==null?void 0:p.surname}`}return yt(async()=>{await f(),await c()}),Ir(()=>{r.forEach(g=>g.unsubscribe())}),(g,p)=>{const _=H("v-btn"),y=H("v-dialog"),b=H("v-col"),E=H("v-row"),k=H("v-expansion-panel-title"),R=H("v-list-item"),O=H("v-list"),D=H("v-expansion-panel-text"),S=H("v-expansion-panel"),w=H("v-expansion-panels"),C=H("v-card-text"),A=H("v-spacer"),P=H("v-card-actions"),x=H("v-card");return ye(),Le(x,{title:"Calendario",loading:o.value||a.value},{append:N(()=>[h(y,{modelValue:u.value,"onUpdate:modelValue":p[2]||(p[2]=U=>u.value=U),transition:"dialog-bottom-transition",fullscreen:""},{activator:N(({props:U})=>[h(_,J({icon:"mdi-plus"},U,{variant:"text"}),null,16)]),default:N(()=>[h(IR,{school:g.school,onClose:p[0]||(p[0]=U=>u.value=!1),onSave:p[1]||(p[1]=U=>U?u.value=!1:null)},null,8,["school"])]),_:1},8,["modelValue"])]),default:N(()=>[h(C,null,{default:N(()=>[h(w,null,{default:N(()=>[(ye(!0),St(Ie,null,Ui(s.value,U=>(ye(),Le(S,{key:U.id},{default:N(()=>[h(k,null,{default:N(()=>[h(E,{"no-gutters":""},{default:N(()=>[h(b,{class:"d-flex justify-start",cols:"5"},{default:N(()=>[tt("span",null,[p[5]||(p[5]=xe("Tutti i ")),tt("b",null,lt(se(Nr)[U.dayOfWeek]),1)])]),_:2},1024),h(b,{class:"text-grey",cols:"5"},{default:N(()=>[xe(" Dal "+lt(se(pt).fromIyyyyMMdd(U.from).format())+" al "+lt(se(pt).fromIyyyyMMdd(U.to).format()),1)]),_:2},1024),h(b,{cols:"1"},{default:N(()=>[h(y,{transition:"dialog-bottom-transition",fullscreen:""},{activator:N(({props:$})=>[h(_,J({icon:"mdi-pencil",variant:"text",onClick:p[3]||(p[3]=Il(j=>console.log("edit"),["stop"])),ref_for:!0},$),null,16)]),default:N(({isActive:$})=>[h(IR,{school:g.school,initialWeekLesson:U,edit:"",onClose:j=>$.value=!1,onSave:j=>j?$.value=!1:null},null,8,["school","initialWeekLesson","onClose","onSave"])]),_:2},1024)]),_:2},1024),h(b,{cols:"1"},{default:N(()=>[h(Yh,{name:"Tutti i "+se(Nr)[U.dayOfWeek],objName:"Lezione Programmata",onDelete:async()=>await d(U)},{activator:N(({props:$})=>[h(_,J({icon:"mdi-delete",variant:"text",ref_for:!0},$),null,16)]),_:2},1032,["name","onDelete"])]),_:2},1024)]),_:2},1024)]),_:2},1024),h(D,null,{default:N(()=>[U.schedule.length>0?(ye(),Le(O,{key:0},{default:N(()=>[(ye(!0),St(Ie,null,Ui(U.schedule,$=>(ye(),Le(R,{key:$.studentId,value:$,color:"primary"},{prepend:N(()=>[tt("p",null,[tt("b",null,lt(se(Ot).fromITime($.startTime).format())+" - "+lt(se(Ot).fromITime($.endTime).format()),1),p[6]||(p[6]=tt("span",null," - ",-1)),tt("i",null,lt(v($.studentId)),1)])]),_:2},1032,["value"]))),128))]),_:2},1024)):(ye(),St("span",Ppe,"Nessuna lezione programmata"))]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1}),h(P,null,{default:N(()=>[h(A),h(_,{text:"Chiudi",onClick:p[4]||(p[4]=U=>i("close"))})]),_:1})]),_:1},8,["loading"])}}}),Jg=class Jg{constructor(){In(this,"today")}static get instance(){return this._instance||(this._instance=new Jg),this._instance}calculateToday(){const t=new Date(new Date().toDateString()),n=pt.fromDate(t);this.today={asDate:t,asString:n.toIyyyyMMdd(),asyyyyMMdd:n,asIyyyyMMdd:n.toIyyyyMMdd()}}async getCalendarLessons(t,n,i){const r=[],s=await Fr.instance.getDailyLessonOfSchoolBetweenDate(t,n.date.toIyyyyMMdd(),i.date.toIyyyyMMdd());r.push(...s.flatMap(f=>{const v=pt.fromIyyyyMMdd(f.date).toIyyyyMMdd("-",1);return f.lessons.map(g=>({id:El(),title:g.studentId,start:v+" "+Ot.fromITime(g.startTime).format(),end:v+" "+Ot.fromITime(g.endTime).format(),data:{date:v}}))}));const o=Pn(En("schoolId"),"==",t),a=Pn(En("from"),"<=",i.date.toIyyyyMMdd()),l=Pn(En("to"),">=",n.date.toIyyyyMMdd()),u=await Ps.instance.getAll(o,a,l),d=i.date.toDate(),c=n.date.toDate();for(;c<=d&&u.length>0;)u.forEach(f=>{const v=OP(c,f.dayOfWeek);if(v>d||v>pt.fromIyyyyMMdd(f.to).toDate()||v<pt.fromIyyyyMMdd(f.from).toDate())return;const g=pt.fromDate(v).toIyyyyMMdd("-",1);r.find(p=>{var _;return((_=p.data)==null?void 0:_.date)==g})||r.push(...f.schedule.map(p=>({id:El(),title:p.studentId,start:g+" "+Ot.fromITime(p.startTime).format(),end:g+" "+Ot.fromITime(p.endTime).format()})))}),c.setDate(c.getDate()+7);return r}async getGroupedLessons(t){const n=[];return this.calculateToday(),await this.addLastLessons(t,n,2),this.addUpcomingLessons(t.dailyLessons,t.weeklyLessons,n,4),this.groupLessonsByMonth(n)}async addLastLessons(t,n,i){const r=t.dailyLessons,s=t.weeklyLessons,o=r.filter(d=>d.date<=this.today.asString);o.sort((d,c)=>c.date.localeCompare(d.date)),o.slice(0,i).reverse().forEach(d=>{n.push(this.createLessonProjection(d,!1))});const l=new Date,u=[...s];for(;n.length<i&&u.length>0;)u.forEach(async(d,c)=>{if(n.length>=i)return;const f=Oee(l,d.dayOfWeek),v=pt.fromDate(f),g=v.toIyyyyMMdd();if(d.from>g||g>d.to){u.splice(c,1);return}d.exclude.includes(g)||n.some(p=>p.date.equals(v))||n.push({date:v,pending:!0,next:!1,lessons:d.schedule})}),l.setDate(l.getDate()-7)}addUpcomingLessons(t,n,i,r){const s=new Date,o=i.length+r,a=t.filter(d=>d.date>this.today.asString).sort((d,c)=>d.date.localeCompare(c.date));let l=0;const u=[...n];for(;(u.length>0||a.length>l)&&i.length<o;){if(u.length==0){const d=a[l];i.push(this.createLessonProjection(d,!1)),l++}u.forEach((d,c)=>{if(i.length>=o)return;const f=OP(s,d.dayOfWeek),v=pt.fromDate(f),g=v.toIyyyyMMdd();if(d.from>g||g>d.to){u.splice(c,1);return}for(;a.length>l&&a[l].date<=g&&i.length<o;){const p=a[l];i.push(this.createLessonProjection(p,!1)),l++}d.exclude.includes(g)||i.length<o&&!i.some(p=>p.date.equals(v))&&i.push({date:v,next:!1,lessons:d.schedule})}),s.setDate(s.getDate()+7)}}groupLessonsByMonth(t){const n=[];let i=!1;return t.sort((r,s)=>r.date.toIyyyyMMdd()>s.date.toIyyyyMMdd()?1:-1).forEach(r=>{const s=r.date.getMonth();let o=n.findIndex(a=>a.month==Tx[s]);o==-1&&(n.push({month:Tx[s],lessons:[]}),o=n.length-1),!i&&r.date.toDate()>=this.today.asDate&&(i=!0,r.next=!0),n[o].lessons.push(r)}),n}createLessonProjection(t,n){const i=t.date<=this.today.asString&&t.lessons.some(s=>s.status==xn.NONE),r=t.lessons.some(s=>{var o;return((o=s.recovery)==null?void 0:o.ref)=="original"});return{dailyLessonId:t.id,date:pt.fromIyyyyMMdd(t.date),recovery:r,pending:i,next:n,lessons:t.lessons}}};In(Jg,"_instance",null);let Bg=Jg;const Dpe=Tt({__name:"LessonView",props:{school:{}},setup(e){const t=Vh(),n=jr(),i=e,r=[],s=z([]),o=z(),a=z(!1),l=z(!1),u=z(!1),d={dailyLessons:[],weeklyLessons:[],schoolId:i.school.id},c=I(()=>i.school==null||a.value||l.value||u.value);ge(i.school,()=>g());function f(p){return p.next?"primary":p.pending?"warning":p.recovery?"info":"grey-lighten-1"}async function v(p){const _=await Fr.instance.getOrCreateDailyLessonId(d,p);t.push(`/lesson/${_}`)}async function g(){u.value=!0;const p=new Date(new Date().toDateString()),_=n.addMonths(p,-12),y=await ah.instance.getSchoolLessons(i.school.id,_);s.value=await Bg.instance.getGroupedLessons(y),u.value=!1}return yt(async()=>{await g()}),Ir(()=>{r.forEach(p=>p==null?void 0:p())}),(p,_)=>{const y=H("v-btn"),b=H("v-date-picker"),E=H("v-col"),k=H("v-row"),R=H("v-card-text"),O=H("v-spacer"),D=H("v-card-actions"),S=H("v-card"),w=H("v-dialog"),C=H("v-list-subheader"),A=H("v-icon"),P=H("v-avatar"),x=H("v-list-item"),U=H("v-list");return ye(),Le(S,{title:"Lezioni",elevation:"3",loading:c.value},{append:N(()=>[h(w,{transition:"dialog-bottom-transition",class:"justify-center"},{activator:N(({props:$})=>[h(y,J({icon:"mdi-calendar",variant:"text",disabled:!p.school},$),null,16,["disabled"])]),default:N(({isActive:$})=>[h(S,{maxWidth:"400px"},{default:N(()=>[h(R,null,{default:N(()=>[h(k,{class:"justify-center"},{default:N(()=>[h(E,{cols:"auto"},{default:N(()=>[h(b,{modelValue:o.value,"onUpdate:modelValue":_[0]||(_[0]=j=>o.value=j)},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),h(D,null,{default:N(()=>[h(O),h(y,{text:"Chiudi",onClick:j=>$.value=!1},null,8,["onClick"]),h(y,{text:"Ok",color:"primary",onClick:_[1]||(_[1]=j=>v(o.value)),disabled:!o.value},null,8,["disabled"])]),_:2},1024)]),_:2},1024)]),_:1}),h(y,{icon:"mdi-refresh",variant:"text",disabled:!p.school||u.value,onClick:g},null,8,["disabled"]),h(w,{transition:"dialog-bottom-transition",fullscreen:""},{activator:N(({props:$})=>[h(y,J({icon:"mdi-pencil",variant:"text"},$,{disabled:!p.school}),null,16,["disabled"])]),default:N(({isActive:$})=>[h(xpe,{school:p.school,onClose:j=>{$.value=!1,g()}},null,8,["school","onClose"])]),_:1}),h(y,{icon:"mdi-eye-arrow-right",variant:"text",to:"/lessons/"+p.school.id},null,8,["to"])]),default:N(()=>[h(U,{lines:"two"},{default:N(()=>[(ye(!0),St(Ie,null,Ui(s.value,$=>(ye(),St(Ie,{key:$.month},[h(C,{inset:""},{default:N(()=>[xe(lt($.month),1)]),_:2},1024),(ye(!0),St(Ie,null,Ui($.lessons,j=>(ye(),Le(x,{key:j.date.toString(),title:j.date.format(),onClick:Y=>v(j),baseColor:j.next?"primary":""},RS({prepend:N(()=>[h(P,{color:f(j)},{default:N(()=>[h(A,{color:"white"},{default:N(()=>_[2]||(_[2]=[xe("mdi-calendar")])),_:1})]),_:2},1032,["color"])]),_:2},[j.pending||j.recovery?{name:"append",fn:N(()=>[j.pending?(ye(),Le(A,{key:0,color:"warning"},{default:N(()=>_[3]||(_[3]=[xe("mdi-alert")])),_:1})):Jt("",!0),j.recovery?(ye(),Le(A,{key:1,color:"info"},{default:N(()=>_[4]||(_[4]=[xe("mdi-alpha-r-circle")])),_:1})):Jt("",!0)]),key:"0"}:void 0]),1032,["title","onClick","baseColor"]))),128))],64))),128))]),_:1})]),_:1},8,["loading"])}}}),Rpe=qC(Dpe,[["__scopeId","data-v-c41e1ade"]]),Ope=Tt({__name:"ScheduleRecoveryLessonButton",props:tc({school:{}},{modelValue:{required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const t=e,n=nc(e,"modelValue"),i=z(!1),r=z(!1),s=z(!1),o=is({date:Zu().required("La Data della Lezione di Recupero  obbligatoria").label("Data della Lezione di Recupero"),time:Mn().required("L'Orario della Lezione di Recupero  obbligatorio").label("Orario della Lezione di Recupero")}),{defineField:a,handleSubmit:l,resetForm:u}=ka({validationSchema:o}),d=b=>({props:{"error-messages":b.errors}}),[c,f]=a("date",d),[v,g]=a("time",d),p=l(async b=>{y()},b=>{Xe.warn("Ci sono alcuni errori! Inserisci correttamente i dati"),console.log(b)});function _(){r.value=!1,c.value=void 0,v.value=void 0,u()}async function y(){if(!(!c.value||!v.value||!n.value))try{s.value=!0;const b=Ot.fromHHMM(v.value),E={studentId:n.value.studentId,schoolId:t.school.id,originalDailyLessonId:n.value.originalDailyLesson.id,originalLessonId:n.value.lessonId,date:c.value,startTime:b.toITime(),endTime:b.add({minutes:n.value.minutesLessonDuration}).toITime()};await Ss.instance.scheduleRecovery(n.value,E),r.value=!1}catch{Xe.error("Impossibile schedulare la lezione di recupero")}finally{s.value=!1}}return(b,E)=>{const k=H("v-btn"),R=H("v-date-input"),O=H("v-col"),D=H("v-time-picker"),S=H("v-dialog"),w=H("v-text-field"),C=H("v-row"),A=H("v-card-text"),P=H("v-spacer"),x=H("v-card-actions"),U=H("v-card");return ye(),Le(S,{modelValue:r.value,"onUpdate:modelValue":E[5]||(E[5]=$=>r.value=$),width:"auto",scrollable:"",persistent:""},{activator:N(({props:$})=>[h(k,$R(MS($)),{default:N(()=>E[6]||(E[6]=[xe("programma")])),_:2},1040)]),default:N(()=>[h(U,{title:"Programma Lezione di Recupero",subtitle:n.value.name+" "+n.value.surname+" - "+se(pt).fromIyyyyMMdd(n.value.originalDailyLesson.date).format(),loading:s.value},{default:N(()=>[h(A,{class:"pa-6"},{default:N(()=>[h(C,null,{default:N(()=>[h(O,{cols:"12",md:"12"},{default:N(()=>[h(R,J({modelValue:se(c),"onUpdate:modelValue":E[0]||(E[0]=$=>Qe(c)?c.value=$:null)},se(f),{label:"Data della Lezione di Recupero",inputmode:"none"}),null,16,["modelValue"])]),_:1}),h(O,{cols:"12",lg:"12"},{default:N(()=>[h(w,J({modelValue:se(v),"onUpdate:modelValue":E[3]||(E[3]=$=>Qe(v)?v.value=$:null)},se(g),{active:i.value,focused:i.value,inputmode:"none",label:"Orario della prima Lezione","prepend-icon":"mdi-clock-time-four-outline",readonly:""}),{default:N(()=>[h(S,{modelValue:i.value,"onUpdate:modelValue":E[2]||(E[2]=$=>i.value=$),activator:"parent",width:"auto"},{default:N(()=>[i.value?(ye(),Le(D,{key:0,modelValue:se(v),"onUpdate:modelValue":E[1]||(E[1]=$=>Qe(v)?v.value=$:null),format:"24hr"},null,8,["modelValue"])):Jt("",!0)]),_:1},8,["modelValue"])]),_:1},16,["modelValue","active","focused"])]),_:1})]),_:1})]),_:1}),h(x,null,{default:N(()=>[h(P),h(k,{text:"Annulla",onClick:_}),h(k,{color:"primary",text:"Salva",onClick:E[4]||(E[4]=$=>se(p)($))})]),_:1})]),_:1},8,["subtitle","loading"])]),_:1},8,["modelValue"])}}}),Vpe={key:0},Npe={key:1},Mpe={key:2},Lpe={key:0},Fpe={key:1},$pe={key:0},Bpe={key:2},Upe={key:0},jpe=Tt({__name:"RecoveryLessonView",props:{school:{}},setup(e){const t=e,n=I(()=>t.school.id),i=oo.instance.observe(n),r=Yp(i),s=z(),o=z(!1),a=z(!1);ge(r,async()=>u());async function l(d){try{a.value=!0,await Ss.instance.cancelRecovery(d)}catch{Xe.warn("Impossibile annullare la lezione di recupero")}finally{a.value=!1}}async function u(){if(r.value)try{o.value=!0,s.value=await Ss.instance.computeDailyLessons(r.value),console.log(s)}catch{Xe.warning("Impossibile caricare le Lezioni di Recupero")}finally{o.value=!1}}return(d,c)=>{const f=H("v-list-subheader"),v=H("v-list-item"),g=H("v-btn"),p=H("v-icon"),_=H("v-divider"),y=H("v-list"),b=H("v-card-text"),E=H("v-card");return ye(),Le(E,{title:"Recuperi",elevation:"3",loading:o.value},{default:N(()=>[h(y,{lines:"three"},{default:N(()=>{var k;return[(ye(!0),St(Ie,null,Ui((k=s.value)==null?void 0:k.recoveryMap,(R,O)=>(ye(),St(Ie,{key:R.type},[h(f,{inset:""},{default:N(()=>[tt("b",null,lt(se(rfe)[R.type]),1)]),_:2},1024),R.recoveries.length==0?(ye(),Le(v,{key:0},{default:N(()=>[R.type=="unset"?(ye(),St("div",Vpe," Nessuna lezione da recuperare ")):R.type=="pending"?(ye(),St("div",Npe," Nessuna lezione di recupero programmata ")):(ye(),St("div",Mpe," Nessuna lezione di recupero effettuata "))]),_:2},1024)):Jt("",!0),(ye(!0),St(Ie,null,Ui(R.recoveries,(D,S)=>(ye(),Le(v,{key:`${D.lessonId}_${D.originalDailyLesson.id}`},{title:N(()=>[xe(lt(D.name)+" "+lt(D.surname),1)]),subtitle:N(()=>[R.type=="unset"?(ye(),St("div",Lpe," Da recuperare la lezione del "+lt(se(pt).fromIyyyyMMdd(D.originalDailyLesson.date).format()),1)):R.type=="pending"?(ye(),St("div",Fpe,[xe(" Recupero della lezione del "+lt(se(pt).fromIyyyyMMdd(D.originalDailyLesson.date).format())+" programmato ",1),D.recoveryDailyLesson?(ye(),St("span",$pe," per il "+lt(se(pt).fromIyyyyMMdd(D.recoveryDailyLesson.date).format()),1)):Jt("",!0)])):(ye(),St("div",Bpe,[xe(" Recupero della lezione del "+lt(se(pt).fromIyyyyMMdd(D.originalDailyLesson.date).format())+" effettuato ",1),D.recoveryDailyLesson?(ye(),St("span",Upe," il "+lt(se(pt).fromIyyyyMMdd(D.recoveryDailyLesson.date).format()),1)):Jt("",!0)]))]),append:N(()=>[R.type=="unset"?(ye(),Le(Ope,{key:0,modelValue:R.recoveries[S],"onUpdate:modelValue":w=>R.recoveries[S]=w,school:d.school},null,8,["modelValue","onUpdate:modelValue","school"])):R.type=="pending"?(ye(),Le(g,{key:1,onClick:w=>l(D),loading:a.value,disabled:a.value},{default:N(()=>c[0]||(c[0]=[xe("annulla")])),_:2},1032,["onClick","loading","disabled"])):D.recoveryStatus==se(xn).CANCELLED?(ye(),Le(p,{key:2,color:"warning"},{default:N(()=>c[1]||(c[1]=[xe(" mdi-cancel ")])),_:1})):(ye(),Le(p,{key:3,color:"success"},{default:N(()=>c[2]||(c[2]=[xe(" mdi-check-all ")])),_:1}))]),_:2},1024))),128)),O!=2?(ye(),Le(_,{key:1})):Jt("",!0)],64))),128))]}),_:1}),s.value?Jt("",!0):(ye(),Le(b,{key:0},{default:N(()=>c[3]||(c[3]=[xe(" Nessun recupero in programma ")])),_:1}))]),_:1},8,["loading"])}}}),AR=Tt({__name:"StudentEditor",props:{school:{},initialStudent:{},edit:{type:Boolean}},emits:["close","save"],setup(e,{emit:t}){const n=e,i=t,r=z(),s=z([]),o=z(!1);ge(()=>n.initialStudent,()=>C()),ge(()=>n.school,()=>A());const a=is({name:Mn().required("Il Nome  obbligatorio").min(1).label("Nome"),surname:Mn().required("Il Cognome  obbligatorio").min(1).label("Cognome"),contact:Mn().label("Contatto").nullable().optional(),lessonDay:Mn().label("Giono di Lezione").nullable().optional(),level:Mn().required("Il Livello  obbligatorio").label("Livello"),minutesLessonDuration:af().required("La Durata della Lezione  obbligatoria").min(1).label("Durata della Lezione"),notes:W_().of(Mn()).label("Note")}),{defineField:l,handleSubmit:u}=ka({validationSchema:a}),d=x=>({props:{"error-messages":x.errors}}),[c,f]=l("name",d),[v,g]=l("surname",d),[p,_]=l("contact",d),[y,b]=l("lessonDay",d),[E,k]=l("level",d),[R,O]=l("minutesLessonDuration",d),[D,S]=l("notes",d),w=u(async x=>{P(x)},x=>{Xe.warn("Ci sono alcuni errori! Inserisci correttamente i dati"),console.log(x)});function C(){if(n.initialStudent){const x=JSON.parse(JSON.stringify(n.initialStudent));c.value=x.name,v.value=x.surname??"",p.value=x.contact??"",y.value=Nr[x.lessonDay],E.value=x.level,D.value=x.notes??[],R.value=x.minutesLessonDuration}}function A(){r.value=n.school,s.value=r.value.levelRanges.flatMap(x=>x.levels)}async function P(x){var $,j;o.value=!0;const U={...x};U.schoolId=r.value.id,U.createdAt=n.edit?($=n.initialStudent)==null?void 0:$.createdAt:Et.now(),U.updatedAt=Et.now(),y.value&&(U.lessonDay=Nr.indexOf(y.value));try{n.edit&&((j=n.initialStudent)==null?void 0:j.id)!=null?(await _o.instance.save(U,n.initialStudent.id),Xe.success("Studente Aggiornato")):(await _o.instance.save(U),Xe.success("Studente Creato")),i("save",U)}catch(Y){i("save"),Xe.error("Errore durante il salvataggio"),console.error("Error adding document (schools): ",Y)}finally{o.value=!1}}return yt(()=>{C(),A()}),(x,U)=>{const $=H("v-text-field"),j=H("v-col"),Y=H("v-select"),W=H("v-number-input"),K=H("v-row"),G=H("v-card-text"),te=H("v-divider"),oe=H("v-spacer"),_e=H("v-btn"),Ae=H("v-card-actions"),Ne=H("v-card");return ye(),Le(Ne,{"prepend-icon":"mdi-school",title:`Studente (${x.school.name})`},{default:N(()=>[h(G,null,{default:N(()=>[h(K,{dense:""},{default:N(()=>[h(j,{cols:"12",md:"6"},{default:N(()=>[h($,J({modelValue:se(c),"onUpdate:modelValue":U[0]||(U[0]=Q=>Qe(c)?c.value=Q:null)},se(f),{label:"Nome"}),null,16,["modelValue"])]),_:1}),h(j,{cols:"12",md:"6"},{default:N(()=>[h($,J({modelValue:se(v),"onUpdate:modelValue":U[1]||(U[1]=Q=>Qe(v)?v.value=Q:null)},se(g),{label:"Cognome"}),null,16,["modelValue"])]),_:1}),h(j,{cols:"12",md:"6"},{default:N(()=>[h($,J({modelValue:se(p),"onUpdate:modelValue":U[2]||(U[2]=Q=>Qe(p)?p.value=Q:null)},se(_),{label:"Contatto"}),null,16,["modelValue"])]),_:1}),h(j,{cols:"12",md:"6"},{default:N(()=>[h(Y,J({modelValue:se(E),"onUpdate:modelValue":U[3]||(U[3]=Q=>Qe(E)?E.value=Q:null)},se(k),{items:s.value,label:"Livello"}),null,16,["modelValue","items"])]),_:1}),h(j,{cols:"12",md:"6"},{default:N(()=>[h(Y,J({modelValue:se(y),"onUpdate:modelValue":U[4]||(U[4]=Q=>Qe(y)?y.value=Q:null)},se(b),{items:se(Nr),label:"Giorno della Lezione"}),null,16,["modelValue","items"])]),_:1}),h(j,{cols:"12",md:"6"},{default:N(()=>[h(W,J({modelValue:se(R),"onUpdate:modelValue":U[5]||(U[5]=Q=>Qe(R)?R.value=Q:null)},se(O),{reverse:!1,controlVariant:"default",label:"Durata della Lezione",suffix:"min",hideInput:!1,inset:!1,min:1}),null,16,["modelValue"])]),_:1})]),_:1})]),_:1}),h(te),h(Ae,null,{default:N(()=>[h(oe),h(_e,{text:"Chiudi",variant:"plain",onClick:U[6]||(U[6]=Q=>i("close"))}),h(_e,{color:"primary",loading:o.value,disabled:o.value,text:x.edit?"Salva Modifiche":"Crea",variant:"tonal",onClick:se(w)},null,8,["loading","disabled","text","onClick"])]),_:1})]),_:1},8,["title"])}}}),Hpe=Tt({__name:"StudentView",props:{school:{}},setup(e){const t=e,n=[],i=z([]),r=z(!1),s=z(!1),o=[{title:"Nome",align:"start",sortable:!0,key:"name"},{title:"Cognome",key:"surname"},{title:"Contatto",key:"contact"},{title:"Giorno della Lezione",key:"lessonDay"},{title:"Operazioni",key:"actions",sortable:!1}];function a(d){d&&(s.value=!1)}async function l(d){if(!d)return!1;try{return await _o.instance.delete(d.id),!0}catch{return!1}}async function u(){r.value=!0;const d=Ao.instance.observeStudentsOfSchool(t.school.id).subscribe({next:c=>{i.value=c,r.value=!1},error:c=>r.value=!1});n.push(d)}return yt(async()=>{await u()}),Ir(()=>{n.forEach(d=>d.unsubscribe())}),(d,c)=>{const f=H("v-text-field"),v=H("v-btn"),g=H("v-dialog"),p=H("v-row"),_=H("v-icon"),y=H("v-data-table"),b=H("v-card-text"),E=H("v-card");return ye(),Le(E,{title:"Studenti",elevation:"3",loading:r.value},{default:N(()=>[h(b,null,{default:N(()=>[h(p,{class:"mr-4 mb-1 align-center"},{default:N(()=>[h(f,{class:"ma-2","prepend-inner-icon":"mdi-magnify",density:"comfortable",placeholder:"Ricerca...",theme:"light",variant:"solo","hide-details":""}),h(g,{modelValue:s.value,"onUpdate:modelValue":c[2]||(c[2]=k=>s.value=k),fullscreen:""},{activator:N(({props:k})=>[h(v,J({"prepend-icon":"mdi-plus",color:"success"},k),{default:N(()=>c[3]||(c[3]=[xe("nuovo studente")])),_:2},1040)]),default:N(()=>[h(AR,{school:d.school,onClose:c[0]||(c[0]=k=>s.value=!1),onSave:c[1]||(c[1]=k=>a(k))},null,8,["school"])]),_:1},8,["modelValue"])]),_:1}),h(y,{headers:o,items:i.value,"item-value":"id"},{"item.lessonDay":N(({item:k})=>[xe(lt(se(Nr)[k.lessonDay]),1)]),"item.actions":N(({item:k})=>[h(g,{fullscreen:""},{activator:N(({props:R})=>[h(_,J({class:"me-2",size:"small"},R),{default:N(()=>c[4]||(c[4]=[xe(" mdi-pencil ")])),_:2},1040)]),default:N(({isActive:R})=>[h(AR,{edit:"",school:d.school,initialStudent:k,onClose:O=>R.value=!1,onSave:O=>R.value=!1},null,8,["school","initialStudent","onClose","onSave"])]),_:2},1024),h(Yh,{name:k.name+" "+k.surname,objName:"Studente",onDelete:async()=>await l(k)},{activator:N(({props:R})=>[h(_,J({size:"small"},R),{default:N(()=>c[5]||(c[5]=[xe(" mdi-delete ")])),_:2},1040)]),_:2},1032,["name","onDelete"])]),_:1},8,["items"])]),_:1})]),_:1},8,["loading"])}}}),Wpe=Tt({__name:"DateSelect",props:{modelValue:{default:{from:void 0,to:void 0}},modelModifiers:{}},emits:["update:modelValue"],setup(e){const t=jr(),n=["Assoluto","Relativo"],i=["Ultima settimana","Ultimo mese","Ultimi 3 mesi","Ultimi 6 mesi","Ultimo anno"],r=z(n[1]),s=z(i[0]),o=z();let a=!1;const l=nc(e,"modelValue");ge(r,u),ge(s,u),ge(o,u),ge(l,d,{immediate:!0});function u(){var c,f,v;if(a=!0,r.value==n[1]){let g;s.value==i[1]?g=t.addMonths(new Date,-1):s.value==i[2]?g=t.addMonths(new Date,-3):s.value==i[3]?g=t.addMonths(new Date,-6):s.value==i[4]?g=t.addMonths(new Date,-12):g=t.addDays(new Date,-7),l.value={from:pt.fromDate(g).toIyyyyMMdd()}}else if(r.value==n[0]){const g=(c=o.value)==null?void 0:c[0],p=((f=o.value)==null?void 0:f[o.value.length-1])??((v=o.value)==null?void 0:v[0]);g&&p&&(l.value={from:pt.fromDate(g).toIyyyyMMdd(),to:pt.fromDate(p).toIyyyyMMdd()})}}function d(){var v,g;if(a){a=!1;return}const c=(v=l.value)==null?void 0:v.from,f=(g=l.value)==null?void 0:g.to;if(c&&!f){r.value=n[1];const p=new Date,_=new Date(p.getTime()-pt.fromIyyyyMMdd(c).toDate().getTime()),y=_.getUTCFullYear()-1970,b=_.getUTCMonth(),E=_.getUTCDate()-1;E==7&&b==0&&y==0?s.value=i[0]:(E==30||b==1)&&y==0?s.value=i[1]:(E==90||b==3)&&y==0?s.value=i[2]:(E==180||b==6)&&y==0?s.value=i[3]:E==365||b==12||y==1?s.value=i[4]:(console.warn("Selected period not recognized, falling to last week"),s.value=i[0])}else if(c&&f){r.value=n[0],o.value=[];const p=pt.fromIyyyyMMdd(c).toDate(),_=pt.fromIyyyyMMdd(f).toDate();for(const y=p;y<=_;y.setDate(y.getDate()+1))o.value.push(new Date(y))}}return(c,f)=>{const v=H("v-select"),g=H("v-col"),p=H("v-date-input"),_=H("v-row");return ye(),Le(_,{class:"px-2 mb-2"},{default:N(()=>[h(g,{cols:"12",md:"6"},{default:N(()=>[h(v,{variant:"outlined",density:"compact",modelValue:r.value,"onUpdate:modelValue":f[0]||(f[0]=y=>r.value=y),items:n,"hide-details":""},null,8,["modelValue"])]),_:1}),r.value==n[0]?(ye(),Le(g,{key:0,cols:"12",md:"6"},{default:N(()=>[h(p,{variant:"outlined",density:"compact",modelValue:o.value,"onUpdate:modelValue":f[1]||(f[1]=y=>o.value=y),multiple:"range",inputmode:"none","hide-details":""},null,8,["modelValue"])]),_:1})):(ye(),Le(g,{key:1,cols:"12",md:"6"},{default:N(()=>[h(v,{variant:"outlined",density:"compact",modelValue:s.value,"onUpdate:modelValue":f[2]||(f[2]=y=>s.value=y),items:i,"hide-details":""},null,8,["modelValue"])]),_:1}))]),_:1})}}}),zpe={class:"d-flex justify-center"},Gpe={colspan:"6",class:"text-center font-weight-bold"},qpe=Tt({__name:"SalaryView",props:{school:{}},setup(e){const t=e,n=z([]),i=z(!1),r=z({}),s=z({}),o=[{title:"Data",align:"start",sortable:!0,key:"date"},{title:"Presenti",key:"presents"},{title:"Assenti",key:"absents"},{title:"Stipendio giornaliero",key:"salary"},{title:"Aggiornato il",key:"lastUpdate"},{title:"Operazioni",key:"actions",sortable:!1}],a=I(()=>n.value.reduce((d,c)=>d+c.salary,0));ge(s,l);async function l(){if(!s.value||!s.value.from)return;const d=s.value.to??pt.today().toIyyyyMMdd();i.value=!0,n.value=await oh.instance.computeSalary(t.school,s.value.from,d),i.value=!1}async function u(d,c){r.value[d.dailyLessonId]=!0;const f=await Fr.instance.computeSalaryOfDailyLesson(t.school,d.dailyLessonId);f?(n.value[c].salary=f.salary,n.value[c].lastUpdate=f.lastSalaryUpdate):Xe.info(`Lo stipendio della lezione del ${pt.fromIyyyyMMdd(d.date).format()}  gi aggiornato!`),r.value[d.dailyLessonId]=!1}return yt(async()=>{await l()}),(d,c)=>{const f=H("v-btn"),v=H("v-data-table"),g=H("v-card-text"),p=H("v-card");return ye(),Le(p,{title:"Stipendio",elevation:"3",loading:i.value},{default:N(()=>[h(g,null,{default:N(()=>[h(Wpe,{modelValue:s.value,"onUpdate:modelValue":c[0]||(c[0]=_=>s.value=_)},null,8,["modelValue"]),h(v,{headers:o,items:n.value,"item-value":"id"},{"item.date":N(({item:_})=>[xe(lt(se(pt).fromIyyyyMMdd(_.date).format()),1)]),"item.lastUpdate":N(({item:_})=>[xe(lt(_.lastUpdate?se(Mee)(new(se(Et))(_.lastUpdate.seconds,_.lastUpdate.nanoseconds).toDate()):""),1)]),"item.actions":N(({item:_,index:y})=>[tt("div",zpe,[h(f,{icon:"mdi-refresh",variant:"text",onClick:b=>u(_,y),loading:r.value[_.dailyLessonId]},null,8,["onClick","loading"])])]),"body.append":N(()=>[tt("tr",null,[tt("td",Gpe,"Totale "+lt(a.value)+" ",1)])]),_:1},8,["items"])]),_:1})]),_:1},8,["loading"])}}}),Ype=Tt({__name:"SchoolView",setup(e){const t=Qp(),n=Vh(),i=I(()=>t.params.id),r=Io.instance.observe(i),s=Yp(r),o=[],a=z([]);async function l(){if(!s.value)return!1;try{return ah.instance.delete(r.value),n.push("/"),!0}catch{return!1}}async function u(){const d=[{id:0,title:"Questa  una nota molto carina e paffutella",description:"",student:"Matteo Rossi"},{id:1,title:"Questa  una nota con descrizione",description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Ut viverra tincidunt risus sit amet interdum. Nam sed leo id ipsum efficitur congue nec ut est. Nullam in metus leo. In commodo, leo eu vulputate euismod, urna lacus efficitur nibh, ut maximus felis metus eu odio. Duis cursus commodo auctor. Suspendisse condimentum lorem dui, id tristique lectus commodo nec.",student:"Luca Verdi"}];a.value=d}return yt(async()=>{await u()}),Ir(()=>{o.forEach(d=>d())}),(d,c)=>{const f=H("v-btn"),v=H("v-list-item"),g=H("v-dialog"),p=H("v-list"),_=H("v-menu"),y=H("v-col"),b=H("v-row"),E=H("v-expansion-panel-title"),k=H("v-expansion-panel-text"),R=H("v-expansion-panel"),O=H("v-expansion-panels"),D=H("v-card");return se(s)?(ye(),Le(D,{key:0,class:"pa-3",title:se(s).name,elevation:"0"},{prepend:N(()=>[h(Kh)]),append:N(()=>[h(_,{transition:"slide-y-transition"},{activator:N(({props:S})=>[h(f,J({icon:"mdi-dots-vertical",variant:"text"},S),null,16)]),default:N(()=>[h(p,null,{default:N(()=>[h(g,{fullscreen:""},{activator:N(({props:S})=>[h(v,J({title:"Modifica"},S),null,16)]),default:N(({isActive:S})=>[h(t6,{edit:"",initialSchool:se(s),onClose:w=>S.value=!1,onSave:w=>S.value=!1},null,8,["initialSchool","onClose","onSave"])]),_:1}),h(Yh,{name:se(s).name,objName:"Scuola",onDelete:l},{activator:N(({props:S})=>[h(v,J({title:"Elimina"},S),null,16)]),_:1},8,["name"])]),_:1})]),_:1})]),default:N(()=>[h(b,{class:"mt-5"},{default:N(()=>[h(y,{class:"pa-2",cols:"12",md:"6"},{default:N(()=>[h(Rpe,{school:se(s)},null,8,["school"])]),_:1}),h(y,{class:"pa-2",cols:"12",md:"6"},{default:N(()=>[h(jpe,{school:se(s)},null,8,["school"])]),_:1})]),_:1}),h(b,null,{default:N(()=>[h(y,{class:"pa-2",cols:"12",md:"6"},{default:N(()=>[h(Hpe,{school:se(s)},null,8,["school"])]),_:1}),h(y,{class:"pa-2",cols:"12",md:"6"},{default:N(()=>[h(qpe,{school:se(s)},null,8,["school"])]),_:1})]),_:1}),h(b,null,{default:N(()=>[h(y,{class:"pa-2",cols:"12"},{default:N(()=>[h(D,{title:"Note",elevation:"3"},{default:N(()=>[h(O,null,{default:N(()=>[(ye(!0),St(Ie,null,Ui(a.value,S=>(ye(),Le(R,{key:S.id},{default:N(()=>[h(E,null,{default:N(()=>[h(b,{"no-gutters":""},{default:N(()=>[h(y,{class:"d-flex justify-start",cols:"8"},{default:N(()=>[xe(lt(S.title),1)]),_:2},1024),h(y,{class:"text-grey",cols:"4"},{default:N(()=>[tt("span",null,lt(S.student),1)]),_:2},1024)]),_:2},1024)]),_:2},1024),h(k,null,{default:N(()=>[xe(lt(S.description),1)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["title"])):Jt("",!0)}}});var cS;(function(e){e.DragAndDrop="dragAndDrop",e.EventModal="eventModal",e.ScrollController="scrollController",e.EventRecurrence="eventRecurrence",e.Resize="resize",e.CalendarControls="calendarControls",e.CurrentTime="currentTime"})(cS||(cS={}));const Kpe=/^(0[0-9]|1[0-9]|2[0-3]):[0-5][0-9]$/,Xpe=/^(\d{4})-(\d{2})-(\d{2})$/;class Qpe extends Error{constructor(t){super(`Invalid time string: ${t}`)}}class Jpe extends Error{constructor(t,n){super(`Number must be between ${t} and ${n}.`),Object.defineProperty(this,"min",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"max",{enumerable:!0,configurable:!0,writable:!0,value:n})}}const PR=e=>{if(e<0||e>99)throw new Jpe(0,99);return String(e).padStart(2,"0")},N6=1.6666666666666667,xR=e=>{if(!Kpe.test(e)&&e!=="24:00")throw new Qpe(e);const[t,n]=e.split(":").map(r=>parseInt(r,10));let i=(n*N6).toString();return i.split(".")[0].length<2&&(i=`0${i}`),Number(t+i)},DR=e=>{const t=Math.floor(e/100),n=Math.round(e%100/N6);return`${PR(t)}:${PR(n)}`},Zpe=(e,t)=>(t.name=e,t);class e_e{constructor(){Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:cS.CalendarControls}),Object.defineProperty(this,"$app",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"getDate",{enumerable:!0,configurable:!0,writable:!0,value:()=>this.$app.datePickerState.selectedDate.value}),Object.defineProperty(this,"getView",{enumerable:!0,configurable:!0,writable:!0,value:()=>this.$app.calendarState.view.value}),Object.defineProperty(this,"getFirstDayOfWeek",{enumerable:!0,configurable:!0,writable:!0,value:()=>this.$app.config.firstDayOfWeek.value}),Object.defineProperty(this,"getLocale",{enumerable:!0,configurable:!0,writable:!0,value:()=>this.$app.config.locale.value}),Object.defineProperty(this,"getViews",{enumerable:!0,configurable:!0,writable:!0,value:()=>this.$app.config.views.value}),Object.defineProperty(this,"getDayBoundaries",{enumerable:!0,configurable:!0,writable:!0,value:()=>({start:DR(this.$app.config.dayBoundaries.value.start),end:DR(this.$app.config.dayBoundaries.value.end)})}),Object.defineProperty(this,"getWeekOptions",{enumerable:!0,configurable:!0,writable:!0,value:()=>this.$app.config.weekOptions.value}),Object.defineProperty(this,"getCalendars",{enumerable:!0,configurable:!0,writable:!0,value:()=>this.$app.config.calendars.value}),Object.defineProperty(this,"getMinDate",{enumerable:!0,configurable:!0,writable:!0,value:()=>this.$app.config.minDate.value}),Object.defineProperty(this,"getMaxDate",{enumerable:!0,configurable:!0,writable:!0,value:()=>this.$app.config.maxDate.value}),Object.defineProperty(this,"getMonthGridOptions",{enumerable:!0,configurable:!0,writable:!0,value:()=>this.$app.config.monthGridOptions.value}),Object.defineProperty(this,"getRange",{enumerable:!0,configurable:!0,writable:!0,value:()=>this.$app.calendarState.range.value})}beforeRender(t){this.$app=t}onRender(t){this.$app=t}setDate(t){if(!Xpe.test(t))throw new Error("Invalid date. Expected format YYYY-MM-DD");this.$app.datePickerState.selectedDate.value=t}setView(t){if(!this.$app.config.views.value.find(i=>i.name===t))throw new Error(`Invalid view name. Expected one of ${this.$app.config.views.value.map(i=>i.name).join(", ")}`);this.$app.calendarState.setView(t,this.$app.datePickerState.selectedDate.value)}setFirstDayOfWeek(t){this.$app.config.firstDayOfWeek.value=t}setLocale(t){this.$app.config.locale.value=t}setViews(t){const n=this.$app.calendarState.view.value;if(!t.some(r=>r.name===n))throw new Error(`Currently active view is not in given views. Expected to find ${n} in ${t.map(r=>r.name).join(",")}`);this.$app.config.views.value=t}setDayBoundaries(t){this.$app.config.dayBoundaries.value={start:xR(t.start),end:xR(t.end)}}setWeekOptions(t){this.$app.config.weekOptions.value={...this.$app.config.weekOptions.value,...t}}setCalendars(t){this.$app.config.calendars.value=t}setMinDate(t){this.$app.config.minDate.value=t}setMaxDate(t){this.$app.config.maxDate.value=t}setMonthGridOptions(t){this.$app.config.monthGridOptions.value=t}}const t_e=()=>Zpe("calendarControls",new e_e),n_e=Tt({__name:"SchoolLessonView",setup(e){const t=Qp(),n=I(()=>t.params.id),i=Io.instance.observe(n),r=Yp(i),s=[],o=z(!1),a=c6(),l=u6(),u=t_e(),d=$4({locale:"it-IT",views:[Q4(),Nde(),Wde(),nfe()],defaultView:Vde.name,events:[],plugins:[a,l,u],callbacks:{beforeRender(v){const g=v.calendarState.range.value;f(g)},onRangeUpdate(v){f(v)}}});function c(){s.forEach(v=>{v._options||(v._options={}),a.get(v.id)?a.update(v):a.add(v)}),a.getAll().forEach(v=>{s.findIndex(p=>p.id==v.id)==-1&&a.remove(v.id)})}async function f(v){if(v??(v=u.getRange()),!v||!r.value)return;s.length=0,o.value=!0;const g={date:pt.fromDate(new Date(v.start)),time:Ot.fromHHMM(v.start.split(" ")[1])},p={date:pt.fromDate(new Date(v.end)),time:Ot.fromHHMM(v.end.split(" ")[1])},_=await Bg.instance.getCalendarLessons(r.value.id,g,p),y=Array.from(new Set(_.map(b=>b.title).filter(Boolean)));if(y.length>0){const b=await Ao.instance.getStudentsOfSchoolWithIds(r.value.id,y);_.forEach(E=>{const k=b.find(R=>R.id==E.title);k&&(E.title=k.name+" "+k.surname)})}s.push(..._),c(),o.value=!1}return yt(async()=>{f()}),(v,g)=>{const p=H("v-progress-linear"),_=H("v-container"),y=H("v-card");return se(r)?(ye(),Le(y,{key:0,class:"pa-3",title:se(r).name,elevation:"0"},{prepend:N(()=>[h(Kh)]),default:N(()=>[h(_,null,{default:N(()=>[h(p,{active:o.value,color:"primary",indeterminate:""},null,8,["active"]),h(se(d6),{"calendar-app":se(d)},null,8,["calendar-app"])]),_:1})]),_:1},8,["title"])):Jt("",!0)}}}),i_e=Tt({__name:"VSelectStudents",props:tc({allStudents:{default:()=>[]}},{modelValue:{default:[]},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const t=e,n=nc(e,"modelValue"),i=I(()=>n.value.length===t.allStudents.length),r=I(()=>n.value.length>0);function s(){i.value?n.value=[]:n.value=t.allStudents.slice()}return(o,a)=>{const l=H("v-checkbox-btn"),u=H("v-list-item"),d=H("v-divider"),c=H("v-select");return ye(),Le(c,{modelValue:n.value,"onUpdate:modelValue":a[0]||(a[0]=f=>n.value=f),items:o.allStudents,label:"Studenti","item-title":"name","item-value":"id","return-object":!0,multiple:"","no-data-text":"Nessuno studente disponibile per questa scuola"},RS({_:2},[o.allStudents.length>1?{name:"prepend-item",fn:N(()=>[h(u,{title:"Seleziona tutti",onClick:s},{prepend:N(()=>[h(l,{color:r.value?"indigo-darken-4":void 0,indeterminate:r.value&&!i.value,"model-value":i.value},null,8,["color","indeterminate","model-value"])]),_:1}),h(d,{class:"mt-2"})]),key:"0"}:void 0]),1032,["modelValue","items"])}}}),r_e={class:"bg-primary"},s_e=Tt({__name:"LessonItem",props:tc({onDeleteLessonItem:{type:Function},updateLessonTime:{type:Function}},{item:{required:!0},itemModifiers:{},select:{},selectModifiers:{}}),emits:tc(["present","absent","reset","cancel","updateLessonTime","notes","deleteStudent"],["update:item","update:select"]),setup(e,{emit:t}){const n=e,i=nc(e,"item"),r=nc(e,"select"),s=t,o=z(!1);async function a(l){await n.updateLessonTime(l)&&(o.value=!1)}return(l,u)=>{const d=H("v-checkbox"),c=H("v-card-title"),f=H("v-btn"),v=H("v-dialog"),g=H("v-icon"),p=H("v-card-text"),_=H("v-card");return ye(),Le(_,{elevation:"3"},{default:N(()=>[h(c,null,{default:N(()=>[h(d,{modelValue:r.value,"onUpdate:modelValue":u[0]||(u[0]=y=>r.value=y),value:i.value.id,multiple:""},{label:N(()=>[tt("span",null,[tt("b",null,lt(se(Ot).fromITime(i.value.startTime).format())+" - "+lt(se(Ot).fromITime(i.value.endTime).format()),1),u[7]||(u[7]=xe("  ")),tt("i",null,lt(i.value.name)+" "+lt(i.value.surname),1)])]),_:1},8,["modelValue","value"])]),_:1}),h(p,null,{default:N(()=>{var y;return[!i.value.recovery||i.value.recovery.ref=="original"?(ye(),St(Ie,{key:0},[i.value.status!=se(xn).PRESENT&&i.value.status!=se(xn).CANCELLED?(ye(),Le(f,{key:0,class:"ma-1",onClick:u[1]||(u[1]=b=>s("present"))},{default:N(()=>u[8]||(u[8]=[xe("presente")])),_:1})):Jt("",!0),i.value.status!=se(xn).ABSENT&&i.value.status!=se(xn).CANCELLED?(ye(),Le(f,{key:1,class:"ma-1",onClick:u[2]||(u[2]=b=>s("absent"))},{default:N(()=>u[9]||(u[9]=[xe("assente")])),_:1})):Jt("",!0),i.value.status!=se(xn).CANCELLED?(ye(),Le(f,{key:2,class:"ma-1",onClick:u[3]||(u[3]=b=>s("cancel"))},{default:N(()=>u[10]||(u[10]=[xe("cancella")])),_:1})):Jt("",!0),i.value.status!=se(xn).NONE?(ye(),Le(f,{key:3,class:"ma-1",onClick:u[4]||(u[4]=b=>s("reset"))},{default:N(()=>u[11]||(u[11]=[xe("reset")])),_:1})):Jt("",!0),h(v,{modelValue:o.value,"onUpdate:modelValue":u[5]||(u[5]=b=>o.value=b),transition:"dialog-bottom-transition",fullscreen:""},{activator:N(({props:b})=>[h(f,J({class:"ma-1"},b),{default:N(()=>u[12]||(u[12]=[xe("modifica orario")])),_:2},1040)]),default:N(({isActive:b})=>[tt("div",r_e,[tt("p",null,lt(i.value)+" "+lt(se(Ot).fromITime(i.value.startTime).format())+" "+lt(i.value.endTime),1),h(V6,{onClose:E=>b.value=!1,onSave:a,startTime:se(Ot).fromITime(i.value.startTime).format(),endTime:se(Ot).fromITime(i.value.endTime).format(),minutesOfLesson:i.value.minutesLessonDuration},null,8,["onClose","startTime","endTime","minutesOfLesson"])])]),_:1},8,["modelValue"]),((y=i.value.recovery)==null?void 0:y.ref)=="original"?(ye(),Le(f,{key:4,class:"ma-1",to:`/lesson/${i.value.recovery.lessonRef.dailyLessonId}`},{prepend:N(()=>[h(g,null,{default:N(()=>u[13]||(u[13]=[xe("mdi-eye-arrow-left-outline")])),_:1})]),default:N(()=>[u[14]||(u[14]=xe(" origine"))]),_:1},8,["to"])):Jt("",!0)],64)):(ye(),Le(f,{key:1,class:"ma-1",to:`/lesson/${i.value.recovery.lessonRef.dailyLessonId}`},{prepend:N(()=>[h(g,null,{default:N(()=>u[15]||(u[15]=[xe("mdi-eye-arrow-right-outline")])),_:1})]),default:N(()=>[u[16]||(u[16]=xe("recupero"))]),_:1},8,["to"])),h(f,{class:"ma-1",onClick:u[6]||(u[6]=b=>s("notes"))},{default:N(()=>u[17]||(u[17]=[xe("note")])),_:1}),h(Yh,{name:`${i.value.name} ${i.value.surname}`,objName:"Studente",onDelete:l.onDeleteLessonItem},{activator:N(({props:b})=>[h(f,J({color:"error"},b),{default:N(()=>u[18]||(u[18]=[xe("elimina")])),_:2},1040)]),_:1},8,["name","onDelete"])]}),_:1})]),_:1})}}}),o_e={class:"text-h5 text-center"},a_e={class:"text-subtitle"},l_e=Tt({__name:"DailyLessonView",setup(e){const t=Qp(),n=Vh(),i=I(()=>t.params.id),r=Dt.instance.observe(i),s=Yp(r),o=z(),a=z([]),l=z(!1),u=z([]),d=z([]),c=z([]),f=z(!1),v=z(!1),g=z(!1),p=z(!1),_=z(!1),y=z(!1),b=z(!0),E=z(0),k=I(()=>a.value.length!=0),R=I(()=>f.value||v.value||!s.value||b.value);let O;ge(s,()=>oe()),ge(r,()=>b.value=!0),ge(a,()=>{a.value.length==0&&(l.value=!1)});function D(Q){return Q.trial?"yellow":Q.recovery&&Q.recovery.ref=="recovery"?"blue":ife[Q.status]}async function S(Q){j();const B=a.value.map(q=>u.value.find(ie=>ie.id==q)).filter(q=>!!q);B.push(Q),B.forEach(q=>q.status=xn.PRESENT),a.value=[],await _e(),await Ss.instance.updateRecovery($d.SET_PRESENT,s.value.schoolId,...B.map(q=>({...q,dailyLessonId:s.value.id})))}async function w(Q){j();const B=a.value.map(q=>u.value.find(ie=>ie.id==q)).filter(q=>!!q);B.push(Q),B.forEach(q=>q.status=xn.ABSENT),a.value=[],await _e(),await Ss.instance.updateRecovery($d.SET_ABSENT,s.value.schoolId,...B.map(q=>({...q,dailyLessonId:s.value.id})))}async function C(Q){Q&&(j(),Q.status=xn.CANCELLED,await _e(),await Ss.instance.updateRecovery($d.CANCEL,s.value.schoolId,{...Q,dailyLessonId:s.value.id}))}async function A(Q){Q&&(j(),Q.status=xn.NONE,await _e(),await Ss.instance.updateRecovery($d.RESET,s.value.schoolId,{...Q,dailyLessonId:s.value.id}))}async function P(Q,B){var ce,ne;const q=(ce=Ot.fromHHMM(B.startTime))==null?void 0:ce.toITime(),ie=(ne=Ot.fromHHMM(B.endTime))==null?void 0:ne.toITime();return q==null||ie==null?!1:(j(),Q.startTime=q,Q.endTime=ie,u.value.sort((Se,M)=>Se.startTime-M.startTime),await _e(),!0)}function x(Q){}function U(){l.value?a.value=[]:a.value=[...u.value.map(Q=>Q.id)]}let $;function j(){$=JSON.stringify(u.value)}function Y(){$!=null&&(u.value=JSON.parse($))}async function W(){if(s.value)try{g.value=!0;const Q=s.value.lessons.map(q=>q.studentId),B=await Ao.instance.getStudentsOfSchool(s.value.schoolId);d.value=B.filter(q=>!Q.includes(q.id)),c.value=[]}catch(Q){Xe.warn("Impossibile caricare gli studenti..."),console.log(Q)}finally{g.value=!1}}async function K(){_.value=!0;const Q={...s.value};c.value.forEach(B=>{var ie,ce;const q=((ie=Q.lessons)==null?void 0:ie.length)==0?0:Q.lessons[Q.lessons.length-1].endTime;(ce=Q.lessons)==null||ce.push({lessonId:El(),status:xn.NONE,studentId:B.id,startTime:q,endTime:q+B.minutesLessonDuration*60,createdAt:Et.now(),updatedAt:Et.now()})});try{await Dt.instance.save(Q,Q.id),Xe.success("Studenti aggiunti!"),y.value=!1,console.log("Document (daily lessons) update with ID: ",Q.id)}catch{Xe.warning("Impossibile aggiungere gli studenti alla lezione giornaliera")}finally{_.value=!1}}async function G(){if(!s.value)return!1;try{return await Dt.instance.delete(s.value.id),n.go(-1),!0}catch{return!1}}async function te(Q){if(!s.value)return!1;try{return await Fr.instance.deleteStudentLesson(Q,s.value)}catch{return!1}}async function oe(){if(b.value=!1,!s.value)return;o.value||(v.value=!0,o.value=await Io.instance.get(s.value.schoolId),v.value=!1);const Q=u.value.map(ie=>ie.studentId),B=s.value.lessons.map(ie=>ie.studentId);Lee(Q,B)&&O==s.value.id||(f.value=!0,O=s.value.id,u.value=await sh.instance.getStudentLesson(s.value,B),Ae(),f.value=!1)}async function _e(){p.value=!0;const Q=Ne();if(Q===void 0){p.value=!1;return}try{await Dt.instance.save(Q,Q.id),Xe.success("Modifiche salvate",{autoClose:1e3}),p.value=!1}catch(B){console.error("Error adding document (dailyLesson): ",B),p.value=!1,Y()}}function Ae(){var Q,B;((Q=s.value)==null?void 0:Q.salaryStrategy)!=((B=o.value)==null?void 0:B.salaryStrategy)&&(Xe.info("Aggiornamento dello stipendio giornaliero in corso..."),_e())}function Ne(){var ce,ne;const Q=s.value;if(Q===void 0)return;const B=[];let q=0;Q.lessons.forEach(Se=>{const M=u.value.find(ee=>ee.id==Se.studentId);if(M===void 0)return;const L={lessonId:Se.lessonId,createdAt:Se.createdAt,studentId:Se.studentId,startTime:M.startTime,endTime:M.endTime,status:M.status,updatedAt:Et.now()};Se.recovery&&(L.recovery=Se.recovery),Se.trial&&(L.trial=Se.trial),B.push(L),q+=oh.instance.computeSalaryByStudentLesson(o.value,M)});const ie={date:Q.date,id:Q.id,lessons:B.sort((Se,M)=>Se.startTime-M.startTime),schoolId:Q.schoolId,lastSalaryUpdate:Et.now(),salary:q};return((ce=o.value)==null?void 0:ce.salaryStrategy)!=null&&(ie.salaryStrategy=(ne=o.value)==null?void 0:ne.salaryStrategy),ie}return Ir(()=>{}),yt(async()=>{window.scrollTo(0,0)}),(Q,B)=>{const q=H("v-col"),ie=H("v-row"),ce=H("v-btn"),ne=H("v-card-text"),Se=H("v-spacer"),M=H("v-card-actions"),L=H("v-card"),ee=H("v-dialog"),fe=H("v-checkbox"),ae=H("v-icon"),me=H("v-btn-toggle"),Pe=H("v-timeline-item"),Ee=H("v-timeline"),Re=H("v-slide-x-transition"),be=H("v-container"),ze=H("v-progress-circular"),Me=H("v-overlay"),He=H("v-skeleton-loader");return se(s)&&!R.value?(ye(),Le(be,{key:0,fluid:""},{default:N(()=>[h(ie,{class:"justify-center align-center mb-6"},{default:N(()=>[h(q,{cols:"auto"},{default:N(()=>[h(Kh)]),_:1}),h(q,null,{default:N(()=>[h(ie,null,{default:N(()=>[h(q,null,{default:N(()=>[tt("p",o_e,[B[7]||(B[7]=xe("Lezioni del ")),tt("b",null,lt(se(pt).fromIyyyyMMdd(se(s).date).format()),1)])]),_:1})]),_:1}),h(ie,{class:"justify-center"},{default:N(()=>[h(q,{cols:"auto"},{default:N(()=>[tt("span",a_e,[B[8]||(B[8]=xe(" Totale: ")),tt("b",null,lt(se(s).salary)+" ",1)])]),_:1})]),_:1})]),_:1})]),_:1}),h(ie,null,{default:N(()=>[h(q,null,{default:N(()=>[h(ce,{onClick:S,disabled:!k.value},{default:N(()=>B[9]||(B[9]=[xe("presenti")])),_:1},8,["disabled"])]),_:1}),h(q,null,{default:N(()=>[h(ce,{onClick:w,disabled:!k.value},{default:N(()=>B[10]||(B[10]=[xe("assenti")])),_:1},8,["disabled"])]),_:1}),h(q,null,{default:N(()=>[h(ee,{modelValue:y.value,"onUpdate:modelValue":B[2]||(B[2]=Ce=>y.value=Ce),transition:"dialog-bottom-transition","max-width":"500",persistent:""},{activator:N(({props:Ce})=>[h(ce,J({onClick:W},Ce),{default:N(()=>B[11]||(B[11]=[xe("Aggiungi studente")])),_:2},1040)]),default:N(()=>[h(L,{title:"Tutti gli studenti della scuola",loading:g.value},{default:N(()=>[h(ne,null,{default:N(()=>[h(i_e,{modelValue:c.value,"onUpdate:modelValue":B[0]||(B[0]=Ce=>c.value=Ce),"all-students":d.value},null,8,["modelValue","all-students"])]),_:1}),h(M,null,{default:N(()=>[h(ce,{text:"Annulla",onClick:B[1]||(B[1]=Ce=>y.value=!1)}),h(Se),h(ce,{color:"primary",text:"Salva",onClick:K,loading:_.value},null,8,["loading"])]),_:1})]),_:1},8,["loading"])]),_:1},8,["modelValue"])]),_:1}),h(q,null,{default:N(()=>[h(fe,{modelValue:l.value,"onUpdate:modelValue":B[3]||(B[3]=Ce=>l.value=Ce),indeterminate:a.value.length!=0&&a.value.length!=u.value.length,onClick:U},null,8,["modelValue","indeterminate"])]),_:1}),h(q,null,{default:N(()=>[h(Yh,{name:se(pt).fromIyyyyMMdd(se(s).date).format(),objName:"Lezione Giornaliera",onDelete:async()=>await G()},{activator:N(({props:Ce})=>[h(ce,J({color:"error"},Ce),{default:N(()=>B[12]||(B[12]=[xe("elimina lezione")])),_:2},1040)]),_:1},8,["name","onDelete"])]),_:1}),h(q,null,{default:N(()=>[h(me,{modelValue:E.value,"onUpdate:modelValue":B[4]||(B[4]=Ce=>E.value=Ce),mandatory:"",shaped:""},{default:N(()=>[h(ce,null,{default:N(()=>[h(ae,null,{default:N(()=>B[13]||(B[13]=[xe("mdi-timeline-text-outline")])),_:1})]),_:1}),h(ce,null,{default:N(()=>[h(ae,null,{default:N(()=>B[14]||(B[14]=[xe("mdi-calendar-week-begin-outline")])),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1}),h(be,{fluid:""},{default:N(()=>[h(Re,{"leave-absolute":""},{default:N(()=>[E.value==1?(ye(),Le(YC,{key:0,date:se(pt).fromIyyyyMMdd(se(s).date),modelValue:u.value,"onUpdate:modelValue":B[5]||(B[5]=Ce=>u.value=Ce),editable:"",sort:"",onEdit:_e},null,8,["date","modelValue"])):(ye(),Le(Ee,{key:1,side:"end","truncate-line":"both"},{default:N(()=>[(ye(!0),St(Ie,null,Ui(u.value,(Ce,Ze)=>(ye(),Le(Pe,{key:Ce.id+se(s).id,"dot-color":D(Ce),size:"small"},{default:N(()=>[(ye(),Le(s_e,{key:Ce.id+se(s).id,item:u.value[Ze],"onUpdate:item":mt=>u.value[Ze]=mt,select:a.value,"onUpdate:select":B[6]||(B[6]=mt=>a.value=mt),onPresent:mt=>S(Ce),onAbsent:mt=>w(Ce),onCancel:mt=>C(Ce),onReset:mt=>A(Ce),updateLessonTime:async mt=>await P(Ce,mt),onNotes:mt=>void 0,onDeleteLessonItem:async()=>await te(Ce)},null,8,["item","onUpdate:item","select","onPresent","onAbsent","onCancel","onReset","updateLessonTime","onNotes","onDeleteLessonItem"]))]),_:2},1032,["dot-color"]))),128))]),_:1}))]),_:1})]),_:1}),h(Me,{"model-value":p.value,class:"align-center justify-center"},{default:N(()=>[h(ze,{color:"primary",size:"64",indeterminate:""})]),_:1},8,["model-value"])]),_:1})):(ye(),Le(be,{key:1,fluid:""},{default:N(()=>[h(He,{class:"mx-auto",type:"heading"}),h(He,{class:"mx-auto justify-center",type:"chip, chip, chip, chip, chip, chip, chip"}),(ye(),St(Ie,null,Ui(3,Ce=>h(He,{key:Ce,class:"mx-auto justify-center mt-4","max-width":"75%",elevation:"3",type:"sentences, chip, chip, chip, chip"})),64))]),_:1}))}}}),u_e=Tt({__name:"CalendarView",setup(e){const t=z([]);async function n(){const i=pt.today();let r=Ot.fromITime(13*3600+40*60);for(let s=1;s<=6;s++){const o=r.format();r=r.add({hour:1});const a=r.format();t.value.push({id:s,title:"Studente "+s,start:i.toIyyyyMMdd("-")+" "+o,end:i.toIyyyyMMdd("-")+" "+a})}console.log(t.value)}return yt(async()=>{await n()}),(i,r)=>(ye(),Le(YC,{events:t.value,editable:""},null,8,["events"]))}}),c_e=Tt({__name:"SettingsView",setup(e){const t=z(!1),n=I(()=>`Abilitare console debug: ${t.value?"on":"off"}`);ge(t,()=>Jr.setItem("debugEnabled",t.value));function i(){t.value=Jr.getItem("debugEnabled")??!1}return yt(()=>i()),(r,s)=>{const o=H("v-col"),a=H("v-row"),l=H("v-switch"),u=H("v-form"),d=H("v-container");return ye(),Le(d,{fluid:"",class:"mb-5"},{default:N(()=>[h(a,{class:"justify-center align-center mb-6"},{default:N(()=>[h(o,{cols:"auto"},{default:N(()=>[h(Kh)]),_:1}),h(o,null,{default:N(()=>s[1]||(s[1]=[tt("p",{class:"text-h5 text-center"},"Impostazioni Utente",-1)])),_:1})]),_:1}),h(a,null,{default:N(()=>[h(o,null,{default:N(()=>[h(u,{class:"ma-2"},{default:N(()=>[h(a,{class:"justify-center"},{default:N(()=>[h(o,{class:"px-2"},{default:N(()=>[h(l,{modelValue:t.value,"onUpdate:modelValue":s[0]||(s[0]=c=>t.value=c),color:"primary",label:n.value},null,8,["modelValue","label"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}}}),d_e={key:0,class:"text-h5 font-weight-bold"},f_e={key:1,class:"text-h5 font-weight-bold"},h_e={key:0,class:"text-center text-body-2"},v_e={key:1,class:"text-center text-body-2"},m_e=Tt({__name:"LoginView",setup(e){const t=new URL("/teachers-agenda/assets/logor-m1FxASBK.png",import.meta.url).href,n=is({lEmail:Mn().required("L'email  obbligatoria").label("Email").email(),lPassword:Mn().required("La password  obbligatoria").label("Password").min(8)}),i=is({rName:Mn().label("Nome"),rEmail:Mn().required("L'email  obbligatoria").label("Email").email(),rPassword:Mn().required("La password  obbligatoria").label("Password").min(8),rPasswordConfirm:Mn().oneOf([Sme("rPassword")],"Le passwords devono essere uguali").required().label("Ripeti password")}),r=ka({validationSchema:n}),s=ka({validationSchema:i}),o=$=>({props:{"error-messages":$.errors}}),[a,l]=r.defineField("lEmail",o),[u,d]=r.defineField("lPassword",o),[c,f]=s.defineField("rName",o),[v,g]=s.defineField("rEmail",o),[p,_]=s.defineField("rPassword",o),[y,b]=s.defineField("rPasswordConfirm",o),E=z(Jr.getItem("userSettings")??!1),k=z(!1),R=z(!1),O=z(!1),D=z("login"),S=dL();ge(D,()=>{r.resetForm(),s.resetForm()}),ge(E,$=>{$?w():Jr.removeItem("userSettings")}),ge(a,()=>{E.value&&w()});function w(){const $={name:a.value};Jr.setItem("userSettings",$)}async function C(){(await r.validate()).valid&&nz(S,a.value,u.value).catch(j=>{Xe.error("Login fallito: "+j),console.error("Failed signin",j)})}function A(){Cz(S,Qee).catch($=>{Xe.error("Login fallito: "+$),console.error("Failed signin",$)})}function P(){Xe.warn("Login via facebook non disponibile")}async function x(){if(!(await r.validateField("lEmail")).valid){Xe.warning("Inserisci l'email per effettuare il reset della password. Un link sar inviato via email!");return}try{await ez(S,a.value),Xe.success("Controlla la tua email per effettuare il reset della password!")}catch(j){Xe.error("Reset della password fallito: "+j),console.error("Failed reset password",j)}}async function U(){if((await s.validate()).valid)try{const j=await tz(S,v.value,p.value);c.value.trim().length>0&&rz(j.user,{displayName:c.value.trim()})}catch(j){Xe.error("Registrazione fallita: "+j),console.error("Failed signup",j)}}return yt(()=>{const $=Jr.getItem("userSettings");E.value=!!$,$&&$.name&&(a.value=$.name)}),($,j)=>{const Y=H("v-img"),W=H("v-row"),K=H("v-text-field"),G=H("v-col"),te=H("v-checkbox"),oe=H("v-btn"),_e=H("v-divider"),Ae=H("v-form"),Ne=H("v-card-text"),Q=H("v-card"),B=H("v-fab-transition"),q=H("v-container");return ye(),Le(q,null,{default:N(()=>[h(W,{class:"justify-center pt-5 pb-2"},{default:N(()=>[h(Y,{contain:"",src:se(t),height:"50",width:"50"},null,8,["src"])]),_:1}),h(W,{class:"justify-center pb-10"},{default:N(()=>[D.value=="login"?(ye(),St("p",d_e,"Accedi al tuo account")):(ye(),St("p",f_e,"Crea un nuovo account"))]),_:1}),h(B,null,{default:N(()=>[D.value=="login"?(ye(),Le(W,{key:0,class:"justify-center pb-8"},{default:N(()=>[h(Q,{"min-width":"400",elevation:"3"},{default:N(()=>[h(Ne,null,{default:N(()=>[h(Ae,{class:"ma-2"},{default:N(()=>[h(W,{class:"justify-center"},{default:N(()=>[h(G,{class:"px-2"},{default:N(()=>[h(K,J({density:"compact",variant:"outlined",modelValue:se(a),"onUpdate:modelValue":j[0]||(j[0]=ie=>Qe(a)?a.value=ie:null)},se(l),{type:"email",label:"Email",autocomplete:"on"}),null,16,["modelValue"])]),_:1})]),_:1}),h(W,{class:"justify-center"},{default:N(()=>[h(G,{class:"px-2"},{default:N(()=>[h(K,J({density:"compact",variant:"outlined",modelValue:se(u),"onUpdate:modelValue":j[1]||(j[1]=ie=>Qe(u)?u.value=ie:null),hint:"Almeno 8 caratteri","append-inner-icon":k.value?"mdi-eye":"mdi-eye-off"},se(d),{type:k.value?"text":"password","onClick:appendInner":j[2]||(j[2]=ie=>k.value=!k.value),counter:"",label:"Password",autocomplete:"on"}),null,16,["modelValue","append-inner-icon","type"])]),_:1})]),_:1}),h(W,{class:"justify-space-between align-center"},{default:N(()=>[h(G,{class:"px-2"},{default:N(()=>[h(te,{density:"compact",modelValue:E.value,"onUpdate:modelValue":j[3]||(j[3]=ie=>E.value=ie),label:"Ricordati","hide-details":""},null,8,["modelValue"])]),_:1}),h(G,{class:"px-2"},{default:N(()=>[tt("a",{class:"text-decoration-none text-primary text-body-2 font-weight-medium cursor-pointer",onClick:x}," Password dimenticata? ")]),_:1})]),_:1}),h(W,{class:"mb-5 justify-center"},{default:N(()=>[h(G,{class:"px-2"},{default:N(()=>[h(oe,{class:"w-100",variant:"flat",color:"blue",onClick:C},{default:N(()=>j[12]||(j[12]=[xe("Accedi")])),_:1})]),_:1})]),_:1}),h(_e,{class:"my-5"},{default:N(()=>j[13]||(j[13]=[xe("Oppure")])),_:1}),h(W,{class:"my-1 justify-center pt-5"},{default:N(()=>[h(G,{class:"px-2"},{default:N(()=>[h(oe,{class:"w-100 text-body-1",variant:"outlined",color:"error","prepend-icon":"mdi-google",onClick:A},{default:N(()=>j[14]||(j[14]=[xe("Google")])),_:1})]),_:1}),h(G,{class:"px-2"},{default:N(()=>[h(oe,{class:"w-100 text-body-1",variant:"outlined",color:"blue","prepend-icon":"mdi-facebook",onClick:P},{default:N(()=>j[15]||(j[15]=[xe("Facebook")])),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})):(ye(),Le(W,{key:1,class:"justify-center pb-8"},{default:N(()=>[h(Q,{"min-width":"400",elevation:"3"},{default:N(()=>[h(Ne,null,{default:N(()=>[h(Ae,{class:"ma-2"},{default:N(()=>[h(W,{class:"justify-center"},{default:N(()=>[h(G,{class:"px-2"},{default:N(()=>[h(K,J({density:"compact",variant:"outlined",modelValue:se(c),"onUpdate:modelValue":j[4]||(j[4]=ie=>Qe(c)?c.value=ie:null)},se(f),{label:"Nome"}),null,16,["modelValue"])]),_:1})]),_:1}),h(W,{class:"justify-center"},{default:N(()=>[h(G,{class:"px-2"},{default:N(()=>[h(K,J({density:"compact",variant:"outlined",modelValue:se(v),"onUpdate:modelValue":j[5]||(j[5]=ie=>Qe(v)?v.value=ie:null)},se(g),{type:"email",label:"Email",autocomplete:"on"}),null,16,["modelValue"])]),_:1})]),_:1}),h(W,{class:"justify-center"},{default:N(()=>[h(G,{class:"px-2"},{default:N(()=>[h(K,J({density:"compact",variant:"outlined",modelValue:se(p),"onUpdate:modelValue":j[6]||(j[6]=ie=>Qe(p)?p.value=ie:null),hint:"Almeno 8 caratteri","append-inner-icon":R.value?"mdi-eye":"mdi-eye-off",type:R.value?"text":"password","onClick:appendInner":j[7]||(j[7]=ie=>R.value=!R.value),counter:""},se(_),{label:"Password"}),null,16,["modelValue","append-inner-icon","type"])]),_:1})]),_:1}),h(W,{class:"justify-center"},{default:N(()=>[h(G,{class:"px-2"},{default:N(()=>[h(K,J({density:"compact",variant:"outlined",modelValue:se(y),"onUpdate:modelValue":j[8]||(j[8]=ie=>Qe(y)?y.value=ie:null),"append-inner-icon":O.value?"mdi-eye":"mdi-eye-off",type:O.value?"text":"password","onClick:appendInner":j[9]||(j[9]=ie=>O.value=!O.value),counter:""},se(b),{label:"Ripeti Password"}),null,16,["modelValue","append-inner-icon","type"])]),_:1})]),_:1}),h(W,{class:"mb-5 justify-center"},{default:N(()=>[h(G,{class:"px-2"},{default:N(()=>[h(oe,{class:"w-100",variant:"flat",color:"blue",onClick:U},{default:N(()=>j[16]||(j[16]=[xe("Registrati")])),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}))]),_:1}),h(W,{class:"justify-center pb-10"},{default:N(()=>[D.value=="login"?(ye(),St("div",h_e,[j[17]||(j[17]=xe(" Non hai un account? ")),tt("a",{class:"text-decoration-none text-primary font-weight-medium cursor-pointer",onClick:j[10]||(j[10]=ie=>D.value="register")},"Registrati")])):(ye(),St("div",v_e,[j[18]||(j[18]=xe(" Hai gi un account? ")),tt("a",{class:"text-decoration-none text-primary font-weight-medium cursor-pointer",onClick:j[11]||(j[11]=ie=>D.value="login")},"Accedi")]))]),_:1})]),_:1})}}}),g_e={key:0,class:"text-caption"},p_e={key:1,class:"text-caption"},__e={key:2,class:"text-caption"},y_e=Tt({__name:"LogConsole",props:{bufferSize:{default:250}},setup(e){const t=e,n=z([]),i=z([]),r=z(!0),s=z(!0),o=oj("consoleOutput"),a=[{text:()=>`Totale ${n.value.length}`,icon:"mdi-format-list-bulleted",color:"",type:An.ALL},{text:()=>`Errori ${n.value.filter(y=>y.level==An.ERROR||y.level==An.EXCEPTION||y.level==An.PROMISE_REJECTION).length}`,icon:"mdi-close-octagon",color:"error",type:An.ERROR},{text:()=>`Warning ${n.value.filter(y=>y.level==An.WARNING).length}`,icon:"mdi-alert-outline",color:"warning",type:An.WARNING},{text:()=>`Info ${n.value.filter(y=>y.level==An.INFO).length}`,icon:"mdi-information-outline",color:"info",type:An.INFO}],l=z([]);let u;ge(l,()=>{l.value.length==0||l.value.includes(An.ALL)?i.value=n.value:i.value=n.value.filter(y=>l.value.includes(y.level)),_()});function d(){ia.instance.clear()}async function c(){const y=i.value.map(b=>b.timestamp.toJSON()+" - "+b.message).join(`
`);navigator.clipboard.writeText(y)}function f(){r.value=!r.value}function v(){s.value=!s.value,_()}function g(y){if(l.value.includes(y))l.value=[];else{const b=[y];y==An.ERROR&&b.push(An.EXCEPTION,An.PROMISE_REJECTION),l.value=b}}function p(y){i.value=n.value=[...y].splice(0,t.bufferSize),_()}function _(){s.value&&setTimeout(()=>{var y,b;(b=o.value)==null||b.$el.scrollTo({top:(y=o.value)==null?void 0:y.$el.scrollHeight,behavior:"smooth"})},100)}return yt(()=>{u=ia.instance.subscription.subscribe({next:y=>p(y)},!0)}),Ir(()=>{u==null||u.unsubscribe()}),(y,b)=>{const E=H("v-btn"),k=H("v-spacer"),R=H("v-system-bar"),O=H("v-icon"),D=H("v-list-item-title"),S=H("v-list-item"),w=H("v-list"),C=H("v-col"),A=H("v-slide-x-transition"),P=H("v-card"),x=H("v-card-text"),U=H("v-row"),$=H("v-main"),j=H("v-layout");return ye(),Le(P,{class:"console-card"},{default:N(()=>[h(j,null,{default:N(()=>[h(R,{color:"pink-darken-2",style:{height:"35px"}},{default:N(()=>[h(E,{class:"ms-1",density:"compact",variant:"text",icon:"mdi-dots-vertical",onClick:f}),h(E,{class:"ms-1",density:"compact",variant:"text",icon:"mdi-format-vertical-align-bottom",color:s.value?"yellow":"",onClick:v},null,8,["color"]),h(E,{class:"ms-1",density:"compact",variant:"text",icon:"mdi-content-copy",onClick:c}),h(k),h(E,{class:"ms-1",density:"compact",variant:"text",icon:"mdi-delete",onClick:d})]),_:1}),h($,null,{default:N(()=>[h(U,{class:"pa-0 pt-3"},{default:N(()=>[h(A,{"hide-on-leave":""},{default:N(()=>[r.value?(ye(),Le(C,{key:0,class:"my-4 border-e-thin"},{default:N(()=>[h(w,{lines:!1,density:"compact",nav:""},{default:N(()=>[(ye(),St(Ie,null,Ui(a,(Y,W)=>h(S,{key:W,value:Y,color:"primary",onClick:K=>g(Y.type)},{prepend:N(()=>[h(O,{icon:Y.icon,color:Y.color},null,8,["icon","color"])]),default:N(()=>[h(D,null,{default:N(()=>[xe(lt(Y.text()),1)]),_:2},1024)]),_:2},1032,["value","onClick"])),64))]),_:1})]),_:1})):Jt("",!0)]),_:1}),h(C,{md:r.value?10:12},{default:N(()=>[h(x,{class:"console-output px-2",ref_key:"consoleOutput",ref:o},{default:N(()=>[(ye(!0),St(Ie,null,Ui(i.value,(Y,W)=>(ye(),Le(P,{key:W,class:"log-entry my-1 pa-1"},{default:N(()=>[Y.level==se(An).ERROR||Y.level==se(An).EXCEPTION||Y.level==se(An).PROMISE_REJECTION?(ye(),St("p",g_e,[h(O,{color:"error",class:"mr-2"},{default:N(()=>b[0]||(b[0]=[xe("mdi-close-octagon")])),_:1}),xe(" "+lt(Y.message),1)])):Y.level==se(An).WARNING?(ye(),St("p",p_e,[h(O,{color:"warning",class:"mr-2"},{default:N(()=>b[1]||(b[1]=[xe("mdi-alert-outline")])),_:1}),xe(" "+lt(Y.message),1)])):(ye(),St("p",__e,[h(O,{color:"info",class:"mr-2"},{default:N(()=>b[2]||(b[2]=[xe("mdi-information-outline")])),_:1}),xe(" "+lt(Y.message),1)]))]),_:2},1024))),128))]),_:1},512)]),_:1},8,["md"])]),_:1})]),_:1})]),_:1})]),_:1})}}}),b_e=qC(y_e,[["__scopeId","data-v-e81b5894"]]),w_e=Tt({__name:"DebuggerView",setup(e){const t=z(!1);return yt(()=>{t.value=Jr.getItem("debugEnabled")??!1}),(n,i)=>{const r=H("v-col"),s=H("v-row"),o=H("v-icon"),a=H("v-btn"),l=H("v-container");return ye(),Le(l,{fluid:"",class:"mb-5"},{default:N(()=>[h(s,{class:"justify-center align-center mb-6"},{default:N(()=>[h(r,{cols:"auto"},{default:N(()=>[h(Kh)]),_:1}),h(r,null,{default:N(()=>i[0]||(i[0]=[tt("p",{class:"text-h5 text-center"},"Log dell'applicazione",-1)])),_:1})]),_:1}),h(s,null,{default:N(()=>[t.value?(ye(),Le(r,{key:0},{default:N(()=>[h(b_e)]),_:1})):(ye(),Le(r,{key:1,class:"text-center"},{default:N(()=>[tt("p",null,[i[3]||(i[3]=xe("La console di debug non  abilitata. Abilitala tramite le ")),h(a,{to:"settings",variant:"text"},{default:N(()=>[h(o,null,{default:N(()=>i[1]||(i[1]=[xe("mdi-link")])),_:1}),i[2]||(i[2]=xe(" impostazioni"))]),_:1})])]),_:1}))]),_:1})]),_:1})}}}),M6=DJ({history:aJ("/teachers-agenda"),routes:[{path:"/",name:"home",meta:{requiresAuth:!0},component:hb},{path:"/schools",name:"schools",meta:{requiresAuth:!0},component:Qme},{path:"/school/:id",meta:{requiresAuth:!0,transition:"v-slide-x-transition"},component:Ype},{path:"/lessons/:id",name:"lessons",meta:{requiresAuth:!0},component:n_e},{path:"/lesson/:id",name:"lesson",meta:{requiresAuth:!0},component:l_e},{path:"/recoveries",name:"recoveries",meta:{requiresAuth:!0},component:hb},{path:"/calendar",name:"calendar",meta:{requiresAuth:!0},component:u_e},{path:"/reports",name:"reports",meta:{requiresAuth:!0},component:hb},{path:"/settings",name:"settings",meta:{requiresAuth:!0},component:c_e},{path:"/login",name:"login",component:m_e},{path:"/debugger",name:"debugger",component:w_e}]});M6.beforeEach(async e=>{if(e.name=="login"&&await sI())return{path:"/"};if(e.meta.requiresAuth&&!await sI())return{path:"/login",query:{redirect:e.fullPath}}});const S_e=()=>{window.onerror=function(t,n,i){return ia.instance.push(An.EXCEPTION,{error:t,url:n,line:i}),!1},window.onunhandledrejection=function(t){try{const n={message:t.reason.message,stack:t.reason.stack};ia.instance.push(An.PROMISE_REJECTION,n)}catch{ia.instance.push(An.PROMISE_REJECTION,t)}};function e(t){const n=console[t].bind(console);return function(...i){let r=An.INFO;t=="error"?r=An.ERROR:t=="warn"&&(r=An.WARNING),ia.instance.push(r,...Array.from(i)),n.apply(console,i)}}["log","error","warn"].forEach(t=>{console[t]=e(t)})};S_e();const{firebaseApp:E_e}=Xee(),cu=lV(qee);cu.config.performance=!0;cu.use(N5());cu.use(M6);cu.use(Gae);cu.use(PQ,{firebaseApp:E_e,modules:[TQ()]});cu.use(_V,{autoClose:3e3});cu.mount("#app");
