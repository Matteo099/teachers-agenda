import{d as A,r as d,ak as Y,al as l,n as Z,o as F,am as T,a as ee,b as n,e as i,c as p,w as t,f as e,g,h as $,F as h,j as te,l as r,t as E,u as R,a5 as oe,k as S}from"./index-CpIGLp9M.js";import{_ as ne}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{_ as le}from"./BackButton.vue_vue_type_script_setup_true_lang-etvxbBhv.js";const ae={key:0,class:"text-caption"},se={key:1,class:"text-caption"},ce={key:2,class:"text-caption"},ie=A({__name:"LogConsole",props:{bufferSize:{default:250}},setup(I){const y=I,v=d([]),s=d([]),u=d(!0),m=d(!0),f=Y("consoleOutput"),C=[{text:()=>`Totale ${v.value.length}`,icon:"mdi-format-list-bulleted",color:"",type:l.ALL},{text:()=>`Errori ${v.value.filter(o=>o.level==l.ERROR||o.level==l.EXCEPTION||o.level==l.PROMISE_REJECTION).length}`,icon:"mdi-close-octagon",color:"error",type:l.ERROR},{text:()=>`Warning ${v.value.filter(o=>o.level==l.WARNING).length}`,icon:"mdi-alert-outline",color:"warning",type:l.WARNING},{text:()=>`Info ${v.value.filter(o=>o.level==l.INFO).length}`,icon:"mdi-information-outline",color:"info",type:l.INFO}],_=d([]);let x;Z(_,()=>{_.value.length==0||_.value.includes(l.ALL)?s.value=v.value:s.value=v.value.filter(o=>_.value.includes(o.level)),N()});function P(){T.instance.clear()}async function M(){const o=s.value.map(a=>a.timestamp.toJSON()+" - "+a.message).join(`
`);navigator.clipboard.writeText(o)}function V(){u.value=!u.value}function z(){m.value=!m.value,N()}function B(o){if(_.value.includes(o))_.value=[];else{const a=[o];o==l.ERROR&&a.push(l.EXCEPTION,l.PROMISE_REJECTION),_.value=a}}function J(o){s.value=v.value=[...o].splice(0,y.bufferSize),N()}function N(){m.value&&setTimeout(()=>{var o,a;(a=f.value)==null||a.$el.scrollTo({top:(o=f.value)==null?void 0:o.$el.scrollHeight,behavior:"smooth"})},100)}return F(()=>{x=T.instance.subscription.subscribe({next:o=>J(o)},!0)}),ee(()=>{x==null||x.unsubscribe()}),(o,a)=>{const b=n("v-btn"),W=n("v-spacer"),j=n("v-system-bar"),k=n("v-icon"),D=n("v-list-item-title"),G=n("v-list-item"),X=n("v-list"),w=n("v-col"),H=n("v-slide-x-transition"),L=n("v-card"),U=n("v-card-text"),q=n("v-row"),K=n("v-main"),Q=n("v-layout");return i(),p(L,{class:"console-card"},{default:t(()=>[e(Q,null,{default:t(()=>[e(j,{color:"pink-darken-2",style:{height:"35px"}},{default:t(()=>[e(b,{class:"ms-1",density:"compact",variant:"text",icon:"mdi-dots-vertical",onClick:V}),e(b,{class:"ms-1",density:"compact",variant:"text",icon:"mdi-format-vertical-align-bottom",color:m.value?"yellow":"",onClick:z},null,8,["color"]),e(b,{class:"ms-1",density:"compact",variant:"text",icon:"mdi-content-copy",onClick:M}),e(W),e(b,{class:"ms-1",density:"compact",variant:"text",icon:"mdi-delete",onClick:P})]),_:1}),e(K,null,{default:t(()=>[e(q,{class:"pa-0 pt-3"},{default:t(()=>[e(H,{"hide-on-leave":""},{default:t(()=>[u.value?(i(),p(w,{key:0,class:"my-4 border-e-thin"},{default:t(()=>[e(X,{lines:!1,density:"compact",nav:""},{default:t(()=>[(i(),g(h,null,$(C,(c,O)=>e(G,{key:O,value:c,color:"primary",onClick:ue=>B(c.type)},{prepend:t(()=>[e(k,{icon:c.icon,color:c.color},null,8,["icon","color"])]),default:t(()=>[e(D,null,{default:t(()=>[r(E(c.text()),1)]),_:2},1024)]),_:2},1032,["value","onClick"])),64))]),_:1})]),_:1})):te("",!0)]),_:1}),e(w,{md:u.value?10:12},{default:t(()=>[e(U,{class:"console-output px-2",ref_key:"consoleOutput",ref:f},{default:t(()=>[(i(!0),g(h,null,$(s.value,(c,O)=>(i(),p(L,{key:O,class:"log-entry my-1 pa-1"},{default:t(()=>[c.level==R(l).ERROR||c.level==R(l).EXCEPTION||c.level==R(l).PROMISE_REJECTION?(i(),g("p",ae,[e(k,{color:"error",class:"mr-2"},{default:t(()=>a[0]||(a[0]=[r("mdi-close-octagon")])),_:1}),r(" "+E(c.message),1)])):c.level==R(l).WARNING?(i(),g("p",se,[e(k,{color:"warning",class:"mr-2"},{default:t(()=>a[1]||(a[1]=[r("mdi-alert-outline")])),_:1}),r(" "+E(c.message),1)])):(i(),g("p",ce,[e(k,{color:"info",class:"mr-2"},{default:t(()=>a[2]||(a[2]=[r("mdi-information-outline")])),_:1}),r(" "+E(c.message),1)]))]),_:2},1024))),128))]),_:1},512)]),_:1},8,["md"])]),_:1})]),_:1})]),_:1})]),_:1})}}}),re=ne(ie,[["__scopeId","data-v-e81b5894"]]),de=A({__name:"DebuggerView",setup(I){const y=d(!1);return F(()=>{y.value=oe.getItem("debugEnabled")??!1}),(v,s)=>{const u=n("v-col"),m=n("v-row"),f=n("v-icon"),C=n("v-btn"),_=n("v-container");return i(),p(_,{fluid:"",class:"mb-5"},{default:t(()=>[e(m,{class:"justify-center align-center mb-6"},{default:t(()=>[e(u,{cols:"auto"},{default:t(()=>[e(le)]),_:1}),e(u,null,{default:t(()=>s[0]||(s[0]=[S("p",{class:"text-h5 text-center"},"Log dell'applicazione",-1)])),_:1})]),_:1}),e(m,null,{default:t(()=>[y.value?(i(),p(u,{key:0},{default:t(()=>[e(re)]),_:1})):(i(),p(u,{key:1,class:"text-center"},{default:t(()=>[S("p",null,[s[3]||(s[3]=r("La console di debug non Ã¨ abilitata. Abilitala tramite le ")),e(C,{to:"settings",variant:"text"},{default:t(()=>[e(f,null,{default:t(()=>s[1]||(s[1]=[r("mdi-link")])),_:1}),s[2]||(s[2]=r(" impostazioni"))]),_:1})])]),_:1}))]),_:1})]),_:1})}}});export{de as default};
