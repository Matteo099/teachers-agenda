var I9=Object.defineProperty;var D9=(t,e,n)=>e in t?I9(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var on=(t,e,n)=>D9(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(s){if(s.ep)return;s.ep=!0;const r=n(s);fetch(s.href,r)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Pk(t){const e=Object.create(null);for(const n of t.split(","))e[n]=1;return n=>n in e}const en={},Cd=[],Oa=()=>{},A9=()=>!1,zy=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),Ck=t=>t.startsWith("onUpdate:"),ri=Object.assign,Ek=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},O9=Object.prototype.hasOwnProperty,un=(t,e)=>O9.call(t,e),mt=Array.isArray,Ed=t=>Wy(t)==="[object Map]",PV=t=>Wy(t)==="[object Set]",kt=t=>typeof t=="function",Yn=t=>typeof t=="string",Bo=t=>typeof t=="symbol",En=t=>t!==null&&typeof t=="object",CV=t=>(En(t)||kt(t))&&kt(t.then)&&kt(t.catch),EV=Object.prototype.toString,Wy=t=>EV.call(t),R9=t=>Wy(t).slice(8,-1),IV=t=>Wy(t)==="[object Object]",Ik=t=>Yn(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,$f=Pk(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Yy=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},M9=/-(\w)/g,Fs=Yy(t=>t.replace(M9,(e,n)=>n?n.toUpperCase():"")),V9=/\B([A-Z])/g,Gl=Yy(t=>t.replace(V9,"-$1").toLowerCase()),pa=Yy(t=>t.charAt(0).toUpperCase()+t.slice(1)),tw=Yy(t=>t?`on${pa(t)}`:""),Gs=(t,e)=>!Object.is(t,e),fp=(t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},DV=(t,e,n,i=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:i,value:n})},T1=t=>{const e=parseFloat(t);return isNaN(e)?t:e},L9=t=>{const e=Yn(t)?Number(t):NaN;return isNaN(e)?t:e};let GE;const Gy=()=>GE||(GE=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function qy(t){if(mt(t)){const e={};for(let n=0;n<t.length;n++){const i=t[n],s=Yn(i)?j9(i):qy(i);if(s)for(const r in s)e[r]=s[r]}return e}else if(Yn(t)||En(t))return t}const N9=/;(?![^(]*\))/g,F9=/:([^]+)/,B9=/\/\*[^]*?\*\//g;function j9(t){const e={};return t.replace(B9,"").split(N9).forEach(n=>{if(n){const i=n.split(F9);i.length>1&&(e[i[0].trim()]=i[1].trim())}}),e}function Xy(t){let e="";if(Yn(t))e=t;else if(mt(t))for(let n=0;n<t.length;n++){const i=Xy(t[n]);i&&(e+=i+" ")}else if(En(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}function AV(t){if(!t)return null;let{class:e,style:n}=t;return e&&!Yn(e)&&(t.class=Xy(e)),n&&(t.style=qy(n)),t}const $9="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",U9=Pk($9);function OV(t){return!!t||t===""}const RV=t=>!!(t&&t.__v_isRef===!0),at=t=>Yn(t)?t:t==null?"":mt(t)||En(t)&&(t.toString===EV||!kt(t.toString))?RV(t)?at(t.value):JSON.stringify(t,MV,2):String(t),MV=(t,e)=>RV(e)?MV(t,e.value):Ed(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[i,s],r)=>(n[nw(i,r)+" =>"]=s,n),{})}:PV(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>nw(n))}:Bo(e)?nw(e):En(e)&&!mt(e)&&!IV(e)?String(e):e,nw=(t,e="")=>{var n;return Bo(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Ds;class VV{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Ds,!e&&Ds&&(this.index=(Ds.scopes||(Ds.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].pause();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].resume();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].resume()}}run(e){if(this._active){const n=Ds;try{return Ds=this,e()}finally{Ds=n}}}on(){Ds=this}off(){Ds=this.parent}stop(e){if(this._active){this._active=!1;let n,i;for(n=0,i=this.effects.length;n<i;n++)this.effects[n].stop();for(this.effects.length=0,n=0,i=this.cleanups.length;n<i;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,i=this.scopes.length;n<i;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0}}}function Sv(t){return new VV(t)}function LV(){return Ds}function as(t,e=!1){Ds&&Ds.cleanups.push(t)}let Tn;const iw=new WeakSet;class NV{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Ds&&Ds.active&&Ds.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,iw.has(this)&&(iw.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||BV(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,qE(this),jV(this);const e=Tn,n=ea;Tn=this,ea=!0;try{return this.fn()}finally{$V(this),Tn=e,ea=n,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)Ok(e);this.deps=this.depsTail=void 0,qE(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?iw.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){P1(this)&&this.run()}get dirty(){return P1(this)}}let FV=0,Uf,Hf;function BV(t,e=!1){if(t.flags|=8,e){t.next=Hf,Hf=t;return}t.next=Uf,Uf=t}function Dk(){FV++}function Ak(){if(--FV>0)return;if(Hf){let e=Hf;for(Hf=void 0;e;){const n=e.next;e.next=void 0,e.flags&=-9,e=n}}let t;for(;Uf;){let e=Uf;for(Uf=void 0;e;){const n=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(i){t||(t=i)}e=n}}if(t)throw t}function jV(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function $V(t){let e,n=t.depsTail,i=n;for(;i;){const s=i.prevDep;i.version===-1?(i===n&&(n=s),Ok(i),H9(i)):e=i,i.dep.activeLink=i.prevActiveLink,i.prevActiveLink=void 0,i=s}t.deps=e,t.depsTail=n}function P1(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(UV(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function UV(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===fm))return;t.globalVersion=fm;const e=t.dep;if(t.flags|=2,e.version>0&&!t.isSSR&&t.deps&&!P1(t)){t.flags&=-3;return}const n=Tn,i=ea;Tn=t,ea=!0;try{jV(t);const s=t.fn(t._value);(e.version===0||Gs(s,t._value))&&(t._value=s,e.version++)}catch(s){throw e.version++,s}finally{Tn=n,ea=i,$V(t),t.flags&=-3}}function Ok(t,e=!1){const{dep:n,prevSub:i,nextSub:s}=t;if(i&&(i.nextSub=s,t.prevSub=void 0),s&&(s.prevSub=i,t.nextSub=void 0),n.subs===t&&(n.subs=i,!i&&n.computed)){n.computed.flags&=-5;for(let r=n.computed.deps;r;r=r.nextDep)Ok(r,!0)}!e&&!--n.sc&&n.map&&n.map.delete(n.key)}function H9(t){const{prevDep:e,nextDep:n}=t;e&&(e.nextDep=n,t.prevDep=void 0),n&&(n.prevDep=e,t.nextDep=void 0)}let ea=!0;const HV=[];function ql(){HV.push(ea),ea=!1}function Xl(){const t=HV.pop();ea=t===void 0?!0:t}function qE(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const n=Tn;Tn=void 0;try{e()}finally{Tn=n}}}let fm=0;class z9{constructor(e,n){this.sub=e,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Ky{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){if(!Tn||!ea||Tn===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==Tn)n=this.activeLink=new z9(Tn,this),Tn.deps?(n.prevDep=Tn.depsTail,Tn.depsTail.nextDep=n,Tn.depsTail=n):Tn.deps=Tn.depsTail=n,zV(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const i=n.nextDep;i.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=i),n.prevDep=Tn.depsTail,n.nextDep=void 0,Tn.depsTail.nextDep=n,Tn.depsTail=n,Tn.deps===n&&(Tn.deps=i)}return n}trigger(e){this.version++,fm++,this.notify(e)}notify(e){Dk();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{Ak()}}}function zV(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let i=e.deps;i;i=i.nextDep)zV(i)}const n=t.dep.subs;n!==t&&(t.prevSub=n,n&&(n.nextSub=t)),t.dep.subs=t}}const qp=new WeakMap,ju=Symbol(""),C1=Symbol(""),mm=Symbol("");function vs(t,e,n){if(ea&&Tn){let i=qp.get(t);i||qp.set(t,i=new Map);let s=i.get(n);s||(i.set(n,s=new Ky),s.map=i,s.key=n),s.track()}}function co(t,e,n,i,s,r){const a=qp.get(t);if(!a){fm++;return}const o=l=>{l&&l.trigger()};if(Dk(),e==="clear")a.forEach(o);else{const l=mt(t),u=l&&Ik(n);if(l&&n==="length"){const d=Number(i);a.forEach((c,f)=>{(f==="length"||f===mm||!Bo(f)&&f>=d)&&o(c)})}else switch((n!==void 0||a.has(void 0))&&o(a.get(n)),u&&o(a.get(mm)),e){case"add":l?u&&o(a.get("length")):(o(a.get(ju)),Ed(t)&&o(a.get(C1)));break;case"delete":l||(o(a.get(ju)),Ed(t)&&o(a.get(C1)));break;case"set":Ed(t)&&o(a.get(ju));break}}Ak()}function W9(t,e){const n=qp.get(t);return n&&n.get(e)}function Zc(t){const e=Qe(t);return e===t?e:(vs(e,"iterate",mm),Rr(t)?e:e.map(gs))}function Qy(t){return vs(t=Qe(t),"iterate",mm),t}const Y9={__proto__:null,[Symbol.iterator](){return sw(this,Symbol.iterator,gs)},concat(...t){return Zc(this).concat(...t.map(e=>mt(e)?Zc(e):e))},entries(){return sw(this,"entries",t=>(t[1]=gs(t[1]),t))},every(t,e){return so(this,"every",t,e,void 0,arguments)},filter(t,e){return so(this,"filter",t,e,n=>n.map(gs),arguments)},find(t,e){return so(this,"find",t,e,gs,arguments)},findIndex(t,e){return so(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return so(this,"findLast",t,e,gs,arguments)},findLastIndex(t,e){return so(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return so(this,"forEach",t,e,void 0,arguments)},includes(...t){return rw(this,"includes",t)},indexOf(...t){return rw(this,"indexOf",t)},join(t){return Zc(this).join(t)},lastIndexOf(...t){return rw(this,"lastIndexOf",t)},map(t,e){return so(this,"map",t,e,void 0,arguments)},pop(){return ff(this,"pop")},push(...t){return ff(this,"push",t)},reduce(t,...e){return XE(this,"reduce",t,e)},reduceRight(t,...e){return XE(this,"reduceRight",t,e)},shift(){return ff(this,"shift")},some(t,e){return so(this,"some",t,e,void 0,arguments)},splice(...t){return ff(this,"splice",t)},toReversed(){return Zc(this).toReversed()},toSorted(t){return Zc(this).toSorted(t)},toSpliced(...t){return Zc(this).toSpliced(...t)},unshift(...t){return ff(this,"unshift",t)},values(){return sw(this,"values",gs)}};function sw(t,e,n){const i=Qy(t),s=i[e]();return i!==t&&!Rr(t)&&(s._next=s.next,s.next=()=>{const r=s._next();return r.value&&(r.value=n(r.value)),r}),s}const G9=Array.prototype;function so(t,e,n,i,s,r){const a=Qy(t),o=a!==t&&!Rr(t),l=a[e];if(l!==G9[e]){const c=l.apply(t,r);return o?gs(c):c}let u=n;a!==t&&(o?u=function(c,f){return n.call(this,gs(c),f,t)}:n.length>2&&(u=function(c,f){return n.call(this,c,f,t)}));const d=l.call(a,u,i);return o&&s?s(d):d}function XE(t,e,n,i){const s=Qy(t);let r=n;return s!==t&&(Rr(t)?n.length>3&&(r=function(a,o,l){return n.call(this,a,o,l,t)}):r=function(a,o,l){return n.call(this,a,gs(o),l,t)}),s[e](r,...i)}function rw(t,e,n){const i=Qe(t);vs(i,"iterate",mm);const s=i[e](...n);return(s===-1||s===!1)&&Vk(n[0])?(n[0]=Qe(n[0]),i[e](...n)):s}function ff(t,e,n=[]){ql(),Dk();const i=Qe(t)[e].apply(t,n);return Ak(),Xl(),i}const q9=Pk("__proto__,__v_isRef,__isVue"),WV=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Bo));function X9(t){Bo(t)||(t=String(t));const e=Qe(this);return vs(e,"has",t),e.hasOwnProperty(t)}class YV{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,i){if(n==="__v_skip")return e.__v_skip;const s=this._isReadonly,r=this._isShallow;if(n==="__v_isReactive")return!s;if(n==="__v_isReadonly")return s;if(n==="__v_isShallow")return r;if(n==="__v_raw")return i===(s?r?rH:KV:r?XV:qV).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(i)?e:void 0;const a=mt(e);if(!s){let l;if(a&&(l=Y9[n]))return l;if(n==="hasOwnProperty")return X9}const o=Reflect.get(e,n,Je(e)?e:i);return(Bo(n)?WV.has(n):q9(n))||(s||vs(e,"get",n),r)?o:Je(o)?a&&Ik(n)?o:o.value:En(o)?s?kh(o):vn(o):o}}class GV extends YV{constructor(e=!1){super(!1,e)}set(e,n,i,s){let r=e[n];if(!this._isShallow){const l=Ku(r);if(!Rr(i)&&!Ku(i)&&(r=Qe(r),i=Qe(i)),!mt(e)&&Je(r)&&!Je(i))return l?!1:(r.value=i,!0)}const a=mt(e)&&Ik(n)?Number(n)<e.length:un(e,n),o=Reflect.set(e,n,i,Je(e)?e:s);return e===Qe(s)&&(a?Gs(i,r)&&co(e,"set",n,i):co(e,"add",n,i)),o}deleteProperty(e,n){const i=un(e,n);e[n];const s=Reflect.deleteProperty(e,n);return s&&i&&co(e,"delete",n,void 0),s}has(e,n){const i=Reflect.has(e,n);return(!Bo(n)||!WV.has(n))&&vs(e,"has",n),i}ownKeys(e){return vs(e,"iterate",mt(e)?"length":ju),Reflect.ownKeys(e)}}class K9 extends YV{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const Q9=new GV,J9=new K9,Z9=new GV(!0);const E1=t=>t,Tg=t=>Reflect.getPrototypeOf(t);function eH(t,e,n){return function(...i){const s=this.__v_raw,r=Qe(s),a=Ed(r),o=t==="entries"||t===Symbol.iterator&&a,l=t==="keys"&&a,u=s[t](...i),d=n?E1:e?I1:gs;return!e&&vs(r,"iterate",l?C1:ju),{next(){const{value:c,done:f}=u.next();return f?{value:c,done:f}:{value:o?[d(c[0]),d(c[1])]:d(c),done:f}},[Symbol.iterator](){return this}}}}function Pg(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function tH(t,e){const n={get(s){const r=this.__v_raw,a=Qe(r),o=Qe(s);t||(Gs(s,o)&&vs(a,"get",s),vs(a,"get",o));const{has:l}=Tg(a),u=e?E1:t?I1:gs;if(l.call(a,s))return u(r.get(s));if(l.call(a,o))return u(r.get(o));r!==a&&r.get(s)},get size(){const s=this.__v_raw;return!t&&vs(Qe(s),"iterate",ju),Reflect.get(s,"size",s)},has(s){const r=this.__v_raw,a=Qe(r),o=Qe(s);return t||(Gs(s,o)&&vs(a,"has",s),vs(a,"has",o)),s===o?r.has(s):r.has(s)||r.has(o)},forEach(s,r){const a=this,o=a.__v_raw,l=Qe(o),u=e?E1:t?I1:gs;return!t&&vs(l,"iterate",ju),o.forEach((d,c)=>s.call(r,u(d),u(c),a))}};return ri(n,t?{add:Pg("add"),set:Pg("set"),delete:Pg("delete"),clear:Pg("clear")}:{add(s){!e&&!Rr(s)&&!Ku(s)&&(s=Qe(s));const r=Qe(this);return Tg(r).has.call(r,s)||(r.add(s),co(r,"add",s,s)),this},set(s,r){!e&&!Rr(r)&&!Ku(r)&&(r=Qe(r));const a=Qe(this),{has:o,get:l}=Tg(a);let u=o.call(a,s);u||(s=Qe(s),u=o.call(a,s));const d=l.call(a,s);return a.set(s,r),u?Gs(r,d)&&co(a,"set",s,r):co(a,"add",s,r),this},delete(s){const r=Qe(this),{has:a,get:o}=Tg(r);let l=a.call(r,s);l||(s=Qe(s),l=a.call(r,s)),o&&o.call(r,s);const u=r.delete(s);return l&&co(r,"delete",s,void 0),u},clear(){const s=Qe(this),r=s.size!==0,a=s.clear();return r&&co(s,"clear",void 0,void 0),a}}),["keys","values","entries",Symbol.iterator].forEach(s=>{n[s]=eH(s,t,e)}),n}function Rk(t,e){const n=tH(t,e);return(i,s,r)=>s==="__v_isReactive"?!t:s==="__v_isReadonly"?t:s==="__v_raw"?i:Reflect.get(un(n,s)&&s in i?n:i,s,r)}const nH={get:Rk(!1,!1)},iH={get:Rk(!1,!0)},sH={get:Rk(!0,!1)};const qV=new WeakMap,XV=new WeakMap,KV=new WeakMap,rH=new WeakMap;function aH(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function oH(t){return t.__v_skip||!Object.isExtensible(t)?0:aH(R9(t))}function vn(t){return Ku(t)?t:Mk(t,!1,Q9,nH,qV)}function QV(t){return Mk(t,!1,Z9,iH,XV)}function kh(t){return Mk(t,!0,J9,sH,KV)}function Mk(t,e,n,i,s){if(!En(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const r=s.get(t);if(r)return r;const a=oH(t);if(a===0)return t;const o=new Proxy(t,a===2?i:n);return s.set(t,o),o}function $u(t){return Ku(t)?$u(t.__v_raw):!!(t&&t.__v_isReactive)}function Ku(t){return!!(t&&t.__v_isReadonly)}function Rr(t){return!!(t&&t.__v_isShallow)}function Vk(t){return t?!!t.__v_raw:!1}function Qe(t){const e=t&&t.__v_raw;return e?Qe(e):t}function Lk(t){return!un(t,"__v_skip")&&Object.isExtensible(t)&&DV(t,"__v_skip",!0),t}const gs=t=>En(t)?vn(t):t,I1=t=>En(t)?kh(t):t;function Je(t){return t?t.__v_isRef===!0:!1}function Y(t){return JV(t,!1)}function Me(t){return JV(t,!0)}function JV(t,e){return Je(t)?t:new lH(t,e)}class lH{constructor(e,n){this.dep=new Ky,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?e:Qe(e),this._value=n?e:gs(e),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(e){const n=this._rawValue,i=this.__v_isShallow||Rr(e)||Ku(e);e=i?e:Qe(e),Gs(e,n)&&(this._rawValue=e,this._value=i?e:gs(e),this.dep.trigger())}}function ie(t){return Je(t)?t.value:t}function Et(t){return kt(t)?t():ie(t)}const uH={get:(t,e,n)=>e==="__v_raw"?t:ie(Reflect.get(t,e,n)),set:(t,e,n,i)=>{const s=t[e];return Je(s)&&!Je(n)?(s.value=n,!0):Reflect.set(t,e,n,i)}};function ZV(t){return $u(t)?t:new Proxy(t,uH)}class cH{constructor(e){this.__v_isRef=!0,this._value=void 0;const n=this.dep=new Ky,{get:i,set:s}=e(n.track.bind(n),n.trigger.bind(n));this._get=i,this._set=s}get value(){return this._value=this._get()}set value(e){this._set(e)}}function dH(t){return new cH(t)}function Kl(t){const e=mt(t)?new Array(t.length):{};for(const n in t)e[n]=eL(t,n);return e}class hH{constructor(e,n,i){this._object=e,this._key=n,this._defaultValue=i,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return W9(Qe(this._object),this._key)}}class fH{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function ve(t,e,n){return Je(t)?t:kt(t)?new fH(t):En(t)&&arguments.length>1?eL(t,e,n):Y(t)}function eL(t,e,n){const i=t[e];return Je(i)?i:new hH(t,e,n)}class mH{constructor(e,n,i){this.fn=e,this.setter=n,this._value=void 0,this.dep=new Ky(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=fm-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=i}notify(){if(this.flags|=16,!(this.flags&8)&&Tn!==this)return BV(this,!0),!0}get value(){const e=this.dep.track();return UV(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function vH(t,e,n=!1){let i,s;return kt(t)?i=t:(i=t.get,s=t.set),new mH(i,s,n)}const Cg={},Xp=new WeakMap;let yu;function gH(t,e=!1,n=yu){if(n){let i=Xp.get(n);i||Xp.set(n,i=[]),i.push(t)}}function pH(t,e,n=en){const{immediate:i,deep:s,once:r,scheduler:a,augmentJob:o,call:l}=n,u=k=>s?k:Rr(k)||s===!1||s===0?ho(k,1):ho(k);let d,c,f,h,g=!1,v=!1;if(Je(t)?(c=()=>t.value,g=Rr(t)):$u(t)?(c=()=>u(t),g=!0):mt(t)?(v=!0,g=t.some(k=>$u(k)||Rr(k)),c=()=>t.map(k=>{if(Je(k))return k.value;if($u(k))return u(k);if(kt(k))return l?l(k,2):k()})):kt(t)?e?c=l?()=>l(t,2):t:c=()=>{if(f){ql();try{f()}finally{Xl()}}const k=yu;yu=d;try{return l?l(t,3,[h]):t(h)}finally{yu=k}}:c=Oa,e&&s){const k=c,I=s===!0?1/0:s;c=()=>ho(k(),I)}const p=LV(),_=()=>{d.stop(),p&&p.active&&Ek(p.effects,d)};if(r&&e){const k=e;e=(...I)=>{k(...I),_()}}let b=v?new Array(t.length).fill(Cg):Cg;const x=k=>{if(!(!(d.flags&1)||!d.dirty&&!k))if(e){const I=d.run();if(s||g||(v?I.some((E,T)=>Gs(E,b[T])):Gs(I,b))){f&&f();const E=yu;yu=d;try{const T=[I,b===Cg?void 0:v&&b[0]===Cg?[]:b,h];l?l(e,3,T):e(...T),b=I}finally{yu=E}}}else d.run()};return o&&o(x),d=new NV(c),d.scheduler=a?()=>a(x,!1):x,h=k=>gH(k,!1,d),f=d.onStop=()=>{const k=Xp.get(d);if(k){if(l)l(k,4);else for(const I of k)I();Xp.delete(d)}},e?i?x(!0):b=d.run():a?a(x.bind(null,!0),!0):d.run(),_.pause=d.pause.bind(d),_.resume=d.resume.bind(d),_.stop=_,_}function ho(t,e=1/0,n){if(e<=0||!En(t)||t.__v_skip||(n=n||new Set,n.has(t)))return t;if(n.add(t),e--,Je(t))ho(t.value,e,n);else if(mt(t))for(let i=0;i<t.length;i++)ho(t[i],e,n);else if(PV(t)||Ed(t))t.forEach(i=>{ho(i,e,n)});else if(IV(t)){for(const i in t)ho(t[i],e,n);for(const i of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,i)&&ho(t[i],e,n)}return t}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function kv(t,e,n,i){try{return i?t(...i):t()}catch(s){Jy(s,e,n)}}function la(t,e,n,i){if(kt(t)){const s=kv(t,e,n,i);return s&&CV(s)&&s.catch(r=>{Jy(r,e,n)}),s}if(mt(t)){const s=[];for(let r=0;r<t.length;r++)s.push(la(t[r],e,n,i));return s}}function Jy(t,e,n,i=!0){const s=e?e.vnode:null,{errorHandler:r,throwUnhandledErrorInProduction:a}=e&&e.appContext.config||en;if(e){let o=e.parent;const l=e.proxy,u=`https://vuejs.org/error-reference/#runtime-${n}`;for(;o;){const d=o.ec;if(d){for(let c=0;c<d.length;c++)if(d[c](t,l,u)===!1)return}o=o.parent}if(r){ql(),kv(r,null,10,[t,l,u]),Xl();return}}_H(t,n,s,i,a)}function _H(t,e,n,i=!0,s=!1){if(s)throw t;console.error(t)}const Os=[];let Sa=-1;const Id=[];let al=null,cd=0;const tL=Promise.resolve();let Kp=null;function pt(t){const e=Kp||tL;return t?e.then(this?t.bind(this):t):e}function yH(t){let e=Sa+1,n=Os.length;for(;e<n;){const i=e+n>>>1,s=Os[i],r=vm(s);r<t||r===t&&s.flags&2?e=i+1:n=i}return e}function Nk(t){if(!(t.flags&1)){const e=vm(t),n=Os[Os.length-1];!n||!(t.flags&2)&&e>=vm(n)?Os.push(t):Os.splice(yH(e),0,t),t.flags|=1,nL()}}function nL(){Kp||(Kp=tL.then(sL))}function bH(t){mt(t)?Id.push(...t):al&&t.id===-1?al.splice(cd+1,0,t):t.flags&1||(Id.push(t),t.flags|=1),nL()}function KE(t,e,n=Sa+1){for(;n<Os.length;n++){const i=Os[n];if(i&&i.flags&2){if(t&&i.id!==t.uid)continue;Os.splice(n,1),n--,i.flags&4&&(i.flags&=-2),i(),i.flags&4||(i.flags&=-2)}}}function iL(t){if(Id.length){const e=[...new Set(Id)].sort((n,i)=>vm(n)-vm(i));if(Id.length=0,al){al.push(...e);return}for(al=e,cd=0;cd<al.length;cd++){const n=al[cd];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}al=null,cd=0}}const vm=t=>t.id==null?t.flags&2?-1:1/0:t.id;function sL(t){try{for(Sa=0;Sa<Os.length;Sa++){const e=Os[Sa];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),kv(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;Sa<Os.length;Sa++){const e=Os[Sa];e&&(e.flags&=-2)}Sa=-1,Os.length=0,iL(),Kp=null,(Os.length||Id.length)&&sL()}}let $i=null,rL=null;function Qp(t){const e=$i;return $i=t,rL=t&&t.type.__scopeId||null,e}function M(t,e=$i,n){if(!e||t._n)return t;const i=(...s)=>{i._d&&lI(-1);const r=Qp(e);let a;try{a=t(...s)}finally{Qp(r),i._d&&lI(1)}return a};return i._n=!0,i._c=!0,i._d=!0,i}function In(t,e){if($i===null)return t;const n=ib($i),i=t.dirs||(t.dirs=[]);for(let s=0;s<e.length;s++){let[r,a,o,l=en]=e[s];r&&(kt(r)&&(r={mounted:r,updated:r}),r.deep&&ho(a),i.push({dir:r,instance:n,value:a,oldValue:void 0,arg:o,modifiers:l}))}return t}function hu(t,e,n,i){const s=t.dirs,r=e&&e.dirs;for(let a=0;a<s.length;a++){const o=s[a];r&&(o.oldValue=r[a].value);let l=o.dir[i];l&&(ql(),la(l,n,8,[t.el,o,t,e]),Xl())}}const aL=Symbol("_vte"),oL=t=>t.__isTeleport,zf=t=>t&&(t.disabled||t.disabled===""),QE=t=>t&&(t.defer||t.defer===""),JE=t=>typeof SVGElement<"u"&&t instanceof SVGElement,ZE=t=>typeof MathMLElement=="function"&&t instanceof MathMLElement,D1=(t,e)=>{const n=t&&t.to;return Yn(n)?e?e(n):null:n},lL={name:"Teleport",__isTeleport:!0,process(t,e,n,i,s,r,a,o,l,u){const{mc:d,pc:c,pbc:f,o:{insert:h,querySelector:g,createText:v,createComment:p}}=u,_=zf(e.props);let{shapeFlag:b,children:x,dynamicChildren:k}=e;if(t==null){const I=e.el=v(""),E=e.anchor=v("");h(I,n,i),h(E,n,i);const T=(w,P)=>{b&16&&(s&&s.isCE&&(s.ce._teleportTarget=w),d(x,w,P,s,r,a,o,l))},S=()=>{const w=e.target=D1(e.props,g),P=cL(w,e,v,h);w&&(a!=="svg"&&JE(w)?a="svg":a!=="mathml"&&ZE(w)&&(a="mathml"),_||(T(w,P),mp(e,!1)))};_&&(T(n,E),mp(e,!0)),QE(e.props)?Is(()=>{S(),e.el.__isMounted=!0},r):S()}else{if(QE(e.props)&&!t.el.__isMounted){Is(()=>{lL.process(t,e,n,i,s,r,a,o,l,u),delete t.el.__isMounted},r);return}e.el=t.el,e.targetStart=t.targetStart;const I=e.anchor=t.anchor,E=e.target=t.target,T=e.targetAnchor=t.targetAnchor,S=zf(t.props),w=S?n:E,P=S?I:T;if(a==="svg"||JE(E)?a="svg":(a==="mathml"||ZE(E))&&(a="mathml"),k?(f(t.dynamicChildren,k,w,s,r,a,o),Wk(t,e,!0)):l||c(t,e,w,P,s,r,a,o,!1),_)S?e.props&&t.props&&e.props.to!==t.props.to&&(e.props.to=t.props.to):Eg(e,n,I,u,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const C=e.target=D1(e.props,g);C&&Eg(e,C,null,u,0)}else S&&Eg(e,E,T,u,1);mp(e,_)}},remove(t,e,n,{um:i,o:{remove:s}},r){const{shapeFlag:a,children:o,anchor:l,targetStart:u,targetAnchor:d,target:c,props:f}=t;if(c&&(s(u),s(d)),r&&s(l),a&16){const h=r||!zf(f);for(let g=0;g<o.length;g++){const v=o[g];i(v,e,n,h,!!v.dynamicChildren)}}},move:Eg,hydrate:wH};function Eg(t,e,n,{o:{insert:i},m:s},r=2){r===0&&i(t.targetAnchor,e,n);const{el:a,anchor:o,shapeFlag:l,children:u,props:d}=t,c=r===2;if(c&&i(a,e,n),(!c||zf(d))&&l&16)for(let f=0;f<u.length;f++)s(u[f],e,n,2);c&&i(o,e,n)}function wH(t,e,n,i,s,r,{o:{nextSibling:a,parentNode:o,querySelector:l,insert:u,createText:d}},c){const f=e.target=D1(e.props,l);if(f){const h=zf(e.props),g=f._lpa||f.firstChild;if(e.shapeFlag&16)if(h)e.anchor=c(a(t),e,o(t),n,i,s,r),e.targetStart=g,e.targetAnchor=g&&a(g);else{e.anchor=a(t);let v=g;for(;v;){if(v&&v.nodeType===8){if(v.data==="teleport start anchor")e.targetStart=v;else if(v.data==="teleport anchor"){e.targetAnchor=v,f._lpa=e.targetAnchor&&a(e.targetAnchor);break}}v=a(v)}e.targetAnchor||cL(f,e,d,u),c(g&&a(g),e,f,n,i,s,r)}mp(e,h)}return e.anchor&&a(e.anchor)}const uL=lL;function mp(t,e){const n=t.ctx;if(n&&n.ut){let i,s;for(e?(i=t.el,s=t.anchor):(i=t.targetStart,s=t.targetAnchor);i&&i!==s;)i.nodeType===1&&i.setAttribute("data-v-owner",n.uid),i=i.nextSibling;n.ut()}}function cL(t,e,n,i){const s=e.targetStart=n(""),r=e.targetAnchor=n("");return s[aL]=r,t&&(i(s,t),i(r,t)),r}const ol=Symbol("_leaveCb"),Ig=Symbol("_enterCb");function dL(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Pt(()=>{t.isMounted=!0}),Mi(()=>{t.isUnmounting=!0}),t}const Cr=[Function,Array],hL={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Cr,onEnter:Cr,onAfterEnter:Cr,onEnterCancelled:Cr,onBeforeLeave:Cr,onLeave:Cr,onAfterLeave:Cr,onLeaveCancelled:Cr,onBeforeAppear:Cr,onAppear:Cr,onAfterAppear:Cr,onAppearCancelled:Cr},fL=t=>{const e=t.subTree;return e.component?fL(e.component):e},xH={name:"BaseTransition",props:hL,setup(t,{slots:e}){const n=Cc(),i=dL();return()=>{const s=e.default&&Fk(e.default(),!0);if(!s||!s.length)return;const r=mL(s),a=Qe(t),{mode:o}=a;if(i.isLeaving)return aw(r);const l=eI(r);if(!l)return aw(r);let u=gm(l,a,i,n,c=>u=c);l.type!==bs&&Qu(l,u);let d=n.subTree&&eI(n.subTree);if(d&&d.type!==bs&&!ku(l,d)&&fL(n).type!==bs){let c=gm(d,a,i,n);if(Qu(d,c),o==="out-in"&&l.type!==bs)return i.isLeaving=!0,c.afterLeave=()=>{i.isLeaving=!1,n.job.flags&8||n.update(),delete c.afterLeave,d=void 0},aw(r);o==="in-out"&&l.type!==bs?c.delayLeave=(f,h,g)=>{const v=vL(i,d);v[String(d.key)]=d,f[ol]=()=>{h(),f[ol]=void 0,delete u.delayedLeave,d=void 0},u.delayedLeave=()=>{g(),delete u.delayedLeave,d=void 0}}:d=void 0}else d&&(d=void 0);return r}}};function mL(t){let e=t[0];if(t.length>1){for(const n of t)if(n.type!==bs){e=n;break}}return e}const SH=xH;function vL(t,e){const{leavingVNodes:n}=t;let i=n.get(e.type);return i||(i=Object.create(null),n.set(e.type,i)),i}function gm(t,e,n,i,s){const{appear:r,mode:a,persisted:o=!1,onBeforeEnter:l,onEnter:u,onAfterEnter:d,onEnterCancelled:c,onBeforeLeave:f,onLeave:h,onAfterLeave:g,onLeaveCancelled:v,onBeforeAppear:p,onAppear:_,onAfterAppear:b,onAppearCancelled:x}=e,k=String(t.key),I=vL(n,t),E=(w,P)=>{w&&la(w,i,9,P)},T=(w,P)=>{const C=P[1];E(w,P),mt(w)?w.every(D=>D.length<=1)&&C():w.length<=1&&C()},S={mode:a,persisted:o,beforeEnter(w){let P=l;if(!n.isMounted)if(r)P=p||l;else return;w[ol]&&w[ol](!0);const C=I[k];C&&ku(t,C)&&C.el[ol]&&C.el[ol](),E(P,[w])},enter(w){let P=u,C=d,D=c;if(!n.isMounted)if(r)P=_||u,C=b||d,D=x||c;else return;let A=!1;const N=w[Ig]=B=>{A||(A=!0,B?E(D,[w]):E(C,[w]),S.delayedLeave&&S.delayedLeave(),w[Ig]=void 0)};P?T(P,[w,N]):N()},leave(w,P){const C=String(t.key);if(w[Ig]&&w[Ig](!0),n.isUnmounting)return P();E(f,[w]);let D=!1;const A=w[ol]=N=>{D||(D=!0,P(),N?E(v,[w]):E(g,[w]),w[ol]=void 0,I[C]===t&&delete I[C])};I[C]=t,h?T(h,[w,A]):A()},clone(w){const P=gm(w,e,n,i,s);return s&&s(P),P}};return S}function aw(t){if(Zy(t))return t=$a(t),t.children=null,t}function eI(t){if(!Zy(t))return oL(t.type)&&t.children?mL(t.children):t;const{shapeFlag:e,children:n}=t;if(n){if(e&16)return n[0];if(e&32&&kt(n.default))return n.default()}}function Qu(t,e){t.shapeFlag&6&&t.component?(t.transition=e,Qu(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function Fk(t,e=!1,n){let i=[],s=0;for(let r=0;r<t.length;r++){let a=t[r];const o=n==null?a.key:String(n)+String(a.key!=null?a.key:r);a.type===Ie?(a.patchFlag&128&&s++,i=i.concat(Fk(a.children,e,o))):(e||a.type!==bs)&&i.push(o!=null?$a(a,{key:o}):a)}if(s>1)for(let r=0;r<i.length;r++)i[r].patchFlag=-2;return i}/*! #__NO_SIDE_EFFECTS__ */function Tt(t,e){return kt(t)?ri({name:t.name},e,{setup:t}):t}function gL(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function kH(t){const e=Cc(),n=Me(null);if(e){const s=e.refs===en?e.refs={}:e.refs;Object.defineProperty(s,t,{enumerable:!0,get:()=>n.value,set:r=>n.value=r})}return n}function Jp(t,e,n,i,s=!1){if(mt(t)){t.forEach((g,v)=>Jp(g,e&&(mt(e)?e[v]:e),n,i,s));return}if(Dd(i)&&!s){i.shapeFlag&512&&i.type.__asyncResolved&&i.component.subTree.component&&Jp(t,e,n,i.component.subTree);return}const r=i.shapeFlag&4?ib(i.component):i.el,a=s?null:r,{i:o,r:l}=t,u=e&&e.r,d=o.refs===en?o.refs={}:o.refs,c=o.setupState,f=Qe(c),h=c===en?()=>!1:g=>un(f,g);if(u!=null&&u!==l&&(Yn(u)?(d[u]=null,h(u)&&(c[u]=null)):Je(u)&&(u.value=null)),kt(l))kv(l,o,12,[a,d]);else{const g=Yn(l),v=Je(l);if(g||v){const p=()=>{if(t.f){const _=g?h(l)?c[l]:d[l]:l.value;s?mt(_)&&Ek(_,r):mt(_)?_.includes(r)||_.push(r):g?(d[l]=[r],h(l)&&(c[l]=d[l])):(l.value=[r],t.k&&(d[t.k]=l.value))}else g?(d[l]=a,h(l)&&(c[l]=a)):v&&(l.value=a,t.k&&(d[t.k]=a))};a?(p.id=-1,Is(p,n)):p()}}}Gy().requestIdleCallback;Gy().cancelIdleCallback;const Dd=t=>!!t.type.__asyncLoader,Zy=t=>t.type.__isKeepAlive;function pL(t,e){_L(t,"a",e)}function Bk(t,e){_L(t,"da",e)}function _L(t,e,n=Zi){const i=t.__wdc||(t.__wdc=()=>{let s=n;for(;s;){if(s.isDeactivated)return;s=s.parent}return t()});if(eb(e,i,n),n){let s=n.parent;for(;s&&s.parent;)Zy(s.parent.vnode)&&TH(i,e,n,s),s=s.parent}}function TH(t,e,n,i){const s=eb(e,t,i,!0);Us(()=>{Ek(i[e],s)},n)}function eb(t,e,n=Zi,i=!1){if(n){const s=n[t]||(n[t]=[]),r=e.__weh||(e.__weh=(...a)=>{ql();const o=Pv(n),l=la(e,n,t,a);return o(),Xl(),l});return i?s.unshift(r):s.push(r),r}}const jo=t=>(e,n=Zi)=>{(!_m||t==="sp")&&eb(t,(...i)=>e(...i),n)},Th=jo("bm"),Pt=jo("m"),yL=jo("bu"),jk=jo("u"),Mi=jo("bum"),Us=jo("um"),bL=jo("sp"),PH=jo("rtg"),CH=jo("rtc");function EH(t,e=Zi){eb("ec",t,e)}const $k="components",IH="directives";function j(t,e){return Uk($k,t,!0,e)||t}const wL=Symbol.for("v-ndc");function xL(t){return Yn(t)?Uk($k,t,!1)||t:t||wL}function nr(t){return Uk(IH,t)}function Uk(t,e,n=!0,i=!1){const s=$i||Zi;if(s){const r=s.type;if(t===$k){const o=mz(r,!1);if(o&&(o===e||o===Fs(e)||o===pa(Fs(e))))return r}const a=tI(s[t]||r[t],e)||tI(s.appContext[t],e);return!a&&i?r:a}}function tI(t,e){return t&&(t[e]||t[Fs(e)]||t[pa(Fs(e))])}function Si(t,e,n,i){let s;const r=n,a=mt(t);if(a||Yn(t)){const o=a&&$u(t);let l=!1;o&&(l=!Rr(t),t=Qy(t)),s=new Array(t.length);for(let u=0,d=t.length;u<d;u++)s[u]=e(l?gs(t[u]):t[u],u,void 0,r)}else if(typeof t=="number"){s=new Array(t);for(let o=0;o<t;o++)s[o]=e(o+1,o,void 0,r)}else if(En(t))if(t[Symbol.iterator])s=Array.from(t,(o,l)=>e(o,l,void 0,r));else{const o=Object.keys(t);s=new Array(o.length);for(let l=0,u=o.length;l<u;l++){const d=o[l];s[l]=e(t[d],d,l,r)}}else s=[];return s}function SL(t,e){for(let n=0;n<e.length;n++){const i=e[n];if(mt(i))for(let s=0;s<i.length;s++)t[i[s].name]=i[s].fn;else i&&(t[i.name]=i.key?(...s)=>{const r=i.fn(...s);return r&&(r.key=i.key),r}:i.fn)}return t}function DH(t,e,n={},i,s){if($i.ce||$i.parent&&Dd($i.parent)&&$i.parent.ce)return n.name=e,be(),De(Ie,null,[m("slot",n,i)],64);let r=t[e];r&&r._c&&(r._d=!1),be();const a=r&&kL(r(n)),o=n.key||a&&a.key,l=De(Ie,{key:(o&&!Bo(o)?o:`_${e}`)+(!a&&i?"_fb":"")},a||[],a&&t._===1?64:-2);return l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),r&&r._c&&(r._d=!0),l}function kL(t){return t.some(e=>Ol(e)?!(e.type===bs||e.type===Ie&&!kL(e.children)):!0)?t:null}const A1=t=>t?HL(t)?ib(t):A1(t.parent):null,Wf=ri(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>A1(t.parent),$root:t=>A1(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>Hk(t),$forceUpdate:t=>t.f||(t.f=()=>{Nk(t.update)}),$nextTick:t=>t.n||(t.n=pt.bind(t.proxy)),$watch:t=>JH.bind(t)}),ow=(t,e)=>t!==en&&!t.__isScriptSetup&&un(t,e),AH={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:i,data:s,props:r,accessCache:a,type:o,appContext:l}=t;let u;if(e[0]!=="$"){const h=a[e];if(h!==void 0)switch(h){case 1:return i[e];case 2:return s[e];case 4:return n[e];case 3:return r[e]}else{if(ow(i,e))return a[e]=1,i[e];if(s!==en&&un(s,e))return a[e]=2,s[e];if((u=t.propsOptions[0])&&un(u,e))return a[e]=3,r[e];if(n!==en&&un(n,e))return a[e]=4,n[e];O1&&(a[e]=0)}}const d=Wf[e];let c,f;if(d)return e==="$attrs"&&vs(t.attrs,"get",""),d(t);if((c=o.__cssModules)&&(c=c[e]))return c;if(n!==en&&un(n,e))return a[e]=4,n[e];if(f=l.config.globalProperties,un(f,e))return f[e]},set({_:t},e,n){const{data:i,setupState:s,ctx:r}=t;return ow(s,e)?(s[e]=n,!0):i!==en&&un(i,e)?(i[e]=n,!0):un(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(r[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:i,appContext:s,propsOptions:r}},a){let o;return!!n[a]||t!==en&&un(t,a)||ow(e,a)||(o=r[0])&&un(o,a)||un(i,a)||un(Wf,a)||un(s.config.globalProperties,a)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:un(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function Zp(t){return mt(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}function Dl(t,e){return!t||!e?t||e:mt(t)&&mt(e)?t.concat(e):ri({},Zp(t),Zp(e))}let O1=!0;function OH(t){const e=Hk(t),n=t.proxy,i=t.ctx;O1=!1,e.beforeCreate&&nI(e.beforeCreate,t,"bc");const{data:s,computed:r,methods:a,watch:o,provide:l,inject:u,created:d,beforeMount:c,mounted:f,beforeUpdate:h,updated:g,activated:v,deactivated:p,beforeDestroy:_,beforeUnmount:b,destroyed:x,unmounted:k,render:I,renderTracked:E,renderTriggered:T,errorCaptured:S,serverPrefetch:w,expose:P,inheritAttrs:C,components:D,directives:A,filters:N}=e;if(u&&RH(u,i,null),a)for(const G in a){const z=a[G];kt(z)&&(i[G]=z.bind(n))}if(s){const G=s.call(n,n);En(G)&&(t.data=vn(G))}if(O1=!0,r)for(const G in r){const z=r[G],X=kt(z)?z.bind(n,n):kt(z.get)?z.get.bind(n,n):Oa,W=!kt(z)&&kt(z.set)?z.set.bind(n):Oa,Z=R({get:X,set:W});Object.defineProperty(i,G,{enumerable:!0,configurable:!0,get:()=>Z.value,set:ee=>Z.value=ee})}if(o)for(const G in o)TL(o[G],i,n,G);if(l){const G=kt(l)?l.call(n):l;Reflect.ownKeys(G).forEach(z=>{Jt(z,G[z])})}d&&nI(d,t,"c");function H(G,z){mt(z)?z.forEach(X=>G(X.bind(n))):z&&G(z.bind(n))}if(H(Th,c),H(Pt,f),H(yL,h),H(jk,g),H(pL,v),H(Bk,p),H(EH,S),H(CH,E),H(PH,T),H(Mi,b),H(Us,k),H(bL,w),mt(P))if(P.length){const G=t.exposed||(t.exposed={});P.forEach(z=>{Object.defineProperty(G,z,{get:()=>n[z],set:X=>n[z]=X})})}else t.exposed||(t.exposed={});I&&t.render===Oa&&(t.render=I),C!=null&&(t.inheritAttrs=C),D&&(t.components=D),A&&(t.directives=A),w&&gL(t)}function RH(t,e,n=Oa){mt(t)&&(t=R1(t));for(const i in t){const s=t[i];let r;En(s)?"default"in s?r=vt(s.from||i,s.default,!0):r=vt(s.from||i):r=vt(s),Je(r)?Object.defineProperty(e,i,{enumerable:!0,configurable:!0,get:()=>r.value,set:a=>r.value=a}):e[i]=r}}function nI(t,e,n){la(mt(t)?t.map(i=>i.bind(e.proxy)):t.bind(e.proxy),e,n)}function TL(t,e,n,i){let s=i.includes(".")?NL(n,i):()=>n[i];if(Yn(t)){const r=e[t];kt(r)&&we(s,r)}else if(kt(t))we(s,t.bind(n));else if(En(t))if(mt(t))t.forEach(r=>TL(r,e,n,i));else{const r=kt(t.handler)?t.handler.bind(n):e[t.handler];kt(r)&&we(s,r,t)}}function Hk(t){const e=t.type,{mixins:n,extends:i}=e,{mixins:s,optionsCache:r,config:{optionMergeStrategies:a}}=t.appContext,o=r.get(e);let l;return o?l=o:!s.length&&!n&&!i?l=e:(l={},s.length&&s.forEach(u=>e_(l,u,a,!0)),e_(l,e,a)),En(e)&&r.set(e,l),l}function e_(t,e,n,i=!1){const{mixins:s,extends:r}=e;r&&e_(t,r,n,!0),s&&s.forEach(a=>e_(t,a,n,!0));for(const a in e)if(!(i&&a==="expose")){const o=MH[a]||n&&n[a];t[a]=o?o(t[a],e[a]):e[a]}return t}const MH={data:iI,props:sI,emits:sI,methods:Tf,computed:Tf,beforeCreate:Es,created:Es,beforeMount:Es,mounted:Es,beforeUpdate:Es,updated:Es,beforeDestroy:Es,beforeUnmount:Es,destroyed:Es,unmounted:Es,activated:Es,deactivated:Es,errorCaptured:Es,serverPrefetch:Es,components:Tf,directives:Tf,watch:LH,provide:iI,inject:VH};function iI(t,e){return e?t?function(){return ri(kt(t)?t.call(this,this):t,kt(e)?e.call(this,this):e)}:e:t}function VH(t,e){return Tf(R1(t),R1(e))}function R1(t){if(mt(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function Es(t,e){return t?[...new Set([].concat(t,e))]:e}function Tf(t,e){return t?ri(Object.create(null),t,e):e}function sI(t,e){return t?mt(t)&&mt(e)?[...new Set([...t,...e])]:ri(Object.create(null),Zp(t),Zp(e??{})):e}function LH(t,e){if(!t)return e;if(!e)return t;const n=ri(Object.create(null),t);for(const i in e)n[i]=Es(t[i],e[i]);return n}function PL(){return{app:null,config:{isNativeTag:A9,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let NH=0;function FH(t,e){return function(i,s=null){kt(i)||(i=ri({},i)),s!=null&&!En(s)&&(s=null);const r=PL(),a=new WeakSet,o=[];let l=!1;const u=r.app={_uid:NH++,_component:i,_props:s,_container:null,_context:r,_instance:null,version:gz,get config(){return r.config},set config(d){},use(d,...c){return a.has(d)||(d&&kt(d.install)?(a.add(d),d.install(u,...c)):kt(d)&&(a.add(d),d(u,...c))),u},mixin(d){return r.mixins.includes(d)||r.mixins.push(d),u},component(d,c){return c?(r.components[d]=c,u):r.components[d]},directive(d,c){return c?(r.directives[d]=c,u):r.directives[d]},mount(d,c,f){if(!l){const h=u._ceVNode||m(i,s);return h.appContext=r,f===!0?f="svg":f===!1&&(f=void 0),c&&e?e(h,d):t(h,d,f),l=!0,u._container=d,d.__vue_app__=u,ib(h.component)}},onUnmount(d){o.push(d)},unmount(){l&&(la(o,u._instance,16),t(null,u._container),delete u._container.__vue_app__)},provide(d,c){return r.provides[d]=c,u},runWithContext(d){const c=Ad;Ad=u;try{return d()}finally{Ad=c}}};return u}}let Ad=null;function Jt(t,e){if(Zi){let n=Zi.provides;const i=Zi.parent&&Zi.parent.provides;i===n&&(n=Zi.provides=Object.create(i)),n[t]=e}}function vt(t,e,n=!1){const i=Zi||$i;if(i||Ad){const s=Ad?Ad._context.provides:i?i.parent==null?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides:void 0;if(s&&t in s)return s[t];if(arguments.length>1)return n&&kt(e)?e.call(i&&i.proxy):e}}const CL={},EL=()=>Object.create(CL),IL=t=>Object.getPrototypeOf(t)===CL;function BH(t,e,n,i=!1){const s={},r=EL();t.propsDefaults=Object.create(null),DL(t,e,s,r);for(const a in t.propsOptions[0])a in s||(s[a]=void 0);n?t.props=i?s:QV(s):t.type.props?t.props=s:t.props=r,t.attrs=r}function jH(t,e,n,i){const{props:s,attrs:r,vnode:{patchFlag:a}}=t,o=Qe(s),[l]=t.propsOptions;let u=!1;if((i||a>0)&&!(a&16)){if(a&8){const d=t.vnode.dynamicProps;for(let c=0;c<d.length;c++){let f=d[c];if(nb(t.emitsOptions,f))continue;const h=e[f];if(l)if(un(r,f))h!==r[f]&&(r[f]=h,u=!0);else{const g=Fs(f);s[g]=M1(l,o,g,h,t,!1)}else h!==r[f]&&(r[f]=h,u=!0)}}}else{DL(t,e,s,r)&&(u=!0);let d;for(const c in o)(!e||!un(e,c)&&((d=Gl(c))===c||!un(e,d)))&&(l?n&&(n[c]!==void 0||n[d]!==void 0)&&(s[c]=M1(l,o,c,void 0,t,!0)):delete s[c]);if(r!==o)for(const c in r)(!e||!un(e,c))&&(delete r[c],u=!0)}u&&co(t.attrs,"set","")}function DL(t,e,n,i){const[s,r]=t.propsOptions;let a=!1,o;if(e)for(let l in e){if($f(l))continue;const u=e[l];let d;s&&un(s,d=Fs(l))?!r||!r.includes(d)?n[d]=u:(o||(o={}))[d]=u:nb(t.emitsOptions,l)||(!(l in i)||u!==i[l])&&(i[l]=u,a=!0)}if(r){const l=Qe(n),u=o||en;for(let d=0;d<r.length;d++){const c=r[d];n[c]=M1(s,l,c,u[c],t,!un(u,c))}}return a}function M1(t,e,n,i,s,r){const a=t[n];if(a!=null){const o=un(a,"default");if(o&&i===void 0){const l=a.default;if(a.type!==Function&&!a.skipFactory&&kt(l)){const{propsDefaults:u}=s;if(n in u)i=u[n];else{const d=Pv(s);i=u[n]=l.call(null,e),d()}}else i=l;s.ce&&s.ce._setProp(n,i)}a[0]&&(r&&!o?i=!1:a[1]&&(i===""||i===Gl(n))&&(i=!0))}return i}const $H=new WeakMap;function AL(t,e,n=!1){const i=n?$H:e.propsCache,s=i.get(t);if(s)return s;const r=t.props,a={},o=[];let l=!1;if(!kt(t)){const d=c=>{l=!0;const[f,h]=AL(c,e,!0);ri(a,f),h&&o.push(...h)};!n&&e.mixins.length&&e.mixins.forEach(d),t.extends&&d(t.extends),t.mixins&&t.mixins.forEach(d)}if(!r&&!l)return En(t)&&i.set(t,Cd),Cd;if(mt(r))for(let d=0;d<r.length;d++){const c=Fs(r[d]);rI(c)&&(a[c]=en)}else if(r)for(const d in r){const c=Fs(d);if(rI(c)){const f=r[d],h=a[c]=mt(f)||kt(f)?{type:f}:ri({},f),g=h.type;let v=!1,p=!0;if(mt(g))for(let _=0;_<g.length;++_){const b=g[_],x=kt(b)&&b.name;if(x==="Boolean"){v=!0;break}else x==="String"&&(p=!1)}else v=kt(g)&&g.name==="Boolean";h[0]=v,h[1]=p,(v||un(h,"default"))&&o.push(c)}}const u=[a,o];return En(t)&&i.set(t,u),u}function rI(t){return t[0]!=="$"&&!$f(t)}const OL=t=>t[0]==="_"||t==="$stable",zk=t=>mt(t)?t.map(Ta):[Ta(t)],UH=(t,e,n)=>{if(e._n)return e;const i=M((...s)=>zk(e(...s)),n);return i._c=!1,i},RL=(t,e,n)=>{const i=t._ctx;for(const s in t){if(OL(s))continue;const r=t[s];if(kt(r))e[s]=UH(s,r,i);else if(r!=null){const a=zk(r);e[s]=()=>a}}},ML=(t,e)=>{const n=zk(e);t.slots.default=()=>n},VL=(t,e,n)=>{for(const i in e)(n||i!=="_")&&(t[i]=e[i])},HH=(t,e,n)=>{const i=t.slots=EL();if(t.vnode.shapeFlag&32){const s=e._;s?(VL(i,e,n),n&&DV(i,"_",s,!0)):RL(e,i)}else e&&ML(t,e)},zH=(t,e,n)=>{const{vnode:i,slots:s}=t;let r=!0,a=en;if(i.shapeFlag&32){const o=e._;o?n&&o===1?r=!1:VL(s,e,n):(r=!e.$stable,RL(e,s)),a=e}else e&&(ML(t,e),a={default:1});if(r)for(const o in s)!OL(o)&&a[o]==null&&delete s[o]},Is=sz;function WH(t){return YH(t)}function YH(t,e){const n=Gy();n.__VUE__=!0;const{insert:i,remove:s,patchProp:r,createElement:a,createText:o,createComment:l,setText:u,setElementText:d,parentNode:c,nextSibling:f,setScopeId:h=Oa,insertStaticContent:g}=t,v=(L,F,K,de=null,ne=null,Se=null,Ve=void 0,ke=null,Le=!!F.dynamicChildren)=>{if(L===F)return;L&&!ku(L,F)&&(de=$(L),ee(L,ne,Se,!0),L=null),F.patchFlag===-2&&(Le=!1,F.dynamicChildren=null);const{type:Ce,ref:Ge,shapeFlag:Be}=F;switch(Ce){case Tv:p(L,F,K,de);break;case bs:_(L,F,K,de);break;case cw:L==null&&b(F,K,de,Ve);break;case Ie:D(L,F,K,de,ne,Se,Ve,ke,Le);break;default:Be&1?I(L,F,K,de,ne,Se,Ve,ke,Le):Be&6?A(L,F,K,de,ne,Se,Ve,ke,Le):(Be&64||Be&128)&&Ce.process(L,F,K,de,ne,Se,Ve,ke,Le,ge)}Ge!=null&&ne&&Jp(Ge,L&&L.ref,Se,F||L,!F)},p=(L,F,K,de)=>{if(L==null)i(F.el=o(F.children),K,de);else{const ne=F.el=L.el;F.children!==L.children&&u(ne,F.children)}},_=(L,F,K,de)=>{L==null?i(F.el=l(F.children||""),K,de):F.el=L.el},b=(L,F,K,de)=>{[L.el,L.anchor]=g(L.children,F,K,de,L.el,L.anchor)},x=({el:L,anchor:F},K,de)=>{let ne;for(;L&&L!==F;)ne=f(L),i(L,K,de),L=ne;i(F,K,de)},k=({el:L,anchor:F})=>{let K;for(;L&&L!==F;)K=f(L),s(L),L=K;s(F)},I=(L,F,K,de,ne,Se,Ve,ke,Le)=>{F.type==="svg"?Ve="svg":F.type==="math"&&(Ve="mathml"),L==null?E(F,K,de,ne,Se,Ve,ke,Le):w(L,F,ne,Se,Ve,ke,Le)},E=(L,F,K,de,ne,Se,Ve,ke)=>{let Le,Ce;const{props:Ge,shapeFlag:Be,transition:Ke,dirs:ze}=L;if(Le=L.el=a(L.type,Se,Ge&&Ge.is,Ge),Be&8?d(Le,L.children):Be&16&&S(L.children,Le,null,de,ne,lw(L,Se),Ve,ke),ze&&hu(L,null,de,"created"),T(Le,L,L.scopeId,Ve,de),Ge){for(const Vt in Ge)Vt!=="value"&&!$f(Vt)&&r(Le,Vt,null,Ge[Vt],Se,de);"value"in Ge&&r(Le,"value",null,Ge.value,Se),(Ce=Ge.onVnodeBeforeMount)&&ba(Ce,de,L)}ze&&hu(L,null,de,"beforeMount");const $e=GH(ne,Ke);$e&&Ke.beforeEnter(Le),i(Le,F,K),((Ce=Ge&&Ge.onVnodeMounted)||$e||ze)&&Is(()=>{Ce&&ba(Ce,de,L),$e&&Ke.enter(Le),ze&&hu(L,null,de,"mounted")},ne)},T=(L,F,K,de,ne)=>{if(K&&h(L,K),de)for(let Se=0;Se<de.length;Se++)h(L,de[Se]);if(ne){let Se=ne.subTree;if(F===Se||jL(Se.type)&&(Se.ssContent===F||Se.ssFallback===F)){const Ve=ne.vnode;T(L,Ve,Ve.scopeId,Ve.slotScopeIds,ne.parent)}}},S=(L,F,K,de,ne,Se,Ve,ke,Le=0)=>{for(let Ce=Le;Ce<L.length;Ce++){const Ge=L[Ce]=ke?ll(L[Ce]):Ta(L[Ce]);v(null,Ge,F,K,de,ne,Se,Ve,ke)}},w=(L,F,K,de,ne,Se,Ve)=>{const ke=F.el=L.el;let{patchFlag:Le,dynamicChildren:Ce,dirs:Ge}=F;Le|=L.patchFlag&16;const Be=L.props||en,Ke=F.props||en;let ze;if(K&&fu(K,!1),(ze=Ke.onVnodeBeforeUpdate)&&ba(ze,K,F,L),Ge&&hu(F,L,K,"beforeUpdate"),K&&fu(K,!0),(Be.innerHTML&&Ke.innerHTML==null||Be.textContent&&Ke.textContent==null)&&d(ke,""),Ce?P(L.dynamicChildren,Ce,ke,K,de,lw(F,ne),Se):Ve||z(L,F,ke,null,K,de,lw(F,ne),Se,!1),Le>0){if(Le&16)C(ke,Be,Ke,K,ne);else if(Le&2&&Be.class!==Ke.class&&r(ke,"class",null,Ke.class,ne),Le&4&&r(ke,"style",Be.style,Ke.style,ne),Le&8){const $e=F.dynamicProps;for(let Vt=0;Vt<$e.length;Vt++){const _t=$e[Vt],li=Be[_t],ae=Ke[_t];(ae!==li||_t==="value")&&r(ke,_t,li,ae,ne,K)}}Le&1&&L.children!==F.children&&d(ke,F.children)}else!Ve&&Ce==null&&C(ke,Be,Ke,K,ne);((ze=Ke.onVnodeUpdated)||Ge)&&Is(()=>{ze&&ba(ze,K,F,L),Ge&&hu(F,L,K,"updated")},de)},P=(L,F,K,de,ne,Se,Ve)=>{for(let ke=0;ke<F.length;ke++){const Le=L[ke],Ce=F[ke],Ge=Le.el&&(Le.type===Ie||!ku(Le,Ce)||Le.shapeFlag&70)?c(Le.el):K;v(Le,Ce,Ge,null,de,ne,Se,Ve,!0)}},C=(L,F,K,de,ne)=>{if(F!==K){if(F!==en)for(const Se in F)!$f(Se)&&!(Se in K)&&r(L,Se,F[Se],null,ne,de);for(const Se in K){if($f(Se))continue;const Ve=K[Se],ke=F[Se];Ve!==ke&&Se!=="value"&&r(L,Se,ke,Ve,ne,de)}"value"in K&&r(L,"value",F.value,K.value,ne)}},D=(L,F,K,de,ne,Se,Ve,ke,Le)=>{const Ce=F.el=L?L.el:o(""),Ge=F.anchor=L?L.anchor:o("");let{patchFlag:Be,dynamicChildren:Ke,slotScopeIds:ze}=F;ze&&(ke=ke?ke.concat(ze):ze),L==null?(i(Ce,K,de),i(Ge,K,de),S(F.children||[],K,Ge,ne,Se,Ve,ke,Le)):Be>0&&Be&64&&Ke&&L.dynamicChildren?(P(L.dynamicChildren,Ke,K,ne,Se,Ve,ke),(F.key!=null||ne&&F===ne.subTree)&&Wk(L,F,!0)):z(L,F,K,Ge,ne,Se,Ve,ke,Le)},A=(L,F,K,de,ne,Se,Ve,ke,Le)=>{F.slotScopeIds=ke,L==null?F.shapeFlag&512?ne.ctx.activate(F,K,de,Ve,Le):N(F,K,de,ne,Se,Ve,Le):B(L,F,Le)},N=(L,F,K,de,ne,Se,Ve)=>{const ke=L.component=uz(L,de,ne);if(Zy(L)&&(ke.ctx.renderer=ge),cz(ke,!1,Ve),ke.asyncDep){if(ne&&ne.registerDep(ke,H,Ve),!L.el){const Le=ke.subTree=m(bs);_(null,Le,F,K)}}else H(ke,L,F,K,ne,Se,Ve)},B=(L,F,K)=>{const de=F.component=L.component;if(nz(L,F,K))if(de.asyncDep&&!de.asyncResolved){G(de,F,K);return}else de.next=F,de.update();else F.el=L.el,de.vnode=F},H=(L,F,K,de,ne,Se,Ve)=>{const ke=()=>{if(L.isMounted){let{next:Be,bu:Ke,u:ze,parent:$e,vnode:Vt}=L;{const Pe=LL(L);if(Pe){Be&&(Be.el=Vt.el,G(L,Be,Ve)),Pe.asyncDep.then(()=>{L.isUnmounted||ke()});return}}let _t=Be,li;fu(L,!1),Be?(Be.el=Vt.el,G(L,Be,Ve)):Be=Vt,Ke&&fp(Ke),(li=Be.props&&Be.props.onVnodeBeforeUpdate)&&ba(li,$e,Be,Vt),fu(L,!0);const ae=uw(L),he=L.subTree;L.subTree=ae,v(he,ae,c(he.el),$(he),L,ne,Se),Be.el=ae.el,_t===null&&iz(L,ae.el),ze&&Is(ze,ne),(li=Be.props&&Be.props.onVnodeUpdated)&&Is(()=>ba(li,$e,Be,Vt),ne)}else{let Be;const{el:Ke,props:ze}=F,{bm:$e,m:Vt,parent:_t,root:li,type:ae}=L,he=Dd(F);if(fu(L,!1),$e&&fp($e),!he&&(Be=ze&&ze.onVnodeBeforeMount)&&ba(Be,_t,F),fu(L,!0),Ke&&ye){const Pe=()=>{L.subTree=uw(L),ye(Ke,L.subTree,L,ne,null)};he&&ae.__asyncHydrate?ae.__asyncHydrate(Ke,L,Pe):Pe()}else{li.ce&&li.ce._injectChildStyle(ae);const Pe=L.subTree=uw(L);v(null,Pe,K,de,L,ne,Se),F.el=Pe.el}if(Vt&&Is(Vt,ne),!he&&(Be=ze&&ze.onVnodeMounted)){const Pe=F;Is(()=>ba(Be,_t,Pe),ne)}(F.shapeFlag&256||_t&&Dd(_t.vnode)&&_t.vnode.shapeFlag&256)&&L.a&&Is(L.a,ne),L.isMounted=!0,F=K=de=null}};L.scope.on();const Le=L.effect=new NV(ke);L.scope.off();const Ce=L.update=Le.run.bind(Le),Ge=L.job=Le.runIfDirty.bind(Le);Ge.i=L,Ge.id=L.uid,Le.scheduler=()=>Nk(Ge),fu(L,!0),Ce()},G=(L,F,K)=>{F.component=L;const de=L.vnode.props;L.vnode=F,L.next=null,jH(L,F.props,de,K),zH(L,F.children,K),ql(),KE(L),Xl()},z=(L,F,K,de,ne,Se,Ve,ke,Le=!1)=>{const Ce=L&&L.children,Ge=L?L.shapeFlag:0,Be=F.children,{patchFlag:Ke,shapeFlag:ze}=F;if(Ke>0){if(Ke&128){W(Ce,Be,K,de,ne,Se,Ve,ke,Le);return}else if(Ke&256){X(Ce,Be,K,de,ne,Se,Ve,ke,Le);return}}ze&8?(Ge&16&&se(Ce,ne,Se),Be!==Ce&&d(K,Be)):Ge&16?ze&16?W(Ce,Be,K,de,ne,Se,Ve,ke,Le):se(Ce,ne,Se,!0):(Ge&8&&d(K,""),ze&16&&S(Be,K,de,ne,Se,Ve,ke,Le))},X=(L,F,K,de,ne,Se,Ve,ke,Le)=>{L=L||Cd,F=F||Cd;const Ce=L.length,Ge=F.length,Be=Math.min(Ce,Ge);let Ke;for(Ke=0;Ke<Be;Ke++){const ze=F[Ke]=Le?ll(F[Ke]):Ta(F[Ke]);v(L[Ke],ze,K,null,ne,Se,Ve,ke,Le)}Ce>Ge?se(L,ne,Se,!0,!1,Be):S(F,K,de,ne,Se,Ve,ke,Le,Be)},W=(L,F,K,de,ne,Se,Ve,ke,Le)=>{let Ce=0;const Ge=F.length;let Be=L.length-1,Ke=Ge-1;for(;Ce<=Be&&Ce<=Ke;){const ze=L[Ce],$e=F[Ce]=Le?ll(F[Ce]):Ta(F[Ce]);if(ku(ze,$e))v(ze,$e,K,null,ne,Se,Ve,ke,Le);else break;Ce++}for(;Ce<=Be&&Ce<=Ke;){const ze=L[Be],$e=F[Ke]=Le?ll(F[Ke]):Ta(F[Ke]);if(ku(ze,$e))v(ze,$e,K,null,ne,Se,Ve,ke,Le);else break;Be--,Ke--}if(Ce>Be){if(Ce<=Ke){const ze=Ke+1,$e=ze<Ge?F[ze].el:de;for(;Ce<=Ke;)v(null,F[Ce]=Le?ll(F[Ce]):Ta(F[Ce]),K,$e,ne,Se,Ve,ke,Le),Ce++}}else if(Ce>Ke)for(;Ce<=Be;)ee(L[Ce],ne,Se,!0),Ce++;else{const ze=Ce,$e=Ce,Vt=new Map;for(Ce=$e;Ce<=Ke;Ce++){const ut=F[Ce]=Le?ll(F[Ce]):Ta(F[Ce]);ut.key!=null&&Vt.set(ut.key,Ce)}let _t,li=0;const ae=Ke-$e+1;let he=!1,Pe=0;const He=new Array(ae);for(Ce=0;Ce<ae;Ce++)He[Ce]=0;for(Ce=ze;Ce<=Be;Ce++){const ut=L[Ce];if(li>=ae){ee(ut,ne,Se,!0);continue}let nt;if(ut.key!=null)nt=Vt.get(ut.key);else for(_t=$e;_t<=Ke;_t++)if(He[_t-$e]===0&&ku(ut,F[_t])){nt=_t;break}nt===void 0?ee(ut,ne,Se,!0):(He[nt-$e]=Ce+1,nt>=Pe?Pe=nt:he=!0,v(ut,F[nt],K,null,ne,Se,Ve,ke,Le),li++)}const lt=he?qH(He):Cd;for(_t=lt.length-1,Ce=ae-1;Ce>=0;Ce--){const ut=$e+Ce,nt=F[ut],nn=ut+1<Ge?F[ut+1].el:de;He[Ce]===0?v(null,nt,K,nn,ne,Se,Ve,ke,Le):he&&(_t<0||Ce!==lt[_t]?Z(nt,K,nn,2):_t--)}}},Z=(L,F,K,de,ne=null)=>{const{el:Se,type:Ve,transition:ke,children:Le,shapeFlag:Ce}=L;if(Ce&6){Z(L.component.subTree,F,K,de);return}if(Ce&128){L.suspense.move(F,K,de);return}if(Ce&64){Ve.move(L,F,K,ge);return}if(Ve===Ie){i(Se,F,K);for(let Be=0;Be<Le.length;Be++)Z(Le[Be],F,K,de);i(L.anchor,F,K);return}if(Ve===cw){x(L,F,K);return}if(de!==2&&Ce&1&&ke)if(de===0)ke.beforeEnter(Se),i(Se,F,K),Is(()=>ke.enter(Se),ne);else{const{leave:Be,delayLeave:Ke,afterLeave:ze}=ke,$e=()=>i(Se,F,K),Vt=()=>{Be(Se,()=>{$e(),ze&&ze()})};Ke?Ke(Se,$e,Vt):Vt()}else i(Se,F,K)},ee=(L,F,K,de=!1,ne=!1)=>{const{type:Se,props:Ve,ref:ke,children:Le,dynamicChildren:Ce,shapeFlag:Ge,patchFlag:Be,dirs:Ke,cacheIndex:ze}=L;if(Be===-2&&(ne=!1),ke!=null&&Jp(ke,null,K,L,!0),ze!=null&&(F.renderCache[ze]=void 0),Ge&256){F.ctx.deactivate(L);return}const $e=Ge&1&&Ke,Vt=!Dd(L);let _t;if(Vt&&(_t=Ve&&Ve.onVnodeBeforeUnmount)&&ba(_t,F,L),Ge&6)ce(L.component,K,de);else{if(Ge&128){L.suspense.unmount(K,de);return}$e&&hu(L,null,F,"beforeUnmount"),Ge&64?L.type.remove(L,F,K,ge,de):Ce&&!Ce.hasOnce&&(Se!==Ie||Be>0&&Be&64)?se(Ce,F,K,!1,!0):(Se===Ie&&Be&384||!ne&&Ge&16)&&se(Le,F,K),de&&le(L)}(Vt&&(_t=Ve&&Ve.onVnodeUnmounted)||$e)&&Is(()=>{_t&&ba(_t,F,L),$e&&hu(L,null,F,"unmounted")},K)},le=L=>{const{type:F,el:K,anchor:de,transition:ne}=L;if(F===Ie){ue(K,de);return}if(F===cw){k(L);return}const Se=()=>{s(K),ne&&!ne.persisted&&ne.afterLeave&&ne.afterLeave()};if(L.shapeFlag&1&&ne&&!ne.persisted){const{leave:Ve,delayLeave:ke}=ne,Le=()=>Ve(K,Se);ke?ke(L.el,Se,Le):Le()}else Se()},ue=(L,F)=>{let K;for(;L!==F;)K=f(L),s(L),L=K;s(F)},ce=(L,F,K)=>{const{bum:de,scope:ne,job:Se,subTree:Ve,um:ke,m:Le,a:Ce}=L;aI(Le),aI(Ce),de&&fp(de),ne.stop(),Se&&(Se.flags|=8,ee(Ve,L,F,K)),ke&&Is(ke,F),Is(()=>{L.isUnmounted=!0},F),F&&F.pendingBranch&&!F.isUnmounted&&L.asyncDep&&!L.asyncResolved&&L.suspenseId===F.pendingId&&(F.deps--,F.deps===0&&F.resolve())},se=(L,F,K,de=!1,ne=!1,Se=0)=>{for(let Ve=Se;Ve<L.length;Ve++)ee(L[Ve],F,K,de,ne)},$=L=>{if(L.shapeFlag&6)return $(L.component.subTree);if(L.shapeFlag&128)return L.suspense.next();const F=f(L.anchor||L.el),K=F&&F[aL];return K?f(K):F};let q=!1;const re=(L,F,K)=>{L==null?F._vnode&&ee(F._vnode,null,null,!0):v(F._vnode||null,L,F,null,null,null,K),F._vnode=L,q||(q=!0,KE(),iL(),q=!1)},ge={p:v,um:ee,m:Z,r:le,mt:N,mc:S,pc:z,pbc:P,n:$,o:t};let fe,ye;return{render:re,hydrate:fe,createApp:FH(re,fe)}}function lw({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function fu({effect:t,job:e},n){n?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function GH(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function Wk(t,e,n=!1){const i=t.children,s=e.children;if(mt(i)&&mt(s))for(let r=0;r<i.length;r++){const a=i[r];let o=s[r];o.shapeFlag&1&&!o.dynamicChildren&&((o.patchFlag<=0||o.patchFlag===32)&&(o=s[r]=ll(s[r]),o.el=a.el),!n&&o.patchFlag!==-2&&Wk(a,o)),o.type===Tv&&(o.el=a.el)}}function qH(t){const e=t.slice(),n=[0];let i,s,r,a,o;const l=t.length;for(i=0;i<l;i++){const u=t[i];if(u!==0){if(s=n[n.length-1],t[s]<u){e[i]=s,n.push(i);continue}for(r=0,a=n.length-1;r<a;)o=r+a>>1,t[n[o]]<u?r=o+1:a=o;u<t[n[r]]&&(r>0&&(e[i]=n[r-1]),n[r]=i)}}for(r=n.length,a=n[r-1];r-- >0;)n[r]=a,a=e[a];return n}function LL(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:LL(e)}function aI(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const XH=Symbol.for("v-scx"),KH=()=>vt(XH);function yn(t,e){return tb(t,null,e)}function QH(t,e){return tb(t,null,{flush:"sync"})}function we(t,e,n){return tb(t,e,n)}function tb(t,e,n=en){const{immediate:i,deep:s,flush:r,once:a}=n,o=ri({},n),l=e&&i||!e&&r!=="post";let u;if(_m){if(r==="sync"){const h=KH();u=h.__watcherHandles||(h.__watcherHandles=[])}else if(!l){const h=()=>{};return h.stop=Oa,h.resume=Oa,h.pause=Oa,h}}const d=Zi;o.call=(h,g,v)=>la(h,d,g,v);let c=!1;r==="post"?o.scheduler=h=>{Is(h,d&&d.suspense)}:r!=="sync"&&(c=!0,o.scheduler=(h,g)=>{g?h():Nk(h)}),o.augmentJob=h=>{e&&(h.flags|=4),c&&(h.flags|=2,d&&(h.id=d.uid,h.i=d))};const f=pH(t,e,o);return _m&&(u?u.push(f):l&&f()),f}function JH(t,e,n){const i=this.proxy,s=Yn(t)?t.includes(".")?NL(i,t):()=>i[t]:t.bind(i,i);let r;kt(e)?r=e:(r=e.handler,n=e);const a=Pv(this),o=tb(s,r.bind(i),n);return a(),o}function NL(t,e){const n=e.split(".");return()=>{let i=t;for(let s=0;s<n.length&&i;s++)i=i[n[s]];return i}}function Al(t,e,n=en){const i=Cc(),s=Fs(e),r=Gl(e),a=FL(t,s),o=dH((l,u)=>{let d,c=en,f;return QH(()=>{const h=t[s];Gs(d,h)&&(d=h,u())}),{get(){return l(),n.get?n.get(d):d},set(h){const g=n.set?n.set(h):h;if(!Gs(g,d)&&!(c!==en&&Gs(h,c)))return;const v=i.vnode.props;v&&(e in v||s in v||r in v)&&(`onUpdate:${e}`in v||`onUpdate:${s}`in v||`onUpdate:${r}`in v)||(d=h,u()),i.emit(`update:${e}`,g),Gs(h,g)&&Gs(h,c)&&!Gs(g,f)&&u(),c=h,f=g}}});return o[Symbol.iterator]=()=>{let l=0;return{next(){return l<2?{value:l++?a||en:o,done:!1}:{done:!0}}}},o}const FL=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${Fs(e)}Modifiers`]||t[`${Gl(e)}Modifiers`];function ZH(t,e,...n){if(t.isUnmounted)return;const i=t.vnode.props||en;let s=n;const r=e.startsWith("update:"),a=r&&FL(i,e.slice(7));a&&(a.trim&&(s=n.map(d=>Yn(d)?d.trim():d)),a.number&&(s=n.map(T1)));let o,l=i[o=tw(e)]||i[o=tw(Fs(e))];!l&&r&&(l=i[o=tw(Gl(e))]),l&&la(l,t,6,s);const u=i[o+"Once"];if(u){if(!t.emitted)t.emitted={};else if(t.emitted[o])return;t.emitted[o]=!0,la(u,t,6,s)}}function BL(t,e,n=!1){const i=e.emitsCache,s=i.get(t);if(s!==void 0)return s;const r=t.emits;let a={},o=!1;if(!kt(t)){const l=u=>{const d=BL(u,e,!0);d&&(o=!0,ri(a,d))};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!r&&!o?(En(t)&&i.set(t,null),null):(mt(r)?r.forEach(l=>a[l]=null):ri(a,r),En(t)&&i.set(t,a),a)}function nb(t,e){return!t||!zy(e)?!1:(e=e.slice(2).replace(/Once$/,""),un(t,e[0].toLowerCase()+e.slice(1))||un(t,Gl(e))||un(t,e))}function uw(t){const{type:e,vnode:n,proxy:i,withProxy:s,propsOptions:[r],slots:a,attrs:o,emit:l,render:u,renderCache:d,props:c,data:f,setupState:h,ctx:g,inheritAttrs:v}=t,p=Qp(t);let _,b;try{if(n.shapeFlag&4){const k=s||i,I=k;_=Ta(u.call(I,k,d,c,h,f,g)),b=o}else{const k=e;_=Ta(k.length>1?k(c,{attrs:o,slots:a,emit:l}):k(c,null)),b=e.props?o:ez(o)}}catch(k){Yf.length=0,Jy(k,t,1),_=m(bs)}let x=_;if(b&&v!==!1){const k=Object.keys(b),{shapeFlag:I}=x;k.length&&I&7&&(r&&k.some(Ck)&&(b=tz(b,r)),x=$a(x,b,!1,!0))}return n.dirs&&(x=$a(x,null,!1,!0),x.dirs=x.dirs?x.dirs.concat(n.dirs):n.dirs),n.transition&&Qu(x,n.transition),_=x,Qp(p),_}const ez=t=>{let e;for(const n in t)(n==="class"||n==="style"||zy(n))&&((e||(e={}))[n]=t[n]);return e},tz=(t,e)=>{const n={};for(const i in t)(!Ck(i)||!(i.slice(9)in e))&&(n[i]=t[i]);return n};function nz(t,e,n){const{props:i,children:s,component:r}=t,{props:a,children:o,patchFlag:l}=e,u=r.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return i?oI(i,a,u):!!a;if(l&8){const d=e.dynamicProps;for(let c=0;c<d.length;c++){const f=d[c];if(a[f]!==i[f]&&!nb(u,f))return!0}}}else return(s||o)&&(!o||!o.$stable)?!0:i===a?!1:i?a?oI(i,a,u):!0:!!a;return!1}function oI(t,e,n){const i=Object.keys(e);if(i.length!==Object.keys(t).length)return!0;for(let s=0;s<i.length;s++){const r=i[s];if(e[r]!==t[r]&&!nb(n,r))return!0}return!1}function iz({vnode:t,parent:e},n){for(;e;){const i=e.subTree;if(i.suspense&&i.suspense.activeBranch===t&&(i.el=t.el),i===t)(t=e.vnode).el=n,e=e.parent;else break}}const jL=t=>t.__isSuspense;function sz(t,e){e&&e.pendingBranch?mt(t)?e.effects.push(...t):e.effects.push(t):bH(t)}const Ie=Symbol.for("v-fgt"),Tv=Symbol.for("v-txt"),bs=Symbol.for("v-cmt"),cw=Symbol.for("v-stc"),Yf=[];let hr=null;function be(t=!1){Yf.push(hr=t?null:[])}function rz(){Yf.pop(),hr=Yf[Yf.length-1]||null}let pm=1;function lI(t,e=!1){pm+=t,t<0&&hr&&e&&(hr.hasOnce=!0)}function $L(t){return t.dynamicChildren=pm>0?hr||Cd:null,rz(),pm>0&&hr&&hr.push(t),t}function wt(t,e,n,i,s,r){return $L(Re(t,e,n,i,s,r,!0))}function De(t,e,n,i,s){return $L(m(t,e,n,i,s,!0))}function Ol(t){return t?t.__v_isVNode===!0:!1}function ku(t,e){return t.type===e.type&&t.key===e.key}const UL=({key:t})=>t??null,vp=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?Yn(t)||Je(t)||kt(t)?{i:$i,r:t,k:e,f:!!n}:t:null);function Re(t,e=null,n=null,i=0,s=null,r=t===Ie?0:1,a=!1,o=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&UL(e),ref:e&&vp(e),scopeId:rL,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:i,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:$i};return o?(Gk(l,n),r&128&&t.normalize(l)):n&&(l.shapeFlag|=Yn(n)?8:16),pm>0&&!a&&hr&&(l.patchFlag>0||r&6)&&l.patchFlag!==32&&hr.push(l),l}const m=az;function az(t,e=null,n=null,i=0,s=null,r=!1){if((!t||t===wL)&&(t=bs),Ol(t)){const o=$a(t,e,!0);return n&&Gk(o,n),pm>0&&!r&&hr&&(o.shapeFlag&6?hr[hr.indexOf(t)]=o:hr.push(o)),o.patchFlag=-2,o}if(vz(t)&&(t=t.__vccOpts),e){e=Yk(e);let{class:o,style:l}=e;o&&!Yn(o)&&(e.class=Xy(o)),En(l)&&(Vk(l)&&!mt(l)&&(l=ri({},l)),e.style=qy(l))}const a=Yn(t)?1:jL(t)?128:oL(t)?64:En(t)?4:kt(t)?2:0;return Re(t,e,n,i,s,a,r,!0)}function Yk(t){return t?Vk(t)||IL(t)?ri({},t):t:null}function $a(t,e,n=!1,i=!1){const{props:s,ref:r,patchFlag:a,children:o,transition:l}=t,u=e?J(s||{},e):s,d={__v_isVNode:!0,__v_skip:!0,type:t.type,props:u,key:u&&UL(u),ref:e&&e.ref?n&&r?mt(r)?r.concat(vp(e)):[r,vp(e)]:vp(e):r,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:o,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Ie?a===-1?16:a|16:a,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&$a(t.ssContent),ssFallback:t.ssFallback&&$a(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&i&&Qu(d,l.clone(d)),d}function Ee(t=" ",e=0){return m(Tv,null,t,e)}function Yt(t="",e=!1){return e?(be(),De(bs,null,t)):m(bs,null,t)}function Ta(t){return t==null||typeof t=="boolean"?m(bs):mt(t)?m(Ie,null,t.slice()):Ol(t)?ll(t):m(Tv,null,String(t))}function ll(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:$a(t)}function Gk(t,e){let n=0;const{shapeFlag:i}=t;if(e==null)e=null;else if(mt(e))n=16;else if(typeof e=="object")if(i&65){const s=e.default;s&&(s._c&&(s._d=!1),Gk(t,s()),s._c&&(s._d=!0));return}else{n=32;const s=e._;!s&&!IL(e)?e._ctx=$i:s===3&&$i&&($i.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else kt(e)?(e={default:e,_ctx:$i},n=32):(e=String(e),i&64?(n=16,e=[Ee(e)]):n=8);t.children=e,t.shapeFlag|=n}function J(...t){const e={};for(let n=0;n<t.length;n++){const i=t[n];for(const s in i)if(s==="class")e.class!==i.class&&(e.class=Xy([e.class,i.class]));else if(s==="style")e.style=qy([e.style,i.style]);else if(zy(s)){const r=e[s],a=i[s];a&&r!==a&&!(mt(r)&&r.includes(a))&&(e[s]=r?[].concat(r,a):a)}else s!==""&&(e[s]=i[s])}return e}function ba(t,e,n,i=null){la(t,e,7,[n,i])}const oz=PL();let lz=0;function uz(t,e,n){const i=t.type,s=(e?e.appContext:t.appContext)||oz,r={uid:lz++,vnode:t,type:i,parent:e,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new VV(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(s.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:AL(i,s),emitsOptions:BL(i,s),emit:null,emitted:null,propsDefaults:en,inheritAttrs:i.inheritAttrs,ctx:en,data:en,props:en,attrs:en,slots:en,refs:en,setupState:en,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return r.ctx={_:r},r.root=e?e.root:r,r.emit=ZH.bind(null,r),t.ce&&t.ce(r),r}let Zi=null;const Cc=()=>Zi||$i;let t_,V1;{const t=Gy(),e=(n,i)=>{let s;return(s=t[n])||(s=t[n]=[]),s.push(i),r=>{s.length>1?s.forEach(a=>a(r)):s[0](r)}};t_=e("__VUE_INSTANCE_SETTERS__",n=>Zi=n),V1=e("__VUE_SSR_SETTERS__",n=>_m=n)}const Pv=t=>{const e=Zi;return t_(t),t.scope.on(),()=>{t.scope.off(),t_(e)}},uI=()=>{Zi&&Zi.scope.off(),t_(null)};function HL(t){return t.vnode.shapeFlag&4}let _m=!1;function cz(t,e=!1,n=!1){e&&V1(e);const{props:i,children:s}=t.vnode,r=HL(t);BH(t,i,r,e),HH(t,s,n);const a=r?dz(t,e):void 0;return e&&V1(!1),a}function dz(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,AH);const{setup:i}=n;if(i){ql();const s=t.setupContext=i.length>1?fz(t):null,r=Pv(t),a=kv(i,t,0,[t.props,s]),o=CV(a);if(Xl(),r(),(o||t.sp)&&!Dd(t)&&gL(t),o){if(a.then(uI,uI),e)return a.then(l=>{cI(t,l,e)}).catch(l=>{Jy(l,t,0)});t.asyncDep=a}else cI(t,a,e)}else zL(t,e)}function cI(t,e,n){kt(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:En(e)&&(t.setupState=ZV(e)),zL(t,n)}let dI;function zL(t,e,n){const i=t.type;if(!t.render){if(!e&&dI&&!i.render){const s=i.template||Hk(t).template;if(s){const{isCustomElement:r,compilerOptions:a}=t.appContext.config,{delimiters:o,compilerOptions:l}=i,u=ri(ri({isCustomElement:r,delimiters:o},a),l);i.render=dI(s,u)}}t.render=i.render||Oa}{const s=Pv(t);ql();try{OH(t)}finally{Xl(),s()}}}const hz={get(t,e){return vs(t,"get",""),t[e]}};function fz(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,hz),slots:t.slots,emit:t.emit,expose:e}}function ib(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(ZV(Lk(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in Wf)return Wf[n](t)},has(e,n){return n in e||n in Wf}})):t.proxy}function mz(t,e=!0){return kt(t)?t.displayName||t.name:t.name||e&&t.__name}function vz(t){return kt(t)&&"__vccOpts"in t}const R=(t,e)=>vH(t,e,_m);function Ai(t,e,n){const i=arguments.length;return i===2?En(e)&&!mt(e)?Ol(e)?m(t,null,[e]):m(t,e):m(t,null,e):(i>3?n=Array.prototype.slice.call(arguments,2):i===3&&Ol(n)&&(n=[n]),m(t,e,n))}const gz="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let L1;const hI=typeof window<"u"&&window.trustedTypes;if(hI)try{L1=hI.createPolicy("vue",{createHTML:t=>t})}catch{}const WL=L1?t=>L1.createHTML(t):t=>t,pz="http://www.w3.org/2000/svg",_z="http://www.w3.org/1998/Math/MathML",uo=typeof document<"u"?document:null,fI=uo&&uo.createElement("template"),yz={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,i)=>{const s=e==="svg"?uo.createElementNS(pz,t):e==="mathml"?uo.createElementNS(_z,t):n?uo.createElement(t,{is:n}):uo.createElement(t);return t==="select"&&i&&i.multiple!=null&&s.setAttribute("multiple",i.multiple),s},createText:t=>uo.createTextNode(t),createComment:t=>uo.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>uo.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,i,s,r){const a=n?n.previousSibling:e.lastChild;if(s&&(s===r||s.nextSibling))for(;e.insertBefore(s.cloneNode(!0),n),!(s===r||!(s=s.nextSibling)););else{fI.innerHTML=WL(i==="svg"?`<svg>${t}</svg>`:i==="mathml"?`<math>${t}</math>`:t);const o=fI.content;if(i==="svg"||i==="mathml"){const l=o.firstChild;for(;l.firstChild;)o.appendChild(l.firstChild);o.removeChild(l)}e.insertBefore(o,n)}return[a?a.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},el="transition",mf="animation",zd=Symbol("_vtc"),YL={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},GL=ri({},hL,YL),bz=t=>(t.displayName="Transition",t.props=GL,t),Rl=bz((t,{slots:e})=>Ai(SH,qL(t),e)),mu=(t,e=[])=>{mt(t)?t.forEach(n=>n(...e)):t&&t(...e)},mI=t=>t?mt(t)?t.some(e=>e.length>1):t.length>1:!1;function qL(t){const e={};for(const D in t)D in YL||(e[D]=t[D]);if(t.css===!1)return e;const{name:n="v",type:i,duration:s,enterFromClass:r=`${n}-enter-from`,enterActiveClass:a=`${n}-enter-active`,enterToClass:o=`${n}-enter-to`,appearFromClass:l=r,appearActiveClass:u=a,appearToClass:d=o,leaveFromClass:c=`${n}-leave-from`,leaveActiveClass:f=`${n}-leave-active`,leaveToClass:h=`${n}-leave-to`}=t,g=wz(s),v=g&&g[0],p=g&&g[1],{onBeforeEnter:_,onEnter:b,onEnterCancelled:x,onLeave:k,onLeaveCancelled:I,onBeforeAppear:E=_,onAppear:T=b,onAppearCancelled:S=x}=e,w=(D,A,N,B)=>{D._enterCancelled=B,il(D,A?d:o),il(D,A?u:a),N&&N()},P=(D,A)=>{D._isLeaving=!1,il(D,c),il(D,h),il(D,f),A&&A()},C=D=>(A,N)=>{const B=D?T:b,H=()=>w(A,D,N);mu(B,[A,H]),vI(()=>{il(A,D?l:r),xa(A,D?d:o),mI(B)||gI(A,i,v,H)})};return ri(e,{onBeforeEnter(D){mu(_,[D]),xa(D,r),xa(D,a)},onBeforeAppear(D){mu(E,[D]),xa(D,l),xa(D,u)},onEnter:C(!1),onAppear:C(!0),onLeave(D,A){D._isLeaving=!0;const N=()=>P(D,A);xa(D,c),D._enterCancelled?(xa(D,f),N1()):(N1(),xa(D,f)),vI(()=>{D._isLeaving&&(il(D,c),xa(D,h),mI(k)||gI(D,i,p,N))}),mu(k,[D,N])},onEnterCancelled(D){w(D,!1,void 0,!0),mu(x,[D])},onAppearCancelled(D){w(D,!0,void 0,!0),mu(S,[D])},onLeaveCancelled(D){P(D),mu(I,[D])}})}function wz(t){if(t==null)return null;if(En(t))return[dw(t.enter),dw(t.leave)];{const e=dw(t);return[e,e]}}function dw(t){return L9(t)}function xa(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t[zd]||(t[zd]=new Set)).add(e)}function il(t,e){e.split(/\s+/).forEach(i=>i&&t.classList.remove(i));const n=t[zd];n&&(n.delete(e),n.size||(t[zd]=void 0))}function vI(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let xz=0;function gI(t,e,n,i){const s=t._endId=++xz,r=()=>{s===t._endId&&i()};if(n!=null)return setTimeout(r,n);const{type:a,timeout:o,propCount:l}=XL(t,e);if(!a)return i();const u=a+"end";let d=0;const c=()=>{t.removeEventListener(u,f),r()},f=h=>{h.target===t&&++d>=l&&c()};setTimeout(()=>{d<l&&c()},o+1),t.addEventListener(u,f)}function XL(t,e){const n=window.getComputedStyle(t),i=g=>(n[g]||"").split(", "),s=i(`${el}Delay`),r=i(`${el}Duration`),a=pI(s,r),o=i(`${mf}Delay`),l=i(`${mf}Duration`),u=pI(o,l);let d=null,c=0,f=0;e===el?a>0&&(d=el,c=a,f=r.length):e===mf?u>0&&(d=mf,c=u,f=l.length):(c=Math.max(a,u),d=c>0?a>u?el:mf:null,f=d?d===el?r.length:l.length:0);const h=d===el&&/\b(transform|all)(,|$)/.test(i(`${el}Property`).toString());return{type:d,timeout:c,propCount:f,hasTransform:h}}function pI(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,i)=>_I(n)+_I(t[i])))}function _I(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function N1(){return document.body.offsetHeight}function Sz(t,e,n){const i=t[zd];i&&(e=(e?[e,...i]:[...i]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const n_=Symbol("_vod"),KL=Symbol("_vsh"),_a={beforeMount(t,{value:e},{transition:n}){t[n_]=t.style.display==="none"?"":t.style.display,n&&e?n.beforeEnter(t):vf(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:i}){!e!=!n&&(i?e?(i.beforeEnter(t),vf(t,!0),i.enter(t)):i.leave(t,()=>{vf(t,!1)}):vf(t,e))},beforeUnmount(t,{value:e}){vf(t,e)}};function vf(t,e){t.style.display=e?t[n_]:"none",t[KL]=!e}const kz=Symbol(""),Tz=/(^|;)\s*display\s*:/;function Pz(t,e,n){const i=t.style,s=Yn(n);let r=!1;if(n&&!s){if(e)if(Yn(e))for(const a of e.split(";")){const o=a.slice(0,a.indexOf(":")).trim();n[o]==null&&gp(i,o,"")}else for(const a in e)n[a]==null&&gp(i,a,"");for(const a in n)a==="display"&&(r=!0),gp(i,a,n[a])}else if(s){if(e!==n){const a=i[kz];a&&(n+=";"+a),i.cssText=n,r=Tz.test(n)}}else e&&t.removeAttribute("style");n_ in t&&(t[n_]=r?i.display:"",t[KL]&&(i.display="none"))}const yI=/\s*!important$/;function gp(t,e,n){if(mt(n))n.forEach(i=>gp(t,e,i));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const i=Cz(t,e);yI.test(n)?t.setProperty(Gl(i),n.replace(yI,""),"important"):t[i]=n}}const bI=["Webkit","Moz","ms"],hw={};function Cz(t,e){const n=hw[e];if(n)return n;let i=Fs(e);if(i!=="filter"&&i in t)return hw[e]=i;i=pa(i);for(let s=0;s<bI.length;s++){const r=bI[s]+i;if(r in t)return hw[e]=r}return e}const wI="http://www.w3.org/1999/xlink";function xI(t,e,n,i,s,r=U9(e)){i&&e.startsWith("xlink:")?n==null?t.removeAttributeNS(wI,e.slice(6,e.length)):t.setAttributeNS(wI,e,n):n==null||r&&!OV(n)?t.removeAttribute(e):t.setAttribute(e,r?"":Bo(n)?String(n):n)}function SI(t,e,n,i,s){if(e==="innerHTML"||e==="textContent"){n!=null&&(t[e]=e==="innerHTML"?WL(n):n);return}const r=t.tagName;if(e==="value"&&r!=="PROGRESS"&&!r.includes("-")){const o=r==="OPTION"?t.getAttribute("value")||"":t.value,l=n==null?t.type==="checkbox"?"on":"":String(n);(o!==l||!("_value"in t))&&(t.value=l),n==null&&t.removeAttribute(e),t._value=n;return}let a=!1;if(n===""||n==null){const o=typeof t[e];o==="boolean"?n=OV(n):n==null&&o==="string"?(n="",a=!0):o==="number"&&(n=0,a=!0)}try{t[e]=n}catch{}a&&t.removeAttribute(s||e)}function dd(t,e,n,i){t.addEventListener(e,n,i)}function Ez(t,e,n,i){t.removeEventListener(e,n,i)}const kI=Symbol("_vei");function Iz(t,e,n,i,s=null){const r=t[kI]||(t[kI]={}),a=r[e];if(i&&a)a.value=i;else{const[o,l]=Dz(e);if(i){const u=r[e]=Rz(i,s);dd(t,o,u,l)}else a&&(Ez(t,o,a,l),r[e]=void 0)}}const TI=/(?:Once|Passive|Capture)$/;function Dz(t){let e;if(TI.test(t)){e={};let i;for(;i=t.match(TI);)t=t.slice(0,t.length-i[0].length),e[i[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Gl(t.slice(2)),e]}let fw=0;const Az=Promise.resolve(),Oz=()=>fw||(Az.then(()=>fw=0),fw=Date.now());function Rz(t,e){const n=i=>{if(!i._vts)i._vts=Date.now();else if(i._vts<=n.attached)return;la(Mz(i,n.value),e,5,[i])};return n.value=t,n.attached=Oz(),n}function Mz(t,e){if(mt(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(i=>s=>!s._stopped&&i&&i(s))}else return e}const PI=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,Vz=(t,e,n,i,s,r)=>{const a=s==="svg";e==="class"?Sz(t,i,a):e==="style"?Pz(t,n,i):zy(e)?Ck(e)||Iz(t,e,n,i,r):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):Lz(t,e,i,a))?(SI(t,e,i),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&xI(t,e,i,a,r,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!Yn(i))?SI(t,Fs(e),i,r,e):(e==="true-value"?t._trueValue=i:e==="false-value"&&(t._falseValue=i),xI(t,e,i,a))};function Lz(t,e,n,i){if(i)return!!(e==="innerHTML"||e==="textContent"||e in t&&PI(e)&&kt(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const s=t.tagName;if(s==="IMG"||s==="VIDEO"||s==="CANVAS"||s==="SOURCE")return!1}return PI(e)&&Yn(n)?!1:e in t}const QL=new WeakMap,JL=new WeakMap,i_=Symbol("_moveCb"),CI=Symbol("_enterCb"),Nz=t=>(delete t.props.mode,t),Fz=Nz({name:"TransitionGroup",props:ri({},GL,{tag:String,moveClass:String}),setup(t,{slots:e}){const n=Cc(),i=dL();let s,r;return jk(()=>{if(!s.length)return;const a=t.moveClass||`${t.name||"v"}-move`;if(!Uz(s[0].el,n.vnode.el,a))return;s.forEach(Bz),s.forEach(jz);const o=s.filter($z);N1(),o.forEach(l=>{const u=l.el,d=u.style;xa(u,a),d.transform=d.webkitTransform=d.transitionDuration="";const c=u[i_]=f=>{f&&f.target!==u||(!f||/transform$/.test(f.propertyName))&&(u.removeEventListener("transitionend",c),u[i_]=null,il(u,a))};u.addEventListener("transitionend",c)})}),()=>{const a=Qe(t),o=qL(a);let l=a.tag||Ie;if(s=[],r)for(let u=0;u<r.length;u++){const d=r[u];d.el&&d.el instanceof Element&&(s.push(d),Qu(d,gm(d,o,i,n)),QL.set(d,d.el.getBoundingClientRect()))}r=e.default?Fk(e.default()):[];for(let u=0;u<r.length;u++){const d=r[u];d.key!=null&&Qu(d,gm(d,o,i,n))}return m(l,null,r)}}}),qk=Fz;function Bz(t){const e=t.el;e[i_]&&e[i_](),e[CI]&&e[CI]()}function jz(t){JL.set(t,t.el.getBoundingClientRect())}function $z(t){const e=QL.get(t),n=JL.get(t),i=e.left-n.left,s=e.top-n.top;if(i||s){const r=t.el.style;return r.transform=r.webkitTransform=`translate(${i}px,${s}px)`,r.transitionDuration="0s",t}}function Uz(t,e,n){const i=t.cloneNode(),s=t[zd];s&&s.forEach(o=>{o.split(/\s+/).forEach(l=>l&&i.classList.remove(l))}),n.split(/\s+/).forEach(o=>o&&i.classList.add(o)),i.style.display="none";const r=e.nodeType===1?e:e.parentNode;r.appendChild(i);const{hasTransform:a}=XL(i);return r.removeChild(i),a}const EI=t=>{const e=t.props["onUpdate:modelValue"]||!1;return mt(e)?n=>fp(e,n):e};function Hz(t){t.target.composing=!0}function II(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const mw=Symbol("_assign"),zz={created(t,{modifiers:{lazy:e,trim:n,number:i}},s){t[mw]=EI(s);const r=i||s.props&&s.props.type==="number";dd(t,e?"change":"input",a=>{if(a.target.composing)return;let o=t.value;n&&(o=o.trim()),r&&(o=T1(o)),t[mw](o)}),n&&dd(t,"change",()=>{t.value=t.value.trim()}),e||(dd(t,"compositionstart",Hz),dd(t,"compositionend",II),dd(t,"change",II))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:n,modifiers:{lazy:i,trim:s,number:r}},a){if(t[mw]=EI(a),t.composing)return;const o=(r||t.type==="number")&&!/^0\d/.test(t.value)?T1(t.value):t.value,l=e??"";o!==l&&(document.activeElement===t&&t.type!=="range"&&(i&&e===n||s&&t.value.trim()===l)||(t.value=l))}},Wz=["ctrl","shift","alt","meta"],Yz={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>Wz.some(n=>t[`${n}Key`]&&!e.includes(n))},Ju=(t,e)=>{const n=t._withMods||(t._withMods={}),i=e.join(".");return n[i]||(n[i]=(s,...r)=>{for(let a=0;a<e.length;a++){const o=Yz[e[a]];if(o&&o(s,e))return}return t(s,...r)})},Gz=ri({patchProp:Vz},yz);let DI;function ZL(){return DI||(DI=WH(Gz))}const e2=(...t)=>{ZL().render(...t)},t2=(...t)=>{const e=ZL().createApp(...t),{mount:n}=e;return e.mount=i=>{const s=Xz(i);if(!s)return;const r=e._component;!kt(r)&&!r.render&&!r.template&&(r.template=s.innerHTML),s.nodeType===1&&(s.textContent="");const a=n(s,!1,qz(s));return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),a},e};function qz(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function Xz(t){return Yn(t)?document.querySelector(t):t}var Kz=!1;/*!
 * pinia v2.3.0
 * (c) 2024 Eduardo San Martin Morote
 * @license MIT
 */const Qz=Symbol();var AI;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(AI||(AI={}));function Jz(){const t=Sv(!0),e=t.run(()=>Y({}));let n=[],i=[];const s=Lk({install(r){s._a=r,r.provide(Qz,s),r.config.globalProperties.$pinia=s,i.forEach(a=>n.push(a)),i=[]},use(r){return!this._a&&!Kz?i.push(r):n.push(r),this},_p:n,_a:null,_e:t,_s:new Map,state:e});return s}const Cv={TOP_LEFT:"top-left",TOP_RIGHT:"top-right",TOP_CENTER:"top-center",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",BOTTOM_CENTER:"bottom-center"},Wd={LIGHT:"light",DARK:"dark",COLORED:"colored",AUTO:"auto"},Bs={INFO:"info",SUCCESS:"success",WARNING:"warning",ERROR:"error",DEFAULT:"default"},Zz={BOUNCE:"bounce",SLIDE:"slide",FLIP:"flip",ZOOM:"zoom",NONE:"none"},n2={dangerouslyHTMLString:!1,multiple:!0,position:Cv.TOP_RIGHT,autoClose:5e3,transition:"bounce",hideProgressBar:!1,pauseOnHover:!0,pauseOnFocusLoss:!0,closeOnClick:!0,className:"",bodyClassName:"",style:{},progressClassName:"",progressStyle:{},role:"alert",theme:"light"},e8={rtl:!1,newestOnTop:!1,toastClassName:""},i2={...n2,...e8};({...n2,type:Bs.DEFAULT});var cn=(t=>(t[t.COLLAPSE_DURATION=300]="COLLAPSE_DURATION",t[t.DEBOUNCE_DURATION=50]="DEBOUNCE_DURATION",t.CSS_NAMESPACE="Toastify",t))(cn||{}),F1=(t=>(t.ENTRANCE_ANIMATION_END="d",t))(F1||{});const t8={enter:"Toastify--animate Toastify__bounce-enter",exit:"Toastify--animate Toastify__bounce-exit",appendPosition:!0},n8={enter:"Toastify--animate Toastify__slide-enter",exit:"Toastify--animate Toastify__slide-exit",appendPosition:!0},i8={enter:"Toastify--animate Toastify__zoom-enter",exit:"Toastify--animate Toastify__zoom-exit"},s8={enter:"Toastify--animate Toastify__flip-enter",exit:"Toastify--animate Toastify__flip-exit"},OI="Toastify--animate Toastify__none-enter";function s2(t,e=!1){var n;let i=t8;if(!t||typeof t=="string")switch(t){case"flip":i=s8;break;case"zoom":i=i8;break;case"slide":i=n8;break}else i=t;if(e)i.enter=OI;else if(i.enter===OI){const s=(n=i.exit.split("__")[1])==null?void 0:n.split("-")[0];i.enter=`Toastify--animate Toastify__${s}-enter`}return i}function r8(t){return t.containerId||String(t.position)}const sb="will-unmount";function a8(t=Cv.TOP_RIGHT){return!!document.querySelector(`.${cn.CSS_NAMESPACE}__toast-container--${t}`)}function o8(t=Cv.TOP_RIGHT){return`${cn.CSS_NAMESPACE}__toast-container--${t}`}function l8(t,e,n=!1){const i=[`${cn.CSS_NAMESPACE}__toast-container`,`${cn.CSS_NAMESPACE}__toast-container--${t}`,n?`${cn.CSS_NAMESPACE}__toast-container--rtl`:null].filter(Boolean).join(" ");return Od(e)?e({position:t,rtl:n,defaultClassName:i}):`${i} ${e||""}`}function u8(t){var e;const{position:n,containerClassName:i,rtl:s=!1,style:r={}}=t,a=cn.CSS_NAMESPACE,o=o8(n),l=document.querySelector(`.${a}`),u=document.querySelector(`.${o}`),d=!!u&&!((e=u.className)!=null&&e.includes(sb)),c=l||document.createElement("div"),f=document.createElement("div");f.className=l8(n,i,s),f.dataset.testid=`${cn.CSS_NAMESPACE}__toast-container--${n}`,f.id=r8(t);for(const h in r)if(Object.prototype.hasOwnProperty.call(r,h)){const g=r[h];f.style[h]=g}return l||(c.className=cn.CSS_NAMESPACE,document.body.appendChild(c)),d||c.appendChild(f),f}function B1(t){var e,n,i;const s=typeof t=="string"?t:((e=t.currentTarget)==null?void 0:e.id)||((n=t.target)==null?void 0:n.id),r=document.getElementById(s);r&&r.removeEventListener("animationend",B1,!1);try{ym[s].unmount(),(i=document.getElementById(s))==null||i.remove(),delete ym[s],delete Xi[s]}catch{}}const ym=vn({});function c8(t,e){const n=document.getElementById(String(e));n&&(ym[n.id]=t)}function j1(t,e=!0){const n=String(t);if(!ym[n])return;const i=document.getElementById(n);i&&i.classList.add(sb),e?(h8(t),i&&i.addEventListener("animationend",B1,!1)):B1(n),Ua.items=Ua.items.filter(s=>s.containerId!==t)}function d8(t){for(const e in ym)j1(e,t);Ua.items=[]}function r2(t,e){const n=document.getElementById(t.toastId);if(n){let i=t;i={...i,...s2(i.transition)};const s=i.appendPosition?`${i.exit}--${i.position}`:i.exit;n.className+=` ${s}`,e&&e(n)}}function h8(t){for(const e in Xi)if(e===t)for(const n of Xi[e]||[])r2(n)}function f8(t){const e=Yd().find(n=>n.toastId===t);return e==null?void 0:e.containerId}function Xk(t){return document.getElementById(t)}function m8(t){const e=Xk(t.containerId);return e&&e.classList.contains(sb)}function RI(t){var e;const n=Ol(t.content)?Qe(t.content.props):null;return n??Qe((e=t.data)!=null?e:{})}function v8(t){return t?Ua.items.filter(e=>e.containerId===t).length>0:Ua.items.length>0}function g8(){if(Ua.items.length>0){const t=Ua.items.shift();pp(t==null?void 0:t.toastContent,t==null?void 0:t.toastProps)}}const Xi=vn({}),Ua=vn({items:[]});function Yd(){const t=Qe(Xi);return Object.values(t).reduce((e,n)=>[...e,...n],[])}function p8(t){return Yd().find(e=>e.toastId===t)}function pp(t,e={}){if(m8(e)){const n=Xk(e.containerId);n&&n.addEventListener("animationend",$1.bind(null,t,e),!1)}else $1(t,e)}function $1(t,e={}){const n=Xk(e.containerId);n&&n.removeEventListener("animationend",$1.bind(null,t,e),!1);const i=Xi[e.containerId]||[],s=i.length>0;if(!s&&!a8(e.position)){const r=u8(e),a=t2(N8,e);e.useHandler&&e.useHandler(a),a.mount(r),c8(a,r.id)}s&&!e.updateId&&(e.position=i[0].position),pt(()=>{e.updateId?ur.update(e):ur.add(t,e)})}const ur={add(t,e){const{containerId:n=""}=e;n&&(Xi[n]=Xi[n]||[],Xi[n].find(i=>i.toastId===e.toastId)||setTimeout(()=>{var i,s;e.newestOnTop?(i=Xi[n])==null||i.unshift(e):(s=Xi[n])==null||s.push(e),e.onOpen&&e.onOpen(RI(e))},e.delay||0))},remove(t){if(t){const e=f8(t);if(e){const n=Xi[e];let i=n.find(s=>s.toastId===t);Xi[e]=n.filter(s=>s.toastId!==t),!Xi[e].length&&!v8(e)&&j1(e,!1),g8(),pt(()=>{i!=null&&i.onClose&&(i.onClose(RI(i)),i=void 0)})}}},update(t={}){const{containerId:e=""}=t;if(e&&t.updateId){Xi[e]=Xi[e]||[];const n=Xi[e].find(r=>r.toastId===t.toastId),i=(n==null?void 0:n.position)!==t.position||(n==null?void 0:n.transition)!==t.transition,s={...t,disabledEnterTransition:!i,updateId:void 0};ur.dismissForce(t==null?void 0:t.toastId),setTimeout(()=>{et(s.content,s)},t.delay||0)}},clear(t,e=!0){t?j1(t,e):d8(e)},dismissCallback(t){var e;const n=(e=t.currentTarget)==null?void 0:e.id,i=document.getElementById(n);i&&(i.removeEventListener("animationend",ur.dismissCallback,!1),setTimeout(()=>{ur.remove(n)}))},dismiss(t){if(t){const e=Yd();for(const n of e)if(n.toastId===t){r2(n,i=>{i.addEventListener("animationend",ur.dismissCallback,!1)});break}}},dismissForce(t){if(t){const e=Yd();for(const n of e)if(n.toastId===t){const i=document.getElementById(t);i&&(i.remove(),i.removeEventListener("animationend",ur.dismissCallback,!1),ur.remove(t));break}}}},_8=vn({useHandler:void 0}),a2=vn({}),s_=vn({});function o2(){return Math.random().toString(36).substring(2,9)}function y8(t){return typeof t=="number"&&!isNaN(t)}function U1(t){return typeof t=="string"}function Od(t){return typeof t=="function"}function rb(...t){return J(...t)}function _p(t){return typeof t=="object"&&(!!(t!=null&&t.render)||!!(t!=null&&t.setup)||typeof(t==null?void 0:t.type)=="object")}function b8(t={}){a2[`${cn.CSS_NAMESPACE}-default-options`]=t}function w8(){return a2[`${cn.CSS_NAMESPACE}-default-options`]||i2}function x8(){const t=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches;return document.documentElement.classList.contains("dark")||t?"dark":"light"}var yp=(t=>(t[t.Enter=0]="Enter",t[t.Exit=1]="Exit",t))(yp||{});const l2={containerId:{type:[String,Number],required:!1,default:""},clearOnUrlChange:{type:Boolean,required:!1,default:!0},disabledEnterTransition:{type:Boolean,required:!1,default:!1},dangerouslyHTMLString:{type:Boolean,required:!1,default:!1},multiple:{type:Boolean,required:!1,default:!0},limit:{type:Number,required:!1,default:void 0},position:{type:String,required:!1,default:Cv.TOP_LEFT},bodyClassName:{type:String,required:!1,default:""},autoClose:{type:[Number,Boolean],required:!1,default:!1},closeButton:{type:[Boolean,Function,Object],required:!1,default:void 0},transition:{type:[String,Object],required:!1,default:"bounce"},hideProgressBar:{type:Boolean,required:!1,default:!1},pauseOnHover:{type:Boolean,required:!1,default:!0},pauseOnFocusLoss:{type:Boolean,required:!1,default:!0},closeOnClick:{type:Boolean,required:!1,default:!0},progress:{type:Number,required:!1,default:void 0},progressClassName:{type:String,required:!1,default:""},toastStyle:{type:Object,required:!1,default(){return{}}},progressStyle:{type:Object,required:!1,default(){return{}}},role:{type:String,required:!1,default:"alert"},theme:{type:String,required:!1,default:Wd.AUTO},content:{type:[String,Object,Function],required:!1,default:""},toastId:{type:[String,Number],required:!1,default:""},data:{type:[Object,String],required:!1,default(){return{}}},type:{type:String,required:!1,default:Bs.DEFAULT},icon:{type:[Boolean,String,Number,Object,Function],required:!1,default:void 0},delay:{type:Number,required:!1,default:void 0},onOpen:{type:Function,required:!1,default:void 0},onClose:{type:Function,required:!1,default:void 0},onClick:{type:Function,required:!1,default:void 0},isLoading:{type:Boolean,required:!1,default:void 0},rtl:{type:Boolean,required:!1,default:!1},toastClassName:{type:String,required:!1,default:""},updateId:{type:[String,Number],required:!1,default:""},contentProps:{type:Object,required:!1,default:null},expandCustomProps:{type:Boolean,required:!1,default:!1}},S8={autoClose:{type:[Number,Boolean],required:!0},isRunning:{type:Boolean,required:!1,default:void 0},type:{type:String,required:!1,default:Bs.DEFAULT},theme:{type:String,required:!1,default:Wd.AUTO},hide:{type:Boolean,required:!1,default:void 0},className:{type:[String,Function],required:!1,default:""},controlledProgress:{type:Boolean,required:!1,default:void 0},rtl:{type:Boolean,required:!1,default:void 0},isIn:{type:Boolean,required:!1,default:void 0},progress:{type:Number,required:!1,default:void 0},closeToast:{type:Function,required:!1,default:void 0}},k8=Tt({name:"ProgressBar",props:S8,setup(t,{attrs:e}){const n=Y(),i=R(()=>t.hide?"true":"false"),s=R(()=>({...e.style||{},animationDuration:`${t.autoClose===!0?5e3:t.autoClose}ms`,animationPlayState:t.isRunning?"running":"paused",opacity:t.hide||t.autoClose===!1?0:1,transform:t.controlledProgress?`scaleX(${t.progress})`:"none"})),r=R(()=>[`${cn.CSS_NAMESPACE}__progress-bar`,t.controlledProgress?`${cn.CSS_NAMESPACE}__progress-bar--controlled`:`${cn.CSS_NAMESPACE}__progress-bar--animated`,`${cn.CSS_NAMESPACE}__progress-bar-theme--${t.theme}`,`${cn.CSS_NAMESPACE}__progress-bar--${t.type}`,t.rtl?`${cn.CSS_NAMESPACE}__progress-bar--rtl`:null].filter(Boolean).join(" ")),a=R(()=>`${r.value} ${(e==null?void 0:e.class)||""}`),o=()=>{n.value&&(n.value.onanimationend=null,n.value.ontransitionend=null)},l=()=>{t.isIn&&t.closeToast&&t.autoClose!==!1&&(t.closeToast(),o())},u=R(()=>t.controlledProgress?null:l),d=R(()=>t.controlledProgress?l:null);return yn(()=>{n.value&&(o(),n.value.onanimationend=u.value,n.value.ontransitionend=d.value)}),()=>m("div",{ref:n,role:"progressbar","aria-hidden":i.value,"aria-label":"notification timer",class:a.value,style:s.value},null)}}),T8=Tt({name:"CloseButton",inheritAttrs:!1,props:{theme:{type:String,required:!1,default:Wd.AUTO},type:{type:String,required:!1,default:Wd.LIGHT},ariaLabel:{type:String,required:!1,default:"close"},closeToast:{type:Function,required:!1,default:void 0}},setup(t){return()=>m("button",{class:`${cn.CSS_NAMESPACE}__close-button ${cn.CSS_NAMESPACE}__close-button--${t.theme}`,type:"button",onClick:e=>{e.stopPropagation(),t.closeToast&&t.closeToast(e)},"aria-label":t.ariaLabel},[m("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},[m("path",{"fill-rule":"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"},null)])])}}),ab=({theme:t,type:e,path:n,...i})=>m("svg",J({viewBox:"0 0 24 24",width:"100%",height:"100%",fill:t==="colored"?"currentColor":`var(--toastify-icon-color-${e})`},i),[m("path",{d:n},null)]);function P8(t){return m(ab,J(t,{path:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}),null)}function C8(t){return m(ab,J(t,{path:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}),null)}function E8(t){return m(ab,J(t,{path:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}),null)}function I8(t){return m(ab,J(t,{path:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}),null)}function D8(){return m("div",{class:`${cn.CSS_NAMESPACE}__spinner`},null)}const bp={info:C8,warning:P8,success:E8,error:I8,spinner:D8},A8=t=>t in bp;function O8({theme:t,type:e,isLoading:n,icon:i}){let s;const r=!!n||e==="loading",a={theme:t,type:e};if(r&&(i===void 0||typeof i=="boolean"))return bp.spinner();if(i!==!1){if(_p(i))s=Qe(i);else if(Od(i)){const o=i;a.type=r?"loading":e,s=o(a),s=!s&&r?bp.spinner():s}else Ol(i)?s=$a(i,a):U1(i)||y8(i)?s=i:A8(e)&&(s=bp[e](a));return s}}const R8=()=>{};function M8(t,e,n=cn.COLLAPSE_DURATION){const{scrollHeight:i,style:s}=t,r=n;requestAnimationFrame(()=>{s.minHeight="initial",s.height=i+"px",s.transition=`all ${r}ms`,requestAnimationFrame(()=>{s.height="0",s.padding="0",s.margin="0",setTimeout(e,r)})})}function V8(t){const e=Y(!1),n=Y(!1),i=Y(!1),s=Y(yp.Enter),r=vn({...t,appendPosition:t.appendPosition||!1,collapse:typeof t.collapse>"u"?!0:t.collapse,collapseDuration:t.collapseDuration||cn.COLLAPSE_DURATION}),a=r.done||R8,o=R(()=>r.appendPosition?`${r.enter}--${r.position}`:r.enter),l=R(()=>r.appendPosition?`${r.exit}--${r.position}`:r.exit),u=R(()=>t.pauseOnHover?{onMouseenter:p,onMouseleave:v}:{});function d(){const b=o.value.split(" ");f().addEventListener(F1.ENTRANCE_ANIMATION_END,v,{once:!0});const x=I=>{const E=f();I.target===E&&(E.dispatchEvent(new Event(F1.ENTRANCE_ANIMATION_END)),E.removeEventListener("animationend",x),E.removeEventListener("animationcancel",x),s.value===yp.Enter&&I.type!=="animationcancel"&&E.classList.remove(...b))},k=()=>{const I=f();I.classList.add(...b),I.addEventListener("animationend",x),I.addEventListener("animationcancel",x)};t.pauseOnFocusLoss&&h(),k()}function c(){if(!f())return;const b=()=>{const k=f();k.removeEventListener("animationend",b),r.collapse?M8(k,a,r.collapseDuration):a()},x=()=>{const k=f();s.value=yp.Exit,k&&(k.className+=` ${l.value}`,k.addEventListener("animationend",b))};n.value||(i.value?b():setTimeout(x))}function f(){return t.toastRef.value}function h(){document.hasFocus()||p(),window.addEventListener("focus",v),window.addEventListener("blur",p)}function g(){window.removeEventListener("focus",v),window.removeEventListener("blur",p)}function v(){(!t.loading.value||t.isLoading===void 0)&&(e.value=!0)}function p(){e.value=!1}function _(b){b&&(b.stopPropagation(),b.preventDefault()),n.value=!1}return yn(c),yn(()=>{const b=Yd();n.value=b.findIndex(x=>x.toastId===r.toastId)>-1}),yn(()=>{t.isLoading!==void 0&&(t.loading.value?p():v())}),Pt(d),Us(()=>{t.pauseOnFocusLoss&&g()}),{isIn:n,isRunning:e,hideToast:_,eventHandlers:u}}const L8=Tt({name:"ToastItem",inheritAttrs:!1,props:l2,setup(t){const e=Y(),n=R(()=>!!t.isLoading),i=R(()=>t.progress!==void 0&&t.progress!==null),s=R(()=>O8(t)),r=R(()=>[`${cn.CSS_NAMESPACE}__toast`,`${cn.CSS_NAMESPACE}__toast-theme--${t.theme}`,`${cn.CSS_NAMESPACE}__toast--${t.type}`,t.rtl?`${cn.CSS_NAMESPACE}__toast--rtl`:void 0,t.toastClassName||""].filter(Boolean).join(" ")),{isRunning:a,isIn:o,hideToast:l,eventHandlers:u}=V8({toastRef:e,loading:n,done:()=>{ur.remove(t.toastId)},...s2(t.transition,t.disabledEnterTransition),...t});return()=>m("div",J({id:t.toastId,class:r.value,style:t.toastStyle||{},ref:e,"data-testid":`toast-item-${t.toastId}`,onClick:d=>{t.closeOnClick&&l(),t.onClick&&t.onClick(d)}},u.value),[m("div",{role:t.role,"data-testid":"toast-body",class:`${cn.CSS_NAMESPACE}__toast-body ${t.bodyClassName||""}`},[s.value!=null&&m("div",{"data-testid":`toast-icon-${t.type}`,class:[`${cn.CSS_NAMESPACE}__toast-icon`,t.isLoading?"":`${cn.CSS_NAMESPACE}--animate-icon ${cn.CSS_NAMESPACE}__zoom-enter`].join(" ")},[_p(s.value)?Ai(Qe(s.value),{theme:t.theme,type:t.type}):Od(s.value)?s.value({theme:t.theme,type:t.type}):s.value]),m("div",{"data-testid":"toast-content"},[_p(t.content)?Ai(Qe(t.content),{toastProps:Qe(t),closeToast:l,data:t.data,...t.expandCustomProps?t.contentProps:{contentProps:t.contentProps||{}}}):Od(t.content)?t.content({toastProps:Qe(t),closeToast:l,data:t.data}):t.dangerouslyHTMLString?Ai("div",{innerHTML:t.content}):t.content])]),(t.closeButton===void 0||t.closeButton===!0)&&m(T8,{theme:t.theme,closeToast:d=>{d.stopPropagation(),d.preventDefault(),l()}},null),_p(t.closeButton)?Ai(Qe(t.closeButton),{closeToast:l,type:t.type,theme:t.theme}):Od(t.closeButton)?t.closeButton({closeToast:l,type:t.type,theme:t.theme}):null,m(k8,{className:t.progressClassName,style:t.progressStyle,rtl:t.rtl,theme:t.theme,isIn:o.value,type:t.type,hide:t.hideProgressBar,isRunning:a.value,autoClose:t.autoClose,controlledProgress:i.value,progress:t.progress,closeToast:t.isLoading?void 0:l},null)])}});let Gf=0;function u2(){typeof window>"u"||(Gf&&window.cancelAnimationFrame(Gf),Gf=window.requestAnimationFrame(u2),s_.lastUrl!==window.location.href&&(s_.lastUrl=window.location.href,ur.clear()))}const N8=Tt({name:"ToastifyContainer",inheritAttrs:!1,props:l2,setup(t){const e=R(()=>t.containerId),n=R(()=>Xi[e.value]||[]),i=R(()=>n.value.filter(s=>s.position===t.position));return Pt(()=>{typeof window<"u"&&t.clearOnUrlChange&&window.requestAnimationFrame(u2)}),Us(()=>{typeof window<"u"&&Gf&&(window.cancelAnimationFrame(Gf),s_.lastUrl="")}),()=>m(Ie,null,[i.value.map(s=>{const{toastId:r=""}=s;return m(L8,J({key:r},s),null)})])}});let vw=!1;const c2={isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1};function d2(){const t=[];return Yd().forEach(e=>{const n=document.getElementById(e.containerId);n&&!n.classList.contains(sb)&&t.push(e)}),t}function F8(t){const e=d2().length,n=t??0;return n>0&&e+Ua.items.length>=n}function B8(t){F8(t.limit)&&!t.updateId&&Ua.items.push({toastId:t.toastId,containerId:t.containerId,toastContent:t.content,toastProps:t})}function Ql(t,e,n={}){if(vw)return;n=rb(w8(),{type:e},Qe(n)),(!n.toastId||typeof n.toastId!="string"&&typeof n.toastId!="number")&&(n.toastId=o2()),n={...n,...n.type==="loading"?c2:{},content:t,containerId:n.containerId||String(n.position)};const i=Number(n==null?void 0:n.progress);return!isNaN(i)&&i<0&&(n.progress=0),i>1&&(n.progress=1),n.theme==="auto"&&(n.theme=x8()),B8(n),s_.lastUrl=window.location.href,n.multiple?Ua.items.length?n.updateId&&pp(t,n):pp(t,n):(vw=!0,et.clearAll(void 0,!1),setTimeout(()=>{pp(t,n)},0),setTimeout(()=>{vw=!1},390)),n.toastId}const et=(t,e)=>Ql(t,Bs.DEFAULT,e);et.info=(t,e)=>Ql(t,Bs.DEFAULT,{...e,type:Bs.INFO});et.error=(t,e)=>Ql(t,Bs.DEFAULT,{...e,type:Bs.ERROR});et.warning=(t,e)=>Ql(t,Bs.DEFAULT,{...e,type:Bs.WARNING});et.warn=et.warning;et.success=(t,e)=>Ql(t,Bs.DEFAULT,{...e,type:Bs.SUCCESS});et.loading=(t,e)=>Ql(t,Bs.DEFAULT,rb(e,c2));et.dark=(t,e)=>Ql(t,Bs.DEFAULT,rb(e,{theme:Wd.DARK}));et.remove=t=>{t?ur.dismiss(t):ur.clear()};et.clearAll=(t,e)=>{pt(()=>{ur.clear(t,e)})};et.isActive=t=>{let e=!1;return e=d2().findIndex(n=>n.toastId===t)>-1,e};et.update=(t,e={})=>{setTimeout(()=>{const n=p8(t);if(n){const i=Qe(n),{content:s}=i,r={...i,...e,toastId:e.toastId||t,updateId:o2()},a=r.render||s;delete r.render,Ql(a,r.type,r)}},0)};et.done=t=>{et.update(t,{isLoading:!1,progress:1})};et.promise=j8;function j8(t,{pending:e,error:n,success:i},s){var r,a,o;let l;const u={...s||{},autoClose:!1};e&&(l=U1(e)?et.loading(e,u):et.loading(e.render,{...u,...e}));const d={autoClose:(r=s==null?void 0:s.autoClose)!=null?r:!0,closeOnClick:(a=s==null?void 0:s.closeOnClick)!=null?a:!0,closeButton:(o=s==null?void 0:s.autoClose)!=null?o:null,isLoading:void 0,draggable:null,delay:100},c=(h,g,v)=>{if(g==null){et.remove(l);return}const p={type:h,...d,...s,data:v},_=U1(g)?{render:g}:g;return l?et.update(l,{...p,..._,isLoading:!1}):et(_.render,{...p,..._,isLoading:!1}),v},f=Od(t)?t():t;return f.then(h=>{c("success",i,h)}).catch(h=>{c("error",n,h)}),f}et.POSITION=Cv;et.THEME=Wd;et.TYPE=Bs;et.TRANSITIONS=Zz;const h2={install(t,e={}){_8.useHandler=e.useHandler||(()=>{}),$8(e)}};typeof window<"u"&&(window.Vue3Toastify=h2);function $8(t={}){const e=rb(i2,t);b8(e)}var MI={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f2={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const We=function(t,e){if(!t)throw Ph(e)},Ph=function(t){return new Error("Firebase Database ("+f2.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m2=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let s=t.charCodeAt(i);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},U8=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const s=t[n++];if(s<128)e[i++]=String.fromCharCode(s);else if(s>191&&s<224){const r=t[n++];e[i++]=String.fromCharCode((s&31)<<6|r&63)}else if(s>239&&s<365){const r=t[n++],a=t[n++],o=t[n++],l=((s&7)<<18|(r&63)<<12|(a&63)<<6|o&63)-65536;e[i++]=String.fromCharCode(55296+(l>>10)),e[i++]=String.fromCharCode(56320+(l&1023))}else{const r=t[n++],a=t[n++];e[i++]=String.fromCharCode((s&15)<<12|(r&63)<<6|a&63)}}return e.join("")},ob={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let s=0;s<t.length;s+=3){const r=t[s],a=s+1<t.length,o=a?t[s+1]:0,l=s+2<t.length,u=l?t[s+2]:0,d=r>>2,c=(r&3)<<4|o>>4;let f=(o&15)<<2|u>>6,h=u&63;l||(h=64,a||(f=64)),i.push(n[d],n[c],n[f],n[h])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(m2(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):U8(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let s=0;s<t.length;){const r=n[t.charAt(s++)],o=s<t.length?n[t.charAt(s)]:0;++s;const u=s<t.length?n[t.charAt(s)]:64;++s;const c=s<t.length?n[t.charAt(s)]:64;if(++s,r==null||o==null||u==null||c==null)throw new H8;const f=r<<2|o>>4;if(i.push(f),u!==64){const h=o<<4&240|u>>2;if(i.push(h),c!==64){const g=u<<6&192|c;i.push(g)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class H8 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const v2=function(t){const e=m2(t);return ob.encodeByteArray(e,!0)},r_=function(t){return v2(t).replace(/\./g,"")},a_=function(t){try{return ob.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z8(t){return g2(void 0,t)}function g2(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!W8(n)||(t[n]=g2(t[n],e[n]));return t}function W8(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y8(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G8=()=>Y8().__FIREBASE_DEFAULTS__,q8=()=>{if(typeof process>"u"||typeof MI>"u")return;const t=MI.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},X8=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&a_(t[1]);return e&&JSON.parse(e)},lb=()=>{try{return G8()||q8()||X8()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},p2=t=>{var e,n;return(n=(e=lb())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},K8=t=>{const e=p2(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},_2=()=>{var t;return(t=lb())===null||t===void 0?void 0:t.config},y2=t=>{var e;return(e=lb())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bm{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q8(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",s=t.iat||0,r=t.sub||t.user_id;if(!r)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:s,exp:s+3600,auth_time:s,sub:r,user_id:r,firebase:{sign_in_provider:"custom",identities:{}}},t);return[r_(JSON.stringify(n)),r_(JSON.stringify(a)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ps(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Kk(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ps())}function J8(){var t;const e=(t=lb())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Z8(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function b2(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function w2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function eW(){const t=Ps();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function x2(){return f2.NODE_ADMIN===!0}function tW(){return!J8()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Qk(){try{return typeof indexedDB=="object"}catch{return!1}}function S2(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(i);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var r;e(((r=s.error)===null||r===void 0?void 0:r.message)||"")}}catch(n){e(n)}})}function nW(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iW="FirebaseError";class Nr extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=iW,Object.setPrototypeOf(this,Nr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Jl.prototype.create)}}class Jl{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},s=`${this.service}/${e}`,r=this.errors[e],a=r?sW(r,i):"Error",o=`${this.serviceName}: ${a} (${s}).`;return new Nr(s,o,i)}}function sW(t,e){return t.replace(rW,(n,i)=>{const s=e[i];return s!=null?String(s):`<${i}?>`})}const rW=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wm(t){return JSON.parse(t)}function es(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k2=function(t){let e={},n={},i={},s="";try{const r=t.split(".");e=wm(a_(r[0])||""),n=wm(a_(r[1])||""),s=r[2],i=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:i,signature:s}},aW=function(t){const e=k2(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},oW=function(t){const e=k2(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $o(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Gd(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function H1(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function o_(t,e,n){const i={};for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(i[s]=e.call(n,t[s],s,t));return i}function xm(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const s of n){if(!i.includes(s))return!1;const r=t[s],a=e[s];if(VI(r)&&VI(a)){if(!xm(r,a))return!1}else if(r!==a)return!1}for(const s of i)if(!n.includes(s))return!1;return!0}function VI(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ch(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Pf(t){const e={};return t.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[s,r]=i.split("=");e[decodeURIComponent(s)]=decodeURIComponent(r)}}),e}function Cf(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lW{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const i=this.W_;if(typeof e=="string")for(let c=0;c<16;c++)i[c]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let c=0;c<16;c++)i[c]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let c=16;c<80;c++){const f=i[c-3]^i[c-8]^i[c-14]^i[c-16];i[c]=(f<<1|f>>>31)&4294967295}let s=this.chain_[0],r=this.chain_[1],a=this.chain_[2],o=this.chain_[3],l=this.chain_[4],u,d;for(let c=0;c<80;c++){c<40?c<20?(u=o^r&(a^o),d=1518500249):(u=r^a^o,d=1859775393):c<60?(u=r&a|o&(r|a),d=2400959708):(u=r^a^o,d=3395469782);const f=(s<<5|s>>>27)+u+l+d+i[c]&4294967295;l=o,o=a,a=(r<<30|r>>>2)&4294967295,r=s,s=f}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+r&4294967295,this.chain_[2]=this.chain_[2]+a&4294967295,this.chain_[3]=this.chain_[3]+o&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const i=n-this.blockSize;let s=0;const r=this.buf_;let a=this.inbuf_;for(;s<n;){if(a===0)for(;s<=i;)this.compress_(e,s),s+=this.blockSize;if(typeof e=="string"){for(;s<n;)if(r[a]=e.charCodeAt(s),++a,++s,a===this.blockSize){this.compress_(r),a=0;break}}else for(;s<n;)if(r[a]=e[s],++a,++s,a===this.blockSize){this.compress_(r),a=0;break}}this.inbuf_=a,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let s=this.blockSize-1;s>=56;s--)this.buf_[s]=n&255,n/=256;this.compress_(this.buf_);let i=0;for(let s=0;s<5;s++)for(let r=24;r>=0;r-=8)e[i]=this.chain_[s]>>r&255,++i;return e}}function uW(t,e){const n=new cW(t,e);return n.subscribe.bind(n)}class cW{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let s;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");dW(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:i},s.next===void 0&&(s.next=gw),s.error===void 0&&(s.error=gw),s.complete===void 0&&(s.complete=gw);const r=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),r}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function dW(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function gw(){}function hW(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fW=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let s=t.charCodeAt(i);if(s>=55296&&s<=56319){const r=s-55296;i++,We(i<t.length,"Surrogate pair missing trail surrogate.");const a=t.charCodeAt(i)-56320;s=65536+(r<<10)+a}s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):s<65536?(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},ub=function(t){let e=0;for(let n=0;n<t.length;n++){const i=t.charCodeAt(n);i<128?e++:i<2048?e+=2:i>=55296&&i<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mW=1e3,vW=2,gW=4*60*60*1e3,pW=.5;function LI(t,e=mW,n=vW){const i=e*Math.pow(n,t),s=Math.round(pW*i*(Math.random()-.5)*2);return Math.min(gW,i+s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ai(t){return t&&t._delegate?t._delegate:t}let js=class{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bu="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _W{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new bm;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&i.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(r){if(s)return null;throw r}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(bW(e))try{this.getOrInitializeService({instanceIdentifier:bu})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const r=this.getOrInitializeService({instanceIdentifier:s});i.resolve(r)}catch{}}}}clearInstance(e=bu){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=bu){return this.instances.has(e)}getOptions(e=bu){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[r,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(r);i===o&&a.resolve(s)}return s}onInit(e,n){var i;const s=this.normalizeInstanceIdentifier(n),r=(i=this.onInitCallbacks.get(s))!==null&&i!==void 0?i:new Set;r.add(e),this.onInitCallbacks.set(s,r);const a=this.instances.get(s);return a&&e(a,s),()=>{r.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const s of i)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:yW(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=bu){return this.component?this.component.multipleInstances?e:bu:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function yW(t){return t===bu?void 0:t}function bW(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wW{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new _W(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Bt||(Bt={}));const xW={debug:Bt.DEBUG,verbose:Bt.VERBOSE,info:Bt.INFO,warn:Bt.WARN,error:Bt.ERROR,silent:Bt.SILENT},SW=Bt.INFO,kW={[Bt.DEBUG]:"log",[Bt.VERBOSE]:"log",[Bt.INFO]:"info",[Bt.WARN]:"warn",[Bt.ERROR]:"error"},TW=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),s=kW[e];if(s)console[s](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Eh{constructor(e){this.name=e,this._logLevel=SW,this._logHandler=TW,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Bt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?xW[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Bt.DEBUG,...e),this._logHandler(this,Bt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Bt.VERBOSE,...e),this._logHandler(this,Bt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Bt.INFO,...e),this._logHandler(this,Bt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Bt.WARN,...e),this._logHandler(this,Bt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Bt.ERROR,...e),this._logHandler(this,Bt.ERROR,...e)}}const PW=(t,e)=>e.some(n=>t instanceof n);let NI,FI;function CW(){return NI||(NI=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function EW(){return FI||(FI=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const T2=new WeakMap,z1=new WeakMap,P2=new WeakMap,pw=new WeakMap,Jk=new WeakMap;function IW(t){const e=new Promise((n,i)=>{const s=()=>{t.removeEventListener("success",r),t.removeEventListener("error",a)},r=()=>{n(Sl(t.result)),s()},a=()=>{i(t.error),s()};t.addEventListener("success",r),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&T2.set(n,t)}).catch(()=>{}),Jk.set(e,t),e}function DW(t){if(z1.has(t))return;const e=new Promise((n,i)=>{const s=()=>{t.removeEventListener("complete",r),t.removeEventListener("error",a),t.removeEventListener("abort",a)},r=()=>{n(),s()},a=()=>{i(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",r),t.addEventListener("error",a),t.addEventListener("abort",a)});z1.set(t,e)}let W1={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return z1.get(t);if(e==="objectStoreNames")return t.objectStoreNames||P2.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Sl(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function AW(t){W1=t(W1)}function OW(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(_w(this),e,...n);return P2.set(i,e.sort?e.sort():[e]),Sl(i)}:EW().includes(t)?function(...e){return t.apply(_w(this),e),Sl(T2.get(this))}:function(...e){return Sl(t.apply(_w(this),e))}}function RW(t){return typeof t=="function"?OW(t):(t instanceof IDBTransaction&&DW(t),PW(t,CW())?new Proxy(t,W1):t)}function Sl(t){if(t instanceof IDBRequest)return IW(t);if(pw.has(t))return pw.get(t);const e=RW(t);return e!==t&&(pw.set(t,e),Jk.set(e,t)),e}const _w=t=>Jk.get(t);function C2(t,e,{blocked:n,upgrade:i,blocking:s,terminated:r}={}){const a=indexedDB.open(t,e),o=Sl(a);return i&&a.addEventListener("upgradeneeded",l=>{i(Sl(a.result),l.oldVersion,l.newVersion,Sl(a.transaction),l)}),n&&a.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),o.then(l=>{r&&l.addEventListener("close",()=>r()),s&&l.addEventListener("versionchange",u=>s(u.oldVersion,u.newVersion,u))}).catch(()=>{}),o}const MW=["get","getKey","getAll","getAllKeys","count"],VW=["put","add","delete","clear"],yw=new Map;function BI(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(yw.get(e))return yw.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,s=VW.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(s||MW.includes(n)))return;const r=async function(a,...o){const l=this.transaction(a,s?"readwrite":"readonly");let u=l.store;return i&&(u=u.index(o.shift())),(await Promise.all([u[n](...o),s&&l.done]))[0]};return yw.set(e,r),r}AW(t=>({...t,get:(e,n,i)=>BI(e,n)||t.get(e,n,i),has:(e,n)=>!!BI(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LW{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(NW(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function NW(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Y1="@firebase/app",jI="0.10.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eo=new Eh("@firebase/app"),FW="@firebase/app-compat",BW="@firebase/analytics-compat",jW="@firebase/analytics",$W="@firebase/app-check-compat",UW="@firebase/app-check",HW="@firebase/auth",zW="@firebase/auth-compat",WW="@firebase/database",YW="@firebase/data-connect",GW="@firebase/database-compat",qW="@firebase/functions",XW="@firebase/functions-compat",KW="@firebase/installations",QW="@firebase/installations-compat",JW="@firebase/messaging",ZW="@firebase/messaging-compat",eY="@firebase/performance",tY="@firebase/performance-compat",nY="@firebase/remote-config",iY="@firebase/remote-config-compat",sY="@firebase/storage",rY="@firebase/storage-compat",aY="@firebase/firestore",oY="@firebase/vertexai",lY="@firebase/firestore-compat",uY="firebase",cY="11.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G1="[DEFAULT]",dY={[Y1]:"fire-core",[FW]:"fire-core-compat",[jW]:"fire-analytics",[BW]:"fire-analytics-compat",[UW]:"fire-app-check",[$W]:"fire-app-check-compat",[HW]:"fire-auth",[zW]:"fire-auth-compat",[WW]:"fire-rtdb",[YW]:"fire-data-connect",[GW]:"fire-rtdb-compat",[qW]:"fire-fn",[XW]:"fire-fn-compat",[KW]:"fire-iid",[QW]:"fire-iid-compat",[JW]:"fire-fcm",[ZW]:"fire-fcm-compat",[eY]:"fire-perf",[tY]:"fire-perf-compat",[nY]:"fire-rc",[iY]:"fire-rc-compat",[sY]:"fire-gcs",[rY]:"fire-gcs-compat",[aY]:"fire-fst",[lY]:"fire-fst-compat",[oY]:"fire-vertex","fire-js":"fire-js",[uY]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sm=new Map,hY=new Map,q1=new Map;function $I(t,e){try{t.container.addComponent(e)}catch(n){Eo.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function er(t){const e=t.name;if(q1.has(e))return Eo.debug(`There were multiple attempts to register component ${e}.`),!1;q1.set(e,t);for(const n of Sm.values())$I(n,t);for(const n of hY.values())$I(n,t);return!0}function Ih(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Gr(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fY={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},kl=new Jl("app","Firebase",fY);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mY{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new js("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw kl.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zl=cY;function E2(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i=Object.assign({name:G1,automaticDataCollectionEnabled:!1},e),s=i.name;if(typeof s!="string"||!s)throw kl.create("bad-app-name",{appName:String(s)});if(n||(n=_2()),!n)throw kl.create("no-options");const r=Sm.get(s);if(r){if(xm(n,r.options)&&xm(i,r.config))return r;throw kl.create("duplicate-app",{appName:s})}const a=new wW(s);for(const l of q1.values())a.addComponent(l);const o=new mY(n,i,a);return Sm.set(s,o),o}function Zk(t=G1){const e=Sm.get(t);if(!e&&t===G1&&_2())return E2();if(!e)throw kl.create("no-app",{appName:t});return e}function vY(){return Array.from(Sm.values())}function is(t,e,n){var i;let s=(i=dY[t])!==null&&i!==void 0?i:t;n&&(s+=`-${n}`);const r=s.match(/\s|\//),a=e.match(/\s|\//);if(r||a){const o=[`Unable to register library "${s}" with version "${e}":`];r&&o.push(`library name "${s}" contains illegal characters (whitespace or "/")`),r&&a&&o.push("and"),a&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Eo.warn(o.join(" "));return}er(new js(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gY="firebase-heartbeat-database",pY=1,km="firebase-heartbeat-store";let bw=null;function I2(){return bw||(bw=C2(gY,pY,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(km)}catch(n){console.warn(n)}}}}).catch(t=>{throw kl.create("idb-open",{originalErrorMessage:t.message})})),bw}async function _Y(t){try{const n=(await I2()).transaction(km),i=await n.objectStore(km).get(D2(t));return await n.done,i}catch(e){if(e instanceof Nr)Eo.warn(e.message);else{const n=kl.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Eo.warn(n.message)}}}async function UI(t,e){try{const i=(await I2()).transaction(km,"readwrite");await i.objectStore(km).put(e,D2(t)),await i.done}catch(n){if(n instanceof Nr)Eo.warn(n.message);else{const i=kl.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Eo.warn(i.message)}}}function D2(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yY=1024,bY=30*24*60*60*1e3;class wY{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new SY(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=HI();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(a=>a.date===r)?void 0:(this._heartbeatsCache.heartbeats.push({date:r,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(a=>{const o=new Date(a.date).valueOf();return Date.now()-o<=bY}),this._storage.overwrite(this._heartbeatsCache))}catch(i){Eo.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=HI(),{heartbeatsToSend:i,unsentEntries:s}=xY(this._heartbeatsCache.heartbeats),r=r_(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(n){return Eo.warn(n),""}}}function HI(){return new Date().toISOString().substring(0,10)}function xY(t,e=yY){const n=[];let i=t.slice();for(const s of t){const r=n.find(a=>a.agent===s.agent);if(r){if(r.dates.push(s.date),zI(n)>e){r.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),zI(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class SY{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Qk()?S2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await _Y(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return UI(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return UI(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function zI(t){return r_(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kY(t){er(new js("platform-logger",e=>new LW(e),"PRIVATE")),er(new js("heartbeat",e=>new wY(e),"PRIVATE")),is(Y1,jI,t),is(Y1,jI,"esm2017"),is("fire-js","")}kY("");function eT(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(t);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(t,i[s])&&(n[i[s]]=t[i[s]]);return n}function ki(t,e,n,i){function s(r){return r instanceof n?r:new n(function(a){a(r)})}return new(n||(n=Promise))(function(r,a){function o(d){try{u(i.next(d))}catch(c){a(c)}}function l(d){try{u(i.throw(d))}catch(c){a(c)}}function u(d){d.done?r(d.value):s(d.value).then(o,l)}u((i=i.apply(t,e||[])).next())})}function A2(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const TY=A2,O2=new Jl("auth","Firebase",A2());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l_=new Eh("@firebase/auth");function PY(t,...e){l_.logLevel<=Bt.WARN&&l_.warn(`Auth (${Zl}): ${t}`,...e)}function wp(t,...e){l_.logLevel<=Bt.ERROR&&l_.error(`Auth (${Zl}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mr(t,...e){throw nT(t,...e)}function ta(t,...e){return nT(t,...e)}function tT(t,e,n){const i=Object.assign(Object.assign({},TY()),{[e]:n});return new Jl("auth","Firebase",i).create(e,{appName:t.name})}function wo(t){return tT(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function CY(t,e,n){const i=n;if(!(e instanceof i))throw i.name!==e.constructor.name&&Mr(t,"argument-error"),tT(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function nT(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return O2.create(t,...e)}function bt(t,e,...n){if(!t)throw nT(e,...n)}function po(t){const e="INTERNAL ASSERTION FAILED: "+t;throw wp(e),new Error(e)}function Io(t,e){t||po(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X1(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function EY(){return WI()==="http:"||WI()==="https:"}function WI(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IY(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(EY()||b2()||"connection"in navigator)?navigator.onLine:!0}function DY(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ev{constructor(e,n){this.shortDelay=e,this.longDelay=n,Io(n>e,"Short delay should be less than long delay!"),this.isMobile=Kk()||w2()}get(){return IY()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iT(t,e){Io(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R2{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;po("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;po("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;po("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AY={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OY=new Ev(3e4,6e4);function Uo(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function qa(t,e,n,i,s={}){return M2(t,s,async()=>{let r={},a={};i&&(e==="GET"?a=i:r={body:JSON.stringify(i)});const o=Ch(Object.assign({key:t.config.apiKey},a)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:l},r);return Z8()||(u.referrerPolicy="no-referrer"),R2.fetch()(V2(t,t.config.apiHost,n,o),u)})}async function M2(t,e,n){t._canInitEmulator=!1;const i=Object.assign(Object.assign({},AY),e);try{const s=new MY(t),r=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const a=await r.json();if("needConfirmation"in a)throw Dg(t,"account-exists-with-different-credential",a);if(r.ok&&!("errorMessage"in a))return a;{const o=r.ok?a.errorMessage:a.error.message,[l,u]=o.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Dg(t,"credential-already-in-use",a);if(l==="EMAIL_EXISTS")throw Dg(t,"email-already-in-use",a);if(l==="USER_DISABLED")throw Dg(t,"user-disabled",a);const d=i[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw tT(t,d,u);Mr(t,d)}}catch(s){if(s instanceof Nr)throw s;Mr(t,"network-request-failed",{message:String(s)})}}async function Iv(t,e,n,i,s={}){const r=await qa(t,e,n,i,s);return"mfaPendingCredential"in r&&Mr(t,"multi-factor-auth-required",{_serverResponse:r}),r}function V2(t,e,n,i){const s=`${e}${n}?${i}`;return t.config.emulator?iT(t.config,s):`${t.config.apiScheme}://${s}`}function RY(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class MY{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(ta(this.auth,"network-request-failed")),OY.get())})}}function Dg(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const s=ta(t,e,i);return s.customData._tokenResponse=n,s}function YI(t){return t!==void 0&&t.enterprise!==void 0}class VY{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return RY(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function LY(t,e){return qa(t,"GET","/v2/recaptchaConfig",Uo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NY(t,e){return qa(t,"POST","/v1/accounts:delete",e)}async function L2(t,e){return qa(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qf(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function FY(t,e=!1){const n=ai(t),i=await n.getIdToken(e),s=sT(i);bt(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const r=typeof s.firebase=="object"?s.firebase:void 0,a=r==null?void 0:r.sign_in_provider;return{claims:s,token:i,authTime:qf(ww(s.auth_time)),issuedAtTime:qf(ww(s.iat)),expirationTime:qf(ww(s.exp)),signInProvider:a||null,signInSecondFactor:(r==null?void 0:r.sign_in_second_factor)||null}}function ww(t){return Number(t)*1e3}function sT(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return wp("JWT malformed, contained fewer than 3 sections"),null;try{const s=a_(n);return s?JSON.parse(s):(wp("Failed to decode base64 JWT payload"),null)}catch(s){return wp("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function GI(t){const e=sT(t);return bt(e,"internal-error"),bt(typeof e.exp<"u","internal-error"),bt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qd(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof Nr&&BY(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function BY({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jY{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K1{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=qf(this.lastLoginAt),this.creationTime=qf(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function u_(t){var e;const n=t.auth,i=await t.getIdToken(),s=await qd(t,L2(n,{idToken:i}));bt(s==null?void 0:s.users.length,n,"internal-error");const r=s.users[0];t._notifyReloadListener(r);const a=!((e=r.providerUserInfo)===null||e===void 0)&&e.length?N2(r.providerUserInfo):[],o=UY(t.providerData,a),l=t.isAnonymous,u=!(t.email&&r.passwordHash)&&!(o!=null&&o.length),d=l?u:!1,c={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:o,metadata:new K1(r.createdAt,r.lastLoginAt),isAnonymous:d};Object.assign(t,c)}async function $Y(t){const e=ai(t);await u_(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function UY(t,e){return[...t.filter(i=>!e.some(s=>s.providerId===i.providerId)),...e]}function N2(t){return t.map(e=>{var{providerId:n}=e,i=eT(e,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HY(t,e){const n=await M2(t,{},async()=>{const i=Ch({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:r}=t.config,a=V2(t,s,"/v1/token",`key=${r}`),o=await t._getAdditionalHeaders();return o["Content-Type"]="application/x-www-form-urlencoded",R2.fetch()(a,{method:"POST",headers:o,body:i})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function zY(t,e){return qa(t,"POST","/v2/accounts:revokeToken",Uo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rd{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){bt(e.idToken,"internal-error"),bt(typeof e.idToken<"u","internal-error"),bt(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):GI(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){bt(e.length!==0,"internal-error");const n=GI(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(bt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:s,expiresIn:r}=await HY(e,n);this.updateTokensAndExpiration(i,s,Number(r))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:s,expirationTime:r}=n,a=new Rd;return i&&(bt(typeof i=="string","internal-error",{appName:e}),a.refreshToken=i),s&&(bt(typeof s=="string","internal-error",{appName:e}),a.accessToken=s),r&&(bt(typeof r=="number","internal-error",{appName:e}),a.expirationTime=r),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Rd,this.toJSON())}_performRefresh(){return po("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tl(t,e){bt(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class _o{constructor(e){var{uid:n,auth:i,stsTokenManager:s}=e,r=eT(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new jY(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new K1(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(e){const n=await qd(this,this.stsTokenManager.getToken(this.auth,e));return bt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return FY(this,e)}reload(){return $Y(this)}_assign(e){this!==e&&(bt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new _o(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){bt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await u_(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Gr(this.auth.app))return Promise.reject(wo(this.auth));const e=await this.getIdToken();return await qd(this,NY(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var i,s,r,a,o,l,u,d;const c=(i=n.displayName)!==null&&i!==void 0?i:void 0,f=(s=n.email)!==null&&s!==void 0?s:void 0,h=(r=n.phoneNumber)!==null&&r!==void 0?r:void 0,g=(a=n.photoURL)!==null&&a!==void 0?a:void 0,v=(o=n.tenantId)!==null&&o!==void 0?o:void 0,p=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,_=(u=n.createdAt)!==null&&u!==void 0?u:void 0,b=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:x,emailVerified:k,isAnonymous:I,providerData:E,stsTokenManager:T}=n;bt(x&&T,e,"internal-error");const S=Rd.fromJSON(this.name,T);bt(typeof x=="string",e,"internal-error"),tl(c,e.name),tl(f,e.name),bt(typeof k=="boolean",e,"internal-error"),bt(typeof I=="boolean",e,"internal-error"),tl(h,e.name),tl(g,e.name),tl(v,e.name),tl(p,e.name),tl(_,e.name),tl(b,e.name);const w=new _o({uid:x,auth:e,email:f,emailVerified:k,displayName:c,isAnonymous:I,photoURL:g,phoneNumber:h,tenantId:v,stsTokenManager:S,createdAt:_,lastLoginAt:b});return E&&Array.isArray(E)&&(w.providerData=E.map(P=>Object.assign({},P))),p&&(w._redirectEventId=p),w}static async _fromIdTokenResponse(e,n,i=!1){const s=new Rd;s.updateFromServerResponse(n);const r=new _o({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:i});return await u_(r),r}static async _fromGetAccountInfoResponse(e,n,i){const s=n.users[0];bt(s.localId!==void 0,"internal-error");const r=s.providerUserInfo!==void 0?N2(s.providerUserInfo):[],a=!(s.email&&s.passwordHash)&&!(r!=null&&r.length),o=new Rd;o.updateFromIdToken(i);const l=new _o({uid:s.localId,auth:e,stsTokenManager:o,isAnonymous:a}),u={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:r,metadata:new K1(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(r!=null&&r.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qI=new Map;function yo(t){Io(t instanceof Function,"Expected a class definition");let e=qI.get(t);return e?(Io(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,qI.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F2{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}F2.type="NONE";const XI=F2;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xp(t,e,n){return`firebase:${t}:${e}:${n}`}class Md{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:s,name:r}=this.auth;this.fullUserKey=xp(this.userKey,s.apiKey,r),this.fullPersistenceKey=xp("persistence",s.apiKey,r),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?_o._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new Md(yo(XI),e,i);const s=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let r=s[0]||yo(XI);const a=xp(i,e.config.apiKey,e.name);let o=null;for(const u of n)try{const d=await u._get(a);if(d){const c=_o._fromJSON(e,d);u!==r&&(o=c),r=u;break}}catch{}const l=s.filter(u=>u._shouldAllowMigration);return!r._shouldAllowMigration||!l.length?new Md(r,e,i):(r=l[0],o&&await r._set(a,o.toJSON()),await Promise.all(n.map(async u=>{if(u!==r)try{await u._remove(a)}catch{}})),new Md(r,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KI(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(U2(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(B2(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(z2(e))return"Blackberry";if(W2(e))return"Webos";if(j2(e))return"Safari";if((e.includes("chrome/")||$2(e))&&!e.includes("edge/"))return"Chrome";if(H2(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function B2(t=Ps()){return/firefox\//i.test(t)}function j2(t=Ps()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function $2(t=Ps()){return/crios\//i.test(t)}function U2(t=Ps()){return/iemobile/i.test(t)}function H2(t=Ps()){return/android/i.test(t)}function z2(t=Ps()){return/blackberry/i.test(t)}function W2(t=Ps()){return/webos/i.test(t)}function rT(t=Ps()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function WY(t=Ps()){var e;return rT(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function YY(){return eW()&&document.documentMode===10}function Y2(t=Ps()){return rT(t)||H2(t)||W2(t)||z2(t)||/windows phone/i.test(t)||U2(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G2(t,e=[]){let n;switch(t){case"Browser":n=KI(Ps());break;case"Worker":n=`${KI(Ps())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Zl}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GY{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=r=>new Promise((a,o)=>{try{const l=e(r);a(l)}catch(l){o(l)}});i.onAbort=n,this.queue.push(i);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qY(t,e={}){return qa(t,"GET","/v2/passwordPolicy",Uo(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XY=6;class KY{constructor(e){var n,i,s,r;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=a.minPasswordLength)!==null&&n!==void 0?n:XY,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(r=e.forceUpgradeOnSignin)!==null&&r!==void 0?r:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,i,s,r,a,o;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(i=l.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsLowercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(r=l.containsUppercaseLetter)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(a=l.containsNumericCharacter)!==null&&a!==void 0?a:!0),l.isValid&&(l.isValid=(o=l.containsNonAlphanumericCharacter)!==null&&o!==void 0?o:!0),l}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let s=0;s<e.length;s++)i=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,s,r){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QY{constructor(e,n,i,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new QI(this),this.idTokenSubscription=new QI(this),this.beforeStateQueue=new GY(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=O2,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=yo(n)),this._initializationPromise=this.queue(async()=>{var i,s;if(!this._deleted&&(this.persistenceManager=await Md.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await L2(this,{idToken:e}),i=await _o._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Gr(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(o,o))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let s=i,r=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,o=s==null?void 0:s._redirectEventId,l=await this.tryRedirectSignIn(e);(!a||a===o)&&(l!=null&&l.user)&&(s=l.user,r=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(s)}catch(a){s=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return bt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await u_(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=DY()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Gr(this.app))return Promise.reject(wo(this));const n=e?ai(e):null;return n&&bt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&bt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Gr(this.app)?Promise.reject(wo(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Gr(this.app)?Promise.reject(wo(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(yo(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await qY(this),n=new KY(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Jl("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await zY(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&yo(e)||this._popupRedirectResolver;bt(n,this,"argument-error"),this.redirectPersistenceManager=await Md.create(this,[yo(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,s){if(this._deleted)return()=>{};const r=typeof n=="function"?n:n.next.bind(n);let a=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(bt(o,this,"internal-error"),o.then(()=>{a||r(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,i,s);return()=>{a=!0,l()}}else{const l=e.addObserver(n);return()=>{a=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return bt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=G2(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(n["X-Firebase-Client"]=i);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&PY(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Ho(t){return ai(t)}class QI{constructor(e){this.auth=e,this.observer=null,this.addObserver=uW(n=>this.observer=n)}get next(){return bt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cb={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function JY(t){cb=t}function q2(t){return cb.loadJS(t)}function ZY(){return cb.recaptchaEnterpriseScript}function e7(){return cb.gapiScript}function t7(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class n7{constructor(){this.enterprise=new i7}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class i7{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const s7="recaptcha-enterprise",X2="NO_RECAPTCHA";class r7{constructor(e){this.type=s7,this.auth=Ho(e)}async verify(e="verify",n=!1){async function i(r){if(!n){if(r.tenantId==null&&r._agentRecaptchaConfig!=null)return r._agentRecaptchaConfig.siteKey;if(r.tenantId!=null&&r._tenantRecaptchaConfigs[r.tenantId]!==void 0)return r._tenantRecaptchaConfigs[r.tenantId].siteKey}return new Promise(async(a,o)=>{LY(r,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)o(new Error("recaptcha Enterprise site key undefined"));else{const u=new VY(l);return r.tenantId==null?r._agentRecaptchaConfig=u:r._tenantRecaptchaConfigs[r.tenantId]=u,a(u.siteKey)}}).catch(l=>{o(l)})})}function s(r,a,o){const l=window.grecaptcha;YI(l)?l.enterprise.ready(()=>{l.enterprise.execute(r,{action:e}).then(u=>{a(u)}).catch(()=>{a(X2)})}):o(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new n7().execute("siteKey",{action:"verify"}):new Promise((r,a)=>{i(this.auth).then(o=>{if(!n&&YI(window.grecaptcha))s(o,r,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let l=ZY();l.length!==0&&(l+=o),q2(l).then(()=>{s(o,r,a)}).catch(u=>{a(u)})}}).catch(o=>{a(o)})})}}async function JI(t,e,n,i=!1,s=!1){const r=new r7(t);let a;if(s)a=X2;else try{a=await r.verify(n)}catch{a=await r.verify(n,!0)}const o=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in o){const l=o.phoneEnrollmentInfo.phoneNumber,u=o.phoneEnrollmentInfo.recaptchaToken;Object.assign(o,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:u,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in o){const l=o.phoneSignInInfo.recaptchaToken;Object.assign(o,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return o}return i?Object.assign(o,{captchaResp:a}):Object.assign(o,{captchaResponse:a}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function c_(t,e,n,i,s){var r;if(!((r=t._getRecaptchaConfig())===null||r===void 0)&&r.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await JI(t,e,n,n==="getOobCode");return i(t,a)}else return i(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await JI(t,e,n,n==="getOobCode");return i(t,o)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K2(t,e){const n=Ih(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),r=n.getOptions();if(xm(r,e??{}))return s;Mr(s,"already-initialized")}return n.initialize({options:e})}function a7(t,e){const n=(e==null?void 0:e.persistence)||[],i=(Array.isArray(n)?n:[n]).map(yo);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function Q2(t,e,n){const i=Ho(t);bt(i._canInitEmulator,i,"emulator-config-failed"),bt(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const s=!1,r=J2(e),{host:a,port:o}=o7(e),l=o===null?"":`:${o}`;i.config.emulator={url:`${r}//${a}${l}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:a,port:o,protocol:r.replace(":",""),options:Object.freeze({disableWarnings:s})}),l7()}function J2(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function o7(t){const e=J2(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(i);if(s){const r=s[1];return{host:r,port:ZI(i.substr(r.length+1))}}else{const[r,a]=i.split(":");return{host:r,port:ZI(a)}}}function ZI(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function l7(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aT{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return po("not implemented")}_getIdTokenResponse(e){return po("not implemented")}_linkToIdToken(e,n){return po("not implemented")}_getReauthenticationResolver(e){return po("not implemented")}}async function u7(t,e){return qa(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c7(t,e){return Iv(t,"POST","/v1/accounts:signInWithPassword",Uo(t,e))}async function d7(t,e){return qa(t,"POST","/v1/accounts:sendOobCode",Uo(t,e))}async function h7(t,e){return d7(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f7(t,e){return Iv(t,"POST","/v1/accounts:signInWithEmailLink",Uo(t,e))}async function m7(t,e){return Iv(t,"POST","/v1/accounts:signInWithEmailLink",Uo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tm extends aT{constructor(e,n,i,s=null){super("password",i),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new Tm(e,n,"password")}static _fromEmailAndCode(e,n,i=null){return new Tm(e,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return c_(e,n,"signInWithPassword",c7);case"emailLink":return f7(e,{email:this._email,oobCode:this._password});default:Mr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return c_(e,i,"signUpPassword",u7);case"emailLink":return m7(e,{idToken:n,email:this._email,oobCode:this._password});default:Mr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vd(t,e){return Iv(t,"POST","/v1/accounts:signInWithIdp",Uo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v7="http://localhost";class Zu extends aT{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Zu(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Mr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:s}=n,r=eT(n,["providerId","signInMethod"]);if(!i||!s)return null;const a=new Zu(i,s);return a.idToken=r.idToken||void 0,a.accessToken=r.accessToken||void 0,a.secret=r.secret,a.nonce=r.nonce,a.pendingToken=r.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return Vd(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,Vd(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Vd(e,n)}buildRequest(){const e={requestUri:v7,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Ch(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g7(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function p7(t){const e=Pf(Cf(t)).link,n=e?Pf(Cf(e)).deep_link_id:null,i=Pf(Cf(t)).deep_link_id;return(i?Pf(Cf(i)).link:null)||i||n||e||t}class oT{constructor(e){var n,i,s,r,a,o;const l=Pf(Cf(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,d=(i=l.oobCode)!==null&&i!==void 0?i:null,c=g7((s=l.mode)!==null&&s!==void 0?s:null);bt(u&&d&&c,"argument-error"),this.apiKey=u,this.operation=c,this.code=d,this.continueUrl=(r=l.continueUrl)!==null&&r!==void 0?r:null,this.languageCode=(a=l.languageCode)!==null&&a!==void 0?a:null,this.tenantId=(o=l.tenantId)!==null&&o!==void 0?o:null}static parseLink(e){const n=p7(e);try{return new oT(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dh{constructor(){this.providerId=Dh.PROVIDER_ID}static credential(e,n){return Tm._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const i=oT.parseLink(n);return bt(i,"argument-error"),Tm._fromEmailAndCode(e,i.code,i.tenantId)}}Dh.PROVIDER_ID="password";Dh.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Dh.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lT{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dv extends lT{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hl extends Dv{constructor(){super("facebook.com")}static credential(e){return Zu._fromParams({providerId:hl.PROVIDER_ID,signInMethod:hl.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return hl.credentialFromTaggedObject(e)}static credentialFromError(e){return hl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return hl.credential(e.oauthAccessToken)}catch{return null}}}hl.FACEBOOK_SIGN_IN_METHOD="facebook.com";hl.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo extends Dv{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Zu._fromParams({providerId:fo.PROVIDER_ID,signInMethod:fo.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return fo.credentialFromTaggedObject(e)}static credentialFromError(e){return fo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return fo.credential(n,i)}catch{return null}}}fo.GOOGLE_SIGN_IN_METHOD="google.com";fo.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fl extends Dv{constructor(){super("github.com")}static credential(e){return Zu._fromParams({providerId:fl.PROVIDER_ID,signInMethod:fl.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return fl.credentialFromTaggedObject(e)}static credentialFromError(e){return fl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return fl.credential(e.oauthAccessToken)}catch{return null}}}fl.GITHUB_SIGN_IN_METHOD="github.com";fl.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ml extends Dv{constructor(){super("twitter.com")}static credential(e,n){return Zu._fromParams({providerId:ml.PROVIDER_ID,signInMethod:ml.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ml.credentialFromTaggedObject(e)}static credentialFromError(e){return ml.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return ml.credential(n,i)}catch{return null}}}ml.TWITTER_SIGN_IN_METHOD="twitter.com";ml.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _7(t,e){return Iv(t,"POST","/v1/accounts:signUp",Uo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ec{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,s=!1){const r=await _o._fromIdTokenResponse(e,i,s),a=eD(i);return new ec({user:r,providerId:a,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const s=eD(i);return new ec({user:e,providerId:s,_tokenResponse:i,operationType:n})}}function eD(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d_ extends Nr{constructor(e,n,i,s){var r;super(n.code,n.message),this.operationType=i,this.user=s,Object.setPrototypeOf(this,d_.prototype),this.customData={appName:e.name,tenantId:(r=e.tenantId)!==null&&r!==void 0?r:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,s){return new d_(e,n,i,s)}}function Z2(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(r=>{throw r.code==="auth/multi-factor-auth-required"?d_._fromErrorAndOperation(t,r,e,i):r})}async function y7(t,e,n=!1){const i=await qd(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ec._forOperation(t,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function b7(t,e,n=!1){const{auth:i}=t;if(Gr(i.app))return Promise.reject(wo(i));const s="reauthenticate";try{const r=await qd(t,Z2(i,s,e,t),n);bt(r.idToken,i,"internal-error");const a=sT(r.idToken);bt(a,i,"internal-error");const{sub:o}=a;return bt(t.uid===o,i,"user-mismatch"),ec._forOperation(t,s,r)}catch(r){throw(r==null?void 0:r.code)==="auth/user-not-found"&&Mr(i,"user-mismatch"),r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eN(t,e,n=!1){if(Gr(t.app))return Promise.reject(wo(t));const i="signIn",s=await Z2(t,i,e),r=await ec._fromIdTokenResponse(t,i,s);return n||await t._updateCurrentUser(r.user),r}async function w7(t,e){return eN(Ho(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tN(t){const e=Ho(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function x7(t,e,n){const i=Ho(t);await c_(i,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",h7)}async function S7(t,e,n){if(Gr(t.app))return Promise.reject(wo(t));const i=Ho(t),a=await c_(i,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",_7).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&tN(t),l}),o=await ec._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(o.user),o}function k7(t,e,n){return Gr(t.app)?Promise.reject(wo(t)):w7(ai(t),Dh.credential(e,n)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&tN(t),i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function T7(t,e){return qa(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function P7(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const i=ai(t),r={idToken:await i.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},a=await qd(i,T7(i.auth,r));i.displayName=a.displayName||null,i.photoURL=a.photoUrl||null;const o=i.providerData.find(({providerId:l})=>l==="password");o&&(o.displayName=i.displayName,o.photoURL=i.photoURL),await i._updateTokensIfNecessary(a)}function nN(t,e,n,i){return ai(t).onIdTokenChanged(e,n,i)}function C7(t,e,n){return ai(t).beforeAuthStateChanged(e,n)}function E7(t){return ai(t).signOut()}const h_="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iN{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(h_,"1"),this.storage.removeItem(h_),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I7=1e3,D7=10;class sN extends iN{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Y2(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),s=this.localCache[n];i!==s&&e(n,s,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,o,l)=>{this.notifyListeners(a,l)});return}const i=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const a=this.storage.getItem(i);!n&&this.localCache[i]===a||this.notifyListeners(i,a)},r=this.storage.getItem(i);YY()&&r!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,D7):s()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},I7)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}sN.type="LOCAL";const rN=sN;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aN extends iN{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}aN.type="SESSION";const uT=aN;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A7(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class db{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const i=new db(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:s,data:r}=n.data,a=this.handlersMap[s];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:s});const o=Array.from(a).map(async u=>u(n.origin,r)),l=await A7(o);n.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}db.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cT(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O7{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let r,a;return new Promise((o,l)=>{const u=cT("",20);s.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},i);a={messageChannel:s,onMessage(c){const f=c;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(d),r=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(r),o(f.data.response);break;default:clearTimeout(d),clearTimeout(r),l(new Error("invalid_response"));break}}},this.handlers.add(a),s.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[s.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ra(){return window}function R7(t){Ra().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oN(){return typeof Ra().WorkerGlobalScope<"u"&&typeof Ra().importScripts=="function"}async function M7(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function V7(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function L7(){return oN()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lN="firebaseLocalStorageDb",N7=1,f_="firebaseLocalStorage",uN="fbase_key";class Av{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function hb(t,e){return t.transaction([f_],e?"readwrite":"readonly").objectStore(f_)}function F7(){const t=indexedDB.deleteDatabase(lN);return new Av(t).toPromise()}function Q1(){const t=indexedDB.open(lN,N7);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(f_,{keyPath:uN})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(f_)?e(i):(i.close(),await F7(),e(await Q1()))})})}async function tD(t,e,n){const i=hb(t,!0).put({[uN]:e,value:n});return new Av(i).toPromise()}async function B7(t,e){const n=hb(t,!1).get(e),i=await new Av(n).toPromise();return i===void 0?null:i.value}function nD(t,e){const n=hb(t,!0).delete(e);return new Av(n).toPromise()}const j7=800,$7=3;class cN{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Q1(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>$7)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return oN()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=db._getInstance(L7()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await M7(),!this.activeServiceWorker)return;this.sender=new O7(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((n=i[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||V7()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Q1();return await tD(e,h_,"1"),await nD(e,h_),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>tD(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>B7(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>nD(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const r=hb(s,!1).getAll();return new Av(r).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:s,value:r}of e)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(r)&&(this.notifyListeners(s,r),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),j7)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}cN.type="LOCAL";const dN=cN;new Ev(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hN(t,e){return e?yo(e):(bt(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dT extends aT{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Vd(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Vd(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Vd(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function U7(t){return eN(t.auth,new dT(t),t.bypassAuthState)}function H7(t){const{auth:e,user:n}=t;return bt(n,e,"internal-error"),b7(n,new dT(t),t.bypassAuthState)}async function z7(t){const{auth:e,user:n}=t;return bt(n,e,"internal-error"),y7(n,new dT(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fN{constructor(e,n,i,s,r=!1){this.auth=e,this.resolver=i,this.user=s,this.bypassAuthState=r,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:s,tenantId:r,error:a,type:o}=e;if(a){this.reject(a);return}const l={auth:this.auth,requestUri:n,sessionId:i,tenantId:r||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return U7;case"linkViaPopup":case"linkViaRedirect":return z7;case"reauthViaPopup":case"reauthViaRedirect":return H7;default:Mr(this.auth,"internal-error")}}resolve(e){Io(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Io(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W7=new Ev(2e3,1e4);async function Y7(t,e,n){if(Gr(t.app))return Promise.reject(ta(t,"operation-not-supported-in-this-environment"));const i=Ho(t);CY(t,e,lT);const s=hN(i,n);return new Au(i,"signInViaPopup",e,s).executeNotNull()}class Au extends fN{constructor(e,n,i,s,r){super(e,n,s,r),this.provider=i,this.authWindow=null,this.pollId=null,Au.currentPopupAction&&Au.currentPopupAction.cancel(),Au.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return bt(e,this.auth,"internal-error"),e}async onExecution(){Io(this.filter.length===1,"Popup operations only handle one event");const e=cT();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ta(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ta(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Au.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,i;if(!((i=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ta(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,W7.get())};e()}}Au.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G7="pendingRedirect",Sp=new Map;class q7 extends fN{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=Sp.get(this.auth._key());if(!e){try{const i=await X7(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}Sp.set(this.auth._key(),e)}return this.bypassAuthState||Sp.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function X7(t,e){const n=J7(e),i=Q7(t);if(!await i._isAvailable())return!1;const s=await i._get(n)==="true";return await i._remove(n),s}function K7(t,e){Sp.set(t._key(),e)}function Q7(t){return yo(t._redirectPersistence)}function J7(t){return xp(G7,t.config.apiKey,t.name)}async function Z7(t,e,n=!1){if(Gr(t.app))return Promise.reject(wo(t));const i=Ho(t),s=hN(i,e),a=await new q7(i,s,n).execute();return a&&!n&&(delete a.user._redirectEventId,await i._persistUserIfCurrent(a.user),await i._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eG=10*60*1e3;class tG{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!nG(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!mN(e)){const s=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(ta(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=eG&&this.cachedEventUids.clear(),this.cachedEventUids.has(iD(e))}saveEventToCache(e){this.cachedEventUids.add(iD(e)),this.lastProcessedEventTime=Date.now()}}function iD(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function mN({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function nG(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return mN(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iG(t,e={}){return qa(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sG=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,rG=/^https?/;async function aG(t){if(t.config.emulator)return;const{authorizedDomains:e}=await iG(t);for(const n of e)try{if(oG(n))return}catch{}Mr(t,"unauthorized-domain")}function oG(t){const e=X1(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===i}if(!rG.test(n))return!1;if(sG.test(t))return i===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lG=new Ev(3e4,6e4);function sD(){const t=Ra().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function uG(t){return new Promise((e,n)=>{var i,s,r;function a(){sD(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{sD(),n(ta(t,"network-request-failed"))},timeout:lG.get()})}if(!((s=(i=Ra().gapi)===null||i===void 0?void 0:i.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((r=Ra().gapi)===null||r===void 0)&&r.load)a();else{const o=t7("iframefcb");return Ra()[o]=()=>{gapi.load?a():n(ta(t,"network-request-failed"))},q2(`${e7()}?onload=${o}`).catch(l=>n(l))}}).catch(e=>{throw kp=null,e})}let kp=null;function cG(t){return kp=kp||uG(t),kp}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dG=new Ev(5e3,15e3),hG="__/auth/iframe",fG="emulator/auth/iframe",mG={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},vG=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function gG(t){const e=t.config;bt(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?iT(e,fG):`https://${t.config.authDomain}/${hG}`,i={apiKey:e.apiKey,appName:t.name,v:Zl},s=vG.get(t.config.apiHost);s&&(i.eid=s);const r=t._getFrameworks();return r.length&&(i.fw=r.join(",")),`${n}?${Ch(i).slice(1)}`}async function pG(t){const e=await cG(t),n=Ra().gapi;return bt(n,t,"internal-error"),e.open({where:document.body,url:gG(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:mG,dontclear:!0},i=>new Promise(async(s,r)=>{await i.restyle({setHideOnLeave:!1});const a=ta(t,"network-request-failed"),o=Ra().setTimeout(()=>{r(a)},dG.get());function l(){Ra().clearTimeout(o),s(i)}i.ping(l).then(l,()=>{r(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _G={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},yG=500,bG=600,wG="_blank",xG="http://localhost";class rD{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function SG(t,e,n,i=yG,s=bG){const r=Math.max((window.screen.availHeight-s)/2,0).toString(),a=Math.max((window.screen.availWidth-i)/2,0).toString();let o="";const l=Object.assign(Object.assign({},_G),{width:i.toString(),height:s.toString(),top:r,left:a}),u=Ps().toLowerCase();n&&(o=$2(u)?wG:n),B2(u)&&(e=e||xG,l.scrollbars="yes");const d=Object.entries(l).reduce((f,[h,g])=>`${f}${h}=${g},`,"");if(WY(u)&&o!=="_self")return kG(e||"",o),new rD(null);const c=window.open(e||"",o,d);bt(c,t,"popup-blocked");try{c.focus()}catch{}return new rD(c)}function kG(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TG="__/auth/handler",PG="emulator/auth/handler",CG=encodeURIComponent("fac");async function aD(t,e,n,i,s,r){bt(t.config.authDomain,t,"auth-domain-config-required"),bt(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:Zl,eventId:s};if(e instanceof lT){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",H1(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,c]of Object.entries({}))a[d]=c}if(e instanceof Dv){const d=e.getScopes().filter(c=>c!=="");d.length>0&&(a.scopes=d.join(","))}t.tenantId&&(a.tid=t.tenantId);const o=a;for(const d of Object.keys(o))o[d]===void 0&&delete o[d];const l=await t._getAppCheckToken(),u=l?`#${CG}=${encodeURIComponent(l)}`:"";return`${EG(t)}?${Ch(o).slice(1)}${u}`}function EG({config:t}){return t.emulator?iT(t,PG):`https://${t.authDomain}/${TG}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xw="webStorageSupport";class IG{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=uT,this._completeRedirectFn=Z7,this._overrideRedirectResult=K7}async _openPopup(e,n,i,s){var r;Io((r=this.eventManagers[e._key()])===null||r===void 0?void 0:r.manager,"_initialize() not called before _openPopup()");const a=await aD(e,n,i,X1(),s);return SG(e,a,cT())}async _openRedirect(e,n,i,s){await this._originValidation(e);const r=await aD(e,n,i,X1(),s);return R7(r),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:r}=this.eventManagers[n];return s?Promise.resolve(s):(Io(r,"If manager is not set, promise should be"),r)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await pG(e),i=new tG(e);return n.register("authEvent",s=>(bt(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(xw,{type:xw},s=>{var r;const a=(r=s==null?void 0:s[0])===null||r===void 0?void 0:r[xw];a!==void 0&&n(!!a),Mr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=aG(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Y2()||j2()||rT()}}const vN=IG;var oD="@firebase/auth",lD="1.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DG{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){bt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AG(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function OG(t){er(new js("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),r=e.getProvider("app-check-internal"),{apiKey:a,authDomain:o}=i.options;bt(a&&!a.includes(":"),"invalid-api-key",{appName:i.name});const l={apiKey:a,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:G2(t)},u=new QY(i,s,r,l);return a7(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),er(new js("auth-internal",e=>{const n=Ho(e.getProvider("auth").getImmediate());return(i=>new DG(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),is(oD,lD,AG(t)),is(oD,lD,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RG=5*60,MG=y2("authIdTokenMaxAge")||RG;let uD=null;const VG=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>MG)return;const s=n==null?void 0:n.token;uD!==s&&(uD=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function LG(t=Zk()){const e=Ih(t,"auth");if(e.isInitialized())return e.getImmediate();const n=K2(t,{popupRedirectResolver:vN,persistence:[dN,rN,uT]}),i=y2("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const r=new URL(i,location.origin);if(location.origin===r.origin){const a=VG(r.toString());C7(n,a,()=>a(n.currentUser)),nN(n,o=>a(o))}}const s=p2("auth");return s&&Q2(n,`http://${s}`),n}function NG(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}JY({loadJS(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=s=>{const r=ta("internal-error");r.customData=s,n(r)},i.type="text/javascript",i.charset="UTF-8",NG().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});OG("Browser");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FG=new Map,BG={activated:!1,tokenObservers:[]};function ua(t){return FG.get(t)||Object.assign({},BG)}const cD={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jG{constructor(e,n,i,s,r){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=i,this.lowerBound=s,this.upperBound=r,this.pending=null,this.nextErrorWaitInterval=s,s>r)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}async process(e){this.stop();try{this.pending=new bm,this.pending.promise.catch(n=>{}),await $G(this.getNextRun(e)),this.pending.resolve(),await this.pending.promise,this.pending=new bm,this.pending.promise.catch(n=>{}),await this.operation(),this.pending.resolve(),await this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}function $G(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UG={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"},m_=new Jl("appCheck","AppCheck",UG);function gN(t){if(!ua(t).activated)throw m_.create("use-before-activation",{appName:t.name})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HG="firebase-app-check-database",zG=1,J1="firebase-app-check-store";let Ag=null;function WG(){return Ag||(Ag=new Promise((t,e)=>{try{const n=indexedDB.open(HG,zG);n.onsuccess=i=>{t(i.target.result)},n.onerror=i=>{var s;e(m_.create("storage-open",{originalErrorMessage:(s=i.target.error)===null||s===void 0?void 0:s.message}))},n.onupgradeneeded=i=>{const s=i.target.result;switch(i.oldVersion){case 0:s.createObjectStore(J1,{keyPath:"compositeKey"})}}}catch(n){e(m_.create("storage-open",{originalErrorMessage:n==null?void 0:n.message}))}}),Ag)}function YG(t,e){return GG(qG(t),e)}async function GG(t,e){const i=(await WG()).transaction(J1,"readwrite"),r=i.objectStore(J1).put({compositeKey:t,value:e});return new Promise((a,o)=>{r.onsuccess=l=>{a()},i.onerror=l=>{var u;o(m_.create("storage-set",{originalErrorMessage:(u=l.target.error)===null||u===void 0?void 0:u.message}))}})}function qG(t){return`${t.options.appId}-${t.name}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z1=new Eh("@firebase/app-check");function dD(t,e){return Qk()?YG(t,e).catch(n=>{Z1.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XG={error:"UNKNOWN_ERROR"};function KG(t){return ob.encodeString(JSON.stringify(t),!1)}async function ex(t,e=!1){const n=t.app;gN(n);const i=ua(n);let s=i.token,r;if(s&&!Ef(s)&&(i.token=void 0,s=void 0),!s){const l=await i.cachedTokenPromise;l&&(Ef(l)?s=l:await dD(n,void 0))}if(!e&&s&&Ef(s))return{token:s.token};let a=!1;try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),a=!0),s=await ua(n).exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"?Z1.warn(l.message):Z1.error(l),r=l}let o;return s?r?Ef(s)?o={token:s.token,internalError:r}:o=fD(r):(o={token:s.token},i.token=s,await dD(n,s)):o=fD(r),a&&eq(n,o),o}async function QG(t){const e=t.app;gN(e);const{provider:n}=ua(e);{const{token:i}=await n.getToken();return{token:i}}}function JG(t,e,n,i){const{app:s}=t,r=ua(s),a={next:n,error:i,type:e};if(r.tokenObservers=[...r.tokenObservers,a],r.token&&Ef(r.token)){const o=r.token;Promise.resolve().then(()=>{n({token:o.token}),hD(t)}).catch(()=>{})}r.cachedTokenPromise.then(()=>hD(t))}function pN(t,e){const n=ua(t),i=n.tokenObservers.filter(s=>s.next!==e);i.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=i}function hD(t){const{app:e}=t,n=ua(e);let i=n.tokenRefresher;i||(i=ZG(t),n.tokenRefresher=i),!i.isRunning()&&n.isTokenAutoRefreshEnabled&&i.start()}function ZG(t){const{app:e}=t;return new jG(async()=>{const n=ua(e);let i;if(n.token?i=await ex(t,!0):i=await ex(t),i.error)throw i.error;if(i.internalError)throw i.internalError},()=>!0,()=>{const n=ua(e);if(n.token){let i=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5;const s=n.token.expireTimeMillis-5*60*1e3;return i=Math.min(i,s),Math.max(0,i-Date.now())}else return 0},cD.RETRIAL_MIN_WAIT,cD.RETRIAL_MAX_WAIT)}function eq(t,e){const n=ua(t).tokenObservers;for(const i of n)try{i.type==="EXTERNAL"&&e.error!=null?i.error(e.error):i.next(e)}catch{}}function Ef(t){return t.expireTimeMillis-Date.now()>0}function fD(t){return{token:KG(XG),error:t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tq{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:e}=ua(this.app);for(const n of e)pN(this.app,n.next);return Promise.resolve()}}function nq(t,e){return new tq(t,e)}function iq(t){return{getToken:e=>ex(t,e),getLimitedUseToken:()=>QG(t),addTokenListener:e=>JG(t,"INTERNAL",e),removeTokenListener:e=>pN(t.app,e)}}const sq="@firebase/app-check",rq="0.8.10",aq="app-check",mD="app-check-internal";function oq(){er(new js(aq,t=>{const e=t.getProvider("app").getImmediate(),n=t.getProvider("heartbeat");return nq(e,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(mD).initialize()})),er(new js(mD,t=>{const e=t.getProvider("app-check").getImmediate();return iq(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),is(sq,rq)}oq();var lq="firebase",uq="11.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */is(lq,uq,"app");const _N=Symbol("firebaseApp");function Ov(t){return Cc()&&vt(_N,null)||Zk(t)}const Ea=()=>{},cq=typeof window<"u";function hT(t,e){return e.split(".").reduce((n,i)=>n&&n[i],t)}function dq(t,e,n){const i=(""+e).split("."),s=i.pop(),r=i.reduce((a,o)=>a&&a[o],t);if(r!=null)return Array.isArray(r)?r.splice(Number(s),1,n):r[s]=n}function Ec(t){return!!t&&typeof t=="object"}const hq=Object.prototype;function fq(t){return Ec(t)&&Object.getPrototypeOf(t)===hq}function fT(t){return Ec(t)&&t.type==="document"}function mq(t){return Ec(t)&&t.type==="collection"}function vq(t){return fT(t)||mq(t)}function gq(t){return Ec(t)&&t.type==="query"}function pq(t){return Ec(t)&&"ref"in t}function _q(t){return Ec(t)&&typeof t.bucket=="string"}function yq(t,e){let n;return()=>{if(!n)return n=!0,t(e())}}const bq=Symbol.for("v-scx");function wq(){return!!vt(bq,0)}const Og=new WeakMap;function xq(t,e){if(!Og.has(t)){const n=Sv(!0);Og.set(t,n);const{unmount:i}=e;e.unmount=()=>{i.call(e),n.stop(),Og.delete(t)}}return Og.get(t)}const yN=new WeakMap;function bN(t){return yN.get(Ov(t))}const Rg=new WeakMap;function wN(t){const e=Ov(t);if(!Rg.has(e)){let n;const s=[new Promise(r=>{n=r}),r=>{Rg.set(e,r),n(r.value)}];Rg.set(e,s)}return Rg.get(e)}function vD(t){const e=wN(t);return Array.isArray(e)?e[0]:Promise.resolve(e.value)}function Sq(t,e){nN(e,n=>{const i=wN();t.value=n,Array.isArray(i)&&i[1](t)})}var gD={};const pD="@firebase/database",_D="1.0.10";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xN="";function kq(t){xN=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tq{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),es(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:wm(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pq{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return $o(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SN=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new Tq(e)}}catch{}return new Pq},Ou=SN("localStorage"),Cq=SN("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ld=new Eh("@firebase/database"),Eq=function(){let t=1;return function(){return t++}}(),kN=function(t){const e=fW(t),n=new lW;n.update(e);const i=n.digest();return ob.encodeByteArray(i)},Rv=function(...t){let e="";for(let n=0;n<t.length;n++){const i=t[n];Array.isArray(i)||i&&typeof i=="object"&&typeof i.length=="number"?e+=Rv.apply(null,i):typeof i=="object"?e+=es(i):e+=i,e+=" "}return e};let Xf=null,yD=!0;const Iq=function(t,e){We(!e,"Can't turn on custom loggers persistently."),Ld.logLevel=Bt.VERBOSE,Xf=Ld.log.bind(Ld)},ps=function(...t){if(yD===!0&&(yD=!1,Xf===null&&Cq.get("logging_enabled")===!0&&Iq()),Xf){const e=Rv.apply(null,t);Xf(e)}},Mv=function(t){return function(...e){ps(t,...e)}},tx=function(...t){const e="FIREBASE INTERNAL ERROR: "+Rv(...t);Ld.error(e)},tc=function(...t){const e=`FIREBASE FATAL ERROR: ${Rv(...t)}`;throw Ld.error(e),new Error(e)},vr=function(...t){const e="FIREBASE WARNING: "+Rv(...t);Ld.warn(e)},Dq=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&vr("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},TN=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},Aq=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Xd="[MIN_NAME]",nc="[MAX_NAME]",Ah=function(t,e){if(t===e)return 0;if(t===Xd||e===nc)return-1;if(e===Xd||t===nc)return 1;{const n=bD(t),i=bD(e);return n!==null?i!==null?n-i===0?t.length-e.length:n-i:-1:i!==null?1:t<e?-1:1}},Oq=function(t,e){return t===e?0:t<e?-1:1},gf=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+es(e))},mT=function(t){if(typeof t!="object"||t===null)return es(t);const e=[];for(const i in t)e.push(i);e.sort();let n="{";for(let i=0;i<e.length;i++)i!==0&&(n+=","),n+=es(e[i]),n+=":",n+=mT(t[e[i]]);return n+="}",n},PN=function(t,e){const n=t.length;if(n<=e)return[t];const i=[];for(let s=0;s<n;s+=e)s+e>n?i.push(t.substring(s,n)):i.push(t.substring(s,s+e));return i};function Vr(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const CN=function(t){We(!TN(t),"Invalid JSON number");const e=11,n=52,i=(1<<e-1)-1;let s,r,a,o,l;t===0?(r=0,a=0,s=1/t===-1/0?1:0):(s=t<0,t=Math.abs(t),t>=Math.pow(2,1-i)?(o=Math.min(Math.floor(Math.log(t)/Math.LN2),i),r=o+i,a=Math.round(t*Math.pow(2,n-o)-Math.pow(2,n))):(r=0,a=Math.round(t/Math.pow(2,1-i-n))));const u=[];for(l=n;l;l-=1)u.push(a%2?1:0),a=Math.floor(a/2);for(l=e;l;l-=1)u.push(r%2?1:0),r=Math.floor(r/2);u.push(s?1:0),u.reverse();const d=u.join("");let c="";for(l=0;l<64;l+=8){let f=parseInt(d.substr(l,8),2).toString(16);f.length===1&&(f="0"+f),c=c+f}return c.toLowerCase()},Rq=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},Mq=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"},Vq=new RegExp("^-?(0*)\\d{1,10}$"),Lq=-2147483648,Nq=2147483647,bD=function(t){if(Vq.test(t)){const e=Number(t);if(e>=Lq&&e<=Nq)return e}return null},Vv=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw vr("Exception was thrown by user callback.",n),e},Math.floor(0))}},Fq=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Kf=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bq{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(i=>this.appCheck=i)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,i)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,i):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(i=>i.addTokenListener(e))}notifyForInvalidToken(){vr(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jq{constructor(e,n,i){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(s=>this.auth_=s)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(ps("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,i)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,i):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',vr(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vT="5",EN="v",IN="s",DN="r",AN="f",ON=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,RN="ls",MN="p",nx="ac",VN="websocket",LN="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $q{constructor(e,n,i,s,r=!1,a="",o=!1,l=!1){this.secure=n,this.namespace=i,this.webSocketOnly=s,this.nodeAdmin=r,this.persistenceKey=a,this.includeNamespaceInQueryParams=o,this.isUsingEmulator=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Ou.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Ou.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function Uq(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function NN(t,e,n){We(typeof e=="string","typeof type must == string"),We(typeof n=="object","typeof params must == object");let i;if(e===VN)i=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===LN)i=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);Uq(t)&&(n.ns=t.namespace);const s=[];return Vr(n,(r,a)=>{s.push(r+"="+a)}),i+s.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hq{constructor(){this.counters_={}}incrementCounter(e,n=1){$o(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return z8(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sw={},kw={};function gT(t){const e=t.toString();return Sw[e]||(Sw[e]=new Hq),Sw[e]}function zq(t,e){const n=t.toString();return kw[n]||(kw[n]=e()),kw[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wq{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let s=0;s<i.length;++s)i[s]&&Vv(()=>{this.onMessage_(i[s])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wD="start",Yq="close",Gq="pLPCommand",qq="pRTLPCB",FN="id",BN="pw",jN="ser",Xq="cb",Kq="seg",Qq="ts",Jq="d",Zq="dframe",$N=1870,UN=30,eX=$N-UN,tX=25e3,nX=3e4;class _d{constructor(e,n,i,s,r,a,o){this.connId=e,this.repoInfo=n,this.applicationId=i,this.appCheckToken=s,this.authToken=r,this.transportSessionId=a,this.lastSessionId=o,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Mv(e),this.stats_=gT(n),this.urlFn=l=>(this.appCheckToken&&(l[nx]=this.appCheckToken),NN(n,LN,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new Wq(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(nX)),Aq(()=>{if(this.isClosed_)return;this.scriptTagHolder=new pT((...r)=>{const[a,o,l,u,d]=r;if(this.incrementIncomingBytes_(r),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,a===wD)this.id=o,this.password=l;else if(a===Yq)o?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(o,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+a)},(...r)=>{const[a,o]=r;this.incrementIncomingBytes_(r),this.myPacketOrderer.handleResponse(a,o)},()=>{this.onClosed_()},this.urlFn);const i={};i[wD]="t",i[jN]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(i[Xq]=this.scriptTagHolder.uniqueCallbackIdentifier),i[EN]=vT,this.transportSessionId&&(i[IN]=this.transportSessionId),this.lastSessionId&&(i[RN]=this.lastSessionId),this.applicationId&&(i[MN]=this.applicationId),this.appCheckToken&&(i[nx]=this.appCheckToken),typeof location<"u"&&location.hostname&&ON.test(location.hostname)&&(i[DN]=AN);const s=this.urlFn(i);this.log_("Connecting via long-poll to "+s),this.scriptTagHolder.addTag(s,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){_d.forceAllow_=!0}static forceDisallow(){_d.forceDisallow_=!0}static isAvailable(){return _d.forceAllow_?!0:!_d.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!Rq()&&!Mq()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=es(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const i=v2(n),s=PN(i,eX);for(let r=0;r<s.length;r++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,s.length,s[r]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const i={};i[Zq]="t",i[FN]=e,i[BN]=n,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=es(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class pT{constructor(e,n,i,s){this.onDisconnect=i,this.urlFn=s,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=Eq(),window[Gq+this.uniqueCallbackIdentifier]=e,window[qq+this.uniqueCallbackIdentifier]=n,this.myIFrame=pT.createIFrame_();let r="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(r='<script>document.domain="'+document.domain+'";<\/script>');const a="<html><body>"+r+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(a),this.myIFrame.doc.close()}catch(o){ps("frame writing exception"),o.stack&&ps(o.stack),ps(o)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||ps("No IE domain setting required")}catch{const i=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[FN]=this.myID,e[BN]=this.myPW,e[jN]=this.currentSerial;let n=this.urlFn(e),i="",s=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+UN+i.length<=$N;){const a=this.pendingSegs.shift();i=i+"&"+Kq+s+"="+a.seg+"&"+Qq+s+"="+a.ts+"&"+Jq+s+"="+a.d,s++}return n=n+i,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,i){this.pendingSegs.push({seg:e,ts:n,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const i=()=>{this.outstandingRequests.delete(n),this.newRequest_()},s=setTimeout(i,Math.floor(tX)),r=()=>{clearTimeout(s),i()};this.addTag(e,r)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){const s=i.readyState;(!s||s==="loaded"||s==="complete")&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),n())},i.onerror=()=>{ps("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iX=16384,sX=45e3;let v_=null;typeof MozWebSocket<"u"?v_=MozWebSocket:typeof WebSocket<"u"&&(v_=WebSocket);class Hr{constructor(e,n,i,s,r,a,o){this.connId=e,this.applicationId=i,this.appCheckToken=s,this.authToken=r,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Mv(this.connId),this.stats_=gT(n),this.connURL=Hr.connectionURL_(n,a,o,s,i),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,i,s,r){const a={};return a[EN]=vT,typeof location<"u"&&location.hostname&&ON.test(location.hostname)&&(a[DN]=AN),n&&(a[IN]=n),i&&(a[RN]=i),s&&(a[nx]=s),r&&(a[MN]=r),NN(e,VN,a)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Ou.set("previous_websocket_failure",!0);try{let i;x2(),this.mySock=new v_(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const s=i.message||i.data;s&&this.log_(s),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const s=i.message||i.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){Hr.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(n);i&&i.length>1&&parseFloat(i[1])<4.4&&(e=!0)}return!e&&v_!==null&&!Hr.forceDisallow_}static previouslyFailed(){return Ou.isInMemoryStorage||Ou.get("previous_websocket_failure")===!0}markConnectionHealthy(){Ou.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const i=wm(n);this.onMessage(i)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(We(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const i=this.extractFrameCount_(n);i!==null&&this.appendFrame_(i)}}send(e){this.resetKeepAlive();const n=es(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const i=PN(n,iX);i.length>1&&this.sendString_(String(i.length));for(let s=0;s<i.length;s++)this.sendString_(i[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(sX))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Hr.responsesRequiredToBeHealthy=2;Hr.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pm{static get ALL_TRANSPORTS(){return[_d,Hr]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const n=Hr&&Hr.isAvailable();let i=n&&!Hr.previouslyFailed();if(e.webSocketOnly&&(n||vr("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[Hr];else{const s=this.transports_=[];for(const r of Pm.ALL_TRANSPORTS)r&&r.isAvailable()&&s.push(r);Pm.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Pm.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rX=6e4,aX=5e3,oX=10*1024,lX=100*1024,Tw="t",xD="d",uX="s",SD="r",cX="e",kD="o",TD="a",PD="n",CD="p",dX="h";class hX{constructor(e,n,i,s,r,a,o,l,u,d){this.id=e,this.repoInfo_=n,this.applicationId_=i,this.appCheckToken_=s,this.authToken_=r,this.onMessage_=a,this.onReady_=o,this.onDisconnect_=l,this.onKill_=u,this.lastSessionId=d,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Mv("c:"+this.id+":"),this.transportManager_=new Pm(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,i)},Math.floor(0));const s=e.healthyTimeout||0;s>0&&(this.healthyTimeout_=Kf(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>lX?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>oX?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(s)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Tw in e){const n=e[Tw];n===TD?this.upgradeIfSecondaryHealthy_():n===SD?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===kD&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=gf("t",e),i=gf("d",e);if(n==="c")this.onSecondaryControl_(i);else if(n==="d")this.pendingDataMessages.push(i);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:CD,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:TD,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:PD,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=gf("t",e),i=gf("d",e);n==="c"?this.onControl_(i):n==="d"&&this.onDataMessage_(i)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=gf(Tw,e);if(xD in e){const i=e[xD];if(n===dX){const s=Object.assign({},i);this.repoInfo_.isUsingEmulator&&(s.h=this.repoInfo_.host),this.onHandshake_(s)}else if(n===PD){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let s=0;s<this.pendingDataMessages.length;++s)this.onDataMessage_(this.pendingDataMessages[s]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===uX?this.onConnectionShutdown_(i):n===SD?this.onReset_(i):n===cX?tx("Server Error: "+i):n===kD?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):tx("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,i=e.v,s=e.h;this.sessionId=e.s,this.repoInfo_.host=s,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),vT!==i&&vr("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,i),Kf(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(rX))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Kf(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(aX))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:CD,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Ou.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HN{put(e,n,i,s){}merge(e,n,i,s){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,i){}onDisconnectMerge(e,n,i){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zN{constructor(e){this.allowedEvents_=e,this.listeners_={},We(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const i=[...this.listeners_[e]];for(let s=0;s<i.length;s++)i[s].callback.apply(i[s].context,n)}}on(e,n,i){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:i});const s=this.getInitialEvent(e);s&&n.apply(i,s)}off(e,n,i){this.validateEventType_(e);const s=this.listeners_[e]||[];for(let r=0;r<s.length;r++)if(s[r].callback===n&&(!i||i===s[r].context)){s.splice(r,1);return}}validateEventType_(e){We(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g_ extends zN{static getInstance(){return new g_}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Kk()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return We(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ED=32,ID=768;let Un=class{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let i=0;for(let s=0;s<this.pieces_.length;s++)this.pieces_[s].length>0&&(this.pieces_[i]=this.pieces_[s],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}};function pn(){return new Un("")}function Xt(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Ml(t){return t.pieces_.length-t.pieceNum_}function Vn(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new Un(t.pieces_,e)}function WN(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function fX(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function YN(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function GN(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new Un(e,0)}function Bi(t,e){const n=[];for(let i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);if(e instanceof Un)for(let i=e.pieceNum_;i<e.pieces_.length;i++)n.push(e.pieces_[i]);else{const i=e.split("/");for(let s=0;s<i.length;s++)i[s].length>0&&n.push(i[s])}return new Un(n,0)}function Wt(t){return t.pieceNum_>=t.pieces_.length}function Ar(t,e){const n=Xt(t),i=Xt(e);if(n===null)return e;if(n===i)return Ar(Vn(t),Vn(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function qN(t,e){if(Ml(t)!==Ml(e))return!1;for(let n=t.pieceNum_,i=e.pieceNum_;n<=t.pieces_.length;n++,i++)if(t.pieces_[n]!==e.pieces_[i])return!1;return!0}function qr(t,e){let n=t.pieceNum_,i=e.pieceNum_;if(Ml(t)>Ml(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[i])return!1;++n,++i}return!0}class mX{constructor(e,n){this.errorPrefix_=n,this.parts_=YN(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=ub(this.parts_[i]);XN(this)}}function vX(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=ub(e),XN(t)}function gX(t){const e=t.parts_.pop();t.byteLength_-=ub(e),t.parts_.length>0&&(t.byteLength_-=1)}function XN(t){if(t.byteLength_>ID)throw new Error(t.errorPrefix_+"has a key path longer than "+ID+" bytes ("+t.byteLength_+").");if(t.parts_.length>ED)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+ED+") or object contains a cycle "+wu(t))}function wu(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _T extends zN{static getInstance(){return new _T}constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const i=!document[e];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}getInitialEvent(e){return We(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pf=1e3,pX=60*5*1e3,DD=30*1e3,_X=1.3,yX=3e4,bX="server_kill",AD=3;class xo extends HN{constructor(e,n,i,s,r,a,o,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=i,this.onConnectStatus_=s,this.onServerInfoUpdate_=r,this.authTokenProvider_=a,this.appCheckTokenProvider_=o,this.authOverride_=l,this.id=xo.nextPersistentConnectionId_++,this.log_=Mv("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=pf,this.maxReconnectDelay_=pX,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!x2())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");_T.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&g_.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,i){const s=++this.requestNumber_,r={r:s,a:e,b:n};this.log_(es(r)),We(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(r),i&&(this.requestCBHash_[s]=i)}get(e){this.initConnection_();const n=new bm,s={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:a=>{const o=a.d;a.s==="ok"?n.resolve(o):n.reject(o)}};this.outstandingGets_.push(s),this.outstandingGetCount_++;const r=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(r),n.promise}listen(e,n,i,s){this.initConnection_();const r=e._queryIdentifier,a=e._path.toString();this.log_("Listen called for "+a+" "+r),this.listens.has(a)||this.listens.set(a,new Map),We(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),We(!this.listens.get(a).has(r),"listen() called twice for same path/queryId.");const o={onComplete:s,hashFn:n,query:e,tag:i};this.listens.get(a).set(r,o),this.connected_&&this.sendListen_(o)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,i=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(i)})}sendListen_(e){const n=e.query,i=n._path.toString(),s=n._queryIdentifier;this.log_("Listen on "+i+" for "+s);const r={p:i},a="q";e.tag&&(r.q=n._queryObject,r.t=e.tag),r.h=e.hashFn(),this.sendRequest(a,r,o=>{const l=o.d,u=o.s;xo.warnOnListenWarnings_(l,n),(this.listens.get(i)&&this.listens.get(i).get(s))===e&&(this.log_("listen response",o),u!=="ok"&&this.removeListen_(i,s),e.onComplete&&e.onComplete(u,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&$o(e,"w")){const i=Gd(e,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const s='".indexOn": "'+n._queryParams.getIndex().toString()+'"',r=n._path.toString();vr(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${r} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||oW(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=DD)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=aW(e)?"auth":"gauth",i={cred:e};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(n,i,s=>{const r=s.s,a=s.d||"error";this.authToken_===e&&(r==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(r,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,i=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,i)})}unlisten(e,n){const i=e._path.toString(),s=e._queryIdentifier;this.log_("Unlisten called for "+i+" "+s),We(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,s)&&this.connected_&&this.sendUnlisten_(i,s,e._queryObject,n)}sendUnlisten_(e,n,i,s){this.log_("Unlisten on "+e+" for "+n);const r={p:e},a="n";s&&(r.q=i,r.t=s),this.sendRequest(a,r)}onDisconnectPut(e,n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:i})}onDisconnectMerge(e,n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:i})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,i,s){const r={p:n,d:i};this.log_("onDisconnect "+e,r),this.sendRequest(e,r,a=>{s&&setTimeout(()=>{s(a.s,a.d)},Math.floor(0))})}put(e,n,i,s){this.putInternal("p",e,n,i,s)}merge(e,n,i,s){this.putInternal("m",e,n,i,s)}putInternal(e,n,i,s,r){this.initConnection_();const a={p:n,d:i};r!==void 0&&(a.h=r),this.outstandingPuts_.push({action:e,request:a,onComplete:s}),this.outstandingPutCount_++;const o=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(o):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,i=this.outstandingPuts_[e].request,s=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,i,r=>{this.log_(n+" response",r),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),s&&s(r.s,r.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,i=>{if(i.s!=="ok"){const r=i.d;this.log_("reportStats","Error sending stats: "+r)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+es(e));const n=e.r,i=this.requestCBHash_[n];i&&(delete this.requestCBHash_[n],i(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):tx("Unrecognized action received from server: "+es(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){We(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=pf,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=pf,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>yX&&(this.reconnectDelay_=pf),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*_X)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+xo.nextConnectionId_++,r=this.lastSessionId;let a=!1,o=null;const l=function(){o?o.close():(a=!0,i())},u=function(c){We(o,"sendRequest call when we're not connected not allowed."),o.sendRequest(c)};this.realtime_={close:l,sendRequest:u};const d=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[c,f]=await Promise.all([this.authTokenProvider_.getToken(d),this.appCheckTokenProvider_.getToken(d)]);a?ps("getToken() completed but was canceled"):(ps("getToken() completed. Creating connection."),this.authToken_=c&&c.accessToken,this.appCheckToken_=f&&f.token,o=new hX(s,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,i,h=>{vr(h+" ("+this.repoInfo_.toString()+")"),this.interrupt(bX)},r))}catch(c){this.log_("Failed to get token: "+c),a||(this.repoInfo_.nodeAdmin&&vr(c),l())}}}interrupt(e){ps("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){ps("Resuming connection for reason: "+e),delete this.interruptReasons_[e],H1(this.interruptReasons_)&&(this.reconnectDelay_=pf,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let i;n?i=n.map(r=>mT(r)).join("$"):i="default";const s=this.removeListen_(e,i);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(e,n){const i=new Un(e).toString();let s;if(this.listens.has(i)){const r=this.listens.get(i);s=r.get(n),r.delete(n),r.size===0&&this.listens.delete(i)}else s=void 0;return s}onAuthRevoked_(e,n){ps("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=AD&&(this.reconnectDelay_=DD,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){ps("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=AD&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+xN.replace(/\./g,"-")]=1,Kk()?e["framework.cordova"]=1:w2()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=g_.getInstance().currentlyOnline();return H1(this.interruptReasons_)&&e}}xo.nextPersistentConnectionId_=0;xo.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new Kt(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fb{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const i=new Kt(Xd,e),s=new Kt(Xd,n);return this.compare(i,s)!==0}minPost(){return Kt.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mg;class KN extends fb{static get __EMPTY_NODE(){return Mg}static set __EMPTY_NODE(e){Mg=e}compare(e,n){return Ah(e.name,n.name)}isDefinedOn(e){throw Ph("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return Kt.MIN}maxPost(){return new Kt(nc,Mg)}makePost(e,n){return We(typeof e=="string","KeyIndex indexValue must always be a string."),new Kt(e,Mg)}toString(){return".key"}}const Nd=new KN;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vg=class{constructor(e,n,i,s,r=null){this.isReverse_=s,this.resultGenerator_=r,this.nodeStack_=[];let a=1;for(;!e.isEmpty();)if(e=e,a=n?i(e.key,n):1,s&&(a*=-1),a<0)this.isReverse_?e=e.left:e=e.right;else if(a===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}},or=class If{constructor(e,n,i,s,r){this.key=e,this.value=n,this.color=i??If.RED,this.left=s??Ia.EMPTY_NODE,this.right=r??Ia.EMPTY_NODE}copy(e,n,i,s,r){return new If(e??this.key,n??this.value,i??this.color,s??this.left,r??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let s=this;const r=i(e,s.key);return r<0?s=s.copy(null,null,null,s.left.insert(e,n,i),null):r===0?s=s.copy(null,n,null,null,null):s=s.copy(null,null,null,null,s.right.insert(e,n,i)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return Ia.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let i,s;if(i=this,n(e,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),n(e,i.key)===0){if(i.right.isEmpty())return Ia.EMPTY_NODE;s=i.right.min_(),i=i.copy(s.key,s.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,If.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,If.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}};or.RED=!0;or.BLACK=!1;class wX{copy(e,n,i,s,r){return this}insert(e,n,i){return new or(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}let Ia=class Tp{constructor(e,n=Tp.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new Tp(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,or.BLACK,null,null))}remove(e){return new Tp(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,or.BLACK,null,null))}get(e){let n,i=this.root_;for(;!i.isEmpty();){if(n=this.comparator_(e,i.key),n===0)return i.value;n<0?i=i.left:n>0&&(i=i.right)}return null}getPredecessorKey(e){let n,i=this.root_,s=null;for(;!i.isEmpty();)if(n=this.comparator_(e,i.key),n===0){if(i.left.isEmpty())return s?s.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}else n<0?i=i.left:n>0&&(s=i,i=i.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Vg(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Vg(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Vg(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Vg(this.root_,null,this.comparator_,!0,e)}};Ia.EMPTY_NODE=new wX;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xX(t,e){return Ah(t.name,e.name)}function yT(t,e){return Ah(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ix;function SX(t){ix=t}const QN=function(t){return typeof t=="number"?"number:"+CN(t):"string:"+t},JN=function(t){if(t.isLeafNode()){const e=t.val();We(typeof e=="string"||typeof e=="number"||typeof e=="object"&&$o(e,".sv"),"Priority must be a string or number.")}else We(t===ix||t.isEmpty(),"priority of unexpected type.");We(t===ix||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let OD;class Ni{static set __childrenNodeConstructor(e){OD=e}static get __childrenNodeConstructor(){return OD}constructor(e,n=Ni.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,We(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),JN(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Ni(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Ni.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Wt(e)?this:Xt(e)===".priority"?this.priorityNode_:Ni.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:Ni.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const i=Xt(e);return i===null?n:n.isEmpty()&&i!==".priority"?this:(We(i!==".priority"||Ml(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,Ni.__childrenNodeConstructor.EMPTY_NODE.updateChild(Vn(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+QN(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=CN(this.value_):e+=this.value_,this.lazyHash_=kN(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Ni.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Ni.__childrenNodeConstructor?-1:(We(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,i=typeof this.value_,s=Ni.VALUE_TYPE_ORDER.indexOf(n),r=Ni.VALUE_TYPE_ORDER.indexOf(i);return We(s>=0,"Unknown leaf type: "+n),We(r>=0,"Unknown leaf type: "+i),s===r?i==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:r-s}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}Ni.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ZN,eF;function kX(t){ZN=t}function TX(t){eF=t}class PX extends fb{compare(e,n){const i=e.node.getPriority(),s=n.node.getPriority(),r=i.compareTo(s);return r===0?Ah(e.name,n.name):r}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return Kt.MIN}maxPost(){return new Kt(nc,new Ni("[PRIORITY-POST]",eF))}makePost(e,n){const i=ZN(e);return new Kt(n,new Ni("[PRIORITY-POST]",i))}toString(){return".priority"}}const ws=new PX;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CX=Math.log(2);class EX{constructor(e){const n=r=>parseInt(Math.log(r)/CX,10),i=r=>parseInt(Array(r+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const s=i(this.count);this.bits_=e+1&s}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const p_=function(t,e,n,i){t.sort(e);const s=function(l,u){const d=u-l;let c,f;if(d===0)return null;if(d===1)return c=t[l],f=n?n(c):c,new or(f,c.node,or.BLACK,null,null);{const h=parseInt(d/2,10)+l,g=s(l,h),v=s(h+1,u);return c=t[h],f=n?n(c):c,new or(f,c.node,or.BLACK,g,v)}},r=function(l){let u=null,d=null,c=t.length;const f=function(g,v){const p=c-g,_=c;c-=g;const b=s(p+1,_),x=t[p],k=n?n(x):x;h(new or(k,x.node,v,null,b))},h=function(g){u?(u.left=g,u=g):(d=g,u=g)};for(let g=0;g<l.count;++g){const v=l.nextBitIsOne(),p=Math.pow(2,l.count-(g+1));v?f(p,or.BLACK):(f(p,or.BLACK),f(p,or.RED))}return d},a=new EX(t.length),o=r(a);return new Ia(i||e,o)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pw;const ed={};class bo{static get Default(){return We(ed&&ws,"ChildrenNode.ts has not been loaded"),Pw=Pw||new bo({".priority":ed},{".priority":ws}),Pw}constructor(e,n){this.indexes_=e,this.indexSet_=n}get(e){const n=Gd(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Ia?n:null}hasIndex(e){return $o(this.indexSet_,e.toString())}addIndex(e,n){We(e!==Nd,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let s=!1;const r=n.getIterator(Kt.Wrap);let a=r.getNext();for(;a;)s=s||e.isDefinedOn(a.node),i.push(a),a=r.getNext();let o;s?o=p_(i,e.getCompare()):o=ed;const l=e.toString(),u=Object.assign({},this.indexSet_);u[l]=e;const d=Object.assign({},this.indexes_);return d[l]=o,new bo(d,u)}addToIndexes(e,n){const i=o_(this.indexes_,(s,r)=>{const a=Gd(this.indexSet_,r);if(We(a,"Missing index implementation for "+r),s===ed)if(a.isDefinedOn(e.node)){const o=[],l=n.getIterator(Kt.Wrap);let u=l.getNext();for(;u;)u.name!==e.name&&o.push(u),u=l.getNext();return o.push(e),p_(o,a.getCompare())}else return ed;else{const o=n.get(e.name);let l=s;return o&&(l=l.remove(new Kt(e.name,o))),l.insert(e,e.node)}});return new bo(i,this.indexSet_)}removeFromIndexes(e,n){const i=o_(this.indexes_,s=>{if(s===ed)return s;{const r=n.get(e.name);return r?s.remove(new Kt(e.name,r)):s}});return new bo(i,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _f;class fn{static get EMPTY_NODE(){return _f||(_f=new fn(new Ia(yT),null,bo.Default))}constructor(e,n,i){this.children_=e,this.priorityNode_=n,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&JN(this.priorityNode_),this.children_.isEmpty()&&We(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||_f}updatePriority(e){return this.children_.isEmpty()?this:new fn(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?_f:n}}getChild(e){const n=Xt(e);return n===null?this:this.getImmediateChild(n).getChild(Vn(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(We(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const i=new Kt(e,n);let s,r;n.isEmpty()?(s=this.children_.remove(e),r=this.indexMap_.removeFromIndexes(i,this.children_)):(s=this.children_.insert(e,n),r=this.indexMap_.addToIndexes(i,this.children_));const a=s.isEmpty()?_f:this.priorityNode_;return new fn(s,a,r)}}updateChild(e,n){const i=Xt(e);if(i===null)return n;{We(Xt(e)!==".priority"||Ml(e)===1,".priority must be the last token in a path");const s=this.getImmediateChild(i).updateChild(Vn(e),n);return this.updateImmediateChild(i,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let i=0,s=0,r=!0;if(this.forEachChild(ws,(a,o)=>{n[a]=o.val(e),i++,r&&fn.INTEGER_REGEXP_.test(a)?s=Math.max(s,Number(a)):r=!1}),!e&&r&&s<2*i){const a=[];for(const o in n)a[o]=n[o];return a}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+QN(this.getPriority().val())+":"),this.forEachChild(ws,(n,i)=>{const s=i.hash();s!==""&&(e+=":"+n+":"+s)}),this.lazyHash_=e===""?"":kN(e)}return this.lazyHash_}getPredecessorChildName(e,n,i){const s=this.resolveIndex_(i);if(s){const r=s.getPredecessorKey(new Kt(e,n));return r?r.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const i=n.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new Kt(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const i=n.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new Kt(n,this.children_.get(n)):null}forEachChild(e,n){const i=this.resolveIndex_(e);return i?i.inorderTraversal(s=>n(s.name,s.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const i=this.resolveIndex_(n);if(i)return i.getIteratorFrom(e,s=>s);{const s=this.children_.getIteratorFrom(e.name,Kt.Wrap);let r=s.peek();for(;r!=null&&n.compare(r,e)<0;)s.getNext(),r=s.peek();return s}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const i=this.resolveIndex_(n);if(i)return i.getReverseIteratorFrom(e,s=>s);{const s=this.children_.getReverseIteratorFrom(e.name,Kt.Wrap);let r=s.peek();for(;r!=null&&n.compare(r,e)>0;)s.getNext(),r=s.peek();return s}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Lv?-1:0}withIndex(e){if(e===Nd||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new fn(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===Nd||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const i=this.getIterator(ws),s=n.getIterator(ws);let r=i.getNext(),a=s.getNext();for(;r&&a;){if(r.name!==a.name||!r.node.equals(a.node))return!1;r=i.getNext(),a=s.getNext()}return r===null&&a===null}else return!1;else return!1}}resolveIndex_(e){return e===Nd?null:this.indexMap_.get(e.toString())}}fn.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class IX extends fn{constructor(){super(new Ia(yT),fn.EMPTY_NODE,bo.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return fn.EMPTY_NODE}isEmpty(){return!1}}const Lv=new IX;Object.defineProperties(Kt,{MIN:{value:new Kt(Xd,fn.EMPTY_NODE)},MAX:{value:new Kt(nc,Lv)}});KN.__EMPTY_NODE=fn.EMPTY_NODE;Ni.__childrenNodeConstructor=fn;SX(Lv);TX(Lv);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DX=!0;function _s(t,e=null){if(t===null)return fn.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),We(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new Ni(n,_s(e))}if(!(t instanceof Array)&&DX){const n=[];let i=!1;if(Vr(t,(a,o)=>{if(a.substring(0,1)!=="."){const l=_s(o);l.isEmpty()||(i=i||!l.getPriority().isEmpty(),n.push(new Kt(a,l)))}}),n.length===0)return fn.EMPTY_NODE;const r=p_(n,xX,a=>a.name,yT);if(i){const a=p_(n,ws.getCompare());return new fn(r,_s(e),new bo({".priority":a},{".priority":ws}))}else return new fn(r,_s(e),bo.Default)}else{let n=fn.EMPTY_NODE;return Vr(t,(i,s)=>{if($o(t,i)&&i.substring(0,1)!=="."){const r=_s(s);(r.isLeafNode()||!r.isEmpty())&&(n=n.updateImmediateChild(i,r))}}),n.updatePriority(_s(e))}}kX(_s);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AX extends fb{constructor(e){super(),this.indexPath_=e,We(!Wt(e)&&Xt(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const i=this.extractChild(e.node),s=this.extractChild(n.node),r=i.compareTo(s);return r===0?Ah(e.name,n.name):r}makePost(e,n){const i=_s(e),s=fn.EMPTY_NODE.updateChild(this.indexPath_,i);return new Kt(n,s)}maxPost(){const e=fn.EMPTY_NODE.updateChild(this.indexPath_,Lv);return new Kt(nc,e)}toString(){return YN(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OX extends fb{compare(e,n){const i=e.node.compareTo(n.node);return i===0?Ah(e.name,n.name):i}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return Kt.MIN}maxPost(){return Kt.MAX}makePost(e,n){const i=_s(e);return new Kt(n,i)}toString(){return".value"}}const RX=new OX;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MX(t){return{type:"value",snapshotNode:t}}function VX(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function LX(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function RD(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function NX(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bT{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=ws}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return We(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return We(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Xd}hasEnd(){return this.endSet_}getIndexEndValue(){return We(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return We(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:nc}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return We(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===ws}copy(){const e=new bT;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function MD(t){const e={};if(t.isDefault())return e;let n;if(t.index_===ws?n="$priority":t.index_===RX?n="$value":t.index_===Nd?n="$key":(We(t.index_ instanceof AX,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=es(n),t.startSet_){const i=t.startAfterSet_?"startAfter":"startAt";e[i]=es(t.indexStartValue_),t.startNameSet_&&(e[i]+=","+es(t.indexStartName_))}if(t.endSet_){const i=t.endBeforeSet_?"endBefore":"endAt";e[i]=es(t.indexEndValue_),t.endNameSet_&&(e[i]+=","+es(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function VD(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==ws&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __ extends HN{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(We(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,n,i,s){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=i,this.appCheckTokenProvider_=s,this.log_=Mv("p:rest:"),this.listens_={}}listen(e,n,i,s){const r=e._path.toString();this.log_("Listen called for "+r+" "+e._queryIdentifier);const a=__.getListenId_(e,i),o={};this.listens_[a]=o;const l=MD(e._queryParams);this.restRequest_(r+".json",l,(u,d)=>{let c=d;if(u===404&&(c=null,u=null),u===null&&this.onDataUpdate_(r,c,!1,i),Gd(this.listens_,a)===o){let f;u?u===401?f="permission_denied":f="rest_error:"+u:f="ok",s(f,null)}})}unlisten(e,n){const i=__.getListenId_(e,n);delete this.listens_[i]}get(e){const n=MD(e._queryParams),i=e._path.toString(),s=new bm;return this.restRequest_(i+".json",n,(r,a)=>{let o=a;r===404&&(o=null,r=null),r===null?(this.onDataUpdate_(i,o,!1,null),s.resolve(o)):s.reject(new Error(o))}),s.promise}refreshAuthToken(e){}restRequest_(e,n={},i){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([s,r])=>{s&&s.accessToken&&(n.auth=s.accessToken),r&&r.token&&(n.ac=r.token);const a=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Ch(n);this.log_("Sending REST request for "+a);const o=new XMLHttpRequest;o.onreadystatechange=()=>{if(i&&o.readyState===4){this.log_("REST Response for "+a+" received. status:",o.status,"response:",o.responseText);let l=null;if(o.status>=200&&o.status<300){try{l=wm(o.responseText)}catch{vr("Failed to parse JSON response for "+a+": "+o.responseText)}i(null,l)}else o.status!==401&&o.status!==404&&vr("Got unsuccessful REST response for "+a+" Status: "+o.status),i(o.status);i=null}},o.open("GET",a,!0),o.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FX{constructor(){this.rootNode_=fn.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y_(){return{value:null,children:new Map}}function tF(t,e,n){if(Wt(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const i=Xt(e);t.children.has(i)||t.children.set(i,y_());const s=t.children.get(i);e=Vn(e),tF(s,e,n)}}function sx(t,e,n){t.value!==null?n(e,t.value):BX(t,(i,s)=>{const r=new Un(e.toString()+"/"+i);sx(s,r,n)})}function BX(t,e){t.children.forEach((n,i)=>{e(i,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jX{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&Vr(this.last_,(i,s)=>{n[i]=n[i]-s}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LD=10*1e3,$X=30*1e3,UX=5*60*1e3;class HX{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new jX(e);const i=LD+($X-LD)*Math.random();Kf(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const e=this.statsListener_.get(),n={};let i=!1;Vr(e,(s,r)=>{r>0&&$o(this.statsToReport_,s)&&(n[s]=r,i=!0)}),i&&this.server_.reportStats(n),Kf(this.reportStats_.bind(this),Math.floor(Math.random()*2*UX))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Da;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Da||(Da={}));function nF(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function iF(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function sF(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b_{constructor(e,n,i){this.path=e,this.affectedTree=n,this.revert=i,this.type=Da.ACK_USER_WRITE,this.source=nF()}operationForChild(e){if(Wt(this.path)){if(this.affectedTree.value!=null)return We(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new Un(e));return new b_(pn(),n,this.revert)}}else return We(Xt(this.path)===e,"operationForChild called for unrelated child."),new b_(Vn(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic{constructor(e,n,i){this.source=e,this.path=n,this.snap=i,this.type=Da.OVERWRITE}operationForChild(e){return Wt(this.path)?new ic(this.source,pn(),this.snap.getImmediateChild(e)):new ic(this.source,Vn(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cm{constructor(e,n,i){this.source=e,this.path=n,this.children=i,this.type=Da.MERGE}operationForChild(e){if(Wt(this.path)){const n=this.children.subtree(new Un(e));return n.isEmpty()?null:n.value?new ic(this.source,pn(),n.value):new Cm(this.source,pn(),n)}else return We(Xt(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Cm(this.source,Vn(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wT{constructor(e,n,i){this.node_=e,this.fullyInitialized_=n,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Wt(e))return this.isFullyInitialized()&&!this.filtered_;const n=Xt(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}function zX(t,e,n,i){const s=[],r=[];return e.forEach(a=>{a.type==="child_changed"&&t.index_.indexedValueChanged(a.oldSnap,a.snapshotNode)&&r.push(NX(a.childName,a.snapshotNode))}),yf(t,s,"child_removed",e,i,n),yf(t,s,"child_added",e,i,n),yf(t,s,"child_moved",r,i,n),yf(t,s,"child_changed",e,i,n),yf(t,s,"value",e,i,n),s}function yf(t,e,n,i,s,r){const a=i.filter(o=>o.type===n);a.sort((o,l)=>YX(t,o,l)),a.forEach(o=>{const l=WX(t,o,r);s.forEach(u=>{u.respondsTo(o.type)&&e.push(u.createEvent(l,t.query_))})})}function WX(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function YX(t,e,n){if(e.childName==null||n.childName==null)throw Ph("Should only compare child_ events.");const i=new Kt(e.childName,e.snapshotNode),s=new Kt(n.childName,n.snapshotNode);return t.index_.compare(i,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rF(t,e){return{eventCache:t,serverCache:e}}function Qf(t,e,n,i){return rF(new wT(e,n,i),t.serverCache)}function aF(t,e,n,i){return rF(t.eventCache,new wT(e,n,i))}function rx(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function sc(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cw;const GX=()=>(Cw||(Cw=new Ia(Oq)),Cw);class Mn{static fromObject(e){let n=new Mn(null);return Vr(e,(i,s)=>{n=n.set(new Un(i),s)}),n}constructor(e,n=GX()){this.value=e,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:pn(),value:this.value};if(Wt(e))return null;{const i=Xt(e),s=this.children.get(i);if(s!==null){const r=s.findRootMostMatchingPathAndValue(Vn(e),n);return r!=null?{path:Bi(new Un(i),r.path),value:r.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Wt(e))return this;{const n=Xt(e),i=this.children.get(n);return i!==null?i.subtree(Vn(e)):new Mn(null)}}set(e,n){if(Wt(e))return new Mn(n,this.children);{const i=Xt(e),r=(this.children.get(i)||new Mn(null)).set(Vn(e),n),a=this.children.insert(i,r);return new Mn(this.value,a)}}remove(e){if(Wt(e))return this.children.isEmpty()?new Mn(null):new Mn(null,this.children);{const n=Xt(e),i=this.children.get(n);if(i){const s=i.remove(Vn(e));let r;return s.isEmpty()?r=this.children.remove(n):r=this.children.insert(n,s),this.value===null&&r.isEmpty()?new Mn(null):new Mn(this.value,r)}else return this}}get(e){if(Wt(e))return this.value;{const n=Xt(e),i=this.children.get(n);return i?i.get(Vn(e)):null}}setTree(e,n){if(Wt(e))return n;{const i=Xt(e),r=(this.children.get(i)||new Mn(null)).setTree(Vn(e),n);let a;return r.isEmpty()?a=this.children.remove(i):a=this.children.insert(i,r),new Mn(this.value,a)}}fold(e){return this.fold_(pn(),e)}fold_(e,n){const i={};return this.children.inorderTraversal((s,r)=>{i[s]=r.fold_(Bi(e,s),n)}),n(e,this.value,i)}findOnPath(e,n){return this.findOnPath_(e,pn(),n)}findOnPath_(e,n,i){const s=this.value?i(n,this.value):!1;if(s)return s;if(Wt(e))return null;{const r=Xt(e),a=this.children.get(r);return a?a.findOnPath_(Vn(e),Bi(n,r),i):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,pn(),n)}foreachOnPath_(e,n,i){if(Wt(e))return this;{this.value&&i(n,this.value);const s=Xt(e),r=this.children.get(s);return r?r.foreachOnPath_(Vn(e),Bi(n,s),i):new Mn(null)}}foreach(e){this.foreach_(pn(),e)}foreach_(e,n){this.children.inorderTraversal((i,s)=>{s.foreach_(Bi(e,i),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,i)=>{i.value&&e(n,i.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na{constructor(e){this.writeTree_=e}static empty(){return new na(new Mn(null))}}function Jf(t,e,n){if(Wt(e))return new na(new Mn(n));{const i=t.writeTree_.findRootMostValueAndPath(e);if(i!=null){const s=i.path;let r=i.value;const a=Ar(s,e);return r=r.updateChild(a,n),new na(t.writeTree_.set(s,r))}else{const s=new Mn(n),r=t.writeTree_.setTree(e,s);return new na(r)}}}function ND(t,e,n){let i=t;return Vr(n,(s,r)=>{i=Jf(i,Bi(e,s),r)}),i}function FD(t,e){if(Wt(e))return na.empty();{const n=t.writeTree_.setTree(e,new Mn(null));return new na(n)}}function ax(t,e){return Ic(t,e)!=null}function Ic(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Ar(n.path,e)):null}function BD(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(ws,(i,s)=>{e.push(new Kt(i,s))}):t.writeTree_.children.inorderTraversal((i,s)=>{s.value!=null&&e.push(new Kt(i,s.value))}),e}function Tl(t,e){if(Wt(e))return t;{const n=Ic(t,e);return n!=null?new na(new Mn(n)):new na(t.writeTree_.subtree(e))}}function ox(t){return t.writeTree_.isEmpty()}function Kd(t,e){return oF(pn(),t.writeTree_,e)}function oF(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let i=null;return e.children.inorderTraversal((s,r)=>{s===".priority"?(We(r.value!==null,"Priority writes must always be leaf nodes"),i=r.value):n=oF(Bi(t,s),r,n)}),!n.getChild(t).isEmpty()&&i!==null&&(n=n.updateChild(Bi(t,".priority"),i)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lF(t,e){return fF(e,t)}function qX(t,e,n,i,s){We(i>t.lastWriteId,"Stacking an older write on top of newer ones"),s===void 0&&(s=!0),t.allWrites.push({path:e,snap:n,writeId:i,visible:s}),s&&(t.visibleWrites=Jf(t.visibleWrites,e,n)),t.lastWriteId=i}function XX(t,e){for(let n=0;n<t.allWrites.length;n++){const i=t.allWrites[n];if(i.writeId===e)return i}return null}function KX(t,e){const n=t.allWrites.findIndex(o=>o.writeId===e);We(n>=0,"removeWrite called with nonexistent writeId.");const i=t.allWrites[n];t.allWrites.splice(n,1);let s=i.visible,r=!1,a=t.allWrites.length-1;for(;s&&a>=0;){const o=t.allWrites[a];o.visible&&(a>=n&&QX(o,i.path)?s=!1:qr(i.path,o.path)&&(r=!0)),a--}if(s){if(r)return JX(t),!0;if(i.snap)t.visibleWrites=FD(t.visibleWrites,i.path);else{const o=i.children;Vr(o,l=>{t.visibleWrites=FD(t.visibleWrites,Bi(i.path,l))})}return!0}else return!1}function QX(t,e){if(t.snap)return qr(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&qr(Bi(t.path,n),e))return!0;return!1}function JX(t){t.visibleWrites=uF(t.allWrites,ZX,pn()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function ZX(t){return t.visible}function uF(t,e,n){let i=na.empty();for(let s=0;s<t.length;++s){const r=t[s];if(e(r)){const a=r.path;let o;if(r.snap)qr(n,a)?(o=Ar(n,a),i=Jf(i,o,r.snap)):qr(a,n)&&(o=Ar(a,n),i=Jf(i,pn(),r.snap.getChild(o)));else if(r.children){if(qr(n,a))o=Ar(n,a),i=ND(i,o,r.children);else if(qr(a,n))if(o=Ar(a,n),Wt(o))i=ND(i,pn(),r.children);else{const l=Gd(r.children,Xt(o));if(l){const u=l.getChild(Vn(o));i=Jf(i,pn(),u)}}}else throw Ph("WriteRecord should have .snap or .children")}}return i}function cF(t,e,n,i,s){if(!i&&!s){const r=Ic(t.visibleWrites,e);if(r!=null)return r;{const a=Tl(t.visibleWrites,e);if(ox(a))return n;if(n==null&&!ax(a,pn()))return null;{const o=n||fn.EMPTY_NODE;return Kd(a,o)}}}else{const r=Tl(t.visibleWrites,e);if(!s&&ox(r))return n;if(!s&&n==null&&!ax(r,pn()))return null;{const a=function(u){return(u.visible||s)&&(!i||!~i.indexOf(u.writeId))&&(qr(u.path,e)||qr(e,u.path))},o=uF(t.allWrites,a,e),l=n||fn.EMPTY_NODE;return Kd(o,l)}}}function eK(t,e,n){let i=fn.EMPTY_NODE;const s=Ic(t.visibleWrites,e);if(s)return s.isLeafNode()||s.forEachChild(ws,(r,a)=>{i=i.updateImmediateChild(r,a)}),i;if(n){const r=Tl(t.visibleWrites,e);return n.forEachChild(ws,(a,o)=>{const l=Kd(Tl(r,new Un(a)),o);i=i.updateImmediateChild(a,l)}),BD(r).forEach(a=>{i=i.updateImmediateChild(a.name,a.node)}),i}else{const r=Tl(t.visibleWrites,e);return BD(r).forEach(a=>{i=i.updateImmediateChild(a.name,a.node)}),i}}function tK(t,e,n,i,s){We(i||s,"Either existingEventSnap or existingServerSnap must exist");const r=Bi(e,n);if(ax(t.visibleWrites,r))return null;{const a=Tl(t.visibleWrites,r);return ox(a)?s.getChild(n):Kd(a,s.getChild(n))}}function nK(t,e,n,i){const s=Bi(e,n),r=Ic(t.visibleWrites,s);if(r!=null)return r;if(i.isCompleteForChild(n)){const a=Tl(t.visibleWrites,s);return Kd(a,i.getNode().getImmediateChild(n))}else return null}function iK(t,e){return Ic(t.visibleWrites,e)}function sK(t,e,n,i,s,r,a){let o;const l=Tl(t.visibleWrites,e),u=Ic(l,pn());if(u!=null)o=u;else if(n!=null)o=Kd(l,n);else return[];if(o=o.withIndex(a),!o.isEmpty()&&!o.isLeafNode()){const d=[],c=a.getCompare(),f=r?o.getReverseIteratorFrom(i,a):o.getIteratorFrom(i,a);let h=f.getNext();for(;h&&d.length<s;)c(h,i)!==0&&d.push(h),h=f.getNext();return d}else return[]}function rK(){return{visibleWrites:na.empty(),allWrites:[],lastWriteId:-1}}function lx(t,e,n,i){return cF(t.writeTree,t.treePath,e,n,i)}function dF(t,e){return eK(t.writeTree,t.treePath,e)}function jD(t,e,n,i){return tK(t.writeTree,t.treePath,e,n,i)}function w_(t,e){return iK(t.writeTree,Bi(t.treePath,e))}function aK(t,e,n,i,s,r){return sK(t.writeTree,t.treePath,e,n,i,s,r)}function xT(t,e,n){return nK(t.writeTree,t.treePath,e,n)}function hF(t,e){return fF(Bi(t.treePath,e),t.writeTree)}function fF(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oK{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,i=e.childName;We(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),We(i!==".priority","Only non-priority child changes can be tracked.");const s=this.changeMap.get(i);if(s){const r=s.type;if(n==="child_added"&&r==="child_removed")this.changeMap.set(i,RD(i,e.snapshotNode,s.snapshotNode));else if(n==="child_removed"&&r==="child_added")this.changeMap.delete(i);else if(n==="child_removed"&&r==="child_changed")this.changeMap.set(i,LX(i,s.oldSnap));else if(n==="child_changed"&&r==="child_added")this.changeMap.set(i,VX(i,e.snapshotNode));else if(n==="child_changed"&&r==="child_changed")this.changeMap.set(i,RD(i,e.snapshotNode,s.oldSnap));else throw Ph("Illegal combination of changes: "+e+" occurred after "+s)}else this.changeMap.set(i,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lK{getCompleteChild(e){return null}getChildAfterChild(e,n,i){return null}}const mF=new lK;class ST{constructor(e,n,i=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=i}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const i=this.optCompleteServerCache_!=null?new wT(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return xT(this.writes_,e,i)}}getChildAfterChild(e,n,i){const s=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:sc(this.viewCache_),r=aK(this.writes_,s,n,1,i,e);return r.length===0?null:r[0]}}function uK(t,e){We(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),We(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function cK(t,e,n,i,s){const r=new oK;let a,o;if(n.type===Da.OVERWRITE){const u=n;u.source.fromUser?a=ux(t,e,u.path,u.snap,i,s,r):(We(u.source.fromServer,"Unknown source."),o=u.source.tagged||e.serverCache.isFiltered()&&!Wt(u.path),a=x_(t,e,u.path,u.snap,i,s,o,r))}else if(n.type===Da.MERGE){const u=n;u.source.fromUser?a=hK(t,e,u.path,u.children,i,s,r):(We(u.source.fromServer,"Unknown source."),o=u.source.tagged||e.serverCache.isFiltered(),a=cx(t,e,u.path,u.children,i,s,o,r))}else if(n.type===Da.ACK_USER_WRITE){const u=n;u.revert?a=vK(t,e,u.path,i,s,r):a=fK(t,e,u.path,u.affectedTree,i,s,r)}else if(n.type===Da.LISTEN_COMPLETE)a=mK(t,e,n.path,i,r);else throw Ph("Unknown operation type: "+n.type);const l=r.getChanges();return dK(e,a,l),{viewCache:a,changes:l}}function dK(t,e,n){const i=e.eventCache;if(i.isFullyInitialized()){const s=i.getNode().isLeafNode()||i.getNode().isEmpty(),r=rx(t);(n.length>0||!t.eventCache.isFullyInitialized()||s&&!i.getNode().equals(r)||!i.getNode().getPriority().equals(r.getPriority()))&&n.push(MX(rx(e)))}}function vF(t,e,n,i,s,r){const a=e.eventCache;if(w_(i,n)!=null)return e;{let o,l;if(Wt(n))if(We(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const u=sc(e),d=u instanceof fn?u:fn.EMPTY_NODE,c=dF(i,d);o=t.filter.updateFullNode(e.eventCache.getNode(),c,r)}else{const u=lx(i,sc(e));o=t.filter.updateFullNode(e.eventCache.getNode(),u,r)}else{const u=Xt(n);if(u===".priority"){We(Ml(n)===1,"Can't have a priority with additional path components");const d=a.getNode();l=e.serverCache.getNode();const c=jD(i,n,d,l);c!=null?o=t.filter.updatePriority(d,c):o=a.getNode()}else{const d=Vn(n);let c;if(a.isCompleteForChild(u)){l=e.serverCache.getNode();const f=jD(i,n,a.getNode(),l);f!=null?c=a.getNode().getImmediateChild(u).updateChild(d,f):c=a.getNode().getImmediateChild(u)}else c=xT(i,u,e.serverCache);c!=null?o=t.filter.updateChild(a.getNode(),u,c,d,s,r):o=a.getNode()}}return Qf(e,o,a.isFullyInitialized()||Wt(n),t.filter.filtersNodes())}}function x_(t,e,n,i,s,r,a,o){const l=e.serverCache;let u;const d=a?t.filter:t.filter.getIndexedFilter();if(Wt(n))u=d.updateFullNode(l.getNode(),i,null);else if(d.filtersNodes()&&!l.isFiltered()){const h=l.getNode().updateChild(n,i);u=d.updateFullNode(l.getNode(),h,null)}else{const h=Xt(n);if(!l.isCompleteForPath(n)&&Ml(n)>1)return e;const g=Vn(n),p=l.getNode().getImmediateChild(h).updateChild(g,i);h===".priority"?u=d.updatePriority(l.getNode(),p):u=d.updateChild(l.getNode(),h,p,g,mF,null)}const c=aF(e,u,l.isFullyInitialized()||Wt(n),d.filtersNodes()),f=new ST(s,c,r);return vF(t,c,n,s,f,o)}function ux(t,e,n,i,s,r,a){const o=e.eventCache;let l,u;const d=new ST(s,e,r);if(Wt(n))u=t.filter.updateFullNode(e.eventCache.getNode(),i,a),l=Qf(e,u,!0,t.filter.filtersNodes());else{const c=Xt(n);if(c===".priority")u=t.filter.updatePriority(e.eventCache.getNode(),i),l=Qf(e,u,o.isFullyInitialized(),o.isFiltered());else{const f=Vn(n),h=o.getNode().getImmediateChild(c);let g;if(Wt(f))g=i;else{const v=d.getCompleteChild(c);v!=null?WN(f)===".priority"&&v.getChild(GN(f)).isEmpty()?g=v:g=v.updateChild(f,i):g=fn.EMPTY_NODE}if(h.equals(g))l=e;else{const v=t.filter.updateChild(o.getNode(),c,g,f,d,a);l=Qf(e,v,o.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function $D(t,e){return t.eventCache.isCompleteForChild(e)}function hK(t,e,n,i,s,r,a){let o=e;return i.foreach((l,u)=>{const d=Bi(n,l);$D(e,Xt(d))&&(o=ux(t,o,d,u,s,r,a))}),i.foreach((l,u)=>{const d=Bi(n,l);$D(e,Xt(d))||(o=ux(t,o,d,u,s,r,a))}),o}function UD(t,e,n){return n.foreach((i,s)=>{e=e.updateChild(i,s)}),e}function cx(t,e,n,i,s,r,a,o){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,u;Wt(n)?u=i:u=new Mn(null).setTree(n,i);const d=e.serverCache.getNode();return u.children.inorderTraversal((c,f)=>{if(d.hasChild(c)){const h=e.serverCache.getNode().getImmediateChild(c),g=UD(t,h,f);l=x_(t,l,new Un(c),g,s,r,a,o)}}),u.children.inorderTraversal((c,f)=>{const h=!e.serverCache.isCompleteForChild(c)&&f.value===null;if(!d.hasChild(c)&&!h){const g=e.serverCache.getNode().getImmediateChild(c),v=UD(t,g,f);l=x_(t,l,new Un(c),v,s,r,a,o)}}),l}function fK(t,e,n,i,s,r,a){if(w_(s,n)!=null)return e;const o=e.serverCache.isFiltered(),l=e.serverCache;if(i.value!=null){if(Wt(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return x_(t,e,n,l.getNode().getChild(n),s,r,o,a);if(Wt(n)){let u=new Mn(null);return l.getNode().forEachChild(Nd,(d,c)=>{u=u.set(new Un(d),c)}),cx(t,e,n,u,s,r,o,a)}else return e}else{let u=new Mn(null);return i.foreach((d,c)=>{const f=Bi(n,d);l.isCompleteForPath(f)&&(u=u.set(d,l.getNode().getChild(f)))}),cx(t,e,n,u,s,r,o,a)}}function mK(t,e,n,i,s){const r=e.serverCache,a=aF(e,r.getNode(),r.isFullyInitialized()||Wt(n),r.isFiltered());return vF(t,a,n,i,mF,s)}function vK(t,e,n,i,s,r){let a;if(w_(i,n)!=null)return e;{const o=new ST(i,e,s),l=e.eventCache.getNode();let u;if(Wt(n)||Xt(n)===".priority"){let d;if(e.serverCache.isFullyInitialized())d=lx(i,sc(e));else{const c=e.serverCache.getNode();We(c instanceof fn,"serverChildren would be complete if leaf node"),d=dF(i,c)}d=d,u=t.filter.updateFullNode(l,d,r)}else{const d=Xt(n);let c=xT(i,d,e.serverCache);c==null&&e.serverCache.isCompleteForChild(d)&&(c=l.getImmediateChild(d)),c!=null?u=t.filter.updateChild(l,d,c,Vn(n),o,r):e.eventCache.getNode().hasChild(d)?u=t.filter.updateChild(l,d,fn.EMPTY_NODE,Vn(n),o,r):u=l,u.isEmpty()&&e.serverCache.isFullyInitialized()&&(a=lx(i,sc(e)),a.isLeafNode()&&(u=t.filter.updateFullNode(u,a,r)))}return a=e.serverCache.isFullyInitialized()||w_(i,pn())!=null,Qf(e,u,a,t.filter.filtersNodes())}}function gK(t,e){const n=sc(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!Wt(e)&&!n.getImmediateChild(Xt(e)).isEmpty())?n.getChild(e):null}function HD(t,e,n,i){e.type===Da.MERGE&&e.source.queryId!==null&&(We(sc(t.viewCache_),"We should always have a full cache before handling merges"),We(rx(t.viewCache_),"Missing event cache, even though we have a server cache"));const s=t.viewCache_,r=cK(t.processor_,s,e,n,i);return uK(t.processor_,r.viewCache),We(r.viewCache.serverCache.isFullyInitialized()||!s.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=r.viewCache,pK(t,r.changes,r.viewCache.eventCache.getNode())}function pK(t,e,n,i){const s=t.eventRegistrations_;return zX(t.eventGenerator_,e,n,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zD;function _K(t){We(!zD,"__referenceConstructor has already been defined"),zD=t}function kT(t,e,n,i){const s=e.source.queryId;if(s!==null){const r=t.views.get(s);return We(r!=null,"SyncTree gave us an op for an invalid query."),HD(r,e,n,i)}else{let r=[];for(const a of t.views.values())r=r.concat(HD(a,e,n,i));return r}}function TT(t,e){let n=null;for(const i of t.views.values())n=n||gK(i,e);return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let WD;function yK(t){We(!WD,"__referenceConstructor has already been defined"),WD=t}class YD{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Mn(null),this.pendingWriteTree_=rK(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function bK(t,e,n,i,s){return qX(t.pendingWriteTree_,e,n,i,s),s?vb(t,new ic(nF(),e,n)):[]}function yd(t,e,n=!1){const i=XX(t.pendingWriteTree_,e);if(KX(t.pendingWriteTree_,e)){let r=new Mn(null);return i.snap!=null?r=r.set(pn(),!0):Vr(i.children,a=>{r=r.set(new Un(a),!0)}),vb(t,new b_(i.path,r,n))}else return[]}function mb(t,e,n){return vb(t,new ic(iF(),e,n))}function wK(t,e,n){const i=Mn.fromObject(n);return vb(t,new Cm(iF(),e,i))}function xK(t,e,n,i){const s=yF(t,i);if(s!=null){const r=bF(s),a=r.path,o=r.queryId,l=Ar(a,e),u=new ic(sF(o),l,n);return wF(t,a,u)}else return[]}function SK(t,e,n,i){const s=yF(t,i);if(s){const r=bF(s),a=r.path,o=r.queryId,l=Ar(a,e),u=Mn.fromObject(n),d=new Cm(sF(o),l,u);return wF(t,a,d)}else return[]}function gF(t,e,n){const s=t.pendingWriteTree_,r=t.syncPointTree_.findOnPath(e,(a,o)=>{const l=Ar(a,e),u=TT(o,l);if(u)return u});return cF(s,e,r,n,!0)}function vb(t,e){return pF(e,t.syncPointTree_,null,lF(t.pendingWriteTree_,pn()))}function pF(t,e,n,i){if(Wt(t.path))return _F(t,e,n,i);{const s=e.get(pn());n==null&&s!=null&&(n=TT(s,pn()));let r=[];const a=Xt(t.path),o=t.operationForChild(a),l=e.children.get(a);if(l&&o){const u=n?n.getImmediateChild(a):null,d=hF(i,a);r=r.concat(pF(o,l,u,d))}return s&&(r=r.concat(kT(s,t,i,n))),r}}function _F(t,e,n,i){const s=e.get(pn());n==null&&s!=null&&(n=TT(s,pn()));let r=[];return e.children.inorderTraversal((a,o)=>{const l=n?n.getImmediateChild(a):null,u=hF(i,a),d=t.operationForChild(a);d&&(r=r.concat(_F(d,o,l,u)))}),s&&(r=r.concat(kT(s,t,i,n))),r}function yF(t,e){return t.tagToQueryMap.get(e)}function bF(t){const e=t.indexOf("$");return We(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Un(t.substr(0,e))}}function wF(t,e,n){const i=t.syncPointTree_.get(e);We(i,"Missing sync point for query tag that we're tracking");const s=lF(t.pendingWriteTree_,e);return kT(i,n,s,null)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PT{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new PT(n)}node(){return this.node_}}class CT{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=Bi(this.path_,e);return new CT(this.syncTree_,n)}node(){return gF(this.syncTree_,this.path_)}}const kK=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},GD=function(t,e,n){if(!t||typeof t!="object")return t;if(We(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return TK(t[".sv"],e,n);if(typeof t[".sv"]=="object")return PK(t[".sv"],e);We(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},TK=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:We(!1,"Unexpected server value: "+t)}},PK=function(t,e,n){t.hasOwnProperty("increment")||We(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const i=t.increment;typeof i!="number"&&We(!1,"Unexpected increment value: "+i);const s=e.node();if(We(s!==null&&typeof s<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!s.isLeafNode())return i;const a=s.getValue();return typeof a!="number"?i:a+i},CK=function(t,e,n,i){return ET(e,new CT(n,t),i)},EK=function(t,e,n){return ET(t,new PT(e),n)};function ET(t,e,n){const i=t.getPriority().val(),s=GD(i,e.getImmediateChild(".priority"),n);let r;if(t.isLeafNode()){const a=t,o=GD(a.getValue(),e,n);return o!==a.getValue()||s!==a.getPriority().val()?new Ni(o,_s(s)):t}else{const a=t;return r=a,s!==a.getPriority().val()&&(r=r.updatePriority(new Ni(s))),a.forEachChild(ws,(o,l)=>{const u=ET(l,e.getImmediateChild(o),n);u!==l&&(r=r.updateImmediateChild(o,u))}),r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IT{constructor(e="",n=null,i={children:{},childCount:0}){this.name=e,this.parent=n,this.node=i}}function DT(t,e){let n=e instanceof Un?e:new Un(e),i=t,s=Xt(n);for(;s!==null;){const r=Gd(i.node.children,s)||{children:{},childCount:0};i=new IT(s,i,r),n=Vn(n),s=Xt(n)}return i}function Oh(t){return t.node.value}function xF(t,e){t.node.value=e,dx(t)}function SF(t){return t.node.childCount>0}function IK(t){return Oh(t)===void 0&&!SF(t)}function gb(t,e){Vr(t.node.children,(n,i)=>{e(new IT(n,t,i))})}function kF(t,e,n,i){n&&!i&&e(t),gb(t,s=>{kF(s,e,!0,i)}),n&&i&&e(t)}function DK(t,e,n){let i=t.parent;for(;i!==null;){if(e(i))return!0;i=i.parent}return!1}function Nv(t){return new Un(t.parent===null?t.name:Nv(t.parent)+"/"+t.name)}function dx(t){t.parent!==null&&AK(t.parent,t.name,t)}function AK(t,e,n){const i=IK(n),s=$o(t.node.children,e);i&&s?(delete t.node.children[e],t.node.childCount--,dx(t)):!i&&!s&&(t.node.children[e]=n.node,t.node.childCount++,dx(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OK=/[\[\].#$\/\u0000-\u001F\u007F]/,RK=/[\[\].#$\u0000-\u001F\u007F]/,Ew=10*1024*1024,TF=function(t){return typeof t=="string"&&t.length!==0&&!OK.test(t)},MK=function(t){return typeof t=="string"&&t.length!==0&&!RK.test(t)},VK=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),MK(t)},PF=function(t,e,n){const i=n instanceof Un?new mX(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+wu(i));if(typeof e=="function")throw new Error(t+"contains a function "+wu(i)+" with contents = "+e.toString());if(TN(e))throw new Error(t+"contains "+e.toString()+" "+wu(i));if(typeof e=="string"&&e.length>Ew/3&&ub(e)>Ew)throw new Error(t+"contains a string greater than "+Ew+" utf8 bytes "+wu(i)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let s=!1,r=!1;if(Vr(e,(a,o)=>{if(a===".value")s=!0;else if(a!==".priority"&&a!==".sv"&&(r=!0,!TF(a)))throw new Error(t+" contains an invalid key ("+a+") "+wu(i)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);vX(i,a),PF(t,o,i),gX(i)}),s&&r)throw new Error(t+' contains ".value" child '+wu(i)+" in addition to actual children.")}},LK=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!TF(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!VK(n))throw new Error(hW(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NK{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function FK(t,e){let n=null;for(let i=0;i<e.length;i++){const s=e[i],r=s.getPath();n!==null&&!qN(r,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:r}),n.events.push(s)}n&&t.eventLists_.push(n)}function Dc(t,e,n){FK(t,n),BK(t,i=>qr(i,e)||qr(e,i))}function BK(t,e){t.recursionDepth_++;let n=!0;for(let i=0;i<t.eventLists_.length;i++){const s=t.eventLists_[i];if(s){const r=s.path;e(r)?(jK(t.eventLists_[i]),t.eventLists_[i]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function jK(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const i=n.getEventRunner();Xf&&ps("event: "+n.toString()),Vv(i)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $K="repo_interrupt",UK=25;class HK{constructor(e,n,i,s){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=i,this.appCheckProvider_=s,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new NK,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=y_(),this.transactionQueueTree_=new IT,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function zK(t,e,n){if(t.stats_=gT(t.repoInfo_),t.forceRestClient_||Fq())t.server_=new __(t.repoInfo_,(i,s,r,a)=>{qD(t,i,s,r,a)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>XD(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{es(n)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}t.persistentConnection_=new xo(t.repoInfo_,e,(i,s,r,a)=>{qD(t,i,s,r,a)},i=>{XD(t,i)},i=>{YK(t,i)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(i=>{t.server_.refreshAuthToken(i)}),t.appCheckProvider_.addTokenChangeListener(i=>{t.server_.refreshAppCheckToken(i.token)}),t.statsReporter_=zq(t.repoInfo_,()=>new HX(t.stats_,t.server_)),t.infoData_=new FX,t.infoSyncTree_=new YD({startListening:(i,s,r,a)=>{let o=[];const l=t.infoData_.getNode(i._path);return l.isEmpty()||(o=mb(t.infoSyncTree_,i._path,l),setTimeout(()=>{a("ok")},0)),o},stopListening:()=>{}}),AT(t,"connected",!1),t.serverSyncTree_=new YD({startListening:(i,s,r,a)=>(t.server_.listen(i,r,s,(o,l)=>{const u=a(o,l);Dc(t.eventQueue_,i._path,u)}),[]),stopListening:(i,s)=>{t.server_.unlisten(i,s)}})}function WK(t){const n=t.infoData_.getNode(new Un(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function CF(t){return kK({timestamp:WK(t)})}function qD(t,e,n,i,s){t.dataUpdateCount++;const r=new Un(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let a=[];if(s)if(i){const l=o_(n,u=>_s(u));a=SK(t.serverSyncTree_,r,l,s)}else{const l=_s(n);a=xK(t.serverSyncTree_,r,l,s)}else if(i){const l=o_(n,u=>_s(u));a=wK(t.serverSyncTree_,r,l)}else{const l=_s(n);a=mb(t.serverSyncTree_,r,l)}let o=r;a.length>0&&(o=RT(t,r)),Dc(t.eventQueue_,o,a)}function XD(t,e){AT(t,"connected",e),e===!1&&qK(t)}function YK(t,e){Vr(e,(n,i)=>{AT(t,n,i)})}function AT(t,e,n){const i=new Un("/.info/"+e),s=_s(n);t.infoData_.updateSnapshot(i,s);const r=mb(t.infoSyncTree_,i,s);Dc(t.eventQueue_,i,r)}function GK(t){return t.nextWriteId_++}function qK(t){EF(t,"onDisconnectEvents");const e=CF(t),n=y_();sx(t.onDisconnect_,pn(),(s,r)=>{const a=CK(s,r,t.serverSyncTree_,e);tF(n,s,a)});let i=[];sx(n,pn(),(s,r)=>{i=i.concat(mb(t.serverSyncTree_,s,r));const a=JK(t,s);RT(t,a)}),t.onDisconnect_=y_(),Dc(t.eventQueue_,pn(),i)}function XK(t){t.persistentConnection_&&t.persistentConnection_.interrupt($K)}function EF(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),ps(n,...e)}function IF(t,e,n){return gF(t.serverSyncTree_,e,n)||fn.EMPTY_NODE}function OT(t,e=t.transactionQueueTree_){if(e||pb(t,e),Oh(e)){const n=AF(t,e);We(n.length>0,"Sending zero length transaction queue"),n.every(s=>s.status===0)&&KK(t,Nv(e),n)}else SF(e)&&gb(e,n=>{OT(t,n)})}function KK(t,e,n){const i=n.map(u=>u.currentWriteId),s=IF(t,e,i);let r=s;const a=s.hash();for(let u=0;u<n.length;u++){const d=n[u];We(d.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),d.status=1,d.retryCount++;const c=Ar(e,d.path);r=r.updateChild(c,d.currentOutputSnapshotRaw)}const o=r.val(!0),l=e;t.server_.put(l.toString(),o,u=>{EF(t,"transaction put response",{path:l.toString(),status:u});let d=[];if(u==="ok"){const c=[];for(let f=0;f<n.length;f++)n[f].status=2,d=d.concat(yd(t.serverSyncTree_,n[f].currentWriteId)),n[f].onComplete&&c.push(()=>n[f].onComplete(null,!0,n[f].currentOutputSnapshotResolved)),n[f].unwatcher();pb(t,DT(t.transactionQueueTree_,e)),OT(t,t.transactionQueueTree_),Dc(t.eventQueue_,e,d);for(let f=0;f<c.length;f++)Vv(c[f])}else{if(u==="datastale")for(let c=0;c<n.length;c++)n[c].status===3?n[c].status=4:n[c].status=0;else{vr("transaction at "+l.toString()+" failed: "+u);for(let c=0;c<n.length;c++)n[c].status=4,n[c].abortReason=u}RT(t,e)}},a)}function RT(t,e){const n=DF(t,e),i=Nv(n),s=AF(t,n);return QK(t,s,i),i}function QK(t,e,n){if(e.length===0)return;const i=[];let s=[];const a=e.filter(o=>o.status===0).map(o=>o.currentWriteId);for(let o=0;o<e.length;o++){const l=e[o],u=Ar(n,l.path);let d=!1,c;if(We(u!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)d=!0,c=l.abortReason,s=s.concat(yd(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=UK)d=!0,c="maxretry",s=s.concat(yd(t.serverSyncTree_,l.currentWriteId,!0));else{const f=IF(t,l.path,a);l.currentInputSnapshot=f;const h=e[o].update(f.val());if(h!==void 0){PF("transaction failed: Data returned ",h,l.path);let g=_s(h);typeof h=="object"&&h!=null&&$o(h,".priority")||(g=g.updatePriority(f.getPriority()));const p=l.currentWriteId,_=CF(t),b=EK(g,f,_);l.currentOutputSnapshotRaw=g,l.currentOutputSnapshotResolved=b,l.currentWriteId=GK(t),a.splice(a.indexOf(p),1),s=s.concat(bK(t.serverSyncTree_,l.path,b,l.currentWriteId,l.applyLocally)),s=s.concat(yd(t.serverSyncTree_,p,!0))}else d=!0,c="nodata",s=s.concat(yd(t.serverSyncTree_,l.currentWriteId,!0))}Dc(t.eventQueue_,n,s),s=[],d&&(e[o].status=2,function(f){setTimeout(f,Math.floor(0))}(e[o].unwatcher),e[o].onComplete&&(c==="nodata"?i.push(()=>e[o].onComplete(null,!1,e[o].currentInputSnapshot)):i.push(()=>e[o].onComplete(new Error(c),!1,null))))}pb(t,t.transactionQueueTree_);for(let o=0;o<i.length;o++)Vv(i[o]);OT(t,t.transactionQueueTree_)}function DF(t,e){let n,i=t.transactionQueueTree_;for(n=Xt(e);n!==null&&Oh(i)===void 0;)i=DT(i,n),e=Vn(e),n=Xt(e);return i}function AF(t,e){const n=[];return OF(t,e,n),n.sort((i,s)=>i.order-s.order),n}function OF(t,e,n){const i=Oh(e);if(i)for(let s=0;s<i.length;s++)n.push(i[s]);gb(e,s=>{OF(t,s,n)})}function pb(t,e){const n=Oh(e);if(n){let i=0;for(let s=0;s<n.length;s++)n[s].status!==2&&(n[i]=n[s],i++);n.length=i,xF(e,n.length>0?n:void 0)}gb(e,i=>{pb(t,i)})}function JK(t,e){const n=Nv(DF(t,e)),i=DT(t.transactionQueueTree_,e);return DK(i,s=>{Iw(t,s)}),Iw(t,i),kF(i,s=>{Iw(t,s)}),n}function Iw(t,e){const n=Oh(e);if(n){const i=[];let s=[],r=-1;for(let a=0;a<n.length;a++)n[a].status===3||(n[a].status===1?(We(r===a-1,"All SENT items should be at beginning of queue."),r=a,n[a].status=3,n[a].abortReason="set"):(We(n[a].status===0,"Unexpected transaction status in abort"),n[a].unwatcher(),s=s.concat(yd(t.serverSyncTree_,n[a].currentWriteId,!0)),n[a].onComplete&&i.push(n[a].onComplete.bind(null,new Error("set"),!1,null))));r===-1?xF(e,void 0):n.length=r+1,Dc(t.eventQueue_,Nv(e),s);for(let a=0;a<i.length;a++)Vv(i[a])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZK(t){let e="";const n=t.split("/");for(let i=0;i<n.length;i++)if(n[i].length>0){let s=n[i];try{s=decodeURIComponent(s.replace(/\+/g," "))}catch{}e+="/"+s}return e}function eQ(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const i=n.split("=");i.length===2?e[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):vr(`Invalid query segment '${n}' in query '${t}'`)}return e}const KD=function(t,e){const n=tQ(t),i=n.namespace;n.domain==="firebase.com"&&tc(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||i==="undefined")&&n.domain!=="localhost"&&tc("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||Dq();const s=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new $q(n.host,n.secure,i,s,e,"",i!==n.subdomain),path:new Un(n.pathString)}},tQ=function(t){let e="",n="",i="",s="",r="",a=!0,o="https",l=443;if(typeof t=="string"){let u=t.indexOf("//");u>=0&&(o=t.substring(0,u-1),t=t.substring(u+2));let d=t.indexOf("/");d===-1&&(d=t.length);let c=t.indexOf("?");c===-1&&(c=t.length),e=t.substring(0,Math.min(d,c)),d<c&&(s=ZK(t.substring(d,c)));const f=eQ(t.substring(Math.min(t.length,c)));u=e.indexOf(":"),u>=0?(a=o==="https"||o==="wss",l=parseInt(e.substring(u+1),10)):u=e.length;const h=e.slice(0,u);if(h.toLowerCase()==="localhost")n="localhost";else if(h.split(".").length<=2)n=h;else{const g=e.indexOf(".");i=e.substring(0,g).toLowerCase(),n=e.substring(g+1),r=i}"ns"in f&&(r=f.ns)}return{host:e,port:l,domain:n,subdomain:i,secure:a,scheme:o,pathString:s,namespace:r}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MT{constructor(e,n,i,s){this._repo=e,this._path=n,this._queryParams=i,this._orderByCalled=s}get key(){return Wt(this._path)?null:WN(this._path)}get ref(){return new Rh(this._repo,this._path)}get _queryIdentifier(){const e=VD(this._queryParams),n=mT(e);return n==="{}"?"default":n}get _queryObject(){return VD(this._queryParams)}isEqual(e){if(e=ai(e),!(e instanceof MT))return!1;const n=this._repo===e._repo,i=qN(this._path,e._path),s=this._queryIdentifier===e._queryIdentifier;return n&&i&&s}toJSON(){return this.toString()}toString(){return this._repo.toString()+fX(this._path)}}class Rh extends MT{constructor(e,n){super(e,n,new bT,!1)}get parent(){const e=GN(this._path);return e===null?null:new Rh(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}_K(Rh);yK(Rh);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nQ="FIREBASE_DATABASE_EMULATOR_HOST",hx={};let iQ=!1;function sQ(t,e,n,i,s){let r=i||t.options.databaseURL;r===void 0&&(t.options.projectId||tc("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),ps("Using default host for project ",t.options.projectId),r=`${t.options.projectId}-default-rtdb.firebaseio.com`);let a=KD(r,s),o=a.repoInfo,l;typeof process<"u"&&gD&&(l=gD[nQ]),l?(r=`http://${l}?ns=${o.namespace}`,a=KD(r,s),o=a.repoInfo):a.repoInfo.secure;const u=new jq(t.name,t.options,e);LK("Invalid Firebase Database URL",a),Wt(a.path)||tc("Database URL must point to the root of a Firebase Database (not including a child path).");const d=aQ(o,t,u,new Bq(t.name,n));return new oQ(d,t)}function rQ(t,e){const n=hx[e];(!n||n[t.key]!==t)&&tc(`Database ${e}(${t.repoInfo_}) has already been deleted.`),XK(t),delete n[t.key]}function aQ(t,e,n,i){let s=hx[e.name];s||(s={},hx[e.name]=s);let r=s[t.toURLString()];return r&&tc("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),r=new HK(t,iQ,n,i),s[t.toURLString()]=r,r}class oQ{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(zK(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Rh(this._repo,pn())),this._rootInternal}_delete(){return this._rootInternal!==null&&(rQ(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&tc("Cannot call "+e+" on a deleted database.")}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lQ(t){kq(Zl),er(new js("database",(e,{instanceIdentifier:n})=>{const i=e.getProvider("app").getImmediate(),s=e.getProvider("auth-internal"),r=e.getProvider("app-check-internal");return sQ(i,s,r,n)},"PUBLIC").setMultipleInstances(!0)),is(pD,_D,t),is(pD,_D,"esm2017")}xo.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};xo.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};lQ();var QD=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Uu,RF;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(T,S){function w(){}w.prototype=S.prototype,T.D=S.prototype,T.prototype=new w,T.prototype.constructor=T,T.C=function(P,C,D){for(var A=Array(arguments.length-2),N=2;N<arguments.length;N++)A[N-2]=arguments[N];return S.prototype[C].apply(P,A)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,n),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(T,S,w){w||(w=0);var P=Array(16);if(typeof S=="string")for(var C=0;16>C;++C)P[C]=S.charCodeAt(w++)|S.charCodeAt(w++)<<8|S.charCodeAt(w++)<<16|S.charCodeAt(w++)<<24;else for(C=0;16>C;++C)P[C]=S[w++]|S[w++]<<8|S[w++]<<16|S[w++]<<24;S=T.g[0],w=T.g[1],C=T.g[2];var D=T.g[3],A=S+(D^w&(C^D))+P[0]+3614090360&4294967295;S=w+(A<<7&4294967295|A>>>25),A=D+(C^S&(w^C))+P[1]+3905402710&4294967295,D=S+(A<<12&4294967295|A>>>20),A=C+(w^D&(S^w))+P[2]+606105819&4294967295,C=D+(A<<17&4294967295|A>>>15),A=w+(S^C&(D^S))+P[3]+3250441966&4294967295,w=C+(A<<22&4294967295|A>>>10),A=S+(D^w&(C^D))+P[4]+4118548399&4294967295,S=w+(A<<7&4294967295|A>>>25),A=D+(C^S&(w^C))+P[5]+1200080426&4294967295,D=S+(A<<12&4294967295|A>>>20),A=C+(w^D&(S^w))+P[6]+2821735955&4294967295,C=D+(A<<17&4294967295|A>>>15),A=w+(S^C&(D^S))+P[7]+4249261313&4294967295,w=C+(A<<22&4294967295|A>>>10),A=S+(D^w&(C^D))+P[8]+1770035416&4294967295,S=w+(A<<7&4294967295|A>>>25),A=D+(C^S&(w^C))+P[9]+2336552879&4294967295,D=S+(A<<12&4294967295|A>>>20),A=C+(w^D&(S^w))+P[10]+4294925233&4294967295,C=D+(A<<17&4294967295|A>>>15),A=w+(S^C&(D^S))+P[11]+2304563134&4294967295,w=C+(A<<22&4294967295|A>>>10),A=S+(D^w&(C^D))+P[12]+1804603682&4294967295,S=w+(A<<7&4294967295|A>>>25),A=D+(C^S&(w^C))+P[13]+4254626195&4294967295,D=S+(A<<12&4294967295|A>>>20),A=C+(w^D&(S^w))+P[14]+2792965006&4294967295,C=D+(A<<17&4294967295|A>>>15),A=w+(S^C&(D^S))+P[15]+1236535329&4294967295,w=C+(A<<22&4294967295|A>>>10),A=S+(C^D&(w^C))+P[1]+4129170786&4294967295,S=w+(A<<5&4294967295|A>>>27),A=D+(w^C&(S^w))+P[6]+3225465664&4294967295,D=S+(A<<9&4294967295|A>>>23),A=C+(S^w&(D^S))+P[11]+643717713&4294967295,C=D+(A<<14&4294967295|A>>>18),A=w+(D^S&(C^D))+P[0]+3921069994&4294967295,w=C+(A<<20&4294967295|A>>>12),A=S+(C^D&(w^C))+P[5]+3593408605&4294967295,S=w+(A<<5&4294967295|A>>>27),A=D+(w^C&(S^w))+P[10]+38016083&4294967295,D=S+(A<<9&4294967295|A>>>23),A=C+(S^w&(D^S))+P[15]+3634488961&4294967295,C=D+(A<<14&4294967295|A>>>18),A=w+(D^S&(C^D))+P[4]+3889429448&4294967295,w=C+(A<<20&4294967295|A>>>12),A=S+(C^D&(w^C))+P[9]+568446438&4294967295,S=w+(A<<5&4294967295|A>>>27),A=D+(w^C&(S^w))+P[14]+3275163606&4294967295,D=S+(A<<9&4294967295|A>>>23),A=C+(S^w&(D^S))+P[3]+4107603335&4294967295,C=D+(A<<14&4294967295|A>>>18),A=w+(D^S&(C^D))+P[8]+1163531501&4294967295,w=C+(A<<20&4294967295|A>>>12),A=S+(C^D&(w^C))+P[13]+2850285829&4294967295,S=w+(A<<5&4294967295|A>>>27),A=D+(w^C&(S^w))+P[2]+4243563512&4294967295,D=S+(A<<9&4294967295|A>>>23),A=C+(S^w&(D^S))+P[7]+1735328473&4294967295,C=D+(A<<14&4294967295|A>>>18),A=w+(D^S&(C^D))+P[12]+2368359562&4294967295,w=C+(A<<20&4294967295|A>>>12),A=S+(w^C^D)+P[5]+4294588738&4294967295,S=w+(A<<4&4294967295|A>>>28),A=D+(S^w^C)+P[8]+2272392833&4294967295,D=S+(A<<11&4294967295|A>>>21),A=C+(D^S^w)+P[11]+1839030562&4294967295,C=D+(A<<16&4294967295|A>>>16),A=w+(C^D^S)+P[14]+4259657740&4294967295,w=C+(A<<23&4294967295|A>>>9),A=S+(w^C^D)+P[1]+2763975236&4294967295,S=w+(A<<4&4294967295|A>>>28),A=D+(S^w^C)+P[4]+1272893353&4294967295,D=S+(A<<11&4294967295|A>>>21),A=C+(D^S^w)+P[7]+4139469664&4294967295,C=D+(A<<16&4294967295|A>>>16),A=w+(C^D^S)+P[10]+3200236656&4294967295,w=C+(A<<23&4294967295|A>>>9),A=S+(w^C^D)+P[13]+681279174&4294967295,S=w+(A<<4&4294967295|A>>>28),A=D+(S^w^C)+P[0]+3936430074&4294967295,D=S+(A<<11&4294967295|A>>>21),A=C+(D^S^w)+P[3]+3572445317&4294967295,C=D+(A<<16&4294967295|A>>>16),A=w+(C^D^S)+P[6]+76029189&4294967295,w=C+(A<<23&4294967295|A>>>9),A=S+(w^C^D)+P[9]+3654602809&4294967295,S=w+(A<<4&4294967295|A>>>28),A=D+(S^w^C)+P[12]+3873151461&4294967295,D=S+(A<<11&4294967295|A>>>21),A=C+(D^S^w)+P[15]+530742520&4294967295,C=D+(A<<16&4294967295|A>>>16),A=w+(C^D^S)+P[2]+3299628645&4294967295,w=C+(A<<23&4294967295|A>>>9),A=S+(C^(w|~D))+P[0]+4096336452&4294967295,S=w+(A<<6&4294967295|A>>>26),A=D+(w^(S|~C))+P[7]+1126891415&4294967295,D=S+(A<<10&4294967295|A>>>22),A=C+(S^(D|~w))+P[14]+2878612391&4294967295,C=D+(A<<15&4294967295|A>>>17),A=w+(D^(C|~S))+P[5]+4237533241&4294967295,w=C+(A<<21&4294967295|A>>>11),A=S+(C^(w|~D))+P[12]+1700485571&4294967295,S=w+(A<<6&4294967295|A>>>26),A=D+(w^(S|~C))+P[3]+2399980690&4294967295,D=S+(A<<10&4294967295|A>>>22),A=C+(S^(D|~w))+P[10]+4293915773&4294967295,C=D+(A<<15&4294967295|A>>>17),A=w+(D^(C|~S))+P[1]+2240044497&4294967295,w=C+(A<<21&4294967295|A>>>11),A=S+(C^(w|~D))+P[8]+1873313359&4294967295,S=w+(A<<6&4294967295|A>>>26),A=D+(w^(S|~C))+P[15]+4264355552&4294967295,D=S+(A<<10&4294967295|A>>>22),A=C+(S^(D|~w))+P[6]+2734768916&4294967295,C=D+(A<<15&4294967295|A>>>17),A=w+(D^(C|~S))+P[13]+1309151649&4294967295,w=C+(A<<21&4294967295|A>>>11),A=S+(C^(w|~D))+P[4]+4149444226&4294967295,S=w+(A<<6&4294967295|A>>>26),A=D+(w^(S|~C))+P[11]+3174756917&4294967295,D=S+(A<<10&4294967295|A>>>22),A=C+(S^(D|~w))+P[2]+718787259&4294967295,C=D+(A<<15&4294967295|A>>>17),A=w+(D^(C|~S))+P[9]+3951481745&4294967295,T.g[0]=T.g[0]+S&4294967295,T.g[1]=T.g[1]+(C+(A<<21&4294967295|A>>>11))&4294967295,T.g[2]=T.g[2]+C&4294967295,T.g[3]=T.g[3]+D&4294967295}i.prototype.u=function(T,S){S===void 0&&(S=T.length);for(var w=S-this.blockSize,P=this.B,C=this.h,D=0;D<S;){if(C==0)for(;D<=w;)s(this,T,D),D+=this.blockSize;if(typeof T=="string"){for(;D<S;)if(P[C++]=T.charCodeAt(D++),C==this.blockSize){s(this,P),C=0;break}}else for(;D<S;)if(P[C++]=T[D++],C==this.blockSize){s(this,P),C=0;break}}this.h=C,this.o+=S},i.prototype.v=function(){var T=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);T[0]=128;for(var S=1;S<T.length-8;++S)T[S]=0;var w=8*this.o;for(S=T.length-8;S<T.length;++S)T[S]=w&255,w/=256;for(this.u(T),T=Array(16),S=w=0;4>S;++S)for(var P=0;32>P;P+=8)T[w++]=this.g[S]>>>P&255;return T};function r(T,S){var w=o;return Object.prototype.hasOwnProperty.call(w,T)?w[T]:w[T]=S(T)}function a(T,S){this.h=S;for(var w=[],P=!0,C=T.length-1;0<=C;C--){var D=T[C]|0;P&&D==S||(w[C]=D,P=!1)}this.g=w}var o={};function l(T){return-128<=T&&128>T?r(T,function(S){return new a([S|0],0>S?-1:0)}):new a([T|0],0>T?-1:0)}function u(T){if(isNaN(T)||!isFinite(T))return c;if(0>T)return p(u(-T));for(var S=[],w=1,P=0;T>=w;P++)S[P]=T/w|0,w*=4294967296;return new a(S,0)}function d(T,S){if(T.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(T.charAt(0)=="-")return p(d(T.substring(1),S));if(0<=T.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=u(Math.pow(S,8)),P=c,C=0;C<T.length;C+=8){var D=Math.min(8,T.length-C),A=parseInt(T.substring(C,C+D),S);8>D?(D=u(Math.pow(S,D)),P=P.j(D).add(u(A))):(P=P.j(w),P=P.add(u(A)))}return P}var c=l(0),f=l(1),h=l(16777216);t=a.prototype,t.m=function(){if(v(this))return-p(this).m();for(var T=0,S=1,w=0;w<this.g.length;w++){var P=this.i(w);T+=(0<=P?P:4294967296+P)*S,S*=4294967296}return T},t.toString=function(T){if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(g(this))return"0";if(v(this))return"-"+p(this).toString(T);for(var S=u(Math.pow(T,6)),w=this,P="";;){var C=k(w,S).g;w=_(w,C.j(S));var D=((0<w.g.length?w.g[0]:w.h)>>>0).toString(T);if(w=C,g(w))return D+P;for(;6>D.length;)D="0"+D;P=D+P}},t.i=function(T){return 0>T?0:T<this.g.length?this.g[T]:this.h};function g(T){if(T.h!=0)return!1;for(var S=0;S<T.g.length;S++)if(T.g[S]!=0)return!1;return!0}function v(T){return T.h==-1}t.l=function(T){return T=_(this,T),v(T)?-1:g(T)?0:1};function p(T){for(var S=T.g.length,w=[],P=0;P<S;P++)w[P]=~T.g[P];return new a(w,~T.h).add(f)}t.abs=function(){return v(this)?p(this):this},t.add=function(T){for(var S=Math.max(this.g.length,T.g.length),w=[],P=0,C=0;C<=S;C++){var D=P+(this.i(C)&65535)+(T.i(C)&65535),A=(D>>>16)+(this.i(C)>>>16)+(T.i(C)>>>16);P=A>>>16,D&=65535,A&=65535,w[C]=A<<16|D}return new a(w,w[w.length-1]&-2147483648?-1:0)};function _(T,S){return T.add(p(S))}t.j=function(T){if(g(this)||g(T))return c;if(v(this))return v(T)?p(this).j(p(T)):p(p(this).j(T));if(v(T))return p(this.j(p(T)));if(0>this.l(h)&&0>T.l(h))return u(this.m()*T.m());for(var S=this.g.length+T.g.length,w=[],P=0;P<2*S;P++)w[P]=0;for(P=0;P<this.g.length;P++)for(var C=0;C<T.g.length;C++){var D=this.i(P)>>>16,A=this.i(P)&65535,N=T.i(C)>>>16,B=T.i(C)&65535;w[2*P+2*C]+=A*B,b(w,2*P+2*C),w[2*P+2*C+1]+=D*B,b(w,2*P+2*C+1),w[2*P+2*C+1]+=A*N,b(w,2*P+2*C+1),w[2*P+2*C+2]+=D*N,b(w,2*P+2*C+2)}for(P=0;P<S;P++)w[P]=w[2*P+1]<<16|w[2*P];for(P=S;P<2*S;P++)w[P]=0;return new a(w,0)};function b(T,S){for(;(T[S]&65535)!=T[S];)T[S+1]+=T[S]>>>16,T[S]&=65535,S++}function x(T,S){this.g=T,this.h=S}function k(T,S){if(g(S))throw Error("division by zero");if(g(T))return new x(c,c);if(v(T))return S=k(p(T),S),new x(p(S.g),p(S.h));if(v(S))return S=k(T,p(S)),new x(p(S.g),S.h);if(30<T.g.length){if(v(T)||v(S))throw Error("slowDivide_ only works with positive integers.");for(var w=f,P=S;0>=P.l(T);)w=I(w),P=I(P);var C=E(w,1),D=E(P,1);for(P=E(P,2),w=E(w,2);!g(P);){var A=D.add(P);0>=A.l(T)&&(C=C.add(w),D=A),P=E(P,1),w=E(w,1)}return S=_(T,C.j(S)),new x(C,S)}for(C=c;0<=T.l(S);){for(w=Math.max(1,Math.floor(T.m()/S.m())),P=Math.ceil(Math.log(w)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),D=u(w),A=D.j(S);v(A)||0<A.l(T);)w-=P,D=u(w),A=D.j(S);g(D)&&(D=f),C=C.add(D),T=_(T,A)}return new x(C,T)}t.A=function(T){return k(this,T).h},t.and=function(T){for(var S=Math.max(this.g.length,T.g.length),w=[],P=0;P<S;P++)w[P]=this.i(P)&T.i(P);return new a(w,this.h&T.h)},t.or=function(T){for(var S=Math.max(this.g.length,T.g.length),w=[],P=0;P<S;P++)w[P]=this.i(P)|T.i(P);return new a(w,this.h|T.h)},t.xor=function(T){for(var S=Math.max(this.g.length,T.g.length),w=[],P=0;P<S;P++)w[P]=this.i(P)^T.i(P);return new a(w,this.h^T.h)};function I(T){for(var S=T.g.length+1,w=[],P=0;P<S;P++)w[P]=T.i(P)<<1|T.i(P-1)>>>31;return new a(w,T.h)}function E(T,S){var w=S>>5;S%=32;for(var P=T.g.length-w,C=[],D=0;D<P;D++)C[D]=0<S?T.i(D+w)>>>S|T.i(D+w+1)<<32-S:T.i(D+w);return new a(C,T.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,RF=i,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=u,a.fromString=d,Uu=a}).apply(typeof QD<"u"?QD:typeof self<"u"?self:typeof window<"u"?window:{});var Lg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var MF,Df,VF,Pp,fx,LF,NF,FF;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(y,O,V){return y==Array.prototype||y==Object.prototype||(y[O]=V.value),y};function n(y){y=[typeof globalThis=="object"&&globalThis,y,typeof window=="object"&&window,typeof self=="object"&&self,typeof Lg=="object"&&Lg];for(var O=0;O<y.length;++O){var V=y[O];if(V&&V.Math==Math)return V}throw Error("Cannot find global object")}var i=n(this);function s(y,O){if(O)e:{var V=i;y=y.split(".");for(var U=0;U<y.length-1;U++){var _e=y[U];if(!(_e in V))break e;V=V[_e]}y=y[y.length-1],U=V[y],O=O(U),O!=U&&O!=null&&e(V,y,{configurable:!0,writable:!0,value:O})}}function r(y,O){y instanceof String&&(y+="");var V=0,U=!1,_e={next:function(){if(!U&&V<y.length){var Te=V++;return{value:O(Te,y[Te]),done:!1}}return U=!0,{done:!0,value:void 0}}};return _e[Symbol.iterator]=function(){return _e},_e}s("Array.prototype.values",function(y){return y||function(){return r(this,function(O,V){return V})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},o=this||self;function l(y){var O=typeof y;return O=O!="object"?O:y?Array.isArray(y)?"array":O:"null",O=="array"||O=="object"&&typeof y.length=="number"}function u(y){var O=typeof y;return O=="object"&&y!=null||O=="function"}function d(y,O,V){return y.call.apply(y.bind,arguments)}function c(y,O,V){if(!y)throw Error();if(2<arguments.length){var U=Array.prototype.slice.call(arguments,2);return function(){var _e=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(_e,U),y.apply(O,_e)}}return function(){return y.apply(O,arguments)}}function f(y,O,V){return f=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:c,f.apply(null,arguments)}function h(y,O){var V=Array.prototype.slice.call(arguments,1);return function(){var U=V.slice();return U.push.apply(U,arguments),y.apply(this,U)}}function g(y,O){function V(){}V.prototype=O.prototype,y.aa=O.prototype,y.prototype=new V,y.prototype.constructor=y,y.Qb=function(U,_e,Te){for(var Ue=Array(arguments.length-2),wn=2;wn<arguments.length;wn++)Ue[wn-2]=arguments[wn];return O.prototype[_e].apply(U,Ue)}}function v(y){const O=y.length;if(0<O){const V=Array(O);for(let U=0;U<O;U++)V[U]=y[U];return V}return[]}function p(y,O){for(let V=1;V<arguments.length;V++){const U=arguments[V];if(l(U)){const _e=y.length||0,Te=U.length||0;y.length=_e+Te;for(let Ue=0;Ue<Te;Ue++)y[_e+Ue]=U[Ue]}else y.push(U)}}class _{constructor(O,V){this.i=O,this.j=V,this.h=0,this.g=null}get(){let O;return 0<this.h?(this.h--,O=this.g,this.g=O.next,O.next=null):O=this.i(),O}}function b(y){return/^[\s\xa0]*$/.test(y)}function x(){var y=o.navigator;return y&&(y=y.userAgent)?y:""}function k(y){return k[" "](y),y}k[" "]=function(){};var I=x().indexOf("Gecko")!=-1&&!(x().toLowerCase().indexOf("webkit")!=-1&&x().indexOf("Edge")==-1)&&!(x().indexOf("Trident")!=-1||x().indexOf("MSIE")!=-1)&&x().indexOf("Edge")==-1;function E(y,O,V){for(const U in y)O.call(V,y[U],U,y)}function T(y,O){for(const V in y)O.call(void 0,y[V],V,y)}function S(y){const O={};for(const V in y)O[V]=y[V];return O}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(y,O){let V,U;for(let _e=1;_e<arguments.length;_e++){U=arguments[_e];for(V in U)y[V]=U[V];for(let Te=0;Te<w.length;Te++)V=w[Te],Object.prototype.hasOwnProperty.call(U,V)&&(y[V]=U[V])}}function C(y){var O=1;y=y.split(":");const V=[];for(;0<O&&y.length;)V.push(y.shift()),O--;return y.length&&V.push(y.join(":")),V}function D(y){o.setTimeout(()=>{throw y},0)}function A(){var y=X;let O=null;return y.g&&(O=y.g,y.g=y.g.next,y.g||(y.h=null),O.next=null),O}class N{constructor(){this.h=this.g=null}add(O,V){const U=B.get();U.set(O,V),this.h?this.h.next=U:this.g=U,this.h=U}}var B=new _(()=>new H,y=>y.reset());class H{constructor(){this.next=this.g=this.h=null}set(O,V){this.h=O,this.g=V,this.next=null}reset(){this.next=this.g=this.h=null}}let G,z=!1,X=new N,W=()=>{const y=o.Promise.resolve(void 0);G=()=>{y.then(Z)}};var Z=()=>{for(var y;y=A();){try{y.h.call(y.g)}catch(V){D(V)}var O=B;O.j(y),100>O.h&&(O.h++,y.next=O.g,O.g=y)}z=!1};function ee(){this.s=this.s,this.C=this.C}ee.prototype.s=!1,ee.prototype.ma=function(){this.s||(this.s=!0,this.N())},ee.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function le(y,O){this.type=y,this.g=this.target=O,this.defaultPrevented=!1}le.prototype.h=function(){this.defaultPrevented=!0};var ue=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var y=!1,O=Object.defineProperty({},"passive",{get:function(){y=!0}});try{const V=()=>{};o.addEventListener("test",V,O),o.removeEventListener("test",V,O)}catch{}return y}();function ce(y,O){if(le.call(this,y?y.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,y){var V=this.type=y.type,U=y.changedTouches&&y.changedTouches.length?y.changedTouches[0]:null;if(this.target=y.target||y.srcElement,this.g=O,O=y.relatedTarget){if(I){e:{try{k(O.nodeName);var _e=!0;break e}catch{}_e=!1}_e||(O=null)}}else V=="mouseover"?O=y.fromElement:V=="mouseout"&&(O=y.toElement);this.relatedTarget=O,U?(this.clientX=U.clientX!==void 0?U.clientX:U.pageX,this.clientY=U.clientY!==void 0?U.clientY:U.pageY,this.screenX=U.screenX||0,this.screenY=U.screenY||0):(this.clientX=y.clientX!==void 0?y.clientX:y.pageX,this.clientY=y.clientY!==void 0?y.clientY:y.pageY,this.screenX=y.screenX||0,this.screenY=y.screenY||0),this.button=y.button,this.key=y.key||"",this.ctrlKey=y.ctrlKey,this.altKey=y.altKey,this.shiftKey=y.shiftKey,this.metaKey=y.metaKey,this.pointerId=y.pointerId||0,this.pointerType=typeof y.pointerType=="string"?y.pointerType:se[y.pointerType]||"",this.state=y.state,this.i=y,y.defaultPrevented&&ce.aa.h.call(this)}}g(ce,le);var se={2:"touch",3:"pen",4:"mouse"};ce.prototype.h=function(){ce.aa.h.call(this);var y=this.i;y.preventDefault?y.preventDefault():y.returnValue=!1};var $="closure_listenable_"+(1e6*Math.random()|0),q=0;function re(y,O,V,U,_e){this.listener=y,this.proxy=null,this.src=O,this.type=V,this.capture=!!U,this.ha=_e,this.key=++q,this.da=this.fa=!1}function ge(y){y.da=!0,y.listener=null,y.proxy=null,y.src=null,y.ha=null}function fe(y){this.src=y,this.g={},this.h=0}fe.prototype.add=function(y,O,V,U,_e){var Te=y.toString();y=this.g[Te],y||(y=this.g[Te]=[],this.h++);var Ue=L(y,O,U,_e);return-1<Ue?(O=y[Ue],V||(O.fa=!1)):(O=new re(O,this.src,Te,!!U,_e),O.fa=V,y.push(O)),O};function ye(y,O){var V=O.type;if(V in y.g){var U=y.g[V],_e=Array.prototype.indexOf.call(U,O,void 0),Te;(Te=0<=_e)&&Array.prototype.splice.call(U,_e,1),Te&&(ge(O),y.g[V].length==0&&(delete y.g[V],y.h--))}}function L(y,O,V,U){for(var _e=0;_e<y.length;++_e){var Te=y[_e];if(!Te.da&&Te.listener==O&&Te.capture==!!V&&Te.ha==U)return _e}return-1}var F="closure_lm_"+(1e6*Math.random()|0),K={};function de(y,O,V,U,_e){if(Array.isArray(O)){for(var Te=0;Te<O.length;Te++)de(y,O[Te],V,U,_e);return null}return V=Ke(V),y&&y[$]?y.K(O,V,u(U)?!!U.capture:!!U,_e):ne(y,O,V,!1,U,_e)}function ne(y,O,V,U,_e,Te){if(!O)throw Error("Invalid event type");var Ue=u(_e)?!!_e.capture:!!_e,wn=Ge(y);if(wn||(y[F]=wn=new fe(y)),V=wn.add(O,V,U,Ue,Te),V.proxy)return V;if(U=Se(),V.proxy=U,U.src=y,U.listener=V,y.addEventListener)ue||(_e=Ue),_e===void 0&&(_e=!1),y.addEventListener(O.toString(),U,_e);else if(y.attachEvent)y.attachEvent(Le(O.toString()),U);else if(y.addListener&&y.removeListener)y.addListener(U);else throw Error("addEventListener and attachEvent are unavailable.");return V}function Se(){function y(V){return O.call(y.src,y.listener,V)}const O=Ce;return y}function Ve(y,O,V,U,_e){if(Array.isArray(O))for(var Te=0;Te<O.length;Te++)Ve(y,O[Te],V,U,_e);else U=u(U)?!!U.capture:!!U,V=Ke(V),y&&y[$]?(y=y.i,O=String(O).toString(),O in y.g&&(Te=y.g[O],V=L(Te,V,U,_e),-1<V&&(ge(Te[V]),Array.prototype.splice.call(Te,V,1),Te.length==0&&(delete y.g[O],y.h--)))):y&&(y=Ge(y))&&(O=y.g[O.toString()],y=-1,O&&(y=L(O,V,U,_e)),(V=-1<y?O[y]:null)&&ke(V))}function ke(y){if(typeof y!="number"&&y&&!y.da){var O=y.src;if(O&&O[$])ye(O.i,y);else{var V=y.type,U=y.proxy;O.removeEventListener?O.removeEventListener(V,U,y.capture):O.detachEvent?O.detachEvent(Le(V),U):O.addListener&&O.removeListener&&O.removeListener(U),(V=Ge(O))?(ye(V,y),V.h==0&&(V.src=null,O[F]=null)):ge(y)}}}function Le(y){return y in K?K[y]:K[y]="on"+y}function Ce(y,O){if(y.da)y=!0;else{O=new ce(O,this);var V=y.listener,U=y.ha||y.src;y.fa&&ke(y),y=V.call(U,O)}return y}function Ge(y){return y=y[F],y instanceof fe?y:null}var Be="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ke(y){return typeof y=="function"?y:(y[Be]||(y[Be]=function(O){return y.handleEvent(O)}),y[Be])}function ze(){ee.call(this),this.i=new fe(this),this.M=this,this.F=null}g(ze,ee),ze.prototype[$]=!0,ze.prototype.removeEventListener=function(y,O,V,U){Ve(this,y,O,V,U)};function $e(y,O){var V,U=y.F;if(U)for(V=[];U;U=U.F)V.push(U);if(y=y.M,U=O.type||O,typeof O=="string")O=new le(O,y);else if(O instanceof le)O.target=O.target||y;else{var _e=O;O=new le(U,y),P(O,_e)}if(_e=!0,V)for(var Te=V.length-1;0<=Te;Te--){var Ue=O.g=V[Te];_e=Vt(Ue,U,!0,O)&&_e}if(Ue=O.g=y,_e=Vt(Ue,U,!0,O)&&_e,_e=Vt(Ue,U,!1,O)&&_e,V)for(Te=0;Te<V.length;Te++)Ue=O.g=V[Te],_e=Vt(Ue,U,!1,O)&&_e}ze.prototype.N=function(){if(ze.aa.N.call(this),this.i){var y=this.i,O;for(O in y.g){for(var V=y.g[O],U=0;U<V.length;U++)ge(V[U]);delete y.g[O],y.h--}}this.F=null},ze.prototype.K=function(y,O,V,U){return this.i.add(String(y),O,!1,V,U)},ze.prototype.L=function(y,O,V,U){return this.i.add(String(y),O,!0,V,U)};function Vt(y,O,V,U){if(O=y.i.g[String(O)],!O)return!0;O=O.concat();for(var _e=!0,Te=0;Te<O.length;++Te){var Ue=O[Te];if(Ue&&!Ue.da&&Ue.capture==V){var wn=Ue.listener,Yi=Ue.ha||Ue.src;Ue.fa&&ye(y.i,Ue),_e=wn.call(Yi,U)!==!1&&_e}}return _e&&!U.defaultPrevented}function _t(y,O,V){if(typeof y=="function")V&&(y=f(y,V));else if(y&&typeof y.handleEvent=="function")y=f(y.handleEvent,y);else throw Error("Invalid listener argument");return 2147483647<Number(O)?-1:o.setTimeout(y,O||0)}function li(y){y.g=_t(()=>{y.g=null,y.i&&(y.i=!1,li(y))},y.l);const O=y.h;y.h=null,y.m.apply(null,O)}class ae extends ee{constructor(O,V){super(),this.m=O,this.l=V,this.h=null,this.i=!1,this.g=null}j(O){this.h=arguments,this.g?this.i=!0:li(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function he(y){ee.call(this),this.h=y,this.g={}}g(he,ee);var Pe=[];function He(y){E(y.g,function(O,V){this.g.hasOwnProperty(V)&&ke(O)},y),y.g={}}he.prototype.N=function(){he.aa.N.call(this),He(this)},he.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var lt=o.JSON.stringify,ut=o.JSON.parse,nt=class{stringify(y){return o.JSON.stringify(y,void 0)}parse(y){return o.JSON.parse(y,void 0)}};function nn(){}nn.prototype.h=null;function Xn(y){return y.h||(y.h=y.i())}function Ii(){}var sn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function gi(){le.call(this,"d")}g(gi,le);function Li(){le.call(this,"c")}g(Li,le);var pi={},Xo=null;function Ko(){return Xo=Xo||new ze}pi.La="serverreachability";function Gc(y){le.call(this,pi.La,y)}g(Gc,le);function to(y){const O=Ko();$e(O,new Gc(O))}pi.STAT_EVENT="statevent";function qc(y,O){le.call(this,pi.STAT_EVENT,y),this.stat=O}g(qc,le);function Cs(y){const O=Ko();$e(O,new qc(O,y))}pi.Ma="timingevent";function oE(y,O){le.call(this,pi.Ma,y),this.size=O}g(oE,le);function nf(y,O){if(typeof y!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){y()},O)}function sf(){this.g=!0}sf.prototype.xa=function(){this.g=!1};function a9(y,O,V,U,_e,Te){y.info(function(){if(y.g)if(Te)for(var Ue="",wn=Te.split("&"),Yi=0;Yi<wn.length;Yi++){var Zt=wn[Yi].split("=");if(1<Zt.length){var cs=Zt[0];Zt=Zt[1];var ds=cs.split("_");Ue=2<=ds.length&&ds[1]=="type"?Ue+(cs+"="+Zt+"&"):Ue+(cs+"=redacted&")}}else Ue=null;else Ue=Te;return"XMLHTTP REQ ("+U+") [attempt "+_e+"]: "+O+`
`+V+`
`+Ue})}function o9(y,O,V,U,_e,Te,Ue){y.info(function(){return"XMLHTTP RESP ("+U+") [ attempt "+_e+"]: "+O+`
`+V+`
`+Te+" "+Ue})}function Xc(y,O,V,U){y.info(function(){return"XMLHTTP TEXT ("+O+"): "+u9(y,V)+(U?" "+U:"")})}function l9(y,O){y.info(function(){return"TIMEOUT: "+O})}sf.prototype.info=function(){};function u9(y,O){if(!y.g)return O;if(!O)return null;try{var V=JSON.parse(O);if(V){for(y=0;y<V.length;y++)if(Array.isArray(V[y])){var U=V[y];if(!(2>U.length)){var _e=U[1];if(Array.isArray(_e)&&!(1>_e.length)){var Te=_e[0];if(Te!="noop"&&Te!="stop"&&Te!="close")for(var Ue=1;Ue<_e.length;Ue++)_e[Ue]=""}}}}return lt(V)}catch{return O}}var dg={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},lE={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},H0;function hg(){}g(hg,nn),hg.prototype.g=function(){return new XMLHttpRequest},hg.prototype.i=function(){return{}},H0=new hg;function Qo(y,O,V,U){this.j=y,this.i=O,this.l=V,this.R=U||1,this.U=new he(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new uE}function uE(){this.i=null,this.g="",this.h=!1}var cE={},z0={};function W0(y,O,V){y.L=1,y.v=gg(no(O)),y.m=V,y.P=!0,dE(y,null)}function dE(y,O){y.F=Date.now(),fg(y),y.A=no(y.v);var V=y.A,U=y.R;Array.isArray(U)||(U=[String(U)]),TE(V.i,"t",U),y.C=0,V=y.j.J,y.h=new uE,y.g=HE(y.j,V?O:null,!y.m),0<y.O&&(y.M=new ae(f(y.Y,y,y.g),y.O)),O=y.U,V=y.g,U=y.ca;var _e="readystatechange";Array.isArray(_e)||(_e&&(Pe[0]=_e.toString()),_e=Pe);for(var Te=0;Te<_e.length;Te++){var Ue=de(V,_e[Te],U||O.handleEvent,!1,O.h||O);if(!Ue)break;O.g[Ue.key]=Ue}O=y.H?S(y.H):{},y.m?(y.u||(y.u="POST"),O["Content-Type"]="application/x-www-form-urlencoded",y.g.ea(y.A,y.u,y.m,O)):(y.u="GET",y.g.ea(y.A,y.u,null,O)),to(),a9(y.i,y.u,y.A,y.l,y.R,y.m)}Qo.prototype.ca=function(y){y=y.target;const O=this.M;O&&io(y)==3?O.j():this.Y(y)},Qo.prototype.Y=function(y){try{if(y==this.g)e:{const ds=io(this.g);var O=this.g.Ba();const Jc=this.g.Z();if(!(3>ds)&&(ds!=3||this.g&&(this.h.h||this.g.oa()||OE(this.g)))){this.J||ds!=4||O==7||(O==8||0>=Jc?to(3):to(2)),Y0(this);var V=this.g.Z();this.X=V;t:if(hE(this)){var U=OE(this.g);y="";var _e=U.length,Te=io(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){uu(this),rf(this);var Ue="";break t}this.h.i=new o.TextDecoder}for(O=0;O<_e;O++)this.h.h=!0,y+=this.h.i.decode(U[O],{stream:!(Te&&O==_e-1)});U.length=0,this.h.g+=y,this.C=0,Ue=this.h.g}else Ue=this.g.oa();if(this.o=V==200,o9(this.i,this.u,this.A,this.l,this.R,ds,V),this.o){if(this.T&&!this.K){t:{if(this.g){var wn,Yi=this.g;if((wn=Yi.g?Yi.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!b(wn)){var Zt=wn;break t}}Zt=null}if(V=Zt)Xc(this.i,this.l,V,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,G0(this,V);else{this.o=!1,this.s=3,Cs(12),uu(this),rf(this);break e}}if(this.P){V=!0;let jr;for(;!this.J&&this.C<Ue.length;)if(jr=c9(this,Ue),jr==z0){ds==4&&(this.s=4,Cs(14),V=!1),Xc(this.i,this.l,null,"[Incomplete Response]");break}else if(jr==cE){this.s=4,Cs(15),Xc(this.i,this.l,Ue,"[Invalid Chunk]"),V=!1;break}else Xc(this.i,this.l,jr,null),G0(this,jr);if(hE(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ds!=4||Ue.length!=0||this.h.h||(this.s=1,Cs(16),V=!1),this.o=this.o&&V,!V)Xc(this.i,this.l,Ue,"[Invalid Chunked Response]"),uu(this),rf(this);else if(0<Ue.length&&!this.W){this.W=!0;var cs=this.j;cs.g==this&&cs.ba&&!cs.M&&(cs.j.info("Great, no buffering proxy detected. Bytes received: "+Ue.length),Z0(cs),cs.M=!0,Cs(11))}}else Xc(this.i,this.l,Ue,null),G0(this,Ue);ds==4&&uu(this),this.o&&!this.J&&(ds==4?BE(this.j,this):(this.o=!1,fg(this)))}else C9(this.g),V==400&&0<Ue.indexOf("Unknown SID")?(this.s=3,Cs(12)):(this.s=0,Cs(13)),uu(this),rf(this)}}}catch{}finally{}};function hE(y){return y.g?y.u=="GET"&&y.L!=2&&y.j.Ca:!1}function c9(y,O){var V=y.C,U=O.indexOf(`
`,V);return U==-1?z0:(V=Number(O.substring(V,U)),isNaN(V)?cE:(U+=1,U+V>O.length?z0:(O=O.slice(U,U+V),y.C=U+V,O)))}Qo.prototype.cancel=function(){this.J=!0,uu(this)};function fg(y){y.S=Date.now()+y.I,fE(y,y.I)}function fE(y,O){if(y.B!=null)throw Error("WatchDog timer not null");y.B=nf(f(y.ba,y),O)}function Y0(y){y.B&&(o.clearTimeout(y.B),y.B=null)}Qo.prototype.ba=function(){this.B=null;const y=Date.now();0<=y-this.S?(l9(this.i,this.A),this.L!=2&&(to(),Cs(17)),uu(this),this.s=2,rf(this)):fE(this,this.S-y)};function rf(y){y.j.G==0||y.J||BE(y.j,y)}function uu(y){Y0(y);var O=y.M;O&&typeof O.ma=="function"&&O.ma(),y.M=null,He(y.U),y.g&&(O=y.g,y.g=null,O.abort(),O.ma())}function G0(y,O){try{var V=y.j;if(V.G!=0&&(V.g==y||q0(V.h,y))){if(!y.K&&q0(V.h,y)&&V.G==3){try{var U=V.Da.g.parse(O)}catch{U=null}if(Array.isArray(U)&&U.length==3){var _e=U;if(_e[0]==0){e:if(!V.u){if(V.g)if(V.g.F+3e3<y.F)xg(V),bg(V);else break e;J0(V),Cs(18)}}else V.za=_e[1],0<V.za-V.T&&37500>_e[2]&&V.F&&V.v==0&&!V.C&&(V.C=nf(f(V.Za,V),6e3));if(1>=gE(V.h)&&V.ca){try{V.ca()}catch{}V.ca=void 0}}else du(V,11)}else if((y.K||V.g==y)&&xg(V),!b(O))for(_e=V.Da.g.parse(O),O=0;O<_e.length;O++){let Zt=_e[O];if(V.T=Zt[0],Zt=Zt[1],V.G==2)if(Zt[0]=="c"){V.K=Zt[1],V.ia=Zt[2];const cs=Zt[3];cs!=null&&(V.la=cs,V.j.info("VER="+V.la));const ds=Zt[4];ds!=null&&(V.Aa=ds,V.j.info("SVER="+V.Aa));const Jc=Zt[5];Jc!=null&&typeof Jc=="number"&&0<Jc&&(U=1.5*Jc,V.L=U,V.j.info("backChannelRequestTimeoutMs_="+U)),U=V;const jr=y.g;if(jr){const kg=jr.g?jr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(kg){var Te=U.h;Te.g||kg.indexOf("spdy")==-1&&kg.indexOf("quic")==-1&&kg.indexOf("h2")==-1||(Te.j=Te.l,Te.g=new Set,Te.h&&(X0(Te,Te.h),Te.h=null))}if(U.D){const ew=jr.g?jr.g.getResponseHeader("X-HTTP-Session-Id"):null;ew&&(U.ya=ew,Rn(U.I,U.D,ew))}}V.G=3,V.l&&V.l.ua(),V.ba&&(V.R=Date.now()-y.F,V.j.info("Handshake RTT: "+V.R+"ms")),U=V;var Ue=y;if(U.qa=UE(U,U.J?U.ia:null,U.W),Ue.K){pE(U.h,Ue);var wn=Ue,Yi=U.L;Yi&&(wn.I=Yi),wn.B&&(Y0(wn),fg(wn)),U.g=Ue}else NE(U);0<V.i.length&&wg(V)}else Zt[0]!="stop"&&Zt[0]!="close"||du(V,7);else V.G==3&&(Zt[0]=="stop"||Zt[0]=="close"?Zt[0]=="stop"?du(V,7):Q0(V):Zt[0]!="noop"&&V.l&&V.l.ta(Zt),V.v=0)}}to(4)}catch{}}var d9=class{constructor(y,O){this.g=y,this.map=O}};function mE(y){this.l=y||10,o.PerformanceNavigationTiming?(y=o.performance.getEntriesByType("navigation"),y=0<y.length&&(y[0].nextHopProtocol=="hq"||y[0].nextHopProtocol=="h2")):y=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=y?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function vE(y){return y.h?!0:y.g?y.g.size>=y.j:!1}function gE(y){return y.h?1:y.g?y.g.size:0}function q0(y,O){return y.h?y.h==O:y.g?y.g.has(O):!1}function X0(y,O){y.g?y.g.add(O):y.h=O}function pE(y,O){y.h&&y.h==O?y.h=null:y.g&&y.g.has(O)&&y.g.delete(O)}mE.prototype.cancel=function(){if(this.i=_E(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const y of this.g.values())y.cancel();this.g.clear()}};function _E(y){if(y.h!=null)return y.i.concat(y.h.D);if(y.g!=null&&y.g.size!==0){let O=y.i;for(const V of y.g.values())O=O.concat(V.D);return O}return v(y.i)}function h9(y){if(y.V&&typeof y.V=="function")return y.V();if(typeof Map<"u"&&y instanceof Map||typeof Set<"u"&&y instanceof Set)return Array.from(y.values());if(typeof y=="string")return y.split("");if(l(y)){for(var O=[],V=y.length,U=0;U<V;U++)O.push(y[U]);return O}O=[],V=0;for(U in y)O[V++]=y[U];return O}function f9(y){if(y.na&&typeof y.na=="function")return y.na();if(!y.V||typeof y.V!="function"){if(typeof Map<"u"&&y instanceof Map)return Array.from(y.keys());if(!(typeof Set<"u"&&y instanceof Set)){if(l(y)||typeof y=="string"){var O=[];y=y.length;for(var V=0;V<y;V++)O.push(V);return O}O=[],V=0;for(const U in y)O[V++]=U;return O}}}function yE(y,O){if(y.forEach&&typeof y.forEach=="function")y.forEach(O,void 0);else if(l(y)||typeof y=="string")Array.prototype.forEach.call(y,O,void 0);else for(var V=f9(y),U=h9(y),_e=U.length,Te=0;Te<_e;Te++)O.call(void 0,U[Te],V&&V[Te],y)}var bE=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function m9(y,O){if(y){y=y.split("&");for(var V=0;V<y.length;V++){var U=y[V].indexOf("="),_e=null;if(0<=U){var Te=y[V].substring(0,U);_e=y[V].substring(U+1)}else Te=y[V];O(Te,_e?decodeURIComponent(_e.replace(/\+/g," ")):"")}}}function cu(y){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,y instanceof cu){this.h=y.h,mg(this,y.j),this.o=y.o,this.g=y.g,vg(this,y.s),this.l=y.l;var O=y.i,V=new lf;V.i=O.i,O.g&&(V.g=new Map(O.g),V.h=O.h),wE(this,V),this.m=y.m}else y&&(O=String(y).match(bE))?(this.h=!1,mg(this,O[1]||"",!0),this.o=af(O[2]||""),this.g=af(O[3]||"",!0),vg(this,O[4]),this.l=af(O[5]||"",!0),wE(this,O[6]||"",!0),this.m=af(O[7]||"")):(this.h=!1,this.i=new lf(null,this.h))}cu.prototype.toString=function(){var y=[],O=this.j;O&&y.push(of(O,xE,!0),":");var V=this.g;return(V||O=="file")&&(y.push("//"),(O=this.o)&&y.push(of(O,xE,!0),"@"),y.push(encodeURIComponent(String(V)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),V=this.s,V!=null&&y.push(":",String(V))),(V=this.l)&&(this.g&&V.charAt(0)!="/"&&y.push("/"),y.push(of(V,V.charAt(0)=="/"?p9:g9,!0))),(V=this.i.toString())&&y.push("?",V),(V=this.m)&&y.push("#",of(V,y9)),y.join("")};function no(y){return new cu(y)}function mg(y,O,V){y.j=V?af(O,!0):O,y.j&&(y.j=y.j.replace(/:$/,""))}function vg(y,O){if(O){if(O=Number(O),isNaN(O)||0>O)throw Error("Bad port number "+O);y.s=O}else y.s=null}function wE(y,O,V){O instanceof lf?(y.i=O,b9(y.i,y.h)):(V||(O=of(O,_9)),y.i=new lf(O,y.h))}function Rn(y,O,V){y.i.set(O,V)}function gg(y){return Rn(y,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),y}function af(y,O){return y?O?decodeURI(y.replace(/%25/g,"%2525")):decodeURIComponent(y):""}function of(y,O,V){return typeof y=="string"?(y=encodeURI(y).replace(O,v9),V&&(y=y.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y):null}function v9(y){return y=y.charCodeAt(0),"%"+(y>>4&15).toString(16)+(y&15).toString(16)}var xE=/[#\/\?@]/g,g9=/[#\?:]/g,p9=/[#\?]/g,_9=/[#\?@]/g,y9=/#/g;function lf(y,O){this.h=this.g=null,this.i=y||null,this.j=!!O}function Jo(y){y.g||(y.g=new Map,y.h=0,y.i&&m9(y.i,function(O,V){y.add(decodeURIComponent(O.replace(/\+/g," ")),V)}))}t=lf.prototype,t.add=function(y,O){Jo(this),this.i=null,y=Kc(this,y);var V=this.g.get(y);return V||this.g.set(y,V=[]),V.push(O),this.h+=1,this};function SE(y,O){Jo(y),O=Kc(y,O),y.g.has(O)&&(y.i=null,y.h-=y.g.get(O).length,y.g.delete(O))}function kE(y,O){return Jo(y),O=Kc(y,O),y.g.has(O)}t.forEach=function(y,O){Jo(this),this.g.forEach(function(V,U){V.forEach(function(_e){y.call(O,_e,U,this)},this)},this)},t.na=function(){Jo(this);const y=Array.from(this.g.values()),O=Array.from(this.g.keys()),V=[];for(let U=0;U<O.length;U++){const _e=y[U];for(let Te=0;Te<_e.length;Te++)V.push(O[U])}return V},t.V=function(y){Jo(this);let O=[];if(typeof y=="string")kE(this,y)&&(O=O.concat(this.g.get(Kc(this,y))));else{y=Array.from(this.g.values());for(let V=0;V<y.length;V++)O=O.concat(y[V])}return O},t.set=function(y,O){return Jo(this),this.i=null,y=Kc(this,y),kE(this,y)&&(this.h-=this.g.get(y).length),this.g.set(y,[O]),this.h+=1,this},t.get=function(y,O){return y?(y=this.V(y),0<y.length?String(y[0]):O):O};function TE(y,O,V){SE(y,O),0<V.length&&(y.i=null,y.g.set(Kc(y,O),v(V)),y.h+=V.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const y=[],O=Array.from(this.g.keys());for(var V=0;V<O.length;V++){var U=O[V];const Te=encodeURIComponent(String(U)),Ue=this.V(U);for(U=0;U<Ue.length;U++){var _e=Te;Ue[U]!==""&&(_e+="="+encodeURIComponent(String(Ue[U]))),y.push(_e)}}return this.i=y.join("&")};function Kc(y,O){return O=String(O),y.j&&(O=O.toLowerCase()),O}function b9(y,O){O&&!y.j&&(Jo(y),y.i=null,y.g.forEach(function(V,U){var _e=U.toLowerCase();U!=_e&&(SE(this,U),TE(this,_e,V))},y)),y.j=O}function w9(y,O){const V=new sf;if(o.Image){const U=new Image;U.onload=h(Zo,V,"TestLoadImage: loaded",!0,O,U),U.onerror=h(Zo,V,"TestLoadImage: error",!1,O,U),U.onabort=h(Zo,V,"TestLoadImage: abort",!1,O,U),U.ontimeout=h(Zo,V,"TestLoadImage: timeout",!1,O,U),o.setTimeout(function(){U.ontimeout&&U.ontimeout()},1e4),U.src=y}else O(!1)}function x9(y,O){const V=new sf,U=new AbortController,_e=setTimeout(()=>{U.abort(),Zo(V,"TestPingServer: timeout",!1,O)},1e4);fetch(y,{signal:U.signal}).then(Te=>{clearTimeout(_e),Te.ok?Zo(V,"TestPingServer: ok",!0,O):Zo(V,"TestPingServer: server error",!1,O)}).catch(()=>{clearTimeout(_e),Zo(V,"TestPingServer: error",!1,O)})}function Zo(y,O,V,U,_e){try{_e&&(_e.onload=null,_e.onerror=null,_e.onabort=null,_e.ontimeout=null),U(V)}catch{}}function S9(){this.g=new nt}function k9(y,O,V){const U=V||"";try{yE(y,function(_e,Te){let Ue=_e;u(_e)&&(Ue=lt(_e)),O.push(U+Te+"="+encodeURIComponent(Ue))})}catch(_e){throw O.push(U+"type="+encodeURIComponent("_badmap")),_e}}function pg(y){this.l=y.Ub||null,this.j=y.eb||!1}g(pg,nn),pg.prototype.g=function(){return new _g(this.l,this.j)},pg.prototype.i=function(y){return function(){return y}}({});function _g(y,O){ze.call(this),this.D=y,this.o=O,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}g(_g,ze),t=_g.prototype,t.open=function(y,O){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=y,this.A=O,this.readyState=1,cf(this)},t.send=function(y){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const O={headers:this.u,method:this.B,credentials:this.m,cache:void 0};y&&(O.body=y),(this.D||o).fetch(new Request(this.A,O)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,uf(this)),this.readyState=0},t.Sa=function(y){if(this.g&&(this.l=y,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=y.headers,this.readyState=2,cf(this)),this.g&&(this.readyState=3,cf(this),this.g)))if(this.responseType==="arraybuffer")y.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in y){if(this.j=y.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;PE(this)}else y.text().then(this.Ra.bind(this),this.ga.bind(this))};function PE(y){y.j.read().then(y.Pa.bind(y)).catch(y.ga.bind(y))}t.Pa=function(y){if(this.g){if(this.o&&y.value)this.response.push(y.value);else if(!this.o){var O=y.value?y.value:new Uint8Array(0);(O=this.v.decode(O,{stream:!y.done}))&&(this.response=this.responseText+=O)}y.done?uf(this):cf(this),this.readyState==3&&PE(this)}},t.Ra=function(y){this.g&&(this.response=this.responseText=y,uf(this))},t.Qa=function(y){this.g&&(this.response=y,uf(this))},t.ga=function(){this.g&&uf(this)};function uf(y){y.readyState=4,y.l=null,y.j=null,y.v=null,cf(y)}t.setRequestHeader=function(y,O){this.u.append(y,O)},t.getResponseHeader=function(y){return this.h&&this.h.get(y.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const y=[],O=this.h.entries();for(var V=O.next();!V.done;)V=V.value,y.push(V[0]+": "+V[1]),V=O.next();return y.join(`\r
`)};function cf(y){y.onreadystatechange&&y.onreadystatechange.call(y)}Object.defineProperty(_g.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(y){this.m=y?"include":"same-origin"}});function CE(y){let O="";return E(y,function(V,U){O+=U,O+=":",O+=V,O+=`\r
`}),O}function K0(y,O,V){e:{for(U in V){var U=!1;break e}U=!0}U||(V=CE(V),typeof y=="string"?V!=null&&encodeURIComponent(String(V)):Rn(y,O,V))}function ei(y){ze.call(this),this.headers=new Map,this.o=y||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}g(ei,ze);var T9=/^https?$/i,P9=["POST","PUT"];t=ei.prototype,t.Ha=function(y){this.J=y},t.ea=function(y,O,V,U){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+y);O=O?O.toUpperCase():"GET",this.D=y,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():H0.g(),this.v=this.o?Xn(this.o):Xn(H0),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(O,String(y),!0),this.B=!1}catch(Te){EE(this,Te);return}if(y=V||"",V=new Map(this.headers),U)if(Object.getPrototypeOf(U)===Object.prototype)for(var _e in U)V.set(_e,U[_e]);else if(typeof U.keys=="function"&&typeof U.get=="function")for(const Te of U.keys())V.set(Te,U.get(Te));else throw Error("Unknown input type for opt_headers: "+String(U));U=Array.from(V.keys()).find(Te=>Te.toLowerCase()=="content-type"),_e=o.FormData&&y instanceof o.FormData,!(0<=Array.prototype.indexOf.call(P9,O,void 0))||U||_e||V.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Te,Ue]of V)this.g.setRequestHeader(Te,Ue);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{AE(this),this.u=!0,this.g.send(y),this.u=!1}catch(Te){EE(this,Te)}};function EE(y,O){y.h=!1,y.g&&(y.j=!0,y.g.abort(),y.j=!1),y.l=O,y.m=5,IE(y),yg(y)}function IE(y){y.A||(y.A=!0,$e(y,"complete"),$e(y,"error"))}t.abort=function(y){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=y||7,$e(this,"complete"),$e(this,"abort"),yg(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),yg(this,!0)),ei.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?DE(this):this.bb())},t.bb=function(){DE(this)};function DE(y){if(y.h&&typeof a<"u"&&(!y.v[1]||io(y)!=4||y.Z()!=2)){if(y.u&&io(y)==4)_t(y.Ea,0,y);else if($e(y,"readystatechange"),io(y)==4){y.h=!1;try{const Ue=y.Z();e:switch(Ue){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var O=!0;break e;default:O=!1}var V;if(!(V=O)){var U;if(U=Ue===0){var _e=String(y.D).match(bE)[1]||null;!_e&&o.self&&o.self.location&&(_e=o.self.location.protocol.slice(0,-1)),U=!T9.test(_e?_e.toLowerCase():"")}V=U}if(V)$e(y,"complete"),$e(y,"success");else{y.m=6;try{var Te=2<io(y)?y.g.statusText:""}catch{Te=""}y.l=Te+" ["+y.Z()+"]",IE(y)}}finally{yg(y)}}}}function yg(y,O){if(y.g){AE(y);const V=y.g,U=y.v[0]?()=>{}:null;y.g=null,y.v=null,O||$e(y,"ready");try{V.onreadystatechange=U}catch{}}}function AE(y){y.I&&(o.clearTimeout(y.I),y.I=null)}t.isActive=function(){return!!this.g};function io(y){return y.g?y.g.readyState:0}t.Z=function(){try{return 2<io(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(y){if(this.g){var O=this.g.responseText;return y&&O.indexOf(y)==0&&(O=O.substring(y.length)),ut(O)}};function OE(y){try{if(!y.g)return null;if("response"in y.g)return y.g.response;switch(y.H){case"":case"text":return y.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in y.g)return y.g.mozResponseArrayBuffer}return null}catch{return null}}function C9(y){const O={};y=(y.g&&2<=io(y)&&y.g.getAllResponseHeaders()||"").split(`\r
`);for(let U=0;U<y.length;U++){if(b(y[U]))continue;var V=C(y[U]);const _e=V[0];if(V=V[1],typeof V!="string")continue;V=V.trim();const Te=O[_e]||[];O[_e]=Te,Te.push(V)}T(O,function(U){return U.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function df(y,O,V){return V&&V.internalChannelParams&&V.internalChannelParams[y]||O}function RE(y){this.Aa=0,this.i=[],this.j=new sf,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=df("failFast",!1,y),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=df("baseRetryDelayMs",5e3,y),this.cb=df("retryDelaySeedMs",1e4,y),this.Wa=df("forwardChannelMaxRetries",2,y),this.wa=df("forwardChannelRequestTimeoutMs",2e4,y),this.pa=y&&y.xmlHttpFactory||void 0,this.Xa=y&&y.Tb||void 0,this.Ca=y&&y.useFetchStreams||!1,this.L=void 0,this.J=y&&y.supportsCrossDomainXhr||!1,this.K="",this.h=new mE(y&&y.concurrentRequestLimit),this.Da=new S9,this.P=y&&y.fastHandshake||!1,this.O=y&&y.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=y&&y.Rb||!1,y&&y.xa&&this.j.xa(),y&&y.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&y&&y.detectBufferingProxy||!1,this.ja=void 0,y&&y.longPollingTimeout&&0<y.longPollingTimeout&&(this.ja=y.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=RE.prototype,t.la=8,t.G=1,t.connect=function(y,O,V,U){Cs(0),this.W=y,this.H=O||{},V&&U!==void 0&&(this.H.OSID=V,this.H.OAID=U),this.F=this.X,this.I=UE(this,null,this.W),wg(this)};function Q0(y){if(ME(y),y.G==3){var O=y.U++,V=no(y.I);if(Rn(V,"SID",y.K),Rn(V,"RID",O),Rn(V,"TYPE","terminate"),hf(y,V),O=new Qo(y,y.j,O),O.L=2,O.v=gg(no(V)),V=!1,o.navigator&&o.navigator.sendBeacon)try{V=o.navigator.sendBeacon(O.v.toString(),"")}catch{}!V&&o.Image&&(new Image().src=O.v,V=!0),V||(O.g=HE(O.j,null),O.g.ea(O.v)),O.F=Date.now(),fg(O)}$E(y)}function bg(y){y.g&&(Z0(y),y.g.cancel(),y.g=null)}function ME(y){bg(y),y.u&&(o.clearTimeout(y.u),y.u=null),xg(y),y.h.cancel(),y.s&&(typeof y.s=="number"&&o.clearTimeout(y.s),y.s=null)}function wg(y){if(!vE(y.h)&&!y.s){y.s=!0;var O=y.Ga;G||W(),z||(G(),z=!0),X.add(O,y),y.B=0}}function E9(y,O){return gE(y.h)>=y.h.j-(y.s?1:0)?!1:y.s?(y.i=O.D.concat(y.i),!0):y.G==1||y.G==2||y.B>=(y.Va?0:y.Wa)?!1:(y.s=nf(f(y.Ga,y,O),jE(y,y.B)),y.B++,!0)}t.Ga=function(y){if(this.s)if(this.s=null,this.G==1){if(!y){this.U=Math.floor(1e5*Math.random()),y=this.U++;const _e=new Qo(this,this.j,y);let Te=this.o;if(this.S&&(Te?(Te=S(Te),P(Te,this.S)):Te=this.S),this.m!==null||this.O||(_e.H=Te,Te=null),this.P)e:{for(var O=0,V=0;V<this.i.length;V++){t:{var U=this.i[V];if("__data__"in U.map&&(U=U.map.__data__,typeof U=="string")){U=U.length;break t}U=void 0}if(U===void 0)break;if(O+=U,4096<O){O=V;break e}if(O===4096||V===this.i.length-1){O=V+1;break e}}O=1e3}else O=1e3;O=LE(this,_e,O),V=no(this.I),Rn(V,"RID",y),Rn(V,"CVER",22),this.D&&Rn(V,"X-HTTP-Session-Id",this.D),hf(this,V),Te&&(this.O?O="headers="+encodeURIComponent(String(CE(Te)))+"&"+O:this.m&&K0(V,this.m,Te)),X0(this.h,_e),this.Ua&&Rn(V,"TYPE","init"),this.P?(Rn(V,"$req",O),Rn(V,"SID","null"),_e.T=!0,W0(_e,V,null)):W0(_e,V,O),this.G=2}}else this.G==3&&(y?VE(this,y):this.i.length==0||vE(this.h)||VE(this))};function VE(y,O){var V;O?V=O.l:V=y.U++;const U=no(y.I);Rn(U,"SID",y.K),Rn(U,"RID",V),Rn(U,"AID",y.T),hf(y,U),y.m&&y.o&&K0(U,y.m,y.o),V=new Qo(y,y.j,V,y.B+1),y.m===null&&(V.H=y.o),O&&(y.i=O.D.concat(y.i)),O=LE(y,V,1e3),V.I=Math.round(.5*y.wa)+Math.round(.5*y.wa*Math.random()),X0(y.h,V),W0(V,U,O)}function hf(y,O){y.H&&E(y.H,function(V,U){Rn(O,U,V)}),y.l&&yE({},function(V,U){Rn(O,U,V)})}function LE(y,O,V){V=Math.min(y.i.length,V);var U=y.l?f(y.l.Na,y.l,y):null;e:{var _e=y.i;let Te=-1;for(;;){const Ue=["count="+V];Te==-1?0<V?(Te=_e[0].g,Ue.push("ofs="+Te)):Te=0:Ue.push("ofs="+Te);let wn=!0;for(let Yi=0;Yi<V;Yi++){let Zt=_e[Yi].g;const cs=_e[Yi].map;if(Zt-=Te,0>Zt)Te=Math.max(0,_e[Yi].g-100),wn=!1;else try{k9(cs,Ue,"req"+Zt+"_")}catch{U&&U(cs)}}if(wn){U=Ue.join("&");break e}}}return y=y.i.splice(0,V),O.D=y,U}function NE(y){if(!y.g&&!y.u){y.Y=1;var O=y.Fa;G||W(),z||(G(),z=!0),X.add(O,y),y.v=0}}function J0(y){return y.g||y.u||3<=y.v?!1:(y.Y++,y.u=nf(f(y.Fa,y),jE(y,y.v)),y.v++,!0)}t.Fa=function(){if(this.u=null,FE(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var y=2*this.R;this.j.info("BP detection timer enabled: "+y),this.A=nf(f(this.ab,this),y)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Cs(10),bg(this),FE(this))};function Z0(y){y.A!=null&&(o.clearTimeout(y.A),y.A=null)}function FE(y){y.g=new Qo(y,y.j,"rpc",y.Y),y.m===null&&(y.g.H=y.o),y.g.O=0;var O=no(y.qa);Rn(O,"RID","rpc"),Rn(O,"SID",y.K),Rn(O,"AID",y.T),Rn(O,"CI",y.F?"0":"1"),!y.F&&y.ja&&Rn(O,"TO",y.ja),Rn(O,"TYPE","xmlhttp"),hf(y,O),y.m&&y.o&&K0(O,y.m,y.o),y.L&&(y.g.I=y.L);var V=y.g;y=y.ia,V.L=1,V.v=gg(no(O)),V.m=null,V.P=!0,dE(V,y)}t.Za=function(){this.C!=null&&(this.C=null,bg(this),J0(this),Cs(19))};function xg(y){y.C!=null&&(o.clearTimeout(y.C),y.C=null)}function BE(y,O){var V=null;if(y.g==O){xg(y),Z0(y),y.g=null;var U=2}else if(q0(y.h,O))V=O.D,pE(y.h,O),U=1;else return;if(y.G!=0){if(O.o)if(U==1){V=O.m?O.m.length:0,O=Date.now()-O.F;var _e=y.B;U=Ko(),$e(U,new oE(U,V)),wg(y)}else NE(y);else if(_e=O.s,_e==3||_e==0&&0<O.X||!(U==1&&E9(y,O)||U==2&&J0(y)))switch(V&&0<V.length&&(O=y.h,O.i=O.i.concat(V)),_e){case 1:du(y,5);break;case 4:du(y,10);break;case 3:du(y,6);break;default:du(y,2)}}}function jE(y,O){let V=y.Ta+Math.floor(Math.random()*y.cb);return y.isActive()||(V*=2),V*O}function du(y,O){if(y.j.info("Error code "+O),O==2){var V=f(y.fb,y),U=y.Xa;const _e=!U;U=new cu(U||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||mg(U,"https"),gg(U),_e?w9(U.toString(),V):x9(U.toString(),V)}else Cs(2);y.G=0,y.l&&y.l.sa(O),$E(y),ME(y)}t.fb=function(y){y?(this.j.info("Successfully pinged google.com"),Cs(2)):(this.j.info("Failed to ping google.com"),Cs(1))};function $E(y){if(y.G=0,y.ka=[],y.l){const O=_E(y.h);(O.length!=0||y.i.length!=0)&&(p(y.ka,O),p(y.ka,y.i),y.h.i.length=0,v(y.i),y.i.length=0),y.l.ra()}}function UE(y,O,V){var U=V instanceof cu?no(V):new cu(V);if(U.g!="")O&&(U.g=O+"."+U.g),vg(U,U.s);else{var _e=o.location;U=_e.protocol,O=O?O+"."+_e.hostname:_e.hostname,_e=+_e.port;var Te=new cu(null);U&&mg(Te,U),O&&(Te.g=O),_e&&vg(Te,_e),V&&(Te.l=V),U=Te}return V=y.D,O=y.ya,V&&O&&Rn(U,V,O),Rn(U,"VER",y.la),hf(y,U),U}function HE(y,O,V){if(O&&!y.J)throw Error("Can't create secondary domain capable XhrIo object.");return O=y.Ca&&!y.pa?new ei(new pg({eb:V})):new ei(y.pa),O.Ha(y.J),O}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function zE(){}t=zE.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Sg(){}Sg.prototype.g=function(y,O){return new sr(y,O)};function sr(y,O){ze.call(this),this.g=new RE(O),this.l=y,this.h=O&&O.messageUrlParams||null,y=O&&O.messageHeaders||null,O&&O.clientProtocolHeaderRequired&&(y?y["X-Client-Protocol"]="webchannel":y={"X-Client-Protocol":"webchannel"}),this.g.o=y,y=O&&O.initMessageHeaders||null,O&&O.messageContentType&&(y?y["X-WebChannel-Content-Type"]=O.messageContentType:y={"X-WebChannel-Content-Type":O.messageContentType}),O&&O.va&&(y?y["X-WebChannel-Client-Profile"]=O.va:y={"X-WebChannel-Client-Profile":O.va}),this.g.S=y,(y=O&&O.Sb)&&!b(y)&&(this.g.m=y),this.v=O&&O.supportsCrossDomainXhr||!1,this.u=O&&O.sendRawJson||!1,(O=O&&O.httpSessionIdParam)&&!b(O)&&(this.g.D=O,y=this.h,y!==null&&O in y&&(y=this.h,O in y&&delete y[O])),this.j=new Qc(this)}g(sr,ze),sr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},sr.prototype.close=function(){Q0(this.g)},sr.prototype.o=function(y){var O=this.g;if(typeof y=="string"){var V={};V.__data__=y,y=V}else this.u&&(V={},V.__data__=lt(y),y=V);O.i.push(new d9(O.Ya++,y)),O.G==3&&wg(O)},sr.prototype.N=function(){this.g.l=null,delete this.j,Q0(this.g),delete this.g,sr.aa.N.call(this)};function WE(y){gi.call(this),y.__headers__&&(this.headers=y.__headers__,this.statusCode=y.__status__,delete y.__headers__,delete y.__status__);var O=y.__sm__;if(O){e:{for(const V in O){y=V;break e}y=void 0}(this.i=y)&&(y=this.i,O=O!==null&&y in O?O[y]:void 0),this.data=O}else this.data=y}g(WE,gi);function YE(){Li.call(this),this.status=1}g(YE,Li);function Qc(y){this.g=y}g(Qc,zE),Qc.prototype.ua=function(){$e(this.g,"a")},Qc.prototype.ta=function(y){$e(this.g,new WE(y))},Qc.prototype.sa=function(y){$e(this.g,new YE)},Qc.prototype.ra=function(){$e(this.g,"b")},Sg.prototype.createWebChannel=Sg.prototype.g,sr.prototype.send=sr.prototype.o,sr.prototype.open=sr.prototype.m,sr.prototype.close=sr.prototype.close,FF=function(){return new Sg},NF=function(){return Ko()},LF=pi,fx={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},dg.NO_ERROR=0,dg.TIMEOUT=8,dg.HTTP_ERROR=6,Pp=dg,lE.COMPLETE="complete",VF=lE,Ii.EventType=sn,sn.OPEN="a",sn.CLOSE="b",sn.ERROR="c",sn.MESSAGE="d",ze.prototype.listen=ze.prototype.K,Df=Ii,ei.prototype.listenOnce=ei.prototype.L,ei.prototype.getLastError=ei.prototype.Ka,ei.prototype.getLastErrorCode=ei.prototype.Ba,ei.prototype.getStatus=ei.prototype.Z,ei.prototype.getResponseJson=ei.prototype.Oa,ei.prototype.getResponseText=ei.prototype.oa,ei.prototype.send=ei.prototype.ea,ei.prototype.setWithCredentials=ei.prototype.Ha,MF=ei}).apply(typeof Lg<"u"?Lg:typeof self<"u"?self:typeof window<"u"?window:{});const JD="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ms.UNAUTHENTICATED=new ms(null),ms.GOOGLE_CREDENTIALS=new ms("google-credentials-uid"),ms.FIRST_PARTY=new ms("first-party-uid"),ms.MOCK_USER=new ms("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mh="11.0.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rc=new Eh("@firebase/firestore");function hd(){return rc.logLevel}function Ze(t,...e){if(rc.logLevel<=Bt.DEBUG){const n=e.map(VT);rc.debug(`Firestore (${Mh}): ${t}`,...n)}}function Do(t,...e){if(rc.logLevel<=Bt.ERROR){const n=e.map(VT);rc.error(`Firestore (${Mh}): ${t}`,...n)}}function Qd(t,...e){if(rc.logLevel<=Bt.WARN){const n=e.map(VT);rc.warn(`Firestore (${Mh}): ${t}`,...n)}}function VT(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xt(t="Unexpected state"){const e=`FIRESTORE (${Mh}) INTERNAL ASSERTION FAILED: `+t;throw Do(e),new Error(e)}function mn(t,e){t||xt()}function It(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ae={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Xe extends Nr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BF{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class uQ{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(ms.UNAUTHENTICATED))}shutdown(){}}class cQ{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class dQ{constructor(e){this.t=e,this.currentUser=ms.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){mn(this.o===void 0);let i=this.i;const s=l=>this.i!==i?(i=this.i,n(l)):Promise.resolve();let r=new So;this.o=()=>{this.i++,this.currentUser=this.u(),r.resolve(),r=new So,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const l=r;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},o=l=>{Ze("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(l=>o(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?o(l):(Ze("FirebaseAuthCredentialsProvider","Auth not yet detected"),r.resolve(),r=new So)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==e?(Ze("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(mn(typeof i.accessToken=="string"),new BF(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return mn(e===null||typeof e=="string"),new ms(e)}}class hQ{constructor(e,n,i){this.l=e,this.h=n,this.P=i,this.type="FirstParty",this.user=ms.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class fQ{constructor(e,n,i){this.l=e,this.h=n,this.P=i}getToken(){return Promise.resolve(new hQ(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(ms.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class mQ{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class vQ{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){mn(this.o===void 0);const i=r=>{r.error!=null&&Ze("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${r.error.message}`);const a=r.token!==this.R;return this.R=r.token,Ze("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(r.token):Promise.resolve()};this.o=r=>{e.enqueueRetryable(()=>i(r))};const s=r=>{Ze("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=r,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(r=>s(r)),setTimeout(()=>{if(!this.appCheck){const r=this.A.getImmediate({optional:!0});r?s(r):Ze("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(mn(typeof n.token=="string"),this.R=n.token,new mQ(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gQ(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jF{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const s=gQ(40);for(let r=0;r<s.length;++r)i.length<20&&s[r]<n&&(i+=e.charAt(s[r]%e.length))}return i}}function zt(t,e){return t<e?-1:t>e?1:0}function Jd(t,e,n){return t.length===e.length&&t.every((i,s)=>n(i,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{static now(){return At.fromMillis(Date.now())}static fromDate(e){return At.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*n));return new At(n,i)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Xe(Ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Xe(Ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Xe(Ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Xe(Ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?zt(this.nanoseconds,e.nanoseconds):zt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{static fromTimestamp(e){return new Ct(e)}static min(){return new Ct(new At(0,0))}static max(){return new Ct(new At(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Em{constructor(e,n,i){n===void 0?n=0:n>e.length&&xt(),i===void 0?i=e.length-n:i>e.length-n&&xt(),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return Em.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Em?e.forEach(i=>{n.push(i)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let s=0;s<i;s++){const r=e.get(s),a=n.get(s);if(r<a)return-1;if(r>a)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Bn extends Em{construct(e,n,i){return new Bn(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new Xe(Ae.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(s=>s.length>0))}return new Bn(n)}static emptyPath(){return new Bn([])}}const pQ=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ts extends Em{construct(e,n,i){return new ts(e,n,i)}static isValidIdentifier(e){return pQ.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ts.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new ts(["__name__"])}static fromServerFormat(e){const n=[];let i="",s=0;const r=()=>{if(i.length===0)throw new Xe(Ae.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let a=!1;for(;s<e.length;){const o=e[s];if(o==="\\"){if(s+1===e.length)throw new Xe(Ae.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Xe(Ae.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=l,s+=2}else o==="`"?(a=!a,s++):o!=="."||a?(i+=o,s++):(r(),s++)}if(r(),a)throw new Xe(Ae.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ts(n)}static emptyPath(){return new ts([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(e){this.path=e}static fromPath(e){return new ft(Bn.fromString(e))}static fromName(e){return new ft(Bn.fromString(e).popFirst(5))}static empty(){return new ft(Bn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Bn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Bn.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ft(new Bn(e.slice()))}}function _Q(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,s=Ct.fromTimestamp(i===1e9?new At(n+1,0):new At(n,i));return new Vl(s,ft.empty(),e)}function yQ(t){return new Vl(t.readTime,t.key,-1)}class Vl{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new Vl(Ct.min(),ft.empty(),-1)}static max(){return new Vl(Ct.max(),ft.empty(),-1)}}function bQ(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ft.comparator(t.documentKey,e.documentKey),n!==0?n:zt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wQ="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class xQ{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vh(t){if(t.code!==Ae.FAILED_PRECONDITION||t.message!==wQ)throw t;Ze("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&xt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Oe((i,s)=>{this.nextCallback=r=>{this.wrapSuccess(e,r).next(i,s)},this.catchCallback=r=>{this.wrapFailure(n,r).next(i,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Oe?n:Oe.resolve(n)}catch(n){return Oe.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Oe.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Oe.reject(n)}static resolve(e){return new Oe((n,i)=>{n(e)})}static reject(e){return new Oe((n,i)=>{i(e)})}static waitFor(e){return new Oe((n,i)=>{let s=0,r=0,a=!1;e.forEach(o=>{++s,o.next(()=>{++r,a&&r===s&&n()},l=>i(l))}),a=!0,r===s&&n()})}static or(e){let n=Oe.resolve(!1);for(const i of e)n=n.next(s=>s?Oe.resolve(s):i());return n}static forEach(e,n){const i=[];return e.forEach((s,r)=>{i.push(n.call(this,s,r))}),this.waitFor(i)}static mapArray(e,n){return new Oe((i,s)=>{const r=e.length,a=new Array(r);let o=0;for(let l=0;l<r;l++){const u=l;n(e[u]).next(d=>{a[u]=d,++o,o===r&&i(a)},d=>s(d))}})}static doWhile(e,n){return new Oe((i,s)=>{const r=()=>{e()===!0?n().next(()=>{r()},s):i()};r()})}}function SQ(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Lh(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _b{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.ie(i),this.se=i=>n.writeSequenceNumber(i))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}_b.oe=-1;function yb(t){return t==null}function S_(t){return t===0&&1/t==-1/0}function kQ(t){return typeof t=="number"&&Number.isInteger(t)&&!S_(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TQ(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=ZD(e)),e=PQ(t.get(n),e);return ZD(e)}function PQ(t,e){let n=e;const i=t.length;for(let s=0;s<i;s++){const r=t.charAt(s);switch(r){case"\0":n+="";break;case"":n+="";break;default:n+=r}}return n}function ZD(t){return t+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eA(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function eu(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function $F(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn{constructor(e,n){this.comparator=e,this.root=n||Qi.EMPTY}insert(e,n){return new Zn(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Qi.BLACK,null,null))}remove(e){return new Zn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Qi.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return n+i.left.size;s<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,i)=>(e(n,i),!1))}toString(){const e=[];return this.inorderTraversal((n,i)=>(e.push(`${n}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ng(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ng(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ng(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ng(this.root,e,this.comparator,!0)}}class Ng{constructor(e,n,i,s){this.isReverse=s,this.nodeStack=[];let r=1;for(;!e.isEmpty();)if(r=n?i(e.key,n):1,n&&s&&(r*=-1),r<0)e=this.isReverse?e.left:e.right;else{if(r===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Qi{constructor(e,n,i,s,r){this.key=e,this.value=n,this.color=i??Qi.RED,this.left=s??Qi.EMPTY,this.right=r??Qi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,s,r){return new Qi(e??this.key,n??this.value,i??this.color,s??this.left,r??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let s=this;const r=i(e,s.key);return s=r<0?s.copy(null,null,null,s.left.insert(e,n,i),null):r===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,i)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Qi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return Qi.EMPTY;i=s.right.min(),s=s.copy(i.key,i.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Qi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Qi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw xt();const e=this.left.check();if(e!==this.right.check())throw xt();return e+(this.isRed()?0:1)}}Qi.EMPTY=null,Qi.RED=!0,Qi.BLACK=!1;Qi.EMPTY=new class{constructor(){this.size=0}get key(){throw xt()}get value(){throw xt()}get color(){throw xt()}get left(){throw xt()}get right(){throw xt()}copy(e,n,i,s,r){return this}insert(e,n,i){return new Qi(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi{constructor(e){this.comparator=e,this.data=new Zn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,i)=>(e(n),!1))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const s=i.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new tA(this.data.getIterator())}getIteratorFrom(e){return new tA(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(i=>{n=n.add(i)}),n}isEqual(e){if(!(e instanceof Oi)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,r=i.getNext().key;if(this.comparator(s,r)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Oi(this.comparator);return n.data=e,n}}class tA{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr{constructor(e){this.fields=e,e.sort(ts.comparator)}static empty(){return new fr([])}unionWith(e){let n=new Oi(ts.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new fr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Jd(this.fields,e.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UF extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(r){throw typeof DOMException<"u"&&r instanceof DOMException?new UF("Invalid base64 string: "+r):r}}(e);return new ss(n)}static fromUint8Array(e){const n=function(s){let r="";for(let a=0;a<s.length;++a)r+=String.fromCharCode(s[a]);return r}(e);return new ss(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let s=0;s<n.length;s++)i[s]=n.charCodeAt(s);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return zt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ss.EMPTY_BYTE_STRING=new ss("");const CQ=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ll(t){if(mn(!!t),typeof t=="string"){let e=0;const n=CQ.exec(t);if(mn(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:hi(t.seconds),nanos:hi(t.nanos)}}function hi(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Nl(t){return typeof t=="string"?ss.fromBase64String(t):ss.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LT(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function bb(t){const e=t.mapValue.fields.__previous_value__;return LT(e)?bb(e):e}function Im(t){const e=Ll(t.mapValue.fields.__local_write_time__.timestampValue);return new At(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EQ{constructor(e,n,i,s,r,a,o,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=s,this.ssl=r,this.forceLongPolling=a,this.autoDetectLongPolling=o,this.longPollingOptions=l,this.useFetchStreams=u}}class Dm{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Dm("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Dm&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fg={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Fl(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?LT(t)?4:DQ(t)?9007199254740991:IQ(t)?10:11:xt()}function Ha(t,e){if(t===e)return!0;const n=Fl(t);if(n!==Fl(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Im(t).isEqual(Im(e));case 3:return function(s,r){if(typeof s.timestampValue=="string"&&typeof r.timestampValue=="string"&&s.timestampValue.length===r.timestampValue.length)return s.timestampValue===r.timestampValue;const a=Ll(s.timestampValue),o=Ll(r.timestampValue);return a.seconds===o.seconds&&a.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,r){return Nl(s.bytesValue).isEqual(Nl(r.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,r){return hi(s.geoPointValue.latitude)===hi(r.geoPointValue.latitude)&&hi(s.geoPointValue.longitude)===hi(r.geoPointValue.longitude)}(t,e);case 2:return function(s,r){if("integerValue"in s&&"integerValue"in r)return hi(s.integerValue)===hi(r.integerValue);if("doubleValue"in s&&"doubleValue"in r){const a=hi(s.doubleValue),o=hi(r.doubleValue);return a===o?S_(a)===S_(o):isNaN(a)&&isNaN(o)}return!1}(t,e);case 9:return Jd(t.arrayValue.values||[],e.arrayValue.values||[],Ha);case 10:case 11:return function(s,r){const a=s.mapValue.fields||{},o=r.mapValue.fields||{};if(eA(a)!==eA(o))return!1;for(const l in a)if(a.hasOwnProperty(l)&&(o[l]===void 0||!Ha(a[l],o[l])))return!1;return!0}(t,e);default:return xt()}}function Am(t,e){return(t.values||[]).find(n=>Ha(n,e))!==void 0}function Zd(t,e){if(t===e)return 0;const n=Fl(t),i=Fl(e);if(n!==i)return zt(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return zt(t.booleanValue,e.booleanValue);case 2:return function(r,a){const o=hi(r.integerValue||r.doubleValue),l=hi(a.integerValue||a.doubleValue);return o<l?-1:o>l?1:o===l?0:isNaN(o)?isNaN(l)?0:-1:1}(t,e);case 3:return nA(t.timestampValue,e.timestampValue);case 4:return nA(Im(t),Im(e));case 5:return zt(t.stringValue,e.stringValue);case 6:return function(r,a){const o=Nl(r),l=Nl(a);return o.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(r,a){const o=r.split("/"),l=a.split("/");for(let u=0;u<o.length&&u<l.length;u++){const d=zt(o[u],l[u]);if(d!==0)return d}return zt(o.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(r,a){const o=zt(hi(r.latitude),hi(a.latitude));return o!==0?o:zt(hi(r.longitude),hi(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return iA(t.arrayValue,e.arrayValue);case 10:return function(r,a){var o,l,u,d;const c=r.fields||{},f=a.fields||{},h=(o=c.value)===null||o===void 0?void 0:o.arrayValue,g=(l=f.value)===null||l===void 0?void 0:l.arrayValue,v=zt(((u=h==null?void 0:h.values)===null||u===void 0?void 0:u.length)||0,((d=g==null?void 0:g.values)===null||d===void 0?void 0:d.length)||0);return v!==0?v:iA(h,g)}(t.mapValue,e.mapValue);case 11:return function(r,a){if(r===Fg.mapValue&&a===Fg.mapValue)return 0;if(r===Fg.mapValue)return 1;if(a===Fg.mapValue)return-1;const o=r.fields||{},l=Object.keys(o),u=a.fields||{},d=Object.keys(u);l.sort(),d.sort();for(let c=0;c<l.length&&c<d.length;++c){const f=zt(l[c],d[c]);if(f!==0)return f;const h=Zd(o[l[c]],u[d[c]]);if(h!==0)return h}return zt(l.length,d.length)}(t.mapValue,e.mapValue);default:throw xt()}}function nA(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return zt(t,e);const n=Ll(t),i=Ll(e),s=zt(n.seconds,i.seconds);return s!==0?s:zt(n.nanos,i.nanos)}function iA(t,e){const n=t.values||[],i=e.values||[];for(let s=0;s<n.length&&s<i.length;++s){const r=Zd(n[s],i[s]);if(r)return r}return zt(n.length,i.length)}function eh(t){return mx(t)}function mx(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const i=Ll(n);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Nl(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ft.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let i="[",s=!0;for(const r of n.values||[])s?s=!1:i+=",",i+=mx(r);return i+"]"}(t.arrayValue):"mapValue"in t?function(n){const i=Object.keys(n.fields||{}).sort();let s="{",r=!0;for(const a of i)r?r=!1:s+=",",s+=`${a}:${mx(n.fields[a])}`;return s+"}"}(t.mapValue):xt()}function Cp(t){switch(Fl(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=bb(t);return e?16+Cp(e):16;case 5:return 2*t.stringValue.length;case 6:return Nl(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((s,r)=>s+Cp(r),0)}(t.arrayValue);case 10:case 11:return function(i){let s=0;return eu(i.fields,(r,a)=>{s+=r.length+Cp(a)}),s}(t.mapValue);default:throw xt()}}function sA(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function vx(t){return!!t&&"integerValue"in t}function NT(t){return!!t&&"arrayValue"in t}function rA(t){return!!t&&"nullValue"in t}function aA(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ep(t){return!!t&&"mapValue"in t}function IQ(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Zf(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return eu(t.mapValue.fields,(n,i)=>e.mapValue.fields[n]=Zf(i)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Zf(t.arrayValue.values[n]);return e}return Object.assign({},t)}function DQ(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks{constructor(e){this.value=e}static empty(){return new Ks({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!Ep(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Zf(n)}setAll(e){let n=ts.emptyPath(),i={},s=[];e.forEach((a,o)=>{if(!n.isImmediateParentOf(o)){const l=this.getFieldsMap(n);this.applyChanges(l,i,s),i={},s=[],n=o.popLast()}a?i[o.lastSegment()]=Zf(a):s.push(o.lastSegment())});const r=this.getFieldsMap(n);this.applyChanges(r,i,s)}delete(e){const n=this.field(e.popLast());Ep(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ha(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let s=n.mapValue.fields[e.get(i)];Ep(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,i){eu(n,(s,r)=>e[s]=r);for(const s of i)delete e[s]}clone(){return new Ks(Zf(this.value))}}function HF(t){const e=[];return eu(t.fields,(n,i)=>{const s=new ts([n]);if(Ep(i)){const r=HF(i.mapValue).fields;if(r.length===0)e.push(s);else for(const a of r)e.push(s.child(a))}else e.push(s)}),new fr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys{constructor(e,n,i,s,r,a,o){this.key=e,this.documentType=n,this.version=i,this.readTime=s,this.createTime=r,this.data=a,this.documentState=o}static newInvalidDocument(e){return new ys(e,0,Ct.min(),Ct.min(),Ct.min(),Ks.empty(),0)}static newFoundDocument(e,n,i,s){return new ys(e,1,n,Ct.min(),i,s,0)}static newNoDocument(e,n){return new ys(e,2,n,Ct.min(),Ct.min(),Ks.empty(),0)}static newUnknownDocument(e,n){return new ys(e,3,n,Ct.min(),Ct.min(),Ks.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ct.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ks.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ks.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ct.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ys&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ys(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k_{constructor(e,n){this.position=e,this.inclusive=n}}function oA(t,e,n){let i=0;for(let s=0;s<t.position.length;s++){const r=e[s],a=t.position[s];if(r.field.isKeyField()?i=ft.comparator(ft.fromName(a.referenceValue),n.key):i=Zd(a,n.data.field(r.field)),r.dir==="desc"&&(i*=-1),i!==0)break}return i}function lA(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ha(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Om{constructor(e,n="asc"){this.field=e,this.dir=n}}function AQ(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zF{}class bi extends zF{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new RQ(e,n,i):n==="array-contains"?new LQ(e,i):n==="in"?new NQ(e,i):n==="not-in"?new FQ(e,i):n==="array-contains-any"?new BQ(e,i):new bi(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new MQ(e,i):new VQ(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Zd(n,this.value)):n!==null&&Fl(this.value)===Fl(n)&&this.matchesComparison(Zd(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return xt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ca extends zF{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new ca(e,n)}matches(e){return WF(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function WF(t){return t.op==="and"}function YF(t){return OQ(t)&&WF(t)}function OQ(t){for(const e of t.filters)if(e instanceof ca)return!1;return!0}function gx(t){if(t instanceof bi)return t.field.canonicalString()+t.op.toString()+eh(t.value);if(YF(t))return t.filters.map(e=>gx(e)).join(",");{const e=t.filters.map(n=>gx(n)).join(",");return`${t.op}(${e})`}}function GF(t,e){return t instanceof bi?function(i,s){return s instanceof bi&&i.op===s.op&&i.field.isEqual(s.field)&&Ha(i.value,s.value)}(t,e):t instanceof ca?function(i,s){return s instanceof ca&&i.op===s.op&&i.filters.length===s.filters.length?i.filters.reduce((r,a,o)=>r&&GF(a,s.filters[o]),!0):!1}(t,e):void xt()}function qF(t){return t instanceof bi?function(n){return`${n.field.canonicalString()} ${n.op} ${eh(n.value)}`}(t):t instanceof ca?function(n){return n.op.toString()+" {"+n.getFilters().map(qF).join(" ,")+"}"}(t):"Filter"}class RQ extends bi{constructor(e,n,i){super(e,n,i),this.key=ft.fromName(i.referenceValue)}matches(e){const n=ft.comparator(e.key,this.key);return this.matchesComparison(n)}}class MQ extends bi{constructor(e,n){super(e,"in",n),this.keys=XF("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class VQ extends bi{constructor(e,n){super(e,"not-in",n),this.keys=XF("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function XF(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>ft.fromName(i.referenceValue))}class LQ extends bi{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return NT(n)&&Am(n.arrayValue,this.value)}}class NQ extends bi{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Am(this.value.arrayValue,n)}}class FQ extends bi{constructor(e,n){super(e,"not-in",n)}matches(e){if(Am(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Am(this.value.arrayValue,n)}}class BQ extends bi{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!NT(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>Am(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jQ{constructor(e,n=null,i=[],s=[],r=null,a=null,o=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=s,this.limit=r,this.startAt=a,this.endAt=o,this.ue=null}}function uA(t,e=null,n=[],i=[],s=null,r=null,a=null){return new jQ(t,e,n,i,s,r,a)}function FT(t){const e=It(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(i=>gx(i)).join(","),n+="|ob:",n+=e.orderBy.map(i=>function(r){return r.field.canonicalString()+r.dir}(i)).join(","),yb(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(i=>eh(i)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(i=>eh(i)).join(",")),e.ue=n}return e.ue}function BT(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!AQ(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!GF(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!lA(t.startAt,e.startAt)&&lA(t.endAt,e.endAt)}function px(t){return ft.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh{constructor(e,n=null,i=[],s=[],r=null,a="F",o=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=s,this.limit=r,this.limitType=a,this.startAt=o,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function $Q(t,e,n,i,s,r,a,o){return new Nh(t,e,n,i,s,r,a,o)}function wb(t){return new Nh(t)}function cA(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function KF(t){return t.collectionGroup!==null}function em(t){const e=It(t);if(e.ce===null){e.ce=[];const n=new Set;for(const r of e.explicitOrderBy)e.ce.push(r),n.add(r.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let o=new Oi(ts.comparator);return a.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(o=o.add(u.field))})}),o})(e).forEach(r=>{n.has(r.canonicalString())||r.isKeyField()||e.ce.push(new Om(r,i))}),n.has(ts.keyField().canonicalString())||e.ce.push(new Om(ts.keyField(),i))}return e.ce}function Ma(t){const e=It(t);return e.le||(e.le=UQ(e,em(t))),e.le}function UQ(t,e){if(t.limitType==="F")return uA(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const r=s.dir==="desc"?"asc":"desc";return new Om(s.field,r)});const n=t.endAt?new k_(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new k_(t.startAt.position,t.startAt.inclusive):null;return uA(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function _x(t,e){const n=t.filters.concat([e]);return new Nh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function yx(t,e,n){return new Nh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function xb(t,e){return BT(Ma(t),Ma(e))&&t.limitType===e.limitType}function QF(t){return`${FT(Ma(t))}|lt:${t.limitType}`}function fd(t){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(s=>qF(s)).join(", ")}]`),yb(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(s=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(s)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(s=>eh(s)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(s=>eh(s)).join(",")),`Target(${i})`}(Ma(t))}; limitType=${t.limitType})`}function Sb(t,e){return e.isFoundDocument()&&function(i,s){const r=s.key.path;return i.collectionGroup!==null?s.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(r):ft.isDocumentKey(i.path)?i.path.isEqual(r):i.path.isImmediateParentOf(r)}(t,e)&&function(i,s){for(const r of em(i))if(!r.field.isKeyField()&&s.data.field(r.field)===null)return!1;return!0}(t,e)&&function(i,s){for(const r of i.filters)if(!r.matches(s))return!1;return!0}(t,e)&&function(i,s){return!(i.startAt&&!function(a,o,l){const u=oA(a,o,l);return a.inclusive?u<=0:u<0}(i.startAt,em(i),s)||i.endAt&&!function(a,o,l){const u=oA(a,o,l);return a.inclusive?u>=0:u>0}(i.endAt,em(i),s))}(t,e)}function HQ(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function JF(t){return(e,n)=>{let i=!1;for(const s of em(t)){const r=zQ(s,e,n);if(r!==0)return r;i=i||s.field.isKeyField()}return 0}}function zQ(t,e,n){const i=t.field.isKeyField()?ft.comparator(e.key,n.key):function(r,a,o){const l=a.data.field(r),u=o.data.field(r);return l!==null&&u!==null?Zd(l,u):xt()}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return xt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ac{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[s,r]of i)if(this.equalsFn(s,e))return r}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let r=0;r<s.length;r++)if(this.equalsFn(s[r][0],e))return void(s[r]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return i.length===1?delete this.inner[n]:i.splice(s,1),this.innerSize--,!0;return!1}forEach(e){eu(this.inner,(n,i)=>{for(const[s,r]of i)e(s,r)})}isEmpty(){return $F(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WQ=new Zn(ft.comparator);function Ao(){return WQ}const ZF=new Zn(ft.comparator);function Af(...t){let e=ZF;for(const n of t)e=e.insert(n.key,n);return e}function eB(t){let e=ZF;return t.forEach((n,i)=>e=e.insert(n,i.overlayedDocument)),e}function Ru(){return tm()}function tB(){return tm()}function tm(){return new Ac(t=>t.toString(),(t,e)=>t.isEqual(e))}const YQ=new Zn(ft.comparator),GQ=new Oi(ft.comparator);function Ht(...t){let e=GQ;for(const n of t)e=e.add(n);return e}const qQ=new Oi(zt);function XQ(){return qQ}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jT(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:S_(e)?"-0":e}}function nB(t){return{integerValue:""+t}}function KQ(t,e){return kQ(e)?nB(e):jT(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kb{constructor(){this._=void 0}}function QQ(t,e,n){return t instanceof T_?function(s,r){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return r&&LT(r)&&(r=bb(r)),r&&(a.fields.__previous_value__=r),{mapValue:a}}(n,e):t instanceof Rm?sB(t,e):t instanceof Mm?rB(t,e):function(s,r){const a=iB(s,r),o=dA(a)+dA(s.Pe);return vx(a)&&vx(s.Pe)?nB(o):jT(s.serializer,o)}(t,e)}function JQ(t,e,n){return t instanceof Rm?sB(t,e):t instanceof Mm?rB(t,e):n}function iB(t,e){return t instanceof P_?function(i){return vx(i)||function(r){return!!r&&"doubleValue"in r}(i)}(e)?e:{integerValue:0}:null}class T_ extends kb{}class Rm extends kb{constructor(e){super(),this.elements=e}}function sB(t,e){const n=aB(e);for(const i of t.elements)n.some(s=>Ha(s,i))||n.push(i);return{arrayValue:{values:n}}}class Mm extends kb{constructor(e){super(),this.elements=e}}function rB(t,e){let n=aB(e);for(const i of t.elements)n=n.filter(s=>!Ha(s,i));return{arrayValue:{values:n}}}class P_ extends kb{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function dA(t){return hi(t.integerValue||t.doubleValue)}function aB(t){return NT(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function ZQ(t,e){return t.field.isEqual(e.field)&&function(i,s){return i instanceof Rm&&s instanceof Rm||i instanceof Mm&&s instanceof Mm?Jd(i.elements,s.elements,Ha):i instanceof P_&&s instanceof P_?Ha(i.Pe,s.Pe):i instanceof T_&&s instanceof T_}(t.transform,e.transform)}class eJ{constructor(e,n){this.version=e,this.transformResults=n}}class Js{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Js}static exists(e){return new Js(void 0,e)}static updateTime(e){return new Js(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ip(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Tb{}function oB(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Pb(t.key,Js.none()):new Fv(t.key,t.data,Js.none());{const n=t.data,i=Ks.empty();let s=new Oi(ts.comparator);for(let r of e.fields)if(!s.has(r)){let a=n.field(r);a===null&&r.length>1&&(r=r.popLast(),a=n.field(r)),a===null?i.delete(r):i.set(r,a),s=s.add(r)}return new tu(t.key,i,new fr(s.toArray()),Js.none())}}function tJ(t,e,n){t instanceof Fv?function(s,r,a){const o=s.value.clone(),l=fA(s.fieldTransforms,r,a.transformResults);o.setAll(l),r.convertToFoundDocument(a.version,o).setHasCommittedMutations()}(t,e,n):t instanceof tu?function(s,r,a){if(!Ip(s.precondition,r))return void r.convertToUnknownDocument(a.version);const o=fA(s.fieldTransforms,r,a.transformResults),l=r.data;l.setAll(lB(s)),l.setAll(o),r.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(t,e,n):function(s,r,a){r.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,n)}function nm(t,e,n,i){return t instanceof Fv?function(r,a,o,l){if(!Ip(r.precondition,a))return o;const u=r.value.clone(),d=mA(r.fieldTransforms,l,a);return u.setAll(d),a.convertToFoundDocument(a.version,u).setHasLocalMutations(),null}(t,e,n,i):t instanceof tu?function(r,a,o,l){if(!Ip(r.precondition,a))return o;const u=mA(r.fieldTransforms,l,a),d=a.data;return d.setAll(lB(r)),d.setAll(u),a.convertToFoundDocument(a.version,d).setHasLocalMutations(),o===null?null:o.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(c=>c.field))}(t,e,n,i):function(r,a,o){return Ip(r.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):o}(t,e,n)}function nJ(t,e){let n=null;for(const i of t.fieldTransforms){const s=e.data.field(i.field),r=iB(i.transform,s||null);r!=null&&(n===null&&(n=Ks.empty()),n.set(i.field,r))}return n||null}function hA(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(i,s){return i===void 0&&s===void 0||!(!i||!s)&&Jd(i,s,(r,a)=>ZQ(r,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Fv extends Tb{constructor(e,n,i,s=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class tu extends Tb{constructor(e,n,i,s,r=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=s,this.fieldTransforms=r,this.type=1}getFieldMask(){return this.fieldMask}}function lB(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}}),e}function fA(t,e,n){const i=new Map;mn(t.length===n.length);for(let s=0;s<n.length;s++){const r=t[s],a=r.transform,o=e.data.field(r.field);i.set(r.field,JQ(a,o,n[s]))}return i}function mA(t,e,n){const i=new Map;for(const s of t){const r=s.transform,a=n.data.field(s.field);i.set(s.field,QQ(r,a,e))}return i}class Pb extends Tb{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class iJ extends Tb{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sJ{constructor(e,n,i,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=s}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const r=this.mutations[s];r.key.isEqual(e.key)&&tJ(r,e,i[s])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=nm(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=nm(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=tB();return this.mutations.forEach(s=>{const r=e.get(s.key),a=r.overlayedDocument;let o=this.applyToLocalView(a,r.mutatedFields);o=n.has(s.key)?null:o;const l=oB(a,o);l!==null&&i.set(s.key,l),a.isValidDocument()||a.convertToNoDocument(Ct.min())}),i}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ht())}isEqual(e){return this.batchId===e.batchId&&Jd(this.mutations,e.mutations,(n,i)=>hA(n,i))&&Jd(this.baseMutations,e.baseMutations,(n,i)=>hA(n,i))}}class $T{constructor(e,n,i,s){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=s}static from(e,n,i){mn(e.mutations.length===i.length);let s=function(){return YQ}();const r=e.mutations;for(let a=0;a<r.length;a++)s=s.insert(r[a].key,i[a].version);return new $T(e,n,i,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rJ{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aJ{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _i,qt;function oJ(t){switch(t){default:return xt();case Ae.CANCELLED:case Ae.UNKNOWN:case Ae.DEADLINE_EXCEEDED:case Ae.RESOURCE_EXHAUSTED:case Ae.INTERNAL:case Ae.UNAVAILABLE:case Ae.UNAUTHENTICATED:return!1;case Ae.INVALID_ARGUMENT:case Ae.NOT_FOUND:case Ae.ALREADY_EXISTS:case Ae.PERMISSION_DENIED:case Ae.FAILED_PRECONDITION:case Ae.ABORTED:case Ae.OUT_OF_RANGE:case Ae.UNIMPLEMENTED:case Ae.DATA_LOSS:return!0}}function uB(t){if(t===void 0)return Do("GRPC error has no .code"),Ae.UNKNOWN;switch(t){case _i.OK:return Ae.OK;case _i.CANCELLED:return Ae.CANCELLED;case _i.UNKNOWN:return Ae.UNKNOWN;case _i.DEADLINE_EXCEEDED:return Ae.DEADLINE_EXCEEDED;case _i.RESOURCE_EXHAUSTED:return Ae.RESOURCE_EXHAUSTED;case _i.INTERNAL:return Ae.INTERNAL;case _i.UNAVAILABLE:return Ae.UNAVAILABLE;case _i.UNAUTHENTICATED:return Ae.UNAUTHENTICATED;case _i.INVALID_ARGUMENT:return Ae.INVALID_ARGUMENT;case _i.NOT_FOUND:return Ae.NOT_FOUND;case _i.ALREADY_EXISTS:return Ae.ALREADY_EXISTS;case _i.PERMISSION_DENIED:return Ae.PERMISSION_DENIED;case _i.FAILED_PRECONDITION:return Ae.FAILED_PRECONDITION;case _i.ABORTED:return Ae.ABORTED;case _i.OUT_OF_RANGE:return Ae.OUT_OF_RANGE;case _i.UNIMPLEMENTED:return Ae.UNIMPLEMENTED;case _i.DATA_LOSS:return Ae.DATA_LOSS;default:return xt()}}(qt=_i||(_i={}))[qt.OK=0]="OK",qt[qt.CANCELLED=1]="CANCELLED",qt[qt.UNKNOWN=2]="UNKNOWN",qt[qt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qt[qt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qt[qt.NOT_FOUND=5]="NOT_FOUND",qt[qt.ALREADY_EXISTS=6]="ALREADY_EXISTS",qt[qt.PERMISSION_DENIED=7]="PERMISSION_DENIED",qt[qt.UNAUTHENTICATED=16]="UNAUTHENTICATED",qt[qt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qt[qt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qt[qt.ABORTED=10]="ABORTED",qt[qt.OUT_OF_RANGE=11]="OUT_OF_RANGE",qt[qt.UNIMPLEMENTED=12]="UNIMPLEMENTED",qt[qt.INTERNAL=13]="INTERNAL",qt[qt.UNAVAILABLE=14]="UNAVAILABLE",qt[qt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lJ(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uJ=new Uu([4294967295,4294967295],0);function vA(t){const e=lJ().encode(t),n=new RF;return n.update(e),new Uint8Array(n.digest())}function gA(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),s=e.getUint32(8,!0),r=e.getUint32(12,!0);return[new Uu([n,i],0),new Uu([s,r],0)]}class UT{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new Of(`Invalid padding: ${n}`);if(i<0)throw new Of(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Of(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new Of(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ie=Uu.fromNumber(this.Te)}Ee(e,n,i){let s=e.add(n.multiply(Uu.fromNumber(i)));return s.compare(uJ)===1&&(s=new Uu([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Ie).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=vA(e),[i,s]=gA(n);for(let r=0;r<this.hashCount;r++){const a=this.Ee(i,s,r);if(!this.de(a))return!1}return!0}static create(e,n,i){const s=e%8==0?0:8-e%8,r=new Uint8Array(Math.ceil(e/8)),a=new UT(r,s,n);return i.forEach(o=>a.insert(o)),a}insert(e){if(this.Te===0)return;const n=vA(e),[i,s]=gA(n);for(let r=0;r<this.hashCount;r++){const a=this.Ee(i,s,r);this.Ae(a)}}Ae(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class Of extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cb{constructor(e,n,i,s,r){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=s,this.resolvedLimboDocuments=r}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const s=new Map;return s.set(e,Bv.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new Cb(Ct.min(),s,new Zn(zt),Ao(),Ht())}}class Bv{constructor(e,n,i,s,r){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=s,this.removedDocuments=r}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new Bv(i,n,Ht(),Ht(),Ht())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dp{constructor(e,n,i,s){this.Re=e,this.removedTargetIds=n,this.key=i,this.Ve=s}}class cB{constructor(e,n){this.targetId=e,this.me=n}}class dB{constructor(e,n,i=ss.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=s}}class pA{constructor(){this.fe=0,this.ge=_A(),this.pe=ss.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Ht(),n=Ht(),i=Ht();return this.ge.forEach((s,r)=>{switch(r){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:i=i.add(s);break;default:xt()}}),new Bv(this.pe,this.ye,e,n,i)}Ce(){this.we=!1,this.ge=_A()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,mn(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class cJ{constructor(e){this.Le=e,this.Be=new Map,this.ke=Ao(),this.qe=Bg(),this.Qe=Bg(),this.Ke=new Zn(zt)}$e(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(n,e.Ve):this.We(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.We(n,e.key,e.Ve)}Ge(e){this.forEachTarget(e,n=>{const i=this.ze(n);switch(e.state){case 0:this.je(n)&&i.De(e.resumeToken);break;case 1:i.Oe(),i.Se||i.Ce(),i.De(e.resumeToken);break;case 2:i.Oe(),i.Se||this.removeTarget(n);break;case 3:this.je(n)&&(i.Ne(),i.De(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),i.De(e.resumeToken));break;default:xt()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((i,s)=>{this.je(s)&&n(s)})}Je(e){const n=e.targetId,i=e.me.count,s=this.Ye(n);if(s){const r=s.target;if(px(r))if(i===0){const a=new ft(r.path);this.We(n,a,ys.newNoDocument(a,Ct.min()))}else mn(i===1);else{const a=this.Ze(n);if(a!==i){const o=this.Xe(e),l=o?this.et(o,e,a):1;if(l!==0){this.He(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,u)}}}}}Xe(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:s=0},hashCount:r=0}=n;let a,o;try{a=Nl(i).toUint8Array()}catch(l){if(l instanceof UF)return Qd("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{o=new UT(a,s,r)}catch(l){return Qd(l instanceof Of?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return o.Te===0?null:o}et(e,n,i){return n.me.count===i-this.rt(e,n.targetId)?0:2}rt(e,n){const i=this.Le.getRemoteKeysForTarget(n);let s=0;return i.forEach(r=>{const a=this.Le.nt(),o=`projects/${a.projectId}/databases/${a.database}/documents/${r.path.canonicalString()}`;e.mightContain(o)||(this.We(n,r,null),s++)}),s}it(e){const n=new Map;this.Be.forEach((r,a)=>{const o=this.Ye(a);if(o){if(r.current&&px(o.target)){const l=new ft(o.target.path);this.st(l).has(a)||this.ot(a,l)||this.We(a,l,ys.newNoDocument(l,e))}r.be&&(n.set(a,r.ve()),r.Ce())}});let i=Ht();this.Qe.forEach((r,a)=>{let o=!0;a.forEachWhile(l=>{const u=this.Ye(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)}),o&&(i=i.add(r))}),this.ke.forEach((r,a)=>a.setReadTime(e));const s=new Cb(e,n,this.Ke,this.ke,i);return this.ke=Ao(),this.qe=Bg(),this.Qe=Bg(),this.Ke=new Zn(zt),s}Ue(e,n){if(!this.je(e))return;const i=this.ot(e,n.key)?2:0;this.ze(e).Fe(n.key,i),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e)),this.Qe=this.Qe.insert(n.key,this._t(n.key).add(e))}We(e,n,i){if(!this.je(e))return;const s=this.ze(e);this.ot(e,n)?s.Fe(n,1):s.Me(n),this.Qe=this.Qe.insert(n,this._t(n).delete(e)),this.Qe=this.Qe.insert(n,this._t(n).add(e)),i&&(this.ke=this.ke.insert(n,i))}removeTarget(e){this.Be.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let n=this.Be.get(e);return n||(n=new pA,this.Be.set(e,n)),n}_t(e){let n=this.Qe.get(e);return n||(n=new Oi(zt),this.Qe=this.Qe.insert(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Oi(zt),this.qe=this.qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||Ze("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ut(e)}He(e){this.Be.set(e,new pA),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}ot(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function Bg(){return new Zn(ft.comparator)}function _A(){return new Zn(ft.comparator)}const dJ={asc:"ASCENDING",desc:"DESCENDING"},hJ={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},fJ={and:"AND",or:"OR"};class mJ{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function bx(t,e){return t.useProto3Json||yb(e)?e:{value:e}}function C_(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function hB(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function vJ(t,e){return C_(t,e.toTimestamp())}function Va(t){return mn(!!t),Ct.fromTimestamp(function(n){const i=Ll(n);return new At(i.seconds,i.nanos)}(t))}function HT(t,e){return wx(t,e).canonicalString()}function wx(t,e){const n=function(s){return new Bn(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function fB(t){const e=Bn.fromString(t);return mn(_B(e)),e}function xx(t,e){return HT(t.databaseId,e.path)}function Dw(t,e){const n=fB(e);if(n.get(1)!==t.databaseId.projectId)throw new Xe(Ae.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Xe(Ae.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ft(vB(n))}function mB(t,e){return HT(t.databaseId,e)}function gJ(t){const e=fB(t);return e.length===4?Bn.emptyPath():vB(e)}function Sx(t){return new Bn(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function vB(t){return mn(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function yA(t,e,n){return{name:xx(t,e),fields:n.value.mapValue.fields}}function pJ(t,e){let n;if("targetChange"in e){e.targetChange;const i=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:xt()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],r=function(u,d){return u.useProto3Json?(mn(d===void 0||typeof d=="string"),ss.fromBase64String(d||"")):(mn(d===void 0||d instanceof Buffer||d instanceof Uint8Array),ss.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,o=a&&function(u){const d=u.code===void 0?Ae.UNKNOWN:uB(u.code);return new Xe(d,u.message||"")}(a);n=new dB(i,s,r,o||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const s=Dw(t,i.document.name),r=Va(i.document.updateTime),a=i.document.createTime?Va(i.document.createTime):Ct.min(),o=new Ks({mapValue:{fields:i.document.fields}}),l=ys.newFoundDocument(s,r,a,o),u=i.targetIds||[],d=i.removedTargetIds||[];n=new Dp(u,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const s=Dw(t,i.document),r=i.readTime?Va(i.readTime):Ct.min(),a=ys.newNoDocument(s,r),o=i.removedTargetIds||[];n=new Dp([],o,a.key,a)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const s=Dw(t,i.document),r=i.removedTargetIds||[];n=new Dp([],r,s,null)}else{if(!("filter"in e))return xt();{e.filter;const i=e.filter;i.targetId;const{count:s=0,unchangedNames:r}=i,a=new aJ(s,r),o=i.targetId;n=new cB(o,a)}}return n}function _J(t,e){let n;if(e instanceof Fv)n={update:yA(t,e.key,e.value)};else if(e instanceof Pb)n={delete:xx(t,e.key)};else if(e instanceof tu)n={update:yA(t,e.key,e.data),updateMask:CJ(e.fieldMask)};else{if(!(e instanceof iJ))return xt();n={verify:xx(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(i=>function(r,a){const o=a.transform;if(o instanceof T_)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Rm)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Mm)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof P_)return{fieldPath:a.field.canonicalString(),increment:o.Pe};throw xt()}(0,i))),e.precondition.isNone||(n.currentDocument=function(s,r){return r.updateTime!==void 0?{updateTime:vJ(s,r.updateTime)}:r.exists!==void 0?{exists:r.exists}:xt()}(t,e.precondition)),n}function yJ(t,e){return t&&t.length>0?(mn(e!==void 0),t.map(n=>function(s,r){let a=s.updateTime?Va(s.updateTime):Va(r);return a.isEqual(Ct.min())&&(a=Va(r)),new eJ(a,s.transformResults||[])}(n,e))):[]}function bJ(t,e){return{documents:[mB(t,e.path)]}}function wJ(t,e){const n={structuredQuery:{}},i=e.path;let s;e.collectionGroup!==null?(s=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=mB(t,s);const r=function(u){if(u.length!==0)return pB(ca.create(u,"and"))}(e.filters);r&&(n.structuredQuery.where=r);const a=function(u){if(u.length!==0)return u.map(d=>function(f){return{field:md(f.field),direction:kJ(f.dir)}}(d))}(e.orderBy);a&&(n.structuredQuery.orderBy=a);const o=bx(t,e.limit);return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ct:n,parent:s}}function xJ(t){let e=gJ(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let s=null;if(i>0){mn(i===1);const d=n.from[0];d.allDescendants?s=d.collectionId:e=e.child(d.collectionId)}let r=[];n.where&&(r=function(c){const f=gB(c);return f instanceof ca&&YF(f)?f.getFilters():[f]}(n.where));let a=[];n.orderBy&&(a=function(c){return c.map(f=>function(g){return new Om(vd(g.field),function(p){switch(p){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(f))}(n.orderBy));let o=null;n.limit&&(o=function(c){let f;return f=typeof c=="object"?c.value:c,yb(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(c){const f=!!c.before,h=c.values||[];return new k_(h,f)}(n.startAt));let u=null;return n.endAt&&(u=function(c){const f=!c.before,h=c.values||[];return new k_(h,f)}(n.endAt)),$Q(e,s,a,r,o,"F",l,u)}function SJ(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return xt()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function gB(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=vd(n.unaryFilter.field);return bi.create(i,"==",{doubleValue:NaN});case"IS_NULL":const s=vd(n.unaryFilter.field);return bi.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=vd(n.unaryFilter.field);return bi.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=vd(n.unaryFilter.field);return bi.create(a,"!=",{nullValue:"NULL_VALUE"});default:return xt()}}(t):t.fieldFilter!==void 0?function(n){return bi.create(vd(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return xt()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return ca.create(n.compositeFilter.filters.map(i=>gB(i)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return xt()}}(n.compositeFilter.op))}(t):xt()}function kJ(t){return dJ[t]}function TJ(t){return hJ[t]}function PJ(t){return fJ[t]}function md(t){return{fieldPath:t.canonicalString()}}function vd(t){return ts.fromServerFormat(t.fieldPath)}function pB(t){return t instanceof bi?function(n){if(n.op==="=="){if(aA(n.value))return{unaryFilter:{field:md(n.field),op:"IS_NAN"}};if(rA(n.value))return{unaryFilter:{field:md(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(aA(n.value))return{unaryFilter:{field:md(n.field),op:"IS_NOT_NAN"}};if(rA(n.value))return{unaryFilter:{field:md(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:md(n.field),op:TJ(n.op),value:n.value}}}(t):t instanceof ca?function(n){const i=n.getFilters().map(s=>pB(s));return i.length===1?i[0]:{compositeFilter:{op:PJ(n.op),filters:i}}}(t):xt()}function CJ(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function _B(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pl{constructor(e,n,i,s,r=Ct.min(),a=Ct.min(),o=ss.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=s,this.snapshotVersion=r,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=o,this.expectedCount=l}withSequenceNumber(e){return new pl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new pl(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new pl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new pl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EJ{constructor(e){this.ht=e}}function IJ(t){const e=xJ({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?yx(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DJ{constructor(){this.ln=new AJ}addToCollectionParentIndex(e,n){return this.ln.add(n),Oe.resolve()}getCollectionParents(e,n){return Oe.resolve(this.ln.getEntries(n))}addFieldIndex(e,n){return Oe.resolve()}deleteFieldIndex(e,n){return Oe.resolve()}deleteAllFieldIndexes(e){return Oe.resolve()}createTargetIndexes(e,n){return Oe.resolve()}getDocumentsMatchingTarget(e,n){return Oe.resolve(null)}getIndexType(e,n){return Oe.resolve(0)}getFieldIndexes(e,n){return Oe.resolve([])}getNextCollectionGroupToUpdate(e){return Oe.resolve(null)}getMinOffset(e,n){return Oe.resolve(Vl.min())}getMinOffsetFromCollectionGroup(e,n){return Oe.resolve(Vl.min())}updateCollectionGroup(e,n,i){return Oe.resolve()}updateIndexEntries(e,n){return Oe.resolve()}}class AJ{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),s=this.index[n]||new Oi(Bn.comparator),r=!s.has(i);return this.index[n]=s.add(i),r}has(e){const n=e.lastSegment(),i=e.popLast(),s=this.index[n];return s&&s.has(i)}getEntries(e){return(this.index[e]||new Oi(Bn.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bA={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Ws{static withCacheSize(e){return new Ws(e,Ws.DEFAULT_COLLECTION_PERCENTILE,Ws.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ws.DEFAULT_COLLECTION_PERCENTILE=10,Ws.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ws.DEFAULT=new Ws(41943040,Ws.DEFAULT_COLLECTION_PERCENTILE,Ws.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ws.DISABLED=new Ws(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new th(0)}static Qn(){return new th(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wA([t,e],[n,i]){const s=zt(t,n);return s===0?zt(e,i):s}class OJ{constructor(e){this.Gn=e,this.buffer=new Oi(wA),this.zn=0}jn(){return++this.zn}Hn(e){const n=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();wA(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class RJ{constructor(e,n,i){this.garbageCollector=e,this.asyncQueue=n,this.localStore=i,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){Ze("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Lh(n)?Ze("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await Vh(n)}await this.Yn(3e5)})}}class MJ{constructor(e,n){this.Zn=e,this.params=n}calculateTargetCount(e,n){return this.Zn.Xn(e).next(i=>Math.floor(n/100*i))}nthSequenceNumber(e,n){if(n===0)return Oe.resolve(_b.oe);const i=new OJ(n);return this.Zn.forEachTarget(e,s=>i.Hn(s.sequenceNumber)).next(()=>this.Zn.er(e,s=>i.Hn(s))).next(()=>i.maxValue)}removeTargets(e,n,i){return this.Zn.removeTargets(e,n,i)}removeOrphanedDocuments(e,n){return this.Zn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Ze("LruGarbageCollector","Garbage collection skipped; disabled"),Oe.resolve(bA)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(Ze("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),bA):this.tr(e,n))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,n){let i,s,r,a,o,l,u;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(c=>(c>this.params.maximumSequenceNumbersToCollect?(Ze("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${c}`),s=this.params.maximumSequenceNumbersToCollect):s=c,a=Date.now(),this.nthSequenceNumber(e,s))).next(c=>(i=c,o=Date.now(),this.removeTargets(e,i,n))).next(c=>(r=c,l=Date.now(),this.removeOrphanedDocuments(e,i))).next(c=>(u=Date.now(),hd()<=Bt.DEBUG&&Ze("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-d}ms
	Determined least recently used ${s} in `+(o-a)+`ms
	Removed ${r} targets in `+(l-o)+`ms
	Removed ${c} documents in `+(u-l)+`ms
Total Duration: ${u-d}ms`),Oe.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:r,documentsRemoved:c})))}}function VJ(t,e){return new MJ(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LJ{constructor(){this.changes=new Ac(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,ys.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?Oe.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NJ{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FJ{constructor(e,n,i,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=s}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(i=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(i!==null&&nm(i.mutation,s,fr.empty(),At.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.getLocalViewOfDocuments(e,i,Ht()).next(()=>i))}getLocalViewOfDocuments(e,n,i=Ht()){const s=Ru();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,i).next(r=>{let a=Af();return r.forEach((o,l)=>{a=a.insert(o,l.overlayedDocument)}),a}))}getOverlayedDocuments(e,n){const i=Ru();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,Ht()))}populateOverlays(e,n,i){const s=[];return i.forEach(r=>{n.has(r)||s.push(r)}),this.documentOverlayCache.getOverlays(e,s).next(r=>{r.forEach((a,o)=>{n.set(a,o)})})}computeViews(e,n,i,s){let r=Ao();const a=tm(),o=function(){return tm()}();return n.forEach((l,u)=>{const d=i.get(u.key);s.has(u.key)&&(d===void 0||d.mutation instanceof tu)?r=r.insert(u.key,u):d!==void 0?(a.set(u.key,d.mutation.getFieldMask()),nm(d.mutation,u,d.mutation.getFieldMask(),At.now())):a.set(u.key,fr.empty())}),this.recalculateAndSaveOverlays(e,r).next(l=>(l.forEach((u,d)=>a.set(u,d)),n.forEach((u,d)=>{var c;return o.set(u,new NJ(d,(c=a.get(u))!==null&&c!==void 0?c:null))}),o))}recalculateAndSaveOverlays(e,n){const i=tm();let s=new Zn((a,o)=>a-o),r=Ht();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(a=>{for(const o of a)o.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let d=i.get(l)||fr.empty();d=o.applyToLocalView(u,d),i.set(l,d);const c=(s.get(o.batchId)||Ht()).add(l);s=s.insert(o.batchId,c)})}).next(()=>{const a=[],o=s.getReverseIterator();for(;o.hasNext();){const l=o.getNext(),u=l.key,d=l.value,c=tB();d.forEach(f=>{if(!r.has(f)){const h=oB(n.get(f),i.get(f));h!==null&&c.set(f,h),r=r.add(f)}}),a.push(this.documentOverlayCache.saveOverlays(e,u,c))}return Oe.waitFor(a)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,n,i,s){return function(a){return ft.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):KF(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,s):this.getDocumentsMatchingCollectionQuery(e,n,i,s)}getNextDocuments(e,n,i,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,s).next(r=>{const a=s-r.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,s-r.size):Oe.resolve(Ru());let o=-1,l=r;return a.next(u=>Oe.forEach(u,(d,c)=>(o<c.largestBatchId&&(o=c.largestBatchId),r.get(d)?Oe.resolve():this.remoteDocumentCache.getEntry(e,d).next(f=>{l=l.insert(d,f)}))).next(()=>this.populateOverlays(e,u,r)).next(()=>this.computeViews(e,l,u,Ht())).next(d=>({batchId:o,changes:eB(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ft(n)).next(i=>{let s=Af();return i.isFoundDocument()&&(s=s.insert(i.key,i)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,i,s){const r=n.collectionGroup;let a=Af();return this.indexManager.getCollectionParents(e,r).next(o=>Oe.forEach(o,l=>{const u=function(c,f){return new Nh(f,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt)}(n,l.child(r));return this.getDocumentsMatchingCollectionQuery(e,u,i,s).next(d=>{d.forEach((c,f)=>{a=a.insert(c,f)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,n,i,s){let r;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next(a=>(r=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,r,s))).next(a=>{r.forEach((l,u)=>{const d=u.getKey();a.get(d)===null&&(a=a.insert(d,ys.newInvalidDocument(d)))});let o=Af();return a.forEach((l,u)=>{const d=r.get(l);d!==void 0&&nm(d.mutation,u,fr.empty(),At.now()),Sb(n,u)&&(o=o.insert(l,u))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BJ{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,n){return Oe.resolve(this.Tr.get(n))}saveBundleMetadata(e,n){return this.Tr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:Va(s.createTime)}}(n)),Oe.resolve()}getNamedQuery(e,n){return Oe.resolve(this.Ir.get(n))}saveNamedQuery(e,n){return this.Ir.set(n.name,function(s){return{name:s.name,query:IJ(s.bundledQuery),readTime:Va(s.readTime)}}(n)),Oe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jJ{constructor(){this.overlays=new Zn(ft.comparator),this.Er=new Map}getOverlay(e,n){return Oe.resolve(this.overlays.get(n))}getOverlays(e,n){const i=Ru();return Oe.forEach(n,s=>this.getOverlay(e,s).next(r=>{r!==null&&i.set(s,r)})).next(()=>i)}saveOverlays(e,n,i){return i.forEach((s,r)=>{this.Tt(e,n,r)}),Oe.resolve()}removeOverlaysForBatchId(e,n,i){const s=this.Er.get(i);return s!==void 0&&(s.forEach(r=>this.overlays=this.overlays.remove(r)),this.Er.delete(i)),Oe.resolve()}getOverlaysForCollection(e,n,i){const s=Ru(),r=n.length+1,a=new ft(n.child("")),o=this.overlays.getIteratorFrom(a);for(;o.hasNext();){const l=o.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===r&&l.largestBatchId>i&&s.set(l.getKey(),l)}return Oe.resolve(s)}getOverlaysForCollectionGroup(e,n,i,s){let r=new Zn((u,d)=>u-d);const a=this.overlays.getIterator();for(;a.hasNext();){const u=a.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>i){let d=r.get(u.largestBatchId);d===null&&(d=Ru(),r=r.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const o=Ru(),l=r.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,d)=>o.set(u,d)),!(o.size()>=s)););return Oe.resolve(o)}Tt(e,n,i){const s=this.overlays.get(i.key);if(s!==null){const a=this.Er.get(s.largestBatchId).delete(i.key);this.Er.set(s.largestBatchId,a)}this.overlays=this.overlays.insert(i.key,new rJ(n,i));let r=this.Er.get(n);r===void 0&&(r=Ht(),this.Er.set(n,r)),this.Er.set(n,r.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $J{constructor(){this.sessionToken=ss.EMPTY_BYTE_STRING}getSessionToken(e){return Oe.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Oe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zT{constructor(){this.dr=new Oi(Fi.Ar),this.Rr=new Oi(Fi.Vr)}isEmpty(){return this.dr.isEmpty()}addReference(e,n){const i=new Fi(e,n);this.dr=this.dr.add(i),this.Rr=this.Rr.add(i)}mr(e,n){e.forEach(i=>this.addReference(i,n))}removeReference(e,n){this.gr(new Fi(e,n))}pr(e,n){e.forEach(i=>this.removeReference(i,n))}yr(e){const n=new ft(new Bn([])),i=new Fi(n,e),s=new Fi(n,e+1),r=[];return this.Rr.forEachInRange([i,s],a=>{this.gr(a),r.push(a.key)}),r}wr(){this.dr.forEach(e=>this.gr(e))}gr(e){this.dr=this.dr.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const n=new ft(new Bn([])),i=new Fi(n,e),s=new Fi(n,e+1);let r=Ht();return this.Rr.forEachInRange([i,s],a=>{r=r.add(a.key)}),r}containsKey(e){const n=new Fi(e,0),i=this.dr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class Fi{constructor(e,n){this.key=e,this.br=n}static Ar(e,n){return ft.comparator(e.key,n.key)||zt(e.br,n.br)}static Vr(e,n){return zt(e.br,n.br)||ft.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UJ{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Dr=1,this.vr=new Oi(Fi.Ar)}checkEmpty(e){return Oe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,s){const r=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new sJ(r,n,i,s);this.mutationQueue.push(a);for(const o of s)this.vr=this.vr.add(new Fi(o.key,r)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return Oe.resolve(a)}lookupMutationBatch(e,n){return Oe.resolve(this.Cr(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,s=this.Fr(i),r=s<0?0:s;return Oe.resolve(this.mutationQueue.length>r?this.mutationQueue[r]:null)}getHighestUnacknowledgedBatchId(){return Oe.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return Oe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new Fi(n,0),s=new Fi(n,Number.POSITIVE_INFINITY),r=[];return this.vr.forEachInRange([i,s],a=>{const o=this.Cr(a.br);r.push(o)}),Oe.resolve(r)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new Oi(zt);return n.forEach(s=>{const r=new Fi(s,0),a=new Fi(s,Number.POSITIVE_INFINITY);this.vr.forEachInRange([r,a],o=>{i=i.add(o.br)})}),Oe.resolve(this.Mr(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,s=i.length+1;let r=i;ft.isDocumentKey(r)||(r=r.child(""));const a=new Fi(new ft(r),0);let o=new Oi(zt);return this.vr.forEachWhile(l=>{const u=l.key.path;return!!i.isPrefixOf(u)&&(u.length===s&&(o=o.add(l.br)),!0)},a),Oe.resolve(this.Mr(o))}Mr(e){const n=[];return e.forEach(i=>{const s=this.Cr(i);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){mn(this.Or(n.batchId,"removed")===0),this.mutationQueue.shift();let i=this.vr;return Oe.forEach(n.mutations,s=>{const r=new Fi(s.key,n.batchId);return i=i.delete(r),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.vr=i})}Ln(e){}containsKey(e,n){const i=new Fi(n,0),s=this.vr.firstAfterOrEqual(i);return Oe.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,Oe.resolve()}Or(e,n){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const n=this.Fr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HJ{constructor(e){this.Nr=e,this.docs=function(){return new Zn(ft.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,s=this.docs.get(i),r=s?s.size:0,a=this.Nr(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:a}),this.size+=a-r,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return Oe.resolve(i?i.document.mutableCopy():ys.newInvalidDocument(n))}getEntries(e,n){let i=Ao();return n.forEach(s=>{const r=this.docs.get(s);i=i.insert(s,r?r.document.mutableCopy():ys.newInvalidDocument(s))}),Oe.resolve(i)}getDocumentsMatchingQuery(e,n,i,s){let r=Ao();const a=n.path,o=new ft(a.child("")),l=this.docs.getIteratorFrom(o);for(;l.hasNext();){const{key:u,value:{document:d}}=l.getNext();if(!a.isPrefixOf(u.path))break;u.path.length>a.length+1||bQ(yQ(d),i)<=0||(s.has(d.key)||Sb(n,d))&&(r=r.insert(d.key,d.mutableCopy()))}return Oe.resolve(r)}getAllFromCollectionGroup(e,n,i,s){xt()}Lr(e,n){return Oe.forEach(this.docs,i=>n(i))}newChangeBuffer(e){return new zJ(this)}getSize(e){return Oe.resolve(this.size)}}class zJ extends LJ{constructor(e){super(),this.hr=e}applyChanges(e){const n=[];return this.changes.forEach((i,s)=>{s.isValidDocument()?n.push(this.hr.addEntry(e,s)):this.hr.removeEntry(i)}),Oe.waitFor(n)}getFromCache(e,n){return this.hr.getEntry(e,n)}getAllFromCache(e,n){return this.hr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WJ{constructor(e){this.persistence=e,this.Br=new Ac(n=>FT(n),BT),this.lastRemoteSnapshotVersion=Ct.min(),this.highestTargetId=0,this.kr=0,this.qr=new zT,this.targetCount=0,this.Qr=th.qn()}forEachTarget(e,n){return this.Br.forEach((i,s)=>n(s)),Oe.resolve()}getLastRemoteSnapshotVersion(e){return Oe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Oe.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),Oe.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.kr&&(this.kr=n),Oe.resolve()}Un(e){this.Br.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Qr=new th(n),this.highestTargetId=n),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,n){return this.Un(n),this.targetCount+=1,Oe.resolve()}updateTargetData(e,n){return this.Un(n),Oe.resolve()}removeTargetData(e,n){return this.Br.delete(n.target),this.qr.yr(n.targetId),this.targetCount-=1,Oe.resolve()}removeTargets(e,n,i){let s=0;const r=[];return this.Br.forEach((a,o)=>{o.sequenceNumber<=n&&i.get(o.targetId)===null&&(this.Br.delete(a),r.push(this.removeMatchingKeysForTargetId(e,o.targetId)),s++)}),Oe.waitFor(r).next(()=>s)}getTargetCount(e){return Oe.resolve(this.targetCount)}getTargetData(e,n){const i=this.Br.get(n)||null;return Oe.resolve(i)}addMatchingKeys(e,n,i){return this.qr.mr(n,i),Oe.resolve()}removeMatchingKeys(e,n,i){this.qr.pr(n,i);const s=this.persistence.referenceDelegate,r=[];return s&&n.forEach(a=>{r.push(s.markPotentiallyOrphaned(e,a))}),Oe.waitFor(r)}removeMatchingKeysForTargetId(e,n){return this.qr.yr(n),Oe.resolve()}getMatchingKeysForTargetId(e,n){const i=this.qr.Sr(n);return Oe.resolve(i)}containsKey(e,n){return Oe.resolve(this.qr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yB{constructor(e,n){this.Kr={},this.overlays={},this.$r=new _b(0),this.Ur=!1,this.Ur=!0,this.Wr=new $J,this.referenceDelegate=e(this),this.Gr=new WJ(this),this.indexManager=new DJ,this.remoteDocumentCache=function(s){return new HJ(s)}(i=>this.referenceDelegate.zr(i)),this.serializer=new EJ(n),this.jr=new BJ(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new jJ,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.Kr[e.toKey()];return i||(i=new UJ(n,this.referenceDelegate),this.Kr[e.toKey()]=i),i}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,n,i){Ze("MemoryPersistence","Starting transaction:",e);const s=new YJ(this.$r.next());return this.referenceDelegate.Hr(),i(s).next(r=>this.referenceDelegate.Jr(s).next(()=>r)).toPromise().then(r=>(s.raiseOnCommittedEvent(),r))}Yr(e,n){return Oe.or(Object.values(this.Kr).map(i=>()=>i.containsKey(e,n)))}}class YJ extends xQ{constructor(e){super(),this.currentSequenceNumber=e}}class WT{constructor(e){this.persistence=e,this.Zr=new zT,this.Xr=null}static ei(e){return new WT(e)}get ti(){if(this.Xr)return this.Xr;throw xt()}addReference(e,n,i){return this.Zr.addReference(i,n),this.ti.delete(i.toString()),Oe.resolve()}removeReference(e,n,i){return this.Zr.removeReference(i,n),this.ti.add(i.toString()),Oe.resolve()}markPotentiallyOrphaned(e,n){return this.ti.add(n.toString()),Oe.resolve()}removeTarget(e,n){this.Zr.yr(n.targetId).forEach(s=>this.ti.add(s.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(r=>this.ti.add(r.toString()))}).next(()=>i.removeTargetData(e,n))}Hr(){this.Xr=new Set}Jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Oe.forEach(this.ti,i=>{const s=ft.fromPath(i);return this.ni(e,s).next(r=>{r||n.removeEntry(s,Ct.min())})}).next(()=>(this.Xr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ni(e,n).next(i=>{i?this.ti.delete(n.toString()):this.ti.add(n.toString())})}zr(e){return 0}ni(e,n){return Oe.or([()=>Oe.resolve(this.Zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Yr(e,n)])}}class E_{constructor(e,n){this.persistence=e,this.ri=new Ac(i=>TQ(i.path),(i,s)=>i.isEqual(s)),this.garbageCollector=VJ(this,n)}static ei(e,n){return new E_(e,n)}Hr(){}Jr(e){return Oe.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}Xn(e){const n=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>n.next(s=>i+s))}nr(e){let n=0;return this.er(e,i=>{n++}).next(()=>n)}er(e,n){return Oe.forEach(this.ri,(i,s)=>this.ir(e,i,s).next(r=>r?Oe.resolve():n(s)))}removeTargets(e,n,i){return this.persistence.getTargetCache().removeTargets(e,n,i)}removeOrphanedDocuments(e,n){let i=0;const s=this.persistence.getRemoteDocumentCache(),r=s.newChangeBuffer();return s.Lr(e,a=>this.ir(e,a,n).next(o=>{o||(i++,r.removeEntry(a,Ct.min()))})).next(()=>r.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,n){return this.ri.set(n,e.currentSequenceNumber),Oe.resolve()}removeTarget(e,n){const i=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,n,i){return this.ri.set(i,e.currentSequenceNumber),Oe.resolve()}removeReference(e,n,i){return this.ri.set(i,e.currentSequenceNumber),Oe.resolve()}updateLimboDocument(e,n){return this.ri.set(n,e.currentSequenceNumber),Oe.resolve()}zr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Cp(e.data.value)),n}ir(e,n,i){return Oe.or([()=>this.persistence.Yr(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.ri.get(n);return Oe.resolve(s!==void 0&&s>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YT{constructor(e,n,i,s){this.targetId=e,this.fromCache=n,this.Wi=i,this.Gi=s}static zi(e,n){let i=Ht(),s=Ht();for(const r of n.docChanges)switch(r.type){case 0:i=i.add(r.doc.key);break;case 1:s=s.add(r.doc.key)}return new YT(e,n.fromCache,i,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GJ{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qJ{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return tW()?8:SQ(Ps())>0?6:4}()}initialize(e,n){this.Zi=e,this.indexManager=n,this.ji=!0}getDocumentsMatchingQuery(e,n,i,s){const r={result:null};return this.Xi(e,n).next(a=>{r.result=a}).next(()=>{if(!r.result)return this.es(e,n,s,i).next(a=>{r.result=a})}).next(()=>{if(r.result)return;const a=new GJ;return this.ts(e,n,a).next(o=>{if(r.result=o,this.Hi)return this.ns(e,n,a,o.size)})}).next(()=>r.result)}ns(e,n,i,s){return i.documentReadCount<this.Ji?(hd()<=Bt.DEBUG&&Ze("QueryEngine","SDK will not create cache indexes for query:",fd(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),Oe.resolve()):(hd()<=Bt.DEBUG&&Ze("QueryEngine","Query:",fd(n),"scans",i.documentReadCount,"local documents and returns",s,"documents as results."),i.documentReadCount>this.Yi*s?(hd()<=Bt.DEBUG&&Ze("QueryEngine","The SDK decides to create cache indexes for query:",fd(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ma(n))):Oe.resolve())}Xi(e,n){if(cA(n))return Oe.resolve(null);let i=Ma(n);return this.indexManager.getIndexType(e,i).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=yx(n,null,"F"),i=Ma(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next(r=>{const a=Ht(...r);return this.Zi.getDocuments(e,a).next(o=>this.indexManager.getMinOffset(e,i).next(l=>{const u=this.rs(n,o);return this.ss(n,u,a,l.readTime)?this.Xi(e,yx(n,null,"F")):this.os(e,u,n,l)}))})))}es(e,n,i,s){return cA(n)||s.isEqual(Ct.min())?Oe.resolve(null):this.Zi.getDocuments(e,i).next(r=>{const a=this.rs(n,r);return this.ss(n,a,i,s)?Oe.resolve(null):(hd()<=Bt.DEBUG&&Ze("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),fd(n)),this.os(e,a,n,_Q(s,-1)).next(o=>o))})}rs(e,n){let i=new Oi(JF(e));return n.forEach((s,r)=>{Sb(e,r)&&(i=i.add(r))}),i}ss(e,n,i,s){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const r=e.limitType==="F"?n.last():n.first();return!!r&&(r.hasPendingWrites||r.version.compareTo(s)>0)}ts(e,n,i){return hd()<=Bt.DEBUG&&Ze("QueryEngine","Using full collection scan to execute query:",fd(n)),this.Zi.getDocumentsMatchingQuery(e,n,Vl.min(),i)}os(e,n,i,s){return this.Zi.getDocumentsMatchingQuery(e,i,s).next(r=>(n.forEach(a=>{r=r.insert(a.key,a)}),r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XJ{constructor(e,n,i,s){this.persistence=e,this._s=n,this.serializer=s,this.us=new Zn(zt),this.cs=new Ac(r=>FT(r),BT),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(i)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new FJ(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.us))}}function KJ(t,e,n,i){return new XJ(t,e,n,i)}async function bB(t,e){const n=It(t);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let s;return n.mutationQueue.getAllMutationBatches(i).next(r=>(s=r,n.Ps(e),n.mutationQueue.getAllMutationBatches(i))).next(r=>{const a=[],o=[];let l=Ht();for(const u of s){a.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}for(const u of r){o.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(i,l).next(u=>({Ts:u,removedBatchIds:a,addedBatchIds:o}))})})}function QJ(t,e){const n=It(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const s=e.batch.keys(),r=n.hs.newChangeBuffer({trackRemovals:!0});return function(o,l,u,d){const c=u.batch,f=c.keys();let h=Oe.resolve();return f.forEach(g=>{h=h.next(()=>d.getEntry(l,g)).next(v=>{const p=u.docVersions.get(g);mn(p!==null),v.version.compareTo(p)<0&&(c.applyToRemoteDocument(v,u),v.isValidDocument()&&(v.setReadTime(u.commitVersion),d.addEntry(v)))})}),h.next(()=>o.mutationQueue.removeMutationBatch(l,c))}(n,i,e,r).next(()=>r.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(o){let l=Ht();for(let u=0;u<o.mutationResults.length;++u)o.mutationResults[u].transformResults.length>0&&(l=l.add(o.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(i,s))})}function wB(t){const e=It(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Gr.getLastRemoteSnapshotVersion(n))}function JJ(t,e){const n=It(t),i=e.snapshotVersion;let s=n.us;return n.persistence.runTransaction("Apply remote event","readwrite-primary",r=>{const a=n.hs.newChangeBuffer({trackRemovals:!0});s=n.us;const o=[];e.targetChanges.forEach((d,c)=>{const f=s.get(c);if(!f)return;o.push(n.Gr.removeMatchingKeys(r,d.removedDocuments,c).next(()=>n.Gr.addMatchingKeys(r,d.addedDocuments,c)));let h=f.withSequenceNumber(r.currentSequenceNumber);e.targetMismatches.get(c)!==null?h=h.withResumeToken(ss.EMPTY_BYTE_STRING,Ct.min()).withLastLimboFreeSnapshotVersion(Ct.min()):d.resumeToken.approximateByteSize()>0&&(h=h.withResumeToken(d.resumeToken,i)),s=s.insert(c,h),function(v,p,_){return v.resumeToken.approximateByteSize()===0||p.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=3e8?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0}(f,h,d)&&o.push(n.Gr.updateTargetData(r,h))});let l=Ao(),u=Ht();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(r,d))}),o.push(ZJ(r,a,e.documentUpdates).next(d=>{l=d.Is,u=d.Es})),!i.isEqual(Ct.min())){const d=n.Gr.getLastRemoteSnapshotVersion(r).next(c=>n.Gr.setTargetsMetadata(r,r.currentSequenceNumber,i));o.push(d)}return Oe.waitFor(o).next(()=>a.apply(r)).next(()=>n.localDocuments.getLocalViewOfDocuments(r,l,u)).next(()=>l)}).then(r=>(n.us=s,r))}function ZJ(t,e,n){let i=Ht(),s=Ht();return n.forEach(r=>i=i.add(r)),e.getEntries(t,i).next(r=>{let a=Ao();return n.forEach((o,l)=>{const u=r.get(o);l.isFoundDocument()!==u.isFoundDocument()&&(s=s.add(o)),l.isNoDocument()&&l.version.isEqual(Ct.min())?(e.removeEntry(o,l.readTime),a=a.insert(o,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),a=a.insert(o,l)):Ze("LocalStore","Ignoring outdated watch update for ",o,". Current version:",u.version," Watch version:",l.version)}),{Is:a,Es:s}})}function eZ(t,e){const n=It(t);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function tZ(t,e){const n=It(t);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let s;return n.Gr.getTargetData(i,e).next(r=>r?(s=r,Oe.resolve(s)):n.Gr.allocateTargetId(i).next(a=>(s=new pl(e,a,"TargetPurposeListen",i.currentSequenceNumber),n.Gr.addTargetData(i,s).next(()=>s))))}).then(i=>{const s=n.us.get(i.targetId);return(s===null||i.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.us=n.us.insert(i.targetId,i),n.cs.set(e,i.targetId)),i})}async function kx(t,e,n){const i=It(t),s=i.us.get(e),r=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",r,a=>i.persistence.referenceDelegate.removeTarget(a,s))}catch(a){if(!Lh(a))throw a;Ze("LocalStore",`Failed to update sequence numbers for target ${e}: ${a}`)}i.us=i.us.remove(e),i.cs.delete(s.target)}function xA(t,e,n){const i=It(t);let s=Ct.min(),r=Ht();return i.persistence.runTransaction("Execute query","readwrite",a=>function(l,u,d){const c=It(l),f=c.cs.get(d);return f!==void 0?Oe.resolve(c.us.get(f)):c.Gr.getTargetData(u,d)}(i,a,Ma(e)).next(o=>{if(o)return s=o.lastLimboFreeSnapshotVersion,i.Gr.getMatchingKeysForTargetId(a,o.targetId).next(l=>{r=l})}).next(()=>i._s.getDocumentsMatchingQuery(a,e,n?s:Ct.min(),n?r:Ht())).next(o=>(nZ(i,HQ(e),o),{documents:o,ds:r})))}function nZ(t,e,n){let i=t.ls.get(e)||Ct.min();n.forEach((s,r)=>{r.readTime.compareTo(i)>0&&(i=r.readTime)}),t.ls.set(e,i)}class SA{constructor(){this.activeTargetIds=XQ()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class iZ{constructor(){this._o=new SA,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,n,i){this.ao[e]=n}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new SA,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sZ{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kA{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){Ze("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){Ze("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jg=null;function Aw(){return jg===null?jg=function(){return 268435456+Math.round(2147483648*Math.random())}():jg++,"0x"+jg.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rZ={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aZ{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hs="WebChannelConnection";class oZ extends class{get Co(){return!1}constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const i=n.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Fo=i+"://"+n.host,this.Mo=`projects/${s}/databases/${r}`,this.xo=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${r}`}Oo(n,i,s,r,a){const o=Aw(),l=this.No(n,i.toUriEncodedString());Ze("RestConnection",`Sending RPC '${n}' ${o}:`,l,s);const u={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Lo(u,r,a),this.Bo(n,l,u,s).then(d=>(Ze("RestConnection",`Received RPC '${n}' ${o}: `,d),d),d=>{throw Qd("RestConnection",`RPC '${n}' ${o} failed with error: `,d,"url: ",l,"request:",s),d})}ko(n,i,s,r,a,o){return this.Oo(n,i,s,r,a)}Lo(n,i,s){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Mh}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((r,a)=>n[a]=r),s&&s.headers.forEach((r,a)=>n[a]=r)}No(n,i){const s=rZ[n];return`${this.Fo}/v1/${i}:${s}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Bo(e,n,i,s){const r=Aw();return new Promise((a,o)=>{const l=new MF;l.setWithCredentials(!0),l.listenOnce(VF.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Pp.NO_ERROR:const d=l.getResponseJson();Ze(hs,`XHR for RPC '${e}' ${r} received:`,JSON.stringify(d)),a(d);break;case Pp.TIMEOUT:Ze(hs,`RPC '${e}' ${r} timed out`),o(new Xe(Ae.DEADLINE_EXCEEDED,"Request time out"));break;case Pp.HTTP_ERROR:const c=l.getStatus();if(Ze(hs,`RPC '${e}' ${r} failed with status:`,c,"response text:",l.getResponseText()),c>0){let f=l.getResponseJson();Array.isArray(f)&&(f=f[0]);const h=f==null?void 0:f.error;if(h&&h.status&&h.message){const g=function(p){const _=p.toLowerCase().replace(/_/g,"-");return Object.values(Ae).indexOf(_)>=0?_:Ae.UNKNOWN}(h.status);o(new Xe(g,h.message))}else o(new Xe(Ae.UNKNOWN,"Server responded with status "+l.getStatus()))}else o(new Xe(Ae.UNAVAILABLE,"Connection failed."));break;default:xt()}}finally{Ze(hs,`RPC '${e}' ${r} completed.`)}});const u=JSON.stringify(s);Ze(hs,`RPC '${e}' ${r} sending request:`,s),l.send(n,"POST",u,i,15)})}qo(e,n,i){const s=Aw(),r=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=FF(),o=NF(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Lo(l.initMessageHeaders,n,i),l.encodeInitMessageHeaders=!0;const d=r.join("");Ze(hs,`Creating RPC '${e}' stream ${s}: ${d}`,l);const c=a.createWebChannel(d,l);let f=!1,h=!1;const g=new aZ({Eo:p=>{h?Ze(hs,`Not sending because RPC '${e}' stream ${s} is closed:`,p):(f||(Ze(hs,`Opening RPC '${e}' stream ${s} transport.`),c.open(),f=!0),Ze(hs,`RPC '${e}' stream ${s} sending:`,p),c.send(p))},Ao:()=>c.close()}),v=(p,_,b)=>{p.listen(_,x=>{try{b(x)}catch(k){setTimeout(()=>{throw k},0)}})};return v(c,Df.EventType.OPEN,()=>{h||(Ze(hs,`RPC '${e}' stream ${s} transport opened.`),g.So())}),v(c,Df.EventType.CLOSE,()=>{h||(h=!0,Ze(hs,`RPC '${e}' stream ${s} transport closed`),g.Do())}),v(c,Df.EventType.ERROR,p=>{h||(h=!0,Qd(hs,`RPC '${e}' stream ${s} transport errored:`,p),g.Do(new Xe(Ae.UNAVAILABLE,"The operation could not be completed")))}),v(c,Df.EventType.MESSAGE,p=>{var _;if(!h){const b=p.data[0];mn(!!b);const x=b,k=(x==null?void 0:x.error)||((_=x[0])===null||_===void 0?void 0:_.error);if(k){Ze(hs,`RPC '${e}' stream ${s} received error:`,k);const I=k.status;let E=function(w){const P=_i[w];if(P!==void 0)return uB(P)}(I),T=k.message;E===void 0&&(E=Ae.INTERNAL,T="Unknown error status: "+I+" with message "+k.message),h=!0,g.Do(new Xe(E,T)),c.close()}else Ze(hs,`RPC '${e}' stream ${s} received:`,b),g.vo(b)}}),v(o,LF.STAT_EVENT,p=>{p.stat===fx.PROXY?Ze(hs,`RPC '${e}' stream ${s} detected buffering proxy`):p.stat===fx.NOPROXY&&Ze(hs,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{g.bo()},0),g}}function Ow(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eb(t){return new mJ(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xB{constructor(e,n,i=1e3,s=1.5,r=6e4){this.li=e,this.timerId=n,this.Qo=i,this.Ko=s,this.$o=r,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const n=Math.floor(this.Uo+this.Ho()),i=Math.max(0,Date.now()-this.Go),s=Math.max(0,n-i);s>0&&Ze("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Uo} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,s,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SB{constructor(e,n,i,s,r,a,o,l){this.li=e,this.Yo=i,this.Zo=s,this.connection=r,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=o,this.listener=l,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new xB(e,n)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,n){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():n&&n.code===Ae.RESOURCE_EXHAUSTED?(Do(n.toString()),Do("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):n&&n.code===Ae.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(n)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),n=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,s])=>{this.Xo===n&&this.I_(i,s)},i=>{e(()=>{const s=new Xe(Ae.UNKNOWN,"Fetching auth token failed: "+i.message);return this.E_(s)})})}I_(e,n){const i=this.T_(this.Xo);this.stream=this.d_(e,n),this.stream.Ro(()=>{i(()=>this.listener.Ro())}),this.stream.mo(()=>{i(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(s=>{i(()=>this.E_(s))}),this.stream.onMessage(s=>{i(()=>++this.n_==1?this.A_(s):this.onNext(s))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}E_(e){return Ze("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return n=>{this.li.enqueueAndForget(()=>this.Xo===e?n():(Ze("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class lZ extends SB{constructor(e,n,i,s,r,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,s,a),this.serializer=r}d_(e,n){return this.connection.qo("Listen",e,n)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const n=pJ(this.serializer,e),i=function(r){if(!("targetChange"in r))return Ct.min();const a=r.targetChange;return a.targetIds&&a.targetIds.length?Ct.min():a.readTime?Va(a.readTime):Ct.min()}(e);return this.listener.R_(n,i)}V_(e){const n={};n.database=Sx(this.serializer),n.addTarget=function(r,a){let o;const l=a.target;if(o=px(l)?{documents:bJ(r,l)}:{query:wJ(r,l).ct},o.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){o.resumeToken=hB(r,a.resumeToken);const u=bx(r,a.expectedCount);u!==null&&(o.expectedCount=u)}else if(a.snapshotVersion.compareTo(Ct.min())>0){o.readTime=C_(r,a.snapshotVersion.toTimestamp());const u=bx(r,a.expectedCount);u!==null&&(o.expectedCount=u)}return o}(this.serializer,e);const i=SJ(this.serializer,e);i&&(n.labels=i),this.c_(n)}m_(e){const n={};n.database=Sx(this.serializer),n.removeTarget=e,this.c_(n)}}class uZ extends SB{constructor(e,n,i,s,r,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,s,a),this.serializer=r}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}d_(e,n){return this.connection.qo("Write",e,n)}A_(e){return mn(!!e.streamToken),this.lastStreamToken=e.streamToken,mn(!e.writeResults||e.writeResults.length===0),this.listener.p_()}onNext(e){mn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();const n=yJ(e.writeResults,e.commitTime),i=Va(e.commitTime);return this.listener.y_(i,n)}w_(){const e={};e.database=Sx(this.serializer),this.c_(e)}g_(e){const n={streamToken:this.lastStreamToken,writes:e.map(i=>_J(this.serializer,i))};this.c_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cZ extends class{}{constructor(e,n,i,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=s,this.S_=!1}b_(){if(this.S_)throw new Xe(Ae.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,n,i,s){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,a])=>this.connection.Oo(e,wx(n,i),s,r,a)).catch(r=>{throw r.name==="FirebaseError"?(r.code===Ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new Xe(Ae.UNKNOWN,r.toString())})}ko(e,n,i,s,r){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,o])=>this.connection.ko(e,wx(n,i),s,a,o,r)).catch(a=>{throw a.name==="FirebaseError"?(a.code===Ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Xe(Ae.UNKNOWN,a.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class dZ{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(Do(n),this.C_=!1):Ze("OnlineStateTracker",n)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hZ{constructor(e,n,i,s,r){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.L_=[],this.B_=new Map,this.k_=new Set,this.q_=[],this.Q_=r,this.Q_.uo(a=>{i.enqueueAndForget(async()=>{Oc(this)&&(Ze("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=It(l);u.k_.add(4),await jv(u),u.K_.set("Unknown"),u.k_.delete(4),await Ib(u)}(this))})}),this.K_=new dZ(i,s)}}async function Ib(t){if(Oc(t))for(const e of t.q_)await e(!0)}async function jv(t){for(const e of t.q_)await e(!1)}function kB(t,e){const n=It(t);n.B_.has(e.targetId)||(n.B_.set(e.targetId,e),KT(n)?XT(n):Fh(n).s_()&&qT(n,e))}function GT(t,e){const n=It(t),i=Fh(n);n.B_.delete(e),i.s_()&&TB(n,e),n.B_.size===0&&(i.s_()?i.a_():Oc(n)&&n.K_.set("Unknown"))}function qT(t,e){if(t.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ct.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Fh(t).V_(e)}function TB(t,e){t.U_.xe(e),Fh(t).m_(e)}function XT(t){t.U_=new cJ({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>t.B_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),Fh(t).start(),t.K_.F_()}function KT(t){return Oc(t)&&!Fh(t).i_()&&t.B_.size>0}function Oc(t){return It(t).k_.size===0}function PB(t){t.U_=void 0}async function fZ(t){t.K_.set("Online")}async function mZ(t){t.B_.forEach((e,n)=>{qT(t,e)})}async function vZ(t,e){PB(t),KT(t)?(t.K_.O_(e),XT(t)):t.K_.set("Unknown")}async function gZ(t,e,n){if(t.K_.set("Online"),e instanceof dB&&e.state===2&&e.cause)try{await async function(s,r){const a=r.cause;for(const o of r.targetIds)s.B_.has(o)&&(await s.remoteSyncer.rejectListen(o,a),s.B_.delete(o),s.U_.removeTarget(o))}(t,e)}catch(i){Ze("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),await I_(t,i)}else if(e instanceof Dp?t.U_.$e(e):e instanceof cB?t.U_.Je(e):t.U_.Ge(e),!n.isEqual(Ct.min()))try{const i=await wB(t.localStore);n.compareTo(i)>=0&&await function(r,a){const o=r.U_.it(a);return o.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const d=r.B_.get(u);d&&r.B_.set(u,d.withResumeToken(l.resumeToken,a))}}),o.targetMismatches.forEach((l,u)=>{const d=r.B_.get(l);if(!d)return;r.B_.set(l,d.withResumeToken(ss.EMPTY_BYTE_STRING,d.snapshotVersion)),TB(r,l);const c=new pl(d.target,l,u,d.sequenceNumber);qT(r,c)}),r.remoteSyncer.applyRemoteEvent(o)}(t,n)}catch(i){Ze("RemoteStore","Failed to raise snapshot:",i),await I_(t,i)}}async function I_(t,e,n){if(!Lh(e))throw e;t.k_.add(1),await jv(t),t.K_.set("Offline"),n||(n=()=>wB(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Ze("RemoteStore","Retrying IndexedDB access"),await n(),t.k_.delete(1),await Ib(t)})}function CB(t,e){return e().catch(n=>I_(t,n,e))}async function Db(t){const e=It(t),n=Bl(e);let i=e.L_.length>0?e.L_[e.L_.length-1].batchId:-1;for(;pZ(e);)try{const s=await eZ(e.localStore,i);if(s===null){e.L_.length===0&&n.a_();break}i=s.batchId,_Z(e,s)}catch(s){await I_(e,s)}EB(e)&&IB(e)}function pZ(t){return Oc(t)&&t.L_.length<10}function _Z(t,e){t.L_.push(e);const n=Bl(t);n.s_()&&n.f_&&n.g_(e.mutations)}function EB(t){return Oc(t)&&!Bl(t).i_()&&t.L_.length>0}function IB(t){Bl(t).start()}async function yZ(t){Bl(t).w_()}async function bZ(t){const e=Bl(t);for(const n of t.L_)e.g_(n.mutations)}async function wZ(t,e,n){const i=t.L_.shift(),s=$T.from(i,e,n);await CB(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Db(t)}async function xZ(t,e){e&&Bl(t).f_&&await async function(i,s){if(function(a){return oJ(a)&&a!==Ae.ABORTED}(s.code)){const r=i.L_.shift();Bl(i).__(),await CB(i,()=>i.remoteSyncer.rejectFailedWrite(r.batchId,s)),await Db(i)}}(t,e),EB(t)&&IB(t)}async function TA(t,e){const n=It(t);n.asyncQueue.verifyOperationInProgress(),Ze("RemoteStore","RemoteStore received new credentials");const i=Oc(n);n.k_.add(3),await jv(n),i&&n.K_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.k_.delete(3),await Ib(n)}async function SZ(t,e){const n=It(t);e?(n.k_.delete(2),await Ib(n)):e||(n.k_.add(2),await jv(n),n.K_.set("Unknown"))}function Fh(t){return t.W_||(t.W_=function(n,i,s){const r=It(n);return r.b_(),new lZ(i,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,s)}(t.datastore,t.asyncQueue,{Ro:fZ.bind(null,t),mo:mZ.bind(null,t),po:vZ.bind(null,t),R_:gZ.bind(null,t)}),t.q_.push(async e=>{e?(t.W_.__(),KT(t)?XT(t):t.K_.set("Unknown")):(await t.W_.stop(),PB(t))})),t.W_}function Bl(t){return t.G_||(t.G_=function(n,i,s){const r=It(n);return r.b_(),new uZ(i,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,s)}(t.datastore,t.asyncQueue,{Ro:()=>Promise.resolve(),mo:yZ.bind(null,t),po:xZ.bind(null,t),p_:bZ.bind(null,t),y_:wZ.bind(null,t)}),t.q_.push(async e=>{e?(t.G_.__(),await Db(t)):(await t.G_.stop(),t.L_.length>0&&(Ze("RemoteStore",`Stopping write stream with ${t.L_.length} pending writes`),t.L_=[]))})),t.G_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QT{constructor(e,n,i,s,r){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=s,this.removalCallback=r,this.deferred=new So,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,s,r){const a=Date.now()+i,o=new QT(e,n,a,s,r);return o.start(i),o}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Xe(Ae.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function JT(t,e){if(Do("AsyncQueue",`${e}: ${t}`),Lh(t))return new Xe(Ae.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fd{static emptySet(e){return new Fd(e.comparator)}constructor(e){this.comparator=e?(n,i)=>e(n,i)||ft.comparator(n.key,i.key):(n,i)=>ft.comparator(n.key,i.key),this.keyedMap=Af(),this.sortedSet=new Zn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,i)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Fd)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,r=i.getNext().key;if(!s.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new Fd;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PA{constructor(){this.z_=new Zn(ft.comparator)}track(e){const n=e.doc.key,i=this.z_.get(n);i?e.type!==0&&i.type===3?this.z_=this.z_.insert(n,e):e.type===3&&i.type!==1?this.z_=this.z_.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.z_=this.z_.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.z_=this.z_.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.z_=this.z_.remove(n):e.type===1&&i.type===2?this.z_=this.z_.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.z_=this.z_.insert(n,{type:2,doc:e.doc}):xt():this.z_=this.z_.insert(n,e)}j_(){const e=[];return this.z_.inorderTraversal((n,i)=>{e.push(i)}),e}}class nh{constructor(e,n,i,s,r,a,o,l,u){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=s,this.mutatedKeys=r,this.fromCache=a,this.syncStateChanged=o,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,i,s,r){const a=[];return n.forEach(o=>{a.push({type:0,doc:o})}),new nh(e,n,Fd.emptySet(n),a,i,s,!0,!1,r)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&xb(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==i[s].type||!n[s].doc.isEqual(i[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kZ{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}}class TZ{constructor(){this.queries=CA(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(n,i){const s=It(n),r=s.queries;s.queries=CA(),r.forEach((a,o)=>{for(const l of o.J_)l.onError(i)})})(this,new Xe(Ae.ABORTED,"Firestore shutting down"))}}function CA(){return new Ac(t=>QF(t),xb)}async function ZT(t,e){const n=It(t);let i=3;const s=e.query;let r=n.queries.get(s);r?!r.Y_()&&e.Z_()&&(i=2):(r=new kZ,i=e.Z_()?0:1);try{switch(i){case 0:r.H_=await n.onListen(s,!0);break;case 1:r.H_=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(a){const o=JT(a,`Initialization of query '${fd(e.query)}' failed`);return void e.onError(o)}n.queries.set(s,r),r.J_.push(e),e.ea(n.onlineState),r.H_&&e.ta(r.H_)&&tP(n)}async function eP(t,e){const n=It(t),i=e.query;let s=3;const r=n.queries.get(i);if(r){const a=r.J_.indexOf(e);a>=0&&(r.J_.splice(a,1),r.J_.length===0?s=e.Z_()?0:1:!r.Y_()&&e.Z_()&&(s=2))}switch(s){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function PZ(t,e){const n=It(t);let i=!1;for(const s of e){const r=s.query,a=n.queries.get(r);if(a){for(const o of a.J_)o.ta(s)&&(i=!0);a.H_=s}}i&&tP(n)}function CZ(t,e,n){const i=It(t),s=i.queries.get(e);if(s)for(const r of s.J_)r.onError(n);i.queries.delete(e)}function tP(t){t.X_.forEach(e=>{e.next()})}var Tx,EA;(EA=Tx||(Tx={})).na="default",EA.Cache="cache";class nP{constructor(e,n,i){this.query=e,this.ra=n,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=i||{}}ta(e){if(!this.options.includeMetadataChanges){const i=[];for(const s of e.docChanges)s.type!==3&&i.push(s);e=new nh(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ia?this.oa(e)&&(this.ra.next(e),n=!0):this._a(e,this.onlineState)&&(this.aa(e),n=!0),this.sa=e,n}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let n=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),n=!0),n}_a(e,n){if(!e.fromCache||!this.Z_())return!0;const i=n!=="Offline";return(!this.options.ua||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}oa(e){if(e.docChanges.length>0)return!0;const n=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}aa(e){e=nh.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==Tx.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DB{constructor(e){this.key=e}}class AB{constructor(e){this.key=e}}class EZ{constructor(e,n){this.query=e,this.da=n,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=Ht(),this.mutatedKeys=Ht(),this.Va=JF(e),this.ma=new Fd(this.Va)}get fa(){return this.da}ga(e,n){const i=n?n.pa:new PA,s=n?n.ma:this.ma;let r=n?n.mutatedKeys:this.mutatedKeys,a=s,o=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,u=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((d,c)=>{const f=s.get(d),h=Sb(this.query,c)?c:null,g=!!f&&this.mutatedKeys.has(f.key),v=!!h&&(h.hasLocalMutations||this.mutatedKeys.has(h.key)&&h.hasCommittedMutations);let p=!1;f&&h?f.data.isEqual(h.data)?g!==v&&(i.track({type:3,doc:h}),p=!0):this.ya(f,h)||(i.track({type:2,doc:h}),p=!0,(l&&this.Va(h,l)>0||u&&this.Va(h,u)<0)&&(o=!0)):!f&&h?(i.track({type:0,doc:h}),p=!0):f&&!h&&(i.track({type:1,doc:f}),p=!0,(l||u)&&(o=!0)),p&&(h?(a=a.add(h),r=v?r.add(d):r.delete(d)):(a=a.delete(d),r=r.delete(d)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const d=this.query.limitType==="F"?a.last():a.first();a=a.delete(d.key),r=r.delete(d.key),i.track({type:1,doc:d})}return{ma:a,pa:i,ss:o,mutatedKeys:r}}ya(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,s){const r=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const a=e.pa.j_();a.sort((d,c)=>function(h,g){const v=p=>{switch(p){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return xt()}};return v(h)-v(g)}(d.type,c.type)||this.Va(d.doc,c.doc)),this.wa(i),s=s!=null&&s;const o=n&&!s?this.Sa():[],l=this.Ra.size===0&&this.current&&!s?1:0,u=l!==this.Aa;return this.Aa=l,a.length!==0||u?{snapshot:new nh(this.query,e.ma,r,a,e.mutatedKeys,l===0,u,!1,!!i&&i.resumeToken.approximateByteSize()>0),ba:o}:{ba:o}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new PA,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.da.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(n=>this.da=this.da.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.da=this.da.delete(n)),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=Ht(),this.ma.forEach(i=>{this.Da(i.key)&&(this.Ra=this.Ra.add(i.key))});const n=[];return e.forEach(i=>{this.Ra.has(i)||n.push(new AB(i))}),this.Ra.forEach(i=>{e.has(i)||n.push(new DB(i))}),n}va(e){this.da=e.ds,this.Ra=Ht();const n=this.ga(e.documents);return this.applyChanges(n,!0)}Ca(){return nh.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class IZ{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class DZ{constructor(e){this.key=e,this.Fa=!1}}class AZ{constructor(e,n,i,s,r,a){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=s,this.currentUser=r,this.maxConcurrentLimboResolutions=a,this.Ma={},this.xa=new Ac(o=>QF(o),xb),this.Oa=new Map,this.Na=new Set,this.La=new Zn(ft.comparator),this.Ba=new Map,this.ka=new zT,this.qa={},this.Qa=new Map,this.Ka=th.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function OZ(t,e,n=!0){const i=NB(t);let s;const r=i.xa.get(e);return r?(i.sharedClientState.addLocalQueryTarget(r.targetId),s=r.view.Ca()):s=await OB(i,e,n,!0),s}async function RZ(t,e){const n=NB(t);await OB(n,e,!0,!1)}async function OB(t,e,n,i){const s=await tZ(t.localStore,Ma(e)),r=s.targetId,a=t.sharedClientState.addLocalQueryTarget(r,n);let o;return i&&(o=await MZ(t,e,r,a==="current",s.resumeToken)),t.isPrimaryClient&&n&&kB(t.remoteStore,s),o}async function MZ(t,e,n,i,s){t.Ua=(c,f,h)=>async function(v,p,_,b){let x=p.view.ga(_);x.ss&&(x=await xA(v.localStore,p.query,!1).then(({documents:T})=>p.view.ga(T,x)));const k=b&&b.targetChanges.get(p.targetId),I=b&&b.targetMismatches.get(p.targetId)!=null,E=p.view.applyChanges(x,v.isPrimaryClient,k,I);return DA(v,p.targetId,E.ba),E.snapshot}(t,c,f,h);const r=await xA(t.localStore,e,!0),a=new EZ(e,r.ds),o=a.ga(r.documents),l=Bv.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",s),u=a.applyChanges(o,t.isPrimaryClient,l);DA(t,n,u.ba);const d=new IZ(e,n,a);return t.xa.set(e,d),t.Oa.has(n)?t.Oa.get(n).push(e):t.Oa.set(n,[e]),u.snapshot}async function VZ(t,e,n){const i=It(t),s=i.xa.get(e),r=i.Oa.get(s.targetId);if(r.length>1)return i.Oa.set(s.targetId,r.filter(a=>!xb(a,e))),void i.xa.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(s.targetId),i.sharedClientState.isActiveQueryTarget(s.targetId)||await kx(i.localStore,s.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(s.targetId),n&&GT(i.remoteStore,s.targetId),Px(i,s.targetId)}).catch(Vh)):(Px(i,s.targetId),await kx(i.localStore,s.targetId,!0))}async function LZ(t,e){const n=It(t),i=n.xa.get(e),s=n.Oa.get(i.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),GT(n.remoteStore,i.targetId))}async function NZ(t,e,n){const i=zZ(t);try{const s=await function(a,o){const l=It(a),u=At.now(),d=o.reduce((h,g)=>h.add(g.key),Ht());let c,f;return l.persistence.runTransaction("Locally write mutations","readwrite",h=>{let g=Ao(),v=Ht();return l.hs.getEntries(h,d).next(p=>{g=p,g.forEach((_,b)=>{b.isValidDocument()||(v=v.add(_))})}).next(()=>l.localDocuments.getOverlayedDocuments(h,g)).next(p=>{c=p;const _=[];for(const b of o){const x=nJ(b,c.get(b.key).overlayedDocument);x!=null&&_.push(new tu(b.key,x,HF(x.value.mapValue),Js.exists(!0)))}return l.mutationQueue.addMutationBatch(h,u,_,o)}).next(p=>{f=p;const _=p.applyToLocalDocumentSet(c,v);return l.documentOverlayCache.saveOverlays(h,p.batchId,_)})}).then(()=>({batchId:f.batchId,changes:eB(c)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(s.batchId),function(a,o,l){let u=a.qa[a.currentUser.toKey()];u||(u=new Zn(zt)),u=u.insert(o,l),a.qa[a.currentUser.toKey()]=u}(i,s.batchId,n),await $v(i,s.changes),await Db(i.remoteStore)}catch(s){const r=JT(s,"Failed to persist write");n.reject(r)}}async function RB(t,e){const n=It(t);try{const i=await JJ(n.localStore,e);e.targetChanges.forEach((s,r)=>{const a=n.Ba.get(r);a&&(mn(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?a.Fa=!0:s.modifiedDocuments.size>0?mn(a.Fa):s.removedDocuments.size>0&&(mn(a.Fa),a.Fa=!1))}),await $v(n,i,e)}catch(i){await Vh(i)}}function IA(t,e,n){const i=It(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const s=[];i.xa.forEach((r,a)=>{const o=a.view.ea(e);o.snapshot&&s.push(o.snapshot)}),function(a,o){const l=It(a);l.onlineState=o;let u=!1;l.queries.forEach((d,c)=>{for(const f of c.J_)f.ea(o)&&(u=!0)}),u&&tP(l)}(i.eventManager,e),s.length&&i.Ma.R_(s),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function FZ(t,e,n){const i=It(t);i.sharedClientState.updateQueryState(e,"rejected",n);const s=i.Ba.get(e),r=s&&s.key;if(r){let a=new Zn(ft.comparator);a=a.insert(r,ys.newNoDocument(r,Ct.min()));const o=Ht().add(r),l=new Cb(Ct.min(),new Map,new Zn(zt),a,o);await RB(i,l),i.La=i.La.remove(r),i.Ba.delete(e),iP(i)}else await kx(i.localStore,e,!1).then(()=>Px(i,e,n)).catch(Vh)}async function BZ(t,e){const n=It(t),i=e.batch.batchId;try{const s=await QJ(n.localStore,e);VB(n,i,null),MB(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await $v(n,s)}catch(s){await Vh(s)}}async function jZ(t,e,n){const i=It(t);try{const s=await function(a,o){const l=It(a);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return l.mutationQueue.lookupMutationBatch(u,o).next(c=>(mn(c!==null),d=c.keys(),l.mutationQueue.removeMutationBatch(u,c))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,d,o)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>l.localDocuments.getDocuments(u,d))})}(i.localStore,e);VB(i,e,n),MB(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await $v(i,s)}catch(s){await Vh(s)}}function MB(t,e){(t.Qa.get(e)||[]).forEach(n=>{n.resolve()}),t.Qa.delete(e)}function VB(t,e,n){const i=It(t);let s=i.qa[i.currentUser.toKey()];if(s){const r=s.get(e);r&&(n?r.reject(n):r.resolve(),s=s.remove(e)),i.qa[i.currentUser.toKey()]=s}}function Px(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.Oa.get(e))t.xa.delete(i),n&&t.Ma.Wa(i,n);t.Oa.delete(e),t.isPrimaryClient&&t.ka.yr(e).forEach(i=>{t.ka.containsKey(i)||LB(t,i)})}function LB(t,e){t.Na.delete(e.path.canonicalString());const n=t.La.get(e);n!==null&&(GT(t.remoteStore,n),t.La=t.La.remove(e),t.Ba.delete(n),iP(t))}function DA(t,e,n){for(const i of n)i instanceof DB?(t.ka.addReference(i.key,e),$Z(t,i)):i instanceof AB?(Ze("SyncEngine","Document no longer in limbo: "+i.key),t.ka.removeReference(i.key,e),t.ka.containsKey(i.key)||LB(t,i.key)):xt()}function $Z(t,e){const n=e.key,i=n.path.canonicalString();t.La.get(n)||t.Na.has(i)||(Ze("SyncEngine","New document in limbo: "+n),t.Na.add(i),iP(t))}function iP(t){for(;t.Na.size>0&&t.La.size<t.maxConcurrentLimboResolutions;){const e=t.Na.values().next().value;t.Na.delete(e);const n=new ft(Bn.fromString(e)),i=t.Ka.next();t.Ba.set(i,new DZ(n)),t.La=t.La.insert(n,i),kB(t.remoteStore,new pl(Ma(wb(n.path)),i,"TargetPurposeLimboResolution",_b.oe))}}async function $v(t,e,n){const i=It(t),s=[],r=[],a=[];i.xa.isEmpty()||(i.xa.forEach((o,l)=>{a.push(i.Ua(l,e,n).then(u=>{var d;if((u||n)&&i.isPrimaryClient){const c=u?!u.fromCache:(d=n==null?void 0:n.targetChanges.get(l.targetId))===null||d===void 0?void 0:d.current;i.sharedClientState.updateQueryState(l.targetId,c?"current":"not-current")}if(u){s.push(u);const c=YT.zi(l.targetId,u);r.push(c)}}))}),await Promise.all(a),i.Ma.R_(s),await async function(l,u){const d=It(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",c=>Oe.forEach(u,f=>Oe.forEach(f.Wi,h=>d.persistence.referenceDelegate.addReference(c,f.targetId,h)).next(()=>Oe.forEach(f.Gi,h=>d.persistence.referenceDelegate.removeReference(c,f.targetId,h)))))}catch(c){if(!Lh(c))throw c;Ze("LocalStore","Failed to update sequence numbers: "+c)}for(const c of u){const f=c.targetId;if(!c.fromCache){const h=d.us.get(f),g=h.snapshotVersion,v=h.withLastLimboFreeSnapshotVersion(g);d.us=d.us.insert(f,v)}}}(i.localStore,r))}async function UZ(t,e){const n=It(t);if(!n.currentUser.isEqual(e)){Ze("SyncEngine","User change. New user:",e.toKey());const i=await bB(n.localStore,e);n.currentUser=e,function(r,a){r.Qa.forEach(o=>{o.forEach(l=>{l.reject(new Xe(Ae.CANCELLED,a))})}),r.Qa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await $v(n,i.Ts)}}function HZ(t,e){const n=It(t),i=n.Ba.get(e);if(i&&i.Fa)return Ht().add(i.key);{let s=Ht();const r=n.Oa.get(e);if(!r)return s;for(const a of r){const o=n.xa.get(a);s=s.unionWith(o.view.fa)}return s}}function NB(t){const e=It(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=RB.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=HZ.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=FZ.bind(null,e),e.Ma.R_=PZ.bind(null,e.eventManager),e.Ma.Wa=CZ.bind(null,e.eventManager),e}function zZ(t){const e=It(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=BZ.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=jZ.bind(null,e),e}class D_{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Eb(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,n){return null}Ya(e,n){return null}Ha(e){return KJ(this.persistence,new qJ,e.initialUser,this.serializer)}ja(e){return new yB(WT.ei,this.serializer)}za(e){return new iZ}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}D_.provider={build:()=>new D_};class WZ extends D_{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,n){mn(this.persistence.referenceDelegate instanceof E_);const i=this.persistence.referenceDelegate.garbageCollector;return new RJ(i,e.asyncQueue,n)}ja(e){const n=this.cacheSizeBytes!==void 0?Ws.withCacheSize(this.cacheSizeBytes):Ws.DEFAULT;return new yB(i=>E_.ei(i,n),this.serializer)}}class Cx{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>IA(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=UZ.bind(null,this.syncEngine),await SZ(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new TZ}()}createDatastore(e){const n=Eb(e.databaseInfo.databaseId),i=function(r){return new oZ(r)}(e.databaseInfo);return function(r,a,o,l){return new cZ(r,a,o,l)}(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return function(i,s,r,a,o){return new hZ(i,s,r,a,o)}(this.localStore,this.datastore,e.asyncQueue,n=>IA(this.syncEngine,n,0),function(){return kA.p()?new kA:new sZ}())}createSyncEngine(e,n){return function(s,r,a,o,l,u,d){const c=new AZ(s,r,a,o,l,u);return d&&(c.$a=!0),c}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const r=It(s);Ze("RemoteStore","RemoteStore shutting down."),r.k_.add(5),await jv(r),r.Q_.shutdown(),r.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Cx.provider={build:()=>new Cx};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sP{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):Do("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YZ{constructor(e,n,i,s,r){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=s,this.user=ms.UNAUTHENTICATED,this.clientId=jF.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=r,this.authCredentials.start(i,async a=>{Ze("FirestoreClient","Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(i,a=>(Ze("FirestoreClient","Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new So;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=JT(n,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function Rw(t,e){t.asyncQueue.verifyOperationInProgress(),Ze("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener(async s=>{i.isEqual(s)||(await bB(e.localStore,s),i=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function AA(t,e){t.asyncQueue.verifyOperationInProgress();const n=await GZ(t);Ze("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(i=>TA(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>TA(e.remoteStore,s)),t._onlineComponents=e}async function GZ(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Ze("FirestoreClient","Using user provided OfflineComponentProvider");try{await Rw(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===Ae.FAILED_PRECONDITION||s.code===Ae.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;Qd("Error using user provided cache. Falling back to memory cache: "+n),await Rw(t,new D_)}}else Ze("FirestoreClient","Using default OfflineComponentProvider"),await Rw(t,new WZ(void 0));return t._offlineComponents}async function FB(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Ze("FirestoreClient","Using user provided OnlineComponentProvider"),await AA(t,t._uninitializedComponentsProvider._online)):(Ze("FirestoreClient","Using default OnlineComponentProvider"),await AA(t,new Cx))),t._onlineComponents}function qZ(t){return FB(t).then(e=>e.syncEngine)}async function A_(t){const e=await FB(t),n=e.eventManager;return n.onListen=OZ.bind(null,e.syncEngine),n.onUnlisten=VZ.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=RZ.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=LZ.bind(null,e.syncEngine),n}function XZ(t,e,n={}){const i=new So;return t.asyncQueue.enqueueAndForget(async()=>function(r,a,o,l,u){const d=new sP({next:f=>{d.eu(),a.enqueueAndForget(()=>eP(r,c));const h=f.docs.has(o);!h&&f.fromCache?u.reject(new Xe(Ae.UNAVAILABLE,"Failed to get document because the client is offline.")):h&&f.fromCache&&l&&l.source==="server"?u.reject(new Xe(Ae.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(f)},error:f=>u.reject(f)}),c=new nP(wb(o.path),d,{includeMetadataChanges:!0,ua:!0});return ZT(r,c)}(await A_(t),t.asyncQueue,e,n,i)),i.promise}function KZ(t,e,n={}){const i=new So;return t.asyncQueue.enqueueAndForget(async()=>function(r,a,o,l,u){const d=new sP({next:f=>{d.eu(),a.enqueueAndForget(()=>eP(r,c)),f.fromCache&&l.source==="server"?u.reject(new Xe(Ae.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(f)},error:f=>u.reject(f)}),c=new nP(o,d,{includeMetadataChanges:!0,ua:!0});return ZT(r,c)}(await A_(t),t.asyncQueue,e,n,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BB(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OA=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jB(t,e,n){if(!n)throw new Xe(Ae.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function QZ(t,e,n,i){if(e===!0&&i===!0)throw new Xe(Ae.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function RA(t){if(!ft.isDocumentKey(t))throw new Xe(Ae.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function MA(t){if(ft.isDocumentKey(t))throw new Xe(Ae.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Ab(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":xt()}function gr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Xe(Ae.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Ab(t);throw new Xe(Ae.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VA{constructor(e){var n,i;if(e.host===void 0){if(e.ssl!==void 0)throw new Xe(Ae.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Xe(Ae.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}QZ("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=BB((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Xe(Ae.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Xe(Ae.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Xe(Ae.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,s){return i.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ob{constructor(e,n,i,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new VA({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Xe(Ae.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Xe(Ae.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new VA(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new uQ;switch(i.type){case"firstParty":return new fQ(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new Xe(Ae.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=OA.get(n);i&&(Ze("ComponentProvider","Removing Datastore"),OA.delete(n),i.terminate())}(this),Promise.resolve()}}function $B(t,e,n,i={}){var s;const r=(t=gr(t,Ob))._getSettings(),a=`${e}:${n}`;if(r.host!=="firestore.googleapis.com"&&r.host!==a&&Qd("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},r),{host:a,ssl:!1})),i.mockUserToken){let o,l;if(typeof i.mockUserToken=="string")o=i.mockUserToken,l=ms.MOCK_USER;else{o=Q8(i.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const u=i.mockUserToken.sub||i.mockUserToken.user_id;if(!u)throw new Xe(Ae.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new ms(u)}t._authCredentials=new cQ(new BF(o,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nu{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new nu(this.firestore,e,this._query)}}class Ls{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Pl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ls(this.firestore,e,this._key)}}class Pl extends nu{constructor(e,n,i){super(e,n,wb(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ls(this.firestore,null,new ft(e))}withConverter(e){return new Pl(this.firestore,e,this._path)}}function JZ(t,e,...n){if(t=ai(t),jB("collection","path",e),t instanceof Ob){const i=Bn.fromString(e,...n);return MA(i),new Pl(t,null,i)}{if(!(t instanceof Ls||t instanceof Pl))throw new Xe(Ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(Bn.fromString(e,...n));return MA(i),new Pl(t.firestore,null,i)}}function Rf(t,e,...n){if(t=ai(t),arguments.length===1&&(e=jF.newId()),jB("doc","path",e),t instanceof Ob){const i=Bn.fromString(e,...n);return RA(i),new Ls(t,null,new ft(i))}{if(!(t instanceof Ls||t instanceof Pl))throw new Xe(Ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(Bn.fromString(e,...n));return RA(i),new Ls(t.firestore,t instanceof Pl?t.converter:null,new ft(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LA{constructor(e=Promise.resolve()){this.Iu=[],this.Eu=!1,this.du=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new xB(this,"async_queue_retry"),this.fu=()=>{const i=Ow();i&&Ze("AsyncQueue","Visibility state changed to "+i.visibilityState),this.r_.Jo()},this.gu=e;const n=Ow();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.Eu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.Eu){this.Eu=!0,this.Vu=e||!1;const n=Ow();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.Eu)return new Promise(()=>{});const n=new So;return this.yu(()=>this.Eu&&this.Vu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!Lh(e))throw e;Ze("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const n=this.gu.then(()=>(this.Ru=!0,e().catch(i=>{this.Au=i,this.Ru=!1;const s=function(a){let o=a.message||"";return a.stack&&(o=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),o}(i);throw Do("INTERNAL UNHANDLED ERROR: ",s),i}).then(i=>(this.Ru=!1,i))));return this.gu=n,n}enqueueAfterDelay(e,n,i){this.pu(),this.mu.indexOf(e)>-1&&(n=0);const s=QT.createAndSchedule(this,e,n,i,r=>this.Su(r));return this.du.push(s),s}pu(){this.Au&&xt()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const n of this.du)if(n.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.du.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.du)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const n=this.du.indexOf(e);this.du.splice(n,1)}}function NA(t){return function(n,i){if(typeof n!="object"||n===null)return!1;const s=n;for(const r of i)if(r in s&&typeof s[r]=="function")return!0;return!1}(t,["next","error","complete"])}class Oo extends Ob{constructor(e,n,i,s){super(e,n,i,s),this.type="firestore",this._queue=new LA,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new LA(e),this._firestoreClient=void 0,await e}}}function UB(t,e){const n=typeof t=="object"?t:Zk(),i=typeof t=="string"?t:"(default)",s=Ih(n,"firestore").getImmediate({identifier:i});if(!s._initialized){const r=K8("firestore");r&&$B(s,...r)}return s}function Uv(t){if(t._terminated)throw new Xe(Ae.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||ZZ(t),t._firestoreClient}function ZZ(t){var e,n,i;const s=t._freezeSettings(),r=function(o,l,u,d){return new EQ(o,l,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,BB(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=s.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new YZ(t._authCredentials,t._appCheckCredentials,t._queue,r,t._componentsProvider&&function(o){const l=o==null?void 0:o._online.build();return{_offline:o==null?void 0:o._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ih{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ih(ss.fromBase64String(e))}catch(n){throw new Xe(Ae.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ih(ss.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hv{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Xe(Ae.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ts(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}function eee(){return new Hv("__name__")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rP{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rb{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Xe(Ae.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Xe(Ae.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return zt(this._lat,e._lat)||zt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aP{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,s){if(i.length!==s.length)return!1;for(let r=0;r<i.length;++r)if(i[r]!==s[r])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tee=/^__.*__$/;class nee{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new tu(e,this.data,this.fieldMask,n,this.fieldTransforms):new Fv(e,this.data,n,this.fieldTransforms)}}class HB{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return new tu(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function zB(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw xt()}}class oP{constructor(e,n,i,s,r,a){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=s,r===void 0&&this.Fu(),this.fieldTransforms=r||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new oP(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.xu({path:i,Nu:!1});return s.Lu(e),s}Bu(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.xu({path:i,Nu:!1});return s.Fu(),s}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return O_(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Lu(this.path.get(e))}Lu(e){if(e.length===0)throw this.qu("Document fields must not be empty");if(zB(this.Mu)&&tee.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class iee{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||Eb(e)}$u(e,n,i,s=!1){return new oP({Mu:e,methodName:n,Ku:i,path:ts.emptyPath(),Nu:!1,Qu:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Mb(t){const e=t._freezeSettings(),n=Eb(t._databaseId);return new iee(t._databaseId,!!e.ignoreUndefinedProperties,n)}function lP(t,e,n,i,s,r={}){const a=t.$u(r.merge||r.mergeFields?2:0,e,n,s);uP("Data must be an object, but it was:",a,i);const o=WB(i,a);let l,u;if(r.merge)l=new fr(a.fieldMask),u=a.fieldTransforms;else if(r.mergeFields){const d=[];for(const c of r.mergeFields){const f=Ex(e,c,n);if(!a.contains(f))throw new Xe(Ae.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);GB(d,f)||d.push(f)}l=new fr(d),u=a.fieldTransforms.filter(c=>l.covers(c.field))}else l=null,u=a.fieldTransforms;return new nee(new Ks(o),l,u)}class Vb extends rP{_toFieldTransform(e){if(e.Mu!==2)throw e.Mu===1?e.qu(`${this._methodName}() can only appear at the top level of your update data`):e.qu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Vb}}function see(t,e,n,i){const s=t.$u(1,e,n);uP("Data must be an object, but it was:",s,i);const r=[],a=Ks.empty();eu(i,(l,u)=>{const d=cP(e,l,n);u=ai(u);const c=s.Bu(d);if(u instanceof Vb)r.push(d);else{const f=zv(u,c);f!=null&&(r.push(d),a.set(d,f))}});const o=new fr(r);return new HB(a,o,s.fieldTransforms)}function ree(t,e,n,i,s,r){const a=t.$u(1,e,n),o=[Ex(e,i,n)],l=[s];if(r.length%2!=0)throw new Xe(Ae.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<r.length;f+=2)o.push(Ex(e,r[f])),l.push(r[f+1]);const u=[],d=Ks.empty();for(let f=o.length-1;f>=0;--f)if(!GB(u,o[f])){const h=o[f];let g=l[f];g=ai(g);const v=a.Bu(h);if(g instanceof Vb)u.push(h);else{const p=zv(g,v);p!=null&&(u.push(h),d.set(h,p))}}const c=new fr(u);return new HB(d,c,a.fieldTransforms)}function aee(t,e,n,i=!1){return zv(n,t.$u(i?4:3,e))}function zv(t,e){if(YB(t=ai(t)))return uP("Unsupported field value:",e,t),WB(t,e);if(t instanceof rP)return function(i,s){if(!zB(s.Mu))throw s.qu(`${i._methodName}() can only be used with update() and set()`);if(!s.path)throw s.qu(`${i._methodName}() is not currently supported inside arrays`);const r=i._toFieldTransform(s);r&&s.fieldTransforms.push(r)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Nu&&e.Mu!==4)throw e.qu("Nested arrays are not supported");return function(i,s){const r=[];let a=0;for(const o of i){let l=zv(o,s.ku(a));l==null&&(l={nullValue:"NULL_VALUE"}),r.push(l),a++}return{arrayValue:{values:r}}}(t,e)}return function(i,s){if((i=ai(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return KQ(s.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const r=At.fromDate(i);return{timestampValue:C_(s.serializer,r)}}if(i instanceof At){const r=new At(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:C_(s.serializer,r)}}if(i instanceof Rb)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof ih)return{bytesValue:hB(s.serializer,i._byteString)};if(i instanceof Ls){const r=s.databaseId,a=i.firestore._databaseId;if(!a.isEqual(r))throw s.qu(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:HT(i.firestore._databaseId||s.databaseId,i._key.path)}}if(i instanceof aP)return function(a,o){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:a.toArray().map(l=>{if(typeof l!="number")throw o.qu("VectorValues must only contain numeric values.");return jT(o.serializer,l)})}}}}}}(i,s);throw s.qu(`Unsupported field value: ${Ab(i)}`)}(t,e)}function WB(t,e){const n={};return $F(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):eu(t,(i,s)=>{const r=zv(s,e.Ou(i));r!=null&&(n[i]=r)}),{mapValue:{fields:n}}}function YB(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof At||t instanceof Rb||t instanceof ih||t instanceof Ls||t instanceof rP||t instanceof aP)}function uP(t,e,n){if(!YB(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const i=Ab(n);throw i==="an object"?e.qu(t+" a custom object"):e.qu(t+" "+i)}}function Ex(t,e,n){if((e=ai(e))instanceof Hv)return e._internalPath;if(typeof e=="string")return cP(t,e);throw O_("Field path arguments must be of type string or ",t,!1,void 0,n)}const oee=new RegExp("[~\\*/\\[\\]]");function cP(t,e,n){if(e.search(oee)>=0)throw O_(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Hv(...e.split("."))._internalPath}catch{throw O_(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function O_(t,e,n,i,s){const r=i&&!i.isEmpty(),a=s!==void 0;let o=`Function ${e}() called with invalid data`;n&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(r||a)&&(l+=" (found",r&&(l+=` in field ${i}`),a&&(l+=` in document ${s}`),l+=")"),new Xe(Ae.INVALID_ARGUMENT,o+t+l)}function GB(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qB{constructor(e,n,i,s,r){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=s,this._converter=r}get id(){return this._key.path.lastSegment()}get ref(){return new Ls(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new lee(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Lb("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class lee extends qB{data(){return super.data()}}function Lb(t,e){return typeof e=="string"?cP(t,e):e instanceof Hv?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XB(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Xe(Ae.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class dP{}class KB extends dP{}function Mw(t,e,...n){let i=[];e instanceof dP&&i.push(e),i=i.concat(n),function(r){const a=r.filter(l=>l instanceof hP).length,o=r.filter(l=>l instanceof Nb).length;if(a>1||a>0&&o>0)throw new Xe(Ae.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const s of i)t=s._apply(t);return t}class Nb extends KB{constructor(e,n,i){super(),this._field=e,this._op=n,this._value=i,this.type="where"}static _create(e,n,i){return new Nb(e,n,i)}_apply(e){const n=this._parse(e);return JB(e._query,n),new nu(e.firestore,e.converter,_x(e._query,n))}_parse(e){const n=Mb(e.firestore);return function(r,a,o,l,u,d,c){let f;if(u.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new Xe(Ae.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){BA(c,d);const h=[];for(const g of c)h.push(FA(l,r,g));f={arrayValue:{values:h}}}else f=FA(l,r,c)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||BA(c,d),f=aee(o,a,c,d==="in"||d==="not-in");return bi.create(u,d,f)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Wn(t,e,n){const i=e,s=Lb("where",t);return Nb._create(s,i,n)}class hP extends dP{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new hP(e,n)}_parse(e){const n=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return n.length===1?n[0]:ca.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,r){let a=s;const o=r.getFlattenedFilters();for(const l of o)JB(a,l),a=_x(a,l)}(e._query,n),new nu(e.firestore,e.converter,_x(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class fP extends KB{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new fP(e,n)}_apply(e){const n=function(s,r,a){if(s.startAt!==null)throw new Xe(Ae.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new Xe(Ae.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Om(r,a)}(e._query,this._field,this._direction);return new nu(e.firestore,e.converter,function(s,r){const a=s.explicitOrderBy.concat([r]);return new Nh(s.path,s.collectionGroup,a,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function QB(t,e="asc"){const n=e,i=Lb("orderBy",t);return fP._create(i,n)}function FA(t,e,n){if(typeof(n=ai(n))=="string"){if(n==="")throw new Xe(Ae.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!KF(e)&&n.indexOf("/")!==-1)throw new Xe(Ae.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=e.path.child(Bn.fromString(n));if(!ft.isDocumentKey(i))throw new Xe(Ae.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return sA(t,new ft(i))}if(n instanceof Ls)return sA(t,n._key);throw new Xe(Ae.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ab(n)}.`)}function BA(t,e){if(!Array.isArray(t)||t.length===0)throw new Xe(Ae.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function JB(t,e){const n=function(s,r){for(const a of s)for(const o of a.getFlattenedFilters())if(r.indexOf(o.op)>=0)return o.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Xe(Ae.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Xe(Ae.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class uee{convertValue(e,n="none"){switch(Fl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return hi(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Nl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw xt()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return eu(e,(s,r)=>{i[s]=this.convertValue(r,n)}),i}convertVectorValue(e){var n,i,s;const r=(s=(i=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||i===void 0?void 0:i.values)===null||s===void 0?void 0:s.map(a=>hi(a.doubleValue));return new aP(r)}convertGeoPoint(e){return new Rb(hi(e.latitude),hi(e.longitude))}convertArray(e,n){return(e.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(e,n){switch(n){case"previous":const i=bb(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(Im(e));default:return null}}convertTimestamp(e){const n=Ll(e);return new At(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=Bn.fromString(e);mn(_B(i));const s=new Dm(i.get(1),i.get(3)),r=new ft(i.popFirst(5));return s.isEqual(n)||Do(`Document ${r} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mP(t,e,n){let i;return i=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mf{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ZB extends qB{constructor(e,n,i,s,r,a){super(e,n,i,s,a),this._firestore=e,this._firestoreImpl=e,this.metadata=r}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Ap(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(Lb("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}}class Ap extends ZB{data(e={}){return super.data(e)}}class ej{constructor(e,n,i,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Mf(s.hasPendingWrites,s.fromCache),this.query=i}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(i=>{e.call(n,new Ap(this._firestore,this._userDataWriter,i.key,i,new Mf(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Xe(Ae.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,r){if(s._snapshot.oldDocs.isEmpty()){let a=0;return s._snapshot.docChanges.map(o=>{const l=new Ap(s._firestore,s._userDataWriter,o.doc.key,o.doc,new Mf(s._snapshot.mutatedKeys.has(o.doc.key),s._snapshot.fromCache),s.query.converter);return o.doc,{type:"added",doc:l,oldIndex:-1,newIndex:a++}})}{let a=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(o=>r||o.type!==3).map(o=>{const l=new Ap(s._firestore,s._userDataWriter,o.doc.key,o.doc,new Mf(s._snapshot.mutatedKeys.has(o.doc.key),s._snapshot.fromCache),s.query.converter);let u=-1,d=-1;return o.type!==0&&(u=a.indexOf(o.doc.key),a=a.delete(o.doc.key)),o.type!==1&&(a=a.add(o.doc),d=a.indexOf(o.doc.key)),{type:cee(o.type),doc:l,oldIndex:u,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function cee(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return xt()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vP(t){t=gr(t,Ls);const e=gr(t.firestore,Oo);return XZ(Uv(e),t._key).then(n=>tj(e,t,n))}class gP extends uee{constructor(e){super(),this.firestore=e}convertBytes(e){return new ih(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ls(this.firestore,null,n)}}function Ix(t){t=gr(t,nu);const e=gr(t.firestore,Oo),n=Uv(e),i=new gP(e);return XB(t._query),KZ(n,t._query).then(s=>new ej(e,i,t,s))}function dee(t,e,n){t=gr(t,Ls);const i=gr(t.firestore,Oo),s=mP(t.converter,e,n);return Bb(i,[lP(Mb(i),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,Js.none())])}function hee(t){return Bb(gr(t.firestore,Oo),[new Pb(t._key,Js.none())])}function fee(t,e){const n=gr(t.firestore,Oo),i=Rf(t),s=mP(t.converter,e);return Bb(n,[lP(Mb(t.firestore),"addDoc",i._key,s,t.converter!==null,{}).toMutation(i._key,Js.exists(!1))]).then(()=>i)}function Fb(t,...e){var n,i,s;t=ai(t);let r={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||NA(e[a])||(r=e[a],a++);const o={includeMetadataChanges:r.includeMetadataChanges,source:r.source};if(NA(e[a])){const c=e[a];e[a]=(n=c.next)===null||n===void 0?void 0:n.bind(c),e[a+1]=(i=c.error)===null||i===void 0?void 0:i.bind(c),e[a+2]=(s=c.complete)===null||s===void 0?void 0:s.bind(c)}let l,u,d;if(t instanceof Ls)u=gr(t.firestore,Oo),d=wb(t._key.path),l={next:c=>{e[a]&&e[a](tj(u,t,c))},error:e[a+1],complete:e[a+2]};else{const c=gr(t,nu);u=gr(c.firestore,Oo),d=c._query;const f=new gP(u);l={next:h=>{e[a]&&e[a](new ej(u,f,c,h))},error:e[a+1],complete:e[a+2]},XB(t._query)}return function(f,h,g,v){const p=new sP(v),_=new nP(h,p,g);return f.asyncQueue.enqueueAndForget(async()=>ZT(await A_(f),_)),()=>{p.eu(),f.asyncQueue.enqueueAndForget(async()=>eP(await A_(f),_))}}(Uv(u),d,o,l)}function Bb(t,e){return function(i,s){const r=new So;return i.asyncQueue.enqueueAndForget(async()=>NZ(await qZ(i),s,r)),r.promise}(Uv(t),e)}function tj(t,e,n){const i=n.docs.get(e._key),s=new gP(t);return new ZB(t,s,e._key,i,new Mf(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mee{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Mb(e)}set(e,n,i){this._verifyNotCommitted();const s=Vw(e,this._firestore),r=mP(s.converter,n,i),a=lP(this._dataReader,"WriteBatch.set",s._key,r,s.converter!==null,i);return this._mutations.push(a.toMutation(s._key,Js.none())),this}update(e,n,i,...s){this._verifyNotCommitted();const r=Vw(e,this._firestore);let a;return a=typeof(n=ai(n))=="string"||n instanceof Hv?ree(this._dataReader,"WriteBatch.update",r._key,n,i,s):see(this._dataReader,"WriteBatch.update",r._key,n),this._mutations.push(a.toMutation(r._key,Js.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=Vw(e,this._firestore);return this._mutations=this._mutations.concat(new Pb(n._key,Js.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Xe(Ae.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Vw(t,e){if((t=ai(t)).firestore!==e)throw new Xe(Ae.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jA(t){return Uv(t=gr(t,Oo)),new mee(t,e=>Bb(t,e))}(function(e,n=!0){(function(s){Mh=s})(Zl),er(new js("firestore",(i,{instanceIdentifier:s,options:r})=>{const a=i.getProvider("app").getImmediate(),o=new Oo(new dQ(i.getProvider("auth-internal")),new vQ(i.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new Xe(Ae.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Dm(u.options.projectId,d)}(a,s),a);return r=Object.assign({useFetchStreams:n},r),o._setSettings(r),o},"PUBLIC").setMultipleInstances(!0)),is(JD,"4.7.5",e),is(JD,"4.7.5","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nj="firebasestorage.googleapis.com",vee="storageBucket",gee=2*60*1e3,pee=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa extends Nr{constructor(e,n,i=0){super(Lw(e),`Firebase Storage: ${n} (${Lw(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Xa.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Lw(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var za;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(za||(za={}));function Lw(t){return"storage/"+t}function _ee(){const t="An unknown error occurred, please check the error payload for server response.";return new Xa(za.UNKNOWN,t)}function yee(){return new Xa(za.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function bee(){return new Xa(za.CANCELED,"User canceled the upload/download.")}function wee(t){return new Xa(za.INVALID_URL,"Invalid URL '"+t+"'.")}function xee(t){return new Xa(za.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function $A(t){return new Xa(za.INVALID_ARGUMENT,t)}function ij(){return new Xa(za.APP_DELETED,"The Firebase app was deleted.")}function See(t){return new Xa(za.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let i;try{i=Xr.makeFromUrl(e,n)}catch{return new Xr(e,"")}if(i.path==="")return i;throw xee(e)}static makeFromUrl(e,n){let i=null;const s="([A-Za-z0-9.\\-_]+)";function r(k){k.path.charAt(k.path.length-1)==="/"&&(k.path_=k.path_.slice(0,-1))}const a="(/(.*))?$",o=new RegExp("^gs://"+s+a,"i"),l={bucket:1,path:3};function u(k){k.path_=decodeURIComponent(k.path)}const d="v[A-Za-z0-9_]+",c=n.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",h=new RegExp(`^https?://${c}/${d}/b/${s}/o${f}`,"i"),g={bucket:1,path:3},v=n===nj?"(?:storage.googleapis.com|storage.cloud.google.com)":n,p="([^?#]*)",_=new RegExp(`^https?://${v}/${s}/${p}`,"i"),x=[{regex:o,indices:l,postModify:r},{regex:h,indices:g,postModify:u},{regex:_,indices:{bucket:1,path:2},postModify:u}];for(let k=0;k<x.length;k++){const I=x[k],E=I.regex.exec(e);if(E){const T=E[I.indices.bucket];let S=E[I.indices.path];S||(S=""),i=new Xr(T,S),I.postModify(i);break}}if(i==null)throw wee(e);return i}}class kee{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tee(t,e,n){let i=1,s=null,r=null,a=!1,o=0;function l(){return o===2}let u=!1;function d(...p){u||(u=!0,e.apply(null,p))}function c(p){s=setTimeout(()=>{s=null,t(h,l())},p)}function f(){r&&clearTimeout(r)}function h(p,..._){if(u){f();return}if(p){f(),d.call(null,p,..._);return}if(l()||a){f(),d.call(null,p,..._);return}i<64&&(i*=2);let x;o===1?(o=2,x=0):x=(i+Math.random())*1e3,c(x)}let g=!1;function v(p){g||(g=!0,f(),!u&&(s!==null?(p||(o=2),clearTimeout(s),c(0)):p||(o=1)))}return c(0),r=setTimeout(()=>{a=!0,v(!0)},n),v}function Pee(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cee(t){return t!==void 0}function UA(t,e,n,i){if(i<e)throw $A(`Invalid value for '${t}'. Expected ${e} or greater.`);if(i>n)throw $A(`Invalid value for '${t}'. Expected ${n} or less.`)}function Eee(t){const e=encodeURIComponent;let n="?";for(const i in t)if(t.hasOwnProperty(i)){const s=e(i)+"="+e(t[i]);n=n+s+"&"}return n=n.slice(0,-1),n}var R_;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(R_||(R_={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iee(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,r=e.indexOf(t)!==-1;return n||s||r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dee{constructor(e,n,i,s,r,a,o,l,u,d,c,f=!0){this.url_=e,this.method_=n,this.headers_=i,this.body_=s,this.successCodes_=r,this.additionalRetryCodes_=a,this.callback_=o,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=d,this.connectionFactory_=c,this.retry=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((h,g)=>{this.resolve_=h,this.reject_=g,this.start_()})}start_(){const e=(i,s)=>{if(s){i(!1,new $g(!1,null,!0));return}const r=this.connectionFactory_();this.pendingConnection_=r;const a=o=>{const l=o.loaded,u=o.lengthComputable?o.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&r.addUploadProgressListener(a),r.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&r.removeUploadProgressListener(a),this.pendingConnection_=null;const o=r.getErrorCode()===R_.NO_ERROR,l=r.getStatus();if(!o||Iee(l,this.additionalRetryCodes_)&&this.retry){const d=r.getErrorCode()===R_.ABORT;i(!1,new $g(!1,null,d));return}const u=this.successCodes_.indexOf(l)!==-1;i(!0,new $g(u,r))})},n=(i,s)=>{const r=this.resolve_,a=this.reject_,o=s.connection;if(s.wasSuccessCode)try{const l=this.callback_(o,o.getResponse());Cee(l)?r(l):r()}catch(l){a(l)}else if(o!==null){const l=_ee();l.serverResponse=o.getErrorText(),this.errorCallback_?a(this.errorCallback_(o,l)):a(l)}else if(s.canceled){const l=this.appDelete_?ij():bee();a(l)}else{const l=yee();a(l)}};this.canceled_?n(!1,new $g(!1,null,!0)):this.backoffId_=Tee(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&Pee(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class $g{constructor(e,n,i){this.wasSuccessCode=e,this.connection=n,this.canceled=!!i}}function Aee(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function Oee(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function Ree(t,e){e&&(t["X-Firebase-GMPID"]=e)}function Mee(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function Vee(t,e,n,i,s,r,a=!0){const o=Eee(t.urlParams),l=t.url+o,u=Object.assign({},t.headers);return Ree(u,e),Aee(u,n),Oee(u,r),Mee(u,i),new Dee(l,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lee(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function Nee(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fee=class Dx{constructor(e,n){this._service=e,n instanceof Xr?this._location=n:this._location=Xr.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Dx(e,n)}get root(){const e=new Xr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Nee(this._location.path)}get storage(){return this._service}get parent(){const e=Lee(this._location.path);if(e===null)return null;const n=new Xr(this._location.bucket,e);return new Dx(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw See(e)}};function HA(t,e){const n=e==null?void 0:e[vee];return n==null?null:Xr.makeFromBucketSpec(n,t)}class Bee{constructor(e,n,i,s,r){this.app=e,this._authProvider=n,this._appCheckProvider=i,this._url=s,this._firebaseVersion=r,this._bucket=null,this._host=nj,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=gee,this._maxUploadRetryTime=pee,this._requests=new Set,s!=null?this._bucket=Xr.makeFromBucketSpec(s,this._host):this._bucket=HA(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Xr.makeFromBucketSpec(this._url,e):this._bucket=HA(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){UA("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){UA("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Fee(this,e)}_makeRequest(e,n,i,s,r=!0){if(this._deleted)return new kee(ij());{const a=Vee(e,this._appId,i,s,n,this._firebaseVersion,r);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}async makeRequestWithTokens(e,n){const[i,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,i,s).getPromise()}}const zA="@firebase/storage",WA="0.13.4";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jee="storage";function $ee(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new Bee(n,i,s,e,Zl)}function Uee(){er(new js(jee,$ee,"PUBLIC").setMultipleInstances(!0)),is(zA,WA,""),is(zA,WA,"esm2017")}Uee();const Nw=new WeakMap;function sj(t,e){return Nw.has(e)||Nw.set(e,{f:{},r:{},s:{},u:{}}),Nw.get(e)}function Hee(t,e,n,i){if(!t)return n;const[s,r]=rj(t);if(!s)return n;const a=sj(void 0,i)[s]||{},o=e||r;return o&&o in a?a[o]:n}function zee(t,e,n,i){if(!t)return;const[s,r]=rj(t);if(!s)return;const a=sj(void 0,i)[s],o=e||r;if(o)return n.then(l=>{a[o]=l}).catch(Ea),o}function rj(t){return vq(t)||gq(t)?["f",t.path]:pq(t)?["r",t.toString()]:_q(t)?["s",t.toString()]:[]}const Fw=new WeakMap;function Wee(t,e,n){const i=Ov();Fw.has(i)||Fw.set(i,new Map);const s=Fw.get(i),r=zee(e,n,t,i);return r&&s.set(r,t),r?()=>s.delete(r):Ea}const Yee={toFirestore(t){return t},fromFirestore(t,e){return t.exists()?Object.defineProperties(t.data(e),{id:{value:t.id}}):null}};function Ax(t,e,n,i){if(!fq(t))return[t,{}];const s=[{},{}],r=Object.keys(n).reduce((o,l)=>{const u=n[l];return o[u.path]=u.data(),o},{});function a(o,l,u,d){l=l||{};const[c,f]=d;Object.getOwnPropertyNames(o).forEach(h=>{const g=Object.getOwnPropertyDescriptor(o,h);g&&!g.enumerable&&Object.defineProperty(c,h,g)});for(const h in o){const g=o[h];if(g==null||g instanceof Date||g instanceof At||g instanceof Rb)c[h]=g;else if(fT(g)){const v=u+h;c[h]=v in n?l[h]:g.path,f[v]=g.converter?g:g.withConverter(i.converter)}else if(Array.isArray(g)){c[h]=Array(g.length);for(let v=0;v<g.length;v++){const p=g[v];p&&p.path in r&&(c[h][v]=r[p.path])}a(g,l[h]||c[h],u+h+".",[c[h],f])}else Ec(g)?(c[h]={},a(g,l[h],u+h+".",[c[h],f])):c[h]=g}}return a(t,e,"",s),s}const pP={reset:!1,wait:!0,maxRefDepth:2,converter:Yee,snapshotOptions:{serverTimestamps:"estimate"}};function M_(t){for(const e in t)t[e].unsub()}function Ox(t,e,n,i,s,r,a,o,l){const[u,d]=Ax(i.data(t.snapshotOptions),hT(e,n),s,t);r.set(e,n,u),Rx(t,e,n,s,d,r,a,o,l)}function Gee({ref:t,target:e,path:n,depth:i,resolve:s,reject:r,ops:a},o){const l=Object.create(null);let u=Ea;return o.once?vP(t).then(d=>{d.exists()?Ox(o,e,n,d,l,a,i,s,r):(a.set(e,n,null),s())}).catch(r):u=Fb(t,d=>{d.exists()?Ox(o,e,n,d,l,a,i,s,r):(a.set(e,n,null),s())},r),()=>{u(),M_(l)}}function Rx(t,e,n,i,s,r,a,o,l){const u=Object.keys(s);if(Object.keys(i).filter(v=>u.indexOf(v)<0).forEach(v=>{i[v].unsub(),delete i[v]}),!u.length||++a>t.maxRefDepth)return o(n);let c=0;const f=u.length,h=Object.create(null);function g(v){v in h&&++c>=f&&o(n)}u.forEach(v=>{const p=i[v],_=s[v],b=`${n}.${v}`;if(h[b]=!0,p)if(p.path!==_.path)p.unsub();else return;i[v]={data:()=>hT(e,b),unsub:Gee({ref:_,target:e,path:b,depth:a,ops:r,resolve:g.bind(null,b),reject:l},t),path:_.path}})}function qee(t,e,n,i,s,r){const a=Object.assign({},pP,r),{snapshotListenOptions:o,snapshotOptions:l,wait:u,once:d}=a,c="value";let f=Y(u?[]:t.value);u||n.set(t,c,[]);const h=i;let g,v=Ea;const p=[],_={added:({newIndex:x,doc:k})=>{p.splice(x,0,Object.create(null));const I=p[x],[E,T]=Ax(k.data(l),void 0,I,a);n.add(Et(f),x,E),Rx(a,f,`${c}.${x}`,I,T,n,0,i.bind(null,k),s)},modified:({oldIndex:x,newIndex:k,doc:I})=>{const E=Et(f),T=p[x],S=E[x],[w,P]=Ax(I.data(l),S,T,a);p.splice(k,0,T),n.remove(E,x),n.add(E,k,w),Rx(a,f,`${c}.${k}`,T,P,n,0,i,s)},removed:({oldIndex:x})=>{const k=Et(f);n.remove(k,x),M_(p.splice(x,1)[0])}};function b(x){const k=x.docChanges(o);if(!g&&k.length){g=!0;let I=0;const E=k.length,T=Object.create(null);for(let S=0;S<E;S++)T[k[S].doc.id]=!0;i=S=>{S&&S.id in T&&++I>=E&&(u&&(n.set(t,c,Et(f)),f=t),h(Et(f)),i=Ea)}}k.forEach(I=>{_[I.type](I)}),k.length||(u&&(n.set(t,c,Et(f)),f=t),i(Et(f)))}return d?Ix(e).then(b).catch(s):v=Fb(e,b,s),x=>{if(v(),x){const k=typeof x=="function"?x():[];n.set(t,c,k)}p.forEach(M_)}}function Xee(t,e,n,i,s,r){const a=Object.assign({},pP,r),o="value",l=Object.create(null);i=yq(i,()=>hT(t,o));let u=Ea;function d(c){c.exists()?Ox(a,t,o,c,l,n,0,i,s):(n.set(t,o,null),i(null))}return a.once?vP(e).then(d).catch(s):u=Fb(e,d,s),c=>{if(u(),c){const f=typeof c=="function"?c():null;n.set(t,o,f)}M_(l)}}const YA=Symbol();function Kee(t,e){let n=Ea;const i=Object.assign({},pP,e),s=Et(t),r=i.target||Y();wq()&&(i.once=!0);const a=Hee(s,i.ssrKey,YA,Ov()),o=a!==YA;o&&(r.value=a);let l=!o;const u=Y(!1),d=Y(),c=Me(),f=LV();let h=Ea;function g(){let _=Et(t);const b=new Promise((x,k)=>{if(n(i.reset),!_)return n=Ea,x(null);u.value=l,l=!0,_.converter||(_=_.withConverter(i.converter)),n=(fT(_)?Xee:qee)(r,_,Qee,x,k,i)}).catch(x=>(c.value===b&&(d.value=x),Promise.reject(x))).finally(()=>{c.value===b&&(u.value=!1)});c.value=b}let v=Ea;(Je(t)||typeof t=="function")&&(v=we(t,g)),g(),s&&(h=Wee(c.value,s,i.ssrKey)),Cc()&&bL(()=>c.value),f&&as(p);function p(_=i.reset){v(),h(),n(_)}return Object.defineProperties(r,{error:{get:()=>d},data:{get:()=>r},pending:{get:()=>u},promise:{get:()=>c},stop:{get:()=>p}})}const Qee={set:(t,e,n)=>dq(t,e,n),add:(t,e,n)=>t.splice(e,0,n),remove:(t,e)=>t.splice(e,1)};function _P(t,e){return Kee(t,e)}function Mx(t){return UB(Ov(t))}function Jee(t){return Zee({initialUser:t,dependencies:{popupRedirectResolver:vN,persistence:[dN,rN,uT]}})}const aj=Symbol("VueFireAuth");function Zee({dependencies:t,initialUser:e}){return(n,i)=>{const[s,r]=ete(n,i,e,t);Sq(s,r)}}function ete(t,e,n,i,s=K2(t,i)){const r=xq(t,e).run(()=>Y(n));return yN.set(t,r),e.provide(aj,s),[r,s]}function oj(t){return cq?vt(aj):null}function tte(t,{firebaseApp:e,modules:n=[]}){t.provide(_N,e);for(const i of n)i(e,t)}/*!
  * vue-router v4.5.0
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const gd=typeof document<"u";function lj(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function nte(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&lj(t.default)}const ln=Object.assign;function Bw(t,e){const n={};for(const i in e){const s=e[i];n[i]=da(s)?s.map(t):t(s)}return n}const im=()=>{},da=Array.isArray,uj=/#/g,ite=/&/g,ste=/\//g,rte=/=/g,ate=/\?/g,cj=/\+/g,ote=/%5B/g,lte=/%5D/g,dj=/%5E/g,ute=/%60/g,hj=/%7B/g,cte=/%7C/g,fj=/%7D/g,dte=/%20/g;function yP(t){return encodeURI(""+t).replace(cte,"|").replace(ote,"[").replace(lte,"]")}function hte(t){return yP(t).replace(hj,"{").replace(fj,"}").replace(dj,"^")}function Vx(t){return yP(t).replace(cj,"%2B").replace(dte,"+").replace(uj,"%23").replace(ite,"%26").replace(ute,"`").replace(hj,"{").replace(fj,"}").replace(dj,"^")}function fte(t){return Vx(t).replace(rte,"%3D")}function mte(t){return yP(t).replace(uj,"%23").replace(ate,"%3F")}function vte(t){return t==null?"":mte(t).replace(ste,"%2F")}function Vm(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const gte=/\/$/,pte=t=>t.replace(gte,"");function jw(t,e,n="/"){let i,s={},r="",a="";const o=e.indexOf("#");let l=e.indexOf("?");return o<l&&o>=0&&(l=-1),l>-1&&(i=e.slice(0,l),r=e.slice(l+1,o>-1?o:e.length),s=t(r)),o>-1&&(i=i||e.slice(0,o),a=e.slice(o,e.length)),i=wte(i??e,n),{fullPath:i+(r&&"?")+r+a,path:i,query:s,hash:Vm(a)}}function _te(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function GA(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function yte(t,e,n){const i=e.matched.length-1,s=n.matched.length-1;return i>-1&&i===s&&sh(e.matched[i],n.matched[s])&&mj(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function sh(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function mj(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!bte(t[n],e[n]))return!1;return!0}function bte(t,e){return da(t)?qA(t,e):da(e)?qA(e,t):t===e}function qA(t,e){return da(e)?t.length===e.length&&t.every((n,i)=>n===e[i]):t.length===1&&t[0]===e}function wte(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),i=t.split("/"),s=i[i.length-1];(s===".."||s===".")&&i.push("");let r=n.length-1,a,o;for(a=0;a<i.length;a++)if(o=i[a],o!==".")if(o==="..")r>1&&r--;else break;return n.slice(0,r).join("/")+"/"+i.slice(a).join("/")}const nl={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var Lm;(function(t){t.pop="pop",t.push="push"})(Lm||(Lm={}));var sm;(function(t){t.back="back",t.forward="forward",t.unknown=""})(sm||(sm={}));function xte(t){if(!t)if(gd){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),pte(t)}const Ste=/^[^#]+#/;function kte(t,e){return t.replace(Ste,"#")+e}function Tte(t,e){const n=document.documentElement.getBoundingClientRect(),i=t.getBoundingClientRect();return{behavior:e.behavior,left:i.left-n.left-(e.left||0),top:i.top-n.top-(e.top||0)}}const jb=()=>({left:window.scrollX,top:window.scrollY});function Pte(t){let e;if("el"in t){const n=t.el,i=typeof n=="string"&&n.startsWith("#"),s=typeof n=="string"?i?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!s)return;e=Tte(s,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function XA(t,e){return(history.state?history.state.position-e:-1)+t}const Lx=new Map;function Cte(t,e){Lx.set(t,e)}function Ete(t){const e=Lx.get(t);return Lx.delete(t),e}let Ite=()=>location.protocol+"//"+location.host;function vj(t,e){const{pathname:n,search:i,hash:s}=e,r=t.indexOf("#");if(r>-1){let o=s.includes(t.slice(r))?t.slice(r).length:1,l=s.slice(o);return l[0]!=="/"&&(l="/"+l),GA(l,"")}return GA(n,t)+i+s}function Dte(t,e,n,i){let s=[],r=[],a=null;const o=({state:f})=>{const h=vj(t,location),g=n.value,v=e.value;let p=0;if(f){if(n.value=h,e.value=f,a&&a===g){a=null;return}p=v?f.position-v.position:0}else i(h);s.forEach(_=>{_(n.value,g,{delta:p,type:Lm.pop,direction:p?p>0?sm.forward:sm.back:sm.unknown})})};function l(){a=n.value}function u(f){s.push(f);const h=()=>{const g=s.indexOf(f);g>-1&&s.splice(g,1)};return r.push(h),h}function d(){const{history:f}=window;f.state&&f.replaceState(ln({},f.state,{scroll:jb()}),"")}function c(){for(const f of r)f();r=[],window.removeEventListener("popstate",o),window.removeEventListener("beforeunload",d)}return window.addEventListener("popstate",o),window.addEventListener("beforeunload",d,{passive:!0}),{pauseListeners:l,listen:u,destroy:c}}function KA(t,e,n,i=!1,s=!1){return{back:t,current:e,forward:n,replaced:i,position:window.history.length,scroll:s?jb():null}}function Ate(t){const{history:e,location:n}=window,i={value:vj(t,n)},s={value:e.state};s.value||r(i.value,{back:null,current:i.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function r(l,u,d){const c=t.indexOf("#"),f=c>-1?(n.host&&document.querySelector("base")?t:t.slice(c))+l:Ite()+t+l;try{e[d?"replaceState":"pushState"](u,"",f),s.value=u}catch(h){console.error(h),n[d?"replace":"assign"](f)}}function a(l,u){const d=ln({},e.state,KA(s.value.back,l,s.value.forward,!0),u,{position:s.value.position});r(l,d,!0),i.value=l}function o(l,u){const d=ln({},s.value,e.state,{forward:l,scroll:jb()});r(d.current,d,!0);const c=ln({},KA(i.value,l,null),{position:d.position+1},u);r(l,c,!1),i.value=l}return{location:i,state:s,push:o,replace:a}}function Ote(t){t=xte(t);const e=Ate(t),n=Dte(t,e.state,e.location,e.replace);function i(r,a=!0){a||n.pauseListeners(),history.go(r)}const s=ln({location:"",base:t,go:i,createHref:kte.bind(null,t)},e,n);return Object.defineProperty(s,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(s,"state",{enumerable:!0,get:()=>e.state.value}),s}function Rte(t){return t=location.host?t||location.pathname+location.search:"",t.includes("#")||(t+="#"),Ote(t)}function Mte(t){return typeof t=="string"||t&&typeof t=="object"}function gj(t){return typeof t=="string"||typeof t=="symbol"}const pj=Symbol("");var QA;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(QA||(QA={}));function rh(t,e){return ln(new Error,{type:t,[pj]:!0},e)}function ro(t,e){return t instanceof Error&&pj in t&&(e==null||!!(t.type&e))}const JA="[^/]+?",Vte={sensitive:!1,strict:!1,start:!0,end:!0},Lte=/[.+*?^${}()[\]/\\]/g;function Nte(t,e){const n=ln({},Vte,e),i=[];let s=n.start?"^":"";const r=[];for(const u of t){const d=u.length?[]:[90];n.strict&&!u.length&&(s+="/");for(let c=0;c<u.length;c++){const f=u[c];let h=40+(n.sensitive?.25:0);if(f.type===0)c||(s+="/"),s+=f.value.replace(Lte,"\\$&"),h+=40;else if(f.type===1){const{value:g,repeatable:v,optional:p,regexp:_}=f;r.push({name:g,repeatable:v,optional:p});const b=_||JA;if(b!==JA){h+=10;try{new RegExp(`(${b})`)}catch(k){throw new Error(`Invalid custom RegExp for param "${g}" (${b}): `+k.message)}}let x=v?`((?:${b})(?:/(?:${b}))*)`:`(${b})`;c||(x=p&&u.length<2?`(?:/${x})`:"/"+x),p&&(x+="?"),s+=x,h+=20,p&&(h+=-8),v&&(h+=-20),b===".*"&&(h+=-50)}d.push(h)}i.push(d)}if(n.strict&&n.end){const u=i.length-1;i[u][i[u].length-1]+=.7000000000000001}n.strict||(s+="/?"),n.end?s+="$":n.strict&&!s.endsWith("/")&&(s+="(?:/|$)");const a=new RegExp(s,n.sensitive?"":"i");function o(u){const d=u.match(a),c={};if(!d)return null;for(let f=1;f<d.length;f++){const h=d[f]||"",g=r[f-1];c[g.name]=h&&g.repeatable?h.split("/"):h}return c}function l(u){let d="",c=!1;for(const f of t){(!c||!d.endsWith("/"))&&(d+="/"),c=!1;for(const h of f)if(h.type===0)d+=h.value;else if(h.type===1){const{value:g,repeatable:v,optional:p}=h,_=g in u?u[g]:"";if(da(_)&&!v)throw new Error(`Provided param "${g}" is an array but it is not repeatable (* or + modifiers)`);const b=da(_)?_.join("/"):_;if(!b)if(p)f.length<2&&(d.endsWith("/")?d=d.slice(0,-1):c=!0);else throw new Error(`Missing required param "${g}"`);d+=b}}return d||"/"}return{re:a,score:i,keys:r,parse:o,stringify:l}}function Fte(t,e){let n=0;for(;n<t.length&&n<e.length;){const i=e[n]-t[n];if(i)return i;n++}return t.length<e.length?t.length===1&&t[0]===80?-1:1:t.length>e.length?e.length===1&&e[0]===80?1:-1:0}function _j(t,e){let n=0;const i=t.score,s=e.score;for(;n<i.length&&n<s.length;){const r=Fte(i[n],s[n]);if(r)return r;n++}if(Math.abs(s.length-i.length)===1){if(ZA(i))return 1;if(ZA(s))return-1}return s.length-i.length}function ZA(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const Bte={type:0,value:""},jte=/[a-zA-Z0-9_]/;function $te(t){if(!t)return[[]];if(t==="/")return[[Bte]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(h){throw new Error(`ERR (${n})/"${u}": ${h}`)}let n=0,i=n;const s=[];let r;function a(){r&&s.push(r),r=[]}let o=0,l,u="",d="";function c(){u&&(n===0?r.push({type:0,value:u}):n===1||n===2||n===3?(r.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),r.push({type:1,value:u,regexp:d,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),u="")}function f(){u+=l}for(;o<t.length;){if(l=t[o++],l==="\\"&&n!==2){i=n,n=4;continue}switch(n){case 0:l==="/"?(u&&c(),a()):l===":"?(c(),n=1):f();break;case 4:f(),n=i;break;case 1:l==="("?n=2:jte.test(l)?f():(c(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&o--);break;case 2:l===")"?d[d.length-1]=="\\"?d=d.slice(0,-1)+l:n=3:d+=l;break;case 3:c(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&o--,d="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${u}"`),c(),a(),s}function Ute(t,e,n){const i=Nte($te(t.path),n),s=ln(i,{record:t,parent:e,children:[],alias:[]});return e&&!s.record.aliasOf==!e.record.aliasOf&&e.children.push(s),s}function Hte(t,e){const n=[],i=new Map;e=iO({strict:!1,end:!0,sensitive:!1},e);function s(c){return i.get(c)}function r(c,f,h){const g=!h,v=tO(c);v.aliasOf=h&&h.record;const p=iO(e,c),_=[v];if("alias"in c){const k=typeof c.alias=="string"?[c.alias]:c.alias;for(const I of k)_.push(tO(ln({},v,{components:h?h.record.components:v.components,path:I,aliasOf:h?h.record:v})))}let b,x;for(const k of _){const{path:I}=k;if(f&&I[0]!=="/"){const E=f.record.path,T=E[E.length-1]==="/"?"":"/";k.path=f.record.path+(I&&T+I)}if(b=Ute(k,f,p),h?h.alias.push(b):(x=x||b,x!==b&&x.alias.push(b),g&&c.name&&!nO(b)&&a(c.name)),yj(b)&&l(b),v.children){const E=v.children;for(let T=0;T<E.length;T++)r(E[T],b,h&&h.children[T])}h=h||b}return x?()=>{a(x)}:im}function a(c){if(gj(c)){const f=i.get(c);f&&(i.delete(c),n.splice(n.indexOf(f),1),f.children.forEach(a),f.alias.forEach(a))}else{const f=n.indexOf(c);f>-1&&(n.splice(f,1),c.record.name&&i.delete(c.record.name),c.children.forEach(a),c.alias.forEach(a))}}function o(){return n}function l(c){const f=Yte(c,n);n.splice(f,0,c),c.record.name&&!nO(c)&&i.set(c.record.name,c)}function u(c,f){let h,g={},v,p;if("name"in c&&c.name){if(h=i.get(c.name),!h)throw rh(1,{location:c});p=h.record.name,g=ln(eO(f.params,h.keys.filter(x=>!x.optional).concat(h.parent?h.parent.keys.filter(x=>x.optional):[]).map(x=>x.name)),c.params&&eO(c.params,h.keys.map(x=>x.name))),v=h.stringify(g)}else if(c.path!=null)v=c.path,h=n.find(x=>x.re.test(v)),h&&(g=h.parse(v),p=h.record.name);else{if(h=f.name?i.get(f.name):n.find(x=>x.re.test(f.path)),!h)throw rh(1,{location:c,currentLocation:f});p=h.record.name,g=ln({},f.params,c.params),v=h.stringify(g)}const _=[];let b=h;for(;b;)_.unshift(b.record),b=b.parent;return{name:p,path:v,params:g,matched:_,meta:Wte(_)}}t.forEach(c=>r(c));function d(){n.length=0,i.clear()}return{addRoute:r,resolve:u,removeRoute:a,clearRoutes:d,getRoutes:o,getRecordMatcher:s}}function eO(t,e){const n={};for(const i of e)i in t&&(n[i]=t[i]);return n}function tO(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:zte(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function zte(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const i in t.components)e[i]=typeof n=="object"?n[i]:n;return e}function nO(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function Wte(t){return t.reduce((e,n)=>ln(e,n.meta),{})}function iO(t,e){const n={};for(const i in t)n[i]=i in e?e[i]:t[i];return n}function Yte(t,e){let n=0,i=e.length;for(;n!==i;){const r=n+i>>1;_j(t,e[r])<0?i=r:n=r+1}const s=Gte(t);return s&&(i=e.lastIndexOf(s,i-1)),i}function Gte(t){let e=t;for(;e=e.parent;)if(yj(e)&&_j(t,e)===0)return e}function yj({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function qte(t){const e={};if(t===""||t==="?")return e;const i=(t[0]==="?"?t.slice(1):t).split("&");for(let s=0;s<i.length;++s){const r=i[s].replace(cj," "),a=r.indexOf("="),o=Vm(a<0?r:r.slice(0,a)),l=a<0?null:Vm(r.slice(a+1));if(o in e){let u=e[o];da(u)||(u=e[o]=[u]),u.push(l)}else e[o]=l}return e}function sO(t){let e="";for(let n in t){const i=t[n];if(n=fte(n),i==null){i!==void 0&&(e+=(e.length?"&":"")+n);continue}(da(i)?i.map(r=>r&&Vx(r)):[i&&Vx(i)]).forEach(r=>{r!==void 0&&(e+=(e.length?"&":"")+n,r!=null&&(e+="="+r))})}return e}function Xte(t){const e={};for(const n in t){const i=t[n];i!==void 0&&(e[n]=da(i)?i.map(s=>s==null?null:""+s):i==null?i:""+i)}return e}const Kte=Symbol(""),rO=Symbol(""),$b=Symbol(""),bP=Symbol(""),Nx=Symbol("");function bf(){let t=[];function e(i){return t.push(i),()=>{const s=t.indexOf(i);s>-1&&t.splice(s,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function ul(t,e,n,i,s,r=a=>a()){const a=i&&(i.enterCallbacks[s]=i.enterCallbacks[s]||[]);return()=>new Promise((o,l)=>{const u=f=>{f===!1?l(rh(4,{from:n,to:e})):f instanceof Error?l(f):Mte(f)?l(rh(2,{from:e,to:f})):(a&&i.enterCallbacks[s]===a&&typeof f=="function"&&a.push(f),o())},d=r(()=>t.call(i&&i.instances[s],e,n,u));let c=Promise.resolve(d);t.length<3&&(c=c.then(u)),c.catch(f=>l(f))})}function $w(t,e,n,i,s=r=>r()){const r=[];for(const a of t)for(const o in a.components){let l=a.components[o];if(!(e!=="beforeRouteEnter"&&!a.instances[o]))if(lj(l)){const d=(l.__vccOpts||l)[e];d&&r.push(ul(d,n,i,a,o,s))}else{let u=l();r.push(()=>u.then(d=>{if(!d)throw new Error(`Couldn't resolve component "${o}" at "${a.path}"`);const c=nte(d)?d.default:d;a.mods[o]=d,a.components[o]=c;const h=(c.__vccOpts||c)[e];return h&&ul(h,n,i,a,o,s)()}))}}return r}function aO(t){const e=vt($b),n=vt(bP),i=R(()=>{const l=ie(t.to);return e.resolve(l)}),s=R(()=>{const{matched:l}=i.value,{length:u}=l,d=l[u-1],c=n.matched;if(!d||!c.length)return-1;const f=c.findIndex(sh.bind(null,d));if(f>-1)return f;const h=oO(l[u-2]);return u>1&&oO(d)===h&&c[c.length-1].path!==h?c.findIndex(sh.bind(null,l[u-2])):f}),r=R(()=>s.value>-1&&tne(n.params,i.value.params)),a=R(()=>s.value>-1&&s.value===n.matched.length-1&&mj(n.params,i.value.params));function o(l={}){if(ene(l)){const u=e[ie(t.replace)?"replace":"push"](ie(t.to)).catch(im);return t.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>u),u}return Promise.resolve()}return{route:i,href:R(()=>i.value.href),isActive:r,isExactActive:a,navigate:o}}function Qte(t){return t.length===1?t[0]:t}const Jte=Tt({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:aO,setup(t,{slots:e}){const n=vn(aO(t)),{options:i}=vt($b),s=R(()=>({[lO(t.activeClass,i.linkActiveClass,"router-link-active")]:n.isActive,[lO(t.exactActiveClass,i.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const r=e.default&&Qte(e.default(n));return t.custom?r:Ai("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:s.value},r)}}}),Zte=Jte;function ene(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function tne(t,e){for(const n in e){const i=e[n],s=t[n];if(typeof i=="string"){if(i!==s)return!1}else if(!da(s)||s.length!==i.length||i.some((r,a)=>r!==s[a]))return!1}return!0}function oO(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const lO=(t,e,n)=>t??e??n,nne=Tt({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const i=vt(Nx),s=R(()=>t.route||i.value),r=vt(rO,0),a=R(()=>{let u=ie(r);const{matched:d}=s.value;let c;for(;(c=d[u])&&!c.components;)u++;return u}),o=R(()=>s.value.matched[a.value]);Jt(rO,R(()=>a.value+1)),Jt(Kte,o),Jt(Nx,s);const l=Y();return we(()=>[l.value,o.value,t.name],([u,d,c],[f,h,g])=>{d&&(d.instances[c]=u,h&&h!==d&&u&&u===f&&(d.leaveGuards.size||(d.leaveGuards=h.leaveGuards),d.updateGuards.size||(d.updateGuards=h.updateGuards))),u&&d&&(!h||!sh(d,h)||!f)&&(d.enterCallbacks[c]||[]).forEach(v=>v(u))},{flush:"post"}),()=>{const u=s.value,d=t.name,c=o.value,f=c&&c.components[d];if(!f)return uO(n.default,{Component:f,route:u});const h=c.props[d],g=h?h===!0?u.params:typeof h=="function"?h(u):h:null,p=Ai(f,ln({},g,e,{onVnodeUnmounted:_=>{_.component.isUnmounted&&(c.instances[d]=null)},ref:l}));return uO(n.default,{Component:p,route:u})||p}}});function uO(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const ine=nne;function sne(t){const e=Hte(t.routes,t),n=t.parseQuery||qte,i=t.stringifyQuery||sO,s=t.history,r=bf(),a=bf(),o=bf(),l=Me(nl);let u=nl;gd&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const d=Bw.bind(null,$=>""+$),c=Bw.bind(null,vte),f=Bw.bind(null,Vm);function h($,q){let re,ge;return gj($)?(re=e.getRecordMatcher($),ge=q):ge=$,e.addRoute(ge,re)}function g($){const q=e.getRecordMatcher($);q&&e.removeRoute(q)}function v(){return e.getRoutes().map($=>$.record)}function p($){return!!e.getRecordMatcher($)}function _($,q){if(q=ln({},q||l.value),typeof $=="string"){const F=jw(n,$,q.path),K=e.resolve({path:F.path},q),de=s.createHref(F.fullPath);return ln(F,K,{params:f(K.params),hash:Vm(F.hash),redirectedFrom:void 0,href:de})}let re;if($.path!=null)re=ln({},$,{path:jw(n,$.path,q.path).path});else{const F=ln({},$.params);for(const K in F)F[K]==null&&delete F[K];re=ln({},$,{params:c(F)}),q.params=c(q.params)}const ge=e.resolve(re,q),fe=$.hash||"";ge.params=d(f(ge.params));const ye=_te(i,ln({},$,{hash:hte(fe),path:ge.path})),L=s.createHref(ye);return ln({fullPath:ye,hash:fe,query:i===sO?Xte($.query):$.query||{}},ge,{redirectedFrom:void 0,href:L})}function b($){return typeof $=="string"?jw(n,$,l.value.path):ln({},$)}function x($,q){if(u!==$)return rh(8,{from:q,to:$})}function k($){return T($)}function I($){return k(ln(b($),{replace:!0}))}function E($){const q=$.matched[$.matched.length-1];if(q&&q.redirect){const{redirect:re}=q;let ge=typeof re=="function"?re($):re;return typeof ge=="string"&&(ge=ge.includes("?")||ge.includes("#")?ge=b(ge):{path:ge},ge.params={}),ln({query:$.query,hash:$.hash,params:ge.path!=null?{}:$.params},ge)}}function T($,q){const re=u=_($),ge=l.value,fe=$.state,ye=$.force,L=$.replace===!0,F=E(re);if(F)return T(ln(b(F),{state:typeof F=="object"?ln({},fe,F.state):fe,force:ye,replace:L}),q||re);const K=re;K.redirectedFrom=q;let de;return!ye&&yte(i,ge,re)&&(de=rh(16,{to:K,from:ge}),Z(ge,ge,!0,!1)),(de?Promise.resolve(de):P(K,ge)).catch(ne=>ro(ne)?ro(ne,2)?ne:W(ne):z(ne,K,ge)).then(ne=>{if(ne){if(ro(ne,2))return T(ln({replace:L},b(ne.to),{state:typeof ne.to=="object"?ln({},fe,ne.to.state):fe,force:ye}),q||K)}else ne=D(K,ge,!0,L,fe);return C(K,ge,ne),ne})}function S($,q){const re=x($,q);return re?Promise.reject(re):Promise.resolve()}function w($){const q=ue.values().next().value;return q&&typeof q.runWithContext=="function"?q.runWithContext($):$()}function P($,q){let re;const[ge,fe,ye]=rne($,q);re=$w(ge.reverse(),"beforeRouteLeave",$,q);for(const F of ge)F.leaveGuards.forEach(K=>{re.push(ul(K,$,q))});const L=S.bind(null,$,q);return re.push(L),se(re).then(()=>{re=[];for(const F of r.list())re.push(ul(F,$,q));return re.push(L),se(re)}).then(()=>{re=$w(fe,"beforeRouteUpdate",$,q);for(const F of fe)F.updateGuards.forEach(K=>{re.push(ul(K,$,q))});return re.push(L),se(re)}).then(()=>{re=[];for(const F of ye)if(F.beforeEnter)if(da(F.beforeEnter))for(const K of F.beforeEnter)re.push(ul(K,$,q));else re.push(ul(F.beforeEnter,$,q));return re.push(L),se(re)}).then(()=>($.matched.forEach(F=>F.enterCallbacks={}),re=$w(ye,"beforeRouteEnter",$,q,w),re.push(L),se(re))).then(()=>{re=[];for(const F of a.list())re.push(ul(F,$,q));return re.push(L),se(re)}).catch(F=>ro(F,8)?F:Promise.reject(F))}function C($,q,re){o.list().forEach(ge=>w(()=>ge($,q,re)))}function D($,q,re,ge,fe){const ye=x($,q);if(ye)return ye;const L=q===nl,F=gd?history.state:{};re&&(ge||L?s.replace($.fullPath,ln({scroll:L&&F&&F.scroll},fe)):s.push($.fullPath,fe)),l.value=$,Z($,q,re,L),W()}let A;function N(){A||(A=s.listen(($,q,re)=>{if(!ce.listening)return;const ge=_($),fe=E(ge);if(fe){T(ln(fe,{replace:!0,force:!0}),ge).catch(im);return}u=ge;const ye=l.value;gd&&Cte(XA(ye.fullPath,re.delta),jb()),P(ge,ye).catch(L=>ro(L,12)?L:ro(L,2)?(T(ln(b(L.to),{force:!0}),ge).then(F=>{ro(F,20)&&!re.delta&&re.type===Lm.pop&&s.go(-1,!1)}).catch(im),Promise.reject()):(re.delta&&s.go(-re.delta,!1),z(L,ge,ye))).then(L=>{L=L||D(ge,ye,!1),L&&(re.delta&&!ro(L,8)?s.go(-re.delta,!1):re.type===Lm.pop&&ro(L,20)&&s.go(-1,!1)),C(ge,ye,L)}).catch(im)}))}let B=bf(),H=bf(),G;function z($,q,re){W($);const ge=H.list();return ge.length?ge.forEach(fe=>fe($,q,re)):console.error($),Promise.reject($)}function X(){return G&&l.value!==nl?Promise.resolve():new Promise(($,q)=>{B.add([$,q])})}function W($){return G||(G=!$,N(),B.list().forEach(([q,re])=>$?re($):q()),B.reset()),$}function Z($,q,re,ge){const{scrollBehavior:fe}=t;if(!gd||!fe)return Promise.resolve();const ye=!re&&Ete(XA($.fullPath,0))||(ge||!re)&&history.state&&history.state.scroll||null;return pt().then(()=>fe($,q,ye)).then(L=>L&&Pte(L)).catch(L=>z(L,$,q))}const ee=$=>s.go($);let le;const ue=new Set,ce={currentRoute:l,listening:!0,addRoute:h,removeRoute:g,clearRoutes:e.clearRoutes,hasRoute:p,getRoutes:v,resolve:_,options:t,push:k,replace:I,go:ee,back:()=>ee(-1),forward:()=>ee(1),beforeEach:r.add,beforeResolve:a.add,afterEach:o.add,onError:H.add,isReady:X,install($){const q=this;$.component("RouterLink",Zte),$.component("RouterView",ine),$.config.globalProperties.$router=q,Object.defineProperty($.config.globalProperties,"$route",{enumerable:!0,get:()=>ie(l)}),gd&&!le&&l.value===nl&&(le=!0,k(s.location).catch(fe=>{}));const re={};for(const fe in nl)Object.defineProperty(re,fe,{get:()=>l.value[fe],enumerable:!0});$.provide($b,q),$.provide(bP,QV(re)),$.provide(Nx,l);const ge=$.unmount;ue.add($),$.unmount=function(){ue.delete($),ue.size<1&&(u=nl,A&&A(),A=null,l.value=nl,le=!1,G=!1),ge()}}};function se($){return $.reduce((q,re)=>q.then(()=>w(re)),Promise.resolve())}return ce}function rne(t,e){const n=[],i=[],s=[],r=Math.max(e.matched.length,t.matched.length);for(let a=0;a<r;a++){const o=e.matched[a];o&&(t.matched.find(u=>sh(u,o))?i.push(o):n.push(o));const l=t.matched[a];l&&(e.matched.find(u=>sh(u,l))||s.push(l))}return[n,i,s]}function Rc(){return vt($b)}function Wv(t){return vt(bP)}function Ns(t,e){let n;function i(){n=Sv(),n.run(()=>e.length?e(()=>{n==null||n.stop(),i()}):e())}we(t,s=>{s&&!n?i():s||(n==null||n.stop(),n=void 0)},{immediate:!0}),as(()=>{n==null||n.stop()})}const Gt=typeof window<"u",wP=Gt&&"IntersectionObserver"in window,ane=Gt&&("ontouchstart"in window||window.navigator.maxTouchPoints>0),cO=Gt&&"EyeDropper"in window;function dO(t,e,n){one(t,e),e.set(t,n)}function one(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function lne(t,e,n){return t.set(bj(t,e),n),n}function vu(t,e){return t.get(bj(t,e))}function bj(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}function wj(t,e,n){const i=e.length-1;if(i<0)return t===void 0?n:t;for(let s=0;s<i;s++){if(t==null)return n;t=t[e[s]]}return t==null||t[e[i]]===void 0?n:t[e[i]]}function Ka(t,e){if(t===e)return!0;if(t instanceof Date&&e instanceof Date&&t.getTime()!==e.getTime()||t!==Object(t)||e!==Object(e))return!1;const n=Object.keys(t);return n.length!==Object.keys(e).length?!1:n.every(i=>Ka(t[i],e[i]))}function ac(t,e,n){return t==null||!e||typeof e!="string"?n:t[e]!==void 0?t[e]:(e=e.replace(/\[(\w+)\]/g,".$1"),e=e.replace(/^\./,""),wj(t,e.split("."),n))}function ii(t,e,n){if(e===!0)return t===void 0?n:t;if(e==null||typeof e=="boolean")return n;if(t!==Object(t)){if(typeof e!="function")return n;const s=e(t,n);return typeof s>"u"?n:s}if(typeof e=="string")return ac(t,e,n);if(Array.isArray(e))return wj(t,e,n);if(typeof e!="function")return n;const i=e(t,n);return typeof i>"u"?n:i}function mr(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return Array.from({length:t},(n,i)=>e+i)}function Ne(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"px";if(!(t==null||t===""))return isNaN(+t)?String(t):isFinite(+t)?`${Number(t)}${e}`:void 0}function Ub(t){return t!==null&&typeof t=="object"&&!Array.isArray(t)}function hO(t){let e;return t!==null&&typeof t=="object"&&((e=Object.getPrototypeOf(t))===Object.prototype||e===null)}function xP(t){if(t&&"$el"in t){const e=t.$el;return(e==null?void 0:e.nodeType)===Node.TEXT_NODE?e.nextElementSibling:e}return t}const fO=Object.freeze({enter:13,tab:9,delete:46,esc:27,space:32,up:38,down:40,left:37,right:39,end:35,home:36,del:46,backspace:8,insert:45,pageup:33,pagedown:34,shift:16}),Fx=Object.freeze({enter:"Enter",tab:"Tab",delete:"Delete",esc:"Escape",space:"Space",up:"ArrowUp",down:"ArrowDown",left:"ArrowLeft",right:"ArrowRight",end:"End",home:"Home",del:"Delete",backspace:"Backspace",insert:"Insert",pageup:"PageUp",pagedown:"PageDown",shift:"Shift"});function xj(t){return Object.keys(t)}function Mu(t,e){return e.every(n=>t.hasOwnProperty(n))}function SP(t,e){const n={},i=new Set(Object.keys(t));for(const s of e)i.has(s)&&(n[s]=t[s]);return n}function Bx(t,e,n){const i=Object.create(null),s=Object.create(null);for(const r in t)e.some(a=>a instanceof RegExp?a.test(r):a===r)&&!(n!=null&&n.some(a=>a===r))?i[r]=t[r]:s[r]=t[r];return[i,s]}function tn(t,e){const n={...t};return e.forEach(i=>delete n[i]),n}function Yv(t,e){const n={};return e.forEach(i=>n[i]=t[i]),n}const Sj=/^on[^a-z]/,Hb=t=>Sj.test(t),une=["onAfterscriptexecute","onAnimationcancel","onAnimationend","onAnimationiteration","onAnimationstart","onAuxclick","onBeforeinput","onBeforescriptexecute","onChange","onClick","onCompositionend","onCompositionstart","onCompositionupdate","onContextmenu","onCopy","onCut","onDblclick","onFocusin","onFocusout","onFullscreenchange","onFullscreenerror","onGesturechange","onGestureend","onGesturestart","onGotpointercapture","onInput","onKeydown","onKeypress","onKeyup","onLostpointercapture","onMousedown","onMousemove","onMouseout","onMouseover","onMouseup","onMousewheel","onPaste","onPointercancel","onPointerdown","onPointerenter","onPointerleave","onPointermove","onPointerout","onPointerover","onPointerup","onReset","onSelect","onSubmit","onTouchcancel","onTouchend","onTouchmove","onTouchstart","onTransitioncancel","onTransitionend","onTransitionrun","onTransitionstart","onWheel"],cne=["ArrowUp","ArrowDown","ArrowRight","ArrowLeft","Enter","Escape","Tab"," "];function dne(t){return t.isComposing&&cne.includes(t.key)}function zo(t){const[e,n]=Bx(t,[Sj]),i=tn(e,une),[s,r]=Bx(n,["class","style","id",/^data-/]);return Object.assign(s,e),Object.assign(r,i),[s,r]}function bn(t){return t==null?[]:Array.isArray(t)?t:[t]}function hne(t,e){let n=0;const i=function(){for(var s=arguments.length,r=new Array(s),a=0;a<s;a++)r[a]=arguments[a];clearTimeout(n),n=setTimeout(()=>t(...r),ie(e))};return i.clear=()=>{clearTimeout(n)},i.immediate=t,i}function $n(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;return Math.max(e,Math.min(n,t))}function V_(t){const e=t.toString().trim();return e.includes(".")?e.length-e.indexOf(".")-1:0}function mO(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"0";return t+n.repeat(Math.max(0,e-t.length))}function vO(t,e){return(arguments.length>2&&arguments[2]!==void 0?arguments[2]:"0").repeat(Math.max(0,e-t.length))+t}function fne(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;const n=[];let i=0;for(;i<t.length;)n.push(t.substr(i,e)),i+=e;return n}function mne(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return Array.from({length:Math.ceil(t.length/e)},(n,i)=>t.slice(i*e,i*e+e))}function jx(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e3;if(t<e)return`${t} B`;const n=e===1024?["Ki","Mi","Gi"]:["k","M","G"];let i=-1;for(;Math.abs(t)>=e&&i<n.length-1;)t/=e,++i;return`${t.toFixed(1)} ${n[i]}B`}function xs(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;const i={};for(const s in t)i[s]=t[s];for(const s in e){const r=t[s],a=e[s];if(hO(r)&&hO(a)){i[s]=xs(r,a,n);continue}if(n&&Array.isArray(r)&&Array.isArray(a)){i[s]=n(r,a);continue}i[s]=a}return i}function kj(t){return t.map(e=>e.type===Ie?kj(e.children):e).flat()}function Hu(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";if(Hu.cache.has(t))return Hu.cache.get(t);const e=t.replace(/[^a-z]/gi,"-").replace(/\B([A-Z])/g,"-$1").toLowerCase();return Hu.cache.set(t,e),e}Hu.cache=new Map;function bd(t,e){if(!e||typeof e!="object")return[];if(Array.isArray(e))return e.map(n=>bd(t,n)).flat(1);if(e.suspense)return bd(t,e.ssContent);if(Array.isArray(e.children))return e.children.map(n=>bd(t,n)).flat(1);if(e.component){if(Object.getOwnPropertySymbols(e.component.provides).includes(t))return[e.component];if(e.component.subTree)return bd(t,e.component.subTree).flat(1)}return[]}var Ug=new WeakMap,td=new WeakMap;class vne{constructor(e){dO(this,Ug,[]),dO(this,td,0),this.size=e}push(e){vu(Ug,this)[vu(td,this)]=e,lne(td,this,(vu(td,this)+1)%this.size)}values(){return vu(Ug,this).slice(vu(td,this)).concat(vu(Ug,this).slice(0,vu(td,this)))}}function gne(t){return"touches"in t?{clientX:t.touches[0].clientX,clientY:t.touches[0].clientY}:{clientX:t.clientX,clientY:t.clientY}}function kP(t){const e=vn({}),n=R(t);return yn(()=>{for(const i in n.value)e[i]=n.value[i]},{flush:"sync"}),Kl(e)}function L_(t,e){return t.includes(e)}function Tj(t){return t[2].toLowerCase()+t.slice(3)}const Ri=()=>[Function,Array];function gO(t,e){return e="on"+pa(e),!!(t[e]||t[`${e}Once`]||t[`${e}Capture`]||t[`${e}OnceCapture`]||t[`${e}CaptureOnce`])}function TP(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];if(Array.isArray(t))for(const s of t)s(...n);else typeof t=="function"&&t(...n)}function Nm(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const n=["button","[href]",'input:not([type="hidden"])',"select","textarea","[tabindex]"].map(i=>`${i}${e?':not([tabindex="-1"])':""}:not([disabled])`).join(", ");return[...t.querySelectorAll(n)]}function Pj(t,e,n){let i,s=t.indexOf(document.activeElement);const r=e==="next"?1:-1;do s+=r,i=t[s];while((!i||i.offsetParent==null||!((n==null?void 0:n(i))??!0))&&s<t.length&&s>=0);return i}function zu(t,e){var i,s,r,a;const n=Nm(t);if(!e)(t===document.activeElement||!t.contains(document.activeElement))&&((i=n[0])==null||i.focus());else if(e==="first")(s=n[0])==null||s.focus();else if(e==="last")(r=n.at(-1))==null||r.focus();else if(typeof e=="number")(a=n[e])==null||a.focus();else{const o=Pj(n,e);o?o.focus():zu(t,e==="next"?"first":"last")}}function Hg(t){return t==null||typeof t=="string"&&t.trim()===""}function Cj(){}function ah(t,e){if(!(Gt&&typeof CSS<"u"&&typeof CSS.supports<"u"&&CSS.supports(`selector(${e})`)))return null;try{return!!t&&t.matches(e)}catch{return null}}function zb(t){return t.some(e=>Ol(e)?e.type===bs?!1:e.type!==Ie||zb(e.children):!0)?t:null}function pne(t,e){if(!Gt||t===0)return e(),()=>{};const n=window.setTimeout(e,t);return()=>window.clearTimeout(n)}function _ne(t,e){const n=t.clientX,i=t.clientY,s=e.getBoundingClientRect(),r=s.left,a=s.top,o=s.right,l=s.bottom;return n>=r&&n<=o&&i>=a&&i<=l}function N_(){const t=Me(),e=n=>{t.value=n};return Object.defineProperty(e,"value",{enumerable:!0,get:()=>t.value,set:n=>t.value=n}),Object.defineProperty(e,"el",{enumerable:!0,get:()=>xP(t.value)}),e}function F_(t){const e=t.key.length===1,n=!t.ctrlKey&&!t.metaKey&&!t.altKey;return e&&n}const Ej=["top","bottom"],yne=["start","end","left","right"];function $x(t,e){let[n,i]=t.split(" ");return i||(i=L_(Ej,n)?"start":L_(yne,n)?"top":"center"),{side:Ux(n,e),align:Ux(i,e)}}function Ux(t,e){return t==="start"?e?"right":"left":t==="end"?e?"left":"right":t}function Uw(t){return{side:{center:"center",top:"bottom",bottom:"top",left:"right",right:"left"}[t.side],align:t.align}}function Hw(t){return{side:t.side,align:{center:"center",top:"bottom",bottom:"top",left:"right",right:"left"}[t.align]}}function pO(t){return{side:t.align,align:t.side}}function _O(t){return L_(Ej,t.side)?"y":"x"}class Wu{constructor(e){let{x:n,y:i,width:s,height:r}=e;this.x=n,this.y=i,this.width=s,this.height=r}get top(){return this.y}get bottom(){return this.y+this.height}get left(){return this.x}get right(){return this.x+this.width}}function yO(t,e){return{x:{before:Math.max(0,e.left-t.left),after:Math.max(0,t.right-e.right)},y:{before:Math.max(0,e.top-t.top),after:Math.max(0,t.bottom-e.bottom)}}}function Ij(t){return Array.isArray(t)?new Wu({x:t[0],y:t[1],width:0,height:0}):t.getBoundingClientRect()}function PP(t){const e=t.getBoundingClientRect(),n=getComputedStyle(t),i=n.transform;if(i){let s,r,a,o,l;if(i.startsWith("matrix3d("))s=i.slice(9,-1).split(/, /),r=+s[0],a=+s[5],o=+s[12],l=+s[13];else if(i.startsWith("matrix("))s=i.slice(7,-1).split(/, /),r=+s[0],a=+s[3],o=+s[4],l=+s[5];else return new Wu(e);const u=n.transformOrigin,d=e.x-o-(1-r)*parseFloat(u),c=e.y-l-(1-a)*parseFloat(u.slice(u.indexOf(" ")+1)),f=r?e.width/r:t.offsetWidth+1,h=a?e.height/a:t.offsetHeight+1;return new Wu({x:d,y:c,width:f,height:h})}else return new Wu(e)}function Vu(t,e,n){if(typeof t.animate>"u")return{finished:Promise.resolve()};let i;try{i=t.animate(e,n)}catch{return{finished:Promise.resolve()}}return typeof i.finished>"u"&&(i.finished=new Promise(s=>{i.onfinish=()=>{s(i)}})),i}const Op=new WeakMap;function bne(t,e){Object.keys(e).forEach(n=>{if(Hb(n)){const i=Tj(n),s=Op.get(t);if(e[n]==null)s==null||s.forEach(r=>{const[a,o]=r;a===i&&(t.removeEventListener(i,o),s.delete(r))});else if(!s||![...s].some(r=>r[0]===i&&r[1]===e[n])){t.addEventListener(i,e[n]);const r=s||new Set;r.add([i,e[n]]),Op.has(t)||Op.set(t,r)}}else e[n]==null?t.removeAttribute(n):t.setAttribute(n,e[n])})}function wne(t,e){Object.keys(e).forEach(n=>{if(Hb(n)){const i=Tj(n),s=Op.get(t);s==null||s.forEach(r=>{const[a,o]=r;a===i&&(t.removeEventListener(i,o),s.delete(r))})}else t.removeAttribute(n)})}const nd=2.4,bO=.2126729,wO=.7151522,xO=.072175,xne=.55,Sne=.58,kne=.57,Tne=.62,zg=.03,SO=1.45,Pne=5e-4,Cne=1.25,Ene=1.25,kO=.078,TO=12.82051282051282,Wg=.06,PO=.001;function CO(t,e){const n=(t.r/255)**nd,i=(t.g/255)**nd,s=(t.b/255)**nd,r=(e.r/255)**nd,a=(e.g/255)**nd,o=(e.b/255)**nd;let l=n*bO+i*wO+s*xO,u=r*bO+a*wO+o*xO;if(l<=zg&&(l+=(zg-l)**SO),u<=zg&&(u+=(zg-u)**SO),Math.abs(u-l)<Pne)return 0;let d;if(u>l){const c=(u**xne-l**Sne)*Cne;d=c<PO?0:c<kO?c-c*TO*Wg:c-Wg}else{const c=(u**Tne-l**kne)*Ene;d=c>-PO?0:c>-kO?c-c*TO*Wg:c+Wg}return d*100}function Ine(t,e){e=Array.isArray(e)?e.slice(0,-1).map(n=>`'${n}'`).join(", ")+` or '${e.at(-1)}'`:`'${e}'`}const B_=.20689655172413793,Dne=t=>t>B_**3?Math.cbrt(t):t/(3*B_**2)+4/29,Ane=t=>t>B_?t**3:3*B_**2*(t-4/29);function Dj(t){const e=Dne,n=e(t[1]);return[116*n-16,500*(e(t[0]/.95047)-n),200*(n-e(t[2]/1.08883))]}function Aj(t){const e=Ane,n=(t[0]+16)/116;return[e(n+t[1]/500)*.95047,e(n),e(n-t[2]/200)*1.08883]}const One=[[3.2406,-1.5372,-.4986],[-.9689,1.8758,.0415],[.0557,-.204,1.057]],Rne=t=>t<=.0031308?t*12.92:1.055*t**(1/2.4)-.055,Mne=[[.4124,.3576,.1805],[.2126,.7152,.0722],[.0193,.1192,.9505]],Vne=t=>t<=.04045?t/12.92:((t+.055)/1.055)**2.4;function Oj(t){const e=Array(3),n=Rne,i=One;for(let s=0;s<3;++s)e[s]=Math.round($n(n(i[s][0]*t[0]+i[s][1]*t[1]+i[s][2]*t[2]))*255);return{r:e[0],g:e[1],b:e[2]}}function CP(t){let{r:e,g:n,b:i}=t;const s=[0,0,0],r=Vne,a=Mne;e=r(e/255),n=r(n/255),i=r(i/255);for(let o=0;o<3;++o)s[o]=a[o][0]*e+a[o][1]*n+a[o][2]*i;return s}function Hx(t){return!!t&&/^(#|var\(--|(rgb|hsl)a?\()/.test(t)}function Lne(t){return Hx(t)&&!/^((rgb|hsl)a?\()?var\(--/.test(t)}const EO=/^(?<fn>(?:rgb|hsl)a?)\((?<values>.+)\)/,Nne={rgb:(t,e,n,i)=>({r:t,g:e,b:n,a:i}),rgba:(t,e,n,i)=>({r:t,g:e,b:n,a:i}),hsl:(t,e,n,i)=>IO({h:t,s:e,l:n,a:i}),hsla:(t,e,n,i)=>IO({h:t,s:e,l:n,a:i}),hsv:(t,e,n,i)=>Ro({h:t,s:e,v:n,a:i}),hsva:(t,e,n,i)=>Ro({h:t,s:e,v:n,a:i})};function Or(t){if(typeof t=="number")return{r:(t&16711680)>>16,g:(t&65280)>>8,b:t&255};if(typeof t=="string"&&EO.test(t)){const{groups:e}=t.match(EO),{fn:n,values:i}=e,s=i.split(/,\s*/).map(r=>r.endsWith("%")&&["hsl","hsla","hsv","hsva"].includes(n)?parseFloat(r)/100:parseFloat(r));return Nne[n](...s)}else if(typeof t=="string"){let e=t.startsWith("#")?t.slice(1):t;return[3,4].includes(e.length)?e=e.split("").map(n=>n+n).join(""):[6,8].includes(e.length),Nj(e)}else if(typeof t=="object"){if(Mu(t,["r","g","b"]))return t;if(Mu(t,["h","s","l"]))return Ro(EP(t));if(Mu(t,["h","s","v"]))return Ro(t)}throw new TypeError(`Invalid color: ${t==null?t:String(t)||t.constructor.name}
Expected #hex, #hexa, rgb(), rgba(), hsl(), hsla(), object or number`)}function Ro(t){const{h:e,s:n,v:i,a:s}=t,r=o=>{const l=(o+e/60)%6;return i-i*n*Math.max(Math.min(l,4-l,1),0)},a=[r(5),r(3),r(1)].map(o=>Math.round(o*255));return{r:a[0],g:a[1],b:a[2],a:s}}function IO(t){return Ro(EP(t))}function Wb(t){if(!t)return{h:0,s:1,v:1,a:1};const e=t.r/255,n=t.g/255,i=t.b/255,s=Math.max(e,n,i),r=Math.min(e,n,i);let a=0;s!==r&&(s===e?a=60*(0+(n-i)/(s-r)):s===n?a=60*(2+(i-e)/(s-r)):s===i&&(a=60*(4+(e-n)/(s-r)))),a<0&&(a=a+360);const o=s===0?0:(s-r)/s,l=[a,o,s];return{h:l[0],s:l[1],v:l[2],a:t.a}}function Rj(t){const{h:e,s:n,v:i,a:s}=t,r=i-i*n/2,a=r===1||r===0?0:(i-r)/Math.min(r,1-r);return{h:e,s:a,l:r,a:s}}function EP(t){const{h:e,s:n,l:i,a:s}=t,r=i+n*Math.min(i,1-i),a=r===0?0:2-2*i/r;return{h:e,s:a,v:r,a:s}}function Mj(t){let{r:e,g:n,b:i,a:s}=t;return s===void 0?`rgb(${e}, ${n}, ${i})`:`rgba(${e}, ${n}, ${i}, ${s})`}function Vj(t){return Mj(Ro(t))}function Yg(t){const e=Math.round(t).toString(16);return("00".substr(0,2-e.length)+e).toUpperCase()}function Lj(t){let{r:e,g:n,b:i,a:s}=t;return`#${[Yg(e),Yg(n),Yg(i),s!==void 0?Yg(Math.round(s*255)):""].join("")}`}function Nj(t){t=Fne(t);let[e,n,i,s]=fne(t,2).map(r=>parseInt(r,16));return s=s===void 0?s:s/255,{r:e,g:n,b:i,a:s}}function Fj(t){const e=Nj(t);return Wb(e)}function Bj(t){return Lj(Ro(t))}function Fne(t){return t.startsWith("#")&&(t=t.slice(1)),t=t.replace(/([^0-9a-f])/gi,"F"),(t.length===3||t.length===4)&&(t=t.split("").map(e=>e+e).join("")),t.length!==6&&(t=mO(mO(t,6),8,"F")),t}function Bne(t,e){const n=Dj(CP(t));return n[0]=n[0]+e*10,Oj(Aj(n))}function jne(t,e){const n=Dj(CP(t));return n[0]=n[0]-e*10,Oj(Aj(n))}function zx(t){const e=Or(t);return CP(e)[1]}function $ne(t,e){const n=zx(t),i=zx(e),s=Math.max(n,i),r=Math.min(n,i);return(s+.05)/(r+.05)}function jj(t){const e=Math.abs(CO(Or(0),Or(t)));return Math.abs(CO(Or(16777215),Or(t)))>Math.min(e,50)?"#fff":"#000"}function te(t,e){return n=>Object.keys(t).reduce((i,s)=>{const a=typeof t[s]=="object"&&t[s]!=null&&!Array.isArray(t[s])?t[s]:{type:t[s]};return n&&s in n?i[s]={...a,default:n[s]}:i[s]=a,e&&!i[s].source&&(i[s].source=e),i},{})}const je=te({class:[String,Array,Object],style:{type:[String,Array,Object],default:null}},"component");function Gn(t,e){const n=Cc();if(!n)throw new Error(`[Vuetify] ${t} must be called from inside a setup function`);return n}function Qa(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"composables";const e=Gn(t).type;return Hu((e==null?void 0:e.aliasName)||(e==null?void 0:e.name))}let $j=0,Rp=new WeakMap;function zi(){const t=Gn("getUid");if(Rp.has(t))return Rp.get(t);{const e=$j++;return Rp.set(t,e),e}}zi.reset=()=>{$j=0,Rp=new WeakMap};function Une(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Gn("injectSelf");const{provides:n}=e;if(n&&t in n)return n[t]}const oh=Symbol.for("vuetify:defaults");function Hne(t){return Y(t)}function IP(){const t=vt(oh);if(!t)throw new Error("[Vuetify] Could not find defaults instance");return t}function Dn(t,e){const n=IP(),i=Y(t),s=R(()=>{if(ie(e==null?void 0:e.disabled))return n.value;const a=ie(e==null?void 0:e.scoped),o=ie(e==null?void 0:e.reset),l=ie(e==null?void 0:e.root);if(i.value==null&&!(a||o||l))return n.value;let u=xs(i.value,{prev:n.value});if(a)return u;if(o||l){const d=Number(o||1/0);for(let c=0;c<=d&&!(!u||!("prev"in u));c++)u=u.prev;return u&&typeof l=="string"&&l in u&&(u=xs(xs(u,{prev:u}),u[l])),u}return u.prev?xs(u.prev,u):u});return Jt(oh,s),s}function zne(t,e){var n,i;return typeof((n=t.props)==null?void 0:n[e])<"u"||typeof((i=t.props)==null?void 0:i[Hu(e)])<"u"}function Wne(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:IP();const i=Gn("useDefaults");if(e=e??i.type.name??i.type.__name,!e)throw new Error("[Vuetify] Could not determine component name");const s=R(()=>{var l;return(l=n.value)==null?void 0:l[t._as??e]}),r=new Proxy(t,{get(l,u){var c,f,h,g,v,p,_;const d=Reflect.get(l,u);return u==="class"||u==="style"?[(c=s.value)==null?void 0:c[u],d].filter(b=>b!=null):typeof u=="string"&&!zne(i.vnode,u)?((f=s.value)==null?void 0:f[u])!==void 0?(h=s.value)==null?void 0:h[u]:((v=(g=n.value)==null?void 0:g.global)==null?void 0:v[u])!==void 0?(_=(p=n.value)==null?void 0:p.global)==null?void 0:_[u]:d:d}}),a=Me();yn(()=>{if(s.value){const l=Object.entries(s.value).filter(u=>{let[d]=u;return d.startsWith(d[0].toUpperCase())});a.value=l.length?Object.fromEntries(l):void 0}else a.value=void 0});function o(){const l=Une(oh,i);Jt(oh,R(()=>a.value?xs((l==null?void 0:l.value)??{},a.value):l==null?void 0:l.value))}return{props:r,provideSubDefaults:o}}function xr(t){if(t._setup=t._setup??t.setup,!t.name)return t;if(t._setup){t.props=te(t.props??{},t.name)();const e=Object.keys(t.props).filter(n=>n!=="class"&&n!=="style");t.filterProps=function(i){return SP(i,e)},t.props._as=String,t.setup=function(i,s){const r=IP();if(!r.value)return t._setup(i,s);const{props:a,provideSubDefaults:o}=Wne(i,i._as??t.name,r),l=t._setup(a,s);return o(),l}}return t}function pe(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return e=>(t?xr:Tt)(e)}function Yne(t,e){return e.props=t,e}function Ja(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"div",n=arguments.length>2?arguments[2]:void 0;return pe()({name:n??pa(Fs(t.replace(/__/g,"-"))),props:{tag:{type:String,default:e},...je()},setup(i,s){let{slots:r}=s;return()=>{var a;return Ai(i.tag,{class:[t,i.class],style:i.style},(a=r.default)==null?void 0:a.call(r))}}})}function Uj(t){if(typeof t.getRootNode!="function"){for(;t.parentNode;)t=t.parentNode;return t!==document?null:document}const e=t.getRootNode();return e!==document&&e.getRootNode({composed:!0})!==document?null:e}const Fm="cubic-bezier(0.4, 0, 0.2, 1)",Gne="cubic-bezier(0.0, 0, 0.2, 1)",qne="cubic-bezier(0.4, 0, 1, 1)";function DO(t,e,n){return Object.keys(t).filter(i=>Hb(i)&&i.endsWith(e)).reduce((i,s)=>(i[s.slice(0,-e.length)]=r=>t[s](r,n(r)),i),{})}function DP(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;for(;t;){if(e?Xne(t):AP(t))return t;t=t.parentElement}return document.scrollingElement}function Bm(t,e){const n=[];if(e&&t&&!e.contains(t))return n;for(;t&&(AP(t)&&n.push(t),t!==e);)t=t.parentElement;return n}function AP(t){if(!t||t.nodeType!==Node.ELEMENT_NODE)return!1;const e=window.getComputedStyle(t);return e.overflowY==="scroll"||e.overflowY==="auto"&&t.scrollHeight>t.clientHeight}function Xne(t){if(!t||t.nodeType!==Node.ELEMENT_NODE)return!1;const e=window.getComputedStyle(t);return["scroll","auto"].includes(e.overflowY)}function Kne(t){for(;t;){if(window.getComputedStyle(t).position==="fixed")return!0;t=t.offsetParent}return!1}function xe(t){const e=Gn("useRender");e.render=t}function Ye(t,e,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:c=>c,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:c=>c;const r=Gn("useProxiedModel"),a=Y(t[e]!==void 0?t[e]:n),o=Hu(e),u=R(o!==e?()=>{var c,f,h,g;return t[e],!!(((c=r.vnode.props)!=null&&c.hasOwnProperty(e)||(f=r.vnode.props)!=null&&f.hasOwnProperty(o))&&((h=r.vnode.props)!=null&&h.hasOwnProperty(`onUpdate:${e}`)||(g=r.vnode.props)!=null&&g.hasOwnProperty(`onUpdate:${o}`)))}:()=>{var c,f;return t[e],!!((c=r.vnode.props)!=null&&c.hasOwnProperty(e)&&((f=r.vnode.props)!=null&&f.hasOwnProperty(`onUpdate:${e}`)))});Ns(()=>!u.value,()=>{we(()=>t[e],c=>{a.value=c})});const d=R({get(){const c=t[e];return i(u.value?c:a.value)},set(c){const f=s(c),h=Qe(u.value?t[e]:a.value);h===f||i(h)===c||(a.value=f,r==null||r.emit(`update:${e}`,f))}});return Object.defineProperty(d,"externalValue",{get:()=>u.value?t[e]:a.value}),d}const Hj={badge:"Badge",open:"Open",close:"Close",dismiss:"Dismiss",confirmEdit:{ok:"OK",cancel:"Cancel"},dataIterator:{noResultsText:"No matching records found",loadingText:"Loading items..."},dataTable:{itemsPerPageText:"Rows per page:",ariaLabel:{sortDescending:"Sorted descending.",sortAscending:"Sorted ascending.",sortNone:"Not sorted.",activateNone:"Activate to remove sorting.",activateDescending:"Activate to sort descending.",activateAscending:"Activate to sort ascending."},sortBy:"Sort by"},dataFooter:{itemsPerPageText:"Items per page:",itemsPerPageAll:"All",nextPage:"Next page",prevPage:"Previous page",firstPage:"First page",lastPage:"Last page",pageText:"{0}-{1} of {2}"},dateRangeInput:{divider:"to"},datePicker:{itemsSelected:"{0} selected",range:{title:"Select dates",header:"Enter dates"},title:"Select date",header:"Enter date",input:{placeholder:"Enter date"}},noDataText:"No data available",carousel:{prev:"Previous visual",next:"Next visual",ariaLabel:{delimiter:"Carousel slide {0} of {1}"}},calendar:{moreEvents:"{0} more",today:"Today"},input:{clear:"Clear {0}",prependAction:"{0} prepended action",appendAction:"{0} appended action",otp:"Please enter OTP character {0}"},fileInput:{counter:"{0} files",counterSize:"{0} files ({1} in total)"},fileUpload:{title:"Drag and drop files here",divider:"or",browse:"Browse Files"},timePicker:{am:"AM",pm:"PM",title:"Select Time"},pagination:{ariaLabel:{root:"Pagination Navigation",next:"Next page",previous:"Previous page",page:"Go to page {0}",currentPage:"Page {0}, Current page",first:"First page",last:"Last page"}},stepper:{next:"Next",prev:"Previous"},rating:{ariaLabel:{item:"Rating {0} of {1}"}},loading:"Loading...",infiniteScroll:{loadMore:"Load more",empty:"No more"}},AO="$vuetify.",OO=(t,e)=>t.replace(/\{(\d+)\}/g,(n,i)=>String(e[+i])),zj=(t,e,n)=>function(i){for(var s=arguments.length,r=new Array(s>1?s-1:0),a=1;a<s;a++)r[a-1]=arguments[a];if(!i.startsWith(AO))return OO(i,r);const o=i.replace(AO,""),l=t.value&&n.value[t.value],u=e.value&&n.value[e.value];let d=ac(l,o,null);return d||(`${i}${t.value}`,d=ac(u,o,null)),d||(d=i),typeof d!="string"&&(d=i),OO(d,r)};function Wj(t,e){return(n,i)=>new Intl.NumberFormat([t.value,e.value],i).format(n)}function zw(t,e,n){const i=Ye(t,e,t[e]??n.value);return i.value=t[e]??n.value,we(n,s=>{t[e]==null&&(i.value=n.value)}),i}function Yj(t){return e=>{const n=zw(e,"locale",t.current),i=zw(e,"fallback",t.fallback),s=zw(e,"messages",t.messages);return{name:"vuetify",current:n,fallback:i,messages:s,t:zj(n,i,s),n:Wj(n,i),provide:Yj({current:n,fallback:i,messages:s})}}}function Qne(t){const e=Me((t==null?void 0:t.locale)??"en"),n=Me((t==null?void 0:t.fallback)??"en"),i=Y({en:Hj,...t==null?void 0:t.messages});return{name:"vuetify",current:e,fallback:n,messages:i,t:zj(e,n,i),n:Wj(e,n),provide:Yj({current:e,fallback:n,messages:i})}}const lh=Symbol.for("vuetify:locale");function Jne(t){return t.name!=null}function Zne(t){const e=t!=null&&t.adapter&&Jne(t==null?void 0:t.adapter)?t==null?void 0:t.adapter:Qne(t),n=nie(e,t);return{...e,...n}}function gn(){const t=vt(lh);if(!t)throw new Error("[Vuetify] Could not find injected locale instance");return t}function eie(t){const e=vt(lh);if(!e)throw new Error("[Vuetify] Could not find injected locale instance");const n=e.provide(t),i=iie(n,e.rtl,t),s={...n,...i};return Jt(lh,s),s}function tie(){return{af:!1,ar:!0,bg:!1,ca:!1,ckb:!1,cs:!1,de:!1,el:!1,en:!1,es:!1,et:!1,fa:!0,fi:!1,fr:!1,hr:!1,hu:!1,he:!0,id:!1,it:!1,ja:!1,km:!1,ko:!1,lv:!1,lt:!1,nl:!1,no:!1,pl:!1,pt:!1,ro:!1,ru:!1,sk:!1,sl:!1,srCyrl:!1,srLatn:!1,sv:!1,th:!1,tr:!1,az:!1,uk:!1,vi:!1,zhHans:!1,zhHant:!1}}function nie(t,e){const n=Y((e==null?void 0:e.rtl)??tie()),i=R(()=>n.value[t.current.value]??!1);return{isRtl:i,rtl:n,rtlClasses:R(()=>`v-locale--is-${i.value?"rtl":"ltr"}`)}}function iie(t,e,n){const i=R(()=>n.rtl??e.value[t.current.value]??!1);return{isRtl:i,rtl:e,rtlClasses:R(()=>`v-locale--is-${i.value?"rtl":"ltr"}`)}}function Ti(){const t=vt(lh);if(!t)throw new Error("[Vuetify] Could not find injected rtl instance");return{isRtl:t.isRtl,rtlClasses:t.rtlClasses}}const Yb={"001":1,AD:1,AE:6,AF:6,AG:0,AI:1,AL:1,AM:1,AN:1,AR:1,AS:0,AT:1,AU:1,AX:1,AZ:1,BA:1,BD:0,BE:1,BG:1,BH:6,BM:1,BN:1,BR:0,BS:0,BT:0,BW:0,BY:1,BZ:0,CA:0,CH:1,CL:1,CM:1,CN:1,CO:0,CR:1,CY:1,CZ:1,DE:1,DJ:6,DK:1,DM:0,DO:0,DZ:6,EC:1,EE:1,EG:6,ES:1,ET:0,FI:1,FJ:1,FO:1,FR:1,GB:1,"GB-alt-variant":0,GE:1,GF:1,GP:1,GR:1,GT:0,GU:0,HK:0,HN:0,HR:1,HU:1,ID:0,IE:1,IL:0,IN:0,IQ:6,IR:6,IS:1,IT:1,JM:0,JO:6,JP:0,KE:0,KG:1,KH:0,KR:0,KW:6,KZ:1,LA:0,LB:1,LI:1,LK:1,LT:1,LU:1,LV:1,LY:6,MC:1,MD:1,ME:1,MH:0,MK:1,MM:0,MN:1,MO:0,MQ:1,MT:0,MV:5,MX:0,MY:1,MZ:0,NI:0,NL:1,NO:1,NP:0,NZ:1,OM:6,PA:0,PE:0,PH:0,PK:0,PL:1,PR:0,PT:0,PY:0,QA:6,RE:1,RO:1,RS:1,RU:1,SA:0,SD:6,SE:1,SG:0,SI:1,SK:1,SM:1,SV:0,SY:6,TH:0,TJ:1,TM:1,TR:1,TT:0,TW:0,UA:1,UM:0,US:0,UY:1,UZ:1,VA:1,VE:0,VI:0,VN:1,WS:0,XK:1,YE:0,ZA:0,ZW:0};function sie(t,e,n){const i=[];let s=[];const r=Gj(t),a=qj(t),o=n??Yb[e.slice(-2).toUpperCase()]??0,l=(r.getDay()-o+7)%7,u=(a.getDay()-o+7)%7;for(let d=0;d<l;d++){const c=new Date(r);c.setDate(c.getDate()-(l-d)),s.push(c)}for(let d=1;d<=a.getDate();d++){const c=new Date(t.getFullYear(),t.getMonth(),d);s.push(c),s.length===7&&(i.push(s),s=[])}for(let d=1;d<7-u;d++){const c=new Date(a);c.setDate(c.getDate()+d),s.push(c)}return s.length>0&&i.push(s),i}function rie(t,e,n){const i=n??Yb[e.slice(-2).toUpperCase()]??0,s=new Date(t);for(;s.getDay()!==i;)s.setDate(s.getDate()-1);return s}function aie(t,e){const n=new Date(t),i=((Yb[e.slice(-2).toUpperCase()]??0)+6)%7;for(;n.getDay()!==i;)n.setDate(n.getDate()+1);return n}function Gj(t){return new Date(t.getFullYear(),t.getMonth(),1)}function qj(t){return new Date(t.getFullYear(),t.getMonth()+1,0)}function oie(t){const e=t.split("-").map(Number);return new Date(e[0],e[1]-1,e[2])}const lie=/^([12]\d{3}-([1-9]|0[1-9]|1[0-2])-([1-9]|0[1-9]|[12]\d|3[01]))$/;function Xj(t){if(t==null)return new Date;if(t instanceof Date)return t;if(typeof t=="string"){let e;if(lie.test(t))return oie(t);if(e=Date.parse(t),!isNaN(e))return new Date(e)}return null}const RO=new Date(2e3,0,2);function uie(t,e){const n=e??Yb[t.slice(-2).toUpperCase()]??0;return mr(7).map(i=>{const s=new Date(RO);return s.setDate(RO.getDate()+n+i),new Intl.DateTimeFormat(t,{weekday:"narrow"}).format(s)})}function cie(t,e,n,i){const s=Xj(t)??new Date,r=i==null?void 0:i[e];if(typeof r=="function")return r(s,e,n);let a={};switch(e){case"fullDate":a={year:"numeric",month:"long",day:"numeric"};break;case"fullDateWithWeekday":a={weekday:"long",year:"numeric",month:"long",day:"numeric"};break;case"normalDate":const o=s.getDate(),l=new Intl.DateTimeFormat(n,{month:"long"}).format(s);return`${o} ${l}`;case"normalDateWithWeekday":a={weekday:"short",day:"numeric",month:"short"};break;case"shortDate":a={month:"short",day:"numeric"};break;case"year":a={year:"numeric"};break;case"month":a={month:"long"};break;case"monthShort":a={month:"short"};break;case"monthAndYear":a={month:"long",year:"numeric"};break;case"monthAndDate":a={month:"long",day:"numeric"};break;case"weekday":a={weekday:"long"};break;case"weekdayShort":a={weekday:"short"};break;case"dayOfMonth":return new Intl.NumberFormat(n).format(s.getDate());case"hours12h":a={hour:"numeric",hour12:!0};break;case"hours24h":a={hour:"numeric",hour12:!1};break;case"minutes":a={minute:"numeric"};break;case"seconds":a={second:"numeric"};break;case"fullTime":a={hour:"numeric",minute:"numeric",second:"numeric",hour12:!0};break;case"fullTime12h":a={hour:"numeric",minute:"numeric",second:"numeric",hour12:!0};break;case"fullTime24h":a={hour:"numeric",minute:"numeric",second:"numeric",hour12:!1};break;case"fullDateTime":a={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",hour12:!0};break;case"fullDateTime12h":a={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",hour12:!0};break;case"fullDateTime24h":a={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",hour12:!1};break;case"keyboardDate":a={year:"numeric",month:"2-digit",day:"2-digit"};break;case"keyboardDateTime":a={year:"numeric",month:"2-digit",day:"2-digit",hour:"numeric",minute:"numeric",second:"numeric",hour12:!1};break;case"keyboardDateTime12h":a={year:"numeric",month:"2-digit",day:"2-digit",hour:"numeric",minute:"numeric",second:"numeric",hour12:!0};break;case"keyboardDateTime24h":a={year:"numeric",month:"2-digit",day:"2-digit",hour:"numeric",minute:"numeric",second:"numeric",hour12:!1};break;default:a=r??{timeZone:"UTC",timeZoneName:"short"}}return new Intl.DateTimeFormat(n,a).format(s)}function die(t,e){const n=t.toJsDate(e),i=n.getFullYear(),s=vO(String(n.getMonth()+1),2,"0"),r=vO(String(n.getDate()),2,"0");return`${i}-${s}-${r}`}function hie(t){const[e,n,i]=t.split("-").map(Number);return new Date(e,n-1,i)}function fie(t,e){const n=new Date(t);return n.setMinutes(n.getMinutes()+e),n}function mie(t,e){const n=new Date(t);return n.setHours(n.getHours()+e),n}function vie(t,e){const n=new Date(t);return n.setDate(n.getDate()+e),n}function gie(t,e){const n=new Date(t);return n.setDate(n.getDate()+e*7),n}function pie(t,e){const n=new Date(t);return n.setDate(1),n.setMonth(n.getMonth()+e),n}function _ie(t){return t.getFullYear()}function yie(t){return t.getMonth()}function bie(t){return t.getDate()}function wie(t){return new Date(t.getFullYear(),t.getMonth()+1,1)}function xie(t){return new Date(t.getFullYear(),t.getMonth()-1,1)}function Sie(t){return t.getHours()}function kie(t){return t.getMinutes()}function Tie(t){return new Date(t.getFullYear(),0,1)}function Pie(t){return new Date(t.getFullYear(),11,31)}function Cie(t,e){return j_(t,e[0])&&Die(t,e[1])}function Eie(t){const e=new Date(t);return e instanceof Date&&!isNaN(e.getTime())}function j_(t,e){return t.getTime()>e.getTime()}function Iie(t,e){return j_(Wx(t),Wx(e))}function Die(t,e){return t.getTime()<e.getTime()}function MO(t,e){return t.getTime()===e.getTime()}function Aie(t,e){return t.getDate()===e.getDate()&&t.getMonth()===e.getMonth()&&t.getFullYear()===e.getFullYear()}function Oie(t,e){return t.getMonth()===e.getMonth()&&t.getFullYear()===e.getFullYear()}function Rie(t,e){return t.getFullYear()===e.getFullYear()}function Mie(t,e,n){const i=new Date(t),s=new Date(e);switch(n){case"years":return i.getFullYear()-s.getFullYear();case"quarters":return Math.floor((i.getMonth()-s.getMonth()+(i.getFullYear()-s.getFullYear())*12)/4);case"months":return i.getMonth()-s.getMonth()+(i.getFullYear()-s.getFullYear())*12;case"weeks":return Math.floor((i.getTime()-s.getTime())/(1e3*60*60*24*7));case"days":return Math.floor((i.getTime()-s.getTime())/(1e3*60*60*24));case"hours":return Math.floor((i.getTime()-s.getTime())/(1e3*60*60));case"minutes":return Math.floor((i.getTime()-s.getTime())/(1e3*60));case"seconds":return Math.floor((i.getTime()-s.getTime())/1e3);default:return i.getTime()-s.getTime()}}function Vie(t,e){const n=new Date(t);return n.setHours(e),n}function Lie(t,e){const n=new Date(t);return n.setMinutes(e),n}function Nie(t,e){const n=new Date(t);return n.setMonth(e),n}function Fie(t,e){const n=new Date(t);return n.setDate(e),n}function Bie(t,e){const n=new Date(t);return n.setFullYear(e),n}function Wx(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate(),0,0,0,0)}function jie(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate(),23,59,59,999)}class $ie{constructor(e){this.locale=e.locale,this.formats=e.formats}date(e){return Xj(e)}toJsDate(e){return e}toISO(e){return die(this,e)}parseISO(e){return hie(e)}addMinutes(e,n){return fie(e,n)}addHours(e,n){return mie(e,n)}addDays(e,n){return vie(e,n)}addWeeks(e,n){return gie(e,n)}addMonths(e,n){return pie(e,n)}getWeekArray(e,n){return sie(e,this.locale,n?Number(n):void 0)}startOfWeek(e,n){return rie(e,this.locale,n?Number(n):void 0)}endOfWeek(e){return aie(e,this.locale)}startOfMonth(e){return Gj(e)}endOfMonth(e){return qj(e)}format(e,n){return cie(e,n,this.locale,this.formats)}isEqual(e,n){return MO(e,n)}isValid(e){return Eie(e)}isWithinRange(e,n){return Cie(e,n)}isAfter(e,n){return j_(e,n)}isAfterDay(e,n){return Iie(e,n)}isBefore(e,n){return!j_(e,n)&&!MO(e,n)}isSameDay(e,n){return Aie(e,n)}isSameMonth(e,n){return Oie(e,n)}isSameYear(e,n){return Rie(e,n)}setMinutes(e,n){return Lie(e,n)}setHours(e,n){return Vie(e,n)}setMonth(e,n){return Nie(e,n)}setDate(e,n){return Fie(e,n)}setYear(e,n){return Bie(e,n)}getDiff(e,n,i){return Mie(e,n,i)}getWeekdays(e){return uie(this.locale,e?Number(e):void 0)}getYear(e){return _ie(e)}getMonth(e){return yie(e)}getDate(e){return bie(e)}getNextMonth(e){return wie(e)}getPreviousMonth(e){return xie(e)}getHours(e){return Sie(e)}getMinutes(e){return kie(e)}startOfDay(e){return Wx(e)}endOfDay(e){return jie(e)}startOfYear(e){return Tie(e)}endOfYear(e){return Pie(e)}}const Kj=Symbol.for("vuetify:date-options"),VO=Symbol.for("vuetify:date-adapter");function Uie(t,e){const n=xs({adapter:$ie,locale:{af:"af-ZA",bg:"bg-BG",ca:"ca-ES",ckb:"",cs:"cs-CZ",de:"de-DE",el:"el-GR",en:"en-US",et:"et-EE",fa:"fa-IR",fi:"fi-FI",hr:"hr-HR",hu:"hu-HU",he:"he-IL",id:"id-ID",it:"it-IT",ja:"ja-JP",ko:"ko-KR",lv:"lv-LV",lt:"lt-LT",nl:"nl-NL",no:"no-NO",pl:"pl-PL",pt:"pt-PT",ro:"ro-RO",ru:"ru-RU",sk:"sk-SK",sl:"sl-SI",srCyrl:"sr-SP",srLatn:"sr-SP",sv:"sv-SE",th:"th-TH",tr:"tr-TR",az:"az-AZ",uk:"uk-UA",vi:"vi-VN",zhHans:"zh-CN",zhHant:"zh-TW"}},t);return{options:n,instance:Qj(n,e)}}function Qj(t,e){const n=vn(typeof t.adapter=="function"?new t.adapter({locale:t.locale[e.current.value]??e.current.value,formats:t.formats}):t.adapter);return we(e.current,i=>{n.locale=t.locale[i]??i??n.locale}),n}function Fr(){const t=vt(Kj);if(!t)throw new Error("[Vuetify] Could not find injected date options");const e=gn();return Qj(t,e)}function Hie(t,e){const n=t.toJsDate(e);let i=n.getFullYear(),s=new Date(i,0,1);if(n<s)i=i-1,s=new Date(i,0,1);else{const o=new Date(i+1,0,1);n>=o&&(i=i+1,s=o)}const r=Math.abs(n.getTime()-s.getTime()),a=Math.ceil(r/(1e3*60*60*24));return Math.floor(a/7)+1}const Gb=["sm","md","lg","xl","xxl"],Yx=Symbol.for("vuetify:display"),LO={mobileBreakpoint:"lg",thresholds:{xs:0,sm:600,md:960,lg:1280,xl:1920,xxl:2560}},zie=function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:LO;return xs(LO,t)};function NO(t){return Gt&&!t?window.innerWidth:typeof t=="object"&&t.clientWidth||0}function FO(t){return Gt&&!t?window.innerHeight:typeof t=="object"&&t.clientHeight||0}function BO(t){const e=Gt&&!t?window.navigator.userAgent:"ssr";function n(g){return!!e.match(g)}const i=n(/android/i),s=n(/iphone|ipad|ipod/i),r=n(/cordova/i),a=n(/electron/i),o=n(/chrome/i),l=n(/edge/i),u=n(/firefox/i),d=n(/opera/i),c=n(/win/i),f=n(/mac/i),h=n(/linux/i);return{android:i,ios:s,cordova:r,electron:a,chrome:o,edge:l,firefox:u,opera:d,win:c,mac:f,linux:h,touch:ane,ssr:e==="ssr"}}function Wie(t,e){const{thresholds:n,mobileBreakpoint:i}=zie(t),s=Me(FO(e)),r=Me(BO(e)),a=vn({}),o=Me(NO(e));function l(){s.value=FO(),o.value=NO()}function u(){l(),r.value=BO()}return yn(()=>{const d=o.value<n.sm,c=o.value<n.md&&!d,f=o.value<n.lg&&!(c||d),h=o.value<n.xl&&!(f||c||d),g=o.value<n.xxl&&!(h||f||c||d),v=o.value>=n.xxl,p=d?"xs":c?"sm":f?"md":h?"lg":g?"xl":"xxl",_=typeof i=="number"?i:n[i],b=o.value<_;a.xs=d,a.sm=c,a.md=f,a.lg=h,a.xl=g,a.xxl=v,a.smAndUp=!d,a.mdAndUp=!(d||c),a.lgAndUp=!(d||c||f),a.xlAndUp=!(d||c||f||h),a.smAndDown=!(f||h||g||v),a.mdAndDown=!(h||g||v),a.lgAndDown=!(g||v),a.xlAndDown=!v,a.name=p,a.height=s.value,a.width=o.value,a.mobile=b,a.mobileBreakpoint=i,a.platform=r.value,a.thresholds=n}),Gt&&window.addEventListener("resize",l,{passive:!0}),{...Kl(a),update:u,ssr:!!e}}const Mc=te({mobile:{type:Boolean,default:!1},mobileBreakpoint:[Number,String]},"display");function Sr(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Qa();const n=vt(Yx);if(!n)throw new Error("Could not find Vuetify display injection");const i=R(()=>{if(t.mobile!=null)return t.mobile;if(!t.mobileBreakpoint)return n.mobile.value;const r=typeof t.mobileBreakpoint=="number"?t.mobileBreakpoint:n.thresholds.value[t.mobileBreakpoint];return n.width.value<r}),s=R(()=>e?{[`${e}--mobile`]:i.value}:{});return{...n,displayClasses:s,mobile:i}}const Jj=Symbol.for("vuetify:goto");function Zj(){return{container:void 0,duration:300,layout:!1,offset:0,easing:"easeInOutCubic",patterns:{linear:t=>t,easeInQuad:t=>t**2,easeOutQuad:t=>t*(2-t),easeInOutQuad:t=>t<.5?2*t**2:-1+(4-2*t)*t,easeInCubic:t=>t**3,easeOutCubic:t=>--t**3+1,easeInOutCubic:t=>t<.5?4*t**3:(t-1)*(2*t-2)*(2*t-2)+1,easeInQuart:t=>t**4,easeOutQuart:t=>1- --t**4,easeInOutQuart:t=>t<.5?8*t**4:1-8*--t**4,easeInQuint:t=>t**5,easeOutQuint:t=>1+--t**5,easeInOutQuint:t=>t<.5?16*t**5:1+16*--t**5}}}function Yie(t){return OP(t)??(document.scrollingElement||document.body)}function OP(t){return typeof t=="string"?document.querySelector(t):xP(t)}function Ww(t,e,n){if(typeof t=="number")return e&&n?-t:t;let i=OP(t),s=0;for(;i;)s+=e?i.offsetLeft:i.offsetTop,i=i.offsetParent;return s}function Gie(t,e){return{rtl:e.isRtl,options:xs(Zj(),t)}}async function jO(t,e,n,i){const s=n?"scrollLeft":"scrollTop",r=xs((i==null?void 0:i.options)??Zj(),e),a=i==null?void 0:i.rtl.value,o=(typeof t=="number"?t:OP(t))??0,l=r.container==="parent"&&o instanceof HTMLElement?o.parentElement:Yie(r.container),u=typeof r.easing=="function"?r.easing:r.patterns[r.easing];if(!u)throw new TypeError(`Easing function "${r.easing}" not found.`);let d;if(typeof o=="number")d=Ww(o,n,a);else if(d=Ww(o,n,a)-Ww(l,n,a),r.layout){const g=window.getComputedStyle(o).getPropertyValue("--v-layout-top");g&&(d-=parseInt(g,10))}d+=r.offset,d=Xie(l,d,!!a,!!n);const c=l[s]??0;if(d===c)return Promise.resolve(d);const f=performance.now();return new Promise(h=>requestAnimationFrame(function g(v){const _=(v-f)/r.duration,b=Math.floor(c+(d-c)*u($n(_,0,1)));if(l[s]=b,_>=1&&Math.abs(b-l[s])<10)return h(d);if(_>2)return h(l[s]);requestAnimationFrame(g)}))}function qie(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const e=vt(Jj),{isRtl:n}=Ti();if(!e)throw new Error("[Vuetify] Could not find injected goto instance");const i={...e,rtl:R(()=>e.rtl.value||n.value)};async function s(r,a){return jO(r,xs(t,a),!1,i)}return s.horizontal=async(r,a)=>jO(r,xs(t,a),!0,i),s}function Xie(t,e,n,i){const{scrollWidth:s,scrollHeight:r}=t,[a,o]=t===document.scrollingElement?[window.innerWidth,window.innerHeight]:[t.offsetWidth,t.offsetHeight];let l,u;return i?n?(l=-(s-a),u=0):(l=0,u=s-a):(l=0,u=r+-o),Math.max(Math.min(e,u),l)}const Kie={collapse:"mdi-chevron-up",complete:"mdi-check",cancel:"mdi-close-circle",close:"mdi-close",delete:"mdi-close-circle",clear:"mdi-close-circle",success:"mdi-check-circle",info:"mdi-information",warning:"mdi-alert-circle",error:"mdi-close-circle",prev:"mdi-chevron-left",next:"mdi-chevron-right",checkboxOn:"mdi-checkbox-marked",checkboxOff:"mdi-checkbox-blank-outline",checkboxIndeterminate:"mdi-minus-box",delimiter:"mdi-circle",sortAsc:"mdi-arrow-up",sortDesc:"mdi-arrow-down",expand:"mdi-chevron-down",menu:"mdi-menu",subgroup:"mdi-menu-down",dropdown:"mdi-menu-down",radioOn:"mdi-radiobox-marked",radioOff:"mdi-radiobox-blank",edit:"mdi-pencil",ratingEmpty:"mdi-star-outline",ratingFull:"mdi-star",ratingHalf:"mdi-star-half-full",loading:"mdi-cached",first:"mdi-page-first",last:"mdi-page-last",unfold:"mdi-unfold-more-horizontal",file:"mdi-paperclip",plus:"mdi-plus",minus:"mdi-minus",calendar:"mdi-calendar",treeviewCollapse:"mdi-menu-down",treeviewExpand:"mdi-menu-right",eyeDropper:"mdi-eyedropper",upload:"mdi-cloud-upload"},Qie={component:t=>Ai(MP,{...t,class:"mdi"})},qe=[String,Function,Object,Array],Gx=Symbol.for("vuetify:icons"),qb=te({icon:{type:qe},tag:{type:String,required:!0}},"icon"),qx=pe()({name:"VComponentIcon",props:qb(),setup(t,e){let{slots:n}=e;return()=>{const i=t.icon;return m(t.tag,null,{default:()=>{var s;return[t.icon?m(i,null,null):(s=n.default)==null?void 0:s.call(n)]}})}}}),RP=xr({name:"VSvgIcon",inheritAttrs:!1,props:qb(),setup(t,e){let{attrs:n}=e;return()=>m(t.tag,J(n,{style:null}),{default:()=>[m("svg",{class:"v-icon__svg",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",role:"img","aria-hidden":"true"},[Array.isArray(t.icon)?t.icon.map(i=>Array.isArray(i)?m("path",{d:i[0],"fill-opacity":i[1]},null):m("path",{d:i},null)):m("path",{d:t.icon},null)])]})}}),Jie=xr({name:"VLigatureIcon",props:qb(),setup(t){return()=>m(t.tag,null,{default:()=>[t.icon]})}}),MP=xr({name:"VClassIcon",props:qb(),setup(t){return()=>m(t.tag,{class:t.icon},null)}});function Zie(){return{svg:{component:RP},class:{component:MP}}}function ese(t){const e=Zie(),n=(t==null?void 0:t.defaultSet)??"mdi";return n==="mdi"&&!e.mdi&&(e.mdi=Qie),xs({defaultSet:n,sets:e,aliases:{...Kie,vuetify:["M8.2241 14.2009L12 21L22 3H14.4459L8.2241 14.2009Z",["M7.26303 12.4733L7.00113 12L2 3H12.5261C12.5261 3 12.5261 3 12.5261 3L7.26303 12.4733Z",.6]],"vuetify-outline":"svg:M7.26 12.47 12.53 3H2L7.26 12.47ZM14.45 3 8.22 14.2 12 21 22 3H14.45ZM18.6 5 12 16.88 10.51 14.2 15.62 5ZM7.26 8.35 5.4 5H9.13L7.26 8.35Z","vuetify-play":["m6.376 13.184-4.11-7.192C1.505 4.66 2.467 3 4.003 3h8.532l-.953 1.576-.006.01-.396.677c-.429.732-.214 1.507.194 2.015.404.503 1.092.878 1.869.806a3.72 3.72 0 0 1 1.005.022c.276.053.434.143.523.237.138.146.38.635-.25 2.09-.893 1.63-1.553 1.722-1.847 1.677-.213-.033-.468-.158-.756-.406a4.95 4.95 0 0 1-.8-.927c-.39-.564-1.04-.84-1.66-.846-.625-.006-1.316.27-1.693.921l-.478.826-.911 1.506Z",["M9.093 11.552c.046-.079.144-.15.32-.148a.53.53 0 0 1 .43.207c.285.414.636.847 1.046 1.2.405.35.914.662 1.516.754 1.334.205 2.502-.698 3.48-2.495l.014-.028.013-.03c.687-1.574.774-2.852-.005-3.675-.37-.391-.861-.586-1.333-.676a5.243 5.243 0 0 0-1.447-.044c-.173.016-.393-.073-.54-.257-.145-.18-.127-.316-.082-.392l.393-.672L14.287 3h5.71c1.536 0 2.499 1.659 1.737 2.992l-7.997 13.996c-.768 1.344-2.706 1.344-3.473 0l-3.037-5.314 1.377-2.278.004-.006.004-.007.481-.831Z",.6]]}},t)}const tse=t=>{const e=vt(Gx);if(!e)throw new Error("Missing Vuetify Icons provide!");return{iconData:R(()=>{var l;const i=ie(t);if(!i)return{component:qx};let s=i;if(typeof s=="string"&&(s=s.trim(),s.startsWith("$")&&(s=(l=e.aliases)==null?void 0:l[s.slice(1)])),Array.isArray(s))return{component:RP,icon:s};if(typeof s!="string")return{component:qx,icon:s};const r=Object.keys(e.sets).find(u=>typeof s=="string"&&s.startsWith(`${u}:`)),a=r?s.slice(r.length+1):s;return{component:e.sets[r??e.defaultSet].component,icon:a}})}},jm=Symbol.for("vuetify:theme"),Ft=te({theme:String},"theme");function $O(){return{defaultTheme:"light",variations:{colors:[],lighten:0,darken:0},themes:{light:{dark:!1,colors:{background:"#FFFFFF",surface:"#FFFFFF","surface-bright":"#FFFFFF","surface-light":"#EEEEEE","surface-variant":"#424242","on-surface-variant":"#EEEEEE",primary:"#1867C0","primary-darken-1":"#1F5592",secondary:"#48A9A6","secondary-darken-1":"#018786",error:"#B00020",info:"#2196F3",success:"#4CAF50",warning:"#FB8C00"},variables:{"border-color":"#000000","border-opacity":.12,"high-emphasis-opacity":.87,"medium-emphasis-opacity":.6,"disabled-opacity":.38,"idle-opacity":.04,"hover-opacity":.04,"focus-opacity":.12,"selected-opacity":.08,"activated-opacity":.12,"pressed-opacity":.12,"dragged-opacity":.08,"theme-kbd":"#212529","theme-on-kbd":"#FFFFFF","theme-code":"#F5F5F5","theme-on-code":"#000000"}},dark:{dark:!0,colors:{background:"#121212",surface:"#212121","surface-bright":"#ccbfd6","surface-light":"#424242","surface-variant":"#a3a3a3","on-surface-variant":"#424242",primary:"#2196F3","primary-darken-1":"#277CC1",secondary:"#54B6B2","secondary-darken-1":"#48A9A6",error:"#CF6679",info:"#2196F3",success:"#4CAF50",warning:"#FB8C00"},variables:{"border-color":"#FFFFFF","border-opacity":.12,"high-emphasis-opacity":1,"medium-emphasis-opacity":.7,"disabled-opacity":.5,"idle-opacity":.1,"hover-opacity":.04,"focus-opacity":.12,"selected-opacity":.08,"activated-opacity":.12,"pressed-opacity":.16,"dragged-opacity":.08,"theme-kbd":"#212529","theme-on-kbd":"#FFFFFF","theme-code":"#343434","theme-on-code":"#CCCCCC"}}}}}function nse(){var i,s;let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:$O();const e=$O();if(!t)return{...e,isDisabled:!0};const n={};for(const[r,a]of Object.entries(t.themes??{})){const o=a.dark||r==="dark"?(i=e.themes)==null?void 0:i.dark:(s=e.themes)==null?void 0:s.light;n[r]=xs(o,a)}return xs(e,{...t,themes:n})}function ise(t){const e=nse(t),n=Y(e.defaultTheme),i=Y(e.themes),s=R(()=>{const d={};for(const[c,f]of Object.entries(i.value)){const h=d[c]={...f,colors:{...f.colors}};if(e.variations)for(const g of e.variations.colors){const v=h.colors[g];if(v)for(const p of["lighten","darken"]){const _=p==="lighten"?Bne:jne;for(const b of mr(e.variations[p],1))h.colors[`${g}-${p}-${b}`]=Lj(_(Or(v),b))}}for(const g of Object.keys(h.colors)){if(/^on-[a-z]/.test(g)||h.colors[`on-${g}`])continue;const v=`on-${g}`,p=Or(h.colors[g]);h.colors[v]=jj(p)}}return d}),r=R(()=>s.value[n.value]),a=R(()=>{var g;const d=[];(g=r.value)!=null&&g.dark&&gu(d,":root",["color-scheme: dark"]),gu(d,":root",UO(r.value));for(const[v,p]of Object.entries(s.value))gu(d,`.v-theme--${v}`,[`color-scheme: ${p.dark?"dark":"normal"}`,...UO(p)]);const c=[],f=[],h=new Set(Object.values(s.value).flatMap(v=>Object.keys(v.colors)));for(const v of h)/^on-[a-z]/.test(v)?gu(f,`.${v}`,[`color: rgb(var(--v-theme-${v})) !important`]):(gu(c,`.bg-${v}`,[`--v-theme-overlay-multiplier: var(--v-theme-${v}-overlay-multiplier)`,`background-color: rgb(var(--v-theme-${v})) !important`,`color: rgb(var(--v-theme-on-${v})) !important`]),gu(f,`.text-${v}`,[`color: rgb(var(--v-theme-${v})) !important`]),gu(f,`.border-${v}`,[`--v-border-color: var(--v-theme-${v})`]));return d.push(...c,...f),d.map((v,p)=>p===0?v:`    ${v}`).join("")});function o(){return{style:[{children:a.value,id:"vuetify-theme-stylesheet",nonce:e.cspNonce||!1}]}}function l(d){if(e.isDisabled)return;const c=d._context.provides.usehead;if(c)if(c.push){const f=c.push(o);Gt&&we(a,()=>{f.patch(o)})}else Gt?(c.addHeadObjs(R(o)),yn(()=>c.updateDOM())):c.addHeadObjs(o());else{let h=function(){if(typeof document<"u"&&!f){const g=document.createElement("style");g.type="text/css",g.id="vuetify-theme-stylesheet",e.cspNonce&&g.setAttribute("nonce",e.cspNonce),f=g,document.head.appendChild(f)}f&&(f.innerHTML=a.value)},f=Gt?document.getElementById("vuetify-theme-stylesheet"):null;Gt?we(a,h,{immediate:!0}):h()}}const u=R(()=>e.isDisabled?void 0:`v-theme--${n.value}`);return{install:l,isDisabled:e.isDisabled,name:n,themes:i,current:r,computedThemes:s,themeClasses:u,styles:a,global:{name:n,current:r}}}function Qt(t){Gn("provideTheme");const e=vt(jm,null);if(!e)throw new Error("Could not find Vuetify theme injection");const n=R(()=>t.theme??e.name.value),i=R(()=>e.themes.value[n.value]),s=R(()=>e.isDisabled?void 0:`v-theme--${n.value}`),r={...e,name:n,current:i,themeClasses:s};return Jt(jm,r),r}function Gv(){Gn("useTheme");const t=vt(jm,null);if(!t)throw new Error("Could not find Vuetify theme injection");return t}function gu(t,e,n){t.push(`${e} {
`,...n.map(i=>`  ${i};
`),`}
`)}function UO(t){const e=t.dark?2:1,n=t.dark?1:2,i=[];for(const[s,r]of Object.entries(t.colors)){const a=Or(r);i.push(`--v-theme-${s}: ${a.r},${a.g},${a.b}`),s.startsWith("on-")||i.push(`--v-theme-${s}-overlay-multiplier: ${zx(r)>.18?e:n}`)}for(const[s,r]of Object.entries(t.variables)){const a=typeof r=="string"&&r.startsWith("#")?Or(r):void 0,o=a?`${a.r}, ${a.g}, ${a.b}`:void 0;i.push(`--v-${s}: ${o??r}`)}return i}function ha(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"content";const n=N_(),i=Y();if(Gt){const s=new ResizeObserver(r=>{t==null||t(r,s),r.length&&(e==="content"?i.value=r[0].contentRect:i.value=r[0].target.getBoundingClientRect())});Mi(()=>{s.disconnect()}),we(()=>n.el,(r,a)=>{a&&(s.unobserve(a),i.value=void 0),r&&s.observe(r)},{flush:"post"})}return{resizeRef:n,contentRect:kh(i)}}const $m=Symbol.for("vuetify:layout"),e$=Symbol.for("vuetify:layout-item"),HO=1e3,t$=te({overlaps:{type:Array,default:()=>[]},fullHeight:Boolean},"layout"),Vc=te({name:{type:String},order:{type:[Number,String],default:0},absolute:Boolean},"layout-item");function n$(){const t=vt($m);if(!t)throw new Error("[Vuetify] Could not find injected layout");return{getLayoutItem:t.getLayoutItem,mainRect:t.mainRect,mainStyles:t.mainStyles}}function Lc(t){const e=vt($m);if(!e)throw new Error("[Vuetify] Could not find injected layout");const n=t.id??`layout-item-${zi()}`,i=Gn("useLayoutItem");Jt(e$,{id:n});const s=Me(!1);Bk(()=>s.value=!0),pL(()=>s.value=!1);const{layoutItemStyles:r,layoutItemScrimStyles:a}=e.register(i,{...t,active:R(()=>s.value?!1:t.active.value),id:n});return Mi(()=>e.unregister(n)),{layoutItemStyles:r,layoutRect:e.layoutRect,layoutItemScrimStyles:a}}const sse=(t,e,n,i)=>{let s={top:0,left:0,right:0,bottom:0};const r=[{id:"",layer:{...s}}];for(const a of t){const o=e.get(a),l=n.get(a),u=i.get(a);if(!o||!l||!u)continue;const d={...s,[o.value]:parseInt(s[o.value],10)+(u.value?parseInt(l.value,10):0)};r.push({id:a,layer:d}),s=d}return r};function i$(t){const e=vt($m,null),n=R(()=>e?e.rootZIndex.value-100:HO),i=Y([]),s=vn(new Map),r=vn(new Map),a=vn(new Map),o=vn(new Map),l=vn(new Map),{resizeRef:u,contentRect:d}=ha(),c=R(()=>{const E=new Map,T=t.overlaps??[];for(const S of T.filter(w=>w.includes(":"))){const[w,P]=S.split(":");if(!i.value.includes(w)||!i.value.includes(P))continue;const C=s.get(w),D=s.get(P),A=r.get(w),N=r.get(P);!C||!D||!A||!N||(E.set(P,{position:C.value,amount:parseInt(A.value,10)}),E.set(w,{position:D.value,amount:-parseInt(N.value,10)}))}return E}),f=R(()=>{const E=[...new Set([...a.values()].map(S=>S.value))].sort((S,w)=>S-w),T=[];for(const S of E){const w=i.value.filter(P=>{var C;return((C=a.get(P))==null?void 0:C.value)===S});T.push(...w)}return sse(T,s,r,o)}),h=R(()=>!Array.from(l.values()).some(E=>E.value)),g=R(()=>f.value[f.value.length-1].layer),v=R(()=>({"--v-layout-left":Ne(g.value.left),"--v-layout-right":Ne(g.value.right),"--v-layout-top":Ne(g.value.top),"--v-layout-bottom":Ne(g.value.bottom),...h.value?void 0:{transition:"none"}})),p=R(()=>f.value.slice(1).map((E,T)=>{let{id:S}=E;const{layer:w}=f.value[T],P=r.get(S),C=s.get(S);return{id:S,...w,size:Number(P.value),position:C.value}})),_=E=>p.value.find(T=>T.id===E),b=Gn("createLayout"),x=Me(!1);Pt(()=>{x.value=!0}),Jt($m,{register:(E,T)=>{let{id:S,order:w,position:P,layoutSize:C,elementSize:D,active:A,disableTransitions:N,absolute:B}=T;a.set(S,w),s.set(S,P),r.set(S,C),o.set(S,A),N&&l.set(S,N);const G=bd(e$,b==null?void 0:b.vnode).indexOf(E);G>-1?i.value.splice(G,0,S):i.value.push(S);const z=R(()=>p.value.findIndex(ee=>ee.id===S)),X=R(()=>n.value+f.value.length*2-z.value*2),W=R(()=>{const ee=P.value==="left"||P.value==="right",le=P.value==="right",ue=P.value==="bottom",ce=D.value??C.value,se=ce===0?"%":"px",$={[P.value]:0,zIndex:X.value,transform:`translate${ee?"X":"Y"}(${(A.value?0:-(ce===0?100:ce))*(le||ue?-1:1)}${se})`,position:B.value||n.value!==HO?"absolute":"fixed",...h.value?void 0:{transition:"none"}};if(!x.value)return $;const q=p.value[z.value];if(!q)throw new Error(`[Vuetify] Could not find layout item "${S}"`);const re=c.value.get(S);return re&&(q[re.position]+=re.amount),{...$,height:ee?`calc(100% - ${q.top}px - ${q.bottom}px)`:D.value?`${D.value}px`:void 0,left:le?void 0:`${q.left}px`,right:le?`${q.right}px`:void 0,top:P.value!=="bottom"?`${q.top}px`:void 0,bottom:P.value!=="top"?`${q.bottom}px`:void 0,width:ee?D.value?`${D.value}px`:void 0:`calc(100% - ${q.left}px - ${q.right}px)`}}),Z=R(()=>({zIndex:X.value-1}));return{layoutItemStyles:W,layoutItemScrimStyles:Z,zIndex:X}},unregister:E=>{a.delete(E),s.delete(E),r.delete(E),o.delete(E),l.delete(E),i.value=i.value.filter(T=>T!==E)},mainRect:g,mainStyles:v,getLayoutItem:_,items:p,layoutRect:d,rootZIndex:n});const k=R(()=>["v-layout",{"v-layout--full-height":t.fullHeight}]),I=R(()=>({zIndex:e?n.value:void 0,position:e?"relative":void 0,overflow:e?"hidden":void 0}));return{layoutClasses:k,layoutStyles:I,getLayoutItem:_,items:p,layoutRect:d,layoutRef:u}}function s$(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{blueprint:e,...n}=t,i=xs(e,n),{aliases:s={},components:r={},directives:a={}}=i,o=Hne(i.defaults),l=Wie(i.display,i.ssr),u=ise(i.theme),d=ese(i.icons),c=Zne(i.locale),f=Uie(i.date,c),h=Gie(i.goTo,c);return{install:v=>{for(const p in a)v.directive(p,a[p]);for(const p in r)v.component(p,r[p]);for(const p in s)v.component(p,xr({...s[p],name:p,aliasName:s[p].name}));if(u.install(v),v.provide(oh,o),v.provide(Yx,l),v.provide(jm,u),v.provide(Gx,d),v.provide(lh,c),v.provide(Kj,f.options),v.provide(VO,f.instance),v.provide(Jj,h),Gt&&i.ssr)if(v.$nuxt)v.$nuxt.hook("app:suspense:resolve",()=>{l.update()});else{const{mount:p}=v;v.mount=function(){const _=p(...arguments);return pt(()=>l.update()),v.mount=p,_}}zi.reset(),v.mixin({computed:{$vuetify(){return vn({defaults:id.call(this,oh),display:id.call(this,Yx),theme:id.call(this,jm),icons:id.call(this,Gx),locale:id.call(this,lh),date:id.call(this,VO)})}}})},defaults:o,display:l,theme:u,icons:d,locale:c,date:f,goTo:h}}const rse="3.7.6";s$.version=rse;function id(t){var i,s;const e=this.$,n=((i=e.parent)==null?void 0:i.provides)??((s=e.vnode.appContext)==null?void 0:s.provides);if(n&&t in n)return n[t]}class Qs{static getItem(e){try{const n=localStorage.getItem(e);return n?JSON.parse(n):null}catch(n){return console.error(`Error retrieving item from localStorage: ${n}`),null}}static setItem(e,n){try{const i=JSON.stringify(n);localStorage.setItem(e,i)}catch(i){console.error(`Error setting item in localStorage: ${i}`)}}static removeItem(e){localStorage.removeItem(e)}static clear(){localStorage.clear()}}function $_(t){"@babel/helpers - typeof";return $_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$_(t)}var ase=/^\s+/,ose=/\s+$/;function ot(t,e){if(t=t||"",e=e||{},t instanceof ot)return t;if(!(this instanceof ot))return new ot(t,e);var n=lse(t);this._originalInput=t,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=Math.round(100*this._a)/100,this._format=e.format||n.format,this._gradientType=e.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=n.ok}ot.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(e.r*299+e.g*587+e.b*114)/1e3},getLuminance:function(){var e=this.toRgb(),n,i,s,r,a,o;return n=e.r/255,i=e.g/255,s=e.b/255,n<=.03928?r=n/12.92:r=Math.pow((n+.055)/1.055,2.4),i<=.03928?a=i/12.92:a=Math.pow((i+.055)/1.055,2.4),s<=.03928?o=s/12.92:o=Math.pow((s+.055)/1.055,2.4),.2126*r+.7152*a+.0722*o},setAlpha:function(e){return this._a=r$(e),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var e=WO(this._r,this._g,this._b);return{h:e.h*360,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=WO(this._r,this._g,this._b),n=Math.round(e.h*360),i=Math.round(e.s*100),s=Math.round(e.v*100);return this._a==1?"hsv("+n+", "+i+"%, "+s+"%)":"hsva("+n+", "+i+"%, "+s+"%, "+this._roundA+")"},toHsl:function(){var e=zO(this._r,this._g,this._b);return{h:e.h*360,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=zO(this._r,this._g,this._b),n=Math.round(e.h*360),i=Math.round(e.s*100),s=Math.round(e.l*100);return this._a==1?"hsl("+n+", "+i+"%, "+s+"%)":"hsla("+n+", "+i+"%, "+s+"%, "+this._roundA+")"},toHex:function(e){return YO(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return hse(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(zn(this._r,255)*100)+"%",g:Math.round(zn(this._g,255)*100)+"%",b:Math.round(zn(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(zn(this._r,255)*100)+"%, "+Math.round(zn(this._g,255)*100)+"%, "+Math.round(zn(this._b,255)*100)+"%)":"rgba("+Math.round(zn(this._r,255)*100)+"%, "+Math.round(zn(this._g,255)*100)+"%, "+Math.round(zn(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:kse[YO(this._r,this._g,this._b,!0)]||!1},toFilter:function(e){var n="#"+GO(this._r,this._g,this._b,this._a),i=n,s=this._gradientType?"GradientType = 1, ":"";if(e){var r=ot(e);i="#"+GO(r._r,r._g,r._b,r._a)}return"progid:DXImageTransform.Microsoft.gradient("+s+"startColorstr="+n+",endColorstr="+i+")"},toString:function(e){var n=!!e;e=e||this._format;var i=!1,s=this._a<1&&this._a>=0,r=!n&&s&&(e==="hex"||e==="hex6"||e==="hex3"||e==="hex4"||e==="hex8"||e==="name");return r?e==="name"&&this._a===0?this.toName():this.toRgbString():(e==="rgb"&&(i=this.toRgbString()),e==="prgb"&&(i=this.toPercentageRgbString()),(e==="hex"||e==="hex6")&&(i=this.toHexString()),e==="hex3"&&(i=this.toHexString(!0)),e==="hex4"&&(i=this.toHex8String(!0)),e==="hex8"&&(i=this.toHex8String()),e==="name"&&(i=this.toName()),e==="hsl"&&(i=this.toHslString()),e==="hsv"&&(i=this.toHsvString()),i||this.toHexString())},clone:function(){return ot(this.toString())},_applyModification:function(e,n){var i=e.apply(null,[this].concat([].slice.call(n)));return this._r=i._r,this._g=i._g,this._b=i._b,this.setAlpha(i._a),this},lighten:function(){return this._applyModification(gse,arguments)},brighten:function(){return this._applyModification(pse,arguments)},darken:function(){return this._applyModification(_se,arguments)},desaturate:function(){return this._applyModification(fse,arguments)},saturate:function(){return this._applyModification(mse,arguments)},greyscale:function(){return this._applyModification(vse,arguments)},spin:function(){return this._applyModification(yse,arguments)},_applyCombination:function(e,n){return e.apply(null,[this].concat([].slice.call(n)))},analogous:function(){return this._applyCombination(xse,arguments)},complement:function(){return this._applyCombination(bse,arguments)},monochromatic:function(){return this._applyCombination(Sse,arguments)},splitcomplement:function(){return this._applyCombination(wse,arguments)},triad:function(){return this._applyCombination(qO,[3])},tetrad:function(){return this._applyCombination(qO,[4])}};ot.fromRatio=function(t,e){if($_(t)=="object"){var n={};for(var i in t)t.hasOwnProperty(i)&&(i==="a"?n[i]=t[i]:n[i]=Vf(t[i]));t=n}return ot(t,e)};function lse(t){var e={r:0,g:0,b:0},n=1,i=null,s=null,r=null,a=!1,o=!1;return typeof t=="string"&&(t=Ese(t)),$_(t)=="object"&&(ao(t.r)&&ao(t.g)&&ao(t.b)?(e=use(t.r,t.g,t.b),a=!0,o=String(t.r).substr(-1)==="%"?"prgb":"rgb"):ao(t.h)&&ao(t.s)&&ao(t.v)?(i=Vf(t.s),s=Vf(t.v),e=dse(t.h,i,s),a=!0,o="hsv"):ao(t.h)&&ao(t.s)&&ao(t.l)&&(i=Vf(t.s),r=Vf(t.l),e=cse(t.h,i,r),a=!0,o="hsl"),t.hasOwnProperty("a")&&(n=t.a)),n=r$(n),{ok:a,format:t.format||o,r:Math.min(255,Math.max(e.r,0)),g:Math.min(255,Math.max(e.g,0)),b:Math.min(255,Math.max(e.b,0)),a:n}}function use(t,e,n){return{r:zn(t,255)*255,g:zn(e,255)*255,b:zn(n,255)*255}}function zO(t,e,n){t=zn(t,255),e=zn(e,255),n=zn(n,255);var i=Math.max(t,e,n),s=Math.min(t,e,n),r,a,o=(i+s)/2;if(i==s)r=a=0;else{var l=i-s;switch(a=o>.5?l/(2-i-s):l/(i+s),i){case t:r=(e-n)/l+(e<n?6:0);break;case e:r=(n-t)/l+2;break;case n:r=(t-e)/l+4;break}r/=6}return{h:r,s:a,l:o}}function cse(t,e,n){var i,s,r;t=zn(t,360),e=zn(e,100),n=zn(n,100);function a(u,d,c){return c<0&&(c+=1),c>1&&(c-=1),c<1/6?u+(d-u)*6*c:c<1/2?d:c<2/3?u+(d-u)*(2/3-c)*6:u}if(e===0)i=s=r=n;else{var o=n<.5?n*(1+e):n+e-n*e,l=2*n-o;i=a(l,o,t+1/3),s=a(l,o,t),r=a(l,o,t-1/3)}return{r:i*255,g:s*255,b:r*255}}function WO(t,e,n){t=zn(t,255),e=zn(e,255),n=zn(n,255);var i=Math.max(t,e,n),s=Math.min(t,e,n),r,a,o=i,l=i-s;if(a=i===0?0:l/i,i==s)r=0;else{switch(i){case t:r=(e-n)/l+(e<n?6:0);break;case e:r=(n-t)/l+2;break;case n:r=(t-e)/l+4;break}r/=6}return{h:r,s:a,v:o}}function dse(t,e,n){t=zn(t,360)*6,e=zn(e,100),n=zn(n,100);var i=Math.floor(t),s=t-i,r=n*(1-e),a=n*(1-s*e),o=n*(1-(1-s)*e),l=i%6,u=[n,a,r,r,o,n][l],d=[o,n,n,a,r,r][l],c=[r,r,o,n,n,a][l];return{r:u*255,g:d*255,b:c*255}}function YO(t,e,n,i){var s=[Kr(Math.round(t).toString(16)),Kr(Math.round(e).toString(16)),Kr(Math.round(n).toString(16))];return i&&s[0].charAt(0)==s[0].charAt(1)&&s[1].charAt(0)==s[1].charAt(1)&&s[2].charAt(0)==s[2].charAt(1)?s[0].charAt(0)+s[1].charAt(0)+s[2].charAt(0):s.join("")}function hse(t,e,n,i,s){var r=[Kr(Math.round(t).toString(16)),Kr(Math.round(e).toString(16)),Kr(Math.round(n).toString(16)),Kr(a$(i))];return s&&r[0].charAt(0)==r[0].charAt(1)&&r[1].charAt(0)==r[1].charAt(1)&&r[2].charAt(0)==r[2].charAt(1)&&r[3].charAt(0)==r[3].charAt(1)?r[0].charAt(0)+r[1].charAt(0)+r[2].charAt(0)+r[3].charAt(0):r.join("")}function GO(t,e,n,i){var s=[Kr(a$(i)),Kr(Math.round(t).toString(16)),Kr(Math.round(e).toString(16)),Kr(Math.round(n).toString(16))];return s.join("")}ot.equals=function(t,e){return!t||!e?!1:ot(t).toRgbString()==ot(e).toRgbString()};ot.random=function(){return ot.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};function fse(t,e){e=e===0?0:e||10;var n=ot(t).toHsl();return n.s-=e/100,n.s=Xb(n.s),ot(n)}function mse(t,e){e=e===0?0:e||10;var n=ot(t).toHsl();return n.s+=e/100,n.s=Xb(n.s),ot(n)}function vse(t){return ot(t).desaturate(100)}function gse(t,e){e=e===0?0:e||10;var n=ot(t).toHsl();return n.l+=e/100,n.l=Xb(n.l),ot(n)}function pse(t,e){e=e===0?0:e||10;var n=ot(t).toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(255*-(e/100)))),n.g=Math.max(0,Math.min(255,n.g-Math.round(255*-(e/100)))),n.b=Math.max(0,Math.min(255,n.b-Math.round(255*-(e/100)))),ot(n)}function _se(t,e){e=e===0?0:e||10;var n=ot(t).toHsl();return n.l-=e/100,n.l=Xb(n.l),ot(n)}function yse(t,e){var n=ot(t).toHsl(),i=(n.h+e)%360;return n.h=i<0?360+i:i,ot(n)}function bse(t){var e=ot(t).toHsl();return e.h=(e.h+180)%360,ot(e)}function qO(t,e){if(isNaN(e)||e<=0)throw new Error("Argument to polyad must be a positive number");for(var n=ot(t).toHsl(),i=[ot(t)],s=360/e,r=1;r<e;r++)i.push(ot({h:(n.h+r*s)%360,s:n.s,l:n.l}));return i}function wse(t){var e=ot(t).toHsl(),n=e.h;return[ot(t),ot({h:(n+72)%360,s:e.s,l:e.l}),ot({h:(n+216)%360,s:e.s,l:e.l})]}function xse(t,e,n){e=e||6,n=n||30;var i=ot(t).toHsl(),s=360/n,r=[ot(t)];for(i.h=(i.h-(s*e>>1)+720)%360;--e;)i.h=(i.h+s)%360,r.push(ot(i));return r}function Sse(t,e){e=e||6;for(var n=ot(t).toHsv(),i=n.h,s=n.s,r=n.v,a=[],o=1/e;e--;)a.push(ot({h:i,s,v:r})),r=(r+o)%1;return a}ot.mix=function(t,e,n){n=n===0?0:n||50;var i=ot(t).toRgb(),s=ot(e).toRgb(),r=n/100,a={r:(s.r-i.r)*r+i.r,g:(s.g-i.g)*r+i.g,b:(s.b-i.b)*r+i.b,a:(s.a-i.a)*r+i.a};return ot(a)};ot.readability=function(t,e){var n=ot(t),i=ot(e);return(Math.max(n.getLuminance(),i.getLuminance())+.05)/(Math.min(n.getLuminance(),i.getLuminance())+.05)};ot.isReadable=function(t,e,n){var i=ot.readability(t,e),s,r;switch(r=!1,s=Ise(n),s.level+s.size){case"AAsmall":case"AAAlarge":r=i>=4.5;break;case"AAlarge":r=i>=3;break;case"AAAsmall":r=i>=7;break}return r};ot.mostReadable=function(t,e,n){var i=null,s=0,r,a,o,l;n=n||{},a=n.includeFallbackColors,o=n.level,l=n.size;for(var u=0;u<e.length;u++)r=ot.readability(t,e[u]),r>s&&(s=r,i=ot(e[u]));return ot.isReadable(t,i,{level:o,size:l})||!a?i:(n.includeFallbackColors=!1,ot.mostReadable(t,["#fff","#000"],n))};var Xx=ot.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},kse=ot.hexNames=Tse(Xx);function Tse(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function r$(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function zn(t,e){Pse(t)&&(t="100%");var n=Cse(t);return t=Math.min(e,Math.max(0,parseFloat(t))),n&&(t=parseInt(t*e,10)/100),Math.abs(t-e)<1e-6?1:t%e/parseFloat(e)}function Xb(t){return Math.min(1,Math.max(0,t))}function ar(t){return parseInt(t,16)}function Pse(t){return typeof t=="string"&&t.indexOf(".")!=-1&&parseFloat(t)===1}function Cse(t){return typeof t=="string"&&t.indexOf("%")!=-1}function Kr(t){return t.length==1?"0"+t:""+t}function Vf(t){return t<=1&&(t=t*100+"%"),t}function a$(t){return Math.round(parseFloat(t)*255).toString(16)}function XO(t){return ar(t)/255}var $r=function(){var t="[-\\+]?\\d+%?",e="[-\\+]?\\d*\\.\\d+%?",n="(?:"+e+")|(?:"+t+")",i="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?",s="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?";return{CSS_UNIT:new RegExp(n),rgb:new RegExp("rgb"+i),rgba:new RegExp("rgba"+s),hsl:new RegExp("hsl"+i),hsla:new RegExp("hsla"+s),hsv:new RegExp("hsv"+i),hsva:new RegExp("hsva"+s),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function ao(t){return!!$r.CSS_UNIT.exec(t)}function Ese(t){t=t.replace(ase,"").replace(ose,"").toLowerCase();var e=!1;if(Xx[t])t=Xx[t],e=!0;else if(t=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var n;return(n=$r.rgb.exec(t))?{r:n[1],g:n[2],b:n[3]}:(n=$r.rgba.exec(t))?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=$r.hsl.exec(t))?{h:n[1],s:n[2],l:n[3]}:(n=$r.hsla.exec(t))?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=$r.hsv.exec(t))?{h:n[1],s:n[2],v:n[3]}:(n=$r.hsva.exec(t))?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=$r.hex8.exec(t))?{r:ar(n[1]),g:ar(n[2]),b:ar(n[3]),a:XO(n[4]),format:e?"name":"hex8"}:(n=$r.hex6.exec(t))?{r:ar(n[1]),g:ar(n[2]),b:ar(n[3]),format:e?"name":"hex"}:(n=$r.hex4.exec(t))?{r:ar(n[1]+""+n[1]),g:ar(n[2]+""+n[2]),b:ar(n[3]+""+n[3]),a:XO(n[4]+""+n[4]),format:e?"name":"hex8"}:(n=$r.hex3.exec(t))?{r:ar(n[1]+""+n[1]),g:ar(n[2]+""+n[2]),b:ar(n[3]+""+n[3]),format:e?"name":"hex"}:!1}function Ise(t){var e,n;return t=t||{level:"AA",size:"small"},e=(t.level||"AA").toUpperCase(),n=(t.size||"small").toLowerCase(),e!=="AA"&&e!=="AAA"&&(e="AA"),n!=="small"&&n!=="large"&&(n="small"),{level:e,size:n}}var Kb,Dt,o$,l$,Tu,KO,u$,Kx,c$,VP,Qx,Jx,d$,Um={},h$=[],Dse=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,Qb=Array.isArray;function _l(t,e){for(var n in e)t[n]=e[n];return t}function LP(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function oc(t,e,n){var i,s,r,a={};for(r in e)r=="key"?i=e[r]:r=="ref"?s=e[r]:a[r]=e[r];if(arguments.length>2&&(a.children=arguments.length>3?Kb.call(arguments,2):n),typeof t=="function"&&t.defaultProps!=null)for(r in t.defaultProps)a[r]===void 0&&(a[r]=t.defaultProps[r]);return Mp(t,a,i,s,null)}function Mp(t,e,n,i,s){var r={type:t,props:e,key:n,ref:i,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:s??++o$,__i:-1,__u:0};return s==null&&Dt.vnode!=null&&Dt.vnode(r),r}function Nt(t){return t.children}function La(t,e){this.props=t,this.context=e}function uh(t,e){if(e==null)return t.__?uh(t.__,t.__i+1):null;for(var n;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null)return n.__e;return typeof t.type=="function"?uh(t):null}function f$(t){var e,n;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null){t.__e=t.__c.base=n.__e;break}return f$(t)}}function Zx(t){(!t.__d&&(t.__d=!0)&&Tu.push(t)&&!U_.__r++||KO!==Dt.debounceRendering)&&((KO=Dt.debounceRendering)||u$)(U_)}function U_(){var t,e,n,i,s,r,a,o;for(Tu.sort(Kx);t=Tu.shift();)t.__d&&(e=Tu.length,i=void 0,r=(s=(n=t).__v).__e,a=[],o=[],n.__P&&((i=_l({},s)).__v=s.__v+1,Dt.vnode&&Dt.vnode(i),NP(n.__P,i,s,n.__n,n.__P.namespaceURI,32&s.__u?[r]:null,a,r??uh(s),!!(32&s.__u),o),i.__v=s.__v,i.__.__k[i.__i]=i,g$(a,i,o),i.__e!=r&&f$(i)),Tu.length>e&&Tu.sort(Kx));U_.__r=0}function m$(t,e,n,i,s,r,a,o,l,u,d){var c,f,h,g,v,p,_=i&&i.__k||h$,b=e.length;for(l=Ase(n,e,_,l,b),c=0;c<b;c++)(h=n.__k[c])!=null&&(f=h.__i===-1?Um:_[h.__i]||Um,h.__i=c,p=NP(t,h,f,s,r,a,o,l,u,d),g=h.__e,h.ref&&f.ref!=h.ref&&(f.ref&&FP(f.ref,null,h),d.push(h.ref,h.__c||g,h)),v==null&&g!=null&&(v=g),4&h.__u||f.__k===h.__k?l=v$(h,l,t):typeof h.type=="function"&&p!==void 0?l=p:g&&(l=g.nextSibling),h.__u&=-7);return n.__e=v,l}function Ase(t,e,n,i,s){var r,a,o,l,u,d=n.length,c=d,f=0;for(t.__k=new Array(s),r=0;r<s;r++)(a=e[r])!=null&&typeof a!="boolean"&&typeof a!="function"?(l=r+f,(a=t.__k[r]=typeof a=="string"||typeof a=="number"||typeof a=="bigint"||a.constructor==String?Mp(null,a,null,null,null):Qb(a)?Mp(Nt,{children:a},null,null,null):a.constructor===void 0&&a.__b>0?Mp(a.type,a.props,a.key,a.ref?a.ref:null,a.__v):a).__=t,a.__b=t.__b+1,o=null,(u=a.__i=Ose(a,n,l,c))!==-1&&(c--,(o=n[u])&&(o.__u|=2)),o==null||o.__v===null?(u==-1&&f--,typeof a.type!="function"&&(a.__u|=4)):u!=l&&(u==l-1?f--:u==l+1?f++:(u>l?f--:f++,a.__u|=4))):t.__k[r]=null;if(c)for(r=0;r<d;r++)(o=n[r])!=null&&!(2&o.__u)&&(o.__e==i&&(i=uh(o)),p$(o,o));return i}function v$(t,e,n){var i,s;if(typeof t.type=="function"){for(i=t.__k,s=0;i&&s<i.length;s++)i[s]&&(i[s].__=t,e=v$(i[s],e,n));return e}t.__e!=e&&(e&&t.type&&!n.contains(e)&&(e=uh(t)),n.insertBefore(t.__e,e||null),e=t.__e);do e=e&&e.nextSibling;while(e!=null&&e.nodeType==8);return e}function H_(t,e){return e=e||[],t==null||typeof t=="boolean"||(Qb(t)?t.some(function(n){H_(n,e)}):e.push(t)),e}function Ose(t,e,n,i){var s,r,a=t.key,o=t.type,l=e[n];if(l===null||l&&a==l.key&&o===l.type&&!(2&l.__u))return n;if(i>(l!=null&&!(2&l.__u)?1:0))for(s=n-1,r=n+1;s>=0||r<e.length;){if(s>=0){if((l=e[s])&&!(2&l.__u)&&a==l.key&&o===l.type)return s;s--}if(r<e.length){if((l=e[r])&&!(2&l.__u)&&a==l.key&&o===l.type)return r;r++}}return-1}function QO(t,e,n){e[0]=="-"?t.setProperty(e,n??""):t[e]=n==null?"":typeof n!="number"||Dse.test(e)?n:n+"px"}function Gg(t,e,n,i,s){var r;e:if(e=="style")if(typeof n=="string")t.style.cssText=n;else{if(typeof i=="string"&&(t.style.cssText=i=""),i)for(e in i)n&&e in n||QO(t.style,e,"");if(n)for(e in n)i&&n[e]===i[e]||QO(t.style,e,n[e])}else if(e[0]=="o"&&e[1]=="n")r=e!=(e=e.replace(c$,"$1")),e=e.toLowerCase()in t||e=="onFocusOut"||e=="onFocusIn"?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+r]=n,n?i?n.u=i.u:(n.u=VP,t.addEventListener(e,r?Jx:Qx,r)):t.removeEventListener(e,r?Jx:Qx,r);else{if(s=="http://www.w3.org/2000/svg")e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!="width"&&e!="height"&&e!="href"&&e!="list"&&e!="form"&&e!="tabIndex"&&e!="download"&&e!="rowSpan"&&e!="colSpan"&&e!="role"&&e!="popover"&&e in t)try{t[e]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&e[4]!="-"?t.removeAttribute(e):t.setAttribute(e,e=="popover"&&n==1?"":n))}}function JO(t){return function(e){if(this.l){var n=this.l[e.type+t];if(e.t==null)e.t=VP++;else if(e.t<n.u)return;return n(Dt.event?Dt.event(e):e)}}}function NP(t,e,n,i,s,r,a,o,l,u){var d,c,f,h,g,v,p,_,b,x,k,I,E,T,S,w,P,C=e.type;if(e.constructor!==void 0)return null;128&n.__u&&(l=!!(32&n.__u),r=[o=e.__e=n.__e]),(d=Dt.__b)&&d(e);e:if(typeof C=="function")try{if(_=e.props,b="prototype"in C&&C.prototype.render,x=(d=C.contextType)&&i[d.__c],k=d?x?x.props.value:d.__:i,n.__c?p=(c=e.__c=n.__c).__=c.__E:(b?e.__c=c=new C(_,k):(e.__c=c=new La(_,k),c.constructor=C,c.render=Mse),x&&x.sub(c),c.props=_,c.state||(c.state={}),c.context=k,c.__n=i,f=c.__d=!0,c.__h=[],c._sb=[]),b&&c.__s==null&&(c.__s=c.state),b&&C.getDerivedStateFromProps!=null&&(c.__s==c.state&&(c.__s=_l({},c.__s)),_l(c.__s,C.getDerivedStateFromProps(_,c.__s))),h=c.props,g=c.state,c.__v=e,f)b&&C.getDerivedStateFromProps==null&&c.componentWillMount!=null&&c.componentWillMount(),b&&c.componentDidMount!=null&&c.__h.push(c.componentDidMount);else{if(b&&C.getDerivedStateFromProps==null&&_!==h&&c.componentWillReceiveProps!=null&&c.componentWillReceiveProps(_,k),!c.__e&&(c.shouldComponentUpdate!=null&&c.shouldComponentUpdate(_,c.__s,k)===!1||e.__v==n.__v)){for(e.__v!=n.__v&&(c.props=_,c.state=c.__s,c.__d=!1),e.__e=n.__e,e.__k=n.__k,e.__k.some(function(D){D&&(D.__=e)}),I=0;I<c._sb.length;I++)c.__h.push(c._sb[I]);c._sb=[],c.__h.length&&a.push(c);break e}c.componentWillUpdate!=null&&c.componentWillUpdate(_,c.__s,k),b&&c.componentDidUpdate!=null&&c.__h.push(function(){c.componentDidUpdate(h,g,v)})}if(c.context=k,c.props=_,c.__P=t,c.__e=!1,E=Dt.__r,T=0,b){for(c.state=c.__s,c.__d=!1,E&&E(e),d=c.render(c.props,c.state,c.context),S=0;S<c._sb.length;S++)c.__h.push(c._sb[S]);c._sb=[]}else do c.__d=!1,E&&E(e),d=c.render(c.props,c.state,c.context),c.state=c.__s;while(c.__d&&++T<25);c.state=c.__s,c.getChildContext!=null&&(i=_l(_l({},i),c.getChildContext())),b&&!f&&c.getSnapshotBeforeUpdate!=null&&(v=c.getSnapshotBeforeUpdate(h,g)),o=m$(t,Qb(w=d!=null&&d.type===Nt&&d.key==null?d.props.children:d)?w:[w],e,n,i,s,r,a,o,l,u),c.base=e.__e,e.__u&=-161,c.__h.length&&a.push(c),p&&(c.__E=c.__=null)}catch(D){if(e.__v=null,l||r!=null)if(D.then){for(e.__u|=l?160:128;o&&o.nodeType==8&&o.nextSibling;)o=o.nextSibling;r[r.indexOf(o)]=null,e.__e=o}else for(P=r.length;P--;)LP(r[P]);else e.__e=n.__e,e.__k=n.__k;Dt.__e(D,e,n)}else r==null&&e.__v==n.__v?(e.__k=n.__k,e.__e=n.__e):o=e.__e=Rse(n.__e,e,n,i,s,r,a,l,u);return(d=Dt.diffed)&&d(e),128&e.__u?void 0:o}function g$(t,e,n){for(var i=0;i<n.length;i++)FP(n[i],n[++i],n[++i]);Dt.__c&&Dt.__c(e,t),t.some(function(s){try{t=s.__h,s.__h=[],t.some(function(r){r.call(s)})}catch(r){Dt.__e(r,s.__v)}})}function Rse(t,e,n,i,s,r,a,o,l){var u,d,c,f,h,g,v,p=n.props,_=e.props,b=e.type;if(b=="svg"?s="http://www.w3.org/2000/svg":b=="math"?s="http://www.w3.org/1998/Math/MathML":s||(s="http://www.w3.org/1999/xhtml"),r!=null){for(u=0;u<r.length;u++)if((h=r[u])&&"setAttribute"in h==!!b&&(b?h.localName==b:h.nodeType==3)){t=h,r[u]=null;break}}if(t==null){if(b==null)return document.createTextNode(_);t=document.createElementNS(s,b,_.is&&_),o&&(Dt.__m&&Dt.__m(e,r),o=!1),r=null}if(b===null)p===_||o&&t.data===_||(t.data=_);else{if(r=r&&Kb.call(t.childNodes),p=n.props||Um,!o&&r!=null)for(p={},u=0;u<t.attributes.length;u++)p[(h=t.attributes[u]).name]=h.value;for(u in p)if(h=p[u],u!="children"){if(u=="dangerouslySetInnerHTML")c=h;else if(!(u in _)){if(u=="value"&&"defaultValue"in _||u=="checked"&&"defaultChecked"in _)continue;Gg(t,u,null,h,s)}}for(u in _)h=_[u],u=="children"?f=h:u=="dangerouslySetInnerHTML"?d=h:u=="value"?g=h:u=="checked"?v=h:o&&typeof h!="function"||p[u]===h||Gg(t,u,h,p[u],s);if(d)o||c&&(d.__html===c.__html||d.__html===t.innerHTML)||(t.innerHTML=d.__html),e.__k=[];else if(c&&(t.innerHTML=""),m$(t,Qb(f)?f:[f],e,n,i,b=="foreignObject"?"http://www.w3.org/1999/xhtml":s,r,a,r?r[0]:n.__k&&uh(n,0),o,l),r!=null)for(u=r.length;u--;)LP(r[u]);o||(u="value",b=="progress"&&g==null?t.removeAttribute("value"):g!==void 0&&(g!==t[u]||b=="progress"&&!g||b=="option"&&g!==p[u])&&Gg(t,u,g,p[u],s),u="checked",v!==void 0&&v!==t[u]&&Gg(t,u,v,p[u],s))}return t}function FP(t,e,n){try{if(typeof t=="function"){var i=typeof t.__u=="function";i&&t.__u(),i&&e==null||(t.__u=t(e))}else t.current=e}catch(s){Dt.__e(s,n)}}function p$(t,e,n){var i,s;if(Dt.unmount&&Dt.unmount(t),(i=t.ref)&&(i.current&&i.current!==t.__e||FP(i,null,e)),(i=t.__c)!=null){if(i.componentWillUnmount)try{i.componentWillUnmount()}catch(r){Dt.__e(r,e)}i.base=i.__P=null}if(i=t.__k)for(s=0;s<i.length;s++)i[s]&&p$(i[s],e,n||typeof t.type!="function");n||LP(t.__e),t.__c=t.__=t.__e=void 0}function Mse(t,e,n){return this.constructor(t,n)}function z_(t,e,n){var i,s,r,a;e==document&&(e=document.documentElement),Dt.__&&Dt.__(t,e),s=(i=typeof n=="function")?null:e.__k,r=[],a=[],NP(e,t=(!i&&n||e).__k=oc(Nt,null,[t]),s||Um,Um,e.namespaceURI,!i&&n?[n]:s?null:e.firstChild?Kb.call(e.childNodes):null,r,!i&&n?n:s?s.__e:e.firstChild,i,a),g$(r,t,a)}function _$(t,e){var n={__c:e="__cC"+d$++,__:t,Consumer:function(i,s){return i.children(s)},Provider:function(i){var s,r;return this.getChildContext||(s=new Set,(r={})[e]=this,this.getChildContext=function(){return r},this.componentWillUnmount=function(){s=null},this.shouldComponentUpdate=function(a){this.props.value!==a.value&&s.forEach(function(o){o.__e=!0,Zx(o)})},this.sub=function(a){s.add(a);var o=a.componentWillUnmount;a.componentWillUnmount=function(){s&&s.delete(a),o&&o.call(a)}}),i.children}};return n.Provider.__=n.Consumer.contextType=n}Kb=h$.slice,Dt={__e:function(t,e,n,i){for(var s,r,a;e=e.__;)if((s=e.__c)&&!s.__)try{if((r=s.constructor)&&r.getDerivedStateFromError!=null&&(s.setState(r.getDerivedStateFromError(t)),a=s.__d),s.componentDidCatch!=null&&(s.componentDidCatch(t,i||{}),a=s.__d),a)return s.__E=s}catch(o){t=o}throw t}},o$=0,l$=function(t){return t!=null&&t.constructor==null},La.prototype.setState=function(t,e){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=_l({},this.state),typeof t=="function"&&(t=t(_l({},n),this.props)),t&&_l(n,t),t!=null&&this.__v&&(e&&this._sb.push(e),Zx(this))},La.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),Zx(this))},La.prototype.render=Nt,Tu=[],u$=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Kx=function(t,e){return t.__v.__b-e.__v.__b},U_.__r=0,c$=/(PointerCapture)$|Capture$/i,VP=0,Qx=JO(!1),Jx=JO(!0),d$=0;var Vse=0;function Q(t,e,n,i,s,r){e||(e={});var a,o,l=e;if("ref"in l)for(o in l={},e)o=="ref"?a=e[o]:l[o]=e[o];var u={type:t,props:l,key:n,ref:a,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:--Vse,__i:-1,__u:0,__source:s,__self:r};if(typeof t=="function"&&(a=t.defaultProps))for(o in a)l[o]===void 0&&(l[o]=a[o]);return Dt.vnode&&Dt.vnode(u),u}var ch,Jn,Yw,ZO,W_=0,y$=[],yi=Dt,eR=yi.__b,tR=yi.__r,nR=yi.diffed,iR=yi.__c,sR=yi.unmount,rR=yi.__;function Jb(t,e){yi.__h&&yi.__h(Jn,t,W_||e),W_=0;var n=Jn.__H||(Jn.__H={__:[],__h:[]});return t>=n.__.length&&n.__.push({}),n.__[t]}function Ot(t){return W_=1,Lse(w$,t)}function Lse(t,e,n){var i=Jb(ch++,2);if(i.t=t,!i.__c&&(i.__=[n?n(e):w$(void 0,e),function(o){var l=i.__N?i.__N[0]:i.__[0],u=i.t(l,o);l!==u&&(i.__N=[u,i.__[1]],i.__c.setState({}))}],i.__c=Jn,!Jn.u)){var s=function(o,l,u){if(!i.__c.__H)return!0;var d=i.__c.__H.__.filter(function(f){return!!f.__c});if(d.every(function(f){return!f.__N}))return!r||r.call(this,o,l,u);var c=i.__c.props!==o;return d.forEach(function(f){if(f.__N){var h=f.__[0];f.__=f.__N,f.__N=void 0,h!==f.__[0]&&(c=!0)}}),r&&r.call(this,o,l,u)||c};Jn.u=!0;var r=Jn.shouldComponentUpdate,a=Jn.componentWillUpdate;Jn.componentWillUpdate=function(o,l,u){if(this.__e){var d=r;r=void 0,s(o,l,u),r=d}a&&a.call(this,o,l,u)},Jn.shouldComponentUpdate=s}return i.__N||i.__}function kn(t,e){var n=Jb(ch++,3);!yi.__s&&b$(n.__H,e)&&(n.__=t,n.i=e,Jn.__H.__h.push(n))}function Nse(t){return W_=5,BP(function(){return{current:t}},[])}function BP(t,e){var n=Jb(ch++,7);return b$(n.__H,e)&&(n.__=t(),n.__H=e,n.__h=t),n.__}function An(t){var e=Jn.context[t.__c],n=Jb(ch++,9);return n.c=t,e?(n.__==null&&(n.__=!0,e.sub(Jn)),e.props.value):t.__}function Fse(){for(var t;t=y$.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(Vp),t.__H.__h.forEach(eS),t.__H.__h=[]}catch(e){t.__H.__h=[],yi.__e(e,t.__v)}}yi.__b=function(t){Jn=null,eR&&eR(t)},yi.__=function(t,e){t&&e.__k&&e.__k.__m&&(t.__m=e.__k.__m),rR&&rR(t,e)},yi.__r=function(t){tR&&tR(t),ch=0;var e=(Jn=t.__c).__H;e&&(Yw===Jn?(e.__h=[],Jn.__h=[],e.__.forEach(function(n){n.__N&&(n.__=n.__N),n.i=n.__N=void 0})):(e.__h.forEach(Vp),e.__h.forEach(eS),e.__h=[],ch=0)),Yw=Jn},yi.diffed=function(t){nR&&nR(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(y$.push(e)!==1&&ZO===yi.requestAnimationFrame||((ZO=yi.requestAnimationFrame)||Bse)(Fse)),e.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.i=void 0})),Yw=Jn=null},yi.__c=function(t,e){e.some(function(n){try{n.__h.forEach(Vp),n.__h=n.__h.filter(function(i){return!i.__||eS(i)})}catch(i){e.some(function(s){s.__h&&(s.__h=[])}),e=[],yi.__e(i,n.__v)}}),iR&&iR(t,e)},yi.unmount=function(t){sR&&sR(t);var e,n=t.__c;n&&n.__H&&(n.__H.__.forEach(function(i){try{Vp(i)}catch(s){e=s}}),n.__H=void 0,e&&yi.__e(e,n.__v))};var aR=typeof requestAnimationFrame=="function";function Bse(t){var e,n=function(){clearTimeout(i),aR&&cancelAnimationFrame(e),setTimeout(t)},i=setTimeout(n,100);aR&&(e=requestAnimationFrame(n))}function Vp(t){var e=Jn,n=t.__c;typeof n=="function"&&(t.__c=void 0,n()),Jn=e}function eS(t){var e=Jn;t.__c=t.__(),Jn=e}function b$(t,e){return!t||t.length!==e.length||e.some(function(n,i){return n!==t[i]})}function w$(t,e){return typeof e=="function"?e(t):e}function jse(t,e){for(var n in e)t[n]=e[n];return t}function oR(t,e){for(var n in t)if(n!=="__source"&&!(n in e))return!0;for(var i in e)if(i!=="__source"&&t[i]!==e[i])return!0;return!1}function lR(t,e){this.props=t,this.context=e}(lR.prototype=new La).isPureReactComponent=!0,lR.prototype.shouldComponentUpdate=function(t,e){return oR(this.props,t)||oR(this.state,e)};var uR=Dt.__b;Dt.__b=function(t){t.type&&t.type.__f&&t.ref&&(t.props.ref=t.ref,t.ref=null),uR&&uR(t)};var $se=Dt.__e;Dt.__e=function(t,e,n,i){if(t.then){for(var s,r=e;r=r.__;)if((s=r.__c)&&s.__c)return e.__e==null&&(e.__e=n.__e,e.__k=n.__k),s.__c(t,e)}$se(t,e,n,i)};var cR=Dt.unmount;function x$(t,e,n){return t&&(t.__c&&t.__c.__H&&(t.__c.__H.__.forEach(function(i){typeof i.__c=="function"&&i.__c()}),t.__c.__H=null),(t=jse({},t)).__c!=null&&(t.__c.__P===n&&(t.__c.__P=e),t.__c=null),t.__k=t.__k&&t.__k.map(function(i){return x$(i,e,n)})),t}function S$(t,e,n){return t&&n&&(t.__v=null,t.__k=t.__k&&t.__k.map(function(i){return S$(i,e,n)}),t.__c&&t.__c.__P===e&&(t.__e&&n.appendChild(t.__e),t.__c.__e=!0,t.__c.__P=n)),t}function Gw(){this.__u=0,this.o=null,this.__b=null}function k$(t){var e=t.__.__c;return e&&e.__a&&e.__a(t)}function qg(){this.i=null,this.l=null}Dt.unmount=function(t){var e=t.__c;e&&e.__R&&e.__R(),e&&32&t.__u&&(t.type=null),cR&&cR(t)},(Gw.prototype=new La).__c=function(t,e){var n=e.__c,i=this;i.o==null&&(i.o=[]),i.o.push(n);var s=k$(i.__v),r=!1,a=function(){r||(r=!0,n.__R=null,s?s(o):o())};n.__R=a;var o=function(){if(!--i.__u){if(i.state.__a){var l=i.state.__a;i.__v.__k[0]=S$(l,l.__c.__P,l.__c.__O)}var u;for(i.setState({__a:i.__b=null});u=i.o.pop();)u.forceUpdate()}};i.__u++||32&e.__u||i.setState({__a:i.__b=i.__v.__k[0]}),t.then(a,a)},Gw.prototype.componentWillUnmount=function(){this.o=[]},Gw.prototype.render=function(t,e){if(this.__b){if(this.__v.__k){var n=document.createElement("div"),i=this.__v.__k[0].__c;this.__v.__k[0]=x$(this.__b,n,i.__O=i.__P)}this.__b=null}var s=e.__a&&oc(Nt,null,t.fallback);return s&&(s.__u&=-33),[oc(Nt,null,e.__a?null:t.children),s]};var dR=function(t,e,n){if(++n[1]===n[0]&&t.l.delete(e),t.props.revealOrder&&(t.props.revealOrder[0]!=="t"||!t.l.size))for(n=t.i;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;t.i=n=n[2]}};function Use(t){return this.getChildContext=function(){return t.context},t.children}function Hse(t){var e=this,n=t.h;e.componentWillUnmount=function(){z_(null,e.v),e.v=null,e.h=null},e.h&&e.h!==n&&e.componentWillUnmount(),e.v||(e.h=n,e.v={nodeType:1,parentNode:n,childNodes:[],contains:function(){return!0},appendChild:function(i){this.childNodes.push(i),e.h.appendChild(i)},insertBefore:function(i,s){this.childNodes.push(i),e.h.insertBefore(i,s)},removeChild:function(i){this.childNodes.splice(this.childNodes.indexOf(i)>>>1,1),e.h.removeChild(i)}}),z_(oc(Use,{context:e.context},t.__v),e.v)}function zse(t,e){var n=oc(Hse,{__v:t,h:e});return n.containerInfo=e,n}(qg.prototype=new La).__a=function(t){var e=this,n=k$(e.__v),i=e.l.get(t);return i[0]++,function(s){var r=function(){e.props.revealOrder?(i.push(s),dR(e,t,i)):s()};n?n(r):r()}},qg.prototype.render=function(t){this.i=null,this.l=new Map;var e=H_(t.children);t.revealOrder&&t.revealOrder[0]==="b"&&e.reverse();for(var n=e.length;n--;)this.l.set(e[n],this.i=[1,0,this.i]);return t.children},qg.prototype.componentDidUpdate=qg.prototype.componentDidMount=function(){var t=this;this.l.forEach(function(e,n){dR(t,n,e)})};var Wse=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,Yse=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,Gse=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,qse=/[A-Z0-9]/g,Xse=typeof document<"u",Kse=function(t){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/:/fil|che|ra/).test(t)};La.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(t){Object.defineProperty(La.prototype,t,{configurable:!0,get:function(){return this["UNSAFE_"+t]},set:function(e){Object.defineProperty(this,t,{configurable:!0,writable:!0,value:e})}})});var hR=Dt.event;function Qse(){}function Jse(){return this.cancelBubble}function Zse(){return this.defaultPrevented}Dt.event=function(t){return hR&&(t=hR(t)),t.persist=Qse,t.isPropagationStopped=Jse,t.isDefaultPrevented=Zse,t.nativeEvent=t};var ere={enumerable:!1,configurable:!0,get:function(){return this.class}},fR=Dt.vnode;Dt.vnode=function(t){typeof t.type=="string"&&function(e){var n=e.props,i=e.type,s={},r=i.indexOf("-")===-1;for(var a in n){var o=n[a];if(!(a==="value"&&"defaultValue"in n&&o==null||Xse&&a==="children"&&i==="noscript"||a==="class"||a==="className")){var l=a.toLowerCase();a==="defaultValue"&&"value"in n&&n.value==null?a="value":a==="download"&&o===!0?o="":l==="translate"&&o==="no"?o=!1:l[0]==="o"&&l[1]==="n"?l==="ondoubleclick"?a="ondblclick":l!=="onchange"||i!=="input"&&i!=="textarea"||Kse(n.type)?l==="onfocus"?a="onfocusin":l==="onblur"?a="onfocusout":Gse.test(a)&&(a=l):l=a="oninput":r&&Yse.test(a)?a=a.replace(qse,"-$&").toLowerCase():o===null&&(o=void 0),l==="oninput"&&s[a=l]&&(a="oninputCapture"),s[a]=o}}i=="select"&&s.multiple&&Array.isArray(s.value)&&(s.value=H_(n.children).forEach(function(u){u.props.selected=s.value.indexOf(u.props.value)!=-1})),i=="select"&&s.defaultValue!=null&&(s.value=H_(n.children).forEach(function(u){u.props.selected=s.multiple?s.defaultValue.indexOf(u.props.value)!=-1:s.defaultValue==u.props.value})),n.class&&!n.className?(s.class=n.class,Object.defineProperty(s,"className",ere)):(n.className&&!n.class||n.class&&n.className)&&(s.class=s.className=n.className),e.props=s}(t),t.$$typeof=Wse,fR&&fR(t)};var mR=Dt.__r;Dt.__r=function(t){mR&&mR(t),t.__c};var vR=Dt.diffed;Dt.diffed=function(t){vR&&vR(t);var e=t.props,n=t.__e;n!=null&&t.type==="textarea"&&"value"in e&&e.value!==n.value&&(n.value=e.value==null?"":e.value)};var tre=Symbol.for("preact-signals");function Zb(){if(Cl>1)Cl--;else{for(var t,e=!1;rm!==void 0;){var n=rm;for(rm=void 0,nS++;n!==void 0;){var i=n.o;if(n.o=void 0,n.f&=-3,!(8&n.f)&&P$(n))try{n.c()}catch(s){e||(t=s,e=!0)}n=i}}if(nS=0,Cl--,e)throw t}}function tS(t){if(Cl>0)return t();Cl++;try{return t()}finally{Zb()}}var xn=void 0,rm=void 0,Cl=0,nS=0,Y_=0;function T$(t){if(xn!==void 0){var e=t.n;if(e===void 0||e.t!==xn)return e={i:0,S:t,p:xn.s,n:void 0,t:xn,e:void 0,x:void 0,r:e},xn.s!==void 0&&(xn.s.n=e),xn.s=e,t.n=e,32&xn.f&&t.S(e),e;if(e.i===-1)return e.i=0,e.n!==void 0&&(e.n.p=e.p,e.p!==void 0&&(e.p.n=e.n),e.p=xn.s,e.n=void 0,xn.s.n=e,xn.s=e),e}}function os(t){this.v=t,this.i=0,this.n=void 0,this.t=void 0}os.prototype.brand=tre;os.prototype.h=function(){return!0};os.prototype.S=function(t){this.t!==t&&t.e===void 0&&(t.x=this.t,this.t!==void 0&&(this.t.e=t),this.t=t)};os.prototype.U=function(t){if(this.t!==void 0){var e=t.e,n=t.x;e!==void 0&&(e.x=n,t.e=void 0),n!==void 0&&(n.e=e,t.x=void 0),t===this.t&&(this.t=n)}};os.prototype.subscribe=function(t){var e=this;return Mo(function(){var n=e.value,i=xn;xn=void 0;try{t(n)}finally{xn=i}})};os.prototype.valueOf=function(){return this.value};os.prototype.toString=function(){return this.value+""};os.prototype.toJSON=function(){return this.value};os.prototype.peek=function(){var t=xn;xn=void 0;try{return this.value}finally{xn=t}};Object.defineProperty(os.prototype,"value",{get:function(){var t=T$(this);return t!==void 0&&(t.i=this.i),this.v},set:function(t){if(t!==this.v){if(nS>100)throw new Error("Cycle detected");this.v=t,this.i++,Y_++,Cl++;try{for(var e=this.t;e!==void 0;e=e.x)e.t.N()}finally{Zb()}}}});function $t(t){return new os(t)}function P$(t){for(var e=t.s;e!==void 0;e=e.n)if(e.S.i!==e.i||!e.S.h()||e.S.i!==e.i)return!0;return!1}function C$(t){for(var e=t.s;e!==void 0;e=e.n){var n=e.S.n;if(n!==void 0&&(e.r=n),e.S.n=e,e.i=-1,e.n===void 0){t.s=e;break}}}function E$(t){for(var e=t.s,n=void 0;e!==void 0;){var i=e.p;e.i===-1?(e.S.U(e),i!==void 0&&(i.n=e.n),e.n!==void 0&&(e.n.p=i)):n=e,e.S.n=e.r,e.r!==void 0&&(e.r=void 0),e=i}t.s=n}function Bh(t){os.call(this,void 0),this.x=t,this.s=void 0,this.g=Y_-1,this.f=4}(Bh.prototype=new os).h=function(){if(this.f&=-3,1&this.f)return!1;if((36&this.f)==32||(this.f&=-5,this.g===Y_))return!0;if(this.g=Y_,this.f|=1,this.i>0&&!P$(this))return this.f&=-2,!0;var t=xn;try{C$(this),xn=this;var e=this.x();(16&this.f||this.v!==e||this.i===0)&&(this.v=e,this.f&=-17,this.i++)}catch(n){this.v=n,this.f|=16,this.i++}return xn=t,E$(this),this.f&=-2,!0};Bh.prototype.S=function(t){if(this.t===void 0){this.f|=36;for(var e=this.s;e!==void 0;e=e.n)e.S.S(e)}os.prototype.S.call(this,t)};Bh.prototype.U=function(t){if(this.t!==void 0&&(os.prototype.U.call(this,t),this.t===void 0)){this.f&=-33;for(var e=this.s;e!==void 0;e=e.n)e.S.U(e)}};Bh.prototype.N=function(){if(!(2&this.f)){this.f|=6;for(var t=this.t;t!==void 0;t=t.x)t.t.N()}};Object.defineProperty(Bh.prototype,"value",{get:function(){if(1&this.f)throw new Error("Cycle detected");var t=T$(this);if(this.h(),t!==void 0&&(t.i=this.i),16&this.f)throw this.v;return this.v}});function I$(t){return new Bh(t)}function D$(t){var e=t.u;if(t.u=void 0,typeof e=="function"){Cl++;var n=xn;xn=void 0;try{e()}catch(i){throw t.f&=-2,t.f|=8,jP(t),i}finally{xn=n,Zb()}}}function jP(t){for(var e=t.s;e!==void 0;e=e.n)e.S.U(e);t.x=void 0,t.s=void 0,D$(t)}function nre(t){if(xn!==this)throw new Error("Out-of-order effect");E$(this),xn=t,this.f&=-2,8&this.f&&jP(this),Zb()}function qv(t){this.x=t,this.u=void 0,this.s=void 0,this.o=void 0,this.f=32}qv.prototype.c=function(){var t=this.S();try{if(8&this.f||this.x===void 0)return;var e=this.x();typeof e=="function"&&(this.u=e)}finally{t()}};qv.prototype.S=function(){if(1&this.f)throw new Error("Cycle detected");this.f|=1,this.f&=-9,D$(this),C$(this),Cl++;var t=xn;return xn=this,nre.bind(this,t)};qv.prototype.N=function(){2&this.f||(this.f|=2,this.o=rm,rm=this)};qv.prototype.d=function(){this.f|=8,1&this.f||jP(this)};function Mo(t){var e=new qv(t);try{e.c()}catch(n){throw e.d(),n}return e.d.bind(e)}var qw;function jh(t,e){Dt[t]=e.bind(null,Dt[t]||function(){})}function G_(t){qw&&qw(),qw=t&&t.S()}function A$(t){var e=this,n=t.data,i=sre(n);i.value=n;var s=BP(function(){for(var r=e.__v;r=r.__;)if(r.__c){r.__c.__$f|=4;break}return e.__$u.c=function(){var a,o=e.__$u.S(),l=s.value;o(),l$(l)||((a=e.base)==null?void 0:a.nodeType)!==3?(e.__$f|=1,e.setState({})):e.base.data=l},I$(function(){var a=i.value.value;return a===0?0:a===!0?"":a||""})},[]);return s.value}A$.displayName="_st";Object.defineProperties(os.prototype,{constructor:{configurable:!0,value:void 0},type:{configurable:!0,value:A$},props:{configurable:!0,get:function(){return{data:this}}},__b:{configurable:!0,value:1}});jh("__b",function(t,e){if(typeof e.type=="string"){var n,i=e.props;for(var s in i)if(s!=="children"){var r=i[s];r instanceof os&&(n||(e.__np=n={}),n[s]=r,i[s]=r.peek())}}t(e)});jh("__r",function(t,e){G_();var n,i=e.__c;i&&(i.__$f&=-2,(n=i.__$u)===void 0&&(i.__$u=n=function(s){var r;return Mo(function(){r=this}),r.c=function(){i.__$f|=1,i.setState({})},r}())),G_(n),t(e)});jh("__e",function(t,e,n,i){G_(),t(e,n,i)});jh("diffed",function(t,e){G_();var n;if(typeof e.type=="string"&&(n=e.__e)){var i=e.__np,s=e.props;if(i){var r=n.U;if(r)for(var a in r){var o=r[a];o!==void 0&&!(a in i)&&(o.d(),r[a]=void 0)}else n.U=r={};for(var l in i){var u=r[l],d=i[l];u===void 0?(u=ire(n,l,d,s),r[l]=u):u.o(d,s)}}}t(e)});function ire(t,e,n,i){var s=e in t&&t.ownerSVGElement===void 0,r=$t(n);return{o:function(a,o){r.value=a,i=o},d:Mo(function(){var a=r.value.value;i[e]!==a&&(i[e]=a,s?t[e]=a:a?t.setAttribute(e,a):t.removeAttribute(e))})}}jh("unmount",function(t,e){if(typeof e.type=="string"){var n=e.__e;if(n){var i=n.U;if(i){n.U=void 0;for(var s in i){var r=i[s];r&&r.d()}}}}else{var a=e.__c;if(a){var o=a.__$u;o&&(a.__$u=void 0,o.d())}}t(e)});jh("__h",function(t,e,n,i){(i<3||i===9)&&(e.__$f|=2),t(e,n,i)});La.prototype.shouldComponentUpdate=function(t,e){var n=this.__$u;if(!(n&&n.s!==void 0||4&this.__$f)||3&this.__$f)return!0;for(var i in e)return!0;for(var s in t)if(s!=="__source"&&t[s]!==this.props[s])return!0;for(var r in this.props)if(!(r in t))return!0;return!1};function sre(t){return BP(function(){return $t(t)},[])}function ia(t){var e=Nse(t);e.current=t,kn(function(){return Mo(function(){return e.current()})},[])}const Wo=_$({}),gR={DATE_STRING:/^\d{4}-\d{2}-\d{2}$/,TIME_STRING:/^\d{2}:\d{2}$/,DATE_TIME_STRING:/^\d{4}-\d{2}-\d{2} \d{2}:\d{2}$/};let rre=class extends Error{constructor(e){super(`Invalid date time specification: ${e}`)}};const _n=t=>{if(!gR.DATE_TIME_STRING.test(t)&&!gR.DATE_STRING.test(t))throw new rre(t);return new Date(Number(t.slice(0,4)),Number(t.slice(5,7))-1,Number(t.slice(8,10)),Number(t.slice(11,13)),Number(t.slice(14,16)))},yr=t=>{const e=t.slice(11,13),n=t.slice(14,16);return{year:Number(t.slice(0,4)),month:Number(t.slice(5,7))-1,date:Number(t.slice(8,10)),hours:e!==""?Number(e):void 0,minutes:n!==""?Number(n):void 0}},O$=(t,e)=>t.toLocaleString(e,{month:"long"}),are=(t,e)=>t.toLocaleString(e,{month:"numeric",day:"numeric",year:"numeric"}),ore=(t,e)=>t.map(n=>n.toLocaleString(e,{weekday:"short"}).charAt(0)),$P=(t,e)=>t.toLocaleString(e,{weekday:"short"}),lre=(t,e)=>t.map(n=>$P(n,e)),R$=(t,e)=>["zh-cn","zh-tw","ca-es"].includes(e.toLowerCase())?lre(t,e):ore(t,e);var ure="data:image/svg+xml,%3c%3fxml version='1.0' encoding='utf-8'%3f%3e%3c!-- Uploaded to: SVG Repo%2c www.svgrepo.com%2c Generator: SVG Repo Mixer Tools --%3e%3csvg width='800px' height='800px' viewBox='0 0 24 24' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3cpath d='M6 9L12 15L18 9' stroke='%23DED8E1' stroke-width='4' stroke-linecap='round' stroke-linejoin='round'/%3e%3c/svg%3e";const Ms=()=>"s"+Math.random().toString(36).substring(2,11),q_=t=>t.key==="Enter"||t.key===" ";function cre(){const t=Ms(),e=Ms(),n=Ms(),i=An(Wo),s=f=>f===""?i.translate("MM/DD/YYYY"):are(_n(f),i.config.locale.value);kn(()=>{i.datePickerState.inputDisplayedValue.value=s(i.datePickerState.selectedDate.value)},[i.datePickerState.selectedDate.value,i.config.locale.value]);const[r,a]=Ot([]),o=()=>{const f=document.getElementById(n);i.datePickerState.inputWrapperElement.value=f instanceof HTMLDivElement?f:void 0};kn(()=>{i.config.teleportTo&&o();const f=["sx__date-input-wrapper"];i.datePickerState.isOpen.value&&f.push("sx__date-input--active"),a(f)},[i.datePickerState.isOpen.value]);const l=f=>{f.key==="Enter"&&u(f)},u=f=>{f.stopPropagation();try{i.datePickerState.inputDisplayedValue.value=f.target.value,i.datePickerState.close()}catch{}};kn(()=>{const f=document.getElementById(t);if(f!==null)return f.addEventListener("change",u),()=>f.removeEventListener("change",u)});const d=f=>{u(f),i.datePickerState.open()},c=f=>{q_(f)&&(f.preventDefault(),i.datePickerState.open(),setTimeout(()=>{const h=document.querySelector('[data-focus="true"]');h instanceof HTMLElement&&h.focus()},50))};return Q(Nt,{children:Q("div",{className:r.join(" "),id:n,children:[Q("label",{for:t,id:e,className:"sx__date-input-label",children:i.config.label||i.translate("Date")}),Q("input",{id:t,tabIndex:i.datePickerState.isDisabled.value?-1:0,name:i.config.name||"date","aria-describedby":e,value:i.datePickerState.inputDisplayedValue.value,"data-testid":"date-picker-input",className:"sx__date-input",onClick:d,onKeyUp:l,type:"text"}),Q("button",{type:"button",tabIndex:i.datePickerState.isDisabled.value?-1:0,"aria-label":i.translate("Choose Date"),onKeyDown:c,onClick:()=>i.datePickerState.open(),className:"sx__date-input-chevron-wrapper",children:Q("img",{className:"sx__date-input-chevron",src:ure,alt:""})})]})})}var Lu;(function(t){t.MONTH_DAYS="month-days",t.YEARS="years"})(Lu||(Lu={}));const dre="years-view",hre="months-view",fre="date-picker-week";let mre=class extends Error{constructor(e,n){super(`Number must be between ${e} and ${n}.`),Object.defineProperty(this,"min",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"max",{enumerable:!0,configurable:!0,writable:!0,value:n})}};const As=t=>{if(t<0||t>99)throw new mre(0,99);return String(t).padStart(2,"0")},si=t=>`${t.getFullYear()}-${As(t.getMonth()+1)}-${As(t.getDate())}`,vre=t=>`${As(t.getHours())}:${As(t.getMinutes())}`,e0=t=>`${si(t)} ${vre(t)}`,t0=(t,e)=>{const{year:n,month:i,date:s,hours:r,minutes:a}=yr(t),o=r!==void 0&&a!==void 0,l=new Date(n,i,s,r??0,a??0);let u=(l.getMonth()+e)%12;return u<0&&(u+=12),l.setMonth(l.getMonth()+e),l.getMonth()>u?l.setDate(0):l.getMonth()<u&&(l.setMonth(l.getMonth()+1),l.setDate(0)),o?e0(l):si(l)},iu=(t,e)=>{const{year:n,month:i,date:s,hours:r,minutes:a}=yr(t),o=r!==void 0&&a!==void 0,l=new Date(n,i,s,r??0,a??0);return l.setDate(l.getDate()+e),o?e0(l):si(l)},hn=t=>t.slice(0,10),yl=t=>t.slice(11),M$=(t,e)=>(t=t.slice(0,8)+As(e)+t.slice(10),t),gre=t=>(t=t0(t,-1),M$(t,1)),pre=t=>(t=t0(t,1),M$(t,1)),Xw=(t,e)=>`${si(_n(t))} ${e}`;function X_({direction:t,onClick:e,buttonText:n,disabled:i=!1}){return Q("button",{type:"button",disabled:i,className:"sx__chevron-wrapper sx__ripple",onMouseUp:e,onKeyDown:r=>{q_(r)&&e()},tabIndex:0,children:Q("i",{className:`sx__chevron sx__chevron--${t}`,children:n})})}function _re({setYearsView:t}){const e=An(Wo),n=c=>{const f=_n(c);return O$(f,e.config.locale.value)},i=c=>yr(c).year,[s,r]=Ot(n(e.datePickerState.datePickerDate.value)),[a,o]=Ot(i(e.datePickerState.datePickerDate.value)),l=()=>{e.datePickerState.datePickerDate.value=gre(e.datePickerState.datePickerDate.value)},u=()=>{e.datePickerState.datePickerDate.value=pre(e.datePickerState.datePickerDate.value)};kn(()=>{r(n(e.datePickerState.datePickerDate.value)),o(i(e.datePickerState.datePickerDate.value))},[e.datePickerState.datePickerDate.value]);const d=c=>{c.stopPropagation(),t()};return Q(Nt,{children:Q("header",{className:"sx__date-picker__month-view-header",children:[Q(X_,{direction:"previous",onClick:()=>l(),buttonText:e.translate("Previous month")}),Q("button",{type:"button",className:"sx__date-picker__month-view-header__month-year",onClick:c=>d(c),children:s+" "+a}),Q(X_,{direction:"next",onClick:()=>u(),buttonText:e.translate("Next month")})]})})}function yre(){const t=An(Wo),e=t.timeUnitsImpl.getWeekFor(_n(t.datePickerState.datePickerDate.value)),n=R$(e,t.config.locale.value);return Q("div",{className:"sx__date-picker__day-names",children:n.map(i=>Q("span",{"data-testid":"day-name",className:"sx__date-picker__day-name",children:i}))})}const UP=t=>{const e=new Date;return t.getDate()===e.getDate()&&t.getMonth()===e.getMonth()&&t.getFullYear()===e.getFullYear()},bre=(t,e)=>t.getMonth()===e.getMonth()&&t.getFullYear()===e.getFullYear();function V$({strokeColor:t}){return Q(Nt,{children:Q("svg",{className:"sx__event-icon",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Q("g",{id:"SVGRepo_bgCarrier","stroke-width":"0"}),Q("g",{id:"SVGRepo_tracerCarrier","stroke-linecap":"round","stroke-linejoin":"round"}),Q("g",{id:"SVGRepo_iconCarrier",children:[Q("path",{d:"M12 8V12L15 15",stroke:t,"stroke-width":"2","stroke-linecap":"round"}),Q("circle",{cx:"12",cy:"12",r:"9",stroke:t,"stroke-width":"2"})]})]})})}function wre({strokeColor:t}){return Q(Nt,{children:Q("svg",{className:"sx__event-icon",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Q("g",{id:"SVGRepo_bgCarrier","stroke-width":"0"}),Q("g",{id:"SVGRepo_tracerCarrier","stroke-linecap":"round","stroke-linejoin":"round"}),Q("g",{id:"SVGRepo_iconCarrier",children:[Q("path",{d:"M15 7C15 8.65685 13.6569 10 12 10C10.3431 10 9 8.65685 9 7C9 5.34315 10.3431 4 12 4C13.6569 4 15 5.34315 15 7Z",stroke:t,"stroke-width":"2"}),Q("path",{d:"M5 19.5C5 15.9101 7.91015 13 11.5 13H12.5C16.0899 13 19 15.9101 19 19.5V20C19 20.5523 18.5523 21 18 21H6C5.44772 21 5 20.5523 5 20V19.5Z",stroke:t,"stroke-width":"2"})]})]})})}function xre({strokeColor:t}){return Q(Nt,{children:Q("svg",{className:"sx__event-icon",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Q("g",{id:"SVGRepo_bgCarrier","stroke-width":"0"}),Q("g",{id:"SVGRepo_tracerCarrier","stroke-linecap":"round","stroke-linejoin":"round"}),Q("g",{id:"SVGRepo_iconCarrier",children:[Q("g",{"clip-path":"url(#clip0_429_11046)",children:[Q("rect",{x:"12",y:"11",width:"0.01",height:"0.01",stroke:t,"stroke-width":"2","stroke-linejoin":"round"}),Q("path",{d:"M12 22L17.5 16.5C20.5376 13.4624 20.5376 8.53757 17.5 5.5C14.4624 2.46244 9.53757 2.46244 6.5 5.5C3.46244 8.53757 3.46244 13.4624 6.5 16.5L12 22Z",stroke:t,"stroke-width":"2","stroke-linejoin":"round"})]}),Q("defs",{children:Q("clipPath",{id:"clip0_429_11046",children:Q("rect",{width:"24",height:"24",fill:"white"})})})]})]})})}const Sre=/^(0[0-9]|1[0-9]|2[0-3]):[0-5][0-9]$/,Pa=/^(\d{4})-(\d{2})-(\d{2}) (0[0-9]|1[0-9]|2[0-3]):[0-5][0-9]$/,Ss=/^(\d{4})-(\d{2})-(\d{2})$/;let kre=class extends Error{constructor(e){super(`Invalid time string: ${e}`)}};const HP=1.6666666666666667,Qr=t=>{if(!Sre.test(t)&&t!=="24:00")throw new kre(t);const[e,n]=t.split(":").map(s=>parseInt(s,10));let i=(n*HP).toString();return i.split(".")[0].length<2&&(i=`0${i}`),Number(e+i)},Hm=t=>{const e=Math.floor(t/100),n=Math.round(t%100/HP);return`${As(e)}:${As(n)}`},L$=(t,e)=>{const n=e/HP,i=_n(t);return i.setMinutes(i.getMinutes()+n),e0(i)};var iS;(function(t){t[t.SUNDAY=0]="SUNDAY",t[t.MONDAY=1]="MONDAY",t[t.TUESDAY=2]="TUESDAY",t[t.WEDNESDAY=3]="WEDNESDAY",t[t.THURSDAY=4]="THURSDAY",t[t.FRIDAY=5]="FRIDAY",t[t.SATURDAY=6]="SATURDAY"})(iS||(iS={}));const K_="en-US",zP=iS.MONDAY,Tre="primary";let Pre=class{constructor(e,n,i,s,r,a,o,l,u,d=void 0,c={},f={}){Object.defineProperty(this,"_config",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"id",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(this,"start",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"end",{enumerable:!0,configurable:!0,writable:!0,value:s}),Object.defineProperty(this,"title",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"people",{enumerable:!0,configurable:!0,writable:!0,value:a}),Object.defineProperty(this,"location",{enumerable:!0,configurable:!0,writable:!0,value:o}),Object.defineProperty(this,"description",{enumerable:!0,configurable:!0,writable:!0,value:l}),Object.defineProperty(this,"calendarId",{enumerable:!0,configurable:!0,writable:!0,value:u}),Object.defineProperty(this,"_options",{enumerable:!0,configurable:!0,writable:!0,value:d}),Object.defineProperty(this,"_customContent",{enumerable:!0,configurable:!0,writable:!0,value:c}),Object.defineProperty(this,"_foreignProperties",{enumerable:!0,configurable:!0,writable:!0,value:f}),Object.defineProperty(this,"_previousConcurrentEvents",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_totalConcurrentEvents",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_nDaysInGrid",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_eventFragments",{enumerable:!0,configurable:!0,writable:!0,value:{}})}get _isSingleDayTimed(){return Pa.test(this.start)&&Pa.test(this.end)&&hn(this.start)===hn(this.end)}get _isSingleDayFullDay(){return Ss.test(this.start)&&Ss.test(this.end)&&this.start===this.end}get _isMultiDayTimed(){return Pa.test(this.start)&&Pa.test(this.end)&&hn(this.start)!==hn(this.end)}get _isMultiDayFullDay(){return Ss.test(this.start)&&Ss.test(this.end)&&this.start!==this.end}get _isSingleHybridDayTimed(){if(!this._config.isHybridDay||!Pa.test(this.start)||!Pa.test(this.end))return!1;const e=hn(this.start),n=hn(this.end),i=si(new Date(_n(n).getTime()-864e5));if(e!==n&&e!==i)return!1;const s=this._config.dayBoundaries.value,r=Qr(yl(this.start)),a=Qr(yl(this.end));return r>=s.start&&(a<=s.end||a>r)||r<s.end&&a<=s.end}get _color(){return this.calendarId&&this._config.calendars.value&&this.calendarId in this._config.calendars.value?this._config.calendars.value[this.calendarId].colorName:Tre}_getForeignProperties(){return this._foreignProperties}_getExternalEvent(){return{id:this.id,start:this.start,end:this.end,title:this.title,people:this.people,location:this.location,description:this.description,calendarId:this.calendarId,_options:this._options,...this._getForeignProperties()}}},N$=class{constructor(e,n,i,s){Object.defineProperty(this,"_config",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"id",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(this,"start",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"end",{enumerable:!0,configurable:!0,writable:!0,value:s}),Object.defineProperty(this,"people",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"location",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"description",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"title",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"calendarId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_foreignProperties",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_options",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_customContent",{enumerable:!0,configurable:!0,writable:!0,value:{}})}build(){return new Pre(this._config,this.id,this.start,this.end,this.title,this.people,this.location,this.description,this.calendarId,this._options,this._customContent,this._foreignProperties)}withTitle(e){return this.title=e,this}withPeople(e){return this.people=e,this}withLocation(e){return this.location=e,this}withDescription(e){return this.description=e,this}withForeignProperties(e){return this._foreignProperties=e,this}withCalendarId(e){return this.calendarId=e,this}withOptions(e){return this._options=e,this}withCustomContent(e){return this._customContent=e,this}};const zm=(t,e)=>{const n=new N$(e.config,t.id,t.start,t.end).withTitle(t.title).withPeople(t.people).withCalendarId(t.calendarId).withForeignProperties(JSON.parse(JSON.stringify(t._getForeignProperties()))).withLocation(t.location).withDescription(t.description).withOptions(t._options).withCustomContent(t._customContent).build();return n._nDaysInGrid=t._nDaysInGrid,n},Cre=t=>t.reduce((e,n,i)=>i===0?n:i===t.length-1?`${e} & ${n}`:`${e}, ${n}`,""),sl=(t,e)=>{const{year:n,month:i,date:s}=yr(t);return new Date(n,i,s).toLocaleDateString(e,{day:"numeric",month:"long",year:"numeric"})},El=sl,Pu=(t,e)=>{const{year:n,month:i,date:s,hours:r,minutes:a}=yr(t);return new Date(n,i,s,r,a).toLocaleTimeString(e,{hour:"numeric",minute:"numeric"})},F$=(t,e,n="")=>{const i={start:t.start,end:t.end};return t._isSingleDayFullDay?sl(i.start,e):t._isMultiDayFullDay?`${sl(i.start,e)} ${n} ${sl(i.end,e)}`:t._isSingleDayTimed&&i.start!==i.end?`${sl(i.start,e)} <span aria-hidden="true"></span> ${Pu(i.start,e)} ${n} ${Pu(i.end,e)}`:t._isSingleDayTimed&&t.start===t.end?`${sl(i.start,e)}, ${Pu(i.start,e)}`:`${sl(i.start,e)}, ${Pu(i.start,e)} ${n} ${sl(i.end,e)}, ${Pu(i.end,e)}`};function Ere({week:t}){const e=An(Wo),n=t.map(o=>{const l=["sx__date-picker__day"];return UP(o)&&l.push("sx__date-picker__day--today"),si(o)===e.datePickerState.selectedDate.value&&l.push("sx__date-picker__day--selected"),bre(o,_n(e.datePickerState.datePickerDate.value))||l.push("is-leading-or-trailing"),{day:o,classes:l}}),i=o=>{const l=si(o);return l>=e.config.min&&l<=e.config.max},s=o=>{e.datePickerState.selectedDate.value=si(o),e.datePickerState.close()},r=o=>si(o.day)===e.datePickerState.datePickerDate.value,a=o=>{if(o.key==="Enter"){e.datePickerState.selectedDate.value=e.datePickerState.datePickerDate.value,e.datePickerState.close();return}const l=new Map([["ArrowDown",7],["ArrowUp",-7],["ArrowLeft",-1],["ArrowRight",1]]);e.datePickerState.datePickerDate.value=iu(e.datePickerState.datePickerDate.value,l.get(o.key)||0)};return Q(Nt,{children:Q("div",{"data-testid":fre,className:"sx__date-picker__week",children:n.map(o=>Q("button",{type:"button",tabIndex:r(o)?0:-1,disabled:!i(o.day),"aria-label":El(e.datePickerState.datePickerDate.value,e.config.locale.value),className:o.classes.join(" "),"data-focus":r(o)?"true":void 0,onClick:()=>s(o.day),onKeyDown:a,children:o.day.getDate()}))})})}function Ire({seatYearsView:t}){const e=Ms(),n=An(Wo),[i,s]=Ot([]),r=()=>{const a=_n(n.datePickerState.datePickerDate.value);s(n.timeUnitsImpl.getMonthWithTrailingAndLeadingDays(a.getFullYear(),a.getMonth()))};return kn(()=>{r()},[n.datePickerState.datePickerDate.value]),kn(()=>{const a=new MutationObserver(l=>{l.forEach(u=>{const d=u.target;d.dataset.focus==="true"&&d.focus()})}),o=document.getElementById(e);return a.observe(o,{childList:!0,subtree:!0,attributes:!0}),()=>a.disconnect()},[]),Q(Nt,{children:Q("div",{id:e,"data-testid":hre,className:"sx__date-picker__month-view",children:[Q(_re,{setYearsView:t}),Q(yre,{}),i.map(a=>Q(Ere,{week:a}))]})})}function Dre({year:t,setYearAndMonth:e,isExpanded:n,expand:i}){const s=An(Wo),r=s.timeUnitsImpl.getMonthsFor(t),a=(o,l)=>{o.stopPropagation(),e(t,l.getMonth())};return Q(Nt,{children:Q("li",{className:n?"sx__is-expanded":"",children:[Q("button",{type:"button",className:"sx__date-picker__years-accordion__expand-button sx__ripple--wide",onClick:()=>i(t),children:t}),n&&Q("div",{className:"sx__date-picker__years-view-accordion__panel",children:r.map(o=>Q("button",{type:"button",className:"sx__date-picker__years-view-accordion__month",onClick:l=>a(l,o),children:O$(o,s.config.locale.value)}))})]})})}function Are({setMonthView:t}){const e=An(Wo),n=_n(e.config.min).getFullYear(),i=_n(e.config.max).getFullYear(),s=Array.from({length:i-n+1},(u,d)=>n+d),{year:r}=yr(e.datePickerState.selectedDate.value),[a,o]=Ot(r),l=(u,d)=>{e.datePickerState.datePickerDate.value=si(new Date(u,d,1)),t()};return kn(()=>{var u;const d=(u=document.querySelector(".sx__date-picker__years-view"))===null||u===void 0?void 0:u.querySelector(".sx__is-expanded");d&&d.scrollIntoView({block:"center"})},[]),Q(Nt,{children:Q("ul",{className:"sx__date-picker__years-view","data-testid":dre,children:s.map(u=>Q(Dre,{year:u,setYearAndMonth:(d,c)=>l(d,c),isExpanded:a===u,expand:d=>o(d)}))})})}const Ore=t=>{if(t){const e=t.scrollHeight>t.clientHeight,i=window.getComputedStyle(t).overflowY.indexOf("hidden")!==-1;return e&&!i}return!0},B$=(t,e=[])=>!t||t===document.body||t.nodeType===Node.DOCUMENT_FRAGMENT_NODE?(e.push(window),e):(Ore(t)&&e.push(t),B$(t.assignedSlot?t.assignedSlot.parentNode:t.parentNode,e)),pR="sx__date-picker-popup";function Rre(){const t=An(Wo),[e,n]=Ot(Lu.MONTH_DAYS),i=[pR,t.config.placement],[s,r]=Ot(i);kn(()=>{r([...i,t.datePickerState.isDark.value?"is-dark":"",t.config.teleportTo?"is-teleported":""])},[t.datePickerState.isDark.value]);const a=g=>{g.target.closest(`.${pR}`)||t.datePickerState.close()},o=g=>{g.key==="Escape"&&(t.config.listeners.onEscapeKeyDown?t.config.listeners.onEscapeKeyDown(t):t.datePickerState.close())};kn(()=>(document.addEventListener("click",a),document.addEventListener("keydown",o),()=>{document.removeEventListener("click",a),document.removeEventListener("keydown",o)}),[]);const l=Number(getComputedStyle(document.documentElement).fontSize.split("px")[0]),u=362,d=332,c=()=>{const g=t.datePickerState.inputWrapperElement.value,v=g==null?void 0:g.getBoundingClientRect();if(!(g===void 0||!(v instanceof DOMRect)))return{top:t.config.placement.includes("bottom")?v.height+v.y+1:v.y-l-u,left:t.config.placement.includes("start")?v.x:v.x+v.width-d,width:d,position:"fixed"}},[f,h]=Ot(c());return kn(()=>{const g=t.datePickerState.inputWrapperElement.value;if(g===void 0)return;const v=B$(g),p=()=>h(c());return v.forEach(_=>_.addEventListener("scroll",p)),()=>v.forEach(_=>_.removeEventListener("scroll",p))},[]),Q(Nt,{children:Q("div",{style:t.config.teleportTo?f:void 0,"data-testid":"date-picker-popup",className:s.join(" "),children:e===Lu.MONTH_DAYS?Q(Ire,{seatYearsView:()=>n(Lu.YEARS)}):Q(Are,{setMonthView:()=>n(Lu.MONTH_DAYS)})})})}function Mre({$app:t}){const e=["sx__date-picker-wrapper"],[n,i]=Ot(e);kn(()=>{var r;const a=[...e];t.datePickerState.isDark.value&&a.push("is-dark"),!((r=t.config.style)===null||r===void 0)&&r.fullWidth&&a.push("has-full-width"),t.datePickerState.isDisabled.value&&a.push("is-disabled"),i(a)},[t.datePickerState.isDark.value,t.datePickerState.isDisabled.value]);let s=Q(Rre,{});return t.config.teleportTo&&(s=zse(s,t.config.teleportTo)),Q(Nt,{children:Q("div",{className:n.join(" "),children:Q(Wo.Provider,{value:t,children:[Q(cre,{}),t.datePickerState.isOpen.value&&s]})})})}const oi=_$({});class Vre{constructor(e,n,i,s){Object.defineProperty(this,"datePickerState",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"config",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(this,"timeUnitsImpl",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"translate",{enumerable:!0,configurable:!0,writable:!0,value:s})}}class Lre{constructor(){Object.defineProperty(this,"datePickerState",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"config",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"timeUnitsImpl",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"translate",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}build(){return new Vre(this.datePickerState,this.config,this.timeUnitsImpl,this.translate)}withDatePickerState(e){return this.datePickerState=e,this}withConfig(e){return this.config=e,this}withTimeUnitsImpl(e){return this.timeUnitsImpl=e,this}withTranslate(e){return this.translate=e,this}}var ks;(function(t){t.Day="day",t.Week="week",t.MonthGrid="month-grid",t.MonthAgenda="month-agenda"})(ks||(ks={}));const sS=t=>[t.config.locale.value,{month:"long"}],rS=t=>[t.config.locale.value,{year:"numeric"}],Nre=(t,e,n)=>{const i=_n(e).toLocaleString(...sS(t)),s=_n(e).toLocaleString(...rS(t)),r=_n(n).toLocaleString(...sS(t)),a=_n(n).toLocaleString(...rS(t));return i===r&&s===a?`${i} ${s}`:i!==r&&s===a?`${i}  ${r} ${s}`:`${i} ${s}  ${r} ${a}`},Fre=t=>{const e=_n(t.datePickerState.selectedDate.value).toLocaleString(...sS(t)),n=_n(t.datePickerState.selectedDate.value).toLocaleString(...rS(t));return`${e} ${n}`};function Bre(){const t=An(oi),[e,n]=Ot("");return kn(()=>{t.calendarState.view.value===ks.Week&&n(Nre(t,t.calendarState.range.value.start,t.calendarState.range.value.end)),(t.calendarState.view.value===ks.MonthGrid||t.calendarState.view.value===ks.Day||t.calendarState.view.value===ks.MonthAgenda)&&n(Fre(t))},[t.calendarState.range.value]),Q("span",{className:"sx__range-heading",children:e})}function jre(){const t=An(oi);return Q("button",{type:"button",className:"sx__today-button sx__ripple",onClick:()=>{t.datePickerState.selectedDate.value=si(new Date)},children:t.translate("Today")})}function $re(){const t=An(oi),[e,n]=Ot([]);ia(()=>{t.calendarState.isCalendarSmall.value?n(t.config.views.value.filter(v=>v.hasSmallScreenCompat)):n(t.config.views.value.filter(v=>v.hasWideScreenCompat))});const[i,s]=Ot("");ia(()=>{const v=t.config.views.value.find(p=>p.name===t.calendarState.view.value);v&&s(t.translate(v.label))});const[r,a]=Ot(!1),o=v=>{const p=v.target;p instanceof HTMLElement&&!p.closest(".sx__view-selection")&&a(!1)};kn(()=>(document.addEventListener("click",o),()=>document.removeEventListener("click",o)),[]);const l=v=>{a(!1),t.calendarState.setView(v,t.datePickerState.selectedDate.value)},[u,d]=Ot(),[c,f]=Ot(0),h=v=>{q_(v)&&a(!r),setTimeout(()=>{var p;const _=(p=t.elements.calendarWrapper)===null||p===void 0?void 0:p.querySelectorAll(".sx__view-selection-item");if(!_)return;d(_);const b=_[0];b instanceof HTMLElement&&(f(0),b.focus())},50)},g=(v,p)=>{if(u)if(v.key==="ArrowDown"){const _=u[c+1];_ instanceof HTMLElement&&(f(c+1),_.focus())}else if(v.key==="ArrowUp"){const _=u[c-1];_ instanceof HTMLElement&&(f(c-1),_.focus())}else q_(v)&&l(p)};return Q("div",{className:"sx__view-selection",children:[Q("div",{tabIndex:0,role:"button","aria-label":t.translate("Select View"),className:"sx__view-selection-selected-item sx__ripple",onClick:()=>a(!r),onKeyDown:h,children:i}),r&&Q("ul",{"data-testid":"view-selection-items",className:"sx__view-selection-items",children:e.map(v=>Q("li",{"aria-label":t.translate("Select View")+" "+t.translate(v.label),tabIndex:-1,role:"button",onKeyDown:p=>g(p,v.name),onClick:()=>l(v.name),className:"sx__view-selection-item"+(v.name===t.calendarState.view.value?" is-selected":""),children:t.translate(v.label)}))})]})}function Ure(){const t=An(oi),e=l=>{const u=t.config.views.value.find(d=>d.name===t.calendarState.view.value);u&&(t.datePickerState.selectedDate.value=u.backwardForwardFn(t.datePickerState.selectedDate.value,l==="forwards"?u.backwardForwardUnits:-u.backwardForwardUnits))},[n,i]=Ot("");ia(()=>{i(`${El(t.calendarState.range.value.start,t.config.locale.value)} ${t.translate("to")} ${El(t.calendarState.range.value.end,t.config.locale.value)}`)});const[s,r]=Ot(""),[a,o]=Ot("");return kn(()=>{const l=t.config.views.value.find(u=>u.name===t.calendarState.view.value);l&&(r(l.setDateRange({range:t.calendarState.range,calendarConfig:t.config,timeUnitsImpl:t.timeUnitsImpl,date:l.backwardForwardFn(t.datePickerState.selectedDate.value,-l.backwardForwardUnits)}).end),o(l.setDateRange({range:t.calendarState.range,calendarConfig:t.config,timeUnitsImpl:t.timeUnitsImpl,date:l.backwardForwardFn(t.datePickerState.selectedDate.value,l.backwardForwardUnits)}).start))},[t.datePickerState.selectedDate.value,t.calendarState.view.value]),Q(Nt,{children:Q("div",{className:"sx__forward-backward-navigation","aria-label":n,"aria-live":"polite",children:[Q(X_,{disabled:!!(t.config.minDate.value&&hn(s)<t.config.minDate.value),onClick:()=>e("backwards"),direction:"previous",buttonText:t.translate("Previous period")}),Q(X_,{disabled:!!(t.config.maxDate.value&&hn(a)>t.config.maxDate.value),onClick:()=>e("forwards"),direction:"next",buttonText:t.translate("Next period")})]})})}const mo=t=>document.querySelector(`[data-ccid="${t}"]`);function Hre(){const t=An(oi),e=new Lre().withDatePickerState(t.datePickerState).withConfig(t.datePickerConfig).withTranslate(t.translate).withTimeUnitsImpl(t.timeUnitsImpl).build(),n=t.config._customComponentFns.headerContent,i=Ot(n?Ms():void 0)[0],s=t.config._customComponentFns.headerContentLeftPrepend,r=Ot(s?Ms():void 0)[0],a=t.config._customComponentFns.headerContentLeftAppend,o=Ot(a?Ms():void 0)[0],l=t.config._customComponentFns.headerContentRightPrepend,u=Ot(l?Ms():void 0)[0],d=t.config._customComponentFns.headerContentRightAppend,c=Ot(d?Ms():void 0)[0];kn(()=>{n&&n(mo(i),{}),s&&r&&s(mo(r),{}),a&&a(mo(o),{}),l&&l(mo(u),{}),d&&d(mo(c),{})},[]);const f=t.config.locale.value;return Q("header",{className:"sx__calendar-header","data-ccid":i,children:!n&&Q(Nt,{children:[Q("div",{className:"sx__calendar-header-content",children:[r&&Q("div",{"data-ccid":r}),Q(jre,{}),Q(Ure,{}),Q(Bre,{},t.config.locale.value),o&&Q("div",{"data-ccid":o})]}),Q("div",{className:"sx__calendar-header-content",children:[u&&Q("div",{"data-ccid":u}),t.config.views.value.length>1&&Q($re,{},f+"-view-selection"),Q(Mre,{$app:e}),c&&Q("div",{"data-ccid":c})]})]})})}const zre=(t,e)=>{t.elements.calendarWrapper=document.getElementById(e)},Wre=(t,e)=>{const n=t.config.views.value.find(i=>i.name===t.calendarState.view.value);if(e){if(n.hasSmallScreenCompat)return;const i=t.config.views.value.find(s=>s.hasSmallScreenCompat);i&&t.calendarState.setView(i.name,t.datePickerState.selectedDate.value)}else{if(n.hasWideScreenCompat)return;const i=t.config.views.value.find(s=>s.hasWideScreenCompat);i&&t.calendarState.setView(i.name,t.datePickerState.selectedDate.value)}},Yre=t=>{const e=document.documentElement,n=t.elements.calendarWrapper,i=+window.getComputedStyle(e).fontSize.split("p")[0],s=700,r=16/i,a=s/r;if(!n)return;const o=t.config.callbacks.isCalendarSmall?t.config.callbacks.isCalendarSmall(t):n.clientWidth<a;o!==t.calendarState.isCalendarSmall.value&&(t.calendarState.isCalendarSmall.value=o,Wre(t,o))};function Gre(t){const e="sx__calendar-wrapper",[n,i]=Ot([e]);return ia(()=>{const s=[e];t.calendarState.isCalendarSmall.value&&s.push("sx__is-calendar-small"),t.calendarState.isDark.value&&s.push("is-dark"),t.config.theme==="shadcn"&&s.push("is-shadcn"),i(s)}),n}const qre=t=>{Object.values(t.config.plugins).forEach(e=>{e!=null&&e.onRender&&e.onRender(t)})},Xre=t=>{Object.values(t.config.plugins).forEach(e=>{e!=null&&e.destroy&&e.destroy()})},Kre=t=>{Object.values(t.config.plugins).forEach(e=>{e!=null&&e.beforeRender&&e.beforeRender(t)})};function Qre({$app:t}){var e;const n=Ms(),i=Ms();kn(()=>{var f;return zre(t,n),qre(t),!((f=t.config.callbacks)===null||f===void 0)&&f.onRender&&t.config.callbacks.onRender(t),()=>Xre(t)},[]);const s=()=>{Yre(t)};kn(()=>{if(t.config.isResponsive)return s(),window.addEventListener("resize",s),()=>window.removeEventListener("resize",s)},[]);const r=Gre(t),[a,o]=Ot();ia(()=>{const f=t.config.views.value.find(g=>g.name===t.calendarState.view.value),h=document.getElementById(i);!f||!h||f.name===(a==null?void 0:a.name)||(a&&a.destroy(),o(f),f.render(h,t))});const[l,u]=Ot(""),[d,c]=Ot("");return ia(()=>{var f,h;const g=(((f=t.calendarState.range.value)===null||f===void 0?void 0:f.start)||"")>l;c(g?"sx__slide-left":"sx__slide-right"),setTimeout(()=>{c("")},300),u(((h=t.calendarState.range.value)===null||h===void 0?void 0:h.start)||"")}),ia(()=>{t.datePickerConfig.locale.value=t.config.locale.value}),Q(Nt,{children:Q("div",{className:r.join(" "),id:n,children:Q("div",{className:"sx__calendar",children:Q(oi.Provider,{value:t,children:[Q(Hre,{}),Q("div",{className:["sx__view-container",d].join(" "),id:i}),t.config.plugins.eventModal&&t.config.plugins.eventModal.calendarEvent.value&&Q(t.config.plugins.eventModal.ComponentFn,{$app:t},(e=t.config.plugins.eventModal.calendarEvent.value)===null||e===void 0?void 0:e.id)]})})})})}const Lp=(t,e)=>{const{id:n,start:i,end:s,title:r,description:a,location:o,people:l,_options:u,...d}=t;return new N$(e,n,i,s).withTitle(r).withDescription(a).withLocation(o).withPeople(l).withCalendarId(t.calendarId).withOptions(u).withForeignProperties(d).withCustomContent(t._customContent).build()};let Jre=class{constructor(e){Object.defineProperty(this,"$app",{enumerable:!0,configurable:!0,writable:!0,value:e})}set(e){this.$app.calendarEvents.list.value=e.map(n=>Lp(n,this.$app.config))}add(e){const n=Lp(e,this.$app.config),i=[...this.$app.calendarEvents.list.value];i.push(n),this.$app.calendarEvents.list.value=i}get(e){var n;return(n=this.$app.calendarEvents.list.value.find(i=>i.id===e))===null||n===void 0?void 0:n._getExternalEvent()}getAll(){return this.$app.calendarEvents.list.value.map(e=>e._getExternalEvent())}remove(e){const n=this.$app.calendarEvents.list.value.findIndex(s=>s.id===e),i=[...this.$app.calendarEvents.list.value];i.splice(n,1),this.$app.calendarEvents.list.value=i}update(e){const n=this.$app.calendarEvents.list.value.findIndex(s=>s.id===e.id),i=[...this.$app.calendarEvents.list.value];i.splice(n,1,Lp(e,this.$app.config)),this.$app.calendarEvents.list.value=i}};class Zre{constructor(e){var n;Object.defineProperty(this,"$app",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"events",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.events=new Jre(this.$app),Kre(this.$app),Object.values(this.$app.config.plugins).forEach(i=>{i!=null&&i.name&&(this[i.name]=i)}),!((n=e.config.callbacks)===null||n===void 0)&&n.beforeRender&&e.config.callbacks.beforeRender(e)}render(e){z_(oc(Qre,{$app:this.$app}),e)}setTheme(e){this.$app.calendarState.isDark.value=e==="dark"}getTheme(){return this.$app.calendarState.isDark.value?"dark":"light"}_setCustomComponentFn(e,n){this.$app.config._customComponentFns[e]=n}}class eae{constructor(e,n,i,s,r,a,o,l={calendarWrapper:void 0}){Object.defineProperty(this,"config",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"timeUnitsImpl",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(this,"calendarState",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"datePickerState",{enumerable:!0,configurable:!0,writable:!0,value:s}),Object.defineProperty(this,"translate",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"datePickerConfig",{enumerable:!0,configurable:!0,writable:!0,value:a}),Object.defineProperty(this,"calendarEvents",{enumerable:!0,configurable:!0,writable:!0,value:o}),Object.defineProperty(this,"elements",{enumerable:!0,configurable:!0,writable:!0,value:l})}}class tae{constructor(){Object.defineProperty(this,"config",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"timeUnitsImpl",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"datePickerState",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"calendarState",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"translate",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"datePickerConfig",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"calendarEvents",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}build(){return new eae(this.config,this.timeUnitsImpl,this.calendarState,this.datePickerState,this.translate,this.datePickerConfig,this.calendarEvents)}withConfig(e){return this.config=e,this}withTimeUnitsImpl(e){return this.timeUnitsImpl=e,this}withDatePickerState(e){return this.datePickerState=e,this}withCalendarState(e){return this.calendarState=e,this}withTranslate(e){return this.translate=e,this}withDatePickerConfig(e){return this.datePickerConfig=e,this}withCalendarEvents(e){return this.calendarEvents=e,this}}var zr;(function(t){t.SLASH="/",t.DASH="-",t.PERIOD="."})(zr||(zr={}));var Wr;(function(t){t.DMY="DMY",t.MDY="MDY",t.YMD="YMD"})(Wr||(Wr={}));const wf={slashMDY:{delimiter:zr.SLASH,order:Wr.MDY},slashDMY:{delimiter:zr.SLASH,order:Wr.DMY},slashYMD:{delimiter:zr.SLASH,order:Wr.YMD},periodDMY:{delimiter:zr.PERIOD,order:Wr.DMY},dashYMD:{delimiter:zr.DASH,order:Wr.YMD}},nae=new Map([["en-US",wf.slashMDY],["en-GB",wf.slashDMY],["zh-CN",wf.slashYMD],["de-DE",wf.periodDMY],["sv-SE",wf.dashYMD]]);class iae extends Error{constructor(e){super(`Locale not supported: ${e}`)}}class j$ extends Error{constructor(e,n){super(`Invalid date format: ${e} for locale: ${n}`)}}const Xg=(t,e,n)=>{const i=t.match(e);if(!i)throw new j$(t,n);return i},sae=(t,e)=>{if(/^\d{4}-\d{2}-\d{2}$/.test(t))return t;const i=nae.get(e);if(!i)throw new iae(e);const{order:s,delimiter:r}=i,a=/^(\d{1,2})\/(\d{1,2})\/(\d{4})$/,o=/^(\d{1,2})\.(\d{1,2})\.(\d{4})$/,l=/^(\d{4})\/(\d{1,2})\/(\d{1,2})$/;if(s===Wr.DMY&&r===zr.SLASH){const u=Xg(t,a,e),[,d,c,f]=u;return`${f}-${As(+c)}-${As(+d)}`}if(s===Wr.MDY&&r===zr.SLASH){const u=Xg(t,a,e),[,d,c,f]=u;return`${f}-${As(+d)}-${As(+c)}`}if(s===Wr.YMD&&r===zr.SLASH){const u=Xg(t,l,e),[,d,c,f]=u;return`${d}-${As(+c)}-${As(+f)}`}if(s===Wr.DMY&&r===zr.PERIOD){const u=Xg(t,o,e),[,d,c,f]=u;return`${f}-${As(+c)}-${As(+d)}`}throw new j$(t,e)},rae=(t,e)=>{var n;const i=si(new Date),s=typeof e=="string"?e:i,r=$t(!1),a=$t(t.disabled||!1),o=$t(Lu.MONTH_DAYS),l=$t(s),u=$t(s||i),d=$t(((n=t.style)===null||n===void 0?void 0:n.dark)||!1),c=$t(e||""),f=$t(e||"");Mo(()=>{try{const v=sae(c.value,t.locale.value);if(v<t.min||v>t.max){c.value=f.value;return}l.value=v,u.value=v,f.value=c.value}catch{}});let h=!1;const g=v=>{if(!h)return h=!0;t.listeners.onChange(v)};return Mo(()=>{var v;!((v=t.listeners)===null||v===void 0)&&v.onChange&&g(l.value)}),{inputWrapperElement:$t(void 0),isOpen:r,isDisabled:a,datePickerView:o,selectedDate:l,datePickerDate:u,inputDisplayedValue:c,isDark:d,open:()=>r.value=!0,close:()=>r.value=!1,toggle:()=>r.value=!r.value,setView:v=>o.value=v}},aae={Date:"Datum","MM/DD/YYYY":"TT.MM.JJJJ","Next month":"Nchster Monat","Previous month":"Vorheriger Monat","Choose Date":"Datum auswhlen"},oae={Today:"Heute",Month:"Monat",Week:"Woche",Day:"Tag","Select View":"Ansicht auswhlen",events:"Ereignisse",event:"Ereignis","No events":"Keine Ereignisse","Next period":"Nchster Zeitraum","Previous period":"Vorheriger Zeitraum",to:"bis","Full day- and multiple day events":"Ganztgige und mehrtgige Ereignisse","Link to {{n}} more events on {{date}}":"Link zu {{n}} weiteren Ereignissen am {{date}}","Link to 1 more event on {{date}}":"Link zu 1 weiteren Ereignis am {{date}}"},lae={...aae,...oae},uae={Date:"Date","MM/DD/YYYY":"MM/DD/YYYY","Next month":"Next month","Previous month":"Previous month","Choose Date":"Choose Date"},cae={Today:"Today",Month:"Month",Week:"Week",Day:"Day","Select View":"Select View",events:"events",event:"event","No events":"No events","Next period":"Next period","Previous period":"Previous period",to:"to","Full day- and multiple day events":"Full day- and multiple day events","Link to {{n}} more events on {{date}}":"Link to {{n}} more events on {{date}}","Link to 1 more event on {{date}}":"Link to 1 more event on {{date}}"},dae={...uae,...cae},hae={Date:"Data","MM/DD/YYYY":"DD/MM/YYYY","Next month":"Mese successivo","Previous month":"Mese precedente","Choose Date":"Scegli la data"},fae={Today:"Oggi",Month:"Mese",Week:"Settimana",Day:"Giorno","Select View":"Seleziona la vista",events:"eventi",event:"evento","No events":"Nessun evento","Next period":"Periodo successivo","Previous period":"Periodo precedente",to:"a","Full day- and multiple day events":"Eventi della giornata e plurigiornalieri","Link to {{n}} more events on {{date}}":"Link a {{n}} eventi in pi il {{date}}","Link to 1 more event on {{date}}":"Link a 1 evento in pi il {{date}}"},mae={...hae,...fae},vae={Date:"Date","MM/DD/YYYY":"DD/MM/YYYY","Next month":"Next month","Previous month":"Previous month","Choose Date":"Choose Date"},gae={Today:"Today",Month:"Month",Week:"Week",Day:"Day","Select View":"Select View",events:"events",event:"event","No events":"No events","Next period":"Next period","Previous period":"Previous period",to:"to","Full day- and multiple day events":"Full day- and multiple day events","Link to {{n}} more events on {{date}}":"Link to {{n}} more events on {{date}}","Link to 1 more event on {{date}}":"Link to 1 more event on {{date}}"},pae={...vae,...gae},_ae={Date:"Datum","MM/DD/YYYY":"-MM-DD","Next month":"Nsta mnad","Previous month":"Fregende mnad","Choose Date":"Vlj datum"},yae={Today:"Idag",Month:"Mnad",Week:"Vecka",Day:"Dag","Select View":"Vlj vy",events:"hndelser",event:"hndelse","No events":"Inga hndelser","Next period":"Nsta period","Previous period":"Fregende period",to:"till","Full day- and multiple day events":"Heldags- och flerdagshndelser","Link to {{n}} more events on {{date}}":"Lnk till {{n}} fler hndelser den {{date}}","Link to 1 more event on {{date}}":"Lnk till 1 hndelse till den {{date}}"},bae={..._ae,...yae},wae={Date:"","MM/DD/YYYY":"//","Next month":"","Previous month":"","Choose Date":""},xae={Today:"",Month:"",Week:"",Day:"","Select View":"",events:"",event:"","No events":"","Next period":"","Previous period":"",to:"","Full day- and multiple day events":"","Link to {{n}} more events on {{date}}":"{{date}}{{n}}","Link to 1 more event on {{date}}":"{{date}}1"},Sae={...wae,...xae},kae={Date:"","MM/DD/YYYY":"//","Next month":"","Previous month":"","Choose Date":""},Tae={Today:"",Month:"",Week:"",Day:"","Select View":"",events:"",event:"","No events":"","Next period":"","Previous period":"",to:"","Full day- and multiple day events":"","Link to {{n}} more events on {{date}}":"{{date}}{{n}}","Link to 1 more event on {{date}}":"{{date}}1"},Pae={...kae,...Tae},Cae={Date:"","MM/DD/YYYY":"//","Next month":"","Previous month":"","Choose Date":""},Eae={Today:"",Month:"",Week:"",Day:"","Select View":"",events:"",event:"","No events":"","Next period":"","Previous period":"",to:"","Full day- and multiple day events":"","Link to {{n}} more events on {{date}}":"{{date}} {{n}}","Link to 1 more event on {{date}}":"{{date}} 1"},Iae={...Cae,...Eae},Dae={Date:"","MM/DD/YYYY":"//","Next month":" ","Previous month":" ","Choose Date":" "},Aae={Today:"",Month:"",Week:"",Day:"","Select View":" ",events:"",event:"","No events":" ","Next period":" ","Previous period":" ",to:"","Full day- and multiple day events":"       ","Link to {{n}} more events on {{date}}":"  {{n}}    {{date}}","Link to 1 more event on {{date}}":"  1    {{date}}"},Oae={...Dae,...Aae},Rae={Date:"","MM/DD/YYYY":"//","Next month":" ","Previous month":" ","Choose Date":" "},Mae={Today:"",Month:"",Week:"",Day:"","Select View":" ",events:"",event:"","No events":" ","Next period":"","Previous period":"",to:"","Full day- and multiple day events":"   ","Link to {{n}} more events on {{date}}":"{{date}} {{n}}   ","Link to 1 more event on {{date}}":"{{date}} 1   "},Vae={...Rae,...Mae},Lae={Date:"Date","MM/DD/YYYY":"JJ/MM/AAAA","Next month":"Mois suivant","Previous month":"Mois prcdent","Choose Date":"Choisir une date"},Nae={Today:"Aujourd'hui",Month:"Mois",Week:"Semaine",Day:"Jour","Select View":"Choisir la vue",events:"vnements",event:"vnement","No events":"Aucun vnement","Next period":"Priode suivante","Previous period":"Priode prcdente",to:"","Full day- and multiple day events":"vnements d'une ou plusieurs journes","Link to {{n}} more events on {{date}}":"Lien vers {{n}} autres vnements le {{date}}","Link to 1 more event on {{date}}":"Lien vers 1 autre vnement le {{date}}"},Fae={...Lae,...Nae},Bae={Date:"Dato","MM/DD/YYYY":"-MM-DD","Next month":"Nste mned","Previous month":"Foregende mned","Choose Date":"Vlg dato"},jae={Today:"I dag",Month:"Mned",Week:"Uge",Day:"Dag","Select View":"Vlg visning",events:"begivenheder",event:"begivenhed","No events":"Ingen begivenheder","Next period":"Nste periode","Previous period":"Forgende periode",to:"til","Full day- and multiple day events":"Heldagsbegivenheder og flerdagsbegivenheder","Link to {{n}} more events on {{date}}":"Link til {{n}} flere begivenheder den {{date}}","Link to 1 more event on {{date}}":"Link til 1 mere begivenhed den {{date}}"},$ae={...Bae,...jae},Uae={Date:"Data","MM/DD/YYYY":"DD/MM/YYYY","Next month":"Nastpny miesic","Previous month":"Poprzedni miesic","Choose Date":"Wybiewrz dat"},Hae={Today:"Dzisiaj",Month:"Miesic",Week:"Tydzie",Day:"Dzie","Select View":"Wybierz widok",events:"wydarzenia",event:"wydarzenie","No events":"Brak wydarze","Next period":"Nastpny okres","Previous period":"Poprzedni okres",to:"do","Full day- and multiple day events":"Wydarzenia caodniowe i wielodniowe","Link to {{n}} more events on {{date}}":"Link do {{n}} kolejnych wydarze w dniu {{date}}","Link to 1 more event on {{date}}":"Link do 1 kolejnego wydarzenia w dniu {{date}}"},zae={...Uae,...Hae},Wae={Date:"Fecha","MM/DD/YYYY":"DD/MM/YYYY","Next month":"Siguiente mes","Previous month":"Mes anterior","Choose Date":"Seleccione una fecha"},Yae={Today:"Hoy",Month:"Mes",Week:"Semana",Day:"Da","Select View":"Seleccione una vista",events:"eventos",event:"evento","No events":"Sin eventos","Next period":"Siguiente perodo","Previous period":"Perodo anterior",to:"a","Full day- and multiple day events":"Da completo y eventos de mltiples das","Link to {{n}} more events on {{date}}":"Enlace a {{n}} eventos ms el {{date}}","Link to 1 more event on {{date}}":"Enlace a 1 evento ms el {{date}}"},Gae={...Wae,...Yae},qae={Today:"Vandaag",Month:"Maand",Week:"Week",Day:"Dag","Select View":"Kies weergave",events:"gebeurtenissen",event:"gebeurtenis","No events":"Geen gebeurtenissen","Next period":"Volgende periode","Previous period":"Vorige periode",to:"tot","Full day- and multiple day events":"Evenementen van een hele dag en meerdere dagen","Link to {{n}} more events on {{date}}":"Link naar {{n}} meer evenementen op {{date}}","Link to 1 more event on {{date}}":"Link naar 1 meer evenement op {{date}}"},Xae={Date:"Datum","MM/DD/YYYY":"DD-MM-JJJJ","Next month":"Volgende maand","Previous month":"Vorige maand","Choose Date":"Kies datum"},Kae={...Xae,...qae},Qae={Date:"Data","MM/DD/YYYY":"DD/MM/YYYY","Next month":"Ms seguinte","Previous month":"Ms anterior","Choose Date":"Escolha uma data"},Jae={Today:"Hoje",Month:"Ms",Week:"Semana",Day:"Dia","Select View":"Selecione uma visualizao",events:"eventos",event:"evento","No events":"Sem eventos","Next period":"Perodo seguinte","Previous period":"Perodo anterior",to:"a","Full day- and multiple day events":"Dia inteiro e eventos de vrios dias","Link to {{n}} more events on {{date}}":"Link para mais {{n}} eventos em {{date}}","Link to 1 more event on {{date}}":"Link para mais 1 evento em {{date}}"},Zae={...Qae,...Jae},eoe={Date:"Dtum","MM/DD/YYYY":"DD/MM/YYYY","Next month":"al mesiac","Previous month":"Predchdzajci mesiac","Choose Date":"Vyberte dtum"},toe={Today:"Dnes",Month:"Mesiac",Week:"Tde",Day:"De","Select View":"Vyberte zobrazenie",events:"udalosti",event:"udalos","No events":"iadne udalosti","Next period":"alie obdobie","Previous period":"Predchdzajce obdobie",to:"do","Full day- and multiple day events":"Celodenn a viacdov udalosti","Link to {{n}} more events on {{date}}":"Odkaz na {{n}} alch udalost da {{date}}","Link to 1 more event on {{date}}":"Odkaz na 1 aliu udalos da {{date}}"},noe={...eoe,...toe},ioe={Date:"","MM/DD/YYYY":"DD/MM/YYYY","Next month":" ","Previous month":" ","Choose Date":" "},soe={Today:"",Month:"",Week:"",Day:"","Select View":" ",events:"",event:"","No events":" ","Next period":" ","Previous period":" ",to:"","Full day- and multiple day events":"   ","Link to {{n}} more events on {{date}}":"  {{n}}    {{date}}","Link to 1 more event on {{date}}":"  1    {{date}}"},roe={...ioe,...soe},aoe={Date:"Tarih","MM/DD/YYYY":"GG/AA/YYYY","Next month":"Sonraki ay","Previous month":"nceki ay","Choose Date":"Tarih Se"},ooe={Today:"Bugn",Month:"Aylk",Week:"Haftalk",Day:"Gnlk","Select View":"Grnm Se",events:"etkinlikler",event:"etkinlik","No events":"Etkinlik yok","Next period":"Sonraki dnem","Previous period":"nceki dnem",to:"dan","Full day- and multiple day events":"Tm gn ve oklu gn etkinlikleri","Link to {{n}} more events on {{date}}":"{{date}} tarihinde {{n}} etkinlie balant","Link to 1 more event on {{date}}":"{{date}} tarihinde 1 etkinlie balant"},loe={...aoe,...ooe},uoe={Date:"","MM/DD/YYYY":"//","Next month":" ","Previous month":" ","Choose Date":" "},coe={Today:"",Month:"",Week:"",Day:"","Select View":" ",events:"",event:"","No events":" ","Next period":" ","Previous period":" ",to:"","Full day- and multiple day events":"         ","Link to {{n}} more events on {{date}}":"{{date}}  {{n}}  ","Link to 1 more event on {{date}}":"{{date}}  1  "},doe={...uoe,...coe},hoe={Date:"Tanggal","MM/DD/YYYY":"DD.MM.YYYY","Next month":"Bulan depan","Previous month":"Bulan sebelumnya","Choose Date":"Pilih tanggal"},foe={Today:"Hari Ini",Month:"Bulan",Week:"Minggu",Day:"Hari","Select View":"Pilih tampilan",events:"Acara",event:"Acara","No events":"Tidak ada acara","Next period":"Periode selanjutnya","Previous period":"Periode sebelumnya",to:"sampai","Full day- and multiple day events":"Sepanjang hari dan acara beberapa hari ","Link to {{n}} more events on {{date}}":"Tautan ke {{n}} acara lainnya pada {{date}}","Link to 1 more event on {{date}}":"Tautan ke 1 acara lainnya pada {{date}}"},moe={...hoe,...foe},voe={Date:"Datum","MM/DD/YYYY":"DD/MM/YYYY","Next month":"Dal msc","Previous month":"Pedchoz msc","Choose Date":"Vyberte datum"},goe={Today:"Dnes",Month:"Msc",Week:"Tden",Day:"Den","Select View":"Vyberte zobrazen",events:"udlosti",event:"udlost","No events":"dn udlosti","Next period":"Pt obdob","Previous period":"Pedchoz obdob",to:"do","Full day- and multiple day events":"Celodenn a vcedenn udlosti","Link to {{n}} more events on {{date}}":"Odkaz na {{n}} dalch udlost dne {{date}}","Link to 1 more event on {{date}}":"Odkaz na 1 dal udlost dne {{date}}"},poe={...voe,...goe},_oe={Date:"Kuupev","MM/DD/YYYY":"PP.KK.AAAA","Next month":"Jrgmine kuu","Previous month":"Eelmine kuu","Choose Date":"Vali kuupev"},yoe={Today:"Tna",Month:"Kuu",Week:"Ndal",Day:"Pev","Select View":"Vali vaade",events:"sndmused",event:"sndmus","No events":"Pole sndmusi","Next period":"Jrgmine periood","Previous period":"Eelmine periood",to:"kuni","Full day- and multiple day events":"Tispeva- ja mitmepevasndmused","Link to {{n}} more events on {{date}}":"Link {{n}} rohkematele sndmustele kuupeval {{date}}","Link to 1 more event on {{date}}":"Link hele lisasndmusele kuupeval {{date}}"},boe={..._oe,...yoe},woe={Date:"","MM/DD/YYYY":"//","Next month":" ","Previous month":" ","Choose Date":" "},xoe={Today:"",Month:"",Week:"",Day:"","Select View":" ",events:"",event:"","No events":" ","Next period":" ","Previous period":" ",to:"","Full day- and multiple day events":"       ","Link to {{n}} more events on {{date}}":"  {{n}}    {{date}}","Link to 1 more event on {{date}}":"  1    {{date}}"},Soe={...woe,...xoe},koe={Date:"Datum","MM/DD/YYYY":"DD/MM/YYYY","Next month":"Sledei mesec","Previous month":"Prethodni mesec","Choose Date":"Izaberite datum"},Toe={Today:"Danas",Month:"Mesec",Week:"Nedelja",Day:"Dan","Select View":"Odaberite pregled",events:"Dogaaji",event:"Dogaaj","No events":"Nema dogaaja","Next period":"Naredni period","Previous period":"Prethodni period",to:"do","Full day- and multiple day events":"Celodnevni i viednevni dogaaji","Link to {{n}} more events on {{date}}":"Link do jo {{n}} dogaaja na {{date}}","Link to 1 more event on {{date}}":"Link do jednog dogaaja na {{date}}"},Poe={...koe,...Toe},Coe={Date:"Data","MM/DD/YYYY":"DD/MM/YYYY","Next month":"Segent mes","Previous month":"Mes anterior","Choose Date":"Selecciona una data"},Eoe={Today:"Avui",Month:"Mes",Week:"Setmana",Day:"Dia","Select View":"Selecciona una vista",events:"Esdeveniments",event:"Esdeveniment","No events":"Sense esdeveniments","Next period":"Segent perode","Previous period":"Perode anterior",to:"a","Full day- and multiple day events":"Esdeveniments de dia complet i de mltiples dies","Link to {{n}} more events on {{date}}":"Enlla a {{n}} esdeveniments ms el {{date}}","Link to 1 more event on {{date}}":"Enlla a 1 esdeveniment ms el {{date}}"},Ioe={...Coe,...Eoe},Doe={Date:"","MM/DD/YYYY":"DD/MM/YYYY","Next month":" ","Previous month":" ","Choose Date":" "},Aoe={Today:"",Month:"",Week:"",Day:"","Select View":" ",events:"",event:"","No events":" ","Next period":" ","Previous period":" ",to:"","Full day- and multiple day events":"   ","Link to {{n}} more events on {{date}}":"   {{n}}   {{date}}","Link to 1 more event on {{date}}":"   1  {{date}}"},Ooe={...Doe,...Aoe},Roe={Date:"Data","MM/DD/YYYY":"MMMM-MM-DD","Next month":"Kitas mnuo","Previous month":"Ankstesnis mnuo","Choose Date":"Pasirinkite dat"},Moe={Today:"iandien",Month:"Mnuo",Week:"Savait",Day:"Diena","Select View":"Pasirinkite vaizd",events:"vykiai",event:"vykis","No events":"vyki nra","Next period":"Kitas laikotarpis","Previous period":"Ankstesnis laikotarpis",to:"iki","Full day- and multiple day events":"Visos dienos ir keli dien vykiai","Link to {{n}} more events on {{date}}":"Nuoroda  dar {{n}} vykius {{date}}","Link to 1 more event on {{date}}":"Nuoroda  dar 1 vien vyk {{date}}"},Voe={...Roe,...Moe};class Loe extends Error{constructor(e){super(`Invalid locale: ${e}`)}}const Noe=(t,e)=>(n,i)=>{if(!/^[a-z]{2}-[A-Z]{2}$/.test(t.value)&&t.value!=="sr-Latn-RS")throw new Loe(t.value);const s=t.value.replaceAll("-",""),r=e.value[s];if(!r)return n;let a=r[n]||n;return Object.keys(i||{}).forEach(o=>{const l=String(i==null?void 0:i[o]);l&&(a=a.replace(`{{${o}}}`,l))}),a},Foe={deDE:lae,enUS:dae,itIT:mae,enGB:pae,svSE:bae,zhCN:Sae,zhTW:Pae,jaJP:Iae,ruRU:Oae,koKR:Vae,frFR:Fae,daDK:$ae,mkMK:roe,plPL:zae,esES:Gae,nlNL:Kae,ptBR:Zae,skSK:noe,trTR:loe,kyKG:doe,idID:moe,csCZ:poe,etEE:boe,ukUA:Soe,caES:Ioe,srLatnRS:Poe,srRS:Ooe,ltLT:Voe};class Boe{constructor(e){Object.defineProperty(this,"config",{enumerable:!0,configurable:!0,writable:!0,value:e})}setLight(){Object.entries(this.config.calendars.value||{}).forEach(([e,n])=>{if(!n.lightColors){console.warn(`No light colors defined for calendar ${e}`);return}this.setColors(n.colorName,n.lightColors)})}setDark(){Object.entries(this.config.calendars.value||{}).forEach(([e,n])=>{if(!n.darkColors){console.warn(`No dark colors defined for calendar ${e}`);return}this.setColors(n.colorName,n.darkColors)})}setColors(e,n){document.documentElement.style.setProperty(`--sx-color-${e}`,n.main),document.documentElement.style.setProperty(`--sx-color-${e}-container`,n.container),document.documentElement.style.setProperty(`--sx-color-on-${e}-container`,n.onContainer)}}const joe=(t,e,n)=>{var i;const s=$t(((i=t.views.value.find(f=>f.name===t.defaultView))===null||i===void 0?void 0:i.name)||t.views.value[0].name),r=I$(()=>s.value),a=$t(null);let o=!1;const l=f=>{if(!o)return o=!0;t.callbacks.onRangeUpdate&&f.value&&t.callbacks.onRangeUpdate(f.value)};Mo(()=>{t.callbacks.onRangeUpdate&&a.value&&l(a)});const u=f=>{var h,g;const p=t.views.value.find(_=>_.name===s.value).setDateRange({calendarConfig:t,date:f,range:a,timeUnitsImpl:e});p.start===((h=a.value)===null||h===void 0?void 0:h.start)&&p.end===((g=a.value)===null||g===void 0?void 0:g.end)||(a.value=p)};u(n||si(new Date));const d=$t(void 0),c=$t(t.isDark.value||!1);return Mo(()=>{const f=new Boe(t);c.value?f.setDark():f.setLight()}),{view:r,isDark:c,setRange:u,range:a,isCalendarSmall:d,setView:(f,h)=>{tS(()=>{s.value=f,u(h)})}}},$oe=(t,e,n)=>{const i=$t(t.map(r=>Lp(r,n))),s=$t(void 0);return{list:i,filterPredicate:s,backgroundEvents:$t(e)}};ks.Week;const $$={start:0,end:2400},Uoe=1600,Wm="blocker",Hoe=(t,e,n)=>t===e?2400:n?2400-t+e:e-t;class zoe{constructor(e=K_,n=zP,i=ks.Week,s=[],r=$$,a,o={},l={},u=!1,d=!0,c={},f={},h=void 0,g=void 0,v={nEventsPerDay:4},p=void 0,_={}){Object.defineProperty(this,"defaultView",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"plugins",{enumerable:!0,configurable:!0,writable:!0,value:l}),Object.defineProperty(this,"isResponsive",{enumerable:!0,configurable:!0,writable:!0,value:d}),Object.defineProperty(this,"callbacks",{enumerable:!0,configurable:!0,writable:!0,value:c}),Object.defineProperty(this,"_customComponentFns",{enumerable:!0,configurable:!0,writable:!0,value:f}),Object.defineProperty(this,"firstDayOfWeek",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"views",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"dayBoundaries",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"weekOptions",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"calendars",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"isDark",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"minDate",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"maxDate",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"monthGridOptions",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"locale",{enumerable:!0,configurable:!0,writable:!0,value:$t(K_)}),Object.defineProperty(this,"theme",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"translations",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.locale=$t(e),this.firstDayOfWeek=$t(n),this.views=$t(s),this.dayBoundaries=$t(r),this.weekOptions=$t(a),this.calendars=$t(o),this.isDark=$t(u),this.minDate=$t(h),this.maxDate=$t(g),this.monthGridOptions=$t(v),this.theme=p,this.translations=$t(_)}get isHybridDay(){return this.dayBoundaries.value.start>this.dayBoundaries.value.end||this.dayBoundaries.value.start!==0&&this.dayBoundaries.value.start===this.dayBoundaries.value.end}get timePointsPerDay(){return Hoe(this.dayBoundaries.value.start,this.dayBoundaries.value.end,this.isHybridDay)}}class Woe{constructor(){Object.defineProperty(this,"locale",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"firstDayOfWeek",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"defaultView",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"views",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"dayBoundaries",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"weekOptions",{enumerable:!0,configurable:!0,writable:!0,value:{gridHeight:Uoe,nDays:7,eventWidth:100,timeAxisFormatOptions:{hour:"numeric"}}}),Object.defineProperty(this,"monthGridOptions",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"calendars",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"plugins",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"isDark",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"isResponsive",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"callbacks",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"minDate",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"maxDate",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"backgroundEvents",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"theme",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"translations",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}build(){return new zoe(this.locale||K_,typeof this.firstDayOfWeek=="number"?this.firstDayOfWeek:zP,this.defaultView||ks.Week,this.views||[],this.dayBoundaries||$$,this.weekOptions,this.calendars,this.plugins,this.isDark,this.isResponsive,this.callbacks,{},this.minDate,this.maxDate,this.monthGridOptions,this.theme,this.translations)}withLocale(e){return this.locale=e,this}withTranslations(e){return this.translations=e,this}withFirstDayOfWeek(e){return this.firstDayOfWeek=e,this}withDefaultView(e){return this.defaultView=e,this}withViews(e){return this.views=e,this}withDayBoundaries(e){return e?(this.dayBoundaries={start:Qr(e.start),end:Qr(e.end)},this):this}withWeekOptions(e){return this.weekOptions={...this.weekOptions,...e},this}withCalendars(e){return this.calendars=e,this}withPlugins(e){return e?(e.forEach(n=>{this.plugins[n.name]=n}),this):this}withIsDark(e){return this.isDark=e,this}withIsResponsive(e){return this.isResponsive=e,this}withCallbacks(e){return this.callbacks=e,this}withMinDate(e){return this.minDate=e,this}withMaxDate(e){return this.maxDate=e,this}withMonthGridOptions(e){return this.monthGridOptions=e,this}withBackgroundEvents(e){return this.backgroundEvents=e,this}withTheme(e){return this.theme=e,this}}const Yoe=(t,e)=>new Woe().withLocale(t.locale).withFirstDayOfWeek(t.firstDayOfWeek).withDefaultView(t.defaultView).withViews(t.views).withDayBoundaries(t.dayBoundaries).withWeekOptions(t.weekOptions).withCalendars(t.calendars).withPlugins(e).withIsDark(t.isDark).withIsResponsive(t.isResponsive).withCallbacks(t.callbacks).withMinDate(t.minDate).withMaxDate(t.maxDate).withMonthGridOptions(t.monthGridOptions).withBackgroundEvents(t.backgroundEvents).withTheme(t.theme).withTranslations(t.translations||Foe).build();var aS;(function(t){t[t.JANUARY=0]="JANUARY",t[t.FEBRUARY=1]="FEBRUARY",t[t.MARCH=2]="MARCH",t[t.APRIL=3]="APRIL",t[t.MAY=4]="MAY",t[t.JUNE=5]="JUNE",t[t.JULY=6]="JULY",t[t.AUGUST=7]="AUGUST",t[t.SEPTEMBER=8]="SEPTEMBER",t[t.OCTOBER=9]="OCTOBER",t[t.NOVEMBER=10]="NOVEMBER",t[t.DECEMBER=11]="DECEMBER"})(aS||(aS={}));class U$ extends Error{constructor(){super("Year zero does not exist in the Gregorian calendar.")}}class Goe extends Date{constructor(e,n,i){if(super(e,n,i),e===0)throw new U$;this.setFullYear(e)}get year(){return this.getFullYear()}get month(){return this.getMonth()}get date(){return this.getDate()}}class qoe{constructor(e){Object.defineProperty(this,"config",{enumerable:!0,configurable:!0,writable:!0,value:e})}get firstDayOfWeek(){return this.config.firstDayOfWeek.value}set firstDayOfWeek(e){this.config.firstDayOfWeek.value=e}getMonthWithTrailingAndLeadingDays(e,n){if(e===0)throw new U$;const i=new Date(e,n,1),s=[this.getWeekFor(i)];let r=!0,a=s[0][0];for(;r;){const o=new Date(a.getFullYear(),a.getMonth(),a.getDate()+7);o.getMonth()===n?(s.push(this.getWeekFor(o)),a=o):r=!1}return s}getWeekFor(e){const n=[this.getFirstDateOfWeek(e)];for(;n.length<7;){const i=n[n.length-1],s=new Date(i);s.setDate(i.getDate()+1),n.push(s)}return n}getMonthsFor(e){return Object.values(aS).filter(n=>!isNaN(Number(n))).map(n=>new Goe(e,Number(n),1))}getFirstDateOfWeek(e){const n=e.getDay()-this.firstDayOfWeek,i=e;return n===0||(n>0?i.setDate(e.getDate()-n):i.setDate(e.getDate()-(7+n))),i}}class Xoe{constructor(){Object.defineProperty(this,"config",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}build(){return new qoe(this.config)}withConfig(e){return this.config=e,this}}const Koe=t=>new Xoe().withConfig(t).build();var Q_;(function(t){t.TOP_START="top-start",t.TOP_END="top-end",t.BOTTOM_START="bottom-start",t.BOTTOM_END="bottom-end"})(Q_||(Q_={}));class Qoe{constructor(e=K_,n=zP,i=si(new Date(1970,0,1)),s=si(new Date(new Date().getFullYear()+50,11,31)),r=Q_.BOTTOM_START,a={},o={},l,u,d,c){Object.defineProperty(this,"min",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"max",{enumerable:!0,configurable:!0,writable:!0,value:s}),Object.defineProperty(this,"placement",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"listeners",{enumerable:!0,configurable:!0,writable:!0,value:a}),Object.defineProperty(this,"style",{enumerable:!0,configurable:!0,writable:!0,value:o}),Object.defineProperty(this,"teleportTo",{enumerable:!0,configurable:!0,writable:!0,value:l}),Object.defineProperty(this,"label",{enumerable:!0,configurable:!0,writable:!0,value:u}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:d}),Object.defineProperty(this,"disabled",{enumerable:!0,configurable:!0,writable:!0,value:c}),Object.defineProperty(this,"locale",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"firstDayOfWeek",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.locale=$t(e),this.firstDayOfWeek=$t(n)}}class Joe{constructor(){Object.defineProperty(this,"locale",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"firstDayOfWeek",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"min",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"max",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"placement",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"listeners",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"style",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"teleportTo",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"label",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"disabled",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}build(){return new Qoe(this.locale,this.firstDayOfWeek,this.min,this.max,this.placement,this.listeners,this.style,this.teleportTo,this.label,this.name,this.disabled)}withLocale(e){return this.locale=e,this}withFirstDayOfWeek(e){return this.firstDayOfWeek=e,this}withMin(e){return this.min=e,this}withMax(e){return this.max=e,this}withPlacement(e){return this.placement=e,this}withListeners(e){return this.listeners=e,this}withStyle(e){return this.style=e,this}withTeleportTo(e){return this.teleportTo=e,this}withLabel(e){return this.label=e,this}withName(e){return this.name=e,this}withDisabled(e){return this.disabled=e,this}}const Zoe=(t,e)=>{var n,i;return new Joe().withLocale(t.locale).withFirstDayOfWeek(t.firstDayOfWeek).withMin(t.minDate).withMax(t.maxDate).withTeleportTo((n=t.datePicker)===null||n===void 0?void 0:n.teleportTo).withStyle((i=t.datePicker)===null||i===void 0?void 0:i.style).withPlacement(Q_.BOTTOM_END).withListeners({onChange:e}).build()},ele=(t,e)=>{let n=null;return i=>{var s;t.setRange(i),!((s=e.callbacks)===null||s===void 0)&&s.onSelectedDateUpdate&&i!==n&&(n=i,e.callbacks.onSelectedDateUpdate(i))}},tle=(t,e)=>{if(t&&e)throw new Error("You cannot provide plugins over the config object and as an argument to createCalendar.")},nle=(t=[])=>{t==null||t.forEach(e=>{if(!Pa.test(e.start)&&!Ss.test(e.start))throw new Error(`[Schedule-X error]: Event start time ${e.start} is not a valid time format. Please refer to the docs for more information.`);if(!Pa.test(e.end)&&!Ss.test(e.end))throw new Error(`[Schedule-X error]: Event end time ${e.end} is not a valid time format. Please refer to the docs for more information.`);if(typeof e.id=="number"&&e.id%1!==0)throw new Error(`[Schedule-X error]: Event id ${e.id} is not a valid id. Only non-unicode characters that can be used by document.querySelector is allowed, see: https://developer.mozilla.org/en-US/docs/Web/CSS/ident. We recommend using uuids or integers.`);if(typeof e.id=="string"&&!/^[a-zA-Z0-9_-]*$/.test(e.id))throw new Error(`[Schedule-X error]: Event id ${e.id} is not a valid id. Only non-unicode characters that can be used by document.querySelector is allowed, see: https://developer.mozilla.org/en-US/docs/Web/CSS/ident. We recommend using uuids or integers.`);if(typeof e.id!="string"&&typeof e.id!="number")throw new Error(`[Schedule-X error]: Event id ${e.id} is not a valid id. Only non-unicode characters that can be used by document.querySelector is allowed, see: https://developer.mozilla.org/en-US/docs/Web/CSS/ident. We recommend using uuids or integers.`)})},ile=(t,e)=>{var n;const i=Yoe(t,e),s=Koe(i),r=joe(i,s,t.selectedDate),a=ele(r,t),o=Zoe(t,a),l=rae(o,t.selectedDate||((n=t.datePicker)===null||n===void 0?void 0:n.selectedDate)),u=$oe(t.events||[],t.backgroundEvents||[],i);return new tae().withConfig(i).withTimeUnitsImpl(s).withDatePickerState(l).withCalendarEvents(u).withDatePickerConfig(o).withCalendarState(r).withTranslate(Noe(i.locale,i.translations)).build()},H$=(t,e)=>(tle(t.plugins,e),t.skipValidation!==!0&&nle(t.events),new Zre(ile(t,t.plugins||[])));class sle{constructor(e){Object.defineProperty(this,"randomId",{enumerable:!0,configurable:!0,writable:!0,value:Ms()}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"label",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"Component",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"setDateRange",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"hasSmallScreenCompat",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"hasWideScreenCompat",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"backwardForwardFn",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"backwardForwardUnits",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=e.name,this.label=e.label,this.Component=e.Component,this.setDateRange=e.setDateRange,this.hasSmallScreenCompat=e.hasSmallScreenCompat,this.hasWideScreenCompat=e.hasWideScreenCompat,this.backwardForwardFn=e.backwardForwardFn,this.backwardForwardUnits=e.backwardForwardUnits}render(e,n){z_(oc(this.Component,{$app:n,id:this.randomId}),e)}destroy(){const e=document.getElementById(this.randomId);e&&e.remove()}}const su=t=>new sle(t),Lf=(t,e,n)=>{if(n<e.start){const i=2400-e.start;return(n+i)/t*100}return(n-e.start)/t*100},z$=(t,e,n,i)=>t===e?Lf(i,n,Qr(yl(L$(e,50))))-Lf(i,n,Qr(yl(t))):Lf(i,n,Qr(yl(e)))-Lf(i,n,Qr(yl(t))),rle=(t,e)=>!t._totalConcurrentEvents||!t._previousConcurrentEvents?0:(t._previousConcurrentEvents||0)/(t._totalConcurrentEvents||0)*e,ale=(t,e)=>e-t,ole=t=>t._previousConcurrentEvents?"1px solid #fff":0,W$=t=>"time-grid-event-copy-"+t,Xv=t=>"touches"in t&&typeof t.touches=="object";function n0(t){const[e,n]=Ot(),i=u=>{if(!u)return n(void 0);n(zm(u,t))},[s,r]=Ot(),a=(u,d)=>{r(setTimeout(()=>u(d),150))},o=(u,d)=>{if(Xv(u)&&u.touches.length===0||!t.config.plugins.eventModal)return;const c=u.target;if(!(c instanceof HTMLElement))return;const f=c.classList.contains("sx__event")?c:c.closest(".sx__event");f instanceof HTMLElement&&(t.config.plugins.eventModal.calendarEventElement.value=f,t.config.plugins.eventModal.setCalendarEvent(d,f.getBoundingClientRect()))};return{eventCopy:e,updateCopy:i,createDragStartTimeout:a,setClickedEventIfNotDragging:(u,d)=>{s&&(clearTimeout(s),o(d,u)),r(void 0)},setClickedEvent:o}}const lle=(t,e)=>{let n=t?"custom-time-grid-event-"+Ms():void 0;return n&&e&&(n+="-copy"),n},jl=(t,e)=>{t.config.callbacks.onEventClick&&t.config.callbacks.onEventClick(e._getExternalEvent())},i0=(t,e)=>{t.config.callbacks.onDoubleClickEvent&&t.config.callbacks.onDoubleClickEvent(e._getExternalEvent())},Y$=t=>{const e=Xv(t)?t.touches[0]:t;return{clientX:e.clientX,clientY:e.clientY}},G$=(t,e,n)=>Lf(n,e,Qr(yl(t))),Ym=t=>{setTimeout(()=>{t()})},s0=t=>{const e=t.elements.calendarWrapper;if(!(e instanceof HTMLElement))return;const n=e.querySelector(".sx__event-modal");n instanceof HTMLElement&&setTimeout(()=>{n.focus()},100)};function q$({calendarEvent:t,dayBoundariesDateTime:e,isCopy:n,setMouseDown:i}){var s,r,a,o;const l=An(oi),{eventCopy:u,updateCopy:d,createDragStartTimeout:c,setClickedEventIfNotDragging:f,setClickedEvent:h}=n0(l),g=[l.config.locale.value,{hour:"numeric",minute:"numeric"}],v=(N,B)=>{const H=_n(N).toLocaleTimeString(...g);if(N===B)return H;const G=_n(B).toLocaleTimeString(...g);return`${H}  ${G}`},p={borderLeft:`4px solid var(--sx-color-${t._color})`,textColor:`var(--sx-color-on-${t._color}-container)`,backgroundColor:`var(--sx-color-${t._color}-container)`,iconStroke:`var(--sx-color-on-${t._color}-container)`},_=rle(t,l.config.weekOptions.value.eventWidth),b=N=>{var B;if(Xv(N)&&N.preventDefault(),!e||!N.target||!l.config.plugins.dragAndDrop||!((B=t._options)===null||B===void 0)&&B.disableDND)return;const H=zm(t,l);d(H),l.config.plugins.dragAndDrop.createTimeGridDragHandler({$app:l,eventCoordinates:Y$(N),updateCopy:d,eventCopy:H},e)},x=l.config._customComponentFns.timeGridEvent,k=lle(x,n);kn(()=>{x&&x(mo(k),{calendarEvent:t._getExternalEvent()})},[t,u]);const I=N=>{N.stopPropagation(),jl(l,t)},E=N=>{N.stopPropagation(),i0(l,t)},T=N=>{(N.key==="Enter"||N.key===" ")&&(N.stopPropagation(),h(N,t),jl(l,t),Ym(()=>{s0(l)}))},S=N=>{if(i(!0),N.stopPropagation(),!!e&&l.config.plugins.resize){const B=zm(t,l);d(B),l.config.plugins.resize.createTimeGridEventResizer(B,d,N,e)}},w=ole(t),P=["sx__time-grid-event","sx__event"];n&&P.push("is-event-copy"),!((s=t._options)===null||s===void 0)&&s.additionalClasses&&P.push(...t._options.additionalClasses);const C=N=>{i(!0),c(b,N)},D=N=>{Ym(()=>i(!1)),f(t,N)},A=(r=t._customContent)===null||r===void 0?void 0:r.timeGrid;return Q(Nt,{children:[Q("div",{id:n?W$(t.id):void 0,"data-event-id":t.id,onClick:I,onDblClick:E,onKeyDown:T,onMouseDown:C,onMouseUp:D,onTouchStart:C,onTouchEnd:D,className:P.join(" "),tabIndex:0,role:"button",style:{top:`${G$(t.start,l.config.dayBoundaries.value,l.config.timePointsPerDay)}%`,height:`${z$(t.start,t.end,l.config.dayBoundaries.value,l.config.timePointsPerDay)}%`,left:`${_}%`,width:`${ale(_,n?100:l.config.weekOptions.value.eventWidth)}%`,backgroundColor:x?void 0:p.backgroundColor,color:x?void 0:p.textColor,borderTop:w,borderRight:w,borderBottom:w,borderLeft:x?void 0:p.borderLeft,padding:x?"0":void 0},children:Q("div",{"data-ccid":k,className:"sx__time-grid-event-inner",children:[!x&&!A&&Q(Nt,{children:[t.title&&Q("div",{className:"sx__time-grid-event-title",children:t.title}),Q("div",{className:"sx__time-grid-event-time",children:[Q(V$,{strokeColor:p.iconStroke}),v(t.start,t.end)]}),t.people&&t.people.length>0&&Q("div",{className:"sx__time-grid-event-people",children:[Q(wre,{strokeColor:p.iconStroke}),Cre(t.people)]}),t.location&&Q("div",{className:"sx__time-grid-event-location",children:[Q(xre,{strokeColor:p.iconStroke}),t.location]})]}),A&&Q("div",{dangerouslySetInnerHTML:{__html:((a=t._customContent)===null||a===void 0?void 0:a.timeGrid)||""}}),l.config.plugins.resize&&!(!((o=t._options)===null||o===void 0)&&o.disableResize)&&Q("div",{className:"sx__time-grid-event-resize-handle",onMouseDown:S})]})}),u&&Q(q$,{calendarEvent:u,isCopy:!0,setMouseDown:i})]})}const WP=(t,e)=>t.start===e.start?t.end<e.end?1:t.end>e.end?-1:0:t.start<e.start?-1:t.start>e.start?1:0,ule=(t,e)=>{const n=hn(t.start),i=hn(e.start),s=hn(t.end),r=hn(e.end);return n===i?s<r?1:s>r?-1:0:n<i?-1:n>i?1:0},oS=(t,e=[],n=0)=>{for(let i=n;i<t.length;i++){const s=t[i],r=t[i+1];if(e.length&&(!r||e.every(a=>a.end<r.start))){e.push(s);for(let a=0;a<e.length;a++){const o=e[a],l=e.filter((d,c)=>d===o||c>a?!1:d.start<=o.start&&d.end>o.start).length,u=e.filter((d,c)=>d===o||c<a?!1:d.start<o.end&&d.end>=o.start).length;o._totalConcurrentEvents=l+u+1,o._previousConcurrentEvents=l}return e=[],oS(t,e,i+1)}if(r&&s.end>r.start||e.some(a=>a.end>s.start))return e.push(s),oS(t,e,i+1);s._totalConcurrentEvents=1,s._previousConcurrentEvents=0}return t},_R=(t,e,n)=>{if(!(t.target instanceof HTMLElement))return;const i="sx__time-grid-day",s=t.target.classList.contains(i)?t.target:t.target.closest("."+i),a=(t.clientY-s.getBoundingClientRect().top)/s.getBoundingClientRect().height*100,o=Math.round(e.config.timePointsPerDay/100*a);return L$(n,o)},r0=t=>{switch(t){case 0:return"sx__sunday";case 1:return"sx__monday";case 2:return"sx__tuesday";case 3:return"sx__wednesday";case 4:return"sx__thursday";case 5:return"sx__friday";case 6:return"sx__saturday";default:throw new Error("Invalid weekday")}};function cle({backgroundEvent:t,date:e}){const n=An(oi);let i=t.start,s=t.end;return Ss.test(i)&&(i+=" 00:00"),Ss.test(s)&&(s+=" 23:59"),hn(i)!==e&&(i=e+" "+i.split(" ")[1]),hn(s)!==e&&(s=e+" "+s.split(" ")[1]),Qr(i.split(" ")[1])<n.config.dayBoundaries.value.start&&(i=e+" "+Hm(n.config.dayBoundaries.value.start)),i===s?null:Q(Nt,{children:Q("div",{class:"sx__time-grid-background-event",title:t.title,style:{...t.style,position:"absolute",zIndex:0,top:`${G$(i,n.config.dayBoundaries.value,n.config.timePointsPerDay)}%`,height:`${z$(i,s,n.config.dayBoundaries.value,n.config.timePointsPerDay)}%`,width:"100%"}})})}function dle({calendarEvents:t,date:e,backgroundEvents:n}){const[i,s]=Ot(!1),r=An(oi),a=Hm(r.config.dayBoundaries.value.start),o=Hm(r.config.dayBoundaries.value.end),l=Xw(e,a),u=r.config.isHybridDay?iu(Xw(e,o),1):Xw(e,o),d={start:l,end:u},c=t.sort(WP),[f,h]=Ot([]);kn(()=>{h(oS(c))},[t]);const g=(k,I)=>{if(!I||i)return;const E=_R(k,r,l);E&&I(E)},v=k=>{const I=r.config.callbacks.onMouseDownDateTime;if(!I||i)return;const E=_R(k,r,l);E&&I(E,k)},p=()=>{setTimeout(()=>{s(!1)},10)},_=["sx__time-grid-day",r0(_n(e).getDay())],[b,x]=Ot(_);return ia(()=>{const k=[..._];r.datePickerState.selectedDate.value===e&&k.push("is-selected"),x(k)}),Q("div",{className:b.join(" "),"data-time-grid-date":e,onClick:k=>g(k,r.config.callbacks.onClickDateTime),onDblClick:k=>g(k,r.config.callbacks.onDoubleClickDateTime),"aria-label":El(e,r.config.locale.value),onMouseLeave:()=>s(!1),onMouseUp:p,onTouchEnd:p,onMouseDown:v,children:[n.map(k=>Q(Nt,{children:Q(cle,{backgroundEvent:k,date:e})})),f.map(k=>Q(q$,{calendarEvent:k,dayBoundariesDateTime:d,setMouseDown:s},k.id))]})}const hle=({start:t,end:e},n)=>{const i=[];let s=Math.floor(t/100);if(n){for(;s<24;)i.push(s),s+=1;s=0}const r=e===0?24:Math.ceil(e/100);for(;s<r;)i.push(s),s+=1;return i};function fle(){const t=An(oi),[e,n]=Ot([]);ia(()=>{n(hle(t.config.dayBoundaries.value,t.config.isHybridDay));const s=t.config.timePointsPerDay/100,r=t.config.weekOptions.value.gridHeight/s;document.documentElement.style.setProperty("--sx-week-grid-hour-height",`${r}px`)});const i=new Intl.DateTimeFormat(t.config.locale.value,t.config.weekOptions.value.timeAxisFormatOptions);return Q(Nt,{children:Q("div",{className:"sx__week-grid__time-axis",children:e.map(s=>Q("div",{className:"sx__week-grid__hour",children:Q("span",{className:"sx__week-grid__hour-text",children:i.format(new Date(0,0,0,s))})}))})})}function mle({week:t}){const e=An(oi),n=i=>{const s=["sx__week-grid__date",r0(i.getDay())];return UP(i)&&s.push("sx__week-grid__date--is-today"),s.join(" ")};return Q(Nt,{children:Q("div",{className:"sx__week-grid__date-axis",children:t.map(i=>Q("div",{className:n(i),"data-date":si(i),children:[Q("div",{className:"sx__week-grid__day-name",children:$P(i,e.config.locale.value)}),Q("div",{className:"sx__week-grid__date-number",children:i.getDate()})]}))})})}const vle=t=>{const e=[],n=[];for(const i of t){if(i._isSingleDayTimed||i._isSingleHybridDayTimed){n.push(i);continue}(i._isSingleDayFullDay||i._isMultiDayFullDay||i._isMultiDayTimed)&&e.push(i)}return{timeGridEvents:n,dateGridEvents:e}},yR=(t,e)=>{const n=si(e);return t[n]={date:n,timeGridEvents:[],dateGridEvents:{},backgroundEvents:[]},t},gle=t=>t.calendarState.view.value===ks.Day?yR({},_n(t.calendarState.range.value.start)):t.timeUnitsImpl.getWeekFor(_n(t.datePickerState.selectedDate.value)).slice(0,t.config.weekOptions.value.nDays).reduce(yR,{}),ple=(t,e,n)=>{var i;for(const s of t){const r=n.calendarState.range.value;if(s.start>=r.start&&s.end<=r.end){let a=hn(s.start);const o=yl(s.start);Qr(o)<n.config.dayBoundaries.value.start&&(a=iu(a,-1)),(i=e[a])===null||i===void 0||i.timeGridEvents.push(s)}}return e},_le=(t,e)=>{const n=Object.keys(e).sort(),i=n[0],s=n[n.length-1],r=new Set;for(const a of t){const o=hn(a.start),l=hn(a.end),u=!!e[o];let d=u;if(!u&&o<i&&l>=i&&(d=!0),!d)continue;const c=u?o:i,f=l<=s?l:s,h=Object.values(e).filter(p=>p.date>=c&&p.date<=f);let g,v=0;for(;g===void 0;)h.every(_=>!_.dateGridEvents[v])?(g=v,r.add(v)):v++;for(const[p,_]of h.entries())p===0?(a._nDaysInGrid=h.length,_.dateGridEvents[g]=a):_.dateGridEvents[g]=Wm}for(const a of Array.from(r))for(const[,o]of Object.entries(e))o.dateGridEvents[a]||(o.dateGridEvents[a]=void 0);return e},yle=(t,e,n)=>{let i=2;const s=10;return t&&n&&(i+=s),e&&n&&(i+=s),i},ble=(t,e,n)=>({borderBottomLeftRadius:t||n?0:void 0,borderTopLeftRadius:t||n?0:void 0,borderBottomRightRadius:e||n?0:void 0,borderTopRightRadius:e||n?0:void 0});function X$({calendarEvent:t,gridRow:e,isCopy:n}){var i,s,r,a;const o=An(oi),{eventCopy:l,updateCopy:u,createDragStartTimeout:d,setClickedEventIfNotDragging:c,setClickedEvent:f}=n0(o),h={borderLeft:`4px solid var(--sx-color-${t._color})`,color:`var(--sx-color-on-${t._color}-container)`,backgroundColor:`var(--sx-color-${t._color}-container)`},g=w=>{var P;if(!o.config.plugins.dragAndDrop||!((P=t._options)===null||P===void 0)&&P.disableDND)return;Xv(w)&&w.preventDefault();const C=zm(t,o);u(C),o.config.plugins.dragAndDrop.createDateGridDragHandler({eventCoordinates:Y$(w),eventCopy:C,updateCopy:u,$app:o})},v=hn(t.start)<hn(o.calendarState.range.value.start),p=hn(t.end)>hn(o.calendarState.range.value.end),_={backgroundColor:h.backgroundColor},b=o.config._customComponentFns.dateGridEvent;let x=b?"custom-date-grid-event-"+Ms():void 0;n&&x&&(x+="-copy"),kn(()=>{b&&b(mo(x),{calendarEvent:t._getExternalEvent()})},[t,l]);const k=w=>{w.stopPropagation();const P=zm(t,o);u(P),o.config.plugins.resize.createDateGridEventResizer(P,u,w)},I=w=>{(w.key==="Enter"||w.key===" ")&&(w.stopPropagation(),f(w,t),jl(o,t),Ym(()=>{s0(o)}))},E=["sx__event","sx__date-grid-event","sx__date-grid-cell"];n&&E.push("sx__date-grid-event--copy"),v&&E.push("sx__date-grid-event--overflow-left"),p&&E.push("sx__date-grid-event--overflow-right"),!((i=t._options)===null||i===void 0)&&i.additionalClasses&&E.push(...t._options.additionalClasses);const T=v?"none":h.borderLeft,S=(s=t._customContent)===null||s===void 0?void 0:s.dateGrid;return Q(Nt,{children:[Q("div",{id:n?W$(t.id):void 0,tabIndex:0,"aria-label":t.title+" "+F$(t,o.config.locale.value,o.translate("to")),role:"button","data-ccid":x,"data-event-id":t.id,onMouseDown:w=>d(g,w),onMouseUp:w=>c(t,w),onTouchStart:w=>d(g,w),onTouchEnd:w=>c(t,w),onClick:()=>jl(o,t),onDblClick:()=>i0(o,t),onKeyDown:I,className:E.join(" "),style:{width:`calc(${t._nDaysInGrid*100}% - ${yle(v,p,!b)}px)`,gridRow:e,display:l?"none":"flex",padding:b?"0px":void 0,borderLeft:b?void 0:T,color:b?void 0:h.color,backgroundColor:b?void 0:h.backgroundColor,...ble(v,p,!!b)},children:[!b&&!S&&Q(Nt,{children:[v&&Q("div",{className:"sx__date-grid-event--left-overflow",style:_}),Q("span",{className:"sx__date-grid-event-text",children:[t.title," ",Pa.test(t.start)&&Q("span",{className:"sx__date-grid-event-time",children:Pu(t.start,o.config.locale.value)})]}),p&&Q("div",{className:"sx__date-grid-event--right-overflow",style:_})]}),S&&Q("div",{dangerouslySetInnerHTML:{__html:((r=t._customContent)===null||r===void 0?void 0:r.dateGrid)||""}}),o.config.plugins.resize&&!(!((a=t._options)===null||a===void 0)&&a.disableResize)&&!p&&Q("div",{className:"sx__date-grid-event-resize-handle",onMouseDown:k})]}),l&&Q(X$,{calendarEvent:l,gridRow:e,isCopy:!0})]})}function wle({calendarEvents:t,date:e,backgroundEvents:n}){const i=An(oi),s=e+" 00:00",r=e+" 23:59",a=n.find(l=>{const u=Ss.test(l.start)?l.start+" 00:00":l.start,d=Ss.test(l.end)?l.end+" 23:59":l.end;return u<=s&&d>=r}),o=l=>{const u=i.config.callbacks.onMouseDownDateGridDate;u&&u(e,l)};return Q("div",{className:"sx__date-grid-day","data-date-grid-date":e,children:[a&&Q("div",{className:"sx__date-grid-background-event",title:a.title,style:{...a.style}}),Object.values(t).map((l,u)=>l===Wm||!l?Q("div",{className:"sx__date-grid-cell",style:{gridRow:u+1},onMouseDown:o}):Q(X$,{calendarEvent:l,gridRow:u+1})),Q("div",{className:"sx__spacer",onMouseDown:o})]})}const K$=(t,e)=>t.filter(n=>{let i=e.start,s=e.end;Ss.test(i)&&(i=i+" 00:00"),Ss.test(s)&&(s=s+" 23:59");let r=n.start,a=n.end;Ss.test(r)&&(r=r+" 00:00"),Ss.test(a)&&(a=a+" 23:59");const o=r>=i&&r<=s,l=a>=i&&a<=s,u=r<i&&a>s;return o||l||u}),Q$=({$app:t,id:e})=>{document.documentElement.style.setProperty("--sx-week-grid-height",`${t.config.weekOptions.value.gridHeight}px`);const[n,i]=Ot({});return ia(()=>{var s,r;const a=(s=t.calendarState.range.value)===null||s===void 0?void 0:s.start,o=(r=t.calendarState.range.value)===null||r===void 0?void 0:r.end;if(!a||!o)return;let l=gle(t);const u=t.calendarEvents.filterPredicate.value?t.calendarEvents.list.value.filter(t.calendarEvents.filterPredicate.value):t.calendarEvents.list.value,{dateGridEvents:d,timeGridEvents:c}=vle(u);l=_le(d.sort(WP),l),Object.entries(l).forEach(([f,h])=>{h.backgroundEvents=K$(t.calendarEvents.backgroundEvents.value,{start:f,end:f})}),l=ple(c,l,t),i(l)}),Q(Nt,{children:Q(oi.Provider,{value:t,children:Q("div",{className:"sx__week-wrapper",id:e,children:[Q("div",{className:"sx__week-header",children:Q("div",{className:"sx__week-header-content",children:[Q(mle,{week:Object.values(n).map(s=>_n(s.date))}),Q("div",{className:"sx__date-grid","aria-label":t.translate("Full day- and multiple day events"),children:Object.values(n).map(s=>Q(wle,{date:s.date,calendarEvents:s.dateGridEvents,backgroundEvents:s.backgroundEvents},s.date))}),Q("div",{className:"sx__week-header-border"})]})}),Q("div",{className:"sx__week-grid",children:[Q(fle,{}),Object.values(n).map(s=>Q(dle,{calendarEvents:s.timeGridEvents,backgroundEvents:s.backgroundEvents,date:s.date},s.date))]})]})})})},J$=(t,e)=>`${si(e)} ${Hm(t.dayBoundaries.value.start)}`,Z$=(t,e)=>{let n=Hm(t.dayBoundaries.value.end),i=si(e);return t.isHybridDay&&(i=iu(i,1)),t.dayBoundaries.value.end===2400&&(n="23:59"),`${i} ${n}`},xle=t=>{const e=t.timeUnitsImpl.getWeekFor(_n(t.date)).slice(0,t.calendarConfig.weekOptions.value.nDays);return{start:J$(t.calendarConfig,e[0]),end:Z$(t.calendarConfig,e[e.length-1])}},e4=t=>{const{year:e,month:n}=yr(t.date),i=t.timeUnitsImpl.getMonthWithTrailingAndLeadingDays(e,n),s=si(i[i.length-1][i[i.length-1].length-1]);return{start:e0(i[0][0]),end:`${s} 23:59`}},Sle=t=>({start:J$(t.calendarConfig,_n(t.date)),end:Z$(t.calendarConfig,_n(t.date))}),t4={name:ks.Week,label:"Week",Component:Q$,setDateRange:xle,hasSmallScreenCompat:!1,hasWideScreenCompat:!0,backwardForwardFn:iu,backwardForwardUnits:7},kle=su(t4),Tle=()=>su(t4),Ple=(t,e)=>(t.push({date:si(e),events:{},backgroundEvents:[]}),t),Cle=(t,e)=>{const{year:n,month:i}=yr(t),s=e.getMonthWithTrailingAndLeadingDays(n,i),r=[];for(const a of s)r.push(a.reduce(Ple,[]));return r};function Ele({gridRow:t,calendarEvent:e,date:n,isFirstWeek:i,isLastWeek:s}){var r,a,o,l,u;const d=An(oi),c=i&&((r=d.calendarState.range.value)===null||r===void 0?void 0:r.start)&&hn(e.start)<hn(d.calendarState.range.value.start),f=s&&((a=d.calendarState.range.value)===null||a===void 0?void 0:a.end)&&hn(e.end)>hn(d.calendarState.range.value.end),{createDragStartTimeout:h,setClickedEventIfNotDragging:g,setClickedEvent:v}=n0(d),p=hn(e.start)===n,_=e._eventFragments[n],b={borderLeft:p?`4px solid var(--sx-color-${e._color})`:void 0,color:`var(--sx-color-on-${e._color}-container)`,backgroundColor:`var(--sx-color-${e._color}-container)`,width:`calc(${_*100+"%"} + ${_}px - 10px)`},x=C=>{var D;Xv(C)&&C.preventDefault(),C.target&&(!d.config.plugins.dragAndDrop||!((D=e._options)===null||D===void 0)&&D.disableDND||d.config.plugins.dragAndDrop.createMonthGridDragHandler(e,d))},k=d.config._customComponentFns.monthGridEvent,I=k?"custom-month-grid-event-"+Ms():void 0;kn(()=>{k&&k(mo(I),{calendarEvent:e._getExternalEvent(),hasStartDate:p})},[e]);const E=C=>{C.stopPropagation(),jl(d,e)},T=C=>{C.stopPropagation(),i0(d,e)},S=C=>{(C.key==="Enter"||C.key===" ")&&(C.stopPropagation(),v(C,e),jl(d,e),Ym(()=>{s0(d)}))},w=["sx__event","sx__month-grid-event","sx__month-grid-cell"];!((o=e._options)===null||o===void 0)&&o.additionalClasses&&w.push(...e._options.additionalClasses),c&&w.push("sx__month-grid-event--overflow-left"),f&&w.push("sx__month-grid-event--overflow-right");const P=(l=e._customContent)===null||l===void 0?void 0:l.monthGrid;return Q("div",{draggable:!!d.config.plugins.dragAndDrop,"data-event-id":e.id,"data-ccid":I,onMouseDown:C=>h(x,C),onMouseUp:C=>g(e,C),onTouchStart:C=>h(x,C),onTouchEnd:C=>g(e,C),onClick:E,onDblClick:T,onKeyDown:S,className:w.join(" "),style:{gridRow:t,width:b.width,padding:k?"0px":void 0,borderLeft:k?void 0:b.borderLeft,color:k?void 0:b.color,backgroundColor:k?void 0:b.backgroundColor},tabIndex:0,role:"button",children:[!k&&!P&&Q(Nt,{children:[Pa.test(e.start)&&Q("div",{className:"sx__month-grid-event-time",children:Pu(e.start,d.config.locale.value)}),Q("div",{className:"sx__month-grid-event-title",children:e.title})]}),P&&Q("div",{dangerouslySetInnerHTML:{__html:((u=e._customContent)===null||u===void 0?void 0:u.monthGrid)||""}})]})}function Ile({day:t,isFirstWeek:e,isLastWeek:n}){const i=An(oi),s=Object.values(t.events).filter(E=>typeof E=="object"||E===Wm).length,r=E=>E===1?i.translate("event"):i.translate("events"),a=E=>E===1?i.translate("Link to 1 more event on {{date}}",{date:El(t.date,i.config.locale.value)}):i.translate("Link to {{n}} more events on {{date}}",{date:El(t.date,i.config.locale.value),n:s-i.config.monthGridOptions.value.nEventsPerDay}),o=E=>{E.stopPropagation(),i.config.callbacks.onClickPlusEvents&&i.config.callbacks.onClickPlusEvents(t.date),i.config.views.value.find(T=>T.name===ks.Day)&&setTimeout(()=>{i.datePickerState.selectedDate.value=t.date,i.calendarState.setView(ks.Day,t.date)},250)},l=["sx__month-grid-day__header-date"],u=_n(t.date),d=u;UP(d)&&l.push("sx__is-today");const{month:c}=yr(i.datePickerState.selectedDate.value),{month:f}=yr(t.date),h=["sx__month-grid-day",r0(u.getDay())],[g,v]=Ot(h);kn(()=>{const E=[...h];f!==c&&E.push("is-leading-or-trailing"),i.datePickerState.selectedDate.value===t.date&&E.push("is-selected"),v(E)},[i.datePickerState.selectedDate.value]);const _=Object.values(t.events).slice(i.config.monthGridOptions.value.nEventsPerDay).filter(E=>E===Wm||typeof E=="object").length,b=t.date+" 00:00",x=t.date+" 23:59",k=t.backgroundEvents.find(E=>{const T=Ss.test(E.start)?E.start+" 00:00":E.start,S=Ss.test(E.end)?E.end+" 23:59":E.end;return T<=b&&S>=x}),I=E=>{if(!E.target.classList.contains("sx__month-grid-day"))return;const S=i.config.callbacks.onMouseDownMonthGridDate;S&&S(t.date,E)};return Q("div",{className:g.join(" "),"data-date":t.date,onClick:()=>i.config.callbacks.onClickDate&&i.config.callbacks.onClickDate(t.date),"aria-label":El(t.date,i.config.locale.value),onDblClick:()=>{var E,T;return(T=(E=i.config.callbacks).onDoubleClickDate)===null||T===void 0?void 0:T.call(E,t.date)},onMouseDown:I,children:[k&&Q(Nt,{children:Q("div",{className:"sx__month-grid-background-event",title:k.title,style:{...k.style}})}),Q("div",{className:"sx__month-grid-day__header",children:[e?Q("div",{className:"sx__month-grid-day__header-day-name",children:$P(d,i.config.locale.value)}):null,Q("div",{className:l.join(" "),children:d.getDate()})]}),Q("div",{className:"sx__month-grid-day__events",children:Object.values(t.events).slice(0,i.config.monthGridOptions.value.nEventsPerDay).map((E,T)=>typeof E!="object"?Q("div",{className:"sx__month-grid-blocker sx__month-grid-cell",style:{gridRow:T+1}}):Q(Ele,{gridRow:T+1,calendarEvent:E,date:t.date,isFirstWeek:e,isLastWeek:n}))}),_>0?Q("button",{type:"button",className:"sx__month-grid-day__events-more sx__ripple--wide","aria-label":a(_),onClick:o,children:`+ ${_} ${r(_)}`}):null]})}function Dle({week:t,isFirstWeek:e,isLastWeek:n}){return Q("div",{className:"sx__month-grid-week",children:t.map(i=>{const s=i.date;return Q(Ile,{day:i,isFirstWeek:e,isLastWeek:n},s)})})}const Ale=(t,e)=>{const n=Object.keys(e).sort(),i=n[0],s=n[n.length-1],r=new Set;for(const a of t){const o=hn(a.start),l=hn(a.end),u=!!e[o];let d=u;if(!u&&o<i&&l>=i&&(d=!0),!d)continue;const c=u?o:i,f=l<=s?l:s,h=Object.values(e).filter(p=>p.date>=c&&p.date<=f);let g,v=0;for(;g===void 0;)h.every(_=>!_.events[v])?(g=v,r.add(v)):v++;for(const[p,_]of h.entries())p===0?(a._eventFragments[c]=h.length,_.events[g]=a):_.events[g]=Wm}for(const a of Array.from(r))for(const[,o]of Object.entries(e))o.events[a]||(o.events[a]=void 0);return e},Ole=(t,e)=>{const n=[];return t.forEach(i=>{const s={};i.forEach(r=>s[r.date]=r),n.push(s)}),n.forEach(i=>Ale(e,i)),t},Rle=({$app:t,id:e})=>{const[n,i]=Ot([]);return ia(()=>{t.calendarEvents.list.value.forEach(a=>{a._eventFragments={}});const s=Cle(t.datePickerState.selectedDate.value,t.timeUnitsImpl);s.forEach(a=>{a.forEach(o=>{o.backgroundEvents=K$(t.calendarEvents.backgroundEvents.value,{start:o.date,end:o.date})})});const r=t.calendarEvents.filterPredicate.value?t.calendarEvents.list.value.filter(t.calendarEvents.filterPredicate.value):t.calendarEvents.list.value;i(Ole(s,r.sort(ule)))}),Q(oi.Provider,{value:t,children:Q("div",{id:e,className:"sx__month-grid-wrapper",children:n.map((s,r)=>Q(Dle,{week:s,isFirstWeek:r===0,isLastWeek:r===n.length-1},r))})})},n4={name:ks.MonthGrid,label:"Month",setDateRange:e4,Component:Rle,hasWideScreenCompat:!0,hasSmallScreenCompat:!1,backwardForwardFn:t0,backwardForwardUnits:1};su(n4);const Mle=()=>su(n4),Vle=({$app:t,id:e})=>Q(Q$,{$app:t,id:e}),i4={name:ks.Day,label:"Day",setDateRange:Sle,hasWideScreenCompat:!0,hasSmallScreenCompat:!0,Component:Vle,backwardForwardFn:iu,backwardForwardUnits:1};su(i4);const s4=()=>su(i4),Lle=(t,e)=>{const{year:n,month:i}=yr(t);return{weeks:e.getMonthWithTrailingAndLeadingDays(n,i).map(r=>r.map(a=>({date:si(a),events:[]})))}};function Nle({day:t,isActive:e,setActiveDate:n}){const i=An(oi),{month:s}=yr(i.datePickerState.selectedDate.value),{month:r}=yr(t.date),a=_n(t.date),o=["sx__month-agenda-day",r0(a.getDay())];e&&o.push("sx__month-agenda-day--active"),r!==s&&o.push("is-leading-or-trailing");const l=(h,g)=>{n(t.date),g&&g(t.date)},u=h=>h.date===i.datePickerState.selectedDate.value,d=h=>{const g=new Map([["ArrowDown",7],["ArrowUp",-7],["ArrowLeft",-1],["ArrowRight",1]]);i.datePickerState.selectedDate.value=iu(i.datePickerState.selectedDate.value,g.get(h.key)||0)},c=!!(i.config.minDate.value&&t.date<i.config.minDate.value),f=!!(i.config.maxDate.value&&t.date>i.config.maxDate.value);return Q("button",{type:"button",className:o.join(" "),onClick:h=>l(h,i.config.callbacks.onClickAgendaDate),onDblClick:h=>l(h,i.config.callbacks.onDoubleClickAgendaDate),disabled:c||f,"aria-label":El(t.date,i.config.locale.value),tabIndex:u(t)?0:-1,"data-agenda-focus":u(t)?"true":void 0,onKeyDown:d,children:[Q("div",{children:a.getDate()}),Q("div",{className:"sx__month-agenda-day__event-icons",children:t.events.slice(0,3).map(h=>Q("div",{style:{backgroundColor:`var(--sx-color-${h._color})`,filter:"brightness(1.6)"},className:"sx__month-agenda-day__event-icon"}))})]})}function Fle({week:t,setActiveDate:e,activeDate:n}){return Q("div",{className:"sx__month-agenda-week",children:t.map((i,s)=>Q(Nle,{setActiveDate:e,day:i,isActive:n===i.date},s+i.date))})}function Ble({week:t}){const e=An(oi),n=R$(t.map(i=>_n(i.date)),e.config.locale.value);return Q("div",{className:"sx__month-agenda-day-names",children:n.map(i=>Q("div",{className:"sx__month-agenda-day-name",children:i}))})}const jle=(t,e)=>{let n=t;const i=[n];for(;n<e;)n=iu(n,1),i.push(n);return i},$le=t=>e=>{jle(hn(e.start),hn(e.end)).forEach(n=>{t[n]&&t[n].events.push(e)})},Ule=(t,e)=>{const n=t.weeks.reduce((i,s)=>(s.forEach(r=>{i[r.date]=r}),i),{});return e.forEach($le(n)),t};function Hle({calendarEvent:t}){var e,n;const i=An(oi),{setClickedEvent:s}=n0(i),r={backgroundColor:`var(--sx-color-${t._color}-container)`,color:`var(--sx-color-on-${t._color}-container)`,borderLeft:`4px solid var(--sx-color-${t._color})`},a=i.config._customComponentFns.monthAgendaEvent,o=a?"custom-month-agenda-event-"+t.id:void 0;kn(()=>{a&&a(mo(o),{calendarEvent:t._getExternalEvent()})},[t]);const l=f=>{s(f,t),jl(i,t)},u=f=>{s(f,t),i0(i,t)},d=f=>{(f.key==="Enter"||f.key===" ")&&(f.stopPropagation(),s(f,t),jl(i,t),Ym(()=>{s0(i)}))},c=(e=t._customContent)===null||e===void 0?void 0:e.monthAgenda;return Q("div",{className:"sx__event sx__month-agenda-event","data-ccid":o,"data-event-id":t.id,style:{backgroundColor:a?void 0:r.backgroundColor,color:a?void 0:r.color,borderLeft:a?void 0:r.borderLeft,padding:a?"0px":void 0},onClick:f=>l(f),onDblClick:f=>u(f),onKeyDown:d,tabIndex:0,role:"button",children:[!a&&!c&&Q(Nt,{children:[Q("div",{className:"sx__month-agenda-event__title",children:t.title}),Q("div",{className:"sx__month-agenda-event__time sx__month-agenda-event__has-icon",children:[Q(V$,{strokeColor:`var(--sx-color-on-${t._color}-container)`}),Q("div",{dangerouslySetInnerHTML:{__html:F$(t,i.config.locale.value)}})]})]}),c&&Q("div",{dangerouslySetInnerHTML:{__html:((n=t._customContent)===null||n===void 0?void 0:n.monthAgenda)||""}})]})}function zle({events:t}){const e=An(oi);return Q("div",{className:"sx__month-agenda-events",children:t.length?t.map(n=>Q(Hle,{calendarEvent:n},n.id)):Q("div",{className:"sx__month-agenda-events__empty",children:e.translate("No events")})})}const Wle=({$app:t,id:e})=>{var n;const i=()=>{const a=t.calendarEvents.filterPredicate.value?t.calendarEvents.list.value.filter(t.calendarEvents.filterPredicate.value):t.calendarEvents.list.value;return Ule(Lle(t.datePickerState.selectedDate.value,t.timeUnitsImpl),a.sort(WP))},[s,r]=Ot(i());return kn(()=>{r(i())},[t.datePickerState.selectedDate.value,t.calendarEvents.list.value,t.calendarEvents.filterPredicate.value]),kn(()=>{const a=new MutationObserver(l=>{l.forEach(u=>{const d=u.target;d.dataset.agendaFocus==="true"&&d.focus()})}),o=document.getElementById(e);return a.observe(o,{childList:!0,subtree:!0,attributes:!0}),()=>a.disconnect()},[]),Q(oi.Provider,{value:t,children:Q("div",{id:e,className:"sx__month-agenda-wrapper",children:[Q(Ble,{week:s.weeks[0]}),Q("div",{className:"sx__month-agenda-weeks",children:s.weeks.map((a,o)=>Q(Fle,{week:a,setActiveDate:l=>t.datePickerState.selectedDate.value=l,activeDate:t.datePickerState.selectedDate.value},o))}),Q(zle,{events:((n=s.weeks.flat().find(a=>a.date===t.datePickerState.selectedDate.value))===null||n===void 0?void 0:n.events)||[]},t.datePickerState.selectedDate.value)]})})},r4={name:ks.MonthAgenda,label:"Month",setDateRange:e4,Component:Wle,hasSmallScreenCompat:!0,hasWideScreenCompat:!1,backwardForwardFn:t0,backwardForwardUnits:1};su(r4);const Yle=()=>su(r4),Vs=["Domenica","Luned","Marted","Mercoled","Gioved","Venerd","Sabato"],bR=["Gennaio","Febbraio","Marzo","Aprile","Maggio","Giugno","Luglio","Agosto","Settembre","Ottobre","Novembre","Dicembre"],Np=[{name:"Recuperi",icon:"mdi-abacus",color:"blue",type:"recovery"},{name:"Spostate",icon:"mdi-account-box",color:"green",type:"moved"},{name:"Settimanali",icon:"mdi-ab-testing",color:"purple",type:"weekly"},{name:"Giornaliere",icon:"mdi-account",color:"yellow",type:"daily"}],Fp=[{name:"Normale",icon:"mdi-account",color:"green",type:"normal"},{name:"Supplenza",icon:"mdi-account-box",color:"blue",type:"substistution"}];class Ut{constructor(e=0,n=0,i=0){this.hour=e,this.minutes=n,this.seconds=i}static fromITime(e){const n=Math.trunc(e/3600),i=Math.trunc((e-n*3600)/60),s=e-(n*3600+i*60);return new Ut(n,i,s)}static fromHHMM(e){try{const n=e.split(":");if(n.length!=2)return;const i=parseInt(n[0]),s=parseInt(n[1]);return new Ut(i,s)}catch{return}}getTotalMinutes(){return this.hour*60+this.minutes}toITime(){return this.hour*3600+this.minutes*60+this.seconds}setSeconds(e){this.seconds=e}add(e){return this.hour+=e.hour??0,this.minutes+=e.minutes??0,this.seconds+=e.seconds??0,this}format(){const e=this.hour.toString().padStart(2,"0")||"00",n=this.minutes.toString().padStart(2,"0")||"00",i=this.seconds.toString().padStart(2,"0");return this.seconds!=0?`${e}:${n}:${i}`:`${e}:${n}`}}class rt{constructor(e,n,i){this.day=e,this.month=n,this.year=i}static today(){return this.fromDate(new Date)}static fromIyyyyMMdd(e){if(e.length!=8)throw new Error("Unable to parse date, format not correct (yyyyMMdd): "+e);const n=parseInt(e.substring(0,4)),i=parseInt(e.substring(4,6)),s=parseInt(e.substring(6,8));return new rt(s,i,n)}toIyyyyMMdd(e="",n=0){return`${this.year.toString().padStart(4,"0")}${e}${(this.month+n).toString().padStart(2,"0")}${e}${this.day.toString().padStart(2,"0")}`}static fromDate(e){const n=e.getFullYear(),i=e.getMonth(),s=e.getDate();return new rt(s,i,n)}toDate(){return new Date(this.year,this.month,this.day)}format(){return dh(this.toDate())}getDayString(e){const n=this.toDate(),i=Vs[n.getDay()].toUpperCase();return e?i.slice(0,e):i}formatAndPreappendDay(e){const n=this.toDate(),i=Vs[n.getDay()].toUpperCase();return(e?i.slice(0,e):i)+" "+dh(n)}equals(e){return this.day==e.day&&this.month==e.month&&this.year==e.year}getYear(){return this.year}getMonth(){return this.month}getDay(){return this.day}}var Gm=(t=>(t[t.ABSENT_AND_PRESENT=0]="ABSENT_AND_PRESENT",t[t.ONLY_PRESENT=1]="ONLY_PRESENT",t))(Gm||{}),Bd=(t=>(t[t.WHOLE=0]="WHOLE",t[t.HALF=1]="HALF",t[t.NOTHING=2]="NOTHING",t))(Bd||{}),Mt=(t=>(t[t.NONE=0]="NONE",t[t.PRESENT=1]="PRESENT",t[t.ABSENT=2]="ABSENT",t[t.UNJUSTIFIED_ABSENCE=3]="UNJUSTIFIED_ABSENCE",t[t.TRIAL=4]="TRIAL",t))(Mt||{});const Gle={unset:"Lezioni di Recupero da Programmare",pending:"Lezioni di Recupero Programmate",done:"Lezioni di Recupero Completate"},Ln=t=>t,J_=function(t){return t?new At(t.seconds,t.nanoseconds).toDate():new Date},wR=function(t,e){const n=t.getDay();if(e==n)return t;const i=(e-n+7)%7||7,s=new Date(t);return s.setDate(t.getDate()+i),s},qle=function(t,e){const n=t.getDay();if(e==n)return t;const i=7-((e-n+7)%7||7),s=new Date(t);return s.setDate(t.getDate()-i),s},Xle=function(t){return rt.fromIyyyyMMdd(t).toDate().getDay()},Kle=new Intl.DateTimeFormat("it-IT",{year:"numeric",month:"2-digit",day:"2-digit",timeZone:"Europe/Rome"}),dh=function(t){if(!t)return"";const e=new Date(t);return Kle.format(e)},Qle=new Intl.DateTimeFormat("it-IT",{timeStyle:"medium",dateStyle:"short",timeZone:"Europe/Rome"}),a4=function(t){if(!t)return"";const e=new Date(t);return Qle.format(e)},Jle=function(t,e){if(t.length!==e.length)return!1;const n=[...t].sort(),i=[...e].sort();return n.every((s,r)=>s===i[r])},Zle=function(t,e=30,n=80){let i=0;for(let r=0;r<t.length;r++)i=t.charCodeAt(r)+((i<<5)-i);return"hsl("+i%360+", "+e+"%, "+n+"%)"},o4=function(...t){const e={};return t.forEach(n=>{if(n&&n.color){const i=n.id.toLowerCase(),s=ot(n.color),r=s.lighten(20).toHexString(),a=s.isDark()?"#FFFFFF":"#000000",o=s.darken(15).toHexString(),l=s.darken(25).toHexString(),u=s.isDark()?"#FFFFFF":"#000000";e[i]={colorName:i,lightColors:{main:s.toHexString(),container:r,onContainer:a},darkColors:{main:o,container:l,onContainer:u}}}}),e},Kw="1.3.0",eue="https://raw.githubusercontent.com/Matteo099/teachers-agenda/main/package.json";function xR(t){const e=/^(\d+)\.(\d+)\.(\d+)(?:-([0-9A-Za-z-.]+))?$/,n=t.match(e);if(!n)throw new Error(`Invalid semantic version: ${t}`);return{major:parseInt(n[1],10),minor:parseInt(n[2],10),patch:parseInt(n[3],10),preRelease:n[4]||null}}function tue(t,e){const n=xR(t),i=xR(e);return i.major>n.major?!0:i.major<n.major?!1:i.minor>n.minor?!0:i.minor<n.minor?!1:i.patch>n.patch?!0:i.patch<n.patch||n.preRelease===null&&i.preRelease!==null?!1:n.preRelease!==null&&i.preRelease===null?!0:n.preRelease!==null&&i.preRelease!==null?n.preRelease<i.preRelease:!1}async function nue(){try{const t=await fetch(eue,{cache:"no-store"});if(!t.ok)return console.error("Failed to fetch package.json:",t.statusText),!1;const n=(await t.json()).version;if(tue(Kw,n))return console.log(`New version detected: ${n} (local: ${Kw})`),!0;console.log(`Version is up-to-date (local: ${Kw}, remote ${n})`)}catch(t){console.error("Error checking for app version:",t)}return!1}const iue={class:"d-flex justify-center w-100"},sue={key:1,class:"text-h7"},rue={class:"mx-auto text-center"},aue={key:0},oue={key:1,class:"text-h7"},lue={class:"text-caption mt-1"},uue=Tt({__name:"App",setup(t){const{mobile:e}=Sr({mobileBreakpoint:"md"}),n=Y(1),i=R(()=>{switch(n.value){case 0:return"blue-grey";case 1:return"teal";case 2:return"brown";case 3:return"indigo";default:return"blue-grey"}}),s=[],r=oj(),a=Gv(),o=new URL("/teachers-agenda/assets/logo-CDaN8MiQ.png",import.meta.url).href,l=Y(!1),u="1.3.0",d=R(()=>v.name=="login"),c=Y(!1),f={text:`Versione ${u}`,scrollStrategy:"close",location:"bottom",scrim:!0,persistent:!1,openOnClick:!0,openOnHover:!1},h=bN(),g=Rc(),v=Wv(),p=R(()=>{var I,E;return((E=(I=h.value)==null?void 0:I.displayName)==null?void 0:E.split(" ").map(T=>T.charAt(0)).join(""))??"TA"}),_=R(()=>{var I;return((I=h.value)==null?void 0:I.photoURL)??o}),b=R(()=>Zle(p.value));we(c,()=>{c.value&&(s.push("Scarica la nuova versione dell'applicazione"),et.info("Scarica la nuova versione dell'applicazione",{autoClose:!1,closeOnClick:!0}))}),we(h,async(I,E)=>{if(!I&&v.meta.requiresAuth&&v.name!="login")return g.push({name:"login"});if(I){if(typeof v.query.redirect=="string")return g.push(v.query.redirect);if(v.name=="login")return g.push("/")}});function x(){const I=Qs.getItem("theme")??"myCustomLightTheme";a.global.name.value=I=="myCustomDarkTheme"?"myCustomLightTheme":"myCustomDarkTheme",Qs.setItem("theme",a.global.name.value)}async function k(){c.value=await nue()}return Pt(async()=>{a.global.name.value=Qs.getItem("theme")??"myCustomLightTheme",k()}),(I,E)=>{const T=j("v-img"),S=j("v-list-item-title"),w=j("v-list-item-subtitle"),P=j("v-list-item"),C=j("v-divider"),D=j("v-icon"),A=j("v-list"),N=j("v-footer"),B=j("v-navigation-drawer"),H=j("v-app-bar-nav-icon"),G=j("v-app-bar-title"),z=j("v-btn"),X=j("v-badge"),W=j("v-menu"),Z=j("v-avatar"),ee=j("v-fab-transition"),le=j("v-card-text"),ue=j("v-card"),ce=j("v-app-bar"),se=j("v-slide-x-transition"),$=j("router-view"),q=j("v-container"),re=j("v-main"),ge=j("v-bottom-navigation"),fe=j("v-layout"),ye=j("v-app"),L=nr("tooltip");return be(),De(ye,null,{default:M(()=>[!d.value&&!ie(e)?(be(),De(B,{key:0,permanent:"",modelValue:l.value,"onUpdate:modelValue":E[0]||(E[0]=F=>l.value=F)},{append:M(()=>[m(N,{height:"45",class:"px-0"},{default:M(()=>[Re("div",iue,[m(D,{start:""},{default:M(()=>E[9]||(E[9]=[Ee("mdi-alpha-v-circle")])),_:1}),Re("span",null,at(ie(u)),1)])]),_:1})]),default:M(()=>[m(P,{height:"64"},{prepend:M(()=>[m(T,{contain:"",src:ie(o),height:"45",width:"45"},null,8,["src"])]),default:M(()=>[m(S,{class:"text-h6 ml-3"},{default:M(()=>E[4]||(E[4]=[Ee("Agenda")])),_:1}),m(w,{class:"text-h6 ml-3 pb-1"},{default:M(()=>E[5]||(E[5]=[Ee("Del Maestro")])),_:1})]),_:1}),m(C),m(A,{dense:"",nav:""},{default:M(()=>[m(P,{to:"/",color:"lime-darken-4"},{prepend:M(()=>[m(D,{icon:"mdi-home"})]),default:M(()=>[m(S,null,{default:M(()=>E[6]||(E[6]=[Ee("Home")])),_:1})]),_:1}),m(P,{to:"/calendar",color:"lime-darken-4"},{prepend:M(()=>[m(D,{icon:"mdi-calendar"})]),default:M(()=>[m(S,null,{default:M(()=>E[7]||(E[7]=[Ee("Calendario")])),_:1})]),_:1}),m(P,{to:"/statistics",color:"lime-darken-4"},{prepend:M(()=>[m(D,{icon:"mdi-chart-bar"})]),default:M(()=>[m(S,null,{default:M(()=>E[8]||(E[8]=[Ee("Statistiche")])),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])):Yt("",!0),m(ce,{color:"grey-darken-4"},{default:M(()=>[!d.value&&!ie(e)?(be(),De(H,{key:0,onClick:E[1]||(E[1]=F=>l.value=!l.value)})):Yt("",!0),m(G,{style:{"margin-left":"-10px"}}),ie(e)?In((be(),De(z,{key:1,icon:"",class:"mr-2"},{default:M(()=>[m(D,{right:""},{default:M(()=>E[10]||(E[10]=[Ee("mdi-information")])),_:1})]),_:1})),[[L,f]]):Yt("",!0),m(z,{onClick:x,icon:"",class:"mr-2"},{default:M(()=>[m(D,{right:""},{default:M(()=>E[11]||(E[11]=[Ee("mdi-theme-light-dark")])),_:1})]),_:1}),m(W,{transition:"slide-y-transition"},{activator:M(({props:F})=>[m(z,J({icon:"",class:"mr-2 text-none"},F),{default:M(()=>[s.length>0?(be(),De(X,{key:0,color:"error",content:s.length},{default:M(()=>[m(D,null,{default:M(()=>E[12]||(E[12]=[Ee("mdi-bell")])),_:1})]),_:1},8,["content"])):(be(),De(D,{key:1},{default:M(()=>E[13]||(E[13]=[Ee("mdi-bell")])),_:1}))]),_:2},1040)]),default:M(()=>[m(A,null,{default:M(()=>[(be(),wt(Ie,null,Si(s,(F,K)=>m(P,{key:K},{default:M(()=>[m(w,null,{default:M(()=>[Ee(at(F),1)]),_:2},1024)]),_:2},1024)),64)),s.length==0?(be(),De(P,{key:0},{default:M(()=>[m(w,null,{default:M(()=>E[14]||(E[14]=[Ee("Nessuna notifica")])),_:1})]),_:1})):Yt("",!0)]),_:1})]),_:1}),m(W,{"min-width":"200px",class:"mr-2",rounded:""},{activator:M(({props:F})=>[m(z,J({class:"mr-2",icon:""},F),{default:M(()=>[m(Z,{color:b.value},{default:M(()=>[_.value?(be(),De(T,{key:0,src:_.value},null,8,["src"])):(be(),wt("span",sue,at(p.value),1))]),_:1},8,["color"])]),_:2},1040)]),default:M(()=>[m(ue,null,{default:M(()=>[m(le,null,{default:M(()=>[Re("div",rue,[ie(h)?(be(),wt("div",aue,[m(Z,{color:b.value},{default:M(()=>[_.value?(be(),De(T,{key:0,src:_.value},null,8,["src"])):(be(),wt("span",oue,at(p.value),1))]),_:1},8,["color"]),Re("h3",null,at(ie(h).displayName),1),Re("p",lue,at(ie(h).email),1),m(C,{class:"my-3"}),m(z,{variant:"text",rounded:"",to:"/settings"},{default:M(()=>[m(D,{right:"",class:"mr-2"},{default:M(()=>E[15]||(E[15]=[Ee("mdi-cog")])),_:1}),E[16]||(E[16]=Ee(" Impostazioni "))]),_:1}),E[19]||(E[19]=Re("br",null,null,-1)),m(z,{variant:"text",rounded:"",to:"/debugger"},{default:M(()=>[m(D,{right:"",class:"mr-2"},{default:M(()=>E[17]||(E[17]=[Ee("mdi-bug")])),_:1}),E[18]||(E[18]=Ee(" Debugger "))]),_:1}),m(C,{class:"my-3"})])):Yt("",!0),m(ee,null,{default:M(()=>[ie(h)?(be(),De(z,{key:1,class:"mx-5",variant:"text",onClick:E[2]||(E[2]=F=>ie(E7)(ie(r)))},{default:M(()=>[E[23]||(E[23]=Ee(" Esci ")),m(D,{right:"",class:"ml-2"},{default:M(()=>E[22]||(E[22]=[Ee("mdi-logout")])),_:1})]),_:1})):(be(),De(z,{key:0,class:"mx-5",variant:"outlined",to:"/login"},{default:M(()=>[E[21]||(E[21]=Ee(" Accedi ")),m(D,{right:"",class:"ml-2"},{default:M(()=>E[20]||(E[20]=[Ee("mdi-login")])),_:1})]),_:1}))]),_:1})])]),_:1})]),_:1})]),_:1})]),_:1}),m(re,null,{default:M(()=>[m(q,{fluid:""},{default:M(()=>[m($,null,{default:M(({Component:F,route:K})=>[m(se,{"leave-absolute":""},{default:M(()=>[(be(),De(xL(F)))]),_:2},1024)]),_:1})]),_:1})]),_:1}),!d.value&&ie(e)?(be(),De(fe,{key:1,class:"overflow-visible position-relative",style:{height:"56px"}},{default:M(()=>[m(ge,{class:"position-fixed bottom-0",modelValue:n.value,"onUpdate:modelValue":E[3]||(E[3]=F=>n.value=F),"bg-color":i.value,mode:"shift"},{default:M(()=>[m(z,{to:"/calendar"},{default:M(()=>[m(D,null,{default:M(()=>E[24]||(E[24]=[Ee("mdi-calendar")])),_:1}),E[25]||(E[25]=Re("span",null,"Calendario",-1))]),_:1}),m(z,{to:"/"},{default:M(()=>[m(D,null,{default:M(()=>E[26]||(E[26]=[Ee("mdi-home")])),_:1}),E[27]||(E[27]=Re("span",null,"Home",-1))]),_:1}),m(z,{to:"/statistics"},{default:M(()=>[m(D,null,{default:M(()=>E[28]||(E[28]=[Ee("mdi-chart-bar")])),_:1}),E[29]||(E[29]=Re("span",null,"Statistiche",-1))]),_:1})]),_:1},8,["modelValue","bg-color"])]),_:1})):Yt("",!0)]),_:1})}}}),cue={apiKey:"AIzaSyDhEJoQLDHojsr_VEtB1O9IErI__pShKa8",authDomain:"teachers-agenda.firebaseapp.com",projectId:"teachers-agenda",storageBucket:"teachers-agenda.appspot.com",messagingSenderId:"56057008308",appId:"1:56057008308:web:ca3a75547d1b64ba3087e1",measurementId:"G-KWTDHCXRJ4"},l4="@firebase/installations",YP="0.6.11";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u4=1e4,c4=`w:${YP}`,d4="FIS_v2",due="https://firebaseinstallations.googleapis.com/v1",hue=60*60*1e3,fue="installations",mue="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vue={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},lc=new Jl(fue,mue,vue);function h4(t){return t instanceof Nr&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f4({projectId:t}){return`${due}/projects/${t}/installations`}function m4(t){return{token:t.token,requestStatus:2,expiresIn:pue(t.expiresIn),creationTime:Date.now()}}async function v4(t,e){const i=(await e.json()).error;return lc.create("request-failed",{requestName:t,serverCode:i.code,serverMessage:i.message,serverStatus:i.status})}function g4({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function gue(t,{refreshToken:e}){const n=g4(t);return n.append("Authorization",_ue(e)),n}async function p4(t){const e=await t();return e.status>=500&&e.status<600?t():e}function pue(t){return Number(t.replace("s","000"))}function _ue(t){return`${d4} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yue({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const i=f4(t),s=g4(t),r=e.getImmediate({optional:!0});if(r){const u=await r.getHeartbeatsHeader();u&&s.append("x-firebase-client",u)}const a={fid:n,authVersion:d4,appId:t.appId,sdkVersion:c4},o={method:"POST",headers:s,body:JSON.stringify(a)},l=await p4(()=>fetch(i,o));if(l.ok){const u=await l.json();return{fid:u.fid||n,registrationStatus:2,refreshToken:u.refreshToken,authToken:m4(u.authToken)}}else throw await v4("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _4(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bue(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wue=/^[cdef][\w-]{21}$/,lS="";function xue(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=Sue(t);return wue.test(n)?n:lS}catch{return lS}}function Sue(t){return bue(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a0(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y4=new Map;function b4(t,e){const n=a0(t);w4(n,e),kue(n,e)}function w4(t,e){const n=y4.get(t);if(n)for(const i of n)i(e)}function kue(t,e){const n=Tue();n&&n.postMessage({key:t,fid:e}),Pue()}let Nu=null;function Tue(){return!Nu&&"BroadcastChannel"in self&&(Nu=new BroadcastChannel("[Firebase] FID Change"),Nu.onmessage=t=>{w4(t.data.key,t.data.fid)}),Nu}function Pue(){y4.size===0&&Nu&&(Nu.close(),Nu=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cue="firebase-installations-database",Eue=1,uc="firebase-installations-store";let Qw=null;function GP(){return Qw||(Qw=C2(Cue,Eue,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(uc)}}})),Qw}async function Z_(t,e){const n=a0(t),s=(await GP()).transaction(uc,"readwrite"),r=s.objectStore(uc),a=await r.get(n);return await r.put(e,n),await s.done,(!a||a.fid!==e.fid)&&b4(t,e.fid),e}async function x4(t){const e=a0(t),i=(await GP()).transaction(uc,"readwrite");await i.objectStore(uc).delete(e),await i.done}async function o0(t,e){const n=a0(t),s=(await GP()).transaction(uc,"readwrite"),r=s.objectStore(uc),a=await r.get(n),o=e(a);return o===void 0?await r.delete(n):await r.put(o,n),await s.done,o&&(!a||a.fid!==o.fid)&&b4(t,o.fid),o}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qP(t){let e;const n=await o0(t.appConfig,i=>{const s=Iue(i),r=Due(t,s);return e=r.registrationPromise,r.installationEntry});return n.fid===lS?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function Iue(t){const e=t||{fid:xue(),registrationStatus:0};return S4(e)}function Due(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(lc.create("app-offline"));return{installationEntry:e,registrationPromise:s}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},i=Aue(t,n);return{installationEntry:n,registrationPromise:i}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:Oue(t)}:{installationEntry:e}}async function Aue(t,e){try{const n=await yue(t,e);return Z_(t.appConfig,n)}catch(n){throw h4(n)&&n.customData.serverCode===409?await x4(t.appConfig):await Z_(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function Oue(t){let e=await SR(t.appConfig);for(;e.registrationStatus===1;)await _4(100),e=await SR(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:i}=await qP(t);return i||n}return e}function SR(t){return o0(t,e=>{if(!e)throw lc.create("installation-not-found");return S4(e)})}function S4(t){return Rue(t)?{fid:t.fid,registrationStatus:0}:t}function Rue(t){return t.registrationStatus===1&&t.registrationTime+u4<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mue({appConfig:t,heartbeatServiceProvider:e},n){const i=Vue(t,n),s=gue(t,n),r=e.getImmediate({optional:!0});if(r){const u=await r.getHeartbeatsHeader();u&&s.append("x-firebase-client",u)}const a={installation:{sdkVersion:c4,appId:t.appId}},o={method:"POST",headers:s,body:JSON.stringify(a)},l=await p4(()=>fetch(i,o));if(l.ok){const u=await l.json();return m4(u)}else throw await v4("Generate Auth Token",l)}function Vue(t,{fid:e}){return`${f4(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XP(t,e=!1){let n;const i=await o0(t.appConfig,r=>{if(!k4(r))throw lc.create("not-registered");const a=r.authToken;if(!e&&Fue(a))return r;if(a.requestStatus===1)return n=Lue(t,e),r;{if(!navigator.onLine)throw lc.create("app-offline");const o=jue(r);return n=Nue(t,o),o}});return n?await n:i.authToken}async function Lue(t,e){let n=await kR(t.appConfig);for(;n.authToken.requestStatus===1;)await _4(100),n=await kR(t.appConfig);const i=n.authToken;return i.requestStatus===0?XP(t,e):i}function kR(t){return o0(t,e=>{if(!k4(e))throw lc.create("not-registered");const n=e.authToken;return $ue(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function Nue(t,e){try{const n=await Mue(t,e),i=Object.assign(Object.assign({},e),{authToken:n});return await Z_(t.appConfig,i),n}catch(n){if(h4(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await x4(t.appConfig);else{const i=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Z_(t.appConfig,i)}throw n}}function k4(t){return t!==void 0&&t.registrationStatus===2}function Fue(t){return t.requestStatus===2&&!Bue(t)}function Bue(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+hue}function jue(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function $ue(t){return t.requestStatus===1&&t.requestTime+u4<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uue(t){const e=t,{installationEntry:n,registrationPromise:i}=await qP(e);return i?i.catch(console.error):XP(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hue(t,e=!1){const n=t;return await zue(n),(await XP(n,e)).token}async function zue(t){const{registrationPromise:e}=await qP(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wue(t){if(!t||!t.options)throw Jw("App Configuration");if(!t.name)throw Jw("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Jw(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Jw(t){return lc.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T4="installations",Yue="installations-internal",Gue=t=>{const e=t.getProvider("app").getImmediate(),n=Wue(e),i=Ih(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:i,_delete:()=>Promise.resolve()}},que=t=>{const e=t.getProvider("app").getImmediate(),n=Ih(e,T4).getImmediate();return{getId:()=>Uue(n),getToken:s=>Hue(n,s)}};function Xue(){er(new js(T4,Gue,"PUBLIC")),er(new js(Yue,que,"PRIVATE"))}Xue();is(l4,YP);is(l4,YP,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uS="analytics",Kue="firebase_id",Que="origin",Jue=60*1e3,Zue="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",KP="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zs=new Eh("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ece={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},pr=new Jl("analytics","Analytics",ece);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tce(t){if(!t.startsWith(KP)){const e=pr.create("invalid-gtag-resource",{gtagURL:t});return Zs.warn(e.message),""}return t}function P4(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function nce(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function ice(t,e){const n=nce("firebase-js-sdk-policy",{createScriptURL:tce}),i=document.createElement("script"),s=`${KP}?l=${t}&id=${e}`;i.src=n?n==null?void 0:n.createScriptURL(s):s,i.async=!0,document.head.appendChild(i)}function sce(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function rce(t,e,n,i,s,r){const a=i[s];try{if(a)await e[a];else{const l=(await P4(n)).find(u=>u.measurementId===s);l&&await e[l.appId]}}catch(o){Zs.error(o)}t("config",s,r)}async function ace(t,e,n,i,s){try{let r=[];if(s&&s.send_to){let a=s.send_to;Array.isArray(a)||(a=[a]);const o=await P4(n);for(const l of a){const u=o.find(c=>c.measurementId===l),d=u&&e[u.appId];if(d)r.push(d);else{r=[];break}}}r.length===0&&(r=Object.values(e)),await Promise.all(r),t("event",i,s||{})}catch(r){Zs.error(r)}}function oce(t,e,n,i){async function s(r,...a){try{if(r==="event"){const[o,l]=a;await ace(t,e,n,o,l)}else if(r==="config"){const[o,l]=a;await rce(t,e,n,i,o,l)}else if(r==="consent"){const[o,l]=a;t("consent",o,l)}else if(r==="get"){const[o,l,u]=a;t("get",o,l,u)}else if(r==="set"){const[o]=a;t("set",o)}else t(r,...a)}catch(o){Zs.error(o)}}return s}function lce(t,e,n,i,s){let r=function(...a){window[i].push(arguments)};return window[s]&&typeof window[s]=="function"&&(r=window[s]),window[s]=oce(r,t,e,n),{gtagCore:r,wrappedGtag:window[s]}}function uce(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(KP)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cce=30,dce=1e3;class hce{constructor(e={},n=dce){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const C4=new hce;function fce(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function mce(t){var e;const{appId:n,apiKey:i}=t,s={method:"GET",headers:fce(i)},r=Zue.replace("{app-id}",n),a=await fetch(r,s);if(a.status!==200&&a.status!==304){let o="";try{const l=await a.json();!((e=l.error)===null||e===void 0)&&e.message&&(o=l.error.message)}catch{}throw pr.create("config-fetch-failed",{httpStatus:a.status,responseMessage:o})}return a.json()}async function vce(t,e=C4,n){const{appId:i,apiKey:s,measurementId:r}=t.options;if(!i)throw pr.create("no-app-id");if(!s){if(r)return{measurementId:r,appId:i};throw pr.create("no-api-key")}const a=e.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},o=new _ce;return setTimeout(async()=>{o.abort()},Jue),E4({appId:i,apiKey:s,measurementId:r},a,o,e)}async function E4(t,{throttleEndTimeMillis:e,backoffCount:n},i,s=C4){var r;const{appId:a,measurementId:o}=t;try{await gce(i,e)}catch(l){if(o)return Zs.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:a,measurementId:o};throw l}try{const l=await mce(t);return s.deleteThrottleMetadata(a),l}catch(l){const u=l;if(!pce(u)){if(s.deleteThrottleMetadata(a),o)return Zs.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:a,measurementId:o};throw l}const d=Number((r=u==null?void 0:u.customData)===null||r===void 0?void 0:r.httpStatus)===503?LI(n,s.intervalMillis,cce):LI(n,s.intervalMillis),c={throttleEndTimeMillis:Date.now()+d,backoffCount:n+1};return s.setThrottleMetadata(a,c),Zs.debug(`Calling attemptFetch again in ${d} millis`),E4(t,c,i,s)}}function gce(t,e){return new Promise((n,i)=>{const s=Math.max(e-Date.now(),0),r=setTimeout(n,s);t.addEventListener(()=>{clearTimeout(r),i(pr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function pce(t){if(!(t instanceof Nr)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class _ce{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function yce(t,e,n,i,s){if(s&&s.global){t("event",n,i);return}else{const r=await e,a=Object.assign(Object.assign({},i),{send_to:r});t("event",n,a)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bce(){if(Qk())try{await S2()}catch(t){return Zs.warn(pr.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return Zs.warn(pr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function wce(t,e,n,i,s,r,a){var o;const l=vce(t);l.then(h=>{n[h.measurementId]=h.appId,t.options.measurementId&&h.measurementId!==t.options.measurementId&&Zs.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${h.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(h=>Zs.error(h)),e.push(l);const u=bce().then(h=>{if(h)return i.getId()}),[d,c]=await Promise.all([l,u]);uce(r)||ice(r,d.measurementId),s("js",new Date);const f=(o=a==null?void 0:a.config)!==null&&o!==void 0?o:{};return f[Que]="firebase",f.update=!0,c!=null&&(f[Kue]=c),s("config",d.measurementId,f),d.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xce{constructor(e){this.app=e}_delete(){return delete am[this.app.options.appId],Promise.resolve()}}let am={},TR=[];const PR={};let Zw="dataLayer",Sce="gtag",CR,I4,ER=!1;function kce(){const t=[];if(b2()&&t.push("This is a browser extension environment."),nW()||t.push("Cookies are not available."),t.length>0){const e=t.map((i,s)=>`(${s+1}) ${i}`).join(" "),n=pr.create("invalid-analytics-context",{errorInfo:e});Zs.warn(n.message)}}function Tce(t,e,n){kce();const i=t.options.appId;if(!i)throw pr.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Zs.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw pr.create("no-api-key");if(am[i]!=null)throw pr.create("already-exists",{id:i});if(!ER){sce(Zw);const{wrappedGtag:r,gtagCore:a}=lce(am,TR,PR,Zw,Sce);I4=r,CR=a,ER=!0}return am[i]=wce(t,TR,PR,e,CR,Zw,n),new xce(t)}function Pce(t,e={}){const n=Ih(t,uS);if(n.isInitialized()){const s=n.getImmediate();if(xm(e,n.getOptions()))return s;throw pr.create("already-initialized")}return n.initialize({options:e})}function Cce(t,e,n,i){t=ai(t),yce(I4,am[t.app.options.appId],e,n,i).catch(s=>Zs.error(s))}const IR="@firebase/analytics",DR="0.10.10";function Ece(){er(new js(uS,(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),s=e.getProvider("installations-internal").getImmediate();return Tce(i,s,n)},"PUBLIC")),er(new js("analytics-internal",t,"PRIVATE")),is(IR,DR),is(IR,DR,"esm2017");function t(e){try{const n=e.getProvider(uS).getImmediate();return{logEvent:(i,s,r)=>Cce(n,i,s,r)}}catch(n){throw pr.create("interop-component-reg-failed",{reason:n})}}}Ece();function Ice(t){const e=t||E2(cue),n=LG(e),i=UB(e);return Pce(e),"true".toLowerCase()==="true"&&location.hostname==="localhost"&&(Q2(n,"http://localhost:9099"),$B(i,"localhost",8080)),{firebaseApp:e,auth:n,firestore:i}}function Dce(){const t=vY()[0];return Ice(t)}const Ace=new fo,Oce=te({...je(),...t$({fullHeight:!0}),...Ft()},"VApp"),Rce=pe()({name:"VApp",props:Oce(),setup(t,e){let{slots:n}=e;const i=Qt(t),{layoutClasses:s,getLayoutItem:r,items:a,layoutRef:o}=i$(t),{rtlClasses:l}=Ti();return xe(()=>{var u;return m("div",{ref:o,class:["v-application",i.themeClasses.value,s.value,l.value,t.class],style:[t.style]},[m("div",{class:"v-application__wrap"},[(u=n.default)==null?void 0:u.call(n)])])}),{getLayoutItem:r,items:a,theme:i}}}),yt=te({tag:{type:String,default:"div"}},"tag"),D4=te({text:String,...je(),...yt()},"VToolbarTitle"),QP=pe()({name:"VToolbarTitle",props:D4(),setup(t,e){let{slots:n}=e;return xe(()=>{const i=!!(n.default||n.text||t.text);return m(t.tag,{class:["v-toolbar-title",t.class],style:t.style},{default:()=>{var s;return[i&&m("div",{class:"v-toolbar-title__placeholder"},[n.text?n.text():t.text,(s=n.default)==null?void 0:s.call(n)])]}})}),{}}}),Mce=te({disabled:Boolean,group:Boolean,hideOnLeave:Boolean,leaveAbsolute:Boolean,mode:String,origin:String},"transition");function kr(t,e,n){return pe()({name:t,props:Mce({mode:n,origin:e}),setup(i,s){let{slots:r}=s;const a={onBeforeEnter(o){i.origin&&(o.style.transformOrigin=i.origin)},onLeave(o){if(i.leaveAbsolute){const{offsetTop:l,offsetLeft:u,offsetWidth:d,offsetHeight:c}=o;o._transitionInitialStyles={position:o.style.position,top:o.style.top,left:o.style.left,width:o.style.width,height:o.style.height},o.style.position="absolute",o.style.top=`${l}px`,o.style.left=`${u}px`,o.style.width=`${d}px`,o.style.height=`${c}px`}i.hideOnLeave&&o.style.setProperty("display","none","important")},onAfterLeave(o){if(i.leaveAbsolute&&(o!=null&&o._transitionInitialStyles)){const{position:l,top:u,left:d,width:c,height:f}=o._transitionInitialStyles;delete o._transitionInitialStyles,o.style.position=l||"",o.style.top=u||"",o.style.left=d||"",o.style.width=c||"",o.style.height=f||""}}};return()=>{const o=i.group?qk:Rl;return Ai(o,{name:i.disabled?"":t,css:!i.disabled,...i.group?void 0:{mode:i.mode},...i.disabled?{}:a},r.default)}}})}function A4(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"in-out";return pe()({name:t,props:{mode:{type:String,default:n},disabled:Boolean,group:Boolean},setup(i,s){let{slots:r}=s;const a=i.group?qk:Rl;return()=>Ai(a,{name:i.disabled?"":t,css:!i.disabled,...i.disabled?{}:e},r.default)}})}function O4(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";const n=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1)?"width":"height",i=Fs(`offset-${n}`);return{onBeforeEnter(a){a._parent=a.parentNode,a._initialStyle={transition:a.style.transition,overflow:a.style.overflow,[n]:a.style[n]}},onEnter(a){const o=a._initialStyle;a.style.setProperty("transition","none","important"),a.style.overflow="hidden";const l=`${a[i]}px`;a.style[n]="0",a.offsetHeight,a.style.transition=o.transition,t&&a._parent&&a._parent.classList.add(t),requestAnimationFrame(()=>{a.style[n]=l})},onAfterEnter:r,onEnterCancelled:r,onLeave(a){a._initialStyle={transition:"",overflow:a.style.overflow,[n]:a.style[n]},a.style.overflow="hidden",a.style[n]=`${a[i]}px`,a.offsetHeight,requestAnimationFrame(()=>a.style[n]="0")},onAfterLeave:s,onLeaveCancelled:s};function s(a){t&&a._parent&&a._parent.classList.remove(t),r(a)}function r(a){const o=a._initialStyle[n];a.style.overflow=a._initialStyle.overflow,o!=null&&(a.style[n]=o),delete a._initialStyle}}const Vce=te({target:[Object,Array]},"v-dialog-transition"),l0=pe()({name:"VDialogTransition",props:Vce(),setup(t,e){let{slots:n}=e;const i={onBeforeEnter(s){s.style.pointerEvents="none",s.style.visibility="hidden"},async onEnter(s,r){var f;await new Promise(h=>requestAnimationFrame(h)),await new Promise(h=>requestAnimationFrame(h)),s.style.visibility="";const{x:a,y:o,sx:l,sy:u,speed:d}=OR(t.target,s),c=Vu(s,[{transform:`translate(${a}px, ${o}px) scale(${l}, ${u})`,opacity:0},{}],{duration:225*d,easing:Gne});(f=AR(s))==null||f.forEach(h=>{Vu(h,[{opacity:0},{opacity:0,offset:.33},{}],{duration:225*2*d,easing:Fm})}),c.finished.then(()=>r())},onAfterEnter(s){s.style.removeProperty("pointer-events")},onBeforeLeave(s){s.style.pointerEvents="none"},async onLeave(s,r){var f;await new Promise(h=>requestAnimationFrame(h));const{x:a,y:o,sx:l,sy:u,speed:d}=OR(t.target,s);Vu(s,[{},{transform:`translate(${a}px, ${o}px) scale(${l}, ${u})`,opacity:0}],{duration:125*d,easing:qne}).finished.then(()=>r()),(f=AR(s))==null||f.forEach(h=>{Vu(h,[{},{opacity:0,offset:.2},{opacity:0}],{duration:125*2*d,easing:Fm})})},onAfterLeave(s){s.style.removeProperty("pointer-events")}};return()=>t.target?m(Rl,J({name:"dialog-transition"},i,{css:!1}),n):m(Rl,{name:"dialog-transition"},n)}});function AR(t){var n;const e=(n=t.querySelector(":scope > .v-card, :scope > .v-sheet, :scope > .v-list"))==null?void 0:n.children;return e&&[...e]}function OR(t,e){const n=Ij(t),i=PP(e),[s,r]=getComputedStyle(e).transformOrigin.split(" ").map(_=>parseFloat(_)),[a,o]=getComputedStyle(e).getPropertyValue("--v-overlay-anchor-origin").split(" ");let l=n.left+n.width/2;a==="left"||o==="left"?l-=n.width/2:(a==="right"||o==="right")&&(l+=n.width/2);let u=n.top+n.height/2;a==="top"||o==="top"?u-=n.height/2:(a==="bottom"||o==="bottom")&&(u+=n.height/2);const d=n.width/i.width,c=n.height/i.height,f=Math.max(1,d,c),h=d/f||0,g=c/f||0,v=i.width*i.height/(window.innerWidth*window.innerHeight),p=v>.12?Math.min(1.5,(v-.12)*10+1):1;return{x:l-(s+i.left),y:u-(r+i.top),sx:h,sy:g,speed:p}}const Lce=kr("fab-transition","center center","out-in"),Nce=kr("dialog-bottom-transition"),Fce=kr("dialog-top-transition"),qm=kr("fade-transition"),JP=kr("scale-transition"),Bce=kr("scroll-x-transition"),jce=kr("scroll-x-reverse-transition"),$ce=kr("scroll-y-transition"),Uce=kr("scroll-y-reverse-transition"),Hce=kr("slide-x-transition"),zce=kr("slide-x-reverse-transition"),ZP=kr("slide-y-transition"),Wce=kr("slide-y-reverse-transition"),u0=A4("expand-transition",O4()),eC=A4("expand-x-transition",O4("",!0)),Yce=te({defaults:Object,disabled:Boolean,reset:[Number,String],root:[Boolean,String],scoped:Boolean},"VDefaultsProvider"),ht=pe(!1)({name:"VDefaultsProvider",props:Yce(),setup(t,e){let{slots:n}=e;const{defaults:i,disabled:s,reset:r,root:a,scoped:o}=Kl(t);return Dn(i,{reset:r,root:a,scoped:o,disabled:s}),()=>{var l;return(l=n.default)==null?void 0:l.call(n)}}}),mi=te({height:[Number,String],maxHeight:[Number,String],maxWidth:[Number,String],minHeight:[Number,String],minWidth:[Number,String],width:[Number,String]},"dimension");function vi(t){return{dimensionStyles:R(()=>{const n={},i=Ne(t.height),s=Ne(t.maxHeight),r=Ne(t.maxWidth),a=Ne(t.minHeight),o=Ne(t.minWidth),l=Ne(t.width);return i!=null&&(n.height=i),s!=null&&(n.maxHeight=s),r!=null&&(n.maxWidth=r),a!=null&&(n.minHeight=a),o!=null&&(n.minWidth=o),l!=null&&(n.width=l),n})}}function Gce(t){return{aspectStyles:R(()=>{const e=Number(t.aspectRatio);return e?{paddingBottom:String(1/e*100)+"%"}:void 0})}}const R4=te({aspectRatio:[String,Number],contentClass:null,inline:Boolean,...je(),...mi()},"VResponsive"),cS=pe()({name:"VResponsive",props:R4(),setup(t,e){let{slots:n}=e;const{aspectStyles:i}=Gce(t),{dimensionStyles:s}=vi(t);return xe(()=>{var r;return m("div",{class:["v-responsive",{"v-responsive--inline":t.inline},t.class],style:[s.value,t.style]},[m("div",{class:"v-responsive__sizer",style:i.value},null),(r=n.additional)==null?void 0:r.call(n),n.default&&m("div",{class:["v-responsive__content",t.contentClass]},[n.default()])])}),{}}});function tC(t){return kP(()=>{const e=[],n={};if(t.value.background)if(Hx(t.value.background)){if(n.backgroundColor=t.value.background,!t.value.text&&Lne(t.value.background)){const i=Or(t.value.background);if(i.a==null||i.a===1){const s=jj(i);n.color=s,n.caretColor=s}}}else e.push(`bg-${t.value.background}`);return t.value.text&&(Hx(t.value.text)?(n.color=t.value.text,n.caretColor=t.value.text):e.push(`text-${t.value.text}`)),{colorClasses:e,colorStyles:n}})}function Ui(t,e){const n=R(()=>({text:Je(t)?t.value:e?t[e]:null})),{colorClasses:i,colorStyles:s}=tC(n);return{textColorClasses:i,textColorStyles:s}}function an(t,e){const n=R(()=>({background:Je(t)?t.value:e?t[e]:null})),{colorClasses:i,colorStyles:s}=tC(n);return{backgroundColorClasses:i,backgroundColorStyles:s}}const On=te({rounded:{type:[Boolean,Number,String],default:void 0},tile:Boolean},"rounded");function qn(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Qa();return{roundedClasses:R(()=>{const i=Je(t)?t.value:t.rounded,s=Je(t)?t.value:t.tile,r=[];if(i===!0||i==="")r.push(`${e}--rounded`);else if(typeof i=="string"||i===0)for(const a of String(i).split(" "))r.push(`rounded-${a}`);else(s||i===!1)&&r.push("rounded-0");return r})}}const ya=te({transition:{type:[Boolean,String,Object],default:"fade-transition",validator:t=>t!==!0}},"transition"),Ts=(t,e)=>{let{slots:n}=e;const{transition:i,disabled:s,group:r,...a}=t,{component:o=r?qk:Rl,...l}=typeof i=="object"?i:{};return Ai(o,J(typeof i=="string"?{name:s?"":i}:l,typeof i=="string"?{}:Object.fromEntries(Object.entries({disabled:s,group:r}).filter(u=>{let[d,c]=u;return c!==void 0})),a),n)};function qce(t,e){if(!wP)return;const n=e.modifiers||{},i=e.value,{handler:s,options:r}=typeof i=="object"?i:{handler:i,options:{}},a=new IntersectionObserver(function(){var c;let o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],l=arguments.length>1?arguments[1]:void 0;const u=(c=t._observe)==null?void 0:c[e.instance.$.uid];if(!u)return;const d=o.some(f=>f.isIntersecting);s&&(!n.quiet||u.init)&&(!n.once||d||u.init)&&s(d,o,l),d&&n.once?M4(t,e):u.init=!0},r);t._observe=Object(t._observe),t._observe[e.instance.$.uid]={init:!1,observer:a},a.observe(t)}function M4(t,e){var i;const n=(i=t._observe)==null?void 0:i[e.instance.$.uid];n&&(n.observer.unobserve(t),delete t._observe[e.instance.$.uid])}const Kv={mounted:qce,unmounted:M4},V4=te({absolute:Boolean,alt:String,cover:Boolean,color:String,draggable:{type:[Boolean,String],default:void 0},eager:Boolean,gradient:String,lazySrc:String,options:{type:Object,default:()=>({root:void 0,rootMargin:void 0,threshold:void 0})},sizes:String,src:{type:[String,Object],default:""},crossorigin:String,referrerpolicy:String,srcset:String,position:String,...R4(),...je(),...On(),...ya()},"VImg"),Vo=pe()({name:"VImg",directives:{intersect:Kv},props:V4(),emits:{loadstart:t=>!0,load:t=>!0,error:t=>!0},setup(t,e){let{emit:n,slots:i}=e;const{backgroundColorClasses:s,backgroundColorStyles:r}=an(ve(t,"color")),{roundedClasses:a}=qn(t),o=Gn("VImg"),l=Me(""),u=Y(),d=Me(t.eager?"loading":"idle"),c=Me(),f=Me(),h=R(()=>t.src&&typeof t.src=="object"?{src:t.src.src,srcset:t.srcset||t.src.srcset,lazySrc:t.lazySrc||t.src.lazySrc,aspect:Number(t.aspectRatio||t.src.aspect||0)}:{src:t.src,srcset:t.srcset,lazySrc:t.lazySrc,aspect:Number(t.aspectRatio||0)}),g=R(()=>h.value.aspect||c.value/f.value||0);we(()=>t.src,()=>{v(d.value!=="idle")}),we(g,(D,A)=>{!D&&A&&u.value&&k(u.value)}),Th(()=>v());function v(D){if(!(t.eager&&D)&&!(wP&&!D&&!t.eager)){if(d.value="loading",h.value.lazySrc){const A=new Image;A.src=h.value.lazySrc,k(A,null)}h.value.src&&pt(()=>{var A;n("loadstart",((A=u.value)==null?void 0:A.currentSrc)||h.value.src),setTimeout(()=>{var N;if(!o.isUnmounted)if((N=u.value)!=null&&N.complete){if(u.value.naturalWidth||_(),d.value==="error")return;g.value||k(u.value,null),d.value==="loading"&&p()}else g.value||k(u.value),b()})})}}function p(){var D;o.isUnmounted||(b(),k(u.value),d.value="loaded",n("load",((D=u.value)==null?void 0:D.currentSrc)||h.value.src))}function _(){var D;o.isUnmounted||(d.value="error",n("error",((D=u.value)==null?void 0:D.currentSrc)||h.value.src))}function b(){const D=u.value;D&&(l.value=D.currentSrc||D.src)}let x=-1;Mi(()=>{clearTimeout(x)});function k(D){let A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:100;const N=()=>{if(clearTimeout(x),o.isUnmounted)return;const{naturalHeight:B,naturalWidth:H}=D;B||H?(c.value=H,f.value=B):!D.complete&&d.value==="loading"&&A!=null?x=window.setTimeout(N,A):(D.currentSrc.endsWith(".svg")||D.currentSrc.startsWith("data:image/svg+xml"))&&(c.value=1,f.value=1)};N()}const I=R(()=>({"v-img__img--cover":t.cover,"v-img__img--contain":!t.cover})),E=()=>{var N;if(!h.value.src||d.value==="idle")return null;const D=m("img",{class:["v-img__img",I.value],style:{objectPosition:t.position},src:h.value.src,srcset:h.value.srcset,alt:t.alt,crossorigin:t.crossorigin,referrerpolicy:t.referrerpolicy,draggable:t.draggable,sizes:t.sizes,ref:u,onLoad:p,onError:_},null),A=(N=i.sources)==null?void 0:N.call(i);return m(Ts,{transition:t.transition,appear:!0},{default:()=>[In(A?m("picture",{class:"v-img__picture"},[A,D]):D,[[_a,d.value==="loaded"]])]})},T=()=>m(Ts,{transition:t.transition},{default:()=>[h.value.lazySrc&&d.value!=="loaded"&&m("img",{class:["v-img__img","v-img__img--preload",I.value],style:{objectPosition:t.position},src:h.value.lazySrc,alt:t.alt,crossorigin:t.crossorigin,referrerpolicy:t.referrerpolicy,draggable:t.draggable},null)]}),S=()=>i.placeholder?m(Ts,{transition:t.transition,appear:!0},{default:()=>[(d.value==="loading"||d.value==="error"&&!i.error)&&m("div",{class:"v-img__placeholder"},[i.placeholder()])]}):null,w=()=>i.error?m(Ts,{transition:t.transition,appear:!0},{default:()=>[d.value==="error"&&m("div",{class:"v-img__error"},[i.error()])]}):null,P=()=>t.gradient?m("div",{class:"v-img__gradient",style:{backgroundImage:`linear-gradient(${t.gradient})`}},null):null,C=Me(!1);{const D=we(g,A=>{A&&(requestAnimationFrame(()=>{requestAnimationFrame(()=>{C.value=!0})}),D())})}return xe(()=>{const D=cS.filterProps(t);return In(m(cS,J({class:["v-img",{"v-img--absolute":t.absolute,"v-img--booting":!C.value},s.value,a.value,t.class],style:[{width:Ne(t.width==="auto"?c.value:t.width)},r.value,t.style]},D,{aspectRatio:g.value,"aria-label":t.alt,role:t.alt?"img":void 0}),{additional:()=>m(Ie,null,[m(E,null,null),m(T,null,null),m(P,null,null),m(S,null,null),m(w,null,null)]),default:i.default}),[[nr("intersect"),{handler:v,options:t.options},null,{once:!0}]])}),{currentSrc:l,image:u,state:d,naturalWidth:c,naturalHeight:f}}}),ir=te({border:[Boolean,Number,String]},"border");function Tr(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Qa();return{borderClasses:R(()=>{const i=Je(t)?t.value:t.border,s=[];if(i===!0||i==="")s.push(`${e}--border`);else if(typeof i=="string"||i===0)for(const r of String(i).split(" "))s.push(`border-${r}`);return s})}}const Pi=te({elevation:{type:[Number,String],validator(t){const e=parseInt(t);return!isNaN(e)&&e>=0&&e<=24}}},"elevation");function Wi(t){return{elevationClasses:R(()=>{const n=Je(t)?t.value:t.elevation,i=[];return n==null||i.push(`elevation-${n}`),i})}}const Xce=[null,"prominent","default","comfortable","compact"],L4=te({absolute:Boolean,collapse:Boolean,color:String,density:{type:String,default:"default",validator:t=>Xce.includes(t)},extended:Boolean,extensionHeight:{type:[Number,String],default:48},flat:Boolean,floating:Boolean,height:{type:[Number,String],default:64},image:String,title:String,...ir(),...je(),...Pi(),...On(),...yt({tag:"header"}),...Ft()},"VToolbar"),dS=pe()({name:"VToolbar",props:L4(),setup(t,e){var h;let{slots:n}=e;const{backgroundColorClasses:i,backgroundColorStyles:s}=an(ve(t,"color")),{borderClasses:r}=Tr(t),{elevationClasses:a}=Wi(t),{roundedClasses:o}=qn(t),{themeClasses:l}=Qt(t),{rtlClasses:u}=Ti(),d=Me(!!(t.extended||(h=n.extension)!=null&&h.call(n))),c=R(()=>parseInt(Number(t.height)+(t.density==="prominent"?Number(t.height):0)-(t.density==="comfortable"?8:0)-(t.density==="compact"?16:0),10)),f=R(()=>d.value?parseInt(Number(t.extensionHeight)+(t.density==="prominent"?Number(t.extensionHeight):0)-(t.density==="comfortable"?4:0)-(t.density==="compact"?8:0),10):0);return Dn({VBtn:{variant:"text"}}),xe(()=>{var _;const g=!!(t.title||n.title),v=!!(n.image||t.image),p=(_=n.extension)==null?void 0:_.call(n);return d.value=!!(t.extended||p),m(t.tag,{class:["v-toolbar",{"v-toolbar--absolute":t.absolute,"v-toolbar--collapse":t.collapse,"v-toolbar--flat":t.flat,"v-toolbar--floating":t.floating,[`v-toolbar--density-${t.density}`]:!0},i.value,r.value,a.value,o.value,l.value,u.value,t.class],style:[s.value,t.style]},{default:()=>[v&&m("div",{key:"image",class:"v-toolbar__image"},[n.image?m(ht,{key:"image-defaults",disabled:!t.image,defaults:{VImg:{cover:!0,src:t.image}}},n.image):m(Vo,{key:"image-img",cover:!0,src:t.image},null)]),m(ht,{defaults:{VTabs:{height:Ne(c.value)}}},{default:()=>{var b,x,k;return[m("div",{class:"v-toolbar__content",style:{height:Ne(c.value)}},[n.prepend&&m("div",{class:"v-toolbar__prepend"},[(b=n.prepend)==null?void 0:b.call(n)]),g&&m(QP,{key:"title",text:t.title},{text:n.title}),(x=n.default)==null?void 0:x.call(n),n.append&&m("div",{class:"v-toolbar__append"},[(k=n.append)==null?void 0:k.call(n)])])]}}),m(ht,{defaults:{VTabs:{height:Ne(f.value)}}},{default:()=>[m(u0,null,{default:()=>[d.value&&m("div",{class:"v-toolbar__extension",style:{height:Ne(f.value)}},[p])]})]})]})}),{contentHeight:c,extensionHeight:f}}}),Kce=te({scrollTarget:{type:String},scrollThreshold:{type:[String,Number],default:300}},"scroll");function Qce(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{canScroll:n}=e;let i=0,s=0;const r=Y(null),a=Me(0),o=Me(0),l=Me(0),u=Me(!1),d=Me(!1),c=R(()=>Number(t.scrollThreshold)),f=R(()=>$n((c.value-a.value)/c.value||0)),h=()=>{const g=r.value;if(!g||n&&!n.value)return;i=a.value,a.value="window"in g?g.pageYOffset:g.scrollTop;const v=g instanceof Window?document.documentElement.scrollHeight:g.scrollHeight;if(s!==v){s=v;return}d.value=a.value<i,l.value=Math.abs(a.value-c.value)};return we(d,()=>{o.value=o.value||a.value}),we(u,()=>{o.value=0}),Pt(()=>{we(()=>t.scrollTarget,g=>{var p;const v=g?document.querySelector(g):window;v&&v!==r.value&&((p=r.value)==null||p.removeEventListener("scroll",h),r.value=v,r.value.addEventListener("scroll",h,{passive:!0}))},{immediate:!0})}),Mi(()=>{var g;(g=r.value)==null||g.removeEventListener("scroll",h)}),n&&we(n,h,{immediate:!0}),{scrollThreshold:c,currentScroll:a,currentThreshold:l,isScrollActive:u,scrollRatio:f,isScrollingUp:d,savedScroll:o}}function Nc(){const t=Me(!1);return Pt(()=>{window.requestAnimationFrame(()=>{t.value=!0})}),{ssrBootStyles:R(()=>t.value?void 0:{transition:"none !important"}),isBooted:kh(t)}}const Jce=te({scrollBehavior:String,modelValue:{type:Boolean,default:!0},location:{type:String,default:"top",validator:t=>["top","bottom"].includes(t)},...L4(),...Vc(),...Kce(),height:{type:[Number,String],default:64}},"VAppBar"),Zce=pe()({name:"VAppBar",props:Jce(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const i=Y(),s=Ye(t,"modelValue"),r=R(()=>{var x;const b=new Set(((x=t.scrollBehavior)==null?void 0:x.split(" "))??[]);return{hide:b.has("hide"),fullyHide:b.has("fully-hide"),inverted:b.has("inverted"),collapse:b.has("collapse"),elevate:b.has("elevate"),fadeImage:b.has("fade-image")}}),a=R(()=>{const b=r.value;return b.hide||b.fullyHide||b.inverted||b.collapse||b.elevate||b.fadeImage||!s.value}),{currentScroll:o,scrollThreshold:l,isScrollingUp:u,scrollRatio:d}=Qce(t,{canScroll:a}),c=R(()=>r.value.hide||r.value.fullyHide),f=R(()=>t.collapse||r.value.collapse&&(r.value.inverted?d.value>0:d.value===0)),h=R(()=>t.flat||r.value.fullyHide&&!s.value||r.value.elevate&&(r.value.inverted?o.value>0:o.value===0)),g=R(()=>r.value.fadeImage?r.value.inverted?1-d.value:d.value:void 0),v=R(()=>{var k,I;if(r.value.hide&&r.value.inverted)return 0;const b=((k=i.value)==null?void 0:k.contentHeight)??0,x=((I=i.value)==null?void 0:I.extensionHeight)??0;return c.value?o.value<l.value||r.value.fullyHide?b+x:b:b+x});Ns(R(()=>!!t.scrollBehavior),()=>{yn(()=>{c.value?r.value.inverted?s.value=o.value>l.value:s.value=u.value||o.value<l.value:s.value=!0})});const{ssrBootStyles:p}=Nc(),{layoutItemStyles:_}=Lc({id:t.name,order:R(()=>parseInt(t.order,10)),position:ve(t,"location"),layoutSize:v,elementSize:Me(void 0),active:s,absolute:ve(t,"absolute")});return xe(()=>{const b=dS.filterProps(t);return m(dS,J({ref:i,class:["v-app-bar",{"v-app-bar--bottom":t.location==="bottom"},t.class],style:[{..._.value,"--v-toolbar-image-opacity":g.value,height:void 0,...p.value},t.style]},b,{collapse:f.value,flat:h.value}),n)}),{}}}),ede=[null,"default","comfortable","compact"],Ci=te({density:{type:String,default:"default",validator:t=>ede.includes(t)}},"density");function ls(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Qa();return{densityClasses:R(()=>`${e}--density-${t.density}`)}}const tde=["elevated","flat","tonal","outlined","text","plain"];function ru(t,e){return m(Ie,null,[t&&m("span",{key:"overlay",class:`${e}__overlay`},null),m("span",{key:"underlay",class:`${e}__underlay`},null)])}const Br=te({color:String,variant:{type:String,default:"elevated",validator:t=>tde.includes(t)}},"variant");function Fc(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Qa();const n=R(()=>{const{variant:r}=ie(t);return`${e}--variant-${r}`}),{colorClasses:i,colorStyles:s}=tC(R(()=>{const{variant:r,color:a}=ie(t);return{[["elevated","flat"].includes(r)?"background":"text"]:a}}));return{colorClasses:i,colorStyles:s,variantClasses:n}}const N4=te({baseColor:String,divided:Boolean,...ir(),...je(),...Ci(),...Pi(),...On(),...yt(),...Ft(),...Br()},"VBtnGroup"),hS=pe()({name:"VBtnGroup",props:N4(),setup(t,e){let{slots:n}=e;const{themeClasses:i}=Qt(t),{densityClasses:s}=ls(t),{borderClasses:r}=Tr(t),{elevationClasses:a}=Wi(t),{roundedClasses:o}=qn(t);Dn({VBtn:{height:"auto",baseColor:ve(t,"baseColor"),color:ve(t,"color"),density:ve(t,"density"),flat:!0,variant:ve(t,"variant")}}),xe(()=>m(t.tag,{class:["v-btn-group",{"v-btn-group--divided":t.divided},i.value,r.value,s.value,a.value,o.value,t.class],style:t.style},n))}}),Bc=te({modelValue:{type:null,default:void 0},multiple:Boolean,mandatory:[Boolean,String],max:Number,selectedClass:String,disabled:Boolean},"group"),jc=te({value:null,disabled:Boolean,selectedClass:String},"group-item");function $c(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;const i=Gn("useGroupItem");if(!i)throw new Error("[Vuetify] useGroupItem composable must be used inside a component setup function");const s=zi();Jt(Symbol.for(`${e.description}:id`),s);const r=vt(e,null);if(!r){if(!n)return r;throw new Error(`[Vuetify] Could not find useGroup injection with symbol ${e.description}`)}const a=ve(t,"value"),o=R(()=>!!(r.disabled.value||t.disabled));r.register({id:s,value:a,disabled:o},i),Mi(()=>{r.unregister(s)});const l=R(()=>r.isSelected(s)),u=R(()=>r.items.value[0].id===s),d=R(()=>r.items.value[r.items.value.length-1].id===s),c=R(()=>l.value&&[r.selectedClass.value,t.selectedClass]);return we(l,f=>{i.emit("group:selected",{value:f})},{flush:"sync"}),{id:s,isSelected:l,isFirst:u,isLast:d,toggle:()=>r.select(s,!l.value),select:f=>r.select(s,f),selectedClass:c,value:a,disabled:o,group:r}}function au(t,e){let n=!1;const i=vn([]),s=Ye(t,"modelValue",[],f=>f==null?[]:F4(i,bn(f)),f=>{const h=ide(i,f);return t.multiple?h:h[0]}),r=Gn("useGroup");function a(f,h){const g=f,v=Symbol.for(`${e.description}:id`),_=bd(v,r==null?void 0:r.vnode).indexOf(h);ie(g.value)==null&&(g.value=_,g.useIndexAsValue=!0),_>-1?i.splice(_,0,g):i.push(g)}function o(f){if(n)return;l();const h=i.findIndex(g=>g.id===f);i.splice(h,1)}function l(){const f=i.find(h=>!h.disabled);f&&t.mandatory==="force"&&!s.value.length&&(s.value=[f.id])}Pt(()=>{l()}),Mi(()=>{n=!0}),jk(()=>{for(let f=0;f<i.length;f++)i[f].useIndexAsValue&&(i[f].value=f)});function u(f,h){const g=i.find(v=>v.id===f);if(!(h&&(g!=null&&g.disabled)))if(t.multiple){const v=s.value.slice(),p=v.findIndex(b=>b===f),_=~p;if(h=h??!_,_&&t.mandatory&&v.length<=1||!_&&t.max!=null&&v.length+1>t.max)return;p<0&&h?v.push(f):p>=0&&!h&&v.splice(p,1),s.value=v}else{const v=s.value.includes(f);if(t.mandatory&&v)return;s.value=h??!v?[f]:[]}}function d(f){if(t.multiple,s.value.length){const h=s.value[0],g=i.findIndex(_=>_.id===h);let v=(g+f)%i.length,p=i[v];for(;p.disabled&&v!==g;)v=(v+f)%i.length,p=i[v];if(p.disabled)return;s.value=[i[v].id]}else{const h=i.find(g=>!g.disabled);h&&(s.value=[h.id])}}const c={register:a,unregister:o,selected:s,select:u,disabled:ve(t,"disabled"),prev:()=>d(i.length-1),next:()=>d(1),isSelected:f=>s.value.includes(f),selectedClass:R(()=>t.selectedClass),items:R(()=>i),getItemIndex:f=>nde(i,f)};return Jt(e,c),c}function nde(t,e){const n=F4(t,[e]);return n.length?t.findIndex(i=>i.id===n[0]):-1}function F4(t,e){const n=[];return e.forEach(i=>{const s=t.find(a=>Ka(i,a.value)),r=t[i];(s==null?void 0:s.value)!=null?n.push(s.id):r!=null&&n.push(r.id)}),n}function ide(t,e){const n=[];return e.forEach(i=>{const s=t.findIndex(r=>r.id===i);if(~s){const r=t[s];n.push(r.value!=null?r.value:s)}}),n}const nC=Symbol.for("vuetify:v-btn-toggle"),sde=te({...N4(),...Bc()},"VBtnToggle"),rde=pe()({name:"VBtnToggle",props:sde(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const{isSelected:i,next:s,prev:r,select:a,selected:o}=au(t,nC);return xe(()=>{const l=hS.filterProps(t);return m(hS,J({class:["v-btn-toggle",t.class]},l,{style:t.style}),{default:()=>{var u;return[(u=n.default)==null?void 0:u.call(n,{isSelected:i,next:s,prev:r,select:a,selected:o})]}})}),{next:s,prev:r,select:a}}}),ade=["x-small","small","default","large","x-large"],Za=te({size:{type:[String,Number],default:"default"}},"size");function $h(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Qa();return kP(()=>{let n,i;return L_(ade,t.size)?n=`${e}--size-${t.size}`:t.size&&(i={width:Ne(t.size),height:Ne(t.size)}),{sizeClasses:n,sizeStyles:i}})}const ode=te({color:String,disabled:Boolean,start:Boolean,end:Boolean,icon:qe,...je(),...Za(),...yt({tag:"i"}),...Ft()},"VIcon"),jt=pe()({name:"VIcon",props:ode(),setup(t,e){let{attrs:n,slots:i}=e;const s=Y(),{themeClasses:r}=Qt(t),{iconData:a}=tse(R(()=>s.value||t.icon)),{sizeClasses:o}=$h(t),{textColorClasses:l,textColorStyles:u}=Ui(ve(t,"color"));return xe(()=>{var f,h;const d=(f=i.default)==null?void 0:f.call(i);d&&(s.value=(h=kj(d).filter(g=>g.type===Tv&&g.children&&typeof g.children=="string")[0])==null?void 0:h.children);const c=!!(n.onClick||n.onClickOnce);return m(a.value.component,{tag:t.tag,icon:a.value.icon,class:["v-icon","notranslate",r.value,o.value,l.value,{"v-icon--clickable":c,"v-icon--disabled":t.disabled,"v-icon--start":t.start,"v-icon--end":t.end},t.class],style:[o.value?void 0:{fontSize:Ne(t.size),height:Ne(t.size),width:Ne(t.size)},u.value,t.style],role:c?"button":void 0,"aria-hidden":!c,tabindex:c?t.disabled?-1:0:void 0},{default:()=>[d]})}),{}}});function c0(t,e){const n=Y(),i=Me(!1);if(wP){const s=new IntersectionObserver(r=>{i.value=!!r.find(a=>a.isIntersecting)},e);Mi(()=>{s.disconnect()}),we(n,(r,a)=>{a&&(s.unobserve(a),i.value=!1),r&&s.observe(r)},{flush:"post"})}return{intersectionRef:n,isIntersecting:i}}const lde=te({bgColor:String,color:String,indeterminate:[Boolean,String],modelValue:{type:[Number,String],default:0},rotate:{type:[Number,String],default:0},width:{type:[Number,String],default:4},...je(),...Za(),...yt({tag:"div"}),...Ft()},"VProgressCircular"),$l=pe()({name:"VProgressCircular",props:lde(),setup(t,e){let{slots:n}=e;const i=20,s=2*Math.PI*i,r=Y(),{themeClasses:a}=Qt(t),{sizeClasses:o,sizeStyles:l}=$h(t),{textColorClasses:u,textColorStyles:d}=Ui(ve(t,"color")),{textColorClasses:c,textColorStyles:f}=Ui(ve(t,"bgColor")),{intersectionRef:h,isIntersecting:g}=c0(),{resizeRef:v,contentRect:p}=ha(),_=R(()=>Math.max(0,Math.min(100,parseFloat(t.modelValue)))),b=R(()=>Number(t.width)),x=R(()=>l.value?Number(t.size):p.value?p.value.width:Math.max(b.value,32)),k=R(()=>i/(1-b.value/x.value)*2),I=R(()=>b.value/x.value*k.value),E=R(()=>Ne((100-_.value)/100*s));return yn(()=>{h.value=r.value,v.value=r.value}),xe(()=>m(t.tag,{ref:r,class:["v-progress-circular",{"v-progress-circular--indeterminate":!!t.indeterminate,"v-progress-circular--visible":g.value,"v-progress-circular--disable-shrink":t.indeterminate==="disable-shrink"},a.value,o.value,u.value,t.class],style:[l.value,d.value,t.style],role:"progressbar","aria-valuemin":"0","aria-valuemax":"100","aria-valuenow":t.indeterminate?void 0:_.value},{default:()=>[m("svg",{style:{transform:`rotate(calc(-90deg + ${Number(t.rotate)}deg))`},xmlns:"http://www.w3.org/2000/svg",viewBox:`0 0 ${k.value} ${k.value}`},[m("circle",{class:["v-progress-circular__underlay",c.value],style:f.value,fill:"transparent",cx:"50%",cy:"50%",r:i,"stroke-width":I.value,"stroke-dasharray":s,"stroke-dashoffset":0},null),m("circle",{class:"v-progress-circular__overlay",fill:"transparent",cx:"50%",cy:"50%",r:i,"stroke-width":I.value,"stroke-dasharray":s,"stroke-dashoffset":E.value},null)]),n.default&&m("div",{class:"v-progress-circular__content"},[n.default({value:_.value})])]})),{}}}),RR={center:"center",top:"bottom",bottom:"top",left:"right",right:"left"},Yo=te({location:String},"location");function Uc(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=arguments.length>2?arguments[2]:void 0;const{isRtl:i}=Ti();return{locationStyles:R(()=>{if(!t.location)return{};const{side:r,align:a}=$x(t.location.split(" ").length>1?t.location:`${t.location} center`,i.value);function o(u){return n?n(u):0}const l={};return r!=="center"&&(e?l[RR[r]]=`calc(100% - ${o(r)}px)`:l[r]=0),a!=="center"?e?l[RR[a]]=`calc(100% - ${o(a)}px)`:l[a]=0:(r==="center"?l.top=l.left="50%":l[{top:"left",bottom:"left",left:"top",right:"top"}[r]]="50%",l.transform={top:"translateX(-50%)",bottom:"translateX(-50%)",left:"translateY(-50%)",right:"translateY(-50%)",center:"translate(-50%, -50%)"}[r]),l})}}const ude=te({absolute:Boolean,active:{type:Boolean,default:!0},bgColor:String,bgOpacity:[Number,String],bufferValue:{type:[Number,String],default:0},bufferColor:String,bufferOpacity:[Number,String],clickable:Boolean,color:String,height:{type:[Number,String],default:4},indeterminate:Boolean,max:{type:[Number,String],default:100},modelValue:{type:[Number,String],default:0},opacity:[Number,String],reverse:Boolean,stream:Boolean,striped:Boolean,roundedBar:Boolean,...je(),...Yo({location:"top"}),...On(),...yt(),...Ft()},"VProgressLinear"),d0=pe()({name:"VProgressLinear",props:ude(),emits:{"update:modelValue":t=>!0},setup(t,e){var C;let{slots:n}=e;const i=Ye(t,"modelValue"),{isRtl:s,rtlClasses:r}=Ti(),{themeClasses:a}=Qt(t),{locationStyles:o}=Uc(t),{textColorClasses:l,textColorStyles:u}=Ui(t,"color"),{backgroundColorClasses:d,backgroundColorStyles:c}=an(R(()=>t.bgColor||t.color)),{backgroundColorClasses:f,backgroundColorStyles:h}=an(R(()=>t.bufferColor||t.bgColor||t.color)),{backgroundColorClasses:g,backgroundColorStyles:v}=an(t,"color"),{roundedClasses:p}=qn(t),{intersectionRef:_,isIntersecting:b}=c0(),x=R(()=>parseFloat(t.max)),k=R(()=>parseFloat(t.height)),I=R(()=>$n(parseFloat(t.bufferValue)/x.value*100,0,100)),E=R(()=>$n(parseFloat(i.value)/x.value*100,0,100)),T=R(()=>s.value!==t.reverse),S=R(()=>t.indeterminate?"fade-transition":"slide-x-transition"),w=Gt&&((C=window.matchMedia)==null?void 0:C.call(window,"(forced-colors: active)").matches);function P(D){if(!_.value)return;const{left:A,right:N,width:B}=_.value.getBoundingClientRect(),H=T.value?B-D.clientX+(N-B):D.clientX-A;i.value=Math.round(H/B*x.value)}return xe(()=>m(t.tag,{ref:_,class:["v-progress-linear",{"v-progress-linear--absolute":t.absolute,"v-progress-linear--active":t.active&&b.value,"v-progress-linear--reverse":T.value,"v-progress-linear--rounded":t.rounded,"v-progress-linear--rounded-bar":t.roundedBar,"v-progress-linear--striped":t.striped},p.value,a.value,r.value,t.class],style:[{bottom:t.location==="bottom"?0:void 0,top:t.location==="top"?0:void 0,height:t.active?Ne(k.value):0,"--v-progress-linear-height":Ne(k.value),...t.absolute?o.value:{}},t.style],role:"progressbar","aria-hidden":t.active?"false":"true","aria-valuemin":"0","aria-valuemax":t.max,"aria-valuenow":t.indeterminate?void 0:E.value,onClick:t.clickable&&P},{default:()=>[t.stream&&m("div",{key:"stream",class:["v-progress-linear__stream",l.value],style:{...u.value,[T.value?"left":"right"]:Ne(-k.value),borderTop:`${Ne(k.value/2)} dotted`,opacity:parseFloat(t.bufferOpacity),top:`calc(50% - ${Ne(k.value/4)})`,width:Ne(100-I.value,"%"),"--v-progress-linear-stream-to":Ne(k.value*(T.value?1:-1))}},null),m("div",{class:["v-progress-linear__background",w?void 0:d.value],style:[c.value,{opacity:parseFloat(t.bgOpacity),width:t.stream?0:void 0}]},null),m("div",{class:["v-progress-linear__buffer",w?void 0:f.value],style:[h.value,{opacity:parseFloat(t.bufferOpacity),width:Ne(I.value,"%")}]},null),m(Rl,{name:S.value},{default:()=>[t.indeterminate?m("div",{class:"v-progress-linear__indeterminate"},[["long","short"].map(D=>m("div",{key:D,class:["v-progress-linear__indeterminate",D,w?void 0:g.value],style:v.value},null))]):m("div",{class:["v-progress-linear__determinate",w?void 0:g.value],style:[v.value,{width:Ne(E.value,"%")}]},null)]}),n.default&&m("div",{class:"v-progress-linear__content"},[n.default({value:E.value,buffer:I.value})])]})),{}}}),h0=te({loading:[Boolean,String]},"loader");function Qv(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Qa();return{loaderClasses:R(()=>({[`${e}--loading`]:t.loading}))}}function Jv(t,e){var i;let{slots:n}=e;return m("div",{class:`${t.name}__loader`},[((i=n.default)==null?void 0:i.call(n,{color:t.color,isActive:t.active}))||m(d0,{absolute:t.absolute,active:t.active,color:t.color,height:"2",indeterminate:!0},null)])}const cde=["static","relative","fixed","absolute","sticky"],Uh=te({position:{type:String,validator:t=>cde.includes(t)}},"position");function Hh(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Qa();return{positionClasses:R(()=>t.position?`${e}--${t.position}`:void 0)}}function dde(){const t=Gn("useRoute");return R(()=>{var e;return(e=t==null?void 0:t.proxy)==null?void 0:e.$route})}function B4(){var t,e;return(e=(t=Gn("useRouter"))==null?void 0:t.proxy)==null?void 0:e.$router}function zh(t,e){var c,f;const n=xL("RouterLink"),i=R(()=>!!(t.href||t.to)),s=R(()=>(i==null?void 0:i.value)||gO(e,"click")||gO(t,"click"));if(typeof n=="string"||!("useLink"in n)){const h=ve(t,"href");return{isLink:i,isClickable:s,href:h,linkProps:vn({href:h})}}const r=R(()=>({...t,to:ve(()=>t.to||"")})),a=n.useLink(r.value),o=R(()=>t.to?a:void 0),l=dde(),u=R(()=>{var h,g,v;return o.value?t.exact?l.value?((v=o.value.isExactActive)==null?void 0:v.value)&&Ka(o.value.route.value.query,l.value.query):((g=o.value.isExactActive)==null?void 0:g.value)??!1:((h=o.value.isActive)==null?void 0:h.value)??!1:!1}),d=R(()=>{var h;return t.to?(h=o.value)==null?void 0:h.route.value.href:t.href});return{isLink:i,isClickable:s,isActive:u,route:(c=o.value)==null?void 0:c.route,navigate:(f=o.value)==null?void 0:f.navigate,href:d,linkProps:vn({href:d,"aria-current":R(()=>u.value?"page":void 0)})}}const Zv=te({href:String,replace:Boolean,to:[String,Object],exact:Boolean},"router");let e1=!1;function hde(t,e){let n=!1,i,s;Gt&&(pt(()=>{window.addEventListener("popstate",r),i=t==null?void 0:t.beforeEach((a,o,l)=>{e1?n?e(l):l():setTimeout(()=>n?e(l):l()),e1=!0}),s=t==null?void 0:t.afterEach(()=>{e1=!1})}),as(()=>{window.removeEventListener("popstate",r),i==null||i(),s==null||s()}));function r(a){var o;(o=a.state)!=null&&o.replaced||(n=!0,setTimeout(()=>n=!1))}}function fde(t,e){we(()=>{var n;return(n=t.isActive)==null?void 0:n.value},n=>{t.isLink.value&&n&&e&&pt(()=>{e(!0)})},{immediate:!0})}const fS=Symbol("rippleStop"),mde=80;function MR(t,e){t.style.transform=e,t.style.webkitTransform=e}function mS(t){return t.constructor.name==="TouchEvent"}function j4(t){return t.constructor.name==="KeyboardEvent"}const vde=function(t,e){var c;let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=0,s=0;if(!j4(t)){const f=e.getBoundingClientRect(),h=mS(t)?t.touches[t.touches.length-1]:t;i=h.clientX-f.left,s=h.clientY-f.top}let r=0,a=.3;(c=e._ripple)!=null&&c.circle?(a=.15,r=e.clientWidth/2,r=n.center?r:r+Math.sqrt((i-r)**2+(s-r)**2)/4):r=Math.sqrt(e.clientWidth**2+e.clientHeight**2)/2;const o=`${(e.clientWidth-r*2)/2}px`,l=`${(e.clientHeight-r*2)/2}px`,u=n.center?o:`${i-r}px`,d=n.center?l:`${s-r}px`;return{radius:r,scale:a,x:u,y:d,centerX:o,centerY:l}},ey={show(t,e){var h;let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!((h=e==null?void 0:e._ripple)!=null&&h.enabled))return;const i=document.createElement("span"),s=document.createElement("span");i.appendChild(s),i.className="v-ripple__container",n.class&&(i.className+=` ${n.class}`);const{radius:r,scale:a,x:o,y:l,centerX:u,centerY:d}=vde(t,e,n),c=`${r*2}px`;s.className="v-ripple__animation",s.style.width=c,s.style.height=c,e.appendChild(i);const f=window.getComputedStyle(e);f&&f.position==="static"&&(e.style.position="relative",e.dataset.previousPosition="static"),s.classList.add("v-ripple__animation--enter"),s.classList.add("v-ripple__animation--visible"),MR(s,`translate(${o}, ${l}) scale3d(${a},${a},${a})`),s.dataset.activated=String(performance.now()),setTimeout(()=>{s.classList.remove("v-ripple__animation--enter"),s.classList.add("v-ripple__animation--in"),MR(s,`translate(${u}, ${d}) scale3d(1,1,1)`)},0)},hide(t){var r;if(!((r=t==null?void 0:t._ripple)!=null&&r.enabled))return;const e=t.getElementsByClassName("v-ripple__animation");if(e.length===0)return;const n=e[e.length-1];if(n.dataset.isHiding)return;n.dataset.isHiding="true";const i=performance.now()-Number(n.dataset.activated),s=Math.max(250-i,0);setTimeout(()=>{n.classList.remove("v-ripple__animation--in"),n.classList.add("v-ripple__animation--out"),setTimeout(()=>{var o;t.getElementsByClassName("v-ripple__animation").length===1&&t.dataset.previousPosition&&(t.style.position=t.dataset.previousPosition,delete t.dataset.previousPosition),((o=n.parentNode)==null?void 0:o.parentNode)===t&&t.removeChild(n.parentNode)},300)},s)}};function $4(t){return typeof t>"u"||!!t}function Xm(t){const e={},n=t.currentTarget;if(!(!(n!=null&&n._ripple)||n._ripple.touched||t[fS])){if(t[fS]=!0,mS(t))n._ripple.touched=!0,n._ripple.isTouch=!0;else if(n._ripple.isTouch)return;if(e.center=n._ripple.centered||j4(t),n._ripple.class&&(e.class=n._ripple.class),mS(t)){if(n._ripple.showTimerCommit)return;n._ripple.showTimerCommit=()=>{ey.show(t,n,e)},n._ripple.showTimer=window.setTimeout(()=>{var i;(i=n==null?void 0:n._ripple)!=null&&i.showTimerCommit&&(n._ripple.showTimerCommit(),n._ripple.showTimerCommit=null)},mde)}else ey.show(t,n,e)}}function VR(t){t[fS]=!0}function dr(t){const e=t.currentTarget;if(e!=null&&e._ripple){if(window.clearTimeout(e._ripple.showTimer),t.type==="touchend"&&e._ripple.showTimerCommit){e._ripple.showTimerCommit(),e._ripple.showTimerCommit=null,e._ripple.showTimer=window.setTimeout(()=>{dr(t)});return}window.setTimeout(()=>{e._ripple&&(e._ripple.touched=!1)}),ey.hide(e)}}function U4(t){const e=t.currentTarget;e!=null&&e._ripple&&(e._ripple.showTimerCommit&&(e._ripple.showTimerCommit=null),window.clearTimeout(e._ripple.showTimer))}let Km=!1;function H4(t){!Km&&(t.keyCode===fO.enter||t.keyCode===fO.space)&&(Km=!0,Xm(t))}function z4(t){Km=!1,dr(t)}function W4(t){Km&&(Km=!1,dr(t))}function Y4(t,e,n){const{value:i,modifiers:s}=e,r=$4(i);if(r||ey.hide(t),t._ripple=t._ripple??{},t._ripple.enabled=r,t._ripple.centered=s.center,t._ripple.circle=s.circle,Ub(i)&&i.class&&(t._ripple.class=i.class),r&&!n){if(s.stop){t.addEventListener("touchstart",VR,{passive:!0}),t.addEventListener("mousedown",VR);return}t.addEventListener("touchstart",Xm,{passive:!0}),t.addEventListener("touchend",dr,{passive:!0}),t.addEventListener("touchmove",U4,{passive:!0}),t.addEventListener("touchcancel",dr),t.addEventListener("mousedown",Xm),t.addEventListener("mouseup",dr),t.addEventListener("mouseleave",dr),t.addEventListener("keydown",H4),t.addEventListener("keyup",z4),t.addEventListener("blur",W4),t.addEventListener("dragstart",dr,{passive:!0})}else!r&&n&&G4(t)}function G4(t){t.removeEventListener("mousedown",Xm),t.removeEventListener("touchstart",Xm),t.removeEventListener("touchend",dr),t.removeEventListener("touchmove",U4),t.removeEventListener("touchcancel",dr),t.removeEventListener("mouseup",dr),t.removeEventListener("mouseleave",dr),t.removeEventListener("keydown",H4),t.removeEventListener("keyup",z4),t.removeEventListener("dragstart",dr),t.removeEventListener("blur",W4)}function gde(t,e){Y4(t,e,!1)}function pde(t){delete t._ripple,G4(t)}function _de(t,e){if(e.value===e.oldValue)return;const n=$4(e.oldValue);Y4(t,e,n)}const Go={mounted:gde,unmounted:pde,updated:_de},f0=te({active:{type:Boolean,default:void 0},activeColor:String,baseColor:String,symbol:{type:null,default:nC},flat:Boolean,icon:[Boolean,String,Function,Object],prependIcon:qe,appendIcon:qe,block:Boolean,readonly:Boolean,slim:Boolean,stacked:Boolean,ripple:{type:[Boolean,Object],default:!0},text:String,...ir(),...je(),...Ci(),...mi(),...Pi(),...jc(),...h0(),...Yo(),...Uh(),...On(),...Zv(),...Za(),...yt({tag:"button"}),...Ft(),...Br({variant:"elevated"})},"VBtn"),gt=pe()({name:"VBtn",props:f0(),emits:{"group:selected":t=>!0},setup(t,e){let{attrs:n,slots:i}=e;const{themeClasses:s}=Qt(t),{borderClasses:r}=Tr(t),{densityClasses:a}=ls(t),{dimensionStyles:o}=vi(t),{elevationClasses:l}=Wi(t),{loaderClasses:u}=Qv(t),{locationStyles:d}=Uc(t),{positionClasses:c}=Hh(t),{roundedClasses:f}=qn(t),{sizeClasses:h,sizeStyles:g}=$h(t),v=$c(t,t.symbol,!1),p=zh(t,n),_=R(()=>{var C;return t.active!==void 0?t.active:p.isLink.value?(C=p.isActive)==null?void 0:C.value:v==null?void 0:v.isSelected.value}),b=R(()=>_.value?t.activeColor??t.color:t.color),x=R(()=>{var D,A;return{color:(v==null?void 0:v.isSelected.value)&&(!p.isLink.value||((D=p.isActive)==null?void 0:D.value))||!v||((A=p.isActive)==null?void 0:A.value)?b.value??t.baseColor:t.baseColor,variant:t.variant}}),{colorClasses:k,colorStyles:I,variantClasses:E}=Fc(x),T=R(()=>(v==null?void 0:v.disabled.value)||t.disabled),S=R(()=>t.variant==="elevated"&&!(t.disabled||t.flat||t.border)),w=R(()=>{if(!(t.value===void 0||typeof t.value=="symbol"))return Object(t.value)===t.value?JSON.stringify(t.value,null,0):t.value});function P(C){var D;T.value||p.isLink.value&&(C.metaKey||C.ctrlKey||C.shiftKey||C.button!==0||n.target==="_blank")||((D=p.navigate)==null||D.call(p,C),v==null||v.toggle())}return fde(p,v==null?void 0:v.select),xe(()=>{const C=p.isLink.value?"a":t.tag,D=!!(t.prependIcon||i.prepend),A=!!(t.appendIcon||i.append),N=!!(t.icon&&t.icon!==!0);return In(m(C,J({type:C==="a"?void 0:"button",class:["v-btn",v==null?void 0:v.selectedClass.value,{"v-btn--active":_.value,"v-btn--block":t.block,"v-btn--disabled":T.value,"v-btn--elevated":S.value,"v-btn--flat":t.flat,"v-btn--icon":!!t.icon,"v-btn--loading":t.loading,"v-btn--readonly":t.readonly,"v-btn--slim":t.slim,"v-btn--stacked":t.stacked},s.value,r.value,k.value,a.value,l.value,u.value,c.value,f.value,h.value,E.value,t.class],style:[I.value,o.value,d.value,g.value,t.style],"aria-busy":t.loading?!0:void 0,disabled:T.value||void 0,tabindex:t.loading||t.readonly?-1:void 0,onClick:P,value:w.value},p.linkProps),{default:()=>{var B;return[ru(!0,"v-btn"),!t.icon&&D&&m("span",{key:"prepend",class:"v-btn__prepend"},[i.prepend?m(ht,{key:"prepend-defaults",disabled:!t.prependIcon,defaults:{VIcon:{icon:t.prependIcon}}},i.prepend):m(jt,{key:"prepend-icon",icon:t.prependIcon},null)]),m("span",{class:"v-btn__content","data-no-activator":""},[!i.default&&N?m(jt,{key:"content-icon",icon:t.icon},null):m(ht,{key:"content-defaults",disabled:!N,defaults:{VIcon:{icon:t.icon}}},{default:()=>{var H;return[((H=i.default)==null?void 0:H.call(i))??t.text]}})]),!t.icon&&A&&m("span",{key:"append",class:"v-btn__append"},[i.append?m(ht,{key:"append-defaults",disabled:!t.appendIcon,defaults:{VIcon:{icon:t.appendIcon}}},i.append):m(jt,{key:"append-icon",icon:t.appendIcon},null)]),!!t.loading&&m("span",{key:"loader",class:"v-btn__loader"},[((B=i.loader)==null?void 0:B.call(i))??m($l,{color:typeof t.loading=="boolean"?void 0:t.loading,indeterminate:!0,width:"2"},null)])]}}),[[Go,!T.value&&t.ripple,"",{center:!!t.icon}]])}),{group:v}}}),yde=te({...f0({icon:"$menu",variant:"text"})},"VAppBarNavIcon"),bde=pe()({name:"VAppBarNavIcon",props:yde(),setup(t,e){let{slots:n}=e;return xe(()=>m(gt,J(t,{class:["v-app-bar-nav-icon"]}),n)),{}}}),wde=pe()({name:"VAppBarTitle",props:D4(),setup(t,e){let{slots:n}=e;return xe(()=>m(QP,J(t,{class:"v-app-bar-title"}),n)),{}}}),q4=Ja("v-alert-title"),xde=["success","info","warning","error"],Sde=te({border:{type:[Boolean,String],validator:t=>typeof t=="boolean"||["top","end","bottom","start"].includes(t)},borderColor:String,closable:Boolean,closeIcon:{type:qe,default:"$close"},closeLabel:{type:String,default:"$vuetify.close"},icon:{type:[Boolean,String,Function,Object],default:null},modelValue:{type:Boolean,default:!0},prominent:Boolean,title:String,text:String,type:{type:String,validator:t=>xde.includes(t)},...je(),...Ci(),...mi(),...Pi(),...Yo(),...Uh(),...On(),...yt(),...Ft(),...Br({variant:"flat"})},"VAlert"),kde=pe()({name:"VAlert",props:Sde(),emits:{"click:close":t=>!0,"update:modelValue":t=>!0},setup(t,e){let{emit:n,slots:i}=e;const s=Ye(t,"modelValue"),r=R(()=>{if(t.icon!==!1)return t.type?t.icon??`$${t.type}`:t.icon}),a=R(()=>({color:t.color??t.type,variant:t.variant})),{themeClasses:o}=Qt(t),{colorClasses:l,colorStyles:u,variantClasses:d}=Fc(a),{densityClasses:c}=ls(t),{dimensionStyles:f}=vi(t),{elevationClasses:h}=Wi(t),{locationStyles:g}=Uc(t),{positionClasses:v}=Hh(t),{roundedClasses:p}=qn(t),{textColorClasses:_,textColorStyles:b}=Ui(ve(t,"borderColor")),{t:x}=gn(),k=R(()=>({"aria-label":x(t.closeLabel),onClick(I){s.value=!1,n("click:close",I)}}));return()=>{const I=!!(i.prepend||r.value),E=!!(i.title||t.title),T=!!(i.close||t.closable);return s.value&&m(t.tag,{class:["v-alert",t.border&&{"v-alert--border":!!t.border,[`v-alert--border-${t.border===!0?"start":t.border}`]:!0},{"v-alert--prominent":t.prominent},o.value,l.value,c.value,h.value,v.value,p.value,d.value,t.class],style:[u.value,f.value,g.value,t.style],role:"alert"},{default:()=>{var S,w;return[ru(!1,"v-alert"),t.border&&m("div",{key:"border",class:["v-alert__border",_.value],style:b.value},null),I&&m("div",{key:"prepend",class:"v-alert__prepend"},[i.prepend?m(ht,{key:"prepend-defaults",disabled:!r.value,defaults:{VIcon:{density:t.density,icon:r.value,size:t.prominent?44:28}}},i.prepend):m(jt,{key:"prepend-icon",density:t.density,icon:r.value,size:t.prominent?44:28},null)]),m("div",{class:"v-alert__content"},[E&&m(q4,{key:"title"},{default:()=>{var P;return[((P=i.title)==null?void 0:P.call(i))??t.title]}}),((S=i.text)==null?void 0:S.call(i))??t.text,(w=i.default)==null?void 0:w.call(i)]),i.append&&m("div",{key:"append",class:"v-alert__append"},[i.append()]),T&&m("div",{key:"close",class:"v-alert__close"},[i.close?m(ht,{key:"close-defaults",defaults:{VBtn:{icon:t.closeIcon,size:"x-small",variant:"text"}}},{default:()=>{var P;return[(P=i.close)==null?void 0:P.call(i,{props:k.value})]}}):m(gt,J({key:"close-btn",icon:t.closeIcon,size:"x-small",variant:"text"},k.value),null)])]}})}}}),Tde=te({start:Boolean,end:Boolean,icon:qe,image:String,text:String,...ir(),...je(),...Ci(),...On(),...Za(),...yt(),...Ft(),...Br({variant:"flat"})},"VAvatar"),$s=pe()({name:"VAvatar",props:Tde(),setup(t,e){let{slots:n}=e;const{themeClasses:i}=Qt(t),{borderClasses:s}=Tr(t),{colorClasses:r,colorStyles:a,variantClasses:o}=Fc(t),{densityClasses:l}=ls(t),{roundedClasses:u}=qn(t),{sizeClasses:d,sizeStyles:c}=$h(t);return xe(()=>m(t.tag,{class:["v-avatar",{"v-avatar--start":t.start,"v-avatar--end":t.end},i.value,s.value,r.value,l.value,u.value,d.value,o.value,t.class],style:[a.value,c.value,t.style]},{default:()=>[n.default?m(ht,{key:"content-defaults",defaults:{VImg:{cover:!0,src:t.image},VIcon:{icon:t.icon}}},{default:()=>[n.default()]}):t.image?m(Vo,{key:"image",src:t.image,alt:"",cover:!0},null):t.icon?m(jt,{key:"icon",icon:t.icon},null):t.text,ru(!1,"v-avatar")]})),{}}}),Pde=te({text:String,onClick:Ri(),...je(),...Ft()},"VLabel"),Wh=pe()({name:"VLabel",props:Pde(),setup(t,e){let{slots:n}=e;return xe(()=>{var i;return m("label",{class:["v-label",{"v-label--clickable":!!t.onClick},t.class],style:t.style,onClick:t.onClick},[t.text,(i=n.default)==null?void 0:i.call(n)])}),{}}}),X4=Symbol.for("vuetify:selection-control-group"),iC=te({color:String,disabled:{type:Boolean,default:null},defaultsTarget:String,error:Boolean,id:String,inline:Boolean,falseIcon:qe,trueIcon:qe,ripple:{type:[Boolean,Object],default:!0},multiple:{type:Boolean,default:null},name:String,readonly:{type:Boolean,default:null},modelValue:null,type:String,valueComparator:{type:Function,default:Ka},...je(),...Ci(),...Ft()},"SelectionControlGroup"),Cde=te({...iC({defaultsTarget:"VSelectionControl"})},"VSelectionControlGroup"),K4=pe()({name:"VSelectionControlGroup",props:Cde(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const i=Ye(t,"modelValue"),s=zi(),r=R(()=>t.id||`v-selection-control-group-${s}`),a=R(()=>t.name||r.value),o=new Set;return Jt(X4,{modelValue:i,forceUpdate:()=>{o.forEach(l=>l())},onForceUpdate:l=>{o.add(l),as(()=>{o.delete(l)})}}),Dn({[t.defaultsTarget]:{color:ve(t,"color"),disabled:ve(t,"disabled"),density:ve(t,"density"),error:ve(t,"error"),inline:ve(t,"inline"),modelValue:i,multiple:R(()=>!!t.multiple||t.multiple==null&&Array.isArray(i.value)),name:a,falseIcon:ve(t,"falseIcon"),trueIcon:ve(t,"trueIcon"),readonly:ve(t,"readonly"),ripple:ve(t,"ripple"),type:ve(t,"type"),valueComparator:ve(t,"valueComparator")}}),xe(()=>{var l;return m("div",{class:["v-selection-control-group",{"v-selection-control-group--inline":t.inline},t.class],style:t.style,role:t.type==="radio"?"radiogroup":void 0},[(l=n.default)==null?void 0:l.call(n)])}),{}}}),m0=te({label:String,baseColor:String,trueValue:null,falseValue:null,value:null,...je(),...iC()},"VSelectionControl");function Ede(t){const e=vt(X4,void 0),{densityClasses:n}=ls(t),i=Ye(t,"modelValue"),s=R(()=>t.trueValue!==void 0?t.trueValue:t.value!==void 0?t.value:!0),r=R(()=>t.falseValue!==void 0?t.falseValue:!1),a=R(()=>!!t.multiple||t.multiple==null&&Array.isArray(i.value)),o=R({get(){const h=e?e.modelValue.value:i.value;return a.value?bn(h).some(g=>t.valueComparator(g,s.value)):t.valueComparator(h,s.value)},set(h){if(t.readonly)return;const g=h?s.value:r.value;let v=g;a.value&&(v=h?[...bn(i.value),g]:bn(i.value).filter(p=>!t.valueComparator(p,s.value))),e?e.modelValue.value=v:i.value=v}}),{textColorClasses:l,textColorStyles:u}=Ui(R(()=>{if(!(t.error||t.disabled))return o.value?t.color:t.baseColor})),{backgroundColorClasses:d,backgroundColorStyles:c}=an(R(()=>o.value&&!t.error&&!t.disabled?t.color:t.baseColor)),f=R(()=>o.value?t.trueIcon:t.falseIcon);return{group:e,densityClasses:n,trueValue:s,falseValue:r,model:o,textColorClasses:l,textColorStyles:u,backgroundColorClasses:d,backgroundColorStyles:c,icon:f}}const Ul=pe()({name:"VSelectionControl",directives:{Ripple:Go},inheritAttrs:!1,props:m0(),emits:{"update:modelValue":t=>!0},setup(t,e){let{attrs:n,slots:i}=e;const{group:s,densityClasses:r,icon:a,model:o,textColorClasses:l,textColorStyles:u,backgroundColorClasses:d,backgroundColorStyles:c,trueValue:f}=Ede(t),h=zi(),g=Me(!1),v=Me(!1),p=Y(),_=R(()=>t.id||`input-${h}`),b=R(()=>!t.disabled&&!t.readonly);s==null||s.onForceUpdate(()=>{p.value&&(p.value.checked=o.value)});function x(T){b.value&&(g.value=!0,ah(T.target,":focus-visible")!==!1&&(v.value=!0))}function k(){g.value=!1,v.value=!1}function I(T){T.stopPropagation()}function E(T){if(!b.value){p.value&&(p.value.checked=o.value);return}t.readonly&&s&&pt(()=>s.forceUpdate()),o.value=T.target.checked}return xe(()=>{var C,D;const T=i.label?i.label({label:t.label,props:{for:_.value}}):t.label,[S,w]=zo(n),P=m("input",J({ref:p,checked:o.value,disabled:!!t.disabled,id:_.value,onBlur:k,onFocus:x,onInput:E,"aria-disabled":!!t.disabled,"aria-label":t.label,type:t.type,value:f.value,name:t.name,"aria-checked":t.type==="checkbox"?o.value:void 0},w),null);return m("div",J({class:["v-selection-control",{"v-selection-control--dirty":o.value,"v-selection-control--disabled":t.disabled,"v-selection-control--error":t.error,"v-selection-control--focused":g.value,"v-selection-control--focus-visible":v.value,"v-selection-control--inline":t.inline},r.value,t.class]},S,{style:t.style}),[m("div",{class:["v-selection-control__wrapper",l.value],style:u.value},[(C=i.default)==null?void 0:C.call(i,{backgroundColorClasses:d,backgroundColorStyles:c}),In(m("div",{class:["v-selection-control__input"]},[((D=i.input)==null?void 0:D.call(i,{model:o,textColorClasses:l,textColorStyles:u,backgroundColorClasses:d,backgroundColorStyles:c,inputNode:P,icon:a.value,props:{onFocus:x,onBlur:k,id:_.value}}))??m(Ie,null,[a.value&&m(jt,{key:"icon",icon:a.value},null),P])]),[[nr("ripple"),t.ripple&&[!t.disabled&&!t.readonly,null,["center","circle"]]]])]),T&&m(Wh,{for:_.value,onClick:I},{default:()=>[T]})])}),{isFocused:g,input:p}}}),Q4=te({indeterminate:Boolean,indeterminateIcon:{type:qe,default:"$checkboxIndeterminate"},...m0({falseIcon:"$checkboxOff",trueIcon:"$checkboxOn"})},"VCheckboxBtn"),Wa=pe()({name:"VCheckboxBtn",props:Q4(),emits:{"update:modelValue":t=>!0,"update:indeterminate":t=>!0},setup(t,e){let{slots:n}=e;const i=Ye(t,"indeterminate"),s=Ye(t,"modelValue");function r(l){i.value&&(i.value=!1)}const a=R(()=>i.value?t.indeterminateIcon:t.falseIcon),o=R(()=>i.value?t.indeterminateIcon:t.trueIcon);return xe(()=>{const l=tn(Ul.filterProps(t),["modelValue"]);return m(Ul,J(l,{modelValue:s.value,"onUpdate:modelValue":[u=>s.value=u,r],class:["v-checkbox-btn",t.class],style:t.style,type:"checkbox",falseIcon:a.value,trueIcon:o.value,"aria-checked":i.value?"mixed":void 0}),n)}),{}}});function J4(t){const{t:e}=gn();function n(i){let{name:s}=i;const r={prepend:"prependAction",prependInner:"prependAction",append:"appendAction",appendInner:"appendAction",clear:"clear"}[s],a=t[`onClick:${s}`],o=a&&r?e(`$vuetify.input.${r}`,t.label??""):void 0;return m(jt,{icon:t[`${s}Icon`],"aria-label":o,onClick:a},null)}return{InputIcon:n}}const Ide=te({active:Boolean,color:String,messages:{type:[Array,String],default:()=>[]},...je(),...ya({transition:{component:ZP,leaveAbsolute:!0,group:!0}})},"VMessages"),Z4=pe()({name:"VMessages",props:Ide(),setup(t,e){let{slots:n}=e;const i=R(()=>bn(t.messages)),{textColorClasses:s,textColorStyles:r}=Ui(R(()=>t.color));return xe(()=>m(Ts,{transition:t.transition,tag:"div",class:["v-messages",s.value,t.class],style:[r.value,t.style],role:"alert","aria-live":"polite"},{default:()=>[t.active&&i.value.map((a,o)=>m("div",{class:"v-messages__message",key:`${o}-${i.value}`},[n.message?n.message({message:a}):a]))]})),{}}}),Yh=te({focused:Boolean,"onUpdate:focused":Ri()},"focus");function eo(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Qa();const n=Ye(t,"focused"),i=R(()=>({[`${e}--focused`]:n.value}));function s(){n.value=!0}function r(){n.value=!1}return{focusClasses:i,isFocused:n,focus:s,blur:r}}const e5=Symbol.for("vuetify:form"),Dde=te({disabled:Boolean,fastFail:Boolean,readonly:Boolean,modelValue:{type:Boolean,default:null},validateOn:{type:String,default:"input"}},"form");function Ade(t){const e=Ye(t,"modelValue"),n=R(()=>t.disabled),i=R(()=>t.readonly),s=Me(!1),r=Y([]),a=Y([]);async function o(){const d=[];let c=!0;a.value=[],s.value=!0;for(const f of r.value){const h=await f.validate();if(h.length>0&&(c=!1,d.push({id:f.id,errorMessages:h})),!c&&t.fastFail)break}return a.value=d,s.value=!1,{valid:c,errors:a.value}}function l(){r.value.forEach(d=>d.reset())}function u(){r.value.forEach(d=>d.resetValidation())}return we(r,()=>{let d=0,c=0;const f=[];for(const h of r.value)h.isValid===!1?(c++,f.push({id:h.id,errorMessages:h.errorMessages})):h.isValid===!0&&d++;a.value=f,e.value=c>0?!1:d===r.value.length?!0:null},{deep:!0,flush:"post"}),Jt(e5,{register:d=>{let{id:c,vm:f,validate:h,reset:g,resetValidation:v}=d;r.value.some(p=>p.id===c),r.value.push({id:c,validate:h,reset:g,resetValidation:v,vm:Lk(f),isValid:null,errorMessages:[]})},unregister:d=>{r.value=r.value.filter(c=>c.id!==d)},update:(d,c,f)=>{const h=r.value.find(g=>g.id===d);h&&(h.isValid=c,h.errorMessages=f)},isDisabled:n,isReadonly:i,isValidating:s,isValid:e,items:r,validateOn:ve(t,"validateOn")}),{errors:a,isDisabled:n,isReadonly:i,isValidating:s,isValid:e,items:r,validate:o,reset:l,resetValidation:u}}function eg(t){const e=vt(e5,null);return{...e,isReadonly:R(()=>!!((t==null?void 0:t.readonly)??(e==null?void 0:e.isReadonly.value))),isDisabled:R(()=>!!((t==null?void 0:t.disabled)??(e==null?void 0:e.isDisabled.value)))}}const t5=te({disabled:{type:Boolean,default:null},error:Boolean,errorMessages:{type:[Array,String],default:()=>[]},maxErrors:{type:[Number,String],default:1},name:String,label:String,readonly:{type:Boolean,default:null},rules:{type:Array,default:()=>[]},modelValue:null,validateOn:String,validationValue:null,...Yh()},"validation");function n5(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Qa(),n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:zi();const i=Ye(t,"modelValue"),s=R(()=>t.validationValue===void 0?i.value:t.validationValue),r=eg(t),a=Y([]),o=Me(!0),l=R(()=>!!(bn(i.value===""?null:i.value).length||bn(s.value===""?null:s.value).length)),u=R(()=>{var x;return(x=t.errorMessages)!=null&&x.length?bn(t.errorMessages).concat(a.value).slice(0,Math.max(0,+t.maxErrors)):a.value}),d=R(()=>{var I;let x=(t.validateOn??((I=r.validateOn)==null?void 0:I.value))||"input";x==="lazy"&&(x="input lazy"),x==="eager"&&(x="input eager");const k=new Set((x==null?void 0:x.split(" "))??[]);return{input:k.has("input"),blur:k.has("blur")||k.has("input")||k.has("invalid-input"),invalidInput:k.has("invalid-input"),lazy:k.has("lazy"),eager:k.has("eager")}}),c=R(()=>{var x;return t.error||(x=t.errorMessages)!=null&&x.length?!1:t.rules.length?o.value?a.value.length||d.value.lazy?null:!0:!a.value.length:!0}),f=Me(!1),h=R(()=>({[`${e}--error`]:c.value===!1,[`${e}--dirty`]:l.value,[`${e}--disabled`]:r.isDisabled.value,[`${e}--readonly`]:r.isReadonly.value})),g=Gn("validation"),v=R(()=>t.name??ie(n));Th(()=>{var x;(x=r.register)==null||x.call(r,{id:v.value,vm:g,validate:b,reset:p,resetValidation:_})}),Mi(()=>{var x;(x=r.unregister)==null||x.call(r,v.value)}),Pt(async()=>{var x;d.value.lazy||await b(!d.value.eager),(x=r.update)==null||x.call(r,v.value,c.value,u.value)}),Ns(()=>d.value.input||d.value.invalidInput&&c.value===!1,()=>{we(s,()=>{if(s.value!=null)b();else if(t.focused){const x=we(()=>t.focused,k=>{k||b(),x()})}})}),Ns(()=>d.value.blur,()=>{we(()=>t.focused,x=>{x||b()})}),we([c,u],()=>{var x;(x=r.update)==null||x.call(r,v.value,c.value,u.value)});async function p(){i.value=null,await pt(),await _()}async function _(){o.value=!0,d.value.lazy?a.value=[]:await b(!d.value.eager)}async function b(){let x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const k=[];f.value=!0;for(const I of t.rules){if(k.length>=+(t.maxErrors??1))break;const T=await(typeof I=="function"?I:()=>I)(s.value);if(T!==!0){if(T!==!1&&typeof T!="string"){console.warn(`${T} is not a valid value. Rule functions must return boolean true or a string.`);continue}k.push(T||"")}}return a.value=k,f.value=!1,o.value=x,a.value}return{errorMessages:u,isDirty:l,isDisabled:r.isDisabled,isReadonly:r.isReadonly,isPristine:o,isValid:c,isValidating:f,reset:p,resetValidation:_,validate:b,validationClasses:h}}const qo=te({id:String,appendIcon:qe,centerAffix:{type:Boolean,default:!0},prependIcon:qe,hideDetails:[Boolean,String],hideSpinButtons:Boolean,hint:String,persistentHint:Boolean,messages:{type:[Array,String],default:()=>[]},direction:{type:String,default:"horizontal",validator:t=>["horizontal","vertical"].includes(t)},"onClick:prepend":Ri(),"onClick:append":Ri(),...je(),...Ci(),...Yv(mi(),["maxWidth","minWidth","width"]),...Ft(),...t5()},"VInput"),rs=pe()({name:"VInput",props:{...qo()},emits:{"update:modelValue":t=>!0},setup(t,e){let{attrs:n,slots:i,emit:s}=e;const{densityClasses:r}=ls(t),{dimensionStyles:a}=vi(t),{themeClasses:o}=Qt(t),{rtlClasses:l}=Ti(),{InputIcon:u}=J4(t),d=zi(),c=R(()=>t.id||`input-${d}`),f=R(()=>`${c.value}-messages`),{errorMessages:h,isDirty:g,isDisabled:v,isReadonly:p,isPristine:_,isValid:b,isValidating:x,reset:k,resetValidation:I,validate:E,validationClasses:T}=n5(t,"v-input",c),S=R(()=>({id:c,messagesId:f,isDirty:g,isDisabled:v,isReadonly:p,isPristine:_,isValid:b,isValidating:x,reset:k,resetValidation:I,validate:E})),w=R(()=>{var P;return(P=t.errorMessages)!=null&&P.length||!_.value&&h.value.length?h.value:t.hint&&(t.persistentHint||t.focused)?t.hint:t.messages});return xe(()=>{var N,B,H,G;const P=!!(i.prepend||t.prependIcon),C=!!(i.append||t.appendIcon),D=w.value.length>0,A=!t.hideDetails||t.hideDetails==="auto"&&(D||!!i.details);return m("div",{class:["v-input",`v-input--${t.direction}`,{"v-input--center-affix":t.centerAffix,"v-input--hide-spin-buttons":t.hideSpinButtons},r.value,o.value,l.value,T.value,t.class],style:[a.value,t.style]},[P&&m("div",{key:"prepend",class:"v-input__prepend"},[(N=i.prepend)==null?void 0:N.call(i,S.value),t.prependIcon&&m(u,{key:"prepend-icon",name:"prepend"},null)]),i.default&&m("div",{class:"v-input__control"},[(B=i.default)==null?void 0:B.call(i,S.value)]),C&&m("div",{key:"append",class:"v-input__append"},[t.appendIcon&&m(u,{key:"append-icon",name:"append"},null),(H=i.append)==null?void 0:H.call(i,S.value)]),A&&m("div",{class:"v-input__details"},[m(Z4,{id:f.value,active:D,messages:w.value},{message:i.message}),(G=i.details)==null?void 0:G.call(i,S.value)])])}),{reset:k,resetValidation:I,validate:E,isValid:b,errorMessages:h}}}),Ode=te({...qo(),...tn(Q4(),["inline"])},"VCheckbox"),Rde=pe()({name:"VCheckbox",inheritAttrs:!1,props:Ode(),emits:{"update:modelValue":t=>!0,"update:focused":t=>!0},setup(t,e){let{attrs:n,slots:i}=e;const s=Ye(t,"modelValue"),{isFocused:r,focus:a,blur:o}=eo(t),l=zi(),u=R(()=>t.id||`checkbox-${l}`);return xe(()=>{const[d,c]=zo(n),f=rs.filterProps(t),h=Wa.filterProps(t);return m(rs,J({class:["v-checkbox",t.class]},d,f,{modelValue:s.value,"onUpdate:modelValue":g=>s.value=g,id:u.value,focused:r.value,style:t.style}),{...i,default:g=>{let{id:v,messagesId:p,isDisabled:_,isReadonly:b,isValid:x}=g;return m(Wa,J(h,{id:v.value,"aria-describedby":p.value,disabled:_.value,readonly:b.value},c,{error:x.value===!1,modelValue:s.value,"onUpdate:modelValue":k=>s.value=k,onFocus:a,onBlur:o}),i)}})}),{}}});function Mde(t){let{selectedElement:e,containerElement:n,isRtl:i,isHorizontal:s}=t;const r=Qm(s,n),a=i5(s,i,n),o=Qm(s,e),l=s5(s,e),u=o*.4;return a>l?l-u:a+r<l+o?l-r+o+u:a}function Vde(t){let{selectedElement:e,containerElement:n,isHorizontal:i}=t;const s=Qm(i,n),r=s5(i,e),a=Qm(i,e);return r-s/2+a/2}function LR(t,e){const n=t?"scrollWidth":"scrollHeight";return(e==null?void 0:e[n])||0}function Lde(t,e){const n=t?"clientWidth":"clientHeight";return(e==null?void 0:e[n])||0}function i5(t,e,n){if(!n)return 0;const{scrollLeft:i,offsetWidth:s,scrollWidth:r}=n;return t?e?r-s+i:i:n.scrollTop}function Qm(t,e){const n=t?"offsetWidth":"offsetHeight";return(e==null?void 0:e[n])||0}function s5(t,e){const n=t?"offsetLeft":"offsetTop";return(e==null?void 0:e[n])||0}const r5=Symbol.for("vuetify:v-slide-group"),sC=te({centerActive:Boolean,direction:{type:String,default:"horizontal"},symbol:{type:null,default:r5},nextIcon:{type:qe,default:"$next"},prevIcon:{type:qe,default:"$prev"},showArrows:{type:[Boolean,String],validator:t=>typeof t=="boolean"||["always","desktop","mobile"].includes(t)},...je(),...Mc({mobile:null}),...yt(),...Bc({selectedClass:"v-slide-group-item--active"})},"VSlideGroup"),Jm=pe()({name:"VSlideGroup",props:sC(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const{isRtl:i}=Ti(),{displayClasses:s,mobile:r}=Sr(t),a=au(t,t.symbol),o=Me(!1),l=Me(0),u=Me(0),d=Me(0),c=R(()=>t.direction==="horizontal"),{resizeRef:f,contentRect:h}=ha(),{resizeRef:g,contentRect:v}=ha(),p=qie(),_=R(()=>({container:f.el,duration:200,easing:"easeOutQuart"})),b=R(()=>a.selected.value.length?a.items.value.findIndex(W=>W.id===a.selected.value[0]):-1),x=R(()=>a.selected.value.length?a.items.value.findIndex(W=>W.id===a.selected.value[a.selected.value.length-1]):-1);if(Gt){let W=-1;we(()=>[a.selected.value,h.value,v.value,c.value],()=>{cancelAnimationFrame(W),W=requestAnimationFrame(()=>{if(h.value&&v.value){const Z=c.value?"width":"height";u.value=h.value[Z],d.value=v.value[Z],o.value=u.value+1<d.value}if(b.value>=0&&g.el){const Z=g.el.children[x.value];I(Z,t.centerActive)}})})}const k=Me(!1);function I(W,Z){let ee=0;Z?ee=Vde({containerElement:f.el,isHorizontal:c.value,selectedElement:W}):ee=Mde({containerElement:f.el,isHorizontal:c.value,isRtl:i.value,selectedElement:W}),E(ee)}function E(W){if(!Gt||!f.el)return;const Z=Qm(c.value,f.el),ee=i5(c.value,i.value,f.el);if(!(LR(c.value,f.el)<=Z||Math.abs(W-ee)<16)){if(c.value&&i.value&&f.el){const{scrollWidth:ue,offsetWidth:ce}=f.el;W=ue-ce-W}c.value?p.horizontal(W,_.value):p(W,_.value)}}function T(W){const{scrollTop:Z,scrollLeft:ee}=W.target;l.value=c.value?ee:Z}function S(W){if(k.value=!0,!(!o.value||!g.el)){for(const Z of W.composedPath())for(const ee of g.el.children)if(ee===Z){I(ee);return}}}function w(W){k.value=!1}let P=!1;function C(W){var Z;!P&&!k.value&&!(W.relatedTarget&&((Z=g.el)!=null&&Z.contains(W.relatedTarget)))&&N(),P=!1}function D(){P=!0}function A(W){if(!g.el)return;function Z(ee){W.preventDefault(),N(ee)}c.value?W.key==="ArrowRight"?Z(i.value?"prev":"next"):W.key==="ArrowLeft"&&Z(i.value?"next":"prev"):W.key==="ArrowDown"?Z("next"):W.key==="ArrowUp"&&Z("prev"),W.key==="Home"?Z("first"):W.key==="End"&&Z("last")}function N(W){var ee,le;if(!g.el)return;let Z;if(!W)Z=Nm(g.el)[0];else if(W==="next"){if(Z=(ee=g.el.querySelector(":focus"))==null?void 0:ee.nextElementSibling,!Z)return N("first")}else if(W==="prev"){if(Z=(le=g.el.querySelector(":focus"))==null?void 0:le.previousElementSibling,!Z)return N("last")}else W==="first"?Z=g.el.firstElementChild:W==="last"&&(Z=g.el.lastElementChild);Z&&Z.focus({preventScroll:!0})}function B(W){const Z=c.value&&i.value?-1:1,ee=(W==="prev"?-Z:Z)*u.value;let le=l.value+ee;if(c.value&&i.value&&f.el){const{scrollWidth:ue,offsetWidth:ce}=f.el;le+=ue-ce}E(le)}const H=R(()=>({next:a.next,prev:a.prev,select:a.select,isSelected:a.isSelected})),G=R(()=>{switch(t.showArrows){case"always":return!0;case"desktop":return!r.value;case!0:return o.value||Math.abs(l.value)>0;case"mobile":return r.value||o.value||Math.abs(l.value)>0;default:return!r.value&&(o.value||Math.abs(l.value)>0)}}),z=R(()=>Math.abs(l.value)>1),X=R(()=>{if(!f.value)return!1;const W=LR(c.value,f.el),Z=Lde(c.value,f.el);return W-Z-Math.abs(l.value)>1});return xe(()=>m(t.tag,{class:["v-slide-group",{"v-slide-group--vertical":!c.value,"v-slide-group--has-affixes":G.value,"v-slide-group--is-overflowing":o.value},s.value,t.class],style:t.style,tabindex:k.value||a.selected.value.length?-1:0,onFocus:C},{default:()=>{var W,Z,ee;return[G.value&&m("div",{key:"prev",class:["v-slide-group__prev",{"v-slide-group__prev--disabled":!z.value}],onMousedown:D,onClick:()=>z.value&&B("prev")},[((W=n.prev)==null?void 0:W.call(n,H.value))??m(qm,null,{default:()=>[m(jt,{icon:i.value?t.nextIcon:t.prevIcon},null)]})]),m("div",{key:"container",ref:f,class:"v-slide-group__container",onScroll:T},[m("div",{ref:g,class:"v-slide-group__content",onFocusin:S,onFocusout:w,onKeydown:A},[(Z=n.default)==null?void 0:Z.call(n,H.value)])]),G.value&&m("div",{key:"next",class:["v-slide-group__next",{"v-slide-group__next--disabled":!X.value}],onMousedown:D,onClick:()=>X.value&&B("next")},[((ee=n.next)==null?void 0:ee.call(n,H.value))??m(qm,null,{default:()=>[m(jt,{icon:i.value?t.prevIcon:t.nextIcon},null)]})])]}})),{selected:a.selected,scrollTo:B,scrollOffset:l,focus:N,hasPrev:z,hasNext:X}}}),a5=Symbol.for("vuetify:v-chip-group"),Nde=te({column:Boolean,filter:Boolean,valueComparator:{type:Function,default:Ka},...sC(),...je(),...Bc({selectedClass:"v-chip--selected"}),...yt(),...Ft(),...Br({variant:"tonal"})},"VChipGroup"),Fde=pe()({name:"VChipGroup",props:Nde(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const{themeClasses:i}=Qt(t),{isSelected:s,select:r,next:a,prev:o,selected:l}=au(t,a5);return Dn({VChip:{color:ve(t,"color"),disabled:ve(t,"disabled"),filter:ve(t,"filter"),variant:ve(t,"variant")}}),xe(()=>{const u=Jm.filterProps(t);return m(Jm,J(u,{class:["v-chip-group",{"v-chip-group--column":t.column},i.value,t.class],style:t.style}),{default:()=>{var d;return[(d=n.default)==null?void 0:d.call(n,{isSelected:s,select:r,next:a,prev:o,selected:l.value})]}})}),{}}}),Bde=te({activeClass:String,appendAvatar:String,appendIcon:qe,closable:Boolean,closeIcon:{type:qe,default:"$delete"},closeLabel:{type:String,default:"$vuetify.close"},draggable:Boolean,filter:Boolean,filterIcon:{type:qe,default:"$complete"},label:Boolean,link:{type:Boolean,default:void 0},pill:Boolean,prependAvatar:String,prependIcon:qe,ripple:{type:[Boolean,Object],default:!0},text:String,modelValue:{type:Boolean,default:!0},onClick:Ri(),onClickOnce:Ri(),...ir(),...je(),...Ci(),...Pi(),...jc(),...On(),...Zv(),...Za(),...yt({tag:"span"}),...Ft(),...Br({variant:"tonal"})},"VChip"),Hc=pe()({name:"VChip",directives:{Ripple:Go},props:Bde(),emits:{"click:close":t=>!0,"update:modelValue":t=>!0,"group:selected":t=>!0,click:t=>!0},setup(t,e){let{attrs:n,emit:i,slots:s}=e;const{t:r}=gn(),{borderClasses:a}=Tr(t),{colorClasses:o,colorStyles:l,variantClasses:u}=Fc(t),{densityClasses:d}=ls(t),{elevationClasses:c}=Wi(t),{roundedClasses:f}=qn(t),{sizeClasses:h}=$h(t),{themeClasses:g}=Qt(t),v=Ye(t,"modelValue"),p=$c(t,a5,!1),_=zh(t,n),b=R(()=>t.link!==!1&&_.isLink.value),x=R(()=>!t.disabled&&t.link!==!1&&(!!p||t.link||_.isClickable.value)),k=R(()=>({"aria-label":r(t.closeLabel),onClick(T){T.preventDefault(),T.stopPropagation(),v.value=!1,i("click:close",T)}}));function I(T){var S;i("click",T),x.value&&((S=_.navigate)==null||S.call(_,T),p==null||p.toggle())}function E(T){(T.key==="Enter"||T.key===" ")&&(T.preventDefault(),I(T))}return()=>{var B;const T=_.isLink.value?"a":t.tag,S=!!(t.appendIcon||t.appendAvatar),w=!!(S||s.append),P=!!(s.close||t.closable),C=!!(s.filter||t.filter)&&p,D=!!(t.prependIcon||t.prependAvatar),A=!!(D||s.prepend),N=!p||p.isSelected.value;return v.value&&In(m(T,J({class:["v-chip",{"v-chip--disabled":t.disabled,"v-chip--label":t.label,"v-chip--link":x.value,"v-chip--filter":C,"v-chip--pill":t.pill,[`${t.activeClass}`]:t.activeClass&&((B=_.isActive)==null?void 0:B.value)},g.value,a.value,N?o.value:void 0,d.value,c.value,f.value,h.value,u.value,p==null?void 0:p.selectedClass.value,t.class],style:[N?l.value:void 0,t.style],disabled:t.disabled||void 0,draggable:t.draggable,tabindex:x.value?0:void 0,onClick:I,onKeydown:x.value&&!b.value&&E},_.linkProps),{default:()=>{var H;return[ru(x.value,"v-chip"),C&&m(eC,{key:"filter"},{default:()=>[In(m("div",{class:"v-chip__filter"},[s.filter?m(ht,{key:"filter-defaults",disabled:!t.filterIcon,defaults:{VIcon:{icon:t.filterIcon}}},s.filter):m(jt,{key:"filter-icon",icon:t.filterIcon},null)]),[[_a,p.isSelected.value]])]}),A&&m("div",{key:"prepend",class:"v-chip__prepend"},[s.prepend?m(ht,{key:"prepend-defaults",disabled:!D,defaults:{VAvatar:{image:t.prependAvatar,start:!0},VIcon:{icon:t.prependIcon,start:!0}}},s.prepend):m(Ie,null,[t.prependIcon&&m(jt,{key:"prepend-icon",icon:t.prependIcon,start:!0},null),t.prependAvatar&&m($s,{key:"prepend-avatar",image:t.prependAvatar,start:!0},null)])]),m("div",{class:"v-chip__content","data-no-activator":""},[((H=s.default)==null?void 0:H.call(s,{isSelected:p==null?void 0:p.isSelected.value,selectedClass:p==null?void 0:p.selectedClass.value,select:p==null?void 0:p.select,toggle:p==null?void 0:p.toggle,value:p==null?void 0:p.value.value,disabled:t.disabled}))??t.text]),w&&m("div",{key:"append",class:"v-chip__append"},[s.append?m(ht,{key:"append-defaults",disabled:!S,defaults:{VAvatar:{end:!0,image:t.appendAvatar},VIcon:{end:!0,icon:t.appendIcon}}},s.append):m(Ie,null,[t.appendIcon&&m(jt,{key:"append-icon",end:!0,icon:t.appendIcon},null),t.appendAvatar&&m($s,{key:"append-avatar",end:!0,image:t.appendAvatar},null)])]),P&&m("button",J({key:"close",class:"v-chip__close",type:"button","data-testid":"close-chip"},k.value),[s.close?m(ht,{key:"close-defaults",defaults:{VIcon:{icon:t.closeIcon,size:"x-small"}}},s.close):m(jt,{key:"close-icon",icon:t.closeIcon,size:"x-small"},null)])]}}),[[nr("ripple"),x.value&&t.ripple,null]])}}}),vS=Symbol.for("vuetify:list");function o5(){const t=vt(vS,{hasPrepend:Me(!1),updateHasPrepend:()=>null}),e={hasPrepend:Me(!1),updateHasPrepend:n=>{n&&(e.hasPrepend.value=n)}};return Jt(vS,e),t}function l5(){return vt(vS,null)}const rC=t=>{const e={activate:n=>{let{id:i,value:s,activated:r}=n;return i=Qe(i),t&&!s&&r.size===1&&r.has(i)||(s?r.add(i):r.delete(i)),r},in:(n,i,s)=>{let r=new Set;if(n!=null)for(const a of bn(n))r=e.activate({id:a,value:!0,activated:new Set(r),children:i,parents:s});return r},out:n=>Array.from(n)};return e},u5=t=>{const e=rC(t);return{activate:i=>{let{activated:s,id:r,...a}=i;r=Qe(r);const o=s.has(r)?new Set([r]):new Set;return e.activate({...a,id:r,activated:o})},in:(i,s,r)=>{let a=new Set;if(i!=null){const o=bn(i);o.length&&(a=e.in(o.slice(0,1),s,r))}return a},out:(i,s,r)=>e.out(i,s,r)}},jde=t=>{const e=rC(t);return{activate:i=>{let{id:s,activated:r,children:a,...o}=i;return s=Qe(s),a.has(s)?r:e.activate({id:s,activated:r,children:a,...o})},in:e.in,out:e.out}},$de=t=>{const e=u5(t);return{activate:i=>{let{id:s,activated:r,children:a,...o}=i;return s=Qe(s),a.has(s)?r:e.activate({id:s,activated:r,children:a,...o})},in:e.in,out:e.out}},Ude={open:t=>{let{id:e,value:n,opened:i,parents:s}=t;if(n){const r=new Set;r.add(e);let a=s.get(e);for(;a!=null;)r.add(a),a=s.get(a);return r}else return i.delete(e),i},select:()=>null},c5={open:t=>{let{id:e,value:n,opened:i,parents:s}=t;if(n){let r=s.get(e);for(i.add(e);r!=null&&r!==e;)i.add(r),r=s.get(r);return i}else i.delete(e);return i},select:()=>null},Hde={open:c5.open,select:t=>{let{id:e,value:n,opened:i,parents:s}=t;if(!n)return i;const r=[];let a=s.get(e);for(;a!=null;)r.push(a),a=s.get(a);return new Set(r)}},aC=t=>{const e={select:n=>{let{id:i,value:s,selected:r}=n;if(i=Qe(i),t&&!s){const a=Array.from(r.entries()).reduce((o,l)=>{let[u,d]=l;return d==="on"&&o.push(u),o},[]);if(a.length===1&&a[0]===i)return r}return r.set(i,s?"on":"off"),r},in:(n,i,s)=>{let r=new Map;for(const a of n||[])r=e.select({id:a,value:!0,selected:new Map(r),children:i,parents:s});return r},out:n=>{const i=[];for(const[s,r]of n.entries())r==="on"&&i.push(s);return i}};return e},d5=t=>{const e=aC(t);return{select:i=>{let{selected:s,id:r,...a}=i;r=Qe(r);const o=s.has(r)?new Map([[r,s.get(r)]]):new Map;return e.select({...a,id:r,selected:o})},in:(i,s,r)=>{let a=new Map;return i!=null&&i.length&&(a=e.in(i.slice(0,1),s,r)),a},out:(i,s,r)=>e.out(i,s,r)}},zde=t=>{const e=aC(t);return{select:i=>{let{id:s,selected:r,children:a,...o}=i;return s=Qe(s),a.has(s)?r:e.select({id:s,selected:r,children:a,...o})},in:e.in,out:e.out}},Wde=t=>{const e=d5(t);return{select:i=>{let{id:s,selected:r,children:a,...o}=i;return s=Qe(s),a.has(s)?r:e.select({id:s,selected:r,children:a,...o})},in:e.in,out:e.out}},Yde=t=>{const e={select:n=>{let{id:i,value:s,selected:r,children:a,parents:o}=n;i=Qe(i);const l=new Map(r),u=[i];for(;u.length;){const c=u.shift();r.set(Qe(c),s?"on":"off"),a.has(c)&&u.push(...a.get(c))}let d=Qe(o.get(i));for(;d;){const c=a.get(d),f=c.every(g=>r.get(Qe(g))==="on"),h=c.every(g=>!r.has(Qe(g))||r.get(Qe(g))==="off");r.set(d,f?"on":h?"off":"indeterminate"),d=Qe(o.get(d))}return t&&!s&&Array.from(r.entries()).reduce((f,h)=>{let[g,v]=h;return v==="on"&&f.push(g),f},[]).length===0?l:r},in:(n,i,s)=>{let r=new Map;for(const a of n||[])r=e.select({id:a,value:!0,selected:new Map(r),children:i,parents:s});return r},out:(n,i)=>{const s=[];for(const[r,a]of n.entries())a==="on"&&!i.has(r)&&s.push(r);return s}};return e},Zm=Symbol.for("vuetify:nested"),h5={id:Me(),root:{register:()=>null,unregister:()=>null,parents:Y(new Map),children:Y(new Map),open:()=>null,openOnSelect:()=>null,activate:()=>null,select:()=>null,activatable:Y(!1),selectable:Y(!1),opened:Y(new Set),activated:Y(new Set),selected:Y(new Map),selectedValues:Y([]),getPath:()=>[]}},Gde=te({activatable:Boolean,selectable:Boolean,activeStrategy:[String,Function,Object],selectStrategy:[String,Function,Object],openStrategy:[String,Object],opened:null,activated:null,selected:null,mandatory:Boolean},"nested"),qde=t=>{let e=!1;const n=Y(new Map),i=Y(new Map),s=Ye(t,"opened",t.opened,g=>new Set(g),g=>[...g.values()]),r=R(()=>{if(typeof t.activeStrategy=="object")return t.activeStrategy;if(typeof t.activeStrategy=="function")return t.activeStrategy(t.mandatory);switch(t.activeStrategy){case"leaf":return jde(t.mandatory);case"single-leaf":return $de(t.mandatory);case"independent":return rC(t.mandatory);case"single-independent":default:return u5(t.mandatory)}}),a=R(()=>{if(typeof t.selectStrategy=="object")return t.selectStrategy;if(typeof t.selectStrategy=="function")return t.selectStrategy(t.mandatory);switch(t.selectStrategy){case"single-leaf":return Wde(t.mandatory);case"leaf":return zde(t.mandatory);case"independent":return aC(t.mandatory);case"single-independent":return d5(t.mandatory);case"classic":default:return Yde(t.mandatory)}}),o=R(()=>{if(typeof t.openStrategy=="object")return t.openStrategy;switch(t.openStrategy){case"list":return Hde;case"single":return Ude;case"multiple":default:return c5}}),l=Ye(t,"activated",t.activated,g=>r.value.in(g,n.value,i.value),g=>r.value.out(g,n.value,i.value)),u=Ye(t,"selected",t.selected,g=>a.value.in(g,n.value,i.value),g=>a.value.out(g,n.value,i.value));Mi(()=>{e=!0});function d(g){const v=[];let p=g;for(;p!=null;)v.unshift(p),p=i.value.get(p);return v}const c=Gn("nested"),f=new Set,h={id:Me(),root:{opened:s,activatable:ve(t,"activatable"),selectable:ve(t,"selectable"),activated:l,selected:u,selectedValues:R(()=>{const g=[];for(const[v,p]of u.value.entries())p==="on"&&g.push(v);return g}),register:(g,v,p)=>{if(f.has(g)){d(g).map(String).join(" -> "),d(v).concat(g).map(String).join(" -> ");return}else f.add(g);v&&g!==v&&i.value.set(g,v),p&&n.value.set(g,[]),v!=null&&n.value.set(v,[...n.value.get(v)||[],g])},unregister:g=>{if(e)return;f.delete(g),n.value.delete(g);const v=i.value.get(g);if(v){const p=n.value.get(v)??[];n.value.set(v,p.filter(_=>_!==g))}i.value.delete(g)},open:(g,v,p)=>{c.emit("click:open",{id:g,value:v,path:d(g),event:p});const _=o.value.open({id:g,value:v,opened:new Set(s.value),children:n.value,parents:i.value,event:p});_&&(s.value=_)},openOnSelect:(g,v,p)=>{const _=o.value.select({id:g,value:v,selected:new Map(u.value),opened:new Set(s.value),children:n.value,parents:i.value,event:p});_&&(s.value=_)},select:(g,v,p)=>{c.emit("click:select",{id:g,value:v,path:d(g),event:p});const _=a.value.select({id:g,value:v,selected:new Map(u.value),children:n.value,parents:i.value,event:p});_&&(u.value=_),h.root.openOnSelect(g,v,p)},activate:(g,v,p)=>{if(!t.activatable)return h.root.select(g,!0,p);c.emit("click:activate",{id:g,value:v,path:d(g),event:p});const _=r.value.activate({id:g,value:v,activated:new Set(l.value),children:n.value,parents:i.value,event:p});_&&(l.value=_)},children:n,parents:i,getPath:d}};return Jt(Zm,h),h.root},f5=(t,e)=>{const n=vt(Zm,h5),i=Symbol(zi()),s=R(()=>t.value!==void 0?t.value:i),r={...n,id:s,open:(a,o)=>n.root.open(s.value,a,o),openOnSelect:(a,o)=>n.root.openOnSelect(s.value,a,o),isOpen:R(()=>n.root.opened.value.has(s.value)),parent:R(()=>n.root.parents.value.get(s.value)),activate:(a,o)=>n.root.activate(s.value,a,o),isActivated:R(()=>n.root.activated.value.has(Qe(s.value))),select:(a,o)=>n.root.select(s.value,a,o),isSelected:R(()=>n.root.selected.value.get(Qe(s.value))==="on"),isIndeterminate:R(()=>n.root.selected.value.get(s.value)==="indeterminate"),isLeaf:R(()=>!n.root.children.value.get(s.value)),isGroupActivator:n.isGroupActivator};return Th(()=>{!n.isGroupActivator&&n.root.register(s.value,n.id.value,e)}),Mi(()=>{!n.isGroupActivator&&n.root.unregister(s.value)}),e&&Jt(Zm,r),r},Xde=()=>{const t=vt(Zm,h5);Jt(Zm,{...t,isGroupActivator:!0})},Kde=xr({name:"VListGroupActivator",setup(t,e){let{slots:n}=e;return Xde(),()=>{var i;return(i=n.default)==null?void 0:i.call(n)}}}),m5=te({activeColor:String,baseColor:String,color:String,collapseIcon:{type:qe,default:"$collapse"},expandIcon:{type:qe,default:"$expand"},prependIcon:qe,appendIcon:qe,fluid:Boolean,subgroup:Boolean,title:String,value:null,...je(),...yt()},"VListGroup"),ev=pe()({name:"VListGroup",props:m5(),setup(t,e){let{slots:n}=e;const{isOpen:i,open:s,id:r}=f5(ve(t,"value"),!0),a=R(()=>`v-list-group--id-${String(r.value)}`),o=l5(),{isBooted:l}=Nc();function u(h){h.stopPropagation(),s(!i.value,h)}const d=R(()=>({onClick:u,class:"v-list-group__header",id:a.value})),c=R(()=>i.value?t.collapseIcon:t.expandIcon),f=R(()=>({VListItem:{active:i.value,activeColor:t.activeColor,baseColor:t.baseColor,color:t.color,prependIcon:t.prependIcon||t.subgroup&&c.value,appendIcon:t.appendIcon||!t.subgroup&&c.value,title:t.title,value:t.value}}));return xe(()=>m(t.tag,{class:["v-list-group",{"v-list-group--prepend":o==null?void 0:o.hasPrepend.value,"v-list-group--fluid":t.fluid,"v-list-group--subgroup":t.subgroup,"v-list-group--open":i.value},t.class],style:t.style},{default:()=>[n.activator&&m(ht,{defaults:f.value},{default:()=>[m(Kde,null,{default:()=>[n.activator({props:d.value,isOpen:i.value})]})]}),m(Ts,{transition:{component:u0},disabled:!l.value},{default:()=>{var h;return[In(m("div",{class:"v-list-group__items",role:"group","aria-labelledby":a.value},[(h=n.default)==null?void 0:h.call(n)]),[[_a,i.value]])]}})]})),{isOpen:i}}}),Qde=te({opacity:[Number,String],...je(),...yt()},"VListItemSubtitle"),v5=pe()({name:"VListItemSubtitle",props:Qde(),setup(t,e){let{slots:n}=e;return xe(()=>m(t.tag,{class:["v-list-item-subtitle",t.class],style:[{"--v-list-item-subtitle-opacity":t.opacity},t.style]},n)),{}}}),g5=Ja("v-list-item-title"),oC=te({active:{type:Boolean,default:void 0},activeClass:String,activeColor:String,appendAvatar:String,appendIcon:qe,baseColor:String,disabled:Boolean,lines:[Boolean,String],link:{type:Boolean,default:void 0},nav:Boolean,prependAvatar:String,prependIcon:qe,ripple:{type:[Boolean,Object],default:!0},slim:Boolean,subtitle:[String,Number],title:[String,Number],value:null,onClick:Ri(),onClickOnce:Ri(),...ir(),...je(),...Ci(),...mi(),...Pi(),...On(),...Zv(),...yt(),...Ft(),...Br({variant:"text"})},"VListItem"),br=pe()({name:"VListItem",directives:{Ripple:Go},props:oC(),emits:{click:t=>!0},setup(t,e){let{attrs:n,slots:i,emit:s}=e;const r=zh(t,n),a=R(()=>t.value===void 0?r.href.value:t.value),{activate:o,isActivated:l,select:u,isOpen:d,isSelected:c,isIndeterminate:f,isGroupActivator:h,root:g,parent:v,openOnSelect:p,id:_}=f5(a,!1),b=l5(),x=R(()=>{var ue;return t.active!==!1&&(t.active||((ue=r.isActive)==null?void 0:ue.value)||(g.activatable.value?l.value:c.value))}),k=R(()=>t.link!==!1&&r.isLink.value),I=R(()=>!!b&&(g.selectable.value||g.activatable.value||t.value!=null)),E=R(()=>!t.disabled&&t.link!==!1&&(t.link||r.isClickable.value||I.value)),T=R(()=>t.rounded||t.nav),S=R(()=>t.color??t.activeColor),w=R(()=>({color:x.value?S.value??t.baseColor:t.baseColor,variant:t.variant}));we(()=>{var ue;return(ue=r.isActive)==null?void 0:ue.value},ue=>{ue&&P()}),Th(()=>{var ue;(ue=r.isActive)!=null&&ue.value&&P()});function P(){v.value!=null&&g.open(v.value,!0),p(!0)}const{themeClasses:C}=Qt(t),{borderClasses:D}=Tr(t),{colorClasses:A,colorStyles:N,variantClasses:B}=Fc(w),{densityClasses:H}=ls(t),{dimensionStyles:G}=vi(t),{elevationClasses:z}=Wi(t),{roundedClasses:X}=qn(T),W=R(()=>t.lines?`v-list-item--${t.lines}-line`:void 0),Z=R(()=>({isActive:x.value,select:u,isOpen:d.value,isSelected:c.value,isIndeterminate:f.value}));function ee(ue){var ce;s("click",ue),E.value&&((ce=r.navigate)==null||ce.call(r,ue),!h&&(g.activatable.value?o(!l.value,ue):(g.selectable.value||t.value!=null)&&u(!c.value,ue)))}function le(ue){(ue.key==="Enter"||ue.key===" ")&&(ue.preventDefault(),ue.target.dispatchEvent(new MouseEvent("click",ue)))}return xe(()=>{const ue=k.value?"a":t.tag,ce=i.title||t.title!=null,se=i.subtitle||t.subtitle!=null,$=!!(t.appendAvatar||t.appendIcon),q=!!($||i.append),re=!!(t.prependAvatar||t.prependIcon),ge=!!(re||i.prepend);return b==null||b.updateHasPrepend(ge),t.activeColor&&Ine("active-color",["color","base-color"]),In(m(ue,J({class:["v-list-item",{"v-list-item--active":x.value,"v-list-item--disabled":t.disabled,"v-list-item--link":E.value,"v-list-item--nav":t.nav,"v-list-item--prepend":!ge&&(b==null?void 0:b.hasPrepend.value),"v-list-item--slim":t.slim,[`${t.activeClass}`]:t.activeClass&&x.value},C.value,D.value,A.value,H.value,z.value,W.value,X.value,B.value,t.class],style:[N.value,G.value,t.style],tabindex:E.value?b?-2:0:void 0,"aria-selected":I.value?g.activatable.value?l.value:g.selectable.value?c.value:x.value:void 0,onClick:ee,onKeydown:E.value&&!k.value&&le},r.linkProps),{default:()=>{var fe;return[ru(E.value||x.value,"v-list-item"),ge&&m("div",{key:"prepend",class:"v-list-item__prepend"},[i.prepend?m(ht,{key:"prepend-defaults",disabled:!re,defaults:{VAvatar:{density:t.density,image:t.prependAvatar},VIcon:{density:t.density,icon:t.prependIcon},VListItemAction:{start:!0}}},{default:()=>{var ye;return[(ye=i.prepend)==null?void 0:ye.call(i,Z.value)]}}):m(Ie,null,[t.prependAvatar&&m($s,{key:"prepend-avatar",density:t.density,image:t.prependAvatar},null),t.prependIcon&&m(jt,{key:"prepend-icon",density:t.density,icon:t.prependIcon},null)]),m("div",{class:"v-list-item__spacer"},null)]),m("div",{class:"v-list-item__content","data-no-activator":""},[ce&&m(g5,{key:"title"},{default:()=>{var ye;return[((ye=i.title)==null?void 0:ye.call(i,{title:t.title}))??t.title]}}),se&&m(v5,{key:"subtitle"},{default:()=>{var ye;return[((ye=i.subtitle)==null?void 0:ye.call(i,{subtitle:t.subtitle}))??t.subtitle]}}),(fe=i.default)==null?void 0:fe.call(i,Z.value)]),q&&m("div",{key:"append",class:"v-list-item__append"},[i.append?m(ht,{key:"append-defaults",disabled:!$,defaults:{VAvatar:{density:t.density,image:t.appendAvatar},VIcon:{density:t.density,icon:t.appendIcon},VListItemAction:{end:!0}}},{default:()=>{var ye;return[(ye=i.append)==null?void 0:ye.call(i,Z.value)]}}):m(Ie,null,[t.appendIcon&&m(jt,{key:"append-icon",density:t.density,icon:t.appendIcon},null),t.appendAvatar&&m($s,{key:"append-avatar",density:t.density,image:t.appendAvatar},null)]),m("div",{class:"v-list-item__spacer"},null)])]}}),[[nr("ripple"),E.value&&t.ripple]])}),{activate:o,isActivated:l,isGroupActivator:h,isSelected:c,list:b,select:u,root:g,id:_}}}),Jde=te({color:String,inset:Boolean,sticky:Boolean,title:String,...je(),...yt()},"VListSubheader"),p5=pe()({name:"VListSubheader",props:Jde(),setup(t,e){let{slots:n}=e;const{textColorClasses:i,textColorStyles:s}=Ui(ve(t,"color"));return xe(()=>{const r=!!(n.default||t.title);return m(t.tag,{class:["v-list-subheader",{"v-list-subheader--inset":t.inset,"v-list-subheader--sticky":t.sticky},i.value,t.class],style:[{textColorStyles:s},t.style]},{default:()=>{var a;return[r&&m("div",{class:"v-list-subheader__text"},[((a=n.default)==null?void 0:a.call(n))??t.title])]}})}),{}}}),_5=te({color:String,inset:Boolean,length:[Number,String],opacity:[Number,String],thickness:[Number,String],vertical:Boolean,...je(),...Ft()},"VDivider"),Jr=pe()({name:"VDivider",props:_5(),setup(t,e){let{attrs:n,slots:i}=e;const{themeClasses:s}=Qt(t),{textColorClasses:r,textColorStyles:a}=Ui(ve(t,"color")),o=R(()=>{const l={};return t.length&&(l[t.vertical?"height":"width"]=Ne(t.length)),t.thickness&&(l[t.vertical?"borderRightWidth":"borderTopWidth"]=Ne(t.thickness)),l});return xe(()=>{const l=m("hr",{class:[{"v-divider":!0,"v-divider--inset":t.inset,"v-divider--vertical":t.vertical},s.value,r.value,t.class],style:[o.value,a.value,{"--v-border-opacity":t.opacity},t.style],"aria-orientation":!n.role||n.role==="separator"?t.vertical?"vertical":"horizontal":void 0,role:`${n.role||"separator"}`},null);return i.default?m("div",{class:["v-divider__wrapper",{"v-divider__wrapper--vertical":t.vertical,"v-divider__wrapper--inset":t.inset}]},[l,m("div",{class:"v-divider__content"},[i.default()]),l]):l}),{}}}),Zde=te({items:Array,returnObject:Boolean},"VListChildren"),y5=pe()({name:"VListChildren",props:Zde(),setup(t,e){let{slots:n}=e;return o5(),()=>{var i,s;return((i=n.default)==null?void 0:i.call(n))??((s=t.items)==null?void 0:s.map(r=>{var f,h;let{children:a,props:o,type:l,raw:u}=r;if(l==="divider")return((f=n.divider)==null?void 0:f.call(n,{props:o}))??m(Jr,o,null);if(l==="subheader")return((h=n.subheader)==null?void 0:h.call(n,{props:o}))??m(p5,o,null);const d={subtitle:n.subtitle?g=>{var v;return(v=n.subtitle)==null?void 0:v.call(n,{...g,item:u})}:void 0,prepend:n.prepend?g=>{var v;return(v=n.prepend)==null?void 0:v.call(n,{...g,item:u})}:void 0,append:n.append?g=>{var v;return(v=n.append)==null?void 0:v.call(n,{...g,item:u})}:void 0,title:n.title?g=>{var v;return(v=n.title)==null?void 0:v.call(n,{...g,item:u})}:void 0},c=ev.filterProps(o);return a?m(ev,J({value:o==null?void 0:o.value},c),{activator:g=>{let{props:v}=g;const p={...o,...v,value:t.returnObject?u:o.value};return n.header?n.header({props:p}):m(br,p,d)},default:()=>m(y5,{items:a,returnObject:t.returnObject},n)}):n.item?n.item({props:o}):m(br,J(o,{value:t.returnObject?u:o.value}),d)}))}}}),b5=te({items:{type:Array,default:()=>[]},itemTitle:{type:[String,Array,Function],default:"title"},itemValue:{type:[String,Array,Function],default:"value"},itemChildren:{type:[Boolean,String,Array,Function],default:"children"},itemProps:{type:[Boolean,String,Array,Function],default:"props"},returnObject:Boolean,valueComparator:{type:Function,default:Ka}},"list-items");function vl(t,e){const n=ii(e,t.itemTitle,e),i=ii(e,t.itemValue,n),s=ii(e,t.itemChildren),r=t.itemProps===!0?typeof e=="object"&&e!=null&&!Array.isArray(e)?"children"in e?tn(e,["children"]):e:void 0:ii(e,t.itemProps),a={title:n,value:i,...r};return{title:String(a.title??""),value:a.value,props:a,children:Array.isArray(s)?w5(t,s):void 0,raw:e}}function w5(t,e){const n=[];for(const i of e)n.push(vl(t,i));return n}function lC(t){const e=R(()=>w5(t,t.items)),n=R(()=>e.value.some(r=>r.value===null));function i(r){return n.value||(r=r.filter(a=>a!==null)),r.map(a=>t.returnObject&&typeof a=="string"?vl(t,a):e.value.find(o=>t.valueComparator(a,o.value))||vl(t,a))}function s(r){return t.returnObject?r.map(a=>{let{raw:o}=a;return o}):r.map(a=>{let{value:o}=a;return o})}return{items:e,transformIn:i,transformOut:s}}function ehe(t){return typeof t=="string"||typeof t=="number"||typeof t=="boolean"}function the(t,e){const n=ii(e,t.itemType,"item"),i=ehe(e)?e:ii(e,t.itemTitle),s=ii(e,t.itemValue,void 0),r=ii(e,t.itemChildren),a=t.itemProps===!0?tn(e,["children"]):ii(e,t.itemProps),o={title:i,value:s,...a};return{type:n,title:o.title,value:o.value,props:o,children:n==="item"&&r?x5(t,r):void 0,raw:e}}function x5(t,e){const n=[];for(const i of e)n.push(the(t,i));return n}function S5(t){return{items:R(()=>x5(t,t.items))}}const k5=te({baseColor:String,activeColor:String,activeClass:String,bgColor:String,disabled:Boolean,expandIcon:qe,collapseIcon:qe,lines:{type:[Boolean,String],default:"one"},slim:Boolean,nav:Boolean,"onClick:open":Ri(),"onClick:select":Ri(),"onUpdate:opened":Ri(),...Gde({selectStrategy:"single-leaf",openStrategy:"list"}),...ir(),...je(),...Ci(),...mi(),...Pi(),itemType:{type:String,default:"type"},...b5(),...On(),...yt(),...Ft(),...Br({variant:"text"})},"VList"),hh=pe()({name:"VList",props:k5(),emits:{"update:selected":t=>!0,"update:activated":t=>!0,"update:opened":t=>!0,"click:open":t=>!0,"click:activate":t=>!0,"click:select":t=>!0},setup(t,e){let{slots:n}=e;const{items:i}=S5(t),{themeClasses:s}=Qt(t),{backgroundColorClasses:r,backgroundColorStyles:a}=an(ve(t,"bgColor")),{borderClasses:o}=Tr(t),{densityClasses:l}=ls(t),{dimensionStyles:u}=vi(t),{elevationClasses:d}=Wi(t),{roundedClasses:c}=qn(t),{children:f,open:h,parents:g,select:v,getPath:p}=qde(t),_=R(()=>t.lines?`v-list--${t.lines}-line`:void 0),b=ve(t,"activeColor"),x=ve(t,"baseColor"),k=ve(t,"color");o5(),Dn({VListGroup:{activeColor:b,baseColor:x,color:k,expandIcon:ve(t,"expandIcon"),collapseIcon:ve(t,"collapseIcon")},VListItem:{activeClass:ve(t,"activeClass"),activeColor:b,baseColor:x,color:k,density:ve(t,"density"),disabled:ve(t,"disabled"),lines:ve(t,"lines"),nav:ve(t,"nav"),slim:ve(t,"slim"),variant:ve(t,"variant")}});const I=Me(!1),E=Y();function T(A){I.value=!0}function S(A){I.value=!1}function w(A){var N;!I.value&&!(A.relatedTarget&&((N=E.value)!=null&&N.contains(A.relatedTarget)))&&D()}function P(A){const N=A.target;if(!(!E.value||["INPUT","TEXTAREA"].includes(N.tagName))){if(A.key==="ArrowDown")D("next");else if(A.key==="ArrowUp")D("prev");else if(A.key==="Home")D("first");else if(A.key==="End")D("last");else return;A.preventDefault()}}function C(A){I.value=!0}function D(A){if(E.value)return zu(E.value,A)}return xe(()=>m(t.tag,{ref:E,class:["v-list",{"v-list--disabled":t.disabled,"v-list--nav":t.nav,"v-list--slim":t.slim},s.value,r.value,o.value,l.value,d.value,_.value,c.value,t.class],style:[a.value,u.value,t.style],tabindex:t.disabled||I.value?-1:0,role:"listbox","aria-activedescendant":void 0,onFocusin:T,onFocusout:S,onFocus:w,onKeydown:P,onMousedown:C},{default:()=>[m(y5,{items:i.value,returnObject:t.returnObject},n)]})),{open:h,select:v,focus:D,children:f,parents:g,getPath:p}}}),nhe=Ja("v-list-img"),ihe=te({start:Boolean,end:Boolean,...je(),...yt()},"VListItemAction"),T5=pe()({name:"VListItemAction",props:ihe(),setup(t,e){let{slots:n}=e;return xe(()=>m(t.tag,{class:["v-list-item-action",{"v-list-item-action--start":t.start,"v-list-item-action--end":t.end},t.class],style:t.style},n)),{}}}),she=te({start:Boolean,end:Boolean,...je(),...yt()},"VListItemMedia"),rhe=pe()({name:"VListItemMedia",props:she(),setup(t,e){let{slots:n}=e;return xe(()=>m(t.tag,{class:["v-list-item-media",{"v-list-item-media--start":t.start,"v-list-item-media--end":t.end},t.class],style:t.style},n)),{}}});function t1(t,e){return{x:t.x+e.x,y:t.y+e.y}}function ahe(t,e){return{x:t.x-e.x,y:t.y-e.y}}function NR(t,e){if(t.side==="top"||t.side==="bottom"){const{side:n,align:i}=t,s=i==="left"?0:i==="center"?e.width/2:i==="right"?e.width:i,r=n==="top"?0:n==="bottom"?e.height:n;return t1({x:s,y:r},e)}else if(t.side==="left"||t.side==="right"){const{side:n,align:i}=t,s=n==="left"?0:n==="right"?e.width:n,r=i==="top"?0:i==="center"?e.height/2:i==="bottom"?e.height:i;return t1({x:s,y:r},e)}return t1({x:e.width/2,y:e.height/2},e)}const P5={static:uhe,connected:dhe},ohe=te({locationStrategy:{type:[String,Function],default:"static",validator:t=>typeof t=="function"||t in P5},location:{type:String,default:"bottom"},origin:{type:String,default:"auto"},offset:[Number,String,Array]},"VOverlay-location-strategies");function lhe(t,e){const n=Y({}),i=Y();Gt&&Ns(()=>!!(e.isActive.value&&t.locationStrategy),r=>{var a,o;we(()=>t.locationStrategy,r),as(()=>{window.removeEventListener("resize",s),i.value=void 0}),window.addEventListener("resize",s,{passive:!0}),typeof t.locationStrategy=="function"?i.value=(a=t.locationStrategy(e,t,n))==null?void 0:a.updateLocation:i.value=(o=P5[t.locationStrategy](e,t,n))==null?void 0:o.updateLocation});function s(r){var a;(a=i.value)==null||a.call(i,r)}return{contentStyles:n,updateLocation:i}}function uhe(){}function che(t,e){const n=PP(t);return e?n.x+=parseFloat(t.style.right||0):n.x-=parseFloat(t.style.left||0),n.y-=parseFloat(t.style.top||0),n}function dhe(t,e,n){(Array.isArray(t.target.value)||Kne(t.target.value))&&Object.assign(n.value,{position:"fixed",top:0,[t.isRtl.value?"right":"left"]:0});const{preferredAnchor:s,preferredOrigin:r}=kP(()=>{const g=$x(e.location,t.isRtl.value),v=e.origin==="overlap"?g:e.origin==="auto"?Uw(g):$x(e.origin,t.isRtl.value);return g.side===v.side&&g.align===Hw(v).align?{preferredAnchor:pO(g),preferredOrigin:pO(v)}:{preferredAnchor:g,preferredOrigin:v}}),[a,o,l,u]=["minWidth","minHeight","maxWidth","maxHeight"].map(g=>R(()=>{const v=parseFloat(e[g]);return isNaN(v)?1/0:v})),d=R(()=>{if(Array.isArray(e.offset))return e.offset;if(typeof e.offset=="string"){const g=e.offset.split(" ").map(parseFloat);return g.length<2&&g.push(0),g}return typeof e.offset=="number"?[e.offset,0]:[0,0]});let c=!1;const f=new ResizeObserver(()=>{c&&h()});we([t.target,t.contentEl],(g,v)=>{let[p,_]=g,[b,x]=v;b&&!Array.isArray(b)&&f.unobserve(b),p&&!Array.isArray(p)&&f.observe(p),x&&f.unobserve(x),_&&f.observe(_)},{immediate:!0}),as(()=>{f.disconnect()});function h(){if(c=!1,requestAnimationFrame(()=>c=!0),!t.target.value||!t.contentEl.value)return;const g=Ij(t.target.value),v=che(t.contentEl.value,t.isRtl.value),p=Bm(t.contentEl.value),_=12;p.length||(p.push(document.documentElement),t.contentEl.value.style.top&&t.contentEl.value.style.left||(v.x-=parseFloat(document.documentElement.style.getPropertyValue("--v-body-scroll-x")||0),v.y-=parseFloat(document.documentElement.style.getPropertyValue("--v-body-scroll-y")||0)));const b=p.reduce((C,D)=>{const A=D.getBoundingClientRect(),N=new Wu({x:D===document.documentElement?0:A.x,y:D===document.documentElement?0:A.y,width:D.clientWidth,height:D.clientHeight});return C?new Wu({x:Math.max(C.left,N.left),y:Math.max(C.top,N.top),width:Math.min(C.right,N.right)-Math.max(C.left,N.left),height:Math.min(C.bottom,N.bottom)-Math.max(C.top,N.top)}):N},void 0);b.x+=_,b.y+=_,b.width-=_*2,b.height-=_*2;let x={anchor:s.value,origin:r.value};function k(C){const D=new Wu(v),A=NR(C.anchor,g),N=NR(C.origin,D);let{x:B,y:H}=ahe(A,N);switch(C.anchor.side){case"top":H-=d.value[0];break;case"bottom":H+=d.value[0];break;case"left":B-=d.value[0];break;case"right":B+=d.value[0];break}switch(C.anchor.align){case"top":H-=d.value[1];break;case"bottom":H+=d.value[1];break;case"left":B-=d.value[1];break;case"right":B+=d.value[1];break}return D.x+=B,D.y+=H,D.width=Math.min(D.width,l.value),D.height=Math.min(D.height,u.value),{overflows:yO(D,b),x:B,y:H}}let I=0,E=0;const T={x:0,y:0},S={x:!1,y:!1};let w=-1;for(;!(w++>10);){const{x:C,y:D,overflows:A}=k(x);I+=C,E+=D,v.x+=C,v.y+=D;{const N=_O(x.anchor),B=A.x.before||A.x.after,H=A.y.before||A.y.after;let G=!1;if(["x","y"].forEach(z=>{if(z==="x"&&B&&!S.x||z==="y"&&H&&!S.y){const X={anchor:{...x.anchor},origin:{...x.origin}},W=z==="x"?N==="y"?Hw:Uw:N==="y"?Uw:Hw;X.anchor=W(X.anchor),X.origin=W(X.origin);const{overflows:Z}=k(X);(Z[z].before<=A[z].before&&Z[z].after<=A[z].after||Z[z].before+Z[z].after<(A[z].before+A[z].after)/2)&&(x=X,G=S[z]=!0)}}),G)continue}A.x.before&&(I+=A.x.before,v.x+=A.x.before),A.x.after&&(I-=A.x.after,v.x-=A.x.after),A.y.before&&(E+=A.y.before,v.y+=A.y.before),A.y.after&&(E-=A.y.after,v.y-=A.y.after);{const N=yO(v,b);T.x=b.width-N.x.before-N.x.after,T.y=b.height-N.y.before-N.y.after,I+=N.x.before,v.x+=N.x.before,E+=N.y.before,v.y+=N.y.before}break}const P=_O(x.anchor);return Object.assign(n.value,{"--v-overlay-anchor-origin":`${x.anchor.side} ${x.anchor.align}`,transformOrigin:`${x.origin.side} ${x.origin.align}`,top:Ne(n1(E)),left:t.isRtl.value?void 0:Ne(n1(I)),right:t.isRtl.value?Ne(n1(-I)):void 0,minWidth:Ne(P==="y"?Math.min(a.value,g.width):a.value),maxWidth:Ne(FR($n(T.x,a.value===1/0?0:a.value,l.value))),maxHeight:Ne(FR($n(T.y,o.value===1/0?0:o.value,u.value)))}),{available:T,contentBox:v}}return we(()=>[s.value,r.value,e.offset,e.minWidth,e.minHeight,e.maxWidth,e.maxHeight],()=>h()),pt(()=>{const g=h();if(!g)return;const{available:v,contentBox:p}=g;p.height>v.y&&requestAnimationFrame(()=>{h(),requestAnimationFrame(()=>{h()})})}),{updateLocation:h}}function n1(t){return Math.round(t*devicePixelRatio)/devicePixelRatio}function FR(t){return Math.ceil(t*devicePixelRatio)/devicePixelRatio}let gS=!0;const ty=[];function hhe(t){!gS||ty.length?(ty.push(t),pS()):(gS=!1,t(),pS())}let BR=-1;function pS(){cancelAnimationFrame(BR),BR=requestAnimationFrame(()=>{const t=ty.shift();t&&t(),ty.length?pS():gS=!0})}const Bp={none:null,close:vhe,block:ghe,reposition:phe},fhe=te({scrollStrategy:{type:[String,Function],default:"block",validator:t=>typeof t=="function"||t in Bp}},"VOverlay-scroll-strategies");function mhe(t,e){if(!Gt)return;let n;yn(async()=>{n==null||n.stop(),e.isActive.value&&t.scrollStrategy&&(n=Sv(),await new Promise(i=>setTimeout(i)),n.active&&n.run(()=>{var i;typeof t.scrollStrategy=="function"?t.scrollStrategy(e,t,n):(i=Bp[t.scrollStrategy])==null||i.call(Bp,e,t,n)}))}),as(()=>{n==null||n.stop()})}function vhe(t){function e(n){t.isActive.value=!1}C5(t.targetEl.value??t.contentEl.value,e)}function ghe(t,e){var a;const n=(a=t.root.value)==null?void 0:a.offsetParent,i=[...new Set([...Bm(t.targetEl.value,e.contained?n:void 0),...Bm(t.contentEl.value,e.contained?n:void 0)])].filter(o=>!o.classList.contains("v-overlay-scroll-blocked")),s=window.innerWidth-document.documentElement.offsetWidth,r=(o=>AP(o)&&o)(n||document.documentElement);r&&t.root.value.classList.add("v-overlay--scroll-blocked"),i.forEach((o,l)=>{o.style.setProperty("--v-body-scroll-x",Ne(-o.scrollLeft)),o.style.setProperty("--v-body-scroll-y",Ne(-o.scrollTop)),o!==document.documentElement&&o.style.setProperty("--v-scrollbar-offset",Ne(s)),o.classList.add("v-overlay-scroll-blocked")}),as(()=>{i.forEach((o,l)=>{const u=parseFloat(o.style.getPropertyValue("--v-body-scroll-x")),d=parseFloat(o.style.getPropertyValue("--v-body-scroll-y")),c=o.style.scrollBehavior;o.style.scrollBehavior="auto",o.style.removeProperty("--v-body-scroll-x"),o.style.removeProperty("--v-body-scroll-y"),o.style.removeProperty("--v-scrollbar-offset"),o.classList.remove("v-overlay-scroll-blocked"),o.scrollLeft=-u,o.scrollTop=-d,o.style.scrollBehavior=c}),r&&t.root.value.classList.remove("v-overlay--scroll-blocked")})}function phe(t,e,n){let i=!1,s=-1,r=-1;function a(o){hhe(()=>{var d,c;const l=performance.now();(c=(d=t.updateLocation).value)==null||c.call(d,o),i=(performance.now()-l)/(1e3/60)>2})}r=(typeof requestIdleCallback>"u"?o=>o():requestIdleCallback)(()=>{n.run(()=>{C5(t.targetEl.value??t.contentEl.value,o=>{i?(cancelAnimationFrame(s),s=requestAnimationFrame(()=>{s=requestAnimationFrame(()=>{a(o)})})):a(o)})})}),as(()=>{typeof cancelIdleCallback<"u"&&cancelIdleCallback(r),cancelAnimationFrame(s)})}function C5(t,e){const n=[document,...Bm(t)];n.forEach(i=>{i.addEventListener("scroll",e,{passive:!0})}),as(()=>{n.forEach(i=>{i.removeEventListener("scroll",e)})})}const _S=Symbol.for("vuetify:v-menu"),v0=te({closeDelay:[Number,String],openDelay:[Number,String]},"delay");function uC(t,e){let n=()=>{};function i(a){n==null||n();const o=Number(a?t.openDelay:t.closeDelay);return new Promise(l=>{n=pne(o,()=>{e==null||e(a),l(a)})})}function s(){return i(!0)}function r(){return i(!1)}return{clearDelay:n,runOpenDelay:s,runCloseDelay:r}}const _he=te({target:[String,Object],activator:[String,Object],activatorProps:{type:Object,default:()=>({})},openOnClick:{type:Boolean,default:void 0},openOnHover:Boolean,openOnFocus:{type:Boolean,default:void 0},closeOnContentClick:Boolean,...v0()},"VOverlay-activator");function yhe(t,e){let{isActive:n,isTop:i,contentEl:s}=e;const r=Gn("useActivator"),a=Y();let o=!1,l=!1,u=!0;const d=R(()=>t.openOnFocus||t.openOnFocus==null&&t.openOnHover),c=R(()=>t.openOnClick||t.openOnClick==null&&!t.openOnHover&&!d.value),{runOpenDelay:f,runCloseDelay:h}=uC(t,S=>{S===(t.openOnHover&&o||d.value&&l)&&!(t.openOnHover&&n.value&&!i.value)&&(n.value!==S&&(u=!0),n.value=S)}),g=Y(),v={onClick:S=>{S.stopPropagation(),a.value=S.currentTarget||S.target,n.value||(g.value=[S.clientX,S.clientY]),n.value=!n.value},onMouseenter:S=>{var w;(w=S.sourceCapabilities)!=null&&w.firesTouchEvents||(o=!0,a.value=S.currentTarget||S.target,f())},onMouseleave:S=>{o=!1,h()},onFocus:S=>{ah(S.target,":focus-visible")!==!1&&(l=!0,S.stopPropagation(),a.value=S.currentTarget||S.target,f())},onBlur:S=>{l=!1,S.stopPropagation(),h()}},p=R(()=>{const S={};return c.value&&(S.onClick=v.onClick),t.openOnHover&&(S.onMouseenter=v.onMouseenter,S.onMouseleave=v.onMouseleave),d.value&&(S.onFocus=v.onFocus,S.onBlur=v.onBlur),S}),_=R(()=>{const S={};if(t.openOnHover&&(S.onMouseenter=()=>{o=!0,f()},S.onMouseleave=()=>{o=!1,h()}),d.value&&(S.onFocusin=()=>{l=!0,f()},S.onFocusout=()=>{l=!1,h()}),t.closeOnContentClick){const w=vt(_S,null);S.onClick=()=>{n.value=!1,w==null||w.closeParents()}}return S}),b=R(()=>{const S={};return t.openOnHover&&(S.onMouseenter=()=>{u&&(o=!0,u=!1,f())},S.onMouseleave=()=>{o=!1,h()}),S});we(i,S=>{var w;S&&(t.openOnHover&&!o&&(!d.value||!l)||d.value&&!l&&(!t.openOnHover||!o))&&!((w=s.value)!=null&&w.contains(document.activeElement))&&(n.value=!1)}),we(n,S=>{S||setTimeout(()=>{g.value=void 0})},{flush:"post"});const x=N_();yn(()=>{x.value&&pt(()=>{a.value=x.el})});const k=N_(),I=R(()=>t.target==="cursor"&&g.value?g.value:k.value?k.el:E5(t.target,r)||a.value),E=R(()=>Array.isArray(I.value)?void 0:I.value);let T;return we(()=>!!t.activator,S=>{S&&Gt?(T=Sv(),T.run(()=>{bhe(t,r,{activatorEl:a,activatorEvents:p})})):T&&T.stop()},{flush:"post",immediate:!0}),as(()=>{T==null||T.stop()}),{activatorEl:a,activatorRef:x,target:I,targetEl:E,targetRef:k,activatorEvents:p,contentEvents:_,scrimEvents:b}}function bhe(t,e,n){let{activatorEl:i,activatorEvents:s}=n;we(()=>t.activator,(l,u)=>{if(u&&l!==u){const d=o(u);d&&a(d)}l&&pt(()=>r())},{immediate:!0}),we(()=>t.activatorProps,()=>{r()}),as(()=>{a()});function r(){let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:o(),u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t.activatorProps;l&&bne(l,J(s.value,u))}function a(){let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:o(),u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t.activatorProps;l&&wne(l,J(s.value,u))}function o(){let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:t.activator;const u=E5(l,e);return i.value=(u==null?void 0:u.nodeType)===Node.ELEMENT_NODE?u:void 0,i.value}}function E5(t,e){var i,s;if(!t)return;let n;if(t==="parent"){let r=(s=(i=e==null?void 0:e.proxy)==null?void 0:i.$el)==null?void 0:s.parentNode;for(;r!=null&&r.hasAttribute("data-no-activator");)r=r.parentNode;n=r}else typeof t=="string"?n=document.querySelector(t):"$el"in t?n=t.$el:n=t;return n}function I5(){if(!Gt)return Me(!1);const{ssr:t}=Sr();if(t){const e=Me(!1);return Pt(()=>{e.value=!0}),e}else return Me(!0)}const cC=te({eager:Boolean},"lazy");function dC(t,e){const n=Me(!1),i=R(()=>n.value||t.eager||e.value);we(e,()=>n.value=!0);function s(){t.eager||(n.value=!1)}return{isBooted:n,hasContent:i,onAfterLeave:s}}function zc(){const e=Gn("useScopeId").vnode.scopeId;return{scopeId:e?{[e]:""}:void 0}}const jR=Symbol.for("vuetify:stack"),xf=vn([]);function whe(t,e,n){const i=Gn("useStack"),s=!n,r=vt(jR,void 0),a=vn({activeChildren:new Set});Jt(jR,a);const o=Me(+e.value);Ns(t,()=>{var c;const d=(c=xf.at(-1))==null?void 0:c[1];o.value=d?d+10:+e.value,s&&xf.push([i.uid,o.value]),r==null||r.activeChildren.add(i.uid),as(()=>{if(s){const f=Qe(xf).findIndex(h=>h[0]===i.uid);xf.splice(f,1)}r==null||r.activeChildren.delete(i.uid)})});const l=Me(!0);s&&yn(()=>{var c;const d=((c=xf.at(-1))==null?void 0:c[0])===i.uid;setTimeout(()=>l.value=d)});const u=R(()=>!a.activeChildren.size);return{globalTop:kh(l),localTop:u,stackStyles:R(()=>({zIndex:o.value}))}}function xhe(t){return{teleportTarget:R(()=>{const n=t();if(n===!0||!Gt)return;const i=n===!1?document.body:typeof n=="string"?document.querySelector(n):n;if(i==null)return;let s=[...i.children].find(r=>r.matches(".v-overlay-container"));return s||(s=document.createElement("div"),s.className="v-overlay-container",i.appendChild(s)),s})}}function She(){return!0}function D5(t,e,n){if(!t||A5(t,n)===!1)return!1;const i=Uj(e);if(typeof ShadowRoot<"u"&&i instanceof ShadowRoot&&i.host===t.target)return!1;const s=(typeof n.value=="object"&&n.value.include||(()=>[]))();return s.push(e),!s.some(r=>r==null?void 0:r.contains(t.target))}function A5(t,e){return(typeof e.value=="object"&&e.value.closeConditional||She)(t)}function khe(t,e,n){const i=typeof n.value=="function"?n.value:n.value.handler;t.shadowTarget=t.target,e._clickOutside.lastMousedownWasOutside&&D5(t,e,n)&&setTimeout(()=>{A5(t,n)&&i&&i(t)},0)}function $R(t,e){const n=Uj(t);e(document),typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&e(n)}const O5={mounted(t,e){const n=s=>khe(s,t,e),i=s=>{t._clickOutside.lastMousedownWasOutside=D5(s,t,e)};$R(t,s=>{s.addEventListener("click",n,!0),s.addEventListener("mousedown",i,!0)}),t._clickOutside||(t._clickOutside={lastMousedownWasOutside:!1}),t._clickOutside[e.instance.$.uid]={onClick:n,onMousedown:i}},beforeUnmount(t,e){t._clickOutside&&($R(t,n=>{var r;if(!n||!((r=t._clickOutside)!=null&&r[e.instance.$.uid]))return;const{onClick:i,onMousedown:s}=t._clickOutside[e.instance.$.uid];n.removeEventListener("click",i,!0),n.removeEventListener("mousedown",s,!0)}),delete t._clickOutside[e.instance.$.uid])}};function The(t){const{modelValue:e,color:n,...i}=t;return m(Rl,{name:"fade-transition",appear:!0},{default:()=>[t.modelValue&&m("div",J({class:["v-overlay__scrim",t.color.backgroundColorClasses.value],style:t.color.backgroundColorStyles.value},i),null)]})}const tg=te({absolute:Boolean,attach:[Boolean,String,Object],closeOnBack:{type:Boolean,default:!0},contained:Boolean,contentClass:null,contentProps:null,disabled:Boolean,opacity:[Number,String],noClickAnimation:Boolean,modelValue:Boolean,persistent:Boolean,scrim:{type:[Boolean,String],default:!0},zIndex:{type:[Number,String],default:2e3},..._he(),...je(),...mi(),...cC(),...ohe(),...fhe(),...Ft(),...ya()},"VOverlay"),fa=pe()({name:"VOverlay",directives:{ClickOutside:O5},inheritAttrs:!1,props:{_disableGlobalStack:Boolean,...tg()},emits:{"click:outside":t=>!0,"update:modelValue":t=>!0,afterEnter:()=>!0,afterLeave:()=>!0},setup(t,e){let{slots:n,attrs:i,emit:s}=e;const r=Gn("VOverlay"),a=Y(),o=Y(),l=Y(),u=Ye(t,"modelValue"),d=R({get:()=>u.value,set:se=>{se&&t.disabled||(u.value=se)}}),{themeClasses:c}=Qt(t),{rtlClasses:f,isRtl:h}=Ti(),{hasContent:g,onAfterLeave:v}=dC(t,d),p=an(R(()=>typeof t.scrim=="string"?t.scrim:null)),{globalTop:_,localTop:b,stackStyles:x}=whe(d,ve(t,"zIndex"),t._disableGlobalStack),{activatorEl:k,activatorRef:I,target:E,targetEl:T,targetRef:S,activatorEvents:w,contentEvents:P,scrimEvents:C}=yhe(t,{isActive:d,isTop:b,contentEl:l}),{teleportTarget:D}=xhe(()=>{var q,re,ge;const se=t.attach||t.contained;if(se)return se;const $=((q=k==null?void 0:k.value)==null?void 0:q.getRootNode())||((ge=(re=r.proxy)==null?void 0:re.$el)==null?void 0:ge.getRootNode());return $ instanceof ShadowRoot?$:!1}),{dimensionStyles:A}=vi(t),N=I5(),{scopeId:B}=zc();we(()=>t.disabled,se=>{se&&(d.value=!1)});const{contentStyles:H,updateLocation:G}=lhe(t,{isRtl:h,contentEl:l,target:E,isActive:d});mhe(t,{root:a,contentEl:l,targetEl:T,isActive:d,updateLocation:G});function z(se){s("click:outside",se),t.persistent?le():d.value=!1}function X(se){return d.value&&_.value&&(!t.scrim||se.target===o.value||se instanceof MouseEvent&&se.shadowTarget===o.value)}Gt&&we(d,se=>{se?window.addEventListener("keydown",W):window.removeEventListener("keydown",W)},{immediate:!0}),Mi(()=>{Gt&&window.removeEventListener("keydown",W)});function W(se){var $,q;se.key==="Escape"&&_.value&&(t.persistent?le():(d.value=!1,($=l.value)!=null&&$.contains(document.activeElement)&&((q=k.value)==null||q.focus())))}const Z=B4();Ns(()=>t.closeOnBack,()=>{hde(Z,se=>{_.value&&d.value?(se(!1),t.persistent?le():d.value=!1):se()})});const ee=Y();we(()=>d.value&&(t.absolute||t.contained)&&D.value==null,se=>{if(se){const $=DP(a.value);$&&$!==document.scrollingElement&&(ee.value=$.scrollTop)}});function le(){t.noClickAnimation||l.value&&Vu(l.value,[{transformOrigin:"center"},{transform:"scale(1.03)"},{transformOrigin:"center"}],{duration:150,easing:Fm})}function ue(){s("afterEnter")}function ce(){v(),s("afterLeave")}return xe(()=>{var se;return m(Ie,null,[(se=n.activator)==null?void 0:se.call(n,{isActive:d.value,targetRef:S,props:J({ref:I},w.value,t.activatorProps)}),N.value&&g.value&&m(uL,{disabled:!D.value,to:D.value},{default:()=>[m("div",J({class:["v-overlay",{"v-overlay--absolute":t.absolute||t.contained,"v-overlay--active":d.value,"v-overlay--contained":t.contained},c.value,f.value,t.class],style:[x.value,{"--v-overlay-opacity":t.opacity,top:Ne(ee.value)},t.style],ref:a},B,i),[m(The,J({color:p,modelValue:d.value&&!!t.scrim,ref:o},C.value),null),m(Ts,{appear:!0,persisted:!0,transition:t.transition,target:E.value,onAfterEnter:ue,onAfterLeave:ce},{default:()=>{var $;return[In(m("div",J({ref:l,class:["v-overlay__content",t.contentClass],style:[A.value,H.value]},P.value,t.contentProps),[($=n.default)==null?void 0:$.call(n,{isActive:d})]),[[_a,d.value],[nr("click-outside"),{handler:z,closeConditional:X,include:()=>[k.value]}]])]}})])]})])}),{activatorEl:k,scrimEl:o,target:E,animateClick:le,contentEl:l,globalTop:_,localTop:b,updateLocation:G}}}),i1=Symbol("Forwarded refs");function s1(t,e){let n=t;for(;n;){const i=Reflect.getOwnPropertyDescriptor(n,e);if(i)return i;n=Object.getPrototypeOf(n)}}function Pr(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return t[i1]=n,new Proxy(t,{get(s,r){if(Reflect.has(s,r))return Reflect.get(s,r);if(!(typeof r=="symbol"||r.startsWith("$")||r.startsWith("__"))){for(const a of n)if(a.value&&Reflect.has(a.value,r)){const o=Reflect.get(a.value,r);return typeof o=="function"?o.bind(a.value):o}}},has(s,r){if(Reflect.has(s,r))return!0;if(typeof r=="symbol"||r.startsWith("$")||r.startsWith("__"))return!1;for(const a of n)if(a.value&&Reflect.has(a.value,r))return!0;return!1},set(s,r,a){if(Reflect.has(s,r))return Reflect.set(s,r,a);if(typeof r=="symbol"||r.startsWith("$")||r.startsWith("__"))return!1;for(const o of n)if(o.value&&Reflect.has(o.value,r))return Reflect.set(o.value,r,a);return!1},getOwnPropertyDescriptor(s,r){var o;const a=Reflect.getOwnPropertyDescriptor(s,r);if(a)return a;if(!(typeof r=="symbol"||r.startsWith("$")||r.startsWith("__"))){for(const l of n){if(!l.value)continue;const u=s1(l.value,r)??("_"in l.value?s1((o=l.value._)==null?void 0:o.setupState,r):void 0);if(u)return u}for(const l of n){const u=l.value&&l.value[i1];if(!u)continue;const d=u.slice();for(;d.length;){const c=d.shift(),f=s1(c.value,r);if(f)return f;const h=c.value&&c.value[i1];h&&d.push(...h)}}}}})}const R5=te({id:String,submenu:Boolean,...tn(tg({closeDelay:250,closeOnContentClick:!0,locationStrategy:"connected",location:void 0,openDelay:300,scrim:!1,scrollStrategy:"reposition",transition:{component:l0}}),["absolute"])},"VMenu"),cc=pe()({name:"VMenu",props:R5(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const i=Ye(t,"modelValue"),{scopeId:s}=zc(),{isRtl:r}=Ti(),a=zi(),o=R(()=>t.id||`v-menu-${a}`),l=Y(),u=vt(_S,null),d=Me(new Set);Jt(_S,{register(){d.value.add(a)},unregister(){d.value.delete(a)},closeParents(p){setTimeout(()=>{var _;!d.value.size&&!t.persistent&&(p==null||(_=l.value)!=null&&_.contentEl&&!_ne(p,l.value.contentEl))&&(i.value=!1,u==null||u.closeParents())},40)}}),Mi(()=>{u==null||u.unregister(),document.removeEventListener("focusin",c)}),Bk(()=>i.value=!1);async function c(p){var x,k,I;const _=p.relatedTarget,b=p.target;await pt(),i.value&&_!==b&&((x=l.value)!=null&&x.contentEl)&&((k=l.value)!=null&&k.globalTop)&&![document,l.value.contentEl].includes(b)&&!l.value.contentEl.contains(b)&&((I=Nm(l.value.contentEl)[0])==null||I.focus())}we(i,p=>{p?(u==null||u.register(),Gt&&document.addEventListener("focusin",c,{once:!0})):(u==null||u.unregister(),Gt&&document.removeEventListener("focusin",c))},{immediate:!0});function f(p){u==null||u.closeParents(p)}function h(p){var _,b,x,k,I;if(!t.disabled)if(p.key==="Tab"||p.key==="Enter"&&!t.closeOnContentClick){if(p.key==="Enter"&&(p.target instanceof HTMLTextAreaElement||p.target instanceof HTMLInputElement&&p.target.closest("form")))return;p.key==="Enter"&&p.preventDefault(),Pj(Nm((_=l.value)==null?void 0:_.contentEl,!1),p.shiftKey?"prev":"next",T=>T.tabIndex>=0)||(i.value=!1,(x=(b=l.value)==null?void 0:b.activatorEl)==null||x.focus())}else t.submenu&&p.key===(r.value?"ArrowRight":"ArrowLeft")&&(i.value=!1,(I=(k=l.value)==null?void 0:k.activatorEl)==null||I.focus())}function g(p){var b;if(t.disabled)return;const _=(b=l.value)==null?void 0:b.contentEl;_&&i.value?p.key==="ArrowDown"?(p.preventDefault(),p.stopImmediatePropagation(),zu(_,"next")):p.key==="ArrowUp"?(p.preventDefault(),p.stopImmediatePropagation(),zu(_,"prev")):t.submenu&&(p.key===(r.value?"ArrowRight":"ArrowLeft")?i.value=!1:p.key===(r.value?"ArrowLeft":"ArrowRight")&&(p.preventDefault(),zu(_,"first"))):(t.submenu?p.key===(r.value?"ArrowLeft":"ArrowRight"):["ArrowDown","ArrowUp"].includes(p.key))&&(i.value=!0,p.preventDefault(),setTimeout(()=>setTimeout(()=>g(p))))}const v=R(()=>J({"aria-haspopup":"menu","aria-expanded":String(i.value),"aria-owns":o.value,onKeydown:g},t.activatorProps));return xe(()=>{const p=fa.filterProps(t);return m(fa,J({ref:l,id:o.value,class:["v-menu",t.class],style:t.style},p,{modelValue:i.value,"onUpdate:modelValue":_=>i.value=_,absolute:!0,activatorProps:v.value,location:t.location??(t.submenu?"end":"bottom"),"onClick:outside":f,onKeydown:h},s),{activator:n.activator,default:function(){for(var _=arguments.length,b=new Array(_),x=0;x<_;x++)b[x]=arguments[x];return m(ht,{root:"VMenu"},{default:()=>{var k;return[(k=n.default)==null?void 0:k.call(n,...b)]}})}})}),Pr({id:o,openChildren:d},l)}}),Phe=te({active:Boolean,disabled:Boolean,max:[Number,String],value:{type:[Number,String],default:0},...je(),...ya({transition:{component:ZP}})},"VCounter"),g0=pe()({name:"VCounter",functional:!0,props:Phe(),setup(t,e){let{slots:n}=e;const i=R(()=>t.max?`${t.value} / ${t.max}`:String(t.value));return xe(()=>m(Ts,{transition:t.transition},{default:()=>[In(m("div",{class:["v-counter",{"text-error":t.max&&!t.disabled&&parseFloat(t.value)>parseFloat(t.max)},t.class],style:t.style},[n.default?n.default({counter:i.value,max:t.max,value:t.value}):i.value]),[[_a,t.active]])]})),{}}}),Che=te({floating:Boolean,...je()},"VFieldLabel"),Nf=pe()({name:"VFieldLabel",props:Che(),setup(t,e){let{slots:n}=e;return xe(()=>m(Wh,{class:["v-field-label",{"v-field-label--floating":t.floating},t.class],style:t.style,"aria-hidden":t.floating||void 0},n)),{}}}),Ehe=["underlined","outlined","filled","solo","solo-inverted","solo-filled","plain"],ng=te({appendInnerIcon:qe,bgColor:String,clearable:Boolean,clearIcon:{type:qe,default:"$clear"},active:Boolean,centerAffix:{type:Boolean,default:void 0},color:String,baseColor:String,dirty:Boolean,disabled:{type:Boolean,default:null},error:Boolean,flat:Boolean,label:String,persistentClear:Boolean,prependInnerIcon:qe,reverse:Boolean,singleLine:Boolean,variant:{type:String,default:"filled",validator:t=>Ehe.includes(t)},"onClick:clear":Ri(),"onClick:appendInner":Ri(),"onClick:prependInner":Ri(),...je(),...h0(),...On(),...Ft()},"VField"),Gh=pe()({name:"VField",inheritAttrs:!1,props:{id:String,...Yh(),...ng()},emits:{"update:focused":t=>!0,"update:modelValue":t=>!0},setup(t,e){let{attrs:n,emit:i,slots:s}=e;const{themeClasses:r}=Qt(t),{loaderClasses:a}=Qv(t),{focusClasses:o,isFocused:l,focus:u,blur:d}=eo(t),{InputIcon:c}=J4(t),{roundedClasses:f}=qn(t),{rtlClasses:h}=Ti(),g=R(()=>t.dirty||t.active),v=R(()=>!t.singleLine&&!!(t.label||s.label)),p=zi(),_=R(()=>t.id||`input-${p}`),b=R(()=>`${_.value}-messages`),x=Y(),k=Y(),I=Y(),E=R(()=>["plain","underlined"].includes(t.variant)),{backgroundColorClasses:T,backgroundColorStyles:S}=an(ve(t,"bgColor")),{textColorClasses:w,textColorStyles:P}=Ui(R(()=>t.error||t.disabled?void 0:g.value&&l.value?t.color:t.baseColor));we(g,N=>{if(v.value){const B=x.value.$el,H=k.value.$el;requestAnimationFrame(()=>{const G=PP(B),z=H.getBoundingClientRect(),X=z.x-G.x,W=z.y-G.y-(G.height/2-z.height/2),Z=z.width/.75,ee=Math.abs(Z-G.width)>1?{maxWidth:Ne(Z)}:void 0,le=getComputedStyle(B),ue=getComputedStyle(H),ce=parseFloat(le.transitionDuration)*1e3||150,se=parseFloat(ue.getPropertyValue("--v-field-label-scale")),$=ue.getPropertyValue("color");B.style.visibility="visible",H.style.visibility="hidden",Vu(B,{transform:`translate(${X}px, ${W}px) scale(${se})`,color:$,...ee},{duration:ce,easing:Fm,direction:N?"normal":"reverse"}).finished.then(()=>{B.style.removeProperty("visibility"),H.style.removeProperty("visibility")})})}},{flush:"post"});const C=R(()=>({isActive:g,isFocused:l,controlRef:I,blur:d,focus:u}));function D(N){N.target!==document.activeElement&&N.preventDefault()}function A(N){var B;N.key!=="Enter"&&N.key!==" "||(N.preventDefault(),N.stopPropagation(),(B=t["onClick:clear"])==null||B.call(t,new MouseEvent("click")))}return xe(()=>{var X,W,Z;const N=t.variant==="outlined",B=!!(s["prepend-inner"]||t.prependInnerIcon),H=!!(t.clearable||s.clear),G=!!(s["append-inner"]||t.appendInnerIcon||H),z=()=>s.label?s.label({...C.value,label:t.label,props:{for:_.value}}):t.label;return m("div",J({class:["v-field",{"v-field--active":g.value,"v-field--appended":G,"v-field--center-affix":t.centerAffix??!E.value,"v-field--disabled":t.disabled,"v-field--dirty":t.dirty,"v-field--error":t.error,"v-field--flat":t.flat,"v-field--has-background":!!t.bgColor,"v-field--persistent-clear":t.persistentClear,"v-field--prepended":B,"v-field--reverse":t.reverse,"v-field--single-line":t.singleLine,"v-field--no-label":!z(),[`v-field--variant-${t.variant}`]:!0},r.value,T.value,o.value,a.value,f.value,h.value,t.class],style:[S.value,t.style],onClick:D},n),[m("div",{class:"v-field__overlay"},null),m(Jv,{name:"v-field",active:!!t.loading,color:t.error?"error":typeof t.loading=="string"?t.loading:t.color},{default:s.loader}),B&&m("div",{key:"prepend",class:"v-field__prepend-inner"},[t.prependInnerIcon&&m(c,{key:"prepend-icon",name:"prependInner"},null),(X=s["prepend-inner"])==null?void 0:X.call(s,C.value)]),m("div",{class:"v-field__field","data-no-activator":""},[["filled","solo","solo-inverted","solo-filled"].includes(t.variant)&&v.value&&m(Nf,{key:"floating-label",ref:k,class:[w.value],floating:!0,for:_.value,style:P.value},{default:()=>[z()]}),v.value&&m(Nf,{key:"label",ref:x,for:_.value},{default:()=>[z()]}),(W=s.default)==null?void 0:W.call(s,{...C.value,props:{id:_.value,class:"v-field__input","aria-describedby":b.value},focus:u,blur:d})]),H&&m(eC,{key:"clear"},{default:()=>[In(m("div",{class:"v-field__clearable",onMousedown:ee=>{ee.preventDefault(),ee.stopPropagation()}},[m(ht,{defaults:{VIcon:{icon:t.clearIcon}}},{default:()=>[s.clear?s.clear({...C.value,props:{onKeydown:A,onFocus:u,onBlur:d,onClick:t["onClick:clear"]}}):m(c,{name:"clear",onKeydown:A,onFocus:u,onBlur:d},null)]})]),[[_a,t.dirty]])]}),G&&m("div",{key:"append",class:"v-field__append-inner"},[(Z=s["append-inner"])==null?void 0:Z.call(s,C.value),t.appendInnerIcon&&m(c,{key:"append-icon",name:"appendInner"},null)]),m("div",{class:["v-field__outline",w.value],style:P.value},[N&&m(Ie,null,[m("div",{class:"v-field__outline__start"},null),v.value&&m("div",{class:"v-field__outline__notch"},[m(Nf,{ref:k,floating:!0,for:_.value},{default:()=>[z()]})]),m("div",{class:"v-field__outline__end"},null)]),E.value&&v.value&&m(Nf,{ref:k,floating:!0,for:_.value},{default:()=>[z()]})])])}),{controlRef:I}}});function hC(t){const e=Object.keys(Gh.props).filter(n=>!Hb(n)&&n!=="class"&&n!=="style");return SP(t,e)}const Ihe=["color","file","time","date","datetime-local","week","month"],qh=te({autofocus:Boolean,counter:[Boolean,Number,String],counterValue:[Number,Function],prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,suffix:String,role:String,type:{type:String,default:"text"},modelModifiers:Object,...qo(),...ng()},"VTextField"),ma=pe()({name:"VTextField",directives:{Intersect:Kv},inheritAttrs:!1,props:qh(),emits:{"click:control":t=>!0,"mousedown:control":t=>!0,"update:focused":t=>!0,"update:modelValue":t=>!0},setup(t,e){let{attrs:n,emit:i,slots:s}=e;const r=Ye(t,"modelValue"),{isFocused:a,focus:o,blur:l}=eo(t),u=R(()=>typeof t.counterValue=="function"?t.counterValue(r.value):typeof t.counterValue=="number"?t.counterValue:(r.value??"").toString().length),d=R(()=>{if(n.maxlength)return n.maxlength;if(!(!t.counter||typeof t.counter!="number"&&typeof t.counter!="string"))return t.counter}),c=R(()=>["plain","underlined"].includes(t.variant));function f(E,T){var S,w;!t.autofocus||!E||(w=(S=T[0].target)==null?void 0:S.focus)==null||w.call(S)}const h=Y(),g=Y(),v=Y(),p=R(()=>Ihe.includes(t.type)||t.persistentPlaceholder||a.value||t.active);function _(){var E;v.value!==document.activeElement&&((E=v.value)==null||E.focus()),a.value||o()}function b(E){i("mousedown:control",E),E.target!==v.value&&(_(),E.preventDefault())}function x(E){_(),i("click:control",E)}function k(E){E.stopPropagation(),_(),pt(()=>{r.value=null,TP(t["onClick:clear"],E)})}function I(E){var S;const T=E.target;if(r.value=T.value,(S=t.modelModifiers)!=null&&S.trim&&["text","search","password","tel","url"].includes(t.type)){const w=[T.selectionStart,T.selectionEnd];pt(()=>{T.selectionStart=w[0],T.selectionEnd=w[1]})}}return xe(()=>{const E=!!(s.counter||t.counter!==!1&&t.counter!=null),T=!!(E||s.details),[S,w]=zo(n),{modelValue:P,...C}=rs.filterProps(t),D=hC(t);return m(rs,J({ref:h,modelValue:r.value,"onUpdate:modelValue":A=>r.value=A,class:["v-text-field",{"v-text-field--prefixed":t.prefix,"v-text-field--suffixed":t.suffix,"v-input--plain-underlined":c.value},t.class],style:t.style},S,C,{centerAffix:!c.value,focused:a.value}),{...s,default:A=>{let{id:N,isDisabled:B,isDirty:H,isReadonly:G,isValid:z}=A;return m(Gh,J({ref:g,onMousedown:b,onClick:x,"onClick:clear":k,"onClick:prependInner":t["onClick:prependInner"],"onClick:appendInner":t["onClick:appendInner"],role:t.role},D,{id:N.value,active:p.value||H.value,dirty:H.value||t.dirty,disabled:B.value,focused:a.value,error:z.value===!1}),{...s,default:X=>{let{props:{class:W,...Z}}=X;const ee=In(m("input",J({ref:v,value:r.value,onInput:I,autofocus:t.autofocus,readonly:G.value,disabled:B.value,name:t.name,placeholder:t.placeholder,size:1,type:t.type,onFocus:_,onBlur:l},Z,w),null),[[nr("intersect"),{handler:f},null,{once:!0}]]);return m(Ie,null,[t.prefix&&m("span",{class:"v-text-field__prefix"},[m("span",{class:"v-text-field__prefix__text"},[t.prefix])]),s.default?m("div",{class:W,"data-no-activator":""},[s.default(),ee]):$a(ee,{class:W}),t.suffix&&m("span",{class:"v-text-field__suffix"},[m("span",{class:"v-text-field__suffix__text"},[t.suffix])])])}})},details:T?A=>{var N;return m(Ie,null,[(N=s.details)==null?void 0:N.call(s,A),E&&m(Ie,null,[m("span",null,null),m(g0,{active:t.persistentCounter||a.value,value:u.value,max:d.value,disabled:t.disabled},s.counter)])])}:void 0})}),Pr({},h,g,v)}}),Dhe=te({renderless:Boolean,...je()},"VVirtualScrollItem"),M5=pe()({name:"VVirtualScrollItem",inheritAttrs:!1,props:Dhe(),emits:{"update:height":t=>!0},setup(t,e){let{attrs:n,emit:i,slots:s}=e;const{resizeRef:r,contentRect:a}=ha(void 0,"border");we(()=>{var o;return(o=a.value)==null?void 0:o.height},o=>{o!=null&&i("update:height",o)}),xe(()=>{var o,l;return t.renderless?m(Ie,null,[(o=s.default)==null?void 0:o.call(s,{itemRef:r})]):m("div",J({ref:r,class:["v-virtual-scroll__item",t.class],style:t.style},n),[(l=s.default)==null?void 0:l.call(s)])})}}),Ahe=-1,Ohe=1,r1=100,V5=te({itemHeight:{type:[Number,String],default:null},height:[Number,String]},"virtual");function L5(t,e){const n=Sr(),i=Me(0);yn(()=>{i.value=parseFloat(t.itemHeight||0)});const s=Me(0),r=Me(Math.ceil((parseInt(t.height)||n.height.value)/(i.value||16))||1),a=Me(0),o=Me(0),l=Y(),u=Y();let d=0;const{resizeRef:c,contentRect:f}=ha();yn(()=>{c.value=l.value});const h=R(()=>{var W;return l.value===document.documentElement?n.height.value:((W=f.value)==null?void 0:W.height)||parseInt(t.height)||0}),g=R(()=>!!(l.value&&u.value&&h.value&&i.value));let v=Array.from({length:e.value.length}),p=Array.from({length:e.value.length});const _=Me(0);let b=-1;function x(W){return v[W]||i.value}const k=hne(()=>{const W=performance.now();p[0]=0;const Z=e.value.length;for(let ee=1;ee<=Z-1;ee++)p[ee]=(p[ee-1]||0)+x(ee-1);_.value=Math.max(_.value,performance.now()-W)},_),I=we(g,W=>{W&&(I(),d=u.value.offsetTop,k.immediate(),H(),~b&&pt(()=>{Gt&&window.requestAnimationFrame(()=>{z(b),b=-1})}))});as(()=>{k.clear()});function E(W,Z){const ee=v[W],le=i.value;i.value=le?Math.min(i.value,Z):Z,(ee!==Z||le!==i.value)&&(v[W]=Z,k())}function T(W){return W=$n(W,0,e.value.length-1),p[W]||0}function S(W){return Rhe(p,W)}let w=0,P=0,C=0;we(h,(W,Z)=>{Z&&(H(),W<Z&&requestAnimationFrame(()=>{P=0,H()}))});let D=-1;function A(){if(!l.value||!u.value)return;const W=l.value.scrollTop,Z=performance.now();Z-C>500?(P=Math.sign(W-w),d=u.value.offsetTop):P=W-w,w=W,C=Z,window.clearTimeout(D),D=window.setTimeout(N,500),H()}function N(){!l.value||!u.value||(P=0,C=0,window.clearTimeout(D),H())}let B=-1;function H(){cancelAnimationFrame(B),B=requestAnimationFrame(G)}function G(){if(!l.value||!h.value)return;const W=w-d,Z=Math.sign(P),ee=Math.max(0,W-r1),le=$n(S(ee),0,e.value.length),ue=W+h.value+r1,ce=$n(S(ue)+1,le+1,e.value.length);if((Z!==Ahe||le<s.value)&&(Z!==Ohe||ce>r.value)){const se=T(s.value)-T(le),$=T(ce)-T(r.value);Math.max(se,$)>r1?(s.value=le,r.value=ce):(le<=0&&(s.value=le),ce>=e.value.length&&(r.value=ce))}a.value=T(s.value),o.value=T(e.value.length)-T(r.value)}function z(W){const Z=T(W);!l.value||W&&!Z?b=W:l.value.scrollTop=Z}const X=R(()=>e.value.slice(s.value,r.value).map((W,Z)=>({raw:W,index:Z+s.value,key:Ub(W)&&"value"in W?W.value:Z+s.value})));return we(e,()=>{v=Array.from({length:e.value.length}),p=Array.from({length:e.value.length}),k.immediate(),H()},{deep:!0}),{calculateVisibleItems:H,containerRef:l,markerRef:u,computedItems:X,paddingTop:a,paddingBottom:o,scrollToIndex:z,handleScroll:A,handleScrollend:N,handleItemResize:E}}function Rhe(t,e){let n=t.length-1,i=0,s=0,r=null,a=-1;if(t[n]<e)return n;for(;i<=n;)if(s=i+n>>1,r=t[s],r>e)n=s-1;else if(r<e)a=s,i=s+1;else return r===e?s:i;return a}const Mhe=te({items:{type:Array,default:()=>[]},renderless:Boolean,...V5(),...je(),...mi()},"VVirtualScroll"),p0=pe()({name:"VVirtualScroll",props:Mhe(),setup(t,e){let{slots:n}=e;const i=Gn("VVirtualScroll"),{dimensionStyles:s}=vi(t),{calculateVisibleItems:r,containerRef:a,markerRef:o,handleScroll:l,handleScrollend:u,handleItemResize:d,scrollToIndex:c,paddingTop:f,paddingBottom:h,computedItems:g}=L5(t,ve(t,"items"));return Ns(()=>t.renderless,()=>{function v(){var b,x;const _=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)?"addEventListener":"removeEventListener";a.value===document.documentElement?(document[_]("scroll",l,{passive:!0}),document[_]("scrollend",u)):((b=a.value)==null||b[_]("scroll",l,{passive:!0}),(x=a.value)==null||x[_]("scrollend",u))}Pt(()=>{a.value=DP(i.vnode.el,!0),v(!0)}),as(v)}),xe(()=>{const v=g.value.map(p=>m(M5,{key:p.key,renderless:t.renderless,"onUpdate:height":_=>d(p.index,_)},{default:_=>{var b;return(b=n.default)==null?void 0:b.call(n,{item:p.raw,index:p.index,..._})}}));return t.renderless?m(Ie,null,[m("div",{ref:o,class:"v-virtual-scroll__spacer",style:{paddingTop:Ne(f.value)}},null),v,m("div",{class:"v-virtual-scroll__spacer",style:{paddingBottom:Ne(h.value)}},null)]):m("div",{ref:a,class:["v-virtual-scroll",t.class],onScrollPassive:l,onScrollend:u,style:[s.value,t.style]},[m("div",{ref:o,class:"v-virtual-scroll__container",style:{paddingTop:Ne(f.value),paddingBottom:Ne(h.value)}},[v])])}),{calculateVisibleItems:r,scrollToIndex:c}}});function fC(t,e){const n=Me(!1);let i;function s(o){cancelAnimationFrame(i),n.value=!0,i=requestAnimationFrame(()=>{i=requestAnimationFrame(()=>{n.value=!1})})}async function r(){await new Promise(o=>requestAnimationFrame(o)),await new Promise(o=>requestAnimationFrame(o)),await new Promise(o=>requestAnimationFrame(o)),await new Promise(o=>{if(n.value){const l=we(n,()=>{l(),o()})}else o()})}async function a(o){var d,c;if(o.key==="Tab"&&((d=e.value)==null||d.focus()),!["PageDown","PageUp","Home","End"].includes(o.key))return;const l=(c=t.value)==null?void 0:c.$el;if(!l)return;(o.key==="Home"||o.key==="End")&&l.scrollTo({top:o.key==="Home"?0:l.scrollHeight,behavior:"smooth"}),await r();const u=l.querySelectorAll(":scope > :not(.v-virtual-scroll__spacer)");if(o.key==="PageDown"||o.key==="Home"){const f=l.getBoundingClientRect().top;for(const h of u)if(h.getBoundingClientRect().top>=f){h.focus();break}}else{const f=l.getBoundingClientRect().bottom;for(const h of[...u].reverse())if(h.getBoundingClientRect().bottom<=f){h.focus();break}}}return{onScrollPassive:s,onKeydown:a}}const mC=te({chips:Boolean,closableChips:Boolean,closeText:{type:String,default:"$vuetify.close"},openText:{type:String,default:"$vuetify.open"},eager:Boolean,hideNoData:Boolean,hideSelected:Boolean,listProps:{type:Object},menu:Boolean,menuIcon:{type:qe,default:"$dropdown"},menuProps:{type:Object},multiple:Boolean,noDataText:{type:String,default:"$vuetify.noDataText"},openOnClear:Boolean,itemColor:String,...b5({itemChildren:!1})},"Select"),Vhe=te({...mC(),...tn(qh({modelValue:null,role:"combobox"}),["validationValue","dirty","appendInnerIcon"]),...ya({transition:{component:l0}})},"VSelect"),vC=pe()({name:"VSelect",props:Vhe(),emits:{"update:focused":t=>!0,"update:modelValue":t=>!0,"update:menu":t=>!0},setup(t,e){let{slots:n}=e;const{t:i}=gn(),s=Y(),r=Y(),a=Y(),o=Ye(t,"menu"),l=R({get:()=>o.value,set:X=>{var W;o.value&&!X&&((W=r.value)!=null&&W.openChildren.size)||(o.value=X)}}),{items:u,transformIn:d,transformOut:c}=lC(t),f=Ye(t,"modelValue",[],X=>d(X===null?[null]:bn(X)),X=>{const W=c(X);return t.multiple?W:W[0]??null}),h=R(()=>typeof t.counterValue=="function"?t.counterValue(f.value):typeof t.counterValue=="number"?t.counterValue:f.value.length),g=eg(t),v=R(()=>f.value.map(X=>X.value)),p=Me(!1),_=R(()=>l.value?t.closeText:t.openText);let b="",x;const k=R(()=>t.hideSelected?u.value.filter(X=>!f.value.some(W=>t.valueComparator(W,X))):u.value),I=R(()=>t.hideNoData&&!k.value.length||g.isReadonly.value||g.isDisabled.value),E=R(()=>{var X;return{...t.menuProps,activatorProps:{...((X=t.menuProps)==null?void 0:X.activatorProps)||{},"aria-haspopup":"listbox"}}}),T=Y(),S=fC(T,s);function w(X){t.openOnClear&&(l.value=!0)}function P(){I.value||(l.value=!l.value)}function C(X){F_(X)&&D(X)}function D(X){var le,ue;if(!X.key||g.isReadonly.value)return;["Enter"," ","ArrowDown","ArrowUp","Home","End"].includes(X.key)&&X.preventDefault(),["Enter","ArrowDown"," "].includes(X.key)&&(l.value=!0),["Escape","Tab"].includes(X.key)&&(l.value=!1),X.key==="Home"?(le=T.value)==null||le.focus("first"):X.key==="End"&&((ue=T.value)==null||ue.focus("last"));const W=1e3;if(t.multiple||!F_(X))return;const Z=performance.now();Z-x>W&&(b=""),b+=X.key.toLowerCase(),x=Z;const ee=u.value.find(ce=>ce.title.toLowerCase().startsWith(b));if(ee!==void 0){f.value=[ee];const ce=k.value.indexOf(ee);Gt&&window.requestAnimationFrame(()=>{var se;ce>=0&&((se=a.value)==null||se.scrollToIndex(ce))})}}function A(X){let W=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!X.props.disabled)if(t.multiple){const Z=f.value.findIndex(le=>t.valueComparator(le.value,X.value)),ee=W??!~Z;if(~Z){const le=ee?[...f.value,X]:[...f.value];le.splice(Z,1),f.value=le}else ee&&(f.value=[...f.value,X])}else{const Z=W!==!1;f.value=Z?[X]:[],pt(()=>{l.value=!1})}}function N(X){var W;(W=T.value)!=null&&W.$el.contains(X.relatedTarget)||(l.value=!1)}function B(){var X;t.eager&&((X=a.value)==null||X.calculateVisibleItems())}function H(){var X;p.value&&((X=s.value)==null||X.focus())}function G(X){p.value=!0}function z(X){if(X==null)f.value=[];else if(ah(s.value,":autofill")||ah(s.value,":-webkit-autofill")){const W=u.value.find(Z=>Z.title===X);W&&A(W)}else s.value&&(s.value.value="")}return we(l,()=>{if(!t.hideSelected&&l.value&&f.value.length){const X=k.value.findIndex(W=>f.value.some(Z=>t.valueComparator(Z.value,W.value)));Gt&&window.requestAnimationFrame(()=>{var W;X>=0&&((W=a.value)==null||W.scrollToIndex(X))})}}),we(()=>t.items,(X,W)=>{l.value||p.value&&!W.length&&X.length&&(l.value=!0)}),xe(()=>{const X=!!(t.chips||n.chip),W=!!(!t.hideNoData||k.value.length||n["prepend-item"]||n["append-item"]||n["no-data"]),Z=f.value.length>0,ee=ma.filterProps(t),le=Z||!p.value&&t.label&&!t.persistentPlaceholder?void 0:t.placeholder;return m(ma,J({ref:s},ee,{modelValue:f.value.map(ue=>ue.props.value).join(", "),"onUpdate:modelValue":z,focused:p.value,"onUpdate:focused":ue=>p.value=ue,validationValue:f.externalValue,counterValue:h.value,dirty:Z,class:["v-select",{"v-select--active-menu":l.value,"v-select--chips":!!t.chips,[`v-select--${t.multiple?"multiple":"single"}`]:!0,"v-select--selected":f.value.length,"v-select--selection-slot":!!n.selection},t.class],style:t.style,inputmode:"none",placeholder:le,"onClick:clear":w,"onMousedown:control":P,onBlur:N,onKeydown:D,"aria-label":i(_.value),title:i(_.value)}),{...n,default:()=>m(Ie,null,[m(cc,J({ref:r,modelValue:l.value,"onUpdate:modelValue":ue=>l.value=ue,activator:"parent",contentClass:"v-select__content",disabled:I.value,eager:t.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:t.transition,onAfterEnter:B,onAfterLeave:H},E.value),{default:()=>[W&&m(hh,J({ref:T,selected:v.value,selectStrategy:t.multiple?"independent":"single-independent",onMousedown:ue=>ue.preventDefault(),onKeydown:C,onFocusin:G,tabindex:"-1","aria-live":"polite",color:t.itemColor??t.color},S,t.listProps),{default:()=>{var ue,ce,se;return[(ue=n["prepend-item"])==null?void 0:ue.call(n),!k.value.length&&!t.hideNoData&&(((ce=n["no-data"])==null?void 0:ce.call(n))??m(br,{key:"no-data",title:i(t.noDataText)},null)),m(p0,{ref:a,renderless:!0,items:k.value},{default:$=>{var ye;let{item:q,index:re,itemRef:ge}=$;const fe=J(q.props,{ref:ge,key:q.value,onClick:()=>A(q,null)});return((ye=n.item)==null?void 0:ye.call(n,{item:q,index:re,props:fe}))??m(br,J(fe,{role:"option"}),{prepend:L=>{let{isSelected:F}=L;return m(Ie,null,[t.multiple&&!t.hideSelected?m(Wa,{key:q.value,modelValue:F,ripple:!1,tabindex:"-1"},null):void 0,q.props.prependAvatar&&m($s,{image:q.props.prependAvatar},null),q.props.prependIcon&&m(jt,{icon:q.props.prependIcon},null)])}})}}),(se=n["append-item"])==null?void 0:se.call(n)]}})]}),f.value.map((ue,ce)=>{function se(ge){ge.stopPropagation(),ge.preventDefault(),A(ue,!1)}const $={"onClick:close":se,onKeydown(ge){ge.key!=="Enter"&&ge.key!==" "||(ge.preventDefault(),ge.stopPropagation(),se(ge))},onMousedown(ge){ge.preventDefault(),ge.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0},q=X?!!n.chip:!!n.selection,re=q?zb(X?n.chip({item:ue,index:ce,props:$}):n.selection({item:ue,index:ce})):void 0;if(!(q&&!re))return m("div",{key:ue.value,class:"v-select__selection"},[X?n.chip?m(ht,{key:"chip-defaults",defaults:{VChip:{closable:t.closableChips,size:"small",text:ue.title}}},{default:()=>[re]}):m(Hc,J({key:"chip",closable:t.closableChips,size:"small",text:ue.title,disabled:ue.props.disabled},$),null):re??m("span",{class:"v-select__selection-text"},[ue.title,t.multiple&&ce<f.value.length-1&&m("span",{class:"v-select__selection-comma"},[Ee(",")])])])})]),"append-inner":function(){var $;for(var ue=arguments.length,ce=new Array(ue),se=0;se<ue;se++)ce[se]=arguments[se];return m(Ie,null,[($=n["append-inner"])==null?void 0:$.call(n,...ce),t.menuIcon?m(jt,{class:"v-select__menu-icon",icon:t.menuIcon},null):void 0])}})}),Pr({isFocused:p,menu:l,select:A},s)}}),Lhe=(t,e,n)=>t==null||e==null?-1:t.toString().toLocaleLowerCase().indexOf(e.toString().toLocaleLowerCase()),Xh=te({customFilter:Function,customKeyFilter:Object,filterKeys:[Array,String],filterMode:{type:String,default:"intersection"},noFilter:Boolean},"filter");function Nhe(t,e,n){var o;const i=[],s=(n==null?void 0:n.default)??Lhe,r=n!=null&&n.filterKeys?bn(n.filterKeys):!1,a=Object.keys((n==null?void 0:n.customKeyFilter)??{}).length;if(!(t!=null&&t.length))return i;e:for(let l=0;l<t.length;l++){const[u,d=u]=bn(t[l]),c={},f={};let h=-1;if((e||a>0)&&!(n!=null&&n.noFilter)){if(typeof u=="object"){const p=r||Object.keys(d);for(const _ of p){const b=ii(d,_),x=(o=n==null?void 0:n.customKeyFilter)==null?void 0:o[_];if(h=x?x(b,e,u):s(b,e,u),h!==-1&&h!==!1)x?c[_]=h:f[_]=h;else if((n==null?void 0:n.filterMode)==="every")continue e}}else h=s(u,e,u),h!==-1&&h!==!1&&(f.title=h);const g=Object.keys(f).length,v=Object.keys(c).length;if(!g&&!v||(n==null?void 0:n.filterMode)==="union"&&v!==a&&!g||(n==null?void 0:n.filterMode)==="intersection"&&(v!==a||!g))continue}i.push({index:l,matches:{...f,...c}})}return i}function Kh(t,e,n,i){const s=Y([]),r=Y(new Map),a=R(()=>i!=null&&i.transform?ie(e).map(l=>[l,i.transform(l)]):ie(e));yn(()=>{const l=typeof n=="function"?n():ie(n),u=typeof l!="string"&&typeof l!="number"?"":String(l),d=Nhe(a.value,u,{customKeyFilter:{...t.customKeyFilter,...ie(i==null?void 0:i.customKeyFilter)},default:t.customFilter,filterKeys:t.filterKeys,filterMode:t.filterMode,noFilter:t.noFilter}),c=ie(e),f=[],h=new Map;d.forEach(g=>{let{index:v,matches:p}=g;const _=c[v];f.push(_),h.set(_.value,p)}),s.value=f,r.value=h});function o(l){return r.value.get(l.value)}return{filteredItems:s,filteredMatches:r,getMatches:o}}function Fhe(t,e,n){if(e==null)return t;if(Array.isArray(e))throw new Error("Multiple matches is not implemented");return typeof e=="number"&&~e?m(Ie,null,[m("span",{class:"v-autocomplete__unmask"},[t.substr(0,e)]),m("span",{class:"v-autocomplete__mask"},[t.substr(e,n)]),m("span",{class:"v-autocomplete__unmask"},[t.substr(e+n)])]):t}const Bhe=te({autoSelectFirst:{type:[Boolean,String]},clearOnSelect:Boolean,search:String,...Xh({filterKeys:["title"]}),...mC(),...tn(qh({modelValue:null,role:"combobox"}),["validationValue","dirty","appendInnerIcon"]),...ya({transition:!1})},"VAutocomplete"),jhe=pe()({name:"VAutocomplete",props:Bhe(),emits:{"update:focused":t=>!0,"update:search":t=>!0,"update:modelValue":t=>!0,"update:menu":t=>!0},setup(t,e){let{slots:n}=e;const{t:i}=gn(),s=Y(),r=Me(!1),a=Me(!0),o=Me(!1),l=Y(),u=Y(),d=Ye(t,"menu"),c=R({get:()=>d.value,set:fe=>{var ye;d.value&&!fe&&((ye=l.value)!=null&&ye.openChildren.size)||(d.value=fe)}}),f=Me(-1),h=R(()=>{var fe;return(fe=s.value)==null?void 0:fe.color}),g=R(()=>c.value?t.closeText:t.openText),{items:v,transformIn:p,transformOut:_}=lC(t),{textColorClasses:b,textColorStyles:x}=Ui(h),k=Ye(t,"search",""),I=Ye(t,"modelValue",[],fe=>p(fe===null?[null]:bn(fe)),fe=>{const ye=_(fe);return t.multiple?ye:ye[0]??null}),E=R(()=>typeof t.counterValue=="function"?t.counterValue(I.value):typeof t.counterValue=="number"?t.counterValue:I.value.length),T=eg(t),{filteredItems:S,getMatches:w}=Kh(t,v,()=>a.value?"":k.value),P=R(()=>t.hideSelected?S.value.filter(fe=>!I.value.some(ye=>ye.value===fe.value)):S.value),C=R(()=>!!(t.chips||n.chip)),D=R(()=>C.value||!!n.selection),A=R(()=>I.value.map(fe=>fe.props.value)),N=R(()=>{var ye;return(t.autoSelectFirst===!0||t.autoSelectFirst==="exact"&&k.value===((ye=P.value[0])==null?void 0:ye.title))&&P.value.length>0&&!a.value&&!o.value}),B=R(()=>t.hideNoData&&!P.value.length||T.isReadonly.value||T.isDisabled.value),H=Y(),G=fC(H,s);function z(fe){t.openOnClear&&(c.value=!0),k.value=""}function X(){B.value||(c.value=!0)}function W(fe){B.value||(r.value&&(fe.preventDefault(),fe.stopPropagation()),c.value=!c.value)}function Z(fe){var ye;F_(fe)&&((ye=s.value)==null||ye.focus())}function ee(fe){var F,K,de;if(T.isReadonly.value)return;const ye=s.value.selectionStart,L=I.value.length;if((f.value>-1||["Enter","ArrowDown","ArrowUp"].includes(fe.key))&&fe.preventDefault(),["Enter","ArrowDown"].includes(fe.key)&&(c.value=!0),["Escape"].includes(fe.key)&&(c.value=!1),N.value&&["Enter","Tab"].includes(fe.key)&&!I.value.some(ne=>{let{value:Se}=ne;return Se===P.value[0].value})&&ge(P.value[0]),fe.key==="ArrowDown"&&N.value&&((F=H.value)==null||F.focus("next")),["Backspace","Delete"].includes(fe.key)){if(!t.multiple&&D.value&&I.value.length>0&&!k.value)return ge(I.value[0],!1);if(~f.value){const ne=f.value;ge(I.value[f.value],!1),f.value=ne>=L-1?L-2:ne}else fe.key==="Backspace"&&!k.value&&(f.value=L-1)}if(t.multiple){if(fe.key==="ArrowLeft"){if(f.value<0&&ye>0)return;const ne=f.value>-1?f.value-1:L-1;I.value[ne]?f.value=ne:(f.value=-1,s.value.setSelectionRange((K=k.value)==null?void 0:K.length,(de=k.value)==null?void 0:de.length))}if(fe.key==="ArrowRight"){if(f.value<0)return;const ne=f.value+1;I.value[ne]?f.value=ne:(f.value=-1,s.value.setSelectionRange(0,0))}}}function le(fe){if(ah(s.value,":autofill")||ah(s.value,":-webkit-autofill")){const ye=v.value.find(L=>L.title===fe.target.value);ye&&ge(ye)}}function ue(){var fe;t.eager&&((fe=u.value)==null||fe.calculateVisibleItems())}function ce(){var fe;r.value&&(a.value=!0,(fe=s.value)==null||fe.focus())}function se(fe){r.value=!0,setTimeout(()=>{o.value=!0})}function $(fe){o.value=!1}function q(fe){(fe==null||fe===""&&!t.multiple&&!D.value)&&(I.value=[])}const re=Me(!1);function ge(fe){let ye=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!(!fe||fe.props.disabled))if(t.multiple){const L=I.value.findIndex(K=>t.valueComparator(K.value,fe.value)),F=ye??!~L;if(~L){const K=F?[...I.value,fe]:[...I.value];K.splice(L,1),I.value=K}else F&&(I.value=[...I.value,fe]);t.clearOnSelect&&(k.value="")}else{const L=ye!==!1;I.value=L?[fe]:[],k.value=L&&!D.value?fe.title:"",pt(()=>{c.value=!1,a.value=!0})}}return we(r,(fe,ye)=>{var L;fe!==ye&&(fe?(re.value=!0,k.value=t.multiple||D.value?"":String(((L=I.value.at(-1))==null?void 0:L.props.title)??""),a.value=!0,pt(()=>re.value=!1)):(!t.multiple&&k.value==null&&(I.value=[]),c.value=!1,I.value.some(F=>{let{title:K}=F;return K===k.value})||(k.value=""),f.value=-1))}),we(k,fe=>{!r.value||re.value||(fe&&(c.value=!0),a.value=!fe)}),we(c,()=>{if(!t.hideSelected&&c.value&&I.value.length){const fe=P.value.findIndex(ye=>I.value.some(L=>ye.value===L.value));Gt&&window.requestAnimationFrame(()=>{var ye;fe>=0&&((ye=u.value)==null||ye.scrollToIndex(fe))})}}),we(()=>t.items,(fe,ye)=>{c.value||r.value&&!ye.length&&fe.length&&(c.value=!0)}),xe(()=>{const fe=!!(!t.hideNoData||P.value.length||n["prepend-item"]||n["append-item"]||n["no-data"]),ye=I.value.length>0,L=ma.filterProps(t);return m(ma,J({ref:s},L,{modelValue:k.value,"onUpdate:modelValue":[F=>k.value=F,q],focused:r.value,"onUpdate:focused":F=>r.value=F,validationValue:I.externalValue,counterValue:E.value,dirty:ye,onChange:le,class:["v-autocomplete",`v-autocomplete--${t.multiple?"multiple":"single"}`,{"v-autocomplete--active-menu":c.value,"v-autocomplete--chips":!!t.chips,"v-autocomplete--selection-slot":!!D.value,"v-autocomplete--selecting-index":f.value>-1},t.class],style:t.style,readonly:T.isReadonly.value,placeholder:ye?void 0:t.placeholder,"onClick:clear":z,"onMousedown:control":X,onKeydown:ee}),{...n,default:()=>m(Ie,null,[m(cc,J({ref:l,modelValue:c.value,"onUpdate:modelValue":F=>c.value=F,activator:"parent",contentClass:"v-autocomplete__content",disabled:B.value,eager:t.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:t.transition,onAfterEnter:ue,onAfterLeave:ce},t.menuProps),{default:()=>[fe&&m(hh,J({ref:H,selected:A.value,selectStrategy:t.multiple?"independent":"single-independent",onMousedown:F=>F.preventDefault(),onKeydown:Z,onFocusin:se,onFocusout:$,tabindex:"-1","aria-live":"polite",color:t.itemColor??t.color},G,t.listProps),{default:()=>{var F,K,de;return[(F=n["prepend-item"])==null?void 0:F.call(n),!P.value.length&&!t.hideNoData&&(((K=n["no-data"])==null?void 0:K.call(n))??m(br,{key:"no-data",title:i(t.noDataText)},null)),m(p0,{ref:u,renderless:!0,items:P.value},{default:ne=>{var Ce;let{item:Se,index:Ve,itemRef:ke}=ne;const Le=J(Se.props,{ref:ke,key:Se.value,active:N.value&&Ve===0?!0:void 0,onClick:()=>ge(Se,null)});return((Ce=n.item)==null?void 0:Ce.call(n,{item:Se,index:Ve,props:Le}))??m(br,J(Le,{role:"option"}),{prepend:Ge=>{let{isSelected:Be}=Ge;return m(Ie,null,[t.multiple&&!t.hideSelected?m(Wa,{key:Se.value,modelValue:Be,ripple:!1,tabindex:"-1"},null):void 0,Se.props.prependAvatar&&m($s,{image:Se.props.prependAvatar},null),Se.props.prependIcon&&m(jt,{icon:Se.props.prependIcon},null)])},title:()=>{var Ge,Be;return a.value?Se.title:Fhe(Se.title,(Ge=w(Se))==null?void 0:Ge.title,((Be=k.value)==null?void 0:Be.length)??0)}})}}),(de=n["append-item"])==null?void 0:de.call(n)]}})]}),I.value.map((F,K)=>{function de(ke){ke.stopPropagation(),ke.preventDefault(),ge(F,!1)}const ne={"onClick:close":de,onKeydown(ke){ke.key!=="Enter"&&ke.key!==" "||(ke.preventDefault(),ke.stopPropagation(),de(ke))},onMousedown(ke){ke.preventDefault(),ke.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0},Se=C.value?!!n.chip:!!n.selection,Ve=Se?zb(C.value?n.chip({item:F,index:K,props:ne}):n.selection({item:F,index:K})):void 0;if(!(Se&&!Ve))return m("div",{key:F.value,class:["v-autocomplete__selection",K===f.value&&["v-autocomplete__selection--selected",b.value]],style:K===f.value?x.value:{}},[C.value?n.chip?m(ht,{key:"chip-defaults",defaults:{VChip:{closable:t.closableChips,size:"small",text:F.title}}},{default:()=>[Ve]}):m(Hc,J({key:"chip",closable:t.closableChips,size:"small",text:F.title,disabled:F.props.disabled},ne),null):Ve??m("span",{class:"v-autocomplete__selection-text"},[F.title,t.multiple&&K<I.value.length-1&&m("span",{class:"v-autocomplete__selection-comma"},[Ee(",")])])])})]),"append-inner":function(){var ne;for(var F=arguments.length,K=new Array(F),de=0;de<F;de++)K[de]=arguments[de];return m(Ie,null,[(ne=n["append-inner"])==null?void 0:ne.call(n,...K),t.menuIcon?m(jt,{class:"v-autocomplete__menu-icon",icon:t.menuIcon,onMousedown:W,onClick:Cj,"aria-label":i(g.value),title:i(g.value),tabindex:"-1"},null):void 0])}})}),Pr({isFocused:r,isPristine:a,menu:c,search:k,filteredItems:S,select:ge},s)}}),$he=te({bordered:Boolean,color:String,content:[Number,String],dot:Boolean,floating:Boolean,icon:qe,inline:Boolean,label:{type:String,default:"$vuetify.badge"},max:[Number,String],modelValue:{type:Boolean,default:!0},offsetX:[Number,String],offsetY:[Number,String],textColor:String,...je(),...Yo({location:"top end"}),...On(),...yt(),...Ft(),...ya({transition:"scale-rotate-transition"})},"VBadge"),N5=pe()({name:"VBadge",inheritAttrs:!1,props:$he(),setup(t,e){const{backgroundColorClasses:n,backgroundColorStyles:i}=an(ve(t,"color")),{roundedClasses:s}=qn(t),{t:r}=gn(),{textColorClasses:a,textColorStyles:o}=Ui(ve(t,"textColor")),{themeClasses:l}=Gv(),{locationStyles:u}=Uc(t,!0,d=>(t.floating?t.dot?2:4:t.dot?8:12)+(["top","bottom"].includes(d)?+(t.offsetY??0):["left","right"].includes(d)?+(t.offsetX??0):0));return xe(()=>{const d=Number(t.content),c=!t.max||isNaN(d)?t.content:d<=+t.max?d:`${t.max}+`,[f,h]=Bx(e.attrs,["aria-atomic","aria-label","aria-live","role","title"]);return m(t.tag,J({class:["v-badge",{"v-badge--bordered":t.bordered,"v-badge--dot":t.dot,"v-badge--floating":t.floating,"v-badge--inline":t.inline},t.class]},h,{style:t.style}),{default:()=>{var g,v;return[m("div",{class:"v-badge__wrapper"},[(v=(g=e.slots).default)==null?void 0:v.call(g),m(Ts,{transition:t.transition},{default:()=>{var p,_;return[In(m("span",J({class:["v-badge__badge",l.value,n.value,s.value,a.value],style:[i.value,o.value,t.inline?{}:u.value],"aria-atomic":"true","aria-label":r(t.label,d),"aria-live":"polite",role:"status"},f),[t.dot?void 0:e.slots.badge?(_=(p=e.slots).badge)==null?void 0:_.call(p):t.icon?m(jt,{icon:t.icon},null):c]),[[_a,t.modelValue]])]}})])]}})}),{}}}),Uhe=te({color:String,density:String,...je()},"VBannerActions"),F5=pe()({name:"VBannerActions",props:Uhe(),setup(t,e){let{slots:n}=e;return Dn({VBtn:{color:t.color,density:t.density,slim:!0,variant:"text"}}),xe(()=>{var i;return m("div",{class:["v-banner-actions",t.class],style:t.style},[(i=n.default)==null?void 0:i.call(n)])}),{}}}),B5=Ja("v-banner-text"),Hhe=te({avatar:String,bgColor:String,color:String,icon:qe,lines:String,stacked:Boolean,sticky:Boolean,text:String,...ir(),...je(),...Ci(),...mi(),...Mc({mobile:null}),...Pi(),...Yo(),...Uh(),...On(),...yt(),...Ft()},"VBanner"),zhe=pe()({name:"VBanner",props:Hhe(),setup(t,e){let{slots:n}=e;const{backgroundColorClasses:i,backgroundColorStyles:s}=an(t,"bgColor"),{borderClasses:r}=Tr(t),{densityClasses:a}=ls(t),{displayClasses:o,mobile:l}=Sr(t),{dimensionStyles:u}=vi(t),{elevationClasses:d}=Wi(t),{locationStyles:c}=Uc(t),{positionClasses:f}=Hh(t),{roundedClasses:h}=qn(t),{themeClasses:g}=Qt(t),v=ve(t,"color"),p=ve(t,"density");Dn({VBannerActions:{color:v,density:p}}),xe(()=>{const _=!!(t.text||n.text),b=!!(t.avatar||t.icon),x=!!(b||n.prepend);return m(t.tag,{class:["v-banner",{"v-banner--stacked":t.stacked||l.value,"v-banner--sticky":t.sticky,[`v-banner--${t.lines}-line`]:!!t.lines},g.value,i.value,r.value,a.value,o.value,d.value,f.value,h.value,t.class],style:[s.value,u.value,c.value,t.style],role:"banner"},{default:()=>{var k;return[x&&m("div",{key:"prepend",class:"v-banner__prepend"},[n.prepend?m(ht,{key:"prepend-defaults",disabled:!b,defaults:{VAvatar:{color:v.value,density:p.value,icon:t.icon,image:t.avatar}}},n.prepend):m($s,{key:"prepend-avatar",color:v.value,density:p.value,icon:t.icon,image:t.avatar},null)]),m("div",{class:"v-banner__content"},[_&&m(B5,{key:"text"},{default:()=>{var I;return[((I=n.text)==null?void 0:I.call(n))??t.text]}}),(k=n.default)==null?void 0:k.call(n)]),n.actions&&m(F5,{key:"actions"},n.actions)]}})})}}),Whe=te({baseColor:String,bgColor:String,color:String,grow:Boolean,mode:{type:String,validator:t=>!t||["horizontal","shift"].includes(t)},height:{type:[Number,String],default:56},active:{type:Boolean,default:!0},...ir(),...je(),...Ci(),...Pi(),...On(),...Vc({name:"bottom-navigation"}),...yt({tag:"header"}),...Bc({selectedClass:"v-btn--selected"}),...Ft()},"VBottomNavigation"),Yhe=pe()({name:"VBottomNavigation",props:Whe(),emits:{"update:active":t=>!0,"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const{themeClasses:i}=Gv(),{borderClasses:s}=Tr(t),{backgroundColorClasses:r,backgroundColorStyles:a}=an(ve(t,"bgColor")),{densityClasses:o}=ls(t),{elevationClasses:l}=Wi(t),{roundedClasses:u}=qn(t),{ssrBootStyles:d}=Nc(),c=R(()=>Number(t.height)-(t.density==="comfortable"?8:0)-(t.density==="compact"?16:0)),f=Ye(t,"active",t.active),{layoutItemStyles:h}=Lc({id:t.name,order:R(()=>parseInt(t.order,10)),position:R(()=>"bottom"),layoutSize:R(()=>f.value?c.value:0),elementSize:c,active:f,absolute:ve(t,"absolute")});return au(t,nC),Dn({VBtn:{baseColor:ve(t,"baseColor"),color:ve(t,"color"),density:ve(t,"density"),stacked:R(()=>t.mode!=="horizontal"),variant:"text"}},{scoped:!0}),xe(()=>m(t.tag,{class:["v-bottom-navigation",{"v-bottom-navigation--active":f.value,"v-bottom-navigation--grow":t.grow,"v-bottom-navigation--shift":t.mode==="shift"},i.value,r.value,s.value,o.value,l.value,u.value,t.class],style:[a.value,h.value,{height:Ne(c.value)},d.value,t.style]},{default:()=>[n.default&&m("div",{class:"v-bottom-navigation__content"},[n.default()])]})),{}}}),j5=te({fullscreen:Boolean,retainFocus:{type:Boolean,default:!0},scrollable:Boolean,...tg({origin:"center center",scrollStrategy:"block",transition:{component:l0},zIndex:2400})},"VDialog"),yS=pe()({name:"VDialog",props:j5(),emits:{"update:modelValue":t=>!0,afterEnter:()=>!0,afterLeave:()=>!0},setup(t,e){let{emit:n,slots:i}=e;const s=Ye(t,"modelValue"),{scopeId:r}=zc(),a=Y();function o(d){var h,g;const c=d.relatedTarget,f=d.target;if(c!==f&&((h=a.value)!=null&&h.contentEl)&&((g=a.value)!=null&&g.globalTop)&&![document,a.value.contentEl].includes(f)&&!a.value.contentEl.contains(f)){const v=Nm(a.value.contentEl);if(!v.length)return;const p=v[0],_=v[v.length-1];c===p?_.focus():p.focus()}}Mi(()=>{document.removeEventListener("focusin",o)}),Gt&&we(()=>s.value&&t.retainFocus,d=>{d?document.addEventListener("focusin",o):document.removeEventListener("focusin",o)},{immediate:!0});function l(){var d;n("afterEnter"),(d=a.value)!=null&&d.contentEl&&!a.value.contentEl.contains(document.activeElement)&&a.value.contentEl.focus({preventScroll:!0})}function u(){n("afterLeave")}return we(s,async d=>{var c;d||(await pt(),(c=a.value.activatorEl)==null||c.focus({preventScroll:!0}))}),xe(()=>{const d=fa.filterProps(t),c=J({"aria-haspopup":"dialog"},t.activatorProps),f=J({tabindex:-1},t.contentProps);return m(fa,J({ref:a,class:["v-dialog",{"v-dialog--fullscreen":t.fullscreen,"v-dialog--scrollable":t.scrollable},t.class],style:t.style},d,{modelValue:s.value,"onUpdate:modelValue":h=>s.value=h,"aria-modal":"true",activatorProps:c,contentProps:f,height:t.fullscreen?void 0:t.height,width:t.fullscreen?void 0:t.width,maxHeight:t.fullscreen?void 0:t.maxHeight,maxWidth:t.fullscreen?void 0:t.maxWidth,role:"dialog",onAfterEnter:l,onAfterLeave:u},r),{activator:i.activator,default:function(){for(var h=arguments.length,g=new Array(h),v=0;v<h;v++)g[v]=arguments[v];return m(ht,{root:"VDialog"},{default:()=>{var p;return[(p=i.default)==null?void 0:p.call(i,...g)]}})}})}),Pr({},a)}}),Ghe=te({inset:Boolean,...j5({transition:"bottom-sheet-transition"})},"VBottomSheet"),qhe=pe()({name:"VBottomSheet",props:Ghe(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const i=Ye(t,"modelValue");return xe(()=>{const s=yS.filterProps(t);return m(yS,J(s,{contentClass:["v-bottom-sheet__content",t.contentClass],modelValue:i.value,"onUpdate:modelValue":r=>i.value=r,class:["v-bottom-sheet",{"v-bottom-sheet--inset":t.inset},t.class],style:t.style}),n)}),{}}}),Xhe=te({divider:[Number,String],...je()},"VBreadcrumbsDivider"),$5=pe()({name:"VBreadcrumbsDivider",props:Xhe(),setup(t,e){let{slots:n}=e;return xe(()=>{var i;return m("li",{class:["v-breadcrumbs-divider",t.class],style:t.style},[((i=n==null?void 0:n.default)==null?void 0:i.call(n))??t.divider])}),{}}}),Khe=te({active:Boolean,activeClass:String,activeColor:String,color:String,disabled:Boolean,title:String,...je(),...Zv(),...yt({tag:"li"})},"VBreadcrumbsItem"),U5=pe()({name:"VBreadcrumbsItem",props:Khe(),setup(t,e){let{slots:n,attrs:i}=e;const s=zh(t,i),r=R(()=>{var u;return t.active||((u=s.isActive)==null?void 0:u.value)}),a=R(()=>r.value?t.activeColor:t.color),{textColorClasses:o,textColorStyles:l}=Ui(a);return xe(()=>m(t.tag,{class:["v-breadcrumbs-item",{"v-breadcrumbs-item--active":r.value,"v-breadcrumbs-item--disabled":t.disabled,[`${t.activeClass}`]:r.value&&t.activeClass},o.value,t.class],style:[l.value,t.style],"aria-current":r.value?"page":void 0},{default:()=>{var u,d;return[s.isLink.value?m("a",J({class:"v-breadcrumbs-item--link",onClick:s.navigate},s.linkProps),[((d=n.default)==null?void 0:d.call(n))??t.title]):((u=n.default)==null?void 0:u.call(n))??t.title]}})),{}}}),Qhe=te({activeClass:String,activeColor:String,bgColor:String,color:String,disabled:Boolean,divider:{type:String,default:"/"},icon:qe,items:{type:Array,default:()=>[]},...je(),...Ci(),...On(),...yt({tag:"ul"})},"VBreadcrumbs"),Jhe=pe()({name:"VBreadcrumbs",props:Qhe(),setup(t,e){let{slots:n}=e;const{backgroundColorClasses:i,backgroundColorStyles:s}=an(ve(t,"bgColor")),{densityClasses:r}=ls(t),{roundedClasses:a}=qn(t);Dn({VBreadcrumbsDivider:{divider:ve(t,"divider")},VBreadcrumbsItem:{activeClass:ve(t,"activeClass"),activeColor:ve(t,"activeColor"),color:ve(t,"color"),disabled:ve(t,"disabled")}});const o=R(()=>t.items.map(l=>typeof l=="string"?{item:{title:l},raw:l}:{item:l,raw:l}));return xe(()=>{const l=!!(n.prepend||t.icon);return m(t.tag,{class:["v-breadcrumbs",i.value,r.value,a.value,t.class],style:[s.value,t.style]},{default:()=>{var u;return[l&&m("li",{key:"prepend",class:"v-breadcrumbs__prepend"},[n.prepend?m(ht,{key:"prepend-defaults",disabled:!t.icon,defaults:{VIcon:{icon:t.icon,start:!0}}},n.prepend):m(jt,{key:"prepend-icon",start:!0,icon:t.icon},null)]),o.value.map((d,c,f)=>{var v;let{item:h,raw:g}=d;return m(Ie,null,[((v=n.item)==null?void 0:v.call(n,{item:h,index:c}))??m(U5,J({key:c,disabled:c>=f.length-1},typeof h=="string"?{title:h}:h),{default:n.title?()=>{var p;return(p=n.title)==null?void 0:p.call(n,{item:h,index:c})}:void 0}),c<f.length-1&&m($5,null,{default:n.divider?()=>{var p;return(p=n.divider)==null?void 0:p.call(n,{item:g,index:c})}:void 0})])}),(u=n.default)==null?void 0:u.call(n)]}})}),{}}}),H5=pe()({name:"VCardActions",props:je(),setup(t,e){let{slots:n}=e;return Dn({VBtn:{slim:!0,variant:"text"}}),xe(()=>{var i;return m("div",{class:["v-card-actions",t.class],style:t.style},[(i=n.default)==null?void 0:i.call(n)])}),{}}}),Zhe=te({opacity:[Number,String],...je(),...yt()},"VCardSubtitle"),z5=pe()({name:"VCardSubtitle",props:Zhe(),setup(t,e){let{slots:n}=e;return xe(()=>m(t.tag,{class:["v-card-subtitle",t.class],style:[{"--v-card-subtitle-opacity":t.opacity},t.style]},n)),{}}}),W5=Ja("v-card-title"),efe=te({appendAvatar:String,appendIcon:qe,prependAvatar:String,prependIcon:qe,subtitle:[String,Number],title:[String,Number],...je(),...Ci()},"VCardItem"),Y5=pe()({name:"VCardItem",props:efe(),setup(t,e){let{slots:n}=e;return xe(()=>{var u;const i=!!(t.prependAvatar||t.prependIcon),s=!!(i||n.prepend),r=!!(t.appendAvatar||t.appendIcon),a=!!(r||n.append),o=!!(t.title!=null||n.title),l=!!(t.subtitle!=null||n.subtitle);return m("div",{class:["v-card-item",t.class],style:t.style},[s&&m("div",{key:"prepend",class:"v-card-item__prepend"},[n.prepend?m(ht,{key:"prepend-defaults",disabled:!i,defaults:{VAvatar:{density:t.density,image:t.prependAvatar},VIcon:{density:t.density,icon:t.prependIcon}}},n.prepend):m(Ie,null,[t.prependAvatar&&m($s,{key:"prepend-avatar",density:t.density,image:t.prependAvatar},null),t.prependIcon&&m(jt,{key:"prepend-icon",density:t.density,icon:t.prependIcon},null)])]),m("div",{class:"v-card-item__content"},[o&&m(W5,{key:"title"},{default:()=>{var d;return[((d=n.title)==null?void 0:d.call(n))??t.title]}}),l&&m(z5,{key:"subtitle"},{default:()=>{var d;return[((d=n.subtitle)==null?void 0:d.call(n))??t.subtitle]}}),(u=n.default)==null?void 0:u.call(n)]),a&&m("div",{key:"append",class:"v-card-item__append"},[n.append?m(ht,{key:"append-defaults",disabled:!r,defaults:{VAvatar:{density:t.density,image:t.appendAvatar},VIcon:{density:t.density,icon:t.appendIcon}}},n.append):m(Ie,null,[t.appendIcon&&m(jt,{key:"append-icon",density:t.density,icon:t.appendIcon},null),t.appendAvatar&&m($s,{key:"append-avatar",density:t.density,image:t.appendAvatar},null)])])])}),{}}}),tfe=te({opacity:[Number,String],...je(),...yt()},"VCardText"),G5=pe()({name:"VCardText",props:tfe(),setup(t,e){let{slots:n}=e;return xe(()=>m(t.tag,{class:["v-card-text",t.class],style:[{"--v-card-text-opacity":t.opacity},t.style]},n)),{}}}),nfe=te({appendAvatar:String,appendIcon:qe,disabled:Boolean,flat:Boolean,hover:Boolean,image:String,link:{type:Boolean,default:void 0},prependAvatar:String,prependIcon:qe,ripple:{type:[Boolean,Object],default:!0},subtitle:[String,Number],text:[String,Number],title:[String,Number],...ir(),...je(),...Ci(),...mi(),...Pi(),...h0(),...Yo(),...Uh(),...On(),...Zv(),...yt(),...Ft(),...Br({variant:"elevated"})},"VCard"),ife=pe()({name:"VCard",directives:{Ripple:Go},props:nfe(),setup(t,e){let{attrs:n,slots:i}=e;const{themeClasses:s}=Qt(t),{borderClasses:r}=Tr(t),{colorClasses:a,colorStyles:o,variantClasses:l}=Fc(t),{densityClasses:u}=ls(t),{dimensionStyles:d}=vi(t),{elevationClasses:c}=Wi(t),{loaderClasses:f}=Qv(t),{locationStyles:h}=Uc(t),{positionClasses:g}=Hh(t),{roundedClasses:v}=qn(t),p=zh(t,n),_=R(()=>t.link!==!1&&p.isLink.value),b=R(()=>!t.disabled&&t.link!==!1&&(t.link||p.isClickable.value));return xe(()=>{const x=_.value?"a":t.tag,k=!!(i.title||t.title!=null),I=!!(i.subtitle||t.subtitle!=null),E=k||I,T=!!(i.append||t.appendAvatar||t.appendIcon),S=!!(i.prepend||t.prependAvatar||t.prependIcon),w=!!(i.image||t.image),P=E||S||T,C=!!(i.text||t.text!=null);return In(m(x,J({class:["v-card",{"v-card--disabled":t.disabled,"v-card--flat":t.flat,"v-card--hover":t.hover&&!(t.disabled||t.flat),"v-card--link":b.value},s.value,r.value,a.value,u.value,c.value,f.value,g.value,v.value,l.value,t.class],style:[o.value,d.value,h.value,t.style],onClick:b.value&&p.navigate,tabindex:t.disabled?-1:void 0},p.linkProps),{default:()=>{var D;return[w&&m("div",{key:"image",class:"v-card__image"},[i.image?m(ht,{key:"image-defaults",disabled:!t.image,defaults:{VImg:{cover:!0,src:t.image}}},i.image):m(Vo,{key:"image-img",cover:!0,src:t.image},null)]),m(Jv,{name:"v-card",active:!!t.loading,color:typeof t.loading=="boolean"?void 0:t.loading},{default:i.loader}),P&&m(Y5,{key:"item",prependAvatar:t.prependAvatar,prependIcon:t.prependIcon,title:t.title,subtitle:t.subtitle,appendAvatar:t.appendAvatar,appendIcon:t.appendIcon},{default:i.item,prepend:i.prepend,title:i.title,subtitle:i.subtitle,append:i.append}),C&&m(G5,{key:"text"},{default:()=>{var A;return[((A=i.text)==null?void 0:A.call(i))??t.text]}}),(D=i.default)==null?void 0:D.call(i),i.actions&&m(H5,null,{default:i.actions}),ru(b.value,"v-card")]}}),[[nr("ripple"),b.value&&t.ripple]])}),{}}}),sfe=t=>{const{touchstartX:e,touchendX:n,touchstartY:i,touchendY:s}=t,r=.5,a=16;t.offsetX=n-e,t.offsetY=s-i,Math.abs(t.offsetY)<r*Math.abs(t.offsetX)&&(t.left&&n<e-a&&t.left(t),t.right&&n>e+a&&t.right(t)),Math.abs(t.offsetX)<r*Math.abs(t.offsetY)&&(t.up&&s<i-a&&t.up(t),t.down&&s>i+a&&t.down(t))};function rfe(t,e){var i;const n=t.changedTouches[0];e.touchstartX=n.clientX,e.touchstartY=n.clientY,(i=e.start)==null||i.call(e,{originalEvent:t,...e})}function afe(t,e){var i;const n=t.changedTouches[0];e.touchendX=n.clientX,e.touchendY=n.clientY,(i=e.end)==null||i.call(e,{originalEvent:t,...e}),sfe(e)}function ofe(t,e){var i;const n=t.changedTouches[0];e.touchmoveX=n.clientX,e.touchmoveY=n.clientY,(i=e.move)==null||i.call(e,{originalEvent:t,...e})}function lfe(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const e={touchstartX:0,touchstartY:0,touchendX:0,touchendY:0,touchmoveX:0,touchmoveY:0,offsetX:0,offsetY:0,left:t.left,right:t.right,up:t.up,down:t.down,start:t.start,move:t.move,end:t.end};return{touchstart:n=>rfe(n,e),touchend:n=>afe(n,e),touchmove:n=>ofe(n,e)}}function ufe(t,e){var o;const n=e.value,i=n!=null&&n.parent?t.parentElement:t,s=(n==null?void 0:n.options)??{passive:!0},r=(o=e.instance)==null?void 0:o.$.uid;if(!i||!r)return;const a=lfe(e.value);i._touchHandlers=i._touchHandlers??Object.create(null),i._touchHandlers[r]=a,xj(a).forEach(l=>{i.addEventListener(l,a[l],s)})}function cfe(t,e){var r,a;const n=(r=e.value)!=null&&r.parent?t.parentElement:t,i=(a=e.instance)==null?void 0:a.$.uid;if(!(n!=null&&n._touchHandlers)||!i)return;const s=n._touchHandlers[i];xj(s).forEach(o=>{n.removeEventListener(o,s[o])}),delete n._touchHandlers[i]}const gC={mounted:ufe,unmounted:cfe},q5=Symbol.for("vuetify:v-window"),X5=Symbol.for("vuetify:v-window-group"),_0=te({continuous:Boolean,nextIcon:{type:[Boolean,String,Function,Object],default:"$next"},prevIcon:{type:[Boolean,String,Function,Object],default:"$prev"},reverse:Boolean,showArrows:{type:[Boolean,String],validator:t=>typeof t=="boolean"||t==="hover"},touch:{type:[Object,Boolean],default:void 0},direction:{type:String,default:"horizontal"},modelValue:null,disabled:Boolean,selectedClass:{type:String,default:"v-window-item--active"},mandatory:{type:[Boolean,String],default:"force"},...je(),...yt(),...Ft()},"VWindow"),dc=pe()({name:"VWindow",directives:{Touch:gC},props:_0(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const{themeClasses:i}=Qt(t),{isRtl:s}=Ti(),{t:r}=gn(),a=au(t,X5),o=Y(),l=R(()=>s.value?!t.reverse:t.reverse),u=Me(!1),d=R(()=>{const k=t.direction==="vertical"?"y":"x",E=(l.value?!u.value:u.value)?"-reverse":"";return`v-window-${k}${E}-transition`}),c=Me(0),f=Y(void 0),h=R(()=>a.items.value.findIndex(k=>a.selected.value.includes(k.id)));we(h,(k,I)=>{const E=a.items.value.length,T=E-1;E<=2?u.value=k<I:k===T&&I===0?u.value=!0:k===0&&I===T?u.value=!1:u.value=k<I}),Jt(q5,{transition:d,isReversed:u,transitionCount:c,transitionHeight:f,rootRef:o});const g=R(()=>t.continuous||h.value!==0),v=R(()=>t.continuous||h.value!==a.items.value.length-1);function p(){g.value&&a.prev()}function _(){v.value&&a.next()}const b=R(()=>{const k=[],I={icon:s.value?t.nextIcon:t.prevIcon,class:`v-window__${l.value?"right":"left"}`,onClick:a.prev,"aria-label":r("$vuetify.carousel.prev")};k.push(g.value?n.prev?n.prev({props:I}):m(gt,I,null):m("div",null,null));const E={icon:s.value?t.prevIcon:t.nextIcon,class:`v-window__${l.value?"left":"right"}`,onClick:a.next,"aria-label":r("$vuetify.carousel.next")};return k.push(v.value?n.next?n.next({props:E}):m(gt,E,null):m("div",null,null)),k}),x=R(()=>t.touch===!1?t.touch:{...{left:()=>{l.value?p():_()},right:()=>{l.value?_():p()},start:I=>{let{originalEvent:E}=I;E.stopPropagation()}},...t.touch===!0?{}:t.touch});return xe(()=>In(m(t.tag,{ref:o,class:["v-window",{"v-window--show-arrows-on-hover":t.showArrows==="hover"},i.value,t.class],style:t.style},{default:()=>{var k,I;return[m("div",{class:"v-window__container",style:{height:f.value}},[(k=n.default)==null?void 0:k.call(n,{group:a}),t.showArrows!==!1&&m("div",{class:"v-window__controls"},[b.value])]),(I=n.additional)==null?void 0:I.call(n,{group:a})]}}),[[nr("touch"),x.value]])),{group:a}}}),dfe=te({color:String,cycle:Boolean,delimiterIcon:{type:qe,default:"$delimiter"},height:{type:[Number,String],default:500},hideDelimiters:Boolean,hideDelimiterBackground:Boolean,interval:{type:[Number,String],default:6e3,validator:t=>Number(t)>0},progress:[Boolean,String],verticalDelimiters:[Boolean,String],..._0({continuous:!0,mandatory:"force",showArrows:!0})},"VCarousel"),hfe=pe()({name:"VCarousel",props:dfe(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const i=Ye(t,"modelValue"),{t:s}=gn(),r=Y();let a=-1;we(i,l),we(()=>t.interval,l),we(()=>t.cycle,u=>{u?l():window.clearTimeout(a)}),Pt(o);function o(){!t.cycle||!r.value||(a=window.setTimeout(r.value.group.next,+t.interval>0?+t.interval:6e3))}function l(){window.clearTimeout(a),window.requestAnimationFrame(o)}return xe(()=>{const u=dc.filterProps(t);return m(dc,J({ref:r},u,{modelValue:i.value,"onUpdate:modelValue":d=>i.value=d,class:["v-carousel",{"v-carousel--hide-delimiter-background":t.hideDelimiterBackground,"v-carousel--vertical-delimiters":t.verticalDelimiters},t.class],style:[{height:Ne(t.height)},t.style]}),{default:n.default,additional:d=>{let{group:c}=d;return m(Ie,null,[!t.hideDelimiters&&m("div",{class:"v-carousel__controls",style:{left:t.verticalDelimiters==="left"&&t.verticalDelimiters?0:"auto",right:t.verticalDelimiters==="right"?0:"auto"}},[c.items.value.length>0&&m(ht,{defaults:{VBtn:{color:t.color,icon:t.delimiterIcon,size:"x-small",variant:"text"}},scoped:!0},{default:()=>[c.items.value.map((f,h)=>{const g={id:`carousel-item-${f.id}`,"aria-label":s("$vuetify.carousel.ariaLabel.delimiter",h+1,c.items.value.length),class:["v-carousel__controls__item",c.isSelected(f.id)&&"v-btn--active"],onClick:()=>c.select(f.id,!0)};return n.item?n.item({props:g,item:f}):m(gt,J(f,g),null)})]})]),t.progress&&m(d0,{class:"v-carousel__progress",color:typeof t.progress=="string"?t.progress:void 0,modelValue:(c.getItemIndex(i.value)+1)/c.items.value.length*100},null)])},prev:n.prev,next:n.next})}),{}}}),y0=te({reverseTransition:{type:[Boolean,String],default:void 0},transition:{type:[Boolean,String],default:void 0},...je(),...jc(),...cC()},"VWindowItem"),hc=pe()({name:"VWindowItem",directives:{Touch:gC},props:y0(),emits:{"group:selected":t=>!0},setup(t,e){let{slots:n}=e;const i=vt(q5),s=$c(t,X5),{isBooted:r}=Nc();if(!i||!s)throw new Error("[Vuetify] VWindowItem must be used inside VWindow");const a=Me(!1),o=R(()=>r.value&&(i.isReversed.value?t.reverseTransition!==!1:t.transition!==!1));function l(){!a.value||!i||(a.value=!1,i.transitionCount.value>0&&(i.transitionCount.value-=1,i.transitionCount.value===0&&(i.transitionHeight.value=void 0)))}function u(){var g;a.value||!i||(a.value=!0,i.transitionCount.value===0&&(i.transitionHeight.value=Ne((g=i.rootRef.value)==null?void 0:g.clientHeight)),i.transitionCount.value+=1)}function d(){l()}function c(g){a.value&&pt(()=>{!o.value||!a.value||!i||(i.transitionHeight.value=Ne(g.clientHeight))})}const f=R(()=>{const g=i.isReversed.value?t.reverseTransition:t.transition;return o.value?{name:typeof g!="string"?i.transition.value:g,onBeforeEnter:u,onAfterEnter:l,onEnterCancelled:d,onBeforeLeave:u,onAfterLeave:l,onLeaveCancelled:d,onEnter:c}:!1}),{hasContent:h}=dC(t,s.isSelected);return xe(()=>m(Ts,{transition:f.value,disabled:!r.value},{default:()=>{var g;return[In(m("div",{class:["v-window-item",s.selectedClass.value,t.class],style:t.style},[h.value&&((g=n.default)==null?void 0:g.call(n))]),[[_a,s.isSelected.value]])]}})),{groupItem:s}}}),ffe=te({...V4(),...y0()},"VCarouselItem"),mfe=pe()({name:"VCarouselItem",inheritAttrs:!1,props:ffe(),setup(t,e){let{slots:n,attrs:i}=e;xe(()=>{const s=Vo.filterProps(t),r=hc.filterProps(t);return m(hc,J({class:["v-carousel-item",t.class]},r),{default:()=>[m(Vo,J(i,s),n)]})})}}),vfe=Ja("v-code","code"),gfe=te({color:{type:Object},disabled:Boolean,dotSize:{type:[Number,String],default:10},height:{type:[Number,String],default:150},width:{type:[Number,String],default:300},...je()},"VColorPickerCanvas"),pfe=xr({name:"VColorPickerCanvas",props:gfe(),emits:{"update:color":t=>!0,"update:position":t=>!0},setup(t,e){let{emit:n}=e;const i=Me(!1),s=Y(),r=Me(parseFloat(t.width)),a=Me(parseFloat(t.height)),o=Y({x:0,y:0}),l=R({get:()=>o.value,set(p){var x,k;if(!s.value)return;const{x:_,y:b}=p;o.value=p,n("update:color",{h:((x=t.color)==null?void 0:x.h)??0,s:$n(_,0,r.value)/r.value,v:1-$n(b,0,a.value)/a.value,a:((k=t.color)==null?void 0:k.a)??1})}}),u=R(()=>{const{x:p,y:_}=l.value,b=parseInt(t.dotSize,10)/2;return{width:Ne(t.dotSize),height:Ne(t.dotSize),transform:`translate(${Ne(p-b)}, ${Ne(_-b)})`}}),{resizeRef:d}=ha(p=>{var x;if(!((x=d.el)!=null&&x.offsetParent))return;const{width:_,height:b}=p[0].contentRect;r.value=_,a.value=b});function c(p,_,b){const{left:x,top:k,width:I,height:E}=b;l.value={x:$n(p-x,0,I),y:$n(_-k,0,E)}}function f(p){p.type==="mousedown"&&p.preventDefault(),!t.disabled&&(h(p),window.addEventListener("mousemove",h),window.addEventListener("mouseup",g),window.addEventListener("touchmove",h),window.addEventListener("touchend",g))}function h(p){if(t.disabled||!s.value)return;i.value=!0;const _=gne(p);c(_.clientX,_.clientY,s.value.getBoundingClientRect())}function g(){window.removeEventListener("mousemove",h),window.removeEventListener("mouseup",g),window.removeEventListener("touchmove",h),window.removeEventListener("touchend",g)}function v(){var k;if(!s.value)return;const p=s.value,_=p.getContext("2d");if(!_)return;const b=_.createLinearGradient(0,0,p.width,0);b.addColorStop(0,"hsla(0, 0%, 100%, 1)"),b.addColorStop(1,`hsla(${((k=t.color)==null?void 0:k.h)??0}, 100%, 50%, 1)`),_.fillStyle=b,_.fillRect(0,0,p.width,p.height);const x=_.createLinearGradient(0,0,0,p.height);x.addColorStop(0,"hsla(0, 0%, 0%, 0)"),x.addColorStop(1,"hsla(0, 0%, 0%, 1)"),_.fillStyle=x,_.fillRect(0,0,p.width,p.height)}return we(()=>{var p;return(p=t.color)==null?void 0:p.h},v,{immediate:!0}),we(()=>[r.value,a.value],(p,_)=>{v(),o.value={x:l.value.x*p[0]/_[0],y:l.value.y*p[1]/_[1]}},{flush:"post"}),we(()=>t.color,()=>{if(i.value){i.value=!1;return}o.value=t.color?{x:t.color.s*r.value,y:(1-t.color.v)*a.value}:{x:0,y:0}},{deep:!0,immediate:!0}),Pt(()=>v()),xe(()=>m("div",{ref:d,class:["v-color-picker-canvas",t.class],style:t.style,onMousedown:f,onTouchstartPassive:f},[m("canvas",{ref:s,width:r.value,height:a.value},null),t.color&&m("div",{class:["v-color-picker-canvas__dot",{"v-color-picker-canvas__dot--disabled":t.disabled}],style:u.value},null)])),{}}});function _fe(t,e){if(e){const{a:n,...i}=t;return i}return t}function yfe(t,e){if(e==null||typeof e=="string"){const n=Bj(t);return t.a===1?n.slice(0,7):n}if(typeof e=="object"){let n;return Mu(e,["r","g","b"])?n=Ro(t):Mu(e,["h","s","l"])?n=Rj(t):Mu(e,["h","s","v"])&&(n=t),_fe(n,!Mu(e,["a"])&&t.a===1)}return t}const wd={h:0,s:0,v:0,a:1},bS={inputProps:{type:"number",min:0},inputs:[{label:"R",max:255,step:1,getValue:t=>Math.round(t.r),getColor:(t,e)=>({...t,r:Number(e)})},{label:"G",max:255,step:1,getValue:t=>Math.round(t.g),getColor:(t,e)=>({...t,g:Number(e)})},{label:"B",max:255,step:1,getValue:t=>Math.round(t.b),getColor:(t,e)=>({...t,b:Number(e)})},{label:"A",max:1,step:.01,getValue:t=>{let{a:e}=t;return e!=null?Math.round(e*100)/100:1},getColor:(t,e)=>({...t,a:Number(e)})}],to:Ro,from:Wb};var TV;const bfe={...bS,inputs:(TV=bS.inputs)==null?void 0:TV.slice(0,3)},wS={inputProps:{type:"number",min:0},inputs:[{label:"H",max:360,step:1,getValue:t=>Math.round(t.h),getColor:(t,e)=>({...t,h:Number(e)})},{label:"S",max:1,step:.01,getValue:t=>Math.round(t.s*100)/100,getColor:(t,e)=>({...t,s:Number(e)})},{label:"L",max:1,step:.01,getValue:t=>Math.round(t.l*100)/100,getColor:(t,e)=>({...t,l:Number(e)})},{label:"A",max:1,step:.01,getValue:t=>{let{a:e}=t;return e!=null?Math.round(e*100)/100:1},getColor:(t,e)=>({...t,a:Number(e)})}],to:Rj,from:EP},wfe={...wS,inputs:wS.inputs.slice(0,3)},K5={inputProps:{type:"text"},inputs:[{label:"HEXA",getValue:t=>t,getColor:(t,e)=>e}],to:Bj,from:Fj},xfe={...K5,inputs:[{label:"HEX",getValue:t=>t.slice(0,7),getColor:(t,e)=>e}]},Yu={rgb:bfe,rgba:bS,hsl:wfe,hsla:wS,hex:xfe,hexa:K5},Sfe=t=>{let{label:e,...n}=t;return m("div",{class:"v-color-picker-edit__input"},[m("input",n,null),m("span",null,[e])])},kfe=te({color:Object,disabled:Boolean,mode:{type:String,default:"rgba",validator:t=>Object.keys(Yu).includes(t)},modes:{type:Array,default:()=>Object.keys(Yu),validator:t=>Array.isArray(t)&&t.every(e=>Object.keys(Yu).includes(e))},...je()},"VColorPickerEdit"),Tfe=xr({name:"VColorPickerEdit",props:kfe(),emits:{"update:color":t=>!0,"update:mode":t=>!0},setup(t,e){let{emit:n}=e;const i=R(()=>t.modes.map(r=>({...Yu[r],name:r}))),s=R(()=>{var o;const r=i.value.find(l=>l.name===t.mode);if(!r)return[];const a=t.color?r.to(t.color):null;return(o=r.inputs)==null?void 0:o.map(l=>{let{getValue:u,getColor:d,...c}=l;return{...r.inputProps,...c,disabled:t.disabled,value:a&&u(a),onChange:f=>{const h=f.target;h&&n("update:color",r.from(d(a??r.to(wd),h.value)))}}})});return xe(()=>{var r;return m("div",{class:["v-color-picker-edit",t.class],style:t.style},[(r=s.value)==null?void 0:r.map(a=>m(Sfe,a,null)),i.value.length>1&&m(gt,{icon:"$unfold",size:"x-small",variant:"plain",onClick:()=>{const a=i.value.findIndex(o=>o.name===t.mode);n("update:mode",i.value[(a+1)%i.value.length].name)}},null)])}),{}}}),pC=Symbol.for("vuetify:v-slider");function xS(t,e,n){const i=n==="vertical",s=e.getBoundingClientRect(),r="touches"in t?t.touches[0]:t;return i?r.clientY-(s.top+s.height/2):r.clientX-(s.left+s.width/2)}function Pfe(t,e){return"touches"in t&&t.touches.length?t.touches[0][e]:"changedTouches"in t&&t.changedTouches.length?t.changedTouches[0][e]:t[e]}const Q5=te({disabled:{type:Boolean,default:null},error:Boolean,readonly:{type:Boolean,default:null},max:{type:[Number,String],default:100},min:{type:[Number,String],default:0},step:{type:[Number,String],default:0},thumbColor:String,thumbLabel:{type:[Boolean,String],default:void 0,validator:t=>typeof t=="boolean"||t==="always"},thumbSize:{type:[Number,String],default:20},showTicks:{type:[Boolean,String],default:!1,validator:t=>typeof t=="boolean"||t==="always"},ticks:{type:[Array,Object]},tickSize:{type:[Number,String],default:2},color:String,trackColor:String,trackFillColor:String,trackSize:{type:[Number,String],default:4},direction:{type:String,default:"horizontal",validator:t=>["vertical","horizontal"].includes(t)},reverse:Boolean,...On(),...Pi({elevation:2}),ripple:{type:Boolean,default:!0}},"Slider"),J5=t=>{const e=R(()=>parseFloat(t.min)),n=R(()=>parseFloat(t.max)),i=R(()=>+t.step>0?parseFloat(t.step):0),s=R(()=>Math.max(V_(i.value),V_(e.value)));function r(a){if(a=parseFloat(a),i.value<=0)return a;const o=$n(a,e.value,n.value),l=e.value%i.value,u=Math.round((o-l)/i.value)*i.value+l;return parseFloat(Math.min(u,n.value).toFixed(s.value))}return{min:e,max:n,step:i,decimals:s,roundValue:r}},Z5=t=>{let{props:e,steps:n,onSliderStart:i,onSliderMove:s,onSliderEnd:r,getActiveThumb:a}=t;const{isRtl:o}=Ti(),l=ve(e,"reverse"),u=R(()=>e.direction==="vertical"),d=R(()=>u.value!==l.value),{min:c,max:f,step:h,decimals:g,roundValue:v}=n,p=R(()=>parseInt(e.thumbSize,10)),_=R(()=>parseInt(e.tickSize,10)),b=R(()=>parseInt(e.trackSize,10)),x=R(()=>(f.value-c.value)/h.value),k=ve(e,"disabled"),I=R(()=>e.error||e.disabled?void 0:e.thumbColor??e.color),E=R(()=>e.error||e.disabled?void 0:e.trackColor??e.color),T=R(()=>e.error||e.disabled?void 0:e.trackFillColor??e.color),S=Me(!1),w=Me(0),P=Y(),C=Y();function D(se){var K;const $=e.direction==="vertical",q=$?"top":"left",re=$?"height":"width",ge=$?"clientY":"clientX",{[q]:fe,[re]:ye}=(K=P.value)==null?void 0:K.$el.getBoundingClientRect(),L=Pfe(se,ge);let F=Math.min(Math.max((L-fe-w.value)/ye,0),1)||0;return($?d.value:d.value!==o.value)&&(F=1-F),v(c.value+F*(f.value-c.value))}const A=se=>{r({value:D(se)}),S.value=!1,w.value=0},N=se=>{C.value=a(se),C.value&&(C.value.focus(),S.value=!0,C.value.contains(se.target)?w.value=xS(se,C.value,e.direction):(w.value=0,s({value:D(se)})),i({value:D(se)}))},B={passive:!0,capture:!0};function H(se){s({value:D(se)})}function G(se){se.stopPropagation(),se.preventDefault(),A(se),window.removeEventListener("mousemove",H,B),window.removeEventListener("mouseup",G)}function z(se){var $;A(se),window.removeEventListener("touchmove",H,B),($=se.target)==null||$.removeEventListener("touchend",z)}function X(se){var $;N(se),window.addEventListener("touchmove",H,B),($=se.target)==null||$.addEventListener("touchend",z,{passive:!1})}function W(se){se.preventDefault(),N(se),window.addEventListener("mousemove",H,B),window.addEventListener("mouseup",G,{passive:!1})}const Z=se=>{const $=(se-c.value)/(f.value-c.value)*100;return $n(isNaN($)?0:$,0,100)},ee=ve(e,"showTicks"),le=R(()=>ee.value?e.ticks?Array.isArray(e.ticks)?e.ticks.map(se=>({value:se,position:Z(se),label:se.toString()})):Object.keys(e.ticks).map(se=>({value:parseFloat(se),position:Z(parseFloat(se)),label:e.ticks[se]})):x.value!==1/0?mr(x.value+1).map(se=>{const $=c.value+se*h.value;return{value:$,position:Z($)}}):[]:[]),ue=R(()=>le.value.some(se=>{let{label:$}=se;return!!$})),ce={activeThumbRef:C,color:ve(e,"color"),decimals:g,disabled:k,direction:ve(e,"direction"),elevation:ve(e,"elevation"),hasLabels:ue,isReversed:l,indexFromEnd:d,min:c,max:f,mousePressed:S,numTicks:x,onSliderMousedown:W,onSliderTouchstart:X,parsedTicks:le,parseMouseMove:D,position:Z,readonly:ve(e,"readonly"),rounded:ve(e,"rounded"),roundValue:v,showTicks:ee,startOffset:w,step:h,thumbSize:p,thumbColor:I,thumbLabel:ve(e,"thumbLabel"),ticks:ve(e,"ticks"),tickSize:_,trackColor:E,trackContainerRef:P,trackFillColor:T,trackSize:b,vertical:u};return Jt(pC,ce),ce},Cfe=te({focused:Boolean,max:{type:Number,required:!0},min:{type:Number,required:!0},modelValue:{type:Number,required:!0},position:{type:Number,required:!0},ripple:{type:[Boolean,Object],default:!0},name:String,...je()},"VSliderThumb"),SS=pe()({name:"VSliderThumb",directives:{Ripple:Go},props:Cfe(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n,emit:i}=e;const s=vt(pC),{isRtl:r,rtlClasses:a}=Ti();if(!s)throw new Error("[Vuetify] v-slider-thumb must be used inside v-slider or v-range-slider");const{thumbColor:o,step:l,disabled:u,thumbSize:d,thumbLabel:c,direction:f,isReversed:h,vertical:g,readonly:v,elevation:p,mousePressed:_,decimals:b,indexFromEnd:x}=s,k=R(()=>u.value?void 0:p.value),{elevationClasses:I}=Wi(k),{textColorClasses:E,textColorStyles:T}=Ui(o),{pageup:S,pagedown:w,end:P,home:C,left:D,right:A,down:N,up:B}=Fx,H=[S,w,P,C,D,A,N,B],G=R(()=>l.value?[1,2,3]:[1,5,10]);function z(W,Z){if(!H.includes(W.key))return;W.preventDefault();const ee=l.value||.1,le=(t.max-t.min)/ee;if([D,A,N,B].includes(W.key)){const ce=(g.value?[r.value?D:A,h.value?N:B]:x.value!==r.value?[D,B]:[A,B]).includes(W.key)?1:-1,se=W.shiftKey?2:W.ctrlKey?1:0;Z=Z+ce*ee*G.value[se]}else if(W.key===C)Z=t.min;else if(W.key===P)Z=t.max;else{const ue=W.key===w?1:-1;Z=Z-ue*ee*(le>100?le/10:10)}return Math.max(t.min,Math.min(t.max,Z))}function X(W){const Z=z(W,t.modelValue);Z!=null&&i("update:modelValue",Z)}return xe(()=>{const W=Ne(x.value?100-t.position:t.position,"%");return m("div",{class:["v-slider-thumb",{"v-slider-thumb--focused":t.focused,"v-slider-thumb--pressed":t.focused&&_.value},t.class,a.value],style:[{"--v-slider-thumb-position":W,"--v-slider-thumb-size":Ne(d.value)},t.style],role:"slider",tabindex:u.value?-1:0,"aria-label":t.name,"aria-valuemin":t.min,"aria-valuemax":t.max,"aria-valuenow":t.modelValue,"aria-readonly":!!v.value,"aria-orientation":f.value,onKeydown:v.value?void 0:X},[m("div",{class:["v-slider-thumb__surface",E.value,I.value],style:{...T.value}},null),In(m("div",{class:["v-slider-thumb__ripple",E.value],style:T.value},null),[[nr("ripple"),t.ripple,null,{circle:!0,center:!0}]]),m(JP,{origin:"bottom center"},{default:()=>{var Z;return[In(m("div",{class:"v-slider-thumb__label-container"},[m("div",{class:["v-slider-thumb__label"]},[m("div",null,[((Z=n["thumb-label"])==null?void 0:Z.call(n,{modelValue:t.modelValue}))??t.modelValue.toFixed(l.value?b.value:1)])])]),[[_a,c.value&&t.focused||c.value==="always"]])]}})])}),{}}}),Efe=te({start:{type:Number,required:!0},stop:{type:Number,required:!0},...je()},"VSliderTrack"),e3=pe()({name:"VSliderTrack",props:Efe(),emits:{},setup(t,e){let{slots:n}=e;const i=vt(pC);if(!i)throw new Error("[Vuetify] v-slider-track must be inside v-slider or v-range-slider");const{color:s,parsedTicks:r,rounded:a,showTicks:o,tickSize:l,trackColor:u,trackFillColor:d,trackSize:c,vertical:f,min:h,max:g,indexFromEnd:v}=i,{roundedClasses:p}=qn(a),{backgroundColorClasses:_,backgroundColorStyles:b}=an(d),{backgroundColorClasses:x,backgroundColorStyles:k}=an(u),I=R(()=>`inset-${f.value?"block":"inline"}-${v.value?"end":"start"}`),E=R(()=>f.value?"height":"width"),T=R(()=>({[I.value]:"0%",[E.value]:"100%"})),S=R(()=>t.stop-t.start),w=R(()=>({[I.value]:Ne(t.start,"%"),[E.value]:Ne(S.value,"%")})),P=R(()=>o.value?(f.value?r.value.slice().reverse():r.value).map((D,A)=>{var B;const N=D.value!==h.value&&D.value!==g.value?Ne(D.position,"%"):void 0;return m("div",{key:D.value,class:["v-slider-track__tick",{"v-slider-track__tick--filled":D.position>=t.start&&D.position<=t.stop,"v-slider-track__tick--first":D.value===h.value,"v-slider-track__tick--last":D.value===g.value}],style:{[I.value]:N}},[(D.label||n["tick-label"])&&m("div",{class:"v-slider-track__tick-label"},[((B=n["tick-label"])==null?void 0:B.call(n,{tick:D,index:A}))??D.label])])}):[]);return xe(()=>m("div",{class:["v-slider-track",p.value,t.class],style:[{"--v-slider-track-size":Ne(c.value),"--v-slider-tick-size":Ne(l.value)},t.style]},[m("div",{class:["v-slider-track__background",x.value,{"v-slider-track__background--opacity":!!s.value||!d.value}],style:{...T.value,...k.value}},null),m("div",{class:["v-slider-track__fill",_.value],style:{...w.value,...b.value}},null),o.value&&m("div",{class:["v-slider-track__ticks",{"v-slider-track__ticks--always-show":o.value==="always"}]},[P.value])])),{}}}),Ife=te({...Yh(),...Q5(),...qo(),modelValue:{type:[Number,String],default:0}},"VSlider"),kS=pe()({name:"VSlider",props:Ife(),emits:{"update:focused":t=>!0,"update:modelValue":t=>!0,start:t=>!0,end:t=>!0},setup(t,e){let{slots:n,emit:i}=e;const s=Y(),{rtlClasses:r}=Ti(),a=J5(t),o=Ye(t,"modelValue",void 0,E=>a.roundValue(E??a.min.value)),{min:l,max:u,mousePressed:d,roundValue:c,onSliderMousedown:f,onSliderTouchstart:h,trackContainerRef:g,position:v,hasLabels:p,readonly:_}=Z5({props:t,steps:a,onSliderStart:()=>{i("start",o.value)},onSliderEnd:E=>{let{value:T}=E;const S=c(T);o.value=S,i("end",S)},onSliderMove:E=>{let{value:T}=E;return o.value=c(T)},getActiveThumb:()=>{var E;return(E=s.value)==null?void 0:E.$el}}),{isFocused:b,focus:x,blur:k}=eo(t),I=R(()=>v(o.value));return xe(()=>{const E=rs.filterProps(t),T=!!(t.label||n.label||n.prepend);return m(rs,J({class:["v-slider",{"v-slider--has-labels":!!n["tick-label"]||p.value,"v-slider--focused":b.value,"v-slider--pressed":d.value,"v-slider--disabled":t.disabled},r.value,t.class],style:t.style},E,{focused:b.value}),{...n,prepend:T?S=>{var w,P;return m(Ie,null,[((w=n.label)==null?void 0:w.call(n,S))??(t.label?m(Wh,{id:S.id.value,class:"v-slider__label",text:t.label},null):void 0),(P=n.prepend)==null?void 0:P.call(n,S)])}:void 0,default:S=>{let{id:w,messagesId:P}=S;return m("div",{class:"v-slider__container",onMousedown:_.value?void 0:f,onTouchstartPassive:_.value?void 0:h},[m("input",{id:w.value,name:t.name||w.value,disabled:!!t.disabled,readonly:!!t.readonly,tabindex:"-1",value:o.value},null),m(e3,{ref:g,start:0,stop:I.value},{"tick-label":n["tick-label"]}),m(SS,{ref:s,"aria-describedby":P.value,focused:b.value,min:l.value,max:u.value,modelValue:o.value,"onUpdate:modelValue":C=>o.value=C,position:I.value,elevation:t.elevation,onFocus:x,onBlur:k,ripple:t.ripple,name:t.name},{"thumb-label":n["thumb-label"]})])}})}),{}}}),Dfe=te({color:{type:Object},disabled:Boolean,hideAlpha:Boolean,...je()},"VColorPickerPreview"),Afe=xr({name:"VColorPickerPreview",props:Dfe(),emits:{"update:color":t=>!0},setup(t,e){let{emit:n}=e;const i=new AbortController;Us(()=>i.abort());async function s(){if(!cO)return;const r=new window.EyeDropper;try{const a=await r.open({signal:i.signal}),o=Fj(a.sRGBHex);n("update:color",{...t.color??wd,...o})}catch{}}return xe(()=>{var r,a;return m("div",{class:["v-color-picker-preview",{"v-color-picker-preview--hide-alpha":t.hideAlpha},t.class],style:t.style},[cO&&m("div",{class:"v-color-picker-preview__eye-dropper",key:"eyeDropper"},[m(gt,{onClick:s,icon:"$eyeDropper",variant:"plain",density:"comfortable"},null)]),m("div",{class:"v-color-picker-preview__dot"},[m("div",{style:{background:Vj(t.color??wd)}},null)]),m("div",{class:"v-color-picker-preview__sliders"},[m(kS,{class:"v-color-picker-preview__track v-color-picker-preview__hue",modelValue:(r=t.color)==null?void 0:r.h,"onUpdate:modelValue":o=>n("update:color",{...t.color??wd,h:o}),step:0,min:0,max:360,disabled:t.disabled,thumbSize:14,trackSize:8,trackFillColor:"white",hideDetails:!0},null),!t.hideAlpha&&m(kS,{class:"v-color-picker-preview__track v-color-picker-preview__alpha",modelValue:((a=t.color)==null?void 0:a.a)??1,"onUpdate:modelValue":o=>n("update:color",{...t.color??wd,a:o}),step:1/256,min:0,max:1,disabled:t.disabled,thumbSize:14,trackSize:8,trackFillColor:"white",hideDetails:!0},null)])])}),{}}}),Ofe={base:"#f44336",lighten5:"#ffebee",lighten4:"#ffcdd2",lighten3:"#ef9a9a",lighten2:"#e57373",lighten1:"#ef5350",darken1:"#e53935",darken2:"#d32f2f",darken3:"#c62828",darken4:"#b71c1c",accent1:"#ff8a80",accent2:"#ff5252",accent3:"#ff1744",accent4:"#d50000"},Rfe={base:"#e91e63",lighten5:"#fce4ec",lighten4:"#f8bbd0",lighten3:"#f48fb1",lighten2:"#f06292",lighten1:"#ec407a",darken1:"#d81b60",darken2:"#c2185b",darken3:"#ad1457",darken4:"#880e4f",accent1:"#ff80ab",accent2:"#ff4081",accent3:"#f50057",accent4:"#c51162"},Mfe={base:"#9c27b0",lighten5:"#f3e5f5",lighten4:"#e1bee7",lighten3:"#ce93d8",lighten2:"#ba68c8",lighten1:"#ab47bc",darken1:"#8e24aa",darken2:"#7b1fa2",darken3:"#6a1b9a",darken4:"#4a148c",accent1:"#ea80fc",accent2:"#e040fb",accent3:"#d500f9",accent4:"#aa00ff"},Vfe={base:"#673ab7",lighten5:"#ede7f6",lighten4:"#d1c4e9",lighten3:"#b39ddb",lighten2:"#9575cd",lighten1:"#7e57c2",darken1:"#5e35b1",darken2:"#512da8",darken3:"#4527a0",darken4:"#311b92",accent1:"#b388ff",accent2:"#7c4dff",accent3:"#651fff",accent4:"#6200ea"},Lfe={base:"#3f51b5",lighten5:"#e8eaf6",lighten4:"#c5cae9",lighten3:"#9fa8da",lighten2:"#7986cb",lighten1:"#5c6bc0",darken1:"#3949ab",darken2:"#303f9f",darken3:"#283593",darken4:"#1a237e",accent1:"#8c9eff",accent2:"#536dfe",accent3:"#3d5afe",accent4:"#304ffe"},Nfe={base:"#2196f3",lighten5:"#e3f2fd",lighten4:"#bbdefb",lighten3:"#90caf9",lighten2:"#64b5f6",lighten1:"#42a5f5",darken1:"#1e88e5",darken2:"#1976d2",darken3:"#1565c0",darken4:"#0d47a1",accent1:"#82b1ff",accent2:"#448aff",accent3:"#2979ff",accent4:"#2962ff"},Ffe={base:"#03a9f4",lighten5:"#e1f5fe",lighten4:"#b3e5fc",lighten3:"#81d4fa",lighten2:"#4fc3f7",lighten1:"#29b6f6",darken1:"#039be5",darken2:"#0288d1",darken3:"#0277bd",darken4:"#01579b",accent1:"#80d8ff",accent2:"#40c4ff",accent3:"#00b0ff",accent4:"#0091ea"},Bfe={base:"#00bcd4",lighten5:"#e0f7fa",lighten4:"#b2ebf2",lighten3:"#80deea",lighten2:"#4dd0e1",lighten1:"#26c6da",darken1:"#00acc1",darken2:"#0097a7",darken3:"#00838f",darken4:"#006064",accent1:"#84ffff",accent2:"#18ffff",accent3:"#00e5ff",accent4:"#00b8d4"},jfe={base:"#009688",lighten5:"#e0f2f1",lighten4:"#b2dfdb",lighten3:"#80cbc4",lighten2:"#4db6ac",lighten1:"#26a69a",darken1:"#00897b",darken2:"#00796b",darken3:"#00695c",darken4:"#004d40",accent1:"#a7ffeb",accent2:"#64ffda",accent3:"#1de9b6",accent4:"#00bfa5"},$fe={base:"#4caf50",lighten5:"#e8f5e9",lighten4:"#c8e6c9",lighten3:"#a5d6a7",lighten2:"#81c784",lighten1:"#66bb6a",darken1:"#43a047",darken2:"#388e3c",darken3:"#2e7d32",darken4:"#1b5e20",accent1:"#b9f6ca",accent2:"#69f0ae",accent3:"#00e676",accent4:"#00c853"},Ufe={base:"#8bc34a",lighten5:"#f1f8e9",lighten4:"#dcedc8",lighten3:"#c5e1a5",lighten2:"#aed581",lighten1:"#9ccc65",darken1:"#7cb342",darken2:"#689f38",darken3:"#558b2f",darken4:"#33691e",accent1:"#ccff90",accent2:"#b2ff59",accent3:"#76ff03",accent4:"#64dd17"},Hfe={base:"#cddc39",lighten5:"#f9fbe7",lighten4:"#f0f4c3",lighten3:"#e6ee9c",lighten2:"#dce775",lighten1:"#d4e157",darken1:"#c0ca33",darken2:"#afb42b",darken3:"#9e9d24",darken4:"#827717",accent1:"#f4ff81",accent2:"#eeff41",accent3:"#c6ff00",accent4:"#aeea00"},zfe={base:"#ffeb3b",lighten5:"#fffde7",lighten4:"#fff9c4",lighten3:"#fff59d",lighten2:"#fff176",lighten1:"#ffee58",darken1:"#fdd835",darken2:"#fbc02d",darken3:"#f9a825",darken4:"#f57f17",accent1:"#ffff8d",accent2:"#ffff00",accent3:"#ffea00",accent4:"#ffd600"},Wfe={base:"#ffc107",lighten5:"#fff8e1",lighten4:"#ffecb3",lighten3:"#ffe082",lighten2:"#ffd54f",lighten1:"#ffca28",darken1:"#ffb300",darken2:"#ffa000",darken3:"#ff8f00",darken4:"#ff6f00",accent1:"#ffe57f",accent2:"#ffd740",accent3:"#ffc400",accent4:"#ffab00"},Yfe={base:"#ff9800",lighten5:"#fff3e0",lighten4:"#ffe0b2",lighten3:"#ffcc80",lighten2:"#ffb74d",lighten1:"#ffa726",darken1:"#fb8c00",darken2:"#f57c00",darken3:"#ef6c00",darken4:"#e65100",accent1:"#ffd180",accent2:"#ffab40",accent3:"#ff9100",accent4:"#ff6d00"},Gfe={base:"#ff5722",lighten5:"#fbe9e7",lighten4:"#ffccbc",lighten3:"#ffab91",lighten2:"#ff8a65",lighten1:"#ff7043",darken1:"#f4511e",darken2:"#e64a19",darken3:"#d84315",darken4:"#bf360c",accent1:"#ff9e80",accent2:"#ff6e40",accent3:"#ff3d00",accent4:"#dd2c00"},qfe={base:"#795548",lighten5:"#efebe9",lighten4:"#d7ccc8",lighten3:"#bcaaa4",lighten2:"#a1887f",lighten1:"#8d6e63",darken1:"#6d4c41",darken2:"#5d4037",darken3:"#4e342e",darken4:"#3e2723"},Xfe={base:"#607d8b",lighten5:"#eceff1",lighten4:"#cfd8dc",lighten3:"#b0bec5",lighten2:"#90a4ae",lighten1:"#78909c",darken1:"#546e7a",darken2:"#455a64",darken3:"#37474f",darken4:"#263238"},Kfe={base:"#9e9e9e",lighten5:"#fafafa",lighten4:"#f5f5f5",lighten3:"#eeeeee",lighten2:"#e0e0e0",lighten1:"#bdbdbd",darken1:"#757575",darken2:"#616161",darken3:"#424242",darken4:"#212121"},Qfe={black:"#000000",white:"#ffffff",transparent:"#ffffff00"},Jfe={red:Ofe,pink:Rfe,purple:Mfe,deepPurple:Vfe,indigo:Lfe,blue:Nfe,lightBlue:Ffe,cyan:Bfe,teal:jfe,green:$fe,lightGreen:Ufe,lime:Hfe,yellow:zfe,amber:Wfe,orange:Yfe,deepOrange:Gfe,brown:qfe,blueGrey:Xfe,grey:Kfe,shades:Qfe},Zfe=te({swatches:{type:Array,default:()=>eme(Jfe)},disabled:Boolean,color:Object,maxHeight:[Number,String],...je()},"VColorPickerSwatches");function eme(t){return Object.keys(t).map(e=>{const n=t[e];return n.base?[n.base,n.darken4,n.darken3,n.darken2,n.darken1,n.lighten1,n.lighten2,n.lighten3,n.lighten4,n.lighten5]:[n.black,n.white,n.transparent]})}const tme=xr({name:"VColorPickerSwatches",props:Zfe(),emits:{"update:color":t=>!0},setup(t,e){let{emit:n}=e;return xe(()=>m("div",{class:["v-color-picker-swatches",t.class],style:[{maxHeight:Ne(t.maxHeight)},t.style]},[m("div",null,[t.swatches.map(i=>m("div",{class:"v-color-picker-swatches__swatch"},[i.map(s=>{const r=Or(s),a=Wb(r),o=Mj(r);return m("div",{class:"v-color-picker-swatches__color",onClick:()=>a&&n("update:color",a)},[m("div",{style:{background:o}},[t.color&&Ka(t.color,a)?m(jt,{size:"x-small",icon:"$success",color:$ne(s,"#FFFFFF")>2?"white":"black"},null):void 0])])})]))])])),{}}}),ig=te({color:String,...ir(),...je(),...mi(),...Pi(),...Yo(),...Uh(),...On(),...yt(),...Ft()},"VSheet"),Ya=pe()({name:"VSheet",props:ig(),setup(t,e){let{slots:n}=e;const{themeClasses:i}=Qt(t),{backgroundColorClasses:s,backgroundColorStyles:r}=an(ve(t,"color")),{borderClasses:a}=Tr(t),{dimensionStyles:o}=vi(t),{elevationClasses:l}=Wi(t),{locationStyles:u}=Uc(t),{positionClasses:d}=Hh(t),{roundedClasses:c}=qn(t);return xe(()=>m(t.tag,{class:["v-sheet",i.value,s.value,a.value,l.value,d.value,c.value,t.class],style:[r.value,o.value,u.value,t.style]},n)),{}}}),nme=te({canvasHeight:{type:[String,Number],default:150},disabled:Boolean,dotSize:{type:[Number,String],default:10},hideCanvas:Boolean,hideSliders:Boolean,hideInputs:Boolean,mode:{type:String,default:"rgba",validator:t=>Object.keys(Yu).includes(t)},modes:{type:Array,default:()=>Object.keys(Yu),validator:t=>Array.isArray(t)&&t.every(e=>Object.keys(Yu).includes(e))},showSwatches:Boolean,swatches:Array,swatchesMaxHeight:{type:[Number,String],default:150},modelValue:{type:[Object,String]},...tn(ig({width:300}),["height","location","minHeight","maxHeight","minWidth","maxWidth"])},"VColorPicker"),ime=xr({name:"VColorPicker",props:nme(),emits:{"update:modelValue":t=>!0,"update:mode":t=>!0},setup(t){const e=Ye(t,"mode"),n=Y(null),i=Ye(t,"modelValue",void 0,l=>{if(l==null||l==="")return null;let u;try{u=Wb(Or(l))}catch{return null}return u},l=>l?yfe(l,t.modelValue):null),s=R(()=>i.value?{...i.value,h:n.value??i.value.h}:null),{rtlClasses:r}=Ti();let a=!0;we(i,l=>{if(!a){a=!0;return}l&&(n.value=l.h)},{immediate:!0});const o=l=>{a=!1,n.value=l.h,i.value=l};return Th(()=>{t.modes.includes(e.value)||(e.value=t.modes[0])}),Dn({VSlider:{color:void 0,trackColor:void 0,trackFillColor:void 0}}),xe(()=>{const l=Ya.filterProps(t);return m(Ya,J({rounded:t.rounded,elevation:t.elevation,theme:t.theme,class:["v-color-picker",r.value,t.class],style:[{"--v-color-picker-color-hsv":Vj({...s.value??wd,a:1})},t.style]},l,{maxWidth:t.width}),{default:()=>[!t.hideCanvas&&m(pfe,{key:"canvas",color:s.value,"onUpdate:color":o,disabled:t.disabled,dotSize:t.dotSize,width:t.width,height:t.canvasHeight},null),(!t.hideSliders||!t.hideInputs)&&m("div",{key:"controls",class:"v-color-picker__controls"},[!t.hideSliders&&m(Afe,{key:"preview",color:s.value,"onUpdate:color":o,hideAlpha:!e.value.endsWith("a"),disabled:t.disabled},null),!t.hideInputs&&m(Tfe,{key:"edit",modes:t.modes,mode:e.value,"onUpdate:mode":u=>e.value=u,color:s.value,"onUpdate:color":o,disabled:t.disabled},null)]),t.showSwatches&&m(tme,{key:"swatches",color:s.value,"onUpdate:color":o,maxHeight:t.swatchesMaxHeight,swatches:t.swatches,disabled:t.disabled},null)]})}),{}}});function sme(t,e,n){if(e==null)return t;if(Array.isArray(e))throw new Error("Multiple matches is not implemented");return typeof e=="number"&&~e?m(Ie,null,[m("span",{class:"v-combobox__unmask"},[t.substr(0,e)]),m("span",{class:"v-combobox__mask"},[t.substr(e,n)]),m("span",{class:"v-combobox__unmask"},[t.substr(e+n)])]):t}const rme=te({autoSelectFirst:{type:[Boolean,String]},clearOnSelect:{type:Boolean,default:!0},delimiters:Array,...Xh({filterKeys:["title"]}),...mC({hideNoData:!0,returnObject:!0}),...tn(qh({modelValue:null,role:"combobox"}),["validationValue","dirty","appendInnerIcon"]),...ya({transition:!1})},"VCombobox"),ame=pe()({name:"VCombobox",props:rme(),emits:{"update:focused":t=>!0,"update:modelValue":t=>!0,"update:search":t=>!0,"update:menu":t=>!0},setup(t,e){var ye;let{emit:n,slots:i}=e;const{t:s}=gn(),r=Y(),a=Me(!1),o=Me(!0),l=Me(!1),u=Y(),d=Y(),c=Ye(t,"menu"),f=R({get:()=>c.value,set:L=>{var F;c.value&&!L&&((F=u.value)!=null&&F.openChildren.size)||(c.value=L)}}),h=Me(-1);let g=!1;const v=R(()=>{var L;return(L=r.value)==null?void 0:L.color}),p=R(()=>f.value?t.closeText:t.openText),{items:_,transformIn:b,transformOut:x}=lC(t),{textColorClasses:k,textColorStyles:I}=Ui(v),E=Ye(t,"modelValue",[],L=>b(bn(L)),L=>{const F=x(L);return t.multiple?F:F[0]??null}),T=eg(t),S=R(()=>!!(t.chips||i.chip)),w=R(()=>S.value||!!i.selection),P=Me(!t.multiple&&!w.value?((ye=E.value[0])==null?void 0:ye.title)??"":""),C=R({get:()=>P.value,set:L=>{var F;if(P.value=L??"",!t.multiple&&!w.value&&(E.value=[vl(t,L)]),L&&t.multiple&&((F=t.delimiters)!=null&&F.length)){const K=L.split(new RegExp(`(?:${t.delimiters.join("|")})+`));K.length>1&&(K.forEach(de=>{de=de.trim(),de&&q(vl(t,de))}),P.value="")}L||(h.value=-1),o.value=!L}}),D=R(()=>typeof t.counterValue=="function"?t.counterValue(E.value):typeof t.counterValue=="number"?t.counterValue:t.multiple?E.value.length:C.value.length);we(P,L=>{g?pt(()=>g=!1):a.value&&!f.value&&(f.value=!0),n("update:search",L)}),we(E,L=>{var F;!t.multiple&&!w.value&&(P.value=((F=L[0])==null?void 0:F.title)??"")});const{filteredItems:A,getMatches:N}=Kh(t,_,()=>o.value?"":C.value),B=R(()=>t.hideSelected?A.value.filter(L=>!E.value.some(F=>F.value===L.value)):A.value),H=R(()=>E.value.map(L=>L.value)),G=R(()=>{var F;return(t.autoSelectFirst===!0||t.autoSelectFirst==="exact"&&C.value===((F=B.value[0])==null?void 0:F.title))&&B.value.length>0&&!o.value&&!l.value}),z=R(()=>t.hideNoData&&!B.value.length||T.isReadonly.value||T.isDisabled.value),X=Y(),W=fC(X,r);function Z(L){g=!0,t.openOnClear&&(f.value=!0)}function ee(){z.value||(f.value=!0)}function le(L){z.value||(a.value&&(L.preventDefault(),L.stopPropagation()),f.value=!f.value)}function ue(L){var F;F_(L)&&((F=r.value)==null||F.focus())}function ce(L){var de;if(dne(L)||T.isReadonly.value)return;const F=r.value.selectionStart,K=E.value.length;if((h.value>-1||["Enter","ArrowDown","ArrowUp"].includes(L.key))&&L.preventDefault(),["Enter","ArrowDown"].includes(L.key)&&(f.value=!0),["Escape"].includes(L.key)&&(f.value=!1),["Enter","Escape","Tab"].includes(L.key)&&(G.value&&["Enter","Tab"].includes(L.key)&&!E.value.some(ne=>{let{value:Se}=ne;return Se===B.value[0].value})&&q(A.value[0]),o.value=!0),L.key==="ArrowDown"&&G.value&&((de=X.value)==null||de.focus("next")),L.key==="Enter"&&C.value&&(q(vl(t,C.value)),w.value&&(P.value="")),["Backspace","Delete"].includes(L.key)){if(!t.multiple&&w.value&&E.value.length>0&&!C.value)return q(E.value[0],!1);if(~h.value){const ne=h.value;q(E.value[h.value],!1),h.value=ne>=K-1?K-2:ne}else L.key==="Backspace"&&!C.value&&(h.value=K-1)}if(t.multiple){if(L.key==="ArrowLeft"){if(h.value<0&&F>0)return;const ne=h.value>-1?h.value-1:K-1;E.value[ne]?h.value=ne:(h.value=-1,r.value.setSelectionRange(C.value.length,C.value.length))}if(L.key==="ArrowRight"){if(h.value<0)return;const ne=h.value+1;E.value[ne]?h.value=ne:(h.value=-1,r.value.setSelectionRange(0,0))}}}function se(){var L;t.eager&&((L=d.value)==null||L.calculateVisibleItems())}function $(){var L;a.value&&(o.value=!0,(L=r.value)==null||L.focus())}function q(L){let F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!(!L||L.props.disabled))if(t.multiple){const K=E.value.findIndex(ne=>t.valueComparator(ne.value,L.value)),de=F??!~K;if(~K){const ne=de?[...E.value,L]:[...E.value];ne.splice(K,1),E.value=ne}else de&&(E.value=[...E.value,L]);t.clearOnSelect&&(C.value="")}else{const K=F!==!1;E.value=K?[L]:[],P.value=K&&!w.value?L.title:"",pt(()=>{f.value=!1,o.value=!0})}}function re(L){a.value=!0,setTimeout(()=>{l.value=!0})}function ge(L){l.value=!1}function fe(L){(L==null||L===""&&!t.multiple&&!w.value)&&(E.value=[])}return we(a,(L,F)=>{if(!(L||L===F)&&(h.value=-1,f.value=!1,C.value)){if(t.multiple){q(vl(t,C.value));return}if(!w.value)return;E.value.some(K=>{let{title:de}=K;return de===C.value})?P.value="":q(vl(t,C.value))}}),we(f,()=>{if(!t.hideSelected&&f.value&&E.value.length){const L=B.value.findIndex(F=>E.value.some(K=>t.valueComparator(K.value,F.value)));Gt&&window.requestAnimationFrame(()=>{var F;L>=0&&((F=d.value)==null||F.scrollToIndex(L))})}}),we(()=>t.items,(L,F)=>{f.value||a.value&&!F.length&&L.length&&(f.value=!0)}),xe(()=>{const L=!!(!t.hideNoData||B.value.length||i["prepend-item"]||i["append-item"]||i["no-data"]),F=E.value.length>0,K=ma.filterProps(t);return m(ma,J({ref:r},K,{modelValue:C.value,"onUpdate:modelValue":[de=>C.value=de,fe],focused:a.value,"onUpdate:focused":de=>a.value=de,validationValue:E.externalValue,counterValue:D.value,dirty:F,class:["v-combobox",{"v-combobox--active-menu":f.value,"v-combobox--chips":!!t.chips,"v-combobox--selection-slot":!!w.value,"v-combobox--selecting-index":h.value>-1,[`v-combobox--${t.multiple?"multiple":"single"}`]:!0},t.class],style:t.style,readonly:T.isReadonly.value,placeholder:F?void 0:t.placeholder,"onClick:clear":Z,"onMousedown:control":ee,onKeydown:ce}),{...i,default:()=>m(Ie,null,[m(cc,J({ref:u,modelValue:f.value,"onUpdate:modelValue":de=>f.value=de,activator:"parent",contentClass:"v-combobox__content",disabled:z.value,eager:t.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:t.transition,onAfterEnter:se,onAfterLeave:$},t.menuProps),{default:()=>[L&&m(hh,J({ref:X,selected:H.value,selectStrategy:t.multiple?"independent":"single-independent",onMousedown:de=>de.preventDefault(),onKeydown:ue,onFocusin:re,onFocusout:ge,tabindex:"-1","aria-live":"polite",color:t.itemColor??t.color},W,t.listProps),{default:()=>{var de,ne,Se;return[(de=i["prepend-item"])==null?void 0:de.call(i),!B.value.length&&!t.hideNoData&&(((ne=i["no-data"])==null?void 0:ne.call(i))??m(br,{key:"no-data",title:s(t.noDataText)},null)),m(p0,{ref:d,renderless:!0,items:B.value},{default:Ve=>{var Be;let{item:ke,index:Le,itemRef:Ce}=Ve;const Ge=J(ke.props,{ref:Ce,key:ke.value,active:G.value&&Le===0?!0:void 0,onClick:()=>q(ke,null)});return((Be=i.item)==null?void 0:Be.call(i,{item:ke,index:Le,props:Ge}))??m(br,J(Ge,{role:"option"}),{prepend:Ke=>{let{isSelected:ze}=Ke;return m(Ie,null,[t.multiple&&!t.hideSelected?m(Wa,{key:ke.value,modelValue:ze,ripple:!1,tabindex:"-1"},null):void 0,ke.props.prependAvatar&&m($s,{image:ke.props.prependAvatar},null),ke.props.prependIcon&&m(jt,{icon:ke.props.prependIcon},null)])},title:()=>{var Ke,ze;return o.value?ke.title:sme(ke.title,(Ke=N(ke))==null?void 0:Ke.title,((ze=C.value)==null?void 0:ze.length)??0)}})}}),(Se=i["append-item"])==null?void 0:Se.call(i)]}})]}),E.value.map((de,ne)=>{function Se(Ce){Ce.stopPropagation(),Ce.preventDefault(),q(de,!1)}const Ve={"onClick:close":Se,onKeydown(Ce){Ce.key!=="Enter"&&Ce.key!==" "||(Ce.preventDefault(),Ce.stopPropagation(),Se(Ce))},onMousedown(Ce){Ce.preventDefault(),Ce.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0},ke=S.value?!!i.chip:!!i.selection,Le=ke?zb(S.value?i.chip({item:de,index:ne,props:Ve}):i.selection({item:de,index:ne})):void 0;if(!(ke&&!Le))return m("div",{key:de.value,class:["v-combobox__selection",ne===h.value&&["v-combobox__selection--selected",k.value]],style:ne===h.value?I.value:{}},[S.value?i.chip?m(ht,{key:"chip-defaults",defaults:{VChip:{closable:t.closableChips,size:"small",text:de.title}}},{default:()=>[Le]}):m(Hc,J({key:"chip",closable:t.closableChips,size:"small",text:de.title,disabled:de.props.disabled},Ve),null):Le??m("span",{class:"v-combobox__selection-text"},[de.title,t.multiple&&ne<E.value.length-1&&m("span",{class:"v-combobox__selection-comma"},[Ee(",")])])])})]),"append-inner":function(){var Ve;for(var de=arguments.length,ne=new Array(de),Se=0;Se<de;Se++)ne[Se]=arguments[Se];return m(Ie,null,[(Ve=i["append-inner"])==null?void 0:Ve.call(i,...ne),(!t.hideNoData||t.items.length)&&t.menuIcon?m(jt,{class:"v-combobox__menu-icon",icon:t.menuIcon,onMousedown:le,onClick:Cj,"aria-label":s(p.value),title:s(p.value),tabindex:"-1"},null):void 0])}})}),Pr({isFocused:a,isPristine:o,menu:f,search:C,selectionIndex:h,filteredItems:A,select:q},r)}}),t3=te({modelValue:null,color:String,cancelText:{type:String,default:"$vuetify.confirmEdit.cancel"},okText:{type:String,default:"$vuetify.confirmEdit.ok"}},"VConfirmEdit"),TS=pe()({name:"VConfirmEdit",props:t3(),emits:{cancel:()=>!0,save:t=>!0,"update:modelValue":t=>!0},setup(t,e){let{emit:n,slots:i}=e;const s=Ye(t,"modelValue"),r=Y();yn(()=>{r.value=structuredClone(Qe(s.value))});const{t:a}=gn(),o=R(()=>Ka(s.value,r.value));function l(){s.value=r.value,n("save",r.value)}function u(){r.value=structuredClone(Qe(s.value)),n("cancel")}function d(f){return m(Ie,null,[m(gt,J({disabled:o.value,variant:"text",color:t.color,onClick:u,text:a(t.cancelText)},f),null),m(gt,J({disabled:o.value,variant:"text",color:t.color,onClick:l,text:a(t.okText)},f),null)])}let c=!1;return xe(()=>{var f;return m(Ie,null,[(f=i.default)==null?void 0:f.call(i,{model:r,save:l,cancel:u,isPristine:o.value,get actions(){return c=!0,d}}),!c&&d()])}),{save:l,cancel:u,isPristine:o}}}),n3=te({expandOnClick:Boolean,showExpand:Boolean,expanded:{type:Array,default:()=>[]}},"DataTable-expand"),i3=Symbol.for("vuetify:datatable:expanded");function b0(t){const e=ve(t,"expandOnClick"),n=Ye(t,"expanded",t.expanded,o=>new Set(o),o=>[...o.values()]);function i(o,l){const u=new Set(n.value);l?u.add(o.value):u.delete(o.value),n.value=u}function s(o){return n.value.has(o.value)}function r(o){i(o,!s(o))}const a={expand:i,expanded:n,expandOnClick:e,isExpanded:s,toggleExpand:r};return Jt(i3,a),a}function s3(){const t=vt(i3);if(!t)throw new Error("foo");return t}const _C=te({groupBy:{type:Array,default:()=>[]}},"DataTable-group"),r3=Symbol.for("vuetify:data-table-group");function yC(t){return{groupBy:Ye(t,"groupBy")}}function w0(t){const{disableSort:e,groupBy:n,sortBy:i}=t,s=Y(new Set),r=R(()=>n.value.map(d=>({...d,order:d.order??!1})).concat(e!=null&&e.value?[]:i.value));function a(d){return s.value.has(d.id)}function o(d){const c=new Set(s.value);a(d)?c.delete(d.id):c.add(d.id),s.value=c}function l(d){function c(f){const h=[];for(const g of f.items)"type"in g&&g.type==="group"?h.push(...c(g)):h.push(g);return h}return c({type:"group",items:d,id:"dummy",key:"dummy",value:"dummy",depth:0})}const u={sortByWithGroups:r,toggleGroup:o,opened:s,groupBy:n,extractRows:l,isGroupOpen:a};return Jt(r3,u),u}function a3(){const t=vt(r3);if(!t)throw new Error("Missing group!");return t}function ome(t,e){if(!t.length)return[];const n=new Map;for(const i of t){const s=ac(i.raw,e);n.has(s)||n.set(s,[]),n.get(s).push(i)}return n}function o3(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"root";if(!e.length)return[];const s=ome(t,e[0]),r=[],a=e.slice(1);return s.forEach((o,l)=>{const u=e[0],d=`${i}_${u}_${l}`;r.push({depth:n,id:d,key:u,value:l,items:a.length?o3(o,a,n+1,d):o,type:"group"})}),r}function l3(t,e){const n=[];for(const i of t)"type"in i&&i.type==="group"?(i.value!=null&&n.push(i),(e.has(i.id)||i.value==null)&&n.push(...l3(i.items,e))):n.push(i);return n}function x0(t,e,n){return{flatItems:R(()=>{if(!e.value.length)return t.value;const s=o3(t.value,e.value.map(r=>r.key));return l3(s,n.value)})}}function S0(t){let{page:e,itemsPerPage:n,sortBy:i,groupBy:s,search:r}=t;const a=Gn("VDataTable"),o=R(()=>({page:e.value,itemsPerPage:n.value,sortBy:i.value,groupBy:s.value,search:r.value}));let l=null;we(o,()=>{Ka(l,o.value)||(l&&l.search!==o.value.search&&(e.value=1),a.emit("update:options",o.value),l=o.value)},{deep:!0,immediate:!0})}const bC=te({page:{type:[Number,String],default:1},itemsPerPage:{type:[Number,String],default:10}},"DataTable-paginate"),u3=Symbol.for("vuetify:data-table-pagination");function wC(t){const e=Ye(t,"page",void 0,i=>+(i??1)),n=Ye(t,"itemsPerPage",void 0,i=>+(i??10));return{page:e,itemsPerPage:n}}function xC(t){const{page:e,itemsPerPage:n,itemsLength:i}=t,s=R(()=>n.value===-1?0:n.value*(e.value-1)),r=R(()=>n.value===-1?i.value:Math.min(i.value,s.value+n.value)),a=R(()=>n.value===-1||i.value===0?1:Math.ceil(i.value/n.value));we([e,a],()=>{e.value>a.value&&(e.value=a.value)});function o(f){n.value=f,e.value=1}function l(){e.value=$n(e.value+1,1,a.value)}function u(){e.value=$n(e.value-1,1,a.value)}function d(f){e.value=$n(f,1,a.value)}const c={page:e,itemsPerPage:n,startIndex:s,stopIndex:r,pageCount:a,itemsLength:i,nextPage:l,prevPage:u,setPage:d,setItemsPerPage:o};return Jt(u3,c),c}function lme(){const t=vt(u3);if(!t)throw new Error("Missing pagination!");return t}function c3(t){const e=Gn("usePaginatedItems"),{items:n,startIndex:i,stopIndex:s,itemsPerPage:r}=t,a=R(()=>r.value<=0?n.value:n.value.slice(i.value,s.value));return we(a,o=>{e.emit("update:currentItems",o)}),{paginatedItems:a}}const ume={showSelectAll:!1,allSelected:()=>[],select:t=>{var i;let{items:e,value:n}=t;return new Set(n?[(i=e[0])==null?void 0:i.value]:[])},selectAll:t=>{let{selected:e}=t;return e}},d3={showSelectAll:!0,allSelected:t=>{let{currentPage:e}=t;return e},select:t=>{let{items:e,value:n,selected:i}=t;for(const s of e)n?i.add(s.value):i.delete(s.value);return i},selectAll:t=>{let{value:e,currentPage:n,selected:i}=t;return d3.select({items:n,value:e,selected:i})}},h3={showSelectAll:!0,allSelected:t=>{let{allItems:e}=t;return e},select:t=>{let{items:e,value:n,selected:i}=t;for(const s of e)n?i.add(s.value):i.delete(s.value);return i},selectAll:t=>{let{value:e,allItems:n,selected:i}=t;return h3.select({items:n,value:e,selected:i})}},f3=te({showSelect:Boolean,selectStrategy:{type:[String,Object],default:"page"},modelValue:{type:Array,default:()=>[]},valueComparator:{type:Function,default:Ka}},"DataTable-select"),m3=Symbol.for("vuetify:data-table-selection");function k0(t,e){let{allItems:n,currentPage:i}=e;const s=Ye(t,"modelValue",t.modelValue,_=>new Set(bn(_).map(b=>{var x;return((x=n.value.find(k=>t.valueComparator(b,k.value)))==null?void 0:x.value)??b})),_=>[..._.values()]),r=R(()=>n.value.filter(_=>_.selectable)),a=R(()=>i.value.filter(_=>_.selectable)),o=R(()=>{if(typeof t.selectStrategy=="object")return t.selectStrategy;switch(t.selectStrategy){case"single":return ume;case"all":return h3;case"page":default:return d3}});function l(_){return bn(_).every(b=>s.value.has(b.value))}function u(_){return bn(_).some(b=>s.value.has(b.value))}function d(_,b){const x=o.value.select({items:_,value:b,selected:new Set(s.value)});s.value=x}function c(_){d([_],!l([_]))}function f(_){const b=o.value.selectAll({value:_,allItems:r.value,currentPage:a.value,selected:new Set(s.value)});s.value=b}const h=R(()=>s.value.size>0),g=R(()=>{const _=o.value.allSelected({allItems:r.value,currentPage:a.value});return!!_.length&&l(_)}),v=R(()=>o.value.showSelectAll),p={toggleSelect:c,select:d,selectAll:f,isSelected:l,isSomeSelected:u,someSelected:h,allSelected:g,showSelectAll:v};return Jt(m3,p),p}function T0(){const t=vt(m3);if(!t)throw new Error("Missing selection!");return t}const v3=te({sortBy:{type:Array,default:()=>[]},customKeySort:Object,multiSort:Boolean,mustSort:Boolean},"DataTable-sort"),g3=Symbol.for("vuetify:data-table-sort");function P0(t){const e=Ye(t,"sortBy"),n=ve(t,"mustSort"),i=ve(t,"multiSort");return{sortBy:e,mustSort:n,multiSort:i}}function C0(t){const{sortBy:e,mustSort:n,multiSort:i,page:s}=t,r=l=>{if(l.key==null)return;let u=e.value.map(c=>({...c}))??[];const d=u.find(c=>c.key===l.key);d?d.order==="desc"?n.value?d.order="asc":u=u.filter(c=>c.key!==l.key):d.order="desc":i.value?u=[...u,{key:l.key,order:"asc"}]:u=[{key:l.key,order:"asc"}],e.value=u,s&&(s.value=1)};function a(l){return!!e.value.find(u=>u.key===l.key)}const o={sortBy:e,toggleSort:r,isSorted:a};return Jt(g3,o),o}function p3(){const t=vt(g3);if(!t)throw new Error("Missing sort!");return t}function SC(t,e,n,i){const s=gn();return{sortedItems:R(()=>{var a,o;return n.value.length?cme(e.value,n.value,s.current.value,{transform:i==null?void 0:i.transform,sortFunctions:{...t.customKeySort,...(a=i==null?void 0:i.sortFunctions)==null?void 0:a.value},sortRawFunctions:(o=i==null?void 0:i.sortRawFunctions)==null?void 0:o.value}):e.value})}}function cme(t,e,n,i){const s=new Intl.Collator(n,{sensitivity:"accent",usage:"sort"});return t.map(a=>[a,i!=null&&i.transform?i.transform(a):a]).sort((a,o)=>{var l,u;for(let d=0;d<e.length;d++){let c=!1;const f=e[d].key,h=e[d].order??"asc";if(h===!1)continue;let g=ac(a[1],f),v=ac(o[1],f),p=a[0].raw,_=o[0].raw;if(h==="desc"&&([g,v]=[v,g],[p,_]=[_,p]),(l=i==null?void 0:i.sortRawFunctions)!=null&&l[f]){const b=i.sortRawFunctions[f](p,_);if(b==null)continue;if(c=!0,b)return b}if((u=i==null?void 0:i.sortFunctions)!=null&&u[f]){const b=i.sortFunctions[f](g,v);if(b==null)continue;if(c=!0,b)return b}if(!c){if(g instanceof Date&&v instanceof Date)return g.getTime()-v.getTime();if([g,v]=[g,v].map(b=>b!=null?b.toString().toLocaleLowerCase():b),g!==v)return Hg(g)&&Hg(v)?0:Hg(g)?-1:Hg(v)?1:!isNaN(g)&&!isNaN(v)?Number(g)-Number(v):s.compare(g,v)}}return 0}).map(a=>{let[o]=a;return o})}const dme=te({items:{type:Array,default:()=>[]},itemValue:{type:[String,Array,Function],default:"id"},itemSelectable:{type:[String,Array,Function],default:null},returnObject:Boolean},"DataIterator-items");function hme(t,e){const n=t.returnObject?e:ii(e,t.itemValue),i=ii(e,t.itemSelectable,!0);return{type:"item",value:n,selectable:i,raw:e}}function fme(t,e){const n=[];for(const i of e)n.push(hme(t,i));return n}function mme(t){return{items:R(()=>fme(t,t.items))}}const vme=te({search:String,loading:Boolean,...je(),...dme(),...f3(),...v3(),...bC({itemsPerPage:5}),...n3(),..._C(),...Xh(),...yt(),...ya({transition:{component:qm,hideOnLeave:!0}})},"VDataIterator"),gme=pe()({name:"VDataIterator",props:vme(),emits:{"update:modelValue":t=>!0,"update:groupBy":t=>!0,"update:page":t=>!0,"update:itemsPerPage":t=>!0,"update:sortBy":t=>!0,"update:options":t=>!0,"update:expanded":t=>!0,"update:currentItems":t=>!0},setup(t,e){let{slots:n}=e;const i=Ye(t,"groupBy"),s=ve(t,"search"),{items:r}=mme(t),{filteredItems:a}=Kh(t,r,s,{transform:Z=>Z.raw}),{sortBy:o,multiSort:l,mustSort:u}=P0(t),{page:d,itemsPerPage:c}=wC(t),{toggleSort:f}=C0({sortBy:o,multiSort:l,mustSort:u,page:d}),{sortByWithGroups:h,opened:g,extractRows:v,isGroupOpen:p,toggleGroup:_}=w0({groupBy:i,sortBy:o}),{sortedItems:b}=SC(t,a,h,{transform:Z=>Z.raw}),{flatItems:x}=x0(b,i,g),k=R(()=>x.value.length),{startIndex:I,stopIndex:E,pageCount:T,prevPage:S,nextPage:w,setItemsPerPage:P,setPage:C}=xC({page:d,itemsPerPage:c,itemsLength:k}),{paginatedItems:D}=c3({items:x,startIndex:I,stopIndex:E,itemsPerPage:c}),A=R(()=>v(D.value)),{isSelected:N,select:B,selectAll:H,toggleSelect:G}=k0(t,{allItems:r,currentPage:A}),{isExpanded:z,toggleExpand:X}=b0(t);S0({page:d,itemsPerPage:c,sortBy:o,groupBy:i,search:s});const W=R(()=>({page:d.value,itemsPerPage:c.value,sortBy:o.value,pageCount:T.value,toggleSort:f,prevPage:S,nextPage:w,setPage:C,setItemsPerPage:P,isSelected:N,select:B,selectAll:H,toggleSelect:G,isExpanded:z,toggleExpand:X,isGroupOpen:p,toggleGroup:_,items:A.value,groupedItems:D.value}));return xe(()=>m(t.tag,{class:["v-data-iterator",{"v-data-iterator--loading":t.loading},t.class],style:t.style},{default:()=>{var Z,ee;return[(Z=n.header)==null?void 0:Z.call(n,W.value),m(Ts,{transition:t.transition},{default:()=>{var le,ue;return[t.loading?m(Jv,{key:"loader",name:"v-data-iterator",active:!0},{default:ce=>{var se;return(se=n.loader)==null?void 0:se.call(n,ce)}}):m("div",{key:"items"},[D.value.length?(ue=n.default)==null?void 0:ue.call(n,W.value):(le=n["no-data"])==null?void 0:le.call(n)])]}}),(ee=n.footer)==null?void 0:ee.call(n,W.value)]}})),{}}});function pme(){const t=Y([]);yL(()=>t.value=[]);function e(n,i){t.value[i]=n}return{refs:t,updateRef:e}}const _me=te({activeColor:String,start:{type:[Number,String],default:1},modelValue:{type:Number,default:t=>t.start},disabled:Boolean,length:{type:[Number,String],default:1,validator:t=>t%1===0},totalVisible:[Number,String],firstIcon:{type:qe,default:"$first"},prevIcon:{type:qe,default:"$prev"},nextIcon:{type:qe,default:"$next"},lastIcon:{type:qe,default:"$last"},ariaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.root"},pageAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.page"},currentPageAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.currentPage"},firstAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.first"},previousAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.previous"},nextAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.next"},lastAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.last"},ellipsis:{type:String,default:"..."},showFirstLastPage:Boolean,...ir(),...je(),...Ci(),...Pi(),...On(),...Za(),...yt({tag:"nav"}),...Ft(),...Br({variant:"text"})},"VPagination"),PS=pe()({name:"VPagination",props:_me(),emits:{"update:modelValue":t=>!0,first:t=>!0,prev:t=>!0,next:t=>!0,last:t=>!0},setup(t,e){let{slots:n,emit:i}=e;const s=Ye(t,"modelValue"),{t:r,n:a}=gn(),{isRtl:o}=Ti(),{themeClasses:l}=Qt(t),{width:u}=Sr(),d=Me(-1);Dn(void 0,{scoped:!0});const{resizeRef:c}=ha(S=>{if(!S.length)return;const{target:w,contentRect:P}=S[0],C=w.querySelector(".v-pagination__list > *");if(!C)return;const D=P.width,A=C.offsetWidth+parseFloat(getComputedStyle(C).marginRight)*2;d.value=v(D,A)}),f=R(()=>parseInt(t.length,10)),h=R(()=>parseInt(t.start,10)),g=R(()=>t.totalVisible!=null?parseInt(t.totalVisible,10):d.value>=0?d.value:v(u.value,58));function v(S,w){const P=t.showFirstLastPage?5:3;return Math.max(0,Math.floor(+((S-w*P)/w).toFixed(2)))}const p=R(()=>{if(f.value<=0||isNaN(f.value)||f.value>Number.MAX_SAFE_INTEGER)return[];if(g.value<=0)return[];if(g.value===1)return[s.value];if(f.value<=g.value)return mr(f.value,h.value);const S=g.value%2===0,w=S?g.value/2:Math.floor(g.value/2),P=S?w:w+1,C=f.value-w;if(P-s.value>=0)return[...mr(Math.max(1,g.value-1),h.value),t.ellipsis,f.value];if(s.value-C>=(S?1:0)){const D=g.value-1,A=f.value-D+h.value;return[h.value,t.ellipsis,...mr(D,A)]}else{const D=Math.max(1,g.value-3),A=D===1?s.value:s.value-Math.ceil(D/2)+h.value;return[h.value,t.ellipsis,...mr(D,A),t.ellipsis,f.value]}});function _(S,w,P){S.preventDefault(),s.value=w,P&&i(P,w)}const{refs:b,updateRef:x}=pme();Dn({VPaginationBtn:{color:ve(t,"color"),border:ve(t,"border"),density:ve(t,"density"),size:ve(t,"size"),variant:ve(t,"variant"),rounded:ve(t,"rounded"),elevation:ve(t,"elevation")}});const k=R(()=>p.value.map((S,w)=>{const P=C=>x(C,w);if(typeof S=="string")return{isActive:!1,key:`ellipsis-${w}`,page:S,props:{ref:P,ellipsis:!0,icon:!0,disabled:!0}};{const C=S===s.value;return{isActive:C,key:S,page:a(S),props:{ref:P,ellipsis:!1,icon:!0,disabled:!!t.disabled||+t.length<2,color:C?t.activeColor:t.color,"aria-current":C,"aria-label":r(C?t.currentPageAriaLabel:t.pageAriaLabel,S),onClick:D=>_(D,S)}}}})),I=R(()=>{const S=!!t.disabled||s.value<=h.value,w=!!t.disabled||s.value>=h.value+f.value-1;return{first:t.showFirstLastPage?{icon:o.value?t.lastIcon:t.firstIcon,onClick:P=>_(P,h.value,"first"),disabled:S,"aria-label":r(t.firstAriaLabel),"aria-disabled":S}:void 0,prev:{icon:o.value?t.nextIcon:t.prevIcon,onClick:P=>_(P,s.value-1,"prev"),disabled:S,"aria-label":r(t.previousAriaLabel),"aria-disabled":S},next:{icon:o.value?t.prevIcon:t.nextIcon,onClick:P=>_(P,s.value+1,"next"),disabled:w,"aria-label":r(t.nextAriaLabel),"aria-disabled":w},last:t.showFirstLastPage?{icon:o.value?t.firstIcon:t.lastIcon,onClick:P=>_(P,h.value+f.value-1,"last"),disabled:w,"aria-label":r(t.lastAriaLabel),"aria-disabled":w}:void 0}});function E(){var w;const S=s.value-h.value;(w=b.value[S])==null||w.$el.focus()}function T(S){S.key===Fx.left&&!t.disabled&&s.value>+t.start?(s.value=s.value-1,pt(E)):S.key===Fx.right&&!t.disabled&&s.value<h.value+f.value-1&&(s.value=s.value+1,pt(E))}return xe(()=>m(t.tag,{ref:c,class:["v-pagination",l.value,t.class],style:t.style,role:"navigation","aria-label":r(t.ariaLabel),onKeydown:T,"data-test":"v-pagination-root"},{default:()=>[m("ul",{class:"v-pagination__list"},[t.showFirstLastPage&&m("li",{key:"first",class:"v-pagination__first","data-test":"v-pagination-first"},[n.first?n.first(I.value.first):m(gt,J({_as:"VPaginationBtn"},I.value.first),null)]),m("li",{key:"prev",class:"v-pagination__prev","data-test":"v-pagination-prev"},[n.prev?n.prev(I.value.prev):m(gt,J({_as:"VPaginationBtn"},I.value.prev),null)]),k.value.map((S,w)=>m("li",{key:S.key,class:["v-pagination__item",{"v-pagination__item--is-active":S.isActive}],"data-test":"v-pagination-item"},[n.item?n.item(S):m(gt,J({_as:"VPaginationBtn"},S.props),{default:()=>[S.page]})])),m("li",{key:"next",class:"v-pagination__next","data-test":"v-pagination-next"},[n.next?n.next(I.value.next):m(gt,J({_as:"VPaginationBtn"},I.value.next),null)]),t.showFirstLastPage&&m("li",{key:"last",class:"v-pagination__last","data-test":"v-pagination-last"},[n.last?n.last(I.value.last):m(gt,J({_as:"VPaginationBtn"},I.value.last),null)])])]})),{}}}),kC=te({prevIcon:{type:qe,default:"$prev"},nextIcon:{type:qe,default:"$next"},firstIcon:{type:qe,default:"$first"},lastIcon:{type:qe,default:"$last"},itemsPerPageText:{type:String,default:"$vuetify.dataFooter.itemsPerPageText"},pageText:{type:String,default:"$vuetify.dataFooter.pageText"},firstPageLabel:{type:String,default:"$vuetify.dataFooter.firstPage"},prevPageLabel:{type:String,default:"$vuetify.dataFooter.prevPage"},nextPageLabel:{type:String,default:"$vuetify.dataFooter.nextPage"},lastPageLabel:{type:String,default:"$vuetify.dataFooter.lastPage"},itemsPerPageOptions:{type:Array,default:()=>[{value:10,title:"10"},{value:25,title:"25"},{value:50,title:"50"},{value:100,title:"100"},{value:-1,title:"$vuetify.dataFooter.itemsPerPageAll"}]},showCurrentPage:Boolean},"VDataTableFooter"),tv=pe()({name:"VDataTableFooter",props:kC(),setup(t,e){let{slots:n}=e;const{t:i}=gn(),{page:s,pageCount:r,startIndex:a,stopIndex:o,itemsLength:l,itemsPerPage:u,setItemsPerPage:d}=lme(),c=R(()=>t.itemsPerPageOptions.map(f=>typeof f=="number"?{value:f,title:f===-1?i("$vuetify.dataFooter.itemsPerPageAll"):String(f)}:{...f,title:isNaN(Number(f.title))?i(f.title):f.title}));return xe(()=>{var h;const f=PS.filterProps(t);return m("div",{class:"v-data-table-footer"},[(h=n.prepend)==null?void 0:h.call(n),m("div",{class:"v-data-table-footer__items-per-page"},[m("span",null,[i(t.itemsPerPageText)]),m(vC,{items:c.value,modelValue:u.value,"onUpdate:modelValue":g=>d(Number(g)),density:"compact",variant:"outlined","hide-details":!0},null)]),m("div",{class:"v-data-table-footer__info"},[m("div",null,[i(t.pageText,l.value?a.value+1:0,o.value,l.value)])]),m("div",{class:"v-data-table-footer__pagination"},[m(PS,J({modelValue:s.value,"onUpdate:modelValue":g=>s.value=g,density:"comfortable","first-aria-label":t.firstPageLabel,"last-aria-label":t.lastPageLabel,length:r.value,"next-aria-label":t.nextPageLabel,"previous-aria-label":t.prevPageLabel,rounded:!0,"show-first-last-page":!0,"total-visible":t.showCurrentPage?1:0,variant:"plain"},f),null)])])}),{}}}),ny=Yne({align:{type:String,default:"start"},fixed:Boolean,fixedOffset:[Number,String],height:[Number,String],lastFixed:Boolean,noPadding:Boolean,tag:String,width:[Number,String],maxWidth:[Number,String],nowrap:Boolean},(t,e)=>{let{slots:n}=e;const i=t.tag??"td";return m(i,{class:["v-data-table__td",{"v-data-table-column--fixed":t.fixed,"v-data-table-column--last-fixed":t.lastFixed,"v-data-table-column--no-padding":t.noPadding,"v-data-table-column--nowrap":t.nowrap},`v-data-table-column--align-${t.align}`],style:{height:Ne(t.height),width:Ne(t.width),maxWidth:Ne(t.maxWidth),left:Ne(t.fixedOffset||null)}},{default:()=>{var s;return[(s=n.default)==null?void 0:s.call(n)]}})}),yme=te({headers:Array},"DataTable-header"),_3=Symbol.for("vuetify:data-table-headers"),y3={title:"",sortable:!1},bme={...y3,width:48};function wme(){const e=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]).map(n=>({element:n,priority:0}));return{enqueue:(n,i)=>{let s=!1;for(let r=0;r<e.length;r++)if(e[r].priority>i){e.splice(r,0,{element:n,priority:i}),s=!0;break}s||e.push({element:n,priority:i})},size:()=>e.length,count:()=>{let n=0;if(!e.length)return 0;const i=Math.floor(e[0].priority);for(let s=0;s<e.length;s++)Math.floor(e[s].priority)===i&&(n+=1);return n},dequeue:()=>e.shift()}}function CS(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];if(!t.children)e.push(t);else for(const n of t.children)CS(n,e);return e}function b3(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:new Set;for(const n of t)n.key&&e.add(n.key),n.children&&b3(n.children,e);return e}function xme(t){if(t.key){if(t.key==="data-table-group")return y3;if(["data-table-expand","data-table-select"].includes(t.key))return bme}}function TC(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return t.children?Math.max(e,...t.children.map(n=>TC(n,e+1))):e}function Sme(t){let e=!1;function n(r){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(r)if(a&&(r.fixed=!0),r.fixed)if(r.children)for(let o=r.children.length-1;o>=0;o--)n(r.children[o],!0);else e?isNaN(+r.width)&&(`${r.key}`,void 0):r.lastFixed=!0,e=!0;else if(r.children)for(let o=r.children.length-1;o>=0;o--)n(r.children[o]);else e=!1}for(let r=t.length-1;r>=0;r--)n(t[r]);function i(r){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(!r)return a;if(r.children){r.fixedOffset=a;for(const o of r.children)a=i(o,a)}else r.fixed&&(r.fixedOffset=a,a+=parseFloat(r.width||"0")||0);return a}let s=0;for(const r of t)s=i(r,s)}function kme(t,e){const n=[];let i=0;const s=wme(t);for(;s.size()>0;){let a=s.count();const o=[];let l=1;for(;a>0;){const{element:u,priority:d}=s.dequeue(),c=e-i-TC(u);if(o.push({...u,rowspan:c??1,colspan:u.children?CS(u).length:1}),u.children)for(const f of u.children){const h=d%1+l/Math.pow(10,i+2);s.enqueue(f,i+c+h)}l+=1,a-=1}i+=1,n.push(o)}return{columns:t.map(a=>CS(a)).flat(),headers:n}}function w3(t){const e=[];for(const n of t){const i={...xme(n),...n},s=i.key??(typeof i.value=="string"?i.value:null),r=i.value??s??null,a={...i,key:s,value:r,sortable:i.sortable??(i.key!=null||!!i.sort),children:i.children?w3(i.children):void 0};e.push(a)}return e}function PC(t,e){const n=Y([]),i=Y([]),s=Y({}),r=Y({}),a=Y({});yn(()=>{var v,p,_;const u=(t.headers||Object.keys(t.items[0]??{}).map(b=>({key:b,title:pa(b)}))).slice(),d=b3(u);(v=e==null?void 0:e.groupBy)!=null&&v.value.length&&!d.has("data-table-group")&&u.unshift({key:"data-table-group",title:"Group"}),(p=e==null?void 0:e.showSelect)!=null&&p.value&&!d.has("data-table-select")&&u.unshift({key:"data-table-select"}),(_=e==null?void 0:e.showExpand)!=null&&_.value&&!d.has("data-table-expand")&&u.push({key:"data-table-expand"});const c=w3(u);Sme(c);const f=Math.max(...c.map(b=>TC(b)))+1,h=kme(c,f);n.value=h.headers,i.value=h.columns;const g=h.headers.flat(1);for(const b of g)b.key&&(b.sortable&&(b.sort&&(s.value[b.key]=b.sort),b.sortRaw&&(r.value[b.key]=b.sortRaw)),b.filter&&(a.value[b.key]=b.filter))});const o={headers:n,columns:i,sortFunctions:s,sortRawFunctions:r,filterFunctions:a};return Jt(_3,o),o}function E0(){const t=vt(_3);if(!t)throw new Error("Missing headers!");return t}const x3=te({color:String,sticky:Boolean,disableSort:Boolean,multiSort:Boolean,sortAscIcon:{type:qe,default:"$sortAsc"},sortDescIcon:{type:qe,default:"$sortDesc"},headerProps:{type:Object},...Mc(),...h0()},"VDataTableHeaders"),fc=pe()({name:"VDataTableHeaders",props:x3(),setup(t,e){let{slots:n}=e;const{t:i}=gn(),{toggleSort:s,sortBy:r,isSorted:a}=p3(),{someSelected:o,allSelected:l,selectAll:u,showSelectAll:d}=T0(),{columns:c,headers:f}=E0(),{loaderClasses:h}=Qv(t);function g(S,w){if(!(!t.sticky&&!S.fixed))return{position:"sticky",left:S.fixed?Ne(S.fixedOffset):void 0,top:t.sticky?`calc(var(--v-table-header-height) * ${w})`:void 0}}function v(S){const w=r.value.find(P=>P.key===S.key);return w?w.order==="asc"?t.sortAscIcon:t.sortDescIcon:t.sortAscIcon}const{backgroundColorClasses:p,backgroundColorStyles:_}=an(t,"color"),{displayClasses:b,mobile:x}=Sr(t),k=R(()=>({headers:f.value,columns:c.value,toggleSort:s,isSorted:a,sortBy:r.value,someSelected:o.value,allSelected:l.value,selectAll:u,getSortIcon:v})),I=R(()=>["v-data-table__th",{"v-data-table__th--sticky":t.sticky},b.value,h.value]),E=S=>{let{column:w,x:P,y:C}=S;const D=w.key==="data-table-select"||w.key==="data-table-expand",A=J(t.headerProps??{},w.headerProps??{});return m(ny,J({tag:"th",align:w.align,class:[{"v-data-table__th--sortable":w.sortable&&!t.disableSort,"v-data-table__th--sorted":a(w),"v-data-table__th--fixed":w.fixed},...I.value],style:{width:Ne(w.width),minWidth:Ne(w.minWidth),maxWidth:Ne(w.maxWidth),...g(w,C)},colspan:w.colspan,rowspan:w.rowspan,onClick:w.sortable?()=>s(w):void 0,fixed:w.fixed,nowrap:w.nowrap,lastFixed:w.lastFixed,noPadding:D},A),{default:()=>{var H;const N=`header.${w.key}`,B={column:w,selectAll:u,isSorted:a,toggleSort:s,sortBy:r.value,someSelected:o.value,allSelected:l.value,getSortIcon:v};return n[N]?n[N](B):w.key==="data-table-select"?((H=n["header.data-table-select"])==null?void 0:H.call(n,B))??(d.value&&m(Wa,{modelValue:l.value,indeterminate:o.value&&!l.value,"onUpdate:modelValue":u},null)):m("div",{class:"v-data-table-header__content"},[m("span",null,[w.title]),w.sortable&&!t.disableSort&&m(jt,{key:"icon",class:"v-data-table-header__sort-icon",icon:v(w)},null),t.multiSort&&a(w)&&m("div",{key:"badge",class:["v-data-table-header__sort-badge",...p.value],style:_.value},[r.value.findIndex(G=>G.key===w.key)+1])])}})},T=()=>{const S=J(t.headerProps??{}??{}),w=R(()=>c.value.filter(C=>(C==null?void 0:C.sortable)&&!t.disableSort)),P=R(()=>{if(c.value.find(D=>D.key==="data-table-select")!=null)return l.value?"$checkboxOn":o.value?"$checkboxIndeterminate":"$checkboxOff"});return m(ny,J({tag:"th",class:[...I.value],colspan:f.value.length+1},S),{default:()=>[m("div",{class:"v-data-table-header__content"},[m(vC,{chips:!0,class:"v-data-table__td-sort-select",clearable:!0,density:"default",items:w.value,label:i("$vuetify.dataTable.sortBy"),multiple:t.multiSort,variant:"underlined","onClick:clear":()=>r.value=[],appendIcon:P.value,"onClick:append":()=>u(!l.value)},{...n,chip:C=>{var D;return m(Hc,{onClick:(D=C.item.raw)!=null&&D.sortable?()=>s(C.item.raw):void 0,onMousedown:A=>{A.preventDefault(),A.stopPropagation()}},{default:()=>[C.item.title,m(jt,{class:["v-data-table__td-sort-icon",a(C.item.raw)&&"v-data-table__td-sort-icon-active"],icon:v(C.item.raw),size:"small"},null)]})}})])]})};xe(()=>x.value?m("tr",null,[m(T,null,null)]):m(Ie,null,[n.headers?n.headers(k.value):f.value.map((S,w)=>m("tr",null,[S.map((P,C)=>m(E,{column:P,x:C,y:w},null))])),t.loading&&m("tr",{class:"v-data-table-progress"},[m("th",{colspan:c.value.length},[m(Jv,{name:"v-data-table-progress",absolute:!0,active:!0,color:typeof t.loading=="boolean"?void 0:t.loading,indeterminate:!0},{default:n.loader})])])]))}}),Tme=te({item:{type:Object,required:!0}},"VDataTableGroupHeaderRow"),Pme=pe()({name:"VDataTableGroupHeaderRow",props:Tme(),setup(t,e){let{slots:n}=e;const{isGroupOpen:i,toggleGroup:s,extractRows:r}=a3(),{isSelected:a,isSomeSelected:o,select:l}=T0(),{columns:u}=E0(),d=R(()=>r([t.item]));return()=>m("tr",{class:"v-data-table-group-header-row",style:{"--v-data-table-group-header-row-depth":t.item.depth}},[u.value.map(c=>{var f,h;if(c.key==="data-table-group"){const g=i(t.item)?"$expand":"$next",v=()=>s(t.item);return((f=n["data-table-group"])==null?void 0:f.call(n,{item:t.item,count:d.value.length,props:{icon:g,onClick:v}}))??m(ny,{class:"v-data-table-group-header-row__column"},{default:()=>[m(gt,{size:"small",variant:"text",icon:g,onClick:v},null),m("span",null,[t.item.value]),m("span",null,[Ee("("),d.value.length,Ee(")")])]})}if(c.key==="data-table-select"){const g=a(d.value),v=o(d.value)&&!g,p=_=>l(d.value,_);return((h=n["data-table-select"])==null?void 0:h.call(n,{props:{modelValue:g,indeterminate:v,"onUpdate:modelValue":p}}))??m("td",null,[m(Wa,{modelValue:g,indeterminate:v,"onUpdate:modelValue":p},null)])}return m("td",null,null)})])}}),Cme=te({index:Number,item:Object,cellProps:[Object,Function],onClick:Ri(),onContextmenu:Ri(),onDblclick:Ri(),...Mc()},"VDataTableRow"),CC=pe()({name:"VDataTableRow",props:Cme(),setup(t,e){let{slots:n}=e;const{displayClasses:i,mobile:s}=Sr(t,"v-data-table__tr"),{isSelected:r,toggleSelect:a,someSelected:o,allSelected:l,selectAll:u}=T0(),{isExpanded:d,toggleExpand:c}=s3(),{toggleSort:f,sortBy:h,isSorted:g}=p3(),{columns:v}=E0();xe(()=>m("tr",{class:["v-data-table__tr",{"v-data-table__tr--clickable":!!(t.onClick||t.onContextmenu||t.onDblclick)},i.value],onClick:t.onClick,onContextmenu:t.onContextmenu,onDblclick:t.onDblclick},[t.item&&v.value.map((p,_)=>{const b=t.item,x=`item.${p.key}`,k=`header.${p.key}`,I={index:t.index,item:b.raw,internalItem:b,value:ac(b.columns,p.key),column:p,isSelected:r,toggleSelect:a,isExpanded:d,toggleExpand:c},E={column:p,selectAll:u,isSorted:g,toggleSort:f,sortBy:h.value,someSelected:o.value,allSelected:l.value,getSortIcon:()=>""},T=typeof t.cellProps=="function"?t.cellProps({index:I.index,item:I.item,internalItem:I.internalItem,value:I.value,column:p}):t.cellProps,S=typeof p.cellProps=="function"?p.cellProps({index:I.index,item:I.item,internalItem:I.internalItem,value:I.value}):p.cellProps;return m(ny,J({align:p.align,class:{"v-data-table__td--expanded-row":p.key==="data-table-expand","v-data-table__td--select-row":p.key==="data-table-select"},fixed:p.fixed,fixedOffset:p.fixedOffset,lastFixed:p.lastFixed,maxWidth:s.value?void 0:p.maxWidth,noPadding:p.key==="data-table-select"||p.key==="data-table-expand",nowrap:p.nowrap,width:s.value?void 0:p.width},T,S),{default:()=>{var P,C,D,A,N;if(n[x]&&!s.value)return(P=n[x])==null?void 0:P.call(n,I);if(p.key==="data-table-select")return((C=n["item.data-table-select"])==null?void 0:C.call(n,I))??m(Wa,{disabled:!b.selectable,modelValue:r([b]),onClick:Ju(()=>a(b),["stop"])},null);if(p.key==="data-table-expand")return((D=n["item.data-table-expand"])==null?void 0:D.call(n,I))??m(gt,{icon:d(b)?"$collapse":"$expand",size:"small",variant:"text",onClick:Ju(()=>c(b),["stop"])},null);const w=at(I.value);return s.value?m(Ie,null,[m("div",{class:"v-data-table__td-title"},[((A=n[k])==null?void 0:A.call(n,E))??p.title]),m("div",{class:"v-data-table__td-value"},[((N=n[x])==null?void 0:N.call(n,I))??w])]):w}})})]))}}),S3=te({loading:[Boolean,String],loadingText:{type:String,default:"$vuetify.dataIterator.loadingText"},hideNoData:Boolean,items:{type:Array,default:()=>[]},noDataText:{type:String,default:"$vuetify.noDataText"},rowProps:[Object,Function],cellProps:[Object,Function],...Mc()},"VDataTableRows"),mc=pe()({name:"VDataTableRows",inheritAttrs:!1,props:S3(),setup(t,e){let{attrs:n,slots:i}=e;const{columns:s}=E0(),{expandOnClick:r,toggleExpand:a,isExpanded:o}=s3(),{isSelected:l,toggleSelect:u}=T0(),{toggleGroup:d,isGroupOpen:c}=a3(),{t:f}=gn(),{mobile:h}=Sr(t);return xe(()=>{var g,v;return t.loading&&(!t.items.length||i.loading)?m("tr",{class:"v-data-table-rows-loading",key:"loading"},[m("td",{colspan:s.value.length},[((g=i.loading)==null?void 0:g.call(i))??f(t.loadingText)])]):!t.loading&&!t.items.length&&!t.hideNoData?m("tr",{class:"v-data-table-rows-no-data",key:"no-data"},[m("td",{colspan:s.value.length},[((v=i["no-data"])==null?void 0:v.call(i))??f(t.noDataText)])]):m(Ie,null,[t.items.map((p,_)=>{var k;if(p.type==="group"){const I={index:_,item:p,columns:s.value,isExpanded:o,toggleExpand:a,isSelected:l,toggleSelect:u,toggleGroup:d,isGroupOpen:c};return i["group-header"]?i["group-header"](I):m(Pme,J({key:`group-header_${p.id}`,item:p},DO(n,":group-header",()=>I)),i)}const b={index:_,item:p.raw,internalItem:p,columns:s.value,isExpanded:o,toggleExpand:a,isSelected:l,toggleSelect:u},x={...b,props:J({key:`item_${p.key??p.index}`,onClick:r.value?()=>{a(p)}:void 0,index:_,item:p,cellProps:t.cellProps,mobile:h.value},DO(n,":row",()=>b),typeof t.rowProps=="function"?t.rowProps({item:b.item,index:b.index,internalItem:b.internalItem}):t.rowProps)};return m(Ie,{key:x.props.key},[i.item?i.item(x):m(CC,x.props,i),o(p)&&((k=i["expanded-row"])==null?void 0:k.call(i,b))])})])}),{}}}),k3=te({fixedHeader:Boolean,fixedFooter:Boolean,height:[Number,String],hover:Boolean,...je(),...Ci(),...yt(),...Ft()},"VTable"),vc=pe()({name:"VTable",props:k3(),setup(t,e){let{slots:n,emit:i}=e;const{themeClasses:s}=Qt(t),{densityClasses:r}=ls(t);return xe(()=>m(t.tag,{class:["v-table",{"v-table--fixed-height":!!t.height,"v-table--fixed-header":t.fixedHeader,"v-table--fixed-footer":t.fixedFooter,"v-table--has-top":!!n.top,"v-table--has-bottom":!!n.bottom,"v-table--hover":t.hover},s.value,r.value,t.class],style:t.style},{default:()=>{var a,o,l;return[(a=n.top)==null?void 0:a.call(n),n.default?m("div",{class:"v-table__wrapper",style:{height:Ne(t.height)}},[m("table",null,[n.default()])]):(o=n.wrapper)==null?void 0:o.call(n),(l=n.bottom)==null?void 0:l.call(n)]}})),{}}}),Eme=te({items:{type:Array,default:()=>[]},itemValue:{type:[String,Array,Function],default:"id"},itemSelectable:{type:[String,Array,Function],default:null},rowProps:[Object,Function],cellProps:[Object,Function],returnObject:Boolean},"DataTable-items");function Ime(t,e,n,i){const s=t.returnObject?e:ii(e,t.itemValue),r=ii(e,t.itemSelectable,!0),a=i.reduce((o,l)=>(l.key!=null&&(o[l.key]=ii(e,l.value)),o),{});return{type:"item",key:t.returnObject?ii(e,t.itemValue):s,index:n,value:s,selectable:r,columns:a,raw:e}}function Dme(t,e,n){return e.map((i,s)=>Ime(t,i,s,n))}function EC(t,e){return{items:R(()=>Dme(t,t.items,e.value))}}const IC=te({...S3(),hideDefaultBody:Boolean,hideDefaultFooter:Boolean,hideDefaultHeader:Boolean,width:[String,Number],search:String,...n3(),..._C(),...yme(),...Eme(),...f3(),...v3(),...x3(),...k3()},"DataTable"),Ame=te({...bC(),...IC(),...Xh(),...kC()},"VDataTable"),Ome=pe()({name:"VDataTable",props:Ame(),emits:{"update:modelValue":t=>!0,"update:page":t=>!0,"update:itemsPerPage":t=>!0,"update:sortBy":t=>!0,"update:options":t=>!0,"update:groupBy":t=>!0,"update:expanded":t=>!0,"update:currentItems":t=>!0},setup(t,e){let{attrs:n,slots:i}=e;const{groupBy:s}=yC(t),{sortBy:r,multiSort:a,mustSort:o}=P0(t),{page:l,itemsPerPage:u}=wC(t),{disableSort:d}=Kl(t),{columns:c,headers:f,sortFunctions:h,sortRawFunctions:g,filterFunctions:v}=PC(t,{groupBy:s,showSelect:ve(t,"showSelect"),showExpand:ve(t,"showExpand")}),{items:p}=EC(t,c),_=ve(t,"search"),{filteredItems:b}=Kh(t,p,_,{transform:$=>$.columns,customKeyFilter:v}),{toggleSort:x}=C0({sortBy:r,multiSort:a,mustSort:o,page:l}),{sortByWithGroups:k,opened:I,extractRows:E,isGroupOpen:T,toggleGroup:S}=w0({groupBy:s,sortBy:r,disableSort:d}),{sortedItems:w}=SC(t,b,k,{transform:$=>({...$.raw,...$.columns}),sortFunctions:h,sortRawFunctions:g}),{flatItems:P}=x0(w,s,I),C=R(()=>P.value.length),{startIndex:D,stopIndex:A,pageCount:N,setItemsPerPage:B}=xC({page:l,itemsPerPage:u,itemsLength:C}),{paginatedItems:H}=c3({items:P,startIndex:D,stopIndex:A,itemsPerPage:u}),G=R(()=>E(H.value)),{isSelected:z,select:X,selectAll:W,toggleSelect:Z,someSelected:ee,allSelected:le}=k0(t,{allItems:p,currentPage:G}),{isExpanded:ue,toggleExpand:ce}=b0(t);S0({page:l,itemsPerPage:u,sortBy:r,groupBy:s,search:_}),Dn({VDataTableRows:{hideNoData:ve(t,"hideNoData"),noDataText:ve(t,"noDataText"),loading:ve(t,"loading"),loadingText:ve(t,"loadingText")}});const se=R(()=>({page:l.value,itemsPerPage:u.value,sortBy:r.value,pageCount:N.value,toggleSort:x,setItemsPerPage:B,someSelected:ee.value,allSelected:le.value,isSelected:z,select:X,selectAll:W,toggleSelect:Z,isExpanded:ue,toggleExpand:ce,isGroupOpen:T,toggleGroup:S,items:G.value.map($=>$.raw),internalItems:G.value,groupedItems:H.value,columns:c.value,headers:f.value}));return xe(()=>{const $=tv.filterProps(t),q=fc.filterProps(t),re=mc.filterProps(t),ge=vc.filterProps(t);return m(vc,J({class:["v-data-table",{"v-data-table--show-select":t.showSelect,"v-data-table--loading":t.loading},t.class],style:t.style},ge),{top:()=>{var fe;return(fe=i.top)==null?void 0:fe.call(i,se.value)},default:()=>{var fe,ye,L,F,K,de;return i.default?i.default(se.value):m(Ie,null,[(fe=i.colgroup)==null?void 0:fe.call(i,se.value),!t.hideDefaultHeader&&m("thead",{key:"thead"},[m(fc,q,i)]),(ye=i.thead)==null?void 0:ye.call(i,se.value),!t.hideDefaultBody&&m("tbody",null,[(L=i["body.prepend"])==null?void 0:L.call(i,se.value),i.body?i.body(se.value):m(mc,J(n,re,{items:H.value}),i),(F=i["body.append"])==null?void 0:F.call(i,se.value)]),(K=i.tbody)==null?void 0:K.call(i,se.value),(de=i.tfoot)==null?void 0:de.call(i,se.value)])},bottom:()=>i.bottom?i.bottom(se.value):!t.hideDefaultFooter&&m(Ie,null,[m(Jr,null,null),m(tv,$,{prepend:i["footer.prepend"]})])})}),{}}}),Rme=te({...IC(),..._C(),...V5(),...Xh()},"VDataTableVirtual"),Mme=pe()({name:"VDataTableVirtual",props:Rme(),emits:{"update:modelValue":t=>!0,"update:sortBy":t=>!0,"update:options":t=>!0,"update:groupBy":t=>!0,"update:expanded":t=>!0},setup(t,e){let{attrs:n,slots:i}=e;const{groupBy:s}=yC(t),{sortBy:r,multiSort:a,mustSort:o}=P0(t),{disableSort:l}=Kl(t),{columns:u,headers:d,filterFunctions:c,sortFunctions:f,sortRawFunctions:h}=PC(t,{groupBy:s,showSelect:ve(t,"showSelect"),showExpand:ve(t,"showExpand")}),{items:g}=EC(t,u),v=ve(t,"search"),{filteredItems:p}=Kh(t,g,v,{transform:q=>q.columns,customKeyFilter:c}),{toggleSort:_}=C0({sortBy:r,multiSort:a,mustSort:o}),{sortByWithGroups:b,opened:x,extractRows:k,isGroupOpen:I,toggleGroup:E}=w0({groupBy:s,sortBy:r,disableSort:l}),{sortedItems:T}=SC(t,p,b,{transform:q=>({...q.raw,...q.columns}),sortFunctions:f,sortRawFunctions:h}),{flatItems:S}=x0(T,s,x),w=R(()=>k(S.value)),{isSelected:P,select:C,selectAll:D,toggleSelect:A,someSelected:N,allSelected:B}=k0(t,{allItems:w,currentPage:w}),{isExpanded:H,toggleExpand:G}=b0(t),{containerRef:z,markerRef:X,paddingTop:W,paddingBottom:Z,computedItems:ee,handleItemResize:le,handleScroll:ue,handleScrollend:ce}=L5(t,S),se=R(()=>ee.value.map(q=>q.raw));S0({sortBy:r,page:Me(1),itemsPerPage:Me(-1),groupBy:s,search:v}),Dn({VDataTableRows:{hideNoData:ve(t,"hideNoData"),noDataText:ve(t,"noDataText"),loading:ve(t,"loading"),loadingText:ve(t,"loadingText")}});const $=R(()=>({sortBy:r.value,toggleSort:_,someSelected:N.value,allSelected:B.value,isSelected:P,select:C,selectAll:D,toggleSelect:A,isExpanded:H,toggleExpand:G,isGroupOpen:I,toggleGroup:E,items:w.value.map(q=>q.raw),internalItems:w.value,groupedItems:S.value,columns:u.value,headers:d.value}));xe(()=>{const q=fc.filterProps(t),re=mc.filterProps(t),ge=vc.filterProps(t);return m(vc,J({class:["v-data-table",{"v-data-table--loading":t.loading},t.class],style:t.style},ge),{top:()=>{var fe;return(fe=i.top)==null?void 0:fe.call(i,$.value)},wrapper:()=>{var fe,ye,L;return m("div",{ref:z,onScrollPassive:ue,onScrollend:ce,class:"v-table__wrapper",style:{height:Ne(t.height)}},[m("table",null,[(fe=i.colgroup)==null?void 0:fe.call(i,$.value),!t.hideDefaultHeader&&m("thead",{key:"thead"},[m(fc,J(q,{sticky:t.fixedHeader}),i)]),!t.hideDefaultBody&&m("tbody",null,[m("tr",{ref:X,style:{height:Ne(W.value),border:0}},[m("td",{colspan:u.value.length,style:{height:0,border:0}},null)]),(ye=i["body.prepend"])==null?void 0:ye.call(i,$.value),m(mc,J(n,re,{items:se.value}),{...i,item:F=>m(M5,{key:F.internalItem.index,renderless:!0,"onUpdate:height":K=>le(F.internalItem.index,K)},{default:K=>{var ne;let{itemRef:de}=K;return((ne=i.item)==null?void 0:ne.call(i,{...F,itemRef:de}))??m(CC,J(F.props,{ref:de,key:F.internalItem.index,index:F.internalItem.index}),i)}})}),(L=i["body.append"])==null?void 0:L.call(i,$.value),m("tr",{style:{height:Ne(Z.value),border:0}},[m("td",{colspan:u.value.length,style:{height:0,border:0}},null)])])])])},bottom:()=>{var fe;return(fe=i.bottom)==null?void 0:fe.call(i,$.value)}})})}}),Vme=te({itemsLength:{type:[Number,String],required:!0},...bC(),...IC(),...kC()},"VDataTableServer"),Lme=pe()({name:"VDataTableServer",props:Vme(),emits:{"update:modelValue":t=>!0,"update:page":t=>!0,"update:itemsPerPage":t=>!0,"update:sortBy":t=>!0,"update:options":t=>!0,"update:expanded":t=>!0,"update:groupBy":t=>!0},setup(t,e){let{attrs:n,slots:i}=e;const{groupBy:s}=yC(t),{sortBy:r,multiSort:a,mustSort:o}=P0(t),{page:l,itemsPerPage:u}=wC(t),{disableSort:d}=Kl(t),c=R(()=>parseInt(t.itemsLength,10)),{columns:f,headers:h}=PC(t,{groupBy:s,showSelect:ve(t,"showSelect"),showExpand:ve(t,"showExpand")}),{items:g}=EC(t,f),{toggleSort:v}=C0({sortBy:r,multiSort:a,mustSort:o,page:l}),{opened:p,isGroupOpen:_,toggleGroup:b,extractRows:x}=w0({groupBy:s,sortBy:r,disableSort:d}),{pageCount:k,setItemsPerPage:I}=xC({page:l,itemsPerPage:u,itemsLength:c}),{flatItems:E}=x0(g,s,p),{isSelected:T,select:S,selectAll:w,toggleSelect:P,someSelected:C,allSelected:D}=k0(t,{allItems:g,currentPage:g}),{isExpanded:A,toggleExpand:N}=b0(t),B=R(()=>x(g.value));S0({page:l,itemsPerPage:u,sortBy:r,groupBy:s,search:ve(t,"search")}),Jt("v-data-table",{toggleSort:v,sortBy:r}),Dn({VDataTableRows:{hideNoData:ve(t,"hideNoData"),noDataText:ve(t,"noDataText"),loading:ve(t,"loading"),loadingText:ve(t,"loadingText")}});const H=R(()=>({page:l.value,itemsPerPage:u.value,sortBy:r.value,pageCount:k.value,toggleSort:v,setItemsPerPage:I,someSelected:C.value,allSelected:D.value,isSelected:T,select:S,selectAll:w,toggleSelect:P,isExpanded:A,toggleExpand:N,isGroupOpen:_,toggleGroup:b,items:B.value.map(G=>G.raw),internalItems:B.value,groupedItems:E.value,columns:f.value,headers:h.value}));xe(()=>{const G=tv.filterProps(t),z=fc.filterProps(t),X=mc.filterProps(t),W=vc.filterProps(t);return m(vc,J({class:["v-data-table",{"v-data-table--loading":t.loading},t.class],style:t.style},W),{top:()=>{var Z;return(Z=i.top)==null?void 0:Z.call(i,H.value)},default:()=>{var Z,ee,le,ue,ce,se;return i.default?i.default(H.value):m(Ie,null,[(Z=i.colgroup)==null?void 0:Z.call(i,H.value),!t.hideDefaultHeader&&m("thead",{key:"thead",class:"v-data-table__thead",role:"rowgroup"},[m(fc,J(z,{sticky:t.fixedHeader}),i)]),(ee=i.thead)==null?void 0:ee.call(i,H.value),!t.hideDefaultBody&&m("tbody",{class:"v-data-table__tbody",role:"rowgroup"},[(le=i["body.prepend"])==null?void 0:le.call(i,H.value),i.body?i.body(H.value):m(mc,J(n,X,{items:E.value}),i),(ue=i["body.append"])==null?void 0:ue.call(i,H.value)]),(ce=i.tbody)==null?void 0:ce.call(i,H.value),(se=i.tfoot)==null?void 0:se.call(i,H.value)])},bottom:()=>i.bottom?i.bottom(H.value):!t.hideDefaultFooter&&m(Ie,null,[m(Jr,null,null),m(tv,G,{prepend:i["footer.prepend"]})])})})}}),Nme=te({fluid:{type:Boolean,default:!1},...je(),...mi(),...yt()},"VContainer"),Fme=pe()({name:"VContainer",props:Nme(),setup(t,e){let{slots:n}=e;const{rtlClasses:i}=Ti(),{dimensionStyles:s}=vi(t);return xe(()=>m(t.tag,{class:["v-container",{"v-container--fluid":t.fluid},i.value,t.class],style:[s.value,t.style]},n)),{}}}),T3=Gb.reduce((t,e)=>(t[e]={type:[Boolean,String,Number],default:!1},t),{}),P3=Gb.reduce((t,e)=>{const n="offset"+pa(e);return t[n]={type:[String,Number],default:null},t},{}),C3=Gb.reduce((t,e)=>{const n="order"+pa(e);return t[n]={type:[String,Number],default:null},t},{}),UR={col:Object.keys(T3),offset:Object.keys(P3),order:Object.keys(C3)};function Bme(t,e,n){let i=t;if(!(n==null||n===!1)){if(e){const s=e.replace(t,"");i+=`-${s}`}return t==="col"&&(i="v-"+i),t==="col"&&(n===""||n===!0)||(i+=`-${n}`),i.toLowerCase()}}const jme=["auto","start","end","center","baseline","stretch"],$me=te({cols:{type:[Boolean,String,Number],default:!1},...T3,offset:{type:[String,Number],default:null},...P3,order:{type:[String,Number],default:null},...C3,alignSelf:{type:String,default:null,validator:t=>jme.includes(t)},...je(),...yt()},"VCol"),Ume=pe()({name:"VCol",props:$me(),setup(t,e){let{slots:n}=e;const i=R(()=>{const s=[];let r;for(r in UR)UR[r].forEach(o=>{const l=t[o],u=Bme(r,o,l);u&&s.push(u)});const a=s.some(o=>o.startsWith("v-col-"));return s.push({"v-col":!a||!t.cols,[`v-col-${t.cols}`]:t.cols,[`offset-${t.offset}`]:t.offset,[`order-${t.order}`]:t.order,[`align-self-${t.alignSelf}`]:t.alignSelf}),s});return()=>{var s;return Ai(t.tag,{class:[i.value,t.class],style:t.style},(s=n.default)==null?void 0:s.call(n))}}}),DC=["start","end","center"],E3=["space-between","space-around","space-evenly"];function AC(t,e){return Gb.reduce((n,i)=>{const s=t+pa(i);return n[s]=e(),n},{})}const Hme=[...DC,"baseline","stretch"],I3=t=>Hme.includes(t),D3=AC("align",()=>({type:String,default:null,validator:I3})),zme=[...DC,...E3],A3=t=>zme.includes(t),O3=AC("justify",()=>({type:String,default:null,validator:A3})),Wme=[...DC,...E3,"stretch"],R3=t=>Wme.includes(t),M3=AC("alignContent",()=>({type:String,default:null,validator:R3})),HR={align:Object.keys(D3),justify:Object.keys(O3),alignContent:Object.keys(M3)},Yme={align:"align",justify:"justify",alignContent:"align-content"};function Gme(t,e,n){let i=Yme[t];if(n!=null){if(e){const s=e.replace(t,"");i+=`-${s}`}return i+=`-${n}`,i.toLowerCase()}}const qme=te({dense:Boolean,noGutters:Boolean,align:{type:String,default:null,validator:I3},...D3,justify:{type:String,default:null,validator:A3},...O3,alignContent:{type:String,default:null,validator:R3},...M3,...je(),...yt()},"VRow"),Xme=pe()({name:"VRow",props:qme(),setup(t,e){let{slots:n}=e;const i=R(()=>{const s=[];let r;for(r in HR)HR[r].forEach(a=>{const o=t[a],l=Gme(r,a,o);l&&s.push(l)});return s.push({"v-row--no-gutters":t.noGutters,"v-row--dense":t.dense,[`align-${t.align}`]:t.align,[`justify-${t.justify}`]:t.justify,[`align-content-${t.alignContent}`]:t.alignContent}),s});return()=>{var s;return Ai(t.tag,{class:["v-row",i.value,t.class],style:t.style},(s=n.default)==null?void 0:s.call(n))}}}),V3=Ja("v-spacer","div","VSpacer"),L3=te({active:{type:[String,Array],default:void 0},disabled:{type:[Boolean,String,Array],default:!1},nextIcon:{type:qe,default:"$next"},prevIcon:{type:qe,default:"$prev"},modeIcon:{type:qe,default:"$subgroup"},text:String,viewMode:{type:String,default:"month"}},"VDatePickerControls"),ES=pe()({name:"VDatePickerControls",props:L3(),emits:{"click:year":()=>!0,"click:month":()=>!0,"click:prev":()=>!0,"click:next":()=>!0,"click:text":()=>!0},setup(t,e){let{emit:n}=e;const i=R(()=>Array.isArray(t.disabled)?t.disabled.includes("text"):!!t.disabled),s=R(()=>Array.isArray(t.disabled)?t.disabled.includes("mode"):!!t.disabled),r=R(()=>Array.isArray(t.disabled)?t.disabled.includes("prev"):!!t.disabled),a=R(()=>Array.isArray(t.disabled)?t.disabled.includes("next"):!!t.disabled);function o(){n("click:prev")}function l(){n("click:next")}function u(){n("click:year")}function d(){n("click:month")}return xe(()=>m("div",{class:["v-date-picker-controls"]},[m(gt,{class:"v-date-picker-controls__month-btn",disabled:i.value,text:t.text,variant:"text",rounded:!0,onClick:d},null),m(gt,{key:"mode-btn",class:"v-date-picker-controls__mode-btn",disabled:s.value,density:"comfortable",icon:t.modeIcon,variant:"text",onClick:u},null),m(V3,{key:"mode-spacer"},null),m("div",{key:"month-buttons",class:"v-date-picker-controls__month"},[m(gt,{disabled:r.value,icon:t.prevIcon,variant:"text",onClick:o},null),m(gt,{disabled:a.value,icon:t.nextIcon,variant:"text",onClick:l},null)])])),{}}}),Kme=te({appendIcon:qe,color:String,header:String,transition:String,onClick:Ri()},"VDatePickerHeader"),IS=pe()({name:"VDatePickerHeader",props:Kme(),emits:{click:()=>!0,"click:append":()=>!0},setup(t,e){let{emit:n,slots:i}=e;const{backgroundColorClasses:s,backgroundColorStyles:r}=an(t,"color");function a(){n("click")}function o(){n("click:append")}return xe(()=>{const l=!!(i.default||t.header),u=!!(i.append||t.appendIcon);return m("div",{class:["v-date-picker-header",{"v-date-picker-header--clickable":!!t.onClick},s.value],style:r.value,onClick:a},[i.prepend&&m("div",{key:"prepend",class:"v-date-picker-header__prepend"},[i.prepend()]),l&&m(Ts,{key:"content",name:t.transition},{default:()=>{var d;return[m("div",{key:t.header,class:"v-date-picker-header__content"},[((d=i.default)==null?void 0:d.call(i))??t.header])]}}),u&&m("div",{class:"v-date-picker-header__append"},[i.append?m(ht,{key:"append-defaults",disabled:!t.appendIcon,defaults:{VBtn:{icon:t.appendIcon,variant:"text"}}},{default:()=>{var d;return[(d=i.append)==null?void 0:d.call(i)]}}):m(gt,{key:"append-btn",icon:t.appendIcon,variant:"text",onClick:o},null)])])}),{}}}),N3=te({allowedDates:[Array,Function],disabled:Boolean,displayValue:null,modelValue:Array,month:[Number,String],max:null,min:null,showAdjacentMonths:Boolean,year:[Number,String],weekdays:{type:Array,default:()=>[0,1,2,3,4,5,6]},weeksInMonth:{type:String,default:"dynamic"},firstDayOfWeek:[Number,String]},"calendar");function F3(t){const e=Fr(),n=Ye(t,"modelValue",[],h=>bn(h)),i=R(()=>t.displayValue?e.date(t.displayValue):n.value.length>0?e.date(n.value[0]):t.min?e.date(t.min):Array.isArray(t.allowedDates)?e.date(t.allowedDates[0]):e.date()),s=Ye(t,"year",void 0,h=>{const g=h!=null?Number(h):e.getYear(i.value);return e.startOfYear(e.setYear(e.date(),g))},h=>e.getYear(h)),r=Ye(t,"month",void 0,h=>{const g=h!=null?Number(h):e.getMonth(i.value),v=e.setYear(e.startOfMonth(e.date()),e.getYear(s.value));return e.setMonth(v,g)},h=>e.getMonth(h)),a=R(()=>{const h=Number(t.firstDayOfWeek??0);return t.weekdays.map(g=>(g+h)%7)}),o=R(()=>{const h=e.getWeekArray(r.value,t.firstDayOfWeek),g=h.flat(),v=6*7;if(t.weeksInMonth==="static"&&g.length<v){const p=g[g.length-1];let _=[];for(let b=1;b<=v-g.length;b++)_.push(e.addDays(p,b)),b%7===0&&(h.push(_),_=[])}return h});function l(h,g){return h.filter(v=>a.value.includes(e.toJsDate(v).getDay())).map((v,p)=>{const _=e.toISO(v),b=!e.isSameMonth(v,r.value),x=e.isSameDay(v,e.startOfMonth(r.value)),k=e.isSameDay(v,e.endOfMonth(r.value)),I=e.isSameDay(v,r.value);return{date:v,isoDate:_,formatted:e.format(v,"keyboardDate"),year:e.getYear(v),month:e.getMonth(v),isDisabled:f(v),isWeekStart:p%7===0,isWeekEnd:p%7===6,isToday:e.isSameDay(v,g),isAdjacent:b,isHidden:b&&!t.showAdjacentMonths,isStart:x,isSelected:n.value.some(E=>e.isSameDay(v,E)),isEnd:k,isSame:I,localized:e.format(v,"dayOfMonth")}})}const u=R(()=>{const h=e.startOfWeek(i.value,t.firstDayOfWeek),g=[];for(let p=0;p<=6;p++)g.push(e.addDays(h,p));const v=e.date();return l(g,v)}),d=R(()=>{const h=o.value.flat(),g=e.date();return l(h,g)}),c=R(()=>o.value.map(h=>h.length?Hie(e,h[0]):null));function f(h){if(t.disabled)return!0;const g=e.date(h);return t.min&&e.isAfter(e.date(t.min),g)||t.max&&e.isAfter(g,e.date(t.max))?!0:Array.isArray(t.allowedDates)&&t.allowedDates.length>0?!t.allowedDates.some(v=>e.isSameDay(e.date(v),g)):typeof t.allowedDates=="function"?!t.allowedDates(g):!1}return{displayValue:i,daysInMonth:d,daysInWeek:u,genDays:l,model:n,weeksInMonth:o,weekDays:a,weekNumbers:c}}const B3=te({color:String,hideWeekdays:Boolean,multiple:[Boolean,Number,String],showWeek:Boolean,transition:{type:String,default:"picker-transition"},reverseTransition:{type:String,default:"picker-reverse-transition"},...N3()},"VDatePickerMonth"),DS=pe()({name:"VDatePickerMonth",props:B3(),emits:{"update:modelValue":t=>!0,"update:month":t=>!0,"update:year":t=>!0},setup(t,e){let{emit:n,slots:i}=e;const s=Y(),{daysInMonth:r,model:a,weekNumbers:o}=F3(t),l=Fr(),u=Me(),d=Me(),c=Me(!1),f=R(()=>c.value?t.reverseTransition:t.transition);t.multiple==="range"&&a.value.length>0&&(u.value=a.value[0],a.value.length>1&&(d.value=a.value[a.value.length-1]));const h=R(()=>{const _=["number","string"].includes(typeof t.multiple)?Number(t.multiple):1/0;return a.value.length>=_});we(r,(_,b)=>{b&&(c.value=l.isBefore(_[0].date,b[0].date))});function g(_){const b=l.startOfDay(_);if(a.value.length===0?u.value=void 0:a.value.length===1&&(u.value=a.value[0],d.value=void 0),!u.value)u.value=b,a.value=[u.value];else if(d.value)u.value=_,d.value=void 0,a.value=[u.value];else{if(l.isSameDay(b,u.value)){u.value=void 0,a.value=[];return}else l.isBefore(b,u.value)?(d.value=l.endOfDay(u.value),u.value=b):d.value=l.endOfDay(b);const x=l.getDiff(d.value,u.value,"days"),k=[u.value];for(let I=1;I<x;I++){const E=l.addDays(u.value,I);k.push(E)}k.push(d.value),a.value=k}}function v(_){const b=a.value.findIndex(x=>l.isSameDay(x,_));if(b===-1)a.value=[...a.value,_];else{const x=[...a.value];x.splice(b,1),a.value=x}}function p(_){t.multiple==="range"?g(_):t.multiple?v(_):a.value=[_]}return()=>m("div",{class:"v-date-picker-month"},[t.showWeek&&m("div",{key:"weeks",class:"v-date-picker-month__weeks"},[!t.hideWeekdays&&m("div",{key:"hide-week-days",class:"v-date-picker-month__day"},[Ee("")]),o.value.map(_=>m("div",{class:["v-date-picker-month__day","v-date-picker-month__day--adjacent"]},[_]))]),m(Ts,{name:f.value},{default:()=>{var _;return[m("div",{ref:s,key:(_=r.value[0].date)==null?void 0:_.toString(),class:"v-date-picker-month__days"},[!t.hideWeekdays&&l.getWeekdays(t.firstDayOfWeek).map(b=>m("div",{class:["v-date-picker-month__day","v-date-picker-month__weekday"]},[b])),r.value.map((b,x)=>{const k={props:{onClick:()=>p(b.date)},item:b,i:x};return h.value&&!b.isSelected&&(b.isDisabled=!0),m("div",{class:["v-date-picker-month__day",{"v-date-picker-month__day--adjacent":b.isAdjacent,"v-date-picker-month__day--hide-adjacent":b.isHidden,"v-date-picker-month__day--selected":b.isSelected,"v-date-picker-month__day--week-end":b.isWeekEnd,"v-date-picker-month__day--week-start":b.isWeekStart}],"data-v-date":b.isDisabled?void 0:b.isoDate},[(t.showAdjacentMonths||!b.isAdjacent)&&m(ht,{defaults:{VBtn:{class:"v-date-picker-month__day-btn",color:(b.isSelected||b.isToday)&&!b.isDisabled?t.color:void 0,disabled:b.isDisabled,icon:!0,ripple:!1,text:b.localized,variant:b.isDisabled?b.isToday?"outlined":"text":b.isToday&&!b.isSelected?"outlined":"flat",onClick:()=>p(b.date)}}},{default:()=>{var I;return[((I=i.day)==null?void 0:I.call(i,k))??m(gt,k.props,null)]}})])})])]}})])}}),j3=te({color:String,height:[String,Number],min:null,max:null,modelValue:Number,year:Number},"VDatePickerMonths"),AS=pe()({name:"VDatePickerMonths",props:j3(),emits:{"update:modelValue":t=>!0},setup(t,e){let{emit:n,slots:i}=e;const s=Fr(),r=Ye(t,"modelValue"),a=R(()=>{let o=s.startOfYear(s.date());return t.year&&(o=s.setYear(o,t.year)),mr(12).map(l=>{const u=s.format(o,"monthShort"),d=!!(t.min&&s.isAfter(s.startOfMonth(s.date(t.min)),o)||t.max&&s.isAfter(o,s.startOfMonth(s.date(t.max))));return o=s.getNextMonth(o),{isDisabled:d,text:u,value:l}})});return yn(()=>{r.value=r.value??s.getMonth(s.date())}),xe(()=>m("div",{class:"v-date-picker-months",style:{height:Ne(t.height)}},[m("div",{class:"v-date-picker-months__content"},[a.value.map((o,l)=>{var c;const u={active:r.value===l,color:r.value===l?t.color:void 0,disabled:o.isDisabled,rounded:!0,text:o.text,variant:r.value===o.value?"flat":"text",onClick:()=>d(l)};function d(f){if(r.value===f){n("update:modelValue",r.value);return}r.value=f}return((c=i.month)==null?void 0:c.call(i,{month:o,i:l,props:u}))??m(gt,J({key:"month"},u),null)})])])),{}}}),$3=te({color:String,height:[String,Number],min:null,max:null,modelValue:Number},"VDatePickerYears"),OS=pe()({name:"VDatePickerYears",props:$3(),emits:{"update:modelValue":t=>!0},setup(t,e){let{emit:n,slots:i}=e;const s=Fr(),r=Ye(t,"modelValue"),a=R(()=>{const l=s.getYear(s.date());let u=l-100,d=l+52;t.min&&(u=s.getYear(s.date(t.min))),t.max&&(d=s.getYear(s.date(t.max)));let c=s.startOfYear(s.date());return c=s.setYear(c,u),mr(d-u+1,u).map(f=>{const h=s.format(c,"year");return c=s.setYear(c,s.getYear(c)+1),{text:h,value:f}})});yn(()=>{r.value=r.value??s.getYear(s.date())});const o=N_();return Pt(async()=>{var l;await pt(),(l=o.el)==null||l.scrollIntoView({block:"center"})}),xe(()=>m("div",{class:"v-date-picker-years",style:{height:Ne(t.height)}},[m("div",{class:"v-date-picker-years__content"},[a.value.map((l,u)=>{var c;const d={ref:r.value===l.value?o:void 0,active:r.value===l.value,color:r.value===l.value?t.color:void 0,rounded:!0,text:l.text,variant:r.value===l.value?"flat":"text",onClick:()=>{if(r.value===l.value){n("update:modelValue",r.value);return}r.value=l.value}};return((c=i.year)==null?void 0:c.call(i,{year:l,i:u,props:d}))??m(gt,J({key:"month"},d),null)})])])),{}}}),U3=Ja("v-picker-title"),OC=te({bgColor:String,landscape:Boolean,title:String,hideHeader:Boolean,...ig()},"VPicker"),nv=pe()({name:"VPicker",props:OC(),setup(t,e){let{slots:n}=e;const{backgroundColorClasses:i,backgroundColorStyles:s}=an(ve(t,"color"));return xe(()=>{const r=Ya.filterProps(t),a=!!(t.title||n.title);return m(Ya,J(r,{color:t.bgColor,class:["v-picker",{"v-picker--landscape":t.landscape,"v-picker--with-actions":!!n.actions},t.class],style:t.style}),{default:()=>{var o;return[!t.hideHeader&&m("div",{key:"header",class:[i.value],style:[s.value]},[a&&m(U3,{key:"picker-title"},{default:()=>{var l;return[((l=n.title)==null?void 0:l.call(n))??t.title]}}),n.header&&m("div",{class:"v-picker__header"},[n.header()])]),m("div",{class:"v-picker__body"},[(o=n.default)==null?void 0:o.call(n)]),n.actions&&m(ht,{defaults:{VBtn:{slim:!0,variant:"text"}}},{default:()=>[m("div",{class:"v-picker__actions"},[n.actions()])]})]}})}),{}}}),H3=te({header:{type:String,default:"$vuetify.datePicker.header"},...L3(),...B3({weeksInMonth:"static"}),...tn(j3(),["modelValue"]),...tn($3(),["modelValue"]),...OC({title:"$vuetify.datePicker.title"}),modelValue:null},"VDatePicker"),RS=pe()({name:"VDatePicker",props:H3(),emits:{"update:modelValue":t=>!0,"update:month":t=>!0,"update:year":t=>!0,"update:viewMode":t=>!0},setup(t,e){let{emit:n,slots:i}=e;const s=Fr(),{t:r}=gn(),a=Ye(t,"modelValue",void 0,w=>bn(w),w=>t.multiple?w:w[0]),o=Ye(t,"viewMode"),l=R(()=>{var P;const w=s.date((P=a.value)==null?void 0:P[0]);return w&&s.isValid(w)?w:s.date()}),u=Y(Number(t.month??s.getMonth(s.startOfMonth(l.value)))),d=Y(Number(t.year??s.getYear(s.startOfYear(s.setMonth(l.value,u.value))))),c=Me(!1),f=R(()=>t.multiple&&a.value.length>1?r("$vuetify.datePicker.itemsSelected",a.value.length):a.value[0]&&s.isValid(a.value[0])?s.format(s.date(a.value[0]),"normalDateWithWeekday"):r(t.header)),h=R(()=>{let w=s.date();return w=s.setDate(w,1),w=s.setMonth(w,u.value),w=s.setYear(w,d.value),s.format(w,"monthAndYear")}),g=R(()=>`date-picker-header${c.value?"-reverse":""}-transition`),v=R(()=>{const w=s.date(t.min);return t.min&&s.isValid(w)?w:null}),p=R(()=>{const w=s.date(t.max);return t.max&&s.isValid(w)?w:null}),_=R(()=>{if(t.disabled)return!0;const w=[];if(o.value!=="month")w.push("prev","next");else{let P=s.date();if(P=s.setYear(P,d.value),P=s.setMonth(P,u.value),v.value){const C=s.addDays(s.startOfMonth(P),-1);s.isAfter(v.value,C)&&w.push("prev")}if(p.value){const C=s.addDays(s.endOfMonth(P),1);s.isAfter(C,p.value)&&w.push("next")}}return w});function b(){u.value<11?u.value++:(d.value++,u.value=0,S(d.value)),T(u.value)}function x(){u.value>0?u.value--:(d.value--,u.value=11,S(d.value)),T(u.value)}function k(){o.value="month"}function I(){o.value=o.value==="months"?"month":"months"}function E(){o.value=o.value==="year"?"month":"year"}function T(w){o.value==="months"&&I(),n("update:month",w)}function S(w){o.value==="year"&&E(),n("update:year",w)}return we(a,(w,P)=>{const C=bn(P),D=bn(w);if(!D.length)return;const A=s.date(C[C.length-1]),N=s.date(D[D.length-1]),B=s.getMonth(N),H=s.getYear(N);B!==u.value&&(u.value=B,T(u.value)),H!==d.value&&(d.value=H,S(d.value)),c.value=s.isBefore(A,N)}),xe(()=>{const w=nv.filterProps(t),P=ES.filterProps(t),C=IS.filterProps(t),D=DS.filterProps(t),A=tn(AS.filterProps(t),["modelValue"]),N=tn(OS.filterProps(t),["modelValue"]),B={header:f.value,transition:g.value};return m(nv,J(w,{class:["v-date-picker",`v-date-picker--${o.value}`,{"v-date-picker--show-week":t.showWeek},t.class],style:t.style}),{title:()=>{var H;return((H=i.title)==null?void 0:H.call(i))??m("div",{class:"v-date-picker__title"},[r(t.title)])},header:()=>i.header?m(ht,{defaults:{VDatePickerHeader:{...B}}},{default:()=>{var H;return[(H=i.header)==null?void 0:H.call(i,B)]}}):m(IS,J({key:"header"},C,B,{onClick:o.value!=="month"?k:void 0}),{...i,default:void 0}),default:()=>m(Ie,null,[m(ES,J(P,{disabled:_.value,text:h.value,"onClick:next":b,"onClick:prev":x,"onClick:month":I,"onClick:year":E}),null),m(qm,{hideOnLeave:!0},{default:()=>[o.value==="months"?m(AS,J({key:"date-picker-months"},A,{modelValue:u.value,"onUpdate:modelValue":[H=>u.value=H,T],min:v.value,max:p.value,year:d.value}),null):o.value==="year"?m(OS,J({key:"date-picker-years"},N,{modelValue:d.value,"onUpdate:modelValue":[H=>d.value=H,S],min:v.value,max:p.value}),null):m(DS,J({key:"date-picker-month"},D,{modelValue:a.value,"onUpdate:modelValue":H=>a.value=H,month:u.value,"onUpdate:month":[H=>u.value=H,T],year:d.value,"onUpdate:year":[H=>d.value=H,S],min:v.value,max:p.value}),null)]})]),actions:i.actions})}),{}}}),Qme=te({actionText:String,bgColor:String,color:String,icon:qe,image:String,justify:{type:String,default:"center"},headline:String,title:String,text:String,textWidth:{type:[Number,String],default:500},href:String,to:String,...je(),...mi(),...Za({size:void 0}),...Ft()},"VEmptyState"),Jme=pe()({name:"VEmptyState",props:Qme(),emits:{"click:action":t=>!0},setup(t,e){let{emit:n,slots:i}=e;const{themeClasses:s}=Qt(t),{backgroundColorClasses:r,backgroundColorStyles:a}=an(ve(t,"bgColor")),{dimensionStyles:o}=vi(t),{displayClasses:l}=Sr();function u(d){n("click:action",d)}return xe(()=>{var p,_,b;const d=!!(i.actions||t.actionText),c=!!(i.headline||t.headline),f=!!(i.title||t.title),h=!!(i.text||t.text),g=!!(i.media||t.image||t.icon),v=t.size||(t.image?200:96);return m("div",{class:["v-empty-state",{[`v-empty-state--${t.justify}`]:!0},s.value,r.value,l.value,t.class],style:[a.value,o.value,t.style]},[g&&m("div",{key:"media",class:"v-empty-state__media"},[i.media?m(ht,{key:"media-defaults",defaults:{VImg:{src:t.image,height:v},VIcon:{size:v,icon:t.icon}}},{default:()=>[i.media()]}):m(Ie,null,[t.image?m(Vo,{key:"image",src:t.image,height:v},null):t.icon?m(jt,{key:"icon",color:t.color,size:v,icon:t.icon},null):void 0])]),c&&m("div",{key:"headline",class:"v-empty-state__headline"},[((p=i.headline)==null?void 0:p.call(i))??t.headline]),f&&m("div",{key:"title",class:"v-empty-state__title"},[((_=i.title)==null?void 0:_.call(i))??t.title]),h&&m("div",{key:"text",class:"v-empty-state__text",style:{maxWidth:Ne(t.textWidth)}},[((b=i.text)==null?void 0:b.call(i))??t.text]),i.default&&m("div",{key:"content",class:"v-empty-state__content"},[i.default()]),d&&m("div",{key:"actions",class:"v-empty-state__actions"},[m(ht,{defaults:{VBtn:{class:"v-empty-state__action-btn",color:t.color??"surface-variant",text:t.actionText}}},{default:()=>{var x;return[((x=i.actions)==null?void 0:x.call(i,{props:{onClick:u}}))??m(gt,{onClick:u},null)]}})])])}),{}}}),iv=Symbol.for("vuetify:v-expansion-panel"),z3=te({...je(),...cC()},"VExpansionPanelText"),MS=pe()({name:"VExpansionPanelText",props:z3(),setup(t,e){let{slots:n}=e;const i=vt(iv);if(!i)throw new Error("[Vuetify] v-expansion-panel-text needs to be placed inside v-expansion-panel");const{hasContent:s,onAfterLeave:r}=dC(t,i.isSelected);return xe(()=>m(u0,{onAfterLeave:r},{default:()=>{var a;return[In(m("div",{class:["v-expansion-panel-text",t.class],style:t.style},[n.default&&s.value&&m("div",{class:"v-expansion-panel-text__wrapper"},[(a=n.default)==null?void 0:a.call(n)])]),[[_a,i.isSelected.value]])]}})),{}}}),W3=te({color:String,expandIcon:{type:qe,default:"$expand"},collapseIcon:{type:qe,default:"$collapse"},hideActions:Boolean,focusable:Boolean,static:Boolean,ripple:{type:[Boolean,Object],default:!1},readonly:Boolean,...je(),...mi()},"VExpansionPanelTitle"),VS=pe()({name:"VExpansionPanelTitle",directives:{Ripple:Go},props:W3(),setup(t,e){let{slots:n}=e;const i=vt(iv);if(!i)throw new Error("[Vuetify] v-expansion-panel-title needs to be placed inside v-expansion-panel");const{backgroundColorClasses:s,backgroundColorStyles:r}=an(t,"color"),{dimensionStyles:a}=vi(t),o=R(()=>({collapseIcon:t.collapseIcon,disabled:i.disabled.value,expanded:i.isSelected.value,expandIcon:t.expandIcon,readonly:t.readonly})),l=R(()=>i.isSelected.value?t.collapseIcon:t.expandIcon);return xe(()=>{var u;return In(m("button",{class:["v-expansion-panel-title",{"v-expansion-panel-title--active":i.isSelected.value,"v-expansion-panel-title--focusable":t.focusable,"v-expansion-panel-title--static":t.static},s.value,t.class],style:[r.value,a.value,t.style],type:"button",tabindex:i.disabled.value?-1:void 0,disabled:i.disabled.value,"aria-expanded":i.isSelected.value,onClick:t.readonly?void 0:i.toggle},[m("span",{class:"v-expansion-panel-title__overlay"},null),(u=n.default)==null?void 0:u.call(n,o.value),!t.hideActions&&m(ht,{defaults:{VIcon:{icon:l.value}}},{default:()=>{var d;return[m("span",{class:"v-expansion-panel-title__icon"},[((d=n.actions)==null?void 0:d.call(n,o.value))??m(jt,null,null)])]}})]),[[nr("ripple"),t.ripple]])}),{}}}),RC=te({title:String,text:String,bgColor:String,...Pi(),...jc(),...On(),...yt(),...W3(),...z3()},"VExpansionPanel"),LS=pe()({name:"VExpansionPanel",props:RC(),emits:{"group:selected":t=>!0},setup(t,e){let{slots:n}=e;const i=$c(t,iv),{backgroundColorClasses:s,backgroundColorStyles:r}=an(t,"bgColor"),{elevationClasses:a}=Wi(t),{roundedClasses:o}=qn(t),l=R(()=>(i==null?void 0:i.disabled.value)||t.disabled),u=R(()=>i.group.items.value.reduce((f,h,g)=>(i.group.selected.value.includes(h.id)&&f.push(g),f),[])),d=R(()=>{const f=i.group.items.value.findIndex(h=>h.id===i.id);return!i.isSelected.value&&u.value.some(h=>h-f===1)}),c=R(()=>{const f=i.group.items.value.findIndex(h=>h.id===i.id);return!i.isSelected.value&&u.value.some(h=>h-f===-1)});return Jt(iv,i),xe(()=>{const f=!!(n.text||t.text),h=!!(n.title||t.title),g=VS.filterProps(t),v=MS.filterProps(t);return m(t.tag,{class:["v-expansion-panel",{"v-expansion-panel--active":i.isSelected.value,"v-expansion-panel--before-active":d.value,"v-expansion-panel--after-active":c.value,"v-expansion-panel--disabled":l.value},o.value,s.value,t.class],style:[r.value,t.style]},{default:()=>[m("div",{class:["v-expansion-panel__shadow",...a.value]},null),m(ht,{defaults:{VExpansionPanelTitle:{...g},VExpansionPanelText:{...v}}},{default:()=>{var p;return[h&&m(VS,{key:"title"},{default:()=>[n.title?n.title():t.title]}),f&&m(MS,{key:"text"},{default:()=>[n.text?n.text():t.text]}),(p=n.default)==null?void 0:p.call(n)]}})]})}),{groupItem:i}}}),Zme=["default","accordion","inset","popout"],Y3=te({flat:Boolean,...Bc(),...SP(RC(),["bgColor","collapseIcon","color","eager","elevation","expandIcon","focusable","hideActions","readonly","ripple","rounded","tile","static"]),...Ft(),...je(),...yt(),variant:{type:String,default:"default",validator:t=>Zme.includes(t)}},"VExpansionPanels"),NS=pe()({name:"VExpansionPanels",props:Y3(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const{next:i,prev:s}=au(t,iv),{themeClasses:r}=Qt(t),a=R(()=>t.variant&&`v-expansion-panels--variant-${t.variant}`);return Dn({VExpansionPanel:{bgColor:ve(t,"bgColor"),collapseIcon:ve(t,"collapseIcon"),color:ve(t,"color"),eager:ve(t,"eager"),elevation:ve(t,"elevation"),expandIcon:ve(t,"expandIcon"),focusable:ve(t,"focusable"),hideActions:ve(t,"hideActions"),readonly:ve(t,"readonly"),ripple:ve(t,"ripple"),rounded:ve(t,"rounded"),static:ve(t,"static")}}),xe(()=>m(t.tag,{class:["v-expansion-panels",{"v-expansion-panels--flat":t.flat,"v-expansion-panels--tile":t.tile},r.value,a.value,t.class],style:t.style},{default:()=>{var o;return[(o=n.default)==null?void 0:o.call(n,{prev:s,next:i})]}})),{next:i,prev:s}}}),eve=te({app:Boolean,appear:Boolean,extended:Boolean,layout:Boolean,offset:Boolean,modelValue:{type:Boolean,default:!0},...tn(f0({active:!0}),["location"]),...Vc(),...Yo(),...ya({transition:"fab-transition"})},"VFab"),tve=pe()({name:"VFab",props:eve(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const i=Ye(t,"modelValue"),s=Me(56),r=Y(),{resizeRef:a}=ha(c=>{c.length&&(s.value=c[0].target.clientHeight)}),o=R(()=>t.app||t.absolute),l=R(()=>{var c;return o.value?((c=t.location)==null?void 0:c.split(" ").shift())??"bottom":!1}),u=R(()=>{var c;return o.value?((c=t.location)==null?void 0:c.split(" ")[1])??"end":!1});Ns(()=>t.app,()=>{const c=Lc({id:t.name,order:R(()=>parseInt(t.order,10)),position:l,layoutSize:R(()=>t.layout?s.value+24:0),elementSize:R(()=>s.value+24),active:R(()=>t.app&&i.value),absolute:ve(t,"absolute")});yn(()=>{r.value=c.layoutItemStyles.value})});const d=Y();return xe(()=>{const c=gt.filterProps(t);return m("div",{ref:d,class:["v-fab",{"v-fab--absolute":t.absolute,"v-fab--app":!!t.app,"v-fab--extended":t.extended,"v-fab--offset":t.offset,[`v-fab--${l.value}`]:o.value,[`v-fab--${u.value}`]:o.value},t.class],style:[t.app?{...r.value}:{height:"inherit",width:void 0},t.style]},[m("div",{class:"v-fab__container"},[m(Ts,{appear:t.appear,transition:t.transition},{default:()=>[In(m(gt,J({ref:a},c,{active:void 0,location:void 0}),n),[[_a,t.active]])]})])])}),{}}}),nve=te({chips:Boolean,counter:Boolean,counterSizeString:{type:String,default:"$vuetify.fileInput.counterSize"},counterString:{type:String,default:"$vuetify.fileInput.counter"},hideInput:Boolean,multiple:Boolean,showSize:{type:[Boolean,Number,String],default:!1,validator:t=>typeof t=="boolean"||[1e3,1024].includes(Number(t))},...qo({prependIcon:"$file"}),modelValue:{type:[Array,Object],default:t=>t.multiple?[]:null,validator:t=>bn(t).every(e=>e!=null&&typeof e=="object")},...ng({clearable:!0})},"VFileInput"),ive=pe()({name:"VFileInput",inheritAttrs:!1,props:nve(),emits:{"click:control":t=>!0,"mousedown:control":t=>!0,"update:focused":t=>!0,"update:modelValue":t=>!0},setup(t,e){let{attrs:n,emit:i,slots:s}=e;const{t:r}=gn(),a=Ye(t,"modelValue",t.modelValue,w=>bn(w),w=>!t.multiple&&Array.isArray(w)?w[0]:w),{isFocused:o,focus:l,blur:u}=eo(t),d=R(()=>typeof t.showSize!="boolean"?t.showSize:void 0),c=R(()=>(a.value??[]).reduce((w,P)=>{let{size:C=0}=P;return w+C},0)),f=R(()=>jx(c.value,d.value)),h=R(()=>(a.value??[]).map(w=>{const{name:P="",size:C=0}=w;return t.showSize?`${P} (${jx(C,d.value)})`:P})),g=R(()=>{var P;const w=((P=a.value)==null?void 0:P.length)??0;return t.showSize?r(t.counterSizeString,w,f.value):r(t.counterString,w)}),v=Y(),p=Y(),_=Y(),b=R(()=>o.value||t.active),x=R(()=>["plain","underlined"].includes(t.variant));function k(){var w;_.value!==document.activeElement&&((w=_.value)==null||w.focus()),o.value||l()}function I(w){var P;(P=_.value)==null||P.click()}function E(w){i("mousedown:control",w)}function T(w){var P;(P=_.value)==null||P.click(),i("click:control",w)}function S(w){w.stopPropagation(),k(),pt(()=>{a.value=[],TP(t["onClick:clear"],w)})}return we(a,w=>{(!Array.isArray(w)||!w.length)&&_.value&&(_.value.value="")}),xe(()=>{const w=!!(s.counter||t.counter),P=!!(w||s.details),[C,D]=zo(n),{modelValue:A,...N}=rs.filterProps(t),B=hC(t);return m(rs,J({ref:v,modelValue:a.value,"onUpdate:modelValue":H=>a.value=H,class:["v-file-input",{"v-file-input--chips":!!t.chips,"v-file-input--hide":t.hideInput,"v-input--plain-underlined":x.value},t.class],style:t.style,"onClick:prepend":I},C,N,{centerAffix:!x.value,focused:o.value}),{...s,default:H=>{let{id:G,isDisabled:z,isDirty:X,isReadonly:W,isValid:Z}=H;return m(Gh,J({ref:p,"prepend-icon":t.prependIcon,onMousedown:E,onClick:T,"onClick:clear":S,"onClick:prependInner":t["onClick:prependInner"],"onClick:appendInner":t["onClick:appendInner"]},B,{id:G.value,active:b.value||X.value,dirty:X.value||t.dirty,disabled:z.value,focused:o.value,error:Z.value===!1}),{...s,default:ee=>{var ce;let{props:{class:le,...ue}}=ee;return m(Ie,null,[m("input",J({ref:_,type:"file",readonly:W.value,disabled:z.value,multiple:t.multiple,name:t.name,onClick:se=>{se.stopPropagation(),W.value&&se.preventDefault(),k()},onChange:se=>{if(!se.target)return;const $=se.target;a.value=[...$.files??[]]},onFocus:k,onBlur:u},ue,D),null),m("div",{class:le},[!!((ce=a.value)!=null&&ce.length)&&!t.hideInput&&(s.selection?s.selection({fileNames:h.value,totalBytes:c.value,totalBytesReadable:f.value}):t.chips?h.value.map(se=>m(Hc,{key:se,size:"small",text:se},null)):h.value.join(", "))])])}})},details:P?H=>{var G,z;return m(Ie,null,[(G=s.details)==null?void 0:G.call(s,H),w&&m(Ie,null,[m("span",null,null),m(g0,{active:!!((z=a.value)!=null&&z.length),value:g.value,disabled:t.disabled},s.counter)])])}:void 0})}),Pr({},v,p,_)}}),sve=te({app:Boolean,color:String,height:{type:[Number,String],default:"auto"},...ir(),...je(),...Pi(),...Vc(),...On(),...yt({tag:"footer"}),...Ft()},"VFooter"),rve=pe()({name:"VFooter",props:sve(),setup(t,e){let{slots:n}=e;const i=Y(),{themeClasses:s}=Qt(t),{backgroundColorClasses:r,backgroundColorStyles:a}=an(ve(t,"color")),{borderClasses:o}=Tr(t),{elevationClasses:l}=Wi(t),{roundedClasses:u}=qn(t),d=Me(32),{resizeRef:c}=ha(h=>{h.length&&(d.value=h[0].target.clientHeight)}),f=R(()=>t.height==="auto"?d.value:parseInt(t.height,10));return Ns(()=>t.app,()=>{const h=Lc({id:t.name,order:R(()=>parseInt(t.order,10)),position:R(()=>"bottom"),layoutSize:f,elementSize:R(()=>t.height==="auto"?void 0:f.value),active:R(()=>t.app),absolute:ve(t,"absolute")});yn(()=>{i.value=h.layoutItemStyles.value})}),xe(()=>m(t.tag,{ref:c,class:["v-footer",s.value,r.value,o.value,l.value,u.value,t.class],style:[a.value,t.app?i.value:{height:Ne(t.height)},t.style]},n)),{}}}),ave=te({...je(),...Dde()},"VForm"),ove=pe()({name:"VForm",props:ave(),emits:{"update:modelValue":t=>!0,submit:t=>!0},setup(t,e){let{slots:n,emit:i}=e;const s=Ade(t),r=Y();function a(l){l.preventDefault(),s.reset()}function o(l){const u=l,d=s.validate();u.then=d.then.bind(d),u.catch=d.catch.bind(d),u.finally=d.finally.bind(d),i("submit",u),u.defaultPrevented||d.then(c=>{var h;let{valid:f}=c;f&&((h=r.value)==null||h.submit())}),u.preventDefault()}return xe(()=>{var l;return m("form",{ref:r,class:["v-form",t.class],style:t.style,novalidate:!0,onReset:a,onSubmit:o},[(l=n.default)==null?void 0:l.call(n,s)])}),Pr(s,r)}}),lve=te({disabled:Boolean,modelValue:{type:Boolean,default:null},...v0()},"VHover"),uve=pe()({name:"VHover",props:lve(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const i=Ye(t,"modelValue"),{runOpenDelay:s,runCloseDelay:r}=uC(t,a=>!t.disabled&&(i.value=a));return()=>{var a;return(a=n.default)==null?void 0:a.call(n,{isHovering:i.value,props:{onMouseenter:s,onMouseleave:r}})}}}),cve=te({color:String,direction:{type:String,default:"vertical",validator:t=>["vertical","horizontal"].includes(t)},side:{type:String,default:"end",validator:t=>["start","end","both"].includes(t)},mode:{type:String,default:"intersect",validator:t=>["intersect","manual"].includes(t)},margin:[Number,String],loadMoreText:{type:String,default:"$vuetify.infiniteScroll.loadMore"},emptyText:{type:String,default:"$vuetify.infiniteScroll.empty"},...mi(),...yt()},"VInfiniteScroll"),zR=xr({name:"VInfiniteScrollIntersect",props:{side:{type:String,required:!0},rootMargin:String},emits:{intersect:(t,e)=>!0},setup(t,e){let{emit:n}=e;const{intersectionRef:i,isIntersecting:s}=c0();return we(s,async r=>{n("intersect",t.side,r)}),xe(()=>m("div",{class:"v-infinite-scroll-intersect",style:{"--v-infinite-margin-size":t.rootMargin},ref:i},[Ee("")])),{}}}),dve=pe()({name:"VInfiniteScroll",props:cve(),emits:{load:t=>!0},setup(t,e){let{slots:n,emit:i}=e;const s=Y(),r=Me("ok"),a=Me("ok"),o=R(()=>Ne(t.margin)),l=Me(!1);function u(I){if(!s.value)return;const E=t.direction==="vertical"?"scrollTop":"scrollLeft";s.value[E]=I}function d(){if(!s.value)return 0;const I=t.direction==="vertical"?"scrollTop":"scrollLeft";return s.value[I]}function c(){if(!s.value)return 0;const I=t.direction==="vertical"?"scrollHeight":"scrollWidth";return s.value[I]}function f(){if(!s.value)return 0;const I=t.direction==="vertical"?"clientHeight":"clientWidth";return s.value[I]}Pt(()=>{s.value&&(t.side==="start"?u(c()):t.side==="both"&&u(c()/2-f()/2))});function h(I,E){I==="start"?r.value=E:I==="end"&&(a.value=E)}function g(I){return I==="start"?r.value:a.value}let v=0;function p(I,E){l.value=E,l.value&&_(I)}function _(I){if(t.mode!=="manual"&&!l.value)return;const E=g(I);if(!s.value||["empty","loading"].includes(E))return;v=c(),h(I,"loading");function T(S){h(I,S),pt(()=>{S==="empty"||S==="error"||(S==="ok"&&I==="start"&&u(c()-v+d()),t.mode!=="manual"&&pt(()=>{window.requestAnimationFrame(()=>{window.requestAnimationFrame(()=>{window.requestAnimationFrame(()=>{_(I)})})})}))})}i("load",{side:I,done:T})}const{t:b}=gn();function x(I,E){var w,P,C,D,A;if(t.side!==I&&t.side!=="both")return;const T=()=>_(I),S={side:I,props:{onClick:T,color:t.color}};return E==="error"?(w=n.error)==null?void 0:w.call(n,S):E==="empty"?((P=n.empty)==null?void 0:P.call(n,S))??m("div",null,[b(t.emptyText)]):t.mode==="manual"?E==="loading"?((C=n.loading)==null?void 0:C.call(n,S))??m($l,{indeterminate:!0,color:t.color},null):((D=n["load-more"])==null?void 0:D.call(n,S))??m(gt,{variant:"outlined",color:t.color,onClick:T},{default:()=>[b(t.loadMoreText)]}):((A=n.loading)==null?void 0:A.call(n,S))??m($l,{indeterminate:!0,color:t.color},null)}const{dimensionStyles:k}=vi(t);xe(()=>{const I=t.tag,E=t.side==="start"||t.side==="both",T=t.side==="end"||t.side==="both",S=t.mode==="intersect";return m(I,{ref:s,class:["v-infinite-scroll",`v-infinite-scroll--${t.direction}`,{"v-infinite-scroll--start":E,"v-infinite-scroll--end":T}],style:k.value},{default:()=>{var w;return[m("div",{class:"v-infinite-scroll__side"},[x("start",r.value)]),E&&S&&m(zR,{key:"start",side:"start",onIntersect:p,rootMargin:o.value},null),(w=n.default)==null?void 0:w.call(n),T&&S&&m(zR,{key:"end",side:"end",onIntersect:p,rootMargin:o.value},null),m("div",{class:"v-infinite-scroll__side"},[x("end",a.value)])]}})})}}),G3=Symbol.for("vuetify:v-item-group"),hve=te({...je(),...Bc({selectedClass:"v-item--selected"}),...yt(),...Ft()},"VItemGroup"),fve=pe()({name:"VItemGroup",props:hve(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const{themeClasses:i}=Qt(t),{isSelected:s,select:r,next:a,prev:o,selected:l}=au(t,G3);return()=>m(t.tag,{class:["v-item-group",i.value,t.class],style:t.style},{default:()=>{var u;return[(u=n.default)==null?void 0:u.call(n,{isSelected:s,select:r,next:a,prev:o,selected:l.value})]}})}}),mve=pe()({name:"VItem",props:jc(),emits:{"group:selected":t=>!0},setup(t,e){let{slots:n}=e;const{isSelected:i,select:s,toggle:r,selectedClass:a,value:o,disabled:l}=$c(t,G3);return()=>{var u;return(u=n.default)==null?void 0:u.call(n,{isSelected:i.value,selectedClass:a.value,select:s,toggle:r,value:o.value,disabled:l.value})}}}),vve=Ja("v-kbd","kbd"),gve=te({...je(),...mi(),...t$()},"VLayout"),pve=pe()({name:"VLayout",props:gve(),setup(t,e){let{slots:n}=e;const{layoutClasses:i,layoutStyles:s,getLayoutItem:r,items:a,layoutRef:o}=i$(t),{dimensionStyles:l}=vi(t);return xe(()=>{var u;return m("div",{ref:o,class:[i.value,t.class],style:[l.value,s.value,t.style]},[(u=n.default)==null?void 0:u.call(n)])}),{getLayoutItem:r,items:a}}}),_ve=te({position:{type:String,required:!0},size:{type:[Number,String],default:300},modelValue:Boolean,...je(),...Vc()},"VLayoutItem"),yve=pe()({name:"VLayoutItem",props:_ve(),setup(t,e){let{slots:n}=e;const{layoutItemStyles:i}=Lc({id:t.name,order:R(()=>parseInt(t.order,10)),position:ve(t,"position"),elementSize:ve(t,"size"),layoutSize:ve(t,"size"),active:ve(t,"modelValue"),absolute:ve(t,"absolute")});return()=>{var s;return m("div",{class:["v-layout-item",t.class],style:[i.value,t.style]},[(s=n.default)==null?void 0:s.call(n)])}}}),bve=te({modelValue:Boolean,options:{type:Object,default:()=>({root:void 0,rootMargin:void 0,threshold:void 0})},...je(),...mi(),...yt(),...ya({transition:"fade-transition"})},"VLazy"),wve=pe()({name:"VLazy",directives:{intersect:Kv},props:bve(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const{dimensionStyles:i}=vi(t),s=Ye(t,"modelValue");function r(a){s.value||(s.value=a)}return xe(()=>In(m(t.tag,{class:["v-lazy",t.class],style:[i.value,t.style]},{default:()=>[s.value&&m(Ts,{transition:t.transition,appear:!0},{default:()=>{var a;return[(a=n.default)==null?void 0:a.call(n)]}})]}),[[nr("intersect"),{handler:r,options:t.options},null]])),{}}}),xve=te({locale:String,fallbackLocale:String,messages:Object,rtl:{type:Boolean,default:void 0},...je()},"VLocaleProvider"),Sve=pe()({name:"VLocaleProvider",props:xve(),setup(t,e){let{slots:n}=e;const{rtlClasses:i}=eie(t);return xe(()=>{var s;return m("div",{class:["v-locale-provider",i.value,t.class],style:t.style},[(s=n.default)==null?void 0:s.call(n)])}),{}}}),kve=te({scrollable:Boolean,...je(),...mi(),...yt({tag:"main"})},"VMain"),Tve=pe()({name:"VMain",props:kve(),setup(t,e){let{slots:n}=e;const{dimensionStyles:i}=vi(t),{mainStyles:s}=n$(),{ssrBootStyles:r}=Nc();return xe(()=>m(t.tag,{class:["v-main",{"v-main--scrollable":t.scrollable},t.class],style:[s.value,r.value,i.value,t.style]},{default:()=>{var a,o;return[t.scrollable?m("div",{class:"v-main__scroller"},[(a=n.default)==null?void 0:a.call(n)]):(o=n.default)==null?void 0:o.call(n)]}})),{}}});function Pve(t){let{rootEl:e,isSticky:n,layoutItemStyles:i}=t;const s=Me(!1),r=Me(0),a=R(()=>{const u=typeof s.value=="boolean"?"top":s.value;return[n.value?{top:"auto",bottom:"auto",height:void 0}:void 0,s.value?{[u]:Ne(r.value)}:{top:i.value.top}]});Pt(()=>{we(n,u=>{u?window.addEventListener("scroll",l,{passive:!0}):window.removeEventListener("scroll",l)},{immediate:!0})}),Mi(()=>{window.removeEventListener("scroll",l)});let o=0;function l(){const u=o>window.scrollY?"up":"down",d=e.value.getBoundingClientRect(),c=parseFloat(i.value.top??0),f=window.scrollY-Math.max(0,r.value-c),h=d.height+Math.max(r.value,c)-window.scrollY-window.innerHeight,g=parseFloat(getComputedStyle(e.value).getPropertyValue("--v-body-scroll-y"))||0;d.height<window.innerHeight-c?(s.value="top",r.value=c):u==="up"&&s.value==="bottom"||u==="down"&&s.value==="top"?(r.value=window.scrollY+d.top-g,s.value=!0):u==="down"&&h<=0?(r.value=0,s.value="bottom"):u==="up"&&f<=0&&(g?s.value!=="top"&&(r.value=-f+g+c,s.value="top"):(r.value=d.top+f,s.value="top")),o=window.scrollY}return{isStuck:s,stickyStyles:a}}const Cve=100,Eve=20;function WR(t){return(t<0?-1:1)*Math.sqrt(Math.abs(t))*1.41421356237}function YR(t){if(t.length<2)return 0;if(t.length===2)return t[1].t===t[0].t?0:(t[1].d-t[0].d)/(t[1].t-t[0].t);let e=0;for(let n=t.length-1;n>0;n--){if(t[n].t===t[n-1].t)continue;const i=WR(e),s=(t[n].d-t[n-1].d)/(t[n].t-t[n-1].t);e+=(s-i)*Math.abs(s),n===t.length-1&&(e*=.5)}return WR(e)*1e3}function Ive(){const t={};function e(s){Array.from(s.changedTouches).forEach(r=>{(t[r.identifier]??(t[r.identifier]=new vne(Eve))).push([s.timeStamp,r])})}function n(s){Array.from(s.changedTouches).forEach(r=>{delete t[r.identifier]})}function i(s){var u;const r=(u=t[s])==null?void 0:u.values().reverse();if(!r)throw new Error(`No samples for touch id ${s}`);const a=r[0],o=[],l=[];for(const d of r){if(a[0]-d[0]>Cve)break;o.push({t:d[0],d:d[1].clientX}),l.push({t:d[0],d:d[1].clientY})}return{x:YR(o),y:YR(l),get direction(){const{x:d,y:c}=this,[f,h]=[Math.abs(d),Math.abs(c)];return f>h&&d>=0?"right":f>h&&d<=0?"left":h>f&&c>=0?"down":h>f&&c<=0?"up":Dve()}}}return{addMovement:e,endTouch:n,getVelocity:i}}function Dve(){throw new Error}function Ave(t){let{el:e,isActive:n,isTemporary:i,width:s,touchless:r,position:a}=t;Pt(()=>{window.addEventListener("touchstart",b,{passive:!0}),window.addEventListener("touchmove",x,{passive:!1}),window.addEventListener("touchend",k,{passive:!0})}),Mi(()=>{window.removeEventListener("touchstart",b),window.removeEventListener("touchmove",x),window.removeEventListener("touchend",k)});const o=R(()=>["left","right"].includes(a.value)),{addMovement:l,endTouch:u,getVelocity:d}=Ive();let c=!1;const f=Me(!1),h=Me(0),g=Me(0);let v;function p(E,T){return(a.value==="left"?E:a.value==="right"?document.documentElement.clientWidth-E:a.value==="top"?E:a.value==="bottom"?document.documentElement.clientHeight-E:sd())-(T?s.value:0)}function _(E){let T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const S=a.value==="left"?(E-g.value)/s.value:a.value==="right"?(document.documentElement.clientWidth-E-g.value)/s.value:a.value==="top"?(E-g.value)/s.value:a.value==="bottom"?(document.documentElement.clientHeight-E-g.value)/s.value:sd();return T?Math.max(0,Math.min(1,S)):S}function b(E){if(r.value)return;const T=E.changedTouches[0].clientX,S=E.changedTouches[0].clientY,w=25,P=a.value==="left"?T<w:a.value==="right"?T>document.documentElement.clientWidth-w:a.value==="top"?S<w:a.value==="bottom"?S>document.documentElement.clientHeight-w:sd(),C=n.value&&(a.value==="left"?T<s.value:a.value==="right"?T>document.documentElement.clientWidth-s.value:a.value==="top"?S<s.value:a.value==="bottom"?S>document.documentElement.clientHeight-s.value:sd());(P||C||n.value&&i.value)&&(v=[T,S],g.value=p(o.value?T:S,n.value),h.value=_(o.value?T:S),c=g.value>-20&&g.value<80,u(E),l(E))}function x(E){const T=E.changedTouches[0].clientX,S=E.changedTouches[0].clientY;if(c){if(!E.cancelable){c=!1;return}const P=Math.abs(T-v[0]),C=Math.abs(S-v[1]);(o.value?P>C&&P>3:C>P&&C>3)?(f.value=!0,c=!1):(o.value?C:P)>3&&(c=!1)}if(!f.value)return;E.preventDefault(),l(E);const w=_(o.value?T:S,!1);h.value=Math.max(0,Math.min(1,w)),w>1?g.value=p(o.value?T:S,!0):w<0&&(g.value=p(o.value?T:S,!1))}function k(E){if(c=!1,!f.value)return;l(E),f.value=!1;const T=d(E.changedTouches[0].identifier),S=Math.abs(T.x),w=Math.abs(T.y);(o.value?S>w&&S>400:w>S&&w>3)?n.value=T.direction===({left:"right",right:"left",top:"down",bottom:"up"}[a.value]||sd()):n.value=h.value>.5}const I=R(()=>f.value?{transform:a.value==="left"?`translateX(calc(-100% + ${h.value*s.value}px))`:a.value==="right"?`translateX(calc(100% - ${h.value*s.value}px))`:a.value==="top"?`translateY(calc(-100% + ${h.value*s.value}px))`:a.value==="bottom"?`translateY(calc(100% - ${h.value*s.value}px))`:sd(),transition:"none"}:void 0);return Ns(f,()=>{var S,w;const E=((S=e.value)==null?void 0:S.style.transform)??null,T=((w=e.value)==null?void 0:w.style.transition)??null;yn(()=>{var P,C,D,A;(C=e.value)==null||C.style.setProperty("transform",((P=I.value)==null?void 0:P.transform)||"none"),(A=e.value)==null||A.style.setProperty("transition",((D=I.value)==null?void 0:D.transition)||null)}),as(()=>{var P,C;(P=e.value)==null||P.style.setProperty("transform",E),(C=e.value)==null||C.style.setProperty("transition",T)})}),{isDragging:f,dragProgress:h,dragStyles:I}}function sd(){throw new Error}const Ove=["start","end","left","right","top","bottom"],Rve=te({color:String,disableResizeWatcher:Boolean,disableRouteWatcher:Boolean,expandOnHover:Boolean,floating:Boolean,modelValue:{type:Boolean,default:null},permanent:Boolean,rail:{type:Boolean,default:null},railWidth:{type:[Number,String],default:56},scrim:{type:[Boolean,String],default:!0},image:String,temporary:Boolean,persistent:Boolean,touchless:Boolean,width:{type:[Number,String],default:256},location:{type:String,default:"start",validator:t=>Ove.includes(t)},sticky:Boolean,...ir(),...je(),...v0(),...Mc({mobile:null}),...Pi(),...Vc(),...On(),...yt({tag:"nav"}),...Ft()},"VNavigationDrawer"),Mve=pe()({name:"VNavigationDrawer",props:Rve(),emits:{"update:modelValue":t=>!0,"update:rail":t=>!0},setup(t,e){let{attrs:n,emit:i,slots:s}=e;const{isRtl:r}=Ti(),{themeClasses:a}=Qt(t),{borderClasses:o}=Tr(t),{backgroundColorClasses:l,backgroundColorStyles:u}=an(ve(t,"color")),{elevationClasses:d}=Wi(t),{displayClasses:c,mobile:f}=Sr(t),{roundedClasses:h}=qn(t),g=B4(),v=Ye(t,"modelValue",null,Z=>!!Z),{ssrBootStyles:p}=Nc(),{scopeId:_}=zc(),b=Y(),x=Me(!1),{runOpenDelay:k,runCloseDelay:I}=uC(t,Z=>{x.value=Z}),E=R(()=>t.rail&&t.expandOnHover&&x.value?Number(t.width):Number(t.rail?t.railWidth:t.width)),T=R(()=>Ux(t.location,r.value)),S=R(()=>t.persistent),w=R(()=>!t.permanent&&(f.value||t.temporary)),P=R(()=>t.sticky&&!w.value&&T.value!=="bottom");Ns(()=>t.expandOnHover&&t.rail!=null,()=>{we(x,Z=>i("update:rail",!Z))}),Ns(()=>!t.disableResizeWatcher,()=>{we(w,Z=>!t.permanent&&pt(()=>v.value=!Z))}),Ns(()=>!t.disableRouteWatcher&&!!g,()=>{we(g.currentRoute,()=>w.value&&(v.value=!1))}),we(()=>t.permanent,Z=>{Z&&(v.value=!0)}),t.modelValue==null&&!w.value&&(v.value=t.permanent||!f.value);const{isDragging:C,dragProgress:D}=Ave({el:b,isActive:v,isTemporary:w,width:E,touchless:ve(t,"touchless"),position:T}),A=R(()=>{const Z=w.value?0:t.rail&&t.expandOnHover?Number(t.railWidth):E.value;return C.value?Z*D.value:Z}),N=R(()=>["top","bottom"].includes(t.location)?0:E.value),{layoutItemStyles:B,layoutItemScrimStyles:H}=Lc({id:t.name,order:R(()=>parseInt(t.order,10)),position:T,layoutSize:A,elementSize:N,active:R(()=>v.value||C.value),disableTransitions:R(()=>C.value),absolute:R(()=>t.absolute||P.value&&typeof G.value!="string")}),{isStuck:G,stickyStyles:z}=Pve({rootEl:b,isSticky:P,layoutItemStyles:B}),X=an(R(()=>typeof t.scrim=="string"?t.scrim:null)),W=R(()=>({...C.value?{opacity:D.value*.2,transition:"none"}:void 0,...H.value}));return Dn({VList:{bgColor:"transparent"}}),xe(()=>{const Z=s.image||t.image;return m(Ie,null,[m(t.tag,J({ref:b,onMouseenter:k,onMouseleave:I,class:["v-navigation-drawer",`v-navigation-drawer--${T.value}`,{"v-navigation-drawer--expand-on-hover":t.expandOnHover,"v-navigation-drawer--floating":t.floating,"v-navigation-drawer--is-hovering":x.value,"v-navigation-drawer--rail":t.rail,"v-navigation-drawer--temporary":w.value,"v-navigation-drawer--persistent":S.value,"v-navigation-drawer--active":v.value,"v-navigation-drawer--sticky":P.value},a.value,l.value,o.value,c.value,d.value,h.value,t.class],style:[u.value,B.value,p.value,z.value,t.style,["top","bottom"].includes(T.value)?{height:"auto"}:{}]},_,n),{default:()=>{var ee,le,ue;return[Z&&m("div",{key:"image",class:"v-navigation-drawer__img"},[s.image?m(ht,{key:"image-defaults",disabled:!t.image,defaults:{VImg:{alt:"",cover:!0,height:"inherit",src:t.image}}},s.image):m(Vo,{key:"image-img",alt:"",cover:!0,height:"inherit",src:t.image},null)]),s.prepend&&m("div",{class:"v-navigation-drawer__prepend"},[(ee=s.prepend)==null?void 0:ee.call(s)]),m("div",{class:"v-navigation-drawer__content"},[(le=s.default)==null?void 0:le.call(s)]),s.append&&m("div",{class:"v-navigation-drawer__append"},[(ue=s.append)==null?void 0:ue.call(s)])]}}),m(Rl,{name:"fade-transition"},{default:()=>[w.value&&(C.value||v.value)&&!!t.scrim&&m("div",J({class:["v-navigation-drawer__scrim",X.backgroundColorClasses.value],style:[W.value,X.backgroundColorStyles.value],onClick:()=>{S.value||(v.value=!1)}},_),null)]})])}),{isStuck:G}}}),Vve=xr({name:"VNoSsr",setup(t,e){let{slots:n}=e;const i=I5();return()=>{var s;return i.value&&((s=n.default)==null?void 0:s.call(n))}}}),Lve=te({autofocus:Boolean,divider:String,focusAll:Boolean,label:{type:String,default:"$vuetify.input.otp"},length:{type:[Number,String],default:6},modelValue:{type:[Number,String],default:void 0},placeholder:String,type:{type:String,default:"number"},...mi(),...Yh(),...Yv(ng({variant:"outlined"}),["baseColor","bgColor","class","color","disabled","error","loading","rounded","style","theme","variant"])},"VOtpInput"),Nve=pe()({name:"VOtpInput",props:Lve(),emits:{finish:t=>!0,"update:focused":t=>!0,"update:modelValue":t=>!0},setup(t,e){let{attrs:n,emit:i,slots:s}=e;const{dimensionStyles:r}=vi(t),{isFocused:a,focus:o,blur:l}=eo(t),u=Ye(t,"modelValue","",S=>S==null?[]:String(S).split(""),S=>S.join("")),{t:d}=gn(),c=R(()=>Number(t.length)),f=R(()=>Array(c.value).fill(0)),h=Y(-1),g=Y(),v=Y([]),p=R(()=>v.value[h.value]);function _(){if(T(p.value.value)){p.value.value="";return}const S=u.value.slice(),w=p.value.value;S[h.value]=w;let P=null;h.value>u.value.length?P=u.value.length+1:h.value+1!==c.value&&(P="next"),u.value=S,P&&zu(g.value,P)}function b(S){const w=u.value.slice(),P=h.value;let C=null;["ArrowLeft","ArrowRight","Backspace","Delete"].includes(S.key)&&(S.preventDefault(),S.key==="ArrowLeft"?C="prev":S.key==="ArrowRight"?C="next":["Backspace","Delete"].includes(S.key)&&(w[h.value]="",u.value=w,h.value>0&&S.key==="Backspace"?C="prev":requestAnimationFrame(()=>{var D;(D=v.value[P])==null||D.select()})),requestAnimationFrame(()=>{C!=null&&zu(g.value,C)}))}function x(S,w){var C,D;w.preventDefault(),w.stopPropagation();const P=((C=w==null?void 0:w.clipboardData)==null?void 0:C.getData("Text").slice(0,c.value))??"";T(P)||(u.value=P.split(""),(D=v.value)==null||D[S].blur())}function k(){u.value=[]}function I(S,w){o(),h.value=w}function E(){l(),h.value=-1}function T(S){return t.type==="number"&&/[^0-9]/g.test(S)}return Dn({VField:{color:R(()=>t.color),bgColor:R(()=>t.color),baseColor:R(()=>t.baseColor),disabled:R(()=>t.disabled),error:R(()=>t.error),variant:R(()=>t.variant)}},{scoped:!0}),we(u,S=>{S.length===c.value&&i("finish",S.join(""))},{deep:!0}),we(h,S=>{S<0||pt(()=>{var w;(w=v.value[S])==null||w.select()})}),xe(()=>{var P;const[S,w]=zo(n);return m("div",J({class:["v-otp-input",{"v-otp-input--divided":!!t.divider},t.class],style:[t.style]},S),[m("div",{ref:g,class:"v-otp-input__content",style:[r.value]},[f.value.map((C,D)=>m(Ie,null,[t.divider&&D!==0&&m("span",{class:"v-otp-input__divider"},[t.divider]),m(Gh,{focused:a.value&&t.focusAll||h.value===D,key:D},{...s,loader:void 0,default:()=>m("input",{ref:A=>v.value[D]=A,"aria-label":d(t.label,D+1),autofocus:D===0&&t.autofocus,autocomplete:"one-time-code",class:["v-otp-input__field"],disabled:t.disabled,inputmode:t.type==="number"?"numeric":"text",min:t.type==="number"?0:void 0,maxlength:"1",placeholder:t.placeholder,type:t.type==="number"?"text":t.type,value:u.value[D],onInput:_,onFocus:A=>I(A,D),onBlur:E,onKeydown:b,onPaste:A=>x(D,A)},null)})])),m("input",J({class:"v-otp-input-input",type:"hidden"},w,{value:u.value.join("")}),null),m(fa,{contained:!0,"content-class":"v-otp-input__loader","model-value":!!t.loading,persistent:!0},{default:()=>{var C;return[((C=s.loader)==null?void 0:C.call(s))??m($l,{color:typeof t.loading=="boolean"?void 0:t.loading,indeterminate:!0,size:"24",width:"2"},null)]}}),(P=s.default)==null?void 0:P.call(s)])])}),{blur:()=>{var S;(S=v.value)==null||S.some(w=>w.blur())},focus:()=>{var S;(S=v.value)==null||S[0].focus()},reset:k,isFocused:a}}});function Fve(t){return Math.floor(Math.abs(t))*Math.sign(t)}const Bve=te({scale:{type:[Number,String],default:.5},...je()},"VParallax"),jve=pe()({name:"VParallax",props:Bve(),setup(t,e){let{slots:n}=e;const{intersectionRef:i,isIntersecting:s}=c0(),{resizeRef:r,contentRect:a}=ha(),{height:o}=Sr(),l=Y();yn(()=>{var h;i.value=r.value=(h=l.value)==null?void 0:h.$el});let u;we(s,h=>{h?(u=DP(i.value),u=u===document.scrollingElement?document:u,u.addEventListener("scroll",f,{passive:!0}),f()):u.removeEventListener("scroll",f)}),Mi(()=>{u==null||u.removeEventListener("scroll",f)}),we(o,f),we(()=>{var h;return(h=a.value)==null?void 0:h.height},f);const d=R(()=>1-$n(+t.scale));let c=-1;function f(){s.value&&(cancelAnimationFrame(c),c=requestAnimationFrame(()=>{var I;const h=((I=l.value)==null?void 0:I.$el).querySelector(".v-img__img");if(!h)return;const g=u instanceof Document?document.documentElement.clientHeight:u.clientHeight,v=u instanceof Document?window.scrollY:u.scrollTop,p=i.value.getBoundingClientRect().top+v,_=a.value.height,b=p+(_-g)/2,x=Fve((v-b)*d.value),k=Math.max(1,(d.value*(g-_)+_)/_);h.style.setProperty("transform",`translateY(${x}px) scale(${k})`)}))}return xe(()=>m(Vo,{class:["v-parallax",{"v-parallax--active":s.value},t.class],style:t.style,ref:l,cover:!0,onLoadstart:f,onLoad:f},n)),{}}}),$ve=te({...m0({falseIcon:"$radioOff",trueIcon:"$radioOn"})},"VRadio"),Uve=pe()({name:"VRadio",props:$ve(),setup(t,e){let{slots:n}=e;return xe(()=>{const i=Ul.filterProps(t);return m(Ul,J(i,{class:["v-radio",t.class],style:t.style,type:"radio"}),n)}),{}}}),Hve=te({height:{type:[Number,String],default:"auto"},...qo(),...tn(iC(),["multiple"]),trueIcon:{type:qe,default:"$radioOn"},falseIcon:{type:qe,default:"$radioOff"},type:{type:String,default:"radio"}},"VRadioGroup"),zve=pe()({name:"VRadioGroup",inheritAttrs:!1,props:Hve(),emits:{"update:modelValue":t=>!0},setup(t,e){let{attrs:n,slots:i}=e;const s=zi(),r=R(()=>t.id||`radio-group-${s}`),a=Ye(t,"modelValue");return xe(()=>{const[o,l]=zo(n),u=rs.filterProps(t),d=Ul.filterProps(t),c=i.label?i.label({label:t.label,props:{for:r.value}}):t.label;return m(rs,J({class:["v-radio-group",t.class],style:t.style},o,u,{modelValue:a.value,"onUpdate:modelValue":f=>a.value=f,id:r.value}),{...i,default:f=>{let{id:h,messagesId:g,isDisabled:v,isReadonly:p}=f;return m(Ie,null,[c&&m(Wh,{id:h.value},{default:()=>[c]}),m(K4,J(d,{id:h.value,"aria-describedby":g.value,defaultsTarget:"VRadio",trueIcon:t.trueIcon,falseIcon:t.falseIcon,type:t.type,disabled:v.value,readonly:p.value,"aria-labelledby":c?h.value:void 0,multiple:!1},l,{modelValue:a.value,"onUpdate:modelValue":_=>a.value=_}),i)])}})}),{}}}),Wve=te({...Yh(),...qo(),...Q5(),strict:Boolean,modelValue:{type:Array,default:()=>[0,0]}},"VRangeSlider"),Yve=pe()({name:"VRangeSlider",props:Wve(),emits:{"update:focused":t=>!0,"update:modelValue":t=>!0,end:t=>!0,start:t=>!0},setup(t,e){let{slots:n,emit:i}=e;const s=Y(),r=Y(),a=Y(),{rtlClasses:o}=Ti();function l(P){if(!s.value||!r.value)return;const C=xS(P,s.value.$el,t.direction),D=xS(P,r.value.$el,t.direction),A=Math.abs(C),N=Math.abs(D);return A<N||A===N&&C<0?s.value.$el:r.value.$el}const u=J5(t),d=Ye(t,"modelValue",void 0,P=>P!=null&&P.length?P.map(C=>u.roundValue(C)):[0,0]),{activeThumbRef:c,hasLabels:f,max:h,min:g,mousePressed:v,onSliderMousedown:p,onSliderTouchstart:_,position:b,trackContainerRef:x,readonly:k}=Z5({props:t,steps:u,onSliderStart:()=>{i("start",d.value)},onSliderEnd:P=>{var A;let{value:C}=P;const D=c.value===((A=s.value)==null?void 0:A.$el)?[C,d.value[1]]:[d.value[0],C];!t.strict&&D[0]<D[1]&&(d.value=D),i("end",d.value)},onSliderMove:P=>{var N,B,H,G;let{value:C}=P;const[D,A]=d.value;!t.strict&&D===A&&D!==g.value&&(c.value=C>D?(N=r.value)==null?void 0:N.$el:(B=s.value)==null?void 0:B.$el,(H=c.value)==null||H.focus()),c.value===((G=s.value)==null?void 0:G.$el)?d.value=[Math.min(C,A),A]:d.value=[D,Math.max(D,C)]},getActiveThumb:l}),{isFocused:I,focus:E,blur:T}=eo(t),S=R(()=>b(d.value[0])),w=R(()=>b(d.value[1]));return xe(()=>{const P=rs.filterProps(t),C=!!(t.label||n.label||n.prepend);return m(rs,J({class:["v-slider","v-range-slider",{"v-slider--has-labels":!!n["tick-label"]||f.value,"v-slider--focused":I.value,"v-slider--pressed":v.value,"v-slider--disabled":t.disabled},o.value,t.class],style:t.style,ref:a},P,{focused:I.value}),{...n,prepend:C?D=>{var A,N;return m(Ie,null,[((A=n.label)==null?void 0:A.call(n,D))??(t.label?m(Wh,{class:"v-slider__label",text:t.label},null):void 0),(N=n.prepend)==null?void 0:N.call(n,D)])}:void 0,default:D=>{var B,H;let{id:A,messagesId:N}=D;return m("div",{class:"v-slider__container",onMousedown:k.value?void 0:p,onTouchstartPassive:k.value?void 0:_},[m("input",{id:`${A.value}_start`,name:t.name||A.value,disabled:!!t.disabled,readonly:!!t.readonly,tabindex:"-1",value:d.value[0]},null),m("input",{id:`${A.value}_stop`,name:t.name||A.value,disabled:!!t.disabled,readonly:!!t.readonly,tabindex:"-1",value:d.value[1]},null),m(e3,{ref:x,start:S.value,stop:w.value},{"tick-label":n["tick-label"]}),m(SS,{ref:s,"aria-describedby":N.value,focused:I&&c.value===((B=s.value)==null?void 0:B.$el),modelValue:d.value[0],"onUpdate:modelValue":G=>d.value=[G,d.value[1]],onFocus:G=>{var z,X,W,Z;E(),c.value=(z=s.value)==null?void 0:z.$el,h.value!==g.value&&d.value[0]===d.value[1]&&d.value[1]===g.value&&G.relatedTarget!==((X=r.value)==null?void 0:X.$el)&&((W=s.value)==null||W.$el.blur(),(Z=r.value)==null||Z.$el.focus())},onBlur:()=>{T(),c.value=void 0},min:g.value,max:d.value[1],position:S.value,ripple:t.ripple},{"thumb-label":n["thumb-label"]}),m(SS,{ref:r,"aria-describedby":N.value,focused:I&&c.value===((H=r.value)==null?void 0:H.$el),modelValue:d.value[1],"onUpdate:modelValue":G=>d.value=[d.value[0],G],onFocus:G=>{var z,X,W,Z;E(),c.value=(z=r.value)==null?void 0:z.$el,h.value!==g.value&&d.value[0]===d.value[1]&&d.value[0]===h.value&&G.relatedTarget!==((X=s.value)==null?void 0:X.$el)&&((W=r.value)==null||W.$el.blur(),(Z=s.value)==null||Z.$el.focus())},onBlur:()=>{T(),c.value=void 0},min:d.value[0],max:h.value,position:w.value,ripple:t.ripple},{"thumb-label":n["thumb-label"]})])}})}),{}}}),Gve=te({name:String,itemAriaLabel:{type:String,default:"$vuetify.rating.ariaLabel.item"},activeColor:String,color:String,clearable:Boolean,disabled:Boolean,emptyIcon:{type:qe,default:"$ratingEmpty"},fullIcon:{type:qe,default:"$ratingFull"},halfIncrements:Boolean,hover:Boolean,length:{type:[Number,String],default:5},readonly:Boolean,modelValue:{type:[Number,String],default:0},itemLabels:Array,itemLabelPosition:{type:String,default:"top",validator:t=>["top","bottom"].includes(t)},ripple:Boolean,...je(),...Ci(),...Za(),...yt(),...Ft()},"VRating"),qve=pe()({name:"VRating",props:Gve(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const{t:i}=gn(),{themeClasses:s}=Qt(t),r=Ye(t,"modelValue"),a=R(()=>$n(parseFloat(r.value),0,+t.length)),o=R(()=>mr(Number(t.length),1)),l=R(()=>o.value.flatMap(v=>t.halfIncrements?[v-.5,v]:[v])),u=Me(-1),d=R(()=>l.value.map(v=>{const p=t.hover&&u.value>-1,_=a.value>=v,b=u.value>=v,k=(p?b:_)?t.fullIcon:t.emptyIcon,I=t.activeColor??t.color,E=_||b?I:t.color;return{isFilled:_,isHovered:b,icon:k,color:E}})),c=R(()=>[0,...l.value].map(v=>{function p(){u.value=v}function _(){u.value=-1}function b(){t.disabled||t.readonly||(r.value=a.value===v&&t.clearable?0:v)}return{onMouseenter:t.hover?p:void 0,onMouseleave:t.hover?_:void 0,onClick:b}})),f=R(()=>t.name??`v-rating-${zi()}`);function h(v){var S,w;let{value:p,index:_,showStar:b=!0}=v;const{onMouseenter:x,onMouseleave:k,onClick:I}=c.value[_+1],E=`${f.value}-${String(p).replace(".","-")}`,T={color:(S=d.value[_])==null?void 0:S.color,density:t.density,disabled:t.disabled,icon:(w=d.value[_])==null?void 0:w.icon,ripple:t.ripple,size:t.size,variant:"plain"};return m(Ie,null,[m("label",{for:E,class:{"v-rating__item--half":t.halfIncrements&&p%1>0,"v-rating__item--full":t.halfIncrements&&p%1===0},onMouseenter:x,onMouseleave:k,onClick:I},[m("span",{class:"v-rating__hidden"},[i(t.itemAriaLabel,p,t.length)]),b?n.item?n.item({...d.value[_],props:T,value:p,index:_,rating:a.value}):m(gt,J({"aria-label":i(t.itemAriaLabel,p,t.length)},T),null):void 0]),m("input",{class:"v-rating__hidden",name:f.value,id:E,type:"radio",value:p,checked:a.value===p,tabindex:-1,readonly:t.readonly,disabled:t.disabled},null)])}function g(v){return n["item-label"]?n["item-label"](v):v.label?m("span",null,[v.label]):m("span",null,[Ee("")])}return xe(()=>{var p;const v=!!((p=t.itemLabels)!=null&&p.length)||n["item-label"];return m(t.tag,{class:["v-rating",{"v-rating--hover":t.hover,"v-rating--readonly":t.readonly},s.value,t.class],style:t.style},{default:()=>[m(h,{value:0,index:-1,showStar:!1},null),o.value.map((_,b)=>{var x,k;return m("div",{class:"v-rating__wrapper"},[v&&t.itemLabelPosition==="top"?g({value:_,index:b,label:(x=t.itemLabels)==null?void 0:x[b]}):void 0,m("div",{class:"v-rating__item"},[t.halfIncrements?m(Ie,null,[m(h,{value:_-.5,index:b*2},null),m(h,{value:_,index:b*2+1},null)]):m(h,{value:_,index:b},null)]),v&&t.itemLabelPosition==="bottom"?g({value:_,index:b,label:(k=t.itemLabels)==null?void 0:k[b]}):void 0])})]})}),{}}}),Xve={actions:"button@2",article:"heading, paragraph",avatar:"avatar",button:"button",card:"image, heading","card-avatar":"image, list-item-avatar",chip:"chip","date-picker":"list-item, heading, divider, date-picker-options, date-picker-days, actions","date-picker-options":"text, avatar@2","date-picker-days":"avatar@28",divider:"divider",heading:"heading",image:"image","list-item":"text","list-item-avatar":"avatar, text","list-item-two-line":"sentences","list-item-avatar-two-line":"avatar, sentences","list-item-three-line":"paragraph","list-item-avatar-three-line":"avatar, paragraph",ossein:"ossein",paragraph:"text@3",sentences:"text@2",subtitle:"text",table:"table-heading, table-thead, table-tbody, table-tfoot","table-heading":"chip, text","table-thead":"heading@6","table-tbody":"table-row-divider@6","table-row-divider":"table-row, divider","table-row":"text@6","table-tfoot":"text@2, avatar@2",text:"text"};function Kve(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return m("div",{class:["v-skeleton-loader__bone",`v-skeleton-loader__${t}`]},[e])}function GR(t){const[e,n]=t.split("@");return Array.from({length:n}).map(()=>I0(e))}function I0(t){let e=[];if(!t)return e;const n=Xve[t];if(t!==n){if(t.includes(","))return qR(t);if(t.includes("@"))return GR(t);n.includes(",")?e=qR(n):n.includes("@")?e=GR(n):n&&e.push(I0(n))}return[Kve(t,e)]}function qR(t){return t.replace(/\s/g,"").split(",").map(I0)}const Qve=te({boilerplate:Boolean,color:String,loading:Boolean,loadingText:{type:String,default:"$vuetify.loading"},type:{type:[String,Array],default:"ossein"},...mi(),...Pi(),...Ft()},"VSkeletonLoader"),Jve=pe()({name:"VSkeletonLoader",props:Qve(),setup(t,e){let{slots:n}=e;const{backgroundColorClasses:i,backgroundColorStyles:s}=an(ve(t,"color")),{dimensionStyles:r}=vi(t),{elevationClasses:a}=Wi(t),{themeClasses:o}=Qt(t),{t:l}=gn(),u=R(()=>I0(bn(t.type).join(",")));return xe(()=>{var f;const d=!n.default||t.loading,c=t.boilerplate||!d?{}:{ariaLive:"polite",ariaLabel:l(t.loadingText),role:"alert"};return m("div",J({class:["v-skeleton-loader",{"v-skeleton-loader--boilerplate":t.boilerplate},o.value,i.value,a.value],style:[s.value,d?r.value:{}]},c),[d?u.value:(f=n.default)==null?void 0:f.call(n)])}),{}}}),Zve=pe()({name:"VSlideGroupItem",props:jc(),emits:{"group:selected":t=>!0},setup(t,e){let{slots:n}=e;const i=$c(t,r5);return()=>{var s;return(s=n.default)==null?void 0:s.call(n,{isSelected:i.isSelected.value,select:i.select,toggle:i.toggle,selectedClass:i.selectedClass.value})}}});function ege(t){const e=Me(t());let n=-1;function i(){clearInterval(n)}function s(){i(),pt(()=>e.value=t())}function r(a){const o=a?getComputedStyle(a):{transitionDuration:.2},l=parseFloat(o.transitionDuration)*1e3||200;if(i(),e.value<=0)return;const u=performance.now();n=window.setInterval(()=>{const d=performance.now()-u+l;e.value=Math.max(t()-d,0),e.value<=0&&i()},l)}return as(i),{clear:i,time:e,start:r,reset:s}}const q3=te({multiLine:Boolean,text:String,timer:[Boolean,String],timeout:{type:[Number,String],default:5e3},vertical:Boolean,...Yo({location:"bottom"}),...Uh(),...On(),...Br(),...Ft(),...tn(tg({transition:"v-snackbar-transition"}),["persistent","noClickAnimation","scrim","scrollStrategy"])},"VSnackbar"),FS=pe()({name:"VSnackbar",props:q3(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const i=Ye(t,"modelValue"),{positionClasses:s}=Hh(t),{scopeId:r}=zc(),{themeClasses:a}=Qt(t),{colorClasses:o,colorStyles:l,variantClasses:u}=Fc(t),{roundedClasses:d}=qn(t),c=ege(()=>Number(t.timeout)),f=Y(),h=Y(),g=Me(!1),v=Me(0),p=Y(),_=vt($m,void 0);Ns(()=>!!_,()=>{const C=n$();yn(()=>{p.value=C.mainStyles.value})}),we(i,x),we(()=>t.timeout,x),Pt(()=>{i.value&&x()});let b=-1;function x(){c.reset(),window.clearTimeout(b);const C=Number(t.timeout);if(!i.value||C===-1)return;const D=xP(h.value);c.start(D),b=window.setTimeout(()=>{i.value=!1},C)}function k(){c.reset(),window.clearTimeout(b)}function I(){g.value=!0,k()}function E(){g.value=!1,x()}function T(C){v.value=C.touches[0].clientY}function S(C){Math.abs(v.value-C.changedTouches[0].clientY)>50&&(i.value=!1)}function w(){g.value&&E()}const P=R(()=>t.location.split(" ").reduce((C,D)=>(C[`v-snackbar--${D}`]=!0,C),{}));return xe(()=>{const C=fa.filterProps(t),D=!!(n.default||n.text||t.text);return m(fa,J({ref:f,class:["v-snackbar",{"v-snackbar--active":i.value,"v-snackbar--multi-line":t.multiLine&&!t.vertical,"v-snackbar--timer":!!t.timer,"v-snackbar--vertical":t.vertical},P.value,s.value,t.class],style:[p.value,t.style]},C,{modelValue:i.value,"onUpdate:modelValue":A=>i.value=A,contentProps:J({class:["v-snackbar__wrapper",a.value,o.value,d.value,u.value],style:[l.value],onPointerenter:I,onPointerleave:E},C.contentProps),persistent:!0,noClickAnimation:!0,scrim:!1,scrollStrategy:"none",_disableGlobalStack:!0,onTouchstartPassive:T,onTouchend:S,onAfterLeave:w},r),{default:()=>{var A,N;return[ru(!1,"v-snackbar"),t.timer&&!g.value&&m("div",{key:"timer",class:"v-snackbar__timer"},[m(d0,{ref:h,color:typeof t.timer=="string"?t.timer:"info",max:t.timeout,"model-value":c.time.value},null)]),D&&m("div",{key:"content",class:"v-snackbar__content",role:"status","aria-live":"polite"},[((A=n.text)==null?void 0:A.call(n))??t.text,(N=n.default)==null?void 0:N.call(n)]),n.actions&&m(ht,{defaults:{VBtn:{variant:"text",ripple:!1,slim:!0}}},{default:()=>[m("div",{class:"v-snackbar__actions"},[n.actions({isActive:i})])]})]},activator:n.activator})}),Pr({},f)}}),X3=te({autoDraw:Boolean,autoDrawDuration:[Number,String],autoDrawEasing:{type:String,default:"ease"},color:String,gradient:{type:Array,default:()=>[]},gradientDirection:{type:String,validator:t=>["top","bottom","left","right"].includes(t),default:"top"},height:{type:[String,Number],default:75},labels:{type:Array,default:()=>[]},labelSize:{type:[Number,String],default:7},lineWidth:{type:[String,Number],default:4},id:String,itemValue:{type:String,default:"value"},modelValue:{type:Array,default:()=>[]},min:[String,Number],max:[String,Number],padding:{type:[String,Number],default:8},showLabels:Boolean,smooth:Boolean,width:{type:[Number,String],default:300}},"Line"),K3=te({autoLineWidth:Boolean,...X3()},"VBarline"),XR=pe()({name:"VBarline",props:K3(),setup(t,e){let{slots:n}=e;const i=zi(),s=R(()=>t.id||`barline-${i}`),r=R(()=>Number(t.autoDrawDuration)||500),a=R(()=>!!(t.showLabels||t.labels.length>0||n!=null&&n.label)),o=R(()=>parseFloat(t.lineWidth)||4),l=R(()=>Math.max(t.modelValue.length*o.value,Number(t.width))),u=R(()=>({minX:0,maxX:l.value,minY:0,maxY:parseInt(t.height,10)})),d=R(()=>t.modelValue.map(v=>ii(v,t.itemValue,v)));function c(v,p){const{minX:_,maxX:b,minY:x,maxY:k}=p,I=v.length;let E=t.max!=null?Number(t.max):Math.max(...v),T=t.min!=null?Number(t.min):Math.min(...v);T>0&&t.min==null&&(T=0),E<0&&t.max==null&&(E=0);const S=b/I,w=(k-x)/(E-T||1),P=k-Math.abs(T*w);return v.map((C,D)=>{const A=Math.abs(w*C);return{x:_+D*S,y:P-A+ +(C<0)*A,height:A,value:C}})}const f=R(()=>{const v=[],p=c(d.value,u.value),_=p.length;for(let b=0;v.length<_;b++){const x=p[b];let k=t.labels[b];k||(k=typeof x=="object"?x.value:x),v.push({x:x.x,value:String(k)})}return v}),h=R(()=>c(d.value,u.value)),g=R(()=>(Math.abs(h.value[0].x-h.value[1].x)-o.value)/2);xe(()=>{const v=t.gradient.slice().length?t.gradient.slice().reverse():[""];return m("svg",{display:"block"},[m("defs",null,[m("linearGradient",{id:s.value,gradientUnits:"userSpaceOnUse",x1:t.gradientDirection==="left"?"100%":"0",y1:t.gradientDirection==="top"?"100%":"0",x2:t.gradientDirection==="right"?"100%":"0",y2:t.gradientDirection==="bottom"?"100%":"0"},[v.map((p,_)=>m("stop",{offset:_/Math.max(v.length-1,1),"stop-color":p||"currentColor"},null))])]),m("clipPath",{id:`${s.value}-clip`},[h.value.map(p=>m("rect",{x:p.x+g.value,y:p.y,width:o.value,height:p.height,rx:typeof t.smooth=="number"?t.smooth:t.smooth?2:0,ry:typeof t.smooth=="number"?t.smooth:t.smooth?2:0},[t.autoDraw&&m(Ie,null,[m("animate",{attributeName:"y",from:p.y+p.height,to:p.y,dur:`${r.value}ms`,fill:"freeze"},null),m("animate",{attributeName:"height",from:"0",to:p.height,dur:`${r.value}ms`,fill:"freeze"},null)])]))]),a.value&&m("g",{key:"labels",style:{textAnchor:"middle",dominantBaseline:"mathematical",fill:"currentColor"}},[f.value.map((p,_)=>{var b;return m("text",{x:p.x+g.value+o.value/2,y:parseInt(t.height,10)-2+(parseInt(t.labelSize,10)||7*.75),"font-size":Number(t.labelSize)||7},[((b=n.label)==null?void 0:b.call(n,{index:_,value:p.value}))??p.value])})]),m("g",{"clip-path":`url(#${s.value}-clip)`,fill:`url(#${s.value})`},[m("rect",{x:0,y:0,width:Math.max(t.modelValue.length*o.value,Number(t.width)),height:t.height},null)])])})}});function tge(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:75;if(t.length===0)return"";const s=t.shift(),r=t[t.length-1];return(n?`M${s.x} ${i-s.x+2} L${s.x} ${s.y}`:`M${s.x} ${s.y}`)+t.map((a,o)=>{const l=t[o+1],u=t[o-1]||s,d=l&&nge(l,a,u);if(!l||d)return`L${a.x} ${a.y}`;const c=Math.min(KR(u,a),KR(l,a)),h=c/2<e?c/2:e,g=QR(u,a,h),v=QR(l,a,h);return`L${g.x} ${g.y}S${a.x} ${a.y} ${v.x} ${v.y}`}).join("")+(n?`L${r.x} ${i-s.x+2} Z`:"")}function Kg(t){return parseInt(t,10)}function nge(t,e,n){return Kg(t.x+n.x)===Kg(2*e.x)&&Kg(t.y+n.y)===Kg(2*e.y)}function KR(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function QR(t,e,n){const i={x:t.x-e.x,y:t.y-e.y},s=Math.sqrt(i.x*i.x+i.y*i.y),r={x:i.x/s,y:i.y/s};return{x:e.x+r.x*n,y:e.y+r.y*n}}const Q3=te({fill:Boolean,...X3()},"VTrendline"),JR=pe()({name:"VTrendline",props:Q3(),setup(t,e){let{slots:n}=e;const i=zi(),s=R(()=>t.id||`trendline-${i}`),r=R(()=>Number(t.autoDrawDuration)||(t.fill?500:2e3)),a=Y(0),o=Y(null);function l(p,_){const{minX:b,maxX:x,minY:k,maxY:I}=_,E=p.length,T=t.max!=null?Number(t.max):Math.max(...p),S=t.min!=null?Number(t.min):Math.min(...p),w=(x-b)/(E-1),P=(I-k)/(T-S||1);return p.map((C,D)=>({x:b+D*w,y:I-(C-S)*P,value:C}))}const u=R(()=>!!(t.showLabels||t.labels.length>0||n!=null&&n.label)),d=R(()=>parseFloat(t.lineWidth)||4),c=R(()=>Number(t.width)),f=R(()=>{const p=Number(t.padding);return{minX:p,maxX:c.value-p,minY:p,maxY:parseInt(t.height,10)-p}}),h=R(()=>t.modelValue.map(p=>ii(p,t.itemValue,p))),g=R(()=>{const p=[],_=l(h.value,f.value),b=_.length;for(let x=0;p.length<b;x++){const k=_[x];let I=t.labels[x];I||(I=typeof k=="object"?k.value:k),p.push({x:k.x,value:String(I)})}return p});we(()=>t.modelValue,async()=>{if(await pt(),!t.autoDraw||!o.value)return;const p=o.value,_=p.getTotalLength();t.fill?(p.style.transformOrigin="bottom center",p.style.transition="none",p.style.transform="scaleY(0)",p.getBoundingClientRect(),p.style.transition=`transform ${r.value}ms ${t.autoDrawEasing}`,p.style.transform="scaleY(1)"):(p.style.strokeDasharray=`${_}`,p.style.strokeDashoffset=`${_}`,p.getBoundingClientRect(),p.style.transition=`stroke-dashoffset ${r.value}ms ${t.autoDrawEasing}`,p.style.strokeDashoffset="0"),a.value=_},{immediate:!0});function v(p){return tge(l(h.value,f.value),t.smooth?8:Number(t.smooth),p,parseInt(t.height,10))}xe(()=>{var _;const p=t.gradient.slice().length?t.gradient.slice().reverse():[""];return m("svg",{display:"block","stroke-width":parseFloat(t.lineWidth)??4},[m("defs",null,[m("linearGradient",{id:s.value,gradientUnits:"userSpaceOnUse",x1:t.gradientDirection==="left"?"100%":"0",y1:t.gradientDirection==="top"?"100%":"0",x2:t.gradientDirection==="right"?"100%":"0",y2:t.gradientDirection==="bottom"?"100%":"0"},[p.map((b,x)=>m("stop",{offset:x/Math.max(p.length-1,1),"stop-color":b||"currentColor"},null))])]),u.value&&m("g",{key:"labels",style:{textAnchor:"middle",dominantBaseline:"mathematical",fill:"currentColor"}},[g.value.map((b,x)=>{var k;return m("text",{x:b.x+d.value/2+d.value/2,y:parseInt(t.height,10)-4+(parseInt(t.labelSize,10)||7*.75),"font-size":Number(t.labelSize)||7},[((k=n.label)==null?void 0:k.call(n,{index:x,value:b.value}))??b.value])})]),m("path",{ref:o,d:v(t.fill),fill:t.fill?`url(#${s.value})`:"none",stroke:t.fill?"none":`url(#${s.value})`},null),t.fill&&m("path",{d:v(!1),fill:"none",stroke:t.color??((_=t.gradient)==null?void 0:_[0])},null)])})}}),ige=te({type:{type:String,default:"trend"},...K3(),...Q3()},"VSparkline"),sge=pe()({name:"VSparkline",props:ige(),setup(t,e){let{slots:n}=e;const{textColorClasses:i,textColorStyles:s}=Ui(ve(t,"color")),r=R(()=>!!(t.showLabels||t.labels.length>0||n!=null&&n.label)),a=R(()=>{let o=parseInt(t.height,10);return r.value&&(o+=parseInt(t.labelSize,10)*1.5),o});xe(()=>{const o=t.type==="trend"?JR:XR,l=t.type==="trend"?JR.filterProps(t):XR.filterProps(t);return m(o,J({key:t.type,class:i.value,style:s.value,viewBox:`0 0 ${t.width} ${parseInt(a.value,10)}`},l),n)})}}),rge=te({...je(),...R5({offset:8,minWidth:0,openDelay:0,closeDelay:100,location:"top center",transition:"scale-transition"})},"VSpeedDial"),age=pe()({name:"VSpeedDial",props:rge(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const i=Ye(t,"modelValue"),s=Y(),r=R(()=>{var u;const[o,l="center"]=((u=t.location)==null?void 0:u.split(" "))??[];return`${o} ${l}`}),a=R(()=>({[`v-speed-dial__content--${r.value.replace(" ","-")}`]:!0}));return xe(()=>{const o=cc.filterProps(t);return m(cc,J(o,{modelValue:i.value,"onUpdate:modelValue":l=>i.value=l,class:t.class,style:t.style,contentClass:["v-speed-dial__content",a.value,t.contentClass],location:r.value,ref:s,transition:"fade-transition"}),{...n,default:l=>m(ht,{defaults:{VBtn:{size:"small"}}},{default:()=>[m(Ts,{appear:!0,group:!0,transition:t.transition},{default:()=>{var u;return[(u=n.default)==null?void 0:u.call(n,l)]}})]})})}),{}}}),MC=Symbol.for("vuetify:v-stepper"),VC=te({color:String,disabled:{type:[Boolean,String],default:!1},prevText:{type:String,default:"$vuetify.stepper.prev"},nextText:{type:String,default:"$vuetify.stepper.next"}},"VStepperActions"),iy=pe()({name:"VStepperActions",props:VC(),emits:{"click:prev":()=>!0,"click:next":()=>!0},setup(t,e){let{emit:n,slots:i}=e;const{t:s}=gn();function r(){n("click:prev")}function a(){n("click:next")}return xe(()=>{const o={onClick:r},l={onClick:a};return m("div",{class:"v-stepper-actions"},[m(ht,{defaults:{VBtn:{disabled:["prev",!0].includes(t.disabled),text:s(t.prevText),variant:"text"}}},{default:()=>{var u;return[((u=i.prev)==null?void 0:u.call(i,{props:o}))??m(gt,o,null)]}}),m(ht,{defaults:{VBtn:{color:t.color,disabled:["next",!0].includes(t.disabled),text:s(t.nextText),variant:"tonal"}}},{default:()=>{var u;return[((u=i.next)==null?void 0:u.call(i,{props:l}))??m(gt,l,null)]}})])}),{}}}),J3=Ja("v-stepper-header"),Z3=te({color:String,title:String,subtitle:String,complete:Boolean,completeIcon:{type:qe,default:"$complete"},editable:Boolean,editIcon:{type:qe,default:"$edit"},error:Boolean,errorIcon:{type:qe,default:"$error"},icon:qe,ripple:{type:[Boolean,Object],default:!0},rules:{type:Array,default:()=>[]}},"StepperItem"),oge=te({...Z3(),...jc()},"VStepperItem"),e6=pe()({name:"VStepperItem",directives:{Ripple:Go},props:oge(),emits:{"group:selected":t=>!0},setup(t,e){let{slots:n}=e;const i=$c(t,MC,!0),s=R(()=>(i==null?void 0:i.value.value)??t.value),r=R(()=>t.rules.every(f=>f()===!0)),a=R(()=>!t.disabled&&t.editable),o=R(()=>!t.disabled&&t.editable),l=R(()=>t.error||!r.value),u=R(()=>t.complete||t.rules.length>0&&r.value),d=R(()=>l.value?t.errorIcon:u.value?t.completeIcon:i.isSelected.value&&t.editable?t.editIcon:t.icon),c=R(()=>({canEdit:o.value,hasError:l.value,hasCompleted:u.value,title:t.title,subtitle:t.subtitle,step:s.value,value:t.value}));return xe(()=>{var p,_,b;const f=(!i||i.isSelected.value||u.value||o.value)&&!l.value&&!t.disabled,h=!!(t.title!=null||n.title),g=!!(t.subtitle!=null||n.subtitle);function v(){i==null||i.toggle()}return In(m("button",{class:["v-stepper-item",{"v-stepper-item--complete":u.value,"v-stepper-item--disabled":t.disabled,"v-stepper-item--error":l.value},i==null?void 0:i.selectedClass.value],disabled:!t.editable,onClick:v},[a.value&&ru(!0,"v-stepper-item"),m($s,{key:"stepper-avatar",class:"v-stepper-item__avatar",color:f?t.color:void 0,size:24},{default:()=>{var x;return[((x=n.icon)==null?void 0:x.call(n,c.value))??(d.value?m(jt,{icon:d.value},null):s.value)]}}),m("div",{class:"v-stepper-item__content"},[h&&m("div",{key:"title",class:"v-stepper-item__title"},[((p=n.title)==null?void 0:p.call(n,c.value))??t.title]),g&&m("div",{key:"subtitle",class:"v-stepper-item__subtitle"},[((_=n.subtitle)==null?void 0:_.call(n,c.value))??t.subtitle]),(b=n.default)==null?void 0:b.call(n,c.value)])]),[[nr("ripple"),t.ripple&&t.editable,null]])}),{}}}),lge=te({...tn(_0(),["continuous","nextIcon","prevIcon","showArrows","touch","mandatory"])},"VStepperWindow"),t6=pe()({name:"VStepperWindow",props:lge(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const i=vt(MC,null),s=Ye(t,"modelValue"),r=R({get(){var a;return s.value!=null||!i?s.value:(a=i.items.value.find(o=>i.selected.value.includes(o.id)))==null?void 0:a.value},set(a){s.value=a}});return xe(()=>{const a=dc.filterProps(t);return m(dc,J({_as:"VStepperWindow"},a,{modelValue:r.value,"onUpdate:modelValue":o=>r.value=o,class:["v-stepper-window",t.class],style:t.style,mandatory:!1,touch:!1}),n)}),{}}}),uge=te({...y0()},"VStepperWindowItem"),n6=pe()({name:"VStepperWindowItem",props:uge(),setup(t,e){let{slots:n}=e;return xe(()=>{const i=hc.filterProps(t);return m(hc,J({_as:"VStepperWindowItem"},i,{class:["v-stepper-window-item",t.class],style:t.style}),n)}),{}}}),i6=te({altLabels:Boolean,bgColor:String,completeIcon:qe,editIcon:qe,editable:Boolean,errorIcon:qe,hideActions:Boolean,items:{type:Array,default:()=>[]},itemTitle:{type:String,default:"title"},itemValue:{type:String,default:"value"},nonLinear:Boolean,flat:Boolean,...Mc()},"Stepper"),cge=te({...i6(),...Bc({mandatory:"force",selectedClass:"v-stepper-item--selected"}),...ig(),...Yv(VC(),["prevText","nextText"])},"VStepper"),dge=pe()({name:"VStepper",props:cge(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const{items:i,next:s,prev:r,selected:a}=au(t,MC),{displayClasses:o,mobile:l}=Sr(t),{completeIcon:u,editIcon:d,errorIcon:c,color:f,editable:h,prevText:g,nextText:v}=Kl(t),p=R(()=>t.items.map((x,k)=>{const I=ii(x,t.itemTitle,x),E=ii(x,t.itemValue,k+1);return{title:I,value:E,raw:x}})),_=R(()=>i.value.findIndex(x=>a.value.includes(x.id))),b=R(()=>t.disabled?t.disabled:_.value===0?"prev":_.value===i.value.length-1?"next":!1);return Dn({VStepperItem:{editable:h,errorIcon:c,completeIcon:u,editIcon:d,prevText:g,nextText:v},VStepperActions:{color:f,disabled:b,prevText:g,nextText:v}}),xe(()=>{const x=Ya.filterProps(t),k=!!(n.header||t.items.length),I=t.items.length>0,E=!t.hideActions&&!!(I||n.actions);return m(Ya,J(x,{color:t.bgColor,class:["v-stepper",{"v-stepper--alt-labels":t.altLabels,"v-stepper--flat":t.flat,"v-stepper--non-linear":t.nonLinear,"v-stepper--mobile":l.value},o.value,t.class],style:t.style}),{default:()=>{var T,S;return[k&&m(J3,{key:"stepper-header"},{default:()=>[p.value.map((w,P)=>{let{raw:C,...D}=w;return m(Ie,null,[!!P&&m(Jr,null,null),m(e6,D,{default:n[`header-item.${D.value}`]??n.header,icon:n.icon,title:n.title,subtitle:n.subtitle})])})]}),I&&m(t6,{key:"stepper-window"},{default:()=>[p.value.map(w=>m(n6,{value:w.value},{default:()=>{var P,C;return((P=n[`item.${w.value}`])==null?void 0:P.call(n,w))??((C=n.item)==null?void 0:C.call(n,w))}}))]}),(T=n.default)==null?void 0:T.call(n,{prev:r,next:s}),E&&(((S=n.actions)==null?void 0:S.call(n,{next:s,prev:r}))??m(iy,{key:"stepper-actions","onClick:prev":r,"onClick:next":s},n))]}})}),{prev:r,next:s}}}),hge=te({indeterminate:Boolean,inset:Boolean,flat:Boolean,loading:{type:[Boolean,String],default:!1},...qo(),...m0()},"VSwitch"),fge=pe()({name:"VSwitch",inheritAttrs:!1,props:hge(),emits:{"update:focused":t=>!0,"update:modelValue":t=>!0,"update:indeterminate":t=>!0},setup(t,e){let{attrs:n,slots:i}=e;const s=Ye(t,"indeterminate"),r=Ye(t,"modelValue"),{loaderClasses:a}=Qv(t),{isFocused:o,focus:l,blur:u}=eo(t),d=Y(),c=Gt&&window.matchMedia("(forced-colors: active)").matches,f=R(()=>typeof t.loading=="string"&&t.loading!==""?t.loading:t.color),h=zi(),g=R(()=>t.id||`switch-${h}`);function v(){s.value&&(s.value=!1)}function p(_){var b,x;_.stopPropagation(),_.preventDefault(),(x=(b=d.value)==null?void 0:b.input)==null||x.click()}return xe(()=>{const[_,b]=zo(n),x=rs.filterProps(t),k=Ul.filterProps(t);return m(rs,J({class:["v-switch",{"v-switch--flat":t.flat},{"v-switch--inset":t.inset},{"v-switch--indeterminate":s.value},a.value,t.class]},_,x,{modelValue:r.value,"onUpdate:modelValue":I=>r.value=I,id:g.value,focused:o.value,style:t.style}),{...i,default:I=>{let{id:E,messagesId:T,isDisabled:S,isReadonly:w,isValid:P}=I;const C={model:r,isValid:P};return m(Ul,J({ref:d},k,{modelValue:r.value,"onUpdate:modelValue":[D=>r.value=D,v],id:E.value,"aria-describedby":T.value,type:"checkbox","aria-checked":s.value?"mixed":void 0,disabled:S.value,readonly:w.value,onFocus:l,onBlur:u},b),{...i,default:D=>{let{backgroundColorClasses:A,backgroundColorStyles:N}=D;return m("div",{class:["v-switch__track",c?void 0:A.value],style:N.value,onClick:p},[i["track-true"]&&m("div",{key:"prepend",class:"v-switch__track-true"},[i["track-true"](C)]),i["track-false"]&&m("div",{key:"append",class:"v-switch__track-false"},[i["track-false"](C)])])},input:D=>{let{inputNode:A,icon:N,backgroundColorClasses:B,backgroundColorStyles:H}=D;return m(Ie,null,[A,m("div",{class:["v-switch__thumb",{"v-switch__thumb--filled":N||t.loading},t.inset||c?void 0:B.value],style:t.inset?void 0:H.value},[i.thumb?m(ht,{defaults:{VIcon:{icon:N,size:"x-small"}}},{default:()=>[i.thumb({...C,icon:N})]}):m(JP,null,{default:()=>[t.loading?m(Jv,{name:"v-switch",active:!0,color:P.value===!1?void 0:f.value},{default:G=>i.loader?i.loader(G):m($l,{active:G.isActive,color:G.color,indeterminate:!0,size:"16",width:"2"},null)}):N&&m(jt,{key:String(N),icon:N,size:"x-small"},null)]})])])}})}})}),{}}}),mge=te({color:String,height:[Number,String],window:Boolean,...je(),...Pi(),...Vc(),...On(),...yt(),...Ft()},"VSystemBar"),vge=pe()({name:"VSystemBar",props:mge(),setup(t,e){let{slots:n}=e;const{themeClasses:i}=Qt(t),{backgroundColorClasses:s,backgroundColorStyles:r}=an(ve(t,"color")),{elevationClasses:a}=Wi(t),{roundedClasses:o}=qn(t),{ssrBootStyles:l}=Nc(),u=R(()=>t.height??(t.window?32:24)),{layoutItemStyles:d}=Lc({id:t.name,order:R(()=>parseInt(t.order,10)),position:Me("top"),layoutSize:u,elementSize:u,active:R(()=>!0),absolute:ve(t,"absolute")});return xe(()=>m(t.tag,{class:["v-system-bar",{"v-system-bar--window":t.window},i.value,s.value,a.value,o.value,t.class],style:[r.value,d.value,l.value,t.style]},n)),{}}}),LC=Symbol.for("vuetify:v-tabs"),gge=te({fixed:Boolean,sliderColor:String,hideSlider:Boolean,direction:{type:String,default:"horizontal"},...tn(f0({selectedClass:"v-tab--selected",variant:"text"}),["active","block","flat","location","position","symbol"])},"VTab"),s6=pe()({name:"VTab",props:gge(),setup(t,e){let{slots:n,attrs:i}=e;const{textColorClasses:s,textColorStyles:r}=Ui(t,"sliderColor"),a=Y(),o=Y(),l=R(()=>t.direction==="horizontal"),u=R(()=>{var c,f;return((f=(c=a.value)==null?void 0:c.group)==null?void 0:f.isSelected.value)??!1});function d(c){var h,g;let{value:f}=c;if(f){const v=(g=(h=a.value)==null?void 0:h.$el.parentElement)==null?void 0:g.querySelector(".v-tab--selected .v-tab__slider"),p=o.value;if(!v||!p)return;const _=getComputedStyle(v).color,b=v.getBoundingClientRect(),x=p.getBoundingClientRect(),k=l.value?"x":"y",I=l.value?"X":"Y",E=l.value?"right":"bottom",T=l.value?"width":"height",S=b[k],w=x[k],P=S>w?b[E]-x[E]:b[k]-x[k],C=Math.sign(P)>0?l.value?"right":"bottom":Math.sign(P)<0?l.value?"left":"top":"center",A=(Math.abs(P)+(Math.sign(P)<0?b[T]:x[T]))/Math.max(b[T],x[T])||0,N=b[T]/x[T]||0,B=1.5;Vu(p,{backgroundColor:[_,"currentcolor"],transform:[`translate${I}(${P}px) scale${I}(${N})`,`translate${I}(${P/B}px) scale${I}(${(A-1)/B+1})`,"none"],transformOrigin:Array(3).fill(C)},{duration:225,easing:Fm})}}return xe(()=>{const c=gt.filterProps(t);return m(gt,J({symbol:LC,ref:a,class:["v-tab",t.class],style:t.style,tabindex:u.value?0:-1,role:"tab","aria-selected":String(u.value),active:!1},c,i,{block:t.fixed,maxWidth:t.fixed?300:void 0,"onGroup:selected":d}),{...n,default:()=>{var f;return m(Ie,null,[((f=n.default)==null?void 0:f.call(n))??t.text,!t.hideSlider&&m("div",{ref:o,class:["v-tab__slider",s.value],style:r.value},null)])}})}),Pr({},a)}}),pge=te({...tn(_0(),["continuous","nextIcon","prevIcon","showArrows","touch","mandatory"])},"VTabsWindow"),r6=pe()({name:"VTabsWindow",props:pge(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const i=vt(LC,null),s=Ye(t,"modelValue"),r=R({get(){var a;return s.value!=null||!i?s.value:(a=i.items.value.find(o=>i.selected.value.includes(o.id)))==null?void 0:a.value},set(a){s.value=a}});return xe(()=>{const a=dc.filterProps(t);return m(dc,J({_as:"VTabsWindow"},a,{modelValue:r.value,"onUpdate:modelValue":o=>r.value=o,class:["v-tabs-window",t.class],style:t.style,mandatory:!1,touch:!1}),n)}),{}}}),_ge=te({...y0()},"VTabsWindowItem"),a6=pe()({name:"VTabsWindowItem",props:_ge(),setup(t,e){let{slots:n}=e;return xe(()=>{const i=hc.filterProps(t);return m(hc,J({_as:"VTabsWindowItem"},i,{class:["v-tabs-window-item",t.class],style:t.style}),n)}),{}}});function yge(t){return t?t.map(e=>Ub(e)?e:{text:e,value:e}):[]}const bge=te({alignTabs:{type:String,default:"start"},color:String,fixedTabs:Boolean,items:{type:Array,default:()=>[]},stacked:Boolean,bgColor:String,grow:Boolean,height:{type:[Number,String],default:void 0},hideSlider:Boolean,sliderColor:String,...sC({mandatory:"force",selectedClass:"v-tab-item--selected"}),...Ci(),...yt()},"VTabs"),wge=pe()({name:"VTabs",props:bge(),emits:{"update:modelValue":t=>!0},setup(t,e){let{attrs:n,slots:i}=e;const s=Ye(t,"modelValue"),r=R(()=>yge(t.items)),{densityClasses:a}=ls(t),{backgroundColorClasses:o,backgroundColorStyles:l}=an(ve(t,"bgColor")),{scopeId:u}=zc();return Dn({VTab:{color:ve(t,"color"),direction:ve(t,"direction"),stacked:ve(t,"stacked"),fixed:ve(t,"fixedTabs"),sliderColor:ve(t,"sliderColor"),hideSlider:ve(t,"hideSlider")}}),xe(()=>{const d=Jm.filterProps(t),c=!!(i.window||t.items.length>0);return m(Ie,null,[m(Jm,J(d,{modelValue:s.value,"onUpdate:modelValue":f=>s.value=f,class:["v-tabs",`v-tabs--${t.direction}`,`v-tabs--align-tabs-${t.alignTabs}`,{"v-tabs--fixed-tabs":t.fixedTabs,"v-tabs--grow":t.grow,"v-tabs--stacked":t.stacked},a.value,o.value,t.class],style:[{"--v-tabs-height":Ne(t.height)},l.value,t.style],role:"tablist",symbol:LC},u,n),{default:()=>{var f;return[((f=i.default)==null?void 0:f.call(i))??r.value.map(h=>{var g;return((g=i.tab)==null?void 0:g.call(i,{item:h}))??m(s6,J(h,{key:h.text,value:h.value}),{default:i[`tab.${h.value}`]?()=>{var v;return(v=i[`tab.${h.value}`])==null?void 0:v.call(i,{item:h})}:void 0})})]}}),c&&m(r6,J({modelValue:s.value,"onUpdate:modelValue":f=>s.value=f,key:"tabs-window"},u),{default:()=>{var f;return[r.value.map(h=>{var g;return((g=i.item)==null?void 0:g.call(i,{item:h}))??m(a6,{value:h.value},{default:()=>{var v;return(v=i[`item.${h.value}`])==null?void 0:v.call(i,{item:h})}})}),(f=i.window)==null?void 0:f.call(i)]}})])}),{}}}),xge=te({autoGrow:Boolean,autofocus:Boolean,counter:[Boolean,Number,String],counterValue:Function,prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,noResize:Boolean,rows:{type:[Number,String],default:5,validator:t=>!isNaN(parseFloat(t))},maxRows:{type:[Number,String],validator:t=>!isNaN(parseFloat(t))},suffix:String,modelModifiers:Object,...qo(),...ng()},"VTextarea"),Sge=pe()({name:"VTextarea",directives:{Intersect:Kv},inheritAttrs:!1,props:xge(),emits:{"click:control":t=>!0,"mousedown:control":t=>!0,"update:focused":t=>!0,"update:modelValue":t=>!0},setup(t,e){let{attrs:n,emit:i,slots:s}=e;const r=Ye(t,"modelValue"),{isFocused:a,focus:o,blur:l}=eo(t),u=R(()=>typeof t.counterValue=="function"?t.counterValue(r.value):(r.value||"").toString().length),d=R(()=>{if(n.maxlength)return n.maxlength;if(!(!t.counter||typeof t.counter!="number"&&typeof t.counter!="string"))return t.counter});function c(C,D){var A,N;!t.autofocus||!C||(N=(A=D[0].target)==null?void 0:A.focus)==null||N.call(A)}const f=Y(),h=Y(),g=Me(""),v=Y(),p=R(()=>t.persistentPlaceholder||a.value||t.active);function _(){var C;v.value!==document.activeElement&&((C=v.value)==null||C.focus()),a.value||o()}function b(C){_(),i("click:control",C)}function x(C){i("mousedown:control",C)}function k(C){C.stopPropagation(),_(),pt(()=>{r.value="",TP(t["onClick:clear"],C)})}function I(C){var A;const D=C.target;if(r.value=D.value,(A=t.modelModifiers)!=null&&A.trim){const N=[D.selectionStart,D.selectionEnd];pt(()=>{D.selectionStart=N[0],D.selectionEnd=N[1]})}}const E=Y(),T=Y(+t.rows),S=R(()=>["plain","underlined"].includes(t.variant));yn(()=>{t.autoGrow||(T.value=+t.rows)});function w(){t.autoGrow&&pt(()=>{if(!E.value||!h.value)return;const C=getComputedStyle(E.value),D=getComputedStyle(h.value.$el),A=parseFloat(C.getPropertyValue("--v-field-padding-top"))+parseFloat(C.getPropertyValue("--v-input-padding-top"))+parseFloat(C.getPropertyValue("--v-field-padding-bottom")),N=E.value.scrollHeight,B=parseFloat(C.lineHeight),H=Math.max(parseFloat(t.rows)*B+A,parseFloat(D.getPropertyValue("--v-input-control-height"))),G=parseFloat(t.maxRows)*B+A||1/0,z=$n(N??0,H,G);T.value=Math.floor((z-A)/B),g.value=Ne(z)})}Pt(w),we(r,w),we(()=>t.rows,w),we(()=>t.maxRows,w),we(()=>t.density,w);let P;return we(E,C=>{C?(P=new ResizeObserver(w),P.observe(E.value)):P==null||P.disconnect()}),Mi(()=>{P==null||P.disconnect()}),xe(()=>{const C=!!(s.counter||t.counter||t.counterValue),D=!!(C||s.details),[A,N]=zo(n),{modelValue:B,...H}=rs.filterProps(t),G=hC(t);return m(rs,J({ref:f,modelValue:r.value,"onUpdate:modelValue":z=>r.value=z,class:["v-textarea v-text-field",{"v-textarea--prefixed":t.prefix,"v-textarea--suffixed":t.suffix,"v-text-field--prefixed":t.prefix,"v-text-field--suffixed":t.suffix,"v-textarea--auto-grow":t.autoGrow,"v-textarea--no-resize":t.noResize||t.autoGrow,"v-input--plain-underlined":S.value},t.class],style:t.style},A,H,{centerAffix:T.value===1&&!S.value,focused:a.value}),{...s,default:z=>{let{id:X,isDisabled:W,isDirty:Z,isReadonly:ee,isValid:le}=z;return m(Gh,J({ref:h,style:{"--v-textarea-control-height":g.value},onClick:b,onMousedown:x,"onClick:clear":k,"onClick:prependInner":t["onClick:prependInner"],"onClick:appendInner":t["onClick:appendInner"]},G,{id:X.value,active:p.value||Z.value,centerAffix:T.value===1&&!S.value,dirty:Z.value||t.dirty,disabled:W.value,focused:a.value,error:le.value===!1}),{...s,default:ue=>{let{props:{class:ce,...se}}=ue;return m(Ie,null,[t.prefix&&m("span",{class:"v-text-field__prefix"},[t.prefix]),In(m("textarea",J({ref:v,class:ce,value:r.value,onInput:I,autofocus:t.autofocus,readonly:ee.value,disabled:W.value,placeholder:t.placeholder,rows:t.rows,name:t.name,onFocus:_,onBlur:l},se,N),null),[[nr("intersect"),{handler:c},null,{once:!0}]]),t.autoGrow&&In(m("textarea",{class:[ce,"v-textarea__sizer"],id:`${se.id}-sizer`,"onUpdate:modelValue":$=>r.value=$,ref:E,readonly:!0,"aria-hidden":"true"},null),[[zz,r.value]]),t.suffix&&m("span",{class:"v-text-field__suffix"},[t.suffix])])}})},details:D?z=>{var X;return m(Ie,null,[(X=s.details)==null?void 0:X.call(s,z),C&&m(Ie,null,[m("span",null,null),m(g0,{active:t.persistentCounter||a.value,value:u.value,max:d.value,disabled:t.disabled},s.counter)])])}:void 0})}),Pr({},f,h,v)}}),kge=te({withBackground:Boolean,...je(),...Ft(),...yt()},"VThemeProvider"),Tge=pe()({name:"VThemeProvider",props:kge(),setup(t,e){let{slots:n}=e;const{themeClasses:i}=Qt(t);return()=>{var s;return t.withBackground?m(t.tag,{class:["v-theme-provider",i.value,t.class],style:t.style},{default:()=>{var r;return[(r=n.default)==null?void 0:r.call(n)]}}):(s=n.default)==null?void 0:s.call(n)}}}),Pge=te({dotColor:String,fillDot:Boolean,hideDot:Boolean,icon:qe,iconColor:String,lineColor:String,...je(),...On(),...Za(),...Pi()},"VTimelineDivider"),Cge=pe()({name:"VTimelineDivider",props:Pge(),setup(t,e){let{slots:n}=e;const{sizeClasses:i,sizeStyles:s}=$h(t,"v-timeline-divider__dot"),{backgroundColorStyles:r,backgroundColorClasses:a}=an(ve(t,"dotColor")),{roundedClasses:o}=qn(t,"v-timeline-divider__dot"),{elevationClasses:l}=Wi(t),{backgroundColorClasses:u,backgroundColorStyles:d}=an(ve(t,"lineColor"));return xe(()=>m("div",{class:["v-timeline-divider",{"v-timeline-divider--fill-dot":t.fillDot},t.class],style:t.style},[m("div",{class:["v-timeline-divider__before",u.value],style:d.value},null),!t.hideDot&&m("div",{key:"dot",class:["v-timeline-divider__dot",l.value,o.value,i.value],style:s.value},[m("div",{class:["v-timeline-divider__inner-dot",a.value,o.value],style:r.value},[n.default?m(ht,{key:"icon-defaults",disabled:!t.icon,defaults:{VIcon:{color:t.iconColor,icon:t.icon,size:t.size}}},n.default):m(jt,{key:"icon",color:t.iconColor,icon:t.icon,size:t.size},null)])]),m("div",{class:["v-timeline-divider__after",u.value],style:d.value},null)])),{}}}),o6=te({density:String,dotColor:String,fillDot:Boolean,hideDot:Boolean,hideOpposite:{type:Boolean,default:void 0},icon:qe,iconColor:String,lineInset:[Number,String],...je(),...mi(),...Pi(),...On(),...Za(),...yt()},"VTimelineItem"),Ege=pe()({name:"VTimelineItem",props:o6(),setup(t,e){let{slots:n}=e;const{dimensionStyles:i}=vi(t),s=Me(0),r=Y();return we(r,a=>{var o;a&&(s.value=((o=a.$el.querySelector(".v-timeline-divider__dot"))==null?void 0:o.getBoundingClientRect().width)??0)},{flush:"post"}),xe(()=>{var a,o;return m("div",{class:["v-timeline-item",{"v-timeline-item--fill-dot":t.fillDot},t.class],style:[{"--v-timeline-dot-size":Ne(s.value),"--v-timeline-line-inset":t.lineInset?`calc(var(--v-timeline-dot-size) / 2 + ${Ne(t.lineInset)})`:Ne(0)},t.style]},[m("div",{class:"v-timeline-item__body",style:i.value},[(a=n.default)==null?void 0:a.call(n)]),m(Cge,{ref:r,hideDot:t.hideDot,icon:t.icon,iconColor:t.iconColor,size:t.size,elevation:t.elevation,dotColor:t.dotColor,fillDot:t.fillDot,rounded:t.rounded},{default:n.icon}),t.density!=="compact"&&m("div",{class:"v-timeline-item__opposite"},[!t.hideOpposite&&((o=n.opposite)==null?void 0:o.call(n))])])}),{}}}),Ige=te({align:{type:String,default:"center",validator:t=>["center","start"].includes(t)},direction:{type:String,default:"vertical",validator:t=>["vertical","horizontal"].includes(t)},justify:{type:String,default:"auto",validator:t=>["auto","center"].includes(t)},side:{type:String,validator:t=>t==null||["start","end"].includes(t)},lineThickness:{type:[String,Number],default:2},lineColor:String,truncateLine:{type:String,validator:t=>["start","end","both"].includes(t)},...Yv(o6({lineInset:0}),["dotColor","fillDot","hideOpposite","iconColor","lineInset","size"]),...je(),...Ci(),...yt(),...Ft()},"VTimeline"),Dge=pe()({name:"VTimeline",props:Ige(),setup(t,e){let{slots:n}=e;const{themeClasses:i}=Qt(t),{densityClasses:s}=ls(t),{rtlClasses:r}=Ti();Dn({VTimelineDivider:{lineColor:ve(t,"lineColor")},VTimelineItem:{density:ve(t,"density"),dotColor:ve(t,"dotColor"),fillDot:ve(t,"fillDot"),hideOpposite:ve(t,"hideOpposite"),iconColor:ve(t,"iconColor"),lineColor:ve(t,"lineColor"),lineInset:ve(t,"lineInset"),size:ve(t,"size")}});const a=R(()=>{const l=t.side?t.side:t.density!=="default"?"end":null;return l&&`v-timeline--side-${l}`}),o=R(()=>{const l=["v-timeline--truncate-line-start","v-timeline--truncate-line-end"];switch(t.truncateLine){case"both":return l;case"start":return l[0];case"end":return l[1];default:return null}});return xe(()=>m(t.tag,{class:["v-timeline",`v-timeline--${t.direction}`,`v-timeline--align-${t.align}`,`v-timeline--justify-${t.justify}`,o.value,{"v-timeline--inset-line":!!t.lineInset},i.value,s.value,a.value,r.value,t.class],style:[{"--v-timeline-line-thickness":Ne(t.lineThickness)},t.style]},n)),{}}}),Age=te({...je(),...Br({variant:"text"})},"VToolbarItems"),Oge=pe()({name:"VToolbarItems",props:Age(),setup(t,e){let{slots:n}=e;return Dn({VBtn:{color:ve(t,"color"),height:"inherit",variant:ve(t,"variant")}}),xe(()=>{var i;return m("div",{class:["v-toolbar-items",t.class],style:t.style},[(i=n.default)==null?void 0:i.call(n)])}),{}}}),Rge=te({id:String,text:String,...tn(tg({closeOnBack:!1,location:"end",locationStrategy:"connected",eager:!0,minWidth:0,offset:10,openOnClick:!1,openOnHover:!0,origin:"auto",scrim:!1,scrollStrategy:"reposition",transition:!1}),["absolute","persistent"])},"VTooltip"),l6=pe()({name:"VTooltip",props:Rge(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const i=Ye(t,"modelValue"),{scopeId:s}=zc(),r=zi(),a=R(()=>t.id||`v-tooltip-${r}`),o=Y(),l=R(()=>t.location.split(" ").length>1?t.location:t.location+" center"),u=R(()=>t.origin==="auto"||t.origin==="overlap"||t.origin.split(" ").length>1||t.location.split(" ").length>1?t.origin:t.origin+" center"),d=R(()=>t.transition?t.transition:i.value?"scale-transition":"fade-transition"),c=R(()=>J({"aria-describedby":a.value},t.activatorProps));return xe(()=>{const f=fa.filterProps(t);return m(fa,J({ref:o,class:["v-tooltip",t.class],style:t.style,id:a.value},f,{modelValue:i.value,"onUpdate:modelValue":h=>i.value=h,transition:d.value,absolute:!0,location:l.value,origin:u.value,persistent:!0,role:"tooltip",activatorProps:c.value,_disableGlobalStack:!0},s),{activator:n.activator,default:function(){var p;for(var h=arguments.length,g=new Array(h),v=0;v<h;v++)g[v]=arguments[v];return((p=n.default)==null?void 0:p.call(n,...g))??t.text}})}),Pr({},o)}}),Mge=pe()({name:"VValidation",props:t5(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const i=n5(t,"validation");return()=>{var s;return(s=n.default)==null?void 0:s.call(n,i)}}}),Vge=Object.freeze(Object.defineProperty({__proto__:null,VAlert:kde,VAlertTitle:q4,VApp:Rce,VAppBar:Zce,VAppBarNavIcon:bde,VAppBarTitle:wde,VAutocomplete:jhe,VAvatar:$s,VBadge:N5,VBanner:zhe,VBannerActions:F5,VBannerText:B5,VBottomNavigation:Yhe,VBottomSheet:qhe,VBreadcrumbs:Jhe,VBreadcrumbsDivider:$5,VBreadcrumbsItem:U5,VBtn:gt,VBtnGroup:hS,VBtnToggle:rde,VCard:ife,VCardActions:H5,VCardItem:Y5,VCardSubtitle:z5,VCardText:G5,VCardTitle:W5,VCarousel:hfe,VCarouselItem:mfe,VCheckbox:Rde,VCheckboxBtn:Wa,VChip:Hc,VChipGroup:Fde,VClassIcon:MP,VCode:vfe,VCol:Ume,VColorPicker:ime,VCombobox:ame,VComponentIcon:qx,VConfirmEdit:TS,VContainer:Fme,VCounter:g0,VDataIterator:gme,VDataTable:Ome,VDataTableFooter:tv,VDataTableHeaders:fc,VDataTableRow:CC,VDataTableRows:mc,VDataTableServer:Lme,VDataTableVirtual:Mme,VDatePicker:RS,VDatePickerControls:ES,VDatePickerHeader:IS,VDatePickerMonth:DS,VDatePickerMonths:AS,VDatePickerYears:OS,VDefaultsProvider:ht,VDialog:yS,VDialogBottomTransition:Nce,VDialogTopTransition:Fce,VDialogTransition:l0,VDivider:Jr,VEmptyState:Jme,VExpandTransition:u0,VExpandXTransition:eC,VExpansionPanel:LS,VExpansionPanelText:MS,VExpansionPanelTitle:VS,VExpansionPanels:NS,VFab:tve,VFabTransition:Lce,VFadeTransition:qm,VField:Gh,VFieldLabel:Nf,VFileInput:ive,VFooter:rve,VForm:ove,VHover:uve,VIcon:jt,VImg:Vo,VInfiniteScroll:dve,VInput:rs,VItem:mve,VItemGroup:fve,VKbd:vve,VLabel:Wh,VLayout:pve,VLayoutItem:yve,VLazy:wve,VLigatureIcon:Jie,VList:hh,VListGroup:ev,VListImg:nhe,VListItem:br,VListItemAction:T5,VListItemMedia:rhe,VListItemSubtitle:v5,VListItemTitle:g5,VListSubheader:p5,VLocaleProvider:Sve,VMain:Tve,VMenu:cc,VMessages:Z4,VNavigationDrawer:Mve,VNoSsr:Vve,VOtpInput:Nve,VOverlay:fa,VPagination:PS,VParallax:jve,VProgressCircular:$l,VProgressLinear:d0,VRadio:Uve,VRadioGroup:zve,VRangeSlider:Yve,VRating:qve,VResponsive:cS,VRow:Xme,VScaleTransition:JP,VScrollXReverseTransition:jce,VScrollXTransition:Bce,VScrollYReverseTransition:Uce,VScrollYTransition:$ce,VSelect:vC,VSelectionControl:Ul,VSelectionControlGroup:K4,VSheet:Ya,VSkeletonLoader:Jve,VSlideGroup:Jm,VSlideGroupItem:Zve,VSlideXReverseTransition:zce,VSlideXTransition:Hce,VSlideYReverseTransition:Wce,VSlideYTransition:ZP,VSlider:kS,VSnackbar:FS,VSpacer:V3,VSparkline:sge,VSpeedDial:age,VStepper:dge,VStepperActions:iy,VStepperHeader:J3,VStepperItem:e6,VStepperWindow:t6,VStepperWindowItem:n6,VSvgIcon:RP,VSwitch:fge,VSystemBar:vge,VTab:s6,VTable:vc,VTabs:wge,VTabsWindow:r6,VTabsWindowItem:a6,VTextField:ma,VTextarea:Sge,VThemeProvider:Tge,VTimeline:Dge,VTimelineItem:Ege,VToolbar:dS,VToolbarItems:Oge,VToolbarTitle:QP,VTooltip:l6,VValidation:Mge,VVirtualScroll:p0,VWindow:dc,VWindowItem:hc},Symbol.toStringTag,{value:"Module"}));function Lge(t,e){const n=e.modifiers||{},i=e.value,{once:s,immediate:r,...a}=n,o=!Object.keys(a).length,{handler:l,options:u}=typeof i=="object"?i:{handler:i,options:{attributes:(a==null?void 0:a.attr)??o,characterData:(a==null?void 0:a.char)??o,childList:(a==null?void 0:a.child)??o,subtree:(a==null?void 0:a.sub)??o}},d=new MutationObserver(function(){let c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],f=arguments.length>1?arguments[1]:void 0;l==null||l(c,f),s&&u6(t,e)});r&&(l==null||l([],d)),t._mutate=Object(t._mutate),t._mutate[e.instance.$.uid]={observer:d},d.observe(t,u)}function u6(t,e){var n;(n=t._mutate)!=null&&n[e.instance.$.uid]&&(t._mutate[e.instance.$.uid].observer.disconnect(),delete t._mutate[e.instance.$.uid])}const Nge={mounted:Lge,unmounted:u6};function Fge(t,e){var s,r;const n=e.value,i={passive:!((s=e.modifiers)!=null&&s.active)};window.addEventListener("resize",n,i),t._onResize=Object(t._onResize),t._onResize[e.instance.$.uid]={handler:n,options:i},(r=e.modifiers)!=null&&r.quiet||n()}function Bge(t,e){var s;if(!((s=t._onResize)!=null&&s[e.instance.$.uid]))return;const{handler:n,options:i}=t._onResize[e.instance.$.uid];window.removeEventListener("resize",n,i),delete t._onResize[e.instance.$.uid]}const jge={mounted:Fge,unmounted:Bge};function c6(t,e){const{self:n=!1}=e.modifiers??{},i=e.value,s=typeof i=="object"&&i.options||{passive:!0},r=typeof i=="function"||"handleEvent"in i?i:i.handler,a=n?t:e.arg?document.querySelector(e.arg):window;a&&(a.addEventListener("scroll",r,s),t._onScroll=Object(t._onScroll),t._onScroll[e.instance.$.uid]={handler:r,options:s,target:n?void 0:a})}function d6(t,e){var r;if(!((r=t._onScroll)!=null&&r[e.instance.$.uid]))return;const{handler:n,options:i,target:s=t}=t._onScroll[e.instance.$.uid];s.removeEventListener("scroll",n,i),delete t._onScroll[e.instance.$.uid]}function $ge(t,e){e.value!==e.oldValue&&(d6(t,e),c6(t,e))}const Uge={mounted:c6,unmounted:d6,updated:$ge};function Hge(t,e){const n=typeof t=="string"?j(t):t,i=zge(n,e);return{mounted:i,updated:i,unmounted(s){e2(null,s)}}}function zge(t,e){return function(n,i,s){var c,f,h;const r=typeof e=="function"?e(i):e,a=((c=i.value)==null?void 0:c.text)??i.value??(r==null?void 0:r.text),o=Ub(i.value)?i.value:{},l=()=>a??n.textContent,u=(s.ctx===i.instance.$?(f=Wge(s,i.instance.$))==null?void 0:f.provides:(h=s.ctx)==null?void 0:h.provides)??i.instance.$.provides,d=Ai(t,J(r,o),l);d.appContext=Object.assign(Object.create(null),i.instance.$.appContext,{provides:u}),e2(d,n)}}function Wge(t,e){const n=new Set,i=r=>{var a,o;for(const l of r){if(!l)continue;if(l===t||l.el&&t.el&&l.el===t.el)return!0;n.add(l);let u;if(l.suspense?u=i([l.ssContent]):Array.isArray(l.children)?u=i(l.children):(a=l.component)!=null&&a.vnode&&(u=i([(o=l.component)==null?void 0:o.subTree])),u)return u;n.delete(l)}return!1};if(!i([e.subTree]))return e;const s=Array.from(n).reverse();for(const r of s)if(r.component)return r.component;return e}const Yge=Hge(l6,t=>{var e;return{activator:"parent",location:(e=t.arg)==null?void 0:e.replace("-"," "),text:typeof t.value=="boolean"?void 0:t.value}}),Gge=Object.freeze(Object.defineProperty({__proto__:null,ClickOutside:O5,Intersect:Kv,Mutate:Nge,Resize:jge,Ripple:Go,Scroll:Uge,Tooltip:Yge,Touch:gC},Symbol.toStringTag,{value:"Module"})),qge=te({allDay:Boolean,interval:Object,intervalDivisions:{type:Number,required:!0},intervalDuration:{type:Number,required:!0},intervalHeight:{type:Number,required:!0},event:Object},"VCalendarIntervalEvent"),BS=pe()({name:"VCalendarIntervalEvent",props:qge(),setup(t){const e=Fr(),n=()=>{var i,s,r,a;if(!((i=t.event)!=null&&i.first)&&!((s=t.event)!=null&&s.last)||e.isEqual((r=t.event)==null?void 0:r.start,(a=t.interval)==null?void 0:a.start))return{height:"100%",margin:Ne(0)};{const{height:o,margin:l}=Array.from({length:t.intervalDivisions},u=>u*(t.intervalDuration/t.intervalDivisions)).reduce((u,d,c)=>{var f,h;return e.isBefore(e.addMinutes((f=t.interval)==null?void 0:f.start,d),(h=t.event)==null?void 0:h.start)?{height:Ne(t.intervalHeight/t.intervalDivisions*c),margin:Ne(t.intervalHeight/t.intervalDivisions*c)}:{height:u.height,margin:u.margin}},{height:"",margin:""});return{height:o,margin:l}}};return xe(()=>{var i,s,r,a,o;return m(Ya,{height:n().height,density:"comfortable",style:`margin-top: ${n().margin}`,class:"v-calendar-internal-event",color:((i=t.event)==null?void 0:i.color)??void 0,rounded:(s=t.event)!=null&&s.first&&((r=t.event)!=null&&r.last)?!0:(a=t.event)!=null&&a.first?"t":(o=t.event)!=null&&o.last?"b":!1},{default:()=>{var l,u;return[(l=t.event)!=null&&l.first?(u=t.event)==null?void 0:u.title:""]}})}),{}}}),h6=te({day:{type:Object,default:()=>({})},dayIndex:Number,events:Array,intervalDivisions:{type:Number,default:2},intervalDuration:{type:Number,default:60},intervalHeight:{type:Number,default:48},intervalFormat:{type:[String,Function],default:"fullTime12h"},intervalStart:{type:Number,default:0}},"VCalendarInterval"),jS=pe()({name:"VCalendarInterval",props:{index:{type:Number,required:!0},...h6()},setup(t,e){const n=Fr(),i=R(()=>{const s=n.addMinutes(n.startOfDay(t.day.date),t.intervalDuration*(t.index+t.intervalStart)),r=n.addMinutes(n.startOfDay(t.day.date),t.intervalDuration*(t.index+t.intervalStart+1)-1);return{...t.day,label:n.format(s,"fullTime24h"),start:s,end:r,events:t.events?t.events.filter(a=>!a.allDay&&(n.isEqual(s,a.start)||n.isWithinRange(a.start,[s,r])||n.isWithinRange(s,[a.start,a.end])||n.isEqual(r,a.end))).map(a=>({...a,first:n.isEqual(s,a.start)||n.isWithinRange(a.start,[s,r]),last:n.isEqual(r,a.end)||n.isWithinRange(a.end,[s,r])})):[]}});return xe(()=>{var s,r;return t.dayIndex===0?m("div",{class:"v-calendar-day__row-with-label",style:`height: ${Ne(t.intervalHeight)}`},[m("div",{class:"v-calendar-day__row-label"},[m("slot",{name:"intervalFormat",interval:i.value},[t.index?t.intervalFormat?typeof t.intervalFormat=="string"?n.format(i.value.start,"hours12h"):t.intervalFormat(i.value):i.value.label:""])]),m("div",{class:"v-calendar-day__row-hairline"},null),m("div",{class:["v-calendar-day__row-content",i.value.events.some(a=>!a.last)?"v-calendar-day__row-content-through":""]},[m("slot",{name:"intervalBody",interval:i.value},[(s=i.value.events)==null?void 0:s.map(a=>m(BS,{event:a,interval:i.value,intervalDivisions:t.intervalDivisions,intervalDuration:t.intervalDuration,intervalHeight:t.intervalHeight},null))])])]):m("div",{class:"v-calendar-day__row-without-label",style:`height: ${Ne(t.intervalHeight)}`},[m("div",{class:["v-calendar-day__row-content",i.value.events.some(a=>!a.last)?"v-calendar-day__row-content-through":""]},[m("slot",{name:"intervalBody",interval:i.value},[(r=i.value.events)==null?void 0:r.filter(a=>!a.allDay).map(a=>m(BS,{event:a,interval:i.value,intervalDivisions:t.intervalDivisions,intervalDuration:t.intervalDuration,intervalHeight:t.intervalHeight},null))])])])}),{interval:i}}}),f6=te({hideDayHeader:Boolean,intervals:{type:Number,default:24},...h6()},"VCalendarDay"),jp=pe()({name:"VCalendarDay",props:f6(),setup(t){const e=Fr(),n=R(()=>[...Array.from({length:t.intervals},(i,s)=>s).filter((i,s)=>t.intervalDuration*(s+t.intervalStart)<1440)]);return xe(()=>{const i=jS.filterProps(t);return m("div",{class:"v-calendar-day__container"},[!t.hideDayHeader&&m("div",{key:"calender-week-name",class:"v-calendar-weekly__head-weekday"},[e.format(t.day.date,"weekdayShort"),m("div",null,[m(gt,{icon:!0,text:e.format(t.day.date,"dayOfMonth"),variant:"text"},null)])]),n.value.map((s,r)=>m(jS,J({index:r},i),null))])}),{intervals:n}}}),m6=te({nextIcon:{type:String,default:"$next"},prevIcon:{type:String,default:"$prev"},title:String,text:{type:String,default:"$vuetify.calendar.today"},viewMode:{type:String,default:"month"}},"VCalendarHeader"),$S=pe()({name:"VCalendarHeader",props:m6(),emits:{"click:next":()=>!0,"click:prev":()=>!0,"click:toToday":()=>!0},setup(t,e){let{emit:n}=e;const{t:i}=gn();function s(){n("click:prev")}function r(){n("click:next")}function a(){n("click:toToday")}return xe(()=>m("div",{class:"v-calendar-header"},[t.text&&m(gt,{key:"today",class:"v-calendar-header__today",text:i(t.text),variant:"outlined",onClick:a},null),m(gt,{density:"comfortable",icon:t.prevIcon,variant:"text",onClick:s},null),m(gt,{density:"comfortable",icon:t.nextIcon,variant:"text",onClick:r},null),m("div",{class:"v-calendar-header__title"},[t.title])])),{}}}),Xge=te({allDay:Boolean,day:Object,event:Object},"VCalendarEvent"),ZR=pe()({name:"VCalendarEvent",props:Xge(),setup(t){return xe(()=>m(Hc,{color:t.allDay?"primary":void 0,density:"comfortable",label:t.allDay,width:"100%"},{default:()=>{var e,n;return[m(N5,{inline:!0,dot:!0,color:(e=t.event)==null?void 0:e.color},null),(n=t.event)==null?void 0:n.title]}})),{}}}),Kge=te({active:Boolean,color:String,day:Object,disabled:Boolean,events:Array,title:[Number,String]},"VCalendarMonthDay"),v6=pe()({name:"VCalendarMonthDay",props:Kge(),setup(t,e){let{emit:n,slots:i}=e;return xe(()=>{var r,a,o,l,u,d,c,f,h,g,v;const s=!!(t.title||(r=i.title)!=null&&r.call(i,{title:t.title}));return m("div",{class:["v-calendar-month__day"]},[!((a=t.day)!=null&&a.isHidden)&&s&&m("div",{key:"title",class:"v-calendar-weekly__day-label"},[((o=i.title)==null?void 0:o.call(i,{title:t.title}))??m(gt,{class:(l=t.day)!=null&&l.isToday?"v-calendar-weekly__day-label__today":void 0,color:t.color,disabled:t.disabled,icon:!0,size:"x-small",variant:(u=t.day)!=null&&u.isToday?void 0:"flat"},{default:()=>[t.title]})]),!((d=t.day)!=null&&d.isHidden)&&m("div",{key:"content",class:"v-calendar-weekly__day-content"},[((c=i.content)==null?void 0:c.call(i))??m("div",null,[m("div",{class:"v-calendar-weekly__day-alldayevents-container"},[(f=t.events)==null?void 0:f.filter(p=>p.allDay).map(p=>i.event?i.event({day:t.day,allDay:!0,event:p}):m(ZR,{day:t.day,event:p,allDay:!0},null))]),m("div",{class:"v-calendar-weekly__day-events-container"},[(h=t.events)==null?void 0:h.filter(p=>!p.allDay).map(p=>i.event?i.event({day:t.day,event:p,allDay:!1}):m(ZR,{day:t.day,event:p},null))])])]),!((g=t.day)!=null&&g.isHidden)&&((v=i.default)==null?void 0:v.call(i))])}),{}}}),Qge=te({hideHeader:Boolean,hideWeekNumber:Boolean,...N3(),...f6(),...m6()},"VCalender"),Jge=pe()({name:"VCalendar",props:Qge(),emits:{next:null,prev:null,"update:modelValue":null},setup(t,e){let{emit:n,slots:i}=e;const s=Fr(),{daysInMonth:r,daysInWeek:a,genDays:o,model:l,displayValue:u,weekNumbers:d,weekDays:c}=F3(t),f=s.getWeekdays();function h(){t.viewMode==="month"&&(l.value=[s.addMonths(u.value,1)]),t.viewMode==="week"&&(l.value=[s.addDays(u.value,7)]),t.viewMode==="day"&&(l.value=[s.addDays(u.value,1)])}function g(){t.viewMode==="month"&&(l.value=[s.addMonths(u.value,-1)]),t.viewMode==="week"&&(l.value=[s.addDays(u.value,-7)]),t.viewMode==="day"&&(l.value=[s.addDays(u.value,-1)])}function v(){l.value=[s.date()]}const p=R(()=>s.format(u.value,"monthAndYear"));return xe(()=>{var x;const _=jp.filterProps(t),b=$S.filterProps(t);return m("div",{class:["v-calendar",{"v-calendar-monthly":t.viewMode==="month","v-calendar-weekly":t.viewMode==="week","v-calendar-day":t.viewMode==="day"}]},[m("div",null,[!t.hideHeader&&(i.header?i.header({title:p.value}):m($S,J({key:"calendar-header"},b,{title:p.value,"onClick:next":h,"onClick:prev":g,"onClick:toToday":v}),null))]),m("div",{class:["v-calendar__container",`days__${c.value.length}`]},[t.viewMode==="month"&&!t.hideDayHeader&&m("div",{class:["v-calendar-weekly__head",`days__${c.value.length}`,...t.hideWeekNumber?[]:["v-calendar-weekly__head-weeknumbers"]],key:"calenderWeeklyHead"},[t.hideWeekNumber?"":m("div",{key:"weekNumber0",class:"v-calendar-weekly__head-weeknumber"},null),c.value.map(k=>m("div",{class:`v-calendar-weekly__head-weekday${t.hideWeekNumber?"":"-with-weeknumber"}`},[f[k]]))]),t.viewMode==="month"&&m("div",{key:"VCalendarMonth",class:["v-calendar-month__days",`days${t.hideWeekNumber?"":"-with-weeknumbers"}__${c.value.length}`,...t.hideWeekNumber?[]:["v-calendar-month__weeknumbers"]]},[mne(r.value,c.value.length).map((k,I)=>[t.hideWeekNumber?"":m("div",{class:"v-calendar-month__weeknumber"},[d.value[I]]),k.map(E=>{var T;return m(v6,{color:s.isSameDay(s.date(),E.date)?"primary":void 0,day:E,title:E?s.format(E.date,"dayOfMonth"):"NaN",events:(T=t.events)==null?void 0:T.filter(S=>s.isSameDay(E.date,S.start)||s.isSameDay(E.date,S.end))},{event:i.event})})])]),t.viewMode==="week"&&a.value.map((k,I)=>{var E;return m(jp,J(_,{day:k,dayIndex:I,events:(E=t.events)==null?void 0:E.filter(T=>s.isSameDay(T.start,k.date)||s.isSameDay(T.end,k.date))}),null)}),t.viewMode==="day"&&m(jp,J(_,{day:o([u.value],s.date())[0],dayIndex:0,events:(x=t.events)==null?void 0:x.filter(k=>s.isSameDay(k.start,o([u.value],s.date())[0].date)||s.isSameDay(k.end,o([u.value],s.date())[0].date))}),null)])])}),{daysInMonth:r,daysInWeek:a,genDays:o}}}),Zge=te({hideActions:Boolean,...Yh(),...t3(),...qh({placeholder:"mm/dd/yyyy",prependIcon:"$calendar"}),...tn(H3({weeksInMonth:"dynamic",hideHeader:!0}),["active"])},"VDateInput"),epe=pe()({name:"VDateInput",props:Zge(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const{t:i}=gn(),s=Fr(),{isFocused:r,focus:a,blur:o}=eo(t),l=Ye(t,"modelValue",t.multiple?[]:null),u=Me(!1),d=R(()=>{const v=bn(l.value);if(!v.length)return null;if(t.multiple===!0)return i("$vuetify.datePicker.itemsSelected",v.length);if(t.multiple==="range"){const p=v[0],_=v[v.length-1];return s.isValid(p)&&s.isValid(_)?`${s.format(p,"keyboardDate")} - ${s.format(_,"keyboardDate")}`:""}return s.isValid(l.value)?s.format(l.value,"keyboardDate"):""}),c=R(()=>!t.disabled&&!t.readonly);function f(v){if(v.key!=="Enter")return;if(!u.value||!r.value){u.value=!0;return}const p=v.target;l.value=s.date(p.value)}function h(v){v.preventDefault(),v.stopPropagation(),u.value=!0}function g(){u.value=!1}xe(()=>{const v=TS.filterProps(t),p=RS.filterProps(tn(t,["active"])),_=ma.filterProps(t);return m(ma,J(_,{class:t.class,style:t.style,modelValue:d.value,onKeydown:c.value?f:void 0,focused:u.value||r.value,onFocus:a,onBlur:o,"onClick:control":c.value?h:void 0,"onClick:prepend":c.value?h:void 0}),{default:()=>{var b;return[m(cc,{modelValue:u.value,"onUpdate:modelValue":x=>u.value=x,activator:"parent","min-width":"0",closeOnContentClick:!1,openOnClick:!1},{default:()=>[m(TS,J(v,{modelValue:l.value,"onUpdate:modelValue":x=>l.value=x,onSave:g}),{default:x=>{let{actions:k,model:I}=x;return m(RS,J(p,{modelValue:t.hideActions?l.value:I.value,"onUpdate:modelValue":E=>{t.hideActions?(l.value=E,t.multiple||(u.value=!1)):I.value=E},onMousedown:E=>E.preventDefault()}),{actions:t.hideActions?void 0:k})}})]}),(b=n.default)==null?void 0:b.call(n)]}})})}}),tpe=te({clearable:Boolean,file:{type:Object,default:null},fileIcon:{type:String,default:"mdi-file-document"},showSize:Boolean,...oC({border:!0,rounded:!0,lines:"two"})},"VFileUploadItem"),g6=pe()({name:"VFileUploadItem",props:tpe(),emits:{"click:remove":()=>!0,click:t=>!0},setup(t,e){let{emit:n,slots:i}=e;const s=Y(),r=R(()=>typeof t.showSize!="boolean"?t.showSize:void 0);function a(){n("click:remove")}yn(()=>{var o;s.value=(o=t.file)!=null&&o.type.startsWith("image")?URL.createObjectURL(t.file):void 0}),xe(()=>{var l,u,d;const o=br.filterProps(t);return m(br,J(o,{title:t.title??((l=t.file)==null?void 0:l.name),subtitle:t.showSize?jx((u=t.file)==null?void 0:u.size,r.value):(d=t.file)==null?void 0:d.type,class:"v-file-upload-item"}),{...i,prepend:c=>m(Ie,null,[i.prepend?m(ht,{defaults:{VAvatar:{image:s.value,icon:s.value?void 0:t.fileIcon,rounded:!0}}},{default:()=>{var f;return[((f=i.prepend)==null?void 0:f.call(i,c))??m($s,null,null)]}}):m($s,{icon:t.fileIcon,image:s.value,rounded:!0},null)]),append:c=>{var f;return m(Ie,null,[t.clearable&&m(Ie,null,[i.clear?m(ht,{defaults:{VBtn:{icon:"$clear",density:"comfortable",variant:"text"}}},{default:()=>{var h;return[((h=i.clear)==null?void 0:h.call(i,{...c,props:{onClick:a}}))??m(gt,null,null)]}}):m(gt,{icon:"$clear",density:"comfortable",variant:"text",onClick:a},null)]),(f=i.append)==null?void 0:f.call(i,c)])}})})}}),npe=te({browseText:{type:String,default:"$vuetify.fileUpload.browse"},dividerText:{type:String,default:"$vuetify.fileUpload.divider"},title:{type:String,default:"$vuetify.fileUpload.title"},subtitle:String,icon:{type:qe,default:"$upload"},modelValue:{type:[Array,Object],default:null,validator:t=>bn(t).every(e=>e!=null&&typeof e=="object")},clearable:Boolean,disabled:Boolean,hideBrowse:Boolean,multiple:Boolean,scrim:{type:[Boolean,String],default:!0},showSize:Boolean,name:String,...v0(),...Ci(),...Yv(_5({length:150}),["length","thickness","opacity"]),...ig()},"VFileUpload"),ipe=pe()({name:"VFileUpload",inheritAttrs:!1,props:npe(),emits:{"update:modelValue":t=>!0},setup(t,e){let{attrs:n,slots:i}=e;const{t:s}=gn(),{densityClasses:r}=ls(t),a=Ye(t,"modelValue",t.modelValue,v=>bn(v),v=>t.multiple||Array.isArray(t.modelValue)?v:v[0]),o=Me(!1),l=Y(null),u=Y(null);Pt(()=>{var v,p;(v=l.value)==null||v.$el.addEventListener("dragover",d),(p=l.value)==null||p.$el.addEventListener("drop",f)}),Us(()=>{var v,p;(v=l.value)==null||v.$el.removeEventListener("dragover",d),(p=l.value)==null||p.$el.removeEventListener("drop",f)});function d(v){v.preventDefault(),v.stopImmediatePropagation(),o.value=!0}function c(v){v.preventDefault(),o.value=!1}function f(v){var b;v.preventDefault(),v.stopImmediatePropagation(),o.value=!1;const p=Array.from(((b=v.dataTransfer)==null?void 0:b.files)??[]);if(!p.length)return;if(!t.multiple){a.value=[p[0]];return}const _=a.value.slice();for(const x of p)_.some(k=>k.name===x.name)||_.push(x);a.value=_}function h(){var v;(v=u.value)==null||v.click()}function g(v){a.value=a.value.filter((p,_)=>_!==v),!(a.value.length>0||!u.value)&&(u.value.value="")}xe(()=>{const v=!!(i.title||t.title),p=!!(i.icon||t.icon),_=!!(!t.hideBrowse&&(i.browse||t.density==="default")),b=Ya.filterProps(t),x=Jr.filterProps(t),[k,I]=zo(n),E=m("input",J({ref:u,type:"file",disabled:t.disabled,multiple:t.multiple,name:t.name,onChange:T=>{if(!T.target)return;const S=T.target;a.value=[...S.files??[]]}},I),null);return m(Ie,null,[m(Ya,J({ref:l},b,{class:["v-file-upload",{"v-file-upload--clickable":!_,"v-file-upload--disabled":t.disabled,"v-file-upload--dragging":o.value},r.value],onDragleave:c,onDragover:d,onDrop:f,onClick:_?void 0:h},k),{default:()=>{var T,S,w;return[p&&m("div",{key:"icon",class:"v-file-upload-icon"},[i.icon?m(ht,{key:"icon-defaults",defaults:{VIcon:{icon:t.icon}}},{default:()=>[i.icon()]}):m(jt,{key:"icon-icon",icon:t.icon},null)]),v&&m("div",{key:"title",class:"v-file-upload-title"},[((T=i.title)==null?void 0:T.call(i))??s(t.title)]),t.density==="default"&&m(Ie,null,[m("div",{key:"upload-divider",class:"v-file-upload-divider"},[((S=i.divider)==null?void 0:S.call(i))??m(Jr,x,{default:()=>[s(t.dividerText)]})]),_&&m(Ie,null,[i.browse?m(ht,{defaults:{VBtn:{readonly:t.disabled,size:"large",text:s(t.browseText),variant:"tonal"}}},{default:()=>[i.browse({props:{onClick:h}})]}):m(gt,{readonly:t.disabled,size:"large",text:s(t.browseText),variant:"tonal",onClick:h},null)]),t.subtitle&&m("div",{class:"v-file-upload-subtitle"},[t.subtitle])]),m(fa,{"model-value":o.value,contained:!0,scrim:t.scrim},null),((w=i.input)==null?void 0:w.call(i,{inputNode:E}))??E]}}),a.value.length>0&&m("div",{class:"v-file-upload-items"},[a.value.map((T,S)=>{const w={file:T,props:{"onClick:remove":()=>g(S)}};return m(ht,{key:S,defaults:{VFileUploadItem:{file:T,clearable:t.clearable,disabled:t.disabled,showSize:t.showSize}}},{default:()=>{var P;return[((P=i.item)==null?void 0:P.call(i,w))??m(g6,{key:S,"onClick:remove":()=>g(S)},i)]}})})])])})}}),spe=te({controlVariant:{type:String,default:"default"},inset:Boolean,hideInput:Boolean,modelValue:{type:Number,default:null},min:{type:Number,default:Number.MIN_SAFE_INTEGER},max:{type:Number,default:Number.MAX_SAFE_INTEGER},step:{type:Number,default:1},...tn(qh({}),["appendInnerIcon","modelValue","prependInnerIcon"])},"VNumberInput"),rpe=pe()({name:"VNumberInput",props:{...spe()},emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const i=Ye(t,"modelValue"),s=R({get:()=>i.value,set(P){if(P===null||P===""){i.value=null;return}const C=Number(P);!isNaN(C)&&C<=t.max&&C>=t.min&&(i.value=C)}}),r=Y(),a=R(()=>V_(t.step)),o=R(()=>typeof s.value=="number"?V_(s.value):0),l=eg(t),u=R(()=>l.isDisabled.value||l.isReadonly.value),d=R(()=>u.value?!1:(s.value??0)+t.step<=t.max),c=R(()=>u.value?!1:(s.value??0)-t.step>=t.min),f=R(()=>t.hideInput?"stacked":t.controlVariant),h=R(()=>f.value==="split"?"$plus":"$collapse"),g=R(()=>f.value==="split"?"$minus":"$expand"),v=R(()=>f.value==="split"?"default":"small"),p=R(()=>f.value==="stacked"?"auto":"100%"),_=R(()=>({click:k})),b=R(()=>({click:I}));Pt(()=>{u.value||w()});function x(){let P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;if(u.value)return;if(s.value==null){s.value=$n(0,t.min,t.max);return}const C=Math.max(o.value,a.value);P?d.value&&(s.value=+(s.value+t.step).toFixed(C)):c.value&&(s.value=+(s.value-t.step).toFixed(C))}function k(P){P.stopPropagation(),x()}function I(P){P.stopPropagation(),x(!1)}function E(P){var B,H,G;if(!P.data)return;const C=(B=P.target)==null?void 0:B.value,D=(H=P.target)==null?void 0:H.selectionStart,A=(G=P.target)==null?void 0:G.selectionEnd,N=C?C.slice(0,D)+P.data+C.slice(A):P.data;/^-?(\d+(\.\d*)?|(\.\d+)|\d*|\.)$/.test(N)||P.preventDefault()}async function T(P){["Enter","ArrowLeft","ArrowRight","Backspace","Delete","Tab"].includes(P.key)||P.ctrlKey||["ArrowDown","ArrowUp"].includes(P.key)&&(P.preventDefault(),w(),await pt(),P.key==="ArrowDown"?x(!1):x())}function S(P){P.stopPropagation()}function w(){if(!r.value)return;const P=r.value.value;P&&!isNaN(+P)?s.value=$n(+P,t.min,t.max):s.value=null}return xe(()=>{const{modelValue:P,...C}=ma.filterProps(t);function D(){return n.increment?m(ht,{key:"increment-defaults",defaults:{VBtn:{disabled:!d.value,flat:!0,height:p.value,size:v.value,icon:h.value}}},{default:()=>[n.increment(_.value)]}):m(gt,{disabled:!d.value,flat:!0,key:"increment-btn",height:p.value,"data-testid":"increment","aria-hidden":"true",icon:h.value,onClick:k,onMousedown:S,size:v.value,tabindex:"-1"},null)}function A(){return n.decrement?m(ht,{key:"decrement-defaults",defaults:{VBtn:{disabled:!c.value,flat:!0,height:p.value,size:v.value,icon:g.value}}},{default:()=>[n.decrement(b.value)]}):m(gt,{disabled:!c.value,flat:!0,key:"decrement-btn",height:p.value,"data-testid":"decrement","aria-hidden":"true",icon:g.value,size:v.value,tabindex:"-1",onClick:I,onMousedown:S},null)}function N(){return m("div",{class:"v-number-input__control"},[A(),m(Jr,{vertical:f.value!=="stacked"},null),D()])}function B(){return!t.hideInput&&!t.inset?m(Jr,{vertical:!0},null):void 0}const H=f.value==="split"?m("div",{class:"v-number-input__control"},[m(Jr,{vertical:!0},null),D()]):t.reverse?void 0:m(Ie,null,[B(),N()]),G=n["append-inner"]||H,z=f.value==="split"?m("div",{class:"v-number-input__control"},[A(),m(Jr,{vertical:!0},null)]):t.reverse?m(Ie,null,[N(),B()]):void 0,X=n["prepend-inner"]||z;return m(ma,J({ref:r,modelValue:s.value,"onUpdate:modelValue":W=>s.value=W,onBeforeinput:E,onChange:w,onKeydown:T,class:["v-number-input",{"v-number-input--default":f.value==="default","v-number-input--hide-input":t.hideInput,"v-number-input--inset":t.inset,"v-number-input--reverse":t.reverse,"v-number-input--split":f.value==="split","v-number-input--stacked":f.value==="stacked"},t.class]},C,{style:t.style,inputmode:"decimal"}),{...n,"append-inner":G?function(){var le;for(var W=arguments.length,Z=new Array(W),ee=0;ee<W;ee++)Z[ee]=arguments[ee];return m(Ie,null,[(le=n["append-inner"])==null?void 0:le.call(n,...Z),H])}:void 0,"prepend-inner":X?function(){var le;for(var W=arguments.length,Z=new Array(W),ee=0;ee<W;ee++)Z[ee]=arguments[ee];return m(Ie,null,[z,(le=n["prepend-inner"])==null?void 0:le.call(n,...Z)])}:void 0})}),Pr({},r)}}),ape=te({...VC()},"VStepperActions"),p6=pe()({name:"VStepperVerticalActions",props:ape(),emits:{"click:prev":()=>!0,"click:next":()=>!0},setup(t,e){let{emit:n,slots:i}=e;function s(){n("click:prev")}function r(){n("click:next")}return xe(()=>{const a=iy.filterProps(t);return m(iy,J({class:"v-stepper-vertical-actions"},a,{"onClick:prev":s,"onClick:next":r}),i)}),{}}}),ope=te({hideActions:Boolean,...Z3(),...tn(RC({expandIcon:"",collapseIcon:""}),["hideActions"])},"VStepperVerticalItem"),_6=pe()({name:"VStepperVerticalItem",props:ope(),emits:{"click:next":()=>!0,"click:prev":()=>!0,"click:finish":()=>!0},setup(t,e){let{emit:n,slots:i}=e;const s=Y(),r=R(()=>isNaN(parseInt(t.value))?t.value:Number(t.value)),a=R(()=>{var b;return(b=s.value)==null?void 0:b.groupItem}),o=R(()=>{var b;return((b=a.value)==null?void 0:b.isSelected.value)??!1}),l=R(()=>o.value?t.rules.every(b=>b()===!0):null),u=R(()=>!t.disabled&&t.editable),d=R(()=>t.error||o.value&&!l.value),c=R(()=>t.complete||t.rules.length>0&&l.value===!0),f=R(()=>{var b;return t.disabled?t.disabled:(b=a.value)!=null&&b.isFirst.value?"prev":!1}),h=R(()=>{var b;return d.value?t.errorIcon:c.value?t.completeIcon:(b=a.value)!=null&&b.isSelected.value&&t.editable?t.editIcon:t.icon}),g=R(()=>({canEdit:u.value,hasError:d.value,hasCompleted:c.value,title:t.title,subtitle:t.subtitle,step:r.value,value:t.value})),v=R(()=>({...g.value,prev:_,next:p}));function p(){var b;n("click:next"),!((b=a.value)!=null&&b.isLast.value)&&a.value.group.next()}function _(){n("click:prev"),a.value.group.prev()}return xe(()=>{var I;const b=(c.value||((I=a.value)==null?void 0:I.isSelected.value))&&!d.value&&!t.disabled,x=!t.hideActions||!!i.actions,k=LS.filterProps(t);return m(LS,J({_as:"VStepperVerticalItem",ref:s},k,{class:["v-stepper-vertical-item",{"v-stepper-vertical-item--complete":c.value,"v-stepper-vertical-item--disabled":t.disabled,"v-stepper-vertical-item--editable":u.value,"v-stepper-vertical-item--error":d.value},t.class],readonly:!t.editable,style:t.style,color:"","hide-actions":!1,value:r.value}),{title:()=>{var E,T;return m(Ie,null,[m($s,{key:"stepper-avatar",class:"v-stepper-vertical-item__avatar",color:b?t.color:void 0,size:24,start:!0},{default:()=>{var S;return[((S=i.icon)==null?void 0:S.call(i,g.value))??(h.value?m(jt,{icon:h.value},null):r.value)]}}),m("div",null,[m("div",{class:"v-stepper-vertical-item__title"},[((E=i.title)==null?void 0:E.call(i,g.value))??t.title]),m("div",{class:"v-stepper-vertical-item__subtitle"},[((T=i.subtitle)==null?void 0:T.call(i,g.value))??t.subtitle])])])},text:()=>{var E,T;return m(Ie,null,[((E=i.default)==null?void 0:E.call(i,g.value))??t.text,x&&m(ht,{defaults:{VStepperVerticalActions:{disabled:f.value,finish:(T=a.value)==null?void 0:T.isLast.value}}},{default:()=>{var S;return[((S=i.actions)==null?void 0:S.call(i,v.value))??m(p6,{"onClick:next":p,"onClick:prev":_},{prev:i.prev?()=>{var w;return(w=i.prev)==null?void 0:w.call(i,v.value)}:void 0,next:i.next?()=>{var w;return(w=i.next)==null?void 0:w.call(i,v.value)}:void 0})]}})])}})}),{}}}),lpe=te({prevText:{type:String,default:"$vuetify.stepper.prev"},nextText:{type:String,default:"$vuetify.stepper.next"},...i6(),...tn(Y3({mandatory:"force",variant:"accordion"}),["static"])},"VStepperVertical"),upe=pe()({name:"VStepperVertical",props:lpe(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const i=Y(),{color:s,eager:r,editable:a,prevText:o,nextText:l,hideActions:u}=Kl(t),d=Ye(t,"modelValue"),c=R(()=>t.items.map((f,h)=>{const g=ii(f,t.itemTitle,f),v=ii(f,t.itemValue,h+1);return{title:g,value:v,raw:f}}));return Dn({VStepperVerticalItem:{color:s,eager:r,editable:a,prevText:o,nextText:l,hideActions:u,static:!0},VStepperActions:{color:s}}),xe(()=>{const f=NS.filterProps(t);return m(NS,J(f,{modelValue:d.value,"onUpdate:modelValue":h=>d.value=h,ref:i,class:["v-stepper",{"v-stepper--alt-labels":t.altLabels,"v-stepper--flat":t.flat,"v-stepper--non-linear":t.nonLinear,"v-stepper--mobile":t.mobile},t.class],style:t.style}),{...n,default:h=>{var p;let{prev:g,next:v}=h;return m(Ie,null,[c.value.map(_=>{let{raw:b,...x}=_;return m(_6,x,{...n,default:n[`item.${x.value}`]})}),(p=n.default)==null?void 0:p.call(n,{prev:g,next:v,step:d.value})])}})}),{}}}),cpe=pe()({name:"VPullToRefresh",props:{disabled:Boolean,pullDownThreshold:{type:Number,default:64}},emits:{load:t=>!0},setup(t,e){let{slots:n,emit:i}=e,s=0,r=[];const a=Me(0),o=Y(),l=Me(!1),u=Me(!1),d=Me(!1),c=R(()=>a.value>=t.pullDownThreshold&&!l.value),f=R(()=>$n(a.value,0,t.pullDownThreshold));function h(p){l.value||t.disabled||(d.value=!0,s="clientY"in p?p.clientY:p.touches[0].clientY)}function g(p){if(l.value||!d.value||t.disabled)return;const _="clientY"in p?p.clientY:p.touches[0].clientY;r.length&&!r[0].scrollTop&&(a.value=_-s)}function v(p){l.value||t.disabled||(d.value=!1,c.value?(i("load",{done:function(){l.value&&(a.value=0,l.value=!1)}}),l.value=!0):a.value=0)}Pt(()=>{r=Bm(o.value)}),we([f,l],()=>{if(r.length){const p=f.value&&!l.value;r.forEach(_=>_.style.overflow=p?"hidden":"auto")}}),we(f,(p,_)=>{u.value=p<_}),xe(()=>{var p;return m("div",{class:["v-pull-to-refresh"],onTouchstart:h,onTouchmove:g,onTouchend:v,onMousedown:h,onMouseup:v,onMouseleave:v,onMousemove:g,ref:o},[m("div",{class:["v-pull-to-refresh__pull-down",{"v-pull-to-refresh__pull-down--touching":d.value}],style:{top:Ne(-1*t.pullDownThreshold+f.value),height:Ne(t.pullDownThreshold)}},[n.pullDownPanel?n.pullDownPanel({canRefresh:c.value,goingUp:u.value,refreshing:l.value}):m("div",{class:["v-pull-to-refresh__pull-down-default"]},[l.value?m($l,{indeterminate:!0,active:!1},null):m(jt,{icon:c.value||u.value?"$sortAsc":"$sortDesc"},null)])]),m("div",{class:["v-pull-to-refresh__scroll-container",{"v-pull-to-refresh__scroll-container--touching":d.value}],style:{top:Ne(f.value)}},[(p=n.default)==null?void 0:p.call(n)])])})}}),dpe=te({closable:[Boolean,String],closeText:{type:String,default:"$vuetify.dismiss"},modelValue:{type:Array,default:()=>[]},...tn(q3(),["modelValue"])},"VSnackbarQueue"),hpe=pe()({name:"VSnackbarQueue",props:dpe(),emits:{"update:modelValue":t=>!0},setup(t,e){let{emit:n,slots:i}=e;const{t:s}=gn(),r=Me(!1),a=Me(!1),o=Me();we(()=>t.modelValue.length,(f,h)=>{!a.value&&f>h&&u()}),we(r,f=>{f&&(a.value=!0)});function l(){t.modelValue.length?u():(o.value=void 0,a.value=!1)}function u(){const[f,...h]=t.modelValue;n("update:modelValue",h),o.value=typeof f=="string"?{text:f}:f,pt(()=>{r.value=!0})}function d(){r.value=!1}const c=R(()=>({color:typeof t.closable=="string"?t.closable:void 0,text:s(t.closeText)}));xe(()=>{const f=!!(t.closable||i.actions),{modelValue:h,...g}=FS.filterProps(t);return m(Ie,null,[a.value&&!!o.value&&(i.default?m(ht,{defaults:{VSnackbar:o.value}},{default:()=>[i.default({item:o.value})]}):m(FS,J(g,o.value,{modelValue:r.value,"onUpdate:modelValue":v=>r.value=v,onAfterLeave:l}),{text:i.text?()=>{var v;return(v=i.text)==null?void 0:v.call(i,{item:o.value})}:void 0,actions:f?()=>m(Ie,null,[i.actions?m(ht,{defaults:{VBtn:c.value}},{default:()=>[i.actions({item:o.value,props:{onClick:d}})]}):m(gt,J(c.value,{onClick:d}),null)]):void 0}))])})}});function Fu(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;return String(t).padStart(e,"0")}const fpe=te({allowedValues:Function,ampm:Boolean,color:String,disabled:Boolean,displayedValue:null,double:Boolean,format:{type:Function,default:t=>t},max:{type:Number,required:!0},min:{type:Number,required:!0},scrollable:Boolean,readonly:Boolean,rotate:{type:Number,default:0},step:{type:Number,default:1},modelValue:{type:Number}},"VTimePickerClock"),US=pe()({name:"VTimePickerClock",props:fpe(),emits:{change:t=>!0,input:t=>!0},setup(t,e){let{emit:n}=e;const i=Y(null),s=Y(null),r=Y(void 0),a=Y(!1),o=Y(null),l=Y(null),{textColorClasses:u,textColorStyles:d}=Ui(ve(t,"color")),{backgroundColorClasses:c,backgroundColorStyles:f}=an(ve(t,"color")),h=R(()=>t.max-t.min+1),g=R(()=>t.double?h.value/2:h.value),v=R(()=>360/g.value),p=R(()=>v.value*Math.PI/180),_=R(()=>t.modelValue==null?t.min:t.modelValue),b=R(()=>.62),x=R(()=>{const z=[];for(let X=t.min;X<=t.max;X=X+t.step)z.push(X);return z});we(()=>t.modelValue,z=>{r.value=z});function k(z){r.value!==z&&(r.value=z),n("input",z)}function I(z){return!t.allowedValues||t.allowedValues(z)}function E(z){if(!t.scrollable||t.disabled)return;z.preventDefault();const X=Math.sign(-z.deltaY||1);let W=_.value;do W=W+X,W=(W-t.min+h.value)%h.value+t.min;while(!I(W)&&W!==_.value);W!==t.displayedValue&&k(W)}function T(z){return t.double&&z-t.min>=g.value}function S(z){return T(z)?b.value:1}function w(z){const X=t.rotate*Math.PI/180;return{x:Math.sin((z-t.min)*p.value+X)*S(z),y:-Math.cos((z-t.min)*p.value+X)*S(z)}}function P(z,X){const W=(Math.round(z/v.value)+(X?g.value:0))%h.value+t.min;return z<360-v.value/2?W:X?t.max-g.value+1:t.min}function C(z){const{x:X,y:W}=w(z);return{left:`${50+X*50}%`,top:`${50+W*50}%`}}function D(z,X){const W=X.x-z.x,Z=X.y-z.y;return Math.sqrt(W*W+Z*Z)}function A(z,X){const W=2*Math.atan2(X.y-z.y-D(z,X),X.x-z.x);return Math.abs(W*180/Math.PI)}function N(z){o.value===null&&(o.value=z),l.value=z,k(z)}function B(z){var fe,ye;if(z.preventDefault(),!a.value&&z.type!=="click"||!i.value)return;const{width:X,top:W,left:Z}=(fe=i.value)==null?void 0:fe.getBoundingClientRect(),{width:ee}=((ye=s.value)==null?void 0:ye.getBoundingClientRect())??{width:0},{clientX:le,clientY:ue}="touches"in z?z.touches[0]:z,ce={x:X/2,y:-X/2},se={x:le-Z,y:W-ue},$=Math.round(A(ce,se)-t.rotate+360)%360,q=t.double&&D(ce,se)<(ee+ee*b.value)/4,re=Math.ceil(15/v.value);let ge;for(let L=0;L<re;L++)if(ge=P($+L*v.value,q),I(ge)||(ge=P($-L*v.value,q),I(ge)))return N(ge)}function H(z){t.disabled||(z.preventDefault(),window.addEventListener("mousemove",B),window.addEventListener("touchmove",B),window.addEventListener("mouseup",G),window.addEventListener("touchend",G),o.value=null,l.value=null,a.value=!0,B(z))}function G(z){z.stopPropagation(),window.removeEventListener("mousemove",B),window.removeEventListener("touchmove",B),window.removeEventListener("mouseup",G),window.removeEventListener("touchend",G),a.value=!1,l.value!==null&&I(l.value)&&n("change",l.value)}xe(()=>m("div",{class:[{"v-time-picker-clock":!0,"v-time-picker-clock--indeterminate":t.modelValue==null,"v-time-picker-clock--readonly":t.readonly}],onMousedown:H,onTouchstart:H,onWheel:E,ref:i},[m("div",{class:"v-time-picker-clock__inner",ref:s},[m("div",{class:[{"v-time-picker-clock__hand":!0,"v-time-picker-clock__hand--inner":T(t.modelValue)},u.value],style:[{transform:`rotate(${t.rotate+v.value*(_.value-t.min)}deg) scaleY(${S(_.value)})`},d.value]},null),x.value.map(z=>{const X=z===_.value;return m("div",{class:[{"v-time-picker-clock__item":!0,"v-time-picker-clock__item--active":X,"v-time-picker-clock__item--disabled":t.disabled||!I(z)},X&&c.value],style:[C(z),X&&f.value]},[m("span",null,[t.format(z)])])})])]))}});var ti=function(t){return t[t.Hour=1]="Hour",t[t.Minute=2]="Minute",t[t.Second=3]="Second",t}(ti||{});const mpe=te({ampm:Boolean,ampmInTitle:Boolean,ampmReadonly:Boolean,color:String,disabled:Boolean,hour:Number,minute:Number,second:Number,period:String,readonly:Boolean,useSeconds:Boolean,selecting:Number,value:Number},"VTimePickerControls"),HS=pe()({name:"VTimePickerControls",props:mpe(),emits:{"update:period":t=>!0,"update:selecting":t=>!0},setup(t,e){let{emit:n,slots:i}=e;const{t:s}=gn();return xe(()=>{let r=t.hour;return t.ampm&&(r=r?(r-1)%12+1:12),m("div",{class:"v-time-picker-controls"},[m("div",{class:{"v-time-picker-controls__time":!0,"v-time-picker-controls__time--with-seconds":t.useSeconds}},[m(gt,{active:t.selecting===1,color:t.selecting===1?t.color:void 0,disabled:t.disabled,variant:"tonal",class:{"v-time-picker-controls__time__btn":!0,"v-time-picker-controls__time--with-ampm__btn":t.ampm,"v-time-picker-controls__time--with-seconds__btn":t.useSeconds},text:t.hour==null?"--":Fu(`${r}`),onClick:()=>n("update:selecting",ti.Hour)},null),m("span",{class:["v-time-picker-controls__time__separator",{"v-time-picker-controls--with-seconds__time__separator":t.useSeconds}]},[Ee(":")]),m(gt,{active:t.selecting===2,color:t.selecting===2?t.color:void 0,class:{"v-time-picker-controls__time__btn":!0,"v-time-picker-controls__time__btn__active":t.selecting===2,"v-time-picker-controls__time--with-ampm__btn":t.ampm,"v-time-picker-controls__time--with-seconds__btn":t.useSeconds},disabled:t.disabled,variant:"tonal",text:t.minute==null?"--":Fu(t.minute),onClick:()=>n("update:selecting",ti.Minute)},null),t.useSeconds&&m("span",{class:["v-time-picker-controls__time__separator",{"v-time-picker-controls--with-seconds__time__separator":t.useSeconds}],key:"secondsDivider"},[Ee(":")]),t.useSeconds&&m(gt,{key:"secondsVal",variant:"tonal",onClick:()=>n("update:selecting",ti.Second),class:{"v-time-picker-controls__time__btn":!0,"v-time-picker-controls__time__btn__active":t.selecting===3,"v-time-picker-controls__time--with-seconds__btn":t.useSeconds},disabled:t.disabled,text:t.second==null?"--":Fu(t.second)},null),t.ampm&&t.ampmInTitle&&m("div",{class:["v-time-picker-controls__ampm",{"v-time-picker-controls__ampm--readonly":t.ampmReadonly}]},[m(gt,{active:t.period==="am",color:t.period==="am"?t.color:void 0,class:{"v-time-picker-controls__ampm__am":!0,"v-time-picker-controls__ampm__btn":!0,"v-time-picker-controls__ampm__btn__active":t.period==="am"},disabled:t.disabled,text:s("$vuetify.timePicker.am"),variant:t.disabled&&t.period==="am"?"elevated":"tonal",onClick:()=>t.period!=="am"?n("update:period","am"):null},null),m(gt,{active:t.period==="pm",color:t.period==="pm"?t.color:void 0,class:{"v-time-picker-controls__ampm__pm":!0,"v-time-picker-controls__ampm__btn":!0,"v-time-picker-controls__ampm__btn__active":t.period==="pm"},disabled:t.disabled,text:s("$vuetify.timePicker.pm"),variant:t.disabled&&t.period==="pm"?"elevated":"tonal",onClick:()=>t.period!=="pm"?n("update:period","pm"):null},null)])])])}),{}}}),vpe=mr(24),y6=mr(12),gpe=y6.map(t=>t+12);mr(60);const ppe={1:"hour",2:"minute",3:"second"},_pe=te({allowedHours:[Function,Array],allowedMinutes:[Function,Array],allowedSeconds:[Function,Array],ampmInTitle:Boolean,disabled:Boolean,format:{type:String,default:"ampm"},max:String,min:String,modelValue:null,readonly:Boolean,scrollable:Boolean,useSeconds:Boolean,...tn(OC({title:"$vuetify.timePicker.title"}),["landscape"])},"VTimePicker"),ype=pe()({name:"VTimePicker",props:_pe(),emits:{"update:hour":t=>!0,"update:minute":t=>!0,"update:period":t=>!0,"update:second":t=>!0,"update:modelValue":t=>!0},setup(t,e){let{emit:n,slots:i}=e;const{t:s}=gn(),r=Y(null),a=Y(null),o=Y(null),l=Y(null),u=Y(null),d=Y(null),c=Y("am"),f=Y(ti.Hour),h=Y(null),g=Y(null),v=R(()=>{let D;if(t.allowedHours instanceof Array?D=B=>t.allowedHours.includes(B):D=t.allowedHours,!t.min&&!t.max)return D;const A=t.min?Number(t.min.split(":")[0]):0,N=t.max?Number(t.max.split(":")[0]):23;return B=>B>=A*1&&B<=N*1&&(!D||D(B))}),p=R(()=>{let D;const A=!v.value||r.value===null||v.value(r.value);if(t.allowedMinutes instanceof Array?D=W=>t.allowedMinutes.includes(W):D=t.allowedMinutes,!t.min&&!t.max)return A?D:()=>!1;const[N,B]=t.min?t.min.split(":").map(Number):[0,0],[H,G]=t.max?t.max.split(":").map(Number):[23,59],z=N*60+B*1,X=H*60+G*1;return W=>{const Z=60*r.value+W;return Z>=z&&Z<=X&&A&&(!D||D(W))}}),_=R(()=>{let D;const N=(!v.value||r.value===null||v.value(r.value))&&(!p.value||a.value===null||p.value(a.value));if(t.allowedSeconds instanceof Array?D=le=>t.allowedSeconds.includes(le):D=t.allowedSeconds,!t.min&&!t.max)return N?D:()=>!1;const[B,H,G]=t.min?t.min.split(":").map(Number):[0,0,0],[z,X,W]=t.max?t.max.split(":").map(Number):[23,59,59],Z=B*3600+H*60+(G||0)*1,ee=z*3600+X*60+(W||0)*1;return le=>{const ue=3600*r.value+60*a.value+le;return ue>=Z&&ue<=ee&&N&&(!D||D(le))}}),b=R(()=>t.format==="ampm");we(()=>t.modelValue,D=>T(D)),Pt(()=>{T(t.modelValue)});function x(){return r.value!=null&&a.value!=null&&(!t.useSeconds||o.value!=null)?`${Fu(r.value)}:${Fu(a.value)}`+(t.useSeconds?`:${Fu(o.value)}`:""):null}function k(){const D=x();D!==null&&n("update:modelValue",D)}function I(D){return D?(D-1)%12+1:12}function E(D,A){return D%12+(A==="pm"?12:0)}function T(D){if(D==null||D==="")r.value=null,a.value=null,o.value=null;else if(D instanceof Date)r.value=D.getHours(),a.value=D.getMinutes(),o.value=D.getSeconds();else{const[A,,N,,B,H]=D.trim().toLowerCase().match(/^(\d+):(\d+)(:(\d+))?([ap]m)?$/)||new Array(6);r.value=H?E(parseInt(A,10),H):parseInt(A,10),a.value=parseInt(N,10),o.value=parseInt(B||0,10)}c.value=r.value==null||r.value<12?"am":"pm"}function S(D,A){const N=v.value;if(!N)return A;const B=b.value?A<12?y6:gpe:vpe;return((B.find(G=>N((G+A)%B.length+B[0]))||0)+A)%B.length+B[0]}function w(D){if(c.value=D,r.value!=null){const A=r.value+(c.value==="am"?-12:12);r.value=S("hour",A)}return n("update:period",D),k(),!0}function P(D){f.value===ti.Hour?r.value=b.value?E(D,c.value):D:f.value===ti.Minute?a.value=D:o.value=D}function C(D){switch(ppe[f.value]){case"hour":n("update:hour",D);break;case"minute":n("update:minute",D);break;case"second":n("update:second",D);break}const A=f.value===(t.useSeconds?ti.Second:ti.Minute);f.value===ti.Hour?f.value=ti.Minute:t.useSeconds&&f.value===ti.Minute&&(f.value=ti.Second),!(r.value===l.value&&a.value===u.value&&(!t.useSeconds||o.value===d.value)||x()===null)&&(l.value=r.value,u.value=a.value,t.useSeconds&&(d.value=o.value),A&&k())}xe(()=>{const D=nv.filterProps(t),A=HS.filterProps(t),N=US.filterProps(tn(t,["format","modelValue","min","max"]));return m(nv,J(D,{color:void 0,class:["v-time-picker",t.class],style:t.style}),{title:()=>{var B;return((B=i.title)==null?void 0:B.call(i))??m("div",{class:"v-time-picker__title"},[s(t.title)])},header:()=>m(HS,J(A,{ampm:b.value||t.ampmInTitle,ampmReadonly:b.value&&!t.ampmInTitle,hour:r.value,minute:a.value,period:c.value,second:o.value,selecting:f.value,"onUpdate:period":B=>w(B),"onUpdate:selecting":B=>f.value=B,ref:h}),null),default:()=>m(US,J(N,{allowedValues:f.value===ti.Hour?v.value:f.value===ti.Minute?p.value:_.value,double:f.value===ti.Hour&&!b.value,format:f.value===ti.Hour?b.value?I:B=>B:B=>Fu(B,2),max:f.value===ti.Hour?b.value&&c.value==="am"?11:23:59,min:f.value===ti.Hour&&b.value&&c.value==="pm"?12:0,size:20,step:f.value===ti.Hour?1:5,modelValue:f.value===ti.Hour?r.value:f.value===ti.Minute?a.value:o.value,onChange:C,onInput:P,ref:g}),null),actions:i.actions})})}}),bpe=te({...tn(m5({collapseIcon:"$treeviewCollapse",expandIcon:"$treeviewExpand"}),["subgroup"])},"VTreeviewGroup"),zS=pe()({name:"VTreeviewGroup",props:bpe(),setup(t,e){let{slots:n}=e;const i=Y(),s=R(()=>{var a;return(a=i.value)!=null&&a.isOpen?t.collapseIcon:t.expandIcon}),r=R(()=>{var a;return{VTreeviewItem:{prependIcon:void 0,appendIcon:void 0,active:(a=i.value)==null?void 0:a.isOpen,toggleIcon:s.value}}});return xe(()=>{const a=ev.filterProps(t);return m(ev,J(a,{ref:i,class:["v-treeview-group",t.class],subgroup:!0}),{...n,activator:n.activator?o=>m(Ie,null,[m(ht,{defaults:r.value},{default:()=>{var l;return[(l=n.activator)==null?void 0:l.call(n,o)]}})]):void 0})}),{}}}),b6=Symbol.for("vuetify:v-treeview"),wpe=te({loading:Boolean,onToggleExpand:Ri(),toggleIcon:qe,...oC({slim:!0})},"VTreeviewItem"),WS=pe()({name:"VTreeviewItem",props:wpe(),setup(t,e){let{attrs:n,slots:i,emit:s}=e;const r=zh(t,n),a=Y(),o=R(()=>{var c,f;return((c=a.value)==null?void 0:c.root.activatable.value)&&((f=a.value)==null?void 0:f.isGroupActivator)}),l=R(()=>{var c;return!t.disabled&&t.link!==!1&&(t.link||r.isClickable.value||t.value!=null&&!!((c=a.value)!=null&&c.list)||o.value)});function u(c){var f,h;l.value&&o.value&&((h=a.value)==null||h.activate(!((f=a.value)!=null&&f.isActivated),c))}const d=vt(b6,{visibleIds:Y()}).visibleIds;return xe(()=>{var h,g;const c=tn(br.filterProps(t),["onClick"]),f=i.prepend||t.toggleIcon;return m(br,J({ref:a},c,{active:(h=a.value)==null?void 0:h.isActivated,class:["v-treeview-item",{"v-treeview-item--activatable-group-activator":o.value,"v-treeview-item--filtered":d.value&&!d.value.has((g=a.value)==null?void 0:g.id)},t.class],ripple:!1,onClick:t.onClick??u}),{...i,prepend:f?v=>{var p;return m(Ie,null,[t.toggleIcon&&m(T5,{start:!1},{default:()=>[m(gt,{density:"compact",icon:t.toggleIcon,loading:t.loading,variant:"text",onClick:t.onToggleExpand},{loader(){return m($l,{indeterminate:"disable-shrink",size:"20",width:"2"},null)}})]}),(p=i.prepend)==null?void 0:p.call(i,v)])}:void 0})}),{}}}),w6=te({loadChildren:Function,loadingIcon:{type:String,default:"$loading"},items:Array,openOnClick:{type:Boolean,default:void 0},indeterminateIcon:{type:qe,default:"$checkboxIndeterminate"},falseIcon:qe,trueIcon:qe,returnObject:Boolean,selectable:Boolean,selectedColor:String,selectStrategy:[String,Function,Object]},"VTreeviewChildren"),sy=pe()({name:"VTreeviewChildren",props:w6(),setup(t,e){let{slots:n}=e;const i=vn(new Set),s=R(()=>t.openOnClick!=null?t.openOnClick:t.selectable);async function r(o){var l,u;try{if(!((l=t.items)!=null&&l.length)||!t.loadChildren)return;((u=o==null?void 0:o.children)==null?void 0:u.length)===0&&(i.add(o.value),await t.loadChildren(o.raw))}finally{i.delete(o.value)}}function a(o,l){t.selectable&&o(!l)}return()=>{var o,l;return((o=n.default)==null?void 0:o.call(n))??((l=t.items)==null?void 0:l.map(u=>{var p;const{children:d,props:c}=u,f=i.has(u.value),h={prepend:_=>{var b;return m(Ie,null,[t.selectable&&(!d||d&&!["leaf","single-leaf"].includes(t.selectStrategy))&&m("div",null,[m(Wa,{key:u.value,modelValue:_.isSelected,loading:f,color:t.selectedColor,indeterminate:_.isIndeterminate,indeterminateIcon:t.indeterminateIcon,falseIcon:t.falseIcon,trueIcon:t.trueIcon,onClick:Ju(()=>a(_.select,_.isSelected),["stop"]),onKeydown:x=>{["Enter","Space"].includes(x.key)&&(x.stopPropagation(),a(_.select,_.isSelected))}},null)]),(b=n.prepend)==null?void 0:b.call(n,{..._,item:u.raw,internalItem:u})])},append:n.append?_=>{var b;return(b=n.append)==null?void 0:b.call(n,{..._,item:u.raw,internalItem:u})}:void 0,title:n.title?_=>{var b;return(b=n.title)==null?void 0:b.call(n,{..._,item:u.raw,internalItem:u})}:void 0},g=zS.filterProps(c),v=sy.filterProps(t);return d?m(zS,J(g,{value:t.returnObject?u.raw:g==null?void 0:g.value}),{activator:_=>{let{props:b}=_;const x={...c,...b,value:c==null?void 0:c.value,onToggleExpand:[()=>r(u),b.onClick],onClick:s.value?[()=>r(u),b.onClick]:void 0};return m(WS,J(x,{value:t.returnObject?Qe(u.raw):c.value,loading:f}),h)},default:()=>m(sy,J(v,{items:d,returnObject:t.returnObject}),n)}):((p=n.item)==null?void 0:p.call(n,{props:c,item:u.raw,internalItem:u}))??m(WS,J(c,{value:t.returnObject?Qe(u.raw):c.value}),h)}))}}});function x6(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];for(const n of t)e.push(n),n.children&&x6(n.children,e);return e}const xpe=te({openAll:Boolean,search:String,...Xh({filterKeys:["title"]}),...w6(),...tn(k5({collapseIcon:"$treeviewCollapse",expandIcon:"$treeviewExpand",slim:!0}),["itemType","nav","openStrategy"]),modelValue:{type:Array,default:()=>[]}},"VTreeview"),Spe=pe()({name:"VTreeview",props:xpe(),emits:{"update:opened":t=>!0,"update:activated":t=>!0,"update:selected":t=>!0,"update:modelValue":t=>!0,"click:open":t=>!0,"click:select":t=>!0},setup(t,e){let{slots:n}=e;const{items:i}=S5(t),s=ve(t,"activeColor"),r=ve(t,"baseColor"),a=ve(t,"color"),o=Ye(t,"activated"),l=Ye(t,"modelValue"),u=Ye(t,"selected",t.modelValue),d=R({get:()=>u.value,set(x){u.value=x,l.value=x}}),c=Y(),f=R(()=>t.openAll?b(i.value):t.opened),h=R(()=>x6(i.value)),g=ve(t,"search"),{filteredItems:v}=Kh(t,h,g),p=R(()=>{var k;if(!g.value)return null;const x=(k=c.value)==null?void 0:k.getPath;return x?new Set(v.value.flatMap(I=>{const E=t.returnObject?I.raw:I.props.value;return[...x(E),..._(E)].map(Qe)})):null});function _(x){var E,T;const k=[],I=(((E=c.value)==null?void 0:E.children.get(x))??[]).slice();for(;I.length;){const S=I.shift();S&&(k.push(S),I.push(...(((T=c.value)==null?void 0:T.children.get(S))??[]).slice()))}return k}function b(x){let k=[];for(const I of x)I.children&&(k.push(t.returnObject?Qe(I.raw):I.value),I.children&&(k=k.concat(b(I.children))));return k}return Jt(b6,{visibleIds:p}),Dn({VTreeviewGroup:{activeColor:s,baseColor:r,color:a,collapseIcon:ve(t,"collapseIcon"),expandIcon:ve(t,"expandIcon")},VTreeviewItem:{activeClass:ve(t,"activeClass"),activeColor:s,baseColor:r,color:a,density:ve(t,"density"),disabled:ve(t,"disabled"),lines:ve(t,"lines"),variant:ve(t,"variant")}}),xe(()=>{const x=hh.filterProps(t),k=sy.filterProps(t);return m(hh,J({ref:c},x,{class:["v-treeview",t.class],"open-strategy":"multiple",style:t.style,opened:f.value,activated:o.value,"onUpdate:activated":I=>o.value=I,selected:d.value,"onUpdate:selected":I=>d.value=I}),{default:()=>[m(sy,J(k,{returnObject:t.returnObject,items:i.value}),n)]})}),{}}}),kpe=Object.freeze(Object.defineProperty({__proto__:null,VCalendar:Jge,VCalendarDay:jp,VCalendarHeader:$S,VCalendarInterval:jS,VCalendarIntervalEvent:BS,VCalendarMonthDay:v6,VDateInput:epe,VFileUpload:ipe,VFileUploadItem:g6,VNumberInput:rpe,VPicker:nv,VPickerTitle:U3,VPullToRefresh:cpe,VSnackbarQueue:hpe,VStepperVertical:upe,VStepperVerticalActions:p6,VStepperVerticalItem:_6,VTimePicker:ype,VTimePickerClock:US,VTimePickerControls:HS,VTreeview:Spe,VTreeviewGroup:zS,VTreeviewItem:WS},Symbol.toStringTag,{value:"Module"})),Tpe={badge:"Distintivo",open:"Apri",close:"Chiudi",dismiss:"Dismiss",confirmEdit:{ok:"OK",cancel:"Annulla"},dataIterator:{noResultsText:"Nessun risultato trovato",loadingText:"Caricamento in corso..."},dataTable:{itemsPerPageText:"Righe per pagina:",ariaLabel:{sortDescending:"Ordinati in ordine decrescente.",sortAscending:"Ordinati in ordine crescente.",sortNone:"Non ordinato.",activateNone:"Attiva per rimuovere l'ordinamento.",activateDescending:"Attiva per ordinare in ordine decrescente.",activateAscending:"Attiva per ordinare in ordine crescente."},sortBy:"Ordina per"},dataFooter:{itemsPerPageText:"Elementi per pagina:",itemsPerPageAll:"Tutti",nextPage:"Pagina seguente",prevPage:"Pagina precedente",firstPage:"Prima pagina",lastPage:"Ultima pagina",pageText:"{0}-{1} di {2}"},dateRangeInput:{divider:"a"},datePicker:{itemsSelected:"{0} selected",range:{title:"Seleziona date",header:"Inserisci date"},title:"Seleziona data",header:"Inserisci data",input:{placeholder:"Inserisci data"}},noDataText:"Nessun elemento disponibile",carousel:{prev:"Vista precedente",next:"Prossima vista",ariaLabel:{delimiter:"Slide carosello {0} di {1}"}},calendar:{moreEvents:"{0} di pi",today:"Today"},input:{clear:"Cancella {0}",prependAction:"Azione precedente {0}",appendAction:"Azione successiva {0}",otp:"Inserisci il codice OTP {0}"},fileInput:{counter:"{0} file",counterSize:"{0} file ({1} in totale)"},fileUpload:{title:"Drag and drop files here",divider:"or",browse:"Browse Files"},timePicker:{am:"AM",pm:"PM",title:"Select Time"},pagination:{ariaLabel:{root:"Navigazione impaginazione",next:"Pagina seguente",previous:"Pagina precedente",page:"Vai alla pagina {0}",currentPage:"Pagina corrente, pagina {0}",first:"Prima pagina",last:"Ultima pagina"}},stepper:{next:"Successivo",prev:"Precedente"},rating:{ariaLabel:{item:"Valutazione {0} di {1}"}},loading:"Caricamento...",infiniteScroll:{loadMore:"Carica altro",empty:"Nessun elemento"}},Ppe={dark:!1,colors:{background:"#FFFFFF",surface:"#FFFFFF",primary:"#6200EE","primary-darken-1":"#3700B3",secondary:"#03DAC6","secondary-darken-1":"#018786",error:"#B00020",info:"#2196F3",success:"#4CAF50",warning:"#FB8C00","blue-grey-lighten":"#37474F"}},Cpe={dark:!0,colors:{success:"#78dc77",secondary:"#000000",primary:"#cfbdff",info:"#9ecaff","blue-grey-lighten":"#ECEFF1"}},Epe=s$({components:{...Vge,...kpe},directives:Gge,theme:{defaultTheme:"myCustomLightTheme",themes:{myCustomLightTheme:Ppe,myCustomDarkTheme:Cpe}},locale:{locale:"it",fallback:"en",messages:{en:Hj,it:Tpe}},date:{locale:{it:"it-IT"}}}),sg=Tt({__name:"BackButton",props:{delta:{default:1}},setup(t){const e=t,n=Rc();function i(){const s=Math.abs(e.delta??1);n.go(-s)}return(s,r)=>{const a=j("v-btn");return be(),De(a,{icon:"mdi-arrow-left",onClick:i,variant:"text"})}}});var Qh=(t=>(t.SCHOOLS="schools",t.STUDENTS="students",t.WEEKLY_LESSONS="weeklyLessons",t.DAILY_LESSONS="dailyLessons",t.RECOVERY_LESSONS="recoveryLessons",t))(Qh||{});const Ipe=()=>({toFirestore:t=>t,fromFirestore:t=>{const e=t.data();return e.id=t.id,e}}),Dpe=t=>JZ(Mx(),t).withConverter(Ipe());function rg(t,e){const n=`${t}/${e}/user${t.charAt(0).toUpperCase()+t.slice(1)}`;return Dpe(n)}class S6{constructor(){on(this,"handlers",[]);on(this,"unsubscription");on(this,"cache")}subscribe(e,n=!1){return this.handlers.push(e),n&&this.cache!=null&&e.next(this.cache),new Ape(this,e)}unsubscribe(e){var i;const n=this.handlers.indexOf(e);n!==-1&&this.handlers.splice(n,1),this.handlers.length==0&&((i=this.unsubscription)==null||i.call(this))}unsubscribeAll(){this.clear()}setUnsubscription(e){this.unsubscription=e}next(e){this.cache=e,[...this.handlers].forEach(n=>n.next(e))}error(e){[...this.handlers].forEach(n=>{var i;return(i=n.error)==null?void 0:i.call(n,e)}),console.log(e)}clear(){this.handlers=[]}expose(){return this}}class Ape{constructor(e,n){this.liteEvent=e,this.handler=n}unsubscribe(){this.liteEvent.unsubscribe(this.handler)}}class ag{constructor(e){on(this,"user",bN());on(this,"cache",{});this._collectionReference=e}get collectionReference(){var e,n,i;return(this.cache.userId!=((e=this.user.value)==null?void 0:e.uid)||!this.cache.collectionReference)&&(this.cache={userId:(n=this.user.value)==null?void 0:n.uid,collectionReference:this._collectionReference(((i=this.user.value)==null?void 0:i.uid)??"")}),this.cache.collectionReference}observe(e){return R(()=>Rf(this.collectionReference,e.value))}async get(e){return(await this.getDoc(e)).data()}async getDoc(e){return await vP(Rf(this.collectionReference,e))}async getAll(...e){const n=Mw(this.collectionReference,...e);return(await Ix(n)).docs.map(s=>s.data())}async getAllDocs(...e){const n=Mw(this.collectionReference,...e);return await Ix(n)}async save(e,n){return console.log(e),n!=null?(dee(Rf(this.collectionReference,n),e),n):(await fee(this.collectionReference,e)).id}observeAll(...e){const n=new S6,i=Mw(this.collectionReference,...e),s=Fb(i,r=>{const a=r.docs.map(o=>o.data());n.next(a)},r=>{n.error(r)});return n.setUnsubscription(s),n}async delete(e){await hee(Rf(this.collectionReference,e))}deleteAll(){throw new Error("Method not implemented.")}}const Ay=class Ay extends ag{constructor(){super(e=>rg(Qh.SCHOOLS,e))}static get instance(){return this._instance||(this._instance=new Ay),this._instance}};on(Ay,"_instance",null);let Lr=Ay;const qi=[];for(let t=0;t<256;++t)qi.push((t+256).toString(16).slice(1));function Ope(t,e=0){return(qi[t[e+0]]+qi[t[e+1]]+qi[t[e+2]]+qi[t[e+3]]+"-"+qi[t[e+4]]+qi[t[e+5]]+"-"+qi[t[e+6]]+qi[t[e+7]]+"-"+qi[t[e+8]]+qi[t[e+9]]+"-"+qi[t[e+10]]+qi[t[e+11]]+qi[t[e+12]]+qi[t[e+13]]+qi[t[e+14]]+qi[t[e+15]]).toLowerCase()}let a1;const Rpe=new Uint8Array(16);function Mpe(){if(!a1){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");a1=crypto.getRandomValues.bind(crypto)}return a1(Rpe)}const Vpe=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),eM={randomUUID:Vpe};function jd(t,e,n){var s;if(eM.randomUUID&&!e&&!t)return eM.randomUUID();t=t||{};const i=t.random??((s=t.rng)==null?void 0:s.call(t))??Mpe();if(i.length<16)throw new Error("Random bytes length must be >= 16");return i[6]=i[6]&15|64,i[8]=i[8]&63|128,Ope(i)}const Oy=class Oy extends ag{constructor(){super(e=>rg(Qh.WEEKLY_LESSONS,e))}static get instance(){return this._instance||(this._instance=new Oy),this._instance}};on(Oy,"_instance",null);let sa=Oy;const Ry=class Ry extends ag{constructor(){super(e=>rg(Qh.DAILY_LESSONS,e))}static get instance(){return this._instance||(this._instance=new Ry),this._instance}};on(Ry,"_instance",null);let Rt=Ry;const Lpe=!1;class Ki{static string(e=8){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let i="";for(let s=0;s<e;s++)i+=n.charAt(Math.floor(Math.random()*n.length));return i}static word(e=8){let n="";const i="bcdfghjklmnpqrstvwxyz",s="aeiou";for(let r=0;r<e;r=r+3)n+=i[Math.floor(Math.random()*i.length)],n+=s[Math.floor(Math.random()*s.length)],n+=i[Math.floor(Math.random()*i.length)];return n}static int(e=0,n=10){return e=Math.ceil(e),n=Math.floor(n),Math.floor(Math.random()*(n-e+1))+e}static bool(){return Math.random()>=.5}static item(e){if(e.length!=0)return e[this.int(0,e.length-1)]}static items(e,n){if(e.length==0)return[];n??(n=Ki.int(1,e.length-1));const i=[],s=[...e];for(let r=0;r<n;r++){const a=this.int(0,s.length);i.push(s[a]),s.splice(a,1)}return i}static date(e,n){n??(n=new Date),e||(e=new Date,e.setMonth(n.getMonth()-6));const i=e.getTime(),s=n.getTime();return new Date(i+Math.random()*(s-i))}static time(e=0,n=86400,i="minute"){const s=Ut.fromITime(this.int(e,n));return i=="minute"&&s.setSeconds(0),s.format()}static text(e=4){let n="";for(let i=0;i<e;i++){for(let s=0;s<this.int(5,20);s++)n+=this.word(this.int(5,10))+" ";n=n.slice(0,-1)+".",this.bool()?n+=`
`:n+=" "}return n}}const My=class My extends ag{constructor(){super(e=>rg(Qh.STUDENTS,e))}static get instance(){return this._instance||(this._instance=new My),this._instance}};on(My,"_instance",null);let Ys=My;/**
  * vee-validate v4.15.0
  * (c) 2024 Abdelrahman Awad
  * @license MIT
  */function Yr(t){return typeof t=="function"}function k6(t){return t==null}const fh=t=>t!==null&&!!t&&typeof t=="object"&&!Array.isArray(t);function NC(t){return Number(t)>=0}function Npe(t){return typeof t=="object"&&t!==null}function Fpe(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}function tM(t){if(!Npe(t)||Fpe(t)!=="[object Object]")return!1;if(Object.getPrototypeOf(t)===null)return!0;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function sv(t,e){return Object.keys(e).forEach(n=>{if(tM(e[n])&&tM(t[n])){t[n]||(t[n]={}),sv(t[n],e[n]);return}t[n]=e[n]}),t}function Qg(t){const e=t.split(".");if(!e.length)return"";let n=String(e[0]);for(let i=1;i<e.length;i++){if(NC(e[i])){n+=`[${e[i]}]`;continue}n+=`.${e[i]}`}return n}const Bpe={};function jpe(t){return Bpe[t]}function nM(t,e,n){typeof n.value=="object"&&(n.value=Cn(n.value)),!n.enumerable||n.get||n.set||!n.configurable||!n.writable||e==="__proto__"?Object.defineProperty(t,e,n):t[e]=n.value}function Cn(t){if(typeof t!="object")return t;var e=0,n,i,s,r=Object.prototype.toString.call(t);if(r==="[object Object]"?s=Object.create(t.__proto__||null):r==="[object Array]"?s=Array(t.length):r==="[object Set]"?(s=new Set,t.forEach(function(a){s.add(Cn(a))})):r==="[object Map]"?(s=new Map,t.forEach(function(a,o){s.set(Cn(o),Cn(a))})):r==="[object Date]"?s=new Date(+t):r==="[object RegExp]"?s=new RegExp(t.source,t.flags):r==="[object DataView]"?s=new t.constructor(Cn(t.buffer)):r==="[object ArrayBuffer]"?s=t.slice(0):r.slice(-6)==="Array]"&&(s=new t.constructor(t)),s){for(i=Object.getOwnPropertySymbols(t);e<i.length;e++)nM(s,i[e],Object.getOwnPropertyDescriptor(t,i[e]));for(e=0,i=Object.getOwnPropertyNames(t);e<i.length;e++)Object.hasOwnProperty.call(s,n=i[e])&&s[n]===t[n]||nM(s,n,Object.getOwnPropertyDescriptor(t,n))}return s||t}const $pe=Symbol("vee-validate-form"),Upe=Symbol("vee-validate-form-context"),Hpe=typeof window<"u";function zpe(t){return Yr(t)&&!!t.__locatorRef}function bl(t){return!!t&&Yr(t.parse)&&t.__type==="VVTypedSchema"}function T6(t){return!!t&&Yr(t.validate)}function Wpe(t){return t==="checkbox"||t==="radio"}function Ype(t){return fh(t)||Array.isArray(t)}function Gpe(t){return Array.isArray(t)?t.length===0:fh(t)&&Object.keys(t).length===0}function D0(t){return/^\[.+\]$/i.test(t)}function qpe(t){return P6(t)&&t.multiple}function P6(t){return t.tagName==="SELECT"}function Xpe(t){return C6(t)&&t.target&&"submit"in t.target}function C6(t){return t?!!(typeof Event<"u"&&Yr(Event)&&t instanceof Event||t&&t.srcElement):!1}function om(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;var n,i,s;if(Array.isArray(t)){if(n=t.length,n!=e.length)return!1;for(i=n;i--!==0;)if(!om(t[i],e[i]))return!1;return!0}if(t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(i of t.entries())if(!e.has(i[0]))return!1;for(i of t.entries())if(!om(i[1],e.get(i[0])))return!1;return!0}if(sM(t)&&sM(e))return!(t.size!==e.size||t.name!==e.name||t.lastModified!==e.lastModified||t.type!==e.type);if(t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(i of t.entries())if(!e.has(i[0]))return!1;return!0}if(ArrayBuffer.isView(t)&&ArrayBuffer.isView(e)){if(n=t.length,n!=e.length)return!1;for(i=n;i--!==0;)if(t[i]!==e[i])return!1;return!0}if(t.constructor===RegExp)return t.source===e.source&&t.flags===e.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===e.toString();if(s=Object.keys(t),n=s.length-iM(t,s),n!==Object.keys(e).length-iM(e,Object.keys(e)))return!1;for(i=n;i--!==0;)if(!Object.prototype.hasOwnProperty.call(e,s[i]))return!1;for(i=n;i--!==0;){var r=s[i];if(!om(t[r],e[r]))return!1}return!0}return t!==t&&e!==e}function iM(t,e){let n=0;for(let s=e.length;s--!==0;){var i=e[s];t[i]===void 0&&n++}return n}function sM(t){return Hpe?t instanceof File:!1}function FC(t){return D0(t)?t.replace(/\[|\]/gi,""):t}function vo(t,e,n){return t?D0(e)?t[FC(e)]:(e||"").split(/\.|\[(\d+)\]/).filter(Boolean).reduce((s,r)=>Ype(s)&&r in s?s[r]:n,t):n}function lo(t,e,n){if(D0(e)){t[FC(e)]=n;return}const i=e.split(/\.|\[(\d+)\]/).filter(Boolean);let s=t;for(let r=0;r<i.length;r++){if(r===i.length-1){s[i[r]]=n;return}(!(i[r]in s)||k6(s[i[r]]))&&(s[i[r]]=NC(i[r+1])?[]:{}),s=s[i[r]]}}function o1(t,e){if(Array.isArray(t)&&NC(e)){t.splice(Number(e),1);return}fh(t)&&delete t[e]}function rM(t,e){if(D0(e)){delete t[FC(e)];return}const n=e.split(/\.|\[(\d+)\]/).filter(Boolean);let i=t;for(let r=0;r<n.length;r++){if(r===n.length-1){o1(i,n[r]);break}if(!(n[r]in i)||k6(i[n[r]]))break;i=i[n[r]]}const s=n.map((r,a)=>vo(t,n.slice(0,a).join(".")));for(let r=s.length-1;r>=0;r--)if(Gpe(s[r])){if(r===0){o1(t,n[0]);continue}o1(s[r-1],n[r-1])}}function Er(t){return Object.keys(t)}function aM(t,e=0){let n=null,i=[];return function(...s){return n&&clearTimeout(n),n=setTimeout(()=>{const r=t(...s);i.forEach(a=>a(r)),i=[]},e),new Promise(r=>i.push(r))}}function Kpe(t,e){let n;return async function(...s){const r=t(...s);n=r;const a=await r;return r!==n?a:(n=void 0,e(a,s))}}function oM(t){return Array.isArray(t)?t:t?[t]:[]}function Jg(t,e){const n={};for(const i in t)e.includes(i)||(n[i]=t[i]);return n}function Qpe(t){let e=null,n=[];return function(...i){const s=pt(()=>{if(e!==s)return;const r=t(...i);n.forEach(a=>a(r)),n=[],e=null});return e=s,new Promise(r=>n.push(r))}}function l1(t){if(E6(t))return t._value}function E6(t){return"_value"in t}function Jpe(t){return t.type==="number"||t.type==="range"?Number.isNaN(t.valueAsNumber)?t.value:t.valueAsNumber:t.value}function lM(t){if(!C6(t))return t;const e=t.target;if(Wpe(e.type)&&E6(e))return l1(e);if(e.type==="file"&&e.files){const n=Array.from(e.files);return e.multiple?n:n[0]}if(qpe(e))return Array.from(e.options).filter(n=>n.selected&&!n.disabled).map(l1);if(P6(e)){const n=Array.from(e.options).find(i=>i.selected);return n?l1(n):e.value}return Jpe(e)}function Zpe(t){const e={};return Object.defineProperty(e,"_$$isNormalized",{value:!0,writable:!1,enumerable:!1,configurable:!1}),t?fh(t)&&t._$$isNormalized?t:fh(t)?Object.keys(t).reduce((n,i)=>{const s=e_e(t[i]);return t[i]!==!1&&(n[i]=uM(s)),n},e):typeof t!="string"?e:t.split("|").reduce((n,i)=>{const s=t_e(i);return s.name&&(n[s.name]=uM(s.params)),n},e):e}function e_e(t){return t===!0?[]:Array.isArray(t)||fh(t)?t:[t]}function uM(t){const e=n=>typeof n=="string"&&n[0]==="@"?n_e(n.slice(1)):n;return Array.isArray(t)?t.map(e):t instanceof RegExp?[t]:Object.keys(t).reduce((n,i)=>(n[i]=e(t[i]),n),{})}const t_e=t=>{let e=[];const n=t.split(":")[0];return t.includes(":")&&(e=t.split(":").slice(1).join(":").split(",")),{name:n,params:e}};function n_e(t){const e=n=>{var i;return(i=vo(n,t))!==null&&i!==void 0?i:n[t]};return e.__locatorRef=t,e}const i_e={generateMessage:({field:t})=>`${t} is not valid.`,bails:!0,validateOnBlur:!0,validateOnChange:!0,validateOnInput:!1,validateOnModelUpdate:!0};let s_e=Object.assign({},i_e);const Ff=()=>s_e;async function r_e(t,e,n={}){const i=n==null?void 0:n.bails,s={name:(n==null?void 0:n.name)||"{field}",rules:e,label:n==null?void 0:n.label,bails:i??!0,formData:(n==null?void 0:n.values)||{}},r=await a_e(s,t);return Object.assign(Object.assign({},r),{valid:!r.errors.length})}async function a_e(t,e){const n=t.rules;if(bl(n)||T6(n))return l_e(e,Object.assign(Object.assign({},t),{rules:n}));if(Yr(n)||Array.isArray(n)){const o={field:t.label||t.name,name:t.name,label:t.label,form:t.formData,value:e},l=Array.isArray(n)?n:[n],u=l.length,d=[];for(let c=0;c<u;c++){const f=l[c],h=await f(e,o);if(!(typeof h!="string"&&!Array.isArray(h)&&h)){if(Array.isArray(h))d.push(...h);else{const v=typeof h=="string"?h:D6(o);d.push(v)}if(t.bails)return{errors:d}}}return{errors:d}}const i=Object.assign(Object.assign({},t),{rules:Zpe(n)}),s=[],r=Object.keys(i.rules),a=r.length;for(let o=0;o<a;o++){const l=r[o],u=await u_e(i,e,{name:l,params:i.rules[l]});if(u.error&&(s.push(u.error),t.bails))return{errors:s}}return{errors:s}}function o_e(t){return!!t&&t.name==="ValidationError"}function I6(t){return{__type:"VVTypedSchema",async parse(n,i){var s;try{return{output:await t.validate(n,{abortEarly:!1,context:(i==null?void 0:i.formData)||{}}),errors:[]}}catch(r){if(!o_e(r))throw r;if(!(!((s=r.inner)===null||s===void 0)&&s.length)&&r.errors.length)return{errors:[{path:r.path,errors:r.errors}]};const a=r.inner.reduce((o,l)=>{const u=l.path||"";return o[u]||(o[u]={errors:[],path:u}),o[u].errors.push(...l.errors),o},{});return{errors:Object.values(a)}}}}}async function l_e(t,e){const i=await(bl(e.rules)?e.rules:I6(e.rules)).parse(t,{formData:e.formData}),s=[];for(const r of i.errors)r.errors.length&&s.push(...r.errors);return{value:i.value,errors:s}}async function u_e(t,e,n){const i=jpe(n.name);if(!i)throw new Error(`No such validator '${n.name}' exists.`);const s=c_e(n.params,t.formData),r={field:t.label||t.name,name:t.name,label:t.label,value:e,form:t.formData,rule:Object.assign(Object.assign({},n),{params:s})},a=await i(e,s,r);return typeof a=="string"?{error:a}:{error:a?void 0:D6(r)}}function D6(t){const e=Ff().generateMessage;return e?e(t):"Field is invalid"}function c_e(t,e){const n=i=>zpe(i)?i(e):i;return Array.isArray(t)?t.map(n):Object.keys(t).reduce((i,s)=>(i[s]=n(t[s]),i),{})}async function d_e(t,e){const i=await(bl(t)?t:I6(t)).parse(Cn(e),{formData:Cn(e)}),s={},r={};for(const a of i.errors){const o=a.errors,l=(a.path||"").replace(/\["(\d+)"\]/g,(u,d)=>`[${d}]`);s[l]={valid:!o.length,errors:o},o.length&&(r[l]=o[0])}return{valid:!i.errors.length,results:s,errors:r,values:i.value,source:"schema"}}async function h_e(t,e,n){const s=Er(t).map(async u=>{var d,c,f;const h=(d=n==null?void 0:n.names)===null||d===void 0?void 0:d[u],g=await r_e(vo(e,u),t[u],{name:(h==null?void 0:h.name)||u,label:h==null?void 0:h.label,values:e,bails:(f=(c=n==null?void 0:n.bailsMap)===null||c===void 0?void 0:c[u])!==null&&f!==void 0?f:!0});return Object.assign(Object.assign({},g),{path:u})});let r=!0;const a=await Promise.all(s),o={},l={};for(const u of a)o[u.path]={valid:u.valid,errors:u.errors},u.valid||(r=!1,l[u.path]=u.errors[0]);return{valid:r,results:o,errors:l,source:"schema"}}let f_e=0;const Zg=["bails","fieldsCount","id","multiple","type","validate"];function A6(t){const e=(t==null?void 0:t.initialValues)||{},n=Object.assign({},Et(e)),i=ie(t==null?void 0:t.validationSchema);return i&&bl(i)&&Yr(i.cast)?Cn(i.cast(n)||{}):Cn(n)}function Hl(t){var e;const n=f_e++,i=(t==null?void 0:t.name)||"Form";let s=0;const r=Y(!1),a=Y(!1),o=Y(0),l=[],u=vn(A6(t)),d=Y([]),c=Y({}),f=Y({}),h=Qpe(()=>{f.value=d.value.reduce((ae,he)=>(ae[Qg(Et(he.path))]=he,ae),{})});function g(ae,he){const Pe=G(ae);if(!Pe){typeof ae=="string"&&(c.value[Qg(ae)]=oM(he));return}if(typeof ae=="string"){const He=Qg(ae);c.value[He]&&delete c.value[He]}Pe.errors=oM(he),Pe.valid=!Pe.errors.length}function v(ae){Er(ae).forEach(he=>{g(he,ae[he])})}t!=null&&t.initialErrors&&v(t.initialErrors);const p=R(()=>{const ae=d.value.reduce((he,Pe)=>(Pe.errors.length&&(he[Et(Pe.path)]=Pe.errors),he),{});return Object.assign(Object.assign({},c.value),ae)}),_=R(()=>Er(p.value).reduce((ae,he)=>{const Pe=p.value[he];return Pe!=null&&Pe.length&&(ae[he]=Pe[0]),ae},{})),b=R(()=>d.value.reduce((ae,he)=>(ae[Et(he.path)]={name:Et(he.path)||"",label:he.label||""},ae),{})),x=R(()=>d.value.reduce((ae,he)=>{var Pe;return ae[Et(he.path)]=(Pe=he.bails)!==null&&Pe!==void 0?Pe:!0,ae},{})),k=Object.assign({},(t==null?void 0:t.initialErrors)||{}),I=(e=t==null?void 0:t.keepValuesOnUnmount)!==null&&e!==void 0?e:!1,{initialValues:E,originalInitialValues:T,setInitialValues:S}=v_e(d,u,t),w=m_e(d,u,T,_),P=R(()=>d.value.reduce((ae,he)=>{const Pe=vo(u,Et(he.path));return lo(ae,Et(he.path),Pe),ae},{})),C=t==null?void 0:t.validationSchema;function D(ae,he){var Pe,He;const lt=R(()=>vo(E.value,Et(ae))),ut=f.value[Et(ae)],nt=(he==null?void 0:he.type)==="checkbox"||(he==null?void 0:he.type)==="radio";if(ut&&nt){ut.multiple=!0;const pi=s++;return Array.isArray(ut.id)?ut.id.push(pi):ut.id=[ut.id,pi],ut.fieldsCount++,ut.__flags.pendingUnmount[pi]=!1,ut}const nn=R(()=>vo(u,Et(ae))),Xn=Et(ae),Ii=X.findIndex(pi=>pi===Xn);Ii!==-1&&X.splice(Ii,1);const sn=R(()=>{var pi,Xo,Ko,Gc;const to=Et(C);if(bl(to))return(Xo=(pi=to.describe)===null||pi===void 0?void 0:pi.call(to,Et(ae)).required)!==null&&Xo!==void 0?Xo:!1;const qc=Et(he==null?void 0:he.schema);return bl(qc)&&(Gc=(Ko=qc.describe)===null||Ko===void 0?void 0:Ko.call(qc).required)!==null&&Gc!==void 0?Gc:!1}),gi=s++,Li=vn({id:gi,path:ae,touched:!1,pending:!1,valid:!0,validated:!!(!((Pe=k[Xn])===null||Pe===void 0)&&Pe.length),required:sn,initialValue:lt,errors:Me([]),bails:(He=he==null?void 0:he.bails)!==null&&He!==void 0?He:!1,label:he==null?void 0:he.label,type:(he==null?void 0:he.type)||"default",value:nn,multiple:!1,__flags:{pendingUnmount:{[gi]:!1},pendingReset:!1},fieldsCount:1,validate:he==null?void 0:he.validate,dirty:R(()=>!om(ie(nn),ie(lt)))});return d.value.push(Li),f.value[Xn]=Li,h(),_.value[Xn]&&!k[Xn]&&pt(()=>{ke(Xn,{mode:"silent"})}),Je(ae)&&we(ae,pi=>{h();const Xo=Cn(nn.value);f.value[pi]=Li,pt(()=>{lo(u,pi,Xo)})}),Li}const A=aM(Be,5),N=aM(Be,5),B=Kpe(async ae=>await(ae==="silent"?A():N()),(ae,[he])=>{const Pe=Er($.errorBag.value),lt=[...new Set([...Er(ae.results),...d.value.map(ut=>ut.path),...Pe])].sort().reduce((ut,nt)=>{var nn;const Xn=nt,Ii=G(Xn)||z(Xn),sn=((nn=ae.results[Xn])===null||nn===void 0?void 0:nn.errors)||[],gi=Et(Ii==null?void 0:Ii.path)||Xn,Li=g_e({errors:sn,valid:!sn.length},ut.results[gi]);return ut.results[gi]=Li,Li.valid||(ut.errors[gi]=Li.errors[0]),Ii&&c.value[gi]&&delete c.value[gi],Ii?(Ii.valid=Li.valid,he==="silent"||he==="validated-only"&&!Ii.validated||g(Ii,Li.errors),ut):(g(gi,sn),ut)},{valid:ae.valid,results:{},errors:{},source:ae.source});return ae.values&&(lt.values=ae.values,lt.source=ae.source),Er(lt.results).forEach(ut=>{var nt;const nn=G(ut);nn&&he!=="silent"&&(he==="validated-only"&&!nn.validated||g(nn,(nt=lt.results[ut])===null||nt===void 0?void 0:nt.errors))}),lt});function H(ae){d.value.forEach(ae)}function G(ae){const he=typeof ae=="string"?Qg(ae):ae;return typeof he=="string"?f.value[he]:he}function z(ae){return d.value.filter(Pe=>ae.startsWith(Et(Pe.path))).reduce((Pe,He)=>Pe?He.path.length>Pe.path.length?He:Pe:He,void 0)}let X=[],W;function Z(ae){return X.push(ae),W||(W=pt(()=>{[...X].sort().reverse().forEach(Pe=>{rM(u,Pe)}),X=[],W=null})),W}function ee(ae){return function(Pe,He){return function(ut){return ut instanceof Event&&(ut.preventDefault(),ut.stopPropagation()),H(nt=>nt.touched=!0),r.value=!0,o.value++,Ve().then(nt=>{const nn=Cn(u);if(nt.valid&&typeof Pe=="function"){const Xn=Cn(P.value);let Ii=ae?Xn:nn;return nt.values&&(Ii=nt.source==="schema"?nt.values:Object.assign({},Ii,nt.values)),Pe(Ii,{evt:ut,controlledValues:Xn,setErrors:v,setFieldError:g,setTouched:de,setFieldTouched:ye,setValues:ge,setFieldValue:q,resetForm:Se,resetField:ne})}!nt.valid&&typeof He=="function"&&He({values:nn,evt:ut,errors:nt.errors,results:nt.results})}).then(nt=>(r.value=!1,nt),nt=>{throw r.value=!1,nt})}}}const ue=ee(!1);ue.withControlled=ee(!0);function ce(ae,he){const Pe=d.value.findIndex(lt=>lt.path===ae&&(Array.isArray(lt.id)?lt.id.includes(he):lt.id===he)),He=d.value[Pe];if(!(Pe===-1||!He)){if(pt(()=>{ke(ae,{mode:"silent",warn:!1})}),He.multiple&&He.fieldsCount&&He.fieldsCount--,Array.isArray(He.id)){const lt=He.id.indexOf(he);lt>=0&&He.id.splice(lt,1),delete He.__flags.pendingUnmount[he]}(!He.multiple||He.fieldsCount<=0)&&(d.value.splice(Pe,1),Le(ae),h(),delete f.value[ae])}}function se(ae){Er(f.value).forEach(he=>{he.startsWith(ae)&&delete f.value[he]}),d.value=d.value.filter(he=>!he.path.startsWith(ae)),pt(()=>{h()})}const $={name:i,formId:n,values:u,controlledValues:P,errorBag:p,errors:_,schema:C,submitCount:o,meta:w,isSubmitting:r,isValidating:a,fieldArrays:l,keepValuesOnUnmount:I,validateSchema:ie(C)?B:void 0,validate:Ve,setFieldError:g,validateField:ke,setFieldValue:q,setValues:ge,setErrors:v,setFieldTouched:ye,setTouched:de,resetForm:Se,resetField:ne,handleSubmit:ue,useFieldModel:$e,defineInputBinds:Vt,defineComponentBinds:_t,defineField:ze,stageInitialValue:Ce,unsetInitialValue:Le,setFieldInitialValue:Ge,createPathState:D,getPathState:G,unsetPathValue:Z,removePathState:ce,initialValues:E,getAllPathStates:()=>d.value,destroyPath:se,isFieldTouched:L,isFieldDirty:F,isFieldValid:K};function q(ae,he,Pe=!0){const He=Cn(he),lt=typeof ae=="string"?ae:ae.path;G(lt)||D(lt),lo(u,lt,He),Pe&&ke(lt)}function re(ae,he=!0){Er(u).forEach(Pe=>{delete u[Pe]}),Er(ae).forEach(Pe=>{q(Pe,ae[Pe],!1)}),he&&Ve()}function ge(ae,he=!0){sv(u,ae),l.forEach(Pe=>Pe&&Pe.reset()),he&&Ve()}function fe(ae,he){const Pe=G(Et(ae))||D(ae);return R({get(){return Pe.value},set(He){var lt;const ut=Et(ae);q(ut,He,(lt=Et(he))!==null&&lt!==void 0?lt:!1)}})}function ye(ae,he){const Pe=G(ae);Pe&&(Pe.touched=he)}function L(ae){const he=G(ae);return he?he.touched:d.value.filter(Pe=>Pe.path.startsWith(ae)).some(Pe=>Pe.touched)}function F(ae){const he=G(ae);return he?he.dirty:d.value.filter(Pe=>Pe.path.startsWith(ae)).some(Pe=>Pe.dirty)}function K(ae){const he=G(ae);return he?he.valid:d.value.filter(Pe=>Pe.path.startsWith(ae)).every(Pe=>Pe.valid)}function de(ae){if(typeof ae=="boolean"){H(he=>{he.touched=ae});return}Er(ae).forEach(he=>{ye(he,!!ae[he])})}function ne(ae,he){var Pe;const He=he&&"value"in he?he.value:vo(E.value,ae),lt=G(ae);lt&&(lt.__flags.pendingReset=!0),Ge(ae,Cn(He),!0),q(ae,He,!1),ye(ae,(Pe=he==null?void 0:he.touched)!==null&&Pe!==void 0?Pe:!1),g(ae,(he==null?void 0:he.errors)||[]),pt(()=>{lt&&(lt.__flags.pendingReset=!1)})}function Se(ae,he){let Pe=Cn(ae!=null&&ae.values?ae.values:T.value);Pe=he!=null&&he.force?Pe:sv(T.value,Pe),Pe=bl(C)&&Yr(C.cast)?C.cast(Pe):Pe,S(Pe,{force:he==null?void 0:he.force}),H(He=>{var lt;He.__flags.pendingReset=!0,He.validated=!1,He.touched=((lt=ae==null?void 0:ae.touched)===null||lt===void 0?void 0:lt[Et(He.path)])||!1,q(Et(He.path),vo(Pe,Et(He.path)),!1),g(Et(He.path),void 0)}),he!=null&&he.force?re(Pe,!1):ge(Pe,!1),v((ae==null?void 0:ae.errors)||{}),o.value=(ae==null?void 0:ae.submitCount)||0,pt(()=>{Ve({mode:"silent"}),H(He=>{He.__flags.pendingReset=!1})})}async function Ve(ae){const he=(ae==null?void 0:ae.mode)||"force";if(he==="force"&&H(nt=>nt.validated=!0),$.validateSchema)return $.validateSchema(he);a.value=!0;const Pe=await Promise.all(d.value.map(nt=>nt.validate?nt.validate(ae).then(nn=>({key:Et(nt.path),valid:nn.valid,errors:nn.errors,value:nn.value})):Promise.resolve({key:Et(nt.path),valid:!0,errors:[],value:void 0})));a.value=!1;const He={},lt={},ut={};for(const nt of Pe)He[nt.key]={valid:nt.valid,errors:nt.errors},nt.value&&lo(ut,nt.key,nt.value),nt.errors.length&&(lt[nt.key]=nt.errors[0]);return{valid:Pe.every(nt=>nt.valid),results:He,errors:lt,values:ut,source:"fields"}}async function ke(ae,he){var Pe;const He=G(ae);if(He&&(he==null?void 0:he.mode)!=="silent"&&(He.validated=!0),C){const{results:lt}=await B((he==null?void 0:he.mode)||"validated-only");return lt[ae]||{errors:[],valid:!0}}return He!=null&&He.validate?He.validate(he):(!He&&(Pe=he==null?void 0:he.warn),Promise.resolve({errors:[],valid:!0}))}function Le(ae){rM(E.value,ae)}function Ce(ae,he,Pe=!1){Ge(ae,he),lo(u,ae,he),Pe&&!(t!=null&&t.initialValues)&&lo(T.value,ae,Cn(he))}function Ge(ae,he,Pe=!1){lo(E.value,ae,Cn(he)),Pe&&lo(T.value,ae,Cn(he))}async function Be(){const ae=ie(C);if(!ae)return{valid:!0,results:{},errors:{},source:"none"};a.value=!0;const he=T6(ae)||bl(ae)?await d_e(ae,u):await h_e(ae,u,{names:b.value,bailsMap:x.value});return a.value=!1,he}const Ke=ue((ae,{evt:he})=>{Xpe(he)&&he.target.submit()});Pt(()=>{if(t!=null&&t.initialErrors&&v(t.initialErrors),t!=null&&t.initialTouched&&de(t.initialTouched),t!=null&&t.validateOnMount){Ve();return}$.validateSchema&&$.validateSchema("silent")}),Je(C)&&we(C,()=>{var ae;(ae=$.validateSchema)===null||ae===void 0||ae.call($,"validated-only")}),Jt($pe,$);function ze(ae,he){const Pe=Yr(he)||he==null?void 0:he.label,He=G(Et(ae))||D(ae,{label:Pe}),lt=()=>Yr(he)?he(Jg(He,Zg)):he||{};function ut(){var sn;He.touched=!0,((sn=lt().validateOnBlur)!==null&&sn!==void 0?sn:Ff().validateOnBlur)&&ke(Et(He.path))}function nt(){var sn;((sn=lt().validateOnInput)!==null&&sn!==void 0?sn:Ff().validateOnInput)&&pt(()=>{ke(Et(He.path))})}function nn(){var sn;((sn=lt().validateOnChange)!==null&&sn!==void 0?sn:Ff().validateOnChange)&&pt(()=>{ke(Et(He.path))})}const Xn=R(()=>{const sn={onChange:nn,onInput:nt,onBlur:ut};return Yr(he)?Object.assign(Object.assign({},sn),he(Jg(He,Zg)).props||{}):he!=null&&he.props?Object.assign(Object.assign({},sn),he.props(Jg(He,Zg))):sn});return[fe(ae,()=>{var sn,gi,Li;return(Li=(sn=lt().validateOnModelUpdate)!==null&&sn!==void 0?sn:(gi=Ff())===null||gi===void 0?void 0:gi.validateOnModelUpdate)!==null&&Li!==void 0?Li:!0}),Xn]}function $e(ae){return Array.isArray(ae)?ae.map(he=>fe(he,!0)):fe(ae)}function Vt(ae,he){const[Pe,He]=ze(ae,he);function lt(){He.value.onBlur()}function ut(nn){const Xn=lM(nn);q(Et(ae),Xn,!1),He.value.onInput()}function nt(nn){const Xn=lM(nn);q(Et(ae),Xn,!1),He.value.onChange()}return R(()=>Object.assign(Object.assign({},He.value),{onBlur:lt,onInput:ut,onChange:nt,value:Pe.value}))}function _t(ae,he){const[Pe,He]=ze(ae,he),lt=G(Et(ae));function ut(nt){Pe.value=nt}return R(()=>{const nt=Yr(he)?he(Jg(lt,Zg)):he||{};return Object.assign({[nt.model||"modelValue"]:Pe.value,[`onUpdate:${nt.model||"modelValue"}`]:ut},He.value)})}const li=Object.assign(Object.assign({},$),{values:kh(u),handleReset:()=>Se(),submitForm:Ke});return Jt(Upe,li),li}function m_e(t,e,n,i){const s={touched:"some",pending:"some",valid:"every"},r=R(()=>!om(e,ie(n)));function a(){const l=t.value;return Er(s).reduce((u,d)=>{const c=s[d];return u[d]=l[c](f=>f[d]),u},{})}const o=vn(a());return yn(()=>{const l=a();o.touched=l.touched,o.valid=l.valid,o.pending=l.pending}),R(()=>Object.assign(Object.assign({initialValues:ie(n)},o),{valid:o.valid&&!Er(i.value).length,dirty:r.value}))}function v_e(t,e,n){const i=A6(n),s=Y(i),r=Y(Cn(i));function a(o,l){l!=null&&l.force?(s.value=Cn(o),r.value=Cn(o)):(s.value=sv(Cn(s.value)||{},Cn(o)),r.value=sv(Cn(r.value)||{},Cn(o))),l!=null&&l.updateFields&&t.value.forEach(u=>{if(u.touched)return;const c=vo(s.value,Et(u.path));lo(e,Et(u.path),Cn(c))})}return{initialValues:s,originalInitialValues:r,setInitialValues:a}}function g_e(t,e){return e?{valid:t.valid&&e.valid,errors:[...t.errors,...e.errors]}:t}function p_e(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Wc(t){this._maxSize=t,this.clear()}Wc.prototype.clear=function(){this._size=0,this._values=Object.create(null)};Wc.prototype.get=function(t){return this._values[t]};Wc.prototype.set=function(t,e){return this._size>=this._maxSize&&this.clear(),t in this._values||this._size++,this._values[t]=e};var __e=/[^.^\]^[]+|(?=\[\]|\.\.)/g,O6=/^\d+$/,y_e=/^\d/,b_e=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,w_e=/^\s*(['"]?)(.*?)(\1)\s*$/,BC=512,cM=new Wc(BC),dM=new Wc(BC),hM=new Wc(BC),Gu={Cache:Wc,split:YS,normalizePath:u1,setter:function(t){var e=u1(t);return dM.get(t)||dM.set(t,function(i,s){for(var r=0,a=e.length,o=i;r<a-1;){var l=e[r];if(l==="__proto__"||l==="constructor"||l==="prototype")return i;o=o[e[r++]]}o[e[r]]=s})},getter:function(t,e){var n=u1(t);return hM.get(t)||hM.set(t,function(s){for(var r=0,a=n.length;r<a;)if(s!=null||!e)s=s[n[r++]];else return;return s})},join:function(t){return t.reduce(function(e,n){return e+(jC(n)||O6.test(n)?"["+n+"]":(e?".":"")+n)},"")},forEach:function(t,e,n){x_e(Array.isArray(t)?t:YS(t),e,n)}};function u1(t){return cM.get(t)||cM.set(t,YS(t).map(function(e){return e.replace(w_e,"$2")}))}function YS(t){return t.match(__e)||[""]}function x_e(t,e,n){var i=t.length,s,r,a,o;for(r=0;r<i;r++)s=t[r],s&&(T_e(s)&&(s='"'+s+'"'),o=jC(s),a=!o&&/^\d+$/.test(s),e.call(n,s,o,a,r,t))}function jC(t){return typeof t=="string"&&t&&["'",'"'].indexOf(t.charAt(0))!==-1}function S_e(t){return t.match(y_e)&&!t.match(O6)}function k_e(t){return b_e.test(t)}function T_e(t){return!jC(t)&&(S_e(t)||k_e(t))}const P_e=/[A-Z\xc0-\xd6\xd8-\xde]?[a-z\xdf-\xf6\xf8-\xff]+(?:['](?:d|ll|m|re|s|t|ve))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde]|$)|(?:[A-Z\xc0-\xd6\xd8-\xde]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['](?:D|LL|M|RE|S|T|VE))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde](?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])|$)|[A-Z\xc0-\xd6\xd8-\xde]?(?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['](?:d|ll|m|re|s|t|ve))?|[A-Z\xc0-\xd6\xd8-\xde]+(?:['](?:D|LL|M|RE|S|T|VE))?|\d*(?:1ST|2ND|3RD|(?![123])\dTH)(?=\b|[a-z_])|\d*(?:1st|2nd|3rd|(?![123])\dth)(?=\b|[A-Z_])|\d+|(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g,A0=t=>t.match(P_e)||[],O0=t=>t[0].toUpperCase()+t.slice(1),$C=(t,e)=>A0(t).join(e).toLowerCase(),R6=t=>A0(t).reduce((e,n)=>`${e}${e?n[0].toUpperCase()+n.slice(1).toLowerCase():n.toLowerCase()}`,""),C_e=t=>O0(R6(t)),E_e=t=>$C(t,"_"),I_e=t=>$C(t,"-"),D_e=t=>O0($C(t," ")),A_e=t=>A0(t).map(O0).join(" ");var c1={words:A0,upperFirst:O0,camelCase:R6,pascalCase:C_e,snakeCase:E_e,kebabCase:I_e,sentenceCase:D_e,titleCase:A_e},UC={exports:{}};UC.exports=function(t){return M6(O_e(t),t)};UC.exports.array=M6;function M6(t,e){var n=t.length,i=new Array(n),s={},r=n,a=R_e(e),o=M_e(t);for(e.forEach(function(u){if(!o.has(u[0])||!o.has(u[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")});r--;)s[r]||l(t[r],r,new Set);return i;function l(u,d,c){if(c.has(u)){var f;try{f=", node was:"+JSON.stringify(u)}catch{f=""}throw new Error("Cyclic dependency"+f)}if(!o.has(u))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(u));if(!s[d]){s[d]=!0;var h=a.get(u)||new Set;if(h=Array.from(h),d=h.length){c.add(u);do{var g=h[--d];l(g,o.get(g),c)}while(d);c.delete(u)}i[--n]=u}}}function O_e(t){for(var e=new Set,n=0,i=t.length;n<i;n++){var s=t[n];e.add(s[0]),e.add(s[1])}return Array.from(e)}function R_e(t){for(var e=new Map,n=0,i=t.length;n<i;n++){var s=t[n];e.has(s[0])||e.set(s[0],new Set),e.has(s[1])||e.set(s[1],new Set),e.get(s[0]).add(s[1])}return e}function M_e(t){for(var e=new Map,n=0,i=t.length;n<i;n++)e.set(t[n],n);return e}var V_e=UC.exports;const L_e=p_e(V_e),N_e=Object.prototype.toString,F_e=Error.prototype.toString,B_e=RegExp.prototype.toString,j_e=typeof Symbol<"u"?Symbol.prototype.toString:()=>"",$_e=/^Symbol\((.*)\)(.*)$/;function U_e(t){return t!=+t?"NaN":t===0&&1/t<0?"-0":""+t}function fM(t,e=!1){if(t==null||t===!0||t===!1)return""+t;const n=typeof t;if(n==="number")return U_e(t);if(n==="string")return e?`"${t}"`:t;if(n==="function")return"[Function "+(t.name||"anonymous")+"]";if(n==="symbol")return j_e.call(t).replace($_e,"Symbol($1)");const i=N_e.call(t).slice(8,-1);return i==="Date"?isNaN(t.getTime())?""+t:t.toISOString(t):i==="Error"||t instanceof Error?"["+F_e.call(t)+"]":i==="RegExp"?B_e.call(t):null}function ko(t,e){let n=fM(t,e);return n!==null?n:JSON.stringify(t,function(i,s){let r=fM(this[i],e);return r!==null?r:s},2)}function V6(t){return t==null?[]:[].concat(t)}let L6,N6,F6,H_e=/\$\{\s*(\w+)\s*\}/g;L6=Symbol.toStringTag;class mM{constructor(e,n,i,s){this.name=void 0,this.message=void 0,this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=void 0,this.inner=void 0,this[L6]="Error",this.name="ValidationError",this.value=n,this.path=i,this.type=s,this.errors=[],this.inner=[],V6(e).forEach(r=>{if(qs.isError(r)){this.errors.push(...r.errors);const a=r.inner.length?r.inner:[r];this.inner.push(...a)}else this.errors.push(r)}),this.message=this.errors.length>1?`${this.errors.length} errors occurred`:this.errors[0]}}N6=Symbol.hasInstance;F6=Symbol.toStringTag;class qs extends Error{static formatError(e,n){const i=n.label||n.path||"this";return i!==n.path&&(n=Object.assign({},n,{path:i})),typeof e=="string"?e.replace(H_e,(s,r)=>ko(n[r])):typeof e=="function"?e(n):e}static isError(e){return e&&e.name==="ValidationError"}constructor(e,n,i,s,r){const a=new mM(e,n,i,s);if(r)return a;super(),this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=[],this.inner=[],this[F6]="Error",this.name=a.name,this.message=a.message,this.type=a.type,this.value=a.value,this.path=a.path,this.errors=a.errors,this.inner=a.inner,Error.captureStackTrace&&Error.captureStackTrace(this,qs)}static[N6](e){return mM[Symbol.hasInstance](e)||super[Symbol.hasInstance](e)}}let ka={default:"${path} is invalid",required:"${path} is a required field",defined:"${path} must be defined",notNull:"${path} cannot be null",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:({path:t,type:e,value:n,originalValue:i})=>{const s=i!=null&&i!==n?` (cast from the value \`${ko(i,!0)}\`).`:".";return e!=="mixed"?`${t} must be a \`${e}\` type, but the final value was: \`${ko(n,!0)}\``+s:`${t} must match the configured type. The validated value was: \`${ko(n,!0)}\``+s}},Hs={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",datetime:"${path} must be a valid ISO date-time",datetime_precision:"${path} must be a valid ISO date-time with a sub-second precision of exactly ${precision} digits",datetime_offset:'${path} must be a valid ISO date-time with UTC "Z" timezone',trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},rl={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},GS={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},qS={isValue:"${path} field must be ${value}"},XS={noUnknown:"${path} field has unspecified keys: ${unknown}"},$p={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"},z_e={notType:t=>{const{path:e,value:n,spec:i}=t,s=i.types.length;if(Array.isArray(n)){if(n.length<s)return`${e} tuple value has too few items, expected a length of ${s} but got ${n.length} for value: \`${ko(n,!0)}\``;if(n.length>s)return`${e} tuple value has too many items, expected a length of ${s} but got ${n.length} for value: \`${ko(n,!0)}\``}return qs.formatError(ka.notType,t)}};Object.assign(Object.create(null),{mixed:ka,string:Hs,number:rl,date:GS,object:XS,array:$p,boolean:qS,tuple:z_e});const R0=t=>t&&t.__isYupSchema__;class ry{static fromOptions(e,n){if(!n.then&&!n.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");let{is:i,then:s,otherwise:r}=n,a=typeof i=="function"?i:(...o)=>o.every(l=>l===i);return new ry(e,(o,l)=>{var u;let d=a(...o)?s:r;return(u=d==null?void 0:d(l))!=null?u:l})}constructor(e,n){this.fn=void 0,this.refs=e,this.refs=e,this.fn=n}resolve(e,n){let i=this.refs.map(r=>r.getValue(n==null?void 0:n.value,n==null?void 0:n.parent,n==null?void 0:n.context)),s=this.fn(i,e,n);if(s===void 0||s===e)return e;if(!R0(s))throw new TypeError("conditions must return a schema object");return s.resolve(n)}}const ep={context:"$",value:"."};function W_e(t,e){return new ou(t,e)}class ou{constructor(e,n={}){if(this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,typeof e!="string")throw new TypeError("ref must be a string, got: "+e);if(this.key=e.trim(),e==="")throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===ep.context,this.isValue=this.key[0]===ep.value,this.isSibling=!this.isContext&&!this.isValue;let i=this.isContext?ep.context:this.isValue?ep.value:"";this.path=this.key.slice(i.length),this.getter=this.path&&Gu.getter(this.path,!0),this.map=n.map}getValue(e,n,i){let s=this.isContext?i:this.isValue?e:n;return this.getter&&(s=this.getter(s||{})),this.map&&(s=this.map(s)),s}cast(e,n){return this.getValue(e,n==null?void 0:n.parent,n==null?void 0:n.context)}resolve(){return this}describe(){return{type:"ref",key:this.key}}toString(){return`Ref(${this.key})`}static isRef(e){return e&&e.__isYupRef}}ou.prototype.__isYupRef=!0;const Zr=t=>t==null;function rd(t){function e({value:n,path:i="",options:s,originalValue:r,schema:a},o,l){const{name:u,test:d,params:c,message:f,skipAbsent:h}=t;let{parent:g,context:v,abortEarly:p=a.spec.abortEarly,disableStackTrace:_=a.spec.disableStackTrace}=s;function b(C){return ou.isRef(C)?C.getValue(n,g,v):C}function x(C={}){const D=Object.assign({value:n,originalValue:r,label:a.spec.label,path:C.path||i,spec:a.spec,disableStackTrace:C.disableStackTrace||_},c,C.params);for(const N of Object.keys(D))D[N]=b(D[N]);const A=new qs(qs.formatError(C.message||f,D),n,D.path,C.type||u,D.disableStackTrace);return A.params=D,A}const k=p?o:l;let I={path:i,parent:g,type:u,from:s.from,createError:x,resolve:b,options:s,originalValue:r,schema:a};const E=C=>{qs.isError(C)?k(C):C?l(null):k(x())},T=C=>{qs.isError(C)?k(C):o(C)};if(h&&Zr(n))return E(!0);let w;try{var P;if(w=d.call(I,n,I),typeof((P=w)==null?void 0:P.then)=="function"){if(s.sync)throw new Error(`Validation test of type: "${I.type}" returned a Promise during a synchronous validate. This test will finish after the validate call has returned`);return Promise.resolve(w).then(E,T)}}catch(C){T(C);return}E(w)}return e.OPTIONS=t,e}function Y_e(t,e,n,i=n){let s,r,a;return e?(Gu.forEach(e,(o,l,u)=>{let d=l?o.slice(1,o.length-1):o;t=t.resolve({context:i,parent:s,value:n});let c=t.type==="tuple",f=u?parseInt(d,10):0;if(t.innerType||c){if(c&&!u)throw new Error(`Yup.reach cannot implicitly index into a tuple type. the path part "${a}" must contain an index to the tuple element, e.g. "${a}[0]"`);if(n&&f>=n.length)throw new Error(`Yup.reach cannot resolve an array item at index: ${o}, in the path: ${e}. because there is no value at that index. `);s=n,n=n&&n[f],t=c?t.spec.types[f]:t.innerType}if(!u){if(!t.fields||!t.fields[d])throw new Error(`The schema does not contain the path: ${e}. (failed at: ${a} which is a type: "${t.type}")`);s=n,n=n&&n[d],t=t.fields[d]}r=d,a=l?"["+o+"]":"."+o}),{schema:t,parent:s,parentPath:r}):{parent:s,parentPath:e,schema:t}}class ay extends Set{describe(){const e=[];for(const n of this.values())e.push(ou.isRef(n)?n.describe():n);return e}resolveAll(e){let n=[];for(const i of this.values())n.push(e(i));return n}clone(){return new ay(this.values())}merge(e,n){const i=this.clone();return e.forEach(s=>i.add(s)),n.forEach(s=>i.delete(s)),i}}function xd(t,e=new Map){if(R0(t)||!t||typeof t!="object")return t;if(e.has(t))return e.get(t);let n;if(t instanceof Date)n=new Date(t.getTime()),e.set(t,n);else if(t instanceof RegExp)n=new RegExp(t),e.set(t,n);else if(Array.isArray(t)){n=new Array(t.length),e.set(t,n);for(let i=0;i<t.length;i++)n[i]=xd(t[i],e)}else if(t instanceof Map){n=new Map,e.set(t,n);for(const[i,s]of t.entries())n.set(i,xd(s,e))}else if(t instanceof Set){n=new Set,e.set(t,n);for(const i of t)n.add(xd(i,e))}else if(t instanceof Object){n={},e.set(t,n);for(const[i,s]of Object.entries(t))n[i]=xd(s,e)}else throw Error(`Unable to clone ${t}`);return n}class wr{constructor(e){this.type=void 0,this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this.internalTests={},this._whitelist=new ay,this._blacklist=new ay,this.exclusiveTests=Object.create(null),this._typeCheck=void 0,this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation(()=>{this.typeError(ka.notType)}),this.type=e.type,this._typeCheck=e.check,this.spec=Object.assign({strip:!1,strict:!1,abortEarly:!0,recursive:!0,disableStackTrace:!1,nullable:!1,optional:!0,coerce:!0},e==null?void 0:e.spec),this.withMutation(n=>{n.nonNullable()})}get _type(){return this.type}clone(e){if(this._mutate)return e&&Object.assign(this.spec,e),this;const n=Object.create(Object.getPrototypeOf(this));return n.type=this.type,n._typeCheck=this._typeCheck,n._whitelist=this._whitelist.clone(),n._blacklist=this._blacklist.clone(),n.internalTests=Object.assign({},this.internalTests),n.exclusiveTests=Object.assign({},this.exclusiveTests),n.deps=[...this.deps],n.conditions=[...this.conditions],n.tests=[...this.tests],n.transforms=[...this.transforms],n.spec=xd(Object.assign({},this.spec,e)),n}label(e){let n=this.clone();return n.spec.label=e,n}meta(...e){if(e.length===0)return this.spec.meta;let n=this.clone();return n.spec.meta=Object.assign(n.spec.meta||{},e[0]),n}withMutation(e){let n=this._mutate;this._mutate=!0;let i=e(this);return this._mutate=n,i}concat(e){if(!e||e===this)return this;if(e.type!==this.type&&this.type!=="mixed")throw new TypeError(`You cannot \`concat()\` schema's of different types: ${this.type} and ${e.type}`);let n=this,i=e.clone();const s=Object.assign({},n.spec,i.spec);return i.spec=s,i.internalTests=Object.assign({},n.internalTests,i.internalTests),i._whitelist=n._whitelist.merge(e._whitelist,e._blacklist),i._blacklist=n._blacklist.merge(e._blacklist,e._whitelist),i.tests=n.tests,i.exclusiveTests=n.exclusiveTests,i.withMutation(r=>{e.tests.forEach(a=>{r.test(a.OPTIONS)})}),i.transforms=[...n.transforms,...i.transforms],i}isType(e){return e==null?!!(this.spec.nullable&&e===null||this.spec.optional&&e===void 0):this._typeCheck(e)}resolve(e){let n=this;if(n.conditions.length){let i=n.conditions;n=n.clone(),n.conditions=[],n=i.reduce((s,r)=>r.resolve(s,e),n),n=n.resolve(e)}return n}resolveOptions(e){var n,i,s,r;return Object.assign({},e,{from:e.from||[],strict:(n=e.strict)!=null?n:this.spec.strict,abortEarly:(i=e.abortEarly)!=null?i:this.spec.abortEarly,recursive:(s=e.recursive)!=null?s:this.spec.recursive,disableStackTrace:(r=e.disableStackTrace)!=null?r:this.spec.disableStackTrace})}cast(e,n={}){let i=this.resolve(Object.assign({value:e},n)),s=n.assert==="ignore-optionality",r=i._cast(e,n);if(n.assert!==!1&&!i.isType(r)){if(s&&Zr(r))return r;let a=ko(e),o=ko(r);throw new TypeError(`The value of ${n.path||"field"} could not be cast to a value that satisfies the schema type: "${i.type}". 

attempted value: ${a} 
`+(o!==a?`result of cast: ${o}`:""))}return r}_cast(e,n){let i=e===void 0?e:this.transforms.reduce((s,r)=>r.call(this,s,e,this),e);return i===void 0&&(i=this.getDefault(n)),i}_validate(e,n={},i,s){let{path:r,originalValue:a=e,strict:o=this.spec.strict}=n,l=e;o||(l=this._cast(l,Object.assign({assert:!1},n)));let u=[];for(let d of Object.values(this.internalTests))d&&u.push(d);this.runTests({path:r,value:l,originalValue:a,options:n,tests:u},i,d=>{if(d.length)return s(d,l);this.runTests({path:r,value:l,originalValue:a,options:n,tests:this.tests},i,s)})}runTests(e,n,i){let s=!1,{tests:r,value:a,originalValue:o,path:l,options:u}=e,d=v=>{s||(s=!0,n(v,a))},c=v=>{s||(s=!0,i(v,a))},f=r.length,h=[];if(!f)return c([]);let g={value:a,originalValue:o,path:l,options:u,schema:this};for(let v=0;v<r.length;v++){const p=r[v];p(g,d,function(b){b&&(Array.isArray(b)?h.push(...b):h.push(b)),--f<=0&&c(h)})}}asNestedTest({key:e,index:n,parent:i,parentPath:s,originalParent:r,options:a}){const o=e??n;if(o==null)throw TypeError("Must include `key` or `index` for nested validations");const l=typeof o=="number";let u=i[o];const d=Object.assign({},a,{strict:!0,parent:i,value:u,originalValue:r[o],key:void 0,[l?"index":"key"]:o,path:l||o.includes(".")?`${s||""}[${l?o:`"${o}"`}]`:(s?`${s}.`:"")+e});return(c,f,h)=>this.resolve(d)._validate(u,d,f,h)}validate(e,n){var i;let s=this.resolve(Object.assign({},n,{value:e})),r=(i=n==null?void 0:n.disableStackTrace)!=null?i:s.spec.disableStackTrace;return new Promise((a,o)=>s._validate(e,n,(l,u)=>{qs.isError(l)&&(l.value=u),o(l)},(l,u)=>{l.length?o(new qs(l,u,void 0,void 0,r)):a(u)}))}validateSync(e,n){var i;let s=this.resolve(Object.assign({},n,{value:e})),r,a=(i=n==null?void 0:n.disableStackTrace)!=null?i:s.spec.disableStackTrace;return s._validate(e,Object.assign({},n,{sync:!0}),(o,l)=>{throw qs.isError(o)&&(o.value=l),o},(o,l)=>{if(o.length)throw new qs(o,e,void 0,void 0,a);r=l}),r}isValid(e,n){return this.validate(e,n).then(()=>!0,i=>{if(qs.isError(i))return!1;throw i})}isValidSync(e,n){try{return this.validateSync(e,n),!0}catch(i){if(qs.isError(i))return!1;throw i}}_getDefault(e){let n=this.spec.default;return n==null?n:typeof n=="function"?n.call(this,e):xd(n)}getDefault(e){return this.resolve(e||{})._getDefault(e)}default(e){return arguments.length===0?this._getDefault():this.clone({default:e})}strict(e=!0){return this.clone({strict:e})}nullability(e,n){const i=this.clone({nullable:e});return i.internalTests.nullable=rd({message:n,name:"nullable",test(s){return s===null?this.schema.spec.nullable:!0}}),i}optionality(e,n){const i=this.clone({optional:e});return i.internalTests.optionality=rd({message:n,name:"optionality",test(s){return s===void 0?this.schema.spec.optional:!0}}),i}optional(){return this.optionality(!0)}defined(e=ka.defined){return this.optionality(!1,e)}nullable(){return this.nullability(!0)}nonNullable(e=ka.notNull){return this.nullability(!1,e)}required(e=ka.required){return this.clone().withMutation(n=>n.nonNullable(e).defined(e))}notRequired(){return this.clone().withMutation(e=>e.nullable().optional())}transform(e){let n=this.clone();return n.transforms.push(e),n}test(...e){let n;if(e.length===1?typeof e[0]=="function"?n={test:e[0]}:n=e[0]:e.length===2?n={name:e[0],test:e[1]}:n={name:e[0],message:e[1],test:e[2]},n.message===void 0&&(n.message=ka.default),typeof n.test!="function")throw new TypeError("`test` is a required parameters");let i=this.clone(),s=rd(n),r=n.exclusive||n.name&&i.exclusiveTests[n.name]===!0;if(n.exclusive&&!n.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return n.name&&(i.exclusiveTests[n.name]=!!n.exclusive),i.tests=i.tests.filter(a=>!(a.OPTIONS.name===n.name&&(r||a.OPTIONS.test===s.OPTIONS.test))),i.tests.push(s),i}when(e,n){!Array.isArray(e)&&typeof e!="string"&&(n=e,e=".");let i=this.clone(),s=V6(e).map(r=>new ou(r));return s.forEach(r=>{r.isSibling&&i.deps.push(r.key)}),i.conditions.push(typeof n=="function"?new ry(s,n):ry.fromOptions(s,n)),i}typeError(e){let n=this.clone();return n.internalTests.typeError=rd({message:e,name:"typeError",skipAbsent:!0,test(i){return this.schema._typeCheck(i)?!0:this.createError({params:{type:this.schema.type}})}}),n}oneOf(e,n=ka.oneOf){let i=this.clone();return e.forEach(s=>{i._whitelist.add(s),i._blacklist.delete(s)}),i.internalTests.whiteList=rd({message:n,name:"oneOf",skipAbsent:!0,test(s){let r=this.schema._whitelist,a=r.resolveAll(this.resolve);return a.includes(s)?!0:this.createError({params:{values:Array.from(r).join(", "),resolved:a}})}}),i}notOneOf(e,n=ka.notOneOf){let i=this.clone();return e.forEach(s=>{i._blacklist.add(s),i._whitelist.delete(s)}),i.internalTests.blacklist=rd({message:n,name:"notOneOf",test(s){let r=this.schema._blacklist,a=r.resolveAll(this.resolve);return a.includes(s)?this.createError({params:{values:Array.from(r).join(", "),resolved:a}}):!0}}),i}strip(e=!0){let n=this.clone();return n.spec.strip=e,n}describe(e){const n=(e?this.resolve(e):this).clone(),{label:i,meta:s,optional:r,nullable:a}=n.spec;return{meta:s,label:i,optional:r,nullable:a,default:n.getDefault(e),type:n.type,oneOf:n._whitelist.describe(),notOneOf:n._blacklist.describe(),tests:n.tests.map(l=>({name:l.OPTIONS.name,params:l.OPTIONS.params})).filter((l,u,d)=>d.findIndex(c=>c.name===l.name)===u)}}}wr.prototype.__isYupSchema__=!0;for(const t of["validate","validateSync"])wr.prototype[`${t}At`]=function(e,n,i={}){const{parent:s,parentPath:r,schema:a}=Y_e(this,e,n,i.context);return a[t](s&&s[r],Object.assign({},i,{parent:s,path:e}))};for(const t of["equals","is"])wr.prototype[t]=wr.prototype.oneOf;for(const t of["not","nope"])wr.prototype[t]=wr.prototype.notOneOf;function oy(){return new B6}class B6 extends wr{constructor(){super({type:"boolean",check(e){return e instanceof Boolean&&(e=e.valueOf()),typeof e=="boolean"}}),this.withMutation(()=>{this.transform((e,n,i)=>{if(i.spec.coerce&&!i.isType(e)){if(/^(true|1)$/i.test(String(e)))return!0;if(/^(false|0)$/i.test(String(e)))return!1}return e})})}isTrue(e=qS.isValue){return this.test({message:e,name:"is-value",exclusive:!0,params:{value:"true"},test(n){return Zr(n)||n===!0}})}isFalse(e=qS.isValue){return this.test({message:e,name:"is-value",exclusive:!0,params:{value:"false"},test(n){return Zr(n)||n===!1}})}default(e){return super.default(e)}defined(e){return super.defined(e)}optional(){return super.optional()}required(e){return super.required(e)}notRequired(){return super.notRequired()}nullable(){return super.nullable()}nonNullable(e){return super.nonNullable(e)}strip(e){return super.strip(e)}}oy.prototype=B6.prototype;const G_e=/^(\d{4}|[+-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,.](\d{1,}))?)?(?:(Z)|([+-])(\d{2})(?::?(\d{2}))?)?)?$/;function q_e(t){const e=KS(t);if(!e)return Date.parse?Date.parse(t):Number.NaN;if(e.z===void 0&&e.plusMinus===void 0)return new Date(e.year,e.month,e.day,e.hour,e.minute,e.second,e.millisecond).valueOf();let n=0;return e.z!=="Z"&&e.plusMinus!==void 0&&(n=e.hourOffset*60+e.minuteOffset,e.plusMinus==="+"&&(n=0-n)),Date.UTC(e.year,e.month,e.day,e.hour,e.minute+n,e.second,e.millisecond)}function KS(t){var e,n;const i=G_e.exec(t);return i?{year:oo(i[1]),month:oo(i[2],1)-1,day:oo(i[3],1),hour:oo(i[4]),minute:oo(i[5]),second:oo(i[6]),millisecond:i[7]?oo(i[7].substring(0,3)):0,precision:(e=(n=i[7])==null?void 0:n.length)!=null?e:void 0,z:i[8]||void 0,plusMinus:i[9]||void 0,hourOffset:oo(i[10]),minuteOffset:oo(i[11])}:null}function oo(t,e=0){return Number(t)||e}let X_e=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,K_e=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,Q_e=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,J_e="^\\d{4}-\\d{2}-\\d{2}",Z_e="\\d{2}:\\d{2}:\\d{2}",eye="(([+-]\\d{2}(:?\\d{2})?)|Z)",tye=new RegExp(`${J_e}T${Z_e}(\\.\\d+)?${eye}$`),nye=t=>Zr(t)||t===t.trim(),iye={}.toString();function Fn(){return new j6}class j6 extends wr{constructor(){super({type:"string",check(e){return e instanceof String&&(e=e.valueOf()),typeof e=="string"}}),this.withMutation(()=>{this.transform((e,n,i)=>{if(!i.spec.coerce||i.isType(e)||Array.isArray(e))return e;const s=e!=null&&e.toString?e.toString():e;return s===iye?e:s})})}required(e){return super.required(e).withMutation(n=>n.test({message:e||ka.required,name:"required",skipAbsent:!0,test:i=>!!i.length}))}notRequired(){return super.notRequired().withMutation(e=>(e.tests=e.tests.filter(n=>n.OPTIONS.name!=="required"),e))}length(e,n=Hs.length){return this.test({message:n,name:"length",exclusive:!0,params:{length:e},skipAbsent:!0,test(i){return i.length===this.resolve(e)}})}min(e,n=Hs.min){return this.test({message:n,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(i){return i.length>=this.resolve(e)}})}max(e,n=Hs.max){return this.test({name:"max",exclusive:!0,message:n,params:{max:e},skipAbsent:!0,test(i){return i.length<=this.resolve(e)}})}matches(e,n){let i=!1,s,r;return n&&(typeof n=="object"?{excludeEmptyString:i=!1,message:s,name:r}=n:s=n),this.test({name:r||"matches",message:s||Hs.matches,params:{regex:e},skipAbsent:!0,test:a=>a===""&&i||a.search(e)!==-1})}email(e=Hs.email){return this.matches(X_e,{name:"email",message:e,excludeEmptyString:!0})}url(e=Hs.url){return this.matches(K_e,{name:"url",message:e,excludeEmptyString:!0})}uuid(e=Hs.uuid){return this.matches(Q_e,{name:"uuid",message:e,excludeEmptyString:!1})}datetime(e){let n="",i,s;return e&&(typeof e=="object"?{message:n="",allowOffset:i=!1,precision:s=void 0}=e:n=e),this.matches(tye,{name:"datetime",message:n||Hs.datetime,excludeEmptyString:!0}).test({name:"datetime_offset",message:n||Hs.datetime_offset,params:{allowOffset:i},skipAbsent:!0,test:r=>{if(!r||i)return!0;const a=KS(r);return a?!!a.z:!1}}).test({name:"datetime_precision",message:n||Hs.datetime_precision,params:{precision:s},skipAbsent:!0,test:r=>{if(!r||s==null)return!0;const a=KS(r);return a?a.precision===s:!1}})}ensure(){return this.default("").transform(e=>e===null?"":e)}trim(e=Hs.trim){return this.transform(n=>n!=null?n.trim():n).test({message:e,name:"trim",test:nye})}lowercase(e=Hs.lowercase){return this.transform(n=>Zr(n)?n:n.toLowerCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:n=>Zr(n)||n===n.toLowerCase()})}uppercase(e=Hs.uppercase){return this.transform(n=>Zr(n)?n:n.toUpperCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:n=>Zr(n)||n===n.toUpperCase()})}}Fn.prototype=j6.prototype;let sye=t=>t!=+t;function lm(){return new $6}class $6 extends wr{constructor(){super({type:"number",check(e){return e instanceof Number&&(e=e.valueOf()),typeof e=="number"&&!sye(e)}}),this.withMutation(()=>{this.transform((e,n,i)=>{if(!i.spec.coerce)return e;let s=e;if(typeof s=="string"){if(s=s.replace(/\s/g,""),s==="")return NaN;s=+s}return i.isType(s)||s===null?s:parseFloat(s)})})}min(e,n=rl.min){return this.test({message:n,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(i){return i>=this.resolve(e)}})}max(e,n=rl.max){return this.test({message:n,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(i){return i<=this.resolve(e)}})}lessThan(e,n=rl.lessThan){return this.test({message:n,name:"max",exclusive:!0,params:{less:e},skipAbsent:!0,test(i){return i<this.resolve(e)}})}moreThan(e,n=rl.moreThan){return this.test({message:n,name:"min",exclusive:!0,params:{more:e},skipAbsent:!0,test(i){return i>this.resolve(e)}})}positive(e=rl.positive){return this.moreThan(0,e)}negative(e=rl.negative){return this.lessThan(0,e)}integer(e=rl.integer){return this.test({name:"integer",message:e,skipAbsent:!0,test:n=>Number.isInteger(n)})}truncate(){return this.transform(e=>Zr(e)?e:e|0)}round(e){var n;let i=["ceil","floor","round","trunc"];if(e=((n=e)==null?void 0:n.toLowerCase())||"round",e==="trunc")return this.truncate();if(i.indexOf(e.toLowerCase())===-1)throw new TypeError("Only valid options for round() are: "+i.join(", "));return this.transform(s=>Zr(s)?s:Math[e](s))}}lm.prototype=$6.prototype;let U6=new Date(""),rye=t=>Object.prototype.toString.call(t)==="[object Date]";function Il(){return new og}class og extends wr{constructor(){super({type:"date",check(e){return rye(e)&&!isNaN(e.getTime())}}),this.withMutation(()=>{this.transform((e,n,i)=>!i.spec.coerce||i.isType(e)||e===null?e:(e=q_e(e),isNaN(e)?og.INVALID_DATE:new Date(e)))})}prepareParam(e,n){let i;if(ou.isRef(e))i=e;else{let s=this.cast(e);if(!this._typeCheck(s))throw new TypeError(`\`${n}\` must be a Date or a value that can be \`cast()\` to a Date`);i=s}return i}min(e,n=GS.min){let i=this.prepareParam(e,"min");return this.test({message:n,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(s){return s>=this.resolve(i)}})}max(e,n=GS.max){let i=this.prepareParam(e,"max");return this.test({message:n,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(s){return s<=this.resolve(i)}})}}og.INVALID_DATE=U6;Il.prototype=og.prototype;Il.INVALID_DATE=U6;function aye(t,e=[]){let n=[],i=new Set,s=new Set(e.map(([a,o])=>`${a}-${o}`));function r(a,o){let l=Gu.split(a)[0];i.add(l),s.has(`${o}-${l}`)||n.push([o,l])}for(const a of Object.keys(t)){let o=t[a];i.add(a),ou.isRef(o)&&o.isSibling?r(o.path,a):R0(o)&&"deps"in o&&o.deps.forEach(l=>r(l,a))}return L_e.array(Array.from(i),n).reverse()}function vM(t,e){let n=1/0;return t.some((i,s)=>{var r;if((r=e.path)!=null&&r.includes(i))return n=s,!0}),n}function H6(t){return(e,n)=>vM(t,e)-vM(t,n)}const z6=(t,e,n)=>{if(typeof t!="string")return t;let i=t;try{i=JSON.parse(t)}catch{}return n.isType(i)?i:t};function Up(t){if("fields"in t){const e={};for(const[n,i]of Object.entries(t.fields))e[n]=Up(i);return t.setFields(e)}if(t.type==="array"){const e=t.optional();return e.innerType&&(e.innerType=Up(e.innerType)),e}return t.type==="tuple"?t.optional().clone({types:t.spec.types.map(Up)}):"optional"in t?t.optional():t}const oye=(t,e)=>{const n=[...Gu.normalizePath(e)];if(n.length===1)return n[0]in t;let i=n.pop(),s=Gu.getter(Gu.join(n),!0)(t);return!!(s&&i in s)};let gM=t=>Object.prototype.toString.call(t)==="[object Object]";function lye(t,e){let n=Object.keys(t.fields);return Object.keys(e).filter(i=>n.indexOf(i)===-1)}const uye=H6([]);function ra(t){return new W6(t)}class W6 extends wr{constructor(e){super({type:"object",check(n){return gM(n)||typeof n=="function"}}),this.fields=Object.create(null),this._sortErrors=uye,this._nodes=[],this._excludedEdges=[],this.withMutation(()=>{e&&this.shape(e)})}_cast(e,n={}){var i;let s=super._cast(e,n);if(s===void 0)return this.getDefault(n);if(!this._typeCheck(s))return s;let r=this.fields,a=(i=n.stripUnknown)!=null?i:this.spec.noUnknown,o=[].concat(this._nodes,Object.keys(s).filter(c=>!this._nodes.includes(c))),l={},u=Object.assign({},n,{parent:l,__validating:n.__validating||!1}),d=!1;for(const c of o){let f=r[c],h=c in s;if(f){let g,v=s[c];u.path=(n.path?`${n.path}.`:"")+c,f=f.resolve({value:v,context:n.context,parent:l});let p=f instanceof wr?f.spec:void 0,_=p==null?void 0:p.strict;if(p!=null&&p.strip){d=d||c in s;continue}g=!n.__validating||!_?f.cast(s[c],u):s[c],g!==void 0&&(l[c]=g)}else h&&!a&&(l[c]=s[c]);(h!==c in l||l[c]!==s[c])&&(d=!0)}return d?l:s}_validate(e,n={},i,s){let{from:r=[],originalValue:a=e,recursive:o=this.spec.recursive}=n;n.from=[{schema:this,value:a},...r],n.__validating=!0,n.originalValue=a,super._validate(e,n,i,(l,u)=>{if(!o||!gM(u)){s(l,u);return}a=a||u;let d=[];for(let c of this._nodes){let f=this.fields[c];!f||ou.isRef(f)||d.push(f.asNestedTest({options:n,key:c,parent:u,parentPath:n.path,originalParent:a}))}this.runTests({tests:d,value:u,originalValue:a,options:n},i,c=>{s(c.sort(this._sortErrors).concat(l),u)})})}clone(e){const n=super.clone(e);return n.fields=Object.assign({},this.fields),n._nodes=this._nodes,n._excludedEdges=this._excludedEdges,n._sortErrors=this._sortErrors,n}concat(e){let n=super.concat(e),i=n.fields;for(let[s,r]of Object.entries(this.fields)){const a=i[s];i[s]=a===void 0?r:a}return n.withMutation(s=>s.setFields(i,[...this._excludedEdges,...e._excludedEdges]))}_getDefault(e){if("default"in this.spec)return super._getDefault(e);if(!this._nodes.length)return;let n={};return this._nodes.forEach(i=>{var s;const r=this.fields[i];let a=e;(s=a)!=null&&s.value&&(a=Object.assign({},a,{parent:a.value,value:a.value[i]})),n[i]=r&&"getDefault"in r?r.getDefault(a):void 0}),n}setFields(e,n){let i=this.clone();return i.fields=e,i._nodes=aye(e,n),i._sortErrors=H6(Object.keys(e)),n&&(i._excludedEdges=n),i}shape(e,n=[]){return this.clone().withMutation(i=>{let s=i._excludedEdges;return n.length&&(Array.isArray(n[0])||(n=[n]),s=[...i._excludedEdges,...n]),i.setFields(Object.assign(i.fields,e),s)})}partial(){const e={};for(const[n,i]of Object.entries(this.fields))e[n]="optional"in i&&i.optional instanceof Function?i.optional():i;return this.setFields(e)}deepPartial(){return Up(this)}pick(e){const n={};for(const i of e)this.fields[i]&&(n[i]=this.fields[i]);return this.setFields(n,this._excludedEdges.filter(([i,s])=>e.includes(i)&&e.includes(s)))}omit(e){const n=[];for(const i of Object.keys(this.fields))e.includes(i)||n.push(i);return this.pick(n)}from(e,n,i){let s=Gu.getter(e,!0);return this.transform(r=>{if(!r)return r;let a=r;return oye(r,e)&&(a=Object.assign({},r),i||delete a[e],a[n]=s(r)),a})}json(){return this.transform(z6)}noUnknown(e=!0,n=XS.noUnknown){typeof e!="boolean"&&(n=e,e=!0);let i=this.test({name:"noUnknown",exclusive:!0,message:n,test(s){if(s==null)return!0;const r=lye(this.schema,s);return!e||r.length===0||this.createError({params:{unknown:r.join(", ")}})}});return i.spec.noUnknown=e,i}unknown(e=!0,n=XS.noUnknown){return this.noUnknown(!e,n)}transformKeys(e){return this.transform(n=>{if(!n)return n;const i={};for(const s of Object.keys(n))i[e(s)]=n[s];return i})}camelCase(){return this.transformKeys(c1.camelCase)}snakeCase(){return this.transformKeys(c1.snakeCase)}constantCase(){return this.transformKeys(e=>c1.snakeCase(e).toUpperCase())}describe(e){const n=(e?this.resolve(e):this).clone(),i=super.describe(e);i.fields={};for(const[r,a]of Object.entries(n.fields)){var s;let o=e;(s=o)!=null&&s.value&&(o=Object.assign({},o,{parent:o.value,value:o.value[r]})),i.fields[r]=a.describe(o)}return i}}ra.prototype=W6.prototype;function HC(t){return new Y6(t)}class Y6 extends wr{constructor(e){super({type:"array",spec:{types:e},check(n){return Array.isArray(n)}}),this.innerType=void 0,this.innerType=e}_cast(e,n){const i=super._cast(e,n);if(!this._typeCheck(i)||!this.innerType)return i;let s=!1;const r=i.map((a,o)=>{const l=this.innerType.cast(a,Object.assign({},n,{path:`${n.path||""}[${o}]`}));return l!==a&&(s=!0),l});return s?r:i}_validate(e,n={},i,s){var r;let a=this.innerType,o=(r=n.recursive)!=null?r:this.spec.recursive;n.originalValue!=null&&n.originalValue,super._validate(e,n,i,(l,u)=>{var d;if(!o||!a||!this._typeCheck(u)){s(l,u);return}let c=new Array(u.length);for(let h=0;h<u.length;h++){var f;c[h]=a.asNestedTest({options:n,index:h,parent:u,parentPath:n.path,originalParent:(f=n.originalValue)!=null?f:e})}this.runTests({value:u,tests:c,originalValue:(d=n.originalValue)!=null?d:e,options:n},i,h=>s(h.concat(l),u))})}clone(e){const n=super.clone(e);return n.innerType=this.innerType,n}json(){return this.transform(z6)}concat(e){let n=super.concat(e);return n.innerType=this.innerType,e.innerType&&(n.innerType=n.innerType?n.innerType.concat(e.innerType):e.innerType),n}of(e){let n=this.clone();if(!R0(e))throw new TypeError("`array.of()` sub-schema must be a valid yup schema not: "+ko(e));return n.innerType=e,n.spec=Object.assign({},n.spec,{types:e}),n}length(e,n=$p.length){return this.test({message:n,name:"length",exclusive:!0,params:{length:e},skipAbsent:!0,test(i){return i.length===this.resolve(e)}})}min(e,n){return n=n||$p.min,this.test({message:n,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(i){return i.length>=this.resolve(e)}})}max(e,n){return n=n||$p.max,this.test({message:n,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(i){return i.length<=this.resolve(e)}})}ensure(){return this.default(()=>[]).transform((e,n)=>this._typeCheck(e)?e:n==null?[]:[].concat(n))}compact(e){let n=e?(i,s,r)=>!e(i,s,r):i=>!!i;return this.transform(i=>i!=null?i.filter(n):i)}describe(e){const n=(e?this.resolve(e):this).clone(),i=super.describe(e);if(n.innerType){var s;let r=e;(s=r)!=null&&s.value&&(r=Object.assign({},r,{parent:r.value,value:r.value[0]})),i.innerType=n.innerType.describe(r)}return i}}HC.prototype=Y6.prototype;const ly=Tt({__name:"StudentEditor",props:{school:{},initialStudent:{},edit:{type:Boolean},focus:{},disableFields:{}},emits:["close","save"],setup(t,{emit:e}){const n=t,i=e,s=Y(),r=Y([]),a=Y(!1),o=Y(!1);let l=!1;we(()=>n.initialStudent,()=>se()),we(()=>n.school,()=>$());const u=ra({name:Fn().required("Il Nome  obbligatorio").min(1).label("Nome"),surname:Fn().required("Il Cognome  obbligatorio").min(1).label("Cognome"),contact:Fn().label("Contatto").nullable().optional(),lessonDay:Fn().label("Giono di Lezione").nullable().optional(),level:Fn().required("Il Livello  obbligatorio").label("Livello"),minutesLessonDuration:lm().required("La Durata della Lezione  obbligatoria").min(1).label("Durata della Lezione"),trial:oy().label("Lezione di Prova"),isSubstitution:oy().label("Supplenza"),note:Fn().label("Note"),from:Il().label("Da").nullable().optional().test({test:(ye,L)=>(console.log(W.value,ye),!!(W.value&&ye)),message:"La data di inizio  obbligatoria",exclusive:!1,skipAbsent:!0,name:"conditionalFrom"}),to:Il().label("A")}),{defineField:d,handleSubmit:c}=Hl({validationSchema:u}),f=ye=>({props:{"error-messages":ye.errors}}),[h,g]=d("name",f),[v,p]=d("surname",f),[_,b]=d("contact",f),[x,k]=d("lessonDay",f),[I,E]=d("level",f),[T,S]=d("minutesLessonDuration",f),[w,P]=d("trial",f),[C,D]=d("isSubstitution",f),[A,N]=d("note",f),[B,H]=d("from",f),[G,z]=d("to",f),X=R(()=>{var ye,L,F,K;return w.value?(L=(ye=n.initialStudent)==null?void 0:ye.trial)!=null&&L.dailyLessonDate?`Lezione di prova: fatta in data ${rt.fromIyyyyMMdd((K=(F=n.initialStudent)==null?void 0:F.trial)==null?void 0:K.dailyLessonDate).format()}`:"Lezione di prova: fatta":"Lezione di prova: da fare"}),W=R(()=>{var ye;return I.value!=((ye=n.initialStudent)==null?void 0:ye.level)});we(I,ce);const Z=c(async ye=>{re(ye)},ye=>{et.warn("Ci sono alcuni errori! Inserisci correttamente i dati"),console.log(ye)});function ee(ye){var L;return(L=n.disableFields)==null?void 0:L.includes(ye)}function le(ye){return n.focus==ye}function ue(){o.value=!o.value}function ce(){var ye;if(l){l=!1;return}if(o.value||ue(),!B.value){let L=new Date;if(n.initialStudent){const F=(ye=n.initialStudent)==null?void 0:ye.levelHistory;F&&F.length>=1?L=F[0].to?rt.fromIyyyyMMdd(F[0].to).toDate():new Date:L=J_(n.initialStudent.createdAt)}B.value=L}}function se(){var ye,L;if(n.initialStudent){const F=JSON.parse(JSON.stringify(n.initialStudent));h.value=F.name,v.value=F.surname,I.value=F.level,T.value=F.minutesLessonDuration,_.value=F.contact??"",A.value=((ye=F.note)==null?void 0:ye.text)??"",w.value=((L=F.trial)==null?void 0:L.done)??!1,C.value=F.isSubstitution??!1,F.lessonDay&&(x.value=Vs[F.lessonDay]),l=!0}}function $(){s.value=n.school,r.value=s.value.levelRanges.flatMap(ye=>ye.levels)}function q(){h.value=Ki.word(),v.value=Ki.word(),I.value=Ki.item(r.value),x.value=Ki.item(Vs),C.value=Ki.bool(),w.value=Ki.bool(),T.value=Ki.int(30,150),_.value=Ki.word(),A.value=Ki.text()}async function re(ye){var K,de,ne,Se,Ve,ke,Le,Ce,Ge;a.value=!0;const L=ge(),F={name:ye.name,surname:ye.surname,schoolId:s.value.id,createdAt:n.edit?n.initialStudent.createdAt:At.now(),updatedAt:At.now(),minutesLessonDuration:ye.minutesLessonDuration,isSubstitution:ye.isSubstitution??!1,level:ye.level,levelHistory:L};_.value&&_.value.trim().length!=0&&(F.contact=_.value.trim()),x.value&&(F.lessonDay=Vs.indexOf(x.value)),A.value&&A.value.trim().length!=0?F.note={text:A.value.trim(),updatedAt:At.now()}:delete F.note,w.value?(F.trial={done:!0},(de=(K=n.initialStudent)==null?void 0:K.trial)!=null&&de.dailyLessonDate&&(F.trial.dailyLessonDate=(Se=(ne=n.initialStudent)==null?void 0:ne.trial)==null?void 0:Se.dailyLessonDate),(ke=(Ve=n.initialStudent)==null?void 0:Ve.trial)!=null&&ke.dailyLessonId&&(F.trial.dailyLessonId=(Ce=(Le=n.initialStudent)==null?void 0:Le.trial)==null?void 0:Ce.dailyLessonId)):delete F.trial;try{n.edit&&((Ge=n.initialStudent)==null?void 0:Ge.id)!=null?(await Ys.instance.save(F,n.initialStudent.id),et.success("Studente Aggiornato")):(await Ys.instance.save(F),et.success("Studente Creato")),i("save",F)}catch(Be){i("save"),et.error("Errore durante il salvataggio"),console.error("Error adding document (schools): ",Be)}finally{a.value=!1}}function ge(){var L;const ye=((L=n.initialStudent)==null?void 0:L.levelHistory)??[];if(W.value){ye!=null&&ye[0]&&!ye[0].to&&(ye[0].to=rt.fromDate(B.value).toIyyyyMMdd());const F={level:I.value,from:rt.fromDate(B.value).toIyyyyMMdd()};G.value&&(F.to=rt.fromDate(G.value).toIyyyyMMdd()),ye.push(F),ye.sort((K,de)=>{if(!K.to&&de.to)return-1;if(K.to&&!de.to)return 1;if(K.to&&de.to){if(K.to!==de.to)return-K.to.localeCompare(de.to);if(K.from&&de.from)return de.from.localeCompare(K.from)}return 0})}return ye}function fe(){if(!n.focus)return;const ye=document.getElementById("std_"+n.focus);ye==null||ye.scrollIntoView({block:"start",behavior:"smooth"})}return Pt(()=>{fe(),se(),$()}),(ye,L)=>{const F=j("v-text-field"),K=j("v-col"),de=j("v-btn"),ne=j("v-fab-transition"),Se=j("v-select"),Ve=j("v-date-input"),ke=j("v-row"),Le=j("v-table"),Ce=j("v-expand-transition"),Ge=j("v-number-input"),Be=j("v-switch"),Ke=j("v-textarea"),ze=j("v-card-text"),$e=j("v-divider"),Vt=j("v-spacer"),_t=j("v-card-actions"),li=j("v-card");return be(),De(li,{"prepend-icon":"mdi-school",title:`Studente (${ye.school.name})`},{default:M(()=>[m(ze,null,{default:M(()=>[m(ke,{dense:""},{default:M(()=>[m(K,{cols:"12",md:"6"},{default:M(()=>[m(F,J({id:"std_name",disabled:ee("name"),focused:le("name"),modelValue:ie(h),"onUpdate:modelValue":L[0]||(L[0]=ae=>Je(h)?h.value=ae:null)},ie(g),{label:"Nome"}),null,16,["disabled","focused","modelValue"])]),_:1}),m(K,{cols:"12",md:"6"},{default:M(()=>[m(F,J({id:"std_surname",disabled:ee("surname"),focused:le("surname"),modelValue:ie(v),"onUpdate:modelValue":L[1]||(L[1]=ae=>Je(v)?v.value=ae:null)},ie(p),{label:"Cognome"}),null,16,["disabled","focused","modelValue"])]),_:1}),m(K,{cols:"12",md:"6"},{default:M(()=>[m(F,J({id:"std_contact",disabled:ee("contact"),focused:le("contact"),modelValue:ie(_),"onUpdate:modelValue":L[2]||(L[2]=ae=>Je(_)?_.value=ae:null)},ie(b),{label:"Contatto"}),null,16,["disabled","focused","modelValue"])]),_:1}),m(K,{cols:"12",md:"6"},{default:M(()=>[m(Se,J({id:"std_level",disabled:ee("level"),focused:le("level"),modelValue:ie(I),"onUpdate:modelValue":L[3]||(L[3]=ae=>Je(I)?I.value=ae:null)},ie(E),{items:r.value,label:"Livello"}),{append:M(()=>[m(ne,null,{default:M(()=>[o.value?(be(),De(de,{key:0,icon:"mdi-chevron-up",onClick:ue})):(be(),De(de,{key:1,icon:"mdi-chevron-down",onClick:ue}))]),_:1})]),_:1},16,["disabled","focused","modelValue","items"])]),_:1}),m(Ce,{mode:"out-in"},{default:M(()=>[o.value?(be(),De(K,{key:0,style:{padding:"0px!important"},cols:"12",md:"12"},{default:M(()=>{var ae;return[m(ke,{class:"mb-4 mx-2 justify-center"},{default:M(()=>[m(K,{cols:"12",md:"6"},{default:M(()=>[m(Ve,J({modelValue:ie(B),"onUpdate:modelValue":L[4]||(L[4]=he=>Je(B)?B.value=he:null)},ie(H),{label:"Da",disabled:!W.value,inputmode:"none"}),null,16,["modelValue","disabled"])]),_:1}),m(K,{cols:"12",md:"6"},{default:M(()=>[m(Ve,J({modelValue:ie(G),"onUpdate:modelValue":L[5]||(L[5]=he=>Je(G)?G.value=he:null)},ie(z),{label:"A",disabled:!W.value,hint:"Il campo  opzionale",inputmode:"none","persistent-hint":""}),null,16,["modelValue","disabled"])]),_:1})]),_:1}),(ae=ye.initialStudent)!=null&&ae.levelHistory?(be(),De(ke,{key:0,class:"mx-2 my-2"},{default:M(()=>[m(K,null,{default:M(()=>[m(Le,{density:"compact"},{default:M(()=>{var he;return[L[12]||(L[12]=Re("thead",null,[Re("tr",null,[Re("th",{class:"text-left font-weight-bold"}," Livello "),Re("th",{class:"text-left font-weight-bold"}," Da "),Re("th",{class:"text-left font-weight-bold"}," A ")])],-1)),Re("tbody",null,[(be(!0),wt(Ie,null,Si((he=ye.initialStudent)==null?void 0:he.levelHistory,Pe=>{var He;return be(),wt("tr",{key:Pe.level},[Re("td",null,at(Pe.level),1),Re("td",null,at(Pe.from?ie(rt).fromIyyyyMMdd(Pe.from).format():ie(dh)(ie(J_)((He=ye.initialStudent)==null?void 0:He.createdAt))),1),Re("td",null,at(Pe.to?ie(rt).fromIyyyyMMdd(Pe.to).format():"In corso"),1)])}),128))])]}),_:1})]),_:1})]),_:1})):Yt("",!0)]}),_:1})):Yt("",!0)]),_:1}),m(K,{cols:"12",md:"6"},{default:M(()=>[m(Se,J({id:"std_lessonDay",disabled:ee("lessonDay"),focused:le("lessonDay"),modelValue:ie(x),"onUpdate:modelValue":L[6]||(L[6]=ae=>Je(x)?x.value=ae:null)},ie(k),{items:ie(Vs),label:"Giorno della Lezione",clearable:""}),null,16,["disabled","focused","modelValue","items"])]),_:1}),m(K,{cols:"12",md:"6"},{default:M(()=>[m(Ge,J({id:"std_minutesLessonDuration",disabled:ee("minutesLessonDuration"),focused:le("minutesLessonDuration"),modelValue:ie(T),"onUpdate:modelValue":L[7]||(L[7]=ae=>Je(T)?T.value=ae:null)},ie(S),{reverse:!1,controlVariant:"default",label:"Durata della Lezione",suffix:"min",hideInput:!1,inset:!1,min:1}),null,16,["disabled","focused","modelValue"])]),_:1}),m(K,{cols:"12",md:"6"},{default:M(()=>[m(Be,J({label:X.value,modelValue:ie(w),"onUpdate:modelValue":L[8]||(L[8]=ae=>Je(w)?w.value=ae:null)},ie(P),{color:"primary","hide-details":""}),null,16,["label","modelValue"])]),_:1}),m(K,{cols:"12",md:"6"},{default:M(()=>[m(Be,J({label:"Supplenza",modelValue:ie(C),"onUpdate:modelValue":L[9]||(L[9]=ae=>Je(C)?C.value=ae:null)},ie(D),{color:"primary","hide-details":""}),null,16,["modelValue"])]),_:1}),m(K,{cols:"12",md:"12"},{default:M(()=>[m(Ke,J({id:"std_note",disabled:ee("note"),focused:le("note"),modelValue:ie(A),"onUpdate:modelValue":L[10]||(L[10]=ae=>Je(A)?A.value=ae:null)},ie(N),{label:"Note",counter:""}),null,16,["disabled","focused","modelValue"])]),_:1})]),_:1})]),_:1}),m($e),m(_t,null,{default:M(()=>[m(Vt),ie(Lpe)?(be(),De(de,{key:0,text:"Random",variant:"plain",onClick:q})):Yt("",!0),m(de,{text:"Chiudi",variant:"plain",onClick:L[11]||(L[11]=ae=>i("close"))}),m(de,{color:"primary",loading:a.value,disabled:a.value,text:ye.edit?"Salva Modifiche":"Crea",variant:"tonal",onClick:ie(Z)},null,8,["loading","disabled","text","onClick"])]),_:1})]),_:1},8,["title"])}}}),Vy=class Vy{static get instance(){return this._instance||(this._instance=new Vy),this._instance}async getStudentsOfSchool(e){const n=Wn(Ln("schoolId"),"==",e);return Ys.instance.getAll(n)}observeStudentsOfSchool(e){const n=Wn(Ln("schoolId"),"==",e);return Ys.instance.observeAll(n)}async getStudentsOfSchoolWithIds(e,n){if(n.length==0)return[];const i=Wn(Ln("schoolId"),"==",e),s=Wn(eee(),"in",n);return Ys.instance.getAll(i,s)}async setTrialDone(e,n,i){var r;const s=await Ys.instance.get(e.id);return s?((r=s.trial)!=null&&r.done||(s.trial={done:!0},n&&(s.trial.dailyLessonDate=n),i&&(s.trial.dailyLessonId=i),await Ys.instance.save(s,s.id)),s):e}async unsetTrial(e){const n=await Ys.instance.get(e.id);return n?(n.trial&&(delete n.trial,await Ys.instance.save(n,n.id)),n):e}getLevelByDate(e,n){let i=e.level;if(e.levelHistory){const s=e.levelHistory.find(r=>{r.from>=n&&n>(r.to??rt.today().toIyyyyMMdd())});i=(s==null?void 0:s.level)??i}return i}};on(Vy,"_instance",null);let _r=Vy;const Ly=class Ly{static get instance(){return this._instance||(this._instance=new Ly),this._instance}async computeSalary(e,n,i){const s=await wi.instance.getDailyLessonOfSchoolBetweenDate(e.id,n,i);return this.computeSalaryOfDailyLessons(s)}async computeSalaryOfDailyLessons(e){const n=[];return e.forEach(i=>{const s=i.lessons.filter(a=>a.status==Mt.PRESENT).length,r=i.lessons.filter(a=>a.status==Mt.ABSENT).length;n.push({dailyLessonId:i.id,date:i.date,lastUpdate:i.lastSalaryUpdate,salary:i.salary,presents:s,absents:r})}),n}computeSalaryByStudentLesson(e,n,i){var r;if(!e)return 0;if(e.salaryStrategy==Gm.ABSENT_AND_PRESENT&&(n.status==Mt.PRESENT||n.status==Mt.ABSENT||n.status==Mt.UNJUSTIFIED_ABSENCE)||e.salaryStrategy==Gm.ONLY_PRESENT&&n.status==Mt.PRESENT||e.trialLessonPaymentStrategy!=Bd.NOTHING&&n.status==Mt.TRIAL){const a=_r.instance.getLevelByDate(n,i),o=(r=e.levelRanges.find(l=>l.levels.includes(a)))==null?void 0:r.price;if(o!=null){const l=o*((n.endTime-n.startTime)/60);return n.status==Mt.TRIAL&&e.trialLessonPaymentStrategy==Bd.HALF?l/2:l}}return 0}};on(Ly,"_instance",null);let rv=Ly;const Ny=class Ny extends ag{constructor(){super(e=>rg(Qh.RECOVERY_LESSONS,e))}static get instance(){return this._instance||(this._instance=new Ny),this._instance}};on(Ny,"_instance",null);let go=Ny;var Hp=(t=>(t[t.SET_PRESENT=0]="SET_PRESENT",t[t.SET_ABSENT=1]="SET_ABSENT",t[t.RESET=2]="RESET",t))(Hp||{});const Du=class Du{static get instance(){return this._instance||(this._instance=new Du),this._instance}async computeDailyLessons(e){const n=Array.from(new Set(e.recoveries.flatMap(d=>{var c;return[d.originalLesson.dailyLessonId,(c=d.recoveryLesson)==null?void 0:c.dailyLessonId]}).filter(Boolean))),s=(await Promise.all(n.map(d=>Rt.instance.get(d)))).filter(Boolean),r=await _r.instance.getStudentsOfSchool(e.schoolId),a=[],o=[],l=[],u=(d,c,f,h,g)=>{f.push({...d,...c,...h,recoveryStatus:g})};return e.recoveries.forEach(d=>{const{originalLesson:c,recoveryLesson:f,status:h}=d,g=s.find(_=>_.id===c.dailyLessonId),v=f?s.find(_=>_.id===f.dailyLessonId):void 0;if(!g){console.warn("Unable to load original daily lesson of a recovery...");return}const p={originalDailyLesson:g,recoveryDailyLesson:v};g.lessons.forEach(_=>{if(_.lessonId!==c.lessonId)return;const b=r.find(x=>x.id===_.studentId);b&&(v?h!=null?u(_,b,l,p,h):u(_,b,o,p):u(_,b,a,p))})}),{recoveryMap:[{type:"unset",recoveries:a},{type:"pending",recoveries:o},{type:"done",recoveries:l}],schoolId:e.schoolId}}async getOrCreate(e){const n=await go.instance.getDoc(e);if(n.exists())return n.data();const i={recoveries:[],schoolId:e};return await go.instance.save(i,e),i}getRecoveryType(e){return!e.status&&!e.recoveryLesson?0:!e.status&&e.recoveryLesson?1:2}addRecoveryByType(e,n,i,s){let r=e.recoveries.findIndex(o=>o.originalLesson.dailyLessonId==n.dailyLessonId&&o.originalLesson.lessonId==n.lessonId);r==-1&&(e.recoveries.push({originalLesson:n}),r=e.recoveries.length-1);const a=e.recoveries[r];i==0?a.originalLesson=s:i==1?a.recoveryLesson=s:a.status=s}removeRecoveryByType(e,n,i){const s=e.recoveries.findIndex(r=>r.originalLesson.dailyLessonId==n.dailyLessonId&&r.originalLesson.lessonId==n.lessonId);if(s!=-1){if(i==0)return e.recoveries.splice(s,1),!0;if(i==1){if(e.recoveries[s].recoveryLesson)return delete e.recoveries[s].recoveryLesson,!0}else if(e.recoveries[s].status)return delete e.recoveries[s].status,!0}return!1}async updateRecovery(e,n,...i){var r;const s=await Du.instance.getOrCreate(n);for await(const a of i){const o=((r=a.recovery)==null?void 0:r.ref)=="original",l=o?{dailyLessonId:a.recovery.lessonRef.dailyLessonId,lessonId:a.recovery.lessonRef.lessonId}:{dailyLessonId:a.dailyLessonId,lessonId:a.lessonId};if(e==0)if(!o)this.removeRecoveryByType(s,l,0);else{const u=Mt.PRESENT;this.addRecoveryByType(s,l,2,u)}else if(e==1)if(o){const u={...l};this.removeRecoveryByType(s,l,1),this.addRecoveryByType(s,l,0,u);const d=l.lessonId,c=await Rt.instance.get(l.dailyLessonId);await wi.instance.moveRecoveryRefToUndoneList(c,d)}else{const u={...l};this.addRecoveryByType(s,l,0,u)}else if(e==2){if(!o)this.removeRecoveryByType(s,l,0);else if(!this.removeRecoveryByType(s,l,2)){const d={dailyLessonId:a.dailyLessonId,lessonId:a.lessonId};this.addRecoveryByType(s,l,1,d);const c=l.lessonId,f=a.lessonId,h={lessonRef:{...l},ref:"original"},g={lessonRef:{...d},ref:"recovery"},v=await Rt.instance.get(l.dailyLessonId),p=await Rt.instance.get(a.dailyLessonId);await wi.instance.addRecoveryRef(v,c,g),await wi.instance.addRecoveryRef(p,f,h)}}}go.instance.save(s,n)}async scheduleRecovery(e,n){const i=await Du.instance.getOrCreate(e.schoolId),s=await wi.instance.createRecoveryLesson(n),r=await Rt.instance.getDoc(e.originalDailyLesson.id);if(r.exists()){const l=r.data(),u=l.lessons.find(d=>d.lessonId==e.lessonId);u&&(u.recovery={ref:"recovery",lessonRef:{dailyLessonId:s.dailyLessonId,lessonId:s.lessonId}},await Rt.instance.save(l,l.id))}else console.warn("");const a={dailyLessonId:e.originalDailyLesson.id,lessonId:e.lessonId},o={dailyLessonId:s.dailyLessonId,lessonId:s.lessonId};this.addRecoveryByType(i,a,1,o),go.instance.save(i,e.schoolId)}async cancelRecovery(e,n){var c,f,h,g,v,p;if(!e.recoveryDailyLesson)return;const i=await Du.instance.getOrCreate(e.schoolId);let s,r;const a=[];((c=e.recovery)==null?void 0:c.ref)=="recovery"?(s=e.recovery.lessonRef,r=(h=(f=e.recoveryDailyLesson.lessons.find(_=>_.lessonId==(s==null?void 0:s.lessonId)))==null?void 0:f.recovery)==null?void 0:h.lessonRef):((g=e.recovery)==null?void 0:g.ref)=="original"&&(r=e.recovery.lessonRef,s=(p=(v=e.originalDailyLesson.lessons.find(_=>_.lessonId==(r==null?void 0:r.lessonId)))==null?void 0:v.recovery)==null?void 0:p.lessonRef);const o=await Rt.instance.get(e.recoveryDailyLesson.id),l=o==null?void 0:o.lessons.findIndex(_=>_.lessonId==(s==null?void 0:s.lessonId));await wi.instance.deleteLesson(o,l);const u=await Rt.instance.get(e.originalDailyLesson.id),d=u==null?void 0:u.lessons.findIndex(_=>_.lessonId==(r==null?void 0:r.lessonId));u&&d!=null&&d!=-1&&(delete u.lessons[d].recovery,await Rt.instance.save(u,u.id)),r&&(a.push(2,1),n&&a.push(0),a.forEach(_=>this.removeRecoveryByType(i,r,_)),await go.instance.save(i,e.schoolId))}};on(Du,"_instance",null);let To=Du;const Fy=class Fy{static get instance(){return this._instance||(this._instance=new Fy),this._instance}async getStudentLesson(e,n){n??(n=e.lessons.map(s=>s.studentId));const i=await _r.instance.getStudentsOfSchoolWithIds(e.schoolId,n);return e.lessons.map(s=>{const r=i.find(a=>a.id==s.studentId);return{...s,...r}})}};on(Fy,"_instance",null);let av=Fy;const By=class By{static get instance(){return this._instance||(this._instance=new By),this._instance}async getWeeklyLessonOfSchool(e){const n=Wn(Ln("schoolId"),"==",e);return sa.instance.getAll(n)}async getWeeklyLessonOfSchoolByDayBetweenDate(e,n,i){const s=Wn(Ln("schoolId"),"==",e),r=Wn(Ln("dayOfWeek"),"==",n),a=Wn(Ln("from"),"<=",i),o=Wn(Ln("to"),">=",i);return sa.instance.getAll(s,r,a,o)}observeWeekLessonOfSchool(e){const n=Wn(Ln("schoolId"),"==",e),i=QB(Ln("dayOfWeek"));return sa.instance.observeAll(n,i)}isValid(e,n){return e.dayOfWeek==Xle(n)&&e.from<n&&n<e.to&&!e.exclude.includes(n)}};on(By,"_instance",null);let Po=By;const Pd=class Pd{static get instance(){return this._instance||(this._instance=new Pd),this._instance}async getDailyLessonOfSchoolByDate(e,n){const i=Wn(Ln("schoolId"),"==",e),s=Wn(Ln("date"),"==",n);return Rt.instance.getAll(i,s)}async getDailyLessonOfSchoolFromDate(e,n,i){const s=[],r=Wn(Ln("schoolId"),"==",e),a=Wn(Ln("date"),">=",n);return s.push(r,a),i&&s.push(QB(Ln("date"),i)),Rt.instance.getAll(...s)}async getDailyLessonOfSchoolBetweenDate(e,n,i){const s=Wn(Ln("schoolId"),"==",e),r=Wn(Ln("date"),">=",n),a=Wn(Ln("date"),"<=",i);return await Rt.instance.getAll(s,r,a)}async delete(e){const i=(await Po.instance.getWeeklyLessonOfSchool(e.schoolId)).find(s=>Po.instance.isValid(s,e.date));return i?(i.exclude.push(e.date),await sa.instance.save(i,i.id),!0):(await Rt.instance.delete(e.id),!1)}async getOrCreateDailyLessonId(e,n){return n instanceof Date?this.createDailyLessonByDate(e,n):this.handleLessonProjection(e,n)}async handleLessonProjection(e,n){if(!n.dailyLessonId){const i=this.buildDailyLessonFromProjection(e,n);return Rt.instance.save(i)}return n.dailyLessonId}buildDailyLessonFromProjection(e,n){return{date:n.date.toIyyyyMMdd(),schoolId:e,lessons:n.lessons.map(i=>({lessonId:jd(),status:Mt.NONE,studentId:i.studentId,startTime:i.startTime,endTime:i.endTime,createdAt:At.now(),updatedAt:At.now()}))}}async createDailyLessonByDate(e,n){var a;const i=rt.fromDate(n).toIyyyyMMdd(),s=await Pd.instance.getDailyLessonOfSchoolByDate(e,i);if((a=s==null?void 0:s[0])!=null&&a.id)return s[0].id;const r=await this.buildDailyLessonFromWeeklyOrEmpty(e,n,i);return Rt.instance.save(r)}async buildDailyLessonFromWeeklyOrEmpty(e,n,i){const s=await Po.instance.getWeeklyLessonOfSchoolByDayBetweenDate(e,n.getDay(),i),r=s==null?void 0:s[0];return r?{date:i,schoolId:e,lessons:r.schedule.map(a=>({lessonId:jd(),status:Mt.NONE,studentId:a.studentId,startTime:a.startTime,endTime:a.endTime,createdAt:At.now(),updatedAt:At.now()}))}:{date:i,schoolId:e,lessons:[]}}async removeRecoveryLesson(e){const n=await Rt.instance.getDoc(e.dailyLessonId);if(n.exists()){const i=n.data(),s=i.lessons.findIndex(r=>r.lessonId==e.lessonId);if(s!=-1){const r=i.lessons.splice(s,1)[0];r.recovery||console.warn("Deleting a lesson not marked as recovery lesson!",r),Rt.instance.save(i,i.id)}}}async createRecoveryLesson(e){const n={lessonId:jd(),status:Mt.NONE,studentId:e.studentId,startTime:e.startTime,endTime:e.endTime,recovery:{ref:"original",lessonRef:{dailyLessonId:e.originalDailyLessonId,lessonId:e.originalLessonId}},createdAt:At.now(),updatedAt:At.now()},i=await this.getOrCreateDailyLessonId(e.schoolId,e.date),s=await Rt.instance.get(i);return s.lessons.push(n),await Rt.instance.save(s,s.id),{...n,dailyLessonId:s.id}}async removeRecoveryRef(e,n){const i=e.lessons.find(s=>s.lessonId==n);i&&i.recovery&&(delete i.recovery,await Rt.instance.save(e,e.id))}async moveRecoveryRefToUndoneList(e,n){const i=e.lessons.find(s=>s.lessonId==n);if(i&&i.recovery){const s={...i.recovery.lessonRef};i.undoneRecoveryRef||(i.undoneRecoveryRef=[]),i.undoneRecoveryRef.push(s),delete i.recovery,await Rt.instance.save(e,e.id)}}async addRecoveryRef(e,n,i){const s=e.lessons.find(r=>r.lessonId==n);s&&(s.recovery=i,await Rt.instance.save(e,e.id))}async deleteLessonAndRecoveryReferences(e,n,i,s){var a,o;const r=n.lessons.findIndex(l=>l.studentId==e.id)??-1;if(r==-1)return!1;try{const l=n.lessons[r];if(((a=l.recovery)==null?void 0:a.ref)=="original"){const u=await Rt.instance.get(l.recovery.lessonRef.dailyLessonId),d=n;if(!u)return console.warn("Unable to cancel recovery because original daily lesson does not exist"),!1;const c={...e,originalDailyLesson:u,recoveryDailyLesson:d};await To.instance.cancelRecovery(c,s)}else if(((o=l.recovery)==null?void 0:o.ref)=="recovery"){const u=await Rt.instance.get(l.recovery.lessonRef.dailyLessonId);if(!u)return console.warn("Unable to cancel recovery because recovery daily lesson does not exist"),!1;const c=(await av.instance.getStudentLesson(u)).find(f=>f.lessonId==l.recovery.lessonRef.lessonId);if(!c)return console.warn("Unable to cancel recovery because recovery student lesson does not exist"),!1;await this.deleteLessonAndRecoveryReferences(c,u,i,!0),n.lessons.splice(r,1),await Rt.instance.save(n,n.id)}else await this.deleteLesson(n,r,i);return!0}catch{return!1}}async deleteLesson(e,n,i){e&&n!=null&&n!=-1&&(e.lessons.splice(n,1),e.lessons.length==0&&i?await Rt.instance.delete(e.id):await Rt.instance.save(e,e.id))}async computeSalaryOfDailyLesson(e,n){const i=await Rt.instance.get(n);if(!i)return;const s=i.lessons.map(o=>o.studentId),r=await av.instance.getStudentLesson(i,s);let a=0;if(i.lessons.forEach(o=>{const l=r.find(u=>u.id==o.studentId);l!==void 0&&(a+=rv.instance.computeSalaryByStudentLesson(e,l,i.date))}),a!=i.salary)return i.salary=a,i.lastSalaryUpdate=At.now(),await Rt.instance.save(i,i.id),i}async moveDailyLesson(e,n,i,s){const r=await Pd.instance.getOrCreateDailyLessonId(e,s),a=await Rt.instance.get(r);if(a)a.lessons.push({lessonId:i.lessonId,studentId:i.studentId,endTime:i.endTime,startTime:i.startTime,moved:{ref:"original",lessonRef:{dailyLessonId:n,lessonId:i.lessonId}},status:Mt.NONE,updatedAt:At.now(),createdAt:At.now()}),await Rt.instance.save(a,a.id),i.moved={ref:"moved",lessonRef:{dailyLessonId:a.id,lessonId:i.lessonId}};else throw new Error("Unable to move the lesson because the new daily lesson is undefined!")}async undoMoveDailyLesson(e){if(e.moved&&e.moved.ref=="moved"){const n=await Rt.instance.get(e.moved.lessonRef.dailyLessonId),i=n==null?void 0:n.lessons.findIndex(s=>{var r;return s.lessonId==((r=e.moved)==null?void 0:r.lessonRef.lessonId)});i!=null&&i!=-1&&(n==null||n.lessons.splice(i,1),await Rt.instance.save(n,n==null?void 0:n.id),delete e.moved)}}};on(Pd,"_instance",null);let wi=Pd;const jy=class jy{constructor(){on(this,"today")}static get instance(){return this._instance||(this._instance=new jy),this._instance}calculateToday(){const e=new Date(new Date().toDateString()),n=rt.fromDate(e);this.today={asDate:e,asString:n.toIyyyyMMdd(),asyyyyMMdd:n,asIyyyyMMdd:n.toIyyyyMMdd()}}async getCalendarLessons(e,n,i){const s=[],r=await wi.instance.getDailyLessonOfSchoolBetweenDate(e,n.date.toIyyyyMMdd(),i.date.toIyyyyMMdd());s.push(...r.flatMap(f=>{const h=rt.fromIyyyyMMdd(f.date).toIyyyyMMdd("-",1);return f.lessons.map(g=>({id:f.id+"_"+g.lessonId,title:g.studentId,start:h+" "+Ut.fromITime(g.startTime).format(),end:h+" "+Ut.fromITime(g.endTime).format(),calendarId:e.toLowerCase(),data:{date:h,dailyLessonId:f.id}}))}));const a=Wn(Ln("schoolId"),"==",e),o=Wn(Ln("from"),"<=",i.date.toIyyyyMMdd()),l=Wn(Ln("to"),">=",n.date.toIyyyyMMdd()),u=await sa.instance.getAll(a,o,l),d=i.date.toDate(),c=n.date.toDate();for(;c<=d&&u.length>0;)u.forEach(f=>{const h=wR(c,f.dayOfWeek);if(h>d||h>rt.fromIyyyyMMdd(f.to).toDate()||h<rt.fromIyyyyMMdd(f.from).toDate())return;const g=rt.fromDate(h).toIyyyyMMdd("-",1);s.find(v=>{var p;return((p=v.data)==null?void 0:p.date)==g})||s.push(...f.schedule.map(v=>({id:jd(),title:v.studentId,start:g+" "+Ut.fromITime(v.startTime).format(),end:g+" "+Ut.fromITime(v.endTime).format(),calendarId:e.toLowerCase()})))}),c.setDate(c.getDate()+7);return s}async getGroupedLessons(e,n){const i=[];this.calculateToday();const s=this.applyFilters(e,n);return await this.addLastLessons(s,i,2),this.addUpcomingLessons(s,i,4),this.groupLessonsByMonth(i)}applyFilters(e,n){if(!n||n.length==0)return e;const i=new Map,s=a=>{a.forEach(o=>{i.has(o.id)||i.set(o.id,o)})},r={schoolId:e.schoolId,dailyLessons:[],weeklyLessons:[]};for(const a of n)if(a.type=="weekly")r.weeklyLessons=e.weeklyLessons,e.weeklyLessons.forEach(o=>{const l=e.dailyLessons.filter(u=>Po.instance.isValid(o,u.date));s(l)});else if(a.type=="recovery"){const o=e.dailyLessons.filter(l=>l.lessons.some(u=>{var d;return((d=u.recovery)==null?void 0:d.ref)=="original"}));s(o)}else if(a.type=="moved"){const o=e.dailyLessons.filter(l=>l.lessons.some(u=>{var d;return((d=u.moved)==null?void 0:d.ref)=="original"}));s(o)}else a.type=="daily"&&s(e.dailyLessons);return r.dailyLessons=Array.from(i.values()),r}async addLastLessons(e,n,i){const s=e.dailyLessons,r=e.weeklyLessons,a=s.filter(d=>d.date<=this.today.asString);a.sort((d,c)=>c.date.localeCompare(d.date)),a.slice(0,i).reverse().forEach(d=>{n.push(this.createLessonProjection(d,!1))});const l=new Date,u=[...r];for(;n.length<i&&u.length>0;)u.forEach(async(d,c)=>{if(n.length>=i)return;const f=qle(l,d.dayOfWeek),h=rt.fromDate(f),g=h.toIyyyyMMdd();if(d.from>g||g>d.to){u.splice(c,1);return}d.exclude.includes(g)||n.some(v=>v.date.equals(h))||n.push({date:h,pending:!0,next:!1,lessons:d.schedule})}),l.setDate(l.getDate()-7)}addUpcomingLessons(e,n,i){const s=e.dailyLessons,r=e.weeklyLessons,a=new Date,o=n.length+i,l=s.filter(c=>c.date>this.today.asString).sort((c,f)=>c.date.localeCompare(f.date));let u=0;const d=[...r];for(;(d.length>0||l.length>u)&&n.length<o;){if(d.length==0){const c=l[u];n.push(this.createLessonProjection(c,!1)),u++}d.forEach((c,f)=>{if(n.length>=o)return;const h=wR(a,c.dayOfWeek),g=rt.fromDate(h),v=g.toIyyyyMMdd();if(c.from>v||v>c.to){d.splice(f,1);return}for(;l.length>u&&l[u].date<=v&&n.length<o;){const p=l[u];n.push(this.createLessonProjection(p,!1)),u++}c.exclude.includes(v)||n.length<o&&!n.some(p=>p.date.equals(g))&&n.push({date:g,next:!1,lessons:c.schedule})}),a.setDate(a.getDate()+7)}}groupLessonsByMonth(e){const n=[];let i=!1;return e.sort((s,r)=>s.date.toIyyyyMMdd()>r.date.toIyyyyMMdd()?1:-1).forEach(s=>{const r=s.date.getMonth();let a=n.findIndex(o=>o.month==bR[r]);a==-1&&(n.push({month:bR[r],lessons:[]}),a=n.length-1),!i&&s.date.toDate()>=this.today.asDate&&(i=!0,s.next=!0),n[a].lessons.push(s)}),n}createLessonProjection(e,n){const i=e.date<=this.today.asString&&e.lessons.some(a=>a.status==Mt.NONE),s=e.lessons.some(a=>{var o;return((o=a.recovery)==null?void 0:o.ref)=="original"}),r=e.lessons.some(a=>{var o;return((o=a.moved)==null?void 0:o.ref)=="original"});return{dailyLessonId:e.id,date:rt.fromIyyyyMMdd(e.date),recovery:s,moved:r,pending:i,next:n,lessons:e.lessons}}};on(jy,"_instance",null);let uy=jy;var QS;(function(t){t.DragAndDrop="dragAndDrop",t.EventModal="eventModal",t.ScrollController="scrollController",t.EventRecurrence="eventRecurrence",t.Resize="resize",t.CalendarControls="calendarControls",t.CurrentTime="currentTime"})(QS||(QS={}));const cye=/^(0[0-9]|1[0-9]|2[0-3]):[0-5][0-9]$/,dye=/^(\d{4})-(\d{2})-(\d{2})$/;let hye=class extends Error{constructor(e){super(`Invalid time string: ${e}`)}},fye=class extends Error{constructor(e,n){super(`Number must be between ${e} and ${n}.`),Object.defineProperty(this,"min",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"max",{enumerable:!0,configurable:!0,writable:!0,value:n})}};const pM=t=>{if(t<0||t>99)throw new fye(0,99);return String(t).padStart(2,"0")},G6=1.6666666666666667,_M=t=>{if(!cye.test(t)&&t!=="24:00")throw new hye(t);const[e,n]=t.split(":").map(s=>parseInt(s,10));let i=(n*G6).toString();return i.split(".")[0].length<2&&(i=`0${i}`),Number(e+i)},yM=t=>{const e=Math.floor(t/100),n=Math.round(t%100/G6);return`${pM(e)}:${pM(n)}`},mye=(t,e)=>(e.name=t,e);class vye{constructor(){Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:QS.CalendarControls}),Object.defineProperty(this,"$app",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"getDate",{enumerable:!0,configurable:!0,writable:!0,value:()=>this.$app.datePickerState.selectedDate.value}),Object.defineProperty(this,"getView",{enumerable:!0,configurable:!0,writable:!0,value:()=>this.$app.calendarState.view.value}),Object.defineProperty(this,"getFirstDayOfWeek",{enumerable:!0,configurable:!0,writable:!0,value:()=>this.$app.config.firstDayOfWeek.value}),Object.defineProperty(this,"getLocale",{enumerable:!0,configurable:!0,writable:!0,value:()=>this.$app.config.locale.value}),Object.defineProperty(this,"getViews",{enumerable:!0,configurable:!0,writable:!0,value:()=>this.$app.config.views.value}),Object.defineProperty(this,"getDayBoundaries",{enumerable:!0,configurable:!0,writable:!0,value:()=>({start:yM(this.$app.config.dayBoundaries.value.start),end:yM(this.$app.config.dayBoundaries.value.end)})}),Object.defineProperty(this,"getWeekOptions",{enumerable:!0,configurable:!0,writable:!0,value:()=>this.$app.config.weekOptions.value}),Object.defineProperty(this,"getCalendars",{enumerable:!0,configurable:!0,writable:!0,value:()=>this.$app.config.calendars.value}),Object.defineProperty(this,"getMinDate",{enumerable:!0,configurable:!0,writable:!0,value:()=>this.$app.config.minDate.value}),Object.defineProperty(this,"getMaxDate",{enumerable:!0,configurable:!0,writable:!0,value:()=>this.$app.config.maxDate.value}),Object.defineProperty(this,"getMonthGridOptions",{enumerable:!0,configurable:!0,writable:!0,value:()=>this.$app.config.monthGridOptions.value}),Object.defineProperty(this,"getRange",{enumerable:!0,configurable:!0,writable:!0,value:()=>this.$app.calendarState.range.value})}beforeRender(e){this.$app=e}onRender(e){this.$app=e}setDate(e){if(!dye.test(e))throw new Error("Invalid date. Expected format YYYY-MM-DD");this.$app.datePickerState.selectedDate.value=e}setView(e){if(!this.$app.config.views.value.find(i=>i.name===e))throw new Error(`Invalid view name. Expected one of ${this.$app.config.views.value.map(i=>i.name).join(", ")}`);this.$app.calendarState.setView(e,this.$app.datePickerState.selectedDate.value)}setFirstDayOfWeek(e){this.$app.config.firstDayOfWeek.value=e}setLocale(e){this.$app.config.locale.value=e}setViews(e){const n=this.$app.calendarState.view.value;if(!e.some(s=>s.name===n))throw new Error(`Currently active view is not in given views. Expected to find ${n} in ${e.map(s=>s.name).join(",")}`);this.$app.config.views.value=e}setDayBoundaries(e){this.$app.config.dayBoundaries.value={start:_M(e.start),end:_M(e.end)}}setWeekOptions(e){this.$app.config.weekOptions.value={...this.$app.config.weekOptions.value,...e}}setCalendars(e){this.$app.config.calendars.value=e}setMinDate(e){this.$app.config.minDate.value=e}setMaxDate(e){this.$app.config.maxDate.value=e}setMonthGridOptions(e){this.$app.config.monthGridOptions.value=e}}const q6=()=>mye("calendarControls",new vye);var JS;(function(t){t.DragAndDrop="dragAndDrop",t.EventModal="eventModal",t.ScrollController="scrollController",t.EventRecurrence="eventRecurrence",t.Resize="resize",t.CalendarControls="calendarControls",t.CurrentTime="currentTime"})(JS||(JS={}));const gye=()=>"s"+Math.random().toString(36).substring(2,11),pye=(t,e)=>function(n){n.target instanceof HTMLElement&&(n.target.closest(`#${e}`)||t.config.plugins.eventModal.close())},_ye=(t,e,n=250)=>{const a=e.bottom-t.top>n,o=e.bottom<t.bottom,l=e.top<t.top;let u=0,d=0,c="0%";t.bottom-e.top>n&&!l?u=e.top:a&&o?u=e.bottom-n:a&&!o?u=t.bottom-n:u=t.top,t.right-e.right>410?(d=e.right+10,c="-10%"):e.left-t.left>410?(d=e.left-410,c="10%"):d=t.left,document.documentElement.style.setProperty("--sx-event-modal-animation-start",c),document.documentElement.style.setProperty("--sx-event-modal-top",`${u}px`),document.documentElement.style.setProperty("--sx-event-modal-left",`${d}px`)};function yye({strokeColor:t}){return Q(Nt,{children:Q("svg",{className:"sx__event-icon",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Q("g",{id:"SVGRepo_bgCarrier","stroke-width":"0"}),Q("g",{id:"SVGRepo_tracerCarrier","stroke-linecap":"round","stroke-linejoin":"round"}),Q("g",{id:"SVGRepo_iconCarrier",children:[Q("path",{d:"M12 8V12L15 15",stroke:t,"stroke-width":"2","stroke-linecap":"round"}),Q("circle",{cx:"12",cy:"12",r:"9",stroke:t,"stroke-width":"2"})]})]})})}function bye({strokeColor:t}){return Q(Nt,{children:Q("svg",{className:"sx__event-icon",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Q("g",{id:"SVGRepo_bgCarrier","stroke-width":"0"}),Q("g",{id:"SVGRepo_tracerCarrier","stroke-linecap":"round","stroke-linejoin":"round"}),Q("g",{id:"SVGRepo_iconCarrier",children:[Q("path",{d:"M15 7C15 8.65685 13.6569 10 12 10C10.3431 10 9 8.65685 9 7C9 5.34315 10.3431 4 12 4C13.6569 4 15 5.34315 15 7Z",stroke:t,"stroke-width":"2"}),Q("path",{d:"M5 19.5C5 15.9101 7.91015 13 11.5 13H12.5C16.0899 13 19 15.9101 19 19.5V20C19 20.5523 18.5523 21 18 21H6C5.44772 21 5 20.5523 5 20V19.5Z",stroke:t,"stroke-width":"2"})]})]})})}const wye=t=>t.reduce((e,n,i)=>i===0?n:i===t.length-1?`${e} & ${n}`:`${e}, ${n}`,"");function xye({strokeColor:t}){return Q(Nt,{children:Q("svg",{className:"sx__event-icon",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Q("g",{id:"SVGRepo_bgCarrier","stroke-width":"0"}),Q("g",{id:"SVGRepo_tracerCarrier","stroke-linecap":"round","stroke-linejoin":"round"}),Q("g",{id:"SVGRepo_iconCarrier",children:[Q("g",{"clip-path":"url(#clip0_429_11046)",children:[Q("rect",{x:"12",y:"11",width:"0.01",height:"0.01",stroke:t,"stroke-width":"2","stroke-linejoin":"round"}),Q("path",{d:"M12 22L17.5 16.5C20.5376 13.4624 20.5376 8.53757 17.5 5.5C14.4624 2.46244 9.53757 2.46244 6.5 5.5C3.46244 8.53757 3.46244 13.4624 6.5 16.5L12 22Z",stroke:t,"stroke-width":"2","stroke-linejoin":"round"})]}),Q("defs",{children:Q("clipPath",{id:"clip0_429_11046",children:Q("rect",{width:"24",height:"24",fill:"white"})})})]})]})})}function Sye({strokeColor:t}){return Q(Nt,{children:Q("svg",{className:"sx__event-icon",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Q("g",{id:"SVGRepo_bgCarrier","stroke-width":"0"}),Q("g",{id:"SVGRepo_tracerCarrier","stroke-linecap":"round","stroke-linejoin":"round"}),Q("g",{id:"SVGRepo_iconCarrier",children:[Q("rect",{x:"4",y:"4",width:"16",height:"16",rx:"3",stroke:t,"stroke-width":"2"}),Q("path",{d:"M16 10L8 10",stroke:t,"stroke-width":"2","stroke-linecap":"round"}),Q("path",{d:"M16 14L8 14",stroke:t,"stroke-width":"2","stroke-linecap":"round"})]})]})})}const X6=t=>{const e=t.slice(11,13),n=t.slice(14,16);return{year:Number(t.slice(0,4)),month:Number(t.slice(5,7))-1,date:Number(t.slice(8,10)),hours:e!==""?Number(e):void 0,minutes:n!==""?Number(n):void 0}},pu=(t,e)=>{const{year:n,month:i,date:s}=X6(t);return new Date(n,i,s).toLocaleDateString(e,{day:"numeric",month:"long",year:"numeric"})},Sf=(t,e)=>{const{year:n,month:i,date:s,hours:r,minutes:a}=X6(t);return new Date(n,i,s,r,a).toLocaleTimeString(e,{hour:"numeric",minute:"numeric"})},kye=(t,e,n="")=>{const i={start:t.start,end:t.end};return t._isSingleDayFullDay?pu(i.start,e):t._isMultiDayFullDay?`${pu(i.start,e)} ${n} ${pu(i.end,e)}`:t._isSingleDayTimed&&i.start!==i.end?`${pu(i.start,e)} <span aria-hidden="true"></span> ${Sf(i.start,e)} ${n} ${Sf(i.end,e)}`:t._isSingleDayTimed&&t.start===t.end?`${pu(i.start,e)}, ${Sf(i.start,e)}`:`${pu(i.start,e)}, ${Sf(i.start,e)} ${n} ${pu(i.end,e)}, ${Sf(i.end,e)}`},Tye=t=>{const e="var(--sx-internal-color-text)",n="var(--sx-color-neutral-variant)",i=$t(t.calendarState.isDark.value?n:e);return Mo(()=>{t.calendarState.isDark.value?i.value=n:i.value=e}),i},Pye=t=>{if(t){const e=t.scrollHeight>t.clientHeight,i=window.getComputedStyle(t).overflowY.indexOf("hidden")!==-1;return e&&!i}return!0},K6=(t,e=[])=>!t||t===document.body||t.nodeType===Node.DOCUMENT_FRAGMENT_NODE?(e.push(window),e):(Pye(t)&&e.push(t),K6(t.assignedSlot?t.assignedSlot.parentNode:t.parentNode,e)),Cye=t=>{setTimeout(()=>{t()})};function Eye({$app:t}){const[e]=Ot(gye()),{value:n}=t.config.plugins.eventModal.calendarEvent,[i,s]=Ot(!1),r=t.config._customComponentFns.eventModal,[a,o]=Ot("sx__event-modal"),l=()=>{var c,f,h;_ye((c=t.elements.calendarWrapper)===null||c===void 0?void 0:c.getBoundingClientRect(),(f=t.config.plugins.eventModal)===null||f===void 0?void 0:f.calendarEventDOMRect.value,((h=t.elements.calendarWrapper)===null||h===void 0?void 0:h.querySelector(".sx__event-modal")).clientHeight)},u=()=>{var c,f;t.config.plugins.eventModal.calendarEventDOMRect.value=(f=(c=t.config.plugins.eventModal)===null||c===void 0?void 0:c.calendarEventElement.value)===null||f===void 0?void 0:f.getBoundingClientRect(),l()};kn(()=>{var c;r?r(document.querySelector(`[data-ccid=${e}]`),{calendarEvent:n==null?void 0:n._getExternalEvent()}):o(a.concat(" sx__event-modal-default")),Cye(()=>{l()}),s(!0);const f=pye(t,e),h=K6(((c=t.config.plugins.eventModal)===null||c===void 0?void 0:c.calendarEventElement.value)||null);return h.forEach(g=>g.addEventListener("scroll",u)),document.addEventListener("click",f),()=>{document.removeEventListener("click",f),h.forEach(g=>g.removeEventListener("scroll",u))}},[]);const d=Tye(t);return Q(Nt,{children:n&&Q("div",{id:e,tabIndex:0,"data-ccid":e,className:`${a}${i?" is-open":""}`,children:!r&&Q(Nt,{children:[Q("div",{className:"sx__has-icon sx__event-modal__title",children:[Q("div",{style:{backgroundColor:`var(--sx-color-${n._color}-container)`},className:"sx__event-modal__color-icon sx__event-icon"}),n.title]}),Q("div",{className:"sx__has-icon sx__event-modal__time",children:[Q(yye,{strokeColor:d.value}),Q("div",{dangerouslySetInnerHTML:{__html:kye(n,t.config.locale.value)}})]}),n.people&&n.people.length&&Q("div",{className:"sx__has-icon sx__event-modal__people",children:[Q(bye,{strokeColor:d.value}),wye(n.people)]}),n.location&&Q("div",{className:"sx__has-icon sx__event-modal__location",children:[Q(xye,{strokeColor:d.value}),n.location]}),n.description&&Q("div",{className:"sx__has-icon sx__event-modal__description",children:[Q(Sye,{strokeColor:d.value}),n.description]})]})})})}const Iye=(t,e)=>(e.name=t,e);class Dye{constructor(){Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:JS.EventModal}),Object.defineProperty(this,"calendarEvent",{enumerable:!0,configurable:!0,writable:!0,value:$t(null)}),Object.defineProperty(this,"calendarEventDOMRect",{enumerable:!0,configurable:!0,writable:!0,value:$t(null)}),Object.defineProperty(this,"calendarEventElement",{enumerable:!0,configurable:!0,writable:!0,value:$t(null)}),Object.defineProperty(this,"ComponentFn",{enumerable:!0,configurable:!0,writable:!0,value:Eye})}setCalendarEvent(e,n){tS(()=>{this.calendarEvent.value=e,this.calendarEventDOMRect.value=n})}close(){tS(()=>{this.calendarEvent.value=null,this.calendarEventDOMRect.value=null})}}const Q6=()=>Iye("eventModal",new Dye),Aye=/^(0[0-9]|1[0-9]|2[0-3]):[0-5][0-9]$/,ad=/^(\d{4})-(\d{2})-(\d{2}) (0[0-9]|1[0-9]|2[0-3]):[0-5][0-9]$/,tp=/^(\d{4})-(\d{2})-(\d{2})$/,bM={DATE_STRING:/^\d{4}-\d{2}-\d{2}$/,TIME_STRING:/^\d{2}:\d{2}$/,DATE_TIME_STRING:/^\d{4}-\d{2}-\d{2} \d{2}:\d{2}$/};let Oye=class extends Error{constructor(e){super(`Invalid date time specification: ${e}`)}};const Rye=t=>{if(!bM.DATE_TIME_STRING.test(t)&&!bM.DATE_STRING.test(t))throw new Oye(t);return new Date(Number(t.slice(0,4)),Number(t.slice(5,7))-1,Number(t.slice(8,10)),Number(t.slice(11,13)),Number(t.slice(14,16)))};let Mye=class extends Error{constructor(e,n){super(`Number must be between ${e} and ${n}.`),Object.defineProperty(this,"min",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"max",{enumerable:!0,configurable:!0,writable:!0,value:n})}};const wM=t=>{if(t<0||t>99)throw new Mye(0,99);return String(t).padStart(2,"0")},Vye=t=>`${t.getFullYear()}-${wM(t.getMonth()+1)}-${wM(t.getDate())}`;let Lye=class extends Error{constructor(e){super(`Invalid time string: ${e}`)}};const Nye=1.6666666666666667,xM=t=>{if(!Aye.test(t)&&t!=="24:00")throw new Lye(t);const[e,n]=t.split(":").map(s=>parseInt(s,10));let i=(n*Nye).toString();return i.split(".")[0].length<2&&(i=`0${i}`),Number(e+i)},od=t=>t.slice(0,10),SM=t=>t.slice(11);var ZS;(function(t){t[t.SUNDAY=0]="SUNDAY",t[t.MONDAY=1]="MONDAY",t[t.TUESDAY=2]="TUESDAY",t[t.WEDNESDAY=3]="WEDNESDAY",t[t.THURSDAY=4]="THURSDAY",t[t.FRIDAY=5]="FRIDAY",t[t.SATURDAY=6]="SATURDAY"})(ZS||(ZS={}));ZS.MONDAY;const Fye="primary";let Bye=class{constructor(e,n,i,s,r,a,o,l,u,d=void 0,c={},f={}){Object.defineProperty(this,"_config",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"id",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(this,"start",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"end",{enumerable:!0,configurable:!0,writable:!0,value:s}),Object.defineProperty(this,"title",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"people",{enumerable:!0,configurable:!0,writable:!0,value:a}),Object.defineProperty(this,"location",{enumerable:!0,configurable:!0,writable:!0,value:o}),Object.defineProperty(this,"description",{enumerable:!0,configurable:!0,writable:!0,value:l}),Object.defineProperty(this,"calendarId",{enumerable:!0,configurable:!0,writable:!0,value:u}),Object.defineProperty(this,"_options",{enumerable:!0,configurable:!0,writable:!0,value:d}),Object.defineProperty(this,"_customContent",{enumerable:!0,configurable:!0,writable:!0,value:c}),Object.defineProperty(this,"_foreignProperties",{enumerable:!0,configurable:!0,writable:!0,value:f}),Object.defineProperty(this,"_previousConcurrentEvents",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_totalConcurrentEvents",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_nDaysInGrid",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_eventFragments",{enumerable:!0,configurable:!0,writable:!0,value:{}})}get _isSingleDayTimed(){return ad.test(this.start)&&ad.test(this.end)&&od(this.start)===od(this.end)}get _isSingleDayFullDay(){return tp.test(this.start)&&tp.test(this.end)&&this.start===this.end}get _isMultiDayTimed(){return ad.test(this.start)&&ad.test(this.end)&&od(this.start)!==od(this.end)}get _isMultiDayFullDay(){return tp.test(this.start)&&tp.test(this.end)&&this.start!==this.end}get _isSingleHybridDayTimed(){if(!this._config.isHybridDay||!ad.test(this.start)||!ad.test(this.end))return!1;const e=od(this.start),n=od(this.end),i=Vye(new Date(Rye(n).getTime()-864e5));if(e!==n&&e!==i)return!1;const s=this._config.dayBoundaries.value,r=xM(SM(this.start)),a=xM(SM(this.end));return r>=s.start&&(a<=s.end||a>r)||r<s.end&&a<=s.end}get _color(){return this.calendarId&&this._config.calendars.value&&this.calendarId in this._config.calendars.value?this._config.calendars.value[this.calendarId].colorName:Fye}_getForeignProperties(){return this._foreignProperties}_getExternalEvent(){return{id:this.id,start:this.start,end:this.end,title:this.title,people:this.people,location:this.location,description:this.description,calendarId:this.calendarId,_options:this._options,...this._getForeignProperties()}}},jye=class{constructor(e,n,i,s){Object.defineProperty(this,"_config",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"id",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(this,"start",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"end",{enumerable:!0,configurable:!0,writable:!0,value:s}),Object.defineProperty(this,"people",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"location",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"description",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"title",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"calendarId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_foreignProperties",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_options",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_customContent",{enumerable:!0,configurable:!0,writable:!0,value:{}})}build(){return new Bye(this._config,this.id,this.start,this.end,this.title,this.people,this.location,this.description,this.calendarId,this._options,this._customContent,this._foreignProperties)}withTitle(e){return this.title=e,this}withPeople(e){return this.people=e,this}withLocation(e){return this.location=e,this}withDescription(e){return this.description=e,this}withForeignProperties(e){return this._foreignProperties=e,this}withCalendarId(e){return this.calendarId=e,this}withOptions(e){return this._options=e,this}withCustomContent(e){return this._customContent=e,this}};const d1=(t,e)=>{const{id:n,start:i,end:s,title:r,description:a,location:o,people:l,_options:u,...d}=t;return new jye(e,n,i,s).withTitle(r).withDescription(a).withLocation(o).withPeople(l).withCalendarId(t.calendarId).withOptions(u).withForeignProperties(d).withCustomContent(t._customContent).build()};class $ye{constructor(e){Object.defineProperty(this,"$app",{enumerable:!0,configurable:!0,writable:!0,value:e})}set(e){this.$app.calendarEvents.list.value=e.map(n=>d1(n,this.$app.config))}add(e){const n=d1(e,this.$app.config),i=[...this.$app.calendarEvents.list.value];i.push(n),this.$app.calendarEvents.list.value=i}get(e){var n;return(n=this.$app.calendarEvents.list.value.find(i=>i.id===e))===null||n===void 0?void 0:n._getExternalEvent()}getAll(){return this.$app.calendarEvents.list.value.map(e=>e._getExternalEvent())}remove(e){const n=this.$app.calendarEvents.list.value.findIndex(s=>s.id===e),i=[...this.$app.calendarEvents.list.value];i.splice(n,1),this.$app.calendarEvents.list.value=i}update(e){const n=this.$app.calendarEvents.list.value.findIndex(s=>s.id===e.id),i=[...this.$app.calendarEvents.list.value];i.splice(n,1,d1(e,this.$app.config)),this.$app.calendarEvents.list.value=i}}const Uye=(t,e)=>(e.name=t,e);class Hye{constructor(){Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EventsServicePlugin"}),Object.defineProperty(this,"$app",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"eventsFacade",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}beforeRender(e){this.$app=e,this.eventsFacade=new $ye(e)}update(e){this.eventsFacade.update(e)}add(e){this.eventsFacade.add(e)}remove(e){this.eventsFacade.remove(e)}get(e){return this.eventsFacade.get(e)}getAll(){return this.eventsFacade.getAll()}set(e){this.eventsFacade.set(e)}setBackgroundEvents(e){this.$app.calendarEvents.backgroundEvents.value=e}}const J6=()=>Uye("eventsService",new Hye),zye=(t,e)=>(n,i)=>{const s={Component:Ai(e,i),wrapperElement:n};t(s)};class Wye extends Error{constructor(e){super(e),this.name="[Schedule-X reactivity error]"}}const Z6=Tt({name:"ScheduleXCalendar",props:{calendarApp:{type:Object,required:!0},customComponents:{type:Object,default:()=>({})}},data(){return{elId:"sx"+Math.random().toString(36).substr(2,9),customComponentsMeta:[]}},mounted(){if($u(this.calendarApp))throw new Wye("calendarApp cannot be saved in a ref. Since this causes deep reactivity, it destroys the calendars internal reactivity. Save in a normal const or shallowRef");const t={...this.customComponents,...this.$slots};for(const[e,n]of Object.entries(t))this.calendarApp._setCustomComponentFn(e,zye(this.setCustomComponentMeta,n));this.calendarApp.render(document.getElementById(this.elId))},methods:{setCustomComponentMeta(t){if(!(t.wrapperElement instanceof HTMLElement))return;const e=({wrapperElement:r})=>r instanceof HTMLElement,n=[...this.customComponentsMeta.filter(e)],i=t.wrapperElement.dataset.ccid,s=n.find(({wrapperElement:r})=>r.dataset.ccid===i);s&&n.splice(n.indexOf(s),1),this.customComponentsMeta=[...n,t]}},render(){const t=this.customComponentsMeta.map(({Component:e,wrapperElement:n})=>Ai(uL,{to:n},e));return Ai("div",{id:this.elId,class:"sx-vue-calendar-wrapper"},Ai(Ie,{},t))}});var zC,dt,eU,tU,Cu,kM,nU,ek,iU,tk={},sU=[],Yye=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,M0=Array.isArray;function wl(t,e){for(var n in e)t[n]=e[n];return t}function rU(t){var e=t.parentNode;e&&e.removeChild(t)}function TM(t,e,n){var i,s,r,a={};for(r in e)r=="key"?i=e[r]:r=="ref"?s=e[r]:a[r]=e[r];if(arguments.length>2&&(a.children=arguments.length>3?zC.call(arguments,2):n),typeof t=="function"&&t.defaultProps!=null)for(r in t.defaultProps)a[r]===void 0&&(a[r]=t.defaultProps[r]);return zp(t,a,i,s,null)}function zp(t,e,n,i,s){var r={type:t,props:e,key:n,ref:i,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:s??++eU,__i:-1,__u:0};return s==null&&dt.vnode!=null&&dt.vnode(r),r}function ov(t){return t.children}function Na(t,e){this.props=t,this.context=e}function mh(t,e){if(e==null)return t.__?mh(t.__,t.__i+1):null;for(var n;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null)return n.__e;return typeof t.type=="function"?mh(t):null}function aU(t){var e,n;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null){t.__e=t.__c.base=n.__e;break}return aU(t)}}function nk(t){(!t.__d&&(t.__d=!0)&&Cu.push(t)&&!cy.__r++||kM!==dt.debounceRendering)&&((kM=dt.debounceRendering)||nU)(cy)}function cy(){var t,e,n,i,s,r,a,o,l;for(Cu.sort(ek);t=Cu.shift();)t.__d&&(e=Cu.length,i=void 0,r=(s=(n=t).__v).__e,o=[],l=[],(a=n.__P)&&((i=wl({},s)).__v=s.__v+1,dt.vnode&&dt.vnode(i),uU(a,i,s,n.__n,a.ownerSVGElement!==void 0,32&s.__u?[r]:null,o,r??mh(s),!!(32&s.__u),l),i.__.__k[i.__i]=i,Xye(o,i,l),i.__e!=r&&aU(i)),Cu.length>e&&Cu.sort(ek));cy.__r=0}function oU(t,e,n,i,s,r,a,o,l,u,d){var c,f,h,g,v,p=i&&i.__k||sU,_=e.length;for(n.__d=l,Gye(n,e,p),l=n.__d,c=0;c<_;c++)(h=n.__k[c])!=null&&typeof h!="boolean"&&typeof h!="function"&&(f=h.__i===-1?tk:p[h.__i]||tk,h.__i=c,uU(t,h,f,s,r,a,o,l,u,d),g=h.__e,h.ref&&f.ref!=h.ref&&(f.ref&&WC(f.ref,null,h),d.push(h.ref,h.__c||g,h)),v==null&&g!=null&&(v=g),65536&h.__u||f.__k===h.__k?l=lU(h,l,t):typeof h.type=="function"&&h.__d!==void 0?l=h.__d:g&&(l=g.nextSibling),h.__d=void 0,h.__u&=-196609);n.__d=l,n.__e=v}function Gye(t,e,n){var i,s,r,a,o,l=e.length,u=n.length,d=u,c=0;for(t.__k=[],i=0;i<l;i++)(s=t.__k[i]=(s=e[i])==null||typeof s=="boolean"||typeof s=="function"?null:typeof s=="string"||typeof s=="number"||typeof s=="bigint"||s.constructor==String?zp(null,s,null,null,s):M0(s)?zp(ov,{children:s},null,null,null):s.constructor===void 0&&s.__b>0?zp(s.type,s.props,s.key,s.ref?s.ref:null,s.__v):s)!=null?(s.__=t,s.__b=t.__b+1,o=qye(s,n,a=i+c,d),s.__i=o,r=null,o!==-1&&(d--,(r=n[o])&&(r.__u|=131072)),r==null||r.__v===null?(o==-1&&c--,typeof s.type!="function"&&(s.__u|=65536)):o!==a&&(o===a+1?c++:o>a?d>l-a?c+=o-a:c--:c=o<a&&o==a-1?o-a:0,o!==i+c&&(s.__u|=65536))):(r=n[i])&&r.key==null&&r.__e&&(r.__e==t.__d&&(t.__d=mh(r)),ik(r,r,!1),n[i]=null,d--);if(d)for(i=0;i<u;i++)(r=n[i])!=null&&!(131072&r.__u)&&(r.__e==t.__d&&(t.__d=mh(r)),ik(r,r))}function lU(t,e,n){var i,s;if(typeof t.type=="function"){for(i=t.__k,s=0;i&&s<i.length;s++)i[s]&&(i[s].__=t,e=lU(i[s],e,n));return e}return t.__e!=e&&(n.insertBefore(t.__e,e||null),e=t.__e),e&&e.nextSibling}function dy(t,e){return e=e||[],t==null||typeof t=="boolean"||(M0(t)?t.some(function(n){dy(n,e)}):e.push(t)),e}function qye(t,e,n,i){var s=t.key,r=t.type,a=n-1,o=n+1,l=e[n];if(l===null||l&&s==l.key&&r===l.type)return n;if(i>(l!=null&&!(131072&l.__u)?1:0))for(;a>=0||o<e.length;){if(a>=0){if((l=e[a])&&!(131072&l.__u)&&s==l.key&&r===l.type)return a;a--}if(o<e.length){if((l=e[o])&&!(131072&l.__u)&&s==l.key&&r===l.type)return o;o++}}return-1}function PM(t,e,n){e[0]==="-"?t.setProperty(e,n??""):t[e]=n==null?"":typeof n!="number"||Yye.test(e)?n:n+"px"}function np(t,e,n,i,s){var r;e:if(e==="style")if(typeof n=="string")t.style.cssText=n;else{if(typeof i=="string"&&(t.style.cssText=i=""),i)for(e in i)n&&e in n||PM(t.style,e,"");if(n)for(e in n)i&&n[e]===i[e]||PM(t.style,e,n[e])}else if(e[0]==="o"&&e[1]==="n")r=e!==(e=e.replace(/(PointerCapture)$|Capture$/,"$1")),e=e.toLowerCase()in t?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+r]=n,n?i?n.u=i.u:(n.u=Date.now(),t.addEventListener(e,r?EM:CM,r)):t.removeEventListener(e,r?EM:CM,r);else{if(s)e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!=="width"&&e!=="height"&&e!=="href"&&e!=="list"&&e!=="form"&&e!=="tabIndex"&&e!=="download"&&e!=="rowSpan"&&e!=="colSpan"&&e!=="role"&&e in t)try{t[e]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&e[4]!=="-"?t.removeAttribute(e):t.setAttribute(e,n))}}function CM(t){var e=this.l[t.type+!1];if(t.t){if(t.t<=e.u)return}else t.t=Date.now();return e(dt.event?dt.event(t):t)}function EM(t){return this.l[t.type+!0](dt.event?dt.event(t):t)}function uU(t,e,n,i,s,r,a,o,l,u){var d,c,f,h,g,v,p,_,b,x,k,I,E,T,S,w=e.type;if(e.constructor!==void 0)return null;128&n.__u&&(l=!!(32&n.__u),r=[o=e.__e=n.__e]),(d=dt.__b)&&d(e);e:if(typeof w=="function")try{if(_=e.props,b=(d=w.contextType)&&i[d.__c],x=d?b?b.props.value:d.__:i,n.__c?p=(c=e.__c=n.__c).__=c.__E:("prototype"in w&&w.prototype.render?e.__c=c=new w(_,x):(e.__c=c=new Na(_,x),c.constructor=w,c.render=Qye),b&&b.sub(c),c.props=_,c.state||(c.state={}),c.context=x,c.__n=i,f=c.__d=!0,c.__h=[],c._sb=[]),c.__s==null&&(c.__s=c.state),w.getDerivedStateFromProps!=null&&(c.__s==c.state&&(c.__s=wl({},c.__s)),wl(c.__s,w.getDerivedStateFromProps(_,c.__s))),h=c.props,g=c.state,c.__v=e,f)w.getDerivedStateFromProps==null&&c.componentWillMount!=null&&c.componentWillMount(),c.componentDidMount!=null&&c.__h.push(c.componentDidMount);else{if(w.getDerivedStateFromProps==null&&_!==h&&c.componentWillReceiveProps!=null&&c.componentWillReceiveProps(_,x),!c.__e&&(c.shouldComponentUpdate!=null&&c.shouldComponentUpdate(_,c.__s,x)===!1||e.__v===n.__v)){for(e.__v!==n.__v&&(c.props=_,c.state=c.__s,c.__d=!1),e.__e=n.__e,e.__k=n.__k,e.__k.forEach(function(P){P&&(P.__=e)}),k=0;k<c._sb.length;k++)c.__h.push(c._sb[k]);c._sb=[],c.__h.length&&a.push(c);break e}c.componentWillUpdate!=null&&c.componentWillUpdate(_,c.__s,x),c.componentDidUpdate!=null&&c.__h.push(function(){c.componentDidUpdate(h,g,v)})}if(c.context=x,c.props=_,c.__P=t,c.__e=!1,I=dt.__r,E=0,"prototype"in w&&w.prototype.render){for(c.state=c.__s,c.__d=!1,I&&I(e),d=c.render(c.props,c.state,c.context),T=0;T<c._sb.length;T++)c.__h.push(c._sb[T]);c._sb=[]}else do c.__d=!1,I&&I(e),d=c.render(c.props,c.state,c.context),c.state=c.__s;while(c.__d&&++E<25);c.state=c.__s,c.getChildContext!=null&&(i=wl(wl({},i),c.getChildContext())),f||c.getSnapshotBeforeUpdate==null||(v=c.getSnapshotBeforeUpdate(h,g)),oU(t,M0(S=d!=null&&d.type===ov&&d.key==null?d.props.children:d)?S:[S],e,n,i,s,r,a,o,l,u),c.base=e.__e,e.__u&=-161,c.__h.length&&a.push(c),p&&(c.__E=c.__=null)}catch(P){e.__v=null,l||r!=null?(e.__e=o,e.__u|=l?160:32,r[r.indexOf(o)]=null):(e.__e=n.__e,e.__k=n.__k),dt.__e(P,e,n)}else r==null&&e.__v===n.__v?(e.__k=n.__k,e.__e=n.__e):e.__e=Kye(n.__e,e,n,i,s,r,a,l,u);(d=dt.diffed)&&d(e)}function Xye(t,e,n){e.__d=void 0;for(var i=0;i<n.length;i++)WC(n[i],n[++i],n[++i]);dt.__c&&dt.__c(e,t),t.some(function(s){try{t=s.__h,s.__h=[],t.some(function(r){r.call(s)})}catch(r){dt.__e(r,s.__v)}})}function Kye(t,e,n,i,s,r,a,o,l){var u,d,c,f,h,g,v,p=n.props,_=e.props,b=e.type;if(b==="svg"&&(s=!0),r!=null){for(u=0;u<r.length;u++)if((h=r[u])&&"setAttribute"in h==!!b&&(b?h.localName===b:h.nodeType===3)){t=h,r[u]=null;break}}if(t==null){if(b===null)return document.createTextNode(_);t=s?document.createElementNS("http://www.w3.org/2000/svg",b):document.createElement(b,_.is&&_),r=null,o=!1}if(b===null)p===_||o&&t.data===_||(t.data=_);else{if(r=r&&zC.call(t.childNodes),p=n.props||tk,!o&&r!=null)for(p={},u=0;u<t.attributes.length;u++)p[(h=t.attributes[u]).name]=h.value;for(u in p)h=p[u],u=="children"||(u=="dangerouslySetInnerHTML"?c=h:u==="key"||u in _||np(t,u,null,h,s));for(u in _)h=_[u],u=="children"?f=h:u=="dangerouslySetInnerHTML"?d=h:u=="value"?g=h:u=="checked"?v=h:u==="key"||o&&typeof h!="function"||p[u]===h||np(t,u,h,p[u],s);if(d)o||c&&(d.__html===c.__html||d.__html===t.innerHTML)||(t.innerHTML=d.__html),e.__k=[];else if(c&&(t.innerHTML=""),oU(t,M0(f)?f:[f],e,n,i,s&&b!=="foreignObject",r,a,r?r[0]:n.__k&&mh(n,0),o,l),r!=null)for(u=r.length;u--;)r[u]!=null&&rU(r[u]);o||(u="value",g!==void 0&&(g!==t[u]||b==="progress"&&!g||b==="option"&&g!==p[u])&&np(t,u,g,p[u],!1),u="checked",v!==void 0&&v!==t[u]&&np(t,u,v,p[u],!1))}return t}function WC(t,e,n){try{typeof t=="function"?t(e):t.current=e}catch(i){dt.__e(i,n)}}function ik(t,e,n){var i,s;if(dt.unmount&&dt.unmount(t),(i=t.ref)&&(i.current&&i.current!==t.__e||WC(i,null,e)),(i=t.__c)!=null){if(i.componentWillUnmount)try{i.componentWillUnmount()}catch(r){dt.__e(r,e)}i.base=i.__P=null,t.__c=void 0}if(i=t.__k)for(s=0;s<i.length;s++)i[s]&&ik(i[s],e,n||typeof t.type!="function");n||t.__e==null||rU(t.__e),t.__=t.__e=t.__d=void 0}function Qye(t,e,n){return this.constructor(t,n)}function Jye(t,e){var n={__c:e="__cC"+iU++,__:t,Consumer:function(i,s){return i.children(s)},Provider:function(i){var s,r;return this.getChildContext||(s=[],(r={})[e]=this,this.getChildContext=function(){return r},this.shouldComponentUpdate=function(a){this.props.value!==a.value&&s.some(function(o){o.__e=!0,nk(o)})},this.sub=function(a){s.push(a);var o=a.componentWillUnmount;a.componentWillUnmount=function(){s.splice(s.indexOf(a),1),o&&o.call(a)}}),i.children}};return n.Provider.__=n.Consumer.contextType=n}zC=sU.slice,dt={__e:function(t,e,n,i){for(var s,r,a;e=e.__;)if((s=e.__c)&&!s.__)try{if((r=s.constructor)&&r.getDerivedStateFromError!=null&&(s.setState(r.getDerivedStateFromError(t)),a=s.__d),s.componentDidCatch!=null&&(s.componentDidCatch(t,i||{}),a=s.__d),a)return s.__E=s}catch(o){t=o}throw t}},eU=0,tU=function(t){return t!=null&&t.constructor==null},Na.prototype.setState=function(t,e){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=wl({},this.state),typeof t=="function"&&(t=t(wl({},n),this.props)),t&&wl(n,t),t!=null&&this.__v&&(e&&this._sb.push(e),nk(this))},Na.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),nk(this))},Na.prototype.render=ov,Cu=[],nU=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,ek=function(t,e){return t.__v.__b-e.__v.__b},cy.__r=0,iU=0;var sk,cr,h1,IM,DM=0,cU=[],Wp=[],AM=dt.__b,OM=dt.__r,RM=dt.diffed,MM=dt.__c,VM=dt.unmount;function Zye(t,e){dt.__h&&dt.__h(cr,t,DM||e),DM=0;var n=cr.__H||(cr.__H={__:[],__h:[]});return t>=n.__.length&&n.__.push({__V:Wp}),n.__[t]}function dU(t,e){var n=Zye(sk++,7);return nbe(n.__H,e)?(n.__V=t(),n.i=e,n.__h=t,n.__V):n.__}function ebe(){for(var t;t=cU.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(Yp),t.__H.__h.forEach(rk),t.__H.__h=[]}catch(e){t.__H.__h=[],dt.__e(e,t.__v)}}dt.__b=function(t){cr=null,AM&&AM(t)},dt.__r=function(t){OM&&OM(t),sk=0;var e=(cr=t.__c).__H;e&&(h1===cr?(e.__h=[],cr.__h=[],e.__.forEach(function(n){n.__N&&(n.__=n.__N),n.__V=Wp,n.__N=n.i=void 0})):(e.__h.forEach(Yp),e.__h.forEach(rk),e.__h=[],sk=0)),h1=cr},dt.diffed=function(t){RM&&RM(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(cU.push(e)!==1&&IM===dt.requestAnimationFrame||((IM=dt.requestAnimationFrame)||tbe)(ebe)),e.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.__V!==Wp&&(n.__=n.__V),n.i=void 0,n.__V=Wp})),h1=cr=null},dt.__c=function(t,e){e.some(function(n){try{n.__h.forEach(Yp),n.__h=n.__h.filter(function(i){return!i.__||rk(i)})}catch(i){e.some(function(s){s.__h&&(s.__h=[])}),e=[],dt.__e(i,n.__v)}}),MM&&MM(t,e)},dt.unmount=function(t){VM&&VM(t);var e,n=t.__c;n&&n.__H&&(n.__H.__.forEach(function(i){try{Yp(i)}catch(s){e=s}}),n.__H=void 0,e&&dt.__e(e,n.__v))};var LM=typeof requestAnimationFrame=="function";function tbe(t){var e,n=function(){clearTimeout(i),LM&&cancelAnimationFrame(e),setTimeout(t)},i=setTimeout(n,100);LM&&(e=requestAnimationFrame(n))}function Yp(t){var e=cr,n=t.__c;typeof n=="function"&&(t.__c=void 0,n()),cr=e}function rk(t){var e=cr;t.__c=t.__(),cr=e}function nbe(t,e){return!t||t.length!==e.length||e.some(function(n,i){return n!==t[i]})}function ibe(t,e){for(var n in e)t[n]=e[n];return t}function NM(t,e){for(var n in t)if(n!=="__source"&&!(n in e))return!0;for(var i in e)if(i!=="__source"&&t[i]!==e[i])return!0;return!1}function FM(t){this.props=t}(FM.prototype=new Na).isPureReactComponent=!0,FM.prototype.shouldComponentUpdate=function(t,e){return NM(this.props,t)||NM(this.state,e)};var BM=dt.__b;dt.__b=function(t){t.type&&t.type.__f&&t.ref&&(t.props.ref=t.ref,t.ref=null),BM&&BM(t)};var sbe=dt.__e;dt.__e=function(t,e,n,i){if(t.then){for(var s,r=e;r=r.__;)if((s=r.__c)&&s.__c)return e.__e==null&&(e.__e=n.__e,e.__k=n.__k),s.__c(t,e)}sbe(t,e,n,i)};var jM=dt.unmount;function hU(t,e,n){return t&&(t.__c&&t.__c.__H&&(t.__c.__H.__.forEach(function(i){typeof i.__c=="function"&&i.__c()}),t.__c.__H=null),(t=ibe({},t)).__c!=null&&(t.__c.__P===n&&(t.__c.__P=e),t.__c=null),t.__k=t.__k&&t.__k.map(function(i){return hU(i,e,n)})),t}function fU(t,e,n){return t&&n&&(t.__v=null,t.__k=t.__k&&t.__k.map(function(i){return fU(i,e,n)}),t.__c&&t.__c.__P===e&&(t.__e&&n.appendChild(t.__e),t.__c.__e=!0,t.__c.__P=n)),t}function f1(){this.__u=0,this.t=null,this.__b=null}function mU(t){var e=t.__.__c;return e&&e.__a&&e.__a(t)}function ip(){this.u=null,this.o=null}dt.unmount=function(t){var e=t.__c;e&&e.__R&&e.__R(),e&&32&t.__u&&(t.type=null),jM&&jM(t)},(f1.prototype=new Na).__c=function(t,e){var n=e.__c,i=this;i.t==null&&(i.t=[]),i.t.push(n);var s=mU(i.__v),r=!1,a=function(){r||(r=!0,n.__R=null,s?s(o):o())};n.__R=a;var o=function(){if(!--i.__u){if(i.state.__a){var l=i.state.__a;i.__v.__k[0]=fU(l,l.__c.__P,l.__c.__O)}var u;for(i.setState({__a:i.__b=null});u=i.t.pop();)u.forceUpdate()}};i.__u++||32&e.__u||i.setState({__a:i.__b=i.__v.__k[0]}),t.then(a,a)},f1.prototype.componentWillUnmount=function(){this.t=[]},f1.prototype.render=function(t,e){if(this.__b){if(this.__v.__k){var n=document.createElement("div"),i=this.__v.__k[0].__c;this.__v.__k[0]=hU(this.__b,n,i.__O=i.__P)}this.__b=null}var s=e.__a&&TM(ov,null,t.fallback);return s&&(s.__u&=-33),[TM(ov,null,e.__a?null:t.children),s]};var $M=function(t,e,n){if(++n[1]===n[0]&&t.o.delete(e),t.props.revealOrder&&(t.props.revealOrder[0]!=="t"||!t.o.size))for(n=t.u;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;t.u=n=n[2]}};(ip.prototype=new Na).__a=function(t){var e=this,n=mU(e.__v),i=e.o.get(t);return i[0]++,function(s){var r=function(){e.props.revealOrder?(i.push(s),$M(e,t,i)):s()};n?n(r):r()}},ip.prototype.render=function(t){this.u=null,this.o=new Map;var e=dy(t.children);t.revealOrder&&t.revealOrder[0]==="b"&&e.reverse();for(var n=e.length;n--;)this.o.set(e[n],this.u=[1,0,this.u]);return t.children},ip.prototype.componentDidUpdate=ip.prototype.componentDidMount=function(){var t=this;this.o.forEach(function(e,n){$M(t,n,e)})};var rbe=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,abe=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,obe=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,lbe=/[A-Z0-9]/g,ube=typeof document<"u",cbe=function(t){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/:/fil|che|ra/).test(t)};Na.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(t){Object.defineProperty(Na.prototype,t,{configurable:!0,get:function(){return this["UNSAFE_"+t]},set:function(e){Object.defineProperty(this,t,{configurable:!0,writable:!0,value:e})}})});var UM=dt.event;function dbe(){}function hbe(){return this.cancelBubble}function fbe(){return this.defaultPrevented}dt.event=function(t){return UM&&(t=UM(t)),t.persist=dbe,t.isPropagationStopped=hbe,t.isDefaultPrevented=fbe,t.nativeEvent=t};var mbe={enumerable:!1,configurable:!0,get:function(){return this.class}},HM=dt.vnode;dt.vnode=function(t){typeof t.type=="string"&&function(e){var n=e.props,i=e.type,s={};for(var r in n){var a=n[r];if(!(r==="value"&&"defaultValue"in n&&a==null||ube&&r==="children"&&i==="noscript"||r==="class"||r==="className")){var o=r.toLowerCase();r==="defaultValue"&&"value"in n&&n.value==null?r="value":r==="download"&&a===!0?a="":o==="ondoubleclick"?r="ondblclick":o!=="onchange"||i!=="input"&&i!=="textarea"||cbe(n.type)?o==="onfocus"?r="onfocusin":o==="onblur"?r="onfocusout":obe.test(r)?r=o:i.indexOf("-")===-1&&abe.test(r)?r=r.replace(lbe,"-$&").toLowerCase():a===null&&(a=void 0):o=r="oninput",o==="oninput"&&s[r=o]&&(r="oninputCapture"),s[r]=a}}i=="select"&&s.multiple&&Array.isArray(s.value)&&(s.value=dy(n.children).forEach(function(l){l.props.selected=s.value.indexOf(l.props.value)!=-1})),i=="select"&&s.defaultValue!=null&&(s.value=dy(n.children).forEach(function(l){l.props.selected=s.multiple?s.defaultValue.indexOf(l.props.value)!=-1:s.defaultValue==l.props.value})),n.class&&!n.className?(s.class=n.class,Object.defineProperty(s,"className",mbe)):(n.className&&!n.class||n.class&&n.className)&&(s.class=s.className=n.className),e.props=s}(t),t.$$typeof=rbe,HM&&HM(t)};var zM=dt.__r;dt.__r=function(t){zM&&zM(t),t.__c};var WM=dt.diffed;dt.diffed=function(t){WM&&WM(t);var e=t.props,n=t.__e;n!=null&&t.type==="textarea"&&"value"in e&&e.value!==n.value&&(n.value=e.value==null?"":e.value)};function V0(){throw new Error("Cycle detected")}var vbe=Symbol.for("preact-signals");function YC(){if($d>1)$d--;else{for(var t,e=!1;um!==void 0;){var n=um;for(um=void 0,ak++;n!==void 0;){var i=n.o;if(n.o=void 0,n.f&=-3,!(8&n.f)&&pU(n))try{n.c()}catch(s){e||(t=s,e=!0)}n=i}}if(ak=0,$d--,e)throw t}}var ni=void 0,um=void 0,$d=0,ak=0,hy=0;function vU(t){if(ni!==void 0){var e=t.n;if(e===void 0||e.t!==ni)return e={i:0,S:t,p:ni.s,n:void 0,t:ni,e:void 0,x:void 0,r:e},ni.s!==void 0&&(ni.s.n=e),ni.s=e,t.n=e,32&ni.f&&t.S(e),e;if(e.i===-1)return e.i=0,e.n!==void 0&&(e.n.p=e.p,e.p!==void 0&&(e.p.n=e.n),e.p=ni.s,e.n=void 0,ni.s.n=e,ni.s=e),e}}function us(t){this.v=t,this.i=0,this.n=void 0,this.t=void 0}us.prototype.brand=vbe;us.prototype.h=function(){return!0};us.prototype.S=function(t){this.t!==t&&t.e===void 0&&(t.x=this.t,this.t!==void 0&&(this.t.e=t),this.t=t)};us.prototype.U=function(t){if(this.t!==void 0){var e=t.e,n=t.x;e!==void 0&&(e.x=n,t.e=void 0),n!==void 0&&(n.e=e,t.x=void 0),t===this.t&&(this.t=n)}};us.prototype.subscribe=function(t){var e=this;return qC(function(){var n=e.value,i=32&this.f;this.f&=-33;try{t(n)}finally{this.f|=i}})};us.prototype.valueOf=function(){return this.value};us.prototype.toString=function(){return this.value+""};us.prototype.toJSON=function(){return this.value};us.prototype.peek=function(){return this.v};Object.defineProperty(us.prototype,"value",{get:function(){var t=vU(this);return t!==void 0&&(t.i=this.i),this.v},set:function(t){if(ni instanceof lu&&function(){throw new Error("Computed cannot have side-effects")}(),t!==this.v){ak>100&&V0(),this.v=t,this.i++,hy++,$d++;try{for(var e=this.t;e!==void 0;e=e.x)e.t.N()}finally{YC()}}}});function gU(t){return new us(t)}function pU(t){for(var e=t.s;e!==void 0;e=e.n)if(e.S.i!==e.i||!e.S.h()||e.S.i!==e.i)return!0;return!1}function _U(t){for(var e=t.s;e!==void 0;e=e.n){var n=e.S.n;if(n!==void 0&&(e.r=n),e.S.n=e,e.i=-1,e.n===void 0){t.s=e;break}}}function yU(t){for(var e=t.s,n=void 0;e!==void 0;){var i=e.p;e.i===-1?(e.S.U(e),i!==void 0&&(i.n=e.n),e.n!==void 0&&(e.n.p=i)):n=e,e.S.n=e.r,e.r!==void 0&&(e.r=void 0),e=i}t.s=n}function lu(t){us.call(this,void 0),this.x=t,this.s=void 0,this.g=hy-1,this.f=4}(lu.prototype=new us).h=function(){if(this.f&=-3,1&this.f)return!1;if((36&this.f)==32||(this.f&=-5,this.g===hy))return!0;if(this.g=hy,this.f|=1,this.i>0&&!pU(this))return this.f&=-2,!0;var t=ni;try{_U(this),ni=this;var e=this.x();(16&this.f||this.v!==e||this.i===0)&&(this.v=e,this.f&=-17,this.i++)}catch(n){this.v=n,this.f|=16,this.i++}return ni=t,yU(this),this.f&=-2,!0};lu.prototype.S=function(t){if(this.t===void 0){this.f|=36;for(var e=this.s;e!==void 0;e=e.n)e.S.S(e)}us.prototype.S.call(this,t)};lu.prototype.U=function(t){if(this.t!==void 0&&(us.prototype.U.call(this,t),this.t===void 0)){this.f&=-33;for(var e=this.s;e!==void 0;e=e.n)e.S.U(e)}};lu.prototype.N=function(){if(!(2&this.f)){this.f|=6;for(var t=this.t;t!==void 0;t=t.x)t.t.N()}};lu.prototype.peek=function(){if(this.h()||V0(),16&this.f)throw this.v;return this.v};Object.defineProperty(lu.prototype,"value",{get:function(){1&this.f&&V0();var t=vU(this);if(this.h(),t!==void 0&&(t.i=this.i),16&this.f)throw this.v;return this.v}});function gbe(t){return new lu(t)}function bU(t){var e=t.u;if(t.u=void 0,typeof e=="function"){$d++;var n=ni;ni=void 0;try{e()}catch(i){throw t.f&=-2,t.f|=8,GC(t),i}finally{ni=n,YC()}}}function GC(t){for(var e=t.s;e!==void 0;e=e.n)e.S.U(e);t.x=void 0,t.s=void 0,bU(t)}function pbe(t){if(ni!==this)throw new Error("Out-of-order effect");yU(this),ni=t,this.f&=-2,8&this.f&&GC(this),YC()}function lg(t){this.x=t,this.u=void 0,this.s=void 0,this.o=void 0,this.f=32}lg.prototype.c=function(){var t=this.S();try{if(8&this.f||this.x===void 0)return;var e=this.x();typeof e=="function"&&(this.u=e)}finally{t()}};lg.prototype.S=function(){1&this.f&&V0(),this.f|=1,this.f&=-9,bU(this),_U(this),$d++;var t=ni;return ni=this,pbe.bind(this,t)};lg.prototype.N=function(){2&this.f||(this.f|=2,this.o=um,um=this)};lg.prototype.d=function(){this.f|=8,1&this.f||GC(this)};function qC(t){var e=new lg(t);try{e.c()}catch(n){throw e.d(),n}return e.d.bind(e)}var m1;function Jh(t,e){dt[t]=e.bind(null,dt[t]||function(){})}function fy(t){m1&&m1(),m1=t&&t.S()}function wU(t){var e=this,n=t.data,i=ybe(n);i.value=n;var s=dU(function(){for(var r=e.__v;r=r.__;)if(r.__c){r.__c.__$f|=4;break}return e.__$u.c=function(){var a;!tU(s.peek())&&((a=e.base)==null?void 0:a.nodeType)===3?e.base.data=s.peek():(e.__$f|=1,e.setState({}))},gbe(function(){var a=i.value.value;return a===0?0:a===!0?"":a||""})},[]);return s.value}wU.displayName="_st";Object.defineProperties(us.prototype,{constructor:{configurable:!0,value:void 0},type:{configurable:!0,value:wU},props:{configurable:!0,get:function(){return{data:this}}},__b:{configurable:!0,value:1}});Jh("__b",function(t,e){if(typeof e.type=="string"){var n,i=e.props;for(var s in i)if(s!=="children"){var r=i[s];r instanceof us&&(n||(e.__np=n={}),n[s]=r,i[s]=r.peek())}}t(e)});Jh("__r",function(t,e){fy();var n,i=e.__c;i&&(i.__$f&=-2,(n=i.__$u)===void 0&&(i.__$u=n=function(s){var r;return qC(function(){r=this}),r.c=function(){i.__$f|=1,i.setState({})},r}())),fy(n),t(e)});Jh("__e",function(t,e,n,i){fy(),t(e,n,i)});Jh("diffed",function(t,e){fy();var n;if(typeof e.type=="string"&&(n=e.__e)){var i=e.__np,s=e.props;if(i){var r=n.U;if(r)for(var a in r){var o=r[a];o!==void 0&&!(a in i)&&(o.d(),r[a]=void 0)}else n.U=r={};for(var l in i){var u=r[l],d=i[l];u===void 0?(u=_be(n,l,d,s),r[l]=u):u.o(d,s)}}}t(e)});function _be(t,e,n,i){var s=e in t&&t.ownerSVGElement===void 0,r=gU(n);return{o:function(a,o){r.value=a,i=o},d:qC(function(){var a=r.value.value;i[e]!==a&&(i[e]=a,s?t[e]=a:a?t.setAttribute(e,a):t.removeAttribute(e))})}}Jh("unmount",function(t,e){if(typeof e.type=="string"){var n=e.__e;if(n){var i=n.U;if(i){n.U=void 0;for(var s in i){var r=i[s];r&&r.d()}}}}else{var a=e.__c;if(a){var o=a.__$u;o&&(a.__$u=void 0,o.d())}}t(e)});Jh("__h",function(t,e,n,i){(i<3||i===9)&&(e.__$f|=2),t(e,n,i)});Na.prototype.shouldComponentUpdate=function(t,e){var n=this.__$u;if(!(n&&n.s!==void 0||4&this.__$f)||3&this.__$f)return!0;for(var i in e)return!0;for(var s in t)if(s!=="__source"&&t[s]!==this.props[s])return!0;for(var r in this.props)if(!(r in t))return!0;return!1};function ybe(t){return dU(function(){return gU(t)},[])}Jye({});var YM;(function(t){t.MONTH_DAYS="month-days",t.YEARS="years"})(YM||(YM={}));var ok;(function(t){t[t.SUNDAY=0]="SUNDAY",t[t.MONDAY=1]="MONDAY",t[t.TUESDAY=2]="TUESDAY",t[t.WEDNESDAY=3]="WEDNESDAY",t[t.THURSDAY=4]="THURSDAY",t[t.FRIDAY=5]="FRIDAY",t[t.SATURDAY=6]="SATURDAY"})(ok||(ok={}));ok.MONDAY;var GM;(function(t){t[t.JANUARY=0]="JANUARY",t[t.FEBRUARY=1]="FEBRUARY",t[t.MARCH=2]="MARCH",t[t.APRIL=3]="APRIL",t[t.MAY=4]="MAY",t[t.JUNE=5]="JUNE",t[t.JULY=6]="JULY",t[t.AUGUST=7]="AUGUST",t[t.SEPTEMBER=8]="SEPTEMBER",t[t.OCTOBER=9]="OCTOBER",t[t.NOVEMBER=10]="NOVEMBER",t[t.DECEMBER=11]="DECEMBER"})(GM||(GM={}));var Eu;(function(t){t.SLASH="/",t.DASH="-",t.PERIOD="."})(Eu||(Eu={}));var Iu;(function(t){t.DMY="DMY",t.MDY="MDY",t.YMD="YMD"})(Iu||(Iu={}));Eu.SLASH,Iu.MDY,Eu.SLASH,Iu.DMY,Eu.SLASH,Iu.YMD,Eu.PERIOD,Iu.DMY,Eu.DASH,Iu.YMD;var qM;(function(t){t.TOP_START="top-start",t.TOP_END="top-end",t.BOTTOM_START="bottom-start",t.BOTTOM_END="bottom-end"})(qM||(qM={}));const bbe=Tt({__name:"CalendarView",setup(t){const e=Wv(),n=Rc(),i=R(()=>e.query.filters),s=Gv(),r=Y([]),a=[],o=Y(!1),l=Y(!1),u=Y(1),d=Y([]),c=Y("00:00"),f=Y("24:00"),h=J6(),g=Q6(),v=q6(),p=H$({locale:"it-IT",views:[s4(),Tle(),Mle(),Yle()],defaultView:kle.name,events:[],plugins:[h,g,v],callbacks:{beforeRender(P){const C=P.calendarState.range.value;S(C)},onRangeUpdate(P){S(P)}}});we(e,()=>u.value++),we(d,()=>k()),we(i,()=>T(),{immediate:!0}),we(r,()=>T()),we(s.global.name,b);const _=R(()=>c.value=="08:00");function b(){p&&(s.global.name.value=="myCustomDarkTheme"?p.setTheme("dark"):p.setTheme("light"))}function x(){_.value?(c.value="00:00",f.value="24:00"):(c.value="08:00",f.value="22:00"),v.setDayBoundaries({start:c.value,end:f.value});const P=v.getWeekOptions(),C=parseInt(f.value.split(":")[0])-parseInt(c.value.split(":")[0]);v.setWeekOptions({...P,gridHeight:Math.max(1e3*C/24,400)})}function k(){d.value.length==0?n.push("/calendar"):n.push("/calendar?filters="+d.value.join(","))}async function I(P){g.close(),n.push(`/lesson/${P}`)}function E(){p&&(console.log(a),a.forEach(P=>{P._options||(P._options={}),h.get(P.id)?h.update(P):h.add(P)}),h.getAll().forEach(P=>{a.findIndex(D=>D.id==P.id)==-1&&h.remove(P.id)}))}function T(){var P;d.value=((P=i.value)==null?void 0:P.split(","))??r.value.map(C=>C.id),S()}async function S(P){if(P??(P=v.getRange()),!P)return;a.length=0,o.value=!0;const C={date:rt.fromDate(new Date(P.start)),time:Ut.fromHHMM(P.start.split(" ")[1])},D={date:rt.fromDate(new Date(P.end)),time:Ut.fromHHMM(P.end.split(" ")[1])};for await(const A of d.value){const N=await uy.instance.getCalendarLessons(A,C,D),B=Array.from(new Set(N.map(G=>G.title).filter(Boolean))),H=await _r.instance.getStudentsOfSchoolWithIds(A,B);N.forEach(G=>{const z=H.find(X=>X.id==G.title);z&&(G.title=z.name+" "+z.surname)}),a.push(...N)}E(),o.value=!1}async function w(){l.value=!0,r.value=await Lr.instance.getAll();const P=o4(...r.value);v.setCalendars(P),l.value=!1}return Pt(async()=>{x(),await w()}),(P,C)=>{const D=j("v-select"),A=j("v-col"),N=j("v-icon"),B=j("v-fab-transition"),H=j("v-btn"),G=j("v-row"),z=j("v-progress-linear"),X=j("v-spacer"),W=j("v-card-actions"),Z=j("v-card"),ee=j("v-card-text");return be(),De(Z,{class:"pa-3",title:"Calendario delle lezioni",elevation:"0"},{prepend:M(()=>[m(sg,{delta:u.value},null,8,["delta"])]),default:M(()=>[m(ee,null,{default:M(()=>[m(G,{class:"mt-1 mb-3 justify-center align-center"},{default:M(()=>[m(A,{cols:"12",md:"8"},{default:M(()=>[m(D,{variant:"outlined",chips:"",label:"Scuole",modelValue:d.value,"onUpdate:modelValue":C[0]||(C[0]=le=>d.value=le),items:r.value,multiple:"","item-title":"name","item-value":"id",loading:l.value,"hide-details":""},null,8,["modelValue","items","loading"])]),_:1}),m(A,{cols:"auto"},{default:M(()=>[m(H,{onClick:x,"hide-details":""},{default:M(()=>[m(B,null,{default:M(()=>[_.value?(be(),De(N,{key:1},{default:M(()=>C[2]||(C[2]=[Ee("mdi-arrow-expand-vertical")])),_:1})):(be(),De(N,{key:0},{default:M(()=>C[1]||(C[1]=[Ee("mdi-content-cut")])),_:1}))]),_:1})]),_:1})]),_:1})]),_:1}),m(z,{active:o.value,color:"primary",indeterminate:""},null,8,["active"]),m(ie(Z6),{"calendar-app":ie(p)},{eventModal:M(({calendarEvent:le})=>[m(Z,{elevation:"3",title:le.title,text:le.description},{subtitle:M(()=>[m(N,null,{default:M(()=>C[3]||(C[3]=[Ee("mdi-clock-outline")])),_:1}),Ee(" "+at(ie(dh)(le.start.split(" ")[0])+"  "+le.start.split(" ")[1]+" - "+le.end.split(" ")[1]),1)]),default:M(()=>[m(W,null,{default:M(()=>[m(X),m(H,{text:"vai",onClick:ue=>I(le.data.dailyLessonId)},null,8,["onClick"])]),_:2},1024)]),_:2},1032,["title","text"])]),_:1},8,["calendar-app"])]),_:1})]),_:1})}}});var lk;(function(t){t.DragAndDrop="dragAndDrop",t.EventModal="eventModal",t.ScrollController="scrollController",t.EventRecurrence="eventRecurrence",t.Resize="resize",t.CalendarControls="calendarControls",t.CurrentTime="currentTime"})(lk||(lk={}));class wbe extends Error{constructor(e){super(`Invalid time string: ${e}`)}}const xbe=/^(0[0-9]|1[0-9]|2[0-3]):[0-5][0-9]$/,ld=/^(\d{4})-(\d{2})-(\d{2}) (0[0-9]|1[0-9]|2[0-3]):[0-5][0-9]$/,sp=/^(\d{4})-(\d{2})-(\d{2})$/,XM={DATE_STRING:/^\d{4}-\d{2}-\d{2}$/,TIME_STRING:/^\d{2}:\d{2}$/,DATE_TIME_STRING:/^\d{4}-\d{2}-\d{2} \d{2}:\d{2}$/};class Sbe extends Error{constructor(e){super(`Invalid date time specification: ${e}`)}}const xU=t=>{if(!XM.DATE_TIME_STRING.test(t)&&!XM.DATE_STRING.test(t))throw new Sbe(t);return new Date(Number(t.slice(0,4)),Number(t.slice(5,7))-1,Number(t.slice(8,10)),Number(t.slice(11,13)),Number(t.slice(14,16)))},uk=t=>{const e=t.slice(11,13),n=t.slice(14,16);return{year:Number(t.slice(0,4)),month:Number(t.slice(5,7))-1,date:Number(t.slice(8,10)),hours:e!==""?Number(e):void 0,minutes:n!==""?Number(n):void 0}};class kbe extends Error{constructor(e,n){super(`Number must be between ${e} and ${n}.`),Object.defineProperty(this,"min",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"max",{enumerable:!0,configurable:!0,writable:!0,value:n})}}const my=t=>{if(t<0||t>99)throw new kbe(0,99);return String(t).padStart(2,"0")},XC=t=>`${t.getFullYear()}-${my(t.getMonth()+1)}-${my(t.getDate())}`,Tbe=t=>`${my(t.getHours())}:${my(t.getMinutes())}`,SU=t=>`${XC(t)} ${Tbe(t)}`,kU=1.6666666666666667,KM=t=>{if(!xbe.test(t)&&t!=="24:00")throw new wbe(t);const[e,n]=t.split(":").map(s=>parseInt(s,10));let i=(n*kU).toString();return i.split(".")[0].length<2&&(i=`0${i}`),Number(e+i)},QM=(t,e)=>{const n=e/kU,i=xU(t);return i.setMinutes(i.getMinutes()+n),SU(i)},Aa=(t,e)=>{const{year:n,month:i,date:s,hours:r,minutes:a}=uk(t),o=r!==void 0&&a!==void 0,l=new Date(n,i,s,r??0,a??0);return l.setDate(l.getDate()+e),o?SU(l):XC(l)},Xs=t=>t.slice(0,10),ck=t=>t.slice(11),JM=(t,e)=>{const n=ck(t);return`${e} ${n}`},TU=t=>"time-grid-event-copy-"+t,Pbe=(t,e,n)=>{var i;(i=t.config.plugins.eventRecurrence)===null||i===void 0||i.updateRecurrenceDND(e.id,n,e.start)},Cbe=(t,e)=>{const n=t.calendarEvents.list.value.find(i=>i.id===e.id);n&&(n.start=e.start,n.end=e.end,t.calendarEvents.list.value=[...t.calendarEvents.list.value])},KC=(t,e,n)=>{"rrule"in e._getForeignProperties()&&t.config.plugins.eventRecurrence?Pbe(t,e,n):Cbe(t,e),t.config.callbacks.onEventUpdate&&t.config.callbacks.onEventUpdate(e._getExternalEvent())},Ebe=t=>"touches"in t&&typeof t.touches=="object",PU=t=>{const e=Ebe(t)?t.touches[0]:t;return{clientX:e.clientX,clientY:e.clientY}},Ibe=t=>t.config.timePointsPerDay/t.config.weekOptions.value.gridHeight,QC=(t,e,n,i,s)=>{const r=t.config.callbacks.onBeforeEventUpdate;if(r){const a=e._getExternalEvent();a.start=n,a.end=i;const o=e._getExternalEvent();if(!r(a,o,t))return s==null||s(void 0),!0}return!1};class Dbe{constructor(e,n,i,s,r,a){Object.defineProperty(this,"$app",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"eventCoordinates",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(this,"eventCopy",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"updateCopy",{enumerable:!0,configurable:!0,writable:!0,value:s}),Object.defineProperty(this,"dayBoundariesDateTime",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"CHANGE_THRESHOLD_IN_TIME_POINTS",{enumerable:!0,configurable:!0,writable:!0,value:a}),Object.defineProperty(this,"dayWidth",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"startY",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"startX",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"lastIntervalDiff",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"lastDaysDiff",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"originalStart",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"originalEnd",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"handleMouseOrTouchMove",{enumerable:!0,configurable:!0,writable:!0,value:o=>{const{clientX:l,clientY:u}=PU(o),c=(u-this.startY)*this.timePointsPerPixel(),f=Math.round(c/this.CHANGE_THRESHOLD_IN_TIME_POINTS),h=l-this.startX,g=Math.round(h/this.dayWidth);this.handleVerticalMouseOrTouchMove(f),this.handleHorizontalMouseOrTouchMove(g)}}),Object.defineProperty(this,"handleMouseUpOrTouchEnd",{enumerable:!0,configurable:!0,writable:!0,value:()=>{document.removeEventListener("mousemove",this.handleMouseOrTouchMove),document.removeEventListener("touchmove",this.handleMouseOrTouchMove),this.updateCopy(void 0),!QC(this.$app,this.eventCopy,this.originalStart,this.originalEnd,this.updateCopy)&&this.updateOriginalEvent()}}),this.dayWidth=e.elements.calendarWrapper.querySelector(".sx__time-grid-day").clientWidth,this.startY=this.eventCoordinates.clientY,this.startX=this.eventCoordinates.clientX,this.originalStart=this.eventCopy.start,this.originalEnd=this.eventCopy.end,this.init()}init(){document.addEventListener("mousemove",this.handleMouseOrTouchMove),document.addEventListener("mouseup",this.handleMouseUpOrTouchEnd,{once:!0}),document.addEventListener("touchmove",this.handleMouseOrTouchMove,{passive:!1}),document.addEventListener("touchend",this.handleMouseUpOrTouchEnd,{once:!0})}timePointsPerPixel(){return Ibe(this.$app)}handleVerticalMouseOrTouchMove(e){if(e===this.lastIntervalDiff)return;const n=e>this.lastIntervalDiff?this.CHANGE_THRESHOLD_IN_TIME_POINTS:-this.CHANGE_THRESHOLD_IN_TIME_POINTS;this.setTimeForEventCopy(n),this.lastIntervalDiff=e}setTimeForEventCopy(e){const n=QM(this.eventCopy.start,e),i=QM(this.eventCopy.end,e);n<Aa(this.dayBoundariesDateTime.start,this.lastDaysDiff)||i>Aa(this.dayBoundariesDateTime.end,this.lastDaysDiff)||(this.eventCopy.start=n,this.eventCopy.end=i,this.updateCopy(this.eventCopy))}handleHorizontalMouseOrTouchMove(e){if(e===this.lastDaysDiff)return;const n=e-this.lastDaysDiff,i=Aa(Xs(this.eventCopy.start),n),s=Aa(Xs(this.eventCopy.end),n),r=JM(this.eventCopy.start,i),a=JM(this.eventCopy.end,s);r<this.$app.calendarState.range.value.start||a>this.$app.calendarState.range.value.end||(this.setDateForEventCopy(r,a),this.transformEventCopyPosition(e),this.lastDaysDiff=e)}setDateForEventCopy(e,n){this.eventCopy.start=e,this.eventCopy.end=n,this.updateCopy(this.eventCopy)}transformEventCopyPosition(e){const n=this.$app.elements.calendarWrapper.querySelector("#"+TU(this.eventCopy.id));n.style.transform=`translateX(calc(${e*100}% + ${e}px))`}updateOriginalEvent(){if(this.lastIntervalDiff===0&&this.lastDaysDiff===0)return;const e=this.lastDaysDiff===0,n=document.querySelector(`[data-event-id="${this.eventCopy.id}"]`);!e&&n instanceof HTMLElement&&(n.style.display="none"),KC(this.$app,this.eventCopy,this.originalStart)}}const Abe=t=>t.elements.calendarWrapper.querySelector(".sx__time-grid-day").clientWidth,Obe=(t,e)=>t.elements.calendarWrapper.querySelector("#"+TU(e.id)),ZM=1e3*60*60*24;class Rbe{constructor(e,n,i,s){Object.defineProperty(this,"$app",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"eventCopy",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"updateCopy",{enumerable:!0,configurable:!0,writable:!0,value:s}),Object.defineProperty(this,"startX",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"dayWidth",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"originalStart",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"originalEnd",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"rangeStartDate",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"rangeEndDate",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"lastDaysDiff",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"handleMouseOrTouchMove",{enumerable:!0,configurable:!0,writable:!0,value:r=>{const{clientX:a}=PU(r),o=a-this.startX,l=Math.round(o/this.dayWidth);if(l===this.lastDaysDiff)return;const u=Aa(this.originalStart,l),d=Aa(this.originalEnd,l),c=Xs(u),f=Xs(d);if(c>this.rangeEndDate||f<this.rangeStartDate)return;this.eventCopy.start=u,this.eventCopy.end=d;const g=c>=this.rangeStartDate&&c<=this.rangeEndDate?c:this.rangeStartDate,p=f>=this.rangeStartDate&&f<=this.rangeEndDate?f:this.rangeEndDate;this.eventCopy._nDaysInGrid=Math.round((new Date(p).getTime()-new Date(g).getTime())/ZM)+1,c>=this.rangeStartDate&&this.transformEventCopyPosition(c),this.updateCopy(this.eventCopy),this.lastDaysDiff=l}}),Object.defineProperty(this,"handleMouseUpOrTouchEnd",{enumerable:!0,configurable:!0,writable:!0,value:()=>{document.removeEventListener("mousemove",this.handleMouseOrTouchMove),document.removeEventListener("touchmove",this.handleMouseOrTouchMove),!QC(this.$app,this.eventCopy,this.originalStart,this.originalEnd,this.updateCopy)&&(this.updateOriginalEvent(),setTimeout(()=>{this.updateCopy(void 0)},10))}}),this.startX=n.clientX,this.dayWidth=Abe(this.$app),this.originalStart=this.eventCopy.start,this.originalEnd=this.eventCopy.end,this.rangeStartDate=Xs(this.$app.calendarState.range.value.start),this.rangeEndDate=Aa(this.rangeStartDate,e.config.weekOptions.value.nDays-1),this.init()}init(){document.addEventListener("mousemove",this.handleMouseOrTouchMove),document.addEventListener("mouseup",this.handleMouseUpOrTouchEnd,{once:!0}),document.addEventListener("touchmove",this.handleMouseOrTouchMove,{passive:!1}),document.addEventListener("touchend",this.handleMouseUpOrTouchEnd,{once:!0})}transformEventCopyPosition(e){const n=Xs(this.originalStart),i=Math.round((new Date(e).getTime()-new Date(n>=this.rangeStartDate?n:this.rangeStartDate).getTime())/ZM);Obe(this.$app,this.eventCopy).style.transform=`translateX(calc(${i*this.dayWidth}px + ${i}px))`}updateOriginalEvent(){this.lastDaysDiff!==0&&KC(this.$app,this.eventCopy,this.originalStart)}}const eV=(t,e)=>{const{year:n,month:i,date:s}=uk(t),{year:r,month:a,date:o}=uk(e),l=new Date(n,i,s),d=new Date(r,a,o).getTime()-l.getTime();return Math.round(d/(1e3*3600*24))};var dk;(function(t){t[t.SUNDAY=0]="SUNDAY",t[t.MONDAY=1]="MONDAY",t[t.TUESDAY=2]="TUESDAY",t[t.WEDNESDAY=3]="WEDNESDAY",t[t.THURSDAY=4]="THURSDAY",t[t.FRIDAY=5]="FRIDAY",t[t.SATURDAY=6]="SATURDAY"})(dk||(dk={}));dk.MONDAY;const Mbe="primary";class Vbe{constructor(e,n,i,s,r,a,o,l,u,d=void 0,c={},f={}){Object.defineProperty(this,"_config",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"id",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(this,"start",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"end",{enumerable:!0,configurable:!0,writable:!0,value:s}),Object.defineProperty(this,"title",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"people",{enumerable:!0,configurable:!0,writable:!0,value:a}),Object.defineProperty(this,"location",{enumerable:!0,configurable:!0,writable:!0,value:o}),Object.defineProperty(this,"description",{enumerable:!0,configurable:!0,writable:!0,value:l}),Object.defineProperty(this,"calendarId",{enumerable:!0,configurable:!0,writable:!0,value:u}),Object.defineProperty(this,"_options",{enumerable:!0,configurable:!0,writable:!0,value:d}),Object.defineProperty(this,"_customContent",{enumerable:!0,configurable:!0,writable:!0,value:c}),Object.defineProperty(this,"_foreignProperties",{enumerable:!0,configurable:!0,writable:!0,value:f}),Object.defineProperty(this,"_previousConcurrentEvents",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_totalConcurrentEvents",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_nDaysInGrid",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_eventFragments",{enumerable:!0,configurable:!0,writable:!0,value:{}})}get _isSingleDayTimed(){return ld.test(this.start)&&ld.test(this.end)&&Xs(this.start)===Xs(this.end)}get _isSingleDayFullDay(){return sp.test(this.start)&&sp.test(this.end)&&this.start===this.end}get _isMultiDayTimed(){return ld.test(this.start)&&ld.test(this.end)&&Xs(this.start)!==Xs(this.end)}get _isMultiDayFullDay(){return sp.test(this.start)&&sp.test(this.end)&&this.start!==this.end}get _isSingleHybridDayTimed(){if(!this._config.isHybridDay||!ld.test(this.start)||!ld.test(this.end))return!1;const e=Xs(this.start),n=Xs(this.end),i=XC(new Date(xU(n).getTime()-864e5));if(e!==n&&e!==i)return!1;const s=this._config.dayBoundaries.value,r=KM(ck(this.start)),a=KM(ck(this.end));return r>=s.start&&(a<=s.end||a>r)||r<s.end&&a<=s.end}get _color(){return this.calendarId&&this._config.calendars.value&&this.calendarId in this._config.calendars.value?this._config.calendars.value[this.calendarId].colorName:Mbe}_getForeignProperties(){return this._foreignProperties}_getExternalEvent(){return{id:this.id,start:this.start,end:this.end,title:this.title,people:this.people,location:this.location,description:this.description,calendarId:this.calendarId,_options:this._options,...this._getForeignProperties()}}}class Lbe{constructor(e,n,i,s){Object.defineProperty(this,"_config",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"id",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(this,"start",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"end",{enumerable:!0,configurable:!0,writable:!0,value:s}),Object.defineProperty(this,"people",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"location",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"description",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"title",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"calendarId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_foreignProperties",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_options",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_customContent",{enumerable:!0,configurable:!0,writable:!0,value:{}})}build(){return new Vbe(this._config,this.id,this.start,this.end,this.title,this.people,this.location,this.description,this.calendarId,this._options,this._customContent,this._foreignProperties)}withTitle(e){return this.title=e,this}withPeople(e){return this.people=e,this}withLocation(e){return this.location=e,this}withDescription(e){return this.description=e,this}withForeignProperties(e){return this._foreignProperties=e,this}withCalendarId(e){return this.calendarId=e,this}withOptions(e){return this._options=e,this}withCustomContent(e){return this._customContent=e,this}}const Nbe=(t,e)=>{const n=new Lbe(e.config,t.id,t.start,t.end).withTitle(t.title).withPeople(t.people).withCalendarId(t.calendarId).withForeignProperties(JSON.parse(JSON.stringify(t._getForeignProperties()))).withLocation(t.location).withDescription(t.description).withOptions(t._options).withCustomContent(t._customContent).build();return n._nDaysInGrid=t._nDaysInGrid,n};class Fbe{constructor(e,n){Object.defineProperty(this,"calendarEvent",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"$app",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(this,"allDayElements",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"currentDragoverDate",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"eventNDays",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"originalStart",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"originalEnd",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"MONTH_DAY_CLASS_NAME",{enumerable:!0,configurable:!0,writable:!0,value:"sx__month-grid-day"}),Object.defineProperty(this,"MONTH_DAY_SELECTOR",{enumerable:!0,configurable:!0,writable:!0,value:`.${this.MONTH_DAY_CLASS_NAME}`}),Object.defineProperty(this,"DAY_DRAGOVER_CLASS_NAME",{enumerable:!0,configurable:!0,writable:!0,value:"sx__month-grid-day--dragover"}),Object.defineProperty(this,"handleDragOver",{enumerable:!0,configurable:!0,writable:!0,value:i=>{i.preventDefault();let s=i.target;if((!(s instanceof HTMLDivElement)||!s.classList.contains(this.MONTH_DAY_CLASS_NAME))&&(s=i.target.closest(this.MONTH_DAY_SELECTOR)),this.currentDragoverDate===s.dataset.date)return;this.currentDragoverDate=s.dataset.date;const r=Aa(this.currentDragoverDate,this.eventNDays-1);this.allDayElements.forEach(a=>{const o=a.dataset.date;o>=this.currentDragoverDate&&o<=r?a.classList.add(this.DAY_DRAGOVER_CLASS_NAME):a.classList.remove(this.DAY_DRAGOVER_CLASS_NAME)})}}),Object.defineProperty(this,"handleDragEnd",{enumerable:!0,configurable:!0,writable:!0,value:()=>{this.allDayElements.forEach(s=>{s.removeEventListener("dragover",this.handleDragOver),s.classList.remove(this.DAY_DRAGOVER_CLASS_NAME)}),this.setCalendarEventPointerEventsTo("auto"),!QC(this.$app,this.calendarEvent,this.originalStart,this.originalEnd)&&this.updateCalendarEvent()}}),Object.defineProperty(this,"setCalendarEventPointerEventsTo",{enumerable:!0,configurable:!0,writable:!0,value:i=>{var s;((s=this.$app.elements.calendarWrapper)===null||s===void 0?void 0:s.querySelectorAll(".sx__event")).forEach(r=>{String(r.dataset.eventId)!==String(this.calendarEvent.id)&&(r.style.pointerEvents=i)})}}),Object.defineProperty(this,"updateCalendarEvent",{enumerable:!0,configurable:!0,writable:!0,value:()=>{const i=Nbe(this.calendarEvent,this.$app),s=eV(Xs(this.calendarEvent.start),Xs(this.currentDragoverDate));i.start=Aa(i.start,s),i.end=Aa(i.end,s),KC(this.$app,i,this.originalStart)}}),this.originalStart=this.calendarEvent.start,this.originalEnd=this.calendarEvent.end,this.allDayElements=n.elements.calendarWrapper.querySelectorAll(this.MONTH_DAY_SELECTOR),this.eventNDays=eV(this.calendarEvent.start,this.calendarEvent.end)+1,this.init()}init(){document.addEventListener("dragend",this.handleDragEnd,{once:!0}),this.allDayElements.forEach(e=>{e.addEventListener("dragover",this.handleDragOver)}),this.setCalendarEventPointerEventsTo("none")}}const Bbe=(t,e)=>(e.name=t,e);class jbe{onRender(e){e.elements.calendarWrapper&&(e.elements.calendarWrapper.dataset.hasDnd="true")}constructor(e){Object.defineProperty(this,"minutesPerInterval",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:lk.DragAndDrop})}createTimeGridDragHandler(e,n){return new Dbe(e.$app,e.eventCoordinates,e.eventCopy,e.updateCopy,n,this.getTimePointsForIntervalConfig())}getTimePointsForIntervalConfig(){return this.minutesPerInterval===60?100:this.minutesPerInterval===30?50:25}createDateGridDragHandler(e){return new Rbe(e.$app,e.eventCoordinates,e.eventCopy,e.updateCopy)}createMonthGridDragHandler(e,n){return new Fbe(e,n)}}const $be=(t=15)=>Bbe("dragAndDrop",new jbe(t)),CU=Tt({__name:"EditLessonTime",props:{startTime:{},endTime:{},minutesOfLesson:{default:60}},emits:["close","save"],setup(t,{emit:e}){const n=t,i=e,s=Y(!1),r=Y(!1),a=Y(!0),o=ra({startTime:Fn().required("L'Orario di inizio Lezione  obbligatorio").label("Orario di inizio Lezione"),endTime:Fn().required("L'Orario di fine Lezione  obbligatorio").label("Orario di fine Lezione")}),{defineField:l,handleSubmit:u}=Hl({validationSchema:o}),d=b=>({props:{"error-messages":b.errors}}),[c,f]=l("startTime",d),[h,g]=l("endTime",d),v=u(async b=>{var x,k;if((((x=Ut.fromHHMM(c.value))==null?void 0:x.getTotalMinutes())??0)>(((k=Ut.fromHHMM(h.value))==null?void 0:k.getTotalMinutes())??0)){et.warning("L'orario di inizio lezione deve essere antecedente all'orario di fine lezione");return}i("save",{...b})},b=>{et.warn("Ci sono alcuni errori! Inserisci correttamente i dati"),console.log(b)});we(n,()=>p(),{immediate:!0}),we(c,()=>_()),we(a,()=>_());function p(){n.startTime&&(c.value=n.startTime),n.endTime&&(h.value=n.endTime),_()}function _(){if(a.value&&n.minutesOfLesson!=null){const b=Ut.fromHHMM(c.value);if(!b)return;h.value=Ut.fromITime((b.getTotalMinutes()+n.minutesOfLesson)*60).format()}}return(b,x)=>{const k=j("v-checkbox"),I=j("v-col"),E=j("v-time-picker"),T=j("v-dialog"),S=j("v-text-field"),w=j("v-row"),P=j("v-card-text"),C=j("v-spacer"),D=j("v-btn"),A=j("v-card-actions"),N=j("v-card");return be(),De(N,{title:"Modifica orario lezione",elevation:"2"},{default:M(()=>[m(P,null,{default:M(()=>[m(w,{justify:"space-around"},{default:M(()=>[m(I,{cols:"11",md:"6"},{default:M(()=>[m(k,{modelValue:a.value,"onUpdate:modelValue":x[0]||(x[0]=B=>a.value=B),label:"Allinea la data di fine lezione in base alla durata della lezione definita dallo studente"},null,8,["modelValue"])]),_:1}),m(I,{cols:"11",sm:"5"},{default:M(()=>[m(S,J({modelValue:ie(c),"onUpdate:modelValue":x[3]||(x[3]=B=>Je(c)?c.value=B:null),active:s.value,focus:s.value,label:"Data di inizio"},ie(f),{"prepend-icon":"mdi-clock-time-four-outline",readonly:""}),{default:M(()=>[m(T,{modelValue:s.value,"onUpdate:modelValue":x[2]||(x[2]=B=>s.value=B),activator:"parent",width:"auto"},{default:M(()=>[s.value?(be(),De(E,{key:0,format:"24hr",modelValue:ie(c),"onUpdate:modelValue":x[1]||(x[1]=B=>Je(c)?c.value=B:null)},null,8,["modelValue"])):Yt("",!0)]),_:1},8,["modelValue"])]),_:1},16,["modelValue","active","focus"])]),_:1}),m(I,{cols:"11",sm:"5"},{default:M(()=>[m(S,J({modelValue:ie(h),"onUpdate:modelValue":x[6]||(x[6]=B=>Je(h)?h.value=B:null),active:r.value,focused:r.value,label:"Data di fine"},ie(g),{"prepend-icon":"mdi-clock-time-four-outline",disabled:a.value,readonly:""}),{default:M(()=>[m(T,{modelValue:r.value,"onUpdate:modelValue":x[5]||(x[5]=B=>r.value=B),activator:"parent",width:"auto"},{default:M(()=>[r.value?(be(),De(E,{key:0,format:"24hr",modelValue:ie(h),"onUpdate:modelValue":x[4]||(x[4]=B=>Je(h)?h.value=B:null)},null,8,["modelValue"])):Yt("",!0)]),_:1},8,["modelValue"])]),_:1},16,["modelValue","active","focused","disabled"])]),_:1})]),_:1})]),_:1}),m(A,null,{default:M(()=>[m(C),m(D,{text:"Annulla",variant:"plain",onClick:x[7]||(x[7]=Ju(B=>i("close"),["stop"]))}),m(D,{color:"primary",text:"Modifica",variant:"tonal",onClick:Ju(ie(v),["stop"])},null,8,["onClick"])]),_:1})]),_:1})}}}),EU=Tt({__name:"DailyLessonCalendar",props:Dl({date:{default:()=>rt.today()},editable:{type:Boolean,default:!1},showDay:{type:Boolean,default:!1},sort:{type:Boolean,default:!1},school:{},trimTime:{type:Boolean,default:!0}},{modelValue:{default:[]},modelModifiers:{}}),emits:Dl(["edit"],["update:modelValue"]),setup(t,{emit:e}){const n=t,i=Gv(),s=e,r=Al(t,"modelValue"),a=Y([]),o=Y(!1);let l="24:00",u="00:00";we(r,()=>p(),{deep:!0}),we(i.global.name,v),we(()=>n.trimTime,_);const d=J6(),c=Q6(),f=$be(15),h=q6(),g=H$({locale:"it-IT",selectedDate:n.date.toIyyyyMMdd("-",1),views:[s4()],events:[],plugins:n.editable?[f,d,c,h]:[f,d,h],callbacks:{onEventUpdate(T){const S=a.value.find(w=>w.id==T.id);S&&(S.start=T.start,S.end=T.end,k(T))}},calendars:o4(n.school)});function v(){g&&(i.global.name.value=="myCustomDarkTheme"?g.setTheme("dark"):g.setTheme("light"))}function p(){l="24:00",u="00:00",a.value=b(),a.value.forEach(T=>{T._options||(T._options={}),T._options.disableDND=!n.editable,d.get(T.id)?d.update(T):d.add(T);let S=T.start.split(" ")[1],w=T.end.split(" ")[1];S<l&&(l=S),w>u&&(u=w)}),d.getAll().forEach(T=>{a.value.findIndex(w=>w.id==T.id)==-1&&d.remove(T.id)}),_()}function _(){if(n.trimTime){l>="01:00"?l=Ut.fromHHMM(l).add({hour:-1}).format():l="00:00",u<="23:00"?u=Ut.fromHHMM(u).add({hour:1}).format():u="24:00",h.setDayBoundaries({start:l,end:u});const T=h.getWeekOptions(),S=parseInt(u.split(":")[0])-parseInt(l.split(":")[0]);h.setWeekOptions({...T,gridHeight:Math.max(1e3*S/24,400)})}else h.setDayBoundaries({start:"00:00",end:"24:00"})}function b(){const T=n.date.toIyyyyMMdd("-",1);return r.value.map(S=>"lessonId"in S?(console.log(S),{id:S.lessonId,start:T+" "+Ut.fromITime(S.startTime).format(),end:T+" "+Ut.fromITime(S.endTime).format(),title:`${S.name} ${S.surname} - ${Vs[S.lessonDay??0]}`,calendarId:S.schoolId.toLowerCase(),data:{...S}}):S)}function x(T,S){var A,N;if(!T)return;const w=a.value.find(B=>B.id==T.id);if(!w)return;const P={...T},C=(A=P.start)==null?void 0:A.split(" "),D=(N=P.end)==null?void 0:N.split(" ");w.start=C[0]+" "+S.startTime,w.end=D[0]+" "+S.endTime,k(w),o.value=!1}function k(T){var w,P;const S=r.value.find(C=>"lessonId"in C?C.lessonId==T.id:C.id==T.id);S&&("lessonId"in S?(S.startTime=((w=Ut.fromHHMM(T.start.split(" ")[1]))==null?void 0:w.toITime())??S.startTime,S.endTime=((P=Ut.fromHHMM(T.end.split(" ")[1]))==null?void 0:P.toITime())??S.endTime):(S.start=T.start,S.end=T.end),n.sort&&r.value.sort((C,D)=>C.startTime-D.startTime),s("edit"))}function I(){const T=document.getElementsByClassName("sx__calendar-header")[0];T.style.display=T.style.display=="none"?"":"none",E()}function E(T=0){const S=document.getElementsByClassName("sx__week-header")[0];S?S.style.display=n.showDay?"":"none":T>=10?console.error("Unable to hide day header"):setTimeout(()=>E(T+1),10)}return Pt(()=>{I(),p()}),(T,S)=>{const w=j("v-spacer"),P=j("v-btn"),C=j("v-dialog"),D=j("v-card-actions"),A=j("v-card"),N=j("v-container");return be(),De(N,null,{default:M(()=>[m(ie(Z6),{"calendar-app":ie(g)},{eventModal:M(({calendarEvent:B})=>[m(A,{elevation:"3",title:B.title,subtitle:B.start.split(" ")[1]+" - "+B.end.split(" ")[1],text:B.description},{default:M(()=>[m(D,null,{default:M(()=>[m(w),m(C,{modelValue:o.value,"onUpdate:modelValue":S[2]||(S[2]=H=>o.value=H),transition:"dialog-bottom-transition"},{activator:M(({props:H})=>[m(P,{text:"Chiudi",onClick:S[0]||(S[0]=G=>ie(c).close())}),m(P,J({text:"Modifica",color:"primary"},H,{onClick:S[1]||(S[1]=Ju(()=>{},["stop"]))}),null,16)]),default:M(({isActive:H})=>{var G,z;return[m(CU,{onClose:X=>H.value=!1,onSave:X=>x(B,X),startTime:(G=B.start)==null?void 0:G.split(" ")[1],endTime:(z=B.end)==null?void 0:z.split(" ")[1],minutesOfLesson:B.data.minutesLessonDuration},null,8,["onClose","onSave","startTime","endTime","minutesOfLesson"])]}),_:2},1032,["modelValue"])]),_:2},1024)]),_:2},1032,["title","subtitle","text"])]),_:1},8,["calendar-app"])]),_:1})}}}),ug=Tt({__name:"DeleteDialog",props:{objName:{default:"Oggetto"},useToast:{type:Boolean,default:!0},name:{},onDelete:{}},emits:["delete"],setup(t,{emit:e}){const n=t,i=Y(!1),s=Y(!1);async function r(){var o;s.value=!0;const a=await((o=n.onDelete)==null?void 0:o.call(n))??!1;n.useToast&&(a?et.success(`${n.objName} eliminato/a`):et.warning("Errore durante l'eliminazione")),s.value=!1,i.value=a}return(a,o)=>{const l=j("v-card-text"),u=j("v-btn"),d=j("v-spacer"),c=j("v-card-actions"),f=j("v-card"),h=j("v-dialog");return be(),De(h,{modelValue:i.value,"onUpdate:modelValue":o[1]||(o[1]=g=>i.value=g)},{activator:M(({props:g})=>[DH(a.$slots,"activator",AV(Yk({props:g})))]),default:M(()=>[m(f,{"prepend-icon":"mdi-alert",class:"mx-auto","max-width":"500",title:"Elimina "+a.objName},{default:M(()=>[m(l,null,{default:M(()=>[Re("p",null,[o[2]||(o[2]=Ee("Sei sicuro di voler eliminare ")),Re("b",null,at(a.name),1),o[3]||(o[3]=Ee("?"))]),o[4]||(o[4]=Re("br",null,null,-1)),o[5]||(o[5]=Re("p",null,[Ee("Dopo avere eliminato la risorsa "),Re("b",null,"NON"),Ee("  pi possibile recuperare i dati!")],-1))]),_:1}),m(c,null,{default:M(()=>[m(u,{text:"Annulla",onClick:o[0]||(o[0]=g=>i.value=!1)}),m(d),m(u,{color:"surface-variant",text:"Elimina",variant:"flat",onClick:r,loading:s.value},null,8,["loading"])]),_:1})]),_:1},8,["title"])]),_:3},8,["modelValue"])}}}),IU=Tt({__name:"SelectStudents",props:Dl({allStudents:{default:()=>[]}},{modelValue:{default:[]},modelModifiers:{}}),emits:["update:modelValue"],setup(t){const e=t,n=Al(t,"modelValue"),i=R(()=>n.value.length===e.allStudents.length),s=R(()=>n.value.length>0);function r(o){return{title:o.name+" "+o.surname,id:o.id}}function a(){i.value?n.value=[]:n.value=e.allStudents.slice()}return(o,l)=>{const u=j("v-checkbox-btn"),d=j("v-list-item"),c=j("v-divider"),f=j("v-select");return be(),De(f,{modelValue:n.value,"onUpdate:modelValue":l[0]||(l[0]=h=>n.value=h),items:o.allStudents,label:"Studenti","item-props":r,"return-object":!0,multiple:"","no-data-text":"Nessuno studente disponibile per questa scuola"},SL({_:2},[o.allStudents.length>1?{name:"prepend-item",fn:M(()=>[m(d,{title:"Seleziona tutti",onClick:a},{prepend:M(()=>[m(u,{color:s.value?"indigo-darken-4":void 0,indeterminate:s.value&&!i.value,"model-value":i.value},null,8,["color","indeterminate","model-value"])]),_:1}),m(c,{class:"mt-2"})]),key:"0"}:void 0]),1032,["modelValue","items"])}}}),Ube=Tt({__name:"LessonItem",props:Dl({school:{},onDeleteLessonItem:{type:Function},updateLessonTime:{type:Function},moveLesson:{type:Function}},{item:{required:!0},itemModifiers:{},select:{},selectModifiers:{}}),emits:Dl(["present","absent","reset","trial","updateLessonTime","deleteStudent"],["update:item","update:select"]),setup(t,{emit:e}){const n=t,i=Al(t,"item"),s=Al(t,"select"),r=e,a=Y(!1),o=Y(!1),l=Y(),u=Y(!1);async function d(f){await n.updateLessonTime(f)&&(a.value=!1)}async function c(){u.value=!0,l.value&&(await n.moveLesson(l.value)?(o.value=!1,l.value=void 0):et.warn("Impossibile spostare la lezione...")),u.value=!1}return(f,h)=>{const g=j("v-checkbox"),v=j("v-card-title"),p=j("v-btn"),_=j("v-col"),b=j("v-row"),x=j("v-card-actions"),k=j("v-card"),I=j("v-dialog"),E=j("v-date-picker"),T=j("v-card-text"),S=j("v-spacer"),w=j("v-icon");return be(),De(k,{elevation:"3"},{default:M(()=>[m(v,null,{default:M(()=>[m(g,{modelValue:s.value,"onUpdate:modelValue":h[0]||(h[0]=P=>s.value=P),value:i.value.id,multiple:""},{label:M(()=>[Re("span",null,[Re("b",null,at(ie(Ut).fromITime(i.value.startTime).format())+" - "+at(ie(Ut).fromITime(i.value.endTime).format()),1),h[7]||(h[7]=Ee("  ")),Re("i",null,at(i.value.name)+" "+at(i.value.surname),1)])]),_:1},8,["modelValue","value"])]),_:1}),m(T,null,{default:M(()=>{var P,C,D,A;return[!i.value.recovery||i.value.recovery.ref=="original"?(be(),wt(Ie,{key:0},[i.value.status!=ie(Mt).TRIAL&&i.value.status!=ie(Mt).PRESENT&&((P=i.value.moved)==null?void 0:P.ref)!="moved"?(be(),De(p,{key:0,class:"ma-1",onClick:h[1]||(h[1]=N=>r("present"))},{default:M(()=>h[8]||(h[8]=[Ee("presente")])),_:1})):Yt("",!0),m(I,{transition:"dialog-bottom-transition"},{activator:M(({props:N})=>{var B;return[i.value.status!=ie(Mt).TRIAL&&i.value.status!=ie(Mt).ABSENT&&i.value.status!=ie(Mt).UNJUSTIFIED_ABSENCE&&((B=i.value.moved)==null?void 0:B.ref)!="moved"?(be(),De(p,J({key:0,class:"ma-1"},N),{default:M(()=>h[9]||(h[9]=[Ee("assente")])),_:2},1040)):Yt("",!0)]}),default:M(({isActive:N})=>[m(k,{title:"Assenza",text:"Lo studente avr modo di recuperare la lezione oppure  un'assenza ingiustificata?"},{default:M(()=>[m(x,null,{default:M(()=>[m(b,{class:"justify-end"},{default:M(()=>[m(_,{cols:"auto"},{default:M(()=>[m(p,{text:"Assenza Ingiustificata",onClick:B=>{N.value=!1,r("absent",!1)}},null,8,["onClick"])]),_:2},1024),m(_,{cols:"auto"},{default:M(()=>[m(p,{text:"Assenza Recuperabile",color:"primary",onClick:B=>{N.value=!1,r("absent",!0)}},null,8,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:1}),i.value.status==ie(Mt).NONE&&!((C=i.value.trial)!=null&&C.done)?(be(),De(p,{key:1,class:"ma-1",onClick:h[2]||(h[2]=N=>r("trial"))},{default:M(()=>h[10]||(h[10]=[Ee("prova")])),_:1})):Yt("",!0),i.value.status!=ie(Mt).NONE||((D=i.value.moved)==null?void 0:D.ref)=="moved"?(be(),De(p,{key:2,class:"ma-1",onClick:h[3]||(h[3]=N=>r("reset"))},{default:M(()=>h[11]||(h[11]=[Ee("reset")])),_:1})):Yt("",!0),i.value.moved?i.value.moved.ref=="moved"?(be(),De(p,{key:4,class:"ma-1",to:`/lesson/${i.value.moved.lessonRef.dailyLessonId}`},{prepend:M(()=>[m(w,null,{default:M(()=>h[13]||(h[13]=[Ee("mdi-eye-arrow-right-outline")])),_:1})]),default:M(()=>[h[14]||(h[14]=Ee("spostata"))]),_:1},8,["to"])):(be(),De(p,{key:5,class:"ma-1",to:`/lesson/${i.value.moved.lessonRef.dailyLessonId}`},{prepend:M(()=>[m(w,null,{default:M(()=>h[15]||(h[15]=[Ee("mdi-eye-arrow-left-outline")])),_:1})]),default:M(()=>[h[16]||(h[16]=Ee(" origine"))]),_:1},8,["to"])):(be(),De(I,{key:3,modelValue:o.value,"onUpdate:modelValue":h[5]||(h[5]=N=>o.value=N),transition:"dialog-bottom-transition",fullscreen:""},{activator:M(({props:N})=>[!i.value.recovery&&i.value.status==ie(Mt).NONE?(be(),De(p,J({key:0,class:"ma-1"},N),{default:M(()=>h[12]||(h[12]=[Ee("sposta")])),_:2},1040)):Yt("",!0)]),default:M(({isActive:N})=>[m(k,null,{default:M(()=>[m(T,null,{default:M(()=>[m(E,{class:"w-100",modelValue:l.value,"onUpdate:modelValue":h[4]||(h[4]=B=>l.value=B)},null,8,["modelValue"])]),_:1}),m(x,null,{default:M(()=>[m(S),m(p,{text:"Annulla",onClick:B=>{N.value=!1,l.value=void 0}},null,8,["onClick"]),m(p,{color:"primary",text:"Sposta",onClick:c,loading:u.value,disabled:!l.value},null,8,["loading","disabled"])]),_:2},1024)]),_:2},1024)]),_:1},8,["modelValue"])),m(I,{modelValue:a.value,"onUpdate:modelValue":h[6]||(h[6]=N=>a.value=N),transition:"dialog-bottom-transition",fullscreen:""},{activator:M(({props:N})=>[m(p,J({class:"ma-1"},N),{default:M(()=>h[17]||(h[17]=[Ee("modifica orario")])),_:2},1040)]),default:M(({isActive:N})=>[m(CU,{onClose:B=>N.value=!1,onSave:d,startTime:ie(Ut).fromITime(i.value.startTime).format(),endTime:ie(Ut).fromITime(i.value.endTime).format(),minutesOfLesson:i.value.minutesLessonDuration},null,8,["onClose","startTime","endTime","minutesOfLesson"])]),_:1},8,["modelValue"]),((A=i.value.recovery)==null?void 0:A.ref)=="original"?(be(),De(p,{key:6,class:"ma-1",to:`/lesson/${i.value.recovery.lessonRef.dailyLessonId}`},{prepend:M(()=>[m(w,null,{default:M(()=>h[18]||(h[18]=[Ee("mdi-eye-arrow-left-outline")])),_:1})]),default:M(()=>[h[19]||(h[19]=Ee(" origine"))]),_:1},8,["to"])):Yt("",!0)],64)):(be(),De(p,{key:1,class:"ma-1",to:`/lesson/${i.value.recovery.lessonRef.dailyLessonId}`},{prepend:M(()=>[m(w,null,{default:M(()=>h[20]||(h[20]=[Ee("mdi-eye-arrow-right-outline")])),_:1})]),default:M(()=>[h[21]||(h[21]=Ee("recupero"))]),_:1},8,["to"])),m(I,{fullscreen:""},{activator:M(({props:N})=>[m(p,J({class:"ma-1"},N),{default:M(()=>h[22]||(h[22]=[Ee(" note ")])),_:2},1040)]),default:M(({isActive:N})=>[m(ly,{edit:"",school:f.school,initialStudent:i.value,focus:"note",disableFields:["name","surname","contact","lessonDay","level","minutesLessonDuration"],onClose:B=>N.value=!1,onSave:B=>{i.value.note=B.note,N.value=!1}},null,8,["school","initialStudent","onClose","onSave"])]),_:1}),m(ug,{name:`${i.value.name} ${i.value.surname}`,objName:"Studente",onDelete:f.onDeleteLessonItem},{activator:M(({props:N})=>[m(p,J({color:"error"},N),{default:M(()=>h[23]||(h[23]=[Ee("elimina")])),_:2},1040)]),_:1},8,["name","onDelete"])]}),_:1})]),_:1})}}}),Hbe={class:"text-h5 text-center"},zbe={class:"text-subtitle"},Wbe=Tt({__name:"DailyLessonView",setup(t){const e=Wv(),n=Rc(),i=R(()=>e.params.id),s=Rt.instance.observe(i),r=_P(s);console.log(r);const a=Y(),o=Y([]),l=Y(!1),u=Y([]),d=Y([]),c=Y([]),f=Y(!1),h=Y(!1),g=Y(!1),v=Y(!1),p=Y(!1),_=Y(!1),b=Y(!0),x=Y(0),k=R(()=>{var $,q;return isNaN((($=r.value)==null?void 0:$.salary)??0)?0:(q=r.value)==null?void 0:q.salary}),I=R(()=>o.value.length!=0),E=R(()=>f.value||h.value||!a.value||!r.value||b.value);let T;we(r,()=>le()),we(s,()=>b.value=!0),we(o,()=>{o.value.length==0&&(l.value=!1)});function S($){return $.recovery&&$.recovery.ref=="recovery"?"#5093fc":$.moved&&$.moved.ref=="moved"?"#ffb135":$.status==Mt.NONE?"#46494C":$.status==Mt.PRESENT?"#45de62":$.status==Mt.ABSENT||$.status==Mt.UNJUSTIFIED_ABSENCE?"#df4a36":$.status==Mt.TRIAL?"#2ecfc0":"#808080"}async function w($){G();const q=o.value.map(re=>u.value.find(ge=>ge.id==re)).filter(re=>!!re);q.push($),q.forEach(re=>re.status=Mt.PRESENT),o.value=[],await ue(),await To.instance.updateRecovery(Hp.SET_PRESENT,r.value.schoolId,...q.map(re=>({...re,dailyLessonId:r.value.id})))}async function P($,q=!0){G();const re=o.value.map(ge=>u.value.find(fe=>fe.id==ge)).filter(ge=>!!ge);re.push($),re.forEach(ge=>ge.status=q?Mt.ABSENT:Mt.UNJUSTIFIED_ABSENCE),o.value=[],await ue(),q&&await To.instance.updateRecovery(Hp.SET_ABSENT,r.value.schoolId,...re.map(ge=>({...ge,dailyLessonId:r.value.id})))}async function C($){var q,re;$&&(G(),$.status=Mt.TRIAL,await ue(),await _r.instance.setTrialDone($,(q=r.value)==null?void 0:q.date,(re=r.value)==null?void 0:re.id))}async function D($){var q;if($){G();const re=$.status==Mt.TRIAL;if($.status=Mt.NONE,$.moved){const ge=(q=r.value)==null?void 0:q.lessons.find(fe=>fe.lessonId==$.lessonId);ge&&(await wi.instance.undoMoveDailyLesson(ge),$.moved=ge.moved)}await ue(),await To.instance.updateRecovery(Hp.RESET,r.value.schoolId,{...$,dailyLessonId:r.value.id}),re&&await _r.instance.unsetTrial($)}}async function A($,q){var re;if(!$||!a.value||!q)return console.warn("Unable to move the lesson because the event/school/date is undefined!"),!1;try{const ge=(re=r.value)==null?void 0:re.lessons.find(fe=>fe.lessonId==$.lessonId);return ge?(await wi.instance.moveDailyLesson(a.value.id,r.value.id,ge,q),$.moved=ge.moved,await ue(),!0):!1}catch(ge){return console.warn(ge),!1}}async function N($,q){var fe,ye;const re=(fe=Ut.fromHHMM(q.startTime))==null?void 0:fe.toITime(),ge=(ye=Ut.fromHHMM(q.endTime))==null?void 0:ye.toITime();return re==null||ge==null?!1:(G(),$.startTime=re,$.endTime=ge,u.value.sort((L,F)=>L.startTime-F.startTime),await ue(),!0)}function B(){l.value?o.value=[]:o.value=[...u.value.map($=>$.id)]}let H;function G(){H=JSON.stringify(u.value)}function z(){H!=null&&(u.value=JSON.parse(H))}async function X(){if(r.value)try{g.value=!0;const $=r.value.lessons.map(re=>re.studentId),q=await _r.instance.getStudentsOfSchool(r.value.schoolId);d.value=q.filter(re=>!$.includes(re.id)),c.value=[]}catch($){et.warn("Impossibile caricare gli studenti..."),console.log($)}finally{g.value=!1}}async function W(){p.value=!0;const $={...r.value};c.value.forEach(q=>{var ge,fe;const re=((ge=$.lessons)==null?void 0:ge.length)==0?28800:$.lessons[$.lessons.length-1].endTime;(fe=$.lessons)==null||fe.push({lessonId:jd(),status:Mt.NONE,studentId:q.id,startTime:re,endTime:re+q.minutesLessonDuration*60,createdAt:At.now(),updatedAt:At.now()})});try{await Rt.instance.save($,$.id),et.success("Studenti aggiunti!"),_.value=!1,console.log("Document (daily lessons) update with ID: ",$.id)}catch{et.warning("Impossibile aggiungere gli studenti alla lezione giornaliera")}finally{p.value=!1}}async function Z(){if(!r.value)return!1;try{return await wi.instance.delete(r.value)&&et.info("La data  stata aggiunta ai giorni da escludere della lezione settimanale"),n.push(`/school/${a.value.id}`),!0}catch{return!1}}async function ee($,q=!0){if(!r.value)return!1;try{const re=await wi.instance.deleteLessonAndRecoveryReferences($,r.value,q);return re&&(!r.value||r.value.lessons.length==0)&&n.push(`/school/${a.value.id}`),re}catch(re){return console.warn("Unable to delete the student lesson...",re),!1}}async function le(){if(b.value=!1,!r.value)return;a.value||(h.value=!0,a.value=await Lr.instance.get(r.value.schoolId),h.value=!1);const $=u.value.map(ge=>ge.studentId),q=r.value.lessons.map(ge=>ge.studentId);Jle($,q)&&T==r.value.id||(f.value=!0,T=r.value.id,u.value=await av.instance.getStudentLesson(r.value,q),ce(),f.value=!1)}async function ue(){v.value=!0;const $=se();if($===void 0){v.value=!1;return}try{await Rt.instance.save($,$.id),et.success("Modifiche salvate",{autoClose:1e3}),v.value=!1}catch(q){console.error("Error adding document (dailyLesson): ",q),v.value=!1,z()}}function ce(){var $,q;(($=r.value)==null?void 0:$.salaryStrategy)!=((q=a.value)==null?void 0:q.salaryStrategy)&&(et.info("Aggiornamento dello stipendio giornaliero in corso..."),ue())}function se(){var fe,ye;const $=r.value;if($===void 0)return;const q=[];let re=0;$.lessons.forEach(L=>{const F=u.value.find(de=>de.id==L.studentId);if(console.log(F,L),F===void 0)return;const K={lessonId:L.lessonId,createdAt:L.createdAt,studentId:L.studentId,startTime:F.startTime,endTime:F.endTime,status:F.status,updatedAt:At.now()};L.recovery&&(K.recovery=L.recovery),L.moved&&(K.moved=L.moved),q.push(K),re+=rv.instance.computeSalaryByStudentLesson(a.value,F,$.date)});const ge={date:$.date,id:$.id,lessons:q.sort((L,F)=>L.startTime-F.startTime),schoolId:$.schoolId,lastSalaryUpdate:At.now(),salary:re};return((fe=a.value)==null?void 0:fe.salaryStrategy)!=null&&(ge.salaryStrategy=(ye=a.value)==null?void 0:ye.salaryStrategy),ge}return Us(()=>{}),Pt(async()=>{window.scrollTo(0,0)}),($,q)=>{const re=j("v-col"),ge=j("v-row"),fe=j("v-btn"),ye=j("v-card-text"),L=j("v-spacer"),F=j("v-card-actions"),K=j("v-card"),de=j("v-dialog"),ne=j("v-checkbox"),Se=j("v-icon"),Ve=j("v-btn-toggle"),ke=j("v-timeline-item"),Le=j("v-timeline"),Ce=j("v-slide-x-transition"),Ge=j("v-container"),Be=j("v-progress-circular"),Ke=j("v-overlay"),ze=j("v-skeleton-loader");return ie(r)&&a.value&&!E.value?(be(),De(Ge,{key:0,fluid:""},{default:M(()=>[m(ge,{class:"justify-center align-center mb-6"},{default:M(()=>[m(re,{cols:"auto"},{default:M(()=>[m(sg)]),_:1}),m(re,null,{default:M(()=>[m(ge,null,{default:M(()=>[m(re,null,{default:M(()=>[Re("p",Hbe,[q[7]||(q[7]=Ee("Lezione del ")),Re("b",null,at(ie(rt).fromIyyyyMMdd(ie(r).date).format()),1)])]),_:1})]),_:1}),m(ge,{class:"justify-center"},{default:M(()=>[m(re,{cols:"auto"},{default:M(()=>[Re("span",zbe,[q[8]||(q[8]=Ee(" Totale: ")),Re("b",null,at(k.value)+" ",1)])]),_:1})]),_:1})]),_:1})]),_:1}),m(ge,null,{default:M(()=>[m(re,null,{default:M(()=>[m(fe,{onClick:w,disabled:!I.value},{default:M(()=>q[9]||(q[9]=[Ee("presenti")])),_:1},8,["disabled"])]),_:1}),m(re,null,{default:M(()=>[m(fe,{onClick:P,disabled:!I.value},{default:M(()=>q[10]||(q[10]=[Ee("assenti")])),_:1},8,["disabled"])]),_:1}),m(re,null,{default:M(()=>[m(de,{modelValue:_.value,"onUpdate:modelValue":q[2]||(q[2]=$e=>_.value=$e),transition:"dialog-bottom-transition","max-width":"500",persistent:""},{activator:M(({props:$e})=>[m(fe,J({onClick:X},$e),{default:M(()=>q[11]||(q[11]=[Ee("Aggiungi studente")])),_:2},1040)]),default:M(()=>[m(K,{title:"Tutti gli studenti della scuola",loading:g.value},{default:M(()=>[m(ye,null,{default:M(()=>[m(IU,{modelValue:c.value,"onUpdate:modelValue":q[0]||(q[0]=$e=>c.value=$e),"all-students":d.value},null,8,["modelValue","all-students"])]),_:1}),m(F,null,{default:M(()=>[m(fe,{text:"Annulla",onClick:q[1]||(q[1]=$e=>_.value=!1)}),m(L),m(fe,{color:"primary",text:"Salva",onClick:W,loading:p.value},null,8,["loading"])]),_:1})]),_:1},8,["loading"])]),_:1},8,["modelValue"])]),_:1}),m(re,null,{default:M(()=>[m(ne,{modelValue:l.value,"onUpdate:modelValue":q[3]||(q[3]=$e=>l.value=$e),indeterminate:o.value.length!=0&&o.value.length!=u.value.length,onClick:B},null,8,["modelValue","indeterminate"])]),_:1}),m(re,null,{default:M(()=>[m(ug,{name:ie(rt).fromIyyyyMMdd(ie(r).date).format(),objName:"Lezione Giornaliera",onDelete:async()=>await Z()},{activator:M(({props:$e})=>[m(fe,J({color:"error"},$e,{ref:"deleteDailyLessonBtn"}),{default:M(()=>q[12]||(q[12]=[Ee("elimina lezione")])),_:2},1040)]),_:1},8,["name","onDelete"])]),_:1}),m(re,null,{default:M(()=>[m(Ve,{modelValue:x.value,"onUpdate:modelValue":q[4]||(q[4]=$e=>x.value=$e),mandatory:"",shaped:""},{default:M(()=>[m(fe,null,{default:M(()=>[m(Se,null,{default:M(()=>q[13]||(q[13]=[Ee("mdi-format-list-bulleted")])),_:1})]),_:1}),m(fe,null,{default:M(()=>[m(Se,null,{default:M(()=>q[14]||(q[14]=[Ee("mdi-calendar-week-begin-outline")])),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1}),m(Ge,{fluid:""},{default:M(()=>[m(Ce,{"leave-absolute":""},{default:M(()=>[x.value==1?(be(),De(EU,{key:0,date:ie(rt).fromIyyyyMMdd(ie(r).date),school:a.value,modelValue:u.value,"onUpdate:modelValue":q[5]||(q[5]=$e=>u.value=$e),editable:"",sort:"",onEdit:ue},null,8,["date","school","modelValue"])):(be(),De(Le,{key:1,side:"end","truncate-line":"both"},{default:M(()=>[(be(!0),wt(Ie,null,Si(u.value,($e,Vt)=>(be(),De(ke,{key:$e.id+ie(r).id,"dot-color":S($e),size:"small"},{default:M(()=>[(be(),De(Ube,{school:a.value,key:$e.id+ie(r).id,item:u.value[Vt],"onUpdate:item":_t=>u.value[Vt]=_t,select:o.value,"onUpdate:select":q[6]||(q[6]=_t=>o.value=_t),onPresent:_t=>w($e),onAbsent:_t=>P($e,_t),moveLesson:async _t=>await A($e,_t),onTrial:_t=>C($e),onReset:_t=>D($e),updateLessonTime:async _t=>await N($e,_t),onDeleteLessonItem:async()=>await ee($e)},null,8,["school","item","onUpdate:item","select","onPresent","onAbsent","moveLesson","onTrial","onReset","updateLessonTime","onDeleteLessonItem"]))]),_:2},1032,["dot-color"]))),128))]),_:1}))]),_:1})]),_:1}),m(Ke,{"model-value":v.value,class:"align-center justify-center"},{default:M(()=>[m(Be,{color:"primary",size:"64",indeterminate:""})]),_:1},8,["model-value"])]),_:1})):(be(),De(Ge,{key:1,fluid:""},{default:M(()=>[m(ze,{class:"mx-auto",type:"heading"}),m(ze,{class:"mx-auto justify-center",type:"chip, chip, chip, chip, chip, chip, chip"}),(be(),wt(Ie,null,Si(3,$e=>m(ze,{key:$e,class:"mx-auto justify-center mt-4","max-width":"75%",elevation:"3",type:"sentences, chip, chip, chip, chip"})),64))]),_:1}))}}}),tV=()=>{const t=new WeakSet;return(e,n)=>{if(typeof n=="object"&&n!==null){if(t.has(n))return;t.add(n)}return n}};var Hn=(t=>(t[t.ERROR=0]="ERROR",t[t.WARNING=1]="WARNING",t[t.INFO=2]="INFO",t[t.EXCEPTION=3]="EXCEPTION",t[t.PROMISE_REJECTION=4]="PROMISE_REJECTION",t[t.ALL=5]="ALL",t))(Hn||{});const $y=class $y{constructor(){on(this,"logs",[]);on(this,"logs2",[]);on(this,"_subscription",new S6)}static get instance(){return this._instance||(this._instance=new $y),this._instance}get subscription(){return this._subscription}get enabled(){return Qs.getItem("debugEnabled")??!0}push(e,...n){if(!this.enabled)return;let i="";try{i=JSON.stringify(n,tV())}catch(r){i=JSON.stringify(r,tV())}const s=new Date;this.logs.push({level:e,message:i,timestamp:s}),this._subscription.next(this.logs)}clear(){this.logs.length=0,this._subscription.next(this.logs)}};on($y,"_instance",null);let xl=$y;const Ybe={key:0,class:"text-caption"},Gbe={key:1,class:"text-caption"},qbe={key:2,class:"text-caption"},Xbe=Tt({__name:"LogConsole",props:{bufferSize:{default:250}},setup(t){const e=t,n=Y([]),i=Y([]),s=Y(!0),r=Y(!0),a=kH("consoleOutput"),o=[{text:()=>`Totale ${n.value.length}`,icon:"mdi-format-list-bulleted",color:"",type:Hn.ALL},{text:()=>`Errori ${n.value.filter(_=>_.level==Hn.ERROR||_.level==Hn.EXCEPTION||_.level==Hn.PROMISE_REJECTION).length}`,icon:"mdi-close-octagon",color:"error",type:Hn.ERROR},{text:()=>`Warning ${n.value.filter(_=>_.level==Hn.WARNING).length}`,icon:"mdi-alert-outline",color:"warning",type:Hn.WARNING},{text:()=>`Info ${n.value.filter(_=>_.level==Hn.INFO).length}`,icon:"mdi-information-outline",color:"info",type:Hn.INFO}],l=Y([]);let u;we(l,()=>{l.value.length==0||l.value.includes(Hn.ALL)?i.value=n.value:i.value=n.value.filter(_=>l.value.includes(_.level)),p()});function d(){xl.instance.clear()}async function c(){const _=i.value.map(b=>b.timestamp.toJSON()+" - "+b.message).join(`
`);navigator.clipboard.writeText(_)}function f(){s.value=!s.value}function h(){r.value=!r.value,p()}function g(_){if(l.value.includes(_))l.value=[];else{const b=[_];_==Hn.ERROR&&b.push(Hn.EXCEPTION,Hn.PROMISE_REJECTION),l.value=b}}function v(_){i.value=n.value=[..._].splice(0,e.bufferSize),p()}function p(){r.value&&setTimeout(()=>{var _,b;(b=a.value)==null||b.$el.scrollTo({top:(_=a.value)==null?void 0:_.$el.scrollHeight,behavior:"smooth"})},100)}return Pt(()=>{u=xl.instance.subscription.subscribe({next:_=>v(_)},!0)}),Us(()=>{u==null||u.unsubscribe()}),(_,b)=>{const x=j("v-btn"),k=j("v-spacer"),I=j("v-system-bar"),E=j("v-icon"),T=j("v-list-item-title"),S=j("v-list-item"),w=j("v-list"),P=j("v-col"),C=j("v-slide-x-transition"),D=j("v-card"),A=j("v-card-text"),N=j("v-row"),B=j("v-main"),H=j("v-layout");return be(),De(D,{class:"console-card"},{default:M(()=>[m(H,null,{default:M(()=>[m(I,{color:"pink-darken-2",style:{height:"35px"}},{default:M(()=>[m(x,{class:"ms-1",density:"compact",variant:"text",icon:"mdi-dots-vertical",onClick:f}),m(x,{class:"ms-1",density:"compact",variant:"text",icon:"mdi-format-vertical-align-bottom",color:r.value?"yellow":"",onClick:h},null,8,["color"]),m(x,{class:"ms-1",density:"compact",variant:"text",icon:"mdi-content-copy",onClick:c}),m(k),m(x,{class:"ms-1",density:"compact",variant:"text",icon:"mdi-delete",onClick:d})]),_:1}),m(B,null,{default:M(()=>[m(N,{class:"pa-0 pt-3"},{default:M(()=>[m(C,{"hide-on-leave":""},{default:M(()=>[s.value?(be(),De(P,{key:0,class:"my-4 border-e-thin"},{default:M(()=>[m(w,{lines:!1,density:"compact",nav:""},{default:M(()=>[(be(),wt(Ie,null,Si(o,(G,z)=>m(S,{key:z,value:G,color:"primary",onClick:X=>g(G.type)},{prepend:M(()=>[m(E,{icon:G.icon,color:G.color},null,8,["icon","color"])]),default:M(()=>[m(T,null,{default:M(()=>[Ee(at(G.text()),1)]),_:2},1024)]),_:2},1032,["value","onClick"])),64))]),_:1})]),_:1})):Yt("",!0)]),_:1}),m(P,{md:s.value?10:12},{default:M(()=>[m(A,{class:"console-output px-2",ref_key:"consoleOutput",ref:a},{default:M(()=>[(be(!0),wt(Ie,null,Si(i.value,(G,z)=>(be(),De(D,{key:z,class:"log-entry my-1 pa-1"},{default:M(()=>[G.level==ie(Hn).ERROR||G.level==ie(Hn).EXCEPTION||G.level==ie(Hn).PROMISE_REJECTION?(be(),wt("p",Ybe,[m(E,{color:"error",class:"mr-2"},{default:M(()=>b[0]||(b[0]=[Ee("mdi-close-octagon")])),_:1}),Ee(" "+at(G.message),1)])):G.level==ie(Hn).WARNING?(be(),wt("p",Gbe,[m(E,{color:"warning",class:"mr-2"},{default:M(()=>b[1]||(b[1]=[Ee("mdi-alert-outline")])),_:1}),Ee(" "+at(G.message),1)])):(be(),wt("p",qbe,[m(E,{color:"info",class:"mr-2"},{default:M(()=>b[2]||(b[2]=[Ee("mdi-information-outline")])),_:1}),Ee(" "+at(G.message),1)]))]),_:2},1024))),128))]),_:1},512)]),_:1},8,["md"])]),_:1})]),_:1})]),_:1})]),_:1})}}}),JC=(t,e)=>{const n=t.__vccOpts||t;for(const[i,s]of e)n[i]=s;return n},Kbe=JC(Xbe,[["__scopeId","data-v-e81b5894"]]),Qbe=Tt({__name:"DebuggerView",setup(t){const e=Y(!1);return Pt(()=>{e.value=Qs.getItem("debugEnabled")??!1}),(n,i)=>{const s=j("v-col"),r=j("v-row"),a=j("v-icon"),o=j("v-btn"),l=j("v-container");return be(),De(l,{fluid:"",class:"mb-5"},{default:M(()=>[m(r,{class:"justify-center align-center mb-6"},{default:M(()=>[m(s,{cols:"auto"},{default:M(()=>[m(sg)]),_:1}),m(s,null,{default:M(()=>i[0]||(i[0]=[Re("p",{class:"text-h5 text-center"},"Log dell'applicazione",-1)])),_:1})]),_:1}),m(r,null,{default:M(()=>[e.value?(be(),De(s,{key:0},{default:M(()=>[m(Kbe)]),_:1})):(be(),De(s,{key:1,class:"text-center"},{default:M(()=>[Re("p",null,[i[3]||(i[3]=Ee("La console di debug non  abilitata. Abilitala tramite le ")),m(o,{to:"settings",variant:"text"},{default:M(()=>[m(a,null,{default:M(()=>i[1]||(i[1]=[Ee("mdi-link")])),_:1}),i[2]||(i[2]=Ee(" impostazioni"))]),_:1})])]),_:1}))]),_:1})]),_:1})}}}),Jbe={key:0,class:"text-h5 font-weight-bold"},Zbe={key:1,class:"text-h5 font-weight-bold"},e0e={key:0,class:"text-center text-body-2"},t0e={key:1,class:"text-center text-body-2"},n0e=Tt({__name:"LoginView",setup(t){const e=new URL("/teachers-agenda/assets/logo-CDaN8MiQ.png",import.meta.url).href,n=ra({lEmail:Fn().required("L'email  obbligatoria").label("Email").email(),lPassword:Fn().required("La password  obbligatoria").label("Password").min(8)}),i=ra({rName:Fn().label("Nome"),rEmail:Fn().required("L'email  obbligatoria").label("Email").email(),rPassword:Fn().required("La password  obbligatoria").label("Password").min(8),rPasswordConfirm:Fn().oneOf([W_e("rPassword")],"Le passwords devono essere uguali").required().label("Ripeti password")}),s=Hl({validationSchema:n}),r=Hl({validationSchema:i}),a=B=>({props:{"error-messages":B.errors}}),[o,l]=s.defineField("lEmail",a),[u,d]=s.defineField("lPassword",a),[c,f]=r.defineField("rName",a),[h,g]=r.defineField("rEmail",a),[v,p]=r.defineField("rPassword",a),[_,b]=r.defineField("rPasswordConfirm",a),x=Y(Qs.getItem("userSettings")??!1),k=Y(!1),I=Y(!1),E=Y(!1),T=Y("login"),S=oj();we(T,()=>{s.resetForm(),r.resetForm()}),we(x,B=>{B?w():Qs.removeItem("userSettings")}),we(o,()=>{x.value&&w()});function w(){const B={name:o.value};Qs.setItem("userSettings",B)}async function P(){(await s.validate()).valid&&k7(S,o.value,u.value).catch(H=>{et.error("Login fallito: "+H),console.error("Failed signin",H)})}function C(){Y7(S,Ace).catch(B=>{et.error("Login fallito: "+B),console.error("Failed signin",B)})}function D(){et.warn("Login via facebook non disponibile")}async function A(){if(!(await s.validateField("lEmail")).valid){et.warning("Inserisci l'email per effettuare il reset della password. Un link sar inviato via email!");return}try{await x7(S,o.value),et.success("Controlla la tua email per effettuare il reset della password!")}catch(H){et.error("Reset della password fallito: "+H),console.error("Failed reset password",H)}}async function N(){if((await r.validate()).valid)try{const H=await S7(S,h.value,v.value);c.value.trim().length>0&&P7(H.user,{displayName:c.value.trim()})}catch(H){et.error("Registrazione fallita: "+H),console.error("Failed signup",H)}}return Pt(()=>{const B=Qs.getItem("userSettings");x.value=!!B,B&&B.name&&(o.value=B.name)}),(B,H)=>{const G=j("v-img"),z=j("v-row"),X=j("v-text-field"),W=j("v-col"),Z=j("v-checkbox"),ee=j("v-btn"),le=j("v-divider"),ue=j("v-form"),ce=j("v-card-text"),se=j("v-card"),$=j("v-fab-transition"),q=j("v-container");return be(),De(q,null,{default:M(()=>[m(z,{class:"justify-center pt-5 pb-2"},{default:M(()=>[m(G,{contain:"",src:ie(e),height:"50",width:"50"},null,8,["src"])]),_:1}),m(z,{class:"justify-center pb-10"},{default:M(()=>[T.value=="login"?(be(),wt("p",Jbe,"Accedi al tuo account")):(be(),wt("p",Zbe,"Crea un nuovo account"))]),_:1}),m($,null,{default:M(()=>[T.value=="login"?(be(),De(z,{key:0,class:"justify-center pb-8"},{default:M(()=>[m(se,{"min-width":"400",elevation:"3"},{default:M(()=>[m(ce,null,{default:M(()=>[m(ue,{class:"ma-2"},{default:M(()=>[m(z,{class:"justify-center"},{default:M(()=>[m(W,{class:"px-2"},{default:M(()=>[m(X,J({density:"compact",variant:"outlined",modelValue:ie(o),"onUpdate:modelValue":H[0]||(H[0]=re=>Je(o)?o.value=re:null)},ie(l),{type:"email",label:"Email",autocomplete:"on"}),null,16,["modelValue"])]),_:1})]),_:1}),m(z,{class:"justify-center"},{default:M(()=>[m(W,{class:"px-2"},{default:M(()=>[m(X,J({density:"compact",variant:"outlined",modelValue:ie(u),"onUpdate:modelValue":H[1]||(H[1]=re=>Je(u)?u.value=re:null),hint:"Almeno 8 caratteri","append-inner-icon":k.value?"mdi-eye":"mdi-eye-off"},ie(d),{type:k.value?"text":"password","onClick:appendInner":H[2]||(H[2]=re=>k.value=!k.value),counter:"",label:"Password",autocomplete:"on"}),null,16,["modelValue","append-inner-icon","type"])]),_:1})]),_:1}),m(z,{class:"justify-space-between align-center"},{default:M(()=>[m(W,{class:"px-2"},{default:M(()=>[m(Z,{density:"compact",modelValue:x.value,"onUpdate:modelValue":H[3]||(H[3]=re=>x.value=re),label:"Ricordati","hide-details":""},null,8,["modelValue"])]),_:1}),m(W,{class:"px-2"},{default:M(()=>[Re("a",{class:"text-decoration-none text-primary text-body-2 font-weight-medium cursor-pointer",onClick:A}," Password dimenticata? ")]),_:1})]),_:1}),m(z,{class:"mb-5 justify-center"},{default:M(()=>[m(W,{class:"px-2"},{default:M(()=>[m(ee,{class:"w-100",variant:"flat",color:"blue",onClick:P},{default:M(()=>H[12]||(H[12]=[Ee("Accedi")])),_:1})]),_:1})]),_:1}),m(le,{class:"my-5"},{default:M(()=>H[13]||(H[13]=[Ee("Oppure")])),_:1}),m(z,{class:"my-1 justify-center pt-5"},{default:M(()=>[m(W,{class:"px-2"},{default:M(()=>[m(ee,{class:"w-100 text-body-1",variant:"outlined",color:"error","prepend-icon":"mdi-google",onClick:C},{default:M(()=>H[14]||(H[14]=[Ee("Google")])),_:1})]),_:1}),m(W,{class:"px-2"},{default:M(()=>[m(ee,{class:"w-100 text-body-1",variant:"outlined",color:"blue","prepend-icon":"mdi-facebook",onClick:D},{default:M(()=>H[15]||(H[15]=[Ee("Facebook")])),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})):(be(),De(z,{key:1,class:"justify-center pb-8"},{default:M(()=>[m(se,{"min-width":"400",elevation:"3"},{default:M(()=>[m(ce,null,{default:M(()=>[m(ue,{class:"ma-2"},{default:M(()=>[m(z,{class:"justify-center"},{default:M(()=>[m(W,{class:"px-2"},{default:M(()=>[m(X,J({density:"compact",variant:"outlined",modelValue:ie(c),"onUpdate:modelValue":H[4]||(H[4]=re=>Je(c)?c.value=re:null)},ie(f),{label:"Nome"}),null,16,["modelValue"])]),_:1})]),_:1}),m(z,{class:"justify-center"},{default:M(()=>[m(W,{class:"px-2"},{default:M(()=>[m(X,J({density:"compact",variant:"outlined",modelValue:ie(h),"onUpdate:modelValue":H[5]||(H[5]=re=>Je(h)?h.value=re:null)},ie(g),{type:"email",label:"Email",autocomplete:"on"}),null,16,["modelValue"])]),_:1})]),_:1}),m(z,{class:"justify-center"},{default:M(()=>[m(W,{class:"px-2"},{default:M(()=>[m(X,J({density:"compact",variant:"outlined",modelValue:ie(v),"onUpdate:modelValue":H[6]||(H[6]=re=>Je(v)?v.value=re:null),hint:"Almeno 8 caratteri","append-inner-icon":I.value?"mdi-eye":"mdi-eye-off",type:I.value?"text":"password","onClick:appendInner":H[7]||(H[7]=re=>I.value=!I.value),counter:""},ie(p),{label:"Password"}),null,16,["modelValue","append-inner-icon","type"])]),_:1})]),_:1}),m(z,{class:"justify-center"},{default:M(()=>[m(W,{class:"px-2"},{default:M(()=>[m(X,J({density:"compact",variant:"outlined",modelValue:ie(_),"onUpdate:modelValue":H[8]||(H[8]=re=>Je(_)?_.value=re:null),"append-inner-icon":E.value?"mdi-eye":"mdi-eye-off",type:E.value?"text":"password","onClick:appendInner":H[9]||(H[9]=re=>E.value=!E.value),counter:""},ie(b),{label:"Ripeti Password"}),null,16,["modelValue","append-inner-icon","type"])]),_:1})]),_:1}),m(z,{class:"mb-5 justify-center"},{default:M(()=>[m(W,{class:"px-2"},{default:M(()=>[m(ee,{class:"w-100",variant:"flat",color:"blue",onClick:N},{default:M(()=>H[16]||(H[16]=[Ee("Registrati")])),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}))]),_:1}),m(z,{class:"justify-center pb-10"},{default:M(()=>[T.value=="login"?(be(),wt("div",e0e,[H[17]||(H[17]=Ee(" Non hai un account? ")),Re("a",{class:"text-decoration-none text-primary font-weight-medium cursor-pointer",onClick:H[10]||(H[10]=re=>T.value="register")},"Registrati")])):(be(),wt("div",t0e,[H[18]||(H[18]=Ee(" Hai gi un account? ")),Re("a",{class:"text-decoration-none text-primary font-weight-medium cursor-pointer",onClick:H[11]||(H[11]=re=>T.value="login")},"Accedi")]))]),_:1})]),_:1})}}}),i0e=Tt({__name:"LevelRangeEditor",props:{initialLevelRanges:{}},emits:["close","save"],setup(t,{emit:e}){const n=t,i=e,s=Y(0),r=Y(""),a=Y(),o=Y([]);we(()=>n.initialLevelRanges,()=>l());function l(){n.initialLevelRanges&&(o.value=JSON.parse(JSON.stringify(n.initialLevelRanges)),o.value.length>0&&(a.value=o.value[0]))}function u(h,g){const v=h.levels.indexOf(g);h.levels.splice(v,1)}function d(){const h=a.value;if(h){const g=o.value.findIndex(v=>v.price==h.price);o.value.splice(g,1),a.value=o.value[0]}}function c(){const h=+s.value;if(h==null||h==null||isNaN(h)||h==0||(s.value=0,o.value.findIndex(v=>v.price==h)!=-1))return;const g=a.value={price:h,levels:[]};o.value.push(g),o.value.sort((v,p)=>v.price-p.price)}function f(h){const g=r.value.trim();g.length!=0&&(r.value="",!h.levels.includes(g)&&h.levels.push(g))}return Pt(()=>l()),(h,g)=>{const v=j("v-number-input"),p=j("v-col"),_=j("v-btn"),b=j("v-row"),x=j("v-tab"),k=j("v-tabs"),I=j("v-text-field"),E=j("v-icon"),T=j("v-list"),S=j("v-tabs-window-item"),w=j("v-tabs-window"),P=j("v-card"),C=j("v-card-text"),D=j("v-divider"),A=j("v-spacer"),N=j("v-card-actions");return be(),De(P,{"prepend-icon":"mdi-format-list-numbered",title:"Livelli"},{default:M(()=>[m(C,null,{default:M(()=>[m(b,{class:"my-3 mb-10 justify-center"},{default:M(()=>[m(p,{class:"px-2",cols:"12",md:"4"},{default:M(()=>[m(v,{"max-width":"500",modelValue:s.value,"onUpdate:modelValue":g[0]||(g[0]=B=>s.value=B),reverse:!1,controlVariant:"default",label:"Fascia di Prezzo",prefix:"",hideInput:!1,inset:!1,min:0},null,8,["modelValue"])]),_:1}),m(p,{class:"px-2",cols:"12",md:"1"},{default:M(()=>[m(_,{onClick:c,icon:"mdi-plus",color:"success"}),m(_,{onClick:d,icon:"mdi-minus",color:"error"})]),_:1})]),_:1}),a.value?(be(),De(P,{key:0,class:"mx-5 mt-5 pa-2",elevation:"3"},{default:M(()=>[m(k,{modelValue:a.value,"onUpdate:modelValue":g[1]||(g[1]=B=>a.value=B),class:"my-2","align-tabs":"center",color:"primary","show-arrows":""},{default:M(()=>[(be(!0),wt(Ie,null,Si(o.value,B=>(be(),De(x,{key:B.price,text:B.price+" ",value:B},null,8,["text","value"]))),128))]),_:1},8,["modelValue"]),m(w,{modelValue:a.value,"onUpdate:modelValue":g[3]||(g[3]=B=>a.value=B)},{default:M(()=>[(be(!0),wt(Ie,null,Si(o.value,B=>(be(),De(S,{class:"mx-5 my-5",key:B.price,value:B},{default:M(()=>[m(I,{modelValue:r.value,"onUpdate:modelValue":g[2]||(g[2]=H=>r.value=H),label:"Nome Livello","append-icon":"mdi-plus",type:"text","onClick:append":H=>f(B)},null,8,["modelValue","onClick:append"]),m(T,{items:B.levels},{append:M(({item:H})=>[m(E,{size:"small",onClick:G=>u(B,H)},{default:M(()=>g[6]||(g[6]=[Ee(" mdi-delete ")])),_:2},1032,["onClick"])]),_:2},1032,["items"])]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])]),_:1})):Yt("",!0)]),_:1}),m(D),m(N,null,{default:M(()=>[m(A),m(_,{text:"Annulla",variant:"plain",onClick:g[4]||(g[4]=B=>i("close"))}),m(_,{color:"primary",text:"Salva Livelli",variant:"tonal",onClick:g[5]||(g[5]=B=>i("save",o.value))})]),_:1})]),_:1})}}}),s0e=Tt({__name:"ManagerEditor",props:{initialManagerOptions:{}},emits:["close","save"],setup(t,{emit:e}){const n=t,i=e,s=ra({totalStudents:lm().required("Il Numero Totale degli Studenti  obbligatorio").positive().label("Numero Totale Studenti"),quotePerStudent:lm().required("La Quota per Studente  obbligatoria").positive().label("Quota per Studente"),cashFund:lm().positive().label("Fondo Cassa").nullable().optional()}),{defineField:r,handleSubmit:a}=Hl({validationSchema:s}),o=p=>({props:{"error-messages":p.errors}}),[l,u]=r("totalStudents",o),[d,c]=r("quotePerStudent",o),[f,h]=r("cashFund",o),g=a(async p=>{i("save",{...p})},p=>{et.warn("Ci sono alcuni errori! Inserisci correttamente i dati"),console.log(p)});we(()=>n.initialManagerOptions,()=>v(),{immediate:!0});function v(){n.initialManagerOptions&&(l.value=n.initialManagerOptions.totalStudents,d.value=n.initialManagerOptions.quotePerStudent,f.value=n.initialManagerOptions.cashFund)}return(p,_)=>{const b=j("v-number-input"),x=j("v-col"),k=j("v-row"),I=j("v-card-text"),E=j("v-divider"),T=j("v-spacer"),S=j("v-btn"),w=j("v-card-actions"),P=j("v-card");return be(),De(P,{"prepend-icon":"mdi-account",title:"Gestione Scuola"},{default:M(()=>[m(I,null,{default:M(()=>[m(k,{class:"my-3 mb-10 justify-center"},{default:M(()=>[m(x,{cols:"12",md:"6"},{default:M(()=>[m(b,J({modelValue:ie(l),"onUpdate:modelValue":_[0]||(_[0]=C=>Je(l)?l.value=C:null)},ie(u),{reverse:!1,controlVariant:"default",label:"Numero Totale Studenti",hideInput:!1,inset:!1,min:0}),null,16,["modelValue"])]),_:1}),m(x,{cols:"12",md:"6"},{default:M(()=>[m(b,J({modelValue:ie(d),"onUpdate:modelValue":_[1]||(_[1]=C=>Je(d)?d.value=C:null)},ie(c),{reverse:!1,controlVariant:"default",label:"Quota per Studente",prefix:"",hideInput:!1,inset:!1,min:0}),null,16,["modelValue"])]),_:1}),m(x,{cols:"12",md:"6"},{default:M(()=>[m(b,J({modelValue:ie(f),"onUpdate:modelValue":_[2]||(_[2]=C=>Je(f)?f.value=C:null)},ie(h),{reverse:!1,controlVariant:"default",label:"Fondo Cassa",hideInput:!1,prefix:"",inset:!1,min:0}),null,16,["modelValue"])]),_:1})]),_:1})]),_:1}),m(E),m(w,null,{default:M(()=>[m(T),m(S,{text:"Annulla",variant:"plain",onClick:_[3]||(_[3]=C=>i("close"))}),m(S,{color:"primary",text:"Salva Gestione",variant:"tonal",onClick:ie(g)},null,8,["onClick"])]),_:1})]),_:1})}}}),DU="#808080",r0e={class:"v-input--center-affix v-input--error"},a0e={class:"v-input__details"},o0e={class:"v-messages__message v-messages",role:"alert"},l0e={class:"v-input--center-affix v-input--error"},u0e={class:"v-input__details"},c0e={class:"v-messages__message v-messages",role:"alert"},AU=Tt({__name:"SchoolEditor",props:{initialSchool:{},edit:{type:Boolean}},emits:["close","save"],setup(t,{emit:e}){const n=t,i=e,s=Y(!1),r=Y(!1),a=Y(!1),o=Y(!1),l=[{key:Gm.ABSENT_AND_PRESENT,value:"Pagamento automatico"},{key:Gm.ONLY_PRESENT,value:"Pagamento a presenza"}],u=[{key:Bd.WHOLE,value:"Prezzo intero"},{key:Bd.HALF,value:"Met prezzo"},{key:Bd.NOTHING,value:"Nessun pagamento"}],d=ra({name:Fn().required("Il Nome  obbligatorio").min(1).label("Nome"),city:Fn().label("Citt").nullable().optional(),email:Fn().label("Email").nullable().optional(),phoneNumber:Fn().label("Numero di Telefono").nullable().optional(),managed:oy().label("Gestione"),salaryStrategy:Fn().required("L'Opzione di pagamento lezioni  obbligatorio").label("Opzione di Pagamento"),trialLessonPaymentStrategy:Fn().required("L'Opzione di pagamento della lezione di prova  obbligatorio").label("Opzione di pagamento della Lezione di Prova"),managerOptions:ra().test({test:ee=>T.value?ee!==void 0:!0,message:"Configurare la Gestione della Scuola correttamente",exclusive:!1,name:"managedProp"}).label("Opzioni Gestione"),levelRanges:HC().of(ra()).test({test:ee=>!!ee&&ee.length!=0,message:"I livelli sono obbligatori; configurare correttamente i Livelli",exclusive:!1,name:"level"}).label("Livelli"),color:Fn().label("Color").nullable().optional()}),{defineField:c,handleSubmit:f}=Hl({validationSchema:d}),h=ee=>({props:{"error-messages":ee.errors}}),[g,v]=c("name",h),[p,_]=c("city",h),[b,x]=c("email",h),[k,I]=c("phoneNumber",h),[E]=c("color",h),[T,S]=c("managed",h),[w,P]=c("salaryStrategy",h),[C,D]=c("trialLessonPaymentStrategy",h),[A,N]=c("managerOptions",h),[B,H]=c("levelRanges",h),G=f(async ee=>{Z(ee)},ee=>{et.warn("Ci sono alcuni errori! Inserisci correttamente i dati"),console.log(ee)});we(()=>n.initialSchool,()=>z());function z(){if(n.initialSchool){const ee=JSON.parse(JSON.stringify(n.initialSchool));g.value=ee.name,p.value=ee.city??"",b.value=ee.email??"",k.value=ee.phoneNumber??"",E.value=ee.color??DU,w.value=ee.salaryStrategy,C.value=ee.trialLessonPaymentStrategy,T.value=ee.managed,A.value=ee.managerOptions,B.value=ee.levelRanges}}function X(ee){console.log(ee,JSON.stringify(ee)),A.value=ee,r.value=!1}function W(ee){console.log(ee,JSON.stringify(ee)),B.value=ee,s.value=!1}async function Z(ee){var ue,ce;o.value=!0;const le={name:ee.name,salaryStrategy:ee.salaryStrategy,trialLessonPaymentStrategy:ee.trialLessonPaymentStrategy,managed:T.value??!1,levelRanges:ee.levelRanges,createdAt:n.edit?(ue=n.initialSchool)==null?void 0:ue.createdAt:At.now(),updatedAt:At.now()};ee.city&&(le.city=ee.city),ee.email&&(le.email=ee.email),ee.phoneNumber&&(le.phoneNumber=ee.phoneNumber),ee.color&&ee.color.trim().length!=0&&(le.color=ee.color),T.value&&(le.managerOptions=A.value);try{n.edit&&((ce=n.initialSchool)==null?void 0:ce.id)!=null?(await Lr.instance.save(le,n.initialSchool.id),et.success("Scuola Aggiornata"),n.initialSchool.salaryStrategy!=null&&n.initialSchool.salaryStrategy!=le.salaryStrategy&&et.warning("E' stata aggiornata l'opzione di pagamento, tuttavia TUTTE le lezioni giornaliere create fino ad ora non saranno aggiornate in automatico!",{autoClose:1e4})):(await Lr.instance.save(le),et.success("Scuola Creata")),i("save",le)}catch(se){i("save"),et.error("Errore durante il salvataggio"),console.error("Error adding document (schools): ",se)}finally{o.value=!1}}return Pt(()=>z()),(ee,le)=>{const ue=j("v-text-field"),ce=j("v-col"),se=j("v-color-picker"),$=j("v-card-text"),q=j("v-btn"),re=j("v-card-actions"),ge=j("v-card"),fe=j("v-dialog"),ye=j("v-select"),L=j("v-checkbox"),F=j("v-row"),K=j("v-divider"),de=j("v-spacer");return be(),De(ge,{"prepend-icon":"mdi-school",title:"Scuola"},{default:M(()=>[m($,null,{default:M(()=>[m(F,{dense:""},{default:M(()=>[m(ce,{cols:"12",md:"6"},{default:M(()=>[m(ue,J({modelValue:ie(g),"onUpdate:modelValue":le[0]||(le[0]=ne=>Je(g)?g.value=ne:null)},ie(v),{label:"Nome",required:""}),null,16,["modelValue"])]),_:1}),m(ce,{cols:"12",md:"6"},{default:M(()=>[m(ue,J({modelValue:ie(p),"onUpdate:modelValue":le[1]||(le[1]=ne=>Je(p)?p.value=ne:null)},ie(_),{label:"Citt"}),null,16,["modelValue"])]),_:1}),m(ce,{cols:"12",md:"6"},{default:M(()=>[m(ue,J({modelValue:ie(b),"onUpdate:modelValue":le[2]||(le[2]=ne=>Je(b)?b.value=ne:null)},ie(x),{label:"Email"}),null,16,["modelValue"])]),_:1}),m(ce,{cols:"12",md:"6"},{default:M(()=>[m(ue,J({modelValue:ie(k),"onUpdate:modelValue":le[3]||(le[3]=ne=>Je(k)?k.value=ne:null)},ie(I),{label:"Numero di Telefono"}),null,16,["modelValue"])]),_:1}),m(ce,{cols:"12",md:"6"},{default:M(()=>[m(fe,{modelValue:a.value,"onUpdate:modelValue":le[6]||(le[6]=ne=>a.value=ne)},{activator:M(({props:ne})=>[m(ue,J({label:"Colore"},ne,{"bg-color":ie(E),modelValue:ie(E),"onUpdate:modelValue":le[4]||(le[4]=Se=>Je(E)?E.value=Se:null)}),null,16,["bg-color","modelValue"])]),default:M(({isActive:ne})=>[m(ge,{class:"mx-auto","max-width":"400",rounded:"lg",border:""},{default:M(()=>[m($,null,{default:M(()=>[m(se,{modelValue:ie(E),"onUpdate:modelValue":le[5]||(le[5]=Se=>Je(E)?E.value=Se:null),elevation:"0"},null,8,["modelValue"])]),_:1}),m(re,null,{default:M(()=>[m(q,{onClick:Se=>ne.value=!1},{default:M(()=>le[17]||(le[17]=[Ee("Chiudi")])),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),_:1},8,["modelValue"])]),_:1}),m(ce,{cols:"12",md:"6"},{default:M(()=>[m(ye,J({modelValue:ie(w),"onUpdate:modelValue":le[7]||(le[7]=ne=>Je(w)?w.value=ne:null)},ie(P),{items:l,"item-title":"value","item-value":"key",label:"Opzione di Pagamento",required:""}),null,16,["modelValue"])]),_:1}),m(ce,{cols:"12",md:"6"},{default:M(()=>[m(ye,J({modelValue:ie(C),"onUpdate:modelValue":le[8]||(le[8]=ne=>Je(C)?C.value=ne:null)},ie(D),{items:u,"item-title":"value","item-value":"key",label:"Opzione di pagamento della Lezione di Prova",required:""}),null,16,["modelValue"])]),_:1}),m(ce,{cols:"12",md:"12"},{default:M(()=>[m(F,{"justify-center":""},{default:M(()=>[m(ce,{class:"align-self-center"},{default:M(()=>[m(L,J({modelValue:ie(T),"onUpdate:modelValue":le[9]||(le[9]=ne=>Je(T)?T.value=ne:null)},ie(S),{label:"Gestione"}),null,16,["modelValue"])]),_:1}),m(ce,{class:"align-self-center"},{default:M(()=>[ie(T)?(be(),De(fe,{key:0,modelValue:r.value,"onUpdate:modelValue":le[12]||(le[12]=ne=>r.value=ne),fullscreen:""},{activator:M(({props:ne})=>{var Se;return[Re("div",r0e,[m(q,J({text:"Gestione"},ne),null,16),Re("div",a0e,[Re("div",o0e,[Re("span",null,at((Se=ie(N)["error-messages"])==null?void 0:Se[0]),1)])])])]}),default:M(()=>[m(s0e,{initialManagerOptions:ie(A),onClose:le[10]||(le[10]=ne=>r.value=!1),onSave:le[11]||(le[11]=ne=>X(ne))},null,8,["initialManagerOptions"])]),_:1},8,["modelValue"])):Yt("",!0)]),_:1})]),_:1})]),_:1}),m(ce,{cols:"12",md:"6"},{default:M(()=>[m(fe,{modelValue:s.value,"onUpdate:modelValue":le[15]||(le[15]=ne=>s.value=ne),fullscreen:""},{activator:M(({props:ne})=>{var Se;return[Re("div",l0e,[m(q,J({text:"Gestisci Livelli"},ne),null,16),Re("div",u0e,[Re("div",c0e,[Re("span",null,at((Se=ie(H)["error-messages"])==null?void 0:Se[0]),1)])])])]}),default:M(()=>[m(i0e,{initialLevelRanges:ie(B),onClose:le[13]||(le[13]=ne=>s.value=!1),onSave:le[14]||(le[14]=ne=>W(ne))},null,8,["initialLevelRanges"])]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1}),m(K),m(re,null,{default:M(()=>[m(de),m(q,{text:"Chiudi",variant:"plain",onClick:le[16]||(le[16]=ne=>i("close"))}),m(q,{color:"primary",loading:o.value,disabled:o.value,text:ee.edit?"Salva Modifiche":"Crea",variant:"tonal",onClick:ie(G)},null,8,["loading","disabled","text","onClick"])]),_:1})]),_:1})}}}),Uy=class Uy{static get instance(){return this._instance||(this._instance=new Uy),this._instance}async deleteById(e){const n=jA(Mx()),i=await Lr.instance.getDoc(e);n.delete(i.ref),(await this.getSchoolRelations(e)).forEach(s=>n.delete(s)),await n.commit()}async delete(e){const n=jA(Mx()),i=e.id;n.delete(e),(await this.getSchoolRelations(i)).forEach(s=>n.delete(s)),await n.commit()}async getSchoolRelations(e){const n=[];return(await Ys.instance.getAllDocs(Wn(Ln("schoolId"),"==",e))).forEach(o=>n.push(o.ref)),(await sa.instance.getAllDocs(Wn(Ln("schoolId"),"==",e))).forEach(o=>n.push(o.ref)),(await Rt.instance.getAllDocs(Wn(Ln("schoolId"),"==",e))).forEach(o=>n.push(o.ref)),(await go.instance.getAllDocs(Wn(Ln("schoolId"),"==",e))).forEach(o=>n.push(o.ref)),n}async getSchoolLessons(e,n){const i=n instanceof Date?rt.fromDate(n).toIyyyyMMdd():n,s=await wi.instance.getDailyLessonOfSchoolFromDate(e,i,"desc"),r=await Po.instance.getWeeklyLessonOfSchool(e);return{dailyLessons:s,weeklyLessons:r,schoolId:e}}async getTodayLessons(){const e=[],n=rt.today(),i=n.toIyyyyMMdd(),s=n.toDate(),r=await Lr.instance.getAll();for await(const a of r){const o=await this.getSchoolLessons(a.id,s),l=o.dailyLessons.find(u=>u.date==i)??o.weeklyLessons.find(u=>Po.instance.isValid(u,i));l&&e.push({school:a,lesson:l})}return e}};on(Uy,"_instance",null);let lv=Uy;const d0e={key:1,class:"text-grey text-caption align-self-center"},nV=Tt({__name:"WeekLessonEditor",props:{school:{default:()=>({id:"1"})},edit:{type:Boolean},initialWeekLesson:{}},emits:["close","save"],setup(t,{emit:e}){const n=e,i=t,s=[];let r;const a=Y([]),o=Y([]),l=Y([]),u=Y([]),d=Y(!1),c=Y(!1),f=Y(!1),h=ra({dayOfWeek:Fn().required("Il Giorno  obbligatorio").label("Giorno"),from:Il().required("La Data di Inizio delle lezioni settimanali  obbligatoria").label("Dal"),to:Il().required("La Data di Fine delle lezioni settimanali  obbligatoria").label("Al"),excludeDates:HC().of(Il()).label("Giorni da Escludere").nullable().optional(),startingTime:Fn().required("L'Orario della prima Lezione  obbligatorio").label("Orario della prima Lezione")}),{defineField:g,handleSubmit:v}=Hl({validationSchema:h}),p=ue=>({props:{"error-messages":ue.errors}}),[_,b]=g("dayOfWeek",p),[x,k]=g("from",p),[I,E]=g("to",p),[T,S]=g("excludeDates",p),[w,P]=g("startingTime",p);let C=!1;const D=Y([]),A=v(async ue=>{X()},ue=>{et.warn("Ci sono alcuni errori! Inserisci correttamente i dati"),console.log(ue)});we(()=>i.initialWeekLesson,()=>G()),we(_,()=>z()),we(x,()=>z()),we(I,()=>z()),we(u,()=>N()),we(w,()=>{B(),C=!1}),we(_,async()=>await le()),we(D,()=>H(),{deep:!0});function N(){var ue;for(const ce of u.value)if(a.value.findIndex($=>$.studentId===ce.id)===-1){const $=a.value.reduce((ge,fe)=>fe.endTime>ge?fe.endTime:ge,((ue=Ut.fromHHMM(w.value))==null?void 0:ue.getTotalMinutes())??0),q=ce.minutesLessonDuration||0,re=$+q*60;a.value.push({lessonId:jd(),studentId:ce.id,startTime:$,endTime:re})}for(const ce of[...a.value])if(u.value.findIndex($=>$.id==ce.studentId)==-1){const $=a.value.indexOf(ce);a.value.splice($,1)}B()}function B(){var ce;if(!C&&a.value.length>0){a.value.sort((q,re)=>q.startTime-re.startTime);const $=(((ce=Ut.fromHHMM(w.value))==null?void 0:ce.getTotalMinutes())??0)*60-a.value[0].startTime;a.value.forEach(q=>{q.startTime+=$,q.endTime+=$})}const ue=rt.today();D.value=a.value.map(se=>{const $=W(se.studentId);return{id:se.lessonId,start:ue.toIyyyyMMdd("-",1)+" "+Ut.fromITime(se.startTime).format(),end:ue.toIyyyyMMdd("-",1)+" "+Ut.fromITime(se.endTime).format(),title:`${Z(se.studentId)} - ${ee(se.studentId)}`,data:{...se,...$}}})}function H(){a.value=D.value.map(ue=>{const ce=ue.start.split(" ")[1],se=ue.end.split(" ")[1];return{lessonId:ue.data.lessonId,startTime:Ut.fromHHMM(ce).toITime(),endTime:Ut.fromHHMM(se).toITime(),studentId:ue.data.studentId}})}function G(){if(i.initialWeekLesson){const ue=JSON.parse(JSON.stringify(i.initialWeekLesson));_.value=Vs[ue.dayOfWeek],x.value=rt.fromIyyyyMMdd(ue.from).toDate(),I.value=rt.fromIyyyyMMdd(ue.to).toDate(),T.value=ue.exclude.map(se=>rt.fromIyyyyMMdd(se).toDate()),a.value=ue.schedule;const ce=a.value.map(se=>se.studentId);if(u.value=l.value.filter(se=>ce.includes(se.id)),a.value.length>0){C=!0;const se=a.value[0].startTime;w.value=Ut.fromITime(se).format()}}}function z(){if(_.value===void 0||x.value===void 0||I.value===void 0)return;o.value=[];const ue=Vs.indexOf(_.value);let ce=new Date(x.value);for(;ce<=I.value;){if(ce.getDay()===ue){const se=new Date(ce);o.value.push({name:dh(se),value:se})}ce.setDate(ce.getDate()+1)}}async function X(ue){var se,$,q;c.value=!0;const ce={schoolId:i.school.id,dayOfWeek:Vs.indexOf(_.value),from:rt.fromDate(x.value).toIyyyyMMdd(),to:rt.fromDate(I.value).toIyyyyMMdd(),exclude:((se=T.value)==null?void 0:se.map(re=>rt.fromDate(re).toIyyyyMMdd()))??[],schedule:a.value.sort((re,ge)=>re.startTime-ge.startTime),createdAt:i.edit?($=i.initialWeekLesson)==null?void 0:$.createdAt:At.now(),updatedAt:At.now()};try{i.edit&&((q=i.initialWeekLesson)==null?void 0:q.id)!=null?(await sa.instance.save(ce,i.initialWeekLesson.id),et.success("Lezione Settimanale Aggiornata")):(await sa.instance.save(ce),et.success("Lezione Settimanale Creata")),n("save",ce)}catch(re){n("save"),et.error("Errore durante il salvataggio"),console.error("Error adding document (schools): ",re)}finally{c.value=!1}}function W(ue){return l.value.find(ce=>ce.id==ue)}function Z(ue){let ce;return typeof ue=="string"?ce=W(ue):ce=ue,`${ce==null?void 0:ce.name} ${ce==null?void 0:ce.surname}`}function ee(ue){let ce;return typeof ue=="string"?ce=W(ue):ce=ue,Vs[(ce==null?void 0:ce.lessonDay)??0]}async function le(){r==null||r.unsubscribe(),f.value=!0;const ue=new Promise((ce,se)=>{r=_r.instance.observeStudentsOfSchool(i.school.id).subscribe({next:$=>{l.value=$,f.value=!1,ce()},error:$=>{f.value=!1,se($)}})});s.push(r),await ue}return Us(()=>{s.forEach(ue=>ue.unsubscribe())}),Pt(async()=>{await le(),G()}),(ue,ce)=>{const se=j("v-select"),$=j("v-col"),q=j("v-row"),re=j("v-date-input"),ge=j("v-chip"),fe=j("v-time-picker"),ye=j("v-dialog"),L=j("v-text-field"),F=j("v-form"),K=j("v-card-text"),de=j("v-spacer"),ne=j("v-btn"),Se=j("v-card-actions"),Ve=j("v-card");return be(),De(Ve,{title:"Lezione Settimanale"},{default:M(()=>[m(K,null,{default:M(()=>[m(F,{class:"ma-2"},{default:M(()=>[m(q,{class:"my-1 justify-center"},{default:M(()=>[m($,{class:"px-2"},{default:M(()=>[m(se,J({modelValue:ie(_),"onUpdate:modelValue":ce[0]||(ce[0]=ke=>Je(_)?_.value=ke:null)},ie(b),{items:ie(Vs),label:"Giorno",required:""}),null,16,["modelValue","items"])]),_:1})]),_:1}),m(q,{class:"my-1 justify-center"},{default:M(()=>[m($,{class:"px-2",cols:"12",md:"4"},{default:M(()=>[m(re,J({max:ie(I),modelValue:ie(x),"onUpdate:modelValue":ce[1]||(ce[1]=ke=>Je(x)?x.value=ke:null)},ie(k),{label:"Dal",inputmode:"none"}),null,16,["max","modelValue"])]),_:1}),m($,{class:"px-2",cols:"12",md:"4"},{default:M(()=>[m(re,J({min:ie(x),modelValue:ie(I),"onUpdate:modelValue":ce[2]||(ce[2]=ke=>Je(I)?I.value=ke:null)},ie(E),{label:"Al",inputmode:"none"}),null,16,["min","modelValue"])]),_:1}),m($,{class:"px-2",cols:"12",md:"4"},{default:M(()=>[m(se,J({modelValue:ie(T),"onUpdate:modelValue":ce[3]||(ce[3]=ke=>Je(T)?T.value=ke:null)},ie(S),{items:o.value,label:"Giorni da Escludere",multiple:"","item-title":"name","item-value":"value","no-data-text":"Nessuna Data Disponibile",clearable:""}),{selection:M(({item:ke,index:Le})=>[Le<2?(be(),De(ge,{key:0},{default:M(()=>[Re("span",null,at(ke.title),1)]),_:2},1024)):Yt("",!0),Le===2?(be(),wt("span",d0e," (+"+at(ie(T).length-2)+" others) ",1)):Yt("",!0)]),_:1},16,["modelValue","items"])]),_:1})]),_:1}),m(q,{class:"my-1 justify-center"},{default:M(()=>[m($,{class:"px-2",cols:"12",md:"6"},{default:M(()=>[m(L,J({modelValue:ie(w),"onUpdate:modelValue":ce[6]||(ce[6]=ke=>Je(w)?w.value=ke:null)},ie(P),{active:d.value,focused:d.value,inputmode:"none",label:"Orario della prima Lezione","prepend-icon":"mdi-clock-time-four-outline",readonly:""}),{default:M(()=>[m(ye,{modelValue:d.value,"onUpdate:modelValue":ce[5]||(ce[5]=ke=>d.value=ke),activator:"parent",width:"auto"},{default:M(()=>[d.value?(be(),De(fe,{key:0,modelValue:ie(w),"onUpdate:modelValue":ce[4]||(ce[4]=ke=>Je(w)?w.value=ke:null),format:"24hr"},null,8,["modelValue"])):Yt("",!0)]),_:1},8,["modelValue"])]),_:1},16,["modelValue","active","focused"])]),_:1}),m($,{class:"px-2",cols:"12",md:"6"},{default:M(()=>[m(IU,{modelValue:u.value,"onUpdate:modelValue":ce[7]||(ce[7]=ke=>u.value=ke),"all-students":l.value},null,8,["modelValue","all-students"])]),_:1})]),_:1})]),_:1}),m(EU,{modelValue:D.value,"onUpdate:modelValue":ce[8]||(ce[8]=ke=>D.value=ke),editable:"",school:ue.school},null,8,["modelValue","school"])]),_:1}),m(Se,null,{default:M(()=>[m(de),m(ne,{text:"Chiudi",onClick:ce[9]||(ce[9]=ke=>n("close"))}),m(ne,{text:"Salva",color:"primary",onClick:ie(A),loading:c.value},null,8,["onClick","loading"])]),_:1})]),_:1})}}}),h0e={key:1},f0e=Tt({__name:"CalendarLessonEditor",props:{school:{}},emits:["close"],setup(t,{emit:e}){const n=t,i=e,s=[],r=Y([]),a=Y(!1),o=Y(!1),l=Y([]),u=Y(!1);async function d(g){if(!g)return!1;try{return await sa.instance.delete(g.id),!0}catch{return!1}}async function c(){a.value=!0;const g=Po.instance.observeWeekLessonOfSchool(n.school.id).subscribe({next:v=>{r.value=v,a.value=!1},error:v=>a.value=!1});s.push(g)}async function f(){o.value=!0;const g=_r.instance.observeStudentsOfSchool(n.school.id).subscribe({next:v=>{l.value=v,o.value=!1},error:v=>o.value=!1});s.push(g)}function h(g){const v=l.value.find(p=>p.id==g);return`${v==null?void 0:v.name} ${v==null?void 0:v.surname}`}return Pt(async()=>{await f(),await c()}),Us(()=>{s.forEach(g=>g.unsubscribe())}),(g,v)=>{const p=j("v-btn"),_=j("v-dialog"),b=j("v-col"),x=j("v-row"),k=j("v-expansion-panel-title"),I=j("v-list-item"),E=j("v-list"),T=j("v-expansion-panel-text"),S=j("v-expansion-panel"),w=j("v-expansion-panels"),P=j("v-card-text"),C=j("v-spacer"),D=j("v-card-actions"),A=j("v-card");return be(),De(A,{title:"Calendario",loading:a.value||o.value},{append:M(()=>[m(_,{modelValue:u.value,"onUpdate:modelValue":v[2]||(v[2]=N=>u.value=N),transition:"dialog-bottom-transition",fullscreen:""},{activator:M(({props:N})=>[m(p,J({icon:"mdi-plus"},N,{variant:"text"}),null,16)]),default:M(()=>[m(nV,{school:g.school,onClose:v[0]||(v[0]=N=>u.value=!1),onSave:v[1]||(v[1]=N=>N?u.value=!1:null)},null,8,["school"])]),_:1},8,["modelValue"])]),default:M(()=>[m(P,null,{default:M(()=>[m(w,null,{default:M(()=>[(be(!0),wt(Ie,null,Si(r.value,N=>(be(),De(S,{key:N.id},{default:M(()=>[m(k,null,{default:M(()=>[m(x,{"no-gutters":""},{default:M(()=>[m(b,{class:"d-flex justify-start",cols:"5"},{default:M(()=>[Re("span",null,[v[5]||(v[5]=Ee("Tutti i ")),Re("b",null,at(ie(Vs)[N.dayOfWeek]),1)])]),_:2},1024),m(b,{class:"text-grey",cols:"5"},{default:M(()=>[Ee(" Dal "+at(ie(rt).fromIyyyyMMdd(N.from).format())+" al "+at(ie(rt).fromIyyyyMMdd(N.to).format()),1)]),_:2},1024),m(b,{cols:"1"},{default:M(()=>[m(_,{transition:"dialog-bottom-transition",fullscreen:""},{activator:M(({props:B})=>[m(p,J({icon:"mdi-pencil",variant:"text",onClick:v[3]||(v[3]=Ju(H=>console.log("edit"),["stop"])),ref_for:!0},B),null,16)]),default:M(({isActive:B})=>[m(nV,{school:g.school,initialWeekLesson:N,edit:"",onClose:H=>B.value=!1,onSave:H=>H?B.value=!1:null},null,8,["school","initialWeekLesson","onClose","onSave"])]),_:2},1024)]),_:2},1024),m(b,{cols:"1"},{default:M(()=>[m(ug,{name:"Tutti i "+ie(Vs)[N.dayOfWeek],objName:"Lezione Programmata",onDelete:async()=>await d(N)},{activator:M(({props:B})=>[m(p,J({icon:"mdi-delete",variant:"text",ref_for:!0},B),null,16)]),_:2},1032,["name","onDelete"])]),_:2},1024)]),_:2},1024)]),_:2},1024),m(T,null,{default:M(()=>[N.schedule.length>0?(be(),De(E,{key:0},{default:M(()=>[(be(!0),wt(Ie,null,Si(N.schedule,B=>(be(),De(I,{key:B.studentId,value:B,color:"primary"},{prepend:M(()=>[Re("p",null,[Re("b",null,at(ie(Ut).fromITime(B.startTime).format())+" - "+at(ie(Ut).fromITime(B.endTime).format()),1),v[6]||(v[6]=Re("span",null," - ",-1)),Re("i",null,at(h(B.studentId)),1)])]),_:2},1032,["value"]))),128))]),_:2},1024)):(be(),wt("span",h0e,"Nessuna lezione programmata"))]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1}),m(D,null,{default:M(()=>[m(C),m(p,{text:"Chiudi",onClick:v[4]||(v[4]=N=>i("close"))})]),_:1})]),_:1},8,["loading"])}}}),m0e=Tt({__name:"LessonFilter",props:{modelValue:{default:[]},modelModifiers:{}},emits:Dl(["close"],["update:modelValue"]),setup(t,{emit:e}){const n=Al(t,"modelValue"),i=e,s=Y([]),r=R(()=>s.value.length===Np.length),a=R(()=>s.value.length>0);function o(c){return{title:c.name,value:c.type,color:c.color,icon:c.icon}}function l(){r.value?s.value=[]:s.value=Np.slice()}function u(){s.value=[...n.value]}function d(){n.value=[...s.value],i("close")}return Pt(()=>u()),(c,f)=>{const h=j("v-icon"),g=j("v-checkbox-btn"),v=j("v-list-item"),p=j("v-divider"),_=j("v-select"),b=j("v-col"),x=j("v-row"),k=j("v-card-text"),I=j("v-spacer"),E=j("v-btn"),T=j("v-card-actions"),S=j("v-card");return be(),De(S,{class:"mx-auto","min-width":"300px"},{default:M(()=>[m(k,null,{default:M(()=>[m(x,null,{default:M(()=>[m(b,null,{default:M(()=>[m(_,{modelValue:s.value,"onUpdate:modelValue":f[0]||(f[0]=w=>s.value=w),items:ie(Np),"return-object":"","item-props":o,label:"Filtri",multiple:"",chips:""},{chip:M(({item:w})=>[m(h,{color:w.props.color},{default:M(()=>[Ee(at(w.props.icon),1)]),_:2},1032,["color"])]),"prepend-item":M(()=>[m(v,{title:"Seleziona Tutti",onClick:l},{prepend:M(()=>[m(g,{color:a.value?"indigo-darken-4":void 0,indeterminate:a.value&&!r.value,"model-value":r.value},null,8,["color","indeterminate","model-value"])]),_:1}),m(p,{class:"mt-2"})]),_:1},8,["modelValue","items"])]),_:1})]),_:1})]),_:1}),m(T,null,{default:M(()=>[m(I),m(E,{onClick:u},{default:M(()=>f[1]||(f[1]=[Ee("Reset")])),_:1}),m(E,{onClick:d,color:"primary"},{default:M(()=>f[2]||(f[2]=[Ee("Applica")])),_:1})]),_:1})]),_:1})}}}),v0e=Tt({__name:"LessonView",props:{school:{}},setup(t){const e=Rc(),n=Fr(),i=t,s=[],r=Y([]),a=Y(),o=Y(!1),l=Y(!1),u=Y(!1),d=Y(!1),c=Y([Np[2]]);let f;const h=R(()=>i.school==null||o.value||l.value||u.value);we(i.school,()=>p()),we(c,()=>p(!1));function g(_){return _.next?"primary":_.pending?"warning":_.recovery?"info":"grey-lighten-1"}async function v(_){d.value=!0;const b=await wi.instance.getOrCreateDailyLessonId(i.school.id,_);d.value=!1,e.push(`/lesson/${b}`)}async function p(_=!0){u.value=!0;const b=new Date(new Date().toDateString()),x=n.addMonths(b,-12);(!f||_)&&(f=await lv.instance.getSchoolLessons(i.school.id,x)),r.value=await uy.instance.getGroupedLessons(f,c.value),u.value=!1}return Pt(async()=>{await p()}),Us(()=>{s.forEach(_=>_==null?void 0:_())}),(_,b)=>{const x=j("v-btn"),k=j("v-date-picker"),I=j("v-col"),E=j("v-row"),T=j("v-card-text"),S=j("v-spacer"),w=j("v-card-actions"),P=j("v-card"),C=j("v-dialog"),D=j("v-list-subheader"),A=j("v-icon"),N=j("v-avatar"),B=j("v-list-item"),H=j("v-list");return be(),De(P,{title:"Lezioni",elevation:"3",loading:h.value},{append:M(()=>[m(C,{transition:"dialog-bottom-transition",class:"justify-center"},{activator:M(({props:G})=>[m(x,J({icon:"mdi-plus-box-outline",variant:"text",disabled:!_.school},G),null,16,["disabled"])]),default:M(({isActive:G})=>[m(P,{class:"mx-auto","min-width":"400px"},{default:M(()=>[m(T,null,{default:M(()=>[m(E,{class:"justify-center"},{default:M(()=>[m(I,{cols:"auto"},{default:M(()=>[m(k,{modelValue:a.value,"onUpdate:modelValue":b[0]||(b[0]=z=>a.value=z)},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),m(w,null,{default:M(()=>[m(S),m(x,{text:"Chiudi",onClick:z=>G.value=!1},null,8,["onClick"]),m(x,{text:"Ok",color:"primary",onClick:b[1]||(b[1]=z=>v(a.value)),disabled:!a.value,loading:d.value},null,8,["disabled","loading"])]),_:2},1024)]),_:2},1024)]),_:1}),m(C,{transition:"dialog-bottom-transition",fullscreen:""},{activator:M(({props:G})=>[m(x,J({icon:"mdi-calendar-edit",variant:"text"},G,{disabled:!_.school}),null,16,["disabled"])]),default:M(({isActive:G})=>[m(f0e,{school:_.school,onClose:z=>{G.value=!1,p()}},null,8,["school","onClose"])]),_:1}),m(x,{icon:"mdi-calendar-month",variant:"text",to:"/calendar?filters="+_.school.id},null,8,["to"]),m(C,{transition:"dialog-bottom-transition"},{activator:M(({props:G})=>[m(x,J({icon:"mdi-filter",variant:"text"},G),null,16)]),default:M(({isActive:G})=>[m(m0e,{modelValue:c.value,"onUpdate:modelValue":b[2]||(b[2]=z=>c.value=z),onClose:z=>G.value=!1},null,8,["modelValue","onClose"])]),_:1}),m(x,{icon:"mdi-refresh",variant:"text",disabled:!_.school||u.value,onClick:p},null,8,["disabled"])]),default:M(()=>[m(T,null,{default:M(()=>[m(H,{lines:"two"},{default:M(()=>[(be(!0),wt(Ie,null,Si(r.value,G=>(be(),wt(Ie,{key:G.month},[m(D,{inset:""},{default:M(()=>[Ee(at(G.month),1)]),_:2},1024),(be(!0),wt(Ie,null,Si(G.lessons,z=>(be(),De(B,{key:z.date.toString(),onClick:X=>v(z),baseColor:z.next?"primary":""},SL({prepend:M(()=>[m(N,{color:g(z)},{default:M(()=>[m(A,{color:"white"},{default:M(()=>b[3]||(b[3]=[Ee("mdi-calendar")])),_:1})]),_:2},1032,["color"])]),title:M(()=>[Re("b",null,at(z.date.getDayString(2)),1),Ee(" "+at(z.date.format()),1)]),_:2},[z.pending||z.recovery?{name:"append",fn:M(()=>[z.pending?(be(),De(A,{key:0,color:"warning"},{default:M(()=>b[4]||(b[4]=[Ee("mdi-alert")])),_:1})):Yt("",!0),z.recovery?(be(),De(A,{key:1,color:"info"},{default:M(()=>b[5]||(b[5]=[Ee("mdi-alpha-r-circle")])),_:1})):Yt("",!0),z.moved?(be(),De(A,{key:2,color:"success"},{default:M(()=>b[6]||(b[6]=[Ee("mdi-alpha-s-circle")])),_:1})):Yt("",!0)]),key:"0"}:void 0]),1032,["onClick","baseColor"]))),128))],64))),128))]),_:1})]),_:1})]),_:1},8,["loading"])}}}),g0e=JC(v0e,[["__scopeId","data-v-4f6dbbcf"]]),p0e=Tt({__name:"ScheduleRecoveryLessonButton",props:Dl({school:{}},{modelValue:{required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(t){const e=t,n=Al(t,"modelValue"),i=Y(!1),s=Y(!1),r=Y(!1),a=ra({date:Il().required("La Data della Lezione di Recupero  obbligatoria").label("Data della Lezione di Recupero"),time:Fn().required("L'Orario della Lezione di Recupero  obbligatorio").label("Orario della Lezione di Recupero")}),{defineField:o,handleSubmit:l,resetForm:u}=Hl({validationSchema:a}),d=b=>({props:{"error-messages":b.errors}}),[c,f]=o("date",d),[h,g]=o("time",d),v=l(async b=>{_()},b=>{et.warn("Ci sono alcuni errori! Inserisci correttamente i dati"),console.log(b)});function p(){s.value=!1,c.value=void 0,h.value=void 0,u()}async function _(){if(!(!c.value||!h.value||!n.value))try{r.value=!0;const b=Ut.fromHHMM(h.value),x={studentId:n.value.studentId,schoolId:e.school.id,originalDailyLessonId:n.value.originalDailyLesson.id,originalLessonId:n.value.lessonId,date:c.value,startTime:b.toITime(),endTime:b.add({minutes:n.value.minutesLessonDuration}).toITime()};await To.instance.scheduleRecovery(n.value,x),s.value=!1}catch{et.error("Impossibile schedulare la lezione di recupero")}finally{r.value=!1}}return(b,x)=>{const k=j("v-btn"),I=j("v-date-input"),E=j("v-col"),T=j("v-time-picker"),S=j("v-dialog"),w=j("v-text-field"),P=j("v-row"),C=j("v-card-text"),D=j("v-spacer"),A=j("v-card-actions"),N=j("v-card");return be(),De(S,{modelValue:s.value,"onUpdate:modelValue":x[5]||(x[5]=B=>s.value=B),width:"auto",scrollable:"",persistent:""},{activator:M(({props:B})=>[m(k,AV(Yk(B)),{default:M(()=>x[6]||(x[6]=[Ee("programma")])),_:2},1040)]),default:M(()=>[m(N,{title:"Programma Lezione di Recupero",subtitle:n.value.name+" "+n.value.surname+" - "+ie(rt).fromIyyyyMMdd(n.value.originalDailyLesson.date).format(),loading:r.value},{default:M(()=>[m(C,{class:"pa-6"},{default:M(()=>[m(P,null,{default:M(()=>[m(E,{cols:"12",md:"12"},{default:M(()=>[m(I,J({modelValue:ie(c),"onUpdate:modelValue":x[0]||(x[0]=B=>Je(c)?c.value=B:null)},ie(f),{label:"Data della Lezione di Recupero",inputmode:"none"}),null,16,["modelValue"])]),_:1}),m(E,{cols:"12",lg:"12"},{default:M(()=>[m(w,J({modelValue:ie(h),"onUpdate:modelValue":x[3]||(x[3]=B=>Je(h)?h.value=B:null)},ie(g),{active:i.value,focused:i.value,inputmode:"none",label:"Orario della prima Lezione","prepend-icon":"mdi-clock-time-four-outline",readonly:""}),{default:M(()=>[m(S,{modelValue:i.value,"onUpdate:modelValue":x[2]||(x[2]=B=>i.value=B),activator:"parent",width:"auto"},{default:M(()=>[i.value?(be(),De(T,{key:0,modelValue:ie(h),"onUpdate:modelValue":x[1]||(x[1]=B=>Je(h)?h.value=B:null),format:"24hr"},null,8,["modelValue"])):Yt("",!0)]),_:1},8,["modelValue"])]),_:1},16,["modelValue","active","focused"])]),_:1})]),_:1})]),_:1}),m(A,null,{default:M(()=>[m(D),m(k,{text:"Annulla",onClick:p}),m(k,{color:"primary",text:"Salva",onClick:x[4]||(x[4]=B=>ie(v)(B))})]),_:1})]),_:1},8,["subtitle","loading"])]),_:1},8,["modelValue"])}}}),_0e={key:0},y0e={key:1},b0e={key:2},w0e={key:0},x0e={key:1},S0e={key:0},k0e={key:2},T0e={key:0},P0e=Tt({__name:"RecoveryLessonView",props:{school:{}},setup(t){const e=t,n=R(()=>e.school.id),i=go.instance.observe(n),s=_P(i),r=Y(),a=Y(!1),o=Y(!1);we(s,async()=>u());async function l(d){try{o.value=!0,await To.instance.cancelRecovery(d)}catch(c){et.warn("Impossibile annullare la lezione di recupero"),console.error("Unable to cancel recovery lesson",c)}finally{o.value=!1}}async function u(){if(s.value)try{a.value=!0,r.value=await To.instance.computeDailyLessons(s.value),console.log(r.value)}catch(d){et.warning("Impossibile caricare le Lezioni di Recupero"),console.error("Unable to load recovery lessons",d)}finally{a.value=!1}}return(d,c)=>{const f=j("v-list-subheader"),h=j("v-list-item"),g=j("v-btn"),v=j("v-icon"),p=j("v-divider"),_=j("v-list"),b=j("v-card-text"),x=j("v-card");return be(),De(x,{title:"Recuperi",elevation:"3",loading:a.value},{default:M(()=>[m(_,{lines:"three"},{default:M(()=>{var k;return[(be(!0),wt(Ie,null,Si((k=r.value)==null?void 0:k.recoveryMap,(I,E)=>(be(),wt(Ie,{key:I.type},[m(f,{inset:""},{default:M(()=>[Re("b",null,at(ie(Gle)[I.type]),1)]),_:2},1024),I.recoveries.length==0?(be(),De(h,{key:0},{default:M(()=>[I.type=="unset"?(be(),wt("div",_0e," Nessuna lezione da recuperare ")):I.type=="pending"?(be(),wt("div",y0e," Nessuna lezione di recupero programmata ")):(be(),wt("div",b0e," Nessuna lezione di recupero effettuata "))]),_:2},1024)):Yt("",!0),(be(!0),wt(Ie,null,Si(I.recoveries,(T,S)=>(be(),De(h,{key:`${T.lessonId}_${T.originalDailyLesson.id}`},{title:M(()=>[Ee(at(T.name)+" "+at(T.surname),1)]),subtitle:M(()=>[I.type=="unset"?(be(),wt("div",w0e," Da recuperare la lezione del "+at(ie(rt).fromIyyyyMMdd(T.originalDailyLesson.date).format()),1)):I.type=="pending"?(be(),wt("div",x0e,[Ee(" Recupero della lezione del "+at(ie(rt).fromIyyyyMMdd(T.originalDailyLesson.date).format())+" programmato ",1),T.recoveryDailyLesson?(be(),wt("span",S0e," per il "+at(ie(rt).fromIyyyyMMdd(T.recoveryDailyLesson.date).format()),1)):Yt("",!0)])):(be(),wt("div",k0e,[Ee(" Recupero della lezione del "+at(ie(rt).fromIyyyyMMdd(T.originalDailyLesson.date).format())+" effettuato ",1),T.recoveryDailyLesson?(be(),wt("span",T0e," il "+at(ie(rt).fromIyyyyMMdd(T.recoveryDailyLesson.date).format()),1)):Yt("",!0)]))]),append:M(()=>[I.type=="unset"?(be(),De(p0e,{key:0,modelValue:I.recoveries[S],"onUpdate:modelValue":w=>I.recoveries[S]=w,school:d.school},null,8,["modelValue","onUpdate:modelValue","school"])):I.type=="pending"?(be(),De(g,{key:1,onClick:w=>l(T),loading:o.value,disabled:o.value},{default:M(()=>c[0]||(c[0]=[Ee("annulla")])),_:2},1032,["onClick","loading","disabled"])):(be(),De(v,{key:2,color:"success"},{default:M(()=>c[1]||(c[1]=[Ee(" mdi-check-all ")])),_:1}))]),_:2},1024))),128)),E!=2?(be(),De(p,{key:1})):Yt("",!0)],64))),128))]}),_:1}),r.value?Yt("",!0):(be(),De(b,{key:0},{default:M(()=>c[2]||(c[2]=[Ee(" Nessun recupero in programma ")])),_:1}))]),_:1},8,["loading"])}}}),OU=Tt({__name:"DateSelect",props:{modelValue:{default:{from:void 0,to:void 0}},modelModifiers:{}},emits:["update:modelValue"],setup(t){const e=Fr(),n=["Assoluto","Relativo","Per mese"],i=["Oggi","Ieri","Ultima settimana","Ultimo mese","Ultimi 3 mesi","Ultimi 6 mesi","Ultimo anno"],s=[...Array(12).keys()].map(g=>pa(new Date(0,g).toLocaleString("it",{month:"long"}))),r=Y(n[1]),a=Y(i[2]),o=Y(s[0]),l=Y();let u=!1;const d=Al(t,"modelValue");we(r,c,{immediate:!0}),we(a,c,{immediate:!0}),we(o,c,{immediate:!0}),we(l,c,{immediate:!0}),we(d,f,{immediate:!0});function c(){var g,v,p;if(u=!0,r.value==n[2]){let _=s.indexOf(o.value);_=_==-1?0:_;const b=new Date().getFullYear(),x=new Date(b,_,1),k=new Date(b,_+1,0);d.value={from:rt.fromDate(x).toIyyyyMMdd(),to:rt.fromDate(k).toIyyyyMMdd()}}else if(r.value==n[1]){let _;a.value==i[1]?_=e.addDays(new Date,-1):a.value==i[2]?_=e.addDays(new Date,-7):a.value==i[3]?_=e.addMonths(new Date,-1):a.value==i[4]?_=e.addMonths(new Date,-3):a.value==i[5]?_=e.addMonths(new Date,-6):a.value==i[6]?_=e.addMonths(new Date,-12):_=new Date,d.value={from:rt.fromDate(_).toIyyyyMMdd()}}else if(r.value==n[0]){const _=(g=l.value)==null?void 0:g[0],b=((v=l.value)==null?void 0:v[l.value.length-1])??((p=l.value)==null?void 0:p[0]);_&&b&&(d.value={from:rt.fromDate(_).toIyyyyMMdd(),to:rt.fromDate(b).toIyyyyMMdd()})}}function f(){var p,_;if(u){u=!1;return}const g=(p=d.value)==null?void 0:p.from,v=(_=d.value)==null?void 0:_.to;if(g&&!v){r.value=n[1];const x=h(new Date,rt.fromIyyyyMMdd(g).toDate());x.days==0&&x.months==0&&x.years==0?a.value=i[0]:x.days==1&&x.months==0&&x.years==0?a.value=i[1]:x.days==7&&x.months==0&&x.years==0?a.value=i[2]:(x.days==30||x.months==1)&&x.years==0?a.value=i[3]:(x.days==90||x.months==3)&&x.years==0?a.value=i[4]:(x.days==180||x.months==6)&&x.years==0?a.value=i[5]:x.days==365||x.months==12||x.years==1?a.value=i[6]:(console.warn("Selected period not recognized, falling to last week"),a.value=i[2])}else if(g&&v){const b=rt.fromIyyyyMMdd(g).toDate(),x=rt.fromIyyyyMMdd(v).toDate();if(console.log(b,x,b.getDate(),x.getDate(),new Date(b.getFullYear(),b.getMonth()+1,0).getDate()),b.getDate()==1&&x.getMonth()==b.getMonth()&&x.getFullYear()==b.getFullYear()&&x.getDate()==new Date(b.getFullYear(),b.getMonth()+1,0).getDate())r.value=n[2],o.value=s[b.getMonth()];else{r.value=n[0],l.value=[];for(const k=b;k<=x;k.setDate(k.getDate()+1))l.value.push(new Date(k))}}}function h(g,v){const p=new Date(Math.abs(g.getTime()-v.getTime())),_=p.getUTCFullYear()-1970,b=p.getUTCMonth(),x=p.getUTCDate()-1;return{years:_,months:b,days:x}}return(g,v)=>{const p=j("v-select"),_=j("v-col"),b=j("v-date-input"),x=j("v-row");return be(),De(x,null,{default:M(()=>[m(_,{cols:"12",md:"6"},{default:M(()=>[m(p,{variant:"outlined",density:"compact",modelValue:r.value,"onUpdate:modelValue":v[0]||(v[0]=k=>r.value=k),items:n,label:"Tempo","hide-details":""},null,8,["modelValue"])]),_:1}),r.value==n[0]?(be(),De(_,{key:0,cols:"12",md:"6"},{default:M(()=>[m(b,{variant:"outlined",density:"compact",modelValue:l.value,"onUpdate:modelValue":v[1]||(v[1]=k=>l.value=k),multiple:"range",inputmode:"none",label:"Intervallo","hide-details":""},null,8,["modelValue"])]),_:1})):r.value==n[1]?(be(),De(_,{key:1,cols:"12",md:"6"},{default:M(()=>[m(p,{variant:"outlined",density:"compact",modelValue:a.value,"onUpdate:modelValue":v[2]||(v[2]=k=>a.value=k),items:i,label:"Periodo","hide-details":""},null,8,["modelValue"])]),_:1})):(be(),De(_,{key:2,cols:"12",md:"6"},{default:M(()=>[m(p,{class:"text-capitalize",variant:"outlined",density:"compact",modelValue:o.value,"onUpdate:modelValue":v[3]||(v[3]=k=>o.value=k),label:`Mese ${new Date().getFullYear()}`,items:ie(s),"hide-details":""},null,8,["modelValue","label","items"])]),_:1}))]),_:1})}}}),C0e={class:"d-flex justify-center"},E0e={colspan:"6",class:"text-center font-weight-bold"},I0e=Tt({__name:"SalaryView",props:{school:{}},setup(t){const e=t,n=Y([]),i=Y(!1),s=Y({}),r=Y({}),a=[{title:"Data",align:"start",sortable:!0,key:"date"},{title:"Presenti",key:"presents"},{title:"Assenti",key:"absents"},{title:"Stipendio giornaliero",key:"salary"},{title:"Aggiornato il",key:"lastUpdate"},{title:"Operazioni",key:"actions",sortable:!1}],o=R(()=>{const d=n.value.reduce((c,f)=>c+f.salary,0);return isNaN(d)?0:d});we(r,l);async function l(){if(!r.value||!r.value.from)return;const d=r.value.to??rt.today().toIyyyyMMdd();i.value=!0,n.value=await rv.instance.computeSalary(e.school,r.value.from,d),i.value=!1}async function u(d,c){s.value[d.dailyLessonId]=!0;const f=await wi.instance.computeSalaryOfDailyLesson(e.school,d.dailyLessonId);f?(n.value[c].salary=f.salary,n.value[c].lastUpdate=f.lastSalaryUpdate):et.info(`Lo stipendio della lezione del ${rt.fromIyyyyMMdd(d.date).format()}  gi aggiornato!`),s.value[d.dailyLessonId]=!1}return Pt(async()=>{await l()}),(d,c)=>{const f=j("v-btn"),h=j("v-data-table"),g=j("v-card-text"),v=j("v-card");return be(),De(v,{title:"Stipendio",elevation:"3",loading:i.value},{default:M(()=>[m(g,null,{default:M(()=>[m(OU,{modelValue:r.value,"onUpdate:modelValue":c[0]||(c[0]=p=>r.value=p)},null,8,["modelValue"]),m(h,{headers:a,items:n.value,"item-value":"id"},{"item.date":M(({item:p})=>[Ee(at(ie(rt).fromIyyyyMMdd(p.date).format()),1)]),"item.lastUpdate":M(({item:p})=>[Ee(at(p.lastUpdate?ie(a4)(ie(J_)(p.lastUpdate)):""),1)]),"item.actions":M(({item:p,index:_})=>[Re("div",C0e,[m(f,{icon:"mdi-refresh",variant:"text",onClick:b=>u(p,_),loading:s.value[p.dailyLessonId]},null,8,["onClick","loading"])])]),"body.append":M(()=>[Re("tr",null,[Re("td",E0e,"Totale "+at(o.value)+" ",1)])]),_:1},8,["items"])]),_:1})]),_:1},8,["loading"])}}}),D0e={class:"d-inline-block text-truncate",style:{"max-width":"120px"}},A0e={class:"font-weight-bold text-caption"},O0e={key:1},R0e=Tt({__name:"StudentNoteView",props:{school:{}},setup(t){const e=t,n=[],i=Y([]),s=Y(!1);async function r(){s.value=!0;const a=_r.instance.observeStudentsOfSchool(e.school.id).subscribe({next:o=>{i.value=o.filter(l=>!!l.note),s.value=!1},error:o=>{s.value=!1,console.error(o)}});n.push(a)}return Pt(async()=>{await r()}),Us(()=>{n.forEach(a=>a.unsubscribe())}),(a,o)=>{const l=j("v-col"),u=j("v-row"),d=j("v-expansion-panel-title"),c=j("v-icon"),f=j("v-dialog"),h=j("v-expansion-panel-text"),g=j("v-expansion-panel"),v=j("v-expansion-panels"),p=j("v-card-text"),_=j("v-card");return be(),De(_,{title:"Note",elevation:"3",loading:s.value},{default:M(()=>[m(p,null,{default:M(()=>[i.value.length!=0?(be(),De(v,{key:0},{default:M(()=>[(be(!0),wt(Ie,null,Si(i.value,b=>(be(),De(g,{key:b.id},{default:M(()=>[m(d,null,{default:M(()=>[m(u,{class:"justify-between"},{default:M(()=>[m(l,null,{default:M(()=>[Re("span",null,at(b.name)+" "+at(b.surname),1)]),_:2},1024),m(l,{class:"text-grey",cols:"auto"},{default:M(()=>[Re("span",D0e,at(b.note.text),1)]),_:2},1024)]),_:2},1024)]),_:2},1024),m(h,null,{default:M(()=>[m(u,null,{default:M(()=>[m(l,null,{default:M(()=>[Ee(at(b.note.text),1)]),_:2},1024)]),_:2},1024),m(u,{class:"justify-end align-center"},{default:M(()=>[m(l,{cols:"auto"},{default:M(()=>[Re("span",A0e,"Aggiornata il "+at(ie(a4)(ie(J_)(b.note.updatedAt))),1)]),_:2},1024),m(l,{cols:"auto"},{default:M(()=>[m(f,{fullscreen:""},{activator:M(({props:x})=>[m(c,J({class:"me-2",size:"small",ref_for:!0},x),{default:M(()=>o[0]||(o[0]=[Ee(" mdi-pencil ")])),_:2},1040)]),default:M(({isActive:x})=>[m(ly,{edit:"",school:a.school,initialStudent:b,focus:"note",disableFields:["name","surname","contact","lessonDay","level","minutesLessonDuration"],onClose:k=>x.value=!1,onSave:k=>x.value=!1},null,8,["school","initialStudent","onClose","onSave"])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})):(be(),wt("p",O0e," Nessuna nota presente "))]),_:1})]),_:1},8,["loading"])}}}),M0e=Tt({__name:"StudentFilter",props:{modelValue:{default:[]},modelModifiers:{}},emits:Dl(["close"],["update:modelValue"]),setup(t,{emit:e}){const n=Al(t,"modelValue"),i=e,s=Y([]),r=R(()=>s.value.length===Fp.length),a=R(()=>s.value.length>0);function o(c){return{title:c.name,value:c.type,color:c.color,icon:c.icon}}function l(){r.value?s.value=[]:s.value=Fp.slice()}function u(){s.value=[...n.value]}function d(){n.value=[...s.value],i("close")}return Pt(()=>u()),(c,f)=>{const h=j("v-icon"),g=j("v-checkbox-btn"),v=j("v-list-item"),p=j("v-divider"),_=j("v-select"),b=j("v-col"),x=j("v-row"),k=j("v-card-text"),I=j("v-spacer"),E=j("v-btn"),T=j("v-card-actions"),S=j("v-card");return be(),De(S,{class:"mx-auto","min-width":"300px"},{default:M(()=>[m(k,null,{default:M(()=>[m(x,null,{default:M(()=>[m(b,null,{default:M(()=>[m(_,{modelValue:s.value,"onUpdate:modelValue":f[0]||(f[0]=w=>s.value=w),items:ie(Fp),"return-object":"","item-props":o,label:"Filtri",multiple:"",chips:""},{chip:M(({item:w})=>[m(h,{color:w.props.color},{default:M(()=>[Ee(at(w.props.icon),1)]),_:2},1032,["color"])]),"prepend-item":M(()=>[m(v,{title:"Seleziona Tutti",onClick:l},{prepend:M(()=>[m(g,{color:a.value?"indigo-darken-4":void 0,indeterminate:a.value&&!r.value,"model-value":r.value},null,8,["color","indeterminate","model-value"])]),_:1}),m(p,{class:"mt-2"})]),_:1},8,["modelValue","items"])]),_:1})]),_:1})]),_:1}),m(T,null,{default:M(()=>[m(I),m(E,{onClick:u},{default:M(()=>f[1]||(f[1]=[Ee("Reset")])),_:1}),m(E,{onClick:d,color:"primary"},{default:M(()=>f[2]||(f[2]=[Ee("Applica")])),_:1})]),_:1})]),_:1})}}}),V0e=Tt({__name:"StudentView",props:{school:{}},setup(t){const e=t,n=[],i=Y([]),s=Y([]),r=Y(!1),a=Y(!1),o=[{title:"Nome",key:"name",align:"start"},{title:"Cognome",key:"surname"},{title:"Giorno della Lezione",key:"lessonDay"},{title:"Operazioni",key:"actions",sortable:!1},{title:"Contatto",key:"contact"},{title:"Lezione di prova",key:"trial"}],l=Y(Fp);we(l,h);function u(g){var v;return(v=g.trial)!=null&&v.done?g.trial.dailyLessonDate?rt.fromIyyyyMMdd(g.trial.dailyLessonDate).format():"Fatta":""}function d(g){g&&(a.value=!1)}async function c(g){if(!g)return!1;try{return await Ys.instance.delete(g.id),!0}catch{return!1}}async function f(){r.value=!0;const g=_r.instance.observeStudentsOfSchool(e.school.id).subscribe({next:v=>{i.value=v,h(),r.value=!1},error:v=>r.value=!1});n.push(g)}function h(){s.value=i.value.filter(g=>{if(l.value.length==2)return!0;if(l.value.map(v=>v.type).includes("substistution"))return!!g.isSubstitution;if(l.value.map(v=>v.type).includes("normal"))return!g.isSubstitution})}return Pt(async()=>{await f()}),Us(()=>{n.forEach(g=>g.unsubscribe())}),(g,v)=>{const p=j("v-btn"),_=j("v-dialog"),b=j("v-text-field"),x=j("v-col"),k=j("v-row"),I=j("v-icon"),E=j("v-data-table"),T=j("v-card-text"),S=j("v-card");return be(),De(S,{title:"Studenti",elevation:"3",loading:r.value},{default:M(()=>[m(T,null,{default:M(()=>[m(k,{class:"mr-4 mb-1 align-center"},{default:M(()=>[m(x,{cols:"12",md:"8"},{default:M(()=>[m(b,{class:"ma-2",density:"compact",label:"Ricerca",variant:"outlined","hide-details":""},{append:M(()=>[m(_,{transition:"dialog-bottom-transition"},{activator:M(({props:w})=>[m(p,J({icon:"mdi-filter",variant:"text"},w),null,16)]),default:M(({isActive:w})=>[m(M0e,{modelValue:l.value,"onUpdate:modelValue":v[0]||(v[0]=P=>l.value=P),onClose:P=>w.value=!1},null,8,["modelValue","onClose"])]),_:1})]),_:1})]),_:1}),m(x,{cols:"12",md:"4"},{default:M(()=>[m(_,{modelValue:a.value,"onUpdate:modelValue":v[3]||(v[3]=w=>a.value=w),fullscreen:""},{activator:M(({props:w})=>[m(p,J({"prepend-icon":"mdi-plus",color:"success"},w),{default:M(()=>v[4]||(v[4]=[Ee(" studente ")])),_:2},1040)]),default:M(()=>[m(ly,{school:g.school,onClose:v[1]||(v[1]=w=>a.value=!1),onSave:v[2]||(v[2]=w=>d(w))},null,8,["school"])]),_:1},8,["modelValue"])]),_:1})]),_:1}),m(E,{headers:o,items:s.value,"item-value":"id"},{"item.lessonDay":M(({item:w})=>[Ee(at(w.lessonDay?ie(Vs)[w.lessonDay]:""),1)]),"item.trial":M(({item:w})=>[Ee(at(u(w)),1)]),"item.actions":M(({item:w})=>[m(_,{fullscreen:""},{activator:M(({props:P})=>[m(I,J({class:"me-2",size:"small"},P),{default:M(()=>v[5]||(v[5]=[Ee(" mdi-pencil ")])),_:2},1040)]),default:M(({isActive:P})=>[m(ly,{edit:"",school:g.school,initialStudent:w,onClose:C=>P.value=!1,onSave:C=>P.value=!1},null,8,["school","initialStudent","onClose","onSave"])]),_:2},1024),m(ug,{name:w.name+" "+w.surname,objName:"Studente",onDelete:async()=>await c(w)},{activator:M(({props:P})=>[m(I,J({size:"small"},P),{default:M(()=>v[6]||(v[6]=[Ee(" mdi-delete ")])),_:2},1040)]),_:2},1032,["name","onDelete"])]),_:1},8,["items"])]),_:1})]),_:1},8,["loading"])}}}),L0e=Tt({__name:"SchoolView",setup(t){const e=Wv(),n=Rc(),i=R(()=>e.params.id),s=Lr.instance.observe(i),r=_P(s),a=[];async function o(){if(!r.value)return!1;try{return lv.instance.delete(s.value),n.push("/"),!0}catch{return!1}}return Us(()=>{a.forEach(l=>l())}),(l,u)=>{const d=j("v-btn"),c=j("v-list-item"),f=j("v-dialog"),h=j("v-list"),g=j("v-menu"),v=j("v-col"),p=j("v-row"),_=j("v-card"),b=j("v-skeleton-loader"),x=j("v-container");return ie(r)?(be(),De(_,{key:0,class:"pa-3 mb-3",title:ie(r).name,elevation:"0"},{prepend:M(()=>[m(sg)]),append:M(()=>[m(g,{transition:"slide-y-transition"},{activator:M(({props:k})=>[m(d,J({icon:"mdi-dots-vertical",variant:"text"},k),null,16)]),default:M(()=>[m(h,null,{default:M(()=>[m(f,{fullscreen:""},{activator:M(({props:k})=>[m(c,J({title:"Modifica"},k),null,16)]),default:M(({isActive:k})=>[m(AU,{edit:"",initialSchool:ie(r),onClose:I=>k.value=!1,onSave:I=>k.value=!1},null,8,["initialSchool","onClose","onSave"])]),_:1}),m(ug,{name:ie(r).name,objName:"Scuola",onDelete:o},{activator:M(({props:k})=>[m(c,J({title:"Elimina"},k),null,16)]),_:1},8,["name"])]),_:1})]),_:1})]),default:M(()=>[m(p,{class:"mt-5"},{default:M(()=>[m(v,{class:"pa-2",cols:"12",md:"6"},{default:M(()=>[m(g0e,{school:ie(r)},null,8,["school"])]),_:1}),m(v,{class:"pa-2",cols:"12",md:"6"},{default:M(()=>[m(P0e,{school:ie(r)},null,8,["school"])]),_:1})]),_:1}),m(p,null,{default:M(()=>[m(v,{class:"pa-2",cols:"12",md:"6"},{default:M(()=>[m(V0e,{school:ie(r)},null,8,["school"])]),_:1}),m(v,{class:"pa-2",cols:"12",md:"6"},{default:M(()=>[m(I0e,{school:ie(r)},null,8,["school"])]),_:1})]),_:1}),m(p,null,{default:M(()=>[m(v,{class:"pa-2",cols:"12"},{default:M(()=>[m(R0e,{school:ie(r)},null,8,["school"])]),_:1})]),_:1})]),_:1},8,["title"])):(be(),De(x,{key:1,fluid:""},{default:M(()=>[m(b,{class:"mx-auto",type:"heading"}),m(p,{class:"justify-center mt-4"},{default:M(()=>[(be(),wt(Ie,null,Si(5,k=>m(v,{key:k,cols:"12",md:"6"},{default:M(()=>[m(b,{elevation:"3",type:"card"})]),_:2},1024)),64))]),_:1})]),_:1}))}}}),N0e=Tt({__name:"SettingsView",setup(t){const e=Y(!1),n=R(()=>`Abilitare console debug: ${e.value?"on":"off"}`),i=Y(!1),s=R(()=>`Abilitare il caricamento automatico delle lezioni del giorno sulla Homepage: ${i.value?"on":"off"}`),r=Y(!1);we(e,()=>Qs.setItem("debugEnabled",e.value)),we(i,()=>Qs.setItem("loadTodayLesson",i.value));function a(){e.value=Qs.getItem("debugEnabled")??!1,i.value=Qs.getItem("loadTodayLesson")??!1,"Notification"in window&&"serviceWorker"in navigator&&(r.value=!0)}function o(){r.value&&Notification.requestPermission(u=>{console.log("result from permission question",u),u!=="granted"?et.info("Autorizzazione notifiche negata"):(et.info("Autorizzazione notifiche consentita! Ti sar inviata una notifica di prova"),console.log("A notification will be send from the service worker => This only works in production"),l())})}function l(){"serviceWorker"in navigator&&(console.log(navigator.serviceWorker),navigator.serviceWorker.ready.then(u=>{console.log(u),u.showNotification("Notifica di prova",{body:"Questa  una notifica di prova"})}))}return Pt(()=>a()),(u,d)=>{const c=j("v-col"),f=j("v-row"),h=j("v-switch"),g=j("v-btn"),v=j("v-form"),p=j("v-container");return be(),De(p,{fluid:"",class:"mb-5"},{default:M(()=>[m(f,{class:"justify-center align-center mb-6"},{default:M(()=>[m(c,{cols:"auto"},{default:M(()=>[m(sg)]),_:1}),m(c,null,{default:M(()=>d[2]||(d[2]=[Re("p",{class:"text-h5 text-center"},"Impostazioni Utente",-1)])),_:1})]),_:1}),m(f,null,{default:M(()=>[m(c,null,{default:M(()=>[m(v,{class:"ma-2"},{default:M(()=>[m(f,{class:"justify-center"},{default:M(()=>[m(c,{class:"px-2",cols:"12",md:"6"},{default:M(()=>[m(h,{modelValue:e.value,"onUpdate:modelValue":d[0]||(d[0]=_=>e.value=_),color:"primary",label:n.value},null,8,["modelValue","label"])]),_:1}),m(c,{class:"px-2",cols:"12",md:"6"},{default:M(()=>[m(h,{modelValue:i.value,"onUpdate:modelValue":d[1]||(d[1]=_=>i.value=_),color:"primary",label:s.value},null,8,["modelValue","label"])]),_:1}),m(c,null,{default:M(()=>[r.value?(be(),De(g,{key:0,onClick:o},{default:M(()=>d[3]||(d[3]=[Ee("abilita notifiche")])),_:1})):Yt("",!0)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}}});class F0e{constructor(){on(this,"schools",[]);on(this,"students",[])}async getSchools(){return this.schools.length==0&&(this.schools=await Lr.instance.getAll()),this.schools}async getStudents(){return this.students.length==0&&(this.students=await Ys.instance.getAll()),this.students}clear(){this.schools=[],this.students=[]}}const Hy=class Hy{constructor(){on(this,"cache",new F0e)}static get instance(){return this._instance||(this._instance=new Hy),this._instance}async getSalaryTrend(e,n,...i){const s=[];(!i||i.length==0)&&(i=await this.cache.getSchools());for await(const r of i){const o=(await wi.instance.getDailyLessonOfSchoolBetweenDate(r.id,e,n)).filter(l=>!isNaN(l.salary)).map(l=>({date:rt.fromIyyyyMMdd(l.date).toDate().getTime(),value:l.salary}));s.push(...o)}return s.sort((r,a)=>r.date-a.date)}async getSalaryDistribution(e,n,...i){const s=[];(!i||i.length==0)&&(i=await this.cache.getSchools());for await(const r of i){const o=(await wi.instance.getDailyLessonOfSchoolBetweenDate(r.id,e,n)).filter(l=>!isNaN(l.salary)).map(l=>l.salary).reduce((l,u)=>l+u,0);s.push({category:r.name,value:o})}return s}async getSchoolDistribution(...e){return(!e||e.length==0)&&(e=await this.cache.getSchools()),e.map(n=>({category:n.name,value:1}))}async getSchoolStudentDistribution(...e){const n=[];(!e||e.length==0)&&(e=await this.cache.getSchools());const i=await this.cache.getStudents();for(const s of e){const r=i.filter(a=>a.schoolId==s.id).length;r&&n.push({category:s.name,value:r})}return n}async getStudentTrend(e,n,...i){const s=[];(!i||i.length==0)&&(i=await this.cache.getSchools());for await(const r of i){const a=(await this.cache.getStudents()).filter(l=>l.schoolId==r.id),o=await wi.instance.getDailyLessonOfSchoolBetweenDate(r.id,e,n);a.forEach(l=>{var d;const u={student:l.name+" "+l.surname,present:0,absent:0,recovery:0};for(const c of o){const f=c.lessons.find(h=>h.studentId==l.id);f&&(((d=f.recovery)==null?void 0:d.ref)=="original"&&u.recovery++,f.status==Mt.PRESENT?u.present++:f.status==Mt.ABSENT&&u.absent++)}!u.present&&!u.absent&&!u.recovery||s.push(u)})}return s}async getLessonTrend(e,n,...i){const s={category:"Presenze",value:0},r={category:"Assenze",value:0},a={category:"Recuperi",value:0};(!i||i.length==0)&&(i=await this.cache.getSchools());for await(const o of i){const l=await wi.instance.getDailyLessonOfSchoolBetweenDate(o.id,e,n);for(const u of l)s.value+=u.lessons.filter(d=>d.status==Mt.PRESENT).length,r.value+=u.lessons.filter(d=>d.status==Mt.ABSENT).length,a.value+=u.lessons.filter(d=>{var c;return((c=d.recovery)==null?void 0:c.ref)=="original"}).length}return[s,r,a]}};on(Hy,"_instance",null);let Lo=Hy;class St{constructor(e){Object.defineProperty(this,"_value",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._value=e}get value(){return this._value/100}get percent(){return this._value}toString(){return""+this._value+"%"}interpolate(e,n){return e+this.value*(n-e)}static normalize(e,n,i){return e instanceof St?e:n===i?new St(0):new St(Math.min(Math.max((e-n)*(1/(i-n)),0),1)*100)}}function jn(t){return new St(t)}jn(0);const Fe=jn(100),ct=jn(50);function iV(t){return t instanceof St}function va(t){return Number(t)!==t}function B0e(t){return{}.toString.call(t)}function lr(t){if(t!=null&&!me(t)){let e=Number(t);return va(e)&&vh(t)&&t!=""?lr(t.replace(/[^0-9.\-]+/g,"")):e}return t}function j0e(t){if(hk(t))return new Date(t);if(me(t))return new Date(t);{let e=Number(t);return me(e)?new Date(e):new Date(t)}}function $0e(t){if(va(t))return"NaN";if(t===1/0)return"Infinity";if(t===-1/0)return"-Infinity";if(t===0&&1/t===-1/0)return"-0";let e=t<0;t=Math.abs(t);let n=/^([0-9]+)(?:\.([0-9]+))?(?:e[\+\-]([0-9]+))?$/.exec(""+t),i=n[1],s=n[2]||"",r;if(n[3]===void 0)r=s===""?i:i+"."+s;else{let a=+n[3];if(t<1){let o=a-1;r="0."+sV("0",o)+i+s}else{let o=a-s.length;o===0?r=i+s:o<0?r=i+s.slice(0,o)+"."+s.slice(o):r=i+s+sV("0",o)}}return e?"-"+r:r}function sV(t,e){return new Array(e+1).join(t)}function hk(t){return B0e(t)==="[object Date]"}function vh(t){return typeof t=="string"}function me(t){return typeof t=="number"&&Number(t)==t}function cg(t){return typeof t=="object"&&t!==null}const zl="____",Sd="____";function gh(t,e){const n=t.length;for(let i=0;i<n;++i)if(t[i]===e)return i;return-1}function U0e(t,e){const n=t.length;for(let i=0;i<n;++i)if(e(t[i]))return!0;return!1}function fk(t,e){const n=t.length,i=new Array(n);for(let s=0;s<n;++s)i[s]=e(t[s],s);return i}function oe(t,e){const n=t.length;for(let i=0;i<n;++i)e(t[i],i)}function cm(t,e){let n=t.length;for(;n>0;)--n,e(t[n],n)}function ZC(t,e){const n=t.length;for(let i=0;i<n&&e(t[i],i);++i);}function Ir(t,e){let n=!1,i=0;for(;;){if(i=t.indexOf(e,i),i===-1)return n;n=!0,t.splice(i,1)}}function ns(t,e){let n=t.indexOf(e);return n!==-1?(t.splice(n,1),!0):!1}function rV(t,e,n){let i=gh(t,e);i!==-1&&vk(t,i),t.push(e)}function uv(t,e){t.indexOf(e)===-1&&t.push(e)}function mk(t){const e=t.length,n=new Array(e);for(let i=0;i<e;++i)n[i]=t[i];return n}function v1(t,e,n){t.splice(e,0,n)}function vk(t,e){t.splice(e,1)}function RU(t,e){const n=t.length;for(let i=0;i<n;++i)if(e(t[i],i))return i;return-1}function H0e(t,e){let n=t.length;for(;n>0;)if(--n,e(t[n],n))return n;return-1}function MU(t,e){const n=RU(t,e);if(n!==-1)return t[n]}function z0e(t,e){const n=H0e(t,e);if(n!==-1)return t[n]}function gk(t,e){let n=0,i=t.length,s=!1;for(;n<i;){const r=n+i>>1,a=e(t[r]);a<0?n=r+1:a===0?(s=!0,n=r+1):i=r}return{found:s,index:s?n-1:n}}function VU(t,e){let n=0,i=t.length,s=!1;for(;n<i;){const r=n+i>>1,a=e(t[r]);a<0?n=r+1:(a===0&&(s=!0),i=r)}return{found:s,index:n}}function L0(t,e){let n=t.length;for(;n>0;)--n,e(t[n])||t.splice(n,1)}function xi(t){return Object.keys(t)}function W0e(t,e){return xi(t).sort(e)}function Bu(t){return Object.assign({},t)}function rn(t,e){xi(t).forEach(n=>{e(n,t[n])})}function Y0e(t,e){for(let n in t)if(G0e(t,n)&&!e(n,t[n]))break}function G0e(t,e){return{}.hasOwnProperty.call(t,e)}class N0{constructor(){Object.defineProperty(this,"_disposed",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._disposed=!1}isDisposed(){return this._disposed}dispose(){this._disposed||(this._disposed=!0,this._dispose())}}class Di{constructor(e){Object.defineProperty(this,"_disposed",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_dispose",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._disposed=!1,this._dispose=e}isDisposed(){return this._disposed}dispose(){this._disposed||(this._disposed=!0,this._dispose())}}class q0e extends N0{constructor(){super(...arguments),Object.defineProperty(this,"_disposers",{enumerable:!0,configurable:!0,writable:!0,value:[]})}_dispose(){oe(this._disposers,e=>{e.dispose()})}}class Rs extends N0{constructor(e){super(),Object.defineProperty(this,"_disposers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._disposers=e}_dispose(){oe(this._disposers,e=>{e.dispose()})}get disposers(){return this._disposers}}class eE extends Di{constructor(){super(...arguments),Object.defineProperty(this,"_counter",{enumerable:!0,configurable:!0,writable:!0,value:0})}increment(){return++this._counter,new Di(()=>{--this._counter,this._counter===0&&this.dispose()})}}function X0e(t){t.parentNode&&t.parentNode.removeChild(t)}function Nn(t,e,n,i){return t.addEventListener(e,n,i||!1),new Di(()=>{t.removeEventListener(e,n,i||!1)})}function LU(t){return Nn(window,"resize",e=>{t()})}function Fa(t){switch(t){case"touchevents":return window.hasOwnProperty("TouchEvent");case"pointerevents":return window.hasOwnProperty("PointerEvent");case"mouseevents":return window.hasOwnProperty("MouseEvent");case"wheelevents":return window.hasOwnProperty("WheelEvent");case"keyboardevents":return window.hasOwnProperty("KeyboardEvent")}return!1}function g1(t){return t.pointerId||0}function K0e(){if(document.activeElement&&document.activeElement!=document.body)if(document.activeElement.blur)document.activeElement.blur();else{let t=document.createElement("button");t.style.position="fixed",t.style.top="0px",t.style.left="-10000px",document.body.appendChild(t),t.focus(),t.blur(),document.body.removeChild(t)}}function Q0e(t){t&&t.focus()}function pk(t){if(Fa("pointerevents"))return t;if(Fa("touchevents"))switch(t){case"pointerover":return"touchstart";case"pointerout":return"touchend";case"pointerleave":return"touchend";case"pointerdown":return"touchstart";case"pointermove":return"touchmove";case"pointerup":return"touchend";case"click":return"click";case"dblclick":return"dblclick"}else if(Fa("mouseevents"))switch(t){case"pointerover":return"mouseover";case"pointerout":return"mouseout";case"pointerleave":return"mouseleave";case"pointerdown":return"mousedown";case"pointermove":return"mousemove";case"pointerup":return"mouseup";case"click":return"click";case"dblclick":return"dblclick"}return t}function _k(t){if(typeof Touch<"u"&&t instanceof Touch)return!0;if(typeof PointerEvent<"u"&&t instanceof PointerEvent&&t.pointerType!=null)switch(t.pointerType){case"touch":case"pen":case 2:return!0;case"mouse":case 4:return!1;default:return!(t instanceof MouseEvent)}else if(t.type!=null&&t.type.match(/^mouse/))return!1;return!0}function rp(t,e,n){t.style[e]=n}function J0e(t,e){return t.style[e]}function NU(t){if(t.composedPath){const e=t.composedPath();return e.length===0?null:e[0]}else return t.target}function Z0e(t,e){let n=e;for(;;){if(t===n)return!0;if(n.parentNode===null){if(n.host==null)return!1;n=n.host}else n=n.parentNode}}function tE(t,e){return t.target&&Z0e(e.root.dom,t.target)}function pd(t,e){e?t.style.pointerEvents="auto":t.style.pointerEvents="none"}function kd(t){if(t.key!==void 0)return t.key;switch(t.keyCode){case 9:return"Tab";case 13:return"Enter";case 16:return"Shift";case 17:return"Control";case 27:return"Escape";case 32:return" ";case 37:return"ArrowLeft";case 38:return"ArrowUp";case 39:return"ArrowRight";case 40:return"ArrowDown";case 46:return"Delete"}return""+t.keyCode}function ewe(t){let e=t;for(;;){if(e.parentNode===null)return e.host!=null?e:null;e=e.parentNode}}let p1;function twe(t,e=""){if(t===null){if(p1==null){const n=document.createElement("style");n.type="text/css",e!=""&&n.setAttribute("nonce",e),document.head.appendChild(n),p1=n.sheet}return p1}else{const n=document.createElement("style");return n.type="text/css",e!=""&&n.setAttribute("nonce",e),t.appendChild(n),n.sheet}}function aV(t,e){const n=t.cssRules.length;return t.insertRule(e+"{}",n),t.cssRules[n]}class Gi extends N0{constructor(e,n,i,s=""){super(),Object.defineProperty(this,"_root",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_rule",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._root=twe(e,s);try{this._rule=aV(this._root,n)}catch{this._rule=aV(this._root,":not(*)")}rn(i,(r,a)=>{this.setStyle(r,a)})}set selector(e){this._rule.selectorText=e}get selector(){return this._rule.selectorText}_dispose(){const e=gh(this._root.cssRules,this._rule);if(e===-1)throw new Error("Could not dispose StyleRule");this._root.deleteRule(e)}_setVendorPrefixName(e,n){const i=this._rule.style;i.setProperty("-webkit-"+e,n,""),i.setProperty("-moz-"+e,n,""),i.setProperty("-ms-"+e,n,""),i.setProperty("-o-"+e,n,""),i.setProperty(e,n,"")}setStyle(e,n){e==="transition"?this._setVendorPrefixName(e,n):this._rule.style.setProperty(e,n,"")}}function nwe(){return/apple/i.test(navigator.vendor)&&"ontouchend"in document}function iwe(){return nwe()?1:void 0}function Qn(t,e){return me(t)?t:t!=null&&me(t.value)&&me(e)?e*t.value:0}function FU(t){let e=(""+t).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return e?Math.max(0,(e[1]?e[1].length:0)-(e[2]?+e[2]:0)):0}function ci(t,e=0,n="0"){return typeof t!="string"&&(t=t.toString()),e>t.length?Array(e-t.length+1).join(n)+t:t}function swe(t){return t.replace(/^[\s]*/,"")}function rwe(t){return t.replace(/[\s]*$/,"")}function Ud(t){return swe(rwe(t))}function awe(t,e,n=!1,i="..."){if(t.length>e){let s=e-1;for(;s>=0&&t.charAt(s).match(/\w/);)s--;return s>=0&&n==!1?t.substring(0,s+1)+"...":t.substring(0,e)+i}else return t}function nE(t){return t.replace(/\/(date|number|duration)$/i,"")}function oV(t){return t&&t.replace(/<[^>]*>/g,"")}function lV(t){return t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}function owe(t){const e=/[\u0590-\u05FF\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]/,n=/([^]*[])/gi;let i=t.split(/(\s+)/),s=[];return i.forEach(r=>{if(r.match(/^\s+$/))(r=" ")&&(r="  "),s.push(r);else if(e.test(r)){let a=r.split(n).filter(o=>o!=="");s=s.concat(a)}else s=s.concat([...r])}),s}function uV(t,e=!1){const n=new Date(t.getFullYear(),0,0),i=t.getTime()-n.getTime()+(n.getTimezoneOffset()-t.getTimezoneOffset())*60*1e3,s=1e3*60*60*24;return Math.floor(i/s)}function vy(t,e=!1){const n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate())),i=n.getUTCDay()||7;n.setUTCDate(n.getUTCDate()+4-i);const s=new Date(Date.UTC(n.getUTCFullYear(),0,1));return Math.ceil(((n.getTime()-s.getTime())/864e5+1)/7)}function lwe(t,e=!1){const n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate())),i=n.getUTCDay()||7;return n.setUTCDate(n.getUTCDate()+4-i),new Date(Date.UTC(n.getUTCFullYear(),0,1)).getFullYear()}function uwe(t,e=!1){const n=vy(new Date(t.getFullYear(),t.getMonth(),1),e);let i=vy(t,e);return i==1&&(i=53),i-n+1}function cwe(t,e,n=1,i=!1){let s=new Date(e,0,4,0,0,0,0);return i&&s.setUTCFullYear(e),t*7+n-((s.getDay()||7)+3)}function ap(t,e){return t>12?t-=12:t===0&&(t=12),e!=null?t+(e-1):t}function op(t,e=!1,n=!1,i=!1,s){if(i)return e?"Coordinated Universal Time":"UTC";if(s){const o=t.toLocaleString("en-US",{timeZone:s}),l=t.toLocaleString("en-US",{timeZone:s,timeZoneName:e?"long":"short"});return Ud(l.substr(o.length))}let r=t.toLocaleString("UTC"),a=t.toLocaleString("UTC",{timeZoneName:e?"long":"short"}).substr(r.length);return n===!1&&(a=a.replace(/ (standard|daylight|summer|winter) /i," ")),Ud(a)}function dwe(t){const e=new Date(Date.UTC(2012,0,1,0,0,0,0)),n=new Date(e.toLocaleString("en-US",{timeZone:"UTC"}));return(new Date(e.toLocaleString("en-US",{timeZone:t})).getTime()-n.getTime())/6e4*-1}function cV(t){return t.charAt(0).toUpperCase()+t.slice(1)}function BU(t){let e,n,i,s=t.h,r=t.s,a=t.l;if(r==0)e=n=i=a;else{let o=function(c,f,h){return h<0&&(h+=1),h>1&&(h-=1),h<.16666666666666666?c+(f-c)*6*h:h<.5?f:h<.6666666666666666?c+(f-c)*(.6666666666666666-h)*6:c},l=a<.5?a*(1+r):a+r-a*r,u=2*a-l;e=o(u,l,s+1/3),n=o(u,l,s),i=o(u,l,s-1/3)}return{r:Math.round(e*255),g:Math.round(n*255),b:Math.round(i*255)}}function jU(t){let e=t.r/255,n=t.g/255,i=t.b/255,s=Math.max(e,n,i),r=Math.min(e,n,i),a=0,o=0,l=(s+r)/2;if(s===r)a=o=0;else{let u=s-r;switch(o=l>.5?u/(2-s-r):u/(s+r),s){case e:a=(n-i)/u+(n<i?6:0);break;case n:a=(i-e)/u+2;break;case i:a=(e-n)/u+4;break}a/=6}return{h:a,s:o,l}}function hwe(t,e){return t&&{r:Math.max(0,Math.min(255,t.r+Gp(t.r,e))),g:Math.max(0,Math.min(255,t.g+Gp(t.g,e))),b:Math.max(0,Math.min(255,t.b+Gp(t.b,e))),a:t.a}}function Gp(t,e){let n=e>0?255-t:t;return Math.round(n*e)}function fwe(t,e){if(t){let n=Math.min(Math.max(t.r,t.g,t.b),230),i=Gp(n,e);return{r:Math.max(0,Math.min(255,Math.round(t.r+i))),g:Math.max(0,Math.min(255,Math.round(t.g+i))),b:Math.max(0,Math.min(255,Math.round(t.b+i))),a:t.a}}else return t}function dV(t){return(t.r*299+t.g*587+t.b*114)/1e3>=128}function mwe(t,e){if(t===void 0||e==1)return t;let n=jU(t);return n.s=e,BU(n)}function vwe(t,e={r:255,g:255,b:255},n={r:255,g:255,b:255}){let i=e,s=n;return dV(n)&&(i=n,s=e),dV(t)?s:i}function Lt(t,e){return t||(t=[]),[...t,...e].filter((n,i,s)=>s.indexOf(n)===i)}function $U(t,e){return!(!e||t.left!=e.left||t.right!=e.right||t.top!=e.top||t.bottom!=e.bottom)}function UU(t){return t[0]==="#"&&(t=t.substr(1)),t.length==3&&(t=t[0].repeat(2)+t[1].repeat(2)+t[2].repeat(2)),parseInt(t,16)}function gwe(t){t=t.replace(/[ ]/g,"");let e=t.match(/^rgb\(([0-9]*),([0-9]*),([0-9]*)\)/i);if(e)e.push("1");else if(e=t.match(/^rgba\(([0-9]*),([0-9]*),([0-9]*),([.0-9]*)\)/i),!e)return 0;let n="";for(let i=1;i<=3;i++){let s=parseInt(e[i]).toString(16);s.length==1&&(s="0"+s),n+=s}return UU(n)}function gl(t){return tt.fromAny(t)}class tt{constructor(e){Object.defineProperty(this,"_hex",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._hex=e|0}get hex(){return this._hex}get r(){return this._hex>>>16}get g(){return this._hex>>8&255}get b(){return this._hex&255}toCSS(e=1){return"rgba("+this.r+", "+this.g+", "+this.b+", "+e+")"}toCSSHex(){return"#"+ci(this.r.toString(16),2)+ci(this.g.toString(16),2)+ci(this.b.toString(16),2)}toHSL(e=1){return jU({r:this.r,g:this.g,b:this.b,a:e})}static fromHSL(e,n,i){const s=BU({h:e,s:n,l:i});return this.fromRGB(s.r,s.g,s.b)}toString(){return this.toCSSHex()}static fromHex(e){return new tt(e)}static fromRGB(e,n,i){return new tt((i|0)+(n<<8)+(e<<16))}static fromString(e){return new tt(UU(e))}static fromCSS(e){return new tt(gwe(e))}static fromAny(e){if(vh(e)){if(e[0]=="#")return tt.fromString(e);if(e.substr(0,3)=="rgb")return tt.fromCSS(e)}else{if(me(e))return tt.fromHex(e);if(e instanceof tt)return tt.fromHex(e.hex)}throw new Error("Unknown color syntax: "+e)}static alternative(e,n,i){const s=vwe({r:e.r,g:e.g,b:e.b},n?{r:n.r,g:n.g,b:n.b}:void 0,i?{r:i.r,g:i.g,b:i.b}:void 0);return this.fromRGB(s.r,s.g,s.b)}static interpolate(e,n,i,s="rgb"){if(s=="hsl"){const r=n.toHSL(),a=i.toHSL();return tt.fromHSL(cl(e,r.h,a.h),cl(e,r.s,a.s),cl(e,r.l,a.l))}else return tt.fromRGB(cl(e,n.r,i.r),cl(e,n.g,i.g),cl(e,n.b,i.b))}static lighten(e,n){const i=hwe({r:e.r,g:e.g,b:e.b},n);return tt.fromRGB(i.r,i.g,i.b)}static brighten(e,n){const i=fwe({r:e.r,g:e.g,b:e.b},n);return tt.fromRGB(i.r,i.g,i.b)}static saturate(e,n){const i=mwe({r:e.r,g:e.g,b:e.b},n);return tt.fromRGB(i.r,i.g,i.b)}}class Zh{constructor(){Object.defineProperty(this,"_listeners",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_killed",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_disabled",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_iterating",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_enabled",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_disposed",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._listeners=[],this._killed=[],this._disabled={},this._iterating=0,this._enabled=!0,this._disposed=!1}isDisposed(){return this._disposed}dispose(){if(!this._disposed){this._disposed=!0;const e=this._listeners;this._iterating=1,this._listeners=null,this._disabled=null;try{oe(e,n=>{n.disposer.dispose()})}finally{this._killed=null,this._iterating=null}}}hasListeners(){return this._listeners.length!==0}hasListenersByType(e){return U0e(this._listeners,n=>(n.type===null||n.type===e)&&!n.killed)}enable(){this._enabled=!0}disable(){this._enabled=!1}enableType(e){delete this._disabled[e]}disableType(e,n=1/0){this._disabled[e]=n}_removeListener(e){if(this._iterating===0){const n=this._listeners.indexOf(e);if(n===-1)throw new Error("Invalid state: could not remove listener");this._listeners.splice(n,1)}else this._killed.push(e)}_removeExistingListener(e,n,i,s){if(this._disposed)throw new Error("EventDispatcher is disposed");this._eachListener(r=>{r.once===e&&r.type===n&&(i===void 0||r.callback===i)&&r.context===s&&r.disposer.dispose()})}isEnabled(e){if(this._disposed)throw new Error("EventDispatcher is disposed");return this._enabled&&this._listeners.length>0&&this.hasListenersByType(e)&&this._disabled[e]===void 0}removeType(e){if(this._disposed)throw new Error("EventDispatcher is disposed");this._eachListener(n=>{n.type===e&&n.disposer.dispose()})}has(e,n,i){return RU(this._listeners,r=>r.once!==!0&&r.type===e&&(n===void 0||r.callback===n)&&r.context===i)!==-1}_shouldDispatch(e){if(this._disposed)throw new Error("EventDispatcher is disposed");const n=this._disabled[e];return me(n)?(n<=1?delete this._disabled[e]:--this._disabled[e],!1):this._enabled}_eachListener(e){++this._iterating;try{oe(this._listeners,e)}finally{--this._iterating,this._iterating===0&&this._killed.length!==0&&(oe(this._killed,n=>{this._removeListener(n)}),this._killed.length=0)}}dispatch(e,n){this._shouldDispatch(e)&&this._eachListener(i=>{!i.killed&&(i.type===null||i.type===e)&&i.dispatch(e,n)})}_on(e,n,i,s,r,a){if(this._disposed)throw new Error("EventDispatcher is disposed");this._removeExistingListener(e,n,i,s);const o={type:n,callback:i,context:s,shouldClone:r,dispatch:a,killed:!1,once:e,disposer:new Di(()=>{o.killed=!0,this._removeListener(o)})};return this._listeners.push(o),o}onAll(e,n,i=!0){return this._on(!1,null,e,n,i,(s,r)=>e.call(n,r)).disposer}on(e,n,i,s=!0){return this._on(!1,e,n,i,s,(r,a)=>n.call(i,a)).disposer}once(e,n,i,s=!0){const r=this._on(!0,e,n,i,s,(a,o)=>{r.disposer.dispose(),n.call(i,o)});return r.disposer}off(e,n,i){this._removeExistingListener(!1,e,n,i)}copyFrom(e){if(this._disposed)throw new Error("EventDispatcher is disposed");if(e===this)throw new Error("Cannot copyFrom the same TargetedEventDispatcher");const n=[];return oe(e._listeners,i=>{!i.killed&&i.shouldClone&&(i.type===null?n.push(this.onAll(i.callback,i.context)):i.once?n.push(this.once(i.type,i.callback,i.context)):n.push(this.on(i.type,i.callback,i.context)))}),new Rs(n)}}function hV(t){return ki(this,void 0,void 0,function*(){if(t!==void 0){const e=[];rn(t,(n,i)=>{e.push(i.waitForStop())}),yield Promise.all(e)}})}function cl(t,e,n){return e+t*(n-e)}function pwe(t,e,n){return t>=1?n:e}function HU(t,e,n){return new St(cl(t,e.percent,n.percent))}function _we(t,e,n){return tt.interpolate(t,e,n)}function ywe(t,e){return typeof t=="number"&&typeof e=="number"?cl:t instanceof St&&e instanceof St?HU:t instanceof tt&&e instanceof tt?_we:pwe}var qu;(function(t){t[t.Stopped=0]="Stopped",t[t.Playing=1]="Playing",t[t.Paused=2]="Paused"})(qu||(qu={}));function kf(t,e){if(!(t>=0&&t<e))throw new Error("Index out of bounds: "+t)}class ef{constructor(e=[]){Object.defineProperty(this,"_values",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"events",{enumerable:!0,configurable:!0,writable:!0,value:new Zh}),this._values=e}get values(){return this._values}contains(e){return this._values.indexOf(e)!==-1}removeValue(e){let n=0,i=this._values.length;for(;n<i;)this._values[n]===e?(this.removeIndex(n),--i):++n}indexOf(e){return gh(this._values,e)}get length(){return this._values.length}hasIndex(e){return e>=0&&e<this._values.length}getIndex(e){return this._values[e]}_onPush(e){this.events.isEnabled("push")&&this.events.dispatch("push",{type:"push",target:this,newValue:e})}_onInsertIndex(e,n){this.events.isEnabled("insertIndex")&&this.events.dispatch("insertIndex",{type:"insertIndex",target:this,index:e,newValue:n})}_onSetIndex(e,n,i){this.events.isEnabled("setIndex")&&this.events.dispatch("setIndex",{type:"setIndex",target:this,index:e,oldValue:n,newValue:i})}_onRemoveIndex(e,n){this.events.isEnabled("removeIndex")&&this.events.dispatch("removeIndex",{type:"removeIndex",target:this,index:e,oldValue:n})}_onMoveIndex(e,n,i){this.events.isEnabled("moveIndex")&&this.events.dispatch("moveIndex",{type:"moveIndex",target:this,oldIndex:e,newIndex:n,value:i})}_onClear(e){this.events.isEnabled("clear")&&this.events.dispatch("clear",{type:"clear",target:this,oldValues:e})}setIndex(e,n){kf(e,this._values.length);const i=this._values[e];return i!==n&&(this._values[e]=n,this._onSetIndex(e,i,n)),i}insertIndex(e,n){return kf(e,this._values.length+1),v1(this._values,e,n),this._onInsertIndex(e,n),n}swap(e,n){const i=this._values.length;if(kf(e,i),kf(n,i),e!==n){const s=this._values[e],r=this._values[n];this._values[e]=r,this._onSetIndex(e,s,r),this._values[n]=s,this._onSetIndex(n,r,s)}}removeIndex(e){kf(e,this._values.length);const n=this._values[e];return vk(this._values,e),this._onRemoveIndex(e,n),n}moveValue(e,n){let i=this.indexOf(e);if(i!==-1)if(vk(this._values,i),n==null){const s=this._values.length;this._values.push(e),this._onMoveIndex(i,s,e)}else v1(this._values,n,e),this._onMoveIndex(i,n,e);else n==null?(this._values.push(e),this._onPush(e)):(v1(this._values,n,e),this._onInsertIndex(n,e));return e}push(e){return this._values.push(e),this._onPush(e),e}unshift(e){return this.insertIndex(0,e),e}pushAll(e){oe(e,n=>{this.push(n)})}copyFrom(e){this.pushAll(e._values)}pop(){return this._values.length-1<0?void 0:this.removeIndex(this._values.length-1)}shift(){return this._values.length?this.removeIndex(0):void 0}setAll(e){const n=this._values;this._values=[],this._onClear(n),oe(e,i=>{this._values.push(i),this._onPush(i)})}clear(){this.setAll([])}*[Symbol.iterator](){const e=this._values.length;for(let n=0;n<e;++n)yield this._values[n]}each(e){oe(this._values,e)}eachReverse(e){cm(this._values,e)}}class gy extends ef{constructor(){super(...arguments),Object.defineProperty(this,"autoDispose",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"_disposed",{enumerable:!0,configurable:!0,writable:!0,value:!1})}_onSetIndex(e,n,i){this.autoDispose&&n.dispose(),super._onSetIndex(e,n,i)}_onRemoveIndex(e,n){this.autoDispose&&n.dispose(),super._onRemoveIndex(e,n)}_onClear(e){this.autoDispose&&oe(e,n=>{n.dispose()}),super._onClear(e)}_dispose(){this.autoDispose&&oe(this._values,e=>{e.dispose()})}isDisposed(){return this._disposed}dispose(){this._disposed||(this._disposed=!0,this._dispose())}}class ji extends gy{constructor(e,n){super(),Object.defineProperty(this,"template",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"make",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.template=e,this.make=n}_dispose(){super._dispose(),this.autoDispose&&this.template.dispose()}}class bwe extends ef{constructor(e){super(),Object.defineProperty(this,"_disposed",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_container",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_events",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._container=e,this._events=this.events.onAll(n=>{if(n.type==="clear")oe(n.oldValues,i=>{this._onRemoved(i)});else if(n.type==="push")this._onInserted(n.newValue);else if(n.type==="setIndex")this._onRemoved(n.oldValue),this._onInserted(n.newValue,n.index);else if(n.type==="insertIndex")this._onInserted(n.newValue,n.index);else if(n.type==="removeIndex")this._onRemoved(n.oldValue);else if(n.type==="moveIndex")this._onRemoved(n.value),this._onInserted(n.value,n.newIndex);else throw new Error("Unknown IListEvent type")})}_onInserted(e,n){e._setParent(this._container,!0);const i=this._container._childrenDisplay;n===void 0?i.addChild(e._display):i.addChildAt(e._display,n)}_onRemoved(e){this._container._childrenDisplay.removeChild(e._display),this._container.markDirtyBounds(),this._container.markDirty()}isDisposed(){return this._disposed}dispose(){this._disposed||(this._disposed=!0,this._events.dispose(),oe(this.values,e=>{e.dispose()}))}}const zU=Math.PI,cv=zU/180,dm=180/zU;function di(t,e,n){if(!me(e)||e<=0)return Math.round(t);{let i=Math.pow(10,e);return Math.round(t*i)/i}}function wwe(t,e){if(!me(e)||e<=0)return Math.ceil(t);{let n=Math.pow(10,e);return Math.ceil(t*n)/n}}function Kn(t,e,n){return Math.min(Math.max(t,e),n)}function Dr(t){return Math.sin(cv*t)}function Ba(t){return Math.cos(cv*t)}function iE(t){return t=t%360,t<0&&(t+=360),t}function yk(t,e,n,i,s){let r=Number.MAX_VALUE,a=Number.MAX_VALUE,o=-Number.MAX_VALUE,l=-Number.MAX_VALUE,u=[];u.push(_1(s,n)),u.push(_1(s,i));let d=Math.min(Math.floor(n/90)*90,Math.floor(i/90)*90),c=Math.max(Math.ceil(n/90)*90,Math.ceil(i/90)*90);for(let f=d;f<=c;f+=90)f>=n&&f<=i&&u.push(_1(s,f));for(let f=0;f<u.length;f++){let h=u[f];h.x<r&&(r=h.x),h.y<a&&(a=h.y),h.x>o&&(o=h.x),h.y>l&&(l=h.y)}return{left:t+r,top:e+a,right:t+o,bottom:e+l}}function _1(t,e){return{x:t*Ba(e),y:t*Dr(e)}}function xwe(t){const e=t.length;if(e>0){let n=t[0],i=n.left,s=n.top,r=n.right,a=n.bottom;if(e>1)for(let o=1;o<e;o++)n=t[o],i=Math.min(n.left,i),r=Math.max(n.right,r),s=Math.min(n.top,s),a=Math.max(n.bottom,a);return{left:i,right:r,top:s,bottom:a}}return{left:0,right:0,top:0,bottom:0}}function Swe(t,e){return t.x>=e.left&&t.y>=e.top&&t.x<=e.right&&t.y<=e.bottom}function fV(t){return t}function dl(t){return t*t*t}function ud(t){return function(e){return 1-t(1-e)}}function kwe(t){return function(e){return e<=.5?t(e*2)/2:1-t((1-e)*2)/2}}class Twe{constructor(e,n){Object.defineProperty(this,"_entity",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_settings",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_userSettings",{enumerable:!0,configurable:!0,writable:!0,value:{}}),this._entity=e,this._settings=n,rn(n,i=>{this._userSettings[i]=!0})}get(e,n){const i=this._settings[e];return i!==void 0?i:n}setRaw(e,n){this._settings[e]=n}set(e,n){this._userSettings[e]=!0,this.setRaw(e,n)}remove(e){delete this._userSettings[e],delete this._settings[e]}setAll(e){xi(e).forEach(n=>{this.set(n,e[n])})}_eachSetting(e){rn(this._settings,e)}apply(){const e={};e.stateAnimationEasing=!0,e.stateAnimationDuration=!0;const n=this._entity.states.lookup("default");this._eachSetting((i,s)=>{e[i]||(e[i]=!0,this!==n&&(i in n._settings||(n._settings[i]=this._entity.get(i))),this._entity.set(i,s))})}applyAnimate(e){e==null&&(e=this._settings.stateAnimationDuration),e==null&&(e=this.get("stateAnimationDuration",this._entity.get("stateAnimationDuration",0)));let n=this._settings.stateAnimationEasing;n==null&&(n=this.get("stateAnimationEasing",this._entity.get("stateAnimationEasing",dl)));const i=this._entity.states.lookup("default"),s={};s.stateAnimationEasing=!0,s.stateAnimationDuration=!0;const r={};return this._eachSetting((a,o)=>{if(!s[a]){s[a]=!0,this!=i&&(a in i._settings||(i._settings[a]=this._entity.get(a)));const l=this._entity.animate({key:a,to:o,duration:e,easing:n});l&&(r[a]=l)}}),r}}class Pwe{constructor(e){Object.defineProperty(this,"_states",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_entity",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._entity=e}lookup(e){return this._states[e]}create(e,n){const i=this._states[e];if(i)return i.setAll(n),i;{const s=new Twe(this._entity,n);return this._states[e]=s,s}}remove(e){delete this._states[e]}apply(e){const n=this._states[e];n&&n.apply(),this._entity._applyState(e)}applyAnimate(e,n){let i;const s=this._states[e];return s&&(i=s.applyAnimate(n)),this._entity._applyStateAnimated(e,n),i}}class Cwe{constructor(){Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:"5.10.10"}),Object.defineProperty(this,"licenses",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"entitiesById",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"rootElements",{enumerable:!0,configurable:!0,writable:!0,value:[]})}}const Ca=new Cwe;function ja(t,e){return t===e?0:t<e?-1:1}function WU(t,e,n){const i=t.length,s=e.length,r=Math.min(i,s);for(let a=0;a<r;++a){const o=n(t[a],e[a]);if(o!==0)return o}return ja(i,s)}function mV(t,e){return t===e?0:t<e?-1:1}class Ewe{constructor(e){Object.defineProperty(this,"_entity",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_callbacks",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_disabled",{enumerable:!0,configurable:!0,writable:!0,value:{}}),this._entity=e}add(e,n){let i=this._callbacks[e];return i===void 0&&(i=this._callbacks[e]=[]),i.push(n),this._entity._markDirtyKey(e),new Di(()=>{ns(i,n)&&this._entity._markDirtyKey(e)})}remove(e){const n=this._callbacks[e];n!==void 0&&(delete this._callbacks[e],n.length!==0&&this._entity._markDirtyKey(e))}enable(e){this._disabled[e]&&(delete this._disabled[e],this._entity._markDirtyKey(e))}disable(e){this._disabled[e]||(this._disabled[e]=!0,this._entity._markDirtyKey(e))}fold(e,n){if(!this._disabled[e]){const i=this._callbacks[e];if(i!==void 0)for(let s=0,r=i.length;s<r;++s)n=i[s](n,this._entity,e)}return n}}class lp{constructor(e,n,i,s,r,a,o){Object.defineProperty(this,"_animation",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_from",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_to",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_duration",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_easing",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_loops",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_interpolate",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_oldTime",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_time",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_stopped",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_playing",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"events",{enumerable:!0,configurable:!0,writable:!0,value:new Zh}),this._animation=e,this._from=n,this._to=i,this._duration=s,this._easing=r,this._loops=a,this._interpolate=ywe(n,i),this._oldTime=o}get to(){return this._to}get from(){return this._from}get playing(){return this._playing}get stopped(){return this._stopped}stop(){this._stopped||(this._stopped=!0,this._playing=!1,this.events.isEnabled("stopped")&&this.events.dispatch("stopped",{type:"stopped",target:this}))}pause(){this._playing=!1,this._oldTime=null}play(){!this._stopped&&!this._playing&&(this._playing=!0,this._animation._startAnimation())}get percentage(){return this._time/this._duration}waitForStop(){return new Promise((e,n)=>{if(this._stopped)e();else{const i=()=>{s.dispose(),e()},s=this.events.on("stopped",i)}})}_checkEnded(){return this._loops>1?(--this._loops,!1):!0}_run(e){this._oldTime!==null&&(this._time+=e-this._oldTime,this._time>this._duration&&(this._time=this._duration)),this._oldTime=e}_reset(e){this._oldTime=e,this._time=0}_value(e){return this._interpolate(this._easing(e),this._from,this._to)}}let Iwe=0;class YU{constructor(e){Object.defineProperty(this,"uid",{enumerable:!0,configurable:!0,writable:!0,value:++Iwe}),Object.defineProperty(this,"_settings",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_privateSettings",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_settingEvents",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_privateSettingEvents",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_prevSettings",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_prevPrivateSettings",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_animatingSettings",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_animatingPrivateSettings",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_disposed",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_userProperties",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"enableDispose",{enumerable:!0,configurable:!0,writable:!0,value:!0}),this._settings=e}_checkDirty(){xi(this._settings).forEach(e=>{this._userProperties[e]=!0,this._markDirtyKey(e)})}resetUserSettings(){this._userProperties={}}_runAnimation(e){let n=qu.Stopped;if(!this.isDisposed()){let i=!1,s=!1;rn(this._animatingSettings,(r,a)=>{if(a.stopped)this._stopAnimation(r);else if(a.playing){a._run(e);const o=a.percentage;o>=1?a._checkEnded()?this.set(r,a._value(1)):(i=!0,a._reset(e),this._set(r,a._value(1))):(i=!0,this._set(r,a._value(o)))}else s=!0}),rn(this._animatingPrivateSettings,(r,a)=>{if(a.stopped)this._stopAnimationPrivate(r);else if(a.playing){a._run(e);const o=a.percentage;o>=1?a._checkEnded()?this.setPrivate(r,a._value(1)):(i=!0,a._reset(e),this._setPrivate(r,a._value(1))):(i=!0,this._setPrivate(r,a._value(o)))}else s=!0}),i?n=qu.Playing:s&&(n=qu.Paused)}return n}_markDirtyKey(e){this.markDirty()}_markDirtyPrivateKey(e){this.markDirty()}on(e,n){let i=this._settingEvents[e];return i===void 0&&(i=this._settingEvents[e]=[]),i.push(n),new Di(()=>{ns(i,n),i.length===0&&delete this._settingEvents[e]})}off(e,n){let i=this._settingEvents[e];i!==void 0&&n!==void 0?ns(i,n):delete this._settingEvents[e]}onPrivate(e,n){let i=this._privateSettingEvents[e];return i===void 0&&(i=this._privateSettingEvents[e]=[]),i.push(n),new Di(()=>{ns(i,n),i.length===0&&delete this._privateSettingEvents[e]})}offPrivate(e,n){let i=this._privateSettingEvents[e];i!==void 0&&n!==void 0?ns(i,n):delete this._privateSettingEvents[e]}getRaw(e,n){const i=this._settings[e];return i!==void 0?i:n}has(e){return e in this._settings}get(e,n){return this.getRaw(e,n)}_sendKeyEvent(e,n){const i=this._settingEvents[e];i!==void 0&&oe(i,s=>{s(n,this,e)})}_sendPrivateKeyEvent(e,n){const i=this._privateSettingEvents[e];i!==void 0&&oe(i,s=>{s(n,this,e)})}_setRaw(e,n,i){this._prevSettings[e]=n,this._sendKeyEvent(e,i)}setRaw(e,n){const i=this._settings[e];this._settings[e]=n,i!==n&&this._setRaw(e,i,n)}_set(e,n){const i=this._settings[e];this._settings[e]=n,i!==n&&(this._setRaw(e,i,n),this._markDirtyKey(e))}_stopAnimation(e){const n=this._animatingSettings[e];n&&(delete this._animatingSettings[e],n.stop())}set(e,n){return this._set(e,n),this._stopAnimation(e),n}remove(e){e in this._settings&&(this._prevSettings[e]=this._settings[e],delete this._settings[e],this._sendKeyEvent(e,void 0),this._markDirtyKey(e)),this._stopAnimation(e)}removeAll(){oe(xi(this._settings),e=>{this.remove(e)})}getPrivate(e,n){const i=this._privateSettings[e];return i!==void 0?i:n}_setPrivateRaw(e,n,i){this._prevPrivateSettings[e]=n,this._sendPrivateKeyEvent(e,i)}setPrivateRaw(e,n){const i=this._privateSettings[e];this._privateSettings[e]=n,i!==n&&this._setPrivateRaw(e,i,n)}_setPrivate(e,n){const i=this._privateSettings[e];this._privateSettings[e]=n,i!==n&&(this._setPrivateRaw(e,i,n),this._markDirtyPrivateKey(e))}_stopAnimationPrivate(e){const n=this._animatingPrivateSettings[e];n&&(n.stop(),delete this._animatingPrivateSettings[e])}setPrivate(e,n){return this._setPrivate(e,n),this._stopAnimationPrivate(e),n}removePrivate(e){e in this._privateSettings&&(this._prevPrivateSettings[e]=this._privateSettings[e],delete this._privateSettings[e],this._markDirtyPrivateKey(e)),this._stopAnimationPrivate(e)}setAll(e){rn(e,(n,i)=>{this.set(n,i)})}animate(e){const n=e.key,i=e.to,s=e.duration||0,r=e.loops||1,a=e.from===void 0?this.get(n):e.from,o=e.easing===void 0?fV:e.easing;if(s===0)this.set(n,i);else if(a===void 0||a===i)this.set(n,i);else{this.set(n,a);const u=this._animatingSettings[n]=new lp(this,a,i,s,o,r,this._animationTime());return this._startAnimation(),u}const l=new lp(this,a,i,s,o,r,null);return l.stop(),l}animatePrivate(e){const n=e.key,i=e.to,s=e.duration||0,r=e.loops||1,a=e.from===void 0?this.getPrivate(n):e.from,o=e.easing===void 0?fV:e.easing;if(s===0)this.setPrivate(n,i);else if(a===void 0||a===i)this.setPrivate(n,i);else{this.setPrivate(n,a);const u=this._animatingPrivateSettings[n]=new lp(this,a,i,s,o,r,this._animationTime());return this._startAnimation(),u}const l=new lp(this,a,i,s,o,r,null);return l.stop(),l}_dispose(){}isDisposed(){return this._disposed}dispose(){this.enableDispose&&!this._disposed&&(this._disposed=!0,this._dispose())}}class Ei extends YU{constructor(e,n,i,s=[]){if(super(n),Object.defineProperty(this,"_root",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_user_id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"states",{enumerable:!0,configurable:!0,writable:!0,value:new Pwe(this)}),Object.defineProperty(this,"adapters",{enumerable:!0,configurable:!0,writable:!0,value:new Ewe(this)}),Object.defineProperty(this,"events",{enumerable:!0,configurable:!0,writable:!0,value:this._createEvents()}),Object.defineProperty(this,"_userPrivateProperties",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_dirty",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_dirtyPrivate",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_template",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_templates",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_internalTemplates",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_defaultThemes",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_templateDisposers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_disposers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_runSetup",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"_disposerProperties",{enumerable:!0,configurable:!0,writable:!0,value:{}}),!i)throw new Error("You cannot use `new Class()`, instead use `Class.new()`");this._root=e,this._internalTemplates=s,n.id&&this._registerId(n.id)}static new(e,n,i){const s=new this(e,n,!0);return s._template=i,s._afterNew(),s}static _new(e,n,i=[]){const s=new this(e,n,!0,i);return s._afterNew(),s}_afterNew(){this._checkDirty();let e=!1;const n=this._template;n&&(e=!0,n._setObjectTemplate(this)),oe(this._internalTemplates,i=>{e=!0,i._setObjectTemplate(this)}),e&&this._applyTemplates(!1),this.states.create("default",{}),this._setDefaults()}_afterNewApplyThemes(){this._checkDirty();const e=this._template;e&&e._setObjectTemplate(this),oe(this._internalTemplates,n=>{n._setObjectTemplate(this)}),this.states.create("default",{}),this._setDefaults(),this._applyThemes()}_createEvents(){return new Zh}get classNames(){return this.constructor.classNames}get className(){return this.constructor.className}_setDefaults(){}_setDefaultFn(e,n){const i=this.get(e);if(i)return i;{const s=n();return this.set(e,s),s}}_setDefault(e,n){this.has(e)||super.set(e,n)}_setRawDefault(e,n){this.has(e)||super.setRaw(e,n)}_clearDirty(){xi(this._dirty).forEach(e=>{this._dirty[e]=!1}),xi(this._dirtyPrivate).forEach(e=>{this._dirtyPrivate[e]=!1})}isDirty(e){return!!this._dirty[e]}isPrivateDirty(e){return!!this._dirtyPrivate[e]}_markDirtyKey(e){this._dirty[e]=!0,super._markDirtyKey(e)}_markDirtyPrivateKey(e){this._dirtyPrivate[e]=!0,super._markDirtyKey(e)}isType(e){return this.classNames.indexOf(e)!==-1}_pushPropertyDisposer(e,n){let i=this._disposerProperties[e];return i===void 0&&(i=this._disposerProperties[e]=[]),i.push(n),n}_disposeProperty(e){const n=this._disposerProperties[e];n!==void 0&&(oe(n,i=>{i.dispose()}),delete this._disposerProperties[e])}set template(e){const n=this._template;n!==e&&(this._template=e,n&&n._removeObjectTemplate(this),e&&e._setObjectTemplate(this),this._applyTemplates())}get template(){return this._template}markDirty(){this._root._addDirtyEntity(this)}_startAnimation(){this._root._addAnimation(this)}_animationTime(){return this._root.animationTime}_applyState(e){}_applyStateAnimated(e,n){}get(e,n){const i=this.adapters.fold(e,this._settings[e]);return i!==void 0?i:n}isUserSetting(e){return this._userProperties[e]||!1}set(e,n){return this._userProperties[e]=!0,super.set(e,n)}setRaw(e,n){this._userProperties[e]=!0,super.setRaw(e,n)}_setSoft(e,n){return this._userProperties[e]?n:super.set(e,n)}remove(e){delete this._userProperties[e],this._removeTemplateProperty(e)}setPrivate(e,n){return this._userPrivateProperties[e]=!0,super.setPrivate(e,n)}setPrivateRaw(e,n){this._userPrivateProperties[e]=!0,super.setPrivateRaw(e,n)}removePrivate(e){delete this._userPrivateProperties[e],this._removeTemplatePrivateProperty(e)}_setTemplateProperty(e,n,i){if(!this._userProperties[n]){const s=this._findTemplateByKey(n);e===s&&super.set(n,i)}}_setTemplatePrivateProperty(e,n,i){if(!this._userPrivateProperties[n]){const s=this._findTemplateByPrivateKey(n);e===s&&super.setPrivate(n,i)}}_removeTemplateProperty(e){if(!this._userProperties[e]){const n=this._findTemplateByKey(e);n?super.set(e,n._settings[e]):super.remove(e)}}_removeTemplatePrivateProperty(e){if(!this._userPrivateProperties[e]){const n=this._findTemplateByPrivateKey(e);n?super.setPrivate(e,n._privateSettings[e]):super.removePrivate(e)}}_walkParents(e){e(this._root._rootContainer),e(this)}_applyStateByKey(e){const n=this.states.create(e,{}),i={};this._eachTemplate(s=>{const r=s.states.lookup(e);r&&r._apply(n,i)}),rn(n._settings,s=>{!i[s]&&!n._userSettings[s]&&n.remove(s)})}_applyTemplate(e,n){this._templateDisposers.push(e._apply(this,n)),rn(e._settings,(i,s)=>{!n.settings[i]&&!this._userProperties[i]&&(n.settings[i]=!0,super.set(i,s))}),rn(e._privateSettings,(i,s)=>{!n.privateSettings[i]&&!this._userPrivateProperties[i]&&(n.privateSettings[i]=!0,super.setPrivate(i,s))}),this._runSetup&&e.setup&&(this._runSetup=!1,e.setup(this))}_findStaticTemplate(e){if(this._template&&e(this._template))return this._template}_eachTemplate(e){this._findStaticTemplate(n=>(e(n),!1)),cm(this._internalTemplates,e),oe(this._templates,e)}_applyTemplates(e=!0){e&&this._disposeTemplates();const n={settings:{},privateSettings:{},states:{}};this._eachTemplate(i=>{this._applyTemplate(i,n)}),e&&(rn(this._settings,i=>{!this._userProperties[i]&&!n.settings[i]&&super.remove(i)}),rn(this._privateSettings,i=>{!this._userPrivateProperties[i]&&!n.privateSettings[i]&&super.removePrivate(i)}))}_findTemplate(e){const n=this._findStaticTemplate(e);if(n===void 0){const i=z0e(this._internalTemplates,e);return i===void 0?MU(this._templates,e):i}else return n}_findTemplateByKey(e){return this._findTemplate(n=>e in n._settings)}_findTemplateByPrivateKey(e){return this._findTemplate(n=>e in n._privateSettings)}_disposeTemplates(){oe(this._templateDisposers,e=>{e.dispose()}),this._templateDisposers.length=0}_removeTemplates(){oe(this._templates,e=>{e._removeObjectTemplate(this)}),this._templates.length=0}_applyThemes(e=!1){let n=!1;const i=[];let s=[];const r=new Set,a=this.get("themeTagsSelf");return a&&oe(a,o=>{r.add(o)}),this._walkParents(o=>{o===this._root._rootContainer&&(n=!0),o._defaultThemes.length>0&&i.push(o._defaultThemes);const l=o.get("themes");l&&s.push(l);const u=o.get("themeTags");u&&oe(u,d=>{r.add(d)})}),s=i.concat(s),this._removeTemplates(),(n||e)&&cm(this.classNames,o=>{const l=[];oe(s,u=>{oe(u,d=>{const c=d._lookupRules(o);c&&cm(c,f=>{if(f.tags.every(g=>r.has(g))){const g=VU(l,v=>{const p=ja(f.tags.length,v.tags.length);return p===0?WU(f.tags,v.tags,ja):p});l.splice(g.index,0,f)}})})}),oe(l,u=>{this._templates.push(u.template),u.template._setObjectTemplate(this)})}),this._applyTemplates(),(n||e)&&(this._runSetup=!1),n||e}_changed(){}_beforeChanged(){if(this.isDirty("id")){const e=this.get("id");e&&this._registerId(e);const n=this._prevSettings.id;n&&delete Ca.entitiesById[n]}}_registerId(e){if(Ca.entitiesById[e]&&Ca.entitiesById[e]!==this)throw new Error('An entity with id "'+e+'" already exists.');Ca.entitiesById[e]=this}_afterChanged(){}addDisposer(e){return this._disposers.push(e),e}_dispose(){super._dispose();const e=this._template;e&&e._removeObjectTemplate(this),oe(this._internalTemplates,i=>{i._removeObjectTemplate(this)}),this._removeTemplates(),this._disposeTemplates(),this.events.dispose(),this._disposers.forEach(i=>{i.dispose()}),rn(this._disposerProperties,(i,s)=>{oe(s,r=>{r.dispose()})});const n=this.get("id");n&&delete Ca.entitiesById[n]}setTimeout(e,n){const i=setTimeout(()=>{this.removeDispose(s),e()},n),s=new Di(()=>{clearTimeout(i)});return this._disposers.push(s),s}removeDispose(e){if(!this.isDisposed()){let n=gh(this._disposers,e);n>-1&&this._disposers.splice(n,1)}e.dispose()}hasTag(e){return gh(this.get("themeTags",[]),e)!==-1}addTag(e){if(!this.hasTag(e)){const n=this.get("themeTags",[]);n.push(e),this.set("themeTags",n)}}removeTag(e){if(this.hasTag(e)){const n=this.get("themeTags",[]);Ir(n,e),this.set("themeTags",n)}}_t(e,n,...i){return this._root.language.translate(e,n,...i)}get root(){return this._root}}Object.defineProperty(Ei,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Entity"});Object.defineProperty(Ei,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:["Entity"]});function bk(t){rn(t,(e,n)=>{cg(n)&&typeof n.dispose=="function"&&(n.enableDispose=!0,n.dispose())})}class Dwe{constructor(e,n,i){Object.defineProperty(this,"_settings",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_name",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_template",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._name=e,this._template=n,this._settings=i}_dispose(){bk(this._settings)}get(e,n){const i=this._settings[e];return i!==void 0?i:n}set(e,n){this._settings[e]=n,this._template._stateChanged(this._name)}remove(e){delete this._settings[e],this._template._stateChanged(this._name)}setAll(e){xi(e).forEach(n=>{this._settings[n]=e[n]}),this._template._stateChanged(this._name)}_apply(e,n){rn(this._settings,(i,s)=>{!n[i]&&!e._userSettings[i]&&(n[i]=!0,e.setRaw(i,s))})}}class Awe{constructor(e){Object.defineProperty(this,"_template",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_states",{enumerable:!0,configurable:!0,writable:!0,value:{}}),this._template=e}_dispose(){rn(this._states,(e,n)=>{n._dispose()})}lookup(e){return this._states[e]}create(e,n){const i=this._states[e];if(i)return i.setAll(n),i;{const s=new Dwe(e,this._template,n);return this._states[e]=s,this._template._stateChanged(e),s}}remove(e){delete this._states[e],this._template._stateChanged(e)}_apply(e,n){rn(this._states,(i,s)=>{let r=n.states[i];r==null&&(r=n.states[i]={});const a=e.states.create(i,{});s._apply(a,r)})}}class Owe{constructor(){Object.defineProperty(this,"_callbacks",{enumerable:!0,configurable:!0,writable:!0,value:{}})}add(e,n){let i=this._callbacks[e];return i===void 0&&(i=this._callbacks[e]=[]),i.push(n),new Di(()=>{ns(i,n),i.length===0&&delete this._callbacks[e]})}remove(e){this._callbacks[e]!==void 0&&delete this._callbacks[e]}_apply(e){const n=[];return rn(this._callbacks,(i,s)=>{oe(s,r=>{n.push(e.adapters.add(i,r))})}),new Rs(n)}}class Sn{constructor(e,n){if(Object.defineProperty(this,"_disposed",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_settings",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_privateSettings",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_settingEvents",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_privateSettingEvents",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_entities",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"states",{enumerable:!0,configurable:!0,writable:!0,value:new Awe(this)}),Object.defineProperty(this,"adapters",{enumerable:!0,configurable:!0,writable:!0,value:new Owe}),Object.defineProperty(this,"events",{enumerable:!0,configurable:!0,writable:!0,value:new Zh}),Object.defineProperty(this,"setup",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),!n)throw new Error("You cannot use `new Class()`, instead use `Class.new()`");this._settings=e}static new(e){return new Sn(e,!0)}_dispose(){bk(this._settings),bk(this._privateSettings)}isDisposed(){return this._disposed}dispose(){this._disposed||(this._disposed=!0,this._dispose())}_checkDisposed(){if(this._disposed)throw new Error("Template is disposed")}get entities(){return this._entities}get(e,n){this._checkDisposed();const i=this._settings[e];return i!==void 0?i:n}setRaw(e,n){this._checkDisposed(),this._settings[e]=n}set(e,n){this._checkDisposed(),this._settings[e]!==n&&(this.setRaw(e,n),this._entities.forEach(i=>{i._setTemplateProperty(this,e,n)}))}remove(e){this._checkDisposed(),e in this._settings&&(delete this._settings[e],this._entities.forEach(n=>{n._removeTemplateProperty(e)}))}removeAll(){this._checkDisposed(),rn(this._settings,(e,n)=>{this.remove(e)})}getPrivate(e,n){this._checkDisposed();const i=this._privateSettings[e];return i!==void 0?i:n}setPrivateRaw(e,n){return this._checkDisposed(),this._privateSettings[e]=n,n}setPrivate(e,n){return this._checkDisposed(),this._privateSettings[e]!==n&&(this.setPrivateRaw(e,n),this._entities.forEach(i=>{i._setTemplatePrivateProperty(this,e,n)})),n}removePrivate(e){this._checkDisposed(),e in this._privateSettings&&(delete this._privateSettings[e],this._entities.forEach(n=>{n._removeTemplatePrivateProperty(e)}))}setAll(e){this._checkDisposed(),rn(e,(n,i)=>{this.set(n,i)})}on(e,n){this._checkDisposed();let i=this._settingEvents[e];return i===void 0&&(i=this._settingEvents[e]=[]),i.push(n),new Di(()=>{ns(i,n),i.length===0&&delete this._settingEvents[e]})}onPrivate(e,n){this._checkDisposed();let i=this._privateSettingEvents[e];return i===void 0&&(i=this._privateSettingEvents[e]=[]),i.push(n),new Di(()=>{ns(i,n),i.length===0&&delete this._privateSettingEvents[e]})}_apply(e,n){this._checkDisposed();const i=[];return rn(this._settingEvents,(s,r)=>{oe(r,a=>{i.push(e.on(s,a))})}),rn(this._privateSettingEvents,(s,r)=>{oe(r,a=>{i.push(e.onPrivate(s,a))})}),this.states._apply(e,n),i.push(this.adapters._apply(e)),i.push(e.events.copyFrom(this.events)),new Rs(i)}_setObjectTemplate(e){this._checkDisposed(),this._entities.push(e)}_removeObjectTemplate(e){Ir(this._entities,e)}_stateChanged(e){this._checkDisposed(),this._entities.forEach(n=>{n._applyStateByKey(e)})}}class F0 extends Zh{constructor(e){super(),Object.defineProperty(this,"_sprite",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_rendererDisposers",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_dispatchParents",{enumerable:!0,configurable:!0,writable:!0,value:!0}),this._sprite=e}_makePointerEvent(e,n){return{type:e,originalEvent:n.event,point:n.point,simulated:n.simulated,native:n.native,target:this._sprite}}_onRenderer(e,n){this._sprite.set("interactive",!0),this._sprite._display.interactive=!0;let i=this._rendererDisposers[e];if(i===void 0){const s=this._sprite._display.on(e,r=>{n.call(this,r)});i=this._rendererDisposers[e]=new eE(()=>{delete this._rendererDisposers[e],s.dispose()})}return i.increment()}_on(e,n,i,s,r,a){const o=super._on(e,n,i,s,r,a),l=F0.RENDERER_EVENTS[n];return l!==void 0&&(o.disposer=new Rs([o.disposer,this._onRenderer(n,l)])),o}stopParentDispatch(){this._dispatchParents=!1}dispatchParents(e,n){const i=this._dispatchParents;this._dispatchParents=!0;try{this.dispatch(e,n),this._dispatchParents&&this._sprite.parent&&this._sprite.parent.events.dispatchParents(e,n)}finally{this._dispatchParents=i}}}Object.defineProperty(F0,"RENDERER_EVENTS",{enumerable:!0,configurable:!0,writable:!0,value:{click:function(t){this.isEnabled("click")&&!this._sprite.isDragging()&&this._sprite._hasDown()&&!this._sprite._hasMoved(this._makePointerEvent("click",t))&&this.dispatch("click",this._makePointerEvent("click",t))},rightclick:function(t){this.isEnabled("rightclick")&&this.dispatch("rightclick",this._makePointerEvent("rightclick",t))},middleclick:function(t){this.isEnabled("middleclick")&&this.dispatch("middleclick",this._makePointerEvent("middleclick",t))},dblclick:function(t){this.dispatchParents("dblclick",this._makePointerEvent("dblclick",t))},pointerover:function(t){const e=this._sprite;let n=!0;if(e.getPrivate("trustBounds")){e._getBounds();const i=e.globalBounds();if(e.isType("Graphics")){const s=e.get("strokeWidth",1)/2;s>=1&&(i.left-=s,i.right+=s,i.top-=s,i.bottom+=s)}Swe(t.point,i)||(n=!1,e._root._renderer.removeHovering(e._display))}n&&this.isEnabled("pointerover")&&this.dispatch("pointerover",this._makePointerEvent("pointerover",t))},pointerout:function(t){this.isEnabled("pointerout")&&this.dispatch("pointerout",this._makePointerEvent("pointerout",t))},pointerdown:function(t){this.dispatchParents("pointerdown",this._makePointerEvent("pointerdown",t))},pointerup:function(t){this.isEnabled("pointerup")&&this.dispatch("pointerup",this._makePointerEvent("pointerup",t))},globalpointerup:function(t){this.isEnabled("globalpointerup")&&this.dispatch("globalpointerup",this._makePointerEvent("globalpointerup",t))},globalpointermove:function(t){this.isEnabled("globalpointermove")&&this.dispatch("globalpointermove",this._makePointerEvent("globalpointermove",t))},wheel:function(t){this.dispatchParents("wheel",{type:"wheel",target:this._sprite,originalEvent:t.event,point:t.point})}}});class ga extends Ei{constructor(){super(...arguments),Object.defineProperty(this,"_adjustedLocalBounds",{enumerable:!0,configurable:!0,writable:!0,value:{left:0,right:0,top:0,bottom:0}}),Object.defineProperty(this,"_localBounds",{enumerable:!0,configurable:!0,writable:!0,value:{left:0,right:0,top:0,bottom:0}}),Object.defineProperty(this,"_parent",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_dataItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_templateField",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_sizeDirty",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_isDragging",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_dragEvent",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_dragPoint",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_isHidden",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_isShowing",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_isHiding",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_isDown",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_downPoint",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_downPoints",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_toggleDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_dragDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tooltipDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_hoverDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_focusDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tooltipMoveDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tooltipPointerDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_statesHandled",{enumerable:!0,configurable:!0,writable:!0,value:!1})}_afterNew(){this.setPrivateRaw("visible",!0),super._afterNew()}markDirtyKey(e){this._markDirtyKey(e)}_markDirtyKey(e){super._markDirtyKey(e),(e=="x"||e=="y"||e=="dx"||e=="dy")&&(this.markDirtyBounds(),this._addPercentagePositionChildren(),this.markDirtyPosition())}_markDirtyPrivateKey(e){super._markDirtyPrivateKey(e),(e=="x"||e=="y")&&this.markDirtyPosition()}_removeTemplateField(){this._templateField&&this._templateField._removeObjectTemplate(this)}_createEvents(){return new F0(this)}_processTemplateField(){let e;const n=this.get("templateField");if(n){const i=this.dataItem;if(i){const s=i.dataContext;s&&(e=s[n],!(e instanceof Sn)&&e&&(e=Sn.new(e)))}}this._templateField!==e&&(this._removeTemplateField(),this._templateField=e,e&&e._setObjectTemplate(this),this._applyTemplates())}_setDataItem(e){const n=this._dataItem;this._dataItem=e,this._processTemplateField();const i="dataitemchanged";e!=n&&this.events.isEnabled(i)&&this.events.dispatch(i,{type:i,target:this,oldDataItem:n,newDataItem:e})}set dataItem(e){this._setDataItem(e)}get dataItem(){if(this._dataItem)return this._dataItem;{let e=this._parent;for(;e;){if(e._dataItem)return e._dataItem;e=e._parent}}}_addPercentageSizeChildren(){let e=this.parent;e&&(this.get("width")instanceof St||this.get("height")instanceof St?uv(e._percentageSizeChildren,this):ns(e._percentageSizeChildren,this))}_addPercentagePositionChildren(){let e=this.parent;e&&(this.get("x")instanceof St||this.get("y")instanceof St?uv(e._percentagePositionChildren,this):ns(e._percentagePositionChildren,this))}markDirtyPosition(){this._root._addDirtyPosition(this)}updatePivotPoint(){const e=this._localBounds;if(e){const n=this.get("centerX");n!=null&&(this._display.pivot.x=e.left+Qn(n,e.right-e.left));const i=this.get("centerY");i!=null&&(this._display.pivot.y=e.top+Qn(i,e.bottom-e.top))}}_beforeChanged(){if(super._beforeChanged(),this._handleStates(),this.isDirty("tooltip")){const e=this._prevSettings.tooltip;e&&e.dispose()}if((this.isDirty("layer")||this.isDirty("layerMargin"))&&(this._display.setLayer(this.get("layer"),this.get("layerMargin")),this.markDirtyLayer()),this.isDirty("tooltipPosition")){const e=this._tooltipMoveDp;e&&(e.dispose(),this._tooltipMoveDp=void 0);const n=this._tooltipPointerDp;n&&(n.dispose(),this._tooltipPointerDp=void 0),this.get("tooltipPosition")=="pointer"&&(this.isHover()&&(this._tooltipMoveDp=this.events.on("globalpointermove",i=>{this.showTooltip(i.point)})),this._tooltipPointerDp=new Rs([this.events.on("pointerover",()=>{this._tooltipMoveDp=this.events.on("globalpointermove",i=>{this.showTooltip(i.point)})}),this.events.on("pointerout",()=>{const i=this._tooltipMoveDp;i&&(i.dispose(),this._tooltipMoveDp=void 0)})]))}}_handleStates(){this._statesHandled||(this.isDirty("active")&&(this.get("active")?(this.states.applyAnimate("active"),this.set("ariaChecked",!0)):(this.isHidden()||this.states.applyAnimate("default"),this.set("ariaChecked",!1)),this.markDirtyAccessibility()),this.isDirty("disabled")&&(this.get("disabled")?(this.states.applyAnimate("disabled"),this.set("ariaChecked",!1)):(this.isHidden()||this.states.applyAnimate("default"),this.set("ariaChecked",!0)),this.markDirtyAccessibility()),this._statesHandled=!0)}_changed(){super._changed();const e=this._display,n=this.events;if(this.isDirty("draggable")){const s=this.get("draggable");s?(this.set("interactive",!0),this._dragDp=new Rs([n.on("pointerdown",r=>{this.dragStart(r)}),n.on("globalpointermove",r=>{this.dragMove(r)}),n.on("globalpointerup",r=>{this.dragStop(r)})])):this._dragDp&&(this._dragDp.dispose(),this._dragDp=void 0),e.cancelTouch=!!s}if(this.isDirty("tooltipText")||this.isDirty("tooltipHTML")||this.isDirty("showTooltipOn")){const s=this.get("tooltipText"),r=this.get("tooltipHTML"),a=this.get("showTooltipOn","hover");this._tooltipDp&&(this._tooltipDp.dispose(),this._tooltipDp=void 0),(s||r)&&(a=="click"?(this._tooltipDp=new Rs([n.on("click",()=>{this.setTimeout(()=>{const o=this.getTooltip();o&&!o.isHidden()&&o.get("tooltipTarget")===this?this.hideTooltip():this.showTooltip()},10)}),Nn(document,"click",o=>{this.hideTooltip()})]),this._disposers.push(this._tooltipDp)):a=="always"||(this._tooltipDp=new Rs([n.on("pointerover",()=>{this.showTooltip()}),n.on("pointerout",()=>{this.hideTooltip()})]),this._disposers.push(this._tooltipDp)))}if(this.isDirty("toggleKey")){let s=this.get("toggleKey");s&&s!="none"?this._toggleDp=n.on("click",()=>{this._isDragging||this.set(s,!this.get(s))}):this._toggleDp&&(this._toggleDp.dispose(),this._toggleDp=void 0)}if(this.isDirty("opacity")&&(e.alpha=Math.max(0,this.get("opacity",1)),this.get("focusable")&&this.markDirtyAccessibility()),this.isDirty("rotation")&&(this.markDirtyBounds(),e.angle=this.get("rotation",0)),this.isDirty("scale")&&(this.markDirtyBounds(),e.scale=this.get("scale",0)),(this.isDirty("centerX")||this.isDirty("centerY"))&&(this.markDirtyBounds(),this.updatePivotPoint()),(this.isDirty("visible")||this.isPrivateDirty("visible")||this.isDirty("forceHidden"))&&(!this.get("visible")||!this.getPrivate("visible")||this.get("forceHidden")?(e.visible=!1,this.hideTooltip()):e.visible=!0,this.markDirtyBounds(),this.get("focusable")&&this.markDirtyAccessibility()),this.isDirty("width")||this.isDirty("height")){this.markDirtyBounds(),this._addPercentageSizeChildren();const s=this.parent;s&&(this.isDirty("width")&&this.get("width")instanceof St||this.isDirty("height")&&this.get("height")instanceof St)&&(s.markDirty(),s._prevWidth=0),this._sizeDirty=!0}if((this.isDirty("maxWidth")||this.isDirty("maxHeight")||this.isPrivateDirty("width")||this.isPrivateDirty("height")||this.isDirty("minWidth")||this.isDirty("minHeight")||this.isPrivateDirty("maxWidth")||this.isPrivateDirty("maxHeight")||this.isPrivateDirty("minWidth")||this.isPrivateDirty("minHeight")||this.isDirty("marginLeft")||this.isDirty("marginTop")||this.isDirty("marginRight")||this.isDirty("marginBottom"))&&(this.markDirtyBounds(),this._sizeDirty=!0),this._sizeDirty&&this._updateSize(),this.isDirty("wheelable")){const s=this.get("wheelable");s&&this.set("interactive",!0),e.wheelable=!!s}(this.isDirty("tabindexOrder")||this.isDirty("focusableGroup"))&&(this.get("focusable")?this._root._registerTabindexOrder(this):this._root._unregisterTabindexOrder(this)),this.isDirty("filter")&&(e.filter=this.get("filter"));let i=this.get("filter","");if(this.isDirty("blur")){const s=this.get("blur",0);s!=0&&(i+=" blur("+s+"px)")}if(this.isDirty("saturate")){const s=this.get("saturate",1);s!=1&&(i+=" saturate("+s+")")}if(this.isDirty("brightness")){const s=this.get("brightness",1);s!=1&&(i+=" brightness("+s+")")}if(this.isDirty("contrast")){const s=this.get("contrast",1);s!=1&&(i+=" contrast("+s+")")}if(this.isDirty("sepia")){const s=this.get("sepia",0);s!=0&&(i+=" sepia("+s+")")}if(this.isDirty("hue")){const s=this.get("hue",0);s!=0&&(i+=" hue-rotate("+s+"deg)")}if(this.isDirty("invert")){const s=this.get("invert",0);s!=0&&(i+=" invert("+s+")")}if(i&&(e.filter=i),this.isDirty("cursorOverStyle")&&(e.cursorOverStyle=this.get("cursorOverStyle")),this.isDirty("hoverOnFocus")&&(this.get("hoverOnFocus")?this._focusDp=new Rs([n.on("focus",()=>{this.showTooltip()}),n.on("blur",()=>{this.hideTooltip()})]):this._focusDp&&(this._focusDp.dispose(),this._focusDp=void 0)),this.isDirty("focusable")&&(this.get("focusable")?this._root._registerTabindexOrder(this):this._root._unregisterTabindexOrder(this),this.markDirtyAccessibility(),this._disposers.push(n.on("blur",()=>{this.setPrivateRaw("touchHovering",!1)}))),this.isPrivateDirty("focusable")&&this.markDirtyAccessibility(),(this.isDirty("role")||this.isDirty("ariaLive")||this.isDirty("ariaChecked")||this.isDirty("ariaHidden")||this.isDirty("ariaOrientation")||this.isDirty("ariaValueNow")||this.isDirty("ariaValueMin")||this.isDirty("ariaValueMax")||this.isDirty("ariaValueText")||this.isDirty("ariaLabel")||this.isDirty("ariaControls"))&&this.markDirtyAccessibility(),this.isDirty("exportable")&&(e.exportable=this.get("exportable")),this.isDirty("interactive")){const s=this.events;this.get("interactive")&&!s.isDisposed()?this._hoverDp=new Rs([s.on("click",r=>{_k(r.originalEvent)&&(this.getPrivate("touchHovering")||this.setTimeout(()=>{this._handleOver(),(this.get("tooltipText")||this.get("tooltipHTML"))&&this.showTooltip(),this.setPrivateRaw("touchHovering",!0),this.events.dispatch("pointerover",{type:"pointerover",target:r.target,originalEvent:r.originalEvent,point:r.point,simulated:r.simulated})},10))}),s.on("globalpointerup",r=>{_k(r.originalEvent)&&this.getPrivate("touchHovering")&&(this._handleOut(),(this.get("tooltipText")||this.get("tooltipHTML"))&&this.hideTooltip(),this.setPrivateRaw("touchHovering",!1),this.events.dispatch("pointerout",{type:"pointerout",target:r.target,originalEvent:r.originalEvent,point:r.point,simulated:r.simulated})),this._isDown&&this._handleUp(r)}),s.on("pointerover",()=>{this._handleOver()}),s.on("pointerout",()=>{this._handleOut()}),s.on("pointerdown",r=>{this._handleDown(r)})]):(this._display.interactive=!1,this._hoverDp&&(this._hoverDp.dispose(),this._hoverDp=void 0))}this.isDirty("forceInactive")&&(this._display.inactive=this.get("forceInactive",null)),this.get("showTooltipOn")=="always"&&this._display.visible&&this.showTooltip()}dragStart(e){this._dragEvent=e,this.events.stopParentDispatch()}dragStop(e){if(this._dragEvent=void 0,this._dragPoint=void 0,this.events.stopParentDispatch(),this._isDragging){this._isDragging=!1;const n="dragstop";this.events.isEnabled(n)&&this.events.dispatch(n,{type:n,target:this,originalEvent:e.originalEvent,point:e.point,simulated:e.simulated})}}_handleOver(){this.isHidden()||(this.get("active")&&this.states.lookup("hoverActive")?this.states.applyAnimate("hoverActive"):this.get("disabled")&&this.states.lookup("hoverDisabled")?this.states.applyAnimate("hoverDisabled"):this.states.applyAnimate("hover"),this.get("draggable")&&this._isDown&&this.states.lookup("down")&&this.states.applyAnimate("down"))}_handleOut(){this.isHidden()||(this.get("active")&&this.states.lookup("active")?this.states.applyAnimate("active"):this.get("disabled")&&this.states.lookup("disabled")?this.states.applyAnimate("disabled"):(this.states.lookup("hover")||this.states.lookup("hoverActive"))&&this.states.applyAnimate("default"),this.get("draggable")&&this._isDown&&this.states.lookup("down")&&this.states.applyAnimate("down"))}_handleUp(e){if(!this.isHidden()){this.get("active")&&this.states.lookup("active")?this.states.applyAnimate("active"):this.get("disabled")&&this.states.lookup("disabled")?this.states.applyAnimate("disabled"):this.states.lookup("down")&&(this.isHover()?this.states.applyAnimate("hover"):this.states.applyAnimate("default")),this._downPoint=void 0;const n=g1(e.originalEvent);delete this._downPoints[n],xi(this._downPoints).length==0&&(this._isDown=!1)}}_hasMoved(e){const n=g1(e.originalEvent),i=this._downPoints[n];if(i){const s=Math.abs(i.x-e.point.x),r=Math.abs(i.y-e.point.y);return s>5||r>5}return!1}_hasDown(){return xi(this._downPoints).length>0}_handleDown(e){const n=this.parent;if(n&&!this.get("draggable")&&n._handleDown(e),this.get("interactive")&&!this.isHidden()){this.states.lookup("down")&&this.states.applyAnimate("down"),this._downPoint={x:e.point.x,y:e.point.y},this._isDown=!0;const i=g1(e.originalEvent);this._downPoints[i]={x:e.point.x,y:e.point.y}}}dragMove(e){let n=this._dragEvent;if(n){if(n.simulated&&!e.simulated)return!0;let i=0,s=this.parent,r=1;for(;s!=null;)i+=s.get("rotation",0),s=s.parent,s&&(r*=s.get("scale",1));let a=(e.point.x-n.point.x)/r,o=(e.point.y-n.point.y)/r;const l=this.events;if(n.simulated&&!this._isDragging){this._isDragging=!0,this._dragEvent=e,this._dragPoint={x:this.x(),y:this.y()};const u="dragstart";l.isEnabled(u)&&l.dispatch(u,{type:u,target:this,originalEvent:e.originalEvent,point:e.point,simulated:e.simulated})}if(this._isDragging){let u=this._dragPoint;this.set("x",u.x+a*Ba(i)+o*Dr(i)),this.set("y",u.y+o*Ba(i)-a*Dr(i));const d="dragged";l.isEnabled(d)&&l.dispatch(d,{type:d,target:this,originalEvent:e.originalEvent,point:e.point,simulated:e.simulated})}else if(Math.hypot(a,o)>5){this._isDragging=!0,this._dragEvent=e,this._dragPoint={x:this.x(),y:this.y()};const u="dragstart";l.isEnabled(u)&&l.dispatch(u,{type:u,target:this,originalEvent:e.originalEvent,point:e.point,simulated:e.simulated})}}}_updateSize(){}_getBounds(){this._localBounds=this._display.getLocalBounds()}depth(){let e=this.parent,n=0;for(;;)if(e)++n,e=e.parent;else return n}markDirtySize(){this._sizeDirty=!0,this.markDirty()}markDirtyBounds(){const e=this._display;if(this.get("isMeasured")){this._root._addDirtyBounds(this),e.isMeasured=!0,e.invalidateBounds();const n=this.parent;n&&this.get("position")!="absolute"&&(n.get("width")==null||n.get("height")==null||n.get("layout"))&&n.markDirtyBounds(),this.get("focusable")&&this.isFocus()&&this.markDirtyAccessibility()}}markDirtyAccessibility(){this._root._invalidateAccessibility(this)}markDirtyLayer(){this._display.markDirtyLayer(!0)}markDirty(){super.markDirty(),this.markDirtyLayer()}_updateBounds(){const e=this._adjustedLocalBounds;let n;if(!this.get("visible")||!this.getPrivate("visible")||this.get("forceHidden")?(n={left:0,right:0,top:0,bottom:0},this._localBounds=n,this._adjustedLocalBounds=n):(this._getBounds(),this._fixMinBounds(this._localBounds),this.updatePivotPoint(),this._adjustedLocalBounds=this._display.getAdjustedBounds(this._localBounds),n=this._adjustedLocalBounds),!e||e.left!==n.left||e.top!==n.top||e.right!==n.right||e.bottom!==n.bottom){const i="boundschanged";this.events.isEnabled(i)&&this.events.dispatch(i,{type:i,target:this}),this.parent&&(this.parent.markDirty(),this.parent.markDirtyBounds()),this.getPrivate("showingTooltip")&&this.showTooltip()}}_fixMinBounds(e){let n=this.get("minWidth",this.getPrivate("minWidth")),i=this.get("minHeight",this.getPrivate("minHeight"));me(n)&&e.right-e.left<n&&(e.right=e.left+n),me(i)&&e.bottom-e.top<i&&(e.bottom=e.top+i);let s=this.getPrivate("width"),r=this.getPrivate("height");me(s)&&(s>0?e.right=e.left+s:e.left=e.right+s),me(r)&&(r>0?e.bottom=e.top+r:e.top=e.bottom+r)}_removeParent(e){e&&(e.children.removeValue(this),ns(e._percentageSizeChildren,this),ns(e._percentagePositionChildren,this))}_clearDirty(){super._clearDirty(),this._sizeDirty=!1,this._statesHandled=!1}hover(){this.isDisposed()||(this.showTooltip(),this._handleOver())}unhover(){this.isDisposed()||(this.hideTooltip(),this._handleOut())}showTooltip(e){if(!this.isDisposed()){const n=this.getTooltip(),i=this.get("tooltipText"),s=this.get("tooltipHTML");if((i||s)&&n){const r=this.get("tooltipPosition"),a=this.getPrivate("tooltipTarget",this);(r=="fixed"||!e)&&(this._display._setMatrix(),e=this.toGlobal(a._getTooltipPoint())),n.set("pointTo",e),n.set("tooltipTarget",a),n.get("x")||n.set("x",e.x),n.get("y")||n.set("y",e.y),i&&n.label.set("text",i),s&&n.label.set("html",s);const o=this.dataItem;if(o&&n.label._setDataItem(o),this.get("showTooltipOn")=="always"&&(e.x<0||e.x>this._root.width()||e.y<0||e.y>this._root.height())){this.hideTooltip();return}n.label.text.markDirtyText();const l=n.show();return this.setPrivateRaw("showingTooltip",!0),l}}}hideTooltip(){const e=this.getTooltip();if(e&&(e.get("tooltipTarget")==this.getPrivate("tooltipTarget",this)||this.get("tooltip")==e)){let n=e.get("keepTargetHover")&&e.get("stateAnimationDuration",0)==0?400:void 0;const i=e.hide(n);return this.setPrivateRaw("showingTooltip",!1),i}}_getTooltipPoint(){const e=this._localBounds;if(e){let n=0,i=0;return this.get("isMeasured")?(n=e.left+Qn(this.get("tooltipX",0),e.right-e.left),i=e.top+Qn(this.get("tooltipY",0),e.bottom-e.top)):(n=Qn(this.get("tooltipX",0),this.width()),i=Qn(this.get("tooltipY",0),this.height())),{x:n,y:i}}return{x:0,y:0}}getTooltip(){let e=this.get("tooltip");if(e)return e;{let n=this.parent;if(n)return n.getTooltip()}}_updatePosition(){const e=this.parent;let n=this.get("dx",0),i=this.get("dy",0),s=this.get("x"),r=this.getPrivate("x"),a=0,o=0;const l=this.get("position");s instanceof St&&(e?s=e.innerWidth()*s.value+e.get("paddingLeft",0):s=0),me(s)?a=s+n:r!=null?a=r:e&&l=="relative"&&(a=e.get("paddingLeft",0)+n);let u=this.get("y"),d=this.getPrivate("y");u instanceof St&&(e?u=e.innerHeight()*u.value+e.get("paddingTop",0):u=0),me(u)?o=u+i:d!=null?o=d:e&&l=="relative"&&(o=e.get("paddingTop",0)+i);const c=this._display;if(c.x!=a||c.y!=o){c.invalidateBounds(),c.x=a,c.y=o;const f="positionchanged";this.events.isEnabled(f)&&this.events.dispatch(f,{type:f,target:this})}this.getPrivate("showingTooltip")&&this.showTooltip()}x(){let e=this.get("x"),n=this.getPrivate("x");const i=this.parent;return i?e instanceof St?Qn(e,i.innerWidth())+i.get("paddingLeft",0):me(e)?e:n??i.get("paddingLeft",this._display.x):this._display.x}y(){let e=this.getPrivate("y");if(e!=null)return e;let n=this.get("y");const i=this.parent;return i?n instanceof St?Qn(n,i.innerHeight())+i.get("paddingTop",0):me(n)?n:e??i.get("paddingTop",this._display.y):this._display.y}_dispose(){super._dispose(),this._display.dispose(),this._removeTemplateField(),this._removeParent(this.parent),this._root._removeFocusElement(this);const e=this.get("tooltip");e&&e.dispose(),this.markDirty()}adjustedLocalBounds(){return this._fixMinBounds(this._adjustedLocalBounds),this._adjustedLocalBounds}localBounds(){return this._localBounds}bounds(){const e=this._adjustedLocalBounds,n=this.x(),i=this.y();return{left:e.left+n,right:e.right+n,top:e.top+i,bottom:e.bottom+i}}globalBounds(){const e=this.localBounds(),n=this.toGlobal({x:e.left,y:e.top}),i=this.toGlobal({x:e.right,y:e.top}),s=this.toGlobal({x:e.right,y:e.bottom}),r=this.toGlobal({x:e.left,y:e.bottom});return{left:Math.min(n.x,i.x,s.x,r.x),top:Math.min(n.y,i.y,s.y,r.y),right:Math.max(n.x,i.x,s.x,r.x),bottom:Math.max(n.y,i.y,s.y,r.y)}}_onShow(e){}_onHide(e){}appear(e,n){return ki(this,void 0,void 0,function*(){return yield this.hide(0),n?new Promise((i,s)=>{this.setTimeout(()=>{i(this.show(e))},n)}):this.show(e)})}show(e){return ki(this,void 0,void 0,function*(){if(!this._isShowing){this._isHidden=!1,this._isShowing=!0,this._isHiding=!1,this.states.lookup("default").get("visible")&&this.set("visible",!0),this._onShow(e);const n=this.states.applyAnimate("default",e);yield hV(n),this._isShowing=!1}})}hide(e){return ki(this,void 0,void 0,function*(){if(!this._isHiding&&!this._isHidden){this._isHiding=!0,this._isShowing=!1;let n=this.states.lookup("hidden");n||(n=this.states.create("hidden",{opacity:0,visible:!1})),this._isHidden=!0,this._onHide(e);const i=this.states.applyAnimate("hidden",e);yield hV(i),this._isHiding=!1}})}isHidden(){return this._isHidden}isShowing(){return this._isShowing}isHiding(){return this._isHiding}isHover(){return this._display.hovering()}isFocus(){return this._root.focused(this)}isDragging(){return this._isDragging}isVisible(){return!!(this.get("visible")&&this.getPrivate("visible")&&!this.get("forceHidden"))}isVisibleDeep(){return this._parent?this._parent.isVisibleDeep()&&this.isVisible():this.isVisible()}compositeOpacity(){const e=this.get("opacity",1);return this._parent?this._parent.compositeOpacity()*e:e}compositeScale(){const e=this.get("scale",1);return this._parent?this._parent.compositeScale()*e:e}compositeRotation(){const e=this.get("rotation",0);return this._parent?this._parent.compositeRotation()+e:e}width(){let e=this.get("width"),n=this.get("maxWidth",this.getPrivate("maxWidth")),i=this.get("minWidth",this.getPrivate("minWidth")),s=this.getPrivate("width"),r=0;if(me(s))r=s;else if(e==null)this._adjustedLocalBounds&&(r=this._adjustedLocalBounds.right-this._adjustedLocalBounds.left);else if(e instanceof St){const a=this.parent;a?r=a.innerWidth()*e.value:r=this._root.width()*e.value}else me(e)&&(r=e);return me(i)&&(r=Math.max(i,r)),me(n)&&(r=Math.min(n,r)),r}maxWidth(){let e=this.get("maxWidth",this.getPrivate("maxWidth"));if(me(e))return e;{let i=this.get("width");if(me(i))return i}const n=this.parent;return n?n.innerWidth():this._root.width()}maxHeight(){let e=this.get("maxHeight",this.getPrivate("maxHeight"));if(me(e))return e;{let i=this.get("height");if(me(i))return i}const n=this.parent;return n?n.innerHeight():this._root.height()}height(){let e=this.get("height"),n=this.get("maxHeight",this.getPrivate("maxHeight")),i=this.get("minHeight",this.getPrivate("minHeight")),s=this.getPrivate("height"),r=0;if(me(s))r=s;else if(e==null)this._adjustedLocalBounds&&(r=this._adjustedLocalBounds.bottom-this._adjustedLocalBounds.top);else if(e instanceof St){const a=this.parent;a?r=a.innerHeight()*e.value:r=this._root.height()*e.value}else me(e)&&(r=e);return me(i)&&(r=Math.max(i,r)),me(n)&&(r=Math.min(n,r)),r}_findStaticTemplate(e){return this._templateField&&e(this._templateField)?this._templateField:super._findStaticTemplate(e)}_walkParents(e){this._parent&&this._walkParent(e)}_walkParent(e){this._parent&&this._parent._walkParent(e),e(this)}get parent(){return this._parent}_setParent(e,n=!1){const i=this._parent;e!==i&&(this.markDirtyBounds(),e.markDirty(),this._parent=e,n&&(this._removeParent(i),e&&(this._addPercentageSizeChildren(),this._addPercentagePositionChildren())),this.markDirtyPosition(),this._applyThemes())}getNumberFormatter(){return this.get("numberFormatter",this._root.numberFormatter)}getDateFormatter(){return this.get("dateFormatter",this._root.dateFormatter)}getDurationFormatter(){return this.get("durationFormatter",this._root.durationFormatter)}toGlobal(e){return this._display.toGlobal(e)}toLocal(e){return this._display.toLocal(e)}_getDownPoint(){const e=this._getDownPointId();if(e)return this._downPoints[e]}_getDownPointId(){if(this._downPoints)return W0e(this._downPoints,(e,n)=>e>n?1:e<n?-1:0)[0]}toFront(){const e=this.parent;e&&e.children.moveValue(this,e.children.length-1)}toBack(){const e=this.parent;e&&e.children.moveValue(this,0)}}Object.defineProperty(ga,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Sprite"});Object.defineProperty(ga,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Ei.classNames.concat([ga.className])});class dv extends Ei{constructor(){super(...arguments),Object.defineProperty(this,"_display",{enumerable:!0,configurable:!0,writable:!0,value:this._root._renderer.makeGraphics()}),Object.defineProperty(this,"_backgroundDisplay",{enumerable:!0,configurable:!0,writable:!0,value:this._root._renderer.makeGraphics()}),Object.defineProperty(this,"_clear",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_pattern",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}_afterNew(){super._afterNewApplyThemes()}get pattern(){return this._pattern}_draw(){}_beforeChanged(){super._beforeChanged(),(this.isDirty("repetition")||this.isDirty("width")||this.isDirty("height")||this.isDirty("rotation")||this.isDirty("strokeWidth")||this.isDirty("strokeDasharray")||this.isDirty("strokeDashoffset")||this.isDirty("colorOpacity")||this.isDirty("fillOpacity"))&&(this._clear=!0),this._checkDirtyFill()}_checkDirtyFill(){(this.isDirty("color")||this.isDirty("fill"))&&(this._clear=!0)}_changed(){if(super._changed(),this._clear){const e=this.get("repetition",""),n=this.get("width",100),i=this.get("height",100),s=this.get("fill"),r=this.get("fillOpacity",1),a=this._backgroundDisplay,o=this._display;o.clear(),a.clear(),s&&r>0&&(a.beginFill(s,r),a.drawRect(0,0,n,i),a.endFill()),o.angle=this.get("rotation",0),this._draw(),this._pattern=this._root._renderer.createPattern(o,a,e,n,i)}this._clear=!1}}Object.defineProperty(dv,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Pattern"});Object.defineProperty(dv,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Ei.classNames.concat([dv.className])});class hv extends dv{constructor(){super(...arguments),Object.defineProperty(this,"_image",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}_beforeChanged(){super._beforeChanged(),this._clear=!0,this.isDirty("src")&&this._load();const e=this.get("canvas");e&&(this.set("width",e.width),this.set("height",e.height))}_draw(){super._draw();const e=this.get("colorOpacity");e!==void 0&&(this._display.alpha=Math.max(0,e));const n=this._image;if(n){const s=this.get("width",100),r=this.get("height",100),a=this.get("fit","image");let o=0,l=0;a=="pattern"?(o=s,l=r,this.markDirty()):(o=n.width,l=n.height,a=="image"&&(this.set("width",o),this.set("height",l)));const u=this.get("centered",!0);let d=0,c=0;u&&(d=s/2-o/2,c=r/2-l/2),this._display.image(n,o,l,d,c)}const i=this.get("canvas");i&&this._display.image(i,i.width,i.height,0,0)}_load(){const e=this.get("src");if(e){const n=new Image;n.src=e,n.decode().then(()=>{this._image=n,this._draw(),this.events.isEnabled("loaded")&&this.events.dispatch("loaded",{type:"loaded",target:this})}).catch(i=>{})}}}Object.defineProperty(hv,"className",{enumerable:!0,configurable:!0,writable:!0,value:"PicturePattern"});Object.defineProperty(hv,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:dv.classNames.concat([hv.className])});var py;(function(t){t.ADD="lighter",t.COLOR="color",t.COLOR_BURN="color-burn",t.COLOR_DODGE="color-dodge",t.DARKEN="darken",t.DIFFERENCE="difference",t.DST_OVER="destination-over",t.EXCLUSION="exclusion",t.HARD_LIGHT="hard-light",t.HUE="hue",t.LIGHTEN="lighten",t.LUMINOSITY="luminosity",t.MULTIPLY="multiply",t.NORMAL="source-over",t.OVERLAY="overlay",t.SATURATION="saturation",t.SCREEN="screen",t.SOFT_LIGHT="soft-light",t.SRC_ATOP="source-atop",t.XOR="xor"})(py||(py={}));const wk=["fill","fillOpacity","stroke","strokeWidth","strokeOpacity","fillPattern","strokePattern","fillGradient","strokeGradient","strokeDasharray","strokeDashoffset","shadowBlur","shadowColor","shadowOpacity","shadowOffsetX","shadowOffsetY","blur","sepia","invert","brightness","hue","contrast","saturate"];class dn extends ga{constructor(){super(...arguments),Object.defineProperty(this,"_display",{enumerable:!0,configurable:!0,writable:!0,value:this._root._renderer.makeGraphics()}),Object.defineProperty(this,"_clear",{enumerable:!0,configurable:!0,writable:!0,value:!1})}_beforeChanged(){if(super._beforeChanged(),(this.isDirty("draw")||this.isDirty("svgPath"))&&this.markDirtyBounds(),(this.isDirty("fill")||this.isDirty("stroke")||this.isDirty("visible")||this.isDirty("forceHidden")||this.isDirty("scale")||this.isDirty("fillGradient")||this.isDirty("strokeGradient")||this.isDirty("fillPattern")||this.isDirty("strokePattern")||this.isDirty("fillOpacity")||this.isDirty("strokeOpacity")||this.isDirty("strokeWidth")||this.isDirty("draw")||this.isDirty("blendMode")||this.isDirty("strokeDasharray")||this.isDirty("strokeDashoffset")||this.isDirty("svgPath")||this.isDirty("lineJoin")||this.isDirty("lineCap")||this.isDirty("shadowColor")||this.isDirty("shadowBlur")||this.isDirty("shadowOffsetX")||this.isDirty("shadowOffsetY"))&&(this._clear=!0),this._display.crisp=this.get("crisp",!1),this.isDirty("fillGradient")){const e=this.get("fillGradient");if(e){this._display.isMeasured=!0;const n=e.get("target");n&&(this._disposers.push(n.events.on("boundschanged",()=>{this._markDirtyKey("fill")})),this._disposers.push(n.events.on("positionchanged",()=>{this._markDirtyKey("fill")})))}}if(this.isDirty("strokeGradient")){const e=this.get("strokeGradient");if(e){this._display.isMeasured=!0;const n=e.get("target");n&&(this._disposers.push(n.events.on("boundschanged",()=>{this._markDirtyKey("stroke")})),this._disposers.push(n.events.on("positionchanged",()=>{this._markDirtyKey("stroke")})))}}}_changed(){if(super._changed(),this._clear){this.markDirtyBounds(),this.markDirtyLayer(),this._display.clear();let e=this.get("strokeDasharray");me(e)&&(e<.5?e=[0]:e=[e]),this._display.setLineDash(e);const n=this.get("strokeDashoffset");n&&this._display.setLineDashOffset(n);const i=this.get("blendMode",py.NORMAL);this._display.blendMode=i;const s=this.get("draw");s&&typeof s=="function"&&s(this._display,this);const r=this.get("svgPath");r!=null&&this._display.svgPath(r)}}_afterChanged(){if(super._afterChanged(),this._clear){const e=this.get("fill"),n=this.get("fillGradient"),i=this.get("fillPattern"),s=this.get("fillOpacity"),r=this.get("stroke"),a=this.get("strokeGradient"),o=this.get("strokePattern"),l=this.get("shadowColor"),u=this.get("shadowBlur"),d=this.get("shadowOffsetX"),c=this.get("shadowOffsetY"),f=this.get("shadowOpacity");if(l&&(u||d||c)&&this._display.shadow(l,u,d,c,f),e&&!n&&(this._display.beginFill(e,s),this._display.endFill()),n){if(e){const g=n.get("stops",[]);g.length&&oe(g,v=>{(!v.color||v.colorInherited)&&e&&(v.color=e,v.colorInherited=!0),(v.opacity==null||v.opacityInherited)&&(v.opacity=s,v.opacityInherited=!0)})}const h=n.getFill(this);h&&(this._display.beginFill(h,s),this._display.endFill())}if(i){const h=i.pattern;h&&(this._display.beginFill(h,s),this._display.endFill(),i instanceof hv&&i.events.once("loaded",()=>{this._clear=!0,this.markDirty()}))}if(r||a||o){const h=this.get("strokeOpacity");let g=this.get("strokeWidth",1);this.get("nonScalingStroke")&&(g=g/this.get("scale",1)),this.get("crisp")&&(g/=this._root._renderer.resolution);const v=this.get("lineJoin"),p=this.get("lineCap");if(r&&!a&&(this._display.lineStyle(g,r,h,v,p),this._display.endStroke()),a){const _=a.get("stops",[]);_.length&&oe(_,x=>{(!x.color||x.colorInherited)&&r&&(x.color=r,x.colorInherited=!0),(x.opacity==null||x.opacityInherited)&&(x.opacity=h,x.opacityInherited=!0)});const b=a.getFill(this);b&&(this._display.lineStyle(g,b,h,v,p),this._display.endStroke())}if(o){let _=o.pattern;_&&(this._display.lineStyle(g,_,h,v,p),this._display.endStroke(),o instanceof hv&&o.events.once("loaded",()=>{this._clear=!0,this.markDirty()}))}}this.getPrivate("showingTooltip")&&this.showTooltip()}this._clear=!1}}Object.defineProperty(dn,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Graphics"});Object.defineProperty(dn,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:ga.classNames.concat([dn.className])});class tr extends dn{_afterNew(){super._afterNew(),this._display.isMeasured=!0,this.setPrivateRaw("trustBounds",!0)}_beforeChanged(){super._beforeChanged(),(this.isDirty("width")||this.isDirty("height")||this.isPrivateDirty("width")||this.isPrivateDirty("height"))&&(this._clear=!0)}_changed(){super._changed(),this._clear&&!this.get("draw")&&this._draw()}_draw(){this._display.drawRect(0,0,this.width(),this.height())}_updateSize(){this.markDirty(),this._clear=!0}}Object.defineProperty(tr,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Rectangle"});Object.defineProperty(tr,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:dn.classNames.concat([tr.className])});function Co(t,e){t.get("reverseChildren",!1)?t.children.eachReverse(e):t.children.each(e)}class No extends Ei{}Object.defineProperty(No,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Layout"});Object.defineProperty(No,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Ei.classNames.concat([No.className])});class ph extends No{updateContainer(e){let n=e.get("paddingLeft",0),i=e.innerWidth(),s=0;Co(e,a=>{if(a.isVisible()&&a.get("position")=="relative"){let o=a.get("width");if(o instanceof St){s+=o.value;let l=i*o.value,u=a.get("minWidth",a.getPrivate("minWidth",-1/0));u>l&&(i-=u,s-=o.value);let d=a.get("maxWidth",a.getPrivate("maxWidth",1/0));l>d&&(i-=d,s-=o.value)}else me(o)||(o=a.width()),i-=o+a.get("marginLeft",0)+a.get("marginRight",0)}}),(i<=0||i==1/0)&&(i=.1),Co(e,a=>{if(a.isVisible()&&a.get("position")=="relative"){let o=a.get("width");if(o instanceof St){let l=i*o.value/s-a.get("marginLeft",0)-a.get("marginRight",0),u=a.get("minWidth",a.getPrivate("minWidth",-1/0)),d=a.get("maxWidth",a.getPrivate("maxWidth",1/0));l=Math.min(Math.max(u,l),d),a.setPrivate("width",l)}else a._prevSettings.width instanceof St&&a.setPrivate("width",void 0)}});let r=n;Co(e,a=>{if(a.get("position")=="relative")if(a.isVisible()){let o=a.adjustedLocalBounds(),l=a.get("marginLeft",0),u=a.get("marginRight",0),d=a.get("maxWidth"),c=o.left,f=o.right;d&&f-c>d&&(f=c+d);let h=r+l-c;a.setPrivate("x",h),r=h+f+u}else a.setPrivate("x",void 0)})}}Object.defineProperty(ph,"className",{enumerable:!0,configurable:!0,writable:!0,value:"HorizontalLayout"});Object.defineProperty(ph,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:No.classNames.concat([ph.className])});class _h extends No{updateContainer(e){let n=e.get("paddingTop",0),i=e.innerHeight(),s=0;Co(e,a=>{if(a.isVisible()&&a.get("position")=="relative"){let o=a.get("height");if(o instanceof St){s+=o.value;let l=i*o.value,u=a.get("minHeight",a.getPrivate("minHeight",-1/0));u>l&&(i-=u,s-=o.value);let d=a.get("maxHeight",a.getPrivate("maxHeight",1/0));l>d&&(i-=d,s-=o.value)}else me(o)||(o=a.height()),i-=o+a.get("marginTop",0)+a.get("marginBottom",0)}}),(i<=0||i==1/0)&&(i=.1),Co(e,a=>{if(a.isVisible()&&a.get("position")=="relative"){let o=a.get("height");if(o instanceof St){let l=i*o.value/s-a.get("marginTop",0)-a.get("marginBottom",0),u=a.get("minHeight",a.getPrivate("minHeight",-1/0)),d=a.get("maxHeight",a.getPrivate("maxHeight",1/0));l=Math.min(Math.max(u,l),d),a.setPrivate("height",l)}else a._prevSettings.height instanceof St&&a.setPrivate("height",void 0)}});let r=n;Co(e,a=>{if(a.get("position")=="relative")if(a.isVisible()){let o=a.adjustedLocalBounds(),l=a.get("marginTop",0),u=o.top,d=o.bottom,c=a.get("maxHeight");c&&d-u>c&&(d=u+c);let f=a.get("marginBottom",0),h=r+l-u;a.setPrivate("y",h),r=h+d+f}else a.setPrivate("y",void 0)})}}Object.defineProperty(_h,"className",{enumerable:!0,configurable:!0,writable:!0,value:"VerticalLayout"});Object.defineProperty(_h,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:No.classNames.concat([_h.className])});class gc extends No{_afterNew(){this._setRawDefault("maxColumns",Number.MAX_VALUE),super._afterNew()}updateContainer(e){let n=e.get("paddingLeft",0),i=e.get("paddingRight",0),s=e.get("paddingTop",0),r=e.maxWidth()-n-i,a=r,o=1;Co(e,g=>{if(g.get("visible")&&g.getPrivate("visible")&&!g.get("forceHidden")&&g.get("position")!="absolute"){let v=g.width();v<a&&(a=v),v>o&&(o=v)}}),a=Kn(a,1,r),o=Kn(o,1,r);let l=1;this.get("fixedWidthGrid")?l=r/o:l=r/a,l=Math.max(1,Math.floor(l)),l=Math.min(this.get("maxColumns",Number.MAX_VALUE),l);let u=this.getColumnWidths(e,l,o,r),d=s,c=0,f=0;l=u.length;let h=n;Co(e,g=>{if(g.get("position")=="relative"&&g.isVisible()){const v=g.get("marginTop",0),p=g.get("marginBottom",0);let _=g.adjustedLocalBounds(),b=g.get("marginLeft",0),x=g.get("marginRight",0),k=h+b-_.left,I=d+v-_.top;g.setPrivate("x",k),g.setPrivate("y",I),h+=u[c]+x,f=Math.max(f,g.height()+v+p),c++,c>=l&&(c=0,h=n,d+=f)}})}getColumnWidths(e,n,i,s){let r=0,a=[],o=0;return Co(e,l=>{let u=l.adjustedLocalBounds();l.get("position")!="absolute"&&l.isVisible()&&(this.get("fixedWidthGrid")?a[o]=i:a[o]=Math.max(a[o]|0,u.right-u.left+l.get("marginLeft",0)+l.get("marginRight",0)),o<e.children.length-1&&(o++,o==n&&(o=0)))}),oe(a,l=>{r+=l}),r>s?n>2?(n-=1,this.getColumnWidths(e,n,i,s)):[s]:a}}Object.defineProperty(gc,"className",{enumerable:!0,configurable:!0,writable:!0,value:"GridLayout"});Object.defineProperty(gc,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:No.classNames.concat([gc.className])});class aa{static escape(e){return e.replace(/\[\[/g,this.prefix+"1").replace(/([^\/\]]{1})\]\]/g,"$1"+this.prefix+"2").replace(/\]\]/g,this.prefix+"2").replace(/\{\{/g,this.prefix+"3").replace(/\}\}/g,this.prefix+"4").replace(/\'\'/g,this.prefix+"5")}static unescape(e){return e.replace(new RegExp(this.prefix+"1","g"),"[[").replace(new RegExp(this.prefix+"2","g"),"]]").replace(new RegExp(this.prefix+"3","g"),"{{").replace(new RegExp(this.prefix+"4","g"),"}}").replace(new RegExp(this.prefix+"5","g"),"''")}static cleanUp(e){return e.replace(/\[\[/g,"[").replace(/\]\]/g,"]").replace(/\{\{/g,"{").replace(/\}\}/g,"}").replace(/\'\'/g,"'")}static chunk(e,n=!1,i=!1){let s=[];e=this.escape(e);let r=n?e.split("'"):[e];for(let a=0;a<r.length;a++){let o=r[a];if(o!=="")if(a%2===0){o=o.replace(/\]\[/g,"]"+zl+"["),o=o.replace(/\[\]/g,"[ ]");let l=o.split(/[\[\]]+/);for(let u=0;u<l.length;u++){let d=this.cleanUp(this.unescape(l[u]));d!==zl&&d!==""&&(u%2===0?s.push({type:"value",text:d}):s.push({type:i?"value":"format",text:"["+d+"]"}))}}else{let l=o.split(/[\[\]]+/);for(let u=0;u<l.length;u++){let d=this.cleanUp(this.unescape(l[u]));d!==""&&(u%2===0?s.push({type:"text",text:d}):this.isImage(d)?s.push({type:"image",text:"["+d+"]"}):s.push({type:"format",text:"["+d+"]"}))}}}return s}static isImage(e){return!!e.match(/img[ ]?:/)}static getTextStyle(e){let n={};if(e==""||e=="[ ]")return{};const i=e.match(/('[^']*')|("[^"]*")/gi);if(i)for(let r=0;r<i.length;r++)e=e.replace(i[r],i[r].replace(/['"]*/g,"").replace(/[ ]+/g,"+"));let s=e.match(/([\w\-]*:[\s]?[^;\s\]]*)|(\#[\w]{1,6})|([\w\-]+)|(\/)/gi);if(!s)return{};for(let r=0;r<s.length;r++)if(s[r].match(/^(normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900)$/i))n.fontWeight=s[r];else if(s[r].match(/^(underline|line-through)$/i))n.textDecoration=s[r];else if(s[r]!="/")if(!s[r].match(/:/))n.fill=tt.fromString(s[r]);else{const a=s[r].replace("+"," ").split(/:[ ]*/);n[a[0]]=a[1]}return n}}Object.defineProperty(aa,"prefix",{enumerable:!0,configurable:!0,writable:!0,value:"__amcharts__"});function yh(t,e){if(e!=null){e=""+e,e=aa.escape(e);let n=e.match(/\{([^}]+)\}/g),i;if(n)for(i=0;i<n.length;i++){let s=n[i].replace(/\{([^}]+)\}/,"$1"),r=xk(t,s);r==null&&(r=""),e=e.split(n[i]).join(r)}e=aa.unescape(e)}else e="";return e}function xk(t,e,n){let i;const s=t.dataItem;let r=[],a=/(format[a-zA-Z]*)\((.*)\)|([^.]+)/g,o;for(;o=a.exec(e),o!==null;)if(o[3]){r.push({prop:o[3]});const l=t.getDateFormatter().get("dateFields",[]),u=t.getNumberFormatter().get("numericFields",[]),d=t.getDurationFormatter().get("durationFields",[]);l.indexOf(o[3])!==-1?r.push({method:"formatDate",params:[]}):u.indexOf(o[3])!==-1?r.push({method:"formatNumber",params:[]}):d.indexOf(o[3])!==-1&&r.push({method:"formatDuration",params:[]})}else{let l=[];if(Ud(o[2])!=""){let u=/'([^']*)'|"([^"]*)"|([0-9\-]+)/g,d;for(;d=u.exec(o[2]),d!==null;)l.push(d[1]||d[2]||d[3])}r.push({method:o[1],params:l})}if(s){i=xu(t,r,s._settings),(i==null||cg(i))&&(i=xu(t,r,s));let l=s.dataContext;i==null&&l&&(i=xu(t,r,l),i==null&&(i=xu(t,[{prop:e}],l)),i==null&&l.dataContext&&(i=xu(t,r,l.dataContext))),i==null&&s.component&&s.component.dataItem!==s&&(i=xk(s.component,e))}return i==null&&(i=xu(t,r,t)),i==null&&t.parent&&(i=xk(t.parent,e)),i}function Rwe(t,e){const n=t.getPrivate("customData");if(cg(n))return n[e]}function xu(t,e,n,i){let s=n,r=!1;for(let a=0,o=e.length;a<o;a++){let l=e[a];if(l.prop){if(s instanceof ga){let u=s.get(l.prop);u==null&&(u=s.getPrivate(l.prop)),u==null&&(u=Rwe(s,l.prop)),u==null&&(u=s[l.prop]),s=u}else if(s.get){let u=s.get(l.prop);u==null&&(u=s[l.prop]),s=u}else s=s[l.prop];if(s==null)return}else switch(l.method){case"formatNumber":let u=lr(s);u!=null&&(s=t.getNumberFormatter().format(u,l.params[0]||void 0),r=!0);break;case"formatDate":let d=j0e(s);if(!hk(d)||va(d.getTime()))return;d!=null&&(s=t.getDateFormatter().format(d,l.params[0]||void 0),r=!0);break;case"formatDuration":let c=lr(s);c!=null&&(s=t.getDurationFormatter().format(c,l.params[0]||void 0,l.params[1]||void 0),r=!0);break;case"urlEncode":case"encodeURIComponent":s=encodeURIComponent(s);break;default:s[l.method]&&s[l.method].apply(n,l.params);break}}if(!r){let a=[{method:"",params:i}];me(s)?(a[0].method="formatNumber",a[0].params=""):hk(s)&&(a[0].method="formatDate",a[0].params=""),a[0].method&&(s=xu(t,a,s))}return s}class st extends ga{constructor(){super(...arguments),Object.defineProperty(this,"_display",{enumerable:!0,configurable:!0,writable:!0,value:this._root._renderer.makeContainer()}),Object.defineProperty(this,"_childrenDisplay",{enumerable:!0,configurable:!0,writable:!0,value:this._root._renderer.makeContainer()}),Object.defineProperty(this,"children",{enumerable:!0,configurable:!0,writable:!0,value:new bwe(this)}),Object.defineProperty(this,"_percentageSizeChildren",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_percentagePositionChildren",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_prevWidth",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_prevHeight",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_contentWidth",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_contentHeight",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_contentMask",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_vsbd0",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_vsbd1",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}_afterNew(){super._afterNew(),this._display.addChild(this._childrenDisplay)}_dispose(){cm(this.allChildren(),e=>{e.dispose()}),this.getPrivate("htmlElement")&&this._root._removeHTMLContent(this),super._dispose()}_changed(){if(super._changed(),this.isDirty("interactiveChildren")&&(this._display.interactiveChildren=this.get("interactiveChildren",!1)),this.isDirty("layout")&&(this._prevWidth=0,this._prevHeight=0,this.markDirtyBounds(),this._prevSettings.layout&&this.children.each(e=>{e.removePrivate("x"),e.removePrivate("y")})),(this.isDirty("paddingTop")||this.isDirty("paddingBottom")||this.isDirty("paddingLeft")||this.isDirty("paddingRight"))&&this.children.each(e=>{e.markDirtyPosition()}),this.isDirty("maskContent")){const e=this._childrenDisplay;let n=this._contentMask;this.get("maskContent")?n||(n=tr.new(this._root,{x:-.5,y:-.5,width:this.width()+1,height:this.height()+1}),this._contentMask=n,e.addChildAt(n._display,0),e.mask=n._display):n&&(e.removeChild(n._display),e.mask=null,n.dispose(),this._contentMask=void 0)}}_updateSize(){super._updateSize(),oe(this._percentageSizeChildren,e=>{e._updateSize()}),oe(this._percentagePositionChildren,e=>{e.markDirtyPosition(),e._updateSize()}),this.updateBackground()}updateBackground(){const e=this.get("background");let n=this._localBounds;if(n&&!this.isHidden()){let i=n.left,s=n.top,r=n.right-i,a=n.bottom-s,o=this.get("maxWidth"),l=this.get("maxHeight");l&&a>l&&(a=l),o&&r>o&&(r=o);let u=this.width(),d=this.height();e&&(e.setAll({width:r,height:a,x:i,y:s}),this._display.interactive&&(e._display.interactive=!0));const c=this._contentMask;c&&c.setAll({width:u+1,height:d+1});const f=this.get("verticalScrollbar");if(f){f.set("height",d),f.set("x",u-f.width()-f.get("marginRight",0)),f.set("end",f.get("start",0)+d/this._contentHeight);const h=f.get("background");h&&h.setAll({width:f.width(),height:d});let g=!0;this._contentHeight<=d&&(g=!1),f.setPrivate("visible",g)}}}_applyThemes(e=!1){return super._applyThemes(e)?(this.eachChildren(n=>{n._applyThemes(e)}),!0):!1}_applyState(e){super._applyState(e),this.get("setStateOnChildren")&&this.eachChildren(n=>{n.states.apply(e)})}_applyStateAnimated(e,n){super._applyStateAnimated(e,n),this.get("setStateOnChildren")&&this.eachChildren(i=>{i.states.applyAnimate(e,n)})}innerWidth(){return this.width()-this.get("paddingRight",0)-this.get("paddingLeft",0)}innerHeight(){return this.height()-this.get("paddingTop",0)-this.get("paddingBottom",0)}_getBounds(){if(this.get("html")){let e=this._localBounds;e&&(this._contentWidth=e.right-e.left,this._contentHeight=e.bottom-e.top)}else{let e=this.get("width"),n=this.get("height"),i=this.getPrivate("width"),s=this.getPrivate("height"),r={left:0,top:0,right:this.width(),bottom:this.height()},a=this.get("layout"),o=!1,l=!1;if((a instanceof ph||a instanceof gc)&&(o=!0),a instanceof _h&&(l=!0),!((e!=null||i!=null)&&(n!=null||s!=null)&&!this.get("verticalScrollbar"))){let u=Number.MAX_VALUE,d=u,c=-u,f=u,h=-u;const g=this.get("paddingLeft",0),v=this.get("paddingTop",0),p=this.get("paddingRight",0),_=this.get("paddingBottom",0);this.children.each(k=>{if(k.get("position")!="absolute"&&k.get("isMeasured")){let I=k.adjustedLocalBounds(),E=k.x(),T=k.y(),S=E+I.left,w=E+I.right,P=T+I.top,C=T+I.bottom;o&&(S-=k.get("marginLeft",0),w+=k.get("marginRight",0)),l&&(P-=k.get("marginTop",0),C+=k.get("marginBottom",0)),S<d&&(d=S),w>c&&(c=w),P<f&&(f=P),C>h&&(h=C)}}),d==u&&(d=0),c==-u&&(c=0),f==u&&(f=0),h==-u&&(h=0),r.left=d-g,r.top=f-v,r.right=c+p,r.bottom=h+_;const b=this.get("minWidth");me(b)&&b>0&&r.right-r.left<b&&(r.right>=b?r.left=r.right-b:r.right=r.left+b);const x=this.get("minHeight");me(x)&&x>0&&r.bottom-r.top<x&&(r.bottom>=x?r.top=r.bottom-x:r.bottom=r.top+x)}this._contentWidth=r.right-r.left,this._contentHeight=r.bottom-r.top,me(e)&&(r.left=0,r.right=e),me(i)&&(r.left=0,r.right=i),me(n)&&(r.top=0,r.bottom=n),me(s)&&(r.top=0,r.bottom=s),this._localBounds=r}}_updateBounds(){const e=this.get("layout");e&&e.updateContainer(this),super._updateBounds(),this.updateBackground()}markDirty(){super.markDirty(),this._root._addDirtyParent(this)}_prepareChildren(){const e=this.innerWidth(),n=this.innerHeight();if(e!=this._prevWidth||n!=this._prevHeight){let i=this.get("layout"),s=!1,r=!1;i&&((i instanceof ph||i instanceof gc)&&(s=!0),i instanceof _h&&(r=!0)),oe(this._percentageSizeChildren,a=>{if(!s){let o=a.get("width");o instanceof St&&a.setPrivate("width",o.value*e)}if(!r){let o=a.get("height");o instanceof St&&a.setPrivate("height",o.value*n)}}),oe(this._percentagePositionChildren,a=>{a.markDirtyPosition(),a.markDirtyBounds()}),this._prevWidth=e,this._prevHeight=n,this._sizeDirty=!0,this.updateBackground()}this._handleStates()}_updateHTMLContent(){const e=this.get("html");e&&e!==""?this._root._setHTMLContent(this,yh(this,this.get("html",""))):this._root._removeHTMLContent(this),this._root._positionHTMLElement(this)}scrollToChild(e){const n=this.get("verticalScrollbar");if(n){let i=e.y(),s=this.innerHeight(),r=e.height(),a=this._contentHeight,o=1-(s-r/2)/a;if(i+r*.7+this._childrenDisplay.y>s||i-r*.3+this._childrenDisplay.y<0){let l=Math.max(0,Math.min(o,(i-r/2)/a));n.animate({key:"start",to:l,duration:n.get("animationDuration",0),easing:n.get("animationEasing")})}}}_updateChildren(){if(this.isDirty("html")&&this._updateHTMLContent(),this.isDirty("verticalScrollbar")){const e=this.get("verticalScrollbar");if(e){e._setParent(this),e.startGrip.setPrivate("visible",!1),e.endGrip.setPrivate("visible",!1),this.set("maskContent",!0),this.set("paddingRight",e.width()+e.get("marginRight",0)+e.get("marginLeft",0));let n=this.get("background");n||(n=this.set("background",tr.new(this._root,{themeTags:["background"],fillOpacity:0,fill:this._root.interfaceColors.get("alternativeBackground")}))),this._vsbd0=this.events.on("wheel",i=>{const s=i.originalEvent;if(tE(s,this))s.preventDefault();else return;let r=s.deltaY/5e3;const a=e.get("start",0),o=e.get("end",1);a+r<=0&&(r=-a),o+r>=1&&(r=1-o),a+r>=0&&o+r<=1&&(e.set("start",a+r),e.set("end",o+r))}),this._disposers.push(this._vsbd0),this._vsbd1=e.events.on("rangechanged",()=>{let i=this._contentHeight;const s=this._childrenDisplay,r=this._contentMask;s.y=-e.get("start",0)*i,s.markDirtyLayer(),r&&(r._display.y=-s.y,s.mask=r._display)}),this._disposers.push(this._vsbd1),this._display.addChild(e._display)}else{const n=this._prevSettings.verticalScrollbar;if(n){this._display.removeChild(n._display),this._vsbd0&&this._vsbd0.dispose(),this._vsbd1&&this._vsbd1.dispose();const i=this._childrenDisplay;i.y=0,this.setPrivate("height",void 0),this.set("maskContent",!1),this.set("paddingRight",void 0)}}}if(this.isDirty("background")){const e=this._prevSettings.background;e&&this._display.removeChild(e._display);const n=this.get("background");n instanceof ga&&(n.set("isMeasured",!1),n._setParent(this),this._display.addChildAt(n._display,0))}if(this.isDirty("mask")){const e=this.get("mask"),n=this._prevSettings.mask;if(n&&(this._display.removeChild(n._display),n!=e&&n.dispose()),e){const i=e.parent;i&&i.children.removeValue(e),e._setParent(this),this._display.addChildAt(e._display,0),this._childrenDisplay.mask=e._display}}}_processTemplateField(){super._processTemplateField(),this.children.each(e=>{e._processTemplateField()})}walkChildren(e){this.children.each(n=>{n instanceof st&&n.walkChildren(e),e(n)})}eachChildren(e){const n=this.get("background");n&&e(n);const i=this.get("verticalScrollbar");i&&e(i);const s=this.get("mask");s&&e(s),this.children.values.forEach(r=>{e(r)})}allChildren(){const e=[];return this.eachChildren(n=>{e.push(n)}),e}_setDataItem(e){const n=e!==this._dataItem;super._setDataItem(e);const i=this.get("html","");i&&i!==""&&n&&this._root._setHTMLContent(this,yh(this,i))}}Object.defineProperty(st,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Container"});Object.defineProperty(st,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:ga.classNames.concat([st.className])});class pc extends ga{constructor(){super(...arguments),Object.defineProperty(this,"textStyle",{enumerable:!0,configurable:!0,writable:!0,value:this._root._renderer.makeTextStyle()}),Object.defineProperty(this,"_display",{enumerable:!0,configurable:!0,writable:!0,value:this._root._renderer.makeText("",this.textStyle)}),Object.defineProperty(this,"_textStyles",{enumerable:!0,configurable:!0,writable:!0,value:["textAlign","fontFamily","fontSize","fontStyle","fontWeight","fontStyle","fontVariant","textDecoration","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","shadowOpacity","lineHeight","baselineRatio","direction","textBaseline","oversizedBehavior","breakWords","ellipsis","minScale","maxChars"]}),Object.defineProperty(this,"_originalScale",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}_updateBounds(){if(this.get("text")){super._updateBounds();let e=this.get("fillGradient");e&&(this._display.style.fill=e.getFill(this))}else{let e={left:0,right:0,top:0,bottom:0};this._adjustedLocalBounds=e}}_changed(){super._changed(),this._display.clear();let e=this.textStyle;if(this.isDirty("opacity")){let n=this.get("opacity",1);this._display.alpha=n}if((this.isDirty("text")||this.isDirty("populateText"))&&(this._display.text=this._getText(),this.markDirtyBounds(),this.get("role")=="tooltip"&&this._root.updateTooltip(this)),this.isPrivateDirty("tooltipElement")&&this.getPrivate("tooltipElement")&&this._disposers.push(new Di(()=>{this._root._removeTooltipElement(this)})),this.isDirty("width")&&(e.wordWrapWidth=this.width(),this.markDirtyBounds()),this.isDirty("oversizedBehavior")&&(e.oversizedBehavior=this.get("oversizedBehavior","none"),this.markDirtyBounds()),this.isDirty("breakWords")&&(e.breakWords=this.get("breakWords",!1),this.markDirtyBounds()),this.isDirty("ellipsis")&&(e.ellipsis=this.get("ellipsis"),this.markDirtyBounds()),this.isDirty("ignoreFormatting")&&(e.ignoreFormatting=this.get("ignoreFormatting",!1),this.markDirtyBounds()),this.isDirty("minScale")&&(e.minScale=this.get("minScale",0),this.markDirtyBounds()),this.isDirty("fill")||this.isDirty("fillGradient")){const n=this.get("fill"),i=this.get("fillGradient"),s=this.get("fillOpacity");if(i){if(n){const r=i.get("stops",[]);r.length&&oe(r,a=>{(!a.color||a.colorInherited)&&n&&(a.color=n,a.colorInherited=!0),(a.opacity==null||a.opacityInherited)&&(a.opacity=s,a.opacityInherited=!0)})}e.fill=i.getFill(this)}else n&&(e.fill=n)}if(this.isDirty("fillOpacity")){let n=this.get("fillOpacity",1);n&&(e.fillOpacity=n)}(this.isDirty("maxWidth")||this.isPrivateDirty("maxWidth"))&&(e.maxWidth=this.get("maxWidth",this.getPrivate("maxWidth")),this.markDirtyBounds()),(this.isDirty("maxHeight")||this.isPrivateDirty("maxHeight"))&&(e.maxHeight=this.get("maxHeight",this.getPrivate("maxHeight")),this.markDirtyBounds()),oe(this._textStyles,n=>{this._dirty[n]&&(e[n]=this.get(n),this.markDirtyBounds())}),e.fontSize=this.get("fontSize"),e.fontFamily=this.get("fontFamily"),this._display.style=e,this.isDirty("role")&&this.get("role")=="tooltip"&&this._root.updateTooltip(this)}_getText(){let e=this.get("text","");return this.get("maxChars")&&(e=awe(e,this.get("maxChars",1e8),this.get("breakWords"),this.get("ellipsis"))),this.get("populateText")?yh(this,e):e}_getAccessibleText(){const e=this.get("ariaLabel");return e!==void 0?this.get("populateText")?yh(this,e):e:this._getText()}markDirtyText(){this._display.text=this._getText(),this.get("role")=="tooltip"&&this._root.updateTooltip(this),this.markDirtyBounds(),this.markDirty()}_setDataItem(e){super._setDataItem(e),this.get("populateText")&&this.markDirtyText()}getNumberFormatter(){return this.parent?this.parent.getNumberFormatter():super.getNumberFormatter()}getDateFormatter(){return this.parent?this.parent.getDateFormatter():super.getDateFormatter()}getDurationFormatter(){return this.parent?this.parent.getDurationFormatter():super.getDurationFormatter()}}Object.defineProperty(pc,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Text"});Object.defineProperty(pc,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:ga.classNames.concat([pc.className])});class Mwe{constructor(){Object.defineProperty(this,"_observer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_targets",{enumerable:!0,configurable:!0,writable:!0,value:[]}),this._observer=new ResizeObserver(e=>{oe(e,n=>{oe(this._targets,i=>{i.target===n.target&&i.callback()})})})}addTarget(e,n){this._observer.observe(e,{box:"border-box"}),this._targets.push({target:e,callback:n})}removeTarget(e){this._observer.unobserve(e),L0(this._targets,n=>n.target!==e)}}class B0{constructor(){Object.defineProperty(this,"_timer",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"_targets",{enumerable:!0,configurable:!0,writable:!0,value:[]})}addTarget(e,n){if(this._timer===null){let s=null;const r=()=>{const a=Date.now();(s===null||a>s+B0.delay)&&(s=a,oe(this._targets,o=>{let l=o.target.getBoundingClientRect();(l.width!==o.size.width||l.height!==o.size.height)&&(o.size=l,o.callback())})),this._targets.length===0?this._timer=null:this._timer=requestAnimationFrame(r)};this._timer=requestAnimationFrame(r)}let i={width:0,height:0,left:0,right:0,top:0,bottom:0,x:0,y:0};this._targets.push({target:e,callback:n,size:i})}removeTarget(e){L0(this._targets,n=>n.target!==e),this._targets.length===0&&this._timer!==null&&(cancelAnimationFrame(this._timer),this._timer=null)}}Object.defineProperty(B0,"delay",{enumerable:!0,configurable:!0,writable:!0,value:200});let up=null;function Vwe(){return up===null&&(typeof ResizeObserver<"u"?up=new Mwe:up=new B0),up}class Lwe{constructor(e,n){Object.defineProperty(this,"_sensor",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_element",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_listener",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_disposed",{enumerable:!0,configurable:!0,writable:!0,value:!1}),this._sensor=Vwe(),this._element=e,this._listener=LU(n),this._sensor.addTarget(e,n)}isDisposed(){return this._disposed}dispose(){this._disposed||(this._disposed=!0,this._sensor.removeTarget(this._element),this._listener.dispose())}get sensor(){return this._sensor}}class _y extends Ei{}Object.defineProperty(_y,"className",{enumerable:!0,configurable:!0,writable:!0,value:"InterfaceColors"});Object.defineProperty(_y,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Ei.classNames.concat([_y.className])});class Hi extends st{constructor(){super(...arguments),Object.defineProperty(this,"_text",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_textKeys",{enumerable:!0,configurable:!0,writable:!0,value:["text","fill","fillGradient","fillOpacity","textAlign","fontFamily","fontSize","fontStyle","fontWeight","fontStyle","fontVariant","textDecoration","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","shadowOpacity","lineHeight","baselineRatio","direction","textBaseline","oversizedBehavior","breakWords","ellipsis","minScale","populateText","role","ignoreFormatting","maxChars","ariaLabel"]})}get text(){return this._text}_afterNew(){super._afterNew(),this._makeText(),oe(this._textKeys,e=>{const n=this.get(e);n!=null&&this._text.set(e,n)}),this.get("html","")!==""&&this._text.set("text",""),this.onPrivate("maxWidth",()=>{this._setMaxDimentions()}),this.onPrivate("maxHeight",()=>{this._setMaxDimentions()})}_makeText(){this._text=this.children.push(pc.new(this._root,{}))}_updateChildren(){super._updateChildren();const e=this._text;if(oe(this._textKeys,i=>{this._text.set(i,this.get(i))}),(this.isDirty("maxWidth")||this.isDirty("maxHeight")||this.isDirty("rotation"))&&this._setMaxDimentions(),this.get("html","")!==""?e.set("text",""):(e.set("text",this.get("text")),this._maybeUpdateHTMLColor()),(this.isDirty("fill")||this.isDirty("fillGradient"))&&this._maybeUpdateHTMLColor(),this.isDirty("textAlign")||this.isDirty("width")){const i=this.get("textAlign");let s;this.get("width")!=null?i=="right"?s=Fe:i=="center"?s=ct:s=0:i=="left"||i=="start"?s=this.get("paddingLeft",0):(i=="right"||i=="end")&&(s=-this.get("paddingRight",0)),e.set("x",s)}const n=this.get("background");n&&n.setPrivate("visible",e._display.textVisible)}_maybeUpdateHTMLColor(){const e=this.getPrivate("htmlElement");e&&this.get("fill")&&(e.style.color=this.get("fill").toCSSHex())}_setMaxDimentions(){const e=this.get("rotation"),n=e==90||e==270||e==-90,i=this._text,s=this.get("maxWidth",this.getPrivate("maxWidth",1/0));me(s)?i.set(n?"maxHeight":"maxWidth",s-this.get("paddingTop",0)-this.get("paddingBottom",0)):i.set(n?"maxHeight":"maxWidth",void 0);const r=this.get("maxHeight",this.getPrivate("maxHeight",1/0));me(r)?i.set(n?"maxWidth":"maxHeight",r-this.get("paddingLeft",0)-this.get("paddingRight",0)):i.set(n?"maxWidth":"maxHeight",void 0),this.root.events.once("frameended",()=>{i.markDirtyBounds()})}_setDataItem(e){super._setDataItem(e),this._markDirtyKey("text");const n=this._text;n.get("populateText")&&n.markDirtyText();const i=this.get("html");i&&i!==""&&this._updateHTMLContent()}getText(){return this._text._getText()}getAccessibleText(){return this._text._getAccessibleText()}}Object.defineProperty(Hi,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Label"});Object.defineProperty(Hi,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:st.classNames.concat([Hi.className])});class Hd extends dn{_beforeChanged(){super._beforeChanged(),(this.isDirty("pointerBaseWidth")||this.isDirty("cornerRadius")||this.isDirty("pointerLength")||this.isDirty("pointerX")||this.isDirty("pointerY")||this.isDirty("width")||this.isDirty("height"))&&(this._clear=!0)}_changed(){if(super._changed(),this._clear){this.markDirtyBounds();let e=this.width(),n=this.height();if(e>0&&n>0){let i=this.get("cornerRadius",8);i=Kn(i,0,Math.min(e/2,n/2));let s=this.get("pointerX",0),r=this.get("pointerY",0),a=this.get("pointerBaseWidth",15)/2,o=0,l=0,u=e,d=0,c=e,f=n,h=0,g=n,v=(s-o)*(f-l)-(r-l)*(c-o),p=(s-h)*(d-g)-(r-g)*(u-h);const _=this._display;if(_.moveTo(i,0),v>0&&p>0){let b=Math.round(Kn(s,i+a,e-a-i));r=Kn(r,-1/0,0),_.lineTo(b-a,0),_.lineTo(s,r),_.lineTo(b+a,0)}if(_.lineTo(e-i,0),_.arcTo(e,0,e,i,i),v>0&&p<0){let b=Math.round(Kn(r,i+a,n-a-i));s=Kn(s,e,1/0),_.lineTo(e,i),_.lineTo(e,Math.max(b-a,i)),_.lineTo(s,r),_.lineTo(e,b+a)}if(_.lineTo(e,n-i),_.arcTo(e,n,e-i,n,i),v<0&&p<0){let b=Math.round(Kn(s,i+a,e-a-i));r=Kn(r,n,1/0),_.lineTo(e-i,n),_.lineTo(b+a,n),_.lineTo(s,r),_.lineTo(b-a,n)}if(_.lineTo(i,n),_.arcTo(0,n,0,n-i,i),v<0&&p>0){let b=Math.round(Kn(r,i+a,n-i-a));s=Kn(s,-1/0,0),_.lineTo(0,n-i),_.lineTo(0,b+a),_.lineTo(s,r),_.lineTo(0,Math.max(b-a,i))}_.lineTo(0,i),_.arcTo(0,0,i,0,i),_.closePath()}}}}Object.defineProperty(Hd,"className",{enumerable:!0,configurable:!0,writable:!0,value:"PointedRectangle"});Object.defineProperty(Hd,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:dn.classNames.concat([Hd.className])});class Wl extends st{constructor(e,n,i,s=[]){super(e,n,i,s),Object.defineProperty(this,"_fx",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_fy",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_label",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_fillDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_strokeDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_labelDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_w",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_h",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_keepHoverDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_htmlContentHovered",{enumerable:!0,configurable:!0,writable:!0,value:!1})}_afterNew(){this._settings.themeTags=Lt(this._settings.themeTags,["tooltip"]),super._afterNew(),this._setDefaultFn("background",()=>Hd.new(this._root,{})).set("themeTags",["tooltip","background"]),this._label=this.children.push(Hi.new(this._root,{})),this._disposers.push(this._label.events.on("boundschanged",()=>{this._updateBackground()})),this._disposers.push(this.on("bounds",()=>{this._updateBackground()})),this._updateTextColor(),this._root.tooltipContainer.children.push(this),this.hide(0),this._disposers.push(this.label.onPrivate("htmlElement",n=>{n&&(this._disposers.push(Nn(n,"pointerover",i=>{this._htmlContentHovered=!0})),this._disposers.push(Nn(n,"pointerout",i=>{this._htmlContentHovered=!1})))})),this.on("visible",n=>{this._handleReaderAnnouncement()}),this.label.events.on("dataitemchanged",n=>{this._handleReaderAnnouncement()}),this._root._tooltips.push(this)}_handleReaderAnnouncement(){this.get("readerAnnounce")&&this.isVisibleDeep()&&this._root.readerAlert(this.label.getAccessibleText())}get label(){return this._label}_dispose(){super._dispose(),Ir(this._root._tooltips,this)}_updateChildren(){super._updateChildren(),(this.isDirty("pointerOrientation")||this.isPrivateDirty("minWidth")||this.isPrivateDirty("minHeight"))&&this.get("background")._markDirtyKey("width"),this.get("labelText")!=null&&this.label.set("text",this.get("labelText")),this.get("labelHTML")!=null&&this.label.set("html",this.get("labelHTML")),this.get("labelAriaLabel")!=null&&this.label.set("ariaLabel",this.get("labelAriaLabel"))}_changed(){if(super._changed(),(this.isDirty("pointTo")||this.isDirty("pointerOrientation"))&&this._updateBackground(),this.isDirty("tooltipTarget")&&this.updateBackgroundColor(),this.isDirty("keepTargetHover"))if(this.get("keepTargetHover")){const n=this.get("background");this._keepHoverDp=new Rs([n.events.on("pointerover",i=>{let s=this.get("tooltipTarget");s&&(s.parent&&s.parent.getPrivate("tooltipTarget")==s&&(s=s.parent),s.hover())}),n.events.on("pointerout",i=>{let s=this.get("tooltipTarget");s&&(s.parent&&s.parent.getPrivate("tooltipTarget")==s&&(s=s.parent),this._htmlContentHovered||s.unhover())})]),this.label.onPrivate("htmlElement",i=>{this._keepHoverDp&&i&&this._keepHoverDp.disposers.push(Nn(i,"pointerleave",s=>{const r=this.root._renderer.getEvent(s);n.events.dispatch("pointerout",{type:"pointerout",originalEvent:r.event,point:r.point,simulated:!1,target:n})}))})}else this._keepHoverDp&&(this._keepHoverDp.dispose(),this._keepHoverDp=void 0)}_onShow(){super._onShow(),this.updateBackgroundColor()}updateBackgroundColor(){let e=this.get("tooltipTarget");const n=this.get("background");let i,s;e&&n&&(i=e.get("fill"),s=e.get("stroke"),i==null&&(i=s),this.get("getFillFromSprite")&&(this._fillDp&&this._fillDp.dispose(),i!=null&&n.set("fill",i),this._fillDp=e.on("fill",r=>{r!=null&&(n.set("fill",r),this._updateTextColor(r))}),this._disposers.push(this._fillDp)),this.get("getStrokeFromSprite")&&(this._strokeDp&&this._strokeDp.dispose(),i!=null&&n.set("stroke",i),this._strokeDp=e.on("fill",r=>{r!=null&&n.set("stroke",r)}),this._disposers.push(this._strokeDp)),this.get("getLabelFillFromSprite")&&(this._labelDp&&this._labelDp.dispose(),i!=null&&this.label.set("fill",i),this._labelDp=e.on("fill",r=>{r!=null&&this.label.set("fill",r)}),this._disposers.push(this._labelDp))),this._updateTextColor(i)}_updateTextColor(e){this.get("autoTextColor")&&(e==null&&(e=this.get("background").get("fill")),e==null&&(e=this._root.interfaceColors.get("background")),e instanceof tt&&this.label.set("fill",tt.alternative(e,this._root.interfaceColors.get("alternativeText"),this._root.interfaceColors.get("text"))))}_setDataItem(e){super._setDataItem(e),this.label._setDataItem(e)}_updateBackground(){super.updateBackground();const e=this._root.container;if(e){let n=.5,i=.5,s=this.get("centerX");s instanceof St&&(n=s.value);let r=this.get("centerY");r instanceof St&&(i=r.value);let a=e.width(),o=e.height(),l=this.parent,u=0,d=0;if(l){u=l.x(),d=l.y();const C=l.get("layerMargin");C&&(u+=C.left||0,d+=C.top||0,a+=(C.left||0)+(C.right||0),o+=(C.top||0)+(C.bottom||0))}const c=this.get("bounds",{left:-u,top:-d,right:a-u,bottom:o-d});this._updateBounds();let f=this.width(),h=this.height();f===0&&(f=this._w),h===0&&(h=this._h);let g=this.get("pointTo",{x:a/2,y:o/2}),v=g.x,p=g.y,_=this.get("pointerOrientation"),b=this.get("background"),x=0,k=0,I=0;b instanceof Hd&&(x=b.get("pointerLength",0),k=b.get("strokeWidth",0)/2,I=k,b.set("width",f),b.set("height",h));let E=0,T=0,S=c.right-c.left,w=c.bottom-c.top;_=="horizontal"||_=="left"||_=="right"?(k=0,_=="horizontal"?v>c.left+S/2?(v-=f*(1-n)+x,I*=-1):v+=f*n+x:_=="left"?v+=f*(1-n)+x:(v-=f*n+x,I*=-1)):(I=0,_=="vertical"?p>c.top+h/2+x?p-=h*(1-i)+x:(p+=h*i+x,k*=-1):_=="down"?p-=h*(1-i)+x:(p+=h*i+x,k*=-1)),v=Kn(v,c.left+f*n,c.left+S-f*(1-n))+I,p=Kn(p,c.top+h*i,c.top+w-h*(1-i))-k,E=g.x-v+f*n+I,T=g.y-p+h*i-k,this._fx=v,this._fy=p;const P=this.get("animationDuration",0);if(P>0&&this.get("visible")&&this.get("opacity")>.1){const C=this.get("animationEasing");this.animate({key:"x",to:v,duration:P,easing:C}),this.animate({key:"y",to:p,duration:P,easing:C})}else this.set("x",v),this.set("y",p);b instanceof Hd&&(b.set("pointerX",E),b.set("pointerY",T)),f>0&&(this._w=f),h>0&&(this._h=h)}}}Object.defineProperty(Wl,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Tooltip"});Object.defineProperty(Wl,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:st.classNames.concat([Wl.className])});class Nwe extends Ei{_setDefaults(){this._setDefault("negativeBase",0),this._setDefault("numberFormat","#,###.#####"),this._setDefault("smallNumberThreshold",1);const e="_big_number_suffix_",n="_small_number_suffix_",i="_byte_suffix_";this._setDefault("bigNumberPrefixes",[{number:1e3,suffix:this._t(e+"3")},{number:1e6,suffix:this._t(e+"6")},{number:1e9,suffix:this._t(e+"9")},{number:1e12,suffix:this._t(e+"12")},{number:1e15,suffix:this._t(e+"15")},{number:1e18,suffix:this._t(e+"18")},{number:1e21,suffix:this._t(e+"21")},{number:1e24,suffix:this._t(e+"24")}]),this._setDefault("smallNumberPrefixes",[{number:1e-24,suffix:this._t(n+"24")},{number:1e-21,suffix:this._t(n+"21")},{number:1e-18,suffix:this._t(n+"18")},{number:1e-15,suffix:this._t(n+"15")},{number:1e-12,suffix:this._t(n+"12")},{number:1e-9,suffix:this._t(n+"9")},{number:1e-6,suffix:this._t(n+"6")},{number:.001,suffix:this._t(n+"3")}]),this._setDefault("bytePrefixes",[{number:1,suffix:this._t(i+"B")},{number:1024,suffix:this._t(i+"KB")},{number:1048576,suffix:this._t(i+"MB")},{number:1073741824,suffix:this._t(i+"GB")},{number:1099511627776,suffix:this._t(i+"TB")},{number:0x4000000000000,suffix:this._t(i+"PB")}]),super._setDefaults()}_beforeChanged(){super._beforeChanged()}format(e,n,i){(n==null||vh(n)&&n.toLowerCase()==="number")&&(n=this.get("numberFormat",""));let s,r=Number(e);if(cg(n))try{return this.get("intlLocales")?new Intl.NumberFormat(this.get("intlLocales"),n).format(r):new Intl.NumberFormat(void 0,n).format(r)}catch{return"Invalid"}else{n=nE(n);let a=this.parseFormat(n,this._root.language),o;r>this.get("negativeBase")?o=a.positive:r<this.get("negativeBase")?o=a.negative:o=a.zero,i!=null&&!o.mod&&(o=Bu(o),o.decimals.active=r==0?0:i),s=o.template.split(zl).join(this.applyFormat(r,o))}return this.get("forceLTR")===!0&&(s=""+s),s}parseFormat(e,n){const i=n.translateEmpty("_thousandSeparator"),s=n.translateEmpty("_decimalSeparator");let r={positive:{thousands:{active:-1,passive:-1,interval:-1,separator:i},decimals:{active:-1,passive:-1,separator:s},template:"",source:"",parsed:!1},negative:{thousands:{active:-1,passive:-1,interval:-1,separator:i},decimals:{active:-1,passive:-1,separator:s},template:"",source:"",parsed:!1},zero:{thousands:{active:-1,passive:-1,interval:-1,separator:i},decimals:{active:-1,passive:-1,separator:s},template:"",source:"",parsed:!1}};e=e.replace("||",Sd);let a=e.split("|");return r.positive.source=a[0],typeof a[2]>"u"?r.zero=r.positive:r.zero.source=a[2],typeof a[1]>"u"?r.negative=r.positive:r.negative.source=a[1],rn(r,(o,l)=>{if(l.parsed)return;let u=l.source;u.toLowerCase()==="number"&&(u=this.get("numberFormat","#,###.#####"));let d=aa.chunk(u,!0);for(let c=0;c<d.length;c++){let f=d[c];if(f.text=f.text.replace(Sd,"|"),f.type==="value"){let h=f.text.match(/[#0.,]+[ ]?[abespABESP%!]?[abespABESP!]?/);if(h)if(h===null||h[0]==="")l.template+=f.text;else{let g=h[0].match(/[abespABESP%!]{2}|[abespABESP%]{1}$/);g&&(l.mod=g[0].toLowerCase(),l.modSpacing=!!h[0].match(/[ ]{1}[abespABESP%!]{1}$/));let v=h[0].split(".");if(v[0]!==""){l.thousands.active=(v[0].match(/0/g)||[]).length,l.thousands.passive=(v[0].match(/\#/g)||[]).length+l.thousands.active;let p=v[0].split(",");p.length===1||(l.thousands.interval=(p.pop()||"").length,l.thousands.interval===0&&(l.thousands.interval=-1))}typeof v[1]>"u"||(l.decimals.active=(v[1].match(/0/g)||[]).length,l.decimals.passive=(v[1].match(/\#/g)||[]).length+l.decimals.active),l.template+=f.text.split(h[0]).join(zl)}}else l.template+=f.text}l.parsed=!0}),r}applyFormat(e,n){let i=e<0;e=Math.abs(e);let s="",r="",a=n.mod?n.mod.split(""):[];if(a.indexOf("b")!==-1){let c=this.applyPrefix(e,this.get("bytePrefixes"),a.indexOf("!")!==-1);e=c[0],s=c[1],r=c[2],n.modSpacing&&(r=" "+r)}else if(a.indexOf("a")!==-1){let c=this.applyPrefix(e,e<this.get("smallNumberThreshold")?this.get("smallNumberPrefixes"):this.get("bigNumberPrefixes"),a.indexOf("!")!==-1);e=c[0],s=c[1],r=c[2],n.modSpacing&&(r=" "+r)}else if(a.indexOf("p")!==-1){let c=Math.min(e.toString().length+2,21);e=parseFloat(e.toPrecision(c)),s=this._root.language.translate("_percentPrefix"),r=this._root.language.translate("_percentSuffix"),s==""&&r==""&&(r="%")}else if(a.indexOf("%")!==-1){let c=Math.min(e.toString().length+2,21);e*=100,e=parseFloat(e.toPrecision(c)),r="%"}else if(a.indexOf("")!==-1){let c=Math.min(e.toString().length+3,21);e*=1e3,e=parseFloat(e.toPrecision(c)),r=""}if(a.indexOf("e")!==-1){let c;n.decimals.passive>=0?c=e.toExponential(n.decimals.passive).split("e"):c=e.toExponential().split("e"),e=Number(c[0]),r="e"+c[1],n.modSpacing&&(r=" "+r)}else if(n.decimals.passive===0)e=Math.round(e);else if(n.decimals.passive>0){const c=FU(e);if(c>0){const f=Math.pow(10,n.decimals.passive);e=Math.round(parseFloat((e*f).toFixed(c)))/f}}let o="",l=$0e(e).split("."),u=l[0];if(u.length<n.thousands.active&&(u=Array(n.thousands.active-u.length+1).join("0")+u),n.thousands.interval>0){let c=[],f=u.split("").reverse().join("");for(let h=0,g=u.length;h<=g;h+=n.thousands.interval){let v=f.substr(h,n.thousands.interval).split("").reverse().join("");v!==""&&c.unshift(v)}u=c.join(n.thousands.separator)}o+=u,l.length===1&&l.push("");let d=l[1];return d.length<n.decimals.active&&(d+=Array(n.decimals.active-d.length+1).join("0")),d!==""&&(o+=n.decimals.separator+d),o===""&&(o="0"),e!==0&&i&&a.indexOf("s")===-1&&(o="-"+o),s&&(o=s+o),r&&(o+=r),o}applyPrefix(e,n,i=!1){let s=e,r="",a="",o=!1,l=1;for(let u=0,d=n.length;u<d;u++)n[u].number<=e&&(n[u].number===0?s=0:(s=e/n[u].number,l=n[u].number),r=n[u].prefix,a=n[u].suffix,o=!0);return!o&&i&&n.length&&e!=0&&(s=e/n[0].number,r=n[0].prefix,a=n[0].suffix,o=!0),o&&(s=parseFloat(s.toPrecision(Math.min(l.toString().length+Math.floor(s).toString().replace(/[^0-9]*/g,"").length,21)))),[s,r,a]}escape(e){return e.replace("||",Sd)}unescape(e){return e.replace(Sd,"|")}}function GU(t,e){let n=0,i=0,s=1,r=0,a=0,o=0,l=0,u=0;return t.formatToParts(e).forEach(d=>{switch(d.type){case"year":n=+d.value;break;case"month":i=+d.value-1;break;case"day":s=+d.value;break;case"hour":r=+d.value;break;case"minute":a=+d.value;break;case"second":o=+d.value;break;case"fractionalSecond":l=+d.value;break;case"weekday":switch(d.value){case"Sun":u=0;break;case"Mon":u=1;break;case"Tue":u=2;break;case"Wed":u=3;break;case"Thu":u=4;break;case"Fri":u=5;break;case"Sat":u=6;break}}}),r===24&&(r=0),{year:n,month:i,day:s,hour:r,minute:a,second:o,millisecond:l,weekday:u}}function vV(t,e){const{year:n,month:i,day:s,hour:r,minute:a,second:o,millisecond:l}=GU(t,e);return Date.UTC(n,i,s,r,a,o,l)}class Fwe{constructor(e,n){if(Object.defineProperty(this,"_utc",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_dtf",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),!n)throw new Error("You cannot use `new Class()`, instead use `Class.new()`");this.name=e,this._utc=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:"UTC",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",weekday:"short",fractionalSecondDigits:3}),this._dtf=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:e,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",weekday:"short",fractionalSecondDigits:3})}static new(e){return new this(e,!0)}convertLocal(e){const n=this.offsetUTC(e),i=e.getTimezoneOffset(),s=new Date(e);s.setUTCMinutes(s.getUTCMinutes()-(n-i));const r=s.getTimezoneOffset();return i!=r&&s.setUTCMinutes(s.getUTCMinutes()+r-i),s}offsetUTC(e){const n=vV(this._utc,e),i=vV(this._dtf,e);return(n-i)/6e4}parseDate(e){return GU(this._dtf,e)}}class Bwe extends Ei{_setDefaults(){this._setDefault("capitalize",!0),this._setDefault("dateFormat","yyyy-MM-dd"),super._setDefaults()}_beforeChanged(){super._beforeChanged()}format(e,n,i=!1){(typeof n>"u"||n==="")&&(n=this.get("dateFormat","yyyy-MM-dd"));let s,r=e;if(cg(n))try{const l=this.get("intlLocales");return l?new Intl.DateTimeFormat(l,n).format(r):new Intl.DateTimeFormat(void 0,n).format(r)}catch{return"Invalid"}let a=this.parseFormat(n);const o=this._root.timezone;return o&&!this._root.utc&&!i&&(r=o.convertLocal(r)),me(r.getTime())?(s=this.applyFormat(r,a,i),this.get("capitalize")&&(s=s.replace(/^.{1}/,s.substr(0,1).toUpperCase())),s):"Invalid date"}applyFormat(e,n,i=!1){let s=n.template,r,a,o,l,u,d,c,f,h=e.getTime();this._root.utc&&!i?(r=e.getUTCFullYear(),a=e.getUTCMonth(),o=e.getUTCDay(),l=e.getUTCDate(),u=e.getUTCHours(),d=e.getUTCMinutes(),c=e.getUTCSeconds(),f=e.getUTCMilliseconds()):(r=e.getFullYear(),a=e.getMonth(),o=e.getDay(),l=e.getDate(),u=e.getHours(),d=e.getMinutes(),c=e.getSeconds(),f=e.getMilliseconds());for(let g=0,v=n.parts.length;g<v;g++){let p="";switch(n.parts[g]){case"G":p=this._t(r<0?"_era_bc":"_era_ad");break;case"yyyy":p=Math.abs(r).toString(),r<0&&(p+=this._t("_era_bc"));break;case"yyy":case"yy":case"y":p=Math.abs(r).toString().substr(-n.parts[g].length),r<0&&(p+=this._t("_era_bc"));break;case"YYYY":case"YYY":case"YY":case"Y":let _=lwe(e,this._root.utc);n.parts[g]=="YYYY"?p=Math.abs(_).toString():p=Math.abs(_).toString().substr(-n.parts[g].length),_<0&&(p+=this._t("_era_bc"));break;case"u":break;case"q":p=""+Math.ceil((e.getMonth()+1)/3);break;case"MMMMM":p=this._t(this._getMonth(a)).substr(0,1);break;case"MMMM":p=this._t(this._getMonth(a));break;case"MMM":p=this._t(this._getShortMonth(a));break;case"MM":p=ci(a+1,2,"0");break;case"M":p=(a+1).toString();break;case"ww":p=ci(vy(e,this._root.utc),2,"0");break;case"w":p=vy(e,this._root.utc).toString();break;case"W":p=uwe(e,this._root.utc).toString();break;case"dd":p=ci(l,2,"0");break;case"d":p=l.toString();break;case"DD":case"DDD":p=ci(uV(e,this._root.utc).toString(),n.parts[g].length,"0");break;case"D":p=uV(e,this._root.utc).toString();break;case"F":break;case"g":break;case"t":p=this._root.language.translateFunc("_dateOrd").call(this,l);break;case"E":p=(o||7).toString();break;case"EE":p=ci((o||7).toString(),2,"0");break;case"EEE":case"eee":p=this._t(this._getShortWeekday(o));break;case"EEEE":case"eeee":p=this._t(this._getWeekday(o));break;case"EEEEE":case"eeeee":p=this._t(this._getShortWeekday(o)).substr(0,1);break;case"e":case"ee":p=(o-(this._root.locale.firstDayOfWeek||1)+1).toString(),n.parts[g]=="ee"&&(p=ci(p,2,"0"));break;case"a":u>=12?p=this._t("PM"):p=this._t("AM");break;case"aa":u>=12?p=this._t("P.M."):p=this._t("A.M.");break;case"aaa":u>=12?p=this._t("P"):p=this._t("A");break;case"h":p=ap(u).toString();break;case"hh":p=ci(ap(u),2,"0");break;case"H":p=u.toString();break;case"HH":p=ci(u,2,"0");break;case"K":p=ap(u,0).toString();break;case"KK":p=ci(ap(u,0),2,"0");break;case"k":p=(u+1).toString();break;case"kk":p=ci(u+1,2,"0");break;case"m":p=d.toString();break;case"mm":p=ci(d,2,"0");break;case"s":p=c.toString();break;case"ss":p=ci(c,2,"0");break;case"S":case"SS":case"SSS":p=Math.round(f/1e3*Math.pow(10,n.parts[g].length)).toString();break;case"x":p=h.toString();break;case"n":case"nn":case"nnn":p=ci(f,n.parts[g].length,"0");break;case"z":p=op(e,!1,!1,this._root.utc,this._root.timezone?this._root.timezone.name:void 0).replace(/[+-]+[0-9]+$/,"");break;case"zz":p=op(e,!0,!1,this._root.utc,this._root.timezone?this._root.timezone.name:void 0);break;case"zzz":p=op(e,!1,!0,this._root.utc,this._root.timezone?this._root.timezone.name:void 0).replace(/[+-]+[0-9]+$/,"");break;case"zzzz":p=op(e,!0,!0,this._root.utc,this._root.timezone?this._root.timezone.name:void 0);break;case"Z":case"ZZ":let b=this._root.utc?"UTC":this._root.timezone;b instanceof Fwe&&(b=b.name);const x=b?dwe(b):e.getTimezoneOffset();let k=Math.abs(x)/60,I=Math.floor(k),E=k*60-I*60;this._root.utc&&(I=0,E=0),n.parts[g]=="Z"?(p="GMT",p+=x>0?"-":"+",p+=ci(I,2)+":"+ci(E,2)):(p=x>0?"-":"+",p+=ci(I,2)+ci(E,2));break;case"i":p=e.toISOString();break;case"I":p=e.toUTCString();break}s=s.replace(zl,p)}return s}parseFormat(e){let n={template:"",parts:[]},i=aa.chunk(e,!0);for(let s=0;s<i.length;s++){let r=i[s];if(r.type==="value"){if(r.text.match(/^date$/i)){let o=this.get("dateFormat","yyyy-MM-dd");vh(o)||(o="yyyy-MM-dd"),r.text=o}let a=r.text.match(/G|yyyy|yyy|yy|y|YYYY|YYY|YY|Y|u|q|MMMMM|MMMM|MMM|MM|M|ww|w|W|dd|d|DDD|DD|D|F|g|EEEEE|EEEE|EEE|EE|E|eeeee|eeee|eee|ee|e|aaa|aa|a|hh|h|HH|H|KK|K|kk|k|mm|m|ss|s|SSS|SS|S|A|zzzz|zzz|zz|z|ZZ|Z|t|x|nnn|nn|n|i|I/g);if(a)for(let o=0;o<a.length;o++)n.parts.push(a[o]),r.text=r.text.replace(a[o],zl)}n.template+=r.text}return n}_months(){return["January","February","March","April","May","June","July","August","September","October","November","December"]}_getMonth(e){return this._months()[e]}_shortMonths(){return["Jan","Feb","Mar","Apr","May(short)","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}_getShortMonth(e){return this._shortMonths()[e]}_weekdays(){return["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]}_getWeekday(e){return this._weekdays()[e]}_shortWeekdays(){return["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]}_getShortWeekday(e){return this._shortWeekdays()[e]}parse(e,n){if(e instanceof Date)return e;if(me(e))return new Date(e);if(n=="x")return new Date(parseInt(e));vh(e)||(e=e.toString());let i,s="";n=nE(n),n=n.substr(0,e.length);let r=this.parseFormat(n),a={year:-1,year3:-1,year2:-1,year1:-1,month:-1,monthShort:-1,monthLong:-1,weekdayShort:-1,weekdayLong:-1,day:-1,yearDay:-1,week:-1,hourBase0:-1,hour12Base0:-1,hourBase1:-1,hour12Base1:-1,minute:-1,second:-1,millisecond:-1,millisecondDigits:-1,am:-1,zone:-1,timestamp:-1,iso:-1},o={year:1970,month:0,day:1,hour:0,minute:0,second:0,millisecond:0,timestamp:null,offset:0,utc:this._root.utc},l=0,u=0;for(let f=0;f<r.parts.length;f++){switch(u=f+l+1,r.parts[f]){case"yyyy":case"YYYY":s+="([0-9]{4})",a.year=u;break;case"yyy":case"YYY":s+="([0-9]{3})",a.year3=u;break;case"yy":case"YY":s+="([0-9]{2})",a.year2=u;break;case"y":case"Y":s+="([0-9]{1})",a.year1=u;break;case"MMMM":s+="("+this.getStringList(this._months()).join("|")+")",a.monthLong=u;break;case"MMM":s+="("+this.getStringList(this._shortMonths()).join("|")+")",a.monthShort=u;break;case"MM":case"M":s+="([0-9]{2}|[0-9]{1})",a.month=u;break;case"ww":case"w":s+="([0-9]{2}|[0-9]{1})",a.week=u;break;case"dd":case"d":s+="([0-9]{2}|[0-9]{1})",a.day=u;break;case"DDD":case"DD":case"D":s+="([0-9]{3}|[0-9]{2}|[0-9]{1})",a.yearDay=u;break;case"dddd":s+="("+this.getStringList(this._weekdays()).join("|")+")",a.weekdayLong=u;break;case"ddd":s+="("+this.getStringList(this._shortWeekdays()).join("|")+")",a.weekdayShort=u;break;case"aaa":case"aa":case"a":s+="("+this.getStringList(["AM","PM","A.M.","P.M.","A","P"]).join("|")+")",a.am=u;break;case"hh":case"h":s+="([0-9]{2}|[0-9]{1})",a.hour12Base1=u;break;case"HH":case"H":s+="([0-9]{2}|[0-9]{1})",a.hourBase0=u;break;case"KK":case"K":s+="([0-9]{2}|[0-9]{1})",a.hour12Base0=u;break;case"kk":case"k":s+="([0-9]{2}|[0-9]{1})",a.hourBase1=u;break;case"mm":case"m":s+="([0-9]{2}|[0-9]{1})",a.minute=u;break;case"ss":case"s":s+="([0-9]{2}|[0-9]{1})",a.second=u;break;case"SSS":case"SS":case"S":s+="([0-9]{3}|[0-9]{2}|[0-9]{1})",a.millisecond=u,a.millisecondDigits=r.parts[f].length;break;case"nnn":case"nn":case"n":s+="([0-9]{3}|[0-9]{2}|[0-9]{1})",a.millisecond=u;break;case"x":s+="([0-9]{1,})",a.timestamp=u;break;case"Z":s+="GMT([-+]+[0-9]{2}:[0-9]{2})",a.zone=u;break;case"ZZ":s+="([\\-+]+[0-9]{2}[0-9]{2})",a.zone=u;break;case"i":s+="([0-9]{4})-?([0-9]{2})-?([0-9]{2})T?([0-9]{2}):?([0-9]{2}):?([0-9]{2})\\.?([0-9]{0,3})([zZ]|[+\\-][0-9]{2}:?[0-9]{2}|$)",a.iso=u,l+=7;break;case"G":case"YYYY":case"YYY":case"YY":case"Y":case"MMMMM":case"W":case"EEEEE":case"EEEE":case"EEE":case"EE":case"E":case"eeeee":case"eeee":case"eee":case"ee":case"e":case"zzzz":case"zzz":case"zz":case"z":case"t":l--;break}s+="[^0-9]*"}let d=new RegExp(s),c=e.match(d);if(c){if(a.year>-1&&(o.year=parseInt(c[a.year])),a.year3>-1){let f=parseInt(c[a.year3]);f+=1e3,o.year=f}if(a.year2>-1){let f=parseInt(c[a.year2]);f>50?f+=1e3:f+=2e3,o.year=f}if(a.year1>-1){let f=parseInt(c[a.year1]);f=Math.floor(new Date().getFullYear()/10)*10+f,o.year=f}if(a.monthLong>-1&&(o.month=this.resolveMonth(c[a.monthLong])),a.monthShort>-1&&(o.month=this.resolveShortMonth(c[a.monthShort])),a.month>-1&&(o.month=parseInt(c[a.month])-1),a.week>-1&&a.day===-1&&(o.month=0,o.day=cwe(parseInt(c[a.week]),o.year,1,this._root.utc)),a.day>-1&&(o.day=parseInt(c[a.day])),a.yearDay>-1&&(o.month=0,o.day=parseInt(c[a.yearDay])),a.hourBase0>-1&&(o.hour=parseInt(c[a.hourBase0])),a.hourBase1>-1&&(o.hour=parseInt(c[a.hourBase1])-1),a.hour12Base0>-1){let f=parseInt(c[a.hour12Base0]);f==11&&(f=0),a.am>-1&&!this.isAm(c[a.am])&&(f+=12),o.hour=f}if(a.hour12Base1>-1){let f=parseInt(c[a.hour12Base1]);f==12&&(f=0),a.am>-1&&!this.isAm(c[a.am])&&(f+=12),o.hour=f}if(a.minute>-1&&(o.minute=parseInt(c[a.minute])),a.second>-1&&(o.second=parseInt(c[a.second])),a.millisecond>-1){let f=parseInt(c[a.millisecond]);a.millisecondDigits==2?f*=10:a.millisecondDigits==1&&(f*=100),o.millisecond=f}if(a.timestamp>-1){o.timestamp=parseInt(c[a.timestamp]);const f=new Date(o.timestamp);o.year=f.getUTCFullYear(),o.month=f.getUTCMonth(),o.day=f.getUTCDate(),o.hour=f.getUTCHours(),o.minute=f.getUTCMinutes(),o.second=f.getUTCSeconds(),o.millisecond=f.getUTCMilliseconds()}a.zone>-1&&(o.offset=this.resolveTimezoneOffset(new Date(o.year,o.month,o.day),c[a.zone])),a.iso>-1&&(o.year=lr(c[a.iso+0]),o.month=lr(c[a.iso+1])-1,o.day=lr(c[a.iso+2]),o.hour=lr(c[a.iso+3]),o.minute=lr(c[a.iso+4]),o.second=lr(c[a.iso+5]),o.millisecond=lr(c[a.iso+6]),c[a.iso+7]=="Z"||c[a.iso+7]=="z"?o.utc=!0:c[a.iso+7]!=""&&(o.offset=this.resolveTimezoneOffset(new Date(o.year,o.month,o.day),c[a.iso+7]))),o.utc?i=new Date(Date.UTC(o.year,o.month,o.day,o.hour,o.minute,o.second,o.millisecond)):i=new Date(o.year,o.month,o.day,o.hour,o.minute+o.offset,o.second,o.millisecond)}else i=new Date(e);return i}resolveTimezoneOffset(e,n){if(n.match(/([+\-]?)([0-9]{2}):?([0-9]{2})/)){let s=n.match(/([+\-]?)([0-9]{2}):?([0-9]{2})/),r=s[1],a=s[2],o=s[3],l=parseInt(a)*60+parseInt(o);r=="+"&&(l*=-1);let u=(e||new Date).getTimezoneOffset();return l-u}return 0}resolveMonth(e){let n=this._months().indexOf(e);return n>-1||!this._root.language.isDefault()&&(n=this._root.language.translateAll(this._months()).indexOf(e),n>-1)?n:0}resolveShortMonth(e){let n=this._shortMonths().indexOf(e);return n>-1||(n=this._months().indexOf(e),n>-1)||this._root.language&&!this._root.language.isDefault()&&(n=this._root.language.translateAll(this._shortMonths()).indexOf(e),n>-1)?n:0}isAm(e){return this.getStringList(["AM","A.M.","A"]).indexOf(e.toUpperCase())>-1}getStringList(e){let n=[];for(let i=0;i<e.length;i++)this._root.language?n.push(lV(this._t(e[i]))):n.push(lV(e[i]));return n}}class jwe extends Ei{constructor(){super(...arguments),Object.defineProperty(this,"_unitAliases",{enumerable:!0,configurable:!0,writable:!0,value:{Y:"y",D:"d",H:"h",K:"h",k:"h",n:"S"}})}_setDefaults(){const e="_duration_millisecond",n="_duration_second",i="_duration_minute",s="_duration_hour",r="_duration_day",a="_duration_week",o="_duration_month",l="_duration_year",u="_second",d="_minute",c="_hour",f="_day",h="_week",g="_week",v="_year";this._setDefault("negativeBase",0),this._setDefault("baseUnit","second"),this._setDefault("durationFormats",{millisecond:{millisecond:this._t(e),second:this._t(e+u),minute:this._t(e+d),hour:this._t(e+c),day:this._t(e+f),week:this._t(e+h),month:this._t(e+g),year:this._t(e+v)},second:{second:this._t(n),minute:this._t(n+d),hour:this._t(n+c),day:this._t(n+f),week:this._t(n+h),month:this._t(n+g),year:this._t(n+v)},minute:{minute:this._t(i),hour:this._t(i+c),day:this._t(i+f),week:this._t(i+h),month:this._t(i+g),year:this._t(i+v)},hour:{hour:this._t(s),day:this._t(s+f),week:this._t(s+h),month:this._t(s+g),year:this._t(s+v)},day:{day:this._t(r),week:this._t(r+h),month:this._t(r+g),year:this._t(r+v)},week:{week:this._t(a),month:this._t(a+g),year:this._t(a+v)},month:{month:this._t(o),year:this._t(o+v)},year:{year:this._t(l)}}),super._setDefaults()}_beforeChanged(){super._beforeChanged()}format(e,n,i){let s=i||this.get("baseUnit");(typeof n>"u"||n==="")&&(this.get("durationFormat")!=null?n=this.get("durationFormat"):n=this.getFormat(lr(e),void 0,s)),n=nE(n);let r=this.parseFormat(n,s),a=Number(e),o;a>this.get("negativeBase")?o=r.positive:a<this.get("negativeBase")?o=r.negative:o=r.zero;let l=this.applyFormat(a,o);return o.color!==""&&(l="["+o.color+"]"+l+"[/]"),l}parseFormat(e,n){let i=n||this.get("baseUnit"),s={positive:{color:"",template:"",parts:[],source:"",baseUnit:i,parsed:!1,absolute:!1},negative:{color:"",template:"",parts:[],source:"",baseUnit:i,parsed:!1,absolute:!1},zero:{color:"",template:"",parts:[],source:"",baseUnit:i,parsed:!1,absolute:!1}};e=e.replace("||",Sd);let r=e.split("|");return s.positive.source=r[0],typeof r[2]>"u"?s.zero=s.positive:s.zero.source=r[2],typeof r[1]>"u"?s.negative=s.positive:s.negative.source=r[1],rn(s,(a,o)=>{if(o.parsed)return;let l=o.source,u=[];u=o.source.match(/^\[([^\]]*)\]/),u&&u.length&&u[0]!==""&&(l=o.source.substr(u[0].length),o.color=u[1]);let d=aa.chunk(l,!0);for(let c=0;c<d.length;c++){let f=d[c];if(f.text=f.text.replace(Sd,"|"),f.type==="value"){f.text.match(/[yYMdDwhHKkmsSn]+a/)&&(o.absolute=!0,f.text=f.text.replace(/([yYMdDwhHKkmsSn]+)a/,"$1"));let h=f.text.match(/y+|Y+|M+|d+|D+|w+|h+|H+|K+|k+|m+|s+|S+|n+/g);if(h)for(let g=0;g<h.length;g++)h[g]==null&&(h[g]=this._unitAliases[h[g]]),o.parts.push(h[g]),f.text=f.text.replace(h[g],zl)}o.template+=f.text}o.parsed=!0}),s}applyFormat(e,n){let i=!n.absolute&&e<this.get("negativeBase");e=Math.abs(e);let s=this.toTimeStamp(e,n.baseUnit),r=n.template;for(let a=0,o=n.parts.length;a<o;a++){let l=n.parts[a],u=this._toTimeUnit(l.substr(0,1)),d=l.length,c;const f=this._getUnitValue(u);a<o-1?c=Math.floor(s/f):c=Math.round(s/f),r=r.replace(zl,ci(c,d,"0")),s-=c*f}return i&&(r="-"+r),r}toTimeStamp(e,n){return e*this._getUnitValue(n)}_toTimeUnit(e){switch(e){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year"}}getFormat(e,n,i){if(this.get("durationFormat")!=null)return this.get("durationFormat");if(i||(i=this.get("baseUnit")),n!=null&&e!=n){e=Math.abs(e),n=Math.abs(n);let s=this.getValueUnit(Math.max(e,n),i);return this.get("durationFormats")[i][s]}else{let s=this.getValueUnit(e,i);return this.get("durationFormats")[i][s]}}getValueUnit(e,n){n||(n=this.get("baseUnit"));let i,s=this.getMilliseconds(e,n);return Y0e(this._getUnitValues(),(r,a)=>{if(r==n||i){if(s/a<=1)return i||(i=r),!1;i=r}return!0}),i}getMilliseconds(e,n){return n||(n=this.get("baseUnit")),e*this._getUnitValue(n)}_getUnitValue(e){return this._getUnitValues()[e]}_getUnitValues(){return{millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:2592e6,year:31536e6}}}const qU={firstDayOfWeek:1,_decimalSeparator:".",_thousandSeparator:",",_percentPrefix:null,_percentSuffix:"%",_big_number_suffix_3:"k",_big_number_suffix_6:"M",_big_number_suffix_9:"G",_big_number_suffix_12:"T",_big_number_suffix_15:"P",_big_number_suffix_18:"E",_big_number_suffix_21:"Z",_big_number_suffix_24:"Y",_small_number_suffix_3:"m",_small_number_suffix_6:"",_small_number_suffix_9:"n",_small_number_suffix_12:"p",_small_number_suffix_15:"f",_small_number_suffix_18:"a",_small_number_suffix_21:"z",_small_number_suffix_24:"y",_byte_suffix_B:"B",_byte_suffix_KB:"KB",_byte_suffix_MB:"MB",_byte_suffix_GB:"GB",_byte_suffix_TB:"TB",_byte_suffix_PB:"PB",_date:"yyyy-MM-dd",_date_millisecond:"mm:ss SSS",_date_millisecond_full:"HH:mm:ss SSS",_date_second:"HH:mm:ss",_date_second_full:"HH:mm:ss",_date_minute:"HH:mm",_date_minute_full:"HH:mm - MMM dd, yyyy",_date_hour:"HH:mm",_date_hour_full:"HH:mm - MMM dd, yyyy",_date_day:"MMM dd",_date_day_full:"MMM dd, yyyy",_date_week:"ww",_date_week_full:"MMM dd, yyyy",_date_month:"MMM",_date_month_full:"MMM, yyyy",_date_year:"yyyy",_duration_millisecond:"SSS",_duration_millisecond_second:"ss.SSS",_duration_millisecond_minute:"mm:ss SSS",_duration_millisecond_hour:"hh:mm:ss SSS",_duration_millisecond_day:"d'd' mm:ss SSS",_duration_millisecond_week:"d'd' mm:ss SSS",_duration_millisecond_month:"M'm' dd'd' mm:ss SSS",_duration_millisecond_year:"y'y' MM'm' dd'd' mm:ss SSS",_duration_second:"ss",_duration_second_minute:"mm:ss",_duration_second_hour:"hh:mm:ss",_duration_second_day:"d'd' hh:mm:ss",_duration_second_week:"d'd' hh:mm:ss",_duration_second_month:"M'm' dd'd' hh:mm:ss",_duration_second_year:"y'y' MM'm' dd'd' hh:mm:ss",_duration_minute:"mm",_duration_minute_hour:"hh:mm",_duration_minute_day:"d'd' hh:mm",_duration_minute_week:"d'd' hh:mm",_duration_minute_month:"M'm' dd'd' hh:mm",_duration_minute_year:"y'y' MM'm' dd'd' hh:mm",_duration_hour:"hh'h'",_duration_hour_day:"d'd' hh'h'",_duration_hour_week:"d'd' hh'h'",_duration_hour_month:"M'm' dd'd' hh'h'",_duration_hour_year:"y'y' MM'm' dd'd' hh'h'",_duration_day:"d'd'",_duration_day_week:"d'd'",_duration_day_month:"M'm' dd'd'",_duration_day_year:"y'y' MM'm' dd'd'",_duration_week:"w'w'",_duration_week_month:"w'w'",_duration_week_year:"w'w'",_duration_month:"M'm'",_duration_month_year:"y'y' MM'm'",_duration_year:"y'y'",_era_ad:"AD",_era_bc:"BC",A:"",P:"",AM:"",PM:"","A.M.":"","P.M.":"",January:"",February:"",March:"",April:"",May:"",June:"",July:"",August:"",September:"",October:"",November:"",December:"",Jan:"",Feb:"",Mar:"",Apr:"","May(short)":"May",Jun:"",Jul:"",Aug:"",Sep:"",Oct:"",Nov:"",Dec:"",Sunday:"",Monday:"",Tuesday:"",Wednesday:"",Thursday:"",Friday:"",Saturday:"",Sun:"",Mon:"",Tue:"",Wed:"",Thu:"",Fri:"",Sat:"",_dateOrd:function(t){let e="th";if(t<11||t>13)switch(t%10){case 1:e="st";break;case 2:e="nd";break;case 3:e="rd";break}return e},"Zoom Out":"",Play:"",Stop:"",Legend:"","Press ENTER to toggle":"",Loading:"",Home:"",Chart:"","Serial chart":"","X/Y chart":"","Pie chart":"","Gauge chart":"","Radar chart":"","Sankey diagram":"","Flow diagram":"","Chord diagram":"","TreeMap chart":"","Force directed tree":"","Sliced chart":"",Series:"","Candlestick Series":"","OHLC Series":"","Column Series":"","Line Series":"","Pie Slice Series":"","Funnel Series":"","Pyramid Series":"","X/Y Series":"",Map:"","Press ENTER to zoom in":"","Press ENTER to zoom out":"","Use arrow keys to zoom in and out":"","Use plus and minus keys on your keyboard to zoom in and out":"",Export:"",Image:"",Data:"",Print:"","Press ENTER or use arrow keys to navigate":"","Press ENTER to open":"","Press ENTER to print.":"","Press ENTER to export as %1.":"","(Press ESC to close this message)":"","Image Export Complete":"","Export operation took longer than expected. Something might have gone wrong.":"","Saved from":"",PNG:"",JPG:"",GIF:"",SVG:"",PDF:"",JSON:"",CSV:"",XLSX:"",HTML:"","Use TAB to select grip buttons or left and right arrows to change selection":"","Use left and right arrows to move selection":"","Use left and right arrows to move left selection":"","Use left and right arrows to move right selection":"","Use TAB select grip buttons or up and down arrows to change selection":"","Use up and down arrows to move selection":"","Use up and down arrows to move lower selection":"","Use up and down arrows to move upper selection":"","From %1 to %2":"","From %1":"","To %1":"","No parser available for file: %1":"","Error parsing file: %1":"","Unable to load file: %1":"","Invalid date":"",Close:"",Minimize:""};class $we extends Ei{_setDefaults(){this.setPrivate("defaultLocale",qU),super._setDefaults()}translate(e,n,...i){n||(n=this._root.locale||this.getPrivate("defaultLocale"));let s=e,r=n[e];if(r===null)s="";else if(r!=null)r&&(s=r);else if(n!==this.getPrivate("defaultLocale"))return this.translate(e,this.getPrivate("defaultLocale"),...i);if(i.length)for(let a=i.length,o=0;o<a;++o)s=s.split("%"+(o+1)).join(i[o]);return s}translateAny(e,n,...i){return this.translate(e,n,...i)}setTranslationAny(e,n,i){const s=i||this._root.locale;s[e]=n}setTranslationsAny(e,n){rn(e,(i,s)=>{this.setTranslationAny(i,s,n)})}translateEmpty(e,n,...i){let s=this.translate(e,n,...i);return s==e?"":s}translateFunc(e,n){return this._root.locale[e]?this._root.locale[e]:n!==this.getPrivate("defaultLocale")?this.translateFunc(e,this.getPrivate("defaultLocale")):()=>""}translateAll(e,n){return this.isDefault()?e:fk(e,i=>this.translate(i,n))}isDefault(){return this.getPrivate("defaultLocale")===this._root.locale}}class j0{constructor(e,n){if(Object.defineProperty(this,"_root",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_rules",{enumerable:!0,configurable:!0,writable:!0,value:{}}),this._root=e,!n)throw new Error("You cannot use `new Class()`, instead use `Class.new()`")}static new(e){const n=new this(e,!0);return n.setupDefaultRules(),n}setupDefaultRules(){}_lookupRules(e){return this._rules[e]}ruleRaw(e,n=[]){let i=this._rules[e];i||(i=this._rules[e]=[]),n.sort(ja);const{index:s,found:r}=gk(i,a=>{const o=ja(a.tags.length,n.length);return o===0?WU(a.tags,n,ja):o});if(r)return i[s].template;{const a=Sn.new({});return i.splice(s,0,{tags:n,template:a}),a}}rule(e,n=[]){return this.ruleRaw(e,n)}}function it(t,e,n,i){t.set(e,n.get(i)),n.on(i,s=>{t.set(e,s)})}class Uwe extends j0{setupDefaultRules(){super.setupDefaultRules();const e=this._root.language,n=this._root.interfaceColors,i=this._root.horizontalLayout,s=this._root.verticalLayout,r=this.rule.bind(this);r("InterfaceColors").setAll({stroke:tt.fromHex(15066597),fill:tt.fromHex(15987699),primaryButton:tt.fromHex(6788316),primaryButtonHover:tt.fromHex(6779356),primaryButtonDown:tt.fromHex(6872182),primaryButtonActive:tt.fromHex(6872182),primaryButtonDisabled:tt.fromHex(14342874),primaryButtonTextDisabled:tt.fromHex(16777215),primaryButtonText:tt.fromHex(16777215),primaryButtonStroke:tt.fromHex(16777215),secondaryButton:tt.fromHex(14277081),secondaryButtonHover:tt.fromHex(10724259),secondaryButtonDown:tt.fromHex(9276813),secondaryButtonActive:tt.fromHex(15132390),secondaryButtonText:tt.fromHex(0),secondaryButtonStroke:tt.fromHex(16777215),grid:tt.fromHex(0),background:tt.fromHex(16777215),alternativeBackground:tt.fromHex(0),text:tt.fromHex(0),alternativeText:tt.fromHex(16777215),disabled:tt.fromHex(11382189),positive:tt.fromHex(5288704),negative:tt.fromHex(11730944)});{const a=r("ColorSet");a.setAll({passOptions:{hue:.05,saturation:0,lightness:0},colors:[tt.fromHex(6797276)],step:1,reuse:!1,startIndex:0}),a.setPrivate("currentStep",0),a.setPrivate("currentPass",0)}r("Entity").setAll({stateAnimationDuration:0,stateAnimationEasing:ud(dl)}),r("Component").setAll({interpolationDuration:0,interpolationEasing:ud(dl)}),r("Sprite").setAll({visible:!0,scale:1,opacity:1,rotation:0,position:"relative",tooltipX:ct,tooltipY:ct,tooltipPosition:"fixed",isMeasured:!0}),r("Sprite").states.create("default",{visible:!0,opacity:1}),r("Container").setAll({interactiveChildren:!0,setStateOnChildren:!1}),r("Graphics").setAll({strokeWidth:1}),r("Chart").setAll({width:Fe,height:Fe,interactiveChildren:!1}),r("ZoomableContainer").setAll({width:Fe,height:Fe,wheelable:!0,pinchZoom:!0,maxZoomLevel:32,minZoomLevel:1,zoomStep:2,animationEasing:ud(dl),animationDuration:600,maxPanOut:.4}),r("Sprite",["horizontal","center"]).setAll({centerX:ct,x:ct}),r("Sprite",["vertical","center"]).setAll({centerY:ct,y:ct}),r("Container",["horizontal","layout"]).setAll({layout:i}),r("Container",["vertical","layout"]).setAll({layout:s}),r("Pattern").setAll({repetition:"repeat",width:50,height:50,rotation:0,fillOpacity:1}),r("LinePattern").setAll({gap:6,colorOpacity:1,width:49,height:49}),r("RectanglePattern").setAll({gap:6,checkered:!1,centered:!0,maxWidth:5,maxHeight:5,width:48,height:48,strokeWidth:0}),r("CirclePattern").setAll({gap:5,checkered:!1,centered:!1,radius:3,strokeWidth:0,width:45,height:45}),r("GrainPattern").setAll({width:200,height:200,colors:[tt.fromHex(0)],size:1,horizontalGap:0,verticalGap:0,density:1,minOpacity:0,maxOpacity:.2});{const a=r("PatternSet");a.setAll({step:1}),it(a,"color",n,"stroke")}r("LinearGradient").setAll({rotation:90}),r("Legend").setAll({fillField:"fill",strokeField:"stroke",nameField:"name",layout:gc.new(this._root,{}),layer:30,clickTarget:"itemContainer"}),r("Container",["legend","item","itemcontainer"]).setAll({paddingLeft:5,paddingRight:5,paddingBottom:5,paddingTop:5,layout:i,setStateOnChildren:!0,interactiveChildren:!1,ariaChecked:!0,focusable:!0,ariaLabel:e.translate("Press ENTER to toggle"),role:"checkbox"});{const a=r("Rectangle",["legend","item","background"]);a.setAll({fillOpacity:0}),it(a,"fill",n,"background")}r("Container",["legend","marker"]).setAll({setStateOnChildren:!0,centerY:ct,paddingLeft:0,paddingRight:0,paddingBottom:0,paddingTop:0,width:18,height:18}),r("RoundedRectangle",["legend","marker","rectangle"]).setAll({width:Fe,height:Fe,cornerRadiusBL:3,cornerRadiusTL:3,cornerRadiusBR:3,cornerRadiusTR:3});{const a=r("RoundedRectangle",["legend","marker","rectangle"]).states.create("disabled",{});it(a,"fill",n,"disabled"),it(a,"stroke",n,"disabled")}r("Label",["legend","label"]).setAll({centerY:ct,marginLeft:5,paddingRight:0,paddingLeft:0,paddingTop:0,paddingBottom:0,populateText:!0});{const a=r("Label",["legend","label"]).states.create("disabled",{});it(a,"fill",n,"disabled")}r("Label",["legend","value","label"]).setAll({centerY:ct,marginLeft:5,paddingRight:0,paddingLeft:0,paddingTop:0,paddingBottom:0,width:50,centerX:Fe,populateText:!0});{const a=r("Label",["legend","value","label"]).states.create("disabled",{});it(a,"fill",n,"disabled")}r("HeatLegend").setAll({stepCount:1}),r("RoundedRectangle",["heatlegend","marker"]).setAll({cornerRadiusTR:0,cornerRadiusBR:0,cornerRadiusTL:0,cornerRadiusBL:0}),r("RoundedRectangle",["vertical","heatlegend","marker"]).setAll({height:Fe,width:15}),r("RoundedRectangle",["horizontal","heatlegend","marker"]).setAll({width:Fe,height:15}),r("HeatLegend",["vertical"]).setAll({height:Fe}),r("HeatLegend",["horizontal"]).setAll({width:Fe}),r("Label",["heatlegend","start"]).setAll({paddingLeft:5,paddingRight:5,paddingTop:5,paddingBottom:5}),r("Label",["heatlegend","end"]).setAll({paddingLeft:5,paddingRight:5,paddingTop:5,paddingBottom:5});{const a=r("Label");a.setAll({paddingTop:8,paddingBottom:8,paddingLeft:10,paddingRight:10,fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',fontSize:"1em",populateText:!1}),it(a,"fill",n,"text")}r("RadialLabel").setAll({textType:"regular",centerY:ct,centerX:ct,inside:!1,radius:0,baseRadius:Fe,orientation:"auto",textAlign:"center"}),r("EditableLabel").setAll({editOn:"click",themeTags:["editablelabel"],multiLine:!0}),r("RoundedRectangle",["editablelabel","background"]).setAll({fillOpacity:0,fill:tt.fromHex(0),cornerRadiusBL:3,cornerRadiusBR:3,cornerRadiusTL:3,cornerRadiusTR:3,strokeOpacity:0,stroke:tt.fromHex(0)}),r("RoundedRectangle",["editablelabel","background"]).states.create("active",{strokeOpacity:.2}),r("RoundedRectangle").setAll({cornerRadiusTL:8,cornerRadiusBL:8,cornerRadiusTR:8,cornerRadiusBR:8}),r("PointedRectangle").setAll({pointerBaseWidth:15,pointerLength:10,cornerRadius:8}),r("Slice").setAll({shiftRadius:0,dRadius:0,dInnerRadius:0});{const a=r("Tick");a.setAll({strokeOpacity:.15,isMeasured:!1,length:4.5,position:"absolute",crisp:!0}),it(a,"stroke",n,"grid")}r("Bullet").setAll({locationX:.5,locationY:.5}),r("Tooltip").setAll({position:"absolute",getFillFromSprite:!0,getStrokeFromSprite:!1,autoTextColor:!0,paddingTop:9,paddingBottom:8,paddingLeft:10,paddingRight:10,marginBottom:5,pointerOrientation:"vertical",centerX:ct,centerY:ct,animationEasing:ud(dl),exportable:!1}),r("Polygon").setAll({animationEasing:ud(dl)}),r("PointedRectangle",["tooltip","background"]).setAll({strokeOpacity:.9,cornerRadius:4,pointerLength:4,pointerBaseWidth:8,fillOpacity:.9,stroke:tt.fromHex(16777215)});{const a=r("Label",["tooltip"]);a.setAll({role:"tooltip",populateText:!0,paddingRight:0,paddingTop:0,paddingLeft:0,paddingBottom:0}),it(a,"fill",n,"alternativeText")}r("Button").setAll({paddingTop:8,paddingBottom:8,paddingLeft:10,paddingRight:10,interactive:!0,layout:i,interactiveChildren:!1,setStateOnChildren:!0,focusable:!0}),r("Button").states.create("hover",{}),r("Button").states.create("down",{stateAnimationDuration:0}),r("Button").states.create("active",{}),r("Button").states.create("disabled",{forceInactive:!0});{const a=r("RoundedRectangle",["button","background"]);it(a,"fill",n,"primaryButton"),it(a,"stroke",n,"primaryButtonStroke")}{const a=r("RoundedRectangle",["button","background"]).states.create("hover",{});it(a,"fill",n,"primaryButtonHover")}{const a=r("RoundedRectangle",["button","background"]).states.create("down",{stateAnimationDuration:0});it(a,"fill",n,"primaryButtonDown")}{const a=r("RoundedRectangle",["button","background"]).states.create("active",{});it(a,"fill",n,"primaryButtonActive")}{const a=r("RoundedRectangle",["button","background"]).states.create("disabled",{});it(a,"fill",n,"primaryButtonDisabled")}{const a=r("Graphics",["button","icon"]).states.create("disabled",{});it(a,"fill",n,"primaryButtonTextDisabled")}{const a=r("Label",["button"]).states.create("disabled",{});it(a,"fill",n,"primaryButtonTextDisabled")}{const a=r("Graphics",["button","icon"]);a.setAll({forceInactive:!0}),it(a,"stroke",n,"primaryButtonText")}{const a=r("Label",["button"]);it(a,"fill",n,"primaryButtonText")}r("Button",["zoom"]).setAll({paddingTop:18,paddingBottom:18,paddingLeft:12,paddingRight:12,centerX:46,centerY:-10,y:0,x:Fe,role:"button",ariaLabel:e.translate("Zoom Out"),layer:30});{const a=r("RoundedRectangle",["background","button","zoom"]);a.setAll({cornerRadiusBL:40,cornerRadiusBR:40,cornerRadiusTL:40,cornerRadiusTR:40}),it(a,"fill",n,"primaryButton")}{const a=r("RoundedRectangle",["background","button","zoom"]).states.create("hover",{});it(a,"fill",n,"primaryButtonHover")}{const a=r("RoundedRectangle",["background","button","zoom"]).states.create("down",{stateAnimationDuration:0});it(a,"fill",n,"primaryButtonDown")}{const a=r("Graphics",["icon","button","zoom"]);a.setAll({crisp:!0,strokeOpacity:.7,draw:o=>{o.moveTo(0,0),o.lineTo(12,0)}}),it(a,"stroke",n,"primaryButtonText")}r("Button",["resize"]).setAll({paddingTop:9,paddingBottom:9,paddingLeft:13,paddingRight:13,draggable:!0,centerX:ct,centerY:ct,position:"absolute",role:"slider",ariaValueMin:"0",ariaValueMax:"100",ariaLabel:e.translate("Use up and down arrows to move selection")});{const a=r("RoundedRectangle",["background","resize","button"]);a.setAll({cornerRadiusBL:40,cornerRadiusBR:40,cornerRadiusTL:40,cornerRadiusTR:40}),it(a,"fill",n,"secondaryButton"),it(a,"stroke",n,"secondaryButtonStroke")}{const a=r("RoundedRectangle",["background","resize","button"]).states.create("hover",{});it(a,"fill",n,"secondaryButtonHover")}{const a=r("RoundedRectangle",["background","resize","button"]).states.create("down",{stateAnimationDuration:0});it(a,"fill",n,"secondaryButtonDown")}{const a=r("Graphics",["resize","button","icon"]);a.setAll({interactive:!1,crisp:!0,strokeOpacity:.5,draw:o=>{o.moveTo(0,.5),o.lineTo(0,12.5),o.moveTo(4,.5),o.lineTo(4,12.5)}}),it(a,"stroke",n,"secondaryButtonText")}r("Button",["resize","vertical"]).setAll({rotation:90,cursorOverStyle:"ns-resize"}),r("Button",["resize","horizontal"]).setAll({cursorOverStyle:"ew-resize"}),r("Button",["play"]).setAll({paddingTop:13,paddingBottom:13,paddingLeft:14,paddingRight:14,ariaLabel:e.translate("Play"),toggleKey:"active"});{const a=r("RoundedRectangle",["play","background"]);a.setAll({strokeOpacity:.5,cornerRadiusBL:100,cornerRadiusBR:100,cornerRadiusTL:100,cornerRadiusTR:100}),it(a,"fill",n,"primaryButton")}{const a=r("Graphics",["play","icon"]);a.setAll({stateAnimationDuration:0,dx:1,draw:o=>{o.moveTo(0,-5),o.lineTo(8,0),o.lineTo(0,5),o.lineTo(0,-5)}}),it(a,"fill",n,"primaryButtonText")}r("Graphics",["play","icon"]).states.create("default",{stateAnimationDuration:0}),r("Graphics",["play","icon"]).states.create("active",{stateAnimationDuration:0,draw:a=>{a.moveTo(-4,-5),a.lineTo(-1,-5),a.lineTo(-1,5),a.lineTo(-4,5),a.lineTo(-4,-5),a.moveTo(4,-5),a.lineTo(1,-5),a.lineTo(1,5),a.lineTo(4,5),a.lineTo(4,-5)}}),r("Button",["switch"]).setAll({paddingTop:4,paddingBottom:4,paddingLeft:4,paddingRight:4,ariaLabel:e.translate("Press ENTER to toggle"),toggleKey:"active",width:40,height:24,layout:null});{const a=r("RoundedRectangle",["switch","background"]);a.setAll({strokeOpacity:.5,cornerRadiusBL:100,cornerRadiusBR:100,cornerRadiusTL:100,cornerRadiusTR:100}),it(a,"fill",n,"primaryButton")}{const a=r("Circle",["switch","icon"]);a.setAll({radius:8,centerY:0,centerX:0,dx:0}),it(a,"fill",n,"primaryButtonText")}r("Graphics",["switch","icon"]).states.create("active",{dx:16}),r("Scrollbar").setAll({start:0,end:1,layer:30,animationEasing:ud(dl)}),r("Scrollbar",["vertical"]).setAll({marginRight:13,marginLeft:13,minWidth:12,height:Fe}),r("Scrollbar",["horizontal"]).setAll({marginTop:13,marginBottom:13,minHeight:12,width:Fe}),this.rule("Button",["scrollbar"]).setAll({exportable:!1});{const a=r("RoundedRectangle",["scrollbar","main","background"]);a.setAll({cornerRadiusTL:8,cornerRadiusBL:8,cornerRadiusTR:8,cornerRadiusBR:8,fillOpacity:.8}),it(a,"fill",n,"fill")}{const a=r("RoundedRectangle",["scrollbar","thumb"]);a.setAll({role:"slider",ariaLive:"polite",position:"absolute",draggable:!0}),it(a,"fill",n,"secondaryButton")}{const a=r("RoundedRectangle",["scrollbar","thumb"]).states.create("hover",{});it(a,"fill",n,"secondaryButtonHover")}{const a=r("RoundedRectangle",["scrollbar","thumb"]).states.create("down",{stateAnimationDuration:0});it(a,"fill",n,"secondaryButtonDown")}r("RoundedRectangle",["scrollbar","thumb","vertical"]).setAll({x:ct,width:Fe,centerX:ct,ariaLabel:e.translate("Use up and down arrows to move selection")}),r("RoundedRectangle",["scrollbar","thumb","horizontal"]).setAll({y:ct,centerY:ct,height:Fe,ariaLabel:e.translate("Use left and right arrows to move selection")});{const a=r("PointedRectangle",["axis","tooltip","background"]);a.setAll({cornerRadius:0}),it(a,"fill",n,"alternativeBackground")}r("Label",["axis","tooltip"]).setAll({role:void 0}),r("Label",["axis","tooltip","y"]).setAll({textAlign:"right"}),r("Label",["axis","tooltip","y","opposite"]).setAll({textAlign:"left"}),r("Label",["axis","tooltip","x"]).setAll({textAlign:"center"}),r("Tooltip",["categoryaxis"]).setAll({labelText:"{category}"}),r("Star").setAll({spikes:5,innerRadius:5,radius:10}),r("Tooltip",["stock"]).setAll({paddingTop:6,paddingBottom:5,paddingLeft:7,paddingRight:7}),r("PointedRectangle",["tooltip","stock","axis"]).setAll({pointerLength:0,pointerBaseWidth:0,cornerRadius:3}),r("Label",["tooltip","stock"]).setAll({fontSize:"0.8em"}),r("SpriteResizer").setAll({rotationStep:10,isMeasured:!1}),r("Container",["resizer","grip"]).states.create("hover",{});{const a=r("RoundedRectangle",["resizer","grip"]);a.setAll({strokeOpacity:.7,strokeWidth:1,fillOpacity:1,width:12,height:12}),it(a,"fill",n,"background"),it(a,"stroke",n,"alternativeBackground")}{const a=r("RoundedRectangle",["resizer","grip","outline"]);a.setAll({strokeOpacity:0,fillOpacity:0,width:20,height:20}),a.states.create("hover",{fillOpacity:.3}),it(a,"fill",n,"alternativeBackground")}r("RoundedRectangle",["resizer","grip","left"]).setAll({cornerRadiusBL:0,cornerRadiusBR:0,cornerRadiusTL:0,cornerRadiusTR:0}),r("RoundedRectangle",["resizer","grip","right"]).setAll({cornerRadiusBL:0,cornerRadiusBR:0,cornerRadiusTL:0,cornerRadiusTR:0});{const a=r("Rectangle",["resizer","rectangle"]);a.setAll({strokeDasharray:[2,2],strokeOpacity:.5,strokeWidth:1}),it(a,"stroke",n,"alternativeBackground")}r("Graphics",["button","plus","icon"]).setAll({x:ct,y:ct,draw:a=>{a.moveTo(-4,0),a.lineTo(4,0),a.moveTo(0,-4),a.lineTo(0,4)}}),r("Graphics",["button","minus","icon"]).setAll({x:ct,y:ct,draw:a=>{a.moveTo(-4,0),a.lineTo(4,0)}}),r("Graphics",["button","home","icon"]).setAll({x:ct,y:ct,svgPath:"M 8 -1 L 6 -1 L 6 7 L 2 7 L 2 1 L -2 1 L -2 7 L -6 7 L -6 -1 L -8 -1 L 0 -9 L 8 -1 Z M 8 -1"}),r("Button",["zoomtools"]).setAll({marginTop:1,marginBottom:2}),r("ZoomTools").setAll({x:Fe,centerX:Fe,y:Fe,centerY:Fe,paddingRight:10,paddingBottom:10})}}class y1{constructor(e=1,n=0,i=0,s=1,r=0,a=0){Object.defineProperty(this,"a",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"b",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"c",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"d",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tx",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"ty",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.a=e,this.b=n,this.c=i,this.d=s,this.tx=r,this.ty=a}setTransform(e,n,i,s,r,a=1){this.a=Math.cos(r)*a,this.b=Math.sin(r)*a,this.c=-Math.sin(r)*a,this.d=Math.cos(r)*a,this.tx=e-(i*this.a+s*this.c),this.ty=n-(i*this.b+s*this.d)}apply(e){return{x:this.a*e.x+this.c*e.y+this.tx,y:this.b*e.x+this.d*e.y+this.ty}}applyInverse(e){const n=1/(this.a*this.d+this.c*-this.b);return{x:this.d*n*e.x+-this.c*n*e.y+(this.ty*this.c-this.tx*this.d)*n,y:this.a*n*e.y+-this.b*n*e.x+(-this.ty*this.a+this.tx*this.b)*n}}append(e){const n=this.a,i=this.b,s=this.c,r=this.d;this.a=e.a*n+e.b*s,this.b=e.a*i+e.b*r,this.c=e.c*n+e.d*s,this.d=e.c*i+e.d*r,this.tx=e.tx*n+e.ty*s+this.tx,this.ty=e.tx*i+e.ty*r+this.ty}prepend(e){const n=this.tx;if(e.a!==1||e.b!==0||e.c!==0||e.d!==1){const i=this.a,s=this.c;this.a=i*e.a+this.b*e.c,this.b=i*e.b+this.b*e.d,this.c=s*e.a+this.d*e.c,this.d=s*e.b+this.d*e.d}this.tx=n*e.a+this.ty*e.c+e.tx,this.ty=n*e.b+this.ty*e.d+e.ty}copyFrom(e){this.a=e.a,this.b=e.b,this.c=e.c,this.d=e.d,this.tx=e.tx,this.ty=e.ty}}var Hwe=function(){function t(e,n){var i=[],s=!0,r=!1,a=void 0;try{for(var o=e[Symbol.iterator](),l;!(s=(l=o.next()).done)&&(i.push(l.value),!(n&&i.length===n));s=!0);}catch(u){r=!0,a=u}finally{try{!s&&o.return&&o.return()}finally{if(r)throw a}}return i}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),hm=Math.PI*2,b1=function(e,n,i,s,r,a,o){var l=e.x,u=e.y;l*=n,u*=i;var d=s*l-r*u,c=r*l+s*u;return{x:d+a,y:c+o}},zwe=function(e,n){var i=n===1.5707963267948966?.551915024494:n===-1.5707963267948966?-.551915024494:1.3333333333333333*Math.tan(n/4),s=Math.cos(e),r=Math.sin(e),a=Math.cos(e+n),o=Math.sin(e+n);return[{x:s-r*i,y:r+s*i},{x:a+o*i,y:o-a*i},{x:a,y:o}]},gV=function(e,n,i,s){var r=e*s-n*i<0?-1:1,a=e*i+n*s;return a>1&&(a=1),a<-1&&(a=-1),r*Math.acos(a)},Wwe=function(e,n,i,s,r,a,o,l,u,d,c,f){var h=Math.pow(r,2),g=Math.pow(a,2),v=Math.pow(c,2),p=Math.pow(f,2),_=h*g-h*p-g*v;_<0&&(_=0),_/=h*p+g*v,_=Math.sqrt(_)*(o===l?-1:1);var b=_*r/a*f,x=_*-a/r*c,k=d*b-u*x+(e+i)/2,I=u*b+d*x+(n+s)/2,E=(c-b)/r,T=(f-x)/a,S=(-c-b)/r,w=(-f-x)/a,P=gV(1,0,E,T),C=gV(E,T,S,w);return l===0&&C>0&&(C-=hm),l===1&&C<0&&(C+=hm),[k,I,P,C]},Ywe=function(e){var n=e.px,i=e.py,s=e.cx,r=e.cy,a=e.rx,o=e.ry,l=e.xAxisRotation,u=l===void 0?0:l,d=e.largeArcFlag,c=d===void 0?0:d,f=e.sweepFlag,h=f===void 0?0:f,g=[];if(a===0||o===0)return[];var v=Math.sin(u*hm/360),p=Math.cos(u*hm/360),_=p*(n-s)/2+v*(i-r)/2,b=-v*(n-s)/2+p*(i-r)/2;if(_===0&&b===0)return[];a=Math.abs(a),o=Math.abs(o);var x=Math.pow(_,2)/Math.pow(a,2)+Math.pow(b,2)/Math.pow(o,2);x>1&&(a*=Math.sqrt(x),o*=Math.sqrt(x));var k=Wwe(n,i,s,r,a,o,c,h,v,p,_,b),I=Hwe(k,4),E=I[0],T=I[1],S=I[2],w=I[3],P=Math.abs(w)/(hm/4);Math.abs(1-P)<1e-7&&(P=1);var C=Math.max(Math.ceil(P),1);w/=C;for(var D=0;D<C;D++)g.push(zwe(S,w)),S+=w;return g.map(function(A){var N=b1(A[0],a,o,p,v,E,T),B=N.x,H=N.y,G=b1(A[1],a,o,p,v,E,T),z=G.x,X=G.y,W=b1(A[2],a,o,p,v,E,T),Z=W.x,ee=W.y;return{x1:B,y1:H,x2:z,y2:X,x:Z,y:ee}})};function Gwe(t,e,n){if(e!==n)throw new Error("Required "+n+" arguments for "+t+" but got "+e)}function Bf(t,e,n){if(e<n)throw new Error("Required at least "+n+" arguments for "+t+" but got "+e)}function rr(t,e,n){if(Bf(t,e,n),e%n!==0)throw new Error("Arguments for "+t+" must be in pairs of "+n)}function qwe(t){for(let e=0;e<t.length;e+=7){let n=e+3,i=t[n];if(i.length>1){const s=/^([01])([01])(.*)$/.exec(i);s!==null&&(t.splice(n,0,s[1]),++n,t.splice(n,0,s[2]),++n,s[3].length>0?t[n]=s[3]:t.splice(n,1))}if(++n,i=t[n],i.length>1){const s=/^([01])(.+)$/.exec(i);s!==null&&(t.splice(n,0,s[1]),++n,t[n]=s[2])}}}function pV(t){if(t===0||t===1)return t;throw new Error("Flag must be 0 or 1")}function Xwe(t){const e=[0,0,0];for(let n=0;n<24;n++)e[n%3]<<=1,e[n%3]|=t&1,t>>=1;return(e[0]|0)+(e[1]<<8)+(e[2]<<16)}function cp(t,e){for(;!(t.interactive&&!e(t));)if(t._parent)t=t._parent;else break}function Kwe(t,e,n){return Nn(t,pk(e),i=>{const s=NU(i);let r=i.touches;r?(r.length==0&&(r=i.changedTouches),n(mk(r),s)):n([i],s)})}function _V(t){const e=document.createElement("canvas");e.width=1,e.height=1;const n=e.getContext("2d",{willReadFrequently:!0});n.drawImage(t,0,0,1,1);try{return n.getImageData(0,0,1,1),!1}catch{return console.warn('Image "'+t.src+'" is loaded from different host and is not covered by CORS policy. For more information about the implications read here: https://www.amcharts.com/docs/v5/concepts/cors'),!0}}function jf(t){t.width=0,t.height=0,t.style.width="0px",t.style.height="0px"}function yV(t){return Math.floor(t)+.5}class Qwe{constructor(){Object.defineProperty(this,"_x",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_y",{enumerable:!0,configurable:!0,writable:!0,value:0})}get x(){return this._x}get y(){return this._y}set x(e){this._x=e}set y(e){this._y=e}}class $0 extends N0{constructor(e){super(),Object.defineProperty(this,"_layer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"mask",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"visible",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"exportable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"interactive",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"inactive",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"wheelable",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"cancelTouch",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"isMeasured",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"buttonMode",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"alpha",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"compoundAlpha",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"angle",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"scale",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"crisp",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"pivot",{enumerable:!0,configurable:!0,writable:!0,value:new Qwe}),Object.defineProperty(this,"filter",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cursorOverStyle",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_replacedCursorStyle",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_localMatrix",{enumerable:!0,configurable:!0,writable:!0,value:new y1}),Object.defineProperty(this,"_matrix",{enumerable:!0,configurable:!0,writable:!0,value:new y1}),Object.defineProperty(this,"_uMatrix",{enumerable:!0,configurable:!0,writable:!0,value:new y1}),Object.defineProperty(this,"_renderer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_parent",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_localBounds",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_bounds",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_colorId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._renderer=e}subStatus(e){return{inactive:this.inactive==null?e.inactive:this.inactive,layer:this._layer||e.layer}}_dispose(){this._renderer._removeObject(this),this.getLayer().dirty=!0}getCanvas(){return this.getLayer().view}getLayer(){let e=this;for(;;){if(e._layer)return e._layer;if(e._parent)e=e._parent;else return this._renderer.defaultLayer}}setLayer(e,n){e==null?this._layer=void 0:(this._layer=this._renderer.getLayer(e,!0),this._layer.visible=!0,this._layer.margin=n,n&&pd(this._layer.view,!1),this._renderer._ghostLayer.setMargin(this._renderer.layers),this._parent&&this._parent.registerChildLayer(this._layer),this._layer.dirty=!0,this._renderer.resizeLayer(this._layer),this._renderer.resizeGhost())}markDirtyLayer(){this.getLayer().dirty=!0}clear(){this.invalidateBounds()}invalidateBounds(){this._localBounds=void 0}_addBounds(e){}_getColorId(){return this._colorId===void 0&&(this._colorId=this._renderer.paintId(this)),this._colorId}_isInteractive(e){return!e.inactive&&(this.interactive||this._renderer._forceInteractive>0)}_isInteractiveMask(e){return this._isInteractive(e)}contains(e){for(;;){if(e===this)return!0;if(e._parent)e=e._parent;else return!1}}toGlobal(e){return this._matrix.apply(e)}toLocal(e){return this._matrix.applyInverse(e)}getLocalMatrix(){return this._uMatrix.setTransform(0,0,this.pivot.x,this.pivot.y,this.angle*Math.PI/180,this.scale),this._uMatrix}getLocalBounds(){return this._localBounds||(this._localBounds={left:1e7,top:1e7,right:-1e7,bottom:-1e7},this._addBounds(this._localBounds)),this._localBounds}getAdjustedBounds(e){this._setMatrix();const n=this.getLocalMatrix(),i=n.apply({x:e.left,y:e.top}),s=n.apply({x:e.right,y:e.top}),r=n.apply({x:e.right,y:e.bottom}),a=n.apply({x:e.left,y:e.bottom});return{left:Math.min(i.x,s.x,r.x,a.x),top:Math.min(i.y,s.y,r.y,a.y),right:Math.max(i.x,s.x,r.x,a.x),bottom:Math.max(i.y,s.y,r.y,a.y)}}on(e,n,i){return this.interactive?this._renderer._addEvent(this,e,n,i):new Di(()=>{})}_setMatrix(){this._localMatrix.setTransform(this.x,this.y,this.pivot.x,this.pivot.y,this.angle*Math.PI/180,this.scale),this._matrix.copyFrom(this._localMatrix),this._parent&&this._matrix.prepend(this._parent._matrix)}_transform(e,n){const i=this._matrix;let s=i.tx*n,r=i.ty*n;this.crisp&&(s=yV(s),r=yV(r)),e.setTransform(i.a*n,i.b*n,i.c*n,i.d*n,s,r)}_transformMargin(e,n,i){const s=this._matrix;e.setTransform(s.a*n,s.b*n,s.c*n,s.d*n,(s.tx+i.left)*n,(s.ty+i.top)*n)}_transformLayer(e,n,i){i.margin?this._transformMargin(e,i.scale||n,i.margin):this._transform(e,i.scale||n)}render(e){if(this.visible&&(this.exportable!==!1||!this._renderer._omitTainted)){this._setMatrix();const n=this.subStatus(e),i=this._renderer.resolution,s=this._renderer.layers,r=this._renderer._ghostLayer,a=r.context,o=this.mask;o&&o._setMatrix(),oe(s,l=>{if(l){const u=l.context;u.save(),o&&(o._transformLayer(u,i,l),o._runPath(u),u.clip()),u.globalAlpha=this.compoundAlpha*this.alpha,this._transformLayer(u,i,l),this.filter&&(u.filter=this.filter)}}),a.save(),o&&this._isInteractiveMask(n)&&(o._transformMargin(a,i,r.margin),o._runPath(a),a.clip()),this._transformMargin(a,i,r.margin),this._render(n),a.restore(),oe(s,l=>{l&&l.context.restore()})}}_render(e){this.exportable===!1&&(e.layer.tainted=!0)}hovering(){return this._renderer._hovering.has(this)}dragging(){return this._renderer._dragging.some(e=>e.value===this)}shouldCancelTouch(){const e=this._renderer;return e.tapToActivate&&!e._touchActive?!1:this.cancelTouch?!0:this._parent?this._parent.shouldCancelTouch():!1}}class Jwe extends $0{constructor(){super(...arguments),Object.defineProperty(this,"interactiveChildren",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"_childLayers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_children",{enumerable:!0,configurable:!0,writable:!0,value:[]})}_isInteractiveMask(e){return this.interactiveChildren||super._isInteractiveMask(e)}addChild(e){e._parent=this,this._children.push(e),e._layer&&this.registerChildLayer(e._layer)}addChildAt(e,n){e._parent=this,this._children.splice(n,0,e),e._layer&&this.registerChildLayer(e._layer)}removeChild(e){e._parent=void 0,ns(this._children,e)}_render(e){super._render(e);const n=this._renderer;this.interactive&&this.interactiveChildren&&++n._forceInteractive,oe(this._children,i=>{i.compoundAlpha=this.compoundAlpha*this.alpha,i.render(e)}),this.interactive&&this.interactiveChildren&&--n._forceInteractive}registerChildLayer(e){this._childLayers||(this._childLayers=[]),uv(this._childLayers,e),this._parent&&this._parent.registerChildLayer(e)}markDirtyLayer(e=!1){super.markDirtyLayer(),e&&this._childLayers&&oe(this._childLayers,n=>n.dirty=!0)}_dispose(){super._dispose(),this._childLayers&&oe(this._childLayers,e=>{e.dirty=!0})}}function fi(t,e){t.left=Math.min(t.left,e.x),t.top=Math.min(t.top,e.y),t.right=Math.max(t.right,e.x),t.bottom=Math.max(t.bottom,e.y)}class Vi{colorize(e,n){}colorizeGhost(e,n){this.colorize(e,n)}path(e){}pathGhost(e){this.path(e)}addBounds(e){}}class Zwe extends Vi{colorize(e,n){e.beginPath()}}class w1 extends Vi{constructor(e){super(),Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,writable:!0,value:e})}colorize(e,n){n!==void 0?e.fillStyle=n:e.fillStyle=this.color}}class e1e extends Vi{constructor(e){super(),Object.defineProperty(this,"clearShadow",{enumerable:!0,configurable:!0,writable:!0,value:e})}colorize(e,n){e.fill(),this.clearShadow&&(e.shadowColor="",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0)}}class t1e extends Vi{colorize(e,n){e.stroke()}}class x1 extends Vi{constructor(e,n,i,s){super(),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(this,"lineJoin",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"lineCap",{enumerable:!0,configurable:!0,writable:!0,value:s})}colorize(e,n){n!==void 0?e.strokeStyle=n:e.strokeStyle=this.color,e.lineWidth=this.width,this.lineJoin&&(e.lineJoin=this.lineJoin),this.lineCap&&(e.lineCap=this.lineCap)}}class n1e extends Vi{constructor(e){super(),Object.defineProperty(this,"dash",{enumerable:!0,configurable:!0,writable:!0,value:e})}colorize(e,n){e.setLineDash(this.dash)}}class i1e extends Vi{constructor(e){super(),Object.defineProperty(this,"dashOffset",{enumerable:!0,configurable:!0,writable:!0,value:e})}colorize(e,n){e.lineDashOffset=this.dashOffset}}class s1e extends Vi{constructor(e,n,i,s){super(),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,writable:!0,value:s})}path(e){e.rect(this.x,this.y,this.width,this.height)}addBounds(e){const n=this.x,i=this.y,s=n+this.width,r=i+this.height;fi(e,{x:n,y:i}),fi(e,{x:s,y:i}),fi(e,{x:n,y:r}),fi(e,{x:s,y:r})}}class r1e extends Vi{constructor(e,n,i){super(),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(this,"radius",{enumerable:!0,configurable:!0,writable:!0,value:i})}path(e){e.moveTo(this.x+this.radius,this.y),e.arc(this.x,this.y,this.radius,0,2*Math.PI)}addBounds(e){fi(e,{x:this.x-this.radius,y:this.y-this.radius}),fi(e,{x:this.x+this.radius,y:this.y+this.radius})}}class a1e extends Vi{constructor(e,n,i,s){super(),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(this,"radiusX",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"radiusY",{enumerable:!0,configurable:!0,writable:!0,value:s})}path(e){e.ellipse(0,0,this.radiusX,this.radiusY,0,0,Math.PI*2)}addBounds(e){fi(e,{x:this.x-this.radiusX,y:this.y-this.radiusY}),fi(e,{x:this.x+this.radiusX,y:this.y+this.radiusY})}}class o1e extends Vi{constructor(e,n,i,s,r,a){super(),Object.defineProperty(this,"cx",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"cy",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(this,"radius",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"startAngle",{enumerable:!0,configurable:!0,writable:!0,value:s}),Object.defineProperty(this,"endAngle",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"anticlockwise",{enumerable:!0,configurable:!0,writable:!0,value:a})}path(e){this.radius>0&&e.arc(this.cx,this.cy,this.radius,this.startAngle,this.endAngle,this.anticlockwise)}addBounds(e){let n=yk(this.cx,this.cy,this.startAngle*dm,this.endAngle*dm,this.radius);fi(e,{x:n.left,y:n.top}),fi(e,{x:n.right,y:n.bottom})}}class l1e extends Vi{constructor(e,n,i,s,r){super(),Object.defineProperty(this,"x1",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"y1",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(this,"x2",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"y2",{enumerable:!0,configurable:!0,writable:!0,value:s}),Object.defineProperty(this,"radius",{enumerable:!0,configurable:!0,writable:!0,value:r})}path(e){this.radius>0&&e.arcTo(this.x1,this.y1,this.x2,this.y2,this.radius)}addBounds(e){}}class u1e extends Vi{constructor(e,n){super(),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,writable:!0,value:n})}path(e){e.lineTo(this.x,this.y)}addBounds(e){fi(e,{x:this.x,y:this.y})}}class c1e extends Vi{constructor(e,n){super(),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,writable:!0,value:n})}path(e){e.moveTo(this.x,this.y)}addBounds(e){fi(e,{x:this.x,y:this.y})}}class d1e extends Vi{path(e){e.closePath()}}class h1e extends Vi{constructor(e,n,i,s,r,a){super(),Object.defineProperty(this,"cpX",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"cpY",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(this,"cpX2",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"cpY2",{enumerable:!0,configurable:!0,writable:!0,value:s}),Object.defineProperty(this,"toX",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"toY",{enumerable:!0,configurable:!0,writable:!0,value:a})}path(e){e.bezierCurveTo(this.cpX,this.cpY,this.cpX2,this.cpY2,this.toX,this.toY)}addBounds(e){fi(e,{x:this.cpX,y:this.cpY}),fi(e,{x:this.cpX2,y:this.cpY2}),fi(e,{x:this.toX,y:this.toY})}}class f1e extends Vi{constructor(e,n,i,s){super(),Object.defineProperty(this,"cpX",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"cpY",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(this,"toX",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"toY",{enumerable:!0,configurable:!0,writable:!0,value:s})}path(e){e.quadraticCurveTo(this.cpX,this.cpY,this.toX,this.toY)}addBounds(e){fi(e,{x:this.cpX,y:this.cpY}),fi(e,{x:this.toX,y:this.toY})}}class m1e extends Vi{constructor(e,n,i,s,r){super(),Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"blur",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(this,"offsetX",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"offsetY",{enumerable:!0,configurable:!0,writable:!0,value:s}),Object.defineProperty(this,"opacity",{enumerable:!0,configurable:!0,writable:!0,value:r})}colorize(e,n){this.opacity&&(e.fillStyle=this.color),e.shadowColor=this.color,e.shadowBlur=this.blur,e.shadowOffsetX=this.offsetX,e.shadowOffsetY=this.offsetY}colorizeGhost(e,n){}}class v1e extends Vi{constructor(e,n,i,s,r){super(),Object.defineProperty(this,"image",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,writable:!0,value:s}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,writable:!0,value:r})}path(e){e.drawImage(this.image,this.x,this.y,this.width,this.height)}addBounds(e){fi(e,{x:this.x,y:this.y}),fi(e,{x:this.width,y:this.height})}}class g1e extends $0{constructor(){super(...arguments),Object.defineProperty(this,"_operations",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"blendMode",{enumerable:!0,configurable:!0,writable:!0,value:py.NORMAL}),Object.defineProperty(this,"_hasShadows",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_fillAlpha",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_strokeAlpha",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}clear(){super.clear(),this._operations.length=0}_pushOp(e){this._operations.push(e)}beginFill(e,n=1){this._fillAlpha=n,e?e instanceof tt?this._pushOp(new w1(e.toCSS(n))):(this.isMeasured=!0,this._pushOp(new w1(e))):this._pushOp(new w1("rgba(0, 0, 0, "+n+")"))}endFill(){this._pushOp(new e1e(this._hasShadows))}endStroke(){this._pushOp(new t1e)}beginPath(){this._pushOp(new Zwe)}lineStyle(e=0,n,i=1,s,r){this._strokeAlpha=i,n?n instanceof tt?this._pushOp(new x1(e,n.toCSS(i),s,r)):this._pushOp(new x1(e,n,s,r)):this._pushOp(new x1(e,"rgba(0, 0, 0, "+i+")",s,r))}setLineDash(e){this._pushOp(new n1e(e||[]))}setLineDashOffset(e=0){this._pushOp(new i1e(e))}drawRect(e,n,i,s){this._pushOp(new s1e(e,n,i,s))}drawCircle(e,n,i){this._pushOp(new r1e(e,n,i))}drawEllipse(e,n,i,s){this._pushOp(new a1e(e,n,i,s))}arc(e,n,i,s,r,a=!1){this._pushOp(new o1e(e,n,i,s,r,a))}arcTo(e,n,i,s,r){this._pushOp(new l1e(e,n,i,s,r))}lineTo(e,n){this._pushOp(new u1e(e,n))}moveTo(e,n){this._pushOp(new c1e(e,n))}bezierCurveTo(e,n,i,s,r,a){this._pushOp(new h1e(e,n,i,s,r,a))}quadraticCurveTo(e,n,i,s){this._pushOp(new f1e(e,n,i,s))}closePath(){this._pushOp(new d1e)}shadow(e,n=0,i=0,s=0,r){this._hasShadows=!0,this._pushOp(new m1e(r?e.toCSS(r):e.toCSS(this._fillAlpha||this._strokeAlpha),n,i,s))}image(e,n,i,s,r){this._pushOp(new v1e(e,n,i,s,r))}svgPath(e){let n=0,i=0,s=null,r=null,a=null,o=null;const l=/([MmZzLlHhVvCcSsQqTtAa])([^MmZzLlHhVvCcSsQqTtAa]*)/g,u=/[\u0009\u0020\u000A\u000C\u000D]*([\+\-]?[0-9]*\.?[0-9]+(?:[eE][\+\-]?[0-9]+)?)[\u0009\u0020\u000A\u000C\u000D]*,?/g;let d;for(;(d=l.exec(e))!==null;){const c=d[1],f=d[2],h=[];for(;(d=u.exec(f))!==null;)h.push(d[1]);switch(c!=="S"&&c!=="s"&&c!=="C"&&c!=="c"&&(s=null,r=null),c!=="Q"&&c!=="q"&&c!=="T"&&c!=="t"&&(a=null,o=null),c){case"M":rr(c,h.length,2),n=+h[0],i=+h[1],this.moveTo(n,i);for(let v=2;v<h.length;v+=2)n=+h[v],i=+h[v+1],this.lineTo(n,i);break;case"m":rr(c,h.length,2),n+=+h[0],i+=+h[1],this.moveTo(n,i);for(let v=2;v<h.length;v+=2)n+=+h[v],i+=+h[v+1],this.lineTo(n,i);break;case"L":rr(c,h.length,2);for(let v=0;v<h.length;v+=2)n=+h[v],i=+h[v+1],this.lineTo(n,i);break;case"l":rr(c,h.length,2);for(let v=0;v<h.length;v+=2)n+=+h[v],i+=+h[v+1],this.lineTo(n,i);break;case"H":Bf(c,h.length,1);for(let v=0;v<h.length;++v)n=+h[v],this.lineTo(n,i);break;case"h":Bf(c,h.length,1);for(let v=0;v<h.length;++v)n+=+h[v],this.lineTo(n,i);break;case"V":Bf(c,h.length,1);for(let v=0;v<h.length;++v)i=+h[v],this.lineTo(n,i);break;case"v":Bf(c,h.length,1);for(let v=0;v<h.length;++v)i+=+h[v],this.lineTo(n,i);break;case"C":rr(c,h.length,6);for(let v=0;v<h.length;v+=6){const p=+h[v],_=+h[v+1];s=+h[v+2],r=+h[v+3],n=+h[v+4],i=+h[v+5],this.bezierCurveTo(p,_,s,r,n,i)}break;case"c":rr(c,h.length,6);for(let v=0;v<h.length;v+=6){const p=+h[v]+n,_=+h[v+1]+i;s=+h[v+2]+n,r=+h[v+3]+i,n+=+h[v+4],i+=+h[v+5],this.bezierCurveTo(p,_,s,r,n,i)}break;case"S":rr(c,h.length,4),(s===null||r===null)&&(s=n,r=i);for(let v=0;v<h.length;v+=4){const p=2*n-s,_=2*i-r;s=+h[v],r=+h[v+1],n=+h[v+2],i=+h[v+3],this.bezierCurveTo(p,_,s,r,n,i)}break;case"s":rr(c,h.length,4),(s===null||r===null)&&(s=n,r=i);for(let v=0;v<h.length;v+=4){const p=2*n-s,_=2*i-r;s=+h[v]+n,r=+h[v+1]+i,n+=+h[v+2],i+=+h[v+3],this.bezierCurveTo(p,_,s,r,n,i)}break;case"Q":rr(c,h.length,4);for(let v=0;v<h.length;v+=4)a=+h[v],o=+h[v+1],n=+h[v+2],i=+h[v+3],this.quadraticCurveTo(a,o,n,i);break;case"q":rr(c,h.length,4);for(let v=0;v<h.length;v+=4)a=+h[v]+n,o=+h[v+1]+i,n+=+h[v+2],i+=+h[v+3],this.quadraticCurveTo(a,o,n,i);break;case"T":rr(c,h.length,2),(a===null||o===null)&&(a=n,o=i);for(let v=0;v<h.length;v+=2)a=2*n-a,o=2*i-o,n=+h[v],i=+h[v+1],this.quadraticCurveTo(a,o,n,i);break;case"t":rr(c,h.length,2),(a===null||o===null)&&(a=n,o=i);for(let v=0;v<h.length;v+=2)a=2*n-a,o=2*i-o,n+=+h[v],i+=+h[v+1],this.quadraticCurveTo(a,o,n,i);break;case"A":case"a":const g=c==="a";qwe(h),rr(c,h.length,7);for(let v=0;v<h.length;v+=7){let p=+h[v+5],_=+h[v+6];g&&(p+=n,_+=i);const b=Ywe({px:n,py:i,rx:+h[v],ry:+h[v+1],xAxisRotation:+h[v+2],largeArcFlag:pV(+h[v+3]),sweepFlag:pV(+h[v+4]),cx:p,cy:_});oe(b,x=>{this.bezierCurveTo(x.x1,x.y1,x.x2,x.y2,x.x,x.y),n=x.x,i=x.y})}break;case"Z":case"z":Gwe(c,h.length,0),this.closePath();break}}}_runPath(e){e.beginPath(),oe(this._operations,n=>{n.path(e)})}_render(e){super._render(e);const n=e.layer.dirty,i=this._isInteractive(e);if(n||i){const s=e.layer.context,r=this._renderer._ghostLayer.context;n&&(s.globalCompositeOperation=this.blendMode,s.beginPath());let a;i&&(r.beginPath(),a=this._getColorId()),oe(this._operations,o=>{n&&(o.path(s),o.colorize(s,void 0)),i&&(o.pathGhost(r),o.colorizeGhost(r,a))})}}renderDetached(e){if(this.visible){this._setMatrix(),e.save();const n=this.mask;n&&(n._setMatrix(),n._transform(e,1),n._runPath(e),e.clip()),e.globalAlpha=this.compoundAlpha*this.alpha,this._transform(e,1),this.filter&&(e.filter=this.filter),e.globalCompositeOperation=this.blendMode,e.beginPath(),oe(this._operations,i=>{i.path(e),i.colorize(e,void 0)}),e.restore()}}_addBounds(e){this.visible&&this.isMeasured&&oe(this._operations,n=>{n.addBounds(e)})}}class XU extends $0{constructor(e,n,i){super(e),Object.defineProperty(this,"text",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"style",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"resolution",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"textVisible",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"truncated",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_textInfo",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_originalScale",{enumerable:!0,configurable:!0,writable:!0,value:1}),this.text=n,this.style=i}invalidateBounds(){super.invalidateBounds(),this._textInfo=void 0}_shared(e){this.style.textAlign&&(e.textAlign=this.style.textAlign),this.style.direction&&(e.direction=this.style.direction),this.style.textBaseline&&(e.textBaseline=this.style.textBaseline)}_prerender(e,n=!1,i=!1){super._render(e);const s=e.layer.context,r=this._renderer._ghostLayer.context,a=this.style;let o=this._getFontStyle(void 0,i);s.font=o,this._isInteractive(e)&&!n&&(r.font=o),a.fill&&(a.fill instanceof tt?s.fillStyle=a.fill.toCSS(a.fillOpacity!=null?a.fillOpacity:1):s.fillStyle=a.fill),a.shadowColor&&(e.layer.context.shadowColor=a.shadowColor.toCSS(a.shadowOpacity||1)),a.shadowBlur&&(e.layer.context.shadowBlur=a.shadowBlur),a.shadowOffsetX&&(e.layer.context.shadowOffsetX=a.shadowOffsetX),a.shadowOffsetY&&(e.layer.context.shadowOffsetY=a.shadowOffsetY),this._shared(s),this._isInteractive(e)&&!n&&(r.fillStyle=this._getColorId(),this._shared(r))}_getFontStyle(e,n=!1){const i=this.style;let s=[];return e&&e.fontVariant?s.push(e.fontVariant):i.fontVariant&&s.push(i.fontVariant),n||(e&&e.fontWeight?s.push(e.fontWeight):i.fontWeight&&s.push(i.fontWeight)),e&&e.fontStyle?s.push(e.fontStyle):i.fontStyle&&s.push(i.fontStyle),e&&e.fontSize?(me(e.fontSize)&&(e.fontSize=e.fontSize+"px"),s.push(e.fontSize)):i.fontSize&&(me(i.fontSize)&&(i.fontSize=i.fontSize+"px"),s.push(i.fontSize)),e&&e.fontFamily?s.push(e.fontFamily):i.fontFamily?s.push(i.fontFamily):s.length&&s.push("Arial"),s.join(" ")}_render(e){if(this._textInfo||this._measure(e),this.textVisible){const n=this._isInteractive(e),i=e.layer.context,s=e.layer.dirty,r=this._renderer._ghostLayer.context;i.save(),r.save(),this._prerender(e),oe(this._textInfo,(a,o)=>{oe(a.textChunks,(l,u)=>{if(l.style&&(i.save(),r.save(),i.font=l.style,this._isInteractive(e)&&(r.font=l.style)),l.fill&&(i.save(),i.fillStyle=l.fill.toCSS()),s&&i.fillText(l.text,l.offsetX,a.offsetY+l.offsetY),l.textDecoration=="underline"||l.textDecoration=="line-through"){let d=1,c=1,f=l.height;const h=this.style.oversizedBehavior||"";if(["truncate","wrap","wrap-no-break"].indexOf(h)>-1){const p=this._measureText(l.text,i);l.width=p.actualBoundingBoxLeft+p.actualBoundingBoxRight}let g=l.offsetX;switch(this.style.textAlign){case"right":case"end":g-=l.width;break;case"center":g-=l.width/2;break}if(l.style)switch(aa.getTextStyle(l.style).fontWeight){case"bolder":case"bold":case"700":case"800":case"900":d=2;break}f&&(c=f/20);let v;l.textDecoration=="line-through"?v=d+a.offsetY+l.offsetY-l.height/2:v=d+c*1.5+a.offsetY+l.offsetY,i.save(),i.beginPath(),l.fill?i.strokeStyle=l.fill.toCSS():this.style.fill&&this.style.fill instanceof tt&&(i.strokeStyle=this.style.fill.toCSS()),i.lineWidth=d*c,i.moveTo(g,v),i.lineTo(g+l.width,v),i.stroke(),i.restore()}n&&this.interactive&&r.fillText(l.text,l.offsetX,a.offsetY+l.offsetY),l.fill&&i.restore(),l.style&&(i.restore(),r.restore())})}),i.restore(),r.restore()}}_addBounds(e){if(this.visible&&this.isMeasured){const n=this._measure({inactive:this.inactive,layer:this.getLayer()});fi(e,{x:n.left,y:n.top}),fi(e,{x:n.right,y:n.bottom})}}_ignoreFontWeight(){return/apple/i.test(navigator.vendor)}_measure(e){const n=e.layer.context,i=this._renderer._ghostLayer.context,s=this.style.direction=="rtl";this._textInfo=[];const r=this.style.oversizedBehavior,a=this.style.maxWidth,o=me(a)&&r=="truncate",l=me(a)&&(r=="wrap"||r=="wrap-no-break");n.save(),i.save(),this._prerender(e,!0,this._ignoreFontWeight());const u="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789 ",d=this.text.toString().replace(/\r/g,"").split(/\n/);let c=!0,f=0,h=0,g=0,v;oe(d,(_,b)=>{let x;for(_==""?x=[{type:"value",text:""}]:x=aa.chunk(_,!1,this.style.ignoreFormatting);x.length>0;){let k={offsetY:g,ascent:0,width:0,height:0,left:0,right:0,textChunks:[]};const I=this._measureText(u,n),E=I.actualBoundingBoxAscent+I.actualBoundingBoxDescent;k.height=E,k.ascent=I.actualBoundingBoxAscent;let T,S=this.style.textDecoration,w,P,C=!1,D=!0,A=[],N;ZC(x,(B,H)=>{if(B.type=="format")if(B.text=="[/]")c||(n.restore(),i.restore(),c=!0),w=void 0,v=void 0,P=void 0,S=this.style.textDecoration,N=void 0,T=B.text;else{c||(n.restore(),i.restore());let G=aa.getTextStyle(B.text);const z=this._getFontStyle(G);n.save(),i.save(),n.font=z,v=z,T=B.text,G.textDecoration&&(S=G.textDecoration),G.fill&&(w=G.fill),G.width&&(P=lr(G.width)),G.verticalAlign&&(N=G.verticalAlign),c=!1;const X=this._measureText(u,n),W=X.actualBoundingBoxAscent+X.actualBoundingBoxDescent;W>k.height&&(k.height=W),X.actualBoundingBoxAscent>k.ascent&&(k.ascent=X.actualBoundingBoxAscent)}else if(B.type=="value"&&!C){const G=this._measureText(B.text,n);let z=G.actualBoundingBoxLeft+G.actualBoundingBoxRight;if(o){this.truncated=void 0;let ee=D||this.style.breakWords||!1;const le=this.style.ellipsis||"",ue=this._measureText(le,n),ce=ue.actualBoundingBoxLeft+ue.actualBoundingBoxRight;if(k.width+z>a){const se=a-k.width-ce;B.text=this._truncateText(n,B.text,se,ee),B.text+=le,C=!0,this.truncated=!0}}else if(l&&k.width+z>a){const ee=a-k.width,le=this._truncateText(n,B.text,ee,!1,D&&this.style.oversizedBehavior!="wrap-no-break");if(le=="")return this.textVisible=!0,!1;A=x.slice(H+1),Ud(le)!=Ud(B.text)&&(A.unshift({type:"value",text:B.text.substr(le.length)}),T&&A.unshift({type:"format",text:T})),B.text=Ud(le),x=[],C=!0}let X=1,W=1;if(v&&P&&P>z){const ee=z/P;switch(this.style.textAlign){case"right":case"end":X=ee;break;case"center":X=ee,W=ee;break;default:W=ee}z=P}const Z=G.actualBoundingBoxAscent+G.actualBoundingBoxDescent;Z>k.height&&(k.height=Z),G.actualBoundingBoxAscent>k.ascent&&(k.ascent=G.actualBoundingBoxAscent),k.width+=z,k.left+=G.actualBoundingBoxLeft/X,k.right+=G.actualBoundingBoxRight/W,k.textChunks.push({style:v,fill:w,text:B.text,width:z,height:Z,left:G.actualBoundingBoxLeft,right:G.actualBoundingBoxRight,ascent:G.actualBoundingBoxAscent,offsetX:0,offsetY:0,textDecoration:S,verticalAlign:N}),D=!1}return!0}),this.style.lineHeight instanceof St?(k.height*=this.style.lineHeight.value,k.ascent*=this.style.lineHeight.value):(k.height*=this.style.lineHeight||1.2,k.ascent*=this.style.lineHeight||1.2),f<k.left&&(f=k.left),h<k.right&&(h=k.right),this._textInfo.push(k),g+=k.height,x=A||[]}}),c||(n.restore(),i.restore()),oe(this._textInfo,(_,b)=>{let x=0;oe(_.textChunks,k=>{if(k.offsetX=x+k.left-_.left,k.offsetY+=_.height-_.height*(this.style.baselineRatio||.19),x+=k.width,k.verticalAlign)switch(k.verticalAlign){case"super":k.offsetY-=_.height/2-k.height/2;break;case"sub":k.offsetY+=k.height/2;break}})});const p={left:s?-h:-f,top:0,right:s?f:h,bottom:g};if(r!=="none"){const _=this._fitRatio(p);if(_<1)if(r=="fit")me(this.style.minScale)&&_<this.style.minScale?(this.textVisible=!1,p.left=0,p.top=0,p.right=0,p.bottom=0):(this._originalScale||(this._originalScale=this.scale),this.scale=_,this.textVisible=!0);else if(r=="hide")this.textVisible=!1,p.left=0,p.top=0,p.right=0,p.bottom=0;else{switch(this.style.textAlign){case"right":case"end":p.left=s?a:-a,p.right=0;break;case"center":p.left=-a/2,p.right=a/2;break;default:p.left=0,p.right=s?-a:a}this.scale=this._originalScale||1,this._originalScale=void 0,this.textVisible=!0}else this.scale=this._originalScale||1,this._originalScale=void 0,this.textVisible=!0}return n.restore(),i.restore(),p}_fitRatio(e){const n=this.style.maxWidth,i=this.style.maxHeight;if(!me(n)&&!me(i))return 1;const s=e.right-e.left,r=e.bottom-e.top;return Math.min(n/s||1,i/r||1)}_truncateText(e,n,i,s=!1,r=!0){let a;do{if(s)n=n.slice(0,-1);else{let l=n.replace(/[^,;:!?\\\/\s]+[,;:!?\\\/\s]*$/g,"");if((l==""||l===n)&&r)s=!0;else{if(l=="")return n;n=l}}const o=this._measureText(n,e);a=o.actualBoundingBoxLeft+o.actualBoundingBoxRight}while(a>i&&n!="");return n}_measureText(e,n){let i=n.measureText(e),s={};if(i.actualBoundingBoxAscent==null){const a=document.createElement("div");a.innerText=e,a.style.visibility="hidden",a.style.position="absolute",a.style.top="-1000000px;",a.style.fontFamily=this.style.fontFamily||"",a.style.fontSize=this.style.fontSize+"",document.body.appendChild(a);const o=a.getBoundingClientRect();document.body.removeChild(a);const l=o.height,u=i.width;s={actualBoundingBoxAscent:l,actualBoundingBoxDescent:0,actualBoundingBoxLeft:0,actualBoundingBoxRight:u,fontBoundingBoxAscent:l,fontBoundingBoxDescent:0,width:u}}else s={actualBoundingBoxAscent:i.actualBoundingBoxAscent,actualBoundingBoxDescent:i.actualBoundingBoxDescent,actualBoundingBoxLeft:i.actualBoundingBoxLeft,actualBoundingBoxRight:i.actualBoundingBoxRight,fontBoundingBoxAscent:i.actualBoundingBoxAscent,fontBoundingBoxDescent:i.actualBoundingBoxDescent,width:i.width};const r=i.width;switch(this.style.textAlign){case"right":case"end":s.actualBoundingBoxLeft=r,s.actualBoundingBoxRight=0;break;case"center":s.actualBoundingBoxLeft=r/2,s.actualBoundingBoxRight=r/2;break;default:s.actualBoundingBoxLeft=0,s.actualBoundingBoxRight=r}return s}}class p1e{constructor(){Object.defineProperty(this,"fill",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fillOpacity",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"textAlign",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fontFamily",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fontWeight",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fontVariant",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"textDecoration",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shadowColor",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shadowBlur",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shadowOffsetX",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shadowOffsetY",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shadowOpacity",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"lineHeight",{enumerable:!0,configurable:!0,writable:!0,value:jn(120)}),Object.defineProperty(this,"baselineRatio",{enumerable:!0,configurable:!0,writable:!0,value:.19}),Object.defineProperty(this,"direction",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"textBaseline",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"oversizedBehavior",{enumerable:!0,configurable:!0,writable:!0,value:"none"}),Object.defineProperty(this,"breakWords",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"ellipsis",{enumerable:!0,configurable:!0,writable:!0,value:""}),Object.defineProperty(this,"maxWidth",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"maxHeight",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"minScale",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"ignoreFormatting",{enumerable:!0,configurable:!0,writable:!0,value:!1})}}class _1e extends XU{constructor(){super(...arguments),Object.defineProperty(this,"textType",{enumerable:!0,configurable:!0,writable:!0,value:"circular"}),Object.defineProperty(this,"radius",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"startAngle",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"inside",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"orientation",{enumerable:!0,configurable:!0,writable:!0,value:"auto"}),Object.defineProperty(this,"kerning",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_textReversed",{enumerable:!0,configurable:!0,writable:!0,value:!1})}_render(e){switch(this.textType){case"circular":this._renderCircular(e);break;default:super._render(e);break}}_renderCircular(e){if(this.textVisible){this._prerender(e);const n=this._isInteractive(e),i=e.layer.context,s=e.layer.dirty,r=this._renderer._ghostLayer.context;i.save(),n&&r.save(),this._textInfo||this._measure(e);let a=this.radius||0,o=this.startAngle||0,l=0,u=this.orientation,d=u=="auto"?"auto":u=="inward";const c=this.inside,f=this.style.textAlign||"left",h=this.kerning||0;let g=f=="left"?1:-1;const v=!this._textReversed;if(d=="auto"){let p=0,_=0;oe(this._textInfo,(b,x)=>{const k=o+b.width/(a-b.height)/2*-g;k>p&&(p=k)}),f=="left"?_=(p+l/2)*dm:f=="right"?_=(p-l/2)*dm:_=o*dm,_=iE(_),d=_>=270||_<=90}d==!0&&v&&(this._textInfo.reverse(),this._textReversed=!0),oe(this._textInfo,(p,_)=>{const b=p.height;c||(a+=b),(g==-1&&d||g==1&&!d)&&v&&p.textChunks.reverse();let x=o;l=0,f=="center"&&(x+=p.width/(a-b)/2*-g,l=x-o),x+=Math.PI*(d?0:1),i.save(),n&&r.save(),i.rotate(x),n&&r.rotate(x);let k=0;oe(p.textChunks,(I,E)=>{const T=I.text,S=I.width;k=S/2/(a-b)*g,i.rotate(k),n&&r.rotate(k),I.style&&(i.save(),r.save(),i.font=I.style,n&&(r.font=I.style)),I.fill&&(i.save(),i.fillStyle=I.fill.toCSS()),i.textBaseline="middle",i.textAlign="center",n&&(r.textBaseline="middle",r.textAlign="center"),s&&i.fillText(T,0,(d?1:-1)*(0-a+b/2)),n&&r.fillText(T,0,(d?1:-1)*(0-a+b/2)),I.fill&&i.restore(),I.style&&(i.restore(),r.restore()),k=(S/2+h)/(a-b)*g,i.rotate(k),n&&r.rotate(k)}),i.restore(),n&&r.restore(),c&&(a-=b)}),i.restore(),n&&r.restore()}}_measure(e){switch(this.textType){case"circular":return this._measureCircular(e);default:return super._measure(e)}}_measureCircular(e){const n=e.layer.context,i=this._renderer._ghostLayer.context,s=this.style.direction=="rtl",r=this.style.oversizedBehavior,a=this.style.maxWidth,o=me(a)&&r=="truncate",l=this.style.ellipsis||"";let u;this.textVisible=!0,this._textInfo=[],this._textReversed=!1,n.save(),i.save(),this._prerender(e,!0);const d=this.text.toString().replace(/\r/g,"").split(/\n/);let c=!0,f=0,h=0;return oe(d,(g,v)=>{let p=aa.chunk(g,!1,this.style.ignoreFormatting),_={offsetY:h,ascent:0,width:0,height:0,left:0,right:0,textChunks:[]},b,x,k;oe(p,(I,E)=>{if(I.type=="format"){if(I.text=="[/]")c||(n.restore(),i.restore(),c=!0),x=void 0,b=void 0,k=void 0;else{let T=aa.getTextStyle(I.text);const S=this._getFontStyle(T);n.save(),i.save(),n.font=S,b=S,T.fill&&(x=T.fill),T.width&&(k=lr(T.width)),c=!1}o&&(u=this._measureText(l,n))}else if(I.type=="value"){let T=I.text.match(/./ug)||[];s&&(T=owe(I.text),T.reverse());for(let S=0;S<T.length;S++){const w=T[S],P=this._measureText(w,n);let C=P.width;b&&k&&k>C&&(C=k);const D=P.actualBoundingBoxAscent+P.actualBoundingBoxDescent;if(D>_.height&&(_.height=D),P.actualBoundingBoxAscent>_.ascent&&(_.ascent=P.actualBoundingBoxAscent),f+=C,o){u||(u=this._measureText(l,n));const A=u.actualBoundingBoxLeft+u.actualBoundingBoxRight;if(f+A>a){_.textChunks.length==1?this.textVisible=!1:(_.width+=A,_.left+=u.actualBoundingBoxLeft,_.right+=u.actualBoundingBoxRight,_.textChunks.push({style:b,fill:x,text:l,width:A,height:D+u.actualBoundingBoxDescent,left:u.actualBoundingBoxLeft,right:u.actualBoundingBoxRight,ascent:u.actualBoundingBoxAscent,offsetX:0,offsetY:D,textDecoration:void 0}));break}}_.width+=C,_.left+=P.actualBoundingBoxLeft,_.right+=P.actualBoundingBoxRight,_.textChunks.push({style:b,fill:x,text:w,width:C,height:D+P.actualBoundingBoxDescent,left:P.actualBoundingBoxLeft,right:P.actualBoundingBoxRight,ascent:P.actualBoundingBoxAscent,offsetX:0,offsetY:D,textDecoration:void 0})}}}),this.style.lineHeight instanceof St?_.height*=this.style.lineHeight.value:_.height*=this.style.lineHeight||1.2,this._textInfo.push(_),h+=_.height}),c||(n.restore(),i.restore()),r=="hide"&&f>a&&(this.textVisible=!1),oe(this._textInfo,g=>{oe(g.textChunks,v=>{v.offsetY+=Math.round((g.height-v.height+(g.ascent-v.ascent))/2)})}),n.restore(),i.restore(),{left:0,top:0,right:0,bottom:0}}}class y1e extends $0{constructor(e,n){super(e),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"image",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tainted",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shadowColor",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shadowBlur",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shadowOffsetX",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shadowOffsetY",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shadowOpacity",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_imageMask",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.image=n}_dispose(){super._dispose(),this._imageMask&&jf(this._imageMask)}getLocalBounds(){if(!this._localBounds){let e=0,n=0;this.width&&(e=this.width),this.height&&(n=this.height),this._localBounds={left:0,top:0,right:e,bottom:n},this._addBounds(this._localBounds)}return this._localBounds}_render(e){if(super._render(e),this.image){if(this.tainted===void 0&&(this.tainted=_V(this.image),e.layer.tainted=!0),this.tainted&&this._renderer._omitTainted)return;if(e.layer.dirty){this.shadowColor&&(e.layer.context.shadowColor=this.shadowColor.toCSS(this.shadowOpacity||1)),this.shadowBlur&&(e.layer.context.shadowBlur=this.shadowBlur),this.shadowOffsetX&&(e.layer.context.shadowOffsetX=this.shadowOffsetX),this.shadowOffsetY&&(e.layer.context.shadowOffsetY=this.shadowOffsetY);const n=this.width||this.image.naturalWidth,i=this.height||this.image.naturalHeight;e.layer.context.drawImage(this.image,0,0,n,i)}if(this.interactive&&this._isInteractive(e)){const n=this._getMask(this.image);this._renderer._ghostLayer.context.drawImage(n,0,0)}}}clear(){super.clear(),this.image=void 0,this._imageMask=void 0}_getMask(e){if(this._imageMask===void 0){const n=this.width||e.naturalWidth,i=this.height||e.naturalHeight,s=document.createElement("canvas");s.width=n,s.height=i;const r=s.getContext("2d");r.imageSmoothingEnabled=!1,r.fillStyle=this._getColorId(),r.fillRect(0,0,n,i),_V(e)||(r.globalCompositeOperation="destination-in",r.drawImage(e,0,0,n,i)),this._imageMask=s}return this._imageMask}}class b1e{constructor(e,n,i,s){Object.defineProperty(this,"event",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"originalPoint",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(this,"point",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"bbox",{enumerable:!0,configurable:!0,writable:!0,value:s}),Object.defineProperty(this,"id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"simulated",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"native",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Fa("touchevents")&&e instanceof Touch?this.id=e.identifier:this.id=null}}class w1e extends q0e{constructor(e){if(super(),Object.defineProperty(this,"view",{enumerable:!0,configurable:!0,writable:!0,value:document.createElement("div")}),Object.defineProperty(this,"_layerDom",{enumerable:!0,configurable:!0,writable:!0,value:document.createElement("div")}),Object.defineProperty(this,"layers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_dirtyLayers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"defaultLayer",{enumerable:!0,configurable:!0,writable:!0,value:this.getLayer(0)}),Object.defineProperty(this,"_ghostLayer",{enumerable:!0,configurable:!0,writable:!0,value:new x1e}),Object.defineProperty(this,"_patternCanvas",{enumerable:!0,configurable:!0,writable:!0,value:document.createElement("canvas")}),Object.defineProperty(this,"_patternContext",{enumerable:!0,configurable:!0,writable:!0,value:this._patternCanvas.getContext("2d")}),Object.defineProperty(this,"_realWidth",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_realHeight",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_calculatedWidth",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_calculatedHeight",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"resolution",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"interactionsEnabled",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"_listeners",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_events",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_colorId",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_colorMap",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_forceInteractive",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_omitTainted",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_hovering",{enumerable:!0,configurable:!0,writable:!0,value:new Set}),Object.defineProperty(this,"_dragging",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_mousedown",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_lastPointerMoveEvent",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tapToActivate",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"tapToActivateTimeout",{enumerable:!0,configurable:!0,writable:!0,value:3e3}),Object.defineProperty(this,"_touchActive",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_touchActiveTimeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),e==null?this.resolution=window.devicePixelRatio:this.resolution=e,this.view.style.position="absolute",this.view.setAttribute("aria-hidden","true"),this.view.appendChild(this._layerDom),this._disposers.push(new Di(()=>{rn(this._events,(n,i)=>{i.disposer.dispose()}),oe(this.layers,n=>{jf(n.view),n.exportableView&&jf(n.exportableView)}),jf(this._ghostLayer.view),jf(this._patternCanvas)})),this._disposers.push(LU(()=>{e==null&&(this.resolution=window.devicePixelRatio)})),Fa("touchevents")){const n=i=>{this._dragging.length!==0&&ZC(this._dragging,s=>s.value.shouldCancelTouch()?(i.preventDefault(),!1):!0),this._touchActiveTimeout&&this._delayTouchDeactivate()};this._disposers.push(Nn(window,"touchstart",n,{passive:!1})),this._disposers.push(Nn(this.view,"touchstart",n,{passive:!1})),this._disposers.push(Nn(this.view,"touchmove",()=>{this._touchActiveTimeout&&this._delayTouchDeactivate()},{passive:!0})),this._disposers.push(Nn(window,"click",i=>{this._touchActive=!1},{passive:!0})),this._disposers.push(Nn(this.view,"click",i=>{window.setTimeout(()=>{this._touchActive=!0,this._delayTouchDeactivate()},100)},{passive:!0}))}Fa("wheelevents")&&this._disposers.push(Nn(this.view,"wheel",n=>{let i=!1;this._hovering.forEach(s=>{if(s.wheelable)return i=!0,!1}),i&&n.preventDefault()},{passive:!1}))}resetImageArray(){this._ghostLayer.imageArray=void 0}_delayTouchDeactivate(){this._touchActiveTimeout&&clearTimeout(this._touchActiveTimeout),this.tapToActivateTimeout>0&&(this._touchActiveTimeout=window.setTimeout(()=>{this._touchActive=!1},this.tapToActivateTimeout))}get debugGhostView(){return!!this._ghostLayer.view.parentNode}set debugGhostView(e){e?this._ghostLayer.view.parentNode||this.view.appendChild(this._ghostLayer.view):this._ghostLayer.view.parentNode&&this._ghostLayer.view.parentNode.removeChild(this._ghostLayer.view)}createLinearGradient(e,n,i,s){return this.defaultLayer.context.createLinearGradient(e,n,i,s)}createRadialGradient(e,n,i,s,r,a){return this.defaultLayer.context.createRadialGradient(e,n,i,s,r,a)}createPattern(e,n,i,s,r){return this._patternCanvas.width=s,this._patternCanvas.height=r,this._patternContext.clearRect(0,0,s,r),n.renderDetached(this._patternContext),e.renderDetached(this._patternContext),this._patternContext.createPattern(this._patternCanvas,i)}makeContainer(){return new Jwe(this)}makeGraphics(){return new g1e(this)}makeText(e,n){return new XU(this,e,n)}makeTextStyle(){return new p1e}makeRadialText(e,n){return new _1e(this,e,n)}makePicture(e){return new y1e(this,e)}resizeLayer(e){e.resize(this._calculatedWidth,this._calculatedHeight,this._calculatedWidth,this._calculatedHeight,this.resolution)}resizeGhost(){this._ghostLayer.resize(this._calculatedWidth,this._calculatedHeight,this._calculatedWidth,this._calculatedHeight,this.resolution)}resize(e,n,i,s){this._realWidth=e,this._realHeight=n,this._calculatedWidth=i,this._calculatedHeight=s,oe(this.layers,r=>{r&&(r.dirty=!0,this.resizeLayer(r))}),this.resizeGhost(),this.view.style.width=i+"px",this.view.style.height=s+"px"}createDetachedLayer(e=!1){const n=document.createElement("canvas"),i=n.getContext("2d",{willReadFrequently:e}),s=new S1e(n,i);return n.style.position="absolute",n.style.top="0px",n.style.left="0px",s}getLayerByOrder(e){const n=this.layers,i=n.length;for(let s=0;s<i;s++){const r=n[s];if(r.order==e)return r}}getLayer(e,n=!0){let i=this.getLayerByOrder(e);if(i)return i;const s=this.createDetachedLayer(e==99);s.order=e,s.visible=n,s.view.className="am5-layer-"+e,s.visible&&this.resizeLayer(s);const r=this.layers;r.push(s),r.sort((u,d)=>u.order>d.order?1:u.order<d.order?-1:0);const a=r.length,o=gh(r,s);let l;for(let u=o+1;u<a;u++)if(r[u].visible){l=r[u];break}return s.visible&&(l===void 0?this._layerDom.appendChild(s.view):this._layerDom.insertBefore(s.view,l.view)),s}render(e){if(this._dirtyLayers.length=0,oe(this.layers,n=>{n&&n.dirty&&n.visible&&(this._dirtyLayers.push(n),n.clear())}),this._ghostLayer.clear(),e.render({inactive:null,layer:this.defaultLayer}),this._ghostLayer.context.restore(),oe(this.layers,n=>{if(n){const i=n.context;i.beginPath(),i.moveTo(0,0),i.stroke()}}),oe(this._dirtyLayers,n=>{n.context.restore(),n.dirty=!1}),this._hovering.size&&this._lastPointerMoveEvent){const{events:n,target:i,native:s}=this._lastPointerMoveEvent;oe(n,r=>{this._dispatchGlobalMousemove(r,i,s)})}}paintId(e){const n=Xwe(++this._colorId),i=tt.fromHex(n).toCSS();return this._colorMap[i]=e,i}_removeObject(e){e._colorId!==void 0&&delete this._colorMap[e._colorId]}_adjustBoundingBox(e){const n=this._ghostLayer.margin;return new DOMRect(-n.left,-n.top,e.width+n.left+n.right,e.height+n.top+n.bottom)}getEvent(e,n=!0){const i=this.view.getBoundingClientRect(),s=e.clientX||0,r=e.clientY||0,a=this._calculatedWidth/this._realWidth,o=this._calculatedHeight/this._realHeight,l={x:s-i.left,y:r-i.top},u={x:(s-(n?i.left:0))*a,y:(r-(n?i.top:0))*o};return new b1e(e,l,u,this._adjustBoundingBox(i))}_getHitTarget(e,n,i){if(n.width===0||n.height===0||e.x<n.left||e.x>n.right||e.y<n.top||e.y>n.bottom||!i||!this._layerDom.contains(i))return;const s=this._ghostLayer.getImageData(e,n);if(s.data[0]===0&&s.data[1]===0&&s.data[2]===0)return!1;const r=tt.fromRGB(s.data[0],s.data[1],s.data[2]).toCSS();return this._colorMap[r]}getObjectAtPoint(e){const n=this._ghostLayer.getImageArray(e);if(n[0]===0&&n[1]===0&&n[2]===0)return;const i=tt.fromRGB(n[0],n[1],n[2]).toCSS();return this._colorMap[i]}_withEvents(e,n){const i=this._events[e];if(i!==void 0){i.dispatching=!0;try{n(i)}finally{i.dispatching=!1,i.cleanup&&(i.cleanup=!1,L0(i.callbacks,s=>!s.disposed),i.callbacks.length===0&&(i.disposer.dispose(),delete this._events[e]))}}}_dispatchEventAll(e,n){this.interactionsEnabled&&this._withEvents(e,i=>{oe(i.callbacks,s=>{s.disposed||s.callback.call(s.context,n)})})}_dispatchEvent(e,n,i){if(!this.interactionsEnabled)return!1;let s=!1;return this._withEvents(e,r=>{oe(r.callbacks,a=>{!a.disposed&&a.object===n&&(a.callback.call(a.context,i),s=!0)})}),s}_dispatchMousedown(e,n){const i=e.button;if(i!=0&&i!=2&&i!=1&&i!==void 0)return;const s=this.getEvent(e),r=this._getHitTarget(s.originalPoint,s.bbox,n);if(r){const a=s.id;let o=!1;cp(r,l=>{const u={id:a,value:l};return this._mousedown.push(u),!o&&this._dispatchEvent("pointerdown",l,s)&&(o=!0,this._dragging.some(c=>c.value===l&&c.id===a)||this._dragging.push(u)),!0})}}_dispatchGlobalMousemove(e,n,i){const s=this.getEvent(e),r=this._getHitTarget(s.originalPoint,s.bbox,n);s.native=i,r?(this._hovering.forEach(a=>{a.contains(r)||(this._hovering.delete(a),a.cursorOverStyle&&rp(document.body,"cursor",a._replacedCursorStyle),this._dispatchEvent("pointerout",a,s))}),s.native&&cp(r,a=>(this._hovering.has(a)||(this._hovering.add(a),a.cursorOverStyle&&(a._replacedCursorStyle=J0e(document.body,"cursor"),rp(document.body,"cursor",a.cursorOverStyle)),this._dispatchEvent("pointerover",a,s)),!0))):(this._hovering.forEach(a=>{a.cursorOverStyle&&rp(document.body,"cursor",a._replacedCursorStyle),this._dispatchEvent("pointerout",a,s)}),this._hovering.clear()),this._dispatchEventAll("globalpointermove",s)}removeHovering(e){this._hovering.delete(e),e.cursorOverStyle&&rp(document.body,"cursor",e._replacedCursorStyle)}_dispatchGlobalMouseup(e,n){const i=this.getEvent(e);i.native=n,this._dispatchEventAll("globalpointerup",i)}_dispatchDragMove(e){if(this._dragging.length!==0){const n=this.getEvent(e),i=n.id;this._dragging.forEach(s=>{s.id===i&&this._dispatchEvent("pointermove",s.value,n)})}}_dispatchDragEnd(e,n){const i=e.button;let s;if(i==0||i===void 0)s="click";else if(i==2)s="rightclick";else if(i==1)s="middleclick";else return;const r=this.getEvent(e),a=r.id;if(this._mousedown.length!==0){const o=this._getHitTarget(r.originalPoint,r.bbox,n);o&&this._mousedown.forEach(l=>{l.id===a&&l.value.contains(o)&&this._dispatchEvent(s,l.value,r)}),this._mousedown.length=0}this._dragging.length!==0&&(this._dragging.forEach(o=>{o.id===a&&this._dispatchEvent("pointerup",o.value,r)}),this._dragging.length=0)}_dispatchDoubleClick(e,n){const i=this.getEvent(e),s=this._getHitTarget(i.originalPoint,i.bbox,n);s&&cp(s,r=>!this._dispatchEvent("dblclick",r,i))}_dispatchWheel(e,n){const i=this.getEvent(e),s=this._getHitTarget(i.originalPoint,i.bbox,n);s&&cp(s,r=>!this._dispatchEvent("wheel",r,i))}_makeSharedEvent(e,n){if(this._listeners[e]===void 0){const i=n();this._listeners[e]=new eE(()=>{delete this._listeners[e],i.dispose()})}return this._listeners[e].increment()}_onPointerEvent(e,n){let i=!1,s=null;function r(){s=null,i=!1}return new Rs([new Di(()=>{s!==null&&clearTimeout(s),r()}),Nn(this.view,pk(e),a=>{i=!0,s!==null&&clearTimeout(s),s=window.setTimeout(r,0)}),Kwe(window,e,(a,o)=>{s!==null&&(clearTimeout(s),s=null),n(a,o,i),i=!1})])}_initEvent(e){switch(e){case"globalpointermove":case"pointerover":case"pointerout":return this._makeSharedEvent("pointermove",()=>{const n=(i,s,r)=>{this._lastPointerMoveEvent={events:i,target:s,native:r},oe(i,a=>{this._dispatchGlobalMousemove(a,s,r)})};return new Rs([this._onPointerEvent("pointerdown",n),this._onPointerEvent("pointermove",n)])});case"globalpointerup":return this._makeSharedEvent("pointerup",()=>{const n=this._onPointerEvent("pointerup",(s,r,a)=>{oe(s,o=>{this._dispatchGlobalMouseup(o,a)}),this._lastPointerMoveEvent={events:s,target:r,native:a}}),i=this._onPointerEvent("pointercancel",(s,r,a)=>{oe(s,o=>{this._dispatchGlobalMouseup(o,a)}),this._lastPointerMoveEvent={events:s,target:r,native:a}});return new Di(()=>{n.dispose(),i.dispose()})});case"click":case"rightclick":case"middleclick":case"pointerdown":case"pointermove":case"pointerup":return this._makeSharedEvent("pointerdown",()=>{const n=this._onPointerEvent("pointerdown",(a,o)=>{oe(a,l=>{this._dispatchMousedown(l,o)})}),i=this._onPointerEvent("pointermove",a=>{oe(a,o=>{this._dispatchDragMove(o)})}),s=this._onPointerEvent("pointerup",(a,o)=>{oe(a,l=>{this._dispatchDragEnd(l,o)})}),r=this._onPointerEvent("pointercancel",(a,o)=>{oe(a,l=>{this._dispatchDragEnd(l,o)})});return new Di(()=>{n.dispose(),i.dispose(),s.dispose(),r.dispose()})});case"dblclick":return this._makeSharedEvent("dblclick",()=>this._onPointerEvent("dblclick",(n,i)=>{oe(n,s=>{this._dispatchDoubleClick(s,i)})}));case"wheel":return this._makeSharedEvent("wheel",()=>Nn(this.view,pk("wheel"),n=>{this._dispatchWheel(n,NU(n))},{passive:!1}))}}_addEvent(e,n,i,s){let r=this._events[n];r===void 0&&(r=this._events[n]={disposer:this._initEvent(n),callbacks:[],dispatching:!1,cleanup:!1});const a={object:e,context:s,callback:i,disposed:!1};return r.callbacks.push(a),new Di(()=>{a.disposed=!0,r.dispatching?r.cleanup=!0:(ns(r.callbacks,a),r.callbacks.length===0&&(r.disposer.dispose(),delete this._events[n]))})}getCanvas(e,n){this.render(e),n||(n={});let i=this.resolution,s=Math.floor(this._calculatedWidth*this.resolution),r=Math.floor(this._calculatedHeight*this.resolution);if(n.minWidth&&n.minWidth>s){let h=n.minWidth/s;h>i&&(i=h*this.resolution)}if(n.minHeight&&n.minHeight>r){let h=n.minHeight/r;h>i&&(i=h*this.resolution)}if(n.maxWidth&&n.maxWidth<s){let h=n.maxWidth/s;h<i&&(i=h*this.resolution)}if(n.maxHeight&&n.maxHeight>r){let h=n.maxHeight/r;h<i&&(i=h*this.resolution)}n.maintainPixelRatio&&(i/=this.resolution);const a=[];let o=!1;const l=document.createElement("canvas");i!=this.resolution&&(o=!0,s=s*i/this.resolution,r=r*i/this.resolution),l.width=s,l.height=r,l.style.position="fixed",l.style.top="-10000px",this.view.appendChild(l),a.push(l);const u=l.getContext("2d");let d=0,c=0,f=!1;return oe(this.layers,h=>{if(h&&h.visible&&(h.tainted||o)){f=!0,h.exportableView=h.view,h.exportableContext=h.context,h.view=document.createElement("canvas"),h.view.style.position="fixed",h.view.style.top="-10000px",this.view.appendChild(h.view),a.push(h.view);let g=0,v=0;h.margin&&(g+=h.margin.left||0+h.margin.right||0,v+=h.margin.top||0+h.margin.bottom||0),h.view.width=s+g,h.view.height=r+v,h.context=h.view.getContext("2d"),h.dirty=!0,h.scale=i}}),f&&(this._omitTainted=!0,this.render(e),this._omitTainted=!1),oe(this.layers,h=>{if(h&&h.visible){let g=0,v=0;h.margin&&(g=-(h.margin.left||0)*this.resolution,v=-(h.margin.top||0)*this.resolution),u.drawImage(h.view,g,v),h.exportableView&&(h.view=h.exportableView,h.exportableView=void 0),h.exportableContext&&(h.context=h.exportableContext,h.exportableContext=void 0),d<h.view.clientWidth&&(d=h.view.clientWidth),c<h.view.clientHeight&&(c=h.view.clientHeight),h.scale=void 0}}),l.style.width=d+"px",l.style.height=c+"px",oe(a,h=>{h.style.position="",h.style.top="",this.view.removeChild(h)}),l}}class x1e{constructor(){Object.defineProperty(this,"view",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"context",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"margin",{enumerable:!0,configurable:!0,writable:!0,value:{left:0,right:0,top:0,bottom:0}}),Object.defineProperty(this,"_resolution",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"_width",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_height",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"imageArray",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.view=document.createElement("canvas"),this.context=this.view.getContext("2d",{alpha:!1,willReadFrequently:!0}),this.context.imageSmoothingEnabled=!1,this.view.style.position="absolute",this.view.style.top="0px",this.view.style.left="0px"}resize(e,n,i,s,r){this._resolution=r,e+=this.margin.left+this.margin.right,n+=this.margin.top+this.margin.bottom,i+=this.margin.left+this.margin.right,s+=this.margin.top+this.margin.bottom,this.view.style.left=-this.margin.left+"px",this.view.style.top=-this.margin.top+"px",this._width=Math.floor(e*r),this._height=Math.floor(n*r),this.view.width=this._width,this.view.style.width=i+"px",this.view.height=this._height,this.view.style.height=s+"px"}getImageData(e,n){return this.context.getImageData(Math.round((e.x-n.left)/n.width*this._width),Math.round((e.y-n.top)/n.height*this._height),1,1)}getImageArray(e){this.imageArray||(this.imageArray=this.context.getImageData(0,0,this._width,this._height).data);const n=this.imageArray,i=Math.round(e.x*this._resolution),r=(Math.round(e.y*this._resolution)*this._width+i)*4;return[n[r],n[r+1],n[r+2],n[r+3]]}setMargin(e){this.margin.left=0,this.margin.right=0,this.margin.top=0,this.margin.bottom=0,oe(e,n=>{n.margin&&(this.margin.left=Math.max(this.margin.left,n.margin.left),this.margin.right=Math.max(this.margin.right,n.margin.right),this.margin.top=Math.max(this.margin.top,n.margin.top),this.margin.bottom=Math.max(this.margin.bottom,n.margin.bottom))})}clear(){this.context.save(),this.context.fillStyle="#000",this.context.fillRect(0,0,this._width,this._height)}}class S1e{constructor(e,n){Object.defineProperty(this,"view",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"context",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tainted",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"margin",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"order",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"visible",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"scale",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"dirty",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"exportableView",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"exportableContext",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_width",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_height",{enumerable:!0,configurable:!0,writable:!0,value:0}),this.view=e,this.context=n}resize(e,n,i,s,r){this.width!=null&&(e=this.width,i=this.width),this.height!=null&&(n=this.height,s=this.height),this.margin?(e+=this.margin.left+this.margin.right,n+=this.margin.top+this.margin.bottom,i+=this.margin.left+this.margin.right,s+=this.margin.top+this.margin.bottom,this.view.style.left=-this.margin.left+"px",this.view.style.top=-this.margin.top+"px"):(this.view.style.left="0px",this.view.style.top="0px"),this._width=Math.floor(e*r),this._height=Math.floor(n*r),this.view.width=this._width,this.view.style.width=i+"px",this.view.height=this._height,this.view.style.height=s+"px"}clear(){this.context.save(),this.context.clearRect(0,0,this._width,this._height)}}function bV(t,e){t==null?requestAnimationFrame(e):setTimeout(()=>{requestAnimationFrame(e)},1e3/t)}class sE{constructor(e,n={},i){if(Object.defineProperty(this,"dom",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_inner",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_settings",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_isDirty",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_isDirtyParents",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_isDirtyAnimation",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_dirty",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_dirtyParents",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_dirtyBounds",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_dirtyPositions",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_ticker",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"_tickers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_updateTick",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"events",{enumerable:!0,configurable:!0,writable:!0,value:new Zh}),Object.defineProperty(this,"animationTime",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"_animations",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_renderer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_rootContainer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"container",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tooltipContainer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tooltipContainerSettings",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tooltip",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"language",{enumerable:!0,configurable:!0,writable:!0,value:$we.new(this,{})}),Object.defineProperty(this,"locale",{enumerable:!0,configurable:!0,writable:!0,value:qU}),Object.defineProperty(this,"utc",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"timezone",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fps",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"numberFormatter",{enumerable:!0,configurable:!0,writable:!0,value:Nwe.new(this,{})}),Object.defineProperty(this,"dateFormatter",{enumerable:!0,configurable:!0,writable:!0,value:Bwe.new(this,{})}),Object.defineProperty(this,"durationFormatter",{enumerable:!0,configurable:!0,writable:!0,value:jwe.new(this,{})}),Object.defineProperty(this,"tabindex",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_tabindexes",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_a11yD",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_focusElementDirty",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_focusElementContainer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_focusedSprite",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_isShift",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_keyboardDragPoint",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tooltipElementContainer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_readerAlertElement",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_logo",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tooltipDiv",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"nonce",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"interfaceColors",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"verticalLayout",{enumerable:!0,configurable:!0,writable:!0,value:_h.new(this,{})}),Object.defineProperty(this,"horizontalLayout",{enumerable:!0,configurable:!0,writable:!0,value:ph.new(this,{})}),Object.defineProperty(this,"gridLayout",{enumerable:!0,configurable:!0,writable:!0,value:gc.new(this,{})}),Object.defineProperty(this,"_paused",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"autoResize",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"_fontHash",{enumerable:!0,configurable:!0,writable:!0,value:""}),Object.defineProperty(this,"_isDisposed",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_disposers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_resizeSensorDisposer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tooltips",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_htmlElementContainer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_htmlEnabledContainers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),!i)throw new Error("You cannot use `new Class()`, instead use `Class.new()`");this._settings=n,n.accessible==!1&&(this._a11yD=!0),n.useSafeResolution==null&&(n.useSafeResolution=!0);let s;n.useSafeResolution&&(s=iwe()),this._renderer=new w1e(s);let r;if(e instanceof HTMLElement?r=e:r=document.getElementById(e),oe(Ca.rootElements,l=>{if(l.dom===r)throw new Error("You cannot have multiple Roots on the same DOM node")}),this.interfaceColors=_y.new(this,{}),r===null)throw new Error("Could not find HTML element with id `"+e+"`");this.dom=r;let a=document.createElement("div");a.style.position="relative",a.style.width="100%",a.style.height="100%",r.appendChild(a);const o=n.tooltipContainerBounds;o&&(this._tooltipContainerSettings=o),this._inner=a,this._updateComputedStyles(),Ca.rootElements.push(this)}static new(e,n){const i=new sE(e,n,!0);return i._init(),i}moveDOM(e){let n;if(e instanceof HTMLElement?n=e:n=document.getElementById(e),n){for(;this.dom.childNodes.length>0;)n.appendChild(this.dom.childNodes[0]);this.dom=n,this._initResizeSensor(),this.resize()}}_handleLogo(){if(this._logo){const e=this.dom.offsetWidth,n=this.dom.offsetHeight;e<=150||n<=60?this._logo.hide():this._logo.show()}}_showBranding(){if(!this._logo){const e=this.tooltipContainer.children.push(st.new(this,{interactive:!0,interactiveChildren:!1,position:"absolute",setStateOnChildren:!0,paddingTop:9,paddingRight:9,paddingBottom:9,paddingLeft:9,scale:.6,y:jn(100),centerY:Fe,tooltipText:"Created using amCharts 5",tooltipX:Fe,cursorOverStyle:"pointer",background:tr.new(this,{fill:gl(4671320),fillOpacity:0,tooltipY:5})})),n=Wl.new(this,{pointerOrientation:"horizontal",paddingTop:4,paddingRight:7,paddingBottom:4,paddingLeft:7});n.label.setAll({fontSize:12}),n.get("background").setAll({fill:this.interfaceColors.get("background"),stroke:this.interfaceColors.get("grid"),strokeOpacity:.3}),e.set("tooltip",n),e.events.on("click",()=>{window.open("https://www.amcharts.com/","_blank")}),e.states.create("hover",{}),e.children.push(dn.new(this,{stroke:gl(13421772),strokeWidth:3,svgPath:"M5 25 L13 25h13.6c3.4 0 6 0 10.3-4.3s5.2-12 8.6-12c3.4 0 4.3 8.6 7.7 8.6M83.4 25H79.8c-3.4 0-6 0-10.3-4.3s-5.2-12-8.6-12-4.3 8.6-7.7 8.6"})).states.create("hover",{stroke:gl(3976191)}),e.children.push(dn.new(this,{stroke:gl(8947848),strokeWidth:3,svgPath:"M83.4 25h-31C37 25 39.5 4.4 28.4 4.4S18.9 24.2 4.3 25H0"})).states.create("hover",{stroke:gl(4671320)}),this._logo=e,this._handleLogo()}}_getRealSize(){return this.dom.getBoundingClientRect()}_getCalculatedSize(e){return this._settings.calculateSize?this._settings.calculateSize(e):{width:e.width,height:e.height}}_init(){const e=this._settings;e.accessible!==!1&&(e.focusable&&(this._inner.setAttribute("focusable","true"),this._inner.setAttribute("tabindex",this.tabindex+"")),e.ariaLabel&&this._inner.setAttribute("aria-label",e.ariaLabel),e.role&&this._inner.setAttribute("role",e.role));const n=this._renderer,i=this._getRealSize(),s=this._getCalculatedSize(i),r=Math.floor(s.width),a=Math.floor(s.height),o=Math.floor(i.width),l=Math.floor(i.height),u=st.new(this,{visible:!0,width:r,height:a});this._rootContainer=u,this._rootContainer._defaultThemes.push(Uwe.new(this));const d=u.children.push(st.new(this,{visible:!0,width:Fe,height:Fe}));this.container=d,n.resize(o,l,r,a),this._inner.appendChild(n.view),this._initResizeSensor();const c=document.createElement("div");if(this._htmlElementContainer=c,c.className="am5-html-container",c.style.position="absolute",c.style.pointerEvents="none",this._tooltipContainerSettings||(c.style.overflow="hidden"),this._inner.appendChild(c),this._a11yD!==!0){const f=document.createElement("div");f.className="am5-reader-container",f.setAttribute("role","alert"),f.style.position="absolute",f.style.width="1px",f.style.height="1px",f.style.overflow="hidden",f.style.clip="rect(1px, 1px, 1px, 1px)",this._readerAlertElement=f,this._inner.appendChild(this._readerAlertElement);const h=document.createElement("div");h.className="am5-focus-container",h.style.position="absolute",h.style.pointerEvents="none",h.style.top="0px",h.style.left="0px",h.style.overflow="hidden",h.style.width=r+"px",h.style.height=a+"px",h.setAttribute("role","graphics-document"),pd(h,!1),this._focusElementContainer=h,this._inner.appendChild(this._focusElementContainer);const g=document.createElement("div");this._tooltipElementContainer=g,g.className="am5-tooltip-container",this._inner.appendChild(g),Fa("keyboardevents")&&(this._disposers.push(Nn(window,"keydown",v=>{const p=kd(v);p=="Shift"?this._isShift=!0:p=="Tab"&&(this._isShift=v.shiftKey)})),this._disposers.push(Nn(window,"keyup",v=>{kd(v)=="Shift"&&(this._isShift=!1)})),this._disposers.push(Nn(h,"click",()=>{const v=this._focusedSprite;if(v){const p=v.get("clickAnnounceText","");p!==""&&this.readerAlert(p);const _=n.getEvent(new MouseEvent("click"));v.events.dispatch("click",{type:"click",originalEvent:_.event,point:_.point,simulated:!0,target:v})}})),this._disposers.push(Nn(h,"keydown",v=>{const p=this._focusedSprite;if(p){v.key=="Escape"&&(K0e(),this._focusedSprite=void 0);let _=0,b=0;const x=kd(v);switch(x){case"Enter":case" ":const k=p.get("clickAnnounceText","");if(k!==""&&this.readerAlert(k),x==" "&&p.get("role")!="checkbox")return;v.preventDefault();const I=n.getEvent(new MouseEvent("mouse"));p.events.dispatch("click",{type:"click",originalEvent:I.event,point:I.point,simulated:!0,target:p});return;case"ArrowLeft":_=-6;break;case"ArrowRight":_=6;break;case"ArrowUp":b=-6;break;case"ArrowDown":b=6;break;default:return}if(_!=0||b!=0){if(v.preventDefault(),!p.isDragging()){this._keyboardDragPoint={x:0,y:0};const E=n.getEvent(new MouseEvent("mousedown",{clientX:0,clientY:0}));E.point={x:0,y:0},p.events.isEnabled("pointerdown")&&p.events.dispatch("pointerdown",{type:"pointerdown",originalEvent:E.event,point:E.point,simulated:!0,target:p})}const k=this._keyboardDragPoint;k.x+=_,k.y+=b;const I=n.getEvent(new MouseEvent("mousemove",{clientX:k.x,clientY:k.y}),!1);p.events.isEnabled("globalpointermove")&&p.events.dispatch("globalpointermove",{type:"globalpointermove",originalEvent:I.event,point:I.point,simulated:!0,target:p})}}})),this._disposers.push(Nn(h,"keyup",v=>{if(this._focusedSprite){const p=this._focusedSprite,_=kd(v);switch(_){case"ArrowLeft":case"ArrowRight":case"ArrowUp":case"ArrowDown":if(p.isDragging()){const x=this._keyboardDragPoint,k=n.getEvent(new MouseEvent("mouseup",{clientX:x.x,clientY:x.y}));p.events.isEnabled("globalpointerup")&&p.events.dispatch("globalpointerup",{type:"globalpointerup",originalEvent:k.event,point:k.point,simulated:!0,target:p}),this._keyboardDragPoint=void 0;return}else if(p.get("focusableGroup")){const x=p.get("focusableGroup"),k=this._tabindexes.filter(T=>!!(T.get("focusableGroup")==x&&T.getPrivate("focusable")!==!1&&T.isVisibleDeep()));let I=k.indexOf(p);const E=k.length-1;I+=_=="ArrowRight"||_=="ArrowDown"?1:-1,I<0?I=E:I>E&&(I=0),Q0e(k[I].getPrivate("focusElement").dom)}break;case"Tab":const b=p.get("focusableGroup");if(b&&this._isShift){this._focusNext(p.getPrivate("focusElement").dom,-1,b);return}break}}})))}this._startTicker(),this.setThemes([]),this._addTooltip(),this._hasLicense()||this._showBranding()}_initResizeSensor(){this._resizeSensorDisposer&&this._resizeSensorDisposer.dispose(),this._resizeSensorDisposer=new Lwe(this.dom,()=>{this.autoResize&&this.resize()}),this._disposers.push(this._resizeSensorDisposer)}resize(){const e=this._getRealSize(),n=this._getCalculatedSize(e),i=Math.floor(n.width),s=Math.floor(n.height);if(i>0&&s>0){const r=Math.floor(e.width),a=Math.floor(e.height),o=this._htmlElementContainer;if(o.style.width=i+"px",o.style.height=s+"px",this._a11yD!==!0){const u=this._focusElementContainer;u.style.width=i+"px",u.style.height=s+"px"}this._renderer.resize(r,a,i,s);const l=this._rootContainer;l.setPrivate("width",i),l.setPrivate("height",s),this._render(),this._handleLogo()}}_render(){this._renderer.render(this._rootContainer._display),this._focusElementDirty&&(this._updateCurrentFocus(),this._focusElementDirty=!1)}_runTickers(e){oe(this._tickers,n=>{n(e)})}_runAnimations(e){let n=0;return L0(this._animations,i=>{const s=i._runAnimation(e);return s===qu.Stopped?!1:(s===qu.Playing&&++n,!0)}),this._isDirtyAnimation=!1,n===0}_runDirties(){let e={};for(;this._isDirtyParents;)this._isDirtyParents=!1,xi(this._dirtyParents).forEach(a=>{const o=this._dirtyParents[a];delete this._dirtyParents[a],o.isDisposed()||(e[o.uid]=o,o._prepareChildren())});xi(e).forEach(a=>{e[a]._updateChildren()});const n=[];xi(this._dirty).forEach(a=>{const o=this._dirty[a];o.isDisposed()?delete this._dirty[o.uid]:(n.push(o),o._beforeChanged())}),n.forEach(a=>{a._changed(),delete this._dirty[a.uid],a._clearDirty()}),this._isDirty=!1;const i={},s=[];xi(this._dirtyBounds).forEach(a=>{const o=this._dirtyBounds[a];delete this._dirtyBounds[a],o.isDisposed()||(i[o.uid]=o.depth(),s.push(o))}),this._positionHTMLElements(),s.sort((a,o)=>ja(i[o.uid],i[a.uid])),s.forEach(a=>{a._updateBounds()});const r=this._dirtyPositions;xi(r).forEach(a=>{const o=r[a];delete r[a],o.isDisposed()||o._updatePosition()}),n.forEach(a=>{a._afterChanged()})}_renderFrame(e){if(this._updateTick){this.events.isEnabled("framestarted")&&this.events.dispatch("framestarted",{type:"framestarted",target:this,timestamp:e}),this._checkComputedStyles(),this._runTickers(e);const n=this._runAnimations(e);return this._runDirties(),this._render(),this._renderer.resetImageArray(),this._positionHTMLElements(),this.events.isEnabled("frameended")&&this.events.dispatch("frameended",{type:"frameended",target:this,timestamp:e}),this._tickers.length===0&&n&&!this._isDirtyAnimation&&!this._isDirty}else return!0}_runTicker(e,n){this.isDisposed()||(this.animationTime=e,this._renderFrame(e)?(this._ticker=null,this.animationTime=null):this._paused||(n?this._ticker:bV(this.fps,this._ticker)))}_runTickerNow(e=1e4){if(!this.isDisposed()){const n=performance.now()+e;for(;;){const i=performance.now();if(i>=n){this.animationTime=null;break}if(this.animationTime=i,this._renderFrame(i)){this.animationTime=null;break}}}}_startTicker(){this._ticker===null&&(this.animationTime=null,this._ticker=e=>{this._runTicker(e)},bV(this.fps,this._ticker))}get updateTick(){return this._updateTick}set updateTick(e){this._updateTick=e,e&&this._startTicker()}_addDirtyEntity(e){this._isDirty=!0,this._dirty[e.uid]===void 0&&(this._dirty[e.uid]=e),this._startTicker()}_addDirtyParent(e){this._isDirty=!0,this._isDirtyParents=!0,this._dirtyParents[e.uid]===void 0&&(this._dirtyParents[e.uid]=e),this._startTicker()}_addDirtyBounds(e){this._isDirty=!0,this._dirtyBounds[e.uid]===void 0&&(this._dirtyBounds[e.uid]=e),this._startTicker()}_addDirtyPosition(e){this._isDirty=!0,this._dirtyPositions[e.uid]===void 0&&(this._dirtyPositions[e.uid]=e),this._startTicker()}_addAnimation(e){this._isDirtyAnimation=!0,this._animations.indexOf(e)===-1&&this._animations.push(e),this._startTicker()}_markDirty(){this._isDirty=!0}_markDirtyRedraw(){this.events.once("frameended",()=>{this._isDirty=!0,this._startTicker()})}eachFrame(e){return this._tickers.push(e),this._startTicker(),new Di(()=>{ns(this._tickers,e)})}markDirtyGlobal(e){e||(e=this.container),e.walkChildren(n=>{n instanceof st&&this.markDirtyGlobal(n),n.markDirty(),n.markDirtyBounds()})}width(){return Math.floor(this._getCalculatedSize(this._getRealSize()).width)}height(){return Math.floor(this._getCalculatedSize(this._getRealSize()).height)}dispose(){this._isDisposed||(this._isDisposed=!0,this._rootContainer.dispose(),this._renderer.dispose(),this.horizontalLayout.dispose(),this.verticalLayout.dispose(),this.interfaceColors.dispose(),oe(this._disposers,e=>{e.dispose()}),this._inner&&X0e(this._inner),Ir(Ca.rootElements,this))}isDisposed(){return this._isDisposed}readerAlert(e){this._a11yD!==!0&&(this._readerAlertElement.innerHTML=oV(e))}setThemes(e){this._rootContainer.set("themes",e);const n=this.tooltipContainer;n&&n._applyThemes();const i=this.interfaceColors;i&&i._applyThemes()}_addTooltip(){if(!this.tooltipContainer){const e=this._tooltipContainerSettings,n=this._rootContainer.children.push(st.new(this,{position:"absolute",isMeasured:!1,width:Fe,height:Fe,layer:e?35:30,layerMargin:e||void 0}));this.tooltipContainer=n;const i=Wl.new(this,{});this.container.set("tooltip",i),i.hide(0),this._tooltip=i}}_registerTabindexOrder(e){this._a11yD!=!0&&(e.get("focusable")?uv(this._tabindexes,e):Ir(this._tabindexes,e),this._invalidateTabindexes())}_unregisterTabindexOrder(e){this._a11yD!=!0&&(Ir(this._tabindexes,e),this._invalidateTabindexes())}_invalidateTabindexes(){if(this._a11yD==!0)return;this._tabindexes.sort((n,i)=>{const s=n.get("tabindexOrder",0),r=i.get("tabindexOrder",0);return s==r?0:s>r?1:-1});const e=[];oe(this._tabindexes,(n,i)=>{n.getPrivate("focusElement")?this._moveFocusElement(i,n):this._makeFocusElement(i,n);const s=n.get("focusableGroup");s&&n.getPrivate("focusable")!==!1&&(e.indexOf(s)!==-1?n.getPrivate("focusElement").dom.setAttribute("tabindex","-1"):e.push(s))})}_updateCurrentFocus(){this._a11yD!=!0&&this._focusedSprite&&(this._decorateFocusElement(this._focusedSprite),this._positionFocusElement(this._focusedSprite))}_decorateFocusElement(e,n){if(this._a11yD==!0||(n||(n=e.getPrivate("focusElement").dom),!n))return;const i=e.get("role");i?n.setAttribute("role",i):n.removeAttribute("role");const s=e.get("ariaLabel");if(s){const v=yh(e,s);n.setAttribute("aria-label",v)}else n.removeAttribute("aria-label");const r=e.get("ariaLive");r?n.setAttribute("aria-live",r):n.removeAttribute("aria-live");const a=e.get("ariaChecked");a!=null&&i&&["checkbox","option","radio","menuitemcheckbox","menuitemradio","treeitem"].indexOf(i)!==-1?n.setAttribute("aria-checked",a?"true":"false"):n.removeAttribute("aria-checked");const o=e.get("ariaCurrent");o!=null?n.setAttribute("aria-current",o):n.removeAttribute("aria-current");const l=e.get("ariaSelected");l!=null&&i&&["gridcell","option","row","tab","columnheader","rowheader","treeitem"].indexOf(i)!==-1?n.setAttribute("aria-selected",l?"true":"false"):n.removeAttribute("aria-selected"),e.get("ariaHidden")?n.setAttribute("aria-hidden","true"):n.removeAttribute("aria-hidden");const u=e.get("ariaOrientation");u?n.setAttribute("aria-orientation",u):n.removeAttribute("aria-orientation");const d=e.get("ariaValueNow");d?n.setAttribute("aria-valuenow",d):n.removeAttribute("aria-valuenow");const c=e.get("ariaValueMin");c?n.setAttribute("aria-valuemin",c):n.removeAttribute("aria-valuemin");const f=e.get("ariaValueMax");f?n.setAttribute("aria-valuemax",f):n.removeAttribute("aria-valuemax");const h=e.get("ariaValueText");h?n.setAttribute("aria-valuetext",h):n.removeAttribute("aria-valuetext");const g=e.get("ariaControls");g?n.setAttribute("aria-controls",g):n.removeAttribute("aria-controls"),e.get("visible")&&e.get("opacity")!==0&&e.get("role")!="tooltip"&&!e.isHidden()&&e.getPrivate("focusable")!==!1?(n.getAttribute("tabindex")!="-1"&&n.setAttribute("tabindex",""+this.tabindex),n.removeAttribute("aria-hidden")):(n.removeAttribute("tabindex"),n.setAttribute("aria-hidden","true"))}_makeFocusElement(e,n){if(n.getPrivate("focusElement")||this._a11yD==!0)return;const i=document.createElement("div");n.get("role")!="tooltip"&&(i.tabIndex=this.tabindex),i.style.position="absolute",pd(i,!1);const s=[];n.setPrivate("focusElement",{dom:i,disposers:s}),this._decorateFocusElement(n),s.push(Nn(i,"focus",r=>{this._handleFocus(r)})),s.push(Nn(i,"blur",r=>{this._handleBlur(r)})),this._moveFocusElement(e,n)}_removeFocusElement(e){if(this._a11yD==!0)return;Ir(this._tabindexes,e);const n=e.getPrivate("focusElement");n&&(this._focusElementContainer.removeChild(n.dom),oe(n.disposers,s=>{s.dispose()}))}_hideFocusElement(e){if(this._a11yD==!0)return;const n=e.getPrivate("focusElement");n.dom.style.display="none"}_moveFocusElement(e,n){if(this._a11yD==!0)return;const i=this._focusElementContainer,s=n.getPrivate("focusElement").dom;if(s===this._focusElementContainer.children[e])return;const r=this._focusElementContainer.children[e+1];r?i.insertBefore(s,r):i.append(s)}_positionFocusElement(e){if(this._a11yD==!0||e==null)return;const n=e.globalBounds();let i=n.right==n.left?e.width():n.right-n.left,s=n.top==n.bottom?e.height():n.bottom-n.top;const r=this._settings.focusPadding!==void 0?this._settings.focusPadding:2;let a=n.left-r,o=n.top-r;i<0&&(a+=i,i=Math.abs(i)),s<0&&(o+=s,s=Math.abs(s));const l=e.getPrivate("focusElement").dom;l.style.top=o+"px",l.style.left=a+"px",l.style.width=i+r*2+"px",l.style.height=s+r*2+"px"}_getSpriteByFocusElement(e){let n;return ZC(this._tabindexes,(i,s)=>i.getPrivate("focusElement").dom===e?(n=i,!1):!0),n}_handleFocus(e){if(this._a11yD==!0)return;const n=this._getSpriteByFocusElement(e.target);if(n){if(!n.isVisibleDeep()){this._focusNext(e.target,this._isShift?-1:1);return}this._positionFocusElement(n),this._focusedSprite=n,n.events.isEnabled("focus")&&n.events.dispatch("focus",{type:"focus",originalEvent:e,target:n})}}_focusNext(e,n,i){if(this._a11yD==!0)return;const s=Array.from(document.querySelectorAll(["a[href]","area[href]","button:not([disabled])","details","input:not([disabled])","iframe:not([disabled])","select:not([disabled])","textarea:not([disabled])",'[contentEditable=""]','[contentEditable="true"]','[contentEditable="TRUE"]','[tabindex]:not([tabindex^="-"])'].join(",")));let r=s.indexOf(e)+n;r<0?r=s.length-1:r>=s.length&&(r=0);const a=s[r];if(i&&n==-1){const o=this._getSpriteByFocusElement(a);if(o&&o.get("focusableGroup")==i){this._focusNext(a,n);return}}a.focus()}_handleBlur(e){if(this._a11yD==!0)return;const n=this._focusedSprite;n&&!n.isDisposed()&&n.events.isEnabled("blur")&&n.events.dispatch("blur",{type:"blur",originalEvent:e,target:n}),this._focusedSprite=void 0}updateTooltip(e){if(this._a11yD==!0)return;const n=oV(e._getText());let i=e.getPrivate("tooltipElement");e.get("role")=="tooltip"&&n!=""?(i||(i=this._makeTooltipElement(e)),i.innerHTML!=n&&(i.innerHTML=n),i.setAttribute("aria-hidden",e.isVisibleDeep()?"false":"true")):i&&(i.remove(),e.removePrivate("tooltipElement"))}_makeTooltipElement(e){const n=this._tooltipElementContainer,i=document.createElement("div");return i.style.position="absolute",i.style.width="1px",i.style.height="1px",i.style.overflow="hidden",i.style.clip="rect(1px, 1px, 1px, 1px)",pd(i,!1),this._decorateFocusElement(e,i),n.append(i),e.setPrivate("tooltipElement",i),i}_removeTooltipElement(e){if(this._a11yD==!0)return;const n=e.getPrivate("tooltipElement");if(n){const i=n.parentElement;i&&i.removeChild(n)}}_invalidateAccessibility(e){if(this._a11yD==!0)return;this._focusElementDirty=!0;const n=e.getPrivate("focusElement");e.get("focusable")?n&&(this._decorateFocusElement(e),this._positionFocusElement(e)):n&&this._removeFocusElement(e)}focused(e){return this._focusedSprite===e}documentPointToRoot(e){const n=this._getRealSize(),i=this._getCalculatedSize(n),s=i.width/n.width,r=i.height/n.height;return{x:(e.x-n.left)*s,y:(e.y-n.top)*r}}rootPointToDocument(e){const n=this._getRealSize(),i=this._getCalculatedSize(n),s=i.width/n.width,r=i.height/n.height;return{x:e.x/s+n.left,y:e.y/r+n.top}}addDisposer(e){return this._disposers.push(e),e}_updateComputedStyles(){const e=window.getComputedStyle(this.dom);let n="";rn(e,(s,r)=>{vh(s)&&s.match(/^font/)&&(n+=r)});const i=n!=this._fontHash;return i&&(this._fontHash=n),i}_checkComputedStyles(){this._updateComputedStyles()&&this._invalidateLabelBounds(this.container)}_invalidateLabelBounds(e){e instanceof st?e.children.each(n=>{this._invalidateLabelBounds(n)}):e instanceof pc&&e.markDirtyBounds()}_hasLicense(){for(let e=0;e<Ca.licenses.length;e++)if(Ca.licenses[e].match(/^AM5C.{5,}/i))return!0;return!1}_licenseApplied(){this._logo&&this._logo.set("forceHidden",!0)}get debugGhostView(){return this._renderer.debugGhostView}set debugGhostView(e){this._renderer.debugGhostView=e}set tapToActivate(e){this._renderer.tapToActivate=e}get tapToActivate(){return this._renderer.tapToActivate}set tapToActivateTimeout(e){this._renderer.tapToActivateTimeout=e}get tapToActivateTimeout(){return this._renderer.tapToActivateTimeout}_makeHTMLElement(e){const n=this._htmlElementContainer,i=document.createElement("div");return e.setPrivate("htmlElement",i),i.style.position="absolute",i.style.overflow="auto",i.style.boxSizing="border-box",pd(i,e.get("interactive",!1)),e.events.isEnabled("click")&&(pd(i,!0),this._disposers.push(Nn(i,"click",s=>{const r=this._renderer.getEvent(s);e.events.dispatch("click",{type:"click",originalEvent:r.event,point:r.point,simulated:!1,target:e})}))),this._positionHTMLElement(e),n.append(i),uv(this._htmlEnabledContainers,e),i}_positionHTMLElements(){oe(this._htmlEnabledContainers,e=>{this._positionHTMLElement(e)})}_positionHTMLElement(e){const n=e.getPrivate("htmlElement");if(n){oe(["paddingTop","paddingRight","paddingBottom","paddingLeft","minWidth","minHeight","maxWidth","maxHeight"],b=>{const x=e.get(b);x?n.style[b]=x+"px":n.style[b]=""}),oe(["fontFamily","fontSize","fontStyle","fontWeight","fontStyle","fontVariant","textDecoration"],b=>{const x=e.get(b);x?n.style[b]=x+"":n.style[b]=""});const r=e.compositeScale()||1,a=e.compositeRotation()||0;n.style.transform="",n.style.transformOrigin="";const o=e.compositeOpacity();setTimeout(()=>{n.style.opacity=o+""},10);const l=e.isVisibleDeep();l&&(n.style.display="block");let u={x:e.x()+e.get("dx",0),y:e.y()+e.get("dy",0)};e.parent&&(u=e.parent.toGlobal(u)),n.style.top=u.y+"px",n.style.left=u.x+"px";const d=e.get("width"),c=e.get("height");let f=0,h=0;if(d&&(f=e.width()),c&&(h=e.height()),!d||!c){n.style.position="fixed",n.style.width="",n.style.height="";const b=n.getBoundingClientRect();n.style.position="absolute",d||(f=b.width),c||(h=b.height);let x=f/r,k=h/r,I=e.get("centerX",0),E=e.get("centerY",0),T=0,S=0,w=0,P=0;I instanceof St?(T=-I.value*x,S=(1-I.value)*x):(T=-I,S=x-I),E instanceof St?(w=-E.value*k,P=(1-E.value)*k):(w=-E,P=k-E),e._localBounds={left:T,right:S,top:w,bottom:P};let C=e._adjustedLocalBounds,D=e._display.getAdjustedBounds(e._localBounds);e._adjustedLocalBounds=D,(C.left!==D.left||C.right!==D.right||C.top!==D.top||C.bottom!==D.bottom)&&e.markDirtyBounds()}f>0&&(n.style.minWidth=f+"px"),h>0&&(n.style.minHeight=h+"px"),(!l||o==0)&&(n.style.display="none");const g=e.get("centerX",0),v=iV(g)?g.percent+"%":g+"px",p=e.get("centerY",0),_=iV(p)?p.percent+"%":p+"px";(g||p)&&(n.style.transform="translate(-"+v+", -"+_+")"+n.style.transform),r!=1&&(n.style.transform+="scale("+r+")"),a!=0&&(n.style.transform+=" rotate("+a+"deg)"),n.style.transform!=""&&(n.style.transformOrigin=v+" "+_)}}_setHTMLContent(e,n){let i=e.getPrivate("htmlElement");i||(i=this._makeHTMLElement(e)),i.innerHTML!=n&&(i.innerHTML=n)}_removeHTMLContent(e){let n=e.getPrivate("htmlElement");n&&(this._htmlElementContainer.removeChild(n),e.removePrivate("htmlElement")),Ir(this._htmlEnabledContainers,e)}}let dp;function k1e(t,e,n){const i=e.interfaceColors,s=i.get("secondaryButton").toCSS(),r=i.get("text").toCSS(),a=i.get("alternativeBackground").toCSS(.45);if(!dp){const o=new Rs([new Gi(t,".am5-modal",{width:"100%",height:"100%",position:"absolute","z-index":"100000",top:"0",left:"0"},e.nonce),new Gi(t,".am5-modal-curtain",{top:"0",left:"0",width:"100%",height:"100%",position:"absolute",background:i.get("background").toCSS(.5),"z-index":"100"},e.nonce),new Gi(t,".am5-modal-wrapper",{top:"0",left:"0",width:"100%",height:"100%",position:"absolute","text-align":"center","white-space":"nowrap",background:i.get("background").toCSS(.5),"z-index":"101"},e.nonce),new Gi(t,".am5-modal-wrapper:before",{content:"''",display:"inline-block",height:"100%","vertical-align":"middle","margin-right":"-0.25em"},e.nonce),new Gi(t,".am5-modal-content",{display:"inline-block",padding:"1.2em","vertical-align":"middle","text-align":"start","white-space":"normal",background:i.get("background").toCSS(),"border-radius":"4px","-webkit-box-shadow":"0px 0px 36px 0px "+a,"box-shadow":"0px 0px 36px 0px "+a,color:r},e.nonce),new Gi(t,".am5-modal-content h1",{"font-size":"1em",margin:"0 0 0.5em 0"},e.nonce),new Gi(t,".am5-modal-table",{display:"table",margin:"1em 0"},e.nonce),new Gi(t,".am5-modal-table-row",{display:"table-row"},e.nonce),new Gi(t,".am5-modal-table-heading",{display:"table-heading",padding:"3px 10px 3px 0"},e.nonce),new Gi(t,".am5-modal-table-cell",{display:"table-cell",padding:"3px 0 3px 0"},e.nonce),new Gi(t,".am5-modal-table-cell > *",{"vertical-align":"middle"},e.nonce),new Gi(t,".am5-modal-content input[type=text], .am5-modal-content input[type=number], .am5-modal-content select",{border:"1px solid "+s,"border-radius":"4px",padding:"3px 5px",margin:"2px"},e.nonce),new Gi(t,".am5-modal-input-narrow",{width:"50px"},e.nonce),new Gi(t,".am5-modal-button",{"font-weight":"400",color:i.get("secondaryButtonText").toCSS(),"line-height":"1.5","text-align":"center","text-decoration":"none","vertical-align":"middle",cursor:"pointer",padding:"0.2em 0.8em","font-size":"1em","border-radius":"0.25em",margin:"0 0.25em 0 0",border:"1px solid "+i.get("secondaryButtonStroke").toCSS(),background:i.get("secondaryButton").toCSS()},e.nonce),new Gi(t,".am5-modal-button:hover",{background:i.get("secondaryButtonHover").toCSS()},e.nonce),new Gi(t,".am5-modal-button.am5-modal-primary",{color:i.get("primaryButtonText").toCSS(),border:"1px solid "+i.get("primaryButtonStroke").toCSS(),background:i.get("primaryButton").toCSS()},e.nonce),new Gi(t,".am5-modal-button.am5-modal-primary:hover",{background:i.get("primaryButtonHover").toCSS()},e.nonce)]);dp=new eE(()=>{dp=void 0,o.dispose()})}return dp.increment()}class bh extends Ei{_afterNew(){super._afterNewApplyThemes(),this._setRawDefault("deactivateRoot",!0),k1e(ewe(this._root.dom),this._root);const e=document.createElement("div");e.className="am5-modal",e.style.display="none",this.root._inner.appendChild(e),this.setPrivate("container",e);const n=document.createElement("div");n.className="am5-modal-curtain",e.appendChild(n),this.setPrivate("curtain",n),this._disposers.push(Nn(n,"click",()=>{this.cancel()}));const i=document.createElement("div");i.className="am5-modal-wrapper",e.appendChild(i),this.setPrivate("wrapper",i);const s=document.createElement("div");s.className="am5-modal-content",i.appendChild(s),this.setPrivate("content",s);const r=this.get("content");r&&(s.innerHTML=r),Fa("keyboardevents")&&this._disposers.push(Nn(document,"keydown",a=>{this.isOpen()&&kd(a)=="Escape"&&this.cancel()}))}_beforeChanged(){super._beforeChanged(),this.isDirty("content")&&(this.getPrivate("content").innerHTML=this.get("content",""))}isOpen(){return this.getPrivate("container").style.display!="none"}open(){this.getPrivate("container").style.display="block",this.get("deactivateRoot")&&this.setTimeout(()=>{this._root._renderer.interactionsEnabled=!1},10),this.events.dispatch("opened",{type:"opened",target:this})}close(){this.getPrivate("container").style.display="none",this.get("deactivateRoot")&&(this._root._renderer.interactionsEnabled=!0),this.events.dispatch("closed",{type:"closed",target:this})}cancel(){this.getPrivate("container").style.display="none",this.get("deactivateRoot")&&(this._root._renderer.interactionsEnabled=!0),this.events.dispatch("cancelled",{type:"cancelled",target:this})}_dispose(){super._dispose();const e=this.getPrivate("container");e.parentElement&&e.parentElement.removeChild(e)}}Object.defineProperty(bh,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Modal"});Object.defineProperty(bh,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Ei.classNames.concat([bh.className])});class yy extends Ei{constructor(){super(...arguments),Object.defineProperty(this,"_index",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"series",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}_afterNew(){super._afterNewApplyThemes()}_beforeChanged(){if(super._beforeChanged(),this.isDirty("sprite")){const e=this.get("sprite");e&&(e.setAll({position:"absolute",role:"figure"}),this._disposers.push(e))}(this.isDirty("locationX")||this.isDirty("locationY"))&&this.series&&this.series._positionBullet(this)}}Object.defineProperty(yy,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Bullet"});Object.defineProperty(yy,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Ei.classNames.concat([yy.className])});class Ga extends tr{_beforeChanged(){super._beforeChanged(),(this.isDirty("cornerRadiusTL")||this.isDirty("cornerRadiusTR")||this.isDirty("cornerRadiusBR")||this.isDirty("cornerRadiusBL"))&&(this._clear=!0)}_draw(){let e=this.width(),n=this.height(),i=e,s=n,r=i/Math.abs(e),a=s/Math.abs(n);if(me(i)&&me(s)){let o=Math.min(i,s)/2,l=Qn(this.get("cornerRadiusTL",8),o),u=Qn(this.get("cornerRadiusTR",8),o),d=Qn(this.get("cornerRadiusBR",8),o),c=Qn(this.get("cornerRadiusBL",8),o),f=Math.min(Math.abs(i/2),Math.abs(s/2));l=Kn(l,0,f),u=Kn(u,0,f),d=Kn(d,0,f),c=Kn(c,0,f);const h=this._display;h.moveTo(l*r,0),h.lineTo(i-u*r,0),u>0&&h.arcTo(i,0,i,u*a,u),h.lineTo(i,s-d*a),d>0&&h.arcTo(i,s,i-d*r,s,d),h.lineTo(c*r,s),c>0&&h.arcTo(0,s,0,s-c*a,c),h.lineTo(0,l*a),l>0&&h.arcTo(0,0,l*r,0,l),h.closePath()}}}Object.defineProperty(Ga,"className",{enumerable:!0,configurable:!0,writable:!0,value:"RoundedRectangle"});Object.defineProperty(Ga,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:tr.classNames.concat([Ga.className])});class fv extends st{_afterNew(){this._settings.themeTags=Lt(this._settings.themeTags,["button"]),super._afterNew(),this._settings.background||this.set("background",Ga.new(this._root,{themeTags:Lt(this._settings.themeTags,["background"])})),this.setPrivate("trustBounds",!0)}_prepareChildren(){if(super._prepareChildren(),this.isDirty("icon")){const e=this._prevSettings.icon,n=this.get("icon");n!==e&&(this._disposeProperty("icon"),e&&e.dispose(),n&&this.children.push(n),this._prevSettings.icon=n)}if(this.isDirty("label")){const e=this._prevSettings.label,n=this.get("label");n!==e&&(this._disposeProperty("label"),e&&e.dispose(),n&&this.children.push(n),this._prevSettings.label=n)}}}Object.defineProperty(fv,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Button"});Object.defineProperty(fv,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:st.classNames.concat([fv.className])});class T1e extends ef{constructor(){super(...arguments),Object.defineProperty(this,"processor",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}incrementRef(){}decrementRef(){}_onPush(e){this.processor&&this.processor.processRow(e),super._onPush(e)}_onInsertIndex(e,n){this.processor&&this.processor.processRow(n),super._onInsertIndex(e,n)}_onSetIndex(e,n,i){this.processor&&this.processor.processRow(i),super._onSetIndex(e,n,i)}}class oa extends YU{constructor(e,n,i){super(i),Object.defineProperty(this,"component",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"dataContext",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"bullets",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"open",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"close",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.dataContext=n,this.component=e,this._settings.visible=!0,this._checkDirty()}markDirty(){this.component.markDirtyValues(this)}_startAnimation(){this.component._root._addAnimation(this)}_animationTime(){return this.component._root.animationTime}_dispose(){this.component&&this.component.disposeDataItem(this),super._dispose()}show(e){this.setRaw("visible",!0),this.component&&this.component.showDataItem(this,e)}hide(e){this.setRaw("visible",!1),this.component&&this.component.hideDataItem(this,e)}isHidden(){return!this.get("visible")}}class _c extends st{constructor(){super(...arguments),Object.defineProperty(this,"_data",{enumerable:!0,configurable:!0,writable:!0,value:new T1e}),Object.defineProperty(this,"_dataItems",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_mainDataItems",{enumerable:!0,configurable:!0,writable:!0,value:this._dataItems}),Object.defineProperty(this,"valueFields",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"fields",{enumerable:!0,configurable:!0,writable:!0,value:["id"]}),Object.defineProperty(this,"_valueFields",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_valueFieldsF",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_fields",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_fieldsF",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_valuesDirty",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_dataChanged",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_dataGrouped",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"inited",{enumerable:!0,configurable:!0,writable:!0,value:!1})}set data(e){e.incrementRef(),this._data.decrementRef(),this._data=e}get data(){return this._data}_dispose(){super._dispose(),this._data.decrementRef()}_onDataClear(){}_afterNew(){super._afterNew(),this._data.incrementRef(),this._updateFields(),this._disposers.push(this.data.events.onAll(e=>{const n=this._mainDataItems;if(this.markDirtyValues(),this._markDirtyGroup(),this._dataChanged=!0,e.type==="clear")oe(n,i=>{i.dispose()}),n.length=0,this._onDataClear();else if(e.type==="push"){const i=new oa(this,e.newValue,this._makeDataItem(e.newValue));n.push(i),this.processDataItem(i)}else if(e.type==="setIndex"){const i=n[e.index],s=this._makeDataItem(e.newValue);i.bullets&&i.bullets.length==0&&(i.bullets=void 0),xi(s).forEach(r=>{i.animate({key:r,to:s[r],duration:this.get("interpolationDuration",0),easing:this.get("interpolationEasing")})}),i.dataContext=e.newValue}else if(e.type==="insertIndex"){const i=new oa(this,e.newValue,this._makeDataItem(e.newValue));n.splice(e.index,0,i),this.processDataItem(i)}else if(e.type==="removeIndex")n[e.index].dispose(),n.splice(e.index,1);else if(e.type==="moveIndex"){const i=n[e.oldIndex];n.splice(e.oldIndex,1),n.splice(e.newIndex,0,i)}else throw new Error("Unknown IStreamEvent type");this._afterDataChange()}))}_updateFields(){this.valueFields&&(this._valueFields=[],this._valueFieldsF={},oe(this.valueFields,e=>{this.get(e+"Field")&&(this._valueFields.push(e),this._valueFieldsF[e]={fieldKey:e+"Field",workingKey:e+"Working"})})),this.fields&&(this._fields=[],this._fieldsF={},oe(this.fields,e=>{this.get(e+"Field")&&(this._fields.push(e),this._fieldsF[e]=e+"Field")}))}get dataItems(){return this._dataItems}processDataItem(e){}_makeDataItem(e){const n={};return this._valueFields&&oe(this._valueFields,i=>{const s=this.get(this._valueFieldsF[i].fieldKey);n[i]=e[s],n[this._valueFieldsF[i].workingKey]=n[i]}),this._fields&&oe(this._fields,i=>{const s=this.get(this._fieldsF[i]);n[i]=e[s]}),n}makeDataItem(e,n){let i=new oa(this,n,e);return this.processDataItem(i),i}pushDataItem(e,n){const i=this.makeDataItem(e,n);return this._mainDataItems.push(i),i}disposeDataItem(e){}showDataItem(e,n){return ki(this,void 0,void 0,function*(){e.set("visible",!0)})}hideDataItem(e,n){return ki(this,void 0,void 0,function*(){e.set("visible",!1)})}_clearDirty(){super._clearDirty(),this._valuesDirty=!1}_afterDataChange(){}_afterChanged(){if(super._afterChanged(),this._dataChanged){const e="datavalidated";this.events.isEnabled(e)&&this.events.dispatch(e,{type:e,target:this}),this._dataChanged=!1}this.inited=!0}markDirtyValues(e){this.markDirty(),this._valuesDirty=!0}_markDirtyGroup(){this._dataGrouped=!1}markDirtySize(){this._sizeDirty=!0,this.markDirty()}}Object.defineProperty(_c,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Component"});Object.defineProperty(_c,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:st.classNames.concat([_c.className])});function P1e(t){return new Promise((e,n)=>{setTimeout(e,t)})}let rE={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:365.242/12*864e5,year:31536e6};function KU(t){switch(t){case"year":return;case"month":return"year";case"week":return"month";case"day":return"month";case"hour":return"day";case"minute":return"hour";case"second":return"minute";case"millisecond":return"second"}}function Ji(t,e){return e==null&&(e=1),rE[t]*e}function Ur(t){return t?rE[t.timeUnit]*t.count:0}function S1(t,e,n,i,s){const r=t.timeUnit,a=t.count;if(r=="hour"||r=="minute"||r=="second"||r=="millisecond")return rE[t.timeUnit]*t.count;{const o=Xu(new Date(e.getTime()),r,a,n,i,void 0,s).getTime();let l=o+a*Ji(r)*1.05;return l=Xu(new Date(l),r,1,n,i,void 0,s).getTime(),l-o}}function QU(t,e,n,i,s){if(e-t>Ji(n,1.2))return!0;let r=new Date(t),a=new Date(e);s&&(r=s.convertLocal(r),a=s.convertLocal(a));let o=0,l=0;!i&&n!="millisecond"&&(o=r.getTimezoneOffset(),r.setUTCMinutes(r.getUTCMinutes()-o),l=a.getTimezoneOffset(),a.setUTCMinutes(a.getUTCMinutes()-l));let u=!1;switch(n){case"year":r.getUTCFullYear()!=a.getUTCFullYear()&&(u=!0);break;case"month":(r.getUTCFullYear()!=a.getUTCFullYear()||r.getUTCMonth()!=a.getUTCMonth())&&(u=!0);break;case"day":(r.getUTCMonth()!=a.getUTCMonth()||r.getUTCDate()!=a.getUTCDate())&&(u=!0);break;case"hour":r.getUTCHours()!=a.getUTCHours()&&(u=!0);break;case"minute":r.getUTCMinutes()!=a.getUTCMinutes()&&(u=!0);break;case"second":r.getUTCSeconds()!=a.getUTCSeconds()&&(u=!0);break;case"millisecond":r.getTime()!=a.getTime()&&(u=!0);break}if(u)return u;let d=KU(n);return d?QU(t,e,d,i,s):!1}function C1e(t,e,n,i,s){let r=0;switch(r=t.getTimezoneOffset(),t.setUTCMinutes(t.getUTCMinutes()-r),e){case"day":let a=t.getUTCDate();t.setUTCDate(a+n);break;case"second":let o=t.getUTCSeconds();t.setUTCSeconds(o+n);break;case"millisecond":let l=t.getUTCMilliseconds();t.setUTCMilliseconds(l+n);break;case"hour":let u=t.getUTCHours();t.setUTCHours(u+n);break;case"minute":let d=t.getUTCMinutes();t.setUTCMinutes(d+n);break;case"year":let c=t.getUTCFullYear();t.setUTCFullYear(c+n);break;case"month":const f=t.getUTCDate(),h=new Date(t.getUTCFullYear(),t.getUTCMonth(),0).getUTCDate();let g=t.getUTCMonth();f>h?t.setUTCMonth(g+n,h):t.setUTCMonth(g+n);break;case"week":let v=t.getUTCDate();t.setUTCDate(v+n*7);break}{t.setUTCMinutes(t.getUTCMinutes()+r);{let a=t.getTimezoneOffset();if(a!=r){let o=a-r;t.setUTCMinutes(t.getUTCMinutes()+o),t.getTimezoneOffset()!=a&&t.setUTCMinutes(t.getUTCMinutes()-o)}}}return t}function ui(t,e,n,i,s){let r;return s!=null&&(r=new Date(s)),Xu(new Date(t),e,n,i.locale.firstDayOfWeek,i.utc,r,i.timezone).getTime()}function Xu(t,e,n,i,s,r,a){if(!a||s){let o=0;switch(!s&&e!="millisecond"&&(o=t.getTimezoneOffset(),t.setUTCMinutes(t.getUTCMinutes()-o)),e){case"day":let l=t.getUTCDate();if(n>1){if(r){r=Xu(r,"day",1);let _=t.getTime()-r.getTime(),b=Math.floor(_/Ji("day")/n),x=Ji("day",b*n);t.setTime(r.getTime()+x-o*Ji("minute"))}}else t.setUTCDate(l);t.setUTCHours(0,0,0,0);break;case"second":let u=t.getUTCSeconds();n>1&&(u=Math.floor(u/n)*n),t.setUTCSeconds(u,0);break;case"millisecond":if(n==1)return t;let d=t.getUTCMilliseconds();d=Math.floor(d/n)*n,t.setUTCMilliseconds(d);break;case"hour":let c=t.getUTCHours();n>1&&(c=Math.floor(c/n)*n),t.setUTCHours(c,0,0,0);break;case"minute":let f=t.getUTCMinutes();n>1&&(f=Math.floor(f/n)*n),t.setUTCMinutes(f,0,0);break;case"month":let h=t.getUTCMonth();n>1&&(h=Math.floor(h/n)*n),t.setUTCMonth(h,1),t.setUTCHours(0,0,0,0);break;case"year":let g=t.getUTCFullYear();n>1&&(g=Math.floor(g/n)*n),t.setUTCFullYear(g,0,1),t.setUTCHours(0,0,0,0);break;case"week":if(n>1&&r){r=Xu(r,"week",1);let _=t.getTime()-r.getTime(),b=Math.floor(_/Ji("week")/n),x=Ji("week",b*n);t.setTime(r.getTime()+x-o*Ji("minute"))}let v=t.getUTCDate(),p=t.getUTCDay();me(i)||(i=1),p>=i?v=v-p+i:v=v-(7+p)+i,t.setUTCDate(v),t.setUTCHours(0,0,0,0);break}if(!s&&e!="millisecond"&&(t.setUTCMinutes(t.getUTCMinutes()+o),e=="day"||e=="week"||e=="month"||e=="year")){let l=t.getTimezoneOffset();if(l!=o){let u=l-o;t.setUTCMinutes(t.getUTCMinutes()+u)}}return t}else{if(isNaN(t.getTime()))return t;let o=a.offsetUTC(t),l=t.getTimezoneOffset(),u=a.parseDate(t),d=u.year,c=u.month,f=u.day,h=u.hour,g=u.minute,v=u.second,p=u.millisecond,_=u.weekday,b=o-l;switch(e){case"day":if(n>1&&r){r=Xu(r,"day",1,i,s,void 0,a);let E=t.getTime()-r.getTime(),T=Math.floor(E/Ji("day")/n),S=Ji("day",T*n);t.setTime(r.getTime()+S),u=a.parseDate(t),d=u.year,c=u.month,f=u.day}h=0,g=b,v=0,p=0;break;case"second":g+=b,n>1&&(v=Math.floor(v/n)*n),p=0;break;case"millisecond":g+=b,n>1&&(p=Math.floor(p/n)*n);break;case"hour":n>1&&(h=Math.floor(h/n)*n),g=b,v=0,p=0;break;case"minute":n>1&&(g=Math.floor(g/n)*n),g+=b,v=0,p=0;break;case"month":n>1&&(c=Math.floor(c/n)*n),f=1,h=0,g=b,v=0,p=0;break;case"year":n>1&&(d=Math.floor(d/n)*n),c=0,f=1,h=0,g=b,v=0,p=0;break;case"week":me(i)||(i=1),_>=i?f=f-_+i:f=f-(7+_)+i,h=0,g=b,v=0,p=0;break}t=new Date(d,c,f,h,g,v,p);let x=t.getTimezoneOffset(),I=a.offsetUTC(t)-x;return I!=b&&t.setTime(t.getTime()+(I-b)*6e4),t}}function Sk(t,e,n,i){let s=i[t],r=Ur(s),a=i.length-1;if(t>=a)return Object.assign({},i[a]);let o=Math.ceil(e/r);return e<r&&t>0?Object.assign({},i[t-1]):o<=n?Object.assign({},i[t]):t+1<i.length?Sk(t+1,e,n,i):Object.assign({},i[t])}class Fo extends _c{constructor(){super(...arguments),Object.defineProperty(this,"_aggregatesCalculated",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_selectionAggregatesCalculated",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_dataProcessed",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_psi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_pei",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"chart",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"bullets",{enumerable:!0,configurable:!0,writable:!0,value:new ef}),Object.defineProperty(this,"bulletsContainer",{enumerable:!0,configurable:!0,writable:!0,value:st.new(this._root,{width:Fe,height:Fe,position:"absolute"})})}_afterNew(){this.valueFields.push("value","customValue"),super._afterNew(),this.setPrivate("customData",{}),this._disposers.push(this.bullets.events.onAll(e=>{if(e.type==="clear")this._handleBullets(this.dataItems);else if(e.type==="push")this._handleBullets(this.dataItems);else if(e.type==="setIndex")this._handleBullets(this.dataItems);else if(e.type==="insertIndex")this._handleBullets(this.dataItems);else if(e.type==="removeIndex")this._handleBullets(this.dataItems);else if(e.type==="moveIndex")this._handleBullets(this.dataItems);else throw new Error("Unknown IListEvent type")}))}_dispose(){this.bulletsContainer.dispose(),super._dispose()}startIndex(){let e=this.dataItems.length;return Math.min(this.getPrivate("startIndex",0),e)}endIndex(){let e=this.dataItems.length;return Math.min(this.getPrivate("endIndex",e),e)}_handleBullets(e){oe(e,n=>{const i=n.bullets;i&&(oe(i,s=>{s.dispose()}),n.bullets=void 0)}),this.markDirtyValues()}getDataItemById(e){return MU(this.dataItems,n=>n.get("id")==e)}_makeBullets(e){this._shouldMakeBullet(e)&&(e.bullets=[],this.bullets.each(n=>{this._makeBullet(e,n)}))}_shouldMakeBullet(e){return!0}_makeBullet(e,n,i){const s=n(this._root,this,e);return s&&(s._index=i,this._makeBulletReal(e,s)),s}_makeBulletReal(e,n){let i=n.get("sprite");i&&(i._setDataItem(e),i.setRaw("position","absolute"),this.bulletsContainer.children.push(i)),n.series=this,e.bullets.push(n)}addBullet(e,n){e.bullets||(e.bullets=[]),n&&this._makeBulletReal(e,n)}_clearDirty(){super._clearDirty(),this._aggregatesCalculated=!1,this._selectionAggregatesCalculated=!1}_prepareChildren(){super._prepareChildren();let e=this.startIndex(),n=this.endIndex();if(this.isDirty("name")&&this.updateLegendValue(),this.isDirty("heatRules")&&(this._valuesDirty=!0),this.isPrivateDirty("baseValueSeries")){const s=this.getPrivate("baseValueSeries");s&&this._disposers.push(s.onPrivate("startIndex",()=>{this.markDirtyValues()}))}if(this.get("calculateAggregates")&&(this._valuesDirty&&!this._dataProcessed&&(this._aggregatesCalculated||(this._calculateAggregates(0,this.dataItems.length),this._aggregatesCalculated=!0,e!=0&&(this._psi=void 0))),(this._psi!=e||this._pei!=n||this.isPrivateDirty("adjustedStartIndex"))&&!this._selectionAggregatesCalculated&&(e===0&&n===this.dataItems.length&&this._aggregatesCalculated||this._calculateAggregates(e,n),this._selectionAggregatesCalculated=!0)),this.isDirty("tooltip")){let s=this.get("tooltip");s&&(s.hide(0),s.set("tooltipTarget",this))}if(this.isDirty("fill")||this.isDirty("stroke")){let s;const r=this.get("legendDataItem");if(r&&(s=r.get("markerRectangle"),s&&this.isVisible())){if(this.isDirty("stroke")){let a=this.get("stroke");s.set("stroke",a)}if(this.isDirty("fill")){let a=this.get("fill");s.set("fill",a)}}this.updateLegendMarker(void 0)}if(this.bullets.length>0){let s=this.startIndex(),r=this.endIndex();r<this.dataItems.length&&r++;for(let a=s;a<r;a++){let o=this.dataItems[a];o.bullets||this._makeBullets(o)}}}_adjustStartIndex(e){return e}_calculateAggregates(e,n){let i=this._valueFields;if(!i)throw new Error("No value fields are set for the series.");const s={},r={},a={},o={},l={},u={},d={},c={},f={};oe(i,h=>{s[h]=0,r[h]=0,a[h]=0}),oe(i,h=>{let g=h+"Change",v=h+"ChangePercent",p=h+"ChangePrevious",_=h+"ChangePreviousPercent",b=h+"ChangeSelection",x=h+"ChangeSelectionPercent",k="valueY";(h=="valueX"||h=="openValueX"||h=="lowValueX"||h=="highValueX")&&(k="valueX");const I=this.getPrivate("baseValueSeries"),E=this.getPrivate("adjustedStartIndex",e);for(let T=E;T<n;T++){const S=this.dataItems[T];if(S){let w=S.get(h);w!=null&&(a[h]++,s[h]+=w,r[h]+=Math.abs(w),c[h]=s[h]/a[h],(o[h]>w||o[h]==null)&&(o[h]=w),(l[h]<w||l[h]==null)&&(l[h]=w),d[h]=w,u[h]==null&&(u[h]=w,f[h]=w,I&&(u[k]=I._getBase(k))),e===0&&(S.setRaw(g,w-u[k]),S.setRaw(v,(w-u[k])/u[k]*100)),S.setRaw(p,w-f[k]),S.setRaw(_,(w-f[k])/f[k]*100),S.setRaw(b,w-u[k]),S.setRaw(x,(w-u[k])/u[k]*100),f[h]=w)}}if(n<this.dataItems.length-1){const T=this.dataItems[n];if(T){let S=T.get(h);T.setRaw(p,S-f[k]),T.setRaw(_,(S-f[k])/f[k]*100),T.setRaw(b,S-u[k]),T.setRaw(x,(S-u[k])/u[k]*100)}}e>0&&e--,delete f[h];for(let T=e;T<E;T++){const S=this.dataItems[T];if(S){let w=S.get(h);f[h]==null&&(f[h]=w),w!=null&&(S.setRaw(p,w-f[k]),S.setRaw(_,(w-f[k])/f[k]*100),S.setRaw(b,w-u[k]),S.setRaw(x,(w-u[k])/u[k]*100),f[h]=w)}}}),oe(i,h=>{this.setPrivate(h+"AverageSelection",c[h]),this.setPrivate(h+"CountSelection",a[h]),this.setPrivate(h+"SumSelection",s[h]),this.setPrivate(h+"AbsoluteSumSelection",r[h]),this.setPrivate(h+"LowSelection",o[h]),this.setPrivate(h+"HighSelection",l[h]),this.setPrivate(h+"OpenSelection",u[h]),this.setPrivate(h+"CloseSelection",d[h])}),e===0&&n===this.dataItems.length&&oe(i,h=>{this.setPrivate(h+"Average",c[h]),this.setPrivate(h+"Count",a[h]),this.setPrivate(h+"Sum",s[h]),this.setPrivate(h+"AbsoluteSum",r[h]),this.setPrivate(h+"Low",o[h]),this.setPrivate(h+"High",l[h]),this.setPrivate(h+"Open",u[h]),this.setPrivate(h+"Close",d[h])})}_updateChildren(){super._updateChildren(),this._psi=this.startIndex(),this._pei=this.endIndex(),this.isDirty("visible")&&this.bulletsContainer.set("visible",this.get("visible"));const e=this.get("heatRules");if(this._valuesDirty&&e&&e.length>0&&oe(e,n=>{const i=n.minValue||this.getPrivate(n.dataField+"Low")||0,s=n.maxValue||this.getPrivate(n.dataField+"High")||0;oe(n.target._entities,r=>{const a=r.dataItem.get(n.dataField);if(!me(a)){n.neutral&&r.set(n.key,n.neutral);const o=r.states;if(o){const l=o.lookup("default");l&&n.neutral&&l.set(n.key,n.neutral)}if(!n.customFunction)return}if(n.customFunction)n.customFunction.call(this,r,i,s,a);else{let o;n.logarithmic?o=(Math.log(a)*Math.LOG10E-Math.log(i)*Math.LOG10E)/(Math.log(s)*Math.LOG10E-Math.log(i)*Math.LOG10E):o=(a-i)/(s-i),me(a)&&(!me(o)||Math.abs(o)==1/0)&&(o=.5);let l;me(n.min)?l=n.min+(n.max-n.min)*o:n.min instanceof tt?l=tt.interpolate(o,n.min,n.max):n.min instanceof St&&(l=HU(o,n.min,n.max)),r.set(n.key,l);const u=r.states;if(u){const d=u.lookup("default");d&&d.set(n.key,l)}}})}),this.get("visible")){let n=this.dataItems.length,i=this.startIndex(),s=this.endIndex();s<n&&s++,i>0&&i--;for(let r=0;r<i;r++)this._hideBullets(this.dataItems[r]);for(let r=i;r<s;r++)this._positionBullets(this.dataItems[r]);for(let r=s;r<n;r++)this._hideBullets(this.dataItems[r])}}_positionBullets(e){e.bullets&&oe(e.bullets,n=>{this._positionBullet(n);const i=n.get("sprite");n.get("dynamic")&&(i&&(i._markDirtyKey("fill"),i.markDirtySize()),i instanceof st&&i.walkChildren(s=>{s._markDirtyKey("fill"),s.markDirtySize(),s instanceof Hi&&s.text.markDirtyText()})),i instanceof Hi&&i.get("populateText")&&i.text.markDirtyText()})}_hideBullets(e){e.bullets&&oe(e.bullets,n=>{let i=n.get("sprite");i&&i.setPrivate("visible",!1)})}_positionBullet(e){}_placeBulletsContainer(e){e.bulletsContainer.children.moveValue(this.bulletsContainer)}_removeBulletsContainer(){const e=this.bulletsContainer;e.parent&&e.parent.children.removeValue(e)}disposeDataItem(e){const n=e.bullets;n&&oe(n,i=>{i.dispose()})}_getItemReaderLabel(){return""}showDataItem(e,n){const i=Object.create(null,{showDataItem:{get:()=>super.showDataItem}});return ki(this,void 0,void 0,function*(){const s=[i.showDataItem.call(this,e,n)],r=e.bullets;r&&oe(r,a=>{const o=a.get("sprite");o&&s.push(o.show(n))}),yield Promise.all(s)})}hideDataItem(e,n){const i=Object.create(null,{hideDataItem:{get:()=>super.hideDataItem}});return ki(this,void 0,void 0,function*(){const s=[i.hideDataItem.call(this,e,n)],r=e.bullets;r&&oe(r,a=>{const o=a.get("sprite");o&&s.push(o.hide(n))}),yield Promise.all(s)})}_sequencedShowHide(e,n){return ki(this,void 0,void 0,function*(){if(this.get("sequencedInterpolation"))if(me(n)||(n=this.get("interpolationDuration",0)),n>0){const i=this.startIndex(),s=this.endIndex();yield Promise.all(fk(this.dataItems,(r,a)=>ki(this,void 0,void 0,function*(){let o=n||0;(a<i-10||a>s+10)&&(o=0);let l=this.get("sequencedDelay",0)+o/(s-i);yield P1e(l*(a-i)),e?yield this.showDataItem(r,o):yield this.hideDataItem(r,o)})))}else yield Promise.all(fk(this.dataItems,i=>e?this.showDataItem(i,0):this.hideDataItem(i,0)))})}updateLegendValue(e){if(e){const n=e.get("legendDataItem");if(n){const i=n.get("valueLabel");if(i){const r=i.text;let a="";i._setDataItem(e),a=this.get("legendValueText",r.get("text","")),i.set("text",a),r.markDirtyText()}const s=n.get("label");if(s){const r=s.text;let a="";s._setDataItem(e),a=this.get("legendLabelText",r.get("text","")),s.set("text",a),r.markDirtyText()}}}}updateLegendMarker(e){}_onHide(){super._onHide();const e=this.getTooltip();e&&e.hide()}hoverDataItem(e){}unhoverDataItem(e){}_getBase(e){const n=this.dataItems[this.startIndex()];return n?n.get(e):0}}Object.defineProperty(Fo,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Series"});Object.defineProperty(Fo,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:_c.classNames.concat([Fo.className])});class by extends Fo{constructor(){super(...arguments),Object.defineProperty(this,"itemContainers",{enumerable:!0,configurable:!0,writable:!0,value:this.addDisposer(new ji(Sn.new({}),()=>st._new(this._root,{themeTags:Lt(this.itemContainers.template.get("themeTags",[]),["legend","item"]),themeTagsSelf:Lt(this.itemContainers.template.get("themeTagsSelf",[]),["itemcontainer"]),background:Ga.new(this._root,{themeTags:Lt(this.itemContainers.template.get("themeTags",[]),["legend","item","background"]),themeTagsSelf:Lt(this.itemContainers.template.get("themeTagsSelf",[]),["itemcontainer"])})},[this.itemContainers.template])))}),Object.defineProperty(this,"markers",{enumerable:!0,configurable:!0,writable:!0,value:this.addDisposer(new ji(Sn.new({}),()=>st._new(this._root,{themeTags:Lt(this.markers.template.get("themeTags",[]),["legend","marker"])},[this.markers.template])))}),Object.defineProperty(this,"labels",{enumerable:!0,configurable:!0,writable:!0,value:this.addDisposer(new ji(Sn.new({}),()=>Hi._new(this._root,{themeTags:Lt(this.labels.template.get("themeTags",[]),["legend","label"])},[this.labels.template])))}),Object.defineProperty(this,"valueLabels",{enumerable:!0,configurable:!0,writable:!0,value:this.addDisposer(new ji(Sn.new({}),()=>Hi._new(this._root,{themeTags:Lt(this.valueLabels.template.get("themeTags",[]),["legend","label","value"])},[this.valueLabels.template])))}),Object.defineProperty(this,"markerRectangles",{enumerable:!0,configurable:!0,writable:!0,value:this.addDisposer(new ji(Sn.new({}),()=>Ga._new(this._root,{themeTags:Lt(this.markerRectangles.template.get("themeTags",[]),["legend","marker","rectangle"])},[this.markerRectangles.template])))})}_afterNew(){this._settings.themeTags=Lt(this._settings.themeTags,["legend"]),this.fields.push("name","stroke","fill"),super._afterNew()}makeItemContainer(e){const n=this.children.push(this.itemContainers.make());return n._setDataItem(e),this.itemContainers.push(n),n.states.create("disabled",{}),n}makeMarker(){const e=this.markers.make();return this.markers.push(e),e.states.create("disabled",{}),e}makeLabel(){const e=this.labels.make();return e.states.create("disabled",{}),e}makeValueLabel(){const e=this.valueLabels.make();return e.states.create("disabled",{}),e}makeMarkerRectangle(){const e=this.markerRectangles.make();return e.states.create("disabled",{}),e}processDataItem(e){super.processDataItem(e);const n=this.makeItemContainer(e),i=this.get("nameField"),s=this.get("fillField"),r=this.get("strokeField");if(n){const a=this.get("clickTarget","itemContainer"),o=e.dataContext;o&&o.set&&o.set("legendDataItem",e),n._setDataItem(e),e.set("itemContainer",n);const l=this.makeMarker();if(l){n.children.push(l),l._setDataItem(e),e.set("marker",l);const c=this.get("useDefaultMarker"),f=l.children.push(this.makeMarkerRectangle());let h=e.get("fill"),g=e.get("stroke");e.set("markerRectangle",f),o&&o.get&&(h=o.get(s,h),g=o.get(r,g)),g||(g=h),c?o.on&&(o.on(s,()=>{f.set("fill",o.get(s))}),o.on(r,()=>{f.set("stroke",o.get(r))})):o&&o.createLegendMarker&&o.createLegendMarker(),f.setAll({fill:h,stroke:g});const v=o.component;v&&v.updateLegendMarker&&v.updateLegendMarker(o)}const u=this.makeLabel();if(u){n.children.push(u),u._setDataItem(e),e.set("label",u),u.text.on("text",()=>{n.setRaw("ariaLabel",u.text._getText()+(this.get("clickTarget")!=="none"?"; "+this._t("Press ENTER to toggle"):"")),n.markDirtyAccessibility()}),o&&o.get&&e.set("name",o.get(i));let c=e.get("name");c&&u.set("text",c)}const d=this.makeValueLabel();if(d&&(n.children.push(d),d._setDataItem(e),e.set("valueLabel",d)),o&&o.show&&(o.on("visible",c=>{n.set("disabled",!c)}),o.get("visible")||n.set("disabled",!0),a!="none")){let c=n;a=="marker"&&(c=l),this._addClickEvents(c,o,e)}this.children.values.sort((c,f)=>{const h=c.dataItem.dataContext,g=f.dataItem.dataContext;if(h&&g){const v=this.data.indexOf(h),p=this.data.indexOf(g);if(v>p)return 1;if(v<p)return-1}return 0}),o&&o.updateLegendValue&&o.updateLegendValue()}}_addClickEvents(e,n,i){e.set("cursorOverStyle","pointer"),e.events.on("pointerover",()=>{const s=n.component;s&&s.hoverDataItem&&s.hoverDataItem(n)}),e.events.on("pointerout",()=>{const s=n.component;s&&s.hoverDataItem&&s.unhoverDataItem(n)}),e.events.on("click",()=>{const s=i.get("label").text._getText();n.show&&n.isHidden&&(n.isHidden()||n.get("visible")===!1)?(n.show(),e.set("disabled",!1),this._root.readerAlert(this._t("%1 shown",this._root.locale,s))):n.hide&&(n.hide(),e.set("disabled",!0),this._root.readerAlert(this._t("%1 hidden",this._root.locale,s)))})}disposeDataItem(e){super.disposeDataItem(e);const n=e.dataContext;n&&n.get&&n.get("legendDataItem")==e&&n.set("legendDataItem",void 0);let i=e.get("itemContainer");i&&(this.itemContainers.removeValue(i),i.dispose());let s=e.get("marker");s&&(this.markers.removeValue(s),s.dispose());let r=e.get("markerRectangle");r&&(this.markerRectangles.removeValue(r),r.dispose());let a=e.get("label");a&&(this.labels.removeValue(a),a.dispose());let o=e.get("valueLabel");o&&(this.valueLabels.removeValue(o),o.dispose())}}Object.defineProperty(by,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Legend"});Object.defineProperty(by,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Fo.classNames.concat([by.className])});function wV(t,e){for(let n=0,i=e.length;n<i;n++){const s=e[n];if(s.length>0){let r=s[0];if(r.length>0){let a=r[0];t.moveTo(a.x,a.y);for(let o=0,l=s.length;o<l;o++)E1e(t,s[o])}}}}function E1e(t,e){for(let n=0,i=e.length;n<i;n++){const s=e[n];t.lineTo(s.x,s.y)}}class mv extends dn{_beforeChanged(){super._beforeChanged(),(this.isDirty("points")||this.isDirty("segments")||this._sizeDirty||this.isPrivateDirty("width")||this.isPrivateDirty("height"))&&(this._clear=!0)}_changed(){if(super._changed(),this._clear){const e=this.get("points"),n=this.get("segments");if(e&&e.length>0){let i=e[0];this._display.moveTo(i.x,i.y),wV(this._display,[[e]])}else if(n)wV(this._display,n);else if(!this.get("draw")){let i=this.width(),s=this.height();this._display.moveTo(0,0),this._display.lineTo(i,s)}}}}Object.defineProperty(mv,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Line"});Object.defineProperty(mv,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:dn.classNames.concat([mv.className])});class wy extends pc{constructor(){super(...arguments),Object.defineProperty(this,"_display",{enumerable:!0,configurable:!0,writable:!0,value:this._root._renderer.makeRadialText("",this.textStyle)})}_afterNew(){super._afterNew()}_beforeChanged(){super._beforeChanged(),this._display.clear(),this.isDirty("textType")&&(this._display.textType=this.get("textType"),this.markDirtyBounds()),this.isDirty("radius")&&(this._display.radius=this.get("radius"),this.markDirtyBounds()),this.isDirty("startAngle")&&(this._display.startAngle=(this.get("startAngle",0)+90)*cv,this.markDirtyBounds()),this.isDirty("inside")&&(this._display.inside=this.get("inside"),this.markDirtyBounds()),this.isDirty("orientation")&&(this._display.orientation=this.get("orientation"),this.markDirtyBounds()),this.isDirty("kerning")&&(this._display.kerning=this.get("kerning"),this.markDirtyBounds())}}Object.defineProperty(wy,"className",{enumerable:!0,configurable:!0,writable:!0,value:"RadialText"});Object.defineProperty(wy,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:pc.classNames.concat([wy.className])});class xy extends Hi{constructor(){super(...arguments),Object.defineProperty(this,"_flipped",{enumerable:!0,configurable:!0,writable:!0,value:!1})}_afterNew(){this._textKeys.push("textType","kerning"),super._afterNew()}_makeText(){this._text=this.children.push(wy.new(this._root,{}))}baseRadius(){const e=this.getPrivate("radius",0),n=this.getPrivate("innerRadius",0),i=this.get("baseRadius",0);return n+Qn(i,e-n)}radius(){const e=this.get("inside",!1);return this.baseRadius()+this.get("radius",0)*(e?-1:1)}_updateChildren(){if(super._updateChildren(),this.isDirty("baseRadius")||this.isPrivateDirty("radius")||this.isPrivateDirty("innerRadius")||this.isDirty("labelAngle")||this.isDirty("radius")||this.isDirty("inside")||this.isDirty("orientation")||this.isDirty("textType")){const e=this.get("textType","adjusted"),n=this.get("inside",!1),i=this.get("orientation");let s=iE(this.get("labelAngle",0));this._text.set("startAngle",this.get("labelAngle",0)),this._text.set("inside",n);const r=Dr(s),a=Ba(s);let o=this.baseRadius(),l=this.radius();if(this._display.angle=0,e=="circular")this.setAll({paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0}),this.setRaw("x",void 0),this.setRaw("y",void 0),this._text.set("orientation",i),this._text.set("radius",l);else{o==0&&(s=0,l=0);let u=l*a,d=l*r;e=="radial"?(this.setRaw("x",u),this.setRaw("y",d),s<90||s>270||i!="auto"?(this._display.angle=s,this._flipped=!1):(this._display.angle=s+180,this._flipped=!0),this._dirty.rotation=!1):e=="adjusted"?(this.setRaw("centerX",ct),this.setRaw("centerY",ct),this.setRaw("x",u),this.setRaw("y",d)):e=="regular"&&(this.setRaw("x",u),this.setRaw("y",d))}this.markDirtyPosition(),this.markDirtyBounds()}}_updatePosition(){const e=this.get("textType","regular"),n=this.get("inside",!1);let i=0,s=0,r=this.get("labelAngle",0),a=this.localBounds(),o=a.right-a.left,l=a.bottom-a.top;if(e=="radial"){if(this._flipped){let u=this.get("centerX");u instanceof St&&(o=o*(1-u.value*2)),i=o*Ba(r),s=o*Dr(r)}}else!n&&e=="adjusted"&&(i=o/2*Ba(r),s=l/2*Dr(r));this.setRaw("dx",i),this.setRaw("dy",s),super._updatePosition()}get text(){return this._text}}Object.defineProperty(xy,"className",{enumerable:!0,configurable:!0,writable:!0,value:"RadialLabel"});Object.defineProperty(xy,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Hi.classNames.concat([xy.className])});class vv extends st{constructor(){super(...arguments),Object.defineProperty(this,"thumb",{enumerable:!0,configurable:!0,writable:!0,value:this._makeThumb()}),Object.defineProperty(this,"startGrip",{enumerable:!0,configurable:!0,writable:!0,value:this._makeButton()}),Object.defineProperty(this,"endGrip",{enumerable:!0,configurable:!0,writable:!0,value:this._makeButton()}),Object.defineProperty(this,"_thumbBusy",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_startDown",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_endDown",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_thumbDown",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_gripDown",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}_addOrientationClass(){this._settings.themeTags=Lt(this._settings.themeTags,["scrollbar",this._settings.orientation]),this._settings.background||(this._settings.background=Ga.new(this._root,{themeTags:Lt(this._settings.themeTags,["main","background"])}))}_makeButton(){return this.children.push(fv.new(this._root,{themeTags:["resize","button",this.get("orientation")],icon:dn.new(this._root,{themeTags:["icon"]})}))}_makeThumb(){return this.children.push(Ga.new(this._root,{themeTags:["thumb",this.get("orientation")]}))}_handleAnimation(e){e&&this._disposers.push(e.events.on("stopped",()=>{this.setPrivateRaw("isBusy",!1),this._thumbBusy=!1}))}_afterNew(){this._addOrientationClass(),super._afterNew();const e=this.startGrip,n=this.endGrip,i=this.thumb,s=this.get("background");s&&this._disposers.push(s.events.on("click",r=>{this.setPrivateRaw("isBusy",!0);const a=this._display.toLocal(r.point),o=this.width(),l=this.height(),u=this.get("orientation");let d;u=="vertical"?d=(a.y-i.height()/2)/l:d=(a.x-i.width()/2)/o;let c,f;u=="vertical"?(c=d*l,f="y"):(c=d*o,f="x");const h=this.get("animationDuration",0);h>0?(this._thumbBusy=!0,this._handleAnimation(this.thumb.animate({key:f,to:c,duration:h,easing:this.get("animationEasing")}))):(this.thumb.set(f,c),this._root.events.once("frameended",()=>{this.setPrivateRaw("isBusy",!1)}))})),this._disposers.push(i.events.on("dblclick",r=>{if(!tE(r.originalEvent,this))return;const a=this.get("animationDuration",0),o=this.get("animationEasing");this.animate({key:"start",to:0,duration:a,easing:o}),this.animate({key:"end",to:1,duration:a,easing:o})})),this._disposers.push(e.events.on("pointerdown",()=>{this.setPrivateRaw("isBusy",!0),this._startDown=!0,this._gripDown="start"})),this._disposers.push(n.events.on("pointerdown",()=>{this.setPrivateRaw("isBusy",!0),this._endDown=!0,this._gripDown="end"})),this._disposers.push(i.events.on("pointerdown",()=>{this.setPrivateRaw("isBusy",!0),this._thumbDown=!0,this._gripDown=void 0})),this._disposers.push(e.events.on("globalpointerup",()=>{this._startDown&&(this.setPrivateRaw("isBusy",!1),this._released()),this._startDown=!1})),this._disposers.push(n.events.on("globalpointerup",()=>{this._endDown&&(this.setPrivateRaw("isBusy",!1),this._released()),this._endDown=!1})),this._disposers.push(i.events.on("globalpointerup",()=>{this._thumbDown&&(this.setPrivateRaw("isBusy",!1),this._released()),this._thumbDown=!1})),this._disposers.push(e.on("x",()=>{this._updateThumb()})),this._disposers.push(n.on("x",()=>{this._updateThumb()})),this._disposers.push(e.on("y",()=>{this._updateThumb()})),this._disposers.push(n.on("y",()=>{this._updateThumb()})),this._disposers.push(i.events.on("positionchanged",()=>{this._updateGripsByThumb()})),this.get("orientation")=="vertical"?(e.set("x",0),n.set("x",0),this._disposers.push(i.adapters.add("y",r=>Math.max(Math.min(Number(r),this.height()-i.height()),0))),this._disposers.push(i.adapters.add("x",r=>this.width()/2)),this._disposers.push(e.adapters.add("x",r=>this.width()/2)),this._disposers.push(n.adapters.add("x",r=>this.width()/2)),this._disposers.push(e.adapters.add("y",r=>Math.max(Math.min(Number(r),this.height()),0))),this._disposers.push(n.adapters.add("y",r=>Math.max(Math.min(Number(r),this.height()),0)))):(e.set("y",0),n.set("y",0),this._disposers.push(i.adapters.add("x",r=>Math.max(Math.min(Number(r),this.width()-i.width()),0))),this._disposers.push(i.adapters.add("y",r=>this.height()/2)),this._disposers.push(e.adapters.add("y",r=>this.height()/2)),this._disposers.push(n.adapters.add("y",r=>this.height()/2)),this._disposers.push(e.adapters.add("x",r=>Math.max(Math.min(Number(r),this.width()),0))),this._disposers.push(n.adapters.add("x",r=>Math.max(Math.min(Number(r),this.width()),0))))}_updateChildren(){super._updateChildren(),(this.isDirty("end")||this.isDirty("start")||this._sizeDirty)&&this.updateGrips()}_changed(){if(super._changed(),this.isDirty("start")||this.isDirty("end")){const e="rangechanged";this.events.isEnabled(e)&&this.events.dispatch(e,{type:e,target:this,start:this.get("start",0),end:this.get("end",1),grip:this._gripDown})}}_released(){const e="released";this.events.isEnabled(e)&&this.events.dispatch(e,{type:e,target:this})}updateGrips(){const e=this.startGrip,n=this.endGrip,i=this.get("orientation"),s=this.height(),r=this.width();i=="vertical"?(e.set("y",s*this.get("start",0)),n.set("y",s*this.get("end",1))):(e.set("x",r*this.get("start",0)),n.set("x",r*this.get("end",1)));const a=this.getPrivate("positionTextFunction"),o=Math.round(this.get("start",0)*100),l=Math.round(this.get("end",0)*100);let u,d;a?(u=a.call(this,this.get("start",0)),d=a.call(this,this.get("end",0))):(u=o+"%",d=l+"%"),e.set("ariaLabel",this._t("From %1",void 0,u)),e.set("ariaValueNow",""+o),e.set("ariaValueText",o+"%"),e.set("ariaValueMin","0"),e.set("ariaValueMax","100"),n.set("ariaLabel",this._t("To %1",void 0,d)),n.set("ariaValueNow",""+l),n.set("ariaValueText",l+"%"),n.set("ariaValueMin","0"),n.set("ariaValueMax","100")}_updateThumb(){const e=this.thumb,n=this.startGrip,i=this.endGrip,s=this.height(),r=this.width();let a=n.x(),o=i.x(),l=n.y(),u=i.y(),d=0,c=1;this.get("orientation")=="vertical"?me(l)&&me(u)&&(!this._thumbBusy&&!e.isDragging()&&(e.set("height",u-l),e.set("y",l)),d=l/s,c=u/s):me(a)&&me(o)&&(!this._thumbBusy&&!e.isDragging()&&(e.set("width",o-a),e.set("x",a)),d=a/r,c=o/r),this.getPrivate("isBusy")&&(this.get("start")!=d||this.get("end")!=c)&&(this.set("start",d),this.set("end",c));const f=this.getPrivate("positionTextFunction"),h=Math.round(this.get("start",0)*100),g=Math.round(this.get("end",0)*100);let v,p;f?(v=f.call(this,this.get("start",0)),p=f.call(this,this.get("end",0))):(v=h+"%",p=g+"%"),e.set("ariaLabel",this._t("From %1 to %2",void 0,v,p)),e.set("ariaValueNow",""+h),e.set("ariaValueText",h+"%")}_updateGripsByThumb(){const e=this.thumb,n=this.startGrip,i=this.endGrip;if(this.get("orientation")=="vertical"){const s=e.height();n.set("y",e.y()),i.set("y",e.y()+s)}else{const s=e.width();n.set("x",e.x()),i.set("x",e.x()+s)}}}Object.defineProperty(vv,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Scrollbar"});Object.defineProperty(vv,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:st.classNames.concat([vv.className])});function Pn(t){return function(){return t}}const xV=Math.abs,fs=Math.atan2,_u=Math.cos,I1e=Math.max,k1=Math.min,wa=Math.sin,Td=Math.sqrt,zs=1e-12,gv=Math.PI,Sy=gv/2,D1e=2*gv;function A1e(t){return t>1?0:t<-1?gv:Math.acos(t)}function SV(t){return t>=1?Sy:t<=-1?-Sy:Math.asin(t)}const kk=Math.PI,Tk=2*kk,Su=1e-6,O1e=Tk-Su;function JU(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function R1e(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return JU;const n=10**e;return function(i){this._+=i[0];for(let s=1,r=i.length;s<r;++s)this._+=Math.round(arguments[s]*n)/n+i[s]}}class M1e{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?JU:R1e(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,i,s){this._append`Q${+e},${+n},${this._x1=+i},${this._y1=+s}`}bezierCurveTo(e,n,i,s,r,a){this._append`C${+e},${+n},${+i},${+s},${this._x1=+r},${this._y1=+a}`}arcTo(e,n,i,s,r){if(e=+e,n=+n,i=+i,s=+s,r=+r,r<0)throw new Error(`negative radius: ${r}`);let a=this._x1,o=this._y1,l=i-e,u=s-n,d=a-e,c=o-n,f=d*d+c*c;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(f>Su)if(!(Math.abs(c*l-u*d)>Su)||!r)this._append`L${this._x1=e},${this._y1=n}`;else{let h=i-a,g=s-o,v=l*l+u*u,p=h*h+g*g,_=Math.sqrt(v),b=Math.sqrt(f),x=r*Math.tan((kk-Math.acos((v+f-p)/(2*_*b)))/2),k=x/b,I=x/_;Math.abs(k-1)>Su&&this._append`L${e+k*d},${n+k*c}`,this._append`A${r},${r},0,0,${+(c*h>d*g)},${this._x1=e+I*l},${this._y1=n+I*u}`}}arc(e,n,i,s,r,a){if(e=+e,n=+n,i=+i,a=!!a,i<0)throw new Error(`negative radius: ${i}`);let o=i*Math.cos(s),l=i*Math.sin(s),u=e+o,d=n+l,c=1^a,f=a?s-r:r-s;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>Su||Math.abs(this._y1-d)>Su)&&this._append`L${u},${d}`,i&&(f<0&&(f=f%Tk+Tk),f>O1e?this._append`A${i},${i},0,1,${c},${e-o},${n-l}A${i},${i},0,1,${c},${this._x1=u},${this._y1=d}`:f>Su&&this._append`A${i},${i},0,${+(f>=kk)},${c},${this._x1=e+i*Math.cos(r)},${this._y1=n+i*Math.sin(r)}`)}rect(e,n,i,s){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${i=+i}v${+s}h${-i}Z`}toString(){return this._}}function aE(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const i=Math.floor(n);if(!(i>=0))throw new RangeError(`invalid digits: ${n}`);e=i}return t},()=>new M1e(e)}function V1e(t){return t.innerRadius}function L1e(t){return t.outerRadius}function N1e(t){return t.startAngle}function F1e(t){return t.endAngle}function B1e(t){return t&&t.padAngle}function j1e(t,e,n,i,s,r,a,o){var l=n-t,u=i-e,d=a-s,c=o-r,f=c*l-d*u;if(!(f*f<zs))return f=(d*(e-r)-c*(t-s))/f,[t+f*l,e+f*u]}function hp(t,e,n,i,s,r,a){var o=t-n,l=e-i,u=(a?r:-r)/Td(o*o+l*l),d=u*l,c=-u*o,f=t+d,h=e+c,g=n+d,v=i+c,p=(f+g)/2,_=(h+v)/2,b=g-f,x=v-h,k=b*b+x*x,I=s-r,E=f*v-g*h,T=(x<0?-1:1)*Td(I1e(0,I*I*k-E*E)),S=(E*x-b*T)/k,w=(-E*b-x*T)/k,P=(E*x+b*T)/k,C=(-E*b+x*T)/k,D=S-p,A=w-_,N=P-p,B=C-_;return D*D+A*A>N*N+B*B&&(S=P,w=C),{cx:S,cy:w,x01:-d,y01:-c,x11:S*(s/I-1),y11:w*(s/I-1)}}function $1e(){var t=V1e,e=L1e,n=Pn(0),i=null,s=N1e,r=F1e,a=B1e,o=null,l=aE(u);function u(){var d,c,f=+t.apply(this,arguments),h=+e.apply(this,arguments),g=s.apply(this,arguments)-Sy,v=r.apply(this,arguments)-Sy,p=xV(v-g),_=v>g;if(o||(o=d=l()),h<f&&(c=h,h=f,f=c),!(h>zs))o.moveTo(0,0);else if(p>D1e-zs)o.moveTo(h*_u(g),h*wa(g)),o.arc(0,0,h,g,v,!_),f>zs&&(o.moveTo(f*_u(v),f*wa(v)),o.arc(0,0,f,v,g,_));else{var b=g,x=v,k=g,I=v,E=p,T=p,S=a.apply(this,arguments)/2,w=S>zs&&(i?+i.apply(this,arguments):Td(f*f+h*h)),P=k1(xV(h-f)/2,+n.apply(this,arguments)),C=P,D=P,A,N;if(w>zs){var B=SV(w/f*wa(S)),H=SV(w/h*wa(S));(E-=B*2)>zs?(B*=_?1:-1,k+=B,I-=B):(E=0,k=I=(g+v)/2),(T-=H*2)>zs?(H*=_?1:-1,b+=H,x-=H):(T=0,b=x=(g+v)/2)}var G=h*_u(b),z=h*wa(b),X=f*_u(I),W=f*wa(I);if(P>zs){var Z=h*_u(x),ee=h*wa(x),le=f*_u(k),ue=f*wa(k),ce;if(p<gv)if(ce=j1e(G,z,le,ue,Z,ee,X,W)){var se=G-ce[0],$=z-ce[1],q=Z-ce[0],re=ee-ce[1],ge=1/wa(A1e((se*q+$*re)/(Td(se*se+$*$)*Td(q*q+re*re)))/2),fe=Td(ce[0]*ce[0]+ce[1]*ce[1]);C=k1(P,(f-fe)/(ge-1)),D=k1(P,(h-fe)/(ge+1))}else C=D=0}T>zs?D>zs?(A=hp(le,ue,G,z,h,D,_),N=hp(Z,ee,X,W,h,D,_),o.moveTo(A.cx+A.x01,A.cy+A.y01),D<P?o.arc(A.cx,A.cy,D,fs(A.y01,A.x01),fs(N.y01,N.x01),!_):(o.arc(A.cx,A.cy,D,fs(A.y01,A.x01),fs(A.y11,A.x11),!_),o.arc(0,0,h,fs(A.cy+A.y11,A.cx+A.x11),fs(N.cy+N.y11,N.cx+N.x11),!_),o.arc(N.cx,N.cy,D,fs(N.y11,N.x11),fs(N.y01,N.x01),!_))):(o.moveTo(G,z),o.arc(0,0,h,b,x,!_)):o.moveTo(G,z),!(f>zs)||!(E>zs)?o.lineTo(X,W):C>zs?(A=hp(X,W,Z,ee,f,-C,_),N=hp(G,z,le,ue,f,-C,_),o.lineTo(A.cx+A.x01,A.cy+A.y01),C<P?o.arc(A.cx,A.cy,C,fs(A.y01,A.x01),fs(N.y01,N.x01),!_):(o.arc(A.cx,A.cy,C,fs(A.y01,A.x01),fs(A.y11,A.x11),!_),o.arc(0,0,f,fs(A.cy+A.y11,A.cx+A.x11),fs(N.cy+N.y11,N.cx+N.x11),_),o.arc(N.cx,N.cy,C,fs(N.y11,N.x11),fs(N.y01,N.x01),!_))):o.arc(0,0,f,I,k,_)}if(o.closePath(),d)return o=null,d+""||null}return u.centroid=function(){var d=(+t.apply(this,arguments)+ +e.apply(this,arguments))/2,c=(+s.apply(this,arguments)+ +r.apply(this,arguments))/2-gv/2;return[_u(c)*d,wa(c)*d]},u.innerRadius=function(d){return arguments.length?(t=typeof d=="function"?d:Pn(+d),u):t},u.outerRadius=function(d){return arguments.length?(e=typeof d=="function"?d:Pn(+d),u):e},u.cornerRadius=function(d){return arguments.length?(n=typeof d=="function"?d:Pn(+d),u):n},u.padRadius=function(d){return arguments.length?(i=d==null?null:typeof d=="function"?d:Pn(+d),u):i},u.startAngle=function(d){return arguments.length?(s=typeof d=="function"?d:Pn(+d),u):s},u.endAngle=function(d){return arguments.length?(r=typeof d=="function"?d:Pn(+d),u):r},u.padAngle=function(d){return arguments.length?(a=typeof d=="function"?d:Pn(+d),u):a},u.context=function(d){return arguments.length?(o=d??null,u):o},u}function ZU(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function e9(t){this._context=t}e9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function t9(t){return new e9(t)}function n9(t){return t[0]}function i9(t){return t[1]}function s9(t,e){var n=Pn(!0),i=null,s=t9,r=null,a=aE(o);t=typeof t=="function"?t:t===void 0?n9:Pn(t),e=typeof e=="function"?e:e===void 0?i9:Pn(e);function o(l){var u,d=(l=ZU(l)).length,c,f=!1,h;for(i==null&&(r=s(h=a())),u=0;u<=d;++u)!(u<d&&n(c=l[u],u,l))===f&&((f=!f)?r.lineStart():r.lineEnd()),f&&r.point(+t(c,u,l),+e(c,u,l));if(h)return r=null,h+""||null}return o.x=function(l){return arguments.length?(t=typeof l=="function"?l:Pn(+l),o):t},o.y=function(l){return arguments.length?(e=typeof l=="function"?l:Pn(+l),o):e},o.defined=function(l){return arguments.length?(n=typeof l=="function"?l:Pn(!!l),o):n},o.curve=function(l){return arguments.length?(s=l,i!=null&&(r=s(i)),o):s},o.context=function(l){return arguments.length?(l==null?i=r=null:r=s(i=l),o):i},o}function U1e(t,e,n){var i=null,s=Pn(!0),r=null,a=t9,o=null,l=aE(u);t=typeof t=="function"?t:t===void 0?n9:Pn(+t),e=typeof e=="function"?e:Pn(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?i9:Pn(+n);function u(c){var f,h,g,v=(c=ZU(c)).length,p,_=!1,b,x=new Array(v),k=new Array(v);for(r==null&&(o=a(b=l())),f=0;f<=v;++f){if(!(f<v&&s(p=c[f],f,c))===_)if(_=!_)h=f,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),g=f-1;g>=h;--g)o.point(x[g],k[g]);o.lineEnd(),o.areaEnd()}_&&(x[f]=+t(p,f,c),k[f]=+e(p,f,c),o.point(i?+i(p,f,c):x[f],n?+n(p,f,c):k[f]))}if(b)return o=null,b+""||null}function d(){return s9().defined(s).curve(a).context(r)}return u.x=function(c){return arguments.length?(t=typeof c=="function"?c:Pn(+c),i=null,u):t},u.x0=function(c){return arguments.length?(t=typeof c=="function"?c:Pn(+c),u):t},u.x1=function(c){return arguments.length?(i=c==null?null:typeof c=="function"?c:Pn(+c),u):i},u.y=function(c){return arguments.length?(e=typeof c=="function"?c:Pn(+c),n=null,u):e},u.y0=function(c){return arguments.length?(e=typeof c=="function"?c:Pn(+c),u):e},u.y1=function(c){return arguments.length?(n=c==null?null:typeof c=="function"?c:Pn(+c),u):n},u.lineX0=u.lineY0=function(){return d().x(t).y(e)},u.lineY1=function(){return d().x(t).y(n)},u.lineX1=function(){return d().x(i).y(e)},u.defined=function(c){return arguments.length?(s=typeof c=="function"?c:Pn(!!c),u):s},u.curve=function(c){return arguments.length?(a=c,r!=null&&(o=a(r)),u):a},u.context=function(c){return arguments.length?(c==null?r=o=null:o=a(r=c),u):r},u}class ky extends dn{constructor(){super(...arguments),Object.defineProperty(this,"ix",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"iy",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_generator",{enumerable:!0,configurable:!0,writable:!0,value:$1e()})}_getTooltipPoint(){let e=this.get("tooltipX"),n=this.get("tooltipY"),i=0,s=0;me(e)&&(i=e),me(n)&&(s=n);let r=this.get("radius",0),a=this.get("innerRadius",0),o=this.get("dRadius",0),l=this.get("dInnerRadius",0);return r+=o,a+=l,a<0&&(a=r+a),e instanceof St&&(i=this.ix*(a+(r-a)*e.value)),n instanceof St&&(s=this.iy*(a+(r-a)*n.value)),this.get("arc")>=360&&a==0&&(i=0,s=0),{x:i,y:s}}_beforeChanged(){super._beforeChanged(),(this.isDirty("radius")||this.isDirty("arc")||this.isDirty("innerRadius")||this.isDirty("startAngle")||this.isDirty("dRadius")||this.isDirty("dInnerRadius")||this.isDirty("cornerRadius")||this.isDirty("shiftRadius"))&&(this._clear=!0)}_changed(){if(super._changed(),this._clear){let e=this.get("startAngle",0),n=this.get("arc",0);const i=this._generator;n<0&&(e=e+n,n=n*-1),n>.1&&i.cornerRadius(this.get("cornerRadius",0)),i.context(this._display);let s=this.get("radius",0),r=this.get("innerRadius",0),a=this.get("dRadius",0),o=this.get("dInnerRadius",0);s+=a,r+=o,r<0&&(r=s+r),i({innerRadius:r,outerRadius:s,startAngle:(e+90)*cv,endAngle:(e+n+90)*cv});let l=e+n/2;this.ix=Ba(l),this.iy=Dr(l);const u=this.get("shiftRadius",0);this.setRaw("dx",this.ix*u),this.setRaw("dy",this.iy*u),this.markDirtyPosition()}}}Object.defineProperty(ky,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Slice"});Object.defineProperty(ky,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:dn.classNames.concat([ky.className])});class pv extends st{constructor(){super(...arguments),Object.defineProperty(this,"chartContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(st.new(this._root,{width:Fe,height:Fe,interactiveChildren:!1}))}),Object.defineProperty(this,"bulletsContainer",{enumerable:!0,configurable:!0,writable:!0,value:st.new(this._root,{interactiveChildren:!1,isMeasured:!1,position:"absolute",width:Fe,height:Fe})})}}Object.defineProperty(pv,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Chart"});Object.defineProperty(pv,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:st.classNames.concat([pv.className])});class yc extends pv{constructor(){super(...arguments),Object.defineProperty(this,"seriesContainer",{enumerable:!0,configurable:!0,writable:!0,value:st.new(this._root,{width:Fe,height:Fe,isMeasured:!1})}),Object.defineProperty(this,"series",{enumerable:!0,configurable:!0,writable:!0,value:new gy})}_afterNew(){super._afterNew(),this._disposers.push(this.series);const e=this.seriesContainer.children;this._disposers.push(this.series.events.onAll(n=>{if(n.type==="clear"){oe(n.oldValues,r=>{this._removeSeries(r)});const i=this.get("colors");i&&i.reset();const s=this.get("patterns");s&&s.reset()}else if(n.type==="push")e.moveValue(n.newValue),this._processSeries(n.newValue);else if(n.type==="setIndex")e.setIndex(n.index,n.newValue),this._processSeries(n.newValue);else if(n.type==="insertIndex")e.insertIndex(n.index,n.newValue),this._processSeries(n.newValue);else if(n.type==="removeIndex")this._removeSeries(n.oldValue);else if(n.type==="moveIndex")e.moveValue(n.value,n.newIndex),this._processSeries(n.value);else throw new Error("Unknown IListEvent type")}))}_processSeries(e){e.chart=this,e._placeBulletsContainer(this)}_removeSeries(e){e.isDisposed()||(this.seriesContainer.children.removeValue(e),e._removeBulletsContainer())}}Object.defineProperty(yc,"className",{enumerable:!0,configurable:!0,writable:!0,value:"SerialChart"});Object.defineProperty(yc,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:pv.classNames.concat([yc.className])});class wh extends mv{}Object.defineProperty(wh,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Tick"});Object.defineProperty(wh,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:mv.classNames.concat([wh.className])});class xh extends Ei{_afterNew(){super._afterNewApplyThemes(),this._dirty.colors=!1}_beforeChanged(){this.isDirty("colors")&&this.reset()}generateColors(){this.setPrivate("currentPass",this.getPrivate("currentPass",0)+1);const e=this.getPrivate("currentPass"),n=this.get("colors",[this.get("baseColor",tt.fromHex(16711680))]);this.getPrivate("numColors")||this.setPrivate("numColors",n.length);const i=this.getPrivate("numColors"),s=0,r=this.get("passOptions"),a=this.get("reuse");for(let o=s;o<i;o++)if(a)n.push(n[o]);else{const l=n[o].toHSL();let u=l.h+(r.hue||0)*e;for(;u>1;)u-=1;let d=l.s+(r.saturation||0)*e;d>1&&(d=1),d<0&&(d=0);let c=l.l+(r.lightness||0)*e;for(;c>1;)c-=1;n.push(tt.fromHSL(u,d,c))}}getIndex(e){const n=this.get("colors",[]),i=this.get("saturation");return e>=n.length?(this.generateColors(),this.getIndex(e)):i!=null?tt.saturate(n[e],i):n[e]}next(){let e=this.getPrivate("currentStep",this.get("startIndex",0));return this.setPrivate("currentStep",e+this.get("step",1)),this.getIndex(e)}reset(){this.setPrivate("currentStep",this.get("startIndex",0)),this.setPrivate("currentPass",0)}}Object.defineProperty(xh,"className",{enumerable:!0,configurable:!0,writable:!0,value:"ColorSet"});Object.defineProperty(xh,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Ei.classNames.concat([xh.className])});class H1e extends j0{setupDefaultRules(){super.setupDefaultRules();const e=this._root.interfaceColors,n=this.rule.bind(this);n("PercentSeries").setAll({legendLabelText:"{category}",legendValueText:"{valuePercentTotal.formatNumber('0.00p')}",colors:xh.new(this._root,{}),width:Fe,height:Fe}),n("PieChart").setAll({radius:jn(80),startAngle:-90,endAngle:270}),n("PieSeries").setAll({alignLabels:!0,startAngle:-90,endAngle:270}),n("PieSeries").states.create("hidden",{endAngle:-90,opacity:0}),n("Slice",["pie"]).setAll({position:"absolute",isMeasured:!1,x:0,y:0,toggleKey:"active",tooltipText:"{category}: {valuePercentTotal.formatNumber('0.00p')}",strokeWidth:1,strokeOpacity:1,role:"figure",lineJoin:"round"}),n("Slice",["pie"]).states.create("active",{shiftRadius:20,scale:1}),n("Slice",["pie"]).states.create("hoverActive",{scale:1.04}),n("Slice",["pie"]).states.create("hover",{scale:1.04}),n("RadialLabel",["pie"]).setAll({textType:"aligned",radius:10,text:"{category}: {valuePercentTotal.formatNumber('0.00p')}",paddingTop:5,paddingBottom:5,populateText:!0}),n("Tick",["pie"]).setAll({location:1}),n("SlicedChart").setAll({paddingLeft:10,paddingRight:10,paddingTop:10,paddingBottom:10}),n("FunnelSeries").setAll({startLocation:0,endLocation:1,orientation:"vertical",alignLabels:!0,sequencedInterpolation:!0}),n("FunnelSlice").setAll({interactive:!0,expandDistance:0}),n("FunnelSlice").states.create("hover",{expandDistance:.15}),n("Label",["funnel"]).setAll({populateText:!0,text:"{category}: {valuePercentTotal.formatNumber('0.00p')}",centerY:ct}),n("Label",["funnel","horizontal"]).setAll({centerX:0,centerY:ct,rotation:-90}),n("Label",["funnel","vertical"]).setAll({centerY:ct,centerX:0}),n("Tick",["funnel"]).setAll({location:1}),n("FunnelSlice",["funnel","link"]).setAll({fillOpacity:.5,strokeOpacity:0,expandDistance:-.1}),n("FunnelSlice",["funnel","link","vertical"]).setAll({height:10}),n("FunnelSlice",["funnel","link","horizontal"]).setAll({width:10}),n("PyramidSeries").setAll({valueIs:"area"}),n("FunnelSlice",["pyramid","link"]).setAll({fillOpacity:.5}),n("FunnelSlice",["pyramid","link","vertical"]).setAll({height:0}),n("FunnelSlice",["pyramid","link","horizontal"]).setAll({width:0}),n("FunnelSlice",["pyramid"]).setAll({interactive:!0,expandDistance:0}),n("FunnelSlice",["pyramid"]).states.create("hover",{expandDistance:.15}),n("Label",["pyramid"]).setAll({populateText:!0,text:"{category}: {valuePercentTotal.formatNumber('0.00p')}",centerY:ct}),n("Label",["pyramid","horizontal"]).setAll({centerX:0,centerY:ct,rotation:-90}),n("Label",["pyramid","vertical"]).setAll({centerY:ct,centerX:0}),n("Tick",["pyramid"]).setAll({location:1}),n("FunnelSlice",["pictorial"]).setAll({interactive:!0,tooltipText:"{category}: {valuePercentTotal.formatNumber('0.00p')}"}),n("Label",["pictorial"]).setAll({populateText:!0,text:"{category}: {valuePercentTotal.formatNumber('0.00p')}",centerY:ct}),n("Label",["pictorial","horizontal"]).setAll({centerX:0,centerY:ct,rotation:-90}),n("Label",["pictorial","vertical"]).setAll({centerY:ct,centerX:0}),n("FunnelSlice",["pictorial","link"]).setAll({fillOpacity:.5,width:0,height:0}),n("Tick",["pictorial"]).setAll({location:.5});{const i=n("Graphics",["pictorial","background"]);i.setAll({fillOpacity:.2}),it(i,"fill",e,"alternativeBackground")}}}class _v extends yc{_afterNew(){this._defaultThemes.push(H1e.new(this._root)),super._afterNew(),this.chartContainer.children.push(this.seriesContainer),this.seriesContainer.children.push(this.bulletsContainer)}_processSeries(e){super._processSeries(e),this.seriesContainer.children.moveValue(this.bulletsContainer,this.seriesContainer.children.length-1)}}Object.defineProperty(_v,"className",{enumerable:!0,configurable:!0,writable:!0,value:"PercentChart"});Object.defineProperty(_v,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:yc.classNames.concat([_v.className])});class yv extends Fo{constructor(){super(...arguments),Object.defineProperty(this,"slicesContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(st.new(this._root,{position:"absolute",isMeasured:!1}))}),Object.defineProperty(this,"labelsContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(st.new(this._root,{position:"absolute",isMeasured:!1}))}),Object.defineProperty(this,"ticksContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(st.new(this._root,{position:"absolute",isMeasured:!1}))}),Object.defineProperty(this,"_lLabels",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_rLabels",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_hLabels",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"slices",{enumerable:!0,configurable:!0,writable:!0,value:this.addDisposer(this._makeSlices())}),Object.defineProperty(this,"labels",{enumerable:!0,configurable:!0,writable:!0,value:this.addDisposer(this._makeLabels())}),Object.defineProperty(this,"ticks",{enumerable:!0,configurable:!0,writable:!0,value:this.addDisposer(this._makeTicks())})}makeSlice(e){const n=this.slicesContainer.children.push(this.slices.make());return n.on("fill",()=>{this.updateLegendMarker(e)}),n.on("fillPattern",()=>{this.updateLegendMarker(e)}),n.on("stroke",()=>{this.updateLegendMarker(e)}),n._setDataItem(e),e.set("slice",n),this.slices.push(n),n}makeLabel(e){const n=this.labelsContainer.children.push(this.labels.make());return n._setDataItem(e),e.set("label",n),this.labels.push(n),n}_shouldMakeBullet(e){return e.get("value")!=null}makeTick(e){const n=this.ticksContainer.children.push(this.ticks.make());return n._setDataItem(e),e.set("tick",n),this.ticks.push(n),n}_afterNew(){this.fields.push("category","fill"),super._afterNew()}_onDataClear(){const e=this.get("colors");e&&e.reset();const n=this.get("patterns");n&&n.reset()}_prepareChildren(){if(super._prepareChildren(),this._lLabels=[],this._rLabels=[],this._hLabels=[],this._valuesDirty){let e=0,n=0,i=0,s=1/0,r=0;oe(this._dataItems,a=>{let o=a.get("valueWorking",0);e+=o,n+=Math.abs(o)}),oe(this._dataItems,a=>{let o=a.get("valueWorking",0);o>i&&(i=o),o<s&&(s=o),r++;let l=o/n;n==0&&(l=0),a.setRaw("valuePercentTotal",l*100)}),this.setPrivateRaw("valueLow",s),this.setPrivateRaw("valueHigh",i),this.setPrivateRaw("valueSum",e),this.setPrivateRaw("valueAverage",e/r),this.setPrivateRaw("valueAbsoluteSum",n)}}show(e){const n=Object.create(null,{show:{get:()=>super.show}});return ki(this,void 0,void 0,function*(){let i=[];i.push(n.show.call(this,e)),i.push(this._sequencedShowHide(!0,e)),yield Promise.all(i)})}hide(e){const n=Object.create(null,{hide:{get:()=>super.hide}});return ki(this,void 0,void 0,function*(){let i=[];i.push(n.hide.call(this,e)),i.push(this._sequencedShowHide(!1,e)),yield Promise.all(i)})}_updateChildren(){super._updateChildren(),this._valuesDirty&&oe(this._dataItems,e=>{e.get("label").text.markDirtyText()}),(this.isDirty("legendLabelText")||this.isDirty("legendValueText"))&&oe(this._dataItems,e=>{this.updateLegendValue(e)}),this._arrange()}_arrange(){this._arrangeDown(this._lLabels),this._arrangeUp(this._lLabels),this._arrangeDown(this._rLabels),this._arrangeUp(this._rLabels),this._arrangeLeft(this._hLabels),this._arrangeRight(this._hLabels),oe(this.dataItems,e=>{this._updateTick(e)})}_afterChanged(){super._afterChanged(),this._arrange()}processDataItem(e){if(super.processDataItem(e),e.get("fill")==null){let n=this.get("colors");n&&e.setRaw("fill",n.next())}if(e.get("fillPattern")==null){let n=this.get("patterns");n&&e.setRaw("fillPattern",n.next())}}showDataItem(e,n){const i=Object.create(null,{showDataItem:{get:()=>super.showDataItem}});return ki(this,void 0,void 0,function*(){const s=[i.showDataItem.call(this,e,n)];me(n)||(n=this.get("stateAnimationDuration",0));const r=this.get("stateAnimationEasing");let a=e.get("value");const o=e.animate({key:"valueWorking",to:a,duration:n,easing:r});o&&s.push(o.waitForStop());const l=e.get("tick");l&&s.push(l.show(n));const u=e.get("label");u&&s.push(u.show(n));const d=e.get("slice");d&&s.push(d.show(n)),d.get("active")&&d.states.applyAnimate("active"),yield Promise.all(s)})}hideDataItem(e,n){const i=Object.create(null,{hideDataItem:{get:()=>super.hideDataItem}});return ki(this,void 0,void 0,function*(){const s=[i.hideDataItem.call(this,e,n)],r=this.states.create("hidden",{});me(n)||(n=r.get("stateAnimationDuration",this.get("stateAnimationDuration",0)));const a=r.get("stateAnimationEasing",this.get("stateAnimationEasing")),o=e.animate({key:"valueWorking",to:0,duration:n,easing:a});o&&s.push(o.waitForStop());const l=e.get("tick");l&&s.push(l.hide(n));const u=e.get("label");u&&s.push(u.hide(n));const d=e.get("slice");d.hideTooltip(),d&&s.push(d.hide(n)),yield Promise.all(s)})}disposeDataItem(e){super.disposeDataItem(e);let n=e.get("label");n&&(this.labels.removeValue(n),n.dispose());let i=e.get("tick");i&&(this.ticks.removeValue(i),i.dispose());let s=e.get("slice");s&&(this.slices.removeValue(s),s.dispose())}hoverDataItem(e){const n=e.get("slice");n&&!n.isHidden()&&n.hover()}unhoverDataItem(e){const n=e.get("slice");n&&n.unhover()}updateLegendMarker(e){if(e){const n=e.get("slice");if(n){const i=e.get("legendDataItem");if(i){const s=i.get("markerRectangle");oe(wk,r=>{n.get(r)!=null&&s.set(r,n.get(r))})}}}}_arrangeDown(e){if(e){let n=this._getNextDown();e.sort((i,s)=>i.y>s.y?1:i.y<s.y?-1:0),oe(e,i=>{const s=i.label.adjustedLocalBounds();let r=s.top;i.y+r<n&&(i.y=n-r),i.label.set("y",i.y),n=i.y+s.bottom})}}_getNextUp(){return this.labelsContainer.maxHeight()}_getNextDown(){return 0}_arrangeUp(e){if(e){let n=this._getNextUp();e.sort((i,s)=>i.y<s.y?1:i.y>s.y?-1:0),oe(e,i=>{const s=i.label.adjustedLocalBounds();let r=s.bottom;i.y+r>n&&(i.y=n-r),i.label.set("y",i.y),n=i.y+s.top})}}_arrangeRight(e){if(e){let n=0;e.sort((i,s)=>i.y>s.y?1:i.y<s.y?-1:0),oe(e,i=>{const s=i.label.adjustedLocalBounds();let r=s.left;i.y+r<n&&(i.y=n-r),i.label.set("x",i.y),n=i.y+s.right})}}_arrangeLeft(e){if(e){let n=this.labelsContainer.maxWidth();e.sort((i,s)=>i.y<s.y?1:i.y>s.y?-1:0),oe(e,i=>{const s=i.label.adjustedLocalBounds();let r=s.right;i.y+r>n&&(i.y=n-r),i.label.set("x",i.y),n=i.y+s.left})}}_updateSize(){super._updateSize(),this.markDirty()}_updateTick(e){}_dispose(){super._dispose();const e=this.chart;e&&e.series.removeValue(this)}}Object.defineProperty(yv,"className",{enumerable:!0,configurable:!0,writable:!0,value:"PercentSeries"});Object.defineProperty(yv,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Fo.classNames.concat([yv.className])});class bc extends _v{constructor(){super(...arguments),Object.defineProperty(this,"_maxRadius",{enumerable:!0,configurable:!0,writable:!0,value:1})}_afterNew(){super._afterNew(),this.seriesContainer.setAll({x:ct,y:ct})}_prepareChildren(){super._prepareChildren();const e=this.chartContainer,n=e.innerWidth(),i=e.innerHeight(),s=this.get("startAngle",0),r=this.get("endAngle",0),a=this.get("innerRadius");let o=yk(0,0,s,r,1);const l=n/(o.right-o.left),u=i/(o.bottom-o.top);let d={left:0,right:0,top:0,bottom:0};if(a instanceof St){let h=a.value,g=Math.min(l,u);h=Math.max(g*h,g-Math.min(i,n))/g,d=yk(0,0,s,r,h),this.setPrivateRaw("irModifyer",h/a.value)}o=xwe([o,d]);const c=this._maxRadius;this._maxRadius=Math.min(l,u);const f=Qn(this.get("radius",0),this._maxRadius);this.seriesContainer.setAll({dy:-f*(o.bottom+o.top)/2,dx:-f*(o.right+o.left)/2}),(this.isDirty("startAngle")||this.isDirty("endAngle")||c!=this._maxRadius)&&this.series.each(h=>{h._markDirtyKey("startAngle")}),(this.isDirty("innerRadius")||this.isDirty("radius"))&&this.series.each(h=>{h._markDirtyKey("innerRadius")})}radius(e){let n=Qn(this.get("radius",0),this._maxRadius),i=Qn(this.get("innerRadius",0),n);if(e){let s=this.series.indexOf(e),r=this.series.length,a=e.get("radius");return a!=null?i+Qn(a,n-i):i+(n-i)/r*(s+1)}return n}innerRadius(e){const n=this.radius();let i=Qn(this.get("innerRadius",0),n);if(i<0&&(i=n+i),e){let s=this.series.indexOf(e),r=this.series.length,a=e.get("innerRadius");return a!=null?i+Qn(a,n-i):i+(n-i)/r*s}return i}_updateSize(){super._updateSize(),this.markDirtyKey("radius")}}Object.defineProperty(bc,"className",{enumerable:!0,configurable:!0,writable:!0,value:"PieChart"});Object.defineProperty(bc,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:_v.classNames.concat([bc.className])});class wc extends yv{_makeSlices(){return new ji(Sn.new({}),()=>ky._new(this._root,{themeTags:Lt(this.slices.template.get("themeTags",[]),["pie","series"])},[this.slices.template]))}_makeLabels(){return new ji(Sn.new({}),()=>xy._new(this._root,{themeTags:Lt(this.labels.template.get("themeTags",[]),["pie","series"])},[this.labels.template]))}_makeTicks(){return new ji(Sn.new({}),()=>wh._new(this._root,{themeTags:Lt(this.ticks.template.get("themeTags",[]),["pie","series"])},[this.ticks.template]))}processDataItem(e){super.processDataItem(e);const n=this.makeSlice(e);n.on("scale",()=>{this._updateTick(e)}),n.on("shiftRadius",()=>{this._updateTick(e)}),n.events.on("positionchanged",()=>{this._updateTick(e)});const i=this.makeLabel(e);i.events.on("positionchanged",()=>{this._updateTick(e)}),this.makeTick(e),n.events.on("positionchanged",()=>{i.markDirty()})}_getNextUp(){const e=this.chart;return e?e._maxRadius:this.labelsContainer.maxHeight()/2}_getNextDown(){const e=this.chart;return e?-e._maxRadius:-this.labelsContainer.maxHeight()/2}_prepareChildren(){super._prepareChildren();const e=this.chart;if(e){if(this.isDirty("alignLabels")){let n=this.labels.template;if(this.get("alignLabels"))n.set("textType","aligned");else{let i=n.get("textType");(i==null||i=="aligned")&&n.set("textType","adjusted")}}if(this._valuesDirty||this.isDirty("radius")||this.isDirty("innerRadius")||this.isDirty("startAngle")||this.isDirty("endAngle")||this.isDirty("alignLabels")){this.markDirtyBounds();const n=this.get("startAngle",e.get("startAngle",-90)),s=this.get("endAngle",e.get("endAngle",270))-n;let r=n;const a=e.radius(this);this.setPrivateRaw("radius",a);let o=e.innerRadius(this)*e.getPrivate("irModifyer",1);o<0&&(o=a+o),oe(this._dataItems,l=>{this.updateLegendValue(l);let u=s*l.get("valuePercentTotal")/100;const d=l.get("slice");if(d){d.set("radius",a),d.set("innerRadius",o),d.set("startAngle",r),d.set("arc",u);const h=l.get("fill");d._setDefault("fill",h),d._setDefault("stroke",h);const g=l.get("fillPattern");d._setDefault("fillPattern",g)}let c=iE(r+u/2);const f=l.get("label");if(f&&(f.setPrivate("radius",a),f.setPrivate("innerRadius",o),f.set("labelAngle",c),f.get("textType")=="aligned")){let h=a+f.get("radius",0),g=a*Dr(c);c>90&&c<=270?(!f.isHidden()&&!f.isHiding()&&this._lLabels.push({label:f,y:g}),h*=-1,h-=this.labelsContainer.get("paddingLeft",0),f.set("centerX",Fe),f.setPrivateRaw("left",!0)):(!f.isHidden()&&!f.isHiding()&&this._rLabels.push({label:f,y:g}),h+=this.labelsContainer.get("paddingRight",0),f.set("centerX",0),f.setPrivateRaw("left",!1)),f.set("x",h),f.set("y",a*Dr(c))}r+=u,this._updateTick(l)})}}}_updateTick(e){const n=e.get("tick"),i=e.get("label"),s=e.get("slice"),r=n.get("location",1);if(n&&i&&s){const a=(s.get("shiftRadius",0)+s.get("radius",0))*s.get("scale",1)*r,o=i.get("labelAngle",0),l=Ba(o),u=Dr(o),d=this.labelsContainer,c=d.get("paddingLeft",0),f=d.get("paddingRight",0);let h=0,g=0;h=i.x(),g=i.y();let v=[];if(h!=0||g!=0){if(i.get("textType")=="circular"){const _=i.radius()-i.get("paddingBottom",0),b=i.get("labelAngle",0);h=_*Ba(b),g=_*Dr(b)}let p=-f;i.getPrivate("left")&&(p=c),v=[{x:s.x()+a*l,y:s.y()+a*u},{x:h+p,y:g},{x:h,y:g}]}n.set("points",v)}}_positionBullet(e){const n=e.get("sprite");if(n){const s=n.dataItem.get("slice");if(s){const r=s.get("innerRadius",0),a=s.get("radius",0),o=s.get("startAngle",0),l=s.get("arc",0),u=e.get("locationX",.5),d=e.get("locationY",.5),c=o+l*u,f=r+(a-r)*d;n.setAll({x:Ba(c)*f,y:Dr(c)*f})}}}}Object.defineProperty(wc,"className",{enumerable:!0,configurable:!0,writable:!0,value:"PieSeries"});Object.defineProperty(wc,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:yv.classNames.concat([wc.className])});class z1e{constructor(e,n=!0){on(this,"indicator");on(this,"animation");this.createIndicator(e),n&&this.hide()}createIndicator(e){this.indicator=e.container.children.push(st.new(e,{width:Fe,height:Fe,layer:1e3,background:tr.new(e,{fill:gl(16777215),fillOpacity:.7})})),this.indicator.children.push(Hi.new(e,{text:"Loading...",fontSize:25,x:ct,y:ct,centerX:ct,centerY:ct}));const n=this.indicator.children.push(dn.new(e,{width:32,height:32,fill:gl(0),x:ct,y:ct,centerX:ct,centerY:ct,dy:-45,svgPath:"M12 5v10l9 9-9 9v10h24V33l-9-9 9-9V5H12zm20 29v5H16v-5l8-8 8 8zm-8-12-8-8V9h16v5l-8 8z"}));this.animation=n.animate({key:"rotation",to:180,loops:1/0,duration:2e3,easing:kwe(dl)})}show(){this.animation.play(),this.indicator.show()}hide(){this.animation.pause(),this.indicator.hide()}toggle(){this.indicator.isHidden()?this.show():this.hide()}}class W1e extends j0{setupDefaultRules(){super.setupDefaultRules(),this.rule("Component").setAll({interpolationDuration:600}),this.rule("Hierarchy").set("animationDuration",600),this.rule("Scrollbar").set("animationDuration",600),this.rule("Tooltip").set("animationDuration",300),this.rule("MapChart").set("animationDuration",1e3),this.rule("MapChart").set("wheelDuration",300),this.rule("Entity").setAll({stateAnimationDuration:600}),this.rule("Sprite").states.create("default",{stateAnimationDuration:600}),this.rule("Tooltip",["axis"]).setAll({animationDuration:200}),this.rule("WordCloud").set("animationDuration",500),this.rule("Polygon").set("animationDuration",600),this.rule("ArcDiagram").set("animationDuration",600)}}const tf=Tt({__name:"BaseChart",props:{from:{},to:{},title:{},subtitle:{},schools:{default:()=>[]},createChart:{},afterChartCreated:{},areUpdateConditionSatistied:{},updateChartData:{}},setup(t){const e=t,n=Me(null);let i;we(e,()=>s());async function s(){e.areUpdateConditionSatistied()&&e.from&&(i.show(),await e.updateChartData(e.from,e.to??rt.today().toIyyyyMMdd(),...e.schools),i.hide())}function r(){const a=sE.new(n.value);a.setThemes([W1e.new(a)]),i=new z1e(a),e.createChart(a),s(),e.afterChartCreated()}return Pt(()=>r()),(a,o)=>{const l=j("v-card-text"),u=j("v-card"),d=j("v-col"),c=j("v-row");return be(),De(c,null,{default:M(()=>[m(d,null,{default:M(()=>[m(u,{title:a.title,subtitle:a.subtitle},{default:M(()=>[m(l,null,{default:M(()=>[Re("div",{class:"chart-container",ref_key:"chartdiv",ref:n},null,512)]),_:1})]),_:1},8,["title","subtitle"])]),_:1})]),_:1})}}});class Y1e extends j0{setupDefaultRules(){super.setupDefaultRules();const e=this._root.interfaceColors,n=this._root.language,i=this.rule.bind(this);i("XYChart").setAll({colors:xh.new(this._root,{}),paddingLeft:20,paddingRight:20,paddingTop:16,paddingBottom:16,panX:!1,panY:!1,wheelStep:.25,arrangeTooltips:!0,pinchZoomX:!1,pinchZoomY:!1}),i("XYSeries").setAll({legendLabelText:"{name}"}),i("Rectangle",["plotbackground","xy","background"]).setAll({fill:tt.fromHex(0),fillOpacity:0}),i("XYChart",["scrollbar","chart"]).setAll({paddingBottom:0,paddingLeft:0,paddingTop:0,paddingRight:0,colors:xh.new(this._root,{saturation:0})});{const l=i("Graphics",["scrollbar","overlay"]);l.setAll({fillOpacity:.5}),it(l,"fill",e,"background")}i("RoundedRectangle",["xy","scrollbar","thumb"]).setAll({cornerRadiusTR:0,cornerRadiusTL:0,cornerRadiusBR:0,cornerRadiusBL:0,fillOpacity:0,focusable:!0}),i("RoundedRectangle",["xy","scrollbar","thumb"]).states.create("hover",{fillOpacity:.4}),i("RoundedRectangle",["xy","scrollbar","chart","background"]).setAll({cornerRadiusTL:0,cornerRadiusBL:0,cornerRadiusTR:0,cornerRadiusBR:0}),i("RoundedRectangle",["xy","scrollbar","chart","background","resize","button"]).setAll({cornerRadiusBL:40,cornerRadiusBR:40,cornerRadiusTL:40,cornerRadiusTR:40}),i("AxisRendererX",["xy","chart","scrollbar"]).setAll({strokeOpacity:0,inside:!0}),i("AxisRendererY",["xy","chart","scrollbar"]).setAll({strokeOpacity:0,inside:!0,minGridDistance:5}),i("AxisLabel",["xy","scrollbar","x"]).setAll({opacity:.5,centerY:Fe,minPosition:.01,maxPosition:.99,fontSize:"0.8em"}),i("AxisLabel",["category"]).setAll({text:"{category}",populateText:!0}),i("AxisLabel",["x"]).setAll({centerY:0}),i("AxisLabel",["x","inside"]).setAll({centerY:Fe}),i("AxisLabel",["x","inside","opposite"]).setAll({centerY:0}),i("AxisLabel",["x","opposite"]).setAll({centerY:Fe}),i("AxisLabel",["y"]).setAll({centerX:Fe}),i("AxisLabel",["y","inside"]).setAll({centerX:0}),i("AxisLabel",["y","inside","opposite"]).setAll({centerX:Fe}),i("AxisLabel",["y","opposite"]).setAll({centerX:0}),i("AxisLabel",["minor"]).setAll({fontSize:"0.6em"}),i("AxisLabel",["xy","scrollbar","y"]).setAll({visible:!1}),i("Grid",["xy","scrollbar","y"]).setAll({visible:!1}),i("Grid",["xy","scrollbar","x"]).setAll({opacity:.5}),i("XYCursor").setAll({behavior:"none",layer:30,exportable:!1,snapToSeriesBy:"xy",moveThreshold:1});{const l=i("Grid",["cursor","x"]);l.setAll({forceInactive:!0,strokeOpacity:.8,strokeDasharray:[2,2],role:"slider",ariaLabel:n.translate("Use left and right arrows to move selection")}),it(l,"stroke",e,"alternativeBackground")}{const l=i("Grid",["cursor","y"]);l.setAll({forceInactive:!0,strokeOpacity:.8,strokeDasharray:[2,2],role:"slider",ariaLabel:n.translate("Use up and down arrows to move selection")}),it(l,"stroke",e,"alternativeBackground")}{const l=i("Graphics",["cursor","selection"]);l.setAll({fillOpacity:.15}),it(l,"fill",e,"alternativeBackground")}i("Axis").setAll({start:0,end:1,minZoomCount:1,maxZoomCount:1/0,maxZoomFactor:1e3,maxDeviation:.1,snapTooltip:!0,tooltipLocation:.5,panX:!0,panY:!0,zoomX:!0,zoomY:!0,fixAxisSize:!0}),i("AxisLabel").setAll({location:.5,multiLocation:0,centerX:ct,centerY:ct,paddingTop:3,paddingBottom:3,paddingLeft:5,paddingRight:5}),i("Container",["axis","header"]).setAll({layer:30}),i("Rectangle",["axis","header","background"]).setAll({crisp:!0});{const l=i("AxisRenderer");l.setAll({crisp:!0,strokeOpacity:0}),it(l,"stroke",e,"grid")}i("AxisRendererX").setAll({minGridDistance:120,opposite:!1,inversed:!1,cellStartLocation:0,cellEndLocation:1,width:Fe}),i("AxisRendererY").setAll({minGridDistance:40,opposite:!1,inversed:!1,cellStartLocation:0,cellEndLocation:1,height:Fe});{const l=i("Rectangle",["axis","thumb"]);l.setAll({fillOpacity:0}),it(l,"fill",e,"alternativeBackground"),l.states.create("hover",{fillOpacity:.1})}i("Rectangle",["axis","thumb","x"]).setAll({cursorOverStyle:"ew-resize"}),i("Rectangle",["axis","thumb","y"]).setAll({cursorOverStyle:"ns-resize"});{const l=i("Grid");l.setAll({location:0,strokeOpacity:.15,crisp:!0}),it(l,"stroke",e,"grid")}{const l=i("Grid",["minor"]);l.setAll({location:0,strokeOpacity:.07,crisp:!0}),it(l,"stroke",e,"grid")}i("Grid",["base"]).setAll({strokeOpacity:.3});{const l=i("Graphics",["axis","fill"]);l.setAll({visible:!1,isMeasured:!1,position:"absolute",fillOpacity:.05}),it(l,"fill",e,"alternativeBackground")}i("Graphics",["axis","fill","range"]).setAll({isMeasured:!0}),i("Graphics",["series","fill","range"]).setAll({visible:!1,isMeasured:!0}),i("Grid",["series","range"]).setAll({visible:!1}),i("AxisTick",["series","range"]).setAll({visible:!1}),i("AxisLabel",["series","range"]).setAll({visible:!1});{const l=i("AxisTick");l.setAll({location:.5,multiLocation:0,strokeOpacity:1,isMeasured:!1,position:"absolute",visible:!1}),it(l,"stroke",e,"grid")}i("CategoryAxis").setAll({startLocation:0,endLocation:1,fillRule:(l,u)=>{const d=l.get("axisFill");d&&(!me(u)||u%2==0?d.setPrivate("visible",!0):d.setPrivate("visible",!1))}});const s=[{timeUnit:"millisecond",count:1},{timeUnit:"millisecond",count:5},{timeUnit:"millisecond",count:10},{timeUnit:"millisecond",count:50},{timeUnit:"millisecond",count:100},{timeUnit:"millisecond",count:500},{timeUnit:"second",count:1},{timeUnit:"second",count:5},{timeUnit:"second",count:10},{timeUnit:"second",count:30},{timeUnit:"minute",count:1},{timeUnit:"minute",count:5},{timeUnit:"minute",count:10},{timeUnit:"minute",count:15},{timeUnit:"minute",count:30},{timeUnit:"hour",count:1},{timeUnit:"hour",count:3},{timeUnit:"hour",count:6},{timeUnit:"hour",count:12},{timeUnit:"day",count:1},{timeUnit:"day",count:2},{timeUnit:"day",count:3},{timeUnit:"day",count:4},{timeUnit:"day",count:5},{timeUnit:"week",count:1},{timeUnit:"month",count:1},{timeUnit:"month",count:2},{timeUnit:"month",count:3},{timeUnit:"month",count:6},{timeUnit:"year",count:1},{timeUnit:"year",count:2},{timeUnit:"year",count:5},{timeUnit:"year",count:10},{timeUnit:"year",count:50},{timeUnit:"year",count:100},{timeUnit:"year",count:200},{timeUnit:"year",count:500},{timeUnit:"year",count:1e3},{timeUnit:"year",count:2e3},{timeUnit:"year",count:5e3},{timeUnit:"year",count:1e4},{timeUnit:"year",count:1e5}],r={millisecond:n.translate("_date_millisecond"),second:n.translate("_date_second"),minute:n.translate("_date_minute"),hour:n.translate("_date_hour"),day:n.translate("_date_day"),week:n.translate("_date_day"),month:n.translate("_date_month"),year:n.translate("_date_year")},a={millisecond:n.translate("_date_millisecond"),second:n.translate("_date_second"),minute:n.translate("_date_minute"),hour:n.translate("_date_day"),day:n.translate("_date_day"),week:n.translate("_date_day"),month:n.translate("_date_month")+" "+n.translate("_date_year"),year:n.translate("_date_year")},o={millisecond:n.translate("_date_millisecond_full"),second:n.translate("_date_second_full"),minute:n.translate("_date_minute_full"),hour:n.translate("_date_hour_full"),day:n.translate("_date_day_full"),week:n.translate("_date_week_full"),month:n.translate("_date_month_full"),year:n.translate("_date_year")};i("CategoryDateAxis").setAll({markUnitChange:!0,gridIntervals:mk(s),dateFormats:Bu(r),periodChangeDateFormats:Bu(a)}),i("DateAxis").setAll({maxZoomFactor:null,strictMinMax:!0,startLocation:0,endLocation:1,markUnitChange:!0,groupData:!1,groupCount:500,gridIntervals:mk(s),dateFormats:Bu(r),periodChangeDateFormats:Bu(a),tooltipDateFormats:o,groupIntervals:[{timeUnit:"millisecond",count:1},{timeUnit:"millisecond",count:10},{timeUnit:"millisecond",count:100},{timeUnit:"second",count:1},{timeUnit:"second",count:10},{timeUnit:"minute",count:1},{timeUnit:"minute",count:10},{timeUnit:"hour",count:1},{timeUnit:"day",count:1},{timeUnit:"week",count:1},{timeUnit:"month",count:1},{timeUnit:"year",count:1}],fillRule:l=>{const u=l.get("axisFill");if(u){const d=l.component,c=l.get("value"),f=l.get("endValue"),h=d.intervalDuration(),g=d.getPrivate("baseInterval"),v=d.getPrivate("gridInterval",g);let p=d.getPrivate("min",0);if(p=Xu(new Date(p),v.timeUnit,v.count,this._root.locale.firstDayOfWeek,this._root.utc,void 0,this._root.timezone).getTime(),c!=null&&f!=null){const _=Math.round(Math.round((c-p)/h))/2;_==Math.round(_)?u.setPrivate("visible",!0):u.setPrivate("visible",!1)}}}}),i("GaplessDateAxis").setAll({fillRule:l=>{const u=l.get("axisFill");if(u){const d=l.get("index");let c=!1;(!me(d)||d%2==0)&&(c=!0),u.setPrivate("visible",c)}}}),i("ValueAxis").setAll({baseValue:0,logarithmic:!1,strictMinMax:!1,autoZoom:!0,fillRule:l=>{const u=l.get("axisFill");if(u){const d=l.component,c=l.get("value"),f=d.getPrivate("step");me(c)&&me(f)&&(di(c/f/2,5)==Math.round(c/f/2)?u.setPrivate("visible",!1):u.setPrivate("visible",!0))}}}),i("DurationAxis").setAll({baseUnit:"second"}),i("XYSeries").setAll({maskBullets:!0,stackToNegative:!0,locationX:.5,locationY:.5,snapTooltip:!1,openValueXGrouped:"open",openValueYGrouped:"open",valueXGrouped:"close",valueYGrouped:"close",seriesTooltipTarget:"series"}),i("BaseColumnSeries").setAll({adjustBulletPosition:!0}),i("ColumnSeries").setAll({clustered:!0}),i("RoundedRectangle",["series","column"]).setAll({position:"absolute",isMeasured:!1,width:jn(70),height:jn(70),strokeWidth:1,strokeOpacity:1,cornerRadiusBL:0,cornerRadiusTL:0,cornerRadiusBR:0,cornerRadiusTR:0,fillOpacity:1,role:"figure"}),i("LineSeries").setAll({connect:!0,autoGapCount:1.1,stackToNegative:!1}),i("Graphics",["series","stroke"]).setAll({position:"absolute",strokeWidth:1,strokeOpacity:1,isMeasured:!1}),i("Graphics",["series","fill"]).setAll({visible:!1,fillOpacity:0,position:"absolute",strokeWidth:0,strokeOpacity:0,isMeasured:!1}),i("Graphics",["line","series","legend","marker","stroke"]).setAll({draw:(l,u)=>{const d=u.parent;if(d){const c=d.height(),f=d.width();l.moveTo(0,c/2),l.lineTo(f,c/2)}}});{const l=i("Graphics",["line","series","legend","marker","stroke"]).states.create("disabled",{});it(l,"stroke",e,"disabled")}i("Graphics",["line","series","legend","marker","fill"]).setAll({draw:(l,u)=>{const d=u.parent;if(d){const c=d.height(),f=d.width();l.moveTo(0,0),l.lineTo(f,0),l.lineTo(f,c),l.lineTo(0,c),l.lineTo(0,0)}}});{const l=i("Graphics",["line","series","legend","marker","fill"]).states.create("disabled",{});it(l,"stroke",e,"disabled")}i("SmoothedXYLineSeries").setAll({tension:.5}),i("SmoothedXLineSeries").setAll({tension:.5}),i("SmoothedYLineSeries").setAll({tension:.5}),i("Candlestick").setAll({position:"absolute",isMeasured:!1,width:jn(50),height:jn(50),strokeWidth:1,strokeOpacity:1,cornerRadiusBL:0,cornerRadiusTL:0,cornerRadiusBR:0,cornerRadiusTR:0,fillOpacity:1,role:"figure"}),i("OHLC").setAll({width:jn(80),height:jn(80)}),i("CandlestickSeries").setAll({lowValueXGrouped:"low",lowValueYGrouped:"low",highValueXGrouped:"high",highValueYGrouped:"high",openValueXGrouped:"open",openValueYGrouped:"open",valueXGrouped:"close",valueYGrouped:"close"});{const l=i("Rectangle",["column","autocolor"]).states.create("riseFromOpen",{});it(l,"fill",e,"positive"),it(l,"stroke",e,"positive")}{const l=i("Rectangle",["column","autocolor"]).states.create("dropFromOpen",{});it(l,"fill",e,"negative"),it(l,"stroke",e,"negative")}i("Rectangle",["column","autocolor","pro"]).states.create("riseFromOpen",{fillOpacity:0}),i("Rectangle",["column","autocolor","pro"]).states.create("dropFromOpen",{fillOpacity:1});{const l=i("Rectangle",["column","autocolor","pro"]).states.create("riseFromPrevious",{});it(l,"fill",e,"positive"),it(l,"stroke",e,"positive")}{const l=i("Rectangle",["column","autocolor","pro"]).states.create("dropFromPrevious",{});it(l,"fill",e,"negative"),it(l,"stroke",e,"negative")}i("RoundedRectangle",["rangegrip"]).setAll({strokeOpacity:0,fillOpacity:0,strokeWidth:1,width:12,height:12});{const l=i("Graphics",["rangegrip","button","icon"]);l.setAll({interactive:!1,crisp:!0,strokeOpacity:.5,draw:u=>{u.moveTo(0,.5),u.lineTo(0,12.5),u.moveTo(2,.5),u.lineTo(2,12.5),u.moveTo(4,.5),u.lineTo(4,12.5)}}),it(l,"stroke",e,"secondaryButtonText")}i("Button",["rangegrip"]).setAll({draggable:!0,paddingTop:0,paddingBottom:0}),i("Button",["rangegrip","vertical"]).setAll({rotation:90,cursorOverStyle:"ns-resize",centerX:ct}),i("Button",["rangegrip","horizontal"]).setAll({cursorOverStyle:"ew-resize",centerX:ct}),i("Button",["rangegrip","vertical","left"]).setAll({centerY:Fe}),i("Button",["rangegrip","vertical","right"]).setAll({centerY:0}),i("Button",["rangegrip","horizontal","top"]).setAll({centerY:0}),i("Button",["rangegrip","horizontal","bottom"]).setAll({centerY:Fe})}}class bv extends yc{constructor(){super(...arguments),Object.defineProperty(this,"xAxes",{enumerable:!0,configurable:!0,writable:!0,value:new gy}),Object.defineProperty(this,"yAxes",{enumerable:!0,configurable:!0,writable:!0,value:new gy}),Object.defineProperty(this,"topAxesContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.chartContainer.children.push(st.new(this._root,{width:Fe,layout:this._root.verticalLayout}))}),Object.defineProperty(this,"yAxesAndPlotContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.chartContainer.children.push(st.new(this._root,{width:Fe,height:Fe,layout:this._root.horizontalLayout}))}),Object.defineProperty(this,"bottomAxesContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.chartContainer.children.push(st.new(this._root,{width:Fe,layout:this._root.verticalLayout}))}),Object.defineProperty(this,"leftAxesContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.yAxesAndPlotContainer.children.push(st.new(this._root,{height:Fe,layout:this._root.horizontalLayout}))}),Object.defineProperty(this,"plotsContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.yAxesAndPlotContainer.children.push(st.new(this._root,{width:Fe,height:Fe,maskContent:!1}))}),Object.defineProperty(this,"plotContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.plotsContainer.children.push(st.new(this._root,{width:Fe,height:Fe}))}),Object.defineProperty(this,"topPlotContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.plotsContainer.children.push(st.new(this._root,{width:Fe,height:Fe}))}),Object.defineProperty(this,"gridContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.plotContainer.children.push(st.new(this._root,{width:Fe,height:Fe,isMeasured:!1}))}),Object.defineProperty(this,"topGridContainer",{enumerable:!0,configurable:!0,writable:!0,value:st.new(this._root,{width:Fe,height:Fe,isMeasured:!1})}),Object.defineProperty(this,"rightAxesContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.yAxesAndPlotContainer.children.push(st.new(this._root,{height:Fe,layout:this._root.horizontalLayout}))}),Object.defineProperty(this,"axisHeadersContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.plotContainer.children.push(st.new(this._root,{}))}),Object.defineProperty(this,"zoomOutButton",{enumerable:!0,configurable:!0,writable:!0,value:this.topPlotContainer.children.push(fv.new(this._root,{themeTags:["zoom"],icon:dn.new(this._root,{themeTags:["button","icon"]})}))}),Object.defineProperty(this,"_movePoint",{enumerable:!0,configurable:!0,writable:!0,value:{x:0,y:0}}),Object.defineProperty(this,"_wheelDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_otherCharts",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_movePoints",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_downStartX",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_downEndX",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_downStartY",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_downEndY",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}_afterNew(){this._defaultThemes.push(Y1e.new(this._root)),super._afterNew(),this._disposers.push(this.xAxes),this._disposers.push(this.yAxes);const e=this._root;let n=this._root.verticalLayout;const i=this.zoomOutButton;i.events.on("click",()=>{this.zoomOut()}),i.hide(0),i.states.lookup("default").set("opacity",1),this.chartContainer.set("layout",n);const s=this.plotContainer;s.children.push(this.seriesContainer),this._disposers.push(this._processAxis(this.xAxes,this.bottomAxesContainer)),this._disposers.push(this._processAxis(this.yAxes,this.leftAxesContainer)),s.children.push(this.topGridContainer),s.children.push(this.bulletsContainer),s.set("interactive",!0),s.set("interactiveChildren",!1),s.set("background",tr.new(e,{themeTags:["plotbackground","xy","background"]})),this._disposers.push(s.events.on("pointerdown",r=>{this._handlePlotDown(r)})),this._disposers.push(s.events.on("globalpointerup",r=>{this._handlePlotUp(r)})),this._disposers.push(s.events.on("globalpointermove",r=>{this._handlePlotMove(r)})),this._maskGrid(),this._setUpTouch()}_beforeChanged(){super._beforeChanged(),(this.isDirty("pinchZoomX")||this.isDirty("pinchZoomY")||this.get("panX")||this.get("panY"))&&this._setUpTouch()}_setUpTouch(){this.plotContainer._display.cancelTouch||(this.plotContainer._display.cancelTouch=!!(this.get("pinchZoomX")||this.get("pinchZoomY")||this.get("panX")||this.get("panY")))}_maskGrid(){this.gridContainer.set("maskContent",!0),this.topGridContainer.set("maskContent",!0)}_removeSeries(e){e._unstack(),e._posXDp&&e._posXDp.dispose(),e._posYDp&&e._posYDp.dispose(),e.set("baseAxis",void 0);const n=e.get("xAxis");n&&(Ir(n.series,e),n.markDirtyExtremes());const i=e.get("yAxis");i&&(Ir(i.series,e),i.markDirtyExtremes());const s=this.get("cursor");if(s){const r=s.get("snapToSeries");r&&Ir(r,e)}super._removeSeries(e)}handleWheel(e){const n=this.get("wheelX"),i=this.get("wheelY"),s=this.plotContainer,r=e.originalEvent;let a=!1;if(tE(r,this))a=!0;else return;const o=s.toLocal(e.point),l=this.get("wheelStep",.2),u=r.deltaY/100,d=r.deltaX/100,c=this.get("wheelZoomPositionX"),f=this.get("wheelZoomPositionY");(n==="zoomX"||n==="zoomXY")&&d!=0&&this.xAxes.each(h=>{if(h.get("zoomX")){let g=h.get("start"),v=h.get("end"),p=h.fixPosition(o.x/s.width());c!=null&&(p=c);let _=h.get("maxDeviation",0),b=Math.min(1+_,Math.max(-_,g-l*(v-g)*d*p)),x=Math.max(-_,Math.min(1+_,v+l*(v-g)*d*(1-p)));b==g&&x==v&&(a=!1),1/(x-b)<h.getPrivate("maxZoomFactor",1/0)/h.get("minZoomCount",1)?this._handleWheelAnimation(h.zoom(b,x)):a=!1}}),(i==="zoomX"||i==="zoomXY")&&u!=0&&this.xAxes.each(h=>{if(h.get("zoomX")){let g=h.get("start"),v=h.get("end"),p=h.fixPosition(o.x/s.width());c!=null&&(p=c);let _=h.get("maxDeviation",0),b=Math.min(1+_,Math.max(-_,g-l*(v-g)*u*p)),x=Math.max(-_,Math.min(1+_,v+l*(v-g)*u*(1-p)));b==g&&x==v&&(a=!1),1/(x-b)<h.getPrivate("maxZoomFactor",1/0)/h.get("minZoomCount",1)?this._handleWheelAnimation(h.zoom(b,x)):a=!1}}),(n==="zoomY"||n==="zoomXY")&&d!=0&&this.yAxes.each(h=>{if(h.get("zoomY")){let g=h.get("start"),v=h.get("end"),p=h.fixPosition(o.y/s.height());f!=null&&(p=f);let _=h.get("maxDeviation",0),b=Math.min(1+_,Math.max(-_,g-l*(v-g)*d*p)),x=Math.max(-_,Math.min(1+_,v+l*(v-g)*d*(1-p)));b==g&&x==v&&(a=!1),1/(x-b)<h.getPrivate("maxZoomFactor",1/0)/h.get("minZoomCount",1)?this._handleWheelAnimation(h.zoom(b,x)):a=!1}}),(i==="zoomY"||i==="zoomXY")&&u!=0&&this.yAxes.each(h=>{if(h.get("zoomY")){let g=h.get("start"),v=h.get("end"),p=h.fixPosition(o.y/s.height());f!=null&&(p=f);let _=h.get("maxDeviation",0),b=Math.min(1+_,Math.max(-_,g-l*(v-g)*u*p)),x=Math.max(-_,Math.min(1+_,v+l*(v-g)*u*(1-p)));b==g&&x==v&&(a=!1),1/(x-b)<h.getPrivate("maxZoomFactor",1/0)/h.get("minZoomCount",1)?this._handleWheelAnimation(h.zoom(b,x)):a=!1}}),(n==="panX"||n==="panXY")&&d!=0&&this.xAxes.each(h=>{if(h.get("panX")){let g=h.get("start"),v=h.get("end"),p=this._getWheelSign(h)*l*(v-g)*d,_=g+p,b=v+p,x=this._fixWheel(_,b);_=x[0],b=x[1],_==g&&b==v&&(a=!1),this._handleWheelAnimation(h.zoom(_,b))}}),(i==="panX"||i==="panXY")&&u!=0&&this.xAxes.each(h=>{if(h.get("panX")){let g=h.get("start"),v=h.get("end"),p=this._getWheelSign(h)*l*(v-g)*u,_=g+p,b=v+p,x=this._fixWheel(_,b);_=x[0],b=x[1],_==g&&b==v&&(a=!1),this._handleWheelAnimation(h.zoom(_,b))}}),(n==="panY"||n==="panXY")&&d!=0&&this.yAxes.each(h=>{if(h.get("panY")){let g=h.get("start"),v=h.get("end"),p=this._getWheelSign(h)*l*(v-g)*d,_=g+p,b=v+p,x=this._fixWheel(_,b);_=x[0],b=x[1],_==g&&b==v&&(a=!1),this._handleWheelAnimation(h.zoom(_,b))}}),(i==="panY"||i==="panXY")&&u!=0&&this.yAxes.each(h=>{if(h.get("panY")){let g=h.get("start"),v=h.get("end"),p=this._getWheelSign(h)*l*(v-g)*u,_=g-p,b=v-p,x=this._fixWheel(_,b);_=x[0],b=x[1],_==g&&b==v&&(a=!1),this._handleWheelAnimation(h.zoom(_,b))}}),a&&r.preventDefault()}_handleSetWheel(){const e=this.get("wheelX"),n=this.get("wheelY"),i=this.plotContainer;e!=="none"||n!=="none"?(this._wheelDp=i.events.on("wheel",s=>{const r=s.originalEvent;(e!=="none"&&Math.abs(r.deltaX)!=0||n!=="none"&&Math.abs(r.deltaY)!=0)&&this.handleWheel(s)}),this._disposers.push(this._wheelDp)):this._wheelDp&&this._wheelDp.dispose()}_getWheelSign(e){let n=1;return e.get("renderer").get("inversed")&&(n=-1),n}_fixWheel(e,n){const i=n-e;return e<0&&(e=0,n=e+i),n>1&&(n=1,e=n-i),[e,n]}_handlePlotDown(e){const n=e.originalEvent;if(n.button==2)return;const i=this.plotContainer;let s=i.toLocal(e.point);if((this.get("pinchZoomX")||this.get("pinchZoomY"))&&n.pointerId&&xi(i._downPoints).length>0){const a=this.xAxes.getIndex(0),o=this.yAxes.getIndex(0);a&&(this._downStartX=a.get("start",0),this._downEndX=a.get("end",1)),o&&(this._downStartY=o.get("start",0),this._downEndY=o.get("end",1))}if((this.get("panX")||this.get("panY"))&&s.x>=0&&s.y>=0&&s.x<=i.width()&&s.y<=this.height()){this._downPoint={x:n.clientX,y:n.clientY};const r=this.get("panX"),a=this.get("panY");r&&this.xAxes.each(l=>{l._panStart=l.get("start"),l._panEnd=l.get("end")}),a&&this.yAxes.each(l=>{l._panStart=l.get("start"),l._panEnd=l.get("end")});const o="panstarted";this.events.isEnabled(o)&&this.events.dispatch(o,{type:o,target:this,originalEvent:e.originalEvent})}}_handleWheelAnimation(e){e?e.events.on("stopped",()=>{this._dispatchWheelAnimation()}):this._dispatchWheelAnimation()}_dispatchWheelAnimation(){const e="wheelended";this.events.isEnabled(e)&&this.events.dispatch(e,{type:e,target:this})}_handlePlotUp(e){const n=this._downPoint;if(n&&(this.get("panX")||this.get("panY"))){if(e.originalEvent.clientX==n.x&&e.originalEvent.clientY==n.y){const s="pancancelled";this.events.isEnabled(s)&&this.events.dispatch(s,{type:s,target:this,originalEvent:e.originalEvent})}const i="panended";this.events.isEnabled(i)&&this.events.dispatch(i,{type:i,target:this,originalEvent:e.originalEvent})}this._downPoint=void 0,this.xAxes.each(i=>{i._isPanning=!1}),this.yAxes.each(i=>{i._isPanning=!1})}_handlePlotMove(e){const n=this.plotContainer;if(this.get("pinchZoomX")||this.get("pinchZoomY")){const r=e.originalEvent.pointerId;if(r&&(this._movePoints[r]=e.point,xi(n._downPoints).length>1)){this._handlePinch();return}}let i=this._downPoint;if(i){i=n.toLocal(this._root.documentPointToRoot(i));let s=n.toLocal(e.point);const r=this.get("panX"),a=this.get("panY");if(r){let o=this.get("scrollbarX");o&&o.events.disableType("rangechanged"),this.xAxes.each(l=>{if(l.get("panX")){l._isPanning=!0;let u=l._panStart,d=l._panEnd,f=(d-u)*(i.x-s.x)/n.width();l.get("renderer").get("inversed")&&(f*=-1);let h=u+f,g=d+f;g-h<1+l.get("maxDeviation",1)*2&&(l.set("start",h),l.set("end",g))}}),o&&o.events.enableType("rangechanged")}if(a){let o=this.get("scrollbarY");o&&o.events.disableType("rangechanged"),this.yAxes.each(l=>{if(l.get("panY")){l._isPanning=!0;let u=l._panStart,d=l._panEnd,f=(d-u)*(i.y-s.y)/n.height();l.get("renderer").get("inversed")&&(f*=-1);let h=u-f,g=d-f;g-h<1+l.get("maxDeviation",1)*2&&(l.set("start",h),l.set("end",g))}}),o&&o.events.enableType("rangechanged")}}}_handlePinch(){const e=this.plotContainer;let n=0,i=[],s=[];if(rn(e._downPoints,(r,a)=>{i[n]=a;let o=this._movePoints[r];o&&(s[n]=o),n++}),i.length>1&&s.length>1){const r=e.width(),a=e.height();let o=i[0],l=i[1],u=s[0],d=s[1];if(o&&l&&u&&d){if(u=e.toLocal(u),d=e.toLocal(d),o=e.toLocal(o),l=e.toLocal(l),this.get("pinchZoomX")){const c=this._downStartX,f=this._downEndX;if(c!=null&&f!=null){o.x>l.x&&([o,l]=[l,o],[u,d]=[d,u]);let h=c+o.x/r*(f-c),g=c+l.x/r*(f-c),v=c+u.x/r*(f-c),p=c+d.x/r*(f-c),_=Math.max(.001,g-h),b=Math.max(.001,p-v),x=_/b,k=c*x+h-v*x,I=f*x+g-p*x;this.xAxes.each(E=>{let T=E.fixPosition(k),S=E.fixPosition(I);E.zoom(T,S,0)})}}if(this.get("pinchZoomY")){const c=this._downStartY,f=this._downEndY;if(c!=null&&f!=null){o.y<l.y&&([o,l]=[l,o],[u,d]=[d,u]);let h=c+(1-o.y/a)*(f-c),g=c+(1-l.y/a)*(f-c),v=c+(1-u.y/a)*(f-c),p=c+(1-d.y/a)*(f-c),_=Math.max(.001,g-h),b=Math.max(.001,p-v),x=_/b,k=c*x+h-v*x,I=f*x+g-p*x;this.yAxes.each(E=>{let T=E.fixPosition(k),S=E.fixPosition(I);E.zoom(T,S,0)})}}}}}_handleCursorPosition(){const e=this.get("cursor");if(e){const n=e.getPrivate("point");let i=e.get("snapToSeries");if(e._downPoint&&(i=void 0),i&&n){const s=e.get("snapToSeriesBy"),r=[];oe(i,l=>{if(!l.isHidden()&&!l.isHiding())if(s!="x!"&&s!="y!"){const u=l.startIndex(),d=l.endIndex();for(let c=u;c<d;c++){const f=l.dataItems[c];f&&!f.isHidden()&&r.push(f)}}else{const u=l.get("tooltipDataItem");u&&r.push(u)}});let a=1/0,o;if(oe(r,l=>{const u=l.get("point");if(u){let d=0;s=="x"||s=="x!"?d=Math.abs(n.x-u.x):s=="y"||s=="y!"?d=Math.abs(n.y-u.y):d=Math.hypot(n.x-u.x,n.y-u.y),d<a&&(a=d,o=l)}}),oe(i,l=>{const u=l.get("tooltip");u&&u._setDataItem(void 0)}),o){let l=o.component;l.showDataItemTooltip(o),l.setRaw("tooltipDataItem",o);const u=o.get("point");u&&e.handleMove(l.toGlobal({x:u.x-l.x(),y:u.y-l.y()}),!0)}}}}_updateCursor(){let e=this.get("cursor");e&&e.updateCursor()}_addCursor(e){this.plotContainer.children.push(e)}_prepareChildren(){if(super._prepareChildren(),this.series.each(e=>{this._colorize(e)}),(this.isDirty("wheelX")||this.isDirty("wheelY"))&&this._handleSetWheel(),this.isDirty("cursor")){const e=this._prevSettings.cursor,n=this.get("cursor");n!==e&&(this._disposeProperty("cursor"),e&&e.dispose(),n&&(n._setChart(this),this._addCursor(n),this._pushPropertyDisposer("cursor",n.events.on("selectended",()=>{this._handleCursorSelectEnd()}))),this._prevSettings.cursor=n)}if(this.isDirty("scrollbarX")){const e=this._prevSettings.scrollbarX,n=this.get("scrollbarX");n!==e&&(this._disposeProperty("scrollbarX"),e&&e.dispose(),n&&(n.parent||this.topAxesContainer.children.push(n),this._pushPropertyDisposer("scrollbarX",n.events.on("rangechanged",i=>{this._handleScrollbar(this.xAxes,i.start,i.end,i.grip)})),this._pushPropertyDisposer("scrollbarX",n.events.on("released",()=>{this.xAxes.each(i=>{i.get("zoomable")&&this._handleAxisSelection(i)})})),n.setPrivate("positionTextFunction",i=>{const s=this.xAxes.getIndex(0);return s&&s.getTooltipText(i,!1)||""})),this._prevSettings.scrollbarX=n)}if(this.isDirty("scrollbarY")){const e=this._prevSettings.scrollbarY,n=this.get("scrollbarY");n!==e&&(this._disposeProperty("scrollbarY"),e&&e.dispose(),n&&(n.parent||this.rightAxesContainer.children.push(n),this._pushPropertyDisposer("scrollbarY",n.events.on("rangechanged",i=>{this._handleScrollbar(this.yAxes,i.start,i.end,i.grip)})),this._pushPropertyDisposer("scrollbarY",n.events.on("released",()=>{this.yAxes.each(i=>{i.get("zoomable")&&this._handleAxisSelection(i)})})),n.setPrivate("positionTextFunction",i=>{const s=this.yAxes.getIndex(0);return s&&s.getTooltipText(i,!1)||""})),this._prevSettings.scrollbarY=n)}this._handleZoomOut()}_processSeries(e){super._processSeries(e);const n=e.get("xAxis"),i=e.get("yAxis");rV(n.series,e),rV(i.series,e),e._posXDp=e.addDisposer(n.events.on("positionchanged",()=>{e._fixPosition()})),e._posXDp=e.addDisposer(i.events.on("positionchanged",()=>{e._fixPosition()})),e.get("baseAxis")||(i.isType("CategoryAxis")||i.isType("DateAxis")?e.set("baseAxis",i):e.set("baseAxis",n)),e.get("stacked")&&(e._markDirtyKey("stacked"),oe(e.dataItems,s=>{s.set("stackToItemY",void 0),s.set("stackToItemX",void 0)})),e._markDirtyAxes(),i.markDirtyExtremes(),n.markDirtyExtremes(),n._seriesAdded=!0,i._seriesAdded=!0,this._colorize(e)}_colorize(e){const n=this.get("colors");if(n&&e.get("fill")==null){const s=n.next();e._setSoft("stroke",s),e._setSoft("fill",s)}const i=this.get("patterns");if(i&&e.get("fillPattern")==null){const s=i.next();e._setSoft("fillPattern",s)}}_handleCursorSelectEnd(){const e=this.get("cursor"),n=e.get("behavior"),i=e.getPrivate("downPositionX",0),s=e.getPrivate("downPositionY",0),r=Math.min(1,Math.max(0,e.getPrivate("positionX",.5))),a=Math.min(1,Math.max(0,e.getPrivate("positionY",.5)));this.xAxes.each(o=>{if(n==="zoomX"||n==="zoomXY"){let l=o.toAxisPosition(i),u=o.toAxisPosition(r);o.zoom(l,u)}o.setPrivate("updateScrollbar",!0)}),this.yAxes.each(o=>{if(n==="zoomY"||n==="zoomXY"){let l=o.toAxisPosition(s),u=o.toAxisPosition(a);o.zoom(l,u)}o.setPrivate("updateScrollbar",!0)})}_handleScrollbar(e,n,i,s){e.each(r=>{let a=r.fixPosition(n),o=r.fixPosition(i),l=r.zoom(a,o,void 0,s);const u="updateScrollbar";r.setPrivateRaw(u,!1),l?l.events.on("stopped",()=>{r.setPrivateRaw(u,!0)}):r.setPrivateRaw(u,!0)})}_processAxis(e,n){return e.events.onAll(i=>{if(i.type==="clear")oe(i.oldValues,s=>{this._removeAxis(s)});else if(i.type==="push")n.children.push(i.newValue),i.newValue.processChart(this);else if(i.type==="setIndex")n.children.setIndex(i.index,i.newValue),i.newValue.processChart(this);else if(i.type==="insertIndex")n.children.insertIndex(i.index,i.newValue),i.newValue.processChart(this);else if(i.type==="removeIndex")this._removeAxis(i.oldValue);else if(i.type==="moveIndex")n.children.moveValue(i.value,i.newIndex),i.value.processChart(this);else throw new Error("Unknown IListEvent type")})}_removeAxis(e){if(!e.isDisposed()){const n=e.parent;n&&n.children.removeValue(e);const i=e.gridContainer,s=i.parent;s&&s.children.removeValue(i);const r=e.topGridContainer,a=r.parent;a&&a.children.removeValue(r)}}_updateChartLayout(){const e=this.leftAxesContainer.width(),n=this.rightAxesContainer.width(),i=this.bottomAxesContainer;i.set("paddingLeft",e),i.set("paddingRight",n);const s=this.topAxesContainer;s.set("paddingLeft",e),s.set("paddingRight",n)}processAxis(e){var n=this.get("cursor");n&&(this.addDisposer(e.on("start",()=>{this._updateCursor()})),this.addDisposer(e.on("end",()=>{this._updateCursor()})))}_handleAxisSelection(e,n){let i=e.fixPosition(e.get("start",0)),s=e.fixPosition(e.get("end",1));if(i>s&&([i,s]=[s,i]),this.xAxes.indexOf(e)!=-1){if(n||e.getPrivate("updateScrollbar")){let r=this.get("scrollbarX");r&&(!r.getPrivate("isBusy")||n)&&(r.setRaw("start",i),r.setRaw("end",s),r.updateGrips())}}else if(this.yAxes.indexOf(e)!=-1&&(n||e.getPrivate("updateScrollbar"))){let r=this.get("scrollbarY");r&&(!r.getPrivate("isBusy")||n)&&(r.setRaw("start",i),r.setRaw("end",s),r.updateGrips())}this._handleZoomOut()}_handleZoomOut(){let e=this.zoomOutButton;if(e&&e.parent){let n=!1;this.xAxes.each(i=>{(di(i.get("start",0),6)!=0||di(i.get("end",1),6)!=1)&&(n=!0)}),this.yAxes.each(i=>{(di(i.get("start",0),6)!=0||di(i.get("end",1),6)!=1)&&(n=!0)}),n?e.isHidden()&&e.show():e.hide()}}inPlot(e){const n=this.plotContainer,i=this.getPrivate("otherCharts",this._otherCharts),s=n.toGlobal(e);if(e.x>=-.5&&e.y>=-.5&&e.x<=n.width()+.5&&e.y<=n.height()+.5)return!0;if(i)for(let r=i.length-1;r>=0;r--){const a=i[r];if(a!=this){const o=a.plotContainer,l=this._root.rootPointToDocument(s),u=a._root.documentPointToRoot(l),d=o.toLocal(u);if(d.x>=-.1&&d.y>=-.1&&d.x<=o.width()+.1&&d.y<=o.height()+.1)return!0}}return!1}arrangeTooltips(){const e=this.plotContainer,n=e.width(),i=e.height();let s=this.height();const r=this._root.tooltipContainer.get("layerMargin");r&&r.bottom>s&&(s=r.bottom);let a=e._display.toGlobal({x:0,y:0}),o=e._display.toGlobal({x:n,y:i});const l=[];let u=0,d=1/0,c=this._movePoint,f=this.get("maxTooltipDistance"),h=this.get("maxTooltipDistanceBy","xy"),g,v;me(f)&&this.series.each(_=>{if(!_.isHidden()){const b=_.get("tooltip");if(b){let x=b.get("pointTo");if(x){let k=Math.hypot(c.x-x.x,c.y-x.y);h=="x"?k=Math.abs(c.x-x.x):h=="y"&&(k=Math.abs(c.y-x.y)),k<d&&(d=k,g=_,v=x)}}}});const p=[];if(this.series.each(_=>{const b=_.get("tooltip");if(b&&!b.get("forceHidden")){let x=!1,k=b.get("pointTo");if(k){if(f>=0){let I=b.get("pointTo");if(I&&v&&_!=g){let E=Math.hypot(v.x-I.x,v.y-I.y);h=="x"?E=Math.abs(v.x-I.x):h=="y"&&(E=Math.abs(v.y-I.y)),E>f&&(x=!0)}}else f==-1&&_!=g&&(x=!0);!this.inPlot(this._tooltipToLocal(k))||!b.dataItem?x=!0:x||(u+=k.y),x||_.isHidden()||_.isHiding()?b.hide(0):(b.show(),l.push(b),p.push(_))}}}),this.setPrivate("tooltipSeries",p),this.get("arrangeTooltips")){const _=this._root.tooltipContainer,b=l.length;if(u/b>i/2+a.y){l.sort((I,E)=>mV(E.get("pointTo").y,I.get("pointTo").y));let k=o.y;if(oe(l,I=>{let E=I.height(),T=I.get("centerY");T instanceof St&&(E*=T.value),E+=I.get("marginBottom",0),I.set("bounds",{left:a.x,top:a.y,right:o.x,bottom:k}),I.setPrivate("customData",{left:a.x,top:a.y,right:o.x,bottom:k}),k=Math.min(k-E,I._fy-E),I.parent==_&&_.children.moveValue(I,0)}),k<0){l.reverse();let I=k;oe(l,E=>{let T=E.get("bounds");if(T){let S=T.top-k,w=T.bottom-k;S<I&&(S=I,w=S+E.height()),E.set("bounds",{left:T.left,top:S,right:T.right,bottom:w}),I=T.bottom-k+E.get("marginBottom",0)}})}}else{l.reverse(),l.sort((I,E)=>mV(I.get("pointTo").y,E.get("pointTo").y));let k=0;if(oe(l,I=>{let E=I.height(),T=I.get("centerY");T instanceof St&&(E*=T.value),E+=I.get("marginBottom",0),I.set("bounds",{left:a.x,top:k,right:o.x,bottom:Math.max(a.y+s,k+E)}),I.parent==_&&_.children.moveValue(I,0),k=Math.max(k+E,I._fy+E)}),k>s){l.reverse();let I=s;oe(l,E=>{let T=E.get("bounds");if(T){let S=T.top-(s-k),w=T.bottom-(s-k);w>I&&(w=I,S=w-E.height()),E.set("bounds",{left:T.left,top:S,right:T.right,bottom:w}),I=w-E.height()-E.get("marginBottom",0)}})}}}}_tooltipToLocal(e){return this.plotContainer.toLocal(e)}zoomOut(){this.xAxes.each(e=>{e.setPrivate("updateScrollbar",!0),e.zoom(0,1)}),this.yAxes.each(e=>{e.setPrivate("updateScrollbar",!0),e.zoom(0,1)})}_dispose(){super._dispose();const e=this.get("cursor");e&&e.dispose()}}Object.defineProperty(bv,"className",{enumerable:!0,configurable:!0,writable:!0,value:"XYChart"});Object.defineProperty(bv,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:yc.classNames.concat([bv.className])});class Sh extends dn{_beforeChanged(){super._beforeChanged(),(this.isPrivateDirty("width")||this.isPrivateDirty("height"))&&(this._clear=!0)}}Object.defineProperty(Sh,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Grid"});Object.defineProperty(Sh,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:dn.classNames.concat([Sh.className])});class Ty extends st{constructor(){super(...arguments),Object.defineProperty(this,"_alwaysShow",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"lineX",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(Sh.new(this._root,{themeTags:["x"]}))}),Object.defineProperty(this,"lineY",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(Sh.new(this._root,{themeTags:["y"]}))}),Object.defineProperty(this,"selection",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(dn.new(this._root,{themeTags:["selection","cursor"],layer:30}))}),Object.defineProperty(this,"_movePoint",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_lastPoint",{enumerable:!0,configurable:!0,writable:!0,value:{x:0,y:0}}),Object.defineProperty(this,"_lastPoint2",{enumerable:!0,configurable:!0,writable:!0,value:{x:0,y:0}}),Object.defineProperty(this,"_tooltipX",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_tooltipY",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"chart",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_toX",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_toY",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}_afterNew(){this._settings.themeTags=Lt(this._settings.themeTags,["xy","cursor"]),super._afterNew(),this.setAll({width:Fe,height:Fe,isMeasured:!0,position:"absolute"}),this.states.create("hidden",{visible:!0,opacity:0}),this._drawLines(),this.setPrivateRaw("visible",!1),this._disposers.push(this.setTimeout(()=>{this.setPrivate("visible",!0)},500)),this._disposers.push(this.lineX.events.on("positionchanged",()=>{this._handleXLine()})),this._disposers.push(this.lineY.events.on("positionchanged",()=>{this._handleYLine()})),this._disposers.push(this.lineX.events.on("focus",()=>this._handleLineFocus())),this._disposers.push(this.lineX.events.on("blur",()=>this._handleLineBlur())),this._disposers.push(this.lineY.events.on("focus",()=>this._handleLineFocus())),this._disposers.push(this.lineY.events.on("blur",()=>this._handleLineBlur())),Fa("keyboardevents")&&this._disposers.push(Nn(document,"keydown",e=>{this._handleLineMove(kd(e),e.ctrlKey)}))}_setUpTouch(){const e=this.chart;e&&(e.plotContainer._display.cancelTouch=this.get("behavior")!="none")}_handleXLine(){let e=this.lineX.x(),n=!0;(e<0||e>this.width())&&(n=!1),this.lineX.setPrivate("visible",n)}_handleYLine(){let e=this.lineY.y(),n=!0;(e<0||e>this.height())&&(n=!1),this.lineY.setPrivate("visible",n)}_handleLineMove(e,n){let i="";const s=this.chart;let r;if(s&&s.xAxes.length){this._root.focused(this.lineX)?(i="positionX",r=s.xAxes.getIndex(0)):this._root.focused(this.lineY)&&(r=s.yAxes.getIndex(0),i="positionY");let a=1;if(n&&(a=5),r){let o=r.get("renderer").get("inversed",!1),l;e=="ArrowRight"||e=="ArrowDown"?l=1:e=="ArrowLeft"||e=="ArrowUp"?l=-1:e=="Tab"&&(l=0),l!=null&&(o&&(l*=-1),this.set(i,r.nextPosition(l*a)))}}}_handleLineFocus(){this._alwaysShow=this.get("alwaysShow",!1),this.setAll({positionX:this.getPrivate("positionX",0),positionY:this.getPrivate("positionY",0),alwaysShow:!0}),this._handleLineMove("Tab")}_handleLineBlur(){(this.lineX.isFocus()||this.lineY.isFocus())&&this.setAll({positionX:void 0,positionY:void 0,alwaysShow:this._alwaysShow})}_prepareChildren(){if(super._prepareChildren(),this.isDirty("xAxis")){this._tooltipX=!1;const e=this.get("xAxis");if(e){const n=e.get("tooltip");n&&(this._tooltipX=!0,this._disposers.push(n.on("pointTo",()=>{this._updateXLine(n)})))}}if(this.isDirty("yAxis")){this._tooltipY=!1;const e=this.get("yAxis");if(e){const n=e.get("tooltip");n&&(this._tooltipY=!0,this._disposers.push(n.on("pointTo",()=>{this._updateYLine(n)})))}}}_handleSyncWith(){const e=this.chart;if(e){const n=this.get("syncWith"),i=[];n&&oe(n,s=>{const r=s.chart;r&&i.push(r)}),e._otherCharts=i}}_updateChildren(){if(super._updateChildren(),this._handleSyncWith(),this.isDirty("positionX")||this.isDirty("positionY")){const e=this.get("positionX"),n=this.get("positionY");e==null&&n==null?this.hide(0):(this._movePoint=this.toGlobal(this._getPoint(this.get("positionX",0),this.get("positionY",0))),this.handleMove())}}_updateXLine(e){let n=di(this._display.toLocal(e.get("pointTo",{x:0,y:0})).x,3);this._toX!=n&&(this.lineX.animate({key:"x",to:n,duration:e.get("animationDuration",0),easing:e.get("animationEasing")}),this._toX=n)}_updateYLine(e){let n=di(this._display.toLocal(e.get("pointTo",{x:0,y:0})).y,3);this._toY!=n&&(this.lineY.animate({key:"y",to:n,duration:e.get("animationDuration",0),easing:e.get("animationEasing")}),this._toY=n)}_drawLines(){this.lineX.set("draw",e=>{e.moveTo(0,0),e.lineTo(0,this.height())}),this.lineY.set("draw",e=>{e.moveTo(0,0),e.lineTo(this.width(),0)})}updateCursor(){this.get("alwaysShow")&&(this._movePoint=this.toGlobal(this._getPoint(this.get("positionX",0),this.get("positionY",0)))),this.handleMove()}_setChart(e){this.chart=e,this._handleSyncWith();const n=e.plotContainer;this.events.on("boundschanged",()=>{this._disposers.push(this.setTimeout(()=>{this.updateCursor()},50))}),Fa("touchevents")&&(this._disposers.push(n.events.on("click",s=>{_k(s.originalEvent)&&this._handleMove(s)})),this._setUpTouch()),this._disposers.push(n.events.on("pointerdown",s=>{this._handleCursorDown(s)})),this._disposers.push(n.events.on("globalpointerup",s=>{this._handleCursorUp(s),!s.native&&!this.isHidden()&&this._handleMove(s)})),this._disposers.push(n.events.on("globalpointermove",s=>{!this.get("syncWith")&&xi(n._downPoints).length==0&&!s.native&&this.isHidden()||(this._handleMove(s),Math.hypot(this._lastPoint2.x-s.point.x,this._lastPoint2.y-s.point.y)>1&&(this._handleLineBlur(),this._lastPoint2=s.point))}));const i=this.parent;i&&i.children.moveValue(this.selection)}_inPlot(e){const n=this.chart;return n?n.inPlot(e):!1}_handleCursorDown(e){if(e.originalEvent.button==2)return;const n=e.point;let i=this._display.toLocal(n);const s=this.chart;if(this.selection.set("draw",()=>{}),s&&this._inPlot(i)){if(this._downPoint=i,this.get("behavior")!="none"){this.selection.show();const o="selectstarted";this.events.isEnabled(o)&&this.events.dispatch(o,{type:o,target:this,originalEvent:e.originalEvent})}let r=this._getPosition(i).x,a=this._getPosition(i).y;this.setPrivate("downPositionX",r),this.setPrivate("downPositionY",a)}}_handleCursorUp(e){if(this._downPoint){const n=this.get("behavior","none");if(n!="none"){n.charAt(0)==="z"&&this.selection.hide();const i=e.point;let s=this._display.toLocal(i);const r=this._downPoint,a=this.get("moveThreshold",1);if(s&&r){let o=!1;if((n==="zoomX"||n==="zoomXY"||n==="selectX"||n==="selectXY")&&Math.abs(s.x-r.x)>a&&(o=!0),(n==="zoomY"||n==="zoomXY"||n==="selectY"||n==="selectXY")&&Math.abs(s.y-r.y)>a&&(o=!0),o){const l="selectended";this.events.isEnabled(l)&&this.events.dispatch(l,{type:l,target:this,originalEvent:e.originalEvent})}else{const l="selectcancelled";this.events.isEnabled(l)&&this.events.dispatch(l,{type:l,target:this,originalEvent:e.originalEvent})}}}}this._downPoint=void 0}_handleMove(e){if(this.getPrivate("visible")){const n=this.chart;if(n&&xi(n.plotContainer._downPoints).length>1){this.set("forceHidden",!0);return}else this.set("forceHidden",!1);const i=e.point,s=this._lastPoint;if(Math.round(s.x)===Math.round(i.x)&&Math.round(s.y)===Math.round(i.y))return;this._lastPoint=i,this.setPrivate("lastPoint",i),this.handleMove({x:i.x,y:i.y},!1,e.originalEvent)}}_getPosition(e){return{x:e.x/this.width(),y:e.y/this.height()}}handleMove(e,n,i){e||(e=this._movePoint);const s=this.get("alwaysShow");if(!e){this.hide(0);return}this._movePoint=e;let r=this._display.toLocal(e),a=this.chart;if(a&&(this._inPlot(r)||this._downPoint)){a._movePoint=e,this.isHidden()&&(this.show(),this.get("behavior","").charAt(0)=="z"&&this.selection.set("draw",()=>{}));let o=r.x,l=r.y,u=this._getPosition(r);this.setPrivate("point",r);let d=this.get("snapToSeries");this._downPoint&&(d=void 0);let c=this.get("positionX"),f=u.x;me(c)&&(f=c);let h=this.get("positionY"),g=u.y;me(h)&&(g=h),this.setPrivate("positionX",f),this.setPrivate("positionY",g);const v=this._getPoint(f,g);if(o=v.x,l=v.y,a.xAxes.each(p=>{p._handleCursorPosition(f,d),s&&p.handleCursorShow()}),a.yAxes.each(p=>{p._handleCursorPosition(g,d),s&&p.handleCursorShow()}),!n){a._handleCursorPosition();const p="cursormoved";this.events.isEnabled(p)&&this.events.dispatch(p,{type:p,target:this,point:e,originalEvent:i})}this._updateLines(o,l),a.arrangeTooltips()}else if(!this._downPoint&&!s){this.hide(0);const o="cursorhidden";this.events.isEnabled(o)&&this.events.dispatch(o,{type:o,target:this})}this._downPoint&&this.get("behavior")!="none"&&this._updateSelection(r)}_getPoint(e,n){return{x:this.width()*e,y:this.height()*n}}_updateLines(e,n){this._tooltipX||this.lineX.set("x",e),this._tooltipY||this.lineY.set("y",n),this._drawLines()}_updateSelection(e){const n=this.selection,i=this.get("behavior"),s=this.width(),r=this.height();e.x<0&&(e.x=0),e.x>s&&(e.x=s),e.y<0&&(e.y=0),e.y>r&&(e.y=r),n.set("draw",a=>{const o=this._downPoint;o&&(i==="zoomXY"||i==="selectXY"?(a.moveTo(o.x,o.y),a.lineTo(o.x,e.y),a.lineTo(e.x,e.y),a.lineTo(e.x,o.y),a.lineTo(o.x,o.y)):i==="zoomX"||i==="selectX"?(a.moveTo(o.x,0),a.lineTo(o.x,r),a.lineTo(e.x,r),a.lineTo(e.x,0),a.lineTo(o.x,0)):(i==="zoomY"||i==="selectY")&&(a.moveTo(0,o.y),a.lineTo(s,o.y),a.lineTo(s,e.y),a.lineTo(0,e.y),a.lineTo(0,o.y)))})}_onHide(){if(this.isHidden()){let e=this.chart;e&&(e.xAxes.each(n=>{n.handleCursorHide()}),e.yAxes.each(n=>{n.handleCursorHide()}),e.series.each(n=>{n.handleCursorHide()}))}super._onHide()}_onShow(){if(!this.isHidden()){let e=this.chart;e&&(e.xAxes.each(n=>{n.handleCursorShow()}),e.yAxes.each(n=>{n.handleCursorShow()}))}super._onShow()}_dispose(){super._dispose(),this.selection.dispose()}}Object.defineProperty(Ty,"className",{enumerable:!0,configurable:!0,writable:!0,value:"XYCursor"});Object.defineProperty(Ty,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:st.classNames.concat([Ty.className])});function G1e(t,e){return t==null?e:e==null?t:e<t?e:t}function q1e(t,e){return t==null?e:e==null?t:e>t?e:t}class xc extends Fo{constructor(){super(...arguments),Object.defineProperty(this,"_xField",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_yField",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_xOpenField",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_yOpenField",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_xLowField",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_xHighField",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_yLowField",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_yHighField",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_axesDirty",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_stackDirty",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_selectionProcessed",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_dataSets",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_mainContainerMask",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_x",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_y",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_bullets",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"mainContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(st.new(this._root,{}))}),Object.defineProperty(this,"axisRanges",{enumerable:!0,configurable:!0,writable:!0,value:new ef}),Object.defineProperty(this,"_skipped",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_couldStackTo",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_reallyStackedTo",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_stackedSeries",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_aLocationX0",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_aLocationX1",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"_aLocationY0",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_aLocationY1",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"_showBullets",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"valueXFields",{enumerable:!0,configurable:!0,writable:!0,value:["valueX","openValueX","lowValueX","highValueX"]}),Object.defineProperty(this,"valueYFields",{enumerable:!0,configurable:!0,writable:!0,value:["valueY","openValueY","lowValueY","highValueY"]}),Object.defineProperty(this,"_valueXFields",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_valueYFields",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_valueXShowFields",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_valueYShowFields",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"__valueXShowFields",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"__valueYShowFields",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_emptyDataItem",{enumerable:!0,configurable:!0,writable:!0,value:new oa(this,void 0,{})}),Object.defineProperty(this,"_dataSetId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tooltipFieldX",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tooltipFieldY",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_posXDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_posYDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}_afterNew(){this.fields.push("categoryX","categoryY","openCategoryX","openCategoryY"),this.valueFields.push("valueX","valueY","openValueX","openValueY","lowValueX","lowValueY","highValueX","highValueY"),this._setRawDefault("vcx",1),this._setRawDefault("vcy",1),this._setRawDefault("valueXShow","valueXWorking"),this._setRawDefault("valueYShow","valueYWorking"),this._setRawDefault("openValueXShow","openValueXWorking"),this._setRawDefault("openValueYShow","openValueYWorking"),this._setRawDefault("lowValueXShow","lowValueXWorking"),this._setRawDefault("lowValueYShow","lowValueYWorking"),this._setRawDefault("highValueXShow","highValueXWorking"),this._setRawDefault("highValueYShow","highValueYWorking"),this._setRawDefault("lowValueXGrouped","low"),this._setRawDefault("lowValueYGrouped","low"),this._setRawDefault("highValueXGrouped","high"),this._setRawDefault("highValueYGrouped","high"),super._afterNew(),this.set("maskContent",!0),this._disposers.push(this.axisRanges.events.onAll(e=>{if(e.type==="clear")oe(e.oldValues,n=>{this._removeAxisRange(n)});else if(e.type==="push")this._processAxisRange(e.newValue);else if(e.type==="setIndex")this._processAxisRange(e.newValue);else if(e.type==="insertIndex")this._processAxisRange(e.newValue);else if(e.type==="removeIndex")this._removeAxisRange(e.oldValue);else if(e.type==="moveIndex")this._processAxisRange(e.value);else throw new Error("Unknown IStreamEvent type")})),this.states.create("hidden",{opacity:1,visible:!1}),this.onPrivate("startIndex",()=>{this.root.events.once("frameended",()=>{this.updateLegendValue()})}),this.onPrivate("endIndex",()=>{this.root.events.once("frameended",()=>{this.updateLegendValue()})}),this._makeFieldNames()}_processAxisRange(e){const n=st.new(this._root,{});e.container=n,this.children.push(n),e.series=this;const i=e.axisDataItem;i.setRaw("isRange",!0);const s=i.component;if(s){s._processAxisRange(i,["range","series"]);const r=i.get("bullet");if(r){const o=r.get("sprite");o&&o.setPrivate("visible",!1)}const a=i.get("axisFill");a&&n.set("mask",a),s._seriesAxisRanges.push(i)}}_removeAxisRange(e){const n=e.axisDataItem,i=n.component;i.disposeDataItem(n),Ir(i._seriesAxisRanges,n);const s=e.container;s&&s.dispose()}_updateFields(){super._updateFields(),this._valueXFields=[],this._valueYFields=[],this._valueXShowFields=[],this._valueYShowFields=[],this.__valueXShowFields=[],this.__valueYShowFields=[],this.valueXFields&&oe(this.valueXFields,e=>{if(this.get(e+"Field")){this._valueXFields.push(e);let i=this.get(e+"Show");this.__valueXShowFields.push(i),i.indexOf("Working")!=-1?this._valueXShowFields.push(i.split("Working")[0]):this._valueXShowFields.push(i)}}),this.valueYFields&&oe(this.valueYFields,e=>{if(this.get(e+"Field")){this._valueYFields.push(e);let i=this.get(e+"Show");this.__valueYShowFields.push(i),i.indexOf("Working")!=-1?this._valueYShowFields.push(i.split("Working")[0]):this._valueYShowFields.push(i)}})}_dispose(){super._dispose(),this._bullets={};const e=this.chart;e&&e.series.removeValue(this),ns(this.get("xAxis").series,this),ns(this.get("yAxis").series,this)}_min(e,n){let i=G1e(this.getPrivate(e),n);this.setPrivate(e,i)}_max(e,n){let i=q1e(this.getPrivate(e),n);this.setPrivate(e,i)}_shouldMakeBullet(e){const n=this.get("xAxis"),i=this.get("yAxis"),s=this.get("baseAxis");if(!n.inited||!i.inited)return!1;const r=this.get("minBulletDistance",0);if(r>0){let a=this.startIndex(),l=this.endIndex()-a;if(n==s){if(n.get("renderer").axisLength()/l<r/5)return!1}else if(i==s&&i.get("renderer").axisLength()/l<r/5)return!1}return e.get(this._xField)!=null&&e.get(this._yField)!=null}_makeFieldNames(){const e=this.get("xAxis"),n=this.get("yAxis"),i=e.getPrivate("name"),s=cV(i),r=n.getPrivate("name"),a=cV(r),o=e.get("renderer").getPrivate("letter"),l=n.get("renderer").getPrivate("letter"),u="open",d="low",c="high",f="Show";e.className==="ValueAxis"?(this._xField=this.get(i+o+f),this._xOpenField=this.get(u+s+o+f),this._xLowField=this.get(d+s+o+f),this._xHighField=this.get(c+s+o+f)):(this._xField=i+o,this._xOpenField=u+s+o,this._xLowField=d+s+o,this._xHighField=c+s+o),n.className==="ValueAxis"?(this._yField=this.get(r+l+f),this._yOpenField=this.get(u+a+l+f),this._yLowField=this.get(d+a+l+f),this._yHighField=this.get(c+a+l+f)):(this._yField=r+l,this._yOpenField=u+a+l,this._yLowField=d+a+l,this._yHighField=c+a+l)}_fixVC(){const e=this.get("xAxis"),n=this.get("yAxis"),i=this.get("baseAxis"),s=this.states.lookup("hidden"),r=this.get("sequencedInterpolation");if(s){let a=0;r&&(a=.999999999999),e===i?s.set("vcy",a):(n===i||s.set("vcy",a),s.set("vcx",a))}}_handleMaskBullets(){this.isDirty("maskBullets")&&this.bulletsContainer.set("maskContent",this.get("maskBullets"))}_fixPosition(){const e=this.get("xAxis"),n=this.get("yAxis");this.set("x",e.x()-Qn(e.get("centerX",0),e.width())-e.parent.get("paddingLeft",0)),this.set("y",n.y()-Qn(n.get("centerY",0),n.height())-n.parent.get("paddingTop",0)),this.bulletsContainer.set("y",this.y()),this.bulletsContainer.set("x",this.x())}_prepareChildren(){super._prepareChildren(),this._bullets={},(this.isDirty("valueYShow")||this.isDirty("valueXShow")||this.isDirty("openValueYShow")||this.isDirty("openValueXShow")||this.isDirty("lowValueYShow")||this.isDirty("lowValueXShow")||this.isDirty("highValueYShow")||this.isDirty("highValueXShow"))&&(this._updateFields(),this._makeFieldNames(),this._valuesDirty=!0),(this.isDirty("xAxis")||this.isDirty("yAxis"))&&(this._valuesDirty=!0),this.set("width",this.get("xAxis").width()),this.set("height",this.get("yAxis").height()),this._handleMaskBullets();const e=this.get("xAxis"),n=this.get("yAxis"),i=this.get("baseAxis"),s=this.get("tooltipPositionX");let r;switch(s){case"open":r=this._xOpenField;break;case"low":r=this._xLowField;break;case"high":r=this._xHighField;break;default:r=this._xField}this._tooltipFieldX=r;const a=this.get("tooltipPositionY");let o;switch(a){case"open":o=this._yOpenField;break;case"low":o=this._yLowField;break;case"high":o=this._yHighField;break;default:o=this._yField}this._tooltipFieldY=o,this.isDirty("baseAxis")&&this._fixVC(),this._fixPosition();const l=this.get("stacked");if(this.isDirty("stacked")&&(l?this._valuesDirty&&!this._dataProcessed||this._stack():this._unstack()),this._valuesDirty&&!this._dataProcessed&&(this._dataProcessed=!0,l&&this._stack(),oe(this.dataItems,u=>{oe(this._valueXShowFields,d=>{let c=u.get(d);c!=null&&(l&&(c+=this.getStackedXValue(u,d)),this._min("minX",c),this._max("maxX",c))}),oe(this._valueYShowFields,d=>{let c=u.get(d);c!=null&&(l&&(c+=this.getStackedYValue(u,d)),this._min("minY",c),this._max("maxY",c))}),e.processSeriesDataItem(u,this._valueXFields),n.processSeriesDataItem(u,this._valueYFields)}),e._seriesValuesDirty=!0,n._seriesValuesDirty=!0,this.get("ignoreMinMax")||((this.isPrivateDirty("minX")||this.isPrivateDirty("maxX"))&&e.markDirtyExtremes(),(this.isPrivateDirty("minY")||this.isPrivateDirty("maxY"))&&n.markDirtyExtremes()),this._markStakedDirtyStack(),this.get("tooltipDataItem")||this.updateLegendValue(void 0)),(this.isDirty("vcx")||this.isDirty("vcy"))&&this._markStakedDirtyStack(),this._dataGrouped||(e._groupSeriesData(this),n._groupSeriesData(this),this._dataGrouped=!0),this._valuesDirty||this.isPrivateDirty("startIndex")||this.isPrivateDirty("adjustedStartIndex")||this.isPrivateDirty("endIndex")||this.isDirty("vcx")||this.isDirty("vcy")||this._stackDirty||this._sizeDirty){let u=this.startIndex(),d=this.endIndex(),c=this.get("minBulletDistance",0);if(c>0&&i&&(i.get("renderer").axisLength()/(d-u)>c?this._showBullets=!0:this._showBullets=!1),(this._psi!=u||this._pei!=d||this.isDirty("vcx")||this.isDirty("vcy")||this.isPrivateDirty("adjustedStartIndex")||this._stackDirty||this._valuesDirty)&&!this._selectionProcessed){this._selectionProcessed=!0;const f=this.get("vcx",1),h=this.get("vcy",1),g=this.get("stacked",!1),v=this.getPrivate("outOfSelection");if(i===e||!i)if(n._calculateTotals(),this.setPrivateRaw("selectionMinY",void 0),this.setPrivateRaw("selectionMaxY",void 0),v)n.markDirtySelectionExtremes();else for(let p=u;p<d;p++)this.processYSelectionDataItem(this.dataItems[p],h,g);if(i===n||!i)if(e._calculateTotals(),this.setPrivateRaw("selectionMinX",void 0),this.setPrivateRaw("selectionMaxX",void 0),v)n.markDirtySelectionExtremes();else for(let p=u;p<d;p++)this.processXSelectionDataItem(this.dataItems[p],f,g);if((i===e||!i)&&this.get("valueYShow")!=="valueYWorking"){const p=this.getPrivate("selectionMinY");p!=null&&(this.setPrivateRaw("minY",p),n.markDirtyExtremes());const _=this.getPrivate("selectionMaxY");_!=null&&(this.setPrivateRaw("maxY",_),n.markDirtyExtremes())}if((i===n||!i)&&this.get("valueXShow")!=="valueXWorking"){const p=this.getPrivate("selectionMinX");p!=null&&(this.setPrivateRaw("minX",p),n.markDirtyExtremes());const _=this.getPrivate("selectionMaxX");_!=null&&(this.setPrivateRaw("maxX",_),e.markDirtyExtremes())}(this.isPrivateDirty("selectionMinX")||this.isPrivateDirty("selectionMaxX"))&&e.markDirtySelectionExtremes(),(this.isPrivateDirty("selectionMinY")||this.isPrivateDirty("selectionMaxY"))&&n.markDirtySelectionExtremes()}}}_makeRangeMask(){if(this.axisRanges.length>0){let e=this._mainContainerMask;e==null&&(e=this.children.push(dn.new(this._root,{})),this._mainContainerMask=e,e.set("draw",(n,i)=>{const s=this.parent;if(s){const r=this._root.container.width(),a=this._root.container.height();n.moveTo(-r,-a),n.lineTo(-r,a*2),n.lineTo(r*2,a*2),n.lineTo(r*2,-a),n.lineTo(-r,-a),this.axisRanges.each(o=>{const l=o.axisDataItem.get("axisFill");if(s&&l){let u=l.get("draw");u&&u(n,i)}})}this.mainContainer._display.mask=e._display})),e.markDirty(),e._markDirtyKey("fill")}else this.mainContainer._display.mask=null}_updateChildren(){super._updateChildren(),this._x=this.x(),this._y=this.y(),this._makeRangeMask()}_stack(){const e=this.chart;if(e){const n=e.series.indexOf(this);if(this._couldStackTo=[],n>0){let i;for(let s=n-1;s>=0&&(i=e.series.getIndex(s),!(i.get("xAxis")===this.get("xAxis")&&i.get("yAxis")===this.get("yAxis")&&i.className===this.className&&(this._couldStackTo.push(i),!i.get("stacked"))));s--);}this._stackDataItems()}}_unstack(){rn(this._reallyStackedTo,(e,n)=>{delete n._stackedSeries[this.uid]}),this._reallyStackedTo={},oe(this.dataItems,e=>{e.setRaw("stackToItemY",void 0),e.setRaw("stackToItemX",void 0)})}_stackDataItems(){const e=this.get("baseAxis"),n=this.get("xAxis"),i=this.get("yAxis");let s,r;e===n?(s="valueY",r="stackToItemY"):e===i&&(s="valueX",r="stackToItemX");let a=this._couldStackTo.length,o=0;const l=this.get("stackToNegative");this._reallyStackedTo={},oe(this.dataItems,u=>{for(let d=0;d<a;d++){let c=this._couldStackTo[d],f=c.dataItems[o],h=u.get(s);if(f){let g=f.get(s);if(l)if(me(h)){if(me(g)){if(h>=0&&g>=0){u.setRaw(r,f),this._reallyStackedTo[c.uid]=c,c._stackedSeries[this.uid]=this;break}if(h<0&&g<0){u.setRaw(r,f),this._reallyStackedTo[c.uid]=c,c._stackedSeries[this.uid]=this;break}}}else break;else if(me(h)&&me(g)){u.setRaw(r,f),this._reallyStackedTo[c.uid]=c,c._stackedSeries[this.uid]=this;break}}}o++})}processXSelectionDataItem(e,n,i){oe(this.__valueXShowFields,s=>{let r=e.get(s);r!=null&&(i&&(r+=this.getStackedXValueWorking(e,s)),this._min("selectionMinX",r),this._max("selectionMaxX",r*n))})}processYSelectionDataItem(e,n,i){oe(this.__valueYShowFields,s=>{let r=e.get(s);r!=null&&(i&&(r+=this.getStackedYValueWorking(e,s)),this._min("selectionMinY",r),this._max("selectionMaxY",r*n))})}getStackedYValueWorking(e,n){const i=e.get("stackToItemY");if(i){const s=i.component;return i.get(n,0)*s.get("vcy",1)+this.getStackedYValueWorking(i,n)}return 0}getStackedXValueWorking(e,n){const i=e.get("stackToItemX");if(i){const s=i.component;return i.get(n,0)*s.get("vcx",1)+this.getStackedXValueWorking(i,n)}return 0}getStackedYValue(e,n){const i=e.get("stackToItemY");return i?i.get(n,0)+this.getStackedYValue(i,n):0}getStackedXValue(e,n){const i=e.get("stackToItemX");return i?i.get(n,0)+this.getStackedXValue(i,n):0}createLegendMarker(e){this.updateLegendMarker()}_markDirtyAxes(){this._axesDirty=!0,this.markDirty()}_markDataSetDirty(){this._afterDataChange(),this._valuesDirty=!0,this._dataProcessed=!1,this._aggregatesCalculated=!1,this.markDirty()}_clearDirty(){super._clearDirty(),this._axesDirty=!1,this._selectionProcessed=!1,this._stackDirty=!1,this._dataProcessed=!1}_positionBullet(e){let n=e.get("sprite");if(n){let i=n.dataItem,s=e.get("locationX",i.get("locationX",.5)),r=e.get("locationY",i.get("locationY",.5)),a=this.get("xAxis"),o=this.get("yAxis"),l=a.getDataItemPositionX(i,this._xField,s,this.get("vcx",1)),u=o.getDataItemPositionY(i,this._yField,r,this.get("vcy",1)),d=this.getPoint(l,u),c=i.get("left",d.x),f=i.get("right",d.x),h=i.get("top",d.y),g=i.get("bottom",d.y),v=0,p=0,_=f-c,b=g-h;if(this._shouldShowBullet(l,u)){n.setPrivate("visible",!e.getPrivate("hidden"));let x=e.get("field");const k=this.get("baseAxis"),I=this.get("xAxis"),E=this.get("yAxis");if(x!=null){let S;k==I?(x=="value"?S=this._yField:x=="open"?S=this._yOpenField:x=="high"?S=this._yHighField:x=="low"&&(S=this._yLowField),S&&(u=E.getDataItemPositionY(i,S,0,this.get("vcy",1)),d=E.get("renderer").positionToPoint(u),p=d.y,v=c+_*s)):(x=="value"?S=this._xField:x=="open"?S=this._xOpenField:x=="high"?S=this._xHighField:x=="low"&&(S=this._xLowField),S&&(l=I.getDataItemPositionX(i,S,0,this.get("vcx",1)),d=I.get("renderer").positionToPoint(l),v=d.x,p=g-b*r))}else v=c+_*s,p=g-b*r;const T=e.get("stacked");if(T){const S=this.chart;if(k==I){let w=this._bullets[l+"_"+u];if(w){let P=w.bounds(),C=n.localBounds(),D=p;p=P.top,T=="down"?p=P.bottom-C.top:T=="auto"?S&&(D<S.plotContainer.height()/2?p=P.bottom-C.top:p+=C.bottom):p+=C.bottom}this._bullets[l+"_"+u]=n}else{let w=this._bullets[l+"_"+u];if(w){let P=w.bounds(),C=n.localBounds(),D=v;v=P.right,T=="down"?v=P.left-C.right:T=="auto"?S&&(D<S.plotContainer.width()/2?v=P.left-C.right:v-=C.left):v-=C.left}this._bullets[l+"_"+u]=n}}n.isType("Label")&&(n.setPrivate("maxWidth",Math.abs(_)),n.setPrivate("maxHeight",Math.abs(b))),n.setAll({x:v,y:p})}else n.setPrivate("visible",!1)}}_shouldShowBullet(e,n){return this._showBullets}setDataSet(e){if(this._dataSets[e]){this._handleDataSetChange(),this._dataItems=this._dataSets[e],this._markDataSetDirty(),this._dataSetId=e;const n="datasetchanged";this.events.isEnabled(n)&&this.events.dispatch(n,{type:n,target:this,id:e})}}resetGrouping(){rn(this._dataSets,(e,n)=>{n!=this._mainDataItems&&oe(n,i=>{this.disposeDataItem(i)})}),this._dataSets={},this._dataItems=this.mainDataItems}_handleDataSetChange(){oe(this._dataItems,e=>{let n=e.bullets;n&&oe(n,i=>{if(i){let s=i.get("sprite");s&&s.setPrivate("visible",!1)}})}),this._selectionProcessed=!1}show(e){const n=Object.create(null,{show:{get:()=>super.show}});return ki(this,void 0,void 0,function*(){this._fixVC();let i=[];i.push(n.show.call(this,e).then(()=>{this._isShowing=!1;let s=this.get("xAxis"),r=this.get("yAxis"),a=this.get("baseAxis");r!==a&&r.markDirtySelectionExtremes(),s!==a&&s.markDirtySelectionExtremes()})),i.push(this.bulletsContainer.show(e)),i.push(this._sequencedShowHide(!0,e)),yield Promise.all(i)})}hide(e){const n=Object.create(null,{hide:{get:()=>super.hide}});return ki(this,void 0,void 0,function*(){this._fixVC();let i=[];i.push(n.hide.call(this,e).then(()=>{this._isHiding=!1})),i.push(this.bulletsContainer.hide(e)),i.push(this._sequencedShowHide(!1,e)),yield Promise.all(i)})}showDataItem(e,n){const i=Object.create(null,{showDataItem:{get:()=>super.showDataItem}});return ki(this,void 0,void 0,function*(){const s=[i.showDataItem.call(this,e,n)];me(n)||(n=this.get("stateAnimationDuration",0));const r=this.get("stateAnimationEasing");oe(this._valueFields,a=>{s.push(e.animate({key:a+"Working",to:e.get(a),duration:n,easing:r}).waitForStop())}),yield Promise.all(s)})}hideDataItem(e,n){const i=Object.create(null,{hideDataItem:{get:()=>super.hideDataItem}});return ki(this,void 0,void 0,function*(){const s=[i.hideDataItem.call(this,e,n)],r=this.states.create("hidden",{});me(n)||(n=r.get("stateAnimationDuration",this.get("stateAnimationDuration",0)));const a=r.get("stateAnimationEasing",this.get("stateAnimationEasing")),o=this.get("xAxis"),l=this.get("yAxis"),u=this.get("baseAxis"),d=this.get("stacked");if((u===o||!u)&&oe(this._valueYFields,c=>{let f=l.getPrivate("min"),h=l.baseValue();me(f)&&f>h&&(h=f),d&&(h=0),e.get(c)!=null&&s.push(e.animate({key:c+"Working",to:h,duration:n,easing:a}).waitForStop())}),u===l||!u){let c=o.getPrivate("min"),f=o.baseValue();me(c)&&c>f&&(f=c),d&&(f=0),oe(this._valueXFields,h=>{e.get(h)!=null&&s.push(e.animate({key:h+"Working",to:f,duration:n,easing:a}).waitForStop())})}yield Promise.all(s)})}_markDirtyStack(){this._stackDirty=!0,this.markDirty(),this._markStakedDirtyStack()}_markStakedDirtyStack(){const e=this._stackedSeries;e&&rn(e,(n,i)=>{i._stackDirty||i._markDirtyStack()})}_afterChanged(){super._afterChanged(),this._skipped&&(this._markDirtyAxes(),this._skipped=!1)}showDataItemTooltip(e){this.getPrivate("doNotUpdateLegend")||(this.updateLegendMarker(e),this.updateLegendValue(e));const n=this.get("tooltip");if(n)if(!this.isHidden()&&this.get("visible")){if(n._setDataItem(e),e){let i=this.get("locationX",0),s=this.get("locationY",1),r=e.get("locationX",i),a=e.get("locationY",s);const o=this.get("xAxis"),l=this.get("yAxis"),u=this.get("vcx",1),d=this.get("vcy",1),c=o.getDataItemPositionX(e,this._tooltipFieldX,this._aLocationX0+(this._aLocationX1-this._aLocationX0)*r,u),f=l.getDataItemPositionY(e,this._tooltipFieldY,this._aLocationY0+(this._aLocationY1-this._aLocationY0)*a,d),h=this.getPoint(c,f);let g=!0;if(oe(this._valueFields,v=>{e.get(v)==null&&(g=!1)}),g){const v=this.chart;v&&v.inPlot(h)?(n.label.text.markDirtyText(),n.set("tooltipTarget",this._getTooltipTarget(e)),n.set("pointTo",this._display.toGlobal({x:h.x,y:h.y}))):n._setDataItem(void 0)}else n._setDataItem(void 0)}}else this.hideTooltip()}hideTooltip(){const e=this.get("tooltip");return e&&e.set("tooltipTarget",this),super.hideTooltip()}_getTooltipTarget(e){if(this.get("seriesTooltipTarget")=="bullet"){const n=e.bullets;if(n&&n.length>0){const s=n[0].get("sprite");if(s)return s}}return this}updateLegendValue(e){const n=this.get("legendDataItem");if(n){const i=n.get("label");if(i){let r="";e?(i._setDataItem(e),r=this.get("legendLabelText",i.get("text",this.get("name","")))):(i._setDataItem(this._emptyDataItem),r=this.get("legendRangeLabelText",this.get("legendLabelText",i.get("text",this.get("name",""))))),i.set("text",r)}const s=n.get("valueLabel");if(s){let r="";e?(s._setDataItem(e),r=this.get("legendValueText",s.get("text",""))):(s._setDataItem(this._emptyDataItem),r=this.get("legendRangeValueText",s.get("text",""))),s.set("text",r)}}}_getItemReaderLabel(){let e="X: {"+this._xField;return this.get("xAxis").isType("DateAxis")&&(e+=".formatDate()"),e+="}; Y: {"+this._yField,this.get("yAxis").isType("DateAxis")&&(e+=".formatDate()"),e+="}",e}getPoint(e,n){let i=this.get("xAxis").get("renderer").positionToCoordinate(e),s=this.get("yAxis").get("renderer").positionToCoordinate(n),r=999999999;return s<-r&&(s=-r),s>r&&(s=r),i<-r&&(i=-r),i>r&&(i=r),{x:i,y:s}}_shouldInclude(e){return!0}handleCursorHide(){this.hideTooltip(),this.updateLegendValue(void 0),this.updateLegendMarker(void 0)}_afterDataChange(){super._afterDataChange(),this.get("xAxis")._markDirtyKey("start"),this.get("yAxis")._markDirtyKey("start"),this.resetExtremes()}resetExtremes(){this.setPrivate("selectionMinX",void 0),this.setPrivate("selectionMaxX",void 0),this.setPrivate("selectionMinY",void 0),this.setPrivate("selectionMaxY",void 0),this.setPrivate("minX",void 0),this.setPrivate("minY",void 0),this.setPrivate("maxX",void 0),this.setPrivate("maxY",void 0)}createAxisRange(e){return this.axisRanges.push({axisDataItem:e})}get mainDataItems(){return this._mainDataItems}_adjustStartIndex(e){const n=this.get("xAxis");if(this.get("baseAxis")==n&&n.isType("DateAxis")){const s=n.baseDuration(),r=n.getPrivate("selectionMin",n.getPrivate("min",0)),a=s*this.get("locationX",.5);let o=-1/0;for(;o<r;){const l=this.dataItems[e];if(l){const u=l.open;if(u?o=u.valueX:o=l.get("valueX",0),o+=a,o<r)e++;else break}else break}}return e}}Object.defineProperty(xc,"className",{enumerable:!0,configurable:!0,writable:!0,value:"XYSeries"});Object.defineProperty(xc,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Fo.classNames.concat([xc.className])});class Sc extends xc{constructor(){super(...arguments),Object.defineProperty(this,"_ph",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_pw",{enumerable:!0,configurable:!0,writable:!0,value:0})}_makeGraphics(e,n){return this.makeColumn(n,e)}_makeFieldNames(){super._makeFieldNames();const e=this.get("xAxis"),n=this.get("yAxis"),i="CategoryAxis",s="ValueAxis";e.isType(i)&&(this.get("openCategoryXField")||(this._xOpenField=this._xField)),e.isType(s)&&(this.get("openValueXField")||(this._xOpenField=this._xField)),n.isType(i)&&(this.get("openCategoryYField")||(this._yOpenField=this._yField)),n.isType(s)&&(this.get("openValueYField")||(this._yOpenField=this._yField))}_prepareChildren(){super._prepareChildren();const e=this.get("xAxis"),n=this.get("yAxis"),i=this.dataItems.length,s=Math.max(0,this.startIndex()-2),r=Math.min(this.endIndex()+2,i-1);if(e.inited&&n.inited)for(let a=s;a<=r;a++){let o=this.dataItems[a];this._createGraphics(o)}}_updateChildren(){const e=this.chart;e&&(this._ph=e.plotContainer.height(),this._pw=e.plotContainer.width());const n=this.get("xAxis"),i=this.get("yAxis"),s=this.get("baseAxis"),r=this.columns.template;this.isDirty("fill")&&r.get("fill")==null&&r.set("fill",this.get("fill")),this.isDirty("fillPattern")&&r.get("fillPattern")==null&&r.set("fillPattern",this.get("fillPattern")),this.isDirty("stroke")&&r.get("stroke")==null&&r.set("stroke",this.get("stroke"));let a=0,o=0,l=0;oe(s.series,_=>{if(_ instanceof Sc){const b=_.get("stacked");b&&l==0&&o++,!b&&_.get("clustered")&&o++}_===this&&(a=o-1),l++}),this.get("clustered")||(a=0,o=1),o===0&&(o=1,a=0);const u=n.get("renderer"),d=i.get("renderer"),c="cellStartLocation",f="cellEndLocation",h=u.get(c,0),g=u.get(f,1),v=d.get(c,0),p=d.get(f,1);if(this._aLocationX0=h+a/o*(g-h),this._aLocationX1=h+(a+1)/o*(g-h),this._aLocationY0=v+a/o*(p-v),this._aLocationY1=v+(a+1)/o*(p-v),n.inited&&i.inited){if(this._axesDirty||this._valuesDirty||this._stackDirty||this.isDirty("vcx")||this.isDirty("vcy")||this._sizeDirty){const _=this.dataItems.length;let b=Math.max(0,this.startIndex()-2),x=Math.min(this.endIndex()+2,_-1);for(let I=0;I<b;I++)this._toggleColumn(this.dataItems[I],!1);let k=this.dataItems[b];for(let I=b;I<=x;I++){let E=this.dataItems[I];if(E.get("valueX")!=null&&E.get("valueY")!=null){if(k=E,I>0&&b>0)for(let T=I-1;T>=0;T--){let S=this.dataItems[T];if(S.get("valueX")!=null&&S.get("valueY")!=null){k=S;break}}break}else this._toggleColumn(E,!1)}for(let I=b;I<=x;I++){let E=this.dataItems[I];this._updateGraphics(E,k),E.get("valueX")!=null&&E.get("valueY")!=null&&(k=E)}for(let I=x+1;I<_;I++)this._toggleColumn(this.dataItems[I],!1)}}else this._skipped=!0;this.updateLegendMarker(this.get("tooltipDataItem")),super._updateChildren()}_createGraphics(e){let n=e.get("graphics");if(!n){n=this._makeGraphics(this.columns,e),e.set("graphics",n),n._setDataItem(e);const i=e.get("legendDataItem");if(i){const r=i.get("markerRectangle");if(r){const a=r.states.lookup("default");oe(wk,o=>{const l=n.get(o,this.get(o));r.set(o,l),a.set(o,l)})}}let s=e.get("rangeGraphics");s&&oe(s,r=>{r.dispose()}),s=[],e.setRaw("rangeGraphics",s),this.axisRanges.each(r=>{const a=r.container,o=this._makeGraphics(r.columns,e);s&&s.push(o),o.setPrivate("list",r.columns),a.children.push(o)})}}createAxisRange(e){return oe(this.dataItems,n=>{const i=n.get("graphics");i&&(i.dispose(),n.set("graphics",void 0))}),super.createAxisRange(e)}_updateGraphics(e,n){let i=e.get("graphics");const s=this._xField,r=this._yField,a=e.get(s),o=e.get(r);if(a!=null&&o!=null){const l=this._xOpenField,u=this._yOpenField,d=this.get("locationX",e.get("locationX",.5)),c=this.get("locationY",e.get("locationY",.5)),f=this.get("openLocationX",e.get("openLocationX",d)),h=this.get("openLocationY",e.get("openLocationY",c)),g=i.get("width"),v=i.get("height"),p=this.get("stacked"),_=this.get("xAxis"),b=this.get("yAxis"),x=this.get("baseAxis"),k=_.get("start"),I=_.get("end"),E=b.get("start"),T=b.get("end");let S,w,P,C,D=this.get("vcy",1),A=this.get("vcx",1),N=!1,B=!1;if(b.isType("CategoryAxis")&&_.isType("CategoryAxis")){let G=this._aLocationX0+f-.5,z=this._aLocationX1+d-.5;if(g instanceof St){let X=(z-G)*(1-g.value)/2;G+=X,z-=X}if(S=_.getDataItemPositionX(e,l,G,A),w=_.getDataItemPositionX(e,s,z,A),G=this._aLocationY0+h-.5,z=this._aLocationY1+c-.5,v instanceof St){let X=(z-G)*(1-v.value)/2;G+=X,z-=X}P=b.getDataItemPositionY(e,u,G,D),C=b.getDataItemPositionY(e,r,z,D),e.setRaw("point",{x:S+(w-S)/2,y:P+(C-P)/2})}else if(_===x){let G=this._aLocationX0+f-.5,z=this._aLocationX1+d-.5;if(g instanceof St){let X=(z-G)*(1-g.value)/2;G+=X,z-=X}if(S=_.getDataItemPositionX(e,l,G,A),w=_.getDataItemPositionX(e,s,z,A),P=b.getDataItemPositionY(e,r,c,D),this._yOpenField!==this._yField)C=b.getDataItemPositionY(e,u,h,D);else if(p){let X=e.get("stackToItemY");X?C=b.getDataItemPositionY(X,r,h,X.component.get("vcy")):C=b.basePosition()}else C=b.basePosition();e.setRaw("point",{x:S+(w-S)/2,y:P}),B=!0}else if(b===x){let G=this._aLocationY0+h-.5,z=this._aLocationY1+c-.5;if(v instanceof St){let X=(z-G)*(1-v.value)/2;G+=X,z-=X}if(P=b.getDataItemPositionY(e,u,G,D),C=b.getDataItemPositionY(e,r,z,D),w=_.getDataItemPositionX(e,s,d,A),this._xOpenField!==this._xField)S=_.getDataItemPositionX(e,l,f,A);else if(p){let X=e.get("stackToItemX");X?S=_.getDataItemPositionX(X,s,f,X.component.get("vcx")):S=_.basePosition()}else S=_.basePosition();N=!0,e.setRaw("point",{x:w,y:P+(C-P)/2})}this._updateSeriesGraphics(e,i,S,w,P,C,N,B),S<k&&w<k||S>I&&w>I||P<E&&C<=E||P>=T&&C>T||va(S)||va(P)?this._toggleColumn(e,!1):this._toggleColumn(e,!0);let H=e.get("rangeGraphics");H&&oe(H,G=>{this._updateSeriesGraphics(e,G,S,w,P,C,N,B)}),this._applyGraphicsStates(e,n)}else this._toggleColumn(e,!1)}_updateSeriesGraphics(e,n,i,s,r,a,o,l){const u=n.get("width"),d=n.get("height"),c=n.get("maxWidth"),f=n.get("maxHeight"),h=this.getPoint(i,r),g=this.getPoint(s,a),v=e.get("point");if(v){const p=this.getPoint(v.x,v.y);v.x=p.x+this._x,v.y=p.y+this._y}if(i=h.x,s=g.x,r=h.y,a=g.y,me(u)){const p=(s-i-u)/2;i+=p,s-=p}if(me(c)&&c<Math.abs(s-i)){const p=(s-i-c)/2;i+=p,s-=p}if(me(d)){const p=(a-r-d)/2;r+=p,a-=p}if(me(f)&&f<Math.abs(a-r)){const p=(a-r-f)/2;r+=p,a-=p}this.get("adjustBulletPosition")&&(o&&(s=Math.min(Math.max(0,s),this._pw),i=Math.min(Math.max(0,i),this._pw)),l&&(r=Math.min(Math.max(0,r),this._ph),a=Math.min(Math.max(0,a),this._ph))),e.setRaw("left",i),e.setRaw("right",s),e.setRaw("top",r),e.setRaw("bottom",a),n.setPrivate("width",s-i),n.setPrivate("height",a-r),n.set("x",i),n.set("y",a-(a-r))}_handleDataSetChange(){super._handleDataSetChange(),oe(this._dataItems,e=>{this._toggleColumn(e,!1)})}_applyGraphicsStates(e,n){const i=e.get("graphics"),s=i.states.lookup("dropFromOpen"),r=i.states.lookup("riseFromOpen"),a=i.states.lookup("dropFromPrevious"),o=i.states.lookup("riseFromPrevious");if(s||a||r||o){const l=this.get("xAxis"),u=this.get("yAxis"),d=this.get("baseAxis");let c,f,h;d===l&&u.isType("ValueAxis")?(c=e.get(this._yOpenField),f=e.get(this._yField),h=n.get(this._yField)):d===u&&l.isType("ValueAxis")&&(c=e.get(this._xOpenField),f=e.get(this._xField),h=n.get(this._xField)),me(c)&&me(f)&&(f<c?s&&s.apply():r&&r.apply(),me(h)&&(f<h?a&&a.apply():o&&o.apply()))}}disposeDataItem(e){super.disposeDataItem(e);const n=e.get("graphics");n&&(this.columns.removeValue(n),n.dispose());const i=e.get("rangeGraphics");i&&oe(i,s=>{const r=s.getPrivate("list");r&&r.removeValue(s),s.dispose()})}hideDataItem(e,n){const i=Object.create(null,{hideDataItem:{get:()=>super.hideDataItem}});return ki(this,void 0,void 0,function*(){const s=[i.hideDataItem.call(this,e,n)],r=e.get("graphics");r&&s.push(r.hide(n));const a=e.get("rangeGraphics");a&&oe(a,o=>{s.push(o.hide(n))}),yield Promise.all(s)})}_toggleColumn(e,n){const i=e.get("graphics");i&&i.setPrivate("visible",n);const s=e.get("rangeGraphics");s&&oe(s,a=>{a.setPrivate("visible",n)});const r=e.bullets;r&&oe(r,a=>{a.setPrivate("hidden",!n)})}showDataItem(e,n){const i=Object.create(null,{showDataItem:{get:()=>super.showDataItem}});return ki(this,void 0,void 0,function*(){const s=[i.showDataItem.call(this,e,n)],r=e.get("graphics");r&&s.push(r.show(n));const a=e.get("rangeGraphics");a&&oe(a,o=>{s.push(o.show(n))}),yield Promise.all(s)})}updateLegendMarker(e){let n=this.get("legendDataItem");if(this.get("useLastColorForLegendMarker")&&!e){const i=this.dataItems[this.endIndex()-1];i&&(e=i)}if(n){let i=this.columns.template;if(e){let r=e.get("graphics");r&&(i=r)}const s=n.get("markerRectangle");if(s&&!n.get("itemContainer").get("disabled")){const r=s.states.lookup("default");oe(wk,a=>{const o=i.get(a,this.get(a));s.set(a,o),r.set(a,o)})}}}_getTooltipTarget(e){if(this.get("seriesTooltipTarget")=="bullet")return super._getTooltipTarget(e);let n=e.get("graphics");return n||this}}Object.defineProperty(Sc,"className",{enumerable:!0,configurable:!0,writable:!0,value:"BaseColumnSeries"});Object.defineProperty(Sc,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:xc.classNames.concat([Sc.className])});class kc extends _c{constructor(){super(...arguments),Object.defineProperty(this,"_series",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_isPanning",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"minorDataItems",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"labelsContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(st.new(this._root,{}))}),Object.defineProperty(this,"gridContainer",{enumerable:!0,configurable:!0,writable:!0,value:st.new(this._root,{width:Fe,height:Fe})}),Object.defineProperty(this,"topGridContainer",{enumerable:!0,configurable:!0,writable:!0,value:st.new(this._root,{width:Fe,height:Fe})}),Object.defineProperty(this,"bulletsContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(st.new(this._root,{isMeasured:!1,width:Fe,height:Fe,position:"absolute"}))}),Object.defineProperty(this,"chart",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_rangesDirty",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_panStart",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_panEnd",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"_sAnimation",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_eAnimation",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_skipSync",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"axisRanges",{enumerable:!0,configurable:!0,writable:!0,value:new ef}),Object.defineProperty(this,"_seriesAxisRanges",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"ghostLabel",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_cursorPosition",{enumerable:!0,configurable:!0,writable:!0,value:-1}),Object.defineProperty(this,"_snapToSeries",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_seriesValuesDirty",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_seriesAdded",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"axisHeader",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(st.new(this._root,{themeTags:["axis","header"],position:"absolute",background:tr.new(this._root,{themeTags:["header","background"],fill:this._root.interfaceColors.get("background")})}))}),Object.defineProperty(this,"_bullets",{enumerable:!0,configurable:!0,writable:!0,value:{}})}_dispose(){this.gridContainer.dispose(),this.topGridContainer.dispose(),this.bulletsContainer.dispose(),this.labelsContainer.dispose(),this.axisHeader.dispose(),super._dispose()}_afterNew(){super._afterNew(),this.setPrivate("updateScrollbar",!0),this._disposers.push(this.axisRanges.events.onAll(n=>{if(n.type==="clear")oe(n.oldValues,i=>{this.disposeDataItem(i)});else if(n.type==="push")this._processAxisRange(n.newValue,["range"]);else if(n.type==="setIndex")this._processAxisRange(n.newValue,["range"]);else if(n.type==="insertIndex")this._processAxisRange(n.newValue,["range"]);else if(n.type==="removeIndex")this.disposeDataItem(n.oldValue);else if(n.type==="moveIndex")this._processAxisRange(n.value,["range"]);else throw new Error("Unknown IStreamEvent type")}));const e=this.get("renderer");e&&(e.axis=this,e.processAxis()),this.children.push(e),this.ghostLabel=e.makeLabel(new oa(this,void 0,{}),[]),this.ghostLabel.adapters.disable("text"),this.ghostLabel.setAll({opacity:0,tooltipText:void 0,tooltipHTML:void 0,interactive:!1}),this.ghostLabel.events.disable()}_updateFinals(e,n){}zoom(e,n,i,s){if(this.get("zoomable",!0))if(this._updateFinals(e,n),this.get("start")!==e||this.get("end")!=n){let r=this._sAnimation,a=this._eAnimation,o=this.get("maxDeviation",.5)*Math.min(1,n-e);e<-o&&(e=-o),n>1+o&&(n=1+o),e>n&&([e,n]=[n,e]),me(i)||(i=this.get("interpolationDuration",0)),s||(s="end");let l=this.getPrivate("maxZoomFactor",this.get("maxZoomFactor",100)),u=l;n===1&&e!==0&&(e<this.get("start",0)?s="start":s="end"),e===0&&n!==1&&(n>this.get("end",1)?s="end":s="start");let d=this.get("minZoomCount",0),c=this.get("maxZoomCount",1/0);me(d)&&(l=u/d);let f=1;if(me(c)&&(f=u/c),s==="start"?(c>0&&1/(n-e)<f&&(n=e+1/f),1/(n-e)>l&&(n=e+1/l),n>1&&n-e<1/l&&(e=n-1/l)):(c>0&&1/(n-e)<f&&(e=n-1/f),1/(n-e)>l&&(e=n-1/l),e<0&&n-e<1/l&&(n=e+1/l)),1/(n-e)>l&&(n=e+1/l),1/(n-e)>l&&(e=n-1/l),c!=null&&d!=null&&e==this.get("start")&&n==this.get("end")){const h=this.chart;h&&h._handleAxisSelection(this,!0)}if((r&&r.playing&&r.to==e||this.get("start")==e)&&(a&&a.playing&&a.to==n||this.get("end")==n))return;if(i>0){let h=this.get("interpolationEasing"),g,v;if(this.get("start")!=e&&(g=this.animate({key:"start",to:e,duration:i,easing:h})),this.get("end")!=n&&(v=this.animate({key:"end",to:n,duration:i,easing:h})),this._sAnimation=g,this._eAnimation=v,g)return g;if(v)return v}else this.set("start",e),this.set("end",n)}else this._sAnimation&&this._sAnimation.stop(),this._eAnimation&&this._eAnimation.stop()}get series(){return this._series}_processAxisRange(e,n){e.setRaw("isRange",!0),this._createAssets(e,n),this._rangesDirty=!0,this._prepareDataItem(e);const i=e.get("above"),s=this.topGridContainer,r=e.get("grid");i&&r&&s.children.moveValue(r);const a=e.get("axisFill");i&&a&&s.children.moveValue(a)}_prepareDataItem(e,n){}markDirtyExtremes(){}markDirtySelectionExtremes(){}_calculateTotals(){}_updateAxisRanges(){this._bullets={},this.axisRanges.each(e=>{this._prepareDataItem(e)}),oe(this._seriesAxisRanges,e=>{this._prepareDataItem(e)})}_prepareChildren(){if(super._prepareChildren(),this.get("fixAxisSize")?this.ghostLabel.set("visible",!0):this.ghostLabel.set("visible",!1),this.isDirty("start")||this.isDirty("end")){const n=this.chart;n&&n._updateCursor();let i=this.get("start",0),s=this.get("end",1),r=this.get("maxDeviation",.5)*Math.min(1,s-i);if(i<-r){let a=i+r;i=-r,this.setRaw("start",i),this.isDirty("end")&&this.setRaw("end",s-a)}if(s>1+r){let a=s-1-r;s=1+r,this.setRaw("end",s),this.isDirty("start")&&this.setRaw("start",i-a)}}const e=this.get("renderer");if(e._start=this.get("start"),e._end=this.get("end"),e._inversed=e.get("inversed",!1),e._axisLength=e.axisLength()/(e._end-e._start),e._updateLC(),this.isDirty("tooltip")){const n=this.get("tooltip");if(n){const i=e.get("themeTags");n.addTag("axis"),n.addTag(this.className.toLowerCase()),n._applyThemes(),i&&(n.set("themeTags",Lt(n.get("themeTags"),i)),n.label._applyThemes())}}}_updateTooltipBounds(){const e=this.get("tooltip");e&&this.get("renderer").updateTooltipBounds(e)}_updateBounds(){super._updateBounds(),this._updateTooltipBounds()}processChart(e){this.chart=e;const n=this.get("renderer");n.chart=e,e.gridContainer.children.push(this.gridContainer),e.topGridContainer.children.push(this.topGridContainer),e.axisHeadersContainer.children.push(this.axisHeader),this.on("start",()=>{e._handleAxisSelection(this)}),this.on("end",()=>{e._handleAxisSelection(this)}),e.plotContainer.onPrivate("width",()=>{this.markDirtySize()}),e.plotContainer.onPrivate("height",()=>{this.markDirtySize()}),e.processAxis(this)}hideDataItem(e){return this._toggleFHDataItem(e,!0),super.hideDataItem(e)}showDataItem(e){return this._toggleFHDataItem(e,!1),super.showDataItem(e)}_toggleFHDataItem(e,n){const i="forceHidden",s=e.get("label");s&&s.set(i,n);const r=e.get("grid");r&&r.set(i,n);const a=e.get("tick");a&&a.set(i,n);const o=e.get("axisFill");o&&o.set(i,n);const l=e.get("bullet");if(l){const u=l.get("sprite");u&&u.set(i,n)}}_toggleDataItem(e,n){const i=e.get("label"),s="visible";i&&i.setPrivate(s,n);const r=e.get("grid");r&&r.setPrivate(s,n);const a=e.get("tick");a&&a.setPrivate(s,n);const o=e.get("axisFill");o&&o.setPrivate(s,n);const l=e.get("bullet");if(l){const u=l.get("sprite");u&&u.setPrivate(s,n)}}_createAssets(e,n,i){var s,r,a;const o=this.get("renderer");let l="minor";const u=e.get("label");if(!u)o.makeLabel(e,n);else{let f=u.get("themeTags"),h=!1;i?(f==null?void 0:f.indexOf(l))==-1&&(h=!0):(f==null?void 0:f.indexOf(l))!=-1&&(h=!0),h&&((s=u.parent)===null||s===void 0||s.children.removeValue(u),o.makeLabel(e,n),u.dispose(),o.labels.removeValue(u))}const d=e.get("grid");if(!d)o.makeGrid(e,n);else{let f=d.get("themeTags"),h=!1;i?(f==null?void 0:f.indexOf(l))==-1&&(h=!0):(f==null?void 0:f.indexOf(l))!=-1&&(h=!0),h&&((r=d.parent)===null||r===void 0||r.children.removeValue(d),o.makeGrid(e,n),d.dispose(),o.grid.removeValue(d))}const c=e.get("tick");if(!c)o.makeTick(e,n);else{let f=!1,h=c.get("themeTags");i?(h==null?void 0:h.indexOf(l))==-1&&(f=!0):(h==null?void 0:h.indexOf(l))!=-1&&(f=!0),f&&((a=c.parent)===null||a===void 0||a.children.removeValue(c),o.makeTick(e,n),c.dispose(),o.ticks.removeValue(c))}!i&&!e.get("axisFill")&&o.makeAxisFill(e,n),this._processBullet(e)}_processBullet(e){let n=e.get("bullet"),i=this.get("bullet");if(!n&&i&&!e.get("isRange")&&(n=i(this._root,this,e)),n){n.axis=this;const s=n.get("sprite");s&&(s._setDataItem(e),e.setRaw("bullet",n),s.parent||this.bulletsContainer.children.push(s))}}_afterChanged(){super._afterChanged();const e=this.chart;e&&(e._updateChartLayout(),e.axisHeadersContainer.markDirtySize()),this.get("renderer")._updatePositions(),this._seriesAdded=!1}disposeDataItem(e){super.disposeDataItem(e);const n=this.get("renderer"),i=e.get("label");i&&(n.labels.removeValue(i),i.dispose());const s=e.get("tick");s&&(n.ticks.removeValue(s),s.dispose());const r=e.get("grid");r&&(n.grid.removeValue(r),r.dispose());const a=e.get("axisFill");a&&(n.axisFills.removeValue(a),a.dispose());const o=e.get("bullet");o&&o.dispose()}_updateGhost(){this.setPrivate("cellWidth",this.getCellWidthPosition()*this.get("renderer").axisLength());const e=this.ghostLabel;if(!e.isHidden()){const s=e.localBounds(),r=Math.ceil(s.right-s.left);let a=e.get("text");oe(this.dataItems,o=>{const l=o.get("label");if(l&&!l.isHidden()){const u=l.localBounds();Math.ceil(u.right-u.left)>r&&(a=l.text._getText())}}),e.set("text",a)}let n=this.get("start",0),i=this.get("end",1);this.get("renderer").updateLabel(e,n+(i-n)*.5)}_handleCursorPosition(e,n){e=this.get("renderer").toAxisPosition(e),this._cursorPosition=e,this._snapToSeries=n,this.updateTooltip()}updateTooltip(){const e=this._snapToSeries;let n=this._cursorPosition;const i=this.get("tooltip"),s=this.get("renderer");me(n)&&(oe(this.series,r=>{if(r.get("baseAxis")===this){const a=this.getSeriesItem(r,n,this.get("tooltipLocation"));e&&e.indexOf(r)!=-1?(r.updateLegendMarker(a),r.updateLegendValue(a),r._settings.tooltipDataItem=a):(r.showDataItemTooltip(a),r.setRaw("tooltipDataItem",a))}}),this.get("snapTooltip")&&(n=this.roundAxisPosition(n,this.get("tooltipLocation",.5))),this.setPrivateRaw("tooltipPosition",n),i&&(s.updateTooltipBounds(i),va(n)?i.hide(0):(this._updateTooltipText(i,n),s.positionTooltip(i,n),n<this.get("start",0)||n>this.get("end",1)?i.hide(0):i.show(0))))}_updateTooltipText(e,n){e.label.set("text",this.getTooltipText(n))}roundAxisPosition(e,n){return e}handleCursorShow(){let e=this.get("tooltip");e&&e.show()}handleCursorHide(){let e=this.get("tooltip");e&&e.hide()}processSeriesDataItem(e,n){}_clearDirty(){super._clearDirty(),this._sizeDirty=!1,this._rangesDirty=!1}coordinateToPosition(e){const n=this.get("renderer");return n.toAxisPosition(e/n.axisLength())}toAxisPosition(e){return this.get("renderer").toAxisPosition(e)}toGlobalPosition(e){return this.get("renderer").toGlobalPosition(e)}fixPosition(e){return this.get("renderer").fixPosition(e)}shouldGap(e,n,i,s){return!1}createAxisRange(e){return this.axisRanges.push(e)}_groupSeriesData(e){}getCellWidthPosition(){return .05}}Object.defineProperty(kc,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Axis"});Object.defineProperty(kc,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:_c.classNames.concat([kc.className])});class Yl extends kc{constructor(){super(...arguments),Object.defineProperty(this,"_dirtyExtremes",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_dirtySelectionExtremes",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_dseHandled",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_deltaMinMax",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"_minReal",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_maxReal",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_minRealLog",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_baseValue",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_syncDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_minLogAdjusted",{enumerable:!0,configurable:!0,writable:!0,value:1})}markDirtyExtremes(){this._dirtyExtremes=!0,this.markDirty()}markDirtySelectionExtremes(){this._dirtySelectionExtremes=!0,this.markDirty()}_afterNew(){this._settings.themeTags=Lt(this._settings.themeTags,["axis"]),this.setPrivateRaw("name","value"),this.addTag("value"),super._afterNew()}_prepareChildren(){if(super._prepareChildren(),this.isDirty("syncWithAxis")){this._prevSettings.syncWithAxis&&this._syncDp&&this._syncDp.dispose();let i=this.get("syncWithAxis");i&&(this._syncDp=new Rs([i.onPrivate("selectionMinFinal",()=>{this._dirtySelectionExtremes=!0}),i.onPrivate("selectionMaxFinal",()=>{this._dirtySelectionExtremes=!0})]))}let e=!1;if((this.isDirty("min")||this.isDirty("max")||this.isDirty("maxPrecision")||this.isDirty("numberFormat"))&&(e=!0,this.ghostLabel.set("text","")),(this._sizeDirty||this._dirtyExtremes||this._valuesDirty||e||this.isPrivateDirty("width")||this.isPrivateDirty("height")||this.isDirty("extraMin")||this.isDirty("extraMax")||this.isDirty("logarithmic")||this.isDirty("treatZeroAs")||this.isDirty("baseValue")||this.isDirty("strictMinMax")||this.isDirty("strictMinMaxSelection"))&&(this._getMinMax(),this._dirtyExtremes=!1),this._handleSizeDirty(),this._dirtySelectionExtremes&&!this._isPanning&&this.get("autoZoom",!0)){const n=this.chart;let i=!1;if(n){const s=this.get("renderer").getPrivate("letter");s=="Y"?n.xAxes.each(r=>{r.className!="ValueAxis"&&(i=!0)}):s=="X"&&n.yAxes.each(r=>{r.className!="ValueAxis"&&(i=!0)})}i&&this._getSelectionMinMax(),this._dirtySelectionExtremes=!1}this._groupData(),(this._sizeDirty||this._valuesDirty||this.isDirty("start")||this.isDirty("end")||this.isPrivateDirty("min")||this.isPrivateDirty("selectionMax")||this.isPrivateDirty("selectionMin")||this.isPrivateDirty("max")||this.isPrivateDirty("step")||this.isPrivateDirty("width")||this.isPrivateDirty("height")||this.isDirty("logarithmic"))&&(this._handleRangeChange(),this._prepareAxisItems(),this._updateAxisRanges()),this._baseValue=this.baseValue()}_handleSizeDirty(){this._sizeDirty&&!this._dseHandled&&(this._dirtySelectionExtremes=!0,this._dseHandled=!0)}_clearDirty(){super._clearDirty(),this._dseHandled=!1}_groupData(){}_formatText(e){const n=this.get("numberFormat"),i=this.getNumberFormatter();let s="";return n?s=i.format(e,n):s=i.format(e,void 0,this.getPrivate("stepDecimalPlaces")),s}_prepareAxisItems(){const e=this.getPrivate("min"),n=this.getPrivate("max");if(me(e)&&me(n)){const i=this.get("logarithmic"),s=this.getPrivate("step"),r=this.getPrivate("selectionMin"),a=this.getPrivate("selectionMax")+s;let o=r-s,l=1,u=e;if(i){if(o=this._minLogAdjusted,o<r)for(;o<r;)o+=s;u=o,u<=0&&(u=1,s<1&&(me(this._minRealLog)?u=this._minRealLog:u=Math.pow(10,-50))),l=Math.log(a-s)*Math.LOG10E-Math.log(u)*Math.LOG10E,l>2&&(o=Math.pow(10,Math.log(u)*Math.LOG10E-50))}const d=this.get("renderer"),c=d.get("minorLabelsEnabled"),f=d.get("minorGridEnabled",c);let h=Math.pow(10,Math.floor(Math.log(Math.abs(s))*Math.LOG10E));const g=Math.round(s/h);let v=2;di(g/5,10)%1==0&&(v=5),di(g/10,10)%1==0&&(v=10);let p=s/v,_=0,b=0,x=-1/0;for(;o<a;){let k;this.dataItems.length<_+1?(k=new oa(this,void 0,{}),this._dataItems.push(k),this.processDataItem(k)):k=this.dataItems[_],this._createAssets(k,[]),this._toggleDataItem(k,!0),k.setRaw("value",o);const I=k.get("label");I&&I.set("text",this._formatText(o)),this._prepareDataItem(k);let E=o;if(i&&l>2?E=Math.pow(10,Math.log(u)*Math.LOG10E+_-50):E+=s,f){let S=o+p;for(i&&(l>2&&(p=this._adjustMinMax(o,E,10).step),S=o+p);S<E-s*1e-11;){let w;this.minorDataItems.length<b+1?(w=new oa(this,void 0,{}),this.minorDataItems.push(w),this.processDataItem(w)):w=this.minorDataItems[b],this._createAssets(w,["minor"],!0),this._toggleDataItem(w,!0),w.setRaw("value",S);const P=w.get("label");P&&(c?P.set("text",this._formatText(S)):P.setPrivate("visible",!1)),this._prepareDataItem(w),S+=p,b++}}if(o=E,x==o)break;let T=Math.pow(10,Math.floor(Math.log(Math.abs(s))*Math.LOG10E));if(T<1&&!i){let S=Math.round(Math.abs(Math.log(Math.abs(T))*Math.LOG10E))+2;o=di(o,S)}_++,x=o}for(let k=_;k<this.dataItems.length;k++)this._toggleDataItem(this.dataItems[k],!1);for(let k=b;k<this.minorDataItems.length;k++)this._toggleDataItem(this.minorDataItems[k],!1);oe(this.series,k=>{k.inited&&k._markDirtyAxes()}),this._updateGhost()}}_prepareDataItem(e,n){let i=this.get("renderer"),s=e.get("value"),r=e.get("endValue"),a=this.valueToPosition(s),o=a,l=this.valueToPosition(s+this.getPrivate("step"));me(r)&&(o=this.valueToPosition(r),l=o),e.get("isRange")&&r==null&&(l=a);let u=o,d=e.get("labelEndValue");d!=null&&(u=this.valueToPosition(d)),i.updateLabel(e.get("label"),a,u,n);const c=e.get("grid");if(i.updateGrid(c,a,o),c&&(s==this.get("baseValue",0)?(c.addTag("base"),c._applyThemes()):c.hasTag("base")&&(c.removeTag("base"),c._applyThemes())),i.updateTick(e.get("tick"),a,u,n),i.updateFill(e.get("axisFill"),a,l),this._processBullet(e),i.updateBullet(e.get("bullet"),a,o),!e.get("isRange")){const f=this.get("fillRule");f&&f(e)}}_handleRangeChange(){let e=this.positionToValue(this.get("start",0)),n=this.positionToValue(this.get("end",1));const i=this.get("renderer").gridCount();let s=this._adjustMinMax(e,n,i,!0),r=FU(s.step);this.setPrivateRaw("stepDecimalPlaces",r),e=di(e,r),n=di(n,r),s=this._adjustMinMax(e,n,i,!0);let a=s.step;e=s.min,n=s.max,(this.getPrivate("selectionMin")!==e||this.getPrivate("selectionMax")!==n||this.getPrivate("step")!==a)&&(this.setPrivateRaw("selectionMin",e),this.setPrivateRaw("selectionMax",n),this.setPrivateRaw("step",a))}positionToValue(e){const n=this.getPrivate("min"),i=this.getPrivate("max");return this.get("logarithmic")?Math.pow(Math.E,(e*(Math.log(i)*Math.LOG10E-Math.log(n)*Math.LOG10E)+Math.log(n)*Math.LOG10E)/Math.LOG10E):e*(i-n)+n}valueToPosition(e){const n=this.getPrivate("min"),i=this.getPrivate("max");if(this.get("logarithmic")){if(e<=0){let s=this.get("treatZeroAs");me(s)&&(e=s)}return(Math.log(e)*Math.LOG10E-Math.log(n)*Math.LOG10E)/(Math.log(i)*Math.LOG10E-Math.log(n)*Math.LOG10E)}else return(e-n)/(i-n)}valueToFinalPosition(e){const n=this.getPrivate("minFinal"),i=this.getPrivate("maxFinal");if(this.get("logarithmic")){if(e<=0){let s=this.get("treatZeroAs");me(s)&&(e=s)}return(Math.log(e)*Math.LOG10E-Math.log(n)*Math.LOG10E)/(Math.log(i)*Math.LOG10E-Math.log(n)*Math.LOG10E)}else return(e-n)/(i-n)}getX(e,n,i){e=i+(e-i)*n;const s=this.valueToPosition(e);return this._settings.renderer.positionToCoordinate(s)}getY(e,n,i){e=i+(e-i)*n;const s=this.valueToPosition(e);return this._settings.renderer.positionToCoordinate(s)}getDataItemCoordinateX(e,n,i,s){return this._settings.renderer.positionToCoordinate(this.getDataItemPositionX(e,n,i,s))}getDataItemPositionX(e,n,i,s){let r=e.get(n);if(e.get("stackToItemX")){const o=e.component;r=r*s+o.getStackedXValueWorking(e,n)}else r=this._baseValue+(r-this._baseValue)*s;return this.valueToPosition(r)}getDataItemCoordinateY(e,n,i,s){return this._settings.renderer.positionToCoordinate(this.getDataItemPositionY(e,n,i,s))}getDataItemPositionY(e,n,i,s){let r=e.get(n);if(e.get("stackToItemY")){const o=e.component;r=r*s+o.getStackedYValueWorking(e,n)}else r=this._baseValue+(r-this._baseValue)*s;return this.valueToPosition(r)}basePosition(){return this.valueToPosition(this.baseValue())}baseValue(){const e=Math.min(this.getPrivate("minFinal",-1/0),this.getPrivate("selectionMin",-1/0)),n=Math.max(this.getPrivate("maxFinal",1/0),this.getPrivate("selectionMax",1/0));let i=this.get("baseValue",0);return i<e&&(i=e),i>n&&(i=n),i}cellEndValue(e){return e}fixSmallStep(e){return 1+e===1?(e*=2,this.fixSmallStep(e)):e}_fixMin(e){return e}_fixMax(e){return e}_calculateTotals(){if(this.get("calculateTotals")){let e=this.series[0];if(e){let n=e.startIndex();if(e.dataItems.length>0){n>0&&n--;let i=e.endIndex();i<e.dataItems.length&&i++;let s,r;e.get("yAxis")==this?(s="valueY",r="vcy"):e.get("xAxis")==this&&(s="valueX",r="vcx");let a=s+"Working";if(s)for(let o=n;o<i;o++){let l=0,u=0;oe(this.series,d=>{if(!d.get("excludeFromTotal")){let c=d.dataItems[o];if(c){let f=c.get(a)*d.get(r);va(f)||(l+=f,u+=Math.abs(f))}}}),oe(this.series,d=>{if(!d.get("excludeFromTotal")){let c=d.dataItems[o];if(c){let f=c.get(a)*d.get(r);va(f)||(c.set(s+"Total",u),c.set(s+"Sum",l),c.set(s+"TotalPercent",f/u*100))}}})}}}}}_getSelectionMinMax(){const e=this.getPrivate("minFinal"),n=this.getPrivate("maxFinal"),i=this.get("min"),s=this.get("max");let r=this.get("extraMin",0),a=this.get("extraMax",0);this.get("logarithmic")&&(this.get("extraMin")==null&&(r=.1),this.get("extraMax")==null&&(a=.2));const o=this.get("renderer").gridCount(),l=this.get("strictMinMaxSelection");let u=this.get("strictMinMax");if(me(e)&&me(n)){let d=n,c=e;if(oe(this.series,k=>{if(!k.get("ignoreMinMax")){let I,E;const T=k.getPrivate("outOfSelection");if(k.get("xAxis")===this){if(!T){let S=k.getPrivate("minX"),w=k.getPrivate("maxX");(k.startIndex()!=0||k.endIndex()!=k.dataItems.length)&&(S=void 0,w=void 0),I=k.getPrivate("selectionMinX",S),E=k.getPrivate("selectionMaxX",w)}}else if(k.get("yAxis")===this&&!T){let S=k.getPrivate("minY"),w=k.getPrivate("maxY");(k.startIndex()!=0||k.endIndex()!=k.dataItems.length)&&(S=void 0,w=void 0),I=k.getPrivate("selectionMinY",S),E=k.getPrivate("selectionMaxY",w)}!k.isHidden()&&!k.isShowing()&&(me(I)&&(d=Math.min(d,I)),me(E)&&(c=Math.max(c,E)))}}),this.axisRanges.each(k=>{if(k.get("affectsMinMax")){let I=k.get("value");I!=null&&(d=Math.min(d,I),c=Math.max(c,I)),I=k.get("endValue"),I!=null&&(d=Math.min(d,I),c=Math.max(c,I))}}),d>c&&([d,c]=[c,d]),me(i)?u?d=i:d=e:u&&me(this._minReal)&&(d=this._minReal),me(s)?u?c=s:c=n:u&&me(this._maxReal)&&(c=this._maxReal),d===c){let k=d;if(d-=this._deltaMinMax,c+=this._deltaMinMax,d<e){let E=k-e;E==0&&(E=this._deltaMinMax),d=k-E,c=k+E,u=!0}let I=this._adjustMinMax(d,c,o,u);d=I.min,c=I.max}let f=d,h=c,g=c-d;d-=g*r,c+=g*a;let v=this._adjustMinMax(d,c,o);d=v.min,c=v.max,d=Kn(d,e,n),c=Kn(c,e,n),v=this._adjustMinMax(d,c,o,!0),u||(d=v.min,c=v.max);const p=this.get("syncWithAxis");if(p&&(v=this._syncAxes(d,c,v.step,p.getPrivate("selectionMinFinal",p.getPrivate("minFinal",0)),p.getPrivate("selectionMaxFinal",p.getPrivate("maxFinal",1)),p.getPrivate("selectionStepFinal",p.getPrivate("step",1))),v.min<e&&(v.min=e),v.max>n&&(v.max=n),d=v.min,c=v.max),u&&(me(i)&&(d=Math.max(d,i)),me(s)&&(c=Math.min(c,s))),l&&(d=f-(h-f)*r,c=h+(h-f)*a),u){me(i)?d=i:d=f,me(s)?c=s:c=h,c-d<=1e-8&&(d-=this._deltaMinMax,c+=this._deltaMinMax);let k=c-d;d-=k*r,c+=k*a}this.get("logarithmic")&&(d<=0&&(d=f*(1-Math.min(r,.99))),d<e&&(d=e),c>n&&(c=n));let _=Math.min(20,Math.ceil(Math.log(this.getPrivate("maxZoomFactor",100)+1)/Math.LN10)+2),b=di(this.valueToFinalPosition(d),_),x=di(this.valueToFinalPosition(c),_);this.setPrivateRaw("selectionMinFinal",d),this.setPrivateRaw("selectionMaxFinal",c),this.setPrivateRaw("selectionStepFinal",v.step),this.zoom(b,x)}}_getMinMax(){let e=this.get("min"),n=this.get("max"),i=1/0,s=-1/0,r=this.get("extraMin",0),a=this.get("extraMax",0);this.get("logarithmic")&&(this.get("extraMin")==null&&(r=.1),this.get("extraMax")==null&&(a=.2));let o=1/0;if(oe(this.series,x=>{if(!x.get("ignoreMinMax")){let k,I;if(x.get("xAxis")===this?(k=x.getPrivate("minX"),I=x.getPrivate("maxX")):x.get("yAxis")===this&&(k=x.getPrivate("minY"),I=x.getPrivate("maxY")),me(k)&&me(I)){i=Math.min(i,k),s=Math.max(s,I);let E=I-k;E<=0&&(E=Math.abs(I/100)),E<o&&(o=E)}}}),this.axisRanges.each(x=>{if(x.get("affectsMinMax")){let k=x.get("value");k!=null&&(i=Math.min(i,k),s=Math.max(s,k)),k=x.get("endValue"),k!=null&&(i=Math.min(i,k),s=Math.max(s,k))}}),this.get("logarithmic")){let x=this.get("treatZeroAs");me(x)&&i<=0&&(i=x)}if(i===0&&s===0&&(s=.9,i=-.9),me(e)&&(i=e),me(n)&&(s=n),i===1/0||s===-1/0){this.setPrivate("minFinal",void 0),this.setPrivate("maxFinal",void 0);return}i>s&&([i,s]=[s,i]);const l=i,u=s;let d=this.adapters.fold("min",i),c=this.adapters.fold("max",s);this._minRealLog=i,me(d)&&(i=d),me(c)&&(s=c),i=this._fixMin(i),s=this._fixMax(s),s-i<=1/Math.pow(10,15)&&(s-i!==0?this._deltaMinMax=(s-i)/2:this._getDelta(s),i-=this._deltaMinMax,s+=this._deltaMinMax),i-=(s-i)*r,s+=(s-i)*a,this.get("logarithmic")&&(i<0&&l>=0&&(i=0),s>0&&u<=0&&(s=0)),this._minReal=i,this._maxReal=s;let f=this.get("strictMinMax"),h=this.get("strictMinMaxSelection",!1);h&&(f=h);let g=f;me(n)&&(g=!0);let v=this.get("renderer").gridCount(),p=this._adjustMinMax(i,s,v,g);if(i=p.min,s=p.max,p=this._adjustMinMax(i,s,v,!0),i=p.min,s=p.max,f){me(e)?i=e:i=this._minReal,me(n)?s=n:s=this._maxReal,s-i<=1e-8&&(i-=this._deltaMinMax,s+=this._deltaMinMax);let x=s-i;i-=x*r,s+=x*a}d=this.adapters.fold("min",i),c=this.adapters.fold("max",s),me(d)&&(i=d),me(c)&&(s=c),o==1/0&&(o=s-i);let _=Math.round(Math.abs(Math.log(Math.abs(s-i))*Math.LOG10E))+5;i=di(i,_),s=di(s,_);const b=this.get("syncWithAxis");if(b&&(p=this._syncAxes(i,s,p.step,b.getPrivate("minFinal",b.getPrivate("min",0)),b.getPrivate("maxFinal",b.getPrivate("max",1)),b.getPrivate("step",1)),i=p.min,s=p.max),this.setPrivateRaw("maxZoomFactor",Math.max(1,Math.ceil((s-i)/o*this.get("maxZoomFactor",100)))),this._fixZoomFactor(),this.get("logarithmic")&&(this._minLogAdjusted=i,i=this._minReal,s=this._maxReal,i<=0&&(i=l*(1-Math.min(r,.99)))),me(i)&&me(s)&&(this.getPrivate("minFinal")!==i||this.getPrivate("maxFinal")!==s)){this.setPrivate("minFinal",i),this.setPrivate("maxFinal",s),this._saveMinMax(i,s);const x=this.get("interpolationDuration",0),k=this.get("interpolationEasing");this.animatePrivate({key:"min",to:i,duration:x,easing:k}),this.animatePrivate({key:"max",to:s,duration:x,easing:k})}}_fixZoomFactor(){}_getDelta(e){let n=Math.log(Math.abs(e))*Math.LOG10E,i=Math.pow(10,Math.floor(n));i=i/10,this._deltaMinMax=i}_saveMinMax(e,n){}_adjustMinMax(e,n,i,s){i<=1&&(i=1),i=Math.round(i);let r=e,a=n,o=n-e;o===0&&(o=Math.abs(n));let l=Math.log(Math.abs(o))*Math.LOG10E,u=Math.pow(10,Math.floor(l));u=u/10;let d=u;s&&(d=0),s?(e=Math.floor(e/u)*u,n=Math.ceil(n/u)*u):(e=Math.ceil(e/u)*u-d,n=Math.floor(n/u)*u+d),e<0&&r>=0&&(e=0),n>0&&a<=0&&(n=0),l=Math.log(Math.abs(o))*Math.LOG10E,u=Math.pow(10,Math.floor(l)),u=u/100;let c=Math.ceil(o/i/u)*u,f=Math.pow(10,Math.floor(Math.log(Math.abs(c))*Math.LOG10E)),h=Math.ceil(c/f);h>5?h=10:h<=5&&h>2&&(h=5),c=Math.ceil(c/(f*h))*f*h;let g=this.get("maxPrecision");if(me(g)){let b=wwe(c,g);g<Number.MAX_VALUE&&c!==b&&(c=b,c==0&&(c=1))}let v=0;f<1&&(v=Math.round(Math.abs(Math.log(Math.abs(f))*Math.LOG10E))+1,c=di(c,v));let p=Math.floor(e/c);e=di(c*p,v);let _;return s?_=Math.floor(n/c):_=Math.ceil(n/c),_===p&&_++,n=di(c*_,v),n<a&&(n=n+c),e>r&&(e=e-c),c=this.fixSmallStep(c),{min:e,max:n,step:c}}getTooltipText(e,n){const i=this.get("tooltipNumberFormat",this.get("numberFormat")),s=this.getNumberFormatter(),r=this.get("extraTooltipPrecision",0),a=this.getPrivate("stepDecimalPlaces",0)+r,o=di(this.positionToValue(e),a);return i?s.format(o,i):s.format(o,void 0,a)}getSeriesItem(e,n){let i=this.getPrivate("name")+this.get("renderer").getPrivate("letter"),s=this.positionToValue(n),r,a;if(oe(e.dataItems,(o,l)=>{const u=Math.abs(o.get(i)-s);(r===void 0||u<a)&&(r=l,a=u)}),r!=null)return e.dataItems[r]}zoomToValues(e,n,i){const s=this.getPrivate("minFinal",0),r=this.getPrivate("maxFinal",0);this.getPrivate("min")!=null&&this.getPrivate("max")!=null&&this.zoom((e-s)/(r-s),(n-s)/(r-s),i)}_syncAxes(e,n,i,s,r,a){if(this.get("syncWithAxis")){let l=Math.round(r-s)/a,u=Math.round((n-e)/i),d=this.get("renderer").gridCount();if(me(l)&&me(u)){let c=!1,f=0,h=(n-e)*.01,g=e,v=n,p=i;for(;c!=!0;)if(c=this._checkSync(g,v,p,l),f++,f>500&&(c=!0),c)e=g,n=v,i=p;else{f/3==Math.round(f/3)?(g=e-h*f,e>=0&&g<0&&(g=0)):(v=n+h*f,v<=0&&v>0&&(v=0));let _=this._adjustMinMax(g,v,d,!0);g=_.min,v=_.max,p=_.step}}}return{min:e,max:n,step:i}}_checkSync(e,n,i,s){let r=(n-e)/i;for(let a=1;a<s;a++)if(di(r/a,1)==s||r*a==s)return!0;return!1}getCellWidthPosition(){let e=this.getPrivate("selectionMax",this.getPrivate("max")),n=this.getPrivate("selectionMin",this.getPrivate("min"));return me(e)&&me(n)?this.getPrivate("step",1)/(e-n):.05}nextPosition(e){e==null&&(e=1),this.get("renderer").getPrivate("letter")=="Y"&&(e*=-1);let n=this.positionToValue(this.getPrivate("tooltipPosition",0));return n+=this.getPrivate("step",1)*e,n=Kn(n,this.getPrivate("selectionMin",0),this.getPrivate("selectionMax",1)),this.toGlobalPosition(this.valueToPosition(n))}}Object.defineProperty(Yl,"className",{enumerable:!0,configurable:!0,writable:!0,value:"ValueAxis"});Object.defineProperty(Yl,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:kc.classNames.concat([Yl.className])});class Tc extends kc{constructor(){super(...arguments),Object.defineProperty(this,"_frequency",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"_itemMap",{enumerable:!0,configurable:!0,writable:!0,value:{}})}_afterNew(){this._settings.themeTags=Lt(this._settings.themeTags,["axis"]),this.fields.push("category"),this.setPrivateRaw("name","category"),this.addTag("category"),super._afterNew()}_prepareChildren(){super._prepareChildren();const e=this.dataItems.length;let n=0;this._valuesDirty&&(this._itemMap={},oe(this.dataItems,i=>{i.setRaw("index",n),this._itemMap[i.get("category")]=i,n++}),this.setPrivateRaw("maxZoomFactor",e)),this.setPrivateRaw("startIndex",Math.max(Math.round(this.get("start",0)*e),0)),this.setPrivateRaw("endIndex",Math.min(Math.round(this.get("end",1)*e),e)),(this._sizeDirty||this._valuesDirty||this.isDirty("start")||this.isDirty("end")||this.isPrivateDirty("endIndex")||this.isPrivateDirty("startIndex")||this.isPrivateDirty("width")||this.isPrivateDirty("height"))&&this.dataItems.length>0&&(this._handleRangeChange(),this._prepareAxisItems(),this._updateAxisRanges())}_handleRangeChange(){oe(this.series,e=>{let n=this.dataItems[this.startIndex()].get("category"),i=this.dataItems[this.endIndex()-1].get("category"),s=e.get("baseAxis"),r=e.get("xAxis"),a=e.get("yAxis");if(r instanceof Tc&&a instanceof Tc)e._markDirtyAxes();else if(s===this){let o,l,u=a;if(r===s?(e.get("categoryXField")&&(o="categoryX"),e.get("openCategoryXField")&&(l="openCategoryX")):a===s&&(e.get("categoryYField")&&(o="categoryY"),e.get("openCategoryYField")&&(l="openCategoryY"),u=r),u instanceof Yl&&(o||l)){let d,c;for(let v=0,p=e.dataItems.length;v<p;v++){let _=e.dataItems[v];if(o&&_.get(o)===n){d=_;break}if(l&&_.get(l)===n){d=_;break}}for(let v=e.dataItems.length-1;v>=0;v--){let p=e.dataItems[v];if(o&&p.get(o)===i){c=p;break}if(l&&p.get(l)===i){c=p;break}}let f=0,h=e.dataItems.length;d&&(f=e.dataItems.indexOf(d)),c&&(h=e.dataItems.indexOf(c)+1),e.setPrivate("startIndex",f),e.setPrivate("endIndex",h);let g=!1;for(let v=f;v<h;v++){const p=e.dataItems[v];if(oe(e.__valueXShowFields,_=>{p.get(_)!=null&&(g=!0)}),oe(e.__valueYShowFields,_=>{p.get(_)!=null&&(g=!0)}),g)break}e.setPrivate("outOfSelection",!g)}e._markDirtyAxes()}})}_prepareAxisItems(){var e;const n=this.get("renderer"),i=this.dataItems.length;let s=this.startIndex();s>0&&s--;let r=this.endIndex();r<i&&r++;const a=n.get("minorLabelsEnabled"),o=n.get("minorGridEnabled",a);let l=n.axisLength()/Math.max(n.get("minGridDistance"),1),u=Math.max(1,Math.min(i,Math.ceil((r-s)/l)));s=Math.floor(s/u)*u,this._frequency=u;for(let c=0;c<i;c++)this._toggleDataItem(this.dataItems[c],!1);let d=this.dataItems[s].get("index",0);for(let c=s;c<r;c=c+u){let f=this.dataItems[c];this._createAssets(f,[]),this._toggleDataItem(f,!0);let h=u;o&&(h=1),this._prepareDataItem(f,d,h),d++}if(n.get("minorGridEnabled"))for(let c=s;c<r;c++){let f=this.dataItems[c];c%u!=0&&(this._createAssets(f,["minor"],!0),this._toggleDataItem(f,!0),this._prepareDataItem(f,0,1),a||(e=f.get("label"))===null||e===void 0||e.setPrivate("visible",!1))}this._updateGhost()}_prepareDataItem(e,n,i){let s=this.get("renderer"),r=e.get("categoryLocation",0),a=e.get("endCategoryLocation",1),o=e.get("index");me(o)||(o=this.categoryToIndex(e.get("category")));let l=this.indexToPosition(o,r),u=e.get("endCategory"),d;u?(d=this.categoryToIndex(u),me(d)||(d=o)):d=o;let c=this.indexToPosition(d,a),f,h;e.get("isRange")?f=d:f=o+this._frequency-1,h=this.indexToPosition(f,a),s.updateLabel(e.get("label"),l,c,i),s.updateGrid(e.get("grid"),l,c),s.updateTick(e.get("tick"),l,c,i),s.updateFill(e.get("axisFill"),l,h),this._processBullet(e),s.updateBullet(e.get("bullet"),l,c);const g=this.get("fillRule");g&&g(e,n)}startIndex(){let e=this.dataItems.length;return Math.min(Math.max(this.getPrivate("startIndex",0),0),e-1)}endIndex(){let e=this.dataItems.length;return Math.max(1,Math.min(this.getPrivate("endIndex",e),e))}baseValue(){}basePosition(){return 0}getX(e){let n=this._itemMap[e];return n?this._settings.renderer.positionToCoordinate(this.indexToPosition(n.get("index",0))):NaN}getY(e){let n=this._itemMap[e];return n?this._settings.renderer.positionToCoordinate(this.indexToPosition(n.get("index",0))):NaN}getDataItemPositionX(e,n,i,s){const r=e.get(n),a=this._itemMap[r];return a?this.indexToPosition(a.get("index",0),i):NaN}getDataItemCoordinateX(e,n,i,s){return this._settings.renderer.positionToCoordinate(this.getDataItemPositionX(e,n,i,s))}getDataItemPositionY(e,n,i,s){const r=e.get(n),a=this._itemMap[r];return a?this.indexToPosition(a.get("index",0),i):NaN}getDataItemCoordinateY(e,n,i,s){return this._settings.renderer.positionToCoordinate(this.getDataItemPositionY(e,n,i,s))}indexToPosition(e,n){me(n)||(n=.5);let i=this.dataItems.length,s=this.get("startLocation",0),r=this.get("endLocation",1);i-=s,i-=1-r;let a=(e+n-s)/i,o=this.dataItems[e];return o&&(a+=o.get("deltaPosition",0)),a}categoryToIndex(e){let n=this._itemMap[e];return n?n.get("index"):NaN}dataItemToPosition(e){return this.indexToPosition(e.get("index"))}roundAxisPosition(e,n){return e+=(.5-n)/this.dataItems.length,this.indexToPosition(this.axisPositionToIndex(e),n)}axisPositionToIndex(e){let n=this.dataItems.length;return Kn(Math.floor(e*n),0,n-1)}getTooltipText(e,n){const i=this.dataItems[this.axisPositionToIndex(e)];if(i){const s=i.get("label");if(s)return yh(s,this.get("tooltipText",""))}}_updateTooltipText(e,n){e._setDataItem(this.dataItems[this.axisPositionToIndex(n)]),e.label.text.markDirtyText()}getSeriesItem(e,n){if(this.dataItems.length>0){let i=this.getPrivate("name")+this.get("renderer").getPrivate("letter"),s=this.axisPositionToIndex(n),r=e.dataItems[s],a=this.dataItems[s],o=a.get("category");if(r&&a&&r.get(i)===o)return r;for(let l=0,u=e.dataItems.length;l<u;l++){let d=e.dataItems[l];if(d.get(i)===o)return d}}}zoomToIndexes(e,n,i){let s=this.dataItems.length;this.zoom(e/s,n/s,i)}zoomToCategories(e,n,i){this.zoomToIndexes(this.categoryToIndex(e),this.categoryToIndex(n)+1,i)}getCellWidthPosition(){return this._frequency/this.dataItems.length/(this.get("end",1)-this.get("start",0))}nextPosition(e){e==null&&(e=1),this.get("renderer").getPrivate("letter")=="Y"&&(e*=-1);const n=this.getPrivate("tooltipPosition",0),i=Kn(this.axisPositionToIndex(n)+e,0,this.dataItems.length-1);return this.toGlobalPosition(this.indexToPosition(i))}}Object.defineProperty(Tc,"className",{enumerable:!0,configurable:!0,writable:!0,value:"CategoryAxis"});Object.defineProperty(Tc,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:kc.classNames.concat([Tc.className])});class Py extends Yl{constructor(){super(...arguments),Object.defineProperty(this,"_dataGrouped",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_seriesDataGrouped",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_groupingCalculated",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_intervalDuration",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"_baseDuration",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"_intervalMax",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_intervalMin",{enumerable:!0,configurable:!0,writable:!0,value:{}})}_afterNew(){this._settings.themeTags=Lt(this._settings.themeTags,["axis"]),super._afterNew(),this._setBaseInterval(this.get("baseInterval")),this.on("baseInterval",()=>{this._setBaseInterval(this.get("baseInterval"))})}_setBaseInterval(e){this.setPrivateRaw("baseInterval",e),this._baseDuration=Ur(e)}_fixZoomFactor(){const e=this.get("maxZoomFactor");e!=null&&e!=1/0?this.setPrivateRaw("maxZoomFactor",e):this.setPrivateRaw("maxZoomFactor",Math.round((this.getPrivate("max",0)-this.getPrivate("min",0))/this.baseMainDuration()))}_groupData(){const e=this.getPrivate("min"),n=this.getPrivate("max");if(me(e)&&me(n)){this._fixZoomFactor();const i=this.getPrivate("groupInterval");if(i?this._setBaseInterval(i):this._setBaseInterval(this.get("baseInterval")),this.isDirty("groupInterval")){let s=this.get("groupInterval");s&&(this.setRaw("groupIntervals",[s]),this._handleRangeChange())}if(this.isDirty("groupData")&&!this._dataGrouped){if(this.get("groupData"))oe(this.series,s=>{this._groupSeriesData(s)}),this._handleRangeChange();else{let s=this.get("baseInterval"),r=s.timeUnit+s.count;oe(this.series,a=>{a.setDataSet(r),a.resetGrouping()}),this._setBaseInterval(s),this.setPrivateRaw("groupInterval",void 0),this.markDirtyExtremes()}this._dataGrouped=!0}}}_groupSeriesData(e){if(this.get("groupData")&&!e.get("groupDataDisabled")){this._dataGrouped=!0,this._seriesDataGrouped=!0;let n=[],i=this.baseMainDuration(),s=this.get("groupIntervals");oe(s,h=>{Ur(h)>i&&n.push(h)}),e._dataSets={};const r=this.getPrivate("name")+this.get("renderer").getPrivate("letter");let a;const o=e.get("baseAxis");e.get("xAxis")===o?a=e._valueYFields:e.get("yAxis")===o&&(a=e._valueXFields);let l=e._mainDataItems,u=this.get("baseInterval"),d=u.timeUnit+u.count;e._dataSets[d]=l;const c=e.get("groupDataCallback");let f=e.get("groupDataWithOriginals",!1);c&&(f=!0),oe(n,h=>{let g=-1/0,v=h.timeUnit+h.count;e._dataSets[v]=[];let p,_={},b={},x={},k={};oe(a,w=>{_[w]=0,b[w]=0,x[w]=e.get(w+"Grouped"),k[w]=w+"Working"});let I=Ji(h.timeUnit),E=l[0],T;E&&(T=l[0].get(r));let S;oe(l,w=>{let P=w.get(r),C=ui(P,h.timeUnit,h.count,this._root,T),D;g<C-I/24?(D=Bu(w.dataContext),p=new oa(e,D,e._makeDataItem(D)),p.setRaw(r,C),e._dataSets[v].push(p),oe(a,A=>{let N=w.get(A);me(N)?(p.setRaw(A,N),p.setRaw(k[A],N),b[A]=1,_[A]=N):(_[A]=0,b[A]=0)}),f&&p.set("originals",[w]),c&&S&&c(S,h),S=p):(oe(a,A=>{let N=x[A],B=w.get(A);if(B!=null){let H=p.get(A);switch(N){case"close":p.setRaw(A,B);break;case"sum":p.setRaw(A,H+B);break;case"open":break;case"low":B<H&&p.setRaw(A,B);break;case"high":B>H&&p.setRaw(A,B);break;case"average":b[A]++,_[A]+=B;let z=_[A]/b[A];p.setRaw(A,z);break;case"extreme":Math.abs(B)>Math.abs(H)&&p.setRaw(A,B);break}p.setRaw(k[A],p.get(A));let G=Bu(w.dataContext);G[r]=C,p.dataContext=G}}),f&&p.get("originals").push(w)),g=C}),c&&S&&c(S,h)}),e._dataSetId&&e.setDataSet(e._dataSetId),this.markDirtySize(),this._seriesAdded&&this._root.events.once("frameended",()=>{this.markDirtySize()})}}_clearDirty(){super._clearDirty(),this._groupingCalculated=!1,this._dataGrouped=!1}getGroupInterval(e){let n=this.get("baseInterval"),i=Sk(0,e,this.get("groupCount",1/0),this.get("groupIntervals"));return Ur(i)<Ur(n)&&(i=Object.assign({},n)),i}getIntervalMax(e){return this._intervalMax[e.timeUnit+e.count]}getIntervalMin(e){return this._intervalMin[e.timeUnit+e.count]}_handleRangeChange(){super._handleRangeChange();let e=Math.round(this.getPrivate("selectionMin")),n=Math.round(this.getPrivate("selectionMax"));if(me(e)&&me(n)){if(this.get("endLocation")==0&&(n+=1),this.get("groupData")&&!this._groupingCalculated){this._groupingCalculated=!0;let i=this.get("groupInterval"),s=this.getPrivate("groupInterval"),r=n-e+(this.get("startLocation",0)+(1-this.get("endLocation",1))*this.baseDuration());if(s){let a=Ur(s);r=Math.ceil(r/a)*a}if(i||(i=this.getGroupInterval(r)),i&&(!s||s.timeUnit!==i.timeUnit||s.count!==i.count||this._seriesDataGrouped)){this._seriesDataGrouped=!1,this.setPrivateRaw("groupInterval",i),this._setBaseInterval(i);let a=i.timeUnit+i.count;oe(this.series,o=>{o.get("baseAxis")===this&&o.setDataSet(a)}),this.markDirtyExtremes(),this._root.events.once("frameended",()=>{this._root.events.once("frameended",()=>{const o="groupintervalchanged";this.events.isEnabled(o)&&this.events.dispatch(o,{type:o,target:this})})})}}oe(this.series,i=>{if(i.get("baseAxis")===this){let s=this.getPrivate("name")+this.get("renderer").getPrivate("letter"),a=VU(i.dataItems,v=>ja(v.get(s),e)).index;a>0&&(a-=1),n+=this.baseDuration()*(1-this.get("endLocation",1));let l=gk(i.dataItems,v=>ja(v.get(s),n)).index,u=l;u>1&&u--;const d=i.dataItems[a],c=i.dataItems[u];let f,h;d&&(h=d.get(s)),c&&(f=c.get(s));let g=!1;f!=null&&h!=null&&(f<e||h>n)&&(g=!0),i.setPrivate("outOfSelection",g),i.setPrivate("startIndex",a),i.setPrivate("adjustedStartIndex",i._adjustStartIndex(a)),i.setPrivate("endIndex",l),this.root.events.once("frameended",()=>{i._markDirtyPrivateKey("adjustedStartIndex")})}})}}_adjustMinMax(e,n,i,s){return{min:e,max:n,step:(n-e)/i}}intervalDuration(){return this._intervalDuration}_saveMinMax(e,n){let i=this.getPrivate("groupInterval");i||(i=this.get("baseInterval"));let s=i.timeUnit+i.count;this._intervalMin[s]=e,this._intervalMax[s]=n}_getM(e){return e=="month"||e=="year"||e=="day"?1.05:1.01}_getMinorInterval(e){var n;let i,s=e.count,r=e.timeUnit;return s>1&&(s==10||s==15?s=5:s==12?s=2:s==6?s=1:s==30?s=10:s<10&&(s=1),i={timeUnit:r,count:s}),r=="week"&&(((n=this.getPrivate("baseInterval"))===null||n===void 0?void 0:n.timeUnit)!="week"?i={timeUnit:"day",count:1}:i={timeUnit:"week",count:1}),i}_prepareAxisItems(){const e=this.getPrivate("min"),n=this.getPrivate("max");if(me(e)&&me(n)){const i=this._root,s=Math.round(this.getPrivate("selectionMin")),r=Math.round(this.getPrivate("selectionMax")),a=this.get("renderer"),o=this.getPrivate("baseInterval");let l=s,u=0;const d=this.get("gridIntervals");let c=Sk(0,r-s,a.gridCount(),d);Ur(c)<this.baseDuration()&&(c=Object.assign({},o));const f=Ur(c);this._intervalDuration=f;const h=KU(c.timeUnit),g=i.utc,v=i.timezone;l=ui(s-f,c.timeUnit,c.count,i,e);let p=l-f,_;const b=this.get("dateFormats");this.setPrivateRaw("gridInterval",c);const x=a.get("minorLabelsEnabled"),k=a.get("minorGridEnabled",x);let I,E=0;k&&(I=this._getMinorInterval(c),E=Ur(I));let T=0;for(;l<r+f;){let S;this.dataItems.length<u+1?(S=new oa(this,void 0,{}),this._dataItems.push(S),this.processDataItem(S)):S=this.dataItems[u],this._createAssets(S,[]),this._toggleDataItem(S,!0),S.setRaw("value",l),S.setRaw("labelEndValue",void 0);let w=l+Ji(c.timeUnit,c.count*this._getM(c.timeUnit));w=ui(w,c.timeUnit,1,i),S.setRaw("endValue",w);let P=new Date(l);_=b[c.timeUnit],h&&this.get("markUnitChange")&&me(p)&&c.timeUnit!="year"&&QU(l,p,h,g,v)&&(_=this.get("periodChangeDateFormats")[c.timeUnit]);const C=S.get("label");C&&C.set("text",i.dateFormatter.format(P,_));let D=c.count;if(c.timeUnit=="week"&&S.setRaw("labelEndValue",l),k){D=1;let A=c.timeUnit;A=="week"&&(A="day");let N=l+Ji(A,this._getM(A));N=ui(N,A,1,i),S.setRaw("labelEndValue",N)}if(this._prepareDataItem(S,D),p=l,l=w,I){const A=I.timeUnit,N=I.count,B=this._getM(A);let H=ui(p+E*B,A,N,i,p),G,z=this.get("minorDateFormats",this.get("dateFormats"));for(;H<l-.01*E;){let X;this.minorDataItems.length<T+1?(X=new oa(this,void 0,{}),this.minorDataItems.push(X),this.processDataItem(X)):X=this.minorDataItems[T],this._createAssets(X,["minor"],!0),this._toggleDataItem(X,!0),X.setRaw("value",H);let W=H+Ji(A,N*B);W=ui(W,A,1,i),X.setRaw("endValue",W);let Z=new Date(H);_=z[A];const ee=X.get("label");if(ee&&(x?ee.set("text",i.dateFormatter.format(Z,_)):ee.setPrivate("visible",!1)),this._prepareDataItem(X,1),H==G)break;G=H,H=W,T++}}if(l==p)break;u++}for(let S=u;S<this.dataItems.length;S++)this._toggleDataItem(this.dataItems[S],!1);for(let S=T;S<this.minorDataItems.length;S++)this._toggleDataItem(this.minorDataItems[S],!1);oe(this.series,S=>{S.inited&&S._markDirtyAxes()})}this._updateGhost()}_updateFinals(e,n){this.setPrivateRaw("selectionMinFinal",this.positionToValue(e)),this.setPrivateRaw("selectionMaxFinal",this.positionToValue(n))}_getDelta(){this._deltaMinMax=this.baseDuration()/2}_fixMin(e){const n=this.getPrivate("baseInterval"),i=n.timeUnit;let s=ui(e,i,n.count,this._root),r=s+Ji(i,n.count*this._getM(i));return r=ui(r,i,1,this._root),s+(r-s)*this.get("startLocation",0)}_fixMax(e){const n=this.getPrivate("baseInterval"),i=n.timeUnit;let s=ui(e,i,n.count,this._root),r=s+Ji(i,n.count*this._getM(i));return r=ui(r,i,1,this._root),s+(r-s)*this.get("endLocation",1)}_updateDates(e,n){}baseDuration(){return this._baseDuration}baseMainDuration(){return Ur(this.get("baseInterval"))}processSeriesDataItem(e,n){const i=this.getPrivate("baseInterval");e.open||(e.open={}),e.close||(e.close={}),oe(n,s=>{let r=e.get(s);if(me(r)){let a=e.open[s],o=e.close[s];if(!(r>=a&&r<=o)){const l=i.timeUnit,u=i.count;a=ui(r,l,u,this._root),o=a+Ji(l,u*this._getM(l)),o=ui(o,l,1,this._root),e.open[s]=a,e.close[s]=o}this._updateDates(a,e.component)}})}_handleSizeDirty(){}getDataItemPositionX(e,n,i,s){let r,a;e.open&&e.close?(r=e.open[n],a=e.close[n]):(r=e.get(n),a=r);let o=r+(a-r)*i;return o=this._baseValue+(o-this._baseValue)*s,this.valueToPosition(o)}getDataItemCoordinateX(e,n,i,s){return this._settings.renderer.positionToCoordinate(this.getDataItemPositionX(e,n,i,s))}getDataItemPositionY(e,n,i,s){let r,a;e.open&&e.close?(r=e.open[n],a=e.close[n]):(r=e.get(n),a=r);let o=r+(a-r)*i;return o=this._baseValue+(o-this._baseValue)*s,this.valueToPosition(o)}getDataItemCoordinateY(e,n,i,s){return this._settings.renderer.positionToCoordinate(this.getDataItemPositionY(e,n,i,s))}roundAxisPosition(e,n){let i=this.positionToValue(e);i=i-(n-.5)*this.baseDuration();let s=this.getPrivate("baseInterval");if(!va(i)){const r=this._root.locale.firstDayOfWeek,a=s.timeUnit,o=this._root.utc,l=this._root.timezone,u=s.count;i=ui(i,a,u,this._root,this.getPrivate("min",0));let d=S1(s,new Date(i),r,o,l);return l&&(i=ui(i+this.baseDuration()*.05,a,u,this._root,this.getPrivate("min",0)),d=S1(s,new Date(i+d*n),r,o,l)),this.valueToPosition(i+d*n)}return NaN}getTooltipText(e,n){if(this.getPrivate("min")!=null){let i=this.get("tooltipDateFormats")[this.getPrivate("baseInterval").timeUnit],s=this.positionToValue(e);if(me(s)){let r=new Date(s),a=this.getPrivate("baseInterval"),o=S1(a,r,this._root.locale.firstDayOfWeek,this._root.utc,this._root.timezone);return n!==!1&&(r=new Date(s+this.get("tooltipIntervalOffset",-this.get("tooltipLocation",.5))*o)),this._root.dateFormatter.format(r,this.get("tooltipDateFormat",i))}}return""}getSeriesItem(e,n,i,s){let r=this.getPrivate("name")+this.get("renderer").getPrivate("letter"),a=this.positionToValue(n);i==null&&(i=.5),a=a-(i-.5)*this.baseDuration();const o=gk(e.dataItems,l=>{let u=0;return l.open&&(u=l.open[r]),ja(u,a)});if(s||e.get("snapTooltip")){let l=e.dataItems[o.index-1],u=e.dataItems[o.index];if(l&&u&&l.open&&u.close){let d=l.open[r],c=u.close[r];if(Math.abs(a-d)>Math.abs(a-c))return u}if(l)return l;if(u)return u}else{const l=e.dataItems[o.index-1];if(l&&l.open&&l.close){let u=l.open[r],d=l.close[r];if(a>=u&&a<=d)return l}}}shouldGap(e,n,i,s){const r=e.get(s);return n.get(s)-r>this.baseDuration()*i}zoomToDates(e,n,i){this.zoomToValues(e.getTime(),n.getTime(),i)}zoomToValues(e,n,i){const s=this.getPrivate("minFinal",0),r=this.getPrivate("maxFinal",0);if(this.getPrivate("min")!=null&&this.getPrivate("max")!=null)if(this.get("groupData")){const a=this.getGroupInterval(n-e),o=this.get("baseInterval");let l=this.getIntervalMin(o),u=this.getIntervalMax(o)-1;u=ui(u,a.timeUnit,a.count,this.root),u+=this._getM(a.timeUnit)*Ur(a),u=ui(u,a.timeUnit,a.count,this.root);let d=ui(l,a.timeUnit,a.count,this.root),c=ui(u,a.timeUnit,a.count,this.root),f=(e-d)/(c-d),h=(n-d)/(c-d);this.zoom(f,h,i)}else this.zoom((e-s)/(r-s),(n-s)/(r-s),i)}positionToDate(e){return new Date(this.positionToValue(e))}dateToPosition(e){return this.valueToPosition(e.getTime())}getCellWidthPosition(){let e=this.getPrivate("selectionMax",this.getPrivate("max")),n=this.getPrivate("selectionMin",this.getPrivate("min"));return me(e)&&me(n)?this._intervalDuration/(e-n):.05}nextPosition(e){e==null&&(e=1);let n=this.get("tooltipLocation",.5)*this.baseDuration();this.get("renderer").getPrivate("letter")=="Y"&&(e*=-1);let i=this.positionToValue(this.getPrivate("tooltipPosition",0));const s=this.getPrivate("baseInterval");let r=this._nextTime(i,e,s),a=this.getPrivate("selectionMin",0),o=this.getPrivate("selectionMax",0),l=ui(a,s.timeUnit,s.count,this._root),u=ui(o,s.timeUnit,s.count,this._root);return r+=n,r=Kn(r,l+n,u-n),this.toGlobalPosition(this.valueToPosition(r))}_nextTime(e,n,i){return ui(e+n*this.baseDuration(),i.timeUnit,i.count,this._root)}}Object.defineProperty(Py,"className",{enumerable:!0,configurable:!0,writable:!0,value:"DateAxis"});Object.defineProperty(Py,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Yl.classNames.concat([Py.className])});class Cy extends Hi{constructor(){super(...arguments),Object.defineProperty(this,"_tickPoints",{enumerable:!0,configurable:!0,writable:!0,value:[]})}}Object.defineProperty(Cy,"className",{enumerable:!0,configurable:!0,writable:!0,value:"AxisLabel"});Object.defineProperty(Cy,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Hi.classNames.concat([Cy.className])});class Ey extends wh{constructor(){super(...arguments),Object.defineProperty(this,"_tickPoints",{enumerable:!0,configurable:!0,writable:!0,value:[]})}}Object.defineProperty(Ey,"className",{enumerable:!0,configurable:!0,writable:!0,value:"AxisTick"});Object.defineProperty(Ey,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:wh.classNames.concat([Ey.className])});class Pc extends dn{constructor(){super(...arguments),Object.defineProperty(this,"_axisLength",{enumerable:!0,configurable:!0,writable:!0,value:100}),Object.defineProperty(this,"_start",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_end",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"_inversed",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_minSize",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"chart",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_lc",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"_ls",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_thumbDownPoint",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_downStart",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_downEnd",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"ticks",{enumerable:!0,configurable:!0,writable:!0,value:this.addDisposer(new ji(Sn.new({}),()=>Ey._new(this._root,{themeTags:Lt(this.ticks.template.get("themeTags",[]),this.get("themeTags",[]))},[this.ticks.template])))}),Object.defineProperty(this,"grid",{enumerable:!0,configurable:!0,writable:!0,value:this.addDisposer(new ji(Sn.new({}),()=>Sh._new(this._root,{themeTags:Lt(this.grid.template.get("themeTags",[]),this.get("themeTags",[]))},[this.grid.template])))}),Object.defineProperty(this,"axisFills",{enumerable:!0,configurable:!0,writable:!0,value:this.addDisposer(new ji(Sn.new({}),()=>dn._new(this._root,{themeTags:Lt(this.axisFills.template.get("themeTags",["axis","fill"]),this.get("themeTags",[]))},[this.axisFills.template])))}),Object.defineProperty(this,"labels",{enumerable:!0,configurable:!0,writable:!0,value:this.addDisposer(new ji(Sn.new({}),()=>Cy._new(this._root,{themeTags:Lt(this.labels.template.get("themeTags",[]),this.get("themeTags",[]))},[this.labels.template])))}),Object.defineProperty(this,"axis",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"thumb",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}makeTick(e,n){const i=this.ticks.make();return i._setDataItem(e),e.setRaw("tick",i),i.set("themeTags",Lt(i.get("themeTags"),n)),this.axis.labelsContainer.children.push(i),this.ticks.push(i),i}makeGrid(e,n){const i=this.grid.make();return i._setDataItem(e),e.setRaw("grid",i),i.set("themeTags",Lt(i.get("themeTags"),n)),this.axis.gridContainer.children.push(i),this.grid.push(i),i}makeAxisFill(e,n){const i=this.axisFills.make();return i._setDataItem(e),i.set("themeTags",Lt(i.get("themeTags"),n)),this.axis.gridContainer.children.push(i),e.setRaw("axisFill",i),this.axisFills.push(i),i}makeLabel(e,n){const i=this.labels.make();return i.set("themeTags",Lt(i.get("themeTags"),n)),this.axis.labelsContainer.children.moveValue(i,0),i._setDataItem(e),e.setRaw("label",i),this.labels.push(i),i}axisLength(){return 0}gridCount(){return this.axisLength()/this.get("minGridDistance",50)}_updatePositions(){}_afterNew(){super._afterNew(),this.set("isMeasured",!1);const e=this.thumb;e&&(this._disposers.push(e.events.on("pointerdown",n=>{this._handleThumbDown(n)})),this._disposers.push(e.events.on("globalpointerup",n=>{this._handleThumbUp(n)})),this._disposers.push(e.events.on("globalpointermove",n=>{this._handleThumbMove(n)})))}_beforeChanged(){super._beforeChanged(),this.isDirty("minGridDistance")&&this.root.events.once("frameended",()=>{this.axis.markDirtySize()})}_changed(){if(super._changed(),this.isDirty("pan")){const e=this.thumb;if(e){const n=this.axis.labelsContainer,i=this.get("pan");i=="zoom"?n.children.push(e):i=="none"&&n.children.removeValue(e)}}}_handleThumbDown(e){this._thumbDownPoint=this.toLocal(e.point);const n=this.axis;this._downStart=n.get("start"),this._downEnd=n.get("end")}_handleThumbUp(e){this._thumbDownPoint=void 0}_handleThumbMove(e){const n=this._thumbDownPoint;if(n){const i=this.toLocal(e.point),s=this._downStart,r=this._downEnd,a=this._getPan(i,n)*Math.min(1,r-s)/2*this.get("panSensitivity",1);this.axis.zoom(s-a,r+a,0)}}_getPan(e,n){return 0}positionToCoordinate(e){return this._inversed?(this._end-e)*this._axisLength:(e-this._start)*this._axisLength}updateTooltipBounds(e){}_updateSize(){this.markDirty(),this._clear=!0}toAxisPosition(e){const n=this._start||0,i=this._end||1;return e=e*(i-n),this.get("inversed")?e=i-e:e=n+e,e}toGlobalPosition(e){const n=this._start||0,i=this._end||1;return this.get("inversed")?e=i-e:e=e-n,e=e/(i-n),e}fixPosition(e){return this.get("inversed")?1-e:e}_updateLC(){}toggleVisibility(e,n,i,s){let r=this.axis;const a=r.get("start",0),o=r.get("end",1);let l=a+(o-a)*(i-1e-4),u=a+(o-a)*(s+1e-4);n<l||n>u?e.setPrivate("visible",!1):e.setPrivate("visible",!0)}_positionTooltip(e,n){const i=this.chart;i&&(e.set("pointTo",this._display.toGlobal(n)),i.inPlot(n)||e.hide())}processAxis(){}}Object.defineProperty(Pc,"className",{enumerable:!0,configurable:!0,writable:!0,value:"AxisRenderer"});Object.defineProperty(Pc,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:dn.classNames.concat([Pc.className])});class wv extends Pc{constructor(){super(...arguments),Object.defineProperty(this,"thumb",{enumerable:!0,configurable:!0,writable:!0,value:tr.new(this._root,{width:Fe,isMeasured:!1,themeTags:["axis","x","thumb"]})})}_afterNew(){this._settings.themeTags=Lt(this._settings.themeTags,["renderer","x"]),super._afterNew(),this.setPrivateRaw("letter","X");const e=this.grid.template;e.set("height",Fe),e.set("width",0),e.set("draw",(n,i)=>{n.moveTo(0,0),n.lineTo(0,i.height())}),this.set("draw",(n,i)=>{n.moveTo(0,0),n.lineTo(i.width(),0)})}_changed(){super._changed();const e=this.axis;e.ghostLabel.setPrivate("visible",!this.get("inside")),e.ghostLabel.set("x",-1e3);const n="opposite",i="inside";if(this.isDirty(n)||this.isDirty(i)){const s=this.chart,r=e.children;if(this.get(i)?e.addTag(i):e.removeTag(i),s){if(this.get(n)){const a=s.topAxesContainer.children;a.indexOf(e)==-1&&a.insertIndex(0,e),e.addTag(n),r.moveValue(this)}else{const a=s.bottomAxesContainer.children;a.indexOf(e)==-1&&a.moveValue(e),e.removeTag(n),r.moveValue(this,0)}e.ghostLabel._applyThemes(),this.labels.each(a=>{a._applyThemes()}),this.root._markDirtyRedraw()}e.markDirtySize()}this.thumb.setPrivate("height",e.labelsContainer.height())}_getPan(e,n){return(n.x-e.x)/this.width()}toAxisPosition(e){const n=this._start||0,i=this._end||1;return e-=this._ls,e=e*(i-n)/this._lc,this.get("inversed")?e=i-e:e=n+e,e}toGlobalPosition(e){const n=this._start||0,i=this._end||1;return this.get("inversed")?e=i-e:e=e-n,e=e/(i-n)*this._lc,e+=this._ls,e}_updateLC(){const e=this.axis,n=e.parent;if(n){const i=n.innerWidth();this._lc=this.axisLength()/i,this._ls=(e.x()-n.get("paddingLeft",0))/i}}_updatePositions(){const e=this.axis,n=e.x()-Qn(e.get("centerX",0),e.width())-e.parent.get("paddingLeft",0);e.gridContainer.set("x",n),e.topGridContainer.set("x",n),e.bulletsContainer.set("y",this.y());const i=e.chart;if(i){const s=i.plotContainer,r=e.axisHeader;let a=e.get("marginLeft",0),o=e.x()-a;const l=e.parent;l&&(o-=l.get("paddingLeft",0)),r.children.length>0?(a=e.axisHeader.width(),e.set("marginLeft",a+1)):r.set("width",a),r.setAll({x:o,y:-1,height:s.height()+2})}}processAxis(){super.processAxis();const e=this.axis;e.get("width")==null&&e.set("width",Fe);const n=this._root.verticalLayout;e.set("layout",n),e.labelsContainer.set("width",Fe),e.axisHeader.setAll({layout:n})}axisLength(){return this.axis.width()}positionToPoint(e){return{x:this.positionToCoordinate(e),y:0}}updateTick(e,n,i,s){if(e){me(n)||(n=0);let r=.5;me(s)&&s>1?r=e.get("multiLocation",r):r=e.get("location",r),me(i)&&i!=n&&(n=n+(i-n)*r),e.set("x",this.positionToCoordinate(n));let a=e.get("length",0);const o=e.get("inside",this.get("inside",!1));this.get("opposite")?(e.set("y",Fe),o||(a*=-1)):(e.set("y",0),o&&(a*=-1)),e.set("draw",l=>{l.moveTo(0,0),l.lineTo(0,a)}),this.toggleVisibility(e,n,e.get("minPosition",0),e.get("maxPosition",1))}}updateLabel(e,n,i,s){if(e){let r=.5;me(s)&&s>1?r=e.get("multiLocation",r):r=e.get("location",r),me(n)||(n=0);const a=e.get("inside",this.get("inside",!1));this.get("opposite")?a?(e.set("position","absolute"),e.set("y",0)):(e.set("position","relative"),e.set("y",Fe)):a?(e.set("y",0),e.set("position","absolute")):(e.set("y",void 0),e.set("position","relative")),me(i)&&i!=n&&(n=n+(i-n)*r),e.set("x",this.positionToCoordinate(n)),this.toggleVisibility(e,n,e.get("minPosition",0),e.get("maxPosition",1))}}updateGrid(e,n,i){if(e){me(n)||(n=0);let s=e.get("location",.5);me(i)&&i!=n&&(n=n+(i-n)*s),e.set("x",this.positionToCoordinate(n)),this.toggleVisibility(e,n,0,1)}}updateBullet(e,n,i){if(e){const s=e.get("sprite");if(s){me(n)||(n=0);let r=e.get("location",.5);me(i)&&i!=n&&(n=n+(i-n)*r);let a=this.axis.roundAxisPosition(n,r),o=this.axis._bullets[a],l=-1;if(this.get("opposite")&&(l=1),e.get("stacked"))if(o){let u=o.get("sprite");u&&s.set("y",u.y()+u.height()*l)}else s.set("y",0);this.axis._bullets[a]=e,s.set("x",this.positionToCoordinate(n)),this.toggleVisibility(s,n,0,1)}}}updateFill(e,n,i){if(e){me(n)||(n=0),me(i)||(i=1);let s=this.positionToCoordinate(n),r=this.positionToCoordinate(i);this.fillDrawMethod(e,s,r)}}fillDrawMethod(e,n,i){e.set("draw",s=>{const r=this.axis.gridContainer.height(),a=this.width();i<n&&([i,n]=[n,i]),!(n>a||i<0)&&(s.moveTo(n,0),s.lineTo(i,0),s.lineTo(i,r),s.lineTo(n,r),s.lineTo(n,0))})}positionTooltip(e,n){this._positionTooltip(e,{x:this.positionToCoordinate(n),y:0})}updateTooltipBounds(e){const n=this.get("inside"),i=1e5;let s=this._display.toGlobal({x:0,y:0}),r=s.x,a=0,o=this.axisLength(),l=i,u="up";this.get("opposite")?n?(u="up",a=s.y,l=i):(u="down",a=s.y-i,l=i):n?(u="down",a=s.y-i,l=i):(u="up",a=s.y,l=i);const d={left:r,right:r+o,top:a,bottom:a+l},c=e.get("bounds");$U(d,c)||(e.set("bounds",d),e.set("pointerOrientation",u))}}Object.defineProperty(wv,"className",{enumerable:!0,configurable:!0,writable:!0,value:"AxisRendererX"});Object.defineProperty(wv,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Pc.classNames.concat([wv.className])});class xv extends Pc{constructor(){super(...arguments),Object.defineProperty(this,"_downY",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"thumb",{enumerable:!0,configurable:!0,writable:!0,value:tr.new(this._root,{height:Fe,isMeasured:!1,themeTags:["axis","y","thumb"]})})}_afterNew(){this._settings.themeTags=Lt(this._settings.themeTags,["renderer","y"]),this._settings.opposite&&this._settings.themeTags.push("opposite"),super._afterNew(),this.setPrivateRaw("letter","Y");const e=this.grid.template;e.set("width",Fe),e.set("height",0),e.set("draw",(n,i)=>{n.moveTo(0,0),n.lineTo(i.width(),0)}),this.set("draw",(n,i)=>{n.moveTo(0,0),n.lineTo(0,i.height())})}_getPan(e,n){return(e.y-n.y)/this.height()}_changed(){super._changed();const e=this.axis;e.ghostLabel.setPrivate("visible",!this.get("inside")),e.ghostLabel.set("y",-1e3);const n=this.thumb,i="opposite",s="inside",r=this.chart;if(this.isDirty(i)||this.isDirty(s)){const o=e.children;if(this.get(s)?e.addTag(s):e.removeTag(s),r){if(this.get(i)){const l=r.rightAxesContainer.children;l.indexOf(e)==-1&&l.moveValue(e,0),e.addTag(i),o.moveValue(this,0)}else{const l=r.leftAxesContainer.children;l.indexOf(e)==-1&&l.moveValue(e),e.removeTag(i),o.moveValue(this)}e.ghostLabel._applyThemes(),this.labels.each(l=>{l._applyThemes()}),this.root._markDirtyRedraw()}e.markDirtySize()}const a=e.labelsContainer.width();r&&(this.get(i)?n.set("centerX",0):n.set("centerX",a)),n.setPrivate("width",a)}processAxis(){super.processAxis();const e=this.axis;e.get("height")==null&&e.set("height",Fe);const n=this._root.horizontalLayout;e.set("layout",n),e.labelsContainer.set("height",Fe),e.axisHeader.set("layout",n)}_updatePositions(){const e=this.axis,n=e.y()-Qn(e.get("centerY",0),e.height());e.gridContainer.set("y",n),e.topGridContainer.set("y",n),e.bulletsContainer.set("x",this.x());const i=e.chart;if(i){const s=i.plotContainer,r=e.axisHeader;let a=e.get("marginTop",0);r.children.length>0?(a=e.axisHeader.height(),e.set("marginTop",a+1)):r.set("height",a),r.setAll({y:e.y()-a,x:-1,width:s.width()+2})}}axisLength(){return this.axis.innerHeight()}positionToPoint(e){return{x:0,y:this.positionToCoordinate(e)}}updateLabel(e,n,i,s){if(e){me(n)||(n=0);let r=.5;me(s)&&s>1?r=e.get("multiLocation",r):r=e.get("location",r);const a=this.get("opposite"),o=e.get("inside",this.get("inside",!1));a?(e.set("x",0),o?e.set("position","absolute"):e.set("position","relative")):o?(e.set("x",0),e.set("position","absolute")):(e.set("x",void 0),e.set("position","relative")),me(i)&&i!=n&&(n=n+(i-n)*r),e.set("y",this.positionToCoordinate(n)),this.toggleVisibility(e,n,e.get("minPosition",0),e.get("maxPosition",1))}}updateGrid(e,n,i){if(e){me(n)||(n=0);let s=e.get("location",.5);me(i)&&i!=n&&(n=n+(i-n)*s),e.set("y",this.positionToCoordinate(n)),this.toggleVisibility(e,n,0,1)}}updateTick(e,n,i,s){if(e){me(n)||(n=0);let r=.5;me(s)&&s>1?r=e.get("multiLocation",r):r=e.get("location",r),me(i)&&i!=n&&(n=n+(i-n)*r),e.set("y",this.positionToCoordinate(n));let a=e.get("length",0);const o=e.get("inside",this.get("inside",!1));this.get("opposite")?(e.set("x",0),o&&(a*=-1)):o||(a*=-1),e.set("draw",l=>{l.moveTo(0,0),l.lineTo(a,0)}),this.toggleVisibility(e,n,e.get("minPosition",0),e.get("maxPosition",1))}}updateBullet(e,n,i){if(e){const s=e.get("sprite");if(s){me(n)||(n=0);let r=e.get("location",.5);me(i)&&i!=n&&(n=n+(i-n)*r);let a=this.axis.roundAxisPosition(n,r),o=this.axis._bullets[a],l=1;if(this.get("opposite")&&(l=-1),e.get("stacked"))if(o){let u=o.get("sprite");u&&s.set("x",u.x()+u.width()*l)}else s.set("x",0);this.axis._bullets[a]=e,s.set("y",this.positionToCoordinate(n)),this.toggleVisibility(s,n,0,1)}}}updateFill(e,n,i){if(e){me(n)||(n=0),me(i)||(i=1);let s=this.positionToCoordinate(n),r=this.positionToCoordinate(i);this.fillDrawMethod(e,s,r)}}fillDrawMethod(e,n,i){e.set("draw",s=>{const r=this.axis.gridContainer.width(),a=this.height();i<n&&([i,n]=[n,i]),!(n>a||i<0)&&(s.moveTo(0,n),s.lineTo(r,n),s.lineTo(r,i),s.lineTo(0,i),s.lineTo(0,n))})}positionToCoordinate(e){return this._inversed?(e-this._start)*this._axisLength:(this._end-e)*this._axisLength}positionTooltip(e,n){this._positionTooltip(e,{x:0,y:this.positionToCoordinate(n)})}updateTooltipBounds(e){const n=this.get("inside"),i=1e5;let s=this._display.toGlobal({x:0,y:0}),r=s.y,a=0,o=this.axisLength(),l=i,u="right";this.get("opposite")?n?(u="right",a=s.x-i,l=i):(u="left",a=s.x,l=i):n?(u="left",a=s.x,l=i):(u="right",a=s.x-i,l=i);const d={left:a,right:a+l,top:r,bottom:r+o},c=e.get("bounds");$U(d,c)||(e.set("bounds",d),e.set("pointerOrientation",u))}_updateLC(){const e=this.axis,n=e.parent;if(n){const i=n.innerHeight();this._lc=this.axisLength()/i,this._ls=e.y()/i}}toAxisPosition(e){const n=this._start||0,i=this._end||1;return e-=this._ls,e=e*(i-n)/this._lc,this.get("inversed")?e=n+e:e=i-e,e}toGlobalPosition(e){const n=this._start||0,i=this._end||1;return this.get("inversed")?e=e-n:e=i-e,e=e/(i-n)*this._lc,e+=this._ls,e}fixPosition(e){return this.get("inversed")?e:1-e}}Object.defineProperty(xv,"className",{enumerable:!0,configurable:!0,writable:!0,value:"AxisRendererY"});Object.defineProperty(xv,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Pc.classNames.concat([xv.className])});class Iy extends Sc{constructor(){super(...arguments),Object.defineProperty(this,"columns",{enumerable:!0,configurable:!0,writable:!0,value:this.addDisposer(new ji(Sn.new({}),()=>Ga._new(this._root,{position:"absolute",themeTags:Lt(this.columns.template.get("themeTags",[]),["series","column"])},[this.columns.template])))})}makeColumn(e,n){const i=this.mainContainer.children.push(n.make());return i._setDataItem(e),n.push(i),i}_processAxisRange(e){super._processAxisRange(e),e.columns=new ji(Sn.new({}),()=>Ga._new(this._root,{position:"absolute",themeTags:Lt(e.columns.template.get("themeTags",[]),["series","column"])},[this.columns.template,e.columns.template]))}}Object.defineProperty(Iy,"className",{enumerable:!0,configurable:!0,writable:!0,value:"ColumnSeries"});Object.defineProperty(Iy,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Sc.classNames.concat([Iy.className])});class Dy extends xc{constructor(){super(...arguments),Object.defineProperty(this,"_endIndex",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_strokeGenerator",{enumerable:!0,configurable:!0,writable:!0,value:s9()}),Object.defineProperty(this,"_fillGenerator",{enumerable:!0,configurable:!0,writable:!0,value:U1e()}),Object.defineProperty(this,"_legendStroke",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_legendFill",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"strokes",{enumerable:!0,configurable:!0,writable:!0,value:this.addDisposer(new ji(Sn.new({}),()=>dn._new(this._root,{themeTags:Lt(this.strokes.template.get("themeTags",[]),["line","series","stroke"])},[this.strokes.template])))}),Object.defineProperty(this,"fills",{enumerable:!0,configurable:!0,writable:!0,value:this.addDisposer(new ji(Sn.new({}),()=>dn._new(this._root,{themeTags:Lt(this.strokes.template.get("themeTags",[]),["line","series","fill"])},[this.fills.template])))}),Object.defineProperty(this,"_fillTemplate",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_strokeTemplate",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_previousPoint",{enumerable:!0,configurable:!0,writable:!0,value:[0,0,0,0]}),Object.defineProperty(this,"_dindex",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_sindex",{enumerable:!0,configurable:!0,writable:!0,value:0})}_afterNew(){this._fillGenerator.y0(function(e){return e[3]}),this._fillGenerator.x0(function(e){return e[2]}),this._fillGenerator.y1(function(e){return e[1]}),this._fillGenerator.x1(function(e){return e[0]}),super._afterNew()}makeStroke(e){const n=this.mainContainer.children.push(e.make());return e.push(n),n}makeFill(e){const n=this.mainContainer.children.push(e.make());return e.push(n),n}_updateChildren(){this._strokeTemplate=void 0,this._fillTemplate=void 0;let e=this.get("xAxis"),n=this.get("yAxis");if(this.isDirty("stroke")){const i=this.get("stroke");this.strokes.template.set("stroke",i);const s=this._legendStroke;s&&s.states.lookup("default").set("stroke",i)}if(this.isDirty("fill")){const i=this.get("fill");this.fills.template.set("fill",i);const s=this._legendFill;s&&s.states.lookup("default").set("fill",i)}if(this.isDirty("fillPattern")){const i=this.get("fillPattern");this.fills.template.set("fillPattern",i);const s=this._legendFill;s&&s.states.lookup("default").set("fillPattern",i)}if(this.isDirty("curveFactory")){const i=this.get("curveFactory");i&&(this._strokeGenerator.curve(i),this._fillGenerator.curve(i))}if(e.inited&&n.inited){if(this._axesDirty||this._valuesDirty||this._stackDirty||this.isDirty("vcx")||this.isDirty("vcy")||this._sizeDirty||this.isDirty("connect")||this.isDirty("curveFactory")){this.fills.each(d=>{d.setPrivate("visible",!1)}),this.strokes.each(d=>{d.setPrivate("visible",!1)}),this.axisRanges.each(d=>{let c=d.fills;c&&c.each(h=>{h.setPrivate("visible",!1)});let f=d.strokes;f&&f.each(h=>{h.setPrivate("visible",!1)})});let i=this.startIndex(),s=this.strokes.template.get("templateField"),r=this.fills.template.get("templateField"),a=!0,o=!0;s&&(a=!1),r&&(o=!1);for(let d=i-1;d>=0;d--){let c=this.dataItems[d],f=!0,h=c.dataContext;if(s&&h[s]&&(a=!0),r&&h[r]&&(o=!0),oe(this._valueFields,g=>{me(c.get(g))||(f=!1)}),f&&a&&o){i=d;break}}let l=this.dataItems.length,u=this.endIndex();if(u<l){u++;for(let d=u;d<l;d++){let c=this.dataItems[d],f=!0;if(oe(this._valueFields,h=>{me(c.get(h))||(f=!1)}),f){u=d+1;break}}}if(i>0&&i--,this._endIndex=u,this._clearGraphics(),this._sindex=0,this._dindex=i,this.dataItems.length==1)this._startSegment(0);else for(;this._dindex<u-1;)this._startSegment(this._dindex),this._sindex++}}else this._skipped=!0;super._updateChildren()}_clearGraphics(){this.strokes.clear(),this.fills.clear(),this.axisRanges.each(e=>{e.fills.clear(),e.strokes.clear()})}_startSegment(e){let n=this._endIndex,i=n;const s=this.get("autoGapCount"),r=this.get("connect"),a=this.makeFill(this.fills),o=this._fillTemplate,l=this.fills.template;o&&o!=l&&(a.template=o),a.setPrivate("visible",!0);const u=this.makeStroke(this.strokes),d=this._strokeTemplate;d&&d!=this.strokes.template&&(u.template=d),u.setPrivate("visible",!0);let c=this.get("xAxis"),f=this.get("yAxis"),h=this.get("baseAxis"),g=this.get("vcx",1),v=this.get("vcy",1),p=this._xField,_=this._yField,b=this._xOpenField,x=this._yOpenField;const k=this.get("openValueXField"),I=this.get("openValueYField");k||(b=this._xField),I||(x=this._yField);const E=this.get("stacked"),T=c.basePosition(),S=f.basePosition();let w;h===f?w=this._yField:w=this._xField;const P=[];let C=[];P.push(C);const D=this.strokes.template.get("templateField"),A=this.fills.template.get("templateField");let N=this.get("locationX",.5),B=this.get("locationY",.5),H=this.get("openLocationX",N),G=this.get("openLocationY",B);const z=this.get("minDistance",0);let X,W=this.fills.template.get("visible");this.axisRanges.length>0&&(W=!0);let Z=!1;(E||k||I)&&(Z=!0);const ee={points:C,segments:P,stacked:E,getOpen:Z,basePosX:T,basePosY:S,fillVisible:W,xField:p,yField:_,xOpenField:b,yOpenField:x,vcx:g,vcy:v,baseAxis:h,xAxis:c,yAxis:f,locationX:N,locationY:B,openLocationX:H,openLocationY:G,minDistance:z};let le=this._strokeTemplate,ue=this._fillTemplate;for(X=e;X<i;X++){this._dindex=X;const ce=this._dataItems[X];let se=ce.get(p),$=ce.get(_);if(se==null||$==null?r||(C=[],P.push(C),ee.points=C):this._getPoints(ce,ee),D){let q=ce.dataContext[D];if(q)if(q instanceof Sn||(q=Sn.new(q)),this._strokeTemplate=q,X>e){i=X;break}else le=q,u.template=q}if(A){let q=ce.dataContext[A];if(q)if(q instanceof Sn||(q=Sn.new(q)),this._fillTemplate=q,X>e){i=X;break}else ue=q,a.template=q}if(!r){let q=this.dataItems[X+1];q&&h.shouldGap(ce,q,s,w)&&(C=[],P.push(C),ee.points=C)}}a.setRaw("userData",[e,X]),u.setRaw("userData",[e,X]),X===n&&this._endLine(C,P[0][0]),u&&this._drawStroke(u,P),a&&this._drawFill(a,P),this.axisRanges.each(ce=>{const se=ce.container,$=ce.fills,q=this.makeFill($);se&&se.children.push(q),q.setPrivate("visible",!0),this._drawFill(q,P);const re=ce.strokes,ge=this.makeStroke(re);se&&se.children.push(ge),le&&le!=this.strokes.template&&(ge.template=le),ue&&ue!=this.fills.template&&(q.template=ue),ge.setPrivate("visible",!0),this._drawStroke(ge,P),q.setRaw("userData",[e,X]),ge.setRaw("userData",[e,X])})}_getPoints(e,n){let i=n.points,s=e.get("locationX",n.locationX),r=e.get("locationY",n.locationY),a=n.xAxis.getDataItemPositionX(e,n.xField,s,n.vcx),o=n.yAxis.getDataItemPositionY(e,n.yField,r,n.vcy);if(this._shouldInclude(a)){const l=this.getPoint(a,o),u=[l.x,l.y];if(l.x+=this._x,l.y+=this._y,e.set("point",l),n.fillVisible){let d=a,c=o;if(n.baseAxis===n.xAxis?c=n.basePosY:n.baseAxis===n.yAxis&&(d=n.basePosX),n.getOpen){let h=e.get(n.xOpenField),g=e.get(n.yOpenField);if(h!=null&&g!=null){let v=e.get("openLocationX",n.openLocationX),p=e.get("openLocationY",n.openLocationY);if(n.stacked){let _=e.get("stackToItemX"),b=e.get("stackToItemY");_?(d=n.xAxis.getDataItemPositionX(_,n.xField,v,_.component.get("vcx")),va(d)&&(d=n.basePosX)):n.yAxis===n.baseAxis?d=n.basePosX:d=n.xAxis.getDataItemPositionX(e,n.xOpenField,v,n.vcx),b?(c=n.yAxis.getDataItemPositionY(b,n.yField,p,b.component.get("vcy")),va(c)&&(c=n.basePosY)):n.xAxis===n.baseAxis?c=n.basePosY:c=n.yAxis.getDataItemPositionY(e,n.yOpenField,p,n.vcy)}else d=n.xAxis.getDataItemPositionX(e,n.xOpenField,v,n.vcx),c=n.yAxis.getDataItemPositionY(e,n.yOpenField,p,n.vcy)}}let f=this.getPoint(d,c);u[2]=f.x,u[3]=f.y}if(n.minDistance>0){const d=u[0],c=u[1],f=u[2],h=u[3],g=this._previousPoint,v=g[0],p=g[1],_=g[2],b=g[3];(Math.hypot(d-v,c-p)>n.minDistance||f&&h&&Math.hypot(f-_,h-b)>n.minDistance)&&(i.push(u),this._previousPoint=u)}else i.push(u)}}_endLine(e,n){}_drawStroke(e,n){e.get("visible")&&!e.get("forceHidden")&&e.set("draw",i=>{oe(n,s=>{this._strokeGenerator.context(i),this._strokeGenerator(s)})})}_drawFill(e,n){e.get("visible")&&!e.get("forceHidden")&&e.set("draw",i=>{oe(n,s=>{this._fillGenerator.context(i),this._fillGenerator(s)})})}_processAxisRange(e){super._processAxisRange(e),e.fills=new ji(Sn.new({}),()=>dn._new(this._root,{themeTags:Lt(e.fills.template.get("themeTags",[]),["line","series","fill"])},[this.fills.template,e.fills.template])),e.strokes=new ji(Sn.new({}),()=>dn._new(this._root,{themeTags:Lt(e.strokes.template.get("themeTags",[]),["line","series","stroke"])},[this.strokes.template,e.strokes.template]))}createLegendMarker(e){const n=this.get("legendDataItem");if(n){const i=n.get("marker"),s=n.get("markerRectangle");s&&s.setPrivate("visible",!1),i.set("background",tr.new(i._root,{fillOpacity:0,fill:gl(0)}));const r=i.children.push(dn._new(i._root,{themeTags:["line","series","legend","marker","stroke"],interactive:!1},[this.strokes.template]));this._legendStroke=r;const a=i.children.push(dn._new(i._root,{themeTags:["line","series","legend","marker","fill"]},[this.fills.template]));this._legendFill=a;const o=this._root.interfaceColors.get("disabled");if(r.states.create("disabled",{fill:o,stroke:o}),a.states.create("disabled",{fill:o,stroke:o}),this.bullets.length>0){const l=this.bullets.getIndex(0);if(l){const u=l(i._root,this,new oa(this,{legend:!0},{}));if(u){const d=u.get("sprite");d instanceof dn&&d.states.create("disabled",{fill:o,stroke:o}),d&&(d.set("tooltipText",void 0),d.set("tooltipHTML",void 0),i.children.push(d),d.setAll({x:i.width()/2,y:i.height()/2}),i.events.on("boundschanged",()=>{d.setAll({x:i.width()/2,y:i.height()/2})}))}}}}}}Object.defineProperty(Dy,"className",{enumerable:!0,configurable:!0,writable:!0,value:"LineSeries"});Object.defineProperty(Dy,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:xc.classNames.concat([Dy.className])});function X1e(t,e){const n=bh.new(t,{content:"Il grafico non contiene dati"});return e.events.on("datavalidated",function(i){const s=i.target;if(i.target.data.length<1){const r=s.get("valueXField"),a=s.get("valueYField"),o=[],l=new Date;for(let u=0;u<Ki.int(30,60);u++){const d={};C1e(l,"day",1),d[r]=l.getTime(),d[a]=Ki.int(5,30),o.push(d)}s.data.setAll(o),n.open()}else n.close()}),n}function U0(t,e){const n=bh.new(t,{content:"Il grafico non contiene dati"});return e.events.on("datavalidated",function(i){const s=i.target;if(i.target.data.length<1){const r=s.get("categoryField"),a=s.get("valueField"),o=[];for(let l=0;l<3;l++){const u={};u[r]="",u[a]=1,o.push(u)}s.data.setAll(o),s.labels.template.set("forceHidden",!0),s.ticks.template.set("forceHidden",!0),n.open()}else s.labels.template.set("forceHidden",!1),s.ticks.template.set("forceHidden",!1),n.close()}),n}function K1e(t,e,n){const i=bh.new(t,{content:"Il grafico non contiene dati"}),s=[Ki.word(6),Ki.word(6),Ki.word(6)];return e.events.on("datavalidated",function(r){const a=r.target;if(r.target.data.length<1){const o=a.get("categoryField"),l=[];for(let u=0;u<s.length;u++){const d={};d[o]=s[u],l.push(d)}a.data.setAll(l),i.open()}else i.close()}),n.forEach(r=>r.events.on("datavalidated",function(a){const o=a.target;if(a.target.data.length<1){const l=o.get("categoryXField"),u=o.get("valueYField"),d=[];for(let c=0;c<s.length;c++){const f={};f[l]=s[c],f[u]=Ki.int(3,9),d.push(f)}console.log(d),o.data.setAll(d),i.open()}else i.close()})),i}const Q1e=Tt({__name:"LessonDistribution",props:{from:{},to:{},schools:{default:()=>[]}},setup(t){let e,n,i;function s(u){i=u,e=i.container.children.push(st.new(i,{layout:i.verticalLayout,width:Fe,height:Fe})).children.push(bc.new(i,{endAngle:270,innerRadius:jn(60)})).series.push(wc.new(i,{valueField:"value",categoryField:"category",endAngle:270,alignLabels:!1})),l(),e.slices.template.setAll({cornerRadius:8,tooltipText:"{category}: {value}"}),e.states.create("hidden",{endAngle:-90}),e.labels.template.setAll({textType:"circular"}),U0(i,e)}function r(){e.appear(1e3,100)}function a(){return!!e}async function o(u,d,...c){const f=await Lo.instance.getLessonTrend(u,d,...c);e.data.setAll(f),l()}function l(){n==null||n.dispose(),n=Hi.new(i,{centerX:jn(50),centerY:jn(50),text:"Lezioni: {valueSum}",populateText:!0,fontSize:"1.5em"}),e.children.push(n)}return(u,d)=>(be(),De(tf,{schools:u.schools,from:u.from,to:u.to,"create-chart":s,"after-chart-created":r,"are-update-condition-satistied":a,"update-chart-data":o,title:"Distribuzione delle Lezioni",subtitle:"Numero di lezioni in una scuola"},null,8,["schools","from","to"]))}}),J1e=Tt({__name:"SalaryDistribution",props:{from:{},to:{},schools:{default:()=>[]}},setup(t){let e,n,i;function s(u){i=u,e=i.container.children.push(st.new(i,{layout:i.verticalLayout,width:Fe,height:Fe})).children.push(bc.new(i,{endAngle:270,innerRadius:jn(60)})).series.push(wc.new(i,{valueField:"value",categoryField:"category",endAngle:270,alignLabels:!1})),l(),e.slices.template.setAll({cornerRadius:8,tooltipText:"{category}: {valuePercentTotal.formatNumber('0.00')}% ({value} )"}),e.states.create("hidden",{endAngle:-90}),e.labels.template.setAll({textType:"circular"}),U0(i,e)}function r(){e.appear(1e3,100)}function a(){return!!e}async function o(u,d,...c){const f=await Lo.instance.getSalaryDistribution(u,d,...c);e.data.setAll(f),l()}function l(){n==null||n.dispose(),n=Hi.new(i,{centerX:jn(50),centerY:jn(50),text:"Totale: {valueSum}",populateText:!0,fontSize:"1.5em"}),e.children.push(n)}return(u,d)=>(be(),De(tf,{schools:u.schools,from:u.from,to:u.to,"create-chart":s,"after-chart-created":r,"are-update-condition-satistied":a,"update-chart-data":o,title:"Distribuzione dello Stipendio",subtitle:"Divisione dello stipendio per Scuola"},null,8,["schools","from","to"]))}}),Z1e=Tt({__name:"SalaryTrend",props:{from:{},to:{},schools:{default:()=>[]}},setup(t){let e,n;function i(o){e=o.container.children.push(bv.new(o,{panX:!0,panY:!0,wheelX:"panX",wheelY:"zoomX",pinchZoomX:!0,paddingLeft:0})),e.set("cursor",Ty.new(o,{behavior:"none"})).lineY.set("visible",!1);const u=e.xAxes.push(Py.new(o,{maxDeviation:.2,baseInterval:{timeUnit:"day",count:1},renderer:wv.new(o,{minorGridEnabled:!0}),tooltip:Wl.new(o,{})})),d=e.yAxes.push(Yl.new(o,{renderer:xv.new(o,{pan:"zoom"})}));n=e.series.push(Dy.new(o,{name:"Series",xAxis:u,yAxis:d,valueYField:"value",valueXField:"date",tooltip:Wl.new(o,{labelText:"{valueY}"})})),e.set("scrollbarX",vv.new(o,{orientation:"horizontal"})),X1e(o,n)}function s(){n.appear(1e3),e.appear(1e3,100)}function r(){return!!n}async function a(o,l,...u){const d=await Lo.instance.getSalaryTrend(o,l,...u);n.data.setAll(d)}return(o,l)=>(be(),De(tf,{schools:o.schools,from:o.from,to:o.to,"create-chart":i,"after-chart-created":s,"are-update-condition-satistied":r,"update-chart-data":a,title:"Andamento dello Stipendio",subtitle:"Andamento dello stipendio in un periodo di tempo per scuola"},null,8,["schools","from","to"]))}}),exe=Tt({__name:"SchoolDistribution",props:{from:{},to:{},schools:{default:()=>[]}},setup(t){let e,n,i;function s(u){i=u,e=i.container.children.push(st.new(i,{layout:i.verticalLayout,width:Fe,height:Fe})).children.push(bc.new(i,{endAngle:270,innerRadius:jn(60)})).series.push(wc.new(i,{valueField:"value",categoryField:"category",endAngle:270,alignLabels:!1})),l(),e.slices.template.setAll({cornerRadius:8,tooltipText:"{category}: {value}"}),e.states.create("hidden",{endAngle:-90}),e.labels.template.setAll({textType:"circular"}),U0(i,e)}function r(){e.appear(1e3,100)}function a(){return!!e}async function o(u,d,...c){const f=await Lo.instance.getSchoolDistribution(...c);e.data.setAll(f),l()}function l(){n==null||n.dispose(),n=Hi.new(i,{centerX:jn(50),centerY:jn(50),text:"Scuole: {valueSum}",populateText:!0,fontSize:"1.5em"}),e.children.push(n)}return(u,d)=>(be(),De(tf,{schools:u.schools,from:u.from,to:u.to,"create-chart":s,"after-chart-created":r,"are-update-condition-satistied":a,"update-chart-data":o,title:"Distribuzione delle scuole"},null,8,["schools","from","to"]))}}),txe=Tt({__name:"SchoolStudentDistribution",props:{from:{},to:{},schools:{default:()=>[]}},setup(t){let e,n,i;function s(u){i=u,e=i.container.children.push(st.new(i,{layout:i.verticalLayout,width:Fe,height:Fe})).children.push(bc.new(i,{endAngle:270,innerRadius:jn(60)})).series.push(wc.new(i,{valueField:"value",categoryField:"category",endAngle:270,alignLabels:!1})),l(),e.slices.template.setAll({cornerRadius:8,tooltipText:"{category}: {value}"}),e.states.create("hidden",{endAngle:-90}),e.labels.template.setAll({textType:"circular"}),U0(i,e)}function r(){e.appear(1e3,100)}function a(){return!!e}async function o(u,d,...c){const f=await Lo.instance.getSchoolStudentDistribution(...c);e.data.setAll(f),l()}function l(){n==null||n.dispose(),n=Hi.new(i,{centerX:jn(50),centerY:jn(50),text:"Studenti: {valueSum}",populateText:!0,fontSize:"1.5em"}),e.children.push(n)}return(u,d)=>(be(),De(tf,{schools:u.schools,from:u.from,to:u.to,"create-chart":s,"after-chart-created":r,"are-update-condition-satistied":a,"update-chart-data":o,title:"Distribuzione degli studenti",subtitle:"Numero di studenti in una scuola"},null,8,["schools","from","to"]))}}),nxe=Tt({__name:"StudentTrend",props:{from:{},to:{},schools:{default:()=>[]}},setup(t){let e,n,i,s,r;const a=[];function o(f){e=f,n=e.container.children.push(bv.new(e,{panX:!1,panY:!1,wheelX:"panX",wheelY:"zoomX",paddingLeft:0,layout:e.verticalLayout})),n.set("scrollbarX",vv.new(e,{orientation:"horizontal"}));const h=wv.new(e,{minorGridEnabled:!0,minGridDistance:10});i=n.xAxes.push(Tc.new(e,{categoryField:"student",renderer:h,tooltip:Wl.new(e,{})})),h.grid.template.setAll({location:1}),h.labels.template.setAll({rotation:45,centerY:ct,centerX:0}),a.push(i),s=n.yAxes.push(Yl.new(e,{min:0,renderer:xv.new(e,{strokeOpacity:.1})})),r=n.children.push(by.new(e,{centerX:ct,x:ct}));const g=[c("Presente","present"),c("Assente","absent"),c("Recupero","recovery")];a.push(...g),K1e(e,i,g)}function l(){n.appear(1e3,100)}function u(){return!!a}async function d(f,h,...g){const v=await Lo.instance.getStudentTrend(f,h,...g);a.forEach(p=>p.data.setAll(v))}function c(f,h){let g=n.series.push(Iy.new(e,{name:f,stacked:!0,xAxis:i,yAxis:s,valueYField:h,categoryXField:"student"}));return g.columns.template.setAll({tooltipText:"{name}, {categoryX}: {valueY}",tooltipY:jn(10)}),g.appear(),g.bullets.push(function(){return yy.new(e,{sprite:Hi.new(e,{text:"{valueY}",fill:e.interfaceColors.get("alternativeText"),centerY:ct,centerX:ct,populateText:!0})})}),r.data.push(g),g}return(f,h)=>(be(),De(tf,{schools:f.schools,from:f.from,to:f.to,"create-chart":o,"after-chart-created":l,"are-update-condition-satistied":u,"update-chart-data":d,title:"Andamento degli Studenti",subtitle:"Andamento della presenza in un periodo di tempo per studente"},null,8,["schools","from","to"]))}}),ixe=Tt({__name:"StatisticsView",setup(t){const e=["salary","schools","lessons","students"],n=Wv(),i=Rc(),s=Y(e[0]),r=Y(),a=Y(!1),o=Y([]),l=Y([]),u=R(()=>n.query.tab),d=R(()=>n.query.filters),c=R(()=>n.query.from),f=R(()=>n.query.to),h=R(()=>o.value.filter(b=>l.value.includes(b.id)));we(u,g,{immediate:!0}),we(d,v,{immediate:!0}),we(c,v,{immediate:!0}),we(f,v,{immediate:!0}),we(o,v),we(s,p),we(l,p),we(r,p);function g(){u.value&&e.includes(u.value.toLowerCase())&&(s.value=u.value)}function v(){var b,x,k;l.value=((b=d.value)==null?void 0:b.split(","))??o.value.map(I=>I.id),c.value&&(r.value={from:c.value,to:(x=r.value)==null?void 0:x.to}),f.value&&(r.value={from:(k=r.value)==null?void 0:k.from,to:f.value}),d.value&&e.includes(u.value.toLowerCase())&&(s.value=u.value)}function p(){var k,I;let b=`/statistics?tab=${s.value}`;const x=l.value.join(",");x&&x.length!=0&&(b+="&filters="+x),(k=r.value)!=null&&k.from&&(b+=`&from=${r.value.from}`),(I=r.value)!=null&&I.to&&(b+=`&to=${r.value.to}`),i.push(b)}async function _(){a.value=!0,o.value=await Lr.instance.getAll(),a.value=!1}return Pt(()=>{Lo.instance.cache.clear(),_()}),(b,x)=>{const k=j("v-tab"),I=j("v-tabs"),E=j("v-col"),T=j("v-select"),S=j("v-row"),w=j("v-card-text"),P=j("v-card"),C=j("v-tabs-window-item"),D=j("v-tabs-window");return be(),wt("div",null,[m(I,{modelValue:s.value,"onUpdate:modelValue":x[0]||(x[0]=A=>s.value=A),color:"primary","align-tabs":"center"},{default:M(()=>[m(k,{"prepend-icon":"mdi-cash",text:"Stipendio",value:"salary"}),m(k,{"prepend-icon":"mdi-town-hall",text:"Scuole",value:"schools"}),m(k,{"prepend-icon":"mdi-calendar-blank",text:"Lezioni",value:"lessons"}),m(k,{"prepend-icon":"mdi-account-school",text:"Studenti",value:"students"})]),_:1},8,["modelValue"]),m(S,{class:"align-end"},{default:M(()=>[m(E,{cols:"12",md:"8"},{default:M(()=>[m(OU,{modelValue:r.value,"onUpdate:modelValue":x[1]||(x[1]=A=>r.value=A),class:"mt-2"},null,8,["modelValue"])]),_:1}),m(E,{cols:"12",md:"4"},{default:M(()=>[m(T,{modelValue:l.value,"onUpdate:modelValue":x[2]||(x[2]=A=>l.value=A),items:o.value,loading:a.value,"item-value":"id",label:"Scuole","item-title":"name",variant:"outlined",density:"compact","hide-details":"",chips:"",multiple:""},null,8,["modelValue","items","loading"])]),_:1})]),_:1}),m(D,{modelValue:s.value,"onUpdate:modelValue":x[3]||(x[3]=A=>s.value=A),class:"w-100"},{default:M(()=>[m(C,{value:"salary"},{default:M(()=>[m(P,{flat:""},{default:M(()=>[m(w,null,{default:M(()=>{var A,N,B,H;return[m(J1e,{schools:h.value,from:(A=r.value)==null?void 0:A.from,to:(N=r.value)==null?void 0:N.to},null,8,["schools","from","to"]),m(Z1e,{schools:h.value,from:(B=r.value)==null?void 0:B.from,to:(H=r.value)==null?void 0:H.to},null,8,["schools","from","to"])]}),_:1})]),_:1})]),_:1}),m(C,{value:"schools"},{default:M(()=>[m(P,{flat:""},{default:M(()=>[m(w,null,{default:M(()=>{var A,N,B,H;return[m(exe,{schools:h.value,from:(A=r.value)==null?void 0:A.from,to:(N=r.value)==null?void 0:N.to},null,8,["schools","from","to"]),m(txe,{schools:h.value,from:(B=r.value)==null?void 0:B.from,to:(H=r.value)==null?void 0:H.to},null,8,["schools","from","to"])]}),_:1})]),_:1})]),_:1}),m(C,{value:"lessons"},{default:M(()=>[m(P,{flat:""},{default:M(()=>[m(w,null,{default:M(()=>{var A,N;return[m(Q1e,{schools:h.value,from:(A=r.value)==null?void 0:A.from,to:(N=r.value)==null?void 0:N.to},null,8,["schools","from","to"])]}),_:1})]),_:1})]),_:1}),m(C,{value:"students"},{default:M(()=>[m(P,{flat:""},{default:M(()=>[m(w,null,{default:M(()=>{var A,N;return[m(nxe,{schools:h.value,from:(A=r.value)==null?void 0:A.from,to:(N=r.value)==null?void 0:N.to},null,8,["schools","from","to"])]}),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])])}}}),sxe={class:"text-center ma-4"},kV=Tt({__name:"HomeView",setup(t){let e;const n=Y([]),i=Y([]),s=Y(!1),r=Y(!1),a=Y(!1),o=Y(!1),l=Y(!1);function u(h){h&&(r.value=!1)}function d(h){return h.city?`${h.name} (${h.city})`:h.name}async function c(){o.value=!0,i.value=await lv.instance.getTodayLessons(),o.value=!1,l.value=!0}async function f(){s.value=!0,e=Lr.instance.observeAll().subscribe({next:h=>{n.value=h,s.value=!1},error:h=>{et.warning("Impossibile caricare le scuole..."),console.error(h),s.value=!1}})}return Pt(async()=>{a.value=Qs.getItem("loadTodayLesson")??!1,a.value&&c(),await f()}),Us(()=>{e==null||e.unsubscribe()}),(h,g)=>{const v=j("v-skeleton-loader"),p=j("v-col"),_=j("v-row"),b=j("v-expand-transition"),x=j("v-card"),k=j("v-icon"),I=j("v-dialog"),E=j("v-divider"),T=j("v-btn"),S=j("v-slide-y-transition"),w=j("v-container");return be(),De(w,{fluid:""},{default:M(()=>[m(b,{mode:"out-in"},{default:M(()=>[s.value?(be(),De(_,{key:0},{default:M(()=>[(be(),wt(Ie,null,Si(3,P=>m(p,{key:P,cols:"12",sm:"4"},{default:M(()=>[m(v,{class:"pa-2",type:"card"})]),_:2},1024)),64))]),_:1})):Yt("",!0)]),_:1}),m(_,null,{default:M(()=>[(be(!0),wt(Ie,null,Si(n.value,P=>(be(),De(p,{key:P.name,cols:"12",sm:"4"},{default:M(()=>[m(x,{"append-icon":"mdi-open-in-new",class:"pa-2",to:"/school/"+P.id,"prepend-icon":"mdi-home",subtitle:"Visualizza tutti gli aggiornamenti della scuola "+P.name,title:d(P),color:P.color??ie(DU)},null,8,["to","subtitle","title","color"])]),_:2},1024))),128)),m(p,{cols:"12",sm:"4"},{default:M(()=>[m(I,{modelValue:r.value,"onUpdate:modelValue":g[2]||(g[2]=P=>r.value=P),fullscreen:""},{activator:M(({props:P})=>[m(x,J({class:"pa-2",color:"secondary"},P),{default:M(()=>[Re("div",sxe,[g[4]||(g[4]=Re("p",{class:"text-h6 font-weight"},"Aggiungi una scuola",-1)),m(k,{size:"x-large"},{default:M(()=>g[3]||(g[3]=[Ee("mdi-plus")])),_:1})])]),_:2},1040)]),default:M(()=>[m(AU,{onClose:g[0]||(g[0]=P=>r.value=!1),onSave:g[1]||(g[1]=P=>u(P))})]),_:1},8,["modelValue"])]),_:1})]),_:1}),m(E,{class:"my-4"}),m(_,{class:"justify-center"},{default:M(()=>[m(p,{cols:"auto"},{default:M(()=>[m(T,{onClick:c,loading:o.value},{default:M(()=>[Ee("Carica le lezioni di oggi ("+at(ie(dh)(new Date))+")",1)]),_:1},8,["loading"])]),_:1})]),_:1}),m(S,{mode:"out-in"},{default:M(()=>[o.value?(be(),De(_,{key:1},{default:M(()=>[(be(),wt(Ie,null,Si(3,P=>m(p,{key:P,cols:"12",sm:"4"},{default:M(()=>[m(v,{class:"pa-2",type:"card"})]),_:2},1024)),64))]),_:1})):(be(),De(_,{key:0},{default:M(()=>[i.value.length==0&&l.value?(be(),De(p,{key:0,cols:"12"},{default:M(()=>g[5]||(g[5]=[Re("p",null,"Nessuna lezione in programma per oggi!",-1)])),_:1})):Yt("",!0),(be(!0),wt(Ie,null,Si(i.value,P=>(be(),De(p,{key:P.lesson.id,cols:"12",sm:"4"},{default:M(()=>[m(x,{"append-icon":"mdi-open-in-new",class:"pa-2",to:"/lesson/"+P.lesson.id,"prepend-icon":"mdi-book-clock",subtitle:"Visualizza la lezione del giorno",title:P.school.name,color:"info"},null,8,["to","title"])]),_:2},1024))),128))]),_:1}))]),_:1})]),_:1})}}}),rxe={};function axe(t,e){return be(),wt("main",null,e[0]||(e[0]=[Re("svg",{viewBox:"0 0 541.17206 328.45184",id:"svg2",version:"1.1"},[Re("metadata",{id:"metadata8"}),Re("defs",{id:"defs6"},[Re("pattern",{patternUnits:"userSpaceOnUse",width:"1.5",height:"1",patternTransform:"translate(0,0) scale(10,10)",id:"Strips2_1"},[Re("rect",{style:{fill:"black",stroke:"none"},x:"0",y:"-0.5",width:"1",height:"2",id:"rect5419"})]),Re("linearGradient",{"osb:paint":"solid",id:"linearGradient6096"},[Re("stop",{id:"stop6094",offset:"0",style:{"stop-color":"#000000","stop-opacity":"1"}})])]),Re("g",{transform:"translate(170.14515,0.038164)",id:"layer1"},[Re("g",{id:"g6219"},[Re("path",{transform:"matrix(1.0150687,0,0,11.193923,-1.3895945,-2685.7441)",style:{display:"inline",fill:"#000000","fill-opacity":"1",stroke:"#000000","stroke-width":"0.1px","stroke-linecap":"butt","stroke-linejoin":"miter","stroke-opacity":"1"},d:"m 145.0586,263.51309 c -90.20375,-0.0994 -119.20375,-0.0994 -119.20375,-0.0994",id:"path6180"}),Re("g",{id:"g6174"},[Re("ellipse",{ry:"9.161705",rx:"9.3055239",cy:"91.32917",cx:"84.963676",id:"path4488",style:{display:"inline",opacity:"1",fill:"none","fill-opacity":"0.4627451","fill-rule":"nonzero",stroke:"#000000","stroke-width":"1.08691013","stroke-miterlimit":"4","stroke-dasharray":"none","stroke-opacity":"1"}}),Re("path",{id:"path4490",d:"m 84.984382,-0.03816399 c 0.911733,-5.0186e-4 1.661858,18.47051499 1.674386,41.22988399 0.0069,12.610431 -0.214009,23.904598 -0.56753,31.469836 -0.282878,6.088471 -0.652275,9.761785 -1.058838,9.762119 -0.406564,3.33e-4 -0.78198,-3.672386 -1.074838,-9.760657 -0.36185,-7.564779 -0.595233,-18.858715 -0.602175,-31.469228 -0.01253,-22.759565 0.717262,-41.23145213 1.628995,-41.23195399 z",style:{display:"inline",fill:"#000000",stroke:"none","stroke-width":"0.23743393px","stroke-linecap":"butt","stroke-linejoin":"miter","stroke-opacity":"1"}}),Re("path",{id:"path4496",d:"m 85.115421,100.5729 c -0.0036,3.37532 -0.0071,6.75165 -0.0107,10.12897 m 0.512159,0.18258 c -1.914603,-0.23621 -3.505591,1.17801 -4.861444,2.68113 -1.355853,1.50312 -2.473764,3.09173 -3.387866,4.59538 -0.914103,1.50365 -1.620209,2.91586 -2.416229,4.41952 -0.79602,1.50365 -1.67928,3.09352 -0.808656,3.24054 0.870624,0.14702 3.490408,-1.14815 5.700074,-1.91396 2.209666,-0.76581 4.001473,-1.00079 5.922125,-0.86765 1.920652,0.13314 3.947462,0.6325 6.245357,1.6195 2.297896,0.98701 4.861161,2.46015 4.9051,0.91309 0.04394,-1.54706 -2.430929,-6.11379 -4.787811,-9.33976 -2.356882,-3.22597 -4.596047,-5.11158 -6.51065,-5.34779 z",style:{display:"inline",fill:"#000000","fill-opacity":"1",stroke:"#000000","stroke-width":"1px","stroke-linecap":"butt","stroke-linejoin":"miter","stroke-opacity":"1"}}),Re("rect",{ry:"5",y:"314.84082",x:"35.355339",height:"9.8994951",width:"100.76272",id:"rect4553",style:{display:"inline",opacity:"1",fill:"#000000","fill-opacity":"1","fill-rule":"nonzero",stroke:"#000000","stroke-width":"1.00157475","stroke-miterlimit":"4","stroke-dasharray":"none","stroke-opacity":"1"}}),Re("path",{id:"path4513",d:"m 74.6875,125.03748 c -8.394789,7.68654 -16.790624,15.37405 -23.988969,22.38484 -7.198345,7.0108 -13.197555,13.3433 -18.781379,20.01048 -5.583823,6.66719 -10.749655,13.66605 -13.916608,18.7496 -3.166952,5.08355 -4.333432,8.24971 -4.750315,11.08369 -0.416883,2.83399 -0.08368,5.33304 1.809372,16.25302 1.893048,10.91998 5.343489,30.24673 9.760132,48.66349 4.416642,18.41676 9.798356,35.91675 15.180267,53.41738",style:{display:"inline",fill:"none",stroke:"#000000","stroke-width":"1px","stroke-linecap":"butt","stroke-linejoin":"miter","stroke-opacity":"1"}}),Re("path",{id:"path4517",d:"m 76.9375,124.66248 c -4.548745,6.50695 -9.29087,13.29053 -13.530749,18.69724 -4.239879,5.4067 -8.072459,9.57255 -11.572943,13.98975 -3.500484,4.41719 -6.66636,9.08269 -9.333429,13.99996 -2.66707,4.91727 -4.833205,10.08267 -6.333458,15.08327 -1.500252,5.0006 -2.33339,9.8328 -2.500149,14.33343 -0.166759,4.50062 0.333124,8.66631 1.249922,15.50064 0.916798,6.83434 2.249854,16.33237 3.499902,24.91604 1.250047,8.58368 2.416611,16.24967 4.583438,28.58394 2.166827,12.33427 5.333153,29.33244 8.499966,46.33323",style:{display:"inline",fill:"none",stroke:"#000000","stroke-width":"1px","stroke-linecap":"butt","stroke-linejoin":"miter","stroke-opacity":"1"}}),Re("path",{id:"path4521",d:"m 96.8125,126.22498 c 6.89586,6.45836 13.7917,12.9167 19.98957,19.14581 6.19786,6.22912 11.69789,12.22914 17.11456,18.39581 5.41666,6.16667 10.74996,12.49995 14.74993,17.91655 3.99997,5.41659 6.66659,9.91653 7.16671,17.83316 0.50012,7.91664 -1.16644,19.24921 -3.3502,31.24619 -2.18376,11.99698 -4.81616,24.33632 -8.42063,38.99809 -3.60448,14.66177 -8.06212,31.17154 -12.56244,47.83939",style:{display:"inline",fill:"none",stroke:"#000000","stroke-width":"1px","stroke-linecap":"butt","stroke-linejoin":"miter","stroke-opacity":"1"}}),Re("path",{id:"path4525",d:"m 91.9375,124.09998 c 5.854072,7.16655 11.70824,14.33322 16.21863,20.16651 4.51039,5.83328 7.67706,10.33329 11.92718,16.33346 4.25012,6.00017 9.58322,13.49984 12.66653,18.58299 3.08332,5.08314 3.91663,7.74974 4.68205,10.91384 0.76542,3.1641 1.40129,6.50242 1.69781,8.02406 0.29651,1.52165 0.22299,1.06579 0.14933,0.60912",style:{display:"inline",fill:"none",stroke:"#000000","stroke-width":"1px","stroke-linecap":"butt","stroke-linejoin":"miter","stroke-opacity":"1"}}),Re("path",{id:"path4533",d:"m 89,123.66248 c 6.159885,11.51771 12.31996,23.03577 16.83724,31.78904 4.51728,8.75327 7.29964,14.54985 9.24424,18.32123 1.9446,3.77138 3.00519,5.42118 4.1838,9.19262 1.17861,3.77144 2.47477,9.6631 1.94443,23.80647 -0.53034,14.14338 -2.88706,36.53226 -5.4209,56.44951 -2.53383,19.91725 -5.24428,37.35836 -7.95503,54.80146",style:{display:"inline",fill:"none",stroke:"#000000","stroke-width":"1px","stroke-linecap":"butt","stroke-linejoin":"miter","stroke-opacity":"1"}}),Re("path",{id:"path4537",d:"m 87.0625,123.03748 c 2.916637,10.42937 5.833458,20.8594 7.291964,26.66356 1.458505,5.80416 1.458505,6.98257 2.402021,11.11052 0.943517,4.12795 2.827535,11.19302 4.065005,16.02501 1.23748,4.832 1.82668,7.42447 2.12139,10.84263 0.29471,3.41815 0.29471,7.65958 -0.11785,20.44893 -0.41255,12.78934 -1.23731,34.11536 -2.18014,53.62015 -0.94282,19.50478 -2.003429,37.18159 -3.064154,54.86032",style:{display:"inline",fill:"none",stroke:"#000000","stroke-width":"1px","stroke-linecap":"butt","stroke-linejoin":"miter","stroke-opacity":"1"}}),Re("path",{id:"path4541",d:"m 85.206367,122.98266 c 0.117841,11.74369 0.235693,23.48835 0.235693,36.55072 -10e-7,13.06238 -0.117833,27.43796 -0.05891,45.3521 0.05892,17.91413 0.29461,39.36153 0.707091,58.80738 0.412482,19.44585 1.001711,36.88701 1.590999,54.32995",style:{display:"inline",fill:"none",stroke:"#000000","stroke-width":"1px","stroke-linecap":"butt","stroke-linejoin":"miter","stroke-opacity":"1"}}),Re("path",{id:"path4545",d:"m 83.12978,122.92016 c -2.601311,10.56131 -5.214983,21.17282 -7.40283,31.41665 -2.187847,10.24384 -3.955407,20.14218 -5.074975,26.03483 -1.119568,5.89264 -1.59092,7.77805 -1.885708,10.07706 -0.294789,2.29901 -0.412567,5.0079 5.1e-5,17.56339 0.412617,12.55548 1.355064,34.93859 2.474996,54.74239 1.119932,19.80379 2.415574,37.00049 3.712005,54.20767",style:{display:"inline",fill:"none",stroke:"#000000","stroke-width":"1px","stroke-linecap":"butt","stroke-linejoin":"miter","stroke-opacity":"1"}}),Re("path",{id:"path4549",d:"m 79.25478,124.23266 c -5.440192,11.56251 -10.880951,23.12622 -15.899657,33.56368 -5.018706,10.43747 -9.614414,19.74672 -11.912808,26.70033 -2.298394,6.95362 -2.298394,11.54922 -1.355419,24.57415 0.942974,13.02493 2.828182,34.46917 5.066095,53.84746 2.237913,19.37829 4.833109,36.71892 7.425959,54.04387",style:{display:"inline",fill:"none",stroke:"#000000","stroke-width":"1px","stroke-linecap":"butt","stroke-linejoin":"miter","stroke-opacity":"1"}}),Re("path",{id:"path4556",d:"m 42.426407,155.38825 c 3.4184,0.82513 6.836082,1.65009 10.606997,2.18034 3.770916,0.53024 7.89657,0.76599 11.608535,0.88382 3.711965,0.11782 7.012548,0.11782 10.429711,0.0589 3.417163,-0.0589 6.953769,-0.17681 10.606588,-0.23572 3.652818,-0.0589 7.425155,-0.0589 11.137027,-0.23569 3.711875,-0.17679 7.366225,-0.53043 10.724475,-0.70716 3.35826,-0.17672 6.4233,-0.17672 9.48702,-0.58922 3.06372,-0.41251 6.12885,-1.23774 9.1918,-2.06238",style:{display:"inline",fill:"none",stroke:"#000000","stroke-width":"1px","stroke-linecap":"butt","stroke-linejoin":"miter","stroke-opacity":"1"}}),Re("path",{id:"path4560",d:"m 13.113199,198.16821 c 47.547038,0.40361 95.093071,0.80721 142.638101,1.2108",style:{display:"inline",fill:"none",stroke:"#000000","stroke-width":"1.00614154px","stroke-linecap":"butt","stroke-linejoin":"miter","stroke-opacity":"1"}}),Re("path",{id:"path4529",d:"m 132.6875,263.34998 c -4.2289,18.4155 -8.45806,36.83216 -12.6875,55.25",style:{display:"inline",fill:"none",stroke:"#000000","stroke-width":"1px","stroke-linecap":"butt","stroke-linejoin":"miter","stroke-opacity":"1"}}),Re("ellipse",{ry:"4.6715717",rx:"2.5",cy:"238.08525",cx:"119.12262",id:"path4614",style:{display:"inline",opacity:"1",fill:"#000000","fill-opacity":"1","fill-rule":"nonzero",stroke:"#000000","stroke-width":"1.00157475","stroke-miterlimit":"4","stroke-dasharray":"none","stroke-opacity":"1"}}),Re("ellipse",{ry:"4.3158579",rx:"4.9001703",cy:"4.3948641",cx:"85.016434",id:"path4616",style:{display:"inline",opacity:"1",fill:"#000000","fill-opacity":"1","fill-rule":"nonzero",stroke:"#000000","stroke-width":"0.82170224","stroke-miterlimit":"4","stroke-dasharray":"none","stroke-opacity":"1"}}),Re("ellipse",{transform:"translate(-170.14515,-0.038164)",ry:"3.880542",rx:"3.5777507",cy:"164.5713",cx:"321.42224",id:"path4565",style:{opacity:"1",fill:"#000000","fill-opacity":"1","fill-rule":"nonzero",stroke:"#000000","stroke-width":"1.00157475","stroke-miterlimit":"4","stroke-dasharray":"none","stroke-opacity":"1"}}),Re("path",{transform:"translate(-170.14515,-0.038164)",id:"path4567",d:"m 321.74355,168.0687 c -1e-5,3.3913 -3.42414,11.26702 -8.73834,11.26702 -5.3142,0 -18.59463,27.24606 -8.38477,3.759 1.35199,-3.11016 5.69513,-12.89881 10.50609,-15.15612 8.05545,-3.77965 6.61702,-3.26121 6.61702,0.1301 z",style:{opacity:"1",fill:"#000000","fill-opacity":"1","fill-rule":"nonzero",stroke:"#000000","stroke-width":"1.00157475","stroke-miterlimit":"4","stroke-dasharray":"none","stroke-opacity":"1"}}),Re("path",{transform:"translate(-170.14515,-0.038164)",id:"path4570",d:"m 325,163.45184 c 1.66722,0.62594 3.33388,1.25167 3.33438,1.56444 5e-4,0.31276 -1.66671,0.31276 -3.33438,0.31276",style:{fill:"none",stroke:"#000000","stroke-width":"1px","stroke-linecap":"butt","stroke-linejoin":"miter","stroke-opacity":"1"}}),Re("path",{transform:"translate(-170.14515,-0.038164)",id:"path4578",d:"m 314.72098,177.37003 c -0.21488,1.64138 -0.42965,3.28197 0.28484,3.96351 0.71449,0.68155 2.35396,0.39999 3.99418,0.1183",style:{fill:"none",stroke:"#000000","stroke-width":"1px","stroke-linecap":"butt","stroke-linejoin":"miter","stroke-opacity":"1"}}),Re("path",{transform:"translate(-170.14515,-0.038164)",id:"path4578-1",d:"m 316,176.45184 c -0.29612,1.41007 -0.59214,2.81967 -0.25801,3.48764 0.33413,0.66798 1.29605,0.59017 2.25801,0.51236",style:{fill:"none",stroke:"#000000","stroke-width":"1px","stroke-linecap":"butt","stroke-linejoin":"miter","stroke-opacity":"1"}}),Re("path",{transform:"translate(-170.14515,-0.038164)",id:"path4610",d:"m 318,180.45184 c 0.66667,0 1.33434,0 1.501,0.16616 0.16667,0.16617 -0.16667,0.49951 0.001,0.66667 0.16767,0.16717 0.68771,0.16717 0.89053,0.36949 0.20282,0.20233 -0.0582,0.46335 -0.39253,0.79768",style:{fill:"none",stroke:"#000000","stroke-width":"1px","stroke-linecap":"butt","stroke-linejoin":"miter","stroke-opacity":"1"}}),Re("path",{id:"path4573",d:"m 155,199.59998 34.15106,6.52318 v 11.49049 l -1.06066,13.43503 -3.88908,19.44543 -3.00521,10.42983 -4.06586,12.19759 -17.14734,-4.94975 -14.92431,-4.65869 v 0 L 155,199.59998",style:{fill:"none",stroke:"#000000","stroke-width":"1px","stroke-linecap":"butt","stroke-linejoin":"miter","stroke-opacity":"1"}}),Re("path",{id:"path4575",d:"m 172.53405,202.94118 -2.65165,33.23402 -3.53553,16.97056 -5.12652,15.73313",style:{fill:"none",stroke:"#000000","stroke-width":"1px","stroke-linecap":"butt","stroke-linejoin":"miter","stroke-opacity":"1"}}),Re("path",{id:"path4579",d:"m 187.2662,239.00256 c 0.76634,-0.82482 2.12163,-2.00333 3.50552,-2.26818 1.38389,-0.26485 2.79921,0.38383 3.2412,1.53192 0.442,1.14808 -0.0885,2.79852 -1.5624,3.24089 -1.4739,0.44236 -3.88809,-0.32312 -3.7995,0.001 0.0886,0.32427 2.68064,1.73812 4.00626,3.12221 1.32563,1.38408 1.38456,2.73956 0.79537,3.38822 -0.5892,0.64866 -1.82576,0.58977 -2.53349,0.11762 -0.70773,-0.47215 -0.88437,-1.35536 -1.59092,-2.65068 -0.70656,-1.29532 -1.94507,-3.00565 -2.47512,-4.09626 -0.53005,-1.09062 -0.35326,-1.56206 0.41308,-2.38689 z",style:{fill:"#000000","fill-opacity":"1",stroke:"#000000","stroke-width":"1px","stroke-linecap":"butt","stroke-linejoin":"miter","stroke-opacity":"1"}})])])]),Re("g",{id:"layer3"},[Re("g",{id:"text4526",style:{fill:"url(#Strips2_1)","fill-opacity":"1",stroke:"none","stroke-width":"1.23488784"},transform:"matrix(0.97168718,0,0,1.0291378,170.14515,0.038164)","aria-label":"4"},[Re("path",{id:"path4555",style:{fill:"url(#Strips2_1)","fill-opacity":"1",stroke:"#000000","stroke-width":"1.23488784","stroke-opacity":"1"},d:"M -0.46490841,256.59082 H -26.166013 v 43.5298 h -41.214384 v -43.5298 h -75.829833 l -9.95629,-15.28174 64.136994,-140.0826 h 8.914347 l 33.573515,15.8606 -48.507941,89.60655 -11.461305,19.56526 h 39.130513 l 4.399288,-43.06672 h 36.815096 v 43.06672 h 25.70110459 z"})]),Re("g",{id:"text4526-2",style:{fill:"url(#Strips2_1)","fill-opacity":"1",stroke:"none","stroke-width":"1.23488784"},transform:"matrix(0.97168718,0,0,1.0291378,377.95605,103.2934)","aria-label":"4"},[Re("path",{id:"path4558",style:{fill:"url(#Strips2_1)","fill-opacity":"1",stroke:"#000000","stroke-width":"1.23488784","stroke-opacity":"1"},d:"m 147.55592,156.33602 h -25.70111 v 43.5298 H 80.640431 v -43.5298 H 4.8105946 L -5.1456892,141.05429 58.991302,0.97168512 h 8.914347 L 101.47916,16.832277 52.971223,106.43883 41.50992,126.00409 h 39.130511 l 4.399288,-43.06672 h 36.815091 v 43.06672 h 25.70111 z"})])])],-1),Re("p",{id:"errorText",class:"text-center"},"Oh no! Qualcosa si  rotto...",-1),Re("a",{id:"errorLink",href:"/"},"Torna alla Home",-1)]))}const oxe=JC(rxe,[["render",axe],["__scopeId","data-v-d59d52b5"]]),r9=sne({history:Rte("/teachers-agenda"),routes:[{path:"/",name:"home",meta:{requiresAuth:!0},component:kV},{path:"/school/:id",meta:{requiresAuth:!0,transition:"v-slide-x-transition"},component:L0e},{path:"/lesson/:id",name:"lesson",meta:{requiresAuth:!0},component:Wbe},{path:"/recoveries",name:"recoveries",meta:{requiresAuth:!0},component:kV},{path:"/calendar",name:"calendar",meta:{requiresAuth:!0},component:bbe},{path:"/statistics",name:"statistics",meta:{requiresAuth:!0},component:ixe},{path:"/settings",name:"settings",meta:{requiresAuth:!0},component:N0e},{path:"/login",name:"login",component:n0e},{path:"/debugger",name:"debugger",meta:{requiresAuth:!0},component:Qbe},{path:"/:pathMatch(.*)*",component:oxe}]});r9.beforeEach(async t=>{if(t.name=="login"&&await vD())return{path:"/"};if(t.meta.requiresAuth&&!await vD())return{path:"/login",query:{redirect:t.fullPath}}});const lxe=()=>{window.onerror=function(e,n,i){return xl.instance.push(Hn.EXCEPTION,{error:e,url:n,line:i}),!1},window.onunhandledrejection=function(e){try{const n={message:e.reason.message,stack:e.reason.stack};xl.instance.push(Hn.PROMISE_REJECTION,n)}catch{xl.instance.push(Hn.PROMISE_REJECTION,e)}};function t(e){const n=console[e].bind(console);return function(...i){let s=Hn.INFO;e=="error"?s=Hn.ERROR:e=="warn"&&(s=Hn.WARNING),xl.instance.push(s,...Array.from(i)),n.apply(console,i)}}["log","error","warn"].forEach(e=>{console[e]=t(e)})};"true".toLowerCase()==="true"&&lxe();const{firebaseApp:uxe}=Dce(),Yc=t2(uue);Yc.config.performance=!0;Yc.use(Jz());Yc.use(r9);Yc.use(Epe);Yc.use(tte,{firebaseApp:uxe,modules:[Jee()]});Yc.use(h2,{autoClose:3e3});Yc.mount("#app");
