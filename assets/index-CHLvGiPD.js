var P9=Object.defineProperty;var C9=(t,e,n)=>e in t?P9(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var an=(t,e,n)=>C9(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(s){if(s.ep)return;s.ep=!0;const r=n(s);fetch(s.href,r)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Tk(t){const e=Object.create(null);for(const n of t.split(","))e[n]=1;return n=>n in e}const en={},Pd=[],Ra=()=>{},E9=()=>!1,Wy=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),Pk=t=>t.startsWith("onUpdate:"),ki=Object.assign,Ck=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},I9=Object.prototype.hasOwnProperty,ln=(t,e)=>I9.call(t,e),mt=Array.isArray,Cd=t=>Yy(t)==="[object Map]",SV=t=>Yy(t)==="[object Set]",St=t=>typeof t=="function",Yn=t=>typeof t=="string",Bo=t=>typeof t=="symbol",En=t=>t!==null&&typeof t=="object",kV=t=>(En(t)||St(t))&&St(t.then)&&St(t.catch),TV=Object.prototype.toString,Yy=t=>TV.call(t),D9=t=>Yy(t).slice(8,-1),PV=t=>Yy(t)==="[object Object]",Ek=t=>Yn(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,$f=Tk(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Gy=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},A9=/-(\w)/g,Fs=Gy(t=>t.replace(A9,(e,n)=>n?n.toUpperCase():"")),R9=/\B([A-Z])/g,Gl=Gy(t=>t.replace(R9,"-$1").toLowerCase()),pa=Gy(t=>t.charAt(0).toUpperCase()+t.slice(1)),n0=Gy(t=>t?`on${pa(t)}`:""),Gs=(t,e)=>!Object.is(t,e),fv=(t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},CV=(t,e,n,i=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:i,value:n})},Tx=t=>{const e=parseFloat(t);return isNaN(e)?t:e},O9=t=>{const e=Yn(t)?Number(t):NaN;return isNaN(e)?t:e};let WE;const qy=()=>WE||(WE=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Xy(t){if(mt(t)){const e={};for(let n=0;n<t.length;n++){const i=t[n],s=Yn(i)?N9(i):Xy(i);if(s)for(const r in s)e[r]=s[r]}return e}else if(Yn(t)||En(t))return t}const M9=/;(?![^(]*\))/g,V9=/:([^]+)/,L9=/\/\*[^]*?\*\//g;function N9(t){const e={};return t.replace(L9,"").split(M9).forEach(n=>{if(n){const i=n.split(V9);i.length>1&&(e[i[0].trim()]=i[1].trim())}}),e}function Ky(t){let e="";if(Yn(t))e=t;else if(mt(t))for(let n=0;n<t.length;n++){const i=Ky(t[n]);i&&(e+=i+" ")}else if(En(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}function EV(t){if(!t)return null;let{class:e,style:n}=t;return e&&!Yn(e)&&(t.class=Ky(e)),n&&(t.style=Xy(n)),t}const F9="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",B9=Tk(F9);function IV(t){return!!t||t===""}const DV=t=>!!(t&&t.__v_isRef===!0),at=t=>Yn(t)?t:t==null?"":mt(t)||En(t)&&(t.toString===TV||!St(t.toString))?DV(t)?at(t.value):JSON.stringify(t,AV,2):String(t),AV=(t,e)=>DV(e)?AV(t,e.value):Cd(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[i,s],r)=>(n[i0(i,r)+" =>"]=s,n),{})}:SV(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>i0(n))}:Bo(e)?i0(e):En(e)&&!mt(e)&&!PV(e)?String(e):e,i0=(t,e="")=>{var n;return Bo(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Ds;class RV{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Ds,!e&&Ds&&(this.index=(Ds.scopes||(Ds.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].pause();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].resume();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].resume()}}run(e){if(this._active){const n=Ds;try{return Ds=this,e()}finally{Ds=n}}}on(){Ds=this}off(){Ds=this.parent}stop(e){if(this._active){this._active=!1;let n,i;for(n=0,i=this.effects.length;n<i;n++)this.effects[n].stop();for(this.effects.length=0,n=0,i=this.cleanups.length;n<i;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,i=this.scopes.length;n<i;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0}}}function Sg(t){return new RV(t)}function OV(){return Ds}function as(t,e=!1){Ds&&Ds.cleanups.push(t)}let Tn;const s0=new WeakSet;class MV{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Ds&&Ds.active&&Ds.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,s0.has(this)&&(s0.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||LV(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,YE(this),NV(this);const e=Tn,n=Zr;Tn=this,Zr=!0;try{return this.fn()}finally{FV(this),Tn=e,Zr=n,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)Ak(e);this.deps=this.depsTail=void 0,YE(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?s0.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Px(this)&&this.run()}get dirty(){return Px(this)}}let VV=0,Uf,Hf;function LV(t,e=!1){if(t.flags|=8,e){t.next=Hf,Hf=t;return}t.next=Uf,Uf=t}function Ik(){VV++}function Dk(){if(--VV>0)return;if(Hf){let e=Hf;for(Hf=void 0;e;){const n=e.next;e.next=void 0,e.flags&=-9,e=n}}let t;for(;Uf;){let e=Uf;for(Uf=void 0;e;){const n=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(i){t||(t=i)}e=n}}if(t)throw t}function NV(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function FV(t){let e,n=t.depsTail,i=n;for(;i;){const s=i.prevDep;i.version===-1?(i===n&&(n=s),Ak(i),j9(i)):e=i,i.dep.activeLink=i.prevActiveLink,i.prevActiveLink=void 0,i=s}t.deps=e,t.depsTail=n}function Px(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(BV(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function BV(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===fm))return;t.globalVersion=fm;const e=t.dep;if(t.flags|=2,e.version>0&&!t.isSSR&&t.deps&&!Px(t)){t.flags&=-3;return}const n=Tn,i=Zr;Tn=t,Zr=!0;try{NV(t);const s=t.fn(t._value);(e.version===0||Gs(s,t._value))&&(t._value=s,e.version++)}catch(s){throw e.version++,s}finally{Tn=n,Zr=i,FV(t),t.flags&=-3}}function Ak(t,e=!1){const{dep:n,prevSub:i,nextSub:s}=t;if(i&&(i.nextSub=s,t.prevSub=void 0),s&&(s.prevSub=i,t.nextSub=void 0),n.subs===t&&(n.subs=i,!i&&n.computed)){n.computed.flags&=-5;for(let r=n.computed.deps;r;r=r.nextDep)Ak(r,!0)}!e&&!--n.sc&&n.map&&n.map.delete(n.key)}function j9(t){const{prevDep:e,nextDep:n}=t;e&&(e.nextDep=n,t.prevDep=void 0),n&&(n.prevDep=e,t.nextDep=void 0)}let Zr=!0;const jV=[];function ql(){jV.push(Zr),Zr=!1}function Xl(){const t=jV.pop();Zr=t===void 0?!0:t}function YE(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const n=Tn;Tn=void 0;try{e()}finally{Tn=n}}}let fm=0;class $9{constructor(e,n){this.sub=e,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Qy{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){if(!Tn||!Zr||Tn===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==Tn)n=this.activeLink=new $9(Tn,this),Tn.deps?(n.prevDep=Tn.depsTail,Tn.depsTail.nextDep=n,Tn.depsTail=n):Tn.deps=Tn.depsTail=n,$V(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const i=n.nextDep;i.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=i),n.prevDep=Tn.depsTail,n.nextDep=void 0,Tn.depsTail.nextDep=n,Tn.depsTail=n,Tn.deps===n&&(Tn.deps=i)}return n}trigger(e){this.version++,fm++,this.notify(e)}notify(e){Ik();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{Dk()}}}function $V(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let i=e.deps;i;i=i.nextDep)$V(i)}const n=t.dep.subs;n!==t&&(t.prevSub=n,n&&(n.nextSub=t)),t.dep.subs=t}}const Xv=new WeakMap,ju=Symbol(""),Cx=Symbol(""),mm=Symbol("");function gs(t,e,n){if(Zr&&Tn){let i=Xv.get(t);i||Xv.set(t,i=new Map);let s=i.get(n);s||(i.set(n,s=new Qy),s.map=i,s.key=n),s.track()}}function co(t,e,n,i,s,r){const a=Xv.get(t);if(!a){fm++;return}const o=l=>{l&&l.trigger()};if(Ik(),e==="clear")a.forEach(o);else{const l=mt(t),u=l&&Ek(n);if(l&&n==="length"){const d=Number(i);a.forEach((c,f)=>{(f==="length"||f===mm||!Bo(f)&&f>=d)&&o(c)})}else switch((n!==void 0||a.has(void 0))&&o(a.get(n)),u&&o(a.get(mm)),e){case"add":l?u&&o(a.get("length")):(o(a.get(ju)),Cd(t)&&o(a.get(Cx)));break;case"delete":l||(o(a.get(ju)),Cd(t)&&o(a.get(Cx)));break;case"set":Cd(t)&&o(a.get(ju));break}}Dk()}function U9(t,e){const n=Xv.get(t);return n&&n.get(e)}function Zc(t){const e=Xe(t);return e===t?e:(gs(e,"iterate",mm),Or(t)?e:e.map(ps))}function Jy(t){return gs(t=Xe(t),"iterate",mm),t}const H9={__proto__:null,[Symbol.iterator](){return r0(this,Symbol.iterator,ps)},concat(...t){return Zc(this).concat(...t.map(e=>mt(e)?Zc(e):e))},entries(){return r0(this,"entries",t=>(t[1]=ps(t[1]),t))},every(t,e){return so(this,"every",t,e,void 0,arguments)},filter(t,e){return so(this,"filter",t,e,n=>n.map(ps),arguments)},find(t,e){return so(this,"find",t,e,ps,arguments)},findIndex(t,e){return so(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return so(this,"findLast",t,e,ps,arguments)},findLastIndex(t,e){return so(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return so(this,"forEach",t,e,void 0,arguments)},includes(...t){return a0(this,"includes",t)},indexOf(...t){return a0(this,"indexOf",t)},join(t){return Zc(this).join(t)},lastIndexOf(...t){return a0(this,"lastIndexOf",t)},map(t,e){return so(this,"map",t,e,void 0,arguments)},pop(){return hf(this,"pop")},push(...t){return hf(this,"push",t)},reduce(t,...e){return GE(this,"reduce",t,e)},reduceRight(t,...e){return GE(this,"reduceRight",t,e)},shift(){return hf(this,"shift")},some(t,e){return so(this,"some",t,e,void 0,arguments)},splice(...t){return hf(this,"splice",t)},toReversed(){return Zc(this).toReversed()},toSorted(t){return Zc(this).toSorted(t)},toSpliced(...t){return Zc(this).toSpliced(...t)},unshift(...t){return hf(this,"unshift",t)},values(){return r0(this,"values",ps)}};function r0(t,e,n){const i=Jy(t),s=i[e]();return i!==t&&!Or(t)&&(s._next=s.next,s.next=()=>{const r=s._next();return r.value&&(r.value=n(r.value)),r}),s}const z9=Array.prototype;function so(t,e,n,i,s,r){const a=Jy(t),o=a!==t&&!Or(t),l=a[e];if(l!==z9[e]){const c=l.apply(t,r);return o?ps(c):c}let u=n;a!==t&&(o?u=function(c,f){return n.call(this,ps(c),f,t)}:n.length>2&&(u=function(c,f){return n.call(this,c,f,t)}));const d=l.call(a,u,i);return o&&s?s(d):d}function GE(t,e,n,i){const s=Jy(t);let r=n;return s!==t&&(Or(t)?n.length>3&&(r=function(a,o,l){return n.call(this,a,o,l,t)}):r=function(a,o,l){return n.call(this,a,ps(o),l,t)}),s[e](r,...i)}function a0(t,e,n){const i=Xe(t);gs(i,"iterate",mm);const s=i[e](...n);return(s===-1||s===!1)&&Mk(n[0])?(n[0]=Xe(n[0]),i[e](...n)):s}function hf(t,e,n=[]){ql(),Ik();const i=Xe(t)[e].apply(t,n);return Dk(),Xl(),i}const W9=Tk("__proto__,__v_isRef,__isVue"),UV=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Bo));function Y9(t){Bo(t)||(t=String(t));const e=Xe(this);return gs(e,"has",t),e.hasOwnProperty(t)}class HV{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,i){if(n==="__v_skip")return e.__v_skip;const s=this._isReadonly,r=this._isShallow;if(n==="__v_isReactive")return!s;if(n==="__v_isReadonly")return s;if(n==="__v_isShallow")return r;if(n==="__v_raw")return i===(s?r?nH:GV:r?YV:WV).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(i)?e:void 0;const a=mt(e);if(!s){let l;if(a&&(l=H9[n]))return l;if(n==="hasOwnProperty")return Y9}const o=Reflect.get(e,n,Ke(e)?e:i);return(Bo(n)?UV.has(n):W9(n))||(s||gs(e,"get",n),r)?o:Ke(o)?a&&Ek(n)?o:o.value:En(o)?s?Sh(o):mn(o):o}}class zV extends HV{constructor(e=!1){super(!1,e)}set(e,n,i,s){let r=e[n];if(!this._isShallow){const l=Ku(r);if(!Or(i)&&!Ku(i)&&(r=Xe(r),i=Xe(i)),!mt(e)&&Ke(r)&&!Ke(i))return l?!1:(r.value=i,!0)}const a=mt(e)&&Ek(n)?Number(n)<e.length:ln(e,n),o=Reflect.set(e,n,i,Ke(e)?e:s);return e===Xe(s)&&(a?Gs(i,r)&&co(e,"set",n,i):co(e,"add",n,i)),o}deleteProperty(e,n){const i=ln(e,n);e[n];const s=Reflect.deleteProperty(e,n);return s&&i&&co(e,"delete",n,void 0),s}has(e,n){const i=Reflect.has(e,n);return(!Bo(n)||!UV.has(n))&&gs(e,"has",n),i}ownKeys(e){return gs(e,"iterate",mt(e)?"length":ju),Reflect.ownKeys(e)}}class G9 extends HV{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const q9=new zV,X9=new G9,K9=new zV(!0);const Ex=t=>t,Tp=t=>Reflect.getPrototypeOf(t);function Q9(t,e,n){return function(...i){const s=this.__v_raw,r=Xe(s),a=Cd(r),o=t==="entries"||t===Symbol.iterator&&a,l=t==="keys"&&a,u=s[t](...i),d=n?Ex:e?Ix:ps;return!e&&gs(r,"iterate",l?Cx:ju),{next(){const{value:c,done:f}=u.next();return f?{value:c,done:f}:{value:o?[d(c[0]),d(c[1])]:d(c),done:f}},[Symbol.iterator](){return this}}}}function Pp(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function J9(t,e){const n={get(s){const r=this.__v_raw,a=Xe(r),o=Xe(s);t||(Gs(s,o)&&gs(a,"get",s),gs(a,"get",o));const{has:l}=Tp(a),u=e?Ex:t?Ix:ps;if(l.call(a,s))return u(r.get(s));if(l.call(a,o))return u(r.get(o));r!==a&&r.get(s)},get size(){const s=this.__v_raw;return!t&&gs(Xe(s),"iterate",ju),Reflect.get(s,"size",s)},has(s){const r=this.__v_raw,a=Xe(r),o=Xe(s);return t||(Gs(s,o)&&gs(a,"has",s),gs(a,"has",o)),s===o?r.has(s):r.has(s)||r.has(o)},forEach(s,r){const a=this,o=a.__v_raw,l=Xe(o),u=e?Ex:t?Ix:ps;return!t&&gs(l,"iterate",ju),o.forEach((d,c)=>s.call(r,u(d),u(c),a))}};return ki(n,t?{add:Pp("add"),set:Pp("set"),delete:Pp("delete"),clear:Pp("clear")}:{add(s){!e&&!Or(s)&&!Ku(s)&&(s=Xe(s));const r=Xe(this);return Tp(r).has.call(r,s)||(r.add(s),co(r,"add",s,s)),this},set(s,r){!e&&!Or(r)&&!Ku(r)&&(r=Xe(r));const a=Xe(this),{has:o,get:l}=Tp(a);let u=o.call(a,s);u||(s=Xe(s),u=o.call(a,s));const d=l.call(a,s);return a.set(s,r),u?Gs(r,d)&&co(a,"set",s,r):co(a,"add",s,r),this},delete(s){const r=Xe(this),{has:a,get:o}=Tp(r);let l=a.call(r,s);l||(s=Xe(s),l=a.call(r,s)),o&&o.call(r,s);const u=r.delete(s);return l&&co(r,"delete",s,void 0),u},clear(){const s=Xe(this),r=s.size!==0,a=s.clear();return r&&co(s,"clear",void 0,void 0),a}}),["keys","values","entries",Symbol.iterator].forEach(s=>{n[s]=Q9(s,t,e)}),n}function Rk(t,e){const n=J9(t,e);return(i,s,r)=>s==="__v_isReactive"?!t:s==="__v_isReadonly"?t:s==="__v_raw"?i:Reflect.get(ln(n,s)&&s in i?n:i,s,r)}const Z9={get:Rk(!1,!1)},eH={get:Rk(!1,!0)},tH={get:Rk(!0,!1)};const WV=new WeakMap,YV=new WeakMap,GV=new WeakMap,nH=new WeakMap;function iH(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function sH(t){return t.__v_skip||!Object.isExtensible(t)?0:iH(D9(t))}function mn(t){return Ku(t)?t:Ok(t,!1,q9,Z9,WV)}function qV(t){return Ok(t,!1,K9,eH,YV)}function Sh(t){return Ok(t,!0,X9,tH,GV)}function Ok(t,e,n,i,s){if(!En(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const r=s.get(t);if(r)return r;const a=sH(t);if(a===0)return t;const o=new Proxy(t,a===2?i:n);return s.set(t,o),o}function $u(t){return Ku(t)?$u(t.__v_raw):!!(t&&t.__v_isReactive)}function Ku(t){return!!(t&&t.__v_isReadonly)}function Or(t){return!!(t&&t.__v_isShallow)}function Mk(t){return t?!!t.__v_raw:!1}function Xe(t){const e=t&&t.__v_raw;return e?Xe(e):t}function Vk(t){return!ln(t,"__v_skip")&&Object.isExtensible(t)&&CV(t,"__v_skip",!0),t}const ps=t=>En(t)?mn(t):t,Ix=t=>En(t)?Sh(t):t;function Ke(t){return t?t.__v_isRef===!0:!1}function G(t){return XV(t,!1)}function Ve(t){return XV(t,!0)}function XV(t,e){return Ke(t)?t:new rH(t,e)}class rH{constructor(e,n){this.dep=new Qy,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?e:Xe(e),this._value=n?e:ps(e),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(e){const n=this._rawValue,i=this.__v_isShallow||Or(e)||Ku(e);e=i?e:Xe(e),Gs(e,n)&&(this._rawValue=e,this._value=i?e:ps(e),this.dep.trigger())}}function se(t){return Ke(t)?t.value:t}function Ct(t){return St(t)?t():se(t)}const aH={get:(t,e,n)=>e==="__v_raw"?t:se(Reflect.get(t,e,n)),set:(t,e,n,i)=>{const s=t[e];return Ke(s)&&!Ke(n)?(s.value=n,!0):Reflect.set(t,e,n,i)}};function KV(t){return $u(t)?t:new Proxy(t,aH)}class oH{constructor(e){this.__v_isRef=!0,this._value=void 0;const n=this.dep=new Qy,{get:i,set:s}=e(n.track.bind(n),n.trigger.bind(n));this._get=i,this._set=s}get value(){return this._value=this._get()}set value(e){this._set(e)}}function lH(t){return new oH(t)}function Kl(t){const e=mt(t)?new Array(t.length):{};for(const n in t)e[n]=QV(t,n);return e}class uH{constructor(e,n,i){this._object=e,this._key=n,this._defaultValue=i,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return U9(Xe(this._object),this._key)}}class cH{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function ge(t,e,n){return Ke(t)?t:St(t)?new cH(t):En(t)&&arguments.length>1?QV(t,e,n):G(t)}function QV(t,e,n){const i=t[e];return Ke(i)?i:new uH(t,e,n)}class dH{constructor(e,n,i){this.fn=e,this.setter=n,this._value=void 0,this.dep=new Qy(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=fm-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=i}notify(){if(this.flags|=16,!(this.flags&8)&&Tn!==this)return LV(this,!0),!0}get value(){const e=this.dep.track();return BV(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function hH(t,e,n=!1){let i,s;return St(t)?i=t:(i=t.get,s=t.set),new dH(i,s,n)}const Cp={},Kv=new WeakMap;let yu;function fH(t,e=!1,n=yu){if(n){let i=Kv.get(n);i||Kv.set(n,i=[]),i.push(t)}}function mH(t,e,n=en){const{immediate:i,deep:s,once:r,scheduler:a,augmentJob:o,call:l}=n,u=k=>s?k:Or(k)||s===!1||s===0?ho(k,1):ho(k);let d,c,f,h,p=!1,g=!1;if(Ke(t)?(c=()=>t.value,p=Or(t)):$u(t)?(c=()=>u(t),p=!0):mt(t)?(g=!0,p=t.some(k=>$u(k)||Or(k)),c=()=>t.map(k=>{if(Ke(k))return k.value;if($u(k))return u(k);if(St(k))return l?l(k,2):k()})):St(t)?e?c=l?()=>l(t,2):t:c=()=>{if(f){ql();try{f()}finally{Xl()}}const k=yu;yu=d;try{return l?l(t,3,[h]):t(h)}finally{yu=k}}:c=Ra,e&&s){const k=c,I=s===!0?1/0:s;c=()=>ho(k(),I)}const v=OV(),_=()=>{d.stop(),v&&v.active&&Ck(v.effects,d)};if(r&&e){const k=e;e=(...I)=>{k(...I),_()}}let b=g?new Array(t.length).fill(Cp):Cp;const x=k=>{if(!(!(d.flags&1)||!d.dirty&&!k))if(e){const I=d.run();if(s||p||(g?I.some((E,T)=>Gs(E,b[T])):Gs(I,b))){f&&f();const E=yu;yu=d;try{const T=[I,b===Cp?void 0:g&&b[0]===Cp?[]:b,h];l?l(e,3,T):e(...T),b=I}finally{yu=E}}}else d.run()};return o&&o(x),d=new MV(c),d.scheduler=a?()=>a(x,!1):x,h=k=>fH(k,!1,d),f=d.onStop=()=>{const k=Kv.get(d);if(k){if(l)l(k,4);else for(const I of k)I();Kv.delete(d)}},e?i?x(!0):b=d.run():a?a(x.bind(null,!0),!0):d.run(),_.pause=d.pause.bind(d),_.resume=d.resume.bind(d),_.stop=_,_}function ho(t,e=1/0,n){if(e<=0||!En(t)||t.__v_skip||(n=n||new Set,n.has(t)))return t;if(n.add(t),e--,Ke(t))ho(t.value,e,n);else if(mt(t))for(let i=0;i<t.length;i++)ho(t[i],e,n);else if(SV(t)||Cd(t))t.forEach(i=>{ho(i,e,n)});else if(PV(t)){for(const i in t)ho(t[i],e,n);for(const i of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,i)&&ho(t[i],e,n)}return t}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function kg(t,e,n,i){try{return i?t(...i):t()}catch(s){Zy(s,e,n)}}function oa(t,e,n,i){if(St(t)){const s=kg(t,e,n,i);return s&&kV(s)&&s.catch(r=>{Zy(r,e,n)}),s}if(mt(t)){const s=[];for(let r=0;r<t.length;r++)s.push(oa(t[r],e,n,i));return s}}function Zy(t,e,n,i=!0){const s=e?e.vnode:null,{errorHandler:r,throwUnhandledErrorInProduction:a}=e&&e.appContext.config||en;if(e){let o=e.parent;const l=e.proxy,u=`https://vuejs.org/error-reference/#runtime-${n}`;for(;o;){const d=o.ec;if(d){for(let c=0;c<d.length;c++)if(d[c](t,l,u)===!1)return}o=o.parent}if(r){ql(),kg(r,null,10,[t,l,u]),Xl();return}}gH(t,n,s,i,a)}function gH(t,e,n,i=!0,s=!1){if(s)throw t;console.error(t)}const Rs=[];let xa=-1;const Ed=[];let al=null,ud=0;const JV=Promise.resolve();let Qv=null;function vt(t){const e=Qv||JV;return t?e.then(this?t.bind(this):t):e}function pH(t){let e=xa+1,n=Rs.length;for(;e<n;){const i=e+n>>>1,s=Rs[i],r=gm(s);r<t||r===t&&s.flags&2?e=i+1:n=i}return e}function Lk(t){if(!(t.flags&1)){const e=gm(t),n=Rs[Rs.length-1];!n||!(t.flags&2)&&e>=gm(n)?Rs.push(t):Rs.splice(pH(e),0,t),t.flags|=1,ZV()}}function ZV(){Qv||(Qv=JV.then(tL))}function vH(t){mt(t)?Ed.push(...t):al&&t.id===-1?al.splice(ud+1,0,t):t.flags&1||(Ed.push(t),t.flags|=1),ZV()}function qE(t,e,n=xa+1){for(;n<Rs.length;n++){const i=Rs[n];if(i&&i.flags&2){if(t&&i.id!==t.uid)continue;Rs.splice(n,1),n--,i.flags&4&&(i.flags&=-2),i(),i.flags&4||(i.flags&=-2)}}}function eL(t){if(Ed.length){const e=[...new Set(Ed)].sort((n,i)=>gm(n)-gm(i));if(Ed.length=0,al){al.push(...e);return}for(al=e,ud=0;ud<al.length;ud++){const n=al[ud];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}al=null,ud=0}}const gm=t=>t.id==null?t.flags&2?-1:1/0:t.id;function tL(t){try{for(xa=0;xa<Rs.length;xa++){const e=Rs[xa];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),kg(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;xa<Rs.length;xa++){const e=Rs[xa];e&&(e.flags&=-2)}xa=-1,Rs.length=0,eL(),Qv=null,(Rs.length||Ed.length)&&tL()}}let $i=null,nL=null;function Jv(t){const e=$i;return $i=t,nL=t&&t.type.__scopeId||null,e}function M(t,e=$i,n){if(!e||t._n)return t;const i=(...s)=>{i._d&&oI(-1);const r=Jv(e);let a;try{a=t(...s)}finally{Jv(r),i._d&&oI(1)}return a};return i._n=!0,i._c=!0,i._d=!0,i}function In(t,e){if($i===null)return t;const n=sb($i),i=t.dirs||(t.dirs=[]);for(let s=0;s<e.length;s++){let[r,a,o,l=en]=e[s];r&&(St(r)&&(r={mounted:r,updated:r}),r.deep&&ho(a),i.push({dir:r,instance:n,value:a,oldValue:void 0,arg:o,modifiers:l}))}return t}function hu(t,e,n,i){const s=t.dirs,r=e&&e.dirs;for(let a=0;a<s.length;a++){const o=s[a];r&&(o.oldValue=r[a].value);let l=o.dir[i];l&&(ql(),oa(l,n,8,[t.el,o,t,e]),Xl())}}const iL=Symbol("_vte"),sL=t=>t.__isTeleport,zf=t=>t&&(t.disabled||t.disabled===""),XE=t=>t&&(t.defer||t.defer===""),KE=t=>typeof SVGElement<"u"&&t instanceof SVGElement,QE=t=>typeof MathMLElement=="function"&&t instanceof MathMLElement,Dx=(t,e)=>{const n=t&&t.to;return Yn(n)?e?e(n):null:n},rL={name:"Teleport",__isTeleport:!0,process(t,e,n,i,s,r,a,o,l,u){const{mc:d,pc:c,pbc:f,o:{insert:h,querySelector:p,createText:g,createComment:v}}=u,_=zf(e.props);let{shapeFlag:b,children:x,dynamicChildren:k}=e;if(t==null){const I=e.el=g(""),E=e.anchor=g("");h(I,n,i),h(E,n,i);const T=(w,P)=>{b&16&&(s&&s.isCE&&(s.ce._teleportTarget=w),d(x,w,P,s,r,a,o,l))},S=()=>{const w=e.target=Dx(e.props,p),P=oL(w,e,g,h);w&&(a!=="svg"&&KE(w)?a="svg":a!=="mathml"&&QE(w)&&(a="mathml"),_||(T(w,P),mv(e,!1)))};_&&(T(n,E),mv(e,!0)),XE(e.props)?Is(()=>{S(),e.el.__isMounted=!0},r):S()}else{if(XE(e.props)&&!t.el.__isMounted){Is(()=>{rL.process(t,e,n,i,s,r,a,o,l,u),delete t.el.__isMounted},r);return}e.el=t.el,e.targetStart=t.targetStart;const I=e.anchor=t.anchor,E=e.target=t.target,T=e.targetAnchor=t.targetAnchor,S=zf(t.props),w=S?n:E,P=S?I:T;if(a==="svg"||KE(E)?a="svg":(a==="mathml"||QE(E))&&(a="mathml"),k?(f(t.dynamicChildren,k,w,s,r,a,o),Hk(t,e,!0)):l||c(t,e,w,P,s,r,a,o,!1),_)S?e.props&&t.props&&e.props.to!==t.props.to&&(e.props.to=t.props.to):Ep(e,n,I,u,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const C=e.target=Dx(e.props,p);C&&Ep(e,C,null,u,0)}else S&&Ep(e,E,T,u,1);mv(e,_)}},remove(t,e,n,{um:i,o:{remove:s}},r){const{shapeFlag:a,children:o,anchor:l,targetStart:u,targetAnchor:d,target:c,props:f}=t;if(c&&(s(u),s(d)),r&&s(l),a&16){const h=r||!zf(f);for(let p=0;p<o.length;p++){const g=o[p];i(g,e,n,h,!!g.dynamicChildren)}}},move:Ep,hydrate:_H};function Ep(t,e,n,{o:{insert:i},m:s},r=2){r===0&&i(t.targetAnchor,e,n);const{el:a,anchor:o,shapeFlag:l,children:u,props:d}=t,c=r===2;if(c&&i(a,e,n),(!c||zf(d))&&l&16)for(let f=0;f<u.length;f++)s(u[f],e,n,2);c&&i(o,e,n)}function _H(t,e,n,i,s,r,{o:{nextSibling:a,parentNode:o,querySelector:l,insert:u,createText:d}},c){const f=e.target=Dx(e.props,l);if(f){const h=zf(e.props),p=f._lpa||f.firstChild;if(e.shapeFlag&16)if(h)e.anchor=c(a(t),e,o(t),n,i,s,r),e.targetStart=p,e.targetAnchor=p&&a(p);else{e.anchor=a(t);let g=p;for(;g;){if(g&&g.nodeType===8){if(g.data==="teleport start anchor")e.targetStart=g;else if(g.data==="teleport anchor"){e.targetAnchor=g,f._lpa=e.targetAnchor&&a(e.targetAnchor);break}}g=a(g)}e.targetAnchor||oL(f,e,d,u),c(p&&a(p),e,f,n,i,s,r)}mv(e,h)}return e.anchor&&a(e.anchor)}const aL=rL;function mv(t,e){const n=t.ctx;if(n&&n.ut){let i,s;for(e?(i=t.el,s=t.anchor):(i=t.targetStart,s=t.targetAnchor);i&&i!==s;)i.nodeType===1&&i.setAttribute("data-v-owner",n.uid),i=i.nextSibling;n.ut()}}function oL(t,e,n,i){const s=e.targetStart=n(""),r=e.targetAnchor=n("");return s[iL]=r,t&&(i(s,t),i(r,t)),r}const ol=Symbol("_leaveCb"),Ip=Symbol("_enterCb");function lL(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Tt(()=>{t.isMounted=!0}),Mi(()=>{t.isUnmounting=!0}),t}const Cr=[Function,Array],uL={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Cr,onEnter:Cr,onAfterEnter:Cr,onEnterCancelled:Cr,onBeforeLeave:Cr,onLeave:Cr,onAfterLeave:Cr,onLeaveCancelled:Cr,onBeforeAppear:Cr,onAppear:Cr,onAfterAppear:Cr,onAppearCancelled:Cr},cL=t=>{const e=t.subTree;return e.component?cL(e.component):e},yH={name:"BaseTransition",props:uL,setup(t,{slots:e}){const n=Cc(),i=lL();return()=>{const s=e.default&&Nk(e.default(),!0);if(!s||!s.length)return;const r=dL(s),a=Xe(t),{mode:o}=a;if(i.isLeaving)return o0(r);const l=JE(r);if(!l)return o0(r);let u=pm(l,a,i,n,c=>u=c);l.type!==bs&&Qu(l,u);let d=n.subTree&&JE(n.subTree);if(d&&d.type!==bs&&!ku(l,d)&&cL(n).type!==bs){let c=pm(d,a,i,n);if(Qu(d,c),o==="out-in"&&l.type!==bs)return i.isLeaving=!0,c.afterLeave=()=>{i.isLeaving=!1,n.job.flags&8||n.update(),delete c.afterLeave,d=void 0},o0(r);o==="in-out"&&l.type!==bs?c.delayLeave=(f,h,p)=>{const g=hL(i,d);g[String(d.key)]=d,f[ol]=()=>{h(),f[ol]=void 0,delete u.delayedLeave,d=void 0},u.delayedLeave=()=>{p(),delete u.delayedLeave,d=void 0}}:d=void 0}else d&&(d=void 0);return r}}};function dL(t){let e=t[0];if(t.length>1){for(const n of t)if(n.type!==bs){e=n;break}}return e}const bH=yH;function hL(t,e){const{leavingVNodes:n}=t;let i=n.get(e.type);return i||(i=Object.create(null),n.set(e.type,i)),i}function pm(t,e,n,i,s){const{appear:r,mode:a,persisted:o=!1,onBeforeEnter:l,onEnter:u,onAfterEnter:d,onEnterCancelled:c,onBeforeLeave:f,onLeave:h,onAfterLeave:p,onLeaveCancelled:g,onBeforeAppear:v,onAppear:_,onAfterAppear:b,onAppearCancelled:x}=e,k=String(t.key),I=hL(n,t),E=(w,P)=>{w&&oa(w,i,9,P)},T=(w,P)=>{const C=P[1];E(w,P),mt(w)?w.every(D=>D.length<=1)&&C():w.length<=1&&C()},S={mode:a,persisted:o,beforeEnter(w){let P=l;if(!n.isMounted)if(r)P=v||l;else return;w[ol]&&w[ol](!0);const C=I[k];C&&ku(t,C)&&C.el[ol]&&C.el[ol](),E(P,[w])},enter(w){let P=u,C=d,D=c;if(!n.isMounted)if(r)P=_||u,C=b||d,D=x||c;else return;let A=!1;const N=w[Ip]=B=>{A||(A=!0,B?E(D,[w]):E(C,[w]),S.delayedLeave&&S.delayedLeave(),w[Ip]=void 0)};P?T(P,[w,N]):N()},leave(w,P){const C=String(t.key);if(w[Ip]&&w[Ip](!0),n.isUnmounting)return P();E(f,[w]);let D=!1;const A=w[ol]=N=>{D||(D=!0,P(),N?E(g,[w]):E(p,[w]),w[ol]=void 0,I[C]===t&&delete I[C])};I[C]=t,h?T(h,[w,A]):A()},clone(w){const P=pm(w,e,n,i,s);return s&&s(P),P}};return S}function o0(t){if(eb(t))return t=$a(t),t.children=null,t}function JE(t){if(!eb(t))return sL(t.type)&&t.children?dL(t.children):t;const{shapeFlag:e,children:n}=t;if(n){if(e&16)return n[0];if(e&32&&St(n.default))return n.default()}}function Qu(t,e){t.shapeFlag&6&&t.component?(t.transition=e,Qu(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function Nk(t,e=!1,n){let i=[],s=0;for(let r=0;r<t.length;r++){let a=t[r];const o=n==null?a.key:String(n)+String(a.key!=null?a.key:r);a.type===Ee?(a.patchFlag&128&&s++,i=i.concat(Nk(a.children,e,o))):(e||a.type!==bs)&&i.push(o!=null?$a(a,{key:o}):a)}if(s>1)for(let r=0;r<i.length;r++)i[r].patchFlag=-2;return i}/*! #__NO_SIDE_EFFECTS__ */function kt(t,e){return St(t)?ki({name:t.name},e,{setup:t}):t}function fL(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function wH(t){const e=Cc(),n=Ve(null);if(e){const s=e.refs===en?e.refs={}:e.refs;Object.defineProperty(s,t,{enumerable:!0,get:()=>n.value,set:r=>n.value=r})}return n}function Zv(t,e,n,i,s=!1){if(mt(t)){t.forEach((p,g)=>Zv(p,e&&(mt(e)?e[g]:e),n,i,s));return}if(Id(i)&&!s){i.shapeFlag&512&&i.type.__asyncResolved&&i.component.subTree.component&&Zv(t,e,n,i.component.subTree);return}const r=i.shapeFlag&4?sb(i.component):i.el,a=s?null:r,{i:o,r:l}=t,u=e&&e.r,d=o.refs===en?o.refs={}:o.refs,c=o.setupState,f=Xe(c),h=c===en?()=>!1:p=>ln(f,p);if(u!=null&&u!==l&&(Yn(u)?(d[u]=null,h(u)&&(c[u]=null)):Ke(u)&&(u.value=null)),St(l))kg(l,o,12,[a,d]);else{const p=Yn(l),g=Ke(l);if(p||g){const v=()=>{if(t.f){const _=p?h(l)?c[l]:d[l]:l.value;s?mt(_)&&Ck(_,r):mt(_)?_.includes(r)||_.push(r):p?(d[l]=[r],h(l)&&(c[l]=d[l])):(l.value=[r],t.k&&(d[t.k]=l.value))}else p?(d[l]=a,h(l)&&(c[l]=a)):g&&(l.value=a,t.k&&(d[t.k]=a))};a?(v.id=-1,Is(v,n)):v()}}}qy().requestIdleCallback;qy().cancelIdleCallback;const Id=t=>!!t.type.__asyncLoader,eb=t=>t.type.__isKeepAlive;function mL(t,e){gL(t,"a",e)}function Fk(t,e){gL(t,"da",e)}function gL(t,e,n=Zi){const i=t.__wdc||(t.__wdc=()=>{let s=n;for(;s;){if(s.isDeactivated)return;s=s.parent}return t()});if(tb(e,i,n),n){let s=n.parent;for(;s&&s.parent;)eb(s.parent.vnode)&&xH(i,e,n,s),s=s.parent}}function xH(t,e,n,i){const s=tb(e,t,i,!0);Us(()=>{Ck(i[e],s)},n)}function tb(t,e,n=Zi,i=!1){if(n){const s=n[t]||(n[t]=[]),r=e.__weh||(e.__weh=(...a)=>{ql();const o=Pg(n),l=oa(e,n,t,a);return o(),Xl(),l});return i?s.unshift(r):s.push(r),r}}const jo=t=>(e,n=Zi)=>{(!_m||t==="sp")&&tb(t,(...i)=>e(...i),n)},kh=jo("bm"),Tt=jo("m"),pL=jo("bu"),Bk=jo("u"),Mi=jo("bum"),Us=jo("um"),vL=jo("sp"),SH=jo("rtg"),kH=jo("rtc");function TH(t,e=Zi){tb("ec",t,e)}const jk="components",PH="directives";function j(t,e){return $k(jk,t,!0,e)||t}const _L=Symbol.for("v-ndc");function yL(t){return Yn(t)?$k(jk,t,!1)||t:t||_L}function nr(t){return $k(PH,t)}function $k(t,e,n=!0,i=!1){const s=$i||Zi;if(s){const r=s.type;if(t===jk){const o=dz(r,!1);if(o&&(o===e||o===Fs(e)||o===pa(Fs(e))))return r}const a=ZE(s[t]||r[t],e)||ZE(s.appContext[t],e);return!a&&i?r:a}}function ZE(t,e){return t&&(t[e]||t[Fs(e)]||t[pa(Fs(e))])}function xi(t,e,n,i){let s;const r=n,a=mt(t);if(a||Yn(t)){const o=a&&$u(t);let l=!1;o&&(l=!Or(t),t=Jy(t)),s=new Array(t.length);for(let u=0,d=t.length;u<d;u++)s[u]=e(l?ps(t[u]):t[u],u,void 0,r)}else if(typeof t=="number"){s=new Array(t);for(let o=0;o<t;o++)s[o]=e(o+1,o,void 0,r)}else if(En(t))if(t[Symbol.iterator])s=Array.from(t,(o,l)=>e(o,l,void 0,r));else{const o=Object.keys(t);s=new Array(o.length);for(let l=0,u=o.length;l<u;l++){const d=o[l];s[l]=e(t[d],d,l,r)}}else s=[];return s}function bL(t,e){for(let n=0;n<e.length;n++){const i=e[n];if(mt(i))for(let s=0;s<i.length;s++)t[i[s].name]=i[s].fn;else i&&(t[i.name]=i.key?(...s)=>{const r=i.fn(...s);return r&&(r.key=i.key),r}:i.fn)}return t}function CH(t,e,n={},i,s){if($i.ce||$i.parent&&Id($i.parent)&&$i.parent.ce)return n.name=e,be(),De(Ee,null,[m("slot",n,i)],64);let r=t[e];r&&r._c&&(r._d=!1),be();const a=r&&wL(r(n)),o=n.key||a&&a.key,l=De(Ee,{key:(o&&!Bo(o)?o:`_${e}`)+""},a||[],a&&t._===1?64:-2);return l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),r&&r._c&&(r._d=!0),l}function wL(t){return t.some(e=>Rl(e)?!(e.type===bs||e.type===Ee&&!wL(e.children)):!0)?t:null}const Ax=t=>t?$L(t)?sb(t):Ax(t.parent):null,Wf=ki(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Ax(t.parent),$root:t=>Ax(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>SL(t),$forceUpdate:t=>t.f||(t.f=()=>{Lk(t.update)}),$nextTick:t=>t.n||(t.n=vt.bind(t.proxy)),$watch:t=>XH.bind(t)}),l0=(t,e)=>t!==en&&!t.__isScriptSetup&&ln(t,e),EH={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:i,data:s,props:r,accessCache:a,type:o,appContext:l}=t;let u;if(e[0]!=="$"){const h=a[e];if(h!==void 0)switch(h){case 1:return i[e];case 2:return s[e];case 4:return n[e];case 3:return r[e]}else{if(l0(i,e))return a[e]=1,i[e];if(s!==en&&ln(s,e))return a[e]=2,s[e];if((u=t.propsOptions[0])&&ln(u,e))return a[e]=3,r[e];if(n!==en&&ln(n,e))return a[e]=4,n[e];Rx&&(a[e]=0)}}const d=Wf[e];let c,f;if(d)return e==="$attrs"&&gs(t.attrs,"get",""),d(t);if((c=o.__cssModules)&&(c=c[e]))return c;if(n!==en&&ln(n,e))return a[e]=4,n[e];if(f=l.config.globalProperties,ln(f,e))return f[e]},set({_:t},e,n){const{data:i,setupState:s,ctx:r}=t;return l0(s,e)?(s[e]=n,!0):i!==en&&ln(i,e)?(i[e]=n,!0):ln(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(r[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:i,appContext:s,propsOptions:r}},a){let o;return!!n[a]||t!==en&&ln(t,a)||l0(e,a)||(o=r[0])&&ln(o,a)||ln(i,a)||ln(Wf,a)||ln(s.config.globalProperties,a)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:ln(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function e_(t){return mt(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}function Dl(t,e){return!t||!e?t||e:mt(t)&&mt(e)?t.concat(e):ki({},e_(t),e_(e))}let Rx=!0;function IH(t){const e=SL(t),n=t.proxy,i=t.ctx;Rx=!1,e.beforeCreate&&eI(e.beforeCreate,t,"bc");const{data:s,computed:r,methods:a,watch:o,provide:l,inject:u,created:d,beforeMount:c,mounted:f,beforeUpdate:h,updated:p,activated:g,deactivated:v,beforeDestroy:_,beforeUnmount:b,destroyed:x,unmounted:k,render:I,renderTracked:E,renderTriggered:T,errorCaptured:S,serverPrefetch:w,expose:P,inheritAttrs:C,components:D,directives:A,filters:N}=e;if(u&&DH(u,i,null),a)for(const q in a){const W=a[q];St(W)&&(i[q]=W.bind(n))}if(s){const q=s.call(n,n);En(q)&&(t.data=mn(q))}if(Rx=!0,r)for(const q in r){const W=r[q],K=St(W)?W.bind(n,n):St(W.get)?W.get.bind(n,n):Ra,Y=!St(W)&&St(W.set)?W.set.bind(n):Ra,Z=O({get:K,set:Y});Object.defineProperty(i,q,{enumerable:!0,configurable:!0,get:()=>Z.value,set:ee=>Z.value=ee})}if(o)for(const q in o)xL(o[q],i,n,q);if(l){const q=St(l)?l.call(n):l;Reflect.ownKeys(q).forEach(W=>{Jt(W,q[W])})}d&&eI(d,t,"c");function z(q,W){mt(W)?W.forEach(K=>q(K.bind(n))):W&&q(W.bind(n))}if(z(kh,c),z(Tt,f),z(pL,h),z(Bk,p),z(mL,g),z(Fk,v),z(TH,S),z(kH,E),z(SH,T),z(Mi,b),z(Us,k),z(vL,w),mt(P))if(P.length){const q=t.exposed||(t.exposed={});P.forEach(W=>{Object.defineProperty(q,W,{get:()=>n[W],set:K=>n[W]=K})})}else t.exposed||(t.exposed={});I&&t.render===Ra&&(t.render=I),C!=null&&(t.inheritAttrs=C),D&&(t.components=D),A&&(t.directives=A),w&&fL(t)}function DH(t,e,n=Ra){mt(t)&&(t=Ox(t));for(const i in t){const s=t[i];let r;En(s)?"default"in s?r=gt(s.from||i,s.default,!0):r=gt(s.from||i):r=gt(s),Ke(r)?Object.defineProperty(e,i,{enumerable:!0,configurable:!0,get:()=>r.value,set:a=>r.value=a}):e[i]=r}}function eI(t,e,n){oa(mt(t)?t.map(i=>i.bind(e.proxy)):t.bind(e.proxy),e,n)}function xL(t,e,n,i){let s=i.includes(".")?VL(n,i):()=>n[i];if(Yn(t)){const r=e[t];St(r)&&we(s,r)}else if(St(t))we(s,t.bind(n));else if(En(t))if(mt(t))t.forEach(r=>xL(r,e,n,i));else{const r=St(t.handler)?t.handler.bind(n):e[t.handler];St(r)&&we(s,r,t)}}function SL(t){const e=t.type,{mixins:n,extends:i}=e,{mixins:s,optionsCache:r,config:{optionMergeStrategies:a}}=t.appContext,o=r.get(e);let l;return o?l=o:!s.length&&!n&&!i?l=e:(l={},s.length&&s.forEach(u=>t_(l,u,a,!0)),t_(l,e,a)),En(e)&&r.set(e,l),l}function t_(t,e,n,i=!1){const{mixins:s,extends:r}=e;r&&t_(t,r,n,!0),s&&s.forEach(a=>t_(t,a,n,!0));for(const a in e)if(!(i&&a==="expose")){const o=AH[a]||n&&n[a];t[a]=o?o(t[a],e[a]):e[a]}return t}const AH={data:tI,props:nI,emits:nI,methods:Tf,computed:Tf,beforeCreate:Es,created:Es,beforeMount:Es,mounted:Es,beforeUpdate:Es,updated:Es,beforeDestroy:Es,beforeUnmount:Es,destroyed:Es,unmounted:Es,activated:Es,deactivated:Es,errorCaptured:Es,serverPrefetch:Es,components:Tf,directives:Tf,watch:OH,provide:tI,inject:RH};function tI(t,e){return e?t?function(){return ki(St(t)?t.call(this,this):t,St(e)?e.call(this,this):e)}:e:t}function RH(t,e){return Tf(Ox(t),Ox(e))}function Ox(t){if(mt(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function Es(t,e){return t?[...new Set([].concat(t,e))]:e}function Tf(t,e){return t?ki(Object.create(null),t,e):e}function nI(t,e){return t?mt(t)&&mt(e)?[...new Set([...t,...e])]:ki(Object.create(null),e_(t),e_(e??{})):e}function OH(t,e){if(!t)return e;if(!e)return t;const n=ki(Object.create(null),t);for(const i in e)n[i]=Es(t[i],e[i]);return n}function kL(){return{app:null,config:{isNativeTag:E9,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let MH=0;function VH(t,e){return function(i,s=null){St(i)||(i=ki({},i)),s!=null&&!En(s)&&(s=null);const r=kL(),a=new WeakSet,o=[];let l=!1;const u=r.app={_uid:MH++,_component:i,_props:s,_container:null,_context:r,_instance:null,version:fz,get config(){return r.config},set config(d){},use(d,...c){return a.has(d)||(d&&St(d.install)?(a.add(d),d.install(u,...c)):St(d)&&(a.add(d),d(u,...c))),u},mixin(d){return r.mixins.includes(d)||r.mixins.push(d),u},component(d,c){return c?(r.components[d]=c,u):r.components[d]},directive(d,c){return c?(r.directives[d]=c,u):r.directives[d]},mount(d,c,f){if(!l){const h=u._ceVNode||m(i,s);return h.appContext=r,f===!0?f="svg":f===!1&&(f=void 0),t(h,d,f),l=!0,u._container=d,d.__vue_app__=u,sb(h.component)}},onUnmount(d){o.push(d)},unmount(){l&&(oa(o,u._instance,16),t(null,u._container),delete u._container.__vue_app__)},provide(d,c){return r.provides[d]=c,u},runWithContext(d){const c=Dd;Dd=u;try{return d()}finally{Dd=c}}};return u}}let Dd=null;function Jt(t,e){if(Zi){let n=Zi.provides;const i=Zi.parent&&Zi.parent.provides;i===n&&(n=Zi.provides=Object.create(i)),n[t]=e}}function gt(t,e,n=!1){const i=Zi||$i;if(i||Dd){const s=Dd?Dd._context.provides:i?i.parent==null?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides:void 0;if(s&&t in s)return s[t];if(arguments.length>1)return n&&St(e)?e.call(i&&i.proxy):e}}const TL={},PL=()=>Object.create(TL),CL=t=>Object.getPrototypeOf(t)===TL;function LH(t,e,n,i=!1){const s={},r=PL();t.propsDefaults=Object.create(null),EL(t,e,s,r);for(const a in t.propsOptions[0])a in s||(s[a]=void 0);n?t.props=i?s:qV(s):t.type.props?t.props=s:t.props=r,t.attrs=r}function NH(t,e,n,i){const{props:s,attrs:r,vnode:{patchFlag:a}}=t,o=Xe(s),[l]=t.propsOptions;let u=!1;if((i||a>0)&&!(a&16)){if(a&8){const d=t.vnode.dynamicProps;for(let c=0;c<d.length;c++){let f=d[c];if(ib(t.emitsOptions,f))continue;const h=e[f];if(l)if(ln(r,f))h!==r[f]&&(r[f]=h,u=!0);else{const p=Fs(f);s[p]=Mx(l,o,p,h,t,!1)}else h!==r[f]&&(r[f]=h,u=!0)}}}else{EL(t,e,s,r)&&(u=!0);let d;for(const c in o)(!e||!ln(e,c)&&((d=Gl(c))===c||!ln(e,d)))&&(l?n&&(n[c]!==void 0||n[d]!==void 0)&&(s[c]=Mx(l,o,c,void 0,t,!0)):delete s[c]);if(r!==o)for(const c in r)(!e||!ln(e,c))&&(delete r[c],u=!0)}u&&co(t.attrs,"set","")}function EL(t,e,n,i){const[s,r]=t.propsOptions;let a=!1,o;if(e)for(let l in e){if($f(l))continue;const u=e[l];let d;s&&ln(s,d=Fs(l))?!r||!r.includes(d)?n[d]=u:(o||(o={}))[d]=u:ib(t.emitsOptions,l)||(!(l in i)||u!==i[l])&&(i[l]=u,a=!0)}if(r){const l=Xe(n),u=o||en;for(let d=0;d<r.length;d++){const c=r[d];n[c]=Mx(s,l,c,u[c],t,!ln(u,c))}}return a}function Mx(t,e,n,i,s,r){const a=t[n];if(a!=null){const o=ln(a,"default");if(o&&i===void 0){const l=a.default;if(a.type!==Function&&!a.skipFactory&&St(l)){const{propsDefaults:u}=s;if(n in u)i=u[n];else{const d=Pg(s);i=u[n]=l.call(null,e),d()}}else i=l;s.ce&&s.ce._setProp(n,i)}a[0]&&(r&&!o?i=!1:a[1]&&(i===""||i===Gl(n))&&(i=!0))}return i}const FH=new WeakMap;function IL(t,e,n=!1){const i=n?FH:e.propsCache,s=i.get(t);if(s)return s;const r=t.props,a={},o=[];let l=!1;if(!St(t)){const d=c=>{l=!0;const[f,h]=IL(c,e,!0);ki(a,f),h&&o.push(...h)};!n&&e.mixins.length&&e.mixins.forEach(d),t.extends&&d(t.extends),t.mixins&&t.mixins.forEach(d)}if(!r&&!l)return En(t)&&i.set(t,Pd),Pd;if(mt(r))for(let d=0;d<r.length;d++){const c=Fs(r[d]);iI(c)&&(a[c]=en)}else if(r)for(const d in r){const c=Fs(d);if(iI(c)){const f=r[d],h=a[c]=mt(f)||St(f)?{type:f}:ki({},f),p=h.type;let g=!1,v=!0;if(mt(p))for(let _=0;_<p.length;++_){const b=p[_],x=St(b)&&b.name;if(x==="Boolean"){g=!0;break}else x==="String"&&(v=!1)}else g=St(p)&&p.name==="Boolean";h[0]=g,h[1]=v,(g||ln(h,"default"))&&o.push(c)}}const u=[a,o];return En(t)&&i.set(t,u),u}function iI(t){return t[0]!=="$"&&!$f(t)}const DL=t=>t[0]==="_"||t==="$stable",Uk=t=>mt(t)?t.map(ka):[ka(t)],BH=(t,e,n)=>{if(e._n)return e;const i=M((...s)=>Uk(e(...s)),n);return i._c=!1,i},AL=(t,e,n)=>{const i=t._ctx;for(const s in t){if(DL(s))continue;const r=t[s];if(St(r))e[s]=BH(s,r,i);else if(r!=null){const a=Uk(r);e[s]=()=>a}}},RL=(t,e)=>{const n=Uk(e);t.slots.default=()=>n},OL=(t,e,n)=>{for(const i in e)(n||i!=="_")&&(t[i]=e[i])},jH=(t,e,n)=>{const i=t.slots=PL();if(t.vnode.shapeFlag&32){const s=e._;s?(OL(i,e,n),n&&CV(i,"_",s,!0)):AL(e,i)}else e&&RL(t,e)},$H=(t,e,n)=>{const{vnode:i,slots:s}=t;let r=!0,a=en;if(i.shapeFlag&32){const o=e._;o?n&&o===1?r=!1:OL(s,e,n):(r=!e.$stable,AL(e,s)),a=e}else e&&(RL(t,e),a={default:1});if(r)for(const o in s)!DL(o)&&a[o]==null&&delete s[o]},Is=tz;function UH(t){return HH(t)}function HH(t,e){const n=qy();n.__VUE__=!0;const{insert:i,remove:s,patchProp:r,createElement:a,createText:o,createComment:l,setText:u,setElementText:d,parentNode:c,nextSibling:f,setScopeId:h=Ra,insertStaticContent:p}=t,g=(F,L,$,ne=null,ue=null,ie=null,Te=void 0,Ae=null,Se=!!L.dynamicChildren)=>{if(F===L)return;F&&!ku(F,L)&&(ne=U(F),ee(F,ue,ie,!0),F=null),L.patchFlag===-2&&(Se=!1,L.dynamicChildren=null);const{type:Ce,ref:$e,shapeFlag:Ne}=L;switch(Ce){case Tg:v(F,L,$,ne);break;case bs:_(F,L,$,ne);break;case c0:F==null&&b(L,$,ne,Te);break;case Ee:D(F,L,$,ne,ue,ie,Te,Ae,Se);break;default:Ne&1?I(F,L,$,ne,ue,ie,Te,Ae,Se):Ne&6?A(F,L,$,ne,ue,ie,Te,Ae,Se):(Ne&64||Ne&128)&&Ce.process(F,L,$,ne,ue,ie,Te,Ae,Se,pe)}$e!=null&&ue&&Zv($e,F&&F.ref,ie,L||F,!L)},v=(F,L,$,ne)=>{if(F==null)i(L.el=o(L.children),$,ne);else{const ue=L.el=F.el;L.children!==F.children&&u(ue,L.children)}},_=(F,L,$,ne)=>{F==null?i(L.el=l(L.children||""),$,ne):L.el=F.el},b=(F,L,$,ne)=>{[F.el,F.anchor]=p(F.children,L,$,ne,F.el,F.anchor)},x=({el:F,anchor:L},$,ne)=>{let ue;for(;F&&F!==L;)ue=f(F),i(F,$,ne),F=ue;i(L,$,ne)},k=({el:F,anchor:L})=>{let $;for(;F&&F!==L;)$=f(F),s(F),F=$;s(L)},I=(F,L,$,ne,ue,ie,Te,Ae,Se)=>{L.type==="svg"?Te="svg":L.type==="math"&&(Te="mathml"),F==null?E(L,$,ne,ue,ie,Te,Ae,Se):w(F,L,ue,ie,Te,Ae,Se)},E=(F,L,$,ne,ue,ie,Te,Ae)=>{let Se,Ce;const{props:$e,shapeFlag:Ne,transition:We,dirs:it}=F;if(Se=F.el=a(F.type,ie,$e&&$e.is,$e),Ne&8?d(Se,F.children):Ne&16&&S(F.children,Se,null,ne,ue,u0(F,ie),Te,Ae),it&&hu(F,null,ne,"created"),T(Se,F,F.scopeId,Te,ne),$e){for(const Ye in $e)Ye!=="value"&&!$f(Ye)&&r(Se,Ye,null,$e[Ye],ie,ne);"value"in $e&&r(Se,"value",null,$e.value,ie),(Ce=$e.onVnodeBeforeMount)&&ya(Ce,ne,F)}it&&hu(F,null,ne,"beforeMount");const et=zH(ue,We);et&&We.beforeEnter(Se),i(Se,L,$),((Ce=$e&&$e.onVnodeMounted)||et||it)&&Is(()=>{Ce&&ya(Ce,ne,F),et&&We.enter(Se),it&&hu(F,null,ne,"mounted")},ue)},T=(F,L,$,ne,ue)=>{if($&&h(F,$),ne)for(let ie=0;ie<ne.length;ie++)h(F,ne[ie]);if(ue){let ie=ue.subTree;if(L===ie||FL(ie.type)&&(ie.ssContent===L||ie.ssFallback===L)){const Te=ue.vnode;T(F,Te,Te.scopeId,Te.slotScopeIds,ue.parent)}}},S=(F,L,$,ne,ue,ie,Te,Ae,Se=0)=>{for(let Ce=Se;Ce<F.length;Ce++){const $e=F[Ce]=Ae?ll(F[Ce]):ka(F[Ce]);g(null,$e,L,$,ne,ue,ie,Te,Ae)}},w=(F,L,$,ne,ue,ie,Te)=>{const Ae=L.el=F.el;let{patchFlag:Se,dynamicChildren:Ce,dirs:$e}=L;Se|=F.patchFlag&16;const Ne=F.props||en,We=L.props||en;let it;if($&&fu($,!1),(it=We.onVnodeBeforeUpdate)&&ya(it,$,L,F),$e&&hu(L,F,$,"beforeUpdate"),$&&fu($,!0),(Ne.innerHTML&&We.innerHTML==null||Ne.textContent&&We.textContent==null)&&d(Ae,""),Ce?P(F.dynamicChildren,Ce,Ae,$,ne,u0(L,ue),ie):Te||W(F,L,Ae,null,$,ne,u0(L,ue),ie,!1),Se>0){if(Se&16)C(Ae,Ne,We,$,ue);else if(Se&2&&Ne.class!==We.class&&r(Ae,"class",null,We.class,ue),Se&4&&r(Ae,"style",Ne.style,We.style,ue),Se&8){const et=L.dynamicProps;for(let Ye=0;Ye<et.length;Ye++){const Dt=et[Ye],Qt=Ne[Dt],ei=We[Dt];(ei!==Qt||Dt==="value")&&r(Ae,Dt,Qt,ei,ue,$)}}Se&1&&F.children!==L.children&&d(Ae,L.children)}else!Te&&Ce==null&&C(Ae,Ne,We,$,ue);((it=We.onVnodeUpdated)||$e)&&Is(()=>{it&&ya(it,$,L,F),$e&&hu(L,F,$,"updated")},ne)},P=(F,L,$,ne,ue,ie,Te)=>{for(let Ae=0;Ae<L.length;Ae++){const Se=F[Ae],Ce=L[Ae],$e=Se.el&&(Se.type===Ee||!ku(Se,Ce)||Se.shapeFlag&70)?c(Se.el):$;g(Se,Ce,$e,null,ne,ue,ie,Te,!0)}},C=(F,L,$,ne,ue)=>{if(L!==$){if(L!==en)for(const ie in L)!$f(ie)&&!(ie in $)&&r(F,ie,L[ie],null,ue,ne);for(const ie in $){if($f(ie))continue;const Te=$[ie],Ae=L[ie];Te!==Ae&&ie!=="value"&&r(F,ie,Ae,Te,ue,ne)}"value"in $&&r(F,"value",L.value,$.value,ue)}},D=(F,L,$,ne,ue,ie,Te,Ae,Se)=>{const Ce=L.el=F?F.el:o(""),$e=L.anchor=F?F.anchor:o("");let{patchFlag:Ne,dynamicChildren:We,slotScopeIds:it}=L;it&&(Ae=Ae?Ae.concat(it):it),F==null?(i(Ce,$,ne),i($e,$,ne),S(L.children||[],$,$e,ue,ie,Te,Ae,Se)):Ne>0&&Ne&64&&We&&F.dynamicChildren?(P(F.dynamicChildren,We,$,ue,ie,Te,Ae),(L.key!=null||ue&&L===ue.subTree)&&Hk(F,L,!0)):W(F,L,$,$e,ue,ie,Te,Ae,Se)},A=(F,L,$,ne,ue,ie,Te,Ae,Se)=>{L.slotScopeIds=Ae,F==null?L.shapeFlag&512?ue.ctx.activate(L,$,ne,Te,Se):N(L,$,ne,ue,ie,Te,Se):B(F,L,Se)},N=(F,L,$,ne,ue,ie,Te)=>{const Ae=F.component=az(F,ne,ue);if(eb(F)&&(Ae.ctx.renderer=pe),oz(Ae,!1,Te),Ae.asyncDep){if(ue&&ue.registerDep(Ae,z,Te),!F.el){const Se=Ae.subTree=m(bs);_(null,Se,L,$)}}else z(Ae,F,L,$,ue,ie,Te)},B=(F,L,$)=>{const ne=L.component=F.component;if(ZH(F,L,$))if(ne.asyncDep&&!ne.asyncResolved){q(ne,L,$);return}else ne.next=L,ne.update();else L.el=F.el,ne.vnode=L},z=(F,L,$,ne,ue,ie,Te)=>{const Ae=()=>{if(F.isMounted){let{next:Ne,bu:We,u:it,parent:et,vnode:Ye}=F;{const fe=ML(F);if(fe){Ne&&(Ne.el=Ye.el,q(F,Ne,Te)),fe.asyncDep.then(()=>{F.isUnmounted||Ae()});return}}let Dt=Ne,Qt;fu(F,!1),Ne?(Ne.el=Ye.el,q(F,Ne,Te)):Ne=Ye,We&&fv(We),(Qt=Ne.props&&Ne.props.onVnodeBeforeUpdate)&&ya(Qt,et,Ne,Ye),fu(F,!0);const ei=rI(F),ce=F.subTree;F.subTree=ei,g(ce,ei,c(ce.el),U(ce),F,ue,ie),Ne.el=ei.el,Dt===null&&ez(F,ei.el),it&&Is(it,ue),(Qt=Ne.props&&Ne.props.onVnodeUpdated)&&Is(()=>ya(Qt,et,Ne,Ye),ue)}else{let Ne;const{el:We,props:it}=L,{bm:et,m:Ye,parent:Dt,root:Qt,type:ei}=F,ce=Id(L);fu(F,!1),et&&fv(et),!ce&&(Ne=it&&it.onVnodeBeforeMount)&&ya(Ne,Dt,L),fu(F,!0);{Qt.ce&&Qt.ce._injectChildStyle(ei);const fe=F.subTree=rI(F);g(null,fe,$,ne,F,ue,ie),L.el=fe.el}if(Ye&&Is(Ye,ue),!ce&&(Ne=it&&it.onVnodeMounted)){const fe=L;Is(()=>ya(Ne,Dt,fe),ue)}(L.shapeFlag&256||Dt&&Id(Dt.vnode)&&Dt.vnode.shapeFlag&256)&&F.a&&Is(F.a,ue),F.isMounted=!0,L=$=ne=null}};F.scope.on();const Se=F.effect=new MV(Ae);F.scope.off();const Ce=F.update=Se.run.bind(Se),$e=F.job=Se.runIfDirty.bind(Se);$e.i=F,$e.id=F.uid,Se.scheduler=()=>Lk($e),fu(F,!0),Ce()},q=(F,L,$)=>{L.component=F;const ne=F.vnode.props;F.vnode=L,F.next=null,NH(F,L.props,ne,$),$H(F,L.children,$),ql(),qE(F),Xl()},W=(F,L,$,ne,ue,ie,Te,Ae,Se=!1)=>{const Ce=F&&F.children,$e=F?F.shapeFlag:0,Ne=L.children,{patchFlag:We,shapeFlag:it}=L;if(We>0){if(We&128){Y(Ce,Ne,$,ne,ue,ie,Te,Ae,Se);return}else if(We&256){K(Ce,Ne,$,ne,ue,ie,Te,Ae,Se);return}}it&8?($e&16&&re(Ce,ue,ie),Ne!==Ce&&d($,Ne)):$e&16?it&16?Y(Ce,Ne,$,ne,ue,ie,Te,Ae,Se):re(Ce,ue,ie,!0):($e&8&&d($,""),it&16&&S(Ne,$,ne,ue,ie,Te,Ae,Se))},K=(F,L,$,ne,ue,ie,Te,Ae,Se)=>{F=F||Pd,L=L||Pd;const Ce=F.length,$e=L.length,Ne=Math.min(Ce,$e);let We;for(We=0;We<Ne;We++){const it=L[We]=Se?ll(L[We]):ka(L[We]);g(F[We],it,$,null,ue,ie,Te,Ae,Se)}Ce>$e?re(F,ue,ie,!0,!1,Ne):S(L,$,ne,ue,ie,Te,Ae,Se,Ne)},Y=(F,L,$,ne,ue,ie,Te,Ae,Se)=>{let Ce=0;const $e=L.length;let Ne=F.length-1,We=$e-1;for(;Ce<=Ne&&Ce<=We;){const it=F[Ce],et=L[Ce]=Se?ll(L[Ce]):ka(L[Ce]);if(ku(it,et))g(it,et,$,null,ue,ie,Te,Ae,Se);else break;Ce++}for(;Ce<=Ne&&Ce<=We;){const it=F[Ne],et=L[We]=Se?ll(L[We]):ka(L[We]);if(ku(it,et))g(it,et,$,null,ue,ie,Te,Ae,Se);else break;Ne--,We--}if(Ce>Ne){if(Ce<=We){const it=We+1,et=it<$e?L[it].el:ne;for(;Ce<=We;)g(null,L[Ce]=Se?ll(L[Ce]):ka(L[Ce]),$,et,ue,ie,Te,Ae,Se),Ce++}}else if(Ce>We)for(;Ce<=Ne;)ee(F[Ce],ue,ie,!0),Ce++;else{const it=Ce,et=Ce,Ye=new Map;for(Ce=et;Ce<=We;Ce++){const Je=L[Ce]=Se?ll(L[Ce]):ka(L[Ce]);Je.key!=null&&Ye.set(Je.key,Ce)}let Dt,Qt=0;const ei=We-et+1;let ce=!1,fe=0;const Ie=new Array(ei);for(Ce=0;Ce<ei;Ce++)Ie[Ce]=0;for(Ce=it;Ce<=Ne;Ce++){const Je=F[Ce];if(Qt>=ei){ee(Je,ue,ie,!0);continue}let ft;if(Je.key!=null)ft=Ye.get(Je.key);else for(Dt=et;Dt<=We;Dt++)if(Ie[Dt-et]===0&&ku(Je,L[Dt])){ft=Dt;break}ft===void 0?ee(Je,ue,ie,!0):(Ie[ft-et]=Ce+1,ft>=fe?fe=ft:ce=!0,g(Je,L[ft],$,null,ue,ie,Te,Ae,Se),Qt++)}const Ue=ce?WH(Ie):Pd;for(Dt=Ue.length-1,Ce=ei-1;Ce>=0;Ce--){const Je=et+Ce,ft=L[Je],ut=Je+1<$e?L[Je+1].el:ne;Ie[Ce]===0?g(null,ft,$,ut,ue,ie,Te,Ae,Se):ce&&(Dt<0||Ce!==Ue[Dt]?Z(ft,$,ut,2):Dt--)}}},Z=(F,L,$,ne,ue=null)=>{const{el:ie,type:Te,transition:Ae,children:Se,shapeFlag:Ce}=F;if(Ce&6){Z(F.component.subTree,L,$,ne);return}if(Ce&128){F.suspense.move(L,$,ne);return}if(Ce&64){Te.move(F,L,$,pe);return}if(Te===Ee){i(ie,L,$);for(let Ne=0;Ne<Se.length;Ne++)Z(Se[Ne],L,$,ne);i(F.anchor,L,$);return}if(Te===c0){x(F,L,$);return}if(ne!==2&&Ce&1&&Ae)if(ne===0)Ae.beforeEnter(ie),i(ie,L,$),Is(()=>Ae.enter(ie),ue);else{const{leave:Ne,delayLeave:We,afterLeave:it}=Ae,et=()=>i(ie,L,$),Ye=()=>{Ne(ie,()=>{et(),it&&it()})};We?We(ie,et,Ye):Ye()}else i(ie,L,$)},ee=(F,L,$,ne=!1,ue=!1)=>{const{type:ie,props:Te,ref:Ae,children:Se,dynamicChildren:Ce,shapeFlag:$e,patchFlag:Ne,dirs:We,cacheIndex:it}=F;if(Ne===-2&&(ue=!1),Ae!=null&&Zv(Ae,null,$,F,!0),it!=null&&(L.renderCache[it]=void 0),$e&256){L.ctx.deactivate(F);return}const et=$e&1&&We,Ye=!Id(F);let Dt;if(Ye&&(Dt=Te&&Te.onVnodeBeforeUnmount)&&ya(Dt,L,F),$e&6)he(F.component,$,ne);else{if($e&128){F.suspense.unmount($,ne);return}et&&hu(F,null,L,"beforeUnmount"),$e&64?F.type.remove(F,L,$,pe,ne):Ce&&!Ce.hasOnce&&(ie!==Ee||Ne>0&&Ne&64)?re(Ce,L,$,!1,!0):(ie===Ee&&Ne&384||!ue&&$e&16)&&re(Se,L,$),ne&&le(F)}(Ye&&(Dt=Te&&Te.onVnodeUnmounted)||et)&&Is(()=>{Dt&&ya(Dt,L,F),et&&hu(F,null,L,"unmounted")},$)},le=F=>{const{type:L,el:$,anchor:ne,transition:ue}=F;if(L===Ee){de($,ne);return}if(L===c0){k(F);return}const ie=()=>{s($),ue&&!ue.persisted&&ue.afterLeave&&ue.afterLeave()};if(F.shapeFlag&1&&ue&&!ue.persisted){const{leave:Te,delayLeave:Ae}=ue,Se=()=>Te($,ie);Ae?Ae(F.el,ie,Se):Se()}else ie()},de=(F,L)=>{let $;for(;F!==L;)$=f(F),s(F),F=$;s(L)},he=(F,L,$)=>{const{bum:ne,scope:ue,job:ie,subTree:Te,um:Ae,m:Se,a:Ce}=F;sI(Se),sI(Ce),ne&&fv(ne),ue.stop(),ie&&(ie.flags|=8,ee(Te,F,L,$)),Ae&&Is(Ae,L),Is(()=>{F.isUnmounted=!0},L),L&&L.pendingBranch&&!L.isUnmounted&&F.asyncDep&&!F.asyncResolved&&F.suspenseId===L.pendingId&&(L.deps--,L.deps===0&&L.resolve())},re=(F,L,$,ne=!1,ue=!1,ie=0)=>{for(let Te=ie;Te<F.length;Te++)ee(F[Te],L,$,ne,ue)},U=F=>{if(F.shapeFlag&6)return U(F.component.subTree);if(F.shapeFlag&128)return F.suspense.next();const L=f(F.anchor||F.el),$=L&&L[iL];return $?f($):L};let X=!1;const ae=(F,L,$)=>{F==null?L._vnode&&ee(L._vnode,null,null,!0):g(L._vnode||null,F,L,null,null,null,$),L._vnode=F,X||(X=!0,qE(),eL(),X=!1)},pe={p:g,um:ee,m:Z,r:le,mt:N,mc:S,pc:W,pbc:P,n:U,o:t};return{render:ae,hydrate:void 0,createApp:VH(ae)}}function u0({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function fu({effect:t,job:e},n){n?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function zH(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function Hk(t,e,n=!1){const i=t.children,s=e.children;if(mt(i)&&mt(s))for(let r=0;r<i.length;r++){const a=i[r];let o=s[r];o.shapeFlag&1&&!o.dynamicChildren&&((o.patchFlag<=0||o.patchFlag===32)&&(o=s[r]=ll(s[r]),o.el=a.el),!n&&o.patchFlag!==-2&&Hk(a,o)),o.type===Tg&&(o.el=a.el)}}function WH(t){const e=t.slice(),n=[0];let i,s,r,a,o;const l=t.length;for(i=0;i<l;i++){const u=t[i];if(u!==0){if(s=n[n.length-1],t[s]<u){e[i]=s,n.push(i);continue}for(r=0,a=n.length-1;r<a;)o=r+a>>1,t[n[o]]<u?r=o+1:a=o;u<t[n[r]]&&(r>0&&(e[i]=n[r-1]),n[r]=i)}}for(r=n.length,a=n[r-1];r-- >0;)n[r]=a,a=e[a];return n}function ML(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:ML(e)}function sI(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const YH=Symbol.for("v-scx"),GH=()=>gt(YH);function yn(t,e){return nb(t,null,e)}function qH(t,e){return nb(t,null,{flush:"sync"})}function we(t,e,n){return nb(t,e,n)}function nb(t,e,n=en){const{immediate:i,deep:s,flush:r,once:a}=n,o=ki({},n),l=e&&i||!e&&r!=="post";let u;if(_m){if(r==="sync"){const h=GH();u=h.__watcherHandles||(h.__watcherHandles=[])}else if(!l){const h=()=>{};return h.stop=Ra,h.resume=Ra,h.pause=Ra,h}}const d=Zi;o.call=(h,p,g)=>oa(h,d,p,g);let c=!1;r==="post"?o.scheduler=h=>{Is(h,d&&d.suspense)}:r!=="sync"&&(c=!0,o.scheduler=(h,p)=>{p?h():Lk(h)}),o.augmentJob=h=>{e&&(h.flags|=4),c&&(h.flags|=2,d&&(h.id=d.uid,h.i=d))};const f=mH(t,e,o);return _m&&(u?u.push(f):l&&f()),f}function XH(t,e,n){const i=this.proxy,s=Yn(t)?t.includes(".")?VL(i,t):()=>i[t]:t.bind(i,i);let r;St(e)?r=e:(r=e.handler,n=e);const a=Pg(this),o=nb(s,r.bind(i),n);return a(),o}function VL(t,e){const n=e.split(".");return()=>{let i=t;for(let s=0;s<n.length&&i;s++)i=i[n[s]];return i}}function Al(t,e,n=en){const i=Cc(),s=Fs(e),r=Gl(e),a=LL(t,s),o=lH((l,u)=>{let d,c=en,f;return qH(()=>{const h=t[s];Gs(d,h)&&(d=h,u())}),{get(){return l(),n.get?n.get(d):d},set(h){const p=n.set?n.set(h):h;if(!Gs(p,d)&&!(c!==en&&Gs(h,c)))return;const g=i.vnode.props;g&&(e in g||s in g||r in g)&&(`onUpdate:${e}`in g||`onUpdate:${s}`in g||`onUpdate:${r}`in g)||(d=h,u()),i.emit(`update:${e}`,p),Gs(h,p)&&Gs(h,c)&&!Gs(p,f)&&u(),c=h,f=p}}});return o[Symbol.iterator]=()=>{let l=0;return{next(){return l<2?{value:l++?a||en:o,done:!1}:{done:!0}}}},o}const LL=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${Fs(e)}Modifiers`]||t[`${Gl(e)}Modifiers`];function KH(t,e,...n){if(t.isUnmounted)return;const i=t.vnode.props||en;let s=n;const r=e.startsWith("update:"),a=r&&LL(i,e.slice(7));a&&(a.trim&&(s=n.map(d=>Yn(d)?d.trim():d)),a.number&&(s=n.map(Tx)));let o,l=i[o=n0(e)]||i[o=n0(Fs(e))];!l&&r&&(l=i[o=n0(Gl(e))]),l&&oa(l,t,6,s);const u=i[o+"Once"];if(u){if(!t.emitted)t.emitted={};else if(t.emitted[o])return;t.emitted[o]=!0,oa(u,t,6,s)}}function NL(t,e,n=!1){const i=e.emitsCache,s=i.get(t);if(s!==void 0)return s;const r=t.emits;let a={},o=!1;if(!St(t)){const l=u=>{const d=NL(u,e,!0);d&&(o=!0,ki(a,d))};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!r&&!o?(En(t)&&i.set(t,null),null):(mt(r)?r.forEach(l=>a[l]=null):ki(a,r),En(t)&&i.set(t,a),a)}function ib(t,e){return!t||!Wy(e)?!1:(e=e.slice(2).replace(/Once$/,""),ln(t,e[0].toLowerCase()+e.slice(1))||ln(t,Gl(e))||ln(t,e))}function rI(t){const{type:e,vnode:n,proxy:i,withProxy:s,propsOptions:[r],slots:a,attrs:o,emit:l,render:u,renderCache:d,props:c,data:f,setupState:h,ctx:p,inheritAttrs:g}=t,v=Jv(t);let _,b;try{if(n.shapeFlag&4){const k=s||i,I=k;_=ka(u.call(I,k,d,c,h,f,p)),b=o}else{const k=e;_=ka(k.length>1?k(c,{attrs:o,slots:a,emit:l}):k(c,null)),b=e.props?o:QH(o)}}catch(k){Yf.length=0,Zy(k,t,1),_=m(bs)}let x=_;if(b&&g!==!1){const k=Object.keys(b),{shapeFlag:I}=x;k.length&&I&7&&(r&&k.some(Pk)&&(b=JH(b,r)),x=$a(x,b,!1,!0))}return n.dirs&&(x=$a(x,null,!1,!0),x.dirs=x.dirs?x.dirs.concat(n.dirs):n.dirs),n.transition&&Qu(x,n.transition),_=x,Jv(v),_}const QH=t=>{let e;for(const n in t)(n==="class"||n==="style"||Wy(n))&&((e||(e={}))[n]=t[n]);return e},JH=(t,e)=>{const n={};for(const i in t)(!Pk(i)||!(i.slice(9)in e))&&(n[i]=t[i]);return n};function ZH(t,e,n){const{props:i,children:s,component:r}=t,{props:a,children:o,patchFlag:l}=e,u=r.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return i?aI(i,a,u):!!a;if(l&8){const d=e.dynamicProps;for(let c=0;c<d.length;c++){const f=d[c];if(a[f]!==i[f]&&!ib(u,f))return!0}}}else return(s||o)&&(!o||!o.$stable)?!0:i===a?!1:i?a?aI(i,a,u):!0:!!a;return!1}function aI(t,e,n){const i=Object.keys(e);if(i.length!==Object.keys(t).length)return!0;for(let s=0;s<i.length;s++){const r=i[s];if(e[r]!==t[r]&&!ib(n,r))return!0}return!1}function ez({vnode:t,parent:e},n){for(;e;){const i=e.subTree;if(i.suspense&&i.suspense.activeBranch===t&&(i.el=t.el),i===t)(t=e.vnode).el=n,e=e.parent;else break}}const FL=t=>t.__isSuspense;function tz(t,e){e&&e.pendingBranch?mt(t)?e.effects.push(...t):e.effects.push(t):vH(t)}const Ee=Symbol.for("v-fgt"),Tg=Symbol.for("v-txt"),bs=Symbol.for("v-cmt"),c0=Symbol.for("v-stc"),Yf=[];let hr=null;function be(t=!1){Yf.push(hr=t?null:[])}function nz(){Yf.pop(),hr=Yf[Yf.length-1]||null}let vm=1;function oI(t,e=!1){vm+=t,t<0&&hr&&e&&(hr.hasOnce=!0)}function BL(t){return t.dynamicChildren=vm>0?hr||Pd:null,nz(),vm>0&&hr&&hr.push(t),t}function bt(t,e,n,i,s,r){return BL(Me(t,e,n,i,s,r,!0))}function De(t,e,n,i,s){return BL(m(t,e,n,i,s,!0))}function Rl(t){return t?t.__v_isVNode===!0:!1}function ku(t,e){return t.type===e.type&&t.key===e.key}const jL=({key:t})=>t??null,gv=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?Yn(t)||Ke(t)||St(t)?{i:$i,r:t,k:e,f:!!n}:t:null);function Me(t,e=null,n=null,i=0,s=null,r=t===Ee?0:1,a=!1,o=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&jL(e),ref:e&&gv(e),scopeId:nL,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:i,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:$i};return o?(Wk(l,n),r&128&&t.normalize(l)):n&&(l.shapeFlag|=Yn(n)?8:16),vm>0&&!a&&hr&&(l.patchFlag>0||r&6)&&l.patchFlag!==32&&hr.push(l),l}const m=iz;function iz(t,e=null,n=null,i=0,s=null,r=!1){if((!t||t===_L)&&(t=bs),Rl(t)){const o=$a(t,e,!0);return n&&Wk(o,n),vm>0&&!r&&hr&&(o.shapeFlag&6?hr[hr.indexOf(t)]=o:hr.push(o)),o.patchFlag=-2,o}if(hz(t)&&(t=t.__vccOpts),e){e=zk(e);let{class:o,style:l}=e;o&&!Yn(o)&&(e.class=Ky(o)),En(l)&&(Mk(l)&&!mt(l)&&(l=ki({},l)),e.style=Xy(l))}const a=Yn(t)?1:FL(t)?128:sL(t)?64:En(t)?4:St(t)?2:0;return Me(t,e,n,i,s,a,r,!0)}function zk(t){return t?Mk(t)||CL(t)?ki({},t):t:null}function $a(t,e,n=!1,i=!1){const{props:s,ref:r,patchFlag:a,children:o,transition:l}=t,u=e?J(s||{},e):s,d={__v_isVNode:!0,__v_skip:!0,type:t.type,props:u,key:u&&jL(u),ref:e&&e.ref?n&&r?mt(r)?r.concat(gv(e)):[r,gv(e)]:gv(e):r,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:o,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Ee?a===-1?16:a|16:a,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&$a(t.ssContent),ssFallback:t.ssFallback&&$a(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&i&&Qu(d,l.clone(d)),d}function Pe(t=" ",e=0){return m(Tg,null,t,e)}function Wt(t="",e=!1){return e?(be(),De(bs,null,t)):m(bs,null,t)}function ka(t){return t==null||typeof t=="boolean"?m(bs):mt(t)?m(Ee,null,t.slice()):Rl(t)?ll(t):m(Tg,null,String(t))}function ll(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:$a(t)}function Wk(t,e){let n=0;const{shapeFlag:i}=t;if(e==null)e=null;else if(mt(e))n=16;else if(typeof e=="object")if(i&65){const s=e.default;s&&(s._c&&(s._d=!1),Wk(t,s()),s._c&&(s._d=!0));return}else{n=32;const s=e._;!s&&!CL(e)?e._ctx=$i:s===3&&$i&&($i.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else St(e)?(e={default:e,_ctx:$i},n=32):(e=String(e),i&64?(n=16,e=[Pe(e)]):n=8);t.children=e,t.shapeFlag|=n}function J(...t){const e={};for(let n=0;n<t.length;n++){const i=t[n];for(const s in i)if(s==="class")e.class!==i.class&&(e.class=Ky([e.class,i.class]));else if(s==="style")e.style=Xy([e.style,i.style]);else if(Wy(s)){const r=e[s],a=i[s];a&&r!==a&&!(mt(r)&&r.includes(a))&&(e[s]=r?[].concat(r,a):a)}else s!==""&&(e[s]=i[s])}return e}function ya(t,e,n,i=null){oa(t,e,7,[n,i])}const sz=kL();let rz=0;function az(t,e,n){const i=t.type,s=(e?e.appContext:t.appContext)||sz,r={uid:rz++,vnode:t,type:i,parent:e,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new RV(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(s.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:IL(i,s),emitsOptions:NL(i,s),emit:null,emitted:null,propsDefaults:en,inheritAttrs:i.inheritAttrs,ctx:en,data:en,props:en,attrs:en,slots:en,refs:en,setupState:en,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return r.ctx={_:r},r.root=e?e.root:r,r.emit=KH.bind(null,r),t.ce&&t.ce(r),r}let Zi=null;const Cc=()=>Zi||$i;let n_,Vx;{const t=qy(),e=(n,i)=>{let s;return(s=t[n])||(s=t[n]=[]),s.push(i),r=>{s.length>1?s.forEach(a=>a(r)):s[0](r)}};n_=e("__VUE_INSTANCE_SETTERS__",n=>Zi=n),Vx=e("__VUE_SSR_SETTERS__",n=>_m=n)}const Pg=t=>{const e=Zi;return n_(t),t.scope.on(),()=>{t.scope.off(),n_(e)}},lI=()=>{Zi&&Zi.scope.off(),n_(null)};function $L(t){return t.vnode.shapeFlag&4}let _m=!1;function oz(t,e=!1,n=!1){e&&Vx(e);const{props:i,children:s}=t.vnode,r=$L(t);LH(t,i,r,e),jH(t,s,n);const a=r?lz(t,e):void 0;return e&&Vx(!1),a}function lz(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,EH);const{setup:i}=n;if(i){ql();const s=t.setupContext=i.length>1?cz(t):null,r=Pg(t),a=kg(i,t,0,[t.props,s]),o=kV(a);if(Xl(),r(),(o||t.sp)&&!Id(t)&&fL(t),o){if(a.then(lI,lI),e)return a.then(l=>{uI(t,l)}).catch(l=>{Zy(l,t,0)});t.asyncDep=a}else uI(t,a)}else UL(t)}function uI(t,e,n){St(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:En(e)&&(t.setupState=KV(e)),UL(t)}function UL(t,e,n){const i=t.type;t.render||(t.render=i.render||Ra);{const s=Pg(t);ql();try{IH(t)}finally{Xl(),s()}}}const uz={get(t,e){return gs(t,"get",""),t[e]}};function cz(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,uz),slots:t.slots,emit:t.emit,expose:e}}function sb(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(KV(Vk(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in Wf)return Wf[n](t)},has(e,n){return n in e||n in Wf}})):t.proxy}function dz(t,e=!0){return St(t)?t.displayName||t.name:t.name||e&&t.__name}function hz(t){return St(t)&&"__vccOpts"in t}const O=(t,e)=>hH(t,e,_m);function Ai(t,e,n){const i=arguments.length;return i===2?En(e)&&!mt(e)?Rl(e)?m(t,null,[e]):m(t,e):m(t,null,e):(i>3?n=Array.prototype.slice.call(arguments,2):i===3&&Rl(n)&&(n=[n]),m(t,e,n))}const fz="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Lx;const cI=typeof window<"u"&&window.trustedTypes;if(cI)try{Lx=cI.createPolicy("vue",{createHTML:t=>t})}catch{}const HL=Lx?t=>Lx.createHTML(t):t=>t,mz="http://www.w3.org/2000/svg",gz="http://www.w3.org/1998/Math/MathML",uo=typeof document<"u"?document:null,dI=uo&&uo.createElement("template"),pz={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,i)=>{const s=e==="svg"?uo.createElementNS(mz,t):e==="mathml"?uo.createElementNS(gz,t):n?uo.createElement(t,{is:n}):uo.createElement(t);return t==="select"&&i&&i.multiple!=null&&s.setAttribute("multiple",i.multiple),s},createText:t=>uo.createTextNode(t),createComment:t=>uo.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>uo.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,i,s,r){const a=n?n.previousSibling:e.lastChild;if(s&&(s===r||s.nextSibling))for(;e.insertBefore(s.cloneNode(!0),n),!(s===r||!(s=s.nextSibling)););else{dI.innerHTML=HL(i==="svg"?`<svg>${t}</svg>`:i==="mathml"?`<math>${t}</math>`:t);const o=dI.content;if(i==="svg"||i==="mathml"){const l=o.firstChild;for(;l.firstChild;)o.appendChild(l.firstChild);o.removeChild(l)}e.insertBefore(o,n)}return[a?a.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},el="transition",ff="animation",Hd=Symbol("_vtc"),zL={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},WL=ki({},uL,zL),vz=t=>(t.displayName="Transition",t.props=WL,t),Ol=vz((t,{slots:e})=>Ai(bH,YL(t),e)),mu=(t,e=[])=>{mt(t)?t.forEach(n=>n(...e)):t&&t(...e)},hI=t=>t?mt(t)?t.some(e=>e.length>1):t.length>1:!1;function YL(t){const e={};for(const D in t)D in zL||(e[D]=t[D]);if(t.css===!1)return e;const{name:n="v",type:i,duration:s,enterFromClass:r=`${n}-enter-from`,enterActiveClass:a=`${n}-enter-active`,enterToClass:o=`${n}-enter-to`,appearFromClass:l=r,appearActiveClass:u=a,appearToClass:d=o,leaveFromClass:c=`${n}-leave-from`,leaveActiveClass:f=`${n}-leave-active`,leaveToClass:h=`${n}-leave-to`}=t,p=_z(s),g=p&&p[0],v=p&&p[1],{onBeforeEnter:_,onEnter:b,onEnterCancelled:x,onLeave:k,onLeaveCancelled:I,onBeforeAppear:E=_,onAppear:T=b,onAppearCancelled:S=x}=e,w=(D,A,N,B)=>{D._enterCancelled=B,il(D,A?d:o),il(D,A?u:a),N&&N()},P=(D,A)=>{D._isLeaving=!1,il(D,c),il(D,h),il(D,f),A&&A()},C=D=>(A,N)=>{const B=D?T:b,z=()=>w(A,D,N);mu(B,[A,z]),fI(()=>{il(A,D?l:r),wa(A,D?d:o),hI(B)||mI(A,i,g,z)})};return ki(e,{onBeforeEnter(D){mu(_,[D]),wa(D,r),wa(D,a)},onBeforeAppear(D){mu(E,[D]),wa(D,l),wa(D,u)},onEnter:C(!1),onAppear:C(!0),onLeave(D,A){D._isLeaving=!0;const N=()=>P(D,A);wa(D,c),D._enterCancelled?(wa(D,f),Nx()):(Nx(),wa(D,f)),fI(()=>{D._isLeaving&&(il(D,c),wa(D,h),hI(k)||mI(D,i,v,N))}),mu(k,[D,N])},onEnterCancelled(D){w(D,!1,void 0,!0),mu(x,[D])},onAppearCancelled(D){w(D,!0,void 0,!0),mu(S,[D])},onLeaveCancelled(D){P(D),mu(I,[D])}})}function _z(t){if(t==null)return null;if(En(t))return[d0(t.enter),d0(t.leave)];{const e=d0(t);return[e,e]}}function d0(t){return O9(t)}function wa(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t[Hd]||(t[Hd]=new Set)).add(e)}function il(t,e){e.split(/\s+/).forEach(i=>i&&t.classList.remove(i));const n=t[Hd];n&&(n.delete(e),n.size||(t[Hd]=void 0))}function fI(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let yz=0;function mI(t,e,n,i){const s=t._endId=++yz,r=()=>{s===t._endId&&i()};if(n!=null)return setTimeout(r,n);const{type:a,timeout:o,propCount:l}=GL(t,e);if(!a)return i();const u=a+"end";let d=0;const c=()=>{t.removeEventListener(u,f),r()},f=h=>{h.target===t&&++d>=l&&c()};setTimeout(()=>{d<l&&c()},o+1),t.addEventListener(u,f)}function GL(t,e){const n=window.getComputedStyle(t),i=p=>(n[p]||"").split(", "),s=i(`${el}Delay`),r=i(`${el}Duration`),a=gI(s,r),o=i(`${ff}Delay`),l=i(`${ff}Duration`),u=gI(o,l);let d=null,c=0,f=0;e===el?a>0&&(d=el,c=a,f=r.length):e===ff?u>0&&(d=ff,c=u,f=l.length):(c=Math.max(a,u),d=c>0?a>u?el:ff:null,f=d?d===el?r.length:l.length:0);const h=d===el&&/\b(transform|all)(,|$)/.test(i(`${el}Property`).toString());return{type:d,timeout:c,propCount:f,hasTransform:h}}function gI(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,i)=>pI(n)+pI(t[i])))}function pI(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function Nx(){return document.body.offsetHeight}function bz(t,e,n){const i=t[Hd];i&&(e=(e?[e,...i]:[...i]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const i_=Symbol("_vod"),qL=Symbol("_vsh"),va={beforeMount(t,{value:e},{transition:n}){t[i_]=t.style.display==="none"?"":t.style.display,n&&e?n.beforeEnter(t):mf(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:i}){!e!=!n&&(i?e?(i.beforeEnter(t),mf(t,!0),i.enter(t)):i.leave(t,()=>{mf(t,!1)}):mf(t,e))},beforeUnmount(t,{value:e}){mf(t,e)}};function mf(t,e){t.style.display=e?t[i_]:"none",t[qL]=!e}const wz=Symbol(""),xz=/(^|;)\s*display\s*:/;function Sz(t,e,n){const i=t.style,s=Yn(n);let r=!1;if(n&&!s){if(e)if(Yn(e))for(const a of e.split(";")){const o=a.slice(0,a.indexOf(":")).trim();n[o]==null&&pv(i,o,"")}else for(const a in e)n[a]==null&&pv(i,a,"");for(const a in n)a==="display"&&(r=!0),pv(i,a,n[a])}else if(s){if(e!==n){const a=i[wz];a&&(n+=";"+a),i.cssText=n,r=xz.test(n)}}else e&&t.removeAttribute("style");i_ in t&&(t[i_]=r?i.display:"",t[qL]&&(i.display="none"))}const vI=/\s*!important$/;function pv(t,e,n){if(mt(n))n.forEach(i=>pv(t,e,i));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const i=kz(t,e);vI.test(n)?t.setProperty(Gl(i),n.replace(vI,""),"important"):t[i]=n}}const _I=["Webkit","Moz","ms"],h0={};function kz(t,e){const n=h0[e];if(n)return n;let i=Fs(e);if(i!=="filter"&&i in t)return h0[e]=i;i=pa(i);for(let s=0;s<_I.length;s++){const r=_I[s]+i;if(r in t)return h0[e]=r}return e}const yI="http://www.w3.org/1999/xlink";function bI(t,e,n,i,s,r=B9(e)){i&&e.startsWith("xlink:")?n==null?t.removeAttributeNS(yI,e.slice(6,e.length)):t.setAttributeNS(yI,e,n):n==null||r&&!IV(n)?t.removeAttribute(e):t.setAttribute(e,r?"":Bo(n)?String(n):n)}function wI(t,e,n,i,s){if(e==="innerHTML"||e==="textContent"){n!=null&&(t[e]=e==="innerHTML"?HL(n):n);return}const r=t.tagName;if(e==="value"&&r!=="PROGRESS"&&!r.includes("-")){const o=r==="OPTION"?t.getAttribute("value")||"":t.value,l=n==null?t.type==="checkbox"?"on":"":String(n);(o!==l||!("_value"in t))&&(t.value=l),n==null&&t.removeAttribute(e),t._value=n;return}let a=!1;if(n===""||n==null){const o=typeof t[e];o==="boolean"?n=IV(n):n==null&&o==="string"?(n="",a=!0):o==="number"&&(n=0,a=!0)}try{t[e]=n}catch{}a&&t.removeAttribute(s||e)}function cd(t,e,n,i){t.addEventListener(e,n,i)}function Tz(t,e,n,i){t.removeEventListener(e,n,i)}const xI=Symbol("_vei");function Pz(t,e,n,i,s=null){const r=t[xI]||(t[xI]={}),a=r[e];if(i&&a)a.value=i;else{const[o,l]=Cz(e);if(i){const u=r[e]=Dz(i,s);cd(t,o,u,l)}else a&&(Tz(t,o,a,l),r[e]=void 0)}}const SI=/(?:Once|Passive|Capture)$/;function Cz(t){let e;if(SI.test(t)){e={};let i;for(;i=t.match(SI);)t=t.slice(0,t.length-i[0].length),e[i[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Gl(t.slice(2)),e]}let f0=0;const Ez=Promise.resolve(),Iz=()=>f0||(Ez.then(()=>f0=0),f0=Date.now());function Dz(t,e){const n=i=>{if(!i._vts)i._vts=Date.now();else if(i._vts<=n.attached)return;oa(Az(i,n.value),e,5,[i])};return n.value=t,n.attached=Iz(),n}function Az(t,e){if(mt(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(i=>s=>!s._stopped&&i&&i(s))}else return e}const kI=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,Rz=(t,e,n,i,s,r)=>{const a=s==="svg";e==="class"?bz(t,i,a):e==="style"?Sz(t,n,i):Wy(e)?Pk(e)||Pz(t,e,n,i,r):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):Oz(t,e,i,a))?(wI(t,e,i),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&bI(t,e,i,a,r,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!Yn(i))?wI(t,Fs(e),i,r,e):(e==="true-value"?t._trueValue=i:e==="false-value"&&(t._falseValue=i),bI(t,e,i,a))};function Oz(t,e,n,i){if(i)return!!(e==="innerHTML"||e==="textContent"||e in t&&kI(e)&&St(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const s=t.tagName;if(s==="IMG"||s==="VIDEO"||s==="CANVAS"||s==="SOURCE")return!1}return kI(e)&&Yn(n)?!1:e in t}const XL=new WeakMap,KL=new WeakMap,s_=Symbol("_moveCb"),TI=Symbol("_enterCb"),Mz=t=>(delete t.props.mode,t),Vz=Mz({name:"TransitionGroup",props:ki({},WL,{tag:String,moveClass:String}),setup(t,{slots:e}){const n=Cc(),i=lL();let s,r;return Bk(()=>{if(!s.length)return;const a=t.moveClass||`${t.name||"v"}-move`;if(!Bz(s[0].el,n.vnode.el,a))return;s.forEach(Lz),s.forEach(Nz);const o=s.filter(Fz);Nx(),o.forEach(l=>{const u=l.el,d=u.style;wa(u,a),d.transform=d.webkitTransform=d.transitionDuration="";const c=u[s_]=f=>{f&&f.target!==u||(!f||/transform$/.test(f.propertyName))&&(u.removeEventListener("transitionend",c),u[s_]=null,il(u,a))};u.addEventListener("transitionend",c)})}),()=>{const a=Xe(t),o=YL(a);let l=a.tag||Ee;if(s=[],r)for(let u=0;u<r.length;u++){const d=r[u];d.el&&d.el instanceof Element&&(s.push(d),Qu(d,pm(d,o,i,n)),XL.set(d,d.el.getBoundingClientRect()))}r=e.default?Nk(e.default()):[];for(let u=0;u<r.length;u++){const d=r[u];d.key!=null&&Qu(d,pm(d,o,i,n))}return m(l,null,r)}}}),Yk=Vz;function Lz(t){const e=t.el;e[s_]&&e[s_](),e[TI]&&e[TI]()}function Nz(t){KL.set(t,t.el.getBoundingClientRect())}function Fz(t){const e=XL.get(t),n=KL.get(t),i=e.left-n.left,s=e.top-n.top;if(i||s){const r=t.el.style;return r.transform=r.webkitTransform=`translate(${i}px,${s}px)`,r.transitionDuration="0s",t}}function Bz(t,e,n){const i=t.cloneNode(),s=t[Hd];s&&s.forEach(o=>{o.split(/\s+/).forEach(l=>l&&i.classList.remove(l))}),n.split(/\s+/).forEach(o=>o&&i.classList.add(o)),i.style.display="none";const r=e.nodeType===1?e:e.parentNode;r.appendChild(i);const{hasTransform:a}=GL(i);return r.removeChild(i),a}const PI=t=>{const e=t.props["onUpdate:modelValue"]||!1;return mt(e)?n=>fv(e,n):e};function jz(t){t.target.composing=!0}function CI(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const m0=Symbol("_assign"),$z={created(t,{modifiers:{lazy:e,trim:n,number:i}},s){t[m0]=PI(s);const r=i||s.props&&s.props.type==="number";cd(t,e?"change":"input",a=>{if(a.target.composing)return;let o=t.value;n&&(o=o.trim()),r&&(o=Tx(o)),t[m0](o)}),n&&cd(t,"change",()=>{t.value=t.value.trim()}),e||(cd(t,"compositionstart",jz),cd(t,"compositionend",CI),cd(t,"change",CI))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:n,modifiers:{lazy:i,trim:s,number:r}},a){if(t[m0]=PI(a),t.composing)return;const o=(r||t.type==="number")&&!/^0\d/.test(t.value)?Tx(t.value):t.value,l=e??"";o!==l&&(document.activeElement===t&&t.type!=="range"&&(i&&e===n||s&&t.value.trim()===l)||(t.value=l))}},Uz=["ctrl","shift","alt","meta"],Hz={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>Uz.some(n=>t[`${n}Key`]&&!e.includes(n))},Ju=(t,e)=>{const n=t._withMods||(t._withMods={}),i=e.join(".");return n[i]||(n[i]=(s,...r)=>{for(let a=0;a<e.length;a++){const o=Hz[e[a]];if(o&&o(s,e))return}return t(s,...r)})},zz=ki({patchProp:Rz},pz);let EI;function QL(){return EI||(EI=UH(zz))}const JL=(...t)=>{QL().render(...t)},ZL=(...t)=>{const e=QL().createApp(...t),{mount:n}=e;return e.mount=i=>{const s=Yz(i);if(!s)return;const r=e._component;!St(r)&&!r.render&&!r.template&&(r.template=s.innerHTML),s.nodeType===1&&(s.textContent="");const a=n(s,!1,Wz(s));return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),a},e};function Wz(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function Yz(t){return Yn(t)?document.querySelector(t):t}/*!
 * pinia v2.3.0
 * (c) 2024 Eduardo San Martin Morote
 * @license MIT
 */const Gz=Symbol();var II;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(II||(II={}));function qz(){const t=Sg(!0),e=t.run(()=>G({}));let n=[],i=[];const s=Vk({install(r){s._a=r,r.provide(Gz,s),r.config.globalProperties.$pinia=s,i.forEach(a=>n.push(a)),i=[]},use(r){return this._a?n.push(r):i.push(r),this},_p:n,_a:null,_e:t,_s:new Map,state:e});return s}const Cg={TOP_LEFT:"top-left",TOP_RIGHT:"top-right",TOP_CENTER:"top-center",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",BOTTOM_CENTER:"bottom-center"},zd={LIGHT:"light",DARK:"dark",COLORED:"colored",AUTO:"auto"},Bs={INFO:"info",SUCCESS:"success",WARNING:"warning",ERROR:"error",DEFAULT:"default"},Xz={BOUNCE:"bounce",SLIDE:"slide",FLIP:"flip",ZOOM:"zoom",NONE:"none"},e2={dangerouslyHTMLString:!1,multiple:!0,position:Cg.TOP_RIGHT,autoClose:5e3,transition:"bounce",hideProgressBar:!1,pauseOnHover:!0,pauseOnFocusLoss:!0,closeOnClick:!0,className:"",bodyClassName:"",style:{},progressClassName:"",progressStyle:{},role:"alert",theme:"light"},Kz={rtl:!1,newestOnTop:!1,toastClassName:""},t2={...e2,...Kz};({...e2,type:Bs.DEFAULT});var un=(t=>(t[t.COLLAPSE_DURATION=300]="COLLAPSE_DURATION",t[t.DEBOUNCE_DURATION=50]="DEBOUNCE_DURATION",t.CSS_NAMESPACE="Toastify",t))(un||{}),Fx=(t=>(t.ENTRANCE_ANIMATION_END="d",t))(Fx||{});const Qz={enter:"Toastify--animate Toastify__bounce-enter",exit:"Toastify--animate Toastify__bounce-exit",appendPosition:!0},Jz={enter:"Toastify--animate Toastify__slide-enter",exit:"Toastify--animate Toastify__slide-exit",appendPosition:!0},Zz={enter:"Toastify--animate Toastify__zoom-enter",exit:"Toastify--animate Toastify__zoom-exit"},e8={enter:"Toastify--animate Toastify__flip-enter",exit:"Toastify--animate Toastify__flip-exit"},DI="Toastify--animate Toastify__none-enter";function n2(t,e=!1){var n;let i=Qz;if(!t||typeof t=="string")switch(t){case"flip":i=e8;break;case"zoom":i=Zz;break;case"slide":i=Jz;break}else i=t;if(e)i.enter=DI;else if(i.enter===DI){const s=(n=i.exit.split("__")[1])==null?void 0:n.split("-")[0];i.enter=`Toastify--animate Toastify__${s}-enter`}return i}function t8(t){return t.containerId||String(t.position)}const rb="will-unmount";function n8(t=Cg.TOP_RIGHT){return!!document.querySelector(`.${un.CSS_NAMESPACE}__toast-container--${t}`)}function i8(t=Cg.TOP_RIGHT){return`${un.CSS_NAMESPACE}__toast-container--${t}`}function s8(t,e,n=!1){const i=[`${un.CSS_NAMESPACE}__toast-container`,`${un.CSS_NAMESPACE}__toast-container--${t}`,n?`${un.CSS_NAMESPACE}__toast-container--rtl`:null].filter(Boolean).join(" ");return Ad(e)?e({position:t,rtl:n,defaultClassName:i}):`${i} ${e||""}`}function r8(t){var e;const{position:n,containerClassName:i,rtl:s=!1,style:r={}}=t,a=un.CSS_NAMESPACE,o=i8(n),l=document.querySelector(`.${a}`),u=document.querySelector(`.${o}`),d=!!u&&!((e=u.className)!=null&&e.includes(rb)),c=l||document.createElement("div"),f=document.createElement("div");f.className=s8(n,i,s),f.dataset.testid=`${un.CSS_NAMESPACE}__toast-container--${n}`,f.id=t8(t);for(const h in r)if(Object.prototype.hasOwnProperty.call(r,h)){const p=r[h];f.style[h]=p}return l||(c.className=un.CSS_NAMESPACE,document.body.appendChild(c)),d||c.appendChild(f),f}function Bx(t){var e,n,i;const s=typeof t=="string"?t:((e=t.currentTarget)==null?void 0:e.id)||((n=t.target)==null?void 0:n.id),r=document.getElementById(s);r&&r.removeEventListener("animationend",Bx,!1);try{ym[s].unmount(),(i=document.getElementById(s))==null||i.remove(),delete ym[s],delete Xi[s]}catch{}}const ym=mn({});function a8(t,e){const n=document.getElementById(String(e));n&&(ym[n.id]=t)}function jx(t,e=!0){const n=String(t);if(!ym[n])return;const i=document.getElementById(n);i&&i.classList.add(rb),e?(l8(t),i&&i.addEventListener("animationend",Bx,!1)):Bx(n),Ua.items=Ua.items.filter(s=>s.containerId!==t)}function o8(t){for(const e in ym)jx(e,t);Ua.items=[]}function i2(t,e){const n=document.getElementById(t.toastId);if(n){let i=t;i={...i,...n2(i.transition)};const s=i.appendPosition?`${i.exit}--${i.position}`:i.exit;n.className+=` ${s}`,e&&e(n)}}function l8(t){for(const e in Xi)if(e===t)for(const n of Xi[e]||[])i2(n)}function u8(t){const e=Wd().find(n=>n.toastId===t);return e==null?void 0:e.containerId}function Gk(t){return document.getElementById(t)}function c8(t){const e=Gk(t.containerId);return e&&e.classList.contains(rb)}function AI(t){var e;const n=Rl(t.content)?Xe(t.content.props):null;return n??Xe((e=t.data)!=null?e:{})}function d8(t){return t?Ua.items.filter(e=>e.containerId===t).length>0:Ua.items.length>0}function h8(){if(Ua.items.length>0){const t=Ua.items.shift();vv(t==null?void 0:t.toastContent,t==null?void 0:t.toastProps)}}const Xi=mn({}),Ua=mn({items:[]});function Wd(){const t=Xe(Xi);return Object.values(t).reduce((e,n)=>[...e,...n],[])}function f8(t){return Wd().find(e=>e.toastId===t)}function vv(t,e={}){if(c8(e)){const n=Gk(e.containerId);n&&n.addEventListener("animationend",$x.bind(null,t,e),!1)}else $x(t,e)}function $x(t,e={}){const n=Gk(e.containerId);n&&n.removeEventListener("animationend",$x.bind(null,t,e),!1);const i=Xi[e.containerId]||[],s=i.length>0;if(!s&&!n8(e.position)){const r=r8(e),a=ZL(O8,e);e.useHandler&&e.useHandler(a),a.mount(r),a8(a,r.id)}s&&!e.updateId&&(e.position=i[0].position),vt(()=>{e.updateId?ur.update(e):ur.add(t,e)})}const ur={add(t,e){const{containerId:n=""}=e;n&&(Xi[n]=Xi[n]||[],Xi[n].find(i=>i.toastId===e.toastId)||setTimeout(()=>{var i,s;e.newestOnTop?(i=Xi[n])==null||i.unshift(e):(s=Xi[n])==null||s.push(e),e.onOpen&&e.onOpen(AI(e))},e.delay||0))},remove(t){if(t){const e=u8(t);if(e){const n=Xi[e];let i=n.find(s=>s.toastId===t);Xi[e]=n.filter(s=>s.toastId!==t),!Xi[e].length&&!d8(e)&&jx(e,!1),h8(),vt(()=>{i!=null&&i.onClose&&(i.onClose(AI(i)),i=void 0)})}}},update(t={}){const{containerId:e=""}=t;if(e&&t.updateId){Xi[e]=Xi[e]||[];const n=Xi[e].find(r=>r.toastId===t.toastId),i=(n==null?void 0:n.position)!==t.position||(n==null?void 0:n.transition)!==t.transition,s={...t,disabledEnterTransition:!i,updateId:void 0};ur.dismissForce(t==null?void 0:t.toastId),setTimeout(()=>{Ze(s.content,s)},t.delay||0)}},clear(t,e=!0){t?jx(t,e):o8(e)},dismissCallback(t){var e;const n=(e=t.currentTarget)==null?void 0:e.id,i=document.getElementById(n);i&&(i.removeEventListener("animationend",ur.dismissCallback,!1),setTimeout(()=>{ur.remove(n)}))},dismiss(t){if(t){const e=Wd();for(const n of e)if(n.toastId===t){i2(n,i=>{i.addEventListener("animationend",ur.dismissCallback,!1)});break}}},dismissForce(t){if(t){const e=Wd();for(const n of e)if(n.toastId===t){const i=document.getElementById(t);i&&(i.remove(),i.removeEventListener("animationend",ur.dismissCallback,!1),ur.remove(t));break}}}},m8=mn({useHandler:void 0}),s2=mn({}),r_=mn({});function r2(){return Math.random().toString(36).substring(2,9)}function g8(t){return typeof t=="number"&&!isNaN(t)}function Ux(t){return typeof t=="string"}function Ad(t){return typeof t=="function"}function ab(...t){return J(...t)}function _v(t){return typeof t=="object"&&(!!(t!=null&&t.render)||!!(t!=null&&t.setup)||typeof(t==null?void 0:t.type)=="object")}function p8(t={}){s2[`${un.CSS_NAMESPACE}-default-options`]=t}function v8(){return s2[`${un.CSS_NAMESPACE}-default-options`]||t2}function _8(){const t=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches;return document.documentElement.classList.contains("dark")||t?"dark":"light"}var yv=(t=>(t[t.Enter=0]="Enter",t[t.Exit=1]="Exit",t))(yv||{});const a2={containerId:{type:[String,Number],required:!1,default:""},clearOnUrlChange:{type:Boolean,required:!1,default:!0},disabledEnterTransition:{type:Boolean,required:!1,default:!1},dangerouslyHTMLString:{type:Boolean,required:!1,default:!1},multiple:{type:Boolean,required:!1,default:!0},limit:{type:Number,required:!1,default:void 0},position:{type:String,required:!1,default:Cg.TOP_LEFT},bodyClassName:{type:String,required:!1,default:""},autoClose:{type:[Number,Boolean],required:!1,default:!1},closeButton:{type:[Boolean,Function,Object],required:!1,default:void 0},transition:{type:[String,Object],required:!1,default:"bounce"},hideProgressBar:{type:Boolean,required:!1,default:!1},pauseOnHover:{type:Boolean,required:!1,default:!0},pauseOnFocusLoss:{type:Boolean,required:!1,default:!0},closeOnClick:{type:Boolean,required:!1,default:!0},progress:{type:Number,required:!1,default:void 0},progressClassName:{type:String,required:!1,default:""},toastStyle:{type:Object,required:!1,default(){return{}}},progressStyle:{type:Object,required:!1,default(){return{}}},role:{type:String,required:!1,default:"alert"},theme:{type:String,required:!1,default:zd.AUTO},content:{type:[String,Object,Function],required:!1,default:""},toastId:{type:[String,Number],required:!1,default:""},data:{type:[Object,String],required:!1,default(){return{}}},type:{type:String,required:!1,default:Bs.DEFAULT},icon:{type:[Boolean,String,Number,Object,Function],required:!1,default:void 0},delay:{type:Number,required:!1,default:void 0},onOpen:{type:Function,required:!1,default:void 0},onClose:{type:Function,required:!1,default:void 0},onClick:{type:Function,required:!1,default:void 0},isLoading:{type:Boolean,required:!1,default:void 0},rtl:{type:Boolean,required:!1,default:!1},toastClassName:{type:String,required:!1,default:""},updateId:{type:[String,Number],required:!1,default:""},contentProps:{type:Object,required:!1,default:null},expandCustomProps:{type:Boolean,required:!1,default:!1}},y8={autoClose:{type:[Number,Boolean],required:!0},isRunning:{type:Boolean,required:!1,default:void 0},type:{type:String,required:!1,default:Bs.DEFAULT},theme:{type:String,required:!1,default:zd.AUTO},hide:{type:Boolean,required:!1,default:void 0},className:{type:[String,Function],required:!1,default:""},controlledProgress:{type:Boolean,required:!1,default:void 0},rtl:{type:Boolean,required:!1,default:void 0},isIn:{type:Boolean,required:!1,default:void 0},progress:{type:Number,required:!1,default:void 0},closeToast:{type:Function,required:!1,default:void 0}},b8=kt({name:"ProgressBar",props:y8,setup(t,{attrs:e}){const n=G(),i=O(()=>t.hide?"true":"false"),s=O(()=>({...e.style||{},animationDuration:`${t.autoClose===!0?5e3:t.autoClose}ms`,animationPlayState:t.isRunning?"running":"paused",opacity:t.hide||t.autoClose===!1?0:1,transform:t.controlledProgress?`scaleX(${t.progress})`:"none"})),r=O(()=>[`${un.CSS_NAMESPACE}__progress-bar`,t.controlledProgress?`${un.CSS_NAMESPACE}__progress-bar--controlled`:`${un.CSS_NAMESPACE}__progress-bar--animated`,`${un.CSS_NAMESPACE}__progress-bar-theme--${t.theme}`,`${un.CSS_NAMESPACE}__progress-bar--${t.type}`,t.rtl?`${un.CSS_NAMESPACE}__progress-bar--rtl`:null].filter(Boolean).join(" ")),a=O(()=>`${r.value} ${(e==null?void 0:e.class)||""}`),o=()=>{n.value&&(n.value.onanimationend=null,n.value.ontransitionend=null)},l=()=>{t.isIn&&t.closeToast&&t.autoClose!==!1&&(t.closeToast(),o())},u=O(()=>t.controlledProgress?null:l),d=O(()=>t.controlledProgress?l:null);return yn(()=>{n.value&&(o(),n.value.onanimationend=u.value,n.value.ontransitionend=d.value)}),()=>m("div",{ref:n,role:"progressbar","aria-hidden":i.value,"aria-label":"notification timer",class:a.value,style:s.value},null)}}),w8=kt({name:"CloseButton",inheritAttrs:!1,props:{theme:{type:String,required:!1,default:zd.AUTO},type:{type:String,required:!1,default:zd.LIGHT},ariaLabel:{type:String,required:!1,default:"close"},closeToast:{type:Function,required:!1,default:void 0}},setup(t){return()=>m("button",{class:`${un.CSS_NAMESPACE}__close-button ${un.CSS_NAMESPACE}__close-button--${t.theme}`,type:"button",onClick:e=>{e.stopPropagation(),t.closeToast&&t.closeToast(e)},"aria-label":t.ariaLabel},[m("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},[m("path",{"fill-rule":"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"},null)])])}}),ob=({theme:t,type:e,path:n,...i})=>m("svg",J({viewBox:"0 0 24 24",width:"100%",height:"100%",fill:t==="colored"?"currentColor":`var(--toastify-icon-color-${e})`},i),[m("path",{d:n},null)]);function x8(t){return m(ob,J(t,{path:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}),null)}function S8(t){return m(ob,J(t,{path:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}),null)}function k8(t){return m(ob,J(t,{path:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}),null)}function T8(t){return m(ob,J(t,{path:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}),null)}function P8(){return m("div",{class:`${un.CSS_NAMESPACE}__spinner`},null)}const bv={info:S8,warning:x8,success:k8,error:T8,spinner:P8},C8=t=>t in bv;function E8({theme:t,type:e,isLoading:n,icon:i}){let s;const r=!!n||e==="loading",a={theme:t,type:e};if(r&&(i===void 0||typeof i=="boolean"))return bv.spinner();if(i!==!1){if(_v(i))s=Xe(i);else if(Ad(i)){const o=i;a.type=r?"loading":e,s=o(a),s=!s&&r?bv.spinner():s}else Rl(i)?s=$a(i,a):Ux(i)||g8(i)?s=i:C8(e)&&(s=bv[e](a));return s}}const I8=()=>{};function D8(t,e,n=un.COLLAPSE_DURATION){const{scrollHeight:i,style:s}=t,r=n;requestAnimationFrame(()=>{s.minHeight="initial",s.height=i+"px",s.transition=`all ${r}ms`,requestAnimationFrame(()=>{s.height="0",s.padding="0",s.margin="0",setTimeout(e,r)})})}function A8(t){const e=G(!1),n=G(!1),i=G(!1),s=G(yv.Enter),r=mn({...t,appendPosition:t.appendPosition||!1,collapse:typeof t.collapse>"u"?!0:t.collapse,collapseDuration:t.collapseDuration||un.COLLAPSE_DURATION}),a=r.done||I8,o=O(()=>r.appendPosition?`${r.enter}--${r.position}`:r.enter),l=O(()=>r.appendPosition?`${r.exit}--${r.position}`:r.exit),u=O(()=>t.pauseOnHover?{onMouseenter:v,onMouseleave:g}:{});function d(){const b=o.value.split(" ");f().addEventListener(Fx.ENTRANCE_ANIMATION_END,g,{once:!0});const x=I=>{const E=f();I.target===E&&(E.dispatchEvent(new Event(Fx.ENTRANCE_ANIMATION_END)),E.removeEventListener("animationend",x),E.removeEventListener("animationcancel",x),s.value===yv.Enter&&I.type!=="animationcancel"&&E.classList.remove(...b))},k=()=>{const I=f();I.classList.add(...b),I.addEventListener("animationend",x),I.addEventListener("animationcancel",x)};t.pauseOnFocusLoss&&h(),k()}function c(){if(!f())return;const b=()=>{const k=f();k.removeEventListener("animationend",b),r.collapse?D8(k,a,r.collapseDuration):a()},x=()=>{const k=f();s.value=yv.Exit,k&&(k.className+=` ${l.value}`,k.addEventListener("animationend",b))};n.value||(i.value?b():setTimeout(x))}function f(){return t.toastRef.value}function h(){document.hasFocus()||v(),window.addEventListener("focus",g),window.addEventListener("blur",v)}function p(){window.removeEventListener("focus",g),window.removeEventListener("blur",v)}function g(){(!t.loading.value||t.isLoading===void 0)&&(e.value=!0)}function v(){e.value=!1}function _(b){b&&(b.stopPropagation(),b.preventDefault()),n.value=!1}return yn(c),yn(()=>{const b=Wd();n.value=b.findIndex(x=>x.toastId===r.toastId)>-1}),yn(()=>{t.isLoading!==void 0&&(t.loading.value?v():g())}),Tt(d),Us(()=>{t.pauseOnFocusLoss&&p()}),{isIn:n,isRunning:e,hideToast:_,eventHandlers:u}}const R8=kt({name:"ToastItem",inheritAttrs:!1,props:a2,setup(t){const e=G(),n=O(()=>!!t.isLoading),i=O(()=>t.progress!==void 0&&t.progress!==null),s=O(()=>E8(t)),r=O(()=>[`${un.CSS_NAMESPACE}__toast`,`${un.CSS_NAMESPACE}__toast-theme--${t.theme}`,`${un.CSS_NAMESPACE}__toast--${t.type}`,t.rtl?`${un.CSS_NAMESPACE}__toast--rtl`:void 0,t.toastClassName||""].filter(Boolean).join(" ")),{isRunning:a,isIn:o,hideToast:l,eventHandlers:u}=A8({toastRef:e,loading:n,done:()=>{ur.remove(t.toastId)},...n2(t.transition,t.disabledEnterTransition),...t});return()=>m("div",J({id:t.toastId,class:r.value,style:t.toastStyle||{},ref:e,"data-testid":`toast-item-${t.toastId}`,onClick:d=>{t.closeOnClick&&l(),t.onClick&&t.onClick(d)}},u.value),[m("div",{role:t.role,"data-testid":"toast-body",class:`${un.CSS_NAMESPACE}__toast-body ${t.bodyClassName||""}`},[s.value!=null&&m("div",{"data-testid":`toast-icon-${t.type}`,class:[`${un.CSS_NAMESPACE}__toast-icon`,t.isLoading?"":`${un.CSS_NAMESPACE}--animate-icon ${un.CSS_NAMESPACE}__zoom-enter`].join(" ")},[_v(s.value)?Ai(Xe(s.value),{theme:t.theme,type:t.type}):Ad(s.value)?s.value({theme:t.theme,type:t.type}):s.value]),m("div",{"data-testid":"toast-content"},[_v(t.content)?Ai(Xe(t.content),{toastProps:Xe(t),closeToast:l,data:t.data,...t.expandCustomProps?t.contentProps:{contentProps:t.contentProps||{}}}):Ad(t.content)?t.content({toastProps:Xe(t),closeToast:l,data:t.data}):t.dangerouslyHTMLString?Ai("div",{innerHTML:t.content}):t.content])]),(t.closeButton===void 0||t.closeButton===!0)&&m(w8,{theme:t.theme,closeToast:d=>{d.stopPropagation(),d.preventDefault(),l()}},null),_v(t.closeButton)?Ai(Xe(t.closeButton),{closeToast:l,type:t.type,theme:t.theme}):Ad(t.closeButton)?t.closeButton({closeToast:l,type:t.type,theme:t.theme}):null,m(b8,{className:t.progressClassName,style:t.progressStyle,rtl:t.rtl,theme:t.theme,isIn:o.value,type:t.type,hide:t.hideProgressBar,isRunning:a.value,autoClose:t.autoClose,controlledProgress:i.value,progress:t.progress,closeToast:t.isLoading?void 0:l},null)])}});let Gf=0;function o2(){typeof window>"u"||(Gf&&window.cancelAnimationFrame(Gf),Gf=window.requestAnimationFrame(o2),r_.lastUrl!==window.location.href&&(r_.lastUrl=window.location.href,ur.clear()))}const O8=kt({name:"ToastifyContainer",inheritAttrs:!1,props:a2,setup(t){const e=O(()=>t.containerId),n=O(()=>Xi[e.value]||[]),i=O(()=>n.value.filter(s=>s.position===t.position));return Tt(()=>{typeof window<"u"&&t.clearOnUrlChange&&window.requestAnimationFrame(o2)}),Us(()=>{typeof window<"u"&&Gf&&(window.cancelAnimationFrame(Gf),r_.lastUrl="")}),()=>m(Ee,null,[i.value.map(s=>{const{toastId:r=""}=s;return m(R8,J({key:r},s),null)})])}});let g0=!1;const l2={isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1};function u2(){const t=[];return Wd().forEach(e=>{const n=document.getElementById(e.containerId);n&&!n.classList.contains(rb)&&t.push(e)}),t}function M8(t){const e=u2().length,n=t??0;return n>0&&e+Ua.items.length>=n}function V8(t){M8(t.limit)&&!t.updateId&&Ua.items.push({toastId:t.toastId,containerId:t.containerId,toastContent:t.content,toastProps:t})}function Ql(t,e,n={}){if(g0)return;n=ab(v8(),{type:e},Xe(n)),(!n.toastId||typeof n.toastId!="string"&&typeof n.toastId!="number")&&(n.toastId=r2()),n={...n,...n.type==="loading"?l2:{},content:t,containerId:n.containerId||String(n.position)};const i=Number(n==null?void 0:n.progress);return!isNaN(i)&&i<0&&(n.progress=0),i>1&&(n.progress=1),n.theme==="auto"&&(n.theme=_8()),V8(n),r_.lastUrl=window.location.href,n.multiple?Ua.items.length?n.updateId&&vv(t,n):vv(t,n):(g0=!0,Ze.clearAll(void 0,!1),setTimeout(()=>{vv(t,n)},0),setTimeout(()=>{g0=!1},390)),n.toastId}const Ze=(t,e)=>Ql(t,Bs.DEFAULT,e);Ze.info=(t,e)=>Ql(t,Bs.DEFAULT,{...e,type:Bs.INFO});Ze.error=(t,e)=>Ql(t,Bs.DEFAULT,{...e,type:Bs.ERROR});Ze.warning=(t,e)=>Ql(t,Bs.DEFAULT,{...e,type:Bs.WARNING});Ze.warn=Ze.warning;Ze.success=(t,e)=>Ql(t,Bs.DEFAULT,{...e,type:Bs.SUCCESS});Ze.loading=(t,e)=>Ql(t,Bs.DEFAULT,ab(e,l2));Ze.dark=(t,e)=>Ql(t,Bs.DEFAULT,ab(e,{theme:zd.DARK}));Ze.remove=t=>{t?ur.dismiss(t):ur.clear()};Ze.clearAll=(t,e)=>{vt(()=>{ur.clear(t,e)})};Ze.isActive=t=>{let e=!1;return e=u2().findIndex(n=>n.toastId===t)>-1,e};Ze.update=(t,e={})=>{setTimeout(()=>{const n=f8(t);if(n){const i=Xe(n),{content:s}=i,r={...i,...e,toastId:e.toastId||t,updateId:r2()},a=r.render||s;delete r.render,Ql(a,r.type,r)}},0)};Ze.done=t=>{Ze.update(t,{isLoading:!1,progress:1})};Ze.promise=L8;function L8(t,{pending:e,error:n,success:i},s){var r,a,o;let l;const u={...s||{},autoClose:!1};e&&(l=Ux(e)?Ze.loading(e,u):Ze.loading(e.render,{...u,...e}));const d={autoClose:(r=s==null?void 0:s.autoClose)!=null?r:!0,closeOnClick:(a=s==null?void 0:s.closeOnClick)!=null?a:!0,closeButton:(o=s==null?void 0:s.autoClose)!=null?o:null,isLoading:void 0,draggable:null,delay:100},c=(h,p,g)=>{if(p==null){Ze.remove(l);return}const v={type:h,...d,...s,data:g},_=Ux(p)?{render:p}:p;return l?Ze.update(l,{...v,..._,isLoading:!1}):Ze(_.render,{...v,..._,isLoading:!1}),g},f=Ad(t)?t():t;return f.then(h=>{c("success",i,h)}).catch(h=>{c("error",n,h)}),f}Ze.POSITION=Cg;Ze.THEME=zd;Ze.TYPE=Bs;Ze.TRANSITIONS=Xz;const c2={install(t,e={}){m8.useHandler=e.useHandler||(()=>{}),N8(e)}};typeof window<"u"&&(window.Vue3Toastify=c2);function N8(t={}){const e=ab(t2,t);p8(e)}var RI={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d2={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const He=function(t,e){if(!t)throw Th(e)},Th=function(t){return new Error("Firebase Database ("+d2.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h2=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let s=t.charCodeAt(i);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},F8=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const s=t[n++];if(s<128)e[i++]=String.fromCharCode(s);else if(s>191&&s<224){const r=t[n++];e[i++]=String.fromCharCode((s&31)<<6|r&63)}else if(s>239&&s<365){const r=t[n++],a=t[n++],o=t[n++],l=((s&7)<<18|(r&63)<<12|(a&63)<<6|o&63)-65536;e[i++]=String.fromCharCode(55296+(l>>10)),e[i++]=String.fromCharCode(56320+(l&1023))}else{const r=t[n++],a=t[n++];e[i++]=String.fromCharCode((s&15)<<12|(r&63)<<6|a&63)}}return e.join("")},lb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let s=0;s<t.length;s+=3){const r=t[s],a=s+1<t.length,o=a?t[s+1]:0,l=s+2<t.length,u=l?t[s+2]:0,d=r>>2,c=(r&3)<<4|o>>4;let f=(o&15)<<2|u>>6,h=u&63;l||(h=64,a||(f=64)),i.push(n[d],n[c],n[f],n[h])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(h2(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):F8(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let s=0;s<t.length;){const r=n[t.charAt(s++)],o=s<t.length?n[t.charAt(s)]:0;++s;const u=s<t.length?n[t.charAt(s)]:64;++s;const c=s<t.length?n[t.charAt(s)]:64;if(++s,r==null||o==null||u==null||c==null)throw new B8;const f=r<<2|o>>4;if(i.push(f),u!==64){const h=o<<4&240|u>>2;if(i.push(h),c!==64){const p=u<<6&192|c;i.push(p)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class B8 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const f2=function(t){const e=h2(t);return lb.encodeByteArray(e,!0)},a_=function(t){return f2(t).replace(/\./g,"")},o_=function(t){try{return lb.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j8(t){return m2(void 0,t)}function m2(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!$8(n)||(t[n]=m2(t[n],e[n]));return t}function $8(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U8(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H8=()=>U8().__FIREBASE_DEFAULTS__,z8=()=>{if(typeof process>"u"||typeof RI>"u")return;const t=RI.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},W8=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&o_(t[1]);return e&&JSON.parse(e)},ub=()=>{try{return H8()||z8()||W8()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},g2=t=>{var e,n;return(n=(e=ub())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Y8=t=>{const e=g2(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},p2=()=>{var t;return(t=ub())===null||t===void 0?void 0:t.config},v2=t=>{var e;return(e=ub())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bm{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G8(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",s=t.iat||0,r=t.sub||t.user_id;if(!r)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:s,exp:s+3600,auth_time:s,sub:r,user_id:r,firebase:{sign_in_provider:"custom",identities:{}}},t);return[a_(JSON.stringify(n)),a_(JSON.stringify(a)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ps(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function qk(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ps())}function q8(){var t;const e=(t=ub())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function X8(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function _2(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function y2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function K8(){const t=Ps();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Q8(){return d2.NODE_ADMIN===!0}function J8(){return!q8()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Xk(){try{return typeof indexedDB=="object"}catch{return!1}}function b2(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(i);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var r;e(((r=s.error)===null||r===void 0?void 0:r.message)||"")}}catch(n){e(n)}})}function Z8(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eW="FirebaseError";class Nr extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=eW,Object.setPrototypeOf(this,Nr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Jl.prototype.create)}}class Jl{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},s=`${this.service}/${e}`,r=this.errors[e],a=r?tW(r,i):"Error",o=`${this.serviceName}: ${a} (${s}).`;return new Nr(s,o,i)}}function tW(t,e){return t.replace(nW,(n,i)=>{const s=e[i];return s!=null?String(s):`<${i}?>`})}const nW=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wm(t){return JSON.parse(t)}function es(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w2=function(t){let e={},n={},i={},s="";try{const r=t.split(".");e=wm(o_(r[0])||""),n=wm(o_(r[1])||""),s=r[2],i=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:i,signature:s}},iW=function(t){const e=w2(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},sW=function(t){const e=w2(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $o(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Yd(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function Hx(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function l_(t,e,n){const i={};for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(i[s]=e.call(n,t[s],s,t));return i}function xm(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const s of n){if(!i.includes(s))return!1;const r=t[s],a=e[s];if(OI(r)&&OI(a)){if(!xm(r,a))return!1}else if(r!==a)return!1}for(const s of i)if(!n.includes(s))return!1;return!0}function OI(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ph(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Pf(t){const e={};return t.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[s,r]=i.split("=");e[decodeURIComponent(s)]=decodeURIComponent(r)}}),e}function Cf(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rW{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const i=this.W_;if(typeof e=="string")for(let c=0;c<16;c++)i[c]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let c=0;c<16;c++)i[c]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let c=16;c<80;c++){const f=i[c-3]^i[c-8]^i[c-14]^i[c-16];i[c]=(f<<1|f>>>31)&4294967295}let s=this.chain_[0],r=this.chain_[1],a=this.chain_[2],o=this.chain_[3],l=this.chain_[4],u,d;for(let c=0;c<80;c++){c<40?c<20?(u=o^r&(a^o),d=1518500249):(u=r^a^o,d=1859775393):c<60?(u=r&a|o&(r|a),d=2400959708):(u=r^a^o,d=3395469782);const f=(s<<5|s>>>27)+u+l+d+i[c]&4294967295;l=o,o=a,a=(r<<30|r>>>2)&4294967295,r=s,s=f}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+r&4294967295,this.chain_[2]=this.chain_[2]+a&4294967295,this.chain_[3]=this.chain_[3]+o&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const i=n-this.blockSize;let s=0;const r=this.buf_;let a=this.inbuf_;for(;s<n;){if(a===0)for(;s<=i;)this.compress_(e,s),s+=this.blockSize;if(typeof e=="string"){for(;s<n;)if(r[a]=e.charCodeAt(s),++a,++s,a===this.blockSize){this.compress_(r),a=0;break}}else for(;s<n;)if(r[a]=e[s],++a,++s,a===this.blockSize){this.compress_(r),a=0;break}}this.inbuf_=a,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let s=this.blockSize-1;s>=56;s--)this.buf_[s]=n&255,n/=256;this.compress_(this.buf_);let i=0;for(let s=0;s<5;s++)for(let r=24;r>=0;r-=8)e[i]=this.chain_[s]>>r&255,++i;return e}}function aW(t,e){const n=new oW(t,e);return n.subscribe.bind(n)}class oW{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let s;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");lW(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:i},s.next===void 0&&(s.next=p0),s.error===void 0&&(s.error=p0),s.complete===void 0&&(s.complete=p0);const r=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),r}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function lW(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function p0(){}function uW(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cW=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let s=t.charCodeAt(i);if(s>=55296&&s<=56319){const r=s-55296;i++,He(i<t.length,"Surrogate pair missing trail surrogate.");const a=t.charCodeAt(i)-56320;s=65536+(r<<10)+a}s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):s<65536?(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},cb=function(t){let e=0;for(let n=0;n<t.length;n++){const i=t.charCodeAt(n);i<128?e++:i<2048?e+=2:i>=55296&&i<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dW=1e3,hW=2,fW=4*60*60*1e3,mW=.5;function MI(t,e=dW,n=hW){const i=e*Math.pow(n,t),s=Math.round(mW*i*(Math.random()-.5)*2);return Math.min(fW,i+s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ai(t){return t&&t._delegate?t._delegate:t}let js=class{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bu="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gW{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new bm;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&i.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(r){if(s)return null;throw r}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(vW(e))try{this.getOrInitializeService({instanceIdentifier:bu})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const r=this.getOrInitializeService({instanceIdentifier:s});i.resolve(r)}catch{}}}}clearInstance(e=bu){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=bu){return this.instances.has(e)}getOptions(e=bu){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[r,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(r);i===o&&a.resolve(s)}return s}onInit(e,n){var i;const s=this.normalizeInstanceIdentifier(n),r=(i=this.onInitCallbacks.get(s))!==null&&i!==void 0?i:new Set;r.add(e),this.onInitCallbacks.set(s,r);const a=this.instances.get(s);return a&&e(a,s),()=>{r.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const s of i)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:pW(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=bu){return this.component?this.component.multipleInstances?e:bu:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function pW(t){return t===bu?void 0:t}function vW(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _W{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new gW(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ft;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ft||(Ft={}));const yW={debug:Ft.DEBUG,verbose:Ft.VERBOSE,info:Ft.INFO,warn:Ft.WARN,error:Ft.ERROR,silent:Ft.SILENT},bW=Ft.INFO,wW={[Ft.DEBUG]:"log",[Ft.VERBOSE]:"log",[Ft.INFO]:"info",[Ft.WARN]:"warn",[Ft.ERROR]:"error"},xW=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),s=wW[e];if(s)console[s](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ch{constructor(e){this.name=e,this._logLevel=bW,this._logHandler=xW,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ft))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?yW[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ft.DEBUG,...e),this._logHandler(this,Ft.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ft.VERBOSE,...e),this._logHandler(this,Ft.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ft.INFO,...e),this._logHandler(this,Ft.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ft.WARN,...e),this._logHandler(this,Ft.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ft.ERROR,...e),this._logHandler(this,Ft.ERROR,...e)}}const SW=(t,e)=>e.some(n=>t instanceof n);let VI,LI;function kW(){return VI||(VI=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function TW(){return LI||(LI=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const x2=new WeakMap,zx=new WeakMap,S2=new WeakMap,v0=new WeakMap,Kk=new WeakMap;function PW(t){const e=new Promise((n,i)=>{const s=()=>{t.removeEventListener("success",r),t.removeEventListener("error",a)},r=()=>{n(Sl(t.result)),s()},a=()=>{i(t.error),s()};t.addEventListener("success",r),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&x2.set(n,t)}).catch(()=>{}),Kk.set(e,t),e}function CW(t){if(zx.has(t))return;const e=new Promise((n,i)=>{const s=()=>{t.removeEventListener("complete",r),t.removeEventListener("error",a),t.removeEventListener("abort",a)},r=()=>{n(),s()},a=()=>{i(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",r),t.addEventListener("error",a),t.addEventListener("abort",a)});zx.set(t,e)}let Wx={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return zx.get(t);if(e==="objectStoreNames")return t.objectStoreNames||S2.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Sl(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function EW(t){Wx=t(Wx)}function IW(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(_0(this),e,...n);return S2.set(i,e.sort?e.sort():[e]),Sl(i)}:TW().includes(t)?function(...e){return t.apply(_0(this),e),Sl(x2.get(this))}:function(...e){return Sl(t.apply(_0(this),e))}}function DW(t){return typeof t=="function"?IW(t):(t instanceof IDBTransaction&&CW(t),SW(t,kW())?new Proxy(t,Wx):t)}function Sl(t){if(t instanceof IDBRequest)return PW(t);if(v0.has(t))return v0.get(t);const e=DW(t);return e!==t&&(v0.set(t,e),Kk.set(e,t)),e}const _0=t=>Kk.get(t);function k2(t,e,{blocked:n,upgrade:i,blocking:s,terminated:r}={}){const a=indexedDB.open(t,e),o=Sl(a);return i&&a.addEventListener("upgradeneeded",l=>{i(Sl(a.result),l.oldVersion,l.newVersion,Sl(a.transaction),l)}),n&&a.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),o.then(l=>{r&&l.addEventListener("close",()=>r()),s&&l.addEventListener("versionchange",u=>s(u.oldVersion,u.newVersion,u))}).catch(()=>{}),o}const AW=["get","getKey","getAll","getAllKeys","count"],RW=["put","add","delete","clear"],y0=new Map;function NI(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(y0.get(e))return y0.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,s=RW.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(s||AW.includes(n)))return;const r=async function(a,...o){const l=this.transaction(a,s?"readwrite":"readonly");let u=l.store;return i&&(u=u.index(o.shift())),(await Promise.all([u[n](...o),s&&l.done]))[0]};return y0.set(e,r),r}EW(t=>({...t,get:(e,n,i)=>NI(e,n)||t.get(e,n,i),has:(e,n)=>!!NI(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OW{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(MW(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function MW(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Yx="@firebase/app",FI="0.10.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eo=new Ch("@firebase/app"),VW="@firebase/app-compat",LW="@firebase/analytics-compat",NW="@firebase/analytics",FW="@firebase/app-check-compat",BW="@firebase/app-check",jW="@firebase/auth",$W="@firebase/auth-compat",UW="@firebase/database",HW="@firebase/data-connect",zW="@firebase/database-compat",WW="@firebase/functions",YW="@firebase/functions-compat",GW="@firebase/installations",qW="@firebase/installations-compat",XW="@firebase/messaging",KW="@firebase/messaging-compat",QW="@firebase/performance",JW="@firebase/performance-compat",ZW="@firebase/remote-config",eY="@firebase/remote-config-compat",tY="@firebase/storage",nY="@firebase/storage-compat",iY="@firebase/firestore",sY="@firebase/vertexai",rY="@firebase/firestore-compat",aY="firebase",oY="11.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gx="[DEFAULT]",lY={[Yx]:"fire-core",[VW]:"fire-core-compat",[NW]:"fire-analytics",[LW]:"fire-analytics-compat",[BW]:"fire-app-check",[FW]:"fire-app-check-compat",[jW]:"fire-auth",[$W]:"fire-auth-compat",[UW]:"fire-rtdb",[HW]:"fire-data-connect",[zW]:"fire-rtdb-compat",[WW]:"fire-fn",[YW]:"fire-fn-compat",[GW]:"fire-iid",[qW]:"fire-iid-compat",[XW]:"fire-fcm",[KW]:"fire-fcm-compat",[QW]:"fire-perf",[JW]:"fire-perf-compat",[ZW]:"fire-rc",[eY]:"fire-rc-compat",[tY]:"fire-gcs",[nY]:"fire-gcs-compat",[iY]:"fire-fst",[rY]:"fire-fst-compat",[sY]:"fire-vertex","fire-js":"fire-js",[aY]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sm=new Map,uY=new Map,qx=new Map;function BI(t,e){try{t.container.addComponent(e)}catch(n){Eo.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function er(t){const e=t.name;if(qx.has(e))return Eo.debug(`There were multiple attempts to register component ${e}.`),!1;qx.set(e,t);for(const n of Sm.values())BI(n,t);for(const n of uY.values())BI(n,t);return!0}function Eh(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Yr(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cY={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},kl=new Jl("app","Firebase",cY);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dY{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new js("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw kl.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zl=oY;function T2(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i=Object.assign({name:Gx,automaticDataCollectionEnabled:!1},e),s=i.name;if(typeof s!="string"||!s)throw kl.create("bad-app-name",{appName:String(s)});if(n||(n=p2()),!n)throw kl.create("no-options");const r=Sm.get(s);if(r){if(xm(n,r.options)&&xm(i,r.config))return r;throw kl.create("duplicate-app",{appName:s})}const a=new _W(s);for(const l of qx.values())a.addComponent(l);const o=new dY(n,i,a);return Sm.set(s,o),o}function Qk(t=Gx){const e=Sm.get(t);if(!e&&t===Gx&&p2())return T2();if(!e)throw kl.create("no-app",{appName:t});return e}function hY(){return Array.from(Sm.values())}function is(t,e,n){var i;let s=(i=lY[t])!==null&&i!==void 0?i:t;n&&(s+=`-${n}`);const r=s.match(/\s|\//),a=e.match(/\s|\//);if(r||a){const o=[`Unable to register library "${s}" with version "${e}":`];r&&o.push(`library name "${s}" contains illegal characters (whitespace or "/")`),r&&a&&o.push("and"),a&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Eo.warn(o.join(" "));return}er(new js(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fY="firebase-heartbeat-database",mY=1,km="firebase-heartbeat-store";let b0=null;function P2(){return b0||(b0=k2(fY,mY,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(km)}catch(n){console.warn(n)}}}}).catch(t=>{throw kl.create("idb-open",{originalErrorMessage:t.message})})),b0}async function gY(t){try{const n=(await P2()).transaction(km),i=await n.objectStore(km).get(C2(t));return await n.done,i}catch(e){if(e instanceof Nr)Eo.warn(e.message);else{const n=kl.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Eo.warn(n.message)}}}async function jI(t,e){try{const i=(await P2()).transaction(km,"readwrite");await i.objectStore(km).put(e,C2(t)),await i.done}catch(n){if(n instanceof Nr)Eo.warn(n.message);else{const i=kl.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Eo.warn(i.message)}}}function C2(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pY=1024,vY=30*24*60*60*1e3;class _Y{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new bY(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=$I();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(a=>a.date===r)?void 0:(this._heartbeatsCache.heartbeats.push({date:r,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(a=>{const o=new Date(a.date).valueOf();return Date.now()-o<=vY}),this._storage.overwrite(this._heartbeatsCache))}catch(i){Eo.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=$I(),{heartbeatsToSend:i,unsentEntries:s}=yY(this._heartbeatsCache.heartbeats),r=a_(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(n){return Eo.warn(n),""}}}function $I(){return new Date().toISOString().substring(0,10)}function yY(t,e=pY){const n=[];let i=t.slice();for(const s of t){const r=n.find(a=>a.agent===s.agent);if(r){if(r.dates.push(s.date),UI(n)>e){r.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),UI(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class bY{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Xk()?b2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await gY(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return jI(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return jI(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function UI(t){return a_(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wY(t){er(new js("platform-logger",e=>new OW(e),"PRIVATE")),er(new js("heartbeat",e=>new _Y(e),"PRIVATE")),is(Yx,FI,t),is(Yx,FI,"esm2017"),is("fire-js","")}wY("");function Jk(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(t);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(t,i[s])&&(n[i[s]]=t[i[s]]);return n}function Si(t,e,n,i){function s(r){return r instanceof n?r:new n(function(a){a(r)})}return new(n||(n=Promise))(function(r,a){function o(d){try{u(i.next(d))}catch(c){a(c)}}function l(d){try{u(i.throw(d))}catch(c){a(c)}}function u(d){d.done?r(d.value):s(d.value).then(o,l)}u((i=i.apply(t,e||[])).next())})}function E2(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const xY=E2,I2=new Jl("auth","Firebase",E2());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u_=new Ch("@firebase/auth");function SY(t,...e){u_.logLevel<=Ft.WARN&&u_.warn(`Auth (${Zl}): ${t}`,...e)}function wv(t,...e){u_.logLevel<=Ft.ERROR&&u_.error(`Auth (${Zl}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mr(t,...e){throw eT(t,...e)}function ea(t,...e){return eT(t,...e)}function Zk(t,e,n){const i=Object.assign(Object.assign({},xY()),{[e]:n});return new Jl("auth","Firebase",i).create(e,{appName:t.name})}function wo(t){return Zk(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function kY(t,e,n){const i=n;if(!(e instanceof i))throw i.name!==e.constructor.name&&Mr(t,"argument-error"),Zk(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function eT(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return I2.create(t,...e)}function yt(t,e,...n){if(!t)throw eT(e,...n)}function vo(t){const e="INTERNAL ASSERTION FAILED: "+t;throw wv(e),new Error(e)}function Io(t,e){t||vo(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xx(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function TY(){return HI()==="http:"||HI()==="https:"}function HI(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PY(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(TY()||_2()||"connection"in navigator)?navigator.onLine:!0}function CY(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eg{constructor(e,n){this.shortDelay=e,this.longDelay=n,Io(n>e,"Short delay should be less than long delay!"),this.isMobile=qk()||y2()}get(){return PY()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tT(t,e){Io(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D2{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;vo("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;vo("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;vo("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EY={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IY=new Eg(3e4,6e4);function Uo(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function qa(t,e,n,i,s={}){return A2(t,s,async()=>{let r={},a={};i&&(e==="GET"?a=i:r={body:JSON.stringify(i)});const o=Ph(Object.assign({key:t.config.apiKey},a)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:l},r);return X8()||(u.referrerPolicy="no-referrer"),D2.fetch()(R2(t,t.config.apiHost,n,o),u)})}async function A2(t,e,n){t._canInitEmulator=!1;const i=Object.assign(Object.assign({},EY),e);try{const s=new AY(t),r=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const a=await r.json();if("needConfirmation"in a)throw Dp(t,"account-exists-with-different-credential",a);if(r.ok&&!("errorMessage"in a))return a;{const o=r.ok?a.errorMessage:a.error.message,[l,u]=o.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Dp(t,"credential-already-in-use",a);if(l==="EMAIL_EXISTS")throw Dp(t,"email-already-in-use",a);if(l==="USER_DISABLED")throw Dp(t,"user-disabled",a);const d=i[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw Zk(t,d,u);Mr(t,d)}}catch(s){if(s instanceof Nr)throw s;Mr(t,"network-request-failed",{message:String(s)})}}async function Ig(t,e,n,i,s={}){const r=await qa(t,e,n,i,s);return"mfaPendingCredential"in r&&Mr(t,"multi-factor-auth-required",{_serverResponse:r}),r}function R2(t,e,n,i){const s=`${e}${n}?${i}`;return t.config.emulator?tT(t.config,s):`${t.config.apiScheme}://${s}`}function DY(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class AY{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(ea(this.auth,"network-request-failed")),IY.get())})}}function Dp(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const s=ea(t,e,i);return s.customData._tokenResponse=n,s}function zI(t){return t!==void 0&&t.enterprise!==void 0}class RY{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return DY(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function OY(t,e){return qa(t,"GET","/v2/recaptchaConfig",Uo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MY(t,e){return qa(t,"POST","/v1/accounts:delete",e)}async function O2(t,e){return qa(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qf(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function VY(t,e=!1){const n=ai(t),i=await n.getIdToken(e),s=nT(i);yt(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const r=typeof s.firebase=="object"?s.firebase:void 0,a=r==null?void 0:r.sign_in_provider;return{claims:s,token:i,authTime:qf(w0(s.auth_time)),issuedAtTime:qf(w0(s.iat)),expirationTime:qf(w0(s.exp)),signInProvider:a||null,signInSecondFactor:(r==null?void 0:r.sign_in_second_factor)||null}}function w0(t){return Number(t)*1e3}function nT(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return wv("JWT malformed, contained fewer than 3 sections"),null;try{const s=o_(n);return s?JSON.parse(s):(wv("Failed to decode base64 JWT payload"),null)}catch(s){return wv("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function WI(t){const e=nT(t);return yt(e,"internal-error"),yt(typeof e.exp<"u","internal-error"),yt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gd(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof Nr&&LY(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function LY({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NY{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kx{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=qf(this.lastLoginAt),this.creationTime=qf(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c_(t){var e;const n=t.auth,i=await t.getIdToken(),s=await Gd(t,O2(n,{idToken:i}));yt(s==null?void 0:s.users.length,n,"internal-error");const r=s.users[0];t._notifyReloadListener(r);const a=!((e=r.providerUserInfo)===null||e===void 0)&&e.length?M2(r.providerUserInfo):[],o=BY(t.providerData,a),l=t.isAnonymous,u=!(t.email&&r.passwordHash)&&!(o!=null&&o.length),d=l?u:!1,c={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:o,metadata:new Kx(r.createdAt,r.lastLoginAt),isAnonymous:d};Object.assign(t,c)}async function FY(t){const e=ai(t);await c_(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function BY(t,e){return[...t.filter(i=>!e.some(s=>s.providerId===i.providerId)),...e]}function M2(t){return t.map(e=>{var{providerId:n}=e,i=Jk(e,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jY(t,e){const n=await A2(t,{},async()=>{const i=Ph({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:r}=t.config,a=R2(t,s,"/v1/token",`key=${r}`),o=await t._getAdditionalHeaders();return o["Content-Type"]="application/x-www-form-urlencoded",D2.fetch()(a,{method:"POST",headers:o,body:i})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function $Y(t,e){return qa(t,"POST","/v2/accounts:revokeToken",Uo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rd{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){yt(e.idToken,"internal-error"),yt(typeof e.idToken<"u","internal-error"),yt(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):WI(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){yt(e.length!==0,"internal-error");const n=WI(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(yt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:s,expiresIn:r}=await jY(e,n);this.updateTokensAndExpiration(i,s,Number(r))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:s,expirationTime:r}=n,a=new Rd;return i&&(yt(typeof i=="string","internal-error",{appName:e}),a.refreshToken=i),s&&(yt(typeof s=="string","internal-error",{appName:e}),a.accessToken=s),r&&(yt(typeof r=="number","internal-error",{appName:e}),a.expirationTime=r),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Rd,this.toJSON())}_performRefresh(){return vo("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tl(t,e){yt(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class _o{constructor(e){var{uid:n,auth:i,stsTokenManager:s}=e,r=Jk(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new NY(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new Kx(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(e){const n=await Gd(this,this.stsTokenManager.getToken(this.auth,e));return yt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return VY(this,e)}reload(){return FY(this)}_assign(e){this!==e&&(yt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new _o(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){yt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await c_(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Yr(this.auth.app))return Promise.reject(wo(this.auth));const e=await this.getIdToken();return await Gd(this,MY(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var i,s,r,a,o,l,u,d;const c=(i=n.displayName)!==null&&i!==void 0?i:void 0,f=(s=n.email)!==null&&s!==void 0?s:void 0,h=(r=n.phoneNumber)!==null&&r!==void 0?r:void 0,p=(a=n.photoURL)!==null&&a!==void 0?a:void 0,g=(o=n.tenantId)!==null&&o!==void 0?o:void 0,v=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,_=(u=n.createdAt)!==null&&u!==void 0?u:void 0,b=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:x,emailVerified:k,isAnonymous:I,providerData:E,stsTokenManager:T}=n;yt(x&&T,e,"internal-error");const S=Rd.fromJSON(this.name,T);yt(typeof x=="string",e,"internal-error"),tl(c,e.name),tl(f,e.name),yt(typeof k=="boolean",e,"internal-error"),yt(typeof I=="boolean",e,"internal-error"),tl(h,e.name),tl(p,e.name),tl(g,e.name),tl(v,e.name),tl(_,e.name),tl(b,e.name);const w=new _o({uid:x,auth:e,email:f,emailVerified:k,displayName:c,isAnonymous:I,photoURL:p,phoneNumber:h,tenantId:g,stsTokenManager:S,createdAt:_,lastLoginAt:b});return E&&Array.isArray(E)&&(w.providerData=E.map(P=>Object.assign({},P))),v&&(w._redirectEventId=v),w}static async _fromIdTokenResponse(e,n,i=!1){const s=new Rd;s.updateFromServerResponse(n);const r=new _o({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:i});return await c_(r),r}static async _fromGetAccountInfoResponse(e,n,i){const s=n.users[0];yt(s.localId!==void 0,"internal-error");const r=s.providerUserInfo!==void 0?M2(s.providerUserInfo):[],a=!(s.email&&s.passwordHash)&&!(r!=null&&r.length),o=new Rd;o.updateFromIdToken(i);const l=new _o({uid:s.localId,auth:e,stsTokenManager:o,isAnonymous:a}),u={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:r,metadata:new Kx(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(r!=null&&r.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YI=new Map;function yo(t){Io(t instanceof Function,"Expected a class definition");let e=YI.get(t);return e?(Io(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,YI.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V2{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}V2.type="NONE";const GI=V2;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xv(t,e,n){return`firebase:${t}:${e}:${n}`}class Od{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:s,name:r}=this.auth;this.fullUserKey=xv(this.userKey,s.apiKey,r),this.fullPersistenceKey=xv("persistence",s.apiKey,r),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?_o._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new Od(yo(GI),e,i);const s=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let r=s[0]||yo(GI);const a=xv(i,e.config.apiKey,e.name);let o=null;for(const u of n)try{const d=await u._get(a);if(d){const c=_o._fromJSON(e,d);u!==r&&(o=c),r=u;break}}catch{}const l=s.filter(u=>u._shouldAllowMigration);return!r._shouldAllowMigration||!l.length?new Od(r,e,i):(r=l[0],o&&await r._set(a,o.toJSON()),await Promise.all(n.map(async u=>{if(u!==r)try{await u._remove(a)}catch{}})),new Od(r,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qI(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(B2(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(L2(e))return"Firefox";if(e.includes("silk/"))return"Silk";if($2(e))return"Blackberry";if(U2(e))return"Webos";if(N2(e))return"Safari";if((e.includes("chrome/")||F2(e))&&!e.includes("edge/"))return"Chrome";if(j2(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function L2(t=Ps()){return/firefox\//i.test(t)}function N2(t=Ps()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function F2(t=Ps()){return/crios\//i.test(t)}function B2(t=Ps()){return/iemobile/i.test(t)}function j2(t=Ps()){return/android/i.test(t)}function $2(t=Ps()){return/blackberry/i.test(t)}function U2(t=Ps()){return/webos/i.test(t)}function iT(t=Ps()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function UY(t=Ps()){var e;return iT(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function HY(){return K8()&&document.documentMode===10}function H2(t=Ps()){return iT(t)||j2(t)||U2(t)||$2(t)||/windows phone/i.test(t)||B2(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z2(t,e=[]){let n;switch(t){case"Browser":n=qI(Ps());break;case"Worker":n=`${qI(Ps())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Zl}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zY{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=r=>new Promise((a,o)=>{try{const l=e(r);a(l)}catch(l){o(l)}});i.onAbort=n,this.queue.push(i);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WY(t,e={}){return qa(t,"GET","/v2/passwordPolicy",Uo(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YY=6;class GY{constructor(e){var n,i,s,r;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=a.minPasswordLength)!==null&&n!==void 0?n:YY,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(r=e.forceUpgradeOnSignin)!==null&&r!==void 0?r:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,i,s,r,a,o;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(i=l.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsLowercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(r=l.containsUppercaseLetter)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(a=l.containsNumericCharacter)!==null&&a!==void 0?a:!0),l.isValid&&(l.isValid=(o=l.containsNonAlphanumericCharacter)!==null&&o!==void 0?o:!0),l}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let s=0;s<e.length;s++)i=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,s,r){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qY{constructor(e,n,i,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new XI(this),this.idTokenSubscription=new XI(this),this.beforeStateQueue=new zY(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=I2,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=yo(n)),this._initializationPromise=this.queue(async()=>{var i,s;if(!this._deleted&&(this.persistenceManager=await Od.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await O2(this,{idToken:e}),i=await _o._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Yr(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(o,o))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let s=i,r=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,o=s==null?void 0:s._redirectEventId,l=await this.tryRedirectSignIn(e);(!a||a===o)&&(l!=null&&l.user)&&(s=l.user,r=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(s)}catch(a){s=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return yt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await c_(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=CY()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Yr(this.app))return Promise.reject(wo(this));const n=e?ai(e):null;return n&&yt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&yt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Yr(this.app)?Promise.reject(wo(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Yr(this.app)?Promise.reject(wo(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(yo(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await WY(this),n=new GY(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Jl("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await $Y(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&yo(e)||this._popupRedirectResolver;yt(n,this,"argument-error"),this.redirectPersistenceManager=await Od.create(this,[yo(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,s){if(this._deleted)return()=>{};const r=typeof n=="function"?n:n.next.bind(n);let a=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(yt(o,this,"internal-error"),o.then(()=>{a||r(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,i,s);return()=>{a=!0,l()}}else{const l=e.addObserver(n);return()=>{a=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return yt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=z2(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(n["X-Firebase-Client"]=i);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&SY(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Ho(t){return ai(t)}class XI{constructor(e){this.auth=e,this.observer=null,this.addObserver=aW(n=>this.observer=n)}get next(){return yt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let db={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function XY(t){db=t}function W2(t){return db.loadJS(t)}function KY(){return db.recaptchaEnterpriseScript}function QY(){return db.gapiScript}function JY(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class ZY{constructor(){this.enterprise=new e7}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class e7{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const t7="recaptcha-enterprise",Y2="NO_RECAPTCHA";class n7{constructor(e){this.type=t7,this.auth=Ho(e)}async verify(e="verify",n=!1){async function i(r){if(!n){if(r.tenantId==null&&r._agentRecaptchaConfig!=null)return r._agentRecaptchaConfig.siteKey;if(r.tenantId!=null&&r._tenantRecaptchaConfigs[r.tenantId]!==void 0)return r._tenantRecaptchaConfigs[r.tenantId].siteKey}return new Promise(async(a,o)=>{OY(r,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)o(new Error("recaptcha Enterprise site key undefined"));else{const u=new RY(l);return r.tenantId==null?r._agentRecaptchaConfig=u:r._tenantRecaptchaConfigs[r.tenantId]=u,a(u.siteKey)}}).catch(l=>{o(l)})})}function s(r,a,o){const l=window.grecaptcha;zI(l)?l.enterprise.ready(()=>{l.enterprise.execute(r,{action:e}).then(u=>{a(u)}).catch(()=>{a(Y2)})}):o(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new ZY().execute("siteKey",{action:"verify"}):new Promise((r,a)=>{i(this.auth).then(o=>{if(!n&&zI(window.grecaptcha))s(o,r,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let l=KY();l.length!==0&&(l+=o),W2(l).then(()=>{s(o,r,a)}).catch(u=>{a(u)})}}).catch(o=>{a(o)})})}}async function KI(t,e,n,i=!1,s=!1){const r=new n7(t);let a;if(s)a=Y2;else try{a=await r.verify(n)}catch{a=await r.verify(n,!0)}const o=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in o){const l=o.phoneEnrollmentInfo.phoneNumber,u=o.phoneEnrollmentInfo.recaptchaToken;Object.assign(o,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:u,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in o){const l=o.phoneSignInInfo.recaptchaToken;Object.assign(o,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return o}return i?Object.assign(o,{captchaResp:a}):Object.assign(o,{captchaResponse:a}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function d_(t,e,n,i,s){var r;if(!((r=t._getRecaptchaConfig())===null||r===void 0)&&r.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await KI(t,e,n,n==="getOobCode");return i(t,a)}else return i(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await KI(t,e,n,n==="getOobCode");return i(t,o)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G2(t,e){const n=Eh(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),r=n.getOptions();if(xm(r,e??{}))return s;Mr(s,"already-initialized")}return n.initialize({options:e})}function i7(t,e){const n=(e==null?void 0:e.persistence)||[],i=(Array.isArray(n)?n:[n]).map(yo);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function q2(t,e,n){const i=Ho(t);yt(i._canInitEmulator,i,"emulator-config-failed"),yt(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const s=!1,r=X2(e),{host:a,port:o}=s7(e),l=o===null?"":`:${o}`;i.config.emulator={url:`${r}//${a}${l}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:a,port:o,protocol:r.replace(":",""),options:Object.freeze({disableWarnings:s})}),r7()}function X2(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function s7(t){const e=X2(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(i);if(s){const r=s[1];return{host:r,port:QI(i.substr(r.length+1))}}else{const[r,a]=i.split(":");return{host:r,port:QI(a)}}}function QI(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function r7(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sT{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return vo("not implemented")}_getIdTokenResponse(e){return vo("not implemented")}_linkToIdToken(e,n){return vo("not implemented")}_getReauthenticationResolver(e){return vo("not implemented")}}async function a7(t,e){return qa(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function o7(t,e){return Ig(t,"POST","/v1/accounts:signInWithPassword",Uo(t,e))}async function l7(t,e){return qa(t,"POST","/v1/accounts:sendOobCode",Uo(t,e))}async function u7(t,e){return l7(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c7(t,e){return Ig(t,"POST","/v1/accounts:signInWithEmailLink",Uo(t,e))}async function d7(t,e){return Ig(t,"POST","/v1/accounts:signInWithEmailLink",Uo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tm extends sT{constructor(e,n,i,s=null){super("password",i),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new Tm(e,n,"password")}static _fromEmailAndCode(e,n,i=null){return new Tm(e,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return d_(e,n,"signInWithPassword",o7);case"emailLink":return c7(e,{email:this._email,oobCode:this._password});default:Mr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return d_(e,i,"signUpPassword",a7);case"emailLink":return d7(e,{idToken:n,email:this._email,oobCode:this._password});default:Mr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Md(t,e){return Ig(t,"POST","/v1/accounts:signInWithIdp",Uo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h7="http://localhost";class Zu extends sT{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Zu(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Mr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:s}=n,r=Jk(n,["providerId","signInMethod"]);if(!i||!s)return null;const a=new Zu(i,s);return a.idToken=r.idToken||void 0,a.accessToken=r.accessToken||void 0,a.secret=r.secret,a.nonce=r.nonce,a.pendingToken=r.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return Md(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,Md(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Md(e,n)}buildRequest(){const e={requestUri:h7,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Ph(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f7(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function m7(t){const e=Pf(Cf(t)).link,n=e?Pf(Cf(e)).deep_link_id:null,i=Pf(Cf(t)).deep_link_id;return(i?Pf(Cf(i)).link:null)||i||n||e||t}class rT{constructor(e){var n,i,s,r,a,o;const l=Pf(Cf(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,d=(i=l.oobCode)!==null&&i!==void 0?i:null,c=f7((s=l.mode)!==null&&s!==void 0?s:null);yt(u&&d&&c,"argument-error"),this.apiKey=u,this.operation=c,this.code=d,this.continueUrl=(r=l.continueUrl)!==null&&r!==void 0?r:null,this.languageCode=(a=l.languageCode)!==null&&a!==void 0?a:null,this.tenantId=(o=l.tenantId)!==null&&o!==void 0?o:null}static parseLink(e){const n=m7(e);try{return new rT(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ih{constructor(){this.providerId=Ih.PROVIDER_ID}static credential(e,n){return Tm._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const i=rT.parseLink(n);return yt(i,"argument-error"),Tm._fromEmailAndCode(e,i.code,i.tenantId)}}Ih.PROVIDER_ID="password";Ih.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ih.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aT{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dg extends aT{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hl extends Dg{constructor(){super("facebook.com")}static credential(e){return Zu._fromParams({providerId:hl.PROVIDER_ID,signInMethod:hl.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return hl.credentialFromTaggedObject(e)}static credentialFromError(e){return hl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return hl.credential(e.oauthAccessToken)}catch{return null}}}hl.FACEBOOK_SIGN_IN_METHOD="facebook.com";hl.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo extends Dg{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Zu._fromParams({providerId:fo.PROVIDER_ID,signInMethod:fo.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return fo.credentialFromTaggedObject(e)}static credentialFromError(e){return fo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return fo.credential(n,i)}catch{return null}}}fo.GOOGLE_SIGN_IN_METHOD="google.com";fo.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fl extends Dg{constructor(){super("github.com")}static credential(e){return Zu._fromParams({providerId:fl.PROVIDER_ID,signInMethod:fl.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return fl.credentialFromTaggedObject(e)}static credentialFromError(e){return fl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return fl.credential(e.oauthAccessToken)}catch{return null}}}fl.GITHUB_SIGN_IN_METHOD="github.com";fl.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ml extends Dg{constructor(){super("twitter.com")}static credential(e,n){return Zu._fromParams({providerId:ml.PROVIDER_ID,signInMethod:ml.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ml.credentialFromTaggedObject(e)}static credentialFromError(e){return ml.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return ml.credential(n,i)}catch{return null}}}ml.TWITTER_SIGN_IN_METHOD="twitter.com";ml.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function g7(t,e){return Ig(t,"POST","/v1/accounts:signUp",Uo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ec{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,s=!1){const r=await _o._fromIdTokenResponse(e,i,s),a=JI(i);return new ec({user:r,providerId:a,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const s=JI(i);return new ec({user:e,providerId:s,_tokenResponse:i,operationType:n})}}function JI(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h_ extends Nr{constructor(e,n,i,s){var r;super(n.code,n.message),this.operationType=i,this.user=s,Object.setPrototypeOf(this,h_.prototype),this.customData={appName:e.name,tenantId:(r=e.tenantId)!==null&&r!==void 0?r:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,s){return new h_(e,n,i,s)}}function K2(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(r=>{throw r.code==="auth/multi-factor-auth-required"?h_._fromErrorAndOperation(t,r,e,i):r})}async function p7(t,e,n=!1){const i=await Gd(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ec._forOperation(t,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function v7(t,e,n=!1){const{auth:i}=t;if(Yr(i.app))return Promise.reject(wo(i));const s="reauthenticate";try{const r=await Gd(t,K2(i,s,e,t),n);yt(r.idToken,i,"internal-error");const a=nT(r.idToken);yt(a,i,"internal-error");const{sub:o}=a;return yt(t.uid===o,i,"user-mismatch"),ec._forOperation(t,s,r)}catch(r){throw(r==null?void 0:r.code)==="auth/user-not-found"&&Mr(i,"user-mismatch"),r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Q2(t,e,n=!1){if(Yr(t.app))return Promise.reject(wo(t));const i="signIn",s=await K2(t,i,e),r=await ec._fromIdTokenResponse(t,i,s);return n||await t._updateCurrentUser(r.user),r}async function _7(t,e){return Q2(Ho(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function J2(t){const e=Ho(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function y7(t,e,n){const i=Ho(t);await d_(i,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",u7)}async function b7(t,e,n){if(Yr(t.app))return Promise.reject(wo(t));const i=Ho(t),a=await d_(i,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",g7).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&J2(t),l}),o=await ec._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(o.user),o}function w7(t,e,n){return Yr(t.app)?Promise.reject(wo(t)):_7(ai(t),Ih.credential(e,n)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&J2(t),i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x7(t,e){return qa(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S7(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const i=ai(t),r={idToken:await i.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},a=await Gd(i,x7(i.auth,r));i.displayName=a.displayName||null,i.photoURL=a.photoUrl||null;const o=i.providerData.find(({providerId:l})=>l==="password");o&&(o.displayName=i.displayName,o.photoURL=i.photoURL),await i._updateTokensIfNecessary(a)}function Z2(t,e,n,i){return ai(t).onIdTokenChanged(e,n,i)}function k7(t,e,n){return ai(t).beforeAuthStateChanged(e,n)}function T7(t){return ai(t).signOut()}const f_="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eN{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(f_,"1"),this.storage.removeItem(f_),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P7=1e3,C7=10;class tN extends eN{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=H2(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),s=this.localCache[n];i!==s&&e(n,s,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,o,l)=>{this.notifyListeners(a,l)});return}const i=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const a=this.storage.getItem(i);!n&&this.localCache[i]===a||this.notifyListeners(i,a)},r=this.storage.getItem(i);HY()&&r!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,C7):s()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},P7)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}tN.type="LOCAL";const nN=tN;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iN extends eN{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}iN.type="SESSION";const oT=iN;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E7(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hb{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const i=new hb(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:s,data:r}=n.data,a=this.handlersMap[s];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:s});const o=Array.from(a).map(async u=>u(n.origin,r)),l=await E7(o);n.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}hb.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lT(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I7{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let r,a;return new Promise((o,l)=>{const u=lT("",20);s.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},i);a={messageChannel:s,onMessage(c){const f=c;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(d),r=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(r),o(f.data.response);break;default:clearTimeout(d),clearTimeout(r),l(new Error("invalid_response"));break}}},this.handlers.add(a),s.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[s.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oa(){return window}function D7(t){Oa().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sN(){return typeof Oa().WorkerGlobalScope<"u"&&typeof Oa().importScripts=="function"}async function A7(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function R7(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function O7(){return sN()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rN="firebaseLocalStorageDb",M7=1,m_="firebaseLocalStorage",aN="fbase_key";class Ag{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function fb(t,e){return t.transaction([m_],e?"readwrite":"readonly").objectStore(m_)}function V7(){const t=indexedDB.deleteDatabase(rN);return new Ag(t).toPromise()}function Qx(){const t=indexedDB.open(rN,M7);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(m_,{keyPath:aN})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(m_)?e(i):(i.close(),await V7(),e(await Qx()))})})}async function ZI(t,e,n){const i=fb(t,!0).put({[aN]:e,value:n});return new Ag(i).toPromise()}async function L7(t,e){const n=fb(t,!1).get(e),i=await new Ag(n).toPromise();return i===void 0?null:i.value}function eD(t,e){const n=fb(t,!0).delete(e);return new Ag(n).toPromise()}const N7=800,F7=3;class oN{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Qx(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>F7)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return sN()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=hb._getInstance(O7()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await A7(),!this.activeServiceWorker)return;this.sender=new I7(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((n=i[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||R7()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Qx();return await ZI(e,f_,"1"),await eD(e,f_),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>ZI(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>L7(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>eD(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const r=fb(s,!1).getAll();return new Ag(r).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:s,value:r}of e)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(r)&&(this.notifyListeners(s,r),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),N7)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}oN.type="LOCAL";const lN=oN;new Eg(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uN(t,e){return e?yo(e):(yt(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uT extends sT{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Md(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Md(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Md(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function B7(t){return Q2(t.auth,new uT(t),t.bypassAuthState)}function j7(t){const{auth:e,user:n}=t;return yt(n,e,"internal-error"),v7(n,new uT(t),t.bypassAuthState)}async function $7(t){const{auth:e,user:n}=t;return yt(n,e,"internal-error"),p7(n,new uT(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cN{constructor(e,n,i,s,r=!1){this.auth=e,this.resolver=i,this.user=s,this.bypassAuthState=r,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:s,tenantId:r,error:a,type:o}=e;if(a){this.reject(a);return}const l={auth:this.auth,requestUri:n,sessionId:i,tenantId:r||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return B7;case"linkViaPopup":case"linkViaRedirect":return $7;case"reauthViaPopup":case"reauthViaRedirect":return j7;default:Mr(this.auth,"internal-error")}}resolve(e){Io(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Io(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U7=new Eg(2e3,1e4);async function H7(t,e,n){if(Yr(t.app))return Promise.reject(ea(t,"operation-not-supported-in-this-environment"));const i=Ho(t);kY(t,e,aT);const s=uN(i,n);return new Au(i,"signInViaPopup",e,s).executeNotNull()}class Au extends cN{constructor(e,n,i,s,r){super(e,n,s,r),this.provider=i,this.authWindow=null,this.pollId=null,Au.currentPopupAction&&Au.currentPopupAction.cancel(),Au.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return yt(e,this.auth,"internal-error"),e}async onExecution(){Io(this.filter.length===1,"Popup operations only handle one event");const e=lT();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ea(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ea(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Au.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,i;if(!((i=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ea(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,U7.get())};e()}}Au.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z7="pendingRedirect",Sv=new Map;class W7 extends cN{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=Sv.get(this.auth._key());if(!e){try{const i=await Y7(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}Sv.set(this.auth._key(),e)}return this.bypassAuthState||Sv.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Y7(t,e){const n=X7(e),i=q7(t);if(!await i._isAvailable())return!1;const s=await i._get(n)==="true";return await i._remove(n),s}function G7(t,e){Sv.set(t._key(),e)}function q7(t){return yo(t._redirectPersistence)}function X7(t){return xv(z7,t.config.apiKey,t.name)}async function K7(t,e,n=!1){if(Yr(t.app))return Promise.reject(wo(t));const i=Ho(t),s=uN(i,e),a=await new W7(i,s,n).execute();return a&&!n&&(delete a.user._redirectEventId,await i._persistUserIfCurrent(a.user),await i._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q7=10*60*1e3;class J7{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Z7(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!dN(e)){const s=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(ea(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Q7&&this.cachedEventUids.clear(),this.cachedEventUids.has(tD(e))}saveEventToCache(e){this.cachedEventUids.add(tD(e)),this.lastProcessedEventTime=Date.now()}}function tD(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function dN({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Z7(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return dN(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eG(t,e={}){return qa(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tG=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,nG=/^https?/;async function iG(t){if(t.config.emulator)return;const{authorizedDomains:e}=await eG(t);for(const n of e)try{if(sG(n))return}catch{}Mr(t,"unauthorized-domain")}function sG(t){const e=Xx(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===i}if(!nG.test(n))return!1;if(tG.test(t))return i===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rG=new Eg(3e4,6e4);function nD(){const t=Oa().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function aG(t){return new Promise((e,n)=>{var i,s,r;function a(){nD(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{nD(),n(ea(t,"network-request-failed"))},timeout:rG.get()})}if(!((s=(i=Oa().gapi)===null||i===void 0?void 0:i.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((r=Oa().gapi)===null||r===void 0)&&r.load)a();else{const o=JY("iframefcb");return Oa()[o]=()=>{gapi.load?a():n(ea(t,"network-request-failed"))},W2(`${QY()}?onload=${o}`).catch(l=>n(l))}}).catch(e=>{throw kv=null,e})}let kv=null;function oG(t){return kv=kv||aG(t),kv}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lG=new Eg(5e3,15e3),uG="__/auth/iframe",cG="emulator/auth/iframe",dG={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},hG=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function fG(t){const e=t.config;yt(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?tT(e,cG):`https://${t.config.authDomain}/${uG}`,i={apiKey:e.apiKey,appName:t.name,v:Zl},s=hG.get(t.config.apiHost);s&&(i.eid=s);const r=t._getFrameworks();return r.length&&(i.fw=r.join(",")),`${n}?${Ph(i).slice(1)}`}async function mG(t){const e=await oG(t),n=Oa().gapi;return yt(n,t,"internal-error"),e.open({where:document.body,url:fG(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:dG,dontclear:!0},i=>new Promise(async(s,r)=>{await i.restyle({setHideOnLeave:!1});const a=ea(t,"network-request-failed"),o=Oa().setTimeout(()=>{r(a)},lG.get());function l(){Oa().clearTimeout(o),s(i)}i.ping(l).then(l,()=>{r(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gG={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},pG=500,vG=600,_G="_blank",yG="http://localhost";class iD{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function bG(t,e,n,i=pG,s=vG){const r=Math.max((window.screen.availHeight-s)/2,0).toString(),a=Math.max((window.screen.availWidth-i)/2,0).toString();let o="";const l=Object.assign(Object.assign({},gG),{width:i.toString(),height:s.toString(),top:r,left:a}),u=Ps().toLowerCase();n&&(o=F2(u)?_G:n),L2(u)&&(e=e||yG,l.scrollbars="yes");const d=Object.entries(l).reduce((f,[h,p])=>`${f}${h}=${p},`,"");if(UY(u)&&o!=="_self")return wG(e||"",o),new iD(null);const c=window.open(e||"",o,d);yt(c,t,"popup-blocked");try{c.focus()}catch{}return new iD(c)}function wG(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xG="__/auth/handler",SG="emulator/auth/handler",kG=encodeURIComponent("fac");async function sD(t,e,n,i,s,r){yt(t.config.authDomain,t,"auth-domain-config-required"),yt(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:Zl,eventId:s};if(e instanceof aT){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",Hx(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,c]of Object.entries({}))a[d]=c}if(e instanceof Dg){const d=e.getScopes().filter(c=>c!=="");d.length>0&&(a.scopes=d.join(","))}t.tenantId&&(a.tid=t.tenantId);const o=a;for(const d of Object.keys(o))o[d]===void 0&&delete o[d];const l=await t._getAppCheckToken(),u=l?`#${kG}=${encodeURIComponent(l)}`:"";return`${TG(t)}?${Ph(o).slice(1)}${u}`}function TG({config:t}){return t.emulator?tT(t,SG):`https://${t.authDomain}/${xG}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x0="webStorageSupport";class PG{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=oT,this._completeRedirectFn=K7,this._overrideRedirectResult=G7}async _openPopup(e,n,i,s){var r;Io((r=this.eventManagers[e._key()])===null||r===void 0?void 0:r.manager,"_initialize() not called before _openPopup()");const a=await sD(e,n,i,Xx(),s);return bG(e,a,lT())}async _openRedirect(e,n,i,s){await this._originValidation(e);const r=await sD(e,n,i,Xx(),s);return D7(r),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:r}=this.eventManagers[n];return s?Promise.resolve(s):(Io(r,"If manager is not set, promise should be"),r)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await mG(e),i=new J7(e);return n.register("authEvent",s=>(yt(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(x0,{type:x0},s=>{var r;const a=(r=s==null?void 0:s[0])===null||r===void 0?void 0:r[x0];a!==void 0&&n(!!a),Mr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=iG(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return H2()||N2()||iT()}}const hN=PG;var rD="@firebase/auth",aD="1.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CG{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){yt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EG(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function IG(t){er(new js("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),r=e.getProvider("app-check-internal"),{apiKey:a,authDomain:o}=i.options;yt(a&&!a.includes(":"),"invalid-api-key",{appName:i.name});const l={apiKey:a,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:z2(t)},u=new qY(i,s,r,l);return i7(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),er(new js("auth-internal",e=>{const n=Ho(e.getProvider("auth").getImmediate());return(i=>new CG(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),is(rD,aD,EG(t)),is(rD,aD,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DG=5*60,AG=v2("authIdTokenMaxAge")||DG;let oD=null;const RG=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>AG)return;const s=n==null?void 0:n.token;oD!==s&&(oD=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function OG(t=Qk()){const e=Eh(t,"auth");if(e.isInitialized())return e.getImmediate();const n=G2(t,{popupRedirectResolver:hN,persistence:[lN,nN,oT]}),i=v2("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const r=new URL(i,location.origin);if(location.origin===r.origin){const a=RG(r.toString());k7(n,a,()=>a(n.currentUser)),Z2(n,o=>a(o))}}const s=g2("auth");return s&&q2(n,`http://${s}`),n}function MG(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}XY({loadJS(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=s=>{const r=ea("internal-error");r.customData=s,n(r)},i.type="text/javascript",i.charset="UTF-8",MG().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});IG("Browser");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VG=new Map,LG={activated:!1,tokenObservers:[]};function la(t){return VG.get(t)||Object.assign({},LG)}const lD={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NG{constructor(e,n,i,s,r){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=i,this.lowerBound=s,this.upperBound=r,this.pending=null,this.nextErrorWaitInterval=s,s>r)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}async process(e){this.stop();try{this.pending=new bm,this.pending.promise.catch(n=>{}),await FG(this.getNextRun(e)),this.pending.resolve(),await this.pending.promise,this.pending=new bm,this.pending.promise.catch(n=>{}),await this.operation(),this.pending.resolve(),await this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}function FG(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BG={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"},g_=new Jl("appCheck","AppCheck",BG);function fN(t){if(!la(t).activated)throw g_.create("use-before-activation",{appName:t.name})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jG="firebase-app-check-database",$G=1,Jx="firebase-app-check-store";let Ap=null;function UG(){return Ap||(Ap=new Promise((t,e)=>{try{const n=indexedDB.open(jG,$G);n.onsuccess=i=>{t(i.target.result)},n.onerror=i=>{var s;e(g_.create("storage-open",{originalErrorMessage:(s=i.target.error)===null||s===void 0?void 0:s.message}))},n.onupgradeneeded=i=>{const s=i.target.result;switch(i.oldVersion){case 0:s.createObjectStore(Jx,{keyPath:"compositeKey"})}}}catch(n){e(g_.create("storage-open",{originalErrorMessage:n==null?void 0:n.message}))}}),Ap)}function HG(t,e){return zG(WG(t),e)}async function zG(t,e){const i=(await UG()).transaction(Jx,"readwrite"),r=i.objectStore(Jx).put({compositeKey:t,value:e});return new Promise((a,o)=>{r.onsuccess=l=>{a()},i.onerror=l=>{var u;o(g_.create("storage-set",{originalErrorMessage:(u=l.target.error)===null||u===void 0?void 0:u.message}))}})}function WG(t){return`${t.options.appId}-${t.name}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zx=new Ch("@firebase/app-check");function uD(t,e){return Xk()?HG(t,e).catch(n=>{Zx.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YG={error:"UNKNOWN_ERROR"};function GG(t){return lb.encodeString(JSON.stringify(t),!1)}async function eS(t,e=!1){const n=t.app;fN(n);const i=la(n);let s=i.token,r;if(s&&!Ef(s)&&(i.token=void 0,s=void 0),!s){const l=await i.cachedTokenPromise;l&&(Ef(l)?s=l:await uD(n,void 0))}if(!e&&s&&Ef(s))return{token:s.token};let a=!1;try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),a=!0),s=await la(n).exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"?Zx.warn(l.message):Zx.error(l),r=l}let o;return s?r?Ef(s)?o={token:s.token,internalError:r}:o=dD(r):(o={token:s.token},i.token=s,await uD(n,s)):o=dD(r),a&&QG(n,o),o}async function qG(t){const e=t.app;fN(e);const{provider:n}=la(e);{const{token:i}=await n.getToken();return{token:i}}}function XG(t,e,n,i){const{app:s}=t,r=la(s),a={next:n,error:i,type:e};if(r.tokenObservers=[...r.tokenObservers,a],r.token&&Ef(r.token)){const o=r.token;Promise.resolve().then(()=>{n({token:o.token}),cD(t)}).catch(()=>{})}r.cachedTokenPromise.then(()=>cD(t))}function mN(t,e){const n=la(t),i=n.tokenObservers.filter(s=>s.next!==e);i.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=i}function cD(t){const{app:e}=t,n=la(e);let i=n.tokenRefresher;i||(i=KG(t),n.tokenRefresher=i),!i.isRunning()&&n.isTokenAutoRefreshEnabled&&i.start()}function KG(t){const{app:e}=t;return new NG(async()=>{const n=la(e);let i;if(n.token?i=await eS(t,!0):i=await eS(t),i.error)throw i.error;if(i.internalError)throw i.internalError},()=>!0,()=>{const n=la(e);if(n.token){let i=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5;const s=n.token.expireTimeMillis-5*60*1e3;return i=Math.min(i,s),Math.max(0,i-Date.now())}else return 0},lD.RETRIAL_MIN_WAIT,lD.RETRIAL_MAX_WAIT)}function QG(t,e){const n=la(t).tokenObservers;for(const i of n)try{i.type==="EXTERNAL"&&e.error!=null?i.error(e.error):i.next(e)}catch{}}function Ef(t){return t.expireTimeMillis-Date.now()>0}function dD(t){return{token:GG(YG),error:t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JG{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:e}=la(this.app);for(const n of e)mN(this.app,n.next);return Promise.resolve()}}function ZG(t,e){return new JG(t,e)}function eq(t){return{getToken:e=>eS(t,e),getLimitedUseToken:()=>qG(t),addTokenListener:e=>XG(t,"INTERNAL",e),removeTokenListener:e=>mN(t.app,e)}}const tq="@firebase/app-check",nq="0.8.10",iq="app-check",hD="app-check-internal";function sq(){er(new js(iq,t=>{const e=t.getProvider("app").getImmediate(),n=t.getProvider("heartbeat");return ZG(e,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(hD).initialize()})),er(new js(hD,t=>{const e=t.getProvider("app-check").getImmediate();return eq(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),is(tq,nq)}sq();var rq="firebase",aq="11.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */is(rq,aq,"app");const gN=Symbol("firebaseApp");function Rg(t){return Cc()&&gt(gN,null)||Qk(t)}const Ca=()=>{},oq=typeof window<"u";function cT(t,e){return e.split(".").reduce((n,i)=>n&&n[i],t)}function lq(t,e,n){const i=(""+e).split("."),s=i.pop(),r=i.reduce((a,o)=>a&&a[o],t);if(r!=null)return Array.isArray(r)?r.splice(Number(s),1,n):r[s]=n}function Ec(t){return!!t&&typeof t=="object"}const uq=Object.prototype;function cq(t){return Ec(t)&&Object.getPrototypeOf(t)===uq}function dT(t){return Ec(t)&&t.type==="document"}function dq(t){return Ec(t)&&t.type==="collection"}function hq(t){return dT(t)||dq(t)}function fq(t){return Ec(t)&&t.type==="query"}function mq(t){return Ec(t)&&"ref"in t}function gq(t){return Ec(t)&&typeof t.bucket=="string"}function pq(t,e){let n;return()=>{if(!n)return n=!0,t(e())}}const vq=Symbol.for("v-scx");function _q(){return!!gt(vq,0)}const Rp=new WeakMap;function yq(t,e){if(!Rp.has(t)){const n=Sg(!0);Rp.set(t,n);const{unmount:i}=e;e.unmount=()=>{i.call(e),n.stop(),Rp.delete(t)}}return Rp.get(t)}const pN=new WeakMap;function vN(t){return pN.get(Rg(t))}const Op=new WeakMap;function _N(t){const e=Rg(t);if(!Op.has(e)){let n;const s=[new Promise(r=>{n=r}),r=>{Op.set(e,r),n(r.value)}];Op.set(e,s)}return Op.get(e)}function fD(t){const e=_N(t);return Array.isArray(e)?e[0]:Promise.resolve(e.value)}function bq(t,e){Z2(e,n=>{const i=_N();t.value=n,Array.isArray(i)&&i[1](t)})}var mD={};const gD="@firebase/database",pD="1.0.10";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yN="";function wq(t){yN=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xq{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),es(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:wm(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sq{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return $o(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bN=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new xq(e)}}catch{}return new Sq},Ru=bN("localStorage"),kq=bN("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vd=new Ch("@firebase/database"),Tq=function(){let t=1;return function(){return t++}}(),wN=function(t){const e=cW(t),n=new rW;n.update(e);const i=n.digest();return lb.encodeByteArray(i)},Og=function(...t){let e="";for(let n=0;n<t.length;n++){const i=t[n];Array.isArray(i)||i&&typeof i=="object"&&typeof i.length=="number"?e+=Og.apply(null,i):typeof i=="object"?e+=es(i):e+=i,e+=" "}return e};let Xf=null,vD=!0;const Pq=function(t,e){He(!0,"Can't turn on custom loggers persistently."),Vd.logLevel=Ft.VERBOSE,Xf=Vd.log.bind(Vd)},vs=function(...t){if(vD===!0&&(vD=!1,Xf===null&&kq.get("logging_enabled")===!0&&Pq()),Xf){const e=Og.apply(null,t);Xf(e)}},Mg=function(t){return function(...e){vs(t,...e)}},tS=function(...t){const e="FIREBASE INTERNAL ERROR: "+Og(...t);Vd.error(e)},tc=function(...t){const e=`FIREBASE FATAL ERROR: ${Og(...t)}`;throw Vd.error(e),new Error(e)},gr=function(...t){const e="FIREBASE WARNING: "+Og(...t);Vd.warn(e)},Cq=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&gr("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},xN=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},Eq=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},qd="[MIN_NAME]",nc="[MAX_NAME]",Dh=function(t,e){if(t===e)return 0;if(t===qd||e===nc)return-1;if(e===qd||t===nc)return 1;{const n=_D(t),i=_D(e);return n!==null?i!==null?n-i===0?t.length-e.length:n-i:-1:i!==null?1:t<e?-1:1}},Iq=function(t,e){return t===e?0:t<e?-1:1},gf=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+es(e))},hT=function(t){if(typeof t!="object"||t===null)return es(t);const e=[];for(const i in t)e.push(i);e.sort();let n="{";for(let i=0;i<e.length;i++)i!==0&&(n+=","),n+=es(e[i]),n+=":",n+=hT(t[e[i]]);return n+="}",n},SN=function(t,e){const n=t.length;if(n<=e)return[t];const i=[];for(let s=0;s<n;s+=e)s+e>n?i.push(t.substring(s,n)):i.push(t.substring(s,s+e));return i};function Vr(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const kN=function(t){He(!xN(t),"Invalid JSON number");const e=11,n=52,i=(1<<e-1)-1;let s,r,a,o,l;t===0?(r=0,a=0,s=1/t===-1/0?1:0):(s=t<0,t=Math.abs(t),t>=Math.pow(2,1-i)?(o=Math.min(Math.floor(Math.log(t)/Math.LN2),i),r=o+i,a=Math.round(t*Math.pow(2,n-o)-Math.pow(2,n))):(r=0,a=Math.round(t/Math.pow(2,1-i-n))));const u=[];for(l=n;l;l-=1)u.push(a%2?1:0),a=Math.floor(a/2);for(l=e;l;l-=1)u.push(r%2?1:0),r=Math.floor(r/2);u.push(s?1:0),u.reverse();const d=u.join("");let c="";for(l=0;l<64;l+=8){let f=parseInt(d.substr(l,8),2).toString(16);f.length===1&&(f="0"+f),c=c+f}return c.toLowerCase()},Dq=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},Aq=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"},Rq=new RegExp("^-?(0*)\\d{1,10}$"),Oq=-2147483648,Mq=2147483647,_D=function(t){if(Rq.test(t)){const e=Number(t);if(e>=Oq&&e<=Mq)return e}return null},Vg=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw gr("Exception was thrown by user callback.",n),e},Math.floor(0))}},Vq=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Kf=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lq{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(i=>this.appCheck=i)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,i)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,i):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(i=>i.addTokenListener(e))}notifyForInvalidToken(){gr(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nq{constructor(e,n,i){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(s=>this.auth_=s)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(vs("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,i)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,i):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',gr(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fT="5",TN="v",PN="s",CN="r",EN="f",IN=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,DN="ls",AN="p",nS="ac",RN="websocket",ON="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fq{constructor(e,n,i,s,r=!1,a="",o=!1,l=!1){this.secure=n,this.namespace=i,this.webSocketOnly=s,this.nodeAdmin=r,this.persistenceKey=a,this.includeNamespaceInQueryParams=o,this.isUsingEmulator=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Ru.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Ru.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function Bq(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function MN(t,e,n){He(typeof e=="string","typeof type must == string"),He(typeof n=="object","typeof params must == object");let i;if(e===RN)i=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===ON)i=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);Bq(t)&&(n.ns=t.namespace);const s=[];return Vr(n,(r,a)=>{s.push(r+"="+a)}),i+s.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jq{constructor(){this.counters_={}}incrementCounter(e,n=1){$o(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return j8(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S0={},k0={};function mT(t){const e=t.toString();return S0[e]||(S0[e]=new jq),S0[e]}function $q(t,e){const n=t.toString();return k0[n]||(k0[n]=e()),k0[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uq{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let s=0;s<i.length;++s)i[s]&&Vg(()=>{this.onMessage_(i[s])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yD="start",Hq="close",zq="pLPCommand",Wq="pRTLPCB",VN="id",LN="pw",NN="ser",Yq="cb",Gq="seg",qq="ts",Xq="d",Kq="dframe",FN=1870,BN=30,Qq=FN-BN,Jq=25e3,Zq=3e4;class vd{constructor(e,n,i,s,r,a,o){this.connId=e,this.repoInfo=n,this.applicationId=i,this.appCheckToken=s,this.authToken=r,this.transportSessionId=a,this.lastSessionId=o,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Mg(e),this.stats_=mT(n),this.urlFn=l=>(this.appCheckToken&&(l[nS]=this.appCheckToken),MN(n,ON,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new Uq(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(Zq)),Eq(()=>{if(this.isClosed_)return;this.scriptTagHolder=new gT((...r)=>{const[a,o,l,u,d]=r;if(this.incrementIncomingBytes_(r),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,a===yD)this.id=o,this.password=l;else if(a===Hq)o?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(o,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+a)},(...r)=>{const[a,o]=r;this.incrementIncomingBytes_(r),this.myPacketOrderer.handleResponse(a,o)},()=>{this.onClosed_()},this.urlFn);const i={};i[yD]="t",i[NN]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(i[Yq]=this.scriptTagHolder.uniqueCallbackIdentifier),i[TN]=fT,this.transportSessionId&&(i[PN]=this.transportSessionId),this.lastSessionId&&(i[DN]=this.lastSessionId),this.applicationId&&(i[AN]=this.applicationId),this.appCheckToken&&(i[nS]=this.appCheckToken),typeof location<"u"&&location.hostname&&IN.test(location.hostname)&&(i[CN]=EN);const s=this.urlFn(i);this.log_("Connecting via long-poll to "+s),this.scriptTagHolder.addTag(s,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){vd.forceAllow_=!0}static forceDisallow(){vd.forceDisallow_=!0}static isAvailable(){return vd.forceAllow_?!0:!vd.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!Dq()&&!Aq()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=es(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const i=f2(n),s=SN(i,Qq);for(let r=0;r<s.length;r++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,s.length,s[r]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const i={};i[Kq]="t",i[VN]=e,i[LN]=n,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=es(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class gT{constructor(e,n,i,s){this.onDisconnect=i,this.urlFn=s,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=Tq(),window[zq+this.uniqueCallbackIdentifier]=e,window[Wq+this.uniqueCallbackIdentifier]=n,this.myIFrame=gT.createIFrame_();let r="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(r='<script>document.domain="'+document.domain+'";<\/script>');const a="<html><body>"+r+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(a),this.myIFrame.doc.close()}catch(o){vs("frame writing exception"),o.stack&&vs(o.stack),vs(o)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||vs("No IE domain setting required")}catch{const i=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[VN]=this.myID,e[LN]=this.myPW,e[NN]=this.currentSerial;let n=this.urlFn(e),i="",s=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+BN+i.length<=FN;){const a=this.pendingSegs.shift();i=i+"&"+Gq+s+"="+a.seg+"&"+qq+s+"="+a.ts+"&"+Xq+s+"="+a.d,s++}return n=n+i,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,i){this.pendingSegs.push({seg:e,ts:n,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const i=()=>{this.outstandingRequests.delete(n),this.newRequest_()},s=setTimeout(i,Math.floor(Jq)),r=()=>{clearTimeout(s),i()};this.addTag(e,r)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){const s=i.readyState;(!s||s==="loaded"||s==="complete")&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),n())},i.onerror=()=>{vs("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eX=16384,tX=45e3;let p_=null;typeof MozWebSocket<"u"?p_=MozWebSocket:typeof WebSocket<"u"&&(p_=WebSocket);class Ea{constructor(e,n,i,s,r,a,o){this.connId=e,this.applicationId=i,this.appCheckToken=s,this.authToken=r,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Mg(this.connId),this.stats_=mT(n),this.connURL=Ea.connectionURL_(n,a,o,s,i),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,i,s,r){const a={};return a[TN]=fT,typeof location<"u"&&location.hostname&&IN.test(location.hostname)&&(a[CN]=EN),n&&(a[PN]=n),i&&(a[DN]=i),s&&(a[nS]=s),r&&(a[AN]=r),MN(e,RN,a)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Ru.set("previous_websocket_failure",!0);try{let i;Q8(),this.mySock=new p_(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const s=i.message||i.data;s&&this.log_(s),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const s=i.message||i.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){Ea.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(n);i&&i.length>1&&parseFloat(i[1])<4.4&&(e=!0)}return!e&&p_!==null&&!Ea.forceDisallow_}static previouslyFailed(){return Ru.isInMemoryStorage||Ru.get("previous_websocket_failure")===!0}markConnectionHealthy(){Ru.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const i=wm(n);this.onMessage(i)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(He(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const i=this.extractFrameCount_(n);i!==null&&this.appendFrame_(i)}}send(e){this.resetKeepAlive();const n=es(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const i=SN(n,eX);i.length>1&&this.sendString_(String(i.length));for(let s=0;s<i.length;s++)this.sendString_(i[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(tX))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Ea.responsesRequiredToBeHealthy=2;Ea.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pm{static get ALL_TRANSPORTS(){return[vd,Ea]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const n=Ea.isAvailable();let i=n&&!Ea.previouslyFailed();if(e.webSocketOnly&&(n||gr("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[Ea];else{const s=this.transports_=[];for(const r of Pm.ALL_TRANSPORTS)r&&r.isAvailable()&&s.push(r);Pm.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Pm.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nX=6e4,iX=5e3,sX=10*1024,rX=100*1024,T0="t",bD="d",aX="s",wD="r",oX="e",xD="o",SD="a",kD="n",TD="p",lX="h";class uX{constructor(e,n,i,s,r,a,o,l,u,d){this.id=e,this.repoInfo_=n,this.applicationId_=i,this.appCheckToken_=s,this.authToken_=r,this.onMessage_=a,this.onReady_=o,this.onDisconnect_=l,this.onKill_=u,this.lastSessionId=d,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Mg("c:"+this.id+":"),this.transportManager_=new Pm(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,i)},Math.floor(0));const s=e.healthyTimeout||0;s>0&&(this.healthyTimeout_=Kf(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>rX?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>sX?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(s)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(T0 in e){const n=e[T0];n===SD?this.upgradeIfSecondaryHealthy_():n===wD?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===xD&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=gf("t",e),i=gf("d",e);if(n==="c")this.onSecondaryControl_(i);else if(n==="d")this.pendingDataMessages.push(i);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:TD,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:SD,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:kD,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=gf("t",e),i=gf("d",e);n==="c"?this.onControl_(i):n==="d"&&this.onDataMessage_(i)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=gf(T0,e);if(bD in e){const i=e[bD];if(n===lX){const s=Object.assign({},i);this.repoInfo_.isUsingEmulator&&(s.h=this.repoInfo_.host),this.onHandshake_(s)}else if(n===kD){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let s=0;s<this.pendingDataMessages.length;++s)this.onDataMessage_(this.pendingDataMessages[s]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===aX?this.onConnectionShutdown_(i):n===wD?this.onReset_(i):n===oX?tS("Server Error: "+i):n===xD?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):tS("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,i=e.v,s=e.h;this.sessionId=e.s,this.repoInfo_.host=s,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),fT!==i&&gr("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,i),Kf(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(nX))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Kf(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(iX))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:TD,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Ru.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jN{put(e,n,i,s){}merge(e,n,i,s){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,i){}onDisconnectMerge(e,n,i){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $N{constructor(e){this.allowedEvents_=e,this.listeners_={},He(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const i=[...this.listeners_[e]];for(let s=0;s<i.length;s++)i[s].callback.apply(i[s].context,n)}}on(e,n,i){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:i});const s=this.getInitialEvent(e);s&&n.apply(i,s)}off(e,n,i){this.validateEventType_(e);const s=this.listeners_[e]||[];for(let r=0;r<s.length;r++)if(s[r].callback===n&&(!i||i===s[r].context)){s.splice(r,1);return}}validateEventType_(e){He(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v_ extends $N{static getInstance(){return new v_}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!qk()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return He(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PD=32,CD=768;let Un=class{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let i=0;for(let s=0;s<this.pieces_.length;s++)this.pieces_[s].length>0&&(this.pieces_[i]=this.pieces_[s],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}};function vn(){return new Un("")}function qt(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Ml(t){return t.pieces_.length-t.pieceNum_}function Vn(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new Un(t.pieces_,e)}function UN(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function cX(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function HN(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function zN(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new Un(e,0)}function Bi(t,e){const n=[];for(let i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);if(e instanceof Un)for(let i=e.pieceNum_;i<e.pieces_.length;i++)n.push(e.pieces_[i]);else{const i=e.split("/");for(let s=0;s<i.length;s++)i[s].length>0&&n.push(i[s])}return new Un(n,0)}function zt(t){return t.pieceNum_>=t.pieces_.length}function Ar(t,e){const n=qt(t),i=qt(e);if(n===null)return e;if(n===i)return Ar(Vn(t),Vn(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function WN(t,e){if(Ml(t)!==Ml(e))return!1;for(let n=t.pieceNum_,i=e.pieceNum_;n<=t.pieces_.length;n++,i++)if(t.pieces_[n]!==e.pieces_[i])return!1;return!0}function Gr(t,e){let n=t.pieceNum_,i=e.pieceNum_;if(Ml(t)>Ml(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[i])return!1;++n,++i}return!0}class dX{constructor(e,n){this.errorPrefix_=n,this.parts_=HN(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=cb(this.parts_[i]);YN(this)}}function hX(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=cb(e),YN(t)}function fX(t){const e=t.parts_.pop();t.byteLength_-=cb(e),t.parts_.length>0&&(t.byteLength_-=1)}function YN(t){if(t.byteLength_>CD)throw new Error(t.errorPrefix_+"has a key path longer than "+CD+" bytes ("+t.byteLength_+").");if(t.parts_.length>PD)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+PD+") or object contains a cycle "+wu(t))}function wu(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pT extends $N{static getInstance(){return new pT}constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const i=!document[e];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}getInitialEvent(e){return He(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pf=1e3,mX=60*5*1e3,ED=30*1e3,gX=1.3,pX=3e4,vX="server_kill",ID=3;class xo extends jN{constructor(e,n,i,s,r,a,o,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=i,this.onConnectStatus_=s,this.onServerInfoUpdate_=r,this.authTokenProvider_=a,this.appCheckTokenProvider_=o,this.authOverride_=l,this.id=xo.nextPersistentConnectionId_++,this.log_=Mg("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=pf,this.maxReconnectDelay_=mX,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");pT.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&v_.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,i){const s=++this.requestNumber_,r={r:s,a:e,b:n};this.log_(es(r)),He(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(r),i&&(this.requestCBHash_[s]=i)}get(e){this.initConnection_();const n=new bm,s={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:a=>{const o=a.d;a.s==="ok"?n.resolve(o):n.reject(o)}};this.outstandingGets_.push(s),this.outstandingGetCount_++;const r=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(r),n.promise}listen(e,n,i,s){this.initConnection_();const r=e._queryIdentifier,a=e._path.toString();this.log_("Listen called for "+a+" "+r),this.listens.has(a)||this.listens.set(a,new Map),He(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),He(!this.listens.get(a).has(r),"listen() called twice for same path/queryId.");const o={onComplete:s,hashFn:n,query:e,tag:i};this.listens.get(a).set(r,o),this.connected_&&this.sendListen_(o)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,i=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(i)})}sendListen_(e){const n=e.query,i=n._path.toString(),s=n._queryIdentifier;this.log_("Listen on "+i+" for "+s);const r={p:i},a="q";e.tag&&(r.q=n._queryObject,r.t=e.tag),r.h=e.hashFn(),this.sendRequest(a,r,o=>{const l=o.d,u=o.s;xo.warnOnListenWarnings_(l,n),(this.listens.get(i)&&this.listens.get(i).get(s))===e&&(this.log_("listen response",o),u!=="ok"&&this.removeListen_(i,s),e.onComplete&&e.onComplete(u,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&$o(e,"w")){const i=Yd(e,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const s='".indexOn": "'+n._queryParams.getIndex().toString()+'"',r=n._path.toString();gr(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${r} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||sW(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=ED)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=iW(e)?"auth":"gauth",i={cred:e};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(n,i,s=>{const r=s.s,a=s.d||"error";this.authToken_===e&&(r==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(r,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,i=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,i)})}unlisten(e,n){const i=e._path.toString(),s=e._queryIdentifier;this.log_("Unlisten called for "+i+" "+s),He(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,s)&&this.connected_&&this.sendUnlisten_(i,s,e._queryObject,n)}sendUnlisten_(e,n,i,s){this.log_("Unlisten on "+e+" for "+n);const r={p:e},a="n";s&&(r.q=i,r.t=s),this.sendRequest(a,r)}onDisconnectPut(e,n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:i})}onDisconnectMerge(e,n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:i})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,i,s){const r={p:n,d:i};this.log_("onDisconnect "+e,r),this.sendRequest(e,r,a=>{s&&setTimeout(()=>{s(a.s,a.d)},Math.floor(0))})}put(e,n,i,s){this.putInternal("p",e,n,i,s)}merge(e,n,i,s){this.putInternal("m",e,n,i,s)}putInternal(e,n,i,s,r){this.initConnection_();const a={p:n,d:i};r!==void 0&&(a.h=r),this.outstandingPuts_.push({action:e,request:a,onComplete:s}),this.outstandingPutCount_++;const o=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(o):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,i=this.outstandingPuts_[e].request,s=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,i,r=>{this.log_(n+" response",r),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),s&&s(r.s,r.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,i=>{if(i.s!=="ok"){const r=i.d;this.log_("reportStats","Error sending stats: "+r)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+es(e));const n=e.r,i=this.requestCBHash_[n];i&&(delete this.requestCBHash_[n],i(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):tS("Unrecognized action received from server: "+es(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){He(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=pf,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=pf,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>pX&&(this.reconnectDelay_=pf),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*gX)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+xo.nextConnectionId_++,r=this.lastSessionId;let a=!1,o=null;const l=function(){o?o.close():(a=!0,i())},u=function(c){He(o,"sendRequest call when we're not connected not allowed."),o.sendRequest(c)};this.realtime_={close:l,sendRequest:u};const d=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[c,f]=await Promise.all([this.authTokenProvider_.getToken(d),this.appCheckTokenProvider_.getToken(d)]);a?vs("getToken() completed but was canceled"):(vs("getToken() completed. Creating connection."),this.authToken_=c&&c.accessToken,this.appCheckToken_=f&&f.token,o=new uX(s,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,i,h=>{gr(h+" ("+this.repoInfo_.toString()+")"),this.interrupt(vX)},r))}catch(c){this.log_("Failed to get token: "+c),a||(this.repoInfo_.nodeAdmin&&gr(c),l())}}}interrupt(e){vs("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){vs("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Hx(this.interruptReasons_)&&(this.reconnectDelay_=pf,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let i;n?i=n.map(r=>hT(r)).join("$"):i="default";const s=this.removeListen_(e,i);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(e,n){const i=new Un(e).toString();let s;if(this.listens.has(i)){const r=this.listens.get(i);s=r.get(n),r.delete(n),r.size===0&&this.listens.delete(i)}else s=void 0;return s}onAuthRevoked_(e,n){vs("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=ID&&(this.reconnectDelay_=ED,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){vs("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=ID&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+yN.replace(/\./g,"-")]=1,qk()?e["framework.cordova"]=1:y2()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=v_.getInstance().currentlyOnline();return Hx(this.interruptReasons_)&&e}}xo.nextPersistentConnectionId_=0;xo.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new Xt(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mb{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const i=new Xt(qd,e),s=new Xt(qd,n);return this.compare(i,s)!==0}minPost(){return Xt.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mp;class GN extends mb{static get __EMPTY_NODE(){return Mp}static set __EMPTY_NODE(e){Mp=e}compare(e,n){return Dh(e.name,n.name)}isDefinedOn(e){throw Th("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return Xt.MIN}maxPost(){return new Xt(nc,Mp)}makePost(e,n){return He(typeof e=="string","KeyIndex indexValue must always be a string."),new Xt(e,Mp)}toString(){return".key"}}const Ld=new GN;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vp=class{constructor(e,n,i,s,r=null){this.isReverse_=s,this.resultGenerator_=r,this.nodeStack_=[];let a=1;for(;!e.isEmpty();)if(e=e,a=n?i(e.key,n):1,s&&(a*=-1),a<0)this.isReverse_?e=e.left:e=e.right;else if(a===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}},or=class If{constructor(e,n,i,s,r){this.key=e,this.value=n,this.color=i??If.RED,this.left=s??Ia.EMPTY_NODE,this.right=r??Ia.EMPTY_NODE}copy(e,n,i,s,r){return new If(e??this.key,n??this.value,i??this.color,s??this.left,r??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let s=this;const r=i(e,s.key);return r<0?s=s.copy(null,null,null,s.left.insert(e,n,i),null):r===0?s=s.copy(null,n,null,null,null):s=s.copy(null,null,null,null,s.right.insert(e,n,i)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return Ia.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let i,s;if(i=this,n(e,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),n(e,i.key)===0){if(i.right.isEmpty())return Ia.EMPTY_NODE;s=i.right.min_(),i=i.copy(s.key,s.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,If.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,If.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}};or.RED=!0;or.BLACK=!1;class _X{copy(e,n,i,s,r){return this}insert(e,n,i){return new or(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}let Ia=class Tv{constructor(e,n=Tv.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new Tv(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,or.BLACK,null,null))}remove(e){return new Tv(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,or.BLACK,null,null))}get(e){let n,i=this.root_;for(;!i.isEmpty();){if(n=this.comparator_(e,i.key),n===0)return i.value;n<0?i=i.left:n>0&&(i=i.right)}return null}getPredecessorKey(e){let n,i=this.root_,s=null;for(;!i.isEmpty();)if(n=this.comparator_(e,i.key),n===0){if(i.left.isEmpty())return s?s.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}else n<0?i=i.left:n>0&&(s=i,i=i.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Vp(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Vp(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Vp(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Vp(this.root_,null,this.comparator_,!0,e)}};Ia.EMPTY_NODE=new _X;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yX(t,e){return Dh(t.name,e.name)}function vT(t,e){return Dh(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let iS;function bX(t){iS=t}const qN=function(t){return typeof t=="number"?"number:"+kN(t):"string:"+t},XN=function(t){if(t.isLeafNode()){const e=t.val();He(typeof e=="string"||typeof e=="number"||typeof e=="object"&&$o(e,".sv"),"Priority must be a string or number.")}else He(t===iS||t.isEmpty(),"priority of unexpected type.");He(t===iS||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let DD;class Ni{static set __childrenNodeConstructor(e){DD=e}static get __childrenNodeConstructor(){return DD}constructor(e,n=Ni.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,He(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),XN(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Ni(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Ni.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return zt(e)?this:qt(e)===".priority"?this.priorityNode_:Ni.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:Ni.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const i=qt(e);return i===null?n:n.isEmpty()&&i!==".priority"?this:(He(i!==".priority"||Ml(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,Ni.__childrenNodeConstructor.EMPTY_NODE.updateChild(Vn(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+qN(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=kN(this.value_):e+=this.value_,this.lazyHash_=wN(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Ni.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Ni.__childrenNodeConstructor?-1:(He(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,i=typeof this.value_,s=Ni.VALUE_TYPE_ORDER.indexOf(n),r=Ni.VALUE_TYPE_ORDER.indexOf(i);return He(s>=0,"Unknown leaf type: "+n),He(r>=0,"Unknown leaf type: "+i),s===r?i==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:r-s}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}Ni.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let KN,QN;function wX(t){KN=t}function xX(t){QN=t}class SX extends mb{compare(e,n){const i=e.node.getPriority(),s=n.node.getPriority(),r=i.compareTo(s);return r===0?Dh(e.name,n.name):r}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return Xt.MIN}maxPost(){return new Xt(nc,new Ni("[PRIORITY-POST]",QN))}makePost(e,n){const i=KN(e);return new Xt(n,new Ni("[PRIORITY-POST]",i))}toString(){return".priority"}}const ws=new SX;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kX=Math.log(2);class TX{constructor(e){const n=r=>parseInt(Math.log(r)/kX,10),i=r=>parseInt(Array(r+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const s=i(this.count);this.bits_=e+1&s}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const __=function(t,e,n,i){t.sort(e);const s=function(l,u){const d=u-l;let c,f;if(d===0)return null;if(d===1)return c=t[l],f=n?n(c):c,new or(f,c.node,or.BLACK,null,null);{const h=parseInt(d/2,10)+l,p=s(l,h),g=s(h+1,u);return c=t[h],f=n?n(c):c,new or(f,c.node,or.BLACK,p,g)}},r=function(l){let u=null,d=null,c=t.length;const f=function(p,g){const v=c-p,_=c;c-=p;const b=s(v+1,_),x=t[v],k=n?n(x):x;h(new or(k,x.node,g,null,b))},h=function(p){u?(u.left=p,u=p):(d=p,u=p)};for(let p=0;p<l.count;++p){const g=l.nextBitIsOne(),v=Math.pow(2,l.count-(p+1));g?f(v,or.BLACK):(f(v,or.BLACK),f(v,or.RED))}return d},a=new TX(t.length),o=r(a);return new Ia(i||e,o)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let P0;const vf={};class bo{static get Default(){return He(ws,"ChildrenNode.ts has not been loaded"),P0=P0||new bo({".priority":vf},{".priority":ws}),P0}constructor(e,n){this.indexes_=e,this.indexSet_=n}get(e){const n=Yd(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Ia?n:null}hasIndex(e){return $o(this.indexSet_,e.toString())}addIndex(e,n){He(e!==Ld,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let s=!1;const r=n.getIterator(Xt.Wrap);let a=r.getNext();for(;a;)s=s||e.isDefinedOn(a.node),i.push(a),a=r.getNext();let o;s?o=__(i,e.getCompare()):o=vf;const l=e.toString(),u=Object.assign({},this.indexSet_);u[l]=e;const d=Object.assign({},this.indexes_);return d[l]=o,new bo(d,u)}addToIndexes(e,n){const i=l_(this.indexes_,(s,r)=>{const a=Yd(this.indexSet_,r);if(He(a,"Missing index implementation for "+r),s===vf)if(a.isDefinedOn(e.node)){const o=[],l=n.getIterator(Xt.Wrap);let u=l.getNext();for(;u;)u.name!==e.name&&o.push(u),u=l.getNext();return o.push(e),__(o,a.getCompare())}else return vf;else{const o=n.get(e.name);let l=s;return o&&(l=l.remove(new Xt(e.name,o))),l.insert(e,e.node)}});return new bo(i,this.indexSet_)}removeFromIndexes(e,n){const i=l_(this.indexes_,s=>{if(s===vf)return s;{const r=n.get(e.name);return r?s.remove(new Xt(e.name,r)):s}});return new bo(i,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _f;class hn{static get EMPTY_NODE(){return _f||(_f=new hn(new Ia(vT),null,bo.Default))}constructor(e,n,i){this.children_=e,this.priorityNode_=n,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&XN(this.priorityNode_),this.children_.isEmpty()&&He(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||_f}updatePriority(e){return this.children_.isEmpty()?this:new hn(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?_f:n}}getChild(e){const n=qt(e);return n===null?this:this.getImmediateChild(n).getChild(Vn(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(He(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const i=new Xt(e,n);let s,r;n.isEmpty()?(s=this.children_.remove(e),r=this.indexMap_.removeFromIndexes(i,this.children_)):(s=this.children_.insert(e,n),r=this.indexMap_.addToIndexes(i,this.children_));const a=s.isEmpty()?_f:this.priorityNode_;return new hn(s,a,r)}}updateChild(e,n){const i=qt(e);if(i===null)return n;{He(qt(e)!==".priority"||Ml(e)===1,".priority must be the last token in a path");const s=this.getImmediateChild(i).updateChild(Vn(e),n);return this.updateImmediateChild(i,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let i=0,s=0,r=!0;if(this.forEachChild(ws,(a,o)=>{n[a]=o.val(e),i++,r&&hn.INTEGER_REGEXP_.test(a)?s=Math.max(s,Number(a)):r=!1}),!e&&r&&s<2*i){const a=[];for(const o in n)a[o]=n[o];return a}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+qN(this.getPriority().val())+":"),this.forEachChild(ws,(n,i)=>{const s=i.hash();s!==""&&(e+=":"+n+":"+s)}),this.lazyHash_=e===""?"":wN(e)}return this.lazyHash_}getPredecessorChildName(e,n,i){const s=this.resolveIndex_(i);if(s){const r=s.getPredecessorKey(new Xt(e,n));return r?r.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const i=n.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new Xt(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const i=n.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new Xt(n,this.children_.get(n)):null}forEachChild(e,n){const i=this.resolveIndex_(e);return i?i.inorderTraversal(s=>n(s.name,s.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const i=this.resolveIndex_(n);if(i)return i.getIteratorFrom(e,s=>s);{const s=this.children_.getIteratorFrom(e.name,Xt.Wrap);let r=s.peek();for(;r!=null&&n.compare(r,e)<0;)s.getNext(),r=s.peek();return s}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const i=this.resolveIndex_(n);if(i)return i.getReverseIteratorFrom(e,s=>s);{const s=this.children_.getReverseIteratorFrom(e.name,Xt.Wrap);let r=s.peek();for(;r!=null&&n.compare(r,e)>0;)s.getNext(),r=s.peek();return s}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Lg?-1:0}withIndex(e){if(e===Ld||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new hn(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===Ld||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const i=this.getIterator(ws),s=n.getIterator(ws);let r=i.getNext(),a=s.getNext();for(;r&&a;){if(r.name!==a.name||!r.node.equals(a.node))return!1;r=i.getNext(),a=s.getNext()}return r===null&&a===null}else return!1;else return!1}}resolveIndex_(e){return e===Ld?null:this.indexMap_.get(e.toString())}}hn.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class PX extends hn{constructor(){super(new Ia(vT),hn.EMPTY_NODE,bo.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return hn.EMPTY_NODE}isEmpty(){return!1}}const Lg=new PX;Object.defineProperties(Xt,{MIN:{value:new Xt(qd,hn.EMPTY_NODE)},MAX:{value:new Xt(nc,Lg)}});GN.__EMPTY_NODE=hn.EMPTY_NODE;Ni.__childrenNodeConstructor=hn;bX(Lg);xX(Lg);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CX=!0;function _s(t,e=null){if(t===null)return hn.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),He(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new Ni(n,_s(e))}if(!(t instanceof Array)&&CX){const n=[];let i=!1;if(Vr(t,(a,o)=>{if(a.substring(0,1)!=="."){const l=_s(o);l.isEmpty()||(i=i||!l.getPriority().isEmpty(),n.push(new Xt(a,l)))}}),n.length===0)return hn.EMPTY_NODE;const r=__(n,yX,a=>a.name,vT);if(i){const a=__(n,ws.getCompare());return new hn(r,_s(e),new bo({".priority":a},{".priority":ws}))}else return new hn(r,_s(e),bo.Default)}else{let n=hn.EMPTY_NODE;return Vr(t,(i,s)=>{if($o(t,i)&&i.substring(0,1)!=="."){const r=_s(s);(r.isLeafNode()||!r.isEmpty())&&(n=n.updateImmediateChild(i,r))}}),n.updatePriority(_s(e))}}wX(_s);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EX extends mb{constructor(e){super(),this.indexPath_=e,He(!zt(e)&&qt(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const i=this.extractChild(e.node),s=this.extractChild(n.node),r=i.compareTo(s);return r===0?Dh(e.name,n.name):r}makePost(e,n){const i=_s(e),s=hn.EMPTY_NODE.updateChild(this.indexPath_,i);return new Xt(n,s)}maxPost(){const e=hn.EMPTY_NODE.updateChild(this.indexPath_,Lg);return new Xt(nc,e)}toString(){return HN(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IX extends mb{compare(e,n){const i=e.node.compareTo(n.node);return i===0?Dh(e.name,n.name):i}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return Xt.MIN}maxPost(){return Xt.MAX}makePost(e,n){const i=_s(e);return new Xt(n,i)}toString(){return".value"}}const DX=new IX;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AX(t){return{type:"value",snapshotNode:t}}function RX(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function OX(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function AD(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function MX(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _T{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=ws}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return He(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return He(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:qd}hasEnd(){return this.endSet_}getIndexEndValue(){return He(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return He(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:nc}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return He(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===ws}copy(){const e=new _T;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function RD(t){const e={};if(t.isDefault())return e;let n;if(t.index_===ws?n="$priority":t.index_===DX?n="$value":t.index_===Ld?n="$key":(He(t.index_ instanceof EX,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=es(n),t.startSet_){const i=t.startAfterSet_?"startAfter":"startAt";e[i]=es(t.indexStartValue_),t.startNameSet_&&(e[i]+=","+es(t.indexStartName_))}if(t.endSet_){const i=t.endBeforeSet_?"endBefore":"endAt";e[i]=es(t.indexEndValue_),t.endNameSet_&&(e[i]+=","+es(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function OD(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==ws&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y_ extends jN{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(He(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,n,i,s){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=i,this.appCheckTokenProvider_=s,this.log_=Mg("p:rest:"),this.listens_={}}listen(e,n,i,s){const r=e._path.toString();this.log_("Listen called for "+r+" "+e._queryIdentifier);const a=y_.getListenId_(e,i),o={};this.listens_[a]=o;const l=RD(e._queryParams);this.restRequest_(r+".json",l,(u,d)=>{let c=d;if(u===404&&(c=null,u=null),u===null&&this.onDataUpdate_(r,c,!1,i),Yd(this.listens_,a)===o){let f;u?u===401?f="permission_denied":f="rest_error:"+u:f="ok",s(f,null)}})}unlisten(e,n){const i=y_.getListenId_(e,n);delete this.listens_[i]}get(e){const n=RD(e._queryParams),i=e._path.toString(),s=new bm;return this.restRequest_(i+".json",n,(r,a)=>{let o=a;r===404&&(o=null,r=null),r===null?(this.onDataUpdate_(i,o,!1,null),s.resolve(o)):s.reject(new Error(o))}),s.promise}refreshAuthToken(e){}restRequest_(e,n={},i){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([s,r])=>{s&&s.accessToken&&(n.auth=s.accessToken),r&&r.token&&(n.ac=r.token);const a=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Ph(n);this.log_("Sending REST request for "+a);const o=new XMLHttpRequest;o.onreadystatechange=()=>{if(i&&o.readyState===4){this.log_("REST Response for "+a+" received. status:",o.status,"response:",o.responseText);let l=null;if(o.status>=200&&o.status<300){try{l=wm(o.responseText)}catch{gr("Failed to parse JSON response for "+a+": "+o.responseText)}i(null,l)}else o.status!==401&&o.status!==404&&gr("Got unsuccessful REST response for "+a+" Status: "+o.status),i(o.status);i=null}},o.open("GET",a,!0),o.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VX{constructor(){this.rootNode_=hn.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b_(){return{value:null,children:new Map}}function JN(t,e,n){if(zt(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const i=qt(e);t.children.has(i)||t.children.set(i,b_());const s=t.children.get(i);e=Vn(e),JN(s,e,n)}}function sS(t,e,n){t.value!==null?n(e,t.value):LX(t,(i,s)=>{const r=new Un(e.toString()+"/"+i);sS(s,r,n)})}function LX(t,e){t.children.forEach((n,i)=>{e(i,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NX{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&Vr(this.last_,(i,s)=>{n[i]=n[i]-s}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MD=10*1e3,FX=30*1e3,BX=5*60*1e3;class jX{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new NX(e);const i=MD+(FX-MD)*Math.random();Kf(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const e=this.statsListener_.get(),n={};let i=!1;Vr(e,(s,r)=>{r>0&&$o(this.statsToReport_,s)&&(n[s]=r,i=!0)}),i&&this.server_.reportStats(n),Kf(this.reportStats_.bind(this),Math.floor(Math.random()*2*BX))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Da;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Da||(Da={}));function ZN(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function eF(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function tF(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w_{constructor(e,n,i){this.path=e,this.affectedTree=n,this.revert=i,this.type=Da.ACK_USER_WRITE,this.source=ZN()}operationForChild(e){if(zt(this.path)){if(this.affectedTree.value!=null)return He(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new Un(e));return new w_(vn(),n,this.revert)}}else return He(qt(this.path)===e,"operationForChild called for unrelated child."),new w_(Vn(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic{constructor(e,n,i){this.source=e,this.path=n,this.snap=i,this.type=Da.OVERWRITE}operationForChild(e){return zt(this.path)?new ic(this.source,vn(),this.snap.getImmediateChild(e)):new ic(this.source,Vn(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cm{constructor(e,n,i){this.source=e,this.path=n,this.children=i,this.type=Da.MERGE}operationForChild(e){if(zt(this.path)){const n=this.children.subtree(new Un(e));return n.isEmpty()?null:n.value?new ic(this.source,vn(),n.value):new Cm(this.source,vn(),n)}else return He(qt(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Cm(this.source,Vn(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yT{constructor(e,n,i){this.node_=e,this.fullyInitialized_=n,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(zt(e))return this.isFullyInitialized()&&!this.filtered_;const n=qt(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}function $X(t,e,n,i){const s=[],r=[];return e.forEach(a=>{a.type==="child_changed"&&t.index_.indexedValueChanged(a.oldSnap,a.snapshotNode)&&r.push(MX(a.childName,a.snapshotNode))}),yf(t,s,"child_removed",e,i,n),yf(t,s,"child_added",e,i,n),yf(t,s,"child_moved",r,i,n),yf(t,s,"child_changed",e,i,n),yf(t,s,"value",e,i,n),s}function yf(t,e,n,i,s,r){const a=i.filter(o=>o.type===n);a.sort((o,l)=>HX(t,o,l)),a.forEach(o=>{const l=UX(t,o,r);s.forEach(u=>{u.respondsTo(o.type)&&e.push(u.createEvent(l,t.query_))})})}function UX(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function HX(t,e,n){if(e.childName==null||n.childName==null)throw Th("Should only compare child_ events.");const i=new Xt(e.childName,e.snapshotNode),s=new Xt(n.childName,n.snapshotNode);return t.index_.compare(i,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nF(t,e){return{eventCache:t,serverCache:e}}function Qf(t,e,n,i){return nF(new yT(e,n,i),t.serverCache)}function iF(t,e,n,i){return nF(t.eventCache,new yT(e,n,i))}function rS(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function sc(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let C0;const zX=()=>(C0||(C0=new Ia(Iq)),C0);class Mn{static fromObject(e){let n=new Mn(null);return Vr(e,(i,s)=>{n=n.set(new Un(i),s)}),n}constructor(e,n=zX()){this.value=e,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:vn(),value:this.value};if(zt(e))return null;{const i=qt(e),s=this.children.get(i);if(s!==null){const r=s.findRootMostMatchingPathAndValue(Vn(e),n);return r!=null?{path:Bi(new Un(i),r.path),value:r.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(zt(e))return this;{const n=qt(e),i=this.children.get(n);return i!==null?i.subtree(Vn(e)):new Mn(null)}}set(e,n){if(zt(e))return new Mn(n,this.children);{const i=qt(e),r=(this.children.get(i)||new Mn(null)).set(Vn(e),n),a=this.children.insert(i,r);return new Mn(this.value,a)}}remove(e){if(zt(e))return this.children.isEmpty()?new Mn(null):new Mn(null,this.children);{const n=qt(e),i=this.children.get(n);if(i){const s=i.remove(Vn(e));let r;return s.isEmpty()?r=this.children.remove(n):r=this.children.insert(n,s),this.value===null&&r.isEmpty()?new Mn(null):new Mn(this.value,r)}else return this}}get(e){if(zt(e))return this.value;{const n=qt(e),i=this.children.get(n);return i?i.get(Vn(e)):null}}setTree(e,n){if(zt(e))return n;{const i=qt(e),r=(this.children.get(i)||new Mn(null)).setTree(Vn(e),n);let a;return r.isEmpty()?a=this.children.remove(i):a=this.children.insert(i,r),new Mn(this.value,a)}}fold(e){return this.fold_(vn(),e)}fold_(e,n){const i={};return this.children.inorderTraversal((s,r)=>{i[s]=r.fold_(Bi(e,s),n)}),n(e,this.value,i)}findOnPath(e,n){return this.findOnPath_(e,vn(),n)}findOnPath_(e,n,i){const s=this.value?i(n,this.value):!1;if(s)return s;if(zt(e))return null;{const r=qt(e),a=this.children.get(r);return a?a.findOnPath_(Vn(e),Bi(n,r),i):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,vn(),n)}foreachOnPath_(e,n,i){if(zt(e))return this;{this.value&&i(n,this.value);const s=qt(e),r=this.children.get(s);return r?r.foreachOnPath_(Vn(e),Bi(n,s),i):new Mn(null)}}foreach(e){this.foreach_(vn(),e)}foreach_(e,n){this.children.inorderTraversal((i,s)=>{s.foreach_(Bi(e,i),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,i)=>{i.value&&e(n,i.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{constructor(e){this.writeTree_=e}static empty(){return new ta(new Mn(null))}}function Jf(t,e,n){if(zt(e))return new ta(new Mn(n));{const i=t.writeTree_.findRootMostValueAndPath(e);if(i!=null){const s=i.path;let r=i.value;const a=Ar(s,e);return r=r.updateChild(a,n),new ta(t.writeTree_.set(s,r))}else{const s=new Mn(n),r=t.writeTree_.setTree(e,s);return new ta(r)}}}function VD(t,e,n){let i=t;return Vr(n,(s,r)=>{i=Jf(i,Bi(e,s),r)}),i}function LD(t,e){if(zt(e))return ta.empty();{const n=t.writeTree_.setTree(e,new Mn(null));return new ta(n)}}function aS(t,e){return Ic(t,e)!=null}function Ic(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Ar(n.path,e)):null}function ND(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(ws,(i,s)=>{e.push(new Xt(i,s))}):t.writeTree_.children.inorderTraversal((i,s)=>{s.value!=null&&e.push(new Xt(i,s.value))}),e}function Tl(t,e){if(zt(e))return t;{const n=Ic(t,e);return n!=null?new ta(new Mn(n)):new ta(t.writeTree_.subtree(e))}}function oS(t){return t.writeTree_.isEmpty()}function Xd(t,e){return sF(vn(),t.writeTree_,e)}function sF(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let i=null;return e.children.inorderTraversal((s,r)=>{s===".priority"?(He(r.value!==null,"Priority writes must always be leaf nodes"),i=r.value):n=sF(Bi(t,s),r,n)}),!n.getChild(t).isEmpty()&&i!==null&&(n=n.updateChild(Bi(t,".priority"),i)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rF(t,e){return cF(e,t)}function WX(t,e,n,i,s){He(i>t.lastWriteId,"Stacking an older write on top of newer ones"),s===void 0&&(s=!0),t.allWrites.push({path:e,snap:n,writeId:i,visible:s}),s&&(t.visibleWrites=Jf(t.visibleWrites,e,n)),t.lastWriteId=i}function YX(t,e){for(let n=0;n<t.allWrites.length;n++){const i=t.allWrites[n];if(i.writeId===e)return i}return null}function GX(t,e){const n=t.allWrites.findIndex(o=>o.writeId===e);He(n>=0,"removeWrite called with nonexistent writeId.");const i=t.allWrites[n];t.allWrites.splice(n,1);let s=i.visible,r=!1,a=t.allWrites.length-1;for(;s&&a>=0;){const o=t.allWrites[a];o.visible&&(a>=n&&qX(o,i.path)?s=!1:Gr(i.path,o.path)&&(r=!0)),a--}if(s){if(r)return XX(t),!0;if(i.snap)t.visibleWrites=LD(t.visibleWrites,i.path);else{const o=i.children;Vr(o,l=>{t.visibleWrites=LD(t.visibleWrites,Bi(i.path,l))})}return!0}else return!1}function qX(t,e){if(t.snap)return Gr(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&Gr(Bi(t.path,n),e))return!0;return!1}function XX(t){t.visibleWrites=aF(t.allWrites,KX,vn()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function KX(t){return t.visible}function aF(t,e,n){let i=ta.empty();for(let s=0;s<t.length;++s){const r=t[s];if(e(r)){const a=r.path;let o;if(r.snap)Gr(n,a)?(o=Ar(n,a),i=Jf(i,o,r.snap)):Gr(a,n)&&(o=Ar(a,n),i=Jf(i,vn(),r.snap.getChild(o)));else if(r.children){if(Gr(n,a))o=Ar(n,a),i=VD(i,o,r.children);else if(Gr(a,n))if(o=Ar(a,n),zt(o))i=VD(i,vn(),r.children);else{const l=Yd(r.children,qt(o));if(l){const u=l.getChild(Vn(o));i=Jf(i,vn(),u)}}}else throw Th("WriteRecord should have .snap or .children")}}return i}function oF(t,e,n,i,s){if(!i&&!s){const r=Ic(t.visibleWrites,e);if(r!=null)return r;{const a=Tl(t.visibleWrites,e);if(oS(a))return n;if(n==null&&!aS(a,vn()))return null;{const o=n||hn.EMPTY_NODE;return Xd(a,o)}}}else{const r=Tl(t.visibleWrites,e);if(!s&&oS(r))return n;if(!s&&n==null&&!aS(r,vn()))return null;{const a=function(u){return(u.visible||s)&&(!i||!~i.indexOf(u.writeId))&&(Gr(u.path,e)||Gr(e,u.path))},o=aF(t.allWrites,a,e),l=n||hn.EMPTY_NODE;return Xd(o,l)}}}function QX(t,e,n){let i=hn.EMPTY_NODE;const s=Ic(t.visibleWrites,e);if(s)return s.isLeafNode()||s.forEachChild(ws,(r,a)=>{i=i.updateImmediateChild(r,a)}),i;if(n){const r=Tl(t.visibleWrites,e);return n.forEachChild(ws,(a,o)=>{const l=Xd(Tl(r,new Un(a)),o);i=i.updateImmediateChild(a,l)}),ND(r).forEach(a=>{i=i.updateImmediateChild(a.name,a.node)}),i}else{const r=Tl(t.visibleWrites,e);return ND(r).forEach(a=>{i=i.updateImmediateChild(a.name,a.node)}),i}}function JX(t,e,n,i,s){He(i||s,"Either existingEventSnap or existingServerSnap must exist");const r=Bi(e,n);if(aS(t.visibleWrites,r))return null;{const a=Tl(t.visibleWrites,r);return oS(a)?s.getChild(n):Xd(a,s.getChild(n))}}function ZX(t,e,n,i){const s=Bi(e,n),r=Ic(t.visibleWrites,s);if(r!=null)return r;if(i.isCompleteForChild(n)){const a=Tl(t.visibleWrites,s);return Xd(a,i.getNode().getImmediateChild(n))}else return null}function eK(t,e){return Ic(t.visibleWrites,e)}function tK(t,e,n,i,s,r,a){let o;const l=Tl(t.visibleWrites,e),u=Ic(l,vn());if(u!=null)o=u;else if(n!=null)o=Xd(l,n);else return[];if(o=o.withIndex(a),!o.isEmpty()&&!o.isLeafNode()){const d=[],c=a.getCompare(),f=r?o.getReverseIteratorFrom(i,a):o.getIteratorFrom(i,a);let h=f.getNext();for(;h&&d.length<s;)c(h,i)!==0&&d.push(h),h=f.getNext();return d}else return[]}function nK(){return{visibleWrites:ta.empty(),allWrites:[],lastWriteId:-1}}function lS(t,e,n,i){return oF(t.writeTree,t.treePath,e,n,i)}function lF(t,e){return QX(t.writeTree,t.treePath,e)}function FD(t,e,n,i){return JX(t.writeTree,t.treePath,e,n,i)}function x_(t,e){return eK(t.writeTree,Bi(t.treePath,e))}function iK(t,e,n,i,s,r){return tK(t.writeTree,t.treePath,e,n,i,s,r)}function bT(t,e,n){return ZX(t.writeTree,t.treePath,e,n)}function uF(t,e){return cF(Bi(t.treePath,e),t.writeTree)}function cF(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sK{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,i=e.childName;He(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),He(i!==".priority","Only non-priority child changes can be tracked.");const s=this.changeMap.get(i);if(s){const r=s.type;if(n==="child_added"&&r==="child_removed")this.changeMap.set(i,AD(i,e.snapshotNode,s.snapshotNode));else if(n==="child_removed"&&r==="child_added")this.changeMap.delete(i);else if(n==="child_removed"&&r==="child_changed")this.changeMap.set(i,OX(i,s.oldSnap));else if(n==="child_changed"&&r==="child_added")this.changeMap.set(i,RX(i,e.snapshotNode));else if(n==="child_changed"&&r==="child_changed")this.changeMap.set(i,AD(i,e.snapshotNode,s.oldSnap));else throw Th("Illegal combination of changes: "+e+" occurred after "+s)}else this.changeMap.set(i,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rK{getCompleteChild(e){return null}getChildAfterChild(e,n,i){return null}}const dF=new rK;class wT{constructor(e,n,i=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=i}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const i=this.optCompleteServerCache_!=null?new yT(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return bT(this.writes_,e,i)}}getChildAfterChild(e,n,i){const s=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:sc(this.viewCache_),r=iK(this.writes_,s,n,1,i,e);return r.length===0?null:r[0]}}function aK(t,e){He(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),He(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function oK(t,e,n,i,s){const r=new sK;let a,o;if(n.type===Da.OVERWRITE){const u=n;u.source.fromUser?a=uS(t,e,u.path,u.snap,i,s,r):(He(u.source.fromServer,"Unknown source."),o=u.source.tagged||e.serverCache.isFiltered()&&!zt(u.path),a=S_(t,e,u.path,u.snap,i,s,o,r))}else if(n.type===Da.MERGE){const u=n;u.source.fromUser?a=uK(t,e,u.path,u.children,i,s,r):(He(u.source.fromServer,"Unknown source."),o=u.source.tagged||e.serverCache.isFiltered(),a=cS(t,e,u.path,u.children,i,s,o,r))}else if(n.type===Da.ACK_USER_WRITE){const u=n;u.revert?a=hK(t,e,u.path,i,s,r):a=cK(t,e,u.path,u.affectedTree,i,s,r)}else if(n.type===Da.LISTEN_COMPLETE)a=dK(t,e,n.path,i,r);else throw Th("Unknown operation type: "+n.type);const l=r.getChanges();return lK(e,a,l),{viewCache:a,changes:l}}function lK(t,e,n){const i=e.eventCache;if(i.isFullyInitialized()){const s=i.getNode().isLeafNode()||i.getNode().isEmpty(),r=rS(t);(n.length>0||!t.eventCache.isFullyInitialized()||s&&!i.getNode().equals(r)||!i.getNode().getPriority().equals(r.getPriority()))&&n.push(AX(rS(e)))}}function hF(t,e,n,i,s,r){const a=e.eventCache;if(x_(i,n)!=null)return e;{let o,l;if(zt(n))if(He(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const u=sc(e),d=u instanceof hn?u:hn.EMPTY_NODE,c=lF(i,d);o=t.filter.updateFullNode(e.eventCache.getNode(),c,r)}else{const u=lS(i,sc(e));o=t.filter.updateFullNode(e.eventCache.getNode(),u,r)}else{const u=qt(n);if(u===".priority"){He(Ml(n)===1,"Can't have a priority with additional path components");const d=a.getNode();l=e.serverCache.getNode();const c=FD(i,n,d,l);c!=null?o=t.filter.updatePriority(d,c):o=a.getNode()}else{const d=Vn(n);let c;if(a.isCompleteForChild(u)){l=e.serverCache.getNode();const f=FD(i,n,a.getNode(),l);f!=null?c=a.getNode().getImmediateChild(u).updateChild(d,f):c=a.getNode().getImmediateChild(u)}else c=bT(i,u,e.serverCache);c!=null?o=t.filter.updateChild(a.getNode(),u,c,d,s,r):o=a.getNode()}}return Qf(e,o,a.isFullyInitialized()||zt(n),t.filter.filtersNodes())}}function S_(t,e,n,i,s,r,a,o){const l=e.serverCache;let u;const d=a?t.filter:t.filter.getIndexedFilter();if(zt(n))u=d.updateFullNode(l.getNode(),i,null);else if(d.filtersNodes()&&!l.isFiltered()){const h=l.getNode().updateChild(n,i);u=d.updateFullNode(l.getNode(),h,null)}else{const h=qt(n);if(!l.isCompleteForPath(n)&&Ml(n)>1)return e;const p=Vn(n),v=l.getNode().getImmediateChild(h).updateChild(p,i);h===".priority"?u=d.updatePriority(l.getNode(),v):u=d.updateChild(l.getNode(),h,v,p,dF,null)}const c=iF(e,u,l.isFullyInitialized()||zt(n),d.filtersNodes()),f=new wT(s,c,r);return hF(t,c,n,s,f,o)}function uS(t,e,n,i,s,r,a){const o=e.eventCache;let l,u;const d=new wT(s,e,r);if(zt(n))u=t.filter.updateFullNode(e.eventCache.getNode(),i,a),l=Qf(e,u,!0,t.filter.filtersNodes());else{const c=qt(n);if(c===".priority")u=t.filter.updatePriority(e.eventCache.getNode(),i),l=Qf(e,u,o.isFullyInitialized(),o.isFiltered());else{const f=Vn(n),h=o.getNode().getImmediateChild(c);let p;if(zt(f))p=i;else{const g=d.getCompleteChild(c);g!=null?UN(f)===".priority"&&g.getChild(zN(f)).isEmpty()?p=g:p=g.updateChild(f,i):p=hn.EMPTY_NODE}if(h.equals(p))l=e;else{const g=t.filter.updateChild(o.getNode(),c,p,f,d,a);l=Qf(e,g,o.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function BD(t,e){return t.eventCache.isCompleteForChild(e)}function uK(t,e,n,i,s,r,a){let o=e;return i.foreach((l,u)=>{const d=Bi(n,l);BD(e,qt(d))&&(o=uS(t,o,d,u,s,r,a))}),i.foreach((l,u)=>{const d=Bi(n,l);BD(e,qt(d))||(o=uS(t,o,d,u,s,r,a))}),o}function jD(t,e,n){return n.foreach((i,s)=>{e=e.updateChild(i,s)}),e}function cS(t,e,n,i,s,r,a,o){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,u;zt(n)?u=i:u=new Mn(null).setTree(n,i);const d=e.serverCache.getNode();return u.children.inorderTraversal((c,f)=>{if(d.hasChild(c)){const h=e.serverCache.getNode().getImmediateChild(c),p=jD(t,h,f);l=S_(t,l,new Un(c),p,s,r,a,o)}}),u.children.inorderTraversal((c,f)=>{const h=!e.serverCache.isCompleteForChild(c)&&f.value===null;if(!d.hasChild(c)&&!h){const p=e.serverCache.getNode().getImmediateChild(c),g=jD(t,p,f);l=S_(t,l,new Un(c),g,s,r,a,o)}}),l}function cK(t,e,n,i,s,r,a){if(x_(s,n)!=null)return e;const o=e.serverCache.isFiltered(),l=e.serverCache;if(i.value!=null){if(zt(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return S_(t,e,n,l.getNode().getChild(n),s,r,o,a);if(zt(n)){let u=new Mn(null);return l.getNode().forEachChild(Ld,(d,c)=>{u=u.set(new Un(d),c)}),cS(t,e,n,u,s,r,o,a)}else return e}else{let u=new Mn(null);return i.foreach((d,c)=>{const f=Bi(n,d);l.isCompleteForPath(f)&&(u=u.set(d,l.getNode().getChild(f)))}),cS(t,e,n,u,s,r,o,a)}}function dK(t,e,n,i,s){const r=e.serverCache,a=iF(e,r.getNode(),r.isFullyInitialized()||zt(n),r.isFiltered());return hF(t,a,n,i,dF,s)}function hK(t,e,n,i,s,r){let a;if(x_(i,n)!=null)return e;{const o=new wT(i,e,s),l=e.eventCache.getNode();let u;if(zt(n)||qt(n)===".priority"){let d;if(e.serverCache.isFullyInitialized())d=lS(i,sc(e));else{const c=e.serverCache.getNode();He(c instanceof hn,"serverChildren would be complete if leaf node"),d=lF(i,c)}d=d,u=t.filter.updateFullNode(l,d,r)}else{const d=qt(n);let c=bT(i,d,e.serverCache);c==null&&e.serverCache.isCompleteForChild(d)&&(c=l.getImmediateChild(d)),c!=null?u=t.filter.updateChild(l,d,c,Vn(n),o,r):e.eventCache.getNode().hasChild(d)?u=t.filter.updateChild(l,d,hn.EMPTY_NODE,Vn(n),o,r):u=l,u.isEmpty()&&e.serverCache.isFullyInitialized()&&(a=lS(i,sc(e)),a.isLeafNode()&&(u=t.filter.updateFullNode(u,a,r)))}return a=e.serverCache.isFullyInitialized()||x_(i,vn())!=null,Qf(e,u,a,t.filter.filtersNodes())}}function fK(t,e){const n=sc(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!zt(e)&&!n.getImmediateChild(qt(e)).isEmpty())?n.getChild(e):null}function $D(t,e,n,i){e.type===Da.MERGE&&e.source.queryId!==null&&(He(sc(t.viewCache_),"We should always have a full cache before handling merges"),He(rS(t.viewCache_),"Missing event cache, even though we have a server cache"));const s=t.viewCache_,r=oK(t.processor_,s,e,n,i);return aK(t.processor_,r.viewCache),He(r.viewCache.serverCache.isFullyInitialized()||!s.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=r.viewCache,mK(t,r.changes,r.viewCache.eventCache.getNode())}function mK(t,e,n,i){const s=t.eventRegistrations_;return $X(t.eventGenerator_,e,n,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let UD;function gK(t){He(!UD,"__referenceConstructor has already been defined"),UD=t}function xT(t,e,n,i){const s=e.source.queryId;if(s!==null){const r=t.views.get(s);return He(r!=null,"SyncTree gave us an op for an invalid query."),$D(r,e,n,i)}else{let r=[];for(const a of t.views.values())r=r.concat($D(a,e,n,i));return r}}function ST(t,e){let n=null;for(const i of t.views.values())n=n||fK(i,e);return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let HD;function pK(t){He(!HD,"__referenceConstructor has already been defined"),HD=t}class zD{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Mn(null),this.pendingWriteTree_=nK(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function vK(t,e,n,i,s){return WX(t.pendingWriteTree_,e,n,i,s),s?pb(t,new ic(ZN(),e,n)):[]}function _d(t,e,n=!1){const i=YX(t.pendingWriteTree_,e);if(GX(t.pendingWriteTree_,e)){let r=new Mn(null);return i.snap!=null?r=r.set(vn(),!0):Vr(i.children,a=>{r=r.set(new Un(a),!0)}),pb(t,new w_(i.path,r,n))}else return[]}function gb(t,e,n){return pb(t,new ic(eF(),e,n))}function _K(t,e,n){const i=Mn.fromObject(n);return pb(t,new Cm(eF(),e,i))}function yK(t,e,n,i){const s=pF(t,i);if(s!=null){const r=vF(s),a=r.path,o=r.queryId,l=Ar(a,e),u=new ic(tF(o),l,n);return _F(t,a,u)}else return[]}function bK(t,e,n,i){const s=pF(t,i);if(s){const r=vF(s),a=r.path,o=r.queryId,l=Ar(a,e),u=Mn.fromObject(n),d=new Cm(tF(o),l,u);return _F(t,a,d)}else return[]}function fF(t,e,n){const s=t.pendingWriteTree_,r=t.syncPointTree_.findOnPath(e,(a,o)=>{const l=Ar(a,e),u=ST(o,l);if(u)return u});return oF(s,e,r,n,!0)}function pb(t,e){return mF(e,t.syncPointTree_,null,rF(t.pendingWriteTree_,vn()))}function mF(t,e,n,i){if(zt(t.path))return gF(t,e,n,i);{const s=e.get(vn());n==null&&s!=null&&(n=ST(s,vn()));let r=[];const a=qt(t.path),o=t.operationForChild(a),l=e.children.get(a);if(l&&o){const u=n?n.getImmediateChild(a):null,d=uF(i,a);r=r.concat(mF(o,l,u,d))}return s&&(r=r.concat(xT(s,t,i,n))),r}}function gF(t,e,n,i){const s=e.get(vn());n==null&&s!=null&&(n=ST(s,vn()));let r=[];return e.children.inorderTraversal((a,o)=>{const l=n?n.getImmediateChild(a):null,u=uF(i,a),d=t.operationForChild(a);d&&(r=r.concat(gF(d,o,l,u)))}),s&&(r=r.concat(xT(s,t,i,n))),r}function pF(t,e){return t.tagToQueryMap.get(e)}function vF(t){const e=t.indexOf("$");return He(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Un(t.substr(0,e))}}function _F(t,e,n){const i=t.syncPointTree_.get(e);He(i,"Missing sync point for query tag that we're tracking");const s=rF(t.pendingWriteTree_,e);return xT(i,n,s,null)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kT{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new kT(n)}node(){return this.node_}}class TT{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=Bi(this.path_,e);return new TT(this.syncTree_,n)}node(){return fF(this.syncTree_,this.path_)}}const wK=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},WD=function(t,e,n){if(!t||typeof t!="object")return t;if(He(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return xK(t[".sv"],e,n);if(typeof t[".sv"]=="object")return SK(t[".sv"],e);He(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},xK=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:He(!1,"Unexpected server value: "+t)}},SK=function(t,e,n){t.hasOwnProperty("increment")||He(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const i=t.increment;typeof i!="number"&&He(!1,"Unexpected increment value: "+i);const s=e.node();if(He(s!==null&&typeof s<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!s.isLeafNode())return i;const a=s.getValue();return typeof a!="number"?i:a+i},kK=function(t,e,n,i){return PT(e,new TT(n,t),i)},TK=function(t,e,n){return PT(t,new kT(e),n)};function PT(t,e,n){const i=t.getPriority().val(),s=WD(i,e.getImmediateChild(".priority"),n);let r;if(t.isLeafNode()){const a=t,o=WD(a.getValue(),e,n);return o!==a.getValue()||s!==a.getPriority().val()?new Ni(o,_s(s)):t}else{const a=t;return r=a,s!==a.getPriority().val()&&(r=r.updatePriority(new Ni(s))),a.forEachChild(ws,(o,l)=>{const u=PT(l,e.getImmediateChild(o),n);u!==l&&(r=r.updateImmediateChild(o,u))}),r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CT{constructor(e="",n=null,i={children:{},childCount:0}){this.name=e,this.parent=n,this.node=i}}function ET(t,e){let n=e instanceof Un?e:new Un(e),i=t,s=qt(n);for(;s!==null;){const r=Yd(i.node.children,s)||{children:{},childCount:0};i=new CT(s,i,r),n=Vn(n),s=qt(n)}return i}function Ah(t){return t.node.value}function yF(t,e){t.node.value=e,dS(t)}function bF(t){return t.node.childCount>0}function PK(t){return Ah(t)===void 0&&!bF(t)}function vb(t,e){Vr(t.node.children,(n,i)=>{e(new CT(n,t,i))})}function wF(t,e,n,i){n&&e(t),vb(t,s=>{wF(s,e,!0)})}function CK(t,e,n){let i=t.parent;for(;i!==null;){if(e(i))return!0;i=i.parent}return!1}function Ng(t){return new Un(t.parent===null?t.name:Ng(t.parent)+"/"+t.name)}function dS(t){t.parent!==null&&EK(t.parent,t.name,t)}function EK(t,e,n){const i=PK(n),s=$o(t.node.children,e);i&&s?(delete t.node.children[e],t.node.childCount--,dS(t)):!i&&!s&&(t.node.children[e]=n.node,t.node.childCount++,dS(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IK=/[\[\].#$\/\u0000-\u001F\u007F]/,DK=/[\[\].#$\u0000-\u001F\u007F]/,E0=10*1024*1024,xF=function(t){return typeof t=="string"&&t.length!==0&&!IK.test(t)},AK=function(t){return typeof t=="string"&&t.length!==0&&!DK.test(t)},RK=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),AK(t)},SF=function(t,e,n){const i=n instanceof Un?new dX(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+wu(i));if(typeof e=="function")throw new Error(t+"contains a function "+wu(i)+" with contents = "+e.toString());if(xN(e))throw new Error(t+"contains "+e.toString()+" "+wu(i));if(typeof e=="string"&&e.length>E0/3&&cb(e)>E0)throw new Error(t+"contains a string greater than "+E0+" utf8 bytes "+wu(i)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let s=!1,r=!1;if(Vr(e,(a,o)=>{if(a===".value")s=!0;else if(a!==".priority"&&a!==".sv"&&(r=!0,!xF(a)))throw new Error(t+" contains an invalid key ("+a+") "+wu(i)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);hX(i,a),SF(t,o,i),fX(i)}),s&&r)throw new Error(t+' contains ".value" child '+wu(i)+" in addition to actual children.")}},OK=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!xF(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!RK(n))throw new Error(uW(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MK{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function VK(t,e){let n=null;for(let i=0;i<e.length;i++){const s=e[i],r=s.getPath();n!==null&&!WN(r,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:r}),n.events.push(s)}n&&t.eventLists_.push(n)}function Dc(t,e,n){VK(t,n),LK(t,i=>Gr(i,e)||Gr(e,i))}function LK(t,e){t.recursionDepth_++;let n=!0;for(let i=0;i<t.eventLists_.length;i++){const s=t.eventLists_[i];if(s){const r=s.path;e(r)?(NK(t.eventLists_[i]),t.eventLists_[i]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function NK(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const i=n.getEventRunner();Xf&&vs("event: "+n.toString()),Vg(i)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FK="repo_interrupt",BK=25;class jK{constructor(e,n,i,s){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=i,this.appCheckProvider_=s,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new MK,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=b_(),this.transactionQueueTree_=new CT,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function $K(t,e,n){if(t.stats_=mT(t.repoInfo_),t.forceRestClient_||Vq())t.server_=new y_(t.repoInfo_,(i,s,r,a)=>{YD(t,i,s,r,a)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>GD(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{es(n)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}t.persistentConnection_=new xo(t.repoInfo_,e,(i,s,r,a)=>{YD(t,i,s,r,a)},i=>{GD(t,i)},i=>{HK(t,i)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(i=>{t.server_.refreshAuthToken(i)}),t.appCheckProvider_.addTokenChangeListener(i=>{t.server_.refreshAppCheckToken(i.token)}),t.statsReporter_=$q(t.repoInfo_,()=>new jX(t.stats_,t.server_)),t.infoData_=new VX,t.infoSyncTree_=new zD({startListening:(i,s,r,a)=>{let o=[];const l=t.infoData_.getNode(i._path);return l.isEmpty()||(o=gb(t.infoSyncTree_,i._path,l),setTimeout(()=>{a("ok")},0)),o},stopListening:()=>{}}),IT(t,"connected",!1),t.serverSyncTree_=new zD({startListening:(i,s,r,a)=>(t.server_.listen(i,r,s,(o,l)=>{const u=a(o,l);Dc(t.eventQueue_,i._path,u)}),[]),stopListening:(i,s)=>{t.server_.unlisten(i,s)}})}function UK(t){const n=t.infoData_.getNode(new Un(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function kF(t){return wK({timestamp:UK(t)})}function YD(t,e,n,i,s){t.dataUpdateCount++;const r=new Un(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let a=[];if(s)if(i){const l=l_(n,u=>_s(u));a=bK(t.serverSyncTree_,r,l,s)}else{const l=_s(n);a=yK(t.serverSyncTree_,r,l,s)}else if(i){const l=l_(n,u=>_s(u));a=_K(t.serverSyncTree_,r,l)}else{const l=_s(n);a=gb(t.serverSyncTree_,r,l)}let o=r;a.length>0&&(o=AT(t,r)),Dc(t.eventQueue_,o,a)}function GD(t,e){IT(t,"connected",e),e===!1&&WK(t)}function HK(t,e){Vr(e,(n,i)=>{IT(t,n,i)})}function IT(t,e,n){const i=new Un("/.info/"+e),s=_s(n);t.infoData_.updateSnapshot(i,s);const r=gb(t.infoSyncTree_,i,s);Dc(t.eventQueue_,i,r)}function zK(t){return t.nextWriteId_++}function WK(t){TF(t,"onDisconnectEvents");const e=kF(t),n=b_();sS(t.onDisconnect_,vn(),(s,r)=>{const a=kK(s,r,t.serverSyncTree_,e);JN(n,s,a)});let i=[];sS(n,vn(),(s,r)=>{i=i.concat(gb(t.serverSyncTree_,s,r));const a=XK(t,s);AT(t,a)}),t.onDisconnect_=b_(),Dc(t.eventQueue_,vn(),i)}function YK(t){t.persistentConnection_&&t.persistentConnection_.interrupt(FK)}function TF(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),vs(n,...e)}function PF(t,e,n){return fF(t.serverSyncTree_,e,n)||hn.EMPTY_NODE}function DT(t,e=t.transactionQueueTree_){if(e||_b(t,e),Ah(e)){const n=EF(t,e);He(n.length>0,"Sending zero length transaction queue"),n.every(s=>s.status===0)&&GK(t,Ng(e),n)}else bF(e)&&vb(e,n=>{DT(t,n)})}function GK(t,e,n){const i=n.map(u=>u.currentWriteId),s=PF(t,e,i);let r=s;const a=s.hash();for(let u=0;u<n.length;u++){const d=n[u];He(d.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),d.status=1,d.retryCount++;const c=Ar(e,d.path);r=r.updateChild(c,d.currentOutputSnapshotRaw)}const o=r.val(!0),l=e;t.server_.put(l.toString(),o,u=>{TF(t,"transaction put response",{path:l.toString(),status:u});let d=[];if(u==="ok"){const c=[];for(let f=0;f<n.length;f++)n[f].status=2,d=d.concat(_d(t.serverSyncTree_,n[f].currentWriteId)),n[f].onComplete&&c.push(()=>n[f].onComplete(null,!0,n[f].currentOutputSnapshotResolved)),n[f].unwatcher();_b(t,ET(t.transactionQueueTree_,e)),DT(t,t.transactionQueueTree_),Dc(t.eventQueue_,e,d);for(let f=0;f<c.length;f++)Vg(c[f])}else{if(u==="datastale")for(let c=0;c<n.length;c++)n[c].status===3?n[c].status=4:n[c].status=0;else{gr("transaction at "+l.toString()+" failed: "+u);for(let c=0;c<n.length;c++)n[c].status=4,n[c].abortReason=u}AT(t,e)}},a)}function AT(t,e){const n=CF(t,e),i=Ng(n),s=EF(t,n);return qK(t,s,i),i}function qK(t,e,n){if(e.length===0)return;const i=[];let s=[];const a=e.filter(o=>o.status===0).map(o=>o.currentWriteId);for(let o=0;o<e.length;o++){const l=e[o],u=Ar(n,l.path);let d=!1,c;if(He(u!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)d=!0,c=l.abortReason,s=s.concat(_d(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=BK)d=!0,c="maxretry",s=s.concat(_d(t.serverSyncTree_,l.currentWriteId,!0));else{const f=PF(t,l.path,a);l.currentInputSnapshot=f;const h=e[o].update(f.val());if(h!==void 0){SF("transaction failed: Data returned ",h,l.path);let p=_s(h);typeof h=="object"&&h!=null&&$o(h,".priority")||(p=p.updatePriority(f.getPriority()));const v=l.currentWriteId,_=kF(t),b=TK(p,f,_);l.currentOutputSnapshotRaw=p,l.currentOutputSnapshotResolved=b,l.currentWriteId=zK(t),a.splice(a.indexOf(v),1),s=s.concat(vK(t.serverSyncTree_,l.path,b,l.currentWriteId,l.applyLocally)),s=s.concat(_d(t.serverSyncTree_,v,!0))}else d=!0,c="nodata",s=s.concat(_d(t.serverSyncTree_,l.currentWriteId,!0))}Dc(t.eventQueue_,n,s),s=[],d&&(e[o].status=2,function(f){setTimeout(f,Math.floor(0))}(e[o].unwatcher),e[o].onComplete&&(c==="nodata"?i.push(()=>e[o].onComplete(null,!1,e[o].currentInputSnapshot)):i.push(()=>e[o].onComplete(new Error(c),!1,null))))}_b(t,t.transactionQueueTree_);for(let o=0;o<i.length;o++)Vg(i[o]);DT(t,t.transactionQueueTree_)}function CF(t,e){let n,i=t.transactionQueueTree_;for(n=qt(e);n!==null&&Ah(i)===void 0;)i=ET(i,n),e=Vn(e),n=qt(e);return i}function EF(t,e){const n=[];return IF(t,e,n),n.sort((i,s)=>i.order-s.order),n}function IF(t,e,n){const i=Ah(e);if(i)for(let s=0;s<i.length;s++)n.push(i[s]);vb(e,s=>{IF(t,s,n)})}function _b(t,e){const n=Ah(e);if(n){let i=0;for(let s=0;s<n.length;s++)n[s].status!==2&&(n[i]=n[s],i++);n.length=i,yF(e,n.length>0?n:void 0)}vb(e,i=>{_b(t,i)})}function XK(t,e){const n=Ng(CF(t,e)),i=ET(t.transactionQueueTree_,e);return CK(i,s=>{I0(t,s)}),I0(t,i),wF(i,s=>{I0(t,s)}),n}function I0(t,e){const n=Ah(e);if(n){const i=[];let s=[],r=-1;for(let a=0;a<n.length;a++)n[a].status===3||(n[a].status===1?(He(r===a-1,"All SENT items should be at beginning of queue."),r=a,n[a].status=3,n[a].abortReason="set"):(He(n[a].status===0,"Unexpected transaction status in abort"),n[a].unwatcher(),s=s.concat(_d(t.serverSyncTree_,n[a].currentWriteId,!0)),n[a].onComplete&&i.push(n[a].onComplete.bind(null,new Error("set"),!1,null))));r===-1?yF(e,void 0):n.length=r+1,Dc(t.eventQueue_,Ng(e),s);for(let a=0;a<i.length;a++)Vg(i[a])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KK(t){let e="";const n=t.split("/");for(let i=0;i<n.length;i++)if(n[i].length>0){let s=n[i];try{s=decodeURIComponent(s.replace(/\+/g," "))}catch{}e+="/"+s}return e}function QK(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const i=n.split("=");i.length===2?e[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):gr(`Invalid query segment '${n}' in query '${t}'`)}return e}const qD=function(t,e){const n=JK(t),i=n.namespace;n.domain==="firebase.com"&&tc(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||i==="undefined")&&n.domain!=="localhost"&&tc("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||Cq();const s=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new Fq(n.host,n.secure,i,s,e,"",i!==n.subdomain),path:new Un(n.pathString)}},JK=function(t){let e="",n="",i="",s="",r="",a=!0,o="https",l=443;if(typeof t=="string"){let u=t.indexOf("//");u>=0&&(o=t.substring(0,u-1),t=t.substring(u+2));let d=t.indexOf("/");d===-1&&(d=t.length);let c=t.indexOf("?");c===-1&&(c=t.length),e=t.substring(0,Math.min(d,c)),d<c&&(s=KK(t.substring(d,c)));const f=QK(t.substring(Math.min(t.length,c)));u=e.indexOf(":"),u>=0?(a=o==="https"||o==="wss",l=parseInt(e.substring(u+1),10)):u=e.length;const h=e.slice(0,u);if(h.toLowerCase()==="localhost")n="localhost";else if(h.split(".").length<=2)n=h;else{const p=e.indexOf(".");i=e.substring(0,p).toLowerCase(),n=e.substring(p+1),r=i}"ns"in f&&(r=f.ns)}return{host:e,port:l,domain:n,subdomain:i,secure:a,scheme:o,pathString:s,namespace:r}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RT{constructor(e,n,i,s){this._repo=e,this._path=n,this._queryParams=i,this._orderByCalled=s}get key(){return zt(this._path)?null:UN(this._path)}get ref(){return new Rh(this._repo,this._path)}get _queryIdentifier(){const e=OD(this._queryParams),n=hT(e);return n==="{}"?"default":n}get _queryObject(){return OD(this._queryParams)}isEqual(e){if(e=ai(e),!(e instanceof RT))return!1;const n=this._repo===e._repo,i=WN(this._path,e._path),s=this._queryIdentifier===e._queryIdentifier;return n&&i&&s}toJSON(){return this.toString()}toString(){return this._repo.toString()+cX(this._path)}}class Rh extends RT{constructor(e,n){super(e,n,new _T,!1)}get parent(){const e=zN(this._path);return e===null?null:new Rh(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}gK(Rh);pK(Rh);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZK="FIREBASE_DATABASE_EMULATOR_HOST",hS={};let eQ=!1;function tQ(t,e,n,i,s){let r=i||t.options.databaseURL;r===void 0&&(t.options.projectId||tc("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),vs("Using default host for project ",t.options.projectId),r=`${t.options.projectId}-default-rtdb.firebaseio.com`);let a=qD(r,s),o=a.repoInfo,l;typeof process<"u"&&mD&&(l=mD[ZK]),l?(r=`http://${l}?ns=${o.namespace}`,a=qD(r,s),o=a.repoInfo):a.repoInfo.secure;const u=new Nq(t.name,t.options,e);OK("Invalid Firebase Database URL",a),zt(a.path)||tc("Database URL must point to the root of a Firebase Database (not including a child path).");const d=iQ(o,t,u,new Lq(t.name,n));return new sQ(d,t)}function nQ(t,e){const n=hS[e];(!n||n[t.key]!==t)&&tc(`Database ${e}(${t.repoInfo_}) has already been deleted.`),YK(t),delete n[t.key]}function iQ(t,e,n,i){let s=hS[e.name];s||(s={},hS[e.name]=s);let r=s[t.toURLString()];return r&&tc("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),r=new jK(t,eQ,n,i),s[t.toURLString()]=r,r}class sQ{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||($K(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Rh(this._repo,vn())),this._rootInternal}_delete(){return this._rootInternal!==null&&(nQ(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&tc("Cannot call "+e+" on a deleted database.")}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rQ(t){wq(Zl),er(new js("database",(e,{instanceIdentifier:n})=>{const i=e.getProvider("app").getImmediate(),s=e.getProvider("auth-internal"),r=e.getProvider("app-check-internal");return tQ(i,s,r,n)},"PUBLIC").setMultipleInstances(!0)),is(gD,pD,t),is(gD,pD,"esm2017")}xo.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};xo.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};rQ();var XD=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Uu,DF;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(T,S){function w(){}w.prototype=S.prototype,T.D=S.prototype,T.prototype=new w,T.prototype.constructor=T,T.C=function(P,C,D){for(var A=Array(arguments.length-2),N=2;N<arguments.length;N++)A[N-2]=arguments[N];return S.prototype[C].apply(P,A)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,n),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(T,S,w){w||(w=0);var P=Array(16);if(typeof S=="string")for(var C=0;16>C;++C)P[C]=S.charCodeAt(w++)|S.charCodeAt(w++)<<8|S.charCodeAt(w++)<<16|S.charCodeAt(w++)<<24;else for(C=0;16>C;++C)P[C]=S[w++]|S[w++]<<8|S[w++]<<16|S[w++]<<24;S=T.g[0],w=T.g[1],C=T.g[2];var D=T.g[3],A=S+(D^w&(C^D))+P[0]+3614090360&4294967295;S=w+(A<<7&4294967295|A>>>25),A=D+(C^S&(w^C))+P[1]+3905402710&4294967295,D=S+(A<<12&4294967295|A>>>20),A=C+(w^D&(S^w))+P[2]+606105819&4294967295,C=D+(A<<17&4294967295|A>>>15),A=w+(S^C&(D^S))+P[3]+3250441966&4294967295,w=C+(A<<22&4294967295|A>>>10),A=S+(D^w&(C^D))+P[4]+4118548399&4294967295,S=w+(A<<7&4294967295|A>>>25),A=D+(C^S&(w^C))+P[5]+1200080426&4294967295,D=S+(A<<12&4294967295|A>>>20),A=C+(w^D&(S^w))+P[6]+2821735955&4294967295,C=D+(A<<17&4294967295|A>>>15),A=w+(S^C&(D^S))+P[7]+4249261313&4294967295,w=C+(A<<22&4294967295|A>>>10),A=S+(D^w&(C^D))+P[8]+1770035416&4294967295,S=w+(A<<7&4294967295|A>>>25),A=D+(C^S&(w^C))+P[9]+2336552879&4294967295,D=S+(A<<12&4294967295|A>>>20),A=C+(w^D&(S^w))+P[10]+4294925233&4294967295,C=D+(A<<17&4294967295|A>>>15),A=w+(S^C&(D^S))+P[11]+2304563134&4294967295,w=C+(A<<22&4294967295|A>>>10),A=S+(D^w&(C^D))+P[12]+1804603682&4294967295,S=w+(A<<7&4294967295|A>>>25),A=D+(C^S&(w^C))+P[13]+4254626195&4294967295,D=S+(A<<12&4294967295|A>>>20),A=C+(w^D&(S^w))+P[14]+2792965006&4294967295,C=D+(A<<17&4294967295|A>>>15),A=w+(S^C&(D^S))+P[15]+1236535329&4294967295,w=C+(A<<22&4294967295|A>>>10),A=S+(C^D&(w^C))+P[1]+4129170786&4294967295,S=w+(A<<5&4294967295|A>>>27),A=D+(w^C&(S^w))+P[6]+3225465664&4294967295,D=S+(A<<9&4294967295|A>>>23),A=C+(S^w&(D^S))+P[11]+643717713&4294967295,C=D+(A<<14&4294967295|A>>>18),A=w+(D^S&(C^D))+P[0]+3921069994&4294967295,w=C+(A<<20&4294967295|A>>>12),A=S+(C^D&(w^C))+P[5]+3593408605&4294967295,S=w+(A<<5&4294967295|A>>>27),A=D+(w^C&(S^w))+P[10]+38016083&4294967295,D=S+(A<<9&4294967295|A>>>23),A=C+(S^w&(D^S))+P[15]+3634488961&4294967295,C=D+(A<<14&4294967295|A>>>18),A=w+(D^S&(C^D))+P[4]+3889429448&4294967295,w=C+(A<<20&4294967295|A>>>12),A=S+(C^D&(w^C))+P[9]+568446438&4294967295,S=w+(A<<5&4294967295|A>>>27),A=D+(w^C&(S^w))+P[14]+3275163606&4294967295,D=S+(A<<9&4294967295|A>>>23),A=C+(S^w&(D^S))+P[3]+4107603335&4294967295,C=D+(A<<14&4294967295|A>>>18),A=w+(D^S&(C^D))+P[8]+1163531501&4294967295,w=C+(A<<20&4294967295|A>>>12),A=S+(C^D&(w^C))+P[13]+2850285829&4294967295,S=w+(A<<5&4294967295|A>>>27),A=D+(w^C&(S^w))+P[2]+4243563512&4294967295,D=S+(A<<9&4294967295|A>>>23),A=C+(S^w&(D^S))+P[7]+1735328473&4294967295,C=D+(A<<14&4294967295|A>>>18),A=w+(D^S&(C^D))+P[12]+2368359562&4294967295,w=C+(A<<20&4294967295|A>>>12),A=S+(w^C^D)+P[5]+4294588738&4294967295,S=w+(A<<4&4294967295|A>>>28),A=D+(S^w^C)+P[8]+2272392833&4294967295,D=S+(A<<11&4294967295|A>>>21),A=C+(D^S^w)+P[11]+1839030562&4294967295,C=D+(A<<16&4294967295|A>>>16),A=w+(C^D^S)+P[14]+4259657740&4294967295,w=C+(A<<23&4294967295|A>>>9),A=S+(w^C^D)+P[1]+2763975236&4294967295,S=w+(A<<4&4294967295|A>>>28),A=D+(S^w^C)+P[4]+1272893353&4294967295,D=S+(A<<11&4294967295|A>>>21),A=C+(D^S^w)+P[7]+4139469664&4294967295,C=D+(A<<16&4294967295|A>>>16),A=w+(C^D^S)+P[10]+3200236656&4294967295,w=C+(A<<23&4294967295|A>>>9),A=S+(w^C^D)+P[13]+681279174&4294967295,S=w+(A<<4&4294967295|A>>>28),A=D+(S^w^C)+P[0]+3936430074&4294967295,D=S+(A<<11&4294967295|A>>>21),A=C+(D^S^w)+P[3]+3572445317&4294967295,C=D+(A<<16&4294967295|A>>>16),A=w+(C^D^S)+P[6]+76029189&4294967295,w=C+(A<<23&4294967295|A>>>9),A=S+(w^C^D)+P[9]+3654602809&4294967295,S=w+(A<<4&4294967295|A>>>28),A=D+(S^w^C)+P[12]+3873151461&4294967295,D=S+(A<<11&4294967295|A>>>21),A=C+(D^S^w)+P[15]+530742520&4294967295,C=D+(A<<16&4294967295|A>>>16),A=w+(C^D^S)+P[2]+3299628645&4294967295,w=C+(A<<23&4294967295|A>>>9),A=S+(C^(w|~D))+P[0]+4096336452&4294967295,S=w+(A<<6&4294967295|A>>>26),A=D+(w^(S|~C))+P[7]+1126891415&4294967295,D=S+(A<<10&4294967295|A>>>22),A=C+(S^(D|~w))+P[14]+2878612391&4294967295,C=D+(A<<15&4294967295|A>>>17),A=w+(D^(C|~S))+P[5]+4237533241&4294967295,w=C+(A<<21&4294967295|A>>>11),A=S+(C^(w|~D))+P[12]+1700485571&4294967295,S=w+(A<<6&4294967295|A>>>26),A=D+(w^(S|~C))+P[3]+2399980690&4294967295,D=S+(A<<10&4294967295|A>>>22),A=C+(S^(D|~w))+P[10]+4293915773&4294967295,C=D+(A<<15&4294967295|A>>>17),A=w+(D^(C|~S))+P[1]+2240044497&4294967295,w=C+(A<<21&4294967295|A>>>11),A=S+(C^(w|~D))+P[8]+1873313359&4294967295,S=w+(A<<6&4294967295|A>>>26),A=D+(w^(S|~C))+P[15]+4264355552&4294967295,D=S+(A<<10&4294967295|A>>>22),A=C+(S^(D|~w))+P[6]+2734768916&4294967295,C=D+(A<<15&4294967295|A>>>17),A=w+(D^(C|~S))+P[13]+1309151649&4294967295,w=C+(A<<21&4294967295|A>>>11),A=S+(C^(w|~D))+P[4]+4149444226&4294967295,S=w+(A<<6&4294967295|A>>>26),A=D+(w^(S|~C))+P[11]+3174756917&4294967295,D=S+(A<<10&4294967295|A>>>22),A=C+(S^(D|~w))+P[2]+718787259&4294967295,C=D+(A<<15&4294967295|A>>>17),A=w+(D^(C|~S))+P[9]+3951481745&4294967295,T.g[0]=T.g[0]+S&4294967295,T.g[1]=T.g[1]+(C+(A<<21&4294967295|A>>>11))&4294967295,T.g[2]=T.g[2]+C&4294967295,T.g[3]=T.g[3]+D&4294967295}i.prototype.u=function(T,S){S===void 0&&(S=T.length);for(var w=S-this.blockSize,P=this.B,C=this.h,D=0;D<S;){if(C==0)for(;D<=w;)s(this,T,D),D+=this.blockSize;if(typeof T=="string"){for(;D<S;)if(P[C++]=T.charCodeAt(D++),C==this.blockSize){s(this,P),C=0;break}}else for(;D<S;)if(P[C++]=T[D++],C==this.blockSize){s(this,P),C=0;break}}this.h=C,this.o+=S},i.prototype.v=function(){var T=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);T[0]=128;for(var S=1;S<T.length-8;++S)T[S]=0;var w=8*this.o;for(S=T.length-8;S<T.length;++S)T[S]=w&255,w/=256;for(this.u(T),T=Array(16),S=w=0;4>S;++S)for(var P=0;32>P;P+=8)T[w++]=this.g[S]>>>P&255;return T};function r(T,S){var w=o;return Object.prototype.hasOwnProperty.call(w,T)?w[T]:w[T]=S(T)}function a(T,S){this.h=S;for(var w=[],P=!0,C=T.length-1;0<=C;C--){var D=T[C]|0;P&&D==S||(w[C]=D,P=!1)}this.g=w}var o={};function l(T){return-128<=T&&128>T?r(T,function(S){return new a([S|0],0>S?-1:0)}):new a([T|0],0>T?-1:0)}function u(T){if(isNaN(T)||!isFinite(T))return c;if(0>T)return v(u(-T));for(var S=[],w=1,P=0;T>=w;P++)S[P]=T/w|0,w*=4294967296;return new a(S,0)}function d(T,S){if(T.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(T.charAt(0)=="-")return v(d(T.substring(1),S));if(0<=T.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=u(Math.pow(S,8)),P=c,C=0;C<T.length;C+=8){var D=Math.min(8,T.length-C),A=parseInt(T.substring(C,C+D),S);8>D?(D=u(Math.pow(S,D)),P=P.j(D).add(u(A))):(P=P.j(w),P=P.add(u(A)))}return P}var c=l(0),f=l(1),h=l(16777216);t=a.prototype,t.m=function(){if(g(this))return-v(this).m();for(var T=0,S=1,w=0;w<this.g.length;w++){var P=this.i(w);T+=(0<=P?P:4294967296+P)*S,S*=4294967296}return T},t.toString=function(T){if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(p(this))return"0";if(g(this))return"-"+v(this).toString(T);for(var S=u(Math.pow(T,6)),w=this,P="";;){var C=k(w,S).g;w=_(w,C.j(S));var D=((0<w.g.length?w.g[0]:w.h)>>>0).toString(T);if(w=C,p(w))return D+P;for(;6>D.length;)D="0"+D;P=D+P}},t.i=function(T){return 0>T?0:T<this.g.length?this.g[T]:this.h};function p(T){if(T.h!=0)return!1;for(var S=0;S<T.g.length;S++)if(T.g[S]!=0)return!1;return!0}function g(T){return T.h==-1}t.l=function(T){return T=_(this,T),g(T)?-1:p(T)?0:1};function v(T){for(var S=T.g.length,w=[],P=0;P<S;P++)w[P]=~T.g[P];return new a(w,~T.h).add(f)}t.abs=function(){return g(this)?v(this):this},t.add=function(T){for(var S=Math.max(this.g.length,T.g.length),w=[],P=0,C=0;C<=S;C++){var D=P+(this.i(C)&65535)+(T.i(C)&65535),A=(D>>>16)+(this.i(C)>>>16)+(T.i(C)>>>16);P=A>>>16,D&=65535,A&=65535,w[C]=A<<16|D}return new a(w,w[w.length-1]&-2147483648?-1:0)};function _(T,S){return T.add(v(S))}t.j=function(T){if(p(this)||p(T))return c;if(g(this))return g(T)?v(this).j(v(T)):v(v(this).j(T));if(g(T))return v(this.j(v(T)));if(0>this.l(h)&&0>T.l(h))return u(this.m()*T.m());for(var S=this.g.length+T.g.length,w=[],P=0;P<2*S;P++)w[P]=0;for(P=0;P<this.g.length;P++)for(var C=0;C<T.g.length;C++){var D=this.i(P)>>>16,A=this.i(P)&65535,N=T.i(C)>>>16,B=T.i(C)&65535;w[2*P+2*C]+=A*B,b(w,2*P+2*C),w[2*P+2*C+1]+=D*B,b(w,2*P+2*C+1),w[2*P+2*C+1]+=A*N,b(w,2*P+2*C+1),w[2*P+2*C+2]+=D*N,b(w,2*P+2*C+2)}for(P=0;P<S;P++)w[P]=w[2*P+1]<<16|w[2*P];for(P=S;P<2*S;P++)w[P]=0;return new a(w,0)};function b(T,S){for(;(T[S]&65535)!=T[S];)T[S+1]+=T[S]>>>16,T[S]&=65535,S++}function x(T,S){this.g=T,this.h=S}function k(T,S){if(p(S))throw Error("division by zero");if(p(T))return new x(c,c);if(g(T))return S=k(v(T),S),new x(v(S.g),v(S.h));if(g(S))return S=k(T,v(S)),new x(v(S.g),S.h);if(30<T.g.length){if(g(T)||g(S))throw Error("slowDivide_ only works with positive integers.");for(var w=f,P=S;0>=P.l(T);)w=I(w),P=I(P);var C=E(w,1),D=E(P,1);for(P=E(P,2),w=E(w,2);!p(P);){var A=D.add(P);0>=A.l(T)&&(C=C.add(w),D=A),P=E(P,1),w=E(w,1)}return S=_(T,C.j(S)),new x(C,S)}for(C=c;0<=T.l(S);){for(w=Math.max(1,Math.floor(T.m()/S.m())),P=Math.ceil(Math.log(w)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),D=u(w),A=D.j(S);g(A)||0<A.l(T);)w-=P,D=u(w),A=D.j(S);p(D)&&(D=f),C=C.add(D),T=_(T,A)}return new x(C,T)}t.A=function(T){return k(this,T).h},t.and=function(T){for(var S=Math.max(this.g.length,T.g.length),w=[],P=0;P<S;P++)w[P]=this.i(P)&T.i(P);return new a(w,this.h&T.h)},t.or=function(T){for(var S=Math.max(this.g.length,T.g.length),w=[],P=0;P<S;P++)w[P]=this.i(P)|T.i(P);return new a(w,this.h|T.h)},t.xor=function(T){for(var S=Math.max(this.g.length,T.g.length),w=[],P=0;P<S;P++)w[P]=this.i(P)^T.i(P);return new a(w,this.h^T.h)};function I(T){for(var S=T.g.length+1,w=[],P=0;P<S;P++)w[P]=T.i(P)<<1|T.i(P-1)>>>31;return new a(w,T.h)}function E(T,S){var w=S>>5;S%=32;for(var P=T.g.length-w,C=[],D=0;D<P;D++)C[D]=0<S?T.i(D+w)>>>S|T.i(D+w+1)<<32-S:T.i(D+w);return new a(C,T.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,DF=i,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=u,a.fromString=d,Uu=a}).apply(typeof XD<"u"?XD:typeof self<"u"?self:typeof window<"u"?window:{});var Lp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var AF,Df,RF,Pv,fS,OF,MF,VF;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(y,R,V){return y==Array.prototype||y==Object.prototype||(y[R]=V.value),y};function n(y){y=[typeof globalThis=="object"&&globalThis,y,typeof window=="object"&&window,typeof self=="object"&&self,typeof Lp=="object"&&Lp];for(var R=0;R<y.length;++R){var V=y[R];if(V&&V.Math==Math)return V}throw Error("Cannot find global object")}var i=n(this);function s(y,R){if(R)e:{var V=i;y=y.split(".");for(var H=0;H<y.length-1;H++){var ye=y[H];if(!(ye in V))break e;V=V[ye]}y=y[y.length-1],H=V[y],R=R(H),R!=H&&R!=null&&e(V,y,{configurable:!0,writable:!0,value:R})}}function r(y,R){y instanceof String&&(y+="");var V=0,H=!1,ye={next:function(){if(!H&&V<y.length){var ke=V++;return{value:R(ke,y[ke]),done:!1}}return H=!0,{done:!0,value:void 0}}};return ye[Symbol.iterator]=function(){return ye},ye}s("Array.prototype.values",function(y){return y||function(){return r(this,function(R,V){return V})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},o=this||self;function l(y){var R=typeof y;return R=R!="object"?R:y?Array.isArray(y)?"array":R:"null",R=="array"||R=="object"&&typeof y.length=="number"}function u(y){var R=typeof y;return R=="object"&&y!=null||R=="function"}function d(y,R,V){return y.call.apply(y.bind,arguments)}function c(y,R,V){if(!y)throw Error();if(2<arguments.length){var H=Array.prototype.slice.call(arguments,2);return function(){var ye=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(ye,H),y.apply(R,ye)}}return function(){return y.apply(R,arguments)}}function f(y,R,V){return f=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:c,f.apply(null,arguments)}function h(y,R){var V=Array.prototype.slice.call(arguments,1);return function(){var H=V.slice();return H.push.apply(H,arguments),y.apply(this,H)}}function p(y,R){function V(){}V.prototype=R.prototype,y.aa=R.prototype,y.prototype=new V,y.prototype.constructor=y,y.Qb=function(H,ye,ke){for(var je=Array(arguments.length-2),wn=2;wn<arguments.length;wn++)je[wn-2]=arguments[wn];return R.prototype[ye].apply(H,je)}}function g(y){const R=y.length;if(0<R){const V=Array(R);for(let H=0;H<R;H++)V[H]=y[H];return V}return[]}function v(y,R){for(let V=1;V<arguments.length;V++){const H=arguments[V];if(l(H)){const ye=y.length||0,ke=H.length||0;y.length=ye+ke;for(let je=0;je<ke;je++)y[ye+je]=H[je]}else y.push(H)}}class _{constructor(R,V){this.i=R,this.j=V,this.h=0,this.g=null}get(){let R;return 0<this.h?(this.h--,R=this.g,this.g=R.next,R.next=null):R=this.i(),R}}function b(y){return/^[\s\xa0]*$/.test(y)}function x(){var y=o.navigator;return y&&(y=y.userAgent)?y:""}function k(y){return k[" "](y),y}k[" "]=function(){};var I=x().indexOf("Gecko")!=-1&&!(x().toLowerCase().indexOf("webkit")!=-1&&x().indexOf("Edge")==-1)&&!(x().indexOf("Trident")!=-1||x().indexOf("MSIE")!=-1)&&x().indexOf("Edge")==-1;function E(y,R,V){for(const H in y)R.call(V,y[H],H,y)}function T(y,R){for(const V in y)R.call(void 0,y[V],V,y)}function S(y){const R={};for(const V in y)R[V]=y[V];return R}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(y,R){let V,H;for(let ye=1;ye<arguments.length;ye++){H=arguments[ye];for(V in H)y[V]=H[V];for(let ke=0;ke<w.length;ke++)V=w[ke],Object.prototype.hasOwnProperty.call(H,V)&&(y[V]=H[V])}}function C(y){var R=1;y=y.split(":");const V=[];for(;0<R&&y.length;)V.push(y.shift()),R--;return y.length&&V.push(y.join(":")),V}function D(y){o.setTimeout(()=>{throw y},0)}function A(){var y=K;let R=null;return y.g&&(R=y.g,y.g=y.g.next,y.g||(y.h=null),R.next=null),R}class N{constructor(){this.h=this.g=null}add(R,V){const H=B.get();H.set(R,V),this.h?this.h.next=H:this.g=H,this.h=H}}var B=new _(()=>new z,y=>y.reset());class z{constructor(){this.next=this.g=this.h=null}set(R,V){this.h=R,this.g=V,this.next=null}reset(){this.next=this.g=this.h=null}}let q,W=!1,K=new N,Y=()=>{const y=o.Promise.resolve(void 0);q=()=>{y.then(Z)}};var Z=()=>{for(var y;y=A();){try{y.h.call(y.g)}catch(V){D(V)}var R=B;R.j(y),100>R.h&&(R.h++,y.next=R.g,R.g=y)}W=!1};function ee(){this.s=this.s,this.C=this.C}ee.prototype.s=!1,ee.prototype.ma=function(){this.s||(this.s=!0,this.N())},ee.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function le(y,R){this.type=y,this.g=this.target=R,this.defaultPrevented=!1}le.prototype.h=function(){this.defaultPrevented=!0};var de=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var y=!1,R=Object.defineProperty({},"passive",{get:function(){y=!0}});try{const V=()=>{};o.addEventListener("test",V,R),o.removeEventListener("test",V,R)}catch{}return y}();function he(y,R){if(le.call(this,y?y.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,y){var V=this.type=y.type,H=y.changedTouches&&y.changedTouches.length?y.changedTouches[0]:null;if(this.target=y.target||y.srcElement,this.g=R,R=y.relatedTarget){if(I){e:{try{k(R.nodeName);var ye=!0;break e}catch{}ye=!1}ye||(R=null)}}else V=="mouseover"?R=y.fromElement:V=="mouseout"&&(R=y.toElement);this.relatedTarget=R,H?(this.clientX=H.clientX!==void 0?H.clientX:H.pageX,this.clientY=H.clientY!==void 0?H.clientY:H.pageY,this.screenX=H.screenX||0,this.screenY=H.screenY||0):(this.clientX=y.clientX!==void 0?y.clientX:y.pageX,this.clientY=y.clientY!==void 0?y.clientY:y.pageY,this.screenX=y.screenX||0,this.screenY=y.screenY||0),this.button=y.button,this.key=y.key||"",this.ctrlKey=y.ctrlKey,this.altKey=y.altKey,this.shiftKey=y.shiftKey,this.metaKey=y.metaKey,this.pointerId=y.pointerId||0,this.pointerType=typeof y.pointerType=="string"?y.pointerType:re[y.pointerType]||"",this.state=y.state,this.i=y,y.defaultPrevented&&he.aa.h.call(this)}}p(he,le);var re={2:"touch",3:"pen",4:"mouse"};he.prototype.h=function(){he.aa.h.call(this);var y=this.i;y.preventDefault?y.preventDefault():y.returnValue=!1};var U="closure_listenable_"+(1e6*Math.random()|0),X=0;function ae(y,R,V,H,ye){this.listener=y,this.proxy=null,this.src=R,this.type=V,this.capture=!!H,this.ha=ye,this.key=++X,this.da=this.fa=!1}function pe(y){y.da=!0,y.listener=null,y.proxy=null,y.src=null,y.ha=null}function ve(y){this.src=y,this.g={},this.h=0}ve.prototype.add=function(y,R,V,H,ye){var ke=y.toString();y=this.g[ke],y||(y=this.g[ke]=[],this.h++);var je=L(y,R,H,ye);return-1<je?(R=y[je],V||(R.fa=!1)):(R=new ae(R,this.src,ke,!!H,ye),R.fa=V,y.push(R)),R};function F(y,R){var V=R.type;if(V in y.g){var H=y.g[V],ye=Array.prototype.indexOf.call(H,R,void 0),ke;(ke=0<=ye)&&Array.prototype.splice.call(H,ye,1),ke&&(pe(R),y.g[V].length==0&&(delete y.g[V],y.h--))}}function L(y,R,V,H){for(var ye=0;ye<y.length;++ye){var ke=y[ye];if(!ke.da&&ke.listener==R&&ke.capture==!!V&&ke.ha==H)return ye}return-1}var $="closure_lm_"+(1e6*Math.random()|0),ne={};function ue(y,R,V,H,ye){if(Array.isArray(R)){for(var ke=0;ke<R.length;ke++)ue(y,R[ke],V,H,ye);return null}return V=it(V),y&&y[U]?y.K(R,V,u(H)?!!H.capture:!1,ye):ie(y,R,V,!1,H,ye)}function ie(y,R,V,H,ye,ke){if(!R)throw Error("Invalid event type");var je=u(ye)?!!ye.capture:!!ye,wn=Ne(y);if(wn||(y[$]=wn=new ve(y)),V=wn.add(R,V,H,je,ke),V.proxy)return V;if(H=Te(),V.proxy=H,H.src=y,H.listener=V,y.addEventListener)de||(ye=je),ye===void 0&&(ye=!1),y.addEventListener(R.toString(),H,ye);else if(y.attachEvent)y.attachEvent(Ce(R.toString()),H);else if(y.addListener&&y.removeListener)y.addListener(H);else throw Error("addEventListener and attachEvent are unavailable.");return V}function Te(){function y(V){return R.call(y.src,y.listener,V)}const R=$e;return y}function Ae(y,R,V,H,ye){if(Array.isArray(R))for(var ke=0;ke<R.length;ke++)Ae(y,R[ke],V,H,ye);else H=u(H)?!!H.capture:!!H,V=it(V),y&&y[U]?(y=y.i,R=String(R).toString(),R in y.g&&(ke=y.g[R],V=L(ke,V,H,ye),-1<V&&(pe(ke[V]),Array.prototype.splice.call(ke,V,1),ke.length==0&&(delete y.g[R],y.h--)))):y&&(y=Ne(y))&&(R=y.g[R.toString()],y=-1,R&&(y=L(R,V,H,ye)),(V=-1<y?R[y]:null)&&Se(V))}function Se(y){if(typeof y!="number"&&y&&!y.da){var R=y.src;if(R&&R[U])F(R.i,y);else{var V=y.type,H=y.proxy;R.removeEventListener?R.removeEventListener(V,H,y.capture):R.detachEvent?R.detachEvent(Ce(V),H):R.addListener&&R.removeListener&&R.removeListener(H),(V=Ne(R))?(F(V,y),V.h==0&&(V.src=null,R[$]=null)):pe(y)}}}function Ce(y){return y in ne?ne[y]:ne[y]="on"+y}function $e(y,R){if(y.da)y=!0;else{R=new he(R,this);var V=y.listener,H=y.ha||y.src;y.fa&&Se(y),y=V.call(H,R)}return y}function Ne(y){return y=y[$],y instanceof ve?y:null}var We="__closure_events_fn_"+(1e9*Math.random()>>>0);function it(y){return typeof y=="function"?y:(y[We]||(y[We]=function(R){return y.handleEvent(R)}),y[We])}function et(){ee.call(this),this.i=new ve(this),this.M=this,this.F=null}p(et,ee),et.prototype[U]=!0,et.prototype.removeEventListener=function(y,R,V,H){Ae(this,y,R,V,H)};function Ye(y,R){var V,H=y.F;if(H)for(V=[];H;H=H.F)V.push(H);if(y=y.M,H=R.type||R,typeof R=="string")R=new le(R,y);else if(R instanceof le)R.target=R.target||y;else{var ye=R;R=new le(H,y),P(R,ye)}if(ye=!0,V)for(var ke=V.length-1;0<=ke;ke--){var je=R.g=V[ke];ye=Dt(je,H,!0,R)&&ye}if(je=R.g=y,ye=Dt(je,H,!0,R)&&ye,ye=Dt(je,H,!1,R)&&ye,V)for(ke=0;ke<V.length;ke++)je=R.g=V[ke],ye=Dt(je,H,!1,R)&&ye}et.prototype.N=function(){if(et.aa.N.call(this),this.i){var y=this.i,R;for(R in y.g){for(var V=y.g[R],H=0;H<V.length;H++)pe(V[H]);delete y.g[R],y.h--}}this.F=null},et.prototype.K=function(y,R,V,H){return this.i.add(String(y),R,!1,V,H)},et.prototype.L=function(y,R,V,H){return this.i.add(String(y),R,!0,V,H)};function Dt(y,R,V,H){if(R=y.i.g[String(R)],!R)return!0;R=R.concat();for(var ye=!0,ke=0;ke<R.length;++ke){var je=R[ke];if(je&&!je.da&&je.capture==V){var wn=je.listener,Yi=je.ha||je.src;je.fa&&F(y.i,je),ye=wn.call(Yi,H)!==!1&&ye}}return ye&&!H.defaultPrevented}function Qt(y,R,V){if(typeof y=="function")V&&(y=f(y,V));else if(y&&typeof y.handleEvent=="function")y=f(y.handleEvent,y);else throw Error("Invalid listener argument");return 2147483647<Number(R)?-1:o.setTimeout(y,R||0)}function ei(y){y.g=Qt(()=>{y.g=null,y.i&&(y.i=!1,ei(y))},y.l);const R=y.h;y.h=null,y.m.apply(null,R)}class ce extends ee{constructor(R,V){super(),this.m=R,this.l=V,this.h=null,this.i=!1,this.g=null}j(R){this.h=arguments,this.g?this.i=!0:ei(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function fe(y){ee.call(this),this.h=y,this.g={}}p(fe,ee);var Ie=[];function Ue(y){E(y.g,function(R,V){this.g.hasOwnProperty(V)&&Se(R)},y),y.g={}}fe.prototype.N=function(){fe.aa.N.call(this),Ue(this)},fe.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Je=o.JSON.stringify,ft=o.JSON.parse,ut=class{stringify(y){return o.JSON.stringify(y,void 0)}parse(y){return o.JSON.parse(y,void 0)}};function pn(){}pn.prototype.h=null;function Xn(y){return y.h||(y.h=y.i())}function Ii(){}var nn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function gi(){le.call(this,"d")}p(gi,le);function Li(){le.call(this,"c")}p(Li,le);var pi={},Xo=null;function Ko(){return Xo=Xo||new et}pi.La="serverreachability";function Gc(y){le.call(this,pi.La,y)}p(Gc,le);function to(y){const R=Ko();Ye(R,new Gc(R))}pi.STAT_EVENT="statevent";function qc(y,R){le.call(this,pi.STAT_EVENT,y),this.stat=R}p(qc,le);function Cs(y){const R=Ko();Ye(R,new qc(R,y))}pi.Ma="timingevent";function rE(y,R){le.call(this,pi.Ma,y),this.size=R}p(rE,le);function tf(y,R){if(typeof y!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){y()},R)}function nf(){this.g=!0}nf.prototype.xa=function(){this.g=!1};function i9(y,R,V,H,ye,ke){y.info(function(){if(y.g)if(ke)for(var je="",wn=ke.split("&"),Yi=0;Yi<wn.length;Yi++){var Zt=wn[Yi].split("=");if(1<Zt.length){var cs=Zt[0];Zt=Zt[1];var ds=cs.split("_");je=2<=ds.length&&ds[1]=="type"?je+(cs+"="+Zt+"&"):je+(cs+"=redacted&")}}else je=null;else je=ke;return"XMLHTTP REQ ("+H+") [attempt "+ye+"]: "+R+`
`+V+`
`+je})}function s9(y,R,V,H,ye,ke,je){y.info(function(){return"XMLHTTP RESP ("+H+") [ attempt "+ye+"]: "+R+`
`+V+`
`+ke+" "+je})}function Xc(y,R,V,H){y.info(function(){return"XMLHTTP TEXT ("+R+"): "+a9(y,V)+(H?" "+H:"")})}function r9(y,R){y.info(function(){return"TIMEOUT: "+R})}nf.prototype.info=function(){};function a9(y,R){if(!y.g)return R;if(!R)return null;try{var V=JSON.parse(R);if(V){for(y=0;y<V.length;y++)if(Array.isArray(V[y])){var H=V[y];if(!(2>H.length)){var ye=H[1];if(Array.isArray(ye)&&!(1>ye.length)){var ke=ye[0];if(ke!="noop"&&ke!="stop"&&ke!="close")for(var je=1;je<ye.length;je++)ye[je]=""}}}}return Je(V)}catch{return R}}var dp={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},aE={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},zw;function hp(){}p(hp,pn),hp.prototype.g=function(){return new XMLHttpRequest},hp.prototype.i=function(){return{}},zw=new hp;function Qo(y,R,V,H){this.j=y,this.i=R,this.l=V,this.R=H||1,this.U=new fe(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new oE}function oE(){this.i=null,this.g="",this.h=!1}var lE={},Ww={};function Yw(y,R,V){y.L=1,y.v=pp(no(R)),y.m=V,y.P=!0,uE(y,null)}function uE(y,R){y.F=Date.now(),fp(y),y.A=no(y.v);var V=y.A,H=y.R;Array.isArray(H)||(H=[String(H)]),SE(V.i,"t",H),y.C=0,V=y.j.J,y.h=new oE,y.g=$E(y.j,V?R:null,!y.m),0<y.O&&(y.M=new ce(f(y.Y,y,y.g),y.O)),R=y.U,V=y.g,H=y.ca;var ye="readystatechange";Array.isArray(ye)||(ye&&(Ie[0]=ye.toString()),ye=Ie);for(var ke=0;ke<ye.length;ke++){var je=ue(V,ye[ke],H||R.handleEvent,!1,R.h||R);if(!je)break;R.g[je.key]=je}R=y.H?S(y.H):{},y.m?(y.u||(y.u="POST"),R["Content-Type"]="application/x-www-form-urlencoded",y.g.ea(y.A,y.u,y.m,R)):(y.u="GET",y.g.ea(y.A,y.u,null,R)),to(),i9(y.i,y.u,y.A,y.l,y.R,y.m)}Qo.prototype.ca=function(y){y=y.target;const R=this.M;R&&io(y)==3?R.j():this.Y(y)},Qo.prototype.Y=function(y){try{if(y==this.g)e:{const ds=io(this.g);var R=this.g.Ba();const Jc=this.g.Z();if(!(3>ds)&&(ds!=3||this.g&&(this.h.h||this.g.oa()||DE(this.g)))){this.J||ds!=4||R==7||(R==8||0>=Jc?to(3):to(2)),Gw(this);var V=this.g.Z();this.X=V;t:if(cE(this)){var H=DE(this.g);y="";var ye=H.length,ke=io(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){uu(this),sf(this);var je="";break t}this.h.i=new o.TextDecoder}for(R=0;R<ye;R++)this.h.h=!0,y+=this.h.i.decode(H[R],{stream:!(ke&&R==ye-1)});H.length=0,this.h.g+=y,this.C=0,je=this.h.g}else je=this.g.oa();if(this.o=V==200,s9(this.i,this.u,this.A,this.l,this.R,ds,V),this.o){if(this.T&&!this.K){t:{if(this.g){var wn,Yi=this.g;if((wn=Yi.g?Yi.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!b(wn)){var Zt=wn;break t}}Zt=null}if(V=Zt)Xc(this.i,this.l,V,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,qw(this,V);else{this.o=!1,this.s=3,Cs(12),uu(this),sf(this);break e}}if(this.P){V=!0;let jr;for(;!this.J&&this.C<je.length;)if(jr=o9(this,je),jr==Ww){ds==4&&(this.s=4,Cs(14),V=!1),Xc(this.i,this.l,null,"[Incomplete Response]");break}else if(jr==lE){this.s=4,Cs(15),Xc(this.i,this.l,je,"[Invalid Chunk]"),V=!1;break}else Xc(this.i,this.l,jr,null),qw(this,jr);if(cE(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ds!=4||je.length!=0||this.h.h||(this.s=1,Cs(16),V=!1),this.o=this.o&&V,!V)Xc(this.i,this.l,je,"[Invalid Chunked Response]"),uu(this),sf(this);else if(0<je.length&&!this.W){this.W=!0;var cs=this.j;cs.g==this&&cs.ba&&!cs.M&&(cs.j.info("Great, no buffering proxy detected. Bytes received: "+je.length),e0(cs),cs.M=!0,Cs(11))}}else Xc(this.i,this.l,je,null),qw(this,je);ds==4&&uu(this),this.o&&!this.J&&(ds==4?NE(this.j,this):(this.o=!1,fp(this)))}else k9(this.g),V==400&&0<je.indexOf("Unknown SID")?(this.s=3,Cs(12)):(this.s=0,Cs(13)),uu(this),sf(this)}}}catch{}finally{}};function cE(y){return y.g?y.u=="GET"&&y.L!=2&&y.j.Ca:!1}function o9(y,R){var V=y.C,H=R.indexOf(`
`,V);return H==-1?Ww:(V=Number(R.substring(V,H)),isNaN(V)?lE:(H+=1,H+V>R.length?Ww:(R=R.slice(H,H+V),y.C=H+V,R)))}Qo.prototype.cancel=function(){this.J=!0,uu(this)};function fp(y){y.S=Date.now()+y.I,dE(y,y.I)}function dE(y,R){if(y.B!=null)throw Error("WatchDog timer not null");y.B=tf(f(y.ba,y),R)}function Gw(y){y.B&&(o.clearTimeout(y.B),y.B=null)}Qo.prototype.ba=function(){this.B=null;const y=Date.now();0<=y-this.S?(r9(this.i,this.A),this.L!=2&&(to(),Cs(17)),uu(this),this.s=2,sf(this)):dE(this,this.S-y)};function sf(y){y.j.G==0||y.J||NE(y.j,y)}function uu(y){Gw(y);var R=y.M;R&&typeof R.ma=="function"&&R.ma(),y.M=null,Ue(y.U),y.g&&(R=y.g,y.g=null,R.abort(),R.ma())}function qw(y,R){try{var V=y.j;if(V.G!=0&&(V.g==y||Xw(V.h,y))){if(!y.K&&Xw(V.h,y)&&V.G==3){try{var H=V.Da.g.parse(R)}catch{H=null}if(Array.isArray(H)&&H.length==3){var ye=H;if(ye[0]==0){e:if(!V.u){if(V.g)if(V.g.F+3e3<y.F)xp(V),bp(V);else break e;Zw(V),Cs(18)}}else V.za=ye[1],0<V.za-V.T&&37500>ye[2]&&V.F&&V.v==0&&!V.C&&(V.C=tf(f(V.Za,V),6e3));if(1>=mE(V.h)&&V.ca){try{V.ca()}catch{}V.ca=void 0}}else du(V,11)}else if((y.K||V.g==y)&&xp(V),!b(R))for(ye=V.Da.g.parse(R),R=0;R<ye.length;R++){let Zt=ye[R];if(V.T=Zt[0],Zt=Zt[1],V.G==2)if(Zt[0]=="c"){V.K=Zt[1],V.ia=Zt[2];const cs=Zt[3];cs!=null&&(V.la=cs,V.j.info("VER="+V.la));const ds=Zt[4];ds!=null&&(V.Aa=ds,V.j.info("SVER="+V.Aa));const Jc=Zt[5];Jc!=null&&typeof Jc=="number"&&0<Jc&&(H=1.5*Jc,V.L=H,V.j.info("backChannelRequestTimeoutMs_="+H)),H=V;const jr=y.g;if(jr){const kp=jr.g?jr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(kp){var ke=H.h;ke.g||kp.indexOf("spdy")==-1&&kp.indexOf("quic")==-1&&kp.indexOf("h2")==-1||(ke.j=ke.l,ke.g=new Set,ke.h&&(Kw(ke,ke.h),ke.h=null))}if(H.D){const t0=jr.g?jr.g.getResponseHeader("X-HTTP-Session-Id"):null;t0&&(H.ya=t0,On(H.I,H.D,t0))}}V.G=3,V.l&&V.l.ua(),V.ba&&(V.R=Date.now()-y.F,V.j.info("Handshake RTT: "+V.R+"ms")),H=V;var je=y;if(H.qa=jE(H,H.J?H.ia:null,H.W),je.K){gE(H.h,je);var wn=je,Yi=H.L;Yi&&(wn.I=Yi),wn.B&&(Gw(wn),fp(wn)),H.g=je}else VE(H);0<V.i.length&&wp(V)}else Zt[0]!="stop"&&Zt[0]!="close"||du(V,7);else V.G==3&&(Zt[0]=="stop"||Zt[0]=="close"?Zt[0]=="stop"?du(V,7):Jw(V):Zt[0]!="noop"&&V.l&&V.l.ta(Zt),V.v=0)}}to(4)}catch{}}var l9=class{constructor(y,R){this.g=y,this.map=R}};function hE(y){this.l=y||10,o.PerformanceNavigationTiming?(y=o.performance.getEntriesByType("navigation"),y=0<y.length&&(y[0].nextHopProtocol=="hq"||y[0].nextHopProtocol=="h2")):y=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=y?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function fE(y){return y.h?!0:y.g?y.g.size>=y.j:!1}function mE(y){return y.h?1:y.g?y.g.size:0}function Xw(y,R){return y.h?y.h==R:y.g?y.g.has(R):!1}function Kw(y,R){y.g?y.g.add(R):y.h=R}function gE(y,R){y.h&&y.h==R?y.h=null:y.g&&y.g.has(R)&&y.g.delete(R)}hE.prototype.cancel=function(){if(this.i=pE(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const y of this.g.values())y.cancel();this.g.clear()}};function pE(y){if(y.h!=null)return y.i.concat(y.h.D);if(y.g!=null&&y.g.size!==0){let R=y.i;for(const V of y.g.values())R=R.concat(V.D);return R}return g(y.i)}function u9(y){if(y.V&&typeof y.V=="function")return y.V();if(typeof Map<"u"&&y instanceof Map||typeof Set<"u"&&y instanceof Set)return Array.from(y.values());if(typeof y=="string")return y.split("");if(l(y)){for(var R=[],V=y.length,H=0;H<V;H++)R.push(y[H]);return R}R=[],V=0;for(H in y)R[V++]=y[H];return R}function c9(y){if(y.na&&typeof y.na=="function")return y.na();if(!y.V||typeof y.V!="function"){if(typeof Map<"u"&&y instanceof Map)return Array.from(y.keys());if(!(typeof Set<"u"&&y instanceof Set)){if(l(y)||typeof y=="string"){var R=[];y=y.length;for(var V=0;V<y;V++)R.push(V);return R}R=[],V=0;for(const H in y)R[V++]=H;return R}}}function vE(y,R){if(y.forEach&&typeof y.forEach=="function")y.forEach(R,void 0);else if(l(y)||typeof y=="string")Array.prototype.forEach.call(y,R,void 0);else for(var V=c9(y),H=u9(y),ye=H.length,ke=0;ke<ye;ke++)R.call(void 0,H[ke],V&&V[ke],y)}var _E=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function d9(y,R){if(y){y=y.split("&");for(var V=0;V<y.length;V++){var H=y[V].indexOf("="),ye=null;if(0<=H){var ke=y[V].substring(0,H);ye=y[V].substring(H+1)}else ke=y[V];R(ke,ye?decodeURIComponent(ye.replace(/\+/g," ")):"")}}}function cu(y){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,y instanceof cu){this.h=y.h,mp(this,y.j),this.o=y.o,this.g=y.g,gp(this,y.s),this.l=y.l;var R=y.i,V=new of;V.i=R.i,R.g&&(V.g=new Map(R.g),V.h=R.h),yE(this,V),this.m=y.m}else y&&(R=String(y).match(_E))?(this.h=!1,mp(this,R[1]||"",!0),this.o=rf(R[2]||""),this.g=rf(R[3]||"",!0),gp(this,R[4]),this.l=rf(R[5]||"",!0),yE(this,R[6]||"",!0),this.m=rf(R[7]||"")):(this.h=!1,this.i=new of(null,this.h))}cu.prototype.toString=function(){var y=[],R=this.j;R&&y.push(af(R,bE,!0),":");var V=this.g;return(V||R=="file")&&(y.push("//"),(R=this.o)&&y.push(af(R,bE,!0),"@"),y.push(encodeURIComponent(String(V)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),V=this.s,V!=null&&y.push(":",String(V))),(V=this.l)&&(this.g&&V.charAt(0)!="/"&&y.push("/"),y.push(af(V,V.charAt(0)=="/"?m9:f9,!0))),(V=this.i.toString())&&y.push("?",V),(V=this.m)&&y.push("#",af(V,p9)),y.join("")};function no(y){return new cu(y)}function mp(y,R,V){y.j=V?rf(R,!0):R,y.j&&(y.j=y.j.replace(/:$/,""))}function gp(y,R){if(R){if(R=Number(R),isNaN(R)||0>R)throw Error("Bad port number "+R);y.s=R}else y.s=null}function yE(y,R,V){R instanceof of?(y.i=R,v9(y.i,y.h)):(V||(R=af(R,g9)),y.i=new of(R,y.h))}function On(y,R,V){y.i.set(R,V)}function pp(y){return On(y,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),y}function rf(y,R){return y?R?decodeURI(y.replace(/%25/g,"%2525")):decodeURIComponent(y):""}function af(y,R,V){return typeof y=="string"?(y=encodeURI(y).replace(R,h9),V&&(y=y.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y):null}function h9(y){return y=y.charCodeAt(0),"%"+(y>>4&15).toString(16)+(y&15).toString(16)}var bE=/[#\/\?@]/g,f9=/[#\?:]/g,m9=/[#\?]/g,g9=/[#\?@]/g,p9=/#/g;function of(y,R){this.h=this.g=null,this.i=y||null,this.j=!!R}function Jo(y){y.g||(y.g=new Map,y.h=0,y.i&&d9(y.i,function(R,V){y.add(decodeURIComponent(R.replace(/\+/g," ")),V)}))}t=of.prototype,t.add=function(y,R){Jo(this),this.i=null,y=Kc(this,y);var V=this.g.get(y);return V||this.g.set(y,V=[]),V.push(R),this.h+=1,this};function wE(y,R){Jo(y),R=Kc(y,R),y.g.has(R)&&(y.i=null,y.h-=y.g.get(R).length,y.g.delete(R))}function xE(y,R){return Jo(y),R=Kc(y,R),y.g.has(R)}t.forEach=function(y,R){Jo(this),this.g.forEach(function(V,H){V.forEach(function(ye){y.call(R,ye,H,this)},this)},this)},t.na=function(){Jo(this);const y=Array.from(this.g.values()),R=Array.from(this.g.keys()),V=[];for(let H=0;H<R.length;H++){const ye=y[H];for(let ke=0;ke<ye.length;ke++)V.push(R[H])}return V},t.V=function(y){Jo(this);let R=[];if(typeof y=="string")xE(this,y)&&(R=R.concat(this.g.get(Kc(this,y))));else{y=Array.from(this.g.values());for(let V=0;V<y.length;V++)R=R.concat(y[V])}return R},t.set=function(y,R){return Jo(this),this.i=null,y=Kc(this,y),xE(this,y)&&(this.h-=this.g.get(y).length),this.g.set(y,[R]),this.h+=1,this},t.get=function(y,R){return y?(y=this.V(y),0<y.length?String(y[0]):R):R};function SE(y,R,V){wE(y,R),0<V.length&&(y.i=null,y.g.set(Kc(y,R),g(V)),y.h+=V.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const y=[],R=Array.from(this.g.keys());for(var V=0;V<R.length;V++){var H=R[V];const ke=encodeURIComponent(String(H)),je=this.V(H);for(H=0;H<je.length;H++){var ye=ke;je[H]!==""&&(ye+="="+encodeURIComponent(String(je[H]))),y.push(ye)}}return this.i=y.join("&")};function Kc(y,R){return R=String(R),y.j&&(R=R.toLowerCase()),R}function v9(y,R){R&&!y.j&&(Jo(y),y.i=null,y.g.forEach(function(V,H){var ye=H.toLowerCase();H!=ye&&(wE(this,H),SE(this,ye,V))},y)),y.j=R}function _9(y,R){const V=new nf;if(o.Image){const H=new Image;H.onload=h(Zo,V,"TestLoadImage: loaded",!0,R,H),H.onerror=h(Zo,V,"TestLoadImage: error",!1,R,H),H.onabort=h(Zo,V,"TestLoadImage: abort",!1,R,H),H.ontimeout=h(Zo,V,"TestLoadImage: timeout",!1,R,H),o.setTimeout(function(){H.ontimeout&&H.ontimeout()},1e4),H.src=y}else R(!1)}function y9(y,R){const V=new nf,H=new AbortController,ye=setTimeout(()=>{H.abort(),Zo(V,"TestPingServer: timeout",!1,R)},1e4);fetch(y,{signal:H.signal}).then(ke=>{clearTimeout(ye),ke.ok?Zo(V,"TestPingServer: ok",!0,R):Zo(V,"TestPingServer: server error",!1,R)}).catch(()=>{clearTimeout(ye),Zo(V,"TestPingServer: error",!1,R)})}function Zo(y,R,V,H,ye){try{ye&&(ye.onload=null,ye.onerror=null,ye.onabort=null,ye.ontimeout=null),H(V)}catch{}}function b9(){this.g=new ut}function w9(y,R,V){const H=V||"";try{vE(y,function(ye,ke){let je=ye;u(ye)&&(je=Je(ye)),R.push(H+ke+"="+encodeURIComponent(je))})}catch(ye){throw R.push(H+"type="+encodeURIComponent("_badmap")),ye}}function vp(y){this.l=y.Ub||null,this.j=y.eb||!1}p(vp,pn),vp.prototype.g=function(){return new _p(this.l,this.j)},vp.prototype.i=function(y){return function(){return y}}({});function _p(y,R){et.call(this),this.D=y,this.o=R,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}p(_p,et),t=_p.prototype,t.open=function(y,R){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=y,this.A=R,this.readyState=1,uf(this)},t.send=function(y){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const R={headers:this.u,method:this.B,credentials:this.m,cache:void 0};y&&(R.body=y),(this.D||o).fetch(new Request(this.A,R)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,lf(this)),this.readyState=0},t.Sa=function(y){if(this.g&&(this.l=y,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=y.headers,this.readyState=2,uf(this)),this.g&&(this.readyState=3,uf(this),this.g)))if(this.responseType==="arraybuffer")y.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in y){if(this.j=y.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;kE(this)}else y.text().then(this.Ra.bind(this),this.ga.bind(this))};function kE(y){y.j.read().then(y.Pa.bind(y)).catch(y.ga.bind(y))}t.Pa=function(y){if(this.g){if(this.o&&y.value)this.response.push(y.value);else if(!this.o){var R=y.value?y.value:new Uint8Array(0);(R=this.v.decode(R,{stream:!y.done}))&&(this.response=this.responseText+=R)}y.done?lf(this):uf(this),this.readyState==3&&kE(this)}},t.Ra=function(y){this.g&&(this.response=this.responseText=y,lf(this))},t.Qa=function(y){this.g&&(this.response=y,lf(this))},t.ga=function(){this.g&&lf(this)};function lf(y){y.readyState=4,y.l=null,y.j=null,y.v=null,uf(y)}t.setRequestHeader=function(y,R){this.u.append(y,R)},t.getResponseHeader=function(y){return this.h&&this.h.get(y.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const y=[],R=this.h.entries();for(var V=R.next();!V.done;)V=V.value,y.push(V[0]+": "+V[1]),V=R.next();return y.join(`\r
`)};function uf(y){y.onreadystatechange&&y.onreadystatechange.call(y)}Object.defineProperty(_p.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(y){this.m=y?"include":"same-origin"}});function TE(y){let R="";return E(y,function(V,H){R+=H,R+=":",R+=V,R+=`\r
`}),R}function Qw(y,R,V){e:{for(H in V){var H=!1;break e}H=!0}H||(V=TE(V),typeof y=="string"?V!=null&&encodeURIComponent(String(V)):On(y,R,V))}function ti(y){et.call(this),this.headers=new Map,this.o=y||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}p(ti,et);var x9=/^https?$/i,S9=["POST","PUT"];t=ti.prototype,t.Ha=function(y){this.J=y},t.ea=function(y,R,V,H){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+y);R=R?R.toUpperCase():"GET",this.D=y,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():zw.g(),this.v=this.o?Xn(this.o):Xn(zw),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(R,String(y),!0),this.B=!1}catch(ke){PE(this,ke);return}if(y=V||"",V=new Map(this.headers),H)if(Object.getPrototypeOf(H)===Object.prototype)for(var ye in H)V.set(ye,H[ye]);else if(typeof H.keys=="function"&&typeof H.get=="function")for(const ke of H.keys())V.set(ke,H.get(ke));else throw Error("Unknown input type for opt_headers: "+String(H));H=Array.from(V.keys()).find(ke=>ke.toLowerCase()=="content-type"),ye=o.FormData&&y instanceof o.FormData,!(0<=Array.prototype.indexOf.call(S9,R,void 0))||H||ye||V.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ke,je]of V)this.g.setRequestHeader(ke,je);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{IE(this),this.u=!0,this.g.send(y),this.u=!1}catch(ke){PE(this,ke)}};function PE(y,R){y.h=!1,y.g&&(y.j=!0,y.g.abort(),y.j=!1),y.l=R,y.m=5,CE(y),yp(y)}function CE(y){y.A||(y.A=!0,Ye(y,"complete"),Ye(y,"error"))}t.abort=function(y){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=y||7,Ye(this,"complete"),Ye(this,"abort"),yp(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),yp(this,!0)),ti.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?EE(this):this.bb())},t.bb=function(){EE(this)};function EE(y){if(y.h&&typeof a<"u"&&(!y.v[1]||io(y)!=4||y.Z()!=2)){if(y.u&&io(y)==4)Qt(y.Ea,0,y);else if(Ye(y,"readystatechange"),io(y)==4){y.h=!1;try{const je=y.Z();e:switch(je){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var R=!0;break e;default:R=!1}var V;if(!(V=R)){var H;if(H=je===0){var ye=String(y.D).match(_E)[1]||null;!ye&&o.self&&o.self.location&&(ye=o.self.location.protocol.slice(0,-1)),H=!x9.test(ye?ye.toLowerCase():"")}V=H}if(V)Ye(y,"complete"),Ye(y,"success");else{y.m=6;try{var ke=2<io(y)?y.g.statusText:""}catch{ke=""}y.l=ke+" ["+y.Z()+"]",CE(y)}}finally{yp(y)}}}}function yp(y,R){if(y.g){IE(y);const V=y.g,H=y.v[0]?()=>{}:null;y.g=null,y.v=null,R||Ye(y,"ready");try{V.onreadystatechange=H}catch{}}}function IE(y){y.I&&(o.clearTimeout(y.I),y.I=null)}t.isActive=function(){return!!this.g};function io(y){return y.g?y.g.readyState:0}t.Z=function(){try{return 2<io(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(y){if(this.g){var R=this.g.responseText;return y&&R.indexOf(y)==0&&(R=R.substring(y.length)),ft(R)}};function DE(y){try{if(!y.g)return null;if("response"in y.g)return y.g.response;switch(y.H){case"":case"text":return y.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in y.g)return y.g.mozResponseArrayBuffer}return null}catch{return null}}function k9(y){const R={};y=(y.g&&2<=io(y)&&y.g.getAllResponseHeaders()||"").split(`\r
`);for(let H=0;H<y.length;H++){if(b(y[H]))continue;var V=C(y[H]);const ye=V[0];if(V=V[1],typeof V!="string")continue;V=V.trim();const ke=R[ye]||[];R[ye]=ke,ke.push(V)}T(R,function(H){return H.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function cf(y,R,V){return V&&V.internalChannelParams&&V.internalChannelParams[y]||R}function AE(y){this.Aa=0,this.i=[],this.j=new nf,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=cf("failFast",!1,y),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=cf("baseRetryDelayMs",5e3,y),this.cb=cf("retryDelaySeedMs",1e4,y),this.Wa=cf("forwardChannelMaxRetries",2,y),this.wa=cf("forwardChannelRequestTimeoutMs",2e4,y),this.pa=y&&y.xmlHttpFactory||void 0,this.Xa=y&&y.Tb||void 0,this.Ca=y&&y.useFetchStreams||!1,this.L=void 0,this.J=y&&y.supportsCrossDomainXhr||!1,this.K="",this.h=new hE(y&&y.concurrentRequestLimit),this.Da=new b9,this.P=y&&y.fastHandshake||!1,this.O=y&&y.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=y&&y.Rb||!1,y&&y.xa&&this.j.xa(),y&&y.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&y&&y.detectBufferingProxy||!1,this.ja=void 0,y&&y.longPollingTimeout&&0<y.longPollingTimeout&&(this.ja=y.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=AE.prototype,t.la=8,t.G=1,t.connect=function(y,R,V,H){Cs(0),this.W=y,this.H=R||{},V&&H!==void 0&&(this.H.OSID=V,this.H.OAID=H),this.F=this.X,this.I=jE(this,null,this.W),wp(this)};function Jw(y){if(RE(y),y.G==3){var R=y.U++,V=no(y.I);if(On(V,"SID",y.K),On(V,"RID",R),On(V,"TYPE","terminate"),df(y,V),R=new Qo(y,y.j,R),R.L=2,R.v=pp(no(V)),V=!1,o.navigator&&o.navigator.sendBeacon)try{V=o.navigator.sendBeacon(R.v.toString(),"")}catch{}!V&&o.Image&&(new Image().src=R.v,V=!0),V||(R.g=$E(R.j,null),R.g.ea(R.v)),R.F=Date.now(),fp(R)}BE(y)}function bp(y){y.g&&(e0(y),y.g.cancel(),y.g=null)}function RE(y){bp(y),y.u&&(o.clearTimeout(y.u),y.u=null),xp(y),y.h.cancel(),y.s&&(typeof y.s=="number"&&o.clearTimeout(y.s),y.s=null)}function wp(y){if(!fE(y.h)&&!y.s){y.s=!0;var R=y.Ga;q||Y(),W||(q(),W=!0),K.add(R,y),y.B=0}}function T9(y,R){return mE(y.h)>=y.h.j-(y.s?1:0)?!1:y.s?(y.i=R.D.concat(y.i),!0):y.G==1||y.G==2||y.B>=(y.Va?0:y.Wa)?!1:(y.s=tf(f(y.Ga,y,R),FE(y,y.B)),y.B++,!0)}t.Ga=function(y){if(this.s)if(this.s=null,this.G==1){if(!y){this.U=Math.floor(1e5*Math.random()),y=this.U++;const ye=new Qo(this,this.j,y);let ke=this.o;if(this.S&&(ke?(ke=S(ke),P(ke,this.S)):ke=this.S),this.m!==null||this.O||(ye.H=ke,ke=null),this.P)e:{for(var R=0,V=0;V<this.i.length;V++){t:{var H=this.i[V];if("__data__"in H.map&&(H=H.map.__data__,typeof H=="string")){H=H.length;break t}H=void 0}if(H===void 0)break;if(R+=H,4096<R){R=V;break e}if(R===4096||V===this.i.length-1){R=V+1;break e}}R=1e3}else R=1e3;R=ME(this,ye,R),V=no(this.I),On(V,"RID",y),On(V,"CVER",22),this.D&&On(V,"X-HTTP-Session-Id",this.D),df(this,V),ke&&(this.O?R="headers="+encodeURIComponent(String(TE(ke)))+"&"+R:this.m&&Qw(V,this.m,ke)),Kw(this.h,ye),this.Ua&&On(V,"TYPE","init"),this.P?(On(V,"$req",R),On(V,"SID","null"),ye.T=!0,Yw(ye,V,null)):Yw(ye,V,R),this.G=2}}else this.G==3&&(y?OE(this,y):this.i.length==0||fE(this.h)||OE(this))};function OE(y,R){var V;R?V=R.l:V=y.U++;const H=no(y.I);On(H,"SID",y.K),On(H,"RID",V),On(H,"AID",y.T),df(y,H),y.m&&y.o&&Qw(H,y.m,y.o),V=new Qo(y,y.j,V,y.B+1),y.m===null&&(V.H=y.o),R&&(y.i=R.D.concat(y.i)),R=ME(y,V,1e3),V.I=Math.round(.5*y.wa)+Math.round(.5*y.wa*Math.random()),Kw(y.h,V),Yw(V,H,R)}function df(y,R){y.H&&E(y.H,function(V,H){On(R,H,V)}),y.l&&vE({},function(V,H){On(R,H,V)})}function ME(y,R,V){V=Math.min(y.i.length,V);var H=y.l?f(y.l.Na,y.l,y):null;e:{var ye=y.i;let ke=-1;for(;;){const je=["count="+V];ke==-1?0<V?(ke=ye[0].g,je.push("ofs="+ke)):ke=0:je.push("ofs="+ke);let wn=!0;for(let Yi=0;Yi<V;Yi++){let Zt=ye[Yi].g;const cs=ye[Yi].map;if(Zt-=ke,0>Zt)ke=Math.max(0,ye[Yi].g-100),wn=!1;else try{w9(cs,je,"req"+Zt+"_")}catch{H&&H(cs)}}if(wn){H=je.join("&");break e}}}return y=y.i.splice(0,V),R.D=y,H}function VE(y){if(!y.g&&!y.u){y.Y=1;var R=y.Fa;q||Y(),W||(q(),W=!0),K.add(R,y),y.v=0}}function Zw(y){return y.g||y.u||3<=y.v?!1:(y.Y++,y.u=tf(f(y.Fa,y),FE(y,y.v)),y.v++,!0)}t.Fa=function(){if(this.u=null,LE(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var y=2*this.R;this.j.info("BP detection timer enabled: "+y),this.A=tf(f(this.ab,this),y)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Cs(10),bp(this),LE(this))};function e0(y){y.A!=null&&(o.clearTimeout(y.A),y.A=null)}function LE(y){y.g=new Qo(y,y.j,"rpc",y.Y),y.m===null&&(y.g.H=y.o),y.g.O=0;var R=no(y.qa);On(R,"RID","rpc"),On(R,"SID",y.K),On(R,"AID",y.T),On(R,"CI",y.F?"0":"1"),!y.F&&y.ja&&On(R,"TO",y.ja),On(R,"TYPE","xmlhttp"),df(y,R),y.m&&y.o&&Qw(R,y.m,y.o),y.L&&(y.g.I=y.L);var V=y.g;y=y.ia,V.L=1,V.v=pp(no(R)),V.m=null,V.P=!0,uE(V,y)}t.Za=function(){this.C!=null&&(this.C=null,bp(this),Zw(this),Cs(19))};function xp(y){y.C!=null&&(o.clearTimeout(y.C),y.C=null)}function NE(y,R){var V=null;if(y.g==R){xp(y),e0(y),y.g=null;var H=2}else if(Xw(y.h,R))V=R.D,gE(y.h,R),H=1;else return;if(y.G!=0){if(R.o)if(H==1){V=R.m?R.m.length:0,R=Date.now()-R.F;var ye=y.B;H=Ko(),Ye(H,new rE(H,V)),wp(y)}else VE(y);else if(ye=R.s,ye==3||ye==0&&0<R.X||!(H==1&&T9(y,R)||H==2&&Zw(y)))switch(V&&0<V.length&&(R=y.h,R.i=R.i.concat(V)),ye){case 1:du(y,5);break;case 4:du(y,10);break;case 3:du(y,6);break;default:du(y,2)}}}function FE(y,R){let V=y.Ta+Math.floor(Math.random()*y.cb);return y.isActive()||(V*=2),V*R}function du(y,R){if(y.j.info("Error code "+R),R==2){var V=f(y.fb,y),H=y.Xa;const ye=!H;H=new cu(H||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||mp(H,"https"),pp(H),ye?_9(H.toString(),V):y9(H.toString(),V)}else Cs(2);y.G=0,y.l&&y.l.sa(R),BE(y),RE(y)}t.fb=function(y){y?(this.j.info("Successfully pinged google.com"),Cs(2)):(this.j.info("Failed to ping google.com"),Cs(1))};function BE(y){if(y.G=0,y.ka=[],y.l){const R=pE(y.h);(R.length!=0||y.i.length!=0)&&(v(y.ka,R),v(y.ka,y.i),y.h.i.length=0,g(y.i),y.i.length=0),y.l.ra()}}function jE(y,R,V){var H=V instanceof cu?no(V):new cu(V);if(H.g!="")R&&(H.g=R+"."+H.g),gp(H,H.s);else{var ye=o.location;H=ye.protocol,R=R?R+"."+ye.hostname:ye.hostname,ye=+ye.port;var ke=new cu(null);H&&mp(ke,H),R&&(ke.g=R),ye&&gp(ke,ye),V&&(ke.l=V),H=ke}return V=y.D,R=y.ya,V&&R&&On(H,V,R),On(H,"VER",y.la),df(y,H),H}function $E(y,R,V){if(R&&!y.J)throw Error("Can't create secondary domain capable XhrIo object.");return R=y.Ca&&!y.pa?new ti(new vp({eb:V})):new ti(y.pa),R.Ha(y.J),R}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function UE(){}t=UE.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Sp(){}Sp.prototype.g=function(y,R){return new sr(y,R)};function sr(y,R){et.call(this),this.g=new AE(R),this.l=y,this.h=R&&R.messageUrlParams||null,y=R&&R.messageHeaders||null,R&&R.clientProtocolHeaderRequired&&(y?y["X-Client-Protocol"]="webchannel":y={"X-Client-Protocol":"webchannel"}),this.g.o=y,y=R&&R.initMessageHeaders||null,R&&R.messageContentType&&(y?y["X-WebChannel-Content-Type"]=R.messageContentType:y={"X-WebChannel-Content-Type":R.messageContentType}),R&&R.va&&(y?y["X-WebChannel-Client-Profile"]=R.va:y={"X-WebChannel-Client-Profile":R.va}),this.g.S=y,(y=R&&R.Sb)&&!b(y)&&(this.g.m=y),this.v=R&&R.supportsCrossDomainXhr||!1,this.u=R&&R.sendRawJson||!1,(R=R&&R.httpSessionIdParam)&&!b(R)&&(this.g.D=R,y=this.h,y!==null&&R in y&&(y=this.h,R in y&&delete y[R])),this.j=new Qc(this)}p(sr,et),sr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},sr.prototype.close=function(){Jw(this.g)},sr.prototype.o=function(y){var R=this.g;if(typeof y=="string"){var V={};V.__data__=y,y=V}else this.u&&(V={},V.__data__=Je(y),y=V);R.i.push(new l9(R.Ya++,y)),R.G==3&&wp(R)},sr.prototype.N=function(){this.g.l=null,delete this.j,Jw(this.g),delete this.g,sr.aa.N.call(this)};function HE(y){gi.call(this),y.__headers__&&(this.headers=y.__headers__,this.statusCode=y.__status__,delete y.__headers__,delete y.__status__);var R=y.__sm__;if(R){e:{for(const V in R){y=V;break e}y=void 0}(this.i=y)&&(y=this.i,R=R!==null&&y in R?R[y]:void 0),this.data=R}else this.data=y}p(HE,gi);function zE(){Li.call(this),this.status=1}p(zE,Li);function Qc(y){this.g=y}p(Qc,UE),Qc.prototype.ua=function(){Ye(this.g,"a")},Qc.prototype.ta=function(y){Ye(this.g,new HE(y))},Qc.prototype.sa=function(y){Ye(this.g,new zE)},Qc.prototype.ra=function(){Ye(this.g,"b")},Sp.prototype.createWebChannel=Sp.prototype.g,sr.prototype.send=sr.prototype.o,sr.prototype.open=sr.prototype.m,sr.prototype.close=sr.prototype.close,VF=function(){return new Sp},MF=function(){return Ko()},OF=pi,fS={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},dp.NO_ERROR=0,dp.TIMEOUT=8,dp.HTTP_ERROR=6,Pv=dp,aE.COMPLETE="complete",RF=aE,Ii.EventType=nn,nn.OPEN="a",nn.CLOSE="b",nn.ERROR="c",nn.MESSAGE="d",et.prototype.listen=et.prototype.K,Df=Ii,ti.prototype.listenOnce=ti.prototype.L,ti.prototype.getLastError=ti.prototype.Ka,ti.prototype.getLastErrorCode=ti.prototype.Ba,ti.prototype.getStatus=ti.prototype.Z,ti.prototype.getResponseJson=ti.prototype.Oa,ti.prototype.getResponseText=ti.prototype.oa,ti.prototype.send=ti.prototype.ea,ti.prototype.setWithCredentials=ti.prototype.Ha,AF=ti}).apply(typeof Lp<"u"?Lp:typeof self<"u"?self:typeof window<"u"?window:{});const KD="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ms.UNAUTHENTICATED=new ms(null),ms.GOOGLE_CREDENTIALS=new ms("google-credentials-uid"),ms.FIRST_PARTY=new ms("first-party-uid"),ms.MOCK_USER=new ms("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Oh="11.0.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rc=new Ch("@firebase/firestore");function dd(){return rc.logLevel}function Qe(t,...e){if(rc.logLevel<=Ft.DEBUG){const n=e.map(OT);rc.debug(`Firestore (${Oh}): ${t}`,...n)}}function Do(t,...e){if(rc.logLevel<=Ft.ERROR){const n=e.map(OT);rc.error(`Firestore (${Oh}): ${t}`,...n)}}function Kd(t,...e){if(rc.logLevel<=Ft.WARN){const n=e.map(OT);rc.warn(`Firestore (${Oh}): ${t}`,...n)}}function OT(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wt(t="Unexpected state"){const e=`FIRESTORE (${Oh}) INTERNAL ASSERTION FAILED: `+t;throw Do(e),new Error(e)}function fn(t,e){t||wt()}function Et(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Re={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class qe extends Nr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LF{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class aQ{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(ms.UNAUTHENTICATED))}shutdown(){}}class oQ{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class lQ{constructor(e){this.t=e,this.currentUser=ms.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){fn(this.o===void 0);let i=this.i;const s=l=>this.i!==i?(i=this.i,n(l)):Promise.resolve();let r=new So;this.o=()=>{this.i++,this.currentUser=this.u(),r.resolve(),r=new So,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const l=r;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},o=l=>{Qe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(l=>o(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?o(l):(Qe("FirebaseAuthCredentialsProvider","Auth not yet detected"),r.resolve(),r=new So)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==e?(Qe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(fn(typeof i.accessToken=="string"),new LF(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return fn(e===null||typeof e=="string"),new ms(e)}}class uQ{constructor(e,n,i){this.l=e,this.h=n,this.P=i,this.type="FirstParty",this.user=ms.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class cQ{constructor(e,n,i){this.l=e,this.h=n,this.P=i}getToken(){return Promise.resolve(new uQ(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(ms.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class dQ{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class hQ{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){fn(this.o===void 0);const i=r=>{r.error!=null&&Qe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${r.error.message}`);const a=r.token!==this.R;return this.R=r.token,Qe("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(r.token):Promise.resolve()};this.o=r=>{e.enqueueRetryable(()=>i(r))};const s=r=>{Qe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=r,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(r=>s(r)),setTimeout(()=>{if(!this.appCheck){const r=this.A.getImmediate({optional:!0});r?s(r):Qe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(fn(typeof n.token=="string"),this.R=n.token,new dQ(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fQ(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NF{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const s=fQ(40);for(let r=0;r<s.length;++r)i.length<20&&s[r]<n&&(i+=e.charAt(s[r]%e.length))}return i}}function Ht(t,e){return t<e?-1:t>e?1:0}function Qd(t,e,n){return t.length===e.length&&t.every((i,s)=>n(i,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{static now(){return At.fromMillis(Date.now())}static fromDate(e){return At.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*n));return new At(n,i)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new qe(Re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new qe(Re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new qe(Re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new qe(Re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ht(this.nanoseconds,e.nanoseconds):Ht(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{static fromTimestamp(e){return new Pt(e)}static min(){return new Pt(new At(0,0))}static max(){return new Pt(new At(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Em{constructor(e,n,i){n===void 0?n=0:n>e.length&&wt(),i===void 0?i=e.length-n:i>e.length-n&&wt(),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return Em.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Em?e.forEach(i=>{n.push(i)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let s=0;s<i;s++){const r=e.get(s),a=n.get(s);if(r<a)return-1;if(r>a)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Bn extends Em{construct(e,n,i){return new Bn(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new qe(Re.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(s=>s.length>0))}return new Bn(n)}static emptyPath(){return new Bn([])}}const mQ=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ts extends Em{construct(e,n,i){return new ts(e,n,i)}static isValidIdentifier(e){return mQ.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ts.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new ts(["__name__"])}static fromServerFormat(e){const n=[];let i="",s=0;const r=()=>{if(i.length===0)throw new qe(Re.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let a=!1;for(;s<e.length;){const o=e[s];if(o==="\\"){if(s+1===e.length)throw new qe(Re.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new qe(Re.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=l,s+=2}else o==="`"?(a=!a,s++):o!=="."||a?(i+=o,s++):(r(),s++)}if(r(),a)throw new qe(Re.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ts(n)}static emptyPath(){return new ts([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(e){this.path=e}static fromPath(e){return new ht(Bn.fromString(e))}static fromName(e){return new ht(Bn.fromString(e).popFirst(5))}static empty(){return new ht(Bn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Bn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Bn.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ht(new Bn(e.slice()))}}function gQ(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,s=Pt.fromTimestamp(i===1e9?new At(n+1,0):new At(n,i));return new Vl(s,ht.empty(),e)}function pQ(t){return new Vl(t.readTime,t.key,-1)}class Vl{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new Vl(Pt.min(),ht.empty(),-1)}static max(){return new Vl(Pt.max(),ht.empty(),-1)}}function vQ(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ht.comparator(t.documentKey,e.documentKey),n!==0?n:Ht(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _Q="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class yQ{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mh(t){if(t.code!==Re.FAILED_PRECONDITION||t.message!==_Q)throw t;Qe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&wt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Oe((i,s)=>{this.nextCallback=r=>{this.wrapSuccess(e,r).next(i,s)},this.catchCallback=r=>{this.wrapFailure(n,r).next(i,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Oe?n:Oe.resolve(n)}catch(n){return Oe.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Oe.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Oe.reject(n)}static resolve(e){return new Oe((n,i)=>{n(e)})}static reject(e){return new Oe((n,i)=>{i(e)})}static waitFor(e){return new Oe((n,i)=>{let s=0,r=0,a=!1;e.forEach(o=>{++s,o.next(()=>{++r,a&&r===s&&n()},l=>i(l))}),a=!0,r===s&&n()})}static or(e){let n=Oe.resolve(!1);for(const i of e)n=n.next(s=>s?Oe.resolve(s):i());return n}static forEach(e,n){const i=[];return e.forEach((s,r)=>{i.push(n.call(this,s,r))}),this.waitFor(i)}static mapArray(e,n){return new Oe((i,s)=>{const r=e.length,a=new Array(r);let o=0;for(let l=0;l<r;l++){const u=l;n(e[u]).next(d=>{a[u]=d,++o,o===r&&i(a)},d=>s(d))}})}static doWhile(e,n){return new Oe((i,s)=>{const r=()=>{e()===!0?n().next(()=>{r()},s):i()};r()})}}function bQ(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Vh(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yb{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.ie(i),this.se=i=>n.writeSequenceNumber(i))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}yb.oe=-1;function bb(t){return t==null}function k_(t){return t===0&&1/t==-1/0}function wQ(t){return typeof t=="number"&&Number.isInteger(t)&&!k_(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xQ(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=QD(e)),e=SQ(t.get(n),e);return QD(e)}function SQ(t,e){let n=e;const i=t.length;for(let s=0;s<i;s++){const r=t.charAt(s);switch(r){case"\0":n+="";break;case"":n+="";break;default:n+=r}}return n}function QD(t){return t+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JD(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function eu(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function FF(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn{constructor(e,n){this.comparator=e,this.root=n||Qi.EMPTY}insert(e,n){return new Zn(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Qi.BLACK,null,null))}remove(e){return new Zn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Qi.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return n+i.left.size;s<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,i)=>(e(n,i),!1))}toString(){const e=[];return this.inorderTraversal((n,i)=>(e.push(`${n}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Np(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Np(this.root,e,this.comparator,!1)}getReverseIterator(){return new Np(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Np(this.root,e,this.comparator,!0)}}class Np{constructor(e,n,i,s){this.isReverse=s,this.nodeStack=[];let r=1;for(;!e.isEmpty();)if(r=n?i(e.key,n):1,n&&s&&(r*=-1),r<0)e=this.isReverse?e.left:e.right;else{if(r===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Qi{constructor(e,n,i,s,r){this.key=e,this.value=n,this.color=i??Qi.RED,this.left=s??Qi.EMPTY,this.right=r??Qi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,s,r){return new Qi(e??this.key,n??this.value,i??this.color,s??this.left,r??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let s=this;const r=i(e,s.key);return s=r<0?s.copy(null,null,null,s.left.insert(e,n,i),null):r===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,i)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Qi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return Qi.EMPTY;i=s.right.min(),s=s.copy(i.key,i.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Qi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Qi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw wt();const e=this.left.check();if(e!==this.right.check())throw wt();return e+(this.isRed()?0:1)}}Qi.EMPTY=null,Qi.RED=!0,Qi.BLACK=!1;Qi.EMPTY=new class{constructor(){this.size=0}get key(){throw wt()}get value(){throw wt()}get color(){throw wt()}get left(){throw wt()}get right(){throw wt()}copy(e,n,i,s,r){return this}insert(e,n,i){return new Qi(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri{constructor(e){this.comparator=e,this.data=new Zn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,i)=>(e(n),!1))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const s=i.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new ZD(this.data.getIterator())}getIteratorFrom(e){return new ZD(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(i=>{n=n.add(i)}),n}isEqual(e){if(!(e instanceof Ri)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,r=i.getNext().key;if(this.comparator(s,r)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ri(this.comparator);return n.data=e,n}}class ZD{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr{constructor(e){this.fields=e,e.sort(ts.comparator)}static empty(){return new fr([])}unionWith(e){let n=new Ri(ts.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new fr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Qd(this.fields,e.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BF extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(r){throw typeof DOMException<"u"&&r instanceof DOMException?new BF("Invalid base64 string: "+r):r}}(e);return new ss(n)}static fromUint8Array(e){const n=function(s){let r="";for(let a=0;a<s.length;++a)r+=String.fromCharCode(s[a]);return r}(e);return new ss(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let s=0;s<n.length;s++)i[s]=n.charCodeAt(s);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ht(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ss.EMPTY_BYTE_STRING=new ss("");const kQ=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ll(t){if(fn(!!t),typeof t=="string"){let e=0;const n=kQ.exec(t);if(fn(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:di(t.seconds),nanos:di(t.nanos)}}function di(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Nl(t){return typeof t=="string"?ss.fromBase64String(t):ss.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MT(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function wb(t){const e=t.mapValue.fields.__previous_value__;return MT(e)?wb(e):e}function Im(t){const e=Ll(t.mapValue.fields.__local_write_time__.timestampValue);return new At(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TQ{constructor(e,n,i,s,r,a,o,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=s,this.ssl=r,this.forceLongPolling=a,this.autoDetectLongPolling=o,this.longPollingOptions=l,this.useFetchStreams=u}}class Dm{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Dm("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Dm&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fp={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Fl(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?MT(t)?4:CQ(t)?9007199254740991:PQ(t)?10:11:wt()}function Ha(t,e){if(t===e)return!0;const n=Fl(t);if(n!==Fl(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Im(t).isEqual(Im(e));case 3:return function(s,r){if(typeof s.timestampValue=="string"&&typeof r.timestampValue=="string"&&s.timestampValue.length===r.timestampValue.length)return s.timestampValue===r.timestampValue;const a=Ll(s.timestampValue),o=Ll(r.timestampValue);return a.seconds===o.seconds&&a.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,r){return Nl(s.bytesValue).isEqual(Nl(r.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,r){return di(s.geoPointValue.latitude)===di(r.geoPointValue.latitude)&&di(s.geoPointValue.longitude)===di(r.geoPointValue.longitude)}(t,e);case 2:return function(s,r){if("integerValue"in s&&"integerValue"in r)return di(s.integerValue)===di(r.integerValue);if("doubleValue"in s&&"doubleValue"in r){const a=di(s.doubleValue),o=di(r.doubleValue);return a===o?k_(a)===k_(o):isNaN(a)&&isNaN(o)}return!1}(t,e);case 9:return Qd(t.arrayValue.values||[],e.arrayValue.values||[],Ha);case 10:case 11:return function(s,r){const a=s.mapValue.fields||{},o=r.mapValue.fields||{};if(JD(a)!==JD(o))return!1;for(const l in a)if(a.hasOwnProperty(l)&&(o[l]===void 0||!Ha(a[l],o[l])))return!1;return!0}(t,e);default:return wt()}}function Am(t,e){return(t.values||[]).find(n=>Ha(n,e))!==void 0}function Jd(t,e){if(t===e)return 0;const n=Fl(t),i=Fl(e);if(n!==i)return Ht(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ht(t.booleanValue,e.booleanValue);case 2:return function(r,a){const o=di(r.integerValue||r.doubleValue),l=di(a.integerValue||a.doubleValue);return o<l?-1:o>l?1:o===l?0:isNaN(o)?isNaN(l)?0:-1:1}(t,e);case 3:return eA(t.timestampValue,e.timestampValue);case 4:return eA(Im(t),Im(e));case 5:return Ht(t.stringValue,e.stringValue);case 6:return function(r,a){const o=Nl(r),l=Nl(a);return o.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(r,a){const o=r.split("/"),l=a.split("/");for(let u=0;u<o.length&&u<l.length;u++){const d=Ht(o[u],l[u]);if(d!==0)return d}return Ht(o.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(r,a){const o=Ht(di(r.latitude),di(a.latitude));return o!==0?o:Ht(di(r.longitude),di(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return tA(t.arrayValue,e.arrayValue);case 10:return function(r,a){var o,l,u,d;const c=r.fields||{},f=a.fields||{},h=(o=c.value)===null||o===void 0?void 0:o.arrayValue,p=(l=f.value)===null||l===void 0?void 0:l.arrayValue,g=Ht(((u=h==null?void 0:h.values)===null||u===void 0?void 0:u.length)||0,((d=p==null?void 0:p.values)===null||d===void 0?void 0:d.length)||0);return g!==0?g:tA(h,p)}(t.mapValue,e.mapValue);case 11:return function(r,a){if(r===Fp.mapValue&&a===Fp.mapValue)return 0;if(r===Fp.mapValue)return 1;if(a===Fp.mapValue)return-1;const o=r.fields||{},l=Object.keys(o),u=a.fields||{},d=Object.keys(u);l.sort(),d.sort();for(let c=0;c<l.length&&c<d.length;++c){const f=Ht(l[c],d[c]);if(f!==0)return f;const h=Jd(o[l[c]],u[d[c]]);if(h!==0)return h}return Ht(l.length,d.length)}(t.mapValue,e.mapValue);default:throw wt()}}function eA(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ht(t,e);const n=Ll(t),i=Ll(e),s=Ht(n.seconds,i.seconds);return s!==0?s:Ht(n.nanos,i.nanos)}function tA(t,e){const n=t.values||[],i=e.values||[];for(let s=0;s<n.length&&s<i.length;++s){const r=Jd(n[s],i[s]);if(r)return r}return Ht(n.length,i.length)}function Zd(t){return mS(t)}function mS(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const i=Ll(n);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Nl(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ht.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let i="[",s=!0;for(const r of n.values||[])s?s=!1:i+=",",i+=mS(r);return i+"]"}(t.arrayValue):"mapValue"in t?function(n){const i=Object.keys(n.fields||{}).sort();let s="{",r=!0;for(const a of i)r?r=!1:s+=",",s+=`${a}:${mS(n.fields[a])}`;return s+"}"}(t.mapValue):wt()}function Cv(t){switch(Fl(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=wb(t);return e?16+Cv(e):16;case 5:return 2*t.stringValue.length;case 6:return Nl(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((s,r)=>s+Cv(r),0)}(t.arrayValue);case 10:case 11:return function(i){let s=0;return eu(i.fields,(r,a)=>{s+=r.length+Cv(a)}),s}(t.mapValue);default:throw wt()}}function nA(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function gS(t){return!!t&&"integerValue"in t}function VT(t){return!!t&&"arrayValue"in t}function iA(t){return!!t&&"nullValue"in t}function sA(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ev(t){return!!t&&"mapValue"in t}function PQ(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Zf(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return eu(t.mapValue.fields,(n,i)=>e.mapValue.fields[n]=Zf(i)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Zf(t.arrayValue.values[n]);return e}return Object.assign({},t)}function CQ(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks{constructor(e){this.value=e}static empty(){return new Ks({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!Ev(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Zf(n)}setAll(e){let n=ts.emptyPath(),i={},s=[];e.forEach((a,o)=>{if(!n.isImmediateParentOf(o)){const l=this.getFieldsMap(n);this.applyChanges(l,i,s),i={},s=[],n=o.popLast()}a?i[o.lastSegment()]=Zf(a):s.push(o.lastSegment())});const r=this.getFieldsMap(n);this.applyChanges(r,i,s)}delete(e){const n=this.field(e.popLast());Ev(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ha(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let s=n.mapValue.fields[e.get(i)];Ev(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,i){eu(n,(s,r)=>e[s]=r);for(const s of i)delete e[s]}clone(){return new Ks(Zf(this.value))}}function jF(t){const e=[];return eu(t.fields,(n,i)=>{const s=new ts([n]);if(Ev(i)){const r=jF(i.mapValue).fields;if(r.length===0)e.push(s);else for(const a of r)e.push(s.child(a))}else e.push(s)}),new fr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys{constructor(e,n,i,s,r,a,o){this.key=e,this.documentType=n,this.version=i,this.readTime=s,this.createTime=r,this.data=a,this.documentState=o}static newInvalidDocument(e){return new ys(e,0,Pt.min(),Pt.min(),Pt.min(),Ks.empty(),0)}static newFoundDocument(e,n,i,s){return new ys(e,1,n,Pt.min(),i,s,0)}static newNoDocument(e,n){return new ys(e,2,n,Pt.min(),Pt.min(),Ks.empty(),0)}static newUnknownDocument(e,n){return new ys(e,3,n,Pt.min(),Pt.min(),Ks.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Pt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ks.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ks.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Pt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ys&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ys(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T_{constructor(e,n){this.position=e,this.inclusive=n}}function rA(t,e,n){let i=0;for(let s=0;s<t.position.length;s++){const r=e[s],a=t.position[s];if(r.field.isKeyField()?i=ht.comparator(ht.fromName(a.referenceValue),n.key):i=Jd(a,n.data.field(r.field)),r.dir==="desc"&&(i*=-1),i!==0)break}return i}function aA(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ha(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rm{constructor(e,n="asc"){this.field=e,this.dir=n}}function EQ(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $F{}class yi extends $F{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new DQ(e,n,i):n==="array-contains"?new OQ(e,i):n==="in"?new MQ(e,i):n==="not-in"?new VQ(e,i):n==="array-contains-any"?new LQ(e,i):new yi(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new AQ(e,i):new RQ(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Jd(n,this.value)):n!==null&&Fl(this.value)===Fl(n)&&this.matchesComparison(Jd(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return wt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ua extends $F{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new ua(e,n)}matches(e){return UF(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function UF(t){return t.op==="and"}function HF(t){return IQ(t)&&UF(t)}function IQ(t){for(const e of t.filters)if(e instanceof ua)return!1;return!0}function pS(t){if(t instanceof yi)return t.field.canonicalString()+t.op.toString()+Zd(t.value);if(HF(t))return t.filters.map(e=>pS(e)).join(",");{const e=t.filters.map(n=>pS(n)).join(",");return`${t.op}(${e})`}}function zF(t,e){return t instanceof yi?function(i,s){return s instanceof yi&&i.op===s.op&&i.field.isEqual(s.field)&&Ha(i.value,s.value)}(t,e):t instanceof ua?function(i,s){return s instanceof ua&&i.op===s.op&&i.filters.length===s.filters.length?i.filters.reduce((r,a,o)=>r&&zF(a,s.filters[o]),!0):!1}(t,e):void wt()}function WF(t){return t instanceof yi?function(n){return`${n.field.canonicalString()} ${n.op} ${Zd(n.value)}`}(t):t instanceof ua?function(n){return n.op.toString()+" {"+n.getFilters().map(WF).join(" ,")+"}"}(t):"Filter"}class DQ extends yi{constructor(e,n,i){super(e,n,i),this.key=ht.fromName(i.referenceValue)}matches(e){const n=ht.comparator(e.key,this.key);return this.matchesComparison(n)}}class AQ extends yi{constructor(e,n){super(e,"in",n),this.keys=YF("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class RQ extends yi{constructor(e,n){super(e,"not-in",n),this.keys=YF("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function YF(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>ht.fromName(i.referenceValue))}class OQ extends yi{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return VT(n)&&Am(n.arrayValue,this.value)}}class MQ extends yi{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Am(this.value.arrayValue,n)}}class VQ extends yi{constructor(e,n){super(e,"not-in",n)}matches(e){if(Am(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Am(this.value.arrayValue,n)}}class LQ extends yi{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!VT(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>Am(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NQ{constructor(e,n=null,i=[],s=[],r=null,a=null,o=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=s,this.limit=r,this.startAt=a,this.endAt=o,this.ue=null}}function oA(t,e=null,n=[],i=[],s=null,r=null,a=null){return new NQ(t,e,n,i,s,r,a)}function LT(t){const e=Et(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(i=>pS(i)).join(","),n+="|ob:",n+=e.orderBy.map(i=>function(r){return r.field.canonicalString()+r.dir}(i)).join(","),bb(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(i=>Zd(i)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(i=>Zd(i)).join(",")),e.ue=n}return e.ue}function NT(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!EQ(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!zF(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!aA(t.startAt,e.startAt)&&aA(t.endAt,e.endAt)}function vS(t){return ht.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh{constructor(e,n=null,i=[],s=[],r=null,a="F",o=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=s,this.limit=r,this.limitType=a,this.startAt=o,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function FQ(t,e,n,i,s,r,a,o){return new Lh(t,e,n,i,s,r,a,o)}function xb(t){return new Lh(t)}function lA(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function GF(t){return t.collectionGroup!==null}function em(t){const e=Et(t);if(e.ce===null){e.ce=[];const n=new Set;for(const r of e.explicitOrderBy)e.ce.push(r),n.add(r.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let o=new Ri(ts.comparator);return a.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(o=o.add(u.field))})}),o})(e).forEach(r=>{n.has(r.canonicalString())||r.isKeyField()||e.ce.push(new Rm(r,i))}),n.has(ts.keyField().canonicalString())||e.ce.push(new Rm(ts.keyField(),i))}return e.ce}function Ma(t){const e=Et(t);return e.le||(e.le=BQ(e,em(t))),e.le}function BQ(t,e){if(t.limitType==="F")return oA(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const r=s.dir==="desc"?"asc":"desc";return new Rm(s.field,r)});const n=t.endAt?new T_(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new T_(t.startAt.position,t.startAt.inclusive):null;return oA(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function _S(t,e){const n=t.filters.concat([e]);return new Lh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function yS(t,e,n){return new Lh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Sb(t,e){return NT(Ma(t),Ma(e))&&t.limitType===e.limitType}function qF(t){return`${LT(Ma(t))}|lt:${t.limitType}`}function hd(t){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(s=>WF(s)).join(", ")}]`),bb(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(s=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(s)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(s=>Zd(s)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(s=>Zd(s)).join(",")),`Target(${i})`}(Ma(t))}; limitType=${t.limitType})`}function kb(t,e){return e.isFoundDocument()&&function(i,s){const r=s.key.path;return i.collectionGroup!==null?s.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(r):ht.isDocumentKey(i.path)?i.path.isEqual(r):i.path.isImmediateParentOf(r)}(t,e)&&function(i,s){for(const r of em(i))if(!r.field.isKeyField()&&s.data.field(r.field)===null)return!1;return!0}(t,e)&&function(i,s){for(const r of i.filters)if(!r.matches(s))return!1;return!0}(t,e)&&function(i,s){return!(i.startAt&&!function(a,o,l){const u=rA(a,o,l);return a.inclusive?u<=0:u<0}(i.startAt,em(i),s)||i.endAt&&!function(a,o,l){const u=rA(a,o,l);return a.inclusive?u>=0:u>0}(i.endAt,em(i),s))}(t,e)}function jQ(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function XF(t){return(e,n)=>{let i=!1;for(const s of em(t)){const r=$Q(s,e,n);if(r!==0)return r;i=i||s.field.isKeyField()}return 0}}function $Q(t,e,n){const i=t.field.isKeyField()?ht.comparator(e.key,n.key):function(r,a,o){const l=a.data.field(r),u=o.data.field(r);return l!==null&&u!==null?Jd(l,u):wt()}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return wt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ac{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[s,r]of i)if(this.equalsFn(s,e))return r}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let r=0;r<s.length;r++)if(this.equalsFn(s[r][0],e))return void(s[r]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return i.length===1?delete this.inner[n]:i.splice(s,1),this.innerSize--,!0;return!1}forEach(e){eu(this.inner,(n,i)=>{for(const[s,r]of i)e(s,r)})}isEmpty(){return FF(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UQ=new Zn(ht.comparator);function Ao(){return UQ}const KF=new Zn(ht.comparator);function Af(...t){let e=KF;for(const n of t)e=e.insert(n.key,n);return e}function QF(t){let e=KF;return t.forEach((n,i)=>e=e.insert(n,i.overlayedDocument)),e}function Ou(){return tm()}function JF(){return tm()}function tm(){return new Ac(t=>t.toString(),(t,e)=>t.isEqual(e))}const HQ=new Zn(ht.comparator),zQ=new Ri(ht.comparator);function Ut(...t){let e=zQ;for(const n of t)e=e.add(n);return e}const WQ=new Ri(Ht);function YQ(){return WQ}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FT(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:k_(e)?"-0":e}}function ZF(t){return{integerValue:""+t}}function GQ(t,e){return wQ(e)?ZF(e):FT(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tb{constructor(){this._=void 0}}function qQ(t,e,n){return t instanceof P_?function(s,r){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return r&&MT(r)&&(r=wb(r)),r&&(a.fields.__previous_value__=r),{mapValue:a}}(n,e):t instanceof Om?tB(t,e):t instanceof Mm?nB(t,e):function(s,r){const a=eB(s,r),o=uA(a)+uA(s.Pe);return gS(a)&&gS(s.Pe)?ZF(o):FT(s.serializer,o)}(t,e)}function XQ(t,e,n){return t instanceof Om?tB(t,e):t instanceof Mm?nB(t,e):n}function eB(t,e){return t instanceof C_?function(i){return gS(i)||function(r){return!!r&&"doubleValue"in r}(i)}(e)?e:{integerValue:0}:null}class P_ extends Tb{}class Om extends Tb{constructor(e){super(),this.elements=e}}function tB(t,e){const n=iB(e);for(const i of t.elements)n.some(s=>Ha(s,i))||n.push(i);return{arrayValue:{values:n}}}class Mm extends Tb{constructor(e){super(),this.elements=e}}function nB(t,e){let n=iB(e);for(const i of t.elements)n=n.filter(s=>!Ha(s,i));return{arrayValue:{values:n}}}class C_ extends Tb{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function uA(t){return di(t.integerValue||t.doubleValue)}function iB(t){return VT(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function KQ(t,e){return t.field.isEqual(e.field)&&function(i,s){return i instanceof Om&&s instanceof Om||i instanceof Mm&&s instanceof Mm?Qd(i.elements,s.elements,Ha):i instanceof C_&&s instanceof C_?Ha(i.Pe,s.Pe):i instanceof P_&&s instanceof P_}(t.transform,e.transform)}class QQ{constructor(e,n){this.version=e,this.transformResults=n}}class Js{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Js}static exists(e){return new Js(void 0,e)}static updateTime(e){return new Js(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Iv(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Pb{}function sB(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Cb(t.key,Js.none()):new Fg(t.key,t.data,Js.none());{const n=t.data,i=Ks.empty();let s=new Ri(ts.comparator);for(let r of e.fields)if(!s.has(r)){let a=n.field(r);a===null&&r.length>1&&(r=r.popLast(),a=n.field(r)),a===null?i.delete(r):i.set(r,a),s=s.add(r)}return new tu(t.key,i,new fr(s.toArray()),Js.none())}}function JQ(t,e,n){t instanceof Fg?function(s,r,a){const o=s.value.clone(),l=dA(s.fieldTransforms,r,a.transformResults);o.setAll(l),r.convertToFoundDocument(a.version,o).setHasCommittedMutations()}(t,e,n):t instanceof tu?function(s,r,a){if(!Iv(s.precondition,r))return void r.convertToUnknownDocument(a.version);const o=dA(s.fieldTransforms,r,a.transformResults),l=r.data;l.setAll(rB(s)),l.setAll(o),r.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(t,e,n):function(s,r,a){r.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,n)}function nm(t,e,n,i){return t instanceof Fg?function(r,a,o,l){if(!Iv(r.precondition,a))return o;const u=r.value.clone(),d=hA(r.fieldTransforms,l,a);return u.setAll(d),a.convertToFoundDocument(a.version,u).setHasLocalMutations(),null}(t,e,n,i):t instanceof tu?function(r,a,o,l){if(!Iv(r.precondition,a))return o;const u=hA(r.fieldTransforms,l,a),d=a.data;return d.setAll(rB(r)),d.setAll(u),a.convertToFoundDocument(a.version,d).setHasLocalMutations(),o===null?null:o.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(c=>c.field))}(t,e,n,i):function(r,a,o){return Iv(r.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):o}(t,e,n)}function ZQ(t,e){let n=null;for(const i of t.fieldTransforms){const s=e.data.field(i.field),r=eB(i.transform,s||null);r!=null&&(n===null&&(n=Ks.empty()),n.set(i.field,r))}return n||null}function cA(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(i,s){return i===void 0&&s===void 0||!(!i||!s)&&Qd(i,s,(r,a)=>KQ(r,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Fg extends Pb{constructor(e,n,i,s=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class tu extends Pb{constructor(e,n,i,s,r=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=s,this.fieldTransforms=r,this.type=1}getFieldMask(){return this.fieldMask}}function rB(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}}),e}function dA(t,e,n){const i=new Map;fn(t.length===n.length);for(let s=0;s<n.length;s++){const r=t[s],a=r.transform,o=e.data.field(r.field);i.set(r.field,XQ(a,o,n[s]))}return i}function hA(t,e,n){const i=new Map;for(const s of t){const r=s.transform,a=n.data.field(s.field);i.set(s.field,qQ(r,a,e))}return i}class Cb extends Pb{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class eJ extends Pb{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tJ{constructor(e,n,i,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=s}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const r=this.mutations[s];r.key.isEqual(e.key)&&JQ(r,e,i[s])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=nm(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=nm(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=JF();return this.mutations.forEach(s=>{const r=e.get(s.key),a=r.overlayedDocument;let o=this.applyToLocalView(a,r.mutatedFields);o=n.has(s.key)?null:o;const l=sB(a,o);l!==null&&i.set(s.key,l),a.isValidDocument()||a.convertToNoDocument(Pt.min())}),i}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ut())}isEqual(e){return this.batchId===e.batchId&&Qd(this.mutations,e.mutations,(n,i)=>cA(n,i))&&Qd(this.baseMutations,e.baseMutations,(n,i)=>cA(n,i))}}class BT{constructor(e,n,i,s){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=s}static from(e,n,i){fn(e.mutations.length===i.length);let s=function(){return HQ}();const r=e.mutations;for(let a=0;a<r.length;a++)s=s.insert(r[a].key,i[a].version);return new BT(e,n,i,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nJ{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iJ{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vi,Gt;function sJ(t){switch(t){default:return wt();case Re.CANCELLED:case Re.UNKNOWN:case Re.DEADLINE_EXCEEDED:case Re.RESOURCE_EXHAUSTED:case Re.INTERNAL:case Re.UNAVAILABLE:case Re.UNAUTHENTICATED:return!1;case Re.INVALID_ARGUMENT:case Re.NOT_FOUND:case Re.ALREADY_EXISTS:case Re.PERMISSION_DENIED:case Re.FAILED_PRECONDITION:case Re.ABORTED:case Re.OUT_OF_RANGE:case Re.UNIMPLEMENTED:case Re.DATA_LOSS:return!0}}function aB(t){if(t===void 0)return Do("GRPC error has no .code"),Re.UNKNOWN;switch(t){case vi.OK:return Re.OK;case vi.CANCELLED:return Re.CANCELLED;case vi.UNKNOWN:return Re.UNKNOWN;case vi.DEADLINE_EXCEEDED:return Re.DEADLINE_EXCEEDED;case vi.RESOURCE_EXHAUSTED:return Re.RESOURCE_EXHAUSTED;case vi.INTERNAL:return Re.INTERNAL;case vi.UNAVAILABLE:return Re.UNAVAILABLE;case vi.UNAUTHENTICATED:return Re.UNAUTHENTICATED;case vi.INVALID_ARGUMENT:return Re.INVALID_ARGUMENT;case vi.NOT_FOUND:return Re.NOT_FOUND;case vi.ALREADY_EXISTS:return Re.ALREADY_EXISTS;case vi.PERMISSION_DENIED:return Re.PERMISSION_DENIED;case vi.FAILED_PRECONDITION:return Re.FAILED_PRECONDITION;case vi.ABORTED:return Re.ABORTED;case vi.OUT_OF_RANGE:return Re.OUT_OF_RANGE;case vi.UNIMPLEMENTED:return Re.UNIMPLEMENTED;case vi.DATA_LOSS:return Re.DATA_LOSS;default:return wt()}}(Gt=vi||(vi={}))[Gt.OK=0]="OK",Gt[Gt.CANCELLED=1]="CANCELLED",Gt[Gt.UNKNOWN=2]="UNKNOWN",Gt[Gt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Gt[Gt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Gt[Gt.NOT_FOUND=5]="NOT_FOUND",Gt[Gt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Gt[Gt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Gt[Gt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Gt[Gt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Gt[Gt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Gt[Gt.ABORTED=10]="ABORTED",Gt[Gt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Gt[Gt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Gt[Gt.INTERNAL=13]="INTERNAL",Gt[Gt.UNAVAILABLE=14]="UNAVAILABLE",Gt[Gt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rJ(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aJ=new Uu([4294967295,4294967295],0);function fA(t){const e=rJ().encode(t),n=new DF;return n.update(e),new Uint8Array(n.digest())}function mA(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),s=e.getUint32(8,!0),r=e.getUint32(12,!0);return[new Uu([n,i],0),new Uu([s,r],0)]}class jT{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new Rf(`Invalid padding: ${n}`);if(i<0)throw new Rf(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Rf(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new Rf(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ie=Uu.fromNumber(this.Te)}Ee(e,n,i){let s=e.add(n.multiply(Uu.fromNumber(i)));return s.compare(aJ)===1&&(s=new Uu([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Ie).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=fA(e),[i,s]=mA(n);for(let r=0;r<this.hashCount;r++){const a=this.Ee(i,s,r);if(!this.de(a))return!1}return!0}static create(e,n,i){const s=e%8==0?0:8-e%8,r=new Uint8Array(Math.ceil(e/8)),a=new jT(r,s,n);return i.forEach(o=>a.insert(o)),a}insert(e){if(this.Te===0)return;const n=fA(e),[i,s]=mA(n);for(let r=0;r<this.hashCount;r++){const a=this.Ee(i,s,r);this.Ae(a)}}Ae(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class Rf extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eb{constructor(e,n,i,s,r){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=s,this.resolvedLimboDocuments=r}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const s=new Map;return s.set(e,Bg.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new Eb(Pt.min(),s,new Zn(Ht),Ao(),Ut())}}class Bg{constructor(e,n,i,s,r){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=s,this.removedDocuments=r}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new Bg(i,n,Ut(),Ut(),Ut())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dv{constructor(e,n,i,s){this.Re=e,this.removedTargetIds=n,this.key=i,this.Ve=s}}class oB{constructor(e,n){this.targetId=e,this.me=n}}class lB{constructor(e,n,i=ss.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=s}}class gA{constructor(){this.fe=0,this.ge=pA(),this.pe=ss.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Ut(),n=Ut(),i=Ut();return this.ge.forEach((s,r)=>{switch(r){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:i=i.add(s);break;default:wt()}}),new Bg(this.pe,this.ye,e,n,i)}Ce(){this.we=!1,this.ge=pA()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,fn(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class oJ{constructor(e){this.Le=e,this.Be=new Map,this.ke=Ao(),this.qe=Bp(),this.Qe=Bp(),this.Ke=new Zn(Ht)}$e(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(n,e.Ve):this.We(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.We(n,e.key,e.Ve)}Ge(e){this.forEachTarget(e,n=>{const i=this.ze(n);switch(e.state){case 0:this.je(n)&&i.De(e.resumeToken);break;case 1:i.Oe(),i.Se||i.Ce(),i.De(e.resumeToken);break;case 2:i.Oe(),i.Se||this.removeTarget(n);break;case 3:this.je(n)&&(i.Ne(),i.De(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),i.De(e.resumeToken));break;default:wt()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((i,s)=>{this.je(s)&&n(s)})}Je(e){const n=e.targetId,i=e.me.count,s=this.Ye(n);if(s){const r=s.target;if(vS(r))if(i===0){const a=new ht(r.path);this.We(n,a,ys.newNoDocument(a,Pt.min()))}else fn(i===1);else{const a=this.Ze(n);if(a!==i){const o=this.Xe(e),l=o?this.et(o,e,a):1;if(l!==0){this.He(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,u)}}}}}Xe(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:s=0},hashCount:r=0}=n;let a,o;try{a=Nl(i).toUint8Array()}catch(l){if(l instanceof BF)return Kd("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{o=new jT(a,s,r)}catch(l){return Kd(l instanceof Rf?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return o.Te===0?null:o}et(e,n,i){return n.me.count===i-this.rt(e,n.targetId)?0:2}rt(e,n){const i=this.Le.getRemoteKeysForTarget(n);let s=0;return i.forEach(r=>{const a=this.Le.nt(),o=`projects/${a.projectId}/databases/${a.database}/documents/${r.path.canonicalString()}`;e.mightContain(o)||(this.We(n,r,null),s++)}),s}it(e){const n=new Map;this.Be.forEach((r,a)=>{const o=this.Ye(a);if(o){if(r.current&&vS(o.target)){const l=new ht(o.target.path);this.st(l).has(a)||this.ot(a,l)||this.We(a,l,ys.newNoDocument(l,e))}r.be&&(n.set(a,r.ve()),r.Ce())}});let i=Ut();this.Qe.forEach((r,a)=>{let o=!0;a.forEachWhile(l=>{const u=this.Ye(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)}),o&&(i=i.add(r))}),this.ke.forEach((r,a)=>a.setReadTime(e));const s=new Eb(e,n,this.Ke,this.ke,i);return this.ke=Ao(),this.qe=Bp(),this.Qe=Bp(),this.Ke=new Zn(Ht),s}Ue(e,n){if(!this.je(e))return;const i=this.ot(e,n.key)?2:0;this.ze(e).Fe(n.key,i),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e)),this.Qe=this.Qe.insert(n.key,this._t(n.key).add(e))}We(e,n,i){if(!this.je(e))return;const s=this.ze(e);this.ot(e,n)?s.Fe(n,1):s.Me(n),this.Qe=this.Qe.insert(n,this._t(n).delete(e)),this.Qe=this.Qe.insert(n,this._t(n).add(e)),i&&(this.ke=this.ke.insert(n,i))}removeTarget(e){this.Be.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let n=this.Be.get(e);return n||(n=new gA,this.Be.set(e,n)),n}_t(e){let n=this.Qe.get(e);return n||(n=new Ri(Ht),this.Qe=this.Qe.insert(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Ri(Ht),this.qe=this.qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||Qe("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ut(e)}He(e){this.Be.set(e,new gA),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}ot(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function Bp(){return new Zn(ht.comparator)}function pA(){return new Zn(ht.comparator)}const lJ={asc:"ASCENDING",desc:"DESCENDING"},uJ={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},cJ={and:"AND",or:"OR"};class dJ{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function bS(t,e){return t.useProto3Json||bb(e)?e:{value:e}}function E_(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function uB(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function hJ(t,e){return E_(t,e.toTimestamp())}function Va(t){return fn(!!t),Pt.fromTimestamp(function(n){const i=Ll(n);return new At(i.seconds,i.nanos)}(t))}function $T(t,e){return wS(t,e).canonicalString()}function wS(t,e){const n=function(s){return new Bn(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function cB(t){const e=Bn.fromString(t);return fn(gB(e)),e}function xS(t,e){return $T(t.databaseId,e.path)}function D0(t,e){const n=cB(e);if(n.get(1)!==t.databaseId.projectId)throw new qe(Re.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new qe(Re.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ht(hB(n))}function dB(t,e){return $T(t.databaseId,e)}function fJ(t){const e=cB(t);return e.length===4?Bn.emptyPath():hB(e)}function SS(t){return new Bn(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function hB(t){return fn(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function vA(t,e,n){return{name:xS(t,e),fields:n.value.mapValue.fields}}function mJ(t,e){let n;if("targetChange"in e){e.targetChange;const i=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:wt()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],r=function(u,d){return u.useProto3Json?(fn(d===void 0||typeof d=="string"),ss.fromBase64String(d||"")):(fn(d===void 0||d instanceof Buffer||d instanceof Uint8Array),ss.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,o=a&&function(u){const d=u.code===void 0?Re.UNKNOWN:aB(u.code);return new qe(d,u.message||"")}(a);n=new lB(i,s,r,o||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const s=D0(t,i.document.name),r=Va(i.document.updateTime),a=i.document.createTime?Va(i.document.createTime):Pt.min(),o=new Ks({mapValue:{fields:i.document.fields}}),l=ys.newFoundDocument(s,r,a,o),u=i.targetIds||[],d=i.removedTargetIds||[];n=new Dv(u,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const s=D0(t,i.document),r=i.readTime?Va(i.readTime):Pt.min(),a=ys.newNoDocument(s,r),o=i.removedTargetIds||[];n=new Dv([],o,a.key,a)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const s=D0(t,i.document),r=i.removedTargetIds||[];n=new Dv([],r,s,null)}else{if(!("filter"in e))return wt();{e.filter;const i=e.filter;i.targetId;const{count:s=0,unchangedNames:r}=i,a=new iJ(s,r),o=i.targetId;n=new oB(o,a)}}return n}function gJ(t,e){let n;if(e instanceof Fg)n={update:vA(t,e.key,e.value)};else if(e instanceof Cb)n={delete:xS(t,e.key)};else if(e instanceof tu)n={update:vA(t,e.key,e.data),updateMask:kJ(e.fieldMask)};else{if(!(e instanceof eJ))return wt();n={verify:xS(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(i=>function(r,a){const o=a.transform;if(o instanceof P_)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Om)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Mm)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof C_)return{fieldPath:a.field.canonicalString(),increment:o.Pe};throw wt()}(0,i))),e.precondition.isNone||(n.currentDocument=function(s,r){return r.updateTime!==void 0?{updateTime:hJ(s,r.updateTime)}:r.exists!==void 0?{exists:r.exists}:wt()}(t,e.precondition)),n}function pJ(t,e){return t&&t.length>0?(fn(e!==void 0),t.map(n=>function(s,r){let a=s.updateTime?Va(s.updateTime):Va(r);return a.isEqual(Pt.min())&&(a=Va(r)),new QQ(a,s.transformResults||[])}(n,e))):[]}function vJ(t,e){return{documents:[dB(t,e.path)]}}function _J(t,e){const n={structuredQuery:{}},i=e.path;let s;e.collectionGroup!==null?(s=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=dB(t,s);const r=function(u){if(u.length!==0)return mB(ua.create(u,"and"))}(e.filters);r&&(n.structuredQuery.where=r);const a=function(u){if(u.length!==0)return u.map(d=>function(f){return{field:fd(f.field),direction:wJ(f.dir)}}(d))}(e.orderBy);a&&(n.structuredQuery.orderBy=a);const o=bS(t,e.limit);return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ct:n,parent:s}}function yJ(t){let e=fJ(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let s=null;if(i>0){fn(i===1);const d=n.from[0];d.allDescendants?s=d.collectionId:e=e.child(d.collectionId)}let r=[];n.where&&(r=function(c){const f=fB(c);return f instanceof ua&&HF(f)?f.getFilters():[f]}(n.where));let a=[];n.orderBy&&(a=function(c){return c.map(f=>function(p){return new Rm(md(p.field),function(v){switch(v){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(p.direction))}(f))}(n.orderBy));let o=null;n.limit&&(o=function(c){let f;return f=typeof c=="object"?c.value:c,bb(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(c){const f=!!c.before,h=c.values||[];return new T_(h,f)}(n.startAt));let u=null;return n.endAt&&(u=function(c){const f=!c.before,h=c.values||[];return new T_(h,f)}(n.endAt)),FQ(e,s,a,r,o,"F",l,u)}function bJ(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return wt()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function fB(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=md(n.unaryFilter.field);return yi.create(i,"==",{doubleValue:NaN});case"IS_NULL":const s=md(n.unaryFilter.field);return yi.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=md(n.unaryFilter.field);return yi.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=md(n.unaryFilter.field);return yi.create(a,"!=",{nullValue:"NULL_VALUE"});default:return wt()}}(t):t.fieldFilter!==void 0?function(n){return yi.create(md(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return wt()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return ua.create(n.compositeFilter.filters.map(i=>fB(i)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return wt()}}(n.compositeFilter.op))}(t):wt()}function wJ(t){return lJ[t]}function xJ(t){return uJ[t]}function SJ(t){return cJ[t]}function fd(t){return{fieldPath:t.canonicalString()}}function md(t){return ts.fromServerFormat(t.fieldPath)}function mB(t){return t instanceof yi?function(n){if(n.op==="=="){if(sA(n.value))return{unaryFilter:{field:fd(n.field),op:"IS_NAN"}};if(iA(n.value))return{unaryFilter:{field:fd(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(sA(n.value))return{unaryFilter:{field:fd(n.field),op:"IS_NOT_NAN"}};if(iA(n.value))return{unaryFilter:{field:fd(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:fd(n.field),op:xJ(n.op),value:n.value}}}(t):t instanceof ua?function(n){const i=n.getFilters().map(s=>mB(s));return i.length===1?i[0]:{compositeFilter:{op:SJ(n.op),filters:i}}}(t):wt()}function kJ(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function gB(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vl{constructor(e,n,i,s,r=Pt.min(),a=Pt.min(),o=ss.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=s,this.snapshotVersion=r,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=o,this.expectedCount=l}withSequenceNumber(e){return new vl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new vl(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new vl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new vl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TJ{constructor(e){this.ht=e}}function PJ(t){const e=yJ({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?yS(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CJ{constructor(){this.ln=new EJ}addToCollectionParentIndex(e,n){return this.ln.add(n),Oe.resolve()}getCollectionParents(e,n){return Oe.resolve(this.ln.getEntries(n))}addFieldIndex(e,n){return Oe.resolve()}deleteFieldIndex(e,n){return Oe.resolve()}deleteAllFieldIndexes(e){return Oe.resolve()}createTargetIndexes(e,n){return Oe.resolve()}getDocumentsMatchingTarget(e,n){return Oe.resolve(null)}getIndexType(e,n){return Oe.resolve(0)}getFieldIndexes(e,n){return Oe.resolve([])}getNextCollectionGroupToUpdate(e){return Oe.resolve(null)}getMinOffset(e,n){return Oe.resolve(Vl.min())}getMinOffsetFromCollectionGroup(e,n){return Oe.resolve(Vl.min())}updateCollectionGroup(e,n,i){return Oe.resolve()}updateIndexEntries(e,n){return Oe.resolve()}}class EJ{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),s=this.index[n]||new Ri(Bn.comparator),r=!s.has(i);return this.index[n]=s.add(i),r}has(e){const n=e.lastSegment(),i=e.popLast(),s=this.index[n];return s&&s.has(i)}getEntries(e){return(this.index[e]||new Ri(Bn.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _A={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Ws{static withCacheSize(e){return new Ws(e,Ws.DEFAULT_COLLECTION_PERCENTILE,Ws.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ws.DEFAULT_COLLECTION_PERCENTILE=10,Ws.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ws.DEFAULT=new Ws(41943040,Ws.DEFAULT_COLLECTION_PERCENTILE,Ws.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ws.DISABLED=new Ws(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eh{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new eh(0)}static Qn(){return new eh(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yA([t,e],[n,i]){const s=Ht(t,n);return s===0?Ht(e,i):s}class IJ{constructor(e){this.Gn=e,this.buffer=new Ri(yA),this.zn=0}jn(){return++this.zn}Hn(e){const n=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();yA(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class DJ{constructor(e,n,i){this.garbageCollector=e,this.asyncQueue=n,this.localStore=i,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){Qe("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Vh(n)?Qe("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await Mh(n)}await this.Yn(3e5)})}}class AJ{constructor(e,n){this.Zn=e,this.params=n}calculateTargetCount(e,n){return this.Zn.Xn(e).next(i=>Math.floor(n/100*i))}nthSequenceNumber(e,n){if(n===0)return Oe.resolve(yb.oe);const i=new IJ(n);return this.Zn.forEachTarget(e,s=>i.Hn(s.sequenceNumber)).next(()=>this.Zn.er(e,s=>i.Hn(s))).next(()=>i.maxValue)}removeTargets(e,n,i){return this.Zn.removeTargets(e,n,i)}removeOrphanedDocuments(e,n){return this.Zn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Qe("LruGarbageCollector","Garbage collection skipped; disabled"),Oe.resolve(_A)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(Qe("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),_A):this.tr(e,n))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,n){let i,s,r,a,o,l,u;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(c=>(c>this.params.maximumSequenceNumbersToCollect?(Qe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${c}`),s=this.params.maximumSequenceNumbersToCollect):s=c,a=Date.now(),this.nthSequenceNumber(e,s))).next(c=>(i=c,o=Date.now(),this.removeTargets(e,i,n))).next(c=>(r=c,l=Date.now(),this.removeOrphanedDocuments(e,i))).next(c=>(u=Date.now(),dd()<=Ft.DEBUG&&Qe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-d}ms
	Determined least recently used ${s} in `+(o-a)+`ms
	Removed ${r} targets in `+(l-o)+`ms
	Removed ${c} documents in `+(u-l)+`ms
Total Duration: ${u-d}ms`),Oe.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:r,documentsRemoved:c})))}}function RJ(t,e){return new AJ(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OJ{constructor(){this.changes=new Ac(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,ys.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?Oe.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MJ{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VJ{constructor(e,n,i,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=s}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(i=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(i!==null&&nm(i.mutation,s,fr.empty(),At.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.getLocalViewOfDocuments(e,i,Ut()).next(()=>i))}getLocalViewOfDocuments(e,n,i=Ut()){const s=Ou();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,i).next(r=>{let a=Af();return r.forEach((o,l)=>{a=a.insert(o,l.overlayedDocument)}),a}))}getOverlayedDocuments(e,n){const i=Ou();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,Ut()))}populateOverlays(e,n,i){const s=[];return i.forEach(r=>{n.has(r)||s.push(r)}),this.documentOverlayCache.getOverlays(e,s).next(r=>{r.forEach((a,o)=>{n.set(a,o)})})}computeViews(e,n,i,s){let r=Ao();const a=tm(),o=function(){return tm()}();return n.forEach((l,u)=>{const d=i.get(u.key);s.has(u.key)&&(d===void 0||d.mutation instanceof tu)?r=r.insert(u.key,u):d!==void 0?(a.set(u.key,d.mutation.getFieldMask()),nm(d.mutation,u,d.mutation.getFieldMask(),At.now())):a.set(u.key,fr.empty())}),this.recalculateAndSaveOverlays(e,r).next(l=>(l.forEach((u,d)=>a.set(u,d)),n.forEach((u,d)=>{var c;return o.set(u,new MJ(d,(c=a.get(u))!==null&&c!==void 0?c:null))}),o))}recalculateAndSaveOverlays(e,n){const i=tm();let s=new Zn((a,o)=>a-o),r=Ut();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(a=>{for(const o of a)o.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let d=i.get(l)||fr.empty();d=o.applyToLocalView(u,d),i.set(l,d);const c=(s.get(o.batchId)||Ut()).add(l);s=s.insert(o.batchId,c)})}).next(()=>{const a=[],o=s.getReverseIterator();for(;o.hasNext();){const l=o.getNext(),u=l.key,d=l.value,c=JF();d.forEach(f=>{if(!r.has(f)){const h=sB(n.get(f),i.get(f));h!==null&&c.set(f,h),r=r.add(f)}}),a.push(this.documentOverlayCache.saveOverlays(e,u,c))}return Oe.waitFor(a)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,n,i,s){return function(a){return ht.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):GF(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,s):this.getDocumentsMatchingCollectionQuery(e,n,i,s)}getNextDocuments(e,n,i,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,s).next(r=>{const a=s-r.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,s-r.size):Oe.resolve(Ou());let o=-1,l=r;return a.next(u=>Oe.forEach(u,(d,c)=>(o<c.largestBatchId&&(o=c.largestBatchId),r.get(d)?Oe.resolve():this.remoteDocumentCache.getEntry(e,d).next(f=>{l=l.insert(d,f)}))).next(()=>this.populateOverlays(e,u,r)).next(()=>this.computeViews(e,l,u,Ut())).next(d=>({batchId:o,changes:QF(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ht(n)).next(i=>{let s=Af();return i.isFoundDocument()&&(s=s.insert(i.key,i)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,i,s){const r=n.collectionGroup;let a=Af();return this.indexManager.getCollectionParents(e,r).next(o=>Oe.forEach(o,l=>{const u=function(c,f){return new Lh(f,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt)}(n,l.child(r));return this.getDocumentsMatchingCollectionQuery(e,u,i,s).next(d=>{d.forEach((c,f)=>{a=a.insert(c,f)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,n,i,s){let r;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next(a=>(r=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,r,s))).next(a=>{r.forEach((l,u)=>{const d=u.getKey();a.get(d)===null&&(a=a.insert(d,ys.newInvalidDocument(d)))});let o=Af();return a.forEach((l,u)=>{const d=r.get(l);d!==void 0&&nm(d.mutation,u,fr.empty(),At.now()),kb(n,u)&&(o=o.insert(l,u))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LJ{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,n){return Oe.resolve(this.Tr.get(n))}saveBundleMetadata(e,n){return this.Tr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:Va(s.createTime)}}(n)),Oe.resolve()}getNamedQuery(e,n){return Oe.resolve(this.Ir.get(n))}saveNamedQuery(e,n){return this.Ir.set(n.name,function(s){return{name:s.name,query:PJ(s.bundledQuery),readTime:Va(s.readTime)}}(n)),Oe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NJ{constructor(){this.overlays=new Zn(ht.comparator),this.Er=new Map}getOverlay(e,n){return Oe.resolve(this.overlays.get(n))}getOverlays(e,n){const i=Ou();return Oe.forEach(n,s=>this.getOverlay(e,s).next(r=>{r!==null&&i.set(s,r)})).next(()=>i)}saveOverlays(e,n,i){return i.forEach((s,r)=>{this.Tt(e,n,r)}),Oe.resolve()}removeOverlaysForBatchId(e,n,i){const s=this.Er.get(i);return s!==void 0&&(s.forEach(r=>this.overlays=this.overlays.remove(r)),this.Er.delete(i)),Oe.resolve()}getOverlaysForCollection(e,n,i){const s=Ou(),r=n.length+1,a=new ht(n.child("")),o=this.overlays.getIteratorFrom(a);for(;o.hasNext();){const l=o.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===r&&l.largestBatchId>i&&s.set(l.getKey(),l)}return Oe.resolve(s)}getOverlaysForCollectionGroup(e,n,i,s){let r=new Zn((u,d)=>u-d);const a=this.overlays.getIterator();for(;a.hasNext();){const u=a.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>i){let d=r.get(u.largestBatchId);d===null&&(d=Ou(),r=r.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const o=Ou(),l=r.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,d)=>o.set(u,d)),!(o.size()>=s)););return Oe.resolve(o)}Tt(e,n,i){const s=this.overlays.get(i.key);if(s!==null){const a=this.Er.get(s.largestBatchId).delete(i.key);this.Er.set(s.largestBatchId,a)}this.overlays=this.overlays.insert(i.key,new nJ(n,i));let r=this.Er.get(n);r===void 0&&(r=Ut(),this.Er.set(n,r)),this.Er.set(n,r.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FJ{constructor(){this.sessionToken=ss.EMPTY_BYTE_STRING}getSessionToken(e){return Oe.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Oe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UT{constructor(){this.dr=new Ri(Fi.Ar),this.Rr=new Ri(Fi.Vr)}isEmpty(){return this.dr.isEmpty()}addReference(e,n){const i=new Fi(e,n);this.dr=this.dr.add(i),this.Rr=this.Rr.add(i)}mr(e,n){e.forEach(i=>this.addReference(i,n))}removeReference(e,n){this.gr(new Fi(e,n))}pr(e,n){e.forEach(i=>this.removeReference(i,n))}yr(e){const n=new ht(new Bn([])),i=new Fi(n,e),s=new Fi(n,e+1),r=[];return this.Rr.forEachInRange([i,s],a=>{this.gr(a),r.push(a.key)}),r}wr(){this.dr.forEach(e=>this.gr(e))}gr(e){this.dr=this.dr.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const n=new ht(new Bn([])),i=new Fi(n,e),s=new Fi(n,e+1);let r=Ut();return this.Rr.forEachInRange([i,s],a=>{r=r.add(a.key)}),r}containsKey(e){const n=new Fi(e,0),i=this.dr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class Fi{constructor(e,n){this.key=e,this.br=n}static Ar(e,n){return ht.comparator(e.key,n.key)||Ht(e.br,n.br)}static Vr(e,n){return Ht(e.br,n.br)||ht.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BJ{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Dr=1,this.vr=new Ri(Fi.Ar)}checkEmpty(e){return Oe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,s){const r=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new tJ(r,n,i,s);this.mutationQueue.push(a);for(const o of s)this.vr=this.vr.add(new Fi(o.key,r)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return Oe.resolve(a)}lookupMutationBatch(e,n){return Oe.resolve(this.Cr(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,s=this.Fr(i),r=s<0?0:s;return Oe.resolve(this.mutationQueue.length>r?this.mutationQueue[r]:null)}getHighestUnacknowledgedBatchId(){return Oe.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return Oe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new Fi(n,0),s=new Fi(n,Number.POSITIVE_INFINITY),r=[];return this.vr.forEachInRange([i,s],a=>{const o=this.Cr(a.br);r.push(o)}),Oe.resolve(r)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new Ri(Ht);return n.forEach(s=>{const r=new Fi(s,0),a=new Fi(s,Number.POSITIVE_INFINITY);this.vr.forEachInRange([r,a],o=>{i=i.add(o.br)})}),Oe.resolve(this.Mr(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,s=i.length+1;let r=i;ht.isDocumentKey(r)||(r=r.child(""));const a=new Fi(new ht(r),0);let o=new Ri(Ht);return this.vr.forEachWhile(l=>{const u=l.key.path;return!!i.isPrefixOf(u)&&(u.length===s&&(o=o.add(l.br)),!0)},a),Oe.resolve(this.Mr(o))}Mr(e){const n=[];return e.forEach(i=>{const s=this.Cr(i);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){fn(this.Or(n.batchId,"removed")===0),this.mutationQueue.shift();let i=this.vr;return Oe.forEach(n.mutations,s=>{const r=new Fi(s.key,n.batchId);return i=i.delete(r),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.vr=i})}Ln(e){}containsKey(e,n){const i=new Fi(n,0),s=this.vr.firstAfterOrEqual(i);return Oe.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,Oe.resolve()}Or(e,n){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const n=this.Fr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jJ{constructor(e){this.Nr=e,this.docs=function(){return new Zn(ht.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,s=this.docs.get(i),r=s?s.size:0,a=this.Nr(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:a}),this.size+=a-r,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return Oe.resolve(i?i.document.mutableCopy():ys.newInvalidDocument(n))}getEntries(e,n){let i=Ao();return n.forEach(s=>{const r=this.docs.get(s);i=i.insert(s,r?r.document.mutableCopy():ys.newInvalidDocument(s))}),Oe.resolve(i)}getDocumentsMatchingQuery(e,n,i,s){let r=Ao();const a=n.path,o=new ht(a.child("")),l=this.docs.getIteratorFrom(o);for(;l.hasNext();){const{key:u,value:{document:d}}=l.getNext();if(!a.isPrefixOf(u.path))break;u.path.length>a.length+1||vQ(pQ(d),i)<=0||(s.has(d.key)||kb(n,d))&&(r=r.insert(d.key,d.mutableCopy()))}return Oe.resolve(r)}getAllFromCollectionGroup(e,n,i,s){wt()}Lr(e,n){return Oe.forEach(this.docs,i=>n(i))}newChangeBuffer(e){return new $J(this)}getSize(e){return Oe.resolve(this.size)}}class $J extends OJ{constructor(e){super(),this.hr=e}applyChanges(e){const n=[];return this.changes.forEach((i,s)=>{s.isValidDocument()?n.push(this.hr.addEntry(e,s)):this.hr.removeEntry(i)}),Oe.waitFor(n)}getFromCache(e,n){return this.hr.getEntry(e,n)}getAllFromCache(e,n){return this.hr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UJ{constructor(e){this.persistence=e,this.Br=new Ac(n=>LT(n),NT),this.lastRemoteSnapshotVersion=Pt.min(),this.highestTargetId=0,this.kr=0,this.qr=new UT,this.targetCount=0,this.Qr=eh.qn()}forEachTarget(e,n){return this.Br.forEach((i,s)=>n(s)),Oe.resolve()}getLastRemoteSnapshotVersion(e){return Oe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Oe.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),Oe.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.kr&&(this.kr=n),Oe.resolve()}Un(e){this.Br.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Qr=new eh(n),this.highestTargetId=n),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,n){return this.Un(n),this.targetCount+=1,Oe.resolve()}updateTargetData(e,n){return this.Un(n),Oe.resolve()}removeTargetData(e,n){return this.Br.delete(n.target),this.qr.yr(n.targetId),this.targetCount-=1,Oe.resolve()}removeTargets(e,n,i){let s=0;const r=[];return this.Br.forEach((a,o)=>{o.sequenceNumber<=n&&i.get(o.targetId)===null&&(this.Br.delete(a),r.push(this.removeMatchingKeysForTargetId(e,o.targetId)),s++)}),Oe.waitFor(r).next(()=>s)}getTargetCount(e){return Oe.resolve(this.targetCount)}getTargetData(e,n){const i=this.Br.get(n)||null;return Oe.resolve(i)}addMatchingKeys(e,n,i){return this.qr.mr(n,i),Oe.resolve()}removeMatchingKeys(e,n,i){this.qr.pr(n,i);const s=this.persistence.referenceDelegate,r=[];return s&&n.forEach(a=>{r.push(s.markPotentiallyOrphaned(e,a))}),Oe.waitFor(r)}removeMatchingKeysForTargetId(e,n){return this.qr.yr(n),Oe.resolve()}getMatchingKeysForTargetId(e,n){const i=this.qr.Sr(n);return Oe.resolve(i)}containsKey(e,n){return Oe.resolve(this.qr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pB{constructor(e,n){this.Kr={},this.overlays={},this.$r=new yb(0),this.Ur=!1,this.Ur=!0,this.Wr=new FJ,this.referenceDelegate=e(this),this.Gr=new UJ(this),this.indexManager=new CJ,this.remoteDocumentCache=function(s){return new jJ(s)}(i=>this.referenceDelegate.zr(i)),this.serializer=new TJ(n),this.jr=new LJ(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new NJ,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.Kr[e.toKey()];return i||(i=new BJ(n,this.referenceDelegate),this.Kr[e.toKey()]=i),i}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,n,i){Qe("MemoryPersistence","Starting transaction:",e);const s=new HJ(this.$r.next());return this.referenceDelegate.Hr(),i(s).next(r=>this.referenceDelegate.Jr(s).next(()=>r)).toPromise().then(r=>(s.raiseOnCommittedEvent(),r))}Yr(e,n){return Oe.or(Object.values(this.Kr).map(i=>()=>i.containsKey(e,n)))}}class HJ extends yQ{constructor(e){super(),this.currentSequenceNumber=e}}class HT{constructor(e){this.persistence=e,this.Zr=new UT,this.Xr=null}static ei(e){return new HT(e)}get ti(){if(this.Xr)return this.Xr;throw wt()}addReference(e,n,i){return this.Zr.addReference(i,n),this.ti.delete(i.toString()),Oe.resolve()}removeReference(e,n,i){return this.Zr.removeReference(i,n),this.ti.add(i.toString()),Oe.resolve()}markPotentiallyOrphaned(e,n){return this.ti.add(n.toString()),Oe.resolve()}removeTarget(e,n){this.Zr.yr(n.targetId).forEach(s=>this.ti.add(s.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(r=>this.ti.add(r.toString()))}).next(()=>i.removeTargetData(e,n))}Hr(){this.Xr=new Set}Jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Oe.forEach(this.ti,i=>{const s=ht.fromPath(i);return this.ni(e,s).next(r=>{r||n.removeEntry(s,Pt.min())})}).next(()=>(this.Xr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ni(e,n).next(i=>{i?this.ti.delete(n.toString()):this.ti.add(n.toString())})}zr(e){return 0}ni(e,n){return Oe.or([()=>Oe.resolve(this.Zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Yr(e,n)])}}class I_{constructor(e,n){this.persistence=e,this.ri=new Ac(i=>xQ(i.path),(i,s)=>i.isEqual(s)),this.garbageCollector=RJ(this,n)}static ei(e,n){return new I_(e,n)}Hr(){}Jr(e){return Oe.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}Xn(e){const n=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>n.next(s=>i+s))}nr(e){let n=0;return this.er(e,i=>{n++}).next(()=>n)}er(e,n){return Oe.forEach(this.ri,(i,s)=>this.ir(e,i,s).next(r=>r?Oe.resolve():n(s)))}removeTargets(e,n,i){return this.persistence.getTargetCache().removeTargets(e,n,i)}removeOrphanedDocuments(e,n){let i=0;const s=this.persistence.getRemoteDocumentCache(),r=s.newChangeBuffer();return s.Lr(e,a=>this.ir(e,a,n).next(o=>{o||(i++,r.removeEntry(a,Pt.min()))})).next(()=>r.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,n){return this.ri.set(n,e.currentSequenceNumber),Oe.resolve()}removeTarget(e,n){const i=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,n,i){return this.ri.set(i,e.currentSequenceNumber),Oe.resolve()}removeReference(e,n,i){return this.ri.set(i,e.currentSequenceNumber),Oe.resolve()}updateLimboDocument(e,n){return this.ri.set(n,e.currentSequenceNumber),Oe.resolve()}zr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Cv(e.data.value)),n}ir(e,n,i){return Oe.or([()=>this.persistence.Yr(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.ri.get(n);return Oe.resolve(s!==void 0&&s>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zT{constructor(e,n,i,s){this.targetId=e,this.fromCache=n,this.Wi=i,this.Gi=s}static zi(e,n){let i=Ut(),s=Ut();for(const r of n.docChanges)switch(r.type){case 0:i=i.add(r.doc.key);break;case 1:s=s.add(r.doc.key)}return new zT(e,n.fromCache,i,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zJ{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WJ{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return J8()?8:bQ(Ps())>0?6:4}()}initialize(e,n){this.Zi=e,this.indexManager=n,this.ji=!0}getDocumentsMatchingQuery(e,n,i,s){const r={result:null};return this.Xi(e,n).next(a=>{r.result=a}).next(()=>{if(!r.result)return this.es(e,n,s,i).next(a=>{r.result=a})}).next(()=>{if(r.result)return;const a=new zJ;return this.ts(e,n,a).next(o=>{if(r.result=o,this.Hi)return this.ns(e,n,a,o.size)})}).next(()=>r.result)}ns(e,n,i,s){return i.documentReadCount<this.Ji?(dd()<=Ft.DEBUG&&Qe("QueryEngine","SDK will not create cache indexes for query:",hd(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),Oe.resolve()):(dd()<=Ft.DEBUG&&Qe("QueryEngine","Query:",hd(n),"scans",i.documentReadCount,"local documents and returns",s,"documents as results."),i.documentReadCount>this.Yi*s?(dd()<=Ft.DEBUG&&Qe("QueryEngine","The SDK decides to create cache indexes for query:",hd(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ma(n))):Oe.resolve())}Xi(e,n){if(lA(n))return Oe.resolve(null);let i=Ma(n);return this.indexManager.getIndexType(e,i).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=yS(n,null,"F"),i=Ma(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next(r=>{const a=Ut(...r);return this.Zi.getDocuments(e,a).next(o=>this.indexManager.getMinOffset(e,i).next(l=>{const u=this.rs(n,o);return this.ss(n,u,a,l.readTime)?this.Xi(e,yS(n,null,"F")):this.os(e,u,n,l)}))})))}es(e,n,i,s){return lA(n)||s.isEqual(Pt.min())?Oe.resolve(null):this.Zi.getDocuments(e,i).next(r=>{const a=this.rs(n,r);return this.ss(n,a,i,s)?Oe.resolve(null):(dd()<=Ft.DEBUG&&Qe("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),hd(n)),this.os(e,a,n,gQ(s,-1)).next(o=>o))})}rs(e,n){let i=new Ri(XF(e));return n.forEach((s,r)=>{kb(e,r)&&(i=i.add(r))}),i}ss(e,n,i,s){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const r=e.limitType==="F"?n.last():n.first();return!!r&&(r.hasPendingWrites||r.version.compareTo(s)>0)}ts(e,n,i){return dd()<=Ft.DEBUG&&Qe("QueryEngine","Using full collection scan to execute query:",hd(n)),this.Zi.getDocumentsMatchingQuery(e,n,Vl.min(),i)}os(e,n,i,s){return this.Zi.getDocumentsMatchingQuery(e,i,s).next(r=>(n.forEach(a=>{r=r.insert(a.key,a)}),r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YJ{constructor(e,n,i,s){this.persistence=e,this._s=n,this.serializer=s,this.us=new Zn(Ht),this.cs=new Ac(r=>LT(r),NT),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(i)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new VJ(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.us))}}function GJ(t,e,n,i){return new YJ(t,e,n,i)}async function vB(t,e){const n=Et(t);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let s;return n.mutationQueue.getAllMutationBatches(i).next(r=>(s=r,n.Ps(e),n.mutationQueue.getAllMutationBatches(i))).next(r=>{const a=[],o=[];let l=Ut();for(const u of s){a.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}for(const u of r){o.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(i,l).next(u=>({Ts:u,removedBatchIds:a,addedBatchIds:o}))})})}function qJ(t,e){const n=Et(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const s=e.batch.keys(),r=n.hs.newChangeBuffer({trackRemovals:!0});return function(o,l,u,d){const c=u.batch,f=c.keys();let h=Oe.resolve();return f.forEach(p=>{h=h.next(()=>d.getEntry(l,p)).next(g=>{const v=u.docVersions.get(p);fn(v!==null),g.version.compareTo(v)<0&&(c.applyToRemoteDocument(g,u),g.isValidDocument()&&(g.setReadTime(u.commitVersion),d.addEntry(g)))})}),h.next(()=>o.mutationQueue.removeMutationBatch(l,c))}(n,i,e,r).next(()=>r.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(o){let l=Ut();for(let u=0;u<o.mutationResults.length;++u)o.mutationResults[u].transformResults.length>0&&(l=l.add(o.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(i,s))})}function _B(t){const e=Et(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Gr.getLastRemoteSnapshotVersion(n))}function XJ(t,e){const n=Et(t),i=e.snapshotVersion;let s=n.us;return n.persistence.runTransaction("Apply remote event","readwrite-primary",r=>{const a=n.hs.newChangeBuffer({trackRemovals:!0});s=n.us;const o=[];e.targetChanges.forEach((d,c)=>{const f=s.get(c);if(!f)return;o.push(n.Gr.removeMatchingKeys(r,d.removedDocuments,c).next(()=>n.Gr.addMatchingKeys(r,d.addedDocuments,c)));let h=f.withSequenceNumber(r.currentSequenceNumber);e.targetMismatches.get(c)!==null?h=h.withResumeToken(ss.EMPTY_BYTE_STRING,Pt.min()).withLastLimboFreeSnapshotVersion(Pt.min()):d.resumeToken.approximateByteSize()>0&&(h=h.withResumeToken(d.resumeToken,i)),s=s.insert(c,h),function(g,v,_){return g.resumeToken.approximateByteSize()===0||v.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=3e8?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0}(f,h,d)&&o.push(n.Gr.updateTargetData(r,h))});let l=Ao(),u=Ut();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(r,d))}),o.push(KJ(r,a,e.documentUpdates).next(d=>{l=d.Is,u=d.Es})),!i.isEqual(Pt.min())){const d=n.Gr.getLastRemoteSnapshotVersion(r).next(c=>n.Gr.setTargetsMetadata(r,r.currentSequenceNumber,i));o.push(d)}return Oe.waitFor(o).next(()=>a.apply(r)).next(()=>n.localDocuments.getLocalViewOfDocuments(r,l,u)).next(()=>l)}).then(r=>(n.us=s,r))}function KJ(t,e,n){let i=Ut(),s=Ut();return n.forEach(r=>i=i.add(r)),e.getEntries(t,i).next(r=>{let a=Ao();return n.forEach((o,l)=>{const u=r.get(o);l.isFoundDocument()!==u.isFoundDocument()&&(s=s.add(o)),l.isNoDocument()&&l.version.isEqual(Pt.min())?(e.removeEntry(o,l.readTime),a=a.insert(o,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),a=a.insert(o,l)):Qe("LocalStore","Ignoring outdated watch update for ",o,". Current version:",u.version," Watch version:",l.version)}),{Is:a,Es:s}})}function QJ(t,e){const n=Et(t);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function JJ(t,e){const n=Et(t);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let s;return n.Gr.getTargetData(i,e).next(r=>r?(s=r,Oe.resolve(s)):n.Gr.allocateTargetId(i).next(a=>(s=new vl(e,a,"TargetPurposeListen",i.currentSequenceNumber),n.Gr.addTargetData(i,s).next(()=>s))))}).then(i=>{const s=n.us.get(i.targetId);return(s===null||i.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.us=n.us.insert(i.targetId,i),n.cs.set(e,i.targetId)),i})}async function kS(t,e,n){const i=Et(t),s=i.us.get(e),r=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",r,a=>i.persistence.referenceDelegate.removeTarget(a,s))}catch(a){if(!Vh(a))throw a;Qe("LocalStore",`Failed to update sequence numbers for target ${e}: ${a}`)}i.us=i.us.remove(e),i.cs.delete(s.target)}function bA(t,e,n){const i=Et(t);let s=Pt.min(),r=Ut();return i.persistence.runTransaction("Execute query","readwrite",a=>function(l,u,d){const c=Et(l),f=c.cs.get(d);return f!==void 0?Oe.resolve(c.us.get(f)):c.Gr.getTargetData(u,d)}(i,a,Ma(e)).next(o=>{if(o)return s=o.lastLimboFreeSnapshotVersion,i.Gr.getMatchingKeysForTargetId(a,o.targetId).next(l=>{r=l})}).next(()=>i._s.getDocumentsMatchingQuery(a,e,n?s:Pt.min(),n?r:Ut())).next(o=>(ZJ(i,jQ(e),o),{documents:o,ds:r})))}function ZJ(t,e,n){let i=t.ls.get(e)||Pt.min();n.forEach((s,r)=>{r.readTime.compareTo(i)>0&&(i=r.readTime)}),t.ls.set(e,i)}class wA{constructor(){this.activeTargetIds=YQ()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class eZ{constructor(){this._o=new wA,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,n,i){this.ao[e]=n}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new wA,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tZ{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xA{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){Qe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){Qe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jp=null;function A0(){return jp===null?jp=function(){return 268435456+Math.round(2147483648*Math.random())}():jp++,"0x"+jp.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nZ={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iZ{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hs="WebChannelConnection";class sZ extends class{get Co(){return!1}constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const i=n.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Fo=i+"://"+n.host,this.Mo=`projects/${s}/databases/${r}`,this.xo=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${r}`}Oo(n,i,s,r,a){const o=A0(),l=this.No(n,i.toUriEncodedString());Qe("RestConnection",`Sending RPC '${n}' ${o}:`,l,s);const u={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Lo(u,r,a),this.Bo(n,l,u,s).then(d=>(Qe("RestConnection",`Received RPC '${n}' ${o}: `,d),d),d=>{throw Kd("RestConnection",`RPC '${n}' ${o} failed with error: `,d,"url: ",l,"request:",s),d})}ko(n,i,s,r,a,o){return this.Oo(n,i,s,r,a)}Lo(n,i,s){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Oh}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((r,a)=>n[a]=r),s&&s.headers.forEach((r,a)=>n[a]=r)}No(n,i){const s=nZ[n];return`${this.Fo}/v1/${i}:${s}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Bo(e,n,i,s){const r=A0();return new Promise((a,o)=>{const l=new AF;l.setWithCredentials(!0),l.listenOnce(RF.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Pv.NO_ERROR:const d=l.getResponseJson();Qe(hs,`XHR for RPC '${e}' ${r} received:`,JSON.stringify(d)),a(d);break;case Pv.TIMEOUT:Qe(hs,`RPC '${e}' ${r} timed out`),o(new qe(Re.DEADLINE_EXCEEDED,"Request time out"));break;case Pv.HTTP_ERROR:const c=l.getStatus();if(Qe(hs,`RPC '${e}' ${r} failed with status:`,c,"response text:",l.getResponseText()),c>0){let f=l.getResponseJson();Array.isArray(f)&&(f=f[0]);const h=f==null?void 0:f.error;if(h&&h.status&&h.message){const p=function(v){const _=v.toLowerCase().replace(/_/g,"-");return Object.values(Re).indexOf(_)>=0?_:Re.UNKNOWN}(h.status);o(new qe(p,h.message))}else o(new qe(Re.UNKNOWN,"Server responded with status "+l.getStatus()))}else o(new qe(Re.UNAVAILABLE,"Connection failed."));break;default:wt()}}finally{Qe(hs,`RPC '${e}' ${r} completed.`)}});const u=JSON.stringify(s);Qe(hs,`RPC '${e}' ${r} sending request:`,s),l.send(n,"POST",u,i,15)})}qo(e,n,i){const s=A0(),r=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=VF(),o=MF(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Lo(l.initMessageHeaders,n,i),l.encodeInitMessageHeaders=!0;const d=r.join("");Qe(hs,`Creating RPC '${e}' stream ${s}: ${d}`,l);const c=a.createWebChannel(d,l);let f=!1,h=!1;const p=new iZ({Eo:v=>{h?Qe(hs,`Not sending because RPC '${e}' stream ${s} is closed:`,v):(f||(Qe(hs,`Opening RPC '${e}' stream ${s} transport.`),c.open(),f=!0),Qe(hs,`RPC '${e}' stream ${s} sending:`,v),c.send(v))},Ao:()=>c.close()}),g=(v,_,b)=>{v.listen(_,x=>{try{b(x)}catch(k){setTimeout(()=>{throw k},0)}})};return g(c,Df.EventType.OPEN,()=>{h||(Qe(hs,`RPC '${e}' stream ${s} transport opened.`),p.So())}),g(c,Df.EventType.CLOSE,()=>{h||(h=!0,Qe(hs,`RPC '${e}' stream ${s} transport closed`),p.Do())}),g(c,Df.EventType.ERROR,v=>{h||(h=!0,Kd(hs,`RPC '${e}' stream ${s} transport errored:`,v),p.Do(new qe(Re.UNAVAILABLE,"The operation could not be completed")))}),g(c,Df.EventType.MESSAGE,v=>{var _;if(!h){const b=v.data[0];fn(!!b);const x=b,k=(x==null?void 0:x.error)||((_=x[0])===null||_===void 0?void 0:_.error);if(k){Qe(hs,`RPC '${e}' stream ${s} received error:`,k);const I=k.status;let E=function(w){const P=vi[w];if(P!==void 0)return aB(P)}(I),T=k.message;E===void 0&&(E=Re.INTERNAL,T="Unknown error status: "+I+" with message "+k.message),h=!0,p.Do(new qe(E,T)),c.close()}else Qe(hs,`RPC '${e}' stream ${s} received:`,b),p.vo(b)}}),g(o,OF.STAT_EVENT,v=>{v.stat===fS.PROXY?Qe(hs,`RPC '${e}' stream ${s} detected buffering proxy`):v.stat===fS.NOPROXY&&Qe(hs,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{p.bo()},0),p}}function R0(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ib(t){return new dJ(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yB{constructor(e,n,i=1e3,s=1.5,r=6e4){this.li=e,this.timerId=n,this.Qo=i,this.Ko=s,this.$o=r,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const n=Math.floor(this.Uo+this.Ho()),i=Math.max(0,Date.now()-this.Go),s=Math.max(0,n-i);s>0&&Qe("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Uo} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,s,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bB{constructor(e,n,i,s,r,a,o,l){this.li=e,this.Yo=i,this.Zo=s,this.connection=r,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=o,this.listener=l,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new yB(e,n)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,n){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():n&&n.code===Re.RESOURCE_EXHAUSTED?(Do(n.toString()),Do("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):n&&n.code===Re.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(n)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),n=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,s])=>{this.Xo===n&&this.I_(i,s)},i=>{e(()=>{const s=new qe(Re.UNKNOWN,"Fetching auth token failed: "+i.message);return this.E_(s)})})}I_(e,n){const i=this.T_(this.Xo);this.stream=this.d_(e,n),this.stream.Ro(()=>{i(()=>this.listener.Ro())}),this.stream.mo(()=>{i(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(s=>{i(()=>this.E_(s))}),this.stream.onMessage(s=>{i(()=>++this.n_==1?this.A_(s):this.onNext(s))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}E_(e){return Qe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return n=>{this.li.enqueueAndForget(()=>this.Xo===e?n():(Qe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class rZ extends bB{constructor(e,n,i,s,r,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,s,a),this.serializer=r}d_(e,n){return this.connection.qo("Listen",e,n)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const n=mJ(this.serializer,e),i=function(r){if(!("targetChange"in r))return Pt.min();const a=r.targetChange;return a.targetIds&&a.targetIds.length?Pt.min():a.readTime?Va(a.readTime):Pt.min()}(e);return this.listener.R_(n,i)}V_(e){const n={};n.database=SS(this.serializer),n.addTarget=function(r,a){let o;const l=a.target;if(o=vS(l)?{documents:vJ(r,l)}:{query:_J(r,l).ct},o.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){o.resumeToken=uB(r,a.resumeToken);const u=bS(r,a.expectedCount);u!==null&&(o.expectedCount=u)}else if(a.snapshotVersion.compareTo(Pt.min())>0){o.readTime=E_(r,a.snapshotVersion.toTimestamp());const u=bS(r,a.expectedCount);u!==null&&(o.expectedCount=u)}return o}(this.serializer,e);const i=bJ(this.serializer,e);i&&(n.labels=i),this.c_(n)}m_(e){const n={};n.database=SS(this.serializer),n.removeTarget=e,this.c_(n)}}class aZ extends bB{constructor(e,n,i,s,r,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,s,a),this.serializer=r}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}d_(e,n){return this.connection.qo("Write",e,n)}A_(e){return fn(!!e.streamToken),this.lastStreamToken=e.streamToken,fn(!e.writeResults||e.writeResults.length===0),this.listener.p_()}onNext(e){fn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();const n=pJ(e.writeResults,e.commitTime),i=Va(e.commitTime);return this.listener.y_(i,n)}w_(){const e={};e.database=SS(this.serializer),this.c_(e)}g_(e){const n={streamToken:this.lastStreamToken,writes:e.map(i=>gJ(this.serializer,i))};this.c_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oZ extends class{}{constructor(e,n,i,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=s,this.S_=!1}b_(){if(this.S_)throw new qe(Re.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,n,i,s){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,a])=>this.connection.Oo(e,wS(n,i),s,r,a)).catch(r=>{throw r.name==="FirebaseError"?(r.code===Re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new qe(Re.UNKNOWN,r.toString())})}ko(e,n,i,s,r){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,o])=>this.connection.ko(e,wS(n,i),s,a,o,r)).catch(a=>{throw a.name==="FirebaseError"?(a.code===Re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new qe(Re.UNKNOWN,a.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class lZ{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(Do(n),this.C_=!1):Qe("OnlineStateTracker",n)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uZ{constructor(e,n,i,s,r){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.L_=[],this.B_=new Map,this.k_=new Set,this.q_=[],this.Q_=r,this.Q_.uo(a=>{i.enqueueAndForget(async()=>{Rc(this)&&(Qe("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=Et(l);u.k_.add(4),await jg(u),u.K_.set("Unknown"),u.k_.delete(4),await Db(u)}(this))})}),this.K_=new lZ(i,s)}}async function Db(t){if(Rc(t))for(const e of t.q_)await e(!0)}async function jg(t){for(const e of t.q_)await e(!1)}function wB(t,e){const n=Et(t);n.B_.has(e.targetId)||(n.B_.set(e.targetId,e),qT(n)?GT(n):Nh(n).s_()&&YT(n,e))}function WT(t,e){const n=Et(t),i=Nh(n);n.B_.delete(e),i.s_()&&xB(n,e),n.B_.size===0&&(i.s_()?i.a_():Rc(n)&&n.K_.set("Unknown"))}function YT(t,e){if(t.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Pt.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Nh(t).V_(e)}function xB(t,e){t.U_.xe(e),Nh(t).m_(e)}function GT(t){t.U_=new oJ({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>t.B_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),Nh(t).start(),t.K_.F_()}function qT(t){return Rc(t)&&!Nh(t).i_()&&t.B_.size>0}function Rc(t){return Et(t).k_.size===0}function SB(t){t.U_=void 0}async function cZ(t){t.K_.set("Online")}async function dZ(t){t.B_.forEach((e,n)=>{YT(t,e)})}async function hZ(t,e){SB(t),qT(t)?(t.K_.O_(e),GT(t)):t.K_.set("Unknown")}async function fZ(t,e,n){if(t.K_.set("Online"),e instanceof lB&&e.state===2&&e.cause)try{await async function(s,r){const a=r.cause;for(const o of r.targetIds)s.B_.has(o)&&(await s.remoteSyncer.rejectListen(o,a),s.B_.delete(o),s.U_.removeTarget(o))}(t,e)}catch(i){Qe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),await D_(t,i)}else if(e instanceof Dv?t.U_.$e(e):e instanceof oB?t.U_.Je(e):t.U_.Ge(e),!n.isEqual(Pt.min()))try{const i=await _B(t.localStore);n.compareTo(i)>=0&&await function(r,a){const o=r.U_.it(a);return o.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const d=r.B_.get(u);d&&r.B_.set(u,d.withResumeToken(l.resumeToken,a))}}),o.targetMismatches.forEach((l,u)=>{const d=r.B_.get(l);if(!d)return;r.B_.set(l,d.withResumeToken(ss.EMPTY_BYTE_STRING,d.snapshotVersion)),xB(r,l);const c=new vl(d.target,l,u,d.sequenceNumber);YT(r,c)}),r.remoteSyncer.applyRemoteEvent(o)}(t,n)}catch(i){Qe("RemoteStore","Failed to raise snapshot:",i),await D_(t,i)}}async function D_(t,e,n){if(!Vh(e))throw e;t.k_.add(1),await jg(t),t.K_.set("Offline"),n||(n=()=>_B(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Qe("RemoteStore","Retrying IndexedDB access"),await n(),t.k_.delete(1),await Db(t)})}function kB(t,e){return e().catch(n=>D_(t,n,e))}async function Ab(t){const e=Et(t),n=Bl(e);let i=e.L_.length>0?e.L_[e.L_.length-1].batchId:-1;for(;mZ(e);)try{const s=await QJ(e.localStore,i);if(s===null){e.L_.length===0&&n.a_();break}i=s.batchId,gZ(e,s)}catch(s){await D_(e,s)}TB(e)&&PB(e)}function mZ(t){return Rc(t)&&t.L_.length<10}function gZ(t,e){t.L_.push(e);const n=Bl(t);n.s_()&&n.f_&&n.g_(e.mutations)}function TB(t){return Rc(t)&&!Bl(t).i_()&&t.L_.length>0}function PB(t){Bl(t).start()}async function pZ(t){Bl(t).w_()}async function vZ(t){const e=Bl(t);for(const n of t.L_)e.g_(n.mutations)}async function _Z(t,e,n){const i=t.L_.shift(),s=BT.from(i,e,n);await kB(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Ab(t)}async function yZ(t,e){e&&Bl(t).f_&&await async function(i,s){if(function(a){return sJ(a)&&a!==Re.ABORTED}(s.code)){const r=i.L_.shift();Bl(i).__(),await kB(i,()=>i.remoteSyncer.rejectFailedWrite(r.batchId,s)),await Ab(i)}}(t,e),TB(t)&&PB(t)}async function SA(t,e){const n=Et(t);n.asyncQueue.verifyOperationInProgress(),Qe("RemoteStore","RemoteStore received new credentials");const i=Rc(n);n.k_.add(3),await jg(n),i&&n.K_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.k_.delete(3),await Db(n)}async function bZ(t,e){const n=Et(t);e?(n.k_.delete(2),await Db(n)):e||(n.k_.add(2),await jg(n),n.K_.set("Unknown"))}function Nh(t){return t.W_||(t.W_=function(n,i,s){const r=Et(n);return r.b_(),new rZ(i,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,s)}(t.datastore,t.asyncQueue,{Ro:cZ.bind(null,t),mo:dZ.bind(null,t),po:hZ.bind(null,t),R_:fZ.bind(null,t)}),t.q_.push(async e=>{e?(t.W_.__(),qT(t)?GT(t):t.K_.set("Unknown")):(await t.W_.stop(),SB(t))})),t.W_}function Bl(t){return t.G_||(t.G_=function(n,i,s){const r=Et(n);return r.b_(),new aZ(i,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,s)}(t.datastore,t.asyncQueue,{Ro:()=>Promise.resolve(),mo:pZ.bind(null,t),po:yZ.bind(null,t),p_:vZ.bind(null,t),y_:_Z.bind(null,t)}),t.q_.push(async e=>{e?(t.G_.__(),await Ab(t)):(await t.G_.stop(),t.L_.length>0&&(Qe("RemoteStore",`Stopping write stream with ${t.L_.length} pending writes`),t.L_=[]))})),t.G_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XT{constructor(e,n,i,s,r){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=s,this.removalCallback=r,this.deferred=new So,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,s,r){const a=Date.now()+i,o=new XT(e,n,a,s,r);return o.start(i),o}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new qe(Re.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function KT(t,e){if(Do("AsyncQueue",`${e}: ${t}`),Vh(t))return new qe(Re.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nd{static emptySet(e){return new Nd(e.comparator)}constructor(e){this.comparator=e?(n,i)=>e(n,i)||ht.comparator(n.key,i.key):(n,i)=>ht.comparator(n.key,i.key),this.keyedMap=Af(),this.sortedSet=new Zn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,i)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Nd)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,r=i.getNext().key;if(!s.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new Nd;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kA{constructor(){this.z_=new Zn(ht.comparator)}track(e){const n=e.doc.key,i=this.z_.get(n);i?e.type!==0&&i.type===3?this.z_=this.z_.insert(n,e):e.type===3&&i.type!==1?this.z_=this.z_.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.z_=this.z_.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.z_=this.z_.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.z_=this.z_.remove(n):e.type===1&&i.type===2?this.z_=this.z_.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.z_=this.z_.insert(n,{type:2,doc:e.doc}):wt():this.z_=this.z_.insert(n,e)}j_(){const e=[];return this.z_.inorderTraversal((n,i)=>{e.push(i)}),e}}class th{constructor(e,n,i,s,r,a,o,l,u){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=s,this.mutatedKeys=r,this.fromCache=a,this.syncStateChanged=o,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,i,s,r){const a=[];return n.forEach(o=>{a.push({type:0,doc:o})}),new th(e,n,Nd.emptySet(n),a,i,s,!0,!1,r)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Sb(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==i[s].type||!n[s].doc.isEqual(i[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wZ{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}}class xZ{constructor(){this.queries=TA(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(n,i){const s=Et(n),r=s.queries;s.queries=TA(),r.forEach((a,o)=>{for(const l of o.J_)l.onError(i)})})(this,new qe(Re.ABORTED,"Firestore shutting down"))}}function TA(){return new Ac(t=>qF(t),Sb)}async function QT(t,e){const n=Et(t);let i=3;const s=e.query;let r=n.queries.get(s);r?!r.Y_()&&e.Z_()&&(i=2):(r=new wZ,i=e.Z_()?0:1);try{switch(i){case 0:r.H_=await n.onListen(s,!0);break;case 1:r.H_=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(a){const o=KT(a,`Initialization of query '${hd(e.query)}' failed`);return void e.onError(o)}n.queries.set(s,r),r.J_.push(e),e.ea(n.onlineState),r.H_&&e.ta(r.H_)&&ZT(n)}async function JT(t,e){const n=Et(t),i=e.query;let s=3;const r=n.queries.get(i);if(r){const a=r.J_.indexOf(e);a>=0&&(r.J_.splice(a,1),r.J_.length===0?s=e.Z_()?0:1:!r.Y_()&&e.Z_()&&(s=2))}switch(s){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function SZ(t,e){const n=Et(t);let i=!1;for(const s of e){const r=s.query,a=n.queries.get(r);if(a){for(const o of a.J_)o.ta(s)&&(i=!0);a.H_=s}}i&&ZT(n)}function kZ(t,e,n){const i=Et(t),s=i.queries.get(e);if(s)for(const r of s.J_)r.onError(n);i.queries.delete(e)}function ZT(t){t.X_.forEach(e=>{e.next()})}var TS,PA;(PA=TS||(TS={})).na="default",PA.Cache="cache";class eP{constructor(e,n,i){this.query=e,this.ra=n,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=i||{}}ta(e){if(!this.options.includeMetadataChanges){const i=[];for(const s of e.docChanges)s.type!==3&&i.push(s);e=new th(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ia?this.oa(e)&&(this.ra.next(e),n=!0):this._a(e,this.onlineState)&&(this.aa(e),n=!0),this.sa=e,n}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let n=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),n=!0),n}_a(e,n){if(!e.fromCache||!this.Z_())return!0;const i=n!=="Offline";return(!this.options.ua||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}oa(e){if(e.docChanges.length>0)return!0;const n=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}aa(e){e=th.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==TS.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CB{constructor(e){this.key=e}}class EB{constructor(e){this.key=e}}class TZ{constructor(e,n){this.query=e,this.da=n,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=Ut(),this.mutatedKeys=Ut(),this.Va=XF(e),this.ma=new Nd(this.Va)}get fa(){return this.da}ga(e,n){const i=n?n.pa:new kA,s=n?n.ma:this.ma;let r=n?n.mutatedKeys:this.mutatedKeys,a=s,o=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,u=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((d,c)=>{const f=s.get(d),h=kb(this.query,c)?c:null,p=!!f&&this.mutatedKeys.has(f.key),g=!!h&&(h.hasLocalMutations||this.mutatedKeys.has(h.key)&&h.hasCommittedMutations);let v=!1;f&&h?f.data.isEqual(h.data)?p!==g&&(i.track({type:3,doc:h}),v=!0):this.ya(f,h)||(i.track({type:2,doc:h}),v=!0,(l&&this.Va(h,l)>0||u&&this.Va(h,u)<0)&&(o=!0)):!f&&h?(i.track({type:0,doc:h}),v=!0):f&&!h&&(i.track({type:1,doc:f}),v=!0,(l||u)&&(o=!0)),v&&(h?(a=a.add(h),r=g?r.add(d):r.delete(d)):(a=a.delete(d),r=r.delete(d)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const d=this.query.limitType==="F"?a.last():a.first();a=a.delete(d.key),r=r.delete(d.key),i.track({type:1,doc:d})}return{ma:a,pa:i,ss:o,mutatedKeys:r}}ya(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,s){const r=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const a=e.pa.j_();a.sort((d,c)=>function(h,p){const g=v=>{switch(v){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return wt()}};return g(h)-g(p)}(d.type,c.type)||this.Va(d.doc,c.doc)),this.wa(i),s=s!=null&&s;const o=n&&!s?this.Sa():[],l=this.Ra.size===0&&this.current&&!s?1:0,u=l!==this.Aa;return this.Aa=l,a.length!==0||u?{snapshot:new th(this.query,e.ma,r,a,e.mutatedKeys,l===0,u,!1,!!i&&i.resumeToken.approximateByteSize()>0),ba:o}:{ba:o}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new kA,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.da.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(n=>this.da=this.da.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.da=this.da.delete(n)),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=Ut(),this.ma.forEach(i=>{this.Da(i.key)&&(this.Ra=this.Ra.add(i.key))});const n=[];return e.forEach(i=>{this.Ra.has(i)||n.push(new EB(i))}),this.Ra.forEach(i=>{e.has(i)||n.push(new CB(i))}),n}va(e){this.da=e.ds,this.Ra=Ut();const n=this.ga(e.documents);return this.applyChanges(n,!0)}Ca(){return th.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class PZ{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class CZ{constructor(e){this.key=e,this.Fa=!1}}class EZ{constructor(e,n,i,s,r,a){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=s,this.currentUser=r,this.maxConcurrentLimboResolutions=a,this.Ma={},this.xa=new Ac(o=>qF(o),Sb),this.Oa=new Map,this.Na=new Set,this.La=new Zn(ht.comparator),this.Ba=new Map,this.ka=new UT,this.qa={},this.Qa=new Map,this.Ka=eh.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function IZ(t,e,n=!0){const i=MB(t);let s;const r=i.xa.get(e);return r?(i.sharedClientState.addLocalQueryTarget(r.targetId),s=r.view.Ca()):s=await IB(i,e,n,!0),s}async function DZ(t,e){const n=MB(t);await IB(n,e,!0,!1)}async function IB(t,e,n,i){const s=await JJ(t.localStore,Ma(e)),r=s.targetId,a=t.sharedClientState.addLocalQueryTarget(r,n);let o;return i&&(o=await AZ(t,e,r,a==="current",s.resumeToken)),t.isPrimaryClient&&n&&wB(t.remoteStore,s),o}async function AZ(t,e,n,i,s){t.Ua=(c,f,h)=>async function(g,v,_,b){let x=v.view.ga(_);x.ss&&(x=await bA(g.localStore,v.query,!1).then(({documents:T})=>v.view.ga(T,x)));const k=b&&b.targetChanges.get(v.targetId),I=b&&b.targetMismatches.get(v.targetId)!=null,E=v.view.applyChanges(x,g.isPrimaryClient,k,I);return EA(g,v.targetId,E.ba),E.snapshot}(t,c,f,h);const r=await bA(t.localStore,e,!0),a=new TZ(e,r.ds),o=a.ga(r.documents),l=Bg.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",s),u=a.applyChanges(o,t.isPrimaryClient,l);EA(t,n,u.ba);const d=new PZ(e,n,a);return t.xa.set(e,d),t.Oa.has(n)?t.Oa.get(n).push(e):t.Oa.set(n,[e]),u.snapshot}async function RZ(t,e,n){const i=Et(t),s=i.xa.get(e),r=i.Oa.get(s.targetId);if(r.length>1)return i.Oa.set(s.targetId,r.filter(a=>!Sb(a,e))),void i.xa.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(s.targetId),i.sharedClientState.isActiveQueryTarget(s.targetId)||await kS(i.localStore,s.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(s.targetId),n&&WT(i.remoteStore,s.targetId),PS(i,s.targetId)}).catch(Mh)):(PS(i,s.targetId),await kS(i.localStore,s.targetId,!0))}async function OZ(t,e){const n=Et(t),i=n.xa.get(e),s=n.Oa.get(i.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),WT(n.remoteStore,i.targetId))}async function MZ(t,e,n){const i=$Z(t);try{const s=await function(a,o){const l=Et(a),u=At.now(),d=o.reduce((h,p)=>h.add(p.key),Ut());let c,f;return l.persistence.runTransaction("Locally write mutations","readwrite",h=>{let p=Ao(),g=Ut();return l.hs.getEntries(h,d).next(v=>{p=v,p.forEach((_,b)=>{b.isValidDocument()||(g=g.add(_))})}).next(()=>l.localDocuments.getOverlayedDocuments(h,p)).next(v=>{c=v;const _=[];for(const b of o){const x=ZQ(b,c.get(b.key).overlayedDocument);x!=null&&_.push(new tu(b.key,x,jF(x.value.mapValue),Js.exists(!0)))}return l.mutationQueue.addMutationBatch(h,u,_,o)}).next(v=>{f=v;const _=v.applyToLocalDocumentSet(c,g);return l.documentOverlayCache.saveOverlays(h,v.batchId,_)})}).then(()=>({batchId:f.batchId,changes:QF(c)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(s.batchId),function(a,o,l){let u=a.qa[a.currentUser.toKey()];u||(u=new Zn(Ht)),u=u.insert(o,l),a.qa[a.currentUser.toKey()]=u}(i,s.batchId,n),await $g(i,s.changes),await Ab(i.remoteStore)}catch(s){const r=KT(s,"Failed to persist write");n.reject(r)}}async function DB(t,e){const n=Et(t);try{const i=await XJ(n.localStore,e);e.targetChanges.forEach((s,r)=>{const a=n.Ba.get(r);a&&(fn(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?a.Fa=!0:s.modifiedDocuments.size>0?fn(a.Fa):s.removedDocuments.size>0&&(fn(a.Fa),a.Fa=!1))}),await $g(n,i,e)}catch(i){await Mh(i)}}function CA(t,e,n){const i=Et(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const s=[];i.xa.forEach((r,a)=>{const o=a.view.ea(e);o.snapshot&&s.push(o.snapshot)}),function(a,o){const l=Et(a);l.onlineState=o;let u=!1;l.queries.forEach((d,c)=>{for(const f of c.J_)f.ea(o)&&(u=!0)}),u&&ZT(l)}(i.eventManager,e),s.length&&i.Ma.R_(s),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function VZ(t,e,n){const i=Et(t);i.sharedClientState.updateQueryState(e,"rejected",n);const s=i.Ba.get(e),r=s&&s.key;if(r){let a=new Zn(ht.comparator);a=a.insert(r,ys.newNoDocument(r,Pt.min()));const o=Ut().add(r),l=new Eb(Pt.min(),new Map,new Zn(Ht),a,o);await DB(i,l),i.La=i.La.remove(r),i.Ba.delete(e),tP(i)}else await kS(i.localStore,e,!1).then(()=>PS(i,e,n)).catch(Mh)}async function LZ(t,e){const n=Et(t),i=e.batch.batchId;try{const s=await qJ(n.localStore,e);RB(n,i,null),AB(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await $g(n,s)}catch(s){await Mh(s)}}async function NZ(t,e,n){const i=Et(t);try{const s=await function(a,o){const l=Et(a);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return l.mutationQueue.lookupMutationBatch(u,o).next(c=>(fn(c!==null),d=c.keys(),l.mutationQueue.removeMutationBatch(u,c))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,d,o)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>l.localDocuments.getDocuments(u,d))})}(i.localStore,e);RB(i,e,n),AB(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await $g(i,s)}catch(s){await Mh(s)}}function AB(t,e){(t.Qa.get(e)||[]).forEach(n=>{n.resolve()}),t.Qa.delete(e)}function RB(t,e,n){const i=Et(t);let s=i.qa[i.currentUser.toKey()];if(s){const r=s.get(e);r&&(n?r.reject(n):r.resolve(),s=s.remove(e)),i.qa[i.currentUser.toKey()]=s}}function PS(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.Oa.get(e))t.xa.delete(i),n&&t.Ma.Wa(i,n);t.Oa.delete(e),t.isPrimaryClient&&t.ka.yr(e).forEach(i=>{t.ka.containsKey(i)||OB(t,i)})}function OB(t,e){t.Na.delete(e.path.canonicalString());const n=t.La.get(e);n!==null&&(WT(t.remoteStore,n),t.La=t.La.remove(e),t.Ba.delete(n),tP(t))}function EA(t,e,n){for(const i of n)i instanceof CB?(t.ka.addReference(i.key,e),FZ(t,i)):i instanceof EB?(Qe("SyncEngine","Document no longer in limbo: "+i.key),t.ka.removeReference(i.key,e),t.ka.containsKey(i.key)||OB(t,i.key)):wt()}function FZ(t,e){const n=e.key,i=n.path.canonicalString();t.La.get(n)||t.Na.has(i)||(Qe("SyncEngine","New document in limbo: "+n),t.Na.add(i),tP(t))}function tP(t){for(;t.Na.size>0&&t.La.size<t.maxConcurrentLimboResolutions;){const e=t.Na.values().next().value;t.Na.delete(e);const n=new ht(Bn.fromString(e)),i=t.Ka.next();t.Ba.set(i,new CZ(n)),t.La=t.La.insert(n,i),wB(t.remoteStore,new vl(Ma(xb(n.path)),i,"TargetPurposeLimboResolution",yb.oe))}}async function $g(t,e,n){const i=Et(t),s=[],r=[],a=[];i.xa.isEmpty()||(i.xa.forEach((o,l)=>{a.push(i.Ua(l,e,n).then(u=>{var d;if((u||n)&&i.isPrimaryClient){const c=u?!u.fromCache:(d=n==null?void 0:n.targetChanges.get(l.targetId))===null||d===void 0?void 0:d.current;i.sharedClientState.updateQueryState(l.targetId,c?"current":"not-current")}if(u){s.push(u);const c=zT.zi(l.targetId,u);r.push(c)}}))}),await Promise.all(a),i.Ma.R_(s),await async function(l,u){const d=Et(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",c=>Oe.forEach(u,f=>Oe.forEach(f.Wi,h=>d.persistence.referenceDelegate.addReference(c,f.targetId,h)).next(()=>Oe.forEach(f.Gi,h=>d.persistence.referenceDelegate.removeReference(c,f.targetId,h)))))}catch(c){if(!Vh(c))throw c;Qe("LocalStore","Failed to update sequence numbers: "+c)}for(const c of u){const f=c.targetId;if(!c.fromCache){const h=d.us.get(f),p=h.snapshotVersion,g=h.withLastLimboFreeSnapshotVersion(p);d.us=d.us.insert(f,g)}}}(i.localStore,r))}async function BZ(t,e){const n=Et(t);if(!n.currentUser.isEqual(e)){Qe("SyncEngine","User change. New user:",e.toKey());const i=await vB(n.localStore,e);n.currentUser=e,function(r,a){r.Qa.forEach(o=>{o.forEach(l=>{l.reject(new qe(Re.CANCELLED,a))})}),r.Qa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await $g(n,i.Ts)}}function jZ(t,e){const n=Et(t),i=n.Ba.get(e);if(i&&i.Fa)return Ut().add(i.key);{let s=Ut();const r=n.Oa.get(e);if(!r)return s;for(const a of r){const o=n.xa.get(a);s=s.unionWith(o.view.fa)}return s}}function MB(t){const e=Et(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=DB.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=jZ.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=VZ.bind(null,e),e.Ma.R_=SZ.bind(null,e.eventManager),e.Ma.Wa=kZ.bind(null,e.eventManager),e}function $Z(t){const e=Et(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=LZ.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=NZ.bind(null,e),e}class A_{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ib(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,n){return null}Ya(e,n){return null}Ha(e){return GJ(this.persistence,new WJ,e.initialUser,this.serializer)}ja(e){return new pB(HT.ei,this.serializer)}za(e){return new eZ}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}A_.provider={build:()=>new A_};class UZ extends A_{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,n){fn(this.persistence.referenceDelegate instanceof I_);const i=this.persistence.referenceDelegate.garbageCollector;return new DJ(i,e.asyncQueue,n)}ja(e){const n=this.cacheSizeBytes!==void 0?Ws.withCacheSize(this.cacheSizeBytes):Ws.DEFAULT;return new pB(i=>I_.ei(i,n),this.serializer)}}class CS{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>CA(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=BZ.bind(null,this.syncEngine),await bZ(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new xZ}()}createDatastore(e){const n=Ib(e.databaseInfo.databaseId),i=function(r){return new sZ(r)}(e.databaseInfo);return function(r,a,o,l){return new oZ(r,a,o,l)}(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return function(i,s,r,a,o){return new uZ(i,s,r,a,o)}(this.localStore,this.datastore,e.asyncQueue,n=>CA(this.syncEngine,n,0),function(){return xA.p()?new xA:new tZ}())}createSyncEngine(e,n){return function(s,r,a,o,l,u,d){const c=new EZ(s,r,a,o,l,u);return d&&(c.$a=!0),c}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const r=Et(s);Qe("RemoteStore","RemoteStore shutting down."),r.k_.add(5),await jg(r),r.Q_.shutdown(),r.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}CS.provider={build:()=>new CS};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nP{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):Do("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HZ{constructor(e,n,i,s,r){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=s,this.user=ms.UNAUTHENTICATED,this.clientId=NF.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=r,this.authCredentials.start(i,async a=>{Qe("FirestoreClient","Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(i,a=>(Qe("FirestoreClient","Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new So;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=KT(n,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function O0(t,e){t.asyncQueue.verifyOperationInProgress(),Qe("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener(async s=>{i.isEqual(s)||(await vB(e.localStore,s),i=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function IA(t,e){t.asyncQueue.verifyOperationInProgress();const n=await zZ(t);Qe("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(i=>SA(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>SA(e.remoteStore,s)),t._onlineComponents=e}async function zZ(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Qe("FirestoreClient","Using user provided OfflineComponentProvider");try{await O0(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===Re.FAILED_PRECONDITION||s.code===Re.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;Kd("Error using user provided cache. Falling back to memory cache: "+n),await O0(t,new A_)}}else Qe("FirestoreClient","Using default OfflineComponentProvider"),await O0(t,new UZ(void 0));return t._offlineComponents}async function VB(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Qe("FirestoreClient","Using user provided OnlineComponentProvider"),await IA(t,t._uninitializedComponentsProvider._online)):(Qe("FirestoreClient","Using default OnlineComponentProvider"),await IA(t,new CS))),t._onlineComponents}function WZ(t){return VB(t).then(e=>e.syncEngine)}async function R_(t){const e=await VB(t),n=e.eventManager;return n.onListen=IZ.bind(null,e.syncEngine),n.onUnlisten=RZ.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=DZ.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=OZ.bind(null,e.syncEngine),n}function YZ(t,e,n={}){const i=new So;return t.asyncQueue.enqueueAndForget(async()=>function(r,a,o,l,u){const d=new nP({next:f=>{d.eu(),a.enqueueAndForget(()=>JT(r,c));const h=f.docs.has(o);!h&&f.fromCache?u.reject(new qe(Re.UNAVAILABLE,"Failed to get document because the client is offline.")):h&&f.fromCache&&l&&l.source==="server"?u.reject(new qe(Re.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(f)},error:f=>u.reject(f)}),c=new eP(xb(o.path),d,{includeMetadataChanges:!0,ua:!0});return QT(r,c)}(await R_(t),t.asyncQueue,e,n,i)),i.promise}function GZ(t,e,n={}){const i=new So;return t.asyncQueue.enqueueAndForget(async()=>function(r,a,o,l,u){const d=new nP({next:f=>{d.eu(),a.enqueueAndForget(()=>JT(r,c)),f.fromCache&&l.source==="server"?u.reject(new qe(Re.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(f)},error:f=>u.reject(f)}),c=new eP(o,d,{includeMetadataChanges:!0,ua:!0});return QT(r,c)}(await R_(t),t.asyncQueue,e,n,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LB(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DA=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NB(t,e,n){if(!n)throw new qe(Re.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function qZ(t,e,n,i){if(e===!0&&i===!0)throw new qe(Re.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function AA(t){if(!ht.isDocumentKey(t))throw new qe(Re.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function RA(t){if(ht.isDocumentKey(t))throw new qe(Re.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Rb(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":wt()}function pr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new qe(Re.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Rb(t);throw new qe(Re.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OA{constructor(e){var n,i;if(e.host===void 0){if(e.ssl!==void 0)throw new qe(Re.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new qe(Re.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}qZ("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=LB((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new qe(Re.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new qe(Re.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new qe(Re.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,s){return i.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ob{constructor(e,n,i,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new OA({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new qe(Re.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new qe(Re.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new OA(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new aQ;switch(i.type){case"firstParty":return new cQ(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new qe(Re.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=DA.get(n);i&&(Qe("ComponentProvider","Removing Datastore"),DA.delete(n),i.terminate())}(this),Promise.resolve()}}function FB(t,e,n,i={}){var s;const r=(t=pr(t,Ob))._getSettings(),a=`${e}:${n}`;if(r.host!=="firestore.googleapis.com"&&r.host!==a&&Kd("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},r),{host:a,ssl:!1})),i.mockUserToken){let o,l;if(typeof i.mockUserToken=="string")o=i.mockUserToken,l=ms.MOCK_USER;else{o=G8(i.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const u=i.mockUserToken.sub||i.mockUserToken.user_id;if(!u)throw new qe(Re.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new ms(u)}t._authCredentials=new oQ(new LF(o,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nu{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new nu(this.firestore,e,this._query)}}class Ls{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Pl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ls(this.firestore,e,this._key)}}class Pl extends nu{constructor(e,n,i){super(e,n,xb(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ls(this.firestore,null,new ht(e))}withConverter(e){return new Pl(this.firestore,e,this._path)}}function XZ(t,e,...n){if(t=ai(t),NB("collection","path",e),t instanceof Ob){const i=Bn.fromString(e,...n);return RA(i),new Pl(t,null,i)}{if(!(t instanceof Ls||t instanceof Pl))throw new qe(Re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(Bn.fromString(e,...n));return RA(i),new Pl(t.firestore,null,i)}}function Of(t,e,...n){if(t=ai(t),arguments.length===1&&(e=NF.newId()),NB("doc","path",e),t instanceof Ob){const i=Bn.fromString(e,...n);return AA(i),new Ls(t,null,new ht(i))}{if(!(t instanceof Ls||t instanceof Pl))throw new qe(Re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(Bn.fromString(e,...n));return AA(i),new Ls(t.firestore,t instanceof Pl?t.converter:null,new ht(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MA{constructor(e=Promise.resolve()){this.Iu=[],this.Eu=!1,this.du=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new yB(this,"async_queue_retry"),this.fu=()=>{const i=R0();i&&Qe("AsyncQueue","Visibility state changed to "+i.visibilityState),this.r_.Jo()},this.gu=e;const n=R0();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.Eu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.Eu){this.Eu=!0,this.Vu=e||!1;const n=R0();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.Eu)return new Promise(()=>{});const n=new So;return this.yu(()=>this.Eu&&this.Vu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!Vh(e))throw e;Qe("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const n=this.gu.then(()=>(this.Ru=!0,e().catch(i=>{this.Au=i,this.Ru=!1;const s=function(a){let o=a.message||"";return a.stack&&(o=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),o}(i);throw Do("INTERNAL UNHANDLED ERROR: ",s),i}).then(i=>(this.Ru=!1,i))));return this.gu=n,n}enqueueAfterDelay(e,n,i){this.pu(),this.mu.indexOf(e)>-1&&(n=0);const s=XT.createAndSchedule(this,e,n,i,r=>this.Su(r));return this.du.push(s),s}pu(){this.Au&&wt()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const n of this.du)if(n.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.du.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.du)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const n=this.du.indexOf(e);this.du.splice(n,1)}}function VA(t){return function(n,i){if(typeof n!="object"||n===null)return!1;const s=n;for(const r of i)if(r in s&&typeof s[r]=="function")return!0;return!1}(t,["next","error","complete"])}class Ro extends Ob{constructor(e,n,i,s){super(e,n,i,s),this.type="firestore",this._queue=new MA,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new MA(e),this._firestoreClient=void 0,await e}}}function BB(t,e){const n=typeof t=="object"?t:Qk(),i=typeof t=="string"?t:"(default)",s=Eh(n,"firestore").getImmediate({identifier:i});if(!s._initialized){const r=Y8("firestore");r&&FB(s,...r)}return s}function Ug(t){if(t._terminated)throw new qe(Re.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||KZ(t),t._firestoreClient}function KZ(t){var e,n,i;const s=t._freezeSettings(),r=function(o,l,u,d){return new TQ(o,l,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,LB(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=s.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new HZ(t._authCredentials,t._appCheckCredentials,t._queue,r,t._componentsProvider&&function(o){const l=o==null?void 0:o._online.build();return{_offline:o==null?void 0:o._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh{constructor(e){this._byteString=e}static fromBase64String(e){try{return new nh(ss.fromBase64String(e))}catch(n){throw new qe(Re.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new nh(ss.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hg{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new qe(Re.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ts(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}function QZ(){return new Hg("__name__")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iP{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mb{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new qe(Re.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new qe(Re.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ht(this._lat,e._lat)||Ht(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sP{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,s){if(i.length!==s.length)return!1;for(let r=0;r<i.length;++r)if(i[r]!==s[r])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JZ=/^__.*__$/;class ZZ{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new tu(e,this.data,this.fieldMask,n,this.fieldTransforms):new Fg(e,this.data,n,this.fieldTransforms)}}class jB{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return new tu(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function $B(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw wt()}}class rP{constructor(e,n,i,s,r,a){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=s,r===void 0&&this.Fu(),this.fieldTransforms=r||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new rP(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.xu({path:i,Nu:!1});return s.Lu(e),s}Bu(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.xu({path:i,Nu:!1});return s.Fu(),s}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return O_(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Lu(this.path.get(e))}Lu(e){if(e.length===0)throw this.qu("Document fields must not be empty");if($B(this.Mu)&&JZ.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class eee{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||Ib(e)}$u(e,n,i,s=!1){return new rP({Mu:e,methodName:n,Ku:i,path:ts.emptyPath(),Nu:!1,Qu:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Vb(t){const e=t._freezeSettings(),n=Ib(t._databaseId);return new eee(t._databaseId,!!e.ignoreUndefinedProperties,n)}function aP(t,e,n,i,s,r={}){const a=t.$u(r.merge||r.mergeFields?2:0,e,n,s);oP("Data must be an object, but it was:",a,i);const o=UB(i,a);let l,u;if(r.merge)l=new fr(a.fieldMask),u=a.fieldTransforms;else if(r.mergeFields){const d=[];for(const c of r.mergeFields){const f=ES(e,c,n);if(!a.contains(f))throw new qe(Re.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);zB(d,f)||d.push(f)}l=new fr(d),u=a.fieldTransforms.filter(c=>l.covers(c.field))}else l=null,u=a.fieldTransforms;return new ZZ(new Ks(o),l,u)}class Lb extends iP{_toFieldTransform(e){if(e.Mu!==2)throw e.Mu===1?e.qu(`${this._methodName}() can only appear at the top level of your update data`):e.qu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Lb}}function tee(t,e,n,i){const s=t.$u(1,e,n);oP("Data must be an object, but it was:",s,i);const r=[],a=Ks.empty();eu(i,(l,u)=>{const d=lP(e,l,n);u=ai(u);const c=s.Bu(d);if(u instanceof Lb)r.push(d);else{const f=zg(u,c);f!=null&&(r.push(d),a.set(d,f))}});const o=new fr(r);return new jB(a,o,s.fieldTransforms)}function nee(t,e,n,i,s,r){const a=t.$u(1,e,n),o=[ES(e,i,n)],l=[s];if(r.length%2!=0)throw new qe(Re.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<r.length;f+=2)o.push(ES(e,r[f])),l.push(r[f+1]);const u=[],d=Ks.empty();for(let f=o.length-1;f>=0;--f)if(!zB(u,o[f])){const h=o[f];let p=l[f];p=ai(p);const g=a.Bu(h);if(p instanceof Lb)u.push(h);else{const v=zg(p,g);v!=null&&(u.push(h),d.set(h,v))}}const c=new fr(u);return new jB(d,c,a.fieldTransforms)}function iee(t,e,n,i=!1){return zg(n,t.$u(i?4:3,e))}function zg(t,e){if(HB(t=ai(t)))return oP("Unsupported field value:",e,t),UB(t,e);if(t instanceof iP)return function(i,s){if(!$B(s.Mu))throw s.qu(`${i._methodName}() can only be used with update() and set()`);if(!s.path)throw s.qu(`${i._methodName}() is not currently supported inside arrays`);const r=i._toFieldTransform(s);r&&s.fieldTransforms.push(r)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Nu&&e.Mu!==4)throw e.qu("Nested arrays are not supported");return function(i,s){const r=[];let a=0;for(const o of i){let l=zg(o,s.ku(a));l==null&&(l={nullValue:"NULL_VALUE"}),r.push(l),a++}return{arrayValue:{values:r}}}(t,e)}return function(i,s){if((i=ai(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return GQ(s.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const r=At.fromDate(i);return{timestampValue:E_(s.serializer,r)}}if(i instanceof At){const r=new At(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:E_(s.serializer,r)}}if(i instanceof Mb)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof nh)return{bytesValue:uB(s.serializer,i._byteString)};if(i instanceof Ls){const r=s.databaseId,a=i.firestore._databaseId;if(!a.isEqual(r))throw s.qu(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:$T(i.firestore._databaseId||s.databaseId,i._key.path)}}if(i instanceof sP)return function(a,o){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:a.toArray().map(l=>{if(typeof l!="number")throw o.qu("VectorValues must only contain numeric values.");return FT(o.serializer,l)})}}}}}}(i,s);throw s.qu(`Unsupported field value: ${Rb(i)}`)}(t,e)}function UB(t,e){const n={};return FF(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):eu(t,(i,s)=>{const r=zg(s,e.Ou(i));r!=null&&(n[i]=r)}),{mapValue:{fields:n}}}function HB(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof At||t instanceof Mb||t instanceof nh||t instanceof Ls||t instanceof iP||t instanceof sP)}function oP(t,e,n){if(!HB(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const i=Rb(n);throw i==="an object"?e.qu(t+" a custom object"):e.qu(t+" "+i)}}function ES(t,e,n){if((e=ai(e))instanceof Hg)return e._internalPath;if(typeof e=="string")return lP(t,e);throw O_("Field path arguments must be of type string or ",t,!1,void 0,n)}const see=new RegExp("[~\\*/\\[\\]]");function lP(t,e,n){if(e.search(see)>=0)throw O_(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Hg(...e.split("."))._internalPath}catch{throw O_(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function O_(t,e,n,i,s){const r=i&&!i.isEmpty(),a=s!==void 0;let o=`Function ${e}() called with invalid data`;n&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(r||a)&&(l+=" (found",r&&(l+=` in field ${i}`),a&&(l+=` in document ${s}`),l+=")"),new qe(Re.INVALID_ARGUMENT,o+t+l)}function zB(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WB{constructor(e,n,i,s,r){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=s,this._converter=r}get id(){return this._key.path.lastSegment()}get ref(){return new Ls(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new ree(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Nb("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class ree extends WB{data(){return super.data()}}function Nb(t,e){return typeof e=="string"?lP(t,e):e instanceof Hg?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YB(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new qe(Re.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class uP{}class GB extends uP{}function M0(t,e,...n){let i=[];e instanceof uP&&i.push(e),i=i.concat(n),function(r){const a=r.filter(l=>l instanceof cP).length,o=r.filter(l=>l instanceof Fb).length;if(a>1||a>0&&o>0)throw new qe(Re.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const s of i)t=s._apply(t);return t}class Fb extends GB{constructor(e,n,i){super(),this._field=e,this._op=n,this._value=i,this.type="where"}static _create(e,n,i){return new Fb(e,n,i)}_apply(e){const n=this._parse(e);return XB(e._query,n),new nu(e.firestore,e.converter,_S(e._query,n))}_parse(e){const n=Vb(e.firestore);return function(r,a,o,l,u,d,c){let f;if(u.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new qe(Re.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){NA(c,d);const h=[];for(const p of c)h.push(LA(l,r,p));f={arrayValue:{values:h}}}else f=LA(l,r,c)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||NA(c,d),f=iee(o,a,c,d==="in"||d==="not-in");return yi.create(u,d,f)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Wn(t,e,n){const i=e,s=Nb("where",t);return Fb._create(s,i,n)}class cP extends uP{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new cP(e,n)}_parse(e){const n=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return n.length===1?n[0]:ua.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,r){let a=s;const o=r.getFlattenedFilters();for(const l of o)XB(a,l),a=_S(a,l)}(e._query,n),new nu(e.firestore,e.converter,_S(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class dP extends GB{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new dP(e,n)}_apply(e){const n=function(s,r,a){if(s.startAt!==null)throw new qe(Re.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new qe(Re.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Rm(r,a)}(e._query,this._field,this._direction);return new nu(e.firestore,e.converter,function(s,r){const a=s.explicitOrderBy.concat([r]);return new Lh(s.path,s.collectionGroup,a,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function qB(t,e="asc"){const n=e,i=Nb("orderBy",t);return dP._create(i,n)}function LA(t,e,n){if(typeof(n=ai(n))=="string"){if(n==="")throw new qe(Re.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!GF(e)&&n.indexOf("/")!==-1)throw new qe(Re.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=e.path.child(Bn.fromString(n));if(!ht.isDocumentKey(i))throw new qe(Re.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return nA(t,new ht(i))}if(n instanceof Ls)return nA(t,n._key);throw new qe(Re.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Rb(n)}.`)}function NA(t,e){if(!Array.isArray(t)||t.length===0)throw new qe(Re.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function XB(t,e){const n=function(s,r){for(const a of s)for(const o of a.getFlattenedFilters())if(r.indexOf(o.op)>=0)return o.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new qe(Re.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new qe(Re.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class aee{convertValue(e,n="none"){switch(Fl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return di(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Nl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw wt()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return eu(e,(s,r)=>{i[s]=this.convertValue(r,n)}),i}convertVectorValue(e){var n,i,s;const r=(s=(i=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||i===void 0?void 0:i.values)===null||s===void 0?void 0:s.map(a=>di(a.doubleValue));return new sP(r)}convertGeoPoint(e){return new Mb(di(e.latitude),di(e.longitude))}convertArray(e,n){return(e.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(e,n){switch(n){case"previous":const i=wb(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(Im(e));default:return null}}convertTimestamp(e){const n=Ll(e);return new At(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=Bn.fromString(e);fn(gB(i));const s=new Dm(i.get(1),i.get(3)),r=new ht(i.popFirst(5));return s.isEqual(n)||Do(`Document ${r} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hP(t,e,n){let i;return i=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mf{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class KB extends WB{constructor(e,n,i,s,r,a){super(e,n,i,s,a),this._firestore=e,this._firestoreImpl=e,this.metadata=r}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Av(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(Nb("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}}class Av extends KB{data(e={}){return super.data(e)}}class QB{constructor(e,n,i,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Mf(s.hasPendingWrites,s.fromCache),this.query=i}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(i=>{e.call(n,new Av(this._firestore,this._userDataWriter,i.key,i,new Mf(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new qe(Re.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,r){if(s._snapshot.oldDocs.isEmpty()){let a=0;return s._snapshot.docChanges.map(o=>{const l=new Av(s._firestore,s._userDataWriter,o.doc.key,o.doc,new Mf(s._snapshot.mutatedKeys.has(o.doc.key),s._snapshot.fromCache),s.query.converter);return o.doc,{type:"added",doc:l,oldIndex:-1,newIndex:a++}})}{let a=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(o=>r||o.type!==3).map(o=>{const l=new Av(s._firestore,s._userDataWriter,o.doc.key,o.doc,new Mf(s._snapshot.mutatedKeys.has(o.doc.key),s._snapshot.fromCache),s.query.converter);let u=-1,d=-1;return o.type!==0&&(u=a.indexOf(o.doc.key),a=a.delete(o.doc.key)),o.type!==1&&(a=a.add(o.doc),d=a.indexOf(o.doc.key)),{type:oee(o.type),doc:l,oldIndex:u,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function oee(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return wt()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fP(t){t=pr(t,Ls);const e=pr(t.firestore,Ro);return YZ(Ug(e),t._key).then(n=>JB(e,t,n))}class mP extends aee{constructor(e){super(),this.firestore=e}convertBytes(e){return new nh(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ls(this.firestore,null,n)}}function IS(t){t=pr(t,nu);const e=pr(t.firestore,Ro),n=Ug(e),i=new mP(e);return YB(t._query),GZ(n,t._query).then(s=>new QB(e,i,t,s))}function lee(t,e,n){t=pr(t,Ls);const i=pr(t.firestore,Ro),s=hP(t.converter,e,n);return jb(i,[aP(Vb(i),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,Js.none())])}function uee(t){return jb(pr(t.firestore,Ro),[new Cb(t._key,Js.none())])}function cee(t,e){const n=pr(t.firestore,Ro),i=Of(t),s=hP(t.converter,e);return jb(n,[aP(Vb(t.firestore),"addDoc",i._key,s,t.converter!==null,{}).toMutation(i._key,Js.exists(!1))]).then(()=>i)}function Bb(t,...e){var n,i,s;t=ai(t);let r={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||VA(e[a])||(r=e[a],a++);const o={includeMetadataChanges:r.includeMetadataChanges,source:r.source};if(VA(e[a])){const c=e[a];e[a]=(n=c.next)===null||n===void 0?void 0:n.bind(c),e[a+1]=(i=c.error)===null||i===void 0?void 0:i.bind(c),e[a+2]=(s=c.complete)===null||s===void 0?void 0:s.bind(c)}let l,u,d;if(t instanceof Ls)u=pr(t.firestore,Ro),d=xb(t._key.path),l={next:c=>{e[a]&&e[a](JB(u,t,c))},error:e[a+1],complete:e[a+2]};else{const c=pr(t,nu);u=pr(c.firestore,Ro),d=c._query;const f=new mP(u);l={next:h=>{e[a]&&e[a](new QB(u,f,c,h))},error:e[a+1],complete:e[a+2]},YB(t._query)}return function(f,h,p,g){const v=new nP(g),_=new eP(h,v,p);return f.asyncQueue.enqueueAndForget(async()=>QT(await R_(f),_)),()=>{v.eu(),f.asyncQueue.enqueueAndForget(async()=>JT(await R_(f),_))}}(Ug(u),d,o,l)}function jb(t,e){return function(i,s){const r=new So;return i.asyncQueue.enqueueAndForget(async()=>MZ(await WZ(i),s,r)),r.promise}(Ug(t),e)}function JB(t,e,n){const i=n.docs.get(e._key),s=new mP(t);return new KB(t,s,e._key,i,new Mf(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dee{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Vb(e)}set(e,n,i){this._verifyNotCommitted();const s=V0(e,this._firestore),r=hP(s.converter,n,i),a=aP(this._dataReader,"WriteBatch.set",s._key,r,s.converter!==null,i);return this._mutations.push(a.toMutation(s._key,Js.none())),this}update(e,n,i,...s){this._verifyNotCommitted();const r=V0(e,this._firestore);let a;return a=typeof(n=ai(n))=="string"||n instanceof Hg?nee(this._dataReader,"WriteBatch.update",r._key,n,i,s):tee(this._dataReader,"WriteBatch.update",r._key,n),this._mutations.push(a.toMutation(r._key,Js.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=V0(e,this._firestore);return this._mutations=this._mutations.concat(new Cb(n._key,Js.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new qe(Re.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function V0(t,e){if((t=ai(t)).firestore!==e)throw new qe(Re.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FA(t){return Ug(t=pr(t,Ro)),new dee(t,e=>jb(t,e))}(function(e,n=!0){(function(s){Oh=s})(Zl),er(new js("firestore",(i,{instanceIdentifier:s,options:r})=>{const a=i.getProvider("app").getImmediate(),o=new Ro(new lQ(i.getProvider("auth-internal")),new hQ(i.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new qe(Re.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Dm(u.options.projectId,d)}(a,s),a);return r=Object.assign({useFetchStreams:n},r),o._setSettings(r),o},"PUBLIC").setMultipleInstances(!0)),is(KD,"4.7.5",e),is(KD,"4.7.5","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZB="firebasestorage.googleapis.com",hee="storageBucket",fee=2*60*1e3,mee=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa extends Nr{constructor(e,n,i=0){super(L0(e),`Firebase Storage: ${n} (${L0(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Xa.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return L0(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var za;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(za||(za={}));function L0(t){return"storage/"+t}function gee(){const t="An unknown error occurred, please check the error payload for server response.";return new Xa(za.UNKNOWN,t)}function pee(){return new Xa(za.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function vee(){return new Xa(za.CANCELED,"User canceled the upload/download.")}function _ee(t){return new Xa(za.INVALID_URL,"Invalid URL '"+t+"'.")}function yee(t){return new Xa(za.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function BA(t){return new Xa(za.INVALID_ARGUMENT,t)}function ej(){return new Xa(za.APP_DELETED,"The Firebase app was deleted.")}function bee(t){return new Xa(za.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let i;try{i=qr.makeFromUrl(e,n)}catch{return new qr(e,"")}if(i.path==="")return i;throw yee(e)}static makeFromUrl(e,n){let i=null;const s="([A-Za-z0-9.\\-_]+)";function r(k){k.path.charAt(k.path.length-1)==="/"&&(k.path_=k.path_.slice(0,-1))}const a="(/(.*))?$",o=new RegExp("^gs://"+s+a,"i"),l={bucket:1,path:3};function u(k){k.path_=decodeURIComponent(k.path)}const d="v[A-Za-z0-9_]+",c=n.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",h=new RegExp(`^https?://${c}/${d}/b/${s}/o${f}`,"i"),p={bucket:1,path:3},g=n===ZB?"(?:storage.googleapis.com|storage.cloud.google.com)":n,v="([^?#]*)",_=new RegExp(`^https?://${g}/${s}/${v}`,"i"),x=[{regex:o,indices:l,postModify:r},{regex:h,indices:p,postModify:u},{regex:_,indices:{bucket:1,path:2},postModify:u}];for(let k=0;k<x.length;k++){const I=x[k],E=I.regex.exec(e);if(E){const T=E[I.indices.bucket];let S=E[I.indices.path];S||(S=""),i=new qr(T,S),I.postModify(i);break}}if(i==null)throw _ee(e);return i}}class wee{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xee(t,e,n){let i=1,s=null,r=null,a=!1,o=0;function l(){return o===2}let u=!1;function d(...v){u||(u=!0,e.apply(null,v))}function c(v){s=setTimeout(()=>{s=null,t(h,l())},v)}function f(){r&&clearTimeout(r)}function h(v,..._){if(u){f();return}if(v){f(),d.call(null,v,..._);return}if(l()||a){f(),d.call(null,v,..._);return}i<64&&(i*=2);let x;o===1?(o=2,x=0):x=(i+Math.random())*1e3,c(x)}let p=!1;function g(v){p||(p=!0,f(),!u&&(s!==null?(v||(o=2),clearTimeout(s),c(0)):v||(o=1)))}return c(0),r=setTimeout(()=>{a=!0,g(!0)},n),g}function See(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kee(t){return t!==void 0}function jA(t,e,n,i){if(i<e)throw BA(`Invalid value for '${t}'. Expected ${e} or greater.`);if(i>n)throw BA(`Invalid value for '${t}'. Expected ${n} or less.`)}function Tee(t){const e=encodeURIComponent;let n="?";for(const i in t)if(t.hasOwnProperty(i)){const s=e(i)+"="+e(t[i]);n=n+s+"&"}return n=n.slice(0,-1),n}var M_;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(M_||(M_={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pee(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,r=e.indexOf(t)!==-1;return n||s||r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cee{constructor(e,n,i,s,r,a,o,l,u,d,c,f=!0){this.url_=e,this.method_=n,this.headers_=i,this.body_=s,this.successCodes_=r,this.additionalRetryCodes_=a,this.callback_=o,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=d,this.connectionFactory_=c,this.retry=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((h,p)=>{this.resolve_=h,this.reject_=p,this.start_()})}start_(){const e=(i,s)=>{if(s){i(!1,new $p(!1,null,!0));return}const r=this.connectionFactory_();this.pendingConnection_=r;const a=o=>{const l=o.loaded,u=o.lengthComputable?o.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&r.addUploadProgressListener(a),r.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&r.removeUploadProgressListener(a),this.pendingConnection_=null;const o=r.getErrorCode()===M_.NO_ERROR,l=r.getStatus();if(!o||Pee(l,this.additionalRetryCodes_)&&this.retry){const d=r.getErrorCode()===M_.ABORT;i(!1,new $p(!1,null,d));return}const u=this.successCodes_.indexOf(l)!==-1;i(!0,new $p(u,r))})},n=(i,s)=>{const r=this.resolve_,a=this.reject_,o=s.connection;if(s.wasSuccessCode)try{const l=this.callback_(o,o.getResponse());kee(l)?r(l):r()}catch(l){a(l)}else if(o!==null){const l=gee();l.serverResponse=o.getErrorText(),this.errorCallback_?a(this.errorCallback_(o,l)):a(l)}else if(s.canceled){const l=this.appDelete_?ej():vee();a(l)}else{const l=pee();a(l)}};this.canceled_?n(!1,new $p(!1,null,!0)):this.backoffId_=xee(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&See(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class $p{constructor(e,n,i){this.wasSuccessCode=e,this.connection=n,this.canceled=!!i}}function Eee(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function Iee(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function Dee(t,e){e&&(t["X-Firebase-GMPID"]=e)}function Aee(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function Ree(t,e,n,i,s,r,a=!0){const o=Tee(t.urlParams),l=t.url+o,u=Object.assign({},t.headers);return Dee(u,e),Eee(u,n),Iee(u,r),Aee(u,i),new Cee(l,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oee(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function Mee(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vee=class DS{constructor(e,n){this._service=e,n instanceof qr?this._location=n:this._location=qr.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new DS(e,n)}get root(){const e=new qr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Mee(this._location.path)}get storage(){return this._service}get parent(){const e=Oee(this._location.path);if(e===null)return null;const n=new qr(this._location.bucket,e);return new DS(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw bee(e)}};function $A(t,e){const n=e==null?void 0:e[hee];return n==null?null:qr.makeFromBucketSpec(n,t)}class Lee{constructor(e,n,i,s,r){this.app=e,this._authProvider=n,this._appCheckProvider=i,this._url=s,this._firebaseVersion=r,this._bucket=null,this._host=ZB,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=fee,this._maxUploadRetryTime=mee,this._requests=new Set,s!=null?this._bucket=qr.makeFromBucketSpec(s,this._host):this._bucket=$A(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=qr.makeFromBucketSpec(this._url,e):this._bucket=$A(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){jA("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){jA("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Vee(this,e)}_makeRequest(e,n,i,s,r=!0){if(this._deleted)return new wee(ej());{const a=Ree(e,this._appId,i,s,n,this._firebaseVersion,r);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}async makeRequestWithTokens(e,n){const[i,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,i,s).getPromise()}}const UA="@firebase/storage",HA="0.13.4";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nee="storage";function Fee(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new Lee(n,i,s,e,Zl)}function Bee(){er(new js(Nee,Fee,"PUBLIC").setMultipleInstances(!0)),is(UA,HA,""),is(UA,HA,"esm2017")}Bee();const N0=new WeakMap;function tj(t,e){return N0.has(e)||N0.set(e,{f:{},r:{},s:{},u:{}}),N0.get(e)}function jee(t,e,n,i){if(!t)return n;const[s,r]=nj(t);if(!s)return n;const a=tj(void 0,i)[s]||{},o=e||r;return o&&o in a?a[o]:n}function $ee(t,e,n,i){if(!t)return;const[s,r]=nj(t);if(!s)return;const a=tj(void 0,i)[s],o=e||r;if(o)return n.then(l=>{a[o]=l}).catch(Ca),o}function nj(t){return hq(t)||fq(t)?["f",t.path]:mq(t)?["r",t.toString()]:gq(t)?["s",t.toString()]:[]}const F0=new WeakMap;function Uee(t,e,n){const i=Rg();F0.has(i)||F0.set(i,new Map);const s=F0.get(i),r=$ee(e,n,t,i);return r&&s.set(r,t),r?()=>s.delete(r):Ca}const Hee={toFirestore(t){return t},fromFirestore(t,e){return t.exists()?Object.defineProperties(t.data(e),{id:{value:t.id}}):null}};function AS(t,e,n,i){if(!cq(t))return[t,{}];const s=[{},{}],r=Object.keys(n).reduce((o,l)=>{const u=n[l];return o[u.path]=u.data(),o},{});function a(o,l,u,d){l=l||{};const[c,f]=d;Object.getOwnPropertyNames(o).forEach(h=>{const p=Object.getOwnPropertyDescriptor(o,h);p&&!p.enumerable&&Object.defineProperty(c,h,p)});for(const h in o){const p=o[h];if(p==null||p instanceof Date||p instanceof At||p instanceof Mb)c[h]=p;else if(dT(p)){const g=u+h;c[h]=g in n?l[h]:p.path,f[g]=p.converter?p:p.withConverter(i.converter)}else if(Array.isArray(p)){c[h]=Array(p.length);for(let g=0;g<p.length;g++){const v=p[g];v&&v.path in r&&(c[h][g]=r[v.path])}a(p,l[h]||c[h],u+h+".",[c[h],f])}else Ec(p)?(c[h]={},a(p,l[h],u+h+".",[c[h],f])):c[h]=p}}return a(t,e,"",s),s}const gP={reset:!1,wait:!0,maxRefDepth:2,converter:Hee,snapshotOptions:{serverTimestamps:"estimate"}};function V_(t){for(const e in t)t[e].unsub()}function RS(t,e,n,i,s,r,a,o,l){const[u,d]=AS(i.data(t.snapshotOptions),cT(e,n),s,t);r.set(e,n,u),OS(t,e,n,s,d,r,a,o,l)}function zee({ref:t,target:e,path:n,depth:i,resolve:s,reject:r,ops:a},o){const l=Object.create(null);let u=Ca;return o.once?fP(t).then(d=>{d.exists()?RS(o,e,n,d,l,a,i,s,r):(a.set(e,n,null),s())}).catch(r):u=Bb(t,d=>{d.exists()?RS(o,e,n,d,l,a,i,s,r):(a.set(e,n,null),s())},r),()=>{u(),V_(l)}}function OS(t,e,n,i,s,r,a,o,l){const u=Object.keys(s);if(Object.keys(i).filter(g=>u.indexOf(g)<0).forEach(g=>{i[g].unsub(),delete i[g]}),!u.length||++a>t.maxRefDepth)return o(n);let c=0;const f=u.length,h=Object.create(null);function p(g){g in h&&++c>=f&&o(n)}u.forEach(g=>{const v=i[g],_=s[g],b=`${n}.${g}`;if(h[b]=!0,v)if(v.path!==_.path)v.unsub();else return;i[g]={data:()=>cT(e,b),unsub:zee({ref:_,target:e,path:b,depth:a,ops:r,resolve:p.bind(null,b),reject:l},t),path:_.path}})}function Wee(t,e,n,i,s,r){const a=Object.assign({},gP,r),{snapshotListenOptions:o,snapshotOptions:l,wait:u,once:d}=a,c="value";let f=G(u?[]:t.value);u||n.set(t,c,[]);const h=i;let p,g=Ca;const v=[],_={added:({newIndex:x,doc:k})=>{v.splice(x,0,Object.create(null));const I=v[x],[E,T]=AS(k.data(l),void 0,I,a);n.add(Ct(f),x,E),OS(a,f,`${c}.${x}`,I,T,n,0,i.bind(null,k),s)},modified:({oldIndex:x,newIndex:k,doc:I})=>{const E=Ct(f),T=v[x],S=E[x],[w,P]=AS(I.data(l),S,T,a);v.splice(k,0,T),n.remove(E,x),n.add(E,k,w),OS(a,f,`${c}.${k}`,T,P,n,0,i,s)},removed:({oldIndex:x})=>{const k=Ct(f);n.remove(k,x),V_(v.splice(x,1)[0])}};function b(x){const k=x.docChanges(o);if(!p&&k.length){p=!0;let I=0;const E=k.length,T=Object.create(null);for(let S=0;S<E;S++)T[k[S].doc.id]=!0;i=S=>{S&&S.id in T&&++I>=E&&(u&&(n.set(t,c,Ct(f)),f=t),h(Ct(f)),i=Ca)}}k.forEach(I=>{_[I.type](I)}),k.length||(u&&(n.set(t,c,Ct(f)),f=t),i(Ct(f)))}return d?IS(e).then(b).catch(s):g=Bb(e,b,s),x=>{if(g(),x){const k=typeof x=="function"?x():[];n.set(t,c,k)}v.forEach(V_)}}function Yee(t,e,n,i,s,r){const a=Object.assign({},gP,r),o="value",l=Object.create(null);i=pq(i,()=>cT(t,o));let u=Ca;function d(c){c.exists()?RS(a,t,o,c,l,n,0,i,s):(n.set(t,o,null),i(null))}return a.once?fP(e).then(d).catch(s):u=Bb(e,d,s),c=>{if(u(),c){const f=typeof c=="function"?c():null;n.set(t,o,f)}V_(l)}}const zA=Symbol();function Gee(t,e){let n=Ca;const i=Object.assign({},gP,e),s=Ct(t),r=i.target||G();_q()&&(i.once=!0);const a=jee(s,i.ssrKey,zA,Rg()),o=a!==zA;o&&(r.value=a);let l=!o;const u=G(!1),d=G(),c=Ve(),f=OV();let h=Ca;function p(){let _=Ct(t);const b=new Promise((x,k)=>{if(n(i.reset),!_)return n=Ca,x(null);u.value=l,l=!0,_.converter||(_=_.withConverter(i.converter)),n=(dT(_)?Yee:Wee)(r,_,qee,x,k,i)}).catch(x=>(c.value===b&&(d.value=x),Promise.reject(x))).finally(()=>{c.value===b&&(u.value=!1)});c.value=b}let g=Ca;(Ke(t)||typeof t=="function")&&(g=we(t,p)),p(),s&&(h=Uee(c.value,s,i.ssrKey)),Cc()&&vL(()=>c.value),f&&as(v);function v(_=i.reset){g(),h(),n(_)}return Object.defineProperties(r,{error:{get:()=>d},data:{get:()=>r},pending:{get:()=>u},promise:{get:()=>c},stop:{get:()=>v}})}const qee={set:(t,e,n)=>lq(t,e,n),add:(t,e,n)=>t.splice(e,0,n),remove:(t,e)=>t.splice(e,1)};function pP(t,e){return Gee(t,e)}function MS(t){return BB(Rg(t))}function Xee(t){return Kee({initialUser:t,dependencies:{popupRedirectResolver:hN,persistence:[lN,nN,oT]}})}const ij=Symbol("VueFireAuth");function Kee({dependencies:t,initialUser:e}){return(n,i)=>{const[s,r]=Qee(n,i,e,t);bq(s,r)}}function Qee(t,e,n,i,s=G2(t,i)){const r=yq(t,e).run(()=>G(n));return pN.set(t,r),e.provide(ij,s),[r,s]}function sj(t){return oq?gt(ij):null}function Jee(t,{firebaseApp:e,modules:n=[]}){t.provide(gN,e);for(const i of n)i(e,t)}/*!
  * vue-router v4.5.0
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const gd=typeof document<"u";function rj(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function Zee(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&rj(t.default)}const on=Object.assign;function B0(t,e){const n={};for(const i in e){const s=e[i];n[i]=ca(s)?s.map(t):t(s)}return n}const im=()=>{},ca=Array.isArray,aj=/#/g,ete=/&/g,tte=/\//g,nte=/=/g,ite=/\?/g,oj=/\+/g,ste=/%5B/g,rte=/%5D/g,lj=/%5E/g,ate=/%60/g,uj=/%7B/g,ote=/%7C/g,cj=/%7D/g,lte=/%20/g;function vP(t){return encodeURI(""+t).replace(ote,"|").replace(ste,"[").replace(rte,"]")}function ute(t){return vP(t).replace(uj,"{").replace(cj,"}").replace(lj,"^")}function VS(t){return vP(t).replace(oj,"%2B").replace(lte,"+").replace(aj,"%23").replace(ete,"%26").replace(ate,"`").replace(uj,"{").replace(cj,"}").replace(lj,"^")}function cte(t){return VS(t).replace(nte,"%3D")}function dte(t){return vP(t).replace(aj,"%23").replace(ite,"%3F")}function hte(t){return t==null?"":dte(t).replace(tte,"%2F")}function Vm(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const fte=/\/$/,mte=t=>t.replace(fte,"");function j0(t,e,n="/"){let i,s={},r="",a="";const o=e.indexOf("#");let l=e.indexOf("?");return o<l&&o>=0&&(l=-1),l>-1&&(i=e.slice(0,l),r=e.slice(l+1,o>-1?o:e.length),s=t(r)),o>-1&&(i=i||e.slice(0,o),a=e.slice(o,e.length)),i=_te(i??e,n),{fullPath:i+(r&&"?")+r+a,path:i,query:s,hash:Vm(a)}}function gte(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function WA(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function pte(t,e,n){const i=e.matched.length-1,s=n.matched.length-1;return i>-1&&i===s&&ih(e.matched[i],n.matched[s])&&dj(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function ih(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function dj(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!vte(t[n],e[n]))return!1;return!0}function vte(t,e){return ca(t)?YA(t,e):ca(e)?YA(e,t):t===e}function YA(t,e){return ca(e)?t.length===e.length&&t.every((n,i)=>n===e[i]):t.length===1&&t[0]===e}function _te(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),i=t.split("/"),s=i[i.length-1];(s===".."||s===".")&&i.push("");let r=n.length-1,a,o;for(a=0;a<i.length;a++)if(o=i[a],o!==".")if(o==="..")r>1&&r--;else break;return n.slice(0,r).join("/")+"/"+i.slice(a).join("/")}const nl={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var Lm;(function(t){t.pop="pop",t.push="push"})(Lm||(Lm={}));var sm;(function(t){t.back="back",t.forward="forward",t.unknown=""})(sm||(sm={}));function yte(t){if(!t)if(gd){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),mte(t)}const bte=/^[^#]+#/;function wte(t,e){return t.replace(bte,"#")+e}function xte(t,e){const n=document.documentElement.getBoundingClientRect(),i=t.getBoundingClientRect();return{behavior:e.behavior,left:i.left-n.left-(e.left||0),top:i.top-n.top-(e.top||0)}}const $b=()=>({left:window.scrollX,top:window.scrollY});function Ste(t){let e;if("el"in t){const n=t.el,i=typeof n=="string"&&n.startsWith("#"),s=typeof n=="string"?i?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!s)return;e=xte(s,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function GA(t,e){return(history.state?history.state.position-e:-1)+t}const LS=new Map;function kte(t,e){LS.set(t,e)}function Tte(t){const e=LS.get(t);return LS.delete(t),e}let Pte=()=>location.protocol+"//"+location.host;function hj(t,e){const{pathname:n,search:i,hash:s}=e,r=t.indexOf("#");if(r>-1){let o=s.includes(t.slice(r))?t.slice(r).length:1,l=s.slice(o);return l[0]!=="/"&&(l="/"+l),WA(l,"")}return WA(n,t)+i+s}function Cte(t,e,n,i){let s=[],r=[],a=null;const o=({state:f})=>{const h=hj(t,location),p=n.value,g=e.value;let v=0;if(f){if(n.value=h,e.value=f,a&&a===p){a=null;return}v=g?f.position-g.position:0}else i(h);s.forEach(_=>{_(n.value,p,{delta:v,type:Lm.pop,direction:v?v>0?sm.forward:sm.back:sm.unknown})})};function l(){a=n.value}function u(f){s.push(f);const h=()=>{const p=s.indexOf(f);p>-1&&s.splice(p,1)};return r.push(h),h}function d(){const{history:f}=window;f.state&&f.replaceState(on({},f.state,{scroll:$b()}),"")}function c(){for(const f of r)f();r=[],window.removeEventListener("popstate",o),window.removeEventListener("beforeunload",d)}return window.addEventListener("popstate",o),window.addEventListener("beforeunload",d,{passive:!0}),{pauseListeners:l,listen:u,destroy:c}}function qA(t,e,n,i=!1,s=!1){return{back:t,current:e,forward:n,replaced:i,position:window.history.length,scroll:s?$b():null}}function Ete(t){const{history:e,location:n}=window,i={value:hj(t,n)},s={value:e.state};s.value||r(i.value,{back:null,current:i.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function r(l,u,d){const c=t.indexOf("#"),f=c>-1?(n.host&&document.querySelector("base")?t:t.slice(c))+l:Pte()+t+l;try{e[d?"replaceState":"pushState"](u,"",f),s.value=u}catch(h){console.error(h),n[d?"replace":"assign"](f)}}function a(l,u){const d=on({},e.state,qA(s.value.back,l,s.value.forward,!0),u,{position:s.value.position});r(l,d,!0),i.value=l}function o(l,u){const d=on({},s.value,e.state,{forward:l,scroll:$b()});r(d.current,d,!0);const c=on({},qA(i.value,l,null),{position:d.position+1},u);r(l,c,!1),i.value=l}return{location:i,state:s,push:o,replace:a}}function Ite(t){t=yte(t);const e=Ete(t),n=Cte(t,e.state,e.location,e.replace);function i(r,a=!0){a||n.pauseListeners(),history.go(r)}const s=on({location:"",base:t,go:i,createHref:wte.bind(null,t)},e,n);return Object.defineProperty(s,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(s,"state",{enumerable:!0,get:()=>e.state.value}),s}function Dte(t){return t=location.host?t||location.pathname+location.search:"",t.includes("#")||(t+="#"),Ite(t)}function Ate(t){return typeof t=="string"||t&&typeof t=="object"}function fj(t){return typeof t=="string"||typeof t=="symbol"}const mj=Symbol("");var XA;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(XA||(XA={}));function sh(t,e){return on(new Error,{type:t,[mj]:!0},e)}function ro(t,e){return t instanceof Error&&mj in t&&(e==null||!!(t.type&e))}const KA="[^/]+?",Rte={sensitive:!1,strict:!1,start:!0,end:!0},Ote=/[.+*?^${}()[\]/\\]/g;function Mte(t,e){const n=on({},Rte,e),i=[];let s=n.start?"^":"";const r=[];for(const u of t){const d=u.length?[]:[90];n.strict&&!u.length&&(s+="/");for(let c=0;c<u.length;c++){const f=u[c];let h=40+(n.sensitive?.25:0);if(f.type===0)c||(s+="/"),s+=f.value.replace(Ote,"\\$&"),h+=40;else if(f.type===1){const{value:p,repeatable:g,optional:v,regexp:_}=f;r.push({name:p,repeatable:g,optional:v});const b=_||KA;if(b!==KA){h+=10;try{new RegExp(`(${b})`)}catch(k){throw new Error(`Invalid custom RegExp for param "${p}" (${b}): `+k.message)}}let x=g?`((?:${b})(?:/(?:${b}))*)`:`(${b})`;c||(x=v&&u.length<2?`(?:/${x})`:"/"+x),v&&(x+="?"),s+=x,h+=20,v&&(h+=-8),g&&(h+=-20),b===".*"&&(h+=-50)}d.push(h)}i.push(d)}if(n.strict&&n.end){const u=i.length-1;i[u][i[u].length-1]+=.7000000000000001}n.strict||(s+="/?"),n.end?s+="$":n.strict&&!s.endsWith("/")&&(s+="(?:/|$)");const a=new RegExp(s,n.sensitive?"":"i");function o(u){const d=u.match(a),c={};if(!d)return null;for(let f=1;f<d.length;f++){const h=d[f]||"",p=r[f-1];c[p.name]=h&&p.repeatable?h.split("/"):h}return c}function l(u){let d="",c=!1;for(const f of t){(!c||!d.endsWith("/"))&&(d+="/"),c=!1;for(const h of f)if(h.type===0)d+=h.value;else if(h.type===1){const{value:p,repeatable:g,optional:v}=h,_=p in u?u[p]:"";if(ca(_)&&!g)throw new Error(`Provided param "${p}" is an array but it is not repeatable (* or + modifiers)`);const b=ca(_)?_.join("/"):_;if(!b)if(v)f.length<2&&(d.endsWith("/")?d=d.slice(0,-1):c=!0);else throw new Error(`Missing required param "${p}"`);d+=b}}return d||"/"}return{re:a,score:i,keys:r,parse:o,stringify:l}}function Vte(t,e){let n=0;for(;n<t.length&&n<e.length;){const i=e[n]-t[n];if(i)return i;n++}return t.length<e.length?t.length===1&&t[0]===80?-1:1:t.length>e.length?e.length===1&&e[0]===80?1:-1:0}function gj(t,e){let n=0;const i=t.score,s=e.score;for(;n<i.length&&n<s.length;){const r=Vte(i[n],s[n]);if(r)return r;n++}if(Math.abs(s.length-i.length)===1){if(QA(i))return 1;if(QA(s))return-1}return s.length-i.length}function QA(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const Lte={type:0,value:""},Nte=/[a-zA-Z0-9_]/;function Fte(t){if(!t)return[[]];if(t==="/")return[[Lte]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(h){throw new Error(`ERR (${n})/"${u}": ${h}`)}let n=0,i=n;const s=[];let r;function a(){r&&s.push(r),r=[]}let o=0,l,u="",d="";function c(){u&&(n===0?r.push({type:0,value:u}):n===1||n===2||n===3?(r.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),r.push({type:1,value:u,regexp:d,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),u="")}function f(){u+=l}for(;o<t.length;){if(l=t[o++],l==="\\"&&n!==2){i=n,n=4;continue}switch(n){case 0:l==="/"?(u&&c(),a()):l===":"?(c(),n=1):f();break;case 4:f(),n=i;break;case 1:l==="("?n=2:Nte.test(l)?f():(c(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&o--);break;case 2:l===")"?d[d.length-1]=="\\"?d=d.slice(0,-1)+l:n=3:d+=l;break;case 3:c(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&o--,d="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${u}"`),c(),a(),s}function Bte(t,e,n){const i=Mte(Fte(t.path),n),s=on(i,{record:t,parent:e,children:[],alias:[]});return e&&!s.record.aliasOf==!e.record.aliasOf&&e.children.push(s),s}function jte(t,e){const n=[],i=new Map;e=tR({strict:!1,end:!0,sensitive:!1},e);function s(c){return i.get(c)}function r(c,f,h){const p=!h,g=ZA(c);g.aliasOf=h&&h.record;const v=tR(e,c),_=[g];if("alias"in c){const k=typeof c.alias=="string"?[c.alias]:c.alias;for(const I of k)_.push(ZA(on({},g,{components:h?h.record.components:g.components,path:I,aliasOf:h?h.record:g})))}let b,x;for(const k of _){const{path:I}=k;if(f&&I[0]!=="/"){const E=f.record.path,T=E[E.length-1]==="/"?"":"/";k.path=f.record.path+(I&&T+I)}if(b=Bte(k,f,v),h?h.alias.push(b):(x=x||b,x!==b&&x.alias.push(b),p&&c.name&&!eR(b)&&a(c.name)),pj(b)&&l(b),g.children){const E=g.children;for(let T=0;T<E.length;T++)r(E[T],b,h&&h.children[T])}h=h||b}return x?()=>{a(x)}:im}function a(c){if(fj(c)){const f=i.get(c);f&&(i.delete(c),n.splice(n.indexOf(f),1),f.children.forEach(a),f.alias.forEach(a))}else{const f=n.indexOf(c);f>-1&&(n.splice(f,1),c.record.name&&i.delete(c.record.name),c.children.forEach(a),c.alias.forEach(a))}}function o(){return n}function l(c){const f=Hte(c,n);n.splice(f,0,c),c.record.name&&!eR(c)&&i.set(c.record.name,c)}function u(c,f){let h,p={},g,v;if("name"in c&&c.name){if(h=i.get(c.name),!h)throw sh(1,{location:c});v=h.record.name,p=on(JA(f.params,h.keys.filter(x=>!x.optional).concat(h.parent?h.parent.keys.filter(x=>x.optional):[]).map(x=>x.name)),c.params&&JA(c.params,h.keys.map(x=>x.name))),g=h.stringify(p)}else if(c.path!=null)g=c.path,h=n.find(x=>x.re.test(g)),h&&(p=h.parse(g),v=h.record.name);else{if(h=f.name?i.get(f.name):n.find(x=>x.re.test(f.path)),!h)throw sh(1,{location:c,currentLocation:f});v=h.record.name,p=on({},f.params,c.params),g=h.stringify(p)}const _=[];let b=h;for(;b;)_.unshift(b.record),b=b.parent;return{name:v,path:g,params:p,matched:_,meta:Ute(_)}}t.forEach(c=>r(c));function d(){n.length=0,i.clear()}return{addRoute:r,resolve:u,removeRoute:a,clearRoutes:d,getRoutes:o,getRecordMatcher:s}}function JA(t,e){const n={};for(const i of e)i in t&&(n[i]=t[i]);return n}function ZA(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:$te(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function $te(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const i in t.components)e[i]=typeof n=="object"?n[i]:n;return e}function eR(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function Ute(t){return t.reduce((e,n)=>on(e,n.meta),{})}function tR(t,e){const n={};for(const i in t)n[i]=i in e?e[i]:t[i];return n}function Hte(t,e){let n=0,i=e.length;for(;n!==i;){const r=n+i>>1;gj(t,e[r])<0?i=r:n=r+1}const s=zte(t);return s&&(i=e.lastIndexOf(s,i-1)),i}function zte(t){let e=t;for(;e=e.parent;)if(pj(e)&&gj(t,e)===0)return e}function pj({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function Wte(t){const e={};if(t===""||t==="?")return e;const i=(t[0]==="?"?t.slice(1):t).split("&");for(let s=0;s<i.length;++s){const r=i[s].replace(oj," "),a=r.indexOf("="),o=Vm(a<0?r:r.slice(0,a)),l=a<0?null:Vm(r.slice(a+1));if(o in e){let u=e[o];ca(u)||(u=e[o]=[u]),u.push(l)}else e[o]=l}return e}function nR(t){let e="";for(let n in t){const i=t[n];if(n=cte(n),i==null){i!==void 0&&(e+=(e.length?"&":"")+n);continue}(ca(i)?i.map(r=>r&&VS(r)):[i&&VS(i)]).forEach(r=>{r!==void 0&&(e+=(e.length?"&":"")+n,r!=null&&(e+="="+r))})}return e}function Yte(t){const e={};for(const n in t){const i=t[n];i!==void 0&&(e[n]=ca(i)?i.map(s=>s==null?null:""+s):i==null?i:""+i)}return e}const Gte=Symbol(""),iR=Symbol(""),Ub=Symbol(""),_P=Symbol(""),NS=Symbol("");function bf(){let t=[];function e(i){return t.push(i),()=>{const s=t.indexOf(i);s>-1&&t.splice(s,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function ul(t,e,n,i,s,r=a=>a()){const a=i&&(i.enterCallbacks[s]=i.enterCallbacks[s]||[]);return()=>new Promise((o,l)=>{const u=f=>{f===!1?l(sh(4,{from:n,to:e})):f instanceof Error?l(f):Ate(f)?l(sh(2,{from:e,to:f})):(a&&i.enterCallbacks[s]===a&&typeof f=="function"&&a.push(f),o())},d=r(()=>t.call(i&&i.instances[s],e,n,u));let c=Promise.resolve(d);t.length<3&&(c=c.then(u)),c.catch(f=>l(f))})}function $0(t,e,n,i,s=r=>r()){const r=[];for(const a of t)for(const o in a.components){let l=a.components[o];if(!(e!=="beforeRouteEnter"&&!a.instances[o]))if(rj(l)){const d=(l.__vccOpts||l)[e];d&&r.push(ul(d,n,i,a,o,s))}else{let u=l();r.push(()=>u.then(d=>{if(!d)throw new Error(`Couldn't resolve component "${o}" at "${a.path}"`);const c=Zee(d)?d.default:d;a.mods[o]=d,a.components[o]=c;const h=(c.__vccOpts||c)[e];return h&&ul(h,n,i,a,o,s)()}))}}return r}function sR(t){const e=gt(Ub),n=gt(_P),i=O(()=>{const l=se(t.to);return e.resolve(l)}),s=O(()=>{const{matched:l}=i.value,{length:u}=l,d=l[u-1],c=n.matched;if(!d||!c.length)return-1;const f=c.findIndex(ih.bind(null,d));if(f>-1)return f;const h=rR(l[u-2]);return u>1&&rR(d)===h&&c[c.length-1].path!==h?c.findIndex(ih.bind(null,l[u-2])):f}),r=O(()=>s.value>-1&&Jte(n.params,i.value.params)),a=O(()=>s.value>-1&&s.value===n.matched.length-1&&dj(n.params,i.value.params));function o(l={}){if(Qte(l)){const u=e[se(t.replace)?"replace":"push"](se(t.to)).catch(im);return t.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>u),u}return Promise.resolve()}return{route:i,href:O(()=>i.value.href),isActive:r,isExactActive:a,navigate:o}}function qte(t){return t.length===1?t[0]:t}const Xte=kt({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:sR,setup(t,{slots:e}){const n=mn(sR(t)),{options:i}=gt(Ub),s=O(()=>({[aR(t.activeClass,i.linkActiveClass,"router-link-active")]:n.isActive,[aR(t.exactActiveClass,i.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const r=e.default&&qte(e.default(n));return t.custom?r:Ai("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:s.value},r)}}}),Kte=Xte;function Qte(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function Jte(t,e){for(const n in e){const i=e[n],s=t[n];if(typeof i=="string"){if(i!==s)return!1}else if(!ca(s)||s.length!==i.length||i.some((r,a)=>r!==s[a]))return!1}return!0}function rR(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const aR=(t,e,n)=>t??e??n,Zte=kt({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const i=gt(NS),s=O(()=>t.route||i.value),r=gt(iR,0),a=O(()=>{let u=se(r);const{matched:d}=s.value;let c;for(;(c=d[u])&&!c.components;)u++;return u}),o=O(()=>s.value.matched[a.value]);Jt(iR,O(()=>a.value+1)),Jt(Gte,o),Jt(NS,s);const l=G();return we(()=>[l.value,o.value,t.name],([u,d,c],[f,h,p])=>{d&&(d.instances[c]=u,h&&h!==d&&u&&u===f&&(d.leaveGuards.size||(d.leaveGuards=h.leaveGuards),d.updateGuards.size||(d.updateGuards=h.updateGuards))),u&&d&&(!h||!ih(d,h)||!f)&&(d.enterCallbacks[c]||[]).forEach(g=>g(u))},{flush:"post"}),()=>{const u=s.value,d=t.name,c=o.value,f=c&&c.components[d];if(!f)return oR(n.default,{Component:f,route:u});const h=c.props[d],p=h?h===!0?u.params:typeof h=="function"?h(u):h:null,v=Ai(f,on({},p,e,{onVnodeUnmounted:_=>{_.component.isUnmounted&&(c.instances[d]=null)},ref:l}));return oR(n.default,{Component:v,route:u})||v}}});function oR(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const ene=Zte;function tne(t){const e=jte(t.routes,t),n=t.parseQuery||Wte,i=t.stringifyQuery||nR,s=t.history,r=bf(),a=bf(),o=bf(),l=Ve(nl);let u=nl;gd&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const d=B0.bind(null,U=>""+U),c=B0.bind(null,hte),f=B0.bind(null,Vm);function h(U,X){let ae,pe;return fj(U)?(ae=e.getRecordMatcher(U),pe=X):pe=U,e.addRoute(pe,ae)}function p(U){const X=e.getRecordMatcher(U);X&&e.removeRoute(X)}function g(){return e.getRoutes().map(U=>U.record)}function v(U){return!!e.getRecordMatcher(U)}function _(U,X){if(X=on({},X||l.value),typeof U=="string"){const $=j0(n,U,X.path),ne=e.resolve({path:$.path},X),ue=s.createHref($.fullPath);return on($,ne,{params:f(ne.params),hash:Vm($.hash),redirectedFrom:void 0,href:ue})}let ae;if(U.path!=null)ae=on({},U,{path:j0(n,U.path,X.path).path});else{const $=on({},U.params);for(const ne in $)$[ne]==null&&delete $[ne];ae=on({},U,{params:c($)}),X.params=c(X.params)}const pe=e.resolve(ae,X),ve=U.hash||"";pe.params=d(f(pe.params));const F=gte(i,on({},U,{hash:ute(ve),path:pe.path})),L=s.createHref(F);return on({fullPath:F,hash:ve,query:i===nR?Yte(U.query):U.query||{}},pe,{redirectedFrom:void 0,href:L})}function b(U){return typeof U=="string"?j0(n,U,l.value.path):on({},U)}function x(U,X){if(u!==U)return sh(8,{from:X,to:U})}function k(U){return T(U)}function I(U){return k(on(b(U),{replace:!0}))}function E(U){const X=U.matched[U.matched.length-1];if(X&&X.redirect){const{redirect:ae}=X;let pe=typeof ae=="function"?ae(U):ae;return typeof pe=="string"&&(pe=pe.includes("?")||pe.includes("#")?pe=b(pe):{path:pe},pe.params={}),on({query:U.query,hash:U.hash,params:pe.path!=null?{}:U.params},pe)}}function T(U,X){const ae=u=_(U),pe=l.value,ve=U.state,F=U.force,L=U.replace===!0,$=E(ae);if($)return T(on(b($),{state:typeof $=="object"?on({},ve,$.state):ve,force:F,replace:L}),X||ae);const ne=ae;ne.redirectedFrom=X;let ue;return!F&&pte(i,pe,ae)&&(ue=sh(16,{to:ne,from:pe}),Z(pe,pe,!0,!1)),(ue?Promise.resolve(ue):P(ne,pe)).catch(ie=>ro(ie)?ro(ie,2)?ie:Y(ie):W(ie,ne,pe)).then(ie=>{if(ie){if(ro(ie,2))return T(on({replace:L},b(ie.to),{state:typeof ie.to=="object"?on({},ve,ie.to.state):ve,force:F}),X||ne)}else ie=D(ne,pe,!0,L,ve);return C(ne,pe,ie),ie})}function S(U,X){const ae=x(U,X);return ae?Promise.reject(ae):Promise.resolve()}function w(U){const X=de.values().next().value;return X&&typeof X.runWithContext=="function"?X.runWithContext(U):U()}function P(U,X){let ae;const[pe,ve,F]=nne(U,X);ae=$0(pe.reverse(),"beforeRouteLeave",U,X);for(const $ of pe)$.leaveGuards.forEach(ne=>{ae.push(ul(ne,U,X))});const L=S.bind(null,U,X);return ae.push(L),re(ae).then(()=>{ae=[];for(const $ of r.list())ae.push(ul($,U,X));return ae.push(L),re(ae)}).then(()=>{ae=$0(ve,"beforeRouteUpdate",U,X);for(const $ of ve)$.updateGuards.forEach(ne=>{ae.push(ul(ne,U,X))});return ae.push(L),re(ae)}).then(()=>{ae=[];for(const $ of F)if($.beforeEnter)if(ca($.beforeEnter))for(const ne of $.beforeEnter)ae.push(ul(ne,U,X));else ae.push(ul($.beforeEnter,U,X));return ae.push(L),re(ae)}).then(()=>(U.matched.forEach($=>$.enterCallbacks={}),ae=$0(F,"beforeRouteEnter",U,X,w),ae.push(L),re(ae))).then(()=>{ae=[];for(const $ of a.list())ae.push(ul($,U,X));return ae.push(L),re(ae)}).catch($=>ro($,8)?$:Promise.reject($))}function C(U,X,ae){o.list().forEach(pe=>w(()=>pe(U,X,ae)))}function D(U,X,ae,pe,ve){const F=x(U,X);if(F)return F;const L=X===nl,$=gd?history.state:{};ae&&(pe||L?s.replace(U.fullPath,on({scroll:L&&$&&$.scroll},ve)):s.push(U.fullPath,ve)),l.value=U,Z(U,X,ae,L),Y()}let A;function N(){A||(A=s.listen((U,X,ae)=>{if(!he.listening)return;const pe=_(U),ve=E(pe);if(ve){T(on(ve,{replace:!0,force:!0}),pe).catch(im);return}u=pe;const F=l.value;gd&&kte(GA(F.fullPath,ae.delta),$b()),P(pe,F).catch(L=>ro(L,12)?L:ro(L,2)?(T(on(b(L.to),{force:!0}),pe).then($=>{ro($,20)&&!ae.delta&&ae.type===Lm.pop&&s.go(-1,!1)}).catch(im),Promise.reject()):(ae.delta&&s.go(-ae.delta,!1),W(L,pe,F))).then(L=>{L=L||D(pe,F,!1),L&&(ae.delta&&!ro(L,8)?s.go(-ae.delta,!1):ae.type===Lm.pop&&ro(L,20)&&s.go(-1,!1)),C(pe,F,L)}).catch(im)}))}let B=bf(),z=bf(),q;function W(U,X,ae){Y(U);const pe=z.list();return pe.length?pe.forEach(ve=>ve(U,X,ae)):console.error(U),Promise.reject(U)}function K(){return q&&l.value!==nl?Promise.resolve():new Promise((U,X)=>{B.add([U,X])})}function Y(U){return q||(q=!U,N(),B.list().forEach(([X,ae])=>U?ae(U):X()),B.reset()),U}function Z(U,X,ae,pe){const{scrollBehavior:ve}=t;if(!gd||!ve)return Promise.resolve();const F=!ae&&Tte(GA(U.fullPath,0))||(pe||!ae)&&history.state&&history.state.scroll||null;return vt().then(()=>ve(U,X,F)).then(L=>L&&Ste(L)).catch(L=>W(L,U,X))}const ee=U=>s.go(U);let le;const de=new Set,he={currentRoute:l,listening:!0,addRoute:h,removeRoute:p,clearRoutes:e.clearRoutes,hasRoute:v,getRoutes:g,resolve:_,options:t,push:k,replace:I,go:ee,back:()=>ee(-1),forward:()=>ee(1),beforeEach:r.add,beforeResolve:a.add,afterEach:o.add,onError:z.add,isReady:K,install(U){const X=this;U.component("RouterLink",Kte),U.component("RouterView",ene),U.config.globalProperties.$router=X,Object.defineProperty(U.config.globalProperties,"$route",{enumerable:!0,get:()=>se(l)}),gd&&!le&&l.value===nl&&(le=!0,k(s.location).catch(ve=>{}));const ae={};for(const ve in nl)Object.defineProperty(ae,ve,{get:()=>l.value[ve],enumerable:!0});U.provide(Ub,X),U.provide(_P,qV(ae)),U.provide(NS,l);const pe=U.unmount;de.add(U),U.unmount=function(){de.delete(U),de.size<1&&(u=nl,A&&A(),A=null,l.value=nl,le=!1,q=!1),pe()}}};function re(U){return U.reduce((X,ae)=>X.then(()=>w(ae)),Promise.resolve())}return he}function nne(t,e){const n=[],i=[],s=[],r=Math.max(e.matched.length,t.matched.length);for(let a=0;a<r;a++){const o=e.matched[a];o&&(t.matched.find(u=>ih(u,o))?i.push(o):n.push(o));const l=t.matched[a];l&&(e.matched.find(u=>ih(u,l))||s.push(l))}return[n,i,s]}function Oc(){return gt(Ub)}function Wg(t){return gt(_P)}function Ns(t,e){let n;function i(){n=Sg(),n.run(()=>e.length?e(()=>{n==null||n.stop(),i()}):e())}we(t,s=>{s&&!n?i():s||(n==null||n.stop(),n=void 0)},{immediate:!0}),as(()=>{n==null||n.stop()})}const Yt=typeof window<"u",yP=Yt&&"IntersectionObserver"in window,ine=Yt&&("ontouchstart"in window||window.navigator.maxTouchPoints>0),lR=Yt&&"EyeDropper"in window;function uR(t,e,n){sne(t,e),e.set(t,n)}function sne(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function rne(t,e,n){return t.set(vj(t,e),n),n}function gu(t,e){return t.get(vj(t,e))}function vj(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}function _j(t,e,n){const i=e.length-1;if(i<0)return t===void 0?n:t;for(let s=0;s<i;s++){if(t==null)return n;t=t[e[s]]}return t==null||t[e[i]]===void 0?n:t[e[i]]}function Ka(t,e){if(t===e)return!0;if(t instanceof Date&&e instanceof Date&&t.getTime()!==e.getTime()||t!==Object(t)||e!==Object(e))return!1;const n=Object.keys(t);return n.length!==Object.keys(e).length?!1:n.every(i=>Ka(t[i],e[i]))}function ac(t,e,n){return t==null||!e||typeof e!="string"?n:t[e]!==void 0?t[e]:(e=e.replace(/\[(\w+)\]/g,".$1"),e=e.replace(/^\./,""),_j(t,e.split("."),n))}function si(t,e,n){if(e===!0)return t===void 0?n:t;if(e==null||typeof e=="boolean")return n;if(t!==Object(t)){if(typeof e!="function")return n;const s=e(t,n);return typeof s>"u"?n:s}if(typeof e=="string")return ac(t,e,n);if(Array.isArray(e))return _j(t,e,n);if(typeof e!="function")return n;const i=e(t,n);return typeof i>"u"?n:i}function mr(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return Array.from({length:t},(n,i)=>e+i)}function Le(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"px";if(!(t==null||t===""))return isNaN(+t)?String(t):isFinite(+t)?`${Number(t)}${e}`:void 0}function Hb(t){return t!==null&&typeof t=="object"&&!Array.isArray(t)}function cR(t){let e;return t!==null&&typeof t=="object"&&((e=Object.getPrototypeOf(t))===Object.prototype||e===null)}function bP(t){if(t&&"$el"in t){const e=t.$el;return(e==null?void 0:e.nodeType)===Node.TEXT_NODE?e.nextElementSibling:e}return t}const dR=Object.freeze({enter:13,tab:9,delete:46,esc:27,space:32,up:38,down:40,left:37,right:39,end:35,home:36,del:46,backspace:8,insert:45,pageup:33,pagedown:34,shift:16}),FS=Object.freeze({enter:"Enter",tab:"Tab",delete:"Delete",esc:"Escape",space:"Space",up:"ArrowUp",down:"ArrowDown",left:"ArrowLeft",right:"ArrowRight",end:"End",home:"Home",del:"Delete",backspace:"Backspace",insert:"Insert",pageup:"PageUp",pagedown:"PageDown",shift:"Shift"});function yj(t){return Object.keys(t)}function Mu(t,e){return e.every(n=>t.hasOwnProperty(n))}function wP(t,e){const n={},i=new Set(Object.keys(t));for(const s of e)i.has(s)&&(n[s]=t[s]);return n}function BS(t,e,n){const i=Object.create(null),s=Object.create(null);for(const r in t)e.some(a=>a instanceof RegExp?a.test(r):a===r)?i[r]=t[r]:s[r]=t[r];return[i,s]}function tn(t,e){const n={...t};return e.forEach(i=>delete n[i]),n}function Yg(t,e){const n={};return e.forEach(i=>n[i]=t[i]),n}const bj=/^on[^a-z]/,zb=t=>bj.test(t),ane=["onAfterscriptexecute","onAnimationcancel","onAnimationend","onAnimationiteration","onAnimationstart","onAuxclick","onBeforeinput","onBeforescriptexecute","onChange","onClick","onCompositionend","onCompositionstart","onCompositionupdate","onContextmenu","onCopy","onCut","onDblclick","onFocusin","onFocusout","onFullscreenchange","onFullscreenerror","onGesturechange","onGestureend","onGesturestart","onGotpointercapture","onInput","onKeydown","onKeypress","onKeyup","onLostpointercapture","onMousedown","onMousemove","onMouseout","onMouseover","onMouseup","onMousewheel","onPaste","onPointercancel","onPointerdown","onPointerenter","onPointerleave","onPointermove","onPointerout","onPointerover","onPointerup","onReset","onSelect","onSubmit","onTouchcancel","onTouchend","onTouchmove","onTouchstart","onTransitioncancel","onTransitionend","onTransitionrun","onTransitionstart","onWheel"],one=["ArrowUp","ArrowDown","ArrowRight","ArrowLeft","Enter","Escape","Tab"," "];function lne(t){return t.isComposing&&one.includes(t.key)}function zo(t){const[e,n]=BS(t,[bj]),i=tn(e,ane),[s,r]=BS(n,["class","style","id",/^data-/]);return Object.assign(s,e),Object.assign(r,i),[s,r]}function bn(t){return t==null?[]:Array.isArray(t)?t:[t]}function une(t,e){let n=0;const i=function(){for(var s=arguments.length,r=new Array(s),a=0;a<s;a++)r[a]=arguments[a];clearTimeout(n),n=setTimeout(()=>t(...r),se(e))};return i.clear=()=>{clearTimeout(n)},i.immediate=t,i}function $n(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;return Math.max(e,Math.min(n,t))}function L_(t){const e=t.toString().trim();return e.includes(".")?e.length-e.indexOf(".")-1:0}function hR(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"0";return t+n.repeat(Math.max(0,e-t.length))}function fR(t,e){return(arguments.length>2&&arguments[2]!==void 0?arguments[2]:"0").repeat(Math.max(0,e-t.length))+t}function cne(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;const n=[];let i=0;for(;i<t.length;)n.push(t.substr(i,e)),i+=e;return n}function dne(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return Array.from({length:Math.ceil(t.length/e)},(n,i)=>t.slice(i*e,i*e+e))}function jS(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e3;if(t<e)return`${t} B`;const n=e===1024?["Ki","Mi","Gi"]:["k","M","G"];let i=-1;for(;Math.abs(t)>=e&&i<n.length-1;)t/=e,++i;return`${t.toFixed(1)} ${n[i]}B`}function xs(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;const i={};for(const s in t)i[s]=t[s];for(const s in e){const r=t[s],a=e[s];if(cR(r)&&cR(a)){i[s]=xs(r,a,n);continue}if(n&&Array.isArray(r)&&Array.isArray(a)){i[s]=n(r,a);continue}i[s]=a}return i}function wj(t){return t.map(e=>e.type===Ee?wj(e.children):e).flat()}function Hu(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";if(Hu.cache.has(t))return Hu.cache.get(t);const e=t.replace(/[^a-z]/gi,"-").replace(/\B([A-Z])/g,"-$1").toLowerCase();return Hu.cache.set(t,e),e}Hu.cache=new Map;function yd(t,e){if(!e||typeof e!="object")return[];if(Array.isArray(e))return e.map(n=>yd(t,n)).flat(1);if(e.suspense)return yd(t,e.ssContent);if(Array.isArray(e.children))return e.children.map(n=>yd(t,n)).flat(1);if(e.component){if(Object.getOwnPropertySymbols(e.component.provides).includes(t))return[e.component];if(e.component.subTree)return yd(t,e.component.subTree).flat(1)}return[]}var Up=new WeakMap,ed=new WeakMap;class hne{constructor(e){uR(this,Up,[]),uR(this,ed,0),this.size=e}push(e){gu(Up,this)[gu(ed,this)]=e,rne(ed,this,(gu(ed,this)+1)%this.size)}values(){return gu(Up,this).slice(gu(ed,this)).concat(gu(Up,this).slice(0,gu(ed,this)))}}function fne(t){return"touches"in t?{clientX:t.touches[0].clientX,clientY:t.touches[0].clientY}:{clientX:t.clientX,clientY:t.clientY}}function xP(t){const e=mn({}),n=O(t);return yn(()=>{for(const i in n.value)e[i]=n.value[i]},{flush:"sync"}),Kl(e)}function N_(t,e){return t.includes(e)}function xj(t){return t[2].toLowerCase()+t.slice(3)}const Oi=()=>[Function,Array];function mR(t,e){return e="on"+pa(e),!!(t[e]||t[`${e}Once`]||t[`${e}Capture`]||t[`${e}OnceCapture`]||t[`${e}CaptureOnce`])}function SP(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];if(Array.isArray(t))for(const s of t)s(...n);else typeof t=="function"&&t(...n)}function Nm(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const n=["button","[href]",'input:not([type="hidden"])',"select","textarea","[tabindex]"].map(i=>`${i}${e?':not([tabindex="-1"])':""}:not([disabled])`).join(", ");return[...t.querySelectorAll(n)]}function Sj(t,e,n){let i,s=t.indexOf(document.activeElement);const r=e==="next"?1:-1;do s+=r,i=t[s];while((!i||i.offsetParent==null||!((n==null?void 0:n(i))??!0))&&s<t.length&&s>=0);return i}function zu(t,e){var i,s,r,a;const n=Nm(t);if(!e)(t===document.activeElement||!t.contains(document.activeElement))&&((i=n[0])==null||i.focus());else if(e==="first")(s=n[0])==null||s.focus();else if(e==="last")(r=n.at(-1))==null||r.focus();else if(typeof e=="number")(a=n[e])==null||a.focus();else{const o=Sj(n,e);o?o.focus():zu(t,e==="next"?"first":"last")}}function Hp(t){return t==null||typeof t=="string"&&t.trim()===""}function kj(){}function rh(t,e){if(!(Yt&&typeof CSS<"u"&&typeof CSS.supports<"u"&&CSS.supports(`selector(${e})`)))return null;try{return!!t&&t.matches(e)}catch{return null}}function Wb(t){return t.some(e=>Rl(e)?e.type===bs?!1:e.type!==Ee||Wb(e.children):!0)?t:null}function mne(t,e){if(!Yt||t===0)return e(),()=>{};const n=window.setTimeout(e,t);return()=>window.clearTimeout(n)}function gne(t,e){const n=t.clientX,i=t.clientY,s=e.getBoundingClientRect(),r=s.left,a=s.top,o=s.right,l=s.bottom;return n>=r&&n<=o&&i>=a&&i<=l}function F_(){const t=Ve(),e=n=>{t.value=n};return Object.defineProperty(e,"value",{enumerable:!0,get:()=>t.value,set:n=>t.value=n}),Object.defineProperty(e,"el",{enumerable:!0,get:()=>bP(t.value)}),e}function B_(t){const e=t.key.length===1,n=!t.ctrlKey&&!t.metaKey&&!t.altKey;return e&&n}const Tj=["top","bottom"],pne=["start","end","left","right"];function $S(t,e){let[n,i]=t.split(" ");return i||(i=N_(Tj,n)?"start":N_(pne,n)?"top":"center"),{side:US(n,e),align:US(i,e)}}function US(t,e){return t==="start"?e?"right":"left":t==="end"?e?"left":"right":t}function U0(t){return{side:{center:"center",top:"bottom",bottom:"top",left:"right",right:"left"}[t.side],align:t.align}}function H0(t){return{side:t.side,align:{center:"center",top:"bottom",bottom:"top",left:"right",right:"left"}[t.align]}}function gR(t){return{side:t.align,align:t.side}}function pR(t){return N_(Tj,t.side)?"y":"x"}class Wu{constructor(e){let{x:n,y:i,width:s,height:r}=e;this.x=n,this.y=i,this.width=s,this.height=r}get top(){return this.y}get bottom(){return this.y+this.height}get left(){return this.x}get right(){return this.x+this.width}}function vR(t,e){return{x:{before:Math.max(0,e.left-t.left),after:Math.max(0,t.right-e.right)},y:{before:Math.max(0,e.top-t.top),after:Math.max(0,t.bottom-e.bottom)}}}function Pj(t){return Array.isArray(t)?new Wu({x:t[0],y:t[1],width:0,height:0}):t.getBoundingClientRect()}function kP(t){const e=t.getBoundingClientRect(),n=getComputedStyle(t),i=n.transform;if(i){let s,r,a,o,l;if(i.startsWith("matrix3d("))s=i.slice(9,-1).split(/, /),r=+s[0],a=+s[5],o=+s[12],l=+s[13];else if(i.startsWith("matrix("))s=i.slice(7,-1).split(/, /),r=+s[0],a=+s[3],o=+s[4],l=+s[5];else return new Wu(e);const u=n.transformOrigin,d=e.x-o-(1-r)*parseFloat(u),c=e.y-l-(1-a)*parseFloat(u.slice(u.indexOf(" ")+1)),f=r?e.width/r:t.offsetWidth+1,h=a?e.height/a:t.offsetHeight+1;return new Wu({x:d,y:c,width:f,height:h})}else return new Wu(e)}function Vu(t,e,n){if(typeof t.animate>"u")return{finished:Promise.resolve()};let i;try{i=t.animate(e,n)}catch{return{finished:Promise.resolve()}}return typeof i.finished>"u"&&(i.finished=new Promise(s=>{i.onfinish=()=>{s(i)}})),i}const Rv=new WeakMap;function vne(t,e){Object.keys(e).forEach(n=>{if(zb(n)){const i=xj(n),s=Rv.get(t);if(e[n]==null)s==null||s.forEach(r=>{const[a,o]=r;a===i&&(t.removeEventListener(i,o),s.delete(r))});else if(!s||![...s].some(r=>r[0]===i&&r[1]===e[n])){t.addEventListener(i,e[n]);const r=s||new Set;r.add([i,e[n]]),Rv.has(t)||Rv.set(t,r)}}else e[n]==null?t.removeAttribute(n):t.setAttribute(n,e[n])})}function _ne(t,e){Object.keys(e).forEach(n=>{if(zb(n)){const i=xj(n),s=Rv.get(t);s==null||s.forEach(r=>{const[a,o]=r;a===i&&(t.removeEventListener(i,o),s.delete(r))})}else t.removeAttribute(n)})}const td=2.4,_R=.2126729,yR=.7151522,bR=.072175,yne=.55,bne=.58,wne=.57,xne=.62,zp=.03,wR=1.45,Sne=5e-4,kne=1.25,Tne=1.25,Pne=.078,xR=12.82051282051282,Wp=.06,Cne=.001;function SR(t,e){const n=(t.r/255)**td,i=(t.g/255)**td,s=(t.b/255)**td,r=(e.r/255)**td,a=(e.g/255)**td,o=(e.b/255)**td;let l=n*_R+i*yR+s*bR,u=r*_R+a*yR+o*bR;if(l<=zp&&(l+=(zp-l)**wR),u<=zp&&(u+=(zp-u)**wR),Math.abs(u-l)<Sne)return 0;let d;if(u>l){const c=(u**yne-l**bne)*kne;d=c<Cne?0:c<Pne?c-c*xR*Wp:c-Wp}else{const c=(u**xne-l**wne)*Tne;d=c>-.001?0:c>-.078?c-c*xR*Wp:c+Wp}return d*100}function Ene(t,e){e=Array.isArray(e)?e.slice(0,-1).map(n=>`'${n}'`).join(", ")+` or '${e.at(-1)}'`:`'${e}'`}const j_=.20689655172413793,Ine=t=>t>j_**3?Math.cbrt(t):t/(3*j_**2)+4/29,Dne=t=>t>j_?t**3:3*j_**2*(t-4/29);function Cj(t){const e=Ine,n=e(t[1]);return[116*n-16,500*(e(t[0]/.95047)-n),200*(n-e(t[2]/1.08883))]}function Ej(t){const e=Dne,n=(t[0]+16)/116;return[e(n+t[1]/500)*.95047,e(n),e(n-t[2]/200)*1.08883]}const Ane=[[3.2406,-1.5372,-.4986],[-.9689,1.8758,.0415],[.0557,-.204,1.057]],Rne=t=>t<=.0031308?t*12.92:1.055*t**(1/2.4)-.055,One=[[.4124,.3576,.1805],[.2126,.7152,.0722],[.0193,.1192,.9505]],Mne=t=>t<=.04045?t/12.92:((t+.055)/1.055)**2.4;function Ij(t){const e=Array(3),n=Rne,i=Ane;for(let s=0;s<3;++s)e[s]=Math.round($n(n(i[s][0]*t[0]+i[s][1]*t[1]+i[s][2]*t[2]))*255);return{r:e[0],g:e[1],b:e[2]}}function TP(t){let{r:e,g:n,b:i}=t;const s=[0,0,0],r=Mne,a=One;e=r(e/255),n=r(n/255),i=r(i/255);for(let o=0;o<3;++o)s[o]=a[o][0]*e+a[o][1]*n+a[o][2]*i;return s}function HS(t){return!!t&&/^(#|var\(--|(rgb|hsl)a?\()/.test(t)}function Vne(t){return HS(t)&&!/^((rgb|hsl)a?\()?var\(--/.test(t)}const kR=/^(?<fn>(?:rgb|hsl)a?)\((?<values>.+)\)/,Lne={rgb:(t,e,n,i)=>({r:t,g:e,b:n,a:i}),rgba:(t,e,n,i)=>({r:t,g:e,b:n,a:i}),hsl:(t,e,n,i)=>TR({h:t,s:e,l:n,a:i}),hsla:(t,e,n,i)=>TR({h:t,s:e,l:n,a:i}),hsv:(t,e,n,i)=>Oo({h:t,s:e,v:n,a:i}),hsva:(t,e,n,i)=>Oo({h:t,s:e,v:n,a:i})};function Rr(t){if(typeof t=="number")return{r:(t&16711680)>>16,g:(t&65280)>>8,b:t&255};if(typeof t=="string"&&kR.test(t)){const{groups:e}=t.match(kR),{fn:n,values:i}=e,s=i.split(/,\s*/).map(r=>r.endsWith("%")&&["hsl","hsla","hsv","hsva"].includes(n)?parseFloat(r)/100:parseFloat(r));return Lne[n](...s)}else if(typeof t=="string"){let e=t.startsWith("#")?t.slice(1):t;return[3,4].includes(e.length)?e=e.split("").map(n=>n+n).join(""):[6,8].includes(e.length),Mj(e)}else if(typeof t=="object"){if(Mu(t,["r","g","b"]))return t;if(Mu(t,["h","s","l"]))return Oo(PP(t));if(Mu(t,["h","s","v"]))return Oo(t)}throw new TypeError(`Invalid color: ${t==null?t:String(t)||t.constructor.name}
Expected #hex, #hexa, rgb(), rgba(), hsl(), hsla(), object or number`)}function Oo(t){const{h:e,s:n,v:i,a:s}=t,r=o=>{const l=(o+e/60)%6;return i-i*n*Math.max(Math.min(l,4-l,1),0)},a=[r(5),r(3),r(1)].map(o=>Math.round(o*255));return{r:a[0],g:a[1],b:a[2],a:s}}function TR(t){return Oo(PP(t))}function Yb(t){if(!t)return{h:0,s:1,v:1,a:1};const e=t.r/255,n=t.g/255,i=t.b/255,s=Math.max(e,n,i),r=Math.min(e,n,i);let a=0;s!==r&&(s===e?a=60*(0+(n-i)/(s-r)):s===n?a=60*(2+(i-e)/(s-r)):s===i&&(a=60*(4+(e-n)/(s-r)))),a<0&&(a=a+360);const o=s===0?0:(s-r)/s,l=[a,o,s];return{h:l[0],s:l[1],v:l[2],a:t.a}}function Dj(t){const{h:e,s:n,v:i,a:s}=t,r=i-i*n/2,a=r===1||r===0?0:(i-r)/Math.min(r,1-r);return{h:e,s:a,l:r,a:s}}function PP(t){const{h:e,s:n,l:i,a:s}=t,r=i+n*Math.min(i,1-i),a=r===0?0:2-2*i/r;return{h:e,s:a,v:r,a:s}}function Aj(t){let{r:e,g:n,b:i,a:s}=t;return s===void 0?`rgb(${e}, ${n}, ${i})`:`rgba(${e}, ${n}, ${i}, ${s})`}function Rj(t){return Aj(Oo(t))}function Yp(t){const e=Math.round(t).toString(16);return("00".substr(0,2-e.length)+e).toUpperCase()}function Oj(t){let{r:e,g:n,b:i,a:s}=t;return`#${[Yp(e),Yp(n),Yp(i),s!==void 0?Yp(Math.round(s*255)):""].join("")}`}function Mj(t){t=Nne(t);let[e,n,i,s]=cne(t,2).map(r=>parseInt(r,16));return s=s===void 0?s:s/255,{r:e,g:n,b:i,a:s}}function Vj(t){const e=Mj(t);return Yb(e)}function Lj(t){return Oj(Oo(t))}function Nne(t){return t.startsWith("#")&&(t=t.slice(1)),t=t.replace(/([^0-9a-f])/gi,"F"),(t.length===3||t.length===4)&&(t=t.split("").map(e=>e+e).join("")),t.length!==6&&(t=hR(hR(t,6),8,"F")),t}function Fne(t,e){const n=Cj(TP(t));return n[0]=n[0]+e*10,Ij(Ej(n))}function Bne(t,e){const n=Cj(TP(t));return n[0]=n[0]-e*10,Ij(Ej(n))}function zS(t){const e=Rr(t);return TP(e)[1]}function jne(t,e){const n=zS(t),i=zS(e),s=Math.max(n,i),r=Math.min(n,i);return(s+.05)/(r+.05)}function Nj(t){const e=Math.abs(SR(Rr(0),Rr(t)));return Math.abs(SR(Rr(16777215),Rr(t)))>Math.min(e,50)?"#fff":"#000"}function te(t,e){return n=>Object.keys(t).reduce((i,s)=>{const a=typeof t[s]=="object"&&t[s]!=null&&!Array.isArray(t[s])?t[s]:{type:t[s]};return n&&s in n?i[s]={...a,default:n[s]}:i[s]=a,e&&!i[s].source&&(i[s].source=e),i},{})}const Be=te({class:[String,Array,Object],style:{type:[String,Array,Object],default:null}},"component");function Gn(t,e){const n=Cc();if(!n)throw new Error(`[Vuetify] ${t} must be called from inside a setup function`);return n}function Qa(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"composables";const e=Gn(t).type;return Hu((e==null?void 0:e.aliasName)||(e==null?void 0:e.name))}let Fj=0,Ov=new WeakMap;function zi(){const t=Gn("getUid");if(Ov.has(t))return Ov.get(t);{const e=Fj++;return Ov.set(t,e),e}}zi.reset=()=>{Fj=0,Ov=new WeakMap};function $ne(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Gn("injectSelf");const{provides:n}=e;if(n&&t in n)return n[t]}const ah=Symbol.for("vuetify:defaults");function Une(t){return G(t)}function CP(){const t=gt(ah);if(!t)throw new Error("[Vuetify] Could not find defaults instance");return t}function Dn(t,e){const n=CP(),i=G(t),s=O(()=>{if(se(e==null?void 0:e.disabled))return n.value;const a=se(e==null?void 0:e.scoped),o=se(e==null?void 0:e.reset),l=se(e==null?void 0:e.root);if(i.value==null&&!(a||o||l))return n.value;let u=xs(i.value,{prev:n.value});if(a)return u;if(o||l){const d=Number(o||1/0);for(let c=0;c<=d&&!(!u||!("prev"in u));c++)u=u.prev;return u&&typeof l=="string"&&l in u&&(u=xs(xs(u,{prev:u}),u[l])),u}return u.prev?xs(u.prev,u):u});return Jt(ah,s),s}function Hne(t,e){var n,i;return typeof((n=t.props)==null?void 0:n[e])<"u"||typeof((i=t.props)==null?void 0:i[Hu(e)])<"u"}function zne(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:CP();const i=Gn("useDefaults");if(e=e??i.type.name??i.type.__name,!e)throw new Error("[Vuetify] Could not determine component name");const s=O(()=>{var l;return(l=n.value)==null?void 0:l[t._as??e]}),r=new Proxy(t,{get(l,u){var c,f,h,p,g,v,_;const d=Reflect.get(l,u);return u==="class"||u==="style"?[(c=s.value)==null?void 0:c[u],d].filter(b=>b!=null):typeof u=="string"&&!Hne(i.vnode,u)?((f=s.value)==null?void 0:f[u])!==void 0?(h=s.value)==null?void 0:h[u]:((g=(p=n.value)==null?void 0:p.global)==null?void 0:g[u])!==void 0?(_=(v=n.value)==null?void 0:v.global)==null?void 0:_[u]:d:d}}),a=Ve();yn(()=>{if(s.value){const l=Object.entries(s.value).filter(u=>{let[d]=u;return d.startsWith(d[0].toUpperCase())});a.value=l.length?Object.fromEntries(l):void 0}else a.value=void 0});function o(){const l=$ne(ah,i);Jt(ah,O(()=>a.value?xs((l==null?void 0:l.value)??{},a.value):l==null?void 0:l.value))}return{props:r,provideSubDefaults:o}}function xr(t){if(t._setup=t._setup??t.setup,!t.name)return t;if(t._setup){t.props=te(t.props??{},t.name)();const e=Object.keys(t.props).filter(n=>n!=="class"&&n!=="style");t.filterProps=function(i){return wP(i,e)},t.props._as=String,t.setup=function(i,s){const r=CP();if(!r.value)return t._setup(i,s);const{props:a,provideSubDefaults:o}=zne(i,i._as??t.name,r),l=t._setup(a,s);return o(),l}}return t}function _e(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return e=>(t?xr:kt)(e)}function Wne(t,e){return e.props=t,e}function Ja(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"div",n=arguments.length>2?arguments[2]:void 0;return _e()({name:n??pa(Fs(t.replace(/__/g,"-"))),props:{tag:{type:String,default:e},...Be()},setup(i,s){let{slots:r}=s;return()=>{var a;return Ai(i.tag,{class:[t,i.class],style:i.style},(a=r.default)==null?void 0:a.call(r))}}})}function Bj(t){if(typeof t.getRootNode!="function"){for(;t.parentNode;)t=t.parentNode;return t!==document?null:document}const e=t.getRootNode();return e!==document&&e.getRootNode({composed:!0})!==document?null:e}const Fm="cubic-bezier(0.4, 0, 0.2, 1)",Yne="cubic-bezier(0.0, 0, 0.2, 1)",Gne="cubic-bezier(0.4, 0, 1, 1)";function PR(t,e,n){return Object.keys(t).filter(i=>zb(i)&&i.endsWith(e)).reduce((i,s)=>(i[s.slice(0,-e.length)]=r=>t[s](r,n(r)),i),{})}function EP(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;for(;t;){if(e?qne(t):IP(t))return t;t=t.parentElement}return document.scrollingElement}function Bm(t,e){const n=[];if(e&&t&&!e.contains(t))return n;for(;t&&(IP(t)&&n.push(t),t!==e);)t=t.parentElement;return n}function IP(t){if(!t||t.nodeType!==Node.ELEMENT_NODE)return!1;const e=window.getComputedStyle(t);return e.overflowY==="scroll"||e.overflowY==="auto"&&t.scrollHeight>t.clientHeight}function qne(t){if(!t||t.nodeType!==Node.ELEMENT_NODE)return!1;const e=window.getComputedStyle(t);return["scroll","auto"].includes(e.overflowY)}function Xne(t){for(;t;){if(window.getComputedStyle(t).position==="fixed")return!0;t=t.offsetParent}return!1}function xe(t){const e=Gn("useRender");e.render=t}function ze(t,e,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:c=>c,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:c=>c;const r=Gn("useProxiedModel"),a=G(t[e]!==void 0?t[e]:n),o=Hu(e),u=O(o!==e?()=>{var c,f,h,p;return t[e],!!(((c=r.vnode.props)!=null&&c.hasOwnProperty(e)||(f=r.vnode.props)!=null&&f.hasOwnProperty(o))&&((h=r.vnode.props)!=null&&h.hasOwnProperty(`onUpdate:${e}`)||(p=r.vnode.props)!=null&&p.hasOwnProperty(`onUpdate:${o}`)))}:()=>{var c,f;return t[e],!!((c=r.vnode.props)!=null&&c.hasOwnProperty(e)&&((f=r.vnode.props)!=null&&f.hasOwnProperty(`onUpdate:${e}`)))});Ns(()=>!u.value,()=>{we(()=>t[e],c=>{a.value=c})});const d=O({get(){const c=t[e];return i(u.value?c:a.value)},set(c){const f=s(c),h=Xe(u.value?t[e]:a.value);h===f||i(h)===c||(a.value=f,r==null||r.emit(`update:${e}`,f))}});return Object.defineProperty(d,"externalValue",{get:()=>u.value?t[e]:a.value}),d}const jj={badge:"Badge",open:"Open",close:"Close",dismiss:"Dismiss",confirmEdit:{ok:"OK",cancel:"Cancel"},dataIterator:{noResultsText:"No matching records found",loadingText:"Loading items..."},dataTable:{itemsPerPageText:"Rows per page:",ariaLabel:{sortDescending:"Sorted descending.",sortAscending:"Sorted ascending.",sortNone:"Not sorted.",activateNone:"Activate to remove sorting.",activateDescending:"Activate to sort descending.",activateAscending:"Activate to sort ascending."},sortBy:"Sort by"},dataFooter:{itemsPerPageText:"Items per page:",itemsPerPageAll:"All",nextPage:"Next page",prevPage:"Previous page",firstPage:"First page",lastPage:"Last page",pageText:"{0}-{1} of {2}"},dateRangeInput:{divider:"to"},datePicker:{itemsSelected:"{0} selected",range:{title:"Select dates",header:"Enter dates"},title:"Select date",header:"Enter date",input:{placeholder:"Enter date"}},noDataText:"No data available",carousel:{prev:"Previous visual",next:"Next visual",ariaLabel:{delimiter:"Carousel slide {0} of {1}"}},calendar:{moreEvents:"{0} more",today:"Today"},input:{clear:"Clear {0}",prependAction:"{0} prepended action",appendAction:"{0} appended action",otp:"Please enter OTP character {0}"},fileInput:{counter:"{0} files",counterSize:"{0} files ({1} in total)"},fileUpload:{title:"Drag and drop files here",divider:"or",browse:"Browse Files"},timePicker:{am:"AM",pm:"PM",title:"Select Time"},pagination:{ariaLabel:{root:"Pagination Navigation",next:"Next page",previous:"Previous page",page:"Go to page {0}",currentPage:"Page {0}, Current page",first:"First page",last:"Last page"}},stepper:{next:"Next",prev:"Previous"},rating:{ariaLabel:{item:"Rating {0} of {1}"}},loading:"Loading...",infiniteScroll:{loadMore:"Load more",empty:"No more"}},CR="$vuetify.",ER=(t,e)=>t.replace(/\{(\d+)\}/g,(n,i)=>String(e[+i])),$j=(t,e,n)=>function(i){for(var s=arguments.length,r=new Array(s>1?s-1:0),a=1;a<s;a++)r[a-1]=arguments[a];if(!i.startsWith(CR))return ER(i,r);const o=i.replace(CR,""),l=t.value&&n.value[t.value],u=e.value&&n.value[e.value];let d=ac(l,o,null);return d||(`${i}${t.value}`,d=ac(u,o,null)),d||(d=i),typeof d!="string"&&(d=i),ER(d,r)};function Uj(t,e){return(n,i)=>new Intl.NumberFormat([t.value,e.value],i).format(n)}function z0(t,e,n){const i=ze(t,e,t[e]??n.value);return i.value=t[e]??n.value,we(n,s=>{t[e]==null&&(i.value=n.value)}),i}function Hj(t){return e=>{const n=z0(e,"locale",t.current),i=z0(e,"fallback",t.fallback),s=z0(e,"messages",t.messages);return{name:"vuetify",current:n,fallback:i,messages:s,t:$j(n,i,s),n:Uj(n,i),provide:Hj({current:n,fallback:i,messages:s})}}}function Kne(t){const e=Ve((t==null?void 0:t.locale)??"en"),n=Ve((t==null?void 0:t.fallback)??"en"),i=G({en:jj,...t==null?void 0:t.messages});return{name:"vuetify",current:e,fallback:n,messages:i,t:$j(e,n,i),n:Uj(e,n),provide:Hj({current:e,fallback:n,messages:i})}}const oh=Symbol.for("vuetify:locale");function Qne(t){return t.name!=null}function Jne(t){const e=t!=null&&t.adapter&&Qne(t==null?void 0:t.adapter)?t==null?void 0:t.adapter:Kne(t),n=tie(e,t);return{...e,...n}}function gn(){const t=gt(oh);if(!t)throw new Error("[Vuetify] Could not find injected locale instance");return t}function Zne(t){const e=gt(oh);if(!e)throw new Error("[Vuetify] Could not find injected locale instance");const n=e.provide(t),i=nie(n,e.rtl,t),s={...n,...i};return Jt(oh,s),s}function eie(){return{af:!1,ar:!0,bg:!1,ca:!1,ckb:!1,cs:!1,de:!1,el:!1,en:!1,es:!1,et:!1,fa:!0,fi:!1,fr:!1,hr:!1,hu:!1,he:!0,id:!1,it:!1,ja:!1,km:!1,ko:!1,lv:!1,lt:!1,nl:!1,no:!1,pl:!1,pt:!1,ro:!1,ru:!1,sk:!1,sl:!1,srCyrl:!1,srLatn:!1,sv:!1,th:!1,tr:!1,az:!1,uk:!1,vi:!1,zhHans:!1,zhHant:!1}}function tie(t,e){const n=G((e==null?void 0:e.rtl)??eie()),i=O(()=>n.value[t.current.value]??!1);return{isRtl:i,rtl:n,rtlClasses:O(()=>`v-locale--is-${i.value?"rtl":"ltr"}`)}}function nie(t,e,n){const i=O(()=>n.rtl??e.value[t.current.value]??!1);return{isRtl:i,rtl:e,rtlClasses:O(()=>`v-locale--is-${i.value?"rtl":"ltr"}`)}}function Ti(){const t=gt(oh);if(!t)throw new Error("[Vuetify] Could not find injected rtl instance");return{isRtl:t.isRtl,rtlClasses:t.rtlClasses}}const Gb={"001":1,AD:1,AE:6,AF:6,AG:0,AI:1,AL:1,AM:1,AN:1,AR:1,AS:0,AT:1,AU:1,AX:1,AZ:1,BA:1,BD:0,BE:1,BG:1,BH:6,BM:1,BN:1,BR:0,BS:0,BT:0,BW:0,BY:1,BZ:0,CA:0,CH:1,CL:1,CM:1,CN:1,CO:0,CR:1,CY:1,CZ:1,DE:1,DJ:6,DK:1,DM:0,DO:0,DZ:6,EC:1,EE:1,EG:6,ES:1,ET:0,FI:1,FJ:1,FO:1,FR:1,GB:1,"GB-alt-variant":0,GE:1,GF:1,GP:1,GR:1,GT:0,GU:0,HK:0,HN:0,HR:1,HU:1,ID:0,IE:1,IL:0,IN:0,IQ:6,IR:6,IS:1,IT:1,JM:0,JO:6,JP:0,KE:0,KG:1,KH:0,KR:0,KW:6,KZ:1,LA:0,LB:1,LI:1,LK:1,LT:1,LU:1,LV:1,LY:6,MC:1,MD:1,ME:1,MH:0,MK:1,MM:0,MN:1,MO:0,MQ:1,MT:0,MV:5,MX:0,MY:1,MZ:0,NI:0,NL:1,NO:1,NP:0,NZ:1,OM:6,PA:0,PE:0,PH:0,PK:0,PL:1,PR:0,PT:0,PY:0,QA:6,RE:1,RO:1,RS:1,RU:1,SA:0,SD:6,SE:1,SG:0,SI:1,SK:1,SM:1,SV:0,SY:6,TH:0,TJ:1,TM:1,TR:1,TT:0,TW:0,UA:1,UM:0,US:0,UY:1,UZ:1,VA:1,VE:0,VI:0,VN:1,WS:0,XK:1,YE:0,ZA:0,ZW:0};function iie(t,e,n){const i=[];let s=[];const r=zj(t),a=Wj(t),o=n??Gb[e.slice(-2).toUpperCase()]??0,l=(r.getDay()-o+7)%7,u=(a.getDay()-o+7)%7;for(let d=0;d<l;d++){const c=new Date(r);c.setDate(c.getDate()-(l-d)),s.push(c)}for(let d=1;d<=a.getDate();d++){const c=new Date(t.getFullYear(),t.getMonth(),d);s.push(c),s.length===7&&(i.push(s),s=[])}for(let d=1;d<7-u;d++){const c=new Date(a);c.setDate(c.getDate()+d),s.push(c)}return s.length>0&&i.push(s),i}function sie(t,e,n){const i=n??Gb[e.slice(-2).toUpperCase()]??0,s=new Date(t);for(;s.getDay()!==i;)s.setDate(s.getDate()-1);return s}function rie(t,e){const n=new Date(t),i=((Gb[e.slice(-2).toUpperCase()]??0)+6)%7;for(;n.getDay()!==i;)n.setDate(n.getDate()+1);return n}function zj(t){return new Date(t.getFullYear(),t.getMonth(),1)}function Wj(t){return new Date(t.getFullYear(),t.getMonth()+1,0)}function aie(t){const e=t.split("-").map(Number);return new Date(e[0],e[1]-1,e[2])}const oie=/^([12]\d{3}-([1-9]|0[1-9]|1[0-2])-([1-9]|0[1-9]|[12]\d|3[01]))$/;function Yj(t){if(t==null)return new Date;if(t instanceof Date)return t;if(typeof t=="string"){let e;if(oie.test(t))return aie(t);if(e=Date.parse(t),!isNaN(e))return new Date(e)}return null}const IR=new Date(2e3,0,2);function lie(t,e){const n=e??Gb[t.slice(-2).toUpperCase()]??0;return mr(7).map(i=>{const s=new Date(IR);return s.setDate(IR.getDate()+n+i),new Intl.DateTimeFormat(t,{weekday:"narrow"}).format(s)})}function uie(t,e,n,i){const s=Yj(t)??new Date,r=i==null?void 0:i[e];if(typeof r=="function")return r(s,e,n);let a={};switch(e){case"fullDate":a={year:"numeric",month:"long",day:"numeric"};break;case"fullDateWithWeekday":a={weekday:"long",year:"numeric",month:"long",day:"numeric"};break;case"normalDate":const o=s.getDate(),l=new Intl.DateTimeFormat(n,{month:"long"}).format(s);return`${o} ${l}`;case"normalDateWithWeekday":a={weekday:"short",day:"numeric",month:"short"};break;case"shortDate":a={month:"short",day:"numeric"};break;case"year":a={year:"numeric"};break;case"month":a={month:"long"};break;case"monthShort":a={month:"short"};break;case"monthAndYear":a={month:"long",year:"numeric"};break;case"monthAndDate":a={month:"long",day:"numeric"};break;case"weekday":a={weekday:"long"};break;case"weekdayShort":a={weekday:"short"};break;case"dayOfMonth":return new Intl.NumberFormat(n).format(s.getDate());case"hours12h":a={hour:"numeric",hour12:!0};break;case"hours24h":a={hour:"numeric",hour12:!1};break;case"minutes":a={minute:"numeric"};break;case"seconds":a={second:"numeric"};break;case"fullTime":a={hour:"numeric",minute:"numeric",second:"numeric",hour12:!0};break;case"fullTime12h":a={hour:"numeric",minute:"numeric",second:"numeric",hour12:!0};break;case"fullTime24h":a={hour:"numeric",minute:"numeric",second:"numeric",hour12:!1};break;case"fullDateTime":a={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",hour12:!0};break;case"fullDateTime12h":a={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",hour12:!0};break;case"fullDateTime24h":a={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",hour12:!1};break;case"keyboardDate":a={year:"numeric",month:"2-digit",day:"2-digit"};break;case"keyboardDateTime":a={year:"numeric",month:"2-digit",day:"2-digit",hour:"numeric",minute:"numeric",second:"numeric",hour12:!1};break;case"keyboardDateTime12h":a={year:"numeric",month:"2-digit",day:"2-digit",hour:"numeric",minute:"numeric",second:"numeric",hour12:!0};break;case"keyboardDateTime24h":a={year:"numeric",month:"2-digit",day:"2-digit",hour:"numeric",minute:"numeric",second:"numeric",hour12:!1};break;default:a=r??{timeZone:"UTC",timeZoneName:"short"}}return new Intl.DateTimeFormat(n,a).format(s)}function cie(t,e){const n=t.toJsDate(e),i=n.getFullYear(),s=fR(String(n.getMonth()+1),2,"0"),r=fR(String(n.getDate()),2,"0");return`${i}-${s}-${r}`}function die(t){const[e,n,i]=t.split("-").map(Number);return new Date(e,n-1,i)}function hie(t,e){const n=new Date(t);return n.setMinutes(n.getMinutes()+e),n}function fie(t,e){const n=new Date(t);return n.setHours(n.getHours()+e),n}function mie(t,e){const n=new Date(t);return n.setDate(n.getDate()+e),n}function gie(t,e){const n=new Date(t);return n.setDate(n.getDate()+e*7),n}function pie(t,e){const n=new Date(t);return n.setDate(1),n.setMonth(n.getMonth()+e),n}function vie(t){return t.getFullYear()}function _ie(t){return t.getMonth()}function yie(t){return t.getDate()}function bie(t){return new Date(t.getFullYear(),t.getMonth()+1,1)}function wie(t){return new Date(t.getFullYear(),t.getMonth()-1,1)}function xie(t){return t.getHours()}function Sie(t){return t.getMinutes()}function kie(t){return new Date(t.getFullYear(),0,1)}function Tie(t){return new Date(t.getFullYear(),11,31)}function Pie(t,e){return $_(t,e[0])&&Iie(t,e[1])}function Cie(t){const e=new Date(t);return e instanceof Date&&!isNaN(e.getTime())}function $_(t,e){return t.getTime()>e.getTime()}function Eie(t,e){return $_(WS(t),WS(e))}function Iie(t,e){return t.getTime()<e.getTime()}function DR(t,e){return t.getTime()===e.getTime()}function Die(t,e){return t.getDate()===e.getDate()&&t.getMonth()===e.getMonth()&&t.getFullYear()===e.getFullYear()}function Aie(t,e){return t.getMonth()===e.getMonth()&&t.getFullYear()===e.getFullYear()}function Rie(t,e){return t.getFullYear()===e.getFullYear()}function Oie(t,e,n){const i=new Date(t),s=new Date(e);switch(n){case"years":return i.getFullYear()-s.getFullYear();case"quarters":return Math.floor((i.getMonth()-s.getMonth()+(i.getFullYear()-s.getFullYear())*12)/4);case"months":return i.getMonth()-s.getMonth()+(i.getFullYear()-s.getFullYear())*12;case"weeks":return Math.floor((i.getTime()-s.getTime())/(1e3*60*60*24*7));case"days":return Math.floor((i.getTime()-s.getTime())/(1e3*60*60*24));case"hours":return Math.floor((i.getTime()-s.getTime())/(1e3*60*60));case"minutes":return Math.floor((i.getTime()-s.getTime())/(1e3*60));case"seconds":return Math.floor((i.getTime()-s.getTime())/1e3);default:return i.getTime()-s.getTime()}}function Mie(t,e){const n=new Date(t);return n.setHours(e),n}function Vie(t,e){const n=new Date(t);return n.setMinutes(e),n}function Lie(t,e){const n=new Date(t);return n.setMonth(e),n}function Nie(t,e){const n=new Date(t);return n.setDate(e),n}function Fie(t,e){const n=new Date(t);return n.setFullYear(e),n}function WS(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate(),0,0,0,0)}function Bie(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate(),23,59,59,999)}class jie{constructor(e){this.locale=e.locale,this.formats=e.formats}date(e){return Yj(e)}toJsDate(e){return e}toISO(e){return cie(this,e)}parseISO(e){return die(e)}addMinutes(e,n){return hie(e,n)}addHours(e,n){return fie(e,n)}addDays(e,n){return mie(e,n)}addWeeks(e,n){return gie(e,n)}addMonths(e,n){return pie(e,n)}getWeekArray(e,n){return iie(e,this.locale,n?Number(n):void 0)}startOfWeek(e,n){return sie(e,this.locale,n?Number(n):void 0)}endOfWeek(e){return rie(e,this.locale)}startOfMonth(e){return zj(e)}endOfMonth(e){return Wj(e)}format(e,n){return uie(e,n,this.locale,this.formats)}isEqual(e,n){return DR(e,n)}isValid(e){return Cie(e)}isWithinRange(e,n){return Pie(e,n)}isAfter(e,n){return $_(e,n)}isAfterDay(e,n){return Eie(e,n)}isBefore(e,n){return!$_(e,n)&&!DR(e,n)}isSameDay(e,n){return Die(e,n)}isSameMonth(e,n){return Aie(e,n)}isSameYear(e,n){return Rie(e,n)}setMinutes(e,n){return Vie(e,n)}setHours(e,n){return Mie(e,n)}setMonth(e,n){return Lie(e,n)}setDate(e,n){return Nie(e,n)}setYear(e,n){return Fie(e,n)}getDiff(e,n,i){return Oie(e,n,i)}getWeekdays(e){return lie(this.locale,e?Number(e):void 0)}getYear(e){return vie(e)}getMonth(e){return _ie(e)}getDate(e){return yie(e)}getNextMonth(e){return bie(e)}getPreviousMonth(e){return wie(e)}getHours(e){return xie(e)}getMinutes(e){return Sie(e)}startOfDay(e){return WS(e)}endOfDay(e){return Bie(e)}startOfYear(e){return kie(e)}endOfYear(e){return Tie(e)}}const Gj=Symbol.for("vuetify:date-options"),AR=Symbol.for("vuetify:date-adapter");function $ie(t,e){const n=xs({adapter:jie,locale:{af:"af-ZA",bg:"bg-BG",ca:"ca-ES",ckb:"",cs:"cs-CZ",de:"de-DE",el:"el-GR",en:"en-US",et:"et-EE",fa:"fa-IR",fi:"fi-FI",hr:"hr-HR",hu:"hu-HU",he:"he-IL",id:"id-ID",it:"it-IT",ja:"ja-JP",ko:"ko-KR",lv:"lv-LV",lt:"lt-LT",nl:"nl-NL",no:"no-NO",pl:"pl-PL",pt:"pt-PT",ro:"ro-RO",ru:"ru-RU",sk:"sk-SK",sl:"sl-SI",srCyrl:"sr-SP",srLatn:"sr-SP",sv:"sv-SE",th:"th-TH",tr:"tr-TR",az:"az-AZ",uk:"uk-UA",vi:"vi-VN",zhHans:"zh-CN",zhHant:"zh-TW"}},t);return{options:n,instance:qj(n,e)}}function qj(t,e){const n=mn(typeof t.adapter=="function"?new t.adapter({locale:t.locale[e.current.value]??e.current.value,formats:t.formats}):t.adapter);return we(e.current,i=>{n.locale=t.locale[i]??i??n.locale}),n}function Fr(){const t=gt(Gj);if(!t)throw new Error("[Vuetify] Could not find injected date options");const e=gn();return qj(t,e)}function Uie(t,e){const n=t.toJsDate(e);let i=n.getFullYear(),s=new Date(i,0,1);if(n<s)i=i-1,s=new Date(i,0,1);else{const o=new Date(i+1,0,1);n>=o&&(i=i+1,s=o)}const r=Math.abs(n.getTime()-s.getTime()),a=Math.ceil(r/(1e3*60*60*24));return Math.floor(a/7)+1}const qb=["sm","md","lg","xl","xxl"],YS=Symbol.for("vuetify:display"),RR={mobileBreakpoint:"lg",thresholds:{xs:0,sm:600,md:960,lg:1280,xl:1920,xxl:2560}},Hie=function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:RR;return xs(RR,t)};function OR(t){return Yt&&!t?window.innerWidth:typeof t=="object"&&t.clientWidth||0}function MR(t){return Yt&&!t?window.innerHeight:typeof t=="object"&&t.clientHeight||0}function VR(t){const e=Yt&&!t?window.navigator.userAgent:"ssr";function n(p){return!!e.match(p)}const i=n(/android/i),s=n(/iphone|ipad|ipod/i),r=n(/cordova/i),a=n(/electron/i),o=n(/chrome/i),l=n(/edge/i),u=n(/firefox/i),d=n(/opera/i),c=n(/win/i),f=n(/mac/i),h=n(/linux/i);return{android:i,ios:s,cordova:r,electron:a,chrome:o,edge:l,firefox:u,opera:d,win:c,mac:f,linux:h,touch:ine,ssr:e==="ssr"}}function zie(t,e){const{thresholds:n,mobileBreakpoint:i}=Hie(t),s=Ve(MR(e)),r=Ve(VR(e)),a=mn({}),o=Ve(OR(e));function l(){s.value=MR(),o.value=OR()}function u(){l(),r.value=VR()}return yn(()=>{const d=o.value<n.sm,c=o.value<n.md&&!d,f=o.value<n.lg&&!(c||d),h=o.value<n.xl&&!(f||c||d),p=o.value<n.xxl&&!(h||f||c||d),g=o.value>=n.xxl,v=d?"xs":c?"sm":f?"md":h?"lg":p?"xl":"xxl",_=typeof i=="number"?i:n[i],b=o.value<_;a.xs=d,a.sm=c,a.md=f,a.lg=h,a.xl=p,a.xxl=g,a.smAndUp=!d,a.mdAndUp=!(d||c),a.lgAndUp=!(d||c||f),a.xlAndUp=!(d||c||f||h),a.smAndDown=!(f||h||p||g),a.mdAndDown=!(h||p||g),a.lgAndDown=!(p||g),a.xlAndDown=!g,a.name=v,a.height=s.value,a.width=o.value,a.mobile=b,a.mobileBreakpoint=i,a.platform=r.value,a.thresholds=n}),Yt&&window.addEventListener("resize",l,{passive:!0}),{...Kl(a),update:u,ssr:!!e}}const Mc=te({mobile:{type:Boolean,default:!1},mobileBreakpoint:[Number,String]},"display");function Sr(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Qa();const n=gt(YS);if(!n)throw new Error("Could not find Vuetify display injection");const i=O(()=>{if(t.mobile!=null)return t.mobile;if(!t.mobileBreakpoint)return n.mobile.value;const r=typeof t.mobileBreakpoint=="number"?t.mobileBreakpoint:n.thresholds.value[t.mobileBreakpoint];return n.width.value<r}),s=O(()=>e?{[`${e}--mobile`]:i.value}:{});return{...n,displayClasses:s,mobile:i}}const Xj=Symbol.for("vuetify:goto");function Kj(){return{container:void 0,duration:300,layout:!1,offset:0,easing:"easeInOutCubic",patterns:{linear:t=>t,easeInQuad:t=>t**2,easeOutQuad:t=>t*(2-t),easeInOutQuad:t=>t<.5?2*t**2:-1+(4-2*t)*t,easeInCubic:t=>t**3,easeOutCubic:t=>--t**3+1,easeInOutCubic:t=>t<.5?4*t**3:(t-1)*(2*t-2)*(2*t-2)+1,easeInQuart:t=>t**4,easeOutQuart:t=>1- --t**4,easeInOutQuart:t=>t<.5?8*t**4:1-8*--t**4,easeInQuint:t=>t**5,easeOutQuint:t=>1+--t**5,easeInOutQuint:t=>t<.5?16*t**5:1+16*--t**5}}}function Wie(t){return DP(t)??(document.scrollingElement||document.body)}function DP(t){return typeof t=="string"?document.querySelector(t):bP(t)}function W0(t,e,n){if(typeof t=="number")return e&&n?-t:t;let i=DP(t),s=0;for(;i;)s+=e?i.offsetLeft:i.offsetTop,i=i.offsetParent;return s}function Yie(t,e){return{rtl:e.isRtl,options:xs(Kj(),t)}}async function LR(t,e,n,i){const s=n?"scrollLeft":"scrollTop",r=xs((i==null?void 0:i.options)??Kj(),e),a=i==null?void 0:i.rtl.value,o=(typeof t=="number"?t:DP(t))??0,l=r.container==="parent"&&o instanceof HTMLElement?o.parentElement:Wie(r.container),u=typeof r.easing=="function"?r.easing:r.patterns[r.easing];if(!u)throw new TypeError(`Easing function "${r.easing}" not found.`);let d;if(typeof o=="number")d=W0(o,n,a);else if(d=W0(o,n,a)-W0(l,n,a),r.layout){const p=window.getComputedStyle(o).getPropertyValue("--v-layout-top");p&&(d-=parseInt(p,10))}d+=r.offset,d=qie(l,d,!!a,!!n);const c=l[s]??0;if(d===c)return Promise.resolve(d);const f=performance.now();return new Promise(h=>requestAnimationFrame(function p(g){const _=(g-f)/r.duration,b=Math.floor(c+(d-c)*u($n(_,0,1)));if(l[s]=b,_>=1&&Math.abs(b-l[s])<10)return h(d);if(_>2)return h(l[s]);requestAnimationFrame(p)}))}function Gie(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const e=gt(Xj),{isRtl:n}=Ti();if(!e)throw new Error("[Vuetify] Could not find injected goto instance");const i={...e,rtl:O(()=>e.rtl.value||n.value)};async function s(r,a){return LR(r,xs(t,a),!1,i)}return s.horizontal=async(r,a)=>LR(r,xs(t,a),!0,i),s}function qie(t,e,n,i){const{scrollWidth:s,scrollHeight:r}=t,[a,o]=t===document.scrollingElement?[window.innerWidth,window.innerHeight]:[t.offsetWidth,t.offsetHeight];let l,u;return i?n?(l=-(s-a),u=0):(l=0,u=s-a):(l=0,u=r+-o),Math.max(Math.min(e,u),l)}const Xie={collapse:"mdi-chevron-up",complete:"mdi-check",cancel:"mdi-close-circle",close:"mdi-close",delete:"mdi-close-circle",clear:"mdi-close-circle",success:"mdi-check-circle",info:"mdi-information",warning:"mdi-alert-circle",error:"mdi-close-circle",prev:"mdi-chevron-left",next:"mdi-chevron-right",checkboxOn:"mdi-checkbox-marked",checkboxOff:"mdi-checkbox-blank-outline",checkboxIndeterminate:"mdi-minus-box",delimiter:"mdi-circle",sortAsc:"mdi-arrow-up",sortDesc:"mdi-arrow-down",expand:"mdi-chevron-down",menu:"mdi-menu",subgroup:"mdi-menu-down",dropdown:"mdi-menu-down",radioOn:"mdi-radiobox-marked",radioOff:"mdi-radiobox-blank",edit:"mdi-pencil",ratingEmpty:"mdi-star-outline",ratingFull:"mdi-star",ratingHalf:"mdi-star-half-full",loading:"mdi-cached",first:"mdi-page-first",last:"mdi-page-last",unfold:"mdi-unfold-more-horizontal",file:"mdi-paperclip",plus:"mdi-plus",minus:"mdi-minus",calendar:"mdi-calendar",treeviewCollapse:"mdi-menu-down",treeviewExpand:"mdi-menu-right",eyeDropper:"mdi-eyedropper",upload:"mdi-cloud-upload"},Kie={component:t=>Ai(RP,{...t,class:"mdi"})},Ge=[String,Function,Object,Array],GS=Symbol.for("vuetify:icons"),Xb=te({icon:{type:Ge},tag:{type:String,required:!0}},"icon"),qS=_e()({name:"VComponentIcon",props:Xb(),setup(t,e){let{slots:n}=e;return()=>{const i=t.icon;return m(t.tag,null,{default:()=>{var s;return[t.icon?m(i,null,null):(s=n.default)==null?void 0:s.call(n)]}})}}}),AP=xr({name:"VSvgIcon",inheritAttrs:!1,props:Xb(),setup(t,e){let{attrs:n}=e;return()=>m(t.tag,J(n,{style:null}),{default:()=>[m("svg",{class:"v-icon__svg",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",role:"img","aria-hidden":"true"},[Array.isArray(t.icon)?t.icon.map(i=>Array.isArray(i)?m("path",{d:i[0],"fill-opacity":i[1]},null):m("path",{d:i},null)):m("path",{d:t.icon},null)])]})}}),Qie=xr({name:"VLigatureIcon",props:Xb(),setup(t){return()=>m(t.tag,null,{default:()=>[t.icon]})}}),RP=xr({name:"VClassIcon",props:Xb(),setup(t){return()=>m(t.tag,{class:t.icon},null)}});function Jie(){return{svg:{component:AP},class:{component:RP}}}function Zie(t){const e=Jie(),n=(t==null?void 0:t.defaultSet)??"mdi";return n==="mdi"&&!e.mdi&&(e.mdi=Kie),xs({defaultSet:n,sets:e,aliases:{...Xie,vuetify:["M8.2241 14.2009L12 21L22 3H14.4459L8.2241 14.2009Z",["M7.26303 12.4733L7.00113 12L2 3H12.5261C12.5261 3 12.5261 3 12.5261 3L7.26303 12.4733Z",.6]],"vuetify-outline":"svg:M7.26 12.47 12.53 3H2L7.26 12.47ZM14.45 3 8.22 14.2 12 21 22 3H14.45ZM18.6 5 12 16.88 10.51 14.2 15.62 5ZM7.26 8.35 5.4 5H9.13L7.26 8.35Z","vuetify-play":["m6.376 13.184-4.11-7.192C1.505 4.66 2.467 3 4.003 3h8.532l-.953 1.576-.006.01-.396.677c-.429.732-.214 1.507.194 2.015.404.503 1.092.878 1.869.806a3.72 3.72 0 0 1 1.005.022c.276.053.434.143.523.237.138.146.38.635-.25 2.09-.893 1.63-1.553 1.722-1.847 1.677-.213-.033-.468-.158-.756-.406a4.95 4.95 0 0 1-.8-.927c-.39-.564-1.04-.84-1.66-.846-.625-.006-1.316.27-1.693.921l-.478.826-.911 1.506Z",["M9.093 11.552c.046-.079.144-.15.32-.148a.53.53 0 0 1 .43.207c.285.414.636.847 1.046 1.2.405.35.914.662 1.516.754 1.334.205 2.502-.698 3.48-2.495l.014-.028.013-.03c.687-1.574.774-2.852-.005-3.675-.37-.391-.861-.586-1.333-.676a5.243 5.243 0 0 0-1.447-.044c-.173.016-.393-.073-.54-.257-.145-.18-.127-.316-.082-.392l.393-.672L14.287 3h5.71c1.536 0 2.499 1.659 1.737 2.992l-7.997 13.996c-.768 1.344-2.706 1.344-3.473 0l-3.037-5.314 1.377-2.278.004-.006.004-.007.481-.831Z",.6]]}},t)}const ese=t=>{const e=gt(GS);if(!e)throw new Error("Missing Vuetify Icons provide!");return{iconData:O(()=>{var l;const i=se(t);if(!i)return{component:qS};let s=i;if(typeof s=="string"&&(s=s.trim(),s.startsWith("$")&&(s=(l=e.aliases)==null?void 0:l[s.slice(1)])),Array.isArray(s))return{component:AP,icon:s};if(typeof s!="string")return{component:qS,icon:s};const r=Object.keys(e.sets).find(u=>typeof s=="string"&&s.startsWith(`${u}:`)),a=r?s.slice(r.length+1):s;return{component:e.sets[r??e.defaultSet].component,icon:a}})}},jm=Symbol.for("vuetify:theme"),Nt=te({theme:String},"theme");function NR(){return{defaultTheme:"light",variations:{colors:[],lighten:0,darken:0},themes:{light:{dark:!1,colors:{background:"#FFFFFF",surface:"#FFFFFF","surface-bright":"#FFFFFF","surface-light":"#EEEEEE","surface-variant":"#424242","on-surface-variant":"#EEEEEE",primary:"#1867C0","primary-darken-1":"#1F5592",secondary:"#48A9A6","secondary-darken-1":"#018786",error:"#B00020",info:"#2196F3",success:"#4CAF50",warning:"#FB8C00"},variables:{"border-color":"#000000","border-opacity":.12,"high-emphasis-opacity":.87,"medium-emphasis-opacity":.6,"disabled-opacity":.38,"idle-opacity":.04,"hover-opacity":.04,"focus-opacity":.12,"selected-opacity":.08,"activated-opacity":.12,"pressed-opacity":.12,"dragged-opacity":.08,"theme-kbd":"#212529","theme-on-kbd":"#FFFFFF","theme-code":"#F5F5F5","theme-on-code":"#000000"}},dark:{dark:!0,colors:{background:"#121212",surface:"#212121","surface-bright":"#ccbfd6","surface-light":"#424242","surface-variant":"#a3a3a3","on-surface-variant":"#424242",primary:"#2196F3","primary-darken-1":"#277CC1",secondary:"#54B6B2","secondary-darken-1":"#48A9A6",error:"#CF6679",info:"#2196F3",success:"#4CAF50",warning:"#FB8C00"},variables:{"border-color":"#FFFFFF","border-opacity":.12,"high-emphasis-opacity":1,"medium-emphasis-opacity":.7,"disabled-opacity":.5,"idle-opacity":.1,"hover-opacity":.04,"focus-opacity":.12,"selected-opacity":.08,"activated-opacity":.12,"pressed-opacity":.16,"dragged-opacity":.08,"theme-kbd":"#212529","theme-on-kbd":"#FFFFFF","theme-code":"#343434","theme-on-code":"#CCCCCC"}}}}}function tse(){var i,s;let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:NR();const e=NR();if(!t)return{...e,isDisabled:!0};const n={};for(const[r,a]of Object.entries(t.themes??{})){const o=a.dark||r==="dark"?(i=e.themes)==null?void 0:i.dark:(s=e.themes)==null?void 0:s.light;n[r]=xs(o,a)}return xs(e,{...t,themes:n})}function nse(t){const e=tse(t),n=G(e.defaultTheme),i=G(e.themes),s=O(()=>{const d={};for(const[c,f]of Object.entries(i.value)){const h=d[c]={...f,colors:{...f.colors}};if(e.variations)for(const p of e.variations.colors){const g=h.colors[p];if(g)for(const v of["lighten","darken"]){const _=v==="lighten"?Fne:Bne;for(const b of mr(e.variations[v],1))h.colors[`${p}-${v}-${b}`]=Oj(_(Rr(g),b))}}for(const p of Object.keys(h.colors)){if(/^on-[a-z]/.test(p)||h.colors[`on-${p}`])continue;const g=`on-${p}`,v=Rr(h.colors[p]);h.colors[g]=Nj(v)}}return d}),r=O(()=>s.value[n.value]),a=O(()=>{var p;const d=[];(p=r.value)!=null&&p.dark&&pu(d,":root",["color-scheme: dark"]),pu(d,":root",FR(r.value));for(const[g,v]of Object.entries(s.value))pu(d,`.v-theme--${g}`,[`color-scheme: ${v.dark?"dark":"normal"}`,...FR(v)]);const c=[],f=[],h=new Set(Object.values(s.value).flatMap(g=>Object.keys(g.colors)));for(const g of h)/^on-[a-z]/.test(g)?pu(f,`.${g}`,[`color: rgb(var(--v-theme-${g})) !important`]):(pu(c,`.bg-${g}`,[`--v-theme-overlay-multiplier: var(--v-theme-${g}-overlay-multiplier)`,`background-color: rgb(var(--v-theme-${g})) !important`,`color: rgb(var(--v-theme-on-${g})) !important`]),pu(f,`.text-${g}`,[`color: rgb(var(--v-theme-${g})) !important`]),pu(f,`.border-${g}`,[`--v-border-color: var(--v-theme-${g})`]));return d.push(...c,...f),d.map((g,v)=>v===0?g:`    ${g}`).join("")});function o(){return{style:[{children:a.value,id:"vuetify-theme-stylesheet",nonce:e.cspNonce||!1}]}}function l(d){if(e.isDisabled)return;const c=d._context.provides.usehead;if(c)if(c.push){const f=c.push(o);Yt&&we(a,()=>{f.patch(o)})}else Yt?(c.addHeadObjs(O(o)),yn(()=>c.updateDOM())):c.addHeadObjs(o());else{let h=function(){if(typeof document<"u"&&!f){const p=document.createElement("style");p.type="text/css",p.id="vuetify-theme-stylesheet",e.cspNonce&&p.setAttribute("nonce",e.cspNonce),f=p,document.head.appendChild(f)}f&&(f.innerHTML=a.value)},f=Yt?document.getElementById("vuetify-theme-stylesheet"):null;Yt?we(a,h,{immediate:!0}):h()}}const u=O(()=>e.isDisabled?void 0:`v-theme--${n.value}`);return{install:l,isDisabled:e.isDisabled,name:n,themes:i,current:r,computedThemes:s,themeClasses:u,styles:a,global:{name:n,current:r}}}function Kt(t){Gn("provideTheme");const e=gt(jm,null);if(!e)throw new Error("Could not find Vuetify theme injection");const n=O(()=>t.theme??e.name.value),i=O(()=>e.themes.value[n.value]),s=O(()=>e.isDisabled?void 0:`v-theme--${n.value}`),r={...e,name:n,current:i,themeClasses:s};return Jt(jm,r),r}function Gg(){Gn("useTheme");const t=gt(jm,null);if(!t)throw new Error("Could not find Vuetify theme injection");return t}function pu(t,e,n){t.push(`${e} {
`,...n.map(i=>`  ${i};
`),`}
`)}function FR(t){const e=t.dark?2:1,n=t.dark?1:2,i=[];for(const[s,r]of Object.entries(t.colors)){const a=Rr(r);i.push(`--v-theme-${s}: ${a.r},${a.g},${a.b}`),s.startsWith("on-")||i.push(`--v-theme-${s}-overlay-multiplier: ${zS(r)>.18?e:n}`)}for(const[s,r]of Object.entries(t.variables)){const a=typeof r=="string"&&r.startsWith("#")?Rr(r):void 0,o=a?`${a.r}, ${a.g}, ${a.b}`:void 0;i.push(`--v-${s}: ${o??r}`)}return i}function da(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"content";const n=F_(),i=G();if(Yt){const s=new ResizeObserver(r=>{t==null||t(r,s),r.length&&(e==="content"?i.value=r[0].contentRect:i.value=r[0].target.getBoundingClientRect())});Mi(()=>{s.disconnect()}),we(()=>n.el,(r,a)=>{a&&(s.unobserve(a),i.value=void 0),r&&s.observe(r)},{flush:"post"})}return{resizeRef:n,contentRect:Sh(i)}}const $m=Symbol.for("vuetify:layout"),Qj=Symbol.for("vuetify:layout-item"),BR=1e3,Jj=te({overlaps:{type:Array,default:()=>[]},fullHeight:Boolean},"layout"),Vc=te({name:{type:String},order:{type:[Number,String],default:0},absolute:Boolean},"layout-item");function Zj(){const t=gt($m);if(!t)throw new Error("[Vuetify] Could not find injected layout");return{getLayoutItem:t.getLayoutItem,mainRect:t.mainRect,mainStyles:t.mainStyles}}function Lc(t){const e=gt($m);if(!e)throw new Error("[Vuetify] Could not find injected layout");const n=t.id??`layout-item-${zi()}`,i=Gn("useLayoutItem");Jt(Qj,{id:n});const s=Ve(!1);Fk(()=>s.value=!0),mL(()=>s.value=!1);const{layoutItemStyles:r,layoutItemScrimStyles:a}=e.register(i,{...t,active:O(()=>s.value?!1:t.active.value),id:n});return Mi(()=>e.unregister(n)),{layoutItemStyles:r,layoutRect:e.layoutRect,layoutItemScrimStyles:a}}const ise=(t,e,n,i)=>{let s={top:0,left:0,right:0,bottom:0};const r=[{id:"",layer:{...s}}];for(const a of t){const o=e.get(a),l=n.get(a),u=i.get(a);if(!o||!l||!u)continue;const d={...s,[o.value]:parseInt(s[o.value],10)+(u.value?parseInt(l.value,10):0)};r.push({id:a,layer:d}),s=d}return r};function e$(t){const e=gt($m,null),n=O(()=>e?e.rootZIndex.value-100:BR),i=G([]),s=mn(new Map),r=mn(new Map),a=mn(new Map),o=mn(new Map),l=mn(new Map),{resizeRef:u,contentRect:d}=da(),c=O(()=>{const E=new Map,T=t.overlaps??[];for(const S of T.filter(w=>w.includes(":"))){const[w,P]=S.split(":");if(!i.value.includes(w)||!i.value.includes(P))continue;const C=s.get(w),D=s.get(P),A=r.get(w),N=r.get(P);!C||!D||!A||!N||(E.set(P,{position:C.value,amount:parseInt(A.value,10)}),E.set(w,{position:D.value,amount:-parseInt(N.value,10)}))}return E}),f=O(()=>{const E=[...new Set([...a.values()].map(S=>S.value))].sort((S,w)=>S-w),T=[];for(const S of E){const w=i.value.filter(P=>{var C;return((C=a.get(P))==null?void 0:C.value)===S});T.push(...w)}return ise(T,s,r,o)}),h=O(()=>!Array.from(l.values()).some(E=>E.value)),p=O(()=>f.value[f.value.length-1].layer),g=O(()=>({"--v-layout-left":Le(p.value.left),"--v-layout-right":Le(p.value.right),"--v-layout-top":Le(p.value.top),"--v-layout-bottom":Le(p.value.bottom),...h.value?void 0:{transition:"none"}})),v=O(()=>f.value.slice(1).map((E,T)=>{let{id:S}=E;const{layer:w}=f.value[T],P=r.get(S),C=s.get(S);return{id:S,...w,size:Number(P.value),position:C.value}})),_=E=>v.value.find(T=>T.id===E),b=Gn("createLayout"),x=Ve(!1);Tt(()=>{x.value=!0}),Jt($m,{register:(E,T)=>{let{id:S,order:w,position:P,layoutSize:C,elementSize:D,active:A,disableTransitions:N,absolute:B}=T;a.set(S,w),s.set(S,P),r.set(S,C),o.set(S,A),N&&l.set(S,N);const q=yd(Qj,b==null?void 0:b.vnode).indexOf(E);q>-1?i.value.splice(q,0,S):i.value.push(S);const W=O(()=>v.value.findIndex(ee=>ee.id===S)),K=O(()=>n.value+f.value.length*2-W.value*2),Y=O(()=>{const ee=P.value==="left"||P.value==="right",le=P.value==="right",de=P.value==="bottom",he=D.value??C.value,re=he===0?"%":"px",U={[P.value]:0,zIndex:K.value,transform:`translate${ee?"X":"Y"}(${(A.value?0:-(he===0?100:he))*(le||de?-1:1)}${re})`,position:B.value||n.value!==BR?"absolute":"fixed",...h.value?void 0:{transition:"none"}};if(!x.value)return U;const X=v.value[W.value];if(!X)throw new Error(`[Vuetify] Could not find layout item "${S}"`);const ae=c.value.get(S);return ae&&(X[ae.position]+=ae.amount),{...U,height:ee?`calc(100% - ${X.top}px - ${X.bottom}px)`:D.value?`${D.value}px`:void 0,left:le?void 0:`${X.left}px`,right:le?`${X.right}px`:void 0,top:P.value!=="bottom"?`${X.top}px`:void 0,bottom:P.value!=="top"?`${X.bottom}px`:void 0,width:ee?D.value?`${D.value}px`:void 0:`calc(100% - ${X.left}px - ${X.right}px)`}}),Z=O(()=>({zIndex:K.value-1}));return{layoutItemStyles:Y,layoutItemScrimStyles:Z,zIndex:K}},unregister:E=>{a.delete(E),s.delete(E),r.delete(E),o.delete(E),l.delete(E),i.value=i.value.filter(T=>T!==E)},mainRect:p,mainStyles:g,getLayoutItem:_,items:v,layoutRect:d,rootZIndex:n});const k=O(()=>["v-layout",{"v-layout--full-height":t.fullHeight}]),I=O(()=>({zIndex:e?n.value:void 0,position:e?"relative":void 0,overflow:e?"hidden":void 0}));return{layoutClasses:k,layoutStyles:I,getLayoutItem:_,items:v,layoutRect:d,layoutRef:u}}function t$(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{blueprint:e,...n}=t,i=xs(e,n),{aliases:s={},components:r={},directives:a={}}=i,o=Une(i.defaults),l=zie(i.display,i.ssr),u=nse(i.theme),d=Zie(i.icons),c=Jne(i.locale),f=$ie(i.date,c),h=Yie(i.goTo,c);return{install:g=>{for(const v in a)g.directive(v,a[v]);for(const v in r)g.component(v,r[v]);for(const v in s)g.component(v,xr({...s[v],name:v,aliasName:s[v].name}));if(u.install(g),g.provide(ah,o),g.provide(YS,l),g.provide(jm,u),g.provide(GS,d),g.provide(oh,c),g.provide(Gj,f.options),g.provide(AR,f.instance),g.provide(Xj,h),Yt&&i.ssr)if(g.$nuxt)g.$nuxt.hook("app:suspense:resolve",()=>{l.update()});else{const{mount:v}=g;g.mount=function(){const _=v(...arguments);return vt(()=>l.update()),g.mount=v,_}}zi.reset(),g.mixin({computed:{$vuetify(){return mn({defaults:nd.call(this,ah),display:nd.call(this,YS),theme:nd.call(this,jm),icons:nd.call(this,GS),locale:nd.call(this,oh),date:nd.call(this,AR)})}}})},defaults:o,display:l,theme:u,icons:d,locale:c,date:f,goTo:h}}const sse="3.7.6";t$.version=sse;function nd(t){var i,s;const e=this.$,n=((i=e.parent)==null?void 0:i.provides)??((s=e.vnode.appContext)==null?void 0:s.provides);if(n&&t in n)return n[t]}class Qs{static getItem(e){try{const n=localStorage.getItem(e);return n?JSON.parse(n):null}catch(n){return console.error(`Error retrieving item from localStorage: ${n}`),null}}static setItem(e,n){try{const i=JSON.stringify(n);localStorage.setItem(e,i)}catch(i){console.error(`Error setting item in localStorage: ${i}`)}}static removeItem(e){localStorage.removeItem(e)}static clear(){localStorage.clear()}}function U_(t){"@babel/helpers - typeof";return U_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},U_(t)}var rse=/^\s+/,ase=/\s+$/;function ot(t,e){if(t=t||"",e=e||{},t instanceof ot)return t;if(!(this instanceof ot))return new ot(t,e);var n=ose(t);this._originalInput=t,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=Math.round(100*this._a)/100,this._format=e.format||n.format,this._gradientType=e.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=n.ok}ot.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(e.r*299+e.g*587+e.b*114)/1e3},getLuminance:function(){var e=this.toRgb(),n,i,s,r,a,o;return n=e.r/255,i=e.g/255,s=e.b/255,n<=.03928?r=n/12.92:r=Math.pow((n+.055)/1.055,2.4),i<=.03928?a=i/12.92:a=Math.pow((i+.055)/1.055,2.4),s<=.03928?o=s/12.92:o=Math.pow((s+.055)/1.055,2.4),.2126*r+.7152*a+.0722*o},setAlpha:function(e){return this._a=n$(e),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var e=$R(this._r,this._g,this._b);return{h:e.h*360,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=$R(this._r,this._g,this._b),n=Math.round(e.h*360),i=Math.round(e.s*100),s=Math.round(e.v*100);return this._a==1?"hsv("+n+", "+i+"%, "+s+"%)":"hsva("+n+", "+i+"%, "+s+"%, "+this._roundA+")"},toHsl:function(){var e=jR(this._r,this._g,this._b);return{h:e.h*360,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=jR(this._r,this._g,this._b),n=Math.round(e.h*360),i=Math.round(e.s*100),s=Math.round(e.l*100);return this._a==1?"hsl("+n+", "+i+"%, "+s+"%)":"hsla("+n+", "+i+"%, "+s+"%, "+this._roundA+")"},toHex:function(e){return UR(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return dse(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(zn(this._r,255)*100)+"%",g:Math.round(zn(this._g,255)*100)+"%",b:Math.round(zn(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(zn(this._r,255)*100)+"%, "+Math.round(zn(this._g,255)*100)+"%, "+Math.round(zn(this._b,255)*100)+"%)":"rgba("+Math.round(zn(this._r,255)*100)+"%, "+Math.round(zn(this._g,255)*100)+"%, "+Math.round(zn(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:Sse[UR(this._r,this._g,this._b,!0)]||!1},toFilter:function(e){var n="#"+HR(this._r,this._g,this._b,this._a),i=n,s=this._gradientType?"GradientType = 1, ":"";if(e){var r=ot(e);i="#"+HR(r._r,r._g,r._b,r._a)}return"progid:DXImageTransform.Microsoft.gradient("+s+"startColorstr="+n+",endColorstr="+i+")"},toString:function(e){var n=!!e;e=e||this._format;var i=!1,s=this._a<1&&this._a>=0,r=!n&&s&&(e==="hex"||e==="hex6"||e==="hex3"||e==="hex4"||e==="hex8"||e==="name");return r?e==="name"&&this._a===0?this.toName():this.toRgbString():(e==="rgb"&&(i=this.toRgbString()),e==="prgb"&&(i=this.toPercentageRgbString()),(e==="hex"||e==="hex6")&&(i=this.toHexString()),e==="hex3"&&(i=this.toHexString(!0)),e==="hex4"&&(i=this.toHex8String(!0)),e==="hex8"&&(i=this.toHex8String()),e==="name"&&(i=this.toName()),e==="hsl"&&(i=this.toHslString()),e==="hsv"&&(i=this.toHsvString()),i||this.toHexString())},clone:function(){return ot(this.toString())},_applyModification:function(e,n){var i=e.apply(null,[this].concat([].slice.call(n)));return this._r=i._r,this._g=i._g,this._b=i._b,this.setAlpha(i._a),this},lighten:function(){return this._applyModification(gse,arguments)},brighten:function(){return this._applyModification(pse,arguments)},darken:function(){return this._applyModification(vse,arguments)},desaturate:function(){return this._applyModification(hse,arguments)},saturate:function(){return this._applyModification(fse,arguments)},greyscale:function(){return this._applyModification(mse,arguments)},spin:function(){return this._applyModification(_se,arguments)},_applyCombination:function(e,n){return e.apply(null,[this].concat([].slice.call(n)))},analogous:function(){return this._applyCombination(wse,arguments)},complement:function(){return this._applyCombination(yse,arguments)},monochromatic:function(){return this._applyCombination(xse,arguments)},splitcomplement:function(){return this._applyCombination(bse,arguments)},triad:function(){return this._applyCombination(zR,[3])},tetrad:function(){return this._applyCombination(zR,[4])}};ot.fromRatio=function(t,e){if(U_(t)=="object"){var n={};for(var i in t)t.hasOwnProperty(i)&&(i==="a"?n[i]=t[i]:n[i]=Vf(t[i]));t=n}return ot(t,e)};function ose(t){var e={r:0,g:0,b:0},n=1,i=null,s=null,r=null,a=!1,o=!1;return typeof t=="string"&&(t=Cse(t)),U_(t)=="object"&&(ao(t.r)&&ao(t.g)&&ao(t.b)?(e=lse(t.r,t.g,t.b),a=!0,o=String(t.r).substr(-1)==="%"?"prgb":"rgb"):ao(t.h)&&ao(t.s)&&ao(t.v)?(i=Vf(t.s),s=Vf(t.v),e=cse(t.h,i,s),a=!0,o="hsv"):ao(t.h)&&ao(t.s)&&ao(t.l)&&(i=Vf(t.s),r=Vf(t.l),e=use(t.h,i,r),a=!0,o="hsl"),t.hasOwnProperty("a")&&(n=t.a)),n=n$(n),{ok:a,format:t.format||o,r:Math.min(255,Math.max(e.r,0)),g:Math.min(255,Math.max(e.g,0)),b:Math.min(255,Math.max(e.b,0)),a:n}}function lse(t,e,n){return{r:zn(t,255)*255,g:zn(e,255)*255,b:zn(n,255)*255}}function jR(t,e,n){t=zn(t,255),e=zn(e,255),n=zn(n,255);var i=Math.max(t,e,n),s=Math.min(t,e,n),r,a,o=(i+s)/2;if(i==s)r=a=0;else{var l=i-s;switch(a=o>.5?l/(2-i-s):l/(i+s),i){case t:r=(e-n)/l+(e<n?6:0);break;case e:r=(n-t)/l+2;break;case n:r=(t-e)/l+4;break}r/=6}return{h:r,s:a,l:o}}function use(t,e,n){var i,s,r;t=zn(t,360),e=zn(e,100),n=zn(n,100);function a(u,d,c){return c<0&&(c+=1),c>1&&(c-=1),c<1/6?u+(d-u)*6*c:c<1/2?d:c<2/3?u+(d-u)*(2/3-c)*6:u}if(e===0)i=s=r=n;else{var o=n<.5?n*(1+e):n+e-n*e,l=2*n-o;i=a(l,o,t+1/3),s=a(l,o,t),r=a(l,o,t-1/3)}return{r:i*255,g:s*255,b:r*255}}function $R(t,e,n){t=zn(t,255),e=zn(e,255),n=zn(n,255);var i=Math.max(t,e,n),s=Math.min(t,e,n),r,a,o=i,l=i-s;if(a=i===0?0:l/i,i==s)r=0;else{switch(i){case t:r=(e-n)/l+(e<n?6:0);break;case e:r=(n-t)/l+2;break;case n:r=(t-e)/l+4;break}r/=6}return{h:r,s:a,v:o}}function cse(t,e,n){t=zn(t,360)*6,e=zn(e,100),n=zn(n,100);var i=Math.floor(t),s=t-i,r=n*(1-e),a=n*(1-s*e),o=n*(1-(1-s)*e),l=i%6,u=[n,a,r,r,o,n][l],d=[o,n,n,a,r,r][l],c=[r,r,o,n,n,a][l];return{r:u*255,g:d*255,b:c*255}}function UR(t,e,n,i){var s=[Xr(Math.round(t).toString(16)),Xr(Math.round(e).toString(16)),Xr(Math.round(n).toString(16))];return i&&s[0].charAt(0)==s[0].charAt(1)&&s[1].charAt(0)==s[1].charAt(1)&&s[2].charAt(0)==s[2].charAt(1)?s[0].charAt(0)+s[1].charAt(0)+s[2].charAt(0):s.join("")}function dse(t,e,n,i,s){var r=[Xr(Math.round(t).toString(16)),Xr(Math.round(e).toString(16)),Xr(Math.round(n).toString(16)),Xr(i$(i))];return s&&r[0].charAt(0)==r[0].charAt(1)&&r[1].charAt(0)==r[1].charAt(1)&&r[2].charAt(0)==r[2].charAt(1)&&r[3].charAt(0)==r[3].charAt(1)?r[0].charAt(0)+r[1].charAt(0)+r[2].charAt(0)+r[3].charAt(0):r.join("")}function HR(t,e,n,i){var s=[Xr(i$(i)),Xr(Math.round(t).toString(16)),Xr(Math.round(e).toString(16)),Xr(Math.round(n).toString(16))];return s.join("")}ot.equals=function(t,e){return!t||!e?!1:ot(t).toRgbString()==ot(e).toRgbString()};ot.random=function(){return ot.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};function hse(t,e){e=e===0?0:e||10;var n=ot(t).toHsl();return n.s-=e/100,n.s=Kb(n.s),ot(n)}function fse(t,e){e=e===0?0:e||10;var n=ot(t).toHsl();return n.s+=e/100,n.s=Kb(n.s),ot(n)}function mse(t){return ot(t).desaturate(100)}function gse(t,e){e=e===0?0:e||10;var n=ot(t).toHsl();return n.l+=e/100,n.l=Kb(n.l),ot(n)}function pse(t,e){e=e===0?0:e||10;var n=ot(t).toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(255*-(e/100)))),n.g=Math.max(0,Math.min(255,n.g-Math.round(255*-(e/100)))),n.b=Math.max(0,Math.min(255,n.b-Math.round(255*-(e/100)))),ot(n)}function vse(t,e){e=e===0?0:e||10;var n=ot(t).toHsl();return n.l-=e/100,n.l=Kb(n.l),ot(n)}function _se(t,e){var n=ot(t).toHsl(),i=(n.h+e)%360;return n.h=i<0?360+i:i,ot(n)}function yse(t){var e=ot(t).toHsl();return e.h=(e.h+180)%360,ot(e)}function zR(t,e){if(isNaN(e)||e<=0)throw new Error("Argument to polyad must be a positive number");for(var n=ot(t).toHsl(),i=[ot(t)],s=360/e,r=1;r<e;r++)i.push(ot({h:(n.h+r*s)%360,s:n.s,l:n.l}));return i}function bse(t){var e=ot(t).toHsl(),n=e.h;return[ot(t),ot({h:(n+72)%360,s:e.s,l:e.l}),ot({h:(n+216)%360,s:e.s,l:e.l})]}function wse(t,e,n){e=e||6,n=n||30;var i=ot(t).toHsl(),s=360/n,r=[ot(t)];for(i.h=(i.h-(s*e>>1)+720)%360;--e;)i.h=(i.h+s)%360,r.push(ot(i));return r}function xse(t,e){e=e||6;for(var n=ot(t).toHsv(),i=n.h,s=n.s,r=n.v,a=[],o=1/e;e--;)a.push(ot({h:i,s,v:r})),r=(r+o)%1;return a}ot.mix=function(t,e,n){n=n===0?0:n||50;var i=ot(t).toRgb(),s=ot(e).toRgb(),r=n/100,a={r:(s.r-i.r)*r+i.r,g:(s.g-i.g)*r+i.g,b:(s.b-i.b)*r+i.b,a:(s.a-i.a)*r+i.a};return ot(a)};ot.readability=function(t,e){var n=ot(t),i=ot(e);return(Math.max(n.getLuminance(),i.getLuminance())+.05)/(Math.min(n.getLuminance(),i.getLuminance())+.05)};ot.isReadable=function(t,e,n){var i=ot.readability(t,e),s,r;switch(r=!1,s=Ese(n),s.level+s.size){case"AAsmall":case"AAAlarge":r=i>=4.5;break;case"AAlarge":r=i>=3;break;case"AAAsmall":r=i>=7;break}return r};ot.mostReadable=function(t,e,n){var i=null,s=0,r,a,o,l;n=n||{},a=n.includeFallbackColors,o=n.level,l=n.size;for(var u=0;u<e.length;u++)r=ot.readability(t,e[u]),r>s&&(s=r,i=ot(e[u]));return ot.isReadable(t,i,{level:o,size:l})||!a?i:(n.includeFallbackColors=!1,ot.mostReadable(t,["#fff","#000"],n))};var XS=ot.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},Sse=ot.hexNames=kse(XS);function kse(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function n$(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function zn(t,e){Tse(t)&&(t="100%");var n=Pse(t);return t=Math.min(e,Math.max(0,parseFloat(t))),n&&(t=parseInt(t*e,10)/100),Math.abs(t-e)<1e-6?1:t%e/parseFloat(e)}function Kb(t){return Math.min(1,Math.max(0,t))}function ar(t){return parseInt(t,16)}function Tse(t){return typeof t=="string"&&t.indexOf(".")!=-1&&parseFloat(t)===1}function Pse(t){return typeof t=="string"&&t.indexOf("%")!=-1}function Xr(t){return t.length==1?"0"+t:""+t}function Vf(t){return t<=1&&(t=t*100+"%"),t}function i$(t){return Math.round(parseFloat(t)*255).toString(16)}function WR(t){return ar(t)/255}var $r=function(){var t="[-\\+]?\\d+%?",e="[-\\+]?\\d*\\.\\d+%?",n="(?:"+e+")|(?:"+t+")",i="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?",s="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?";return{CSS_UNIT:new RegExp(n),rgb:new RegExp("rgb"+i),rgba:new RegExp("rgba"+s),hsl:new RegExp("hsl"+i),hsla:new RegExp("hsla"+s),hsv:new RegExp("hsv"+i),hsva:new RegExp("hsva"+s),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function ao(t){return!!$r.CSS_UNIT.exec(t)}function Cse(t){t=t.replace(rse,"").replace(ase,"").toLowerCase();var e=!1;if(XS[t])t=XS[t],e=!0;else if(t=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var n;return(n=$r.rgb.exec(t))?{r:n[1],g:n[2],b:n[3]}:(n=$r.rgba.exec(t))?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=$r.hsl.exec(t))?{h:n[1],s:n[2],l:n[3]}:(n=$r.hsla.exec(t))?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=$r.hsv.exec(t))?{h:n[1],s:n[2],v:n[3]}:(n=$r.hsva.exec(t))?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=$r.hex8.exec(t))?{r:ar(n[1]),g:ar(n[2]),b:ar(n[3]),a:WR(n[4]),format:e?"name":"hex8"}:(n=$r.hex6.exec(t))?{r:ar(n[1]),g:ar(n[2]),b:ar(n[3]),format:e?"name":"hex"}:(n=$r.hex4.exec(t))?{r:ar(n[1]+""+n[1]),g:ar(n[2]+""+n[2]),b:ar(n[3]+""+n[3]),a:WR(n[4]+""+n[4]),format:e?"name":"hex8"}:(n=$r.hex3.exec(t))?{r:ar(n[1]+""+n[1]),g:ar(n[2]+""+n[2]),b:ar(n[3]+""+n[3]),format:e?"name":"hex"}:!1}function Ese(t){var e,n;return t=t||{level:"AA",size:"small"},e=(t.level||"AA").toUpperCase(),n=(t.size||"small").toLowerCase(),e!=="AA"&&e!=="AAA"&&(e="AA"),n!=="small"&&n!=="large"&&(n="small"),{level:e,size:n}}var Qb,It,s$,r$,Tu,YR,a$,KS,o$,OP,QS,JS,l$,Um={},u$=[],Ise=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,Jb=Array.isArray;function _l(t,e){for(var n in e)t[n]=e[n];return t}function MP(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function oc(t,e,n){var i,s,r,a={};for(r in e)r=="key"?i=e[r]:r=="ref"?s=e[r]:a[r]=e[r];if(arguments.length>2&&(a.children=arguments.length>3?Qb.call(arguments,2):n),typeof t=="function"&&t.defaultProps!=null)for(r in t.defaultProps)a[r]===void 0&&(a[r]=t.defaultProps[r]);return Mv(t,a,i,s,null)}function Mv(t,e,n,i,s){var r={type:t,props:e,key:n,ref:i,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:s??++s$,__i:-1,__u:0};return s==null&&It.vnode!=null&&It.vnode(r),r}function Lt(t){return t.children}function La(t,e){this.props=t,this.context=e}function lh(t,e){if(e==null)return t.__?lh(t.__,t.__i+1):null;for(var n;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null)return n.__e;return typeof t.type=="function"?lh(t):null}function c$(t){var e,n;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null){t.__e=t.__c.base=n.__e;break}return c$(t)}}function ZS(t){(!t.__d&&(t.__d=!0)&&Tu.push(t)&&!H_.__r++||YR!==It.debounceRendering)&&((YR=It.debounceRendering)||a$)(H_)}function H_(){var t,e,n,i,s,r,a,o;for(Tu.sort(KS);t=Tu.shift();)t.__d&&(e=Tu.length,i=void 0,r=(s=(n=t).__v).__e,a=[],o=[],n.__P&&((i=_l({},s)).__v=s.__v+1,It.vnode&&It.vnode(i),VP(n.__P,i,s,n.__n,n.__P.namespaceURI,32&s.__u?[r]:null,a,r??lh(s),!!(32&s.__u),o),i.__v=s.__v,i.__.__k[i.__i]=i,f$(a,i,o),i.__e!=r&&c$(i)),Tu.length>e&&Tu.sort(KS));H_.__r=0}function d$(t,e,n,i,s,r,a,o,l,u,d){var c,f,h,p,g,v,_=i&&i.__k||u$,b=e.length;for(l=Dse(n,e,_,l,b),c=0;c<b;c++)(h=n.__k[c])!=null&&(f=h.__i===-1?Um:_[h.__i]||Um,h.__i=c,v=VP(t,h,f,s,r,a,o,l,u,d),p=h.__e,h.ref&&f.ref!=h.ref&&(f.ref&&LP(f.ref,null,h),d.push(h.ref,h.__c||p,h)),g==null&&p!=null&&(g=p),4&h.__u||f.__k===h.__k?l=h$(h,l,t):typeof h.type=="function"&&v!==void 0?l=v:p&&(l=p.nextSibling),h.__u&=-7);return n.__e=g,l}function Dse(t,e,n,i,s){var r,a,o,l,u,d=n.length,c=d,f=0;for(t.__k=new Array(s),r=0;r<s;r++)(a=e[r])!=null&&typeof a!="boolean"&&typeof a!="function"?(l=r+f,(a=t.__k[r]=typeof a=="string"||typeof a=="number"||typeof a=="bigint"||a.constructor==String?Mv(null,a,null,null,null):Jb(a)?Mv(Lt,{children:a},null,null,null):a.constructor===void 0&&a.__b>0?Mv(a.type,a.props,a.key,a.ref?a.ref:null,a.__v):a).__=t,a.__b=t.__b+1,o=null,(u=a.__i=Ase(a,n,l,c))!==-1&&(c--,(o=n[u])&&(o.__u|=2)),o==null||o.__v===null?(u==-1&&f--,typeof a.type!="function"&&(a.__u|=4)):u!=l&&(u==l-1?f--:u==l+1?f++:(u>l?f--:f++,a.__u|=4))):t.__k[r]=null;if(c)for(r=0;r<d;r++)(o=n[r])!=null&&!(2&o.__u)&&(o.__e==i&&(i=lh(o)),m$(o,o));return i}function h$(t,e,n){var i,s;if(typeof t.type=="function"){for(i=t.__k,s=0;i&&s<i.length;s++)i[s]&&(i[s].__=t,e=h$(i[s],e,n));return e}t.__e!=e&&(e&&t.type&&!n.contains(e)&&(e=lh(t)),n.insertBefore(t.__e,e||null),e=t.__e);do e=e&&e.nextSibling;while(e!=null&&e.nodeType==8);return e}function z_(t,e){return e=e||[],t==null||typeof t=="boolean"||(Jb(t)?t.some(function(n){z_(n,e)}):e.push(t)),e}function Ase(t,e,n,i){var s,r,a=t.key,o=t.type,l=e[n];if(l===null||l&&a==l.key&&o===l.type&&!(2&l.__u))return n;if(i>(l!=null&&!(2&l.__u)?1:0))for(s=n-1,r=n+1;s>=0||r<e.length;){if(s>=0){if((l=e[s])&&!(2&l.__u)&&a==l.key&&o===l.type)return s;s--}if(r<e.length){if((l=e[r])&&!(2&l.__u)&&a==l.key&&o===l.type)return r;r++}}return-1}function GR(t,e,n){e[0]=="-"?t.setProperty(e,n??""):t[e]=n==null?"":typeof n!="number"||Ise.test(e)?n:n+"px"}function Gp(t,e,n,i,s){var r;e:if(e=="style")if(typeof n=="string")t.style.cssText=n;else{if(typeof i=="string"&&(t.style.cssText=i=""),i)for(e in i)n&&e in n||GR(t.style,e,"");if(n)for(e in n)i&&n[e]===i[e]||GR(t.style,e,n[e])}else if(e[0]=="o"&&e[1]=="n")r=e!=(e=e.replace(o$,"$1")),e=e.toLowerCase()in t||e=="onFocusOut"||e=="onFocusIn"?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+r]=n,n?i?n.u=i.u:(n.u=OP,t.addEventListener(e,r?JS:QS,r)):t.removeEventListener(e,r?JS:QS,r);else{if(s=="http://www.w3.org/2000/svg")e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!="width"&&e!="height"&&e!="href"&&e!="list"&&e!="form"&&e!="tabIndex"&&e!="download"&&e!="rowSpan"&&e!="colSpan"&&e!="role"&&e!="popover"&&e in t)try{t[e]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&e[4]!="-"?t.removeAttribute(e):t.setAttribute(e,e=="popover"&&n==1?"":n))}}function qR(t){return function(e){if(this.l){var n=this.l[e.type+t];if(e.t==null)e.t=OP++;else if(e.t<n.u)return;return n(It.event?It.event(e):e)}}}function VP(t,e,n,i,s,r,a,o,l,u){var d,c,f,h,p,g,v,_,b,x,k,I,E,T,S,w,P,C=e.type;if(e.constructor!==void 0)return null;128&n.__u&&(l=!!(32&n.__u),r=[o=e.__e=n.__e]),(d=It.__b)&&d(e);e:if(typeof C=="function")try{if(_=e.props,b="prototype"in C&&C.prototype.render,x=(d=C.contextType)&&i[d.__c],k=d?x?x.props.value:d.__:i,n.__c?v=(c=e.__c=n.__c).__=c.__E:(b?e.__c=c=new C(_,k):(e.__c=c=new La(_,k),c.constructor=C,c.render=Ose),x&&x.sub(c),c.props=_,c.state||(c.state={}),c.context=k,c.__n=i,f=c.__d=!0,c.__h=[],c._sb=[]),b&&c.__s==null&&(c.__s=c.state),b&&C.getDerivedStateFromProps!=null&&(c.__s==c.state&&(c.__s=_l({},c.__s)),_l(c.__s,C.getDerivedStateFromProps(_,c.__s))),h=c.props,p=c.state,c.__v=e,f)b&&C.getDerivedStateFromProps==null&&c.componentWillMount!=null&&c.componentWillMount(),b&&c.componentDidMount!=null&&c.__h.push(c.componentDidMount);else{if(b&&C.getDerivedStateFromProps==null&&_!==h&&c.componentWillReceiveProps!=null&&c.componentWillReceiveProps(_,k),!c.__e&&(c.shouldComponentUpdate!=null&&c.shouldComponentUpdate(_,c.__s,k)===!1||e.__v==n.__v)){for(e.__v!=n.__v&&(c.props=_,c.state=c.__s,c.__d=!1),e.__e=n.__e,e.__k=n.__k,e.__k.some(function(D){D&&(D.__=e)}),I=0;I<c._sb.length;I++)c.__h.push(c._sb[I]);c._sb=[],c.__h.length&&a.push(c);break e}c.componentWillUpdate!=null&&c.componentWillUpdate(_,c.__s,k),b&&c.componentDidUpdate!=null&&c.__h.push(function(){c.componentDidUpdate(h,p,g)})}if(c.context=k,c.props=_,c.__P=t,c.__e=!1,E=It.__r,T=0,b){for(c.state=c.__s,c.__d=!1,E&&E(e),d=c.render(c.props,c.state,c.context),S=0;S<c._sb.length;S++)c.__h.push(c._sb[S]);c._sb=[]}else do c.__d=!1,E&&E(e),d=c.render(c.props,c.state,c.context),c.state=c.__s;while(c.__d&&++T<25);c.state=c.__s,c.getChildContext!=null&&(i=_l(_l({},i),c.getChildContext())),b&&!f&&c.getSnapshotBeforeUpdate!=null&&(g=c.getSnapshotBeforeUpdate(h,p)),o=d$(t,Jb(w=d!=null&&d.type===Lt&&d.key==null?d.props.children:d)?w:[w],e,n,i,s,r,a,o,l,u),c.base=e.__e,e.__u&=-161,c.__h.length&&a.push(c),v&&(c.__E=c.__=null)}catch(D){if(e.__v=null,l||r!=null)if(D.then){for(e.__u|=l?160:128;o&&o.nodeType==8&&o.nextSibling;)o=o.nextSibling;r[r.indexOf(o)]=null,e.__e=o}else for(P=r.length;P--;)MP(r[P]);else e.__e=n.__e,e.__k=n.__k;It.__e(D,e,n)}else r==null&&e.__v==n.__v?(e.__k=n.__k,e.__e=n.__e):o=e.__e=Rse(n.__e,e,n,i,s,r,a,l,u);return(d=It.diffed)&&d(e),128&e.__u?void 0:o}function f$(t,e,n){for(var i=0;i<n.length;i++)LP(n[i],n[++i],n[++i]);It.__c&&It.__c(e,t),t.some(function(s){try{t=s.__h,s.__h=[],t.some(function(r){r.call(s)})}catch(r){It.__e(r,s.__v)}})}function Rse(t,e,n,i,s,r,a,o,l){var u,d,c,f,h,p,g,v=n.props,_=e.props,b=e.type;if(b=="svg"?s="http://www.w3.org/2000/svg":b=="math"?s="http://www.w3.org/1998/Math/MathML":s||(s="http://www.w3.org/1999/xhtml"),r!=null){for(u=0;u<r.length;u++)if((h=r[u])&&"setAttribute"in h==!!b&&(b?h.localName==b:h.nodeType==3)){t=h,r[u]=null;break}}if(t==null){if(b==null)return document.createTextNode(_);t=document.createElementNS(s,b,_.is&&_),o&&(It.__m&&It.__m(e,r),o=!1),r=null}if(b===null)v===_||o&&t.data===_||(t.data=_);else{if(r=r&&Qb.call(t.childNodes),v=n.props||Um,!o&&r!=null)for(v={},u=0;u<t.attributes.length;u++)v[(h=t.attributes[u]).name]=h.value;for(u in v)if(h=v[u],u!="children"){if(u=="dangerouslySetInnerHTML")c=h;else if(!(u in _)){if(u=="value"&&"defaultValue"in _||u=="checked"&&"defaultChecked"in _)continue;Gp(t,u,null,h,s)}}for(u in _)h=_[u],u=="children"?f=h:u=="dangerouslySetInnerHTML"?d=h:u=="value"?p=h:u=="checked"?g=h:o&&typeof h!="function"||v[u]===h||Gp(t,u,h,v[u],s);if(d)o||c&&(d.__html===c.__html||d.__html===t.innerHTML)||(t.innerHTML=d.__html),e.__k=[];else if(c&&(t.innerHTML=""),d$(t,Jb(f)?f:[f],e,n,i,b=="foreignObject"?"http://www.w3.org/1999/xhtml":s,r,a,r?r[0]:n.__k&&lh(n,0),o,l),r!=null)for(u=r.length;u--;)MP(r[u]);o||(u="value",b=="progress"&&p==null?t.removeAttribute("value"):p!==void 0&&(p!==t[u]||b=="progress"&&!p||b=="option"&&p!==v[u])&&Gp(t,u,p,v[u],s),u="checked",g!==void 0&&g!==t[u]&&Gp(t,u,g,v[u],s))}return t}function LP(t,e,n){try{if(typeof t=="function"){var i=typeof t.__u=="function";i&&t.__u(),i&&e==null||(t.__u=t(e))}else t.current=e}catch(s){It.__e(s,n)}}function m$(t,e,n){var i,s;if(It.unmount&&It.unmount(t),(i=t.ref)&&(i.current&&i.current!==t.__e||LP(i,null,e)),(i=t.__c)!=null){if(i.componentWillUnmount)try{i.componentWillUnmount()}catch(r){It.__e(r,e)}i.base=i.__P=null}if(i=t.__k)for(s=0;s<i.length;s++)i[s]&&m$(i[s],e,n||typeof t.type!="function");n||MP(t.__e),t.__c=t.__=t.__e=void 0}function Ose(t,e,n){return this.constructor(t,n)}function W_(t,e,n){var i,s,r,a;e==document&&(e=document.documentElement),It.__&&It.__(t,e),s=(i=!1)?null:e.__k,r=[],a=[],VP(e,t=e.__k=oc(Lt,null,[t]),s||Um,Um,e.namespaceURI,s?null:e.firstChild?Qb.call(e.childNodes):null,r,s?s.__e:e.firstChild,i,a),f$(r,t,a)}function g$(t,e){var n={__c:e="__cC"+l$++,__:t,Consumer:function(i,s){return i.children(s)},Provider:function(i){var s,r;return this.getChildContext||(s=new Set,(r={})[e]=this,this.getChildContext=function(){return r},this.componentWillUnmount=function(){s=null},this.shouldComponentUpdate=function(a){this.props.value!==a.value&&s.forEach(function(o){o.__e=!0,ZS(o)})},this.sub=function(a){s.add(a);var o=a.componentWillUnmount;a.componentWillUnmount=function(){s&&s.delete(a),o&&o.call(a)}}),i.children}};return n.Provider.__=n.Consumer.contextType=n}Qb=u$.slice,It={__e:function(t,e,n,i){for(var s,r,a;e=e.__;)if((s=e.__c)&&!s.__)try{if((r=s.constructor)&&r.getDerivedStateFromError!=null&&(s.setState(r.getDerivedStateFromError(t)),a=s.__d),s.componentDidCatch!=null&&(s.componentDidCatch(t,i||{}),a=s.__d),a)return s.__E=s}catch(o){t=o}throw t}},s$=0,r$=function(t){return t!=null&&t.constructor==null},La.prototype.setState=function(t,e){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=_l({},this.state),typeof t=="function"&&(t=t(_l({},n),this.props)),t&&_l(n,t),t!=null&&this.__v&&(e&&this._sb.push(e),ZS(this))},La.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),ZS(this))},La.prototype.render=Lt,Tu=[],a$=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,KS=function(t,e){return t.__v.__b-e.__v.__b},H_.__r=0,o$=/(PointerCapture)$|Capture$/i,OP=0,QS=qR(!1),JS=qR(!0),l$=0;var Mse=0;function Q(t,e,n,i,s,r){e||(e={});var a,o,l=e;if("ref"in l)for(o in l={},e)o=="ref"?a=e[o]:l[o]=e[o];var u={type:t,props:l,key:n,ref:a,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:--Mse,__i:-1,__u:0,__source:s,__self:r};if(typeof t=="function"&&(a=t.defaultProps))for(o in a)l[o]===void 0&&(l[o]=a[o]);return It.vnode&&It.vnode(u),u}var uh,Jn,Y0,XR,Y_=0,p$=[],_i=It,KR=_i.__b,QR=_i.__r,JR=_i.diffed,ZR=_i.__c,eO=_i.unmount,tO=_i.__;function Zb(t,e){_i.__h&&_i.__h(Jn,t,Y_||e),Y_=0;var n=Jn.__H||(Jn.__H={__:[],__h:[]});return t>=n.__.length&&n.__.push({}),n.__[t]}function Rt(t){return Y_=1,Vse(_$,t)}function Vse(t,e,n){var i=Zb(uh++,2);if(i.t=t,!i.__c&&(i.__=[n?n(e):_$(void 0,e),function(o){var l=i.__N?i.__N[0]:i.__[0],u=i.t(l,o);l!==u&&(i.__N=[u,i.__[1]],i.__c.setState({}))}],i.__c=Jn,!Jn.u)){var s=function(o,l,u){if(!i.__c.__H)return!0;var d=i.__c.__H.__.filter(function(f){return!!f.__c});if(d.every(function(f){return!f.__N}))return!r||r.call(this,o,l,u);var c=i.__c.props!==o;return d.forEach(function(f){if(f.__N){var h=f.__[0];f.__=f.__N,f.__N=void 0,h!==f.__[0]&&(c=!0)}}),r&&r.call(this,o,l,u)||c};Jn.u=!0;var r=Jn.shouldComponentUpdate,a=Jn.componentWillUpdate;Jn.componentWillUpdate=function(o,l,u){if(this.__e){var d=r;r=void 0,s(o,l,u),r=d}a&&a.call(this,o,l,u)},Jn.shouldComponentUpdate=s}return i.__N||i.__}function kn(t,e){var n=Zb(uh++,3);!_i.__s&&v$(n.__H,e)&&(n.__=t,n.i=e,Jn.__H.__h.push(n))}function Lse(t){return Y_=5,NP(function(){return{current:t}},[])}function NP(t,e){var n=Zb(uh++,7);return v$(n.__H,e)&&(n.__=t(),n.__H=e,n.__h=t),n.__}function An(t){var e=Jn.context[t.__c],n=Zb(uh++,9);return n.c=t,e?(n.__==null&&(n.__=!0,e.sub(Jn)),e.props.value):t.__}function Nse(){for(var t;t=p$.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(Vv),t.__H.__h.forEach(e1),t.__H.__h=[]}catch(e){t.__H.__h=[],_i.__e(e,t.__v)}}_i.__b=function(t){Jn=null,KR&&KR(t)},_i.__=function(t,e){t&&e.__k&&e.__k.__m&&(t.__m=e.__k.__m),tO&&tO(t,e)},_i.__r=function(t){QR&&QR(t),uh=0;var e=(Jn=t.__c).__H;e&&(Y0===Jn?(e.__h=[],Jn.__h=[],e.__.forEach(function(n){n.__N&&(n.__=n.__N),n.i=n.__N=void 0})):(e.__h.forEach(Vv),e.__h.forEach(e1),e.__h=[],uh=0)),Y0=Jn},_i.diffed=function(t){JR&&JR(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(p$.push(e)!==1&&XR===_i.requestAnimationFrame||((XR=_i.requestAnimationFrame)||Fse)(Nse)),e.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.i=void 0})),Y0=Jn=null},_i.__c=function(t,e){e.some(function(n){try{n.__h.forEach(Vv),n.__h=n.__h.filter(function(i){return!i.__||e1(i)})}catch(i){e.some(function(s){s.__h&&(s.__h=[])}),e=[],_i.__e(i,n.__v)}}),ZR&&ZR(t,e)},_i.unmount=function(t){eO&&eO(t);var e,n=t.__c;n&&n.__H&&(n.__H.__.forEach(function(i){try{Vv(i)}catch(s){e=s}}),n.__H=void 0,e&&_i.__e(e,n.__v))};var nO=typeof requestAnimationFrame=="function";function Fse(t){var e,n=function(){clearTimeout(i),nO&&cancelAnimationFrame(e),setTimeout(t)},i=setTimeout(n,100);nO&&(e=requestAnimationFrame(n))}function Vv(t){var e=Jn,n=t.__c;typeof n=="function"&&(t.__c=void 0,n()),Jn=e}function e1(t){var e=Jn;t.__c=t.__(),Jn=e}function v$(t,e){return!t||t.length!==e.length||e.some(function(n,i){return n!==t[i]})}function _$(t,e){return typeof e=="function"?e(t):e}function Bse(t,e){for(var n in e)t[n]=e[n];return t}function iO(t,e){for(var n in t)if(n!=="__source"&&!(n in e))return!0;for(var i in e)if(i!=="__source"&&t[i]!==e[i])return!0;return!1}function sO(t,e){this.props=t,this.context=e}(sO.prototype=new La).isPureReactComponent=!0,sO.prototype.shouldComponentUpdate=function(t,e){return iO(this.props,t)||iO(this.state,e)};var rO=It.__b;It.__b=function(t){t.type&&t.type.__f&&t.ref&&(t.props.ref=t.ref,t.ref=null),rO&&rO(t)};var jse=It.__e;It.__e=function(t,e,n,i){if(t.then){for(var s,r=e;r=r.__;)if((s=r.__c)&&s.__c)return e.__e==null&&(e.__e=n.__e,e.__k=n.__k),s.__c(t,e)}jse(t,e,n,i)};var aO=It.unmount;function y$(t,e,n){return t&&(t.__c&&t.__c.__H&&(t.__c.__H.__.forEach(function(i){typeof i.__c=="function"&&i.__c()}),t.__c.__H=null),(t=Bse({},t)).__c!=null&&(t.__c.__P===n&&(t.__c.__P=e),t.__c=null),t.__k=t.__k&&t.__k.map(function(i){return y$(i,e,n)})),t}function b$(t,e,n){return t&&n&&(t.__v=null,t.__k=t.__k&&t.__k.map(function(i){return b$(i,e,n)}),t.__c&&t.__c.__P===e&&(t.__e&&n.appendChild(t.__e),t.__c.__e=!0,t.__c.__P=n)),t}function G0(){this.__u=0,this.o=null,this.__b=null}function w$(t){var e=t.__.__c;return e&&e.__a&&e.__a(t)}function qp(){this.i=null,this.l=null}It.unmount=function(t){var e=t.__c;e&&e.__R&&e.__R(),e&&32&t.__u&&(t.type=null),aO&&aO(t)},(G0.prototype=new La).__c=function(t,e){var n=e.__c,i=this;i.o==null&&(i.o=[]),i.o.push(n);var s=w$(i.__v),r=!1,a=function(){r||(r=!0,n.__R=null,s?s(o):o())};n.__R=a;var o=function(){if(!--i.__u){if(i.state.__a){var l=i.state.__a;i.__v.__k[0]=b$(l,l.__c.__P,l.__c.__O)}var u;for(i.setState({__a:i.__b=null});u=i.o.pop();)u.forceUpdate()}};i.__u++||32&e.__u||i.setState({__a:i.__b=i.__v.__k[0]}),t.then(a,a)},G0.prototype.componentWillUnmount=function(){this.o=[]},G0.prototype.render=function(t,e){if(this.__b){if(this.__v.__k){var n=document.createElement("div"),i=this.__v.__k[0].__c;this.__v.__k[0]=y$(this.__b,n,i.__O=i.__P)}this.__b=null}var s=e.__a&&oc(Lt,null,t.fallback);return s&&(s.__u&=-33),[oc(Lt,null,e.__a?null:t.children),s]};var oO=function(t,e,n){if(++n[1]===n[0]&&t.l.delete(e),t.props.revealOrder&&(t.props.revealOrder[0]!=="t"||!t.l.size))for(n=t.i;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;t.i=n=n[2]}};function $se(t){return this.getChildContext=function(){return t.context},t.children}function Use(t){var e=this,n=t.h;e.componentWillUnmount=function(){W_(null,e.v),e.v=null,e.h=null},e.h&&e.h!==n&&e.componentWillUnmount(),e.v||(e.h=n,e.v={nodeType:1,parentNode:n,childNodes:[],contains:function(){return!0},appendChild:function(i){this.childNodes.push(i),e.h.appendChild(i)},insertBefore:function(i,s){this.childNodes.push(i),e.h.insertBefore(i,s)},removeChild:function(i){this.childNodes.splice(this.childNodes.indexOf(i)>>>1,1),e.h.removeChild(i)}}),W_(oc($se,{context:e.context},t.__v),e.v)}function Hse(t,e){var n=oc(Use,{__v:t,h:e});return n.containerInfo=e,n}(qp.prototype=new La).__a=function(t){var e=this,n=w$(e.__v),i=e.l.get(t);return i[0]++,function(s){var r=function(){e.props.revealOrder?(i.push(s),oO(e,t,i)):s()};n?n(r):r()}},qp.prototype.render=function(t){this.i=null,this.l=new Map;var e=z_(t.children);t.revealOrder&&t.revealOrder[0]==="b"&&e.reverse();for(var n=e.length;n--;)this.l.set(e[n],this.i=[1,0,this.i]);return t.children},qp.prototype.componentDidUpdate=qp.prototype.componentDidMount=function(){var t=this;this.l.forEach(function(e,n){oO(t,n,e)})};var zse=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,Wse=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,Yse=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,Gse=/[A-Z0-9]/g,qse=typeof document<"u",Xse=function(t){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/:/fil|che|ra/).test(t)};La.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(t){Object.defineProperty(La.prototype,t,{configurable:!0,get:function(){return this["UNSAFE_"+t]},set:function(e){Object.defineProperty(this,t,{configurable:!0,writable:!0,value:e})}})});var lO=It.event;function Kse(){}function Qse(){return this.cancelBubble}function Jse(){return this.defaultPrevented}It.event=function(t){return lO&&(t=lO(t)),t.persist=Kse,t.isPropagationStopped=Qse,t.isDefaultPrevented=Jse,t.nativeEvent=t};var Zse={enumerable:!1,configurable:!0,get:function(){return this.class}},uO=It.vnode;It.vnode=function(t){typeof t.type=="string"&&function(e){var n=e.props,i=e.type,s={},r=i.indexOf("-")===-1;for(var a in n){var o=n[a];if(!(a==="value"&&"defaultValue"in n&&o==null||qse&&a==="children"&&i==="noscript"||a==="class"||a==="className")){var l=a.toLowerCase();a==="defaultValue"&&"value"in n&&n.value==null?a="value":a==="download"&&o===!0?o="":l==="translate"&&o==="no"?o=!1:l[0]==="o"&&l[1]==="n"?l==="ondoubleclick"?a="ondblclick":l!=="onchange"||i!=="input"&&i!=="textarea"||Xse(n.type)?l==="onfocus"?a="onfocusin":l==="onblur"?a="onfocusout":Yse.test(a)&&(a=l):l=a="oninput":r&&Wse.test(a)?a=a.replace(Gse,"-$&").toLowerCase():o===null&&(o=void 0),l==="oninput"&&s[a=l]&&(a="oninputCapture"),s[a]=o}}i=="select"&&s.multiple&&Array.isArray(s.value)&&(s.value=z_(n.children).forEach(function(u){u.props.selected=s.value.indexOf(u.props.value)!=-1})),i=="select"&&s.defaultValue!=null&&(s.value=z_(n.children).forEach(function(u){u.props.selected=s.multiple?s.defaultValue.indexOf(u.props.value)!=-1:s.defaultValue==u.props.value})),n.class&&!n.className?(s.class=n.class,Object.defineProperty(s,"className",Zse)):(n.className&&!n.class||n.class&&n.className)&&(s.class=s.className=n.className),e.props=s}(t),t.$$typeof=zse,uO&&uO(t)};var cO=It.__r;It.__r=function(t){cO&&cO(t),t.__c};var dO=It.diffed;It.diffed=function(t){dO&&dO(t);var e=t.props,n=t.__e;n!=null&&t.type==="textarea"&&"value"in e&&e.value!==n.value&&(n.value=e.value==null?"":e.value)};var ere=Symbol.for("preact-signals");function ew(){if(Cl>1)Cl--;else{for(var t,e=!1;rm!==void 0;){var n=rm;for(rm=void 0,n1++;n!==void 0;){var i=n.o;if(n.o=void 0,n.f&=-3,!(8&n.f)&&S$(n))try{n.c()}catch(s){e||(t=s,e=!0)}n=i}}if(n1=0,Cl--,e)throw t}}function t1(t){if(Cl>0)return t();Cl++;try{return t()}finally{ew()}}var xn=void 0,rm=void 0,Cl=0,n1=0,G_=0;function x$(t){if(xn!==void 0){var e=t.n;if(e===void 0||e.t!==xn)return e={i:0,S:t,p:xn.s,n:void 0,t:xn,e:void 0,x:void 0,r:e},xn.s!==void 0&&(xn.s.n=e),xn.s=e,t.n=e,32&xn.f&&t.S(e),e;if(e.i===-1)return e.i=0,e.n!==void 0&&(e.n.p=e.p,e.p!==void 0&&(e.p.n=e.n),e.p=xn.s,e.n=void 0,xn.s.n=e,xn.s=e),e}}function os(t){this.v=t,this.i=0,this.n=void 0,this.t=void 0}os.prototype.brand=ere;os.prototype.h=function(){return!0};os.prototype.S=function(t){this.t!==t&&t.e===void 0&&(t.x=this.t,this.t!==void 0&&(this.t.e=t),this.t=t)};os.prototype.U=function(t){if(this.t!==void 0){var e=t.e,n=t.x;e!==void 0&&(e.x=n,t.e=void 0),n!==void 0&&(n.e=e,t.x=void 0),t===this.t&&(this.t=n)}};os.prototype.subscribe=function(t){var e=this;return Mo(function(){var n=e.value,i=xn;xn=void 0;try{t(n)}finally{xn=i}})};os.prototype.valueOf=function(){return this.value};os.prototype.toString=function(){return this.value+""};os.prototype.toJSON=function(){return this.value};os.prototype.peek=function(){var t=xn;xn=void 0;try{return this.value}finally{xn=t}};Object.defineProperty(os.prototype,"value",{get:function(){var t=x$(this);return t!==void 0&&(t.i=this.i),this.v},set:function(t){if(t!==this.v){if(n1>100)throw new Error("Cycle detected");this.v=t,this.i++,G_++,Cl++;try{for(var e=this.t;e!==void 0;e=e.x)e.t.N()}finally{ew()}}}});function jt(t){return new os(t)}function S$(t){for(var e=t.s;e!==void 0;e=e.n)if(e.S.i!==e.i||!e.S.h()||e.S.i!==e.i)return!0;return!1}function k$(t){for(var e=t.s;e!==void 0;e=e.n){var n=e.S.n;if(n!==void 0&&(e.r=n),e.S.n=e,e.i=-1,e.n===void 0){t.s=e;break}}}function T$(t){for(var e=t.s,n=void 0;e!==void 0;){var i=e.p;e.i===-1?(e.S.U(e),i!==void 0&&(i.n=e.n),e.n!==void 0&&(e.n.p=i)):n=e,e.S.n=e.r,e.r!==void 0&&(e.r=void 0),e=i}t.s=n}function Fh(t){os.call(this,void 0),this.x=t,this.s=void 0,this.g=G_-1,this.f=4}(Fh.prototype=new os).h=function(){if(this.f&=-3,1&this.f)return!1;if((36&this.f)==32||(this.f&=-5,this.g===G_))return!0;if(this.g=G_,this.f|=1,this.i>0&&!S$(this))return this.f&=-2,!0;var t=xn;try{k$(this),xn=this;var e=this.x();(16&this.f||this.v!==e||this.i===0)&&(this.v=e,this.f&=-17,this.i++)}catch(n){this.v=n,this.f|=16,this.i++}return xn=t,T$(this),this.f&=-2,!0};Fh.prototype.S=function(t){if(this.t===void 0){this.f|=36;for(var e=this.s;e!==void 0;e=e.n)e.S.S(e)}os.prototype.S.call(this,t)};Fh.prototype.U=function(t){if(this.t!==void 0&&(os.prototype.U.call(this,t),this.t===void 0)){this.f&=-33;for(var e=this.s;e!==void 0;e=e.n)e.S.U(e)}};Fh.prototype.N=function(){if(!(2&this.f)){this.f|=6;for(var t=this.t;t!==void 0;t=t.x)t.t.N()}};Object.defineProperty(Fh.prototype,"value",{get:function(){if(1&this.f)throw new Error("Cycle detected");var t=x$(this);if(this.h(),t!==void 0&&(t.i=this.i),16&this.f)throw this.v;return this.v}});function P$(t){return new Fh(t)}function C$(t){var e=t.u;if(t.u=void 0,typeof e=="function"){Cl++;var n=xn;xn=void 0;try{e()}catch(i){throw t.f&=-2,t.f|=8,FP(t),i}finally{xn=n,ew()}}}function FP(t){for(var e=t.s;e!==void 0;e=e.n)e.S.U(e);t.x=void 0,t.s=void 0,C$(t)}function tre(t){if(xn!==this)throw new Error("Out-of-order effect");T$(this),xn=t,this.f&=-2,8&this.f&&FP(this),ew()}function qg(t){this.x=t,this.u=void 0,this.s=void 0,this.o=void 0,this.f=32}qg.prototype.c=function(){var t=this.S();try{if(8&this.f||this.x===void 0)return;var e=this.x();typeof e=="function"&&(this.u=e)}finally{t()}};qg.prototype.S=function(){if(1&this.f)throw new Error("Cycle detected");this.f|=1,this.f&=-9,C$(this),k$(this),Cl++;var t=xn;return xn=this,tre.bind(this,t)};qg.prototype.N=function(){2&this.f||(this.f|=2,this.o=rm,rm=this)};qg.prototype.d=function(){this.f|=8,1&this.f||FP(this)};function Mo(t){var e=new qg(t);try{e.c()}catch(n){throw e.d(),n}return e.d.bind(e)}var q0;function Bh(t,e){It[t]=e.bind(null,It[t]||function(){})}function q_(t){q0&&q0(),q0=t&&t.S()}function E$(t){var e=this,n=t.data,i=ire(n);i.value=n;var s=NP(function(){for(var r=e.__v;r=r.__;)if(r.__c){r.__c.__$f|=4;break}return e.__$u.c=function(){var a,o=e.__$u.S(),l=s.value;o(),r$(l)||((a=e.base)==null?void 0:a.nodeType)!==3?(e.__$f|=1,e.setState({})):e.base.data=l},P$(function(){var a=i.value.value;return a===0?0:a===!0?"":a||""})},[]);return s.value}E$.displayName="_st";Object.defineProperties(os.prototype,{constructor:{configurable:!0,value:void 0},type:{configurable:!0,value:E$},props:{configurable:!0,get:function(){return{data:this}}},__b:{configurable:!0,value:1}});Bh("__b",function(t,e){if(typeof e.type=="string"){var n,i=e.props;for(var s in i)if(s!=="children"){var r=i[s];r instanceof os&&(n||(e.__np=n={}),n[s]=r,i[s]=r.peek())}}t(e)});Bh("__r",function(t,e){q_();var n,i=e.__c;i&&(i.__$f&=-2,(n=i.__$u)===void 0&&(i.__$u=n=function(s){var r;return Mo(function(){r=this}),r.c=function(){i.__$f|=1,i.setState({})},r}())),q_(n),t(e)});Bh("__e",function(t,e,n,i){q_(),t(e,n,i)});Bh("diffed",function(t,e){q_();var n;if(typeof e.type=="string"&&(n=e.__e)){var i=e.__np,s=e.props;if(i){var r=n.U;if(r)for(var a in r){var o=r[a];o!==void 0&&!(a in i)&&(o.d(),r[a]=void 0)}else n.U=r={};for(var l in i){var u=r[l],d=i[l];u===void 0?(u=nre(n,l,d,s),r[l]=u):u.o(d,s)}}}t(e)});function nre(t,e,n,i){var s=e in t&&t.ownerSVGElement===void 0,r=jt(n);return{o:function(a,o){r.value=a,i=o},d:Mo(function(){var a=r.value.value;i[e]!==a&&(i[e]=a,s?t[e]=a:a?t.setAttribute(e,a):t.removeAttribute(e))})}}Bh("unmount",function(t,e){if(typeof e.type=="string"){var n=e.__e;if(n){var i=n.U;if(i){n.U=void 0;for(var s in i){var r=i[s];r&&r.d()}}}}else{var a=e.__c;if(a){var o=a.__$u;o&&(a.__$u=void 0,o.d())}}t(e)});Bh("__h",function(t,e,n,i){(i<3||i===9)&&(e.__$f|=2),t(e,n,i)});La.prototype.shouldComponentUpdate=function(t,e){var n=this.__$u;if(!(n&&n.s!==void 0||4&this.__$f)||3&this.__$f)return!0;for(var i in e)return!0;for(var s in t)if(s!=="__source"&&t[s]!==this.props[s])return!0;for(var r in this.props)if(!(r in t))return!0;return!1};function ire(t){return NP(function(){return jt(t)},[])}function na(t){var e=Lse(t);e.current=t,kn(function(){return Mo(function(){return e.current()})},[])}const Wo=g$({}),hO={DATE_STRING:/^\d{4}-\d{2}-\d{2}$/,TIME_STRING:/^\d{2}:\d{2}$/,DATE_TIME_STRING:/^\d{4}-\d{2}-\d{2} \d{2}:\d{2}$/};let sre=class extends Error{constructor(e){super(`Invalid date time specification: ${e}`)}};const _n=t=>{if(!hO.DATE_TIME_STRING.test(t)&&!hO.DATE_STRING.test(t))throw new sre(t);return new Date(Number(t.slice(0,4)),Number(t.slice(5,7))-1,Number(t.slice(8,10)),Number(t.slice(11,13)),Number(t.slice(14,16)))},yr=t=>{const e=t.slice(11,13),n=t.slice(14,16);return{year:Number(t.slice(0,4)),month:Number(t.slice(5,7))-1,date:Number(t.slice(8,10)),hours:e!==""?Number(e):void 0,minutes:n!==""?Number(n):void 0}},I$=(t,e)=>t.toLocaleString(e,{month:"long"}),rre=(t,e)=>t.toLocaleString(e,{month:"numeric",day:"numeric",year:"numeric"}),are=(t,e)=>t.map(n=>n.toLocaleString(e,{weekday:"short"}).charAt(0)),BP=(t,e)=>t.toLocaleString(e,{weekday:"short"}),ore=(t,e)=>t.map(n=>BP(n,e)),D$=(t,e)=>["zh-cn","zh-tw","ca-es"].includes(e.toLowerCase())?ore(t,e):are(t,e);var lre="data:image/svg+xml,%3c%3fxml version='1.0' encoding='utf-8'%3f%3e%3c!-- Uploaded to: SVG Repo%2c www.svgrepo.com%2c Generator: SVG Repo Mixer Tools --%3e%3csvg width='800px' height='800px' viewBox='0 0 24 24' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3cpath d='M6 9L12 15L18 9' stroke='%23DED8E1' stroke-width='4' stroke-linecap='round' stroke-linejoin='round'/%3e%3c/svg%3e";const Ms=()=>"s"+Math.random().toString(36).substring(2,11),X_=t=>t.key==="Enter"||t.key===" ";function ure(){const t=Ms(),e=Ms(),n=Ms(),i=An(Wo),s=f=>f===""?i.translate("MM/DD/YYYY"):rre(_n(f),i.config.locale.value);kn(()=>{i.datePickerState.inputDisplayedValue.value=s(i.datePickerState.selectedDate.value)},[i.datePickerState.selectedDate.value,i.config.locale.value]);const[r,a]=Rt([]),o=()=>{const f=document.getElementById(n);i.datePickerState.inputWrapperElement.value=f instanceof HTMLDivElement?f:void 0};kn(()=>{i.config.teleportTo&&o();const f=["sx__date-input-wrapper"];i.datePickerState.isOpen.value&&f.push("sx__date-input--active"),a(f)},[i.datePickerState.isOpen.value]);const l=f=>{f.key==="Enter"&&u(f)},u=f=>{f.stopPropagation();try{i.datePickerState.inputDisplayedValue.value=f.target.value,i.datePickerState.close()}catch{}};kn(()=>{const f=document.getElementById(t);if(f!==null)return f.addEventListener("change",u),()=>f.removeEventListener("change",u)});const d=f=>{u(f),i.datePickerState.open()},c=f=>{X_(f)&&(f.preventDefault(),i.datePickerState.open(),setTimeout(()=>{const h=document.querySelector('[data-focus="true"]');h instanceof HTMLElement&&h.focus()},50))};return Q(Lt,{children:Q("div",{className:r.join(" "),id:n,children:[Q("label",{for:t,id:e,className:"sx__date-input-label",children:i.config.label||i.translate("Date")}),Q("input",{id:t,tabIndex:i.datePickerState.isDisabled.value?-1:0,name:i.config.name||"date","aria-describedby":e,value:i.datePickerState.inputDisplayedValue.value,"data-testid":"date-picker-input",className:"sx__date-input",onClick:d,onKeyUp:l,type:"text"}),Q("button",{type:"button",tabIndex:i.datePickerState.isDisabled.value?-1:0,"aria-label":i.translate("Choose Date"),onKeyDown:c,onClick:()=>i.datePickerState.open(),className:"sx__date-input-chevron-wrapper",children:Q("img",{className:"sx__date-input-chevron",src:lre,alt:""})})]})})}var Lu;(function(t){t.MONTH_DAYS="month-days",t.YEARS="years"})(Lu||(Lu={}));const cre="years-view",dre="months-view",hre="date-picker-week";let fre=class extends Error{constructor(e,n){super(`Number must be between ${e} and ${n}.`),Object.defineProperty(this,"min",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"max",{enumerable:!0,configurable:!0,writable:!0,value:n})}};const As=t=>{if(t<0||t>99)throw new fre(0,99);return String(t).padStart(2,"0")},ri=t=>`${t.getFullYear()}-${As(t.getMonth()+1)}-${As(t.getDate())}`,mre=t=>`${As(t.getHours())}:${As(t.getMinutes())}`,tw=t=>`${ri(t)} ${mre(t)}`,nw=(t,e)=>{const{year:n,month:i,date:s,hours:r,minutes:a}=yr(t),o=r!==void 0&&a!==void 0,l=new Date(n,i,s,r??0,a??0);let u=(l.getMonth()+e)%12;return u<0&&(u+=12),l.setMonth(l.getMonth()+e),l.getMonth()>u?l.setDate(0):l.getMonth()<u&&(l.setMonth(l.getMonth()+1),l.setDate(0)),o?tw(l):ri(l)},iu=(t,e)=>{const{year:n,month:i,date:s,hours:r,minutes:a}=yr(t),o=r!==void 0&&a!==void 0,l=new Date(n,i,s,r??0,a??0);return l.setDate(l.getDate()+e),o?tw(l):ri(l)},dn=t=>t.slice(0,10),yl=t=>t.slice(11),A$=(t,e)=>(t=t.slice(0,8)+As(e)+t.slice(10),t),gre=t=>(t=nw(t,-1),A$(t,1)),pre=t=>(t=nw(t,1),A$(t,1)),X0=(t,e)=>`${ri(_n(t))} ${e}`;function K_({direction:t,onClick:e,buttonText:n,disabled:i=!1}){return Q("button",{type:"button",disabled:i,className:"sx__chevron-wrapper sx__ripple",onMouseUp:e,onKeyDown:r=>{X_(r)&&e()},tabIndex:0,children:Q("i",{className:`sx__chevron sx__chevron--${t}`,children:n})})}function vre({setYearsView:t}){const e=An(Wo),n=c=>{const f=_n(c);return I$(f,e.config.locale.value)},i=c=>yr(c).year,[s,r]=Rt(n(e.datePickerState.datePickerDate.value)),[a,o]=Rt(i(e.datePickerState.datePickerDate.value)),l=()=>{e.datePickerState.datePickerDate.value=gre(e.datePickerState.datePickerDate.value)},u=()=>{e.datePickerState.datePickerDate.value=pre(e.datePickerState.datePickerDate.value)};kn(()=>{r(n(e.datePickerState.datePickerDate.value)),o(i(e.datePickerState.datePickerDate.value))},[e.datePickerState.datePickerDate.value]);const d=c=>{c.stopPropagation(),t()};return Q(Lt,{children:Q("header",{className:"sx__date-picker__month-view-header",children:[Q(K_,{direction:"previous",onClick:()=>l(),buttonText:e.translate("Previous month")}),Q("button",{type:"button",className:"sx__date-picker__month-view-header__month-year",onClick:c=>d(c),children:s+" "+a}),Q(K_,{direction:"next",onClick:()=>u(),buttonText:e.translate("Next month")})]})})}function _re(){const t=An(Wo),e=t.timeUnitsImpl.getWeekFor(_n(t.datePickerState.datePickerDate.value)),n=D$(e,t.config.locale.value);return Q("div",{className:"sx__date-picker__day-names",children:n.map(i=>Q("span",{"data-testid":"day-name",className:"sx__date-picker__day-name",children:i}))})}const jP=t=>{const e=new Date;return t.getDate()===e.getDate()&&t.getMonth()===e.getMonth()&&t.getFullYear()===e.getFullYear()},yre=(t,e)=>t.getMonth()===e.getMonth()&&t.getFullYear()===e.getFullYear();function R$({strokeColor:t}){return Q(Lt,{children:Q("svg",{className:"sx__event-icon",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Q("g",{id:"SVGRepo_bgCarrier","stroke-width":"0"}),Q("g",{id:"SVGRepo_tracerCarrier","stroke-linecap":"round","stroke-linejoin":"round"}),Q("g",{id:"SVGRepo_iconCarrier",children:[Q("path",{d:"M12 8V12L15 15",stroke:t,"stroke-width":"2","stroke-linecap":"round"}),Q("circle",{cx:"12",cy:"12",r:"9",stroke:t,"stroke-width":"2"})]})]})})}function bre({strokeColor:t}){return Q(Lt,{children:Q("svg",{className:"sx__event-icon",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Q("g",{id:"SVGRepo_bgCarrier","stroke-width":"0"}),Q("g",{id:"SVGRepo_tracerCarrier","stroke-linecap":"round","stroke-linejoin":"round"}),Q("g",{id:"SVGRepo_iconCarrier",children:[Q("path",{d:"M15 7C15 8.65685 13.6569 10 12 10C10.3431 10 9 8.65685 9 7C9 5.34315 10.3431 4 12 4C13.6569 4 15 5.34315 15 7Z",stroke:t,"stroke-width":"2"}),Q("path",{d:"M5 19.5C5 15.9101 7.91015 13 11.5 13H12.5C16.0899 13 19 15.9101 19 19.5V20C19 20.5523 18.5523 21 18 21H6C5.44772 21 5 20.5523 5 20V19.5Z",stroke:t,"stroke-width":"2"})]})]})})}function wre({strokeColor:t}){return Q(Lt,{children:Q("svg",{className:"sx__event-icon",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Q("g",{id:"SVGRepo_bgCarrier","stroke-width":"0"}),Q("g",{id:"SVGRepo_tracerCarrier","stroke-linecap":"round","stroke-linejoin":"round"}),Q("g",{id:"SVGRepo_iconCarrier",children:[Q("g",{"clip-path":"url(#clip0_429_11046)",children:[Q("rect",{x:"12",y:"11",width:"0.01",height:"0.01",stroke:t,"stroke-width":"2","stroke-linejoin":"round"}),Q("path",{d:"M12 22L17.5 16.5C20.5376 13.4624 20.5376 8.53757 17.5 5.5C14.4624 2.46244 9.53757 2.46244 6.5 5.5C3.46244 8.53757 3.46244 13.4624 6.5 16.5L12 22Z",stroke:t,"stroke-width":"2","stroke-linejoin":"round"})]}),Q("defs",{children:Q("clipPath",{id:"clip0_429_11046",children:Q("rect",{width:"24",height:"24",fill:"white"})})})]})]})})}const xre=/^(0[0-9]|1[0-9]|2[0-3]):[0-5][0-9]$/,Ta=/^(\d{4})-(\d{2})-(\d{2}) (0[0-9]|1[0-9]|2[0-3]):[0-5][0-9]$/,Ss=/^(\d{4})-(\d{2})-(\d{2})$/;let Sre=class extends Error{constructor(e){super(`Invalid time string: ${e}`)}};const $P=1.6666666666666667,Kr=t=>{if(!xre.test(t)&&t!=="24:00")throw new Sre(t);const[e,n]=t.split(":").map(s=>parseInt(s,10));let i=(n*$P).toString();return i.split(".")[0].length<2&&(i=`0${i}`),Number(e+i)},Hm=t=>{const e=Math.floor(t/100),n=Math.round(t%100/$P);return`${As(e)}:${As(n)}`},O$=(t,e)=>{const n=e/$P,i=_n(t);return i.setMinutes(i.getMinutes()+n),tw(i)};var i1;(function(t){t[t.SUNDAY=0]="SUNDAY",t[t.MONDAY=1]="MONDAY",t[t.TUESDAY=2]="TUESDAY",t[t.WEDNESDAY=3]="WEDNESDAY",t[t.THURSDAY=4]="THURSDAY",t[t.FRIDAY=5]="FRIDAY",t[t.SATURDAY=6]="SATURDAY"})(i1||(i1={}));const Q_="en-US",UP=i1.MONDAY,kre="primary";let Tre=class{constructor(e,n,i,s,r,a,o,l,u,d=void 0,c={},f={}){Object.defineProperty(this,"_config",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"id",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(this,"start",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"end",{enumerable:!0,configurable:!0,writable:!0,value:s}),Object.defineProperty(this,"title",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"people",{enumerable:!0,configurable:!0,writable:!0,value:a}),Object.defineProperty(this,"location",{enumerable:!0,configurable:!0,writable:!0,value:o}),Object.defineProperty(this,"description",{enumerable:!0,configurable:!0,writable:!0,value:l}),Object.defineProperty(this,"calendarId",{enumerable:!0,configurable:!0,writable:!0,value:u}),Object.defineProperty(this,"_options",{enumerable:!0,configurable:!0,writable:!0,value:d}),Object.defineProperty(this,"_customContent",{enumerable:!0,configurable:!0,writable:!0,value:c}),Object.defineProperty(this,"_foreignProperties",{enumerable:!0,configurable:!0,writable:!0,value:f}),Object.defineProperty(this,"_previousConcurrentEvents",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_totalConcurrentEvents",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_nDaysInGrid",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_eventFragments",{enumerable:!0,configurable:!0,writable:!0,value:{}})}get _isSingleDayTimed(){return Ta.test(this.start)&&Ta.test(this.end)&&dn(this.start)===dn(this.end)}get _isSingleDayFullDay(){return Ss.test(this.start)&&Ss.test(this.end)&&this.start===this.end}get _isMultiDayTimed(){return Ta.test(this.start)&&Ta.test(this.end)&&dn(this.start)!==dn(this.end)}get _isMultiDayFullDay(){return Ss.test(this.start)&&Ss.test(this.end)&&this.start!==this.end}get _isSingleHybridDayTimed(){if(!this._config.isHybridDay||!Ta.test(this.start)||!Ta.test(this.end))return!1;const e=dn(this.start),n=dn(this.end),i=ri(new Date(_n(n).getTime()-864e5));if(e!==n&&e!==i)return!1;const s=this._config.dayBoundaries.value,r=Kr(yl(this.start)),a=Kr(yl(this.end));return r>=s.start&&(a<=s.end||a>r)||r<s.end&&a<=s.end}get _color(){return this.calendarId&&this._config.calendars.value&&this.calendarId in this._config.calendars.value?this._config.calendars.value[this.calendarId].colorName:kre}_getForeignProperties(){return this._foreignProperties}_getExternalEvent(){return{id:this.id,start:this.start,end:this.end,title:this.title,people:this.people,location:this.location,description:this.description,calendarId:this.calendarId,_options:this._options,...this._getForeignProperties()}}},M$=class{constructor(e,n,i,s){Object.defineProperty(this,"_config",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"id",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(this,"start",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"end",{enumerable:!0,configurable:!0,writable:!0,value:s}),Object.defineProperty(this,"people",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"location",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"description",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"title",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"calendarId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_foreignProperties",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_options",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_customContent",{enumerable:!0,configurable:!0,writable:!0,value:{}})}build(){return new Tre(this._config,this.id,this.start,this.end,this.title,this.people,this.location,this.description,this.calendarId,this._options,this._customContent,this._foreignProperties)}withTitle(e){return this.title=e,this}withPeople(e){return this.people=e,this}withLocation(e){return this.location=e,this}withDescription(e){return this.description=e,this}withForeignProperties(e){return this._foreignProperties=e,this}withCalendarId(e){return this.calendarId=e,this}withOptions(e){return this._options=e,this}withCustomContent(e){return this._customContent=e,this}};const zm=(t,e)=>{const n=new M$(e.config,t.id,t.start,t.end).withTitle(t.title).withPeople(t.people).withCalendarId(t.calendarId).withForeignProperties(JSON.parse(JSON.stringify(t._getForeignProperties()))).withLocation(t.location).withDescription(t.description).withOptions(t._options).withCustomContent(t._customContent).build();return n._nDaysInGrid=t._nDaysInGrid,n},Pre=t=>t.reduce((e,n,i)=>i===0?n:i===t.length-1?`${e} & ${n}`:`${e}, ${n}`,""),sl=(t,e)=>{const{year:n,month:i,date:s}=yr(t);return new Date(n,i,s).toLocaleDateString(e,{day:"numeric",month:"long",year:"numeric"})},El=sl,Pu=(t,e)=>{const{year:n,month:i,date:s,hours:r,minutes:a}=yr(t);return new Date(n,i,s,r,a).toLocaleTimeString(e,{hour:"numeric",minute:"numeric"})},V$=(t,e,n="–")=>{const i={start:t.start,end:t.end};return t._isSingleDayFullDay?sl(i.start,e):t._isMultiDayFullDay?`${sl(i.start,e)} ${n} ${sl(i.end,e)}`:t._isSingleDayTimed&&i.start!==i.end?`${sl(i.start,e)} <span aria-hidden="true">⋅</span> ${Pu(i.start,e)} ${n} ${Pu(i.end,e)}`:t._isSingleDayTimed&&t.start===t.end?`${sl(i.start,e)}, ${Pu(i.start,e)}`:`${sl(i.start,e)}, ${Pu(i.start,e)} ${n} ${sl(i.end,e)}, ${Pu(i.end,e)}`};function Cre({week:t}){const e=An(Wo),n=t.map(o=>{const l=["sx__date-picker__day"];return jP(o)&&l.push("sx__date-picker__day--today"),ri(o)===e.datePickerState.selectedDate.value&&l.push("sx__date-picker__day--selected"),yre(o,_n(e.datePickerState.datePickerDate.value))||l.push("is-leading-or-trailing"),{day:o,classes:l}}),i=o=>{const l=ri(o);return l>=e.config.min&&l<=e.config.max},s=o=>{e.datePickerState.selectedDate.value=ri(o),e.datePickerState.close()},r=o=>ri(o.day)===e.datePickerState.datePickerDate.value,a=o=>{if(o.key==="Enter"){e.datePickerState.selectedDate.value=e.datePickerState.datePickerDate.value,e.datePickerState.close();return}const l=new Map([["ArrowDown",7],["ArrowUp",-7],["ArrowLeft",-1],["ArrowRight",1]]);e.datePickerState.datePickerDate.value=iu(e.datePickerState.datePickerDate.value,l.get(o.key)||0)};return Q(Lt,{children:Q("div",{"data-testid":hre,className:"sx__date-picker__week",children:n.map(o=>Q("button",{type:"button",tabIndex:r(o)?0:-1,disabled:!i(o.day),"aria-label":El(e.datePickerState.datePickerDate.value,e.config.locale.value),className:o.classes.join(" "),"data-focus":r(o)?"true":void 0,onClick:()=>s(o.day),onKeyDown:a,children:o.day.getDate()}))})})}function Ere({seatYearsView:t}){const e=Ms(),n=An(Wo),[i,s]=Rt([]),r=()=>{const a=_n(n.datePickerState.datePickerDate.value);s(n.timeUnitsImpl.getMonthWithTrailingAndLeadingDays(a.getFullYear(),a.getMonth()))};return kn(()=>{r()},[n.datePickerState.datePickerDate.value]),kn(()=>{const a=new MutationObserver(l=>{l.forEach(u=>{const d=u.target;d.dataset.focus==="true"&&d.focus()})}),o=document.getElementById(e);return a.observe(o,{childList:!0,subtree:!0,attributes:!0}),()=>a.disconnect()},[]),Q(Lt,{children:Q("div",{id:e,"data-testid":dre,className:"sx__date-picker__month-view",children:[Q(vre,{setYearsView:t}),Q(_re,{}),i.map(a=>Q(Cre,{week:a}))]})})}function Ire({year:t,setYearAndMonth:e,isExpanded:n,expand:i}){const s=An(Wo),r=s.timeUnitsImpl.getMonthsFor(t),a=(o,l)=>{o.stopPropagation(),e(t,l.getMonth())};return Q(Lt,{children:Q("li",{className:n?"sx__is-expanded":"",children:[Q("button",{type:"button",className:"sx__date-picker__years-accordion__expand-button sx__ripple--wide",onClick:()=>i(t),children:t}),n&&Q("div",{className:"sx__date-picker__years-view-accordion__panel",children:r.map(o=>Q("button",{type:"button",className:"sx__date-picker__years-view-accordion__month",onClick:l=>a(l,o),children:I$(o,s.config.locale.value)}))})]})})}function Dre({setMonthView:t}){const e=An(Wo),n=_n(e.config.min).getFullYear(),i=_n(e.config.max).getFullYear(),s=Array.from({length:i-n+1},(u,d)=>n+d),{year:r}=yr(e.datePickerState.selectedDate.value),[a,o]=Rt(r),l=(u,d)=>{e.datePickerState.datePickerDate.value=ri(new Date(u,d,1)),t()};return kn(()=>{var u;const d=(u=document.querySelector(".sx__date-picker__years-view"))===null||u===void 0?void 0:u.querySelector(".sx__is-expanded");d&&d.scrollIntoView({block:"center"})},[]),Q(Lt,{children:Q("ul",{className:"sx__date-picker__years-view","data-testid":cre,children:s.map(u=>Q(Ire,{year:u,setYearAndMonth:(d,c)=>l(d,c),isExpanded:a===u,expand:d=>o(d)}))})})}const Are=t=>{if(t){const e=t.scrollHeight>t.clientHeight,i=window.getComputedStyle(t).overflowY.indexOf("hidden")!==-1;return e&&!i}return!0},L$=(t,e=[])=>!t||t===document.body||t.nodeType===Node.DOCUMENT_FRAGMENT_NODE?(e.push(window),e):(Are(t)&&e.push(t),L$(t.assignedSlot?t.assignedSlot.parentNode:t.parentNode,e)),fO="sx__date-picker-popup";function Rre(){const t=An(Wo),[e,n]=Rt(Lu.MONTH_DAYS),i=[fO,t.config.placement],[s,r]=Rt(i);kn(()=>{r([...i,t.datePickerState.isDark.value?"is-dark":"",t.config.teleportTo?"is-teleported":""])},[t.datePickerState.isDark.value]);const a=p=>{p.target.closest(`.${fO}`)||t.datePickerState.close()},o=p=>{p.key==="Escape"&&(t.config.listeners.onEscapeKeyDown?t.config.listeners.onEscapeKeyDown(t):t.datePickerState.close())};kn(()=>(document.addEventListener("click",a),document.addEventListener("keydown",o),()=>{document.removeEventListener("click",a),document.removeEventListener("keydown",o)}),[]);const l=Number(getComputedStyle(document.documentElement).fontSize.split("px")[0]),u=362,d=332,c=()=>{const p=t.datePickerState.inputWrapperElement.value,g=p==null?void 0:p.getBoundingClientRect();if(!(p===void 0||!(g instanceof DOMRect)))return{top:t.config.placement.includes("bottom")?g.height+g.y+1:g.y-l-u,left:t.config.placement.includes("start")?g.x:g.x+g.width-d,width:d,position:"fixed"}},[f,h]=Rt(c());return kn(()=>{const p=t.datePickerState.inputWrapperElement.value;if(p===void 0)return;const g=L$(p),v=()=>h(c());return g.forEach(_=>_.addEventListener("scroll",v)),()=>g.forEach(_=>_.removeEventListener("scroll",v))},[]),Q(Lt,{children:Q("div",{style:t.config.teleportTo?f:void 0,"data-testid":"date-picker-popup",className:s.join(" "),children:e===Lu.MONTH_DAYS?Q(Ere,{seatYearsView:()=>n(Lu.YEARS)}):Q(Dre,{setMonthView:()=>n(Lu.MONTH_DAYS)})})})}function Ore({$app:t}){const e=["sx__date-picker-wrapper"],[n,i]=Rt(e);kn(()=>{var r;const a=[...e];t.datePickerState.isDark.value&&a.push("is-dark"),!((r=t.config.style)===null||r===void 0)&&r.fullWidth&&a.push("has-full-width"),t.datePickerState.isDisabled.value&&a.push("is-disabled"),i(a)},[t.datePickerState.isDark.value,t.datePickerState.isDisabled.value]);let s=Q(Rre,{});return t.config.teleportTo&&(s=Hse(s,t.config.teleportTo)),Q(Lt,{children:Q("div",{className:n.join(" "),children:Q(Wo.Provider,{value:t,children:[Q(ure,{}),t.datePickerState.isOpen.value&&s]})})})}const oi=g$({});class Mre{constructor(e,n,i,s){Object.defineProperty(this,"datePickerState",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"config",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(this,"timeUnitsImpl",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"translate",{enumerable:!0,configurable:!0,writable:!0,value:s})}}class Vre{constructor(){Object.defineProperty(this,"datePickerState",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"config",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"timeUnitsImpl",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"translate",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}build(){return new Mre(this.datePickerState,this.config,this.timeUnitsImpl,this.translate)}withDatePickerState(e){return this.datePickerState=e,this}withConfig(e){return this.config=e,this}withTimeUnitsImpl(e){return this.timeUnitsImpl=e,this}withTranslate(e){return this.translate=e,this}}var ks;(function(t){t.Day="day",t.Week="week",t.MonthGrid="month-grid",t.MonthAgenda="month-agenda"})(ks||(ks={}));const s1=t=>[t.config.locale.value,{month:"long"}],r1=t=>[t.config.locale.value,{year:"numeric"}],Lre=(t,e,n)=>{const i=_n(e).toLocaleString(...s1(t)),s=_n(e).toLocaleString(...r1(t)),r=_n(n).toLocaleString(...s1(t)),a=_n(n).toLocaleString(...r1(t));return i===r&&s===a?`${i} ${s}`:i!==r&&s===a?`${i} – ${r} ${s}`:`${i} ${s} – ${r} ${a}`},Nre=t=>{const e=_n(t.datePickerState.selectedDate.value).toLocaleString(...s1(t)),n=_n(t.datePickerState.selectedDate.value).toLocaleString(...r1(t));return`${e} ${n}`};function Fre(){const t=An(oi),[e,n]=Rt("");return kn(()=>{t.calendarState.view.value===ks.Week&&n(Lre(t,t.calendarState.range.value.start,t.calendarState.range.value.end)),(t.calendarState.view.value===ks.MonthGrid||t.calendarState.view.value===ks.Day||t.calendarState.view.value===ks.MonthAgenda)&&n(Nre(t))},[t.calendarState.range.value]),Q("span",{className:"sx__range-heading",children:e})}function Bre(){const t=An(oi);return Q("button",{type:"button",className:"sx__today-button sx__ripple",onClick:()=>{t.datePickerState.selectedDate.value=ri(new Date)},children:t.translate("Today")})}function jre(){const t=An(oi),[e,n]=Rt([]);na(()=>{t.calendarState.isCalendarSmall.value?n(t.config.views.value.filter(g=>g.hasSmallScreenCompat)):n(t.config.views.value.filter(g=>g.hasWideScreenCompat))});const[i,s]=Rt("");na(()=>{const g=t.config.views.value.find(v=>v.name===t.calendarState.view.value);g&&s(t.translate(g.label))});const[r,a]=Rt(!1),o=g=>{const v=g.target;v instanceof HTMLElement&&!v.closest(".sx__view-selection")&&a(!1)};kn(()=>(document.addEventListener("click",o),()=>document.removeEventListener("click",o)),[]);const l=g=>{a(!1),t.calendarState.setView(g,t.datePickerState.selectedDate.value)},[u,d]=Rt(),[c,f]=Rt(0),h=g=>{X_(g)&&a(!r),setTimeout(()=>{var v;const _=(v=t.elements.calendarWrapper)===null||v===void 0?void 0:v.querySelectorAll(".sx__view-selection-item");if(!_)return;d(_);const b=_[0];b instanceof HTMLElement&&(f(0),b.focus())},50)},p=(g,v)=>{if(u)if(g.key==="ArrowDown"){const _=u[c+1];_ instanceof HTMLElement&&(f(c+1),_.focus())}else if(g.key==="ArrowUp"){const _=u[c-1];_ instanceof HTMLElement&&(f(c-1),_.focus())}else X_(g)&&l(v)};return Q("div",{className:"sx__view-selection",children:[Q("div",{tabIndex:0,role:"button","aria-label":t.translate("Select View"),className:"sx__view-selection-selected-item sx__ripple",onClick:()=>a(!r),onKeyDown:h,children:i}),r&&Q("ul",{"data-testid":"view-selection-items",className:"sx__view-selection-items",children:e.map(g=>Q("li",{"aria-label":t.translate("Select View")+" "+t.translate(g.label),tabIndex:-1,role:"button",onKeyDown:v=>p(v,g.name),onClick:()=>l(g.name),className:"sx__view-selection-item"+(g.name===t.calendarState.view.value?" is-selected":""),children:t.translate(g.label)}))})]})}function $re(){const t=An(oi),e=l=>{const u=t.config.views.value.find(d=>d.name===t.calendarState.view.value);u&&(t.datePickerState.selectedDate.value=u.backwardForwardFn(t.datePickerState.selectedDate.value,l==="forwards"?u.backwardForwardUnits:-u.backwardForwardUnits))},[n,i]=Rt("");na(()=>{i(`${El(t.calendarState.range.value.start,t.config.locale.value)} ${t.translate("to")} ${El(t.calendarState.range.value.end,t.config.locale.value)}`)});const[s,r]=Rt(""),[a,o]=Rt("");return kn(()=>{const l=t.config.views.value.find(u=>u.name===t.calendarState.view.value);l&&(r(l.setDateRange({range:t.calendarState.range,calendarConfig:t.config,timeUnitsImpl:t.timeUnitsImpl,date:l.backwardForwardFn(t.datePickerState.selectedDate.value,-l.backwardForwardUnits)}).end),o(l.setDateRange({range:t.calendarState.range,calendarConfig:t.config,timeUnitsImpl:t.timeUnitsImpl,date:l.backwardForwardFn(t.datePickerState.selectedDate.value,l.backwardForwardUnits)}).start))},[t.datePickerState.selectedDate.value,t.calendarState.view.value]),Q(Lt,{children:Q("div",{className:"sx__forward-backward-navigation","aria-label":n,"aria-live":"polite",children:[Q(K_,{disabled:!!(t.config.minDate.value&&dn(s)<t.config.minDate.value),onClick:()=>e("backwards"),direction:"previous",buttonText:t.translate("Previous period")}),Q(K_,{disabled:!!(t.config.maxDate.value&&dn(a)>t.config.maxDate.value),onClick:()=>e("forwards"),direction:"next",buttonText:t.translate("Next period")})]})})}const mo=t=>document.querySelector(`[data-ccid="${t}"]`);function Ure(){const t=An(oi),e=new Vre().withDatePickerState(t.datePickerState).withConfig(t.datePickerConfig).withTranslate(t.translate).withTimeUnitsImpl(t.timeUnitsImpl).build(),n=t.config._customComponentFns.headerContent,i=Rt(n?Ms():void 0)[0],s=t.config._customComponentFns.headerContentLeftPrepend,r=Rt(s?Ms():void 0)[0],a=t.config._customComponentFns.headerContentLeftAppend,o=Rt(a?Ms():void 0)[0],l=t.config._customComponentFns.headerContentRightPrepend,u=Rt(l?Ms():void 0)[0],d=t.config._customComponentFns.headerContentRightAppend,c=Rt(d?Ms():void 0)[0];kn(()=>{n&&n(mo(i),{}),s&&r&&s(mo(r),{}),a&&a(mo(o),{}),l&&l(mo(u),{}),d&&d(mo(c),{})},[]);const f=t.config.locale.value;return Q("header",{className:"sx__calendar-header","data-ccid":i,children:!n&&Q(Lt,{children:[Q("div",{className:"sx__calendar-header-content",children:[r&&Q("div",{"data-ccid":r}),Q(Bre,{}),Q($re,{}),Q(Fre,{},t.config.locale.value),o&&Q("div",{"data-ccid":o})]}),Q("div",{className:"sx__calendar-header-content",children:[u&&Q("div",{"data-ccid":u}),t.config.views.value.length>1&&Q(jre,{},f+"-view-selection"),Q(Ore,{$app:e}),c&&Q("div",{"data-ccid":c})]})]})})}const Hre=(t,e)=>{t.elements.calendarWrapper=document.getElementById(e)},zre=(t,e)=>{const n=t.config.views.value.find(i=>i.name===t.calendarState.view.value);if(e){if(n.hasSmallScreenCompat)return;const i=t.config.views.value.find(s=>s.hasSmallScreenCompat);i&&t.calendarState.setView(i.name,t.datePickerState.selectedDate.value)}else{if(n.hasWideScreenCompat)return;const i=t.config.views.value.find(s=>s.hasWideScreenCompat);i&&t.calendarState.setView(i.name,t.datePickerState.selectedDate.value)}},Wre=t=>{const e=document.documentElement,n=t.elements.calendarWrapper,i=+window.getComputedStyle(e).fontSize.split("p")[0],s=700,r=16/i,a=s/r;if(!n)return;const o=t.config.callbacks.isCalendarSmall?t.config.callbacks.isCalendarSmall(t):n.clientWidth<a;o!==t.calendarState.isCalendarSmall.value&&(t.calendarState.isCalendarSmall.value=o,zre(t,o))};function Yre(t){const e="sx__calendar-wrapper",[n,i]=Rt([e]);return na(()=>{const s=[e];t.calendarState.isCalendarSmall.value&&s.push("sx__is-calendar-small"),t.calendarState.isDark.value&&s.push("is-dark"),t.config.theme==="shadcn"&&s.push("is-shadcn"),i(s)}),n}const Gre=t=>{Object.values(t.config.plugins).forEach(e=>{e!=null&&e.onRender&&e.onRender(t)})},qre=t=>{Object.values(t.config.plugins).forEach(e=>{e!=null&&e.destroy&&e.destroy()})},Xre=t=>{Object.values(t.config.plugins).forEach(e=>{e!=null&&e.beforeRender&&e.beforeRender(t)})};function Kre({$app:t}){var e;const n=Ms(),i=Ms();kn(()=>{var f;return Hre(t,n),Gre(t),!((f=t.config.callbacks)===null||f===void 0)&&f.onRender&&t.config.callbacks.onRender(t),()=>qre(t)},[]);const s=()=>{Wre(t)};kn(()=>{if(t.config.isResponsive)return s(),window.addEventListener("resize",s),()=>window.removeEventListener("resize",s)},[]);const r=Yre(t),[a,o]=Rt();na(()=>{const f=t.config.views.value.find(p=>p.name===t.calendarState.view.value),h=document.getElementById(i);!f||!h||f.name===(a==null?void 0:a.name)||(a&&a.destroy(),o(f),f.render(h,t))});const[l,u]=Rt(""),[d,c]=Rt("");return na(()=>{var f,h;const p=(((f=t.calendarState.range.value)===null||f===void 0?void 0:f.start)||"")>l;c(p?"sx__slide-left":"sx__slide-right"),setTimeout(()=>{c("")},300),u(((h=t.calendarState.range.value)===null||h===void 0?void 0:h.start)||"")}),na(()=>{t.datePickerConfig.locale.value=t.config.locale.value}),Q(Lt,{children:Q("div",{className:r.join(" "),id:n,children:Q("div",{className:"sx__calendar",children:Q(oi.Provider,{value:t,children:[Q(Ure,{}),Q("div",{className:["sx__view-container",d].join(" "),id:i}),t.config.plugins.eventModal&&t.config.plugins.eventModal.calendarEvent.value&&Q(t.config.plugins.eventModal.ComponentFn,{$app:t},(e=t.config.plugins.eventModal.calendarEvent.value)===null||e===void 0?void 0:e.id)]})})})})}const Lv=(t,e)=>{const{id:n,start:i,end:s,title:r,description:a,location:o,people:l,_options:u,...d}=t;return new M$(e,n,i,s).withTitle(r).withDescription(a).withLocation(o).withPeople(l).withCalendarId(t.calendarId).withOptions(u).withForeignProperties(d).withCustomContent(t._customContent).build()};let Qre=class{constructor(e){Object.defineProperty(this,"$app",{enumerable:!0,configurable:!0,writable:!0,value:e})}set(e){this.$app.calendarEvents.list.value=e.map(n=>Lv(n,this.$app.config))}add(e){const n=Lv(e,this.$app.config),i=[...this.$app.calendarEvents.list.value];i.push(n),this.$app.calendarEvents.list.value=i}get(e){var n;return(n=this.$app.calendarEvents.list.value.find(i=>i.id===e))===null||n===void 0?void 0:n._getExternalEvent()}getAll(){return this.$app.calendarEvents.list.value.map(e=>e._getExternalEvent())}remove(e){const n=this.$app.calendarEvents.list.value.findIndex(s=>s.id===e),i=[...this.$app.calendarEvents.list.value];i.splice(n,1),this.$app.calendarEvents.list.value=i}update(e){const n=this.$app.calendarEvents.list.value.findIndex(s=>s.id===e.id),i=[...this.$app.calendarEvents.list.value];i.splice(n,1,Lv(e,this.$app.config)),this.$app.calendarEvents.list.value=i}};class Jre{constructor(e){var n;Object.defineProperty(this,"$app",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"events",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.events=new Qre(this.$app),Xre(this.$app),Object.values(this.$app.config.plugins).forEach(i=>{i!=null&&i.name&&(this[i.name]=i)}),!((n=e.config.callbacks)===null||n===void 0)&&n.beforeRender&&e.config.callbacks.beforeRender(e)}render(e){W_(oc(Kre,{$app:this.$app}),e)}setTheme(e){this.$app.calendarState.isDark.value=e==="dark"}getTheme(){return this.$app.calendarState.isDark.value?"dark":"light"}_setCustomComponentFn(e,n){this.$app.config._customComponentFns[e]=n}}class Zre{constructor(e,n,i,s,r,a,o,l={calendarWrapper:void 0}){Object.defineProperty(this,"config",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"timeUnitsImpl",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(this,"calendarState",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"datePickerState",{enumerable:!0,configurable:!0,writable:!0,value:s}),Object.defineProperty(this,"translate",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"datePickerConfig",{enumerable:!0,configurable:!0,writable:!0,value:a}),Object.defineProperty(this,"calendarEvents",{enumerable:!0,configurable:!0,writable:!0,value:o}),Object.defineProperty(this,"elements",{enumerable:!0,configurable:!0,writable:!0,value:l})}}class eae{constructor(){Object.defineProperty(this,"config",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"timeUnitsImpl",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"datePickerState",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"calendarState",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"translate",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"datePickerConfig",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"calendarEvents",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}build(){return new Zre(this.config,this.timeUnitsImpl,this.calendarState,this.datePickerState,this.translate,this.datePickerConfig,this.calendarEvents)}withConfig(e){return this.config=e,this}withTimeUnitsImpl(e){return this.timeUnitsImpl=e,this}withDatePickerState(e){return this.datePickerState=e,this}withCalendarState(e){return this.calendarState=e,this}withTranslate(e){return this.translate=e,this}withDatePickerConfig(e){return this.datePickerConfig=e,this}withCalendarEvents(e){return this.calendarEvents=e,this}}var Hr;(function(t){t.SLASH="/",t.DASH="-",t.PERIOD="."})(Hr||(Hr={}));var zr;(function(t){t.DMY="DMY",t.MDY="MDY",t.YMD="YMD"})(zr||(zr={}));const wf={slashMDY:{delimiter:Hr.SLASH,order:zr.MDY},slashDMY:{delimiter:Hr.SLASH,order:zr.DMY},slashYMD:{delimiter:Hr.SLASH,order:zr.YMD},periodDMY:{delimiter:Hr.PERIOD,order:zr.DMY},dashYMD:{delimiter:Hr.DASH,order:zr.YMD}},tae=new Map([["en-US",wf.slashMDY],["en-GB",wf.slashDMY],["zh-CN",wf.slashYMD],["de-DE",wf.periodDMY],["sv-SE",wf.dashYMD]]);class nae extends Error{constructor(e){super(`Locale not supported: ${e}`)}}class N$ extends Error{constructor(e,n){super(`Invalid date format: ${e} for locale: ${n}`)}}const Xp=(t,e,n)=>{const i=t.match(e);if(!i)throw new N$(t,n);return i},iae=(t,e)=>{if(/^\d{4}-\d{2}-\d{2}$/.test(t))return t;const i=tae.get(e);if(!i)throw new nae(e);const{order:s,delimiter:r}=i,a=/^(\d{1,2})\/(\d{1,2})\/(\d{4})$/,o=/^(\d{1,2})\.(\d{1,2})\.(\d{4})$/,l=/^(\d{4})\/(\d{1,2})\/(\d{1,2})$/;if(s===zr.DMY&&r===Hr.SLASH){const u=Xp(t,a,e),[,d,c,f]=u;return`${f}-${As(+c)}-${As(+d)}`}if(s===zr.MDY&&r===Hr.SLASH){const u=Xp(t,a,e),[,d,c,f]=u;return`${f}-${As(+d)}-${As(+c)}`}if(s===zr.YMD&&r===Hr.SLASH){const u=Xp(t,l,e),[,d,c,f]=u;return`${d}-${As(+c)}-${As(+f)}`}if(s===zr.DMY&&r===Hr.PERIOD){const u=Xp(t,o,e),[,d,c,f]=u;return`${f}-${As(+c)}-${As(+d)}`}throw new N$(t,e)},sae=(t,e)=>{var n;const i=ri(new Date),s=typeof e=="string"?e:i,r=jt(!1),a=jt(t.disabled||!1),o=jt(Lu.MONTH_DAYS),l=jt(s),u=jt(s||i),d=jt(((n=t.style)===null||n===void 0?void 0:n.dark)||!1),c=jt(e||""),f=jt(e||"");Mo(()=>{try{const g=iae(c.value,t.locale.value);if(g<t.min||g>t.max){c.value=f.value;return}l.value=g,u.value=g,f.value=c.value}catch{}});let h=!1;const p=g=>{if(!h)return h=!0;t.listeners.onChange(g)};return Mo(()=>{var g;!((g=t.listeners)===null||g===void 0)&&g.onChange&&p(l.value)}),{inputWrapperElement:jt(void 0),isOpen:r,isDisabled:a,datePickerView:o,selectedDate:l,datePickerDate:u,inputDisplayedValue:c,isDark:d,open:()=>r.value=!0,close:()=>r.value=!1,toggle:()=>r.value=!r.value,setView:g=>o.value=g}},rae={Date:"Datum","MM/DD/YYYY":"TT.MM.JJJJ","Next month":"Nächster Monat","Previous month":"Vorheriger Monat","Choose Date":"Datum auswählen"},aae={Today:"Heute",Month:"Monat",Week:"Woche",Day:"Tag","Select View":"Ansicht auswählen",events:"Ereignisse",event:"Ereignis","No events":"Keine Ereignisse","Next period":"Nächster Zeitraum","Previous period":"Vorheriger Zeitraum",to:"bis","Full day- and multiple day events":"Ganztägige und mehrtägige Ereignisse","Link to {{n}} more events on {{date}}":"Link zu {{n}} weiteren Ereignissen am {{date}}","Link to 1 more event on {{date}}":"Link zu 1 weiteren Ereignis am {{date}}"},oae={...rae,...aae},lae={Date:"Date","MM/DD/YYYY":"MM/DD/YYYY","Next month":"Next month","Previous month":"Previous month","Choose Date":"Choose Date"},uae={Today:"Today",Month:"Month",Week:"Week",Day:"Day","Select View":"Select View",events:"events",event:"event","No events":"No events","Next period":"Next period","Previous period":"Previous period",to:"to","Full day- and multiple day events":"Full day- and multiple day events","Link to {{n}} more events on {{date}}":"Link to {{n}} more events on {{date}}","Link to 1 more event on {{date}}":"Link to 1 more event on {{date}}"},cae={...lae,...uae},dae={Date:"Data","MM/DD/YYYY":"DD/MM/YYYY","Next month":"Mese successivo","Previous month":"Mese precedente","Choose Date":"Scegli la data"},hae={Today:"Oggi",Month:"Mese",Week:"Settimana",Day:"Giorno","Select View":"Seleziona la vista",events:"eventi",event:"evento","No events":"Nessun evento","Next period":"Periodo successivo","Previous period":"Periodo precedente",to:"a","Full day- and multiple day events":"Eventi della giornata e plurigiornalieri","Link to {{n}} more events on {{date}}":"Link a {{n}} eventi in più il {{date}}","Link to 1 more event on {{date}}":"Link a 1 evento in più il {{date}}"},fae={...dae,...hae},mae={Date:"Date","MM/DD/YYYY":"DD/MM/YYYY","Next month":"Next month","Previous month":"Previous month","Choose Date":"Choose Date"},gae={Today:"Today",Month:"Month",Week:"Week",Day:"Day","Select View":"Select View",events:"events",event:"event","No events":"No events","Next period":"Next period","Previous period":"Previous period",to:"to","Full day- and multiple day events":"Full day- and multiple day events","Link to {{n}} more events on {{date}}":"Link to {{n}} more events on {{date}}","Link to 1 more event on {{date}}":"Link to 1 more event on {{date}}"},pae={...mae,...gae},vae={Date:"Datum","MM/DD/YYYY":"ÅÅÅÅ-MM-DD","Next month":"Nästa månad","Previous month":"Föregående månad","Choose Date":"Välj datum"},_ae={Today:"Idag",Month:"Månad",Week:"Vecka",Day:"Dag","Select View":"Välj vy",events:"händelser",event:"händelse","No events":"Inga händelser","Next period":"Nästa period","Previous period":"Föregående period",to:"till","Full day- and multiple day events":"Heldags- och flerdagshändelser","Link to {{n}} more events on {{date}}":"Länk till {{n}} fler händelser den {{date}}","Link to 1 more event on {{date}}":"Länk till 1 händelse till den {{date}}"},yae={...vae,..._ae},bae={Date:"日期","MM/DD/YYYY":"年/月/日","Next month":"下个月","Previous month":"上个月","Choose Date":"选择日期"},wae={Today:"今天",Month:"月",Week:"周",Day:"日","Select View":"选择视图",events:"场活动",event:"活动","No events":"没有活动","Next period":"下一段时间","Previous period":"上一段时间",to:"至","Full day- and multiple day events":"全天和多天活动","Link to {{n}} more events on {{date}}":"链接到{{date}}上的{{n}}个更多活动","Link to 1 more event on {{date}}":"链接到{{date}}上的1个更多活动"},xae={...bae,...wae},Sae={Date:"日期","MM/DD/YYYY":"年/月/日","Next month":"下個月","Previous month":"上個月","Choose Date":"選擇日期"},kae={Today:"今天",Month:"月",Week:"周",Day:"日","Select View":"選擇檢視模式",events:"場活動",event:"活動","No events":"沒有活動","Next period":"下一段時間","Previous period":"上一段時間",to:"到","Full day- and multiple day events":"全天和多天活動","Link to {{n}} more events on {{date}}":"連接到{{date}}上的{{n}}個更多活動","Link to 1 more event on {{date}}":"連接到{{date}}上的1個更多活動"},Tae={...Sae,...kae},Pae={Date:"日付","MM/DD/YYYY":"年/月/日","Next month":"次の月","Previous month":"前の月","Choose Date":"日付を選択"},Cae={Today:"今日",Month:"月",Week:"週",Day:"日","Select View":"ビューを選択",events:"イベント",event:"イベント","No events":"イベントなし","Next period":"次の期間","Previous period":"前の期間",to:"から","Full day- and multiple day events":"終日および複数日イベント","Link to {{n}} more events on {{date}}":"{{date}} に{{n}}件のイベントへのリンク","Link to 1 more event on {{date}}":"{{date}} に1件のイベントへのリンク"},Eae={...Pae,...Cae},Iae={Date:"Дата","MM/DD/YYYY":"ММ/ДД/ГГГГ","Next month":"Следующий месяц","Previous month":"Прошлый месяц","Choose Date":"Выберите дату"},Dae={Today:"Сегодня",Month:"Месяц",Week:"Неделя",Day:"День","Select View":"Выберите вид",events:"события",event:"событие","No events":"Нет событий","Next period":"Следующий период","Previous period":"Прошлый период",to:"по","Full day- and multiple day events":"События на целый день и несколько дней подряд","Link to {{n}} more events on {{date}}":"Ссылка на {{n}} дополнительных событий на {{date}}","Link to 1 more event on {{date}}":"Ссылка на 1 дополнительное событие на {{date}}"},Aae={...Iae,...Dae},Rae={Date:"일자","MM/DD/YYYY":"년/월/일","Next month":"다음 달","Previous month":"이전 달","Choose Date":"날짜 선택"},Oae={Today:"오늘",Month:"월",Week:"주",Day:"일","Select View":"보기 선택",events:"일정들",event:"일정","No events":"일정 없음","Next period":"다음","Previous period":"이전",to:"부터","Full day- and multiple day events":"종일 및 복수일 일정","Link to {{n}} more events on {{date}}":"{{date}}에 {{n}}개 이상의 이벤트로 이동","Link to 1 more event on {{date}}":"{{date}}에 1개 이상의 이벤트로 이동"},Mae={...Rae,...Oae},Vae={Date:"Date","MM/DD/YYYY":"JJ/MM/AAAA","Next month":"Mois suivant","Previous month":"Mois précédent","Choose Date":"Choisir une date"},Lae={Today:"Aujourd'hui",Month:"Mois",Week:"Semaine",Day:"Jour","Select View":"Choisir la vue",events:"événements",event:"événement","No events":"Aucun événement","Next period":"Période suivante","Previous period":"Période précédente",to:"à","Full day- and multiple day events":"Événements d'une ou plusieurs journées","Link to {{n}} more events on {{date}}":"Lien vers {{n}} autres événements le {{date}}","Link to 1 more event on {{date}}":"Lien vers 1 autre événement le {{date}}"},Nae={...Vae,...Lae},Fae={Date:"Dato","MM/DD/YYYY":"ÅÅÅÅ-MM-DD","Next month":"Næste måned","Previous month":"Foregående måned","Choose Date":"Vælg dato"},Bae={Today:"I dag",Month:"Måned",Week:"Uge",Day:"Dag","Select View":"Vælg visning",events:"begivenheder",event:"begivenhed","No events":"Ingen begivenheder","Next period":"Næste periode","Previous period":"Forgående periode",to:"til","Full day- and multiple day events":"Heldagsbegivenheder og flerdagsbegivenheder","Link to {{n}} more events on {{date}}":"Link til {{n}} flere begivenheder den {{date}}","Link to 1 more event on {{date}}":"Link til 1 mere begivenhed den {{date}}"},jae={...Fae,...Bae},$ae={Date:"Data","MM/DD/YYYY":"DD/MM/YYYY","Next month":"Następny miesiąc","Previous month":"Poprzedni miesiąc","Choose Date":"Wybiewrz datę"},Uae={Today:"Dzisiaj",Month:"Miesiąc",Week:"Tydzień",Day:"Dzień","Select View":"Wybierz widok",events:"wydarzenia",event:"wydarzenie","No events":"Brak wydarzeń","Next period":"Następny okres","Previous period":"Poprzedni okres",to:"do","Full day- and multiple day events":"Wydarzenia całodniowe i wielodniowe","Link to {{n}} more events on {{date}}":"Link do {{n}} kolejnych wydarzeń w dniu {{date}}","Link to 1 more event on {{date}}":"Link do 1 kolejnego wydarzenia w dniu {{date}}"},Hae={...$ae,...Uae},zae={Date:"Fecha","MM/DD/YYYY":"DD/MM/YYYY","Next month":"Siguiente mes","Previous month":"Mes anterior","Choose Date":"Seleccione una fecha"},Wae={Today:"Hoy",Month:"Mes",Week:"Semana",Day:"Día","Select View":"Seleccione una vista",events:"eventos",event:"evento","No events":"Sin eventos","Next period":"Siguiente período","Previous period":"Período anterior",to:"a","Full day- and multiple day events":"Día completo y eventos de múltiples días","Link to {{n}} more events on {{date}}":"Enlace a {{n}} eventos más el {{date}}","Link to 1 more event on {{date}}":"Enlace a 1 evento más el {{date}}"},Yae={...zae,...Wae},Gae={Today:"Vandaag",Month:"Maand",Week:"Week",Day:"Dag","Select View":"Kies weergave",events:"gebeurtenissen",event:"gebeurtenis","No events":"Geen gebeurtenissen","Next period":"Volgende periode","Previous period":"Vorige periode",to:"tot","Full day- and multiple day events":"Evenementen van een hele dag en meerdere dagen","Link to {{n}} more events on {{date}}":"Link naar {{n}} meer evenementen op {{date}}","Link to 1 more event on {{date}}":"Link naar 1 meer evenement op {{date}}"},qae={Date:"Datum","MM/DD/YYYY":"DD-MM-JJJJ","Next month":"Volgende maand","Previous month":"Vorige maand","Choose Date":"Kies datum"},Xae={...qae,...Gae},Kae={Date:"Data","MM/DD/YYYY":"DD/MM/YYYY","Next month":"Mês seguinte","Previous month":"Mês anterior","Choose Date":"Escolha uma data"},Qae={Today:"Hoje",Month:"Mês",Week:"Semana",Day:"Dia","Select View":"Selecione uma visualização",events:"eventos",event:"evento","No events":"Sem eventos","Next period":"Período seguinte","Previous period":"Período anterior",to:"a","Full day- and multiple day events":"Dia inteiro e eventos de vários dias","Link to {{n}} more events on {{date}}":"Link para mais {{n}} eventos em {{date}}","Link to 1 more event on {{date}}":"Link para mais 1 evento em {{date}}"},Jae={...Kae,...Qae},Zae={Date:"Dátum","MM/DD/YYYY":"DD/MM/YYYY","Next month":"Ďalší mesiac","Previous month":"Predchádzajúci mesiac","Choose Date":"Vyberte dátum"},eoe={Today:"Dnes",Month:"Mesiac",Week:"Týždeň",Day:"Deň","Select View":"Vyberte zobrazenie",events:"udalosti",event:"udalosť","No events":"Žiadne udalosti","Next period":"Ďalšie obdobie","Previous period":"Predchádzajúce obdobie",to:"do","Full day- and multiple day events":"Celodenné a viacdňové udalosti","Link to {{n}} more events on {{date}}":"Odkaz na {{n}} ďalších udalostí dňa {{date}}","Link to 1 more event on {{date}}":"Odkaz na 1 ďalšiu udalosť dňa {{date}}"},toe={...Zae,...eoe},noe={Date:"Датум","MM/DD/YYYY":"DD/MM/YYYY","Next month":"Следен месец","Previous month":"Претходен месец","Choose Date":"Избери Датум"},ioe={Today:"Денес",Month:"Месец",Week:"Недела",Day:"Ден","Select View":"Избери Преглед",events:"настани",event:"настан","No events":"Нема настани","Next period":"Следен период","Previous period":"Претходен период",to:"до","Full day- and multiple day events":"Целодневни и повеќедневни настани","Link to {{n}} more events on {{date}}":"Линк до {{n}} повеќе настани на {{date}}","Link to 1 more event on {{date}}":"Линк до 1 повеќе настан на {{date}}"},soe={...noe,...ioe},roe={Date:"Tarih","MM/DD/YYYY":"GG/AA/YYYY","Next month":"Sonraki ay","Previous month":"Önceki ay","Choose Date":"Tarih Seç"},aoe={Today:"Bugün",Month:"Aylık",Week:"Haftalık",Day:"Günlük","Select View":"Görünüm Seç",events:"etkinlikler",event:"etkinlik","No events":"Etkinlik yok","Next period":"Sonraki dönem","Previous period":"Önceki dönem",to:"dan","Full day- and multiple day events":"Tüm gün ve çoklu gün etkinlikleri","Link to {{n}} more events on {{date}}":"{{date}} tarihinde {{n}} etkinliğe bağlantı","Link to 1 more event on {{date}}":"{{date}} tarihinde 1 etkinliğe bağlantı"},ooe={...roe,...aoe},loe={Date:"Датасы","MM/DD/YYYY":"АА/КК/ЖЖЖЖ","Next month":"Кийинки ай","Previous month":"Өткөн ай","Choose Date":"Күндү тандаңыз"},uoe={Today:"Бүгүн",Month:"Ай",Week:"Апта",Day:"Күн","Select View":"Көрүнүштү тандаңыз",events:"Окуялар",event:"Окуя","No events":"Окуя жок","Next period":"Кийинки мезгил","Previous period":"Өткөн мезгил",to:"чейин","Full day- and multiple day events":"Күн бою жана бир нече күн катары менен болгон окуялар","Link to {{n}} more events on {{date}}":"{{date}} күнүндө {{n}} окуяга байланыш","Link to 1 more event on {{date}}":"{{date}} күнүндө 1 окуяга байланыш"},coe={...loe,...uoe},doe={Date:"Tanggal","MM/DD/YYYY":"DD.MM.YYYY","Next month":"Bulan depan","Previous month":"Bulan sebelumnya","Choose Date":"Pilih tanggal"},hoe={Today:"Hari Ini",Month:"Bulan",Week:"Minggu",Day:"Hari","Select View":"Pilih tampilan",events:"Acara",event:"Acara","No events":"Tidak ada acara","Next period":"Periode selanjutnya","Previous period":"Periode sebelumnya",to:"sampai","Full day- and multiple day events":"Sepanjang hari dan acara beberapa hari ","Link to {{n}} more events on {{date}}":"Tautan ke {{n}} acara lainnya pada {{date}}","Link to 1 more event on {{date}}":"Tautan ke 1 acara lainnya pada {{date}}"},foe={...doe,...hoe},moe={Date:"Datum","MM/DD/YYYY":"DD/MM/YYYY","Next month":"Další měsíc","Previous month":"Předchozí měsíc","Choose Date":"Vyberte datum"},goe={Today:"Dnes",Month:"Měsíc",Week:"Týden",Day:"Den","Select View":"Vyberte zobrazení",events:"události",event:"událost","No events":"Žádné události","Next period":"Příští období","Previous period":"Předchozí období",to:"do","Full day- and multiple day events":"Celodenní a vícedenní události","Link to {{n}} more events on {{date}}":"Odkaz na {{n}} dalších událostí dne {{date}}","Link to 1 more event on {{date}}":"Odkaz na 1 další událost dne {{date}}"},poe={...moe,...goe},voe={Date:"Kuupäev","MM/DD/YYYY":"PP.KK.AAAA","Next month":"Järgmine kuu","Previous month":"Eelmine kuu","Choose Date":"Vali kuupäev"},_oe={Today:"Täna",Month:"Kuu",Week:"Nädal",Day:"Päev","Select View":"Vali vaade",events:"sündmused",event:"sündmus","No events":"Pole sündmusi","Next period":"Järgmine periood","Previous period":"Eelmine periood",to:"kuni","Full day- and multiple day events":"Täispäeva- ja mitmepäevasündmused","Link to {{n}} more events on {{date}}":"Link {{n}} rohkematele sündmustele kuupäeval {{date}}","Link to 1 more event on {{date}}":"Link ühele lisasündmusele kuupäeval {{date}}"},yoe={...voe,..._oe},boe={Date:"Дата","MM/DD/YYYY":"ММ/ДД/РРРР","Next month":"Наступний місяць","Previous month":"Минулий місяць","Choose Date":"Виберіть дату"},woe={Today:"Сьогодні",Month:"Місяць",Week:"Тиждень",Day:"День","Select View":"Виберіть вигляд",events:"події",event:"подія","No events":"Немає подій","Next period":"Наступний період","Previous period":"Минулий період",to:"по","Full day- and multiple day events":"Події на цілий день і кілька днів поспіль","Link to {{n}} more events on {{date}}":"Посилання на {{n}} додаткові події на {{date}}","Link to 1 more event on {{date}}":"Посилання на 1 додаткову подію на {{date}}"},xoe={...boe,...woe},Soe={Date:"Datum","MM/DD/YYYY":"DD/MM/YYYY","Next month":"Sledeći mesec","Previous month":"Prethodni mesec","Choose Date":"Izaberite datum"},koe={Today:"Danas",Month:"Mesec",Week:"Nedelja",Day:"Dan","Select View":"Odaberite pregled",events:"Događaji",event:"Događaj","No events":"Nema događaja","Next period":"Naredni period","Previous period":"Prethodni period",to:"do","Full day- and multiple day events":"Celodnevni i višednevni događaji","Link to {{n}} more events on {{date}}":"Link do još {{n}} događaja na {{date}}","Link to 1 more event on {{date}}":"Link do jednog događaja na {{date}}"},Toe={...Soe,...koe},Poe={Date:"Data","MM/DD/YYYY":"DD/MM/YYYY","Next month":"Següent mes","Previous month":"Mes anterior","Choose Date":"Selecciona una data"},Coe={Today:"Avui",Month:"Mes",Week:"Setmana",Day:"Dia","Select View":"Selecciona una vista",events:"Esdeveniments",event:"Esdeveniment","No events":"Sense esdeveniments","Next period":"Següent període","Previous period":"Període anterior",to:"a","Full day- and multiple day events":"Esdeveniments de dia complet i de múltiples dies","Link to {{n}} more events on {{date}}":"Enllaç a {{n}} esdeveniments més el {{date}}","Link to 1 more event on {{date}}":"Enllaç a 1 esdeveniment més el {{date}}"},Eoe={...Poe,...Coe},Ioe={Date:"Датум","MM/DD/YYYY":"DD/MM/YYYY","Next month":"Следећи месец","Previous month":"Претходни месец","Choose Date":"Изаберите Датум"},Doe={Today:"Данас",Month:"Месец",Week:"Недеља",Day:"Дан","Select View":"Изаберите преглед",events:"Догађаји",event:"Догађај","No events":"Нема догађаја","Next period":"Следећи период","Previous period":"Претходни период",to:"да","Full day- and multiple day events":"Целодневни и вишедневни догађаји","Link to {{n}} more events on {{date}}":"Линк до још {{n}} догађаја на {{date}}","Link to 1 more event on {{date}}":"Линк до још 1 догађаја {{date}}"},Aoe={...Ioe,...Doe},Roe={Date:"Data","MM/DD/YYYY":"MMMM-MM-DD","Next month":"Kitas mėnuo","Previous month":"Ankstesnis mėnuo","Choose Date":"Pasirinkite datą"},Ooe={Today:"Šiandien",Month:"Mėnuo",Week:"Savaitė",Day:"Diena","Select View":"Pasirinkite vaizdą",events:"įvykiai",event:"įvykis","No events":"Įvykių nėra","Next period":"Kitas laikotarpis","Previous period":"Ankstesnis laikotarpis",to:"iki","Full day- and multiple day events":"Visos dienos ir kelių dienų įvykiai","Link to {{n}} more events on {{date}}":"Nuoroda į dar {{n}} įvykius {{date}}","Link to 1 more event on {{date}}":"Nuoroda į dar 1 vieną įvykį {{date}}"},Moe={...Roe,...Ooe};class Voe extends Error{constructor(e){super(`Invalid locale: ${e}`)}}const Loe=(t,e)=>(n,i)=>{if(!/^[a-z]{2}-[A-Z]{2}$/.test(t.value)&&t.value!=="sr-Latn-RS")throw new Voe(t.value);const s=t.value.replaceAll("-",""),r=e.value[s];if(!r)return n;let a=r[n]||n;return Object.keys(i||{}).forEach(o=>{const l=String(i==null?void 0:i[o]);l&&(a=a.replace(`{{${o}}}`,l))}),a},Noe={deDE:oae,enUS:cae,itIT:fae,enGB:pae,svSE:yae,zhCN:xae,zhTW:Tae,jaJP:Eae,ruRU:Aae,koKR:Mae,frFR:Nae,daDK:jae,mkMK:soe,plPL:Hae,esES:Yae,nlNL:Xae,ptBR:Jae,skSK:toe,trTR:ooe,kyKG:coe,idID:foe,csCZ:poe,etEE:yoe,ukUA:xoe,caES:Eoe,srLatnRS:Toe,srRS:Aoe,ltLT:Moe};class Foe{constructor(e){Object.defineProperty(this,"config",{enumerable:!0,configurable:!0,writable:!0,value:e})}setLight(){Object.entries(this.config.calendars.value||{}).forEach(([e,n])=>{if(!n.lightColors){console.warn(`No light colors defined for calendar ${e}`);return}this.setColors(n.colorName,n.lightColors)})}setDark(){Object.entries(this.config.calendars.value||{}).forEach(([e,n])=>{if(!n.darkColors){console.warn(`No dark colors defined for calendar ${e}`);return}this.setColors(n.colorName,n.darkColors)})}setColors(e,n){document.documentElement.style.setProperty(`--sx-color-${e}`,n.main),document.documentElement.style.setProperty(`--sx-color-${e}-container`,n.container),document.documentElement.style.setProperty(`--sx-color-on-${e}-container`,n.onContainer)}}const Boe=(t,e,n)=>{var i;const s=jt(((i=t.views.value.find(f=>f.name===t.defaultView))===null||i===void 0?void 0:i.name)||t.views.value[0].name),r=P$(()=>s.value),a=jt(null);let o=!1;const l=f=>{if(!o)return o=!0;t.callbacks.onRangeUpdate&&f.value&&t.callbacks.onRangeUpdate(f.value)};Mo(()=>{t.callbacks.onRangeUpdate&&a.value&&l(a)});const u=f=>{var h,p;const v=t.views.value.find(_=>_.name===s.value).setDateRange({calendarConfig:t,date:f,range:a,timeUnitsImpl:e});v.start===((h=a.value)===null||h===void 0?void 0:h.start)&&v.end===((p=a.value)===null||p===void 0?void 0:p.end)||(a.value=v)};u(n||ri(new Date));const d=jt(void 0),c=jt(t.isDark.value||!1);return Mo(()=>{const f=new Foe(t);c.value?f.setDark():f.setLight()}),{view:r,isDark:c,setRange:u,range:a,isCalendarSmall:d,setView:(f,h)=>{t1(()=>{s.value=f,u(h)})}}},joe=(t,e,n)=>{const i=jt(t.map(r=>Lv(r,n))),s=jt(void 0);return{list:i,filterPredicate:s,backgroundEvents:jt(e)}};ks.Week;const F$={start:0,end:2400},$oe=1600,Wm="blocker",Uoe=(t,e,n)=>t===e?2400:n?2400-t+e:e-t;class Hoe{constructor(e=Q_,n=UP,i=ks.Week,s=[],r=F$,a,o={},l={},u=!1,d=!0,c={},f={},h=void 0,p=void 0,g={nEventsPerDay:4},v=void 0,_={}){Object.defineProperty(this,"defaultView",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"plugins",{enumerable:!0,configurable:!0,writable:!0,value:l}),Object.defineProperty(this,"isResponsive",{enumerable:!0,configurable:!0,writable:!0,value:d}),Object.defineProperty(this,"callbacks",{enumerable:!0,configurable:!0,writable:!0,value:c}),Object.defineProperty(this,"_customComponentFns",{enumerable:!0,configurable:!0,writable:!0,value:f}),Object.defineProperty(this,"firstDayOfWeek",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"views",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"dayBoundaries",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"weekOptions",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"calendars",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"isDark",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"minDate",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"maxDate",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"monthGridOptions",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"locale",{enumerable:!0,configurable:!0,writable:!0,value:jt(Q_)}),Object.defineProperty(this,"theme",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"translations",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.locale=jt(e),this.firstDayOfWeek=jt(n),this.views=jt(s),this.dayBoundaries=jt(r),this.weekOptions=jt(a),this.calendars=jt(o),this.isDark=jt(u),this.minDate=jt(h),this.maxDate=jt(p),this.monthGridOptions=jt(g),this.theme=v,this.translations=jt(_)}get isHybridDay(){return this.dayBoundaries.value.start>this.dayBoundaries.value.end||this.dayBoundaries.value.start!==0&&this.dayBoundaries.value.start===this.dayBoundaries.value.end}get timePointsPerDay(){return Uoe(this.dayBoundaries.value.start,this.dayBoundaries.value.end,this.isHybridDay)}}class zoe{constructor(){Object.defineProperty(this,"locale",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"firstDayOfWeek",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"defaultView",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"views",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"dayBoundaries",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"weekOptions",{enumerable:!0,configurable:!0,writable:!0,value:{gridHeight:$oe,nDays:7,eventWidth:100,timeAxisFormatOptions:{hour:"numeric"}}}),Object.defineProperty(this,"monthGridOptions",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"calendars",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"plugins",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"isDark",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"isResponsive",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"callbacks",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"minDate",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"maxDate",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"backgroundEvents",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"theme",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"translations",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}build(){return new Hoe(this.locale||Q_,typeof this.firstDayOfWeek=="number"?this.firstDayOfWeek:UP,this.defaultView||ks.Week,this.views||[],this.dayBoundaries||F$,this.weekOptions,this.calendars,this.plugins,this.isDark,this.isResponsive,this.callbacks,{},this.minDate,this.maxDate,this.monthGridOptions,this.theme,this.translations)}withLocale(e){return this.locale=e,this}withTranslations(e){return this.translations=e,this}withFirstDayOfWeek(e){return this.firstDayOfWeek=e,this}withDefaultView(e){return this.defaultView=e,this}withViews(e){return this.views=e,this}withDayBoundaries(e){return e?(this.dayBoundaries={start:Kr(e.start),end:Kr(e.end)},this):this}withWeekOptions(e){return this.weekOptions={...this.weekOptions,...e},this}withCalendars(e){return this.calendars=e,this}withPlugins(e){return e?(e.forEach(n=>{this.plugins[n.name]=n}),this):this}withIsDark(e){return this.isDark=e,this}withIsResponsive(e){return this.isResponsive=e,this}withCallbacks(e){return this.callbacks=e,this}withMinDate(e){return this.minDate=e,this}withMaxDate(e){return this.maxDate=e,this}withMonthGridOptions(e){return this.monthGridOptions=e,this}withBackgroundEvents(e){return this.backgroundEvents=e,this}withTheme(e){return this.theme=e,this}}const Woe=(t,e)=>new zoe().withLocale(t.locale).withFirstDayOfWeek(t.firstDayOfWeek).withDefaultView(t.defaultView).withViews(t.views).withDayBoundaries(t.dayBoundaries).withWeekOptions(t.weekOptions).withCalendars(t.calendars).withPlugins(e).withIsDark(t.isDark).withIsResponsive(t.isResponsive).withCallbacks(t.callbacks).withMinDate(t.minDate).withMaxDate(t.maxDate).withMonthGridOptions(t.monthGridOptions).withBackgroundEvents(t.backgroundEvents).withTheme(t.theme).withTranslations(t.translations||Noe).build();var a1;(function(t){t[t.JANUARY=0]="JANUARY",t[t.FEBRUARY=1]="FEBRUARY",t[t.MARCH=2]="MARCH",t[t.APRIL=3]="APRIL",t[t.MAY=4]="MAY",t[t.JUNE=5]="JUNE",t[t.JULY=6]="JULY",t[t.AUGUST=7]="AUGUST",t[t.SEPTEMBER=8]="SEPTEMBER",t[t.OCTOBER=9]="OCTOBER",t[t.NOVEMBER=10]="NOVEMBER",t[t.DECEMBER=11]="DECEMBER"})(a1||(a1={}));class B$ extends Error{constructor(){super("Year zero does not exist in the Gregorian calendar.")}}class Yoe extends Date{constructor(e,n,i){if(super(e,n,i),e===0)throw new B$;this.setFullYear(e)}get year(){return this.getFullYear()}get month(){return this.getMonth()}get date(){return this.getDate()}}class Goe{constructor(e){Object.defineProperty(this,"config",{enumerable:!0,configurable:!0,writable:!0,value:e})}get firstDayOfWeek(){return this.config.firstDayOfWeek.value}set firstDayOfWeek(e){this.config.firstDayOfWeek.value=e}getMonthWithTrailingAndLeadingDays(e,n){if(e===0)throw new B$;const i=new Date(e,n,1),s=[this.getWeekFor(i)];let r=!0,a=s[0][0];for(;r;){const o=new Date(a.getFullYear(),a.getMonth(),a.getDate()+7);o.getMonth()===n?(s.push(this.getWeekFor(o)),a=o):r=!1}return s}getWeekFor(e){const n=[this.getFirstDateOfWeek(e)];for(;n.length<7;){const i=n[n.length-1],s=new Date(i);s.setDate(i.getDate()+1),n.push(s)}return n}getMonthsFor(e){return Object.values(a1).filter(n=>!isNaN(Number(n))).map(n=>new Yoe(e,Number(n),1))}getFirstDateOfWeek(e){const n=e.getDay()-this.firstDayOfWeek,i=e;return n===0||(n>0?i.setDate(e.getDate()-n):i.setDate(e.getDate()-(7+n))),i}}class qoe{constructor(){Object.defineProperty(this,"config",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}build(){return new Goe(this.config)}withConfig(e){return this.config=e,this}}const Xoe=t=>new qoe().withConfig(t).build();var J_;(function(t){t.TOP_START="top-start",t.TOP_END="top-end",t.BOTTOM_START="bottom-start",t.BOTTOM_END="bottom-end"})(J_||(J_={}));class Koe{constructor(e=Q_,n=UP,i=ri(new Date(1970,0,1)),s=ri(new Date(new Date().getFullYear()+50,11,31)),r=J_.BOTTOM_START,a={},o={},l,u,d,c){Object.defineProperty(this,"min",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"max",{enumerable:!0,configurable:!0,writable:!0,value:s}),Object.defineProperty(this,"placement",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"listeners",{enumerable:!0,configurable:!0,writable:!0,value:a}),Object.defineProperty(this,"style",{enumerable:!0,configurable:!0,writable:!0,value:o}),Object.defineProperty(this,"teleportTo",{enumerable:!0,configurable:!0,writable:!0,value:l}),Object.defineProperty(this,"label",{enumerable:!0,configurable:!0,writable:!0,value:u}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:d}),Object.defineProperty(this,"disabled",{enumerable:!0,configurable:!0,writable:!0,value:c}),Object.defineProperty(this,"locale",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"firstDayOfWeek",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.locale=jt(e),this.firstDayOfWeek=jt(n)}}class Qoe{constructor(){Object.defineProperty(this,"locale",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"firstDayOfWeek",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"min",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"max",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"placement",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"listeners",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"style",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"teleportTo",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"label",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"disabled",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}build(){return new Koe(this.locale,this.firstDayOfWeek,this.min,this.max,this.placement,this.listeners,this.style,this.teleportTo,this.label,this.name,this.disabled)}withLocale(e){return this.locale=e,this}withFirstDayOfWeek(e){return this.firstDayOfWeek=e,this}withMin(e){return this.min=e,this}withMax(e){return this.max=e,this}withPlacement(e){return this.placement=e,this}withListeners(e){return this.listeners=e,this}withStyle(e){return this.style=e,this}withTeleportTo(e){return this.teleportTo=e,this}withLabel(e){return this.label=e,this}withName(e){return this.name=e,this}withDisabled(e){return this.disabled=e,this}}const Joe=(t,e)=>{var n,i;return new Qoe().withLocale(t.locale).withFirstDayOfWeek(t.firstDayOfWeek).withMin(t.minDate).withMax(t.maxDate).withTeleportTo((n=t.datePicker)===null||n===void 0?void 0:n.teleportTo).withStyle((i=t.datePicker)===null||i===void 0?void 0:i.style).withPlacement(J_.BOTTOM_END).withListeners({onChange:e}).build()},Zoe=(t,e)=>{let n=null;return i=>{var s;t.setRange(i),!((s=e.callbacks)===null||s===void 0)&&s.onSelectedDateUpdate&&i!==n&&(n=i,e.callbacks.onSelectedDateUpdate(i))}},ele=(t,e)=>{if(t&&e)throw new Error("You cannot provide plugins over the config object and as an argument to createCalendar.")},tle=(t=[])=>{t==null||t.forEach(e=>{if(!Ta.test(e.start)&&!Ss.test(e.start))throw new Error(`[Schedule-X error]: Event start time ${e.start} is not a valid time format. Please refer to the docs for more information.`);if(!Ta.test(e.end)&&!Ss.test(e.end))throw new Error(`[Schedule-X error]: Event end time ${e.end} is not a valid time format. Please refer to the docs for more information.`);if(typeof e.id=="number"&&e.id%1!==0)throw new Error(`[Schedule-X error]: Event id ${e.id} is not a valid id. Only non-unicode characters that can be used by document.querySelector is allowed, see: https://developer.mozilla.org/en-US/docs/Web/CSS/ident. We recommend using uuids or integers.`);if(typeof e.id=="string"&&!/^[a-zA-Z0-9_-]*$/.test(e.id))throw new Error(`[Schedule-X error]: Event id ${e.id} is not a valid id. Only non-unicode characters that can be used by document.querySelector is allowed, see: https://developer.mozilla.org/en-US/docs/Web/CSS/ident. We recommend using uuids or integers.`);if(typeof e.id!="string"&&typeof e.id!="number")throw new Error(`[Schedule-X error]: Event id ${e.id} is not a valid id. Only non-unicode characters that can be used by document.querySelector is allowed, see: https://developer.mozilla.org/en-US/docs/Web/CSS/ident. We recommend using uuids or integers.`)})},nle=(t,e)=>{var n;const i=Woe(t,e),s=Xoe(i),r=Boe(i,s,t.selectedDate),a=Zoe(r,t),o=Joe(t,a),l=sae(o,t.selectedDate||((n=t.datePicker)===null||n===void 0?void 0:n.selectedDate)),u=joe(t.events||[],t.backgroundEvents||[],i);return new eae().withConfig(i).withTimeUnitsImpl(s).withDatePickerState(l).withCalendarEvents(u).withDatePickerConfig(o).withCalendarState(r).withTranslate(Loe(i.locale,i.translations)).build()},j$=(t,e)=>(ele(t.plugins,e),t.skipValidation!==!0&&tle(t.events),new Jre(nle(t,t.plugins||[])));class ile{constructor(e){Object.defineProperty(this,"randomId",{enumerable:!0,configurable:!0,writable:!0,value:Ms()}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"label",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"Component",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"setDateRange",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"hasSmallScreenCompat",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"hasWideScreenCompat",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"backwardForwardFn",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"backwardForwardUnits",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=e.name,this.label=e.label,this.Component=e.Component,this.setDateRange=e.setDateRange,this.hasSmallScreenCompat=e.hasSmallScreenCompat,this.hasWideScreenCompat=e.hasWideScreenCompat,this.backwardForwardFn=e.backwardForwardFn,this.backwardForwardUnits=e.backwardForwardUnits}render(e,n){W_(oc(this.Component,{$app:n,id:this.randomId}),e)}destroy(){const e=document.getElementById(this.randomId);e&&e.remove()}}const su=t=>new ile(t),Lf=(t,e,n)=>{if(n<e.start){const i=2400-e.start;return(n+i)/t*100}return(n-e.start)/t*100},$$=(t,e,n,i)=>t===e?Lf(i,n,Kr(yl(O$(e,50))))-Lf(i,n,Kr(yl(t))):Lf(i,n,Kr(yl(e)))-Lf(i,n,Kr(yl(t))),sle=(t,e)=>!t._totalConcurrentEvents||!t._previousConcurrentEvents?0:(t._previousConcurrentEvents||0)/(t._totalConcurrentEvents||0)*e,rle=(t,e)=>e-t,ale=t=>t._previousConcurrentEvents?"1px solid #fff":0,U$=t=>"time-grid-event-copy-"+t,Xg=t=>"touches"in t&&typeof t.touches=="object";function iw(t){const[e,n]=Rt(),i=u=>{if(!u)return n(void 0);n(zm(u,t))},[s,r]=Rt(),a=(u,d)=>{r(setTimeout(()=>u(d),150))},o=(u,d)=>{if(Xg(u)&&u.touches.length===0||!t.config.plugins.eventModal)return;const c=u.target;if(!(c instanceof HTMLElement))return;const f=c.classList.contains("sx__event")?c:c.closest(".sx__event");f instanceof HTMLElement&&(t.config.plugins.eventModal.calendarEventElement.value=f,t.config.plugins.eventModal.setCalendarEvent(d,f.getBoundingClientRect()))};return{eventCopy:e,updateCopy:i,createDragStartTimeout:a,setClickedEventIfNotDragging:(u,d)=>{s&&(clearTimeout(s),o(d,u)),r(void 0)},setClickedEvent:o}}const ole=(t,e)=>{let n=t?"custom-time-grid-event-"+Ms():void 0;return n&&e&&(n+="-copy"),n},jl=(t,e)=>{t.config.callbacks.onEventClick&&t.config.callbacks.onEventClick(e._getExternalEvent())},sw=(t,e)=>{t.config.callbacks.onDoubleClickEvent&&t.config.callbacks.onDoubleClickEvent(e._getExternalEvent())},H$=t=>{const e=Xg(t)?t.touches[0]:t;return{clientX:e.clientX,clientY:e.clientY}},z$=(t,e,n)=>Lf(n,e,Kr(yl(t))),Ym=t=>{setTimeout(()=>{t()})},rw=t=>{const e=t.elements.calendarWrapper;if(!(e instanceof HTMLElement))return;const n=e.querySelector(".sx__event-modal");n instanceof HTMLElement&&setTimeout(()=>{n.focus()},100)};function W$({calendarEvent:t,dayBoundariesDateTime:e,isCopy:n,setMouseDown:i}){var s,r,a,o;const l=An(oi),{eventCopy:u,updateCopy:d,createDragStartTimeout:c,setClickedEventIfNotDragging:f,setClickedEvent:h}=iw(l),p=[l.config.locale.value,{hour:"numeric",minute:"numeric"}],g=(N,B)=>{const z=_n(N).toLocaleTimeString(...p);if(N===B)return z;const q=_n(B).toLocaleTimeString(...p);return`${z} – ${q}`},v={borderLeft:`4px solid var(--sx-color-${t._color})`,textColor:`var(--sx-color-on-${t._color}-container)`,backgroundColor:`var(--sx-color-${t._color}-container)`,iconStroke:`var(--sx-color-on-${t._color}-container)`},_=sle(t,l.config.weekOptions.value.eventWidth),b=N=>{var B;if(Xg(N)&&N.preventDefault(),!e||!N.target||!l.config.plugins.dragAndDrop||!((B=t._options)===null||B===void 0)&&B.disableDND)return;const z=zm(t,l);d(z),l.config.plugins.dragAndDrop.createTimeGridDragHandler({$app:l,eventCoordinates:H$(N),updateCopy:d,eventCopy:z},e)},x=l.config._customComponentFns.timeGridEvent,k=ole(x,n);kn(()=>{x&&x(mo(k),{calendarEvent:t._getExternalEvent()})},[t,u]);const I=N=>{N.stopPropagation(),jl(l,t)},E=N=>{N.stopPropagation(),sw(l,t)},T=N=>{(N.key==="Enter"||N.key===" ")&&(N.stopPropagation(),h(N,t),jl(l,t),Ym(()=>{rw(l)}))},S=N=>{if(i(!0),N.stopPropagation(),!!e&&l.config.plugins.resize){const B=zm(t,l);d(B),l.config.plugins.resize.createTimeGridEventResizer(B,d,N,e)}},w=ale(t),P=["sx__time-grid-event","sx__event"];n&&P.push("is-event-copy"),!((s=t._options)===null||s===void 0)&&s.additionalClasses&&P.push(...t._options.additionalClasses);const C=N=>{i(!0),c(b,N)},D=N=>{Ym(()=>i(!1)),f(t,N)},A=(r=t._customContent)===null||r===void 0?void 0:r.timeGrid;return Q(Lt,{children:[Q("div",{id:n?U$(t.id):void 0,"data-event-id":t.id,onClick:I,onDblClick:E,onKeyDown:T,onMouseDown:C,onMouseUp:D,onTouchStart:C,onTouchEnd:D,className:P.join(" "),tabIndex:0,role:"button",style:{top:`${z$(t.start,l.config.dayBoundaries.value,l.config.timePointsPerDay)}%`,height:`${$$(t.start,t.end,l.config.dayBoundaries.value,l.config.timePointsPerDay)}%`,left:`${_}%`,width:`${rle(_,n?100:l.config.weekOptions.value.eventWidth)}%`,backgroundColor:x?void 0:v.backgroundColor,color:x?void 0:v.textColor,borderTop:w,borderRight:w,borderBottom:w,borderLeft:x?void 0:v.borderLeft,padding:x?"0":void 0},children:Q("div",{"data-ccid":k,className:"sx__time-grid-event-inner",children:[!x&&!A&&Q(Lt,{children:[t.title&&Q("div",{className:"sx__time-grid-event-title",children:t.title}),Q("div",{className:"sx__time-grid-event-time",children:[Q(R$,{strokeColor:v.iconStroke}),g(t.start,t.end)]}),t.people&&t.people.length>0&&Q("div",{className:"sx__time-grid-event-people",children:[Q(bre,{strokeColor:v.iconStroke}),Pre(t.people)]}),t.location&&Q("div",{className:"sx__time-grid-event-location",children:[Q(wre,{strokeColor:v.iconStroke}),t.location]})]}),A&&Q("div",{dangerouslySetInnerHTML:{__html:((a=t._customContent)===null||a===void 0?void 0:a.timeGrid)||""}}),l.config.plugins.resize&&!(!((o=t._options)===null||o===void 0)&&o.disableResize)&&Q("div",{className:"sx__time-grid-event-resize-handle",onMouseDown:S})]})}),u&&Q(W$,{calendarEvent:u,isCopy:!0,setMouseDown:i})]})}const HP=(t,e)=>t.start===e.start?t.end<e.end?1:t.end>e.end?-1:0:t.start<e.start?-1:t.start>e.start?1:0,lle=(t,e)=>{const n=dn(t.start),i=dn(e.start),s=dn(t.end),r=dn(e.end);return n===i?s<r?1:s>r?-1:0:n<i?-1:n>i?1:0},o1=(t,e=[],n=0)=>{for(let i=n;i<t.length;i++){const s=t[i],r=t[i+1];if(e.length&&(!r||e.every(a=>a.end<r.start))){e.push(s);for(let a=0;a<e.length;a++){const o=e[a],l=e.filter((d,c)=>d===o||c>a?!1:d.start<=o.start&&d.end>o.start).length,u=e.filter((d,c)=>d===o||c<a?!1:d.start<o.end&&d.end>=o.start).length;o._totalConcurrentEvents=l+u+1,o._previousConcurrentEvents=l}return e=[],o1(t,e,i+1)}if(r&&s.end>r.start||e.some(a=>a.end>s.start))return e.push(s),o1(t,e,i+1);s._totalConcurrentEvents=1,s._previousConcurrentEvents=0}return t},mO=(t,e,n)=>{if(!(t.target instanceof HTMLElement))return;const i="sx__time-grid-day",s=t.target.classList.contains(i)?t.target:t.target.closest("."+i),a=(t.clientY-s.getBoundingClientRect().top)/s.getBoundingClientRect().height*100,o=Math.round(e.config.timePointsPerDay/100*a);return O$(n,o)},aw=t=>{switch(t){case 0:return"sx__sunday";case 1:return"sx__monday";case 2:return"sx__tuesday";case 3:return"sx__wednesday";case 4:return"sx__thursday";case 5:return"sx__friday";case 6:return"sx__saturday";default:throw new Error("Invalid weekday")}};function ule({backgroundEvent:t,date:e}){const n=An(oi);let i=t.start,s=t.end;return Ss.test(i)&&(i+=" 00:00"),Ss.test(s)&&(s+=" 23:59"),dn(i)!==e&&(i=e+" "+i.split(" ")[1]),dn(s)!==e&&(s=e+" "+s.split(" ")[1]),Kr(i.split(" ")[1])<n.config.dayBoundaries.value.start&&(i=e+" "+Hm(n.config.dayBoundaries.value.start)),i===s?null:Q(Lt,{children:Q("div",{class:"sx__time-grid-background-event",title:t.title,style:{...t.style,position:"absolute",zIndex:0,top:`${z$(i,n.config.dayBoundaries.value,n.config.timePointsPerDay)}%`,height:`${$$(i,s,n.config.dayBoundaries.value,n.config.timePointsPerDay)}%`,width:"100%"}})})}function cle({calendarEvents:t,date:e,backgroundEvents:n}){const[i,s]=Rt(!1),r=An(oi),a=Hm(r.config.dayBoundaries.value.start),o=Hm(r.config.dayBoundaries.value.end),l=X0(e,a),u=r.config.isHybridDay?iu(X0(e,o),1):X0(e,o),d={start:l,end:u},c=t.sort(HP),[f,h]=Rt([]);kn(()=>{h(o1(c))},[t]);const p=(k,I)=>{if(!I||i)return;const E=mO(k,r,l);E&&I(E)},g=k=>{const I=r.config.callbacks.onMouseDownDateTime;if(!I||i)return;const E=mO(k,r,l);E&&I(E,k)},v=()=>{setTimeout(()=>{s(!1)},10)},_=["sx__time-grid-day",aw(_n(e).getDay())],[b,x]=Rt(_);return na(()=>{const k=[..._];r.datePickerState.selectedDate.value===e&&k.push("is-selected"),x(k)}),Q("div",{className:b.join(" "),"data-time-grid-date":e,onClick:k=>p(k,r.config.callbacks.onClickDateTime),onDblClick:k=>p(k,r.config.callbacks.onDoubleClickDateTime),"aria-label":El(e,r.config.locale.value),onMouseLeave:()=>s(!1),onMouseUp:v,onTouchEnd:v,onMouseDown:g,children:[n.map(k=>Q(Lt,{children:Q(ule,{backgroundEvent:k,date:e})})),f.map(k=>Q(W$,{calendarEvent:k,dayBoundariesDateTime:d,setMouseDown:s},k.id))]})}const dle=({start:t,end:e},n)=>{const i=[];let s=Math.floor(t/100);if(n){for(;s<24;)i.push(s),s+=1;s=0}const r=e===0?24:Math.ceil(e/100);for(;s<r;)i.push(s),s+=1;return i};function hle(){const t=An(oi),[e,n]=Rt([]);na(()=>{n(dle(t.config.dayBoundaries.value,t.config.isHybridDay));const s=t.config.timePointsPerDay/100,r=t.config.weekOptions.value.gridHeight/s;document.documentElement.style.setProperty("--sx-week-grid-hour-height",`${r}px`)});const i=new Intl.DateTimeFormat(t.config.locale.value,t.config.weekOptions.value.timeAxisFormatOptions);return Q(Lt,{children:Q("div",{className:"sx__week-grid__time-axis",children:e.map(s=>Q("div",{className:"sx__week-grid__hour",children:Q("span",{className:"sx__week-grid__hour-text",children:i.format(new Date(0,0,0,s))})}))})})}function fle({week:t}){const e=An(oi),n=i=>{const s=["sx__week-grid__date",aw(i.getDay())];return jP(i)&&s.push("sx__week-grid__date--is-today"),s.join(" ")};return Q(Lt,{children:Q("div",{className:"sx__week-grid__date-axis",children:t.map(i=>Q("div",{className:n(i),"data-date":ri(i),children:[Q("div",{className:"sx__week-grid__day-name",children:BP(i,e.config.locale.value)}),Q("div",{className:"sx__week-grid__date-number",children:i.getDate()})]}))})})}const mle=t=>{const e=[],n=[];for(const i of t){if(i._isSingleDayTimed||i._isSingleHybridDayTimed){n.push(i);continue}(i._isSingleDayFullDay||i._isMultiDayFullDay||i._isMultiDayTimed)&&e.push(i)}return{timeGridEvents:n,dateGridEvents:e}},gO=(t,e)=>{const n=ri(e);return t[n]={date:n,timeGridEvents:[],dateGridEvents:{},backgroundEvents:[]},t},gle=t=>t.calendarState.view.value===ks.Day?gO({},_n(t.calendarState.range.value.start)):t.timeUnitsImpl.getWeekFor(_n(t.datePickerState.selectedDate.value)).slice(0,t.config.weekOptions.value.nDays).reduce(gO,{}),ple=(t,e,n)=>{var i;for(const s of t){const r=n.calendarState.range.value;if(s.start>=r.start&&s.end<=r.end){let a=dn(s.start);const o=yl(s.start);Kr(o)<n.config.dayBoundaries.value.start&&(a=iu(a,-1)),(i=e[a])===null||i===void 0||i.timeGridEvents.push(s)}}return e},vle=(t,e)=>{const n=Object.keys(e).sort(),i=n[0],s=n[n.length-1],r=new Set;for(const a of t){const o=dn(a.start),l=dn(a.end),u=!!e[o];let d=u;if(!u&&o<i&&l>=i&&(d=!0),!d)continue;const c=u?o:i,f=l<=s?l:s,h=Object.values(e).filter(v=>v.date>=c&&v.date<=f);let p,g=0;for(;p===void 0;)h.every(_=>!_.dateGridEvents[g])?(p=g,r.add(g)):g++;for(const[v,_]of h.entries())v===0?(a._nDaysInGrid=h.length,_.dateGridEvents[p]=a):_.dateGridEvents[p]=Wm}for(const a of Array.from(r))for(const[,o]of Object.entries(e))o.dateGridEvents[a]||(o.dateGridEvents[a]=void 0);return e},_le=(t,e,n)=>{let i=2;const s=10;return t&&n&&(i+=s),e&&n&&(i+=s),i},yle=(t,e,n)=>({borderBottomLeftRadius:t||n?0:void 0,borderTopLeftRadius:t||n?0:void 0,borderBottomRightRadius:e||n?0:void 0,borderTopRightRadius:e||n?0:void 0});function Y$({calendarEvent:t,gridRow:e,isCopy:n}){var i,s,r,a;const o=An(oi),{eventCopy:l,updateCopy:u,createDragStartTimeout:d,setClickedEventIfNotDragging:c,setClickedEvent:f}=iw(o),h={borderLeft:`4px solid var(--sx-color-${t._color})`,color:`var(--sx-color-on-${t._color}-container)`,backgroundColor:`var(--sx-color-${t._color}-container)`},p=w=>{var P;if(!o.config.plugins.dragAndDrop||!((P=t._options)===null||P===void 0)&&P.disableDND)return;Xg(w)&&w.preventDefault();const C=zm(t,o);u(C),o.config.plugins.dragAndDrop.createDateGridDragHandler({eventCoordinates:H$(w),eventCopy:C,updateCopy:u,$app:o})},g=dn(t.start)<dn(o.calendarState.range.value.start),v=dn(t.end)>dn(o.calendarState.range.value.end),_={backgroundColor:h.backgroundColor},b=o.config._customComponentFns.dateGridEvent;let x=b?"custom-date-grid-event-"+Ms():void 0;n&&x&&(x+="-copy"),kn(()=>{b&&b(mo(x),{calendarEvent:t._getExternalEvent()})},[t,l]);const k=w=>{w.stopPropagation();const P=zm(t,o);u(P),o.config.plugins.resize.createDateGridEventResizer(P,u,w)},I=w=>{(w.key==="Enter"||w.key===" ")&&(w.stopPropagation(),f(w,t),jl(o,t),Ym(()=>{rw(o)}))},E=["sx__event","sx__date-grid-event","sx__date-grid-cell"];n&&E.push("sx__date-grid-event--copy"),g&&E.push("sx__date-grid-event--overflow-left"),v&&E.push("sx__date-grid-event--overflow-right"),!((i=t._options)===null||i===void 0)&&i.additionalClasses&&E.push(...t._options.additionalClasses);const T=g?"none":h.borderLeft,S=(s=t._customContent)===null||s===void 0?void 0:s.dateGrid;return Q(Lt,{children:[Q("div",{id:n?U$(t.id):void 0,tabIndex:0,"aria-label":t.title+" "+V$(t,o.config.locale.value,o.translate("to")),role:"button","data-ccid":x,"data-event-id":t.id,onMouseDown:w=>d(p,w),onMouseUp:w=>c(t,w),onTouchStart:w=>d(p,w),onTouchEnd:w=>c(t,w),onClick:()=>jl(o,t),onDblClick:()=>sw(o,t),onKeyDown:I,className:E.join(" "),style:{width:`calc(${t._nDaysInGrid*100}% - ${_le(g,v,!b)}px)`,gridRow:e,display:l?"none":"flex",padding:b?"0px":void 0,borderLeft:b?void 0:T,color:b?void 0:h.color,backgroundColor:b?void 0:h.backgroundColor,...yle(g,v,!!b)},children:[!b&&!S&&Q(Lt,{children:[g&&Q("div",{className:"sx__date-grid-event--left-overflow",style:_}),Q("span",{className:"sx__date-grid-event-text",children:[t.title,"  ",Ta.test(t.start)&&Q("span",{className:"sx__date-grid-event-time",children:Pu(t.start,o.config.locale.value)})]}),v&&Q("div",{className:"sx__date-grid-event--right-overflow",style:_})]}),S&&Q("div",{dangerouslySetInnerHTML:{__html:((r=t._customContent)===null||r===void 0?void 0:r.dateGrid)||""}}),o.config.plugins.resize&&!(!((a=t._options)===null||a===void 0)&&a.disableResize)&&!v&&Q("div",{className:"sx__date-grid-event-resize-handle",onMouseDown:k})]}),l&&Q(Y$,{calendarEvent:l,gridRow:e,isCopy:!0})]})}function ble({calendarEvents:t,date:e,backgroundEvents:n}){const i=An(oi),s=e+" 00:00",r=e+" 23:59",a=n.find(l=>{const u=Ss.test(l.start)?l.start+" 00:00":l.start,d=Ss.test(l.end)?l.end+" 23:59":l.end;return u<=s&&d>=r}),o=l=>{const u=i.config.callbacks.onMouseDownDateGridDate;u&&u(e,l)};return Q("div",{className:"sx__date-grid-day","data-date-grid-date":e,children:[a&&Q("div",{className:"sx__date-grid-background-event",title:a.title,style:{...a.style}}),Object.values(t).map((l,u)=>l===Wm||!l?Q("div",{className:"sx__date-grid-cell",style:{gridRow:u+1},onMouseDown:o}):Q(Y$,{calendarEvent:l,gridRow:u+1})),Q("div",{className:"sx__spacer",onMouseDown:o})]})}const G$=(t,e)=>t.filter(n=>{let i=e.start,s=e.end;Ss.test(i)&&(i=i+" 00:00"),Ss.test(s)&&(s=s+" 23:59");let r=n.start,a=n.end;Ss.test(r)&&(r=r+" 00:00"),Ss.test(a)&&(a=a+" 23:59");const o=r>=i&&r<=s,l=a>=i&&a<=s,u=r<i&&a>s;return o||l||u}),q$=({$app:t,id:e})=>{document.documentElement.style.setProperty("--sx-week-grid-height",`${t.config.weekOptions.value.gridHeight}px`);const[n,i]=Rt({});return na(()=>{var s,r;const a=(s=t.calendarState.range.value)===null||s===void 0?void 0:s.start,o=(r=t.calendarState.range.value)===null||r===void 0?void 0:r.end;if(!a||!o)return;let l=gle(t);const u=t.calendarEvents.filterPredicate.value?t.calendarEvents.list.value.filter(t.calendarEvents.filterPredicate.value):t.calendarEvents.list.value,{dateGridEvents:d,timeGridEvents:c}=mle(u);l=vle(d.sort(HP),l),Object.entries(l).forEach(([f,h])=>{h.backgroundEvents=G$(t.calendarEvents.backgroundEvents.value,{start:f,end:f})}),l=ple(c,l,t),i(l)}),Q(Lt,{children:Q(oi.Provider,{value:t,children:Q("div",{className:"sx__week-wrapper",id:e,children:[Q("div",{className:"sx__week-header",children:Q("div",{className:"sx__week-header-content",children:[Q(fle,{week:Object.values(n).map(s=>_n(s.date))}),Q("div",{className:"sx__date-grid","aria-label":t.translate("Full day- and multiple day events"),children:Object.values(n).map(s=>Q(ble,{date:s.date,calendarEvents:s.dateGridEvents,backgroundEvents:s.backgroundEvents},s.date))}),Q("div",{className:"sx__week-header-border"})]})}),Q("div",{className:"sx__week-grid",children:[Q(hle,{}),Object.values(n).map(s=>Q(cle,{calendarEvents:s.timeGridEvents,backgroundEvents:s.backgroundEvents,date:s.date},s.date))]})]})})})},X$=(t,e)=>`${ri(e)} ${Hm(t.dayBoundaries.value.start)}`,K$=(t,e)=>{let n=Hm(t.dayBoundaries.value.end),i=ri(e);return t.isHybridDay&&(i=iu(i,1)),t.dayBoundaries.value.end===2400&&(n="23:59"),`${i} ${n}`},wle=t=>{const e=t.timeUnitsImpl.getWeekFor(_n(t.date)).slice(0,t.calendarConfig.weekOptions.value.nDays);return{start:X$(t.calendarConfig,e[0]),end:K$(t.calendarConfig,e[e.length-1])}},Q$=t=>{const{year:e,month:n}=yr(t.date),i=t.timeUnitsImpl.getMonthWithTrailingAndLeadingDays(e,n),s=ri(i[i.length-1][i[i.length-1].length-1]);return{start:tw(i[0][0]),end:`${s} 23:59`}},xle=t=>({start:X$(t.calendarConfig,_n(t.date)),end:K$(t.calendarConfig,_n(t.date))}),J$={name:ks.Week,label:"Week",Component:q$,setDateRange:wle,hasSmallScreenCompat:!1,hasWideScreenCompat:!0,backwardForwardFn:iu,backwardForwardUnits:7},Sle=su(J$),kle=()=>su(J$),Tle=(t,e)=>(t.push({date:ri(e),events:{},backgroundEvents:[]}),t),Ple=(t,e)=>{const{year:n,month:i}=yr(t),s=e.getMonthWithTrailingAndLeadingDays(n,i),r=[];for(const a of s)r.push(a.reduce(Tle,[]));return r};function Cle({gridRow:t,calendarEvent:e,date:n,isFirstWeek:i,isLastWeek:s}){var r,a,o,l,u;const d=An(oi),c=i&&((r=d.calendarState.range.value)===null||r===void 0?void 0:r.start)&&dn(e.start)<dn(d.calendarState.range.value.start),f=s&&((a=d.calendarState.range.value)===null||a===void 0?void 0:a.end)&&dn(e.end)>dn(d.calendarState.range.value.end),{createDragStartTimeout:h,setClickedEventIfNotDragging:p,setClickedEvent:g}=iw(d),v=dn(e.start)===n,_=e._eventFragments[n],b={borderLeft:v?`4px solid var(--sx-color-${e._color})`:void 0,color:`var(--sx-color-on-${e._color}-container)`,backgroundColor:`var(--sx-color-${e._color}-container)`,width:`calc(${_*100+"%"} + ${_}px - 10px)`},x=C=>{var D;Xg(C)&&C.preventDefault(),C.target&&(!d.config.plugins.dragAndDrop||!((D=e._options)===null||D===void 0)&&D.disableDND||d.config.plugins.dragAndDrop.createMonthGridDragHandler(e,d))},k=d.config._customComponentFns.monthGridEvent,I=k?"custom-month-grid-event-"+Ms():void 0;kn(()=>{k&&k(mo(I),{calendarEvent:e._getExternalEvent(),hasStartDate:v})},[e]);const E=C=>{C.stopPropagation(),jl(d,e)},T=C=>{C.stopPropagation(),sw(d,e)},S=C=>{(C.key==="Enter"||C.key===" ")&&(C.stopPropagation(),g(C,e),jl(d,e),Ym(()=>{rw(d)}))},w=["sx__event","sx__month-grid-event","sx__month-grid-cell"];!((o=e._options)===null||o===void 0)&&o.additionalClasses&&w.push(...e._options.additionalClasses),c&&w.push("sx__month-grid-event--overflow-left"),f&&w.push("sx__month-grid-event--overflow-right");const P=(l=e._customContent)===null||l===void 0?void 0:l.monthGrid;return Q("div",{draggable:!!d.config.plugins.dragAndDrop,"data-event-id":e.id,"data-ccid":I,onMouseDown:C=>h(x,C),onMouseUp:C=>p(e,C),onTouchStart:C=>h(x,C),onTouchEnd:C=>p(e,C),onClick:E,onDblClick:T,onKeyDown:S,className:w.join(" "),style:{gridRow:t,width:b.width,padding:k?"0px":void 0,borderLeft:k?void 0:b.borderLeft,color:k?void 0:b.color,backgroundColor:k?void 0:b.backgroundColor},tabIndex:0,role:"button",children:[!k&&!P&&Q(Lt,{children:[Ta.test(e.start)&&Q("div",{className:"sx__month-grid-event-time",children:Pu(e.start,d.config.locale.value)}),Q("div",{className:"sx__month-grid-event-title",children:e.title})]}),P&&Q("div",{dangerouslySetInnerHTML:{__html:((u=e._customContent)===null||u===void 0?void 0:u.monthGrid)||""}})]})}function Ele({day:t,isFirstWeek:e,isLastWeek:n}){const i=An(oi),s=Object.values(t.events).filter(E=>typeof E=="object"||E===Wm).length,r=E=>E===1?i.translate("event"):i.translate("events"),a=E=>E===1?i.translate("Link to 1 more event on {{date}}",{date:El(t.date,i.config.locale.value)}):i.translate("Link to {{n}} more events on {{date}}",{date:El(t.date,i.config.locale.value),n:s-i.config.monthGridOptions.value.nEventsPerDay}),o=E=>{E.stopPropagation(),i.config.callbacks.onClickPlusEvents&&i.config.callbacks.onClickPlusEvents(t.date),i.config.views.value.find(T=>T.name===ks.Day)&&setTimeout(()=>{i.datePickerState.selectedDate.value=t.date,i.calendarState.setView(ks.Day,t.date)},250)},l=["sx__month-grid-day__header-date"],u=_n(t.date),d=u;jP(d)&&l.push("sx__is-today");const{month:c}=yr(i.datePickerState.selectedDate.value),{month:f}=yr(t.date),h=["sx__month-grid-day",aw(u.getDay())],[p,g]=Rt(h);kn(()=>{const E=[...h];f!==c&&E.push("is-leading-or-trailing"),i.datePickerState.selectedDate.value===t.date&&E.push("is-selected"),g(E)},[i.datePickerState.selectedDate.value]);const _=Object.values(t.events).slice(i.config.monthGridOptions.value.nEventsPerDay).filter(E=>E===Wm||typeof E=="object").length,b=t.date+" 00:00",x=t.date+" 23:59",k=t.backgroundEvents.find(E=>{const T=Ss.test(E.start)?E.start+" 00:00":E.start,S=Ss.test(E.end)?E.end+" 23:59":E.end;return T<=b&&S>=x}),I=E=>{if(!E.target.classList.contains("sx__month-grid-day"))return;const S=i.config.callbacks.onMouseDownMonthGridDate;S&&S(t.date,E)};return Q("div",{className:p.join(" "),"data-date":t.date,onClick:()=>i.config.callbacks.onClickDate&&i.config.callbacks.onClickDate(t.date),"aria-label":El(t.date,i.config.locale.value),onDblClick:()=>{var E,T;return(T=(E=i.config.callbacks).onDoubleClickDate)===null||T===void 0?void 0:T.call(E,t.date)},onMouseDown:I,children:[k&&Q(Lt,{children:Q("div",{className:"sx__month-grid-background-event",title:k.title,style:{...k.style}})}),Q("div",{className:"sx__month-grid-day__header",children:[e?Q("div",{className:"sx__month-grid-day__header-day-name",children:BP(d,i.config.locale.value)}):null,Q("div",{className:l.join(" "),children:d.getDate()})]}),Q("div",{className:"sx__month-grid-day__events",children:Object.values(t.events).slice(0,i.config.monthGridOptions.value.nEventsPerDay).map((E,T)=>typeof E!="object"?Q("div",{className:"sx__month-grid-blocker sx__month-grid-cell",style:{gridRow:T+1}}):Q(Cle,{gridRow:T+1,calendarEvent:E,date:t.date,isFirstWeek:e,isLastWeek:n}))}),_>0?Q("button",{type:"button",className:"sx__month-grid-day__events-more sx__ripple--wide","aria-label":a(_),onClick:o,children:`+ ${_} ${r(_)}`}):null]})}function Ile({week:t,isFirstWeek:e,isLastWeek:n}){return Q("div",{className:"sx__month-grid-week",children:t.map(i=>{const s=i.date;return Q(Ele,{day:i,isFirstWeek:e,isLastWeek:n},s)})})}const Dle=(t,e)=>{const n=Object.keys(e).sort(),i=n[0],s=n[n.length-1],r=new Set;for(const a of t){const o=dn(a.start),l=dn(a.end),u=!!e[o];let d=u;if(!u&&o<i&&l>=i&&(d=!0),!d)continue;const c=u?o:i,f=l<=s?l:s,h=Object.values(e).filter(v=>v.date>=c&&v.date<=f);let p,g=0;for(;p===void 0;)h.every(_=>!_.events[g])?(p=g,r.add(g)):g++;for(const[v,_]of h.entries())v===0?(a._eventFragments[c]=h.length,_.events[p]=a):_.events[p]=Wm}for(const a of Array.from(r))for(const[,o]of Object.entries(e))o.events[a]||(o.events[a]=void 0);return e},Ale=(t,e)=>{const n=[];return t.forEach(i=>{const s={};i.forEach(r=>s[r.date]=r),n.push(s)}),n.forEach(i=>Dle(e,i)),t},Rle=({$app:t,id:e})=>{const[n,i]=Rt([]);return na(()=>{t.calendarEvents.list.value.forEach(a=>{a._eventFragments={}});const s=Ple(t.datePickerState.selectedDate.value,t.timeUnitsImpl);s.forEach(a=>{a.forEach(o=>{o.backgroundEvents=G$(t.calendarEvents.backgroundEvents.value,{start:o.date,end:o.date})})});const r=t.calendarEvents.filterPredicate.value?t.calendarEvents.list.value.filter(t.calendarEvents.filterPredicate.value):t.calendarEvents.list.value;i(Ale(s,r.sort(lle)))}),Q(oi.Provider,{value:t,children:Q("div",{id:e,className:"sx__month-grid-wrapper",children:n.map((s,r)=>Q(Ile,{week:s,isFirstWeek:r===0,isLastWeek:r===n.length-1},r))})})},Z$={name:ks.MonthGrid,label:"Month",setDateRange:Q$,Component:Rle,hasWideScreenCompat:!0,hasSmallScreenCompat:!1,backwardForwardFn:nw,backwardForwardUnits:1};su(Z$);const Ole=()=>su(Z$),Mle=({$app:t,id:e})=>Q(q$,{$app:t,id:e}),e4={name:ks.Day,label:"Day",setDateRange:xle,hasWideScreenCompat:!0,hasSmallScreenCompat:!0,Component:Mle,backwardForwardFn:iu,backwardForwardUnits:1};su(e4);const t4=()=>su(e4),Vle=(t,e)=>{const{year:n,month:i}=yr(t);return{weeks:e.getMonthWithTrailingAndLeadingDays(n,i).map(r=>r.map(a=>({date:ri(a),events:[]})))}};function Lle({day:t,isActive:e,setActiveDate:n}){const i=An(oi),{month:s}=yr(i.datePickerState.selectedDate.value),{month:r}=yr(t.date),a=_n(t.date),o=["sx__month-agenda-day",aw(a.getDay())];e&&o.push("sx__month-agenda-day--active"),r!==s&&o.push("is-leading-or-trailing");const l=(h,p)=>{n(t.date),p&&p(t.date)},u=h=>h.date===i.datePickerState.selectedDate.value,d=h=>{const p=new Map([["ArrowDown",7],["ArrowUp",-7],["ArrowLeft",-1],["ArrowRight",1]]);i.datePickerState.selectedDate.value=iu(i.datePickerState.selectedDate.value,p.get(h.key)||0)},c=!!(i.config.minDate.value&&t.date<i.config.minDate.value),f=!!(i.config.maxDate.value&&t.date>i.config.maxDate.value);return Q("button",{type:"button",className:o.join(" "),onClick:h=>l(h,i.config.callbacks.onClickAgendaDate),onDblClick:h=>l(h,i.config.callbacks.onDoubleClickAgendaDate),disabled:c||f,"aria-label":El(t.date,i.config.locale.value),tabIndex:u(t)?0:-1,"data-agenda-focus":u(t)?"true":void 0,onKeyDown:d,children:[Q("div",{children:a.getDate()}),Q("div",{className:"sx__month-agenda-day__event-icons",children:t.events.slice(0,3).map(h=>Q("div",{style:{backgroundColor:`var(--sx-color-${h._color})`,filter:"brightness(1.6)"},className:"sx__month-agenda-day__event-icon"}))})]})}function Nle({week:t,setActiveDate:e,activeDate:n}){return Q("div",{className:"sx__month-agenda-week",children:t.map((i,s)=>Q(Lle,{setActiveDate:e,day:i,isActive:n===i.date},s+i.date))})}function Fle({week:t}){const e=An(oi),n=D$(t.map(i=>_n(i.date)),e.config.locale.value);return Q("div",{className:"sx__month-agenda-day-names",children:n.map(i=>Q("div",{className:"sx__month-agenda-day-name",children:i}))})}const Ble=(t,e)=>{let n=t;const i=[n];for(;n<e;)n=iu(n,1),i.push(n);return i},jle=t=>e=>{Ble(dn(e.start),dn(e.end)).forEach(n=>{t[n]&&t[n].events.push(e)})},$le=(t,e)=>{const n=t.weeks.reduce((i,s)=>(s.forEach(r=>{i[r.date]=r}),i),{});return e.forEach(jle(n)),t};function Ule({calendarEvent:t}){var e,n;const i=An(oi),{setClickedEvent:s}=iw(i),r={backgroundColor:`var(--sx-color-${t._color}-container)`,color:`var(--sx-color-on-${t._color}-container)`,borderLeft:`4px solid var(--sx-color-${t._color})`},a=i.config._customComponentFns.monthAgendaEvent,o=a?"custom-month-agenda-event-"+t.id:void 0;kn(()=>{a&&a(mo(o),{calendarEvent:t._getExternalEvent()})},[t]);const l=f=>{s(f,t),jl(i,t)},u=f=>{s(f,t),sw(i,t)},d=f=>{(f.key==="Enter"||f.key===" ")&&(f.stopPropagation(),s(f,t),jl(i,t),Ym(()=>{rw(i)}))},c=(e=t._customContent)===null||e===void 0?void 0:e.monthAgenda;return Q("div",{className:"sx__event sx__month-agenda-event","data-ccid":o,"data-event-id":t.id,style:{backgroundColor:a?void 0:r.backgroundColor,color:a?void 0:r.color,borderLeft:a?void 0:r.borderLeft,padding:a?"0px":void 0},onClick:f=>l(f),onDblClick:f=>u(f),onKeyDown:d,tabIndex:0,role:"button",children:[!a&&!c&&Q(Lt,{children:[Q("div",{className:"sx__month-agenda-event__title",children:t.title}),Q("div",{className:"sx__month-agenda-event__time sx__month-agenda-event__has-icon",children:[Q(R$,{strokeColor:`var(--sx-color-on-${t._color}-container)`}),Q("div",{dangerouslySetInnerHTML:{__html:V$(t,i.config.locale.value)}})]})]}),c&&Q("div",{dangerouslySetInnerHTML:{__html:((n=t._customContent)===null||n===void 0?void 0:n.monthAgenda)||""}})]})}function Hle({events:t}){const e=An(oi);return Q("div",{className:"sx__month-agenda-events",children:t.length?t.map(n=>Q(Ule,{calendarEvent:n},n.id)):Q("div",{className:"sx__month-agenda-events__empty",children:e.translate("No events")})})}const zle=({$app:t,id:e})=>{var n;const i=()=>{const a=t.calendarEvents.filterPredicate.value?t.calendarEvents.list.value.filter(t.calendarEvents.filterPredicate.value):t.calendarEvents.list.value;return $le(Vle(t.datePickerState.selectedDate.value,t.timeUnitsImpl),a.sort(HP))},[s,r]=Rt(i());return kn(()=>{r(i())},[t.datePickerState.selectedDate.value,t.calendarEvents.list.value,t.calendarEvents.filterPredicate.value]),kn(()=>{const a=new MutationObserver(l=>{l.forEach(u=>{const d=u.target;d.dataset.agendaFocus==="true"&&d.focus()})}),o=document.getElementById(e);return a.observe(o,{childList:!0,subtree:!0,attributes:!0}),()=>a.disconnect()},[]),Q(oi.Provider,{value:t,children:Q("div",{id:e,className:"sx__month-agenda-wrapper",children:[Q(Fle,{week:s.weeks[0]}),Q("div",{className:"sx__month-agenda-weeks",children:s.weeks.map((a,o)=>Q(Nle,{week:a,setActiveDate:l=>t.datePickerState.selectedDate.value=l,activeDate:t.datePickerState.selectedDate.value},o))}),Q(Hle,{events:((n=s.weeks.flat().find(a=>a.date===t.datePickerState.selectedDate.value))===null||n===void 0?void 0:n.events)||[]},t.datePickerState.selectedDate.value)]})})},n4={name:ks.MonthAgenda,label:"Month",setDateRange:Q$,Component:zle,hasSmallScreenCompat:!0,hasWideScreenCompat:!1,backwardForwardFn:nw,backwardForwardUnits:1};su(n4);const Wle=()=>su(n4),Vs=["Domenica","Lunedì","Martedì","Mercoledì","Giovedì","Venerdì","Sabato"],pO=["Gennaio","Febbraio","Marzo","Aprile","Maggio","Giugno","Luglio","Agosto","Settembre","Ottobre","Novembre","Dicembre"],Nv=[{name:"Recuperi",icon:"mdi-abacus",color:"blue",type:"recovery"},{name:"Spostate",icon:"mdi-account-box",color:"green",type:"moved"},{name:"Settimanali",icon:"mdi-ab-testing",color:"purple",type:"weekly"},{name:"Giornaliere",icon:"mdi-account",color:"yellow",type:"daily"}],Fv=[{name:"Normale",icon:"mdi-account",color:"green",type:"normal"},{name:"Supplenza",icon:"mdi-account-box",color:"blue",type:"substistution"}];class $t{constructor(e=0,n=0,i=0){this.hour=e,this.minutes=n,this.seconds=i}static fromITime(e){const n=Math.trunc(e/3600),i=Math.trunc((e-n*3600)/60),s=e-(n*3600+i*60);return new $t(n,i,s)}static fromHHMM(e){try{const n=e.split(":");if(n.length!=2)return;const i=parseInt(n[0]),s=parseInt(n[1]);return new $t(i,s)}catch{return}}getTotalMinutes(){return this.hour*60+this.minutes}toITime(){return this.hour*3600+this.minutes*60+this.seconds}setSeconds(e){this.seconds=e}add(e){return this.hour+=e.hour??0,this.minutes+=e.minutes??0,this.seconds+=e.seconds??0,this}format(){const e=this.hour.toString().padStart(2,"0")||"00",n=this.minutes.toString().padStart(2,"0")||"00",i=this.seconds.toString().padStart(2,"0");return this.seconds!=0?`${e}:${n}:${i}`:`${e}:${n}`}}class rt{constructor(e,n,i){this.day=e,this.month=n,this.year=i}static today(){return this.fromDate(new Date)}static fromIyyyyMMdd(e){if(e.length!=8)throw new Error("Unable to parse date, format not correct (yyyyMMdd): "+e);const n=parseInt(e.substring(0,4)),i=parseInt(e.substring(4,6)),s=parseInt(e.substring(6,8));return new rt(s,i,n)}toIyyyyMMdd(e="",n=0){return`${this.year.toString().padStart(4,"0")}${e}${(this.month+n).toString().padStart(2,"0")}${e}${this.day.toString().padStart(2,"0")}`}static fromDate(e){const n=e.getFullYear(),i=e.getMonth(),s=e.getDate();return new rt(s,i,n)}toDate(){return new Date(this.year,this.month,this.day)}format(){return ch(this.toDate())}getDayString(e){const n=this.toDate(),i=Vs[n.getDay()].toUpperCase();return e?i.slice(0,e):i}formatAndPreappendDay(e){const n=this.toDate(),i=Vs[n.getDay()].toUpperCase();return(e?i.slice(0,e):i)+" "+ch(n)}equals(e){return this.day==e.day&&this.month==e.month&&this.year==e.year}getYear(){return this.year}getMonth(){return this.month}getDay(){return this.day}}var Gm=(t=>(t[t.ABSENT_AND_PRESENT=0]="ABSENT_AND_PRESENT",t[t.ONLY_PRESENT=1]="ONLY_PRESENT",t))(Gm||{}),Fd=(t=>(t[t.WHOLE=0]="WHOLE",t[t.HALF=1]="HALF",t[t.NOTHING=2]="NOTHING",t))(Fd||{}),Mt=(t=>(t[t.NONE=0]="NONE",t[t.PRESENT=1]="PRESENT",t[t.ABSENT=2]="ABSENT",t[t.UNJUSTIFIED_ABSENCE=3]="UNJUSTIFIED_ABSENCE",t[t.TRIAL=4]="TRIAL",t))(Mt||{});const Yle={unset:"Lezioni di Recupero da Programmare",pending:"Lezioni di Recupero Programmate",done:"Lezioni di Recupero Completate"},Ln=t=>t,Z_=function(t){return t?new At(t.seconds,t.nanoseconds).toDate():new Date},vO=function(t,e){const n=t.getDay();if(e==n)return t;const i=(e-n+7)%7||7,s=new Date(t);return s.setDate(t.getDate()+i),s},Gle=function(t,e){const n=t.getDay();if(e==n)return t;const i=7-((e-n+7)%7||7),s=new Date(t);return s.setDate(t.getDate()-i),s},qle=function(t){return rt.fromIyyyyMMdd(t).toDate().getDay()},Xle=new Intl.DateTimeFormat("it-IT",{year:"numeric",month:"2-digit",day:"2-digit",timeZone:"Europe/Rome"}),ch=function(t){if(!t)return"";const e=new Date(t);return Xle.format(e)},Kle=new Intl.DateTimeFormat("it-IT",{timeStyle:"medium",dateStyle:"short",timeZone:"Europe/Rome"}),i4=function(t){if(!t)return"";const e=new Date(t);return Kle.format(e)},Qle=function(t,e){if(t.length!==e.length)return!1;const n=[...t].sort(),i=[...e].sort();return n.every((s,r)=>s===i[r])},Jle=function(t,e=30,n=80){let i=0;for(let r=0;r<t.length;r++)i=t.charCodeAt(r)+((i<<5)-i);return"hsl("+i%360+", "+e+"%, "+n+"%)"},s4=function(...t){const e={};return t.forEach(n=>{if(n&&n.color){const i=n.id.toLowerCase(),s=ot(n.color),r=s.lighten(20).toHexString(),a=s.isDark()?"#FFFFFF":"#000000",o=s.darken(15).toHexString(),l=s.darken(25).toHexString(),u=s.isDark()?"#FFFFFF":"#000000";e[i]={colorName:i,lightColors:{main:s.toHexString(),container:r,onContainer:a},darkColors:{main:o,container:l,onContainer:u}}}}),e},K0="1.3.1",Zle="https://raw.githubusercontent.com/Matteo099/teachers-agenda/main/package.json";function _O(t){const e=/^(\d+)\.(\d+)\.(\d+)(?:-([0-9A-Za-z-.]+))?$/,n=t.match(e);if(!n)throw new Error(`Invalid semantic version: ${t}`);return{major:parseInt(n[1],10),minor:parseInt(n[2],10),patch:parseInt(n[3],10),preRelease:n[4]||null}}function eue(t,e){const n=_O(t),i=_O(e);return i.major>n.major?!0:i.major<n.major?!1:i.minor>n.minor?!0:i.minor<n.minor?!1:i.patch>n.patch?!0:i.patch<n.patch||n.preRelease===null&&i.preRelease!==null?!1:n.preRelease!==null&&i.preRelease===null?!0:n.preRelease!==null&&i.preRelease!==null?n.preRelease<i.preRelease:!1}async function tue(){try{const t=await fetch(Zle,{cache:"no-store"});if(!t.ok)return console.error("Failed to fetch package.json:",t.statusText),!1;const n=(await t.json()).version;if(eue(K0,n))return console.log(`New version detected: ${n} (local: ${K0})`),!0;console.log(`Version is up-to-date (local: ${K0}, remote ${n})`)}catch(t){console.error("Error checking for app version:",t)}return!1}const nue={class:"d-flex justify-center w-100"},iue={key:1,class:"text-h7"},sue={class:"mx-auto text-center"},rue={key:0},aue={key:1,class:"text-h7"},oue={class:"text-caption mt-1"},lue=kt({__name:"App",setup(t){const{mobile:e}=Sr({mobileBreakpoint:"md"}),n=G(1),i=O(()=>{switch(n.value){case 0:return"blue-grey";case 1:return"teal";case 2:return"brown";case 3:return"indigo";default:return"blue-grey"}}),s=[],r=sj(),a=Gg(),o=new URL("/teachers-agenda/assets/logo-CDaN8MiQ.png",import.meta.url).href,l=G(!1),u="1.3.1",d=O(()=>g.name=="login"),c=G(!1),f={text:`Versione ${u}`,scrollStrategy:"close",location:"bottom",scrim:!0,persistent:!1,openOnClick:!0,openOnHover:!1},h=vN(),p=Oc(),g=Wg(),v=O(()=>{var I,E;return((E=(I=h.value)==null?void 0:I.displayName)==null?void 0:E.split(" ").map(T=>T.charAt(0)).join(""))??"TA"}),_=O(()=>{var I;return((I=h.value)==null?void 0:I.photoURL)??o}),b=O(()=>Jle(v.value));we(c,()=>{c.value&&(s.push("Scarica la nuova versione dell'applicazione"),Ze.info("Scarica la nuova versione dell'applicazione",{autoClose:!1,closeOnClick:!0}))}),we(h,async(I,E)=>{if(!I&&g.meta.requiresAuth&&g.name!="login")return p.push({name:"login"});if(I){if(typeof g.query.redirect=="string")return p.push(g.query.redirect);if(g.name=="login")return p.push("/")}});function x(){const I=Qs.getItem("theme")??"myCustomLightTheme";a.global.name.value=I=="myCustomDarkTheme"?"myCustomLightTheme":"myCustomDarkTheme",Qs.setItem("theme",a.global.name.value)}async function k(){c.value=await tue()}return Tt(async()=>{a.global.name.value=Qs.getItem("theme")??"myCustomLightTheme",k()}),(I,E)=>{const T=j("v-img"),S=j("v-list-item-title"),w=j("v-list-item-subtitle"),P=j("v-list-item"),C=j("v-divider"),D=j("v-icon"),A=j("v-list"),N=j("v-footer"),B=j("v-navigation-drawer"),z=j("v-app-bar-nav-icon"),q=j("v-app-bar-title"),W=j("v-btn"),K=j("v-badge"),Y=j("v-menu"),Z=j("v-avatar"),ee=j("v-fab-transition"),le=j("v-card-text"),de=j("v-card"),he=j("v-app-bar"),re=j("v-slide-x-transition"),U=j("router-view"),X=j("v-container"),ae=j("v-main"),pe=j("v-bottom-navigation"),ve=j("v-layout"),F=j("v-app"),L=nr("tooltip");return be(),De(F,null,{default:M(()=>[!d.value&&!se(e)?(be(),De(B,{key:0,permanent:"",modelValue:l.value,"onUpdate:modelValue":E[0]||(E[0]=$=>l.value=$)},{append:M(()=>[m(N,{height:"45",class:"px-0"},{default:M(()=>[Me("div",nue,[m(D,{start:""},{default:M(()=>E[9]||(E[9]=[Pe("mdi-alpha-v-circle")])),_:1}),Me("span",null,at(se(u)),1)])]),_:1})]),default:M(()=>[m(P,{height:"64"},{prepend:M(()=>[m(T,{contain:"",src:se(o),height:"45",width:"45"},null,8,["src"])]),default:M(()=>[m(S,{class:"text-h6 ml-3"},{default:M(()=>E[4]||(E[4]=[Pe("Agenda")])),_:1}),m(w,{class:"text-h6 ml-3 pb-1"},{default:M(()=>E[5]||(E[5]=[Pe("Del Maestro")])),_:1})]),_:1}),m(C),m(A,{dense:"",nav:""},{default:M(()=>[m(P,{to:"/",color:"lime-darken-4"},{prepend:M(()=>[m(D,{icon:"mdi-home"})]),default:M(()=>[m(S,null,{default:M(()=>E[6]||(E[6]=[Pe("Home")])),_:1})]),_:1}),m(P,{to:"/calendar",color:"lime-darken-4"},{prepend:M(()=>[m(D,{icon:"mdi-calendar"})]),default:M(()=>[m(S,null,{default:M(()=>E[7]||(E[7]=[Pe("Calendario")])),_:1})]),_:1}),m(P,{to:"/statistics",color:"lime-darken-4"},{prepend:M(()=>[m(D,{icon:"mdi-chart-bar"})]),default:M(()=>[m(S,null,{default:M(()=>E[8]||(E[8]=[Pe("Statistiche")])),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])):Wt("",!0),m(he,{color:"grey-darken-4"},{default:M(()=>[!d.value&&!se(e)?(be(),De(z,{key:0,onClick:E[1]||(E[1]=$=>l.value=!l.value)})):Wt("",!0),m(q,{style:{"margin-left":"-10px"}}),se(e)?In((be(),De(W,{key:1,icon:"",class:"mr-2"},{default:M(()=>[m(D,{right:""},{default:M(()=>E[10]||(E[10]=[Pe("mdi-information")])),_:1})]),_:1})),[[L,f]]):Wt("",!0),m(W,{onClick:x,icon:"",class:"mr-2"},{default:M(()=>[m(D,{right:""},{default:M(()=>E[11]||(E[11]=[Pe("mdi-theme-light-dark")])),_:1})]),_:1}),m(Y,{transition:"slide-y-transition"},{activator:M(({props:$})=>[m(W,J({icon:"",class:"mr-2 text-none"},$),{default:M(()=>[s.length>0?(be(),De(K,{key:0,color:"error",content:s.length},{default:M(()=>[m(D,null,{default:M(()=>E[12]||(E[12]=[Pe("mdi-bell")])),_:1})]),_:1},8,["content"])):(be(),De(D,{key:1},{default:M(()=>E[13]||(E[13]=[Pe("mdi-bell")])),_:1}))]),_:2},1040)]),default:M(()=>[m(A,null,{default:M(()=>[(be(),bt(Ee,null,xi(s,($,ne)=>m(P,{key:ne},{default:M(()=>[m(w,null,{default:M(()=>[Pe(at($),1)]),_:2},1024)]),_:2},1024)),64)),s.length==0?(be(),De(P,{key:0},{default:M(()=>[m(w,null,{default:M(()=>E[14]||(E[14]=[Pe("Nessuna notifica")])),_:1})]),_:1})):Wt("",!0)]),_:1})]),_:1}),m(Y,{"min-width":"200px",class:"mr-2",rounded:""},{activator:M(({props:$})=>[m(W,J({class:"mr-2",icon:""},$),{default:M(()=>[m(Z,{color:b.value},{default:M(()=>[_.value?(be(),De(T,{key:0,src:_.value},null,8,["src"])):(be(),bt("span",iue,at(v.value),1))]),_:1},8,["color"])]),_:2},1040)]),default:M(()=>[m(de,null,{default:M(()=>[m(le,null,{default:M(()=>[Me("div",sue,[se(h)?(be(),bt("div",rue,[m(Z,{color:b.value},{default:M(()=>[_.value?(be(),De(T,{key:0,src:_.value},null,8,["src"])):(be(),bt("span",aue,at(v.value),1))]),_:1},8,["color"]),Me("h3",null,at(se(h).displayName),1),Me("p",oue,at(se(h).email),1),m(C,{class:"my-3"}),m(W,{variant:"text",rounded:"",to:"/settings"},{default:M(()=>[m(D,{right:"",class:"mr-2"},{default:M(()=>E[15]||(E[15]=[Pe("mdi-cog")])),_:1}),E[16]||(E[16]=Pe(" Impostazioni "))]),_:1}),E[19]||(E[19]=Me("br",null,null,-1)),m(W,{variant:"text",rounded:"",to:"/debugger"},{default:M(()=>[m(D,{right:"",class:"mr-2"},{default:M(()=>E[17]||(E[17]=[Pe("mdi-bug")])),_:1}),E[18]||(E[18]=Pe(" Debugger "))]),_:1}),m(C,{class:"my-3"})])):Wt("",!0),m(ee,null,{default:M(()=>[se(h)?(be(),De(W,{key:1,class:"mx-5",variant:"text",onClick:E[2]||(E[2]=$=>se(T7)(se(r)))},{default:M(()=>[E[23]||(E[23]=Pe(" Esci ")),m(D,{right:"",class:"ml-2"},{default:M(()=>E[22]||(E[22]=[Pe("mdi-logout")])),_:1})]),_:1})):(be(),De(W,{key:0,class:"mx-5",variant:"outlined",to:"/login"},{default:M(()=>[E[21]||(E[21]=Pe(" Accedi ")),m(D,{right:"",class:"ml-2"},{default:M(()=>E[20]||(E[20]=[Pe("mdi-login")])),_:1})]),_:1}))]),_:1})])]),_:1})]),_:1})]),_:1})]),_:1}),m(ae,null,{default:M(()=>[m(X,{fluid:""},{default:M(()=>[m(U,null,{default:M(({Component:$,route:ne})=>[m(re,{"leave-absolute":""},{default:M(()=>[(be(),De(yL($)))]),_:2},1024)]),_:1})]),_:1})]),_:1}),!d.value&&se(e)?(be(),De(ve,{key:1,class:"overflow-visible position-relative",style:{height:"56px"}},{default:M(()=>[m(pe,{class:"position-fixed bottom-0",modelValue:n.value,"onUpdate:modelValue":E[3]||(E[3]=$=>n.value=$),"bg-color":i.value,mode:"shift"},{default:M(()=>[m(W,{to:"/calendar"},{default:M(()=>[m(D,null,{default:M(()=>E[24]||(E[24]=[Pe("mdi-calendar")])),_:1}),E[25]||(E[25]=Me("span",null,"Calendario",-1))]),_:1}),m(W,{to:"/"},{default:M(()=>[m(D,null,{default:M(()=>E[26]||(E[26]=[Pe("mdi-home")])),_:1}),E[27]||(E[27]=Me("span",null,"Home",-1))]),_:1}),m(W,{to:"/statistics"},{default:M(()=>[m(D,null,{default:M(()=>E[28]||(E[28]=[Pe("mdi-chart-bar")])),_:1}),E[29]||(E[29]=Me("span",null,"Statistiche",-1))]),_:1})]),_:1},8,["modelValue","bg-color"])]),_:1})):Wt("",!0)]),_:1})}}}),uue={apiKey:"AIzaSyDhEJoQLDHojsr_VEtB1O9IErI__pShKa8",authDomain:"teachers-agenda.firebaseapp.com",projectId:"teachers-agenda",storageBucket:"teachers-agenda.appspot.com",messagingSenderId:"56057008308",appId:"1:56057008308:web:ca3a75547d1b64ba3087e1",measurementId:"G-KWTDHCXRJ4"},r4="@firebase/installations",zP="0.6.11";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a4=1e4,o4=`w:${zP}`,l4="FIS_v2",cue="https://firebaseinstallations.googleapis.com/v1",due=60*60*1e3,hue="installations",fue="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mue={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},lc=new Jl(hue,fue,mue);function u4(t){return t instanceof Nr&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c4({projectId:t}){return`${cue}/projects/${t}/installations`}function d4(t){return{token:t.token,requestStatus:2,expiresIn:pue(t.expiresIn),creationTime:Date.now()}}async function h4(t,e){const i=(await e.json()).error;return lc.create("request-failed",{requestName:t,serverCode:i.code,serverMessage:i.message,serverStatus:i.status})}function f4({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function gue(t,{refreshToken:e}){const n=f4(t);return n.append("Authorization",vue(e)),n}async function m4(t){const e=await t();return e.status>=500&&e.status<600?t():e}function pue(t){return Number(t.replace("s","000"))}function vue(t){return`${l4} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _ue({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const i=c4(t),s=f4(t),r=e.getImmediate({optional:!0});if(r){const u=await r.getHeartbeatsHeader();u&&s.append("x-firebase-client",u)}const a={fid:n,authVersion:l4,appId:t.appId,sdkVersion:o4},o={method:"POST",headers:s,body:JSON.stringify(a)},l=await m4(()=>fetch(i,o));if(l.ok){const u=await l.json();return{fid:u.fid||n,registrationStatus:2,refreshToken:u.refreshToken,authToken:d4(u.authToken)}}else throw await h4("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g4(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yue(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bue=/^[cdef][\w-]{21}$/,l1="";function wue(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=xue(t);return bue.test(n)?n:l1}catch{return l1}}function xue(t){return yue(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ow(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p4=new Map;function v4(t,e){const n=ow(t);_4(n,e),Sue(n,e)}function _4(t,e){const n=p4.get(t);if(n)for(const i of n)i(e)}function Sue(t,e){const n=kue();n&&n.postMessage({key:t,fid:e}),Tue()}let Nu=null;function kue(){return!Nu&&"BroadcastChannel"in self&&(Nu=new BroadcastChannel("[Firebase] FID Change"),Nu.onmessage=t=>{_4(t.data.key,t.data.fid)}),Nu}function Tue(){p4.size===0&&Nu&&(Nu.close(),Nu=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pue="firebase-installations-database",Cue=1,uc="firebase-installations-store";let Q0=null;function WP(){return Q0||(Q0=k2(Pue,Cue,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(uc)}}})),Q0}async function ey(t,e){const n=ow(t),s=(await WP()).transaction(uc,"readwrite"),r=s.objectStore(uc),a=await r.get(n);return await r.put(e,n),await s.done,(!a||a.fid!==e.fid)&&v4(t,e.fid),e}async function y4(t){const e=ow(t),i=(await WP()).transaction(uc,"readwrite");await i.objectStore(uc).delete(e),await i.done}async function lw(t,e){const n=ow(t),s=(await WP()).transaction(uc,"readwrite"),r=s.objectStore(uc),a=await r.get(n),o=e(a);return o===void 0?await r.delete(n):await r.put(o,n),await s.done,o&&(!a||a.fid!==o.fid)&&v4(t,o.fid),o}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YP(t){let e;const n=await lw(t.appConfig,i=>{const s=Eue(i),r=Iue(t,s);return e=r.registrationPromise,r.installationEntry});return n.fid===l1?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function Eue(t){const e=t||{fid:wue(),registrationStatus:0};return b4(e)}function Iue(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(lc.create("app-offline"));return{installationEntry:e,registrationPromise:s}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},i=Due(t,n);return{installationEntry:n,registrationPromise:i}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:Aue(t)}:{installationEntry:e}}async function Due(t,e){try{const n=await _ue(t,e);return ey(t.appConfig,n)}catch(n){throw u4(n)&&n.customData.serverCode===409?await y4(t.appConfig):await ey(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function Aue(t){let e=await yO(t.appConfig);for(;e.registrationStatus===1;)await g4(100),e=await yO(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:i}=await YP(t);return i||n}return e}function yO(t){return lw(t,e=>{if(!e)throw lc.create("installation-not-found");return b4(e)})}function b4(t){return Rue(t)?{fid:t.fid,registrationStatus:0}:t}function Rue(t){return t.registrationStatus===1&&t.registrationTime+a4<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oue({appConfig:t,heartbeatServiceProvider:e},n){const i=Mue(t,n),s=gue(t,n),r=e.getImmediate({optional:!0});if(r){const u=await r.getHeartbeatsHeader();u&&s.append("x-firebase-client",u)}const a={installation:{sdkVersion:o4,appId:t.appId}},o={method:"POST",headers:s,body:JSON.stringify(a)},l=await m4(()=>fetch(i,o));if(l.ok){const u=await l.json();return d4(u)}else throw await h4("Generate Auth Token",l)}function Mue(t,{fid:e}){return`${c4(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GP(t,e=!1){let n;const i=await lw(t.appConfig,r=>{if(!w4(r))throw lc.create("not-registered");const a=r.authToken;if(!e&&Nue(a))return r;if(a.requestStatus===1)return n=Vue(t,e),r;{if(!navigator.onLine)throw lc.create("app-offline");const o=Bue(r);return n=Lue(t,o),o}});return n?await n:i.authToken}async function Vue(t,e){let n=await bO(t.appConfig);for(;n.authToken.requestStatus===1;)await g4(100),n=await bO(t.appConfig);const i=n.authToken;return i.requestStatus===0?GP(t,e):i}function bO(t){return lw(t,e=>{if(!w4(e))throw lc.create("not-registered");const n=e.authToken;return jue(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function Lue(t,e){try{const n=await Oue(t,e),i=Object.assign(Object.assign({},e),{authToken:n});return await ey(t.appConfig,i),n}catch(n){if(u4(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await y4(t.appConfig);else{const i=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await ey(t.appConfig,i)}throw n}}function w4(t){return t!==void 0&&t.registrationStatus===2}function Nue(t){return t.requestStatus===2&&!Fue(t)}function Fue(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+due}function Bue(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function jue(t){return t.requestStatus===1&&t.requestTime+a4<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $ue(t){const e=t,{installationEntry:n,registrationPromise:i}=await YP(e);return i?i.catch(console.error):GP(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uue(t,e=!1){const n=t;return await Hue(n),(await GP(n,e)).token}async function Hue(t){const{registrationPromise:e}=await YP(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zue(t){if(!t||!t.options)throw J0("App Configuration");if(!t.name)throw J0("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw J0(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function J0(t){return lc.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x4="installations",Wue="installations-internal",Yue=t=>{const e=t.getProvider("app").getImmediate(),n=zue(e),i=Eh(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:i,_delete:()=>Promise.resolve()}},Gue=t=>{const e=t.getProvider("app").getImmediate(),n=Eh(e,x4).getImmediate();return{getId:()=>$ue(n),getToken:s=>Uue(n,s)}};function que(){er(new js(x4,Yue,"PUBLIC")),er(new js(Wue,Gue,"PRIVATE"))}que();is(r4,zP);is(r4,zP,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u1="analytics",Xue="firebase_id",Kue="origin",Que=60*1e3,Jue="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",qP="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zs=new Ch("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zue={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},vr=new Jl("analytics","Analytics",Zue);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ece(t){if(!t.startsWith(qP)){const e=vr.create("invalid-gtag-resource",{gtagURL:t});return Zs.warn(e.message),""}return t}function S4(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function tce(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function nce(t,e){const n=tce("firebase-js-sdk-policy",{createScriptURL:ece}),i=document.createElement("script"),s=`${qP}?l=${t}&id=${e}`;i.src=n?n==null?void 0:n.createScriptURL(s):s,i.async=!0,document.head.appendChild(i)}function ice(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function sce(t,e,n,i,s,r){const a=i[s];try{if(a)await e[a];else{const l=(await S4(n)).find(u=>u.measurementId===s);l&&await e[l.appId]}}catch(o){Zs.error(o)}t("config",s,r)}async function rce(t,e,n,i,s){try{let r=[];if(s&&s.send_to){let a=s.send_to;Array.isArray(a)||(a=[a]);const o=await S4(n);for(const l of a){const u=o.find(c=>c.measurementId===l),d=u&&e[u.appId];if(d)r.push(d);else{r=[];break}}}r.length===0&&(r=Object.values(e)),await Promise.all(r),t("event",i,s||{})}catch(r){Zs.error(r)}}function ace(t,e,n,i){async function s(r,...a){try{if(r==="event"){const[o,l]=a;await rce(t,e,n,o,l)}else if(r==="config"){const[o,l]=a;await sce(t,e,n,i,o,l)}else if(r==="consent"){const[o,l]=a;t("consent",o,l)}else if(r==="get"){const[o,l,u]=a;t("get",o,l,u)}else if(r==="set"){const[o]=a;t("set",o)}else t(r,...a)}catch(o){Zs.error(o)}}return s}function oce(t,e,n,i,s){let r=function(...a){window[i].push(arguments)};return window[s]&&typeof window[s]=="function"&&(r=window[s]),window[s]=ace(r,t,e,n),{gtagCore:r,wrappedGtag:window[s]}}function lce(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(qP)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uce=30,cce=1e3;class dce{constructor(e={},n=cce){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const k4=new dce;function hce(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function fce(t){var e;const{appId:n,apiKey:i}=t,s={method:"GET",headers:hce(i)},r=Jue.replace("{app-id}",n),a=await fetch(r,s);if(a.status!==200&&a.status!==304){let o="";try{const l=await a.json();!((e=l.error)===null||e===void 0)&&e.message&&(o=l.error.message)}catch{}throw vr.create("config-fetch-failed",{httpStatus:a.status,responseMessage:o})}return a.json()}async function mce(t,e=k4,n){const{appId:i,apiKey:s,measurementId:r}=t.options;if(!i)throw vr.create("no-app-id");if(!s){if(r)return{measurementId:r,appId:i};throw vr.create("no-api-key")}const a=e.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},o=new vce;return setTimeout(async()=>{o.abort()},Que),T4({appId:i,apiKey:s,measurementId:r},a,o,e)}async function T4(t,{throttleEndTimeMillis:e,backoffCount:n},i,s=k4){var r;const{appId:a,measurementId:o}=t;try{await gce(i,e)}catch(l){if(o)return Zs.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:a,measurementId:o};throw l}try{const l=await fce(t);return s.deleteThrottleMetadata(a),l}catch(l){const u=l;if(!pce(u)){if(s.deleteThrottleMetadata(a),o)return Zs.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:a,measurementId:o};throw l}const d=Number((r=u==null?void 0:u.customData)===null||r===void 0?void 0:r.httpStatus)===503?MI(n,s.intervalMillis,uce):MI(n,s.intervalMillis),c={throttleEndTimeMillis:Date.now()+d,backoffCount:n+1};return s.setThrottleMetadata(a,c),Zs.debug(`Calling attemptFetch again in ${d} millis`),T4(t,c,i,s)}}function gce(t,e){return new Promise((n,i)=>{const s=Math.max(e-Date.now(),0),r=setTimeout(n,s);t.addEventListener(()=>{clearTimeout(r),i(vr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function pce(t){if(!(t instanceof Nr)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class vce{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function _ce(t,e,n,i,s){if(s&&s.global){t("event",n,i);return}else{const r=await e,a=Object.assign(Object.assign({},i),{send_to:r});t("event",n,a)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yce(){if(Xk())try{await b2()}catch(t){return Zs.warn(vr.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return Zs.warn(vr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function bce(t,e,n,i,s,r,a){var o;const l=mce(t);l.then(h=>{n[h.measurementId]=h.appId,t.options.measurementId&&h.measurementId!==t.options.measurementId&&Zs.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${h.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(h=>Zs.error(h)),e.push(l);const u=yce().then(h=>{if(h)return i.getId()}),[d,c]=await Promise.all([l,u]);lce(r)||nce(r,d.measurementId),s("js",new Date);const f=(o=a==null?void 0:a.config)!==null&&o!==void 0?o:{};return f[Kue]="firebase",f.update=!0,c!=null&&(f[Xue]=c),s("config",d.measurementId,f),d.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wce{constructor(e){this.app=e}_delete(){return delete am[this.app.options.appId],Promise.resolve()}}let am={},wO=[];const xO={};let Z0="dataLayer",xce="gtag",SO,P4,kO=!1;function Sce(){const t=[];if(_2()&&t.push("This is a browser extension environment."),Z8()||t.push("Cookies are not available."),t.length>0){const e=t.map((i,s)=>`(${s+1}) ${i}`).join(" "),n=vr.create("invalid-analytics-context",{errorInfo:e});Zs.warn(n.message)}}function kce(t,e,n){Sce();const i=t.options.appId;if(!i)throw vr.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Zs.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw vr.create("no-api-key");if(am[i]!=null)throw vr.create("already-exists",{id:i});if(!kO){ice(Z0);const{wrappedGtag:r,gtagCore:a}=oce(am,wO,xO,Z0,xce);P4=r,SO=a,kO=!0}return am[i]=bce(t,wO,xO,e,SO,Z0,n),new wce(t)}function Tce(t,e={}){const n=Eh(t,u1);if(n.isInitialized()){const s=n.getImmediate();if(xm(e,n.getOptions()))return s;throw vr.create("already-initialized")}return n.initialize({options:e})}function Pce(t,e,n,i){t=ai(t),_ce(P4,am[t.app.options.appId],e,n,i).catch(s=>Zs.error(s))}const TO="@firebase/analytics",PO="0.10.10";function Cce(){er(new js(u1,(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),s=e.getProvider("installations-internal").getImmediate();return kce(i,s,n)},"PUBLIC")),er(new js("analytics-internal",t,"PRIVATE")),is(TO,PO),is(TO,PO,"esm2017");function t(e){try{const n=e.getProvider(u1).getImmediate();return{logEvent:(i,s,r)=>Pce(n,i,s,r)}}catch(n){throw vr.create("interop-component-reg-failed",{reason:n})}}}Cce();function Ece(t){const e=t||T2(uue),n=OG(e),i=BB(e);return Tce(e),"true".toLowerCase()==="true"&&location.hostname==="localhost"&&(q2(n,"http://localhost:9099"),FB(i,"localhost",8080)),{firebaseApp:e,auth:n,firestore:i}}function Ice(){const t=hY()[0];return Ece(t)}const Dce=new fo,Ace=te({...Be(),...Jj({fullHeight:!0}),...Nt()},"VApp"),Rce=_e()({name:"VApp",props:Ace(),setup(t,e){let{slots:n}=e;const i=Kt(t),{layoutClasses:s,getLayoutItem:r,items:a,layoutRef:o}=e$(t),{rtlClasses:l}=Ti();return xe(()=>{var u;return m("div",{ref:o,class:["v-application",i.themeClasses.value,s.value,l.value,t.class],style:[t.style]},[m("div",{class:"v-application__wrap"},[(u=n.default)==null?void 0:u.call(n)])])}),{getLayoutItem:r,items:a,theme:i}}}),_t=te({tag:{type:String,default:"div"}},"tag"),C4=te({text:String,...Be(),..._t()},"VToolbarTitle"),XP=_e()({name:"VToolbarTitle",props:C4(),setup(t,e){let{slots:n}=e;return xe(()=>{const i=!!(n.default||n.text||t.text);return m(t.tag,{class:["v-toolbar-title",t.class],style:t.style},{default:()=>{var s;return[i&&m("div",{class:"v-toolbar-title__placeholder"},[n.text?n.text():t.text,(s=n.default)==null?void 0:s.call(n)])]}})}),{}}}),Oce=te({disabled:Boolean,group:Boolean,hideOnLeave:Boolean,leaveAbsolute:Boolean,mode:String,origin:String},"transition");function kr(t,e,n){return _e()({name:t,props:Oce({mode:n,origin:e}),setup(i,s){let{slots:r}=s;const a={onBeforeEnter(o){i.origin&&(o.style.transformOrigin=i.origin)},onLeave(o){if(i.leaveAbsolute){const{offsetTop:l,offsetLeft:u,offsetWidth:d,offsetHeight:c}=o;o._transitionInitialStyles={position:o.style.position,top:o.style.top,left:o.style.left,width:o.style.width,height:o.style.height},o.style.position="absolute",o.style.top=`${l}px`,o.style.left=`${u}px`,o.style.width=`${d}px`,o.style.height=`${c}px`}i.hideOnLeave&&o.style.setProperty("display","none","important")},onAfterLeave(o){if(i.leaveAbsolute&&(o!=null&&o._transitionInitialStyles)){const{position:l,top:u,left:d,width:c,height:f}=o._transitionInitialStyles;delete o._transitionInitialStyles,o.style.position=l||"",o.style.top=u||"",o.style.left=d||"",o.style.width=c||"",o.style.height=f||""}}};return()=>{const o=i.group?Yk:Ol;return Ai(o,{name:i.disabled?"":t,css:!i.disabled,...i.group?void 0:{mode:i.mode},...i.disabled?{}:a},r.default)}}})}function E4(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"in-out";return _e()({name:t,props:{mode:{type:String,default:n},disabled:Boolean,group:Boolean},setup(i,s){let{slots:r}=s;const a=i.group?Yk:Ol;return()=>Ai(a,{name:i.disabled?"":t,css:!i.disabled,...i.disabled?{}:e},r.default)}})}function I4(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";const n=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1)?"width":"height",i=Fs(`offset-${n}`);return{onBeforeEnter(a){a._parent=a.parentNode,a._initialStyle={transition:a.style.transition,overflow:a.style.overflow,[n]:a.style[n]}},onEnter(a){const o=a._initialStyle;a.style.setProperty("transition","none","important"),a.style.overflow="hidden";const l=`${a[i]}px`;a.style[n]="0",a.offsetHeight,a.style.transition=o.transition,t&&a._parent&&a._parent.classList.add(t),requestAnimationFrame(()=>{a.style[n]=l})},onAfterEnter:r,onEnterCancelled:r,onLeave(a){a._initialStyle={transition:"",overflow:a.style.overflow,[n]:a.style[n]},a.style.overflow="hidden",a.style[n]=`${a[i]}px`,a.offsetHeight,requestAnimationFrame(()=>a.style[n]="0")},onAfterLeave:s,onLeaveCancelled:s};function s(a){t&&a._parent&&a._parent.classList.remove(t),r(a)}function r(a){const o=a._initialStyle[n];a.style.overflow=a._initialStyle.overflow,o!=null&&(a.style[n]=o),delete a._initialStyle}}const Mce=te({target:[Object,Array]},"v-dialog-transition"),uw=_e()({name:"VDialogTransition",props:Mce(),setup(t,e){let{slots:n}=e;const i={onBeforeEnter(s){s.style.pointerEvents="none",s.style.visibility="hidden"},async onEnter(s,r){var f;await new Promise(h=>requestAnimationFrame(h)),await new Promise(h=>requestAnimationFrame(h)),s.style.visibility="";const{x:a,y:o,sx:l,sy:u,speed:d}=EO(t.target,s),c=Vu(s,[{transform:`translate(${a}px, ${o}px) scale(${l}, ${u})`,opacity:0},{}],{duration:225*d,easing:Yne});(f=CO(s))==null||f.forEach(h=>{Vu(h,[{opacity:0},{opacity:0,offset:.33},{}],{duration:225*2*d,easing:Fm})}),c.finished.then(()=>r())},onAfterEnter(s){s.style.removeProperty("pointer-events")},onBeforeLeave(s){s.style.pointerEvents="none"},async onLeave(s,r){var f;await new Promise(h=>requestAnimationFrame(h));const{x:a,y:o,sx:l,sy:u,speed:d}=EO(t.target,s);Vu(s,[{},{transform:`translate(${a}px, ${o}px) scale(${l}, ${u})`,opacity:0}],{duration:125*d,easing:Gne}).finished.then(()=>r()),(f=CO(s))==null||f.forEach(h=>{Vu(h,[{},{opacity:0,offset:.2},{opacity:0}],{duration:125*2*d,easing:Fm})})},onAfterLeave(s){s.style.removeProperty("pointer-events")}};return()=>t.target?m(Ol,J({name:"dialog-transition"},i,{css:!1}),n):m(Ol,{name:"dialog-transition"},n)}});function CO(t){var n;const e=(n=t.querySelector(":scope > .v-card, :scope > .v-sheet, :scope > .v-list"))==null?void 0:n.children;return e&&[...e]}function EO(t,e){const n=Pj(t),i=kP(e),[s,r]=getComputedStyle(e).transformOrigin.split(" ").map(_=>parseFloat(_)),[a,o]=getComputedStyle(e).getPropertyValue("--v-overlay-anchor-origin").split(" ");let l=n.left+n.width/2;a==="left"||o==="left"?l-=n.width/2:(a==="right"||o==="right")&&(l+=n.width/2);let u=n.top+n.height/2;a==="top"||o==="top"?u-=n.height/2:(a==="bottom"||o==="bottom")&&(u+=n.height/2);const d=n.width/i.width,c=n.height/i.height,f=Math.max(1,d,c),h=d/f||0,p=c/f||0,g=i.width*i.height/(window.innerWidth*window.innerHeight),v=g>.12?Math.min(1.5,(g-.12)*10+1):1;return{x:l-(s+i.left),y:u-(r+i.top),sx:h,sy:p,speed:v}}const Vce=kr("fab-transition","center center","out-in"),Lce=kr("dialog-bottom-transition"),Nce=kr("dialog-top-transition"),qm=kr("fade-transition"),KP=kr("scale-transition"),Fce=kr("scroll-x-transition"),Bce=kr("scroll-x-reverse-transition"),jce=kr("scroll-y-transition"),$ce=kr("scroll-y-reverse-transition"),Uce=kr("slide-x-transition"),Hce=kr("slide-x-reverse-transition"),QP=kr("slide-y-transition"),zce=kr("slide-y-reverse-transition"),cw=E4("expand-transition",I4()),JP=E4("expand-x-transition",I4("",!0)),Wce=te({defaults:Object,disabled:Boolean,reset:[Number,String],root:[Boolean,String],scoped:Boolean},"VDefaultsProvider"),dt=_e(!1)({name:"VDefaultsProvider",props:Wce(),setup(t,e){let{slots:n}=e;const{defaults:i,disabled:s,reset:r,root:a,scoped:o}=Kl(t);return Dn(i,{reset:r,root:a,scoped:o,disabled:s}),()=>{var l;return(l=n.default)==null?void 0:l.call(n)}}}),fi=te({height:[Number,String],maxHeight:[Number,String],maxWidth:[Number,String],minHeight:[Number,String],minWidth:[Number,String],width:[Number,String]},"dimension");function mi(t){return{dimensionStyles:O(()=>{const n={},i=Le(t.height),s=Le(t.maxHeight),r=Le(t.maxWidth),a=Le(t.minHeight),o=Le(t.minWidth),l=Le(t.width);return i!=null&&(n.height=i),s!=null&&(n.maxHeight=s),r!=null&&(n.maxWidth=r),a!=null&&(n.minHeight=a),o!=null&&(n.minWidth=o),l!=null&&(n.width=l),n})}}function Yce(t){return{aspectStyles:O(()=>{const e=Number(t.aspectRatio);return e?{paddingBottom:String(1/e*100)+"%"}:void 0})}}const D4=te({aspectRatio:[String,Number],contentClass:null,inline:Boolean,...Be(),...fi()},"VResponsive"),c1=_e()({name:"VResponsive",props:D4(),setup(t,e){let{slots:n}=e;const{aspectStyles:i}=Yce(t),{dimensionStyles:s}=mi(t);return xe(()=>{var r;return m("div",{class:["v-responsive",{"v-responsive--inline":t.inline},t.class],style:[s.value,t.style]},[m("div",{class:"v-responsive__sizer",style:i.value},null),(r=n.additional)==null?void 0:r.call(n),n.default&&m("div",{class:["v-responsive__content",t.contentClass]},[n.default()])])}),{}}});function ZP(t){return xP(()=>{const e=[],n={};if(t.value.background)if(HS(t.value.background)){if(n.backgroundColor=t.value.background,!t.value.text&&Vne(t.value.background)){const i=Rr(t.value.background);if(i.a==null||i.a===1){const s=Nj(i);n.color=s,n.caretColor=s}}}else e.push(`bg-${t.value.background}`);return t.value.text&&(HS(t.value.text)?(n.color=t.value.text,n.caretColor=t.value.text):e.push(`text-${t.value.text}`)),{colorClasses:e,colorStyles:n}})}function Ui(t,e){const n=O(()=>({text:Ke(t)?t.value:e?t[e]:null})),{colorClasses:i,colorStyles:s}=ZP(n);return{textColorClasses:i,textColorStyles:s}}function rn(t,e){const n=O(()=>({background:Ke(t)?t.value:e?t[e]:null})),{colorClasses:i,colorStyles:s}=ZP(n);return{backgroundColorClasses:i,backgroundColorStyles:s}}const Rn=te({rounded:{type:[Boolean,Number,String],default:void 0},tile:Boolean},"rounded");function qn(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Qa();return{roundedClasses:O(()=>{const i=Ke(t)?t.value:t.rounded,s=Ke(t)?t.value:t.tile,r=[];if(i===!0||i==="")r.push(`${e}--rounded`);else if(typeof i=="string"||i===0)for(const a of String(i).split(" "))r.push(`rounded-${a}`);else(s||i===!1)&&r.push("rounded-0");return r})}}const _a=te({transition:{type:[Boolean,String,Object],default:"fade-transition",validator:t=>t!==!0}},"transition"),Ts=(t,e)=>{let{slots:n}=e;const{transition:i,disabled:s,group:r,...a}=t,{component:o=r?Yk:Ol,...l}=typeof i=="object"?i:{};return Ai(o,J(typeof i=="string"?{name:s?"":i}:l,typeof i=="string"?{}:Object.fromEntries(Object.entries({disabled:s,group:r}).filter(u=>{let[d,c]=u;return c!==void 0})),a),n)};function Gce(t,e){if(!yP)return;const n=e.modifiers||{},i=e.value,{handler:s,options:r}=typeof i=="object"?i:{handler:i,options:{}},a=new IntersectionObserver(function(){var c;let o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],l=arguments.length>1?arguments[1]:void 0;const u=(c=t._observe)==null?void 0:c[e.instance.$.uid];if(!u)return;const d=o.some(f=>f.isIntersecting);s&&(!n.quiet||u.init)&&(!n.once||d||u.init)&&s(d,o,l),d&&n.once?A4(t,e):u.init=!0},r);t._observe=Object(t._observe),t._observe[e.instance.$.uid]={init:!1,observer:a},a.observe(t)}function A4(t,e){var i;const n=(i=t._observe)==null?void 0:i[e.instance.$.uid];n&&(n.observer.unobserve(t),delete t._observe[e.instance.$.uid])}const Kg={mounted:Gce,unmounted:A4},R4=te({absolute:Boolean,alt:String,cover:Boolean,color:String,draggable:{type:[Boolean,String],default:void 0},eager:Boolean,gradient:String,lazySrc:String,options:{type:Object,default:()=>({root:void 0,rootMargin:void 0,threshold:void 0})},sizes:String,src:{type:[String,Object],default:""},crossorigin:String,referrerpolicy:String,srcset:String,position:String,...D4(),...Be(),...Rn(),..._a()},"VImg"),Vo=_e()({name:"VImg",directives:{intersect:Kg},props:R4(),emits:{loadstart:t=>!0,load:t=>!0,error:t=>!0},setup(t,e){let{emit:n,slots:i}=e;const{backgroundColorClasses:s,backgroundColorStyles:r}=rn(ge(t,"color")),{roundedClasses:a}=qn(t),o=Gn("VImg"),l=Ve(""),u=G(),d=Ve(t.eager?"loading":"idle"),c=Ve(),f=Ve(),h=O(()=>t.src&&typeof t.src=="object"?{src:t.src.src,srcset:t.srcset||t.src.srcset,lazySrc:t.lazySrc||t.src.lazySrc,aspect:Number(t.aspectRatio||t.src.aspect||0)}:{src:t.src,srcset:t.srcset,lazySrc:t.lazySrc,aspect:Number(t.aspectRatio||0)}),p=O(()=>h.value.aspect||c.value/f.value||0);we(()=>t.src,()=>{g(d.value!=="idle")}),we(p,(D,A)=>{!D&&A&&u.value&&k(u.value)}),kh(()=>g());function g(D){if(!(t.eager&&D)&&!(yP&&!D&&!t.eager)){if(d.value="loading",h.value.lazySrc){const A=new Image;A.src=h.value.lazySrc,k(A,null)}h.value.src&&vt(()=>{var A;n("loadstart",((A=u.value)==null?void 0:A.currentSrc)||h.value.src),setTimeout(()=>{var N;if(!o.isUnmounted)if((N=u.value)!=null&&N.complete){if(u.value.naturalWidth||_(),d.value==="error")return;p.value||k(u.value,null),d.value==="loading"&&v()}else p.value||k(u.value),b()})})}}function v(){var D;o.isUnmounted||(b(),k(u.value),d.value="loaded",n("load",((D=u.value)==null?void 0:D.currentSrc)||h.value.src))}function _(){var D;o.isUnmounted||(d.value="error",n("error",((D=u.value)==null?void 0:D.currentSrc)||h.value.src))}function b(){const D=u.value;D&&(l.value=D.currentSrc||D.src)}let x=-1;Mi(()=>{clearTimeout(x)});function k(D){let A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:100;const N=()=>{if(clearTimeout(x),o.isUnmounted)return;const{naturalHeight:B,naturalWidth:z}=D;B||z?(c.value=z,f.value=B):!D.complete&&d.value==="loading"&&A!=null?x=window.setTimeout(N,A):(D.currentSrc.endsWith(".svg")||D.currentSrc.startsWith("data:image/svg+xml"))&&(c.value=1,f.value=1)};N()}const I=O(()=>({"v-img__img--cover":t.cover,"v-img__img--contain":!t.cover})),E=()=>{var N;if(!h.value.src||d.value==="idle")return null;const D=m("img",{class:["v-img__img",I.value],style:{objectPosition:t.position},src:h.value.src,srcset:h.value.srcset,alt:t.alt,crossorigin:t.crossorigin,referrerpolicy:t.referrerpolicy,draggable:t.draggable,sizes:t.sizes,ref:u,onLoad:v,onError:_},null),A=(N=i.sources)==null?void 0:N.call(i);return m(Ts,{transition:t.transition,appear:!0},{default:()=>[In(A?m("picture",{class:"v-img__picture"},[A,D]):D,[[va,d.value==="loaded"]])]})},T=()=>m(Ts,{transition:t.transition},{default:()=>[h.value.lazySrc&&d.value!=="loaded"&&m("img",{class:["v-img__img","v-img__img--preload",I.value],style:{objectPosition:t.position},src:h.value.lazySrc,alt:t.alt,crossorigin:t.crossorigin,referrerpolicy:t.referrerpolicy,draggable:t.draggable},null)]}),S=()=>i.placeholder?m(Ts,{transition:t.transition,appear:!0},{default:()=>[(d.value==="loading"||d.value==="error"&&!i.error)&&m("div",{class:"v-img__placeholder"},[i.placeholder()])]}):null,w=()=>i.error?m(Ts,{transition:t.transition,appear:!0},{default:()=>[d.value==="error"&&m("div",{class:"v-img__error"},[i.error()])]}):null,P=()=>t.gradient?m("div",{class:"v-img__gradient",style:{backgroundImage:`linear-gradient(${t.gradient})`}},null):null,C=Ve(!1);{const D=we(p,A=>{A&&(requestAnimationFrame(()=>{requestAnimationFrame(()=>{C.value=!0})}),D())})}return xe(()=>{const D=c1.filterProps(t);return In(m(c1,J({class:["v-img",{"v-img--absolute":t.absolute,"v-img--booting":!C.value},s.value,a.value,t.class],style:[{width:Le(t.width==="auto"?c.value:t.width)},r.value,t.style]},D,{aspectRatio:p.value,"aria-label":t.alt,role:t.alt?"img":void 0}),{additional:()=>m(Ee,null,[m(E,null,null),m(T,null,null),m(P,null,null),m(S,null,null),m(w,null,null)]),default:i.default}),[[nr("intersect"),{handler:g,options:t.options},null,{once:!0}]])}),{currentSrc:l,image:u,state:d,naturalWidth:c,naturalHeight:f}}}),ir=te({border:[Boolean,Number,String]},"border");function Tr(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Qa();return{borderClasses:O(()=>{const i=Ke(t)?t.value:t.border,s=[];if(i===!0||i==="")s.push(`${e}--border`);else if(typeof i=="string"||i===0)for(const r of String(i).split(" "))s.push(`border-${r}`);return s})}}const Pi=te({elevation:{type:[Number,String],validator(t){const e=parseInt(t);return!isNaN(e)&&e>=0&&e<=24}}},"elevation");function Wi(t){return{elevationClasses:O(()=>{const n=Ke(t)?t.value:t.elevation,i=[];return n==null||i.push(`elevation-${n}`),i})}}const qce=[null,"prominent","default","comfortable","compact"],O4=te({absolute:Boolean,collapse:Boolean,color:String,density:{type:String,default:"default",validator:t=>qce.includes(t)},extended:Boolean,extensionHeight:{type:[Number,String],default:48},flat:Boolean,floating:Boolean,height:{type:[Number,String],default:64},image:String,title:String,...ir(),...Be(),...Pi(),...Rn(),..._t({tag:"header"}),...Nt()},"VToolbar"),d1=_e()({name:"VToolbar",props:O4(),setup(t,e){var h;let{slots:n}=e;const{backgroundColorClasses:i,backgroundColorStyles:s}=rn(ge(t,"color")),{borderClasses:r}=Tr(t),{elevationClasses:a}=Wi(t),{roundedClasses:o}=qn(t),{themeClasses:l}=Kt(t),{rtlClasses:u}=Ti(),d=Ve(!!(t.extended||(h=n.extension)!=null&&h.call(n))),c=O(()=>parseInt(Number(t.height)+(t.density==="prominent"?Number(t.height):0)-(t.density==="comfortable"?8:0)-(t.density==="compact"?16:0),10)),f=O(()=>d.value?parseInt(Number(t.extensionHeight)+(t.density==="prominent"?Number(t.extensionHeight):0)-(t.density==="comfortable"?4:0)-(t.density==="compact"?8:0),10):0);return Dn({VBtn:{variant:"text"}}),xe(()=>{var _;const p=!!(t.title||n.title),g=!!(n.image||t.image),v=(_=n.extension)==null?void 0:_.call(n);return d.value=!!(t.extended||v),m(t.tag,{class:["v-toolbar",{"v-toolbar--absolute":t.absolute,"v-toolbar--collapse":t.collapse,"v-toolbar--flat":t.flat,"v-toolbar--floating":t.floating,[`v-toolbar--density-${t.density}`]:!0},i.value,r.value,a.value,o.value,l.value,u.value,t.class],style:[s.value,t.style]},{default:()=>[g&&m("div",{key:"image",class:"v-toolbar__image"},[n.image?m(dt,{key:"image-defaults",disabled:!t.image,defaults:{VImg:{cover:!0,src:t.image}}},n.image):m(Vo,{key:"image-img",cover:!0,src:t.image},null)]),m(dt,{defaults:{VTabs:{height:Le(c.value)}}},{default:()=>{var b,x,k;return[m("div",{class:"v-toolbar__content",style:{height:Le(c.value)}},[n.prepend&&m("div",{class:"v-toolbar__prepend"},[(b=n.prepend)==null?void 0:b.call(n)]),p&&m(XP,{key:"title",text:t.title},{text:n.title}),(x=n.default)==null?void 0:x.call(n),n.append&&m("div",{class:"v-toolbar__append"},[(k=n.append)==null?void 0:k.call(n)])])]}}),m(dt,{defaults:{VTabs:{height:Le(f.value)}}},{default:()=>[m(cw,null,{default:()=>[d.value&&m("div",{class:"v-toolbar__extension",style:{height:Le(f.value)}},[v])]})]})]})}),{contentHeight:c,extensionHeight:f}}}),Xce=te({scrollTarget:{type:String},scrollThreshold:{type:[String,Number],default:300}},"scroll");function Kce(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{canScroll:n}=e;let i=0,s=0;const r=G(null),a=Ve(0),o=Ve(0),l=Ve(0),u=Ve(!1),d=Ve(!1),c=O(()=>Number(t.scrollThreshold)),f=O(()=>$n((c.value-a.value)/c.value||0)),h=()=>{const p=r.value;if(!p||n&&!n.value)return;i=a.value,a.value="window"in p?p.pageYOffset:p.scrollTop;const g=p instanceof Window?document.documentElement.scrollHeight:p.scrollHeight;if(s!==g){s=g;return}d.value=a.value<i,l.value=Math.abs(a.value-c.value)};return we(d,()=>{o.value=o.value||a.value}),we(u,()=>{o.value=0}),Tt(()=>{we(()=>t.scrollTarget,p=>{var v;const g=p?document.querySelector(p):window;g&&g!==r.value&&((v=r.value)==null||v.removeEventListener("scroll",h),r.value=g,r.value.addEventListener("scroll",h,{passive:!0}))},{immediate:!0})}),Mi(()=>{var p;(p=r.value)==null||p.removeEventListener("scroll",h)}),n&&we(n,h,{immediate:!0}),{scrollThreshold:c,currentScroll:a,currentThreshold:l,isScrollActive:u,scrollRatio:f,isScrollingUp:d,savedScroll:o}}function Nc(){const t=Ve(!1);return Tt(()=>{window.requestAnimationFrame(()=>{t.value=!0})}),{ssrBootStyles:O(()=>t.value?void 0:{transition:"none !important"}),isBooted:Sh(t)}}const Qce=te({scrollBehavior:String,modelValue:{type:Boolean,default:!0},location:{type:String,default:"top",validator:t=>["top","bottom"].includes(t)},...O4(),...Vc(),...Xce(),height:{type:[Number,String],default:64}},"VAppBar"),Jce=_e()({name:"VAppBar",props:Qce(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const i=G(),s=ze(t,"modelValue"),r=O(()=>{var x;const b=new Set(((x=t.scrollBehavior)==null?void 0:x.split(" "))??[]);return{hide:b.has("hide"),fullyHide:b.has("fully-hide"),inverted:b.has("inverted"),collapse:b.has("collapse"),elevate:b.has("elevate"),fadeImage:b.has("fade-image")}}),a=O(()=>{const b=r.value;return b.hide||b.fullyHide||b.inverted||b.collapse||b.elevate||b.fadeImage||!s.value}),{currentScroll:o,scrollThreshold:l,isScrollingUp:u,scrollRatio:d}=Kce(t,{canScroll:a}),c=O(()=>r.value.hide||r.value.fullyHide),f=O(()=>t.collapse||r.value.collapse&&(r.value.inverted?d.value>0:d.value===0)),h=O(()=>t.flat||r.value.fullyHide&&!s.value||r.value.elevate&&(r.value.inverted?o.value>0:o.value===0)),p=O(()=>r.value.fadeImage?r.value.inverted?1-d.value:d.value:void 0),g=O(()=>{var k,I;if(r.value.hide&&r.value.inverted)return 0;const b=((k=i.value)==null?void 0:k.contentHeight)??0,x=((I=i.value)==null?void 0:I.extensionHeight)??0;return c.value?o.value<l.value||r.value.fullyHide?b+x:b:b+x});Ns(O(()=>!!t.scrollBehavior),()=>{yn(()=>{c.value?r.value.inverted?s.value=o.value>l.value:s.value=u.value||o.value<l.value:s.value=!0})});const{ssrBootStyles:v}=Nc(),{layoutItemStyles:_}=Lc({id:t.name,order:O(()=>parseInt(t.order,10)),position:ge(t,"location"),layoutSize:g,elementSize:Ve(void 0),active:s,absolute:ge(t,"absolute")});return xe(()=>{const b=d1.filterProps(t);return m(d1,J({ref:i,class:["v-app-bar",{"v-app-bar--bottom":t.location==="bottom"},t.class],style:[{..._.value,"--v-toolbar-image-opacity":p.value,height:void 0,...v.value},t.style]},b,{collapse:f.value,flat:h.value}),n)}),{}}}),Zce=[null,"default","comfortable","compact"],Ci=te({density:{type:String,default:"default",validator:t=>Zce.includes(t)}},"density");function ls(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Qa();return{densityClasses:O(()=>`${e}--density-${t.density}`)}}const ede=["elevated","flat","tonal","outlined","text","plain"];function ru(t,e){return m(Ee,null,[t&&m("span",{key:"overlay",class:`${e}__overlay`},null),m("span",{key:"underlay",class:`${e}__underlay`},null)])}const Br=te({color:String,variant:{type:String,default:"elevated",validator:t=>ede.includes(t)}},"variant");function Fc(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Qa();const n=O(()=>{const{variant:r}=se(t);return`${e}--variant-${r}`}),{colorClasses:i,colorStyles:s}=ZP(O(()=>{const{variant:r,color:a}=se(t);return{[["elevated","flat"].includes(r)?"background":"text"]:a}}));return{colorClasses:i,colorStyles:s,variantClasses:n}}const M4=te({baseColor:String,divided:Boolean,...ir(),...Be(),...Ci(),...Pi(),...Rn(),..._t(),...Nt(),...Br()},"VBtnGroup"),h1=_e()({name:"VBtnGroup",props:M4(),setup(t,e){let{slots:n}=e;const{themeClasses:i}=Kt(t),{densityClasses:s}=ls(t),{borderClasses:r}=Tr(t),{elevationClasses:a}=Wi(t),{roundedClasses:o}=qn(t);Dn({VBtn:{height:"auto",baseColor:ge(t,"baseColor"),color:ge(t,"color"),density:ge(t,"density"),flat:!0,variant:ge(t,"variant")}}),xe(()=>m(t.tag,{class:["v-btn-group",{"v-btn-group--divided":t.divided},i.value,r.value,s.value,a.value,o.value,t.class],style:t.style},n))}}),Bc=te({modelValue:{type:null,default:void 0},multiple:Boolean,mandatory:[Boolean,String],max:Number,selectedClass:String,disabled:Boolean},"group"),jc=te({value:null,disabled:Boolean,selectedClass:String},"group-item");function $c(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;const i=Gn("useGroupItem");if(!i)throw new Error("[Vuetify] useGroupItem composable must be used inside a component setup function");const s=zi();Jt(Symbol.for(`${e.description}:id`),s);const r=gt(e,null);if(!r){if(!n)return r;throw new Error(`[Vuetify] Could not find useGroup injection with symbol ${e.description}`)}const a=ge(t,"value"),o=O(()=>!!(r.disabled.value||t.disabled));r.register({id:s,value:a,disabled:o},i),Mi(()=>{r.unregister(s)});const l=O(()=>r.isSelected(s)),u=O(()=>r.items.value[0].id===s),d=O(()=>r.items.value[r.items.value.length-1].id===s),c=O(()=>l.value&&[r.selectedClass.value,t.selectedClass]);return we(l,f=>{i.emit("group:selected",{value:f})},{flush:"sync"}),{id:s,isSelected:l,isFirst:u,isLast:d,toggle:()=>r.select(s,!l.value),select:f=>r.select(s,f),selectedClass:c,value:a,disabled:o,group:r}}function au(t,e){let n=!1;const i=mn([]),s=ze(t,"modelValue",[],f=>f==null?[]:V4(i,bn(f)),f=>{const h=nde(i,f);return t.multiple?h:h[0]}),r=Gn("useGroup");function a(f,h){const p=f,g=Symbol.for(`${e.description}:id`),_=yd(g,r==null?void 0:r.vnode).indexOf(h);se(p.value)==null&&(p.value=_,p.useIndexAsValue=!0),_>-1?i.splice(_,0,p):i.push(p)}function o(f){if(n)return;l();const h=i.findIndex(p=>p.id===f);i.splice(h,1)}function l(){const f=i.find(h=>!h.disabled);f&&t.mandatory==="force"&&!s.value.length&&(s.value=[f.id])}Tt(()=>{l()}),Mi(()=>{n=!0}),Bk(()=>{for(let f=0;f<i.length;f++)i[f].useIndexAsValue&&(i[f].value=f)});function u(f,h){const p=i.find(g=>g.id===f);if(!(h&&(p!=null&&p.disabled)))if(t.multiple){const g=s.value.slice(),v=g.findIndex(b=>b===f),_=~v;if(h=h??!_,_&&t.mandatory&&g.length<=1||!_&&t.max!=null&&g.length+1>t.max)return;v<0&&h?g.push(f):v>=0&&!h&&g.splice(v,1),s.value=g}else{const g=s.value.includes(f);if(t.mandatory&&g)return;s.value=h??!g?[f]:[]}}function d(f){if(t.multiple,s.value.length){const h=s.value[0],p=i.findIndex(_=>_.id===h);let g=(p+f)%i.length,v=i[g];for(;v.disabled&&g!==p;)g=(g+f)%i.length,v=i[g];if(v.disabled)return;s.value=[i[g].id]}else{const h=i.find(p=>!p.disabled);h&&(s.value=[h.id])}}const c={register:a,unregister:o,selected:s,select:u,disabled:ge(t,"disabled"),prev:()=>d(i.length-1),next:()=>d(1),isSelected:f=>s.value.includes(f),selectedClass:O(()=>t.selectedClass),items:O(()=>i),getItemIndex:f=>tde(i,f)};return Jt(e,c),c}function tde(t,e){const n=V4(t,[e]);return n.length?t.findIndex(i=>i.id===n[0]):-1}function V4(t,e){const n=[];return e.forEach(i=>{const s=t.find(a=>Ka(i,a.value)),r=t[i];(s==null?void 0:s.value)!=null?n.push(s.id):r!=null&&n.push(r.id)}),n}function nde(t,e){const n=[];return e.forEach(i=>{const s=t.findIndex(r=>r.id===i);if(~s){const r=t[s];n.push(r.value!=null?r.value:s)}}),n}const eC=Symbol.for("vuetify:v-btn-toggle"),ide=te({...M4(),...Bc()},"VBtnToggle"),sde=_e()({name:"VBtnToggle",props:ide(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const{isSelected:i,next:s,prev:r,select:a,selected:o}=au(t,eC);return xe(()=>{const l=h1.filterProps(t);return m(h1,J({class:["v-btn-toggle",t.class]},l,{style:t.style}),{default:()=>{var u;return[(u=n.default)==null?void 0:u.call(n,{isSelected:i,next:s,prev:r,select:a,selected:o})]}})}),{next:s,prev:r,select:a}}}),rde=["x-small","small","default","large","x-large"],Za=te({size:{type:[String,Number],default:"default"}},"size");function jh(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Qa();return xP(()=>{let n,i;return N_(rde,t.size)?n=`${e}--size-${t.size}`:t.size&&(i={width:Le(t.size),height:Le(t.size)}),{sizeClasses:n,sizeStyles:i}})}const ade=te({color:String,disabled:Boolean,start:Boolean,end:Boolean,icon:Ge,...Be(),...Za(),..._t({tag:"i"}),...Nt()},"VIcon"),Bt=_e()({name:"VIcon",props:ade(),setup(t,e){let{attrs:n,slots:i}=e;const s=G(),{themeClasses:r}=Kt(t),{iconData:a}=ese(O(()=>s.value||t.icon)),{sizeClasses:o}=jh(t),{textColorClasses:l,textColorStyles:u}=Ui(ge(t,"color"));return xe(()=>{var f,h;const d=(f=i.default)==null?void 0:f.call(i);d&&(s.value=(h=wj(d).filter(p=>p.type===Tg&&p.children&&typeof p.children=="string")[0])==null?void 0:h.children);const c=!!(n.onClick||n.onClickOnce);return m(a.value.component,{tag:t.tag,icon:a.value.icon,class:["v-icon","notranslate",r.value,o.value,l.value,{"v-icon--clickable":c,"v-icon--disabled":t.disabled,"v-icon--start":t.start,"v-icon--end":t.end},t.class],style:[o.value?void 0:{fontSize:Le(t.size),height:Le(t.size),width:Le(t.size)},u.value,t.style],role:c?"button":void 0,"aria-hidden":!c,tabindex:c?t.disabled?-1:0:void 0},{default:()=>[d]})}),{}}});function dw(t,e){const n=G(),i=Ve(!1);if(yP){const s=new IntersectionObserver(r=>{i.value=!!r.find(a=>a.isIntersecting)},e);Mi(()=>{s.disconnect()}),we(n,(r,a)=>{a&&(s.unobserve(a),i.value=!1),r&&s.observe(r)},{flush:"post"})}return{intersectionRef:n,isIntersecting:i}}const ode=te({bgColor:String,color:String,indeterminate:[Boolean,String],modelValue:{type:[Number,String],default:0},rotate:{type:[Number,String],default:0},width:{type:[Number,String],default:4},...Be(),...Za(),..._t({tag:"div"}),...Nt()},"VProgressCircular"),$l=_e()({name:"VProgressCircular",props:ode(),setup(t,e){let{slots:n}=e;const i=20,s=2*Math.PI*i,r=G(),{themeClasses:a}=Kt(t),{sizeClasses:o,sizeStyles:l}=jh(t),{textColorClasses:u,textColorStyles:d}=Ui(ge(t,"color")),{textColorClasses:c,textColorStyles:f}=Ui(ge(t,"bgColor")),{intersectionRef:h,isIntersecting:p}=dw(),{resizeRef:g,contentRect:v}=da(),_=O(()=>Math.max(0,Math.min(100,parseFloat(t.modelValue)))),b=O(()=>Number(t.width)),x=O(()=>l.value?Number(t.size):v.value?v.value.width:Math.max(b.value,32)),k=O(()=>i/(1-b.value/x.value)*2),I=O(()=>b.value/x.value*k.value),E=O(()=>Le((100-_.value)/100*s));return yn(()=>{h.value=r.value,g.value=r.value}),xe(()=>m(t.tag,{ref:r,class:["v-progress-circular",{"v-progress-circular--indeterminate":!!t.indeterminate,"v-progress-circular--visible":p.value,"v-progress-circular--disable-shrink":t.indeterminate==="disable-shrink"},a.value,o.value,u.value,t.class],style:[l.value,d.value,t.style],role:"progressbar","aria-valuemin":"0","aria-valuemax":"100","aria-valuenow":t.indeterminate?void 0:_.value},{default:()=>[m("svg",{style:{transform:`rotate(calc(-90deg + ${Number(t.rotate)}deg))`},xmlns:"http://www.w3.org/2000/svg",viewBox:`0 0 ${k.value} ${k.value}`},[m("circle",{class:["v-progress-circular__underlay",c.value],style:f.value,fill:"transparent",cx:"50%",cy:"50%",r:i,"stroke-width":I.value,"stroke-dasharray":s,"stroke-dashoffset":0},null),m("circle",{class:"v-progress-circular__overlay",fill:"transparent",cx:"50%",cy:"50%",r:i,"stroke-width":I.value,"stroke-dasharray":s,"stroke-dashoffset":E.value},null)]),n.default&&m("div",{class:"v-progress-circular__content"},[n.default({value:_.value})])]})),{}}}),IO={center:"center",top:"bottom",bottom:"top",left:"right",right:"left"},Yo=te({location:String},"location");function Uc(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=arguments.length>2?arguments[2]:void 0;const{isRtl:i}=Ti();return{locationStyles:O(()=>{if(!t.location)return{};const{side:r,align:a}=$S(t.location.split(" ").length>1?t.location:`${t.location} center`,i.value);function o(u){return n?n(u):0}const l={};return r!=="center"&&(e?l[IO[r]]=`calc(100% - ${o(r)}px)`:l[r]=0),a!=="center"?e?l[IO[a]]=`calc(100% - ${o(a)}px)`:l[a]=0:(r==="center"?l.top=l.left="50%":l[{top:"left",bottom:"left",left:"top",right:"top"}[r]]="50%",l.transform={top:"translateX(-50%)",bottom:"translateX(-50%)",left:"translateY(-50%)",right:"translateY(-50%)",center:"translate(-50%, -50%)"}[r]),l})}}const lde=te({absolute:Boolean,active:{type:Boolean,default:!0},bgColor:String,bgOpacity:[Number,String],bufferValue:{type:[Number,String],default:0},bufferColor:String,bufferOpacity:[Number,String],clickable:Boolean,color:String,height:{type:[Number,String],default:4},indeterminate:Boolean,max:{type:[Number,String],default:100},modelValue:{type:[Number,String],default:0},opacity:[Number,String],reverse:Boolean,stream:Boolean,striped:Boolean,roundedBar:Boolean,...Be(),...Yo({location:"top"}),...Rn(),..._t(),...Nt()},"VProgressLinear"),hw=_e()({name:"VProgressLinear",props:lde(),emits:{"update:modelValue":t=>!0},setup(t,e){var C;let{slots:n}=e;const i=ze(t,"modelValue"),{isRtl:s,rtlClasses:r}=Ti(),{themeClasses:a}=Kt(t),{locationStyles:o}=Uc(t),{textColorClasses:l,textColorStyles:u}=Ui(t,"color"),{backgroundColorClasses:d,backgroundColorStyles:c}=rn(O(()=>t.bgColor||t.color)),{backgroundColorClasses:f,backgroundColorStyles:h}=rn(O(()=>t.bufferColor||t.bgColor||t.color)),{backgroundColorClasses:p,backgroundColorStyles:g}=rn(t,"color"),{roundedClasses:v}=qn(t),{intersectionRef:_,isIntersecting:b}=dw(),x=O(()=>parseFloat(t.max)),k=O(()=>parseFloat(t.height)),I=O(()=>$n(parseFloat(t.bufferValue)/x.value*100,0,100)),E=O(()=>$n(parseFloat(i.value)/x.value*100,0,100)),T=O(()=>s.value!==t.reverse),S=O(()=>t.indeterminate?"fade-transition":"slide-x-transition"),w=Yt&&((C=window.matchMedia)==null?void 0:C.call(window,"(forced-colors: active)").matches);function P(D){if(!_.value)return;const{left:A,right:N,width:B}=_.value.getBoundingClientRect(),z=T.value?B-D.clientX+(N-B):D.clientX-A;i.value=Math.round(z/B*x.value)}return xe(()=>m(t.tag,{ref:_,class:["v-progress-linear",{"v-progress-linear--absolute":t.absolute,"v-progress-linear--active":t.active&&b.value,"v-progress-linear--reverse":T.value,"v-progress-linear--rounded":t.rounded,"v-progress-linear--rounded-bar":t.roundedBar,"v-progress-linear--striped":t.striped},v.value,a.value,r.value,t.class],style:[{bottom:t.location==="bottom"?0:void 0,top:t.location==="top"?0:void 0,height:t.active?Le(k.value):0,"--v-progress-linear-height":Le(k.value),...t.absolute?o.value:{}},t.style],role:"progressbar","aria-hidden":t.active?"false":"true","aria-valuemin":"0","aria-valuemax":t.max,"aria-valuenow":t.indeterminate?void 0:E.value,onClick:t.clickable&&P},{default:()=>[t.stream&&m("div",{key:"stream",class:["v-progress-linear__stream",l.value],style:{...u.value,[T.value?"left":"right"]:Le(-k.value),borderTop:`${Le(k.value/2)} dotted`,opacity:parseFloat(t.bufferOpacity),top:`calc(50% - ${Le(k.value/4)})`,width:Le(100-I.value,"%"),"--v-progress-linear-stream-to":Le(k.value*(T.value?1:-1))}},null),m("div",{class:["v-progress-linear__background",w?void 0:d.value],style:[c.value,{opacity:parseFloat(t.bgOpacity),width:t.stream?0:void 0}]},null),m("div",{class:["v-progress-linear__buffer",w?void 0:f.value],style:[h.value,{opacity:parseFloat(t.bufferOpacity),width:Le(I.value,"%")}]},null),m(Ol,{name:S.value},{default:()=>[t.indeterminate?m("div",{class:"v-progress-linear__indeterminate"},[["long","short"].map(D=>m("div",{key:D,class:["v-progress-linear__indeterminate",D,w?void 0:p.value],style:g.value},null))]):m("div",{class:["v-progress-linear__determinate",w?void 0:p.value],style:[g.value,{width:Le(E.value,"%")}]},null)]}),n.default&&m("div",{class:"v-progress-linear__content"},[n.default({value:E.value,buffer:I.value})])]})),{}}}),fw=te({loading:[Boolean,String]},"loader");function Qg(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Qa();return{loaderClasses:O(()=>({[`${e}--loading`]:t.loading}))}}function Jg(t,e){var i;let{slots:n}=e;return m("div",{class:`${t.name}__loader`},[((i=n.default)==null?void 0:i.call(n,{color:t.color,isActive:t.active}))||m(hw,{absolute:t.absolute,active:t.active,color:t.color,height:"2",indeterminate:!0},null)])}const ude=["static","relative","fixed","absolute","sticky"],$h=te({position:{type:String,validator:t=>ude.includes(t)}},"position");function Uh(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Qa();return{positionClasses:O(()=>t.position?`${e}--${t.position}`:void 0)}}function cde(){const t=Gn("useRoute");return O(()=>{var e;return(e=t==null?void 0:t.proxy)==null?void 0:e.$route})}function L4(){var t,e;return(e=(t=Gn("useRouter"))==null?void 0:t.proxy)==null?void 0:e.$router}function Hh(t,e){var c,f;const n=yL("RouterLink"),i=O(()=>!!(t.href||t.to)),s=O(()=>(i==null?void 0:i.value)||mR(e,"click")||mR(t,"click"));if(typeof n=="string"||!("useLink"in n)){const h=ge(t,"href");return{isLink:i,isClickable:s,href:h,linkProps:mn({href:h})}}const r=O(()=>({...t,to:ge(()=>t.to||"")})),a=n.useLink(r.value),o=O(()=>t.to?a:void 0),l=cde(),u=O(()=>{var h,p,g;return o.value?t.exact?l.value?((g=o.value.isExactActive)==null?void 0:g.value)&&Ka(o.value.route.value.query,l.value.query):((p=o.value.isExactActive)==null?void 0:p.value)??!1:((h=o.value.isActive)==null?void 0:h.value)??!1:!1}),d=O(()=>{var h;return t.to?(h=o.value)==null?void 0:h.route.value.href:t.href});return{isLink:i,isClickable:s,isActive:u,route:(c=o.value)==null?void 0:c.route,navigate:(f=o.value)==null?void 0:f.navigate,href:d,linkProps:mn({href:d,"aria-current":O(()=>u.value?"page":void 0)})}}const Zg=te({href:String,replace:Boolean,to:[String,Object],exact:Boolean},"router");let ex=!1;function dde(t,e){let n=!1,i,s;Yt&&(vt(()=>{window.addEventListener("popstate",r),i=t==null?void 0:t.beforeEach((a,o,l)=>{ex?n?e(l):l():setTimeout(()=>n?e(l):l()),ex=!0}),s=t==null?void 0:t.afterEach(()=>{ex=!1})}),as(()=>{window.removeEventListener("popstate",r),i==null||i(),s==null||s()}));function r(a){var o;(o=a.state)!=null&&o.replaced||(n=!0,setTimeout(()=>n=!1))}}function hde(t,e){we(()=>{var n;return(n=t.isActive)==null?void 0:n.value},n=>{t.isLink.value&&n&&e&&vt(()=>{e(!0)})},{immediate:!0})}const f1=Symbol("rippleStop"),fde=80;function DO(t,e){t.style.transform=e,t.style.webkitTransform=e}function m1(t){return t.constructor.name==="TouchEvent"}function N4(t){return t.constructor.name==="KeyboardEvent"}const mde=function(t,e){var c;let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=0,s=0;if(!N4(t)){const f=e.getBoundingClientRect(),h=m1(t)?t.touches[t.touches.length-1]:t;i=h.clientX-f.left,s=h.clientY-f.top}let r=0,a=.3;(c=e._ripple)!=null&&c.circle?(a=.15,r=e.clientWidth/2,r=n.center?r:r+Math.sqrt((i-r)**2+(s-r)**2)/4):r=Math.sqrt(e.clientWidth**2+e.clientHeight**2)/2;const o=`${(e.clientWidth-r*2)/2}px`,l=`${(e.clientHeight-r*2)/2}px`,u=n.center?o:`${i-r}px`,d=n.center?l:`${s-r}px`;return{radius:r,scale:a,x:u,y:d,centerX:o,centerY:l}},ty={show(t,e){var h;let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!((h=e==null?void 0:e._ripple)!=null&&h.enabled))return;const i=document.createElement("span"),s=document.createElement("span");i.appendChild(s),i.className="v-ripple__container",n.class&&(i.className+=` ${n.class}`);const{radius:r,scale:a,x:o,y:l,centerX:u,centerY:d}=mde(t,e,n),c=`${r*2}px`;s.className="v-ripple__animation",s.style.width=c,s.style.height=c,e.appendChild(i);const f=window.getComputedStyle(e);f&&f.position==="static"&&(e.style.position="relative",e.dataset.previousPosition="static"),s.classList.add("v-ripple__animation--enter"),s.classList.add("v-ripple__animation--visible"),DO(s,`translate(${o}, ${l}) scale3d(${a},${a},${a})`),s.dataset.activated=String(performance.now()),setTimeout(()=>{s.classList.remove("v-ripple__animation--enter"),s.classList.add("v-ripple__animation--in"),DO(s,`translate(${u}, ${d}) scale3d(1,1,1)`)},0)},hide(t){var r;if(!((r=t==null?void 0:t._ripple)!=null&&r.enabled))return;const e=t.getElementsByClassName("v-ripple__animation");if(e.length===0)return;const n=e[e.length-1];if(n.dataset.isHiding)return;n.dataset.isHiding="true";const i=performance.now()-Number(n.dataset.activated),s=Math.max(250-i,0);setTimeout(()=>{n.classList.remove("v-ripple__animation--in"),n.classList.add("v-ripple__animation--out"),setTimeout(()=>{var o;t.getElementsByClassName("v-ripple__animation").length===1&&t.dataset.previousPosition&&(t.style.position=t.dataset.previousPosition,delete t.dataset.previousPosition),((o=n.parentNode)==null?void 0:o.parentNode)===t&&t.removeChild(n.parentNode)},300)},s)}};function F4(t){return typeof t>"u"||!!t}function Xm(t){const e={},n=t.currentTarget;if(!(!(n!=null&&n._ripple)||n._ripple.touched||t[f1])){if(t[f1]=!0,m1(t))n._ripple.touched=!0,n._ripple.isTouch=!0;else if(n._ripple.isTouch)return;if(e.center=n._ripple.centered||N4(t),n._ripple.class&&(e.class=n._ripple.class),m1(t)){if(n._ripple.showTimerCommit)return;n._ripple.showTimerCommit=()=>{ty.show(t,n,e)},n._ripple.showTimer=window.setTimeout(()=>{var i;(i=n==null?void 0:n._ripple)!=null&&i.showTimerCommit&&(n._ripple.showTimerCommit(),n._ripple.showTimerCommit=null)},fde)}else ty.show(t,n,e)}}function AO(t){t[f1]=!0}function dr(t){const e=t.currentTarget;if(e!=null&&e._ripple){if(window.clearTimeout(e._ripple.showTimer),t.type==="touchend"&&e._ripple.showTimerCommit){e._ripple.showTimerCommit(),e._ripple.showTimerCommit=null,e._ripple.showTimer=window.setTimeout(()=>{dr(t)});return}window.setTimeout(()=>{e._ripple&&(e._ripple.touched=!1)}),ty.hide(e)}}function B4(t){const e=t.currentTarget;e!=null&&e._ripple&&(e._ripple.showTimerCommit&&(e._ripple.showTimerCommit=null),window.clearTimeout(e._ripple.showTimer))}let Km=!1;function j4(t){!Km&&(t.keyCode===dR.enter||t.keyCode===dR.space)&&(Km=!0,Xm(t))}function $4(t){Km=!1,dr(t)}function U4(t){Km&&(Km=!1,dr(t))}function H4(t,e,n){const{value:i,modifiers:s}=e,r=F4(i);if(r||ty.hide(t),t._ripple=t._ripple??{},t._ripple.enabled=r,t._ripple.centered=s.center,t._ripple.circle=s.circle,Hb(i)&&i.class&&(t._ripple.class=i.class),r&&!n){if(s.stop){t.addEventListener("touchstart",AO,{passive:!0}),t.addEventListener("mousedown",AO);return}t.addEventListener("touchstart",Xm,{passive:!0}),t.addEventListener("touchend",dr,{passive:!0}),t.addEventListener("touchmove",B4,{passive:!0}),t.addEventListener("touchcancel",dr),t.addEventListener("mousedown",Xm),t.addEventListener("mouseup",dr),t.addEventListener("mouseleave",dr),t.addEventListener("keydown",j4),t.addEventListener("keyup",$4),t.addEventListener("blur",U4),t.addEventListener("dragstart",dr,{passive:!0})}else!r&&n&&z4(t)}function z4(t){t.removeEventListener("mousedown",Xm),t.removeEventListener("touchstart",Xm),t.removeEventListener("touchend",dr),t.removeEventListener("touchmove",B4),t.removeEventListener("touchcancel",dr),t.removeEventListener("mouseup",dr),t.removeEventListener("mouseleave",dr),t.removeEventListener("keydown",j4),t.removeEventListener("keyup",$4),t.removeEventListener("dragstart",dr),t.removeEventListener("blur",U4)}function gde(t,e){H4(t,e,!1)}function pde(t){delete t._ripple,z4(t)}function vde(t,e){if(e.value===e.oldValue)return;const n=F4(e.oldValue);H4(t,e,n)}const Go={mounted:gde,unmounted:pde,updated:vde},mw=te({active:{type:Boolean,default:void 0},activeColor:String,baseColor:String,symbol:{type:null,default:eC},flat:Boolean,icon:[Boolean,String,Function,Object],prependIcon:Ge,appendIcon:Ge,block:Boolean,readonly:Boolean,slim:Boolean,stacked:Boolean,ripple:{type:[Boolean,Object],default:!0},text:String,...ir(),...Be(),...Ci(),...fi(),...Pi(),...jc(),...fw(),...Yo(),...$h(),...Rn(),...Zg(),...Za(),..._t({tag:"button"}),...Nt(),...Br({variant:"elevated"})},"VBtn"),pt=_e()({name:"VBtn",props:mw(),emits:{"group:selected":t=>!0},setup(t,e){let{attrs:n,slots:i}=e;const{themeClasses:s}=Kt(t),{borderClasses:r}=Tr(t),{densityClasses:a}=ls(t),{dimensionStyles:o}=mi(t),{elevationClasses:l}=Wi(t),{loaderClasses:u}=Qg(t),{locationStyles:d}=Uc(t),{positionClasses:c}=Uh(t),{roundedClasses:f}=qn(t),{sizeClasses:h,sizeStyles:p}=jh(t),g=$c(t,t.symbol,!1),v=Hh(t,n),_=O(()=>{var C;return t.active!==void 0?t.active:v.isLink.value?(C=v.isActive)==null?void 0:C.value:g==null?void 0:g.isSelected.value}),b=O(()=>_.value?t.activeColor??t.color:t.color),x=O(()=>{var D,A;return{color:(g==null?void 0:g.isSelected.value)&&(!v.isLink.value||((D=v.isActive)==null?void 0:D.value))||!g||((A=v.isActive)==null?void 0:A.value)?b.value??t.baseColor:t.baseColor,variant:t.variant}}),{colorClasses:k,colorStyles:I,variantClasses:E}=Fc(x),T=O(()=>(g==null?void 0:g.disabled.value)||t.disabled),S=O(()=>t.variant==="elevated"&&!(t.disabled||t.flat||t.border)),w=O(()=>{if(!(t.value===void 0||typeof t.value=="symbol"))return Object(t.value)===t.value?JSON.stringify(t.value,null,0):t.value});function P(C){var D;T.value||v.isLink.value&&(C.metaKey||C.ctrlKey||C.shiftKey||C.button!==0||n.target==="_blank")||((D=v.navigate)==null||D.call(v,C),g==null||g.toggle())}return hde(v,g==null?void 0:g.select),xe(()=>{const C=v.isLink.value?"a":t.tag,D=!!(t.prependIcon||i.prepend),A=!!(t.appendIcon||i.append),N=!!(t.icon&&t.icon!==!0);return In(m(C,J({type:C==="a"?void 0:"button",class:["v-btn",g==null?void 0:g.selectedClass.value,{"v-btn--active":_.value,"v-btn--block":t.block,"v-btn--disabled":T.value,"v-btn--elevated":S.value,"v-btn--flat":t.flat,"v-btn--icon":!!t.icon,"v-btn--loading":t.loading,"v-btn--readonly":t.readonly,"v-btn--slim":t.slim,"v-btn--stacked":t.stacked},s.value,r.value,k.value,a.value,l.value,u.value,c.value,f.value,h.value,E.value,t.class],style:[I.value,o.value,d.value,p.value,t.style],"aria-busy":t.loading?!0:void 0,disabled:T.value||void 0,tabindex:t.loading||t.readonly?-1:void 0,onClick:P,value:w.value},v.linkProps),{default:()=>{var B;return[ru(!0,"v-btn"),!t.icon&&D&&m("span",{key:"prepend",class:"v-btn__prepend"},[i.prepend?m(dt,{key:"prepend-defaults",disabled:!t.prependIcon,defaults:{VIcon:{icon:t.prependIcon}}},i.prepend):m(Bt,{key:"prepend-icon",icon:t.prependIcon},null)]),m("span",{class:"v-btn__content","data-no-activator":""},[!i.default&&N?m(Bt,{key:"content-icon",icon:t.icon},null):m(dt,{key:"content-defaults",disabled:!N,defaults:{VIcon:{icon:t.icon}}},{default:()=>{var z;return[((z=i.default)==null?void 0:z.call(i))??t.text]}})]),!t.icon&&A&&m("span",{key:"append",class:"v-btn__append"},[i.append?m(dt,{key:"append-defaults",disabled:!t.appendIcon,defaults:{VIcon:{icon:t.appendIcon}}},i.append):m(Bt,{key:"append-icon",icon:t.appendIcon},null)]),!!t.loading&&m("span",{key:"loader",class:"v-btn__loader"},[((B=i.loader)==null?void 0:B.call(i))??m($l,{color:typeof t.loading=="boolean"?void 0:t.loading,indeterminate:!0,width:"2"},null)])]}}),[[Go,!T.value&&t.ripple,"",{center:!!t.icon}]])}),{group:g}}}),_de=te({...mw({icon:"$menu",variant:"text"})},"VAppBarNavIcon"),yde=_e()({name:"VAppBarNavIcon",props:_de(),setup(t,e){let{slots:n}=e;return xe(()=>m(pt,J(t,{class:["v-app-bar-nav-icon"]}),n)),{}}}),bde=_e()({name:"VAppBarTitle",props:C4(),setup(t,e){let{slots:n}=e;return xe(()=>m(XP,J(t,{class:"v-app-bar-title"}),n)),{}}}),W4=Ja("v-alert-title"),wde=["success","info","warning","error"],xde=te({border:{type:[Boolean,String],validator:t=>typeof t=="boolean"||["top","end","bottom","start"].includes(t)},borderColor:String,closable:Boolean,closeIcon:{type:Ge,default:"$close"},closeLabel:{type:String,default:"$vuetify.close"},icon:{type:[Boolean,String,Function,Object],default:null},modelValue:{type:Boolean,default:!0},prominent:Boolean,title:String,text:String,type:{type:String,validator:t=>wde.includes(t)},...Be(),...Ci(),...fi(),...Pi(),...Yo(),...$h(),...Rn(),..._t(),...Nt(),...Br({variant:"flat"})},"VAlert"),Sde=_e()({name:"VAlert",props:xde(),emits:{"click:close":t=>!0,"update:modelValue":t=>!0},setup(t,e){let{emit:n,slots:i}=e;const s=ze(t,"modelValue"),r=O(()=>{if(t.icon!==!1)return t.type?t.icon??`$${t.type}`:t.icon}),a=O(()=>({color:t.color??t.type,variant:t.variant})),{themeClasses:o}=Kt(t),{colorClasses:l,colorStyles:u,variantClasses:d}=Fc(a),{densityClasses:c}=ls(t),{dimensionStyles:f}=mi(t),{elevationClasses:h}=Wi(t),{locationStyles:p}=Uc(t),{positionClasses:g}=Uh(t),{roundedClasses:v}=qn(t),{textColorClasses:_,textColorStyles:b}=Ui(ge(t,"borderColor")),{t:x}=gn(),k=O(()=>({"aria-label":x(t.closeLabel),onClick(I){s.value=!1,n("click:close",I)}}));return()=>{const I=!!(i.prepend||r.value),E=!!(i.title||t.title),T=!!(i.close||t.closable);return s.value&&m(t.tag,{class:["v-alert",t.border&&{"v-alert--border":!!t.border,[`v-alert--border-${t.border===!0?"start":t.border}`]:!0},{"v-alert--prominent":t.prominent},o.value,l.value,c.value,h.value,g.value,v.value,d.value,t.class],style:[u.value,f.value,p.value,t.style],role:"alert"},{default:()=>{var S,w;return[ru(!1,"v-alert"),t.border&&m("div",{key:"border",class:["v-alert__border",_.value],style:b.value},null),I&&m("div",{key:"prepend",class:"v-alert__prepend"},[i.prepend?m(dt,{key:"prepend-defaults",disabled:!r.value,defaults:{VIcon:{density:t.density,icon:r.value,size:t.prominent?44:28}}},i.prepend):m(Bt,{key:"prepend-icon",density:t.density,icon:r.value,size:t.prominent?44:28},null)]),m("div",{class:"v-alert__content"},[E&&m(W4,{key:"title"},{default:()=>{var P;return[((P=i.title)==null?void 0:P.call(i))??t.title]}}),((S=i.text)==null?void 0:S.call(i))??t.text,(w=i.default)==null?void 0:w.call(i)]),i.append&&m("div",{key:"append",class:"v-alert__append"},[i.append()]),T&&m("div",{key:"close",class:"v-alert__close"},[i.close?m(dt,{key:"close-defaults",defaults:{VBtn:{icon:t.closeIcon,size:"x-small",variant:"text"}}},{default:()=>{var P;return[(P=i.close)==null?void 0:P.call(i,{props:k.value})]}}):m(pt,J({key:"close-btn",icon:t.closeIcon,size:"x-small",variant:"text"},k.value),null)])]}})}}}),kde=te({start:Boolean,end:Boolean,icon:Ge,image:String,text:String,...ir(),...Be(),...Ci(),...Rn(),...Za(),..._t(),...Nt(),...Br({variant:"flat"})},"VAvatar"),$s=_e()({name:"VAvatar",props:kde(),setup(t,e){let{slots:n}=e;const{themeClasses:i}=Kt(t),{borderClasses:s}=Tr(t),{colorClasses:r,colorStyles:a,variantClasses:o}=Fc(t),{densityClasses:l}=ls(t),{roundedClasses:u}=qn(t),{sizeClasses:d,sizeStyles:c}=jh(t);return xe(()=>m(t.tag,{class:["v-avatar",{"v-avatar--start":t.start,"v-avatar--end":t.end},i.value,s.value,r.value,l.value,u.value,d.value,o.value,t.class],style:[a.value,c.value,t.style]},{default:()=>[n.default?m(dt,{key:"content-defaults",defaults:{VImg:{cover:!0,src:t.image},VIcon:{icon:t.icon}}},{default:()=>[n.default()]}):t.image?m(Vo,{key:"image",src:t.image,alt:"",cover:!0},null):t.icon?m(Bt,{key:"icon",icon:t.icon},null):t.text,ru(!1,"v-avatar")]})),{}}}),Tde=te({text:String,onClick:Oi(),...Be(),...Nt()},"VLabel"),zh=_e()({name:"VLabel",props:Tde(),setup(t,e){let{slots:n}=e;return xe(()=>{var i;return m("label",{class:["v-label",{"v-label--clickable":!!t.onClick},t.class],style:t.style,onClick:t.onClick},[t.text,(i=n.default)==null?void 0:i.call(n)])}),{}}}),Y4=Symbol.for("vuetify:selection-control-group"),tC=te({color:String,disabled:{type:Boolean,default:null},defaultsTarget:String,error:Boolean,id:String,inline:Boolean,falseIcon:Ge,trueIcon:Ge,ripple:{type:[Boolean,Object],default:!0},multiple:{type:Boolean,default:null},name:String,readonly:{type:Boolean,default:null},modelValue:null,type:String,valueComparator:{type:Function,default:Ka},...Be(),...Ci(),...Nt()},"SelectionControlGroup"),Pde=te({...tC({defaultsTarget:"VSelectionControl"})},"VSelectionControlGroup"),G4=_e()({name:"VSelectionControlGroup",props:Pde(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const i=ze(t,"modelValue"),s=zi(),r=O(()=>t.id||`v-selection-control-group-${s}`),a=O(()=>t.name||r.value),o=new Set;return Jt(Y4,{modelValue:i,forceUpdate:()=>{o.forEach(l=>l())},onForceUpdate:l=>{o.add(l),as(()=>{o.delete(l)})}}),Dn({[t.defaultsTarget]:{color:ge(t,"color"),disabled:ge(t,"disabled"),density:ge(t,"density"),error:ge(t,"error"),inline:ge(t,"inline"),modelValue:i,multiple:O(()=>!!t.multiple||t.multiple==null&&Array.isArray(i.value)),name:a,falseIcon:ge(t,"falseIcon"),trueIcon:ge(t,"trueIcon"),readonly:ge(t,"readonly"),ripple:ge(t,"ripple"),type:ge(t,"type"),valueComparator:ge(t,"valueComparator")}}),xe(()=>{var l;return m("div",{class:["v-selection-control-group",{"v-selection-control-group--inline":t.inline},t.class],style:t.style,role:t.type==="radio"?"radiogroup":void 0},[(l=n.default)==null?void 0:l.call(n)])}),{}}}),gw=te({label:String,baseColor:String,trueValue:null,falseValue:null,value:null,...Be(),...tC()},"VSelectionControl");function Cde(t){const e=gt(Y4,void 0),{densityClasses:n}=ls(t),i=ze(t,"modelValue"),s=O(()=>t.trueValue!==void 0?t.trueValue:t.value!==void 0?t.value:!0),r=O(()=>t.falseValue!==void 0?t.falseValue:!1),a=O(()=>!!t.multiple||t.multiple==null&&Array.isArray(i.value)),o=O({get(){const h=e?e.modelValue.value:i.value;return a.value?bn(h).some(p=>t.valueComparator(p,s.value)):t.valueComparator(h,s.value)},set(h){if(t.readonly)return;const p=h?s.value:r.value;let g=p;a.value&&(g=h?[...bn(i.value),p]:bn(i.value).filter(v=>!t.valueComparator(v,s.value))),e?e.modelValue.value=g:i.value=g}}),{textColorClasses:l,textColorStyles:u}=Ui(O(()=>{if(!(t.error||t.disabled))return o.value?t.color:t.baseColor})),{backgroundColorClasses:d,backgroundColorStyles:c}=rn(O(()=>o.value&&!t.error&&!t.disabled?t.color:t.baseColor)),f=O(()=>o.value?t.trueIcon:t.falseIcon);return{group:e,densityClasses:n,trueValue:s,falseValue:r,model:o,textColorClasses:l,textColorStyles:u,backgroundColorClasses:d,backgroundColorStyles:c,icon:f}}const Ul=_e()({name:"VSelectionControl",directives:{Ripple:Go},inheritAttrs:!1,props:gw(),emits:{"update:modelValue":t=>!0},setup(t,e){let{attrs:n,slots:i}=e;const{group:s,densityClasses:r,icon:a,model:o,textColorClasses:l,textColorStyles:u,backgroundColorClasses:d,backgroundColorStyles:c,trueValue:f}=Cde(t),h=zi(),p=Ve(!1),g=Ve(!1),v=G(),_=O(()=>t.id||`input-${h}`),b=O(()=>!t.disabled&&!t.readonly);s==null||s.onForceUpdate(()=>{v.value&&(v.value.checked=o.value)});function x(T){b.value&&(p.value=!0,rh(T.target,":focus-visible")!==!1&&(g.value=!0))}function k(){p.value=!1,g.value=!1}function I(T){T.stopPropagation()}function E(T){if(!b.value){v.value&&(v.value.checked=o.value);return}t.readonly&&s&&vt(()=>s.forceUpdate()),o.value=T.target.checked}return xe(()=>{var C,D;const T=i.label?i.label({label:t.label,props:{for:_.value}}):t.label,[S,w]=zo(n),P=m("input",J({ref:v,checked:o.value,disabled:!!t.disabled,id:_.value,onBlur:k,onFocus:x,onInput:E,"aria-disabled":!!t.disabled,"aria-label":t.label,type:t.type,value:f.value,name:t.name,"aria-checked":t.type==="checkbox"?o.value:void 0},w),null);return m("div",J({class:["v-selection-control",{"v-selection-control--dirty":o.value,"v-selection-control--disabled":t.disabled,"v-selection-control--error":t.error,"v-selection-control--focused":p.value,"v-selection-control--focus-visible":g.value,"v-selection-control--inline":t.inline},r.value,t.class]},S,{style:t.style}),[m("div",{class:["v-selection-control__wrapper",l.value],style:u.value},[(C=i.default)==null?void 0:C.call(i,{backgroundColorClasses:d,backgroundColorStyles:c}),In(m("div",{class:["v-selection-control__input"]},[((D=i.input)==null?void 0:D.call(i,{model:o,textColorClasses:l,textColorStyles:u,backgroundColorClasses:d,backgroundColorStyles:c,inputNode:P,icon:a.value,props:{onFocus:x,onBlur:k,id:_.value}}))??m(Ee,null,[a.value&&m(Bt,{key:"icon",icon:a.value},null),P])]),[[nr("ripple"),t.ripple&&[!t.disabled&&!t.readonly,null,["center","circle"]]]])]),T&&m(zh,{for:_.value,onClick:I},{default:()=>[T]})])}),{isFocused:p,input:v}}}),q4=te({indeterminate:Boolean,indeterminateIcon:{type:Ge,default:"$checkboxIndeterminate"},...gw({falseIcon:"$checkboxOff",trueIcon:"$checkboxOn"})},"VCheckboxBtn"),Wa=_e()({name:"VCheckboxBtn",props:q4(),emits:{"update:modelValue":t=>!0,"update:indeterminate":t=>!0},setup(t,e){let{slots:n}=e;const i=ze(t,"indeterminate"),s=ze(t,"modelValue");function r(l){i.value&&(i.value=!1)}const a=O(()=>i.value?t.indeterminateIcon:t.falseIcon),o=O(()=>i.value?t.indeterminateIcon:t.trueIcon);return xe(()=>{const l=tn(Ul.filterProps(t),["modelValue"]);return m(Ul,J(l,{modelValue:s.value,"onUpdate:modelValue":[u=>s.value=u,r],class:["v-checkbox-btn",t.class],style:t.style,type:"checkbox",falseIcon:a.value,trueIcon:o.value,"aria-checked":i.value?"mixed":void 0}),n)}),{}}});function X4(t){const{t:e}=gn();function n(i){let{name:s}=i;const r={prepend:"prependAction",prependInner:"prependAction",append:"appendAction",appendInner:"appendAction",clear:"clear"}[s],a=t[`onClick:${s}`],o=a&&r?e(`$vuetify.input.${r}`,t.label??""):void 0;return m(Bt,{icon:t[`${s}Icon`],"aria-label":o,onClick:a},null)}return{InputIcon:n}}const Ede=te({active:Boolean,color:String,messages:{type:[Array,String],default:()=>[]},...Be(),..._a({transition:{component:QP,leaveAbsolute:!0,group:!0}})},"VMessages"),K4=_e()({name:"VMessages",props:Ede(),setup(t,e){let{slots:n}=e;const i=O(()=>bn(t.messages)),{textColorClasses:s,textColorStyles:r}=Ui(O(()=>t.color));return xe(()=>m(Ts,{transition:t.transition,tag:"div",class:["v-messages",s.value,t.class],style:[r.value,t.style],role:"alert","aria-live":"polite"},{default:()=>[t.active&&i.value.map((a,o)=>m("div",{class:"v-messages__message",key:`${o}-${i.value}`},[n.message?n.message({message:a}):a]))]})),{}}}),Wh=te({focused:Boolean,"onUpdate:focused":Oi()},"focus");function eo(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Qa();const n=ze(t,"focused"),i=O(()=>({[`${e}--focused`]:n.value}));function s(){n.value=!0}function r(){n.value=!1}return{focusClasses:i,isFocused:n,focus:s,blur:r}}const Q4=Symbol.for("vuetify:form"),Ide=te({disabled:Boolean,fastFail:Boolean,readonly:Boolean,modelValue:{type:Boolean,default:null},validateOn:{type:String,default:"input"}},"form");function Dde(t){const e=ze(t,"modelValue"),n=O(()=>t.disabled),i=O(()=>t.readonly),s=Ve(!1),r=G([]),a=G([]);async function o(){const d=[];let c=!0;a.value=[],s.value=!0;for(const f of r.value){const h=await f.validate();if(h.length>0&&(c=!1,d.push({id:f.id,errorMessages:h})),!c&&t.fastFail)break}return a.value=d,s.value=!1,{valid:c,errors:a.value}}function l(){r.value.forEach(d=>d.reset())}function u(){r.value.forEach(d=>d.resetValidation())}return we(r,()=>{let d=0,c=0;const f=[];for(const h of r.value)h.isValid===!1?(c++,f.push({id:h.id,errorMessages:h.errorMessages})):h.isValid===!0&&d++;a.value=f,e.value=c>0?!1:d===r.value.length?!0:null},{deep:!0,flush:"post"}),Jt(Q4,{register:d=>{let{id:c,vm:f,validate:h,reset:p,resetValidation:g}=d;r.value.some(v=>v.id===c),r.value.push({id:c,validate:h,reset:p,resetValidation:g,vm:Vk(f),isValid:null,errorMessages:[]})},unregister:d=>{r.value=r.value.filter(c=>c.id!==d)},update:(d,c,f)=>{const h=r.value.find(p=>p.id===d);h&&(h.isValid=c,h.errorMessages=f)},isDisabled:n,isReadonly:i,isValidating:s,isValid:e,items:r,validateOn:ge(t,"validateOn")}),{errors:a,isDisabled:n,isReadonly:i,isValidating:s,isValid:e,items:r,validate:o,reset:l,resetValidation:u}}function ep(t){const e=gt(Q4,null);return{...e,isReadonly:O(()=>!!((t==null?void 0:t.readonly)??(e==null?void 0:e.isReadonly.value))),isDisabled:O(()=>!!((t==null?void 0:t.disabled)??(e==null?void 0:e.isDisabled.value)))}}const J4=te({disabled:{type:Boolean,default:null},error:Boolean,errorMessages:{type:[Array,String],default:()=>[]},maxErrors:{type:[Number,String],default:1},name:String,label:String,readonly:{type:Boolean,default:null},rules:{type:Array,default:()=>[]},modelValue:null,validateOn:String,validationValue:null,...Wh()},"validation");function Z4(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Qa(),n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:zi();const i=ze(t,"modelValue"),s=O(()=>t.validationValue===void 0?i.value:t.validationValue),r=ep(t),a=G([]),o=Ve(!0),l=O(()=>!!(bn(i.value===""?null:i.value).length||bn(s.value===""?null:s.value).length)),u=O(()=>{var x;return(x=t.errorMessages)!=null&&x.length?bn(t.errorMessages).concat(a.value).slice(0,Math.max(0,+t.maxErrors)):a.value}),d=O(()=>{var I;let x=(t.validateOn??((I=r.validateOn)==null?void 0:I.value))||"input";x==="lazy"&&(x="input lazy"),x==="eager"&&(x="input eager");const k=new Set((x==null?void 0:x.split(" "))??[]);return{input:k.has("input"),blur:k.has("blur")||k.has("input")||k.has("invalid-input"),invalidInput:k.has("invalid-input"),lazy:k.has("lazy"),eager:k.has("eager")}}),c=O(()=>{var x;return t.error||(x=t.errorMessages)!=null&&x.length?!1:t.rules.length?o.value?a.value.length||d.value.lazy?null:!0:!a.value.length:!0}),f=Ve(!1),h=O(()=>({[`${e}--error`]:c.value===!1,[`${e}--dirty`]:l.value,[`${e}--disabled`]:r.isDisabled.value,[`${e}--readonly`]:r.isReadonly.value})),p=Gn("validation"),g=O(()=>t.name??se(n));kh(()=>{var x;(x=r.register)==null||x.call(r,{id:g.value,vm:p,validate:b,reset:v,resetValidation:_})}),Mi(()=>{var x;(x=r.unregister)==null||x.call(r,g.value)}),Tt(async()=>{var x;d.value.lazy||await b(!d.value.eager),(x=r.update)==null||x.call(r,g.value,c.value,u.value)}),Ns(()=>d.value.input||d.value.invalidInput&&c.value===!1,()=>{we(s,()=>{if(s.value!=null)b();else if(t.focused){const x=we(()=>t.focused,k=>{k||b(),x()})}})}),Ns(()=>d.value.blur,()=>{we(()=>t.focused,x=>{x||b()})}),we([c,u],()=>{var x;(x=r.update)==null||x.call(r,g.value,c.value,u.value)});async function v(){i.value=null,await vt(),await _()}async function _(){o.value=!0,d.value.lazy?a.value=[]:await b(!d.value.eager)}async function b(){let x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const k=[];f.value=!0;for(const I of t.rules){if(k.length>=+(t.maxErrors??1))break;const T=await(typeof I=="function"?I:()=>I)(s.value);if(T!==!0){if(T!==!1&&typeof T!="string"){console.warn(`${T} is not a valid value. Rule functions must return boolean true or a string.`);continue}k.push(T||"")}}return a.value=k,f.value=!1,o.value=x,a.value}return{errorMessages:u,isDirty:l,isDisabled:r.isDisabled,isReadonly:r.isReadonly,isPristine:o,isValid:c,isValidating:f,reset:v,resetValidation:_,validate:b,validationClasses:h}}const qo=te({id:String,appendIcon:Ge,centerAffix:{type:Boolean,default:!0},prependIcon:Ge,hideDetails:[Boolean,String],hideSpinButtons:Boolean,hint:String,persistentHint:Boolean,messages:{type:[Array,String],default:()=>[]},direction:{type:String,default:"horizontal",validator:t=>["horizontal","vertical"].includes(t)},"onClick:prepend":Oi(),"onClick:append":Oi(),...Be(),...Ci(),...Yg(fi(),["maxWidth","minWidth","width"]),...Nt(),...J4()},"VInput"),rs=_e()({name:"VInput",props:{...qo()},emits:{"update:modelValue":t=>!0},setup(t,e){let{attrs:n,slots:i,emit:s}=e;const{densityClasses:r}=ls(t),{dimensionStyles:a}=mi(t),{themeClasses:o}=Kt(t),{rtlClasses:l}=Ti(),{InputIcon:u}=X4(t),d=zi(),c=O(()=>t.id||`input-${d}`),f=O(()=>`${c.value}-messages`),{errorMessages:h,isDirty:p,isDisabled:g,isReadonly:v,isPristine:_,isValid:b,isValidating:x,reset:k,resetValidation:I,validate:E,validationClasses:T}=Z4(t,"v-input",c),S=O(()=>({id:c,messagesId:f,isDirty:p,isDisabled:g,isReadonly:v,isPristine:_,isValid:b,isValidating:x,reset:k,resetValidation:I,validate:E})),w=O(()=>{var P;return(P=t.errorMessages)!=null&&P.length||!_.value&&h.value.length?h.value:t.hint&&(t.persistentHint||t.focused)?t.hint:t.messages});return xe(()=>{var N,B,z,q;const P=!!(i.prepend||t.prependIcon),C=!!(i.append||t.appendIcon),D=w.value.length>0,A=!t.hideDetails||t.hideDetails==="auto"&&(D||!!i.details);return m("div",{class:["v-input",`v-input--${t.direction}`,{"v-input--center-affix":t.centerAffix,"v-input--hide-spin-buttons":t.hideSpinButtons},r.value,o.value,l.value,T.value,t.class],style:[a.value,t.style]},[P&&m("div",{key:"prepend",class:"v-input__prepend"},[(N=i.prepend)==null?void 0:N.call(i,S.value),t.prependIcon&&m(u,{key:"prepend-icon",name:"prepend"},null)]),i.default&&m("div",{class:"v-input__control"},[(B=i.default)==null?void 0:B.call(i,S.value)]),C&&m("div",{key:"append",class:"v-input__append"},[t.appendIcon&&m(u,{key:"append-icon",name:"append"},null),(z=i.append)==null?void 0:z.call(i,S.value)]),A&&m("div",{class:"v-input__details"},[m(K4,{id:f.value,active:D,messages:w.value},{message:i.message}),(q=i.details)==null?void 0:q.call(i,S.value)])])}),{reset:k,resetValidation:I,validate:E,isValid:b,errorMessages:h}}}),Ade=te({...qo(),...tn(q4(),["inline"])},"VCheckbox"),Rde=_e()({name:"VCheckbox",inheritAttrs:!1,props:Ade(),emits:{"update:modelValue":t=>!0,"update:focused":t=>!0},setup(t,e){let{attrs:n,slots:i}=e;const s=ze(t,"modelValue"),{isFocused:r,focus:a,blur:o}=eo(t),l=zi(),u=O(()=>t.id||`checkbox-${l}`);return xe(()=>{const[d,c]=zo(n),f=rs.filterProps(t),h=Wa.filterProps(t);return m(rs,J({class:["v-checkbox",t.class]},d,f,{modelValue:s.value,"onUpdate:modelValue":p=>s.value=p,id:u.value,focused:r.value,style:t.style}),{...i,default:p=>{let{id:g,messagesId:v,isDisabled:_,isReadonly:b,isValid:x}=p;return m(Wa,J(h,{id:g.value,"aria-describedby":v.value,disabled:_.value,readonly:b.value},c,{error:x.value===!1,modelValue:s.value,"onUpdate:modelValue":k=>s.value=k,onFocus:a,onBlur:o}),i)}})}),{}}});function Ode(t){let{selectedElement:e,containerElement:n,isRtl:i,isHorizontal:s}=t;const r=Qm(s,n),a=e5(s,i,n),o=Qm(s,e),l=t5(s,e),u=o*.4;return a>l?l-u:a+r<l+o?l-r+o+u:a}function Mde(t){let{selectedElement:e,containerElement:n,isHorizontal:i}=t;const s=Qm(i,n),r=t5(i,e),a=Qm(i,e);return r-s/2+a/2}function RO(t,e){const n=t?"scrollWidth":"scrollHeight";return(e==null?void 0:e[n])||0}function Vde(t,e){const n=t?"clientWidth":"clientHeight";return(e==null?void 0:e[n])||0}function e5(t,e,n){if(!n)return 0;const{scrollLeft:i,offsetWidth:s,scrollWidth:r}=n;return t?e?r-s+i:i:n.scrollTop}function Qm(t,e){const n=t?"offsetWidth":"offsetHeight";return(e==null?void 0:e[n])||0}function t5(t,e){const n=t?"offsetLeft":"offsetTop";return(e==null?void 0:e[n])||0}const n5=Symbol.for("vuetify:v-slide-group"),nC=te({centerActive:Boolean,direction:{type:String,default:"horizontal"},symbol:{type:null,default:n5},nextIcon:{type:Ge,default:"$next"},prevIcon:{type:Ge,default:"$prev"},showArrows:{type:[Boolean,String],validator:t=>typeof t=="boolean"||["always","desktop","mobile"].includes(t)},...Be(),...Mc({mobile:null}),..._t(),...Bc({selectedClass:"v-slide-group-item--active"})},"VSlideGroup"),Jm=_e()({name:"VSlideGroup",props:nC(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const{isRtl:i}=Ti(),{displayClasses:s,mobile:r}=Sr(t),a=au(t,t.symbol),o=Ve(!1),l=Ve(0),u=Ve(0),d=Ve(0),c=O(()=>t.direction==="horizontal"),{resizeRef:f,contentRect:h}=da(),{resizeRef:p,contentRect:g}=da(),v=Gie(),_=O(()=>({container:f.el,duration:200,easing:"easeOutQuart"})),b=O(()=>a.selected.value.length?a.items.value.findIndex(Y=>Y.id===a.selected.value[0]):-1),x=O(()=>a.selected.value.length?a.items.value.findIndex(Y=>Y.id===a.selected.value[a.selected.value.length-1]):-1);if(Yt){let Y=-1;we(()=>[a.selected.value,h.value,g.value,c.value],()=>{cancelAnimationFrame(Y),Y=requestAnimationFrame(()=>{if(h.value&&g.value){const Z=c.value?"width":"height";u.value=h.value[Z],d.value=g.value[Z],o.value=u.value+1<d.value}if(b.value>=0&&p.el){const Z=p.el.children[x.value];I(Z,t.centerActive)}})})}const k=Ve(!1);function I(Y,Z){let ee=0;Z?ee=Mde({containerElement:f.el,isHorizontal:c.value,selectedElement:Y}):ee=Ode({containerElement:f.el,isHorizontal:c.value,isRtl:i.value,selectedElement:Y}),E(ee)}function E(Y){if(!Yt||!f.el)return;const Z=Qm(c.value,f.el),ee=e5(c.value,i.value,f.el);if(!(RO(c.value,f.el)<=Z||Math.abs(Y-ee)<16)){if(c.value&&i.value&&f.el){const{scrollWidth:de,offsetWidth:he}=f.el;Y=de-he-Y}c.value?v.horizontal(Y,_.value):v(Y,_.value)}}function T(Y){const{scrollTop:Z,scrollLeft:ee}=Y.target;l.value=c.value?ee:Z}function S(Y){if(k.value=!0,!(!o.value||!p.el)){for(const Z of Y.composedPath())for(const ee of p.el.children)if(ee===Z){I(ee);return}}}function w(Y){k.value=!1}let P=!1;function C(Y){var Z;!P&&!k.value&&!(Y.relatedTarget&&((Z=p.el)!=null&&Z.contains(Y.relatedTarget)))&&N(),P=!1}function D(){P=!0}function A(Y){if(!p.el)return;function Z(ee){Y.preventDefault(),N(ee)}c.value?Y.key==="ArrowRight"?Z(i.value?"prev":"next"):Y.key==="ArrowLeft"&&Z(i.value?"next":"prev"):Y.key==="ArrowDown"?Z("next"):Y.key==="ArrowUp"&&Z("prev"),Y.key==="Home"?Z("first"):Y.key==="End"&&Z("last")}function N(Y){var ee,le;if(!p.el)return;let Z;if(!Y)Z=Nm(p.el)[0];else if(Y==="next"){if(Z=(ee=p.el.querySelector(":focus"))==null?void 0:ee.nextElementSibling,!Z)return N("first")}else if(Y==="prev"){if(Z=(le=p.el.querySelector(":focus"))==null?void 0:le.previousElementSibling,!Z)return N("last")}else Y==="first"?Z=p.el.firstElementChild:Y==="last"&&(Z=p.el.lastElementChild);Z&&Z.focus({preventScroll:!0})}function B(Y){const Z=c.value&&i.value?-1:1,ee=(Y==="prev"?-Z:Z)*u.value;let le=l.value+ee;if(c.value&&i.value&&f.el){const{scrollWidth:de,offsetWidth:he}=f.el;le+=de-he}E(le)}const z=O(()=>({next:a.next,prev:a.prev,select:a.select,isSelected:a.isSelected})),q=O(()=>{switch(t.showArrows){case"always":return!0;case"desktop":return!r.value;case!0:return o.value||Math.abs(l.value)>0;case"mobile":return r.value||o.value||Math.abs(l.value)>0;default:return!r.value&&(o.value||Math.abs(l.value)>0)}}),W=O(()=>Math.abs(l.value)>1),K=O(()=>{if(!f.value)return!1;const Y=RO(c.value,f.el),Z=Vde(c.value,f.el);return Y-Z-Math.abs(l.value)>1});return xe(()=>m(t.tag,{class:["v-slide-group",{"v-slide-group--vertical":!c.value,"v-slide-group--has-affixes":q.value,"v-slide-group--is-overflowing":o.value},s.value,t.class],style:t.style,tabindex:k.value||a.selected.value.length?-1:0,onFocus:C},{default:()=>{var Y,Z,ee;return[q.value&&m("div",{key:"prev",class:["v-slide-group__prev",{"v-slide-group__prev--disabled":!W.value}],onMousedown:D,onClick:()=>W.value&&B("prev")},[((Y=n.prev)==null?void 0:Y.call(n,z.value))??m(qm,null,{default:()=>[m(Bt,{icon:i.value?t.nextIcon:t.prevIcon},null)]})]),m("div",{key:"container",ref:f,class:"v-slide-group__container",onScroll:T},[m("div",{ref:p,class:"v-slide-group__content",onFocusin:S,onFocusout:w,onKeydown:A},[(Z=n.default)==null?void 0:Z.call(n,z.value)])]),q.value&&m("div",{key:"next",class:["v-slide-group__next",{"v-slide-group__next--disabled":!K.value}],onMousedown:D,onClick:()=>K.value&&B("next")},[((ee=n.next)==null?void 0:ee.call(n,z.value))??m(qm,null,{default:()=>[m(Bt,{icon:i.value?t.prevIcon:t.nextIcon},null)]})])]}})),{selected:a.selected,scrollTo:B,scrollOffset:l,focus:N,hasPrev:W,hasNext:K}}}),i5=Symbol.for("vuetify:v-chip-group"),Lde=te({column:Boolean,filter:Boolean,valueComparator:{type:Function,default:Ka},...nC(),...Be(),...Bc({selectedClass:"v-chip--selected"}),..._t(),...Nt(),...Br({variant:"tonal"})},"VChipGroup"),Nde=_e()({name:"VChipGroup",props:Lde(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const{themeClasses:i}=Kt(t),{isSelected:s,select:r,next:a,prev:o,selected:l}=au(t,i5);return Dn({VChip:{color:ge(t,"color"),disabled:ge(t,"disabled"),filter:ge(t,"filter"),variant:ge(t,"variant")}}),xe(()=>{const u=Jm.filterProps(t);return m(Jm,J(u,{class:["v-chip-group",{"v-chip-group--column":t.column},i.value,t.class],style:t.style}),{default:()=>{var d;return[(d=n.default)==null?void 0:d.call(n,{isSelected:s,select:r,next:a,prev:o,selected:l.value})]}})}),{}}}),Fde=te({activeClass:String,appendAvatar:String,appendIcon:Ge,closable:Boolean,closeIcon:{type:Ge,default:"$delete"},closeLabel:{type:String,default:"$vuetify.close"},draggable:Boolean,filter:Boolean,filterIcon:{type:Ge,default:"$complete"},label:Boolean,link:{type:Boolean,default:void 0},pill:Boolean,prependAvatar:String,prependIcon:Ge,ripple:{type:[Boolean,Object],default:!0},text:String,modelValue:{type:Boolean,default:!0},onClick:Oi(),onClickOnce:Oi(),...ir(),...Be(),...Ci(),...Pi(),...jc(),...Rn(),...Zg(),...Za(),..._t({tag:"span"}),...Nt(),...Br({variant:"tonal"})},"VChip"),Hc=_e()({name:"VChip",directives:{Ripple:Go},props:Fde(),emits:{"click:close":t=>!0,"update:modelValue":t=>!0,"group:selected":t=>!0,click:t=>!0},setup(t,e){let{attrs:n,emit:i,slots:s}=e;const{t:r}=gn(),{borderClasses:a}=Tr(t),{colorClasses:o,colorStyles:l,variantClasses:u}=Fc(t),{densityClasses:d}=ls(t),{elevationClasses:c}=Wi(t),{roundedClasses:f}=qn(t),{sizeClasses:h}=jh(t),{themeClasses:p}=Kt(t),g=ze(t,"modelValue"),v=$c(t,i5,!1),_=Hh(t,n),b=O(()=>t.link!==!1&&_.isLink.value),x=O(()=>!t.disabled&&t.link!==!1&&(!!v||t.link||_.isClickable.value)),k=O(()=>({"aria-label":r(t.closeLabel),onClick(T){T.preventDefault(),T.stopPropagation(),g.value=!1,i("click:close",T)}}));function I(T){var S;i("click",T),x.value&&((S=_.navigate)==null||S.call(_,T),v==null||v.toggle())}function E(T){(T.key==="Enter"||T.key===" ")&&(T.preventDefault(),I(T))}return()=>{var B;const T=_.isLink.value?"a":t.tag,S=!!(t.appendIcon||t.appendAvatar),w=!!(S||s.append),P=!!(s.close||t.closable),C=!!(s.filter||t.filter)&&v,D=!!(t.prependIcon||t.prependAvatar),A=!!(D||s.prepend),N=!v||v.isSelected.value;return g.value&&In(m(T,J({class:["v-chip",{"v-chip--disabled":t.disabled,"v-chip--label":t.label,"v-chip--link":x.value,"v-chip--filter":C,"v-chip--pill":t.pill,[`${t.activeClass}`]:t.activeClass&&((B=_.isActive)==null?void 0:B.value)},p.value,a.value,N?o.value:void 0,d.value,c.value,f.value,h.value,u.value,v==null?void 0:v.selectedClass.value,t.class],style:[N?l.value:void 0,t.style],disabled:t.disabled||void 0,draggable:t.draggable,tabindex:x.value?0:void 0,onClick:I,onKeydown:x.value&&!b.value&&E},_.linkProps),{default:()=>{var z;return[ru(x.value,"v-chip"),C&&m(JP,{key:"filter"},{default:()=>[In(m("div",{class:"v-chip__filter"},[s.filter?m(dt,{key:"filter-defaults",disabled:!t.filterIcon,defaults:{VIcon:{icon:t.filterIcon}}},s.filter):m(Bt,{key:"filter-icon",icon:t.filterIcon},null)]),[[va,v.isSelected.value]])]}),A&&m("div",{key:"prepend",class:"v-chip__prepend"},[s.prepend?m(dt,{key:"prepend-defaults",disabled:!D,defaults:{VAvatar:{image:t.prependAvatar,start:!0},VIcon:{icon:t.prependIcon,start:!0}}},s.prepend):m(Ee,null,[t.prependIcon&&m(Bt,{key:"prepend-icon",icon:t.prependIcon,start:!0},null),t.prependAvatar&&m($s,{key:"prepend-avatar",image:t.prependAvatar,start:!0},null)])]),m("div",{class:"v-chip__content","data-no-activator":""},[((z=s.default)==null?void 0:z.call(s,{isSelected:v==null?void 0:v.isSelected.value,selectedClass:v==null?void 0:v.selectedClass.value,select:v==null?void 0:v.select,toggle:v==null?void 0:v.toggle,value:v==null?void 0:v.value.value,disabled:t.disabled}))??t.text]),w&&m("div",{key:"append",class:"v-chip__append"},[s.append?m(dt,{key:"append-defaults",disabled:!S,defaults:{VAvatar:{end:!0,image:t.appendAvatar},VIcon:{end:!0,icon:t.appendIcon}}},s.append):m(Ee,null,[t.appendIcon&&m(Bt,{key:"append-icon",end:!0,icon:t.appendIcon},null),t.appendAvatar&&m($s,{key:"append-avatar",end:!0,image:t.appendAvatar},null)])]),P&&m("button",J({key:"close",class:"v-chip__close",type:"button","data-testid":"close-chip"},k.value),[s.close?m(dt,{key:"close-defaults",defaults:{VIcon:{icon:t.closeIcon,size:"x-small"}}},s.close):m(Bt,{key:"close-icon",icon:t.closeIcon,size:"x-small"},null)])]}}),[[nr("ripple"),x.value&&t.ripple,null]])}}}),g1=Symbol.for("vuetify:list");function s5(){const t=gt(g1,{hasPrepend:Ve(!1),updateHasPrepend:()=>null}),e={hasPrepend:Ve(!1),updateHasPrepend:n=>{n&&(e.hasPrepend.value=n)}};return Jt(g1,e),t}function r5(){return gt(g1,null)}const iC=t=>{const e={activate:n=>{let{id:i,value:s,activated:r}=n;return i=Xe(i),t&&!s&&r.size===1&&r.has(i)||(s?r.add(i):r.delete(i)),r},in:(n,i,s)=>{let r=new Set;if(n!=null)for(const a of bn(n))r=e.activate({id:a,value:!0,activated:new Set(r),children:i,parents:s});return r},out:n=>Array.from(n)};return e},a5=t=>{const e=iC(t);return{activate:i=>{let{activated:s,id:r,...a}=i;r=Xe(r);const o=s.has(r)?new Set([r]):new Set;return e.activate({...a,id:r,activated:o})},in:(i,s,r)=>{let a=new Set;if(i!=null){const o=bn(i);o.length&&(a=e.in(o.slice(0,1),s,r))}return a},out:(i,s,r)=>e.out(i,s,r)}},Bde=t=>{const e=iC(t);return{activate:i=>{let{id:s,activated:r,children:a,...o}=i;return s=Xe(s),a.has(s)?r:e.activate({id:s,activated:r,children:a,...o})},in:e.in,out:e.out}},jde=t=>{const e=a5(t);return{activate:i=>{let{id:s,activated:r,children:a,...o}=i;return s=Xe(s),a.has(s)?r:e.activate({id:s,activated:r,children:a,...o})},in:e.in,out:e.out}},$de={open:t=>{let{id:e,value:n,opened:i,parents:s}=t;if(n){const r=new Set;r.add(e);let a=s.get(e);for(;a!=null;)r.add(a),a=s.get(a);return r}else return i.delete(e),i},select:()=>null},o5={open:t=>{let{id:e,value:n,opened:i,parents:s}=t;if(n){let r=s.get(e);for(i.add(e);r!=null&&r!==e;)i.add(r),r=s.get(r);return i}else i.delete(e);return i},select:()=>null},Ude={open:o5.open,select:t=>{let{id:e,value:n,opened:i,parents:s}=t;if(!n)return i;const r=[];let a=s.get(e);for(;a!=null;)r.push(a),a=s.get(a);return new Set(r)}},sC=t=>{const e={select:n=>{let{id:i,value:s,selected:r}=n;if(i=Xe(i),t&&!s){const a=Array.from(r.entries()).reduce((o,l)=>{let[u,d]=l;return d==="on"&&o.push(u),o},[]);if(a.length===1&&a[0]===i)return r}return r.set(i,s?"on":"off"),r},in:(n,i,s)=>{let r=new Map;for(const a of n||[])r=e.select({id:a,value:!0,selected:new Map(r),children:i,parents:s});return r},out:n=>{const i=[];for(const[s,r]of n.entries())r==="on"&&i.push(s);return i}};return e},l5=t=>{const e=sC(t);return{select:i=>{let{selected:s,id:r,...a}=i;r=Xe(r);const o=s.has(r)?new Map([[r,s.get(r)]]):new Map;return e.select({...a,id:r,selected:o})},in:(i,s,r)=>{let a=new Map;return i!=null&&i.length&&(a=e.in(i.slice(0,1),s,r)),a},out:(i,s,r)=>e.out(i,s,r)}},Hde=t=>{const e=sC(t);return{select:i=>{let{id:s,selected:r,children:a,...o}=i;return s=Xe(s),a.has(s)?r:e.select({id:s,selected:r,children:a,...o})},in:e.in,out:e.out}},zde=t=>{const e=l5(t);return{select:i=>{let{id:s,selected:r,children:a,...o}=i;return s=Xe(s),a.has(s)?r:e.select({id:s,selected:r,children:a,...o})},in:e.in,out:e.out}},Wde=t=>{const e={select:n=>{let{id:i,value:s,selected:r,children:a,parents:o}=n;i=Xe(i);const l=new Map(r),u=[i];for(;u.length;){const c=u.shift();r.set(Xe(c),s?"on":"off"),a.has(c)&&u.push(...a.get(c))}let d=Xe(o.get(i));for(;d;){const c=a.get(d),f=c.every(p=>r.get(Xe(p))==="on"),h=c.every(p=>!r.has(Xe(p))||r.get(Xe(p))==="off");r.set(d,f?"on":h?"off":"indeterminate"),d=Xe(o.get(d))}return t&&!s&&Array.from(r.entries()).reduce((f,h)=>{let[p,g]=h;return g==="on"&&f.push(p),f},[]).length===0?l:r},in:(n,i,s)=>{let r=new Map;for(const a of n||[])r=e.select({id:a,value:!0,selected:new Map(r),children:i,parents:s});return r},out:(n,i)=>{const s=[];for(const[r,a]of n.entries())a==="on"&&!i.has(r)&&s.push(r);return s}};return e},Zm=Symbol.for("vuetify:nested"),u5={id:Ve(),root:{register:()=>null,unregister:()=>null,parents:G(new Map),children:G(new Map),open:()=>null,openOnSelect:()=>null,activate:()=>null,select:()=>null,activatable:G(!1),selectable:G(!1),opened:G(new Set),activated:G(new Set),selected:G(new Map),selectedValues:G([]),getPath:()=>[]}},Yde=te({activatable:Boolean,selectable:Boolean,activeStrategy:[String,Function,Object],selectStrategy:[String,Function,Object],openStrategy:[String,Object],opened:null,activated:null,selected:null,mandatory:Boolean},"nested"),Gde=t=>{let e=!1;const n=G(new Map),i=G(new Map),s=ze(t,"opened",t.opened,p=>new Set(p),p=>[...p.values()]),r=O(()=>{if(typeof t.activeStrategy=="object")return t.activeStrategy;if(typeof t.activeStrategy=="function")return t.activeStrategy(t.mandatory);switch(t.activeStrategy){case"leaf":return Bde(t.mandatory);case"single-leaf":return jde(t.mandatory);case"independent":return iC(t.mandatory);case"single-independent":default:return a5(t.mandatory)}}),a=O(()=>{if(typeof t.selectStrategy=="object")return t.selectStrategy;if(typeof t.selectStrategy=="function")return t.selectStrategy(t.mandatory);switch(t.selectStrategy){case"single-leaf":return zde(t.mandatory);case"leaf":return Hde(t.mandatory);case"independent":return sC(t.mandatory);case"single-independent":return l5(t.mandatory);case"classic":default:return Wde(t.mandatory)}}),o=O(()=>{if(typeof t.openStrategy=="object")return t.openStrategy;switch(t.openStrategy){case"list":return Ude;case"single":return $de;case"multiple":default:return o5}}),l=ze(t,"activated",t.activated,p=>r.value.in(p,n.value,i.value),p=>r.value.out(p,n.value,i.value)),u=ze(t,"selected",t.selected,p=>a.value.in(p,n.value,i.value),p=>a.value.out(p,n.value,i.value));Mi(()=>{e=!0});function d(p){const g=[];let v=p;for(;v!=null;)g.unshift(v),v=i.value.get(v);return g}const c=Gn("nested"),f=new Set,h={id:Ve(),root:{opened:s,activatable:ge(t,"activatable"),selectable:ge(t,"selectable"),activated:l,selected:u,selectedValues:O(()=>{const p=[];for(const[g,v]of u.value.entries())v==="on"&&p.push(g);return p}),register:(p,g,v)=>{if(f.has(p)){d(p).map(String).join(" -> "),d(g).concat(p).map(String).join(" -> ");return}else f.add(p);g&&p!==g&&i.value.set(p,g),v&&n.value.set(p,[]),g!=null&&n.value.set(g,[...n.value.get(g)||[],p])},unregister:p=>{if(e)return;f.delete(p),n.value.delete(p);const g=i.value.get(p);if(g){const v=n.value.get(g)??[];n.value.set(g,v.filter(_=>_!==p))}i.value.delete(p)},open:(p,g,v)=>{c.emit("click:open",{id:p,value:g,path:d(p),event:v});const _=o.value.open({id:p,value:g,opened:new Set(s.value),children:n.value,parents:i.value,event:v});_&&(s.value=_)},openOnSelect:(p,g,v)=>{const _=o.value.select({id:p,value:g,selected:new Map(u.value),opened:new Set(s.value),children:n.value,parents:i.value,event:v});_&&(s.value=_)},select:(p,g,v)=>{c.emit("click:select",{id:p,value:g,path:d(p),event:v});const _=a.value.select({id:p,value:g,selected:new Map(u.value),children:n.value,parents:i.value,event:v});_&&(u.value=_),h.root.openOnSelect(p,g,v)},activate:(p,g,v)=>{if(!t.activatable)return h.root.select(p,!0,v);c.emit("click:activate",{id:p,value:g,path:d(p),event:v});const _=r.value.activate({id:p,value:g,activated:new Set(l.value),children:n.value,parents:i.value,event:v});_&&(l.value=_)},children:n,parents:i,getPath:d}};return Jt(Zm,h),h.root},c5=(t,e)=>{const n=gt(Zm,u5),i=Symbol(zi()),s=O(()=>t.value!==void 0?t.value:i),r={...n,id:s,open:(a,o)=>n.root.open(s.value,a,o),openOnSelect:(a,o)=>n.root.openOnSelect(s.value,a,o),isOpen:O(()=>n.root.opened.value.has(s.value)),parent:O(()=>n.root.parents.value.get(s.value)),activate:(a,o)=>n.root.activate(s.value,a,o),isActivated:O(()=>n.root.activated.value.has(Xe(s.value))),select:(a,o)=>n.root.select(s.value,a,o),isSelected:O(()=>n.root.selected.value.get(Xe(s.value))==="on"),isIndeterminate:O(()=>n.root.selected.value.get(s.value)==="indeterminate"),isLeaf:O(()=>!n.root.children.value.get(s.value)),isGroupActivator:n.isGroupActivator};return kh(()=>{!n.isGroupActivator&&n.root.register(s.value,n.id.value,e)}),Mi(()=>{!n.isGroupActivator&&n.root.unregister(s.value)}),e&&Jt(Zm,r),r},qde=()=>{const t=gt(Zm,u5);Jt(Zm,{...t,isGroupActivator:!0})},Xde=xr({name:"VListGroupActivator",setup(t,e){let{slots:n}=e;return qde(),()=>{var i;return(i=n.default)==null?void 0:i.call(n)}}}),d5=te({activeColor:String,baseColor:String,color:String,collapseIcon:{type:Ge,default:"$collapse"},expandIcon:{type:Ge,default:"$expand"},prependIcon:Ge,appendIcon:Ge,fluid:Boolean,subgroup:Boolean,title:String,value:null,...Be(),..._t()},"VListGroup"),eg=_e()({name:"VListGroup",props:d5(),setup(t,e){let{slots:n}=e;const{isOpen:i,open:s,id:r}=c5(ge(t,"value"),!0),a=O(()=>`v-list-group--id-${String(r.value)}`),o=r5(),{isBooted:l}=Nc();function u(h){h.stopPropagation(),s(!i.value,h)}const d=O(()=>({onClick:u,class:"v-list-group__header",id:a.value})),c=O(()=>i.value?t.collapseIcon:t.expandIcon),f=O(()=>({VListItem:{active:i.value,activeColor:t.activeColor,baseColor:t.baseColor,color:t.color,prependIcon:t.prependIcon||t.subgroup&&c.value,appendIcon:t.appendIcon||!t.subgroup&&c.value,title:t.title,value:t.value}}));return xe(()=>m(t.tag,{class:["v-list-group",{"v-list-group--prepend":o==null?void 0:o.hasPrepend.value,"v-list-group--fluid":t.fluid,"v-list-group--subgroup":t.subgroup,"v-list-group--open":i.value},t.class],style:t.style},{default:()=>[n.activator&&m(dt,{defaults:f.value},{default:()=>[m(Xde,null,{default:()=>[n.activator({props:d.value,isOpen:i.value})]})]}),m(Ts,{transition:{component:cw},disabled:!l.value},{default:()=>{var h;return[In(m("div",{class:"v-list-group__items",role:"group","aria-labelledby":a.value},[(h=n.default)==null?void 0:h.call(n)]),[[va,i.value]])]}})]})),{isOpen:i}}}),Kde=te({opacity:[Number,String],...Be(),..._t()},"VListItemSubtitle"),h5=_e()({name:"VListItemSubtitle",props:Kde(),setup(t,e){let{slots:n}=e;return xe(()=>m(t.tag,{class:["v-list-item-subtitle",t.class],style:[{"--v-list-item-subtitle-opacity":t.opacity},t.style]},n)),{}}}),f5=Ja("v-list-item-title"),rC=te({active:{type:Boolean,default:void 0},activeClass:String,activeColor:String,appendAvatar:String,appendIcon:Ge,baseColor:String,disabled:Boolean,lines:[Boolean,String],link:{type:Boolean,default:void 0},nav:Boolean,prependAvatar:String,prependIcon:Ge,ripple:{type:[Boolean,Object],default:!0},slim:Boolean,subtitle:[String,Number],title:[String,Number],value:null,onClick:Oi(),onClickOnce:Oi(),...ir(),...Be(),...Ci(),...fi(),...Pi(),...Rn(),...Zg(),..._t(),...Nt(),...Br({variant:"text"})},"VListItem"),br=_e()({name:"VListItem",directives:{Ripple:Go},props:rC(),emits:{click:t=>!0},setup(t,e){let{attrs:n,slots:i,emit:s}=e;const r=Hh(t,n),a=O(()=>t.value===void 0?r.href.value:t.value),{activate:o,isActivated:l,select:u,isOpen:d,isSelected:c,isIndeterminate:f,isGroupActivator:h,root:p,parent:g,openOnSelect:v,id:_}=c5(a,!1),b=r5(),x=O(()=>{var de;return t.active!==!1&&(t.active||((de=r.isActive)==null?void 0:de.value)||(p.activatable.value?l.value:c.value))}),k=O(()=>t.link!==!1&&r.isLink.value),I=O(()=>!!b&&(p.selectable.value||p.activatable.value||t.value!=null)),E=O(()=>!t.disabled&&t.link!==!1&&(t.link||r.isClickable.value||I.value)),T=O(()=>t.rounded||t.nav),S=O(()=>t.color??t.activeColor),w=O(()=>({color:x.value?S.value??t.baseColor:t.baseColor,variant:t.variant}));we(()=>{var de;return(de=r.isActive)==null?void 0:de.value},de=>{de&&P()}),kh(()=>{var de;(de=r.isActive)!=null&&de.value&&P()});function P(){g.value!=null&&p.open(g.value,!0),v(!0)}const{themeClasses:C}=Kt(t),{borderClasses:D}=Tr(t),{colorClasses:A,colorStyles:N,variantClasses:B}=Fc(w),{densityClasses:z}=ls(t),{dimensionStyles:q}=mi(t),{elevationClasses:W}=Wi(t),{roundedClasses:K}=qn(T),Y=O(()=>t.lines?`v-list-item--${t.lines}-line`:void 0),Z=O(()=>({isActive:x.value,select:u,isOpen:d.value,isSelected:c.value,isIndeterminate:f.value}));function ee(de){var he;s("click",de),E.value&&((he=r.navigate)==null||he.call(r,de),!h&&(p.activatable.value?o(!l.value,de):(p.selectable.value||t.value!=null)&&u(!c.value,de)))}function le(de){(de.key==="Enter"||de.key===" ")&&(de.preventDefault(),de.target.dispatchEvent(new MouseEvent("click",de)))}return xe(()=>{const de=k.value?"a":t.tag,he=i.title||t.title!=null,re=i.subtitle||t.subtitle!=null,U=!!(t.appendAvatar||t.appendIcon),X=!!(U||i.append),ae=!!(t.prependAvatar||t.prependIcon),pe=!!(ae||i.prepend);return b==null||b.updateHasPrepend(pe),t.activeColor&&Ene("active-color",["color","base-color"]),In(m(de,J({class:["v-list-item",{"v-list-item--active":x.value,"v-list-item--disabled":t.disabled,"v-list-item--link":E.value,"v-list-item--nav":t.nav,"v-list-item--prepend":!pe&&(b==null?void 0:b.hasPrepend.value),"v-list-item--slim":t.slim,[`${t.activeClass}`]:t.activeClass&&x.value},C.value,D.value,A.value,z.value,W.value,Y.value,K.value,B.value,t.class],style:[N.value,q.value,t.style],tabindex:E.value?b?-2:0:void 0,"aria-selected":I.value?p.activatable.value?l.value:p.selectable.value?c.value:x.value:void 0,onClick:ee,onKeydown:E.value&&!k.value&&le},r.linkProps),{default:()=>{var ve;return[ru(E.value||x.value,"v-list-item"),pe&&m("div",{key:"prepend",class:"v-list-item__prepend"},[i.prepend?m(dt,{key:"prepend-defaults",disabled:!ae,defaults:{VAvatar:{density:t.density,image:t.prependAvatar},VIcon:{density:t.density,icon:t.prependIcon},VListItemAction:{start:!0}}},{default:()=>{var F;return[(F=i.prepend)==null?void 0:F.call(i,Z.value)]}}):m(Ee,null,[t.prependAvatar&&m($s,{key:"prepend-avatar",density:t.density,image:t.prependAvatar},null),t.prependIcon&&m(Bt,{key:"prepend-icon",density:t.density,icon:t.prependIcon},null)]),m("div",{class:"v-list-item__spacer"},null)]),m("div",{class:"v-list-item__content","data-no-activator":""},[he&&m(f5,{key:"title"},{default:()=>{var F;return[((F=i.title)==null?void 0:F.call(i,{title:t.title}))??t.title]}}),re&&m(h5,{key:"subtitle"},{default:()=>{var F;return[((F=i.subtitle)==null?void 0:F.call(i,{subtitle:t.subtitle}))??t.subtitle]}}),(ve=i.default)==null?void 0:ve.call(i,Z.value)]),X&&m("div",{key:"append",class:"v-list-item__append"},[i.append?m(dt,{key:"append-defaults",disabled:!U,defaults:{VAvatar:{density:t.density,image:t.appendAvatar},VIcon:{density:t.density,icon:t.appendIcon},VListItemAction:{end:!0}}},{default:()=>{var F;return[(F=i.append)==null?void 0:F.call(i,Z.value)]}}):m(Ee,null,[t.appendIcon&&m(Bt,{key:"append-icon",density:t.density,icon:t.appendIcon},null),t.appendAvatar&&m($s,{key:"append-avatar",density:t.density,image:t.appendAvatar},null)]),m("div",{class:"v-list-item__spacer"},null)])]}}),[[nr("ripple"),E.value&&t.ripple]])}),{activate:o,isActivated:l,isGroupActivator:h,isSelected:c,list:b,select:u,root:p,id:_}}}),Qde=te({color:String,inset:Boolean,sticky:Boolean,title:String,...Be(),..._t()},"VListSubheader"),m5=_e()({name:"VListSubheader",props:Qde(),setup(t,e){let{slots:n}=e;const{textColorClasses:i,textColorStyles:s}=Ui(ge(t,"color"));return xe(()=>{const r=!!(n.default||t.title);return m(t.tag,{class:["v-list-subheader",{"v-list-subheader--inset":t.inset,"v-list-subheader--sticky":t.sticky},i.value,t.class],style:[{textColorStyles:s},t.style]},{default:()=>{var a;return[r&&m("div",{class:"v-list-subheader__text"},[((a=n.default)==null?void 0:a.call(n))??t.title])]}})}),{}}}),g5=te({color:String,inset:Boolean,length:[Number,String],opacity:[Number,String],thickness:[Number,String],vertical:Boolean,...Be(),...Nt()},"VDivider"),Qr=_e()({name:"VDivider",props:g5(),setup(t,e){let{attrs:n,slots:i}=e;const{themeClasses:s}=Kt(t),{textColorClasses:r,textColorStyles:a}=Ui(ge(t,"color")),o=O(()=>{const l={};return t.length&&(l[t.vertical?"height":"width"]=Le(t.length)),t.thickness&&(l[t.vertical?"borderRightWidth":"borderTopWidth"]=Le(t.thickness)),l});return xe(()=>{const l=m("hr",{class:[{"v-divider":!0,"v-divider--inset":t.inset,"v-divider--vertical":t.vertical},s.value,r.value,t.class],style:[o.value,a.value,{"--v-border-opacity":t.opacity},t.style],"aria-orientation":!n.role||n.role==="separator"?t.vertical?"vertical":"horizontal":void 0,role:`${n.role||"separator"}`},null);return i.default?m("div",{class:["v-divider__wrapper",{"v-divider__wrapper--vertical":t.vertical,"v-divider__wrapper--inset":t.inset}]},[l,m("div",{class:"v-divider__content"},[i.default()]),l]):l}),{}}}),Jde=te({items:Array,returnObject:Boolean},"VListChildren"),p5=_e()({name:"VListChildren",props:Jde(),setup(t,e){let{slots:n}=e;return s5(),()=>{var i,s;return((i=n.default)==null?void 0:i.call(n))??((s=t.items)==null?void 0:s.map(r=>{var f,h;let{children:a,props:o,type:l,raw:u}=r;if(l==="divider")return((f=n.divider)==null?void 0:f.call(n,{props:o}))??m(Qr,o,null);if(l==="subheader")return((h=n.subheader)==null?void 0:h.call(n,{props:o}))??m(m5,o,null);const d={subtitle:n.subtitle?p=>{var g;return(g=n.subtitle)==null?void 0:g.call(n,{...p,item:u})}:void 0,prepend:n.prepend?p=>{var g;return(g=n.prepend)==null?void 0:g.call(n,{...p,item:u})}:void 0,append:n.append?p=>{var g;return(g=n.append)==null?void 0:g.call(n,{...p,item:u})}:void 0,title:n.title?p=>{var g;return(g=n.title)==null?void 0:g.call(n,{...p,item:u})}:void 0},c=eg.filterProps(o);return a?m(eg,J({value:o==null?void 0:o.value},c),{activator:p=>{let{props:g}=p;const v={...o,...g,value:t.returnObject?u:o.value};return n.header?n.header({props:v}):m(br,v,d)},default:()=>m(p5,{items:a,returnObject:t.returnObject},n)}):n.item?n.item({props:o}):m(br,J(o,{value:t.returnObject?u:o.value}),d)}))}}}),v5=te({items:{type:Array,default:()=>[]},itemTitle:{type:[String,Array,Function],default:"title"},itemValue:{type:[String,Array,Function],default:"value"},itemChildren:{type:[Boolean,String,Array,Function],default:"children"},itemProps:{type:[Boolean,String,Array,Function],default:"props"},returnObject:Boolean,valueComparator:{type:Function,default:Ka}},"list-items");function gl(t,e){const n=si(e,t.itemTitle,e),i=si(e,t.itemValue,n),s=si(e,t.itemChildren),r=t.itemProps===!0?typeof e=="object"&&e!=null&&!Array.isArray(e)?"children"in e?tn(e,["children"]):e:void 0:si(e,t.itemProps),a={title:n,value:i,...r};return{title:String(a.title??""),value:a.value,props:a,children:Array.isArray(s)?_5(t,s):void 0,raw:e}}function _5(t,e){const n=[];for(const i of e)n.push(gl(t,i));return n}function aC(t){const e=O(()=>_5(t,t.items)),n=O(()=>e.value.some(r=>r.value===null));function i(r){return n.value||(r=r.filter(a=>a!==null)),r.map(a=>t.returnObject&&typeof a=="string"?gl(t,a):e.value.find(o=>t.valueComparator(a,o.value))||gl(t,a))}function s(r){return t.returnObject?r.map(a=>{let{raw:o}=a;return o}):r.map(a=>{let{value:o}=a;return o})}return{items:e,transformIn:i,transformOut:s}}function Zde(t){return typeof t=="string"||typeof t=="number"||typeof t=="boolean"}function ehe(t,e){const n=si(e,t.itemType,"item"),i=Zde(e)?e:si(e,t.itemTitle),s=si(e,t.itemValue,void 0),r=si(e,t.itemChildren),a=t.itemProps===!0?tn(e,["children"]):si(e,t.itemProps),o={title:i,value:s,...a};return{type:n,title:o.title,value:o.value,props:o,children:n==="item"&&r?y5(t,r):void 0,raw:e}}function y5(t,e){const n=[];for(const i of e)n.push(ehe(t,i));return n}function b5(t){return{items:O(()=>y5(t,t.items))}}const w5=te({baseColor:String,activeColor:String,activeClass:String,bgColor:String,disabled:Boolean,expandIcon:Ge,collapseIcon:Ge,lines:{type:[Boolean,String],default:"one"},slim:Boolean,nav:Boolean,"onClick:open":Oi(),"onClick:select":Oi(),"onUpdate:opened":Oi(),...Yde({selectStrategy:"single-leaf",openStrategy:"list"}),...ir(),...Be(),...Ci(),...fi(),...Pi(),itemType:{type:String,default:"type"},...v5(),...Rn(),..._t(),...Nt(),...Br({variant:"text"})},"VList"),dh=_e()({name:"VList",props:w5(),emits:{"update:selected":t=>!0,"update:activated":t=>!0,"update:opened":t=>!0,"click:open":t=>!0,"click:activate":t=>!0,"click:select":t=>!0},setup(t,e){let{slots:n}=e;const{items:i}=b5(t),{themeClasses:s}=Kt(t),{backgroundColorClasses:r,backgroundColorStyles:a}=rn(ge(t,"bgColor")),{borderClasses:o}=Tr(t),{densityClasses:l}=ls(t),{dimensionStyles:u}=mi(t),{elevationClasses:d}=Wi(t),{roundedClasses:c}=qn(t),{children:f,open:h,parents:p,select:g,getPath:v}=Gde(t),_=O(()=>t.lines?`v-list--${t.lines}-line`:void 0),b=ge(t,"activeColor"),x=ge(t,"baseColor"),k=ge(t,"color");s5(),Dn({VListGroup:{activeColor:b,baseColor:x,color:k,expandIcon:ge(t,"expandIcon"),collapseIcon:ge(t,"collapseIcon")},VListItem:{activeClass:ge(t,"activeClass"),activeColor:b,baseColor:x,color:k,density:ge(t,"density"),disabled:ge(t,"disabled"),lines:ge(t,"lines"),nav:ge(t,"nav"),slim:ge(t,"slim"),variant:ge(t,"variant")}});const I=Ve(!1),E=G();function T(A){I.value=!0}function S(A){I.value=!1}function w(A){var N;!I.value&&!(A.relatedTarget&&((N=E.value)!=null&&N.contains(A.relatedTarget)))&&D()}function P(A){const N=A.target;if(!(!E.value||["INPUT","TEXTAREA"].includes(N.tagName))){if(A.key==="ArrowDown")D("next");else if(A.key==="ArrowUp")D("prev");else if(A.key==="Home")D("first");else if(A.key==="End")D("last");else return;A.preventDefault()}}function C(A){I.value=!0}function D(A){if(E.value)return zu(E.value,A)}return xe(()=>m(t.tag,{ref:E,class:["v-list",{"v-list--disabled":t.disabled,"v-list--nav":t.nav,"v-list--slim":t.slim},s.value,r.value,o.value,l.value,d.value,_.value,c.value,t.class],style:[a.value,u.value,t.style],tabindex:t.disabled||I.value?-1:0,role:"listbox","aria-activedescendant":void 0,onFocusin:T,onFocusout:S,onFocus:w,onKeydown:P,onMousedown:C},{default:()=>[m(p5,{items:i.value,returnObject:t.returnObject},n)]})),{open:h,select:g,focus:D,children:f,parents:p,getPath:v}}}),the=Ja("v-list-img"),nhe=te({start:Boolean,end:Boolean,...Be(),..._t()},"VListItemAction"),x5=_e()({name:"VListItemAction",props:nhe(),setup(t,e){let{slots:n}=e;return xe(()=>m(t.tag,{class:["v-list-item-action",{"v-list-item-action--start":t.start,"v-list-item-action--end":t.end},t.class],style:t.style},n)),{}}}),ihe=te({start:Boolean,end:Boolean,...Be(),..._t()},"VListItemMedia"),she=_e()({name:"VListItemMedia",props:ihe(),setup(t,e){let{slots:n}=e;return xe(()=>m(t.tag,{class:["v-list-item-media",{"v-list-item-media--start":t.start,"v-list-item-media--end":t.end},t.class],style:t.style},n)),{}}});function tx(t,e){return{x:t.x+e.x,y:t.y+e.y}}function rhe(t,e){return{x:t.x-e.x,y:t.y-e.y}}function OO(t,e){if(t.side==="top"||t.side==="bottom"){const{side:n,align:i}=t,s=i==="left"?0:i==="center"?e.width/2:i==="right"?e.width:i,r=n==="top"?0:n==="bottom"?e.height:n;return tx({x:s,y:r},e)}else if(t.side==="left"||t.side==="right"){const{side:n,align:i}=t,s=n==="left"?0:n==="right"?e.width:n,r=i==="top"?0:i==="center"?e.height/2:i==="bottom"?e.height:i;return tx({x:s,y:r},e)}return tx({x:e.width/2,y:e.height/2},e)}const S5={static:lhe,connected:che},ahe=te({locationStrategy:{type:[String,Function],default:"static",validator:t=>typeof t=="function"||t in S5},location:{type:String,default:"bottom"},origin:{type:String,default:"auto"},offset:[Number,String,Array]},"VOverlay-location-strategies");function ohe(t,e){const n=G({}),i=G();Yt&&Ns(()=>!!(e.isActive.value&&t.locationStrategy),r=>{var a,o;we(()=>t.locationStrategy,r),as(()=>{window.removeEventListener("resize",s),i.value=void 0}),window.addEventListener("resize",s,{passive:!0}),typeof t.locationStrategy=="function"?i.value=(a=t.locationStrategy(e,t,n))==null?void 0:a.updateLocation:i.value=(o=S5[t.locationStrategy](e,t,n))==null?void 0:o.updateLocation});function s(r){var a;(a=i.value)==null||a.call(i,r)}return{contentStyles:n,updateLocation:i}}function lhe(){}function uhe(t,e){const n=kP(t);return e?n.x+=parseFloat(t.style.right||0):n.x-=parseFloat(t.style.left||0),n.y-=parseFloat(t.style.top||0),n}function che(t,e,n){(Array.isArray(t.target.value)||Xne(t.target.value))&&Object.assign(n.value,{position:"fixed",top:0,[t.isRtl.value?"right":"left"]:0});const{preferredAnchor:s,preferredOrigin:r}=xP(()=>{const p=$S(e.location,t.isRtl.value),g=e.origin==="overlap"?p:e.origin==="auto"?U0(p):$S(e.origin,t.isRtl.value);return p.side===g.side&&p.align===H0(g).align?{preferredAnchor:gR(p),preferredOrigin:gR(g)}:{preferredAnchor:p,preferredOrigin:g}}),[a,o,l,u]=["minWidth","minHeight","maxWidth","maxHeight"].map(p=>O(()=>{const g=parseFloat(e[p]);return isNaN(g)?1/0:g})),d=O(()=>{if(Array.isArray(e.offset))return e.offset;if(typeof e.offset=="string"){const p=e.offset.split(" ").map(parseFloat);return p.length<2&&p.push(0),p}return typeof e.offset=="number"?[e.offset,0]:[0,0]});let c=!1;const f=new ResizeObserver(()=>{c&&h()});we([t.target,t.contentEl],(p,g)=>{let[v,_]=p,[b,x]=g;b&&!Array.isArray(b)&&f.unobserve(b),v&&!Array.isArray(v)&&f.observe(v),x&&f.unobserve(x),_&&f.observe(_)},{immediate:!0}),as(()=>{f.disconnect()});function h(){if(c=!1,requestAnimationFrame(()=>c=!0),!t.target.value||!t.contentEl.value)return;const p=Pj(t.target.value),g=uhe(t.contentEl.value,t.isRtl.value),v=Bm(t.contentEl.value),_=12;v.length||(v.push(document.documentElement),t.contentEl.value.style.top&&t.contentEl.value.style.left||(g.x-=parseFloat(document.documentElement.style.getPropertyValue("--v-body-scroll-x")||0),g.y-=parseFloat(document.documentElement.style.getPropertyValue("--v-body-scroll-y")||0)));const b=v.reduce((C,D)=>{const A=D.getBoundingClientRect(),N=new Wu({x:D===document.documentElement?0:A.x,y:D===document.documentElement?0:A.y,width:D.clientWidth,height:D.clientHeight});return C?new Wu({x:Math.max(C.left,N.left),y:Math.max(C.top,N.top),width:Math.min(C.right,N.right)-Math.max(C.left,N.left),height:Math.min(C.bottom,N.bottom)-Math.max(C.top,N.top)}):N},void 0);b.x+=_,b.y+=_,b.width-=_*2,b.height-=_*2;let x={anchor:s.value,origin:r.value};function k(C){const D=new Wu(g),A=OO(C.anchor,p),N=OO(C.origin,D);let{x:B,y:z}=rhe(A,N);switch(C.anchor.side){case"top":z-=d.value[0];break;case"bottom":z+=d.value[0];break;case"left":B-=d.value[0];break;case"right":B+=d.value[0];break}switch(C.anchor.align){case"top":z-=d.value[1];break;case"bottom":z+=d.value[1];break;case"left":B-=d.value[1];break;case"right":B+=d.value[1];break}return D.x+=B,D.y+=z,D.width=Math.min(D.width,l.value),D.height=Math.min(D.height,u.value),{overflows:vR(D,b),x:B,y:z}}let I=0,E=0;const T={x:0,y:0},S={x:!1,y:!1};let w=-1;for(;!(w++>10);){const{x:C,y:D,overflows:A}=k(x);I+=C,E+=D,g.x+=C,g.y+=D;{const N=pR(x.anchor),B=A.x.before||A.x.after,z=A.y.before||A.y.after;let q=!1;if(["x","y"].forEach(W=>{if(W==="x"&&B&&!S.x||W==="y"&&z&&!S.y){const K={anchor:{...x.anchor},origin:{...x.origin}},Y=W==="x"?N==="y"?H0:U0:N==="y"?U0:H0;K.anchor=Y(K.anchor),K.origin=Y(K.origin);const{overflows:Z}=k(K);(Z[W].before<=A[W].before&&Z[W].after<=A[W].after||Z[W].before+Z[W].after<(A[W].before+A[W].after)/2)&&(x=K,q=S[W]=!0)}}),q)continue}A.x.before&&(I+=A.x.before,g.x+=A.x.before),A.x.after&&(I-=A.x.after,g.x-=A.x.after),A.y.before&&(E+=A.y.before,g.y+=A.y.before),A.y.after&&(E-=A.y.after,g.y-=A.y.after);{const N=vR(g,b);T.x=b.width-N.x.before-N.x.after,T.y=b.height-N.y.before-N.y.after,I+=N.x.before,g.x+=N.x.before,E+=N.y.before,g.y+=N.y.before}break}const P=pR(x.anchor);return Object.assign(n.value,{"--v-overlay-anchor-origin":`${x.anchor.side} ${x.anchor.align}`,transformOrigin:`${x.origin.side} ${x.origin.align}`,top:Le(nx(E)),left:t.isRtl.value?void 0:Le(nx(I)),right:t.isRtl.value?Le(nx(-I)):void 0,minWidth:Le(P==="y"?Math.min(a.value,p.width):a.value),maxWidth:Le(MO($n(T.x,a.value===1/0?0:a.value,l.value))),maxHeight:Le(MO($n(T.y,o.value===1/0?0:o.value,u.value)))}),{available:T,contentBox:g}}return we(()=>[s.value,r.value,e.offset,e.minWidth,e.minHeight,e.maxWidth,e.maxHeight],()=>h()),vt(()=>{const p=h();if(!p)return;const{available:g,contentBox:v}=p;v.height>g.y&&requestAnimationFrame(()=>{h(),requestAnimationFrame(()=>{h()})})}),{updateLocation:h}}function nx(t){return Math.round(t*devicePixelRatio)/devicePixelRatio}function MO(t){return Math.ceil(t*devicePixelRatio)/devicePixelRatio}let p1=!0;const ny=[];function dhe(t){!p1||ny.length?(ny.push(t),v1()):(p1=!1,t(),v1())}let VO=-1;function v1(){cancelAnimationFrame(VO),VO=requestAnimationFrame(()=>{const t=ny.shift();t&&t(),ny.length?v1():p1=!0})}const Bv={none:null,close:mhe,block:ghe,reposition:phe},hhe=te({scrollStrategy:{type:[String,Function],default:"block",validator:t=>typeof t=="function"||t in Bv}},"VOverlay-scroll-strategies");function fhe(t,e){if(!Yt)return;let n;yn(async()=>{n==null||n.stop(),e.isActive.value&&t.scrollStrategy&&(n=Sg(),await new Promise(i=>setTimeout(i)),n.active&&n.run(()=>{var i;typeof t.scrollStrategy=="function"?t.scrollStrategy(e,t,n):(i=Bv[t.scrollStrategy])==null||i.call(Bv,e,t,n)}))}),as(()=>{n==null||n.stop()})}function mhe(t){function e(n){t.isActive.value=!1}k5(t.targetEl.value??t.contentEl.value,e)}function ghe(t,e){var a;const n=(a=t.root.value)==null?void 0:a.offsetParent,i=[...new Set([...Bm(t.targetEl.value,e.contained?n:void 0),...Bm(t.contentEl.value,e.contained?n:void 0)])].filter(o=>!o.classList.contains("v-overlay-scroll-blocked")),s=window.innerWidth-document.documentElement.offsetWidth,r=(o=>IP(o)&&o)(n||document.documentElement);r&&t.root.value.classList.add("v-overlay--scroll-blocked"),i.forEach((o,l)=>{o.style.setProperty("--v-body-scroll-x",Le(-o.scrollLeft)),o.style.setProperty("--v-body-scroll-y",Le(-o.scrollTop)),o!==document.documentElement&&o.style.setProperty("--v-scrollbar-offset",Le(s)),o.classList.add("v-overlay-scroll-blocked")}),as(()=>{i.forEach((o,l)=>{const u=parseFloat(o.style.getPropertyValue("--v-body-scroll-x")),d=parseFloat(o.style.getPropertyValue("--v-body-scroll-y")),c=o.style.scrollBehavior;o.style.scrollBehavior="auto",o.style.removeProperty("--v-body-scroll-x"),o.style.removeProperty("--v-body-scroll-y"),o.style.removeProperty("--v-scrollbar-offset"),o.classList.remove("v-overlay-scroll-blocked"),o.scrollLeft=-u,o.scrollTop=-d,o.style.scrollBehavior=c}),r&&t.root.value.classList.remove("v-overlay--scroll-blocked")})}function phe(t,e,n){let i=!1,s=-1,r=-1;function a(o){dhe(()=>{var d,c;const l=performance.now();(c=(d=t.updateLocation).value)==null||c.call(d,o),i=(performance.now()-l)/(1e3/60)>2})}r=(typeof requestIdleCallback>"u"?o=>o():requestIdleCallback)(()=>{n.run(()=>{k5(t.targetEl.value??t.contentEl.value,o=>{i?(cancelAnimationFrame(s),s=requestAnimationFrame(()=>{s=requestAnimationFrame(()=>{a(o)})})):a(o)})})}),as(()=>{typeof cancelIdleCallback<"u"&&cancelIdleCallback(r),cancelAnimationFrame(s)})}function k5(t,e){const n=[document,...Bm(t)];n.forEach(i=>{i.addEventListener("scroll",e,{passive:!0})}),as(()=>{n.forEach(i=>{i.removeEventListener("scroll",e)})})}const _1=Symbol.for("vuetify:v-menu"),pw=te({closeDelay:[Number,String],openDelay:[Number,String]},"delay");function oC(t,e){let n=()=>{};function i(a){n==null||n();const o=Number(a?t.openDelay:t.closeDelay);return new Promise(l=>{n=mne(o,()=>{e==null||e(a),l(a)})})}function s(){return i(!0)}function r(){return i(!1)}return{clearDelay:n,runOpenDelay:s,runCloseDelay:r}}const vhe=te({target:[String,Object],activator:[String,Object],activatorProps:{type:Object,default:()=>({})},openOnClick:{type:Boolean,default:void 0},openOnHover:Boolean,openOnFocus:{type:Boolean,default:void 0},closeOnContentClick:Boolean,...pw()},"VOverlay-activator");function _he(t,e){let{isActive:n,isTop:i,contentEl:s}=e;const r=Gn("useActivator"),a=G();let o=!1,l=!1,u=!0;const d=O(()=>t.openOnFocus||t.openOnFocus==null&&t.openOnHover),c=O(()=>t.openOnClick||t.openOnClick==null&&!t.openOnHover&&!d.value),{runOpenDelay:f,runCloseDelay:h}=oC(t,S=>{S===(t.openOnHover&&o||d.value&&l)&&!(t.openOnHover&&n.value&&!i.value)&&(n.value!==S&&(u=!0),n.value=S)}),p=G(),g={onClick:S=>{S.stopPropagation(),a.value=S.currentTarget||S.target,n.value||(p.value=[S.clientX,S.clientY]),n.value=!n.value},onMouseenter:S=>{var w;(w=S.sourceCapabilities)!=null&&w.firesTouchEvents||(o=!0,a.value=S.currentTarget||S.target,f())},onMouseleave:S=>{o=!1,h()},onFocus:S=>{rh(S.target,":focus-visible")!==!1&&(l=!0,S.stopPropagation(),a.value=S.currentTarget||S.target,f())},onBlur:S=>{l=!1,S.stopPropagation(),h()}},v=O(()=>{const S={};return c.value&&(S.onClick=g.onClick),t.openOnHover&&(S.onMouseenter=g.onMouseenter,S.onMouseleave=g.onMouseleave),d.value&&(S.onFocus=g.onFocus,S.onBlur=g.onBlur),S}),_=O(()=>{const S={};if(t.openOnHover&&(S.onMouseenter=()=>{o=!0,f()},S.onMouseleave=()=>{o=!1,h()}),d.value&&(S.onFocusin=()=>{l=!0,f()},S.onFocusout=()=>{l=!1,h()}),t.closeOnContentClick){const w=gt(_1,null);S.onClick=()=>{n.value=!1,w==null||w.closeParents()}}return S}),b=O(()=>{const S={};return t.openOnHover&&(S.onMouseenter=()=>{u&&(o=!0,u=!1,f())},S.onMouseleave=()=>{o=!1,h()}),S});we(i,S=>{var w;S&&(t.openOnHover&&!o&&(!d.value||!l)||d.value&&!l&&(!t.openOnHover||!o))&&!((w=s.value)!=null&&w.contains(document.activeElement))&&(n.value=!1)}),we(n,S=>{S||setTimeout(()=>{p.value=void 0})},{flush:"post"});const x=F_();yn(()=>{x.value&&vt(()=>{a.value=x.el})});const k=F_(),I=O(()=>t.target==="cursor"&&p.value?p.value:k.value?k.el:T5(t.target,r)||a.value),E=O(()=>Array.isArray(I.value)?void 0:I.value);let T;return we(()=>!!t.activator,S=>{S&&Yt?(T=Sg(),T.run(()=>{yhe(t,r,{activatorEl:a,activatorEvents:v})})):T&&T.stop()},{flush:"post",immediate:!0}),as(()=>{T==null||T.stop()}),{activatorEl:a,activatorRef:x,target:I,targetEl:E,targetRef:k,activatorEvents:v,contentEvents:_,scrimEvents:b}}function yhe(t,e,n){let{activatorEl:i,activatorEvents:s}=n;we(()=>t.activator,(l,u)=>{if(u&&l!==u){const d=o(u);d&&a(d)}l&&vt(()=>r())},{immediate:!0}),we(()=>t.activatorProps,()=>{r()}),as(()=>{a()});function r(){let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:o(),u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t.activatorProps;l&&vne(l,J(s.value,u))}function a(){let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:o(),u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t.activatorProps;l&&_ne(l,J(s.value,u))}function o(){let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:t.activator;const u=T5(l,e);return i.value=(u==null?void 0:u.nodeType)===Node.ELEMENT_NODE?u:void 0,i.value}}function T5(t,e){var i,s;if(!t)return;let n;if(t==="parent"){let r=(s=(i=e==null?void 0:e.proxy)==null?void 0:i.$el)==null?void 0:s.parentNode;for(;r!=null&&r.hasAttribute("data-no-activator");)r=r.parentNode;n=r}else typeof t=="string"?n=document.querySelector(t):"$el"in t?n=t.$el:n=t;return n}function P5(){if(!Yt)return Ve(!1);const{ssr:t}=Sr();if(t){const e=Ve(!1);return Tt(()=>{e.value=!0}),e}else return Ve(!0)}const lC=te({eager:Boolean},"lazy");function uC(t,e){const n=Ve(!1),i=O(()=>n.value||t.eager||e.value);we(e,()=>n.value=!0);function s(){t.eager||(n.value=!1)}return{isBooted:n,hasContent:i,onAfterLeave:s}}function zc(){const e=Gn("useScopeId").vnode.scopeId;return{scopeId:e?{[e]:""}:void 0}}const LO=Symbol.for("vuetify:stack"),xf=mn([]);function bhe(t,e,n){const i=Gn("useStack"),s=!n,r=gt(LO,void 0),a=mn({activeChildren:new Set});Jt(LO,a);const o=Ve(+e.value);Ns(t,()=>{var c;const d=(c=xf.at(-1))==null?void 0:c[1];o.value=d?d+10:+e.value,s&&xf.push([i.uid,o.value]),r==null||r.activeChildren.add(i.uid),as(()=>{if(s){const f=Xe(xf).findIndex(h=>h[0]===i.uid);xf.splice(f,1)}r==null||r.activeChildren.delete(i.uid)})});const l=Ve(!0);s&&yn(()=>{var c;const d=((c=xf.at(-1))==null?void 0:c[0])===i.uid;setTimeout(()=>l.value=d)});const u=O(()=>!a.activeChildren.size);return{globalTop:Sh(l),localTop:u,stackStyles:O(()=>({zIndex:o.value}))}}function whe(t){return{teleportTarget:O(()=>{const n=t();if(n===!0||!Yt)return;const i=n===!1?document.body:typeof n=="string"?document.querySelector(n):n;if(i==null)return;let s=[...i.children].find(r=>r.matches(".v-overlay-container"));return s||(s=document.createElement("div"),s.className="v-overlay-container",i.appendChild(s)),s})}}function xhe(){return!0}function C5(t,e,n){if(!t||E5(t,n)===!1)return!1;const i=Bj(e);if(typeof ShadowRoot<"u"&&i instanceof ShadowRoot&&i.host===t.target)return!1;const s=(typeof n.value=="object"&&n.value.include||(()=>[]))();return s.push(e),!s.some(r=>r==null?void 0:r.contains(t.target))}function E5(t,e){return(typeof e.value=="object"&&e.value.closeConditional||xhe)(t)}function She(t,e,n){const i=typeof n.value=="function"?n.value:n.value.handler;t.shadowTarget=t.target,e._clickOutside.lastMousedownWasOutside&&C5(t,e,n)&&setTimeout(()=>{E5(t,n)&&i&&i(t)},0)}function NO(t,e){const n=Bj(t);e(document),typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&e(n)}const I5={mounted(t,e){const n=s=>She(s,t,e),i=s=>{t._clickOutside.lastMousedownWasOutside=C5(s,t,e)};NO(t,s=>{s.addEventListener("click",n,!0),s.addEventListener("mousedown",i,!0)}),t._clickOutside||(t._clickOutside={lastMousedownWasOutside:!1}),t._clickOutside[e.instance.$.uid]={onClick:n,onMousedown:i}},beforeUnmount(t,e){t._clickOutside&&(NO(t,n=>{var r;if(!n||!((r=t._clickOutside)!=null&&r[e.instance.$.uid]))return;const{onClick:i,onMousedown:s}=t._clickOutside[e.instance.$.uid];n.removeEventListener("click",i,!0),n.removeEventListener("mousedown",s,!0)}),delete t._clickOutside[e.instance.$.uid])}};function khe(t){const{modelValue:e,color:n,...i}=t;return m(Ol,{name:"fade-transition",appear:!0},{default:()=>[t.modelValue&&m("div",J({class:["v-overlay__scrim",t.color.backgroundColorClasses.value],style:t.color.backgroundColorStyles.value},i),null)]})}const tp=te({absolute:Boolean,attach:[Boolean,String,Object],closeOnBack:{type:Boolean,default:!0},contained:Boolean,contentClass:null,contentProps:null,disabled:Boolean,opacity:[Number,String],noClickAnimation:Boolean,modelValue:Boolean,persistent:Boolean,scrim:{type:[Boolean,String],default:!0},zIndex:{type:[Number,String],default:2e3},...vhe(),...Be(),...fi(),...lC(),...ahe(),...hhe(),...Nt(),..._a()},"VOverlay"),ha=_e()({name:"VOverlay",directives:{ClickOutside:I5},inheritAttrs:!1,props:{_disableGlobalStack:Boolean,...tp()},emits:{"click:outside":t=>!0,"update:modelValue":t=>!0,afterEnter:()=>!0,afterLeave:()=>!0},setup(t,e){let{slots:n,attrs:i,emit:s}=e;const r=Gn("VOverlay"),a=G(),o=G(),l=G(),u=ze(t,"modelValue"),d=O({get:()=>u.value,set:re=>{re&&t.disabled||(u.value=re)}}),{themeClasses:c}=Kt(t),{rtlClasses:f,isRtl:h}=Ti(),{hasContent:p,onAfterLeave:g}=uC(t,d),v=rn(O(()=>typeof t.scrim=="string"?t.scrim:null)),{globalTop:_,localTop:b,stackStyles:x}=bhe(d,ge(t,"zIndex"),t._disableGlobalStack),{activatorEl:k,activatorRef:I,target:E,targetEl:T,targetRef:S,activatorEvents:w,contentEvents:P,scrimEvents:C}=_he(t,{isActive:d,isTop:b,contentEl:l}),{teleportTarget:D}=whe(()=>{var X,ae,pe;const re=t.attach||t.contained;if(re)return re;const U=((X=k==null?void 0:k.value)==null?void 0:X.getRootNode())||((pe=(ae=r.proxy)==null?void 0:ae.$el)==null?void 0:pe.getRootNode());return U instanceof ShadowRoot?U:!1}),{dimensionStyles:A}=mi(t),N=P5(),{scopeId:B}=zc();we(()=>t.disabled,re=>{re&&(d.value=!1)});const{contentStyles:z,updateLocation:q}=ohe(t,{isRtl:h,contentEl:l,target:E,isActive:d});fhe(t,{root:a,contentEl:l,targetEl:T,isActive:d,updateLocation:q});function W(re){s("click:outside",re),t.persistent?le():d.value=!1}function K(re){return d.value&&_.value&&(!t.scrim||re.target===o.value||re instanceof MouseEvent&&re.shadowTarget===o.value)}Yt&&we(d,re=>{re?window.addEventListener("keydown",Y):window.removeEventListener("keydown",Y)},{immediate:!0}),Mi(()=>{Yt&&window.removeEventListener("keydown",Y)});function Y(re){var U,X;re.key==="Escape"&&_.value&&(t.persistent?le():(d.value=!1,(U=l.value)!=null&&U.contains(document.activeElement)&&((X=k.value)==null||X.focus())))}const Z=L4();Ns(()=>t.closeOnBack,()=>{dde(Z,re=>{_.value&&d.value?(re(!1),t.persistent?le():d.value=!1):re()})});const ee=G();we(()=>d.value&&(t.absolute||t.contained)&&D.value==null,re=>{if(re){const U=EP(a.value);U&&U!==document.scrollingElement&&(ee.value=U.scrollTop)}});function le(){t.noClickAnimation||l.value&&Vu(l.value,[{transformOrigin:"center"},{transform:"scale(1.03)"},{transformOrigin:"center"}],{duration:150,easing:Fm})}function de(){s("afterEnter")}function he(){g(),s("afterLeave")}return xe(()=>{var re;return m(Ee,null,[(re=n.activator)==null?void 0:re.call(n,{isActive:d.value,targetRef:S,props:J({ref:I},w.value,t.activatorProps)}),N.value&&p.value&&m(aL,{disabled:!D.value,to:D.value},{default:()=>[m("div",J({class:["v-overlay",{"v-overlay--absolute":t.absolute||t.contained,"v-overlay--active":d.value,"v-overlay--contained":t.contained},c.value,f.value,t.class],style:[x.value,{"--v-overlay-opacity":t.opacity,top:Le(ee.value)},t.style],ref:a},B,i),[m(khe,J({color:v,modelValue:d.value&&!!t.scrim,ref:o},C.value),null),m(Ts,{appear:!0,persisted:!0,transition:t.transition,target:E.value,onAfterEnter:de,onAfterLeave:he},{default:()=>{var U;return[In(m("div",J({ref:l,class:["v-overlay__content",t.contentClass],style:[A.value,z.value]},P.value,t.contentProps),[(U=n.default)==null?void 0:U.call(n,{isActive:d})]),[[va,d.value],[nr("click-outside"),{handler:W,closeConditional:K,include:()=>[k.value]}]])]}})])]})])}),{activatorEl:k,scrimEl:o,target:E,animateClick:le,contentEl:l,globalTop:_,localTop:b,updateLocation:q}}}),ix=Symbol("Forwarded refs");function sx(t,e){let n=t;for(;n;){const i=Reflect.getOwnPropertyDescriptor(n,e);if(i)return i;n=Object.getPrototypeOf(n)}}function Pr(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return t[ix]=n,new Proxy(t,{get(s,r){if(Reflect.has(s,r))return Reflect.get(s,r);if(!(typeof r=="symbol"||r.startsWith("$")||r.startsWith("__"))){for(const a of n)if(a.value&&Reflect.has(a.value,r)){const o=Reflect.get(a.value,r);return typeof o=="function"?o.bind(a.value):o}}},has(s,r){if(Reflect.has(s,r))return!0;if(typeof r=="symbol"||r.startsWith("$")||r.startsWith("__"))return!1;for(const a of n)if(a.value&&Reflect.has(a.value,r))return!0;return!1},set(s,r,a){if(Reflect.has(s,r))return Reflect.set(s,r,a);if(typeof r=="symbol"||r.startsWith("$")||r.startsWith("__"))return!1;for(const o of n)if(o.value&&Reflect.has(o.value,r))return Reflect.set(o.value,r,a);return!1},getOwnPropertyDescriptor(s,r){var o;const a=Reflect.getOwnPropertyDescriptor(s,r);if(a)return a;if(!(typeof r=="symbol"||r.startsWith("$")||r.startsWith("__"))){for(const l of n){if(!l.value)continue;const u=sx(l.value,r)??("_"in l.value?sx((o=l.value._)==null?void 0:o.setupState,r):void 0);if(u)return u}for(const l of n){const u=l.value&&l.value[ix];if(!u)continue;const d=u.slice();for(;d.length;){const c=d.shift(),f=sx(c.value,r);if(f)return f;const h=c.value&&c.value[ix];h&&d.push(...h)}}}}})}const D5=te({id:String,submenu:Boolean,...tn(tp({closeDelay:250,closeOnContentClick:!0,locationStrategy:"connected",location:void 0,openDelay:300,scrim:!1,scrollStrategy:"reposition",transition:{component:uw}}),["absolute"])},"VMenu"),cc=_e()({name:"VMenu",props:D5(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const i=ze(t,"modelValue"),{scopeId:s}=zc(),{isRtl:r}=Ti(),a=zi(),o=O(()=>t.id||`v-menu-${a}`),l=G(),u=gt(_1,null),d=Ve(new Set);Jt(_1,{register(){d.value.add(a)},unregister(){d.value.delete(a)},closeParents(v){setTimeout(()=>{var _;!d.value.size&&!t.persistent&&(v==null||(_=l.value)!=null&&_.contentEl&&!gne(v,l.value.contentEl))&&(i.value=!1,u==null||u.closeParents())},40)}}),Mi(()=>{u==null||u.unregister(),document.removeEventListener("focusin",c)}),Fk(()=>i.value=!1);async function c(v){var x,k,I;const _=v.relatedTarget,b=v.target;await vt(),i.value&&_!==b&&((x=l.value)!=null&&x.contentEl)&&((k=l.value)!=null&&k.globalTop)&&![document,l.value.contentEl].includes(b)&&!l.value.contentEl.contains(b)&&((I=Nm(l.value.contentEl)[0])==null||I.focus())}we(i,v=>{v?(u==null||u.register(),Yt&&document.addEventListener("focusin",c,{once:!0})):(u==null||u.unregister(),Yt&&document.removeEventListener("focusin",c))},{immediate:!0});function f(v){u==null||u.closeParents(v)}function h(v){var _,b,x,k,I;if(!t.disabled)if(v.key==="Tab"||v.key==="Enter"&&!t.closeOnContentClick){if(v.key==="Enter"&&(v.target instanceof HTMLTextAreaElement||v.target instanceof HTMLInputElement&&v.target.closest("form")))return;v.key==="Enter"&&v.preventDefault(),Sj(Nm((_=l.value)==null?void 0:_.contentEl,!1),v.shiftKey?"prev":"next",T=>T.tabIndex>=0)||(i.value=!1,(x=(b=l.value)==null?void 0:b.activatorEl)==null||x.focus())}else t.submenu&&v.key===(r.value?"ArrowRight":"ArrowLeft")&&(i.value=!1,(I=(k=l.value)==null?void 0:k.activatorEl)==null||I.focus())}function p(v){var b;if(t.disabled)return;const _=(b=l.value)==null?void 0:b.contentEl;_&&i.value?v.key==="ArrowDown"?(v.preventDefault(),v.stopImmediatePropagation(),zu(_,"next")):v.key==="ArrowUp"?(v.preventDefault(),v.stopImmediatePropagation(),zu(_,"prev")):t.submenu&&(v.key===(r.value?"ArrowRight":"ArrowLeft")?i.value=!1:v.key===(r.value?"ArrowLeft":"ArrowRight")&&(v.preventDefault(),zu(_,"first"))):(t.submenu?v.key===(r.value?"ArrowLeft":"ArrowRight"):["ArrowDown","ArrowUp"].includes(v.key))&&(i.value=!0,v.preventDefault(),setTimeout(()=>setTimeout(()=>p(v))))}const g=O(()=>J({"aria-haspopup":"menu","aria-expanded":String(i.value),"aria-owns":o.value,onKeydown:p},t.activatorProps));return xe(()=>{const v=ha.filterProps(t);return m(ha,J({ref:l,id:o.value,class:["v-menu",t.class],style:t.style},v,{modelValue:i.value,"onUpdate:modelValue":_=>i.value=_,absolute:!0,activatorProps:g.value,location:t.location??(t.submenu?"end":"bottom"),"onClick:outside":f,onKeydown:h},s),{activator:n.activator,default:function(){for(var _=arguments.length,b=new Array(_),x=0;x<_;x++)b[x]=arguments[x];return m(dt,{root:"VMenu"},{default:()=>{var k;return[(k=n.default)==null?void 0:k.call(n,...b)]}})}})}),Pr({id:o,ΨopenChildren:d},l)}}),The=te({active:Boolean,disabled:Boolean,max:[Number,String],value:{type:[Number,String],default:0},...Be(),..._a({transition:{component:QP}})},"VCounter"),vw=_e()({name:"VCounter",functional:!0,props:The(),setup(t,e){let{slots:n}=e;const i=O(()=>t.max?`${t.value} / ${t.max}`:String(t.value));return xe(()=>m(Ts,{transition:t.transition},{default:()=>[In(m("div",{class:["v-counter",{"text-error":t.max&&!t.disabled&&parseFloat(t.value)>parseFloat(t.max)},t.class],style:t.style},[n.default?n.default({counter:i.value,max:t.max,value:t.value}):i.value]),[[va,t.active]])]})),{}}}),Phe=te({floating:Boolean,...Be()},"VFieldLabel"),Nf=_e()({name:"VFieldLabel",props:Phe(),setup(t,e){let{slots:n}=e;return xe(()=>m(zh,{class:["v-field-label",{"v-field-label--floating":t.floating},t.class],style:t.style,"aria-hidden":t.floating||void 0},n)),{}}}),Che=["underlined","outlined","filled","solo","solo-inverted","solo-filled","plain"],np=te({appendInnerIcon:Ge,bgColor:String,clearable:Boolean,clearIcon:{type:Ge,default:"$clear"},active:Boolean,centerAffix:{type:Boolean,default:void 0},color:String,baseColor:String,dirty:Boolean,disabled:{type:Boolean,default:null},error:Boolean,flat:Boolean,label:String,persistentClear:Boolean,prependInnerIcon:Ge,reverse:Boolean,singleLine:Boolean,variant:{type:String,default:"filled",validator:t=>Che.includes(t)},"onClick:clear":Oi(),"onClick:appendInner":Oi(),"onClick:prependInner":Oi(),...Be(),...fw(),...Rn(),...Nt()},"VField"),Yh=_e()({name:"VField",inheritAttrs:!1,props:{id:String,...Wh(),...np()},emits:{"update:focused":t=>!0,"update:modelValue":t=>!0},setup(t,e){let{attrs:n,emit:i,slots:s}=e;const{themeClasses:r}=Kt(t),{loaderClasses:a}=Qg(t),{focusClasses:o,isFocused:l,focus:u,blur:d}=eo(t),{InputIcon:c}=X4(t),{roundedClasses:f}=qn(t),{rtlClasses:h}=Ti(),p=O(()=>t.dirty||t.active),g=O(()=>!t.singleLine&&!!(t.label||s.label)),v=zi(),_=O(()=>t.id||`input-${v}`),b=O(()=>`${_.value}-messages`),x=G(),k=G(),I=G(),E=O(()=>["plain","underlined"].includes(t.variant)),{backgroundColorClasses:T,backgroundColorStyles:S}=rn(ge(t,"bgColor")),{textColorClasses:w,textColorStyles:P}=Ui(O(()=>t.error||t.disabled?void 0:p.value&&l.value?t.color:t.baseColor));we(p,N=>{if(g.value){const B=x.value.$el,z=k.value.$el;requestAnimationFrame(()=>{const q=kP(B),W=z.getBoundingClientRect(),K=W.x-q.x,Y=W.y-q.y-(q.height/2-W.height/2),Z=W.width/.75,ee=Math.abs(Z-q.width)>1?{maxWidth:Le(Z)}:void 0,le=getComputedStyle(B),de=getComputedStyle(z),he=parseFloat(le.transitionDuration)*1e3||150,re=parseFloat(de.getPropertyValue("--v-field-label-scale")),U=de.getPropertyValue("color");B.style.visibility="visible",z.style.visibility="hidden",Vu(B,{transform:`translate(${K}px, ${Y}px) scale(${re})`,color:U,...ee},{duration:he,easing:Fm,direction:N?"normal":"reverse"}).finished.then(()=>{B.style.removeProperty("visibility"),z.style.removeProperty("visibility")})})}},{flush:"post"});const C=O(()=>({isActive:p,isFocused:l,controlRef:I,blur:d,focus:u}));function D(N){N.target!==document.activeElement&&N.preventDefault()}function A(N){var B;N.key!=="Enter"&&N.key!==" "||(N.preventDefault(),N.stopPropagation(),(B=t["onClick:clear"])==null||B.call(t,new MouseEvent("click")))}return xe(()=>{var K,Y,Z;const N=t.variant==="outlined",B=!!(s["prepend-inner"]||t.prependInnerIcon),z=!!(t.clearable||s.clear),q=!!(s["append-inner"]||t.appendInnerIcon||z),W=()=>s.label?s.label({...C.value,label:t.label,props:{for:_.value}}):t.label;return m("div",J({class:["v-field",{"v-field--active":p.value,"v-field--appended":q,"v-field--center-affix":t.centerAffix??!E.value,"v-field--disabled":t.disabled,"v-field--dirty":t.dirty,"v-field--error":t.error,"v-field--flat":t.flat,"v-field--has-background":!!t.bgColor,"v-field--persistent-clear":t.persistentClear,"v-field--prepended":B,"v-field--reverse":t.reverse,"v-field--single-line":t.singleLine,"v-field--no-label":!W(),[`v-field--variant-${t.variant}`]:!0},r.value,T.value,o.value,a.value,f.value,h.value,t.class],style:[S.value,t.style],onClick:D},n),[m("div",{class:"v-field__overlay"},null),m(Jg,{name:"v-field",active:!!t.loading,color:t.error?"error":typeof t.loading=="string"?t.loading:t.color},{default:s.loader}),B&&m("div",{key:"prepend",class:"v-field__prepend-inner"},[t.prependInnerIcon&&m(c,{key:"prepend-icon",name:"prependInner"},null),(K=s["prepend-inner"])==null?void 0:K.call(s,C.value)]),m("div",{class:"v-field__field","data-no-activator":""},[["filled","solo","solo-inverted","solo-filled"].includes(t.variant)&&g.value&&m(Nf,{key:"floating-label",ref:k,class:[w.value],floating:!0,for:_.value,style:P.value},{default:()=>[W()]}),g.value&&m(Nf,{key:"label",ref:x,for:_.value},{default:()=>[W()]}),(Y=s.default)==null?void 0:Y.call(s,{...C.value,props:{id:_.value,class:"v-field__input","aria-describedby":b.value},focus:u,blur:d})]),z&&m(JP,{key:"clear"},{default:()=>[In(m("div",{class:"v-field__clearable",onMousedown:ee=>{ee.preventDefault(),ee.stopPropagation()}},[m(dt,{defaults:{VIcon:{icon:t.clearIcon}}},{default:()=>[s.clear?s.clear({...C.value,props:{onKeydown:A,onFocus:u,onBlur:d,onClick:t["onClick:clear"]}}):m(c,{name:"clear",onKeydown:A,onFocus:u,onBlur:d},null)]})]),[[va,t.dirty]])]}),q&&m("div",{key:"append",class:"v-field__append-inner"},[(Z=s["append-inner"])==null?void 0:Z.call(s,C.value),t.appendInnerIcon&&m(c,{key:"append-icon",name:"appendInner"},null)]),m("div",{class:["v-field__outline",w.value],style:P.value},[N&&m(Ee,null,[m("div",{class:"v-field__outline__start"},null),g.value&&m("div",{class:"v-field__outline__notch"},[m(Nf,{ref:k,floating:!0,for:_.value},{default:()=>[W()]})]),m("div",{class:"v-field__outline__end"},null)]),E.value&&g.value&&m(Nf,{ref:k,floating:!0,for:_.value},{default:()=>[W()]})])])}),{controlRef:I}}});function cC(t){const e=Object.keys(Yh.props).filter(n=>!zb(n)&&n!=="class"&&n!=="style");return wP(t,e)}const Ehe=["color","file","time","date","datetime-local","week","month"],Gh=te({autofocus:Boolean,counter:[Boolean,Number,String],counterValue:[Number,Function],prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,suffix:String,role:String,type:{type:String,default:"text"},modelModifiers:Object,...qo(),...np()},"VTextField"),fa=_e()({name:"VTextField",directives:{Intersect:Kg},inheritAttrs:!1,props:Gh(),emits:{"click:control":t=>!0,"mousedown:control":t=>!0,"update:focused":t=>!0,"update:modelValue":t=>!0},setup(t,e){let{attrs:n,emit:i,slots:s}=e;const r=ze(t,"modelValue"),{isFocused:a,focus:o,blur:l}=eo(t),u=O(()=>typeof t.counterValue=="function"?t.counterValue(r.value):typeof t.counterValue=="number"?t.counterValue:(r.value??"").toString().length),d=O(()=>{if(n.maxlength)return n.maxlength;if(!(!t.counter||typeof t.counter!="number"&&typeof t.counter!="string"))return t.counter}),c=O(()=>["plain","underlined"].includes(t.variant));function f(E,T){var S,w;!t.autofocus||!E||(w=(S=T[0].target)==null?void 0:S.focus)==null||w.call(S)}const h=G(),p=G(),g=G(),v=O(()=>Ehe.includes(t.type)||t.persistentPlaceholder||a.value||t.active);function _(){var E;g.value!==document.activeElement&&((E=g.value)==null||E.focus()),a.value||o()}function b(E){i("mousedown:control",E),E.target!==g.value&&(_(),E.preventDefault())}function x(E){_(),i("click:control",E)}function k(E){E.stopPropagation(),_(),vt(()=>{r.value=null,SP(t["onClick:clear"],E)})}function I(E){var S;const T=E.target;if(r.value=T.value,(S=t.modelModifiers)!=null&&S.trim&&["text","search","password","tel","url"].includes(t.type)){const w=[T.selectionStart,T.selectionEnd];vt(()=>{T.selectionStart=w[0],T.selectionEnd=w[1]})}}return xe(()=>{const E=!!(s.counter||t.counter!==!1&&t.counter!=null),T=!!(E||s.details),[S,w]=zo(n),{modelValue:P,...C}=rs.filterProps(t),D=cC(t);return m(rs,J({ref:h,modelValue:r.value,"onUpdate:modelValue":A=>r.value=A,class:["v-text-field",{"v-text-field--prefixed":t.prefix,"v-text-field--suffixed":t.suffix,"v-input--plain-underlined":c.value},t.class],style:t.style},S,C,{centerAffix:!c.value,focused:a.value}),{...s,default:A=>{let{id:N,isDisabled:B,isDirty:z,isReadonly:q,isValid:W}=A;return m(Yh,J({ref:p,onMousedown:b,onClick:x,"onClick:clear":k,"onClick:prependInner":t["onClick:prependInner"],"onClick:appendInner":t["onClick:appendInner"],role:t.role},D,{id:N.value,active:v.value||z.value,dirty:z.value||t.dirty,disabled:B.value,focused:a.value,error:W.value===!1}),{...s,default:K=>{let{props:{class:Y,...Z}}=K;const ee=In(m("input",J({ref:g,value:r.value,onInput:I,autofocus:t.autofocus,readonly:q.value,disabled:B.value,name:t.name,placeholder:t.placeholder,size:1,type:t.type,onFocus:_,onBlur:l},Z,w),null),[[nr("intersect"),{handler:f},null,{once:!0}]]);return m(Ee,null,[t.prefix&&m("span",{class:"v-text-field__prefix"},[m("span",{class:"v-text-field__prefix__text"},[t.prefix])]),s.default?m("div",{class:Y,"data-no-activator":""},[s.default(),ee]):$a(ee,{class:Y}),t.suffix&&m("span",{class:"v-text-field__suffix"},[m("span",{class:"v-text-field__suffix__text"},[t.suffix])])])}})},details:T?A=>{var N;return m(Ee,null,[(N=s.details)==null?void 0:N.call(s,A),E&&m(Ee,null,[m("span",null,null),m(vw,{active:t.persistentCounter||a.value,value:u.value,max:d.value,disabled:t.disabled},s.counter)])])}:void 0})}),Pr({},h,p,g)}}),Ihe=te({renderless:Boolean,...Be()},"VVirtualScrollItem"),A5=_e()({name:"VVirtualScrollItem",inheritAttrs:!1,props:Ihe(),emits:{"update:height":t=>!0},setup(t,e){let{attrs:n,emit:i,slots:s}=e;const{resizeRef:r,contentRect:a}=da(void 0,"border");we(()=>{var o;return(o=a.value)==null?void 0:o.height},o=>{o!=null&&i("update:height",o)}),xe(()=>{var o,l;return t.renderless?m(Ee,null,[(o=s.default)==null?void 0:o.call(s,{itemRef:r})]):m("div",J({ref:r,class:["v-virtual-scroll__item",t.class],style:t.style},n),[(l=s.default)==null?void 0:l.call(s)])})}}),Dhe=-1,Ahe=1,rx=100,R5=te({itemHeight:{type:[Number,String],default:null},height:[Number,String]},"virtual");function O5(t,e){const n=Sr(),i=Ve(0);yn(()=>{i.value=parseFloat(t.itemHeight||0)});const s=Ve(0),r=Ve(Math.ceil((parseInt(t.height)||n.height.value)/(i.value||16))||1),a=Ve(0),o=Ve(0),l=G(),u=G();let d=0;const{resizeRef:c,contentRect:f}=da();yn(()=>{c.value=l.value});const h=O(()=>{var Y;return l.value===document.documentElement?n.height.value:((Y=f.value)==null?void 0:Y.height)||parseInt(t.height)||0}),p=O(()=>!!(l.value&&u.value&&h.value&&i.value));let g=Array.from({length:e.value.length}),v=Array.from({length:e.value.length});const _=Ve(0);let b=-1;function x(Y){return g[Y]||i.value}const k=une(()=>{const Y=performance.now();v[0]=0;const Z=e.value.length;for(let ee=1;ee<=Z-1;ee++)v[ee]=(v[ee-1]||0)+x(ee-1);_.value=Math.max(_.value,performance.now()-Y)},_),I=we(p,Y=>{Y&&(I(),d=u.value.offsetTop,k.immediate(),z(),~b&&vt(()=>{Yt&&window.requestAnimationFrame(()=>{W(b),b=-1})}))});as(()=>{k.clear()});function E(Y,Z){const ee=g[Y],le=i.value;i.value=le?Math.min(i.value,Z):Z,(ee!==Z||le!==i.value)&&(g[Y]=Z,k())}function T(Y){return Y=$n(Y,0,e.value.length-1),v[Y]||0}function S(Y){return Rhe(v,Y)}let w=0,P=0,C=0;we(h,(Y,Z)=>{Z&&(z(),Y<Z&&requestAnimationFrame(()=>{P=0,z()}))});let D=-1;function A(){if(!l.value||!u.value)return;const Y=l.value.scrollTop,Z=performance.now();Z-C>500?(P=Math.sign(Y-w),d=u.value.offsetTop):P=Y-w,w=Y,C=Z,window.clearTimeout(D),D=window.setTimeout(N,500),z()}function N(){!l.value||!u.value||(P=0,C=0,window.clearTimeout(D),z())}let B=-1;function z(){cancelAnimationFrame(B),B=requestAnimationFrame(q)}function q(){if(!l.value||!h.value)return;const Y=w-d,Z=Math.sign(P),ee=Math.max(0,Y-rx),le=$n(S(ee),0,e.value.length),de=Y+h.value+rx,he=$n(S(de)+1,le+1,e.value.length);if((Z!==Dhe||le<s.value)&&(Z!==Ahe||he>r.value)){const re=T(s.value)-T(le),U=T(he)-T(r.value);Math.max(re,U)>rx?(s.value=le,r.value=he):(le<=0&&(s.value=le),he>=e.value.length&&(r.value=he))}a.value=T(s.value),o.value=T(e.value.length)-T(r.value)}function W(Y){const Z=T(Y);!l.value||Y&&!Z?b=Y:l.value.scrollTop=Z}const K=O(()=>e.value.slice(s.value,r.value).map((Y,Z)=>({raw:Y,index:Z+s.value,key:Hb(Y)&&"value"in Y?Y.value:Z+s.value})));return we(e,()=>{g=Array.from({length:e.value.length}),v=Array.from({length:e.value.length}),k.immediate(),z()},{deep:!0}),{calculateVisibleItems:z,containerRef:l,markerRef:u,computedItems:K,paddingTop:a,paddingBottom:o,scrollToIndex:W,handleScroll:A,handleScrollend:N,handleItemResize:E}}function Rhe(t,e){let n=t.length-1,i=0,s=0,r=null,a=-1;if(t[n]<e)return n;for(;i<=n;)if(s=i+n>>1,r=t[s],r>e)n=s-1;else if(r<e)a=s,i=s+1;else return r===e?s:i;return a}const Ohe=te({items:{type:Array,default:()=>[]},renderless:Boolean,...R5(),...Be(),...fi()},"VVirtualScroll"),_w=_e()({name:"VVirtualScroll",props:Ohe(),setup(t,e){let{slots:n}=e;const i=Gn("VVirtualScroll"),{dimensionStyles:s}=mi(t),{calculateVisibleItems:r,containerRef:a,markerRef:o,handleScroll:l,handleScrollend:u,handleItemResize:d,scrollToIndex:c,paddingTop:f,paddingBottom:h,computedItems:p}=O5(t,ge(t,"items"));return Ns(()=>t.renderless,()=>{function g(){var b,x;const _=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)?"addEventListener":"removeEventListener";a.value===document.documentElement?(document[_]("scroll",l,{passive:!0}),document[_]("scrollend",u)):((b=a.value)==null||b[_]("scroll",l,{passive:!0}),(x=a.value)==null||x[_]("scrollend",u))}Tt(()=>{a.value=EP(i.vnode.el,!0),g(!0)}),as(g)}),xe(()=>{const g=p.value.map(v=>m(A5,{key:v.key,renderless:t.renderless,"onUpdate:height":_=>d(v.index,_)},{default:_=>{var b;return(b=n.default)==null?void 0:b.call(n,{item:v.raw,index:v.index,..._})}}));return t.renderless?m(Ee,null,[m("div",{ref:o,class:"v-virtual-scroll__spacer",style:{paddingTop:Le(f.value)}},null),g,m("div",{class:"v-virtual-scroll__spacer",style:{paddingBottom:Le(h.value)}},null)]):m("div",{ref:a,class:["v-virtual-scroll",t.class],onScrollPassive:l,onScrollend:u,style:[s.value,t.style]},[m("div",{ref:o,class:"v-virtual-scroll__container",style:{paddingTop:Le(f.value),paddingBottom:Le(h.value)}},[g])])}),{calculateVisibleItems:r,scrollToIndex:c}}});function dC(t,e){const n=Ve(!1);let i;function s(o){cancelAnimationFrame(i),n.value=!0,i=requestAnimationFrame(()=>{i=requestAnimationFrame(()=>{n.value=!1})})}async function r(){await new Promise(o=>requestAnimationFrame(o)),await new Promise(o=>requestAnimationFrame(o)),await new Promise(o=>requestAnimationFrame(o)),await new Promise(o=>{if(n.value){const l=we(n,()=>{l(),o()})}else o()})}async function a(o){var d,c;if(o.key==="Tab"&&((d=e.value)==null||d.focus()),!["PageDown","PageUp","Home","End"].includes(o.key))return;const l=(c=t.value)==null?void 0:c.$el;if(!l)return;(o.key==="Home"||o.key==="End")&&l.scrollTo({top:o.key==="Home"?0:l.scrollHeight,behavior:"smooth"}),await r();const u=l.querySelectorAll(":scope > :not(.v-virtual-scroll__spacer)");if(o.key==="PageDown"||o.key==="Home"){const f=l.getBoundingClientRect().top;for(const h of u)if(h.getBoundingClientRect().top>=f){h.focus();break}}else{const f=l.getBoundingClientRect().bottom;for(const h of[...u].reverse())if(h.getBoundingClientRect().bottom<=f){h.focus();break}}}return{onScrollPassive:s,onKeydown:a}}const hC=te({chips:Boolean,closableChips:Boolean,closeText:{type:String,default:"$vuetify.close"},openText:{type:String,default:"$vuetify.open"},eager:Boolean,hideNoData:Boolean,hideSelected:Boolean,listProps:{type:Object},menu:Boolean,menuIcon:{type:Ge,default:"$dropdown"},menuProps:{type:Object},multiple:Boolean,noDataText:{type:String,default:"$vuetify.noDataText"},openOnClear:Boolean,itemColor:String,...v5({itemChildren:!1})},"Select"),Mhe=te({...hC(),...tn(Gh({modelValue:null,role:"combobox"}),["validationValue","dirty","appendInnerIcon"]),..._a({transition:{component:uw}})},"VSelect"),fC=_e()({name:"VSelect",props:Mhe(),emits:{"update:focused":t=>!0,"update:modelValue":t=>!0,"update:menu":t=>!0},setup(t,e){let{slots:n}=e;const{t:i}=gn(),s=G(),r=G(),a=G(),o=ze(t,"menu"),l=O({get:()=>o.value,set:K=>{var Y;o.value&&!K&&((Y=r.value)!=null&&Y.ΨopenChildren.size)||(o.value=K)}}),{items:u,transformIn:d,transformOut:c}=aC(t),f=ze(t,"modelValue",[],K=>d(K===null?[null]:bn(K)),K=>{const Y=c(K);return t.multiple?Y:Y[0]??null}),h=O(()=>typeof t.counterValue=="function"?t.counterValue(f.value):typeof t.counterValue=="number"?t.counterValue:f.value.length),p=ep(t),g=O(()=>f.value.map(K=>K.value)),v=Ve(!1),_=O(()=>l.value?t.closeText:t.openText);let b="",x;const k=O(()=>t.hideSelected?u.value.filter(K=>!f.value.some(Y=>t.valueComparator(Y,K))):u.value),I=O(()=>t.hideNoData&&!k.value.length||p.isReadonly.value||p.isDisabled.value),E=O(()=>{var K;return{...t.menuProps,activatorProps:{...((K=t.menuProps)==null?void 0:K.activatorProps)||{},"aria-haspopup":"listbox"}}}),T=G(),S=dC(T,s);function w(K){t.openOnClear&&(l.value=!0)}function P(){I.value||(l.value=!l.value)}function C(K){B_(K)&&D(K)}function D(K){var le,de;if(!K.key||p.isReadonly.value)return;["Enter"," ","ArrowDown","ArrowUp","Home","End"].includes(K.key)&&K.preventDefault(),["Enter","ArrowDown"," "].includes(K.key)&&(l.value=!0),["Escape","Tab"].includes(K.key)&&(l.value=!1),K.key==="Home"?(le=T.value)==null||le.focus("first"):K.key==="End"&&((de=T.value)==null||de.focus("last"));const Y=1e3;if(t.multiple||!B_(K))return;const Z=performance.now();Z-x>Y&&(b=""),b+=K.key.toLowerCase(),x=Z;const ee=u.value.find(he=>he.title.toLowerCase().startsWith(b));if(ee!==void 0){f.value=[ee];const he=k.value.indexOf(ee);Yt&&window.requestAnimationFrame(()=>{var re;he>=0&&((re=a.value)==null||re.scrollToIndex(he))})}}function A(K){let Y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!K.props.disabled)if(t.multiple){const Z=f.value.findIndex(le=>t.valueComparator(le.value,K.value)),ee=Y??!~Z;if(~Z){const le=ee?[...f.value,K]:[...f.value];le.splice(Z,1),f.value=le}else ee&&(f.value=[...f.value,K])}else{const Z=Y!==!1;f.value=Z?[K]:[],vt(()=>{l.value=!1})}}function N(K){var Y;(Y=T.value)!=null&&Y.$el.contains(K.relatedTarget)||(l.value=!1)}function B(){var K;t.eager&&((K=a.value)==null||K.calculateVisibleItems())}function z(){var K;v.value&&((K=s.value)==null||K.focus())}function q(K){v.value=!0}function W(K){if(K==null)f.value=[];else if(rh(s.value,":autofill")||rh(s.value,":-webkit-autofill")){const Y=u.value.find(Z=>Z.title===K);Y&&A(Y)}else s.value&&(s.value.value="")}return we(l,()=>{if(!t.hideSelected&&l.value&&f.value.length){const K=k.value.findIndex(Y=>f.value.some(Z=>t.valueComparator(Z.value,Y.value)));Yt&&window.requestAnimationFrame(()=>{var Y;K>=0&&((Y=a.value)==null||Y.scrollToIndex(K))})}}),we(()=>t.items,(K,Y)=>{l.value||v.value&&!Y.length&&K.length&&(l.value=!0)}),xe(()=>{const K=!!(t.chips||n.chip),Y=!!(!t.hideNoData||k.value.length||n["prepend-item"]||n["append-item"]||n["no-data"]),Z=f.value.length>0,ee=fa.filterProps(t),le=Z||!v.value&&t.label&&!t.persistentPlaceholder?void 0:t.placeholder;return m(fa,J({ref:s},ee,{modelValue:f.value.map(de=>de.props.value).join(", "),"onUpdate:modelValue":W,focused:v.value,"onUpdate:focused":de=>v.value=de,validationValue:f.externalValue,counterValue:h.value,dirty:Z,class:["v-select",{"v-select--active-menu":l.value,"v-select--chips":!!t.chips,[`v-select--${t.multiple?"multiple":"single"}`]:!0,"v-select--selected":f.value.length,"v-select--selection-slot":!!n.selection},t.class],style:t.style,inputmode:"none",placeholder:le,"onClick:clear":w,"onMousedown:control":P,onBlur:N,onKeydown:D,"aria-label":i(_.value),title:i(_.value)}),{...n,default:()=>m(Ee,null,[m(cc,J({ref:r,modelValue:l.value,"onUpdate:modelValue":de=>l.value=de,activator:"parent",contentClass:"v-select__content",disabled:I.value,eager:t.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:t.transition,onAfterEnter:B,onAfterLeave:z},E.value),{default:()=>[Y&&m(dh,J({ref:T,selected:g.value,selectStrategy:t.multiple?"independent":"single-independent",onMousedown:de=>de.preventDefault(),onKeydown:C,onFocusin:q,tabindex:"-1","aria-live":"polite",color:t.itemColor??t.color},S,t.listProps),{default:()=>{var de,he,re;return[(de=n["prepend-item"])==null?void 0:de.call(n),!k.value.length&&!t.hideNoData&&(((he=n["no-data"])==null?void 0:he.call(n))??m(br,{key:"no-data",title:i(t.noDataText)},null)),m(_w,{ref:a,renderless:!0,items:k.value},{default:U=>{var F;let{item:X,index:ae,itemRef:pe}=U;const ve=J(X.props,{ref:pe,key:X.value,onClick:()=>A(X,null)});return((F=n.item)==null?void 0:F.call(n,{item:X,index:ae,props:ve}))??m(br,J(ve,{role:"option"}),{prepend:L=>{let{isSelected:$}=L;return m(Ee,null,[t.multiple&&!t.hideSelected?m(Wa,{key:X.value,modelValue:$,ripple:!1,tabindex:"-1"},null):void 0,X.props.prependAvatar&&m($s,{image:X.props.prependAvatar},null),X.props.prependIcon&&m(Bt,{icon:X.props.prependIcon},null)])}})}}),(re=n["append-item"])==null?void 0:re.call(n)]}})]}),f.value.map((de,he)=>{function re(pe){pe.stopPropagation(),pe.preventDefault(),A(de,!1)}const U={"onClick:close":re,onKeydown(pe){pe.key!=="Enter"&&pe.key!==" "||(pe.preventDefault(),pe.stopPropagation(),re(pe))},onMousedown(pe){pe.preventDefault(),pe.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0},X=K?!!n.chip:!!n.selection,ae=X?Wb(K?n.chip({item:de,index:he,props:U}):n.selection({item:de,index:he})):void 0;if(!(X&&!ae))return m("div",{key:de.value,class:"v-select__selection"},[K?n.chip?m(dt,{key:"chip-defaults",defaults:{VChip:{closable:t.closableChips,size:"small",text:de.title}}},{default:()=>[ae]}):m(Hc,J({key:"chip",closable:t.closableChips,size:"small",text:de.title,disabled:de.props.disabled},U),null):ae??m("span",{class:"v-select__selection-text"},[de.title,t.multiple&&he<f.value.length-1&&m("span",{class:"v-select__selection-comma"},[Pe(",")])])])})]),"append-inner":function(){var U;for(var de=arguments.length,he=new Array(de),re=0;re<de;re++)he[re]=arguments[re];return m(Ee,null,[(U=n["append-inner"])==null?void 0:U.call(n,...he),t.menuIcon?m(Bt,{class:"v-select__menu-icon",icon:t.menuIcon},null):void 0])}})}),Pr({isFocused:v,menu:l,select:A},s)}}),Vhe=(t,e,n)=>t==null||e==null?-1:t.toString().toLocaleLowerCase().indexOf(e.toString().toLocaleLowerCase()),qh=te({customFilter:Function,customKeyFilter:Object,filterKeys:[Array,String],filterMode:{type:String,default:"intersection"},noFilter:Boolean},"filter");function Lhe(t,e,n){var o;const i=[],s=(n==null?void 0:n.default)??Vhe,r=n!=null&&n.filterKeys?bn(n.filterKeys):!1,a=Object.keys((n==null?void 0:n.customKeyFilter)??{}).length;if(!(t!=null&&t.length))return i;e:for(let l=0;l<t.length;l++){const[u,d=u]=bn(t[l]),c={},f={};let h=-1;if((e||a>0)&&!(n!=null&&n.noFilter)){if(typeof u=="object"){const v=r||Object.keys(d);for(const _ of v){const b=si(d,_),x=(o=n==null?void 0:n.customKeyFilter)==null?void 0:o[_];if(h=x?x(b,e,u):s(b,e,u),h!==-1&&h!==!1)x?c[_]=h:f[_]=h;else if((n==null?void 0:n.filterMode)==="every")continue e}}else h=s(u,e,u),h!==-1&&h!==!1&&(f.title=h);const p=Object.keys(f).length,g=Object.keys(c).length;if(!p&&!g||(n==null?void 0:n.filterMode)==="union"&&g!==a&&!p||(n==null?void 0:n.filterMode)==="intersection"&&(g!==a||!p))continue}i.push({index:l,matches:{...f,...c}})}return i}function Xh(t,e,n,i){const s=G([]),r=G(new Map),a=O(()=>i!=null&&i.transform?se(e).map(l=>[l,i.transform(l)]):se(e));yn(()=>{const l=typeof n=="function"?n():se(n),u=typeof l!="string"&&typeof l!="number"?"":String(l),d=Lhe(a.value,u,{customKeyFilter:{...t.customKeyFilter,...se(i==null?void 0:i.customKeyFilter)},default:t.customFilter,filterKeys:t.filterKeys,filterMode:t.filterMode,noFilter:t.noFilter}),c=se(e),f=[],h=new Map;d.forEach(p=>{let{index:g,matches:v}=p;const _=c[g];f.push(_),h.set(_.value,v)}),s.value=f,r.value=h});function o(l){return r.value.get(l.value)}return{filteredItems:s,filteredMatches:r,getMatches:o}}function Nhe(t,e,n){if(e==null)return t;if(Array.isArray(e))throw new Error("Multiple matches is not implemented");return typeof e=="number"&&~e?m(Ee,null,[m("span",{class:"v-autocomplete__unmask"},[t.substr(0,e)]),m("span",{class:"v-autocomplete__mask"},[t.substr(e,n)]),m("span",{class:"v-autocomplete__unmask"},[t.substr(e+n)])]):t}const Fhe=te({autoSelectFirst:{type:[Boolean,String]},clearOnSelect:Boolean,search:String,...qh({filterKeys:["title"]}),...hC(),...tn(Gh({modelValue:null,role:"combobox"}),["validationValue","dirty","appendInnerIcon"]),..._a({transition:!1})},"VAutocomplete"),Bhe=_e()({name:"VAutocomplete",props:Fhe(),emits:{"update:focused":t=>!0,"update:search":t=>!0,"update:modelValue":t=>!0,"update:menu":t=>!0},setup(t,e){let{slots:n}=e;const{t:i}=gn(),s=G(),r=Ve(!1),a=Ve(!0),o=Ve(!1),l=G(),u=G(),d=ze(t,"menu"),c=O({get:()=>d.value,set:ve=>{var F;d.value&&!ve&&((F=l.value)!=null&&F.ΨopenChildren.size)||(d.value=ve)}}),f=Ve(-1),h=O(()=>{var ve;return(ve=s.value)==null?void 0:ve.color}),p=O(()=>c.value?t.closeText:t.openText),{items:g,transformIn:v,transformOut:_}=aC(t),{textColorClasses:b,textColorStyles:x}=Ui(h),k=ze(t,"search",""),I=ze(t,"modelValue",[],ve=>v(ve===null?[null]:bn(ve)),ve=>{const F=_(ve);return t.multiple?F:F[0]??null}),E=O(()=>typeof t.counterValue=="function"?t.counterValue(I.value):typeof t.counterValue=="number"?t.counterValue:I.value.length),T=ep(t),{filteredItems:S,getMatches:w}=Xh(t,g,()=>a.value?"":k.value),P=O(()=>t.hideSelected?S.value.filter(ve=>!I.value.some(F=>F.value===ve.value)):S.value),C=O(()=>!!(t.chips||n.chip)),D=O(()=>C.value||!!n.selection),A=O(()=>I.value.map(ve=>ve.props.value)),N=O(()=>{var F;return(t.autoSelectFirst===!0||t.autoSelectFirst==="exact"&&k.value===((F=P.value[0])==null?void 0:F.title))&&P.value.length>0&&!a.value&&!o.value}),B=O(()=>t.hideNoData&&!P.value.length||T.isReadonly.value||T.isDisabled.value),z=G(),q=dC(z,s);function W(ve){t.openOnClear&&(c.value=!0),k.value=""}function K(){B.value||(c.value=!0)}function Y(ve){B.value||(r.value&&(ve.preventDefault(),ve.stopPropagation()),c.value=!c.value)}function Z(ve){var F;B_(ve)&&((F=s.value)==null||F.focus())}function ee(ve){var $,ne,ue;if(T.isReadonly.value)return;const F=s.value.selectionStart,L=I.value.length;if((f.value>-1||["Enter","ArrowDown","ArrowUp"].includes(ve.key))&&ve.preventDefault(),["Enter","ArrowDown"].includes(ve.key)&&(c.value=!0),["Escape"].includes(ve.key)&&(c.value=!1),N.value&&["Enter","Tab"].includes(ve.key)&&!I.value.some(ie=>{let{value:Te}=ie;return Te===P.value[0].value})&&pe(P.value[0]),ve.key==="ArrowDown"&&N.value&&(($=z.value)==null||$.focus("next")),["Backspace","Delete"].includes(ve.key)){if(!t.multiple&&D.value&&I.value.length>0&&!k.value)return pe(I.value[0],!1);if(~f.value){const ie=f.value;pe(I.value[f.value],!1),f.value=ie>=L-1?L-2:ie}else ve.key==="Backspace"&&!k.value&&(f.value=L-1)}if(t.multiple){if(ve.key==="ArrowLeft"){if(f.value<0&&F>0)return;const ie=f.value>-1?f.value-1:L-1;I.value[ie]?f.value=ie:(f.value=-1,s.value.setSelectionRange((ne=k.value)==null?void 0:ne.length,(ue=k.value)==null?void 0:ue.length))}if(ve.key==="ArrowRight"){if(f.value<0)return;const ie=f.value+1;I.value[ie]?f.value=ie:(f.value=-1,s.value.setSelectionRange(0,0))}}}function le(ve){if(rh(s.value,":autofill")||rh(s.value,":-webkit-autofill")){const F=g.value.find(L=>L.title===ve.target.value);F&&pe(F)}}function de(){var ve;t.eager&&((ve=u.value)==null||ve.calculateVisibleItems())}function he(){var ve;r.value&&(a.value=!0,(ve=s.value)==null||ve.focus())}function re(ve){r.value=!0,setTimeout(()=>{o.value=!0})}function U(ve){o.value=!1}function X(ve){(ve==null||ve===""&&!t.multiple&&!D.value)&&(I.value=[])}const ae=Ve(!1);function pe(ve){let F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!(!ve||ve.props.disabled))if(t.multiple){const L=I.value.findIndex(ne=>t.valueComparator(ne.value,ve.value)),$=F??!~L;if(~L){const ne=$?[...I.value,ve]:[...I.value];ne.splice(L,1),I.value=ne}else $&&(I.value=[...I.value,ve]);t.clearOnSelect&&(k.value="")}else{const L=F!==!1;I.value=L?[ve]:[],k.value=L&&!D.value?ve.title:"",vt(()=>{c.value=!1,a.value=!0})}}return we(r,(ve,F)=>{var L;ve!==F&&(ve?(ae.value=!0,k.value=t.multiple||D.value?"":String(((L=I.value.at(-1))==null?void 0:L.props.title)??""),a.value=!0,vt(()=>ae.value=!1)):(!t.multiple&&k.value==null&&(I.value=[]),c.value=!1,I.value.some($=>{let{title:ne}=$;return ne===k.value})||(k.value=""),f.value=-1))}),we(k,ve=>{!r.value||ae.value||(ve&&(c.value=!0),a.value=!ve)}),we(c,()=>{if(!t.hideSelected&&c.value&&I.value.length){const ve=P.value.findIndex(F=>I.value.some(L=>F.value===L.value));Yt&&window.requestAnimationFrame(()=>{var F;ve>=0&&((F=u.value)==null||F.scrollToIndex(ve))})}}),we(()=>t.items,(ve,F)=>{c.value||r.value&&!F.length&&ve.length&&(c.value=!0)}),xe(()=>{const ve=!!(!t.hideNoData||P.value.length||n["prepend-item"]||n["append-item"]||n["no-data"]),F=I.value.length>0,L=fa.filterProps(t);return m(fa,J({ref:s},L,{modelValue:k.value,"onUpdate:modelValue":[$=>k.value=$,X],focused:r.value,"onUpdate:focused":$=>r.value=$,validationValue:I.externalValue,counterValue:E.value,dirty:F,onChange:le,class:["v-autocomplete",`v-autocomplete--${t.multiple?"multiple":"single"}`,{"v-autocomplete--active-menu":c.value,"v-autocomplete--chips":!!t.chips,"v-autocomplete--selection-slot":!!D.value,"v-autocomplete--selecting-index":f.value>-1},t.class],style:t.style,readonly:T.isReadonly.value,placeholder:F?void 0:t.placeholder,"onClick:clear":W,"onMousedown:control":K,onKeydown:ee}),{...n,default:()=>m(Ee,null,[m(cc,J({ref:l,modelValue:c.value,"onUpdate:modelValue":$=>c.value=$,activator:"parent",contentClass:"v-autocomplete__content",disabled:B.value,eager:t.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:t.transition,onAfterEnter:de,onAfterLeave:he},t.menuProps),{default:()=>[ve&&m(dh,J({ref:z,selected:A.value,selectStrategy:t.multiple?"independent":"single-independent",onMousedown:$=>$.preventDefault(),onKeydown:Z,onFocusin:re,onFocusout:U,tabindex:"-1","aria-live":"polite",color:t.itemColor??t.color},q,t.listProps),{default:()=>{var $,ne,ue;return[($=n["prepend-item"])==null?void 0:$.call(n),!P.value.length&&!t.hideNoData&&(((ne=n["no-data"])==null?void 0:ne.call(n))??m(br,{key:"no-data",title:i(t.noDataText)},null)),m(_w,{ref:u,renderless:!0,items:P.value},{default:ie=>{var $e;let{item:Te,index:Ae,itemRef:Se}=ie;const Ce=J(Te.props,{ref:Se,key:Te.value,active:N.value&&Ae===0?!0:void 0,onClick:()=>pe(Te,null)});return(($e=n.item)==null?void 0:$e.call(n,{item:Te,index:Ae,props:Ce}))??m(br,J(Ce,{role:"option"}),{prepend:Ne=>{let{isSelected:We}=Ne;return m(Ee,null,[t.multiple&&!t.hideSelected?m(Wa,{key:Te.value,modelValue:We,ripple:!1,tabindex:"-1"},null):void 0,Te.props.prependAvatar&&m($s,{image:Te.props.prependAvatar},null),Te.props.prependIcon&&m(Bt,{icon:Te.props.prependIcon},null)])},title:()=>{var Ne,We;return a.value?Te.title:Nhe(Te.title,(Ne=w(Te))==null?void 0:Ne.title,((We=k.value)==null?void 0:We.length)??0)}})}}),(ue=n["append-item"])==null?void 0:ue.call(n)]}})]}),I.value.map(($,ne)=>{function ue(Se){Se.stopPropagation(),Se.preventDefault(),pe($,!1)}const ie={"onClick:close":ue,onKeydown(Se){Se.key!=="Enter"&&Se.key!==" "||(Se.preventDefault(),Se.stopPropagation(),ue(Se))},onMousedown(Se){Se.preventDefault(),Se.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0},Te=C.value?!!n.chip:!!n.selection,Ae=Te?Wb(C.value?n.chip({item:$,index:ne,props:ie}):n.selection({item:$,index:ne})):void 0;if(!(Te&&!Ae))return m("div",{key:$.value,class:["v-autocomplete__selection",ne===f.value&&["v-autocomplete__selection--selected",b.value]],style:ne===f.value?x.value:{}},[C.value?n.chip?m(dt,{key:"chip-defaults",defaults:{VChip:{closable:t.closableChips,size:"small",text:$.title}}},{default:()=>[Ae]}):m(Hc,J({key:"chip",closable:t.closableChips,size:"small",text:$.title,disabled:$.props.disabled},ie),null):Ae??m("span",{class:"v-autocomplete__selection-text"},[$.title,t.multiple&&ne<I.value.length-1&&m("span",{class:"v-autocomplete__selection-comma"},[Pe(",")])])])})]),"append-inner":function(){var ie;for(var $=arguments.length,ne=new Array($),ue=0;ue<$;ue++)ne[ue]=arguments[ue];return m(Ee,null,[(ie=n["append-inner"])==null?void 0:ie.call(n,...ne),t.menuIcon?m(Bt,{class:"v-autocomplete__menu-icon",icon:t.menuIcon,onMousedown:Y,onClick:kj,"aria-label":i(p.value),title:i(p.value),tabindex:"-1"},null):void 0])}})}),Pr({isFocused:r,isPristine:a,menu:c,search:k,filteredItems:S,select:pe},s)}}),jhe=te({bordered:Boolean,color:String,content:[Number,String],dot:Boolean,floating:Boolean,icon:Ge,inline:Boolean,label:{type:String,default:"$vuetify.badge"},max:[Number,String],modelValue:{type:Boolean,default:!0},offsetX:[Number,String],offsetY:[Number,String],textColor:String,...Be(),...Yo({location:"top end"}),...Rn(),..._t(),...Nt(),..._a({transition:"scale-rotate-transition"})},"VBadge"),M5=_e()({name:"VBadge",inheritAttrs:!1,props:jhe(),setup(t,e){const{backgroundColorClasses:n,backgroundColorStyles:i}=rn(ge(t,"color")),{roundedClasses:s}=qn(t),{t:r}=gn(),{textColorClasses:a,textColorStyles:o}=Ui(ge(t,"textColor")),{themeClasses:l}=Gg(),{locationStyles:u}=Uc(t,!0,d=>(t.floating?t.dot?2:4:t.dot?8:12)+(["top","bottom"].includes(d)?+(t.offsetY??0):["left","right"].includes(d)?+(t.offsetX??0):0));return xe(()=>{const d=Number(t.content),c=!t.max||isNaN(d)?t.content:d<=+t.max?d:`${t.max}+`,[f,h]=BS(e.attrs,["aria-atomic","aria-label","aria-live","role","title"]);return m(t.tag,J({class:["v-badge",{"v-badge--bordered":t.bordered,"v-badge--dot":t.dot,"v-badge--floating":t.floating,"v-badge--inline":t.inline},t.class]},h,{style:t.style}),{default:()=>{var p,g;return[m("div",{class:"v-badge__wrapper"},[(g=(p=e.slots).default)==null?void 0:g.call(p),m(Ts,{transition:t.transition},{default:()=>{var v,_;return[In(m("span",J({class:["v-badge__badge",l.value,n.value,s.value,a.value],style:[i.value,o.value,t.inline?{}:u.value],"aria-atomic":"true","aria-label":r(t.label,d),"aria-live":"polite",role:"status"},f),[t.dot?void 0:e.slots.badge?(_=(v=e.slots).badge)==null?void 0:_.call(v):t.icon?m(Bt,{icon:t.icon},null):c]),[[va,t.modelValue]])]}})])]}})}),{}}}),$he=te({color:String,density:String,...Be()},"VBannerActions"),V5=_e()({name:"VBannerActions",props:$he(),setup(t,e){let{slots:n}=e;return Dn({VBtn:{color:t.color,density:t.density,slim:!0,variant:"text"}}),xe(()=>{var i;return m("div",{class:["v-banner-actions",t.class],style:t.style},[(i=n.default)==null?void 0:i.call(n)])}),{}}}),L5=Ja("v-banner-text"),Uhe=te({avatar:String,bgColor:String,color:String,icon:Ge,lines:String,stacked:Boolean,sticky:Boolean,text:String,...ir(),...Be(),...Ci(),...fi(),...Mc({mobile:null}),...Pi(),...Yo(),...$h(),...Rn(),..._t(),...Nt()},"VBanner"),Hhe=_e()({name:"VBanner",props:Uhe(),setup(t,e){let{slots:n}=e;const{backgroundColorClasses:i,backgroundColorStyles:s}=rn(t,"bgColor"),{borderClasses:r}=Tr(t),{densityClasses:a}=ls(t),{displayClasses:o,mobile:l}=Sr(t),{dimensionStyles:u}=mi(t),{elevationClasses:d}=Wi(t),{locationStyles:c}=Uc(t),{positionClasses:f}=Uh(t),{roundedClasses:h}=qn(t),{themeClasses:p}=Kt(t),g=ge(t,"color"),v=ge(t,"density");Dn({VBannerActions:{color:g,density:v}}),xe(()=>{const _=!!(t.text||n.text),b=!!(t.avatar||t.icon),x=!!(b||n.prepend);return m(t.tag,{class:["v-banner",{"v-banner--stacked":t.stacked||l.value,"v-banner--sticky":t.sticky,[`v-banner--${t.lines}-line`]:!!t.lines},p.value,i.value,r.value,a.value,o.value,d.value,f.value,h.value,t.class],style:[s.value,u.value,c.value,t.style],role:"banner"},{default:()=>{var k;return[x&&m("div",{key:"prepend",class:"v-banner__prepend"},[n.prepend?m(dt,{key:"prepend-defaults",disabled:!b,defaults:{VAvatar:{color:g.value,density:v.value,icon:t.icon,image:t.avatar}}},n.prepend):m($s,{key:"prepend-avatar",color:g.value,density:v.value,icon:t.icon,image:t.avatar},null)]),m("div",{class:"v-banner__content"},[_&&m(L5,{key:"text"},{default:()=>{var I;return[((I=n.text)==null?void 0:I.call(n))??t.text]}}),(k=n.default)==null?void 0:k.call(n)]),n.actions&&m(V5,{key:"actions"},n.actions)]}})})}}),zhe=te({baseColor:String,bgColor:String,color:String,grow:Boolean,mode:{type:String,validator:t=>!t||["horizontal","shift"].includes(t)},height:{type:[Number,String],default:56},active:{type:Boolean,default:!0},...ir(),...Be(),...Ci(),...Pi(),...Rn(),...Vc({name:"bottom-navigation"}),..._t({tag:"header"}),...Bc({selectedClass:"v-btn--selected"}),...Nt()},"VBottomNavigation"),Whe=_e()({name:"VBottomNavigation",props:zhe(),emits:{"update:active":t=>!0,"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const{themeClasses:i}=Gg(),{borderClasses:s}=Tr(t),{backgroundColorClasses:r,backgroundColorStyles:a}=rn(ge(t,"bgColor")),{densityClasses:o}=ls(t),{elevationClasses:l}=Wi(t),{roundedClasses:u}=qn(t),{ssrBootStyles:d}=Nc(),c=O(()=>Number(t.height)-(t.density==="comfortable"?8:0)-(t.density==="compact"?16:0)),f=ze(t,"active",t.active),{layoutItemStyles:h}=Lc({id:t.name,order:O(()=>parseInt(t.order,10)),position:O(()=>"bottom"),layoutSize:O(()=>f.value?c.value:0),elementSize:c,active:f,absolute:ge(t,"absolute")});return au(t,eC),Dn({VBtn:{baseColor:ge(t,"baseColor"),color:ge(t,"color"),density:ge(t,"density"),stacked:O(()=>t.mode!=="horizontal"),variant:"text"}},{scoped:!0}),xe(()=>m(t.tag,{class:["v-bottom-navigation",{"v-bottom-navigation--active":f.value,"v-bottom-navigation--grow":t.grow,"v-bottom-navigation--shift":t.mode==="shift"},i.value,r.value,s.value,o.value,l.value,u.value,t.class],style:[a.value,h.value,{height:Le(c.value)},d.value,t.style]},{default:()=>[n.default&&m("div",{class:"v-bottom-navigation__content"},[n.default()])]})),{}}}),N5=te({fullscreen:Boolean,retainFocus:{type:Boolean,default:!0},scrollable:Boolean,...tp({origin:"center center",scrollStrategy:"block",transition:{component:uw},zIndex:2400})},"VDialog"),y1=_e()({name:"VDialog",props:N5(),emits:{"update:modelValue":t=>!0,afterEnter:()=>!0,afterLeave:()=>!0},setup(t,e){let{emit:n,slots:i}=e;const s=ze(t,"modelValue"),{scopeId:r}=zc(),a=G();function o(d){var h,p;const c=d.relatedTarget,f=d.target;if(c!==f&&((h=a.value)!=null&&h.contentEl)&&((p=a.value)!=null&&p.globalTop)&&![document,a.value.contentEl].includes(f)&&!a.value.contentEl.contains(f)){const g=Nm(a.value.contentEl);if(!g.length)return;const v=g[0],_=g[g.length-1];c===v?_.focus():v.focus()}}Mi(()=>{document.removeEventListener("focusin",o)}),Yt&&we(()=>s.value&&t.retainFocus,d=>{d?document.addEventListener("focusin",o):document.removeEventListener("focusin",o)},{immediate:!0});function l(){var d;n("afterEnter"),(d=a.value)!=null&&d.contentEl&&!a.value.contentEl.contains(document.activeElement)&&a.value.contentEl.focus({preventScroll:!0})}function u(){n("afterLeave")}return we(s,async d=>{var c;d||(await vt(),(c=a.value.activatorEl)==null||c.focus({preventScroll:!0}))}),xe(()=>{const d=ha.filterProps(t),c=J({"aria-haspopup":"dialog"},t.activatorProps),f=J({tabindex:-1},t.contentProps);return m(ha,J({ref:a,class:["v-dialog",{"v-dialog--fullscreen":t.fullscreen,"v-dialog--scrollable":t.scrollable},t.class],style:t.style},d,{modelValue:s.value,"onUpdate:modelValue":h=>s.value=h,"aria-modal":"true",activatorProps:c,contentProps:f,height:t.fullscreen?void 0:t.height,width:t.fullscreen?void 0:t.width,maxHeight:t.fullscreen?void 0:t.maxHeight,maxWidth:t.fullscreen?void 0:t.maxWidth,role:"dialog",onAfterEnter:l,onAfterLeave:u},r),{activator:i.activator,default:function(){for(var h=arguments.length,p=new Array(h),g=0;g<h;g++)p[g]=arguments[g];return m(dt,{root:"VDialog"},{default:()=>{var v;return[(v=i.default)==null?void 0:v.call(i,...p)]}})}})}),Pr({},a)}}),Yhe=te({inset:Boolean,...N5({transition:"bottom-sheet-transition"})},"VBottomSheet"),Ghe=_e()({name:"VBottomSheet",props:Yhe(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const i=ze(t,"modelValue");return xe(()=>{const s=y1.filterProps(t);return m(y1,J(s,{contentClass:["v-bottom-sheet__content",t.contentClass],modelValue:i.value,"onUpdate:modelValue":r=>i.value=r,class:["v-bottom-sheet",{"v-bottom-sheet--inset":t.inset},t.class],style:t.style}),n)}),{}}}),qhe=te({divider:[Number,String],...Be()},"VBreadcrumbsDivider"),F5=_e()({name:"VBreadcrumbsDivider",props:qhe(),setup(t,e){let{slots:n}=e;return xe(()=>{var i;return m("li",{class:["v-breadcrumbs-divider",t.class],style:t.style},[((i=n==null?void 0:n.default)==null?void 0:i.call(n))??t.divider])}),{}}}),Xhe=te({active:Boolean,activeClass:String,activeColor:String,color:String,disabled:Boolean,title:String,...Be(),...Zg(),..._t({tag:"li"})},"VBreadcrumbsItem"),B5=_e()({name:"VBreadcrumbsItem",props:Xhe(),setup(t,e){let{slots:n,attrs:i}=e;const s=Hh(t,i),r=O(()=>{var u;return t.active||((u=s.isActive)==null?void 0:u.value)}),a=O(()=>r.value?t.activeColor:t.color),{textColorClasses:o,textColorStyles:l}=Ui(a);return xe(()=>m(t.tag,{class:["v-breadcrumbs-item",{"v-breadcrumbs-item--active":r.value,"v-breadcrumbs-item--disabled":t.disabled,[`${t.activeClass}`]:r.value&&t.activeClass},o.value,t.class],style:[l.value,t.style],"aria-current":r.value?"page":void 0},{default:()=>{var u,d;return[s.isLink.value?m("a",J({class:"v-breadcrumbs-item--link",onClick:s.navigate},s.linkProps),[((d=n.default)==null?void 0:d.call(n))??t.title]):((u=n.default)==null?void 0:u.call(n))??t.title]}})),{}}}),Khe=te({activeClass:String,activeColor:String,bgColor:String,color:String,disabled:Boolean,divider:{type:String,default:"/"},icon:Ge,items:{type:Array,default:()=>[]},...Be(),...Ci(),...Rn(),..._t({tag:"ul"})},"VBreadcrumbs"),Qhe=_e()({name:"VBreadcrumbs",props:Khe(),setup(t,e){let{slots:n}=e;const{backgroundColorClasses:i,backgroundColorStyles:s}=rn(ge(t,"bgColor")),{densityClasses:r}=ls(t),{roundedClasses:a}=qn(t);Dn({VBreadcrumbsDivider:{divider:ge(t,"divider")},VBreadcrumbsItem:{activeClass:ge(t,"activeClass"),activeColor:ge(t,"activeColor"),color:ge(t,"color"),disabled:ge(t,"disabled")}});const o=O(()=>t.items.map(l=>typeof l=="string"?{item:{title:l},raw:l}:{item:l,raw:l}));return xe(()=>{const l=!!(n.prepend||t.icon);return m(t.tag,{class:["v-breadcrumbs",i.value,r.value,a.value,t.class],style:[s.value,t.style]},{default:()=>{var u;return[l&&m("li",{key:"prepend",class:"v-breadcrumbs__prepend"},[n.prepend?m(dt,{key:"prepend-defaults",disabled:!t.icon,defaults:{VIcon:{icon:t.icon,start:!0}}},n.prepend):m(Bt,{key:"prepend-icon",start:!0,icon:t.icon},null)]),o.value.map((d,c,f)=>{var g;let{item:h,raw:p}=d;return m(Ee,null,[((g=n.item)==null?void 0:g.call(n,{item:h,index:c}))??m(B5,J({key:c,disabled:c>=f.length-1},typeof h=="string"?{title:h}:h),{default:n.title?()=>{var v;return(v=n.title)==null?void 0:v.call(n,{item:h,index:c})}:void 0}),c<f.length-1&&m(F5,null,{default:n.divider?()=>{var v;return(v=n.divider)==null?void 0:v.call(n,{item:p,index:c})}:void 0})])}),(u=n.default)==null?void 0:u.call(n)]}})}),{}}}),j5=_e()({name:"VCardActions",props:Be(),setup(t,e){let{slots:n}=e;return Dn({VBtn:{slim:!0,variant:"text"}}),xe(()=>{var i;return m("div",{class:["v-card-actions",t.class],style:t.style},[(i=n.default)==null?void 0:i.call(n)])}),{}}}),Jhe=te({opacity:[Number,String],...Be(),..._t()},"VCardSubtitle"),$5=_e()({name:"VCardSubtitle",props:Jhe(),setup(t,e){let{slots:n}=e;return xe(()=>m(t.tag,{class:["v-card-subtitle",t.class],style:[{"--v-card-subtitle-opacity":t.opacity},t.style]},n)),{}}}),U5=Ja("v-card-title"),Zhe=te({appendAvatar:String,appendIcon:Ge,prependAvatar:String,prependIcon:Ge,subtitle:[String,Number],title:[String,Number],...Be(),...Ci()},"VCardItem"),H5=_e()({name:"VCardItem",props:Zhe(),setup(t,e){let{slots:n}=e;return xe(()=>{var u;const i=!!(t.prependAvatar||t.prependIcon),s=!!(i||n.prepend),r=!!(t.appendAvatar||t.appendIcon),a=!!(r||n.append),o=!!(t.title!=null||n.title),l=!!(t.subtitle!=null||n.subtitle);return m("div",{class:["v-card-item",t.class],style:t.style},[s&&m("div",{key:"prepend",class:"v-card-item__prepend"},[n.prepend?m(dt,{key:"prepend-defaults",disabled:!i,defaults:{VAvatar:{density:t.density,image:t.prependAvatar},VIcon:{density:t.density,icon:t.prependIcon}}},n.prepend):m(Ee,null,[t.prependAvatar&&m($s,{key:"prepend-avatar",density:t.density,image:t.prependAvatar},null),t.prependIcon&&m(Bt,{key:"prepend-icon",density:t.density,icon:t.prependIcon},null)])]),m("div",{class:"v-card-item__content"},[o&&m(U5,{key:"title"},{default:()=>{var d;return[((d=n.title)==null?void 0:d.call(n))??t.title]}}),l&&m($5,{key:"subtitle"},{default:()=>{var d;return[((d=n.subtitle)==null?void 0:d.call(n))??t.subtitle]}}),(u=n.default)==null?void 0:u.call(n)]),a&&m("div",{key:"append",class:"v-card-item__append"},[n.append?m(dt,{key:"append-defaults",disabled:!r,defaults:{VAvatar:{density:t.density,image:t.appendAvatar},VIcon:{density:t.density,icon:t.appendIcon}}},n.append):m(Ee,null,[t.appendIcon&&m(Bt,{key:"append-icon",density:t.density,icon:t.appendIcon},null),t.appendAvatar&&m($s,{key:"append-avatar",density:t.density,image:t.appendAvatar},null)])])])}),{}}}),efe=te({opacity:[Number,String],...Be(),..._t()},"VCardText"),z5=_e()({name:"VCardText",props:efe(),setup(t,e){let{slots:n}=e;return xe(()=>m(t.tag,{class:["v-card-text",t.class],style:[{"--v-card-text-opacity":t.opacity},t.style]},n)),{}}}),tfe=te({appendAvatar:String,appendIcon:Ge,disabled:Boolean,flat:Boolean,hover:Boolean,image:String,link:{type:Boolean,default:void 0},prependAvatar:String,prependIcon:Ge,ripple:{type:[Boolean,Object],default:!0},subtitle:[String,Number],text:[String,Number],title:[String,Number],...ir(),...Be(),...Ci(),...fi(),...Pi(),...fw(),...Yo(),...$h(),...Rn(),...Zg(),..._t(),...Nt(),...Br({variant:"elevated"})},"VCard"),nfe=_e()({name:"VCard",directives:{Ripple:Go},props:tfe(),setup(t,e){let{attrs:n,slots:i}=e;const{themeClasses:s}=Kt(t),{borderClasses:r}=Tr(t),{colorClasses:a,colorStyles:o,variantClasses:l}=Fc(t),{densityClasses:u}=ls(t),{dimensionStyles:d}=mi(t),{elevationClasses:c}=Wi(t),{loaderClasses:f}=Qg(t),{locationStyles:h}=Uc(t),{positionClasses:p}=Uh(t),{roundedClasses:g}=qn(t),v=Hh(t,n),_=O(()=>t.link!==!1&&v.isLink.value),b=O(()=>!t.disabled&&t.link!==!1&&(t.link||v.isClickable.value));return xe(()=>{const x=_.value?"a":t.tag,k=!!(i.title||t.title!=null),I=!!(i.subtitle||t.subtitle!=null),E=k||I,T=!!(i.append||t.appendAvatar||t.appendIcon),S=!!(i.prepend||t.prependAvatar||t.prependIcon),w=!!(i.image||t.image),P=E||S||T,C=!!(i.text||t.text!=null);return In(m(x,J({class:["v-card",{"v-card--disabled":t.disabled,"v-card--flat":t.flat,"v-card--hover":t.hover&&!(t.disabled||t.flat),"v-card--link":b.value},s.value,r.value,a.value,u.value,c.value,f.value,p.value,g.value,l.value,t.class],style:[o.value,d.value,h.value,t.style],onClick:b.value&&v.navigate,tabindex:t.disabled?-1:void 0},v.linkProps),{default:()=>{var D;return[w&&m("div",{key:"image",class:"v-card__image"},[i.image?m(dt,{key:"image-defaults",disabled:!t.image,defaults:{VImg:{cover:!0,src:t.image}}},i.image):m(Vo,{key:"image-img",cover:!0,src:t.image},null)]),m(Jg,{name:"v-card",active:!!t.loading,color:typeof t.loading=="boolean"?void 0:t.loading},{default:i.loader}),P&&m(H5,{key:"item",prependAvatar:t.prependAvatar,prependIcon:t.prependIcon,title:t.title,subtitle:t.subtitle,appendAvatar:t.appendAvatar,appendIcon:t.appendIcon},{default:i.item,prepend:i.prepend,title:i.title,subtitle:i.subtitle,append:i.append}),C&&m(z5,{key:"text"},{default:()=>{var A;return[((A=i.text)==null?void 0:A.call(i))??t.text]}}),(D=i.default)==null?void 0:D.call(i),i.actions&&m(j5,null,{default:i.actions}),ru(b.value,"v-card")]}}),[[nr("ripple"),b.value&&t.ripple]])}),{}}}),ife=t=>{const{touchstartX:e,touchendX:n,touchstartY:i,touchendY:s}=t,r=.5,a=16;t.offsetX=n-e,t.offsetY=s-i,Math.abs(t.offsetY)<r*Math.abs(t.offsetX)&&(t.left&&n<e-a&&t.left(t),t.right&&n>e+a&&t.right(t)),Math.abs(t.offsetX)<r*Math.abs(t.offsetY)&&(t.up&&s<i-a&&t.up(t),t.down&&s>i+a&&t.down(t))};function sfe(t,e){var i;const n=t.changedTouches[0];e.touchstartX=n.clientX,e.touchstartY=n.clientY,(i=e.start)==null||i.call(e,{originalEvent:t,...e})}function rfe(t,e){var i;const n=t.changedTouches[0];e.touchendX=n.clientX,e.touchendY=n.clientY,(i=e.end)==null||i.call(e,{originalEvent:t,...e}),ife(e)}function afe(t,e){var i;const n=t.changedTouches[0];e.touchmoveX=n.clientX,e.touchmoveY=n.clientY,(i=e.move)==null||i.call(e,{originalEvent:t,...e})}function ofe(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const e={touchstartX:0,touchstartY:0,touchendX:0,touchendY:0,touchmoveX:0,touchmoveY:0,offsetX:0,offsetY:0,left:t.left,right:t.right,up:t.up,down:t.down,start:t.start,move:t.move,end:t.end};return{touchstart:n=>sfe(n,e),touchend:n=>rfe(n,e),touchmove:n=>afe(n,e)}}function lfe(t,e){var o;const n=e.value,i=n!=null&&n.parent?t.parentElement:t,s=(n==null?void 0:n.options)??{passive:!0},r=(o=e.instance)==null?void 0:o.$.uid;if(!i||!r)return;const a=ofe(e.value);i._touchHandlers=i._touchHandlers??Object.create(null),i._touchHandlers[r]=a,yj(a).forEach(l=>{i.addEventListener(l,a[l],s)})}function ufe(t,e){var r,a;const n=(r=e.value)!=null&&r.parent?t.parentElement:t,i=(a=e.instance)==null?void 0:a.$.uid;if(!(n!=null&&n._touchHandlers)||!i)return;const s=n._touchHandlers[i];yj(s).forEach(o=>{n.removeEventListener(o,s[o])}),delete n._touchHandlers[i]}const mC={mounted:lfe,unmounted:ufe},W5=Symbol.for("vuetify:v-window"),Y5=Symbol.for("vuetify:v-window-group"),yw=te({continuous:Boolean,nextIcon:{type:[Boolean,String,Function,Object],default:"$next"},prevIcon:{type:[Boolean,String,Function,Object],default:"$prev"},reverse:Boolean,showArrows:{type:[Boolean,String],validator:t=>typeof t=="boolean"||t==="hover"},touch:{type:[Object,Boolean],default:void 0},direction:{type:String,default:"horizontal"},modelValue:null,disabled:Boolean,selectedClass:{type:String,default:"v-window-item--active"},mandatory:{type:[Boolean,String],default:"force"},...Be(),..._t(),...Nt()},"VWindow"),dc=_e()({name:"VWindow",directives:{Touch:mC},props:yw(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const{themeClasses:i}=Kt(t),{isRtl:s}=Ti(),{t:r}=gn(),a=au(t,Y5),o=G(),l=O(()=>s.value?!t.reverse:t.reverse),u=Ve(!1),d=O(()=>{const k=t.direction==="vertical"?"y":"x",E=(l.value?!u.value:u.value)?"-reverse":"";return`v-window-${k}${E}-transition`}),c=Ve(0),f=G(void 0),h=O(()=>a.items.value.findIndex(k=>a.selected.value.includes(k.id)));we(h,(k,I)=>{const E=a.items.value.length,T=E-1;E<=2?u.value=k<I:k===T&&I===0?u.value=!0:k===0&&I===T?u.value=!1:u.value=k<I}),Jt(W5,{transition:d,isReversed:u,transitionCount:c,transitionHeight:f,rootRef:o});const p=O(()=>t.continuous||h.value!==0),g=O(()=>t.continuous||h.value!==a.items.value.length-1);function v(){p.value&&a.prev()}function _(){g.value&&a.next()}const b=O(()=>{const k=[],I={icon:s.value?t.nextIcon:t.prevIcon,class:`v-window__${l.value?"right":"left"}`,onClick:a.prev,"aria-label":r("$vuetify.carousel.prev")};k.push(p.value?n.prev?n.prev({props:I}):m(pt,I,null):m("div",null,null));const E={icon:s.value?t.prevIcon:t.nextIcon,class:`v-window__${l.value?"left":"right"}`,onClick:a.next,"aria-label":r("$vuetify.carousel.next")};return k.push(g.value?n.next?n.next({props:E}):m(pt,E,null):m("div",null,null)),k}),x=O(()=>t.touch===!1?t.touch:{...{left:()=>{l.value?v():_()},right:()=>{l.value?_():v()},start:I=>{let{originalEvent:E}=I;E.stopPropagation()}},...t.touch===!0?{}:t.touch});return xe(()=>In(m(t.tag,{ref:o,class:["v-window",{"v-window--show-arrows-on-hover":t.showArrows==="hover"},i.value,t.class],style:t.style},{default:()=>{var k,I;return[m("div",{class:"v-window__container",style:{height:f.value}},[(k=n.default)==null?void 0:k.call(n,{group:a}),t.showArrows!==!1&&m("div",{class:"v-window__controls"},[b.value])]),(I=n.additional)==null?void 0:I.call(n,{group:a})]}}),[[nr("touch"),x.value]])),{group:a}}}),cfe=te({color:String,cycle:Boolean,delimiterIcon:{type:Ge,default:"$delimiter"},height:{type:[Number,String],default:500},hideDelimiters:Boolean,hideDelimiterBackground:Boolean,interval:{type:[Number,String],default:6e3,validator:t=>Number(t)>0},progress:[Boolean,String],verticalDelimiters:[Boolean,String],...yw({continuous:!0,mandatory:"force",showArrows:!0})},"VCarousel"),dfe=_e()({name:"VCarousel",props:cfe(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const i=ze(t,"modelValue"),{t:s}=gn(),r=G();let a=-1;we(i,l),we(()=>t.interval,l),we(()=>t.cycle,u=>{u?l():window.clearTimeout(a)}),Tt(o);function o(){!t.cycle||!r.value||(a=window.setTimeout(r.value.group.next,+t.interval>0?+t.interval:6e3))}function l(){window.clearTimeout(a),window.requestAnimationFrame(o)}return xe(()=>{const u=dc.filterProps(t);return m(dc,J({ref:r},u,{modelValue:i.value,"onUpdate:modelValue":d=>i.value=d,class:["v-carousel",{"v-carousel--hide-delimiter-background":t.hideDelimiterBackground,"v-carousel--vertical-delimiters":t.verticalDelimiters},t.class],style:[{height:Le(t.height)},t.style]}),{default:n.default,additional:d=>{let{group:c}=d;return m(Ee,null,[!t.hideDelimiters&&m("div",{class:"v-carousel__controls",style:{left:t.verticalDelimiters==="left"&&t.verticalDelimiters?0:"auto",right:t.verticalDelimiters==="right"?0:"auto"}},[c.items.value.length>0&&m(dt,{defaults:{VBtn:{color:t.color,icon:t.delimiterIcon,size:"x-small",variant:"text"}},scoped:!0},{default:()=>[c.items.value.map((f,h)=>{const p={id:`carousel-item-${f.id}`,"aria-label":s("$vuetify.carousel.ariaLabel.delimiter",h+1,c.items.value.length),class:["v-carousel__controls__item",c.isSelected(f.id)&&"v-btn--active"],onClick:()=>c.select(f.id,!0)};return n.item?n.item({props:p,item:f}):m(pt,J(f,p),null)})]})]),t.progress&&m(hw,{class:"v-carousel__progress",color:typeof t.progress=="string"?t.progress:void 0,modelValue:(c.getItemIndex(i.value)+1)/c.items.value.length*100},null)])},prev:n.prev,next:n.next})}),{}}}),bw=te({reverseTransition:{type:[Boolean,String],default:void 0},transition:{type:[Boolean,String],default:void 0},...Be(),...jc(),...lC()},"VWindowItem"),hc=_e()({name:"VWindowItem",directives:{Touch:mC},props:bw(),emits:{"group:selected":t=>!0},setup(t,e){let{slots:n}=e;const i=gt(W5),s=$c(t,Y5),{isBooted:r}=Nc();if(!i||!s)throw new Error("[Vuetify] VWindowItem must be used inside VWindow");const a=Ve(!1),o=O(()=>r.value&&(i.isReversed.value?t.reverseTransition!==!1:t.transition!==!1));function l(){!a.value||!i||(a.value=!1,i.transitionCount.value>0&&(i.transitionCount.value-=1,i.transitionCount.value===0&&(i.transitionHeight.value=void 0)))}function u(){var p;a.value||!i||(a.value=!0,i.transitionCount.value===0&&(i.transitionHeight.value=Le((p=i.rootRef.value)==null?void 0:p.clientHeight)),i.transitionCount.value+=1)}function d(){l()}function c(p){a.value&&vt(()=>{!o.value||!a.value||!i||(i.transitionHeight.value=Le(p.clientHeight))})}const f=O(()=>{const p=i.isReversed.value?t.reverseTransition:t.transition;return o.value?{name:typeof p!="string"?i.transition.value:p,onBeforeEnter:u,onAfterEnter:l,onEnterCancelled:d,onBeforeLeave:u,onAfterLeave:l,onLeaveCancelled:d,onEnter:c}:!1}),{hasContent:h}=uC(t,s.isSelected);return xe(()=>m(Ts,{transition:f.value,disabled:!r.value},{default:()=>{var p;return[In(m("div",{class:["v-window-item",s.selectedClass.value,t.class],style:t.style},[h.value&&((p=n.default)==null?void 0:p.call(n))]),[[va,s.isSelected.value]])]}})),{groupItem:s}}}),hfe=te({...R4(),...bw()},"VCarouselItem"),ffe=_e()({name:"VCarouselItem",inheritAttrs:!1,props:hfe(),setup(t,e){let{slots:n,attrs:i}=e;xe(()=>{const s=Vo.filterProps(t),r=hc.filterProps(t);return m(hc,J({class:["v-carousel-item",t.class]},r),{default:()=>[m(Vo,J(i,s),n)]})})}}),mfe=Ja("v-code","code"),gfe=te({color:{type:Object},disabled:Boolean,dotSize:{type:[Number,String],default:10},height:{type:[Number,String],default:150},width:{type:[Number,String],default:300},...Be()},"VColorPickerCanvas"),pfe=xr({name:"VColorPickerCanvas",props:gfe(),emits:{"update:color":t=>!0,"update:position":t=>!0},setup(t,e){let{emit:n}=e;const i=Ve(!1),s=G(),r=Ve(parseFloat(t.width)),a=Ve(parseFloat(t.height)),o=G({x:0,y:0}),l=O({get:()=>o.value,set(v){var x,k;if(!s.value)return;const{x:_,y:b}=v;o.value=v,n("update:color",{h:((x=t.color)==null?void 0:x.h)??0,s:$n(_,0,r.value)/r.value,v:1-$n(b,0,a.value)/a.value,a:((k=t.color)==null?void 0:k.a)??1})}}),u=O(()=>{const{x:v,y:_}=l.value,b=parseInt(t.dotSize,10)/2;return{width:Le(t.dotSize),height:Le(t.dotSize),transform:`translate(${Le(v-b)}, ${Le(_-b)})`}}),{resizeRef:d}=da(v=>{var x;if(!((x=d.el)!=null&&x.offsetParent))return;const{width:_,height:b}=v[0].contentRect;r.value=_,a.value=b});function c(v,_,b){const{left:x,top:k,width:I,height:E}=b;l.value={x:$n(v-x,0,I),y:$n(_-k,0,E)}}function f(v){v.type==="mousedown"&&v.preventDefault(),!t.disabled&&(h(v),window.addEventListener("mousemove",h),window.addEventListener("mouseup",p),window.addEventListener("touchmove",h),window.addEventListener("touchend",p))}function h(v){if(t.disabled||!s.value)return;i.value=!0;const _=fne(v);c(_.clientX,_.clientY,s.value.getBoundingClientRect())}function p(){window.removeEventListener("mousemove",h),window.removeEventListener("mouseup",p),window.removeEventListener("touchmove",h),window.removeEventListener("touchend",p)}function g(){var k;if(!s.value)return;const v=s.value,_=v.getContext("2d");if(!_)return;const b=_.createLinearGradient(0,0,v.width,0);b.addColorStop(0,"hsla(0, 0%, 100%, 1)"),b.addColorStop(1,`hsla(${((k=t.color)==null?void 0:k.h)??0}, 100%, 50%, 1)`),_.fillStyle=b,_.fillRect(0,0,v.width,v.height);const x=_.createLinearGradient(0,0,0,v.height);x.addColorStop(0,"hsla(0, 0%, 0%, 0)"),x.addColorStop(1,"hsla(0, 0%, 0%, 1)"),_.fillStyle=x,_.fillRect(0,0,v.width,v.height)}return we(()=>{var v;return(v=t.color)==null?void 0:v.h},g,{immediate:!0}),we(()=>[r.value,a.value],(v,_)=>{g(),o.value={x:l.value.x*v[0]/_[0],y:l.value.y*v[1]/_[1]}},{flush:"post"}),we(()=>t.color,()=>{if(i.value){i.value=!1;return}o.value=t.color?{x:t.color.s*r.value,y:(1-t.color.v)*a.value}:{x:0,y:0}},{deep:!0,immediate:!0}),Tt(()=>g()),xe(()=>m("div",{ref:d,class:["v-color-picker-canvas",t.class],style:t.style,onMousedown:f,onTouchstartPassive:f},[m("canvas",{ref:s,width:r.value,height:a.value},null),t.color&&m("div",{class:["v-color-picker-canvas__dot",{"v-color-picker-canvas__dot--disabled":t.disabled}],style:u.value},null)])),{}}});function vfe(t,e){if(e){const{a:n,...i}=t;return i}return t}function _fe(t,e){if(e==null||typeof e=="string"){const n=Lj(t);return t.a===1?n.slice(0,7):n}if(typeof e=="object"){let n;return Mu(e,["r","g","b"])?n=Oo(t):Mu(e,["h","s","l"])?n=Dj(t):Mu(e,["h","s","v"])&&(n=t),vfe(n,!Mu(e,["a"])&&t.a===1)}return t}const bd={h:0,s:0,v:0,a:1},b1={inputProps:{type:"number",min:0},inputs:[{label:"R",max:255,step:1,getValue:t=>Math.round(t.r),getColor:(t,e)=>({...t,r:Number(e)})},{label:"G",max:255,step:1,getValue:t=>Math.round(t.g),getColor:(t,e)=>({...t,g:Number(e)})},{label:"B",max:255,step:1,getValue:t=>Math.round(t.b),getColor:(t,e)=>({...t,b:Number(e)})},{label:"A",max:1,step:.01,getValue:t=>{let{a:e}=t;return e!=null?Math.round(e*100)/100:1},getColor:(t,e)=>({...t,a:Number(e)})}],to:Oo,from:Yb};var xV;const yfe={...b1,inputs:(xV=b1.inputs)==null?void 0:xV.slice(0,3)},w1={inputProps:{type:"number",min:0},inputs:[{label:"H",max:360,step:1,getValue:t=>Math.round(t.h),getColor:(t,e)=>({...t,h:Number(e)})},{label:"S",max:1,step:.01,getValue:t=>Math.round(t.s*100)/100,getColor:(t,e)=>({...t,s:Number(e)})},{label:"L",max:1,step:.01,getValue:t=>Math.round(t.l*100)/100,getColor:(t,e)=>({...t,l:Number(e)})},{label:"A",max:1,step:.01,getValue:t=>{let{a:e}=t;return e!=null?Math.round(e*100)/100:1},getColor:(t,e)=>({...t,a:Number(e)})}],to:Dj,from:PP},bfe={...w1,inputs:w1.inputs.slice(0,3)},G5={inputProps:{type:"text"},inputs:[{label:"HEXA",getValue:t=>t,getColor:(t,e)=>e}],to:Lj,from:Vj},wfe={...G5,inputs:[{label:"HEX",getValue:t=>t.slice(0,7),getColor:(t,e)=>e}]},Yu={rgb:yfe,rgba:b1,hsl:bfe,hsla:w1,hex:wfe,hexa:G5},xfe=t=>{let{label:e,...n}=t;return m("div",{class:"v-color-picker-edit__input"},[m("input",n,null),m("span",null,[e])])},Sfe=te({color:Object,disabled:Boolean,mode:{type:String,default:"rgba",validator:t=>Object.keys(Yu).includes(t)},modes:{type:Array,default:()=>Object.keys(Yu),validator:t=>Array.isArray(t)&&t.every(e=>Object.keys(Yu).includes(e))},...Be()},"VColorPickerEdit"),kfe=xr({name:"VColorPickerEdit",props:Sfe(),emits:{"update:color":t=>!0,"update:mode":t=>!0},setup(t,e){let{emit:n}=e;const i=O(()=>t.modes.map(r=>({...Yu[r],name:r}))),s=O(()=>{var o;const r=i.value.find(l=>l.name===t.mode);if(!r)return[];const a=t.color?r.to(t.color):null;return(o=r.inputs)==null?void 0:o.map(l=>{let{getValue:u,getColor:d,...c}=l;return{...r.inputProps,...c,disabled:t.disabled,value:a&&u(a),onChange:f=>{const h=f.target;h&&n("update:color",r.from(d(a??r.to(bd),h.value)))}}})});return xe(()=>{var r;return m("div",{class:["v-color-picker-edit",t.class],style:t.style},[(r=s.value)==null?void 0:r.map(a=>m(xfe,a,null)),i.value.length>1&&m(pt,{icon:"$unfold",size:"x-small",variant:"plain",onClick:()=>{const a=i.value.findIndex(o=>o.name===t.mode);n("update:mode",i.value[(a+1)%i.value.length].name)}},null)])}),{}}}),gC=Symbol.for("vuetify:v-slider");function x1(t,e,n){const i=n==="vertical",s=e.getBoundingClientRect(),r="touches"in t?t.touches[0]:t;return i?r.clientY-(s.top+s.height/2):r.clientX-(s.left+s.width/2)}function Tfe(t,e){return"touches"in t&&t.touches.length?t.touches[0][e]:"changedTouches"in t&&t.changedTouches.length?t.changedTouches[0][e]:t[e]}const q5=te({disabled:{type:Boolean,default:null},error:Boolean,readonly:{type:Boolean,default:null},max:{type:[Number,String],default:100},min:{type:[Number,String],default:0},step:{type:[Number,String],default:0},thumbColor:String,thumbLabel:{type:[Boolean,String],default:void 0,validator:t=>typeof t=="boolean"||t==="always"},thumbSize:{type:[Number,String],default:20},showTicks:{type:[Boolean,String],default:!1,validator:t=>typeof t=="boolean"||t==="always"},ticks:{type:[Array,Object]},tickSize:{type:[Number,String],default:2},color:String,trackColor:String,trackFillColor:String,trackSize:{type:[Number,String],default:4},direction:{type:String,default:"horizontal",validator:t=>["vertical","horizontal"].includes(t)},reverse:Boolean,...Rn(),...Pi({elevation:2}),ripple:{type:Boolean,default:!0}},"Slider"),X5=t=>{const e=O(()=>parseFloat(t.min)),n=O(()=>parseFloat(t.max)),i=O(()=>+t.step>0?parseFloat(t.step):0),s=O(()=>Math.max(L_(i.value),L_(e.value)));function r(a){if(a=parseFloat(a),i.value<=0)return a;const o=$n(a,e.value,n.value),l=e.value%i.value,u=Math.round((o-l)/i.value)*i.value+l;return parseFloat(Math.min(u,n.value).toFixed(s.value))}return{min:e,max:n,step:i,decimals:s,roundValue:r}},K5=t=>{let{props:e,steps:n,onSliderStart:i,onSliderMove:s,onSliderEnd:r,getActiveThumb:a}=t;const{isRtl:o}=Ti(),l=ge(e,"reverse"),u=O(()=>e.direction==="vertical"),d=O(()=>u.value!==l.value),{min:c,max:f,step:h,decimals:p,roundValue:g}=n,v=O(()=>parseInt(e.thumbSize,10)),_=O(()=>parseInt(e.tickSize,10)),b=O(()=>parseInt(e.trackSize,10)),x=O(()=>(f.value-c.value)/h.value),k=ge(e,"disabled"),I=O(()=>e.error||e.disabled?void 0:e.thumbColor??e.color),E=O(()=>e.error||e.disabled?void 0:e.trackColor??e.color),T=O(()=>e.error||e.disabled?void 0:e.trackFillColor??e.color),S=Ve(!1),w=Ve(0),P=G(),C=G();function D(re){var ne;const U=e.direction==="vertical",X=U?"top":"left",ae=U?"height":"width",pe=U?"clientY":"clientX",{[X]:ve,[ae]:F}=(ne=P.value)==null?void 0:ne.$el.getBoundingClientRect(),L=Tfe(re,pe);let $=Math.min(Math.max((L-ve-w.value)/F,0),1)||0;return(U?d.value:d.value!==o.value)&&($=1-$),g(c.value+$*(f.value-c.value))}const A=re=>{r({value:D(re)}),S.value=!1,w.value=0},N=re=>{C.value=a(re),C.value&&(C.value.focus(),S.value=!0,C.value.contains(re.target)?w.value=x1(re,C.value,e.direction):(w.value=0,s({value:D(re)})),i({value:D(re)}))},B={passive:!0,capture:!0};function z(re){s({value:D(re)})}function q(re){re.stopPropagation(),re.preventDefault(),A(re),window.removeEventListener("mousemove",z,B),window.removeEventListener("mouseup",q)}function W(re){var U;A(re),window.removeEventListener("touchmove",z,B),(U=re.target)==null||U.removeEventListener("touchend",W)}function K(re){var U;N(re),window.addEventListener("touchmove",z,B),(U=re.target)==null||U.addEventListener("touchend",W,{passive:!1})}function Y(re){re.preventDefault(),N(re),window.addEventListener("mousemove",z,B),window.addEventListener("mouseup",q,{passive:!1})}const Z=re=>{const U=(re-c.value)/(f.value-c.value)*100;return $n(isNaN(U)?0:U,0,100)},ee=ge(e,"showTicks"),le=O(()=>ee.value?e.ticks?Array.isArray(e.ticks)?e.ticks.map(re=>({value:re,position:Z(re),label:re.toString()})):Object.keys(e.ticks).map(re=>({value:parseFloat(re),position:Z(parseFloat(re)),label:e.ticks[re]})):x.value!==1/0?mr(x.value+1).map(re=>{const U=c.value+re*h.value;return{value:U,position:Z(U)}}):[]:[]),de=O(()=>le.value.some(re=>{let{label:U}=re;return!!U})),he={activeThumbRef:C,color:ge(e,"color"),decimals:p,disabled:k,direction:ge(e,"direction"),elevation:ge(e,"elevation"),hasLabels:de,isReversed:l,indexFromEnd:d,min:c,max:f,mousePressed:S,numTicks:x,onSliderMousedown:Y,onSliderTouchstart:K,parsedTicks:le,parseMouseMove:D,position:Z,readonly:ge(e,"readonly"),rounded:ge(e,"rounded"),roundValue:g,showTicks:ee,startOffset:w,step:h,thumbSize:v,thumbColor:I,thumbLabel:ge(e,"thumbLabel"),ticks:ge(e,"ticks"),tickSize:_,trackColor:E,trackContainerRef:P,trackFillColor:T,trackSize:b,vertical:u};return Jt(gC,he),he},Pfe=te({focused:Boolean,max:{type:Number,required:!0},min:{type:Number,required:!0},modelValue:{type:Number,required:!0},position:{type:Number,required:!0},ripple:{type:[Boolean,Object],default:!0},name:String,...Be()},"VSliderThumb"),S1=_e()({name:"VSliderThumb",directives:{Ripple:Go},props:Pfe(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n,emit:i}=e;const s=gt(gC),{isRtl:r,rtlClasses:a}=Ti();if(!s)throw new Error("[Vuetify] v-slider-thumb must be used inside v-slider or v-range-slider");const{thumbColor:o,step:l,disabled:u,thumbSize:d,thumbLabel:c,direction:f,isReversed:h,vertical:p,readonly:g,elevation:v,mousePressed:_,decimals:b,indexFromEnd:x}=s,k=O(()=>u.value?void 0:v.value),{elevationClasses:I}=Wi(k),{textColorClasses:E,textColorStyles:T}=Ui(o),{pageup:S,pagedown:w,end:P,home:C,left:D,right:A,down:N,up:B}=FS,z=[S,w,P,C,D,A,N,B],q=O(()=>l.value?[1,2,3]:[1,5,10]);function W(Y,Z){if(!z.includes(Y.key))return;Y.preventDefault();const ee=l.value||.1,le=(t.max-t.min)/ee;if([D,A,N,B].includes(Y.key)){const he=(p.value?[r.value?D:A,h.value?N:B]:x.value!==r.value?[D,B]:[A,B]).includes(Y.key)?1:-1,re=Y.shiftKey?2:Y.ctrlKey?1:0;Z=Z+he*ee*q.value[re]}else if(Y.key===C)Z=t.min;else if(Y.key===P)Z=t.max;else{const de=Y.key===w?1:-1;Z=Z-de*ee*(le>100?le/10:10)}return Math.max(t.min,Math.min(t.max,Z))}function K(Y){const Z=W(Y,t.modelValue);Z!=null&&i("update:modelValue",Z)}return xe(()=>{const Y=Le(x.value?100-t.position:t.position,"%");return m("div",{class:["v-slider-thumb",{"v-slider-thumb--focused":t.focused,"v-slider-thumb--pressed":t.focused&&_.value},t.class,a.value],style:[{"--v-slider-thumb-position":Y,"--v-slider-thumb-size":Le(d.value)},t.style],role:"slider",tabindex:u.value?-1:0,"aria-label":t.name,"aria-valuemin":t.min,"aria-valuemax":t.max,"aria-valuenow":t.modelValue,"aria-readonly":!!g.value,"aria-orientation":f.value,onKeydown:g.value?void 0:K},[m("div",{class:["v-slider-thumb__surface",E.value,I.value],style:{...T.value}},null),In(m("div",{class:["v-slider-thumb__ripple",E.value],style:T.value},null),[[nr("ripple"),t.ripple,null,{circle:!0,center:!0}]]),m(KP,{origin:"bottom center"},{default:()=>{var Z;return[In(m("div",{class:"v-slider-thumb__label-container"},[m("div",{class:["v-slider-thumb__label"]},[m("div",null,[((Z=n["thumb-label"])==null?void 0:Z.call(n,{modelValue:t.modelValue}))??t.modelValue.toFixed(l.value?b.value:1)])])]),[[va,c.value&&t.focused||c.value==="always"]])]}})])}),{}}}),Cfe=te({start:{type:Number,required:!0},stop:{type:Number,required:!0},...Be()},"VSliderTrack"),Q5=_e()({name:"VSliderTrack",props:Cfe(),emits:{},setup(t,e){let{slots:n}=e;const i=gt(gC);if(!i)throw new Error("[Vuetify] v-slider-track must be inside v-slider or v-range-slider");const{color:s,parsedTicks:r,rounded:a,showTicks:o,tickSize:l,trackColor:u,trackFillColor:d,trackSize:c,vertical:f,min:h,max:p,indexFromEnd:g}=i,{roundedClasses:v}=qn(a),{backgroundColorClasses:_,backgroundColorStyles:b}=rn(d),{backgroundColorClasses:x,backgroundColorStyles:k}=rn(u),I=O(()=>`inset-${f.value?"block":"inline"}-${g.value?"end":"start"}`),E=O(()=>f.value?"height":"width"),T=O(()=>({[I.value]:"0%",[E.value]:"100%"})),S=O(()=>t.stop-t.start),w=O(()=>({[I.value]:Le(t.start,"%"),[E.value]:Le(S.value,"%")})),P=O(()=>o.value?(f.value?r.value.slice().reverse():r.value).map((D,A)=>{var B;const N=D.value!==h.value&&D.value!==p.value?Le(D.position,"%"):void 0;return m("div",{key:D.value,class:["v-slider-track__tick",{"v-slider-track__tick--filled":D.position>=t.start&&D.position<=t.stop,"v-slider-track__tick--first":D.value===h.value,"v-slider-track__tick--last":D.value===p.value}],style:{[I.value]:N}},[(D.label||n["tick-label"])&&m("div",{class:"v-slider-track__tick-label"},[((B=n["tick-label"])==null?void 0:B.call(n,{tick:D,index:A}))??D.label])])}):[]);return xe(()=>m("div",{class:["v-slider-track",v.value,t.class],style:[{"--v-slider-track-size":Le(c.value),"--v-slider-tick-size":Le(l.value)},t.style]},[m("div",{class:["v-slider-track__background",x.value,{"v-slider-track__background--opacity":!!s.value||!d.value}],style:{...T.value,...k.value}},null),m("div",{class:["v-slider-track__fill",_.value],style:{...w.value,...b.value}},null),o.value&&m("div",{class:["v-slider-track__ticks",{"v-slider-track__ticks--always-show":o.value==="always"}]},[P.value])])),{}}}),Efe=te({...Wh(),...q5(),...qo(),modelValue:{type:[Number,String],default:0}},"VSlider"),k1=_e()({name:"VSlider",props:Efe(),emits:{"update:focused":t=>!0,"update:modelValue":t=>!0,start:t=>!0,end:t=>!0},setup(t,e){let{slots:n,emit:i}=e;const s=G(),{rtlClasses:r}=Ti(),a=X5(t),o=ze(t,"modelValue",void 0,E=>a.roundValue(E??a.min.value)),{min:l,max:u,mousePressed:d,roundValue:c,onSliderMousedown:f,onSliderTouchstart:h,trackContainerRef:p,position:g,hasLabels:v,readonly:_}=K5({props:t,steps:a,onSliderStart:()=>{i("start",o.value)},onSliderEnd:E=>{let{value:T}=E;const S=c(T);o.value=S,i("end",S)},onSliderMove:E=>{let{value:T}=E;return o.value=c(T)},getActiveThumb:()=>{var E;return(E=s.value)==null?void 0:E.$el}}),{isFocused:b,focus:x,blur:k}=eo(t),I=O(()=>g(o.value));return xe(()=>{const E=rs.filterProps(t),T=!!(t.label||n.label||n.prepend);return m(rs,J({class:["v-slider",{"v-slider--has-labels":!!n["tick-label"]||v.value,"v-slider--focused":b.value,"v-slider--pressed":d.value,"v-slider--disabled":t.disabled},r.value,t.class],style:t.style},E,{focused:b.value}),{...n,prepend:T?S=>{var w,P;return m(Ee,null,[((w=n.label)==null?void 0:w.call(n,S))??(t.label?m(zh,{id:S.id.value,class:"v-slider__label",text:t.label},null):void 0),(P=n.prepend)==null?void 0:P.call(n,S)])}:void 0,default:S=>{let{id:w,messagesId:P}=S;return m("div",{class:"v-slider__container",onMousedown:_.value?void 0:f,onTouchstartPassive:_.value?void 0:h},[m("input",{id:w.value,name:t.name||w.value,disabled:!!t.disabled,readonly:!!t.readonly,tabindex:"-1",value:o.value},null),m(Q5,{ref:p,start:0,stop:I.value},{"tick-label":n["tick-label"]}),m(S1,{ref:s,"aria-describedby":P.value,focused:b.value,min:l.value,max:u.value,modelValue:o.value,"onUpdate:modelValue":C=>o.value=C,position:I.value,elevation:t.elevation,onFocus:x,onBlur:k,ripple:t.ripple,name:t.name},{"thumb-label":n["thumb-label"]})])}})}),{}}}),Ife=te({color:{type:Object},disabled:Boolean,hideAlpha:Boolean,...Be()},"VColorPickerPreview"),Dfe=xr({name:"VColorPickerPreview",props:Ife(),emits:{"update:color":t=>!0},setup(t,e){let{emit:n}=e;const i=new AbortController;Us(()=>i.abort());async function s(){if(!lR)return;const r=new window.EyeDropper;try{const a=await r.open({signal:i.signal}),o=Vj(a.sRGBHex);n("update:color",{...t.color??bd,...o})}catch{}}return xe(()=>{var r,a;return m("div",{class:["v-color-picker-preview",{"v-color-picker-preview--hide-alpha":t.hideAlpha},t.class],style:t.style},[lR&&m("div",{class:"v-color-picker-preview__eye-dropper",key:"eyeDropper"},[m(pt,{onClick:s,icon:"$eyeDropper",variant:"plain",density:"comfortable"},null)]),m("div",{class:"v-color-picker-preview__dot"},[m("div",{style:{background:Rj(t.color??bd)}},null)]),m("div",{class:"v-color-picker-preview__sliders"},[m(k1,{class:"v-color-picker-preview__track v-color-picker-preview__hue",modelValue:(r=t.color)==null?void 0:r.h,"onUpdate:modelValue":o=>n("update:color",{...t.color??bd,h:o}),step:0,min:0,max:360,disabled:t.disabled,thumbSize:14,trackSize:8,trackFillColor:"white",hideDetails:!0},null),!t.hideAlpha&&m(k1,{class:"v-color-picker-preview__track v-color-picker-preview__alpha",modelValue:((a=t.color)==null?void 0:a.a)??1,"onUpdate:modelValue":o=>n("update:color",{...t.color??bd,a:o}),step:1/256,min:0,max:1,disabled:t.disabled,thumbSize:14,trackSize:8,trackFillColor:"white",hideDetails:!0},null)])])}),{}}}),Afe={base:"#f44336",lighten5:"#ffebee",lighten4:"#ffcdd2",lighten3:"#ef9a9a",lighten2:"#e57373",lighten1:"#ef5350",darken1:"#e53935",darken2:"#d32f2f",darken3:"#c62828",darken4:"#b71c1c",accent1:"#ff8a80",accent2:"#ff5252",accent3:"#ff1744",accent4:"#d50000"},Rfe={base:"#e91e63",lighten5:"#fce4ec",lighten4:"#f8bbd0",lighten3:"#f48fb1",lighten2:"#f06292",lighten1:"#ec407a",darken1:"#d81b60",darken2:"#c2185b",darken3:"#ad1457",darken4:"#880e4f",accent1:"#ff80ab",accent2:"#ff4081",accent3:"#f50057",accent4:"#c51162"},Ofe={base:"#9c27b0",lighten5:"#f3e5f5",lighten4:"#e1bee7",lighten3:"#ce93d8",lighten2:"#ba68c8",lighten1:"#ab47bc",darken1:"#8e24aa",darken2:"#7b1fa2",darken3:"#6a1b9a",darken4:"#4a148c",accent1:"#ea80fc",accent2:"#e040fb",accent3:"#d500f9",accent4:"#aa00ff"},Mfe={base:"#673ab7",lighten5:"#ede7f6",lighten4:"#d1c4e9",lighten3:"#b39ddb",lighten2:"#9575cd",lighten1:"#7e57c2",darken1:"#5e35b1",darken2:"#512da8",darken3:"#4527a0",darken4:"#311b92",accent1:"#b388ff",accent2:"#7c4dff",accent3:"#651fff",accent4:"#6200ea"},Vfe={base:"#3f51b5",lighten5:"#e8eaf6",lighten4:"#c5cae9",lighten3:"#9fa8da",lighten2:"#7986cb",lighten1:"#5c6bc0",darken1:"#3949ab",darken2:"#303f9f",darken3:"#283593",darken4:"#1a237e",accent1:"#8c9eff",accent2:"#536dfe",accent3:"#3d5afe",accent4:"#304ffe"},Lfe={base:"#2196f3",lighten5:"#e3f2fd",lighten4:"#bbdefb",lighten3:"#90caf9",lighten2:"#64b5f6",lighten1:"#42a5f5",darken1:"#1e88e5",darken2:"#1976d2",darken3:"#1565c0",darken4:"#0d47a1",accent1:"#82b1ff",accent2:"#448aff",accent3:"#2979ff",accent4:"#2962ff"},Nfe={base:"#03a9f4",lighten5:"#e1f5fe",lighten4:"#b3e5fc",lighten3:"#81d4fa",lighten2:"#4fc3f7",lighten1:"#29b6f6",darken1:"#039be5",darken2:"#0288d1",darken3:"#0277bd",darken4:"#01579b",accent1:"#80d8ff",accent2:"#40c4ff",accent3:"#00b0ff",accent4:"#0091ea"},Ffe={base:"#00bcd4",lighten5:"#e0f7fa",lighten4:"#b2ebf2",lighten3:"#80deea",lighten2:"#4dd0e1",lighten1:"#26c6da",darken1:"#00acc1",darken2:"#0097a7",darken3:"#00838f",darken4:"#006064",accent1:"#84ffff",accent2:"#18ffff",accent3:"#00e5ff",accent4:"#00b8d4"},Bfe={base:"#009688",lighten5:"#e0f2f1",lighten4:"#b2dfdb",lighten3:"#80cbc4",lighten2:"#4db6ac",lighten1:"#26a69a",darken1:"#00897b",darken2:"#00796b",darken3:"#00695c",darken4:"#004d40",accent1:"#a7ffeb",accent2:"#64ffda",accent3:"#1de9b6",accent4:"#00bfa5"},jfe={base:"#4caf50",lighten5:"#e8f5e9",lighten4:"#c8e6c9",lighten3:"#a5d6a7",lighten2:"#81c784",lighten1:"#66bb6a",darken1:"#43a047",darken2:"#388e3c",darken3:"#2e7d32",darken4:"#1b5e20",accent1:"#b9f6ca",accent2:"#69f0ae",accent3:"#00e676",accent4:"#00c853"},$fe={base:"#8bc34a",lighten5:"#f1f8e9",lighten4:"#dcedc8",lighten3:"#c5e1a5",lighten2:"#aed581",lighten1:"#9ccc65",darken1:"#7cb342",darken2:"#689f38",darken3:"#558b2f",darken4:"#33691e",accent1:"#ccff90",accent2:"#b2ff59",accent3:"#76ff03",accent4:"#64dd17"},Ufe={base:"#cddc39",lighten5:"#f9fbe7",lighten4:"#f0f4c3",lighten3:"#e6ee9c",lighten2:"#dce775",lighten1:"#d4e157",darken1:"#c0ca33",darken2:"#afb42b",darken3:"#9e9d24",darken4:"#827717",accent1:"#f4ff81",accent2:"#eeff41",accent3:"#c6ff00",accent4:"#aeea00"},Hfe={base:"#ffeb3b",lighten5:"#fffde7",lighten4:"#fff9c4",lighten3:"#fff59d",lighten2:"#fff176",lighten1:"#ffee58",darken1:"#fdd835",darken2:"#fbc02d",darken3:"#f9a825",darken4:"#f57f17",accent1:"#ffff8d",accent2:"#ffff00",accent3:"#ffea00",accent4:"#ffd600"},zfe={base:"#ffc107",lighten5:"#fff8e1",lighten4:"#ffecb3",lighten3:"#ffe082",lighten2:"#ffd54f",lighten1:"#ffca28",darken1:"#ffb300",darken2:"#ffa000",darken3:"#ff8f00",darken4:"#ff6f00",accent1:"#ffe57f",accent2:"#ffd740",accent3:"#ffc400",accent4:"#ffab00"},Wfe={base:"#ff9800",lighten5:"#fff3e0",lighten4:"#ffe0b2",lighten3:"#ffcc80",lighten2:"#ffb74d",lighten1:"#ffa726",darken1:"#fb8c00",darken2:"#f57c00",darken3:"#ef6c00",darken4:"#e65100",accent1:"#ffd180",accent2:"#ffab40",accent3:"#ff9100",accent4:"#ff6d00"},Yfe={base:"#ff5722",lighten5:"#fbe9e7",lighten4:"#ffccbc",lighten3:"#ffab91",lighten2:"#ff8a65",lighten1:"#ff7043",darken1:"#f4511e",darken2:"#e64a19",darken3:"#d84315",darken4:"#bf360c",accent1:"#ff9e80",accent2:"#ff6e40",accent3:"#ff3d00",accent4:"#dd2c00"},Gfe={base:"#795548",lighten5:"#efebe9",lighten4:"#d7ccc8",lighten3:"#bcaaa4",lighten2:"#a1887f",lighten1:"#8d6e63",darken1:"#6d4c41",darken2:"#5d4037",darken3:"#4e342e",darken4:"#3e2723"},qfe={base:"#607d8b",lighten5:"#eceff1",lighten4:"#cfd8dc",lighten3:"#b0bec5",lighten2:"#90a4ae",lighten1:"#78909c",darken1:"#546e7a",darken2:"#455a64",darken3:"#37474f",darken4:"#263238"},Xfe={base:"#9e9e9e",lighten5:"#fafafa",lighten4:"#f5f5f5",lighten3:"#eeeeee",lighten2:"#e0e0e0",lighten1:"#bdbdbd",darken1:"#757575",darken2:"#616161",darken3:"#424242",darken4:"#212121"},Kfe={black:"#000000",white:"#ffffff",transparent:"#ffffff00"},Qfe={red:Afe,pink:Rfe,purple:Ofe,deepPurple:Mfe,indigo:Vfe,blue:Lfe,lightBlue:Nfe,cyan:Ffe,teal:Bfe,green:jfe,lightGreen:$fe,lime:Ufe,yellow:Hfe,amber:zfe,orange:Wfe,deepOrange:Yfe,brown:Gfe,blueGrey:qfe,grey:Xfe,shades:Kfe},Jfe=te({swatches:{type:Array,default:()=>Zfe(Qfe)},disabled:Boolean,color:Object,maxHeight:[Number,String],...Be()},"VColorPickerSwatches");function Zfe(t){return Object.keys(t).map(e=>{const n=t[e];return n.base?[n.base,n.darken4,n.darken3,n.darken2,n.darken1,n.lighten1,n.lighten2,n.lighten3,n.lighten4,n.lighten5]:[n.black,n.white,n.transparent]})}const eme=xr({name:"VColorPickerSwatches",props:Jfe(),emits:{"update:color":t=>!0},setup(t,e){let{emit:n}=e;return xe(()=>m("div",{class:["v-color-picker-swatches",t.class],style:[{maxHeight:Le(t.maxHeight)},t.style]},[m("div",null,[t.swatches.map(i=>m("div",{class:"v-color-picker-swatches__swatch"},[i.map(s=>{const r=Rr(s),a=Yb(r),o=Aj(r);return m("div",{class:"v-color-picker-swatches__color",onClick:()=>a&&n("update:color",a)},[m("div",{style:{background:o}},[t.color&&Ka(t.color,a)?m(Bt,{size:"x-small",icon:"$success",color:jne(s,"#FFFFFF")>2?"white":"black"},null):void 0])])})]))])])),{}}}),ip=te({color:String,...ir(),...Be(),...fi(),...Pi(),...Yo(),...$h(),...Rn(),..._t(),...Nt()},"VSheet"),Ya=_e()({name:"VSheet",props:ip(),setup(t,e){let{slots:n}=e;const{themeClasses:i}=Kt(t),{backgroundColorClasses:s,backgroundColorStyles:r}=rn(ge(t,"color")),{borderClasses:a}=Tr(t),{dimensionStyles:o}=mi(t),{elevationClasses:l}=Wi(t),{locationStyles:u}=Uc(t),{positionClasses:d}=Uh(t),{roundedClasses:c}=qn(t);return xe(()=>m(t.tag,{class:["v-sheet",i.value,s.value,a.value,l.value,d.value,c.value,t.class],style:[r.value,o.value,u.value,t.style]},n)),{}}}),tme=te({canvasHeight:{type:[String,Number],default:150},disabled:Boolean,dotSize:{type:[Number,String],default:10},hideCanvas:Boolean,hideSliders:Boolean,hideInputs:Boolean,mode:{type:String,default:"rgba",validator:t=>Object.keys(Yu).includes(t)},modes:{type:Array,default:()=>Object.keys(Yu),validator:t=>Array.isArray(t)&&t.every(e=>Object.keys(Yu).includes(e))},showSwatches:Boolean,swatches:Array,swatchesMaxHeight:{type:[Number,String],default:150},modelValue:{type:[Object,String]},...tn(ip({width:300}),["height","location","minHeight","maxHeight","minWidth","maxWidth"])},"VColorPicker"),nme=xr({name:"VColorPicker",props:tme(),emits:{"update:modelValue":t=>!0,"update:mode":t=>!0},setup(t){const e=ze(t,"mode"),n=G(null),i=ze(t,"modelValue",void 0,l=>{if(l==null||l==="")return null;let u;try{u=Yb(Rr(l))}catch{return null}return u},l=>l?_fe(l,t.modelValue):null),s=O(()=>i.value?{...i.value,h:n.value??i.value.h}:null),{rtlClasses:r}=Ti();let a=!0;we(i,l=>{if(!a){a=!0;return}l&&(n.value=l.h)},{immediate:!0});const o=l=>{a=!1,n.value=l.h,i.value=l};return kh(()=>{t.modes.includes(e.value)||(e.value=t.modes[0])}),Dn({VSlider:{color:void 0,trackColor:void 0,trackFillColor:void 0}}),xe(()=>{const l=Ya.filterProps(t);return m(Ya,J({rounded:t.rounded,elevation:t.elevation,theme:t.theme,class:["v-color-picker",r.value,t.class],style:[{"--v-color-picker-color-hsv":Rj({...s.value??bd,a:1})},t.style]},l,{maxWidth:t.width}),{default:()=>[!t.hideCanvas&&m(pfe,{key:"canvas",color:s.value,"onUpdate:color":o,disabled:t.disabled,dotSize:t.dotSize,width:t.width,height:t.canvasHeight},null),(!t.hideSliders||!t.hideInputs)&&m("div",{key:"controls",class:"v-color-picker__controls"},[!t.hideSliders&&m(Dfe,{key:"preview",color:s.value,"onUpdate:color":o,hideAlpha:!e.value.endsWith("a"),disabled:t.disabled},null),!t.hideInputs&&m(kfe,{key:"edit",modes:t.modes,mode:e.value,"onUpdate:mode":u=>e.value=u,color:s.value,"onUpdate:color":o,disabled:t.disabled},null)]),t.showSwatches&&m(eme,{key:"swatches",color:s.value,"onUpdate:color":o,maxHeight:t.swatchesMaxHeight,swatches:t.swatches,disabled:t.disabled},null)]})}),{}}});function ime(t,e,n){if(e==null)return t;if(Array.isArray(e))throw new Error("Multiple matches is not implemented");return typeof e=="number"&&~e?m(Ee,null,[m("span",{class:"v-combobox__unmask"},[t.substr(0,e)]),m("span",{class:"v-combobox__mask"},[t.substr(e,n)]),m("span",{class:"v-combobox__unmask"},[t.substr(e+n)])]):t}const sme=te({autoSelectFirst:{type:[Boolean,String]},clearOnSelect:{type:Boolean,default:!0},delimiters:Array,...qh({filterKeys:["title"]}),...hC({hideNoData:!0,returnObject:!0}),...tn(Gh({modelValue:null,role:"combobox"}),["validationValue","dirty","appendInnerIcon"]),..._a({transition:!1})},"VCombobox"),rme=_e()({name:"VCombobox",props:sme(),emits:{"update:focused":t=>!0,"update:modelValue":t=>!0,"update:search":t=>!0,"update:menu":t=>!0},setup(t,e){var F;let{emit:n,slots:i}=e;const{t:s}=gn(),r=G(),a=Ve(!1),o=Ve(!0),l=Ve(!1),u=G(),d=G(),c=ze(t,"menu"),f=O({get:()=>c.value,set:L=>{var $;c.value&&!L&&(($=u.value)!=null&&$.ΨopenChildren.size)||(c.value=L)}}),h=Ve(-1);let p=!1;const g=O(()=>{var L;return(L=r.value)==null?void 0:L.color}),v=O(()=>f.value?t.closeText:t.openText),{items:_,transformIn:b,transformOut:x}=aC(t),{textColorClasses:k,textColorStyles:I}=Ui(g),E=ze(t,"modelValue",[],L=>b(bn(L)),L=>{const $=x(L);return t.multiple?$:$[0]??null}),T=ep(t),S=O(()=>!!(t.chips||i.chip)),w=O(()=>S.value||!!i.selection),P=Ve(!t.multiple&&!w.value?((F=E.value[0])==null?void 0:F.title)??"":""),C=O({get:()=>P.value,set:L=>{var $;if(P.value=L??"",!t.multiple&&!w.value&&(E.value=[gl(t,L)]),L&&t.multiple&&(($=t.delimiters)!=null&&$.length)){const ne=L.split(new RegExp(`(?:${t.delimiters.join("|")})+`));ne.length>1&&(ne.forEach(ue=>{ue=ue.trim(),ue&&X(gl(t,ue))}),P.value="")}L||(h.value=-1),o.value=!L}}),D=O(()=>typeof t.counterValue=="function"?t.counterValue(E.value):typeof t.counterValue=="number"?t.counterValue:t.multiple?E.value.length:C.value.length);we(P,L=>{p?vt(()=>p=!1):a.value&&!f.value&&(f.value=!0),n("update:search",L)}),we(E,L=>{var $;!t.multiple&&!w.value&&(P.value=(($=L[0])==null?void 0:$.title)??"")});const{filteredItems:A,getMatches:N}=Xh(t,_,()=>o.value?"":C.value),B=O(()=>t.hideSelected?A.value.filter(L=>!E.value.some($=>$.value===L.value)):A.value),z=O(()=>E.value.map(L=>L.value)),q=O(()=>{var $;return(t.autoSelectFirst===!0||t.autoSelectFirst==="exact"&&C.value===(($=B.value[0])==null?void 0:$.title))&&B.value.length>0&&!o.value&&!l.value}),W=O(()=>t.hideNoData&&!B.value.length||T.isReadonly.value||T.isDisabled.value),K=G(),Y=dC(K,r);function Z(L){p=!0,t.openOnClear&&(f.value=!0)}function ee(){W.value||(f.value=!0)}function le(L){W.value||(a.value&&(L.preventDefault(),L.stopPropagation()),f.value=!f.value)}function de(L){var $;B_(L)&&(($=r.value)==null||$.focus())}function he(L){var ue;if(lne(L)||T.isReadonly.value)return;const $=r.value.selectionStart,ne=E.value.length;if((h.value>-1||["Enter","ArrowDown","ArrowUp"].includes(L.key))&&L.preventDefault(),["Enter","ArrowDown"].includes(L.key)&&(f.value=!0),["Escape"].includes(L.key)&&(f.value=!1),["Enter","Escape","Tab"].includes(L.key)&&(q.value&&["Enter","Tab"].includes(L.key)&&!E.value.some(ie=>{let{value:Te}=ie;return Te===B.value[0].value})&&X(A.value[0]),o.value=!0),L.key==="ArrowDown"&&q.value&&((ue=K.value)==null||ue.focus("next")),L.key==="Enter"&&C.value&&(X(gl(t,C.value)),w.value&&(P.value="")),["Backspace","Delete"].includes(L.key)){if(!t.multiple&&w.value&&E.value.length>0&&!C.value)return X(E.value[0],!1);if(~h.value){const ie=h.value;X(E.value[h.value],!1),h.value=ie>=ne-1?ne-2:ie}else L.key==="Backspace"&&!C.value&&(h.value=ne-1)}if(t.multiple){if(L.key==="ArrowLeft"){if(h.value<0&&$>0)return;const ie=h.value>-1?h.value-1:ne-1;E.value[ie]?h.value=ie:(h.value=-1,r.value.setSelectionRange(C.value.length,C.value.length))}if(L.key==="ArrowRight"){if(h.value<0)return;const ie=h.value+1;E.value[ie]?h.value=ie:(h.value=-1,r.value.setSelectionRange(0,0))}}}function re(){var L;t.eager&&((L=d.value)==null||L.calculateVisibleItems())}function U(){var L;a.value&&(o.value=!0,(L=r.value)==null||L.focus())}function X(L){let $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!(!L||L.props.disabled))if(t.multiple){const ne=E.value.findIndex(ie=>t.valueComparator(ie.value,L.value)),ue=$??!~ne;if(~ne){const ie=ue?[...E.value,L]:[...E.value];ie.splice(ne,1),E.value=ie}else ue&&(E.value=[...E.value,L]);t.clearOnSelect&&(C.value="")}else{const ne=$!==!1;E.value=ne?[L]:[],P.value=ne&&!w.value?L.title:"",vt(()=>{f.value=!1,o.value=!0})}}function ae(L){a.value=!0,setTimeout(()=>{l.value=!0})}function pe(L){l.value=!1}function ve(L){(L==null||L===""&&!t.multiple&&!w.value)&&(E.value=[])}return we(a,(L,$)=>{if(!(L||L===$)&&(h.value=-1,f.value=!1,C.value)){if(t.multiple){X(gl(t,C.value));return}if(!w.value)return;E.value.some(ne=>{let{title:ue}=ne;return ue===C.value})?P.value="":X(gl(t,C.value))}}),we(f,()=>{if(!t.hideSelected&&f.value&&E.value.length){const L=B.value.findIndex($=>E.value.some(ne=>t.valueComparator(ne.value,$.value)));Yt&&window.requestAnimationFrame(()=>{var $;L>=0&&(($=d.value)==null||$.scrollToIndex(L))})}}),we(()=>t.items,(L,$)=>{f.value||a.value&&!$.length&&L.length&&(f.value=!0)}),xe(()=>{const L=!!(!t.hideNoData||B.value.length||i["prepend-item"]||i["append-item"]||i["no-data"]),$=E.value.length>0,ne=fa.filterProps(t);return m(fa,J({ref:r},ne,{modelValue:C.value,"onUpdate:modelValue":[ue=>C.value=ue,ve],focused:a.value,"onUpdate:focused":ue=>a.value=ue,validationValue:E.externalValue,counterValue:D.value,dirty:$,class:["v-combobox",{"v-combobox--active-menu":f.value,"v-combobox--chips":!!t.chips,"v-combobox--selection-slot":!!w.value,"v-combobox--selecting-index":h.value>-1,[`v-combobox--${t.multiple?"multiple":"single"}`]:!0},t.class],style:t.style,readonly:T.isReadonly.value,placeholder:$?void 0:t.placeholder,"onClick:clear":Z,"onMousedown:control":ee,onKeydown:he}),{...i,default:()=>m(Ee,null,[m(cc,J({ref:u,modelValue:f.value,"onUpdate:modelValue":ue=>f.value=ue,activator:"parent",contentClass:"v-combobox__content",disabled:W.value,eager:t.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:t.transition,onAfterEnter:re,onAfterLeave:U},t.menuProps),{default:()=>[L&&m(dh,J({ref:K,selected:z.value,selectStrategy:t.multiple?"independent":"single-independent",onMousedown:ue=>ue.preventDefault(),onKeydown:de,onFocusin:ae,onFocusout:pe,tabindex:"-1","aria-live":"polite",color:t.itemColor??t.color},Y,t.listProps),{default:()=>{var ue,ie,Te;return[(ue=i["prepend-item"])==null?void 0:ue.call(i),!B.value.length&&!t.hideNoData&&(((ie=i["no-data"])==null?void 0:ie.call(i))??m(br,{key:"no-data",title:s(t.noDataText)},null)),m(_w,{ref:d,renderless:!0,items:B.value},{default:Ae=>{var We;let{item:Se,index:Ce,itemRef:$e}=Ae;const Ne=J(Se.props,{ref:$e,key:Se.value,active:q.value&&Ce===0?!0:void 0,onClick:()=>X(Se,null)});return((We=i.item)==null?void 0:We.call(i,{item:Se,index:Ce,props:Ne}))??m(br,J(Ne,{role:"option"}),{prepend:it=>{let{isSelected:et}=it;return m(Ee,null,[t.multiple&&!t.hideSelected?m(Wa,{key:Se.value,modelValue:et,ripple:!1,tabindex:"-1"},null):void 0,Se.props.prependAvatar&&m($s,{image:Se.props.prependAvatar},null),Se.props.prependIcon&&m(Bt,{icon:Se.props.prependIcon},null)])},title:()=>{var it,et;return o.value?Se.title:ime(Se.title,(it=N(Se))==null?void 0:it.title,((et=C.value)==null?void 0:et.length)??0)}})}}),(Te=i["append-item"])==null?void 0:Te.call(i)]}})]}),E.value.map((ue,ie)=>{function Te($e){$e.stopPropagation(),$e.preventDefault(),X(ue,!1)}const Ae={"onClick:close":Te,onKeydown($e){$e.key!=="Enter"&&$e.key!==" "||($e.preventDefault(),$e.stopPropagation(),Te($e))},onMousedown($e){$e.preventDefault(),$e.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0},Se=S.value?!!i.chip:!!i.selection,Ce=Se?Wb(S.value?i.chip({item:ue,index:ie,props:Ae}):i.selection({item:ue,index:ie})):void 0;if(!(Se&&!Ce))return m("div",{key:ue.value,class:["v-combobox__selection",ie===h.value&&["v-combobox__selection--selected",k.value]],style:ie===h.value?I.value:{}},[S.value?i.chip?m(dt,{key:"chip-defaults",defaults:{VChip:{closable:t.closableChips,size:"small",text:ue.title}}},{default:()=>[Ce]}):m(Hc,J({key:"chip",closable:t.closableChips,size:"small",text:ue.title,disabled:ue.props.disabled},Ae),null):Ce??m("span",{class:"v-combobox__selection-text"},[ue.title,t.multiple&&ie<E.value.length-1&&m("span",{class:"v-combobox__selection-comma"},[Pe(",")])])])})]),"append-inner":function(){var Ae;for(var ue=arguments.length,ie=new Array(ue),Te=0;Te<ue;Te++)ie[Te]=arguments[Te];return m(Ee,null,[(Ae=i["append-inner"])==null?void 0:Ae.call(i,...ie),(!t.hideNoData||t.items.length)&&t.menuIcon?m(Bt,{class:"v-combobox__menu-icon",icon:t.menuIcon,onMousedown:le,onClick:kj,"aria-label":s(v.value),title:s(v.value),tabindex:"-1"},null):void 0])}})}),Pr({isFocused:a,isPristine:o,menu:f,search:C,selectionIndex:h,filteredItems:A,select:X},r)}}),J5=te({modelValue:null,color:String,cancelText:{type:String,default:"$vuetify.confirmEdit.cancel"},okText:{type:String,default:"$vuetify.confirmEdit.ok"}},"VConfirmEdit"),T1=_e()({name:"VConfirmEdit",props:J5(),emits:{cancel:()=>!0,save:t=>!0,"update:modelValue":t=>!0},setup(t,e){let{emit:n,slots:i}=e;const s=ze(t,"modelValue"),r=G();yn(()=>{r.value=structuredClone(Xe(s.value))});const{t:a}=gn(),o=O(()=>Ka(s.value,r.value));function l(){s.value=r.value,n("save",r.value)}function u(){r.value=structuredClone(Xe(s.value)),n("cancel")}function d(f){return m(Ee,null,[m(pt,J({disabled:o.value,variant:"text",color:t.color,onClick:u,text:a(t.cancelText)},f),null),m(pt,J({disabled:o.value,variant:"text",color:t.color,onClick:l,text:a(t.okText)},f),null)])}let c=!1;return xe(()=>{var f;return m(Ee,null,[(f=i.default)==null?void 0:f.call(i,{model:r,save:l,cancel:u,isPristine:o.value,get actions(){return c=!0,d}}),!c&&d()])}),{save:l,cancel:u,isPristine:o}}}),Z5=te({expandOnClick:Boolean,showExpand:Boolean,expanded:{type:Array,default:()=>[]}},"DataTable-expand"),e3=Symbol.for("vuetify:datatable:expanded");function ww(t){const e=ge(t,"expandOnClick"),n=ze(t,"expanded",t.expanded,o=>new Set(o),o=>[...o.values()]);function i(o,l){const u=new Set(n.value);l?u.add(o.value):u.delete(o.value),n.value=u}function s(o){return n.value.has(o.value)}function r(o){i(o,!s(o))}const a={expand:i,expanded:n,expandOnClick:e,isExpanded:s,toggleExpand:r};return Jt(e3,a),a}function t3(){const t=gt(e3);if(!t)throw new Error("foo");return t}const pC=te({groupBy:{type:Array,default:()=>[]}},"DataTable-group"),n3=Symbol.for("vuetify:data-table-group");function vC(t){return{groupBy:ze(t,"groupBy")}}function xw(t){const{disableSort:e,groupBy:n,sortBy:i}=t,s=G(new Set),r=O(()=>n.value.map(d=>({...d,order:d.order??!1})).concat(e!=null&&e.value?[]:i.value));function a(d){return s.value.has(d.id)}function o(d){const c=new Set(s.value);a(d)?c.delete(d.id):c.add(d.id),s.value=c}function l(d){function c(f){const h=[];for(const p of f.items)"type"in p&&p.type==="group"?h.push(...c(p)):h.push(p);return h}return c({type:"group",items:d,id:"dummy",key:"dummy",value:"dummy",depth:0})}const u={sortByWithGroups:r,toggleGroup:o,opened:s,groupBy:n,extractRows:l,isGroupOpen:a};return Jt(n3,u),u}function i3(){const t=gt(n3);if(!t)throw new Error("Missing group!");return t}function ame(t,e){if(!t.length)return[];const n=new Map;for(const i of t){const s=ac(i.raw,e);n.has(s)||n.set(s,[]),n.get(s).push(i)}return n}function s3(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"root";if(!e.length)return[];const s=ame(t,e[0]),r=[],a=e.slice(1);return s.forEach((o,l)=>{const u=e[0],d=`${i}_${u}_${l}`;r.push({depth:n,id:d,key:u,value:l,items:a.length?s3(o,a,n+1,d):o,type:"group"})}),r}function r3(t,e){const n=[];for(const i of t)"type"in i&&i.type==="group"?(i.value!=null&&n.push(i),(e.has(i.id)||i.value==null)&&n.push(...r3(i.items,e))):n.push(i);return n}function Sw(t,e,n){return{flatItems:O(()=>{if(!e.value.length)return t.value;const s=s3(t.value,e.value.map(r=>r.key));return r3(s,n.value)})}}function kw(t){let{page:e,itemsPerPage:n,sortBy:i,groupBy:s,search:r}=t;const a=Gn("VDataTable"),o=O(()=>({page:e.value,itemsPerPage:n.value,sortBy:i.value,groupBy:s.value,search:r.value}));let l=null;we(o,()=>{Ka(l,o.value)||(l&&l.search!==o.value.search&&(e.value=1),a.emit("update:options",o.value),l=o.value)},{deep:!0,immediate:!0})}const _C=te({page:{type:[Number,String],default:1},itemsPerPage:{type:[Number,String],default:10}},"DataTable-paginate"),a3=Symbol.for("vuetify:data-table-pagination");function yC(t){const e=ze(t,"page",void 0,i=>+(i??1)),n=ze(t,"itemsPerPage",void 0,i=>+(i??10));return{page:e,itemsPerPage:n}}function bC(t){const{page:e,itemsPerPage:n,itemsLength:i}=t,s=O(()=>n.value===-1?0:n.value*(e.value-1)),r=O(()=>n.value===-1?i.value:Math.min(i.value,s.value+n.value)),a=O(()=>n.value===-1||i.value===0?1:Math.ceil(i.value/n.value));we([e,a],()=>{e.value>a.value&&(e.value=a.value)});function o(f){n.value=f,e.value=1}function l(){e.value=$n(e.value+1,1,a.value)}function u(){e.value=$n(e.value-1,1,a.value)}function d(f){e.value=$n(f,1,a.value)}const c={page:e,itemsPerPage:n,startIndex:s,stopIndex:r,pageCount:a,itemsLength:i,nextPage:l,prevPage:u,setPage:d,setItemsPerPage:o};return Jt(a3,c),c}function ome(){const t=gt(a3);if(!t)throw new Error("Missing pagination!");return t}function o3(t){const e=Gn("usePaginatedItems"),{items:n,startIndex:i,stopIndex:s,itemsPerPage:r}=t,a=O(()=>r.value<=0?n.value:n.value.slice(i.value,s.value));return we(a,o=>{e.emit("update:currentItems",o)}),{paginatedItems:a}}const lme={showSelectAll:!1,allSelected:()=>[],select:t=>{var i;let{items:e,value:n}=t;return new Set(n?[(i=e[0])==null?void 0:i.value]:[])},selectAll:t=>{let{selected:e}=t;return e}},l3={showSelectAll:!0,allSelected:t=>{let{currentPage:e}=t;return e},select:t=>{let{items:e,value:n,selected:i}=t;for(const s of e)n?i.add(s.value):i.delete(s.value);return i},selectAll:t=>{let{value:e,currentPage:n,selected:i}=t;return l3.select({items:n,value:e,selected:i})}},u3={showSelectAll:!0,allSelected:t=>{let{allItems:e}=t;return e},select:t=>{let{items:e,value:n,selected:i}=t;for(const s of e)n?i.add(s.value):i.delete(s.value);return i},selectAll:t=>{let{value:e,allItems:n,selected:i}=t;return u3.select({items:n,value:e,selected:i})}},c3=te({showSelect:Boolean,selectStrategy:{type:[String,Object],default:"page"},modelValue:{type:Array,default:()=>[]},valueComparator:{type:Function,default:Ka}},"DataTable-select"),d3=Symbol.for("vuetify:data-table-selection");function Tw(t,e){let{allItems:n,currentPage:i}=e;const s=ze(t,"modelValue",t.modelValue,_=>new Set(bn(_).map(b=>{var x;return((x=n.value.find(k=>t.valueComparator(b,k.value)))==null?void 0:x.value)??b})),_=>[..._.values()]),r=O(()=>n.value.filter(_=>_.selectable)),a=O(()=>i.value.filter(_=>_.selectable)),o=O(()=>{if(typeof t.selectStrategy=="object")return t.selectStrategy;switch(t.selectStrategy){case"single":return lme;case"all":return u3;case"page":default:return l3}});function l(_){return bn(_).every(b=>s.value.has(b.value))}function u(_){return bn(_).some(b=>s.value.has(b.value))}function d(_,b){const x=o.value.select({items:_,value:b,selected:new Set(s.value)});s.value=x}function c(_){d([_],!l([_]))}function f(_){const b=o.value.selectAll({value:_,allItems:r.value,currentPage:a.value,selected:new Set(s.value)});s.value=b}const h=O(()=>s.value.size>0),p=O(()=>{const _=o.value.allSelected({allItems:r.value,currentPage:a.value});return!!_.length&&l(_)}),g=O(()=>o.value.showSelectAll),v={toggleSelect:c,select:d,selectAll:f,isSelected:l,isSomeSelected:u,someSelected:h,allSelected:p,showSelectAll:g};return Jt(d3,v),v}function Pw(){const t=gt(d3);if(!t)throw new Error("Missing selection!");return t}const h3=te({sortBy:{type:Array,default:()=>[]},customKeySort:Object,multiSort:Boolean,mustSort:Boolean},"DataTable-sort"),f3=Symbol.for("vuetify:data-table-sort");function Cw(t){const e=ze(t,"sortBy"),n=ge(t,"mustSort"),i=ge(t,"multiSort");return{sortBy:e,mustSort:n,multiSort:i}}function Ew(t){const{sortBy:e,mustSort:n,multiSort:i,page:s}=t,r=l=>{if(l.key==null)return;let u=e.value.map(c=>({...c}))??[];const d=u.find(c=>c.key===l.key);d?d.order==="desc"?n.value?d.order="asc":u=u.filter(c=>c.key!==l.key):d.order="desc":i.value?u=[...u,{key:l.key,order:"asc"}]:u=[{key:l.key,order:"asc"}],e.value=u,s&&(s.value=1)};function a(l){return!!e.value.find(u=>u.key===l.key)}const o={sortBy:e,toggleSort:r,isSorted:a};return Jt(f3,o),o}function m3(){const t=gt(f3);if(!t)throw new Error("Missing sort!");return t}function wC(t,e,n,i){const s=gn();return{sortedItems:O(()=>{var a,o;return n.value.length?ume(e.value,n.value,s.current.value,{transform:i==null?void 0:i.transform,sortFunctions:{...t.customKeySort,...(a=i==null?void 0:i.sortFunctions)==null?void 0:a.value},sortRawFunctions:(o=i==null?void 0:i.sortRawFunctions)==null?void 0:o.value}):e.value})}}function ume(t,e,n,i){const s=new Intl.Collator(n,{sensitivity:"accent",usage:"sort"});return t.map(a=>[a,i!=null&&i.transform?i.transform(a):a]).sort((a,o)=>{var l,u;for(let d=0;d<e.length;d++){let c=!1;const f=e[d].key,h=e[d].order??"asc";if(h===!1)continue;let p=ac(a[1],f),g=ac(o[1],f),v=a[0].raw,_=o[0].raw;if(h==="desc"&&([p,g]=[g,p],[v,_]=[_,v]),(l=i==null?void 0:i.sortRawFunctions)!=null&&l[f]){const b=i.sortRawFunctions[f](v,_);if(b==null)continue;if(c=!0,b)return b}if((u=i==null?void 0:i.sortFunctions)!=null&&u[f]){const b=i.sortFunctions[f](p,g);if(b==null)continue;if(c=!0,b)return b}if(!c){if(p instanceof Date&&g instanceof Date)return p.getTime()-g.getTime();if([p,g]=[p,g].map(b=>b!=null?b.toString().toLocaleLowerCase():b),p!==g)return Hp(p)&&Hp(g)?0:Hp(p)?-1:Hp(g)?1:!isNaN(p)&&!isNaN(g)?Number(p)-Number(g):s.compare(p,g)}}return 0}).map(a=>{let[o]=a;return o})}const cme=te({items:{type:Array,default:()=>[]},itemValue:{type:[String,Array,Function],default:"id"},itemSelectable:{type:[String,Array,Function],default:null},returnObject:Boolean},"DataIterator-items");function dme(t,e){const n=t.returnObject?e:si(e,t.itemValue),i=si(e,t.itemSelectable,!0);return{type:"item",value:n,selectable:i,raw:e}}function hme(t,e){const n=[];for(const i of e)n.push(dme(t,i));return n}function fme(t){return{items:O(()=>hme(t,t.items))}}const mme=te({search:String,loading:Boolean,...Be(),...cme(),...c3(),...h3(),..._C({itemsPerPage:5}),...Z5(),...pC(),...qh(),..._t(),..._a({transition:{component:qm,hideOnLeave:!0}})},"VDataIterator"),gme=_e()({name:"VDataIterator",props:mme(),emits:{"update:modelValue":t=>!0,"update:groupBy":t=>!0,"update:page":t=>!0,"update:itemsPerPage":t=>!0,"update:sortBy":t=>!0,"update:options":t=>!0,"update:expanded":t=>!0,"update:currentItems":t=>!0},setup(t,e){let{slots:n}=e;const i=ze(t,"groupBy"),s=ge(t,"search"),{items:r}=fme(t),{filteredItems:a}=Xh(t,r,s,{transform:Z=>Z.raw}),{sortBy:o,multiSort:l,mustSort:u}=Cw(t),{page:d,itemsPerPage:c}=yC(t),{toggleSort:f}=Ew({sortBy:o,multiSort:l,mustSort:u,page:d}),{sortByWithGroups:h,opened:p,extractRows:g,isGroupOpen:v,toggleGroup:_}=xw({groupBy:i,sortBy:o}),{sortedItems:b}=wC(t,a,h,{transform:Z=>Z.raw}),{flatItems:x}=Sw(b,i,p),k=O(()=>x.value.length),{startIndex:I,stopIndex:E,pageCount:T,prevPage:S,nextPage:w,setItemsPerPage:P,setPage:C}=bC({page:d,itemsPerPage:c,itemsLength:k}),{paginatedItems:D}=o3({items:x,startIndex:I,stopIndex:E,itemsPerPage:c}),A=O(()=>g(D.value)),{isSelected:N,select:B,selectAll:z,toggleSelect:q}=Tw(t,{allItems:r,currentPage:A}),{isExpanded:W,toggleExpand:K}=ww(t);kw({page:d,itemsPerPage:c,sortBy:o,groupBy:i,search:s});const Y=O(()=>({page:d.value,itemsPerPage:c.value,sortBy:o.value,pageCount:T.value,toggleSort:f,prevPage:S,nextPage:w,setPage:C,setItemsPerPage:P,isSelected:N,select:B,selectAll:z,toggleSelect:q,isExpanded:W,toggleExpand:K,isGroupOpen:v,toggleGroup:_,items:A.value,groupedItems:D.value}));return xe(()=>m(t.tag,{class:["v-data-iterator",{"v-data-iterator--loading":t.loading},t.class],style:t.style},{default:()=>{var Z,ee;return[(Z=n.header)==null?void 0:Z.call(n,Y.value),m(Ts,{transition:t.transition},{default:()=>{var le,de;return[t.loading?m(Jg,{key:"loader",name:"v-data-iterator",active:!0},{default:he=>{var re;return(re=n.loader)==null?void 0:re.call(n,he)}}):m("div",{key:"items"},[D.value.length?(de=n.default)==null?void 0:de.call(n,Y.value):(le=n["no-data"])==null?void 0:le.call(n)])]}}),(ee=n.footer)==null?void 0:ee.call(n,Y.value)]}})),{}}});function pme(){const t=G([]);pL(()=>t.value=[]);function e(n,i){t.value[i]=n}return{refs:t,updateRef:e}}const vme=te({activeColor:String,start:{type:[Number,String],default:1},modelValue:{type:Number,default:t=>t.start},disabled:Boolean,length:{type:[Number,String],default:1,validator:t=>t%1===0},totalVisible:[Number,String],firstIcon:{type:Ge,default:"$first"},prevIcon:{type:Ge,default:"$prev"},nextIcon:{type:Ge,default:"$next"},lastIcon:{type:Ge,default:"$last"},ariaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.root"},pageAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.page"},currentPageAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.currentPage"},firstAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.first"},previousAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.previous"},nextAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.next"},lastAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.last"},ellipsis:{type:String,default:"..."},showFirstLastPage:Boolean,...ir(),...Be(),...Ci(),...Pi(),...Rn(),...Za(),..._t({tag:"nav"}),...Nt(),...Br({variant:"text"})},"VPagination"),P1=_e()({name:"VPagination",props:vme(),emits:{"update:modelValue":t=>!0,first:t=>!0,prev:t=>!0,next:t=>!0,last:t=>!0},setup(t,e){let{slots:n,emit:i}=e;const s=ze(t,"modelValue"),{t:r,n:a}=gn(),{isRtl:o}=Ti(),{themeClasses:l}=Kt(t),{width:u}=Sr(),d=Ve(-1);Dn(void 0,{scoped:!0});const{resizeRef:c}=da(S=>{if(!S.length)return;const{target:w,contentRect:P}=S[0],C=w.querySelector(".v-pagination__list > *");if(!C)return;const D=P.width,A=C.offsetWidth+parseFloat(getComputedStyle(C).marginRight)*2;d.value=g(D,A)}),f=O(()=>parseInt(t.length,10)),h=O(()=>parseInt(t.start,10)),p=O(()=>t.totalVisible!=null?parseInt(t.totalVisible,10):d.value>=0?d.value:g(u.value,58));function g(S,w){const P=t.showFirstLastPage?5:3;return Math.max(0,Math.floor(+((S-w*P)/w).toFixed(2)))}const v=O(()=>{if(f.value<=0||isNaN(f.value)||f.value>Number.MAX_SAFE_INTEGER)return[];if(p.value<=0)return[];if(p.value===1)return[s.value];if(f.value<=p.value)return mr(f.value,h.value);const S=p.value%2===0,w=S?p.value/2:Math.floor(p.value/2),P=S?w:w+1,C=f.value-w;if(P-s.value>=0)return[...mr(Math.max(1,p.value-1),h.value),t.ellipsis,f.value];if(s.value-C>=(S?1:0)){const D=p.value-1,A=f.value-D+h.value;return[h.value,t.ellipsis,...mr(D,A)]}else{const D=Math.max(1,p.value-3),A=D===1?s.value:s.value-Math.ceil(D/2)+h.value;return[h.value,t.ellipsis,...mr(D,A),t.ellipsis,f.value]}});function _(S,w,P){S.preventDefault(),s.value=w,P&&i(P,w)}const{refs:b,updateRef:x}=pme();Dn({VPaginationBtn:{color:ge(t,"color"),border:ge(t,"border"),density:ge(t,"density"),size:ge(t,"size"),variant:ge(t,"variant"),rounded:ge(t,"rounded"),elevation:ge(t,"elevation")}});const k=O(()=>v.value.map((S,w)=>{const P=C=>x(C,w);if(typeof S=="string")return{isActive:!1,key:`ellipsis-${w}`,page:S,props:{ref:P,ellipsis:!0,icon:!0,disabled:!0}};{const C=S===s.value;return{isActive:C,key:S,page:a(S),props:{ref:P,ellipsis:!1,icon:!0,disabled:!!t.disabled||+t.length<2,color:C?t.activeColor:t.color,"aria-current":C,"aria-label":r(C?t.currentPageAriaLabel:t.pageAriaLabel,S),onClick:D=>_(D,S)}}}})),I=O(()=>{const S=!!t.disabled||s.value<=h.value,w=!!t.disabled||s.value>=h.value+f.value-1;return{first:t.showFirstLastPage?{icon:o.value?t.lastIcon:t.firstIcon,onClick:P=>_(P,h.value,"first"),disabled:S,"aria-label":r(t.firstAriaLabel),"aria-disabled":S}:void 0,prev:{icon:o.value?t.nextIcon:t.prevIcon,onClick:P=>_(P,s.value-1,"prev"),disabled:S,"aria-label":r(t.previousAriaLabel),"aria-disabled":S},next:{icon:o.value?t.prevIcon:t.nextIcon,onClick:P=>_(P,s.value+1,"next"),disabled:w,"aria-label":r(t.nextAriaLabel),"aria-disabled":w},last:t.showFirstLastPage?{icon:o.value?t.firstIcon:t.lastIcon,onClick:P=>_(P,h.value+f.value-1,"last"),disabled:w,"aria-label":r(t.lastAriaLabel),"aria-disabled":w}:void 0}});function E(){var w;const S=s.value-h.value;(w=b.value[S])==null||w.$el.focus()}function T(S){S.key===FS.left&&!t.disabled&&s.value>+t.start?(s.value=s.value-1,vt(E)):S.key===FS.right&&!t.disabled&&s.value<h.value+f.value-1&&(s.value=s.value+1,vt(E))}return xe(()=>m(t.tag,{ref:c,class:["v-pagination",l.value,t.class],style:t.style,role:"navigation","aria-label":r(t.ariaLabel),onKeydown:T,"data-test":"v-pagination-root"},{default:()=>[m("ul",{class:"v-pagination__list"},[t.showFirstLastPage&&m("li",{key:"first",class:"v-pagination__first","data-test":"v-pagination-first"},[n.first?n.first(I.value.first):m(pt,J({_as:"VPaginationBtn"},I.value.first),null)]),m("li",{key:"prev",class:"v-pagination__prev","data-test":"v-pagination-prev"},[n.prev?n.prev(I.value.prev):m(pt,J({_as:"VPaginationBtn"},I.value.prev),null)]),k.value.map((S,w)=>m("li",{key:S.key,class:["v-pagination__item",{"v-pagination__item--is-active":S.isActive}],"data-test":"v-pagination-item"},[n.item?n.item(S):m(pt,J({_as:"VPaginationBtn"},S.props),{default:()=>[S.page]})])),m("li",{key:"next",class:"v-pagination__next","data-test":"v-pagination-next"},[n.next?n.next(I.value.next):m(pt,J({_as:"VPaginationBtn"},I.value.next),null)]),t.showFirstLastPage&&m("li",{key:"last",class:"v-pagination__last","data-test":"v-pagination-last"},[n.last?n.last(I.value.last):m(pt,J({_as:"VPaginationBtn"},I.value.last),null)])])]})),{}}}),xC=te({prevIcon:{type:Ge,default:"$prev"},nextIcon:{type:Ge,default:"$next"},firstIcon:{type:Ge,default:"$first"},lastIcon:{type:Ge,default:"$last"},itemsPerPageText:{type:String,default:"$vuetify.dataFooter.itemsPerPageText"},pageText:{type:String,default:"$vuetify.dataFooter.pageText"},firstPageLabel:{type:String,default:"$vuetify.dataFooter.firstPage"},prevPageLabel:{type:String,default:"$vuetify.dataFooter.prevPage"},nextPageLabel:{type:String,default:"$vuetify.dataFooter.nextPage"},lastPageLabel:{type:String,default:"$vuetify.dataFooter.lastPage"},itemsPerPageOptions:{type:Array,default:()=>[{value:10,title:"10"},{value:25,title:"25"},{value:50,title:"50"},{value:100,title:"100"},{value:-1,title:"$vuetify.dataFooter.itemsPerPageAll"}]},showCurrentPage:Boolean},"VDataTableFooter"),tg=_e()({name:"VDataTableFooter",props:xC(),setup(t,e){let{slots:n}=e;const{t:i}=gn(),{page:s,pageCount:r,startIndex:a,stopIndex:o,itemsLength:l,itemsPerPage:u,setItemsPerPage:d}=ome(),c=O(()=>t.itemsPerPageOptions.map(f=>typeof f=="number"?{value:f,title:f===-1?i("$vuetify.dataFooter.itemsPerPageAll"):String(f)}:{...f,title:isNaN(Number(f.title))?i(f.title):f.title}));return xe(()=>{var h;const f=P1.filterProps(t);return m("div",{class:"v-data-table-footer"},[(h=n.prepend)==null?void 0:h.call(n),m("div",{class:"v-data-table-footer__items-per-page"},[m("span",null,[i(t.itemsPerPageText)]),m(fC,{items:c.value,modelValue:u.value,"onUpdate:modelValue":p=>d(Number(p)),density:"compact",variant:"outlined","hide-details":!0},null)]),m("div",{class:"v-data-table-footer__info"},[m("div",null,[i(t.pageText,l.value?a.value+1:0,o.value,l.value)])]),m("div",{class:"v-data-table-footer__pagination"},[m(P1,J({modelValue:s.value,"onUpdate:modelValue":p=>s.value=p,density:"comfortable","first-aria-label":t.firstPageLabel,"last-aria-label":t.lastPageLabel,length:r.value,"next-aria-label":t.nextPageLabel,"previous-aria-label":t.prevPageLabel,rounded:!0,"show-first-last-page":!0,"total-visible":t.showCurrentPage?1:0,variant:"plain"},f),null)])])}),{}}}),iy=Wne({align:{type:String,default:"start"},fixed:Boolean,fixedOffset:[Number,String],height:[Number,String],lastFixed:Boolean,noPadding:Boolean,tag:String,width:[Number,String],maxWidth:[Number,String],nowrap:Boolean},(t,e)=>{let{slots:n}=e;const i=t.tag??"td";return m(i,{class:["v-data-table__td",{"v-data-table-column--fixed":t.fixed,"v-data-table-column--last-fixed":t.lastFixed,"v-data-table-column--no-padding":t.noPadding,"v-data-table-column--nowrap":t.nowrap},`v-data-table-column--align-${t.align}`],style:{height:Le(t.height),width:Le(t.width),maxWidth:Le(t.maxWidth),left:Le(t.fixedOffset||null)}},{default:()=>{var s;return[(s=n.default)==null?void 0:s.call(n)]}})}),_me=te({headers:Array},"DataTable-header"),g3=Symbol.for("vuetify:data-table-headers"),p3={title:"",sortable:!1},yme={...p3,width:48};function bme(){const e=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]).map(n=>({element:n,priority:0}));return{enqueue:(n,i)=>{let s=!1;for(let r=0;r<e.length;r++)if(e[r].priority>i){e.splice(r,0,{element:n,priority:i}),s=!0;break}s||e.push({element:n,priority:i})},size:()=>e.length,count:()=>{let n=0;if(!e.length)return 0;const i=Math.floor(e[0].priority);for(let s=0;s<e.length;s++)Math.floor(e[s].priority)===i&&(n+=1);return n},dequeue:()=>e.shift()}}function C1(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];if(!t.children)e.push(t);else for(const n of t.children)C1(n,e);return e}function v3(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:new Set;for(const n of t)n.key&&e.add(n.key),n.children&&v3(n.children,e);return e}function wme(t){if(t.key){if(t.key==="data-table-group")return p3;if(["data-table-expand","data-table-select"].includes(t.key))return yme}}function SC(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return t.children?Math.max(e,...t.children.map(n=>SC(n,e+1))):e}function xme(t){let e=!1;function n(r){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(r)if(a&&(r.fixed=!0),r.fixed)if(r.children)for(let o=r.children.length-1;o>=0;o--)n(r.children[o],!0);else e?isNaN(+r.width)&&(`${r.key}`,void 0):r.lastFixed=!0,e=!0;else if(r.children)for(let o=r.children.length-1;o>=0;o--)n(r.children[o]);else e=!1}for(let r=t.length-1;r>=0;r--)n(t[r]);function i(r){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(!r)return a;if(r.children){r.fixedOffset=a;for(const o of r.children)a=i(o,a)}else r.fixed&&(r.fixedOffset=a,a+=parseFloat(r.width||"0")||0);return a}let s=0;for(const r of t)s=i(r,s)}function Sme(t,e){const n=[];let i=0;const s=bme(t);for(;s.size()>0;){let a=s.count();const o=[];let l=1;for(;a>0;){const{element:u,priority:d}=s.dequeue(),c=e-i-SC(u);if(o.push({...u,rowspan:c??1,colspan:u.children?C1(u).length:1}),u.children)for(const f of u.children){const h=d%1+l/Math.pow(10,i+2);s.enqueue(f,i+c+h)}l+=1,a-=1}i+=1,n.push(o)}return{columns:t.map(a=>C1(a)).flat(),headers:n}}function _3(t){const e=[];for(const n of t){const i={...wme(n),...n},s=i.key??(typeof i.value=="string"?i.value:null),r=i.value??s??null,a={...i,key:s,value:r,sortable:i.sortable??(i.key!=null||!!i.sort),children:i.children?_3(i.children):void 0};e.push(a)}return e}function kC(t,e){const n=G([]),i=G([]),s=G({}),r=G({}),a=G({});yn(()=>{var g,v,_;const u=(t.headers||Object.keys(t.items[0]??{}).map(b=>({key:b,title:pa(b)}))).slice(),d=v3(u);(g=e==null?void 0:e.groupBy)!=null&&g.value.length&&!d.has("data-table-group")&&u.unshift({key:"data-table-group",title:"Group"}),(v=e==null?void 0:e.showSelect)!=null&&v.value&&!d.has("data-table-select")&&u.unshift({key:"data-table-select"}),(_=e==null?void 0:e.showExpand)!=null&&_.value&&!d.has("data-table-expand")&&u.push({key:"data-table-expand"});const c=_3(u);xme(c);const f=Math.max(...c.map(b=>SC(b)))+1,h=Sme(c,f);n.value=h.headers,i.value=h.columns;const p=h.headers.flat(1);for(const b of p)b.key&&(b.sortable&&(b.sort&&(s.value[b.key]=b.sort),b.sortRaw&&(r.value[b.key]=b.sortRaw)),b.filter&&(a.value[b.key]=b.filter))});const o={headers:n,columns:i,sortFunctions:s,sortRawFunctions:r,filterFunctions:a};return Jt(g3,o),o}function Iw(){const t=gt(g3);if(!t)throw new Error("Missing headers!");return t}const y3=te({color:String,sticky:Boolean,disableSort:Boolean,multiSort:Boolean,sortAscIcon:{type:Ge,default:"$sortAsc"},sortDescIcon:{type:Ge,default:"$sortDesc"},headerProps:{type:Object},...Mc(),...fw()},"VDataTableHeaders"),fc=_e()({name:"VDataTableHeaders",props:y3(),setup(t,e){let{slots:n}=e;const{t:i}=gn(),{toggleSort:s,sortBy:r,isSorted:a}=m3(),{someSelected:o,allSelected:l,selectAll:u,showSelectAll:d}=Pw(),{columns:c,headers:f}=Iw(),{loaderClasses:h}=Qg(t);function p(S,w){if(!(!t.sticky&&!S.fixed))return{position:"sticky",left:S.fixed?Le(S.fixedOffset):void 0,top:t.sticky?`calc(var(--v-table-header-height) * ${w})`:void 0}}function g(S){const w=r.value.find(P=>P.key===S.key);return w?w.order==="asc"?t.sortAscIcon:t.sortDescIcon:t.sortAscIcon}const{backgroundColorClasses:v,backgroundColorStyles:_}=rn(t,"color"),{displayClasses:b,mobile:x}=Sr(t),k=O(()=>({headers:f.value,columns:c.value,toggleSort:s,isSorted:a,sortBy:r.value,someSelected:o.value,allSelected:l.value,selectAll:u,getSortIcon:g})),I=O(()=>["v-data-table__th",{"v-data-table__th--sticky":t.sticky},b.value,h.value]),E=S=>{let{column:w,x:P,y:C}=S;const D=w.key==="data-table-select"||w.key==="data-table-expand",A=J(t.headerProps??{},w.headerProps??{});return m(iy,J({tag:"th",align:w.align,class:[{"v-data-table__th--sortable":w.sortable&&!t.disableSort,"v-data-table__th--sorted":a(w),"v-data-table__th--fixed":w.fixed},...I.value],style:{width:Le(w.width),minWidth:Le(w.minWidth),maxWidth:Le(w.maxWidth),...p(w,C)},colspan:w.colspan,rowspan:w.rowspan,onClick:w.sortable?()=>s(w):void 0,fixed:w.fixed,nowrap:w.nowrap,lastFixed:w.lastFixed,noPadding:D},A),{default:()=>{var z;const N=`header.${w.key}`,B={column:w,selectAll:u,isSorted:a,toggleSort:s,sortBy:r.value,someSelected:o.value,allSelected:l.value,getSortIcon:g};return n[N]?n[N](B):w.key==="data-table-select"?((z=n["header.data-table-select"])==null?void 0:z.call(n,B))??(d.value&&m(Wa,{modelValue:l.value,indeterminate:o.value&&!l.value,"onUpdate:modelValue":u},null)):m("div",{class:"v-data-table-header__content"},[m("span",null,[w.title]),w.sortable&&!t.disableSort&&m(Bt,{key:"icon",class:"v-data-table-header__sort-icon",icon:g(w)},null),t.multiSort&&a(w)&&m("div",{key:"badge",class:["v-data-table-header__sort-badge",...v.value],style:_.value},[r.value.findIndex(q=>q.key===w.key)+1])])}})},T=()=>{const S=J(t.headerProps??{}??{}),w=O(()=>c.value.filter(C=>(C==null?void 0:C.sortable)&&!t.disableSort)),P=O(()=>{if(c.value.find(D=>D.key==="data-table-select")!=null)return l.value?"$checkboxOn":o.value?"$checkboxIndeterminate":"$checkboxOff"});return m(iy,J({tag:"th",class:[...I.value],colspan:f.value.length+1},S),{default:()=>[m("div",{class:"v-data-table-header__content"},[m(fC,{chips:!0,class:"v-data-table__td-sort-select",clearable:!0,density:"default",items:w.value,label:i("$vuetify.dataTable.sortBy"),multiple:t.multiSort,variant:"underlined","onClick:clear":()=>r.value=[],appendIcon:P.value,"onClick:append":()=>u(!l.value)},{...n,chip:C=>{var D;return m(Hc,{onClick:(D=C.item.raw)!=null&&D.sortable?()=>s(C.item.raw):void 0,onMousedown:A=>{A.preventDefault(),A.stopPropagation()}},{default:()=>[C.item.title,m(Bt,{class:["v-data-table__td-sort-icon",a(C.item.raw)&&"v-data-table__td-sort-icon-active"],icon:g(C.item.raw),size:"small"},null)]})}})])]})};xe(()=>x.value?m("tr",null,[m(T,null,null)]):m(Ee,null,[n.headers?n.headers(k.value):f.value.map((S,w)=>m("tr",null,[S.map((P,C)=>m(E,{column:P,x:C,y:w},null))])),t.loading&&m("tr",{class:"v-data-table-progress"},[m("th",{colspan:c.value.length},[m(Jg,{name:"v-data-table-progress",absolute:!0,active:!0,color:typeof t.loading=="boolean"?void 0:t.loading,indeterminate:!0},{default:n.loader})])])]))}}),kme=te({item:{type:Object,required:!0}},"VDataTableGroupHeaderRow"),Tme=_e()({name:"VDataTableGroupHeaderRow",props:kme(),setup(t,e){let{slots:n}=e;const{isGroupOpen:i,toggleGroup:s,extractRows:r}=i3(),{isSelected:a,isSomeSelected:o,select:l}=Pw(),{columns:u}=Iw(),d=O(()=>r([t.item]));return()=>m("tr",{class:"v-data-table-group-header-row",style:{"--v-data-table-group-header-row-depth":t.item.depth}},[u.value.map(c=>{var f,h;if(c.key==="data-table-group"){const p=i(t.item)?"$expand":"$next",g=()=>s(t.item);return((f=n["data-table-group"])==null?void 0:f.call(n,{item:t.item,count:d.value.length,props:{icon:p,onClick:g}}))??m(iy,{class:"v-data-table-group-header-row__column"},{default:()=>[m(pt,{size:"small",variant:"text",icon:p,onClick:g},null),m("span",null,[t.item.value]),m("span",null,[Pe("("),d.value.length,Pe(")")])]})}if(c.key==="data-table-select"){const p=a(d.value),g=o(d.value)&&!p,v=_=>l(d.value,_);return((h=n["data-table-select"])==null?void 0:h.call(n,{props:{modelValue:p,indeterminate:g,"onUpdate:modelValue":v}}))??m("td",null,[m(Wa,{modelValue:p,indeterminate:g,"onUpdate:modelValue":v},null)])}return m("td",null,null)})])}}),Pme=te({index:Number,item:Object,cellProps:[Object,Function],onClick:Oi(),onContextmenu:Oi(),onDblclick:Oi(),...Mc()},"VDataTableRow"),TC=_e()({name:"VDataTableRow",props:Pme(),setup(t,e){let{slots:n}=e;const{displayClasses:i,mobile:s}=Sr(t,"v-data-table__tr"),{isSelected:r,toggleSelect:a,someSelected:o,allSelected:l,selectAll:u}=Pw(),{isExpanded:d,toggleExpand:c}=t3(),{toggleSort:f,sortBy:h,isSorted:p}=m3(),{columns:g}=Iw();xe(()=>m("tr",{class:["v-data-table__tr",{"v-data-table__tr--clickable":!!(t.onClick||t.onContextmenu||t.onDblclick)},i.value],onClick:t.onClick,onContextmenu:t.onContextmenu,onDblclick:t.onDblclick},[t.item&&g.value.map((v,_)=>{const b=t.item,x=`item.${v.key}`,k=`header.${v.key}`,I={index:t.index,item:b.raw,internalItem:b,value:ac(b.columns,v.key),column:v,isSelected:r,toggleSelect:a,isExpanded:d,toggleExpand:c},E={column:v,selectAll:u,isSorted:p,toggleSort:f,sortBy:h.value,someSelected:o.value,allSelected:l.value,getSortIcon:()=>""},T=typeof t.cellProps=="function"?t.cellProps({index:I.index,item:I.item,internalItem:I.internalItem,value:I.value,column:v}):t.cellProps,S=typeof v.cellProps=="function"?v.cellProps({index:I.index,item:I.item,internalItem:I.internalItem,value:I.value}):v.cellProps;return m(iy,J({align:v.align,class:{"v-data-table__td--expanded-row":v.key==="data-table-expand","v-data-table__td--select-row":v.key==="data-table-select"},fixed:v.fixed,fixedOffset:v.fixedOffset,lastFixed:v.lastFixed,maxWidth:s.value?void 0:v.maxWidth,noPadding:v.key==="data-table-select"||v.key==="data-table-expand",nowrap:v.nowrap,width:s.value?void 0:v.width},T,S),{default:()=>{var P,C,D,A,N;if(n[x]&&!s.value)return(P=n[x])==null?void 0:P.call(n,I);if(v.key==="data-table-select")return((C=n["item.data-table-select"])==null?void 0:C.call(n,I))??m(Wa,{disabled:!b.selectable,modelValue:r([b]),onClick:Ju(()=>a(b),["stop"])},null);if(v.key==="data-table-expand")return((D=n["item.data-table-expand"])==null?void 0:D.call(n,I))??m(pt,{icon:d(b)?"$collapse":"$expand",size:"small",variant:"text",onClick:Ju(()=>c(b),["stop"])},null);const w=at(I.value);return s.value?m(Ee,null,[m("div",{class:"v-data-table__td-title"},[((A=n[k])==null?void 0:A.call(n,E))??v.title]),m("div",{class:"v-data-table__td-value"},[((N=n[x])==null?void 0:N.call(n,I))??w])]):w}})})]))}}),b3=te({loading:[Boolean,String],loadingText:{type:String,default:"$vuetify.dataIterator.loadingText"},hideNoData:Boolean,items:{type:Array,default:()=>[]},noDataText:{type:String,default:"$vuetify.noDataText"},rowProps:[Object,Function],cellProps:[Object,Function],...Mc()},"VDataTableRows"),mc=_e()({name:"VDataTableRows",inheritAttrs:!1,props:b3(),setup(t,e){let{attrs:n,slots:i}=e;const{columns:s}=Iw(),{expandOnClick:r,toggleExpand:a,isExpanded:o}=t3(),{isSelected:l,toggleSelect:u}=Pw(),{toggleGroup:d,isGroupOpen:c}=i3(),{t:f}=gn(),{mobile:h}=Sr(t);return xe(()=>{var p,g;return t.loading&&(!t.items.length||i.loading)?m("tr",{class:"v-data-table-rows-loading",key:"loading"},[m("td",{colspan:s.value.length},[((p=i.loading)==null?void 0:p.call(i))??f(t.loadingText)])]):!t.loading&&!t.items.length&&!t.hideNoData?m("tr",{class:"v-data-table-rows-no-data",key:"no-data"},[m("td",{colspan:s.value.length},[((g=i["no-data"])==null?void 0:g.call(i))??f(t.noDataText)])]):m(Ee,null,[t.items.map((v,_)=>{var k;if(v.type==="group"){const I={index:_,item:v,columns:s.value,isExpanded:o,toggleExpand:a,isSelected:l,toggleSelect:u,toggleGroup:d,isGroupOpen:c};return i["group-header"]?i["group-header"](I):m(Tme,J({key:`group-header_${v.id}`,item:v},PR(n,":group-header",()=>I)),i)}const b={index:_,item:v.raw,internalItem:v,columns:s.value,isExpanded:o,toggleExpand:a,isSelected:l,toggleSelect:u},x={...b,props:J({key:`item_${v.key??v.index}`,onClick:r.value?()=>{a(v)}:void 0,index:_,item:v,cellProps:t.cellProps,mobile:h.value},PR(n,":row",()=>b),typeof t.rowProps=="function"?t.rowProps({item:b.item,index:b.index,internalItem:b.internalItem}):t.rowProps)};return m(Ee,{key:x.props.key},[i.item?i.item(x):m(TC,x.props,i),o(v)&&((k=i["expanded-row"])==null?void 0:k.call(i,b))])})])}),{}}}),w3=te({fixedHeader:Boolean,fixedFooter:Boolean,height:[Number,String],hover:Boolean,...Be(),...Ci(),..._t(),...Nt()},"VTable"),gc=_e()({name:"VTable",props:w3(),setup(t,e){let{slots:n,emit:i}=e;const{themeClasses:s}=Kt(t),{densityClasses:r}=ls(t);return xe(()=>m(t.tag,{class:["v-table",{"v-table--fixed-height":!!t.height,"v-table--fixed-header":t.fixedHeader,"v-table--fixed-footer":t.fixedFooter,"v-table--has-top":!!n.top,"v-table--has-bottom":!!n.bottom,"v-table--hover":t.hover},s.value,r.value,t.class],style:t.style},{default:()=>{var a,o,l;return[(a=n.top)==null?void 0:a.call(n),n.default?m("div",{class:"v-table__wrapper",style:{height:Le(t.height)}},[m("table",null,[n.default()])]):(o=n.wrapper)==null?void 0:o.call(n),(l=n.bottom)==null?void 0:l.call(n)]}})),{}}}),Cme=te({items:{type:Array,default:()=>[]},itemValue:{type:[String,Array,Function],default:"id"},itemSelectable:{type:[String,Array,Function],default:null},rowProps:[Object,Function],cellProps:[Object,Function],returnObject:Boolean},"DataTable-items");function Eme(t,e,n,i){const s=t.returnObject?e:si(e,t.itemValue),r=si(e,t.itemSelectable,!0),a=i.reduce((o,l)=>(l.key!=null&&(o[l.key]=si(e,l.value)),o),{});return{type:"item",key:t.returnObject?si(e,t.itemValue):s,index:n,value:s,selectable:r,columns:a,raw:e}}function Ime(t,e,n){return e.map((i,s)=>Eme(t,i,s,n))}function PC(t,e){return{items:O(()=>Ime(t,t.items,e.value))}}const CC=te({...b3(),hideDefaultBody:Boolean,hideDefaultFooter:Boolean,hideDefaultHeader:Boolean,width:[String,Number],search:String,...Z5(),...pC(),..._me(),...Cme(),...c3(),...h3(),...y3(),...w3()},"DataTable"),Dme=te({..._C(),...CC(),...qh(),...xC()},"VDataTable"),Ame=_e()({name:"VDataTable",props:Dme(),emits:{"update:modelValue":t=>!0,"update:page":t=>!0,"update:itemsPerPage":t=>!0,"update:sortBy":t=>!0,"update:options":t=>!0,"update:groupBy":t=>!0,"update:expanded":t=>!0,"update:currentItems":t=>!0},setup(t,e){let{attrs:n,slots:i}=e;const{groupBy:s}=vC(t),{sortBy:r,multiSort:a,mustSort:o}=Cw(t),{page:l,itemsPerPage:u}=yC(t),{disableSort:d}=Kl(t),{columns:c,headers:f,sortFunctions:h,sortRawFunctions:p,filterFunctions:g}=kC(t,{groupBy:s,showSelect:ge(t,"showSelect"),showExpand:ge(t,"showExpand")}),{items:v}=PC(t,c),_=ge(t,"search"),{filteredItems:b}=Xh(t,v,_,{transform:U=>U.columns,customKeyFilter:g}),{toggleSort:x}=Ew({sortBy:r,multiSort:a,mustSort:o,page:l}),{sortByWithGroups:k,opened:I,extractRows:E,isGroupOpen:T,toggleGroup:S}=xw({groupBy:s,sortBy:r,disableSort:d}),{sortedItems:w}=wC(t,b,k,{transform:U=>({...U.raw,...U.columns}),sortFunctions:h,sortRawFunctions:p}),{flatItems:P}=Sw(w,s,I),C=O(()=>P.value.length),{startIndex:D,stopIndex:A,pageCount:N,setItemsPerPage:B}=bC({page:l,itemsPerPage:u,itemsLength:C}),{paginatedItems:z}=o3({items:P,startIndex:D,stopIndex:A,itemsPerPage:u}),q=O(()=>E(z.value)),{isSelected:W,select:K,selectAll:Y,toggleSelect:Z,someSelected:ee,allSelected:le}=Tw(t,{allItems:v,currentPage:q}),{isExpanded:de,toggleExpand:he}=ww(t);kw({page:l,itemsPerPage:u,sortBy:r,groupBy:s,search:_}),Dn({VDataTableRows:{hideNoData:ge(t,"hideNoData"),noDataText:ge(t,"noDataText"),loading:ge(t,"loading"),loadingText:ge(t,"loadingText")}});const re=O(()=>({page:l.value,itemsPerPage:u.value,sortBy:r.value,pageCount:N.value,toggleSort:x,setItemsPerPage:B,someSelected:ee.value,allSelected:le.value,isSelected:W,select:K,selectAll:Y,toggleSelect:Z,isExpanded:de,toggleExpand:he,isGroupOpen:T,toggleGroup:S,items:q.value.map(U=>U.raw),internalItems:q.value,groupedItems:z.value,columns:c.value,headers:f.value}));return xe(()=>{const U=tg.filterProps(t),X=fc.filterProps(t),ae=mc.filterProps(t),pe=gc.filterProps(t);return m(gc,J({class:["v-data-table",{"v-data-table--show-select":t.showSelect,"v-data-table--loading":t.loading},t.class],style:t.style},pe),{top:()=>{var ve;return(ve=i.top)==null?void 0:ve.call(i,re.value)},default:()=>{var ve,F,L,$,ne,ue;return i.default?i.default(re.value):m(Ee,null,[(ve=i.colgroup)==null?void 0:ve.call(i,re.value),!t.hideDefaultHeader&&m("thead",{key:"thead"},[m(fc,X,i)]),(F=i.thead)==null?void 0:F.call(i,re.value),!t.hideDefaultBody&&m("tbody",null,[(L=i["body.prepend"])==null?void 0:L.call(i,re.value),i.body?i.body(re.value):m(mc,J(n,ae,{items:z.value}),i),($=i["body.append"])==null?void 0:$.call(i,re.value)]),(ne=i.tbody)==null?void 0:ne.call(i,re.value),(ue=i.tfoot)==null?void 0:ue.call(i,re.value)])},bottom:()=>i.bottom?i.bottom(re.value):!t.hideDefaultFooter&&m(Ee,null,[m(Qr,null,null),m(tg,U,{prepend:i["footer.prepend"]})])})}),{}}}),Rme=te({...CC(),...pC(),...R5(),...qh()},"VDataTableVirtual"),Ome=_e()({name:"VDataTableVirtual",props:Rme(),emits:{"update:modelValue":t=>!0,"update:sortBy":t=>!0,"update:options":t=>!0,"update:groupBy":t=>!0,"update:expanded":t=>!0},setup(t,e){let{attrs:n,slots:i}=e;const{groupBy:s}=vC(t),{sortBy:r,multiSort:a,mustSort:o}=Cw(t),{disableSort:l}=Kl(t),{columns:u,headers:d,filterFunctions:c,sortFunctions:f,sortRawFunctions:h}=kC(t,{groupBy:s,showSelect:ge(t,"showSelect"),showExpand:ge(t,"showExpand")}),{items:p}=PC(t,u),g=ge(t,"search"),{filteredItems:v}=Xh(t,p,g,{transform:X=>X.columns,customKeyFilter:c}),{toggleSort:_}=Ew({sortBy:r,multiSort:a,mustSort:o}),{sortByWithGroups:b,opened:x,extractRows:k,isGroupOpen:I,toggleGroup:E}=xw({groupBy:s,sortBy:r,disableSort:l}),{sortedItems:T}=wC(t,v,b,{transform:X=>({...X.raw,...X.columns}),sortFunctions:f,sortRawFunctions:h}),{flatItems:S}=Sw(T,s,x),w=O(()=>k(S.value)),{isSelected:P,select:C,selectAll:D,toggleSelect:A,someSelected:N,allSelected:B}=Tw(t,{allItems:w,currentPage:w}),{isExpanded:z,toggleExpand:q}=ww(t),{containerRef:W,markerRef:K,paddingTop:Y,paddingBottom:Z,computedItems:ee,handleItemResize:le,handleScroll:de,handleScrollend:he}=O5(t,S),re=O(()=>ee.value.map(X=>X.raw));kw({sortBy:r,page:Ve(1),itemsPerPage:Ve(-1),groupBy:s,search:g}),Dn({VDataTableRows:{hideNoData:ge(t,"hideNoData"),noDataText:ge(t,"noDataText"),loading:ge(t,"loading"),loadingText:ge(t,"loadingText")}});const U=O(()=>({sortBy:r.value,toggleSort:_,someSelected:N.value,allSelected:B.value,isSelected:P,select:C,selectAll:D,toggleSelect:A,isExpanded:z,toggleExpand:q,isGroupOpen:I,toggleGroup:E,items:w.value.map(X=>X.raw),internalItems:w.value,groupedItems:S.value,columns:u.value,headers:d.value}));xe(()=>{const X=fc.filterProps(t),ae=mc.filterProps(t),pe=gc.filterProps(t);return m(gc,J({class:["v-data-table",{"v-data-table--loading":t.loading},t.class],style:t.style},pe),{top:()=>{var ve;return(ve=i.top)==null?void 0:ve.call(i,U.value)},wrapper:()=>{var ve,F,L;return m("div",{ref:W,onScrollPassive:de,onScrollend:he,class:"v-table__wrapper",style:{height:Le(t.height)}},[m("table",null,[(ve=i.colgroup)==null?void 0:ve.call(i,U.value),!t.hideDefaultHeader&&m("thead",{key:"thead"},[m(fc,J(X,{sticky:t.fixedHeader}),i)]),!t.hideDefaultBody&&m("tbody",null,[m("tr",{ref:K,style:{height:Le(Y.value),border:0}},[m("td",{colspan:u.value.length,style:{height:0,border:0}},null)]),(F=i["body.prepend"])==null?void 0:F.call(i,U.value),m(mc,J(n,ae,{items:re.value}),{...i,item:$=>m(A5,{key:$.internalItem.index,renderless:!0,"onUpdate:height":ne=>le($.internalItem.index,ne)},{default:ne=>{var ie;let{itemRef:ue}=ne;return((ie=i.item)==null?void 0:ie.call(i,{...$,itemRef:ue}))??m(TC,J($.props,{ref:ue,key:$.internalItem.index,index:$.internalItem.index}),i)}})}),(L=i["body.append"])==null?void 0:L.call(i,U.value),m("tr",{style:{height:Le(Z.value),border:0}},[m("td",{colspan:u.value.length,style:{height:0,border:0}},null)])])])])},bottom:()=>{var ve;return(ve=i.bottom)==null?void 0:ve.call(i,U.value)}})})}}),Mme=te({itemsLength:{type:[Number,String],required:!0},..._C(),...CC(),...xC()},"VDataTableServer"),Vme=_e()({name:"VDataTableServer",props:Mme(),emits:{"update:modelValue":t=>!0,"update:page":t=>!0,"update:itemsPerPage":t=>!0,"update:sortBy":t=>!0,"update:options":t=>!0,"update:expanded":t=>!0,"update:groupBy":t=>!0},setup(t,e){let{attrs:n,slots:i}=e;const{groupBy:s}=vC(t),{sortBy:r,multiSort:a,mustSort:o}=Cw(t),{page:l,itemsPerPage:u}=yC(t),{disableSort:d}=Kl(t),c=O(()=>parseInt(t.itemsLength,10)),{columns:f,headers:h}=kC(t,{groupBy:s,showSelect:ge(t,"showSelect"),showExpand:ge(t,"showExpand")}),{items:p}=PC(t,f),{toggleSort:g}=Ew({sortBy:r,multiSort:a,mustSort:o,page:l}),{opened:v,isGroupOpen:_,toggleGroup:b,extractRows:x}=xw({groupBy:s,sortBy:r,disableSort:d}),{pageCount:k,setItemsPerPage:I}=bC({page:l,itemsPerPage:u,itemsLength:c}),{flatItems:E}=Sw(p,s,v),{isSelected:T,select:S,selectAll:w,toggleSelect:P,someSelected:C,allSelected:D}=Tw(t,{allItems:p,currentPage:p}),{isExpanded:A,toggleExpand:N}=ww(t),B=O(()=>x(p.value));kw({page:l,itemsPerPage:u,sortBy:r,groupBy:s,search:ge(t,"search")}),Jt("v-data-table",{toggleSort:g,sortBy:r}),Dn({VDataTableRows:{hideNoData:ge(t,"hideNoData"),noDataText:ge(t,"noDataText"),loading:ge(t,"loading"),loadingText:ge(t,"loadingText")}});const z=O(()=>({page:l.value,itemsPerPage:u.value,sortBy:r.value,pageCount:k.value,toggleSort:g,setItemsPerPage:I,someSelected:C.value,allSelected:D.value,isSelected:T,select:S,selectAll:w,toggleSelect:P,isExpanded:A,toggleExpand:N,isGroupOpen:_,toggleGroup:b,items:B.value.map(q=>q.raw),internalItems:B.value,groupedItems:E.value,columns:f.value,headers:h.value}));xe(()=>{const q=tg.filterProps(t),W=fc.filterProps(t),K=mc.filterProps(t),Y=gc.filterProps(t);return m(gc,J({class:["v-data-table",{"v-data-table--loading":t.loading},t.class],style:t.style},Y),{top:()=>{var Z;return(Z=i.top)==null?void 0:Z.call(i,z.value)},default:()=>{var Z,ee,le,de,he,re;return i.default?i.default(z.value):m(Ee,null,[(Z=i.colgroup)==null?void 0:Z.call(i,z.value),!t.hideDefaultHeader&&m("thead",{key:"thead",class:"v-data-table__thead",role:"rowgroup"},[m(fc,J(W,{sticky:t.fixedHeader}),i)]),(ee=i.thead)==null?void 0:ee.call(i,z.value),!t.hideDefaultBody&&m("tbody",{class:"v-data-table__tbody",role:"rowgroup"},[(le=i["body.prepend"])==null?void 0:le.call(i,z.value),i.body?i.body(z.value):m(mc,J(n,K,{items:E.value}),i),(de=i["body.append"])==null?void 0:de.call(i,z.value)]),(he=i.tbody)==null?void 0:he.call(i,z.value),(re=i.tfoot)==null?void 0:re.call(i,z.value)])},bottom:()=>i.bottom?i.bottom(z.value):!t.hideDefaultFooter&&m(Ee,null,[m(Qr,null,null),m(tg,q,{prepend:i["footer.prepend"]})])})})}}),Lme=te({fluid:{type:Boolean,default:!1},...Be(),...fi(),..._t()},"VContainer"),Nme=_e()({name:"VContainer",props:Lme(),setup(t,e){let{slots:n}=e;const{rtlClasses:i}=Ti(),{dimensionStyles:s}=mi(t);return xe(()=>m(t.tag,{class:["v-container",{"v-container--fluid":t.fluid},i.value,t.class],style:[s.value,t.style]},n)),{}}}),x3=qb.reduce((t,e)=>(t[e]={type:[Boolean,String,Number],default:!1},t),{}),S3=qb.reduce((t,e)=>{const n="offset"+pa(e);return t[n]={type:[String,Number],default:null},t},{}),k3=qb.reduce((t,e)=>{const n="order"+pa(e);return t[n]={type:[String,Number],default:null},t},{}),FO={col:Object.keys(x3),offset:Object.keys(S3),order:Object.keys(k3)};function Fme(t,e,n){let i=t;if(!(n==null||n===!1)){if(e){const s=e.replace(t,"");i+=`-${s}`}return t==="col"&&(i="v-"+i),t==="col"&&(n===""||n===!0)||(i+=`-${n}`),i.toLowerCase()}}const Bme=["auto","start","end","center","baseline","stretch"],jme=te({cols:{type:[Boolean,String,Number],default:!1},...x3,offset:{type:[String,Number],default:null},...S3,order:{type:[String,Number],default:null},...k3,alignSelf:{type:String,default:null,validator:t=>Bme.includes(t)},...Be(),..._t()},"VCol"),$me=_e()({name:"VCol",props:jme(),setup(t,e){let{slots:n}=e;const i=O(()=>{const s=[];let r;for(r in FO)FO[r].forEach(o=>{const l=t[o],u=Fme(r,o,l);u&&s.push(u)});const a=s.some(o=>o.startsWith("v-col-"));return s.push({"v-col":!a||!t.cols,[`v-col-${t.cols}`]:t.cols,[`offset-${t.offset}`]:t.offset,[`order-${t.order}`]:t.order,[`align-self-${t.alignSelf}`]:t.alignSelf}),s});return()=>{var s;return Ai(t.tag,{class:[i.value,t.class],style:t.style},(s=n.default)==null?void 0:s.call(n))}}}),EC=["start","end","center"],T3=["space-between","space-around","space-evenly"];function IC(t,e){return qb.reduce((n,i)=>{const s=t+pa(i);return n[s]=e(),n},{})}const Ume=[...EC,"baseline","stretch"],P3=t=>Ume.includes(t),C3=IC("align",()=>({type:String,default:null,validator:P3})),Hme=[...EC,...T3],E3=t=>Hme.includes(t),I3=IC("justify",()=>({type:String,default:null,validator:E3})),zme=[...EC,...T3,"stretch"],D3=t=>zme.includes(t),A3=IC("alignContent",()=>({type:String,default:null,validator:D3})),BO={align:Object.keys(C3),justify:Object.keys(I3),alignContent:Object.keys(A3)},Wme={align:"align",justify:"justify",alignContent:"align-content"};function Yme(t,e,n){let i=Wme[t];if(n!=null){if(e){const s=e.replace(t,"");i+=`-${s}`}return i+=`-${n}`,i.toLowerCase()}}const Gme=te({dense:Boolean,noGutters:Boolean,align:{type:String,default:null,validator:P3},...C3,justify:{type:String,default:null,validator:E3},...I3,alignContent:{type:String,default:null,validator:D3},...A3,...Be(),..._t()},"VRow"),qme=_e()({name:"VRow",props:Gme(),setup(t,e){let{slots:n}=e;const i=O(()=>{const s=[];let r;for(r in BO)BO[r].forEach(a=>{const o=t[a],l=Yme(r,a,o);l&&s.push(l)});return s.push({"v-row--no-gutters":t.noGutters,"v-row--dense":t.dense,[`align-${t.align}`]:t.align,[`justify-${t.justify}`]:t.justify,[`align-content-${t.alignContent}`]:t.alignContent}),s});return()=>{var s;return Ai(t.tag,{class:["v-row",i.value,t.class],style:t.style},(s=n.default)==null?void 0:s.call(n))}}}),R3=Ja("v-spacer","div","VSpacer"),O3=te({active:{type:[String,Array],default:void 0},disabled:{type:[Boolean,String,Array],default:!1},nextIcon:{type:Ge,default:"$next"},prevIcon:{type:Ge,default:"$prev"},modeIcon:{type:Ge,default:"$subgroup"},text:String,viewMode:{type:String,default:"month"}},"VDatePickerControls"),E1=_e()({name:"VDatePickerControls",props:O3(),emits:{"click:year":()=>!0,"click:month":()=>!0,"click:prev":()=>!0,"click:next":()=>!0,"click:text":()=>!0},setup(t,e){let{emit:n}=e;const i=O(()=>Array.isArray(t.disabled)?t.disabled.includes("text"):!!t.disabled),s=O(()=>Array.isArray(t.disabled)?t.disabled.includes("mode"):!!t.disabled),r=O(()=>Array.isArray(t.disabled)?t.disabled.includes("prev"):!!t.disabled),a=O(()=>Array.isArray(t.disabled)?t.disabled.includes("next"):!!t.disabled);function o(){n("click:prev")}function l(){n("click:next")}function u(){n("click:year")}function d(){n("click:month")}return xe(()=>m("div",{class:["v-date-picker-controls"]},[m(pt,{class:"v-date-picker-controls__month-btn",disabled:i.value,text:t.text,variant:"text",rounded:!0,onClick:d},null),m(pt,{key:"mode-btn",class:"v-date-picker-controls__mode-btn",disabled:s.value,density:"comfortable",icon:t.modeIcon,variant:"text",onClick:u},null),m(R3,{key:"mode-spacer"},null),m("div",{key:"month-buttons",class:"v-date-picker-controls__month"},[m(pt,{disabled:r.value,icon:t.prevIcon,variant:"text",onClick:o},null),m(pt,{disabled:a.value,icon:t.nextIcon,variant:"text",onClick:l},null)])])),{}}}),Xme=te({appendIcon:Ge,color:String,header:String,transition:String,onClick:Oi()},"VDatePickerHeader"),I1=_e()({name:"VDatePickerHeader",props:Xme(),emits:{click:()=>!0,"click:append":()=>!0},setup(t,e){let{emit:n,slots:i}=e;const{backgroundColorClasses:s,backgroundColorStyles:r}=rn(t,"color");function a(){n("click")}function o(){n("click:append")}return xe(()=>{const l=!!(i.default||t.header),u=!!(i.append||t.appendIcon);return m("div",{class:["v-date-picker-header",{"v-date-picker-header--clickable":!!t.onClick},s.value],style:r.value,onClick:a},[i.prepend&&m("div",{key:"prepend",class:"v-date-picker-header__prepend"},[i.prepend()]),l&&m(Ts,{key:"content",name:t.transition},{default:()=>{var d;return[m("div",{key:t.header,class:"v-date-picker-header__content"},[((d=i.default)==null?void 0:d.call(i))??t.header])]}}),u&&m("div",{class:"v-date-picker-header__append"},[i.append?m(dt,{key:"append-defaults",disabled:!t.appendIcon,defaults:{VBtn:{icon:t.appendIcon,variant:"text"}}},{default:()=>{var d;return[(d=i.append)==null?void 0:d.call(i)]}}):m(pt,{key:"append-btn",icon:t.appendIcon,variant:"text",onClick:o},null)])])}),{}}}),M3=te({allowedDates:[Array,Function],disabled:Boolean,displayValue:null,modelValue:Array,month:[Number,String],max:null,min:null,showAdjacentMonths:Boolean,year:[Number,String],weekdays:{type:Array,default:()=>[0,1,2,3,4,5,6]},weeksInMonth:{type:String,default:"dynamic"},firstDayOfWeek:[Number,String]},"calendar");function V3(t){const e=Fr(),n=ze(t,"modelValue",[],h=>bn(h)),i=O(()=>t.displayValue?e.date(t.displayValue):n.value.length>0?e.date(n.value[0]):t.min?e.date(t.min):Array.isArray(t.allowedDates)?e.date(t.allowedDates[0]):e.date()),s=ze(t,"year",void 0,h=>{const p=h!=null?Number(h):e.getYear(i.value);return e.startOfYear(e.setYear(e.date(),p))},h=>e.getYear(h)),r=ze(t,"month",void 0,h=>{const p=h!=null?Number(h):e.getMonth(i.value),g=e.setYear(e.startOfMonth(e.date()),e.getYear(s.value));return e.setMonth(g,p)},h=>e.getMonth(h)),a=O(()=>{const h=Number(t.firstDayOfWeek??0);return t.weekdays.map(p=>(p+h)%7)}),o=O(()=>{const h=e.getWeekArray(r.value,t.firstDayOfWeek),p=h.flat(),g=6*7;if(t.weeksInMonth==="static"&&p.length<g){const v=p[p.length-1];let _=[];for(let b=1;b<=g-p.length;b++)_.push(e.addDays(v,b)),b%7===0&&(h.push(_),_=[])}return h});function l(h,p){return h.filter(g=>a.value.includes(e.toJsDate(g).getDay())).map((g,v)=>{const _=e.toISO(g),b=!e.isSameMonth(g,r.value),x=e.isSameDay(g,e.startOfMonth(r.value)),k=e.isSameDay(g,e.endOfMonth(r.value)),I=e.isSameDay(g,r.value);return{date:g,isoDate:_,formatted:e.format(g,"keyboardDate"),year:e.getYear(g),month:e.getMonth(g),isDisabled:f(g),isWeekStart:v%7===0,isWeekEnd:v%7===6,isToday:e.isSameDay(g,p),isAdjacent:b,isHidden:b&&!t.showAdjacentMonths,isStart:x,isSelected:n.value.some(E=>e.isSameDay(g,E)),isEnd:k,isSame:I,localized:e.format(g,"dayOfMonth")}})}const u=O(()=>{const h=e.startOfWeek(i.value,t.firstDayOfWeek),p=[];for(let v=0;v<=6;v++)p.push(e.addDays(h,v));const g=e.date();return l(p,g)}),d=O(()=>{const h=o.value.flat(),p=e.date();return l(h,p)}),c=O(()=>o.value.map(h=>h.length?Uie(e,h[0]):null));function f(h){if(t.disabled)return!0;const p=e.date(h);return t.min&&e.isAfter(e.date(t.min),p)||t.max&&e.isAfter(p,e.date(t.max))?!0:Array.isArray(t.allowedDates)&&t.allowedDates.length>0?!t.allowedDates.some(g=>e.isSameDay(e.date(g),p)):typeof t.allowedDates=="function"?!t.allowedDates(p):!1}return{displayValue:i,daysInMonth:d,daysInWeek:u,genDays:l,model:n,weeksInMonth:o,weekDays:a,weekNumbers:c}}const L3=te({color:String,hideWeekdays:Boolean,multiple:[Boolean,Number,String],showWeek:Boolean,transition:{type:String,default:"picker-transition"},reverseTransition:{type:String,default:"picker-reverse-transition"},...M3()},"VDatePickerMonth"),D1=_e()({name:"VDatePickerMonth",props:L3(),emits:{"update:modelValue":t=>!0,"update:month":t=>!0,"update:year":t=>!0},setup(t,e){let{emit:n,slots:i}=e;const s=G(),{daysInMonth:r,model:a,weekNumbers:o}=V3(t),l=Fr(),u=Ve(),d=Ve(),c=Ve(!1),f=O(()=>c.value?t.reverseTransition:t.transition);t.multiple==="range"&&a.value.length>0&&(u.value=a.value[0],a.value.length>1&&(d.value=a.value[a.value.length-1]));const h=O(()=>{const _=["number","string"].includes(typeof t.multiple)?Number(t.multiple):1/0;return a.value.length>=_});we(r,(_,b)=>{b&&(c.value=l.isBefore(_[0].date,b[0].date))});function p(_){const b=l.startOfDay(_);if(a.value.length===0?u.value=void 0:a.value.length===1&&(u.value=a.value[0],d.value=void 0),!u.value)u.value=b,a.value=[u.value];else if(d.value)u.value=_,d.value=void 0,a.value=[u.value];else{if(l.isSameDay(b,u.value)){u.value=void 0,a.value=[];return}else l.isBefore(b,u.value)?(d.value=l.endOfDay(u.value),u.value=b):d.value=l.endOfDay(b);const x=l.getDiff(d.value,u.value,"days"),k=[u.value];for(let I=1;I<x;I++){const E=l.addDays(u.value,I);k.push(E)}k.push(d.value),a.value=k}}function g(_){const b=a.value.findIndex(x=>l.isSameDay(x,_));if(b===-1)a.value=[...a.value,_];else{const x=[...a.value];x.splice(b,1),a.value=x}}function v(_){t.multiple==="range"?p(_):t.multiple?g(_):a.value=[_]}return()=>m("div",{class:"v-date-picker-month"},[t.showWeek&&m("div",{key:"weeks",class:"v-date-picker-month__weeks"},[!t.hideWeekdays&&m("div",{key:"hide-week-days",class:"v-date-picker-month__day"},[Pe(" ")]),o.value.map(_=>m("div",{class:["v-date-picker-month__day","v-date-picker-month__day--adjacent"]},[_]))]),m(Ts,{name:f.value},{default:()=>{var _;return[m("div",{ref:s,key:(_=r.value[0].date)==null?void 0:_.toString(),class:"v-date-picker-month__days"},[!t.hideWeekdays&&l.getWeekdays(t.firstDayOfWeek).map(b=>m("div",{class:["v-date-picker-month__day","v-date-picker-month__weekday"]},[b])),r.value.map((b,x)=>{const k={props:{onClick:()=>v(b.date)},item:b,i:x};return h.value&&!b.isSelected&&(b.isDisabled=!0),m("div",{class:["v-date-picker-month__day",{"v-date-picker-month__day--adjacent":b.isAdjacent,"v-date-picker-month__day--hide-adjacent":b.isHidden,"v-date-picker-month__day--selected":b.isSelected,"v-date-picker-month__day--week-end":b.isWeekEnd,"v-date-picker-month__day--week-start":b.isWeekStart}],"data-v-date":b.isDisabled?void 0:b.isoDate},[(t.showAdjacentMonths||!b.isAdjacent)&&m(dt,{defaults:{VBtn:{class:"v-date-picker-month__day-btn",color:(b.isSelected||b.isToday)&&!b.isDisabled?t.color:void 0,disabled:b.isDisabled,icon:!0,ripple:!1,text:b.localized,variant:b.isDisabled?b.isToday?"outlined":"text":b.isToday&&!b.isSelected?"outlined":"flat",onClick:()=>v(b.date)}}},{default:()=>{var I;return[((I=i.day)==null?void 0:I.call(i,k))??m(pt,k.props,null)]}})])})])]}})])}}),N3=te({color:String,height:[String,Number],min:null,max:null,modelValue:Number,year:Number},"VDatePickerMonths"),A1=_e()({name:"VDatePickerMonths",props:N3(),emits:{"update:modelValue":t=>!0},setup(t,e){let{emit:n,slots:i}=e;const s=Fr(),r=ze(t,"modelValue"),a=O(()=>{let o=s.startOfYear(s.date());return t.year&&(o=s.setYear(o,t.year)),mr(12).map(l=>{const u=s.format(o,"monthShort"),d=!!(t.min&&s.isAfter(s.startOfMonth(s.date(t.min)),o)||t.max&&s.isAfter(o,s.startOfMonth(s.date(t.max))));return o=s.getNextMonth(o),{isDisabled:d,text:u,value:l}})});return yn(()=>{r.value=r.value??s.getMonth(s.date())}),xe(()=>m("div",{class:"v-date-picker-months",style:{height:Le(t.height)}},[m("div",{class:"v-date-picker-months__content"},[a.value.map((o,l)=>{var c;const u={active:r.value===l,color:r.value===l?t.color:void 0,disabled:o.isDisabled,rounded:!0,text:o.text,variant:r.value===o.value?"flat":"text",onClick:()=>d(l)};function d(f){if(r.value===f){n("update:modelValue",r.value);return}r.value=f}return((c=i.month)==null?void 0:c.call(i,{month:o,i:l,props:u}))??m(pt,J({key:"month"},u),null)})])])),{}}}),F3=te({color:String,height:[String,Number],min:null,max:null,modelValue:Number},"VDatePickerYears"),R1=_e()({name:"VDatePickerYears",props:F3(),emits:{"update:modelValue":t=>!0},setup(t,e){let{emit:n,slots:i}=e;const s=Fr(),r=ze(t,"modelValue"),a=O(()=>{const l=s.getYear(s.date());let u=l-100,d=l+52;t.min&&(u=s.getYear(s.date(t.min))),t.max&&(d=s.getYear(s.date(t.max)));let c=s.startOfYear(s.date());return c=s.setYear(c,u),mr(d-u+1,u).map(f=>{const h=s.format(c,"year");return c=s.setYear(c,s.getYear(c)+1),{text:h,value:f}})});yn(()=>{r.value=r.value??s.getYear(s.date())});const o=F_();return Tt(async()=>{var l;await vt(),(l=o.el)==null||l.scrollIntoView({block:"center"})}),xe(()=>m("div",{class:"v-date-picker-years",style:{height:Le(t.height)}},[m("div",{class:"v-date-picker-years__content"},[a.value.map((l,u)=>{var c;const d={ref:r.value===l.value?o:void 0,active:r.value===l.value,color:r.value===l.value?t.color:void 0,rounded:!0,text:l.text,variant:r.value===l.value?"flat":"text",onClick:()=>{if(r.value===l.value){n("update:modelValue",r.value);return}r.value=l.value}};return((c=i.year)==null?void 0:c.call(i,{year:l,i:u,props:d}))??m(pt,J({key:"month"},d),null)})])])),{}}}),B3=Ja("v-picker-title"),DC=te({bgColor:String,landscape:Boolean,title:String,hideHeader:Boolean,...ip()},"VPicker"),ng=_e()({name:"VPicker",props:DC(),setup(t,e){let{slots:n}=e;const{backgroundColorClasses:i,backgroundColorStyles:s}=rn(ge(t,"color"));return xe(()=>{const r=Ya.filterProps(t),a=!!(t.title||n.title);return m(Ya,J(r,{color:t.bgColor,class:["v-picker",{"v-picker--landscape":t.landscape,"v-picker--with-actions":!!n.actions},t.class],style:t.style}),{default:()=>{var o;return[!t.hideHeader&&m("div",{key:"header",class:[i.value],style:[s.value]},[a&&m(B3,{key:"picker-title"},{default:()=>{var l;return[((l=n.title)==null?void 0:l.call(n))??t.title]}}),n.header&&m("div",{class:"v-picker__header"},[n.header()])]),m("div",{class:"v-picker__body"},[(o=n.default)==null?void 0:o.call(n)]),n.actions&&m(dt,{defaults:{VBtn:{slim:!0,variant:"text"}}},{default:()=>[m("div",{class:"v-picker__actions"},[n.actions()])]})]}})}),{}}}),j3=te({header:{type:String,default:"$vuetify.datePicker.header"},...O3(),...L3({weeksInMonth:"static"}),...tn(N3(),["modelValue"]),...tn(F3(),["modelValue"]),...DC({title:"$vuetify.datePicker.title"}),modelValue:null},"VDatePicker"),O1=_e()({name:"VDatePicker",props:j3(),emits:{"update:modelValue":t=>!0,"update:month":t=>!0,"update:year":t=>!0,"update:viewMode":t=>!0},setup(t,e){let{emit:n,slots:i}=e;const s=Fr(),{t:r}=gn(),a=ze(t,"modelValue",void 0,w=>bn(w),w=>t.multiple?w:w[0]),o=ze(t,"viewMode"),l=O(()=>{var P;const w=s.date((P=a.value)==null?void 0:P[0]);return w&&s.isValid(w)?w:s.date()}),u=G(Number(t.month??s.getMonth(s.startOfMonth(l.value)))),d=G(Number(t.year??s.getYear(s.startOfYear(s.setMonth(l.value,u.value))))),c=Ve(!1),f=O(()=>t.multiple&&a.value.length>1?r("$vuetify.datePicker.itemsSelected",a.value.length):a.value[0]&&s.isValid(a.value[0])?s.format(s.date(a.value[0]),"normalDateWithWeekday"):r(t.header)),h=O(()=>{let w=s.date();return w=s.setDate(w,1),w=s.setMonth(w,u.value),w=s.setYear(w,d.value),s.format(w,"monthAndYear")}),p=O(()=>`date-picker-header${c.value?"-reverse":""}-transition`),g=O(()=>{const w=s.date(t.min);return t.min&&s.isValid(w)?w:null}),v=O(()=>{const w=s.date(t.max);return t.max&&s.isValid(w)?w:null}),_=O(()=>{if(t.disabled)return!0;const w=[];if(o.value!=="month")w.push("prev","next");else{let P=s.date();if(P=s.setYear(P,d.value),P=s.setMonth(P,u.value),g.value){const C=s.addDays(s.startOfMonth(P),-1);s.isAfter(g.value,C)&&w.push("prev")}if(v.value){const C=s.addDays(s.endOfMonth(P),1);s.isAfter(C,v.value)&&w.push("next")}}return w});function b(){u.value<11?u.value++:(d.value++,u.value=0,S(d.value)),T(u.value)}function x(){u.value>0?u.value--:(d.value--,u.value=11,S(d.value)),T(u.value)}function k(){o.value="month"}function I(){o.value=o.value==="months"?"month":"months"}function E(){o.value=o.value==="year"?"month":"year"}function T(w){o.value==="months"&&I(),n("update:month",w)}function S(w){o.value==="year"&&E(),n("update:year",w)}return we(a,(w,P)=>{const C=bn(P),D=bn(w);if(!D.length)return;const A=s.date(C[C.length-1]),N=s.date(D[D.length-1]),B=s.getMonth(N),z=s.getYear(N);B!==u.value&&(u.value=B,T(u.value)),z!==d.value&&(d.value=z,S(d.value)),c.value=s.isBefore(A,N)}),xe(()=>{const w=ng.filterProps(t),P=E1.filterProps(t),C=I1.filterProps(t),D=D1.filterProps(t),A=tn(A1.filterProps(t),["modelValue"]),N=tn(R1.filterProps(t),["modelValue"]),B={header:f.value,transition:p.value};return m(ng,J(w,{class:["v-date-picker",`v-date-picker--${o.value}`,{"v-date-picker--show-week":t.showWeek},t.class],style:t.style}),{title:()=>{var z;return((z=i.title)==null?void 0:z.call(i))??m("div",{class:"v-date-picker__title"},[r(t.title)])},header:()=>i.header?m(dt,{defaults:{VDatePickerHeader:{...B}}},{default:()=>{var z;return[(z=i.header)==null?void 0:z.call(i,B)]}}):m(I1,J({key:"header"},C,B,{onClick:o.value!=="month"?k:void 0}),{...i,default:void 0}),default:()=>m(Ee,null,[m(E1,J(P,{disabled:_.value,text:h.value,"onClick:next":b,"onClick:prev":x,"onClick:month":I,"onClick:year":E}),null),m(qm,{hideOnLeave:!0},{default:()=>[o.value==="months"?m(A1,J({key:"date-picker-months"},A,{modelValue:u.value,"onUpdate:modelValue":[z=>u.value=z,T],min:g.value,max:v.value,year:d.value}),null):o.value==="year"?m(R1,J({key:"date-picker-years"},N,{modelValue:d.value,"onUpdate:modelValue":[z=>d.value=z,S],min:g.value,max:v.value}),null):m(D1,J({key:"date-picker-month"},D,{modelValue:a.value,"onUpdate:modelValue":z=>a.value=z,month:u.value,"onUpdate:month":[z=>u.value=z,T],year:d.value,"onUpdate:year":[z=>d.value=z,S],min:g.value,max:v.value}),null)]})]),actions:i.actions})}),{}}}),Kme=te({actionText:String,bgColor:String,color:String,icon:Ge,image:String,justify:{type:String,default:"center"},headline:String,title:String,text:String,textWidth:{type:[Number,String],default:500},href:String,to:String,...Be(),...fi(),...Za({size:void 0}),...Nt()},"VEmptyState"),Qme=_e()({name:"VEmptyState",props:Kme(),emits:{"click:action":t=>!0},setup(t,e){let{emit:n,slots:i}=e;const{themeClasses:s}=Kt(t),{backgroundColorClasses:r,backgroundColorStyles:a}=rn(ge(t,"bgColor")),{dimensionStyles:o}=mi(t),{displayClasses:l}=Sr();function u(d){n("click:action",d)}return xe(()=>{var v,_,b;const d=!!(i.actions||t.actionText),c=!!(i.headline||t.headline),f=!!(i.title||t.title),h=!!(i.text||t.text),p=!!(i.media||t.image||t.icon),g=t.size||(t.image?200:96);return m("div",{class:["v-empty-state",{[`v-empty-state--${t.justify}`]:!0},s.value,r.value,l.value,t.class],style:[a.value,o.value,t.style]},[p&&m("div",{key:"media",class:"v-empty-state__media"},[i.media?m(dt,{key:"media-defaults",defaults:{VImg:{src:t.image,height:g},VIcon:{size:g,icon:t.icon}}},{default:()=>[i.media()]}):m(Ee,null,[t.image?m(Vo,{key:"image",src:t.image,height:g},null):t.icon?m(Bt,{key:"icon",color:t.color,size:g,icon:t.icon},null):void 0])]),c&&m("div",{key:"headline",class:"v-empty-state__headline"},[((v=i.headline)==null?void 0:v.call(i))??t.headline]),f&&m("div",{key:"title",class:"v-empty-state__title"},[((_=i.title)==null?void 0:_.call(i))??t.title]),h&&m("div",{key:"text",class:"v-empty-state__text",style:{maxWidth:Le(t.textWidth)}},[((b=i.text)==null?void 0:b.call(i))??t.text]),i.default&&m("div",{key:"content",class:"v-empty-state__content"},[i.default()]),d&&m("div",{key:"actions",class:"v-empty-state__actions"},[m(dt,{defaults:{VBtn:{class:"v-empty-state__action-btn",color:t.color??"surface-variant",text:t.actionText}}},{default:()=>{var x;return[((x=i.actions)==null?void 0:x.call(i,{props:{onClick:u}}))??m(pt,{onClick:u},null)]}})])])}),{}}}),ig=Symbol.for("vuetify:v-expansion-panel"),$3=te({...Be(),...lC()},"VExpansionPanelText"),M1=_e()({name:"VExpansionPanelText",props:$3(),setup(t,e){let{slots:n}=e;const i=gt(ig);if(!i)throw new Error("[Vuetify] v-expansion-panel-text needs to be placed inside v-expansion-panel");const{hasContent:s,onAfterLeave:r}=uC(t,i.isSelected);return xe(()=>m(cw,{onAfterLeave:r},{default:()=>{var a;return[In(m("div",{class:["v-expansion-panel-text",t.class],style:t.style},[n.default&&s.value&&m("div",{class:"v-expansion-panel-text__wrapper"},[(a=n.default)==null?void 0:a.call(n)])]),[[va,i.isSelected.value]])]}})),{}}}),U3=te({color:String,expandIcon:{type:Ge,default:"$expand"},collapseIcon:{type:Ge,default:"$collapse"},hideActions:Boolean,focusable:Boolean,static:Boolean,ripple:{type:[Boolean,Object],default:!1},readonly:Boolean,...Be(),...fi()},"VExpansionPanelTitle"),V1=_e()({name:"VExpansionPanelTitle",directives:{Ripple:Go},props:U3(),setup(t,e){let{slots:n}=e;const i=gt(ig);if(!i)throw new Error("[Vuetify] v-expansion-panel-title needs to be placed inside v-expansion-panel");const{backgroundColorClasses:s,backgroundColorStyles:r}=rn(t,"color"),{dimensionStyles:a}=mi(t),o=O(()=>({collapseIcon:t.collapseIcon,disabled:i.disabled.value,expanded:i.isSelected.value,expandIcon:t.expandIcon,readonly:t.readonly})),l=O(()=>i.isSelected.value?t.collapseIcon:t.expandIcon);return xe(()=>{var u;return In(m("button",{class:["v-expansion-panel-title",{"v-expansion-panel-title--active":i.isSelected.value,"v-expansion-panel-title--focusable":t.focusable,"v-expansion-panel-title--static":t.static},s.value,t.class],style:[r.value,a.value,t.style],type:"button",tabindex:i.disabled.value?-1:void 0,disabled:i.disabled.value,"aria-expanded":i.isSelected.value,onClick:t.readonly?void 0:i.toggle},[m("span",{class:"v-expansion-panel-title__overlay"},null),(u=n.default)==null?void 0:u.call(n,o.value),!t.hideActions&&m(dt,{defaults:{VIcon:{icon:l.value}}},{default:()=>{var d;return[m("span",{class:"v-expansion-panel-title__icon"},[((d=n.actions)==null?void 0:d.call(n,o.value))??m(Bt,null,null)])]}})]),[[nr("ripple"),t.ripple]])}),{}}}),AC=te({title:String,text:String,bgColor:String,...Pi(),...jc(),...Rn(),..._t(),...U3(),...$3()},"VExpansionPanel"),L1=_e()({name:"VExpansionPanel",props:AC(),emits:{"group:selected":t=>!0},setup(t,e){let{slots:n}=e;const i=$c(t,ig),{backgroundColorClasses:s,backgroundColorStyles:r}=rn(t,"bgColor"),{elevationClasses:a}=Wi(t),{roundedClasses:o}=qn(t),l=O(()=>(i==null?void 0:i.disabled.value)||t.disabled),u=O(()=>i.group.items.value.reduce((f,h,p)=>(i.group.selected.value.includes(h.id)&&f.push(p),f),[])),d=O(()=>{const f=i.group.items.value.findIndex(h=>h.id===i.id);return!i.isSelected.value&&u.value.some(h=>h-f===1)}),c=O(()=>{const f=i.group.items.value.findIndex(h=>h.id===i.id);return!i.isSelected.value&&u.value.some(h=>h-f===-1)});return Jt(ig,i),xe(()=>{const f=!!(n.text||t.text),h=!!(n.title||t.title),p=V1.filterProps(t),g=M1.filterProps(t);return m(t.tag,{class:["v-expansion-panel",{"v-expansion-panel--active":i.isSelected.value,"v-expansion-panel--before-active":d.value,"v-expansion-panel--after-active":c.value,"v-expansion-panel--disabled":l.value},o.value,s.value,t.class],style:[r.value,t.style]},{default:()=>[m("div",{class:["v-expansion-panel__shadow",...a.value]},null),m(dt,{defaults:{VExpansionPanelTitle:{...p},VExpansionPanelText:{...g}}},{default:()=>{var v;return[h&&m(V1,{key:"title"},{default:()=>[n.title?n.title():t.title]}),f&&m(M1,{key:"text"},{default:()=>[n.text?n.text():t.text]}),(v=n.default)==null?void 0:v.call(n)]}})]})}),{groupItem:i}}}),Jme=["default","accordion","inset","popout"],H3=te({flat:Boolean,...Bc(),...wP(AC(),["bgColor","collapseIcon","color","eager","elevation","expandIcon","focusable","hideActions","readonly","ripple","rounded","tile","static"]),...Nt(),...Be(),..._t(),variant:{type:String,default:"default",validator:t=>Jme.includes(t)}},"VExpansionPanels"),N1=_e()({name:"VExpansionPanels",props:H3(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const{next:i,prev:s}=au(t,ig),{themeClasses:r}=Kt(t),a=O(()=>t.variant&&`v-expansion-panels--variant-${t.variant}`);return Dn({VExpansionPanel:{bgColor:ge(t,"bgColor"),collapseIcon:ge(t,"collapseIcon"),color:ge(t,"color"),eager:ge(t,"eager"),elevation:ge(t,"elevation"),expandIcon:ge(t,"expandIcon"),focusable:ge(t,"focusable"),hideActions:ge(t,"hideActions"),readonly:ge(t,"readonly"),ripple:ge(t,"ripple"),rounded:ge(t,"rounded"),static:ge(t,"static")}}),xe(()=>m(t.tag,{class:["v-expansion-panels",{"v-expansion-panels--flat":t.flat,"v-expansion-panels--tile":t.tile},r.value,a.value,t.class],style:t.style},{default:()=>{var o;return[(o=n.default)==null?void 0:o.call(n,{prev:s,next:i})]}})),{next:i,prev:s}}}),Zme=te({app:Boolean,appear:Boolean,extended:Boolean,layout:Boolean,offset:Boolean,modelValue:{type:Boolean,default:!0},...tn(mw({active:!0}),["location"]),...Vc(),...Yo(),..._a({transition:"fab-transition"})},"VFab"),ege=_e()({name:"VFab",props:Zme(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const i=ze(t,"modelValue"),s=Ve(56),r=G(),{resizeRef:a}=da(c=>{c.length&&(s.value=c[0].target.clientHeight)}),o=O(()=>t.app||t.absolute),l=O(()=>{var c;return o.value?((c=t.location)==null?void 0:c.split(" ").shift())??"bottom":!1}),u=O(()=>{var c;return o.value?((c=t.location)==null?void 0:c.split(" ")[1])??"end":!1});Ns(()=>t.app,()=>{const c=Lc({id:t.name,order:O(()=>parseInt(t.order,10)),position:l,layoutSize:O(()=>t.layout?s.value+24:0),elementSize:O(()=>s.value+24),active:O(()=>t.app&&i.value),absolute:ge(t,"absolute")});yn(()=>{r.value=c.layoutItemStyles.value})});const d=G();return xe(()=>{const c=pt.filterProps(t);return m("div",{ref:d,class:["v-fab",{"v-fab--absolute":t.absolute,"v-fab--app":!!t.app,"v-fab--extended":t.extended,"v-fab--offset":t.offset,[`v-fab--${l.value}`]:o.value,[`v-fab--${u.value}`]:o.value},t.class],style:[t.app?{...r.value}:{height:"inherit",width:void 0},t.style]},[m("div",{class:"v-fab__container"},[m(Ts,{appear:t.appear,transition:t.transition},{default:()=>[In(m(pt,J({ref:a},c,{active:void 0,location:void 0}),n),[[va,t.active]])]})])])}),{}}}),tge=te({chips:Boolean,counter:Boolean,counterSizeString:{type:String,default:"$vuetify.fileInput.counterSize"},counterString:{type:String,default:"$vuetify.fileInput.counter"},hideInput:Boolean,multiple:Boolean,showSize:{type:[Boolean,Number,String],default:!1,validator:t=>typeof t=="boolean"||[1e3,1024].includes(Number(t))},...qo({prependIcon:"$file"}),modelValue:{type:[Array,Object],default:t=>t.multiple?[]:null,validator:t=>bn(t).every(e=>e!=null&&typeof e=="object")},...np({clearable:!0})},"VFileInput"),nge=_e()({name:"VFileInput",inheritAttrs:!1,props:tge(),emits:{"click:control":t=>!0,"mousedown:control":t=>!0,"update:focused":t=>!0,"update:modelValue":t=>!0},setup(t,e){let{attrs:n,emit:i,slots:s}=e;const{t:r}=gn(),a=ze(t,"modelValue",t.modelValue,w=>bn(w),w=>!t.multiple&&Array.isArray(w)?w[0]:w),{isFocused:o,focus:l,blur:u}=eo(t),d=O(()=>typeof t.showSize!="boolean"?t.showSize:void 0),c=O(()=>(a.value??[]).reduce((w,P)=>{let{size:C=0}=P;return w+C},0)),f=O(()=>jS(c.value,d.value)),h=O(()=>(a.value??[]).map(w=>{const{name:P="",size:C=0}=w;return t.showSize?`${P} (${jS(C,d.value)})`:P})),p=O(()=>{var P;const w=((P=a.value)==null?void 0:P.length)??0;return t.showSize?r(t.counterSizeString,w,f.value):r(t.counterString,w)}),g=G(),v=G(),_=G(),b=O(()=>o.value||t.active),x=O(()=>["plain","underlined"].includes(t.variant));function k(){var w;_.value!==document.activeElement&&((w=_.value)==null||w.focus()),o.value||l()}function I(w){var P;(P=_.value)==null||P.click()}function E(w){i("mousedown:control",w)}function T(w){var P;(P=_.value)==null||P.click(),i("click:control",w)}function S(w){w.stopPropagation(),k(),vt(()=>{a.value=[],SP(t["onClick:clear"],w)})}return we(a,w=>{(!Array.isArray(w)||!w.length)&&_.value&&(_.value.value="")}),xe(()=>{const w=!!(s.counter||t.counter),P=!!(w||s.details),[C,D]=zo(n),{modelValue:A,...N}=rs.filterProps(t),B=cC(t);return m(rs,J({ref:g,modelValue:a.value,"onUpdate:modelValue":z=>a.value=z,class:["v-file-input",{"v-file-input--chips":!!t.chips,"v-file-input--hide":t.hideInput,"v-input--plain-underlined":x.value},t.class],style:t.style,"onClick:prepend":I},C,N,{centerAffix:!x.value,focused:o.value}),{...s,default:z=>{let{id:q,isDisabled:W,isDirty:K,isReadonly:Y,isValid:Z}=z;return m(Yh,J({ref:v,"prepend-icon":t.prependIcon,onMousedown:E,onClick:T,"onClick:clear":S,"onClick:prependInner":t["onClick:prependInner"],"onClick:appendInner":t["onClick:appendInner"]},B,{id:q.value,active:b.value||K.value,dirty:K.value||t.dirty,disabled:W.value,focused:o.value,error:Z.value===!1}),{...s,default:ee=>{var he;let{props:{class:le,...de}}=ee;return m(Ee,null,[m("input",J({ref:_,type:"file",readonly:Y.value,disabled:W.value,multiple:t.multiple,name:t.name,onClick:re=>{re.stopPropagation(),Y.value&&re.preventDefault(),k()},onChange:re=>{if(!re.target)return;const U=re.target;a.value=[...U.files??[]]},onFocus:k,onBlur:u},de,D),null),m("div",{class:le},[!!((he=a.value)!=null&&he.length)&&!t.hideInput&&(s.selection?s.selection({fileNames:h.value,totalBytes:c.value,totalBytesReadable:f.value}):t.chips?h.value.map(re=>m(Hc,{key:re,size:"small",text:re},null)):h.value.join(", "))])])}})},details:P?z=>{var q,W;return m(Ee,null,[(q=s.details)==null?void 0:q.call(s,z),w&&m(Ee,null,[m("span",null,null),m(vw,{active:!!((W=a.value)!=null&&W.length),value:p.value,disabled:t.disabled},s.counter)])])}:void 0})}),Pr({},g,v,_)}}),ige=te({app:Boolean,color:String,height:{type:[Number,String],default:"auto"},...ir(),...Be(),...Pi(),...Vc(),...Rn(),..._t({tag:"footer"}),...Nt()},"VFooter"),sge=_e()({name:"VFooter",props:ige(),setup(t,e){let{slots:n}=e;const i=G(),{themeClasses:s}=Kt(t),{backgroundColorClasses:r,backgroundColorStyles:a}=rn(ge(t,"color")),{borderClasses:o}=Tr(t),{elevationClasses:l}=Wi(t),{roundedClasses:u}=qn(t),d=Ve(32),{resizeRef:c}=da(h=>{h.length&&(d.value=h[0].target.clientHeight)}),f=O(()=>t.height==="auto"?d.value:parseInt(t.height,10));return Ns(()=>t.app,()=>{const h=Lc({id:t.name,order:O(()=>parseInt(t.order,10)),position:O(()=>"bottom"),layoutSize:f,elementSize:O(()=>t.height==="auto"?void 0:f.value),active:O(()=>t.app),absolute:ge(t,"absolute")});yn(()=>{i.value=h.layoutItemStyles.value})}),xe(()=>m(t.tag,{ref:c,class:["v-footer",s.value,r.value,o.value,l.value,u.value,t.class],style:[a.value,t.app?i.value:{height:Le(t.height)},t.style]},n)),{}}}),rge=te({...Be(),...Ide()},"VForm"),age=_e()({name:"VForm",props:rge(),emits:{"update:modelValue":t=>!0,submit:t=>!0},setup(t,e){let{slots:n,emit:i}=e;const s=Dde(t),r=G();function a(l){l.preventDefault(),s.reset()}function o(l){const u=l,d=s.validate();u.then=d.then.bind(d),u.catch=d.catch.bind(d),u.finally=d.finally.bind(d),i("submit",u),u.defaultPrevented||d.then(c=>{var h;let{valid:f}=c;f&&((h=r.value)==null||h.submit())}),u.preventDefault()}return xe(()=>{var l;return m("form",{ref:r,class:["v-form",t.class],style:t.style,novalidate:!0,onReset:a,onSubmit:o},[(l=n.default)==null?void 0:l.call(n,s)])}),Pr(s,r)}}),oge=te({disabled:Boolean,modelValue:{type:Boolean,default:null},...pw()},"VHover"),lge=_e()({name:"VHover",props:oge(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const i=ze(t,"modelValue"),{runOpenDelay:s,runCloseDelay:r}=oC(t,a=>!t.disabled&&(i.value=a));return()=>{var a;return(a=n.default)==null?void 0:a.call(n,{isHovering:i.value,props:{onMouseenter:s,onMouseleave:r}})}}}),uge=te({color:String,direction:{type:String,default:"vertical",validator:t=>["vertical","horizontal"].includes(t)},side:{type:String,default:"end",validator:t=>["start","end","both"].includes(t)},mode:{type:String,default:"intersect",validator:t=>["intersect","manual"].includes(t)},margin:[Number,String],loadMoreText:{type:String,default:"$vuetify.infiniteScroll.loadMore"},emptyText:{type:String,default:"$vuetify.infiniteScroll.empty"},...fi(),..._t()},"VInfiniteScroll"),jO=xr({name:"VInfiniteScrollIntersect",props:{side:{type:String,required:!0},rootMargin:String},emits:{intersect:(t,e)=>!0},setup(t,e){let{emit:n}=e;const{intersectionRef:i,isIntersecting:s}=dw();return we(s,async r=>{n("intersect",t.side,r)}),xe(()=>m("div",{class:"v-infinite-scroll-intersect",style:{"--v-infinite-margin-size":t.rootMargin},ref:i},[Pe(" ")])),{}}}),cge=_e()({name:"VInfiniteScroll",props:uge(),emits:{load:t=>!0},setup(t,e){let{slots:n,emit:i}=e;const s=G(),r=Ve("ok"),a=Ve("ok"),o=O(()=>Le(t.margin)),l=Ve(!1);function u(I){if(!s.value)return;const E=t.direction==="vertical"?"scrollTop":"scrollLeft";s.value[E]=I}function d(){if(!s.value)return 0;const I=t.direction==="vertical"?"scrollTop":"scrollLeft";return s.value[I]}function c(){if(!s.value)return 0;const I=t.direction==="vertical"?"scrollHeight":"scrollWidth";return s.value[I]}function f(){if(!s.value)return 0;const I=t.direction==="vertical"?"clientHeight":"clientWidth";return s.value[I]}Tt(()=>{s.value&&(t.side==="start"?u(c()):t.side==="both"&&u(c()/2-f()/2))});function h(I,E){I==="start"?r.value=E:I==="end"&&(a.value=E)}function p(I){return I==="start"?r.value:a.value}let g=0;function v(I,E){l.value=E,l.value&&_(I)}function _(I){if(t.mode!=="manual"&&!l.value)return;const E=p(I);if(!s.value||["empty","loading"].includes(E))return;g=c(),h(I,"loading");function T(S){h(I,S),vt(()=>{S==="empty"||S==="error"||(S==="ok"&&I==="start"&&u(c()-g+d()),t.mode!=="manual"&&vt(()=>{window.requestAnimationFrame(()=>{window.requestAnimationFrame(()=>{window.requestAnimationFrame(()=>{_(I)})})})}))})}i("load",{side:I,done:T})}const{t:b}=gn();function x(I,E){var w,P,C,D,A;if(t.side!==I&&t.side!=="both")return;const T=()=>_(I),S={side:I,props:{onClick:T,color:t.color}};return E==="error"?(w=n.error)==null?void 0:w.call(n,S):E==="empty"?((P=n.empty)==null?void 0:P.call(n,S))??m("div",null,[b(t.emptyText)]):t.mode==="manual"?E==="loading"?((C=n.loading)==null?void 0:C.call(n,S))??m($l,{indeterminate:!0,color:t.color},null):((D=n["load-more"])==null?void 0:D.call(n,S))??m(pt,{variant:"outlined",color:t.color,onClick:T},{default:()=>[b(t.loadMoreText)]}):((A=n.loading)==null?void 0:A.call(n,S))??m($l,{indeterminate:!0,color:t.color},null)}const{dimensionStyles:k}=mi(t);xe(()=>{const I=t.tag,E=t.side==="start"||t.side==="both",T=t.side==="end"||t.side==="both",S=t.mode==="intersect";return m(I,{ref:s,class:["v-infinite-scroll",`v-infinite-scroll--${t.direction}`,{"v-infinite-scroll--start":E,"v-infinite-scroll--end":T}],style:k.value},{default:()=>{var w;return[m("div",{class:"v-infinite-scroll__side"},[x("start",r.value)]),E&&S&&m(jO,{key:"start",side:"start",onIntersect:v,rootMargin:o.value},null),(w=n.default)==null?void 0:w.call(n),T&&S&&m(jO,{key:"end",side:"end",onIntersect:v,rootMargin:o.value},null),m("div",{class:"v-infinite-scroll__side"},[x("end",a.value)])]}})})}}),z3=Symbol.for("vuetify:v-item-group"),dge=te({...Be(),...Bc({selectedClass:"v-item--selected"}),..._t(),...Nt()},"VItemGroup"),hge=_e()({name:"VItemGroup",props:dge(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const{themeClasses:i}=Kt(t),{isSelected:s,select:r,next:a,prev:o,selected:l}=au(t,z3);return()=>m(t.tag,{class:["v-item-group",i.value,t.class],style:t.style},{default:()=>{var u;return[(u=n.default)==null?void 0:u.call(n,{isSelected:s,select:r,next:a,prev:o,selected:l.value})]}})}}),fge=_e()({name:"VItem",props:jc(),emits:{"group:selected":t=>!0},setup(t,e){let{slots:n}=e;const{isSelected:i,select:s,toggle:r,selectedClass:a,value:o,disabled:l}=$c(t,z3);return()=>{var u;return(u=n.default)==null?void 0:u.call(n,{isSelected:i.value,selectedClass:a.value,select:s,toggle:r,value:o.value,disabled:l.value})}}}),mge=Ja("v-kbd","kbd"),gge=te({...Be(),...fi(),...Jj()},"VLayout"),pge=_e()({name:"VLayout",props:gge(),setup(t,e){let{slots:n}=e;const{layoutClasses:i,layoutStyles:s,getLayoutItem:r,items:a,layoutRef:o}=e$(t),{dimensionStyles:l}=mi(t);return xe(()=>{var u;return m("div",{ref:o,class:[i.value,t.class],style:[l.value,s.value,t.style]},[(u=n.default)==null?void 0:u.call(n)])}),{getLayoutItem:r,items:a}}}),vge=te({position:{type:String,required:!0},size:{type:[Number,String],default:300},modelValue:Boolean,...Be(),...Vc()},"VLayoutItem"),_ge=_e()({name:"VLayoutItem",props:vge(),setup(t,e){let{slots:n}=e;const{layoutItemStyles:i}=Lc({id:t.name,order:O(()=>parseInt(t.order,10)),position:ge(t,"position"),elementSize:ge(t,"size"),layoutSize:ge(t,"size"),active:ge(t,"modelValue"),absolute:ge(t,"absolute")});return()=>{var s;return m("div",{class:["v-layout-item",t.class],style:[i.value,t.style]},[(s=n.default)==null?void 0:s.call(n)])}}}),yge=te({modelValue:Boolean,options:{type:Object,default:()=>({root:void 0,rootMargin:void 0,threshold:void 0})},...Be(),...fi(),..._t(),..._a({transition:"fade-transition"})},"VLazy"),bge=_e()({name:"VLazy",directives:{intersect:Kg},props:yge(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const{dimensionStyles:i}=mi(t),s=ze(t,"modelValue");function r(a){s.value||(s.value=a)}return xe(()=>In(m(t.tag,{class:["v-lazy",t.class],style:[i.value,t.style]},{default:()=>[s.value&&m(Ts,{transition:t.transition,appear:!0},{default:()=>{var a;return[(a=n.default)==null?void 0:a.call(n)]}})]}),[[nr("intersect"),{handler:r,options:t.options},null]])),{}}}),wge=te({locale:String,fallbackLocale:String,messages:Object,rtl:{type:Boolean,default:void 0},...Be()},"VLocaleProvider"),xge=_e()({name:"VLocaleProvider",props:wge(),setup(t,e){let{slots:n}=e;const{rtlClasses:i}=Zne(t);return xe(()=>{var s;return m("div",{class:["v-locale-provider",i.value,t.class],style:t.style},[(s=n.default)==null?void 0:s.call(n)])}),{}}}),Sge=te({scrollable:Boolean,...Be(),...fi(),..._t({tag:"main"})},"VMain"),kge=_e()({name:"VMain",props:Sge(),setup(t,e){let{slots:n}=e;const{dimensionStyles:i}=mi(t),{mainStyles:s}=Zj(),{ssrBootStyles:r}=Nc();return xe(()=>m(t.tag,{class:["v-main",{"v-main--scrollable":t.scrollable},t.class],style:[s.value,r.value,i.value,t.style]},{default:()=>{var a,o;return[t.scrollable?m("div",{class:"v-main__scroller"},[(a=n.default)==null?void 0:a.call(n)]):(o=n.default)==null?void 0:o.call(n)]}})),{}}});function Tge(t){let{rootEl:e,isSticky:n,layoutItemStyles:i}=t;const s=Ve(!1),r=Ve(0),a=O(()=>{const u=typeof s.value=="boolean"?"top":s.value;return[n.value?{top:"auto",bottom:"auto",height:void 0}:void 0,s.value?{[u]:Le(r.value)}:{top:i.value.top}]});Tt(()=>{we(n,u=>{u?window.addEventListener("scroll",l,{passive:!0}):window.removeEventListener("scroll",l)},{immediate:!0})}),Mi(()=>{window.removeEventListener("scroll",l)});let o=0;function l(){const u=o>window.scrollY?"up":"down",d=e.value.getBoundingClientRect(),c=parseFloat(i.value.top??0),f=window.scrollY-Math.max(0,r.value-c),h=d.height+Math.max(r.value,c)-window.scrollY-window.innerHeight,p=parseFloat(getComputedStyle(e.value).getPropertyValue("--v-body-scroll-y"))||0;d.height<window.innerHeight-c?(s.value="top",r.value=c):u==="up"&&s.value==="bottom"||u==="down"&&s.value==="top"?(r.value=window.scrollY+d.top-p,s.value=!0):u==="down"&&h<=0?(r.value=0,s.value="bottom"):u==="up"&&f<=0&&(p?s.value!=="top"&&(r.value=-f+p+c,s.value="top"):(r.value=d.top+f,s.value="top")),o=window.scrollY}return{isStuck:s,stickyStyles:a}}const Pge=100,Cge=20;function $O(t){return(t<0?-1:1)*Math.sqrt(Math.abs(t))*1.41421356237}function UO(t){if(t.length<2)return 0;if(t.length===2)return t[1].t===t[0].t?0:(t[1].d-t[0].d)/(t[1].t-t[0].t);let e=0;for(let n=t.length-1;n>0;n--){if(t[n].t===t[n-1].t)continue;const i=$O(e),s=(t[n].d-t[n-1].d)/(t[n].t-t[n-1].t);e+=(s-i)*Math.abs(s),n===t.length-1&&(e*=.5)}return $O(e)*1e3}function Ege(){const t={};function e(s){Array.from(s.changedTouches).forEach(r=>{(t[r.identifier]??(t[r.identifier]=new hne(Cge))).push([s.timeStamp,r])})}function n(s){Array.from(s.changedTouches).forEach(r=>{delete t[r.identifier]})}function i(s){var u;const r=(u=t[s])==null?void 0:u.values().reverse();if(!r)throw new Error(`No samples for touch id ${s}`);const a=r[0],o=[],l=[];for(const d of r){if(a[0]-d[0]>Pge)break;o.push({t:d[0],d:d[1].clientX}),l.push({t:d[0],d:d[1].clientY})}return{x:UO(o),y:UO(l),get direction(){const{x:d,y:c}=this,[f,h]=[Math.abs(d),Math.abs(c)];return f>h&&d>=0?"right":f>h&&d<=0?"left":h>f&&c>=0?"down":h>f&&c<=0?"up":Ige()}}}return{addMovement:e,endTouch:n,getVelocity:i}}function Ige(){throw new Error}function Dge(t){let{el:e,isActive:n,isTemporary:i,width:s,touchless:r,position:a}=t;Tt(()=>{window.addEventListener("touchstart",b,{passive:!0}),window.addEventListener("touchmove",x,{passive:!1}),window.addEventListener("touchend",k,{passive:!0})}),Mi(()=>{window.removeEventListener("touchstart",b),window.removeEventListener("touchmove",x),window.removeEventListener("touchend",k)});const o=O(()=>["left","right"].includes(a.value)),{addMovement:l,endTouch:u,getVelocity:d}=Ege();let c=!1;const f=Ve(!1),h=Ve(0),p=Ve(0);let g;function v(E,T){return(a.value==="left"?E:a.value==="right"?document.documentElement.clientWidth-E:a.value==="top"?E:a.value==="bottom"?document.documentElement.clientHeight-E:id())-(T?s.value:0)}function _(E){let T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const S=a.value==="left"?(E-p.value)/s.value:a.value==="right"?(document.documentElement.clientWidth-E-p.value)/s.value:a.value==="top"?(E-p.value)/s.value:a.value==="bottom"?(document.documentElement.clientHeight-E-p.value)/s.value:id();return T?Math.max(0,Math.min(1,S)):S}function b(E){if(r.value)return;const T=E.changedTouches[0].clientX,S=E.changedTouches[0].clientY,w=25,P=a.value==="left"?T<w:a.value==="right"?T>document.documentElement.clientWidth-w:a.value==="top"?S<w:a.value==="bottom"?S>document.documentElement.clientHeight-w:id(),C=n.value&&(a.value==="left"?T<s.value:a.value==="right"?T>document.documentElement.clientWidth-s.value:a.value==="top"?S<s.value:a.value==="bottom"?S>document.documentElement.clientHeight-s.value:id());(P||C||n.value&&i.value)&&(g=[T,S],p.value=v(o.value?T:S,n.value),h.value=_(o.value?T:S),c=p.value>-20&&p.value<80,u(E),l(E))}function x(E){const T=E.changedTouches[0].clientX,S=E.changedTouches[0].clientY;if(c){if(!E.cancelable){c=!1;return}const P=Math.abs(T-g[0]),C=Math.abs(S-g[1]);(o.value?P>C&&P>3:C>P&&C>3)?(f.value=!0,c=!1):(o.value?C:P)>3&&(c=!1)}if(!f.value)return;E.preventDefault(),l(E);const w=_(o.value?T:S,!1);h.value=Math.max(0,Math.min(1,w)),w>1?p.value=v(o.value?T:S,!0):w<0&&(p.value=v(o.value?T:S,!1))}function k(E){if(c=!1,!f.value)return;l(E),f.value=!1;const T=d(E.changedTouches[0].identifier),S=Math.abs(T.x),w=Math.abs(T.y);(o.value?S>w&&S>400:w>S&&w>3)?n.value=T.direction===({left:"right",right:"left",top:"down",bottom:"up"}[a.value]||id()):n.value=h.value>.5}const I=O(()=>f.value?{transform:a.value==="left"?`translateX(calc(-100% + ${h.value*s.value}px))`:a.value==="right"?`translateX(calc(100% - ${h.value*s.value}px))`:a.value==="top"?`translateY(calc(-100% + ${h.value*s.value}px))`:a.value==="bottom"?`translateY(calc(100% - ${h.value*s.value}px))`:id(),transition:"none"}:void 0);return Ns(f,()=>{var S,w;const E=((S=e.value)==null?void 0:S.style.transform)??null,T=((w=e.value)==null?void 0:w.style.transition)??null;yn(()=>{var P,C,D,A;(C=e.value)==null||C.style.setProperty("transform",((P=I.value)==null?void 0:P.transform)||"none"),(A=e.value)==null||A.style.setProperty("transition",((D=I.value)==null?void 0:D.transition)||null)}),as(()=>{var P,C;(P=e.value)==null||P.style.setProperty("transform",E),(C=e.value)==null||C.style.setProperty("transition",T)})}),{isDragging:f,dragProgress:h,dragStyles:I}}function id(){throw new Error}const Age=["start","end","left","right","top","bottom"],Rge=te({color:String,disableResizeWatcher:Boolean,disableRouteWatcher:Boolean,expandOnHover:Boolean,floating:Boolean,modelValue:{type:Boolean,default:null},permanent:Boolean,rail:{type:Boolean,default:null},railWidth:{type:[Number,String],default:56},scrim:{type:[Boolean,String],default:!0},image:String,temporary:Boolean,persistent:Boolean,touchless:Boolean,width:{type:[Number,String],default:256},location:{type:String,default:"start",validator:t=>Age.includes(t)},sticky:Boolean,...ir(),...Be(),...pw(),...Mc({mobile:null}),...Pi(),...Vc(),...Rn(),..._t({tag:"nav"}),...Nt()},"VNavigationDrawer"),Oge=_e()({name:"VNavigationDrawer",props:Rge(),emits:{"update:modelValue":t=>!0,"update:rail":t=>!0},setup(t,e){let{attrs:n,emit:i,slots:s}=e;const{isRtl:r}=Ti(),{themeClasses:a}=Kt(t),{borderClasses:o}=Tr(t),{backgroundColorClasses:l,backgroundColorStyles:u}=rn(ge(t,"color")),{elevationClasses:d}=Wi(t),{displayClasses:c,mobile:f}=Sr(t),{roundedClasses:h}=qn(t),p=L4(),g=ze(t,"modelValue",null,Z=>!!Z),{ssrBootStyles:v}=Nc(),{scopeId:_}=zc(),b=G(),x=Ve(!1),{runOpenDelay:k,runCloseDelay:I}=oC(t,Z=>{x.value=Z}),E=O(()=>t.rail&&t.expandOnHover&&x.value?Number(t.width):Number(t.rail?t.railWidth:t.width)),T=O(()=>US(t.location,r.value)),S=O(()=>t.persistent),w=O(()=>!t.permanent&&(f.value||t.temporary)),P=O(()=>t.sticky&&!w.value&&T.value!=="bottom");Ns(()=>t.expandOnHover&&t.rail!=null,()=>{we(x,Z=>i("update:rail",!Z))}),Ns(()=>!t.disableResizeWatcher,()=>{we(w,Z=>!t.permanent&&vt(()=>g.value=!Z))}),Ns(()=>!t.disableRouteWatcher&&!!p,()=>{we(p.currentRoute,()=>w.value&&(g.value=!1))}),we(()=>t.permanent,Z=>{Z&&(g.value=!0)}),t.modelValue==null&&!w.value&&(g.value=t.permanent||!f.value);const{isDragging:C,dragProgress:D}=Dge({el:b,isActive:g,isTemporary:w,width:E,touchless:ge(t,"touchless"),position:T}),A=O(()=>{const Z=w.value?0:t.rail&&t.expandOnHover?Number(t.railWidth):E.value;return C.value?Z*D.value:Z}),N=O(()=>["top","bottom"].includes(t.location)?0:E.value),{layoutItemStyles:B,layoutItemScrimStyles:z}=Lc({id:t.name,order:O(()=>parseInt(t.order,10)),position:T,layoutSize:A,elementSize:N,active:O(()=>g.value||C.value),disableTransitions:O(()=>C.value),absolute:O(()=>t.absolute||P.value&&typeof q.value!="string")}),{isStuck:q,stickyStyles:W}=Tge({rootEl:b,isSticky:P,layoutItemStyles:B}),K=rn(O(()=>typeof t.scrim=="string"?t.scrim:null)),Y=O(()=>({...C.value?{opacity:D.value*.2,transition:"none"}:void 0,...z.value}));return Dn({VList:{bgColor:"transparent"}}),xe(()=>{const Z=s.image||t.image;return m(Ee,null,[m(t.tag,J({ref:b,onMouseenter:k,onMouseleave:I,class:["v-navigation-drawer",`v-navigation-drawer--${T.value}`,{"v-navigation-drawer--expand-on-hover":t.expandOnHover,"v-navigation-drawer--floating":t.floating,"v-navigation-drawer--is-hovering":x.value,"v-navigation-drawer--rail":t.rail,"v-navigation-drawer--temporary":w.value,"v-navigation-drawer--persistent":S.value,"v-navigation-drawer--active":g.value,"v-navigation-drawer--sticky":P.value},a.value,l.value,o.value,c.value,d.value,h.value,t.class],style:[u.value,B.value,v.value,W.value,t.style,["top","bottom"].includes(T.value)?{height:"auto"}:{}]},_,n),{default:()=>{var ee,le,de;return[Z&&m("div",{key:"image",class:"v-navigation-drawer__img"},[s.image?m(dt,{key:"image-defaults",disabled:!t.image,defaults:{VImg:{alt:"",cover:!0,height:"inherit",src:t.image}}},s.image):m(Vo,{key:"image-img",alt:"",cover:!0,height:"inherit",src:t.image},null)]),s.prepend&&m("div",{class:"v-navigation-drawer__prepend"},[(ee=s.prepend)==null?void 0:ee.call(s)]),m("div",{class:"v-navigation-drawer__content"},[(le=s.default)==null?void 0:le.call(s)]),s.append&&m("div",{class:"v-navigation-drawer__append"},[(de=s.append)==null?void 0:de.call(s)])]}}),m(Ol,{name:"fade-transition"},{default:()=>[w.value&&(C.value||g.value)&&!!t.scrim&&m("div",J({class:["v-navigation-drawer__scrim",K.backgroundColorClasses.value],style:[Y.value,K.backgroundColorStyles.value],onClick:()=>{S.value||(g.value=!1)}},_),null)]})])}),{isStuck:q}}}),Mge=xr({name:"VNoSsr",setup(t,e){let{slots:n}=e;const i=P5();return()=>{var s;return i.value&&((s=n.default)==null?void 0:s.call(n))}}}),Vge=te({autofocus:Boolean,divider:String,focusAll:Boolean,label:{type:String,default:"$vuetify.input.otp"},length:{type:[Number,String],default:6},modelValue:{type:[Number,String],default:void 0},placeholder:String,type:{type:String,default:"number"},...fi(),...Wh(),...Yg(np({variant:"outlined"}),["baseColor","bgColor","class","color","disabled","error","loading","rounded","style","theme","variant"])},"VOtpInput"),Lge=_e()({name:"VOtpInput",props:Vge(),emits:{finish:t=>!0,"update:focused":t=>!0,"update:modelValue":t=>!0},setup(t,e){let{attrs:n,emit:i,slots:s}=e;const{dimensionStyles:r}=mi(t),{isFocused:a,focus:o,blur:l}=eo(t),u=ze(t,"modelValue","",S=>S==null?[]:String(S).split(""),S=>S.join("")),{t:d}=gn(),c=O(()=>Number(t.length)),f=O(()=>Array(c.value).fill(0)),h=G(-1),p=G(),g=G([]),v=O(()=>g.value[h.value]);function _(){if(T(v.value.value)){v.value.value="";return}const S=u.value.slice(),w=v.value.value;S[h.value]=w;let P=null;h.value>u.value.length?P=u.value.length+1:h.value+1!==c.value&&(P="next"),u.value=S,P&&zu(p.value,P)}function b(S){const w=u.value.slice(),P=h.value;let C=null;["ArrowLeft","ArrowRight","Backspace","Delete"].includes(S.key)&&(S.preventDefault(),S.key==="ArrowLeft"?C="prev":S.key==="ArrowRight"?C="next":["Backspace","Delete"].includes(S.key)&&(w[h.value]="",u.value=w,h.value>0&&S.key==="Backspace"?C="prev":requestAnimationFrame(()=>{var D;(D=g.value[P])==null||D.select()})),requestAnimationFrame(()=>{C!=null&&zu(p.value,C)}))}function x(S,w){var C,D;w.preventDefault(),w.stopPropagation();const P=((C=w==null?void 0:w.clipboardData)==null?void 0:C.getData("Text").slice(0,c.value))??"";T(P)||(u.value=P.split(""),(D=g.value)==null||D[S].blur())}function k(){u.value=[]}function I(S,w){o(),h.value=w}function E(){l(),h.value=-1}function T(S){return t.type==="number"&&/[^0-9]/g.test(S)}return Dn({VField:{color:O(()=>t.color),bgColor:O(()=>t.color),baseColor:O(()=>t.baseColor),disabled:O(()=>t.disabled),error:O(()=>t.error),variant:O(()=>t.variant)}},{scoped:!0}),we(u,S=>{S.length===c.value&&i("finish",S.join(""))},{deep:!0}),we(h,S=>{S<0||vt(()=>{var w;(w=g.value[S])==null||w.select()})}),xe(()=>{var P;const[S,w]=zo(n);return m("div",J({class:["v-otp-input",{"v-otp-input--divided":!!t.divider},t.class],style:[t.style]},S),[m("div",{ref:p,class:"v-otp-input__content",style:[r.value]},[f.value.map((C,D)=>m(Ee,null,[t.divider&&D!==0&&m("span",{class:"v-otp-input__divider"},[t.divider]),m(Yh,{focused:a.value&&t.focusAll||h.value===D,key:D},{...s,loader:void 0,default:()=>m("input",{ref:A=>g.value[D]=A,"aria-label":d(t.label,D+1),autofocus:D===0&&t.autofocus,autocomplete:"one-time-code",class:["v-otp-input__field"],disabled:t.disabled,inputmode:t.type==="number"?"numeric":"text",min:t.type==="number"?0:void 0,maxlength:"1",placeholder:t.placeholder,type:t.type==="number"?"text":t.type,value:u.value[D],onInput:_,onFocus:A=>I(A,D),onBlur:E,onKeydown:b,onPaste:A=>x(D,A)},null)})])),m("input",J({class:"v-otp-input-input",type:"hidden"},w,{value:u.value.join("")}),null),m(ha,{contained:!0,"content-class":"v-otp-input__loader","model-value":!!t.loading,persistent:!0},{default:()=>{var C;return[((C=s.loader)==null?void 0:C.call(s))??m($l,{color:typeof t.loading=="boolean"?void 0:t.loading,indeterminate:!0,size:"24",width:"2"},null)]}}),(P=s.default)==null?void 0:P.call(s)])])}),{blur:()=>{var S;(S=g.value)==null||S.some(w=>w.blur())},focus:()=>{var S;(S=g.value)==null||S[0].focus()},reset:k,isFocused:a}}});function Nge(t){return Math.floor(Math.abs(t))*Math.sign(t)}const Fge=te({scale:{type:[Number,String],default:.5},...Be()},"VParallax"),Bge=_e()({name:"VParallax",props:Fge(),setup(t,e){let{slots:n}=e;const{intersectionRef:i,isIntersecting:s}=dw(),{resizeRef:r,contentRect:a}=da(),{height:o}=Sr(),l=G();yn(()=>{var h;i.value=r.value=(h=l.value)==null?void 0:h.$el});let u;we(s,h=>{h?(u=EP(i.value),u=u===document.scrollingElement?document:u,u.addEventListener("scroll",f,{passive:!0}),f()):u.removeEventListener("scroll",f)}),Mi(()=>{u==null||u.removeEventListener("scroll",f)}),we(o,f),we(()=>{var h;return(h=a.value)==null?void 0:h.height},f);const d=O(()=>1-$n(+t.scale));let c=-1;function f(){s.value&&(cancelAnimationFrame(c),c=requestAnimationFrame(()=>{var I;const h=((I=l.value)==null?void 0:I.$el).querySelector(".v-img__img");if(!h)return;const p=u instanceof Document?document.documentElement.clientHeight:u.clientHeight,g=u instanceof Document?window.scrollY:u.scrollTop,v=i.value.getBoundingClientRect().top+g,_=a.value.height,b=v+(_-p)/2,x=Nge((g-b)*d.value),k=Math.max(1,(d.value*(p-_)+_)/_);h.style.setProperty("transform",`translateY(${x}px) scale(${k})`)}))}return xe(()=>m(Vo,{class:["v-parallax",{"v-parallax--active":s.value},t.class],style:t.style,ref:l,cover:!0,onLoadstart:f,onLoad:f},n)),{}}}),jge=te({...gw({falseIcon:"$radioOff",trueIcon:"$radioOn"})},"VRadio"),$ge=_e()({name:"VRadio",props:jge(),setup(t,e){let{slots:n}=e;return xe(()=>{const i=Ul.filterProps(t);return m(Ul,J(i,{class:["v-radio",t.class],style:t.style,type:"radio"}),n)}),{}}}),Uge=te({height:{type:[Number,String],default:"auto"},...qo(),...tn(tC(),["multiple"]),trueIcon:{type:Ge,default:"$radioOn"},falseIcon:{type:Ge,default:"$radioOff"},type:{type:String,default:"radio"}},"VRadioGroup"),Hge=_e()({name:"VRadioGroup",inheritAttrs:!1,props:Uge(),emits:{"update:modelValue":t=>!0},setup(t,e){let{attrs:n,slots:i}=e;const s=zi(),r=O(()=>t.id||`radio-group-${s}`),a=ze(t,"modelValue");return xe(()=>{const[o,l]=zo(n),u=rs.filterProps(t),d=Ul.filterProps(t),c=i.label?i.label({label:t.label,props:{for:r.value}}):t.label;return m(rs,J({class:["v-radio-group",t.class],style:t.style},o,u,{modelValue:a.value,"onUpdate:modelValue":f=>a.value=f,id:r.value}),{...i,default:f=>{let{id:h,messagesId:p,isDisabled:g,isReadonly:v}=f;return m(Ee,null,[c&&m(zh,{id:h.value},{default:()=>[c]}),m(G4,J(d,{id:h.value,"aria-describedby":p.value,defaultsTarget:"VRadio",trueIcon:t.trueIcon,falseIcon:t.falseIcon,type:t.type,disabled:g.value,readonly:v.value,"aria-labelledby":c?h.value:void 0,multiple:!1},l,{modelValue:a.value,"onUpdate:modelValue":_=>a.value=_}),i)])}})}),{}}}),zge=te({...Wh(),...qo(),...q5(),strict:Boolean,modelValue:{type:Array,default:()=>[0,0]}},"VRangeSlider"),Wge=_e()({name:"VRangeSlider",props:zge(),emits:{"update:focused":t=>!0,"update:modelValue":t=>!0,end:t=>!0,start:t=>!0},setup(t,e){let{slots:n,emit:i}=e;const s=G(),r=G(),a=G(),{rtlClasses:o}=Ti();function l(P){if(!s.value||!r.value)return;const C=x1(P,s.value.$el,t.direction),D=x1(P,r.value.$el,t.direction),A=Math.abs(C),N=Math.abs(D);return A<N||A===N&&C<0?s.value.$el:r.value.$el}const u=X5(t),d=ze(t,"modelValue",void 0,P=>P!=null&&P.length?P.map(C=>u.roundValue(C)):[0,0]),{activeThumbRef:c,hasLabels:f,max:h,min:p,mousePressed:g,onSliderMousedown:v,onSliderTouchstart:_,position:b,trackContainerRef:x,readonly:k}=K5({props:t,steps:u,onSliderStart:()=>{i("start",d.value)},onSliderEnd:P=>{var A;let{value:C}=P;const D=c.value===((A=s.value)==null?void 0:A.$el)?[C,d.value[1]]:[d.value[0],C];!t.strict&&D[0]<D[1]&&(d.value=D),i("end",d.value)},onSliderMove:P=>{var N,B,z,q;let{value:C}=P;const[D,A]=d.value;!t.strict&&D===A&&D!==p.value&&(c.value=C>D?(N=r.value)==null?void 0:N.$el:(B=s.value)==null?void 0:B.$el,(z=c.value)==null||z.focus()),c.value===((q=s.value)==null?void 0:q.$el)?d.value=[Math.min(C,A),A]:d.value=[D,Math.max(D,C)]},getActiveThumb:l}),{isFocused:I,focus:E,blur:T}=eo(t),S=O(()=>b(d.value[0])),w=O(()=>b(d.value[1]));return xe(()=>{const P=rs.filterProps(t),C=!!(t.label||n.label||n.prepend);return m(rs,J({class:["v-slider","v-range-slider",{"v-slider--has-labels":!!n["tick-label"]||f.value,"v-slider--focused":I.value,"v-slider--pressed":g.value,"v-slider--disabled":t.disabled},o.value,t.class],style:t.style,ref:a},P,{focused:I.value}),{...n,prepend:C?D=>{var A,N;return m(Ee,null,[((A=n.label)==null?void 0:A.call(n,D))??(t.label?m(zh,{class:"v-slider__label",text:t.label},null):void 0),(N=n.prepend)==null?void 0:N.call(n,D)])}:void 0,default:D=>{var B,z;let{id:A,messagesId:N}=D;return m("div",{class:"v-slider__container",onMousedown:k.value?void 0:v,onTouchstartPassive:k.value?void 0:_},[m("input",{id:`${A.value}_start`,name:t.name||A.value,disabled:!!t.disabled,readonly:!!t.readonly,tabindex:"-1",value:d.value[0]},null),m("input",{id:`${A.value}_stop`,name:t.name||A.value,disabled:!!t.disabled,readonly:!!t.readonly,tabindex:"-1",value:d.value[1]},null),m(Q5,{ref:x,start:S.value,stop:w.value},{"tick-label":n["tick-label"]}),m(S1,{ref:s,"aria-describedby":N.value,focused:I&&c.value===((B=s.value)==null?void 0:B.$el),modelValue:d.value[0],"onUpdate:modelValue":q=>d.value=[q,d.value[1]],onFocus:q=>{var W,K,Y,Z;E(),c.value=(W=s.value)==null?void 0:W.$el,h.value!==p.value&&d.value[0]===d.value[1]&&d.value[1]===p.value&&q.relatedTarget!==((K=r.value)==null?void 0:K.$el)&&((Y=s.value)==null||Y.$el.blur(),(Z=r.value)==null||Z.$el.focus())},onBlur:()=>{T(),c.value=void 0},min:p.value,max:d.value[1],position:S.value,ripple:t.ripple},{"thumb-label":n["thumb-label"]}),m(S1,{ref:r,"aria-describedby":N.value,focused:I&&c.value===((z=r.value)==null?void 0:z.$el),modelValue:d.value[1],"onUpdate:modelValue":q=>d.value=[d.value[0],q],onFocus:q=>{var W,K,Y,Z;E(),c.value=(W=r.value)==null?void 0:W.$el,h.value!==p.value&&d.value[0]===d.value[1]&&d.value[0]===h.value&&q.relatedTarget!==((K=s.value)==null?void 0:K.$el)&&((Y=r.value)==null||Y.$el.blur(),(Z=s.value)==null||Z.$el.focus())},onBlur:()=>{T(),c.value=void 0},min:d.value[0],max:h.value,position:w.value,ripple:t.ripple},{"thumb-label":n["thumb-label"]})])}})}),{}}}),Yge=te({name:String,itemAriaLabel:{type:String,default:"$vuetify.rating.ariaLabel.item"},activeColor:String,color:String,clearable:Boolean,disabled:Boolean,emptyIcon:{type:Ge,default:"$ratingEmpty"},fullIcon:{type:Ge,default:"$ratingFull"},halfIncrements:Boolean,hover:Boolean,length:{type:[Number,String],default:5},readonly:Boolean,modelValue:{type:[Number,String],default:0},itemLabels:Array,itemLabelPosition:{type:String,default:"top",validator:t=>["top","bottom"].includes(t)},ripple:Boolean,...Be(),...Ci(),...Za(),..._t(),...Nt()},"VRating"),Gge=_e()({name:"VRating",props:Yge(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const{t:i}=gn(),{themeClasses:s}=Kt(t),r=ze(t,"modelValue"),a=O(()=>$n(parseFloat(r.value),0,+t.length)),o=O(()=>mr(Number(t.length),1)),l=O(()=>o.value.flatMap(g=>t.halfIncrements?[g-.5,g]:[g])),u=Ve(-1),d=O(()=>l.value.map(g=>{const v=t.hover&&u.value>-1,_=a.value>=g,b=u.value>=g,k=(v?b:_)?t.fullIcon:t.emptyIcon,I=t.activeColor??t.color,E=_||b?I:t.color;return{isFilled:_,isHovered:b,icon:k,color:E}})),c=O(()=>[0,...l.value].map(g=>{function v(){u.value=g}function _(){u.value=-1}function b(){t.disabled||t.readonly||(r.value=a.value===g&&t.clearable?0:g)}return{onMouseenter:t.hover?v:void 0,onMouseleave:t.hover?_:void 0,onClick:b}})),f=O(()=>t.name??`v-rating-${zi()}`);function h(g){var S,w;let{value:v,index:_,showStar:b=!0}=g;const{onMouseenter:x,onMouseleave:k,onClick:I}=c.value[_+1],E=`${f.value}-${String(v).replace(".","-")}`,T={color:(S=d.value[_])==null?void 0:S.color,density:t.density,disabled:t.disabled,icon:(w=d.value[_])==null?void 0:w.icon,ripple:t.ripple,size:t.size,variant:"plain"};return m(Ee,null,[m("label",{for:E,class:{"v-rating__item--half":t.halfIncrements&&v%1>0,"v-rating__item--full":t.halfIncrements&&v%1===0},onMouseenter:x,onMouseleave:k,onClick:I},[m("span",{class:"v-rating__hidden"},[i(t.itemAriaLabel,v,t.length)]),b?n.item?n.item({...d.value[_],props:T,value:v,index:_,rating:a.value}):m(pt,J({"aria-label":i(t.itemAriaLabel,v,t.length)},T),null):void 0]),m("input",{class:"v-rating__hidden",name:f.value,id:E,type:"radio",value:v,checked:a.value===v,tabindex:-1,readonly:t.readonly,disabled:t.disabled},null)])}function p(g){return n["item-label"]?n["item-label"](g):g.label?m("span",null,[g.label]):m("span",null,[Pe(" ")])}return xe(()=>{var v;const g=!!((v=t.itemLabels)!=null&&v.length)||n["item-label"];return m(t.tag,{class:["v-rating",{"v-rating--hover":t.hover,"v-rating--readonly":t.readonly},s.value,t.class],style:t.style},{default:()=>[m(h,{value:0,index:-1,showStar:!1},null),o.value.map((_,b)=>{var x,k;return m("div",{class:"v-rating__wrapper"},[g&&t.itemLabelPosition==="top"?p({value:_,index:b,label:(x=t.itemLabels)==null?void 0:x[b]}):void 0,m("div",{class:"v-rating__item"},[t.halfIncrements?m(Ee,null,[m(h,{value:_-.5,index:b*2},null),m(h,{value:_,index:b*2+1},null)]):m(h,{value:_,index:b},null)]),g&&t.itemLabelPosition==="bottom"?p({value:_,index:b,label:(k=t.itemLabels)==null?void 0:k[b]}):void 0])})]})}),{}}}),qge={actions:"button@2",article:"heading, paragraph",avatar:"avatar",button:"button",card:"image, heading","card-avatar":"image, list-item-avatar",chip:"chip","date-picker":"list-item, heading, divider, date-picker-options, date-picker-days, actions","date-picker-options":"text, avatar@2","date-picker-days":"avatar@28",divider:"divider",heading:"heading",image:"image","list-item":"text","list-item-avatar":"avatar, text","list-item-two-line":"sentences","list-item-avatar-two-line":"avatar, sentences","list-item-three-line":"paragraph","list-item-avatar-three-line":"avatar, paragraph",ossein:"ossein",paragraph:"text@3",sentences:"text@2",subtitle:"text",table:"table-heading, table-thead, table-tbody, table-tfoot","table-heading":"chip, text","table-thead":"heading@6","table-tbody":"table-row-divider@6","table-row-divider":"table-row, divider","table-row":"text@6","table-tfoot":"text@2, avatar@2",text:"text"};function Xge(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return m("div",{class:["v-skeleton-loader__bone",`v-skeleton-loader__${t}`]},[e])}function HO(t){const[e,n]=t.split("@");return Array.from({length:n}).map(()=>Dw(e))}function Dw(t){let e=[];if(!t)return e;const n=qge[t];if(t!==n){if(t.includes(","))return zO(t);if(t.includes("@"))return HO(t);n.includes(",")?e=zO(n):n.includes("@")?e=HO(n):n&&e.push(Dw(n))}return[Xge(t,e)]}function zO(t){return t.replace(/\s/g,"").split(",").map(Dw)}const Kge=te({boilerplate:Boolean,color:String,loading:Boolean,loadingText:{type:String,default:"$vuetify.loading"},type:{type:[String,Array],default:"ossein"},...fi(),...Pi(),...Nt()},"VSkeletonLoader"),Qge=_e()({name:"VSkeletonLoader",props:Kge(),setup(t,e){let{slots:n}=e;const{backgroundColorClasses:i,backgroundColorStyles:s}=rn(ge(t,"color")),{dimensionStyles:r}=mi(t),{elevationClasses:a}=Wi(t),{themeClasses:o}=Kt(t),{t:l}=gn(),u=O(()=>Dw(bn(t.type).join(",")));return xe(()=>{var f;const d=!n.default||t.loading,c=t.boilerplate||!d?{}:{ariaLive:"polite",ariaLabel:l(t.loadingText),role:"alert"};return m("div",J({class:["v-skeleton-loader",{"v-skeleton-loader--boilerplate":t.boilerplate},o.value,i.value,a.value],style:[s.value,d?r.value:{}]},c),[d?u.value:(f=n.default)==null?void 0:f.call(n)])}),{}}}),Jge=_e()({name:"VSlideGroupItem",props:jc(),emits:{"group:selected":t=>!0},setup(t,e){let{slots:n}=e;const i=$c(t,n5);return()=>{var s;return(s=n.default)==null?void 0:s.call(n,{isSelected:i.isSelected.value,select:i.select,toggle:i.toggle,selectedClass:i.selectedClass.value})}}});function Zge(t){const e=Ve(t());let n=-1;function i(){clearInterval(n)}function s(){i(),vt(()=>e.value=t())}function r(a){const o=a?getComputedStyle(a):{transitionDuration:.2},l=parseFloat(o.transitionDuration)*1e3||200;if(i(),e.value<=0)return;const u=performance.now();n=window.setInterval(()=>{const d=performance.now()-u+l;e.value=Math.max(t()-d,0),e.value<=0&&i()},l)}return as(i),{clear:i,time:e,start:r,reset:s}}const W3=te({multiLine:Boolean,text:String,timer:[Boolean,String],timeout:{type:[Number,String],default:5e3},vertical:Boolean,...Yo({location:"bottom"}),...$h(),...Rn(),...Br(),...Nt(),...tn(tp({transition:"v-snackbar-transition"}),["persistent","noClickAnimation","scrim","scrollStrategy"])},"VSnackbar"),F1=_e()({name:"VSnackbar",props:W3(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const i=ze(t,"modelValue"),{positionClasses:s}=Uh(t),{scopeId:r}=zc(),{themeClasses:a}=Kt(t),{colorClasses:o,colorStyles:l,variantClasses:u}=Fc(t),{roundedClasses:d}=qn(t),c=Zge(()=>Number(t.timeout)),f=G(),h=G(),p=Ve(!1),g=Ve(0),v=G(),_=gt($m,void 0);Ns(()=>!!_,()=>{const C=Zj();yn(()=>{v.value=C.mainStyles.value})}),we(i,x),we(()=>t.timeout,x),Tt(()=>{i.value&&x()});let b=-1;function x(){c.reset(),window.clearTimeout(b);const C=Number(t.timeout);if(!i.value||C===-1)return;const D=bP(h.value);c.start(D),b=window.setTimeout(()=>{i.value=!1},C)}function k(){c.reset(),window.clearTimeout(b)}function I(){p.value=!0,k()}function E(){p.value=!1,x()}function T(C){g.value=C.touches[0].clientY}function S(C){Math.abs(g.value-C.changedTouches[0].clientY)>50&&(i.value=!1)}function w(){p.value&&E()}const P=O(()=>t.location.split(" ").reduce((C,D)=>(C[`v-snackbar--${D}`]=!0,C),{}));return xe(()=>{const C=ha.filterProps(t),D=!!(n.default||n.text||t.text);return m(ha,J({ref:f,class:["v-snackbar",{"v-snackbar--active":i.value,"v-snackbar--multi-line":t.multiLine&&!t.vertical,"v-snackbar--timer":!!t.timer,"v-snackbar--vertical":t.vertical},P.value,s.value,t.class],style:[v.value,t.style]},C,{modelValue:i.value,"onUpdate:modelValue":A=>i.value=A,contentProps:J({class:["v-snackbar__wrapper",a.value,o.value,d.value,u.value],style:[l.value],onPointerenter:I,onPointerleave:E},C.contentProps),persistent:!0,noClickAnimation:!0,scrim:!1,scrollStrategy:"none",_disableGlobalStack:!0,onTouchstartPassive:T,onTouchend:S,onAfterLeave:w},r),{default:()=>{var A,N;return[ru(!1,"v-snackbar"),t.timer&&!p.value&&m("div",{key:"timer",class:"v-snackbar__timer"},[m(hw,{ref:h,color:typeof t.timer=="string"?t.timer:"info",max:t.timeout,"model-value":c.time.value},null)]),D&&m("div",{key:"content",class:"v-snackbar__content",role:"status","aria-live":"polite"},[((A=n.text)==null?void 0:A.call(n))??t.text,(N=n.default)==null?void 0:N.call(n)]),n.actions&&m(dt,{defaults:{VBtn:{variant:"text",ripple:!1,slim:!0}}},{default:()=>[m("div",{class:"v-snackbar__actions"},[n.actions({isActive:i})])]})]},activator:n.activator})}),Pr({},f)}}),Y3=te({autoDraw:Boolean,autoDrawDuration:[Number,String],autoDrawEasing:{type:String,default:"ease"},color:String,gradient:{type:Array,default:()=>[]},gradientDirection:{type:String,validator:t=>["top","bottom","left","right"].includes(t),default:"top"},height:{type:[String,Number],default:75},labels:{type:Array,default:()=>[]},labelSize:{type:[Number,String],default:7},lineWidth:{type:[String,Number],default:4},id:String,itemValue:{type:String,default:"value"},modelValue:{type:Array,default:()=>[]},min:[String,Number],max:[String,Number],padding:{type:[String,Number],default:8},showLabels:Boolean,smooth:Boolean,width:{type:[Number,String],default:300}},"Line"),G3=te({autoLineWidth:Boolean,...Y3()},"VBarline"),WO=_e()({name:"VBarline",props:G3(),setup(t,e){let{slots:n}=e;const i=zi(),s=O(()=>t.id||`barline-${i}`),r=O(()=>Number(t.autoDrawDuration)||500),a=O(()=>!!(t.showLabels||t.labels.length>0||n!=null&&n.label)),o=O(()=>parseFloat(t.lineWidth)||4),l=O(()=>Math.max(t.modelValue.length*o.value,Number(t.width))),u=O(()=>({minX:0,maxX:l.value,minY:0,maxY:parseInt(t.height,10)})),d=O(()=>t.modelValue.map(g=>si(g,t.itemValue,g)));function c(g,v){const{minX:_,maxX:b,minY:x,maxY:k}=v,I=g.length;let E=t.max!=null?Number(t.max):Math.max(...g),T=t.min!=null?Number(t.min):Math.min(...g);T>0&&t.min==null&&(T=0),E<0&&t.max==null&&(E=0);const S=b/I,w=(k-x)/(E-T||1),P=k-Math.abs(T*w);return g.map((C,D)=>{const A=Math.abs(w*C);return{x:_+D*S,y:P-A+ +(C<0)*A,height:A,value:C}})}const f=O(()=>{const g=[],v=c(d.value,u.value),_=v.length;for(let b=0;g.length<_;b++){const x=v[b];let k=t.labels[b];k||(k=typeof x=="object"?x.value:x),g.push({x:x.x,value:String(k)})}return g}),h=O(()=>c(d.value,u.value)),p=O(()=>(Math.abs(h.value[0].x-h.value[1].x)-o.value)/2);xe(()=>{const g=t.gradient.slice().length?t.gradient.slice().reverse():[""];return m("svg",{display:"block"},[m("defs",null,[m("linearGradient",{id:s.value,gradientUnits:"userSpaceOnUse",x1:t.gradientDirection==="left"?"100%":"0",y1:t.gradientDirection==="top"?"100%":"0",x2:t.gradientDirection==="right"?"100%":"0",y2:t.gradientDirection==="bottom"?"100%":"0"},[g.map((v,_)=>m("stop",{offset:_/Math.max(g.length-1,1),"stop-color":v||"currentColor"},null))])]),m("clipPath",{id:`${s.value}-clip`},[h.value.map(v=>m("rect",{x:v.x+p.value,y:v.y,width:o.value,height:v.height,rx:typeof t.smooth=="number"?t.smooth:t.smooth?2:0,ry:typeof t.smooth=="number"?t.smooth:t.smooth?2:0},[t.autoDraw&&m(Ee,null,[m("animate",{attributeName:"y",from:v.y+v.height,to:v.y,dur:`${r.value}ms`,fill:"freeze"},null),m("animate",{attributeName:"height",from:"0",to:v.height,dur:`${r.value}ms`,fill:"freeze"},null)])]))]),a.value&&m("g",{key:"labels",style:{textAnchor:"middle",dominantBaseline:"mathematical",fill:"currentColor"}},[f.value.map((v,_)=>{var b;return m("text",{x:v.x+p.value+o.value/2,y:parseInt(t.height,10)-2+(parseInt(t.labelSize,10)||7*.75),"font-size":Number(t.labelSize)||7},[((b=n.label)==null?void 0:b.call(n,{index:_,value:v.value}))??v.value])})]),m("g",{"clip-path":`url(#${s.value}-clip)`,fill:`url(#${s.value})`},[m("rect",{x:0,y:0,width:Math.max(t.modelValue.length*o.value,Number(t.width)),height:t.height},null)])])})}});function epe(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:75;if(t.length===0)return"";const s=t.shift(),r=t[t.length-1];return(n?`M${s.x} ${i-s.x+2} L${s.x} ${s.y}`:`M${s.x} ${s.y}`)+t.map((a,o)=>{const l=t[o+1],u=t[o-1]||s,d=l&&tpe(l,a,u);if(!l||d)return`L${a.x} ${a.y}`;const c=Math.min(YO(u,a),YO(l,a)),h=c/2<e?c/2:e,p=GO(u,a,h),g=GO(l,a,h);return`L${p.x} ${p.y}S${a.x} ${a.y} ${g.x} ${g.y}`}).join("")+(n?`L${r.x} ${i-s.x+2} Z`:"")}function Kp(t){return parseInt(t,10)}function tpe(t,e,n){return Kp(t.x+n.x)===Kp(2*e.x)&&Kp(t.y+n.y)===Kp(2*e.y)}function YO(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function GO(t,e,n){const i={x:t.x-e.x,y:t.y-e.y},s=Math.sqrt(i.x*i.x+i.y*i.y),r={x:i.x/s,y:i.y/s};return{x:e.x+r.x*n,y:e.y+r.y*n}}const q3=te({fill:Boolean,...Y3()},"VTrendline"),qO=_e()({name:"VTrendline",props:q3(),setup(t,e){let{slots:n}=e;const i=zi(),s=O(()=>t.id||`trendline-${i}`),r=O(()=>Number(t.autoDrawDuration)||(t.fill?500:2e3)),a=G(0),o=G(null);function l(v,_){const{minX:b,maxX:x,minY:k,maxY:I}=_,E=v.length,T=t.max!=null?Number(t.max):Math.max(...v),S=t.min!=null?Number(t.min):Math.min(...v),w=(x-b)/(E-1),P=(I-k)/(T-S||1);return v.map((C,D)=>({x:b+D*w,y:I-(C-S)*P,value:C}))}const u=O(()=>!!(t.showLabels||t.labels.length>0||n!=null&&n.label)),d=O(()=>parseFloat(t.lineWidth)||4),c=O(()=>Number(t.width)),f=O(()=>{const v=Number(t.padding);return{minX:v,maxX:c.value-v,minY:v,maxY:parseInt(t.height,10)-v}}),h=O(()=>t.modelValue.map(v=>si(v,t.itemValue,v))),p=O(()=>{const v=[],_=l(h.value,f.value),b=_.length;for(let x=0;v.length<b;x++){const k=_[x];let I=t.labels[x];I||(I=typeof k=="object"?k.value:k),v.push({x:k.x,value:String(I)})}return v});we(()=>t.modelValue,async()=>{if(await vt(),!t.autoDraw||!o.value)return;const v=o.value,_=v.getTotalLength();t.fill?(v.style.transformOrigin="bottom center",v.style.transition="none",v.style.transform="scaleY(0)",v.getBoundingClientRect(),v.style.transition=`transform ${r.value}ms ${t.autoDrawEasing}`,v.style.transform="scaleY(1)"):(v.style.strokeDasharray=`${_}`,v.style.strokeDashoffset=`${_}`,v.getBoundingClientRect(),v.style.transition=`stroke-dashoffset ${r.value}ms ${t.autoDrawEasing}`,v.style.strokeDashoffset="0"),a.value=_},{immediate:!0});function g(v){return epe(l(h.value,f.value),t.smooth?8:Number(t.smooth),v,parseInt(t.height,10))}xe(()=>{var _;const v=t.gradient.slice().length?t.gradient.slice().reverse():[""];return m("svg",{display:"block","stroke-width":parseFloat(t.lineWidth)??4},[m("defs",null,[m("linearGradient",{id:s.value,gradientUnits:"userSpaceOnUse",x1:t.gradientDirection==="left"?"100%":"0",y1:t.gradientDirection==="top"?"100%":"0",x2:t.gradientDirection==="right"?"100%":"0",y2:t.gradientDirection==="bottom"?"100%":"0"},[v.map((b,x)=>m("stop",{offset:x/Math.max(v.length-1,1),"stop-color":b||"currentColor"},null))])]),u.value&&m("g",{key:"labels",style:{textAnchor:"middle",dominantBaseline:"mathematical",fill:"currentColor"}},[p.value.map((b,x)=>{var k;return m("text",{x:b.x+d.value/2+d.value/2,y:parseInt(t.height,10)-4+(parseInt(t.labelSize,10)||7*.75),"font-size":Number(t.labelSize)||7},[((k=n.label)==null?void 0:k.call(n,{index:x,value:b.value}))??b.value])})]),m("path",{ref:o,d:g(t.fill),fill:t.fill?`url(#${s.value})`:"none",stroke:t.fill?"none":`url(#${s.value})`},null),t.fill&&m("path",{d:g(!1),fill:"none",stroke:t.color??((_=t.gradient)==null?void 0:_[0])},null)])})}}),npe=te({type:{type:String,default:"trend"},...G3(),...q3()},"VSparkline"),ipe=_e()({name:"VSparkline",props:npe(),setup(t,e){let{slots:n}=e;const{textColorClasses:i,textColorStyles:s}=Ui(ge(t,"color")),r=O(()=>!!(t.showLabels||t.labels.length>0||n!=null&&n.label)),a=O(()=>{let o=parseInt(t.height,10);return r.value&&(o+=parseInt(t.labelSize,10)*1.5),o});xe(()=>{const o=t.type==="trend"?qO:WO,l=t.type==="trend"?qO.filterProps(t):WO.filterProps(t);return m(o,J({key:t.type,class:i.value,style:s.value,viewBox:`0 0 ${t.width} ${parseInt(a.value,10)}`},l),n)})}}),spe=te({...Be(),...D5({offset:8,minWidth:0,openDelay:0,closeDelay:100,location:"top center",transition:"scale-transition"})},"VSpeedDial"),rpe=_e()({name:"VSpeedDial",props:spe(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const i=ze(t,"modelValue"),s=G(),r=O(()=>{var u;const[o,l="center"]=((u=t.location)==null?void 0:u.split(" "))??[];return`${o} ${l}`}),a=O(()=>({[`v-speed-dial__content--${r.value.replace(" ","-")}`]:!0}));return xe(()=>{const o=cc.filterProps(t);return m(cc,J(o,{modelValue:i.value,"onUpdate:modelValue":l=>i.value=l,class:t.class,style:t.style,contentClass:["v-speed-dial__content",a.value,t.contentClass],location:r.value,ref:s,transition:"fade-transition"}),{...n,default:l=>m(dt,{defaults:{VBtn:{size:"small"}}},{default:()=>[m(Ts,{appear:!0,group:!0,transition:t.transition},{default:()=>{var u;return[(u=n.default)==null?void 0:u.call(n,l)]}})]})})}),{}}}),RC=Symbol.for("vuetify:v-stepper"),OC=te({color:String,disabled:{type:[Boolean,String],default:!1},prevText:{type:String,default:"$vuetify.stepper.prev"},nextText:{type:String,default:"$vuetify.stepper.next"}},"VStepperActions"),sy=_e()({name:"VStepperActions",props:OC(),emits:{"click:prev":()=>!0,"click:next":()=>!0},setup(t,e){let{emit:n,slots:i}=e;const{t:s}=gn();function r(){n("click:prev")}function a(){n("click:next")}return xe(()=>{const o={onClick:r},l={onClick:a};return m("div",{class:"v-stepper-actions"},[m(dt,{defaults:{VBtn:{disabled:["prev",!0].includes(t.disabled),text:s(t.prevText),variant:"text"}}},{default:()=>{var u;return[((u=i.prev)==null?void 0:u.call(i,{props:o}))??m(pt,o,null)]}}),m(dt,{defaults:{VBtn:{color:t.color,disabled:["next",!0].includes(t.disabled),text:s(t.nextText),variant:"tonal"}}},{default:()=>{var u;return[((u=i.next)==null?void 0:u.call(i,{props:l}))??m(pt,l,null)]}})])}),{}}}),X3=Ja("v-stepper-header"),K3=te({color:String,title:String,subtitle:String,complete:Boolean,completeIcon:{type:Ge,default:"$complete"},editable:Boolean,editIcon:{type:Ge,default:"$edit"},error:Boolean,errorIcon:{type:Ge,default:"$error"},icon:Ge,ripple:{type:[Boolean,Object],default:!0},rules:{type:Array,default:()=>[]}},"StepperItem"),ape=te({...K3(),...jc()},"VStepperItem"),Q3=_e()({name:"VStepperItem",directives:{Ripple:Go},props:ape(),emits:{"group:selected":t=>!0},setup(t,e){let{slots:n}=e;const i=$c(t,RC,!0),s=O(()=>(i==null?void 0:i.value.value)??t.value),r=O(()=>t.rules.every(f=>f()===!0)),a=O(()=>!t.disabled&&t.editable),o=O(()=>!t.disabled&&t.editable),l=O(()=>t.error||!r.value),u=O(()=>t.complete||t.rules.length>0&&r.value),d=O(()=>l.value?t.errorIcon:u.value?t.completeIcon:i.isSelected.value&&t.editable?t.editIcon:t.icon),c=O(()=>({canEdit:o.value,hasError:l.value,hasCompleted:u.value,title:t.title,subtitle:t.subtitle,step:s.value,value:t.value}));return xe(()=>{var v,_,b;const f=(!i||i.isSelected.value||u.value||o.value)&&!l.value&&!t.disabled,h=!!(t.title!=null||n.title),p=!!(t.subtitle!=null||n.subtitle);function g(){i==null||i.toggle()}return In(m("button",{class:["v-stepper-item",{"v-stepper-item--complete":u.value,"v-stepper-item--disabled":t.disabled,"v-stepper-item--error":l.value},i==null?void 0:i.selectedClass.value],disabled:!t.editable,onClick:g},[a.value&&ru(!0,"v-stepper-item"),m($s,{key:"stepper-avatar",class:"v-stepper-item__avatar",color:f?t.color:void 0,size:24},{default:()=>{var x;return[((x=n.icon)==null?void 0:x.call(n,c.value))??(d.value?m(Bt,{icon:d.value},null):s.value)]}}),m("div",{class:"v-stepper-item__content"},[h&&m("div",{key:"title",class:"v-stepper-item__title"},[((v=n.title)==null?void 0:v.call(n,c.value))??t.title]),p&&m("div",{key:"subtitle",class:"v-stepper-item__subtitle"},[((_=n.subtitle)==null?void 0:_.call(n,c.value))??t.subtitle]),(b=n.default)==null?void 0:b.call(n,c.value)])]),[[nr("ripple"),t.ripple&&t.editable,null]])}),{}}}),ope=te({...tn(yw(),["continuous","nextIcon","prevIcon","showArrows","touch","mandatory"])},"VStepperWindow"),J3=_e()({name:"VStepperWindow",props:ope(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const i=gt(RC,null),s=ze(t,"modelValue"),r=O({get(){var a;return s.value!=null||!i?s.value:(a=i.items.value.find(o=>i.selected.value.includes(o.id)))==null?void 0:a.value},set(a){s.value=a}});return xe(()=>{const a=dc.filterProps(t);return m(dc,J({_as:"VStepperWindow"},a,{modelValue:r.value,"onUpdate:modelValue":o=>r.value=o,class:["v-stepper-window",t.class],style:t.style,mandatory:!1,touch:!1}),n)}),{}}}),lpe=te({...bw()},"VStepperWindowItem"),Z3=_e()({name:"VStepperWindowItem",props:lpe(),setup(t,e){let{slots:n}=e;return xe(()=>{const i=hc.filterProps(t);return m(hc,J({_as:"VStepperWindowItem"},i,{class:["v-stepper-window-item",t.class],style:t.style}),n)}),{}}}),e6=te({altLabels:Boolean,bgColor:String,completeIcon:Ge,editIcon:Ge,editable:Boolean,errorIcon:Ge,hideActions:Boolean,items:{type:Array,default:()=>[]},itemTitle:{type:String,default:"title"},itemValue:{type:String,default:"value"},nonLinear:Boolean,flat:Boolean,...Mc()},"Stepper"),upe=te({...e6(),...Bc({mandatory:"force",selectedClass:"v-stepper-item--selected"}),...ip(),...Yg(OC(),["prevText","nextText"])},"VStepper"),cpe=_e()({name:"VStepper",props:upe(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const{items:i,next:s,prev:r,selected:a}=au(t,RC),{displayClasses:o,mobile:l}=Sr(t),{completeIcon:u,editIcon:d,errorIcon:c,color:f,editable:h,prevText:p,nextText:g}=Kl(t),v=O(()=>t.items.map((x,k)=>{const I=si(x,t.itemTitle,x),E=si(x,t.itemValue,k+1);return{title:I,value:E,raw:x}})),_=O(()=>i.value.findIndex(x=>a.value.includes(x.id))),b=O(()=>t.disabled?t.disabled:_.value===0?"prev":_.value===i.value.length-1?"next":!1);return Dn({VStepperItem:{editable:h,errorIcon:c,completeIcon:u,editIcon:d,prevText:p,nextText:g},VStepperActions:{color:f,disabled:b,prevText:p,nextText:g}}),xe(()=>{const x=Ya.filterProps(t),k=!!(n.header||t.items.length),I=t.items.length>0,E=!t.hideActions&&!!(I||n.actions);return m(Ya,J(x,{color:t.bgColor,class:["v-stepper",{"v-stepper--alt-labels":t.altLabels,"v-stepper--flat":t.flat,"v-stepper--non-linear":t.nonLinear,"v-stepper--mobile":l.value},o.value,t.class],style:t.style}),{default:()=>{var T,S;return[k&&m(X3,{key:"stepper-header"},{default:()=>[v.value.map((w,P)=>{let{raw:C,...D}=w;return m(Ee,null,[!!P&&m(Qr,null,null),m(Q3,D,{default:n[`header-item.${D.value}`]??n.header,icon:n.icon,title:n.title,subtitle:n.subtitle})])})]}),I&&m(J3,{key:"stepper-window"},{default:()=>[v.value.map(w=>m(Z3,{value:w.value},{default:()=>{var P,C;return((P=n[`item.${w.value}`])==null?void 0:P.call(n,w))??((C=n.item)==null?void 0:C.call(n,w))}}))]}),(T=n.default)==null?void 0:T.call(n,{prev:r,next:s}),E&&(((S=n.actions)==null?void 0:S.call(n,{next:s,prev:r}))??m(sy,{key:"stepper-actions","onClick:prev":r,"onClick:next":s},n))]}})}),{prev:r,next:s}}}),dpe=te({indeterminate:Boolean,inset:Boolean,flat:Boolean,loading:{type:[Boolean,String],default:!1},...qo(),...gw()},"VSwitch"),hpe=_e()({name:"VSwitch",inheritAttrs:!1,props:dpe(),emits:{"update:focused":t=>!0,"update:modelValue":t=>!0,"update:indeterminate":t=>!0},setup(t,e){let{attrs:n,slots:i}=e;const s=ze(t,"indeterminate"),r=ze(t,"modelValue"),{loaderClasses:a}=Qg(t),{isFocused:o,focus:l,blur:u}=eo(t),d=G(),c=Yt&&window.matchMedia("(forced-colors: active)").matches,f=O(()=>typeof t.loading=="string"&&t.loading!==""?t.loading:t.color),h=zi(),p=O(()=>t.id||`switch-${h}`);function g(){s.value&&(s.value=!1)}function v(_){var b,x;_.stopPropagation(),_.preventDefault(),(x=(b=d.value)==null?void 0:b.input)==null||x.click()}return xe(()=>{const[_,b]=zo(n),x=rs.filterProps(t),k=Ul.filterProps(t);return m(rs,J({class:["v-switch",{"v-switch--flat":t.flat},{"v-switch--inset":t.inset},{"v-switch--indeterminate":s.value},a.value,t.class]},_,x,{modelValue:r.value,"onUpdate:modelValue":I=>r.value=I,id:p.value,focused:o.value,style:t.style}),{...i,default:I=>{let{id:E,messagesId:T,isDisabled:S,isReadonly:w,isValid:P}=I;const C={model:r,isValid:P};return m(Ul,J({ref:d},k,{modelValue:r.value,"onUpdate:modelValue":[D=>r.value=D,g],id:E.value,"aria-describedby":T.value,type:"checkbox","aria-checked":s.value?"mixed":void 0,disabled:S.value,readonly:w.value,onFocus:l,onBlur:u},b),{...i,default:D=>{let{backgroundColorClasses:A,backgroundColorStyles:N}=D;return m("div",{class:["v-switch__track",c?void 0:A.value],style:N.value,onClick:v},[i["track-true"]&&m("div",{key:"prepend",class:"v-switch__track-true"},[i["track-true"](C)]),i["track-false"]&&m("div",{key:"append",class:"v-switch__track-false"},[i["track-false"](C)])])},input:D=>{let{inputNode:A,icon:N,backgroundColorClasses:B,backgroundColorStyles:z}=D;return m(Ee,null,[A,m("div",{class:["v-switch__thumb",{"v-switch__thumb--filled":N||t.loading},t.inset||c?void 0:B.value],style:t.inset?void 0:z.value},[i.thumb?m(dt,{defaults:{VIcon:{icon:N,size:"x-small"}}},{default:()=>[i.thumb({...C,icon:N})]}):m(KP,null,{default:()=>[t.loading?m(Jg,{name:"v-switch",active:!0,color:P.value===!1?void 0:f.value},{default:q=>i.loader?i.loader(q):m($l,{active:q.isActive,color:q.color,indeterminate:!0,size:"16",width:"2"},null)}):N&&m(Bt,{key:String(N),icon:N,size:"x-small"},null)]})])])}})}})}),{}}}),fpe=te({color:String,height:[Number,String],window:Boolean,...Be(),...Pi(),...Vc(),...Rn(),..._t(),...Nt()},"VSystemBar"),mpe=_e()({name:"VSystemBar",props:fpe(),setup(t,e){let{slots:n}=e;const{themeClasses:i}=Kt(t),{backgroundColorClasses:s,backgroundColorStyles:r}=rn(ge(t,"color")),{elevationClasses:a}=Wi(t),{roundedClasses:o}=qn(t),{ssrBootStyles:l}=Nc(),u=O(()=>t.height??(t.window?32:24)),{layoutItemStyles:d}=Lc({id:t.name,order:O(()=>parseInt(t.order,10)),position:Ve("top"),layoutSize:u,elementSize:u,active:O(()=>!0),absolute:ge(t,"absolute")});return xe(()=>m(t.tag,{class:["v-system-bar",{"v-system-bar--window":t.window},i.value,s.value,a.value,o.value,t.class],style:[r.value,d.value,l.value,t.style]},n)),{}}}),MC=Symbol.for("vuetify:v-tabs"),gpe=te({fixed:Boolean,sliderColor:String,hideSlider:Boolean,direction:{type:String,default:"horizontal"},...tn(mw({selectedClass:"v-tab--selected",variant:"text"}),["active","block","flat","location","position","symbol"])},"VTab"),t6=_e()({name:"VTab",props:gpe(),setup(t,e){let{slots:n,attrs:i}=e;const{textColorClasses:s,textColorStyles:r}=Ui(t,"sliderColor"),a=G(),o=G(),l=O(()=>t.direction==="horizontal"),u=O(()=>{var c,f;return((f=(c=a.value)==null?void 0:c.group)==null?void 0:f.isSelected.value)??!1});function d(c){var h,p;let{value:f}=c;if(f){const g=(p=(h=a.value)==null?void 0:h.$el.parentElement)==null?void 0:p.querySelector(".v-tab--selected .v-tab__slider"),v=o.value;if(!g||!v)return;const _=getComputedStyle(g).color,b=g.getBoundingClientRect(),x=v.getBoundingClientRect(),k=l.value?"x":"y",I=l.value?"X":"Y",E=l.value?"right":"bottom",T=l.value?"width":"height",S=b[k],w=x[k],P=S>w?b[E]-x[E]:b[k]-x[k],C=Math.sign(P)>0?l.value?"right":"bottom":Math.sign(P)<0?l.value?"left":"top":"center",A=(Math.abs(P)+(Math.sign(P)<0?b[T]:x[T]))/Math.max(b[T],x[T])||0,N=b[T]/x[T]||0,B=1.5;Vu(v,{backgroundColor:[_,"currentcolor"],transform:[`translate${I}(${P}px) scale${I}(${N})`,`translate${I}(${P/B}px) scale${I}(${(A-1)/B+1})`,"none"],transformOrigin:Array(3).fill(C)},{duration:225,easing:Fm})}}return xe(()=>{const c=pt.filterProps(t);return m(pt,J({symbol:MC,ref:a,class:["v-tab",t.class],style:t.style,tabindex:u.value?0:-1,role:"tab","aria-selected":String(u.value),active:!1},c,i,{block:t.fixed,maxWidth:t.fixed?300:void 0,"onGroup:selected":d}),{...n,default:()=>{var f;return m(Ee,null,[((f=n.default)==null?void 0:f.call(n))??t.text,!t.hideSlider&&m("div",{ref:o,class:["v-tab__slider",s.value],style:r.value},null)])}})}),Pr({},a)}}),ppe=te({...tn(yw(),["continuous","nextIcon","prevIcon","showArrows","touch","mandatory"])},"VTabsWindow"),n6=_e()({name:"VTabsWindow",props:ppe(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const i=gt(MC,null),s=ze(t,"modelValue"),r=O({get(){var a;return s.value!=null||!i?s.value:(a=i.items.value.find(o=>i.selected.value.includes(o.id)))==null?void 0:a.value},set(a){s.value=a}});return xe(()=>{const a=dc.filterProps(t);return m(dc,J({_as:"VTabsWindow"},a,{modelValue:r.value,"onUpdate:modelValue":o=>r.value=o,class:["v-tabs-window",t.class],style:t.style,mandatory:!1,touch:!1}),n)}),{}}}),vpe=te({...bw()},"VTabsWindowItem"),i6=_e()({name:"VTabsWindowItem",props:vpe(),setup(t,e){let{slots:n}=e;return xe(()=>{const i=hc.filterProps(t);return m(hc,J({_as:"VTabsWindowItem"},i,{class:["v-tabs-window-item",t.class],style:t.style}),n)}),{}}});function _pe(t){return t?t.map(e=>Hb(e)?e:{text:e,value:e}):[]}const ype=te({alignTabs:{type:String,default:"start"},color:String,fixedTabs:Boolean,items:{type:Array,default:()=>[]},stacked:Boolean,bgColor:String,grow:Boolean,height:{type:[Number,String],default:void 0},hideSlider:Boolean,sliderColor:String,...nC({mandatory:"force",selectedClass:"v-tab-item--selected"}),...Ci(),..._t()},"VTabs"),bpe=_e()({name:"VTabs",props:ype(),emits:{"update:modelValue":t=>!0},setup(t,e){let{attrs:n,slots:i}=e;const s=ze(t,"modelValue"),r=O(()=>_pe(t.items)),{densityClasses:a}=ls(t),{backgroundColorClasses:o,backgroundColorStyles:l}=rn(ge(t,"bgColor")),{scopeId:u}=zc();return Dn({VTab:{color:ge(t,"color"),direction:ge(t,"direction"),stacked:ge(t,"stacked"),fixed:ge(t,"fixedTabs"),sliderColor:ge(t,"sliderColor"),hideSlider:ge(t,"hideSlider")}}),xe(()=>{const d=Jm.filterProps(t),c=!!(i.window||t.items.length>0);return m(Ee,null,[m(Jm,J(d,{modelValue:s.value,"onUpdate:modelValue":f=>s.value=f,class:["v-tabs",`v-tabs--${t.direction}`,`v-tabs--align-tabs-${t.alignTabs}`,{"v-tabs--fixed-tabs":t.fixedTabs,"v-tabs--grow":t.grow,"v-tabs--stacked":t.stacked},a.value,o.value,t.class],style:[{"--v-tabs-height":Le(t.height)},l.value,t.style],role:"tablist",symbol:MC},u,n),{default:()=>{var f;return[((f=i.default)==null?void 0:f.call(i))??r.value.map(h=>{var p;return((p=i.tab)==null?void 0:p.call(i,{item:h}))??m(t6,J(h,{key:h.text,value:h.value}),{default:i[`tab.${h.value}`]?()=>{var g;return(g=i[`tab.${h.value}`])==null?void 0:g.call(i,{item:h})}:void 0})})]}}),c&&m(n6,J({modelValue:s.value,"onUpdate:modelValue":f=>s.value=f,key:"tabs-window"},u),{default:()=>{var f;return[r.value.map(h=>{var p;return((p=i.item)==null?void 0:p.call(i,{item:h}))??m(i6,{value:h.value},{default:()=>{var g;return(g=i[`item.${h.value}`])==null?void 0:g.call(i,{item:h})}})}),(f=i.window)==null?void 0:f.call(i)]}})])}),{}}}),wpe=te({autoGrow:Boolean,autofocus:Boolean,counter:[Boolean,Number,String],counterValue:Function,prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,noResize:Boolean,rows:{type:[Number,String],default:5,validator:t=>!isNaN(parseFloat(t))},maxRows:{type:[Number,String],validator:t=>!isNaN(parseFloat(t))},suffix:String,modelModifiers:Object,...qo(),...np()},"VTextarea"),xpe=_e()({name:"VTextarea",directives:{Intersect:Kg},inheritAttrs:!1,props:wpe(),emits:{"click:control":t=>!0,"mousedown:control":t=>!0,"update:focused":t=>!0,"update:modelValue":t=>!0},setup(t,e){let{attrs:n,emit:i,slots:s}=e;const r=ze(t,"modelValue"),{isFocused:a,focus:o,blur:l}=eo(t),u=O(()=>typeof t.counterValue=="function"?t.counterValue(r.value):(r.value||"").toString().length),d=O(()=>{if(n.maxlength)return n.maxlength;if(!(!t.counter||typeof t.counter!="number"&&typeof t.counter!="string"))return t.counter});function c(C,D){var A,N;!t.autofocus||!C||(N=(A=D[0].target)==null?void 0:A.focus)==null||N.call(A)}const f=G(),h=G(),p=Ve(""),g=G(),v=O(()=>t.persistentPlaceholder||a.value||t.active);function _(){var C;g.value!==document.activeElement&&((C=g.value)==null||C.focus()),a.value||o()}function b(C){_(),i("click:control",C)}function x(C){i("mousedown:control",C)}function k(C){C.stopPropagation(),_(),vt(()=>{r.value="",SP(t["onClick:clear"],C)})}function I(C){var A;const D=C.target;if(r.value=D.value,(A=t.modelModifiers)!=null&&A.trim){const N=[D.selectionStart,D.selectionEnd];vt(()=>{D.selectionStart=N[0],D.selectionEnd=N[1]})}}const E=G(),T=G(+t.rows),S=O(()=>["plain","underlined"].includes(t.variant));yn(()=>{t.autoGrow||(T.value=+t.rows)});function w(){t.autoGrow&&vt(()=>{if(!E.value||!h.value)return;const C=getComputedStyle(E.value),D=getComputedStyle(h.value.$el),A=parseFloat(C.getPropertyValue("--v-field-padding-top"))+parseFloat(C.getPropertyValue("--v-input-padding-top"))+parseFloat(C.getPropertyValue("--v-field-padding-bottom")),N=E.value.scrollHeight,B=parseFloat(C.lineHeight),z=Math.max(parseFloat(t.rows)*B+A,parseFloat(D.getPropertyValue("--v-input-control-height"))),q=parseFloat(t.maxRows)*B+A||1/0,W=$n(N??0,z,q);T.value=Math.floor((W-A)/B),p.value=Le(W)})}Tt(w),we(r,w),we(()=>t.rows,w),we(()=>t.maxRows,w),we(()=>t.density,w);let P;return we(E,C=>{C?(P=new ResizeObserver(w),P.observe(E.value)):P==null||P.disconnect()}),Mi(()=>{P==null||P.disconnect()}),xe(()=>{const C=!!(s.counter||t.counter||t.counterValue),D=!!(C||s.details),[A,N]=zo(n),{modelValue:B,...z}=rs.filterProps(t),q=cC(t);return m(rs,J({ref:f,modelValue:r.value,"onUpdate:modelValue":W=>r.value=W,class:["v-textarea v-text-field",{"v-textarea--prefixed":t.prefix,"v-textarea--suffixed":t.suffix,"v-text-field--prefixed":t.prefix,"v-text-field--suffixed":t.suffix,"v-textarea--auto-grow":t.autoGrow,"v-textarea--no-resize":t.noResize||t.autoGrow,"v-input--plain-underlined":S.value},t.class],style:t.style},A,z,{centerAffix:T.value===1&&!S.value,focused:a.value}),{...s,default:W=>{let{id:K,isDisabled:Y,isDirty:Z,isReadonly:ee,isValid:le}=W;return m(Yh,J({ref:h,style:{"--v-textarea-control-height":p.value},onClick:b,onMousedown:x,"onClick:clear":k,"onClick:prependInner":t["onClick:prependInner"],"onClick:appendInner":t["onClick:appendInner"]},q,{id:K.value,active:v.value||Z.value,centerAffix:T.value===1&&!S.value,dirty:Z.value||t.dirty,disabled:Y.value,focused:a.value,error:le.value===!1}),{...s,default:de=>{let{props:{class:he,...re}}=de;return m(Ee,null,[t.prefix&&m("span",{class:"v-text-field__prefix"},[t.prefix]),In(m("textarea",J({ref:g,class:he,value:r.value,onInput:I,autofocus:t.autofocus,readonly:ee.value,disabled:Y.value,placeholder:t.placeholder,rows:t.rows,name:t.name,onFocus:_,onBlur:l},re,N),null),[[nr("intersect"),{handler:c},null,{once:!0}]]),t.autoGrow&&In(m("textarea",{class:[he,"v-textarea__sizer"],id:`${re.id}-sizer`,"onUpdate:modelValue":U=>r.value=U,ref:E,readonly:!0,"aria-hidden":"true"},null),[[$z,r.value]]),t.suffix&&m("span",{class:"v-text-field__suffix"},[t.suffix])])}})},details:D?W=>{var K;return m(Ee,null,[(K=s.details)==null?void 0:K.call(s,W),C&&m(Ee,null,[m("span",null,null),m(vw,{active:t.persistentCounter||a.value,value:u.value,max:d.value,disabled:t.disabled},s.counter)])])}:void 0})}),Pr({},f,h,g)}}),Spe=te({withBackground:Boolean,...Be(),...Nt(),..._t()},"VThemeProvider"),kpe=_e()({name:"VThemeProvider",props:Spe(),setup(t,e){let{slots:n}=e;const{themeClasses:i}=Kt(t);return()=>{var s;return t.withBackground?m(t.tag,{class:["v-theme-provider",i.value,t.class],style:t.style},{default:()=>{var r;return[(r=n.default)==null?void 0:r.call(n)]}}):(s=n.default)==null?void 0:s.call(n)}}}),Tpe=te({dotColor:String,fillDot:Boolean,hideDot:Boolean,icon:Ge,iconColor:String,lineColor:String,...Be(),...Rn(),...Za(),...Pi()},"VTimelineDivider"),Ppe=_e()({name:"VTimelineDivider",props:Tpe(),setup(t,e){let{slots:n}=e;const{sizeClasses:i,sizeStyles:s}=jh(t,"v-timeline-divider__dot"),{backgroundColorStyles:r,backgroundColorClasses:a}=rn(ge(t,"dotColor")),{roundedClasses:o}=qn(t,"v-timeline-divider__dot"),{elevationClasses:l}=Wi(t),{backgroundColorClasses:u,backgroundColorStyles:d}=rn(ge(t,"lineColor"));return xe(()=>m("div",{class:["v-timeline-divider",{"v-timeline-divider--fill-dot":t.fillDot},t.class],style:t.style},[m("div",{class:["v-timeline-divider__before",u.value],style:d.value},null),!t.hideDot&&m("div",{key:"dot",class:["v-timeline-divider__dot",l.value,o.value,i.value],style:s.value},[m("div",{class:["v-timeline-divider__inner-dot",a.value,o.value],style:r.value},[n.default?m(dt,{key:"icon-defaults",disabled:!t.icon,defaults:{VIcon:{color:t.iconColor,icon:t.icon,size:t.size}}},n.default):m(Bt,{key:"icon",color:t.iconColor,icon:t.icon,size:t.size},null)])]),m("div",{class:["v-timeline-divider__after",u.value],style:d.value},null)])),{}}}),s6=te({density:String,dotColor:String,fillDot:Boolean,hideDot:Boolean,hideOpposite:{type:Boolean,default:void 0},icon:Ge,iconColor:String,lineInset:[Number,String],...Be(),...fi(),...Pi(),...Rn(),...Za(),..._t()},"VTimelineItem"),Cpe=_e()({name:"VTimelineItem",props:s6(),setup(t,e){let{slots:n}=e;const{dimensionStyles:i}=mi(t),s=Ve(0),r=G();return we(r,a=>{var o;a&&(s.value=((o=a.$el.querySelector(".v-timeline-divider__dot"))==null?void 0:o.getBoundingClientRect().width)??0)},{flush:"post"}),xe(()=>{var a,o;return m("div",{class:["v-timeline-item",{"v-timeline-item--fill-dot":t.fillDot},t.class],style:[{"--v-timeline-dot-size":Le(s.value),"--v-timeline-line-inset":t.lineInset?`calc(var(--v-timeline-dot-size) / 2 + ${Le(t.lineInset)})`:Le(0)},t.style]},[m("div",{class:"v-timeline-item__body",style:i.value},[(a=n.default)==null?void 0:a.call(n)]),m(Ppe,{ref:r,hideDot:t.hideDot,icon:t.icon,iconColor:t.iconColor,size:t.size,elevation:t.elevation,dotColor:t.dotColor,fillDot:t.fillDot,rounded:t.rounded},{default:n.icon}),t.density!=="compact"&&m("div",{class:"v-timeline-item__opposite"},[!t.hideOpposite&&((o=n.opposite)==null?void 0:o.call(n))])])}),{}}}),Epe=te({align:{type:String,default:"center",validator:t=>["center","start"].includes(t)},direction:{type:String,default:"vertical",validator:t=>["vertical","horizontal"].includes(t)},justify:{type:String,default:"auto",validator:t=>["auto","center"].includes(t)},side:{type:String,validator:t=>t==null||["start","end"].includes(t)},lineThickness:{type:[String,Number],default:2},lineColor:String,truncateLine:{type:String,validator:t=>["start","end","both"].includes(t)},...Yg(s6({lineInset:0}),["dotColor","fillDot","hideOpposite","iconColor","lineInset","size"]),...Be(),...Ci(),..._t(),...Nt()},"VTimeline"),Ipe=_e()({name:"VTimeline",props:Epe(),setup(t,e){let{slots:n}=e;const{themeClasses:i}=Kt(t),{densityClasses:s}=ls(t),{rtlClasses:r}=Ti();Dn({VTimelineDivider:{lineColor:ge(t,"lineColor")},VTimelineItem:{density:ge(t,"density"),dotColor:ge(t,"dotColor"),fillDot:ge(t,"fillDot"),hideOpposite:ge(t,"hideOpposite"),iconColor:ge(t,"iconColor"),lineColor:ge(t,"lineColor"),lineInset:ge(t,"lineInset"),size:ge(t,"size")}});const a=O(()=>{const l=t.side?t.side:t.density!=="default"?"end":null;return l&&`v-timeline--side-${l}`}),o=O(()=>{const l=["v-timeline--truncate-line-start","v-timeline--truncate-line-end"];switch(t.truncateLine){case"both":return l;case"start":return l[0];case"end":return l[1];default:return null}});return xe(()=>m(t.tag,{class:["v-timeline",`v-timeline--${t.direction}`,`v-timeline--align-${t.align}`,`v-timeline--justify-${t.justify}`,o.value,{"v-timeline--inset-line":!!t.lineInset},i.value,s.value,a.value,r.value,t.class],style:[{"--v-timeline-line-thickness":Le(t.lineThickness)},t.style]},n)),{}}}),Dpe=te({...Be(),...Br({variant:"text"})},"VToolbarItems"),Ape=_e()({name:"VToolbarItems",props:Dpe(),setup(t,e){let{slots:n}=e;return Dn({VBtn:{color:ge(t,"color"),height:"inherit",variant:ge(t,"variant")}}),xe(()=>{var i;return m("div",{class:["v-toolbar-items",t.class],style:t.style},[(i=n.default)==null?void 0:i.call(n)])}),{}}}),Rpe=te({id:String,text:String,...tn(tp({closeOnBack:!1,location:"end",locationStrategy:"connected",eager:!0,minWidth:0,offset:10,openOnClick:!1,openOnHover:!0,origin:"auto",scrim:!1,scrollStrategy:"reposition",transition:!1}),["absolute","persistent"])},"VTooltip"),r6=_e()({name:"VTooltip",props:Rpe(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const i=ze(t,"modelValue"),{scopeId:s}=zc(),r=zi(),a=O(()=>t.id||`v-tooltip-${r}`),o=G(),l=O(()=>t.location.split(" ").length>1?t.location:t.location+" center"),u=O(()=>t.origin==="auto"||t.origin==="overlap"||t.origin.split(" ").length>1||t.location.split(" ").length>1?t.origin:t.origin+" center"),d=O(()=>t.transition?t.transition:i.value?"scale-transition":"fade-transition"),c=O(()=>J({"aria-describedby":a.value},t.activatorProps));return xe(()=>{const f=ha.filterProps(t);return m(ha,J({ref:o,class:["v-tooltip",t.class],style:t.style,id:a.value},f,{modelValue:i.value,"onUpdate:modelValue":h=>i.value=h,transition:d.value,absolute:!0,location:l.value,origin:u.value,persistent:!0,role:"tooltip",activatorProps:c.value,_disableGlobalStack:!0},s),{activator:n.activator,default:function(){var v;for(var h=arguments.length,p=new Array(h),g=0;g<h;g++)p[g]=arguments[g];return((v=n.default)==null?void 0:v.call(n,...p))??t.text}})}),Pr({},o)}}),Ope=_e()({name:"VValidation",props:J4(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const i=Z4(t,"validation");return()=>{var s;return(s=n.default)==null?void 0:s.call(n,i)}}}),Mpe=Object.freeze(Object.defineProperty({__proto__:null,VAlert:Sde,VAlertTitle:W4,VApp:Rce,VAppBar:Jce,VAppBarNavIcon:yde,VAppBarTitle:bde,VAutocomplete:Bhe,VAvatar:$s,VBadge:M5,VBanner:Hhe,VBannerActions:V5,VBannerText:L5,VBottomNavigation:Whe,VBottomSheet:Ghe,VBreadcrumbs:Qhe,VBreadcrumbsDivider:F5,VBreadcrumbsItem:B5,VBtn:pt,VBtnGroup:h1,VBtnToggle:sde,VCard:nfe,VCardActions:j5,VCardItem:H5,VCardSubtitle:$5,VCardText:z5,VCardTitle:U5,VCarousel:dfe,VCarouselItem:ffe,VCheckbox:Rde,VCheckboxBtn:Wa,VChip:Hc,VChipGroup:Nde,VClassIcon:RP,VCode:mfe,VCol:$me,VColorPicker:nme,VCombobox:rme,VComponentIcon:qS,VConfirmEdit:T1,VContainer:Nme,VCounter:vw,VDataIterator:gme,VDataTable:Ame,VDataTableFooter:tg,VDataTableHeaders:fc,VDataTableRow:TC,VDataTableRows:mc,VDataTableServer:Vme,VDataTableVirtual:Ome,VDatePicker:O1,VDatePickerControls:E1,VDatePickerHeader:I1,VDatePickerMonth:D1,VDatePickerMonths:A1,VDatePickerYears:R1,VDefaultsProvider:dt,VDialog:y1,VDialogBottomTransition:Lce,VDialogTopTransition:Nce,VDialogTransition:uw,VDivider:Qr,VEmptyState:Qme,VExpandTransition:cw,VExpandXTransition:JP,VExpansionPanel:L1,VExpansionPanelText:M1,VExpansionPanelTitle:V1,VExpansionPanels:N1,VFab:ege,VFabTransition:Vce,VFadeTransition:qm,VField:Yh,VFieldLabel:Nf,VFileInput:nge,VFooter:sge,VForm:age,VHover:lge,VIcon:Bt,VImg:Vo,VInfiniteScroll:cge,VInput:rs,VItem:fge,VItemGroup:hge,VKbd:mge,VLabel:zh,VLayout:pge,VLayoutItem:_ge,VLazy:bge,VLigatureIcon:Qie,VList:dh,VListGroup:eg,VListImg:the,VListItem:br,VListItemAction:x5,VListItemMedia:she,VListItemSubtitle:h5,VListItemTitle:f5,VListSubheader:m5,VLocaleProvider:xge,VMain:kge,VMenu:cc,VMessages:K4,VNavigationDrawer:Oge,VNoSsr:Mge,VOtpInput:Lge,VOverlay:ha,VPagination:P1,VParallax:Bge,VProgressCircular:$l,VProgressLinear:hw,VRadio:$ge,VRadioGroup:Hge,VRangeSlider:Wge,VRating:Gge,VResponsive:c1,VRow:qme,VScaleTransition:KP,VScrollXReverseTransition:Bce,VScrollXTransition:Fce,VScrollYReverseTransition:$ce,VScrollYTransition:jce,VSelect:fC,VSelectionControl:Ul,VSelectionControlGroup:G4,VSheet:Ya,VSkeletonLoader:Qge,VSlideGroup:Jm,VSlideGroupItem:Jge,VSlideXReverseTransition:Hce,VSlideXTransition:Uce,VSlideYReverseTransition:zce,VSlideYTransition:QP,VSlider:k1,VSnackbar:F1,VSpacer:R3,VSparkline:ipe,VSpeedDial:rpe,VStepper:cpe,VStepperActions:sy,VStepperHeader:X3,VStepperItem:Q3,VStepperWindow:J3,VStepperWindowItem:Z3,VSvgIcon:AP,VSwitch:hpe,VSystemBar:mpe,VTab:t6,VTable:gc,VTabs:bpe,VTabsWindow:n6,VTabsWindowItem:i6,VTextField:fa,VTextarea:xpe,VThemeProvider:kpe,VTimeline:Ipe,VTimelineItem:Cpe,VToolbar:d1,VToolbarItems:Ape,VToolbarTitle:XP,VTooltip:r6,VValidation:Ope,VVirtualScroll:_w,VWindow:dc,VWindowItem:hc},Symbol.toStringTag,{value:"Module"}));function Vpe(t,e){const n=e.modifiers||{},i=e.value,{once:s,immediate:r,...a}=n,o=!Object.keys(a).length,{handler:l,options:u}=typeof i=="object"?i:{handler:i,options:{attributes:(a==null?void 0:a.attr)??o,characterData:(a==null?void 0:a.char)??o,childList:(a==null?void 0:a.child)??o,subtree:(a==null?void 0:a.sub)??o}},d=new MutationObserver(function(){let c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],f=arguments.length>1?arguments[1]:void 0;l==null||l(c,f),s&&a6(t,e)});r&&(l==null||l([],d)),t._mutate=Object(t._mutate),t._mutate[e.instance.$.uid]={observer:d},d.observe(t,u)}function a6(t,e){var n;(n=t._mutate)!=null&&n[e.instance.$.uid]&&(t._mutate[e.instance.$.uid].observer.disconnect(),delete t._mutate[e.instance.$.uid])}const Lpe={mounted:Vpe,unmounted:a6};function Npe(t,e){var s,r;const n=e.value,i={passive:!((s=e.modifiers)!=null&&s.active)};window.addEventListener("resize",n,i),t._onResize=Object(t._onResize),t._onResize[e.instance.$.uid]={handler:n,options:i},(r=e.modifiers)!=null&&r.quiet||n()}function Fpe(t,e){var s;if(!((s=t._onResize)!=null&&s[e.instance.$.uid]))return;const{handler:n,options:i}=t._onResize[e.instance.$.uid];window.removeEventListener("resize",n,i),delete t._onResize[e.instance.$.uid]}const Bpe={mounted:Npe,unmounted:Fpe};function o6(t,e){const{self:n=!1}=e.modifiers??{},i=e.value,s=typeof i=="object"&&i.options||{passive:!0},r=typeof i=="function"||"handleEvent"in i?i:i.handler,a=n?t:e.arg?document.querySelector(e.arg):window;a&&(a.addEventListener("scroll",r,s),t._onScroll=Object(t._onScroll),t._onScroll[e.instance.$.uid]={handler:r,options:s,target:n?void 0:a})}function l6(t,e){var r;if(!((r=t._onScroll)!=null&&r[e.instance.$.uid]))return;const{handler:n,options:i,target:s=t}=t._onScroll[e.instance.$.uid];s.removeEventListener("scroll",n,i),delete t._onScroll[e.instance.$.uid]}function jpe(t,e){e.value!==e.oldValue&&(l6(t,e),o6(t,e))}const $pe={mounted:o6,unmounted:l6,updated:jpe};function Upe(t,e){const n=typeof t=="string"?j(t):t,i=Hpe(n,e);return{mounted:i,updated:i,unmounted(s){JL(null,s)}}}function Hpe(t,e){return function(n,i,s){var c,f,h;const r=typeof e=="function"?e(i):e,a=((c=i.value)==null?void 0:c.text)??i.value??(r==null?void 0:r.text),o=Hb(i.value)?i.value:{},l=()=>a??n.textContent,u=(s.ctx===i.instance.$?(f=zpe(s,i.instance.$))==null?void 0:f.provides:(h=s.ctx)==null?void 0:h.provides)??i.instance.$.provides,d=Ai(t,J(r,o),l);d.appContext=Object.assign(Object.create(null),i.instance.$.appContext,{provides:u}),JL(d,n)}}function zpe(t,e){const n=new Set,i=r=>{var a,o;for(const l of r){if(!l)continue;if(l===t||l.el&&t.el&&l.el===t.el)return!0;n.add(l);let u;if(l.suspense?u=i([l.ssContent]):Array.isArray(l.children)?u=i(l.children):(a=l.component)!=null&&a.vnode&&(u=i([(o=l.component)==null?void 0:o.subTree])),u)return u;n.delete(l)}return!1};if(!i([e.subTree]))return e;const s=Array.from(n).reverse();for(const r of s)if(r.component)return r.component;return e}const Wpe=Upe(r6,t=>{var e;return{activator:"parent",location:(e=t.arg)==null?void 0:e.replace("-"," "),text:typeof t.value=="boolean"?void 0:t.value}}),Ype=Object.freeze(Object.defineProperty({__proto__:null,ClickOutside:I5,Intersect:Kg,Mutate:Lpe,Resize:Bpe,Ripple:Go,Scroll:$pe,Tooltip:Wpe,Touch:mC},Symbol.toStringTag,{value:"Module"})),Gpe=te({allDay:Boolean,interval:Object,intervalDivisions:{type:Number,required:!0},intervalDuration:{type:Number,required:!0},intervalHeight:{type:Number,required:!0},event:Object},"VCalendarIntervalEvent"),B1=_e()({name:"VCalendarIntervalEvent",props:Gpe(),setup(t){const e=Fr(),n=()=>{var i,s,r,a;if(!((i=t.event)!=null&&i.first)&&!((s=t.event)!=null&&s.last)||e.isEqual((r=t.event)==null?void 0:r.start,(a=t.interval)==null?void 0:a.start))return{height:"100%",margin:Le(0)};{const{height:o,margin:l}=Array.from({length:t.intervalDivisions},u=>u*(t.intervalDuration/t.intervalDivisions)).reduce((u,d,c)=>{var f,h;return e.isBefore(e.addMinutes((f=t.interval)==null?void 0:f.start,d),(h=t.event)==null?void 0:h.start)?{height:Le(t.intervalHeight/t.intervalDivisions*c),margin:Le(t.intervalHeight/t.intervalDivisions*c)}:{height:u.height,margin:u.margin}},{height:"",margin:""});return{height:o,margin:l}}};return xe(()=>{var i,s,r,a,o;return m(Ya,{height:n().height,density:"comfortable",style:`margin-top: ${n().margin}`,class:"v-calendar-internal-event",color:((i=t.event)==null?void 0:i.color)??void 0,rounded:(s=t.event)!=null&&s.first&&((r=t.event)!=null&&r.last)?!0:(a=t.event)!=null&&a.first?"t":(o=t.event)!=null&&o.last?"b":!1},{default:()=>{var l,u;return[(l=t.event)!=null&&l.first?(u=t.event)==null?void 0:u.title:""]}})}),{}}}),u6=te({day:{type:Object,default:()=>({})},dayIndex:Number,events:Array,intervalDivisions:{type:Number,default:2},intervalDuration:{type:Number,default:60},intervalHeight:{type:Number,default:48},intervalFormat:{type:[String,Function],default:"fullTime12h"},intervalStart:{type:Number,default:0}},"VCalendarInterval"),j1=_e()({name:"VCalendarInterval",props:{index:{type:Number,required:!0},...u6()},setup(t,e){const n=Fr(),i=O(()=>{const s=n.addMinutes(n.startOfDay(t.day.date),t.intervalDuration*(t.index+t.intervalStart)),r=n.addMinutes(n.startOfDay(t.day.date),t.intervalDuration*(t.index+t.intervalStart+1)-1);return{...t.day,label:n.format(s,"fullTime24h"),start:s,end:r,events:t.events?t.events.filter(a=>!a.allDay&&(n.isEqual(s,a.start)||n.isWithinRange(a.start,[s,r])||n.isWithinRange(s,[a.start,a.end])||n.isEqual(r,a.end))).map(a=>({...a,first:n.isEqual(s,a.start)||n.isWithinRange(a.start,[s,r]),last:n.isEqual(r,a.end)||n.isWithinRange(a.end,[s,r])})):[]}});return xe(()=>{var s,r;return t.dayIndex===0?m("div",{class:"v-calendar-day__row-with-label",style:`height: ${Le(t.intervalHeight)}`},[m("div",{class:"v-calendar-day__row-label"},[m("slot",{name:"intervalFormat",interval:i.value},[t.index?t.intervalFormat?typeof t.intervalFormat=="string"?n.format(i.value.start,"hours12h"):t.intervalFormat(i.value):i.value.label:""])]),m("div",{class:"v-calendar-day__row-hairline"},null),m("div",{class:["v-calendar-day__row-content",i.value.events.some(a=>!a.last)?"v-calendar-day__row-content-through":""]},[m("slot",{name:"intervalBody",interval:i.value},[(s=i.value.events)==null?void 0:s.map(a=>m(B1,{event:a,interval:i.value,intervalDivisions:t.intervalDivisions,intervalDuration:t.intervalDuration,intervalHeight:t.intervalHeight},null))])])]):m("div",{class:"v-calendar-day__row-without-label",style:`height: ${Le(t.intervalHeight)}`},[m("div",{class:["v-calendar-day__row-content",i.value.events.some(a=>!a.last)?"v-calendar-day__row-content-through":""]},[m("slot",{name:"intervalBody",interval:i.value},[(r=i.value.events)==null?void 0:r.filter(a=>!a.allDay).map(a=>m(B1,{event:a,interval:i.value,intervalDivisions:t.intervalDivisions,intervalDuration:t.intervalDuration,intervalHeight:t.intervalHeight},null))])])])}),{interval:i}}}),c6=te({hideDayHeader:Boolean,intervals:{type:Number,default:24},...u6()},"VCalendarDay"),jv=_e()({name:"VCalendarDay",props:c6(),setup(t){const e=Fr(),n=O(()=>[...Array.from({length:t.intervals},(i,s)=>s).filter((i,s)=>t.intervalDuration*(s+t.intervalStart)<1440)]);return xe(()=>{const i=j1.filterProps(t);return m("div",{class:"v-calendar-day__container"},[!t.hideDayHeader&&m("div",{key:"calender-week-name",class:"v-calendar-weekly__head-weekday"},[e.format(t.day.date,"weekdayShort"),m("div",null,[m(pt,{icon:!0,text:e.format(t.day.date,"dayOfMonth"),variant:"text"},null)])]),n.value.map((s,r)=>m(j1,J({index:r},i),null))])}),{intervals:n}}}),d6=te({nextIcon:{type:String,default:"$next"},prevIcon:{type:String,default:"$prev"},title:String,text:{type:String,default:"$vuetify.calendar.today"},viewMode:{type:String,default:"month"}},"VCalendarHeader"),$1=_e()({name:"VCalendarHeader",props:d6(),emits:{"click:next":()=>!0,"click:prev":()=>!0,"click:toToday":()=>!0},setup(t,e){let{emit:n}=e;const{t:i}=gn();function s(){n("click:prev")}function r(){n("click:next")}function a(){n("click:toToday")}return xe(()=>m("div",{class:"v-calendar-header"},[t.text&&m(pt,{key:"today",class:"v-calendar-header__today",text:i(t.text),variant:"outlined",onClick:a},null),m(pt,{density:"comfortable",icon:t.prevIcon,variant:"text",onClick:s},null),m(pt,{density:"comfortable",icon:t.nextIcon,variant:"text",onClick:r},null),m("div",{class:"v-calendar-header__title"},[t.title])])),{}}}),qpe=te({allDay:Boolean,day:Object,event:Object},"VCalendarEvent"),XO=_e()({name:"VCalendarEvent",props:qpe(),setup(t){return xe(()=>m(Hc,{color:t.allDay?"primary":void 0,density:"comfortable",label:t.allDay,width:"100%"},{default:()=>{var e,n;return[m(M5,{inline:!0,dot:!0,color:(e=t.event)==null?void 0:e.color},null),(n=t.event)==null?void 0:n.title]}})),{}}}),Xpe=te({active:Boolean,color:String,day:Object,disabled:Boolean,events:Array,title:[Number,String]},"VCalendarMonthDay"),h6=_e()({name:"VCalendarMonthDay",props:Xpe(),setup(t,e){let{emit:n,slots:i}=e;return xe(()=>{var r,a,o,l,u,d,c,f,h,p,g;const s=!!(t.title||(r=i.title)!=null&&r.call(i,{title:t.title}));return m("div",{class:["v-calendar-month__day"]},[!((a=t.day)!=null&&a.isHidden)&&s&&m("div",{key:"title",class:"v-calendar-weekly__day-label"},[((o=i.title)==null?void 0:o.call(i,{title:t.title}))??m(pt,{class:(l=t.day)!=null&&l.isToday?"v-calendar-weekly__day-label__today":void 0,color:t.color,disabled:t.disabled,icon:!0,size:"x-small",variant:(u=t.day)!=null&&u.isToday?void 0:"flat"},{default:()=>[t.title]})]),!((d=t.day)!=null&&d.isHidden)&&m("div",{key:"content",class:"v-calendar-weekly__day-content"},[((c=i.content)==null?void 0:c.call(i))??m("div",null,[m("div",{class:"v-calendar-weekly__day-alldayevents-container"},[(f=t.events)==null?void 0:f.filter(v=>v.allDay).map(v=>i.event?i.event({day:t.day,allDay:!0,event:v}):m(XO,{day:t.day,event:v,allDay:!0},null))]),m("div",{class:"v-calendar-weekly__day-events-container"},[(h=t.events)==null?void 0:h.filter(v=>!v.allDay).map(v=>i.event?i.event({day:t.day,event:v,allDay:!1}):m(XO,{day:t.day,event:v},null))])])]),!((p=t.day)!=null&&p.isHidden)&&((g=i.default)==null?void 0:g.call(i))])}),{}}}),Kpe=te({hideHeader:Boolean,hideWeekNumber:Boolean,...M3(),...c6(),...d6()},"VCalender"),Qpe=_e()({name:"VCalendar",props:Kpe(),emits:{next:null,prev:null,"update:modelValue":null},setup(t,e){let{emit:n,slots:i}=e;const s=Fr(),{daysInMonth:r,daysInWeek:a,genDays:o,model:l,displayValue:u,weekNumbers:d,weekDays:c}=V3(t),f=s.getWeekdays();function h(){t.viewMode==="month"&&(l.value=[s.addMonths(u.value,1)]),t.viewMode==="week"&&(l.value=[s.addDays(u.value,7)]),t.viewMode==="day"&&(l.value=[s.addDays(u.value,1)])}function p(){t.viewMode==="month"&&(l.value=[s.addMonths(u.value,-1)]),t.viewMode==="week"&&(l.value=[s.addDays(u.value,-7)]),t.viewMode==="day"&&(l.value=[s.addDays(u.value,-1)])}function g(){l.value=[s.date()]}const v=O(()=>s.format(u.value,"monthAndYear"));return xe(()=>{var x;const _=jv.filterProps(t),b=$1.filterProps(t);return m("div",{class:["v-calendar",{"v-calendar-monthly":t.viewMode==="month","v-calendar-weekly":t.viewMode==="week","v-calendar-day":t.viewMode==="day"}]},[m("div",null,[!t.hideHeader&&(i.header?i.header({title:v.value}):m($1,J({key:"calendar-header"},b,{title:v.value,"onClick:next":h,"onClick:prev":p,"onClick:toToday":g}),null))]),m("div",{class:["v-calendar__container",`days__${c.value.length}`]},[t.viewMode==="month"&&!t.hideDayHeader&&m("div",{class:["v-calendar-weekly__head",`days__${c.value.length}`,...t.hideWeekNumber?[]:["v-calendar-weekly__head-weeknumbers"]],key:"calenderWeeklyHead"},[t.hideWeekNumber?"":m("div",{key:"weekNumber0",class:"v-calendar-weekly__head-weeknumber"},null),c.value.map(k=>m("div",{class:`v-calendar-weekly__head-weekday${t.hideWeekNumber?"":"-with-weeknumber"}`},[f[k]]))]),t.viewMode==="month"&&m("div",{key:"VCalendarMonth",class:["v-calendar-month__days",`days${t.hideWeekNumber?"":"-with-weeknumbers"}__${c.value.length}`,...t.hideWeekNumber?[]:["v-calendar-month__weeknumbers"]]},[dne(r.value,c.value.length).map((k,I)=>[t.hideWeekNumber?"":m("div",{class:"v-calendar-month__weeknumber"},[d.value[I]]),k.map(E=>{var T;return m(h6,{color:s.isSameDay(s.date(),E.date)?"primary":void 0,day:E,title:E?s.format(E.date,"dayOfMonth"):"NaN",events:(T=t.events)==null?void 0:T.filter(S=>s.isSameDay(E.date,S.start)||s.isSameDay(E.date,S.end))},{event:i.event})})])]),t.viewMode==="week"&&a.value.map((k,I)=>{var E;return m(jv,J(_,{day:k,dayIndex:I,events:(E=t.events)==null?void 0:E.filter(T=>s.isSameDay(T.start,k.date)||s.isSameDay(T.end,k.date))}),null)}),t.viewMode==="day"&&m(jv,J(_,{day:o([u.value],s.date())[0],dayIndex:0,events:(x=t.events)==null?void 0:x.filter(k=>s.isSameDay(k.start,o([u.value],s.date())[0].date)||s.isSameDay(k.end,o([u.value],s.date())[0].date))}),null)])])}),{daysInMonth:r,daysInWeek:a,genDays:o}}}),Jpe=te({hideActions:Boolean,...Wh(),...J5(),...Gh({placeholder:"mm/dd/yyyy",prependIcon:"$calendar"}),...tn(j3({weeksInMonth:"dynamic",hideHeader:!0}),["active"])},"VDateInput"),Zpe=_e()({name:"VDateInput",props:Jpe(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const{t:i}=gn(),s=Fr(),{isFocused:r,focus:a,blur:o}=eo(t),l=ze(t,"modelValue",t.multiple?[]:null),u=Ve(!1),d=O(()=>{const g=bn(l.value);if(!g.length)return null;if(t.multiple===!0)return i("$vuetify.datePicker.itemsSelected",g.length);if(t.multiple==="range"){const v=g[0],_=g[g.length-1];return s.isValid(v)&&s.isValid(_)?`${s.format(v,"keyboardDate")} - ${s.format(_,"keyboardDate")}`:""}return s.isValid(l.value)?s.format(l.value,"keyboardDate"):""}),c=O(()=>!t.disabled&&!t.readonly);function f(g){if(g.key!=="Enter")return;if(!u.value||!r.value){u.value=!0;return}const v=g.target;l.value=s.date(v.value)}function h(g){g.preventDefault(),g.stopPropagation(),u.value=!0}function p(){u.value=!1}xe(()=>{const g=T1.filterProps(t),v=O1.filterProps(tn(t,["active"])),_=fa.filterProps(t);return m(fa,J(_,{class:t.class,style:t.style,modelValue:d.value,onKeydown:c.value?f:void 0,focused:u.value||r.value,onFocus:a,onBlur:o,"onClick:control":c.value?h:void 0,"onClick:prepend":c.value?h:void 0}),{default:()=>{var b;return[m(cc,{modelValue:u.value,"onUpdate:modelValue":x=>u.value=x,activator:"parent","min-width":"0",closeOnContentClick:!1,openOnClick:!1},{default:()=>[m(T1,J(g,{modelValue:l.value,"onUpdate:modelValue":x=>l.value=x,onSave:p}),{default:x=>{let{actions:k,model:I}=x;return m(O1,J(v,{modelValue:t.hideActions?l.value:I.value,"onUpdate:modelValue":E=>{t.hideActions?(l.value=E,t.multiple||(u.value=!1)):I.value=E},onMousedown:E=>E.preventDefault()}),{actions:t.hideActions?void 0:k})}})]}),(b=n.default)==null?void 0:b.call(n)]}})})}}),eve=te({clearable:Boolean,file:{type:Object,default:null},fileIcon:{type:String,default:"mdi-file-document"},showSize:Boolean,...rC({border:!0,rounded:!0,lines:"two"})},"VFileUploadItem"),f6=_e()({name:"VFileUploadItem",props:eve(),emits:{"click:remove":()=>!0,click:t=>!0},setup(t,e){let{emit:n,slots:i}=e;const s=G(),r=O(()=>typeof t.showSize!="boolean"?t.showSize:void 0);function a(){n("click:remove")}yn(()=>{var o;s.value=(o=t.file)!=null&&o.type.startsWith("image")?URL.createObjectURL(t.file):void 0}),xe(()=>{var l,u,d;const o=br.filterProps(t);return m(br,J(o,{title:t.title??((l=t.file)==null?void 0:l.name),subtitle:t.showSize?jS((u=t.file)==null?void 0:u.size,r.value):(d=t.file)==null?void 0:d.type,class:"v-file-upload-item"}),{...i,prepend:c=>m(Ee,null,[i.prepend?m(dt,{defaults:{VAvatar:{image:s.value,icon:s.value?void 0:t.fileIcon,rounded:!0}}},{default:()=>{var f;return[((f=i.prepend)==null?void 0:f.call(i,c))??m($s,null,null)]}}):m($s,{icon:t.fileIcon,image:s.value,rounded:!0},null)]),append:c=>{var f;return m(Ee,null,[t.clearable&&m(Ee,null,[i.clear?m(dt,{defaults:{VBtn:{icon:"$clear",density:"comfortable",variant:"text"}}},{default:()=>{var h;return[((h=i.clear)==null?void 0:h.call(i,{...c,props:{onClick:a}}))??m(pt,null,null)]}}):m(pt,{icon:"$clear",density:"comfortable",variant:"text",onClick:a},null)]),(f=i.append)==null?void 0:f.call(i,c)])}})})}}),tve=te({browseText:{type:String,default:"$vuetify.fileUpload.browse"},dividerText:{type:String,default:"$vuetify.fileUpload.divider"},title:{type:String,default:"$vuetify.fileUpload.title"},subtitle:String,icon:{type:Ge,default:"$upload"},modelValue:{type:[Array,Object],default:null,validator:t=>bn(t).every(e=>e!=null&&typeof e=="object")},clearable:Boolean,disabled:Boolean,hideBrowse:Boolean,multiple:Boolean,scrim:{type:[Boolean,String],default:!0},showSize:Boolean,name:String,...pw(),...Ci(),...Yg(g5({length:150}),["length","thickness","opacity"]),...ip()},"VFileUpload"),nve=_e()({name:"VFileUpload",inheritAttrs:!1,props:tve(),emits:{"update:modelValue":t=>!0},setup(t,e){let{attrs:n,slots:i}=e;const{t:s}=gn(),{densityClasses:r}=ls(t),a=ze(t,"modelValue",t.modelValue,g=>bn(g),g=>t.multiple||Array.isArray(t.modelValue)?g:g[0]),o=Ve(!1),l=G(null),u=G(null);Tt(()=>{var g,v;(g=l.value)==null||g.$el.addEventListener("dragover",d),(v=l.value)==null||v.$el.addEventListener("drop",f)}),Us(()=>{var g,v;(g=l.value)==null||g.$el.removeEventListener("dragover",d),(v=l.value)==null||v.$el.removeEventListener("drop",f)});function d(g){g.preventDefault(),g.stopImmediatePropagation(),o.value=!0}function c(g){g.preventDefault(),o.value=!1}function f(g){var b;g.preventDefault(),g.stopImmediatePropagation(),o.value=!1;const v=Array.from(((b=g.dataTransfer)==null?void 0:b.files)??[]);if(!v.length)return;if(!t.multiple){a.value=[v[0]];return}const _=a.value.slice();for(const x of v)_.some(k=>k.name===x.name)||_.push(x);a.value=_}function h(){var g;(g=u.value)==null||g.click()}function p(g){a.value=a.value.filter((v,_)=>_!==g),!(a.value.length>0||!u.value)&&(u.value.value="")}xe(()=>{const g=!!(i.title||t.title),v=!!(i.icon||t.icon),_=!!(!t.hideBrowse&&(i.browse||t.density==="default")),b=Ya.filterProps(t),x=Qr.filterProps(t),[k,I]=zo(n),E=m("input",J({ref:u,type:"file",disabled:t.disabled,multiple:t.multiple,name:t.name,onChange:T=>{if(!T.target)return;const S=T.target;a.value=[...S.files??[]]}},I),null);return m(Ee,null,[m(Ya,J({ref:l},b,{class:["v-file-upload",{"v-file-upload--clickable":!_,"v-file-upload--disabled":t.disabled,"v-file-upload--dragging":o.value},r.value],onDragleave:c,onDragover:d,onDrop:f,onClick:_?void 0:h},k),{default:()=>{var T,S,w;return[v&&m("div",{key:"icon",class:"v-file-upload-icon"},[i.icon?m(dt,{key:"icon-defaults",defaults:{VIcon:{icon:t.icon}}},{default:()=>[i.icon()]}):m(Bt,{key:"icon-icon",icon:t.icon},null)]),g&&m("div",{key:"title",class:"v-file-upload-title"},[((T=i.title)==null?void 0:T.call(i))??s(t.title)]),t.density==="default"&&m(Ee,null,[m("div",{key:"upload-divider",class:"v-file-upload-divider"},[((S=i.divider)==null?void 0:S.call(i))??m(Qr,x,{default:()=>[s(t.dividerText)]})]),_&&m(Ee,null,[i.browse?m(dt,{defaults:{VBtn:{readonly:t.disabled,size:"large",text:s(t.browseText),variant:"tonal"}}},{default:()=>[i.browse({props:{onClick:h}})]}):m(pt,{readonly:t.disabled,size:"large",text:s(t.browseText),variant:"tonal",onClick:h},null)]),t.subtitle&&m("div",{class:"v-file-upload-subtitle"},[t.subtitle])]),m(ha,{"model-value":o.value,contained:!0,scrim:t.scrim},null),((w=i.input)==null?void 0:w.call(i,{inputNode:E}))??E]}}),a.value.length>0&&m("div",{class:"v-file-upload-items"},[a.value.map((T,S)=>{const w={file:T,props:{"onClick:remove":()=>p(S)}};return m(dt,{key:S,defaults:{VFileUploadItem:{file:T,clearable:t.clearable,disabled:t.disabled,showSize:t.showSize}}},{default:()=>{var P;return[((P=i.item)==null?void 0:P.call(i,w))??m(f6,{key:S,"onClick:remove":()=>p(S)},i)]}})})])])})}}),ive=te({controlVariant:{type:String,default:"default"},inset:Boolean,hideInput:Boolean,modelValue:{type:Number,default:null},min:{type:Number,default:Number.MIN_SAFE_INTEGER},max:{type:Number,default:Number.MAX_SAFE_INTEGER},step:{type:Number,default:1},...tn(Gh({}),["appendInnerIcon","modelValue","prependInnerIcon"])},"VNumberInput"),sve=_e()({name:"VNumberInput",props:{...ive()},emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const i=ze(t,"modelValue"),s=O({get:()=>i.value,set(P){if(P===null||P===""){i.value=null;return}const C=Number(P);!isNaN(C)&&C<=t.max&&C>=t.min&&(i.value=C)}}),r=G(),a=O(()=>L_(t.step)),o=O(()=>typeof s.value=="number"?L_(s.value):0),l=ep(t),u=O(()=>l.isDisabled.value||l.isReadonly.value),d=O(()=>u.value?!1:(s.value??0)+t.step<=t.max),c=O(()=>u.value?!1:(s.value??0)-t.step>=t.min),f=O(()=>t.hideInput?"stacked":t.controlVariant),h=O(()=>f.value==="split"?"$plus":"$collapse"),p=O(()=>f.value==="split"?"$minus":"$expand"),g=O(()=>f.value==="split"?"default":"small"),v=O(()=>f.value==="stacked"?"auto":"100%"),_=O(()=>({click:k})),b=O(()=>({click:I}));Tt(()=>{u.value||w()});function x(){let P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;if(u.value)return;if(s.value==null){s.value=$n(0,t.min,t.max);return}const C=Math.max(o.value,a.value);P?d.value&&(s.value=+(s.value+t.step).toFixed(C)):c.value&&(s.value=+(s.value-t.step).toFixed(C))}function k(P){P.stopPropagation(),x()}function I(P){P.stopPropagation(),x(!1)}function E(P){var B,z,q;if(!P.data)return;const C=(B=P.target)==null?void 0:B.value,D=(z=P.target)==null?void 0:z.selectionStart,A=(q=P.target)==null?void 0:q.selectionEnd,N=C?C.slice(0,D)+P.data+C.slice(A):P.data;/^-?(\d+(\.\d*)?|(\.\d+)|\d*|\.)$/.test(N)||P.preventDefault()}async function T(P){["Enter","ArrowLeft","ArrowRight","Backspace","Delete","Tab"].includes(P.key)||P.ctrlKey||["ArrowDown","ArrowUp"].includes(P.key)&&(P.preventDefault(),w(),await vt(),P.key==="ArrowDown"?x(!1):x())}function S(P){P.stopPropagation()}function w(){if(!r.value)return;const P=r.value.value;P&&!isNaN(+P)?s.value=$n(+P,t.min,t.max):s.value=null}return xe(()=>{const{modelValue:P,...C}=fa.filterProps(t);function D(){return n.increment?m(dt,{key:"increment-defaults",defaults:{VBtn:{disabled:!d.value,flat:!0,height:v.value,size:g.value,icon:h.value}}},{default:()=>[n.increment(_.value)]}):m(pt,{disabled:!d.value,flat:!0,key:"increment-btn",height:v.value,"data-testid":"increment","aria-hidden":"true",icon:h.value,onClick:k,onMousedown:S,size:g.value,tabindex:"-1"},null)}function A(){return n.decrement?m(dt,{key:"decrement-defaults",defaults:{VBtn:{disabled:!c.value,flat:!0,height:v.value,size:g.value,icon:p.value}}},{default:()=>[n.decrement(b.value)]}):m(pt,{disabled:!c.value,flat:!0,key:"decrement-btn",height:v.value,"data-testid":"decrement","aria-hidden":"true",icon:p.value,size:g.value,tabindex:"-1",onClick:I,onMousedown:S},null)}function N(){return m("div",{class:"v-number-input__control"},[A(),m(Qr,{vertical:f.value!=="stacked"},null),D()])}function B(){return!t.hideInput&&!t.inset?m(Qr,{vertical:!0},null):void 0}const z=f.value==="split"?m("div",{class:"v-number-input__control"},[m(Qr,{vertical:!0},null),D()]):t.reverse?void 0:m(Ee,null,[B(),N()]),q=n["append-inner"]||z,W=f.value==="split"?m("div",{class:"v-number-input__control"},[A(),m(Qr,{vertical:!0},null)]):t.reverse?m(Ee,null,[N(),B()]):void 0,K=n["prepend-inner"]||W;return m(fa,J({ref:r,modelValue:s.value,"onUpdate:modelValue":Y=>s.value=Y,onBeforeinput:E,onChange:w,onKeydown:T,class:["v-number-input",{"v-number-input--default":f.value==="default","v-number-input--hide-input":t.hideInput,"v-number-input--inset":t.inset,"v-number-input--reverse":t.reverse,"v-number-input--split":f.value==="split","v-number-input--stacked":f.value==="stacked"},t.class]},C,{style:t.style,inputmode:"decimal"}),{...n,"append-inner":q?function(){var le;for(var Y=arguments.length,Z=new Array(Y),ee=0;ee<Y;ee++)Z[ee]=arguments[ee];return m(Ee,null,[(le=n["append-inner"])==null?void 0:le.call(n,...Z),z])}:void 0,"prepend-inner":K?function(){var le;for(var Y=arguments.length,Z=new Array(Y),ee=0;ee<Y;ee++)Z[ee]=arguments[ee];return m(Ee,null,[W,(le=n["prepend-inner"])==null?void 0:le.call(n,...Z)])}:void 0})}),Pr({},r)}}),rve=te({...OC()},"VStepperActions"),m6=_e()({name:"VStepperVerticalActions",props:rve(),emits:{"click:prev":()=>!0,"click:next":()=>!0},setup(t,e){let{emit:n,slots:i}=e;function s(){n("click:prev")}function r(){n("click:next")}return xe(()=>{const a=sy.filterProps(t);return m(sy,J({class:"v-stepper-vertical-actions"},a,{"onClick:prev":s,"onClick:next":r}),i)}),{}}}),ave=te({hideActions:Boolean,...K3(),...tn(AC({expandIcon:"",collapseIcon:""}),["hideActions"])},"VStepperVerticalItem"),g6=_e()({name:"VStepperVerticalItem",props:ave(),emits:{"click:next":()=>!0,"click:prev":()=>!0,"click:finish":()=>!0},setup(t,e){let{emit:n,slots:i}=e;const s=G(),r=O(()=>isNaN(parseInt(t.value))?t.value:Number(t.value)),a=O(()=>{var b;return(b=s.value)==null?void 0:b.groupItem}),o=O(()=>{var b;return((b=a.value)==null?void 0:b.isSelected.value)??!1}),l=O(()=>o.value?t.rules.every(b=>b()===!0):null),u=O(()=>!t.disabled&&t.editable),d=O(()=>t.error||o.value&&!l.value),c=O(()=>t.complete||t.rules.length>0&&l.value===!0),f=O(()=>{var b;return t.disabled?t.disabled:(b=a.value)!=null&&b.isFirst.value?"prev":!1}),h=O(()=>{var b;return d.value?t.errorIcon:c.value?t.completeIcon:(b=a.value)!=null&&b.isSelected.value&&t.editable?t.editIcon:t.icon}),p=O(()=>({canEdit:u.value,hasError:d.value,hasCompleted:c.value,title:t.title,subtitle:t.subtitle,step:r.value,value:t.value})),g=O(()=>({...p.value,prev:_,next:v}));function v(){var b;n("click:next"),!((b=a.value)!=null&&b.isLast.value)&&a.value.group.next()}function _(){n("click:prev"),a.value.group.prev()}return xe(()=>{var I;const b=(c.value||((I=a.value)==null?void 0:I.isSelected.value))&&!d.value&&!t.disabled,x=!t.hideActions||!!i.actions,k=L1.filterProps(t);return m(L1,J({_as:"VStepperVerticalItem",ref:s},k,{class:["v-stepper-vertical-item",{"v-stepper-vertical-item--complete":c.value,"v-stepper-vertical-item--disabled":t.disabled,"v-stepper-vertical-item--editable":u.value,"v-stepper-vertical-item--error":d.value},t.class],readonly:!t.editable,style:t.style,color:"","hide-actions":!1,value:r.value}),{title:()=>{var E,T;return m(Ee,null,[m($s,{key:"stepper-avatar",class:"v-stepper-vertical-item__avatar",color:b?t.color:void 0,size:24,start:!0},{default:()=>{var S;return[((S=i.icon)==null?void 0:S.call(i,p.value))??(h.value?m(Bt,{icon:h.value},null):r.value)]}}),m("div",null,[m("div",{class:"v-stepper-vertical-item__title"},[((E=i.title)==null?void 0:E.call(i,p.value))??t.title]),m("div",{class:"v-stepper-vertical-item__subtitle"},[((T=i.subtitle)==null?void 0:T.call(i,p.value))??t.subtitle])])])},text:()=>{var E,T;return m(Ee,null,[((E=i.default)==null?void 0:E.call(i,p.value))??t.text,x&&m(dt,{defaults:{VStepperVerticalActions:{disabled:f.value,finish:(T=a.value)==null?void 0:T.isLast.value}}},{default:()=>{var S;return[((S=i.actions)==null?void 0:S.call(i,g.value))??m(m6,{"onClick:next":v,"onClick:prev":_},{prev:i.prev?()=>{var w;return(w=i.prev)==null?void 0:w.call(i,g.value)}:void 0,next:i.next?()=>{var w;return(w=i.next)==null?void 0:w.call(i,g.value)}:void 0})]}})])}})}),{}}}),ove=te({prevText:{type:String,default:"$vuetify.stepper.prev"},nextText:{type:String,default:"$vuetify.stepper.next"},...e6(),...tn(H3({mandatory:"force",variant:"accordion"}),["static"])},"VStepperVertical"),lve=_e()({name:"VStepperVertical",props:ove(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const i=G(),{color:s,eager:r,editable:a,prevText:o,nextText:l,hideActions:u}=Kl(t),d=ze(t,"modelValue"),c=O(()=>t.items.map((f,h)=>{const p=si(f,t.itemTitle,f),g=si(f,t.itemValue,h+1);return{title:p,value:g,raw:f}}));return Dn({VStepperVerticalItem:{color:s,eager:r,editable:a,prevText:o,nextText:l,hideActions:u,static:!0},VStepperActions:{color:s}}),xe(()=>{const f=N1.filterProps(t);return m(N1,J(f,{modelValue:d.value,"onUpdate:modelValue":h=>d.value=h,ref:i,class:["v-stepper",{"v-stepper--alt-labels":t.altLabels,"v-stepper--flat":t.flat,"v-stepper--non-linear":t.nonLinear,"v-stepper--mobile":t.mobile},t.class],style:t.style}),{...n,default:h=>{var v;let{prev:p,next:g}=h;return m(Ee,null,[c.value.map(_=>{let{raw:b,...x}=_;return m(g6,x,{...n,default:n[`item.${x.value}`]})}),(v=n.default)==null?void 0:v.call(n,{prev:p,next:g,step:d.value})])}})}),{}}}),uve=_e()({name:"VPullToRefresh",props:{disabled:Boolean,pullDownThreshold:{type:Number,default:64}},emits:{load:t=>!0},setup(t,e){let{slots:n,emit:i}=e,s=0,r=[];const a=Ve(0),o=G(),l=Ve(!1),u=Ve(!1),d=Ve(!1),c=O(()=>a.value>=t.pullDownThreshold&&!l.value),f=O(()=>$n(a.value,0,t.pullDownThreshold));function h(v){l.value||t.disabled||(d.value=!0,s="clientY"in v?v.clientY:v.touches[0].clientY)}function p(v){if(l.value||!d.value||t.disabled)return;const _="clientY"in v?v.clientY:v.touches[0].clientY;r.length&&!r[0].scrollTop&&(a.value=_-s)}function g(v){l.value||t.disabled||(d.value=!1,c.value?(i("load",{done:function(){l.value&&(a.value=0,l.value=!1)}}),l.value=!0):a.value=0)}Tt(()=>{r=Bm(o.value)}),we([f,l],()=>{if(r.length){const v=f.value&&!l.value;r.forEach(_=>_.style.overflow=v?"hidden":"auto")}}),we(f,(v,_)=>{u.value=v<_}),xe(()=>{var v;return m("div",{class:["v-pull-to-refresh"],onTouchstart:h,onTouchmove:p,onTouchend:g,onMousedown:h,onMouseup:g,onMouseleave:g,onMousemove:p,ref:o},[m("div",{class:["v-pull-to-refresh__pull-down",{"v-pull-to-refresh__pull-down--touching":d.value}],style:{top:Le(-1*t.pullDownThreshold+f.value),height:Le(t.pullDownThreshold)}},[n.pullDownPanel?n.pullDownPanel({canRefresh:c.value,goingUp:u.value,refreshing:l.value}):m("div",{class:["v-pull-to-refresh__pull-down-default"]},[l.value?m($l,{indeterminate:!0,active:!1},null):m(Bt,{icon:c.value||u.value?"$sortAsc":"$sortDesc"},null)])]),m("div",{class:["v-pull-to-refresh__scroll-container",{"v-pull-to-refresh__scroll-container--touching":d.value}],style:{top:Le(f.value)}},[(v=n.default)==null?void 0:v.call(n)])])})}}),cve=te({closable:[Boolean,String],closeText:{type:String,default:"$vuetify.dismiss"},modelValue:{type:Array,default:()=>[]},...tn(W3(),["modelValue"])},"VSnackbarQueue"),dve=_e()({name:"VSnackbarQueue",props:cve(),emits:{"update:modelValue":t=>!0},setup(t,e){let{emit:n,slots:i}=e;const{t:s}=gn(),r=Ve(!1),a=Ve(!1),o=Ve();we(()=>t.modelValue.length,(f,h)=>{!a.value&&f>h&&u()}),we(r,f=>{f&&(a.value=!0)});function l(){t.modelValue.length?u():(o.value=void 0,a.value=!1)}function u(){const[f,...h]=t.modelValue;n("update:modelValue",h),o.value=typeof f=="string"?{text:f}:f,vt(()=>{r.value=!0})}function d(){r.value=!1}const c=O(()=>({color:typeof t.closable=="string"?t.closable:void 0,text:s(t.closeText)}));xe(()=>{const f=!!(t.closable||i.actions),{modelValue:h,...p}=F1.filterProps(t);return m(Ee,null,[a.value&&!!o.value&&(i.default?m(dt,{defaults:{VSnackbar:o.value}},{default:()=>[i.default({item:o.value})]}):m(F1,J(p,o.value,{modelValue:r.value,"onUpdate:modelValue":g=>r.value=g,onAfterLeave:l}),{text:i.text?()=>{var g;return(g=i.text)==null?void 0:g.call(i,{item:o.value})}:void 0,actions:f?()=>m(Ee,null,[i.actions?m(dt,{defaults:{VBtn:c.value}},{default:()=>[i.actions({item:o.value,props:{onClick:d}})]}):m(pt,J(c.value,{onClick:d}),null)]):void 0}))])})}});function Fu(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;return String(t).padStart(e,"0")}const hve=te({allowedValues:Function,ampm:Boolean,color:String,disabled:Boolean,displayedValue:null,double:Boolean,format:{type:Function,default:t=>t},max:{type:Number,required:!0},min:{type:Number,required:!0},scrollable:Boolean,readonly:Boolean,rotate:{type:Number,default:0},step:{type:Number,default:1},modelValue:{type:Number}},"VTimePickerClock"),U1=_e()({name:"VTimePickerClock",props:hve(),emits:{change:t=>!0,input:t=>!0},setup(t,e){let{emit:n}=e;const i=G(null),s=G(null),r=G(void 0),a=G(!1),o=G(null),l=G(null),{textColorClasses:u,textColorStyles:d}=Ui(ge(t,"color")),{backgroundColorClasses:c,backgroundColorStyles:f}=rn(ge(t,"color")),h=O(()=>t.max-t.min+1),p=O(()=>t.double?h.value/2:h.value),g=O(()=>360/p.value),v=O(()=>g.value*Math.PI/180),_=O(()=>t.modelValue==null?t.min:t.modelValue),b=O(()=>.62),x=O(()=>{const W=[];for(let K=t.min;K<=t.max;K=K+t.step)W.push(K);return W});we(()=>t.modelValue,W=>{r.value=W});function k(W){r.value!==W&&(r.value=W),n("input",W)}function I(W){return!t.allowedValues||t.allowedValues(W)}function E(W){if(!t.scrollable||t.disabled)return;W.preventDefault();const K=Math.sign(-W.deltaY||1);let Y=_.value;do Y=Y+K,Y=(Y-t.min+h.value)%h.value+t.min;while(!I(Y)&&Y!==_.value);Y!==t.displayedValue&&k(Y)}function T(W){return t.double&&W-t.min>=p.value}function S(W){return T(W)?b.value:1}function w(W){const K=t.rotate*Math.PI/180;return{x:Math.sin((W-t.min)*v.value+K)*S(W),y:-Math.cos((W-t.min)*v.value+K)*S(W)}}function P(W,K){const Y=(Math.round(W/g.value)+(K?p.value:0))%h.value+t.min;return W<360-g.value/2?Y:K?t.max-p.value+1:t.min}function C(W){const{x:K,y:Y}=w(W);return{left:`${50+K*50}%`,top:`${50+Y*50}%`}}function D(W,K){const Y=K.x-W.x,Z=K.y-W.y;return Math.sqrt(Y*Y+Z*Z)}function A(W,K){const Y=2*Math.atan2(K.y-W.y-D(W,K),K.x-W.x);return Math.abs(Y*180/Math.PI)}function N(W){o.value===null&&(o.value=W),l.value=W,k(W)}function B(W){var ve,F;if(W.preventDefault(),!a.value&&W.type!=="click"||!i.value)return;const{width:K,top:Y,left:Z}=(ve=i.value)==null?void 0:ve.getBoundingClientRect(),{width:ee}=((F=s.value)==null?void 0:F.getBoundingClientRect())??{width:0},{clientX:le,clientY:de}="touches"in W?W.touches[0]:W,he={x:K/2,y:-K/2},re={x:le-Z,y:Y-de},U=Math.round(A(he,re)-t.rotate+360)%360,X=t.double&&D(he,re)<(ee+ee*b.value)/4,ae=Math.ceil(15/g.value);let pe;for(let L=0;L<ae;L++)if(pe=P(U+L*g.value,X),I(pe)||(pe=P(U-L*g.value,X),I(pe)))return N(pe)}function z(W){t.disabled||(W.preventDefault(),window.addEventListener("mousemove",B),window.addEventListener("touchmove",B),window.addEventListener("mouseup",q),window.addEventListener("touchend",q),o.value=null,l.value=null,a.value=!0,B(W))}function q(W){W.stopPropagation(),window.removeEventListener("mousemove",B),window.removeEventListener("touchmove",B),window.removeEventListener("mouseup",q),window.removeEventListener("touchend",q),a.value=!1,l.value!==null&&I(l.value)&&n("change",l.value)}xe(()=>m("div",{class:[{"v-time-picker-clock":!0,"v-time-picker-clock--indeterminate":t.modelValue==null,"v-time-picker-clock--readonly":t.readonly}],onMousedown:z,onTouchstart:z,onWheel:E,ref:i},[m("div",{class:"v-time-picker-clock__inner",ref:s},[m("div",{class:[{"v-time-picker-clock__hand":!0,"v-time-picker-clock__hand--inner":T(t.modelValue)},u.value],style:[{transform:`rotate(${t.rotate+g.value*(_.value-t.min)}deg) scaleY(${S(_.value)})`},d.value]},null),x.value.map(W=>{const K=W===_.value;return m("div",{class:[{"v-time-picker-clock__item":!0,"v-time-picker-clock__item--active":K,"v-time-picker-clock__item--disabled":t.disabled||!I(W)},K&&c.value],style:[C(W),K&&f.value]},[m("span",null,[t.format(W)])])})])]))}});var ni=function(t){return t[t.Hour=1]="Hour",t[t.Minute=2]="Minute",t[t.Second=3]="Second",t}(ni||{});const fve=te({ampm:Boolean,ampmInTitle:Boolean,ampmReadonly:Boolean,color:String,disabled:Boolean,hour:Number,minute:Number,second:Number,period:String,readonly:Boolean,useSeconds:Boolean,selecting:Number,value:Number},"VTimePickerControls"),H1=_e()({name:"VTimePickerControls",props:fve(),emits:{"update:period":t=>!0,"update:selecting":t=>!0},setup(t,e){let{emit:n,slots:i}=e;const{t:s}=gn();return xe(()=>{let r=t.hour;return t.ampm&&(r=r?(r-1)%12+1:12),m("div",{class:"v-time-picker-controls"},[m("div",{class:{"v-time-picker-controls__time":!0,"v-time-picker-controls__time--with-seconds":t.useSeconds}},[m(pt,{active:t.selecting===1,color:t.selecting===1?t.color:void 0,disabled:t.disabled,variant:"tonal",class:{"v-time-picker-controls__time__btn":!0,"v-time-picker-controls__time--with-ampm__btn":t.ampm,"v-time-picker-controls__time--with-seconds__btn":t.useSeconds},text:t.hour==null?"--":Fu(`${r}`),onClick:()=>n("update:selecting",ni.Hour)},null),m("span",{class:["v-time-picker-controls__time__separator",{"v-time-picker-controls--with-seconds__time__separator":t.useSeconds}]},[Pe(":")]),m(pt,{active:t.selecting===2,color:t.selecting===2?t.color:void 0,class:{"v-time-picker-controls__time__btn":!0,"v-time-picker-controls__time__btn__active":t.selecting===2,"v-time-picker-controls__time--with-ampm__btn":t.ampm,"v-time-picker-controls__time--with-seconds__btn":t.useSeconds},disabled:t.disabled,variant:"tonal",text:t.minute==null?"--":Fu(t.minute),onClick:()=>n("update:selecting",ni.Minute)},null),t.useSeconds&&m("span",{class:["v-time-picker-controls__time__separator",{"v-time-picker-controls--with-seconds__time__separator":t.useSeconds}],key:"secondsDivider"},[Pe(":")]),t.useSeconds&&m(pt,{key:"secondsVal",variant:"tonal",onClick:()=>n("update:selecting",ni.Second),class:{"v-time-picker-controls__time__btn":!0,"v-time-picker-controls__time__btn__active":t.selecting===3,"v-time-picker-controls__time--with-seconds__btn":t.useSeconds},disabled:t.disabled,text:t.second==null?"--":Fu(t.second)},null),t.ampm&&t.ampmInTitle&&m("div",{class:["v-time-picker-controls__ampm",{"v-time-picker-controls__ampm--readonly":t.ampmReadonly}]},[m(pt,{active:t.period==="am",color:t.period==="am"?t.color:void 0,class:{"v-time-picker-controls__ampm__am":!0,"v-time-picker-controls__ampm__btn":!0,"v-time-picker-controls__ampm__btn__active":t.period==="am"},disabled:t.disabled,text:s("$vuetify.timePicker.am"),variant:t.disabled&&t.period==="am"?"elevated":"tonal",onClick:()=>t.period!=="am"?n("update:period","am"):null},null),m(pt,{active:t.period==="pm",color:t.period==="pm"?t.color:void 0,class:{"v-time-picker-controls__ampm__pm":!0,"v-time-picker-controls__ampm__btn":!0,"v-time-picker-controls__ampm__btn__active":t.period==="pm"},disabled:t.disabled,text:s("$vuetify.timePicker.pm"),variant:t.disabled&&t.period==="pm"?"elevated":"tonal",onClick:()=>t.period!=="pm"?n("update:period","pm"):null},null)])])])}),{}}}),mve=mr(24),p6=mr(12),gve=p6.map(t=>t+12);mr(60);const pve={1:"hour",2:"minute",3:"second"},vve=te({allowedHours:[Function,Array],allowedMinutes:[Function,Array],allowedSeconds:[Function,Array],ampmInTitle:Boolean,disabled:Boolean,format:{type:String,default:"ampm"},max:String,min:String,modelValue:null,readonly:Boolean,scrollable:Boolean,useSeconds:Boolean,...tn(DC({title:"$vuetify.timePicker.title"}),["landscape"])},"VTimePicker"),_ve=_e()({name:"VTimePicker",props:vve(),emits:{"update:hour":t=>!0,"update:minute":t=>!0,"update:period":t=>!0,"update:second":t=>!0,"update:modelValue":t=>!0},setup(t,e){let{emit:n,slots:i}=e;const{t:s}=gn(),r=G(null),a=G(null),o=G(null),l=G(null),u=G(null),d=G(null),c=G("am"),f=G(ni.Hour),h=G(null),p=G(null),g=O(()=>{let D;if(t.allowedHours instanceof Array?D=B=>t.allowedHours.includes(B):D=t.allowedHours,!t.min&&!t.max)return D;const A=t.min?Number(t.min.split(":")[0]):0,N=t.max?Number(t.max.split(":")[0]):23;return B=>B>=A*1&&B<=N*1&&(!D||D(B))}),v=O(()=>{let D;const A=!g.value||r.value===null||g.value(r.value);if(t.allowedMinutes instanceof Array?D=Y=>t.allowedMinutes.includes(Y):D=t.allowedMinutes,!t.min&&!t.max)return A?D:()=>!1;const[N,B]=t.min?t.min.split(":").map(Number):[0,0],[z,q]=t.max?t.max.split(":").map(Number):[23,59],W=N*60+B*1,K=z*60+q*1;return Y=>{const Z=60*r.value+Y;return Z>=W&&Z<=K&&A&&(!D||D(Y))}}),_=O(()=>{let D;const N=(!g.value||r.value===null||g.value(r.value))&&(!v.value||a.value===null||v.value(a.value));if(t.allowedSeconds instanceof Array?D=le=>t.allowedSeconds.includes(le):D=t.allowedSeconds,!t.min&&!t.max)return N?D:()=>!1;const[B,z,q]=t.min?t.min.split(":").map(Number):[0,0,0],[W,K,Y]=t.max?t.max.split(":").map(Number):[23,59,59],Z=B*3600+z*60+(q||0)*1,ee=W*3600+K*60+(Y||0)*1;return le=>{const de=3600*r.value+60*a.value+le;return de>=Z&&de<=ee&&N&&(!D||D(le))}}),b=O(()=>t.format==="ampm");we(()=>t.modelValue,D=>T(D)),Tt(()=>{T(t.modelValue)});function x(){return r.value!=null&&a.value!=null&&(!t.useSeconds||o.value!=null)?`${Fu(r.value)}:${Fu(a.value)}`+(t.useSeconds?`:${Fu(o.value)}`:""):null}function k(){const D=x();D!==null&&n("update:modelValue",D)}function I(D){return D?(D-1)%12+1:12}function E(D,A){return D%12+(A==="pm"?12:0)}function T(D){if(D==null||D==="")r.value=null,a.value=null,o.value=null;else if(D instanceof Date)r.value=D.getHours(),a.value=D.getMinutes(),o.value=D.getSeconds();else{const[A,,N,,B,z]=D.trim().toLowerCase().match(/^(\d+):(\d+)(:(\d+))?([ap]m)?$/)||new Array(6);r.value=z?E(parseInt(A,10),z):parseInt(A,10),a.value=parseInt(N,10),o.value=parseInt(B||0,10)}c.value=r.value==null||r.value<12?"am":"pm"}function S(D,A){const N=g.value;if(!N)return A;const B=b.value?A<12?p6:gve:mve;return((B.find(q=>N((q+A)%B.length+B[0]))||0)+A)%B.length+B[0]}function w(D){if(c.value=D,r.value!=null){const A=r.value+(c.value==="am"?-12:12);r.value=S("hour",A)}return n("update:period",D),k(),!0}function P(D){f.value===ni.Hour?r.value=b.value?E(D,c.value):D:f.value===ni.Minute?a.value=D:o.value=D}function C(D){switch(pve[f.value]){case"hour":n("update:hour",D);break;case"minute":n("update:minute",D);break;case"second":n("update:second",D);break}const A=f.value===(t.useSeconds?ni.Second:ni.Minute);f.value===ni.Hour?f.value=ni.Minute:t.useSeconds&&f.value===ni.Minute&&(f.value=ni.Second),!(r.value===l.value&&a.value===u.value&&(!t.useSeconds||o.value===d.value)||x()===null)&&(l.value=r.value,u.value=a.value,t.useSeconds&&(d.value=o.value),A&&k())}xe(()=>{const D=ng.filterProps(t),A=H1.filterProps(t),N=U1.filterProps(tn(t,["format","modelValue","min","max"]));return m(ng,J(D,{color:void 0,class:["v-time-picker",t.class],style:t.style}),{title:()=>{var B;return((B=i.title)==null?void 0:B.call(i))??m("div",{class:"v-time-picker__title"},[s(t.title)])},header:()=>m(H1,J(A,{ampm:b.value||t.ampmInTitle,ampmReadonly:b.value&&!t.ampmInTitle,hour:r.value,minute:a.value,period:c.value,second:o.value,selecting:f.value,"onUpdate:period":B=>w(B),"onUpdate:selecting":B=>f.value=B,ref:h}),null),default:()=>m(U1,J(N,{allowedValues:f.value===ni.Hour?g.value:f.value===ni.Minute?v.value:_.value,double:f.value===ni.Hour&&!b.value,format:f.value===ni.Hour?b.value?I:B=>B:B=>Fu(B,2),max:f.value===ni.Hour?b.value&&c.value==="am"?11:23:59,min:f.value===ni.Hour&&b.value&&c.value==="pm"?12:0,size:20,step:f.value===ni.Hour?1:5,modelValue:f.value===ni.Hour?r.value:f.value===ni.Minute?a.value:o.value,onChange:C,onInput:P,ref:p}),null),actions:i.actions})})}}),yve=te({...tn(d5({collapseIcon:"$treeviewCollapse",expandIcon:"$treeviewExpand"}),["subgroup"])},"VTreeviewGroup"),z1=_e()({name:"VTreeviewGroup",props:yve(),setup(t,e){let{slots:n}=e;const i=G(),s=O(()=>{var a;return(a=i.value)!=null&&a.isOpen?t.collapseIcon:t.expandIcon}),r=O(()=>{var a;return{VTreeviewItem:{prependIcon:void 0,appendIcon:void 0,active:(a=i.value)==null?void 0:a.isOpen,toggleIcon:s.value}}});return xe(()=>{const a=eg.filterProps(t);return m(eg,J(a,{ref:i,class:["v-treeview-group",t.class],subgroup:!0}),{...n,activator:n.activator?o=>m(Ee,null,[m(dt,{defaults:r.value},{default:()=>{var l;return[(l=n.activator)==null?void 0:l.call(n,o)]}})]):void 0})}),{}}}),v6=Symbol.for("vuetify:v-treeview"),bve=te({loading:Boolean,onToggleExpand:Oi(),toggleIcon:Ge,...rC({slim:!0})},"VTreeviewItem"),W1=_e()({name:"VTreeviewItem",props:bve(),setup(t,e){let{attrs:n,slots:i,emit:s}=e;const r=Hh(t,n),a=G(),o=O(()=>{var c,f;return((c=a.value)==null?void 0:c.root.activatable.value)&&((f=a.value)==null?void 0:f.isGroupActivator)}),l=O(()=>{var c;return!t.disabled&&t.link!==!1&&(t.link||r.isClickable.value||t.value!=null&&!!((c=a.value)!=null&&c.list)||o.value)});function u(c){var f,h;l.value&&o.value&&((h=a.value)==null||h.activate(!((f=a.value)!=null&&f.isActivated),c))}const d=gt(v6,{visibleIds:G()}).visibleIds;return xe(()=>{var h,p;const c=tn(br.filterProps(t),["onClick"]),f=i.prepend||t.toggleIcon;return m(br,J({ref:a},c,{active:(h=a.value)==null?void 0:h.isActivated,class:["v-treeview-item",{"v-treeview-item--activatable-group-activator":o.value,"v-treeview-item--filtered":d.value&&!d.value.has((p=a.value)==null?void 0:p.id)},t.class],ripple:!1,onClick:t.onClick??u}),{...i,prepend:f?g=>{var v;return m(Ee,null,[t.toggleIcon&&m(x5,{start:!1},{default:()=>[m(pt,{density:"compact",icon:t.toggleIcon,loading:t.loading,variant:"text",onClick:t.onToggleExpand},{loader(){return m($l,{indeterminate:"disable-shrink",size:"20",width:"2"},null)}})]}),(v=i.prepend)==null?void 0:v.call(i,g)])}:void 0})}),{}}}),_6=te({loadChildren:Function,loadingIcon:{type:String,default:"$loading"},items:Array,openOnClick:{type:Boolean,default:void 0},indeterminateIcon:{type:Ge,default:"$checkboxIndeterminate"},falseIcon:Ge,trueIcon:Ge,returnObject:Boolean,selectable:Boolean,selectedColor:String,selectStrategy:[String,Function,Object]},"VTreeviewChildren"),ry=_e()({name:"VTreeviewChildren",props:_6(),setup(t,e){let{slots:n}=e;const i=mn(new Set),s=O(()=>t.openOnClick!=null?t.openOnClick:t.selectable);async function r(o){var l,u;try{if(!((l=t.items)!=null&&l.length)||!t.loadChildren)return;((u=o==null?void 0:o.children)==null?void 0:u.length)===0&&(i.add(o.value),await t.loadChildren(o.raw))}finally{i.delete(o.value)}}function a(o,l){t.selectable&&o(!l)}return()=>{var o,l;return((o=n.default)==null?void 0:o.call(n))??((l=t.items)==null?void 0:l.map(u=>{var v;const{children:d,props:c}=u,f=i.has(u.value),h={prepend:_=>{var b;return m(Ee,null,[t.selectable&&(!d||d&&!["leaf","single-leaf"].includes(t.selectStrategy))&&m("div",null,[m(Wa,{key:u.value,modelValue:_.isSelected,loading:f,color:t.selectedColor,indeterminate:_.isIndeterminate,indeterminateIcon:t.indeterminateIcon,falseIcon:t.falseIcon,trueIcon:t.trueIcon,onClick:Ju(()=>a(_.select,_.isSelected),["stop"]),onKeydown:x=>{["Enter","Space"].includes(x.key)&&(x.stopPropagation(),a(_.select,_.isSelected))}},null)]),(b=n.prepend)==null?void 0:b.call(n,{..._,item:u.raw,internalItem:u})])},append:n.append?_=>{var b;return(b=n.append)==null?void 0:b.call(n,{..._,item:u.raw,internalItem:u})}:void 0,title:n.title?_=>{var b;return(b=n.title)==null?void 0:b.call(n,{..._,item:u.raw,internalItem:u})}:void 0},p=z1.filterProps(c),g=ry.filterProps(t);return d?m(z1,J(p,{value:t.returnObject?u.raw:p==null?void 0:p.value}),{activator:_=>{let{props:b}=_;const x={...c,...b,value:c==null?void 0:c.value,onToggleExpand:[()=>r(u),b.onClick],onClick:s.value?[()=>r(u),b.onClick]:void 0};return m(W1,J(x,{value:t.returnObject?Xe(u.raw):c.value,loading:f}),h)},default:()=>m(ry,J(g,{items:d,returnObject:t.returnObject}),n)}):((v=n.item)==null?void 0:v.call(n,{props:c,item:u.raw,internalItem:u}))??m(W1,J(c,{value:t.returnObject?Xe(u.raw):c.value}),h)}))}}});function y6(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];for(const n of t)e.push(n),n.children&&y6(n.children,e);return e}const wve=te({openAll:Boolean,search:String,...qh({filterKeys:["title"]}),..._6(),...tn(w5({collapseIcon:"$treeviewCollapse",expandIcon:"$treeviewExpand",slim:!0}),["itemType","nav","openStrategy"]),modelValue:{type:Array,default:()=>[]}},"VTreeview"),xve=_e()({name:"VTreeview",props:wve(),emits:{"update:opened":t=>!0,"update:activated":t=>!0,"update:selected":t=>!0,"update:modelValue":t=>!0,"click:open":t=>!0,"click:select":t=>!0},setup(t,e){let{slots:n}=e;const{items:i}=b5(t),s=ge(t,"activeColor"),r=ge(t,"baseColor"),a=ge(t,"color"),o=ze(t,"activated"),l=ze(t,"modelValue"),u=ze(t,"selected",t.modelValue),d=O({get:()=>u.value,set(x){u.value=x,l.value=x}}),c=G(),f=O(()=>t.openAll?b(i.value):t.opened),h=O(()=>y6(i.value)),p=ge(t,"search"),{filteredItems:g}=Xh(t,h,p),v=O(()=>{var k;if(!p.value)return null;const x=(k=c.value)==null?void 0:k.getPath;return x?new Set(g.value.flatMap(I=>{const E=t.returnObject?I.raw:I.props.value;return[...x(E),..._(E)].map(Xe)})):null});function _(x){var E,T;const k=[],I=(((E=c.value)==null?void 0:E.children.get(x))??[]).slice();for(;I.length;){const S=I.shift();S&&(k.push(S),I.push(...(((T=c.value)==null?void 0:T.children.get(S))??[]).slice()))}return k}function b(x){let k=[];for(const I of x)I.children&&(k.push(t.returnObject?Xe(I.raw):I.value),I.children&&(k=k.concat(b(I.children))));return k}return Jt(v6,{visibleIds:v}),Dn({VTreeviewGroup:{activeColor:s,baseColor:r,color:a,collapseIcon:ge(t,"collapseIcon"),expandIcon:ge(t,"expandIcon")},VTreeviewItem:{activeClass:ge(t,"activeClass"),activeColor:s,baseColor:r,color:a,density:ge(t,"density"),disabled:ge(t,"disabled"),lines:ge(t,"lines"),variant:ge(t,"variant")}}),xe(()=>{const x=dh.filterProps(t),k=ry.filterProps(t);return m(dh,J({ref:c},x,{class:["v-treeview",t.class],"open-strategy":"multiple",style:t.style,opened:f.value,activated:o.value,"onUpdate:activated":I=>o.value=I,selected:d.value,"onUpdate:selected":I=>d.value=I}),{default:()=>[m(ry,J(k,{returnObject:t.returnObject,items:i.value}),n)]})}),{}}}),Sve=Object.freeze(Object.defineProperty({__proto__:null,VCalendar:Qpe,VCalendarDay:jv,VCalendarHeader:$1,VCalendarInterval:j1,VCalendarIntervalEvent:B1,VCalendarMonthDay:h6,VDateInput:Zpe,VFileUpload:nve,VFileUploadItem:f6,VNumberInput:sve,VPicker:ng,VPickerTitle:B3,VPullToRefresh:uve,VSnackbarQueue:dve,VStepperVertical:lve,VStepperVerticalActions:m6,VStepperVerticalItem:g6,VTimePicker:_ve,VTimePickerClock:U1,VTimePickerControls:H1,VTreeview:xve,VTreeviewGroup:z1,VTreeviewItem:W1},Symbol.toStringTag,{value:"Module"})),kve={badge:"Distintivo",open:"Apri",close:"Chiudi",dismiss:"Dismiss",confirmEdit:{ok:"OK",cancel:"Annulla"},dataIterator:{noResultsText:"Nessun risultato trovato",loadingText:"Caricamento in corso..."},dataTable:{itemsPerPageText:"Righe per pagina:",ariaLabel:{sortDescending:"Ordinati in ordine decrescente.",sortAscending:"Ordinati in ordine crescente.",sortNone:"Non ordinato.",activateNone:"Attiva per rimuovere l'ordinamento.",activateDescending:"Attiva per ordinare in ordine decrescente.",activateAscending:"Attiva per ordinare in ordine crescente."},sortBy:"Ordina per"},dataFooter:{itemsPerPageText:"Elementi per pagina:",itemsPerPageAll:"Tutti",nextPage:"Pagina seguente",prevPage:"Pagina precedente",firstPage:"Prima pagina",lastPage:"Ultima pagina",pageText:"{0}-{1} di {2}"},dateRangeInput:{divider:"a"},datePicker:{itemsSelected:"{0} selected",range:{title:"Seleziona date",header:"Inserisci date"},title:"Seleziona data",header:"Inserisci data",input:{placeholder:"Inserisci data"}},noDataText:"Nessun elemento disponibile",carousel:{prev:"Vista precedente",next:"Prossima vista",ariaLabel:{delimiter:"Slide carosello {0} di {1}"}},calendar:{moreEvents:"{0} di più",today:"Today"},input:{clear:"Cancella {0}",prependAction:"Azione precedente {0}",appendAction:"Azione successiva {0}",otp:"Inserisci il codice OTP {0}"},fileInput:{counter:"{0} file",counterSize:"{0} file ({1} in totale)"},fileUpload:{title:"Drag and drop files here",divider:"or",browse:"Browse Files"},timePicker:{am:"AM",pm:"PM",title:"Select Time"},pagination:{ariaLabel:{root:"Navigazione impaginazione",next:"Pagina seguente",previous:"Pagina precedente",page:"Vai alla pagina {0}",currentPage:"Pagina corrente, pagina {0}",first:"Prima pagina",last:"Ultima pagina"}},stepper:{next:"Successivo",prev:"Precedente"},rating:{ariaLabel:{item:"Valutazione {0} di {1}"}},loading:"Caricamento...",infiniteScroll:{loadMore:"Carica altro",empty:"Nessun elemento"}},Tve={dark:!1,colors:{background:"#FFFFFF",surface:"#FFFFFF",primary:"#6200EE","primary-darken-1":"#3700B3",secondary:"#03DAC6","secondary-darken-1":"#018786",error:"#B00020",info:"#2196F3",success:"#4CAF50",warning:"#FB8C00","blue-grey-lighten":"#37474F"}},Pve={dark:!0,colors:{success:"#78dc77",secondary:"#000000",primary:"#cfbdff",info:"#9ecaff","blue-grey-lighten":"#ECEFF1"}},Cve=t$({components:{...Mpe,...Sve},directives:Ype,theme:{defaultTheme:"myCustomLightTheme",themes:{myCustomLightTheme:Tve,myCustomDarkTheme:Pve}},locale:{locale:"it",fallback:"en",messages:{en:jj,it:kve}},date:{locale:{it:"it-IT"}}}),sp=kt({__name:"BackButton",props:{delta:{default:1}},setup(t){const e=t,n=Oc();function i(){const s=Math.abs(e.delta??1);n.go(-s)}return(s,r)=>{const a=j("v-btn");return be(),De(a,{icon:"mdi-arrow-left",onClick:i,variant:"text"})}}});var Kh=(t=>(t.SCHOOLS="schools",t.STUDENTS="students",t.WEEKLY_LESSONS="weeklyLessons",t.DAILY_LESSONS="dailyLessons",t.RECOVERY_LESSONS="recoveryLessons",t))(Kh||{});const Eve=()=>({toFirestore:t=>t,fromFirestore:t=>{const e=t.data();return e.id=t.id,e}}),Ive=t=>XZ(MS(),t).withConverter(Eve());function rp(t,e){const n=`${t}/${e}/user${t.charAt(0).toUpperCase()+t.slice(1)}`;return Ive(n)}class b6{constructor(){an(this,"handlers",[]);an(this,"unsubscription");an(this,"cache")}subscribe(e,n=!1){return this.handlers.push(e),n&&this.cache!=null&&e.next(this.cache),new Dve(this,e)}unsubscribe(e){var i;const n=this.handlers.indexOf(e);n!==-1&&this.handlers.splice(n,1),this.handlers.length==0&&((i=this.unsubscription)==null||i.call(this))}unsubscribeAll(){this.clear()}setUnsubscription(e){this.unsubscription=e}next(e){this.cache=e,[...this.handlers].forEach(n=>n.next(e))}error(e){[...this.handlers].forEach(n=>{var i;return(i=n.error)==null?void 0:i.call(n,e)}),console.log(e)}clear(){this.handlers=[]}expose(){return this}}class Dve{constructor(e,n){this.liteEvent=e,this.handler=n}unsubscribe(){this.liteEvent.unsubscribe(this.handler)}}class ap{constructor(e){an(this,"user",vN());an(this,"cache",{});this._collectionReference=e}get collectionReference(){var e,n,i;return(this.cache.userId!=((e=this.user.value)==null?void 0:e.uid)||!this.cache.collectionReference)&&(this.cache={userId:(n=this.user.value)==null?void 0:n.uid,collectionReference:this._collectionReference(((i=this.user.value)==null?void 0:i.uid)??"")}),this.cache.collectionReference}observe(e){return O(()=>Of(this.collectionReference,e.value))}async get(e){return(await this.getDoc(e)).data()}async getDoc(e){return await fP(Of(this.collectionReference,e))}async getAll(...e){const n=M0(this.collectionReference,...e);return(await IS(n)).docs.map(s=>s.data())}async getAllDocs(...e){const n=M0(this.collectionReference,...e);return await IS(n)}async save(e,n){return console.log(e),n!=null?(lee(Of(this.collectionReference,n),e),n):(await cee(this.collectionReference,e)).id}observeAll(...e){const n=new b6,i=M0(this.collectionReference,...e),s=Bb(i,r=>{const a=r.docs.map(o=>o.data());n.next(a)},r=>{n.error(r)});return n.setUnsubscription(s),n}async delete(e){await uee(Of(this.collectionReference,e))}deleteAll(){throw new Error("Method not implemented.")}}const Ry=class Ry extends ap{constructor(){super(e=>rp(Kh.SCHOOLS,e))}static get instance(){return this._instance||(this._instance=new Ry),this._instance}};an(Ry,"_instance",null);let Lr=Ry;const qi=[];for(let t=0;t<256;++t)qi.push((t+256).toString(16).slice(1));function Ave(t,e=0){return(qi[t[e+0]]+qi[t[e+1]]+qi[t[e+2]]+qi[t[e+3]]+"-"+qi[t[e+4]]+qi[t[e+5]]+"-"+qi[t[e+6]]+qi[t[e+7]]+"-"+qi[t[e+8]]+qi[t[e+9]]+"-"+qi[t[e+10]]+qi[t[e+11]]+qi[t[e+12]]+qi[t[e+13]]+qi[t[e+14]]+qi[t[e+15]]).toLowerCase()}let ax;const Rve=new Uint8Array(16);function Ove(){if(!ax){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");ax=crypto.getRandomValues.bind(crypto)}return ax(Rve)}const Mve=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),KO={randomUUID:Mve};function Bd(t,e,n){var s;if(KO.randomUUID&&!t)return KO.randomUUID();t=t||{};const i=t.random??((s=t.rng)==null?void 0:s.call(t))??Ove();if(i.length<16)throw new Error("Random bytes length must be >= 16");return i[6]=i[6]&15|64,i[8]=i[8]&63|128,Ave(i)}const Oy=class Oy extends ap{constructor(){super(e=>rp(Kh.WEEKLY_LESSONS,e))}static get instance(){return this._instance||(this._instance=new Oy),this._instance}};an(Oy,"_instance",null);let ia=Oy;const My=class My extends ap{constructor(){super(e=>rp(Kh.DAILY_LESSONS,e))}static get instance(){return this._instance||(this._instance=new My),this._instance}};an(My,"_instance",null);let Ot=My;const Vve=!1;class Ki{static string(e=8){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let i="";for(let s=0;s<e;s++)i+=n.charAt(Math.floor(Math.random()*n.length));return i}static word(e=8){let n="";const i="bcdfghjklmnpqrstvwxyz",s="aeiou";for(let r=0;r<e;r=r+3)n+=i[Math.floor(Math.random()*i.length)],n+=s[Math.floor(Math.random()*s.length)],n+=i[Math.floor(Math.random()*i.length)];return n}static int(e=0,n=10){return e=Math.ceil(e),n=Math.floor(n),Math.floor(Math.random()*(n-e+1))+e}static bool(){return Math.random()>=.5}static item(e){if(e.length!=0)return e[this.int(0,e.length-1)]}static items(e,n){if(e.length==0)return[];n??(n=Ki.int(1,e.length-1));const i=[],s=[...e];for(let r=0;r<n;r++){const a=this.int(0,s.length);i.push(s[a]),s.splice(a,1)}return i}static date(e,n){n??(n=new Date),e||(e=new Date,e.setMonth(n.getMonth()-6));const i=e.getTime(),s=n.getTime();return new Date(i+Math.random()*(s-i))}static time(e=0,n=86400,i="minute"){const s=$t.fromITime(this.int(e,n));return i=="minute"&&s.setSeconds(0),s.format()}static text(e=4){let n="";for(let i=0;i<e;i++){for(let s=0;s<this.int(5,20);s++)n+=this.word(this.int(5,10))+" ";n=n.slice(0,-1)+".",this.bool()?n+=`
`:n+=" "}return n}}const Vy=class Vy extends ap{constructor(){super(e=>rp(Kh.STUDENTS,e))}static get instance(){return this._instance||(this._instance=new Vy),this._instance}};an(Vy,"_instance",null);let Ys=Vy;/**
  * vee-validate v4.15.0
  * (c) 2024 Abdelrahman Awad
  * @license MIT
  */function Wr(t){return typeof t=="function"}function w6(t){return t==null}const hh=t=>t!==null&&!!t&&typeof t=="object"&&!Array.isArray(t);function VC(t){return Number(t)>=0}function Lve(t){return typeof t=="object"&&t!==null}function Nve(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}function QO(t){if(!Lve(t)||Nve(t)!=="[object Object]")return!1;if(Object.getPrototypeOf(t)===null)return!0;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function sg(t,e){return Object.keys(e).forEach(n=>{if(QO(e[n])&&QO(t[n])){t[n]||(t[n]={}),sg(t[n],e[n]);return}t[n]=e[n]}),t}function Qp(t){const e=t.split(".");if(!e.length)return"";let n=String(e[0]);for(let i=1;i<e.length;i++){if(VC(e[i])){n+=`[${e[i]}]`;continue}n+=`.${e[i]}`}return n}const Fve={};function Bve(t){return Fve[t]}function JO(t,e,n){typeof n.value=="object"&&(n.value=Cn(n.value)),!n.enumerable||n.get||n.set||!n.configurable||!n.writable||e==="__proto__"?Object.defineProperty(t,e,n):t[e]=n.value}function Cn(t){if(typeof t!="object")return t;var e=0,n,i,s,r=Object.prototype.toString.call(t);if(r==="[object Object]"?s=Object.create(t.__proto__||null):r==="[object Array]"?s=Array(t.length):r==="[object Set]"?(s=new Set,t.forEach(function(a){s.add(Cn(a))})):r==="[object Map]"?(s=new Map,t.forEach(function(a,o){s.set(Cn(o),Cn(a))})):r==="[object Date]"?s=new Date(+t):r==="[object RegExp]"?s=new RegExp(t.source,t.flags):r==="[object DataView]"?s=new t.constructor(Cn(t.buffer)):r==="[object ArrayBuffer]"?s=t.slice(0):r.slice(-6)==="Array]"&&(s=new t.constructor(t)),s){for(i=Object.getOwnPropertySymbols(t);e<i.length;e++)JO(s,i[e],Object.getOwnPropertyDescriptor(t,i[e]));for(e=0,i=Object.getOwnPropertyNames(t);e<i.length;e++)Object.hasOwnProperty.call(s,n=i[e])&&s[n]===t[n]||JO(s,n,Object.getOwnPropertyDescriptor(t,n))}return s||t}const jve=Symbol("vee-validate-form"),$ve=Symbol("vee-validate-form-context"),Uve=typeof window<"u";function Hve(t){return Wr(t)&&!!t.__locatorRef}function bl(t){return!!t&&Wr(t.parse)&&t.__type==="VVTypedSchema"}function x6(t){return!!t&&Wr(t.validate)}function zve(t){return t==="checkbox"||t==="radio"}function Wve(t){return hh(t)||Array.isArray(t)}function Yve(t){return Array.isArray(t)?t.length===0:hh(t)&&Object.keys(t).length===0}function Aw(t){return/^\[.+\]$/i.test(t)}function Gve(t){return S6(t)&&t.multiple}function S6(t){return t.tagName==="SELECT"}function qve(t){return k6(t)&&t.target&&"submit"in t.target}function k6(t){return t?!!(typeof Event<"u"&&Wr(Event)&&t instanceof Event||t&&t.srcElement):!1}function om(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;var n,i,s;if(Array.isArray(t)){if(n=t.length,n!=e.length)return!1;for(i=n;i--!==0;)if(!om(t[i],e[i]))return!1;return!0}if(t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(i of t.entries())if(!e.has(i[0]))return!1;for(i of t.entries())if(!om(i[1],e.get(i[0])))return!1;return!0}if(eM(t)&&eM(e))return!(t.size!==e.size||t.name!==e.name||t.lastModified!==e.lastModified||t.type!==e.type);if(t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(i of t.entries())if(!e.has(i[0]))return!1;return!0}if(ArrayBuffer.isView(t)&&ArrayBuffer.isView(e)){if(n=t.length,n!=e.length)return!1;for(i=n;i--!==0;)if(t[i]!==e[i])return!1;return!0}if(t.constructor===RegExp)return t.source===e.source&&t.flags===e.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===e.toString();if(s=Object.keys(t),n=s.length-ZO(t,s),n!==Object.keys(e).length-ZO(e,Object.keys(e)))return!1;for(i=n;i--!==0;)if(!Object.prototype.hasOwnProperty.call(e,s[i]))return!1;for(i=n;i--!==0;){var r=s[i];if(!om(t[r],e[r]))return!1}return!0}return t!==t&&e!==e}function ZO(t,e){let n=0;for(let s=e.length;s--!==0;){var i=e[s];t[i]===void 0&&n++}return n}function eM(t){return Uve?t instanceof File:!1}function LC(t){return Aw(t)?t.replace(/\[|\]/gi,""):t}function go(t,e,n){return t?Aw(e)?t[LC(e)]:(e||"").split(/\.|\[(\d+)\]/).filter(Boolean).reduce((s,r)=>Wve(s)&&r in s?s[r]:n,t):n}function lo(t,e,n){if(Aw(e)){t[LC(e)]=n;return}const i=e.split(/\.|\[(\d+)\]/).filter(Boolean);let s=t;for(let r=0;r<i.length;r++){if(r===i.length-1){s[i[r]]=n;return}(!(i[r]in s)||w6(s[i[r]]))&&(s[i[r]]=VC(i[r+1])?[]:{}),s=s[i[r]]}}function ox(t,e){if(Array.isArray(t)&&VC(e)){t.splice(Number(e),1);return}hh(t)&&delete t[e]}function tM(t,e){if(Aw(e)){delete t[LC(e)];return}const n=e.split(/\.|\[(\d+)\]/).filter(Boolean);let i=t;for(let r=0;r<n.length;r++){if(r===n.length-1){ox(i,n[r]);break}if(!(n[r]in i)||w6(i[n[r]]))break;i=i[n[r]]}const s=n.map((r,a)=>go(t,n.slice(0,a).join(".")));for(let r=s.length-1;r>=0;r--)if(Yve(s[r])){if(r===0){ox(t,n[0]);continue}ox(s[r-1],n[r-1])}}function Er(t){return Object.keys(t)}function nM(t,e=0){let n=null,i=[];return function(...s){return n&&clearTimeout(n),n=setTimeout(()=>{const r=t(...s);i.forEach(a=>a(r)),i=[]},e),new Promise(r=>i.push(r))}}function Xve(t,e){let n;return async function(...s){const r=t(...s);n=r;const a=await r;return r!==n?a:(n=void 0,e(a,s))}}function iM(t){return Array.isArray(t)?t:t?[t]:[]}function Jp(t,e){const n={};for(const i in t)e.includes(i)||(n[i]=t[i]);return n}function Kve(t){let e=null,n=[];return function(...i){const s=vt(()=>{if(e!==s)return;const r=t(...i);n.forEach(a=>a(r)),n=[],e=null});return e=s,new Promise(r=>n.push(r))}}function lx(t){if(T6(t))return t._value}function T6(t){return"_value"in t}function Qve(t){return t.type==="number"||t.type==="range"?Number.isNaN(t.valueAsNumber)?t.value:t.valueAsNumber:t.value}function sM(t){if(!k6(t))return t;const e=t.target;if(zve(e.type)&&T6(e))return lx(e);if(e.type==="file"&&e.files){const n=Array.from(e.files);return e.multiple?n:n[0]}if(Gve(e))return Array.from(e.options).filter(n=>n.selected&&!n.disabled).map(lx);if(S6(e)){const n=Array.from(e.options).find(i=>i.selected);return n?lx(n):e.value}return Qve(e)}function Jve(t){const e={};return Object.defineProperty(e,"_$$isNormalized",{value:!0,writable:!1,enumerable:!1,configurable:!1}),t?hh(t)&&t._$$isNormalized?t:hh(t)?Object.keys(t).reduce((n,i)=>{const s=Zve(t[i]);return t[i]!==!1&&(n[i]=rM(s)),n},e):typeof t!="string"?e:t.split("|").reduce((n,i)=>{const s=e_e(i);return s.name&&(n[s.name]=rM(s.params)),n},e):e}function Zve(t){return t===!0?[]:Array.isArray(t)||hh(t)?t:[t]}function rM(t){const e=n=>typeof n=="string"&&n[0]==="@"?t_e(n.slice(1)):n;return Array.isArray(t)?t.map(e):t instanceof RegExp?[t]:Object.keys(t).reduce((n,i)=>(n[i]=e(t[i]),n),{})}const e_e=t=>{let e=[];const n=t.split(":")[0];return t.includes(":")&&(e=t.split(":").slice(1).join(":").split(",")),{name:n,params:e}};function t_e(t){const e=n=>{var i;return(i=go(n,t))!==null&&i!==void 0?i:n[t]};return e.__locatorRef=t,e}const n_e={generateMessage:({field:t})=>`${t} is not valid.`,bails:!0,validateOnBlur:!0,validateOnChange:!0,validateOnInput:!1,validateOnModelUpdate:!0};let i_e=Object.assign({},n_e);const Ff=()=>i_e;async function s_e(t,e,n={}){const i=n==null?void 0:n.bails,s={name:(n==null?void 0:n.name)||"{field}",rules:e,label:n==null?void 0:n.label,bails:i??!0,formData:(n==null?void 0:n.values)||{}},r=await r_e(s,t);return Object.assign(Object.assign({},r),{valid:!r.errors.length})}async function r_e(t,e){const n=t.rules;if(bl(n)||x6(n))return o_e(e,Object.assign(Object.assign({},t),{rules:n}));if(Wr(n)||Array.isArray(n)){const o={field:t.label||t.name,name:t.name,label:t.label,form:t.formData,value:e},l=Array.isArray(n)?n:[n],u=l.length,d=[];for(let c=0;c<u;c++){const f=l[c],h=await f(e,o);if(!(typeof h!="string"&&!Array.isArray(h)&&h)){if(Array.isArray(h))d.push(...h);else{const g=typeof h=="string"?h:C6(o);d.push(g)}if(t.bails)return{errors:d}}}return{errors:d}}const i=Object.assign(Object.assign({},t),{rules:Jve(n)}),s=[],r=Object.keys(i.rules),a=r.length;for(let o=0;o<a;o++){const l=r[o],u=await l_e(i,e,{name:l,params:i.rules[l]});if(u.error&&(s.push(u.error),t.bails))return{errors:s}}return{errors:s}}function a_e(t){return!!t&&t.name==="ValidationError"}function P6(t){return{__type:"VVTypedSchema",async parse(n,i){var s;try{return{output:await t.validate(n,{abortEarly:!1,context:(i==null?void 0:i.formData)||{}}),errors:[]}}catch(r){if(!a_e(r))throw r;if(!(!((s=r.inner)===null||s===void 0)&&s.length)&&r.errors.length)return{errors:[{path:r.path,errors:r.errors}]};const a=r.inner.reduce((o,l)=>{const u=l.path||"";return o[u]||(o[u]={errors:[],path:u}),o[u].errors.push(...l.errors),o},{});return{errors:Object.values(a)}}}}}async function o_e(t,e){const i=await(bl(e.rules)?e.rules:P6(e.rules)).parse(t,{formData:e.formData}),s=[];for(const r of i.errors)r.errors.length&&s.push(...r.errors);return{value:i.value,errors:s}}async function l_e(t,e,n){const i=Bve(n.name);if(!i)throw new Error(`No such validator '${n.name}' exists.`);const s=u_e(n.params,t.formData),r={field:t.label||t.name,name:t.name,label:t.label,value:e,form:t.formData,rule:Object.assign(Object.assign({},n),{params:s})},a=await i(e,s,r);return typeof a=="string"?{error:a}:{error:a?void 0:C6(r)}}function C6(t){const e=Ff().generateMessage;return e?e(t):"Field is invalid"}function u_e(t,e){const n=i=>Hve(i)?i(e):i;return Array.isArray(t)?t.map(n):Object.keys(t).reduce((i,s)=>(i[s]=n(t[s]),i),{})}async function c_e(t,e){const i=await(bl(t)?t:P6(t)).parse(Cn(e),{formData:Cn(e)}),s={},r={};for(const a of i.errors){const o=a.errors,l=(a.path||"").replace(/\["(\d+)"\]/g,(u,d)=>`[${d}]`);s[l]={valid:!o.length,errors:o},o.length&&(r[l]=o[0])}return{valid:!i.errors.length,results:s,errors:r,values:i.value,source:"schema"}}async function d_e(t,e,n){const s=Er(t).map(async u=>{var d,c,f;const h=(d=n==null?void 0:n.names)===null||d===void 0?void 0:d[u],p=await s_e(go(e,u),t[u],{name:(h==null?void 0:h.name)||u,label:h==null?void 0:h.label,values:e,bails:(f=(c=n==null?void 0:n.bailsMap)===null||c===void 0?void 0:c[u])!==null&&f!==void 0?f:!0});return Object.assign(Object.assign({},p),{path:u})});let r=!0;const a=await Promise.all(s),o={},l={};for(const u of a)o[u.path]={valid:u.valid,errors:u.errors},u.valid||(r=!1,l[u.path]=u.errors[0]);return{valid:r,results:o,errors:l,source:"schema"}}let h_e=0;const Zp=["bails","fieldsCount","id","multiple","type","validate"];function E6(t){const e=(t==null?void 0:t.initialValues)||{},n=Object.assign({},Ct(e)),i=se(t==null?void 0:t.validationSchema);return i&&bl(i)&&Wr(i.cast)?Cn(i.cast(n)||{}):Cn(n)}function Hl(t){var e;const n=h_e++,i=(t==null?void 0:t.name)||"Form";let s=0;const r=G(!1),a=G(!1),o=G(0),l=[],u=mn(E6(t)),d=G([]),c=G({}),f=G({}),h=Kve(()=>{f.value=d.value.reduce((ce,fe)=>(ce[Qp(Ct(fe.path))]=fe,ce),{})});function p(ce,fe){const Ie=q(ce);if(!Ie){typeof ce=="string"&&(c.value[Qp(ce)]=iM(fe));return}if(typeof ce=="string"){const Ue=Qp(ce);c.value[Ue]&&delete c.value[Ue]}Ie.errors=iM(fe),Ie.valid=!Ie.errors.length}function g(ce){Er(ce).forEach(fe=>{p(fe,ce[fe])})}t!=null&&t.initialErrors&&g(t.initialErrors);const v=O(()=>{const ce=d.value.reduce((fe,Ie)=>(Ie.errors.length&&(fe[Ct(Ie.path)]=Ie.errors),fe),{});return Object.assign(Object.assign({},c.value),ce)}),_=O(()=>Er(v.value).reduce((ce,fe)=>{const Ie=v.value[fe];return Ie!=null&&Ie.length&&(ce[fe]=Ie[0]),ce},{})),b=O(()=>d.value.reduce((ce,fe)=>(ce[Ct(fe.path)]={name:Ct(fe.path)||"",label:fe.label||""},ce),{})),x=O(()=>d.value.reduce((ce,fe)=>{var Ie;return ce[Ct(fe.path)]=(Ie=fe.bails)!==null&&Ie!==void 0?Ie:!0,ce},{})),k=Object.assign({},(t==null?void 0:t.initialErrors)||{}),I=(e=t==null?void 0:t.keepValuesOnUnmount)!==null&&e!==void 0?e:!1,{initialValues:E,originalInitialValues:T,setInitialValues:S}=m_e(d,u,t),w=f_e(d,u,T,_),P=O(()=>d.value.reduce((ce,fe)=>{const Ie=go(u,Ct(fe.path));return lo(ce,Ct(fe.path),Ie),ce},{})),C=t==null?void 0:t.validationSchema;function D(ce,fe){var Ie,Ue;const Je=O(()=>go(E.value,Ct(ce))),ft=f.value[Ct(ce)],ut=(fe==null?void 0:fe.type)==="checkbox"||(fe==null?void 0:fe.type)==="radio";if(ft&&ut){ft.multiple=!0;const pi=s++;return Array.isArray(ft.id)?ft.id.push(pi):ft.id=[ft.id,pi],ft.fieldsCount++,ft.__flags.pendingUnmount[pi]=!1,ft}const pn=O(()=>go(u,Ct(ce))),Xn=Ct(ce),Ii=K.findIndex(pi=>pi===Xn);Ii!==-1&&K.splice(Ii,1);const nn=O(()=>{var pi,Xo,Ko,Gc;const to=Ct(C);if(bl(to))return(Xo=(pi=to.describe)===null||pi===void 0?void 0:pi.call(to,Ct(ce)).required)!==null&&Xo!==void 0?Xo:!1;const qc=Ct(fe==null?void 0:fe.schema);return bl(qc)&&(Gc=(Ko=qc.describe)===null||Ko===void 0?void 0:Ko.call(qc).required)!==null&&Gc!==void 0?Gc:!1}),gi=s++,Li=mn({id:gi,path:ce,touched:!1,pending:!1,valid:!0,validated:!!(!((Ie=k[Xn])===null||Ie===void 0)&&Ie.length),required:nn,initialValue:Je,errors:Ve([]),bails:(Ue=fe==null?void 0:fe.bails)!==null&&Ue!==void 0?Ue:!1,label:fe==null?void 0:fe.label,type:(fe==null?void 0:fe.type)||"default",value:pn,multiple:!1,__flags:{pendingUnmount:{[gi]:!1},pendingReset:!1},fieldsCount:1,validate:fe==null?void 0:fe.validate,dirty:O(()=>!om(se(pn),se(Je)))});return d.value.push(Li),f.value[Xn]=Li,h(),_.value[Xn]&&!k[Xn]&&vt(()=>{Se(Xn,{mode:"silent"})}),Ke(ce)&&we(ce,pi=>{h();const Xo=Cn(pn.value);f.value[pi]=Li,vt(()=>{lo(u,pi,Xo)})}),Li}const A=nM(We,5),N=nM(We,5),B=Xve(async ce=>await(ce==="silent"?A():N()),(ce,[fe])=>{const Ie=Er(U.errorBag.value),Je=[...new Set([...Er(ce.results),...d.value.map(ft=>ft.path),...Ie])].sort().reduce((ft,ut)=>{var pn;const Xn=ut,Ii=q(Xn)||W(Xn),nn=((pn=ce.results[Xn])===null||pn===void 0?void 0:pn.errors)||[],gi=Ct(Ii==null?void 0:Ii.path)||Xn,Li=g_e({errors:nn,valid:!nn.length},ft.results[gi]);return ft.results[gi]=Li,Li.valid||(ft.errors[gi]=Li.errors[0]),Ii&&c.value[gi]&&delete c.value[gi],Ii?(Ii.valid=Li.valid,fe==="silent"||fe==="validated-only"&&!Ii.validated||p(Ii,Li.errors),ft):(p(gi,nn),ft)},{valid:ce.valid,results:{},errors:{},source:ce.source});return ce.values&&(Je.values=ce.values,Je.source=ce.source),Er(Je.results).forEach(ft=>{var ut;const pn=q(ft);pn&&fe!=="silent"&&(fe==="validated-only"&&!pn.validated||p(pn,(ut=Je.results[ft])===null||ut===void 0?void 0:ut.errors))}),Je});function z(ce){d.value.forEach(ce)}function q(ce){const fe=typeof ce=="string"?Qp(ce):ce;return typeof fe=="string"?f.value[fe]:fe}function W(ce){return d.value.filter(Ie=>ce.startsWith(Ct(Ie.path))).reduce((Ie,Ue)=>Ie?Ue.path.length>Ie.path.length?Ue:Ie:Ue,void 0)}let K=[],Y;function Z(ce){return K.push(ce),Y||(Y=vt(()=>{[...K].sort().reverse().forEach(Ie=>{tM(u,Ie)}),K=[],Y=null})),Y}function ee(ce){return function(Ie,Ue){return function(ft){return ft instanceof Event&&(ft.preventDefault(),ft.stopPropagation()),z(ut=>ut.touched=!0),r.value=!0,o.value++,Ae().then(ut=>{const pn=Cn(u);if(ut.valid&&typeof Ie=="function"){const Xn=Cn(P.value);let Ii=ce?Xn:pn;return ut.values&&(Ii=ut.source==="schema"?ut.values:Object.assign({},Ii,ut.values)),Ie(Ii,{evt:ft,controlledValues:Xn,setErrors:g,setFieldError:p,setTouched:ue,setFieldTouched:F,setValues:pe,setFieldValue:X,resetForm:Te,resetField:ie})}!ut.valid&&typeof Ue=="function"&&Ue({values:pn,evt:ft,errors:ut.errors,results:ut.results})}).then(ut=>(r.value=!1,ut),ut=>{throw r.value=!1,ut})}}}const de=ee(!1);de.withControlled=ee(!0);function he(ce,fe){const Ie=d.value.findIndex(Je=>Je.path===ce&&(Array.isArray(Je.id)?Je.id.includes(fe):Je.id===fe)),Ue=d.value[Ie];if(!(Ie===-1||!Ue)){if(vt(()=>{Se(ce,{mode:"silent",warn:!1})}),Ue.multiple&&Ue.fieldsCount&&Ue.fieldsCount--,Array.isArray(Ue.id)){const Je=Ue.id.indexOf(fe);Je>=0&&Ue.id.splice(Je,1),delete Ue.__flags.pendingUnmount[fe]}(!Ue.multiple||Ue.fieldsCount<=0)&&(d.value.splice(Ie,1),Ce(ce),h(),delete f.value[ce])}}function re(ce){Er(f.value).forEach(fe=>{fe.startsWith(ce)&&delete f.value[fe]}),d.value=d.value.filter(fe=>!fe.path.startsWith(ce)),vt(()=>{h()})}const U={name:i,formId:n,values:u,controlledValues:P,errorBag:v,errors:_,schema:C,submitCount:o,meta:w,isSubmitting:r,isValidating:a,fieldArrays:l,keepValuesOnUnmount:I,validateSchema:se(C)?B:void 0,validate:Ae,setFieldError:p,validateField:Se,setFieldValue:X,setValues:pe,setErrors:g,setFieldTouched:F,setTouched:ue,resetForm:Te,resetField:ie,handleSubmit:de,useFieldModel:Ye,defineInputBinds:Dt,defineComponentBinds:Qt,defineField:et,stageInitialValue:$e,unsetInitialValue:Ce,setFieldInitialValue:Ne,createPathState:D,getPathState:q,unsetPathValue:Z,removePathState:he,initialValues:E,getAllPathStates:()=>d.value,destroyPath:re,isFieldTouched:L,isFieldDirty:$,isFieldValid:ne};function X(ce,fe,Ie=!0){const Ue=Cn(fe),Je=typeof ce=="string"?ce:ce.path;q(Je)||D(Je),lo(u,Je,Ue),Ie&&Se(Je)}function ae(ce,fe=!0){Er(u).forEach(Ie=>{delete u[Ie]}),Er(ce).forEach(Ie=>{X(Ie,ce[Ie],!1)}),fe&&Ae()}function pe(ce,fe=!0){sg(u,ce),l.forEach(Ie=>Ie&&Ie.reset()),fe&&Ae()}function ve(ce,fe){const Ie=q(Ct(ce))||D(ce);return O({get(){return Ie.value},set(Ue){var Je;const ft=Ct(ce);X(ft,Ue,(Je=Ct(fe))!==null&&Je!==void 0?Je:!1)}})}function F(ce,fe){const Ie=q(ce);Ie&&(Ie.touched=fe)}function L(ce){const fe=q(ce);return fe?fe.touched:d.value.filter(Ie=>Ie.path.startsWith(ce)).some(Ie=>Ie.touched)}function $(ce){const fe=q(ce);return fe?fe.dirty:d.value.filter(Ie=>Ie.path.startsWith(ce)).some(Ie=>Ie.dirty)}function ne(ce){const fe=q(ce);return fe?fe.valid:d.value.filter(Ie=>Ie.path.startsWith(ce)).every(Ie=>Ie.valid)}function ue(ce){if(typeof ce=="boolean"){z(fe=>{fe.touched=ce});return}Er(ce).forEach(fe=>{F(fe,!!ce[fe])})}function ie(ce,fe){var Ie;const Ue=fe&&"value"in fe?fe.value:go(E.value,ce),Je=q(ce);Je&&(Je.__flags.pendingReset=!0),Ne(ce,Cn(Ue),!0),X(ce,Ue,!1),F(ce,(Ie=fe==null?void 0:fe.touched)!==null&&Ie!==void 0?Ie:!1),p(ce,(fe==null?void 0:fe.errors)||[]),vt(()=>{Je&&(Je.__flags.pendingReset=!1)})}function Te(ce,fe){let Ie=Cn(ce!=null&&ce.values?ce.values:T.value);Ie=fe!=null&&fe.force?Ie:sg(T.value,Ie),Ie=bl(C)&&Wr(C.cast)?C.cast(Ie):Ie,S(Ie,{force:fe==null?void 0:fe.force}),z(Ue=>{var Je;Ue.__flags.pendingReset=!0,Ue.validated=!1,Ue.touched=((Je=ce==null?void 0:ce.touched)===null||Je===void 0?void 0:Je[Ct(Ue.path)])||!1,X(Ct(Ue.path),go(Ie,Ct(Ue.path)),!1),p(Ct(Ue.path),void 0)}),fe!=null&&fe.force?ae(Ie,!1):pe(Ie,!1),g((ce==null?void 0:ce.errors)||{}),o.value=(ce==null?void 0:ce.submitCount)||0,vt(()=>{Ae({mode:"silent"}),z(Ue=>{Ue.__flags.pendingReset=!1})})}async function Ae(ce){const fe=(ce==null?void 0:ce.mode)||"force";if(fe==="force"&&z(ut=>ut.validated=!0),U.validateSchema)return U.validateSchema(fe);a.value=!0;const Ie=await Promise.all(d.value.map(ut=>ut.validate?ut.validate(ce).then(pn=>({key:Ct(ut.path),valid:pn.valid,errors:pn.errors,value:pn.value})):Promise.resolve({key:Ct(ut.path),valid:!0,errors:[],value:void 0})));a.value=!1;const Ue={},Je={},ft={};for(const ut of Ie)Ue[ut.key]={valid:ut.valid,errors:ut.errors},ut.value&&lo(ft,ut.key,ut.value),ut.errors.length&&(Je[ut.key]=ut.errors[0]);return{valid:Ie.every(ut=>ut.valid),results:Ue,errors:Je,values:ft,source:"fields"}}async function Se(ce,fe){var Ie;const Ue=q(ce);if(Ue&&(fe==null?void 0:fe.mode)!=="silent"&&(Ue.validated=!0),C){const{results:Je}=await B((fe==null?void 0:fe.mode)||"validated-only");return Je[ce]||{errors:[],valid:!0}}return Ue!=null&&Ue.validate?Ue.validate(fe):(!Ue&&(Ie=fe==null?void 0:fe.warn),Promise.resolve({errors:[],valid:!0}))}function Ce(ce){tM(E.value,ce)}function $e(ce,fe,Ie=!1){Ne(ce,fe),lo(u,ce,fe),Ie&&!(t!=null&&t.initialValues)&&lo(T.value,ce,Cn(fe))}function Ne(ce,fe,Ie=!1){lo(E.value,ce,Cn(fe)),Ie&&lo(T.value,ce,Cn(fe))}async function We(){const ce=se(C);if(!ce)return{valid:!0,results:{},errors:{},source:"none"};a.value=!0;const fe=x6(ce)||bl(ce)?await c_e(ce,u):await d_e(ce,u,{names:b.value,bailsMap:x.value});return a.value=!1,fe}const it=de((ce,{evt:fe})=>{qve(fe)&&fe.target.submit()});Tt(()=>{if(t!=null&&t.initialErrors&&g(t.initialErrors),t!=null&&t.initialTouched&&ue(t.initialTouched),t!=null&&t.validateOnMount){Ae();return}U.validateSchema&&U.validateSchema("silent")}),Ke(C)&&we(C,()=>{var ce;(ce=U.validateSchema)===null||ce===void 0||ce.call(U,"validated-only")}),Jt(jve,U);function et(ce,fe){const Ie=Wr(fe)||fe==null?void 0:fe.label,Ue=q(Ct(ce))||D(ce,{label:Ie}),Je=()=>Wr(fe)?fe(Jp(Ue,Zp)):fe||{};function ft(){var nn;Ue.touched=!0,((nn=Je().validateOnBlur)!==null&&nn!==void 0?nn:Ff().validateOnBlur)&&Se(Ct(Ue.path))}function ut(){var nn;((nn=Je().validateOnInput)!==null&&nn!==void 0?nn:Ff().validateOnInput)&&vt(()=>{Se(Ct(Ue.path))})}function pn(){var nn;((nn=Je().validateOnChange)!==null&&nn!==void 0?nn:Ff().validateOnChange)&&vt(()=>{Se(Ct(Ue.path))})}const Xn=O(()=>{const nn={onChange:pn,onInput:ut,onBlur:ft};return Wr(fe)?Object.assign(Object.assign({},nn),fe(Jp(Ue,Zp)).props||{}):fe!=null&&fe.props?Object.assign(Object.assign({},nn),fe.props(Jp(Ue,Zp))):nn});return[ve(ce,()=>{var nn,gi,Li;return(Li=(nn=Je().validateOnModelUpdate)!==null&&nn!==void 0?nn:(gi=Ff())===null||gi===void 0?void 0:gi.validateOnModelUpdate)!==null&&Li!==void 0?Li:!0}),Xn]}function Ye(ce){return Array.isArray(ce)?ce.map(fe=>ve(fe,!0)):ve(ce)}function Dt(ce,fe){const[Ie,Ue]=et(ce,fe);function Je(){Ue.value.onBlur()}function ft(pn){const Xn=sM(pn);X(Ct(ce),Xn,!1),Ue.value.onInput()}function ut(pn){const Xn=sM(pn);X(Ct(ce),Xn,!1),Ue.value.onChange()}return O(()=>Object.assign(Object.assign({},Ue.value),{onBlur:Je,onInput:ft,onChange:ut,value:Ie.value}))}function Qt(ce,fe){const[Ie,Ue]=et(ce,fe),Je=q(Ct(ce));function ft(ut){Ie.value=ut}return O(()=>{const ut=Wr(fe)?fe(Jp(Je,Zp)):fe||{};return Object.assign({[ut.model||"modelValue"]:Ie.value,[`onUpdate:${ut.model||"modelValue"}`]:ft},Ue.value)})}const ei=Object.assign(Object.assign({},U),{values:Sh(u),handleReset:()=>Te(),submitForm:it});return Jt($ve,ei),ei}function f_e(t,e,n,i){const s={touched:"some",pending:"some",valid:"every"},r=O(()=>!om(e,se(n)));function a(){const l=t.value;return Er(s).reduce((u,d)=>{const c=s[d];return u[d]=l[c](f=>f[d]),u},{})}const o=mn(a());return yn(()=>{const l=a();o.touched=l.touched,o.valid=l.valid,o.pending=l.pending}),O(()=>Object.assign(Object.assign({initialValues:se(n)},o),{valid:o.valid&&!Er(i.value).length,dirty:r.value}))}function m_e(t,e,n){const i=E6(n),s=G(i),r=G(Cn(i));function a(o,l){l!=null&&l.force?(s.value=Cn(o),r.value=Cn(o)):(s.value=sg(Cn(s.value)||{},Cn(o)),r.value=sg(Cn(r.value)||{},Cn(o))),l!=null&&l.updateFields&&t.value.forEach(u=>{if(u.touched)return;const c=go(s.value,Ct(u.path));lo(e,Ct(u.path),Cn(c))})}return{initialValues:s,originalInitialValues:r,setInitialValues:a}}function g_e(t,e){return e?{valid:t.valid&&e.valid,errors:[...t.errors,...e.errors]}:t}function p_e(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Wc(t){this._maxSize=t,this.clear()}Wc.prototype.clear=function(){this._size=0,this._values=Object.create(null)};Wc.prototype.get=function(t){return this._values[t]};Wc.prototype.set=function(t,e){return this._size>=this._maxSize&&this.clear(),t in this._values||this._size++,this._values[t]=e};var v_e=/[^.^\]^[]+|(?=\[\]|\.\.)/g,I6=/^\d+$/,__e=/^\d/,y_e=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,b_e=/^\s*(['"]?)(.*?)(\1)\s*$/,NC=512,aM=new Wc(NC),oM=new Wc(NC),lM=new Wc(NC),Gu={Cache:Wc,split:Y1,normalizePath:ux,setter:function(t){var e=ux(t);return oM.get(t)||oM.set(t,function(i,s){for(var r=0,a=e.length,o=i;r<a-1;){var l=e[r];if(l==="__proto__"||l==="constructor"||l==="prototype")return i;o=o[e[r++]]}o[e[r]]=s})},getter:function(t,e){var n=ux(t);return lM.get(t)||lM.set(t,function(s){for(var r=0,a=n.length;r<a;)if(s!=null||!e)s=s[n[r++]];else return;return s})},join:function(t){return t.reduce(function(e,n){return e+(FC(n)||I6.test(n)?"["+n+"]":(e?".":"")+n)},"")},forEach:function(t,e,n){w_e(Array.isArray(t)?t:Y1(t),e,n)}};function ux(t){return aM.get(t)||aM.set(t,Y1(t).map(function(e){return e.replace(b_e,"$2")}))}function Y1(t){return t.match(v_e)||[""]}function w_e(t,e,n){var i=t.length,s,r,a,o;for(r=0;r<i;r++)s=t[r],s&&(k_e(s)&&(s='"'+s+'"'),o=FC(s),a=!o&&/^\d+$/.test(s),e.call(n,s,o,a,r,t))}function FC(t){return typeof t=="string"&&t&&["'",'"'].indexOf(t.charAt(0))!==-1}function x_e(t){return t.match(__e)&&!t.match(I6)}function S_e(t){return y_e.test(t)}function k_e(t){return!FC(t)&&(x_e(t)||S_e(t))}const T_e=/[A-Z\xc0-\xd6\xd8-\xde]?[a-z\xdf-\xf6\xf8-\xff]+(?:['’](?:d|ll|m|re|s|t|ve))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde]|$)|(?:[A-Z\xc0-\xd6\xd8-\xde]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['’](?:D|LL|M|RE|S|T|VE))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde](?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])|$)|[A-Z\xc0-\xd6\xd8-\xde]?(?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['’](?:d|ll|m|re|s|t|ve))?|[A-Z\xc0-\xd6\xd8-\xde]+(?:['’](?:D|LL|M|RE|S|T|VE))?|\d*(?:1ST|2ND|3RD|(?![123])\dTH)(?=\b|[a-z_])|\d*(?:1st|2nd|3rd|(?![123])\dth)(?=\b|[A-Z_])|\d+|(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g,Rw=t=>t.match(T_e)||[],Ow=t=>t[0].toUpperCase()+t.slice(1),BC=(t,e)=>Rw(t).join(e).toLowerCase(),D6=t=>Rw(t).reduce((e,n)=>`${e}${e?n[0].toUpperCase()+n.slice(1).toLowerCase():n.toLowerCase()}`,""),P_e=t=>Ow(D6(t)),C_e=t=>BC(t,"_"),E_e=t=>BC(t,"-"),I_e=t=>Ow(BC(t," ")),D_e=t=>Rw(t).map(Ow).join(" ");var cx={words:Rw,upperFirst:Ow,camelCase:D6,pascalCase:P_e,snakeCase:C_e,kebabCase:E_e,sentenceCase:I_e,titleCase:D_e},jC={exports:{}};jC.exports=function(t){return A6(A_e(t),t)};jC.exports.array=A6;function A6(t,e){var n=t.length,i=new Array(n),s={},r=n,a=R_e(e),o=O_e(t);for(e.forEach(function(u){if(!o.has(u[0])||!o.has(u[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")});r--;)s[r]||l(t[r],r,new Set);return i;function l(u,d,c){if(c.has(u)){var f;try{f=", node was:"+JSON.stringify(u)}catch{f=""}throw new Error("Cyclic dependency"+f)}if(!o.has(u))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(u));if(!s[d]){s[d]=!0;var h=a.get(u)||new Set;if(h=Array.from(h),d=h.length){c.add(u);do{var p=h[--d];l(p,o.get(p),c)}while(d);c.delete(u)}i[--n]=u}}}function A_e(t){for(var e=new Set,n=0,i=t.length;n<i;n++){var s=t[n];e.add(s[0]),e.add(s[1])}return Array.from(e)}function R_e(t){for(var e=new Map,n=0,i=t.length;n<i;n++){var s=t[n];e.has(s[0])||e.set(s[0],new Set),e.has(s[1])||e.set(s[1],new Set),e.get(s[0]).add(s[1])}return e}function O_e(t){for(var e=new Map,n=0,i=t.length;n<i;n++)e.set(t[n],n);return e}var M_e=jC.exports;const V_e=p_e(M_e),L_e=Object.prototype.toString,N_e=Error.prototype.toString,F_e=RegExp.prototype.toString,B_e=typeof Symbol<"u"?Symbol.prototype.toString:()=>"",j_e=/^Symbol\((.*)\)(.*)$/;function $_e(t){return t!=+t?"NaN":t===0&&1/t<0?"-0":""+t}function uM(t,e=!1){if(t==null||t===!0||t===!1)return""+t;const n=typeof t;if(n==="number")return $_e(t);if(n==="string")return e?`"${t}"`:t;if(n==="function")return"[Function "+(t.name||"anonymous")+"]";if(n==="symbol")return B_e.call(t).replace(j_e,"Symbol($1)");const i=L_e.call(t).slice(8,-1);return i==="Date"?isNaN(t.getTime())?""+t:t.toISOString(t):i==="Error"||t instanceof Error?"["+N_e.call(t)+"]":i==="RegExp"?F_e.call(t):null}function ko(t,e){let n=uM(t,e);return n!==null?n:JSON.stringify(t,function(i,s){let r=uM(this[i],e);return r!==null?r:s},2)}function R6(t){return t==null?[]:[].concat(t)}let O6,M6,V6,U_e=/\$\{\s*(\w+)\s*\}/g;O6=Symbol.toStringTag;class cM{constructor(e,n,i,s){this.name=void 0,this.message=void 0,this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=void 0,this.inner=void 0,this[O6]="Error",this.name="ValidationError",this.value=n,this.path=i,this.type=s,this.errors=[],this.inner=[],R6(e).forEach(r=>{if(qs.isError(r)){this.errors.push(...r.errors);const a=r.inner.length?r.inner:[r];this.inner.push(...a)}else this.errors.push(r)}),this.message=this.errors.length>1?`${this.errors.length} errors occurred`:this.errors[0]}}M6=Symbol.hasInstance;V6=Symbol.toStringTag;class qs extends Error{static formatError(e,n){const i=n.label||n.path||"this";return n=Object.assign({},n,{path:i,originalPath:n.path}),typeof e=="string"?e.replace(U_e,(s,r)=>ko(n[r])):typeof e=="function"?e(n):e}static isError(e){return e&&e.name==="ValidationError"}constructor(e,n,i,s,r){const a=new cM(e,n,i,s);if(r)return a;super(),this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=[],this.inner=[],this[V6]="Error",this.name=a.name,this.message=a.message,this.type=a.type,this.value=a.value,this.path=a.path,this.errors=a.errors,this.inner=a.inner,Error.captureStackTrace&&Error.captureStackTrace(this,qs)}static[M6](e){return cM[Symbol.hasInstance](e)||super[Symbol.hasInstance](e)}}let Sa={default:"${path} is invalid",required:"${path} is a required field",defined:"${path} must be defined",notNull:"${path} cannot be null",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:({path:t,type:e,value:n,originalValue:i})=>{const s=i!=null&&i!==n?` (cast from the value \`${ko(i,!0)}\`).`:".";return e!=="mixed"?`${t} must be a \`${e}\` type, but the final value was: \`${ko(n,!0)}\``+s:`${t} must match the configured type. The validated value was: \`${ko(n,!0)}\``+s}},Hs={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",datetime:"${path} must be a valid ISO date-time",datetime_precision:"${path} must be a valid ISO date-time with a sub-second precision of exactly ${precision} digits",datetime_offset:'${path} must be a valid ISO date-time with UTC "Z" timezone',trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},rl={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},G1={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},q1={isValue:"${path} field must be ${value}"},$v={noUnknown:"${path} field has unspecified keys: ${unknown}",exact:"${path} object contains unknown properties: ${properties}"},Uv={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"},H_e={notType:t=>{const{path:e,value:n,spec:i}=t,s=i.types.length;if(Array.isArray(n)){if(n.length<s)return`${e} tuple value has too few items, expected a length of ${s} but got ${n.length} for value: \`${ko(n,!0)}\``;if(n.length>s)return`${e} tuple value has too many items, expected a length of ${s} but got ${n.length} for value: \`${ko(n,!0)}\``}return qs.formatError(Sa.notType,t)}};Object.assign(Object.create(null),{mixed:Sa,string:Hs,number:rl,date:G1,object:$v,array:Uv,boolean:q1,tuple:H_e});const Mw=t=>t&&t.__isYupSchema__;class ay{static fromOptions(e,n){if(!n.then&&!n.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");let{is:i,then:s,otherwise:r}=n,a=typeof i=="function"?i:(...o)=>o.every(l=>l===i);return new ay(e,(o,l)=>{var u;let d=a(...o)?s:r;return(u=d==null?void 0:d(l))!=null?u:l})}constructor(e,n){this.fn=void 0,this.refs=e,this.refs=e,this.fn=n}resolve(e,n){let i=this.refs.map(r=>r.getValue(n==null?void 0:n.value,n==null?void 0:n.parent,n==null?void 0:n.context)),s=this.fn(i,e,n);if(s===void 0||s===e)return e;if(!Mw(s))throw new TypeError("conditions must return a schema object");return s.resolve(n)}}const ev={context:"$",value:"."};function z_e(t,e){return new ou(t,e)}class ou{constructor(e,n={}){if(this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,typeof e!="string")throw new TypeError("ref must be a string, got: "+e);if(this.key=e.trim(),e==="")throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===ev.context,this.isValue=this.key[0]===ev.value,this.isSibling=!this.isContext&&!this.isValue;let i=this.isContext?ev.context:this.isValue?ev.value:"";this.path=this.key.slice(i.length),this.getter=this.path&&Gu.getter(this.path,!0),this.map=n.map}getValue(e,n,i){let s=this.isContext?i:this.isValue?e:n;return this.getter&&(s=this.getter(s||{})),this.map&&(s=this.map(s)),s}cast(e,n){return this.getValue(e,n==null?void 0:n.parent,n==null?void 0:n.context)}resolve(){return this}describe(){return{type:"ref",key:this.key}}toString(){return`Ref(${this.key})`}static isRef(e){return e&&e.__isYupRef}}ou.prototype.__isYupRef=!0;const Jr=t=>t==null;function sd(t){function e({value:n,path:i="",options:s,originalValue:r,schema:a},o,l){const{name:u,test:d,params:c,message:f,skipAbsent:h}=t;let{parent:p,context:g,abortEarly:v=a.spec.abortEarly,disableStackTrace:_=a.spec.disableStackTrace}=s;function b(C){return ou.isRef(C)?C.getValue(n,p,g):C}function x(C={}){const D=Object.assign({value:n,originalValue:r,label:a.spec.label,path:C.path||i,spec:a.spec,disableStackTrace:C.disableStackTrace||_},c,C.params);for(const N of Object.keys(D))D[N]=b(D[N]);const A=new qs(qs.formatError(C.message||f,D),n,D.path,C.type||u,D.disableStackTrace);return A.params=D,A}const k=v?o:l;let I={path:i,parent:p,type:u,from:s.from,createError:x,resolve:b,options:s,originalValue:r,schema:a};const E=C=>{qs.isError(C)?k(C):C?l(null):k(x())},T=C=>{qs.isError(C)?k(C):o(C)};if(h&&Jr(n))return E(!0);let w;try{var P;if(w=d.call(I,n,I),typeof((P=w)==null?void 0:P.then)=="function"){if(s.sync)throw new Error(`Validation test of type: "${I.type}" returned a Promise during a synchronous validate. This test will finish after the validate call has returned`);return Promise.resolve(w).then(E,T)}}catch(C){T(C);return}E(w)}return e.OPTIONS=t,e}function W_e(t,e,n,i=n){let s,r,a;return e?(Gu.forEach(e,(o,l,u)=>{let d=l?o.slice(1,o.length-1):o;t=t.resolve({context:i,parent:s,value:n});let c=t.type==="tuple",f=u?parseInt(d,10):0;if(t.innerType||c){if(c&&!u)throw new Error(`Yup.reach cannot implicitly index into a tuple type. the path part "${a}" must contain an index to the tuple element, e.g. "${a}[0]"`);if(n&&f>=n.length)throw new Error(`Yup.reach cannot resolve an array item at index: ${o}, in the path: ${e}. because there is no value at that index. `);s=n,n=n&&n[f],t=c?t.spec.types[f]:t.innerType}if(!u){if(!t.fields||!t.fields[d])throw new Error(`The schema does not contain the path: ${e}. (failed at: ${a} which is a type: "${t.type}")`);s=n,n=n&&n[d],t=t.fields[d]}r=d,a=l?"["+o+"]":"."+o}),{schema:t,parent:s,parentPath:r}):{parent:s,parentPath:e,schema:t}}class oy extends Set{describe(){const e=[];for(const n of this.values())e.push(ou.isRef(n)?n.describe():n);return e}resolveAll(e){let n=[];for(const i of this.values())n.push(e(i));return n}clone(){return new oy(this.values())}merge(e,n){const i=this.clone();return e.forEach(s=>i.add(s)),n.forEach(s=>i.delete(s)),i}}function wd(t,e=new Map){if(Mw(t)||!t||typeof t!="object")return t;if(e.has(t))return e.get(t);let n;if(t instanceof Date)n=new Date(t.getTime()),e.set(t,n);else if(t instanceof RegExp)n=new RegExp(t),e.set(t,n);else if(Array.isArray(t)){n=new Array(t.length),e.set(t,n);for(let i=0;i<t.length;i++)n[i]=wd(t[i],e)}else if(t instanceof Map){n=new Map,e.set(t,n);for(const[i,s]of t.entries())n.set(i,wd(s,e))}else if(t instanceof Set){n=new Set,e.set(t,n);for(const i of t)n.add(wd(i,e))}else if(t instanceof Object){n={},e.set(t,n);for(const[i,s]of Object.entries(t))n[i]=wd(s,e)}else throw Error(`Unable to clone ${t}`);return n}class wr{constructor(e){this.type=void 0,this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this.internalTests={},this._whitelist=new oy,this._blacklist=new oy,this.exclusiveTests=Object.create(null),this._typeCheck=void 0,this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation(()=>{this.typeError(Sa.notType)}),this.type=e.type,this._typeCheck=e.check,this.spec=Object.assign({strip:!1,strict:!1,abortEarly:!0,recursive:!0,disableStackTrace:!1,nullable:!1,optional:!0,coerce:!0},e==null?void 0:e.spec),this.withMutation(n=>{n.nonNullable()})}get _type(){return this.type}clone(e){if(this._mutate)return e&&Object.assign(this.spec,e),this;const n=Object.create(Object.getPrototypeOf(this));return n.type=this.type,n._typeCheck=this._typeCheck,n._whitelist=this._whitelist.clone(),n._blacklist=this._blacklist.clone(),n.internalTests=Object.assign({},this.internalTests),n.exclusiveTests=Object.assign({},this.exclusiveTests),n.deps=[...this.deps],n.conditions=[...this.conditions],n.tests=[...this.tests],n.transforms=[...this.transforms],n.spec=wd(Object.assign({},this.spec,e)),n}label(e){let n=this.clone();return n.spec.label=e,n}meta(...e){if(e.length===0)return this.spec.meta;let n=this.clone();return n.spec.meta=Object.assign(n.spec.meta||{},e[0]),n}withMutation(e){let n=this._mutate;this._mutate=!0;let i=e(this);return this._mutate=n,i}concat(e){if(!e||e===this)return this;if(e.type!==this.type&&this.type!=="mixed")throw new TypeError(`You cannot \`concat()\` schema's of different types: ${this.type} and ${e.type}`);let n=this,i=e.clone();const s=Object.assign({},n.spec,i.spec);return i.spec=s,i.internalTests=Object.assign({},n.internalTests,i.internalTests),i._whitelist=n._whitelist.merge(e._whitelist,e._blacklist),i._blacklist=n._blacklist.merge(e._blacklist,e._whitelist),i.tests=n.tests,i.exclusiveTests=n.exclusiveTests,i.withMutation(r=>{e.tests.forEach(a=>{r.test(a.OPTIONS)})}),i.transforms=[...n.transforms,...i.transforms],i}isType(e){return e==null?!!(this.spec.nullable&&e===null||this.spec.optional&&e===void 0):this._typeCheck(e)}resolve(e){let n=this;if(n.conditions.length){let i=n.conditions;n=n.clone(),n.conditions=[],n=i.reduce((s,r)=>r.resolve(s,e),n),n=n.resolve(e)}return n}resolveOptions(e){var n,i,s,r;return Object.assign({},e,{from:e.from||[],strict:(n=e.strict)!=null?n:this.spec.strict,abortEarly:(i=e.abortEarly)!=null?i:this.spec.abortEarly,recursive:(s=e.recursive)!=null?s:this.spec.recursive,disableStackTrace:(r=e.disableStackTrace)!=null?r:this.spec.disableStackTrace})}cast(e,n={}){let i=this.resolve(Object.assign({value:e},n)),s=n.assert==="ignore-optionality",r=i._cast(e,n);if(n.assert!==!1&&!i.isType(r)){if(s&&Jr(r))return r;let a=ko(e),o=ko(r);throw new TypeError(`The value of ${n.path||"field"} could not be cast to a value that satisfies the schema type: "${i.type}". 

attempted value: ${a} 
`+(o!==a?`result of cast: ${o}`:""))}return r}_cast(e,n){let i=e===void 0?e:this.transforms.reduce((s,r)=>r.call(this,s,e,this),e);return i===void 0&&(i=this.getDefault(n)),i}_validate(e,n={},i,s){let{path:r,originalValue:a=e,strict:o=this.spec.strict}=n,l=e;o||(l=this._cast(l,Object.assign({assert:!1},n)));let u=[];for(let d of Object.values(this.internalTests))d&&u.push(d);this.runTests({path:r,value:l,originalValue:a,options:n,tests:u},i,d=>{if(d.length)return s(d,l);this.runTests({path:r,value:l,originalValue:a,options:n,tests:this.tests},i,s)})}runTests(e,n,i){let s=!1,{tests:r,value:a,originalValue:o,path:l,options:u}=e,d=g=>{s||(s=!0,n(g,a))},c=g=>{s||(s=!0,i(g,a))},f=r.length,h=[];if(!f)return c([]);let p={value:a,originalValue:o,path:l,options:u,schema:this};for(let g=0;g<r.length;g++){const v=r[g];v(p,d,function(b){b&&(Array.isArray(b)?h.push(...b):h.push(b)),--f<=0&&c(h)})}}asNestedTest({key:e,index:n,parent:i,parentPath:s,originalParent:r,options:a}){const o=e??n;if(o==null)throw TypeError("Must include `key` or `index` for nested validations");const l=typeof o=="number";let u=i[o];const d=Object.assign({},a,{strict:!0,parent:i,value:u,originalValue:r[o],key:void 0,[l?"index":"key"]:o,path:l||o.includes(".")?`${s||""}[${l?o:`"${o}"`}]`:(s?`${s}.`:"")+e});return(c,f,h)=>this.resolve(d)._validate(u,d,f,h)}validate(e,n){var i;let s=this.resolve(Object.assign({},n,{value:e})),r=(i=n==null?void 0:n.disableStackTrace)!=null?i:s.spec.disableStackTrace;return new Promise((a,o)=>s._validate(e,n,(l,u)=>{qs.isError(l)&&(l.value=u),o(l)},(l,u)=>{l.length?o(new qs(l,u,void 0,void 0,r)):a(u)}))}validateSync(e,n){var i;let s=this.resolve(Object.assign({},n,{value:e})),r,a=(i=n==null?void 0:n.disableStackTrace)!=null?i:s.spec.disableStackTrace;return s._validate(e,Object.assign({},n,{sync:!0}),(o,l)=>{throw qs.isError(o)&&(o.value=l),o},(o,l)=>{if(o.length)throw new qs(o,e,void 0,void 0,a);r=l}),r}isValid(e,n){return this.validate(e,n).then(()=>!0,i=>{if(qs.isError(i))return!1;throw i})}isValidSync(e,n){try{return this.validateSync(e,n),!0}catch(i){if(qs.isError(i))return!1;throw i}}_getDefault(e){let n=this.spec.default;return n==null?n:typeof n=="function"?n.call(this,e):wd(n)}getDefault(e){return this.resolve(e||{})._getDefault(e)}default(e){return arguments.length===0?this._getDefault():this.clone({default:e})}strict(e=!0){return this.clone({strict:e})}nullability(e,n){const i=this.clone({nullable:e});return i.internalTests.nullable=sd({message:n,name:"nullable",test(s){return s===null?this.schema.spec.nullable:!0}}),i}optionality(e,n){const i=this.clone({optional:e});return i.internalTests.optionality=sd({message:n,name:"optionality",test(s){return s===void 0?this.schema.spec.optional:!0}}),i}optional(){return this.optionality(!0)}defined(e=Sa.defined){return this.optionality(!1,e)}nullable(){return this.nullability(!0)}nonNullable(e=Sa.notNull){return this.nullability(!1,e)}required(e=Sa.required){return this.clone().withMutation(n=>n.nonNullable(e).defined(e))}notRequired(){return this.clone().withMutation(e=>e.nullable().optional())}transform(e){let n=this.clone();return n.transforms.push(e),n}test(...e){let n;if(e.length===1?typeof e[0]=="function"?n={test:e[0]}:n=e[0]:e.length===2?n={name:e[0],test:e[1]}:n={name:e[0],message:e[1],test:e[2]},n.message===void 0&&(n.message=Sa.default),typeof n.test!="function")throw new TypeError("`test` is a required parameters");let i=this.clone(),s=sd(n),r=n.exclusive||n.name&&i.exclusiveTests[n.name]===!0;if(n.exclusive&&!n.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return n.name&&(i.exclusiveTests[n.name]=!!n.exclusive),i.tests=i.tests.filter(a=>!(a.OPTIONS.name===n.name&&(r||a.OPTIONS.test===s.OPTIONS.test))),i.tests.push(s),i}when(e,n){!Array.isArray(e)&&typeof e!="string"&&(n=e,e=".");let i=this.clone(),s=R6(e).map(r=>new ou(r));return s.forEach(r=>{r.isSibling&&i.deps.push(r.key)}),i.conditions.push(typeof n=="function"?new ay(s,n):ay.fromOptions(s,n)),i}typeError(e){let n=this.clone();return n.internalTests.typeError=sd({message:e,name:"typeError",skipAbsent:!0,test(i){return this.schema._typeCheck(i)?!0:this.createError({params:{type:this.schema.type}})}}),n}oneOf(e,n=Sa.oneOf){let i=this.clone();return e.forEach(s=>{i._whitelist.add(s),i._blacklist.delete(s)}),i.internalTests.whiteList=sd({message:n,name:"oneOf",skipAbsent:!0,test(s){let r=this.schema._whitelist,a=r.resolveAll(this.resolve);return a.includes(s)?!0:this.createError({params:{values:Array.from(r).join(", "),resolved:a}})}}),i}notOneOf(e,n=Sa.notOneOf){let i=this.clone();return e.forEach(s=>{i._blacklist.add(s),i._whitelist.delete(s)}),i.internalTests.blacklist=sd({message:n,name:"notOneOf",test(s){let r=this.schema._blacklist,a=r.resolveAll(this.resolve);return a.includes(s)?this.createError({params:{values:Array.from(r).join(", "),resolved:a}}):!0}}),i}strip(e=!0){let n=this.clone();return n.spec.strip=e,n}describe(e){const n=(e?this.resolve(e):this).clone(),{label:i,meta:s,optional:r,nullable:a}=n.spec;return{meta:s,label:i,optional:r,nullable:a,default:n.getDefault(e),type:n.type,oneOf:n._whitelist.describe(),notOneOf:n._blacklist.describe(),tests:n.tests.map(l=>({name:l.OPTIONS.name,params:l.OPTIONS.params})).filter((l,u,d)=>d.findIndex(c=>c.name===l.name)===u)}}}wr.prototype.__isYupSchema__=!0;for(const t of["validate","validateSync"])wr.prototype[`${t}At`]=function(e,n,i={}){const{parent:s,parentPath:r,schema:a}=W_e(this,e,n,i.context);return a[t](s&&s[r],Object.assign({},i,{parent:s,path:e}))};for(const t of["equals","is"])wr.prototype[t]=wr.prototype.oneOf;for(const t of["not","nope"])wr.prototype[t]=wr.prototype.notOneOf;function ly(){return new L6}class L6 extends wr{constructor(){super({type:"boolean",check(e){return e instanceof Boolean&&(e=e.valueOf()),typeof e=="boolean"}}),this.withMutation(()=>{this.transform((e,n,i)=>{if(i.spec.coerce&&!i.isType(e)){if(/^(true|1)$/i.test(String(e)))return!0;if(/^(false|0)$/i.test(String(e)))return!1}return e})})}isTrue(e=q1.isValue){return this.test({message:e,name:"is-value",exclusive:!0,params:{value:"true"},test(n){return Jr(n)||n===!0}})}isFalse(e=q1.isValue){return this.test({message:e,name:"is-value",exclusive:!0,params:{value:"false"},test(n){return Jr(n)||n===!1}})}default(e){return super.default(e)}defined(e){return super.defined(e)}optional(){return super.optional()}required(e){return super.required(e)}notRequired(){return super.notRequired()}nullable(){return super.nullable()}nonNullable(e){return super.nonNullable(e)}strip(e){return super.strip(e)}}ly.prototype=L6.prototype;const Y_e=/^(\d{4}|[+-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,.](\d{1,}))?)?(?:(Z)|([+-])(\d{2})(?::?(\d{2}))?)?)?$/;function G_e(t){const e=X1(t);if(!e)return Date.parse?Date.parse(t):Number.NaN;if(e.z===void 0&&e.plusMinus===void 0)return new Date(e.year,e.month,e.day,e.hour,e.minute,e.second,e.millisecond).valueOf();let n=0;return e.z!=="Z"&&e.plusMinus!==void 0&&(n=e.hourOffset*60+e.minuteOffset,e.plusMinus==="+"&&(n=0-n)),Date.UTC(e.year,e.month,e.day,e.hour,e.minute+n,e.second,e.millisecond)}function X1(t){var e,n;const i=Y_e.exec(t);return i?{year:oo(i[1]),month:oo(i[2],1)-1,day:oo(i[3],1),hour:oo(i[4]),minute:oo(i[5]),second:oo(i[6]),millisecond:i[7]?oo(i[7].substring(0,3)):0,precision:(e=(n=i[7])==null?void 0:n.length)!=null?e:void 0,z:i[8]||void 0,plusMinus:i[9]||void 0,hourOffset:oo(i[10]),minuteOffset:oo(i[11])}:null}function oo(t,e=0){return Number(t)||e}let q_e=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,X_e=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,K_e=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,Q_e="^\\d{4}-\\d{2}-\\d{2}",J_e="\\d{2}:\\d{2}:\\d{2}",Z_e="(([+-]\\d{2}(:?\\d{2})?)|Z)",eye=new RegExp(`${Q_e}T${J_e}(\\.\\d+)?${Z_e}$`),tye=t=>Jr(t)||t===t.trim(),nye={}.toString();function Fn(){return new N6}class N6 extends wr{constructor(){super({type:"string",check(e){return e instanceof String&&(e=e.valueOf()),typeof e=="string"}}),this.withMutation(()=>{this.transform((e,n,i)=>{if(!i.spec.coerce||i.isType(e)||Array.isArray(e))return e;const s=e!=null&&e.toString?e.toString():e;return s===nye?e:s})})}required(e){return super.required(e).withMutation(n=>n.test({message:e||Sa.required,name:"required",skipAbsent:!0,test:i=>!!i.length}))}notRequired(){return super.notRequired().withMutation(e=>(e.tests=e.tests.filter(n=>n.OPTIONS.name!=="required"),e))}length(e,n=Hs.length){return this.test({message:n,name:"length",exclusive:!0,params:{length:e},skipAbsent:!0,test(i){return i.length===this.resolve(e)}})}min(e,n=Hs.min){return this.test({message:n,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(i){return i.length>=this.resolve(e)}})}max(e,n=Hs.max){return this.test({name:"max",exclusive:!0,message:n,params:{max:e},skipAbsent:!0,test(i){return i.length<=this.resolve(e)}})}matches(e,n){let i=!1,s,r;return n&&(typeof n=="object"?{excludeEmptyString:i=!1,message:s,name:r}=n:s=n),this.test({name:r||"matches",message:s||Hs.matches,params:{regex:e},skipAbsent:!0,test:a=>a===""&&i||a.search(e)!==-1})}email(e=Hs.email){return this.matches(q_e,{name:"email",message:e,excludeEmptyString:!0})}url(e=Hs.url){return this.matches(X_e,{name:"url",message:e,excludeEmptyString:!0})}uuid(e=Hs.uuid){return this.matches(K_e,{name:"uuid",message:e,excludeEmptyString:!1})}datetime(e){let n="",i,s;return e&&(typeof e=="object"?{message:n="",allowOffset:i=!1,precision:s=void 0}=e:n=e),this.matches(eye,{name:"datetime",message:n||Hs.datetime,excludeEmptyString:!0}).test({name:"datetime_offset",message:n||Hs.datetime_offset,params:{allowOffset:i},skipAbsent:!0,test:r=>{if(!r||i)return!0;const a=X1(r);return a?!!a.z:!1}}).test({name:"datetime_precision",message:n||Hs.datetime_precision,params:{precision:s},skipAbsent:!0,test:r=>{if(!r||s==null)return!0;const a=X1(r);return a?a.precision===s:!1}})}ensure(){return this.default("").transform(e=>e===null?"":e)}trim(e=Hs.trim){return this.transform(n=>n!=null?n.trim():n).test({message:e,name:"trim",test:tye})}lowercase(e=Hs.lowercase){return this.transform(n=>Jr(n)?n:n.toLowerCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:n=>Jr(n)||n===n.toLowerCase()})}uppercase(e=Hs.uppercase){return this.transform(n=>Jr(n)?n:n.toUpperCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:n=>Jr(n)||n===n.toUpperCase()})}}Fn.prototype=N6.prototype;let iye=t=>t!=+t;function lm(){return new F6}class F6 extends wr{constructor(){super({type:"number",check(e){return e instanceof Number&&(e=e.valueOf()),typeof e=="number"&&!iye(e)}}),this.withMutation(()=>{this.transform((e,n,i)=>{if(!i.spec.coerce)return e;let s=e;if(typeof s=="string"){if(s=s.replace(/\s/g,""),s==="")return NaN;s=+s}return i.isType(s)||s===null?s:parseFloat(s)})})}min(e,n=rl.min){return this.test({message:n,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(i){return i>=this.resolve(e)}})}max(e,n=rl.max){return this.test({message:n,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(i){return i<=this.resolve(e)}})}lessThan(e,n=rl.lessThan){return this.test({message:n,name:"max",exclusive:!0,params:{less:e},skipAbsent:!0,test(i){return i<this.resolve(e)}})}moreThan(e,n=rl.moreThan){return this.test({message:n,name:"min",exclusive:!0,params:{more:e},skipAbsent:!0,test(i){return i>this.resolve(e)}})}positive(e=rl.positive){return this.moreThan(0,e)}negative(e=rl.negative){return this.lessThan(0,e)}integer(e=rl.integer){return this.test({name:"integer",message:e,skipAbsent:!0,test:n=>Number.isInteger(n)})}truncate(){return this.transform(e=>Jr(e)?e:e|0)}round(e){var n;let i=["ceil","floor","round","trunc"];if(e=((n=e)==null?void 0:n.toLowerCase())||"round",e==="trunc")return this.truncate();if(i.indexOf(e.toLowerCase())===-1)throw new TypeError("Only valid options for round() are: "+i.join(", "));return this.transform(s=>Jr(s)?s:Math[e](s))}}lm.prototype=F6.prototype;let B6=new Date(""),sye=t=>Object.prototype.toString.call(t)==="[object Date]";function Il(){return new op}class op extends wr{constructor(){super({type:"date",check(e){return sye(e)&&!isNaN(e.getTime())}}),this.withMutation(()=>{this.transform((e,n,i)=>!i.spec.coerce||i.isType(e)||e===null?e:(e=G_e(e),isNaN(e)?op.INVALID_DATE:new Date(e)))})}prepareParam(e,n){let i;if(ou.isRef(e))i=e;else{let s=this.cast(e);if(!this._typeCheck(s))throw new TypeError(`\`${n}\` must be a Date or a value that can be \`cast()\` to a Date`);i=s}return i}min(e,n=G1.min){let i=this.prepareParam(e,"min");return this.test({message:n,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(s){return s>=this.resolve(i)}})}max(e,n=G1.max){let i=this.prepareParam(e,"max");return this.test({message:n,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(s){return s<=this.resolve(i)}})}}op.INVALID_DATE=B6;Il.prototype=op.prototype;Il.INVALID_DATE=B6;function rye(t,e=[]){let n=[],i=new Set,s=new Set(e.map(([a,o])=>`${a}-${o}`));function r(a,o){let l=Gu.split(a)[0];i.add(l),s.has(`${o}-${l}`)||n.push([o,l])}for(const a of Object.keys(t)){let o=t[a];i.add(a),ou.isRef(o)&&o.isSibling?r(o.path,a):Mw(o)&&"deps"in o&&o.deps.forEach(l=>r(l,a))}return V_e.array(Array.from(i),n).reverse()}function dM(t,e){let n=1/0;return t.some((i,s)=>{var r;if((r=e.path)!=null&&r.includes(i))return n=s,!0}),n}function j6(t){return(e,n)=>dM(t,e)-dM(t,n)}const $6=(t,e,n)=>{if(typeof t!="string")return t;let i=t;try{i=JSON.parse(t)}catch{}return n.isType(i)?i:t};function Hv(t){if("fields"in t){const e={};for(const[n,i]of Object.entries(t.fields))e[n]=Hv(i);return t.setFields(e)}if(t.type==="array"){const e=t.optional();return e.innerType&&(e.innerType=Hv(e.innerType)),e}return t.type==="tuple"?t.optional().clone({types:t.spec.types.map(Hv)}):"optional"in t?t.optional():t}const aye=(t,e)=>{const n=[...Gu.normalizePath(e)];if(n.length===1)return n[0]in t;let i=n.pop(),s=Gu.getter(Gu.join(n),!0)(t);return!!(s&&i in s)};let hM=t=>Object.prototype.toString.call(t)==="[object Object]";function fM(t,e){let n=Object.keys(t.fields);return Object.keys(e).filter(i=>n.indexOf(i)===-1)}const oye=j6([]);function sa(t){return new U6(t)}class U6 extends wr{constructor(e){super({type:"object",check(n){return hM(n)||typeof n=="function"}}),this.fields=Object.create(null),this._sortErrors=oye,this._nodes=[],this._excludedEdges=[],this.withMutation(()=>{e&&this.shape(e)})}_cast(e,n={}){var i;let s=super._cast(e,n);if(s===void 0)return this.getDefault(n);if(!this._typeCheck(s))return s;let r=this.fields,a=(i=n.stripUnknown)!=null?i:this.spec.noUnknown,o=[].concat(this._nodes,Object.keys(s).filter(c=>!this._nodes.includes(c))),l={},u=Object.assign({},n,{parent:l,__validating:n.__validating||!1}),d=!1;for(const c of o){let f=r[c],h=c in s;if(f){let p,g=s[c];u.path=(n.path?`${n.path}.`:"")+c,f=f.resolve({value:g,context:n.context,parent:l});let v=f instanceof wr?f.spec:void 0,_=v==null?void 0:v.strict;if(v!=null&&v.strip){d=d||c in s;continue}p=!n.__validating||!_?f.cast(s[c],u):s[c],p!==void 0&&(l[c]=p)}else h&&!a&&(l[c]=s[c]);(h!==c in l||l[c]!==s[c])&&(d=!0)}return d?l:s}_validate(e,n={},i,s){let{from:r=[],originalValue:a=e,recursive:o=this.spec.recursive}=n;n.from=[{schema:this,value:a},...r],n.__validating=!0,n.originalValue=a,super._validate(e,n,i,(l,u)=>{if(!o||!hM(u)){s(l,u);return}a=a||u;let d=[];for(let c of this._nodes){let f=this.fields[c];!f||ou.isRef(f)||d.push(f.asNestedTest({options:n,key:c,parent:u,parentPath:n.path,originalParent:a}))}this.runTests({tests:d,value:u,originalValue:a,options:n},i,c=>{s(c.sort(this._sortErrors).concat(l),u)})})}clone(e){const n=super.clone(e);return n.fields=Object.assign({},this.fields),n._nodes=this._nodes,n._excludedEdges=this._excludedEdges,n._sortErrors=this._sortErrors,n}concat(e){let n=super.concat(e),i=n.fields;for(let[s,r]of Object.entries(this.fields)){const a=i[s];i[s]=a===void 0?r:a}return n.withMutation(s=>s.setFields(i,[...this._excludedEdges,...e._excludedEdges]))}_getDefault(e){if("default"in this.spec)return super._getDefault(e);if(!this._nodes.length)return;let n={};return this._nodes.forEach(i=>{var s;const r=this.fields[i];let a=e;(s=a)!=null&&s.value&&(a=Object.assign({},a,{parent:a.value,value:a.value[i]})),n[i]=r&&"getDefault"in r?r.getDefault(a):void 0}),n}setFields(e,n){let i=this.clone();return i.fields=e,i._nodes=rye(e,n),i._sortErrors=j6(Object.keys(e)),n&&(i._excludedEdges=n),i}shape(e,n=[]){return this.clone().withMutation(i=>{let s=i._excludedEdges;return n.length&&(Array.isArray(n[0])||(n=[n]),s=[...i._excludedEdges,...n]),i.setFields(Object.assign(i.fields,e),s)})}partial(){const e={};for(const[n,i]of Object.entries(this.fields))e[n]="optional"in i&&i.optional instanceof Function?i.optional():i;return this.setFields(e)}deepPartial(){return Hv(this)}pick(e){const n={};for(const i of e)this.fields[i]&&(n[i]=this.fields[i]);return this.setFields(n,this._excludedEdges.filter(([i,s])=>e.includes(i)&&e.includes(s)))}omit(e){const n=[];for(const i of Object.keys(this.fields))e.includes(i)||n.push(i);return this.pick(n)}from(e,n,i){let s=Gu.getter(e,!0);return this.transform(r=>{if(!r)return r;let a=r;return aye(r,e)&&(a=Object.assign({},r),i||delete a[e],a[n]=s(r)),a})}json(){return this.transform($6)}exact(e){return this.test({name:"exact",exclusive:!0,message:e||$v.exact,test(n){if(n==null)return!0;const i=fM(this.schema,n);return i.length===0||this.createError({params:{properties:i.join(", ")}})}})}stripUnknown(){return this.clone({noUnknown:!0})}noUnknown(e=!0,n=$v.noUnknown){typeof e!="boolean"&&(n=e,e=!0);let i=this.test({name:"noUnknown",exclusive:!0,message:n,test(s){if(s==null)return!0;const r=fM(this.schema,s);return!e||r.length===0||this.createError({params:{unknown:r.join(", ")}})}});return i.spec.noUnknown=e,i}unknown(e=!0,n=$v.noUnknown){return this.noUnknown(!e,n)}transformKeys(e){return this.transform(n=>{if(!n)return n;const i={};for(const s of Object.keys(n))i[e(s)]=n[s];return i})}camelCase(){return this.transformKeys(cx.camelCase)}snakeCase(){return this.transformKeys(cx.snakeCase)}constantCase(){return this.transformKeys(e=>cx.snakeCase(e).toUpperCase())}describe(e){const n=(e?this.resolve(e):this).clone(),i=super.describe(e);i.fields={};for(const[r,a]of Object.entries(n.fields)){var s;let o=e;(s=o)!=null&&s.value&&(o=Object.assign({},o,{parent:o.value,value:o.value[r]})),i.fields[r]=a.describe(o)}return i}}sa.prototype=U6.prototype;function $C(t){return new H6(t)}class H6 extends wr{constructor(e){super({type:"array",spec:{types:e},check(n){return Array.isArray(n)}}),this.innerType=void 0,this.innerType=e}_cast(e,n){const i=super._cast(e,n);if(!this._typeCheck(i)||!this.innerType)return i;let s=!1;const r=i.map((a,o)=>{const l=this.innerType.cast(a,Object.assign({},n,{path:`${n.path||""}[${o}]`}));return l!==a&&(s=!0),l});return s?r:i}_validate(e,n={},i,s){var r;let a=this.innerType,o=(r=n.recursive)!=null?r:this.spec.recursive;n.originalValue!=null&&n.originalValue,super._validate(e,n,i,(l,u)=>{var d;if(!o||!a||!this._typeCheck(u)){s(l,u);return}let c=new Array(u.length);for(let h=0;h<u.length;h++){var f;c[h]=a.asNestedTest({options:n,index:h,parent:u,parentPath:n.path,originalParent:(f=n.originalValue)!=null?f:e})}this.runTests({value:u,tests:c,originalValue:(d=n.originalValue)!=null?d:e,options:n},i,h=>s(h.concat(l),u))})}clone(e){const n=super.clone(e);return n.innerType=this.innerType,n}json(){return this.transform($6)}concat(e){let n=super.concat(e);return n.innerType=this.innerType,e.innerType&&(n.innerType=n.innerType?n.innerType.concat(e.innerType):e.innerType),n}of(e){let n=this.clone();if(!Mw(e))throw new TypeError("`array.of()` sub-schema must be a valid yup schema not: "+ko(e));return n.innerType=e,n.spec=Object.assign({},n.spec,{types:e}),n}length(e,n=Uv.length){return this.test({message:n,name:"length",exclusive:!0,params:{length:e},skipAbsent:!0,test(i){return i.length===this.resolve(e)}})}min(e,n){return n=n||Uv.min,this.test({message:n,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(i){return i.length>=this.resolve(e)}})}max(e,n){return n=n||Uv.max,this.test({message:n,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(i){return i.length<=this.resolve(e)}})}ensure(){return this.default(()=>[]).transform((e,n)=>this._typeCheck(e)?e:n==null?[]:[].concat(n))}compact(e){let n=e?(i,s,r)=>!e(i,s,r):i=>!!i;return this.transform(i=>i!=null?i.filter(n):i)}describe(e){const n=(e?this.resolve(e):this).clone(),i=super.describe(e);if(n.innerType){var s;let r=e;(s=r)!=null&&s.value&&(r=Object.assign({},r,{parent:r.value,value:r.value[0]})),i.innerType=n.innerType.describe(r)}return i}}$C.prototype=H6.prototype;const uy=kt({__name:"StudentEditor",props:{school:{},initialStudent:{},edit:{type:Boolean},focus:{},disableFields:{}},emits:["close","save"],setup(t,{emit:e}){const n=t,i=e,s=G(),r=G([]),a=G(!1),o=G(!1);let l=!1;we(()=>n.initialStudent,()=>re()),we(()=>n.school,()=>U());const u=sa({name:Fn().required("Il Nome è obbligatorio").min(1).label("Nome"),surname:Fn().required("Il Cognome è obbligatorio").min(1).label("Cognome"),contact:Fn().label("Contatto").nullable().optional(),lessonDay:Fn().label("Giono di Lezione").nullable().optional(),level:Fn().required("Il Livello è obbligatorio").label("Livello"),minutesLessonDuration:lm().required("La Durata della Lezione è obbligatoria").min(1).label("Durata della Lezione"),trial:ly().label("Lezione di Prova"),isSubstitution:ly().label("Supplenza"),note:Fn().label("Note"),from:Il().label("Da").nullable().optional().test({test:(F,L)=>(console.log(Y.value,F),!!(Y.value&&F)),message:"La data di inizio è obbligatoria",exclusive:!1,skipAbsent:!0,name:"conditionalFrom"}),to:Il().label("A")}),{defineField:d,handleSubmit:c}=Hl({validationSchema:u}),f=F=>({props:{"error-messages":F.errors}}),[h,p]=d("name",f),[g,v]=d("surname",f),[_,b]=d("contact",f),[x,k]=d("lessonDay",f),[I,E]=d("level",f),[T,S]=d("minutesLessonDuration",f),[w,P]=d("trial",f),[C,D]=d("isSubstitution",f),[A,N]=d("note",f),[B,z]=d("from",f),[q,W]=d("to",f),K=O(()=>{var F,L,$,ne;return w.value?(L=(F=n.initialStudent)==null?void 0:F.trial)!=null&&L.dailyLessonDate?`Lezione di prova: fatta in data ${rt.fromIyyyyMMdd((ne=($=n.initialStudent)==null?void 0:$.trial)==null?void 0:ne.dailyLessonDate).format()}`:"Lezione di prova: fatta":"Lezione di prova: da fare"}),Y=O(()=>{var F;return I.value!=((F=n.initialStudent)==null?void 0:F.level)});we(I,he);const Z=c(async F=>{ae(F)},F=>{Ze.warn("Ci sono alcuni errori! Inserisci correttamente i dati"),console.log(F)});function ee(F){var L;return(L=n.disableFields)==null?void 0:L.includes(F)}function le(F){return n.focus==F}function de(){o.value=!o.value}function he(){var F;if(l){l=!1;return}if(o.value||de(),!B.value){let L=new Date;if(n.initialStudent){const $=(F=n.initialStudent)==null?void 0:F.levelHistory;$&&$.length>=1?L=$[0].to?rt.fromIyyyyMMdd($[0].to).toDate():new Date:L=Z_(n.initialStudent.createdAt)}B.value=L}}function re(){var F,L;if(n.initialStudent){const $=JSON.parse(JSON.stringify(n.initialStudent));h.value=$.name,g.value=$.surname,I.value=$.level,T.value=$.minutesLessonDuration,_.value=$.contact??"",A.value=((F=$.note)==null?void 0:F.text)??"",w.value=((L=$.trial)==null?void 0:L.done)??!1,C.value=$.isSubstitution??!1,$.lessonDay&&(x.value=Vs[$.lessonDay]),l=!0}}function U(){s.value=n.school,r.value=s.value.levelRanges.flatMap(F=>F.levels)}function X(){h.value=Ki.word(),g.value=Ki.word(),I.value=Ki.item(r.value),x.value=Ki.item(Vs),C.value=Ki.bool(),w.value=Ki.bool(),T.value=Ki.int(30,150),_.value=Ki.word(),A.value=Ki.text()}async function ae(F){var ne,ue,ie,Te,Ae,Se,Ce,$e,Ne;a.value=!0;const L=pe(),$={name:F.name,surname:F.surname,schoolId:s.value.id,createdAt:n.edit?n.initialStudent.createdAt:At.now(),updatedAt:At.now(),minutesLessonDuration:F.minutesLessonDuration,isSubstitution:F.isSubstitution??!1,level:F.level,levelHistory:L};_.value&&_.value.trim().length!=0&&($.contact=_.value.trim()),x.value&&($.lessonDay=Vs.indexOf(x.value)),A.value&&A.value.trim().length!=0?$.note={text:A.value.trim(),updatedAt:At.now()}:delete $.note,w.value?($.trial={done:!0},(ue=(ne=n.initialStudent)==null?void 0:ne.trial)!=null&&ue.dailyLessonDate&&($.trial.dailyLessonDate=(Te=(ie=n.initialStudent)==null?void 0:ie.trial)==null?void 0:Te.dailyLessonDate),(Se=(Ae=n.initialStudent)==null?void 0:Ae.trial)!=null&&Se.dailyLessonId&&($.trial.dailyLessonId=($e=(Ce=n.initialStudent)==null?void 0:Ce.trial)==null?void 0:$e.dailyLessonId)):delete $.trial;try{n.edit&&((Ne=n.initialStudent)==null?void 0:Ne.id)!=null?(await Ys.instance.save($,n.initialStudent.id),Ze.success("Studente Aggiornato")):(await Ys.instance.save($),Ze.success("Studente Creato")),i("save",$)}catch(We){i("save"),Ze.error("Errore durante il salvataggio"),console.error("Error adding document (schools): ",We)}finally{a.value=!1}}function pe(){var L;const F=((L=n.initialStudent)==null?void 0:L.levelHistory)??[];if(Y.value){F!=null&&F[0]&&!F[0].to&&(F[0].to=rt.fromDate(B.value).toIyyyyMMdd());const $={level:I.value,from:rt.fromDate(B.value).toIyyyyMMdd()};q.value&&($.to=rt.fromDate(q.value).toIyyyyMMdd()),F.push($),F.sort((ne,ue)=>{if(!ne.to&&ue.to)return-1;if(ne.to&&!ue.to)return 1;if(ne.to&&ue.to){if(ne.to!==ue.to)return-ne.to.localeCompare(ue.to);if(ne.from&&ue.from)return ue.from.localeCompare(ne.from)}return 0})}return F}function ve(){if(!n.focus)return;const F=document.getElementById("std_"+n.focus);F==null||F.scrollIntoView({block:"start",behavior:"smooth"})}return Tt(()=>{ve(),re(),U()}),(F,L)=>{const $=j("v-text-field"),ne=j("v-col"),ue=j("v-btn"),ie=j("v-fab-transition"),Te=j("v-select"),Ae=j("v-date-input"),Se=j("v-row"),Ce=j("v-table"),$e=j("v-expand-transition"),Ne=j("v-number-input"),We=j("v-switch"),it=j("v-textarea"),et=j("v-card-text"),Ye=j("v-divider"),Dt=j("v-spacer"),Qt=j("v-card-actions"),ei=j("v-card");return be(),De(ei,{"prepend-icon":"mdi-school",title:`Studente (${F.school.name})`},{default:M(()=>[m(et,null,{default:M(()=>[m(Se,{dense:""},{default:M(()=>[m(ne,{cols:"12",md:"6"},{default:M(()=>[m($,J({id:"std_name",disabled:ee("name"),focused:le("name"),modelValue:se(h),"onUpdate:modelValue":L[0]||(L[0]=ce=>Ke(h)?h.value=ce:null)},se(p),{label:"Nome"}),null,16,["disabled","focused","modelValue"])]),_:1}),m(ne,{cols:"12",md:"6"},{default:M(()=>[m($,J({id:"std_surname",disabled:ee("surname"),focused:le("surname"),modelValue:se(g),"onUpdate:modelValue":L[1]||(L[1]=ce=>Ke(g)?g.value=ce:null)},se(v),{label:"Cognome"}),null,16,["disabled","focused","modelValue"])]),_:1}),m(ne,{cols:"12",md:"6"},{default:M(()=>[m($,J({id:"std_contact",disabled:ee("contact"),focused:le("contact"),modelValue:se(_),"onUpdate:modelValue":L[2]||(L[2]=ce=>Ke(_)?_.value=ce:null)},se(b),{label:"Contatto"}),null,16,["disabled","focused","modelValue"])]),_:1}),m(ne,{cols:"12",md:"6"},{default:M(()=>[m(Te,J({id:"std_level",disabled:ee("level"),focused:le("level"),modelValue:se(I),"onUpdate:modelValue":L[3]||(L[3]=ce=>Ke(I)?I.value=ce:null)},se(E),{items:r.value,label:"Livello"}),{append:M(()=>[m(ie,null,{default:M(()=>[o.value?(be(),De(ue,{key:0,icon:"mdi-chevron-up",onClick:de})):(be(),De(ue,{key:1,icon:"mdi-chevron-down",onClick:de}))]),_:1})]),_:1},16,["disabled","focused","modelValue","items"])]),_:1}),m($e,{mode:"out-in"},{default:M(()=>[o.value?(be(),De(ne,{key:0,style:{padding:"0px!important"},cols:"12",md:"12"},{default:M(()=>{var ce;return[m(Se,{class:"mb-4 mx-2 justify-center"},{default:M(()=>[m(ne,{cols:"12",md:"6"},{default:M(()=>[m(Ae,J({modelValue:se(B),"onUpdate:modelValue":L[4]||(L[4]=fe=>Ke(B)?B.value=fe:null)},se(z),{label:"Da",disabled:!Y.value,inputmode:"none"}),null,16,["modelValue","disabled"])]),_:1}),m(ne,{cols:"12",md:"6"},{default:M(()=>[m(Ae,J({modelValue:se(q),"onUpdate:modelValue":L[5]||(L[5]=fe=>Ke(q)?q.value=fe:null)},se(W),{label:"A",disabled:!Y.value,hint:"Il campo è opzionale",inputmode:"none","persistent-hint":""}),null,16,["modelValue","disabled"])]),_:1})]),_:1}),(ce=F.initialStudent)!=null&&ce.levelHistory?(be(),De(Se,{key:0,class:"mx-2 my-2"},{default:M(()=>[m(ne,null,{default:M(()=>[m(Ce,{density:"compact"},{default:M(()=>{var fe;return[L[12]||(L[12]=Me("thead",null,[Me("tr",null,[Me("th",{class:"text-left font-weight-bold"}," Livello "),Me("th",{class:"text-left font-weight-bold"}," Da "),Me("th",{class:"text-left font-weight-bold"}," A ")])],-1)),Me("tbody",null,[(be(!0),bt(Ee,null,xi((fe=F.initialStudent)==null?void 0:fe.levelHistory,Ie=>{var Ue;return be(),bt("tr",{key:Ie.level},[Me("td",null,at(Ie.level),1),Me("td",null,at(Ie.from?se(rt).fromIyyyyMMdd(Ie.from).format():se(ch)(se(Z_)((Ue=F.initialStudent)==null?void 0:Ue.createdAt))),1),Me("td",null,at(Ie.to?se(rt).fromIyyyyMMdd(Ie.to).format():"In corso"),1)])}),128))])]}),_:1})]),_:1})]),_:1})):Wt("",!0)]}),_:1})):Wt("",!0)]),_:1}),m(ne,{cols:"12",md:"6"},{default:M(()=>[m(Te,J({id:"std_lessonDay",disabled:ee("lessonDay"),focused:le("lessonDay"),modelValue:se(x),"onUpdate:modelValue":L[6]||(L[6]=ce=>Ke(x)?x.value=ce:null)},se(k),{items:se(Vs),label:"Giorno della Lezione",clearable:""}),null,16,["disabled","focused","modelValue","items"])]),_:1}),m(ne,{cols:"12",md:"6"},{default:M(()=>[m(Ne,J({id:"std_minutesLessonDuration",disabled:ee("minutesLessonDuration"),focused:le("minutesLessonDuration"),modelValue:se(T),"onUpdate:modelValue":L[7]||(L[7]=ce=>Ke(T)?T.value=ce:null)},se(S),{reverse:!1,controlVariant:"default",label:"Durata della Lezione",suffix:"min",hideInput:!1,inset:!1,min:1}),null,16,["disabled","focused","modelValue"])]),_:1}),m(ne,{cols:"12",md:"6"},{default:M(()=>[m(We,J({label:K.value,modelValue:se(w),"onUpdate:modelValue":L[8]||(L[8]=ce=>Ke(w)?w.value=ce:null)},se(P),{color:"primary","hide-details":""}),null,16,["label","modelValue"])]),_:1}),m(ne,{cols:"12",md:"6"},{default:M(()=>[m(We,J({label:"Supplenza",modelValue:se(C),"onUpdate:modelValue":L[9]||(L[9]=ce=>Ke(C)?C.value=ce:null)},se(D),{color:"primary","hide-details":""}),null,16,["modelValue"])]),_:1}),m(ne,{cols:"12",md:"12"},{default:M(()=>[m(it,J({id:"std_note",disabled:ee("note"),focused:le("note"),modelValue:se(A),"onUpdate:modelValue":L[10]||(L[10]=ce=>Ke(A)?A.value=ce:null)},se(N),{label:"Note",counter:""}),null,16,["disabled","focused","modelValue"])]),_:1})]),_:1})]),_:1}),m(Ye),m(Qt,null,{default:M(()=>[m(Dt),se(Vve)?(be(),De(ue,{key:0,text:"Random",variant:"plain",onClick:X})):Wt("",!0),m(ue,{text:"Chiudi",variant:"plain",onClick:L[11]||(L[11]=ce=>i("close"))}),m(ue,{color:"primary",loading:a.value,disabled:a.value,text:F.edit?"Salva Modifiche":"Crea",variant:"tonal",onClick:se(Z)},null,8,["loading","disabled","text","onClick"])]),_:1})]),_:1},8,["title"])}}}),Ly=class Ly{static get instance(){return this._instance||(this._instance=new Ly),this._instance}async getStudentsOfSchool(e){const n=Wn(Ln("schoolId"),"==",e);return Ys.instance.getAll(n)}observeStudentsOfSchool(e){const n=Wn(Ln("schoolId"),"==",e);return Ys.instance.observeAll(n)}async getStudentsOfSchoolWithIds(e,n){if(n.length==0)return[];const i=Wn(Ln("schoolId"),"==",e),s=Wn(QZ(),"in",n);return Ys.instance.getAll(i,s)}async setTrialDone(e,n,i){var r;const s=await Ys.instance.get(e.id);return s?((r=s.trial)!=null&&r.done||(s.trial={done:!0},n&&(s.trial.dailyLessonDate=n),i&&(s.trial.dailyLessonId=i),await Ys.instance.save(s,s.id)),s):e}async unsetTrial(e){const n=await Ys.instance.get(e.id);return n?(n.trial&&(delete n.trial,await Ys.instance.save(n,n.id)),n):e}getLevelByDate(e,n){let i=e.level;if(e.levelHistory){const s=e.levelHistory.find(r=>{r.from>=n&&n>(r.to??rt.today().toIyyyyMMdd())});i=(s==null?void 0:s.level)??i}return i}};an(Ly,"_instance",null);let _r=Ly;const Ny=class Ny{static get instance(){return this._instance||(this._instance=new Ny),this._instance}async computeSalary(e,n,i){const s=await bi.instance.getDailyLessonOfSchoolBetweenDate(e.id,n,i);return this.computeSalaryOfDailyLessons(s)}async computeSalaryOfDailyLessons(e){const n=[];return e.forEach(i=>{const s=i.lessons.filter(a=>a.status==Mt.PRESENT).length,r=i.lessons.filter(a=>a.status==Mt.ABSENT).length;n.push({dailyLessonId:i.id,date:i.date,lastUpdate:i.lastSalaryUpdate,salary:i.salary,presents:s,absents:r})}),n}computeSalaryByStudentLesson(e,n,i){var r;if(!e)return 0;if(e.salaryStrategy==Gm.ABSENT_AND_PRESENT&&(n.status==Mt.PRESENT||n.status==Mt.ABSENT||n.status==Mt.UNJUSTIFIED_ABSENCE)||e.salaryStrategy==Gm.ONLY_PRESENT&&n.status==Mt.PRESENT||e.trialLessonPaymentStrategy!=Fd.NOTHING&&n.status==Mt.TRIAL){const a=_r.instance.getLevelByDate(n,i),o=(r=e.levelRanges.find(l=>l.levels.includes(a)))==null?void 0:r.price;if(o!=null){const l=o*((n.endTime-n.startTime)/60);return n.status==Mt.TRIAL&&e.trialLessonPaymentStrategy==Fd.HALF?l/2:l}}return 0}};an(Ny,"_instance",null);let rg=Ny;const Fy=class Fy extends ap{constructor(){super(e=>rp(Kh.RECOVERY_LESSONS,e))}static get instance(){return this._instance||(this._instance=new Fy),this._instance}};an(Fy,"_instance",null);let po=Fy;var zv=(t=>(t[t.SET_PRESENT=0]="SET_PRESENT",t[t.SET_ABSENT=1]="SET_ABSENT",t[t.RESET=2]="RESET",t))(zv||{});const Du=class Du{static get instance(){return this._instance||(this._instance=new Du),this._instance}async computeDailyLessons(e){const n=Array.from(new Set(e.recoveries.flatMap(d=>{var c;return[d.originalLesson.dailyLessonId,(c=d.recoveryLesson)==null?void 0:c.dailyLessonId]}).filter(Boolean))),s=(await Promise.all(n.map(d=>Ot.instance.get(d)))).filter(Boolean),r=await _r.instance.getStudentsOfSchool(e.schoolId),a=[],o=[],l=[],u=(d,c,f,h,p)=>{f.push({...d,...c,...h,recoveryStatus:p})};return e.recoveries.forEach(d=>{const{originalLesson:c,recoveryLesson:f,status:h}=d,p=s.find(_=>_.id===c.dailyLessonId),g=f?s.find(_=>_.id===f.dailyLessonId):void 0;if(!p){console.warn("Unable to load original daily lesson of a recovery...");return}const v={originalDailyLesson:p,recoveryDailyLesson:g};p.lessons.forEach(_=>{if(_.lessonId!==c.lessonId)return;const b=r.find(x=>x.id===_.studentId);b&&(g?h!=null?u(_,b,l,v,h):u(_,b,o,v):u(_,b,a,v))})}),{recoveryMap:[{type:"unset",recoveries:a},{type:"pending",recoveries:o},{type:"done",recoveries:l}],schoolId:e.schoolId}}async getOrCreate(e){const n=await po.instance.getDoc(e);if(n.exists())return n.data();const i={recoveries:[],schoolId:e};return await po.instance.save(i,e),i}getRecoveryType(e){return!e.status&&!e.recoveryLesson?0:!e.status&&e.recoveryLesson?1:2}addRecoveryByType(e,n,i,s){let r=e.recoveries.findIndex(o=>o.originalLesson.dailyLessonId==n.dailyLessonId&&o.originalLesson.lessonId==n.lessonId);r==-1&&(e.recoveries.push({originalLesson:n}),r=e.recoveries.length-1);const a=e.recoveries[r];i==0?a.originalLesson=s:i==1?a.recoveryLesson=s:a.status=s}removeRecoveryByType(e,n,i){const s=e.recoveries.findIndex(r=>r.originalLesson.dailyLessonId==n.dailyLessonId&&r.originalLesson.lessonId==n.lessonId);if(s!=-1){if(i==0)return e.recoveries.splice(s,1),!0;if(i==1){if(e.recoveries[s].recoveryLesson)return delete e.recoveries[s].recoveryLesson,!0}else if(e.recoveries[s].status)return delete e.recoveries[s].status,!0}return!1}async updateRecovery(e,n,...i){var r;const s=await Du.instance.getOrCreate(n);for await(const a of i){const o=((r=a.recovery)==null?void 0:r.ref)=="original",l=o?{dailyLessonId:a.recovery.lessonRef.dailyLessonId,lessonId:a.recovery.lessonRef.lessonId}:{dailyLessonId:a.dailyLessonId,lessonId:a.lessonId};if(e==0)if(!o)this.removeRecoveryByType(s,l,0);else{const u=Mt.PRESENT;this.addRecoveryByType(s,l,2,u)}else if(e==1)if(o){const u={...l};this.removeRecoveryByType(s,l,1),this.addRecoveryByType(s,l,0,u);const d=l.lessonId,c=await Ot.instance.get(l.dailyLessonId);await bi.instance.moveRecoveryRefToUndoneList(c,d)}else{const u={...l};this.addRecoveryByType(s,l,0,u)}else if(e==2){if(!o)this.removeRecoveryByType(s,l,0);else if(!this.removeRecoveryByType(s,l,2)){const d={dailyLessonId:a.dailyLessonId,lessonId:a.lessonId};this.addRecoveryByType(s,l,1,d);const c=l.lessonId,f=a.lessonId,h={lessonRef:{...l},ref:"original"},p={lessonRef:{...d},ref:"recovery"},g=await Ot.instance.get(l.dailyLessonId),v=await Ot.instance.get(a.dailyLessonId);await bi.instance.addRecoveryRef(g,c,p),await bi.instance.addRecoveryRef(v,f,h)}}}po.instance.save(s,n)}async scheduleRecovery(e,n){const i=await Du.instance.getOrCreate(e.schoolId),s=await bi.instance.createRecoveryLesson(n),r=await Ot.instance.getDoc(e.originalDailyLesson.id);if(r.exists()){const l=r.data(),u=l.lessons.find(d=>d.lessonId==e.lessonId);u&&(u.recovery={ref:"recovery",lessonRef:{dailyLessonId:s.dailyLessonId,lessonId:s.lessonId}},await Ot.instance.save(l,l.id))}else console.warn("");const a={dailyLessonId:e.originalDailyLesson.id,lessonId:e.lessonId},o={dailyLessonId:s.dailyLessonId,lessonId:s.lessonId};this.addRecoveryByType(i,a,1,o),po.instance.save(i,e.schoolId)}async cancelRecovery(e,n){var c,f,h,p,g,v;if(!e.recoveryDailyLesson)return;const i=await Du.instance.getOrCreate(e.schoolId);let s,r;const a=[];((c=e.recovery)==null?void 0:c.ref)=="recovery"?(s=e.recovery.lessonRef,r=(h=(f=e.recoveryDailyLesson.lessons.find(_=>_.lessonId==(s==null?void 0:s.lessonId)))==null?void 0:f.recovery)==null?void 0:h.lessonRef):((p=e.recovery)==null?void 0:p.ref)=="original"&&(r=e.recovery.lessonRef,s=(v=(g=e.originalDailyLesson.lessons.find(_=>_.lessonId==(r==null?void 0:r.lessonId)))==null?void 0:g.recovery)==null?void 0:v.lessonRef);const o=await Ot.instance.get(e.recoveryDailyLesson.id),l=o==null?void 0:o.lessons.findIndex(_=>_.lessonId==(s==null?void 0:s.lessonId));await bi.instance.deleteLesson(o,l);const u=await Ot.instance.get(e.originalDailyLesson.id),d=u==null?void 0:u.lessons.findIndex(_=>_.lessonId==(r==null?void 0:r.lessonId));u&&d!=null&&d!=-1&&(delete u.lessons[d].recovery,await Ot.instance.save(u,u.id)),r&&(a.push(2,1),n&&a.push(0),a.forEach(_=>this.removeRecoveryByType(i,r,_)),await po.instance.save(i,e.schoolId))}};an(Du,"_instance",null);let To=Du;const By=class By{static get instance(){return this._instance||(this._instance=new By),this._instance}async getStudentLesson(e,n){n??(n=e.lessons.map(s=>s.studentId));const i=await _r.instance.getStudentsOfSchoolWithIds(e.schoolId,n);return e.lessons.map(s=>{const r=i.find(a=>a.id==s.studentId);return{...s,...r}})}};an(By,"_instance",null);let ag=By;const jy=class jy{static get instance(){return this._instance||(this._instance=new jy),this._instance}async getWeeklyLessonOfSchool(e){const n=Wn(Ln("schoolId"),"==",e);return ia.instance.getAll(n)}async getWeeklyLessonOfSchoolByDayBetweenDate(e,n,i){const s=Wn(Ln("schoolId"),"==",e),r=Wn(Ln("dayOfWeek"),"==",n),a=Wn(Ln("from"),"<=",i),o=Wn(Ln("to"),">=",i);return ia.instance.getAll(s,r,a,o)}observeWeekLessonOfSchool(e){const n=Wn(Ln("schoolId"),"==",e),i=qB(Ln("dayOfWeek"));return ia.instance.observeAll(n,i)}isValid(e,n){return e.dayOfWeek==qle(n)&&e.from<n&&n<e.to&&!e.exclude.includes(n)}};an(jy,"_instance",null);let Po=jy;const Td=class Td{static get instance(){return this._instance||(this._instance=new Td),this._instance}async getDailyLessonOfSchoolByDate(e,n){const i=Wn(Ln("schoolId"),"==",e),s=Wn(Ln("date"),"==",n);return Ot.instance.getAll(i,s)}async getDailyLessonOfSchoolFromDate(e,n,i){const s=[],r=Wn(Ln("schoolId"),"==",e),a=Wn(Ln("date"),">=",n);return s.push(r,a),i&&s.push(qB(Ln("date"),i)),Ot.instance.getAll(...s)}async getDailyLessonOfSchoolBetweenDate(e,n,i){const s=Wn(Ln("schoolId"),"==",e),r=Wn(Ln("date"),">=",n),a=Wn(Ln("date"),"<=",i);return await Ot.instance.getAll(s,r,a)}async delete(e){const i=(await Po.instance.getWeeklyLessonOfSchool(e.schoolId)).find(s=>Po.instance.isValid(s,e.date));return i?(i.exclude.push(e.date),await ia.instance.save(i,i.id),!0):(await Ot.instance.delete(e.id),!1)}async getOrCreateDailyLessonId(e,n){return n instanceof Date?this.createDailyLessonByDate(e,n):this.handleLessonProjection(e,n)}async handleLessonProjection(e,n){if(!n.dailyLessonId){const i=this.buildDailyLessonFromProjection(e,n);return Ot.instance.save(i)}return n.dailyLessonId}buildDailyLessonFromProjection(e,n){return{date:n.date.toIyyyyMMdd(),schoolId:e,lessons:n.lessons.map(i=>({lessonId:Bd(),status:Mt.NONE,studentId:i.studentId,startTime:i.startTime,endTime:i.endTime,createdAt:At.now(),updatedAt:At.now()}))}}async createDailyLessonByDate(e,n){var a;const i=rt.fromDate(n).toIyyyyMMdd(),s=await Td.instance.getDailyLessonOfSchoolByDate(e,i);if((a=s==null?void 0:s[0])!=null&&a.id)return s[0].id;const r=await this.buildDailyLessonFromWeeklyOrEmpty(e,n,i);return Ot.instance.save(r)}async buildDailyLessonFromWeeklyOrEmpty(e,n,i){const s=await Po.instance.getWeeklyLessonOfSchoolByDayBetweenDate(e,n.getDay(),i),r=s==null?void 0:s[0];return r?{date:i,schoolId:e,lessons:r.schedule.map(a=>({lessonId:Bd(),status:Mt.NONE,studentId:a.studentId,startTime:a.startTime,endTime:a.endTime,createdAt:At.now(),updatedAt:At.now()}))}:{date:i,schoolId:e,lessons:[]}}async removeRecoveryLesson(e){const n=await Ot.instance.getDoc(e.dailyLessonId);if(n.exists()){const i=n.data(),s=i.lessons.findIndex(r=>r.lessonId==e.lessonId);if(s!=-1){const r=i.lessons.splice(s,1)[0];r.recovery||console.warn("Deleting a lesson not marked as recovery lesson!",r),Ot.instance.save(i,i.id)}}}async createRecoveryLesson(e){const n={lessonId:Bd(),status:Mt.NONE,studentId:e.studentId,startTime:e.startTime,endTime:e.endTime,recovery:{ref:"original",lessonRef:{dailyLessonId:e.originalDailyLessonId,lessonId:e.originalLessonId}},createdAt:At.now(),updatedAt:At.now()},i=await this.getOrCreateDailyLessonId(e.schoolId,e.date),s=await Ot.instance.get(i);return s.lessons.push(n),await Ot.instance.save(s,s.id),{...n,dailyLessonId:s.id}}async removeRecoveryRef(e,n){const i=e.lessons.find(s=>s.lessonId==n);i&&i.recovery&&(delete i.recovery,await Ot.instance.save(e,e.id))}async moveRecoveryRefToUndoneList(e,n){const i=e.lessons.find(s=>s.lessonId==n);if(i&&i.recovery){const s={...i.recovery.lessonRef};i.undoneRecoveryRef||(i.undoneRecoveryRef=[]),i.undoneRecoveryRef.push(s),delete i.recovery,await Ot.instance.save(e,e.id)}}async addRecoveryRef(e,n,i){const s=e.lessons.find(r=>r.lessonId==n);s&&(s.recovery=i,await Ot.instance.save(e,e.id))}async deleteLessonAndRecoveryReferences(e,n,i,s){var a,o;const r=n.lessons.findIndex(l=>l.studentId==e.id)??-1;if(r==-1)return!1;try{const l=n.lessons[r];if(((a=l.recovery)==null?void 0:a.ref)=="original"){const u=await Ot.instance.get(l.recovery.lessonRef.dailyLessonId),d=n;if(!u)return console.warn("Unable to cancel recovery because original daily lesson does not exist"),!1;const c={...e,originalDailyLesson:u,recoveryDailyLesson:d};await To.instance.cancelRecovery(c,s)}else if(((o=l.recovery)==null?void 0:o.ref)=="recovery"){const u=await Ot.instance.get(l.recovery.lessonRef.dailyLessonId);if(!u)return console.warn("Unable to cancel recovery because recovery daily lesson does not exist"),!1;const c=(await ag.instance.getStudentLesson(u)).find(f=>f.lessonId==l.recovery.lessonRef.lessonId);if(!c)return console.warn("Unable to cancel recovery because recovery student lesson does not exist"),!1;await this.deleteLessonAndRecoveryReferences(c,u,i,!0),n.lessons.splice(r,1),await Ot.instance.save(n,n.id)}else await this.deleteLesson(n,r,i);return!0}catch{return!1}}async deleteLesson(e,n,i){e&&n!=null&&n!=-1&&(e.lessons.splice(n,1),e.lessons.length==0&&i?await Ot.instance.delete(e.id):await Ot.instance.save(e,e.id))}async computeSalaryOfDailyLesson(e,n){const i=await Ot.instance.get(n);if(!i)return;const s=i.lessons.map(o=>o.studentId),r=await ag.instance.getStudentLesson(i,s);let a=0;if(i.lessons.forEach(o=>{const l=r.find(u=>u.id==o.studentId);l!==void 0&&(a+=rg.instance.computeSalaryByStudentLesson(e,l,i.date))}),a!=i.salary)return i.salary=a,i.lastSalaryUpdate=At.now(),await Ot.instance.save(i,i.id),i}async moveDailyLesson(e,n,i,s){const r=await Td.instance.getOrCreateDailyLessonId(e,s),a=await Ot.instance.get(r);if(a)a.lessons.push({lessonId:i.lessonId,studentId:i.studentId,endTime:i.endTime,startTime:i.startTime,moved:{ref:"original",lessonRef:{dailyLessonId:n,lessonId:i.lessonId}},status:Mt.NONE,updatedAt:At.now(),createdAt:At.now()}),await Ot.instance.save(a,a.id),i.moved={ref:"moved",lessonRef:{dailyLessonId:a.id,lessonId:i.lessonId}};else throw new Error("Unable to move the lesson because the new daily lesson is undefined!")}async undoMoveDailyLesson(e){if(e.moved&&e.moved.ref=="moved"){const n=await Ot.instance.get(e.moved.lessonRef.dailyLessonId),i=n==null?void 0:n.lessons.findIndex(s=>{var r;return s.lessonId==((r=e.moved)==null?void 0:r.lessonRef.lessonId)});i!=null&&i!=-1&&(n==null||n.lessons.splice(i,1),await Ot.instance.save(n,n==null?void 0:n.id),delete e.moved)}}};an(Td,"_instance",null);let bi=Td;const $y=class $y{constructor(){an(this,"today")}static get instance(){return this._instance||(this._instance=new $y),this._instance}calculateToday(){const e=new Date(new Date().toDateString()),n=rt.fromDate(e);this.today={asDate:e,asString:n.toIyyyyMMdd(),asyyyyMMdd:n,asIyyyyMMdd:n.toIyyyyMMdd()}}async getCalendarLessons(e,n,i){const s=[],r=await bi.instance.getDailyLessonOfSchoolBetweenDate(e,n.date.toIyyyyMMdd(),i.date.toIyyyyMMdd());s.push(...r.flatMap(f=>{const h=rt.fromIyyyyMMdd(f.date).toIyyyyMMdd("-",1);return f.lessons.map(p=>({id:f.id+"_"+p.lessonId,title:p.studentId,start:h+" "+$t.fromITime(p.startTime).format(),end:h+" "+$t.fromITime(p.endTime).format(),calendarId:e.toLowerCase(),data:{date:h,dailyLessonId:f.id}}))}));const a=Wn(Ln("schoolId"),"==",e),o=Wn(Ln("from"),"<=",i.date.toIyyyyMMdd()),l=Wn(Ln("to"),">=",n.date.toIyyyyMMdd()),u=await ia.instance.getAll(a,o,l),d=i.date.toDate(),c=n.date.toDate();for(;c<=d&&u.length>0;)u.forEach(f=>{const h=vO(c,f.dayOfWeek);if(h>d||h>rt.fromIyyyyMMdd(f.to).toDate()||h<rt.fromIyyyyMMdd(f.from).toDate())return;const p=rt.fromDate(h).toIyyyyMMdd("-",1);s.find(g=>{var v;return((v=g.data)==null?void 0:v.date)==p})||s.push(...f.schedule.map(g=>({id:Bd(),title:g.studentId,start:p+" "+$t.fromITime(g.startTime).format(),end:p+" "+$t.fromITime(g.endTime).format(),calendarId:e.toLowerCase()})))}),c.setDate(c.getDate()+7);return s}async getGroupedLessons(e,n){const i=[];this.calculateToday();const s=this.applyFilters(e,n);return await this.addLastLessons(s,i,2),this.addUpcomingLessons(s,i,4),this.groupLessonsByMonth(i)}applyFilters(e,n){if(!n||n.length==0)return e;const i=new Map,s=a=>{a.forEach(o=>{i.has(o.id)||i.set(o.id,o)})},r={schoolId:e.schoolId,dailyLessons:[],weeklyLessons:[]};for(const a of n)if(a.type=="weekly")r.weeklyLessons=e.weeklyLessons,e.weeklyLessons.forEach(o=>{const l=e.dailyLessons.filter(u=>Po.instance.isValid(o,u.date));s(l)});else if(a.type=="recovery"){const o=e.dailyLessons.filter(l=>l.lessons.some(u=>{var d;return((d=u.recovery)==null?void 0:d.ref)=="original"}));s(o)}else if(a.type=="moved"){const o=e.dailyLessons.filter(l=>l.lessons.some(u=>{var d;return((d=u.moved)==null?void 0:d.ref)=="original"}));s(o)}else a.type=="daily"&&s(e.dailyLessons);return r.dailyLessons=Array.from(i.values()),r}async addLastLessons(e,n,i){const s=e.dailyLessons,r=e.weeklyLessons,a=s.filter(d=>d.date<=this.today.asString);a.sort((d,c)=>c.date.localeCompare(d.date)),a.slice(0,i).reverse().forEach(d=>{n.push(this.createLessonProjection(d,!1))});const l=new Date,u=[...r];for(;n.length<i&&u.length>0;)u.forEach(async(d,c)=>{if(n.length>=i)return;const f=Gle(l,d.dayOfWeek),h=rt.fromDate(f),p=h.toIyyyyMMdd();if(d.from>p||p>d.to){u.splice(c,1);return}d.exclude.includes(p)||n.some(g=>g.date.equals(h))||n.push({date:h,pending:!0,next:!1,lessons:d.schedule})}),l.setDate(l.getDate()-7)}addUpcomingLessons(e,n,i){const s=e.dailyLessons,r=e.weeklyLessons,a=new Date,o=n.length+i,l=s.filter(c=>c.date>this.today.asString).sort((c,f)=>c.date.localeCompare(f.date));let u=0;const d=[...r];for(;(d.length>0||l.length>u)&&n.length<o;){if(d.length==0){const c=l[u];n.push(this.createLessonProjection(c,!1)),u++}d.forEach((c,f)=>{if(n.length>=o)return;const h=vO(a,c.dayOfWeek),p=rt.fromDate(h),g=p.toIyyyyMMdd();if(c.from>g||g>c.to){d.splice(f,1);return}for(;l.length>u&&l[u].date<=g&&n.length<o;){const v=l[u];n.push(this.createLessonProjection(v,!1)),u++}c.exclude.includes(g)||n.length<o&&!n.some(v=>v.date.equals(p))&&n.push({date:p,next:!1,lessons:c.schedule})}),a.setDate(a.getDate()+7)}}groupLessonsByMonth(e){const n=[];let i=!1;return e.sort((s,r)=>s.date.toIyyyyMMdd()>r.date.toIyyyyMMdd()?1:-1).forEach(s=>{const r=s.date.getMonth();let a=n.findIndex(o=>o.month==pO[r]);a==-1&&(n.push({month:pO[r],lessons:[]}),a=n.length-1),!i&&s.date.toDate()>=this.today.asDate&&(i=!0,s.next=!0),n[a].lessons.push(s)}),n}createLessonProjection(e,n){const i=e.date<=this.today.asString&&e.lessons.some(a=>a.status==Mt.NONE),s=e.lessons.some(a=>{var o;return((o=a.recovery)==null?void 0:o.ref)=="original"}),r=e.lessons.some(a=>{var o;return((o=a.moved)==null?void 0:o.ref)=="original"});return{dailyLessonId:e.id,date:rt.fromIyyyyMMdd(e.date),recovery:s,moved:r,pending:i,next:n,lessons:e.lessons}}};an($y,"_instance",null);let cy=$y;var K1;(function(t){t.DragAndDrop="dragAndDrop",t.EventModal="eventModal",t.ScrollController="scrollController",t.EventRecurrence="eventRecurrence",t.Resize="resize",t.CalendarControls="calendarControls",t.CurrentTime="currentTime"})(K1||(K1={}));const lye=/^(0[0-9]|1[0-9]|2[0-3]):[0-5][0-9]$/,uye=/^(\d{4})-(\d{2})-(\d{2})$/;let cye=class extends Error{constructor(e){super(`Invalid time string: ${e}`)}},dye=class extends Error{constructor(e,n){super(`Number must be between ${e} and ${n}.`),Object.defineProperty(this,"min",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"max",{enumerable:!0,configurable:!0,writable:!0,value:n})}};const mM=t=>{if(t<0||t>99)throw new dye(0,99);return String(t).padStart(2,"0")},z6=1.6666666666666667,gM=t=>{if(!lye.test(t)&&t!=="24:00")throw new cye(t);const[e,n]=t.split(":").map(s=>parseInt(s,10));let i=(n*z6).toString();return i.split(".")[0].length<2&&(i=`0${i}`),Number(e+i)},pM=t=>{const e=Math.floor(t/100),n=Math.round(t%100/z6);return`${mM(e)}:${mM(n)}`},hye=(t,e)=>(e.name=t,e);class fye{constructor(){Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:K1.CalendarControls}),Object.defineProperty(this,"$app",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"getDate",{enumerable:!0,configurable:!0,writable:!0,value:()=>this.$app.datePickerState.selectedDate.value}),Object.defineProperty(this,"getView",{enumerable:!0,configurable:!0,writable:!0,value:()=>this.$app.calendarState.view.value}),Object.defineProperty(this,"getFirstDayOfWeek",{enumerable:!0,configurable:!0,writable:!0,value:()=>this.$app.config.firstDayOfWeek.value}),Object.defineProperty(this,"getLocale",{enumerable:!0,configurable:!0,writable:!0,value:()=>this.$app.config.locale.value}),Object.defineProperty(this,"getViews",{enumerable:!0,configurable:!0,writable:!0,value:()=>this.$app.config.views.value}),Object.defineProperty(this,"getDayBoundaries",{enumerable:!0,configurable:!0,writable:!0,value:()=>({start:pM(this.$app.config.dayBoundaries.value.start),end:pM(this.$app.config.dayBoundaries.value.end)})}),Object.defineProperty(this,"getWeekOptions",{enumerable:!0,configurable:!0,writable:!0,value:()=>this.$app.config.weekOptions.value}),Object.defineProperty(this,"getCalendars",{enumerable:!0,configurable:!0,writable:!0,value:()=>this.$app.config.calendars.value}),Object.defineProperty(this,"getMinDate",{enumerable:!0,configurable:!0,writable:!0,value:()=>this.$app.config.minDate.value}),Object.defineProperty(this,"getMaxDate",{enumerable:!0,configurable:!0,writable:!0,value:()=>this.$app.config.maxDate.value}),Object.defineProperty(this,"getMonthGridOptions",{enumerable:!0,configurable:!0,writable:!0,value:()=>this.$app.config.monthGridOptions.value}),Object.defineProperty(this,"getRange",{enumerable:!0,configurable:!0,writable:!0,value:()=>this.$app.calendarState.range.value})}beforeRender(e){this.$app=e}onRender(e){this.$app=e}setDate(e){if(!uye.test(e))throw new Error("Invalid date. Expected format YYYY-MM-DD");this.$app.datePickerState.selectedDate.value=e}setView(e){if(!this.$app.config.views.value.find(i=>i.name===e))throw new Error(`Invalid view name. Expected one of ${this.$app.config.views.value.map(i=>i.name).join(", ")}`);this.$app.calendarState.setView(e,this.$app.datePickerState.selectedDate.value)}setFirstDayOfWeek(e){this.$app.config.firstDayOfWeek.value=e}setLocale(e){this.$app.config.locale.value=e}setViews(e){const n=this.$app.calendarState.view.value;if(!e.some(s=>s.name===n))throw new Error(`Currently active view is not in given views. Expected to find ${n} in ${e.map(s=>s.name).join(",")}`);this.$app.config.views.value=e}setDayBoundaries(e){this.$app.config.dayBoundaries.value={start:gM(e.start),end:gM(e.end)}}setWeekOptions(e){this.$app.config.weekOptions.value={...this.$app.config.weekOptions.value,...e}}setCalendars(e){this.$app.config.calendars.value=e}setMinDate(e){this.$app.config.minDate.value=e}setMaxDate(e){this.$app.config.maxDate.value=e}setMonthGridOptions(e){this.$app.config.monthGridOptions.value=e}}const W6=()=>hye("calendarControls",new fye);var Q1;(function(t){t.DragAndDrop="dragAndDrop",t.EventModal="eventModal",t.ScrollController="scrollController",t.EventRecurrence="eventRecurrence",t.Resize="resize",t.CalendarControls="calendarControls",t.CurrentTime="currentTime"})(Q1||(Q1={}));const mye=()=>"s"+Math.random().toString(36).substring(2,11),gye=(t,e)=>function(n){n.target instanceof HTMLElement&&(n.target.closest(`#${e}`)||t.config.plugins.eventModal.close())},pye=(t,e,n=250)=>{const a=e.bottom-t.top>n,o=e.bottom<t.bottom,l=e.top<t.top;let u=0,d=0,c="0%";t.bottom-e.top>n&&!l?u=e.top:a&&o?u=e.bottom-n:a&&!o?u=t.bottom-n:u=t.top,t.right-e.right>410?(d=e.right+10,c="-10%"):e.left-t.left>410?(d=e.left-410,c="10%"):d=t.left,document.documentElement.style.setProperty("--sx-event-modal-animation-start",c),document.documentElement.style.setProperty("--sx-event-modal-top",`${u}px`),document.documentElement.style.setProperty("--sx-event-modal-left",`${d}px`)};function vye({strokeColor:t}){return Q(Lt,{children:Q("svg",{className:"sx__event-icon",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Q("g",{id:"SVGRepo_bgCarrier","stroke-width":"0"}),Q("g",{id:"SVGRepo_tracerCarrier","stroke-linecap":"round","stroke-linejoin":"round"}),Q("g",{id:"SVGRepo_iconCarrier",children:[Q("path",{d:"M12 8V12L15 15",stroke:t,"stroke-width":"2","stroke-linecap":"round"}),Q("circle",{cx:"12",cy:"12",r:"9",stroke:t,"stroke-width":"2"})]})]})})}function _ye({strokeColor:t}){return Q(Lt,{children:Q("svg",{className:"sx__event-icon",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Q("g",{id:"SVGRepo_bgCarrier","stroke-width":"0"}),Q("g",{id:"SVGRepo_tracerCarrier","stroke-linecap":"round","stroke-linejoin":"round"}),Q("g",{id:"SVGRepo_iconCarrier",children:[Q("path",{d:"M15 7C15 8.65685 13.6569 10 12 10C10.3431 10 9 8.65685 9 7C9 5.34315 10.3431 4 12 4C13.6569 4 15 5.34315 15 7Z",stroke:t,"stroke-width":"2"}),Q("path",{d:"M5 19.5C5 15.9101 7.91015 13 11.5 13H12.5C16.0899 13 19 15.9101 19 19.5V20C19 20.5523 18.5523 21 18 21H6C5.44772 21 5 20.5523 5 20V19.5Z",stroke:t,"stroke-width":"2"})]})]})})}const yye=t=>t.reduce((e,n,i)=>i===0?n:i===t.length-1?`${e} & ${n}`:`${e}, ${n}`,"");function bye({strokeColor:t}){return Q(Lt,{children:Q("svg",{className:"sx__event-icon",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Q("g",{id:"SVGRepo_bgCarrier","stroke-width":"0"}),Q("g",{id:"SVGRepo_tracerCarrier","stroke-linecap":"round","stroke-linejoin":"round"}),Q("g",{id:"SVGRepo_iconCarrier",children:[Q("g",{"clip-path":"url(#clip0_429_11046)",children:[Q("rect",{x:"12",y:"11",width:"0.01",height:"0.01",stroke:t,"stroke-width":"2","stroke-linejoin":"round"}),Q("path",{d:"M12 22L17.5 16.5C20.5376 13.4624 20.5376 8.53757 17.5 5.5C14.4624 2.46244 9.53757 2.46244 6.5 5.5C3.46244 8.53757 3.46244 13.4624 6.5 16.5L12 22Z",stroke:t,"stroke-width":"2","stroke-linejoin":"round"})]}),Q("defs",{children:Q("clipPath",{id:"clip0_429_11046",children:Q("rect",{width:"24",height:"24",fill:"white"})})})]})]})})}function wye({strokeColor:t}){return Q(Lt,{children:Q("svg",{className:"sx__event-icon",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Q("g",{id:"SVGRepo_bgCarrier","stroke-width":"0"}),Q("g",{id:"SVGRepo_tracerCarrier","stroke-linecap":"round","stroke-linejoin":"round"}),Q("g",{id:"SVGRepo_iconCarrier",children:[Q("rect",{x:"4",y:"4",width:"16",height:"16",rx:"3",stroke:t,"stroke-width":"2"}),Q("path",{d:"M16 10L8 10",stroke:t,"stroke-width":"2","stroke-linecap":"round"}),Q("path",{d:"M16 14L8 14",stroke:t,"stroke-width":"2","stroke-linecap":"round"})]})]})})}const Y6=t=>{const e=t.slice(11,13),n=t.slice(14,16);return{year:Number(t.slice(0,4)),month:Number(t.slice(5,7))-1,date:Number(t.slice(8,10)),hours:e!==""?Number(e):void 0,minutes:n!==""?Number(n):void 0}},vu=(t,e)=>{const{year:n,month:i,date:s}=Y6(t);return new Date(n,i,s).toLocaleDateString(e,{day:"numeric",month:"long",year:"numeric"})},Sf=(t,e)=>{const{year:n,month:i,date:s,hours:r,minutes:a}=Y6(t);return new Date(n,i,s,r,a).toLocaleTimeString(e,{hour:"numeric",minute:"numeric"})},xye=(t,e,n="–")=>{const i={start:t.start,end:t.end};return t._isSingleDayFullDay?vu(i.start,e):t._isMultiDayFullDay?`${vu(i.start,e)} ${n} ${vu(i.end,e)}`:t._isSingleDayTimed&&i.start!==i.end?`${vu(i.start,e)} <span aria-hidden="true">⋅</span> ${Sf(i.start,e)} ${n} ${Sf(i.end,e)}`:t._isSingleDayTimed&&t.start===t.end?`${vu(i.start,e)}, ${Sf(i.start,e)}`:`${vu(i.start,e)}, ${Sf(i.start,e)} ${n} ${vu(i.end,e)}, ${Sf(i.end,e)}`},Sye=t=>{const e="var(--sx-internal-color-text)",n="var(--sx-color-neutral-variant)",i=jt(t.calendarState.isDark.value?n:e);return Mo(()=>{t.calendarState.isDark.value?i.value=n:i.value=e}),i},kye=t=>{if(t){const e=t.scrollHeight>t.clientHeight,i=window.getComputedStyle(t).overflowY.indexOf("hidden")!==-1;return e&&!i}return!0},G6=(t,e=[])=>!t||t===document.body||t.nodeType===Node.DOCUMENT_FRAGMENT_NODE?(e.push(window),e):(kye(t)&&e.push(t),G6(t.assignedSlot?t.assignedSlot.parentNode:t.parentNode,e)),Tye=t=>{setTimeout(()=>{t()})};function Pye({$app:t}){const[e]=Rt(mye()),{value:n}=t.config.plugins.eventModal.calendarEvent,[i,s]=Rt(!1),r=t.config._customComponentFns.eventModal,[a,o]=Rt("sx__event-modal"),l=()=>{var c,f,h;pye((c=t.elements.calendarWrapper)===null||c===void 0?void 0:c.getBoundingClientRect(),(f=t.config.plugins.eventModal)===null||f===void 0?void 0:f.calendarEventDOMRect.value,((h=t.elements.calendarWrapper)===null||h===void 0?void 0:h.querySelector(".sx__event-modal")).clientHeight)},u=()=>{var c,f;t.config.plugins.eventModal.calendarEventDOMRect.value=(f=(c=t.config.plugins.eventModal)===null||c===void 0?void 0:c.calendarEventElement.value)===null||f===void 0?void 0:f.getBoundingClientRect(),l()};kn(()=>{var c;r?r(document.querySelector(`[data-ccid=${e}]`),{calendarEvent:n==null?void 0:n._getExternalEvent()}):o(a.concat(" sx__event-modal-default")),Tye(()=>{l()}),s(!0);const f=gye(t,e),h=G6(((c=t.config.plugins.eventModal)===null||c===void 0?void 0:c.calendarEventElement.value)||null);return h.forEach(p=>p.addEventListener("scroll",u)),document.addEventListener("click",f),()=>{document.removeEventListener("click",f),h.forEach(p=>p.removeEventListener("scroll",u))}},[]);const d=Sye(t);return Q(Lt,{children:n&&Q("div",{id:e,tabIndex:0,"data-ccid":e,className:`${a}${i?" is-open":""}`,children:!r&&Q(Lt,{children:[Q("div",{className:"sx__has-icon sx__event-modal__title",children:[Q("div",{style:{backgroundColor:`var(--sx-color-${n._color}-container)`},className:"sx__event-modal__color-icon sx__event-icon"}),n.title]}),Q("div",{className:"sx__has-icon sx__event-modal__time",children:[Q(vye,{strokeColor:d.value}),Q("div",{dangerouslySetInnerHTML:{__html:xye(n,t.config.locale.value)}})]}),n.people&&n.people.length&&Q("div",{className:"sx__has-icon sx__event-modal__people",children:[Q(_ye,{strokeColor:d.value}),yye(n.people)]}),n.location&&Q("div",{className:"sx__has-icon sx__event-modal__location",children:[Q(bye,{strokeColor:d.value}),n.location]}),n.description&&Q("div",{className:"sx__has-icon sx__event-modal__description",children:[Q(wye,{strokeColor:d.value}),n.description]})]})})})}const Cye=(t,e)=>(e.name=t,e);class Eye{constructor(){Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:Q1.EventModal}),Object.defineProperty(this,"calendarEvent",{enumerable:!0,configurable:!0,writable:!0,value:jt(null)}),Object.defineProperty(this,"calendarEventDOMRect",{enumerable:!0,configurable:!0,writable:!0,value:jt(null)}),Object.defineProperty(this,"calendarEventElement",{enumerable:!0,configurable:!0,writable:!0,value:jt(null)}),Object.defineProperty(this,"ComponentFn",{enumerable:!0,configurable:!0,writable:!0,value:Pye})}setCalendarEvent(e,n){t1(()=>{this.calendarEvent.value=e,this.calendarEventDOMRect.value=n})}close(){t1(()=>{this.calendarEvent.value=null,this.calendarEventDOMRect.value=null})}}const q6=()=>Cye("eventModal",new Eye),Iye=/^(0[0-9]|1[0-9]|2[0-3]):[0-5][0-9]$/,rd=/^(\d{4})-(\d{2})-(\d{2}) (0[0-9]|1[0-9]|2[0-3]):[0-5][0-9]$/,tv=/^(\d{4})-(\d{2})-(\d{2})$/,vM={DATE_STRING:/^\d{4}-\d{2}-\d{2}$/,TIME_STRING:/^\d{2}:\d{2}$/,DATE_TIME_STRING:/^\d{4}-\d{2}-\d{2} \d{2}:\d{2}$/};let Dye=class extends Error{constructor(e){super(`Invalid date time specification: ${e}`)}};const Aye=t=>{if(!vM.DATE_TIME_STRING.test(t)&&!vM.DATE_STRING.test(t))throw new Dye(t);return new Date(Number(t.slice(0,4)),Number(t.slice(5,7))-1,Number(t.slice(8,10)),Number(t.slice(11,13)),Number(t.slice(14,16)))};let Rye=class extends Error{constructor(e,n){super(`Number must be between ${e} and ${n}.`),Object.defineProperty(this,"min",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"max",{enumerable:!0,configurable:!0,writable:!0,value:n})}};const _M=t=>{if(t<0||t>99)throw new Rye(0,99);return String(t).padStart(2,"0")},Oye=t=>`${t.getFullYear()}-${_M(t.getMonth()+1)}-${_M(t.getDate())}`;let Mye=class extends Error{constructor(e){super(`Invalid time string: ${e}`)}};const Vye=1.6666666666666667,yM=t=>{if(!Iye.test(t)&&t!=="24:00")throw new Mye(t);const[e,n]=t.split(":").map(s=>parseInt(s,10));let i=(n*Vye).toString();return i.split(".")[0].length<2&&(i=`0${i}`),Number(e+i)},ad=t=>t.slice(0,10),bM=t=>t.slice(11);var J1;(function(t){t[t.SUNDAY=0]="SUNDAY",t[t.MONDAY=1]="MONDAY",t[t.TUESDAY=2]="TUESDAY",t[t.WEDNESDAY=3]="WEDNESDAY",t[t.THURSDAY=4]="THURSDAY",t[t.FRIDAY=5]="FRIDAY",t[t.SATURDAY=6]="SATURDAY"})(J1||(J1={}));J1.MONDAY;const Lye="primary";let Nye=class{constructor(e,n,i,s,r,a,o,l,u,d=void 0,c={},f={}){Object.defineProperty(this,"_config",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"id",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(this,"start",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"end",{enumerable:!0,configurable:!0,writable:!0,value:s}),Object.defineProperty(this,"title",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"people",{enumerable:!0,configurable:!0,writable:!0,value:a}),Object.defineProperty(this,"location",{enumerable:!0,configurable:!0,writable:!0,value:o}),Object.defineProperty(this,"description",{enumerable:!0,configurable:!0,writable:!0,value:l}),Object.defineProperty(this,"calendarId",{enumerable:!0,configurable:!0,writable:!0,value:u}),Object.defineProperty(this,"_options",{enumerable:!0,configurable:!0,writable:!0,value:d}),Object.defineProperty(this,"_customContent",{enumerable:!0,configurable:!0,writable:!0,value:c}),Object.defineProperty(this,"_foreignProperties",{enumerable:!0,configurable:!0,writable:!0,value:f}),Object.defineProperty(this,"_previousConcurrentEvents",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_totalConcurrentEvents",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_nDaysInGrid",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_eventFragments",{enumerable:!0,configurable:!0,writable:!0,value:{}})}get _isSingleDayTimed(){return rd.test(this.start)&&rd.test(this.end)&&ad(this.start)===ad(this.end)}get _isSingleDayFullDay(){return tv.test(this.start)&&tv.test(this.end)&&this.start===this.end}get _isMultiDayTimed(){return rd.test(this.start)&&rd.test(this.end)&&ad(this.start)!==ad(this.end)}get _isMultiDayFullDay(){return tv.test(this.start)&&tv.test(this.end)&&this.start!==this.end}get _isSingleHybridDayTimed(){if(!this._config.isHybridDay||!rd.test(this.start)||!rd.test(this.end))return!1;const e=ad(this.start),n=ad(this.end),i=Oye(new Date(Aye(n).getTime()-864e5));if(e!==n&&e!==i)return!1;const s=this._config.dayBoundaries.value,r=yM(bM(this.start)),a=yM(bM(this.end));return r>=s.start&&(a<=s.end||a>r)||r<s.end&&a<=s.end}get _color(){return this.calendarId&&this._config.calendars.value&&this.calendarId in this._config.calendars.value?this._config.calendars.value[this.calendarId].colorName:Lye}_getForeignProperties(){return this._foreignProperties}_getExternalEvent(){return{id:this.id,start:this.start,end:this.end,title:this.title,people:this.people,location:this.location,description:this.description,calendarId:this.calendarId,_options:this._options,...this._getForeignProperties()}}},Fye=class{constructor(e,n,i,s){Object.defineProperty(this,"_config",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"id",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(this,"start",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"end",{enumerable:!0,configurable:!0,writable:!0,value:s}),Object.defineProperty(this,"people",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"location",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"description",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"title",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"calendarId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_foreignProperties",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_options",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_customContent",{enumerable:!0,configurable:!0,writable:!0,value:{}})}build(){return new Nye(this._config,this.id,this.start,this.end,this.title,this.people,this.location,this.description,this.calendarId,this._options,this._customContent,this._foreignProperties)}withTitle(e){return this.title=e,this}withPeople(e){return this.people=e,this}withLocation(e){return this.location=e,this}withDescription(e){return this.description=e,this}withForeignProperties(e){return this._foreignProperties=e,this}withCalendarId(e){return this.calendarId=e,this}withOptions(e){return this._options=e,this}withCustomContent(e){return this._customContent=e,this}};const dx=(t,e)=>{const{id:n,start:i,end:s,title:r,description:a,location:o,people:l,_options:u,...d}=t;return new Fye(e,n,i,s).withTitle(r).withDescription(a).withLocation(o).withPeople(l).withCalendarId(t.calendarId).withOptions(u).withForeignProperties(d).withCustomContent(t._customContent).build()};class Bye{constructor(e){Object.defineProperty(this,"$app",{enumerable:!0,configurable:!0,writable:!0,value:e})}set(e){this.$app.calendarEvents.list.value=e.map(n=>dx(n,this.$app.config))}add(e){const n=dx(e,this.$app.config),i=[...this.$app.calendarEvents.list.value];i.push(n),this.$app.calendarEvents.list.value=i}get(e){var n;return(n=this.$app.calendarEvents.list.value.find(i=>i.id===e))===null||n===void 0?void 0:n._getExternalEvent()}getAll(){return this.$app.calendarEvents.list.value.map(e=>e._getExternalEvent())}remove(e){const n=this.$app.calendarEvents.list.value.findIndex(s=>s.id===e),i=[...this.$app.calendarEvents.list.value];i.splice(n,1),this.$app.calendarEvents.list.value=i}update(e){const n=this.$app.calendarEvents.list.value.findIndex(s=>s.id===e.id),i=[...this.$app.calendarEvents.list.value];i.splice(n,1,dx(e,this.$app.config)),this.$app.calendarEvents.list.value=i}}const jye=(t,e)=>(e.name=t,e);class $ye{constructor(){Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EventsServicePlugin"}),Object.defineProperty(this,"$app",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"eventsFacade",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}beforeRender(e){this.$app=e,this.eventsFacade=new Bye(e)}update(e){this.eventsFacade.update(e)}add(e){this.eventsFacade.add(e)}remove(e){this.eventsFacade.remove(e)}get(e){return this.eventsFacade.get(e)}getAll(){return this.eventsFacade.getAll()}set(e){this.eventsFacade.set(e)}setBackgroundEvents(e){this.$app.calendarEvents.backgroundEvents.value=e}}const X6=()=>jye("eventsService",new $ye),Uye=(t,e)=>(n,i)=>{const s={Component:Ai(e,i),wrapperElement:n};t(s)};class Hye extends Error{constructor(e){super(e),this.name="[Schedule-X reactivity error]"}}const K6=kt({name:"ScheduleXCalendar",props:{calendarApp:{type:Object,required:!0},customComponents:{type:Object,default:()=>({})}},data(){return{elId:"sx"+Math.random().toString(36).substr(2,9),customComponentsMeta:[]}},mounted(){if($u(this.calendarApp))throw new Hye("calendarApp cannot be saved in a ref. Since this causes deep reactivity, it destroys the calendars internal reactivity. Save in a normal const or shallowRef");const t={...this.customComponents,...this.$slots};for(const[e,n]of Object.entries(t))this.calendarApp._setCustomComponentFn(e,Uye(this.setCustomComponentMeta,n));this.calendarApp.render(document.getElementById(this.elId))},methods:{setCustomComponentMeta(t){if(!(t.wrapperElement instanceof HTMLElement))return;const e=({wrapperElement:r})=>r instanceof HTMLElement,n=[...this.customComponentsMeta.filter(e)],i=t.wrapperElement.dataset.ccid,s=n.find(({wrapperElement:r})=>r.dataset.ccid===i);s&&n.splice(n.indexOf(s),1),this.customComponentsMeta=[...n,t]}},render(){const t=this.customComponentsMeta.map(({Component:e,wrapperElement:n})=>Ai(aL,{to:n},e));return Ai("div",{id:this.elId,class:"sx-vue-calendar-wrapper"},Ai(Ee,{},t))}});var UC,ct,Q6,J6,Cu,wM,Z6,Z1,eU,ek={},tU=[],zye=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,Vw=Array.isArray;function wl(t,e){for(var n in e)t[n]=e[n];return t}function nU(t){var e=t.parentNode;e&&e.removeChild(t)}function xM(t,e,n){var i,s,r,a={};for(r in e)r=="key"?i=e[r]:r=="ref"?s=e[r]:a[r]=e[r];if(arguments.length>2&&(a.children=arguments.length>3?UC.call(arguments,2):n),typeof t=="function"&&t.defaultProps!=null)for(r in t.defaultProps)a[r]===void 0&&(a[r]=t.defaultProps[r]);return Wv(t,a,i,s,null)}function Wv(t,e,n,i,s){var r={type:t,props:e,key:n,ref:i,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:s??++Q6,__i:-1,__u:0};return s==null&&ct.vnode!=null&&ct.vnode(r),r}function og(t){return t.children}function Na(t,e){this.props=t,this.context=e}function fh(t,e){if(e==null)return t.__?fh(t.__,t.__i+1):null;for(var n;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null)return n.__e;return typeof t.type=="function"?fh(t):null}function iU(t){var e,n;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null){t.__e=t.__c.base=n.__e;break}return iU(t)}}function tk(t){(!t.__d&&(t.__d=!0)&&Cu.push(t)&&!dy.__r++||wM!==ct.debounceRendering)&&((wM=ct.debounceRendering)||Z6)(dy)}function dy(){var t,e,n,i,s,r,a,o,l;for(Cu.sort(Z1);t=Cu.shift();)t.__d&&(e=Cu.length,i=void 0,r=(s=(n=t).__v).__e,o=[],l=[],(a=n.__P)&&((i=wl({},s)).__v=s.__v+1,ct.vnode&&ct.vnode(i),aU(a,i,s,n.__n,a.ownerSVGElement!==void 0,32&s.__u?[r]:null,o,r??fh(s),!!(32&s.__u),l),i.__.__k[i.__i]=i,Gye(o,i,l),i.__e!=r&&iU(i)),Cu.length>e&&Cu.sort(Z1));dy.__r=0}function sU(t,e,n,i,s,r,a,o,l,u,d){var c,f,h,p,g,v=i&&i.__k||tU,_=e.length;for(n.__d=l,Wye(n,e,v),l=n.__d,c=0;c<_;c++)(h=n.__k[c])!=null&&typeof h!="boolean"&&typeof h!="function"&&(f=h.__i===-1?ek:v[h.__i]||ek,h.__i=c,aU(t,h,f,s,r,a,o,l,u,d),p=h.__e,h.ref&&f.ref!=h.ref&&(f.ref&&HC(f.ref,null,h),d.push(h.ref,h.__c||p,h)),g==null&&p!=null&&(g=p),65536&h.__u||f.__k===h.__k?l=rU(h,l,t):typeof h.type=="function"&&h.__d!==void 0?l=h.__d:p&&(l=p.nextSibling),h.__d=void 0,h.__u&=-196609);n.__d=l,n.__e=g}function Wye(t,e,n){var i,s,r,a,o,l=e.length,u=n.length,d=u,c=0;for(t.__k=[],i=0;i<l;i++)(s=t.__k[i]=(s=e[i])==null||typeof s=="boolean"||typeof s=="function"?null:typeof s=="string"||typeof s=="number"||typeof s=="bigint"||s.constructor==String?Wv(null,s,null,null,s):Vw(s)?Wv(og,{children:s},null,null,null):s.constructor===void 0&&s.__b>0?Wv(s.type,s.props,s.key,s.ref?s.ref:null,s.__v):s)!=null?(s.__=t,s.__b=t.__b+1,o=Yye(s,n,a=i+c,d),s.__i=o,r=null,o!==-1&&(d--,(r=n[o])&&(r.__u|=131072)),r==null||r.__v===null?(o==-1&&c--,typeof s.type!="function"&&(s.__u|=65536)):o!==a&&(o===a+1?c++:o>a?d>l-a?c+=o-a:c--:c=o<a&&o==a-1?o-a:0,o!==i+c&&(s.__u|=65536))):(r=n[i])&&r.key==null&&r.__e&&(r.__e==t.__d&&(t.__d=fh(r)),nk(r,r,!1),n[i]=null,d--);if(d)for(i=0;i<u;i++)(r=n[i])!=null&&!(131072&r.__u)&&(r.__e==t.__d&&(t.__d=fh(r)),nk(r,r))}function rU(t,e,n){var i,s;if(typeof t.type=="function"){for(i=t.__k,s=0;i&&s<i.length;s++)i[s]&&(i[s].__=t,e=rU(i[s],e,n));return e}return t.__e!=e&&(n.insertBefore(t.__e,e||null),e=t.__e),e&&e.nextSibling}function hy(t,e){return e=e||[],t==null||typeof t=="boolean"||(Vw(t)?t.some(function(n){hy(n,e)}):e.push(t)),e}function Yye(t,e,n,i){var s=t.key,r=t.type,a=n-1,o=n+1,l=e[n];if(l===null||l&&s==l.key&&r===l.type)return n;if(i>(l!=null&&!(131072&l.__u)?1:0))for(;a>=0||o<e.length;){if(a>=0){if((l=e[a])&&!(131072&l.__u)&&s==l.key&&r===l.type)return a;a--}if(o<e.length){if((l=e[o])&&!(131072&l.__u)&&s==l.key&&r===l.type)return o;o++}}return-1}function SM(t,e,n){e[0]==="-"?t.setProperty(e,n??""):t[e]=n==null?"":typeof n!="number"||zye.test(e)?n:n+"px"}function nv(t,e,n,i,s){var r;e:if(e==="style")if(typeof n=="string")t.style.cssText=n;else{if(typeof i=="string"&&(t.style.cssText=i=""),i)for(e in i)n&&e in n||SM(t.style,e,"");if(n)for(e in n)i&&n[e]===i[e]||SM(t.style,e,n[e])}else if(e[0]==="o"&&e[1]==="n")r=e!==(e=e.replace(/(PointerCapture)$|Capture$/,"$1")),e=e.toLowerCase()in t?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+r]=n,n?i?n.u=i.u:(n.u=Date.now(),t.addEventListener(e,r?TM:kM,r)):t.removeEventListener(e,r?TM:kM,r);else{if(s)e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!=="width"&&e!=="height"&&e!=="href"&&e!=="list"&&e!=="form"&&e!=="tabIndex"&&e!=="download"&&e!=="rowSpan"&&e!=="colSpan"&&e!=="role"&&e in t)try{t[e]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&e[4]!=="-"?t.removeAttribute(e):t.setAttribute(e,n))}}function kM(t){var e=this.l[t.type+!1];if(t.t){if(t.t<=e.u)return}else t.t=Date.now();return e(ct.event?ct.event(t):t)}function TM(t){return this.l[t.type+!0](ct.event?ct.event(t):t)}function aU(t,e,n,i,s,r,a,o,l,u){var d,c,f,h,p,g,v,_,b,x,k,I,E,T,S,w=e.type;if(e.constructor!==void 0)return null;128&n.__u&&(l=!!(32&n.__u),r=[o=e.__e=n.__e]),(d=ct.__b)&&d(e);e:if(typeof w=="function")try{if(_=e.props,b=(d=w.contextType)&&i[d.__c],x=d?b?b.props.value:d.__:i,n.__c?v=(c=e.__c=n.__c).__=c.__E:("prototype"in w&&w.prototype.render?e.__c=c=new w(_,x):(e.__c=c=new Na(_,x),c.constructor=w,c.render=Xye),b&&b.sub(c),c.props=_,c.state||(c.state={}),c.context=x,c.__n=i,f=c.__d=!0,c.__h=[],c._sb=[]),c.__s==null&&(c.__s=c.state),w.getDerivedStateFromProps!=null&&(c.__s==c.state&&(c.__s=wl({},c.__s)),wl(c.__s,w.getDerivedStateFromProps(_,c.__s))),h=c.props,p=c.state,c.__v=e,f)w.getDerivedStateFromProps==null&&c.componentWillMount!=null&&c.componentWillMount(),c.componentDidMount!=null&&c.__h.push(c.componentDidMount);else{if(w.getDerivedStateFromProps==null&&_!==h&&c.componentWillReceiveProps!=null&&c.componentWillReceiveProps(_,x),!c.__e&&(c.shouldComponentUpdate!=null&&c.shouldComponentUpdate(_,c.__s,x)===!1||e.__v===n.__v)){for(e.__v!==n.__v&&(c.props=_,c.state=c.__s,c.__d=!1),e.__e=n.__e,e.__k=n.__k,e.__k.forEach(function(P){P&&(P.__=e)}),k=0;k<c._sb.length;k++)c.__h.push(c._sb[k]);c._sb=[],c.__h.length&&a.push(c);break e}c.componentWillUpdate!=null&&c.componentWillUpdate(_,c.__s,x),c.componentDidUpdate!=null&&c.__h.push(function(){c.componentDidUpdate(h,p,g)})}if(c.context=x,c.props=_,c.__P=t,c.__e=!1,I=ct.__r,E=0,"prototype"in w&&w.prototype.render){for(c.state=c.__s,c.__d=!1,I&&I(e),d=c.render(c.props,c.state,c.context),T=0;T<c._sb.length;T++)c.__h.push(c._sb[T]);c._sb=[]}else do c.__d=!1,I&&I(e),d=c.render(c.props,c.state,c.context),c.state=c.__s;while(c.__d&&++E<25);c.state=c.__s,c.getChildContext!=null&&(i=wl(wl({},i),c.getChildContext())),f||c.getSnapshotBeforeUpdate==null||(g=c.getSnapshotBeforeUpdate(h,p)),sU(t,Vw(S=d!=null&&d.type===og&&d.key==null?d.props.children:d)?S:[S],e,n,i,s,r,a,o,l,u),c.base=e.__e,e.__u&=-161,c.__h.length&&a.push(c),v&&(c.__E=c.__=null)}catch(P){e.__v=null,l||r!=null?(e.__e=o,e.__u|=l?160:32,r[r.indexOf(o)]=null):(e.__e=n.__e,e.__k=n.__k),ct.__e(P,e,n)}else r==null&&e.__v===n.__v?(e.__k=n.__k,e.__e=n.__e):e.__e=qye(n.__e,e,n,i,s,r,a,l,u);(d=ct.diffed)&&d(e)}function Gye(t,e,n){e.__d=void 0;for(var i=0;i<n.length;i++)HC(n[i],n[++i],n[++i]);ct.__c&&ct.__c(e,t),t.some(function(s){try{t=s.__h,s.__h=[],t.some(function(r){r.call(s)})}catch(r){ct.__e(r,s.__v)}})}function qye(t,e,n,i,s,r,a,o,l){var u,d,c,f,h,p,g,v=n.props,_=e.props,b=e.type;if(b==="svg"&&(s=!0),r!=null){for(u=0;u<r.length;u++)if((h=r[u])&&"setAttribute"in h==!!b&&(b?h.localName===b:h.nodeType===3)){t=h,r[u]=null;break}}if(t==null){if(b===null)return document.createTextNode(_);t=s?document.createElementNS("http://www.w3.org/2000/svg",b):document.createElement(b,_.is&&_),r=null,o=!1}if(b===null)v===_||o&&t.data===_||(t.data=_);else{if(r=r&&UC.call(t.childNodes),v=n.props||ek,!o&&r!=null)for(v={},u=0;u<t.attributes.length;u++)v[(h=t.attributes[u]).name]=h.value;for(u in v)h=v[u],u=="children"||(u=="dangerouslySetInnerHTML"?c=h:u==="key"||u in _||nv(t,u,null,h,s));for(u in _)h=_[u],u=="children"?f=h:u=="dangerouslySetInnerHTML"?d=h:u=="value"?p=h:u=="checked"?g=h:u==="key"||o&&typeof h!="function"||v[u]===h||nv(t,u,h,v[u],s);if(d)o||c&&(d.__html===c.__html||d.__html===t.innerHTML)||(t.innerHTML=d.__html),e.__k=[];else if(c&&(t.innerHTML=""),sU(t,Vw(f)?f:[f],e,n,i,s&&b!=="foreignObject",r,a,r?r[0]:n.__k&&fh(n,0),o,l),r!=null)for(u=r.length;u--;)r[u]!=null&&nU(r[u]);o||(u="value",p!==void 0&&(p!==t[u]||b==="progress"&&!p||b==="option"&&p!==v[u])&&nv(t,u,p,v[u],!1),u="checked",g!==void 0&&g!==t[u]&&nv(t,u,g,v[u],!1))}return t}function HC(t,e,n){try{typeof t=="function"?t(e):t.current=e}catch(i){ct.__e(i,n)}}function nk(t,e,n){var i,s;if(ct.unmount&&ct.unmount(t),(i=t.ref)&&(i.current&&i.current!==t.__e||HC(i,null,e)),(i=t.__c)!=null){if(i.componentWillUnmount)try{i.componentWillUnmount()}catch(r){ct.__e(r,e)}i.base=i.__P=null,t.__c=void 0}if(i=t.__k)for(s=0;s<i.length;s++)i[s]&&nk(i[s],e,n||typeof t.type!="function");n||t.__e==null||nU(t.__e),t.__=t.__e=t.__d=void 0}function Xye(t,e,n){return this.constructor(t,n)}function Kye(t,e){var n={__c:e="__cC"+eU++,__:t,Consumer:function(i,s){return i.children(s)},Provider:function(i){var s,r;return this.getChildContext||(s=[],(r={})[e]=this,this.getChildContext=function(){return r},this.shouldComponentUpdate=function(a){this.props.value!==a.value&&s.some(function(o){o.__e=!0,tk(o)})},this.sub=function(a){s.push(a);var o=a.componentWillUnmount;a.componentWillUnmount=function(){s.splice(s.indexOf(a),1),o&&o.call(a)}}),i.children}};return n.Provider.__=n.Consumer.contextType=n}UC=tU.slice,ct={__e:function(t,e,n,i){for(var s,r,a;e=e.__;)if((s=e.__c)&&!s.__)try{if((r=s.constructor)&&r.getDerivedStateFromError!=null&&(s.setState(r.getDerivedStateFromError(t)),a=s.__d),s.componentDidCatch!=null&&(s.componentDidCatch(t,i||{}),a=s.__d),a)return s.__E=s}catch(o){t=o}throw t}},Q6=0,J6=function(t){return t!=null&&t.constructor==null},Na.prototype.setState=function(t,e){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=wl({},this.state),typeof t=="function"&&(t=t(wl({},n),this.props)),t&&wl(n,t),t!=null&&this.__v&&(e&&this._sb.push(e),tk(this))},Na.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),tk(this))},Na.prototype.render=og,Cu=[],Z6=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Z1=function(t,e){return t.__v.__b-e.__v.__b},dy.__r=0,eU=0;var ik,cr,hx,PM,CM=0,oU=[],Yv=[],EM=ct.__b,IM=ct.__r,DM=ct.diffed,AM=ct.__c,RM=ct.unmount;function Qye(t,e){ct.__h&&ct.__h(cr,t,CM||e),CM=0;var n=cr.__H||(cr.__H={__:[],__h:[]});return t>=n.__.length&&n.__.push({__V:Yv}),n.__[t]}function lU(t,e){var n=Qye(ik++,7);return ebe(n.__H,e)?(n.__V=t(),n.i=e,n.__h=t,n.__V):n.__}function Jye(){for(var t;t=oU.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(Gv),t.__H.__h.forEach(sk),t.__H.__h=[]}catch(e){t.__H.__h=[],ct.__e(e,t.__v)}}ct.__b=function(t){cr=null,EM&&EM(t)},ct.__r=function(t){IM&&IM(t),ik=0;var e=(cr=t.__c).__H;e&&(hx===cr?(e.__h=[],cr.__h=[],e.__.forEach(function(n){n.__N&&(n.__=n.__N),n.__V=Yv,n.__N=n.i=void 0})):(e.__h.forEach(Gv),e.__h.forEach(sk),e.__h=[],ik=0)),hx=cr},ct.diffed=function(t){DM&&DM(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(oU.push(e)!==1&&PM===ct.requestAnimationFrame||((PM=ct.requestAnimationFrame)||Zye)(Jye)),e.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.__V!==Yv&&(n.__=n.__V),n.i=void 0,n.__V=Yv})),hx=cr=null},ct.__c=function(t,e){e.some(function(n){try{n.__h.forEach(Gv),n.__h=n.__h.filter(function(i){return!i.__||sk(i)})}catch(i){e.some(function(s){s.__h&&(s.__h=[])}),e=[],ct.__e(i,n.__v)}}),AM&&AM(t,e)},ct.unmount=function(t){RM&&RM(t);var e,n=t.__c;n&&n.__H&&(n.__H.__.forEach(function(i){try{Gv(i)}catch(s){e=s}}),n.__H=void 0,e&&ct.__e(e,n.__v))};var OM=typeof requestAnimationFrame=="function";function Zye(t){var e,n=function(){clearTimeout(i),OM&&cancelAnimationFrame(e),setTimeout(t)},i=setTimeout(n,100);OM&&(e=requestAnimationFrame(n))}function Gv(t){var e=cr,n=t.__c;typeof n=="function"&&(t.__c=void 0,n()),cr=e}function sk(t){var e=cr;t.__c=t.__(),cr=e}function ebe(t,e){return!t||t.length!==e.length||e.some(function(n,i){return n!==t[i]})}function tbe(t,e){for(var n in e)t[n]=e[n];return t}function MM(t,e){for(var n in t)if(n!=="__source"&&!(n in e))return!0;for(var i in e)if(i!=="__source"&&t[i]!==e[i])return!0;return!1}function VM(t){this.props=t}(VM.prototype=new Na).isPureReactComponent=!0,VM.prototype.shouldComponentUpdate=function(t,e){return MM(this.props,t)||MM(this.state,e)};var LM=ct.__b;ct.__b=function(t){t.type&&t.type.__f&&t.ref&&(t.props.ref=t.ref,t.ref=null),LM&&LM(t)};var nbe=ct.__e;ct.__e=function(t,e,n,i){if(t.then){for(var s,r=e;r=r.__;)if((s=r.__c)&&s.__c)return e.__e==null&&(e.__e=n.__e,e.__k=n.__k),s.__c(t,e)}nbe(t,e,n,i)};var NM=ct.unmount;function uU(t,e,n){return t&&(t.__c&&t.__c.__H&&(t.__c.__H.__.forEach(function(i){typeof i.__c=="function"&&i.__c()}),t.__c.__H=null),(t=tbe({},t)).__c!=null&&(t.__c.__P===n&&(t.__c.__P=e),t.__c=null),t.__k=t.__k&&t.__k.map(function(i){return uU(i,e,n)})),t}function cU(t,e,n){return t&&n&&(t.__v=null,t.__k=t.__k&&t.__k.map(function(i){return cU(i,e,n)}),t.__c&&t.__c.__P===e&&(t.__e&&n.appendChild(t.__e),t.__c.__e=!0,t.__c.__P=n)),t}function fx(){this.__u=0,this.t=null,this.__b=null}function dU(t){var e=t.__.__c;return e&&e.__a&&e.__a(t)}function iv(){this.u=null,this.o=null}ct.unmount=function(t){var e=t.__c;e&&e.__R&&e.__R(),e&&32&t.__u&&(t.type=null),NM&&NM(t)},(fx.prototype=new Na).__c=function(t,e){var n=e.__c,i=this;i.t==null&&(i.t=[]),i.t.push(n);var s=dU(i.__v),r=!1,a=function(){r||(r=!0,n.__R=null,s?s(o):o())};n.__R=a;var o=function(){if(!--i.__u){if(i.state.__a){var l=i.state.__a;i.__v.__k[0]=cU(l,l.__c.__P,l.__c.__O)}var u;for(i.setState({__a:i.__b=null});u=i.t.pop();)u.forceUpdate()}};i.__u++||32&e.__u||i.setState({__a:i.__b=i.__v.__k[0]}),t.then(a,a)},fx.prototype.componentWillUnmount=function(){this.t=[]},fx.prototype.render=function(t,e){if(this.__b){if(this.__v.__k){var n=document.createElement("div"),i=this.__v.__k[0].__c;this.__v.__k[0]=uU(this.__b,n,i.__O=i.__P)}this.__b=null}var s=e.__a&&xM(og,null,t.fallback);return s&&(s.__u&=-33),[xM(og,null,e.__a?null:t.children),s]};var FM=function(t,e,n){if(++n[1]===n[0]&&t.o.delete(e),t.props.revealOrder&&(t.props.revealOrder[0]!=="t"||!t.o.size))for(n=t.u;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;t.u=n=n[2]}};(iv.prototype=new Na).__a=function(t){var e=this,n=dU(e.__v),i=e.o.get(t);return i[0]++,function(s){var r=function(){e.props.revealOrder?(i.push(s),FM(e,t,i)):s()};n?n(r):r()}},iv.prototype.render=function(t){this.u=null,this.o=new Map;var e=hy(t.children);t.revealOrder&&t.revealOrder[0]==="b"&&e.reverse();for(var n=e.length;n--;)this.o.set(e[n],this.u=[1,0,this.u]);return t.children},iv.prototype.componentDidUpdate=iv.prototype.componentDidMount=function(){var t=this;this.o.forEach(function(e,n){FM(t,n,e)})};var ibe=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,sbe=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,rbe=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,abe=/[A-Z0-9]/g,obe=typeof document<"u",lbe=function(t){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/:/fil|che|ra/).test(t)};Na.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(t){Object.defineProperty(Na.prototype,t,{configurable:!0,get:function(){return this["UNSAFE_"+t]},set:function(e){Object.defineProperty(this,t,{configurable:!0,writable:!0,value:e})}})});var BM=ct.event;function ube(){}function cbe(){return this.cancelBubble}function dbe(){return this.defaultPrevented}ct.event=function(t){return BM&&(t=BM(t)),t.persist=ube,t.isPropagationStopped=cbe,t.isDefaultPrevented=dbe,t.nativeEvent=t};var hbe={enumerable:!1,configurable:!0,get:function(){return this.class}},jM=ct.vnode;ct.vnode=function(t){typeof t.type=="string"&&function(e){var n=e.props,i=e.type,s={};for(var r in n){var a=n[r];if(!(r==="value"&&"defaultValue"in n&&a==null||obe&&r==="children"&&i==="noscript"||r==="class"||r==="className")){var o=r.toLowerCase();r==="defaultValue"&&"value"in n&&n.value==null?r="value":r==="download"&&a===!0?a="":o==="ondoubleclick"?r="ondblclick":o!=="onchange"||i!=="input"&&i!=="textarea"||lbe(n.type)?o==="onfocus"?r="onfocusin":o==="onblur"?r="onfocusout":rbe.test(r)?r=o:i.indexOf("-")===-1&&sbe.test(r)?r=r.replace(abe,"-$&").toLowerCase():a===null&&(a=void 0):o=r="oninput",o==="oninput"&&s[r=o]&&(r="oninputCapture"),s[r]=a}}i=="select"&&s.multiple&&Array.isArray(s.value)&&(s.value=hy(n.children).forEach(function(l){l.props.selected=s.value.indexOf(l.props.value)!=-1})),i=="select"&&s.defaultValue!=null&&(s.value=hy(n.children).forEach(function(l){l.props.selected=s.multiple?s.defaultValue.indexOf(l.props.value)!=-1:s.defaultValue==l.props.value})),n.class&&!n.className?(s.class=n.class,Object.defineProperty(s,"className",hbe)):(n.className&&!n.class||n.class&&n.className)&&(s.class=s.className=n.className),e.props=s}(t),t.$$typeof=ibe,jM&&jM(t)};var $M=ct.__r;ct.__r=function(t){$M&&$M(t),t.__c};var UM=ct.diffed;ct.diffed=function(t){UM&&UM(t);var e=t.props,n=t.__e;n!=null&&t.type==="textarea"&&"value"in e&&e.value!==n.value&&(n.value=e.value==null?"":e.value)};function Lw(){throw new Error("Cycle detected")}var fbe=Symbol.for("preact-signals");function zC(){if(jd>1)jd--;else{for(var t,e=!1;um!==void 0;){var n=um;for(um=void 0,rk++;n!==void 0;){var i=n.o;if(n.o=void 0,n.f&=-3,!(8&n.f)&&mU(n))try{n.c()}catch(s){e||(t=s,e=!0)}n=i}}if(rk=0,jd--,e)throw t}}var ii=void 0,um=void 0,jd=0,rk=0,fy=0;function hU(t){if(ii!==void 0){var e=t.n;if(e===void 0||e.t!==ii)return e={i:0,S:t,p:ii.s,n:void 0,t:ii,e:void 0,x:void 0,r:e},ii.s!==void 0&&(ii.s.n=e),ii.s=e,t.n=e,32&ii.f&&t.S(e),e;if(e.i===-1)return e.i=0,e.n!==void 0&&(e.n.p=e.p,e.p!==void 0&&(e.p.n=e.n),e.p=ii.s,e.n=void 0,ii.s.n=e,ii.s=e),e}}function us(t){this.v=t,this.i=0,this.n=void 0,this.t=void 0}us.prototype.brand=fbe;us.prototype.h=function(){return!0};us.prototype.S=function(t){this.t!==t&&t.e===void 0&&(t.x=this.t,this.t!==void 0&&(this.t.e=t),this.t=t)};us.prototype.U=function(t){if(this.t!==void 0){var e=t.e,n=t.x;e!==void 0&&(e.x=n,t.e=void 0),n!==void 0&&(n.e=e,t.x=void 0),t===this.t&&(this.t=n)}};us.prototype.subscribe=function(t){var e=this;return YC(function(){var n=e.value,i=32&this.f;this.f&=-33;try{t(n)}finally{this.f|=i}})};us.prototype.valueOf=function(){return this.value};us.prototype.toString=function(){return this.value+""};us.prototype.toJSON=function(){return this.value};us.prototype.peek=function(){return this.v};Object.defineProperty(us.prototype,"value",{get:function(){var t=hU(this);return t!==void 0&&(t.i=this.i),this.v},set:function(t){if(ii instanceof lu&&function(){throw new Error("Computed cannot have side-effects")}(),t!==this.v){rk>100&&Lw(),this.v=t,this.i++,fy++,jd++;try{for(var e=this.t;e!==void 0;e=e.x)e.t.N()}finally{zC()}}}});function fU(t){return new us(t)}function mU(t){for(var e=t.s;e!==void 0;e=e.n)if(e.S.i!==e.i||!e.S.h()||e.S.i!==e.i)return!0;return!1}function gU(t){for(var e=t.s;e!==void 0;e=e.n){var n=e.S.n;if(n!==void 0&&(e.r=n),e.S.n=e,e.i=-1,e.n===void 0){t.s=e;break}}}function pU(t){for(var e=t.s,n=void 0;e!==void 0;){var i=e.p;e.i===-1?(e.S.U(e),i!==void 0&&(i.n=e.n),e.n!==void 0&&(e.n.p=i)):n=e,e.S.n=e.r,e.r!==void 0&&(e.r=void 0),e=i}t.s=n}function lu(t){us.call(this,void 0),this.x=t,this.s=void 0,this.g=fy-1,this.f=4}(lu.prototype=new us).h=function(){if(this.f&=-3,1&this.f)return!1;if((36&this.f)==32||(this.f&=-5,this.g===fy))return!0;if(this.g=fy,this.f|=1,this.i>0&&!mU(this))return this.f&=-2,!0;var t=ii;try{gU(this),ii=this;var e=this.x();(16&this.f||this.v!==e||this.i===0)&&(this.v=e,this.f&=-17,this.i++)}catch(n){this.v=n,this.f|=16,this.i++}return ii=t,pU(this),this.f&=-2,!0};lu.prototype.S=function(t){if(this.t===void 0){this.f|=36;for(var e=this.s;e!==void 0;e=e.n)e.S.S(e)}us.prototype.S.call(this,t)};lu.prototype.U=function(t){if(this.t!==void 0&&(us.prototype.U.call(this,t),this.t===void 0)){this.f&=-33;for(var e=this.s;e!==void 0;e=e.n)e.S.U(e)}};lu.prototype.N=function(){if(!(2&this.f)){this.f|=6;for(var t=this.t;t!==void 0;t=t.x)t.t.N()}};lu.prototype.peek=function(){if(this.h()||Lw(),16&this.f)throw this.v;return this.v};Object.defineProperty(lu.prototype,"value",{get:function(){1&this.f&&Lw();var t=hU(this);if(this.h(),t!==void 0&&(t.i=this.i),16&this.f)throw this.v;return this.v}});function mbe(t){return new lu(t)}function vU(t){var e=t.u;if(t.u=void 0,typeof e=="function"){jd++;var n=ii;ii=void 0;try{e()}catch(i){throw t.f&=-2,t.f|=8,WC(t),i}finally{ii=n,zC()}}}function WC(t){for(var e=t.s;e!==void 0;e=e.n)e.S.U(e);t.x=void 0,t.s=void 0,vU(t)}function gbe(t){if(ii!==this)throw new Error("Out-of-order effect");pU(this),ii=t,this.f&=-2,8&this.f&&WC(this),zC()}function lp(t){this.x=t,this.u=void 0,this.s=void 0,this.o=void 0,this.f=32}lp.prototype.c=function(){var t=this.S();try{if(8&this.f||this.x===void 0)return;var e=this.x();typeof e=="function"&&(this.u=e)}finally{t()}};lp.prototype.S=function(){1&this.f&&Lw(),this.f|=1,this.f&=-9,vU(this),gU(this),jd++;var t=ii;return ii=this,gbe.bind(this,t)};lp.prototype.N=function(){2&this.f||(this.f|=2,this.o=um,um=this)};lp.prototype.d=function(){this.f|=8,1&this.f||WC(this)};function YC(t){var e=new lp(t);try{e.c()}catch(n){throw e.d(),n}return e.d.bind(e)}var mx;function Qh(t,e){ct[t]=e.bind(null,ct[t]||function(){})}function my(t){mx&&mx(),mx=t&&t.S()}function _U(t){var e=this,n=t.data,i=vbe(n);i.value=n;var s=lU(function(){for(var r=e.__v;r=r.__;)if(r.__c){r.__c.__$f|=4;break}return e.__$u.c=function(){var a;!J6(s.peek())&&((a=e.base)==null?void 0:a.nodeType)===3?e.base.data=s.peek():(e.__$f|=1,e.setState({}))},mbe(function(){var a=i.value.value;return a===0?0:a===!0?"":a||""})},[]);return s.value}_U.displayName="_st";Object.defineProperties(us.prototype,{constructor:{configurable:!0,value:void 0},type:{configurable:!0,value:_U},props:{configurable:!0,get:function(){return{data:this}}},__b:{configurable:!0,value:1}});Qh("__b",function(t,e){if(typeof e.type=="string"){var n,i=e.props;for(var s in i)if(s!=="children"){var r=i[s];r instanceof us&&(n||(e.__np=n={}),n[s]=r,i[s]=r.peek())}}t(e)});Qh("__r",function(t,e){my();var n,i=e.__c;i&&(i.__$f&=-2,(n=i.__$u)===void 0&&(i.__$u=n=function(s){var r;return YC(function(){r=this}),r.c=function(){i.__$f|=1,i.setState({})},r}())),my(n),t(e)});Qh("__e",function(t,e,n,i){my(),t(e,n,i)});Qh("diffed",function(t,e){my();var n;if(typeof e.type=="string"&&(n=e.__e)){var i=e.__np,s=e.props;if(i){var r=n.U;if(r)for(var a in r){var o=r[a];o!==void 0&&!(a in i)&&(o.d(),r[a]=void 0)}else n.U=r={};for(var l in i){var u=r[l],d=i[l];u===void 0?(u=pbe(n,l,d,s),r[l]=u):u.o(d,s)}}}t(e)});function pbe(t,e,n,i){var s=e in t&&t.ownerSVGElement===void 0,r=fU(n);return{o:function(a,o){r.value=a,i=o},d:YC(function(){var a=r.value.value;i[e]!==a&&(i[e]=a,s?t[e]=a:a?t.setAttribute(e,a):t.removeAttribute(e))})}}Qh("unmount",function(t,e){if(typeof e.type=="string"){var n=e.__e;if(n){var i=n.U;if(i){n.U=void 0;for(var s in i){var r=i[s];r&&r.d()}}}}else{var a=e.__c;if(a){var o=a.__$u;o&&(a.__$u=void 0,o.d())}}t(e)});Qh("__h",function(t,e,n,i){(i<3||i===9)&&(e.__$f|=2),t(e,n,i)});Na.prototype.shouldComponentUpdate=function(t,e){var n=this.__$u;if(!(n&&n.s!==void 0||4&this.__$f)||3&this.__$f)return!0;for(var i in e)return!0;for(var s in t)if(s!=="__source"&&t[s]!==this.props[s])return!0;for(var r in this.props)if(!(r in t))return!0;return!1};function vbe(t){return lU(function(){return fU(t)},[])}Kye({});var HM;(function(t){t.MONTH_DAYS="month-days",t.YEARS="years"})(HM||(HM={}));var ak;(function(t){t[t.SUNDAY=0]="SUNDAY",t[t.MONDAY=1]="MONDAY",t[t.TUESDAY=2]="TUESDAY",t[t.WEDNESDAY=3]="WEDNESDAY",t[t.THURSDAY=4]="THURSDAY",t[t.FRIDAY=5]="FRIDAY",t[t.SATURDAY=6]="SATURDAY"})(ak||(ak={}));ak.MONDAY;var zM;(function(t){t[t.JANUARY=0]="JANUARY",t[t.FEBRUARY=1]="FEBRUARY",t[t.MARCH=2]="MARCH",t[t.APRIL=3]="APRIL",t[t.MAY=4]="MAY",t[t.JUNE=5]="JUNE",t[t.JULY=6]="JULY",t[t.AUGUST=7]="AUGUST",t[t.SEPTEMBER=8]="SEPTEMBER",t[t.OCTOBER=9]="OCTOBER",t[t.NOVEMBER=10]="NOVEMBER",t[t.DECEMBER=11]="DECEMBER"})(zM||(zM={}));var Eu;(function(t){t.SLASH="/",t.DASH="-",t.PERIOD="."})(Eu||(Eu={}));var Iu;(function(t){t.DMY="DMY",t.MDY="MDY",t.YMD="YMD"})(Iu||(Iu={}));Eu.SLASH,Iu.MDY,Eu.SLASH,Iu.DMY,Eu.SLASH,Iu.YMD,Eu.PERIOD,Iu.DMY,Eu.DASH,Iu.YMD;var WM;(function(t){t.TOP_START="top-start",t.TOP_END="top-end",t.BOTTOM_START="bottom-start",t.BOTTOM_END="bottom-end"})(WM||(WM={}));const _be=kt({__name:"CalendarView",setup(t){const e=Wg(),n=Oc(),i=O(()=>e.query.filters),s=Gg(),r=G([]),a=[],o=G(!1),l=G(!1),u=G(1),d=G([]),c=G("00:00"),f=G("24:00"),h=X6(),p=q6(),g=W6(),v=j$({locale:"it-IT",views:[t4(),kle(),Ole(),Wle()],defaultView:Sle.name,events:[],plugins:[h,p,g],callbacks:{beforeRender(P){const C=P.calendarState.range.value;S(C)},onRangeUpdate(P){S(P)}}});we(e,()=>u.value++),we(d,()=>k()),we(i,()=>T(),{immediate:!0}),we(r,()=>T()),we(s.global.name,b);const _=O(()=>c.value=="08:00");function b(){v&&(s.global.name.value=="myCustomDarkTheme"?v.setTheme("dark"):v.setTheme("light"))}function x(){_.value?(c.value="00:00",f.value="24:00"):(c.value="08:00",f.value="22:00"),g.setDayBoundaries({start:c.value,end:f.value});const P=g.getWeekOptions(),C=parseInt(f.value.split(":")[0])-parseInt(c.value.split(":")[0]);g.setWeekOptions({...P,gridHeight:Math.max(1e3*C/24,400)})}function k(){d.value.length==0?n.push("/calendar"):n.push("/calendar?filters="+d.value.join(","))}async function I(P){p.close(),n.push(`/lesson/${P}`)}function E(){v&&(console.log(a),a.forEach(P=>{P._options||(P._options={}),h.get(P.id)?h.update(P):h.add(P)}),h.getAll().forEach(P=>{a.findIndex(D=>D.id==P.id)==-1&&h.remove(P.id)}))}function T(){var P;d.value=((P=i.value)==null?void 0:P.split(","))??r.value.map(C=>C.id),S()}async function S(P){if(P??(P=g.getRange()),!P)return;a.length=0,o.value=!0;const C={date:rt.fromDate(new Date(P.start)),time:$t.fromHHMM(P.start.split(" ")[1])},D={date:rt.fromDate(new Date(P.end)),time:$t.fromHHMM(P.end.split(" ")[1])};for await(const A of d.value){const N=await cy.instance.getCalendarLessons(A,C,D),B=Array.from(new Set(N.map(q=>q.title).filter(Boolean))),z=await _r.instance.getStudentsOfSchoolWithIds(A,B);N.forEach(q=>{const W=z.find(K=>K.id==q.title);W&&(q.title=W.name+" "+W.surname)}),a.push(...N)}E(),o.value=!1}async function w(){l.value=!0,r.value=await Lr.instance.getAll();const P=s4(...r.value);g.setCalendars(P),l.value=!1}return Tt(async()=>{x(),await w()}),(P,C)=>{const D=j("v-select"),A=j("v-col"),N=j("v-icon"),B=j("v-fab-transition"),z=j("v-btn"),q=j("v-row"),W=j("v-progress-linear"),K=j("v-spacer"),Y=j("v-card-actions"),Z=j("v-card"),ee=j("v-card-text");return be(),De(Z,{class:"pa-3",title:"Calendario delle lezioni",elevation:"0"},{prepend:M(()=>[m(sp,{delta:u.value},null,8,["delta"])]),default:M(()=>[m(ee,null,{default:M(()=>[m(q,{class:"mt-1 mb-3 justify-center align-center"},{default:M(()=>[m(A,{cols:"12",md:"8"},{default:M(()=>[m(D,{variant:"outlined",chips:"",label:"Scuole",modelValue:d.value,"onUpdate:modelValue":C[0]||(C[0]=le=>d.value=le),items:r.value,multiple:"","item-title":"name","item-value":"id",loading:l.value,"hide-details":""},null,8,["modelValue","items","loading"])]),_:1}),m(A,{cols:"auto"},{default:M(()=>[m(z,{onClick:x,"hide-details":""},{default:M(()=>[m(B,null,{default:M(()=>[_.value?(be(),De(N,{key:1},{default:M(()=>C[2]||(C[2]=[Pe("mdi-arrow-expand-vertical")])),_:1})):(be(),De(N,{key:0},{default:M(()=>C[1]||(C[1]=[Pe("mdi-content-cut")])),_:1}))]),_:1})]),_:1})]),_:1})]),_:1}),m(W,{active:o.value,color:"primary",indeterminate:""},null,8,["active"]),m(se(K6),{"calendar-app":se(v)},{eventModal:M(({calendarEvent:le})=>[m(Z,{elevation:"3",title:le.title,text:le.description},{subtitle:M(()=>[m(N,null,{default:M(()=>C[3]||(C[3]=[Pe("mdi-clock-outline")])),_:1}),Pe(" "+at(se(ch)(le.start.split(" ")[0])+" ⋅ "+le.start.split(" ")[1]+" - "+le.end.split(" ")[1]),1)]),default:M(()=>[m(Y,null,{default:M(()=>[m(K),m(z,{text:"vai",onClick:de=>I(le.data.dailyLessonId)},null,8,["onClick"])]),_:2},1024)]),_:2},1032,["title","text"])]),_:1},8,["calendar-app"])]),_:1})]),_:1})}}});var ok;(function(t){t.DragAndDrop="dragAndDrop",t.EventModal="eventModal",t.ScrollController="scrollController",t.EventRecurrence="eventRecurrence",t.Resize="resize",t.CalendarControls="calendarControls",t.CurrentTime="currentTime"})(ok||(ok={}));class ybe extends Error{constructor(e){super(`Invalid time string: ${e}`)}}const bbe=/^(0[0-9]|1[0-9]|2[0-3]):[0-5][0-9]$/,od=/^(\d{4})-(\d{2})-(\d{2}) (0[0-9]|1[0-9]|2[0-3]):[0-5][0-9]$/,sv=/^(\d{4})-(\d{2})-(\d{2})$/,YM={DATE_STRING:/^\d{4}-\d{2}-\d{2}$/,TIME_STRING:/^\d{2}:\d{2}$/,DATE_TIME_STRING:/^\d{4}-\d{2}-\d{2} \d{2}:\d{2}$/};class wbe extends Error{constructor(e){super(`Invalid date time specification: ${e}`)}}const yU=t=>{if(!YM.DATE_TIME_STRING.test(t)&&!YM.DATE_STRING.test(t))throw new wbe(t);return new Date(Number(t.slice(0,4)),Number(t.slice(5,7))-1,Number(t.slice(8,10)),Number(t.slice(11,13)),Number(t.slice(14,16)))},lk=t=>{const e=t.slice(11,13),n=t.slice(14,16);return{year:Number(t.slice(0,4)),month:Number(t.slice(5,7))-1,date:Number(t.slice(8,10)),hours:e!==""?Number(e):void 0,minutes:n!==""?Number(n):void 0}};class xbe extends Error{constructor(e,n){super(`Number must be between ${e} and ${n}.`),Object.defineProperty(this,"min",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"max",{enumerable:!0,configurable:!0,writable:!0,value:n})}}const gy=t=>{if(t<0||t>99)throw new xbe(0,99);return String(t).padStart(2,"0")},GC=t=>`${t.getFullYear()}-${gy(t.getMonth()+1)}-${gy(t.getDate())}`,Sbe=t=>`${gy(t.getHours())}:${gy(t.getMinutes())}`,bU=t=>`${GC(t)} ${Sbe(t)}`,wU=1.6666666666666667,GM=t=>{if(!bbe.test(t)&&t!=="24:00")throw new ybe(t);const[e,n]=t.split(":").map(s=>parseInt(s,10));let i=(n*wU).toString();return i.split(".")[0].length<2&&(i=`0${i}`),Number(e+i)},qM=(t,e)=>{const n=e/wU,i=yU(t);return i.setMinutes(i.getMinutes()+n),bU(i)},Aa=(t,e)=>{const{year:n,month:i,date:s,hours:r,minutes:a}=lk(t),o=r!==void 0&&a!==void 0,l=new Date(n,i,s,r??0,a??0);return l.setDate(l.getDate()+e),o?bU(l):GC(l)},Xs=t=>t.slice(0,10),uk=t=>t.slice(11),XM=(t,e)=>{const n=uk(t);return`${e} ${n}`},xU=t=>"time-grid-event-copy-"+t,kbe=(t,e,n)=>{var i;(i=t.config.plugins.eventRecurrence)===null||i===void 0||i.updateRecurrenceDND(e.id,n,e.start)},Tbe=(t,e)=>{const n=t.calendarEvents.list.value.find(i=>i.id===e.id);n&&(n.start=e.start,n.end=e.end,t.calendarEvents.list.value=[...t.calendarEvents.list.value])},qC=(t,e,n)=>{"rrule"in e._getForeignProperties()&&t.config.plugins.eventRecurrence?kbe(t,e,n):Tbe(t,e),t.config.callbacks.onEventUpdate&&t.config.callbacks.onEventUpdate(e._getExternalEvent())},Pbe=t=>"touches"in t&&typeof t.touches=="object",SU=t=>{const e=Pbe(t)?t.touches[0]:t;return{clientX:e.clientX,clientY:e.clientY}},Cbe=t=>t.config.timePointsPerDay/t.config.weekOptions.value.gridHeight,XC=(t,e,n,i,s)=>{const r=t.config.callbacks.onBeforeEventUpdate;if(r){const a=e._getExternalEvent();a.start=n,a.end=i;const o=e._getExternalEvent();if(!r(a,o,t))return s==null||s(void 0),!0}return!1};class Ebe{constructor(e,n,i,s,r,a){Object.defineProperty(this,"$app",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"eventCoordinates",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(this,"eventCopy",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"updateCopy",{enumerable:!0,configurable:!0,writable:!0,value:s}),Object.defineProperty(this,"dayBoundariesDateTime",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"CHANGE_THRESHOLD_IN_TIME_POINTS",{enumerable:!0,configurable:!0,writable:!0,value:a}),Object.defineProperty(this,"dayWidth",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"startY",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"startX",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"lastIntervalDiff",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"lastDaysDiff",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"originalStart",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"originalEnd",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"handleMouseOrTouchMove",{enumerable:!0,configurable:!0,writable:!0,value:o=>{const{clientX:l,clientY:u}=SU(o),c=(u-this.startY)*this.timePointsPerPixel(),f=Math.round(c/this.CHANGE_THRESHOLD_IN_TIME_POINTS),h=l-this.startX,p=Math.round(h/this.dayWidth);this.handleVerticalMouseOrTouchMove(f),this.handleHorizontalMouseOrTouchMove(p)}}),Object.defineProperty(this,"handleMouseUpOrTouchEnd",{enumerable:!0,configurable:!0,writable:!0,value:()=>{document.removeEventListener("mousemove",this.handleMouseOrTouchMove),document.removeEventListener("touchmove",this.handleMouseOrTouchMove),this.updateCopy(void 0),!XC(this.$app,this.eventCopy,this.originalStart,this.originalEnd,this.updateCopy)&&this.updateOriginalEvent()}}),this.dayWidth=e.elements.calendarWrapper.querySelector(".sx__time-grid-day").clientWidth,this.startY=this.eventCoordinates.clientY,this.startX=this.eventCoordinates.clientX,this.originalStart=this.eventCopy.start,this.originalEnd=this.eventCopy.end,this.init()}init(){document.addEventListener("mousemove",this.handleMouseOrTouchMove),document.addEventListener("mouseup",this.handleMouseUpOrTouchEnd,{once:!0}),document.addEventListener("touchmove",this.handleMouseOrTouchMove,{passive:!1}),document.addEventListener("touchend",this.handleMouseUpOrTouchEnd,{once:!0})}timePointsPerPixel(){return Cbe(this.$app)}handleVerticalMouseOrTouchMove(e){if(e===this.lastIntervalDiff)return;const n=e>this.lastIntervalDiff?this.CHANGE_THRESHOLD_IN_TIME_POINTS:-this.CHANGE_THRESHOLD_IN_TIME_POINTS;this.setTimeForEventCopy(n),this.lastIntervalDiff=e}setTimeForEventCopy(e){const n=qM(this.eventCopy.start,e),i=qM(this.eventCopy.end,e);n<Aa(this.dayBoundariesDateTime.start,this.lastDaysDiff)||i>Aa(this.dayBoundariesDateTime.end,this.lastDaysDiff)||(this.eventCopy.start=n,this.eventCopy.end=i,this.updateCopy(this.eventCopy))}handleHorizontalMouseOrTouchMove(e){if(e===this.lastDaysDiff)return;const n=e-this.lastDaysDiff,i=Aa(Xs(this.eventCopy.start),n),s=Aa(Xs(this.eventCopy.end),n),r=XM(this.eventCopy.start,i),a=XM(this.eventCopy.end,s);r<this.$app.calendarState.range.value.start||a>this.$app.calendarState.range.value.end||(this.setDateForEventCopy(r,a),this.transformEventCopyPosition(e),this.lastDaysDiff=e)}setDateForEventCopy(e,n){this.eventCopy.start=e,this.eventCopy.end=n,this.updateCopy(this.eventCopy)}transformEventCopyPosition(e){const n=this.$app.elements.calendarWrapper.querySelector("#"+xU(this.eventCopy.id));n.style.transform=`translateX(calc(${e*100}% + ${e}px))`}updateOriginalEvent(){if(this.lastIntervalDiff===0&&this.lastDaysDiff===0)return;const e=this.lastDaysDiff===0,n=document.querySelector(`[data-event-id="${this.eventCopy.id}"]`);!e&&n instanceof HTMLElement&&(n.style.display="none"),qC(this.$app,this.eventCopy,this.originalStart)}}const Ibe=t=>t.elements.calendarWrapper.querySelector(".sx__time-grid-day").clientWidth,Dbe=(t,e)=>t.elements.calendarWrapper.querySelector("#"+xU(e.id)),KM=1e3*60*60*24;class Abe{constructor(e,n,i,s){Object.defineProperty(this,"$app",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"eventCopy",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"updateCopy",{enumerable:!0,configurable:!0,writable:!0,value:s}),Object.defineProperty(this,"startX",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"dayWidth",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"originalStart",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"originalEnd",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"rangeStartDate",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"rangeEndDate",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"lastDaysDiff",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"handleMouseOrTouchMove",{enumerable:!0,configurable:!0,writable:!0,value:r=>{const{clientX:a}=SU(r),o=a-this.startX,l=Math.round(o/this.dayWidth);if(l===this.lastDaysDiff)return;const u=Aa(this.originalStart,l),d=Aa(this.originalEnd,l),c=Xs(u),f=Xs(d);if(c>this.rangeEndDate||f<this.rangeStartDate)return;this.eventCopy.start=u,this.eventCopy.end=d;const p=c>=this.rangeStartDate&&c<=this.rangeEndDate?c:this.rangeStartDate,v=f>=this.rangeStartDate&&f<=this.rangeEndDate?f:this.rangeEndDate;this.eventCopy._nDaysInGrid=Math.round((new Date(v).getTime()-new Date(p).getTime())/KM)+1,c>=this.rangeStartDate&&this.transformEventCopyPosition(c),this.updateCopy(this.eventCopy),this.lastDaysDiff=l}}),Object.defineProperty(this,"handleMouseUpOrTouchEnd",{enumerable:!0,configurable:!0,writable:!0,value:()=>{document.removeEventListener("mousemove",this.handleMouseOrTouchMove),document.removeEventListener("touchmove",this.handleMouseOrTouchMove),!XC(this.$app,this.eventCopy,this.originalStart,this.originalEnd,this.updateCopy)&&(this.updateOriginalEvent(),setTimeout(()=>{this.updateCopy(void 0)},10))}}),this.startX=n.clientX,this.dayWidth=Ibe(this.$app),this.originalStart=this.eventCopy.start,this.originalEnd=this.eventCopy.end,this.rangeStartDate=Xs(this.$app.calendarState.range.value.start),this.rangeEndDate=Aa(this.rangeStartDate,e.config.weekOptions.value.nDays-1),this.init()}init(){document.addEventListener("mousemove",this.handleMouseOrTouchMove),document.addEventListener("mouseup",this.handleMouseUpOrTouchEnd,{once:!0}),document.addEventListener("touchmove",this.handleMouseOrTouchMove,{passive:!1}),document.addEventListener("touchend",this.handleMouseUpOrTouchEnd,{once:!0})}transformEventCopyPosition(e){const n=Xs(this.originalStart),i=Math.round((new Date(e).getTime()-new Date(n>=this.rangeStartDate?n:this.rangeStartDate).getTime())/KM);Dbe(this.$app,this.eventCopy).style.transform=`translateX(calc(${i*this.dayWidth}px + ${i}px))`}updateOriginalEvent(){this.lastDaysDiff!==0&&qC(this.$app,this.eventCopy,this.originalStart)}}const QM=(t,e)=>{const{year:n,month:i,date:s}=lk(t),{year:r,month:a,date:o}=lk(e),l=new Date(n,i,s),d=new Date(r,a,o).getTime()-l.getTime();return Math.round(d/(1e3*3600*24))};var ck;(function(t){t[t.SUNDAY=0]="SUNDAY",t[t.MONDAY=1]="MONDAY",t[t.TUESDAY=2]="TUESDAY",t[t.WEDNESDAY=3]="WEDNESDAY",t[t.THURSDAY=4]="THURSDAY",t[t.FRIDAY=5]="FRIDAY",t[t.SATURDAY=6]="SATURDAY"})(ck||(ck={}));ck.MONDAY;const Rbe="primary";class Obe{constructor(e,n,i,s,r,a,o,l,u,d=void 0,c={},f={}){Object.defineProperty(this,"_config",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"id",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(this,"start",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"end",{enumerable:!0,configurable:!0,writable:!0,value:s}),Object.defineProperty(this,"title",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"people",{enumerable:!0,configurable:!0,writable:!0,value:a}),Object.defineProperty(this,"location",{enumerable:!0,configurable:!0,writable:!0,value:o}),Object.defineProperty(this,"description",{enumerable:!0,configurable:!0,writable:!0,value:l}),Object.defineProperty(this,"calendarId",{enumerable:!0,configurable:!0,writable:!0,value:u}),Object.defineProperty(this,"_options",{enumerable:!0,configurable:!0,writable:!0,value:d}),Object.defineProperty(this,"_customContent",{enumerable:!0,configurable:!0,writable:!0,value:c}),Object.defineProperty(this,"_foreignProperties",{enumerable:!0,configurable:!0,writable:!0,value:f}),Object.defineProperty(this,"_previousConcurrentEvents",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_totalConcurrentEvents",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_nDaysInGrid",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_eventFragments",{enumerable:!0,configurable:!0,writable:!0,value:{}})}get _isSingleDayTimed(){return od.test(this.start)&&od.test(this.end)&&Xs(this.start)===Xs(this.end)}get _isSingleDayFullDay(){return sv.test(this.start)&&sv.test(this.end)&&this.start===this.end}get _isMultiDayTimed(){return od.test(this.start)&&od.test(this.end)&&Xs(this.start)!==Xs(this.end)}get _isMultiDayFullDay(){return sv.test(this.start)&&sv.test(this.end)&&this.start!==this.end}get _isSingleHybridDayTimed(){if(!this._config.isHybridDay||!od.test(this.start)||!od.test(this.end))return!1;const e=Xs(this.start),n=Xs(this.end),i=GC(new Date(yU(n).getTime()-864e5));if(e!==n&&e!==i)return!1;const s=this._config.dayBoundaries.value,r=GM(uk(this.start)),a=GM(uk(this.end));return r>=s.start&&(a<=s.end||a>r)||r<s.end&&a<=s.end}get _color(){return this.calendarId&&this._config.calendars.value&&this.calendarId in this._config.calendars.value?this._config.calendars.value[this.calendarId].colorName:Rbe}_getForeignProperties(){return this._foreignProperties}_getExternalEvent(){return{id:this.id,start:this.start,end:this.end,title:this.title,people:this.people,location:this.location,description:this.description,calendarId:this.calendarId,_options:this._options,...this._getForeignProperties()}}}class Mbe{constructor(e,n,i,s){Object.defineProperty(this,"_config",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"id",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(this,"start",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"end",{enumerable:!0,configurable:!0,writable:!0,value:s}),Object.defineProperty(this,"people",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"location",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"description",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"title",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"calendarId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_foreignProperties",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_options",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_customContent",{enumerable:!0,configurable:!0,writable:!0,value:{}})}build(){return new Obe(this._config,this.id,this.start,this.end,this.title,this.people,this.location,this.description,this.calendarId,this._options,this._customContent,this._foreignProperties)}withTitle(e){return this.title=e,this}withPeople(e){return this.people=e,this}withLocation(e){return this.location=e,this}withDescription(e){return this.description=e,this}withForeignProperties(e){return this._foreignProperties=e,this}withCalendarId(e){return this.calendarId=e,this}withOptions(e){return this._options=e,this}withCustomContent(e){return this._customContent=e,this}}const Vbe=(t,e)=>{const n=new Mbe(e.config,t.id,t.start,t.end).withTitle(t.title).withPeople(t.people).withCalendarId(t.calendarId).withForeignProperties(JSON.parse(JSON.stringify(t._getForeignProperties()))).withLocation(t.location).withDescription(t.description).withOptions(t._options).withCustomContent(t._customContent).build();return n._nDaysInGrid=t._nDaysInGrid,n};class Lbe{constructor(e,n){Object.defineProperty(this,"calendarEvent",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"$app",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(this,"allDayElements",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"currentDragoverDate",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"eventNDays",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"originalStart",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"originalEnd",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"MONTH_DAY_CLASS_NAME",{enumerable:!0,configurable:!0,writable:!0,value:"sx__month-grid-day"}),Object.defineProperty(this,"MONTH_DAY_SELECTOR",{enumerable:!0,configurable:!0,writable:!0,value:`.${this.MONTH_DAY_CLASS_NAME}`}),Object.defineProperty(this,"DAY_DRAGOVER_CLASS_NAME",{enumerable:!0,configurable:!0,writable:!0,value:"sx__month-grid-day--dragover"}),Object.defineProperty(this,"handleDragOver",{enumerable:!0,configurable:!0,writable:!0,value:i=>{i.preventDefault();let s=i.target;if((!(s instanceof HTMLDivElement)||!s.classList.contains(this.MONTH_DAY_CLASS_NAME))&&(s=i.target.closest(this.MONTH_DAY_SELECTOR)),this.currentDragoverDate===s.dataset.date)return;this.currentDragoverDate=s.dataset.date;const r=Aa(this.currentDragoverDate,this.eventNDays-1);this.allDayElements.forEach(a=>{const o=a.dataset.date;o>=this.currentDragoverDate&&o<=r?a.classList.add(this.DAY_DRAGOVER_CLASS_NAME):a.classList.remove(this.DAY_DRAGOVER_CLASS_NAME)})}}),Object.defineProperty(this,"handleDragEnd",{enumerable:!0,configurable:!0,writable:!0,value:()=>{this.allDayElements.forEach(s=>{s.removeEventListener("dragover",this.handleDragOver),s.classList.remove(this.DAY_DRAGOVER_CLASS_NAME)}),this.setCalendarEventPointerEventsTo("auto"),!XC(this.$app,this.calendarEvent,this.originalStart,this.originalEnd)&&this.updateCalendarEvent()}}),Object.defineProperty(this,"setCalendarEventPointerEventsTo",{enumerable:!0,configurable:!0,writable:!0,value:i=>{var s;((s=this.$app.elements.calendarWrapper)===null||s===void 0?void 0:s.querySelectorAll(".sx__event")).forEach(r=>{String(r.dataset.eventId)!==String(this.calendarEvent.id)&&(r.style.pointerEvents=i)})}}),Object.defineProperty(this,"updateCalendarEvent",{enumerable:!0,configurable:!0,writable:!0,value:()=>{const i=Vbe(this.calendarEvent,this.$app),s=QM(Xs(this.calendarEvent.start),Xs(this.currentDragoverDate));i.start=Aa(i.start,s),i.end=Aa(i.end,s),qC(this.$app,i,this.originalStart)}}),this.originalStart=this.calendarEvent.start,this.originalEnd=this.calendarEvent.end,this.allDayElements=n.elements.calendarWrapper.querySelectorAll(this.MONTH_DAY_SELECTOR),this.eventNDays=QM(this.calendarEvent.start,this.calendarEvent.end)+1,this.init()}init(){document.addEventListener("dragend",this.handleDragEnd,{once:!0}),this.allDayElements.forEach(e=>{e.addEventListener("dragover",this.handleDragOver)}),this.setCalendarEventPointerEventsTo("none")}}const Nbe=(t,e)=>(e.name=t,e);class Fbe{onRender(e){e.elements.calendarWrapper&&(e.elements.calendarWrapper.dataset.hasDnd="true")}constructor(e){Object.defineProperty(this,"minutesPerInterval",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:ok.DragAndDrop})}createTimeGridDragHandler(e,n){return new Ebe(e.$app,e.eventCoordinates,e.eventCopy,e.updateCopy,n,this.getTimePointsForIntervalConfig())}getTimePointsForIntervalConfig(){return this.minutesPerInterval===60?100:this.minutesPerInterval===30?50:25}createDateGridDragHandler(e){return new Abe(e.$app,e.eventCoordinates,e.eventCopy,e.updateCopy)}createMonthGridDragHandler(e,n){return new Lbe(e,n)}}const Bbe=(t=15)=>Nbe("dragAndDrop",new Fbe(t)),kU=kt({__name:"EditLessonTime",props:{startTime:{},endTime:{},minutesOfLesson:{default:60}},emits:["close","save"],setup(t,{emit:e}){const n=t,i=e,s=G(!1),r=G(!1),a=G(!0),o=sa({startTime:Fn().required("L'Orario di inizio Lezione è obbligatorio").label("Orario di inizio Lezione"),endTime:Fn().required("L'Orario di fine Lezione è obbligatorio").label("Orario di fine Lezione")}),{defineField:l,handleSubmit:u}=Hl({validationSchema:o}),d=b=>({props:{"error-messages":b.errors}}),[c,f]=l("startTime",d),[h,p]=l("endTime",d),g=u(async b=>{var x,k;if((((x=$t.fromHHMM(c.value))==null?void 0:x.getTotalMinutes())??0)>(((k=$t.fromHHMM(h.value))==null?void 0:k.getTotalMinutes())??0)){Ze.warning("L'orario di inizio lezione deve essere antecedente all'orario di fine lezione");return}i("save",{...b})},b=>{Ze.warn("Ci sono alcuni errori! Inserisci correttamente i dati"),console.log(b)});we(n,()=>v(),{immediate:!0}),we(c,()=>_()),we(a,()=>_());function v(){n.startTime&&(c.value=n.startTime),n.endTime&&(h.value=n.endTime),_()}function _(){if(a.value&&n.minutesOfLesson!=null){const b=$t.fromHHMM(c.value);if(!b)return;h.value=$t.fromITime((b.getTotalMinutes()+n.minutesOfLesson)*60).format()}}return(b,x)=>{const k=j("v-checkbox"),I=j("v-col"),E=j("v-time-picker"),T=j("v-dialog"),S=j("v-text-field"),w=j("v-row"),P=j("v-card-text"),C=j("v-spacer"),D=j("v-btn"),A=j("v-card-actions"),N=j("v-card");return be(),De(N,{title:"Modifica orario lezione",elevation:"2"},{default:M(()=>[m(P,null,{default:M(()=>[m(w,{justify:"space-around"},{default:M(()=>[m(I,{cols:"11",md:"6"},{default:M(()=>[m(k,{modelValue:a.value,"onUpdate:modelValue":x[0]||(x[0]=B=>a.value=B),label:"Allinea la data di fine lezione in base alla durata della lezione definita dallo studente"},null,8,["modelValue"])]),_:1}),m(I,{cols:"11",sm:"5"},{default:M(()=>[m(S,J({modelValue:se(c),"onUpdate:modelValue":x[3]||(x[3]=B=>Ke(c)?c.value=B:null),active:s.value,focus:s.value,label:"Data di inizio"},se(f),{"prepend-icon":"mdi-clock-time-four-outline",readonly:""}),{default:M(()=>[m(T,{modelValue:s.value,"onUpdate:modelValue":x[2]||(x[2]=B=>s.value=B),activator:"parent",width:"auto"},{default:M(()=>[s.value?(be(),De(E,{key:0,format:"24hr",modelValue:se(c),"onUpdate:modelValue":x[1]||(x[1]=B=>Ke(c)?c.value=B:null)},null,8,["modelValue"])):Wt("",!0)]),_:1},8,["modelValue"])]),_:1},16,["modelValue","active","focus"])]),_:1}),m(I,{cols:"11",sm:"5"},{default:M(()=>[m(S,J({modelValue:se(h),"onUpdate:modelValue":x[6]||(x[6]=B=>Ke(h)?h.value=B:null),active:r.value,focused:r.value,label:"Data di fine"},se(p),{"prepend-icon":"mdi-clock-time-four-outline",disabled:a.value,readonly:""}),{default:M(()=>[m(T,{modelValue:r.value,"onUpdate:modelValue":x[5]||(x[5]=B=>r.value=B),activator:"parent",width:"auto"},{default:M(()=>[r.value?(be(),De(E,{key:0,format:"24hr",modelValue:se(h),"onUpdate:modelValue":x[4]||(x[4]=B=>Ke(h)?h.value=B:null)},null,8,["modelValue"])):Wt("",!0)]),_:1},8,["modelValue"])]),_:1},16,["modelValue","active","focused","disabled"])]),_:1})]),_:1})]),_:1}),m(A,null,{default:M(()=>[m(C),m(D,{text:"Annulla",variant:"plain",onClick:x[7]||(x[7]=Ju(B=>i("close"),["stop"]))}),m(D,{color:"primary",text:"Modifica",variant:"tonal",onClick:Ju(se(g),["stop"])},null,8,["onClick"])]),_:1})]),_:1})}}}),TU=kt({__name:"DailyLessonCalendar",props:Dl({date:{default:()=>rt.today()},editable:{type:Boolean,default:!1},showDay:{type:Boolean,default:!1},sort:{type:Boolean,default:!1},school:{},trimTime:{type:Boolean,default:!0}},{modelValue:{default:[]},modelModifiers:{}}),emits:Dl(["edit"],["update:modelValue"]),setup(t,{emit:e}){const n=t,i=Gg(),s=e,r=Al(t,"modelValue"),a=G([]),o=G(!1);let l="24:00",u="00:00";we(r,()=>v(),{deep:!0}),we(i.global.name,g),we(()=>n.trimTime,_);const d=X6(),c=q6(),f=Bbe(15),h=W6(),p=j$({locale:"it-IT",selectedDate:n.date.toIyyyyMMdd("-",1),views:[t4()],events:[],plugins:n.editable?[f,d,c,h]:[f,d,h],callbacks:{onEventUpdate(T){const S=a.value.find(w=>w.id==T.id);S&&(S.start=T.start,S.end=T.end,k(T))}},calendars:s4(n.school)});function g(){p&&(i.global.name.value=="myCustomDarkTheme"?p.setTheme("dark"):p.setTheme("light"))}function v(){l="24:00",u="00:00",a.value=b(),a.value.forEach(T=>{T._options||(T._options={}),T._options.disableDND=!n.editable,d.get(T.id)?d.update(T):d.add(T);let S=T.start.split(" ")[1],w=T.end.split(" ")[1];S<l&&(l=S),w>u&&(u=w)}),d.getAll().forEach(T=>{a.value.findIndex(w=>w.id==T.id)==-1&&d.remove(T.id)}),_()}function _(){if(n.trimTime){l>="01:00"?l=$t.fromHHMM(l).add({hour:-1}).format():l="00:00",u<="23:00"?u=$t.fromHHMM(u).add({hour:1}).format():u="24:00",h.setDayBoundaries({start:l,end:u});const T=h.getWeekOptions(),S=parseInt(u.split(":")[0])-parseInt(l.split(":")[0]);h.setWeekOptions({...T,gridHeight:Math.max(1e3*S/24,400)})}else h.setDayBoundaries({start:"00:00",end:"24:00"})}function b(){const T=n.date.toIyyyyMMdd("-",1);return r.value.map(S=>"lessonId"in S?(console.log(S),{id:S.lessonId,start:T+" "+$t.fromITime(S.startTime).format(),end:T+" "+$t.fromITime(S.endTime).format(),title:`${S.name} ${S.surname} - ${Vs[S.lessonDay??0]}`,calendarId:S.schoolId.toLowerCase(),data:{...S}}):S)}function x(T,S){var A,N;if(!T)return;const w=a.value.find(B=>B.id==T.id);if(!w)return;const P={...T},C=(A=P.start)==null?void 0:A.split(" "),D=(N=P.end)==null?void 0:N.split(" ");w.start=C[0]+" "+S.startTime,w.end=D[0]+" "+S.endTime,k(w),o.value=!1}function k(T){var w,P;const S=r.value.find(C=>"lessonId"in C?C.lessonId==T.id:C.id==T.id);S&&("lessonId"in S?(S.startTime=((w=$t.fromHHMM(T.start.split(" ")[1]))==null?void 0:w.toITime())??S.startTime,S.endTime=((P=$t.fromHHMM(T.end.split(" ")[1]))==null?void 0:P.toITime())??S.endTime):(S.start=T.start,S.end=T.end),n.sort&&r.value.sort((C,D)=>C.startTime-D.startTime),s("edit"))}function I(){const T=document.getElementsByClassName("sx__calendar-header")[0];T.style.display=T.style.display=="none"?"":"none",E()}function E(T=0){const S=document.getElementsByClassName("sx__week-header")[0];S?S.style.display=n.showDay?"":"none":T>=10?console.error("Unable to hide day header"):setTimeout(()=>E(T+1),10)}return Tt(()=>{I(),v()}),(T,S)=>{const w=j("v-spacer"),P=j("v-btn"),C=j("v-dialog"),D=j("v-card-actions"),A=j("v-card"),N=j("v-container");return be(),De(N,null,{default:M(()=>[m(se(K6),{"calendar-app":se(p)},{eventModal:M(({calendarEvent:B})=>[m(A,{elevation:"3",title:B.title,subtitle:B.start.split(" ")[1]+" - "+B.end.split(" ")[1],text:B.description},{default:M(()=>[m(D,null,{default:M(()=>[m(w),m(C,{modelValue:o.value,"onUpdate:modelValue":S[2]||(S[2]=z=>o.value=z),transition:"dialog-bottom-transition"},{activator:M(({props:z})=>[m(P,{text:"Chiudi",onClick:S[0]||(S[0]=q=>se(c).close())}),m(P,J({text:"Modifica",color:"primary"},z,{onClick:S[1]||(S[1]=Ju(()=>{},["stop"]))}),null,16)]),default:M(({isActive:z})=>{var q,W;return[m(kU,{onClose:K=>z.value=!1,onSave:K=>x(B,K),startTime:(q=B.start)==null?void 0:q.split(" ")[1],endTime:(W=B.end)==null?void 0:W.split(" ")[1],minutesOfLesson:B.data.minutesLessonDuration},null,8,["onClose","onSave","startTime","endTime","minutesOfLesson"])]}),_:2},1032,["modelValue"])]),_:2},1024)]),_:2},1032,["title","subtitle","text"])]),_:1},8,["calendar-app"])]),_:1})}}}),up=kt({__name:"DeleteDialog",props:{objName:{default:"Oggetto"},useToast:{type:Boolean,default:!0},name:{},onDelete:{}},emits:["delete"],setup(t,{emit:e}){const n=t,i=G(!1),s=G(!1);async function r(){var o;s.value=!0;const a=await((o=n.onDelete)==null?void 0:o.call(n))??!1;n.useToast&&(a?Ze.success(`${n.objName} eliminato/a`):Ze.warning("Errore durante l'eliminazione")),s.value=!1,i.value=a}return(a,o)=>{const l=j("v-card-text"),u=j("v-btn"),d=j("v-spacer"),c=j("v-card-actions"),f=j("v-card"),h=j("v-dialog");return be(),De(h,{modelValue:i.value,"onUpdate:modelValue":o[1]||(o[1]=p=>i.value=p)},{activator:M(({props:p})=>[CH(a.$slots,"activator",EV(zk({props:p})))]),default:M(()=>[m(f,{"prepend-icon":"mdi-alert",class:"mx-auto","max-width":"500",title:"Elimina "+a.objName},{default:M(()=>[m(l,null,{default:M(()=>[Me("p",null,[o[2]||(o[2]=Pe("Sei sicuro di voler eliminare ")),Me("b",null,at(a.name),1),o[3]||(o[3]=Pe("?"))]),o[4]||(o[4]=Me("br",null,null,-1)),o[5]||(o[5]=Me("p",null,[Pe("Dopo avere eliminato la risorsa "),Me("b",null,"NON"),Pe(" è più possibile recuperare i dati!")],-1))]),_:1}),m(c,null,{default:M(()=>[m(u,{text:"Annulla",onClick:o[0]||(o[0]=p=>i.value=!1)}),m(d),m(u,{color:"surface-variant",text:"Elimina",variant:"flat",onClick:r,loading:s.value},null,8,["loading"])]),_:1})]),_:1},8,["title"])]),_:3},8,["modelValue"])}}}),PU=kt({__name:"SelectStudents",props:Dl({allStudents:{default:()=>[]}},{modelValue:{default:[]},modelModifiers:{}}),emits:["update:modelValue"],setup(t){const e=t,n=Al(t,"modelValue"),i=O(()=>n.value.length===e.allStudents.length),s=O(()=>n.value.length>0);function r(o){return{title:o.name+" "+o.surname,id:o.id}}function a(){i.value?n.value=[]:n.value=e.allStudents.slice()}return(o,l)=>{const u=j("v-checkbox-btn"),d=j("v-list-item"),c=j("v-divider"),f=j("v-select");return be(),De(f,{modelValue:n.value,"onUpdate:modelValue":l[0]||(l[0]=h=>n.value=h),items:o.allStudents,label:"Studenti","item-props":r,"return-object":!0,multiple:"","no-data-text":"Nessuno studente disponibile per questa scuola"},bL({_:2},[o.allStudents.length>1?{name:"prepend-item",fn:M(()=>[m(d,{title:"Seleziona tutti",onClick:a},{prepend:M(()=>[m(u,{color:s.value?"indigo-darken-4":void 0,indeterminate:s.value&&!i.value,"model-value":i.value},null,8,["color","indeterminate","model-value"])]),_:1}),m(c,{class:"mt-2"})]),key:"0"}:void 0]),1032,["modelValue","items"])}}}),jbe=kt({__name:"LessonItem",props:Dl({school:{},onDeleteLessonItem:{type:Function},updateLessonTime:{type:Function},moveLesson:{type:Function}},{item:{required:!0},itemModifiers:{},select:{},selectModifiers:{}}),emits:Dl(["present","absent","reset","trial","updateLessonTime","deleteStudent"],["update:item","update:select"]),setup(t,{emit:e}){const n=t,i=Al(t,"item"),s=Al(t,"select"),r=e,a=G(!1),o=G(!1),l=G(),u=G(!1);async function d(f){await n.updateLessonTime(f)&&(a.value=!1)}async function c(){u.value=!0,l.value&&(await n.moveLesson(l.value)?(o.value=!1,l.value=void 0):Ze.warn("Impossibile spostare la lezione...")),u.value=!1}return(f,h)=>{const p=j("v-checkbox"),g=j("v-card-title"),v=j("v-btn"),_=j("v-col"),b=j("v-row"),x=j("v-card-actions"),k=j("v-card"),I=j("v-dialog"),E=j("v-date-picker"),T=j("v-card-text"),S=j("v-spacer"),w=j("v-icon");return be(),De(k,{elevation:"3"},{default:M(()=>[m(g,null,{default:M(()=>[m(p,{modelValue:s.value,"onUpdate:modelValue":h[0]||(h[0]=P=>s.value=P),value:i.value.id,multiple:""},{label:M(()=>[Me("span",null,[Me("b",null,at(se($t).fromITime(i.value.startTime).format())+" - "+at(se($t).fromITime(i.value.endTime).format()),1),h[7]||(h[7]=Pe("   ")),Me("i",null,at(i.value.name)+" "+at(i.value.surname),1)])]),_:1},8,["modelValue","value"])]),_:1}),m(T,null,{default:M(()=>{var P,C,D,A;return[!i.value.recovery||i.value.recovery.ref=="original"?(be(),bt(Ee,{key:0},[i.value.status!=se(Mt).TRIAL&&i.value.status!=se(Mt).PRESENT&&((P=i.value.moved)==null?void 0:P.ref)!="moved"?(be(),De(v,{key:0,class:"ma-1",onClick:h[1]||(h[1]=N=>r("present"))},{default:M(()=>h[8]||(h[8]=[Pe("presente")])),_:1})):Wt("",!0),m(I,{transition:"dialog-bottom-transition"},{activator:M(({props:N})=>{var B;return[i.value.status!=se(Mt).TRIAL&&i.value.status!=se(Mt).ABSENT&&i.value.status!=se(Mt).UNJUSTIFIED_ABSENCE&&((B=i.value.moved)==null?void 0:B.ref)!="moved"?(be(),De(v,J({key:0,class:"ma-1"},N),{default:M(()=>h[9]||(h[9]=[Pe("assente")])),_:2},1040)):Wt("",!0)]}),default:M(({isActive:N})=>[m(k,{title:"Assenza",text:"Lo studente avrà modo di recuperare la lezione oppure è un'assenza ingiustificata?"},{default:M(()=>[m(x,null,{default:M(()=>[m(b,{class:"justify-end"},{default:M(()=>[m(_,{cols:"auto"},{default:M(()=>[m(v,{text:"Assenza Ingiustificata",onClick:B=>{N.value=!1,r("absent",!1)}},null,8,["onClick"])]),_:2},1024),m(_,{cols:"auto"},{default:M(()=>[m(v,{text:"Assenza Recuperabile",color:"primary",onClick:B=>{N.value=!1,r("absent",!0)}},null,8,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:1}),i.value.status==se(Mt).NONE&&!((C=i.value.trial)!=null&&C.done)?(be(),De(v,{key:1,class:"ma-1",onClick:h[2]||(h[2]=N=>r("trial"))},{default:M(()=>h[10]||(h[10]=[Pe("prova")])),_:1})):Wt("",!0),i.value.status!=se(Mt).NONE||((D=i.value.moved)==null?void 0:D.ref)=="moved"?(be(),De(v,{key:2,class:"ma-1",onClick:h[3]||(h[3]=N=>r("reset"))},{default:M(()=>h[11]||(h[11]=[Pe("reset")])),_:1})):Wt("",!0),i.value.moved?i.value.moved.ref=="moved"?(be(),De(v,{key:4,class:"ma-1",to:`/lesson/${i.value.moved.lessonRef.dailyLessonId}`},{prepend:M(()=>[m(w,null,{default:M(()=>h[13]||(h[13]=[Pe("mdi-eye-arrow-right-outline")])),_:1})]),default:M(()=>[h[14]||(h[14]=Pe("spostata"))]),_:1},8,["to"])):(be(),De(v,{key:5,class:"ma-1",to:`/lesson/${i.value.moved.lessonRef.dailyLessonId}`},{prepend:M(()=>[m(w,null,{default:M(()=>h[15]||(h[15]=[Pe("mdi-eye-arrow-left-outline")])),_:1})]),default:M(()=>[h[16]||(h[16]=Pe(" origine"))]),_:1},8,["to"])):(be(),De(I,{key:3,modelValue:o.value,"onUpdate:modelValue":h[5]||(h[5]=N=>o.value=N),transition:"dialog-bottom-transition",fullscreen:""},{activator:M(({props:N})=>[!i.value.recovery&&i.value.status==se(Mt).NONE?(be(),De(v,J({key:0,class:"ma-1"},N),{default:M(()=>h[12]||(h[12]=[Pe("sposta")])),_:2},1040)):Wt("",!0)]),default:M(({isActive:N})=>[m(k,null,{default:M(()=>[m(T,null,{default:M(()=>[m(E,{class:"w-100",modelValue:l.value,"onUpdate:modelValue":h[4]||(h[4]=B=>l.value=B)},null,8,["modelValue"])]),_:1}),m(x,null,{default:M(()=>[m(S),m(v,{text:"Annulla",onClick:B=>{N.value=!1,l.value=void 0}},null,8,["onClick"]),m(v,{color:"primary",text:"Sposta",onClick:c,loading:u.value,disabled:!l.value},null,8,["loading","disabled"])]),_:2},1024)]),_:2},1024)]),_:1},8,["modelValue"])),m(I,{modelValue:a.value,"onUpdate:modelValue":h[6]||(h[6]=N=>a.value=N),transition:"dialog-bottom-transition",fullscreen:""},{activator:M(({props:N})=>[m(v,J({class:"ma-1"},N),{default:M(()=>h[17]||(h[17]=[Pe("modifica orario")])),_:2},1040)]),default:M(({isActive:N})=>[m(kU,{onClose:B=>N.value=!1,onSave:d,startTime:se($t).fromITime(i.value.startTime).format(),endTime:se($t).fromITime(i.value.endTime).format(),minutesOfLesson:i.value.minutesLessonDuration},null,8,["onClose","startTime","endTime","minutesOfLesson"])]),_:1},8,["modelValue"]),((A=i.value.recovery)==null?void 0:A.ref)=="original"?(be(),De(v,{key:6,class:"ma-1",to:`/lesson/${i.value.recovery.lessonRef.dailyLessonId}`},{prepend:M(()=>[m(w,null,{default:M(()=>h[18]||(h[18]=[Pe("mdi-eye-arrow-left-outline")])),_:1})]),default:M(()=>[h[19]||(h[19]=Pe(" origine"))]),_:1},8,["to"])):Wt("",!0)],64)):(be(),De(v,{key:1,class:"ma-1",to:`/lesson/${i.value.recovery.lessonRef.dailyLessonId}`},{prepend:M(()=>[m(w,null,{default:M(()=>h[20]||(h[20]=[Pe("mdi-eye-arrow-right-outline")])),_:1})]),default:M(()=>[h[21]||(h[21]=Pe("recupero"))]),_:1},8,["to"])),m(I,{fullscreen:""},{activator:M(({props:N})=>[m(v,J({class:"ma-1"},N),{default:M(()=>h[22]||(h[22]=[Pe(" note ")])),_:2},1040)]),default:M(({isActive:N})=>[m(uy,{edit:"",school:f.school,initialStudent:i.value,focus:"note",disableFields:["name","surname","contact","lessonDay","level","minutesLessonDuration"],onClose:B=>N.value=!1,onSave:B=>{i.value.note=B.note,N.value=!1}},null,8,["school","initialStudent","onClose","onSave"])]),_:1}),m(up,{name:`${i.value.name} ${i.value.surname}`,objName:"Studente",onDelete:f.onDeleteLessonItem},{activator:M(({props:N})=>[m(v,J({color:"error"},N),{default:M(()=>h[23]||(h[23]=[Pe("elimina")])),_:2},1040)]),_:1},8,["name","onDelete"])]}),_:1})]),_:1})}}}),$be={class:"text-h5 text-center"},Ube={class:"text-subtitle"},Hbe=kt({__name:"DailyLessonView",setup(t){const e=Wg(),n=Oc(),i=O(()=>e.params.id),s=Ot.instance.observe(i),r=pP(s);console.log(r);const a=G(),o=G([]),l=G(!1),u=G([]),d=G([]),c=G([]),f=G(!1),h=G(!1),p=G(!1),g=G(!1),v=G(!1),_=G(!1),b=G(!0),x=G(0),k=O(()=>{var U,X;return isNaN(((U=r.value)==null?void 0:U.salary)??0)?0:(X=r.value)==null?void 0:X.salary}),I=O(()=>o.value.length!=0),E=O(()=>f.value||h.value||!a.value||!r.value||b.value);let T;we(r,()=>le()),we(s,()=>b.value=!0),we(o,()=>{o.value.length==0&&(l.value=!1)});function S(U){return U.recovery&&U.recovery.ref=="recovery"?"#5093fc":U.moved&&U.moved.ref=="moved"?"#ffb135":U.status==Mt.NONE?"#46494C":U.status==Mt.PRESENT?"#45de62":U.status==Mt.ABSENT||U.status==Mt.UNJUSTIFIED_ABSENCE?"#df4a36":U.status==Mt.TRIAL?"#2ecfc0":"#808080"}async function w(U){q();const X=o.value.map(ae=>u.value.find(pe=>pe.id==ae)).filter(ae=>!!ae);X.push(U),X.forEach(ae=>ae.status=Mt.PRESENT),o.value=[],await de(),await To.instance.updateRecovery(zv.SET_PRESENT,r.value.schoolId,...X.map(ae=>({...ae,dailyLessonId:r.value.id})))}async function P(U,X=!0){q();const ae=o.value.map(pe=>u.value.find(ve=>ve.id==pe)).filter(pe=>!!pe);ae.push(U),ae.forEach(pe=>pe.status=X?Mt.ABSENT:Mt.UNJUSTIFIED_ABSENCE),o.value=[],await de(),X&&await To.instance.updateRecovery(zv.SET_ABSENT,r.value.schoolId,...ae.map(pe=>({...pe,dailyLessonId:r.value.id})))}async function C(U){var X,ae;U&&(q(),U.status=Mt.TRIAL,await de(),await _r.instance.setTrialDone(U,(X=r.value)==null?void 0:X.date,(ae=r.value)==null?void 0:ae.id))}async function D(U){var X;if(U){q();const ae=U.status==Mt.TRIAL;if(U.status=Mt.NONE,U.moved){const pe=(X=r.value)==null?void 0:X.lessons.find(ve=>ve.lessonId==U.lessonId);pe&&(await bi.instance.undoMoveDailyLesson(pe),U.moved=pe.moved)}await de(),await To.instance.updateRecovery(zv.RESET,r.value.schoolId,{...U,dailyLessonId:r.value.id}),ae&&await _r.instance.unsetTrial(U)}}async function A(U,X){var ae;if(!U||!a.value||!X)return console.warn("Unable to move the lesson because the event/school/date is undefined!"),!1;try{const pe=(ae=r.value)==null?void 0:ae.lessons.find(ve=>ve.lessonId==U.lessonId);return pe?(await bi.instance.moveDailyLesson(a.value.id,r.value.id,pe,X),U.moved=pe.moved,await de(),!0):!1}catch(pe){return console.warn(pe),!1}}async function N(U,X){var ve,F;const ae=(ve=$t.fromHHMM(X.startTime))==null?void 0:ve.toITime(),pe=(F=$t.fromHHMM(X.endTime))==null?void 0:F.toITime();return ae==null||pe==null?!1:(q(),U.startTime=ae,U.endTime=pe,u.value.sort((L,$)=>L.startTime-$.startTime),await de(),!0)}function B(){l.value?o.value=[]:o.value=[...u.value.map(U=>U.id)]}let z;function q(){z=JSON.stringify(u.value)}function W(){z!=null&&(u.value=JSON.parse(z))}async function K(){if(r.value)try{p.value=!0;const U=r.value.lessons.map(ae=>ae.studentId),X=await _r.instance.getStudentsOfSchool(r.value.schoolId);d.value=X.filter(ae=>!U.includes(ae.id)),c.value=[]}catch(U){Ze.warn("Impossibile caricare gli studenti..."),console.log(U)}finally{p.value=!1}}async function Y(){v.value=!0;const U={...r.value};c.value.forEach(X=>{var pe,ve;const ae=((pe=U.lessons)==null?void 0:pe.length)==0?28800:U.lessons[U.lessons.length-1].endTime;(ve=U.lessons)==null||ve.push({lessonId:Bd(),status:Mt.NONE,studentId:X.id,startTime:ae,endTime:ae+X.minutesLessonDuration*60,createdAt:At.now(),updatedAt:At.now()})});try{await Ot.instance.save(U,U.id),Ze.success("Studenti aggiunti!"),_.value=!1,console.log("Document (daily lessons) update with ID: ",U.id)}catch{Ze.warning("Impossibile aggiungere gli studenti alla lezione giornaliera")}finally{v.value=!1}}async function Z(){if(!r.value)return!1;try{return await bi.instance.delete(r.value)&&Ze.info("La data è stata aggiunta ai giorni da escludere della lezione settimanale"),n.push(`/school/${a.value.id}`),!0}catch{return!1}}async function ee(U,X=!0){if(!r.value)return!1;try{const ae=await bi.instance.deleteLessonAndRecoveryReferences(U,r.value,X);return ae&&(!r.value||r.value.lessons.length==0)&&n.push(`/school/${a.value.id}`),ae}catch(ae){return console.warn("Unable to delete the student lesson...",ae),!1}}async function le(){if(b.value=!1,!r.value)return;a.value||(h.value=!0,a.value=await Lr.instance.get(r.value.schoolId),h.value=!1);const U=u.value.map(pe=>pe.studentId),X=r.value.lessons.map(pe=>pe.studentId);Qle(U,X)&&T==r.value.id||(f.value=!0,T=r.value.id,u.value=await ag.instance.getStudentLesson(r.value,X),he(),f.value=!1)}async function de(){g.value=!0;const U=re();if(U===void 0){g.value=!1;return}try{await Ot.instance.save(U,U.id),Ze.success("Modifiche salvate",{autoClose:1e3}),g.value=!1}catch(X){console.error("Error adding document (dailyLesson): ",X),g.value=!1,W()}}function he(){var U,X;((U=r.value)==null?void 0:U.salaryStrategy)!=((X=a.value)==null?void 0:X.salaryStrategy)&&(Ze.info("Aggiornamento dello stipendio giornaliero in corso..."),de())}function re(){var ve,F;const U=r.value;if(U===void 0)return;const X=[];let ae=0;U.lessons.forEach(L=>{const $=u.value.find(ue=>ue.id==L.studentId);if(console.log($,L),$===void 0)return;const ne={lessonId:L.lessonId,createdAt:L.createdAt,studentId:L.studentId,startTime:$.startTime,endTime:$.endTime,status:$.status,updatedAt:At.now()};L.recovery&&(ne.recovery=L.recovery),L.moved&&(ne.moved=L.moved),X.push(ne),ae+=rg.instance.computeSalaryByStudentLesson(a.value,$,U.date)});const pe={date:U.date,id:U.id,lessons:X.sort((L,$)=>L.startTime-$.startTime),schoolId:U.schoolId,lastSalaryUpdate:At.now(),salary:ae};return((ve=a.value)==null?void 0:ve.salaryStrategy)!=null&&(pe.salaryStrategy=(F=a.value)==null?void 0:F.salaryStrategy),pe}return Us(()=>{}),Tt(async()=>{window.scrollTo(0,0)}),(U,X)=>{const ae=j("v-col"),pe=j("v-row"),ve=j("v-btn"),F=j("v-card-text"),L=j("v-spacer"),$=j("v-card-actions"),ne=j("v-card"),ue=j("v-dialog"),ie=j("v-checkbox"),Te=j("v-icon"),Ae=j("v-btn-toggle"),Se=j("v-timeline-item"),Ce=j("v-timeline"),$e=j("v-slide-x-transition"),Ne=j("v-container"),We=j("v-progress-circular"),it=j("v-overlay"),et=j("v-skeleton-loader");return se(r)&&a.value&&!E.value?(be(),De(Ne,{key:0,fluid:""},{default:M(()=>[m(pe,{class:"justify-center align-center mb-6"},{default:M(()=>[m(ae,{cols:"auto"},{default:M(()=>[m(sp)]),_:1}),m(ae,null,{default:M(()=>[m(pe,null,{default:M(()=>[m(ae,null,{default:M(()=>[Me("p",$be,[X[7]||(X[7]=Pe("Lezione del ")),Me("b",null,at(se(rt).fromIyyyyMMdd(se(r).date).format()),1)])]),_:1})]),_:1}),m(pe,{class:"justify-center"},{default:M(()=>[m(ae,{cols:"auto"},{default:M(()=>[Me("span",Ube,[X[8]||(X[8]=Pe(" Totale: ")),Me("b",null,at(k.value)+" €",1)])]),_:1})]),_:1})]),_:1})]),_:1}),m(pe,null,{default:M(()=>[m(ae,null,{default:M(()=>[m(ve,{onClick:w,disabled:!I.value},{default:M(()=>X[9]||(X[9]=[Pe("presenti")])),_:1},8,["disabled"])]),_:1}),m(ae,null,{default:M(()=>[m(ve,{onClick:P,disabled:!I.value},{default:M(()=>X[10]||(X[10]=[Pe("assenti")])),_:1},8,["disabled"])]),_:1}),m(ae,null,{default:M(()=>[m(ue,{modelValue:_.value,"onUpdate:modelValue":X[2]||(X[2]=Ye=>_.value=Ye),transition:"dialog-bottom-transition","max-width":"500",persistent:""},{activator:M(({props:Ye})=>[m(ve,J({onClick:K},Ye),{default:M(()=>X[11]||(X[11]=[Pe("Aggiungi studente")])),_:2},1040)]),default:M(()=>[m(ne,{title:"Tutti gli studenti della scuola",loading:p.value},{default:M(()=>[m(F,null,{default:M(()=>[m(PU,{modelValue:c.value,"onUpdate:modelValue":X[0]||(X[0]=Ye=>c.value=Ye),"all-students":d.value},null,8,["modelValue","all-students"])]),_:1}),m($,null,{default:M(()=>[m(ve,{text:"Annulla",onClick:X[1]||(X[1]=Ye=>_.value=!1)}),m(L),m(ve,{color:"primary",text:"Salva",onClick:Y,loading:v.value},null,8,["loading"])]),_:1})]),_:1},8,["loading"])]),_:1},8,["modelValue"])]),_:1}),m(ae,null,{default:M(()=>[m(ie,{modelValue:l.value,"onUpdate:modelValue":X[3]||(X[3]=Ye=>l.value=Ye),indeterminate:o.value.length!=0&&o.value.length!=u.value.length,onClick:B},null,8,["modelValue","indeterminate"])]),_:1}),m(ae,null,{default:M(()=>[m(up,{name:se(rt).fromIyyyyMMdd(se(r).date).format(),objName:"Lezione Giornaliera",onDelete:async()=>await Z()},{activator:M(({props:Ye})=>[m(ve,J({color:"error"},Ye,{ref:"deleteDailyLessonBtn"}),{default:M(()=>X[12]||(X[12]=[Pe("elimina lezione")])),_:2},1040)]),_:1},8,["name","onDelete"])]),_:1}),m(ae,null,{default:M(()=>[m(Ae,{modelValue:x.value,"onUpdate:modelValue":X[4]||(X[4]=Ye=>x.value=Ye),mandatory:"",shaped:""},{default:M(()=>[m(ve,null,{default:M(()=>[m(Te,null,{default:M(()=>X[13]||(X[13]=[Pe("mdi-format-list-bulleted")])),_:1})]),_:1}),m(ve,null,{default:M(()=>[m(Te,null,{default:M(()=>X[14]||(X[14]=[Pe("mdi-calendar-week-begin-outline")])),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1}),m(Ne,{fluid:""},{default:M(()=>[m($e,{"leave-absolute":""},{default:M(()=>[x.value==1?(be(),De(TU,{key:0,date:se(rt).fromIyyyyMMdd(se(r).date),school:a.value,modelValue:u.value,"onUpdate:modelValue":X[5]||(X[5]=Ye=>u.value=Ye),editable:"",sort:"",onEdit:de},null,8,["date","school","modelValue"])):(be(),De(Ce,{key:1,side:"end","truncate-line":"both"},{default:M(()=>[(be(!0),bt(Ee,null,xi(u.value,(Ye,Dt)=>(be(),De(Se,{key:Ye.id+se(r).id,"dot-color":S(Ye),size:"small"},{default:M(()=>[(be(),De(jbe,{school:a.value,key:Ye.id+se(r).id,item:u.value[Dt],"onUpdate:item":Qt=>u.value[Dt]=Qt,select:o.value,"onUpdate:select":X[6]||(X[6]=Qt=>o.value=Qt),onPresent:Qt=>w(Ye),onAbsent:Qt=>P(Ye,Qt),moveLesson:async Qt=>await A(Ye,Qt),onTrial:Qt=>C(Ye),onReset:Qt=>D(Ye),updateLessonTime:async Qt=>await N(Ye,Qt),onDeleteLessonItem:async()=>await ee(Ye)},null,8,["school","item","onUpdate:item","select","onPresent","onAbsent","moveLesson","onTrial","onReset","updateLessonTime","onDeleteLessonItem"]))]),_:2},1032,["dot-color"]))),128))]),_:1}))]),_:1})]),_:1}),m(it,{"model-value":g.value,class:"align-center justify-center"},{default:M(()=>[m(We,{color:"primary",size:"64",indeterminate:""})]),_:1},8,["model-value"])]),_:1})):(be(),De(Ne,{key:1,fluid:""},{default:M(()=>[m(et,{class:"mx-auto",type:"heading"}),m(et,{class:"mx-auto justify-center",type:"chip, chip, chip, chip, chip, chip, chip"}),(be(),bt(Ee,null,xi(3,Ye=>m(et,{key:Ye,class:"mx-auto justify-center mt-4","max-width":"75%",elevation:"3",type:"sentences, chip, chip, chip, chip"})),64))]),_:1}))}}}),JM=()=>{const t=new WeakSet;return(e,n)=>{if(typeof n=="object"&&n!==null){if(t.has(n))return;t.add(n)}return n}};var Hn=(t=>(t[t.ERROR=0]="ERROR",t[t.WARNING=1]="WARNING",t[t.INFO=2]="INFO",t[t.EXCEPTION=3]="EXCEPTION",t[t.PROMISE_REJECTION=4]="PROMISE_REJECTION",t[t.ALL=5]="ALL",t))(Hn||{});const Uy=class Uy{constructor(){an(this,"logs",[]);an(this,"logs2",[]);an(this,"_subscription",new b6)}static get instance(){return this._instance||(this._instance=new Uy),this._instance}get subscription(){return this._subscription}get enabled(){return Qs.getItem("debugEnabled")??!0}push(e,...n){if(!this.enabled)return;let i="";try{i=JSON.stringify(n,JM())}catch(r){i=JSON.stringify(r,JM())}const s=new Date;this.logs.push({level:e,message:i,timestamp:s}),this._subscription.next(this.logs)}clear(){this.logs.length=0,this._subscription.next(this.logs)}};an(Uy,"_instance",null);let xl=Uy;const zbe={key:0,class:"text-caption"},Wbe={key:1,class:"text-caption"},Ybe={key:2,class:"text-caption"},Gbe=kt({__name:"LogConsole",props:{bufferSize:{default:250}},setup(t){const e=t,n=G([]),i=G([]),s=G(!0),r=G(!0),a=wH("consoleOutput"),o=[{text:()=>`Totale ${n.value.length}`,icon:"mdi-format-list-bulleted",color:"",type:Hn.ALL},{text:()=>`Errori ${n.value.filter(_=>_.level==Hn.ERROR||_.level==Hn.EXCEPTION||_.level==Hn.PROMISE_REJECTION).length}`,icon:"mdi-close-octagon",color:"error",type:Hn.ERROR},{text:()=>`Warning ${n.value.filter(_=>_.level==Hn.WARNING).length}`,icon:"mdi-alert-outline",color:"warning",type:Hn.WARNING},{text:()=>`Info ${n.value.filter(_=>_.level==Hn.INFO).length}`,icon:"mdi-information-outline",color:"info",type:Hn.INFO}],l=G([]);let u;we(l,()=>{l.value.length==0||l.value.includes(Hn.ALL)?i.value=n.value:i.value=n.value.filter(_=>l.value.includes(_.level)),v()});function d(){xl.instance.clear()}async function c(){const _=i.value.map(b=>b.timestamp.toJSON()+" - "+b.message).join(`
`);navigator.clipboard.writeText(_)}function f(){s.value=!s.value}function h(){r.value=!r.value,v()}function p(_){if(l.value.includes(_))l.value=[];else{const b=[_];_==Hn.ERROR&&b.push(Hn.EXCEPTION,Hn.PROMISE_REJECTION),l.value=b}}function g(_){i.value=n.value=[..._].splice(0,e.bufferSize),v()}function v(){r.value&&setTimeout(()=>{var _,b;(b=a.value)==null||b.$el.scrollTo({top:(_=a.value)==null?void 0:_.$el.scrollHeight,behavior:"smooth"})},100)}return Tt(()=>{u=xl.instance.subscription.subscribe({next:_=>g(_)},!0)}),Us(()=>{u==null||u.unsubscribe()}),(_,b)=>{const x=j("v-btn"),k=j("v-spacer"),I=j("v-system-bar"),E=j("v-icon"),T=j("v-list-item-title"),S=j("v-list-item"),w=j("v-list"),P=j("v-col"),C=j("v-slide-x-transition"),D=j("v-card"),A=j("v-card-text"),N=j("v-row"),B=j("v-main"),z=j("v-layout");return be(),De(D,{class:"console-card"},{default:M(()=>[m(z,null,{default:M(()=>[m(I,{color:"pink-darken-2",style:{height:"35px"}},{default:M(()=>[m(x,{class:"ms-1",density:"compact",variant:"text",icon:"mdi-dots-vertical",onClick:f}),m(x,{class:"ms-1",density:"compact",variant:"text",icon:"mdi-format-vertical-align-bottom",color:r.value?"yellow":"",onClick:h},null,8,["color"]),m(x,{class:"ms-1",density:"compact",variant:"text",icon:"mdi-content-copy",onClick:c}),m(k),m(x,{class:"ms-1",density:"compact",variant:"text",icon:"mdi-delete",onClick:d})]),_:1}),m(B,null,{default:M(()=>[m(N,{class:"pa-0 pt-3"},{default:M(()=>[m(C,{"hide-on-leave":""},{default:M(()=>[s.value?(be(),De(P,{key:0,class:"my-4 border-e-thin"},{default:M(()=>[m(w,{lines:!1,density:"compact",nav:""},{default:M(()=>[(be(),bt(Ee,null,xi(o,(q,W)=>m(S,{key:W,value:q,color:"primary",onClick:K=>p(q.type)},{prepend:M(()=>[m(E,{icon:q.icon,color:q.color},null,8,["icon","color"])]),default:M(()=>[m(T,null,{default:M(()=>[Pe(at(q.text()),1)]),_:2},1024)]),_:2},1032,["value","onClick"])),64))]),_:1})]),_:1})):Wt("",!0)]),_:1}),m(P,{md:s.value?10:12},{default:M(()=>[m(A,{class:"console-output px-2",ref_key:"consoleOutput",ref:a},{default:M(()=>[(be(!0),bt(Ee,null,xi(i.value,(q,W)=>(be(),De(D,{key:W,class:"log-entry my-1 pa-1"},{default:M(()=>[q.level==se(Hn).ERROR||q.level==se(Hn).EXCEPTION||q.level==se(Hn).PROMISE_REJECTION?(be(),bt("p",zbe,[m(E,{color:"error",class:"mr-2"},{default:M(()=>b[0]||(b[0]=[Pe("mdi-close-octagon")])),_:1}),Pe(" "+at(q.message),1)])):q.level==se(Hn).WARNING?(be(),bt("p",Wbe,[m(E,{color:"warning",class:"mr-2"},{default:M(()=>b[1]||(b[1]=[Pe("mdi-alert-outline")])),_:1}),Pe(" "+at(q.message),1)])):(be(),bt("p",Ybe,[m(E,{color:"info",class:"mr-2"},{default:M(()=>b[2]||(b[2]=[Pe("mdi-information-outline")])),_:1}),Pe(" "+at(q.message),1)]))]),_:2},1024))),128))]),_:1},512)]),_:1},8,["md"])]),_:1})]),_:1})]),_:1})]),_:1})}}}),KC=(t,e)=>{const n=t.__vccOpts||t;for(const[i,s]of e)n[i]=s;return n},qbe=KC(Gbe,[["__scopeId","data-v-e81b5894"]]),Xbe=kt({__name:"DebuggerView",setup(t){const e=G(!1);return Tt(()=>{e.value=Qs.getItem("debugEnabled")??!1}),(n,i)=>{const s=j("v-col"),r=j("v-row"),a=j("v-icon"),o=j("v-btn"),l=j("v-container");return be(),De(l,{fluid:"",class:"mb-5"},{default:M(()=>[m(r,{class:"justify-center align-center mb-6"},{default:M(()=>[m(s,{cols:"auto"},{default:M(()=>[m(sp)]),_:1}),m(s,null,{default:M(()=>i[0]||(i[0]=[Me("p",{class:"text-h5 text-center"},"Log dell'applicazione",-1)])),_:1})]),_:1}),m(r,null,{default:M(()=>[e.value?(be(),De(s,{key:0},{default:M(()=>[m(qbe)]),_:1})):(be(),De(s,{key:1,class:"text-center"},{default:M(()=>[Me("p",null,[i[3]||(i[3]=Pe("La console di debug non è abilitata. Abilitala tramite le ")),m(o,{to:"settings",variant:"text"},{default:M(()=>[m(a,null,{default:M(()=>i[1]||(i[1]=[Pe("mdi-link")])),_:1}),i[2]||(i[2]=Pe(" impostazioni"))]),_:1})])]),_:1}))]),_:1})]),_:1})}}}),Kbe={key:0,class:"text-h5 font-weight-bold"},Qbe={key:1,class:"text-h5 font-weight-bold"},Jbe={key:0,class:"text-center text-body-2"},Zbe={key:1,class:"text-center text-body-2"},ewe=kt({__name:"LoginView",setup(t){const e=new URL("/teachers-agenda/assets/logo-CDaN8MiQ.png",import.meta.url).href,n=sa({lEmail:Fn().required("L'email è obbligatoria").label("Email").email(),lPassword:Fn().required("La password è obbligatoria").label("Password").min(8)}),i=sa({rName:Fn().label("Nome"),rEmail:Fn().required("L'email è obbligatoria").label("Email").email(),rPassword:Fn().required("La password è obbligatoria").label("Password").min(8),rPasswordConfirm:Fn().oneOf([z_e("rPassword")],"Le passwords devono essere uguali").required().label("Ripeti password")}),s=Hl({validationSchema:n}),r=Hl({validationSchema:i}),a=B=>({props:{"error-messages":B.errors}}),[o,l]=s.defineField("lEmail",a),[u,d]=s.defineField("lPassword",a),[c,f]=r.defineField("rName",a),[h,p]=r.defineField("rEmail",a),[g,v]=r.defineField("rPassword",a),[_,b]=r.defineField("rPasswordConfirm",a),x=G(Qs.getItem("userSettings")??!1),k=G(!1),I=G(!1),E=G(!1),T=G("login"),S=sj();we(T,()=>{s.resetForm(),r.resetForm()}),we(x,B=>{B?w():Qs.removeItem("userSettings")}),we(o,()=>{x.value&&w()});function w(){const B={name:o.value};Qs.setItem("userSettings",B)}async function P(){(await s.validate()).valid&&w7(S,o.value,u.value).catch(z=>{Ze.error("Login fallito: "+z),console.error("Failed signin",z)})}function C(){H7(S,Dce).catch(B=>{Ze.error("Login fallito: "+B),console.error("Failed signin",B)})}function D(){Ze.warn("Login via facebook non disponibile")}async function A(){if(!(await s.validateField("lEmail")).valid){Ze.warning("Inserisci l'email per effettuare il reset della password. Un link sarà inviato via email!");return}try{await y7(S,o.value),Ze.success("Controlla la tua email per effettuare il reset della password!")}catch(z){Ze.error("Reset della password fallito: "+z),console.error("Failed reset password",z)}}async function N(){if((await r.validate()).valid)try{const z=await b7(S,h.value,g.value);c.value.trim().length>0&&S7(z.user,{displayName:c.value.trim()})}catch(z){Ze.error("Registrazione fallita: "+z),console.error("Failed signup",z)}}return Tt(()=>{const B=Qs.getItem("userSettings");x.value=!!B,B&&B.name&&(o.value=B.name)}),(B,z)=>{const q=j("v-img"),W=j("v-row"),K=j("v-text-field"),Y=j("v-col"),Z=j("v-checkbox"),ee=j("v-btn"),le=j("v-divider"),de=j("v-form"),he=j("v-card-text"),re=j("v-card"),U=j("v-fab-transition"),X=j("v-container");return be(),De(X,null,{default:M(()=>[m(W,{class:"justify-center pt-5 pb-2"},{default:M(()=>[m(q,{contain:"",src:se(e),height:"50",width:"50"},null,8,["src"])]),_:1}),m(W,{class:"justify-center pb-10"},{default:M(()=>[T.value=="login"?(be(),bt("p",Kbe,"Accedi al tuo account")):(be(),bt("p",Qbe,"Crea un nuovo account"))]),_:1}),m(U,null,{default:M(()=>[T.value=="login"?(be(),De(W,{key:0,class:"justify-center pb-8"},{default:M(()=>[m(re,{"min-width":"400",elevation:"3"},{default:M(()=>[m(he,null,{default:M(()=>[m(de,{class:"ma-2"},{default:M(()=>[m(W,{class:"justify-center"},{default:M(()=>[m(Y,{class:"px-2"},{default:M(()=>[m(K,J({density:"compact",variant:"outlined",modelValue:se(o),"onUpdate:modelValue":z[0]||(z[0]=ae=>Ke(o)?o.value=ae:null)},se(l),{type:"email",label:"Email",autocomplete:"on"}),null,16,["modelValue"])]),_:1})]),_:1}),m(W,{class:"justify-center"},{default:M(()=>[m(Y,{class:"px-2"},{default:M(()=>[m(K,J({density:"compact",variant:"outlined",modelValue:se(u),"onUpdate:modelValue":z[1]||(z[1]=ae=>Ke(u)?u.value=ae:null),hint:"Almeno 8 caratteri","append-inner-icon":k.value?"mdi-eye":"mdi-eye-off"},se(d),{type:k.value?"text":"password","onClick:appendInner":z[2]||(z[2]=ae=>k.value=!k.value),counter:"",label:"Password",autocomplete:"on"}),null,16,["modelValue","append-inner-icon","type"])]),_:1})]),_:1}),m(W,{class:"justify-space-between align-center"},{default:M(()=>[m(Y,{class:"px-2"},{default:M(()=>[m(Z,{density:"compact",modelValue:x.value,"onUpdate:modelValue":z[3]||(z[3]=ae=>x.value=ae),label:"Ricordati","hide-details":""},null,8,["modelValue"])]),_:1}),m(Y,{class:"px-2"},{default:M(()=>[Me("a",{class:"text-decoration-none text-primary text-body-2 font-weight-medium cursor-pointer",onClick:A}," Password dimenticata? ")]),_:1})]),_:1}),m(W,{class:"mb-5 justify-center"},{default:M(()=>[m(Y,{class:"px-2"},{default:M(()=>[m(ee,{class:"w-100",variant:"flat",color:"blue",onClick:P},{default:M(()=>z[12]||(z[12]=[Pe("Accedi")])),_:1})]),_:1})]),_:1}),m(le,{class:"my-5"},{default:M(()=>z[13]||(z[13]=[Pe("Oppure")])),_:1}),m(W,{class:"my-1 justify-center pt-5"},{default:M(()=>[m(Y,{class:"px-2"},{default:M(()=>[m(ee,{class:"w-100 text-body-1",variant:"outlined",color:"error","prepend-icon":"mdi-google",onClick:C},{default:M(()=>z[14]||(z[14]=[Pe("Google")])),_:1})]),_:1}),m(Y,{class:"px-2"},{default:M(()=>[m(ee,{class:"w-100 text-body-1",variant:"outlined",color:"blue","prepend-icon":"mdi-facebook",onClick:D},{default:M(()=>z[15]||(z[15]=[Pe("Facebook")])),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})):(be(),De(W,{key:1,class:"justify-center pb-8"},{default:M(()=>[m(re,{"min-width":"400",elevation:"3"},{default:M(()=>[m(he,null,{default:M(()=>[m(de,{class:"ma-2"},{default:M(()=>[m(W,{class:"justify-center"},{default:M(()=>[m(Y,{class:"px-2"},{default:M(()=>[m(K,J({density:"compact",variant:"outlined",modelValue:se(c),"onUpdate:modelValue":z[4]||(z[4]=ae=>Ke(c)?c.value=ae:null)},se(f),{label:"Nome"}),null,16,["modelValue"])]),_:1})]),_:1}),m(W,{class:"justify-center"},{default:M(()=>[m(Y,{class:"px-2"},{default:M(()=>[m(K,J({density:"compact",variant:"outlined",modelValue:se(h),"onUpdate:modelValue":z[5]||(z[5]=ae=>Ke(h)?h.value=ae:null)},se(p),{type:"email",label:"Email",autocomplete:"on"}),null,16,["modelValue"])]),_:1})]),_:1}),m(W,{class:"justify-center"},{default:M(()=>[m(Y,{class:"px-2"},{default:M(()=>[m(K,J({density:"compact",variant:"outlined",modelValue:se(g),"onUpdate:modelValue":z[6]||(z[6]=ae=>Ke(g)?g.value=ae:null),hint:"Almeno 8 caratteri","append-inner-icon":I.value?"mdi-eye":"mdi-eye-off",type:I.value?"text":"password","onClick:appendInner":z[7]||(z[7]=ae=>I.value=!I.value),counter:""},se(v),{label:"Password"}),null,16,["modelValue","append-inner-icon","type"])]),_:1})]),_:1}),m(W,{class:"justify-center"},{default:M(()=>[m(Y,{class:"px-2"},{default:M(()=>[m(K,J({density:"compact",variant:"outlined",modelValue:se(_),"onUpdate:modelValue":z[8]||(z[8]=ae=>Ke(_)?_.value=ae:null),"append-inner-icon":E.value?"mdi-eye":"mdi-eye-off",type:E.value?"text":"password","onClick:appendInner":z[9]||(z[9]=ae=>E.value=!E.value),counter:""},se(b),{label:"Ripeti Password"}),null,16,["modelValue","append-inner-icon","type"])]),_:1})]),_:1}),m(W,{class:"mb-5 justify-center"},{default:M(()=>[m(Y,{class:"px-2"},{default:M(()=>[m(ee,{class:"w-100",variant:"flat",color:"blue",onClick:N},{default:M(()=>z[16]||(z[16]=[Pe("Registrati")])),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}))]),_:1}),m(W,{class:"justify-center pb-10"},{default:M(()=>[T.value=="login"?(be(),bt("div",Jbe,[z[17]||(z[17]=Pe(" Non hai un account? ")),Me("a",{class:"text-decoration-none text-primary font-weight-medium cursor-pointer",onClick:z[10]||(z[10]=ae=>T.value="register")},"Registrati")])):(be(),bt("div",Zbe,[z[18]||(z[18]=Pe(" Hai già un account? ")),Me("a",{class:"text-decoration-none text-primary font-weight-medium cursor-pointer",onClick:z[11]||(z[11]=ae=>T.value="login")},"Accedi")]))]),_:1})]),_:1})}}}),twe=kt({__name:"LevelRangeEditor",props:{initialLevelRanges:{}},emits:["close","save"],setup(t,{emit:e}){const n=t,i=e,s=G(0),r=G(""),a=G(),o=G([]);we(()=>n.initialLevelRanges,()=>l());function l(){n.initialLevelRanges&&(o.value=JSON.parse(JSON.stringify(n.initialLevelRanges)),o.value.length>0&&(a.value=o.value[0]))}function u(h,p){const g=h.levels.indexOf(p);h.levels.splice(g,1)}function d(){const h=a.value;if(h){const p=o.value.findIndex(g=>g.price==h.price);o.value.splice(p,1),a.value=o.value[0]}}function c(){const h=+s.value;if(h==null||h==null||isNaN(h)||h==0||(s.value=0,o.value.findIndex(g=>g.price==h)!=-1))return;const p=a.value={price:h,levels:[]};o.value.push(p),o.value.sort((g,v)=>g.price-v.price)}function f(h){const p=r.value.trim();p.length!=0&&(r.value="",!h.levels.includes(p)&&h.levels.push(p))}return Tt(()=>l()),(h,p)=>{const g=j("v-number-input"),v=j("v-col"),_=j("v-btn"),b=j("v-row"),x=j("v-tab"),k=j("v-tabs"),I=j("v-text-field"),E=j("v-icon"),T=j("v-list"),S=j("v-tabs-window-item"),w=j("v-tabs-window"),P=j("v-card"),C=j("v-card-text"),D=j("v-divider"),A=j("v-spacer"),N=j("v-card-actions");return be(),De(P,{"prepend-icon":"mdi-format-list-numbered",title:"Livelli"},{default:M(()=>[m(C,null,{default:M(()=>[m(b,{class:"my-3 mb-10 justify-center"},{default:M(()=>[m(v,{class:"px-2",cols:"12",md:"4"},{default:M(()=>[m(g,{"max-width":"500",modelValue:s.value,"onUpdate:modelValue":p[0]||(p[0]=B=>s.value=B),reverse:!1,controlVariant:"default",label:"Fascia di Prezzo",prefix:"€",hideInput:!1,inset:!1,min:0},null,8,["modelValue"])]),_:1}),m(v,{class:"px-2",cols:"12",md:"1"},{default:M(()=>[m(_,{onClick:c,icon:"mdi-plus",color:"success"}),m(_,{onClick:d,icon:"mdi-minus",color:"error"})]),_:1})]),_:1}),a.value?(be(),De(P,{key:0,class:"mx-5 mt-5 pa-2",elevation:"3"},{default:M(()=>[m(k,{modelValue:a.value,"onUpdate:modelValue":p[1]||(p[1]=B=>a.value=B),class:"my-2","align-tabs":"center",color:"primary","show-arrows":""},{default:M(()=>[(be(!0),bt(Ee,null,xi(o.value,B=>(be(),De(x,{key:B.price,text:B.price+" €",value:B},null,8,["text","value"]))),128))]),_:1},8,["modelValue"]),m(w,{modelValue:a.value,"onUpdate:modelValue":p[3]||(p[3]=B=>a.value=B)},{default:M(()=>[(be(!0),bt(Ee,null,xi(o.value,B=>(be(),De(S,{class:"mx-5 my-5",key:B.price,value:B},{default:M(()=>[m(I,{modelValue:r.value,"onUpdate:modelValue":p[2]||(p[2]=z=>r.value=z),label:"Nome Livello","append-icon":"mdi-plus",type:"text","onClick:append":z=>f(B)},null,8,["modelValue","onClick:append"]),m(T,{items:B.levels},{append:M(({item:z})=>[m(E,{size:"small",onClick:q=>u(B,z)},{default:M(()=>p[6]||(p[6]=[Pe(" mdi-delete ")])),_:2},1032,["onClick"])]),_:2},1032,["items"])]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])]),_:1})):Wt("",!0)]),_:1}),m(D),m(N,null,{default:M(()=>[m(A),m(_,{text:"Annulla",variant:"plain",onClick:p[4]||(p[4]=B=>i("close"))}),m(_,{color:"primary",text:"Salva Livelli",variant:"tonal",onClick:p[5]||(p[5]=B=>i("save",o.value))})]),_:1})]),_:1})}}}),nwe=kt({__name:"ManagerEditor",props:{initialManagerOptions:{}},emits:["close","save"],setup(t,{emit:e}){const n=t,i=e,s=sa({totalStudents:lm().required("Il Numero Totale degli Studenti è obbligatorio").positive().label("Numero Totale Studenti"),quotePerStudent:lm().required("La Quota per Studente è obbligatoria").positive().label("Quota per Studente"),cashFund:lm().positive().label("Fondo Cassa").nullable().optional()}),{defineField:r,handleSubmit:a}=Hl({validationSchema:s}),o=v=>({props:{"error-messages":v.errors}}),[l,u]=r("totalStudents",o),[d,c]=r("quotePerStudent",o),[f,h]=r("cashFund",o),p=a(async v=>{i("save",{...v})},v=>{Ze.warn("Ci sono alcuni errori! Inserisci correttamente i dati"),console.log(v)});we(()=>n.initialManagerOptions,()=>g(),{immediate:!0});function g(){n.initialManagerOptions&&(l.value=n.initialManagerOptions.totalStudents,d.value=n.initialManagerOptions.quotePerStudent,f.value=n.initialManagerOptions.cashFund)}return(v,_)=>{const b=j("v-number-input"),x=j("v-col"),k=j("v-row"),I=j("v-card-text"),E=j("v-divider"),T=j("v-spacer"),S=j("v-btn"),w=j("v-card-actions"),P=j("v-card");return be(),De(P,{"prepend-icon":"mdi-account",title:"Gestione Scuola"},{default:M(()=>[m(I,null,{default:M(()=>[m(k,{class:"my-3 mb-10 justify-center"},{default:M(()=>[m(x,{cols:"12",md:"6"},{default:M(()=>[m(b,J({modelValue:se(l),"onUpdate:modelValue":_[0]||(_[0]=C=>Ke(l)?l.value=C:null)},se(u),{reverse:!1,controlVariant:"default",label:"Numero Totale Studenti",hideInput:!1,inset:!1,min:0}),null,16,["modelValue"])]),_:1}),m(x,{cols:"12",md:"6"},{default:M(()=>[m(b,J({modelValue:se(d),"onUpdate:modelValue":_[1]||(_[1]=C=>Ke(d)?d.value=C:null)},se(c),{reverse:!1,controlVariant:"default",label:"Quota per Studente",prefix:"€",hideInput:!1,inset:!1,min:0}),null,16,["modelValue"])]),_:1}),m(x,{cols:"12",md:"6"},{default:M(()=>[m(b,J({modelValue:se(f),"onUpdate:modelValue":_[2]||(_[2]=C=>Ke(f)?f.value=C:null)},se(h),{reverse:!1,controlVariant:"default",label:"Fondo Cassa",hideInput:!1,prefix:"€",inset:!1,min:0}),null,16,["modelValue"])]),_:1})]),_:1})]),_:1}),m(E),m(w,null,{default:M(()=>[m(T),m(S,{text:"Annulla",variant:"plain",onClick:_[3]||(_[3]=C=>i("close"))}),m(S,{color:"primary",text:"Salva Gestione",variant:"tonal",onClick:se(p)},null,8,["onClick"])]),_:1})]),_:1})}}}),CU="#808080",iwe={class:"v-input--center-affix v-input--error"},swe={class:"v-input__details"},rwe={class:"v-messages__message v-messages",role:"alert"},awe={class:"v-input--center-affix v-input--error"},owe={class:"v-input__details"},lwe={class:"v-messages__message v-messages",role:"alert"},EU=kt({__name:"SchoolEditor",props:{initialSchool:{},edit:{type:Boolean}},emits:["close","save"],setup(t,{emit:e}){const n=t,i=e,s=G(!1),r=G(!1),a=G(!1),o=G(!1),l=[{key:Gm.ABSENT_AND_PRESENT,value:"Pagamento automatico"},{key:Gm.ONLY_PRESENT,value:"Pagamento a presenza"}],u=[{key:Fd.WHOLE,value:"Prezzo intero"},{key:Fd.HALF,value:"Metà prezzo"},{key:Fd.NOTHING,value:"Nessun pagamento"}],d=sa({name:Fn().required("Il Nome è obbligatorio").min(1).label("Nome"),city:Fn().label("Città").nullable().optional(),email:Fn().label("Email").nullable().optional(),phoneNumber:Fn().label("Numero di Telefono").nullable().optional(),managed:ly().label("Gestione"),salaryStrategy:Fn().required("L'Opzione di pagamento lezioni è obbligatorio").label("Opzione di Pagamento"),trialLessonPaymentStrategy:Fn().required("L'Opzione di pagamento della lezione di prova è obbligatorio").label("Opzione di pagamento della Lezione di Prova"),managerOptions:sa().test({test:ee=>T.value?ee!==void 0:!0,message:"Configurare la Gestione della Scuola correttamente",exclusive:!1,name:"managedProp"}).label("Opzioni Gestione"),levelRanges:$C().of(sa()).test({test:ee=>!!ee&&ee.length!=0,message:"I livelli sono obbligatori; configurare correttamente i Livelli",exclusive:!1,name:"level"}).label("Livelli"),color:Fn().label("Color").nullable().optional()}),{defineField:c,handleSubmit:f}=Hl({validationSchema:d}),h=ee=>({props:{"error-messages":ee.errors}}),[p,g]=c("name",h),[v,_]=c("city",h),[b,x]=c("email",h),[k,I]=c("phoneNumber",h),[E]=c("color",h),[T,S]=c("managed",h),[w,P]=c("salaryStrategy",h),[C,D]=c("trialLessonPaymentStrategy",h),[A,N]=c("managerOptions",h),[B,z]=c("levelRanges",h),q=f(async ee=>{Z(ee)},ee=>{Ze.warn("Ci sono alcuni errori! Inserisci correttamente i dati"),console.log(ee)});we(()=>n.initialSchool,()=>W());function W(){if(n.initialSchool){const ee=JSON.parse(JSON.stringify(n.initialSchool));p.value=ee.name,v.value=ee.city??"",b.value=ee.email??"",k.value=ee.phoneNumber??"",E.value=ee.color??CU,w.value=ee.salaryStrategy,C.value=ee.trialLessonPaymentStrategy,T.value=ee.managed,A.value=ee.managerOptions,B.value=ee.levelRanges}}function K(ee){console.log(ee,JSON.stringify(ee)),A.value=ee,r.value=!1}function Y(ee){console.log(ee,JSON.stringify(ee)),B.value=ee,s.value=!1}async function Z(ee){var de,he;o.value=!0;const le={name:ee.name,salaryStrategy:ee.salaryStrategy,trialLessonPaymentStrategy:ee.trialLessonPaymentStrategy,managed:T.value??!1,levelRanges:ee.levelRanges,createdAt:n.edit?(de=n.initialSchool)==null?void 0:de.createdAt:At.now(),updatedAt:At.now()};ee.city&&(le.city=ee.city),ee.email&&(le.email=ee.email),ee.phoneNumber&&(le.phoneNumber=ee.phoneNumber),ee.color&&ee.color.trim().length!=0&&(le.color=ee.color),T.value&&(le.managerOptions=A.value);try{n.edit&&((he=n.initialSchool)==null?void 0:he.id)!=null?(await Lr.instance.save(le,n.initialSchool.id),Ze.success("Scuola Aggiornata"),n.initialSchool.salaryStrategy!=null&&n.initialSchool.salaryStrategy!=le.salaryStrategy&&Ze.warning("E' stata aggiornata l'opzione di pagamento, tuttavia TUTTE le lezioni giornaliere create fino ad ora non saranno aggiornate in automatico!",{autoClose:1e4})):(await Lr.instance.save(le),Ze.success("Scuola Creata")),i("save",le)}catch(re){i("save"),Ze.error("Errore durante il salvataggio"),console.error("Error adding document (schools): ",re)}finally{o.value=!1}}return Tt(()=>W()),(ee,le)=>{const de=j("v-text-field"),he=j("v-col"),re=j("v-color-picker"),U=j("v-card-text"),X=j("v-btn"),ae=j("v-card-actions"),pe=j("v-card"),ve=j("v-dialog"),F=j("v-select"),L=j("v-checkbox"),$=j("v-row"),ne=j("v-divider"),ue=j("v-spacer");return be(),De(pe,{"prepend-icon":"mdi-school",title:"Scuola"},{default:M(()=>[m(U,null,{default:M(()=>[m($,{dense:""},{default:M(()=>[m(he,{cols:"12",md:"6"},{default:M(()=>[m(de,J({modelValue:se(p),"onUpdate:modelValue":le[0]||(le[0]=ie=>Ke(p)?p.value=ie:null)},se(g),{label:"Nome",required:""}),null,16,["modelValue"])]),_:1}),m(he,{cols:"12",md:"6"},{default:M(()=>[m(de,J({modelValue:se(v),"onUpdate:modelValue":le[1]||(le[1]=ie=>Ke(v)?v.value=ie:null)},se(_),{label:"Città"}),null,16,["modelValue"])]),_:1}),m(he,{cols:"12",md:"6"},{default:M(()=>[m(de,J({modelValue:se(b),"onUpdate:modelValue":le[2]||(le[2]=ie=>Ke(b)?b.value=ie:null)},se(x),{label:"Email"}),null,16,["modelValue"])]),_:1}),m(he,{cols:"12",md:"6"},{default:M(()=>[m(de,J({modelValue:se(k),"onUpdate:modelValue":le[3]||(le[3]=ie=>Ke(k)?k.value=ie:null)},se(I),{label:"Numero di Telefono"}),null,16,["modelValue"])]),_:1}),m(he,{cols:"12",md:"6"},{default:M(()=>[m(ve,{modelValue:a.value,"onUpdate:modelValue":le[6]||(le[6]=ie=>a.value=ie)},{activator:M(({props:ie})=>[m(de,J({label:"Colore"},ie,{"bg-color":se(E),modelValue:se(E),"onUpdate:modelValue":le[4]||(le[4]=Te=>Ke(E)?E.value=Te:null)}),null,16,["bg-color","modelValue"])]),default:M(({isActive:ie})=>[m(pe,{class:"mx-auto","max-width":"400",rounded:"lg",border:""},{default:M(()=>[m(U,null,{default:M(()=>[m(re,{modelValue:se(E),"onUpdate:modelValue":le[5]||(le[5]=Te=>Ke(E)?E.value=Te:null),elevation:"0"},null,8,["modelValue"])]),_:1}),m(ae,null,{default:M(()=>[m(X,{onClick:Te=>ie.value=!1},{default:M(()=>le[17]||(le[17]=[Pe("Chiudi")])),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),_:1},8,["modelValue"])]),_:1}),m(he,{cols:"12",md:"6"},{default:M(()=>[m(F,J({modelValue:se(w),"onUpdate:modelValue":le[7]||(le[7]=ie=>Ke(w)?w.value=ie:null)},se(P),{items:l,"item-title":"value","item-value":"key",label:"Opzione di Pagamento",required:""}),null,16,["modelValue"])]),_:1}),m(he,{cols:"12",md:"6"},{default:M(()=>[m(F,J({modelValue:se(C),"onUpdate:modelValue":le[8]||(le[8]=ie=>Ke(C)?C.value=ie:null)},se(D),{items:u,"item-title":"value","item-value":"key",label:"Opzione di pagamento della Lezione di Prova",required:""}),null,16,["modelValue"])]),_:1}),m(he,{cols:"12",md:"12"},{default:M(()=>[m($,{"justify-center":""},{default:M(()=>[m(he,{class:"align-self-center"},{default:M(()=>[m(L,J({modelValue:se(T),"onUpdate:modelValue":le[9]||(le[9]=ie=>Ke(T)?T.value=ie:null)},se(S),{label:"Gestione"}),null,16,["modelValue"])]),_:1}),m(he,{class:"align-self-center"},{default:M(()=>[se(T)?(be(),De(ve,{key:0,modelValue:r.value,"onUpdate:modelValue":le[12]||(le[12]=ie=>r.value=ie),fullscreen:""},{activator:M(({props:ie})=>{var Te;return[Me("div",iwe,[m(X,J({text:"Gestione"},ie),null,16),Me("div",swe,[Me("div",rwe,[Me("span",null,at((Te=se(N)["error-messages"])==null?void 0:Te[0]),1)])])])]}),default:M(()=>[m(nwe,{initialManagerOptions:se(A),onClose:le[10]||(le[10]=ie=>r.value=!1),onSave:le[11]||(le[11]=ie=>K(ie))},null,8,["initialManagerOptions"])]),_:1},8,["modelValue"])):Wt("",!0)]),_:1})]),_:1})]),_:1}),m(he,{cols:"12",md:"6"},{default:M(()=>[m(ve,{modelValue:s.value,"onUpdate:modelValue":le[15]||(le[15]=ie=>s.value=ie),fullscreen:""},{activator:M(({props:ie})=>{var Te;return[Me("div",awe,[m(X,J({text:"Gestisci Livelli"},ie),null,16),Me("div",owe,[Me("div",lwe,[Me("span",null,at((Te=se(z)["error-messages"])==null?void 0:Te[0]),1)])])])]}),default:M(()=>[m(twe,{initialLevelRanges:se(B),onClose:le[13]||(le[13]=ie=>s.value=!1),onSave:le[14]||(le[14]=ie=>Y(ie))},null,8,["initialLevelRanges"])]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1}),m(ne),m(ae,null,{default:M(()=>[m(ue),m(X,{text:"Chiudi",variant:"plain",onClick:le[16]||(le[16]=ie=>i("close"))}),m(X,{color:"primary",loading:o.value,disabled:o.value,text:ee.edit?"Salva Modifiche":"Crea",variant:"tonal",onClick:se(q)},null,8,["loading","disabled","text","onClick"])]),_:1})]),_:1})}}}),Hy=class Hy{static get instance(){return this._instance||(this._instance=new Hy),this._instance}async deleteById(e){const n=FA(MS()),i=await Lr.instance.getDoc(e);n.delete(i.ref),(await this.getSchoolRelations(e)).forEach(s=>n.delete(s)),await n.commit()}async delete(e){const n=FA(MS()),i=e.id;n.delete(e),(await this.getSchoolRelations(i)).forEach(s=>n.delete(s)),await n.commit()}async getSchoolRelations(e){const n=[];return(await Ys.instance.getAllDocs(Wn(Ln("schoolId"),"==",e))).forEach(o=>n.push(o.ref)),(await ia.instance.getAllDocs(Wn(Ln("schoolId"),"==",e))).forEach(o=>n.push(o.ref)),(await Ot.instance.getAllDocs(Wn(Ln("schoolId"),"==",e))).forEach(o=>n.push(o.ref)),(await po.instance.getAllDocs(Wn(Ln("schoolId"),"==",e))).forEach(o=>n.push(o.ref)),n}async getSchoolLessons(e,n){const i=n instanceof Date?rt.fromDate(n).toIyyyyMMdd():n,s=await bi.instance.getDailyLessonOfSchoolFromDate(e,i,"desc"),r=await Po.instance.getWeeklyLessonOfSchool(e);return{dailyLessons:s,weeklyLessons:r,schoolId:e}}async getTodayLessons(){const e=[],n=rt.today(),i=n.toIyyyyMMdd(),s=n.toDate(),r=await Lr.instance.getAll();for await(const a of r){const o=await this.getSchoolLessons(a.id,s),l=o.dailyLessons.find(u=>u.date==i)??o.weeklyLessons.find(u=>Po.instance.isValid(u,i));l&&e.push({school:a,lesson:l})}return e}};an(Hy,"_instance",null);let lg=Hy;const uwe={key:1,class:"text-grey text-caption align-self-center"},ZM=kt({__name:"WeekLessonEditor",props:{school:{default:()=>({id:"1"})},edit:{type:Boolean},initialWeekLesson:{}},emits:["close","save"],setup(t,{emit:e}){const n=e,i=t,s=[];let r;const a=G([]),o=G([]),l=G([]),u=G([]),d=G(!1),c=G(!1),f=G(!1),h=sa({dayOfWeek:Fn().required("Il Giorno è obbligatorio").label("Giorno"),from:Il().required("La Data di Inizio delle lezioni settimanali è obbligatoria").label("Dal"),to:Il().required("La Data di Fine delle lezioni settimanali è obbligatoria").label("Al"),excludeDates:$C().of(Il()).label("Giorni da Escludere").nullable().optional(),startingTime:Fn().required("L'Orario della prima Lezione è obbligatorio").label("Orario della prima Lezione")}),{defineField:p,handleSubmit:g}=Hl({validationSchema:h}),v=de=>({props:{"error-messages":de.errors}}),[_,b]=p("dayOfWeek",v),[x,k]=p("from",v),[I,E]=p("to",v),[T,S]=p("excludeDates",v),[w,P]=p("startingTime",v);let C=!1;const D=G([]),A=g(async de=>{K()},de=>{Ze.warn("Ci sono alcuni errori! Inserisci correttamente i dati"),console.log(de)});we(()=>i.initialWeekLesson,()=>q()),we(_,()=>W()),we(x,()=>W()),we(I,()=>W()),we(u,()=>N()),we(w,()=>{B(),C=!1}),we(_,async()=>await le()),we(D,()=>z(),{deep:!0});function N(){var de;for(const he of u.value)if(a.value.findIndex(U=>U.studentId===he.id)===-1){const U=a.value.reduce((pe,ve)=>ve.endTime>pe?ve.endTime:pe,((de=$t.fromHHMM(w.value))==null?void 0:de.getTotalMinutes())??0),X=he.minutesLessonDuration||0,ae=U+X*60;a.value.push({lessonId:Bd(),studentId:he.id,startTime:U,endTime:ae})}for(const he of[...a.value])if(u.value.findIndex(U=>U.id==he.studentId)==-1){const U=a.value.indexOf(he);a.value.splice(U,1)}B()}function B(){var he;if(!C&&a.value.length>0){a.value.sort((X,ae)=>X.startTime-ae.startTime);const U=(((he=$t.fromHHMM(w.value))==null?void 0:he.getTotalMinutes())??0)*60-a.value[0].startTime;a.value.forEach(X=>{X.startTime+=U,X.endTime+=U})}const de=rt.today();D.value=a.value.map(re=>{const U=Y(re.studentId);return{id:re.lessonId,start:de.toIyyyyMMdd("-",1)+" "+$t.fromITime(re.startTime).format(),end:de.toIyyyyMMdd("-",1)+" "+$t.fromITime(re.endTime).format(),title:`${Z(re.studentId)} - ${ee(re.studentId)}`,data:{...re,...U}}})}function z(){a.value=D.value.map(de=>{const he=de.start.split(" ")[1],re=de.end.split(" ")[1];return{lessonId:de.data.lessonId,startTime:$t.fromHHMM(he).toITime(),endTime:$t.fromHHMM(re).toITime(),studentId:de.data.studentId}})}function q(){if(i.initialWeekLesson){const de=JSON.parse(JSON.stringify(i.initialWeekLesson));_.value=Vs[de.dayOfWeek],x.value=rt.fromIyyyyMMdd(de.from).toDate(),I.value=rt.fromIyyyyMMdd(de.to).toDate(),T.value=de.exclude.map(re=>rt.fromIyyyyMMdd(re).toDate()),a.value=de.schedule;const he=a.value.map(re=>re.studentId);if(u.value=l.value.filter(re=>he.includes(re.id)),a.value.length>0){C=!0;const re=a.value[0].startTime;w.value=$t.fromITime(re).format()}}}function W(){if(_.value===void 0||x.value===void 0||I.value===void 0)return;o.value=[];const de=Vs.indexOf(_.value);let he=new Date(x.value);for(;he<=I.value;){if(he.getDay()===de){const re=new Date(he);o.value.push({name:ch(re),value:re})}he.setDate(he.getDate()+1)}}async function K(de){var re,U,X;c.value=!0;const he={schoolId:i.school.id,dayOfWeek:Vs.indexOf(_.value),from:rt.fromDate(x.value).toIyyyyMMdd(),to:rt.fromDate(I.value).toIyyyyMMdd(),exclude:((re=T.value)==null?void 0:re.map(ae=>rt.fromDate(ae).toIyyyyMMdd()))??[],schedule:a.value.sort((ae,pe)=>ae.startTime-pe.startTime),createdAt:i.edit?(U=i.initialWeekLesson)==null?void 0:U.createdAt:At.now(),updatedAt:At.now()};try{i.edit&&((X=i.initialWeekLesson)==null?void 0:X.id)!=null?(await ia.instance.save(he,i.initialWeekLesson.id),Ze.success("Lezione Settimanale Aggiornata")):(await ia.instance.save(he),Ze.success("Lezione Settimanale Creata")),n("save",he)}catch(ae){n("save"),Ze.error("Errore durante il salvataggio"),console.error("Error adding document (schools): ",ae)}finally{c.value=!1}}function Y(de){return l.value.find(he=>he.id==de)}function Z(de){let he;return typeof de=="string"?he=Y(de):he=de,`${he==null?void 0:he.name} ${he==null?void 0:he.surname}`}function ee(de){let he;return typeof de=="string"?he=Y(de):he=de,Vs[(he==null?void 0:he.lessonDay)??0]}async function le(){r==null||r.unsubscribe(),f.value=!0;const de=new Promise((he,re)=>{r=_r.instance.observeStudentsOfSchool(i.school.id).subscribe({next:U=>{l.value=U,f.value=!1,he()},error:U=>{f.value=!1,re(U)}})});s.push(r),await de}return Us(()=>{s.forEach(de=>de.unsubscribe())}),Tt(async()=>{await le(),q()}),(de,he)=>{const re=j("v-select"),U=j("v-col"),X=j("v-row"),ae=j("v-date-input"),pe=j("v-chip"),ve=j("v-time-picker"),F=j("v-dialog"),L=j("v-text-field"),$=j("v-form"),ne=j("v-card-text"),ue=j("v-spacer"),ie=j("v-btn"),Te=j("v-card-actions"),Ae=j("v-card");return be(),De(Ae,{title:"Lezione Settimanale"},{default:M(()=>[m(ne,null,{default:M(()=>[m($,{class:"ma-2"},{default:M(()=>[m(X,{class:"my-1 justify-center"},{default:M(()=>[m(U,{class:"px-2"},{default:M(()=>[m(re,J({modelValue:se(_),"onUpdate:modelValue":he[0]||(he[0]=Se=>Ke(_)?_.value=Se:null)},se(b),{items:se(Vs),label:"Giorno",required:""}),null,16,["modelValue","items"])]),_:1})]),_:1}),m(X,{class:"my-1 justify-center"},{default:M(()=>[m(U,{class:"px-2",cols:"12",md:"4"},{default:M(()=>[m(ae,J({max:se(I),modelValue:se(x),"onUpdate:modelValue":he[1]||(he[1]=Se=>Ke(x)?x.value=Se:null)},se(k),{label:"Dal",inputmode:"none"}),null,16,["max","modelValue"])]),_:1}),m(U,{class:"px-2",cols:"12",md:"4"},{default:M(()=>[m(ae,J({min:se(x),modelValue:se(I),"onUpdate:modelValue":he[2]||(he[2]=Se=>Ke(I)?I.value=Se:null)},se(E),{label:"Al",inputmode:"none"}),null,16,["min","modelValue"])]),_:1}),m(U,{class:"px-2",cols:"12",md:"4"},{default:M(()=>[m(re,J({modelValue:se(T),"onUpdate:modelValue":he[3]||(he[3]=Se=>Ke(T)?T.value=Se:null)},se(S),{items:o.value,label:"Giorni da Escludere",multiple:"","item-title":"name","item-value":"value","no-data-text":"Nessuna Data Disponibile",clearable:""}),{selection:M(({item:Se,index:Ce})=>[Ce<2?(be(),De(pe,{key:0},{default:M(()=>[Me("span",null,at(Se.title),1)]),_:2},1024)):Wt("",!0),Ce===2?(be(),bt("span",uwe," (+"+at(se(T).length-2)+" others) ",1)):Wt("",!0)]),_:1},16,["modelValue","items"])]),_:1})]),_:1}),m(X,{class:"my-1 justify-center"},{default:M(()=>[m(U,{class:"px-2",cols:"12",md:"6"},{default:M(()=>[m(L,J({modelValue:se(w),"onUpdate:modelValue":he[6]||(he[6]=Se=>Ke(w)?w.value=Se:null)},se(P),{active:d.value,focused:d.value,inputmode:"none",label:"Orario della prima Lezione","prepend-icon":"mdi-clock-time-four-outline",readonly:""}),{default:M(()=>[m(F,{modelValue:d.value,"onUpdate:modelValue":he[5]||(he[5]=Se=>d.value=Se),activator:"parent",width:"auto"},{default:M(()=>[d.value?(be(),De(ve,{key:0,modelValue:se(w),"onUpdate:modelValue":he[4]||(he[4]=Se=>Ke(w)?w.value=Se:null),format:"24hr"},null,8,["modelValue"])):Wt("",!0)]),_:1},8,["modelValue"])]),_:1},16,["modelValue","active","focused"])]),_:1}),m(U,{class:"px-2",cols:"12",md:"6"},{default:M(()=>[m(PU,{modelValue:u.value,"onUpdate:modelValue":he[7]||(he[7]=Se=>u.value=Se),"all-students":l.value},null,8,["modelValue","all-students"])]),_:1})]),_:1})]),_:1}),m(TU,{modelValue:D.value,"onUpdate:modelValue":he[8]||(he[8]=Se=>D.value=Se),editable:"",school:de.school},null,8,["modelValue","school"])]),_:1}),m(Te,null,{default:M(()=>[m(ue),m(ie,{text:"Chiudi",onClick:he[9]||(he[9]=Se=>n("close"))}),m(ie,{text:"Salva",color:"primary",onClick:se(A),loading:c.value},null,8,["onClick","loading"])]),_:1})]),_:1})}}}),cwe={key:1},dwe=kt({__name:"CalendarLessonEditor",props:{school:{}},emits:["close"],setup(t,{emit:e}){const n=t,i=e,s=[],r=G([]),a=G(!1),o=G(!1),l=G([]),u=G(!1);async function d(p){if(!p)return!1;try{return await ia.instance.delete(p.id),!0}catch{return!1}}async function c(){a.value=!0;const p=Po.instance.observeWeekLessonOfSchool(n.school.id).subscribe({next:g=>{r.value=g,a.value=!1},error:g=>a.value=!1});s.push(p)}async function f(){o.value=!0;const p=_r.instance.observeStudentsOfSchool(n.school.id).subscribe({next:g=>{l.value=g,o.value=!1},error:g=>o.value=!1});s.push(p)}function h(p){const g=l.value.find(v=>v.id==p);return`${g==null?void 0:g.name} ${g==null?void 0:g.surname}`}return Tt(async()=>{await f(),await c()}),Us(()=>{s.forEach(p=>p.unsubscribe())}),(p,g)=>{const v=j("v-btn"),_=j("v-dialog"),b=j("v-col"),x=j("v-row"),k=j("v-expansion-panel-title"),I=j("v-list-item"),E=j("v-list"),T=j("v-expansion-panel-text"),S=j("v-expansion-panel"),w=j("v-expansion-panels"),P=j("v-card-text"),C=j("v-spacer"),D=j("v-card-actions"),A=j("v-card");return be(),De(A,{title:"Calendario",loading:a.value||o.value},{append:M(()=>[m(_,{modelValue:u.value,"onUpdate:modelValue":g[2]||(g[2]=N=>u.value=N),transition:"dialog-bottom-transition",fullscreen:""},{activator:M(({props:N})=>[m(v,J({icon:"mdi-plus"},N,{variant:"text"}),null,16)]),default:M(()=>[m(ZM,{school:p.school,onClose:g[0]||(g[0]=N=>u.value=!1),onSave:g[1]||(g[1]=N=>N?u.value=!1:null)},null,8,["school"])]),_:1},8,["modelValue"])]),default:M(()=>[m(P,null,{default:M(()=>[m(w,null,{default:M(()=>[(be(!0),bt(Ee,null,xi(r.value,N=>(be(),De(S,{key:N.id},{default:M(()=>[m(k,null,{default:M(()=>[m(x,{"no-gutters":""},{default:M(()=>[m(b,{class:"d-flex justify-start",cols:"5"},{default:M(()=>[Me("span",null,[g[5]||(g[5]=Pe("Tutti i ")),Me("b",null,at(se(Vs)[N.dayOfWeek]),1)])]),_:2},1024),m(b,{class:"text-grey",cols:"5"},{default:M(()=>[Pe(" Dal "+at(se(rt).fromIyyyyMMdd(N.from).format())+" al "+at(se(rt).fromIyyyyMMdd(N.to).format()),1)]),_:2},1024),m(b,{cols:"1"},{default:M(()=>[m(_,{transition:"dialog-bottom-transition",fullscreen:""},{activator:M(({props:B})=>[m(v,J({icon:"mdi-pencil",variant:"text",onClick:g[3]||(g[3]=Ju(z=>console.log("edit"),["stop"])),ref_for:!0},B),null,16)]),default:M(({isActive:B})=>[m(ZM,{school:p.school,initialWeekLesson:N,edit:"",onClose:z=>B.value=!1,onSave:z=>z?B.value=!1:null},null,8,["school","initialWeekLesson","onClose","onSave"])]),_:2},1024)]),_:2},1024),m(b,{cols:"1"},{default:M(()=>[m(up,{name:"Tutti i "+se(Vs)[N.dayOfWeek],objName:"Lezione Programmata",onDelete:async()=>await d(N)},{activator:M(({props:B})=>[m(v,J({icon:"mdi-delete",variant:"text",ref_for:!0},B),null,16)]),_:2},1032,["name","onDelete"])]),_:2},1024)]),_:2},1024)]),_:2},1024),m(T,null,{default:M(()=>[N.schedule.length>0?(be(),De(E,{key:0},{default:M(()=>[(be(!0),bt(Ee,null,xi(N.schedule,B=>(be(),De(I,{key:B.studentId,value:B,color:"primary"},{prepend:M(()=>[Me("p",null,[Me("b",null,at(se($t).fromITime(B.startTime).format())+" - "+at(se($t).fromITime(B.endTime).format()),1),g[6]||(g[6]=Me("span",null," - ",-1)),Me("i",null,at(h(B.studentId)),1)])]),_:2},1032,["value"]))),128))]),_:2},1024)):(be(),bt("span",cwe,"Nessuna lezione programmata"))]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1}),m(D,null,{default:M(()=>[m(C),m(v,{text:"Chiudi",onClick:g[4]||(g[4]=N=>i("close"))})]),_:1})]),_:1},8,["loading"])}}}),hwe=kt({__name:"LessonFilter",props:{modelValue:{default:[]},modelModifiers:{}},emits:Dl(["close"],["update:modelValue"]),setup(t,{emit:e}){const n=Al(t,"modelValue"),i=e,s=G([]),r=O(()=>s.value.length===Nv.length),a=O(()=>s.value.length>0);function o(c){return{title:c.name,value:c.type,color:c.color,icon:c.icon}}function l(){r.value?s.value=[]:s.value=Nv.slice()}function u(){s.value=[...n.value]}function d(){n.value=[...s.value],i("close")}return Tt(()=>u()),(c,f)=>{const h=j("v-icon"),p=j("v-checkbox-btn"),g=j("v-list-item"),v=j("v-divider"),_=j("v-select"),b=j("v-col"),x=j("v-row"),k=j("v-card-text"),I=j("v-spacer"),E=j("v-btn"),T=j("v-card-actions"),S=j("v-card");return be(),De(S,{class:"mx-auto","min-width":"300px"},{default:M(()=>[m(k,null,{default:M(()=>[m(x,null,{default:M(()=>[m(b,null,{default:M(()=>[m(_,{modelValue:s.value,"onUpdate:modelValue":f[0]||(f[0]=w=>s.value=w),items:se(Nv),"return-object":"","item-props":o,label:"Filtri",multiple:"",chips:""},{chip:M(({item:w})=>[m(h,{color:w.props.color},{default:M(()=>[Pe(at(w.props.icon),1)]),_:2},1032,["color"])]),"prepend-item":M(()=>[m(g,{title:"Seleziona Tutti",onClick:l},{prepend:M(()=>[m(p,{color:a.value?"indigo-darken-4":void 0,indeterminate:a.value&&!r.value,"model-value":r.value},null,8,["color","indeterminate","model-value"])]),_:1}),m(v,{class:"mt-2"})]),_:1},8,["modelValue","items"])]),_:1})]),_:1})]),_:1}),m(T,null,{default:M(()=>[m(I),m(E,{onClick:u},{default:M(()=>f[1]||(f[1]=[Pe("Reset")])),_:1}),m(E,{onClick:d,color:"primary"},{default:M(()=>f[2]||(f[2]=[Pe("Applica")])),_:1})]),_:1})]),_:1})}}}),fwe=kt({__name:"LessonView",props:{school:{}},setup(t){const e=Oc(),n=Fr(),i=t,s=[],r=G([]),a=G(),o=G(!1),l=G(!1),u=G(!1),d=G(!1),c=G([Nv[2]]);let f;const h=O(()=>i.school==null||o.value||l.value||u.value);we(i.school,()=>v()),we(c,()=>v(!1));function p(_){return _.next?"primary":_.pending?"warning":_.recovery?"info":"grey-lighten-1"}async function g(_){d.value=!0;const b=await bi.instance.getOrCreateDailyLessonId(i.school.id,_);d.value=!1,e.push(`/lesson/${b}`)}async function v(_=!0){u.value=!0;const b=new Date(new Date().toDateString()),x=n.addMonths(b,-12);(!f||_)&&(f=await lg.instance.getSchoolLessons(i.school.id,x)),r.value=await cy.instance.getGroupedLessons(f,c.value),u.value=!1}return Tt(async()=>{await v()}),Us(()=>{s.forEach(_=>_==null?void 0:_())}),(_,b)=>{const x=j("v-btn"),k=j("v-date-picker"),I=j("v-col"),E=j("v-row"),T=j("v-card-text"),S=j("v-spacer"),w=j("v-card-actions"),P=j("v-card"),C=j("v-dialog"),D=j("v-list-subheader"),A=j("v-icon"),N=j("v-avatar"),B=j("v-list-item"),z=j("v-list");return be(),De(P,{title:"Lezioni",elevation:"3",loading:h.value},{append:M(()=>[m(C,{transition:"dialog-bottom-transition",class:"justify-center"},{activator:M(({props:q})=>[m(x,J({icon:"mdi-plus-box-outline",variant:"text",disabled:!_.school},q),null,16,["disabled"])]),default:M(({isActive:q})=>[m(P,{class:"mx-auto","min-width":"400px"},{default:M(()=>[m(T,null,{default:M(()=>[m(E,{class:"justify-center"},{default:M(()=>[m(I,{cols:"auto"},{default:M(()=>[m(k,{modelValue:a.value,"onUpdate:modelValue":b[0]||(b[0]=W=>a.value=W)},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),m(w,null,{default:M(()=>[m(S),m(x,{text:"Chiudi",onClick:W=>q.value=!1},null,8,["onClick"]),m(x,{text:"Ok",color:"primary",onClick:b[1]||(b[1]=W=>g(a.value)),disabled:!a.value,loading:d.value},null,8,["disabled","loading"])]),_:2},1024)]),_:2},1024)]),_:1}),m(C,{transition:"dialog-bottom-transition",fullscreen:""},{activator:M(({props:q})=>[m(x,J({icon:"mdi-calendar-edit",variant:"text"},q,{disabled:!_.school}),null,16,["disabled"])]),default:M(({isActive:q})=>[m(dwe,{school:_.school,onClose:W=>{q.value=!1,v()}},null,8,["school","onClose"])]),_:1}),m(x,{icon:"mdi-calendar-month",variant:"text",to:"/calendar?filters="+_.school.id},null,8,["to"]),m(C,{transition:"dialog-bottom-transition"},{activator:M(({props:q})=>[m(x,J({icon:"mdi-filter",variant:"text"},q),null,16)]),default:M(({isActive:q})=>[m(hwe,{modelValue:c.value,"onUpdate:modelValue":b[2]||(b[2]=W=>c.value=W),onClose:W=>q.value=!1},null,8,["modelValue","onClose"])]),_:1}),m(x,{icon:"mdi-refresh",variant:"text",disabled:!_.school||u.value,onClick:v},null,8,["disabled"])]),default:M(()=>[m(T,null,{default:M(()=>[m(z,{lines:"two"},{default:M(()=>[(be(!0),bt(Ee,null,xi(r.value,q=>(be(),bt(Ee,{key:q.month},[m(D,{inset:""},{default:M(()=>[Pe(at(q.month),1)]),_:2},1024),(be(!0),bt(Ee,null,xi(q.lessons,W=>(be(),De(B,{key:W.date.toString(),onClick:K=>g(W),baseColor:W.next?"primary":""},bL({prepend:M(()=>[m(N,{color:p(W)},{default:M(()=>[m(A,{color:"white"},{default:M(()=>b[3]||(b[3]=[Pe("mdi-calendar")])),_:1})]),_:2},1032,["color"])]),title:M(()=>[Me("b",null,at(W.date.getDayString(2)),1),Pe(" "+at(W.date.format()),1)]),_:2},[W.pending||W.recovery?{name:"append",fn:M(()=>[W.pending?(be(),De(A,{key:0,color:"warning"},{default:M(()=>b[4]||(b[4]=[Pe("mdi-alert")])),_:1})):Wt("",!0),W.recovery?(be(),De(A,{key:1,color:"info"},{default:M(()=>b[5]||(b[5]=[Pe("mdi-alpha-r-circle")])),_:1})):Wt("",!0),W.moved?(be(),De(A,{key:2,color:"success"},{default:M(()=>b[6]||(b[6]=[Pe("mdi-alpha-s-circle")])),_:1})):Wt("",!0)]),key:"0"}:void 0]),1032,["onClick","baseColor"]))),128))],64))),128))]),_:1})]),_:1})]),_:1},8,["loading"])}}}),mwe=KC(fwe,[["__scopeId","data-v-4f6dbbcf"]]),gwe=kt({__name:"ScheduleRecoveryLessonButton",props:Dl({school:{}},{modelValue:{required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(t){const e=t,n=Al(t,"modelValue"),i=G(!1),s=G(!1),r=G(!1),a=sa({date:Il().required("La Data della Lezione di Recupero è obbligatoria").label("Data della Lezione di Recupero"),time:Fn().required("L'Orario della Lezione di Recupero è obbligatorio").label("Orario della Lezione di Recupero")}),{defineField:o,handleSubmit:l,resetForm:u}=Hl({validationSchema:a}),d=b=>({props:{"error-messages":b.errors}}),[c,f]=o("date",d),[h,p]=o("time",d),g=l(async b=>{_()},b=>{Ze.warn("Ci sono alcuni errori! Inserisci correttamente i dati"),console.log(b)});function v(){s.value=!1,c.value=void 0,h.value=void 0,u()}async function _(){if(!(!c.value||!h.value||!n.value))try{r.value=!0;const b=$t.fromHHMM(h.value),x={studentId:n.value.studentId,schoolId:e.school.id,originalDailyLessonId:n.value.originalDailyLesson.id,originalLessonId:n.value.lessonId,date:c.value,startTime:b.toITime(),endTime:b.add({minutes:n.value.minutesLessonDuration}).toITime()};await To.instance.scheduleRecovery(n.value,x),s.value=!1}catch{Ze.error("Impossibile schedulare la lezione di recupero")}finally{r.value=!1}}return(b,x)=>{const k=j("v-btn"),I=j("v-date-input"),E=j("v-col"),T=j("v-time-picker"),S=j("v-dialog"),w=j("v-text-field"),P=j("v-row"),C=j("v-card-text"),D=j("v-spacer"),A=j("v-card-actions"),N=j("v-card");return be(),De(S,{modelValue:s.value,"onUpdate:modelValue":x[5]||(x[5]=B=>s.value=B),width:"auto",scrollable:"",persistent:""},{activator:M(({props:B})=>[m(k,EV(zk(B)),{default:M(()=>x[6]||(x[6]=[Pe("programma")])),_:2},1040)]),default:M(()=>[m(N,{title:"Programma Lezione di Recupero",subtitle:n.value.name+" "+n.value.surname+" - "+se(rt).fromIyyyyMMdd(n.value.originalDailyLesson.date).format(),loading:r.value},{default:M(()=>[m(C,{class:"pa-6"},{default:M(()=>[m(P,null,{default:M(()=>[m(E,{cols:"12",md:"12"},{default:M(()=>[m(I,J({modelValue:se(c),"onUpdate:modelValue":x[0]||(x[0]=B=>Ke(c)?c.value=B:null)},se(f),{label:"Data della Lezione di Recupero",inputmode:"none"}),null,16,["modelValue"])]),_:1}),m(E,{cols:"12",lg:"12"},{default:M(()=>[m(w,J({modelValue:se(h),"onUpdate:modelValue":x[3]||(x[3]=B=>Ke(h)?h.value=B:null)},se(p),{active:i.value,focused:i.value,inputmode:"none",label:"Orario della prima Lezione","prepend-icon":"mdi-clock-time-four-outline",readonly:""}),{default:M(()=>[m(S,{modelValue:i.value,"onUpdate:modelValue":x[2]||(x[2]=B=>i.value=B),activator:"parent",width:"auto"},{default:M(()=>[i.value?(be(),De(T,{key:0,modelValue:se(h),"onUpdate:modelValue":x[1]||(x[1]=B=>Ke(h)?h.value=B:null),format:"24hr"},null,8,["modelValue"])):Wt("",!0)]),_:1},8,["modelValue"])]),_:1},16,["modelValue","active","focused"])]),_:1})]),_:1})]),_:1}),m(A,null,{default:M(()=>[m(D),m(k,{text:"Annulla",onClick:v}),m(k,{color:"primary",text:"Salva",onClick:x[4]||(x[4]=B=>se(g)(B))})]),_:1})]),_:1},8,["subtitle","loading"])]),_:1},8,["modelValue"])}}}),pwe={key:0},vwe={key:1},_we={key:2},ywe={key:0},bwe={key:1},wwe={key:0},xwe={key:2},Swe={key:0},kwe=kt({__name:"RecoveryLessonView",props:{school:{}},setup(t){const e=t,n=O(()=>e.school.id),i=po.instance.observe(n),s=pP(i),r=G(),a=G(!1),o=G(!1);we(s,async()=>u());async function l(d){try{o.value=!0,await To.instance.cancelRecovery(d)}catch(c){Ze.warn("Impossibile annullare la lezione di recupero"),console.error("Unable to cancel recovery lesson",c)}finally{o.value=!1}}async function u(){if(s.value)try{a.value=!0,r.value=await To.instance.computeDailyLessons(s.value),console.log(r.value)}catch(d){Ze.warning("Impossibile caricare le Lezioni di Recupero"),console.error("Unable to load recovery lessons",d)}finally{a.value=!1}}return(d,c)=>{const f=j("v-list-subheader"),h=j("v-list-item"),p=j("v-btn"),g=j("v-icon"),v=j("v-divider"),_=j("v-list"),b=j("v-card-text"),x=j("v-card");return be(),De(x,{title:"Recuperi",elevation:"3",loading:a.value},{default:M(()=>[m(_,{lines:"three"},{default:M(()=>{var k;return[(be(!0),bt(Ee,null,xi((k=r.value)==null?void 0:k.recoveryMap,(I,E)=>(be(),bt(Ee,{key:I.type},[m(f,{inset:""},{default:M(()=>[Me("b",null,at(se(Yle)[I.type]),1)]),_:2},1024),I.recoveries.length==0?(be(),De(h,{key:0},{default:M(()=>[I.type=="unset"?(be(),bt("div",pwe," Nessuna lezione da recuperare ")):I.type=="pending"?(be(),bt("div",vwe," Nessuna lezione di recupero programmata ")):(be(),bt("div",_we," Nessuna lezione di recupero effettuata "))]),_:2},1024)):Wt("",!0),(be(!0),bt(Ee,null,xi(I.recoveries,(T,S)=>(be(),De(h,{key:`${T.lessonId}_${T.originalDailyLesson.id}`},{title:M(()=>[Pe(at(T.name)+" "+at(T.surname),1)]),subtitle:M(()=>[I.type=="unset"?(be(),bt("div",ywe," Da recuperare la lezione del "+at(se(rt).fromIyyyyMMdd(T.originalDailyLesson.date).format()),1)):I.type=="pending"?(be(),bt("div",bwe,[Pe(" Recupero della lezione del "+at(se(rt).fromIyyyyMMdd(T.originalDailyLesson.date).format())+" programmato ",1),T.recoveryDailyLesson?(be(),bt("span",wwe," per il "+at(se(rt).fromIyyyyMMdd(T.recoveryDailyLesson.date).format()),1)):Wt("",!0)])):(be(),bt("div",xwe,[Pe(" Recupero della lezione del "+at(se(rt).fromIyyyyMMdd(T.originalDailyLesson.date).format())+" effettuato ",1),T.recoveryDailyLesson?(be(),bt("span",Swe," il "+at(se(rt).fromIyyyyMMdd(T.recoveryDailyLesson.date).format()),1)):Wt("",!0)]))]),append:M(()=>[I.type=="unset"?(be(),De(gwe,{key:0,modelValue:I.recoveries[S],"onUpdate:modelValue":w=>I.recoveries[S]=w,school:d.school},null,8,["modelValue","onUpdate:modelValue","school"])):I.type=="pending"?(be(),De(p,{key:1,onClick:w=>l(T),loading:o.value,disabled:o.value},{default:M(()=>c[0]||(c[0]=[Pe("annulla")])),_:2},1032,["onClick","loading","disabled"])):(be(),De(g,{key:2,color:"success"},{default:M(()=>c[1]||(c[1]=[Pe(" mdi-check-all ")])),_:1}))]),_:2},1024))),128)),E!=2?(be(),De(v,{key:1})):Wt("",!0)],64))),128))]}),_:1}),r.value?Wt("",!0):(be(),De(b,{key:0},{default:M(()=>c[2]||(c[2]=[Pe(" Nessun recupero in programma ")])),_:1}))]),_:1},8,["loading"])}}}),IU=kt({__name:"DateSelect",props:{modelValue:{default:{from:void 0,to:void 0}},modelModifiers:{}},emits:["update:modelValue"],setup(t){const e=Fr(),n=["Assoluto","Relativo","Per mese"],i=["Oggi","Ieri","Ultima settimana","Ultimo mese","Ultimi 3 mesi","Ultimi 6 mesi","Ultimo anno"],s=[...Array(12).keys()].map(p=>pa(new Date(0,p).toLocaleString("it",{month:"long"}))),r=G(n[1]),a=G(i[2]),o=G(s[0]),l=G();let u=!1;const d=Al(t,"modelValue");we(r,c,{immediate:!0}),we(a,c,{immediate:!0}),we(o,c,{immediate:!0}),we(l,c,{immediate:!0}),we(d,f,{immediate:!0});function c(){var p,g,v;if(u=!0,r.value==n[2]){let _=s.indexOf(o.value);_=_==-1?0:_;const b=new Date().getFullYear(),x=new Date(b,_,1),k=new Date(b,_+1,0);d.value={from:rt.fromDate(x).toIyyyyMMdd(),to:rt.fromDate(k).toIyyyyMMdd()}}else if(r.value==n[1]){let _;a.value==i[1]?_=e.addDays(new Date,-1):a.value==i[2]?_=e.addDays(new Date,-7):a.value==i[3]?_=e.addMonths(new Date,-1):a.value==i[4]?_=e.addMonths(new Date,-3):a.value==i[5]?_=e.addMonths(new Date,-6):a.value==i[6]?_=e.addMonths(new Date,-12):_=new Date,d.value={from:rt.fromDate(_).toIyyyyMMdd()}}else if(r.value==n[0]){const _=(p=l.value)==null?void 0:p[0],b=((g=l.value)==null?void 0:g[l.value.length-1])??((v=l.value)==null?void 0:v[0]);_&&b&&(d.value={from:rt.fromDate(_).toIyyyyMMdd(),to:rt.fromDate(b).toIyyyyMMdd()})}}function f(){var v,_;if(u){u=!1;return}const p=(v=d.value)==null?void 0:v.from,g=(_=d.value)==null?void 0:_.to;if(p&&!g){r.value=n[1];const x=h(new Date,rt.fromIyyyyMMdd(p).toDate());x.days==0&&x.months==0&&x.years==0?a.value=i[0]:x.days==1&&x.months==0&&x.years==0?a.value=i[1]:x.days==7&&x.months==0&&x.years==0?a.value=i[2]:(x.days==30||x.months==1)&&x.years==0?a.value=i[3]:(x.days==90||x.months==3)&&x.years==0?a.value=i[4]:(x.days==180||x.months==6)&&x.years==0?a.value=i[5]:x.days==365||x.months==12||x.years==1?a.value=i[6]:(console.warn("Selected period not recognized, falling to last week"),a.value=i[2])}else if(p&&g){const b=rt.fromIyyyyMMdd(p).toDate(),x=rt.fromIyyyyMMdd(g).toDate();if(console.log(b,x,b.getDate(),x.getDate(),new Date(b.getFullYear(),b.getMonth()+1,0).getDate()),b.getDate()==1&&x.getMonth()==b.getMonth()&&x.getFullYear()==b.getFullYear()&&x.getDate()==new Date(b.getFullYear(),b.getMonth()+1,0).getDate())r.value=n[2],o.value=s[b.getMonth()];else{r.value=n[0],l.value=[];for(const k=b;k<=x;k.setDate(k.getDate()+1))l.value.push(new Date(k))}}}function h(p,g){const v=new Date(Math.abs(p.getTime()-g.getTime())),_=v.getUTCFullYear()-1970,b=v.getUTCMonth(),x=v.getUTCDate()-1;return{years:_,months:b,days:x}}return(p,g)=>{const v=j("v-select"),_=j("v-col"),b=j("v-date-input"),x=j("v-row");return be(),De(x,null,{default:M(()=>[m(_,{cols:"12",md:"6"},{default:M(()=>[m(v,{variant:"outlined",density:"compact",modelValue:r.value,"onUpdate:modelValue":g[0]||(g[0]=k=>r.value=k),items:n,label:"Tempo","hide-details":""},null,8,["modelValue"])]),_:1}),r.value==n[0]?(be(),De(_,{key:0,cols:"12",md:"6"},{default:M(()=>[m(b,{variant:"outlined",density:"compact",modelValue:l.value,"onUpdate:modelValue":g[1]||(g[1]=k=>l.value=k),multiple:"range",inputmode:"none",label:"Intervallo","hide-details":""},null,8,["modelValue"])]),_:1})):r.value==n[1]?(be(),De(_,{key:1,cols:"12",md:"6"},{default:M(()=>[m(v,{variant:"outlined",density:"compact",modelValue:a.value,"onUpdate:modelValue":g[2]||(g[2]=k=>a.value=k),items:i,label:"Periodo","hide-details":""},null,8,["modelValue"])]),_:1})):(be(),De(_,{key:2,cols:"12",md:"6"},{default:M(()=>[m(v,{class:"text-capitalize",variant:"outlined",density:"compact",modelValue:o.value,"onUpdate:modelValue":g[3]||(g[3]=k=>o.value=k),label:`Mese ${new Date().getFullYear()}`,items:se(s),"hide-details":""},null,8,["modelValue","label","items"])]),_:1}))]),_:1})}}}),Twe={class:"d-flex justify-center"},Pwe={colspan:"6",class:"text-center font-weight-bold"},Cwe=kt({__name:"SalaryView",props:{school:{}},setup(t){const e=t,n=G([]),i=G(!1),s=G({}),r=G({}),a=[{title:"Data",align:"start",sortable:!0,key:"date"},{title:"Presenti",key:"presents"},{title:"Assenti",key:"absents"},{title:"Stipendio giornaliero",key:"salary"},{title:"Aggiornato il",key:"lastUpdate"},{title:"Operazioni",key:"actions",sortable:!1}],o=O(()=>{const d=n.value.reduce((c,f)=>c+f.salary,0);return isNaN(d)?0:d});we(r,l);async function l(){if(!r.value||!r.value.from)return;const d=r.value.to??rt.today().toIyyyyMMdd();i.value=!0,n.value=await rg.instance.computeSalary(e.school,r.value.from,d),i.value=!1}async function u(d,c){s.value[d.dailyLessonId]=!0;const f=await bi.instance.computeSalaryOfDailyLesson(e.school,d.dailyLessonId);f?(n.value[c].salary=f.salary,n.value[c].lastUpdate=f.lastSalaryUpdate):Ze.info(`Lo stipendio della lezione del ${rt.fromIyyyyMMdd(d.date).format()} è già aggiornato!`),s.value[d.dailyLessonId]=!1}return Tt(async()=>{await l()}),(d,c)=>{const f=j("v-btn"),h=j("v-data-table"),p=j("v-card-text"),g=j("v-card");return be(),De(g,{title:"Stipendio",elevation:"3",loading:i.value},{default:M(()=>[m(p,null,{default:M(()=>[m(IU,{modelValue:r.value,"onUpdate:modelValue":c[0]||(c[0]=v=>r.value=v)},null,8,["modelValue"]),m(h,{headers:a,items:n.value,"item-value":"id"},{"item.date":M(({item:v})=>[Pe(at(se(rt).fromIyyyyMMdd(v.date).format()),1)]),"item.lastUpdate":M(({item:v})=>[Pe(at(v.lastUpdate?se(i4)(se(Z_)(v.lastUpdate)):""),1)]),"item.actions":M(({item:v,index:_})=>[Me("div",Twe,[m(f,{icon:"mdi-refresh",variant:"text",onClick:b=>u(v,_),loading:s.value[v.dailyLessonId]},null,8,["onClick","loading"])])]),"body.append":M(()=>[Me("tr",null,[Me("td",Pwe,"Totale "+at(o.value)+" €",1)])]),_:1},8,["items"])]),_:1})]),_:1},8,["loading"])}}}),Ewe={class:"d-inline-block text-truncate",style:{"max-width":"120px"}},Iwe={class:"font-weight-bold text-caption"},Dwe={key:1},Awe=kt({__name:"StudentNoteView",props:{school:{}},setup(t){const e=t,n=[],i=G([]),s=G(!1);async function r(){s.value=!0;const a=_r.instance.observeStudentsOfSchool(e.school.id).subscribe({next:o=>{i.value=o.filter(l=>!!l.note),s.value=!1},error:o=>{s.value=!1,console.error(o)}});n.push(a)}return Tt(async()=>{await r()}),Us(()=>{n.forEach(a=>a.unsubscribe())}),(a,o)=>{const l=j("v-col"),u=j("v-row"),d=j("v-expansion-panel-title"),c=j("v-icon"),f=j("v-dialog"),h=j("v-expansion-panel-text"),p=j("v-expansion-panel"),g=j("v-expansion-panels"),v=j("v-card-text"),_=j("v-card");return be(),De(_,{title:"Note",elevation:"3",loading:s.value},{default:M(()=>[m(v,null,{default:M(()=>[i.value.length!=0?(be(),De(g,{key:0},{default:M(()=>[(be(!0),bt(Ee,null,xi(i.value,b=>(be(),De(p,{key:b.id},{default:M(()=>[m(d,null,{default:M(()=>[m(u,{class:"justify-between"},{default:M(()=>[m(l,null,{default:M(()=>[Me("span",null,at(b.name)+" "+at(b.surname),1)]),_:2},1024),m(l,{class:"text-grey",cols:"auto"},{default:M(()=>[Me("span",Ewe,at(b.note.text),1)]),_:2},1024)]),_:2},1024)]),_:2},1024),m(h,null,{default:M(()=>[m(u,null,{default:M(()=>[m(l,null,{default:M(()=>[Pe(at(b.note.text),1)]),_:2},1024)]),_:2},1024),m(u,{class:"justify-end align-center"},{default:M(()=>[m(l,{cols:"auto"},{default:M(()=>[Me("span",Iwe,"Aggiornata il "+at(se(i4)(se(Z_)(b.note.updatedAt))),1)]),_:2},1024),m(l,{cols:"auto"},{default:M(()=>[m(f,{fullscreen:""},{activator:M(({props:x})=>[m(c,J({class:"me-2",size:"small",ref_for:!0},x),{default:M(()=>o[0]||(o[0]=[Pe(" mdi-pencil ")])),_:2},1040)]),default:M(({isActive:x})=>[m(uy,{edit:"",school:a.school,initialStudent:b,focus:"note",disableFields:["name","surname","contact","lessonDay","level","minutesLessonDuration"],onClose:k=>x.value=!1,onSave:k=>x.value=!1},null,8,["school","initialStudent","onClose","onSave"])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})):(be(),bt("p",Dwe," Nessuna nota presente "))]),_:1})]),_:1},8,["loading"])}}}),Rwe=kt({__name:"StudentFilter",props:{modelValue:{default:[]},modelModifiers:{}},emits:Dl(["close"],["update:modelValue"]),setup(t,{emit:e}){const n=Al(t,"modelValue"),i=e,s=G([]),r=O(()=>s.value.length===Fv.length),a=O(()=>s.value.length>0);function o(c){return{title:c.name,value:c.type,color:c.color,icon:c.icon}}function l(){r.value?s.value=[]:s.value=Fv.slice()}function u(){s.value=[...n.value]}function d(){n.value=[...s.value],i("close")}return Tt(()=>u()),(c,f)=>{const h=j("v-icon"),p=j("v-checkbox-btn"),g=j("v-list-item"),v=j("v-divider"),_=j("v-select"),b=j("v-col"),x=j("v-row"),k=j("v-card-text"),I=j("v-spacer"),E=j("v-btn"),T=j("v-card-actions"),S=j("v-card");return be(),De(S,{class:"mx-auto","min-width":"300px"},{default:M(()=>[m(k,null,{default:M(()=>[m(x,null,{default:M(()=>[m(b,null,{default:M(()=>[m(_,{modelValue:s.value,"onUpdate:modelValue":f[0]||(f[0]=w=>s.value=w),items:se(Fv),"return-object":"","item-props":o,label:"Filtri",multiple:"",chips:""},{chip:M(({item:w})=>[m(h,{color:w.props.color},{default:M(()=>[Pe(at(w.props.icon),1)]),_:2},1032,["color"])]),"prepend-item":M(()=>[m(g,{title:"Seleziona Tutti",onClick:l},{prepend:M(()=>[m(p,{color:a.value?"indigo-darken-4":void 0,indeterminate:a.value&&!r.value,"model-value":r.value},null,8,["color","indeterminate","model-value"])]),_:1}),m(v,{class:"mt-2"})]),_:1},8,["modelValue","items"])]),_:1})]),_:1})]),_:1}),m(T,null,{default:M(()=>[m(I),m(E,{onClick:u},{default:M(()=>f[1]||(f[1]=[Pe("Reset")])),_:1}),m(E,{onClick:d,color:"primary"},{default:M(()=>f[2]||(f[2]=[Pe("Applica")])),_:1})]),_:1})]),_:1})}}}),Owe=kt({__name:"StudentView",props:{school:{}},setup(t){const e=t,n=[],i=G([]),s=G([]),r=G(!1),a=G(!1),o=[{title:"Nome",key:"name",align:"start"},{title:"Cognome",key:"surname"},{title:"Giorno della Lezione",key:"lessonDay"},{title:"Operazioni",key:"actions",sortable:!1},{title:"Contatto",key:"contact"},{title:"Lezione di prova",key:"trial"}],l=G(Fv);we(l,h);function u(p){var g;return(g=p.trial)!=null&&g.done?p.trial.dailyLessonDate?rt.fromIyyyyMMdd(p.trial.dailyLessonDate).format():"Fatta":""}function d(p){p&&(a.value=!1)}async function c(p){if(!p)return!1;try{return await Ys.instance.delete(p.id),!0}catch{return!1}}async function f(){r.value=!0;const p=_r.instance.observeStudentsOfSchool(e.school.id).subscribe({next:g=>{i.value=g,h(),r.value=!1},error:g=>r.value=!1});n.push(p)}function h(){s.value=i.value.filter(p=>{if(l.value.length==2)return!0;if(l.value.map(g=>g.type).includes("substistution"))return!!p.isSubstitution;if(l.value.map(g=>g.type).includes("normal"))return!p.isSubstitution})}return Tt(async()=>{await f()}),Us(()=>{n.forEach(p=>p.unsubscribe())}),(p,g)=>{const v=j("v-btn"),_=j("v-dialog"),b=j("v-text-field"),x=j("v-col"),k=j("v-row"),I=j("v-icon"),E=j("v-data-table"),T=j("v-card-text"),S=j("v-card");return be(),De(S,{title:"Studenti",elevation:"3",loading:r.value},{default:M(()=>[m(T,null,{default:M(()=>[m(k,{class:"mr-4 mb-1 align-center"},{default:M(()=>[m(x,{cols:"12",md:"8"},{default:M(()=>[m(b,{class:"ma-2",density:"compact",label:"Ricerca",variant:"outlined","hide-details":""},{append:M(()=>[m(_,{transition:"dialog-bottom-transition"},{activator:M(({props:w})=>[m(v,J({icon:"mdi-filter",variant:"text"},w),null,16)]),default:M(({isActive:w})=>[m(Rwe,{modelValue:l.value,"onUpdate:modelValue":g[0]||(g[0]=P=>l.value=P),onClose:P=>w.value=!1},null,8,["modelValue","onClose"])]),_:1})]),_:1})]),_:1}),m(x,{cols:"12",md:"4"},{default:M(()=>[m(_,{modelValue:a.value,"onUpdate:modelValue":g[3]||(g[3]=w=>a.value=w),fullscreen:""},{activator:M(({props:w})=>[m(v,J({"prepend-icon":"mdi-plus",color:"success"},w),{default:M(()=>g[4]||(g[4]=[Pe(" studente ")])),_:2},1040)]),default:M(()=>[m(uy,{school:p.school,onClose:g[1]||(g[1]=w=>a.value=!1),onSave:g[2]||(g[2]=w=>d(w))},null,8,["school"])]),_:1},8,["modelValue"])]),_:1})]),_:1}),m(E,{headers:o,items:s.value,"item-value":"id"},{"item.lessonDay":M(({item:w})=>[Pe(at(w.lessonDay?se(Vs)[w.lessonDay]:""),1)]),"item.trial":M(({item:w})=>[Pe(at(u(w)),1)]),"item.actions":M(({item:w})=>[m(_,{fullscreen:""},{activator:M(({props:P})=>[m(I,J({class:"me-2",size:"small"},P),{default:M(()=>g[5]||(g[5]=[Pe(" mdi-pencil ")])),_:2},1040)]),default:M(({isActive:P})=>[m(uy,{edit:"",school:p.school,initialStudent:w,onClose:C=>P.value=!1,onSave:C=>P.value=!1},null,8,["school","initialStudent","onClose","onSave"])]),_:2},1024),m(up,{name:w.name+" "+w.surname,objName:"Studente",onDelete:async()=>await c(w)},{activator:M(({props:P})=>[m(I,J({size:"small"},P),{default:M(()=>g[6]||(g[6]=[Pe(" mdi-delete ")])),_:2},1040)]),_:2},1032,["name","onDelete"])]),_:1},8,["items"])]),_:1})]),_:1},8,["loading"])}}}),Mwe=kt({__name:"SchoolView",setup(t){const e=Wg(),n=Oc(),i=O(()=>e.params.id),s=Lr.instance.observe(i),r=pP(s),a=[];async function o(){if(!r.value)return!1;try{return lg.instance.delete(s.value),n.push("/"),!0}catch{return!1}}return Us(()=>{a.forEach(l=>l())}),(l,u)=>{const d=j("v-btn"),c=j("v-list-item"),f=j("v-dialog"),h=j("v-list"),p=j("v-menu"),g=j("v-col"),v=j("v-row"),_=j("v-card"),b=j("v-skeleton-loader"),x=j("v-container");return se(r)?(be(),De(_,{key:0,class:"pa-3 mb-3",title:se(r).name,elevation:"0"},{prepend:M(()=>[m(sp)]),append:M(()=>[m(p,{transition:"slide-y-transition"},{activator:M(({props:k})=>[m(d,J({icon:"mdi-dots-vertical",variant:"text"},k),null,16)]),default:M(()=>[m(h,null,{default:M(()=>[m(f,{fullscreen:""},{activator:M(({props:k})=>[m(c,J({title:"Modifica"},k),null,16)]),default:M(({isActive:k})=>[m(EU,{edit:"",initialSchool:se(r),onClose:I=>k.value=!1,onSave:I=>k.value=!1},null,8,["initialSchool","onClose","onSave"])]),_:1}),m(up,{name:se(r).name,objName:"Scuola",onDelete:o},{activator:M(({props:k})=>[m(c,J({title:"Elimina"},k),null,16)]),_:1},8,["name"])]),_:1})]),_:1})]),default:M(()=>[m(v,{class:"mt-5"},{default:M(()=>[m(g,{class:"pa-2",cols:"12",md:"6"},{default:M(()=>[m(mwe,{school:se(r)},null,8,["school"])]),_:1}),m(g,{class:"pa-2",cols:"12",md:"6"},{default:M(()=>[m(kwe,{school:se(r)},null,8,["school"])]),_:1})]),_:1}),m(v,null,{default:M(()=>[m(g,{class:"pa-2",cols:"12",md:"6"},{default:M(()=>[m(Owe,{school:se(r)},null,8,["school"])]),_:1}),m(g,{class:"pa-2",cols:"12",md:"6"},{default:M(()=>[m(Cwe,{school:se(r)},null,8,["school"])]),_:1})]),_:1}),m(v,null,{default:M(()=>[m(g,{class:"pa-2",cols:"12"},{default:M(()=>[m(Awe,{school:se(r)},null,8,["school"])]),_:1})]),_:1})]),_:1},8,["title"])):(be(),De(x,{key:1,fluid:""},{default:M(()=>[m(b,{class:"mx-auto",type:"heading"}),m(v,{class:"justify-center mt-4"},{default:M(()=>[(be(),bt(Ee,null,xi(5,k=>m(g,{key:k,cols:"12",md:"6"},{default:M(()=>[m(b,{elevation:"3",type:"card"})]),_:2},1024)),64))]),_:1})]),_:1}))}}}),Vwe=kt({__name:"SettingsView",setup(t){const e=G(!1),n=O(()=>`Abilitare console debug: ${e.value?"on":"off"}`),i=G(!1),s=O(()=>`Abilitare il caricamento automatico delle lezioni del giorno sulla Homepage: ${i.value?"on":"off"}`),r=G(!1);we(e,()=>Qs.setItem("debugEnabled",e.value)),we(i,()=>Qs.setItem("loadTodayLesson",i.value));function a(){e.value=Qs.getItem("debugEnabled")??!1,i.value=Qs.getItem("loadTodayLesson")??!1,"Notification"in window&&"serviceWorker"in navigator&&(r.value=!0)}function o(){r.value&&Notification.requestPermission(u=>{console.log("result from permission question",u),u!=="granted"?Ze.info("Autorizzazione notifiche negata"):(Ze.info("Autorizzazione notifiche consentita! Ti sarà inviata una notifica di prova"),console.log("A notification will be send from the service worker => This only works in production"),l())})}function l(){"serviceWorker"in navigator&&(console.log(navigator.serviceWorker),navigator.serviceWorker.ready.then(u=>{console.log(u),u.showNotification("Notifica di prova",{body:"Questa è una notifica di prova"})}))}return Tt(()=>a()),(u,d)=>{const c=j("v-col"),f=j("v-row"),h=j("v-switch"),p=j("v-btn"),g=j("v-form"),v=j("v-container");return be(),De(v,{fluid:"",class:"mb-5"},{default:M(()=>[m(f,{class:"justify-center align-center mb-6"},{default:M(()=>[m(c,{cols:"auto"},{default:M(()=>[m(sp)]),_:1}),m(c,null,{default:M(()=>d[2]||(d[2]=[Me("p",{class:"text-h5 text-center"},"Impostazioni Utente",-1)])),_:1})]),_:1}),m(f,null,{default:M(()=>[m(c,null,{default:M(()=>[m(g,{class:"ma-2"},{default:M(()=>[m(f,{class:"justify-center"},{default:M(()=>[m(c,{class:"px-2",cols:"12",md:"6"},{default:M(()=>[m(h,{modelValue:e.value,"onUpdate:modelValue":d[0]||(d[0]=_=>e.value=_),color:"primary",label:n.value},null,8,["modelValue","label"])]),_:1}),m(c,{class:"px-2",cols:"12",md:"6"},{default:M(()=>[m(h,{modelValue:i.value,"onUpdate:modelValue":d[1]||(d[1]=_=>i.value=_),color:"primary",label:s.value},null,8,["modelValue","label"])]),_:1}),m(c,null,{default:M(()=>[r.value?(be(),De(p,{key:0,onClick:o},{default:M(()=>d[3]||(d[3]=[Pe("abilita notifiche")])),_:1})):Wt("",!0)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}}});class Lwe{constructor(){an(this,"schools",[]);an(this,"students",[])}async getSchools(){return this.schools.length==0&&(this.schools=await Lr.instance.getAll()),this.schools}async getStudents(){return this.students.length==0&&(this.students=await Ys.instance.getAll()),this.students}clear(){this.schools=[],this.students=[]}}const zy=class zy{constructor(){an(this,"cache",new Lwe)}static get instance(){return this._instance||(this._instance=new zy),this._instance}async getSalaryTrend(e,n,...i){const s=[];(!i||i.length==0)&&(i=await this.cache.getSchools());for await(const r of i){const o=(await bi.instance.getDailyLessonOfSchoolBetweenDate(r.id,e,n)).filter(l=>!isNaN(l.salary)).map(l=>({date:rt.fromIyyyyMMdd(l.date).toDate().getTime(),value:l.salary}));s.push(...o)}return s.sort((r,a)=>r.date-a.date)}async getSalaryDistribution(e,n,...i){const s=[];(!i||i.length==0)&&(i=await this.cache.getSchools());for await(const r of i){const o=(await bi.instance.getDailyLessonOfSchoolBetweenDate(r.id,e,n)).filter(l=>!isNaN(l.salary)).map(l=>l.salary).reduce((l,u)=>l+u,0);s.push({category:r.name,value:o})}return s}async getSchoolDistribution(...e){return(!e||e.length==0)&&(e=await this.cache.getSchools()),e.map(n=>({category:n.name,value:1}))}async getSchoolStudentDistribution(...e){const n=[];(!e||e.length==0)&&(e=await this.cache.getSchools());const i=await this.cache.getStudents();for(const s of e){const r=i.filter(a=>a.schoolId==s.id).length;r&&n.push({category:s.name,value:r})}return n}async getStudentTrend(e,n,...i){const s=[];(!i||i.length==0)&&(i=await this.cache.getSchools());for await(const r of i){const a=(await this.cache.getStudents()).filter(l=>l.schoolId==r.id),o=await bi.instance.getDailyLessonOfSchoolBetweenDate(r.id,e,n);a.forEach(l=>{var d;const u={student:l.name+" "+l.surname,present:0,absent:0,recovery:0};for(const c of o){const f=c.lessons.find(h=>h.studentId==l.id);f&&(((d=f.recovery)==null?void 0:d.ref)=="original"&&u.recovery++,f.status==Mt.PRESENT?u.present++:f.status==Mt.ABSENT&&u.absent++)}!u.present&&!u.absent&&!u.recovery||s.push(u)})}return s}async getLessonTrend(e,n,...i){const s={category:"Presenze",value:0},r={category:"Assenze",value:0},a={category:"Recuperi",value:0};(!i||i.length==0)&&(i=await this.cache.getSchools());for await(const o of i){const l=await bi.instance.getDailyLessonOfSchoolBetweenDate(o.id,e,n);for(const u of l)s.value+=u.lessons.filter(d=>d.status==Mt.PRESENT).length,r.value+=u.lessons.filter(d=>d.status==Mt.ABSENT).length,a.value+=u.lessons.filter(d=>{var c;return((c=d.recovery)==null?void 0:c.ref)=="original"}).length}return[s,r,a]}};an(zy,"_instance",null);let Lo=zy;class xt{constructor(e){Object.defineProperty(this,"_value",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._value=e}get value(){return this._value/100}get percent(){return this._value}toString(){return""+this._value+"%"}interpolate(e,n){return e+this.value*(n-e)}static normalize(e,n,i){return e instanceof xt?e:n===i?new xt(0):new xt(Math.min(Math.max((e-n)*(1/(i-n)),0),1)*100)}}function jn(t){return new xt(t)}jn(0);const Fe=jn(100),lt=jn(50);function eV(t){return t instanceof xt}function ma(t){return Number(t)!==t}function Nwe(t){return{}.toString.call(t)}function lr(t){if(t!=null&&!me(t)){let e=Number(t);return ma(e)&&mh(t)&&t!=""?lr(t.replace(/[^0-9.\-]+/g,"")):e}return t}function Fwe(t){if(dk(t))return new Date(t);if(me(t))return new Date(t);{let e=Number(t);return me(e)?new Date(e):new Date(t)}}function Bwe(t){if(ma(t))return"NaN";if(t===1/0)return"Infinity";if(t===-1/0)return"-Infinity";if(t===0&&1/t===-1/0)return"-0";let e=t<0;t=Math.abs(t);let n=/^([0-9]+)(?:\.([0-9]+))?(?:e[\+\-]([0-9]+))?$/.exec(""+t),i=n[1],s=n[2]||"",r;if(n[3]===void 0)r=s===""?i:i+"."+s;else{let a=+n[3];if(t<1){let o=a-1;r="0."+tV("0",o)+i+s}else{let o=a-s.length;o===0?r=i+s:o<0?r=i+s.slice(0,o)+"."+s.slice(o):r=i+s+tV("0",o)}}return e?"-"+r:r}function tV(t,e){return new Array(e+1).join(t)}function dk(t){return Nwe(t)==="[object Date]"}function mh(t){return typeof t=="string"}function me(t){return typeof t=="number"&&Number(t)==t}function cp(t){return typeof t=="object"&&t!==null}const zl="__§§§__",xd="__§§§§__";function gh(t,e){const n=t.length;for(let i=0;i<n;++i)if(t[i]===e)return i;return-1}function jwe(t,e){const n=t.length;for(let i=0;i<n;++i)if(e(t[i]))return!0;return!1}function hk(t,e){const n=t.length,i=new Array(n);for(let s=0;s<n;++s)i[s]=e(t[s],s);return i}function oe(t,e){const n=t.length;for(let i=0;i<n;++i)e(t[i],i)}function cm(t,e){let n=t.length;for(;n>0;)--n,e(t[n],n)}function QC(t,e){const n=t.length;for(let i=0;i<n&&e(t[i],i);++i);}function Ir(t,e){let n=!1,i=0;for(;;){if(i=t.indexOf(e,i),i===-1)return n;n=!0,t.splice(i,1)}}function ns(t,e){let n=t.indexOf(e);return n!==-1?(t.splice(n,1),!0):!1}function nV(t,e,n){let i=gh(t,e);i!==-1&&mk(t,i),t.push(e)}function ug(t,e){t.indexOf(e)===-1&&t.push(e)}function fk(t){const e=t.length,n=new Array(e);for(let i=0;i<e;++i)n[i]=t[i];return n}function gx(t,e,n){t.splice(e,0,n)}function mk(t,e){t.splice(e,1)}function DU(t,e){const n=t.length;for(let i=0;i<n;++i)if(e(t[i],i))return i;return-1}function $we(t,e){let n=t.length;for(;n>0;)if(--n,e(t[n],n))return n;return-1}function AU(t,e){const n=DU(t,e);if(n!==-1)return t[n]}function Uwe(t,e){const n=$we(t,e);if(n!==-1)return t[n]}function gk(t,e){let n=0,i=t.length,s=!1;for(;n<i;){const r=n+i>>1,a=e(t[r]);a<0?n=r+1:a===0?(s=!0,n=r+1):i=r}return{found:s,index:s?n-1:n}}function RU(t,e){let n=0,i=t.length,s=!1;for(;n<i;){const r=n+i>>1,a=e(t[r]);a<0?n=r+1:(a===0&&(s=!0),i=r)}return{found:s,index:n}}function Nw(t,e){let n=t.length;for(;n>0;)--n,e(t[n])||t.splice(n,1)}function wi(t){return Object.keys(t)}function Hwe(t,e){return wi(t).sort(e)}function Bu(t){return Object.assign({},t)}function sn(t,e){wi(t).forEach(n=>{e(n,t[n])})}function zwe(t,e){for(let n in t)if(Wwe(t,n)&&!e(n,t[n]))break}function Wwe(t,e){return{}.hasOwnProperty.call(t,e)}class Fw{constructor(){Object.defineProperty(this,"_disposed",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._disposed=!1}isDisposed(){return this._disposed}dispose(){this._disposed||(this._disposed=!0,this._dispose())}}class Di{constructor(e){Object.defineProperty(this,"_disposed",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_dispose",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._disposed=!1,this._dispose=e}isDisposed(){return this._disposed}dispose(){this._disposed||(this._disposed=!0,this._dispose())}}class Ywe extends Fw{constructor(){super(...arguments),Object.defineProperty(this,"_disposers",{enumerable:!0,configurable:!0,writable:!0,value:[]})}_dispose(){oe(this._disposers,e=>{e.dispose()})}}class Os extends Fw{constructor(e){super(),Object.defineProperty(this,"_disposers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._disposers=e}_dispose(){oe(this._disposers,e=>{e.dispose()})}get disposers(){return this._disposers}}class JC extends Di{constructor(){super(...arguments),Object.defineProperty(this,"_counter",{enumerable:!0,configurable:!0,writable:!0,value:0})}increment(){return++this._counter,new Di(()=>{--this._counter,this._counter===0&&this.dispose()})}}function Gwe(t){t.parentNode&&t.parentNode.removeChild(t)}function Nn(t,e,n,i){return t.addEventListener(e,n,i||!1),new Di(()=>{t.removeEventListener(e,n,i||!1)})}function OU(t){return Nn(window,"resize",e=>{t()})}function Fa(t){switch(t){case"touchevents":return window.hasOwnProperty("TouchEvent");case"pointerevents":return window.hasOwnProperty("PointerEvent");case"mouseevents":return window.hasOwnProperty("MouseEvent");case"wheelevents":return window.hasOwnProperty("WheelEvent");case"keyboardevents":return window.hasOwnProperty("KeyboardEvent")}return!1}function px(t){return t.pointerId||0}function qwe(){if(document.activeElement&&document.activeElement!=document.body)if(document.activeElement.blur)document.activeElement.blur();else{let t=document.createElement("button");t.style.position="fixed",t.style.top="0px",t.style.left="-10000px",document.body.appendChild(t),t.focus(),t.blur(),document.body.removeChild(t)}}function Xwe(t){t&&t.focus()}function pk(t){if(Fa("pointerevents"))return t;if(Fa("touchevents"))switch(t){case"pointerover":return"touchstart";case"pointerout":return"touchend";case"pointerleave":return"touchend";case"pointerdown":return"touchstart";case"pointermove":return"touchmove";case"pointerup":return"touchend";case"click":return"click";case"dblclick":return"dblclick"}else if(Fa("mouseevents"))switch(t){case"pointerover":return"mouseover";case"pointerout":return"mouseout";case"pointerleave":return"mouseleave";case"pointerdown":return"mousedown";case"pointermove":return"mousemove";case"pointerup":return"mouseup";case"click":return"click";case"dblclick":return"dblclick"}return t}function vk(t){if(typeof Touch<"u"&&t instanceof Touch)return!0;if(typeof PointerEvent<"u"&&t instanceof PointerEvent&&t.pointerType!=null)switch(t.pointerType){case"touch":case"pen":case 2:return!0;case"mouse":case 4:return!1;default:return!(t instanceof MouseEvent)}else if(t.type!=null&&t.type.match(/^mouse/))return!1;return!0}function rv(t,e,n){t.style[e]=n}function Kwe(t,e){return t.style[e]}function MU(t){if(t.composedPath){const e=t.composedPath();return e.length===0?null:e[0]}else return t.target}function Qwe(t,e){let n=e;for(;;){if(t===n)return!0;if(n.parentNode===null){if(n.host==null)return!1;n=n.host}else n=n.parentNode}}function ZC(t,e){return t.target&&Qwe(e.root.dom,t.target)}function pd(t,e){e?t.style.pointerEvents="auto":t.style.pointerEvents="none"}function Sd(t){if(t.key!==void 0)return t.key;switch(t.keyCode){case 9:return"Tab";case 13:return"Enter";case 16:return"Shift";case 17:return"Control";case 27:return"Escape";case 32:return" ";case 37:return"ArrowLeft";case 38:return"ArrowUp";case 39:return"ArrowRight";case 40:return"ArrowDown";case 46:return"Delete"}return""+t.keyCode}function Jwe(t){let e=t;for(;;){if(e.parentNode===null)return e.host!=null?e:null;e=e.parentNode}}let vx;function Zwe(t,e=""){if(t===null){if(vx==null){const n=document.createElement("style");n.type="text/css",e!=""&&n.setAttribute("nonce",e),document.head.appendChild(n),vx=n.sheet}return vx}else{const n=document.createElement("style");return n.type="text/css",e!=""&&n.setAttribute("nonce",e),t.appendChild(n),n.sheet}}function iV(t,e){const n=t.cssRules.length;return t.insertRule(e+"{}",n),t.cssRules[n]}class Gi extends Fw{constructor(e,n,i,s=""){super(),Object.defineProperty(this,"_root",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_rule",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._root=Zwe(e,s);try{this._rule=iV(this._root,n)}catch{this._rule=iV(this._root,":not(*)")}sn(i,(r,a)=>{this.setStyle(r,a)})}set selector(e){this._rule.selectorText=e}get selector(){return this._rule.selectorText}_dispose(){const e=gh(this._root.cssRules,this._rule);if(e===-1)throw new Error("Could not dispose StyleRule");this._root.deleteRule(e)}_setVendorPrefixName(e,n){const i=this._rule.style;i.setProperty("-webkit-"+e,n,""),i.setProperty("-moz-"+e,n,""),i.setProperty("-ms-"+e,n,""),i.setProperty("-o-"+e,n,""),i.setProperty(e,n,"")}setStyle(e,n){e==="transition"?this._setVendorPrefixName(e,n):this._rule.style.setProperty(e,n,"")}}function e0e(){return/apple/i.test(navigator.vendor)&&"ontouchend"in document}function t0e(){return e0e()?1:void 0}function Qn(t,e){return me(t)?t:t!=null&&me(t.value)&&me(e)?e*t.value:0}function VU(t){let e=(""+t).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return e?Math.max(0,(e[1]?e[1].length:0)-(e[2]?+e[2]:0)):0}function ui(t,e=0,n="0"){return typeof t!="string"&&(t=t.toString()),e>t.length?Array(e-t.length+1).join(n)+t:t}function n0e(t){return t.replace(/^[\s]*/,"")}function i0e(t){return t.replace(/[\s]*$/,"")}function $d(t){return n0e(i0e(t))}function s0e(t,e,n=!1,i="..."){if(t.length>e){let s=e-1;for(;s>=0&&t.charAt(s).match(/\w/);)s--;return s>=0&&n==!1?t.substring(0,s+1)+"...":t.substring(0,e)+i}else return t}function eE(t){return t.replace(/\/(date|number|duration)$/i,"")}function sV(t){return t&&t.replace(/<[^>]*>/g,"")}function rV(t){return t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}function r0e(t){const e=/[\u0590-\u05FF\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]/,n=/([^اأدذرزو]*[اأدذرزو])/gi;let i=t.split(/(\s+)/),s=[];return i.forEach(r=>{if(r.match(/^\s+$/))(r=" ")&&(r="  "),s.push(r);else if(e.test(r)){let a=r.split(n).filter(o=>o!=="");s=s.concat(a)}else s=s.concat([...r])}),s}function aV(t,e=!1){const n=new Date(t.getFullYear(),0,0),i=t.getTime()-n.getTime()+(n.getTimezoneOffset()-t.getTimezoneOffset())*60*1e3,s=1e3*60*60*24;return Math.floor(i/s)}function py(t,e=!1){const n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate())),i=n.getUTCDay()||7;n.setUTCDate(n.getUTCDate()+4-i);const s=new Date(Date.UTC(n.getUTCFullYear(),0,1));return Math.ceil(((n.getTime()-s.getTime())/864e5+1)/7)}function a0e(t,e=!1){const n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate())),i=n.getUTCDay()||7;return n.setUTCDate(n.getUTCDate()+4-i),new Date(Date.UTC(n.getUTCFullYear(),0,1)).getFullYear()}function o0e(t,e=!1){const n=py(new Date(t.getFullYear(),t.getMonth(),1),e);let i=py(t,e);return i==1&&(i=53),i-n+1}function l0e(t,e,n=1,i=!1){let s=new Date(e,0,4,0,0,0,0);return i&&s.setUTCFullYear(e),t*7+n-((s.getDay()||7)+3)}function av(t,e){return t>12?t-=12:t===0&&(t=12),e!=null?t+(e-1):t}function ov(t,e=!1,n=!1,i=!1,s){if(i)return e?"Coordinated Universal Time":"UTC";if(s){const o=t.toLocaleString("en-US",{timeZone:s}),l=t.toLocaleString("en-US",{timeZone:s,timeZoneName:e?"long":"short"});return $d(l.substr(o.length))}let r=t.toLocaleString("UTC"),a=t.toLocaleString("UTC",{timeZoneName:e?"long":"short"}).substr(r.length);return n===!1&&(a=a.replace(/ (standard|daylight|summer|winter) /i," ")),$d(a)}function u0e(t){const e=new Date(Date.UTC(2012,0,1,0,0,0,0)),n=new Date(e.toLocaleString("en-US",{timeZone:"UTC"}));return(new Date(e.toLocaleString("en-US",{timeZone:t})).getTime()-n.getTime())/6e4*-1}function oV(t){return t.charAt(0).toUpperCase()+t.slice(1)}function LU(t){let e,n,i,s=t.h,r=t.s,a=t.l;if(r==0)e=n=i=a;else{let o=function(c,f,h){return h<0&&(h+=1),h>1&&(h-=1),h<.16666666666666666?c+(f-c)*6*h:h<.5?f:h<.6666666666666666?c+(f-c)*(.6666666666666666-h)*6:c},l=a<.5?a*(1+r):a+r-a*r,u=2*a-l;e=o(u,l,s+1/3),n=o(u,l,s),i=o(u,l,s-1/3)}return{r:Math.round(e*255),g:Math.round(n*255),b:Math.round(i*255)}}function NU(t){let e=t.r/255,n=t.g/255,i=t.b/255,s=Math.max(e,n,i),r=Math.min(e,n,i),a=0,o=0,l=(s+r)/2;if(s===r)a=o=0;else{let u=s-r;switch(o=l>.5?u/(2-s-r):u/(s+r),s){case e:a=(n-i)/u+(n<i?6:0);break;case n:a=(i-e)/u+2;break;case i:a=(e-n)/u+4;break}a/=6}return{h:a,s:o,l}}function c0e(t,e){return{r:Math.max(0,Math.min(255,t.r+qv(t.r,e))),g:Math.max(0,Math.min(255,t.g+qv(t.g,e))),b:Math.max(0,Math.min(255,t.b+qv(t.b,e))),a:t.a}}function qv(t,e){let n=e>0?255-t:t;return Math.round(n*e)}function d0e(t,e){{let n=Math.min(Math.max(t.r,t.g,t.b),230),i=qv(n,e);return{r:Math.max(0,Math.min(255,Math.round(t.r+i))),g:Math.max(0,Math.min(255,Math.round(t.g+i))),b:Math.max(0,Math.min(255,Math.round(t.b+i))),a:t.a}}}function lV(t){return(t.r*299+t.g*587+t.b*114)/1e3>=128}function h0e(t,e){if(t===void 0||e==1)return t;let n=NU(t);return n.s=e,LU(n)}function f0e(t,e={r:255,g:255,b:255},n={r:255,g:255,b:255}){let i=e,s=n;return lV(n)&&(i=n,s=e),lV(t)?s:i}function Vt(t,e){return t||(t=[]),[...t,...e].filter((n,i,s)=>s.indexOf(n)===i)}function FU(t,e){return!(!e||t.left!=e.left||t.right!=e.right||t.top!=e.top||t.bottom!=e.bottom)}function BU(t){return t[0]==="#"&&(t=t.substr(1)),t.length==3&&(t=t[0].repeat(2)+t[1].repeat(2)+t[2].repeat(2)),parseInt(t,16)}function m0e(t){t=t.replace(/[ ]/g,"");let e=t.match(/^rgb\(([0-9]*),([0-9]*),([0-9]*)\)/i);if(e)e.push("1");else if(e=t.match(/^rgba\(([0-9]*),([0-9]*),([0-9]*),([.0-9]*)\)/i),!e)return 0;let n="";for(let i=1;i<=3;i++){let s=parseInt(e[i]).toString(16);s.length==1&&(s="0"+s),n+=s}return BU(n)}function pl(t){return tt.fromAny(t)}class tt{constructor(e){Object.defineProperty(this,"_hex",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._hex=e|0}get hex(){return this._hex}get r(){return this._hex>>>16}get g(){return this._hex>>8&255}get b(){return this._hex&255}toCSS(e=1){return"rgba("+this.r+", "+this.g+", "+this.b+", "+e+")"}toCSSHex(){return"#"+ui(this.r.toString(16),2)+ui(this.g.toString(16),2)+ui(this.b.toString(16),2)}toHSL(e=1){return NU({r:this.r,g:this.g,b:this.b,a:e})}static fromHSL(e,n,i){const s=LU({h:e,s:n,l:i});return this.fromRGB(s.r,s.g,s.b)}toString(){return this.toCSSHex()}static fromHex(e){return new tt(e)}static fromRGB(e,n,i){return new tt((i|0)+(n<<8)+(e<<16))}static fromString(e){return new tt(BU(e))}static fromCSS(e){return new tt(m0e(e))}static fromAny(e){if(mh(e)){if(e[0]=="#")return tt.fromString(e);if(e.substr(0,3)=="rgb")return tt.fromCSS(e)}else{if(me(e))return tt.fromHex(e);if(e instanceof tt)return tt.fromHex(e.hex)}throw new Error("Unknown color syntax: "+e)}static alternative(e,n,i){const s=f0e({r:e.r,g:e.g,b:e.b},n?{r:n.r,g:n.g,b:n.b}:void 0,i?{r:i.r,g:i.g,b:i.b}:void 0);return this.fromRGB(s.r,s.g,s.b)}static interpolate(e,n,i,s="rgb"){if(s=="hsl"){const r=n.toHSL(),a=i.toHSL();return tt.fromHSL(cl(e,r.h,a.h),cl(e,r.s,a.s),cl(e,r.l,a.l))}else return tt.fromRGB(cl(e,n.r,i.r),cl(e,n.g,i.g),cl(e,n.b,i.b))}static lighten(e,n){const i=c0e({r:e.r,g:e.g,b:e.b},n);return tt.fromRGB(i.r,i.g,i.b)}static brighten(e,n){const i=d0e({r:e.r,g:e.g,b:e.b},n);return tt.fromRGB(i.r,i.g,i.b)}static saturate(e,n){const i=h0e({r:e.r,g:e.g,b:e.b},n);return tt.fromRGB(i.r,i.g,i.b)}}class Jh{constructor(){Object.defineProperty(this,"_listeners",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_killed",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_disabled",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_iterating",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_enabled",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_disposed",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._listeners=[],this._killed=[],this._disabled={},this._iterating=0,this._enabled=!0,this._disposed=!1}isDisposed(){return this._disposed}dispose(){if(!this._disposed){this._disposed=!0;const e=this._listeners;this._iterating=1,this._listeners=null,this._disabled=null;try{oe(e,n=>{n.disposer.dispose()})}finally{this._killed=null,this._iterating=null}}}hasListeners(){return this._listeners.length!==0}hasListenersByType(e){return jwe(this._listeners,n=>(n.type===null||n.type===e)&&!n.killed)}enable(){this._enabled=!0}disable(){this._enabled=!1}enableType(e){delete this._disabled[e]}disableType(e,n=1/0){this._disabled[e]=n}_removeListener(e){if(this._iterating===0){const n=this._listeners.indexOf(e);if(n===-1)throw new Error("Invalid state: could not remove listener");this._listeners.splice(n,1)}else this._killed.push(e)}_removeExistingListener(e,n,i,s){if(this._disposed)throw new Error("EventDispatcher is disposed");this._eachListener(r=>{r.once===e&&r.type===n&&(i===void 0||r.callback===i)&&r.context===s&&r.disposer.dispose()})}isEnabled(e){if(this._disposed)throw new Error("EventDispatcher is disposed");return this._enabled&&this._listeners.length>0&&this.hasListenersByType(e)&&this._disabled[e]===void 0}removeType(e){if(this._disposed)throw new Error("EventDispatcher is disposed");this._eachListener(n=>{n.type===e&&n.disposer.dispose()})}has(e,n,i){return DU(this._listeners,r=>r.once!==!0&&r.type===e&&(n===void 0||r.callback===n)&&r.context===i)!==-1}_shouldDispatch(e){if(this._disposed)throw new Error("EventDispatcher is disposed");const n=this._disabled[e];return me(n)?(n<=1?delete this._disabled[e]:--this._disabled[e],!1):this._enabled}_eachListener(e){++this._iterating;try{oe(this._listeners,e)}finally{--this._iterating,this._iterating===0&&this._killed.length!==0&&(oe(this._killed,n=>{this._removeListener(n)}),this._killed.length=0)}}dispatch(e,n){this._shouldDispatch(e)&&this._eachListener(i=>{!i.killed&&(i.type===null||i.type===e)&&i.dispatch(e,n)})}_on(e,n,i,s,r,a){if(this._disposed)throw new Error("EventDispatcher is disposed");this._removeExistingListener(e,n,i,s);const o={type:n,callback:i,context:s,shouldClone:r,dispatch:a,killed:!1,once:e,disposer:new Di(()=>{o.killed=!0,this._removeListener(o)})};return this._listeners.push(o),o}onAll(e,n,i=!0){return this._on(!1,null,e,n,i,(s,r)=>e.call(n,r)).disposer}on(e,n,i,s=!0){return this._on(!1,e,n,i,s,(r,a)=>n.call(i,a)).disposer}once(e,n,i,s=!0){const r=this._on(!0,e,n,i,s,(a,o)=>{r.disposer.dispose(),n.call(i,o)});return r.disposer}off(e,n,i){this._removeExistingListener(!1,e,n,i)}copyFrom(e){if(this._disposed)throw new Error("EventDispatcher is disposed");if(e===this)throw new Error("Cannot copyFrom the same TargetedEventDispatcher");const n=[];return oe(e._listeners,i=>{!i.killed&&i.shouldClone&&(i.type===null?n.push(this.onAll(i.callback,i.context)):i.once?n.push(this.once(i.type,i.callback,i.context)):n.push(this.on(i.type,i.callback,i.context)))}),new Os(n)}}function uV(t){return Si(this,void 0,void 0,function*(){if(t!==void 0){const e=[];sn(t,(n,i)=>{e.push(i.waitForStop())}),yield Promise.all(e)}})}function cl(t,e,n){return e+t*(n-e)}function g0e(t,e,n){return t>=1?n:e}function jU(t,e,n){return new xt(cl(t,e.percent,n.percent))}function p0e(t,e,n){return tt.interpolate(t,e,n)}function v0e(t,e){return typeof t=="number"&&typeof e=="number"?cl:t instanceof xt&&e instanceof xt?jU:t instanceof tt&&e instanceof tt?p0e:g0e}var qu;(function(t){t[t.Stopped=0]="Stopped",t[t.Playing=1]="Playing",t[t.Paused=2]="Paused"})(qu||(qu={}));function kf(t,e){if(!(t>=0&&t<e))throw new Error("Index out of bounds: "+t)}class Zh{constructor(e=[]){Object.defineProperty(this,"_values",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"events",{enumerable:!0,configurable:!0,writable:!0,value:new Jh}),this._values=e}get values(){return this._values}contains(e){return this._values.indexOf(e)!==-1}removeValue(e){let n=0,i=this._values.length;for(;n<i;)this._values[n]===e?(this.removeIndex(n),--i):++n}indexOf(e){return gh(this._values,e)}get length(){return this._values.length}hasIndex(e){return e>=0&&e<this._values.length}getIndex(e){return this._values[e]}_onPush(e){this.events.isEnabled("push")&&this.events.dispatch("push",{type:"push",target:this,newValue:e})}_onInsertIndex(e,n){this.events.isEnabled("insertIndex")&&this.events.dispatch("insertIndex",{type:"insertIndex",target:this,index:e,newValue:n})}_onSetIndex(e,n,i){this.events.isEnabled("setIndex")&&this.events.dispatch("setIndex",{type:"setIndex",target:this,index:e,oldValue:n,newValue:i})}_onRemoveIndex(e,n){this.events.isEnabled("removeIndex")&&this.events.dispatch("removeIndex",{type:"removeIndex",target:this,index:e,oldValue:n})}_onMoveIndex(e,n,i){this.events.isEnabled("moveIndex")&&this.events.dispatch("moveIndex",{type:"moveIndex",target:this,oldIndex:e,newIndex:n,value:i})}_onClear(e){this.events.isEnabled("clear")&&this.events.dispatch("clear",{type:"clear",target:this,oldValues:e})}setIndex(e,n){kf(e,this._values.length);const i=this._values[e];return i!==n&&(this._values[e]=n,this._onSetIndex(e,i,n)),i}insertIndex(e,n){return kf(e,this._values.length+1),gx(this._values,e,n),this._onInsertIndex(e,n),n}swap(e,n){const i=this._values.length;if(kf(e,i),kf(n,i),e!==n){const s=this._values[e],r=this._values[n];this._values[e]=r,this._onSetIndex(e,s,r),this._values[n]=s,this._onSetIndex(n,r,s)}}removeIndex(e){kf(e,this._values.length);const n=this._values[e];return mk(this._values,e),this._onRemoveIndex(e,n),n}moveValue(e,n){let i=this.indexOf(e);if(i!==-1)if(mk(this._values,i),n==null){const s=this._values.length;this._values.push(e),this._onMoveIndex(i,s,e)}else gx(this._values,n,e),this._onMoveIndex(i,n,e);else n==null?(this._values.push(e),this._onPush(e)):(gx(this._values,n,e),this._onInsertIndex(n,e));return e}push(e){return this._values.push(e),this._onPush(e),e}unshift(e){return this.insertIndex(0,e),e}pushAll(e){oe(e,n=>{this.push(n)})}copyFrom(e){this.pushAll(e._values)}pop(){return this._values.length-1<0?void 0:this.removeIndex(this._values.length-1)}shift(){return this._values.length?this.removeIndex(0):void 0}setAll(e){const n=this._values;this._values=[],this._onClear(n),oe(e,i=>{this._values.push(i),this._onPush(i)})}clear(){this.setAll([])}*[Symbol.iterator](){const e=this._values.length;for(let n=0;n<e;++n)yield this._values[n]}each(e){oe(this._values,e)}eachReverse(e){cm(this._values,e)}}class vy extends Zh{constructor(){super(...arguments),Object.defineProperty(this,"autoDispose",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"_disposed",{enumerable:!0,configurable:!0,writable:!0,value:!1})}_onSetIndex(e,n,i){this.autoDispose&&n.dispose(),super._onSetIndex(e,n,i)}_onRemoveIndex(e,n){this.autoDispose&&n.dispose(),super._onRemoveIndex(e,n)}_onClear(e){this.autoDispose&&oe(e,n=>{n.dispose()}),super._onClear(e)}_dispose(){this.autoDispose&&oe(this._values,e=>{e.dispose()})}isDisposed(){return this._disposed}dispose(){this._disposed||(this._disposed=!0,this._dispose())}}class ji extends vy{constructor(e,n){super(),Object.defineProperty(this,"template",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"make",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.template=e,this.make=n}_dispose(){super._dispose(),this.autoDispose&&this.template.dispose()}}class _0e extends Zh{constructor(e){super(),Object.defineProperty(this,"_disposed",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_container",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_events",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._container=e,this._events=this.events.onAll(n=>{if(n.type==="clear")oe(n.oldValues,i=>{this._onRemoved(i)});else if(n.type==="push")this._onInserted(n.newValue);else if(n.type==="setIndex")this._onRemoved(n.oldValue),this._onInserted(n.newValue,n.index);else if(n.type==="insertIndex")this._onInserted(n.newValue,n.index);else if(n.type==="removeIndex")this._onRemoved(n.oldValue);else if(n.type==="moveIndex")this._onRemoved(n.value),this._onInserted(n.value,n.newIndex);else throw new Error("Unknown IListEvent type")})}_onInserted(e,n){e._setParent(this._container,!0);const i=this._container._childrenDisplay;n===void 0?i.addChild(e._display):i.addChildAt(e._display,n)}_onRemoved(e){this._container._childrenDisplay.removeChild(e._display),this._container.markDirtyBounds(),this._container.markDirty()}isDisposed(){return this._disposed}dispose(){this._disposed||(this._disposed=!0,this._events.dispose(),oe(this.values,e=>{e.dispose()}))}}const $U=Math.PI,cg=$U/180,dm=180/$U;function ci(t,e,n){if(!me(e)||e<=0)return Math.round(t);{let i=Math.pow(10,e);return Math.round(t*i)/i}}function y0e(t,e){if(!me(e)||e<=0)return Math.ceil(t);{let n=Math.pow(10,e);return Math.ceil(t*n)/n}}function Kn(t,e,n){return Math.min(Math.max(t,e),n)}function Dr(t){return Math.sin(cg*t)}function Ba(t){return Math.cos(cg*t)}function tE(t){return t=t%360,t<0&&(t+=360),t}function _k(t,e,n,i,s){let r=Number.MAX_VALUE,a=Number.MAX_VALUE,o=-Number.MAX_VALUE,l=-Number.MAX_VALUE,u=[];u.push(_x(s,n)),u.push(_x(s,i));let d=Math.min(Math.floor(n/90)*90,Math.floor(i/90)*90),c=Math.max(Math.ceil(n/90)*90,Math.ceil(i/90)*90);for(let f=d;f<=c;f+=90)f>=n&&f<=i&&u.push(_x(s,f));for(let f=0;f<u.length;f++){let h=u[f];h.x<r&&(r=h.x),h.y<a&&(a=h.y),h.x>o&&(o=h.x),h.y>l&&(l=h.y)}return{left:t+r,top:e+a,right:t+o,bottom:e+l}}function _x(t,e){return{x:t*Ba(e),y:t*Dr(e)}}function b0e(t){const e=t.length;if(e>0){let n=t[0],i=n.left,s=n.top,r=n.right,a=n.bottom;if(e>1)for(let o=1;o<e;o++)n=t[o],i=Math.min(n.left,i),r=Math.max(n.right,r),s=Math.min(n.top,s),a=Math.max(n.bottom,a);return{left:i,right:r,top:s,bottom:a}}return{left:0,right:0,top:0,bottom:0}}function w0e(t,e){return t.x>=e.left&&t.y>=e.top&&t.x<=e.right&&t.y<=e.bottom}function cV(t){return t}function dl(t){return t*t*t}function ld(t){return function(e){return 1-t(1-e)}}function x0e(t){return function(e){return e<=.5?t(e*2)/2:1-t((1-e)*2)/2}}class S0e{constructor(e,n){Object.defineProperty(this,"_entity",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_settings",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_userSettings",{enumerable:!0,configurable:!0,writable:!0,value:{}}),this._entity=e,this._settings=n,sn(n,i=>{this._userSettings[i]=!0})}get(e,n){const i=this._settings[e];return i!==void 0?i:n}setRaw(e,n){this._settings[e]=n}set(e,n){this._userSettings[e]=!0,this.setRaw(e,n)}remove(e){delete this._userSettings[e],delete this._settings[e]}setAll(e){wi(e).forEach(n=>{this.set(n,e[n])})}_eachSetting(e){sn(this._settings,e)}apply(){const e={};e.stateAnimationEasing=!0,e.stateAnimationDuration=!0;const n=this._entity.states.lookup("default");this._eachSetting((i,s)=>{e[i]||(e[i]=!0,this!==n&&(i in n._settings||(n._settings[i]=this._entity.get(i))),this._entity.set(i,s))})}applyAnimate(e){e==null&&(e=this._settings.stateAnimationDuration),e==null&&(e=this.get("stateAnimationDuration",this._entity.get("stateAnimationDuration",0)));let n=this._settings.stateAnimationEasing;n==null&&(n=this.get("stateAnimationEasing",this._entity.get("stateAnimationEasing",dl)));const i=this._entity.states.lookup("default"),s={};s.stateAnimationEasing=!0,s.stateAnimationDuration=!0;const r={};return this._eachSetting((a,o)=>{if(!s[a]){s[a]=!0,this!=i&&(a in i._settings||(i._settings[a]=this._entity.get(a)));const l=this._entity.animate({key:a,to:o,duration:e,easing:n});l&&(r[a]=l)}}),r}}class k0e{constructor(e){Object.defineProperty(this,"_states",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_entity",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._entity=e}lookup(e){return this._states[e]}create(e,n){const i=this._states[e];if(i)return i.setAll(n),i;{const s=new S0e(this._entity,n);return this._states[e]=s,s}}remove(e){delete this._states[e]}apply(e){const n=this._states[e];n&&n.apply(),this._entity._applyState(e)}applyAnimate(e,n){let i;const s=this._states[e];return s&&(i=s.applyAnimate(n)),this._entity._applyStateAnimated(e,n),i}}class T0e{constructor(){Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:"5.10.10"}),Object.defineProperty(this,"licenses",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"entitiesById",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"rootElements",{enumerable:!0,configurable:!0,writable:!0,value:[]})}}const Pa=new T0e;function ja(t,e){return t===e?0:t<e?-1:1}function UU(t,e,n){const i=t.length,s=e.length,r=Math.min(i,s);for(let a=0;a<r;++a){const o=n(t[a],e[a]);if(o!==0)return o}return ja(i,s)}function dV(t,e){return t===e?0:t<e?-1:1}class P0e{constructor(e){Object.defineProperty(this,"_entity",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_callbacks",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_disabled",{enumerable:!0,configurable:!0,writable:!0,value:{}}),this._entity=e}add(e,n){let i=this._callbacks[e];return i===void 0&&(i=this._callbacks[e]=[]),i.push(n),this._entity._markDirtyKey(e),new Di(()=>{ns(i,n)&&this._entity._markDirtyKey(e)})}remove(e){const n=this._callbacks[e];n!==void 0&&(delete this._callbacks[e],n.length!==0&&this._entity._markDirtyKey(e))}enable(e){this._disabled[e]&&(delete this._disabled[e],this._entity._markDirtyKey(e))}disable(e){this._disabled[e]||(this._disabled[e]=!0,this._entity._markDirtyKey(e))}fold(e,n){if(!this._disabled[e]){const i=this._callbacks[e];if(i!==void 0)for(let s=0,r=i.length;s<r;++s)n=i[s](n,this._entity,e)}return n}}class lv{constructor(e,n,i,s,r,a,o){Object.defineProperty(this,"_animation",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_from",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_to",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_duration",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_easing",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_loops",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_interpolate",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_oldTime",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_time",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_stopped",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_playing",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"events",{enumerable:!0,configurable:!0,writable:!0,value:new Jh}),this._animation=e,this._from=n,this._to=i,this._duration=s,this._easing=r,this._loops=a,this._interpolate=v0e(n,i),this._oldTime=o}get to(){return this._to}get from(){return this._from}get playing(){return this._playing}get stopped(){return this._stopped}stop(){this._stopped||(this._stopped=!0,this._playing=!1,this.events.isEnabled("stopped")&&this.events.dispatch("stopped",{type:"stopped",target:this}))}pause(){this._playing=!1,this._oldTime=null}play(){!this._stopped&&!this._playing&&(this._playing=!0,this._animation._startAnimation())}get percentage(){return this._time/this._duration}waitForStop(){return new Promise((e,n)=>{if(this._stopped)e();else{const i=()=>{s.dispose(),e()},s=this.events.on("stopped",i)}})}_checkEnded(){return this._loops>1?(--this._loops,!1):!0}_run(e){this._oldTime!==null&&(this._time+=e-this._oldTime,this._time>this._duration&&(this._time=this._duration)),this._oldTime=e}_reset(e){this._oldTime=e,this._time=0}_value(e){return this._interpolate(this._easing(e),this._from,this._to)}}let C0e=0;class HU{constructor(e){Object.defineProperty(this,"uid",{enumerable:!0,configurable:!0,writable:!0,value:++C0e}),Object.defineProperty(this,"_settings",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_privateSettings",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_settingEvents",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_privateSettingEvents",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_prevSettings",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_prevPrivateSettings",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_animatingSettings",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_animatingPrivateSettings",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_disposed",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_userProperties",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"enableDispose",{enumerable:!0,configurable:!0,writable:!0,value:!0}),this._settings=e}_checkDirty(){wi(this._settings).forEach(e=>{this._userProperties[e]=!0,this._markDirtyKey(e)})}resetUserSettings(){this._userProperties={}}_runAnimation(e){let n=qu.Stopped;if(!this.isDisposed()){let i=!1,s=!1;sn(this._animatingSettings,(r,a)=>{if(a.stopped)this._stopAnimation(r);else if(a.playing){a._run(e);const o=a.percentage;o>=1?a._checkEnded()?this.set(r,a._value(1)):(i=!0,a._reset(e),this._set(r,a._value(1))):(i=!0,this._set(r,a._value(o)))}else s=!0}),sn(this._animatingPrivateSettings,(r,a)=>{if(a.stopped)this._stopAnimationPrivate(r);else if(a.playing){a._run(e);const o=a.percentage;o>=1?a._checkEnded()?this.setPrivate(r,a._value(1)):(i=!0,a._reset(e),this._setPrivate(r,a._value(1))):(i=!0,this._setPrivate(r,a._value(o)))}else s=!0}),i?n=qu.Playing:s&&(n=qu.Paused)}return n}_markDirtyKey(e){this.markDirty()}_markDirtyPrivateKey(e){this.markDirty()}on(e,n){let i=this._settingEvents[e];return i===void 0&&(i=this._settingEvents[e]=[]),i.push(n),new Di(()=>{ns(i,n),i.length===0&&delete this._settingEvents[e]})}off(e,n){let i=this._settingEvents[e];i!==void 0&&n!==void 0?ns(i,n):delete this._settingEvents[e]}onPrivate(e,n){let i=this._privateSettingEvents[e];return i===void 0&&(i=this._privateSettingEvents[e]=[]),i.push(n),new Di(()=>{ns(i,n),i.length===0&&delete this._privateSettingEvents[e]})}offPrivate(e,n){let i=this._privateSettingEvents[e];i!==void 0&&n!==void 0?ns(i,n):delete this._privateSettingEvents[e]}getRaw(e,n){const i=this._settings[e];return i!==void 0?i:n}has(e){return e in this._settings}get(e,n){return this.getRaw(e,n)}_sendKeyEvent(e,n){const i=this._settingEvents[e];i!==void 0&&oe(i,s=>{s(n,this,e)})}_sendPrivateKeyEvent(e,n){const i=this._privateSettingEvents[e];i!==void 0&&oe(i,s=>{s(n,this,e)})}_setRaw(e,n,i){this._prevSettings[e]=n,this._sendKeyEvent(e,i)}setRaw(e,n){const i=this._settings[e];this._settings[e]=n,i!==n&&this._setRaw(e,i,n)}_set(e,n){const i=this._settings[e];this._settings[e]=n,i!==n&&(this._setRaw(e,i,n),this._markDirtyKey(e))}_stopAnimation(e){const n=this._animatingSettings[e];n&&(delete this._animatingSettings[e],n.stop())}set(e,n){return this._set(e,n),this._stopAnimation(e),n}remove(e){e in this._settings&&(this._prevSettings[e]=this._settings[e],delete this._settings[e],this._sendKeyEvent(e,void 0),this._markDirtyKey(e)),this._stopAnimation(e)}removeAll(){oe(wi(this._settings),e=>{this.remove(e)})}getPrivate(e,n){const i=this._privateSettings[e];return i!==void 0?i:n}_setPrivateRaw(e,n,i){this._prevPrivateSettings[e]=n,this._sendPrivateKeyEvent(e,i)}setPrivateRaw(e,n){const i=this._privateSettings[e];this._privateSettings[e]=n,i!==n&&this._setPrivateRaw(e,i,n)}_setPrivate(e,n){const i=this._privateSettings[e];this._privateSettings[e]=n,i!==n&&(this._setPrivateRaw(e,i,n),this._markDirtyPrivateKey(e))}_stopAnimationPrivate(e){const n=this._animatingPrivateSettings[e];n&&(n.stop(),delete this._animatingPrivateSettings[e])}setPrivate(e,n){return this._setPrivate(e,n),this._stopAnimationPrivate(e),n}removePrivate(e){e in this._privateSettings&&(this._prevPrivateSettings[e]=this._privateSettings[e],delete this._privateSettings[e],this._markDirtyPrivateKey(e)),this._stopAnimationPrivate(e)}setAll(e){sn(e,(n,i)=>{this.set(n,i)})}animate(e){const n=e.key,i=e.to,s=e.duration||0,r=e.loops||1,a=e.from===void 0?this.get(n):e.from,o=e.easing===void 0?cV:e.easing;if(s===0)this.set(n,i);else if(a===void 0||a===i)this.set(n,i);else{this.set(n,a);const u=this._animatingSettings[n]=new lv(this,a,i,s,o,r,this._animationTime());return this._startAnimation(),u}const l=new lv(this,a,i,s,o,r,null);return l.stop(),l}animatePrivate(e){const n=e.key,i=e.to,s=e.duration||0,r=e.loops||1,a=e.from===void 0?this.getPrivate(n):e.from,o=e.easing===void 0?cV:e.easing;if(s===0)this.setPrivate(n,i);else if(a===void 0||a===i)this.setPrivate(n,i);else{this.setPrivate(n,a);const u=this._animatingPrivateSettings[n]=new lv(this,a,i,s,o,r,this._animationTime());return this._startAnimation(),u}const l=new lv(this,a,i,s,o,r,null);return l.stop(),l}_dispose(){}isDisposed(){return this._disposed}dispose(){this.enableDispose&&!this._disposed&&(this._disposed=!0,this._dispose())}}class Ei extends HU{constructor(e,n,i,s=[]){if(super(n),Object.defineProperty(this,"_root",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_user_id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"states",{enumerable:!0,configurable:!0,writable:!0,value:new k0e(this)}),Object.defineProperty(this,"adapters",{enumerable:!0,configurable:!0,writable:!0,value:new P0e(this)}),Object.defineProperty(this,"events",{enumerable:!0,configurable:!0,writable:!0,value:this._createEvents()}),Object.defineProperty(this,"_userPrivateProperties",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_dirty",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_dirtyPrivate",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_template",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_templates",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_internalTemplates",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_defaultThemes",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_templateDisposers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_disposers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_runSetup",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"_disposerProperties",{enumerable:!0,configurable:!0,writable:!0,value:{}}),!i)throw new Error("You cannot use `new Class()`, instead use `Class.new()`");this._root=e,this._internalTemplates=s,n.id&&this._registerId(n.id)}static new(e,n,i){const s=new this(e,n,!0);return s._template=i,s._afterNew(),s}static _new(e,n,i=[]){const s=new this(e,n,!0,i);return s._afterNew(),s}_afterNew(){this._checkDirty();let e=!1;const n=this._template;n&&(e=!0,n._setObjectTemplate(this)),oe(this._internalTemplates,i=>{e=!0,i._setObjectTemplate(this)}),e&&this._applyTemplates(!1),this.states.create("default",{}),this._setDefaults()}_afterNewApplyThemes(){this._checkDirty();const e=this._template;e&&e._setObjectTemplate(this),oe(this._internalTemplates,n=>{n._setObjectTemplate(this)}),this.states.create("default",{}),this._setDefaults(),this._applyThemes()}_createEvents(){return new Jh}get classNames(){return this.constructor.classNames}get className(){return this.constructor.className}_setDefaults(){}_setDefaultFn(e,n){const i=this.get(e);if(i)return i;{const s=n();return this.set(e,s),s}}_setDefault(e,n){this.has(e)||super.set(e,n)}_setRawDefault(e,n){this.has(e)||super.setRaw(e,n)}_clearDirty(){wi(this._dirty).forEach(e=>{this._dirty[e]=!1}),wi(this._dirtyPrivate).forEach(e=>{this._dirtyPrivate[e]=!1})}isDirty(e){return!!this._dirty[e]}isPrivateDirty(e){return!!this._dirtyPrivate[e]}_markDirtyKey(e){this._dirty[e]=!0,super._markDirtyKey(e)}_markDirtyPrivateKey(e){this._dirtyPrivate[e]=!0,super._markDirtyKey(e)}isType(e){return this.classNames.indexOf(e)!==-1}_pushPropertyDisposer(e,n){let i=this._disposerProperties[e];return i===void 0&&(i=this._disposerProperties[e]=[]),i.push(n),n}_disposeProperty(e){const n=this._disposerProperties[e];n!==void 0&&(oe(n,i=>{i.dispose()}),delete this._disposerProperties[e])}set template(e){const n=this._template;n!==e&&(this._template=e,n&&n._removeObjectTemplate(this),e&&e._setObjectTemplate(this),this._applyTemplates())}get template(){return this._template}markDirty(){this._root._addDirtyEntity(this)}_startAnimation(){this._root._addAnimation(this)}_animationTime(){return this._root.animationTime}_applyState(e){}_applyStateAnimated(e,n){}get(e,n){const i=this.adapters.fold(e,this._settings[e]);return i!==void 0?i:n}isUserSetting(e){return this._userProperties[e]||!1}set(e,n){return this._userProperties[e]=!0,super.set(e,n)}setRaw(e,n){this._userProperties[e]=!0,super.setRaw(e,n)}_setSoft(e,n){return this._userProperties[e]?n:super.set(e,n)}remove(e){delete this._userProperties[e],this._removeTemplateProperty(e)}setPrivate(e,n){return this._userPrivateProperties[e]=!0,super.setPrivate(e,n)}setPrivateRaw(e,n){this._userPrivateProperties[e]=!0,super.setPrivateRaw(e,n)}removePrivate(e){delete this._userPrivateProperties[e],this._removeTemplatePrivateProperty(e)}_setTemplateProperty(e,n,i){if(!this._userProperties[n]){const s=this._findTemplateByKey(n);e===s&&super.set(n,i)}}_setTemplatePrivateProperty(e,n,i){if(!this._userPrivateProperties[n]){const s=this._findTemplateByPrivateKey(n);e===s&&super.setPrivate(n,i)}}_removeTemplateProperty(e){if(!this._userProperties[e]){const n=this._findTemplateByKey(e);n?super.set(e,n._settings[e]):super.remove(e)}}_removeTemplatePrivateProperty(e){if(!this._userPrivateProperties[e]){const n=this._findTemplateByPrivateKey(e);n?super.setPrivate(e,n._privateSettings[e]):super.removePrivate(e)}}_walkParents(e){e(this._root._rootContainer),e(this)}_applyStateByKey(e){const n=this.states.create(e,{}),i={};this._eachTemplate(s=>{const r=s.states.lookup(e);r&&r._apply(n,i)}),sn(n._settings,s=>{!i[s]&&!n._userSettings[s]&&n.remove(s)})}_applyTemplate(e,n){this._templateDisposers.push(e._apply(this,n)),sn(e._settings,(i,s)=>{!n.settings[i]&&!this._userProperties[i]&&(n.settings[i]=!0,super.set(i,s))}),sn(e._privateSettings,(i,s)=>{!n.privateSettings[i]&&!this._userPrivateProperties[i]&&(n.privateSettings[i]=!0,super.setPrivate(i,s))}),this._runSetup&&e.setup&&(this._runSetup=!1,e.setup(this))}_findStaticTemplate(e){if(this._template&&e(this._template))return this._template}_eachTemplate(e){this._findStaticTemplate(n=>(e(n),!1)),cm(this._internalTemplates,e),oe(this._templates,e)}_applyTemplates(e=!0){e&&this._disposeTemplates();const n={settings:{},privateSettings:{},states:{}};this._eachTemplate(i=>{this._applyTemplate(i,n)}),e&&(sn(this._settings,i=>{!this._userProperties[i]&&!n.settings[i]&&super.remove(i)}),sn(this._privateSettings,i=>{!this._userPrivateProperties[i]&&!n.privateSettings[i]&&super.removePrivate(i)}))}_findTemplate(e){const n=this._findStaticTemplate(e);if(n===void 0){const i=Uwe(this._internalTemplates,e);return i===void 0?AU(this._templates,e):i}else return n}_findTemplateByKey(e){return this._findTemplate(n=>e in n._settings)}_findTemplateByPrivateKey(e){return this._findTemplate(n=>e in n._privateSettings)}_disposeTemplates(){oe(this._templateDisposers,e=>{e.dispose()}),this._templateDisposers.length=0}_removeTemplates(){oe(this._templates,e=>{e._removeObjectTemplate(this)}),this._templates.length=0}_applyThemes(e=!1){let n=!1;const i=[];let s=[];const r=new Set,a=this.get("themeTagsSelf");return a&&oe(a,o=>{r.add(o)}),this._walkParents(o=>{o===this._root._rootContainer&&(n=!0),o._defaultThemes.length>0&&i.push(o._defaultThemes);const l=o.get("themes");l&&s.push(l);const u=o.get("themeTags");u&&oe(u,d=>{r.add(d)})}),s=i.concat(s),this._removeTemplates(),(n||e)&&cm(this.classNames,o=>{const l=[];oe(s,u=>{oe(u,d=>{const c=d._lookupRules(o);c&&cm(c,f=>{if(f.tags.every(p=>r.has(p))){const p=RU(l,g=>{const v=ja(f.tags.length,g.tags.length);return v===0?UU(f.tags,g.tags,ja):v});l.splice(p.index,0,f)}})})}),oe(l,u=>{this._templates.push(u.template),u.template._setObjectTemplate(this)})}),this._applyTemplates(),(n||e)&&(this._runSetup=!1),n||e}_changed(){}_beforeChanged(){if(this.isDirty("id")){const e=this.get("id");e&&this._registerId(e);const n=this._prevSettings.id;n&&delete Pa.entitiesById[n]}}_registerId(e){if(Pa.entitiesById[e]&&Pa.entitiesById[e]!==this)throw new Error('An entity with id "'+e+'" already exists.');Pa.entitiesById[e]=this}_afterChanged(){}addDisposer(e){return this._disposers.push(e),e}_dispose(){super._dispose();const e=this._template;e&&e._removeObjectTemplate(this),oe(this._internalTemplates,i=>{i._removeObjectTemplate(this)}),this._removeTemplates(),this._disposeTemplates(),this.events.dispose(),this._disposers.forEach(i=>{i.dispose()}),sn(this._disposerProperties,(i,s)=>{oe(s,r=>{r.dispose()})});const n=this.get("id");n&&delete Pa.entitiesById[n]}setTimeout(e,n){const i=setTimeout(()=>{this.removeDispose(s),e()},n),s=new Di(()=>{clearTimeout(i)});return this._disposers.push(s),s}removeDispose(e){if(!this.isDisposed()){let n=gh(this._disposers,e);n>-1&&this._disposers.splice(n,1)}e.dispose()}hasTag(e){return gh(this.get("themeTags",[]),e)!==-1}addTag(e){if(!this.hasTag(e)){const n=this.get("themeTags",[]);n.push(e),this.set("themeTags",n)}}removeTag(e){if(this.hasTag(e)){const n=this.get("themeTags",[]);Ir(n,e),this.set("themeTags",n)}}_t(e,n,...i){return this._root.language.translate(e,n,...i)}get root(){return this._root}}Object.defineProperty(Ei,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Entity"});Object.defineProperty(Ei,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:["Entity"]});function yk(t){sn(t,(e,n)=>{cp(n)&&typeof n.dispose=="function"&&(n.enableDispose=!0,n.dispose())})}class E0e{constructor(e,n,i){Object.defineProperty(this,"_settings",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_name",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_template",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._name=e,this._template=n,this._settings=i}_dispose(){yk(this._settings)}get(e,n){const i=this._settings[e];return i!==void 0?i:n}set(e,n){this._settings[e]=n,this._template._stateChanged(this._name)}remove(e){delete this._settings[e],this._template._stateChanged(this._name)}setAll(e){wi(e).forEach(n=>{this._settings[n]=e[n]}),this._template._stateChanged(this._name)}_apply(e,n){sn(this._settings,(i,s)=>{!n[i]&&!e._userSettings[i]&&(n[i]=!0,e.setRaw(i,s))})}}class I0e{constructor(e){Object.defineProperty(this,"_template",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_states",{enumerable:!0,configurable:!0,writable:!0,value:{}}),this._template=e}_dispose(){sn(this._states,(e,n)=>{n._dispose()})}lookup(e){return this._states[e]}create(e,n){const i=this._states[e];if(i)return i.setAll(n),i;{const s=new E0e(e,this._template,n);return this._states[e]=s,this._template._stateChanged(e),s}}remove(e){delete this._states[e],this._template._stateChanged(e)}_apply(e,n){sn(this._states,(i,s)=>{let r=n.states[i];r==null&&(r=n.states[i]={});const a=e.states.create(i,{});s._apply(a,r)})}}class D0e{constructor(){Object.defineProperty(this,"_callbacks",{enumerable:!0,configurable:!0,writable:!0,value:{}})}add(e,n){let i=this._callbacks[e];return i===void 0&&(i=this._callbacks[e]=[]),i.push(n),new Di(()=>{ns(i,n),i.length===0&&delete this._callbacks[e]})}remove(e){this._callbacks[e]!==void 0&&delete this._callbacks[e]}_apply(e){const n=[];return sn(this._callbacks,(i,s)=>{oe(s,r=>{n.push(e.adapters.add(i,r))})}),new Os(n)}}class Sn{constructor(e,n){if(Object.defineProperty(this,"_disposed",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_settings",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_privateSettings",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_settingEvents",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_privateSettingEvents",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_entities",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"states",{enumerable:!0,configurable:!0,writable:!0,value:new I0e(this)}),Object.defineProperty(this,"adapters",{enumerable:!0,configurable:!0,writable:!0,value:new D0e}),Object.defineProperty(this,"events",{enumerable:!0,configurable:!0,writable:!0,value:new Jh}),Object.defineProperty(this,"setup",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),!n)throw new Error("You cannot use `new Class()`, instead use `Class.new()`");this._settings=e}static new(e){return new Sn(e,!0)}_dispose(){yk(this._settings),yk(this._privateSettings)}isDisposed(){return this._disposed}dispose(){this._disposed||(this._disposed=!0,this._dispose())}_checkDisposed(){if(this._disposed)throw new Error("Template is disposed")}get entities(){return this._entities}get(e,n){this._checkDisposed();const i=this._settings[e];return i!==void 0?i:n}setRaw(e,n){this._checkDisposed(),this._settings[e]=n}set(e,n){this._checkDisposed(),this._settings[e]!==n&&(this.setRaw(e,n),this._entities.forEach(i=>{i._setTemplateProperty(this,e,n)}))}remove(e){this._checkDisposed(),e in this._settings&&(delete this._settings[e],this._entities.forEach(n=>{n._removeTemplateProperty(e)}))}removeAll(){this._checkDisposed(),sn(this._settings,(e,n)=>{this.remove(e)})}getPrivate(e,n){this._checkDisposed();const i=this._privateSettings[e];return i!==void 0?i:n}setPrivateRaw(e,n){return this._checkDisposed(),this._privateSettings[e]=n,n}setPrivate(e,n){return this._checkDisposed(),this._privateSettings[e]!==n&&(this.setPrivateRaw(e,n),this._entities.forEach(i=>{i._setTemplatePrivateProperty(this,e,n)})),n}removePrivate(e){this._checkDisposed(),e in this._privateSettings&&(delete this._privateSettings[e],this._entities.forEach(n=>{n._removeTemplatePrivateProperty(e)}))}setAll(e){this._checkDisposed(),sn(e,(n,i)=>{this.set(n,i)})}on(e,n){this._checkDisposed();let i=this._settingEvents[e];return i===void 0&&(i=this._settingEvents[e]=[]),i.push(n),new Di(()=>{ns(i,n),i.length===0&&delete this._settingEvents[e]})}onPrivate(e,n){this._checkDisposed();let i=this._privateSettingEvents[e];return i===void 0&&(i=this._privateSettingEvents[e]=[]),i.push(n),new Di(()=>{ns(i,n),i.length===0&&delete this._privateSettingEvents[e]})}_apply(e,n){this._checkDisposed();const i=[];return sn(this._settingEvents,(s,r)=>{oe(r,a=>{i.push(e.on(s,a))})}),sn(this._privateSettingEvents,(s,r)=>{oe(r,a=>{i.push(e.onPrivate(s,a))})}),this.states._apply(e,n),i.push(this.adapters._apply(e)),i.push(e.events.copyFrom(this.events)),new Os(i)}_setObjectTemplate(e){this._checkDisposed(),this._entities.push(e)}_removeObjectTemplate(e){Ir(this._entities,e)}_stateChanged(e){this._checkDisposed(),this._entities.forEach(n=>{n._applyStateByKey(e)})}}class Bw extends Jh{constructor(e){super(),Object.defineProperty(this,"_sprite",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_rendererDisposers",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_dispatchParents",{enumerable:!0,configurable:!0,writable:!0,value:!0}),this._sprite=e}_makePointerEvent(e,n){return{type:e,originalEvent:n.event,point:n.point,simulated:n.simulated,native:n.native,target:this._sprite}}_onRenderer(e,n){this._sprite.set("interactive",!0),this._sprite._display.interactive=!0;let i=this._rendererDisposers[e];if(i===void 0){const s=this._sprite._display.on(e,r=>{n.call(this,r)});i=this._rendererDisposers[e]=new JC(()=>{delete this._rendererDisposers[e],s.dispose()})}return i.increment()}_on(e,n,i,s,r,a){const o=super._on(e,n,i,s,r,a),l=Bw.RENDERER_EVENTS[n];return l!==void 0&&(o.disposer=new Os([o.disposer,this._onRenderer(n,l)])),o}stopParentDispatch(){this._dispatchParents=!1}dispatchParents(e,n){const i=this._dispatchParents;this._dispatchParents=!0;try{this.dispatch(e,n),this._dispatchParents&&this._sprite.parent&&this._sprite.parent.events.dispatchParents(e,n)}finally{this._dispatchParents=i}}}Object.defineProperty(Bw,"RENDERER_EVENTS",{enumerable:!0,configurable:!0,writable:!0,value:{click:function(t){this.isEnabled("click")&&!this._sprite.isDragging()&&this._sprite._hasDown()&&!this._sprite._hasMoved(this._makePointerEvent("click",t))&&this.dispatch("click",this._makePointerEvent("click",t))},rightclick:function(t){this.isEnabled("rightclick")&&this.dispatch("rightclick",this._makePointerEvent("rightclick",t))},middleclick:function(t){this.isEnabled("middleclick")&&this.dispatch("middleclick",this._makePointerEvent("middleclick",t))},dblclick:function(t){this.dispatchParents("dblclick",this._makePointerEvent("dblclick",t))},pointerover:function(t){const e=this._sprite;let n=!0;if(e.getPrivate("trustBounds")){e._getBounds();const i=e.globalBounds();if(e.isType("Graphics")){const s=e.get("strokeWidth",1)/2;s>=1&&(i.left-=s,i.right+=s,i.top-=s,i.bottom+=s)}w0e(t.point,i)||(n=!1,e._root._renderer.removeHovering(e._display))}n&&this.isEnabled("pointerover")&&this.dispatch("pointerover",this._makePointerEvent("pointerover",t))},pointerout:function(t){this.isEnabled("pointerout")&&this.dispatch("pointerout",this._makePointerEvent("pointerout",t))},pointerdown:function(t){this.dispatchParents("pointerdown",this._makePointerEvent("pointerdown",t))},pointerup:function(t){this.isEnabled("pointerup")&&this.dispatch("pointerup",this._makePointerEvent("pointerup",t))},globalpointerup:function(t){this.isEnabled("globalpointerup")&&this.dispatch("globalpointerup",this._makePointerEvent("globalpointerup",t))},globalpointermove:function(t){this.isEnabled("globalpointermove")&&this.dispatch("globalpointermove",this._makePointerEvent("globalpointermove",t))},wheel:function(t){this.dispatchParents("wheel",{type:"wheel",target:this._sprite,originalEvent:t.event,point:t.point})}}});class ga extends Ei{constructor(){super(...arguments),Object.defineProperty(this,"_adjustedLocalBounds",{enumerable:!0,configurable:!0,writable:!0,value:{left:0,right:0,top:0,bottom:0}}),Object.defineProperty(this,"_localBounds",{enumerable:!0,configurable:!0,writable:!0,value:{left:0,right:0,top:0,bottom:0}}),Object.defineProperty(this,"_parent",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_dataItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_templateField",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_sizeDirty",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_isDragging",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_dragEvent",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_dragPoint",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_isHidden",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_isShowing",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_isHiding",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_isDown",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_downPoint",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_downPoints",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_toggleDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_dragDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tooltipDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_hoverDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_focusDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tooltipMoveDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tooltipPointerDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_statesHandled",{enumerable:!0,configurable:!0,writable:!0,value:!1})}_afterNew(){this.setPrivateRaw("visible",!0),super._afterNew()}markDirtyKey(e){this._markDirtyKey(e)}_markDirtyKey(e){super._markDirtyKey(e),(e=="x"||e=="y"||e=="dx"||e=="dy")&&(this.markDirtyBounds(),this._addPercentagePositionChildren(),this.markDirtyPosition())}_markDirtyPrivateKey(e){super._markDirtyPrivateKey(e),(e=="x"||e=="y")&&this.markDirtyPosition()}_removeTemplateField(){this._templateField&&this._templateField._removeObjectTemplate(this)}_createEvents(){return new Bw(this)}_processTemplateField(){let e;const n=this.get("templateField");if(n){const i=this.dataItem;if(i){const s=i.dataContext;s&&(e=s[n],!(e instanceof Sn)&&e&&(e=Sn.new(e)))}}this._templateField!==e&&(this._removeTemplateField(),this._templateField=e,e&&e._setObjectTemplate(this),this._applyTemplates())}_setDataItem(e){const n=this._dataItem;this._dataItem=e,this._processTemplateField();const i="dataitemchanged";e!=n&&this.events.isEnabled(i)&&this.events.dispatch(i,{type:i,target:this,oldDataItem:n,newDataItem:e})}set dataItem(e){this._setDataItem(e)}get dataItem(){if(this._dataItem)return this._dataItem;{let e=this._parent;for(;e;){if(e._dataItem)return e._dataItem;e=e._parent}}}_addPercentageSizeChildren(){let e=this.parent;e&&(this.get("width")instanceof xt||this.get("height")instanceof xt?ug(e._percentageSizeChildren,this):ns(e._percentageSizeChildren,this))}_addPercentagePositionChildren(){let e=this.parent;e&&(this.get("x")instanceof xt||this.get("y")instanceof xt?ug(e._percentagePositionChildren,this):ns(e._percentagePositionChildren,this))}markDirtyPosition(){this._root._addDirtyPosition(this)}updatePivotPoint(){const e=this._localBounds;if(e){const n=this.get("centerX");n!=null&&(this._display.pivot.x=e.left+Qn(n,e.right-e.left));const i=this.get("centerY");i!=null&&(this._display.pivot.y=e.top+Qn(i,e.bottom-e.top))}}_beforeChanged(){if(super._beforeChanged(),this._handleStates(),this.isDirty("tooltip")){const e=this._prevSettings.tooltip;e&&e.dispose()}if((this.isDirty("layer")||this.isDirty("layerMargin"))&&(this._display.setLayer(this.get("layer"),this.get("layerMargin")),this.markDirtyLayer()),this.isDirty("tooltipPosition")){const e=this._tooltipMoveDp;e&&(e.dispose(),this._tooltipMoveDp=void 0);const n=this._tooltipPointerDp;n&&(n.dispose(),this._tooltipPointerDp=void 0),this.get("tooltipPosition")=="pointer"&&(this.isHover()&&(this._tooltipMoveDp=this.events.on("globalpointermove",i=>{this.showTooltip(i.point)})),this._tooltipPointerDp=new Os([this.events.on("pointerover",()=>{this._tooltipMoveDp=this.events.on("globalpointermove",i=>{this.showTooltip(i.point)})}),this.events.on("pointerout",()=>{const i=this._tooltipMoveDp;i&&(i.dispose(),this._tooltipMoveDp=void 0)})]))}}_handleStates(){this._statesHandled||(this.isDirty("active")&&(this.get("active")?(this.states.applyAnimate("active"),this.set("ariaChecked",!0)):(this.isHidden()||this.states.applyAnimate("default"),this.set("ariaChecked",!1)),this.markDirtyAccessibility()),this.isDirty("disabled")&&(this.get("disabled")?(this.states.applyAnimate("disabled"),this.set("ariaChecked",!1)):(this.isHidden()||this.states.applyAnimate("default"),this.set("ariaChecked",!0)),this.markDirtyAccessibility()),this._statesHandled=!0)}_changed(){super._changed();const e=this._display,n=this.events;if(this.isDirty("draggable")){const s=this.get("draggable");s?(this.set("interactive",!0),this._dragDp=new Os([n.on("pointerdown",r=>{this.dragStart(r)}),n.on("globalpointermove",r=>{this.dragMove(r)}),n.on("globalpointerup",r=>{this.dragStop(r)})])):this._dragDp&&(this._dragDp.dispose(),this._dragDp=void 0),e.cancelTouch=!!s}if(this.isDirty("tooltipText")||this.isDirty("tooltipHTML")||this.isDirty("showTooltipOn")){const s=this.get("tooltipText"),r=this.get("tooltipHTML"),a=this.get("showTooltipOn","hover");this._tooltipDp&&(this._tooltipDp.dispose(),this._tooltipDp=void 0),(s||r)&&(a=="click"?(this._tooltipDp=new Os([n.on("click",()=>{this.setTimeout(()=>{const o=this.getTooltip();o&&!o.isHidden()&&o.get("tooltipTarget")===this?this.hideTooltip():this.showTooltip()},10)}),Nn(document,"click",o=>{this.hideTooltip()})]),this._disposers.push(this._tooltipDp)):a=="always"||(this._tooltipDp=new Os([n.on("pointerover",()=>{this.showTooltip()}),n.on("pointerout",()=>{this.hideTooltip()})]),this._disposers.push(this._tooltipDp)))}if(this.isDirty("toggleKey")){let s=this.get("toggleKey");s&&s!="none"?this._toggleDp=n.on("click",()=>{this._isDragging||this.set(s,!this.get(s))}):this._toggleDp&&(this._toggleDp.dispose(),this._toggleDp=void 0)}if(this.isDirty("opacity")&&(e.alpha=Math.max(0,this.get("opacity",1)),this.get("focusable")&&this.markDirtyAccessibility()),this.isDirty("rotation")&&(this.markDirtyBounds(),e.angle=this.get("rotation",0)),this.isDirty("scale")&&(this.markDirtyBounds(),e.scale=this.get("scale",0)),(this.isDirty("centerX")||this.isDirty("centerY"))&&(this.markDirtyBounds(),this.updatePivotPoint()),(this.isDirty("visible")||this.isPrivateDirty("visible")||this.isDirty("forceHidden"))&&(!this.get("visible")||!this.getPrivate("visible")||this.get("forceHidden")?(e.visible=!1,this.hideTooltip()):e.visible=!0,this.markDirtyBounds(),this.get("focusable")&&this.markDirtyAccessibility()),this.isDirty("width")||this.isDirty("height")){this.markDirtyBounds(),this._addPercentageSizeChildren();const s=this.parent;s&&(this.isDirty("width")&&this.get("width")instanceof xt||this.isDirty("height")&&this.get("height")instanceof xt)&&(s.markDirty(),s._prevWidth=0),this._sizeDirty=!0}if((this.isDirty("maxWidth")||this.isDirty("maxHeight")||this.isPrivateDirty("width")||this.isPrivateDirty("height")||this.isDirty("minWidth")||this.isDirty("minHeight")||this.isPrivateDirty("maxWidth")||this.isPrivateDirty("maxHeight")||this.isPrivateDirty("minWidth")||this.isPrivateDirty("minHeight")||this.isDirty("marginLeft")||this.isDirty("marginTop")||this.isDirty("marginRight")||this.isDirty("marginBottom"))&&(this.markDirtyBounds(),this._sizeDirty=!0),this._sizeDirty&&this._updateSize(),this.isDirty("wheelable")){const s=this.get("wheelable");s&&this.set("interactive",!0),e.wheelable=!!s}(this.isDirty("tabindexOrder")||this.isDirty("focusableGroup"))&&(this.get("focusable")?this._root._registerTabindexOrder(this):this._root._unregisterTabindexOrder(this)),this.isDirty("filter")&&(e.filter=this.get("filter"));let i=this.get("filter","");if(this.isDirty("blur")){const s=this.get("blur",0);s!=0&&(i+=" blur("+s+"px)")}if(this.isDirty("saturate")){const s=this.get("saturate",1);s!=1&&(i+=" saturate("+s+")")}if(this.isDirty("brightness")){const s=this.get("brightness",1);s!=1&&(i+=" brightness("+s+")")}if(this.isDirty("contrast")){const s=this.get("contrast",1);s!=1&&(i+=" contrast("+s+")")}if(this.isDirty("sepia")){const s=this.get("sepia",0);s!=0&&(i+=" sepia("+s+")")}if(this.isDirty("hue")){const s=this.get("hue",0);s!=0&&(i+=" hue-rotate("+s+"deg)")}if(this.isDirty("invert")){const s=this.get("invert",0);s!=0&&(i+=" invert("+s+")")}if(i&&(e.filter=i),this.isDirty("cursorOverStyle")&&(e.cursorOverStyle=this.get("cursorOverStyle")),this.isDirty("hoverOnFocus")&&(this.get("hoverOnFocus")?this._focusDp=new Os([n.on("focus",()=>{this.showTooltip()}),n.on("blur",()=>{this.hideTooltip()})]):this._focusDp&&(this._focusDp.dispose(),this._focusDp=void 0)),this.isDirty("focusable")&&(this.get("focusable")?this._root._registerTabindexOrder(this):this._root._unregisterTabindexOrder(this),this.markDirtyAccessibility(),this._disposers.push(n.on("blur",()=>{this.setPrivateRaw("touchHovering",!1)}))),this.isPrivateDirty("focusable")&&this.markDirtyAccessibility(),(this.isDirty("role")||this.isDirty("ariaLive")||this.isDirty("ariaChecked")||this.isDirty("ariaHidden")||this.isDirty("ariaOrientation")||this.isDirty("ariaValueNow")||this.isDirty("ariaValueMin")||this.isDirty("ariaValueMax")||this.isDirty("ariaValueText")||this.isDirty("ariaLabel")||this.isDirty("ariaControls"))&&this.markDirtyAccessibility(),this.isDirty("exportable")&&(e.exportable=this.get("exportable")),this.isDirty("interactive")){const s=this.events;this.get("interactive")&&!s.isDisposed()?this._hoverDp=new Os([s.on("click",r=>{vk(r.originalEvent)&&(this.getPrivate("touchHovering")||this.setTimeout(()=>{this._handleOver(),(this.get("tooltipText")||this.get("tooltipHTML"))&&this.showTooltip(),this.setPrivateRaw("touchHovering",!0),this.events.dispatch("pointerover",{type:"pointerover",target:r.target,originalEvent:r.originalEvent,point:r.point,simulated:r.simulated})},10))}),s.on("globalpointerup",r=>{vk(r.originalEvent)&&this.getPrivate("touchHovering")&&(this._handleOut(),(this.get("tooltipText")||this.get("tooltipHTML"))&&this.hideTooltip(),this.setPrivateRaw("touchHovering",!1),this.events.dispatch("pointerout",{type:"pointerout",target:r.target,originalEvent:r.originalEvent,point:r.point,simulated:r.simulated})),this._isDown&&this._handleUp(r)}),s.on("pointerover",()=>{this._handleOver()}),s.on("pointerout",()=>{this._handleOut()}),s.on("pointerdown",r=>{this._handleDown(r)})]):(this._display.interactive=!1,this._hoverDp&&(this._hoverDp.dispose(),this._hoverDp=void 0))}this.isDirty("forceInactive")&&(this._display.inactive=this.get("forceInactive",null)),this.get("showTooltipOn")=="always"&&this._display.visible&&this.showTooltip()}dragStart(e){this._dragEvent=e,this.events.stopParentDispatch()}dragStop(e){if(this._dragEvent=void 0,this._dragPoint=void 0,this.events.stopParentDispatch(),this._isDragging){this._isDragging=!1;const n="dragstop";this.events.isEnabled(n)&&this.events.dispatch(n,{type:n,target:this,originalEvent:e.originalEvent,point:e.point,simulated:e.simulated})}}_handleOver(){this.isHidden()||(this.get("active")&&this.states.lookup("hoverActive")?this.states.applyAnimate("hoverActive"):this.get("disabled")&&this.states.lookup("hoverDisabled")?this.states.applyAnimate("hoverDisabled"):this.states.applyAnimate("hover"),this.get("draggable")&&this._isDown&&this.states.lookup("down")&&this.states.applyAnimate("down"))}_handleOut(){this.isHidden()||(this.get("active")&&this.states.lookup("active")?this.states.applyAnimate("active"):this.get("disabled")&&this.states.lookup("disabled")?this.states.applyAnimate("disabled"):(this.states.lookup("hover")||this.states.lookup("hoverActive"))&&this.states.applyAnimate("default"),this.get("draggable")&&this._isDown&&this.states.lookup("down")&&this.states.applyAnimate("down"))}_handleUp(e){if(!this.isHidden()){this.get("active")&&this.states.lookup("active")?this.states.applyAnimate("active"):this.get("disabled")&&this.states.lookup("disabled")?this.states.applyAnimate("disabled"):this.states.lookup("down")&&(this.isHover()?this.states.applyAnimate("hover"):this.states.applyAnimate("default")),this._downPoint=void 0;const n=px(e.originalEvent);delete this._downPoints[n],wi(this._downPoints).length==0&&(this._isDown=!1)}}_hasMoved(e){const n=px(e.originalEvent),i=this._downPoints[n];if(i){const s=Math.abs(i.x-e.point.x),r=Math.abs(i.y-e.point.y);return s>5||r>5}return!1}_hasDown(){return wi(this._downPoints).length>0}_handleDown(e){const n=this.parent;if(n&&!this.get("draggable")&&n._handleDown(e),this.get("interactive")&&!this.isHidden()){this.states.lookup("down")&&this.states.applyAnimate("down"),this._downPoint={x:e.point.x,y:e.point.y},this._isDown=!0;const i=px(e.originalEvent);this._downPoints[i]={x:e.point.x,y:e.point.y}}}dragMove(e){let n=this._dragEvent;if(n){if(n.simulated&&!e.simulated)return!0;let i=0,s=this.parent,r=1;for(;s!=null;)i+=s.get("rotation",0),s=s.parent,s&&(r*=s.get("scale",1));let a=(e.point.x-n.point.x)/r,o=(e.point.y-n.point.y)/r;const l=this.events;if(n.simulated&&!this._isDragging){this._isDragging=!0,this._dragEvent=e,this._dragPoint={x:this.x(),y:this.y()};const u="dragstart";l.isEnabled(u)&&l.dispatch(u,{type:u,target:this,originalEvent:e.originalEvent,point:e.point,simulated:e.simulated})}if(this._isDragging){let u=this._dragPoint;this.set("x",u.x+a*Ba(i)+o*Dr(i)),this.set("y",u.y+o*Ba(i)-a*Dr(i));const d="dragged";l.isEnabled(d)&&l.dispatch(d,{type:d,target:this,originalEvent:e.originalEvent,point:e.point,simulated:e.simulated})}else if(Math.hypot(a,o)>5){this._isDragging=!0,this._dragEvent=e,this._dragPoint={x:this.x(),y:this.y()};const u="dragstart";l.isEnabled(u)&&l.dispatch(u,{type:u,target:this,originalEvent:e.originalEvent,point:e.point,simulated:e.simulated})}}}_updateSize(){}_getBounds(){this._localBounds=this._display.getLocalBounds()}depth(){let e=this.parent,n=0;for(;;)if(e)++n,e=e.parent;else return n}markDirtySize(){this._sizeDirty=!0,this.markDirty()}markDirtyBounds(){const e=this._display;if(this.get("isMeasured")){this._root._addDirtyBounds(this),e.isMeasured=!0,e.invalidateBounds();const n=this.parent;n&&this.get("position")!="absolute"&&(n.get("width")==null||n.get("height")==null||n.get("layout"))&&n.markDirtyBounds(),this.get("focusable")&&this.isFocus()&&this.markDirtyAccessibility()}}markDirtyAccessibility(){this._root._invalidateAccessibility(this)}markDirtyLayer(){this._display.markDirtyLayer(!0)}markDirty(){super.markDirty(),this.markDirtyLayer()}_updateBounds(){const e=this._adjustedLocalBounds;let n;if(!this.get("visible")||!this.getPrivate("visible")||this.get("forceHidden")?(n={left:0,right:0,top:0,bottom:0},this._localBounds=n,this._adjustedLocalBounds=n):(this._getBounds(),this._fixMinBounds(this._localBounds),this.updatePivotPoint(),this._adjustedLocalBounds=this._display.getAdjustedBounds(this._localBounds),n=this._adjustedLocalBounds),!e||e.left!==n.left||e.top!==n.top||e.right!==n.right||e.bottom!==n.bottom){const i="boundschanged";this.events.isEnabled(i)&&this.events.dispatch(i,{type:i,target:this}),this.parent&&(this.parent.markDirty(),this.parent.markDirtyBounds()),this.getPrivate("showingTooltip")&&this.showTooltip()}}_fixMinBounds(e){let n=this.get("minWidth",this.getPrivate("minWidth")),i=this.get("minHeight",this.getPrivate("minHeight"));me(n)&&e.right-e.left<n&&(e.right=e.left+n),me(i)&&e.bottom-e.top<i&&(e.bottom=e.top+i);let s=this.getPrivate("width"),r=this.getPrivate("height");me(s)&&(s>0?e.right=e.left+s:e.left=e.right+s),me(r)&&(r>0?e.bottom=e.top+r:e.top=e.bottom+r)}_removeParent(e){e&&(e.children.removeValue(this),ns(e._percentageSizeChildren,this),ns(e._percentagePositionChildren,this))}_clearDirty(){super._clearDirty(),this._sizeDirty=!1,this._statesHandled=!1}hover(){this.isDisposed()||(this.showTooltip(),this._handleOver())}unhover(){this.isDisposed()||(this.hideTooltip(),this._handleOut())}showTooltip(e){if(!this.isDisposed()){const n=this.getTooltip(),i=this.get("tooltipText"),s=this.get("tooltipHTML");if((i||s)&&n){const r=this.get("tooltipPosition"),a=this.getPrivate("tooltipTarget",this);(r=="fixed"||!e)&&(this._display._setMatrix(),e=this.toGlobal(a._getTooltipPoint())),n.set("pointTo",e),n.set("tooltipTarget",a),n.get("x")||n.set("x",e.x),n.get("y")||n.set("y",e.y),i&&n.label.set("text",i),s&&n.label.set("html",s);const o=this.dataItem;if(o&&n.label._setDataItem(o),this.get("showTooltipOn")=="always"&&(e.x<0||e.x>this._root.width()||e.y<0||e.y>this._root.height())){this.hideTooltip();return}n.label.text.markDirtyText();const l=n.show();return this.setPrivateRaw("showingTooltip",!0),l}}}hideTooltip(){const e=this.getTooltip();if(e&&(e.get("tooltipTarget")==this.getPrivate("tooltipTarget",this)||this.get("tooltip")==e)){let n=e.get("keepTargetHover")&&e.get("stateAnimationDuration",0)==0?400:void 0;const i=e.hide(n);return this.setPrivateRaw("showingTooltip",!1),i}}_getTooltipPoint(){const e=this._localBounds;if(e){let n=0,i=0;return this.get("isMeasured")?(n=e.left+Qn(this.get("tooltipX",0),e.right-e.left),i=e.top+Qn(this.get("tooltipY",0),e.bottom-e.top)):(n=Qn(this.get("tooltipX",0),this.width()),i=Qn(this.get("tooltipY",0),this.height())),{x:n,y:i}}return{x:0,y:0}}getTooltip(){let e=this.get("tooltip");if(e)return e;{let n=this.parent;if(n)return n.getTooltip()}}_updatePosition(){const e=this.parent;let n=this.get("dx",0),i=this.get("dy",0),s=this.get("x"),r=this.getPrivate("x"),a=0,o=0;const l=this.get("position");s instanceof xt&&(e?s=e.innerWidth()*s.value+e.get("paddingLeft",0):s=0),me(s)?a=s+n:r!=null?a=r:e&&l=="relative"&&(a=e.get("paddingLeft",0)+n);let u=this.get("y"),d=this.getPrivate("y");u instanceof xt&&(e?u=e.innerHeight()*u.value+e.get("paddingTop",0):u=0),me(u)?o=u+i:d!=null?o=d:e&&l=="relative"&&(o=e.get("paddingTop",0)+i);const c=this._display;if(c.x!=a||c.y!=o){c.invalidateBounds(),c.x=a,c.y=o;const f="positionchanged";this.events.isEnabled(f)&&this.events.dispatch(f,{type:f,target:this})}this.getPrivate("showingTooltip")&&this.showTooltip()}x(){let e=this.get("x"),n=this.getPrivate("x");const i=this.parent;return i?e instanceof xt?Qn(e,i.innerWidth())+i.get("paddingLeft",0):me(e)?e:n??i.get("paddingLeft",this._display.x):this._display.x}y(){let e=this.getPrivate("y");if(e!=null)return e;let n=this.get("y");const i=this.parent;return i?n instanceof xt?Qn(n,i.innerHeight())+i.get("paddingTop",0):me(n)?n:e??i.get("paddingTop",this._display.y):this._display.y}_dispose(){super._dispose(),this._display.dispose(),this._removeTemplateField(),this._removeParent(this.parent),this._root._removeFocusElement(this);const e=this.get("tooltip");e&&e.dispose(),this.markDirty()}adjustedLocalBounds(){return this._fixMinBounds(this._adjustedLocalBounds),this._adjustedLocalBounds}localBounds(){return this._localBounds}bounds(){const e=this._adjustedLocalBounds,n=this.x(),i=this.y();return{left:e.left+n,right:e.right+n,top:e.top+i,bottom:e.bottom+i}}globalBounds(){const e=this.localBounds(),n=this.toGlobal({x:e.left,y:e.top}),i=this.toGlobal({x:e.right,y:e.top}),s=this.toGlobal({x:e.right,y:e.bottom}),r=this.toGlobal({x:e.left,y:e.bottom});return{left:Math.min(n.x,i.x,s.x,r.x),top:Math.min(n.y,i.y,s.y,r.y),right:Math.max(n.x,i.x,s.x,r.x),bottom:Math.max(n.y,i.y,s.y,r.y)}}_onShow(e){}_onHide(e){}appear(e,n){return Si(this,void 0,void 0,function*(){return yield this.hide(0),n?new Promise((i,s)=>{this.setTimeout(()=>{i(this.show(e))},n)}):this.show(e)})}show(e){return Si(this,void 0,void 0,function*(){if(!this._isShowing){this._isHidden=!1,this._isShowing=!0,this._isHiding=!1,this.states.lookup("default").get("visible")&&this.set("visible",!0),this._onShow(e);const n=this.states.applyAnimate("default",e);yield uV(n),this._isShowing=!1}})}hide(e){return Si(this,void 0,void 0,function*(){if(!this._isHiding&&!this._isHidden){this._isHiding=!0,this._isShowing=!1;let n=this.states.lookup("hidden");n||(n=this.states.create("hidden",{opacity:0,visible:!1})),this._isHidden=!0,this._onHide(e);const i=this.states.applyAnimate("hidden",e);yield uV(i),this._isHiding=!1}})}isHidden(){return this._isHidden}isShowing(){return this._isShowing}isHiding(){return this._isHiding}isHover(){return this._display.hovering()}isFocus(){return this._root.focused(this)}isDragging(){return this._isDragging}isVisible(){return!!(this.get("visible")&&this.getPrivate("visible")&&!this.get("forceHidden"))}isVisibleDeep(){return this._parent?this._parent.isVisibleDeep()&&this.isVisible():this.isVisible()}compositeOpacity(){const e=this.get("opacity",1);return this._parent?this._parent.compositeOpacity()*e:e}compositeScale(){const e=this.get("scale",1);return this._parent?this._parent.compositeScale()*e:e}compositeRotation(){const e=this.get("rotation",0);return this._parent?this._parent.compositeRotation()+e:e}width(){let e=this.get("width"),n=this.get("maxWidth",this.getPrivate("maxWidth")),i=this.get("minWidth",this.getPrivate("minWidth")),s=this.getPrivate("width"),r=0;if(me(s))r=s;else if(e==null)this._adjustedLocalBounds&&(r=this._adjustedLocalBounds.right-this._adjustedLocalBounds.left);else if(e instanceof xt){const a=this.parent;a?r=a.innerWidth()*e.value:r=this._root.width()*e.value}else me(e)&&(r=e);return me(i)&&(r=Math.max(i,r)),me(n)&&(r=Math.min(n,r)),r}maxWidth(){let e=this.get("maxWidth",this.getPrivate("maxWidth"));if(me(e))return e;{let i=this.get("width");if(me(i))return i}const n=this.parent;return n?n.innerWidth():this._root.width()}maxHeight(){let e=this.get("maxHeight",this.getPrivate("maxHeight"));if(me(e))return e;{let i=this.get("height");if(me(i))return i}const n=this.parent;return n?n.innerHeight():this._root.height()}height(){let e=this.get("height"),n=this.get("maxHeight",this.getPrivate("maxHeight")),i=this.get("minHeight",this.getPrivate("minHeight")),s=this.getPrivate("height"),r=0;if(me(s))r=s;else if(e==null)this._adjustedLocalBounds&&(r=this._adjustedLocalBounds.bottom-this._adjustedLocalBounds.top);else if(e instanceof xt){const a=this.parent;a?r=a.innerHeight()*e.value:r=this._root.height()*e.value}else me(e)&&(r=e);return me(i)&&(r=Math.max(i,r)),me(n)&&(r=Math.min(n,r)),r}_findStaticTemplate(e){return this._templateField&&e(this._templateField)?this._templateField:super._findStaticTemplate(e)}_walkParents(e){this._parent&&this._walkParent(e)}_walkParent(e){this._parent&&this._parent._walkParent(e),e(this)}get parent(){return this._parent}_setParent(e,n=!1){const i=this._parent;e!==i&&(this.markDirtyBounds(),e.markDirty(),this._parent=e,n&&(this._removeParent(i),e&&(this._addPercentageSizeChildren(),this._addPercentagePositionChildren())),this.markDirtyPosition(),this._applyThemes())}getNumberFormatter(){return this.get("numberFormatter",this._root.numberFormatter)}getDateFormatter(){return this.get("dateFormatter",this._root.dateFormatter)}getDurationFormatter(){return this.get("durationFormatter",this._root.durationFormatter)}toGlobal(e){return this._display.toGlobal(e)}toLocal(e){return this._display.toLocal(e)}_getDownPoint(){const e=this._getDownPointId();if(e)return this._downPoints[e]}_getDownPointId(){if(this._downPoints)return Hwe(this._downPoints,(e,n)=>e>n?1:e<n?-1:0)[0]}toFront(){const e=this.parent;e&&e.children.moveValue(this,e.children.length-1)}toBack(){const e=this.parent;e&&e.children.moveValue(this,0)}}Object.defineProperty(ga,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Sprite"});Object.defineProperty(ga,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Ei.classNames.concat([ga.className])});class dg extends Ei{constructor(){super(...arguments),Object.defineProperty(this,"_display",{enumerable:!0,configurable:!0,writable:!0,value:this._root._renderer.makeGraphics()}),Object.defineProperty(this,"_backgroundDisplay",{enumerable:!0,configurable:!0,writable:!0,value:this._root._renderer.makeGraphics()}),Object.defineProperty(this,"_clear",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_pattern",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}_afterNew(){super._afterNewApplyThemes()}get pattern(){return this._pattern}_draw(){}_beforeChanged(){super._beforeChanged(),(this.isDirty("repetition")||this.isDirty("width")||this.isDirty("height")||this.isDirty("rotation")||this.isDirty("strokeWidth")||this.isDirty("strokeDasharray")||this.isDirty("strokeDashoffset")||this.isDirty("colorOpacity")||this.isDirty("fillOpacity"))&&(this._clear=!0),this._checkDirtyFill()}_checkDirtyFill(){(this.isDirty("color")||this.isDirty("fill"))&&(this._clear=!0)}_changed(){if(super._changed(),this._clear){const e=this.get("repetition",""),n=this.get("width",100),i=this.get("height",100),s=this.get("fill"),r=this.get("fillOpacity",1),a=this._backgroundDisplay,o=this._display;o.clear(),a.clear(),s&&r>0&&(a.beginFill(s,r),a.drawRect(0,0,n,i),a.endFill()),o.angle=this.get("rotation",0),this._draw(),this._pattern=this._root._renderer.createPattern(o,a,e,n,i)}this._clear=!1}}Object.defineProperty(dg,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Pattern"});Object.defineProperty(dg,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Ei.classNames.concat([dg.className])});class hg extends dg{constructor(){super(...arguments),Object.defineProperty(this,"_image",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}_beforeChanged(){super._beforeChanged(),this._clear=!0,this.isDirty("src")&&this._load();const e=this.get("canvas");e&&(this.set("width",e.width),this.set("height",e.height))}_draw(){super._draw();const e=this.get("colorOpacity");e!==void 0&&(this._display.alpha=Math.max(0,e));const n=this._image;if(n){const s=this.get("width",100),r=this.get("height",100),a=this.get("fit","image");let o=0,l=0;a=="pattern"?(o=s,l=r,this.markDirty()):(o=n.width,l=n.height,a=="image"&&(this.set("width",o),this.set("height",l)));const u=this.get("centered",!0);let d=0,c=0;u&&(d=s/2-o/2,c=r/2-l/2),this._display.image(n,o,l,d,c)}const i=this.get("canvas");i&&this._display.image(i,i.width,i.height,0,0)}_load(){const e=this.get("src");if(e){const n=new Image;n.src=e,n.decode().then(()=>{this._image=n,this._draw(),this.events.isEnabled("loaded")&&this.events.dispatch("loaded",{type:"loaded",target:this})}).catch(i=>{})}}}Object.defineProperty(hg,"className",{enumerable:!0,configurable:!0,writable:!0,value:"PicturePattern"});Object.defineProperty(hg,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:dg.classNames.concat([hg.className])});var _y;(function(t){t.ADD="lighter",t.COLOR="color",t.COLOR_BURN="color-burn",t.COLOR_DODGE="color-dodge",t.DARKEN="darken",t.DIFFERENCE="difference",t.DST_OVER="destination-over",t.EXCLUSION="exclusion",t.HARD_LIGHT="hard-light",t.HUE="hue",t.LIGHTEN="lighten",t.LUMINOSITY="luminosity",t.MULTIPLY="multiply",t.NORMAL="source-over",t.OVERLAY="overlay",t.SATURATION="saturation",t.SCREEN="screen",t.SOFT_LIGHT="soft-light",t.SRC_ATOP="source-atop",t.XOR="xor"})(_y||(_y={}));const bk=["fill","fillOpacity","stroke","strokeWidth","strokeOpacity","fillPattern","strokePattern","fillGradient","strokeGradient","strokeDasharray","strokeDashoffset","shadowBlur","shadowColor","shadowOpacity","shadowOffsetX","shadowOffsetY","blur","sepia","invert","brightness","hue","contrast","saturate"];class cn extends ga{constructor(){super(...arguments),Object.defineProperty(this,"_display",{enumerable:!0,configurable:!0,writable:!0,value:this._root._renderer.makeGraphics()}),Object.defineProperty(this,"_clear",{enumerable:!0,configurable:!0,writable:!0,value:!1})}_beforeChanged(){if(super._beforeChanged(),(this.isDirty("draw")||this.isDirty("svgPath"))&&this.markDirtyBounds(),(this.isDirty("fill")||this.isDirty("stroke")||this.isDirty("visible")||this.isDirty("forceHidden")||this.isDirty("scale")||this.isDirty("fillGradient")||this.isDirty("strokeGradient")||this.isDirty("fillPattern")||this.isDirty("strokePattern")||this.isDirty("fillOpacity")||this.isDirty("strokeOpacity")||this.isDirty("strokeWidth")||this.isDirty("draw")||this.isDirty("blendMode")||this.isDirty("strokeDasharray")||this.isDirty("strokeDashoffset")||this.isDirty("svgPath")||this.isDirty("lineJoin")||this.isDirty("lineCap")||this.isDirty("shadowColor")||this.isDirty("shadowBlur")||this.isDirty("shadowOffsetX")||this.isDirty("shadowOffsetY"))&&(this._clear=!0),this._display.crisp=this.get("crisp",!1),this.isDirty("fillGradient")){const e=this.get("fillGradient");if(e){this._display.isMeasured=!0;const n=e.get("target");n&&(this._disposers.push(n.events.on("boundschanged",()=>{this._markDirtyKey("fill")})),this._disposers.push(n.events.on("positionchanged",()=>{this._markDirtyKey("fill")})))}}if(this.isDirty("strokeGradient")){const e=this.get("strokeGradient");if(e){this._display.isMeasured=!0;const n=e.get("target");n&&(this._disposers.push(n.events.on("boundschanged",()=>{this._markDirtyKey("stroke")})),this._disposers.push(n.events.on("positionchanged",()=>{this._markDirtyKey("stroke")})))}}}_changed(){if(super._changed(),this._clear){this.markDirtyBounds(),this.markDirtyLayer(),this._display.clear();let e=this.get("strokeDasharray");me(e)&&(e<.5?e=[0]:e=[e]),this._display.setLineDash(e);const n=this.get("strokeDashoffset");n&&this._display.setLineDashOffset(n);const i=this.get("blendMode",_y.NORMAL);this._display.blendMode=i;const s=this.get("draw");s&&typeof s=="function"&&s(this._display,this);const r=this.get("svgPath");r!=null&&this._display.svgPath(r)}}_afterChanged(){if(super._afterChanged(),this._clear){const e=this.get("fill"),n=this.get("fillGradient"),i=this.get("fillPattern"),s=this.get("fillOpacity"),r=this.get("stroke"),a=this.get("strokeGradient"),o=this.get("strokePattern"),l=this.get("shadowColor"),u=this.get("shadowBlur"),d=this.get("shadowOffsetX"),c=this.get("shadowOffsetY"),f=this.get("shadowOpacity");if(l&&(u||d||c)&&this._display.shadow(l,u,d,c,f),e&&!n&&(this._display.beginFill(e,s),this._display.endFill()),n){if(e){const p=n.get("stops",[]);p.length&&oe(p,g=>{(!g.color||g.colorInherited)&&e&&(g.color=e,g.colorInherited=!0),(g.opacity==null||g.opacityInherited)&&(g.opacity=s,g.opacityInherited=!0)})}const h=n.getFill(this);h&&(this._display.beginFill(h,s),this._display.endFill())}if(i){const h=i.pattern;h&&(this._display.beginFill(h,s),this._display.endFill(),i instanceof hg&&i.events.once("loaded",()=>{this._clear=!0,this.markDirty()}))}if(r||a||o){const h=this.get("strokeOpacity");let p=this.get("strokeWidth",1);this.get("nonScalingStroke")&&(p=p/this.get("scale",1)),this.get("crisp")&&(p/=this._root._renderer.resolution);const g=this.get("lineJoin"),v=this.get("lineCap");if(r&&!a&&(this._display.lineStyle(p,r,h,g,v),this._display.endStroke()),a){const _=a.get("stops",[]);_.length&&oe(_,x=>{(!x.color||x.colorInherited)&&r&&(x.color=r,x.colorInherited=!0),(x.opacity==null||x.opacityInherited)&&(x.opacity=h,x.opacityInherited=!0)});const b=a.getFill(this);b&&(this._display.lineStyle(p,b,h,g,v),this._display.endStroke())}if(o){let _=o.pattern;_&&(this._display.lineStyle(p,_,h,g,v),this._display.endStroke(),o instanceof hg&&o.events.once("loaded",()=>{this._clear=!0,this.markDirty()}))}}this.getPrivate("showingTooltip")&&this.showTooltip()}this._clear=!1}}Object.defineProperty(cn,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Graphics"});Object.defineProperty(cn,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:ga.classNames.concat([cn.className])});class tr extends cn{_afterNew(){super._afterNew(),this._display.isMeasured=!0,this.setPrivateRaw("trustBounds",!0)}_beforeChanged(){super._beforeChanged(),(this.isDirty("width")||this.isDirty("height")||this.isPrivateDirty("width")||this.isPrivateDirty("height"))&&(this._clear=!0)}_changed(){super._changed(),this._clear&&!this.get("draw")&&this._draw()}_draw(){this._display.drawRect(0,0,this.width(),this.height())}_updateSize(){this.markDirty(),this._clear=!0}}Object.defineProperty(tr,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Rectangle"});Object.defineProperty(tr,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:cn.classNames.concat([tr.className])});function Co(t,e){t.get("reverseChildren",!1)?t.children.eachReverse(e):t.children.each(e)}class No extends Ei{}Object.defineProperty(No,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Layout"});Object.defineProperty(No,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Ei.classNames.concat([No.className])});class ph extends No{updateContainer(e){let n=e.get("paddingLeft",0),i=e.innerWidth(),s=0;Co(e,a=>{if(a.isVisible()&&a.get("position")=="relative"){let o=a.get("width");if(o instanceof xt){s+=o.value;let l=i*o.value,u=a.get("minWidth",a.getPrivate("minWidth",-1/0));u>l&&(i-=u,s-=o.value);let d=a.get("maxWidth",a.getPrivate("maxWidth",1/0));l>d&&(i-=d,s-=o.value)}else me(o)||(o=a.width()),i-=o+a.get("marginLeft",0)+a.get("marginRight",0)}}),(i<=0||i==1/0)&&(i=.1),Co(e,a=>{if(a.isVisible()&&a.get("position")=="relative"){let o=a.get("width");if(o instanceof xt){let l=i*o.value/s-a.get("marginLeft",0)-a.get("marginRight",0),u=a.get("minWidth",a.getPrivate("minWidth",-1/0)),d=a.get("maxWidth",a.getPrivate("maxWidth",1/0));l=Math.min(Math.max(u,l),d),a.setPrivate("width",l)}else a._prevSettings.width instanceof xt&&a.setPrivate("width",void 0)}});let r=n;Co(e,a=>{if(a.get("position")=="relative")if(a.isVisible()){let o=a.adjustedLocalBounds(),l=a.get("marginLeft",0),u=a.get("marginRight",0),d=a.get("maxWidth"),c=o.left,f=o.right;d&&f-c>d&&(f=c+d);let h=r+l-c;a.setPrivate("x",h),r=h+f+u}else a.setPrivate("x",void 0)})}}Object.defineProperty(ph,"className",{enumerable:!0,configurable:!0,writable:!0,value:"HorizontalLayout"});Object.defineProperty(ph,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:No.classNames.concat([ph.className])});class vh extends No{updateContainer(e){let n=e.get("paddingTop",0),i=e.innerHeight(),s=0;Co(e,a=>{if(a.isVisible()&&a.get("position")=="relative"){let o=a.get("height");if(o instanceof xt){s+=o.value;let l=i*o.value,u=a.get("minHeight",a.getPrivate("minHeight",-1/0));u>l&&(i-=u,s-=o.value);let d=a.get("maxHeight",a.getPrivate("maxHeight",1/0));l>d&&(i-=d,s-=o.value)}else me(o)||(o=a.height()),i-=o+a.get("marginTop",0)+a.get("marginBottom",0)}}),(i<=0||i==1/0)&&(i=.1),Co(e,a=>{if(a.isVisible()&&a.get("position")=="relative"){let o=a.get("height");if(o instanceof xt){let l=i*o.value/s-a.get("marginTop",0)-a.get("marginBottom",0),u=a.get("minHeight",a.getPrivate("minHeight",-1/0)),d=a.get("maxHeight",a.getPrivate("maxHeight",1/0));l=Math.min(Math.max(u,l),d),a.setPrivate("height",l)}else a._prevSettings.height instanceof xt&&a.setPrivate("height",void 0)}});let r=n;Co(e,a=>{if(a.get("position")=="relative")if(a.isVisible()){let o=a.adjustedLocalBounds(),l=a.get("marginTop",0),u=o.top,d=o.bottom,c=a.get("maxHeight");c&&d-u>c&&(d=u+c);let f=a.get("marginBottom",0),h=r+l-u;a.setPrivate("y",h),r=h+d+f}else a.setPrivate("y",void 0)})}}Object.defineProperty(vh,"className",{enumerable:!0,configurable:!0,writable:!0,value:"VerticalLayout"});Object.defineProperty(vh,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:No.classNames.concat([vh.className])});class pc extends No{_afterNew(){this._setRawDefault("maxColumns",Number.MAX_VALUE),super._afterNew()}updateContainer(e){let n=e.get("paddingLeft",0),i=e.get("paddingRight",0),s=e.get("paddingTop",0),r=e.maxWidth()-n-i,a=r,o=1;Co(e,p=>{if(p.get("visible")&&p.getPrivate("visible")&&!p.get("forceHidden")&&p.get("position")!="absolute"){let g=p.width();g<a&&(a=g),g>o&&(o=g)}}),a=Kn(a,1,r),o=Kn(o,1,r);let l=1;this.get("fixedWidthGrid")?l=r/o:l=r/a,l=Math.max(1,Math.floor(l)),l=Math.min(this.get("maxColumns",Number.MAX_VALUE),l);let u=this.getColumnWidths(e,l,o,r),d=s,c=0,f=0;l=u.length;let h=n;Co(e,p=>{if(p.get("position")=="relative"&&p.isVisible()){const g=p.get("marginTop",0),v=p.get("marginBottom",0);let _=p.adjustedLocalBounds(),b=p.get("marginLeft",0),x=p.get("marginRight",0),k=h+b-_.left,I=d+g-_.top;p.setPrivate("x",k),p.setPrivate("y",I),h+=u[c]+x,f=Math.max(f,p.height()+g+v),c++,c>=l&&(c=0,h=n,d+=f)}})}getColumnWidths(e,n,i,s){let r=0,a=[],o=0;return Co(e,l=>{let u=l.adjustedLocalBounds();l.get("position")!="absolute"&&l.isVisible()&&(this.get("fixedWidthGrid")?a[o]=i:a[o]=Math.max(a[o]|0,u.right-u.left+l.get("marginLeft",0)+l.get("marginRight",0)),o<e.children.length-1&&(o++,o==n&&(o=0)))}),oe(a,l=>{r+=l}),r>s?n>2?(n-=1,this.getColumnWidths(e,n,i,s)):[s]:a}}Object.defineProperty(pc,"className",{enumerable:!0,configurable:!0,writable:!0,value:"GridLayout"});Object.defineProperty(pc,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:No.classNames.concat([pc.className])});class ra{static escape(e){return e.replace(/\[\[/g,this.prefix+"1").replace(/([^\/\]]{1})\]\]/g,"$1"+this.prefix+"2").replace(/\]\]/g,this.prefix+"2").replace(/\{\{/g,this.prefix+"3").replace(/\}\}/g,this.prefix+"4").replace(/\'\'/g,this.prefix+"5")}static unescape(e){return e.replace(new RegExp(this.prefix+"1","g"),"[[").replace(new RegExp(this.prefix+"2","g"),"]]").replace(new RegExp(this.prefix+"3","g"),"{{").replace(new RegExp(this.prefix+"4","g"),"}}").replace(new RegExp(this.prefix+"5","g"),"''")}static cleanUp(e){return e.replace(/\[\[/g,"[").replace(/\]\]/g,"]").replace(/\{\{/g,"{").replace(/\}\}/g,"}").replace(/\'\'/g,"'")}static chunk(e,n=!1,i=!1){let s=[];e=this.escape(e);let r=n?e.split("'"):[e];for(let a=0;a<r.length;a++){let o=r[a];if(o!=="")if(a%2===0){o=o.replace(/\]\[/g,"]"+zl+"["),o=o.replace(/\[\]/g,"[ ]");let l=o.split(/[\[\]]+/);for(let u=0;u<l.length;u++){let d=this.cleanUp(this.unescape(l[u]));d!==zl&&d!==""&&(u%2===0?s.push({type:"value",text:d}):s.push({type:i?"value":"format",text:"["+d+"]"}))}}else{let l=o.split(/[\[\]]+/);for(let u=0;u<l.length;u++){let d=this.cleanUp(this.unescape(l[u]));d!==""&&(u%2===0?s.push({type:"text",text:d}):this.isImage(d)?s.push({type:"image",text:"["+d+"]"}):s.push({type:"format",text:"["+d+"]"}))}}}return s}static isImage(e){return!!e.match(/img[ ]?:/)}static getTextStyle(e){let n={};if(e==""||e=="[ ]")return{};const i=e.match(/('[^']*')|("[^"]*")/gi);if(i)for(let r=0;r<i.length;r++)e=e.replace(i[r],i[r].replace(/['"]*/g,"").replace(/[ ]+/g,"+"));let s=e.match(/([\w\-]*:[\s]?[^;\s\]]*)|(\#[\w]{1,6})|([\w\-]+)|(\/)/gi);if(!s)return{};for(let r=0;r<s.length;r++)if(s[r].match(/^(normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900)$/i))n.fontWeight=s[r];else if(s[r].match(/^(underline|line-through)$/i))n.textDecoration=s[r];else if(s[r]!="/")if(!s[r].match(/:/))n.fill=tt.fromString(s[r]);else{const a=s[r].replace("+"," ").split(/:[ ]*/);n[a[0]]=a[1]}return n}}Object.defineProperty(ra,"prefix",{enumerable:!0,configurable:!0,writable:!0,value:"__amcharts__"});function _h(t,e){if(e!=null){e=""+e,e=ra.escape(e);let n=e.match(/\{([^}]+)\}/g),i;if(n)for(i=0;i<n.length;i++){let s=n[i].replace(/\{([^}]+)\}/,"$1"),r=wk(t,s);r==null&&(r=""),e=e.split(n[i]).join(r)}e=ra.unescape(e)}else e="";return e}function wk(t,e,n){let i;const s=t.dataItem;let r=[],a=/(format[a-zA-Z]*)\((.*)\)|([^.]+)/g,o;for(;o=a.exec(e),o!==null;)if(o[3]){r.push({prop:o[3]});const l=t.getDateFormatter().get("dateFields",[]),u=t.getNumberFormatter().get("numericFields",[]),d=t.getDurationFormatter().get("durationFields",[]);l.indexOf(o[3])!==-1?r.push({method:"formatDate",params:[]}):u.indexOf(o[3])!==-1?r.push({method:"formatNumber",params:[]}):d.indexOf(o[3])!==-1&&r.push({method:"formatDuration",params:[]})}else{let l=[];if($d(o[2])!=""){let u=/'([^']*)'|"([^"]*)"|([0-9\-]+)/g,d;for(;d=u.exec(o[2]),d!==null;)l.push(d[1]||d[2]||d[3])}r.push({method:o[1],params:l})}if(s){i=xu(t,r,s._settings),(i==null||cp(i))&&(i=xu(t,r,s));let l=s.dataContext;i==null&&l&&(i=xu(t,r,l),i==null&&(i=xu(t,[{prop:e}],l)),i==null&&l.dataContext&&(i=xu(t,r,l.dataContext))),i==null&&s.component&&s.component.dataItem!==s&&(i=wk(s.component,e))}return i==null&&(i=xu(t,r,t)),i==null&&t.parent&&(i=wk(t.parent,e)),i}function A0e(t,e){const n=t.getPrivate("customData");if(cp(n))return n[e]}function xu(t,e,n,i){let s=n,r=!1;for(let a=0,o=e.length;a<o;a++){let l=e[a];if(l.prop){if(s instanceof ga){let u=s.get(l.prop);u==null&&(u=s.getPrivate(l.prop)),u==null&&(u=A0e(s,l.prop)),u==null&&(u=s[l.prop]),s=u}else if(s.get){let u=s.get(l.prop);u==null&&(u=s[l.prop]),s=u}else s=s[l.prop];if(s==null)return}else switch(l.method){case"formatNumber":let u=lr(s);u!=null&&(s=t.getNumberFormatter().format(u,l.params[0]||void 0),r=!0);break;case"formatDate":let d=Fwe(s);if(!dk(d)||ma(d.getTime()))return;d!=null&&(s=t.getDateFormatter().format(d,l.params[0]||void 0),r=!0);break;case"formatDuration":let c=lr(s);c!=null&&(s=t.getDurationFormatter().format(c,l.params[0]||void 0,l.params[1]||void 0),r=!0);break;case"urlEncode":case"encodeURIComponent":s=encodeURIComponent(s);break;default:s[l.method]&&s[l.method].apply(n,l.params);break}}if(!r){let a=[{method:"",params:i}];me(s)?(a[0].method="formatNumber",a[0].params=""):dk(s)&&(a[0].method="formatDate",a[0].params=""),a[0].method&&(s=xu(t,a,s))}return s}class st extends ga{constructor(){super(...arguments),Object.defineProperty(this,"_display",{enumerable:!0,configurable:!0,writable:!0,value:this._root._renderer.makeContainer()}),Object.defineProperty(this,"_childrenDisplay",{enumerable:!0,configurable:!0,writable:!0,value:this._root._renderer.makeContainer()}),Object.defineProperty(this,"children",{enumerable:!0,configurable:!0,writable:!0,value:new _0e(this)}),Object.defineProperty(this,"_percentageSizeChildren",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_percentagePositionChildren",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_prevWidth",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_prevHeight",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_contentWidth",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_contentHeight",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_contentMask",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_vsbd0",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_vsbd1",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}_afterNew(){super._afterNew(),this._display.addChild(this._childrenDisplay)}_dispose(){cm(this.allChildren(),e=>{e.dispose()}),this.getPrivate("htmlElement")&&this._root._removeHTMLContent(this),super._dispose()}_changed(){if(super._changed(),this.isDirty("interactiveChildren")&&(this._display.interactiveChildren=this.get("interactiveChildren",!1)),this.isDirty("layout")&&(this._prevWidth=0,this._prevHeight=0,this.markDirtyBounds(),this._prevSettings.layout&&this.children.each(e=>{e.removePrivate("x"),e.removePrivate("y")})),(this.isDirty("paddingTop")||this.isDirty("paddingBottom")||this.isDirty("paddingLeft")||this.isDirty("paddingRight"))&&this.children.each(e=>{e.markDirtyPosition()}),this.isDirty("maskContent")){const e=this._childrenDisplay;let n=this._contentMask;this.get("maskContent")?n||(n=tr.new(this._root,{x:-.5,y:-.5,width:this.width()+1,height:this.height()+1}),this._contentMask=n,e.addChildAt(n._display,0),e.mask=n._display):n&&(e.removeChild(n._display),e.mask=null,n.dispose(),this._contentMask=void 0)}}_updateSize(){super._updateSize(),oe(this._percentageSizeChildren,e=>{e._updateSize()}),oe(this._percentagePositionChildren,e=>{e.markDirtyPosition(),e._updateSize()}),this.updateBackground()}updateBackground(){const e=this.get("background");let n=this._localBounds;if(n&&!this.isHidden()){let i=n.left,s=n.top,r=n.right-i,a=n.bottom-s,o=this.get("maxWidth"),l=this.get("maxHeight");l&&a>l&&(a=l),o&&r>o&&(r=o);let u=this.width(),d=this.height();e&&(e.setAll({width:r,height:a,x:i,y:s}),this._display.interactive&&(e._display.interactive=!0));const c=this._contentMask;c&&c.setAll({width:u+1,height:d+1});const f=this.get("verticalScrollbar");if(f){f.set("height",d),f.set("x",u-f.width()-f.get("marginRight",0)),f.set("end",f.get("start",0)+d/this._contentHeight);const h=f.get("background");h&&h.setAll({width:f.width(),height:d});let p=!0;this._contentHeight<=d&&(p=!1),f.setPrivate("visible",p)}}}_applyThemes(e=!1){return super._applyThemes(e)?(this.eachChildren(n=>{n._applyThemes(e)}),!0):!1}_applyState(e){super._applyState(e),this.get("setStateOnChildren")&&this.eachChildren(n=>{n.states.apply(e)})}_applyStateAnimated(e,n){super._applyStateAnimated(e,n),this.get("setStateOnChildren")&&this.eachChildren(i=>{i.states.applyAnimate(e,n)})}innerWidth(){return this.width()-this.get("paddingRight",0)-this.get("paddingLeft",0)}innerHeight(){return this.height()-this.get("paddingTop",0)-this.get("paddingBottom",0)}_getBounds(){if(this.get("html")){let e=this._localBounds;e&&(this._contentWidth=e.right-e.left,this._contentHeight=e.bottom-e.top)}else{let e=this.get("width"),n=this.get("height"),i=this.getPrivate("width"),s=this.getPrivate("height"),r={left:0,top:0,right:this.width(),bottom:this.height()},a=this.get("layout"),o=!1,l=!1;if((a instanceof ph||a instanceof pc)&&(o=!0),a instanceof vh&&(l=!0),!((e!=null||i!=null)&&(n!=null||s!=null)&&!this.get("verticalScrollbar"))){let u=Number.MAX_VALUE,d=u,c=-u,f=u,h=-u;const p=this.get("paddingLeft",0),g=this.get("paddingTop",0),v=this.get("paddingRight",0),_=this.get("paddingBottom",0);this.children.each(k=>{if(k.get("position")!="absolute"&&k.get("isMeasured")){let I=k.adjustedLocalBounds(),E=k.x(),T=k.y(),S=E+I.left,w=E+I.right,P=T+I.top,C=T+I.bottom;o&&(S-=k.get("marginLeft",0),w+=k.get("marginRight",0)),l&&(P-=k.get("marginTop",0),C+=k.get("marginBottom",0)),S<d&&(d=S),w>c&&(c=w),P<f&&(f=P),C>h&&(h=C)}}),d==u&&(d=0),c==-u&&(c=0),f==u&&(f=0),h==-u&&(h=0),r.left=d-p,r.top=f-g,r.right=c+v,r.bottom=h+_;const b=this.get("minWidth");me(b)&&b>0&&r.right-r.left<b&&(r.right>=b?r.left=r.right-b:r.right=r.left+b);const x=this.get("minHeight");me(x)&&x>0&&r.bottom-r.top<x&&(r.bottom>=x?r.top=r.bottom-x:r.bottom=r.top+x)}this._contentWidth=r.right-r.left,this._contentHeight=r.bottom-r.top,me(e)&&(r.left=0,r.right=e),me(i)&&(r.left=0,r.right=i),me(n)&&(r.top=0,r.bottom=n),me(s)&&(r.top=0,r.bottom=s),this._localBounds=r}}_updateBounds(){const e=this.get("layout");e&&e.updateContainer(this),super._updateBounds(),this.updateBackground()}markDirty(){super.markDirty(),this._root._addDirtyParent(this)}_prepareChildren(){const e=this.innerWidth(),n=this.innerHeight();if(e!=this._prevWidth||n!=this._prevHeight){let i=this.get("layout"),s=!1,r=!1;i&&((i instanceof ph||i instanceof pc)&&(s=!0),i instanceof vh&&(r=!0)),oe(this._percentageSizeChildren,a=>{if(!s){let o=a.get("width");o instanceof xt&&a.setPrivate("width",o.value*e)}if(!r){let o=a.get("height");o instanceof xt&&a.setPrivate("height",o.value*n)}}),oe(this._percentagePositionChildren,a=>{a.markDirtyPosition(),a.markDirtyBounds()}),this._prevWidth=e,this._prevHeight=n,this._sizeDirty=!0,this.updateBackground()}this._handleStates()}_updateHTMLContent(){const e=this.get("html");e&&e!==""?this._root._setHTMLContent(this,_h(this,this.get("html",""))):this._root._removeHTMLContent(this),this._root._positionHTMLElement(this)}scrollToChild(e){const n=this.get("verticalScrollbar");if(n){let i=e.y(),s=this.innerHeight(),r=e.height(),a=this._contentHeight,o=1-(s-r/2)/a;if(i+r*.7+this._childrenDisplay.y>s||i-r*.3+this._childrenDisplay.y<0){let l=Math.max(0,Math.min(o,(i-r/2)/a));n.animate({key:"start",to:l,duration:n.get("animationDuration",0),easing:n.get("animationEasing")})}}}_updateChildren(){if(this.isDirty("html")&&this._updateHTMLContent(),this.isDirty("verticalScrollbar")){const e=this.get("verticalScrollbar");if(e){e._setParent(this),e.startGrip.setPrivate("visible",!1),e.endGrip.setPrivate("visible",!1),this.set("maskContent",!0),this.set("paddingRight",e.width()+e.get("marginRight",0)+e.get("marginLeft",0));let n=this.get("background");n||(n=this.set("background",tr.new(this._root,{themeTags:["background"],fillOpacity:0,fill:this._root.interfaceColors.get("alternativeBackground")}))),this._vsbd0=this.events.on("wheel",i=>{const s=i.originalEvent;if(ZC(s,this))s.preventDefault();else return;let r=s.deltaY/5e3;const a=e.get("start",0),o=e.get("end",1);a+r<=0&&(r=-a),o+r>=1&&(r=1-o),a+r>=0&&o+r<=1&&(e.set("start",a+r),e.set("end",o+r))}),this._disposers.push(this._vsbd0),this._vsbd1=e.events.on("rangechanged",()=>{let i=this._contentHeight;const s=this._childrenDisplay,r=this._contentMask;s.y=-e.get("start",0)*i,s.markDirtyLayer(),r&&(r._display.y=-s.y,s.mask=r._display)}),this._disposers.push(this._vsbd1),this._display.addChild(e._display)}else{const n=this._prevSettings.verticalScrollbar;if(n){this._display.removeChild(n._display),this._vsbd0&&this._vsbd0.dispose(),this._vsbd1&&this._vsbd1.dispose();const i=this._childrenDisplay;i.y=0,this.setPrivate("height",void 0),this.set("maskContent",!1),this.set("paddingRight",void 0)}}}if(this.isDirty("background")){const e=this._prevSettings.background;e&&this._display.removeChild(e._display);const n=this.get("background");n instanceof ga&&(n.set("isMeasured",!1),n._setParent(this),this._display.addChildAt(n._display,0))}if(this.isDirty("mask")){const e=this.get("mask"),n=this._prevSettings.mask;if(n&&(this._display.removeChild(n._display),n!=e&&n.dispose()),e){const i=e.parent;i&&i.children.removeValue(e),e._setParent(this),this._display.addChildAt(e._display,0),this._childrenDisplay.mask=e._display}}}_processTemplateField(){super._processTemplateField(),this.children.each(e=>{e._processTemplateField()})}walkChildren(e){this.children.each(n=>{n instanceof st&&n.walkChildren(e),e(n)})}eachChildren(e){const n=this.get("background");n&&e(n);const i=this.get("verticalScrollbar");i&&e(i);const s=this.get("mask");s&&e(s),this.children.values.forEach(r=>{e(r)})}allChildren(){const e=[];return this.eachChildren(n=>{e.push(n)}),e}_setDataItem(e){const n=e!==this._dataItem;super._setDataItem(e);const i=this.get("html","");i&&i!==""&&n&&this._root._setHTMLContent(this,_h(this,i))}}Object.defineProperty(st,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Container"});Object.defineProperty(st,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:ga.classNames.concat([st.className])});class vc extends ga{constructor(){super(...arguments),Object.defineProperty(this,"textStyle",{enumerable:!0,configurable:!0,writable:!0,value:this._root._renderer.makeTextStyle()}),Object.defineProperty(this,"_display",{enumerable:!0,configurable:!0,writable:!0,value:this._root._renderer.makeText("",this.textStyle)}),Object.defineProperty(this,"_textStyles",{enumerable:!0,configurable:!0,writable:!0,value:["textAlign","fontFamily","fontSize","fontStyle","fontWeight","fontStyle","fontVariant","textDecoration","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","shadowOpacity","lineHeight","baselineRatio","direction","textBaseline","oversizedBehavior","breakWords","ellipsis","minScale","maxChars"]}),Object.defineProperty(this,"_originalScale",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}_updateBounds(){if(this.get("text")){super._updateBounds();let e=this.get("fillGradient");e&&(this._display.style.fill=e.getFill(this))}else{let e={left:0,right:0,top:0,bottom:0};this._adjustedLocalBounds=e}}_changed(){super._changed(),this._display.clear();let e=this.textStyle;if(this.isDirty("opacity")){let n=this.get("opacity",1);this._display.alpha=n}if((this.isDirty("text")||this.isDirty("populateText"))&&(this._display.text=this._getText(),this.markDirtyBounds(),this.get("role")=="tooltip"&&this._root.updateTooltip(this)),this.isPrivateDirty("tooltipElement")&&this.getPrivate("tooltipElement")&&this._disposers.push(new Di(()=>{this._root._removeTooltipElement(this)})),this.isDirty("width")&&(e.wordWrapWidth=this.width(),this.markDirtyBounds()),this.isDirty("oversizedBehavior")&&(e.oversizedBehavior=this.get("oversizedBehavior","none"),this.markDirtyBounds()),this.isDirty("breakWords")&&(e.breakWords=this.get("breakWords",!1),this.markDirtyBounds()),this.isDirty("ellipsis")&&(e.ellipsis=this.get("ellipsis"),this.markDirtyBounds()),this.isDirty("ignoreFormatting")&&(e.ignoreFormatting=this.get("ignoreFormatting",!1),this.markDirtyBounds()),this.isDirty("minScale")&&(e.minScale=this.get("minScale",0),this.markDirtyBounds()),this.isDirty("fill")||this.isDirty("fillGradient")){const n=this.get("fill"),i=this.get("fillGradient"),s=this.get("fillOpacity");if(i){if(n){const r=i.get("stops",[]);r.length&&oe(r,a=>{(!a.color||a.colorInherited)&&n&&(a.color=n,a.colorInherited=!0),(a.opacity==null||a.opacityInherited)&&(a.opacity=s,a.opacityInherited=!0)})}e.fill=i.getFill(this)}else n&&(e.fill=n)}if(this.isDirty("fillOpacity")){let n=this.get("fillOpacity",1);n&&(e.fillOpacity=n)}(this.isDirty("maxWidth")||this.isPrivateDirty("maxWidth"))&&(e.maxWidth=this.get("maxWidth",this.getPrivate("maxWidth")),this.markDirtyBounds()),(this.isDirty("maxHeight")||this.isPrivateDirty("maxHeight"))&&(e.maxHeight=this.get("maxHeight",this.getPrivate("maxHeight")),this.markDirtyBounds()),oe(this._textStyles,n=>{this._dirty[n]&&(e[n]=this.get(n),this.markDirtyBounds())}),e.fontSize=this.get("fontSize"),e.fontFamily=this.get("fontFamily"),this._display.style=e,this.isDirty("role")&&this.get("role")=="tooltip"&&this._root.updateTooltip(this)}_getText(){let e=this.get("text","");return this.get("maxChars")&&(e=s0e(e,this.get("maxChars",1e8),this.get("breakWords"),this.get("ellipsis"))),this.get("populateText")?_h(this,e):e}_getAccessibleText(){const e=this.get("ariaLabel");return e!==void 0?this.get("populateText")?_h(this,e):e:this._getText()}markDirtyText(){this._display.text=this._getText(),this.get("role")=="tooltip"&&this._root.updateTooltip(this),this.markDirtyBounds(),this.markDirty()}_setDataItem(e){super._setDataItem(e),this.get("populateText")&&this.markDirtyText()}getNumberFormatter(){return this.parent?this.parent.getNumberFormatter():super.getNumberFormatter()}getDateFormatter(){return this.parent?this.parent.getDateFormatter():super.getDateFormatter()}getDurationFormatter(){return this.parent?this.parent.getDurationFormatter():super.getDurationFormatter()}}Object.defineProperty(vc,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Text"});Object.defineProperty(vc,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:ga.classNames.concat([vc.className])});class R0e{constructor(){Object.defineProperty(this,"_observer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_targets",{enumerable:!0,configurable:!0,writable:!0,value:[]}),this._observer=new ResizeObserver(e=>{oe(e,n=>{oe(this._targets,i=>{i.target===n.target&&i.callback()})})})}addTarget(e,n){this._observer.observe(e,{box:"border-box"}),this._targets.push({target:e,callback:n})}removeTarget(e){this._observer.unobserve(e),Nw(this._targets,n=>n.target!==e)}}class jw{constructor(){Object.defineProperty(this,"_timer",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"_targets",{enumerable:!0,configurable:!0,writable:!0,value:[]})}addTarget(e,n){if(this._timer===null){let s=null;const r=()=>{const a=Date.now();(s===null||a>s+jw.delay)&&(s=a,oe(this._targets,o=>{let l=o.target.getBoundingClientRect();(l.width!==o.size.width||l.height!==o.size.height)&&(o.size=l,o.callback())})),this._targets.length===0?this._timer=null:this._timer=requestAnimationFrame(r)};this._timer=requestAnimationFrame(r)}let i={width:0,height:0,left:0,right:0,top:0,bottom:0,x:0,y:0};this._targets.push({target:e,callback:n,size:i})}removeTarget(e){Nw(this._targets,n=>n.target!==e),this._targets.length===0&&this._timer!==null&&(cancelAnimationFrame(this._timer),this._timer=null)}}Object.defineProperty(jw,"delay",{enumerable:!0,configurable:!0,writable:!0,value:200});let uv=null;function O0e(){return uv===null&&(typeof ResizeObserver<"u"?uv=new R0e:uv=new jw),uv}class M0e{constructor(e,n){Object.defineProperty(this,"_sensor",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_element",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_listener",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_disposed",{enumerable:!0,configurable:!0,writable:!0,value:!1}),this._sensor=O0e(),this._element=e,this._listener=OU(n),this._sensor.addTarget(e,n)}isDisposed(){return this._disposed}dispose(){this._disposed||(this._disposed=!0,this._sensor.removeTarget(this._element),this._listener.dispose())}get sensor(){return this._sensor}}class yy extends Ei{}Object.defineProperty(yy,"className",{enumerable:!0,configurable:!0,writable:!0,value:"InterfaceColors"});Object.defineProperty(yy,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Ei.classNames.concat([yy.className])});class Hi extends st{constructor(){super(...arguments),Object.defineProperty(this,"_text",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_textKeys",{enumerable:!0,configurable:!0,writable:!0,value:["text","fill","fillGradient","fillOpacity","textAlign","fontFamily","fontSize","fontStyle","fontWeight","fontStyle","fontVariant","textDecoration","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","shadowOpacity","lineHeight","baselineRatio","direction","textBaseline","oversizedBehavior","breakWords","ellipsis","minScale","populateText","role","ignoreFormatting","maxChars","ariaLabel"]})}get text(){return this._text}_afterNew(){super._afterNew(),this._makeText(),oe(this._textKeys,e=>{const n=this.get(e);n!=null&&this._text.set(e,n)}),this.get("html","")!==""&&this._text.set("text",""),this.onPrivate("maxWidth",()=>{this._setMaxDimentions()}),this.onPrivate("maxHeight",()=>{this._setMaxDimentions()})}_makeText(){this._text=this.children.push(vc.new(this._root,{}))}_updateChildren(){super._updateChildren();const e=this._text;if(oe(this._textKeys,i=>{this._text.set(i,this.get(i))}),(this.isDirty("maxWidth")||this.isDirty("maxHeight")||this.isDirty("rotation"))&&this._setMaxDimentions(),this.get("html","")!==""?e.set("text",""):(e.set("text",this.get("text")),this._maybeUpdateHTMLColor()),(this.isDirty("fill")||this.isDirty("fillGradient"))&&this._maybeUpdateHTMLColor(),this.isDirty("textAlign")||this.isDirty("width")){const i=this.get("textAlign");let s;this.get("width")!=null?i=="right"?s=Fe:i=="center"?s=lt:s=0:i=="left"||i=="start"?s=this.get("paddingLeft",0):(i=="right"||i=="end")&&(s=-this.get("paddingRight",0)),e.set("x",s)}const n=this.get("background");n&&n.setPrivate("visible",e._display.textVisible)}_maybeUpdateHTMLColor(){const e=this.getPrivate("htmlElement");e&&this.get("fill")&&(e.style.color=this.get("fill").toCSSHex())}_setMaxDimentions(){const e=this.get("rotation"),n=e==90||e==270||e==-90,i=this._text,s=this.get("maxWidth",this.getPrivate("maxWidth",1/0));me(s)?i.set(n?"maxHeight":"maxWidth",s-this.get("paddingTop",0)-this.get("paddingBottom",0)):i.set(n?"maxHeight":"maxWidth",void 0);const r=this.get("maxHeight",this.getPrivate("maxHeight",1/0));me(r)?i.set(n?"maxWidth":"maxHeight",r-this.get("paddingLeft",0)-this.get("paddingRight",0)):i.set(n?"maxWidth":"maxHeight",void 0),this.root.events.once("frameended",()=>{i.markDirtyBounds()})}_setDataItem(e){super._setDataItem(e),this._markDirtyKey("text");const n=this._text;n.get("populateText")&&n.markDirtyText();const i=this.get("html");i&&i!==""&&this._updateHTMLContent()}getText(){return this._text._getText()}getAccessibleText(){return this._text._getAccessibleText()}}Object.defineProperty(Hi,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Label"});Object.defineProperty(Hi,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:st.classNames.concat([Hi.className])});class Ud extends cn{_beforeChanged(){super._beforeChanged(),(this.isDirty("pointerBaseWidth")||this.isDirty("cornerRadius")||this.isDirty("pointerLength")||this.isDirty("pointerX")||this.isDirty("pointerY")||this.isDirty("width")||this.isDirty("height"))&&(this._clear=!0)}_changed(){if(super._changed(),this._clear){this.markDirtyBounds();let e=this.width(),n=this.height();if(e>0&&n>0){let i=this.get("cornerRadius",8);i=Kn(i,0,Math.min(e/2,n/2));let s=this.get("pointerX",0),r=this.get("pointerY",0),a=this.get("pointerBaseWidth",15)/2,o=0,l=0,u=e,d=0,c=e,f=n,h=0,p=n,g=(s-o)*(f-l)-(r-l)*(c-o),v=(s-h)*(d-p)-(r-p)*(u-h);const _=this._display;if(_.moveTo(i,0),g>0&&v>0){let b=Math.round(Kn(s,i+a,e-a-i));r=Kn(r,-1/0,0),_.lineTo(b-a,0),_.lineTo(s,r),_.lineTo(b+a,0)}if(_.lineTo(e-i,0),_.arcTo(e,0,e,i,i),g>0&&v<0){let b=Math.round(Kn(r,i+a,n-a-i));s=Kn(s,e,1/0),_.lineTo(e,i),_.lineTo(e,Math.max(b-a,i)),_.lineTo(s,r),_.lineTo(e,b+a)}if(_.lineTo(e,n-i),_.arcTo(e,n,e-i,n,i),g<0&&v<0){let b=Math.round(Kn(s,i+a,e-a-i));r=Kn(r,n,1/0),_.lineTo(e-i,n),_.lineTo(b+a,n),_.lineTo(s,r),_.lineTo(b-a,n)}if(_.lineTo(i,n),_.arcTo(0,n,0,n-i,i),g<0&&v>0){let b=Math.round(Kn(r,i+a,n-i-a));s=Kn(s,-1/0,0),_.lineTo(0,n-i),_.lineTo(0,b+a),_.lineTo(s,r),_.lineTo(0,Math.max(b-a,i))}_.lineTo(0,i),_.arcTo(0,0,i,0,i),_.closePath()}}}}Object.defineProperty(Ud,"className",{enumerable:!0,configurable:!0,writable:!0,value:"PointedRectangle"});Object.defineProperty(Ud,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:cn.classNames.concat([Ud.className])});class Wl extends st{constructor(e,n,i,s=[]){super(e,n,i,s),Object.defineProperty(this,"_fx",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_fy",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_label",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_fillDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_strokeDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_labelDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_w",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_h",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_keepHoverDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_htmlContentHovered",{enumerable:!0,configurable:!0,writable:!0,value:!1})}_afterNew(){this._settings.themeTags=Vt(this._settings.themeTags,["tooltip"]),super._afterNew(),this._setDefaultFn("background",()=>Ud.new(this._root,{})).set("themeTags",["tooltip","background"]),this._label=this.children.push(Hi.new(this._root,{})),this._disposers.push(this._label.events.on("boundschanged",()=>{this._updateBackground()})),this._disposers.push(this.on("bounds",()=>{this._updateBackground()})),this._updateTextColor(),this._root.tooltipContainer.children.push(this),this.hide(0),this._disposers.push(this.label.onPrivate("htmlElement",n=>{n&&(this._disposers.push(Nn(n,"pointerover",i=>{this._htmlContentHovered=!0})),this._disposers.push(Nn(n,"pointerout",i=>{this._htmlContentHovered=!1})))})),this.on("visible",n=>{this._handleReaderAnnouncement()}),this.label.events.on("dataitemchanged",n=>{this._handleReaderAnnouncement()}),this._root._tooltips.push(this)}_handleReaderAnnouncement(){this.get("readerAnnounce")&&this.isVisibleDeep()&&this._root.readerAlert(this.label.getAccessibleText())}get label(){return this._label}_dispose(){super._dispose(),Ir(this._root._tooltips,this)}_updateChildren(){super._updateChildren(),(this.isDirty("pointerOrientation")||this.isPrivateDirty("minWidth")||this.isPrivateDirty("minHeight"))&&this.get("background")._markDirtyKey("width"),this.get("labelText")!=null&&this.label.set("text",this.get("labelText")),this.get("labelHTML")!=null&&this.label.set("html",this.get("labelHTML")),this.get("labelAriaLabel")!=null&&this.label.set("ariaLabel",this.get("labelAriaLabel"))}_changed(){if(super._changed(),(this.isDirty("pointTo")||this.isDirty("pointerOrientation"))&&this._updateBackground(),this.isDirty("tooltipTarget")&&this.updateBackgroundColor(),this.isDirty("keepTargetHover"))if(this.get("keepTargetHover")){const n=this.get("background");this._keepHoverDp=new Os([n.events.on("pointerover",i=>{let s=this.get("tooltipTarget");s&&(s.parent&&s.parent.getPrivate("tooltipTarget")==s&&(s=s.parent),s.hover())}),n.events.on("pointerout",i=>{let s=this.get("tooltipTarget");s&&(s.parent&&s.parent.getPrivate("tooltipTarget")==s&&(s=s.parent),this._htmlContentHovered||s.unhover())})]),this.label.onPrivate("htmlElement",i=>{this._keepHoverDp&&i&&this._keepHoverDp.disposers.push(Nn(i,"pointerleave",s=>{const r=this.root._renderer.getEvent(s);n.events.dispatch("pointerout",{type:"pointerout",originalEvent:r.event,point:r.point,simulated:!1,target:n})}))})}else this._keepHoverDp&&(this._keepHoverDp.dispose(),this._keepHoverDp=void 0)}_onShow(){super._onShow(),this.updateBackgroundColor()}updateBackgroundColor(){let e=this.get("tooltipTarget");const n=this.get("background");let i,s;e&&n&&(i=e.get("fill"),s=e.get("stroke"),i==null&&(i=s),this.get("getFillFromSprite")&&(this._fillDp&&this._fillDp.dispose(),i!=null&&n.set("fill",i),this._fillDp=e.on("fill",r=>{r!=null&&(n.set("fill",r),this._updateTextColor(r))}),this._disposers.push(this._fillDp)),this.get("getStrokeFromSprite")&&(this._strokeDp&&this._strokeDp.dispose(),i!=null&&n.set("stroke",i),this._strokeDp=e.on("fill",r=>{r!=null&&n.set("stroke",r)}),this._disposers.push(this._strokeDp)),this.get("getLabelFillFromSprite")&&(this._labelDp&&this._labelDp.dispose(),i!=null&&this.label.set("fill",i),this._labelDp=e.on("fill",r=>{r!=null&&this.label.set("fill",r)}),this._disposers.push(this._labelDp))),this._updateTextColor(i)}_updateTextColor(e){this.get("autoTextColor")&&(e==null&&(e=this.get("background").get("fill")),e==null&&(e=this._root.interfaceColors.get("background")),e instanceof tt&&this.label.set("fill",tt.alternative(e,this._root.interfaceColors.get("alternativeText"),this._root.interfaceColors.get("text"))))}_setDataItem(e){super._setDataItem(e),this.label._setDataItem(e)}_updateBackground(){super.updateBackground();const e=this._root.container;if(e){let n=.5,i=.5,s=this.get("centerX");s instanceof xt&&(n=s.value);let r=this.get("centerY");r instanceof xt&&(i=r.value);let a=e.width(),o=e.height(),l=this.parent,u=0,d=0;if(l){u=l.x(),d=l.y();const C=l.get("layerMargin");C&&(u+=C.left||0,d+=C.top||0,a+=(C.left||0)+(C.right||0),o+=(C.top||0)+(C.bottom||0))}const c=this.get("bounds",{left:-u,top:-d,right:a-u,bottom:o-d});this._updateBounds();let f=this.width(),h=this.height();f===0&&(f=this._w),h===0&&(h=this._h);let p=this.get("pointTo",{x:a/2,y:o/2}),g=p.x,v=p.y,_=this.get("pointerOrientation"),b=this.get("background"),x=0,k=0,I=0;b instanceof Ud&&(x=b.get("pointerLength",0),k=b.get("strokeWidth",0)/2,I=k,b.set("width",f),b.set("height",h));let E=0,T=0,S=c.right-c.left,w=c.bottom-c.top;_=="horizontal"||_=="left"||_=="right"?(k=0,_=="horizontal"?g>c.left+S/2?(g-=f*(1-n)+x,I*=-1):g+=f*n+x:_=="left"?g+=f*(1-n)+x:(g-=f*n+x,I*=-1)):(I=0,_=="vertical"?v>c.top+h/2+x?v-=h*(1-i)+x:(v+=h*i+x,k*=-1):_=="down"?v-=h*(1-i)+x:(v+=h*i+x,k*=-1)),g=Kn(g,c.left+f*n,c.left+S-f*(1-n))+I,v=Kn(v,c.top+h*i,c.top+w-h*(1-i))-k,E=p.x-g+f*n+I,T=p.y-v+h*i-k,this._fx=g,this._fy=v;const P=this.get("animationDuration",0);if(P>0&&this.get("visible")&&this.get("opacity")>.1){const C=this.get("animationEasing");this.animate({key:"x",to:g,duration:P,easing:C}),this.animate({key:"y",to:v,duration:P,easing:C})}else this.set("x",g),this.set("y",v);b instanceof Ud&&(b.set("pointerX",E),b.set("pointerY",T)),f>0&&(this._w=f),h>0&&(this._h=h)}}}Object.defineProperty(Wl,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Tooltip"});Object.defineProperty(Wl,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:st.classNames.concat([Wl.className])});class V0e extends Ei{_setDefaults(){this._setDefault("negativeBase",0),this._setDefault("numberFormat","#,###.#####"),this._setDefault("smallNumberThreshold",1);const e="_big_number_suffix_",n="_small_number_suffix_",i="_byte_suffix_";this._setDefault("bigNumberPrefixes",[{number:1e3,suffix:this._t(e+"3")},{number:1e6,suffix:this._t(e+"6")},{number:1e9,suffix:this._t(e+"9")},{number:1e12,suffix:this._t(e+"12")},{number:1e15,suffix:this._t(e+"15")},{number:1e18,suffix:this._t(e+"18")},{number:1e21,suffix:this._t(e+"21")},{number:1e24,suffix:this._t(e+"24")}]),this._setDefault("smallNumberPrefixes",[{number:1e-24,suffix:this._t(n+"24")},{number:1e-21,suffix:this._t(n+"21")},{number:1e-18,suffix:this._t(n+"18")},{number:1e-15,suffix:this._t(n+"15")},{number:1e-12,suffix:this._t(n+"12")},{number:1e-9,suffix:this._t(n+"9")},{number:1e-6,suffix:this._t(n+"6")},{number:.001,suffix:this._t(n+"3")}]),this._setDefault("bytePrefixes",[{number:1,suffix:this._t(i+"B")},{number:1024,suffix:this._t(i+"KB")},{number:1048576,suffix:this._t(i+"MB")},{number:1073741824,suffix:this._t(i+"GB")},{number:1099511627776,suffix:this._t(i+"TB")},{number:0x4000000000000,suffix:this._t(i+"PB")}]),super._setDefaults()}_beforeChanged(){super._beforeChanged()}format(e,n,i){(n==null||mh(n)&&n.toLowerCase()==="number")&&(n=this.get("numberFormat",""));let s,r=Number(e);if(cp(n))try{return this.get("intlLocales")?new Intl.NumberFormat(this.get("intlLocales"),n).format(r):new Intl.NumberFormat(void 0,n).format(r)}catch{return"Invalid"}else{n=eE(n);let a=this.parseFormat(n,this._root.language),o;r>this.get("negativeBase")?o=a.positive:r<this.get("negativeBase")?o=a.negative:o=a.zero,i!=null&&!o.mod&&(o=Bu(o),o.decimals.active=r==0?0:i),s=o.template.split(zl).join(this.applyFormat(r,o))}return this.get("forceLTR")===!0&&(s="‎"+s),s}parseFormat(e,n){const i=n.translateEmpty("_thousandSeparator"),s=n.translateEmpty("_decimalSeparator");let r={positive:{thousands:{active:-1,passive:-1,interval:-1,separator:i},decimals:{active:-1,passive:-1,separator:s},template:"",source:"",parsed:!1},negative:{thousands:{active:-1,passive:-1,interval:-1,separator:i},decimals:{active:-1,passive:-1,separator:s},template:"",source:"",parsed:!1},zero:{thousands:{active:-1,passive:-1,interval:-1,separator:i},decimals:{active:-1,passive:-1,separator:s},template:"",source:"",parsed:!1}};e=e.replace("||",xd);let a=e.split("|");return r.positive.source=a[0],typeof a[2]>"u"?r.zero=r.positive:r.zero.source=a[2],typeof a[1]>"u"?r.negative=r.positive:r.negative.source=a[1],sn(r,(o,l)=>{if(l.parsed)return;let u=l.source;u.toLowerCase()==="number"&&(u=this.get("numberFormat","#,###.#####"));let d=ra.chunk(u,!0);for(let c=0;c<d.length;c++){let f=d[c];if(f.text=f.text.replace(xd,"|"),f.type==="value"){let h=f.text.match(/[#0.,]+[ ]?[abespABESP%!]?[abespABESP‰!]?/);if(h)if(h===null||h[0]==="")l.template+=f.text;else{let p=h[0].match(/[abespABESP%‰!]{2}|[abespABESP%‰]{1}$/);p&&(l.mod=p[0].toLowerCase(),l.modSpacing=!!h[0].match(/[ ]{1}[abespABESP%‰!]{1}$/));let g=h[0].split(".");if(g[0]!==""){l.thousands.active=(g[0].match(/0/g)||[]).length,l.thousands.passive=(g[0].match(/\#/g)||[]).length+l.thousands.active;let v=g[0].split(",");v.length===1||(l.thousands.interval=(v.pop()||"").length,l.thousands.interval===0&&(l.thousands.interval=-1))}typeof g[1]>"u"||(l.decimals.active=(g[1].match(/0/g)||[]).length,l.decimals.passive=(g[1].match(/\#/g)||[]).length+l.decimals.active),l.template+=f.text.split(h[0]).join(zl)}}else l.template+=f.text}l.parsed=!0}),r}applyFormat(e,n){let i=e<0;e=Math.abs(e);let s="",r="",a=n.mod?n.mod.split(""):[];if(a.indexOf("b")!==-1){let c=this.applyPrefix(e,this.get("bytePrefixes"),a.indexOf("!")!==-1);e=c[0],s=c[1],r=c[2],n.modSpacing&&(r=" "+r)}else if(a.indexOf("a")!==-1){let c=this.applyPrefix(e,e<this.get("smallNumberThreshold")?this.get("smallNumberPrefixes"):this.get("bigNumberPrefixes"),a.indexOf("!")!==-1);e=c[0],s=c[1],r=c[2],n.modSpacing&&(r=" "+r)}else if(a.indexOf("p")!==-1){let c=Math.min(e.toString().length+2,21);e=parseFloat(e.toPrecision(c)),s=this._root.language.translate("_percentPrefix"),r=this._root.language.translate("_percentSuffix"),s==""&&r==""&&(r="%")}else if(a.indexOf("%")!==-1){let c=Math.min(e.toString().length+2,21);e*=100,e=parseFloat(e.toPrecision(c)),r="%"}else if(a.indexOf("‰")!==-1){let c=Math.min(e.toString().length+3,21);e*=1e3,e=parseFloat(e.toPrecision(c)),r="‰"}if(a.indexOf("e")!==-1){let c;n.decimals.passive>=0?c=e.toExponential(n.decimals.passive).split("e"):c=e.toExponential().split("e"),e=Number(c[0]),r="e"+c[1],n.modSpacing&&(r=" "+r)}else if(n.decimals.passive===0)e=Math.round(e);else if(n.decimals.passive>0){const c=VU(e);if(c>0){const f=Math.pow(10,n.decimals.passive);e=Math.round(parseFloat((e*f).toFixed(c)))/f}}let o="",l=Bwe(e).split("."),u=l[0];if(u.length<n.thousands.active&&(u=Array(n.thousands.active-u.length+1).join("0")+u),n.thousands.interval>0){let c=[],f=u.split("").reverse().join("");for(let h=0,p=u.length;h<=p;h+=n.thousands.interval){let g=f.substr(h,n.thousands.interval).split("").reverse().join("");g!==""&&c.unshift(g)}u=c.join(n.thousands.separator)}o+=u,l.length===1&&l.push("");let d=l[1];return d.length<n.decimals.active&&(d+=Array(n.decimals.active-d.length+1).join("0")),d!==""&&(o+=n.decimals.separator+d),o===""&&(o="0"),e!==0&&i&&a.indexOf("s")===-1&&(o="-"+o),s&&(o=s+o),r&&(o+=r),o}applyPrefix(e,n,i=!1){let s=e,r="",a="",o=!1,l=1;for(let u=0,d=n.length;u<d;u++)n[u].number<=e&&(n[u].number===0?s=0:(s=e/n[u].number,l=n[u].number),r=n[u].prefix,a=n[u].suffix,o=!0);return!o&&i&&n.length&&e!=0&&(s=e/n[0].number,r=n[0].prefix,a=n[0].suffix,o=!0),o&&(s=parseFloat(s.toPrecision(Math.min(l.toString().length+Math.floor(s).toString().replace(/[^0-9]*/g,"").length,21)))),[s,r,a]}escape(e){return e.replace("||",xd)}unescape(e){return e.replace(xd,"|")}}function zU(t,e){let n=0,i=0,s=1,r=0,a=0,o=0,l=0,u=0;return t.formatToParts(e).forEach(d=>{switch(d.type){case"year":n=+d.value;break;case"month":i=+d.value-1;break;case"day":s=+d.value;break;case"hour":r=+d.value;break;case"minute":a=+d.value;break;case"second":o=+d.value;break;case"fractionalSecond":l=+d.value;break;case"weekday":switch(d.value){case"Sun":u=0;break;case"Mon":u=1;break;case"Tue":u=2;break;case"Wed":u=3;break;case"Thu":u=4;break;case"Fri":u=5;break;case"Sat":u=6;break}}}),r===24&&(r=0),{year:n,month:i,day:s,hour:r,minute:a,second:o,millisecond:l,weekday:u}}function hV(t,e){const{year:n,month:i,day:s,hour:r,minute:a,second:o,millisecond:l}=zU(t,e);return Date.UTC(n,i,s,r,a,o,l)}class L0e{constructor(e,n){if(Object.defineProperty(this,"_utc",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_dtf",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),!n)throw new Error("You cannot use `new Class()`, instead use `Class.new()`");this.name=e,this._utc=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:"UTC",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",weekday:"short",fractionalSecondDigits:3}),this._dtf=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:e,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",weekday:"short",fractionalSecondDigits:3})}static new(e){return new this(e,!0)}convertLocal(e){const n=this.offsetUTC(e),i=e.getTimezoneOffset(),s=new Date(e);s.setUTCMinutes(s.getUTCMinutes()-(n-i));const r=s.getTimezoneOffset();return i!=r&&s.setUTCMinutes(s.getUTCMinutes()+r-i),s}offsetUTC(e){const n=hV(this._utc,e),i=hV(this._dtf,e);return(n-i)/6e4}parseDate(e){return zU(this._dtf,e)}}class N0e extends Ei{_setDefaults(){this._setDefault("capitalize",!0),this._setDefault("dateFormat","yyyy-MM-dd"),super._setDefaults()}_beforeChanged(){super._beforeChanged()}format(e,n,i=!1){(typeof n>"u"||n==="")&&(n=this.get("dateFormat","yyyy-MM-dd"));let s,r=e;if(cp(n))try{const l=this.get("intlLocales");return l?new Intl.DateTimeFormat(l,n).format(r):new Intl.DateTimeFormat(void 0,n).format(r)}catch{return"Invalid"}let a=this.parseFormat(n);const o=this._root.timezone;return o&&!this._root.utc&&!i&&(r=o.convertLocal(r)),me(r.getTime())?(s=this.applyFormat(r,a,i),this.get("capitalize")&&(s=s.replace(/^.{1}/,s.substr(0,1).toUpperCase())),s):"Invalid date"}applyFormat(e,n,i=!1){let s=n.template,r,a,o,l,u,d,c,f,h=e.getTime();this._root.utc&&!i?(r=e.getUTCFullYear(),a=e.getUTCMonth(),o=e.getUTCDay(),l=e.getUTCDate(),u=e.getUTCHours(),d=e.getUTCMinutes(),c=e.getUTCSeconds(),f=e.getUTCMilliseconds()):(r=e.getFullYear(),a=e.getMonth(),o=e.getDay(),l=e.getDate(),u=e.getHours(),d=e.getMinutes(),c=e.getSeconds(),f=e.getMilliseconds());for(let p=0,g=n.parts.length;p<g;p++){let v="";switch(n.parts[p]){case"G":v=this._t(r<0?"_era_bc":"_era_ad");break;case"yyyy":v=Math.abs(r).toString(),r<0&&(v+=this._t("_era_bc"));break;case"yyy":case"yy":case"y":v=Math.abs(r).toString().substr(-n.parts[p].length),r<0&&(v+=this._t("_era_bc"));break;case"YYYY":case"YYY":case"YY":case"Y":let _=a0e(e,this._root.utc);n.parts[p]=="YYYY"?v=Math.abs(_).toString():v=Math.abs(_).toString().substr(-n.parts[p].length),_<0&&(v+=this._t("_era_bc"));break;case"u":break;case"q":v=""+Math.ceil((e.getMonth()+1)/3);break;case"MMMMM":v=this._t(this._getMonth(a)).substr(0,1);break;case"MMMM":v=this._t(this._getMonth(a));break;case"MMM":v=this._t(this._getShortMonth(a));break;case"MM":v=ui(a+1,2,"0");break;case"M":v=(a+1).toString();break;case"ww":v=ui(py(e,this._root.utc),2,"0");break;case"w":v=py(e,this._root.utc).toString();break;case"W":v=o0e(e,this._root.utc).toString();break;case"dd":v=ui(l,2,"0");break;case"d":v=l.toString();break;case"DD":case"DDD":v=ui(aV(e,this._root.utc).toString(),n.parts[p].length,"0");break;case"D":v=aV(e,this._root.utc).toString();break;case"F":break;case"g":break;case"t":v=this._root.language.translateFunc("_dateOrd").call(this,l);break;case"E":v=(o||7).toString();break;case"EE":v=ui((o||7).toString(),2,"0");break;case"EEE":case"eee":v=this._t(this._getShortWeekday(o));break;case"EEEE":case"eeee":v=this._t(this._getWeekday(o));break;case"EEEEE":case"eeeee":v=this._t(this._getShortWeekday(o)).substr(0,1);break;case"e":case"ee":v=(o-(this._root.locale.firstDayOfWeek||1)+1).toString(),n.parts[p]=="ee"&&(v=ui(v,2,"0"));break;case"a":u>=12?v=this._t("PM"):v=this._t("AM");break;case"aa":u>=12?v=this._t("P.M."):v=this._t("A.M.");break;case"aaa":u>=12?v=this._t("P"):v=this._t("A");break;case"h":v=av(u).toString();break;case"hh":v=ui(av(u),2,"0");break;case"H":v=u.toString();break;case"HH":v=ui(u,2,"0");break;case"K":v=av(u,0).toString();break;case"KK":v=ui(av(u,0),2,"0");break;case"k":v=(u+1).toString();break;case"kk":v=ui(u+1,2,"0");break;case"m":v=d.toString();break;case"mm":v=ui(d,2,"0");break;case"s":v=c.toString();break;case"ss":v=ui(c,2,"0");break;case"S":case"SS":case"SSS":v=Math.round(f/1e3*Math.pow(10,n.parts[p].length)).toString();break;case"x":v=h.toString();break;case"n":case"nn":case"nnn":v=ui(f,n.parts[p].length,"0");break;case"z":v=ov(e,!1,!1,this._root.utc,this._root.timezone?this._root.timezone.name:void 0).replace(/[+-]+[0-9]+$/,"");break;case"zz":v=ov(e,!0,!1,this._root.utc,this._root.timezone?this._root.timezone.name:void 0);break;case"zzz":v=ov(e,!1,!0,this._root.utc,this._root.timezone?this._root.timezone.name:void 0).replace(/[+-]+[0-9]+$/,"");break;case"zzzz":v=ov(e,!0,!0,this._root.utc,this._root.timezone?this._root.timezone.name:void 0);break;case"Z":case"ZZ":let b=this._root.utc?"UTC":this._root.timezone;b instanceof L0e&&(b=b.name);const x=b?u0e(b):e.getTimezoneOffset();let k=Math.abs(x)/60,I=Math.floor(k),E=k*60-I*60;this._root.utc&&(I=0,E=0),n.parts[p]=="Z"?(v="GMT",v+=x>0?"-":"+",v+=ui(I,2)+":"+ui(E,2)):(v=x>0?"-":"+",v+=ui(I,2)+ui(E,2));break;case"i":v=e.toISOString();break;case"I":v=e.toUTCString();break}s=s.replace(zl,v)}return s}parseFormat(e){let n={template:"",parts:[]},i=ra.chunk(e,!0);for(let s=0;s<i.length;s++){let r=i[s];if(r.type==="value"){if(r.text.match(/^date$/i)){let o=this.get("dateFormat","yyyy-MM-dd");mh(o)||(o="yyyy-MM-dd"),r.text=o}let a=r.text.match(/G|yyyy|yyy|yy|y|YYYY|YYY|YY|Y|u|q|MMMMM|MMMM|MMM|MM|M|ww|w|W|dd|d|DDD|DD|D|F|g|EEEEE|EEEE|EEE|EE|E|eeeee|eeee|eee|ee|e|aaa|aa|a|hh|h|HH|H|KK|K|kk|k|mm|m|ss|s|SSS|SS|S|A|zzzz|zzz|zz|z|ZZ|Z|t|x|nnn|nn|n|i|I/g);if(a)for(let o=0;o<a.length;o++)n.parts.push(a[o]),r.text=r.text.replace(a[o],zl)}n.template+=r.text}return n}_months(){return["January","February","March","April","May","June","July","August","September","October","November","December"]}_getMonth(e){return this._months()[e]}_shortMonths(){return["Jan","Feb","Mar","Apr","May(short)","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}_getShortMonth(e){return this._shortMonths()[e]}_weekdays(){return["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]}_getWeekday(e){return this._weekdays()[e]}_shortWeekdays(){return["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]}_getShortWeekday(e){return this._shortWeekdays()[e]}parse(e,n){if(e instanceof Date)return e;if(me(e))return new Date(e);if(n=="x")return new Date(parseInt(e));mh(e)||(e=e.toString());let i,s="";n=eE(n),n=n.substr(0,e.length);let r=this.parseFormat(n),a={year:-1,year3:-1,year2:-1,year1:-1,month:-1,monthShort:-1,monthLong:-1,weekdayShort:-1,weekdayLong:-1,day:-1,yearDay:-1,week:-1,hourBase0:-1,hour12Base0:-1,hourBase1:-1,hour12Base1:-1,minute:-1,second:-1,millisecond:-1,millisecondDigits:-1,am:-1,zone:-1,timestamp:-1,iso:-1},o={year:1970,month:0,day:1,hour:0,minute:0,second:0,millisecond:0,timestamp:null,offset:0,utc:this._root.utc},l=0,u=0;for(let f=0;f<r.parts.length;f++){switch(u=f+l+1,r.parts[f]){case"yyyy":case"YYYY":s+="([0-9]{4})",a.year=u;break;case"yyy":case"YYY":s+="([0-9]{3})",a.year3=u;break;case"yy":case"YY":s+="([0-9]{2})",a.year2=u;break;case"y":case"Y":s+="([0-9]{1})",a.year1=u;break;case"MMMM":s+="("+this.getStringList(this._months()).join("|")+")",a.monthLong=u;break;case"MMM":s+="("+this.getStringList(this._shortMonths()).join("|")+")",a.monthShort=u;break;case"MM":case"M":s+="([0-9]{2}|[0-9]{1})",a.month=u;break;case"ww":case"w":s+="([0-9]{2}|[0-9]{1})",a.week=u;break;case"dd":case"d":s+="([0-9]{2}|[0-9]{1})",a.day=u;break;case"DDD":case"DD":case"D":s+="([0-9]{3}|[0-9]{2}|[0-9]{1})",a.yearDay=u;break;case"dddd":s+="("+this.getStringList(this._weekdays()).join("|")+")",a.weekdayLong=u;break;case"ddd":s+="("+this.getStringList(this._shortWeekdays()).join("|")+")",a.weekdayShort=u;break;case"aaa":case"aa":case"a":s+="("+this.getStringList(["AM","PM","A.M.","P.M.","A","P"]).join("|")+")",a.am=u;break;case"hh":case"h":s+="([0-9]{2}|[0-9]{1})",a.hour12Base1=u;break;case"HH":case"H":s+="([0-9]{2}|[0-9]{1})",a.hourBase0=u;break;case"KK":case"K":s+="([0-9]{2}|[0-9]{1})",a.hour12Base0=u;break;case"kk":case"k":s+="([0-9]{2}|[0-9]{1})",a.hourBase1=u;break;case"mm":case"m":s+="([0-9]{2}|[0-9]{1})",a.minute=u;break;case"ss":case"s":s+="([0-9]{2}|[0-9]{1})",a.second=u;break;case"SSS":case"SS":case"S":s+="([0-9]{3}|[0-9]{2}|[0-9]{1})",a.millisecond=u,a.millisecondDigits=r.parts[f].length;break;case"nnn":case"nn":case"n":s+="([0-9]{3}|[0-9]{2}|[0-9]{1})",a.millisecond=u;break;case"x":s+="([0-9]{1,})",a.timestamp=u;break;case"Z":s+="GMT([-+]+[0-9]{2}:[0-9]{2})",a.zone=u;break;case"ZZ":s+="([\\-+]+[0-9]{2}[0-9]{2})",a.zone=u;break;case"i":s+="([0-9]{4})-?([0-9]{2})-?([0-9]{2})T?([0-9]{2}):?([0-9]{2}):?([0-9]{2})\\.?([0-9]{0,3})([zZ]|[+\\-][0-9]{2}:?[0-9]{2}|$)",a.iso=u,l+=7;break;case"G":case"YYYY":case"YYY":case"YY":case"Y":case"MMMMM":case"W":case"EEEEE":case"EEEE":case"EEE":case"EE":case"E":case"eeeee":case"eeee":case"eee":case"ee":case"e":case"zzzz":case"zzz":case"zz":case"z":case"t":l--;break}s+="[^0-9]*"}let d=new RegExp(s),c=e.match(d);if(c){if(a.year>-1&&(o.year=parseInt(c[a.year])),a.year3>-1){let f=parseInt(c[a.year3]);f+=1e3,o.year=f}if(a.year2>-1){let f=parseInt(c[a.year2]);f>50?f+=1e3:f+=2e3,o.year=f}if(a.year1>-1){let f=parseInt(c[a.year1]);f=Math.floor(new Date().getFullYear()/10)*10+f,o.year=f}if(a.monthLong>-1&&(o.month=this.resolveMonth(c[a.monthLong])),a.monthShort>-1&&(o.month=this.resolveShortMonth(c[a.monthShort])),a.month>-1&&(o.month=parseInt(c[a.month])-1),a.week>-1&&a.day===-1&&(o.month=0,o.day=l0e(parseInt(c[a.week]),o.year,1,this._root.utc)),a.day>-1&&(o.day=parseInt(c[a.day])),a.yearDay>-1&&(o.month=0,o.day=parseInt(c[a.yearDay])),a.hourBase0>-1&&(o.hour=parseInt(c[a.hourBase0])),a.hourBase1>-1&&(o.hour=parseInt(c[a.hourBase1])-1),a.hour12Base0>-1){let f=parseInt(c[a.hour12Base0]);f==11&&(f=0),a.am>-1&&!this.isAm(c[a.am])&&(f+=12),o.hour=f}if(a.hour12Base1>-1){let f=parseInt(c[a.hour12Base1]);f==12&&(f=0),a.am>-1&&!this.isAm(c[a.am])&&(f+=12),o.hour=f}if(a.minute>-1&&(o.minute=parseInt(c[a.minute])),a.second>-1&&(o.second=parseInt(c[a.second])),a.millisecond>-1){let f=parseInt(c[a.millisecond]);a.millisecondDigits==2?f*=10:a.millisecondDigits==1&&(f*=100),o.millisecond=f}if(a.timestamp>-1){o.timestamp=parseInt(c[a.timestamp]);const f=new Date(o.timestamp);o.year=f.getUTCFullYear(),o.month=f.getUTCMonth(),o.day=f.getUTCDate(),o.hour=f.getUTCHours(),o.minute=f.getUTCMinutes(),o.second=f.getUTCSeconds(),o.millisecond=f.getUTCMilliseconds()}a.zone>-1&&(o.offset=this.resolveTimezoneOffset(new Date(o.year,o.month,o.day),c[a.zone])),a.iso>-1&&(o.year=lr(c[a.iso+0]),o.month=lr(c[a.iso+1])-1,o.day=lr(c[a.iso+2]),o.hour=lr(c[a.iso+3]),o.minute=lr(c[a.iso+4]),o.second=lr(c[a.iso+5]),o.millisecond=lr(c[a.iso+6]),c[a.iso+7]=="Z"||c[a.iso+7]=="z"?o.utc=!0:c[a.iso+7]!=""&&(o.offset=this.resolveTimezoneOffset(new Date(o.year,o.month,o.day),c[a.iso+7]))),o.utc?i=new Date(Date.UTC(o.year,o.month,o.day,o.hour,o.minute,o.second,o.millisecond)):i=new Date(o.year,o.month,o.day,o.hour,o.minute+o.offset,o.second,o.millisecond)}else i=new Date(e);return i}resolveTimezoneOffset(e,n){if(n.match(/([+\-]?)([0-9]{2}):?([0-9]{2})/)){let s=n.match(/([+\-]?)([0-9]{2}):?([0-9]{2})/),r=s[1],a=s[2],o=s[3],l=parseInt(a)*60+parseInt(o);r=="+"&&(l*=-1);let u=(e||new Date).getTimezoneOffset();return l-u}return 0}resolveMonth(e){let n=this._months().indexOf(e);return n>-1||!this._root.language.isDefault()&&(n=this._root.language.translateAll(this._months()).indexOf(e),n>-1)?n:0}resolveShortMonth(e){let n=this._shortMonths().indexOf(e);return n>-1||(n=this._months().indexOf(e),n>-1)||this._root.language&&!this._root.language.isDefault()&&(n=this._root.language.translateAll(this._shortMonths()).indexOf(e),n>-1)?n:0}isAm(e){return this.getStringList(["AM","A.M.","A"]).indexOf(e.toUpperCase())>-1}getStringList(e){let n=[];for(let i=0;i<e.length;i++)this._root.language?n.push(rV(this._t(e[i]))):n.push(rV(e[i]));return n}}class F0e extends Ei{constructor(){super(...arguments),Object.defineProperty(this,"_unitAliases",{enumerable:!0,configurable:!0,writable:!0,value:{Y:"y",D:"d",H:"h",K:"h",k:"h",n:"S"}})}_setDefaults(){const e="_duration_millisecond",n="_duration_second",i="_duration_minute",s="_duration_hour",r="_duration_day",a="_duration_week",o="_duration_month",l="_duration_year",u="_second",d="_minute",c="_hour",f="_day",h="_week",p="_week",g="_year";this._setDefault("negativeBase",0),this._setDefault("baseUnit","second"),this._setDefault("durationFormats",{millisecond:{millisecond:this._t(e),second:this._t(e+u),minute:this._t(e+d),hour:this._t(e+c),day:this._t(e+f),week:this._t(e+h),month:this._t(e+p),year:this._t(e+g)},second:{second:this._t(n),minute:this._t(n+d),hour:this._t(n+c),day:this._t(n+f),week:this._t(n+h),month:this._t(n+p),year:this._t(n+g)},minute:{minute:this._t(i),hour:this._t(i+c),day:this._t(i+f),week:this._t(i+h),month:this._t(i+p),year:this._t(i+g)},hour:{hour:this._t(s),day:this._t(s+f),week:this._t(s+h),month:this._t(s+p),year:this._t(s+g)},day:{day:this._t(r),week:this._t(r+h),month:this._t(r+p),year:this._t(r+g)},week:{week:this._t(a),month:this._t(a+p),year:this._t(a+g)},month:{month:this._t(o),year:this._t(o+g)},year:{year:this._t(l)}}),super._setDefaults()}_beforeChanged(){super._beforeChanged()}format(e,n,i){let s=i||this.get("baseUnit");(typeof n>"u"||n==="")&&(this.get("durationFormat")!=null?n=this.get("durationFormat"):n=this.getFormat(lr(e),void 0,s)),n=eE(n);let r=this.parseFormat(n,s),a=Number(e),o;a>this.get("negativeBase")?o=r.positive:a<this.get("negativeBase")?o=r.negative:o=r.zero;let l=this.applyFormat(a,o);return o.color!==""&&(l="["+o.color+"]"+l+"[/]"),l}parseFormat(e,n){let i=n||this.get("baseUnit"),s={positive:{color:"",template:"",parts:[],source:"",baseUnit:i,parsed:!1,absolute:!1},negative:{color:"",template:"",parts:[],source:"",baseUnit:i,parsed:!1,absolute:!1},zero:{color:"",template:"",parts:[],source:"",baseUnit:i,parsed:!1,absolute:!1}};e=e.replace("||",xd);let r=e.split("|");return s.positive.source=r[0],typeof r[2]>"u"?s.zero=s.positive:s.zero.source=r[2],typeof r[1]>"u"?s.negative=s.positive:s.negative.source=r[1],sn(s,(a,o)=>{if(o.parsed)return;let l=o.source,u=[];u=o.source.match(/^\[([^\]]*)\]/),u&&u.length&&u[0]!==""&&(l=o.source.substr(u[0].length),o.color=u[1]);let d=ra.chunk(l,!0);for(let c=0;c<d.length;c++){let f=d[c];if(f.text=f.text.replace(xd,"|"),f.type==="value"){f.text.match(/[yYMdDwhHKkmsSn]+a/)&&(o.absolute=!0,f.text=f.text.replace(/([yYMdDwhHKkmsSn]+)a/,"$1"));let h=f.text.match(/y+|Y+|M+|d+|D+|w+|h+|H+|K+|k+|m+|s+|S+|n+/g);if(h)for(let p=0;p<h.length;p++)h[p]==null&&(h[p]=this._unitAliases[h[p]]),o.parts.push(h[p]),f.text=f.text.replace(h[p],zl)}o.template+=f.text}o.parsed=!0}),s}applyFormat(e,n){let i=!n.absolute&&e<this.get("negativeBase");e=Math.abs(e);let s=this.toTimeStamp(e,n.baseUnit),r=n.template;for(let a=0,o=n.parts.length;a<o;a++){let l=n.parts[a],u=this._toTimeUnit(l.substr(0,1)),d=l.length,c;const f=this._getUnitValue(u);a<o-1?c=Math.floor(s/f):c=Math.round(s/f),r=r.replace(zl,ui(c,d,"0")),s-=c*f}return i&&(r="-"+r),r}toTimeStamp(e,n){return e*this._getUnitValue(n)}_toTimeUnit(e){switch(e){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year"}}getFormat(e,n,i){if(this.get("durationFormat")!=null)return this.get("durationFormat");if(i||(i=this.get("baseUnit")),n!=null&&e!=n){e=Math.abs(e),n=Math.abs(n);let s=this.getValueUnit(Math.max(e,n),i);return this.get("durationFormats")[i][s]}else{let s=this.getValueUnit(e,i);return this.get("durationFormats")[i][s]}}getValueUnit(e,n){n||(n=this.get("baseUnit"));let i,s=this.getMilliseconds(e,n);return zwe(this._getUnitValues(),(r,a)=>{if(r==n||i){if(s/a<=1)return i||(i=r),!1;i=r}return!0}),i}getMilliseconds(e,n){return n||(n=this.get("baseUnit")),e*this._getUnitValue(n)}_getUnitValue(e){return this._getUnitValues()[e]}_getUnitValues(){return{millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:2592e6,year:31536e6}}}const WU={firstDayOfWeek:1,_decimalSeparator:".",_thousandSeparator:",",_percentPrefix:null,_percentSuffix:"%",_big_number_suffix_3:"k",_big_number_suffix_6:"M",_big_number_suffix_9:"G",_big_number_suffix_12:"T",_big_number_suffix_15:"P",_big_number_suffix_18:"E",_big_number_suffix_21:"Z",_big_number_suffix_24:"Y",_small_number_suffix_3:"m",_small_number_suffix_6:"μ",_small_number_suffix_9:"n",_small_number_suffix_12:"p",_small_number_suffix_15:"f",_small_number_suffix_18:"a",_small_number_suffix_21:"z",_small_number_suffix_24:"y",_byte_suffix_B:"B",_byte_suffix_KB:"KB",_byte_suffix_MB:"MB",_byte_suffix_GB:"GB",_byte_suffix_TB:"TB",_byte_suffix_PB:"PB",_date:"yyyy-MM-dd",_date_millisecond:"mm:ss SSS",_date_millisecond_full:"HH:mm:ss SSS",_date_second:"HH:mm:ss",_date_second_full:"HH:mm:ss",_date_minute:"HH:mm",_date_minute_full:"HH:mm - MMM dd, yyyy",_date_hour:"HH:mm",_date_hour_full:"HH:mm - MMM dd, yyyy",_date_day:"MMM dd",_date_day_full:"MMM dd, yyyy",_date_week:"ww",_date_week_full:"MMM dd, yyyy",_date_month:"MMM",_date_month_full:"MMM, yyyy",_date_year:"yyyy",_duration_millisecond:"SSS",_duration_millisecond_second:"ss.SSS",_duration_millisecond_minute:"mm:ss SSS",_duration_millisecond_hour:"hh:mm:ss SSS",_duration_millisecond_day:"d'd' mm:ss SSS",_duration_millisecond_week:"d'd' mm:ss SSS",_duration_millisecond_month:"M'm' dd'd' mm:ss SSS",_duration_millisecond_year:"y'y' MM'm' dd'd' mm:ss SSS",_duration_second:"ss",_duration_second_minute:"mm:ss",_duration_second_hour:"hh:mm:ss",_duration_second_day:"d'd' hh:mm:ss",_duration_second_week:"d'd' hh:mm:ss",_duration_second_month:"M'm' dd'd' hh:mm:ss",_duration_second_year:"y'y' MM'm' dd'd' hh:mm:ss",_duration_minute:"mm",_duration_minute_hour:"hh:mm",_duration_minute_day:"d'd' hh:mm",_duration_minute_week:"d'd' hh:mm",_duration_minute_month:"M'm' dd'd' hh:mm",_duration_minute_year:"y'y' MM'm' dd'd' hh:mm",_duration_hour:"hh'h'",_duration_hour_day:"d'd' hh'h'",_duration_hour_week:"d'd' hh'h'",_duration_hour_month:"M'm' dd'd' hh'h'",_duration_hour_year:"y'y' MM'm' dd'd' hh'h'",_duration_day:"d'd'",_duration_day_week:"d'd'",_duration_day_month:"M'm' dd'd'",_duration_day_year:"y'y' MM'm' dd'd'",_duration_week:"w'w'",_duration_week_month:"w'w'",_duration_week_year:"w'w'",_duration_month:"M'm'",_duration_month_year:"y'y' MM'm'",_duration_year:"y'y'",_era_ad:"AD",_era_bc:"BC",A:"",P:"",AM:"",PM:"","A.M.":"","P.M.":"",January:"",February:"",March:"",April:"",May:"",June:"",July:"",August:"",September:"",October:"",November:"",December:"",Jan:"",Feb:"",Mar:"",Apr:"","May(short)":"May",Jun:"",Jul:"",Aug:"",Sep:"",Oct:"",Nov:"",Dec:"",Sunday:"",Monday:"",Tuesday:"",Wednesday:"",Thursday:"",Friday:"",Saturday:"",Sun:"",Mon:"",Tue:"",Wed:"",Thu:"",Fri:"",Sat:"",_dateOrd:function(t){let e="th";if(t<11||t>13)switch(t%10){case 1:e="st";break;case 2:e="nd";break;case 3:e="rd";break}return e},"Zoom Out":"",Play:"",Stop:"",Legend:"","Press ENTER to toggle":"",Loading:"",Home:"",Chart:"","Serial chart":"","X/Y chart":"","Pie chart":"","Gauge chart":"","Radar chart":"","Sankey diagram":"","Flow diagram":"","Chord diagram":"","TreeMap chart":"","Force directed tree":"","Sliced chart":"",Series:"","Candlestick Series":"","OHLC Series":"","Column Series":"","Line Series":"","Pie Slice Series":"","Funnel Series":"","Pyramid Series":"","X/Y Series":"",Map:"","Press ENTER to zoom in":"","Press ENTER to zoom out":"","Use arrow keys to zoom in and out":"","Use plus and minus keys on your keyboard to zoom in and out":"",Export:"",Image:"",Data:"",Print:"","Press ENTER or use arrow keys to navigate":"","Press ENTER to open":"","Press ENTER to print.":"","Press ENTER to export as %1.":"","(Press ESC to close this message)":"","Image Export Complete":"","Export operation took longer than expected. Something might have gone wrong.":"","Saved from":"",PNG:"",JPG:"",GIF:"",SVG:"",PDF:"",JSON:"",CSV:"",XLSX:"",HTML:"","Use TAB to select grip buttons or left and right arrows to change selection":"","Use left and right arrows to move selection":"","Use left and right arrows to move left selection":"","Use left and right arrows to move right selection":"","Use TAB select grip buttons or up and down arrows to change selection":"","Use up and down arrows to move selection":"","Use up and down arrows to move lower selection":"","Use up and down arrows to move upper selection":"","From %1 to %2":"","From %1":"","To %1":"","No parser available for file: %1":"","Error parsing file: %1":"","Unable to load file: %1":"","Invalid date":"",Close:"",Minimize:""};class B0e extends Ei{_setDefaults(){this.setPrivate("defaultLocale",WU),super._setDefaults()}translate(e,n,...i){n||(n=this._root.locale||this.getPrivate("defaultLocale"));let s=e,r=n[e];if(r===null)s="";else if(r!=null)r&&(s=r);else if(n!==this.getPrivate("defaultLocale"))return this.translate(e,this.getPrivate("defaultLocale"),...i);if(i.length)for(let a=i.length,o=0;o<a;++o)s=s.split("%"+(o+1)).join(i[o]);return s}translateAny(e,n,...i){return this.translate(e,n,...i)}setTranslationAny(e,n,i){const s=i||this._root.locale;s[e]=n}setTranslationsAny(e,n){sn(e,(i,s)=>{this.setTranslationAny(i,s,n)})}translateEmpty(e,n,...i){let s=this.translate(e,n,...i);return s==e?"":s}translateFunc(e,n){return this._root.locale[e]?this._root.locale[e]:n!==this.getPrivate("defaultLocale")?this.translateFunc(e,this.getPrivate("defaultLocale")):()=>""}translateAll(e,n){return this.isDefault()?e:hk(e,i=>this.translate(i,n))}isDefault(){return this.getPrivate("defaultLocale")===this._root.locale}}class $w{constructor(e,n){if(Object.defineProperty(this,"_root",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_rules",{enumerable:!0,configurable:!0,writable:!0,value:{}}),this._root=e,!n)throw new Error("You cannot use `new Class()`, instead use `Class.new()`")}static new(e){const n=new this(e,!0);return n.setupDefaultRules(),n}setupDefaultRules(){}_lookupRules(e){return this._rules[e]}ruleRaw(e,n=[]){let i=this._rules[e];i||(i=this._rules[e]=[]),n.sort(ja);const{index:s,found:r}=gk(i,a=>{const o=ja(a.tags.length,n.length);return o===0?UU(a.tags,n,ja):o});if(r)return i[s].template;{const a=Sn.new({});return i.splice(s,0,{tags:n,template:a}),a}}rule(e,n=[]){return this.ruleRaw(e,n)}}function nt(t,e,n,i){t.set(e,n.get(i)),n.on(i,s=>{t.set(e,s)})}class j0e extends $w{setupDefaultRules(){super.setupDefaultRules();const e=this._root.language,n=this._root.interfaceColors,i=this._root.horizontalLayout,s=this._root.verticalLayout,r=this.rule.bind(this);r("InterfaceColors").setAll({stroke:tt.fromHex(15066597),fill:tt.fromHex(15987699),primaryButton:tt.fromHex(6788316),primaryButtonHover:tt.fromHex(6779356),primaryButtonDown:tt.fromHex(6872182),primaryButtonActive:tt.fromHex(6872182),primaryButtonDisabled:tt.fromHex(14342874),primaryButtonTextDisabled:tt.fromHex(16777215),primaryButtonText:tt.fromHex(16777215),primaryButtonStroke:tt.fromHex(16777215),secondaryButton:tt.fromHex(14277081),secondaryButtonHover:tt.fromHex(10724259),secondaryButtonDown:tt.fromHex(9276813),secondaryButtonActive:tt.fromHex(15132390),secondaryButtonText:tt.fromHex(0),secondaryButtonStroke:tt.fromHex(16777215),grid:tt.fromHex(0),background:tt.fromHex(16777215),alternativeBackground:tt.fromHex(0),text:tt.fromHex(0),alternativeText:tt.fromHex(16777215),disabled:tt.fromHex(11382189),positive:tt.fromHex(5288704),negative:tt.fromHex(11730944)});{const a=r("ColorSet");a.setAll({passOptions:{hue:.05,saturation:0,lightness:0},colors:[tt.fromHex(6797276)],step:1,reuse:!1,startIndex:0}),a.setPrivate("currentStep",0),a.setPrivate("currentPass",0)}r("Entity").setAll({stateAnimationDuration:0,stateAnimationEasing:ld(dl)}),r("Component").setAll({interpolationDuration:0,interpolationEasing:ld(dl)}),r("Sprite").setAll({visible:!0,scale:1,opacity:1,rotation:0,position:"relative",tooltipX:lt,tooltipY:lt,tooltipPosition:"fixed",isMeasured:!0}),r("Sprite").states.create("default",{visible:!0,opacity:1}),r("Container").setAll({interactiveChildren:!0,setStateOnChildren:!1}),r("Graphics").setAll({strokeWidth:1}),r("Chart").setAll({width:Fe,height:Fe,interactiveChildren:!1}),r("ZoomableContainer").setAll({width:Fe,height:Fe,wheelable:!0,pinchZoom:!0,maxZoomLevel:32,minZoomLevel:1,zoomStep:2,animationEasing:ld(dl),animationDuration:600,maxPanOut:.4}),r("Sprite",["horizontal","center"]).setAll({centerX:lt,x:lt}),r("Sprite",["vertical","center"]).setAll({centerY:lt,y:lt}),r("Container",["horizontal","layout"]).setAll({layout:i}),r("Container",["vertical","layout"]).setAll({layout:s}),r("Pattern").setAll({repetition:"repeat",width:50,height:50,rotation:0,fillOpacity:1}),r("LinePattern").setAll({gap:6,colorOpacity:1,width:49,height:49}),r("RectanglePattern").setAll({gap:6,checkered:!1,centered:!0,maxWidth:5,maxHeight:5,width:48,height:48,strokeWidth:0}),r("CirclePattern").setAll({gap:5,checkered:!1,centered:!1,radius:3,strokeWidth:0,width:45,height:45}),r("GrainPattern").setAll({width:200,height:200,colors:[tt.fromHex(0)],size:1,horizontalGap:0,verticalGap:0,density:1,minOpacity:0,maxOpacity:.2});{const a=r("PatternSet");a.setAll({step:1}),nt(a,"color",n,"stroke")}r("LinearGradient").setAll({rotation:90}),r("Legend").setAll({fillField:"fill",strokeField:"stroke",nameField:"name",layout:pc.new(this._root,{}),layer:30,clickTarget:"itemContainer"}),r("Container",["legend","item","itemcontainer"]).setAll({paddingLeft:5,paddingRight:5,paddingBottom:5,paddingTop:5,layout:i,setStateOnChildren:!0,interactiveChildren:!1,ariaChecked:!0,focusable:!0,ariaLabel:e.translate("Press ENTER to toggle"),role:"checkbox"});{const a=r("Rectangle",["legend","item","background"]);a.setAll({fillOpacity:0}),nt(a,"fill",n,"background")}r("Container",["legend","marker"]).setAll({setStateOnChildren:!0,centerY:lt,paddingLeft:0,paddingRight:0,paddingBottom:0,paddingTop:0,width:18,height:18}),r("RoundedRectangle",["legend","marker","rectangle"]).setAll({width:Fe,height:Fe,cornerRadiusBL:3,cornerRadiusTL:3,cornerRadiusBR:3,cornerRadiusTR:3});{const a=r("RoundedRectangle",["legend","marker","rectangle"]).states.create("disabled",{});nt(a,"fill",n,"disabled"),nt(a,"stroke",n,"disabled")}r("Label",["legend","label"]).setAll({centerY:lt,marginLeft:5,paddingRight:0,paddingLeft:0,paddingTop:0,paddingBottom:0,populateText:!0});{const a=r("Label",["legend","label"]).states.create("disabled",{});nt(a,"fill",n,"disabled")}r("Label",["legend","value","label"]).setAll({centerY:lt,marginLeft:5,paddingRight:0,paddingLeft:0,paddingTop:0,paddingBottom:0,width:50,centerX:Fe,populateText:!0});{const a=r("Label",["legend","value","label"]).states.create("disabled",{});nt(a,"fill",n,"disabled")}r("HeatLegend").setAll({stepCount:1}),r("RoundedRectangle",["heatlegend","marker"]).setAll({cornerRadiusTR:0,cornerRadiusBR:0,cornerRadiusTL:0,cornerRadiusBL:0}),r("RoundedRectangle",["vertical","heatlegend","marker"]).setAll({height:Fe,width:15}),r("RoundedRectangle",["horizontal","heatlegend","marker"]).setAll({width:Fe,height:15}),r("HeatLegend",["vertical"]).setAll({height:Fe}),r("HeatLegend",["horizontal"]).setAll({width:Fe}),r("Label",["heatlegend","start"]).setAll({paddingLeft:5,paddingRight:5,paddingTop:5,paddingBottom:5}),r("Label",["heatlegend","end"]).setAll({paddingLeft:5,paddingRight:5,paddingTop:5,paddingBottom:5});{const a=r("Label");a.setAll({paddingTop:8,paddingBottom:8,paddingLeft:10,paddingRight:10,fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',fontSize:"1em",populateText:!1}),nt(a,"fill",n,"text")}r("RadialLabel").setAll({textType:"regular",centerY:lt,centerX:lt,inside:!1,radius:0,baseRadius:Fe,orientation:"auto",textAlign:"center"}),r("EditableLabel").setAll({editOn:"click",themeTags:["editablelabel"],multiLine:!0}),r("RoundedRectangle",["editablelabel","background"]).setAll({fillOpacity:0,fill:tt.fromHex(0),cornerRadiusBL:3,cornerRadiusBR:3,cornerRadiusTL:3,cornerRadiusTR:3,strokeOpacity:0,stroke:tt.fromHex(0)}),r("RoundedRectangle",["editablelabel","background"]).states.create("active",{strokeOpacity:.2}),r("RoundedRectangle").setAll({cornerRadiusTL:8,cornerRadiusBL:8,cornerRadiusTR:8,cornerRadiusBR:8}),r("PointedRectangle").setAll({pointerBaseWidth:15,pointerLength:10,cornerRadius:8}),r("Slice").setAll({shiftRadius:0,dRadius:0,dInnerRadius:0});{const a=r("Tick");a.setAll({strokeOpacity:.15,isMeasured:!1,length:4.5,position:"absolute",crisp:!0}),nt(a,"stroke",n,"grid")}r("Bullet").setAll({locationX:.5,locationY:.5}),r("Tooltip").setAll({position:"absolute",getFillFromSprite:!0,getStrokeFromSprite:!1,autoTextColor:!0,paddingTop:9,paddingBottom:8,paddingLeft:10,paddingRight:10,marginBottom:5,pointerOrientation:"vertical",centerX:lt,centerY:lt,animationEasing:ld(dl),exportable:!1}),r("Polygon").setAll({animationEasing:ld(dl)}),r("PointedRectangle",["tooltip","background"]).setAll({strokeOpacity:.9,cornerRadius:4,pointerLength:4,pointerBaseWidth:8,fillOpacity:.9,stroke:tt.fromHex(16777215)});{const a=r("Label",["tooltip"]);a.setAll({role:"tooltip",populateText:!0,paddingRight:0,paddingTop:0,paddingLeft:0,paddingBottom:0}),nt(a,"fill",n,"alternativeText")}r("Button").setAll({paddingTop:8,paddingBottom:8,paddingLeft:10,paddingRight:10,interactive:!0,layout:i,interactiveChildren:!1,setStateOnChildren:!0,focusable:!0}),r("Button").states.create("hover",{}),r("Button").states.create("down",{stateAnimationDuration:0}),r("Button").states.create("active",{}),r("Button").states.create("disabled",{forceInactive:!0});{const a=r("RoundedRectangle",["button","background"]);nt(a,"fill",n,"primaryButton"),nt(a,"stroke",n,"primaryButtonStroke")}{const a=r("RoundedRectangle",["button","background"]).states.create("hover",{});nt(a,"fill",n,"primaryButtonHover")}{const a=r("RoundedRectangle",["button","background"]).states.create("down",{stateAnimationDuration:0});nt(a,"fill",n,"primaryButtonDown")}{const a=r("RoundedRectangle",["button","background"]).states.create("active",{});nt(a,"fill",n,"primaryButtonActive")}{const a=r("RoundedRectangle",["button","background"]).states.create("disabled",{});nt(a,"fill",n,"primaryButtonDisabled")}{const a=r("Graphics",["button","icon"]).states.create("disabled",{});nt(a,"fill",n,"primaryButtonTextDisabled")}{const a=r("Label",["button"]).states.create("disabled",{});nt(a,"fill",n,"primaryButtonTextDisabled")}{const a=r("Graphics",["button","icon"]);a.setAll({forceInactive:!0}),nt(a,"stroke",n,"primaryButtonText")}{const a=r("Label",["button"]);nt(a,"fill",n,"primaryButtonText")}r("Button",["zoom"]).setAll({paddingTop:18,paddingBottom:18,paddingLeft:12,paddingRight:12,centerX:46,centerY:-10,y:0,x:Fe,role:"button",ariaLabel:e.translate("Zoom Out"),layer:30});{const a=r("RoundedRectangle",["background","button","zoom"]);a.setAll({cornerRadiusBL:40,cornerRadiusBR:40,cornerRadiusTL:40,cornerRadiusTR:40}),nt(a,"fill",n,"primaryButton")}{const a=r("RoundedRectangle",["background","button","zoom"]).states.create("hover",{});nt(a,"fill",n,"primaryButtonHover")}{const a=r("RoundedRectangle",["background","button","zoom"]).states.create("down",{stateAnimationDuration:0});nt(a,"fill",n,"primaryButtonDown")}{const a=r("Graphics",["icon","button","zoom"]);a.setAll({crisp:!0,strokeOpacity:.7,draw:o=>{o.moveTo(0,0),o.lineTo(12,0)}}),nt(a,"stroke",n,"primaryButtonText")}r("Button",["resize"]).setAll({paddingTop:9,paddingBottom:9,paddingLeft:13,paddingRight:13,draggable:!0,centerX:lt,centerY:lt,position:"absolute",role:"slider",ariaValueMin:"0",ariaValueMax:"100",ariaLabel:e.translate("Use up and down arrows to move selection")});{const a=r("RoundedRectangle",["background","resize","button"]);a.setAll({cornerRadiusBL:40,cornerRadiusBR:40,cornerRadiusTL:40,cornerRadiusTR:40}),nt(a,"fill",n,"secondaryButton"),nt(a,"stroke",n,"secondaryButtonStroke")}{const a=r("RoundedRectangle",["background","resize","button"]).states.create("hover",{});nt(a,"fill",n,"secondaryButtonHover")}{const a=r("RoundedRectangle",["background","resize","button"]).states.create("down",{stateAnimationDuration:0});nt(a,"fill",n,"secondaryButtonDown")}{const a=r("Graphics",["resize","button","icon"]);a.setAll({interactive:!1,crisp:!0,strokeOpacity:.5,draw:o=>{o.moveTo(0,.5),o.lineTo(0,12.5),o.moveTo(4,.5),o.lineTo(4,12.5)}}),nt(a,"stroke",n,"secondaryButtonText")}r("Button",["resize","vertical"]).setAll({rotation:90,cursorOverStyle:"ns-resize"}),r("Button",["resize","horizontal"]).setAll({cursorOverStyle:"ew-resize"}),r("Button",["play"]).setAll({paddingTop:13,paddingBottom:13,paddingLeft:14,paddingRight:14,ariaLabel:e.translate("Play"),toggleKey:"active"});{const a=r("RoundedRectangle",["play","background"]);a.setAll({strokeOpacity:.5,cornerRadiusBL:100,cornerRadiusBR:100,cornerRadiusTL:100,cornerRadiusTR:100}),nt(a,"fill",n,"primaryButton")}{const a=r("Graphics",["play","icon"]);a.setAll({stateAnimationDuration:0,dx:1,draw:o=>{o.moveTo(0,-5),o.lineTo(8,0),o.lineTo(0,5),o.lineTo(0,-5)}}),nt(a,"fill",n,"primaryButtonText")}r("Graphics",["play","icon"]).states.create("default",{stateAnimationDuration:0}),r("Graphics",["play","icon"]).states.create("active",{stateAnimationDuration:0,draw:a=>{a.moveTo(-4,-5),a.lineTo(-1,-5),a.lineTo(-1,5),a.lineTo(-4,5),a.lineTo(-4,-5),a.moveTo(4,-5),a.lineTo(1,-5),a.lineTo(1,5),a.lineTo(4,5),a.lineTo(4,-5)}}),r("Button",["switch"]).setAll({paddingTop:4,paddingBottom:4,paddingLeft:4,paddingRight:4,ariaLabel:e.translate("Press ENTER to toggle"),toggleKey:"active",width:40,height:24,layout:null});{const a=r("RoundedRectangle",["switch","background"]);a.setAll({strokeOpacity:.5,cornerRadiusBL:100,cornerRadiusBR:100,cornerRadiusTL:100,cornerRadiusTR:100}),nt(a,"fill",n,"primaryButton")}{const a=r("Circle",["switch","icon"]);a.setAll({radius:8,centerY:0,centerX:0,dx:0}),nt(a,"fill",n,"primaryButtonText")}r("Graphics",["switch","icon"]).states.create("active",{dx:16}),r("Scrollbar").setAll({start:0,end:1,layer:30,animationEasing:ld(dl)}),r("Scrollbar",["vertical"]).setAll({marginRight:13,marginLeft:13,minWidth:12,height:Fe}),r("Scrollbar",["horizontal"]).setAll({marginTop:13,marginBottom:13,minHeight:12,width:Fe}),this.rule("Button",["scrollbar"]).setAll({exportable:!1});{const a=r("RoundedRectangle",["scrollbar","main","background"]);a.setAll({cornerRadiusTL:8,cornerRadiusBL:8,cornerRadiusTR:8,cornerRadiusBR:8,fillOpacity:.8}),nt(a,"fill",n,"fill")}{const a=r("RoundedRectangle",["scrollbar","thumb"]);a.setAll({role:"slider",ariaLive:"polite",position:"absolute",draggable:!0}),nt(a,"fill",n,"secondaryButton")}{const a=r("RoundedRectangle",["scrollbar","thumb"]).states.create("hover",{});nt(a,"fill",n,"secondaryButtonHover")}{const a=r("RoundedRectangle",["scrollbar","thumb"]).states.create("down",{stateAnimationDuration:0});nt(a,"fill",n,"secondaryButtonDown")}r("RoundedRectangle",["scrollbar","thumb","vertical"]).setAll({x:lt,width:Fe,centerX:lt,ariaLabel:e.translate("Use up and down arrows to move selection")}),r("RoundedRectangle",["scrollbar","thumb","horizontal"]).setAll({y:lt,centerY:lt,height:Fe,ariaLabel:e.translate("Use left and right arrows to move selection")});{const a=r("PointedRectangle",["axis","tooltip","background"]);a.setAll({cornerRadius:0}),nt(a,"fill",n,"alternativeBackground")}r("Label",["axis","tooltip"]).setAll({role:void 0}),r("Label",["axis","tooltip","y"]).setAll({textAlign:"right"}),r("Label",["axis","tooltip","y","opposite"]).setAll({textAlign:"left"}),r("Label",["axis","tooltip","x"]).setAll({textAlign:"center"}),r("Tooltip",["categoryaxis"]).setAll({labelText:"{category}"}),r("Star").setAll({spikes:5,innerRadius:5,radius:10}),r("Tooltip",["stock"]).setAll({paddingTop:6,paddingBottom:5,paddingLeft:7,paddingRight:7}),r("PointedRectangle",["tooltip","stock","axis"]).setAll({pointerLength:0,pointerBaseWidth:0,cornerRadius:3}),r("Label",["tooltip","stock"]).setAll({fontSize:"0.8em"}),r("SpriteResizer").setAll({rotationStep:10,isMeasured:!1}),r("Container",["resizer","grip"]).states.create("hover",{});{const a=r("RoundedRectangle",["resizer","grip"]);a.setAll({strokeOpacity:.7,strokeWidth:1,fillOpacity:1,width:12,height:12}),nt(a,"fill",n,"background"),nt(a,"stroke",n,"alternativeBackground")}{const a=r("RoundedRectangle",["resizer","grip","outline"]);a.setAll({strokeOpacity:0,fillOpacity:0,width:20,height:20}),a.states.create("hover",{fillOpacity:.3}),nt(a,"fill",n,"alternativeBackground")}r("RoundedRectangle",["resizer","grip","left"]).setAll({cornerRadiusBL:0,cornerRadiusBR:0,cornerRadiusTL:0,cornerRadiusTR:0}),r("RoundedRectangle",["resizer","grip","right"]).setAll({cornerRadiusBL:0,cornerRadiusBR:0,cornerRadiusTL:0,cornerRadiusTR:0});{const a=r("Rectangle",["resizer","rectangle"]);a.setAll({strokeDasharray:[2,2],strokeOpacity:.5,strokeWidth:1}),nt(a,"stroke",n,"alternativeBackground")}r("Graphics",["button","plus","icon"]).setAll({x:lt,y:lt,draw:a=>{a.moveTo(-4,0),a.lineTo(4,0),a.moveTo(0,-4),a.lineTo(0,4)}}),r("Graphics",["button","minus","icon"]).setAll({x:lt,y:lt,draw:a=>{a.moveTo(-4,0),a.lineTo(4,0)}}),r("Graphics",["button","home","icon"]).setAll({x:lt,y:lt,svgPath:"M 8 -1 L 6 -1 L 6 7 L 2 7 L 2 1 L -2 1 L -2 7 L -6 7 L -6 -1 L -8 -1 L 0 -9 L 8 -1 Z M 8 -1"}),r("Button",["zoomtools"]).setAll({marginTop:1,marginBottom:2}),r("ZoomTools").setAll({x:Fe,centerX:Fe,y:Fe,centerY:Fe,paddingRight:10,paddingBottom:10})}}class yx{constructor(e=1,n=0,i=0,s=1,r=0,a=0){Object.defineProperty(this,"a",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"b",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"c",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"d",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tx",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"ty",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.a=e,this.b=n,this.c=i,this.d=s,this.tx=r,this.ty=a}setTransform(e,n,i,s,r,a=1){this.a=Math.cos(r)*a,this.b=Math.sin(r)*a,this.c=-Math.sin(r)*a,this.d=Math.cos(r)*a,this.tx=e-(i*this.a+s*this.c),this.ty=n-(i*this.b+s*this.d)}apply(e){return{x:this.a*e.x+this.c*e.y+this.tx,y:this.b*e.x+this.d*e.y+this.ty}}applyInverse(e){const n=1/(this.a*this.d+this.c*-this.b);return{x:this.d*n*e.x+-this.c*n*e.y+(this.ty*this.c-this.tx*this.d)*n,y:this.a*n*e.y+-this.b*n*e.x+(-this.ty*this.a+this.tx*this.b)*n}}append(e){const n=this.a,i=this.b,s=this.c,r=this.d;this.a=e.a*n+e.b*s,this.b=e.a*i+e.b*r,this.c=e.c*n+e.d*s,this.d=e.c*i+e.d*r,this.tx=e.tx*n+e.ty*s+this.tx,this.ty=e.tx*i+e.ty*r+this.ty}prepend(e){const n=this.tx;if(e.a!==1||e.b!==0||e.c!==0||e.d!==1){const i=this.a,s=this.c;this.a=i*e.a+this.b*e.c,this.b=i*e.b+this.b*e.d,this.c=s*e.a+this.d*e.c,this.d=s*e.b+this.d*e.d}this.tx=n*e.a+this.ty*e.c+e.tx,this.ty=n*e.b+this.ty*e.d+e.ty}copyFrom(e){this.a=e.a,this.b=e.b,this.c=e.c,this.d=e.d,this.tx=e.tx,this.ty=e.ty}}var $0e=function(){function t(e,n){var i=[],s=!0,r=!1,a=void 0;try{for(var o=e[Symbol.iterator](),l;!(s=(l=o.next()).done)&&(i.push(l.value),!(n&&i.length===n));s=!0);}catch(u){r=!0,a=u}finally{try{!s&&o.return&&o.return()}finally{if(r)throw a}}return i}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),hm=Math.PI*2,bx=function(e,n,i,s,r,a,o){var l=e.x,u=e.y;l*=n,u*=i;var d=s*l-r*u,c=r*l+s*u;return{x:d+a,y:c+o}},U0e=function(e,n){var i=n===1.5707963267948966?.551915024494:n===-1.5707963267948966?-.551915024494:1.3333333333333333*Math.tan(n/4),s=Math.cos(e),r=Math.sin(e),a=Math.cos(e+n),o=Math.sin(e+n);return[{x:s-r*i,y:r+s*i},{x:a+o*i,y:o-a*i},{x:a,y:o}]},fV=function(e,n,i,s){var r=e*s-n*i<0?-1:1,a=e*i+n*s;return a>1&&(a=1),a<-1&&(a=-1),r*Math.acos(a)},H0e=function(e,n,i,s,r,a,o,l,u,d,c,f){var h=Math.pow(r,2),p=Math.pow(a,2),g=Math.pow(c,2),v=Math.pow(f,2),_=h*p-h*v-p*g;_<0&&(_=0),_/=h*v+p*g,_=Math.sqrt(_)*(o===l?-1:1);var b=_*r/a*f,x=_*-a/r*c,k=d*b-u*x+(e+i)/2,I=u*b+d*x+(n+s)/2,E=(c-b)/r,T=(f-x)/a,S=(-c-b)/r,w=(-f-x)/a,P=fV(1,0,E,T),C=fV(E,T,S,w);return l===0&&C>0&&(C-=hm),l===1&&C<0&&(C+=hm),[k,I,P,C]},z0e=function(e){var n=e.px,i=e.py,s=e.cx,r=e.cy,a=e.rx,o=e.ry,l=e.xAxisRotation,u=l===void 0?0:l,d=e.largeArcFlag,c=d===void 0?0:d,f=e.sweepFlag,h=f===void 0?0:f,p=[];if(a===0||o===0)return[];var g=Math.sin(u*hm/360),v=Math.cos(u*hm/360),_=v*(n-s)/2+g*(i-r)/2,b=-g*(n-s)/2+v*(i-r)/2;if(_===0&&b===0)return[];a=Math.abs(a),o=Math.abs(o);var x=Math.pow(_,2)/Math.pow(a,2)+Math.pow(b,2)/Math.pow(o,2);x>1&&(a*=Math.sqrt(x),o*=Math.sqrt(x));var k=H0e(n,i,s,r,a,o,c,h,g,v,_,b),I=$0e(k,4),E=I[0],T=I[1],S=I[2],w=I[3],P=Math.abs(w)/(hm/4);Math.abs(1-P)<1e-7&&(P=1);var C=Math.max(Math.ceil(P),1);w/=C;for(var D=0;D<C;D++)p.push(U0e(S,w)),S+=w;return p.map(function(A){var N=bx(A[0],a,o,v,g,E,T),B=N.x,z=N.y,q=bx(A[1],a,o,v,g,E,T),W=q.x,K=q.y,Y=bx(A[2],a,o,v,g,E,T),Z=Y.x,ee=Y.y;return{x1:B,y1:z,x2:W,y2:K,x:Z,y:ee}})};function W0e(t,e,n){if(e!==n)throw new Error("Required "+n+" arguments for "+t+" but got "+e)}function Bf(t,e,n){if(e<n)throw new Error("Required at least "+n+" arguments for "+t+" but got "+e)}function rr(t,e,n){if(Bf(t,e,n),e%n!==0)throw new Error("Arguments for "+t+" must be in pairs of "+n)}function Y0e(t){for(let e=0;e<t.length;e+=7){let n=e+3,i=t[n];if(i.length>1){const s=/^([01])([01])(.*)$/.exec(i);s!==null&&(t.splice(n,0,s[1]),++n,t.splice(n,0,s[2]),++n,s[3].length>0?t[n]=s[3]:t.splice(n,1))}if(++n,i=t[n],i.length>1){const s=/^([01])(.+)$/.exec(i);s!==null&&(t.splice(n,0,s[1]),++n,t[n]=s[2])}}}function mV(t){if(t===0||t===1)return t;throw new Error("Flag must be 0 or 1")}function G0e(t){const e=[0,0,0];for(let n=0;n<24;n++)e[n%3]<<=1,e[n%3]|=t&1,t>>=1;return(e[0]|0)+(e[1]<<8)+(e[2]<<16)}function cv(t,e){for(;!(t.interactive&&!e(t));)if(t._parent)t=t._parent;else break}function q0e(t,e,n){return Nn(t,pk(e),i=>{const s=MU(i);let r=i.touches;r?(r.length==0&&(r=i.changedTouches),n(fk(r),s)):n([i],s)})}function gV(t){const e=document.createElement("canvas");e.width=1,e.height=1;const n=e.getContext("2d",{willReadFrequently:!0});n.drawImage(t,0,0,1,1);try{return n.getImageData(0,0,1,1),!1}catch{return console.warn('Image "'+t.src+'" is loaded from different host and is not covered by CORS policy. For more information about the implications read here: https://www.amcharts.com/docs/v5/concepts/cors'),!0}}function jf(t){t.width=0,t.height=0,t.style.width="0px",t.style.height="0px"}function pV(t){return Math.floor(t)+.5}class X0e{constructor(){Object.defineProperty(this,"_x",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_y",{enumerable:!0,configurable:!0,writable:!0,value:0})}get x(){return this._x}get y(){return this._y}set x(e){this._x=e}set y(e){this._y=e}}class Uw extends Fw{constructor(e){super(),Object.defineProperty(this,"_layer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"mask",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"visible",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"exportable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"interactive",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"inactive",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"wheelable",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"cancelTouch",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"isMeasured",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"buttonMode",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"alpha",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"compoundAlpha",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"angle",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"scale",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"crisp",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"pivot",{enumerable:!0,configurable:!0,writable:!0,value:new X0e}),Object.defineProperty(this,"filter",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cursorOverStyle",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_replacedCursorStyle",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_localMatrix",{enumerable:!0,configurable:!0,writable:!0,value:new yx}),Object.defineProperty(this,"_matrix",{enumerable:!0,configurable:!0,writable:!0,value:new yx}),Object.defineProperty(this,"_uMatrix",{enumerable:!0,configurable:!0,writable:!0,value:new yx}),Object.defineProperty(this,"_renderer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_parent",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_localBounds",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_bounds",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_colorId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._renderer=e}subStatus(e){return{inactive:this.inactive==null?e.inactive:this.inactive,layer:this._layer||e.layer}}_dispose(){this._renderer._removeObject(this),this.getLayer().dirty=!0}getCanvas(){return this.getLayer().view}getLayer(){let e=this;for(;;){if(e._layer)return e._layer;if(e._parent)e=e._parent;else return this._renderer.defaultLayer}}setLayer(e,n){e==null?this._layer=void 0:(this._layer=this._renderer.getLayer(e,!0),this._layer.visible=!0,this._layer.margin=n,n&&pd(this._layer.view,!1),this._renderer._ghostLayer.setMargin(this._renderer.layers),this._parent&&this._parent.registerChildLayer(this._layer),this._layer.dirty=!0,this._renderer.resizeLayer(this._layer),this._renderer.resizeGhost())}markDirtyLayer(){this.getLayer().dirty=!0}clear(){this.invalidateBounds()}invalidateBounds(){this._localBounds=void 0}_addBounds(e){}_getColorId(){return this._colorId===void 0&&(this._colorId=this._renderer.paintId(this)),this._colorId}_isInteractive(e){return!e.inactive&&(this.interactive||this._renderer._forceInteractive>0)}_isInteractiveMask(e){return this._isInteractive(e)}contains(e){for(;;){if(e===this)return!0;if(e._parent)e=e._parent;else return!1}}toGlobal(e){return this._matrix.apply(e)}toLocal(e){return this._matrix.applyInverse(e)}getLocalMatrix(){return this._uMatrix.setTransform(0,0,this.pivot.x,this.pivot.y,this.angle*Math.PI/180,this.scale),this._uMatrix}getLocalBounds(){return this._localBounds||(this._localBounds={left:1e7,top:1e7,right:-1e7,bottom:-1e7},this._addBounds(this._localBounds)),this._localBounds}getAdjustedBounds(e){this._setMatrix();const n=this.getLocalMatrix(),i=n.apply({x:e.left,y:e.top}),s=n.apply({x:e.right,y:e.top}),r=n.apply({x:e.right,y:e.bottom}),a=n.apply({x:e.left,y:e.bottom});return{left:Math.min(i.x,s.x,r.x,a.x),top:Math.min(i.y,s.y,r.y,a.y),right:Math.max(i.x,s.x,r.x,a.x),bottom:Math.max(i.y,s.y,r.y,a.y)}}on(e,n,i){return this.interactive?this._renderer._addEvent(this,e,n,i):new Di(()=>{})}_setMatrix(){this._localMatrix.setTransform(this.x,this.y,this.pivot.x,this.pivot.y,this.angle*Math.PI/180,this.scale),this._matrix.copyFrom(this._localMatrix),this._parent&&this._matrix.prepend(this._parent._matrix)}_transform(e,n){const i=this._matrix;let s=i.tx*n,r=i.ty*n;this.crisp&&(s=pV(s),r=pV(r)),e.setTransform(i.a*n,i.b*n,i.c*n,i.d*n,s,r)}_transformMargin(e,n,i){const s=this._matrix;e.setTransform(s.a*n,s.b*n,s.c*n,s.d*n,(s.tx+i.left)*n,(s.ty+i.top)*n)}_transformLayer(e,n,i){i.margin?this._transformMargin(e,i.scale||n,i.margin):this._transform(e,i.scale||n)}render(e){if(this.visible&&(this.exportable!==!1||!this._renderer._omitTainted)){this._setMatrix();const n=this.subStatus(e),i=this._renderer.resolution,s=this._renderer.layers,r=this._renderer._ghostLayer,a=r.context,o=this.mask;o&&o._setMatrix(),oe(s,l=>{if(l){const u=l.context;u.save(),o&&(o._transformLayer(u,i,l),o._runPath(u),u.clip()),u.globalAlpha=this.compoundAlpha*this.alpha,this._transformLayer(u,i,l),this.filter&&(u.filter=this.filter)}}),a.save(),o&&this._isInteractiveMask(n)&&(o._transformMargin(a,i,r.margin),o._runPath(a),a.clip()),this._transformMargin(a,i,r.margin),this._render(n),a.restore(),oe(s,l=>{l&&l.context.restore()})}}_render(e){this.exportable===!1&&(e.layer.tainted=!0)}hovering(){return this._renderer._hovering.has(this)}dragging(){return this._renderer._dragging.some(e=>e.value===this)}shouldCancelTouch(){const e=this._renderer;return e.tapToActivate&&!e._touchActive?!1:this.cancelTouch?!0:this._parent?this._parent.shouldCancelTouch():!1}}class K0e extends Uw{constructor(){super(...arguments),Object.defineProperty(this,"interactiveChildren",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"_childLayers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_children",{enumerable:!0,configurable:!0,writable:!0,value:[]})}_isInteractiveMask(e){return this.interactiveChildren||super._isInteractiveMask(e)}addChild(e){e._parent=this,this._children.push(e),e._layer&&this.registerChildLayer(e._layer)}addChildAt(e,n){e._parent=this,this._children.splice(n,0,e),e._layer&&this.registerChildLayer(e._layer)}removeChild(e){e._parent=void 0,ns(this._children,e)}_render(e){super._render(e);const n=this._renderer;this.interactive&&this.interactiveChildren&&++n._forceInteractive,oe(this._children,i=>{i.compoundAlpha=this.compoundAlpha*this.alpha,i.render(e)}),this.interactive&&this.interactiveChildren&&--n._forceInteractive}registerChildLayer(e){this._childLayers||(this._childLayers=[]),ug(this._childLayers,e),this._parent&&this._parent.registerChildLayer(e)}markDirtyLayer(e=!1){super.markDirtyLayer(),e&&this._childLayers&&oe(this._childLayers,n=>n.dirty=!0)}_dispose(){super._dispose(),this._childLayers&&oe(this._childLayers,e=>{e.dirty=!0})}}function hi(t,e){t.left=Math.min(t.left,e.x),t.top=Math.min(t.top,e.y),t.right=Math.max(t.right,e.x),t.bottom=Math.max(t.bottom,e.y)}class Vi{colorize(e,n){}colorizeGhost(e,n){this.colorize(e,n)}path(e){}pathGhost(e){this.path(e)}addBounds(e){}}class Q0e extends Vi{colorize(e,n){e.beginPath()}}class wx extends Vi{constructor(e){super(),Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,writable:!0,value:e})}colorize(e,n){n!==void 0?e.fillStyle=n:e.fillStyle=this.color}}class J0e extends Vi{constructor(e){super(),Object.defineProperty(this,"clearShadow",{enumerable:!0,configurable:!0,writable:!0,value:e})}colorize(e,n){e.fill(),this.clearShadow&&(e.shadowColor="",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0)}}class Z0e extends Vi{colorize(e,n){e.stroke()}}class xx extends Vi{constructor(e,n,i,s){super(),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(this,"lineJoin",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"lineCap",{enumerable:!0,configurable:!0,writable:!0,value:s})}colorize(e,n){n!==void 0?e.strokeStyle=n:e.strokeStyle=this.color,e.lineWidth=this.width,this.lineJoin&&(e.lineJoin=this.lineJoin),this.lineCap&&(e.lineCap=this.lineCap)}}class exe extends Vi{constructor(e){super(),Object.defineProperty(this,"dash",{enumerable:!0,configurable:!0,writable:!0,value:e})}colorize(e,n){e.setLineDash(this.dash)}}class txe extends Vi{constructor(e){super(),Object.defineProperty(this,"dashOffset",{enumerable:!0,configurable:!0,writable:!0,value:e})}colorize(e,n){e.lineDashOffset=this.dashOffset}}class nxe extends Vi{constructor(e,n,i,s){super(),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,writable:!0,value:s})}path(e){e.rect(this.x,this.y,this.width,this.height)}addBounds(e){const n=this.x,i=this.y,s=n+this.width,r=i+this.height;hi(e,{x:n,y:i}),hi(e,{x:s,y:i}),hi(e,{x:n,y:r}),hi(e,{x:s,y:r})}}class ixe extends Vi{constructor(e,n,i){super(),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(this,"radius",{enumerable:!0,configurable:!0,writable:!0,value:i})}path(e){e.moveTo(this.x+this.radius,this.y),e.arc(this.x,this.y,this.radius,0,2*Math.PI)}addBounds(e){hi(e,{x:this.x-this.radius,y:this.y-this.radius}),hi(e,{x:this.x+this.radius,y:this.y+this.radius})}}class sxe extends Vi{constructor(e,n,i,s){super(),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(this,"radiusX",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"radiusY",{enumerable:!0,configurable:!0,writable:!0,value:s})}path(e){e.ellipse(0,0,this.radiusX,this.radiusY,0,0,Math.PI*2)}addBounds(e){hi(e,{x:this.x-this.radiusX,y:this.y-this.radiusY}),hi(e,{x:this.x+this.radiusX,y:this.y+this.radiusY})}}class rxe extends Vi{constructor(e,n,i,s,r,a){super(),Object.defineProperty(this,"cx",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"cy",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(this,"radius",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"startAngle",{enumerable:!0,configurable:!0,writable:!0,value:s}),Object.defineProperty(this,"endAngle",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"anticlockwise",{enumerable:!0,configurable:!0,writable:!0,value:a})}path(e){this.radius>0&&e.arc(this.cx,this.cy,this.radius,this.startAngle,this.endAngle,this.anticlockwise)}addBounds(e){let n=_k(this.cx,this.cy,this.startAngle*dm,this.endAngle*dm,this.radius);hi(e,{x:n.left,y:n.top}),hi(e,{x:n.right,y:n.bottom})}}class axe extends Vi{constructor(e,n,i,s,r){super(),Object.defineProperty(this,"x1",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"y1",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(this,"x2",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"y2",{enumerable:!0,configurable:!0,writable:!0,value:s}),Object.defineProperty(this,"radius",{enumerable:!0,configurable:!0,writable:!0,value:r})}path(e){this.radius>0&&e.arcTo(this.x1,this.y1,this.x2,this.y2,this.radius)}addBounds(e){}}class oxe extends Vi{constructor(e,n){super(),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,writable:!0,value:n})}path(e){e.lineTo(this.x,this.y)}addBounds(e){hi(e,{x:this.x,y:this.y})}}class lxe extends Vi{constructor(e,n){super(),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,writable:!0,value:n})}path(e){e.moveTo(this.x,this.y)}addBounds(e){hi(e,{x:this.x,y:this.y})}}class uxe extends Vi{path(e){e.closePath()}}class cxe extends Vi{constructor(e,n,i,s,r,a){super(),Object.defineProperty(this,"cpX",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"cpY",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(this,"cpX2",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"cpY2",{enumerable:!0,configurable:!0,writable:!0,value:s}),Object.defineProperty(this,"toX",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"toY",{enumerable:!0,configurable:!0,writable:!0,value:a})}path(e){e.bezierCurveTo(this.cpX,this.cpY,this.cpX2,this.cpY2,this.toX,this.toY)}addBounds(e){hi(e,{x:this.cpX,y:this.cpY}),hi(e,{x:this.cpX2,y:this.cpY2}),hi(e,{x:this.toX,y:this.toY})}}class dxe extends Vi{constructor(e,n,i,s){super(),Object.defineProperty(this,"cpX",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"cpY",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(this,"toX",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"toY",{enumerable:!0,configurable:!0,writable:!0,value:s})}path(e){e.quadraticCurveTo(this.cpX,this.cpY,this.toX,this.toY)}addBounds(e){hi(e,{x:this.cpX,y:this.cpY}),hi(e,{x:this.toX,y:this.toY})}}class hxe extends Vi{constructor(e,n,i,s,r){super(),Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"blur",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(this,"offsetX",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"offsetY",{enumerable:!0,configurable:!0,writable:!0,value:s}),Object.defineProperty(this,"opacity",{enumerable:!0,configurable:!0,writable:!0,value:r})}colorize(e,n){this.opacity&&(e.fillStyle=this.color),e.shadowColor=this.color,e.shadowBlur=this.blur,e.shadowOffsetX=this.offsetX,e.shadowOffsetY=this.offsetY}colorizeGhost(e,n){}}class fxe extends Vi{constructor(e,n,i,s,r){super(),Object.defineProperty(this,"image",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,writable:!0,value:s}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,writable:!0,value:r})}path(e){e.drawImage(this.image,this.x,this.y,this.width,this.height)}addBounds(e){hi(e,{x:this.x,y:this.y}),hi(e,{x:this.width,y:this.height})}}class mxe extends Uw{constructor(){super(...arguments),Object.defineProperty(this,"_operations",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"blendMode",{enumerable:!0,configurable:!0,writable:!0,value:_y.NORMAL}),Object.defineProperty(this,"_hasShadows",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_fillAlpha",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_strokeAlpha",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}clear(){super.clear(),this._operations.length=0}_pushOp(e){this._operations.push(e)}beginFill(e,n=1){this._fillAlpha=n,e?e instanceof tt?this._pushOp(new wx(e.toCSS(n))):(this.isMeasured=!0,this._pushOp(new wx(e))):this._pushOp(new wx("rgba(0, 0, 0, "+n+")"))}endFill(){this._pushOp(new J0e(this._hasShadows))}endStroke(){this._pushOp(new Z0e)}beginPath(){this._pushOp(new Q0e)}lineStyle(e=0,n,i=1,s,r){this._strokeAlpha=i,n?n instanceof tt?this._pushOp(new xx(e,n.toCSS(i),s,r)):this._pushOp(new xx(e,n,s,r)):this._pushOp(new xx(e,"rgba(0, 0, 0, "+i+")",s,r))}setLineDash(e){this._pushOp(new exe(e||[]))}setLineDashOffset(e=0){this._pushOp(new txe(e))}drawRect(e,n,i,s){this._pushOp(new nxe(e,n,i,s))}drawCircle(e,n,i){this._pushOp(new ixe(e,n,i))}drawEllipse(e,n,i,s){this._pushOp(new sxe(e,n,i,s))}arc(e,n,i,s,r,a=!1){this._pushOp(new rxe(e,n,i,s,r,a))}arcTo(e,n,i,s,r){this._pushOp(new axe(e,n,i,s,r))}lineTo(e,n){this._pushOp(new oxe(e,n))}moveTo(e,n){this._pushOp(new lxe(e,n))}bezierCurveTo(e,n,i,s,r,a){this._pushOp(new cxe(e,n,i,s,r,a))}quadraticCurveTo(e,n,i,s){this._pushOp(new dxe(e,n,i,s))}closePath(){this._pushOp(new uxe)}shadow(e,n=0,i=0,s=0,r){this._hasShadows=!0,this._pushOp(new hxe(r?e.toCSS(r):e.toCSS(this._fillAlpha||this._strokeAlpha),n,i,s))}image(e,n,i,s,r){this._pushOp(new fxe(e,n,i,s,r))}svgPath(e){let n=0,i=0,s=null,r=null,a=null,o=null;const l=/([MmZzLlHhVvCcSsQqTtAa])([^MmZzLlHhVvCcSsQqTtAa]*)/g,u=/[\u0009\u0020\u000A\u000C\u000D]*([\+\-]?[0-9]*\.?[0-9]+(?:[eE][\+\-]?[0-9]+)?)[\u0009\u0020\u000A\u000C\u000D]*,?/g;let d;for(;(d=l.exec(e))!==null;){const c=d[1],f=d[2],h=[];for(;(d=u.exec(f))!==null;)h.push(d[1]);switch(c!=="S"&&c!=="s"&&c!=="C"&&c!=="c"&&(s=null,r=null),c!=="Q"&&c!=="q"&&c!=="T"&&c!=="t"&&(a=null,o=null),c){case"M":rr(c,h.length,2),n=+h[0],i=+h[1],this.moveTo(n,i);for(let g=2;g<h.length;g+=2)n=+h[g],i=+h[g+1],this.lineTo(n,i);break;case"m":rr(c,h.length,2),n+=+h[0],i+=+h[1],this.moveTo(n,i);for(let g=2;g<h.length;g+=2)n+=+h[g],i+=+h[g+1],this.lineTo(n,i);break;case"L":rr(c,h.length,2);for(let g=0;g<h.length;g+=2)n=+h[g],i=+h[g+1],this.lineTo(n,i);break;case"l":rr(c,h.length,2);for(let g=0;g<h.length;g+=2)n+=+h[g],i+=+h[g+1],this.lineTo(n,i);break;case"H":Bf(c,h.length,1);for(let g=0;g<h.length;++g)n=+h[g],this.lineTo(n,i);break;case"h":Bf(c,h.length,1);for(let g=0;g<h.length;++g)n+=+h[g],this.lineTo(n,i);break;case"V":Bf(c,h.length,1);for(let g=0;g<h.length;++g)i=+h[g],this.lineTo(n,i);break;case"v":Bf(c,h.length,1);for(let g=0;g<h.length;++g)i+=+h[g],this.lineTo(n,i);break;case"C":rr(c,h.length,6);for(let g=0;g<h.length;g+=6){const v=+h[g],_=+h[g+1];s=+h[g+2],r=+h[g+3],n=+h[g+4],i=+h[g+5],this.bezierCurveTo(v,_,s,r,n,i)}break;case"c":rr(c,h.length,6);for(let g=0;g<h.length;g+=6){const v=+h[g]+n,_=+h[g+1]+i;s=+h[g+2]+n,r=+h[g+3]+i,n+=+h[g+4],i+=+h[g+5],this.bezierCurveTo(v,_,s,r,n,i)}break;case"S":rr(c,h.length,4),(s===null||r===null)&&(s=n,r=i);for(let g=0;g<h.length;g+=4){const v=2*n-s,_=2*i-r;s=+h[g],r=+h[g+1],n=+h[g+2],i=+h[g+3],this.bezierCurveTo(v,_,s,r,n,i)}break;case"s":rr(c,h.length,4),(s===null||r===null)&&(s=n,r=i);for(let g=0;g<h.length;g+=4){const v=2*n-s,_=2*i-r;s=+h[g]+n,r=+h[g+1]+i,n+=+h[g+2],i+=+h[g+3],this.bezierCurveTo(v,_,s,r,n,i)}break;case"Q":rr(c,h.length,4);for(let g=0;g<h.length;g+=4)a=+h[g],o=+h[g+1],n=+h[g+2],i=+h[g+3],this.quadraticCurveTo(a,o,n,i);break;case"q":rr(c,h.length,4);for(let g=0;g<h.length;g+=4)a=+h[g]+n,o=+h[g+1]+i,n+=+h[g+2],i+=+h[g+3],this.quadraticCurveTo(a,o,n,i);break;case"T":rr(c,h.length,2),(a===null||o===null)&&(a=n,o=i);for(let g=0;g<h.length;g+=2)a=2*n-a,o=2*i-o,n=+h[g],i=+h[g+1],this.quadraticCurveTo(a,o,n,i);break;case"t":rr(c,h.length,2),(a===null||o===null)&&(a=n,o=i);for(let g=0;g<h.length;g+=2)a=2*n-a,o=2*i-o,n+=+h[g],i+=+h[g+1],this.quadraticCurveTo(a,o,n,i);break;case"A":case"a":const p=c==="a";Y0e(h),rr(c,h.length,7);for(let g=0;g<h.length;g+=7){let v=+h[g+5],_=+h[g+6];p&&(v+=n,_+=i);const b=z0e({px:n,py:i,rx:+h[g],ry:+h[g+1],xAxisRotation:+h[g+2],largeArcFlag:mV(+h[g+3]),sweepFlag:mV(+h[g+4]),cx:v,cy:_});oe(b,x=>{this.bezierCurveTo(x.x1,x.y1,x.x2,x.y2,x.x,x.y),n=x.x,i=x.y})}break;case"Z":case"z":W0e(c,h.length,0),this.closePath();break}}}_runPath(e){e.beginPath(),oe(this._operations,n=>{n.path(e)})}_render(e){super._render(e);const n=e.layer.dirty,i=this._isInteractive(e);if(n||i){const s=e.layer.context,r=this._renderer._ghostLayer.context;n&&(s.globalCompositeOperation=this.blendMode,s.beginPath());let a;i&&(r.beginPath(),a=this._getColorId()),oe(this._operations,o=>{n&&(o.path(s),o.colorize(s,void 0)),i&&(o.pathGhost(r),o.colorizeGhost(r,a))})}}renderDetached(e){if(this.visible){this._setMatrix(),e.save();const n=this.mask;n&&(n._setMatrix(),n._transform(e,1),n._runPath(e),e.clip()),e.globalAlpha=this.compoundAlpha*this.alpha,this._transform(e,1),this.filter&&(e.filter=this.filter),e.globalCompositeOperation=this.blendMode,e.beginPath(),oe(this._operations,i=>{i.path(e),i.colorize(e,void 0)}),e.restore()}}_addBounds(e){this.visible&&this.isMeasured&&oe(this._operations,n=>{n.addBounds(e)})}}class YU extends Uw{constructor(e,n,i){super(e),Object.defineProperty(this,"text",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"style",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"resolution",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"textVisible",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"truncated",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_textInfo",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_originalScale",{enumerable:!0,configurable:!0,writable:!0,value:1}),this.text=n,this.style=i}invalidateBounds(){super.invalidateBounds(),this._textInfo=void 0}_shared(e){this.style.textAlign&&(e.textAlign=this.style.textAlign),this.style.direction&&(e.direction=this.style.direction),this.style.textBaseline&&(e.textBaseline=this.style.textBaseline)}_prerender(e,n=!1,i=!1){super._render(e);const s=e.layer.context,r=this._renderer._ghostLayer.context,a=this.style;let o=this._getFontStyle(void 0,i);s.font=o,this._isInteractive(e)&&!n&&(r.font=o),a.fill&&(a.fill instanceof tt?s.fillStyle=a.fill.toCSS(a.fillOpacity!=null?a.fillOpacity:1):s.fillStyle=a.fill),a.shadowColor&&(e.layer.context.shadowColor=a.shadowColor.toCSS(a.shadowOpacity||1)),a.shadowBlur&&(e.layer.context.shadowBlur=a.shadowBlur),a.shadowOffsetX&&(e.layer.context.shadowOffsetX=a.shadowOffsetX),a.shadowOffsetY&&(e.layer.context.shadowOffsetY=a.shadowOffsetY),this._shared(s),this._isInteractive(e)&&!n&&(r.fillStyle=this._getColorId(),this._shared(r))}_getFontStyle(e,n=!1){const i=this.style;let s=[];return e&&e.fontVariant?s.push(e.fontVariant):i.fontVariant&&s.push(i.fontVariant),n||(e&&e.fontWeight?s.push(e.fontWeight):i.fontWeight&&s.push(i.fontWeight)),e&&e.fontStyle?s.push(e.fontStyle):i.fontStyle&&s.push(i.fontStyle),e&&e.fontSize?(me(e.fontSize)&&(e.fontSize=e.fontSize+"px"),s.push(e.fontSize)):i.fontSize&&(me(i.fontSize)&&(i.fontSize=i.fontSize+"px"),s.push(i.fontSize)),e&&e.fontFamily?s.push(e.fontFamily):i.fontFamily?s.push(i.fontFamily):s.length&&s.push("Arial"),s.join(" ")}_render(e){if(this._textInfo||this._measure(e),this.textVisible){const n=this._isInteractive(e),i=e.layer.context,s=e.layer.dirty,r=this._renderer._ghostLayer.context;i.save(),r.save(),this._prerender(e),oe(this._textInfo,(a,o)=>{oe(a.textChunks,(l,u)=>{if(l.style&&(i.save(),r.save(),i.font=l.style,this._isInteractive(e)&&(r.font=l.style)),l.fill&&(i.save(),i.fillStyle=l.fill.toCSS()),s&&i.fillText(l.text,l.offsetX,a.offsetY+l.offsetY),l.textDecoration=="underline"||l.textDecoration=="line-through"){let d=1,c=1,f=l.height;const h=this.style.oversizedBehavior||"";if(["truncate","wrap","wrap-no-break"].indexOf(h)>-1){const v=this._measureText(l.text,i);l.width=v.actualBoundingBoxLeft+v.actualBoundingBoxRight}let p=l.offsetX;switch(this.style.textAlign){case"right":case"end":p-=l.width;break;case"center":p-=l.width/2;break}if(l.style)switch(ra.getTextStyle(l.style).fontWeight){case"bolder":case"bold":case"700":case"800":case"900":d=2;break}f&&(c=f/20);let g;l.textDecoration=="line-through"?g=d+a.offsetY+l.offsetY-l.height/2:g=d+c*1.5+a.offsetY+l.offsetY,i.save(),i.beginPath(),l.fill?i.strokeStyle=l.fill.toCSS():this.style.fill&&this.style.fill instanceof tt&&(i.strokeStyle=this.style.fill.toCSS()),i.lineWidth=d*c,i.moveTo(p,g),i.lineTo(p+l.width,g),i.stroke(),i.restore()}n&&this.interactive&&r.fillText(l.text,l.offsetX,a.offsetY+l.offsetY),l.fill&&i.restore(),l.style&&(i.restore(),r.restore())})}),i.restore(),r.restore()}}_addBounds(e){if(this.visible&&this.isMeasured){const n=this._measure({inactive:this.inactive,layer:this.getLayer()});hi(e,{x:n.left,y:n.top}),hi(e,{x:n.right,y:n.bottom})}}_ignoreFontWeight(){return/apple/i.test(navigator.vendor)}_measure(e){const n=e.layer.context,i=this._renderer._ghostLayer.context,s=this.style.direction=="rtl";this._textInfo=[];const r=this.style.oversizedBehavior,a=this.style.maxWidth,o=me(a)&&r=="truncate",l=me(a)&&(r=="wrap"||r=="wrap-no-break");n.save(),i.save(),this._prerender(e,!0,this._ignoreFontWeight());const u="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789 ",d=this.text.toString().replace(/\r/g,"").split(/\n/);let c=!0,f=0,h=0,p=0,g;oe(d,(_,b)=>{let x;for(_==""?x=[{type:"value",text:""}]:x=ra.chunk(_,!1,this.style.ignoreFormatting);x.length>0;){let k={offsetY:p,ascent:0,width:0,height:0,left:0,right:0,textChunks:[]};const I=this._measureText(u,n),E=I.actualBoundingBoxAscent+I.actualBoundingBoxDescent;k.height=E,k.ascent=I.actualBoundingBoxAscent;let T,S=this.style.textDecoration,w,P,C=!1,D=!0,A=[],N;QC(x,(B,z)=>{if(B.type=="format")if(B.text=="[/]")c||(n.restore(),i.restore(),c=!0),w=void 0,g=void 0,P=void 0,S=this.style.textDecoration,N=void 0,T=B.text;else{c||(n.restore(),i.restore());let q=ra.getTextStyle(B.text);const W=this._getFontStyle(q);n.save(),i.save(),n.font=W,g=W,T=B.text,q.textDecoration&&(S=q.textDecoration),q.fill&&(w=q.fill),q.width&&(P=lr(q.width)),q.verticalAlign&&(N=q.verticalAlign),c=!1;const K=this._measureText(u,n),Y=K.actualBoundingBoxAscent+K.actualBoundingBoxDescent;Y>k.height&&(k.height=Y),K.actualBoundingBoxAscent>k.ascent&&(k.ascent=K.actualBoundingBoxAscent)}else if(B.type=="value"&&!C){const q=this._measureText(B.text,n);let W=q.actualBoundingBoxLeft+q.actualBoundingBoxRight;if(o){this.truncated=void 0;let ee=D||this.style.breakWords||!1;const le=this.style.ellipsis||"",de=this._measureText(le,n),he=de.actualBoundingBoxLeft+de.actualBoundingBoxRight;if(k.width+W>a){const re=a-k.width-he;B.text=this._truncateText(n,B.text,re,ee),B.text+=le,C=!0,this.truncated=!0}}else if(l&&k.width+W>a){const ee=a-k.width,le=this._truncateText(n,B.text,ee,!1,D&&this.style.oversizedBehavior!="wrap-no-break");if(le=="")return this.textVisible=!0,!1;A=x.slice(z+1),$d(le)!=$d(B.text)&&(A.unshift({type:"value",text:B.text.substr(le.length)}),T&&A.unshift({type:"format",text:T})),B.text=$d(le),x=[],C=!0}let K=1,Y=1;if(g&&P&&P>W){const ee=W/P;switch(this.style.textAlign){case"right":case"end":K=ee;break;case"center":K=ee,Y=ee;break;default:Y=ee}W=P}const Z=q.actualBoundingBoxAscent+q.actualBoundingBoxDescent;Z>k.height&&(k.height=Z),q.actualBoundingBoxAscent>k.ascent&&(k.ascent=q.actualBoundingBoxAscent),k.width+=W,k.left+=q.actualBoundingBoxLeft/K,k.right+=q.actualBoundingBoxRight/Y,k.textChunks.push({style:g,fill:w,text:B.text,width:W,height:Z,left:q.actualBoundingBoxLeft,right:q.actualBoundingBoxRight,ascent:q.actualBoundingBoxAscent,offsetX:0,offsetY:0,textDecoration:S,verticalAlign:N}),D=!1}return!0}),this.style.lineHeight instanceof xt?(k.height*=this.style.lineHeight.value,k.ascent*=this.style.lineHeight.value):(k.height*=this.style.lineHeight||1.2,k.ascent*=this.style.lineHeight||1.2),f<k.left&&(f=k.left),h<k.right&&(h=k.right),this._textInfo.push(k),p+=k.height,x=A||[]}}),c||(n.restore(),i.restore()),oe(this._textInfo,(_,b)=>{let x=0;oe(_.textChunks,k=>{if(k.offsetX=x+k.left-_.left,k.offsetY+=_.height-_.height*(this.style.baselineRatio||.19),x+=k.width,k.verticalAlign)switch(k.verticalAlign){case"super":k.offsetY-=_.height/2-k.height/2;break;case"sub":k.offsetY+=k.height/2;break}})});const v={left:s?-h:-f,top:0,right:s?f:h,bottom:p};if(r!=="none"){const _=this._fitRatio(v);if(_<1)if(r=="fit")me(this.style.minScale)&&_<this.style.minScale?(this.textVisible=!1,v.left=0,v.top=0,v.right=0,v.bottom=0):(this._originalScale||(this._originalScale=this.scale),this.scale=_,this.textVisible=!0);else if(r=="hide")this.textVisible=!1,v.left=0,v.top=0,v.right=0,v.bottom=0;else{switch(this.style.textAlign){case"right":case"end":v.left=s?a:-a,v.right=0;break;case"center":v.left=-a/2,v.right=a/2;break;default:v.left=0,v.right=s?-a:a}this.scale=this._originalScale||1,this._originalScale=void 0,this.textVisible=!0}else this.scale=this._originalScale||1,this._originalScale=void 0,this.textVisible=!0}return n.restore(),i.restore(),v}_fitRatio(e){const n=this.style.maxWidth,i=this.style.maxHeight;if(!me(n)&&!me(i))return 1;const s=e.right-e.left,r=e.bottom-e.top;return Math.min(n/s||1,i/r||1)}_truncateText(e,n,i,s=!1,r=!0){let a;do{if(s)n=n.slice(0,-1);else{let l=n.replace(/[^,;:!?\\\/\s​]+[,;:!?\\\/\s​]*$/g,"");if((l==""||l===n)&&r)s=!0;else{if(l=="")return n;n=l}}const o=this._measureText(n,e);a=o.actualBoundingBoxLeft+o.actualBoundingBoxRight}while(a>i&&n!="");return n}_measureText(e,n){let i=n.measureText(e),s={};if(i.actualBoundingBoxAscent==null){const a=document.createElement("div");a.innerText=e,a.style.visibility="hidden",a.style.position="absolute",a.style.top="-1000000px;",a.style.fontFamily=this.style.fontFamily||"",a.style.fontSize=this.style.fontSize+"",document.body.appendChild(a);const o=a.getBoundingClientRect();document.body.removeChild(a);const l=o.height,u=i.width;s={actualBoundingBoxAscent:l,actualBoundingBoxDescent:0,actualBoundingBoxLeft:0,actualBoundingBoxRight:u,fontBoundingBoxAscent:l,fontBoundingBoxDescent:0,width:u}}else s={actualBoundingBoxAscent:i.actualBoundingBoxAscent,actualBoundingBoxDescent:i.actualBoundingBoxDescent,actualBoundingBoxLeft:i.actualBoundingBoxLeft,actualBoundingBoxRight:i.actualBoundingBoxRight,fontBoundingBoxAscent:i.actualBoundingBoxAscent,fontBoundingBoxDescent:i.actualBoundingBoxDescent,width:i.width};const r=i.width;switch(this.style.textAlign){case"right":case"end":s.actualBoundingBoxLeft=r,s.actualBoundingBoxRight=0;break;case"center":s.actualBoundingBoxLeft=r/2,s.actualBoundingBoxRight=r/2;break;default:s.actualBoundingBoxLeft=0,s.actualBoundingBoxRight=r}return s}}class gxe{constructor(){Object.defineProperty(this,"fill",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fillOpacity",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"textAlign",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fontFamily",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fontWeight",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fontVariant",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"textDecoration",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shadowColor",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shadowBlur",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shadowOffsetX",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shadowOffsetY",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shadowOpacity",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"lineHeight",{enumerable:!0,configurable:!0,writable:!0,value:jn(120)}),Object.defineProperty(this,"baselineRatio",{enumerable:!0,configurable:!0,writable:!0,value:.19}),Object.defineProperty(this,"direction",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"textBaseline",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"oversizedBehavior",{enumerable:!0,configurable:!0,writable:!0,value:"none"}),Object.defineProperty(this,"breakWords",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"ellipsis",{enumerable:!0,configurable:!0,writable:!0,value:"…"}),Object.defineProperty(this,"maxWidth",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"maxHeight",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"minScale",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"ignoreFormatting",{enumerable:!0,configurable:!0,writable:!0,value:!1})}}class pxe extends YU{constructor(){super(...arguments),Object.defineProperty(this,"textType",{enumerable:!0,configurable:!0,writable:!0,value:"circular"}),Object.defineProperty(this,"radius",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"startAngle",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"inside",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"orientation",{enumerable:!0,configurable:!0,writable:!0,value:"auto"}),Object.defineProperty(this,"kerning",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_textReversed",{enumerable:!0,configurable:!0,writable:!0,value:!1})}_render(e){switch(this.textType){case"circular":this._renderCircular(e);break;default:super._render(e);break}}_renderCircular(e){if(this.textVisible){this._prerender(e);const n=this._isInteractive(e),i=e.layer.context,s=e.layer.dirty,r=this._renderer._ghostLayer.context;i.save(),n&&r.save(),this._textInfo||this._measure(e);let a=this.radius||0,o=this.startAngle||0,l=0,u=this.orientation,d=u=="auto"?"auto":u=="inward";const c=this.inside,f=this.style.textAlign||"left",h=this.kerning||0;let p=f=="left"?1:-1;const g=!this._textReversed;if(d=="auto"){let v=0,_=0;oe(this._textInfo,(b,x)=>{const k=o+b.width/(a-b.height)/2*-p;k>v&&(v=k)}),f=="left"?_=(v+l/2)*dm:f=="right"?_=(v-l/2)*dm:_=o*dm,_=tE(_),d=_>=270||_<=90}d==!0&&g&&(this._textInfo.reverse(),this._textReversed=!0),oe(this._textInfo,(v,_)=>{const b=v.height;c||(a+=b),(p==-1&&d||p==1&&!d)&&g&&v.textChunks.reverse();let x=o;l=0,f=="center"&&(x+=v.width/(a-b)/2*-p,l=x-o),x+=Math.PI*(d?0:1),i.save(),n&&r.save(),i.rotate(x),n&&r.rotate(x);let k=0;oe(v.textChunks,(I,E)=>{const T=I.text,S=I.width;k=S/2/(a-b)*p,i.rotate(k),n&&r.rotate(k),I.style&&(i.save(),r.save(),i.font=I.style,n&&(r.font=I.style)),I.fill&&(i.save(),i.fillStyle=I.fill.toCSS()),i.textBaseline="middle",i.textAlign="center",n&&(r.textBaseline="middle",r.textAlign="center"),s&&i.fillText(T,0,(d?1:-1)*(0-a+b/2)),n&&r.fillText(T,0,(d?1:-1)*(0-a+b/2)),I.fill&&i.restore(),I.style&&(i.restore(),r.restore()),k=(S/2+h)/(a-b)*p,i.rotate(k),n&&r.rotate(k)}),i.restore(),n&&r.restore(),c&&(a-=b)}),i.restore(),n&&r.restore()}}_measure(e){switch(this.textType){case"circular":return this._measureCircular(e);default:return super._measure(e)}}_measureCircular(e){const n=e.layer.context,i=this._renderer._ghostLayer.context,s=this.style.direction=="rtl",r=this.style.oversizedBehavior,a=this.style.maxWidth,o=me(a)&&r=="truncate",l=this.style.ellipsis||"";let u;this.textVisible=!0,this._textInfo=[],this._textReversed=!1,n.save(),i.save(),this._prerender(e,!0);const d=this.text.toString().replace(/\r/g,"").split(/\n/);let c=!0,f=0,h=0;return oe(d,(p,g)=>{let v=ra.chunk(p,!1,this.style.ignoreFormatting),_={offsetY:h,ascent:0,width:0,height:0,left:0,right:0,textChunks:[]},b,x,k;oe(v,(I,E)=>{if(I.type=="format"){if(I.text=="[/]")c||(n.restore(),i.restore(),c=!0),x=void 0,b=void 0,k=void 0;else{let T=ra.getTextStyle(I.text);const S=this._getFontStyle(T);n.save(),i.save(),n.font=S,b=S,T.fill&&(x=T.fill),T.width&&(k=lr(T.width)),c=!1}o&&(u=this._measureText(l,n))}else if(I.type=="value"){let T=I.text.match(/./ug)||[];s&&(T=r0e(I.text),T.reverse());for(let S=0;S<T.length;S++){const w=T[S],P=this._measureText(w,n);let C=P.width;b&&k&&k>C&&(C=k);const D=P.actualBoundingBoxAscent+P.actualBoundingBoxDescent;if(D>_.height&&(_.height=D),P.actualBoundingBoxAscent>_.ascent&&(_.ascent=P.actualBoundingBoxAscent),f+=C,o){u||(u=this._measureText(l,n));const A=u.actualBoundingBoxLeft+u.actualBoundingBoxRight;if(f+A>a){_.textChunks.length==1?this.textVisible=!1:(_.width+=A,_.left+=u.actualBoundingBoxLeft,_.right+=u.actualBoundingBoxRight,_.textChunks.push({style:b,fill:x,text:l,width:A,height:D+u.actualBoundingBoxDescent,left:u.actualBoundingBoxLeft,right:u.actualBoundingBoxRight,ascent:u.actualBoundingBoxAscent,offsetX:0,offsetY:D,textDecoration:void 0}));break}}_.width+=C,_.left+=P.actualBoundingBoxLeft,_.right+=P.actualBoundingBoxRight,_.textChunks.push({style:b,fill:x,text:w,width:C,height:D+P.actualBoundingBoxDescent,left:P.actualBoundingBoxLeft,right:P.actualBoundingBoxRight,ascent:P.actualBoundingBoxAscent,offsetX:0,offsetY:D,textDecoration:void 0})}}}),this.style.lineHeight instanceof xt?_.height*=this.style.lineHeight.value:_.height*=this.style.lineHeight||1.2,this._textInfo.push(_),h+=_.height}),c||(n.restore(),i.restore()),r=="hide"&&f>a&&(this.textVisible=!1),oe(this._textInfo,p=>{oe(p.textChunks,g=>{g.offsetY+=Math.round((p.height-g.height+(p.ascent-g.ascent))/2)})}),n.restore(),i.restore(),{left:0,top:0,right:0,bottom:0}}}class vxe extends Uw{constructor(e,n){super(e),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"image",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tainted",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shadowColor",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shadowBlur",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shadowOffsetX",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shadowOffsetY",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shadowOpacity",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_imageMask",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.image=n}_dispose(){super._dispose(),this._imageMask&&jf(this._imageMask)}getLocalBounds(){if(!this._localBounds){let e=0,n=0;this.width&&(e=this.width),this.height&&(n=this.height),this._localBounds={left:0,top:0,right:e,bottom:n},this._addBounds(this._localBounds)}return this._localBounds}_render(e){if(super._render(e),this.image){if(this.tainted===void 0&&(this.tainted=gV(this.image),e.layer.tainted=!0),this.tainted&&this._renderer._omitTainted)return;if(e.layer.dirty){this.shadowColor&&(e.layer.context.shadowColor=this.shadowColor.toCSS(this.shadowOpacity||1)),this.shadowBlur&&(e.layer.context.shadowBlur=this.shadowBlur),this.shadowOffsetX&&(e.layer.context.shadowOffsetX=this.shadowOffsetX),this.shadowOffsetY&&(e.layer.context.shadowOffsetY=this.shadowOffsetY);const n=this.width||this.image.naturalWidth,i=this.height||this.image.naturalHeight;e.layer.context.drawImage(this.image,0,0,n,i)}if(this.interactive&&this._isInteractive(e)){const n=this._getMask(this.image);this._renderer._ghostLayer.context.drawImage(n,0,0)}}}clear(){super.clear(),this.image=void 0,this._imageMask=void 0}_getMask(e){if(this._imageMask===void 0){const n=this.width||e.naturalWidth,i=this.height||e.naturalHeight,s=document.createElement("canvas");s.width=n,s.height=i;const r=s.getContext("2d");r.imageSmoothingEnabled=!1,r.fillStyle=this._getColorId(),r.fillRect(0,0,n,i),gV(e)||(r.globalCompositeOperation="destination-in",r.drawImage(e,0,0,n,i)),this._imageMask=s}return this._imageMask}}class _xe{constructor(e,n,i,s){Object.defineProperty(this,"event",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"originalPoint",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(this,"point",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"bbox",{enumerable:!0,configurable:!0,writable:!0,value:s}),Object.defineProperty(this,"id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"simulated",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"native",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Fa("touchevents")&&e instanceof Touch?this.id=e.identifier:this.id=null}}class yxe extends Ywe{constructor(e){if(super(),Object.defineProperty(this,"view",{enumerable:!0,configurable:!0,writable:!0,value:document.createElement("div")}),Object.defineProperty(this,"_layerDom",{enumerable:!0,configurable:!0,writable:!0,value:document.createElement("div")}),Object.defineProperty(this,"layers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_dirtyLayers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"defaultLayer",{enumerable:!0,configurable:!0,writable:!0,value:this.getLayer(0)}),Object.defineProperty(this,"_ghostLayer",{enumerable:!0,configurable:!0,writable:!0,value:new bxe}),Object.defineProperty(this,"_patternCanvas",{enumerable:!0,configurable:!0,writable:!0,value:document.createElement("canvas")}),Object.defineProperty(this,"_patternContext",{enumerable:!0,configurable:!0,writable:!0,value:this._patternCanvas.getContext("2d")}),Object.defineProperty(this,"_realWidth",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_realHeight",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_calculatedWidth",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_calculatedHeight",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"resolution",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"interactionsEnabled",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"_listeners",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_events",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_colorId",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_colorMap",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_forceInteractive",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_omitTainted",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_hovering",{enumerable:!0,configurable:!0,writable:!0,value:new Set}),Object.defineProperty(this,"_dragging",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_mousedown",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_lastPointerMoveEvent",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tapToActivate",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"tapToActivateTimeout",{enumerable:!0,configurable:!0,writable:!0,value:3e3}),Object.defineProperty(this,"_touchActive",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_touchActiveTimeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),e==null?this.resolution=window.devicePixelRatio:this.resolution=e,this.view.style.position="absolute",this.view.setAttribute("aria-hidden","true"),this.view.appendChild(this._layerDom),this._disposers.push(new Di(()=>{sn(this._events,(n,i)=>{i.disposer.dispose()}),oe(this.layers,n=>{jf(n.view),n.exportableView&&jf(n.exportableView)}),jf(this._ghostLayer.view),jf(this._patternCanvas)})),this._disposers.push(OU(()=>{e==null&&(this.resolution=window.devicePixelRatio)})),Fa("touchevents")){const n=i=>{this._dragging.length!==0&&QC(this._dragging,s=>s.value.shouldCancelTouch()?(i.preventDefault(),!1):!0),this._touchActiveTimeout&&this._delayTouchDeactivate()};this._disposers.push(Nn(window,"touchstart",n,{passive:!1})),this._disposers.push(Nn(this.view,"touchstart",n,{passive:!1})),this._disposers.push(Nn(this.view,"touchmove",()=>{this._touchActiveTimeout&&this._delayTouchDeactivate()},{passive:!0})),this._disposers.push(Nn(window,"click",i=>{this._touchActive=!1},{passive:!0})),this._disposers.push(Nn(this.view,"click",i=>{window.setTimeout(()=>{this._touchActive=!0,this._delayTouchDeactivate()},100)},{passive:!0}))}Fa("wheelevents")&&this._disposers.push(Nn(this.view,"wheel",n=>{let i=!1;this._hovering.forEach(s=>{if(s.wheelable)return i=!0,!1}),i&&n.preventDefault()},{passive:!1}))}resetImageArray(){this._ghostLayer.imageArray=void 0}_delayTouchDeactivate(){this._touchActiveTimeout&&clearTimeout(this._touchActiveTimeout),this.tapToActivateTimeout>0&&(this._touchActiveTimeout=window.setTimeout(()=>{this._touchActive=!1},this.tapToActivateTimeout))}get debugGhostView(){return!!this._ghostLayer.view.parentNode}set debugGhostView(e){e?this._ghostLayer.view.parentNode||this.view.appendChild(this._ghostLayer.view):this._ghostLayer.view.parentNode&&this._ghostLayer.view.parentNode.removeChild(this._ghostLayer.view)}createLinearGradient(e,n,i,s){return this.defaultLayer.context.createLinearGradient(e,n,i,s)}createRadialGradient(e,n,i,s,r,a){return this.defaultLayer.context.createRadialGradient(e,n,i,s,r,a)}createPattern(e,n,i,s,r){return this._patternCanvas.width=s,this._patternCanvas.height=r,this._patternContext.clearRect(0,0,s,r),n.renderDetached(this._patternContext),e.renderDetached(this._patternContext),this._patternContext.createPattern(this._patternCanvas,i)}makeContainer(){return new K0e(this)}makeGraphics(){return new mxe(this)}makeText(e,n){return new YU(this,e,n)}makeTextStyle(){return new gxe}makeRadialText(e,n){return new pxe(this,e,n)}makePicture(e){return new vxe(this,e)}resizeLayer(e){e.resize(this._calculatedWidth,this._calculatedHeight,this._calculatedWidth,this._calculatedHeight,this.resolution)}resizeGhost(){this._ghostLayer.resize(this._calculatedWidth,this._calculatedHeight,this._calculatedWidth,this._calculatedHeight,this.resolution)}resize(e,n,i,s){this._realWidth=e,this._realHeight=n,this._calculatedWidth=i,this._calculatedHeight=s,oe(this.layers,r=>{r&&(r.dirty=!0,this.resizeLayer(r))}),this.resizeGhost(),this.view.style.width=i+"px",this.view.style.height=s+"px"}createDetachedLayer(e=!1){const n=document.createElement("canvas"),i=n.getContext("2d",{willReadFrequently:e}),s=new wxe(n,i);return n.style.position="absolute",n.style.top="0px",n.style.left="0px",s}getLayerByOrder(e){const n=this.layers,i=n.length;for(let s=0;s<i;s++){const r=n[s];if(r.order==e)return r}}getLayer(e,n=!0){let i=this.getLayerByOrder(e);if(i)return i;const s=this.createDetachedLayer(e==99);s.order=e,s.visible=n,s.view.className="am5-layer-"+e,s.visible&&this.resizeLayer(s);const r=this.layers;r.push(s),r.sort((u,d)=>u.order>d.order?1:u.order<d.order?-1:0);const a=r.length,o=gh(r,s);let l;for(let u=o+1;u<a;u++)if(r[u].visible){l=r[u];break}return s.visible&&(l===void 0?this._layerDom.appendChild(s.view):this._layerDom.insertBefore(s.view,l.view)),s}render(e){if(this._dirtyLayers.length=0,oe(this.layers,n=>{n&&n.dirty&&n.visible&&(this._dirtyLayers.push(n),n.clear())}),this._ghostLayer.clear(),e.render({inactive:null,layer:this.defaultLayer}),this._ghostLayer.context.restore(),oe(this.layers,n=>{if(n){const i=n.context;i.beginPath(),i.moveTo(0,0),i.stroke()}}),oe(this._dirtyLayers,n=>{n.context.restore(),n.dirty=!1}),this._hovering.size&&this._lastPointerMoveEvent){const{events:n,target:i,native:s}=this._lastPointerMoveEvent;oe(n,r=>{this._dispatchGlobalMousemove(r,i,s)})}}paintId(e){const n=G0e(++this._colorId),i=tt.fromHex(n).toCSS();return this._colorMap[i]=e,i}_removeObject(e){e._colorId!==void 0&&delete this._colorMap[e._colorId]}_adjustBoundingBox(e){const n=this._ghostLayer.margin;return new DOMRect(-n.left,-n.top,e.width+n.left+n.right,e.height+n.top+n.bottom)}getEvent(e,n=!0){const i=this.view.getBoundingClientRect(),s=e.clientX||0,r=e.clientY||0,a=this._calculatedWidth/this._realWidth,o=this._calculatedHeight/this._realHeight,l={x:s-i.left,y:r-i.top},u={x:(s-(n?i.left:0))*a,y:(r-(n?i.top:0))*o};return new _xe(e,l,u,this._adjustBoundingBox(i))}_getHitTarget(e,n,i){if(n.width===0||n.height===0||e.x<n.left||e.x>n.right||e.y<n.top||e.y>n.bottom||!i||!this._layerDom.contains(i))return;const s=this._ghostLayer.getImageData(e,n);if(s.data[0]===0&&s.data[1]===0&&s.data[2]===0)return!1;const r=tt.fromRGB(s.data[0],s.data[1],s.data[2]).toCSS();return this._colorMap[r]}getObjectAtPoint(e){const n=this._ghostLayer.getImageArray(e);if(n[0]===0&&n[1]===0&&n[2]===0)return;const i=tt.fromRGB(n[0],n[1],n[2]).toCSS();return this._colorMap[i]}_withEvents(e,n){const i=this._events[e];if(i!==void 0){i.dispatching=!0;try{n(i)}finally{i.dispatching=!1,i.cleanup&&(i.cleanup=!1,Nw(i.callbacks,s=>!s.disposed),i.callbacks.length===0&&(i.disposer.dispose(),delete this._events[e]))}}}_dispatchEventAll(e,n){this.interactionsEnabled&&this._withEvents(e,i=>{oe(i.callbacks,s=>{s.disposed||s.callback.call(s.context,n)})})}_dispatchEvent(e,n,i){if(!this.interactionsEnabled)return!1;let s=!1;return this._withEvents(e,r=>{oe(r.callbacks,a=>{!a.disposed&&a.object===n&&(a.callback.call(a.context,i),s=!0)})}),s}_dispatchMousedown(e,n){const i=e.button;if(i!=0&&i!=2&&i!=1&&i!==void 0)return;const s=this.getEvent(e),r=this._getHitTarget(s.originalPoint,s.bbox,n);if(r){const a=s.id;let o=!1;cv(r,l=>{const u={id:a,value:l};return this._mousedown.push(u),!o&&this._dispatchEvent("pointerdown",l,s)&&(o=!0,this._dragging.some(c=>c.value===l&&c.id===a)||this._dragging.push(u)),!0})}}_dispatchGlobalMousemove(e,n,i){const s=this.getEvent(e),r=this._getHitTarget(s.originalPoint,s.bbox,n);s.native=i,r?(this._hovering.forEach(a=>{a.contains(r)||(this._hovering.delete(a),a.cursorOverStyle&&rv(document.body,"cursor",a._replacedCursorStyle),this._dispatchEvent("pointerout",a,s))}),s.native&&cv(r,a=>(this._hovering.has(a)||(this._hovering.add(a),a.cursorOverStyle&&(a._replacedCursorStyle=Kwe(document.body,"cursor"),rv(document.body,"cursor",a.cursorOverStyle)),this._dispatchEvent("pointerover",a,s)),!0))):(this._hovering.forEach(a=>{a.cursorOverStyle&&rv(document.body,"cursor",a._replacedCursorStyle),this._dispatchEvent("pointerout",a,s)}),this._hovering.clear()),this._dispatchEventAll("globalpointermove",s)}removeHovering(e){this._hovering.delete(e),e.cursorOverStyle&&rv(document.body,"cursor",e._replacedCursorStyle)}_dispatchGlobalMouseup(e,n){const i=this.getEvent(e);i.native=n,this._dispatchEventAll("globalpointerup",i)}_dispatchDragMove(e){if(this._dragging.length!==0){const n=this.getEvent(e),i=n.id;this._dragging.forEach(s=>{s.id===i&&this._dispatchEvent("pointermove",s.value,n)})}}_dispatchDragEnd(e,n){const i=e.button;let s;if(i==0||i===void 0)s="click";else if(i==2)s="rightclick";else if(i==1)s="middleclick";else return;const r=this.getEvent(e),a=r.id;if(this._mousedown.length!==0){const o=this._getHitTarget(r.originalPoint,r.bbox,n);o&&this._mousedown.forEach(l=>{l.id===a&&l.value.contains(o)&&this._dispatchEvent(s,l.value,r)}),this._mousedown.length=0}this._dragging.length!==0&&(this._dragging.forEach(o=>{o.id===a&&this._dispatchEvent("pointerup",o.value,r)}),this._dragging.length=0)}_dispatchDoubleClick(e,n){const i=this.getEvent(e),s=this._getHitTarget(i.originalPoint,i.bbox,n);s&&cv(s,r=>!this._dispatchEvent("dblclick",r,i))}_dispatchWheel(e,n){const i=this.getEvent(e),s=this._getHitTarget(i.originalPoint,i.bbox,n);s&&cv(s,r=>!this._dispatchEvent("wheel",r,i))}_makeSharedEvent(e,n){if(this._listeners[e]===void 0){const i=n();this._listeners[e]=new JC(()=>{delete this._listeners[e],i.dispose()})}return this._listeners[e].increment()}_onPointerEvent(e,n){let i=!1,s=null;function r(){s=null,i=!1}return new Os([new Di(()=>{s!==null&&clearTimeout(s),r()}),Nn(this.view,pk(e),a=>{i=!0,s!==null&&clearTimeout(s),s=window.setTimeout(r,0)}),q0e(window,e,(a,o)=>{s!==null&&(clearTimeout(s),s=null),n(a,o,i),i=!1})])}_initEvent(e){switch(e){case"globalpointermove":case"pointerover":case"pointerout":return this._makeSharedEvent("pointermove",()=>{const n=(i,s,r)=>{this._lastPointerMoveEvent={events:i,target:s,native:r},oe(i,a=>{this._dispatchGlobalMousemove(a,s,r)})};return new Os([this._onPointerEvent("pointerdown",n),this._onPointerEvent("pointermove",n)])});case"globalpointerup":return this._makeSharedEvent("pointerup",()=>{const n=this._onPointerEvent("pointerup",(s,r,a)=>{oe(s,o=>{this._dispatchGlobalMouseup(o,a)}),this._lastPointerMoveEvent={events:s,target:r,native:a}}),i=this._onPointerEvent("pointercancel",(s,r,a)=>{oe(s,o=>{this._dispatchGlobalMouseup(o,a)}),this._lastPointerMoveEvent={events:s,target:r,native:a}});return new Di(()=>{n.dispose(),i.dispose()})});case"click":case"rightclick":case"middleclick":case"pointerdown":case"pointermove":case"pointerup":return this._makeSharedEvent("pointerdown",()=>{const n=this._onPointerEvent("pointerdown",(a,o)=>{oe(a,l=>{this._dispatchMousedown(l,o)})}),i=this._onPointerEvent("pointermove",a=>{oe(a,o=>{this._dispatchDragMove(o)})}),s=this._onPointerEvent("pointerup",(a,o)=>{oe(a,l=>{this._dispatchDragEnd(l,o)})}),r=this._onPointerEvent("pointercancel",(a,o)=>{oe(a,l=>{this._dispatchDragEnd(l,o)})});return new Di(()=>{n.dispose(),i.dispose(),s.dispose(),r.dispose()})});case"dblclick":return this._makeSharedEvent("dblclick",()=>this._onPointerEvent("dblclick",(n,i)=>{oe(n,s=>{this._dispatchDoubleClick(s,i)})}));case"wheel":return this._makeSharedEvent("wheel",()=>Nn(this.view,pk("wheel"),n=>{this._dispatchWheel(n,MU(n))},{passive:!1}))}}_addEvent(e,n,i,s){let r=this._events[n];r===void 0&&(r=this._events[n]={disposer:this._initEvent(n),callbacks:[],dispatching:!1,cleanup:!1});const a={object:e,context:s,callback:i,disposed:!1};return r.callbacks.push(a),new Di(()=>{a.disposed=!0,r.dispatching?r.cleanup=!0:(ns(r.callbacks,a),r.callbacks.length===0&&(r.disposer.dispose(),delete this._events[n]))})}getCanvas(e,n){this.render(e),n||(n={});let i=this.resolution,s=Math.floor(this._calculatedWidth*this.resolution),r=Math.floor(this._calculatedHeight*this.resolution);if(n.minWidth&&n.minWidth>s){let h=n.minWidth/s;h>i&&(i=h*this.resolution)}if(n.minHeight&&n.minHeight>r){let h=n.minHeight/r;h>i&&(i=h*this.resolution)}if(n.maxWidth&&n.maxWidth<s){let h=n.maxWidth/s;h<i&&(i=h*this.resolution)}if(n.maxHeight&&n.maxHeight>r){let h=n.maxHeight/r;h<i&&(i=h*this.resolution)}n.maintainPixelRatio&&(i/=this.resolution);const a=[];let o=!1;const l=document.createElement("canvas");i!=this.resolution&&(o=!0,s=s*i/this.resolution,r=r*i/this.resolution),l.width=s,l.height=r,l.style.position="fixed",l.style.top="-10000px",this.view.appendChild(l),a.push(l);const u=l.getContext("2d");let d=0,c=0,f=!1;return oe(this.layers,h=>{if(h&&h.visible&&(h.tainted||o)){f=!0,h.exportableView=h.view,h.exportableContext=h.context,h.view=document.createElement("canvas"),h.view.style.position="fixed",h.view.style.top="-10000px",this.view.appendChild(h.view),a.push(h.view);let p=0,g=0;h.margin&&(p+=h.margin.left||0+h.margin.right||0,g+=h.margin.top||0+h.margin.bottom||0),h.view.width=s+p,h.view.height=r+g,h.context=h.view.getContext("2d"),h.dirty=!0,h.scale=i}}),f&&(this._omitTainted=!0,this.render(e),this._omitTainted=!1),oe(this.layers,h=>{if(h&&h.visible){let p=0,g=0;h.margin&&(p=-(h.margin.left||0)*this.resolution,g=-(h.margin.top||0)*this.resolution),u.drawImage(h.view,p,g),h.exportableView&&(h.view=h.exportableView,h.exportableView=void 0),h.exportableContext&&(h.context=h.exportableContext,h.exportableContext=void 0),d<h.view.clientWidth&&(d=h.view.clientWidth),c<h.view.clientHeight&&(c=h.view.clientHeight),h.scale=void 0}}),l.style.width=d+"px",l.style.height=c+"px",oe(a,h=>{h.style.position="",h.style.top="",this.view.removeChild(h)}),l}}class bxe{constructor(){Object.defineProperty(this,"view",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"context",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"margin",{enumerable:!0,configurable:!0,writable:!0,value:{left:0,right:0,top:0,bottom:0}}),Object.defineProperty(this,"_resolution",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"_width",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_height",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"imageArray",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.view=document.createElement("canvas"),this.context=this.view.getContext("2d",{alpha:!1,willReadFrequently:!0}),this.context.imageSmoothingEnabled=!1,this.view.style.position="absolute",this.view.style.top="0px",this.view.style.left="0px"}resize(e,n,i,s,r){this._resolution=r,e+=this.margin.left+this.margin.right,n+=this.margin.top+this.margin.bottom,i+=this.margin.left+this.margin.right,s+=this.margin.top+this.margin.bottom,this.view.style.left=-this.margin.left+"px",this.view.style.top=-this.margin.top+"px",this._width=Math.floor(e*r),this._height=Math.floor(n*r),this.view.width=this._width,this.view.style.width=i+"px",this.view.height=this._height,this.view.style.height=s+"px"}getImageData(e,n){return this.context.getImageData(Math.round((e.x-n.left)/n.width*this._width),Math.round((e.y-n.top)/n.height*this._height),1,1)}getImageArray(e){this.imageArray||(this.imageArray=this.context.getImageData(0,0,this._width,this._height).data);const n=this.imageArray,i=Math.round(e.x*this._resolution),r=(Math.round(e.y*this._resolution)*this._width+i)*4;return[n[r],n[r+1],n[r+2],n[r+3]]}setMargin(e){this.margin.left=0,this.margin.right=0,this.margin.top=0,this.margin.bottom=0,oe(e,n=>{n.margin&&(this.margin.left=Math.max(this.margin.left,n.margin.left),this.margin.right=Math.max(this.margin.right,n.margin.right),this.margin.top=Math.max(this.margin.top,n.margin.top),this.margin.bottom=Math.max(this.margin.bottom,n.margin.bottom))})}clear(){this.context.save(),this.context.fillStyle="#000",this.context.fillRect(0,0,this._width,this._height)}}class wxe{constructor(e,n){Object.defineProperty(this,"view",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"context",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tainted",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"margin",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"order",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"visible",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"scale",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"dirty",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"exportableView",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"exportableContext",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_width",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_height",{enumerable:!0,configurable:!0,writable:!0,value:0}),this.view=e,this.context=n}resize(e,n,i,s,r){this.width!=null&&(e=this.width,i=this.width),this.height!=null&&(n=this.height,s=this.height),this.margin?(e+=this.margin.left+this.margin.right,n+=this.margin.top+this.margin.bottom,i+=this.margin.left+this.margin.right,s+=this.margin.top+this.margin.bottom,this.view.style.left=-this.margin.left+"px",this.view.style.top=-this.margin.top+"px"):(this.view.style.left="0px",this.view.style.top="0px"),this._width=Math.floor(e*r),this._height=Math.floor(n*r),this.view.width=this._width,this.view.style.width=i+"px",this.view.height=this._height,this.view.style.height=s+"px"}clear(){this.context.save(),this.context.clearRect(0,0,this._width,this._height)}}function vV(t,e){t==null?requestAnimationFrame(e):setTimeout(()=>{requestAnimationFrame(e)},1e3/t)}class nE{constructor(e,n={},i){if(Object.defineProperty(this,"dom",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_inner",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_settings",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_isDirty",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_isDirtyParents",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_isDirtyAnimation",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_dirty",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_dirtyParents",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_dirtyBounds",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_dirtyPositions",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_ticker",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"_tickers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_updateTick",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"events",{enumerable:!0,configurable:!0,writable:!0,value:new Jh}),Object.defineProperty(this,"animationTime",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"_animations",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_renderer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_rootContainer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"container",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tooltipContainer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tooltipContainerSettings",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tooltip",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"language",{enumerable:!0,configurable:!0,writable:!0,value:B0e.new(this,{})}),Object.defineProperty(this,"locale",{enumerable:!0,configurable:!0,writable:!0,value:WU}),Object.defineProperty(this,"utc",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"timezone",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fps",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"numberFormatter",{enumerable:!0,configurable:!0,writable:!0,value:V0e.new(this,{})}),Object.defineProperty(this,"dateFormatter",{enumerable:!0,configurable:!0,writable:!0,value:N0e.new(this,{})}),Object.defineProperty(this,"durationFormatter",{enumerable:!0,configurable:!0,writable:!0,value:F0e.new(this,{})}),Object.defineProperty(this,"tabindex",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_tabindexes",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_a11yD",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_focusElementDirty",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_focusElementContainer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_focusedSprite",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_isShift",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_keyboardDragPoint",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tooltipElementContainer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_readerAlertElement",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_logo",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tooltipDiv",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"nonce",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"interfaceColors",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"verticalLayout",{enumerable:!0,configurable:!0,writable:!0,value:vh.new(this,{})}),Object.defineProperty(this,"horizontalLayout",{enumerable:!0,configurable:!0,writable:!0,value:ph.new(this,{})}),Object.defineProperty(this,"gridLayout",{enumerable:!0,configurable:!0,writable:!0,value:pc.new(this,{})}),Object.defineProperty(this,"_paused",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"autoResize",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"_fontHash",{enumerable:!0,configurable:!0,writable:!0,value:""}),Object.defineProperty(this,"_isDisposed",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_disposers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_resizeSensorDisposer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tooltips",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_htmlElementContainer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_htmlEnabledContainers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),!i)throw new Error("You cannot use `new Class()`, instead use `Class.new()`");this._settings=n,n.accessible==!1&&(this._a11yD=!0),n.useSafeResolution==null&&(n.useSafeResolution=!0);let s;n.useSafeResolution&&(s=t0e()),this._renderer=new yxe(s);let r;if(e instanceof HTMLElement?r=e:r=document.getElementById(e),oe(Pa.rootElements,l=>{if(l.dom===r)throw new Error("You cannot have multiple Roots on the same DOM node")}),this.interfaceColors=yy.new(this,{}),r===null)throw new Error("Could not find HTML element with id `"+e+"`");this.dom=r;let a=document.createElement("div");a.style.position="relative",a.style.width="100%",a.style.height="100%",r.appendChild(a);const o=n.tooltipContainerBounds;o&&(this._tooltipContainerSettings=o),this._inner=a,this._updateComputedStyles(),Pa.rootElements.push(this)}static new(e,n){const i=new nE(e,n,!0);return i._init(),i}moveDOM(e){let n;if(e instanceof HTMLElement?n=e:n=document.getElementById(e),n){for(;this.dom.childNodes.length>0;)n.appendChild(this.dom.childNodes[0]);this.dom=n,this._initResizeSensor(),this.resize()}}_handleLogo(){if(this._logo){const e=this.dom.offsetWidth,n=this.dom.offsetHeight;e<=150||n<=60?this._logo.hide():this._logo.show()}}_showBranding(){if(!this._logo){const e=this.tooltipContainer.children.push(st.new(this,{interactive:!0,interactiveChildren:!1,position:"absolute",setStateOnChildren:!0,paddingTop:9,paddingRight:9,paddingBottom:9,paddingLeft:9,scale:.6,y:jn(100),centerY:Fe,tooltipText:"Created using amCharts 5",tooltipX:Fe,cursorOverStyle:"pointer",background:tr.new(this,{fill:pl(4671320),fillOpacity:0,tooltipY:5})})),n=Wl.new(this,{pointerOrientation:"horizontal",paddingTop:4,paddingRight:7,paddingBottom:4,paddingLeft:7});n.label.setAll({fontSize:12}),n.get("background").setAll({fill:this.interfaceColors.get("background"),stroke:this.interfaceColors.get("grid"),strokeOpacity:.3}),e.set("tooltip",n),e.events.on("click",()=>{window.open("https://www.amcharts.com/","_blank")}),e.states.create("hover",{}),e.children.push(cn.new(this,{stroke:pl(13421772),strokeWidth:3,svgPath:"M5 25 L13 25h13.6c3.4 0 6 0 10.3-4.3s5.2-12 8.6-12c3.4 0 4.3 8.6 7.7 8.6M83.4 25H79.8c-3.4 0-6 0-10.3-4.3s-5.2-12-8.6-12-4.3 8.6-7.7 8.6"})).states.create("hover",{stroke:pl(3976191)}),e.children.push(cn.new(this,{stroke:pl(8947848),strokeWidth:3,svgPath:"M83.4 25h-31C37 25 39.5 4.4 28.4 4.4S18.9 24.2 4.3 25H0"})).states.create("hover",{stroke:pl(4671320)}),this._logo=e,this._handleLogo()}}_getRealSize(){return this.dom.getBoundingClientRect()}_getCalculatedSize(e){return this._settings.calculateSize?this._settings.calculateSize(e):{width:e.width,height:e.height}}_init(){const e=this._settings;e.accessible!==!1&&(e.focusable&&(this._inner.setAttribute("focusable","true"),this._inner.setAttribute("tabindex",this.tabindex+"")),e.ariaLabel&&this._inner.setAttribute("aria-label",e.ariaLabel),e.role&&this._inner.setAttribute("role",e.role));const n=this._renderer,i=this._getRealSize(),s=this._getCalculatedSize(i),r=Math.floor(s.width),a=Math.floor(s.height),o=Math.floor(i.width),l=Math.floor(i.height),u=st.new(this,{visible:!0,width:r,height:a});this._rootContainer=u,this._rootContainer._defaultThemes.push(j0e.new(this));const d=u.children.push(st.new(this,{visible:!0,width:Fe,height:Fe}));this.container=d,n.resize(o,l,r,a),this._inner.appendChild(n.view),this._initResizeSensor();const c=document.createElement("div");if(this._htmlElementContainer=c,c.className="am5-html-container",c.style.position="absolute",c.style.pointerEvents="none",this._tooltipContainerSettings||(c.style.overflow="hidden"),this._inner.appendChild(c),this._a11yD!==!0){const f=document.createElement("div");f.className="am5-reader-container",f.setAttribute("role","alert"),f.style.position="absolute",f.style.width="1px",f.style.height="1px",f.style.overflow="hidden",f.style.clip="rect(1px, 1px, 1px, 1px)",this._readerAlertElement=f,this._inner.appendChild(this._readerAlertElement);const h=document.createElement("div");h.className="am5-focus-container",h.style.position="absolute",h.style.pointerEvents="none",h.style.top="0px",h.style.left="0px",h.style.overflow="hidden",h.style.width=r+"px",h.style.height=a+"px",h.setAttribute("role","graphics-document"),pd(h,!1),this._focusElementContainer=h,this._inner.appendChild(this._focusElementContainer);const p=document.createElement("div");this._tooltipElementContainer=p,p.className="am5-tooltip-container",this._inner.appendChild(p),Fa("keyboardevents")&&(this._disposers.push(Nn(window,"keydown",g=>{const v=Sd(g);v=="Shift"?this._isShift=!0:v=="Tab"&&(this._isShift=g.shiftKey)})),this._disposers.push(Nn(window,"keyup",g=>{Sd(g)=="Shift"&&(this._isShift=!1)})),this._disposers.push(Nn(h,"click",()=>{const g=this._focusedSprite;if(g){const v=g.get("clickAnnounceText","");v!==""&&this.readerAlert(v);const _=n.getEvent(new MouseEvent("click"));g.events.dispatch("click",{type:"click",originalEvent:_.event,point:_.point,simulated:!0,target:g})}})),this._disposers.push(Nn(h,"keydown",g=>{const v=this._focusedSprite;if(v){g.key=="Escape"&&(qwe(),this._focusedSprite=void 0);let _=0,b=0;const x=Sd(g);switch(x){case"Enter":case" ":const k=v.get("clickAnnounceText","");if(k!==""&&this.readerAlert(k),x==" "&&v.get("role")!="checkbox")return;g.preventDefault();const I=n.getEvent(new MouseEvent("mouse"));v.events.dispatch("click",{type:"click",originalEvent:I.event,point:I.point,simulated:!0,target:v});return;case"ArrowLeft":_=-6;break;case"ArrowRight":_=6;break;case"ArrowUp":b=-6;break;case"ArrowDown":b=6;break;default:return}if(_!=0||b!=0){if(g.preventDefault(),!v.isDragging()){this._keyboardDragPoint={x:0,y:0};const E=n.getEvent(new MouseEvent("mousedown",{clientX:0,clientY:0}));E.point={x:0,y:0},v.events.isEnabled("pointerdown")&&v.events.dispatch("pointerdown",{type:"pointerdown",originalEvent:E.event,point:E.point,simulated:!0,target:v})}const k=this._keyboardDragPoint;k.x+=_,k.y+=b;const I=n.getEvent(new MouseEvent("mousemove",{clientX:k.x,clientY:k.y}),!1);v.events.isEnabled("globalpointermove")&&v.events.dispatch("globalpointermove",{type:"globalpointermove",originalEvent:I.event,point:I.point,simulated:!0,target:v})}}})),this._disposers.push(Nn(h,"keyup",g=>{if(this._focusedSprite){const v=this._focusedSprite,_=Sd(g);switch(_){case"ArrowLeft":case"ArrowRight":case"ArrowUp":case"ArrowDown":if(v.isDragging()){const x=this._keyboardDragPoint,k=n.getEvent(new MouseEvent("mouseup",{clientX:x.x,clientY:x.y}));v.events.isEnabled("globalpointerup")&&v.events.dispatch("globalpointerup",{type:"globalpointerup",originalEvent:k.event,point:k.point,simulated:!0,target:v}),this._keyboardDragPoint=void 0;return}else if(v.get("focusableGroup")){const x=v.get("focusableGroup"),k=this._tabindexes.filter(T=>!!(T.get("focusableGroup")==x&&T.getPrivate("focusable")!==!1&&T.isVisibleDeep()));let I=k.indexOf(v);const E=k.length-1;I+=_=="ArrowRight"||_=="ArrowDown"?1:-1,I<0?I=E:I>E&&(I=0),Xwe(k[I].getPrivate("focusElement").dom)}break;case"Tab":const b=v.get("focusableGroup");if(b&&this._isShift){this._focusNext(v.getPrivate("focusElement").dom,-1,b);return}break}}})))}this._startTicker(),this.setThemes([]),this._addTooltip(),this._hasLicense()||this._showBranding()}_initResizeSensor(){this._resizeSensorDisposer&&this._resizeSensorDisposer.dispose(),this._resizeSensorDisposer=new M0e(this.dom,()=>{this.autoResize&&this.resize()}),this._disposers.push(this._resizeSensorDisposer)}resize(){const e=this._getRealSize(),n=this._getCalculatedSize(e),i=Math.floor(n.width),s=Math.floor(n.height);if(i>0&&s>0){const r=Math.floor(e.width),a=Math.floor(e.height),o=this._htmlElementContainer;if(o.style.width=i+"px",o.style.height=s+"px",this._a11yD!==!0){const u=this._focusElementContainer;u.style.width=i+"px",u.style.height=s+"px"}this._renderer.resize(r,a,i,s);const l=this._rootContainer;l.setPrivate("width",i),l.setPrivate("height",s),this._render(),this._handleLogo()}}_render(){this._renderer.render(this._rootContainer._display),this._focusElementDirty&&(this._updateCurrentFocus(),this._focusElementDirty=!1)}_runTickers(e){oe(this._tickers,n=>{n(e)})}_runAnimations(e){let n=0;return Nw(this._animations,i=>{const s=i._runAnimation(e);return s===qu.Stopped?!1:(s===qu.Playing&&++n,!0)}),this._isDirtyAnimation=!1,n===0}_runDirties(){let e={};for(;this._isDirtyParents;)this._isDirtyParents=!1,wi(this._dirtyParents).forEach(a=>{const o=this._dirtyParents[a];delete this._dirtyParents[a],o.isDisposed()||(e[o.uid]=o,o._prepareChildren())});wi(e).forEach(a=>{e[a]._updateChildren()});const n=[];wi(this._dirty).forEach(a=>{const o=this._dirty[a];o.isDisposed()?delete this._dirty[o.uid]:(n.push(o),o._beforeChanged())}),n.forEach(a=>{a._changed(),delete this._dirty[a.uid],a._clearDirty()}),this._isDirty=!1;const i={},s=[];wi(this._dirtyBounds).forEach(a=>{const o=this._dirtyBounds[a];delete this._dirtyBounds[a],o.isDisposed()||(i[o.uid]=o.depth(),s.push(o))}),this._positionHTMLElements(),s.sort((a,o)=>ja(i[o.uid],i[a.uid])),s.forEach(a=>{a._updateBounds()});const r=this._dirtyPositions;wi(r).forEach(a=>{const o=r[a];delete r[a],o.isDisposed()||o._updatePosition()}),n.forEach(a=>{a._afterChanged()})}_renderFrame(e){if(this._updateTick){this.events.isEnabled("framestarted")&&this.events.dispatch("framestarted",{type:"framestarted",target:this,timestamp:e}),this._checkComputedStyles(),this._runTickers(e);const n=this._runAnimations(e);return this._runDirties(),this._render(),this._renderer.resetImageArray(),this._positionHTMLElements(),this.events.isEnabled("frameended")&&this.events.dispatch("frameended",{type:"frameended",target:this,timestamp:e}),this._tickers.length===0&&n&&!this._isDirtyAnimation&&!this._isDirty}else return!0}_runTicker(e,n){this.isDisposed()||(this.animationTime=e,this._renderFrame(e)?(this._ticker=null,this.animationTime=null):this._paused||(n?this._ticker:vV(this.fps,this._ticker)))}_runTickerNow(e=1e4){if(!this.isDisposed()){const n=performance.now()+e;for(;;){const i=performance.now();if(i>=n){this.animationTime=null;break}if(this.animationTime=i,this._renderFrame(i)){this.animationTime=null;break}}}}_startTicker(){this._ticker===null&&(this.animationTime=null,this._ticker=e=>{this._runTicker(e)},vV(this.fps,this._ticker))}get updateTick(){return this._updateTick}set updateTick(e){this._updateTick=e,e&&this._startTicker()}_addDirtyEntity(e){this._isDirty=!0,this._dirty[e.uid]===void 0&&(this._dirty[e.uid]=e),this._startTicker()}_addDirtyParent(e){this._isDirty=!0,this._isDirtyParents=!0,this._dirtyParents[e.uid]===void 0&&(this._dirtyParents[e.uid]=e),this._startTicker()}_addDirtyBounds(e){this._isDirty=!0,this._dirtyBounds[e.uid]===void 0&&(this._dirtyBounds[e.uid]=e),this._startTicker()}_addDirtyPosition(e){this._isDirty=!0,this._dirtyPositions[e.uid]===void 0&&(this._dirtyPositions[e.uid]=e),this._startTicker()}_addAnimation(e){this._isDirtyAnimation=!0,this._animations.indexOf(e)===-1&&this._animations.push(e),this._startTicker()}_markDirty(){this._isDirty=!0}_markDirtyRedraw(){this.events.once("frameended",()=>{this._isDirty=!0,this._startTicker()})}eachFrame(e){return this._tickers.push(e),this._startTicker(),new Di(()=>{ns(this._tickers,e)})}markDirtyGlobal(e){e||(e=this.container),e.walkChildren(n=>{n instanceof st&&this.markDirtyGlobal(n),n.markDirty(),n.markDirtyBounds()})}width(){return Math.floor(this._getCalculatedSize(this._getRealSize()).width)}height(){return Math.floor(this._getCalculatedSize(this._getRealSize()).height)}dispose(){this._isDisposed||(this._isDisposed=!0,this._rootContainer.dispose(),this._renderer.dispose(),this.horizontalLayout.dispose(),this.verticalLayout.dispose(),this.interfaceColors.dispose(),oe(this._disposers,e=>{e.dispose()}),this._inner&&Gwe(this._inner),Ir(Pa.rootElements,this))}isDisposed(){return this._isDisposed}readerAlert(e){this._a11yD!==!0&&(this._readerAlertElement.innerHTML=sV(e))}setThemes(e){this._rootContainer.set("themes",e);const n=this.tooltipContainer;n&&n._applyThemes();const i=this.interfaceColors;i&&i._applyThemes()}_addTooltip(){if(!this.tooltipContainer){const e=this._tooltipContainerSettings,n=this._rootContainer.children.push(st.new(this,{position:"absolute",isMeasured:!1,width:Fe,height:Fe,layer:e?35:30,layerMargin:e||void 0}));this.tooltipContainer=n;const i=Wl.new(this,{});this.container.set("tooltip",i),i.hide(0),this._tooltip=i}}_registerTabindexOrder(e){this._a11yD!=!0&&(e.get("focusable")?ug(this._tabindexes,e):Ir(this._tabindexes,e),this._invalidateTabindexes())}_unregisterTabindexOrder(e){this._a11yD!=!0&&(Ir(this._tabindexes,e),this._invalidateTabindexes())}_invalidateTabindexes(){if(this._a11yD==!0)return;this._tabindexes.sort((n,i)=>{const s=n.get("tabindexOrder",0),r=i.get("tabindexOrder",0);return s==r?0:s>r?1:-1});const e=[];oe(this._tabindexes,(n,i)=>{n.getPrivate("focusElement")?this._moveFocusElement(i,n):this._makeFocusElement(i,n);const s=n.get("focusableGroup");s&&n.getPrivate("focusable")!==!1&&(e.indexOf(s)!==-1?n.getPrivate("focusElement").dom.setAttribute("tabindex","-1"):e.push(s))})}_updateCurrentFocus(){this._a11yD!=!0&&this._focusedSprite&&(this._decorateFocusElement(this._focusedSprite),this._positionFocusElement(this._focusedSprite))}_decorateFocusElement(e,n){if(this._a11yD==!0||(n||(n=e.getPrivate("focusElement").dom),!n))return;const i=e.get("role");i?n.setAttribute("role",i):n.removeAttribute("role");const s=e.get("ariaLabel");if(s){const g=_h(e,s);n.setAttribute("aria-label",g)}else n.removeAttribute("aria-label");const r=e.get("ariaLive");r?n.setAttribute("aria-live",r):n.removeAttribute("aria-live");const a=e.get("ariaChecked");a!=null&&i&&["checkbox","option","radio","menuitemcheckbox","menuitemradio","treeitem"].indexOf(i)!==-1?n.setAttribute("aria-checked",a?"true":"false"):n.removeAttribute("aria-checked");const o=e.get("ariaCurrent");o!=null?n.setAttribute("aria-current",o):n.removeAttribute("aria-current");const l=e.get("ariaSelected");l!=null&&i&&["gridcell","option","row","tab","columnheader","rowheader","treeitem"].indexOf(i)!==-1?n.setAttribute("aria-selected",l?"true":"false"):n.removeAttribute("aria-selected"),e.get("ariaHidden")?n.setAttribute("aria-hidden","true"):n.removeAttribute("aria-hidden");const u=e.get("ariaOrientation");u?n.setAttribute("aria-orientation",u):n.removeAttribute("aria-orientation");const d=e.get("ariaValueNow");d?n.setAttribute("aria-valuenow",d):n.removeAttribute("aria-valuenow");const c=e.get("ariaValueMin");c?n.setAttribute("aria-valuemin",c):n.removeAttribute("aria-valuemin");const f=e.get("ariaValueMax");f?n.setAttribute("aria-valuemax",f):n.removeAttribute("aria-valuemax");const h=e.get("ariaValueText");h?n.setAttribute("aria-valuetext",h):n.removeAttribute("aria-valuetext");const p=e.get("ariaControls");p?n.setAttribute("aria-controls",p):n.removeAttribute("aria-controls"),e.get("visible")&&e.get("opacity")!==0&&e.get("role")!="tooltip"&&!e.isHidden()&&e.getPrivate("focusable")!==!1?(n.getAttribute("tabindex")!="-1"&&n.setAttribute("tabindex",""+this.tabindex),n.removeAttribute("aria-hidden")):(n.removeAttribute("tabindex"),n.setAttribute("aria-hidden","true"))}_makeFocusElement(e,n){if(n.getPrivate("focusElement")||this._a11yD==!0)return;const i=document.createElement("div");n.get("role")!="tooltip"&&(i.tabIndex=this.tabindex),i.style.position="absolute",pd(i,!1);const s=[];n.setPrivate("focusElement",{dom:i,disposers:s}),this._decorateFocusElement(n),s.push(Nn(i,"focus",r=>{this._handleFocus(r)})),s.push(Nn(i,"blur",r=>{this._handleBlur(r)})),this._moveFocusElement(e,n)}_removeFocusElement(e){if(this._a11yD==!0)return;Ir(this._tabindexes,e);const n=e.getPrivate("focusElement");n&&(this._focusElementContainer.removeChild(n.dom),oe(n.disposers,s=>{s.dispose()}))}_hideFocusElement(e){if(this._a11yD==!0)return;const n=e.getPrivate("focusElement");n.dom.style.display="none"}_moveFocusElement(e,n){if(this._a11yD==!0)return;const i=this._focusElementContainer,s=n.getPrivate("focusElement").dom;if(s===this._focusElementContainer.children[e])return;const r=this._focusElementContainer.children[e+1];r?i.insertBefore(s,r):i.append(s)}_positionFocusElement(e){if(this._a11yD==!0||e==null)return;const n=e.globalBounds();let i=n.right==n.left?e.width():n.right-n.left,s=n.top==n.bottom?e.height():n.bottom-n.top;const r=this._settings.focusPadding!==void 0?this._settings.focusPadding:2;let a=n.left-r,o=n.top-r;i<0&&(a+=i,i=Math.abs(i)),s<0&&(o+=s,s=Math.abs(s));const l=e.getPrivate("focusElement").dom;l.style.top=o+"px",l.style.left=a+"px",l.style.width=i+r*2+"px",l.style.height=s+r*2+"px"}_getSpriteByFocusElement(e){let n;return QC(this._tabindexes,(i,s)=>i.getPrivate("focusElement").dom===e?(n=i,!1):!0),n}_handleFocus(e){if(this._a11yD==!0)return;const n=this._getSpriteByFocusElement(e.target);if(n){if(!n.isVisibleDeep()){this._focusNext(e.target,this._isShift?-1:1);return}this._positionFocusElement(n),this._focusedSprite=n,n.events.isEnabled("focus")&&n.events.dispatch("focus",{type:"focus",originalEvent:e,target:n})}}_focusNext(e,n,i){if(this._a11yD==!0)return;const s=Array.from(document.querySelectorAll(["a[href]","area[href]","button:not([disabled])","details","input:not([disabled])","iframe:not([disabled])","select:not([disabled])","textarea:not([disabled])",'[contentEditable=""]','[contentEditable="true"]','[contentEditable="TRUE"]','[tabindex]:not([tabindex^="-"])'].join(",")));let r=s.indexOf(e)+n;r<0?r=s.length-1:r>=s.length&&(r=0);const a=s[r];if(i&&n==-1){const o=this._getSpriteByFocusElement(a);if(o&&o.get("focusableGroup")==i){this._focusNext(a,n);return}}a.focus()}_handleBlur(e){if(this._a11yD==!0)return;const n=this._focusedSprite;n&&!n.isDisposed()&&n.events.isEnabled("blur")&&n.events.dispatch("blur",{type:"blur",originalEvent:e,target:n}),this._focusedSprite=void 0}updateTooltip(e){if(this._a11yD==!0)return;const n=sV(e._getText());let i=e.getPrivate("tooltipElement");e.get("role")=="tooltip"&&n!=""?(i||(i=this._makeTooltipElement(e)),i.innerHTML!=n&&(i.innerHTML=n),i.setAttribute("aria-hidden",e.isVisibleDeep()?"false":"true")):i&&(i.remove(),e.removePrivate("tooltipElement"))}_makeTooltipElement(e){const n=this._tooltipElementContainer,i=document.createElement("div");return i.style.position="absolute",i.style.width="1px",i.style.height="1px",i.style.overflow="hidden",i.style.clip="rect(1px, 1px, 1px, 1px)",pd(i,!1),this._decorateFocusElement(e,i),n.append(i),e.setPrivate("tooltipElement",i),i}_removeTooltipElement(e){if(this._a11yD==!0)return;const n=e.getPrivate("tooltipElement");if(n){const i=n.parentElement;i&&i.removeChild(n)}}_invalidateAccessibility(e){if(this._a11yD==!0)return;this._focusElementDirty=!0;const n=e.getPrivate("focusElement");e.get("focusable")?n&&(this._decorateFocusElement(e),this._positionFocusElement(e)):n&&this._removeFocusElement(e)}focused(e){return this._focusedSprite===e}documentPointToRoot(e){const n=this._getRealSize(),i=this._getCalculatedSize(n),s=i.width/n.width,r=i.height/n.height;return{x:(e.x-n.left)*s,y:(e.y-n.top)*r}}rootPointToDocument(e){const n=this._getRealSize(),i=this._getCalculatedSize(n),s=i.width/n.width,r=i.height/n.height;return{x:e.x/s+n.left,y:e.y/r+n.top}}addDisposer(e){return this._disposers.push(e),e}_updateComputedStyles(){const e=window.getComputedStyle(this.dom);let n="";sn(e,(s,r)=>{mh(s)&&s.match(/^font/)&&(n+=r)});const i=n!=this._fontHash;return i&&(this._fontHash=n),i}_checkComputedStyles(){this._updateComputedStyles()&&this._invalidateLabelBounds(this.container)}_invalidateLabelBounds(e){e instanceof st?e.children.each(n=>{this._invalidateLabelBounds(n)}):e instanceof vc&&e.markDirtyBounds()}_hasLicense(){for(let e=0;e<Pa.licenses.length;e++)if(Pa.licenses[e].match(/^AM5C.{5,}/i))return!0;return!1}_licenseApplied(){this._logo&&this._logo.set("forceHidden",!0)}get debugGhostView(){return this._renderer.debugGhostView}set debugGhostView(e){this._renderer.debugGhostView=e}set tapToActivate(e){this._renderer.tapToActivate=e}get tapToActivate(){return this._renderer.tapToActivate}set tapToActivateTimeout(e){this._renderer.tapToActivateTimeout=e}get tapToActivateTimeout(){return this._renderer.tapToActivateTimeout}_makeHTMLElement(e){const n=this._htmlElementContainer,i=document.createElement("div");return e.setPrivate("htmlElement",i),i.style.position="absolute",i.style.overflow="auto",i.style.boxSizing="border-box",pd(i,e.get("interactive",!1)),e.events.isEnabled("click")&&(pd(i,!0),this._disposers.push(Nn(i,"click",s=>{const r=this._renderer.getEvent(s);e.events.dispatch("click",{type:"click",originalEvent:r.event,point:r.point,simulated:!1,target:e})}))),this._positionHTMLElement(e),n.append(i),ug(this._htmlEnabledContainers,e),i}_positionHTMLElements(){oe(this._htmlEnabledContainers,e=>{this._positionHTMLElement(e)})}_positionHTMLElement(e){const n=e.getPrivate("htmlElement");if(n){oe(["paddingTop","paddingRight","paddingBottom","paddingLeft","minWidth","minHeight","maxWidth","maxHeight"],b=>{const x=e.get(b);x?n.style[b]=x+"px":n.style[b]=""}),oe(["fontFamily","fontSize","fontStyle","fontWeight","fontStyle","fontVariant","textDecoration"],b=>{const x=e.get(b);x?n.style[b]=x+"":n.style[b]=""});const r=e.compositeScale()||1,a=e.compositeRotation()||0;n.style.transform="",n.style.transformOrigin="";const o=e.compositeOpacity();setTimeout(()=>{n.style.opacity=o+""},10);const l=e.isVisibleDeep();l&&(n.style.display="block");let u={x:e.x()+e.get("dx",0),y:e.y()+e.get("dy",0)};e.parent&&(u=e.parent.toGlobal(u)),n.style.top=u.y+"px",n.style.left=u.x+"px";const d=e.get("width"),c=e.get("height");let f=0,h=0;if(d&&(f=e.width()),c&&(h=e.height()),!d||!c){n.style.position="fixed",n.style.width="",n.style.height="";const b=n.getBoundingClientRect();n.style.position="absolute",d||(f=b.width),c||(h=b.height);let x=f/r,k=h/r,I=e.get("centerX",0),E=e.get("centerY",0),T=0,S=0,w=0,P=0;I instanceof xt?(T=-I.value*x,S=(1-I.value)*x):(T=-I,S=x-I),E instanceof xt?(w=-E.value*k,P=(1-E.value)*k):(w=-E,P=k-E),e._localBounds={left:T,right:S,top:w,bottom:P};let C=e._adjustedLocalBounds,D=e._display.getAdjustedBounds(e._localBounds);e._adjustedLocalBounds=D,(C.left!==D.left||C.right!==D.right||C.top!==D.top||C.bottom!==D.bottom)&&e.markDirtyBounds()}f>0&&(n.style.minWidth=f+"px"),h>0&&(n.style.minHeight=h+"px"),(!l||o==0)&&(n.style.display="none");const p=e.get("centerX",0),g=eV(p)?p.percent+"%":p+"px",v=e.get("centerY",0),_=eV(v)?v.percent+"%":v+"px";(p||v)&&(n.style.transform="translate(-"+g+", -"+_+")"+n.style.transform),r!=1&&(n.style.transform+="scale("+r+")"),a!=0&&(n.style.transform+=" rotate("+a+"deg)"),n.style.transform!=""&&(n.style.transformOrigin=g+" "+_)}}_setHTMLContent(e,n){let i=e.getPrivate("htmlElement");i||(i=this._makeHTMLElement(e)),i.innerHTML!=n&&(i.innerHTML=n)}_removeHTMLContent(e){let n=e.getPrivate("htmlElement");n&&(this._htmlElementContainer.removeChild(n),e.removePrivate("htmlElement")),Ir(this._htmlEnabledContainers,e)}}let dv;function xxe(t,e,n){const i=e.interfaceColors,s=i.get("secondaryButton").toCSS(),r=i.get("text").toCSS(),a=i.get("alternativeBackground").toCSS(.45);if(!dv){const o=new Os([new Gi(t,".am5-modal",{width:"100%",height:"100%",position:"absolute","z-index":"100000",top:"0",left:"0"},e.nonce),new Gi(t,".am5-modal-curtain",{top:"0",left:"0",width:"100%",height:"100%",position:"absolute",background:i.get("background").toCSS(.5),"z-index":"100"},e.nonce),new Gi(t,".am5-modal-wrapper",{top:"0",left:"0",width:"100%",height:"100%",position:"absolute","text-align":"center","white-space":"nowrap",background:i.get("background").toCSS(.5),"z-index":"101"},e.nonce),new Gi(t,".am5-modal-wrapper:before",{content:"''",display:"inline-block",height:"100%","vertical-align":"middle","margin-right":"-0.25em"},e.nonce),new Gi(t,".am5-modal-content",{display:"inline-block",padding:"1.2em","vertical-align":"middle","text-align":"start","white-space":"normal",background:i.get("background").toCSS(),"border-radius":"4px","-webkit-box-shadow":"0px 0px 36px 0px "+a,"box-shadow":"0px 0px 36px 0px "+a,color:r},e.nonce),new Gi(t,".am5-modal-content h1",{"font-size":"1em",margin:"0 0 0.5em 0"},e.nonce),new Gi(t,".am5-modal-table",{display:"table",margin:"1em 0"},e.nonce),new Gi(t,".am5-modal-table-row",{display:"table-row"},e.nonce),new Gi(t,".am5-modal-table-heading",{display:"table-heading",padding:"3px 10px 3px 0"},e.nonce),new Gi(t,".am5-modal-table-cell",{display:"table-cell",padding:"3px 0 3px 0"},e.nonce),new Gi(t,".am5-modal-table-cell > *",{"vertical-align":"middle"},e.nonce),new Gi(t,".am5-modal-content input[type=text], .am5-modal-content input[type=number], .am5-modal-content select",{border:"1px solid "+s,"border-radius":"4px",padding:"3px 5px",margin:"2px"},e.nonce),new Gi(t,".am5-modal-input-narrow",{width:"50px"},e.nonce),new Gi(t,".am5-modal-button",{"font-weight":"400",color:i.get("secondaryButtonText").toCSS(),"line-height":"1.5","text-align":"center","text-decoration":"none","vertical-align":"middle",cursor:"pointer",padding:"0.2em 0.8em","font-size":"1em","border-radius":"0.25em",margin:"0 0.25em 0 0",border:"1px solid "+i.get("secondaryButtonStroke").toCSS(),background:i.get("secondaryButton").toCSS()},e.nonce),new Gi(t,".am5-modal-button:hover",{background:i.get("secondaryButtonHover").toCSS()},e.nonce),new Gi(t,".am5-modal-button.am5-modal-primary",{color:i.get("primaryButtonText").toCSS(),border:"1px solid "+i.get("primaryButtonStroke").toCSS(),background:i.get("primaryButton").toCSS()},e.nonce),new Gi(t,".am5-modal-button.am5-modal-primary:hover",{background:i.get("primaryButtonHover").toCSS()},e.nonce)]);dv=new JC(()=>{dv=void 0,o.dispose()})}return dv.increment()}class yh extends Ei{_afterNew(){super._afterNewApplyThemes(),this._setRawDefault("deactivateRoot",!0),xxe(Jwe(this._root.dom),this._root);const e=document.createElement("div");e.className="am5-modal",e.style.display="none",this.root._inner.appendChild(e),this.setPrivate("container",e);const n=document.createElement("div");n.className="am5-modal-curtain",e.appendChild(n),this.setPrivate("curtain",n),this._disposers.push(Nn(n,"click",()=>{this.cancel()}));const i=document.createElement("div");i.className="am5-modal-wrapper",e.appendChild(i),this.setPrivate("wrapper",i);const s=document.createElement("div");s.className="am5-modal-content",i.appendChild(s),this.setPrivate("content",s);const r=this.get("content");r&&(s.innerHTML=r),Fa("keyboardevents")&&this._disposers.push(Nn(document,"keydown",a=>{this.isOpen()&&Sd(a)=="Escape"&&this.cancel()}))}_beforeChanged(){super._beforeChanged(),this.isDirty("content")&&(this.getPrivate("content").innerHTML=this.get("content",""))}isOpen(){return this.getPrivate("container").style.display!="none"}open(){this.getPrivate("container").style.display="block",this.get("deactivateRoot")&&this.setTimeout(()=>{this._root._renderer.interactionsEnabled=!1},10),this.events.dispatch("opened",{type:"opened",target:this})}close(){this.getPrivate("container").style.display="none",this.get("deactivateRoot")&&(this._root._renderer.interactionsEnabled=!0),this.events.dispatch("closed",{type:"closed",target:this})}cancel(){this.getPrivate("container").style.display="none",this.get("deactivateRoot")&&(this._root._renderer.interactionsEnabled=!0),this.events.dispatch("cancelled",{type:"cancelled",target:this})}_dispose(){super._dispose();const e=this.getPrivate("container");e.parentElement&&e.parentElement.removeChild(e)}}Object.defineProperty(yh,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Modal"});Object.defineProperty(yh,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Ei.classNames.concat([yh.className])});class by extends Ei{constructor(){super(...arguments),Object.defineProperty(this,"_index",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"series",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}_afterNew(){super._afterNewApplyThemes()}_beforeChanged(){if(super._beforeChanged(),this.isDirty("sprite")){const e=this.get("sprite");e&&(e.setAll({position:"absolute",role:"figure"}),this._disposers.push(e))}(this.isDirty("locationX")||this.isDirty("locationY"))&&this.series&&this.series._positionBullet(this)}}Object.defineProperty(by,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Bullet"});Object.defineProperty(by,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Ei.classNames.concat([by.className])});class Ga extends tr{_beforeChanged(){super._beforeChanged(),(this.isDirty("cornerRadiusTL")||this.isDirty("cornerRadiusTR")||this.isDirty("cornerRadiusBR")||this.isDirty("cornerRadiusBL"))&&(this._clear=!0)}_draw(){let e=this.width(),n=this.height(),i=e,s=n,r=i/Math.abs(e),a=s/Math.abs(n);if(me(i)&&me(s)){let o=Math.min(i,s)/2,l=Qn(this.get("cornerRadiusTL",8),o),u=Qn(this.get("cornerRadiusTR",8),o),d=Qn(this.get("cornerRadiusBR",8),o),c=Qn(this.get("cornerRadiusBL",8),o),f=Math.min(Math.abs(i/2),Math.abs(s/2));l=Kn(l,0,f),u=Kn(u,0,f),d=Kn(d,0,f),c=Kn(c,0,f);const h=this._display;h.moveTo(l*r,0),h.lineTo(i-u*r,0),u>0&&h.arcTo(i,0,i,u*a,u),h.lineTo(i,s-d*a),d>0&&h.arcTo(i,s,i-d*r,s,d),h.lineTo(c*r,s),c>0&&h.arcTo(0,s,0,s-c*a,c),h.lineTo(0,l*a),l>0&&h.arcTo(0,0,l*r,0,l),h.closePath()}}}Object.defineProperty(Ga,"className",{enumerable:!0,configurable:!0,writable:!0,value:"RoundedRectangle"});Object.defineProperty(Ga,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:tr.classNames.concat([Ga.className])});class fg extends st{_afterNew(){this._settings.themeTags=Vt(this._settings.themeTags,["button"]),super._afterNew(),this._settings.background||this.set("background",Ga.new(this._root,{themeTags:Vt(this._settings.themeTags,["background"])})),this.setPrivate("trustBounds",!0)}_prepareChildren(){if(super._prepareChildren(),this.isDirty("icon")){const e=this._prevSettings.icon,n=this.get("icon");n!==e&&(this._disposeProperty("icon"),e&&e.dispose(),n&&this.children.push(n),this._prevSettings.icon=n)}if(this.isDirty("label")){const e=this._prevSettings.label,n=this.get("label");n!==e&&(this._disposeProperty("label"),e&&e.dispose(),n&&this.children.push(n),this._prevSettings.label=n)}}}Object.defineProperty(fg,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Button"});Object.defineProperty(fg,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:st.classNames.concat([fg.className])});class Sxe extends Zh{constructor(){super(...arguments),Object.defineProperty(this,"processor",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}incrementRef(){}decrementRef(){}_onPush(e){this.processor&&this.processor.processRow(e),super._onPush(e)}_onInsertIndex(e,n){this.processor&&this.processor.processRow(n),super._onInsertIndex(e,n)}_onSetIndex(e,n,i){this.processor&&this.processor.processRow(i),super._onSetIndex(e,n,i)}}class aa extends HU{constructor(e,n,i){super(i),Object.defineProperty(this,"component",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"dataContext",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"bullets",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"open",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"close",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.dataContext=n,this.component=e,this._settings.visible=!0,this._checkDirty()}markDirty(){this.component.markDirtyValues(this)}_startAnimation(){this.component._root._addAnimation(this)}_animationTime(){return this.component._root.animationTime}_dispose(){this.component&&this.component.disposeDataItem(this),super._dispose()}show(e){this.setRaw("visible",!0),this.component&&this.component.showDataItem(this,e)}hide(e){this.setRaw("visible",!1),this.component&&this.component.hideDataItem(this,e)}isHidden(){return!this.get("visible")}}class _c extends st{constructor(){super(...arguments),Object.defineProperty(this,"_data",{enumerable:!0,configurable:!0,writable:!0,value:new Sxe}),Object.defineProperty(this,"_dataItems",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_mainDataItems",{enumerable:!0,configurable:!0,writable:!0,value:this._dataItems}),Object.defineProperty(this,"valueFields",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"fields",{enumerable:!0,configurable:!0,writable:!0,value:["id"]}),Object.defineProperty(this,"_valueFields",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_valueFieldsF",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_fields",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_fieldsF",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_valuesDirty",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_dataChanged",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_dataGrouped",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"inited",{enumerable:!0,configurable:!0,writable:!0,value:!1})}set data(e){e.incrementRef(),this._data.decrementRef(),this._data=e}get data(){return this._data}_dispose(){super._dispose(),this._data.decrementRef()}_onDataClear(){}_afterNew(){super._afterNew(),this._data.incrementRef(),this._updateFields(),this._disposers.push(this.data.events.onAll(e=>{const n=this._mainDataItems;if(this.markDirtyValues(),this._markDirtyGroup(),this._dataChanged=!0,e.type==="clear")oe(n,i=>{i.dispose()}),n.length=0,this._onDataClear();else if(e.type==="push"){const i=new aa(this,e.newValue,this._makeDataItem(e.newValue));n.push(i),this.processDataItem(i)}else if(e.type==="setIndex"){const i=n[e.index],s=this._makeDataItem(e.newValue);i.bullets&&i.bullets.length==0&&(i.bullets=void 0),wi(s).forEach(r=>{i.animate({key:r,to:s[r],duration:this.get("interpolationDuration",0),easing:this.get("interpolationEasing")})}),i.dataContext=e.newValue}else if(e.type==="insertIndex"){const i=new aa(this,e.newValue,this._makeDataItem(e.newValue));n.splice(e.index,0,i),this.processDataItem(i)}else if(e.type==="removeIndex")n[e.index].dispose(),n.splice(e.index,1);else if(e.type==="moveIndex"){const i=n[e.oldIndex];n.splice(e.oldIndex,1),n.splice(e.newIndex,0,i)}else throw new Error("Unknown IStreamEvent type");this._afterDataChange()}))}_updateFields(){this.valueFields&&(this._valueFields=[],this._valueFieldsF={},oe(this.valueFields,e=>{this.get(e+"Field")&&(this._valueFields.push(e),this._valueFieldsF[e]={fieldKey:e+"Field",workingKey:e+"Working"})})),this.fields&&(this._fields=[],this._fieldsF={},oe(this.fields,e=>{this.get(e+"Field")&&(this._fields.push(e),this._fieldsF[e]=e+"Field")}))}get dataItems(){return this._dataItems}processDataItem(e){}_makeDataItem(e){const n={};return this._valueFields&&oe(this._valueFields,i=>{const s=this.get(this._valueFieldsF[i].fieldKey);n[i]=e[s],n[this._valueFieldsF[i].workingKey]=n[i]}),this._fields&&oe(this._fields,i=>{const s=this.get(this._fieldsF[i]);n[i]=e[s]}),n}makeDataItem(e,n){let i=new aa(this,n,e);return this.processDataItem(i),i}pushDataItem(e,n){const i=this.makeDataItem(e,n);return this._mainDataItems.push(i),i}disposeDataItem(e){}showDataItem(e,n){return Si(this,void 0,void 0,function*(){e.set("visible",!0)})}hideDataItem(e,n){return Si(this,void 0,void 0,function*(){e.set("visible",!1)})}_clearDirty(){super._clearDirty(),this._valuesDirty=!1}_afterDataChange(){}_afterChanged(){if(super._afterChanged(),this._dataChanged){const e="datavalidated";this.events.isEnabled(e)&&this.events.dispatch(e,{type:e,target:this}),this._dataChanged=!1}this.inited=!0}markDirtyValues(e){this.markDirty(),this._valuesDirty=!0}_markDirtyGroup(){this._dataGrouped=!1}markDirtySize(){this._sizeDirty=!0,this.markDirty()}}Object.defineProperty(_c,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Component"});Object.defineProperty(_c,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:st.classNames.concat([_c.className])});function kxe(t){return new Promise((e,n)=>{setTimeout(e,t)})}let iE={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:365.242/12*864e5,year:31536e6};function GU(t){switch(t){case"year":return;case"month":return"year";case"week":return"month";case"day":return"month";case"hour":return"day";case"minute":return"hour";case"second":return"minute";case"millisecond":return"second"}}function Ji(t,e){return e==null&&(e=1),iE[t]*e}function Ur(t){return t?iE[t.timeUnit]*t.count:0}function Sx(t,e,n,i,s){const r=t.timeUnit,a=t.count;if(r=="hour"||r=="minute"||r=="second"||r=="millisecond")return iE[t.timeUnit]*t.count;{const o=Xu(new Date(e.getTime()),r,a,n,i,void 0,s).getTime();let l=o+a*Ji(r)*1.05;return l=Xu(new Date(l),r,1,n,i,void 0,s).getTime(),l-o}}function qU(t,e,n,i,s){if(e-t>Ji(n,1.2))return!0;let r=new Date(t),a=new Date(e);s&&(r=s.convertLocal(r),a=s.convertLocal(a));let o=0,l=0;!i&&n!="millisecond"&&(o=r.getTimezoneOffset(),r.setUTCMinutes(r.getUTCMinutes()-o),l=a.getTimezoneOffset(),a.setUTCMinutes(a.getUTCMinutes()-l));let u=!1;switch(n){case"year":r.getUTCFullYear()!=a.getUTCFullYear()&&(u=!0);break;case"month":(r.getUTCFullYear()!=a.getUTCFullYear()||r.getUTCMonth()!=a.getUTCMonth())&&(u=!0);break;case"day":(r.getUTCMonth()!=a.getUTCMonth()||r.getUTCDate()!=a.getUTCDate())&&(u=!0);break;case"hour":r.getUTCHours()!=a.getUTCHours()&&(u=!0);break;case"minute":r.getUTCMinutes()!=a.getUTCMinutes()&&(u=!0);break;case"second":r.getUTCSeconds()!=a.getUTCSeconds()&&(u=!0);break;case"millisecond":r.getTime()!=a.getTime()&&(u=!0);break}if(u)return u;let d=GU(n);return d?qU(t,e,d,i,s):!1}function Txe(t,e,n,i,s){let r=0;switch(r=t.getTimezoneOffset(),t.setUTCMinutes(t.getUTCMinutes()-r),e){case"day":let a=t.getUTCDate();t.setUTCDate(a+n);break;case"second":let o=t.getUTCSeconds();t.setUTCSeconds(o+n);break;case"millisecond":let l=t.getUTCMilliseconds();t.setUTCMilliseconds(l+n);break;case"hour":let u=t.getUTCHours();t.setUTCHours(u+n);break;case"minute":let d=t.getUTCMinutes();t.setUTCMinutes(d+n);break;case"year":let c=t.getUTCFullYear();t.setUTCFullYear(c+n);break;case"month":const f=t.getUTCDate(),h=new Date(t.getUTCFullYear(),t.getUTCMonth(),0).getUTCDate();let p=t.getUTCMonth();f>h?t.setUTCMonth(p+n,h):t.setUTCMonth(p+n);break;case"week":let g=t.getUTCDate();t.setUTCDate(g+n*7);break}{t.setUTCMinutes(t.getUTCMinutes()+r);{let a=t.getTimezoneOffset();if(a!=r){let o=a-r;t.setUTCMinutes(t.getUTCMinutes()+o),t.getTimezoneOffset()!=a&&t.setUTCMinutes(t.getUTCMinutes()-o)}}}return t}function li(t,e,n,i,s){let r;return s!=null&&(r=new Date(s)),Xu(new Date(t),e,n,i.locale.firstDayOfWeek,i.utc,r,i.timezone).getTime()}function Xu(t,e,n,i,s,r,a){if(!a||s){let o=0;switch(!s&&e!="millisecond"&&(o=t.getTimezoneOffset(),t.setUTCMinutes(t.getUTCMinutes()-o)),e){case"day":let l=t.getUTCDate();if(n>1){if(r){r=Xu(r,"day",1);let _=t.getTime()-r.getTime(),b=Math.floor(_/Ji("day")/n),x=Ji("day",b*n);t.setTime(r.getTime()+x-o*Ji("minute"))}}else t.setUTCDate(l);t.setUTCHours(0,0,0,0);break;case"second":let u=t.getUTCSeconds();n>1&&(u=Math.floor(u/n)*n),t.setUTCSeconds(u,0);break;case"millisecond":if(n==1)return t;let d=t.getUTCMilliseconds();d=Math.floor(d/n)*n,t.setUTCMilliseconds(d);break;case"hour":let c=t.getUTCHours();n>1&&(c=Math.floor(c/n)*n),t.setUTCHours(c,0,0,0);break;case"minute":let f=t.getUTCMinutes();n>1&&(f=Math.floor(f/n)*n),t.setUTCMinutes(f,0,0);break;case"month":let h=t.getUTCMonth();n>1&&(h=Math.floor(h/n)*n),t.setUTCMonth(h,1),t.setUTCHours(0,0,0,0);break;case"year":let p=t.getUTCFullYear();n>1&&(p=Math.floor(p/n)*n),t.setUTCFullYear(p,0,1),t.setUTCHours(0,0,0,0);break;case"week":if(n>1&&r){r=Xu(r,"week",1);let _=t.getTime()-r.getTime(),b=Math.floor(_/Ji("week")/n),x=Ji("week",b*n);t.setTime(r.getTime()+x-o*Ji("minute"))}let g=t.getUTCDate(),v=t.getUTCDay();me(i)||(i=1),v>=i?g=g-v+i:g=g-(7+v)+i,t.setUTCDate(g),t.setUTCHours(0,0,0,0);break}if(!s&&e!="millisecond"&&(t.setUTCMinutes(t.getUTCMinutes()+o),e=="day"||e=="week"||e=="month"||e=="year")){let l=t.getTimezoneOffset();if(l!=o){let u=l-o;t.setUTCMinutes(t.getUTCMinutes()+u)}}return t}else{if(isNaN(t.getTime()))return t;let o=a.offsetUTC(t),l=t.getTimezoneOffset(),u=a.parseDate(t),d=u.year,c=u.month,f=u.day,h=u.hour,p=u.minute,g=u.second,v=u.millisecond,_=u.weekday,b=o-l;switch(e){case"day":if(n>1&&r){r=Xu(r,"day",1,i,s,void 0,a);let E=t.getTime()-r.getTime(),T=Math.floor(E/Ji("day")/n),S=Ji("day",T*n);t.setTime(r.getTime()+S),u=a.parseDate(t),d=u.year,c=u.month,f=u.day}h=0,p=b,g=0,v=0;break;case"second":p+=b,n>1&&(g=Math.floor(g/n)*n),v=0;break;case"millisecond":p+=b,n>1&&(v=Math.floor(v/n)*n);break;case"hour":n>1&&(h=Math.floor(h/n)*n),p=b,g=0,v=0;break;case"minute":n>1&&(p=Math.floor(p/n)*n),p+=b,g=0,v=0;break;case"month":n>1&&(c=Math.floor(c/n)*n),f=1,h=0,p=b,g=0,v=0;break;case"year":n>1&&(d=Math.floor(d/n)*n),c=0,f=1,h=0,p=b,g=0,v=0;break;case"week":me(i)||(i=1),_>=i?f=f-_+i:f=f-(7+_)+i,h=0,p=b,g=0,v=0;break}t=new Date(d,c,f,h,p,g,v);let x=t.getTimezoneOffset(),I=a.offsetUTC(t)-x;return I!=b&&t.setTime(t.getTime()+(I-b)*6e4),t}}function xk(t,e,n,i){let s=i[t],r=Ur(s),a=i.length-1;if(t>=a)return Object.assign({},i[a]);let o=Math.ceil(e/r);return e<r&&t>0?Object.assign({},i[t-1]):o<=n?Object.assign({},i[t]):t+1<i.length?xk(t+1,e,n,i):Object.assign({},i[t])}class Fo extends _c{constructor(){super(...arguments),Object.defineProperty(this,"_aggregatesCalculated",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_selectionAggregatesCalculated",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_dataProcessed",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_psi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_pei",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"chart",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"bullets",{enumerable:!0,configurable:!0,writable:!0,value:new Zh}),Object.defineProperty(this,"bulletsContainer",{enumerable:!0,configurable:!0,writable:!0,value:st.new(this._root,{width:Fe,height:Fe,position:"absolute"})})}_afterNew(){this.valueFields.push("value","customValue"),super._afterNew(),this.setPrivate("customData",{}),this._disposers.push(this.bullets.events.onAll(e=>{if(e.type==="clear")this._handleBullets(this.dataItems);else if(e.type==="push")this._handleBullets(this.dataItems);else if(e.type==="setIndex")this._handleBullets(this.dataItems);else if(e.type==="insertIndex")this._handleBullets(this.dataItems);else if(e.type==="removeIndex")this._handleBullets(this.dataItems);else if(e.type==="moveIndex")this._handleBullets(this.dataItems);else throw new Error("Unknown IListEvent type")}))}_dispose(){this.bulletsContainer.dispose(),super._dispose()}startIndex(){let e=this.dataItems.length;return Math.min(this.getPrivate("startIndex",0),e)}endIndex(){let e=this.dataItems.length;return Math.min(this.getPrivate("endIndex",e),e)}_handleBullets(e){oe(e,n=>{const i=n.bullets;i&&(oe(i,s=>{s.dispose()}),n.bullets=void 0)}),this.markDirtyValues()}getDataItemById(e){return AU(this.dataItems,n=>n.get("id")==e)}_makeBullets(e){this._shouldMakeBullet(e)&&(e.bullets=[],this.bullets.each(n=>{this._makeBullet(e,n)}))}_shouldMakeBullet(e){return!0}_makeBullet(e,n,i){const s=n(this._root,this,e);return s&&(s._index=i,this._makeBulletReal(e,s)),s}_makeBulletReal(e,n){let i=n.get("sprite");i&&(i._setDataItem(e),i.setRaw("position","absolute"),this.bulletsContainer.children.push(i)),n.series=this,e.bullets.push(n)}addBullet(e,n){e.bullets||(e.bullets=[]),n&&this._makeBulletReal(e,n)}_clearDirty(){super._clearDirty(),this._aggregatesCalculated=!1,this._selectionAggregatesCalculated=!1}_prepareChildren(){super._prepareChildren();let e=this.startIndex(),n=this.endIndex();if(this.isDirty("name")&&this.updateLegendValue(),this.isDirty("heatRules")&&(this._valuesDirty=!0),this.isPrivateDirty("baseValueSeries")){const s=this.getPrivate("baseValueSeries");s&&this._disposers.push(s.onPrivate("startIndex",()=>{this.markDirtyValues()}))}if(this.get("calculateAggregates")&&(this._valuesDirty&&!this._dataProcessed&&(this._aggregatesCalculated||(this._calculateAggregates(0,this.dataItems.length),this._aggregatesCalculated=!0,e!=0&&(this._psi=void 0))),(this._psi!=e||this._pei!=n||this.isPrivateDirty("adjustedStartIndex"))&&!this._selectionAggregatesCalculated&&(e===0&&n===this.dataItems.length&&this._aggregatesCalculated||this._calculateAggregates(e,n),this._selectionAggregatesCalculated=!0)),this.isDirty("tooltip")){let s=this.get("tooltip");s&&(s.hide(0),s.set("tooltipTarget",this))}if(this.isDirty("fill")||this.isDirty("stroke")){let s;const r=this.get("legendDataItem");if(r&&(s=r.get("markerRectangle"),s&&this.isVisible())){if(this.isDirty("stroke")){let a=this.get("stroke");s.set("stroke",a)}if(this.isDirty("fill")){let a=this.get("fill");s.set("fill",a)}}this.updateLegendMarker(void 0)}if(this.bullets.length>0){let s=this.startIndex(),r=this.endIndex();r<this.dataItems.length&&r++;for(let a=s;a<r;a++){let o=this.dataItems[a];o.bullets||this._makeBullets(o)}}}_adjustStartIndex(e){return e}_calculateAggregates(e,n){let i=this._valueFields;if(!i)throw new Error("No value fields are set for the series.");const s={},r={},a={},o={},l={},u={},d={},c={},f={};oe(i,h=>{s[h]=0,r[h]=0,a[h]=0}),oe(i,h=>{let p=h+"Change",g=h+"ChangePercent",v=h+"ChangePrevious",_=h+"ChangePreviousPercent",b=h+"ChangeSelection",x=h+"ChangeSelectionPercent",k="valueY";(h=="valueX"||h=="openValueX"||h=="lowValueX"||h=="highValueX")&&(k="valueX");const I=this.getPrivate("baseValueSeries"),E=this.getPrivate("adjustedStartIndex",e);for(let T=E;T<n;T++){const S=this.dataItems[T];if(S){let w=S.get(h);w!=null&&(a[h]++,s[h]+=w,r[h]+=Math.abs(w),c[h]=s[h]/a[h],(o[h]>w||o[h]==null)&&(o[h]=w),(l[h]<w||l[h]==null)&&(l[h]=w),d[h]=w,u[h]==null&&(u[h]=w,f[h]=w,I&&(u[k]=I._getBase(k))),e===0&&(S.setRaw(p,w-u[k]),S.setRaw(g,(w-u[k])/u[k]*100)),S.setRaw(v,w-f[k]),S.setRaw(_,(w-f[k])/f[k]*100),S.setRaw(b,w-u[k]),S.setRaw(x,(w-u[k])/u[k]*100),f[h]=w)}}if(n<this.dataItems.length-1){const T=this.dataItems[n];if(T){let S=T.get(h);T.setRaw(v,S-f[k]),T.setRaw(_,(S-f[k])/f[k]*100),T.setRaw(b,S-u[k]),T.setRaw(x,(S-u[k])/u[k]*100)}}e>0&&e--,delete f[h];for(let T=e;T<E;T++){const S=this.dataItems[T];if(S){let w=S.get(h);f[h]==null&&(f[h]=w),w!=null&&(S.setRaw(v,w-f[k]),S.setRaw(_,(w-f[k])/f[k]*100),S.setRaw(b,w-u[k]),S.setRaw(x,(w-u[k])/u[k]*100),f[h]=w)}}}),oe(i,h=>{this.setPrivate(h+"AverageSelection",c[h]),this.setPrivate(h+"CountSelection",a[h]),this.setPrivate(h+"SumSelection",s[h]),this.setPrivate(h+"AbsoluteSumSelection",r[h]),this.setPrivate(h+"LowSelection",o[h]),this.setPrivate(h+"HighSelection",l[h]),this.setPrivate(h+"OpenSelection",u[h]),this.setPrivate(h+"CloseSelection",d[h])}),e===0&&n===this.dataItems.length&&oe(i,h=>{this.setPrivate(h+"Average",c[h]),this.setPrivate(h+"Count",a[h]),this.setPrivate(h+"Sum",s[h]),this.setPrivate(h+"AbsoluteSum",r[h]),this.setPrivate(h+"Low",o[h]),this.setPrivate(h+"High",l[h]),this.setPrivate(h+"Open",u[h]),this.setPrivate(h+"Close",d[h])})}_updateChildren(){super._updateChildren(),this._psi=this.startIndex(),this._pei=this.endIndex(),this.isDirty("visible")&&this.bulletsContainer.set("visible",this.get("visible"));const e=this.get("heatRules");if(this._valuesDirty&&e&&e.length>0&&oe(e,n=>{const i=n.minValue||this.getPrivate(n.dataField+"Low")||0,s=n.maxValue||this.getPrivate(n.dataField+"High")||0;oe(n.target._entities,r=>{const a=r.dataItem.get(n.dataField);if(!me(a)){n.neutral&&r.set(n.key,n.neutral);const o=r.states;if(o){const l=o.lookup("default");l&&n.neutral&&l.set(n.key,n.neutral)}if(!n.customFunction)return}if(n.customFunction)n.customFunction.call(this,r,i,s,a);else{let o;n.logarithmic?o=(Math.log(a)*Math.LOG10E-Math.log(i)*Math.LOG10E)/(Math.log(s)*Math.LOG10E-Math.log(i)*Math.LOG10E):o=(a-i)/(s-i),me(a)&&(!me(o)||Math.abs(o)==1/0)&&(o=.5);let l;me(n.min)?l=n.min+(n.max-n.min)*o:n.min instanceof tt?l=tt.interpolate(o,n.min,n.max):n.min instanceof xt&&(l=jU(o,n.min,n.max)),r.set(n.key,l);const u=r.states;if(u){const d=u.lookup("default");d&&d.set(n.key,l)}}})}),this.get("visible")){let n=this.dataItems.length,i=this.startIndex(),s=this.endIndex();s<n&&s++,i>0&&i--;for(let r=0;r<i;r++)this._hideBullets(this.dataItems[r]);for(let r=i;r<s;r++)this._positionBullets(this.dataItems[r]);for(let r=s;r<n;r++)this._hideBullets(this.dataItems[r])}}_positionBullets(e){e.bullets&&oe(e.bullets,n=>{this._positionBullet(n);const i=n.get("sprite");n.get("dynamic")&&(i&&(i._markDirtyKey("fill"),i.markDirtySize()),i instanceof st&&i.walkChildren(s=>{s._markDirtyKey("fill"),s.markDirtySize(),s instanceof Hi&&s.text.markDirtyText()})),i instanceof Hi&&i.get("populateText")&&i.text.markDirtyText()})}_hideBullets(e){e.bullets&&oe(e.bullets,n=>{let i=n.get("sprite");i&&i.setPrivate("visible",!1)})}_positionBullet(e){}_placeBulletsContainer(e){e.bulletsContainer.children.moveValue(this.bulletsContainer)}_removeBulletsContainer(){const e=this.bulletsContainer;e.parent&&e.parent.children.removeValue(e)}disposeDataItem(e){const n=e.bullets;n&&oe(n,i=>{i.dispose()})}_getItemReaderLabel(){return""}showDataItem(e,n){const i=Object.create(null,{showDataItem:{get:()=>super.showDataItem}});return Si(this,void 0,void 0,function*(){const s=[i.showDataItem.call(this,e,n)],r=e.bullets;r&&oe(r,a=>{const o=a.get("sprite");o&&s.push(o.show(n))}),yield Promise.all(s)})}hideDataItem(e,n){const i=Object.create(null,{hideDataItem:{get:()=>super.hideDataItem}});return Si(this,void 0,void 0,function*(){const s=[i.hideDataItem.call(this,e,n)],r=e.bullets;r&&oe(r,a=>{const o=a.get("sprite");o&&s.push(o.hide(n))}),yield Promise.all(s)})}_sequencedShowHide(e,n){return Si(this,void 0,void 0,function*(){if(this.get("sequencedInterpolation"))if(me(n)||(n=this.get("interpolationDuration",0)),n>0){const i=this.startIndex(),s=this.endIndex();yield Promise.all(hk(this.dataItems,(r,a)=>Si(this,void 0,void 0,function*(){let o=n||0;(a<i-10||a>s+10)&&(o=0);let l=this.get("sequencedDelay",0)+o/(s-i);yield kxe(l*(a-i)),e?yield this.showDataItem(r,o):yield this.hideDataItem(r,o)})))}else yield Promise.all(hk(this.dataItems,i=>e?this.showDataItem(i,0):this.hideDataItem(i,0)))})}updateLegendValue(e){if(e){const n=e.get("legendDataItem");if(n){const i=n.get("valueLabel");if(i){const r=i.text;let a="";i._setDataItem(e),a=this.get("legendValueText",r.get("text","")),i.set("text",a),r.markDirtyText()}const s=n.get("label");if(s){const r=s.text;let a="";s._setDataItem(e),a=this.get("legendLabelText",r.get("text","")),s.set("text",a),r.markDirtyText()}}}}updateLegendMarker(e){}_onHide(){super._onHide();const e=this.getTooltip();e&&e.hide()}hoverDataItem(e){}unhoverDataItem(e){}_getBase(e){const n=this.dataItems[this.startIndex()];return n?n.get(e):0}}Object.defineProperty(Fo,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Series"});Object.defineProperty(Fo,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:_c.classNames.concat([Fo.className])});class wy extends Fo{constructor(){super(...arguments),Object.defineProperty(this,"itemContainers",{enumerable:!0,configurable:!0,writable:!0,value:this.addDisposer(new ji(Sn.new({}),()=>st._new(this._root,{themeTags:Vt(this.itemContainers.template.get("themeTags",[]),["legend","item"]),themeTagsSelf:Vt(this.itemContainers.template.get("themeTagsSelf",[]),["itemcontainer"]),background:Ga.new(this._root,{themeTags:Vt(this.itemContainers.template.get("themeTags",[]),["legend","item","background"]),themeTagsSelf:Vt(this.itemContainers.template.get("themeTagsSelf",[]),["itemcontainer"])})},[this.itemContainers.template])))}),Object.defineProperty(this,"markers",{enumerable:!0,configurable:!0,writable:!0,value:this.addDisposer(new ji(Sn.new({}),()=>st._new(this._root,{themeTags:Vt(this.markers.template.get("themeTags",[]),["legend","marker"])},[this.markers.template])))}),Object.defineProperty(this,"labels",{enumerable:!0,configurable:!0,writable:!0,value:this.addDisposer(new ji(Sn.new({}),()=>Hi._new(this._root,{themeTags:Vt(this.labels.template.get("themeTags",[]),["legend","label"])},[this.labels.template])))}),Object.defineProperty(this,"valueLabels",{enumerable:!0,configurable:!0,writable:!0,value:this.addDisposer(new ji(Sn.new({}),()=>Hi._new(this._root,{themeTags:Vt(this.valueLabels.template.get("themeTags",[]),["legend","label","value"])},[this.valueLabels.template])))}),Object.defineProperty(this,"markerRectangles",{enumerable:!0,configurable:!0,writable:!0,value:this.addDisposer(new ji(Sn.new({}),()=>Ga._new(this._root,{themeTags:Vt(this.markerRectangles.template.get("themeTags",[]),["legend","marker","rectangle"])},[this.markerRectangles.template])))})}_afterNew(){this._settings.themeTags=Vt(this._settings.themeTags,["legend"]),this.fields.push("name","stroke","fill"),super._afterNew()}makeItemContainer(e){const n=this.children.push(this.itemContainers.make());return n._setDataItem(e),this.itemContainers.push(n),n.states.create("disabled",{}),n}makeMarker(){const e=this.markers.make();return this.markers.push(e),e.states.create("disabled",{}),e}makeLabel(){const e=this.labels.make();return e.states.create("disabled",{}),e}makeValueLabel(){const e=this.valueLabels.make();return e.states.create("disabled",{}),e}makeMarkerRectangle(){const e=this.markerRectangles.make();return e.states.create("disabled",{}),e}processDataItem(e){super.processDataItem(e);const n=this.makeItemContainer(e),i=this.get("nameField"),s=this.get("fillField"),r=this.get("strokeField");if(n){const a=this.get("clickTarget","itemContainer"),o=e.dataContext;o&&o.set&&o.set("legendDataItem",e),n._setDataItem(e),e.set("itemContainer",n);const l=this.makeMarker();if(l){n.children.push(l),l._setDataItem(e),e.set("marker",l);const c=this.get("useDefaultMarker"),f=l.children.push(this.makeMarkerRectangle());let h=e.get("fill"),p=e.get("stroke");e.set("markerRectangle",f),o&&o.get&&(h=o.get(s,h),p=o.get(r,p)),p||(p=h),c?o.on&&(o.on(s,()=>{f.set("fill",o.get(s))}),o.on(r,()=>{f.set("stroke",o.get(r))})):o&&o.createLegendMarker&&o.createLegendMarker(),f.setAll({fill:h,stroke:p});const g=o.component;g&&g.updateLegendMarker&&g.updateLegendMarker(o)}const u=this.makeLabel();if(u){n.children.push(u),u._setDataItem(e),e.set("label",u),u.text.on("text",()=>{n.setRaw("ariaLabel",u.text._getText()+(this.get("clickTarget")!=="none"?"; "+this._t("Press ENTER to toggle"):"")),n.markDirtyAccessibility()}),o&&o.get&&e.set("name",o.get(i));let c=e.get("name");c&&u.set("text",c)}const d=this.makeValueLabel();if(d&&(n.children.push(d),d._setDataItem(e),e.set("valueLabel",d)),o&&o.show&&(o.on("visible",c=>{n.set("disabled",!c)}),o.get("visible")||n.set("disabled",!0),a!="none")){let c=n;a=="marker"&&(c=l),this._addClickEvents(c,o,e)}this.children.values.sort((c,f)=>{const h=c.dataItem.dataContext,p=f.dataItem.dataContext;if(h&&p){const g=this.data.indexOf(h),v=this.data.indexOf(p);if(g>v)return 1;if(g<v)return-1}return 0}),o&&o.updateLegendValue&&o.updateLegendValue()}}_addClickEvents(e,n,i){e.set("cursorOverStyle","pointer"),e.events.on("pointerover",()=>{const s=n.component;s&&s.hoverDataItem&&s.hoverDataItem(n)}),e.events.on("pointerout",()=>{const s=n.component;s&&s.hoverDataItem&&s.unhoverDataItem(n)}),e.events.on("click",()=>{const s=i.get("label").text._getText();n.show&&n.isHidden&&(n.isHidden()||n.get("visible")===!1)?(n.show(),e.set("disabled",!1),this._root.readerAlert(this._t("%1 shown",this._root.locale,s))):n.hide&&(n.hide(),e.set("disabled",!0),this._root.readerAlert(this._t("%1 hidden",this._root.locale,s)))})}disposeDataItem(e){super.disposeDataItem(e);const n=e.dataContext;n&&n.get&&n.get("legendDataItem")==e&&n.set("legendDataItem",void 0);let i=e.get("itemContainer");i&&(this.itemContainers.removeValue(i),i.dispose());let s=e.get("marker");s&&(this.markers.removeValue(s),s.dispose());let r=e.get("markerRectangle");r&&(this.markerRectangles.removeValue(r),r.dispose());let a=e.get("label");a&&(this.labels.removeValue(a),a.dispose());let o=e.get("valueLabel");o&&(this.valueLabels.removeValue(o),o.dispose())}}Object.defineProperty(wy,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Legend"});Object.defineProperty(wy,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Fo.classNames.concat([wy.className])});function _V(t,e){for(let n=0,i=e.length;n<i;n++){const s=e[n];if(s.length>0){let r=s[0];if(r.length>0){let a=r[0];t.moveTo(a.x,a.y);for(let o=0,l=s.length;o<l;o++)Pxe(t,s[o])}}}}function Pxe(t,e){for(let n=0,i=e.length;n<i;n++){const s=e[n];t.lineTo(s.x,s.y)}}class mg extends cn{_beforeChanged(){super._beforeChanged(),(this.isDirty("points")||this.isDirty("segments")||this._sizeDirty||this.isPrivateDirty("width")||this.isPrivateDirty("height"))&&(this._clear=!0)}_changed(){if(super._changed(),this._clear){const e=this.get("points"),n=this.get("segments");if(e&&e.length>0){let i=e[0];this._display.moveTo(i.x,i.y),_V(this._display,[[e]])}else if(n)_V(this._display,n);else if(!this.get("draw")){let i=this.width(),s=this.height();this._display.moveTo(0,0),this._display.lineTo(i,s)}}}}Object.defineProperty(mg,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Line"});Object.defineProperty(mg,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:cn.classNames.concat([mg.className])});class xy extends vc{constructor(){super(...arguments),Object.defineProperty(this,"_display",{enumerable:!0,configurable:!0,writable:!0,value:this._root._renderer.makeRadialText("",this.textStyle)})}_afterNew(){super._afterNew()}_beforeChanged(){super._beforeChanged(),this._display.clear(),this.isDirty("textType")&&(this._display.textType=this.get("textType"),this.markDirtyBounds()),this.isDirty("radius")&&(this._display.radius=this.get("radius"),this.markDirtyBounds()),this.isDirty("startAngle")&&(this._display.startAngle=(this.get("startAngle",0)+90)*cg,this.markDirtyBounds()),this.isDirty("inside")&&(this._display.inside=this.get("inside"),this.markDirtyBounds()),this.isDirty("orientation")&&(this._display.orientation=this.get("orientation"),this.markDirtyBounds()),this.isDirty("kerning")&&(this._display.kerning=this.get("kerning"),this.markDirtyBounds())}}Object.defineProperty(xy,"className",{enumerable:!0,configurable:!0,writable:!0,value:"RadialText"});Object.defineProperty(xy,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:vc.classNames.concat([xy.className])});class Sy extends Hi{constructor(){super(...arguments),Object.defineProperty(this,"_flipped",{enumerable:!0,configurable:!0,writable:!0,value:!1})}_afterNew(){this._textKeys.push("textType","kerning"),super._afterNew()}_makeText(){this._text=this.children.push(xy.new(this._root,{}))}baseRadius(){const e=this.getPrivate("radius",0),n=this.getPrivate("innerRadius",0),i=this.get("baseRadius",0);return n+Qn(i,e-n)}radius(){const e=this.get("inside",!1);return this.baseRadius()+this.get("radius",0)*(e?-1:1)}_updateChildren(){if(super._updateChildren(),this.isDirty("baseRadius")||this.isPrivateDirty("radius")||this.isPrivateDirty("innerRadius")||this.isDirty("labelAngle")||this.isDirty("radius")||this.isDirty("inside")||this.isDirty("orientation")||this.isDirty("textType")){const e=this.get("textType","adjusted"),n=this.get("inside",!1),i=this.get("orientation");let s=tE(this.get("labelAngle",0));this._text.set("startAngle",this.get("labelAngle",0)),this._text.set("inside",n);const r=Dr(s),a=Ba(s);let o=this.baseRadius(),l=this.radius();if(this._display.angle=0,e=="circular")this.setAll({paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0}),this.setRaw("x",void 0),this.setRaw("y",void 0),this._text.set("orientation",i),this._text.set("radius",l);else{o==0&&(s=0,l=0);let u=l*a,d=l*r;e=="radial"?(this.setRaw("x",u),this.setRaw("y",d),s<90||s>270||i!="auto"?(this._display.angle=s,this._flipped=!1):(this._display.angle=s+180,this._flipped=!0),this._dirty.rotation=!1):e=="adjusted"?(this.setRaw("centerX",lt),this.setRaw("centerY",lt),this.setRaw("x",u),this.setRaw("y",d)):e=="regular"&&(this.setRaw("x",u),this.setRaw("y",d))}this.markDirtyPosition(),this.markDirtyBounds()}}_updatePosition(){const e=this.get("textType","regular"),n=this.get("inside",!1);let i=0,s=0,r=this.get("labelAngle",0),a=this.localBounds(),o=a.right-a.left,l=a.bottom-a.top;if(e=="radial"){if(this._flipped){let u=this.get("centerX");u instanceof xt&&(o=o*(1-u.value*2)),i=o*Ba(r),s=o*Dr(r)}}else!n&&e=="adjusted"&&(i=o/2*Ba(r),s=l/2*Dr(r));this.setRaw("dx",i),this.setRaw("dy",s),super._updatePosition()}get text(){return this._text}}Object.defineProperty(Sy,"className",{enumerable:!0,configurable:!0,writable:!0,value:"RadialLabel"});Object.defineProperty(Sy,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Hi.classNames.concat([Sy.className])});class gg extends st{constructor(){super(...arguments),Object.defineProperty(this,"thumb",{enumerable:!0,configurable:!0,writable:!0,value:this._makeThumb()}),Object.defineProperty(this,"startGrip",{enumerable:!0,configurable:!0,writable:!0,value:this._makeButton()}),Object.defineProperty(this,"endGrip",{enumerable:!0,configurable:!0,writable:!0,value:this._makeButton()}),Object.defineProperty(this,"_thumbBusy",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_startDown",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_endDown",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_thumbDown",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_gripDown",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}_addOrientationClass(){this._settings.themeTags=Vt(this._settings.themeTags,["scrollbar",this._settings.orientation]),this._settings.background||(this._settings.background=Ga.new(this._root,{themeTags:Vt(this._settings.themeTags,["main","background"])}))}_makeButton(){return this.children.push(fg.new(this._root,{themeTags:["resize","button",this.get("orientation")],icon:cn.new(this._root,{themeTags:["icon"]})}))}_makeThumb(){return this.children.push(Ga.new(this._root,{themeTags:["thumb",this.get("orientation")]}))}_handleAnimation(e){e&&this._disposers.push(e.events.on("stopped",()=>{this.setPrivateRaw("isBusy",!1),this._thumbBusy=!1}))}_afterNew(){this._addOrientationClass(),super._afterNew();const e=this.startGrip,n=this.endGrip,i=this.thumb,s=this.get("background");s&&this._disposers.push(s.events.on("click",r=>{this.setPrivateRaw("isBusy",!0);const a=this._display.toLocal(r.point),o=this.width(),l=this.height(),u=this.get("orientation");let d;u=="vertical"?d=(a.y-i.height()/2)/l:d=(a.x-i.width()/2)/o;let c,f;u=="vertical"?(c=d*l,f="y"):(c=d*o,f="x");const h=this.get("animationDuration",0);h>0?(this._thumbBusy=!0,this._handleAnimation(this.thumb.animate({key:f,to:c,duration:h,easing:this.get("animationEasing")}))):(this.thumb.set(f,c),this._root.events.once("frameended",()=>{this.setPrivateRaw("isBusy",!1)}))})),this._disposers.push(i.events.on("dblclick",r=>{if(!ZC(r.originalEvent,this))return;const a=this.get("animationDuration",0),o=this.get("animationEasing");this.animate({key:"start",to:0,duration:a,easing:o}),this.animate({key:"end",to:1,duration:a,easing:o})})),this._disposers.push(e.events.on("pointerdown",()=>{this.setPrivateRaw("isBusy",!0),this._startDown=!0,this._gripDown="start"})),this._disposers.push(n.events.on("pointerdown",()=>{this.setPrivateRaw("isBusy",!0),this._endDown=!0,this._gripDown="end"})),this._disposers.push(i.events.on("pointerdown",()=>{this.setPrivateRaw("isBusy",!0),this._thumbDown=!0,this._gripDown=void 0})),this._disposers.push(e.events.on("globalpointerup",()=>{this._startDown&&(this.setPrivateRaw("isBusy",!1),this._released()),this._startDown=!1})),this._disposers.push(n.events.on("globalpointerup",()=>{this._endDown&&(this.setPrivateRaw("isBusy",!1),this._released()),this._endDown=!1})),this._disposers.push(i.events.on("globalpointerup",()=>{this._thumbDown&&(this.setPrivateRaw("isBusy",!1),this._released()),this._thumbDown=!1})),this._disposers.push(e.on("x",()=>{this._updateThumb()})),this._disposers.push(n.on("x",()=>{this._updateThumb()})),this._disposers.push(e.on("y",()=>{this._updateThumb()})),this._disposers.push(n.on("y",()=>{this._updateThumb()})),this._disposers.push(i.events.on("positionchanged",()=>{this._updateGripsByThumb()})),this.get("orientation")=="vertical"?(e.set("x",0),n.set("x",0),this._disposers.push(i.adapters.add("y",r=>Math.max(Math.min(Number(r),this.height()-i.height()),0))),this._disposers.push(i.adapters.add("x",r=>this.width()/2)),this._disposers.push(e.adapters.add("x",r=>this.width()/2)),this._disposers.push(n.adapters.add("x",r=>this.width()/2)),this._disposers.push(e.adapters.add("y",r=>Math.max(Math.min(Number(r),this.height()),0))),this._disposers.push(n.adapters.add("y",r=>Math.max(Math.min(Number(r),this.height()),0)))):(e.set("y",0),n.set("y",0),this._disposers.push(i.adapters.add("x",r=>Math.max(Math.min(Number(r),this.width()-i.width()),0))),this._disposers.push(i.adapters.add("y",r=>this.height()/2)),this._disposers.push(e.adapters.add("y",r=>this.height()/2)),this._disposers.push(n.adapters.add("y",r=>this.height()/2)),this._disposers.push(e.adapters.add("x",r=>Math.max(Math.min(Number(r),this.width()),0))),this._disposers.push(n.adapters.add("x",r=>Math.max(Math.min(Number(r),this.width()),0))))}_updateChildren(){super._updateChildren(),(this.isDirty("end")||this.isDirty("start")||this._sizeDirty)&&this.updateGrips()}_changed(){if(super._changed(),this.isDirty("start")||this.isDirty("end")){const e="rangechanged";this.events.isEnabled(e)&&this.events.dispatch(e,{type:e,target:this,start:this.get("start",0),end:this.get("end",1),grip:this._gripDown})}}_released(){const e="released";this.events.isEnabled(e)&&this.events.dispatch(e,{type:e,target:this})}updateGrips(){const e=this.startGrip,n=this.endGrip,i=this.get("orientation"),s=this.height(),r=this.width();i=="vertical"?(e.set("y",s*this.get("start",0)),n.set("y",s*this.get("end",1))):(e.set("x",r*this.get("start",0)),n.set("x",r*this.get("end",1)));const a=this.getPrivate("positionTextFunction"),o=Math.round(this.get("start",0)*100),l=Math.round(this.get("end",0)*100);let u,d;a?(u=a.call(this,this.get("start",0)),d=a.call(this,this.get("end",0))):(u=o+"%",d=l+"%"),e.set("ariaLabel",this._t("From %1",void 0,u)),e.set("ariaValueNow",""+o),e.set("ariaValueText",o+"%"),e.set("ariaValueMin","0"),e.set("ariaValueMax","100"),n.set("ariaLabel",this._t("To %1",void 0,d)),n.set("ariaValueNow",""+l),n.set("ariaValueText",l+"%"),n.set("ariaValueMin","0"),n.set("ariaValueMax","100")}_updateThumb(){const e=this.thumb,n=this.startGrip,i=this.endGrip,s=this.height(),r=this.width();let a=n.x(),o=i.x(),l=n.y(),u=i.y(),d=0,c=1;this.get("orientation")=="vertical"?me(l)&&me(u)&&(!this._thumbBusy&&!e.isDragging()&&(e.set("height",u-l),e.set("y",l)),d=l/s,c=u/s):me(a)&&me(o)&&(!this._thumbBusy&&!e.isDragging()&&(e.set("width",o-a),e.set("x",a)),d=a/r,c=o/r),this.getPrivate("isBusy")&&(this.get("start")!=d||this.get("end")!=c)&&(this.set("start",d),this.set("end",c));const f=this.getPrivate("positionTextFunction"),h=Math.round(this.get("start",0)*100),p=Math.round(this.get("end",0)*100);let g,v;f?(g=f.call(this,this.get("start",0)),v=f.call(this,this.get("end",0))):(g=h+"%",v=p+"%"),e.set("ariaLabel",this._t("From %1 to %2",void 0,g,v)),e.set("ariaValueNow",""+h),e.set("ariaValueText",h+"%")}_updateGripsByThumb(){const e=this.thumb,n=this.startGrip,i=this.endGrip;if(this.get("orientation")=="vertical"){const s=e.height();n.set("y",e.y()),i.set("y",e.y()+s)}else{const s=e.width();n.set("x",e.x()),i.set("x",e.x()+s)}}}Object.defineProperty(gg,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Scrollbar"});Object.defineProperty(gg,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:st.classNames.concat([gg.className])});function Pn(t){return function(){return t}}const yV=Math.abs,fs=Math.atan2,_u=Math.cos,Cxe=Math.max,kx=Math.min,ba=Math.sin,kd=Math.sqrt,zs=1e-12,pg=Math.PI,ky=pg/2,Exe=2*pg;function Ixe(t){return t>1?0:t<-1?pg:Math.acos(t)}function bV(t){return t>=1?ky:t<=-1?-ky:Math.asin(t)}const Sk=Math.PI,kk=2*Sk,Su=1e-6,Dxe=kk-Su;function XU(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function Axe(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return XU;const n=10**e;return function(i){this._+=i[0];for(let s=1,r=i.length;s<r;++s)this._+=Math.round(arguments[s]*n)/n+i[s]}}class Rxe{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?XU:Axe(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,i,s){this._append`Q${+e},${+n},${this._x1=+i},${this._y1=+s}`}bezierCurveTo(e,n,i,s,r,a){this._append`C${+e},${+n},${+i},${+s},${this._x1=+r},${this._y1=+a}`}arcTo(e,n,i,s,r){if(e=+e,n=+n,i=+i,s=+s,r=+r,r<0)throw new Error(`negative radius: ${r}`);let a=this._x1,o=this._y1,l=i-e,u=s-n,d=a-e,c=o-n,f=d*d+c*c;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(f>Su)if(!(Math.abs(c*l-u*d)>Su)||!r)this._append`L${this._x1=e},${this._y1=n}`;else{let h=i-a,p=s-o,g=l*l+u*u,v=h*h+p*p,_=Math.sqrt(g),b=Math.sqrt(f),x=r*Math.tan((Sk-Math.acos((g+f-v)/(2*_*b)))/2),k=x/b,I=x/_;Math.abs(k-1)>Su&&this._append`L${e+k*d},${n+k*c}`,this._append`A${r},${r},0,0,${+(c*h>d*p)},${this._x1=e+I*l},${this._y1=n+I*u}`}}arc(e,n,i,s,r,a){if(e=+e,n=+n,i=+i,a=!!a,i<0)throw new Error(`negative radius: ${i}`);let o=i*Math.cos(s),l=i*Math.sin(s),u=e+o,d=n+l,c=1^a,f=a?s-r:r-s;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>Su||Math.abs(this._y1-d)>Su)&&this._append`L${u},${d}`,i&&(f<0&&(f=f%kk+kk),f>Dxe?this._append`A${i},${i},0,1,${c},${e-o},${n-l}A${i},${i},0,1,${c},${this._x1=u},${this._y1=d}`:f>Su&&this._append`A${i},${i},0,${+(f>=Sk)},${c},${this._x1=e+i*Math.cos(r)},${this._y1=n+i*Math.sin(r)}`)}rect(e,n,i,s){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${i=+i}v${+s}h${-i}Z`}toString(){return this._}}function sE(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const i=Math.floor(n);if(!(i>=0))throw new RangeError(`invalid digits: ${n}`);e=i}return t},()=>new Rxe(e)}function Oxe(t){return t.innerRadius}function Mxe(t){return t.outerRadius}function Vxe(t){return t.startAngle}function Lxe(t){return t.endAngle}function Nxe(t){return t&&t.padAngle}function Fxe(t,e,n,i,s,r,a,o){var l=n-t,u=i-e,d=a-s,c=o-r,f=c*l-d*u;if(!(f*f<zs))return f=(d*(e-r)-c*(t-s))/f,[t+f*l,e+f*u]}function hv(t,e,n,i,s,r,a){var o=t-n,l=e-i,u=(a?r:-r)/kd(o*o+l*l),d=u*l,c=-u*o,f=t+d,h=e+c,p=n+d,g=i+c,v=(f+p)/2,_=(h+g)/2,b=p-f,x=g-h,k=b*b+x*x,I=s-r,E=f*g-p*h,T=(x<0?-1:1)*kd(Cxe(0,I*I*k-E*E)),S=(E*x-b*T)/k,w=(-E*b-x*T)/k,P=(E*x+b*T)/k,C=(-E*b+x*T)/k,D=S-v,A=w-_,N=P-v,B=C-_;return D*D+A*A>N*N+B*B&&(S=P,w=C),{cx:S,cy:w,x01:-d,y01:-c,x11:S*(s/I-1),y11:w*(s/I-1)}}function Bxe(){var t=Oxe,e=Mxe,n=Pn(0),i=null,s=Vxe,r=Lxe,a=Nxe,o=null,l=sE(u);function u(){var d,c,f=+t.apply(this,arguments),h=+e.apply(this,arguments),p=s.apply(this,arguments)-ky,g=r.apply(this,arguments)-ky,v=yV(g-p),_=g>p;if(o||(o=d=l()),h<f&&(c=h,h=f,f=c),!(h>zs))o.moveTo(0,0);else if(v>Exe-zs)o.moveTo(h*_u(p),h*ba(p)),o.arc(0,0,h,p,g,!_),f>zs&&(o.moveTo(f*_u(g),f*ba(g)),o.arc(0,0,f,g,p,_));else{var b=p,x=g,k=p,I=g,E=v,T=v,S=a.apply(this,arguments)/2,w=S>zs&&(i?+i.apply(this,arguments):kd(f*f+h*h)),P=kx(yV(h-f)/2,+n.apply(this,arguments)),C=P,D=P,A,N;if(w>zs){var B=bV(w/f*ba(S)),z=bV(w/h*ba(S));(E-=B*2)>zs?(B*=_?1:-1,k+=B,I-=B):(E=0,k=I=(p+g)/2),(T-=z*2)>zs?(z*=_?1:-1,b+=z,x-=z):(T=0,b=x=(p+g)/2)}var q=h*_u(b),W=h*ba(b),K=f*_u(I),Y=f*ba(I);if(P>zs){var Z=h*_u(x),ee=h*ba(x),le=f*_u(k),de=f*ba(k),he;if(v<pg)if(he=Fxe(q,W,le,de,Z,ee,K,Y)){var re=q-he[0],U=W-he[1],X=Z-he[0],ae=ee-he[1],pe=1/ba(Ixe((re*X+U*ae)/(kd(re*re+U*U)*kd(X*X+ae*ae)))/2),ve=kd(he[0]*he[0]+he[1]*he[1]);C=kx(P,(f-ve)/(pe-1)),D=kx(P,(h-ve)/(pe+1))}else C=D=0}T>zs?D>zs?(A=hv(le,de,q,W,h,D,_),N=hv(Z,ee,K,Y,h,D,_),o.moveTo(A.cx+A.x01,A.cy+A.y01),D<P?o.arc(A.cx,A.cy,D,fs(A.y01,A.x01),fs(N.y01,N.x01),!_):(o.arc(A.cx,A.cy,D,fs(A.y01,A.x01),fs(A.y11,A.x11),!_),o.arc(0,0,h,fs(A.cy+A.y11,A.cx+A.x11),fs(N.cy+N.y11,N.cx+N.x11),!_),o.arc(N.cx,N.cy,D,fs(N.y11,N.x11),fs(N.y01,N.x01),!_))):(o.moveTo(q,W),o.arc(0,0,h,b,x,!_)):o.moveTo(q,W),!(f>zs)||!(E>zs)?o.lineTo(K,Y):C>zs?(A=hv(K,Y,Z,ee,f,-C,_),N=hv(q,W,le,de,f,-C,_),o.lineTo(A.cx+A.x01,A.cy+A.y01),C<P?o.arc(A.cx,A.cy,C,fs(A.y01,A.x01),fs(N.y01,N.x01),!_):(o.arc(A.cx,A.cy,C,fs(A.y01,A.x01),fs(A.y11,A.x11),!_),o.arc(0,0,f,fs(A.cy+A.y11,A.cx+A.x11),fs(N.cy+N.y11,N.cx+N.x11),_),o.arc(N.cx,N.cy,C,fs(N.y11,N.x11),fs(N.y01,N.x01),!_))):o.arc(0,0,f,I,k,_)}if(o.closePath(),d)return o=null,d+""||null}return u.centroid=function(){var d=(+t.apply(this,arguments)+ +e.apply(this,arguments))/2,c=(+s.apply(this,arguments)+ +r.apply(this,arguments))/2-pg/2;return[_u(c)*d,ba(c)*d]},u.innerRadius=function(d){return arguments.length?(t=typeof d=="function"?d:Pn(+d),u):t},u.outerRadius=function(d){return arguments.length?(e=typeof d=="function"?d:Pn(+d),u):e},u.cornerRadius=function(d){return arguments.length?(n=typeof d=="function"?d:Pn(+d),u):n},u.padRadius=function(d){return arguments.length?(i=d==null?null:typeof d=="function"?d:Pn(+d),u):i},u.startAngle=function(d){return arguments.length?(s=typeof d=="function"?d:Pn(+d),u):s},u.endAngle=function(d){return arguments.length?(r=typeof d=="function"?d:Pn(+d),u):r},u.padAngle=function(d){return arguments.length?(a=typeof d=="function"?d:Pn(+d),u):a},u.context=function(d){return arguments.length?(o=d??null,u):o},u}function KU(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function QU(t){this._context=t}QU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function JU(t){return new QU(t)}function ZU(t){return t[0]}function e9(t){return t[1]}function t9(t,e){var n=Pn(!0),i=null,s=JU,r=null,a=sE(o);t=typeof t=="function"?t:t===void 0?ZU:Pn(t),e=typeof e=="function"?e:e===void 0?e9:Pn(e);function o(l){var u,d=(l=KU(l)).length,c,f=!1,h;for(i==null&&(r=s(h=a())),u=0;u<=d;++u)!(u<d&&n(c=l[u],u,l))===f&&((f=!f)?r.lineStart():r.lineEnd()),f&&r.point(+t(c,u,l),+e(c,u,l));if(h)return r=null,h+""||null}return o.x=function(l){return arguments.length?(t=typeof l=="function"?l:Pn(+l),o):t},o.y=function(l){return arguments.length?(e=typeof l=="function"?l:Pn(+l),o):e},o.defined=function(l){return arguments.length?(n=typeof l=="function"?l:Pn(!!l),o):n},o.curve=function(l){return arguments.length?(s=l,i!=null&&(r=s(i)),o):s},o.context=function(l){return arguments.length?(l==null?i=r=null:r=s(i=l),o):i},o}function jxe(t,e,n){var i=null,s=Pn(!0),r=null,a=JU,o=null,l=sE(u);t=typeof t=="function"?t:t===void 0?ZU:Pn(+t),e=typeof e=="function"?e:Pn(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?e9:Pn(+n);function u(c){var f,h,p,g=(c=KU(c)).length,v,_=!1,b,x=new Array(g),k=new Array(g);for(r==null&&(o=a(b=l())),f=0;f<=g;++f){if(!(f<g&&s(v=c[f],f,c))===_)if(_=!_)h=f,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),p=f-1;p>=h;--p)o.point(x[p],k[p]);o.lineEnd(),o.areaEnd()}_&&(x[f]=+t(v,f,c),k[f]=+e(v,f,c),o.point(i?+i(v,f,c):x[f],n?+n(v,f,c):k[f]))}if(b)return o=null,b+""||null}function d(){return t9().defined(s).curve(a).context(r)}return u.x=function(c){return arguments.length?(t=typeof c=="function"?c:Pn(+c),i=null,u):t},u.x0=function(c){return arguments.length?(t=typeof c=="function"?c:Pn(+c),u):t},u.x1=function(c){return arguments.length?(i=c==null?null:typeof c=="function"?c:Pn(+c),u):i},u.y=function(c){return arguments.length?(e=typeof c=="function"?c:Pn(+c),n=null,u):e},u.y0=function(c){return arguments.length?(e=typeof c=="function"?c:Pn(+c),u):e},u.y1=function(c){return arguments.length?(n=c==null?null:typeof c=="function"?c:Pn(+c),u):n},u.lineX0=u.lineY0=function(){return d().x(t).y(e)},u.lineY1=function(){return d().x(t).y(n)},u.lineX1=function(){return d().x(i).y(e)},u.defined=function(c){return arguments.length?(s=typeof c=="function"?c:Pn(!!c),u):s},u.curve=function(c){return arguments.length?(a=c,r!=null&&(o=a(r)),u):a},u.context=function(c){return arguments.length?(c==null?r=o=null:o=a(r=c),u):r},u}class Ty extends cn{constructor(){super(...arguments),Object.defineProperty(this,"ix",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"iy",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_generator",{enumerable:!0,configurable:!0,writable:!0,value:Bxe()})}_getTooltipPoint(){let e=this.get("tooltipX"),n=this.get("tooltipY"),i=0,s=0;me(e)&&(i=e),me(n)&&(s=n);let r=this.get("radius",0),a=this.get("innerRadius",0),o=this.get("dRadius",0),l=this.get("dInnerRadius",0);return r+=o,a+=l,a<0&&(a=r+a),e instanceof xt&&(i=this.ix*(a+(r-a)*e.value)),n instanceof xt&&(s=this.iy*(a+(r-a)*n.value)),this.get("arc")>=360&&a==0&&(i=0,s=0),{x:i,y:s}}_beforeChanged(){super._beforeChanged(),(this.isDirty("radius")||this.isDirty("arc")||this.isDirty("innerRadius")||this.isDirty("startAngle")||this.isDirty("dRadius")||this.isDirty("dInnerRadius")||this.isDirty("cornerRadius")||this.isDirty("shiftRadius"))&&(this._clear=!0)}_changed(){if(super._changed(),this._clear){let e=this.get("startAngle",0),n=this.get("arc",0);const i=this._generator;n<0&&(e=e+n,n=n*-1),n>.1&&i.cornerRadius(this.get("cornerRadius",0)),i.context(this._display);let s=this.get("radius",0),r=this.get("innerRadius",0),a=this.get("dRadius",0),o=this.get("dInnerRadius",0);s+=a,r+=o,r<0&&(r=s+r),i({innerRadius:r,outerRadius:s,startAngle:(e+90)*cg,endAngle:(e+n+90)*cg});let l=e+n/2;this.ix=Ba(l),this.iy=Dr(l);const u=this.get("shiftRadius",0);this.setRaw("dx",this.ix*u),this.setRaw("dy",this.iy*u),this.markDirtyPosition()}}}Object.defineProperty(Ty,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Slice"});Object.defineProperty(Ty,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:cn.classNames.concat([Ty.className])});class vg extends st{constructor(){super(...arguments),Object.defineProperty(this,"chartContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(st.new(this._root,{width:Fe,height:Fe,interactiveChildren:!1}))}),Object.defineProperty(this,"bulletsContainer",{enumerable:!0,configurable:!0,writable:!0,value:st.new(this._root,{interactiveChildren:!1,isMeasured:!1,position:"absolute",width:Fe,height:Fe})})}}Object.defineProperty(vg,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Chart"});Object.defineProperty(vg,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:st.classNames.concat([vg.className])});class yc extends vg{constructor(){super(...arguments),Object.defineProperty(this,"seriesContainer",{enumerable:!0,configurable:!0,writable:!0,value:st.new(this._root,{width:Fe,height:Fe,isMeasured:!1})}),Object.defineProperty(this,"series",{enumerable:!0,configurable:!0,writable:!0,value:new vy})}_afterNew(){super._afterNew(),this._disposers.push(this.series);const e=this.seriesContainer.children;this._disposers.push(this.series.events.onAll(n=>{if(n.type==="clear"){oe(n.oldValues,r=>{this._removeSeries(r)});const i=this.get("colors");i&&i.reset();const s=this.get("patterns");s&&s.reset()}else if(n.type==="push")e.moveValue(n.newValue),this._processSeries(n.newValue);else if(n.type==="setIndex")e.setIndex(n.index,n.newValue),this._processSeries(n.newValue);else if(n.type==="insertIndex")e.insertIndex(n.index,n.newValue),this._processSeries(n.newValue);else if(n.type==="removeIndex")this._removeSeries(n.oldValue);else if(n.type==="moveIndex")e.moveValue(n.value,n.newIndex),this._processSeries(n.value);else throw new Error("Unknown IListEvent type")}))}_processSeries(e){e.chart=this,e._placeBulletsContainer(this)}_removeSeries(e){e.isDisposed()||(this.seriesContainer.children.removeValue(e),e._removeBulletsContainer())}}Object.defineProperty(yc,"className",{enumerable:!0,configurable:!0,writable:!0,value:"SerialChart"});Object.defineProperty(yc,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:vg.classNames.concat([yc.className])});class bh extends mg{}Object.defineProperty(bh,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Tick"});Object.defineProperty(bh,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:mg.classNames.concat([bh.className])});class wh extends Ei{_afterNew(){super._afterNewApplyThemes(),this._dirty.colors=!1}_beforeChanged(){this.isDirty("colors")&&this.reset()}generateColors(){this.setPrivate("currentPass",this.getPrivate("currentPass",0)+1);const e=this.getPrivate("currentPass"),n=this.get("colors",[this.get("baseColor",tt.fromHex(16711680))]);this.getPrivate("numColors")||this.setPrivate("numColors",n.length);const i=this.getPrivate("numColors"),s=0,r=this.get("passOptions"),a=this.get("reuse");for(let o=s;o<i;o++)if(a)n.push(n[o]);else{const l=n[o].toHSL();let u=l.h+(r.hue||0)*e;for(;u>1;)u-=1;let d=l.s+(r.saturation||0)*e;d>1&&(d=1),d<0&&(d=0);let c=l.l+(r.lightness||0)*e;for(;c>1;)c-=1;n.push(tt.fromHSL(u,d,c))}}getIndex(e){const n=this.get("colors",[]),i=this.get("saturation");return e>=n.length?(this.generateColors(),this.getIndex(e)):i!=null?tt.saturate(n[e],i):n[e]}next(){let e=this.getPrivate("currentStep",this.get("startIndex",0));return this.setPrivate("currentStep",e+this.get("step",1)),this.getIndex(e)}reset(){this.setPrivate("currentStep",this.get("startIndex",0)),this.setPrivate("currentPass",0)}}Object.defineProperty(wh,"className",{enumerable:!0,configurable:!0,writable:!0,value:"ColorSet"});Object.defineProperty(wh,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Ei.classNames.concat([wh.className])});class $xe extends $w{setupDefaultRules(){super.setupDefaultRules();const e=this._root.interfaceColors,n=this.rule.bind(this);n("PercentSeries").setAll({legendLabelText:"{category}",legendValueText:"{valuePercentTotal.formatNumber('0.00p')}",colors:wh.new(this._root,{}),width:Fe,height:Fe}),n("PieChart").setAll({radius:jn(80),startAngle:-90,endAngle:270}),n("PieSeries").setAll({alignLabels:!0,startAngle:-90,endAngle:270}),n("PieSeries").states.create("hidden",{endAngle:-90,opacity:0}),n("Slice",["pie"]).setAll({position:"absolute",isMeasured:!1,x:0,y:0,toggleKey:"active",tooltipText:"{category}: {valuePercentTotal.formatNumber('0.00p')}",strokeWidth:1,strokeOpacity:1,role:"figure",lineJoin:"round"}),n("Slice",["pie"]).states.create("active",{shiftRadius:20,scale:1}),n("Slice",["pie"]).states.create("hoverActive",{scale:1.04}),n("Slice",["pie"]).states.create("hover",{scale:1.04}),n("RadialLabel",["pie"]).setAll({textType:"aligned",radius:10,text:"{category}: {valuePercentTotal.formatNumber('0.00p')}",paddingTop:5,paddingBottom:5,populateText:!0}),n("Tick",["pie"]).setAll({location:1}),n("SlicedChart").setAll({paddingLeft:10,paddingRight:10,paddingTop:10,paddingBottom:10}),n("FunnelSeries").setAll({startLocation:0,endLocation:1,orientation:"vertical",alignLabels:!0,sequencedInterpolation:!0}),n("FunnelSlice").setAll({interactive:!0,expandDistance:0}),n("FunnelSlice").states.create("hover",{expandDistance:.15}),n("Label",["funnel"]).setAll({populateText:!0,text:"{category}: {valuePercentTotal.formatNumber('0.00p')}",centerY:lt}),n("Label",["funnel","horizontal"]).setAll({centerX:0,centerY:lt,rotation:-90}),n("Label",["funnel","vertical"]).setAll({centerY:lt,centerX:0}),n("Tick",["funnel"]).setAll({location:1}),n("FunnelSlice",["funnel","link"]).setAll({fillOpacity:.5,strokeOpacity:0,expandDistance:-.1}),n("FunnelSlice",["funnel","link","vertical"]).setAll({height:10}),n("FunnelSlice",["funnel","link","horizontal"]).setAll({width:10}),n("PyramidSeries").setAll({valueIs:"area"}),n("FunnelSlice",["pyramid","link"]).setAll({fillOpacity:.5}),n("FunnelSlice",["pyramid","link","vertical"]).setAll({height:0}),n("FunnelSlice",["pyramid","link","horizontal"]).setAll({width:0}),n("FunnelSlice",["pyramid"]).setAll({interactive:!0,expandDistance:0}),n("FunnelSlice",["pyramid"]).states.create("hover",{expandDistance:.15}),n("Label",["pyramid"]).setAll({populateText:!0,text:"{category}: {valuePercentTotal.formatNumber('0.00p')}",centerY:lt}),n("Label",["pyramid","horizontal"]).setAll({centerX:0,centerY:lt,rotation:-90}),n("Label",["pyramid","vertical"]).setAll({centerY:lt,centerX:0}),n("Tick",["pyramid"]).setAll({location:1}),n("FunnelSlice",["pictorial"]).setAll({interactive:!0,tooltipText:"{category}: {valuePercentTotal.formatNumber('0.00p')}"}),n("Label",["pictorial"]).setAll({populateText:!0,text:"{category}: {valuePercentTotal.formatNumber('0.00p')}",centerY:lt}),n("Label",["pictorial","horizontal"]).setAll({centerX:0,centerY:lt,rotation:-90}),n("Label",["pictorial","vertical"]).setAll({centerY:lt,centerX:0}),n("FunnelSlice",["pictorial","link"]).setAll({fillOpacity:.5,width:0,height:0}),n("Tick",["pictorial"]).setAll({location:.5});{const i=n("Graphics",["pictorial","background"]);i.setAll({fillOpacity:.2}),nt(i,"fill",e,"alternativeBackground")}}}class _g extends yc{_afterNew(){this._defaultThemes.push($xe.new(this._root)),super._afterNew(),this.chartContainer.children.push(this.seriesContainer),this.seriesContainer.children.push(this.bulletsContainer)}_processSeries(e){super._processSeries(e),this.seriesContainer.children.moveValue(this.bulletsContainer,this.seriesContainer.children.length-1)}}Object.defineProperty(_g,"className",{enumerable:!0,configurable:!0,writable:!0,value:"PercentChart"});Object.defineProperty(_g,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:yc.classNames.concat([_g.className])});class yg extends Fo{constructor(){super(...arguments),Object.defineProperty(this,"slicesContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(st.new(this._root,{position:"absolute",isMeasured:!1}))}),Object.defineProperty(this,"labelsContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(st.new(this._root,{position:"absolute",isMeasured:!1}))}),Object.defineProperty(this,"ticksContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(st.new(this._root,{position:"absolute",isMeasured:!1}))}),Object.defineProperty(this,"_lLabels",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_rLabels",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_hLabels",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"slices",{enumerable:!0,configurable:!0,writable:!0,value:this.addDisposer(this._makeSlices())}),Object.defineProperty(this,"labels",{enumerable:!0,configurable:!0,writable:!0,value:this.addDisposer(this._makeLabels())}),Object.defineProperty(this,"ticks",{enumerable:!0,configurable:!0,writable:!0,value:this.addDisposer(this._makeTicks())})}makeSlice(e){const n=this.slicesContainer.children.push(this.slices.make());return n.on("fill",()=>{this.updateLegendMarker(e)}),n.on("fillPattern",()=>{this.updateLegendMarker(e)}),n.on("stroke",()=>{this.updateLegendMarker(e)}),n._setDataItem(e),e.set("slice",n),this.slices.push(n),n}makeLabel(e){const n=this.labelsContainer.children.push(this.labels.make());return n._setDataItem(e),e.set("label",n),this.labels.push(n),n}_shouldMakeBullet(e){return e.get("value")!=null}makeTick(e){const n=this.ticksContainer.children.push(this.ticks.make());return n._setDataItem(e),e.set("tick",n),this.ticks.push(n),n}_afterNew(){this.fields.push("category","fill"),super._afterNew()}_onDataClear(){const e=this.get("colors");e&&e.reset();const n=this.get("patterns");n&&n.reset()}_prepareChildren(){if(super._prepareChildren(),this._lLabels=[],this._rLabels=[],this._hLabels=[],this._valuesDirty){let e=0,n=0,i=0,s=1/0,r=0;oe(this._dataItems,a=>{let o=a.get("valueWorking",0);e+=o,n+=Math.abs(o)}),oe(this._dataItems,a=>{let o=a.get("valueWorking",0);o>i&&(i=o),o<s&&(s=o),r++;let l=o/n;n==0&&(l=0),a.setRaw("valuePercentTotal",l*100)}),this.setPrivateRaw("valueLow",s),this.setPrivateRaw("valueHigh",i),this.setPrivateRaw("valueSum",e),this.setPrivateRaw("valueAverage",e/r),this.setPrivateRaw("valueAbsoluteSum",n)}}show(e){const n=Object.create(null,{show:{get:()=>super.show}});return Si(this,void 0,void 0,function*(){let i=[];i.push(n.show.call(this,e)),i.push(this._sequencedShowHide(!0,e)),yield Promise.all(i)})}hide(e){const n=Object.create(null,{hide:{get:()=>super.hide}});return Si(this,void 0,void 0,function*(){let i=[];i.push(n.hide.call(this,e)),i.push(this._sequencedShowHide(!1,e)),yield Promise.all(i)})}_updateChildren(){super._updateChildren(),this._valuesDirty&&oe(this._dataItems,e=>{e.get("label").text.markDirtyText()}),(this.isDirty("legendLabelText")||this.isDirty("legendValueText"))&&oe(this._dataItems,e=>{this.updateLegendValue(e)}),this._arrange()}_arrange(){this._arrangeDown(this._lLabels),this._arrangeUp(this._lLabels),this._arrangeDown(this._rLabels),this._arrangeUp(this._rLabels),this._arrangeLeft(this._hLabels),this._arrangeRight(this._hLabels),oe(this.dataItems,e=>{this._updateTick(e)})}_afterChanged(){super._afterChanged(),this._arrange()}processDataItem(e){if(super.processDataItem(e),e.get("fill")==null){let n=this.get("colors");n&&e.setRaw("fill",n.next())}if(e.get("fillPattern")==null){let n=this.get("patterns");n&&e.setRaw("fillPattern",n.next())}}showDataItem(e,n){const i=Object.create(null,{showDataItem:{get:()=>super.showDataItem}});return Si(this,void 0,void 0,function*(){const s=[i.showDataItem.call(this,e,n)];me(n)||(n=this.get("stateAnimationDuration",0));const r=this.get("stateAnimationEasing");let a=e.get("value");const o=e.animate({key:"valueWorking",to:a,duration:n,easing:r});o&&s.push(o.waitForStop());const l=e.get("tick");l&&s.push(l.show(n));const u=e.get("label");u&&s.push(u.show(n));const d=e.get("slice");d&&s.push(d.show(n)),d.get("active")&&d.states.applyAnimate("active"),yield Promise.all(s)})}hideDataItem(e,n){const i=Object.create(null,{hideDataItem:{get:()=>super.hideDataItem}});return Si(this,void 0,void 0,function*(){const s=[i.hideDataItem.call(this,e,n)],r=this.states.create("hidden",{});me(n)||(n=r.get("stateAnimationDuration",this.get("stateAnimationDuration",0)));const a=r.get("stateAnimationEasing",this.get("stateAnimationEasing")),o=e.animate({key:"valueWorking",to:0,duration:n,easing:a});o&&s.push(o.waitForStop());const l=e.get("tick");l&&s.push(l.hide(n));const u=e.get("label");u&&s.push(u.hide(n));const d=e.get("slice");d.hideTooltip(),d&&s.push(d.hide(n)),yield Promise.all(s)})}disposeDataItem(e){super.disposeDataItem(e);let n=e.get("label");n&&(this.labels.removeValue(n),n.dispose());let i=e.get("tick");i&&(this.ticks.removeValue(i),i.dispose());let s=e.get("slice");s&&(this.slices.removeValue(s),s.dispose())}hoverDataItem(e){const n=e.get("slice");n&&!n.isHidden()&&n.hover()}unhoverDataItem(e){const n=e.get("slice");n&&n.unhover()}updateLegendMarker(e){if(e){const n=e.get("slice");if(n){const i=e.get("legendDataItem");if(i){const s=i.get("markerRectangle");oe(bk,r=>{n.get(r)!=null&&s.set(r,n.get(r))})}}}}_arrangeDown(e){if(e){let n=this._getNextDown();e.sort((i,s)=>i.y>s.y?1:i.y<s.y?-1:0),oe(e,i=>{const s=i.label.adjustedLocalBounds();let r=s.top;i.y+r<n&&(i.y=n-r),i.label.set("y",i.y),n=i.y+s.bottom})}}_getNextUp(){return this.labelsContainer.maxHeight()}_getNextDown(){return 0}_arrangeUp(e){if(e){let n=this._getNextUp();e.sort((i,s)=>i.y<s.y?1:i.y>s.y?-1:0),oe(e,i=>{const s=i.label.adjustedLocalBounds();let r=s.bottom;i.y+r>n&&(i.y=n-r),i.label.set("y",i.y),n=i.y+s.top})}}_arrangeRight(e){if(e){let n=0;e.sort((i,s)=>i.y>s.y?1:i.y<s.y?-1:0),oe(e,i=>{const s=i.label.adjustedLocalBounds();let r=s.left;i.y+r<n&&(i.y=n-r),i.label.set("x",i.y),n=i.y+s.right})}}_arrangeLeft(e){if(e){let n=this.labelsContainer.maxWidth();e.sort((i,s)=>i.y<s.y?1:i.y>s.y?-1:0),oe(e,i=>{const s=i.label.adjustedLocalBounds();let r=s.right;i.y+r>n&&(i.y=n-r),i.label.set("x",i.y),n=i.y+s.left})}}_updateSize(){super._updateSize(),this.markDirty()}_updateTick(e){}_dispose(){super._dispose();const e=this.chart;e&&e.series.removeValue(this)}}Object.defineProperty(yg,"className",{enumerable:!0,configurable:!0,writable:!0,value:"PercentSeries"});Object.defineProperty(yg,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Fo.classNames.concat([yg.className])});class bc extends _g{constructor(){super(...arguments),Object.defineProperty(this,"_maxRadius",{enumerable:!0,configurable:!0,writable:!0,value:1})}_afterNew(){super._afterNew(),this.seriesContainer.setAll({x:lt,y:lt})}_prepareChildren(){super._prepareChildren();const e=this.chartContainer,n=e.innerWidth(),i=e.innerHeight(),s=this.get("startAngle",0),r=this.get("endAngle",0),a=this.get("innerRadius");let o=_k(0,0,s,r,1);const l=n/(o.right-o.left),u=i/(o.bottom-o.top);let d={left:0,right:0,top:0,bottom:0};if(a instanceof xt){let h=a.value,p=Math.min(l,u);h=Math.max(p*h,p-Math.min(i,n))/p,d=_k(0,0,s,r,h),this.setPrivateRaw("irModifyer",h/a.value)}o=b0e([o,d]);const c=this._maxRadius;this._maxRadius=Math.min(l,u);const f=Qn(this.get("radius",0),this._maxRadius);this.seriesContainer.setAll({dy:-f*(o.bottom+o.top)/2,dx:-f*(o.right+o.left)/2}),(this.isDirty("startAngle")||this.isDirty("endAngle")||c!=this._maxRadius)&&this.series.each(h=>{h._markDirtyKey("startAngle")}),(this.isDirty("innerRadius")||this.isDirty("radius"))&&this.series.each(h=>{h._markDirtyKey("innerRadius")})}radius(e){let n=Qn(this.get("radius",0),this._maxRadius),i=Qn(this.get("innerRadius",0),n);if(e){let s=this.series.indexOf(e),r=this.series.length,a=e.get("radius");return a!=null?i+Qn(a,n-i):i+(n-i)/r*(s+1)}return n}innerRadius(e){const n=this.radius();let i=Qn(this.get("innerRadius",0),n);if(i<0&&(i=n+i),e){let s=this.series.indexOf(e),r=this.series.length,a=e.get("innerRadius");return a!=null?i+Qn(a,n-i):i+(n-i)/r*s}return i}_updateSize(){super._updateSize(),this.markDirtyKey("radius")}}Object.defineProperty(bc,"className",{enumerable:!0,configurable:!0,writable:!0,value:"PieChart"});Object.defineProperty(bc,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:_g.classNames.concat([bc.className])});class wc extends yg{_makeSlices(){return new ji(Sn.new({}),()=>Ty._new(this._root,{themeTags:Vt(this.slices.template.get("themeTags",[]),["pie","series"])},[this.slices.template]))}_makeLabels(){return new ji(Sn.new({}),()=>Sy._new(this._root,{themeTags:Vt(this.labels.template.get("themeTags",[]),["pie","series"])},[this.labels.template]))}_makeTicks(){return new ji(Sn.new({}),()=>bh._new(this._root,{themeTags:Vt(this.ticks.template.get("themeTags",[]),["pie","series"])},[this.ticks.template]))}processDataItem(e){super.processDataItem(e);const n=this.makeSlice(e);n.on("scale",()=>{this._updateTick(e)}),n.on("shiftRadius",()=>{this._updateTick(e)}),n.events.on("positionchanged",()=>{this._updateTick(e)});const i=this.makeLabel(e);i.events.on("positionchanged",()=>{this._updateTick(e)}),this.makeTick(e),n.events.on("positionchanged",()=>{i.markDirty()})}_getNextUp(){const e=this.chart;return e?e._maxRadius:this.labelsContainer.maxHeight()/2}_getNextDown(){const e=this.chart;return e?-e._maxRadius:-this.labelsContainer.maxHeight()/2}_prepareChildren(){super._prepareChildren();const e=this.chart;if(e){if(this.isDirty("alignLabels")){let n=this.labels.template;if(this.get("alignLabels"))n.set("textType","aligned");else{let i=n.get("textType");(i==null||i=="aligned")&&n.set("textType","adjusted")}}if(this._valuesDirty||this.isDirty("radius")||this.isDirty("innerRadius")||this.isDirty("startAngle")||this.isDirty("endAngle")||this.isDirty("alignLabels")){this.markDirtyBounds();const n=this.get("startAngle",e.get("startAngle",-90)),s=this.get("endAngle",e.get("endAngle",270))-n;let r=n;const a=e.radius(this);this.setPrivateRaw("radius",a);let o=e.innerRadius(this)*e.getPrivate("irModifyer",1);o<0&&(o=a+o),oe(this._dataItems,l=>{this.updateLegendValue(l);let u=s*l.get("valuePercentTotal")/100;const d=l.get("slice");if(d){d.set("radius",a),d.set("innerRadius",o),d.set("startAngle",r),d.set("arc",u);const h=l.get("fill");d._setDefault("fill",h),d._setDefault("stroke",h);const p=l.get("fillPattern");d._setDefault("fillPattern",p)}let c=tE(r+u/2);const f=l.get("label");if(f&&(f.setPrivate("radius",a),f.setPrivate("innerRadius",o),f.set("labelAngle",c),f.get("textType")=="aligned")){let h=a+f.get("radius",0),p=a*Dr(c);c>90&&c<=270?(!f.isHidden()&&!f.isHiding()&&this._lLabels.push({label:f,y:p}),h*=-1,h-=this.labelsContainer.get("paddingLeft",0),f.set("centerX",Fe),f.setPrivateRaw("left",!0)):(!f.isHidden()&&!f.isHiding()&&this._rLabels.push({label:f,y:p}),h+=this.labelsContainer.get("paddingRight",0),f.set("centerX",0),f.setPrivateRaw("left",!1)),f.set("x",h),f.set("y",a*Dr(c))}r+=u,this._updateTick(l)})}}}_updateTick(e){const n=e.get("tick"),i=e.get("label"),s=e.get("slice"),r=n.get("location",1);if(n&&i&&s){const a=(s.get("shiftRadius",0)+s.get("radius",0))*s.get("scale",1)*r,o=i.get("labelAngle",0),l=Ba(o),u=Dr(o),d=this.labelsContainer,c=d.get("paddingLeft",0),f=d.get("paddingRight",0);let h=0,p=0;h=i.x(),p=i.y();let g=[];if(h!=0||p!=0){if(i.get("textType")=="circular"){const _=i.radius()-i.get("paddingBottom",0),b=i.get("labelAngle",0);h=_*Ba(b),p=_*Dr(b)}let v=-f;i.getPrivate("left")&&(v=c),g=[{x:s.x()+a*l,y:s.y()+a*u},{x:h+v,y:p},{x:h,y:p}]}n.set("points",g)}}_positionBullet(e){const n=e.get("sprite");if(n){const s=n.dataItem.get("slice");if(s){const r=s.get("innerRadius",0),a=s.get("radius",0),o=s.get("startAngle",0),l=s.get("arc",0),u=e.get("locationX",.5),d=e.get("locationY",.5),c=o+l*u,f=r+(a-r)*d;n.setAll({x:Ba(c)*f,y:Dr(c)*f})}}}}Object.defineProperty(wc,"className",{enumerable:!0,configurable:!0,writable:!0,value:"PieSeries"});Object.defineProperty(wc,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:yg.classNames.concat([wc.className])});class Uxe{constructor(e,n=!0){an(this,"indicator");an(this,"animation");this.createIndicator(e),n&&this.hide()}createIndicator(e){this.indicator=e.container.children.push(st.new(e,{width:Fe,height:Fe,layer:1e3,background:tr.new(e,{fill:pl(16777215),fillOpacity:.7})})),this.indicator.children.push(Hi.new(e,{text:"Loading...",fontSize:25,x:lt,y:lt,centerX:lt,centerY:lt}));const n=this.indicator.children.push(cn.new(e,{width:32,height:32,fill:pl(0),x:lt,y:lt,centerX:lt,centerY:lt,dy:-45,svgPath:"M12 5v10l9 9-9 9v10h24V33l-9-9 9-9V5H12zm20 29v5H16v-5l8-8 8 8zm-8-12-8-8V9h16v5l-8 8z"}));this.animation=n.animate({key:"rotation",to:180,loops:1/0,duration:2e3,easing:x0e(dl)})}show(){this.animation.play(),this.indicator.show()}hide(){this.animation.pause(),this.indicator.hide()}toggle(){this.indicator.isHidden()?this.show():this.hide()}}class Hxe extends $w{setupDefaultRules(){super.setupDefaultRules(),this.rule("Component").setAll({interpolationDuration:600}),this.rule("Hierarchy").set("animationDuration",600),this.rule("Scrollbar").set("animationDuration",600),this.rule("Tooltip").set("animationDuration",300),this.rule("MapChart").set("animationDuration",1e3),this.rule("MapChart").set("wheelDuration",300),this.rule("Entity").setAll({stateAnimationDuration:600}),this.rule("Sprite").states.create("default",{stateAnimationDuration:600}),this.rule("Tooltip",["axis"]).setAll({animationDuration:200}),this.rule("WordCloud").set("animationDuration",500),this.rule("Polygon").set("animationDuration",600),this.rule("ArcDiagram").set("animationDuration",600)}}const ef=kt({__name:"BaseChart",props:{from:{},to:{},title:{},subtitle:{},schools:{default:()=>[]},createChart:{},afterChartCreated:{},areUpdateConditionSatistied:{},updateChartData:{}},setup(t){const e=t,n=Ve(null);let i;we(e,()=>s());async function s(){e.areUpdateConditionSatistied()&&e.from&&(i.show(),await e.updateChartData(e.from,e.to??rt.today().toIyyyyMMdd(),...e.schools),i.hide())}function r(){const a=nE.new(n.value);a.setThemes([Hxe.new(a)]),i=new Uxe(a),e.createChart(a),s(),e.afterChartCreated()}return Tt(()=>r()),(a,o)=>{const l=j("v-card-text"),u=j("v-card"),d=j("v-col"),c=j("v-row");return be(),De(c,null,{default:M(()=>[m(d,null,{default:M(()=>[m(u,{title:a.title,subtitle:a.subtitle},{default:M(()=>[m(l,null,{default:M(()=>[Me("div",{class:"chart-container",ref_key:"chartdiv",ref:n},null,512)]),_:1})]),_:1},8,["title","subtitle"])]),_:1})]),_:1})}}});class zxe extends $w{setupDefaultRules(){super.setupDefaultRules();const e=this._root.interfaceColors,n=this._root.language,i=this.rule.bind(this);i("XYChart").setAll({colors:wh.new(this._root,{}),paddingLeft:20,paddingRight:20,paddingTop:16,paddingBottom:16,panX:!1,panY:!1,wheelStep:.25,arrangeTooltips:!0,pinchZoomX:!1,pinchZoomY:!1}),i("XYSeries").setAll({legendLabelText:"{name}"}),i("Rectangle",["plotbackground","xy","background"]).setAll({fill:tt.fromHex(0),fillOpacity:0}),i("XYChart",["scrollbar","chart"]).setAll({paddingBottom:0,paddingLeft:0,paddingTop:0,paddingRight:0,colors:wh.new(this._root,{saturation:0})});{const l=i("Graphics",["scrollbar","overlay"]);l.setAll({fillOpacity:.5}),nt(l,"fill",e,"background")}i("RoundedRectangle",["xy","scrollbar","thumb"]).setAll({cornerRadiusTR:0,cornerRadiusTL:0,cornerRadiusBR:0,cornerRadiusBL:0,fillOpacity:0,focusable:!0}),i("RoundedRectangle",["xy","scrollbar","thumb"]).states.create("hover",{fillOpacity:.4}),i("RoundedRectangle",["xy","scrollbar","chart","background"]).setAll({cornerRadiusTL:0,cornerRadiusBL:0,cornerRadiusTR:0,cornerRadiusBR:0}),i("RoundedRectangle",["xy","scrollbar","chart","background","resize","button"]).setAll({cornerRadiusBL:40,cornerRadiusBR:40,cornerRadiusTL:40,cornerRadiusTR:40}),i("AxisRendererX",["xy","chart","scrollbar"]).setAll({strokeOpacity:0,inside:!0}),i("AxisRendererY",["xy","chart","scrollbar"]).setAll({strokeOpacity:0,inside:!0,minGridDistance:5}),i("AxisLabel",["xy","scrollbar","x"]).setAll({opacity:.5,centerY:Fe,minPosition:.01,maxPosition:.99,fontSize:"0.8em"}),i("AxisLabel",["category"]).setAll({text:"{category}",populateText:!0}),i("AxisLabel",["x"]).setAll({centerY:0}),i("AxisLabel",["x","inside"]).setAll({centerY:Fe}),i("AxisLabel",["x","inside","opposite"]).setAll({centerY:0}),i("AxisLabel",["x","opposite"]).setAll({centerY:Fe}),i("AxisLabel",["y"]).setAll({centerX:Fe}),i("AxisLabel",["y","inside"]).setAll({centerX:0}),i("AxisLabel",["y","inside","opposite"]).setAll({centerX:Fe}),i("AxisLabel",["y","opposite"]).setAll({centerX:0}),i("AxisLabel",["minor"]).setAll({fontSize:"0.6em"}),i("AxisLabel",["xy","scrollbar","y"]).setAll({visible:!1}),i("Grid",["xy","scrollbar","y"]).setAll({visible:!1}),i("Grid",["xy","scrollbar","x"]).setAll({opacity:.5}),i("XYCursor").setAll({behavior:"none",layer:30,exportable:!1,snapToSeriesBy:"xy",moveThreshold:1});{const l=i("Grid",["cursor","x"]);l.setAll({forceInactive:!0,strokeOpacity:.8,strokeDasharray:[2,2],role:"slider",ariaLabel:n.translate("Use left and right arrows to move selection")}),nt(l,"stroke",e,"alternativeBackground")}{const l=i("Grid",["cursor","y"]);l.setAll({forceInactive:!0,strokeOpacity:.8,strokeDasharray:[2,2],role:"slider",ariaLabel:n.translate("Use up and down arrows to move selection")}),nt(l,"stroke",e,"alternativeBackground")}{const l=i("Graphics",["cursor","selection"]);l.setAll({fillOpacity:.15}),nt(l,"fill",e,"alternativeBackground")}i("Axis").setAll({start:0,end:1,minZoomCount:1,maxZoomCount:1/0,maxZoomFactor:1e3,maxDeviation:.1,snapTooltip:!0,tooltipLocation:.5,panX:!0,panY:!0,zoomX:!0,zoomY:!0,fixAxisSize:!0}),i("AxisLabel").setAll({location:.5,multiLocation:0,centerX:lt,centerY:lt,paddingTop:3,paddingBottom:3,paddingLeft:5,paddingRight:5}),i("Container",["axis","header"]).setAll({layer:30}),i("Rectangle",["axis","header","background"]).setAll({crisp:!0});{const l=i("AxisRenderer");l.setAll({crisp:!0,strokeOpacity:0}),nt(l,"stroke",e,"grid")}i("AxisRendererX").setAll({minGridDistance:120,opposite:!1,inversed:!1,cellStartLocation:0,cellEndLocation:1,width:Fe}),i("AxisRendererY").setAll({minGridDistance:40,opposite:!1,inversed:!1,cellStartLocation:0,cellEndLocation:1,height:Fe});{const l=i("Rectangle",["axis","thumb"]);l.setAll({fillOpacity:0}),nt(l,"fill",e,"alternativeBackground"),l.states.create("hover",{fillOpacity:.1})}i("Rectangle",["axis","thumb","x"]).setAll({cursorOverStyle:"ew-resize"}),i("Rectangle",["axis","thumb","y"]).setAll({cursorOverStyle:"ns-resize"});{const l=i("Grid");l.setAll({location:0,strokeOpacity:.15,crisp:!0}),nt(l,"stroke",e,"grid")}{const l=i("Grid",["minor"]);l.setAll({location:0,strokeOpacity:.07,crisp:!0}),nt(l,"stroke",e,"grid")}i("Grid",["base"]).setAll({strokeOpacity:.3});{const l=i("Graphics",["axis","fill"]);l.setAll({visible:!1,isMeasured:!1,position:"absolute",fillOpacity:.05}),nt(l,"fill",e,"alternativeBackground")}i("Graphics",["axis","fill","range"]).setAll({isMeasured:!0}),i("Graphics",["series","fill","range"]).setAll({visible:!1,isMeasured:!0}),i("Grid",["series","range"]).setAll({visible:!1}),i("AxisTick",["series","range"]).setAll({visible:!1}),i("AxisLabel",["series","range"]).setAll({visible:!1});{const l=i("AxisTick");l.setAll({location:.5,multiLocation:0,strokeOpacity:1,isMeasured:!1,position:"absolute",visible:!1}),nt(l,"stroke",e,"grid")}i("CategoryAxis").setAll({startLocation:0,endLocation:1,fillRule:(l,u)=>{const d=l.get("axisFill");d&&(!me(u)||u%2==0?d.setPrivate("visible",!0):d.setPrivate("visible",!1))}});const s=[{timeUnit:"millisecond",count:1},{timeUnit:"millisecond",count:5},{timeUnit:"millisecond",count:10},{timeUnit:"millisecond",count:50},{timeUnit:"millisecond",count:100},{timeUnit:"millisecond",count:500},{timeUnit:"second",count:1},{timeUnit:"second",count:5},{timeUnit:"second",count:10},{timeUnit:"second",count:30},{timeUnit:"minute",count:1},{timeUnit:"minute",count:5},{timeUnit:"minute",count:10},{timeUnit:"minute",count:15},{timeUnit:"minute",count:30},{timeUnit:"hour",count:1},{timeUnit:"hour",count:3},{timeUnit:"hour",count:6},{timeUnit:"hour",count:12},{timeUnit:"day",count:1},{timeUnit:"day",count:2},{timeUnit:"day",count:3},{timeUnit:"day",count:4},{timeUnit:"day",count:5},{timeUnit:"week",count:1},{timeUnit:"month",count:1},{timeUnit:"month",count:2},{timeUnit:"month",count:3},{timeUnit:"month",count:6},{timeUnit:"year",count:1},{timeUnit:"year",count:2},{timeUnit:"year",count:5},{timeUnit:"year",count:10},{timeUnit:"year",count:50},{timeUnit:"year",count:100},{timeUnit:"year",count:200},{timeUnit:"year",count:500},{timeUnit:"year",count:1e3},{timeUnit:"year",count:2e3},{timeUnit:"year",count:5e3},{timeUnit:"year",count:1e4},{timeUnit:"year",count:1e5}],r={millisecond:n.translate("_date_millisecond"),second:n.translate("_date_second"),minute:n.translate("_date_minute"),hour:n.translate("_date_hour"),day:n.translate("_date_day"),week:n.translate("_date_day"),month:n.translate("_date_month"),year:n.translate("_date_year")},a={millisecond:n.translate("_date_millisecond"),second:n.translate("_date_second"),minute:n.translate("_date_minute"),hour:n.translate("_date_day"),day:n.translate("_date_day"),week:n.translate("_date_day"),month:n.translate("_date_month")+" "+n.translate("_date_year"),year:n.translate("_date_year")},o={millisecond:n.translate("_date_millisecond_full"),second:n.translate("_date_second_full"),minute:n.translate("_date_minute_full"),hour:n.translate("_date_hour_full"),day:n.translate("_date_day_full"),week:n.translate("_date_week_full"),month:n.translate("_date_month_full"),year:n.translate("_date_year")};i("CategoryDateAxis").setAll({markUnitChange:!0,gridIntervals:fk(s),dateFormats:Bu(r),periodChangeDateFormats:Bu(a)}),i("DateAxis").setAll({maxZoomFactor:null,strictMinMax:!0,startLocation:0,endLocation:1,markUnitChange:!0,groupData:!1,groupCount:500,gridIntervals:fk(s),dateFormats:Bu(r),periodChangeDateFormats:Bu(a),tooltipDateFormats:o,groupIntervals:[{timeUnit:"millisecond",count:1},{timeUnit:"millisecond",count:10},{timeUnit:"millisecond",count:100},{timeUnit:"second",count:1},{timeUnit:"second",count:10},{timeUnit:"minute",count:1},{timeUnit:"minute",count:10},{timeUnit:"hour",count:1},{timeUnit:"day",count:1},{timeUnit:"week",count:1},{timeUnit:"month",count:1},{timeUnit:"year",count:1}],fillRule:l=>{const u=l.get("axisFill");if(u){const d=l.component,c=l.get("value"),f=l.get("endValue"),h=d.intervalDuration(),p=d.getPrivate("baseInterval"),g=d.getPrivate("gridInterval",p);let v=d.getPrivate("min",0);if(v=Xu(new Date(v),g.timeUnit,g.count,this._root.locale.firstDayOfWeek,this._root.utc,void 0,this._root.timezone).getTime(),c!=null&&f!=null){const _=Math.round(Math.round((c-v)/h))/2;_==Math.round(_)?u.setPrivate("visible",!0):u.setPrivate("visible",!1)}}}}),i("GaplessDateAxis").setAll({fillRule:l=>{const u=l.get("axisFill");if(u){const d=l.get("index");let c=!1;(!me(d)||d%2==0)&&(c=!0),u.setPrivate("visible",c)}}}),i("ValueAxis").setAll({baseValue:0,logarithmic:!1,strictMinMax:!1,autoZoom:!0,fillRule:l=>{const u=l.get("axisFill");if(u){const d=l.component,c=l.get("value"),f=d.getPrivate("step");me(c)&&me(f)&&(ci(c/f/2,5)==Math.round(c/f/2)?u.setPrivate("visible",!1):u.setPrivate("visible",!0))}}}),i("DurationAxis").setAll({baseUnit:"second"}),i("XYSeries").setAll({maskBullets:!0,stackToNegative:!0,locationX:.5,locationY:.5,snapTooltip:!1,openValueXGrouped:"open",openValueYGrouped:"open",valueXGrouped:"close",valueYGrouped:"close",seriesTooltipTarget:"series"}),i("BaseColumnSeries").setAll({adjustBulletPosition:!0}),i("ColumnSeries").setAll({clustered:!0}),i("RoundedRectangle",["series","column"]).setAll({position:"absolute",isMeasured:!1,width:jn(70),height:jn(70),strokeWidth:1,strokeOpacity:1,cornerRadiusBL:0,cornerRadiusTL:0,cornerRadiusBR:0,cornerRadiusTR:0,fillOpacity:1,role:"figure"}),i("LineSeries").setAll({connect:!0,autoGapCount:1.1,stackToNegative:!1}),i("Graphics",["series","stroke"]).setAll({position:"absolute",strokeWidth:1,strokeOpacity:1,isMeasured:!1}),i("Graphics",["series","fill"]).setAll({visible:!1,fillOpacity:0,position:"absolute",strokeWidth:0,strokeOpacity:0,isMeasured:!1}),i("Graphics",["line","series","legend","marker","stroke"]).setAll({draw:(l,u)=>{const d=u.parent;if(d){const c=d.height(),f=d.width();l.moveTo(0,c/2),l.lineTo(f,c/2)}}});{const l=i("Graphics",["line","series","legend","marker","stroke"]).states.create("disabled",{});nt(l,"stroke",e,"disabled")}i("Graphics",["line","series","legend","marker","fill"]).setAll({draw:(l,u)=>{const d=u.parent;if(d){const c=d.height(),f=d.width();l.moveTo(0,0),l.lineTo(f,0),l.lineTo(f,c),l.lineTo(0,c),l.lineTo(0,0)}}});{const l=i("Graphics",["line","series","legend","marker","fill"]).states.create("disabled",{});nt(l,"stroke",e,"disabled")}i("SmoothedXYLineSeries").setAll({tension:.5}),i("SmoothedXLineSeries").setAll({tension:.5}),i("SmoothedYLineSeries").setAll({tension:.5}),i("Candlestick").setAll({position:"absolute",isMeasured:!1,width:jn(50),height:jn(50),strokeWidth:1,strokeOpacity:1,cornerRadiusBL:0,cornerRadiusTL:0,cornerRadiusBR:0,cornerRadiusTR:0,fillOpacity:1,role:"figure"}),i("OHLC").setAll({width:jn(80),height:jn(80)}),i("CandlestickSeries").setAll({lowValueXGrouped:"low",lowValueYGrouped:"low",highValueXGrouped:"high",highValueYGrouped:"high",openValueXGrouped:"open",openValueYGrouped:"open",valueXGrouped:"close",valueYGrouped:"close"});{const l=i("Rectangle",["column","autocolor"]).states.create("riseFromOpen",{});nt(l,"fill",e,"positive"),nt(l,"stroke",e,"positive")}{const l=i("Rectangle",["column","autocolor"]).states.create("dropFromOpen",{});nt(l,"fill",e,"negative"),nt(l,"stroke",e,"negative")}i("Rectangle",["column","autocolor","pro"]).states.create("riseFromOpen",{fillOpacity:0}),i("Rectangle",["column","autocolor","pro"]).states.create("dropFromOpen",{fillOpacity:1});{const l=i("Rectangle",["column","autocolor","pro"]).states.create("riseFromPrevious",{});nt(l,"fill",e,"positive"),nt(l,"stroke",e,"positive")}{const l=i("Rectangle",["column","autocolor","pro"]).states.create("dropFromPrevious",{});nt(l,"fill",e,"negative"),nt(l,"stroke",e,"negative")}i("RoundedRectangle",["rangegrip"]).setAll({strokeOpacity:0,fillOpacity:0,strokeWidth:1,width:12,height:12});{const l=i("Graphics",["rangegrip","button","icon"]);l.setAll({interactive:!1,crisp:!0,strokeOpacity:.5,draw:u=>{u.moveTo(0,.5),u.lineTo(0,12.5),u.moveTo(2,.5),u.lineTo(2,12.5),u.moveTo(4,.5),u.lineTo(4,12.5)}}),nt(l,"stroke",e,"secondaryButtonText")}i("Button",["rangegrip"]).setAll({draggable:!0,paddingTop:0,paddingBottom:0}),i("Button",["rangegrip","vertical"]).setAll({rotation:90,cursorOverStyle:"ns-resize",centerX:lt}),i("Button",["rangegrip","horizontal"]).setAll({cursorOverStyle:"ew-resize",centerX:lt}),i("Button",["rangegrip","vertical","left"]).setAll({centerY:Fe}),i("Button",["rangegrip","vertical","right"]).setAll({centerY:0}),i("Button",["rangegrip","horizontal","top"]).setAll({centerY:0}),i("Button",["rangegrip","horizontal","bottom"]).setAll({centerY:Fe})}}class bg extends yc{constructor(){super(...arguments),Object.defineProperty(this,"xAxes",{enumerable:!0,configurable:!0,writable:!0,value:new vy}),Object.defineProperty(this,"yAxes",{enumerable:!0,configurable:!0,writable:!0,value:new vy}),Object.defineProperty(this,"topAxesContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.chartContainer.children.push(st.new(this._root,{width:Fe,layout:this._root.verticalLayout}))}),Object.defineProperty(this,"yAxesAndPlotContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.chartContainer.children.push(st.new(this._root,{width:Fe,height:Fe,layout:this._root.horizontalLayout}))}),Object.defineProperty(this,"bottomAxesContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.chartContainer.children.push(st.new(this._root,{width:Fe,layout:this._root.verticalLayout}))}),Object.defineProperty(this,"leftAxesContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.yAxesAndPlotContainer.children.push(st.new(this._root,{height:Fe,layout:this._root.horizontalLayout}))}),Object.defineProperty(this,"plotsContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.yAxesAndPlotContainer.children.push(st.new(this._root,{width:Fe,height:Fe,maskContent:!1}))}),Object.defineProperty(this,"plotContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.plotsContainer.children.push(st.new(this._root,{width:Fe,height:Fe}))}),Object.defineProperty(this,"topPlotContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.plotsContainer.children.push(st.new(this._root,{width:Fe,height:Fe}))}),Object.defineProperty(this,"gridContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.plotContainer.children.push(st.new(this._root,{width:Fe,height:Fe,isMeasured:!1}))}),Object.defineProperty(this,"topGridContainer",{enumerable:!0,configurable:!0,writable:!0,value:st.new(this._root,{width:Fe,height:Fe,isMeasured:!1})}),Object.defineProperty(this,"rightAxesContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.yAxesAndPlotContainer.children.push(st.new(this._root,{height:Fe,layout:this._root.horizontalLayout}))}),Object.defineProperty(this,"axisHeadersContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.plotContainer.children.push(st.new(this._root,{}))}),Object.defineProperty(this,"zoomOutButton",{enumerable:!0,configurable:!0,writable:!0,value:this.topPlotContainer.children.push(fg.new(this._root,{themeTags:["zoom"],icon:cn.new(this._root,{themeTags:["button","icon"]})}))}),Object.defineProperty(this,"_movePoint",{enumerable:!0,configurable:!0,writable:!0,value:{x:0,y:0}}),Object.defineProperty(this,"_wheelDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_otherCharts",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_movePoints",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_downStartX",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_downEndX",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_downStartY",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_downEndY",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}_afterNew(){this._defaultThemes.push(zxe.new(this._root)),super._afterNew(),this._disposers.push(this.xAxes),this._disposers.push(this.yAxes);const e=this._root;let n=this._root.verticalLayout;const i=this.zoomOutButton;i.events.on("click",()=>{this.zoomOut()}),i.hide(0),i.states.lookup("default").set("opacity",1),this.chartContainer.set("layout",n);const s=this.plotContainer;s.children.push(this.seriesContainer),this._disposers.push(this._processAxis(this.xAxes,this.bottomAxesContainer)),this._disposers.push(this._processAxis(this.yAxes,this.leftAxesContainer)),s.children.push(this.topGridContainer),s.children.push(this.bulletsContainer),s.set("interactive",!0),s.set("interactiveChildren",!1),s.set("background",tr.new(e,{themeTags:["plotbackground","xy","background"]})),this._disposers.push(s.events.on("pointerdown",r=>{this._handlePlotDown(r)})),this._disposers.push(s.events.on("globalpointerup",r=>{this._handlePlotUp(r)})),this._disposers.push(s.events.on("globalpointermove",r=>{this._handlePlotMove(r)})),this._maskGrid(),this._setUpTouch()}_beforeChanged(){super._beforeChanged(),(this.isDirty("pinchZoomX")||this.isDirty("pinchZoomY")||this.get("panX")||this.get("panY"))&&this._setUpTouch()}_setUpTouch(){this.plotContainer._display.cancelTouch||(this.plotContainer._display.cancelTouch=!!(this.get("pinchZoomX")||this.get("pinchZoomY")||this.get("panX")||this.get("panY")))}_maskGrid(){this.gridContainer.set("maskContent",!0),this.topGridContainer.set("maskContent",!0)}_removeSeries(e){e._unstack(),e._posXDp&&e._posXDp.dispose(),e._posYDp&&e._posYDp.dispose(),e.set("baseAxis",void 0);const n=e.get("xAxis");n&&(Ir(n.series,e),n.markDirtyExtremes());const i=e.get("yAxis");i&&(Ir(i.series,e),i.markDirtyExtremes());const s=this.get("cursor");if(s){const r=s.get("snapToSeries");r&&Ir(r,e)}super._removeSeries(e)}handleWheel(e){const n=this.get("wheelX"),i=this.get("wheelY"),s=this.plotContainer,r=e.originalEvent;let a=!1;if(ZC(r,this))a=!0;else return;const o=s.toLocal(e.point),l=this.get("wheelStep",.2),u=r.deltaY/100,d=r.deltaX/100,c=this.get("wheelZoomPositionX"),f=this.get("wheelZoomPositionY");(n==="zoomX"||n==="zoomXY")&&d!=0&&this.xAxes.each(h=>{if(h.get("zoomX")){let p=h.get("start"),g=h.get("end"),v=h.fixPosition(o.x/s.width());c!=null&&(v=c);let _=h.get("maxDeviation",0),b=Math.min(1+_,Math.max(-_,p-l*(g-p)*d*v)),x=Math.max(-_,Math.min(1+_,g+l*(g-p)*d*(1-v)));b==p&&x==g&&(a=!1),1/(x-b)<h.getPrivate("maxZoomFactor",1/0)/h.get("minZoomCount",1)?this._handleWheelAnimation(h.zoom(b,x)):a=!1}}),(i==="zoomX"||i==="zoomXY")&&u!=0&&this.xAxes.each(h=>{if(h.get("zoomX")){let p=h.get("start"),g=h.get("end"),v=h.fixPosition(o.x/s.width());c!=null&&(v=c);let _=h.get("maxDeviation",0),b=Math.min(1+_,Math.max(-_,p-l*(g-p)*u*v)),x=Math.max(-_,Math.min(1+_,g+l*(g-p)*u*(1-v)));b==p&&x==g&&(a=!1),1/(x-b)<h.getPrivate("maxZoomFactor",1/0)/h.get("minZoomCount",1)?this._handleWheelAnimation(h.zoom(b,x)):a=!1}}),(n==="zoomY"||n==="zoomXY")&&d!=0&&this.yAxes.each(h=>{if(h.get("zoomY")){let p=h.get("start"),g=h.get("end"),v=h.fixPosition(o.y/s.height());f!=null&&(v=f);let _=h.get("maxDeviation",0),b=Math.min(1+_,Math.max(-_,p-l*(g-p)*d*v)),x=Math.max(-_,Math.min(1+_,g+l*(g-p)*d*(1-v)));b==p&&x==g&&(a=!1),1/(x-b)<h.getPrivate("maxZoomFactor",1/0)/h.get("minZoomCount",1)?this._handleWheelAnimation(h.zoom(b,x)):a=!1}}),(i==="zoomY"||i==="zoomXY")&&u!=0&&this.yAxes.each(h=>{if(h.get("zoomY")){let p=h.get("start"),g=h.get("end"),v=h.fixPosition(o.y/s.height());f!=null&&(v=f);let _=h.get("maxDeviation",0),b=Math.min(1+_,Math.max(-_,p-l*(g-p)*u*v)),x=Math.max(-_,Math.min(1+_,g+l*(g-p)*u*(1-v)));b==p&&x==g&&(a=!1),1/(x-b)<h.getPrivate("maxZoomFactor",1/0)/h.get("minZoomCount",1)?this._handleWheelAnimation(h.zoom(b,x)):a=!1}}),(n==="panX"||n==="panXY")&&d!=0&&this.xAxes.each(h=>{if(h.get("panX")){let p=h.get("start"),g=h.get("end"),v=this._getWheelSign(h)*l*(g-p)*d,_=p+v,b=g+v,x=this._fixWheel(_,b);_=x[0],b=x[1],_==p&&b==g&&(a=!1),this._handleWheelAnimation(h.zoom(_,b))}}),(i==="panX"||i==="panXY")&&u!=0&&this.xAxes.each(h=>{if(h.get("panX")){let p=h.get("start"),g=h.get("end"),v=this._getWheelSign(h)*l*(g-p)*u,_=p+v,b=g+v,x=this._fixWheel(_,b);_=x[0],b=x[1],_==p&&b==g&&(a=!1),this._handleWheelAnimation(h.zoom(_,b))}}),(n==="panY"||n==="panXY")&&d!=0&&this.yAxes.each(h=>{if(h.get("panY")){let p=h.get("start"),g=h.get("end"),v=this._getWheelSign(h)*l*(g-p)*d,_=p+v,b=g+v,x=this._fixWheel(_,b);_=x[0],b=x[1],_==p&&b==g&&(a=!1),this._handleWheelAnimation(h.zoom(_,b))}}),(i==="panY"||i==="panXY")&&u!=0&&this.yAxes.each(h=>{if(h.get("panY")){let p=h.get("start"),g=h.get("end"),v=this._getWheelSign(h)*l*(g-p)*u,_=p-v,b=g-v,x=this._fixWheel(_,b);_=x[0],b=x[1],_==p&&b==g&&(a=!1),this._handleWheelAnimation(h.zoom(_,b))}}),a&&r.preventDefault()}_handleSetWheel(){const e=this.get("wheelX"),n=this.get("wheelY"),i=this.plotContainer;e!=="none"||n!=="none"?(this._wheelDp=i.events.on("wheel",s=>{const r=s.originalEvent;(e!=="none"&&Math.abs(r.deltaX)!=0||n!=="none"&&Math.abs(r.deltaY)!=0)&&this.handleWheel(s)}),this._disposers.push(this._wheelDp)):this._wheelDp&&this._wheelDp.dispose()}_getWheelSign(e){let n=1;return e.get("renderer").get("inversed")&&(n=-1),n}_fixWheel(e,n){const i=n-e;return e<0&&(e=0,n=e+i),n>1&&(n=1,e=n-i),[e,n]}_handlePlotDown(e){const n=e.originalEvent;if(n.button==2)return;const i=this.plotContainer;let s=i.toLocal(e.point);if((this.get("pinchZoomX")||this.get("pinchZoomY"))&&n.pointerId&&wi(i._downPoints).length>0){const a=this.xAxes.getIndex(0),o=this.yAxes.getIndex(0);a&&(this._downStartX=a.get("start",0),this._downEndX=a.get("end",1)),o&&(this._downStartY=o.get("start",0),this._downEndY=o.get("end",1))}if((this.get("panX")||this.get("panY"))&&s.x>=0&&s.y>=0&&s.x<=i.width()&&s.y<=this.height()){this._downPoint={x:n.clientX,y:n.clientY};const r=this.get("panX"),a=this.get("panY");r&&this.xAxes.each(l=>{l._panStart=l.get("start"),l._panEnd=l.get("end")}),a&&this.yAxes.each(l=>{l._panStart=l.get("start"),l._panEnd=l.get("end")});const o="panstarted";this.events.isEnabled(o)&&this.events.dispatch(o,{type:o,target:this,originalEvent:e.originalEvent})}}_handleWheelAnimation(e){e?e.events.on("stopped",()=>{this._dispatchWheelAnimation()}):this._dispatchWheelAnimation()}_dispatchWheelAnimation(){const e="wheelended";this.events.isEnabled(e)&&this.events.dispatch(e,{type:e,target:this})}_handlePlotUp(e){const n=this._downPoint;if(n&&(this.get("panX")||this.get("panY"))){if(e.originalEvent.clientX==n.x&&e.originalEvent.clientY==n.y){const s="pancancelled";this.events.isEnabled(s)&&this.events.dispatch(s,{type:s,target:this,originalEvent:e.originalEvent})}const i="panended";this.events.isEnabled(i)&&this.events.dispatch(i,{type:i,target:this,originalEvent:e.originalEvent})}this._downPoint=void 0,this.xAxes.each(i=>{i._isPanning=!1}),this.yAxes.each(i=>{i._isPanning=!1})}_handlePlotMove(e){const n=this.plotContainer;if(this.get("pinchZoomX")||this.get("pinchZoomY")){const r=e.originalEvent.pointerId;if(r&&(this._movePoints[r]=e.point,wi(n._downPoints).length>1)){this._handlePinch();return}}let i=this._downPoint;if(i){i=n.toLocal(this._root.documentPointToRoot(i));let s=n.toLocal(e.point);const r=this.get("panX"),a=this.get("panY");if(r){let o=this.get("scrollbarX");o&&o.events.disableType("rangechanged"),this.xAxes.each(l=>{if(l.get("panX")){l._isPanning=!0;let u=l._panStart,d=l._panEnd,f=(d-u)*(i.x-s.x)/n.width();l.get("renderer").get("inversed")&&(f*=-1);let h=u+f,p=d+f;p-h<1+l.get("maxDeviation",1)*2&&(l.set("start",h),l.set("end",p))}}),o&&o.events.enableType("rangechanged")}if(a){let o=this.get("scrollbarY");o&&o.events.disableType("rangechanged"),this.yAxes.each(l=>{if(l.get("panY")){l._isPanning=!0;let u=l._panStart,d=l._panEnd,f=(d-u)*(i.y-s.y)/n.height();l.get("renderer").get("inversed")&&(f*=-1);let h=u-f,p=d-f;p-h<1+l.get("maxDeviation",1)*2&&(l.set("start",h),l.set("end",p))}}),o&&o.events.enableType("rangechanged")}}}_handlePinch(){const e=this.plotContainer;let n=0,i=[],s=[];if(sn(e._downPoints,(r,a)=>{i[n]=a;let o=this._movePoints[r];o&&(s[n]=o),n++}),i.length>1&&s.length>1){const r=e.width(),a=e.height();let o=i[0],l=i[1],u=s[0],d=s[1];if(o&&l&&u&&d){if(u=e.toLocal(u),d=e.toLocal(d),o=e.toLocal(o),l=e.toLocal(l),this.get("pinchZoomX")){const c=this._downStartX,f=this._downEndX;if(c!=null&&f!=null){o.x>l.x&&([o,l]=[l,o],[u,d]=[d,u]);let h=c+o.x/r*(f-c),p=c+l.x/r*(f-c),g=c+u.x/r*(f-c),v=c+d.x/r*(f-c),_=Math.max(.001,p-h),b=Math.max(.001,v-g),x=_/b,k=c*x+h-g*x,I=f*x+p-v*x;this.xAxes.each(E=>{let T=E.fixPosition(k),S=E.fixPosition(I);E.zoom(T,S,0)})}}if(this.get("pinchZoomY")){const c=this._downStartY,f=this._downEndY;if(c!=null&&f!=null){o.y<l.y&&([o,l]=[l,o],[u,d]=[d,u]);let h=c+(1-o.y/a)*(f-c),p=c+(1-l.y/a)*(f-c),g=c+(1-u.y/a)*(f-c),v=c+(1-d.y/a)*(f-c),_=Math.max(.001,p-h),b=Math.max(.001,v-g),x=_/b,k=c*x+h-g*x,I=f*x+p-v*x;this.yAxes.each(E=>{let T=E.fixPosition(k),S=E.fixPosition(I);E.zoom(T,S,0)})}}}}}_handleCursorPosition(){const e=this.get("cursor");if(e){const n=e.getPrivate("point");let i=e.get("snapToSeries");if(e._downPoint&&(i=void 0),i&&n){const s=e.get("snapToSeriesBy"),r=[];oe(i,l=>{if(!l.isHidden()&&!l.isHiding())if(s!="x!"&&s!="y!"){const u=l.startIndex(),d=l.endIndex();for(let c=u;c<d;c++){const f=l.dataItems[c];f&&!f.isHidden()&&r.push(f)}}else{const u=l.get("tooltipDataItem");u&&r.push(u)}});let a=1/0,o;if(oe(r,l=>{const u=l.get("point");if(u){let d=0;s=="x"||s=="x!"?d=Math.abs(n.x-u.x):s=="y"||s=="y!"?d=Math.abs(n.y-u.y):d=Math.hypot(n.x-u.x,n.y-u.y),d<a&&(a=d,o=l)}}),oe(i,l=>{const u=l.get("tooltip");u&&u._setDataItem(void 0)}),o){let l=o.component;l.showDataItemTooltip(o),l.setRaw("tooltipDataItem",o);const u=o.get("point");u&&e.handleMove(l.toGlobal({x:u.x-l.x(),y:u.y-l.y()}),!0)}}}}_updateCursor(){let e=this.get("cursor");e&&e.updateCursor()}_addCursor(e){this.plotContainer.children.push(e)}_prepareChildren(){if(super._prepareChildren(),this.series.each(e=>{this._colorize(e)}),(this.isDirty("wheelX")||this.isDirty("wheelY"))&&this._handleSetWheel(),this.isDirty("cursor")){const e=this._prevSettings.cursor,n=this.get("cursor");n!==e&&(this._disposeProperty("cursor"),e&&e.dispose(),n&&(n._setChart(this),this._addCursor(n),this._pushPropertyDisposer("cursor",n.events.on("selectended",()=>{this._handleCursorSelectEnd()}))),this._prevSettings.cursor=n)}if(this.isDirty("scrollbarX")){const e=this._prevSettings.scrollbarX,n=this.get("scrollbarX");n!==e&&(this._disposeProperty("scrollbarX"),e&&e.dispose(),n&&(n.parent||this.topAxesContainer.children.push(n),this._pushPropertyDisposer("scrollbarX",n.events.on("rangechanged",i=>{this._handleScrollbar(this.xAxes,i.start,i.end,i.grip)})),this._pushPropertyDisposer("scrollbarX",n.events.on("released",()=>{this.xAxes.each(i=>{i.get("zoomable")&&this._handleAxisSelection(i)})})),n.setPrivate("positionTextFunction",i=>{const s=this.xAxes.getIndex(0);return s&&s.getTooltipText(i,!1)||""})),this._prevSettings.scrollbarX=n)}if(this.isDirty("scrollbarY")){const e=this._prevSettings.scrollbarY,n=this.get("scrollbarY");n!==e&&(this._disposeProperty("scrollbarY"),e&&e.dispose(),n&&(n.parent||this.rightAxesContainer.children.push(n),this._pushPropertyDisposer("scrollbarY",n.events.on("rangechanged",i=>{this._handleScrollbar(this.yAxes,i.start,i.end,i.grip)})),this._pushPropertyDisposer("scrollbarY",n.events.on("released",()=>{this.yAxes.each(i=>{i.get("zoomable")&&this._handleAxisSelection(i)})})),n.setPrivate("positionTextFunction",i=>{const s=this.yAxes.getIndex(0);return s&&s.getTooltipText(i,!1)||""})),this._prevSettings.scrollbarY=n)}this._handleZoomOut()}_processSeries(e){super._processSeries(e);const n=e.get("xAxis"),i=e.get("yAxis");nV(n.series,e),nV(i.series,e),e._posXDp=e.addDisposer(n.events.on("positionchanged",()=>{e._fixPosition()})),e._posXDp=e.addDisposer(i.events.on("positionchanged",()=>{e._fixPosition()})),e.get("baseAxis")||(i.isType("CategoryAxis")||i.isType("DateAxis")?e.set("baseAxis",i):e.set("baseAxis",n)),e.get("stacked")&&(e._markDirtyKey("stacked"),oe(e.dataItems,s=>{s.set("stackToItemY",void 0),s.set("stackToItemX",void 0)})),e._markDirtyAxes(),i.markDirtyExtremes(),n.markDirtyExtremes(),n._seriesAdded=!0,i._seriesAdded=!0,this._colorize(e)}_colorize(e){const n=this.get("colors");if(n&&e.get("fill")==null){const s=n.next();e._setSoft("stroke",s),e._setSoft("fill",s)}const i=this.get("patterns");if(i&&e.get("fillPattern")==null){const s=i.next();e._setSoft("fillPattern",s)}}_handleCursorSelectEnd(){const e=this.get("cursor"),n=e.get("behavior"),i=e.getPrivate("downPositionX",0),s=e.getPrivate("downPositionY",0),r=Math.min(1,Math.max(0,e.getPrivate("positionX",.5))),a=Math.min(1,Math.max(0,e.getPrivate("positionY",.5)));this.xAxes.each(o=>{if(n==="zoomX"||n==="zoomXY"){let l=o.toAxisPosition(i),u=o.toAxisPosition(r);o.zoom(l,u)}o.setPrivate("updateScrollbar",!0)}),this.yAxes.each(o=>{if(n==="zoomY"||n==="zoomXY"){let l=o.toAxisPosition(s),u=o.toAxisPosition(a);o.zoom(l,u)}o.setPrivate("updateScrollbar",!0)})}_handleScrollbar(e,n,i,s){e.each(r=>{let a=r.fixPosition(n),o=r.fixPosition(i),l=r.zoom(a,o,void 0,s);const u="updateScrollbar";r.setPrivateRaw(u,!1),l?l.events.on("stopped",()=>{r.setPrivateRaw(u,!0)}):r.setPrivateRaw(u,!0)})}_processAxis(e,n){return e.events.onAll(i=>{if(i.type==="clear")oe(i.oldValues,s=>{this._removeAxis(s)});else if(i.type==="push")n.children.push(i.newValue),i.newValue.processChart(this);else if(i.type==="setIndex")n.children.setIndex(i.index,i.newValue),i.newValue.processChart(this);else if(i.type==="insertIndex")n.children.insertIndex(i.index,i.newValue),i.newValue.processChart(this);else if(i.type==="removeIndex")this._removeAxis(i.oldValue);else if(i.type==="moveIndex")n.children.moveValue(i.value,i.newIndex),i.value.processChart(this);else throw new Error("Unknown IListEvent type")})}_removeAxis(e){if(!e.isDisposed()){const n=e.parent;n&&n.children.removeValue(e);const i=e.gridContainer,s=i.parent;s&&s.children.removeValue(i);const r=e.topGridContainer,a=r.parent;a&&a.children.removeValue(r)}}_updateChartLayout(){const e=this.leftAxesContainer.width(),n=this.rightAxesContainer.width(),i=this.bottomAxesContainer;i.set("paddingLeft",e),i.set("paddingRight",n);const s=this.topAxesContainer;s.set("paddingLeft",e),s.set("paddingRight",n)}processAxis(e){var n=this.get("cursor");n&&(this.addDisposer(e.on("start",()=>{this._updateCursor()})),this.addDisposer(e.on("end",()=>{this._updateCursor()})))}_handleAxisSelection(e,n){let i=e.fixPosition(e.get("start",0)),s=e.fixPosition(e.get("end",1));if(i>s&&([i,s]=[s,i]),this.xAxes.indexOf(e)!=-1){if(n||e.getPrivate("updateScrollbar")){let r=this.get("scrollbarX");r&&(!r.getPrivate("isBusy")||n)&&(r.setRaw("start",i),r.setRaw("end",s),r.updateGrips())}}else if(this.yAxes.indexOf(e)!=-1&&(n||e.getPrivate("updateScrollbar"))){let r=this.get("scrollbarY");r&&(!r.getPrivate("isBusy")||n)&&(r.setRaw("start",i),r.setRaw("end",s),r.updateGrips())}this._handleZoomOut()}_handleZoomOut(){let e=this.zoomOutButton;if(e&&e.parent){let n=!1;this.xAxes.each(i=>{(ci(i.get("start",0),6)!=0||ci(i.get("end",1),6)!=1)&&(n=!0)}),this.yAxes.each(i=>{(ci(i.get("start",0),6)!=0||ci(i.get("end",1),6)!=1)&&(n=!0)}),n?e.isHidden()&&e.show():e.hide()}}inPlot(e){const n=this.plotContainer,i=this.getPrivate("otherCharts",this._otherCharts),s=n.toGlobal(e);if(e.x>=-.5&&e.y>=-.5&&e.x<=n.width()+.5&&e.y<=n.height()+.5)return!0;if(i)for(let r=i.length-1;r>=0;r--){const a=i[r];if(a!=this){const o=a.plotContainer,l=this._root.rootPointToDocument(s),u=a._root.documentPointToRoot(l),d=o.toLocal(u);if(d.x>=-.1&&d.y>=-.1&&d.x<=o.width()+.1&&d.y<=o.height()+.1)return!0}}return!1}arrangeTooltips(){const e=this.plotContainer,n=e.width(),i=e.height();let s=this.height();const r=this._root.tooltipContainer.get("layerMargin");r&&r.bottom>s&&(s=r.bottom);let a=e._display.toGlobal({x:0,y:0}),o=e._display.toGlobal({x:n,y:i});const l=[];let u=0,d=1/0,c=this._movePoint,f=this.get("maxTooltipDistance"),h=this.get("maxTooltipDistanceBy","xy"),p,g;me(f)&&this.series.each(_=>{if(!_.isHidden()){const b=_.get("tooltip");if(b){let x=b.get("pointTo");if(x){let k=Math.hypot(c.x-x.x,c.y-x.y);h=="x"?k=Math.abs(c.x-x.x):h=="y"&&(k=Math.abs(c.y-x.y)),k<d&&(d=k,p=_,g=x)}}}});const v=[];if(this.series.each(_=>{const b=_.get("tooltip");if(b&&!b.get("forceHidden")){let x=!1,k=b.get("pointTo");if(k){if(f>=0){let I=b.get("pointTo");if(I&&g&&_!=p){let E=Math.hypot(g.x-I.x,g.y-I.y);h=="x"?E=Math.abs(g.x-I.x):h=="y"&&(E=Math.abs(g.y-I.y)),E>f&&(x=!0)}}else f==-1&&_!=p&&(x=!0);!this.inPlot(this._tooltipToLocal(k))||!b.dataItem?x=!0:x||(u+=k.y),x||_.isHidden()||_.isHiding()?b.hide(0):(b.show(),l.push(b),v.push(_))}}}),this.setPrivate("tooltipSeries",v),this.get("arrangeTooltips")){const _=this._root.tooltipContainer,b=l.length;if(u/b>i/2+a.y){l.sort((I,E)=>dV(E.get("pointTo").y,I.get("pointTo").y));let k=o.y;if(oe(l,I=>{let E=I.height(),T=I.get("centerY");T instanceof xt&&(E*=T.value),E+=I.get("marginBottom",0),I.set("bounds",{left:a.x,top:a.y,right:o.x,bottom:k}),I.setPrivate("customData",{left:a.x,top:a.y,right:o.x,bottom:k}),k=Math.min(k-E,I._fy-E),I.parent==_&&_.children.moveValue(I,0)}),k<0){l.reverse();let I=k;oe(l,E=>{let T=E.get("bounds");if(T){let S=T.top-k,w=T.bottom-k;S<I&&(S=I,w=S+E.height()),E.set("bounds",{left:T.left,top:S,right:T.right,bottom:w}),I=T.bottom-k+E.get("marginBottom",0)}})}}else{l.reverse(),l.sort((I,E)=>dV(I.get("pointTo").y,E.get("pointTo").y));let k=0;if(oe(l,I=>{let E=I.height(),T=I.get("centerY");T instanceof xt&&(E*=T.value),E+=I.get("marginBottom",0),I.set("bounds",{left:a.x,top:k,right:o.x,bottom:Math.max(a.y+s,k+E)}),I.parent==_&&_.children.moveValue(I,0),k=Math.max(k+E,I._fy+E)}),k>s){l.reverse();let I=s;oe(l,E=>{let T=E.get("bounds");if(T){let S=T.top-(s-k),w=T.bottom-(s-k);w>I&&(w=I,S=w-E.height()),E.set("bounds",{left:T.left,top:S,right:T.right,bottom:w}),I=w-E.height()-E.get("marginBottom",0)}})}}}}_tooltipToLocal(e){return this.plotContainer.toLocal(e)}zoomOut(){this.xAxes.each(e=>{e.setPrivate("updateScrollbar",!0),e.zoom(0,1)}),this.yAxes.each(e=>{e.setPrivate("updateScrollbar",!0),e.zoom(0,1)})}_dispose(){super._dispose();const e=this.get("cursor");e&&e.dispose()}}Object.defineProperty(bg,"className",{enumerable:!0,configurable:!0,writable:!0,value:"XYChart"});Object.defineProperty(bg,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:yc.classNames.concat([bg.className])});class xh extends cn{_beforeChanged(){super._beforeChanged(),(this.isPrivateDirty("width")||this.isPrivateDirty("height"))&&(this._clear=!0)}}Object.defineProperty(xh,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Grid"});Object.defineProperty(xh,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:cn.classNames.concat([xh.className])});class Py extends st{constructor(){super(...arguments),Object.defineProperty(this,"_alwaysShow",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"lineX",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(xh.new(this._root,{themeTags:["x"]}))}),Object.defineProperty(this,"lineY",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(xh.new(this._root,{themeTags:["y"]}))}),Object.defineProperty(this,"selection",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(cn.new(this._root,{themeTags:["selection","cursor"],layer:30}))}),Object.defineProperty(this,"_movePoint",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_lastPoint",{enumerable:!0,configurable:!0,writable:!0,value:{x:0,y:0}}),Object.defineProperty(this,"_lastPoint2",{enumerable:!0,configurable:!0,writable:!0,value:{x:0,y:0}}),Object.defineProperty(this,"_tooltipX",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_tooltipY",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"chart",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_toX",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_toY",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}_afterNew(){this._settings.themeTags=Vt(this._settings.themeTags,["xy","cursor"]),super._afterNew(),this.setAll({width:Fe,height:Fe,isMeasured:!0,position:"absolute"}),this.states.create("hidden",{visible:!0,opacity:0}),this._drawLines(),this.setPrivateRaw("visible",!1),this._disposers.push(this.setTimeout(()=>{this.setPrivate("visible",!0)},500)),this._disposers.push(this.lineX.events.on("positionchanged",()=>{this._handleXLine()})),this._disposers.push(this.lineY.events.on("positionchanged",()=>{this._handleYLine()})),this._disposers.push(this.lineX.events.on("focus",()=>this._handleLineFocus())),this._disposers.push(this.lineX.events.on("blur",()=>this._handleLineBlur())),this._disposers.push(this.lineY.events.on("focus",()=>this._handleLineFocus())),this._disposers.push(this.lineY.events.on("blur",()=>this._handleLineBlur())),Fa("keyboardevents")&&this._disposers.push(Nn(document,"keydown",e=>{this._handleLineMove(Sd(e),e.ctrlKey)}))}_setUpTouch(){const e=this.chart;e&&(e.plotContainer._display.cancelTouch=this.get("behavior")!="none")}_handleXLine(){let e=this.lineX.x(),n=!0;(e<0||e>this.width())&&(n=!1),this.lineX.setPrivate("visible",n)}_handleYLine(){let e=this.lineY.y(),n=!0;(e<0||e>this.height())&&(n=!1),this.lineY.setPrivate("visible",n)}_handleLineMove(e,n){let i="";const s=this.chart;let r;if(s&&s.xAxes.length){this._root.focused(this.lineX)?(i="positionX",r=s.xAxes.getIndex(0)):this._root.focused(this.lineY)&&(r=s.yAxes.getIndex(0),i="positionY");let a=1;if(n&&(a=5),r){let o=r.get("renderer").get("inversed",!1),l;e=="ArrowRight"||e=="ArrowDown"?l=1:e=="ArrowLeft"||e=="ArrowUp"?l=-1:e=="Tab"&&(l=0),l!=null&&(o&&(l*=-1),this.set(i,r.nextPosition(l*a)))}}}_handleLineFocus(){this._alwaysShow=this.get("alwaysShow",!1),this.setAll({positionX:this.getPrivate("positionX",0),positionY:this.getPrivate("positionY",0),alwaysShow:!0}),this._handleLineMove("Tab")}_handleLineBlur(){(this.lineX.isFocus()||this.lineY.isFocus())&&this.setAll({positionX:void 0,positionY:void 0,alwaysShow:this._alwaysShow})}_prepareChildren(){if(super._prepareChildren(),this.isDirty("xAxis")){this._tooltipX=!1;const e=this.get("xAxis");if(e){const n=e.get("tooltip");n&&(this._tooltipX=!0,this._disposers.push(n.on("pointTo",()=>{this._updateXLine(n)})))}}if(this.isDirty("yAxis")){this._tooltipY=!1;const e=this.get("yAxis");if(e){const n=e.get("tooltip");n&&(this._tooltipY=!0,this._disposers.push(n.on("pointTo",()=>{this._updateYLine(n)})))}}}_handleSyncWith(){const e=this.chart;if(e){const n=this.get("syncWith"),i=[];n&&oe(n,s=>{const r=s.chart;r&&i.push(r)}),e._otherCharts=i}}_updateChildren(){if(super._updateChildren(),this._handleSyncWith(),this.isDirty("positionX")||this.isDirty("positionY")){const e=this.get("positionX"),n=this.get("positionY");e==null&&n==null?this.hide(0):(this._movePoint=this.toGlobal(this._getPoint(this.get("positionX",0),this.get("positionY",0))),this.handleMove())}}_updateXLine(e){let n=ci(this._display.toLocal(e.get("pointTo",{x:0,y:0})).x,3);this._toX!=n&&(this.lineX.animate({key:"x",to:n,duration:e.get("animationDuration",0),easing:e.get("animationEasing")}),this._toX=n)}_updateYLine(e){let n=ci(this._display.toLocal(e.get("pointTo",{x:0,y:0})).y,3);this._toY!=n&&(this.lineY.animate({key:"y",to:n,duration:e.get("animationDuration",0),easing:e.get("animationEasing")}),this._toY=n)}_drawLines(){this.lineX.set("draw",e=>{e.moveTo(0,0),e.lineTo(0,this.height())}),this.lineY.set("draw",e=>{e.moveTo(0,0),e.lineTo(this.width(),0)})}updateCursor(){this.get("alwaysShow")&&(this._movePoint=this.toGlobal(this._getPoint(this.get("positionX",0),this.get("positionY",0)))),this.handleMove()}_setChart(e){this.chart=e,this._handleSyncWith();const n=e.plotContainer;this.events.on("boundschanged",()=>{this._disposers.push(this.setTimeout(()=>{this.updateCursor()},50))}),Fa("touchevents")&&(this._disposers.push(n.events.on("click",s=>{vk(s.originalEvent)&&this._handleMove(s)})),this._setUpTouch()),this._disposers.push(n.events.on("pointerdown",s=>{this._handleCursorDown(s)})),this._disposers.push(n.events.on("globalpointerup",s=>{this._handleCursorUp(s),!s.native&&!this.isHidden()&&this._handleMove(s)})),this._disposers.push(n.events.on("globalpointermove",s=>{!this.get("syncWith")&&wi(n._downPoints).length==0&&!s.native&&this.isHidden()||(this._handleMove(s),Math.hypot(this._lastPoint2.x-s.point.x,this._lastPoint2.y-s.point.y)>1&&(this._handleLineBlur(),this._lastPoint2=s.point))}));const i=this.parent;i&&i.children.moveValue(this.selection)}_inPlot(e){const n=this.chart;return n?n.inPlot(e):!1}_handleCursorDown(e){if(e.originalEvent.button==2)return;const n=e.point;let i=this._display.toLocal(n);const s=this.chart;if(this.selection.set("draw",()=>{}),s&&this._inPlot(i)){if(this._downPoint=i,this.get("behavior")!="none"){this.selection.show();const o="selectstarted";this.events.isEnabled(o)&&this.events.dispatch(o,{type:o,target:this,originalEvent:e.originalEvent})}let r=this._getPosition(i).x,a=this._getPosition(i).y;this.setPrivate("downPositionX",r),this.setPrivate("downPositionY",a)}}_handleCursorUp(e){if(this._downPoint){const n=this.get("behavior","none");if(n!="none"){n.charAt(0)==="z"&&this.selection.hide();const i=e.point;let s=this._display.toLocal(i);const r=this._downPoint,a=this.get("moveThreshold",1);if(s&&r){let o=!1;if((n==="zoomX"||n==="zoomXY"||n==="selectX"||n==="selectXY")&&Math.abs(s.x-r.x)>a&&(o=!0),(n==="zoomY"||n==="zoomXY"||n==="selectY"||n==="selectXY")&&Math.abs(s.y-r.y)>a&&(o=!0),o){const l="selectended";this.events.isEnabled(l)&&this.events.dispatch(l,{type:l,target:this,originalEvent:e.originalEvent})}else{const l="selectcancelled";this.events.isEnabled(l)&&this.events.dispatch(l,{type:l,target:this,originalEvent:e.originalEvent})}}}}this._downPoint=void 0}_handleMove(e){if(this.getPrivate("visible")){const n=this.chart;if(n&&wi(n.plotContainer._downPoints).length>1){this.set("forceHidden",!0);return}else this.set("forceHidden",!1);const i=e.point,s=this._lastPoint;if(Math.round(s.x)===Math.round(i.x)&&Math.round(s.y)===Math.round(i.y))return;this._lastPoint=i,this.setPrivate("lastPoint",i),this.handleMove({x:i.x,y:i.y},!1,e.originalEvent)}}_getPosition(e){return{x:e.x/this.width(),y:e.y/this.height()}}handleMove(e,n,i){e||(e=this._movePoint);const s=this.get("alwaysShow");if(!e){this.hide(0);return}this._movePoint=e;let r=this._display.toLocal(e),a=this.chart;if(a&&(this._inPlot(r)||this._downPoint)){a._movePoint=e,this.isHidden()&&(this.show(),this.get("behavior","").charAt(0)=="z"&&this.selection.set("draw",()=>{}));let o=r.x,l=r.y,u=this._getPosition(r);this.setPrivate("point",r);let d=this.get("snapToSeries");this._downPoint&&(d=void 0);let c=this.get("positionX"),f=u.x;me(c)&&(f=c);let h=this.get("positionY"),p=u.y;me(h)&&(p=h),this.setPrivate("positionX",f),this.setPrivate("positionY",p);const g=this._getPoint(f,p);if(o=g.x,l=g.y,a.xAxes.each(v=>{v._handleCursorPosition(f,d),s&&v.handleCursorShow()}),a.yAxes.each(v=>{v._handleCursorPosition(p,d),s&&v.handleCursorShow()}),!n){a._handleCursorPosition();const v="cursormoved";this.events.isEnabled(v)&&this.events.dispatch(v,{type:v,target:this,point:e,originalEvent:i})}this._updateLines(o,l),a.arrangeTooltips()}else if(!this._downPoint&&!s){this.hide(0);const o="cursorhidden";this.events.isEnabled(o)&&this.events.dispatch(o,{type:o,target:this})}this._downPoint&&this.get("behavior")!="none"&&this._updateSelection(r)}_getPoint(e,n){return{x:this.width()*e,y:this.height()*n}}_updateLines(e,n){this._tooltipX||this.lineX.set("x",e),this._tooltipY||this.lineY.set("y",n),this._drawLines()}_updateSelection(e){const n=this.selection,i=this.get("behavior"),s=this.width(),r=this.height();e.x<0&&(e.x=0),e.x>s&&(e.x=s),e.y<0&&(e.y=0),e.y>r&&(e.y=r),n.set("draw",a=>{const o=this._downPoint;o&&(i==="zoomXY"||i==="selectXY"?(a.moveTo(o.x,o.y),a.lineTo(o.x,e.y),a.lineTo(e.x,e.y),a.lineTo(e.x,o.y),a.lineTo(o.x,o.y)):i==="zoomX"||i==="selectX"?(a.moveTo(o.x,0),a.lineTo(o.x,r),a.lineTo(e.x,r),a.lineTo(e.x,0),a.lineTo(o.x,0)):(i==="zoomY"||i==="selectY")&&(a.moveTo(0,o.y),a.lineTo(s,o.y),a.lineTo(s,e.y),a.lineTo(0,e.y),a.lineTo(0,o.y)))})}_onHide(){if(this.isHidden()){let e=this.chart;e&&(e.xAxes.each(n=>{n.handleCursorHide()}),e.yAxes.each(n=>{n.handleCursorHide()}),e.series.each(n=>{n.handleCursorHide()}))}super._onHide()}_onShow(){if(!this.isHidden()){let e=this.chart;e&&(e.xAxes.each(n=>{n.handleCursorShow()}),e.yAxes.each(n=>{n.handleCursorShow()}))}super._onShow()}_dispose(){super._dispose(),this.selection.dispose()}}Object.defineProperty(Py,"className",{enumerable:!0,configurable:!0,writable:!0,value:"XYCursor"});Object.defineProperty(Py,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:st.classNames.concat([Py.className])});function Wxe(t,e){return t==null?e:e==null?t:e<t?e:t}function Yxe(t,e){return t==null?e:e==null?t:e>t?e:t}class xc extends Fo{constructor(){super(...arguments),Object.defineProperty(this,"_xField",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_yField",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_xOpenField",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_yOpenField",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_xLowField",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_xHighField",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_yLowField",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_yHighField",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_axesDirty",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_stackDirty",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_selectionProcessed",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_dataSets",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_mainContainerMask",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_x",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_y",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_bullets",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"mainContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(st.new(this._root,{}))}),Object.defineProperty(this,"axisRanges",{enumerable:!0,configurable:!0,writable:!0,value:new Zh}),Object.defineProperty(this,"_skipped",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_couldStackTo",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_reallyStackedTo",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_stackedSeries",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_aLocationX0",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_aLocationX1",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"_aLocationY0",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_aLocationY1",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"_showBullets",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"valueXFields",{enumerable:!0,configurable:!0,writable:!0,value:["valueX","openValueX","lowValueX","highValueX"]}),Object.defineProperty(this,"valueYFields",{enumerable:!0,configurable:!0,writable:!0,value:["valueY","openValueY","lowValueY","highValueY"]}),Object.defineProperty(this,"_valueXFields",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_valueYFields",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_valueXShowFields",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_valueYShowFields",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"__valueXShowFields",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"__valueYShowFields",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_emptyDataItem",{enumerable:!0,configurable:!0,writable:!0,value:new aa(this,void 0,{})}),Object.defineProperty(this,"_dataSetId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tooltipFieldX",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tooltipFieldY",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_posXDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_posYDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}_afterNew(){this.fields.push("categoryX","categoryY","openCategoryX","openCategoryY"),this.valueFields.push("valueX","valueY","openValueX","openValueY","lowValueX","lowValueY","highValueX","highValueY"),this._setRawDefault("vcx",1),this._setRawDefault("vcy",1),this._setRawDefault("valueXShow","valueXWorking"),this._setRawDefault("valueYShow","valueYWorking"),this._setRawDefault("openValueXShow","openValueXWorking"),this._setRawDefault("openValueYShow","openValueYWorking"),this._setRawDefault("lowValueXShow","lowValueXWorking"),this._setRawDefault("lowValueYShow","lowValueYWorking"),this._setRawDefault("highValueXShow","highValueXWorking"),this._setRawDefault("highValueYShow","highValueYWorking"),this._setRawDefault("lowValueXGrouped","low"),this._setRawDefault("lowValueYGrouped","low"),this._setRawDefault("highValueXGrouped","high"),this._setRawDefault("highValueYGrouped","high"),super._afterNew(),this.set("maskContent",!0),this._disposers.push(this.axisRanges.events.onAll(e=>{if(e.type==="clear")oe(e.oldValues,n=>{this._removeAxisRange(n)});else if(e.type==="push")this._processAxisRange(e.newValue);else if(e.type==="setIndex")this._processAxisRange(e.newValue);else if(e.type==="insertIndex")this._processAxisRange(e.newValue);else if(e.type==="removeIndex")this._removeAxisRange(e.oldValue);else if(e.type==="moveIndex")this._processAxisRange(e.value);else throw new Error("Unknown IStreamEvent type")})),this.states.create("hidden",{opacity:1,visible:!1}),this.onPrivate("startIndex",()=>{this.root.events.once("frameended",()=>{this.updateLegendValue()})}),this.onPrivate("endIndex",()=>{this.root.events.once("frameended",()=>{this.updateLegendValue()})}),this._makeFieldNames()}_processAxisRange(e){const n=st.new(this._root,{});e.container=n,this.children.push(n),e.series=this;const i=e.axisDataItem;i.setRaw("isRange",!0);const s=i.component;if(s){s._processAxisRange(i,["range","series"]);const r=i.get("bullet");if(r){const o=r.get("sprite");o&&o.setPrivate("visible",!1)}const a=i.get("axisFill");a&&n.set("mask",a),s._seriesAxisRanges.push(i)}}_removeAxisRange(e){const n=e.axisDataItem,i=n.component;i.disposeDataItem(n),Ir(i._seriesAxisRanges,n);const s=e.container;s&&s.dispose()}_updateFields(){super._updateFields(),this._valueXFields=[],this._valueYFields=[],this._valueXShowFields=[],this._valueYShowFields=[],this.__valueXShowFields=[],this.__valueYShowFields=[],this.valueXFields&&oe(this.valueXFields,e=>{if(this.get(e+"Field")){this._valueXFields.push(e);let i=this.get(e+"Show");this.__valueXShowFields.push(i),i.indexOf("Working")!=-1?this._valueXShowFields.push(i.split("Working")[0]):this._valueXShowFields.push(i)}}),this.valueYFields&&oe(this.valueYFields,e=>{if(this.get(e+"Field")){this._valueYFields.push(e);let i=this.get(e+"Show");this.__valueYShowFields.push(i),i.indexOf("Working")!=-1?this._valueYShowFields.push(i.split("Working")[0]):this._valueYShowFields.push(i)}})}_dispose(){super._dispose(),this._bullets={};const e=this.chart;e&&e.series.removeValue(this),ns(this.get("xAxis").series,this),ns(this.get("yAxis").series,this)}_min(e,n){let i=Wxe(this.getPrivate(e),n);this.setPrivate(e,i)}_max(e,n){let i=Yxe(this.getPrivate(e),n);this.setPrivate(e,i)}_shouldMakeBullet(e){const n=this.get("xAxis"),i=this.get("yAxis"),s=this.get("baseAxis");if(!n.inited||!i.inited)return!1;const r=this.get("minBulletDistance",0);if(r>0){let a=this.startIndex(),l=this.endIndex()-a;if(n==s){if(n.get("renderer").axisLength()/l<r/5)return!1}else if(i==s&&i.get("renderer").axisLength()/l<r/5)return!1}return e.get(this._xField)!=null&&e.get(this._yField)!=null}_makeFieldNames(){const e=this.get("xAxis"),n=this.get("yAxis"),i=e.getPrivate("name"),s=oV(i),r=n.getPrivate("name"),a=oV(r),o=e.get("renderer").getPrivate("letter"),l=n.get("renderer").getPrivate("letter"),u="open",d="low",c="high",f="Show";e.className==="ValueAxis"?(this._xField=this.get(i+o+f),this._xOpenField=this.get(u+s+o+f),this._xLowField=this.get(d+s+o+f),this._xHighField=this.get(c+s+o+f)):(this._xField=i+o,this._xOpenField=u+s+o,this._xLowField=d+s+o,this._xHighField=c+s+o),n.className==="ValueAxis"?(this._yField=this.get(r+l+f),this._yOpenField=this.get(u+a+l+f),this._yLowField=this.get(d+a+l+f),this._yHighField=this.get(c+a+l+f)):(this._yField=r+l,this._yOpenField=u+a+l,this._yLowField=d+a+l,this._yHighField=c+a+l)}_fixVC(){const e=this.get("xAxis"),n=this.get("yAxis"),i=this.get("baseAxis"),s=this.states.lookup("hidden"),r=this.get("sequencedInterpolation");if(s){let a=0;r&&(a=.999999999999),e===i?s.set("vcy",a):(n===i||s.set("vcy",a),s.set("vcx",a))}}_handleMaskBullets(){this.isDirty("maskBullets")&&this.bulletsContainer.set("maskContent",this.get("maskBullets"))}_fixPosition(){const e=this.get("xAxis"),n=this.get("yAxis");this.set("x",e.x()-Qn(e.get("centerX",0),e.width())-e.parent.get("paddingLeft",0)),this.set("y",n.y()-Qn(n.get("centerY",0),n.height())-n.parent.get("paddingTop",0)),this.bulletsContainer.set("y",this.y()),this.bulletsContainer.set("x",this.x())}_prepareChildren(){super._prepareChildren(),this._bullets={},(this.isDirty("valueYShow")||this.isDirty("valueXShow")||this.isDirty("openValueYShow")||this.isDirty("openValueXShow")||this.isDirty("lowValueYShow")||this.isDirty("lowValueXShow")||this.isDirty("highValueYShow")||this.isDirty("highValueXShow"))&&(this._updateFields(),this._makeFieldNames(),this._valuesDirty=!0),(this.isDirty("xAxis")||this.isDirty("yAxis"))&&(this._valuesDirty=!0),this.set("width",this.get("xAxis").width()),this.set("height",this.get("yAxis").height()),this._handleMaskBullets();const e=this.get("xAxis"),n=this.get("yAxis"),i=this.get("baseAxis"),s=this.get("tooltipPositionX");let r;switch(s){case"open":r=this._xOpenField;break;case"low":r=this._xLowField;break;case"high":r=this._xHighField;break;default:r=this._xField}this._tooltipFieldX=r;const a=this.get("tooltipPositionY");let o;switch(a){case"open":o=this._yOpenField;break;case"low":o=this._yLowField;break;case"high":o=this._yHighField;break;default:o=this._yField}this._tooltipFieldY=o,this.isDirty("baseAxis")&&this._fixVC(),this._fixPosition();const l=this.get("stacked");if(this.isDirty("stacked")&&(l?this._valuesDirty&&!this._dataProcessed||this._stack():this._unstack()),this._valuesDirty&&!this._dataProcessed&&(this._dataProcessed=!0,l&&this._stack(),oe(this.dataItems,u=>{oe(this._valueXShowFields,d=>{let c=u.get(d);c!=null&&(l&&(c+=this.getStackedXValue(u,d)),this._min("minX",c),this._max("maxX",c))}),oe(this._valueYShowFields,d=>{let c=u.get(d);c!=null&&(l&&(c+=this.getStackedYValue(u,d)),this._min("minY",c),this._max("maxY",c))}),e.processSeriesDataItem(u,this._valueXFields),n.processSeriesDataItem(u,this._valueYFields)}),e._seriesValuesDirty=!0,n._seriesValuesDirty=!0,this.get("ignoreMinMax")||((this.isPrivateDirty("minX")||this.isPrivateDirty("maxX"))&&e.markDirtyExtremes(),(this.isPrivateDirty("minY")||this.isPrivateDirty("maxY"))&&n.markDirtyExtremes()),this._markStakedDirtyStack(),this.get("tooltipDataItem")||this.updateLegendValue(void 0)),(this.isDirty("vcx")||this.isDirty("vcy"))&&this._markStakedDirtyStack(),this._dataGrouped||(e._groupSeriesData(this),n._groupSeriesData(this),this._dataGrouped=!0),this._valuesDirty||this.isPrivateDirty("startIndex")||this.isPrivateDirty("adjustedStartIndex")||this.isPrivateDirty("endIndex")||this.isDirty("vcx")||this.isDirty("vcy")||this._stackDirty||this._sizeDirty){let u=this.startIndex(),d=this.endIndex(),c=this.get("minBulletDistance",0);if(c>0&&i&&(i.get("renderer").axisLength()/(d-u)>c?this._showBullets=!0:this._showBullets=!1),(this._psi!=u||this._pei!=d||this.isDirty("vcx")||this.isDirty("vcy")||this.isPrivateDirty("adjustedStartIndex")||this._stackDirty||this._valuesDirty)&&!this._selectionProcessed){this._selectionProcessed=!0;const f=this.get("vcx",1),h=this.get("vcy",1),p=this.get("stacked",!1),g=this.getPrivate("outOfSelection");if(i===e||!i)if(n._calculateTotals(),this.setPrivateRaw("selectionMinY",void 0),this.setPrivateRaw("selectionMaxY",void 0),g)n.markDirtySelectionExtremes();else for(let v=u;v<d;v++)this.processYSelectionDataItem(this.dataItems[v],h,p);if(i===n||!i)if(e._calculateTotals(),this.setPrivateRaw("selectionMinX",void 0),this.setPrivateRaw("selectionMaxX",void 0),g)n.markDirtySelectionExtremes();else for(let v=u;v<d;v++)this.processXSelectionDataItem(this.dataItems[v],f,p);if((i===e||!i)&&this.get("valueYShow")!=="valueYWorking"){const v=this.getPrivate("selectionMinY");v!=null&&(this.setPrivateRaw("minY",v),n.markDirtyExtremes());const _=this.getPrivate("selectionMaxY");_!=null&&(this.setPrivateRaw("maxY",_),n.markDirtyExtremes())}if((i===n||!i)&&this.get("valueXShow")!=="valueXWorking"){const v=this.getPrivate("selectionMinX");v!=null&&(this.setPrivateRaw("minX",v),n.markDirtyExtremes());const _=this.getPrivate("selectionMaxX");_!=null&&(this.setPrivateRaw("maxX",_),e.markDirtyExtremes())}(this.isPrivateDirty("selectionMinX")||this.isPrivateDirty("selectionMaxX"))&&e.markDirtySelectionExtremes(),(this.isPrivateDirty("selectionMinY")||this.isPrivateDirty("selectionMaxY"))&&n.markDirtySelectionExtremes()}}}_makeRangeMask(){if(this.axisRanges.length>0){let e=this._mainContainerMask;e==null&&(e=this.children.push(cn.new(this._root,{})),this._mainContainerMask=e,e.set("draw",(n,i)=>{const s=this.parent;if(s){const r=this._root.container.width(),a=this._root.container.height();n.moveTo(-r,-a),n.lineTo(-r,a*2),n.lineTo(r*2,a*2),n.lineTo(r*2,-a),n.lineTo(-r,-a),this.axisRanges.each(o=>{const l=o.axisDataItem.get("axisFill");if(s&&l){let u=l.get("draw");u&&u(n,i)}})}this.mainContainer._display.mask=e._display})),e.markDirty(),e._markDirtyKey("fill")}else this.mainContainer._display.mask=null}_updateChildren(){super._updateChildren(),this._x=this.x(),this._y=this.y(),this._makeRangeMask()}_stack(){const e=this.chart;if(e){const n=e.series.indexOf(this);if(this._couldStackTo=[],n>0){let i;for(let s=n-1;s>=0&&(i=e.series.getIndex(s),!(i.get("xAxis")===this.get("xAxis")&&i.get("yAxis")===this.get("yAxis")&&i.className===this.className&&(this._couldStackTo.push(i),!i.get("stacked"))));s--);}this._stackDataItems()}}_unstack(){sn(this._reallyStackedTo,(e,n)=>{delete n._stackedSeries[this.uid]}),this._reallyStackedTo={},oe(this.dataItems,e=>{e.setRaw("stackToItemY",void 0),e.setRaw("stackToItemX",void 0)})}_stackDataItems(){const e=this.get("baseAxis"),n=this.get("xAxis"),i=this.get("yAxis");let s,r;e===n?(s="valueY",r="stackToItemY"):e===i&&(s="valueX",r="stackToItemX");let a=this._couldStackTo.length,o=0;const l=this.get("stackToNegative");this._reallyStackedTo={},oe(this.dataItems,u=>{for(let d=0;d<a;d++){let c=this._couldStackTo[d],f=c.dataItems[o],h=u.get(s);if(f){let p=f.get(s);if(l)if(me(h)){if(me(p)){if(h>=0&&p>=0){u.setRaw(r,f),this._reallyStackedTo[c.uid]=c,c._stackedSeries[this.uid]=this;break}if(h<0&&p<0){u.setRaw(r,f),this._reallyStackedTo[c.uid]=c,c._stackedSeries[this.uid]=this;break}}}else break;else if(me(h)&&me(p)){u.setRaw(r,f),this._reallyStackedTo[c.uid]=c,c._stackedSeries[this.uid]=this;break}}}o++})}processXSelectionDataItem(e,n,i){oe(this.__valueXShowFields,s=>{let r=e.get(s);r!=null&&(i&&(r+=this.getStackedXValueWorking(e,s)),this._min("selectionMinX",r),this._max("selectionMaxX",r*n))})}processYSelectionDataItem(e,n,i){oe(this.__valueYShowFields,s=>{let r=e.get(s);r!=null&&(i&&(r+=this.getStackedYValueWorking(e,s)),this._min("selectionMinY",r),this._max("selectionMaxY",r*n))})}getStackedYValueWorking(e,n){const i=e.get("stackToItemY");if(i){const s=i.component;return i.get(n,0)*s.get("vcy",1)+this.getStackedYValueWorking(i,n)}return 0}getStackedXValueWorking(e,n){const i=e.get("stackToItemX");if(i){const s=i.component;return i.get(n,0)*s.get("vcx",1)+this.getStackedXValueWorking(i,n)}return 0}getStackedYValue(e,n){const i=e.get("stackToItemY");return i?i.get(n,0)+this.getStackedYValue(i,n):0}getStackedXValue(e,n){const i=e.get("stackToItemX");return i?i.get(n,0)+this.getStackedXValue(i,n):0}createLegendMarker(e){this.updateLegendMarker()}_markDirtyAxes(){this._axesDirty=!0,this.markDirty()}_markDataSetDirty(){this._afterDataChange(),this._valuesDirty=!0,this._dataProcessed=!1,this._aggregatesCalculated=!1,this.markDirty()}_clearDirty(){super._clearDirty(),this._axesDirty=!1,this._selectionProcessed=!1,this._stackDirty=!1,this._dataProcessed=!1}_positionBullet(e){let n=e.get("sprite");if(n){let i=n.dataItem,s=e.get("locationX",i.get("locationX",.5)),r=e.get("locationY",i.get("locationY",.5)),a=this.get("xAxis"),o=this.get("yAxis"),l=a.getDataItemPositionX(i,this._xField,s,this.get("vcx",1)),u=o.getDataItemPositionY(i,this._yField,r,this.get("vcy",1)),d=this.getPoint(l,u),c=i.get("left",d.x),f=i.get("right",d.x),h=i.get("top",d.y),p=i.get("bottom",d.y),g=0,v=0,_=f-c,b=p-h;if(this._shouldShowBullet(l,u)){n.setPrivate("visible",!e.getPrivate("hidden"));let x=e.get("field");const k=this.get("baseAxis"),I=this.get("xAxis"),E=this.get("yAxis");if(x!=null){let S;k==I?(x=="value"?S=this._yField:x=="open"?S=this._yOpenField:x=="high"?S=this._yHighField:x=="low"&&(S=this._yLowField),S&&(u=E.getDataItemPositionY(i,S,0,this.get("vcy",1)),d=E.get("renderer").positionToPoint(u),v=d.y,g=c+_*s)):(x=="value"?S=this._xField:x=="open"?S=this._xOpenField:x=="high"?S=this._xHighField:x=="low"&&(S=this._xLowField),S&&(l=I.getDataItemPositionX(i,S,0,this.get("vcx",1)),d=I.get("renderer").positionToPoint(l),g=d.x,v=p-b*r))}else g=c+_*s,v=p-b*r;const T=e.get("stacked");if(T){const S=this.chart;if(k==I){let w=this._bullets[l+"_"+u];if(w){let P=w.bounds(),C=n.localBounds(),D=v;v=P.top,T=="down"?v=P.bottom-C.top:T=="auto"?S&&(D<S.plotContainer.height()/2?v=P.bottom-C.top:v+=C.bottom):v+=C.bottom}this._bullets[l+"_"+u]=n}else{let w=this._bullets[l+"_"+u];if(w){let P=w.bounds(),C=n.localBounds(),D=g;g=P.right,T=="down"?g=P.left-C.right:T=="auto"?S&&(D<S.plotContainer.width()/2?g=P.left-C.right:g-=C.left):g-=C.left}this._bullets[l+"_"+u]=n}}n.isType("Label")&&(n.setPrivate("maxWidth",Math.abs(_)),n.setPrivate("maxHeight",Math.abs(b))),n.setAll({x:g,y:v})}else n.setPrivate("visible",!1)}}_shouldShowBullet(e,n){return this._showBullets}setDataSet(e){if(this._dataSets[e]){this._handleDataSetChange(),this._dataItems=this._dataSets[e],this._markDataSetDirty(),this._dataSetId=e;const n="datasetchanged";this.events.isEnabled(n)&&this.events.dispatch(n,{type:n,target:this,id:e})}}resetGrouping(){sn(this._dataSets,(e,n)=>{n!=this._mainDataItems&&oe(n,i=>{this.disposeDataItem(i)})}),this._dataSets={},this._dataItems=this.mainDataItems}_handleDataSetChange(){oe(this._dataItems,e=>{let n=e.bullets;n&&oe(n,i=>{if(i){let s=i.get("sprite");s&&s.setPrivate("visible",!1)}})}),this._selectionProcessed=!1}show(e){const n=Object.create(null,{show:{get:()=>super.show}});return Si(this,void 0,void 0,function*(){this._fixVC();let i=[];i.push(n.show.call(this,e).then(()=>{this._isShowing=!1;let s=this.get("xAxis"),r=this.get("yAxis"),a=this.get("baseAxis");r!==a&&r.markDirtySelectionExtremes(),s!==a&&s.markDirtySelectionExtremes()})),i.push(this.bulletsContainer.show(e)),i.push(this._sequencedShowHide(!0,e)),yield Promise.all(i)})}hide(e){const n=Object.create(null,{hide:{get:()=>super.hide}});return Si(this,void 0,void 0,function*(){this._fixVC();let i=[];i.push(n.hide.call(this,e).then(()=>{this._isHiding=!1})),i.push(this.bulletsContainer.hide(e)),i.push(this._sequencedShowHide(!1,e)),yield Promise.all(i)})}showDataItem(e,n){const i=Object.create(null,{showDataItem:{get:()=>super.showDataItem}});return Si(this,void 0,void 0,function*(){const s=[i.showDataItem.call(this,e,n)];me(n)||(n=this.get("stateAnimationDuration",0));const r=this.get("stateAnimationEasing");oe(this._valueFields,a=>{s.push(e.animate({key:a+"Working",to:e.get(a),duration:n,easing:r}).waitForStop())}),yield Promise.all(s)})}hideDataItem(e,n){const i=Object.create(null,{hideDataItem:{get:()=>super.hideDataItem}});return Si(this,void 0,void 0,function*(){const s=[i.hideDataItem.call(this,e,n)],r=this.states.create("hidden",{});me(n)||(n=r.get("stateAnimationDuration",this.get("stateAnimationDuration",0)));const a=r.get("stateAnimationEasing",this.get("stateAnimationEasing")),o=this.get("xAxis"),l=this.get("yAxis"),u=this.get("baseAxis"),d=this.get("stacked");if((u===o||!u)&&oe(this._valueYFields,c=>{let f=l.getPrivate("min"),h=l.baseValue();me(f)&&f>h&&(h=f),d&&(h=0),e.get(c)!=null&&s.push(e.animate({key:c+"Working",to:h,duration:n,easing:a}).waitForStop())}),u===l||!u){let c=o.getPrivate("min"),f=o.baseValue();me(c)&&c>f&&(f=c),d&&(f=0),oe(this._valueXFields,h=>{e.get(h)!=null&&s.push(e.animate({key:h+"Working",to:f,duration:n,easing:a}).waitForStop())})}yield Promise.all(s)})}_markDirtyStack(){this._stackDirty=!0,this.markDirty(),this._markStakedDirtyStack()}_markStakedDirtyStack(){const e=this._stackedSeries;e&&sn(e,(n,i)=>{i._stackDirty||i._markDirtyStack()})}_afterChanged(){super._afterChanged(),this._skipped&&(this._markDirtyAxes(),this._skipped=!1)}showDataItemTooltip(e){this.getPrivate("doNotUpdateLegend")||(this.updateLegendMarker(e),this.updateLegendValue(e));const n=this.get("tooltip");if(n)if(!this.isHidden()&&this.get("visible")){if(n._setDataItem(e),e){let i=this.get("locationX",0),s=this.get("locationY",1),r=e.get("locationX",i),a=e.get("locationY",s);const o=this.get("xAxis"),l=this.get("yAxis"),u=this.get("vcx",1),d=this.get("vcy",1),c=o.getDataItemPositionX(e,this._tooltipFieldX,this._aLocationX0+(this._aLocationX1-this._aLocationX0)*r,u),f=l.getDataItemPositionY(e,this._tooltipFieldY,this._aLocationY0+(this._aLocationY1-this._aLocationY0)*a,d),h=this.getPoint(c,f);let p=!0;if(oe(this._valueFields,g=>{e.get(g)==null&&(p=!1)}),p){const g=this.chart;g&&g.inPlot(h)?(n.label.text.markDirtyText(),n.set("tooltipTarget",this._getTooltipTarget(e)),n.set("pointTo",this._display.toGlobal({x:h.x,y:h.y}))):n._setDataItem(void 0)}else n._setDataItem(void 0)}}else this.hideTooltip()}hideTooltip(){const e=this.get("tooltip");return e&&e.set("tooltipTarget",this),super.hideTooltip()}_getTooltipTarget(e){if(this.get("seriesTooltipTarget")=="bullet"){const n=e.bullets;if(n&&n.length>0){const s=n[0].get("sprite");if(s)return s}}return this}updateLegendValue(e){const n=this.get("legendDataItem");if(n){const i=n.get("label");if(i){let r="";e?(i._setDataItem(e),r=this.get("legendLabelText",i.get("text",this.get("name","")))):(i._setDataItem(this._emptyDataItem),r=this.get("legendRangeLabelText",this.get("legendLabelText",i.get("text",this.get("name",""))))),i.set("text",r)}const s=n.get("valueLabel");if(s){let r="";e?(s._setDataItem(e),r=this.get("legendValueText",s.get("text",""))):(s._setDataItem(this._emptyDataItem),r=this.get("legendRangeValueText",s.get("text",""))),s.set("text",r)}}}_getItemReaderLabel(){let e="X: {"+this._xField;return this.get("xAxis").isType("DateAxis")&&(e+=".formatDate()"),e+="}; Y: {"+this._yField,this.get("yAxis").isType("DateAxis")&&(e+=".formatDate()"),e+="}",e}getPoint(e,n){let i=this.get("xAxis").get("renderer").positionToCoordinate(e),s=this.get("yAxis").get("renderer").positionToCoordinate(n),r=999999999;return s<-999999999&&(s=-999999999),s>r&&(s=r),i<-999999999&&(i=-999999999),i>r&&(i=r),{x:i,y:s}}_shouldInclude(e){return!0}handleCursorHide(){this.hideTooltip(),this.updateLegendValue(void 0),this.updateLegendMarker(void 0)}_afterDataChange(){super._afterDataChange(),this.get("xAxis")._markDirtyKey("start"),this.get("yAxis")._markDirtyKey("start"),this.resetExtremes()}resetExtremes(){this.setPrivate("selectionMinX",void 0),this.setPrivate("selectionMaxX",void 0),this.setPrivate("selectionMinY",void 0),this.setPrivate("selectionMaxY",void 0),this.setPrivate("minX",void 0),this.setPrivate("minY",void 0),this.setPrivate("maxX",void 0),this.setPrivate("maxY",void 0)}createAxisRange(e){return this.axisRanges.push({axisDataItem:e})}get mainDataItems(){return this._mainDataItems}_adjustStartIndex(e){const n=this.get("xAxis");if(this.get("baseAxis")==n&&n.isType("DateAxis")){const s=n.baseDuration(),r=n.getPrivate("selectionMin",n.getPrivate("min",0)),a=s*this.get("locationX",.5);let o=-1/0;for(;o<r;){const l=this.dataItems[e];if(l){const u=l.open;if(u?o=u.valueX:o=l.get("valueX",0),o+=a,o<r)e++;else break}else break}}return e}}Object.defineProperty(xc,"className",{enumerable:!0,configurable:!0,writable:!0,value:"XYSeries"});Object.defineProperty(xc,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Fo.classNames.concat([xc.className])});class Sc extends xc{constructor(){super(...arguments),Object.defineProperty(this,"_ph",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_pw",{enumerable:!0,configurable:!0,writable:!0,value:0})}_makeGraphics(e,n){return this.makeColumn(n,e)}_makeFieldNames(){super._makeFieldNames();const e=this.get("xAxis"),n=this.get("yAxis"),i="CategoryAxis",s="ValueAxis";e.isType(i)&&(this.get("openCategoryXField")||(this._xOpenField=this._xField)),e.isType(s)&&(this.get("openValueXField")||(this._xOpenField=this._xField)),n.isType(i)&&(this.get("openCategoryYField")||(this._yOpenField=this._yField)),n.isType(s)&&(this.get("openValueYField")||(this._yOpenField=this._yField))}_prepareChildren(){super._prepareChildren();const e=this.get("xAxis"),n=this.get("yAxis"),i=this.dataItems.length,s=Math.max(0,this.startIndex()-2),r=Math.min(this.endIndex()+2,i-1);if(e.inited&&n.inited)for(let a=s;a<=r;a++){let o=this.dataItems[a];this._createGraphics(o)}}_updateChildren(){const e=this.chart;e&&(this._ph=e.plotContainer.height(),this._pw=e.plotContainer.width());const n=this.get("xAxis"),i=this.get("yAxis"),s=this.get("baseAxis"),r=this.columns.template;this.isDirty("fill")&&r.get("fill")==null&&r.set("fill",this.get("fill")),this.isDirty("fillPattern")&&r.get("fillPattern")==null&&r.set("fillPattern",this.get("fillPattern")),this.isDirty("stroke")&&r.get("stroke")==null&&r.set("stroke",this.get("stroke"));let a=0,o=0,l=0;oe(s.series,_=>{if(_ instanceof Sc){const b=_.get("stacked");b&&l==0&&o++,!b&&_.get("clustered")&&o++}_===this&&(a=o-1),l++}),this.get("clustered")||(a=0,o=1),o===0&&(o=1,a=0);const u=n.get("renderer"),d=i.get("renderer"),c="cellStartLocation",f="cellEndLocation",h=u.get(c,0),p=u.get(f,1),g=d.get(c,0),v=d.get(f,1);if(this._aLocationX0=h+a/o*(p-h),this._aLocationX1=h+(a+1)/o*(p-h),this._aLocationY0=g+a/o*(v-g),this._aLocationY1=g+(a+1)/o*(v-g),n.inited&&i.inited){if(this._axesDirty||this._valuesDirty||this._stackDirty||this.isDirty("vcx")||this.isDirty("vcy")||this._sizeDirty){const _=this.dataItems.length;let b=Math.max(0,this.startIndex()-2),x=Math.min(this.endIndex()+2,_-1);for(let I=0;I<b;I++)this._toggleColumn(this.dataItems[I],!1);let k=this.dataItems[b];for(let I=b;I<=x;I++){let E=this.dataItems[I];if(E.get("valueX")!=null&&E.get("valueY")!=null){if(k=E,I>0&&b>0)for(let T=I-1;T>=0;T--){let S=this.dataItems[T];if(S.get("valueX")!=null&&S.get("valueY")!=null){k=S;break}}break}else this._toggleColumn(E,!1)}for(let I=b;I<=x;I++){let E=this.dataItems[I];this._updateGraphics(E,k),E.get("valueX")!=null&&E.get("valueY")!=null&&(k=E)}for(let I=x+1;I<_;I++)this._toggleColumn(this.dataItems[I],!1)}}else this._skipped=!0;this.updateLegendMarker(this.get("tooltipDataItem")),super._updateChildren()}_createGraphics(e){let n=e.get("graphics");if(!n){n=this._makeGraphics(this.columns,e),e.set("graphics",n),n._setDataItem(e);const i=e.get("legendDataItem");if(i){const r=i.get("markerRectangle");if(r){const a=r.states.lookup("default");oe(bk,o=>{const l=n.get(o,this.get(o));r.set(o,l),a.set(o,l)})}}let s=e.get("rangeGraphics");s&&oe(s,r=>{r.dispose()}),s=[],e.setRaw("rangeGraphics",s),this.axisRanges.each(r=>{const a=r.container,o=this._makeGraphics(r.columns,e);s&&s.push(o),o.setPrivate("list",r.columns),a.children.push(o)})}}createAxisRange(e){return oe(this.dataItems,n=>{const i=n.get("graphics");i&&(i.dispose(),n.set("graphics",void 0))}),super.createAxisRange(e)}_updateGraphics(e,n){let i=e.get("graphics");const s=this._xField,r=this._yField,a=e.get(s),o=e.get(r);if(a!=null&&o!=null){const l=this._xOpenField,u=this._yOpenField,d=this.get("locationX",e.get("locationX",.5)),c=this.get("locationY",e.get("locationY",.5)),f=this.get("openLocationX",e.get("openLocationX",d)),h=this.get("openLocationY",e.get("openLocationY",c)),p=i.get("width"),g=i.get("height"),v=this.get("stacked"),_=this.get("xAxis"),b=this.get("yAxis"),x=this.get("baseAxis"),k=_.get("start"),I=_.get("end"),E=b.get("start"),T=b.get("end");let S,w,P,C,D=this.get("vcy",1),A=this.get("vcx",1),N=!1,B=!1;if(b.isType("CategoryAxis")&&_.isType("CategoryAxis")){let q=this._aLocationX0+f-.5,W=this._aLocationX1+d-.5;if(p instanceof xt){let K=(W-q)*(1-p.value)/2;q+=K,W-=K}if(S=_.getDataItemPositionX(e,l,q,A),w=_.getDataItemPositionX(e,s,W,A),q=this._aLocationY0+h-.5,W=this._aLocationY1+c-.5,g instanceof xt){let K=(W-q)*(1-g.value)/2;q+=K,W-=K}P=b.getDataItemPositionY(e,u,q,D),C=b.getDataItemPositionY(e,r,W,D),e.setRaw("point",{x:S+(w-S)/2,y:P+(C-P)/2})}else if(_===x){let q=this._aLocationX0+f-.5,W=this._aLocationX1+d-.5;if(p instanceof xt){let K=(W-q)*(1-p.value)/2;q+=K,W-=K}if(S=_.getDataItemPositionX(e,l,q,A),w=_.getDataItemPositionX(e,s,W,A),P=b.getDataItemPositionY(e,r,c,D),this._yOpenField!==this._yField)C=b.getDataItemPositionY(e,u,h,D);else if(v){let K=e.get("stackToItemY");K?C=b.getDataItemPositionY(K,r,h,K.component.get("vcy")):C=b.basePosition()}else C=b.basePosition();e.setRaw("point",{x:S+(w-S)/2,y:P}),B=!0}else if(b===x){let q=this._aLocationY0+h-.5,W=this._aLocationY1+c-.5;if(g instanceof xt){let K=(W-q)*(1-g.value)/2;q+=K,W-=K}if(P=b.getDataItemPositionY(e,u,q,D),C=b.getDataItemPositionY(e,r,W,D),w=_.getDataItemPositionX(e,s,d,A),this._xOpenField!==this._xField)S=_.getDataItemPositionX(e,l,f,A);else if(v){let K=e.get("stackToItemX");K?S=_.getDataItemPositionX(K,s,f,K.component.get("vcx")):S=_.basePosition()}else S=_.basePosition();N=!0,e.setRaw("point",{x:w,y:P+(C-P)/2})}this._updateSeriesGraphics(e,i,S,w,P,C,N,B),S<k&&w<k||S>I&&w>I||P<E&&C<=E||P>=T&&C>T||ma(S)||ma(P)?this._toggleColumn(e,!1):this._toggleColumn(e,!0);let z=e.get("rangeGraphics");z&&oe(z,q=>{this._updateSeriesGraphics(e,q,S,w,P,C,N,B)}),this._applyGraphicsStates(e,n)}else this._toggleColumn(e,!1)}_updateSeriesGraphics(e,n,i,s,r,a,o,l){const u=n.get("width"),d=n.get("height"),c=n.get("maxWidth"),f=n.get("maxHeight"),h=this.getPoint(i,r),p=this.getPoint(s,a),g=e.get("point");if(g){const v=this.getPoint(g.x,g.y);g.x=v.x+this._x,g.y=v.y+this._y}if(i=h.x,s=p.x,r=h.y,a=p.y,me(u)){const v=(s-i-u)/2;i+=v,s-=v}if(me(c)&&c<Math.abs(s-i)){const v=(s-i-c)/2;i+=v,s-=v}if(me(d)){const v=(a-r-d)/2;r+=v,a-=v}if(me(f)&&f<Math.abs(a-r)){const v=(a-r-f)/2;r+=v,a-=v}this.get("adjustBulletPosition")&&(o&&(s=Math.min(Math.max(0,s),this._pw),i=Math.min(Math.max(0,i),this._pw)),l&&(r=Math.min(Math.max(0,r),this._ph),a=Math.min(Math.max(0,a),this._ph))),e.setRaw("left",i),e.setRaw("right",s),e.setRaw("top",r),e.setRaw("bottom",a),n.setPrivate("width",s-i),n.setPrivate("height",a-r),n.set("x",i),n.set("y",a-(a-r))}_handleDataSetChange(){super._handleDataSetChange(),oe(this._dataItems,e=>{this._toggleColumn(e,!1)})}_applyGraphicsStates(e,n){const i=e.get("graphics"),s=i.states.lookup("dropFromOpen"),r=i.states.lookup("riseFromOpen"),a=i.states.lookup("dropFromPrevious"),o=i.states.lookup("riseFromPrevious");if(s||a||r||o){const l=this.get("xAxis"),u=this.get("yAxis"),d=this.get("baseAxis");let c,f,h;d===l&&u.isType("ValueAxis")?(c=e.get(this._yOpenField),f=e.get(this._yField),h=n.get(this._yField)):d===u&&l.isType("ValueAxis")&&(c=e.get(this._xOpenField),f=e.get(this._xField),h=n.get(this._xField)),me(c)&&me(f)&&(f<c?s&&s.apply():r&&r.apply(),me(h)&&(f<h?a&&a.apply():o&&o.apply()))}}disposeDataItem(e){super.disposeDataItem(e);const n=e.get("graphics");n&&(this.columns.removeValue(n),n.dispose());const i=e.get("rangeGraphics");i&&oe(i,s=>{const r=s.getPrivate("list");r&&r.removeValue(s),s.dispose()})}hideDataItem(e,n){const i=Object.create(null,{hideDataItem:{get:()=>super.hideDataItem}});return Si(this,void 0,void 0,function*(){const s=[i.hideDataItem.call(this,e,n)],r=e.get("graphics");r&&s.push(r.hide(n));const a=e.get("rangeGraphics");a&&oe(a,o=>{s.push(o.hide(n))}),yield Promise.all(s)})}_toggleColumn(e,n){const i=e.get("graphics");i&&i.setPrivate("visible",n);const s=e.get("rangeGraphics");s&&oe(s,a=>{a.setPrivate("visible",n)});const r=e.bullets;r&&oe(r,a=>{a.setPrivate("hidden",!n)})}showDataItem(e,n){const i=Object.create(null,{showDataItem:{get:()=>super.showDataItem}});return Si(this,void 0,void 0,function*(){const s=[i.showDataItem.call(this,e,n)],r=e.get("graphics");r&&s.push(r.show(n));const a=e.get("rangeGraphics");a&&oe(a,o=>{s.push(o.show(n))}),yield Promise.all(s)})}updateLegendMarker(e){let n=this.get("legendDataItem");if(this.get("useLastColorForLegendMarker")&&!e){const i=this.dataItems[this.endIndex()-1];i&&(e=i)}if(n){let i=this.columns.template;if(e){let r=e.get("graphics");r&&(i=r)}const s=n.get("markerRectangle");if(s&&!n.get("itemContainer").get("disabled")){const r=s.states.lookup("default");oe(bk,a=>{const o=i.get(a,this.get(a));s.set(a,o),r.set(a,o)})}}}_getTooltipTarget(e){if(this.get("seriesTooltipTarget")=="bullet")return super._getTooltipTarget(e);let n=e.get("graphics");return n||this}}Object.defineProperty(Sc,"className",{enumerable:!0,configurable:!0,writable:!0,value:"BaseColumnSeries"});Object.defineProperty(Sc,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:xc.classNames.concat([Sc.className])});class kc extends _c{constructor(){super(...arguments),Object.defineProperty(this,"_series",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_isPanning",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"minorDataItems",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"labelsContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(st.new(this._root,{}))}),Object.defineProperty(this,"gridContainer",{enumerable:!0,configurable:!0,writable:!0,value:st.new(this._root,{width:Fe,height:Fe})}),Object.defineProperty(this,"topGridContainer",{enumerable:!0,configurable:!0,writable:!0,value:st.new(this._root,{width:Fe,height:Fe})}),Object.defineProperty(this,"bulletsContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(st.new(this._root,{isMeasured:!1,width:Fe,height:Fe,position:"absolute"}))}),Object.defineProperty(this,"chart",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_rangesDirty",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_panStart",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_panEnd",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"_sAnimation",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_eAnimation",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_skipSync",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"axisRanges",{enumerable:!0,configurable:!0,writable:!0,value:new Zh}),Object.defineProperty(this,"_seriesAxisRanges",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"ghostLabel",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_cursorPosition",{enumerable:!0,configurable:!0,writable:!0,value:-1}),Object.defineProperty(this,"_snapToSeries",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_seriesValuesDirty",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_seriesAdded",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"axisHeader",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(st.new(this._root,{themeTags:["axis","header"],position:"absolute",background:tr.new(this._root,{themeTags:["header","background"],fill:this._root.interfaceColors.get("background")})}))}),Object.defineProperty(this,"_bullets",{enumerable:!0,configurable:!0,writable:!0,value:{}})}_dispose(){this.gridContainer.dispose(),this.topGridContainer.dispose(),this.bulletsContainer.dispose(),this.labelsContainer.dispose(),this.axisHeader.dispose(),super._dispose()}_afterNew(){super._afterNew(),this.setPrivate("updateScrollbar",!0),this._disposers.push(this.axisRanges.events.onAll(n=>{if(n.type==="clear")oe(n.oldValues,i=>{this.disposeDataItem(i)});else if(n.type==="push")this._processAxisRange(n.newValue,["range"]);else if(n.type==="setIndex")this._processAxisRange(n.newValue,["range"]);else if(n.type==="insertIndex")this._processAxisRange(n.newValue,["range"]);else if(n.type==="removeIndex")this.disposeDataItem(n.oldValue);else if(n.type==="moveIndex")this._processAxisRange(n.value,["range"]);else throw new Error("Unknown IStreamEvent type")}));const e=this.get("renderer");e&&(e.axis=this,e.processAxis()),this.children.push(e),this.ghostLabel=e.makeLabel(new aa(this,void 0,{}),[]),this.ghostLabel.adapters.disable("text"),this.ghostLabel.setAll({opacity:0,tooltipText:void 0,tooltipHTML:void 0,interactive:!1}),this.ghostLabel.events.disable()}_updateFinals(e,n){}zoom(e,n,i,s){if(this.get("zoomable",!0))if(this._updateFinals(e,n),this.get("start")!==e||this.get("end")!=n){let r=this._sAnimation,a=this._eAnimation,o=this.get("maxDeviation",.5)*Math.min(1,n-e);e<-o&&(e=-o),n>1+o&&(n=1+o),e>n&&([e,n]=[n,e]),me(i)||(i=this.get("interpolationDuration",0)),s||(s="end");let l=this.getPrivate("maxZoomFactor",this.get("maxZoomFactor",100)),u=l;n===1&&e!==0&&(e<this.get("start",0)?s="start":s="end"),e===0&&n!==1&&(n>this.get("end",1)?s="end":s="start");let d=this.get("minZoomCount",0),c=this.get("maxZoomCount",1/0);me(d)&&(l=u/d);let f=1;if(me(c)&&(f=u/c),s==="start"?(c>0&&1/(n-e)<f&&(n=e+1/f),1/(n-e)>l&&(n=e+1/l),n>1&&n-e<1/l&&(e=n-1/l)):(c>0&&1/(n-e)<f&&(e=n-1/f),1/(n-e)>l&&(e=n-1/l),e<0&&n-e<1/l&&(n=e+1/l)),1/(n-e)>l&&(n=e+1/l),1/(n-e)>l&&(e=n-1/l),c!=null&&d!=null&&e==this.get("start")&&n==this.get("end")){const h=this.chart;h&&h._handleAxisSelection(this,!0)}if((r&&r.playing&&r.to==e||this.get("start")==e)&&(a&&a.playing&&a.to==n||this.get("end")==n))return;if(i>0){let h=this.get("interpolationEasing"),p,g;if(this.get("start")!=e&&(p=this.animate({key:"start",to:e,duration:i,easing:h})),this.get("end")!=n&&(g=this.animate({key:"end",to:n,duration:i,easing:h})),this._sAnimation=p,this._eAnimation=g,p)return p;if(g)return g}else this.set("start",e),this.set("end",n)}else this._sAnimation&&this._sAnimation.stop(),this._eAnimation&&this._eAnimation.stop()}get series(){return this._series}_processAxisRange(e,n){e.setRaw("isRange",!0),this._createAssets(e,n),this._rangesDirty=!0,this._prepareDataItem(e);const i=e.get("above"),s=this.topGridContainer,r=e.get("grid");i&&r&&s.children.moveValue(r);const a=e.get("axisFill");i&&a&&s.children.moveValue(a)}_prepareDataItem(e,n){}markDirtyExtremes(){}markDirtySelectionExtremes(){}_calculateTotals(){}_updateAxisRanges(){this._bullets={},this.axisRanges.each(e=>{this._prepareDataItem(e)}),oe(this._seriesAxisRanges,e=>{this._prepareDataItem(e)})}_prepareChildren(){if(super._prepareChildren(),this.get("fixAxisSize")?this.ghostLabel.set("visible",!0):this.ghostLabel.set("visible",!1),this.isDirty("start")||this.isDirty("end")){const n=this.chart;n&&n._updateCursor();let i=this.get("start",0),s=this.get("end",1),r=this.get("maxDeviation",.5)*Math.min(1,s-i);if(i<-r){let a=i+r;i=-r,this.setRaw("start",i),this.isDirty("end")&&this.setRaw("end",s-a)}if(s>1+r){let a=s-1-r;s=1+r,this.setRaw("end",s),this.isDirty("start")&&this.setRaw("start",i-a)}}const e=this.get("renderer");if(e._start=this.get("start"),e._end=this.get("end"),e._inversed=e.get("inversed",!1),e._axisLength=e.axisLength()/(e._end-e._start),e._updateLC(),this.isDirty("tooltip")){const n=this.get("tooltip");if(n){const i=e.get("themeTags");n.addTag("axis"),n.addTag(this.className.toLowerCase()),n._applyThemes(),i&&(n.set("themeTags",Vt(n.get("themeTags"),i)),n.label._applyThemes())}}}_updateTooltipBounds(){const e=this.get("tooltip");e&&this.get("renderer").updateTooltipBounds(e)}_updateBounds(){super._updateBounds(),this._updateTooltipBounds()}processChart(e){this.chart=e;const n=this.get("renderer");n.chart=e,e.gridContainer.children.push(this.gridContainer),e.topGridContainer.children.push(this.topGridContainer),e.axisHeadersContainer.children.push(this.axisHeader),this.on("start",()=>{e._handleAxisSelection(this)}),this.on("end",()=>{e._handleAxisSelection(this)}),e.plotContainer.onPrivate("width",()=>{this.markDirtySize()}),e.plotContainer.onPrivate("height",()=>{this.markDirtySize()}),e.processAxis(this)}hideDataItem(e){return this._toggleFHDataItem(e,!0),super.hideDataItem(e)}showDataItem(e){return this._toggleFHDataItem(e,!1),super.showDataItem(e)}_toggleFHDataItem(e,n){const i="forceHidden",s=e.get("label");s&&s.set(i,n);const r=e.get("grid");r&&r.set(i,n);const a=e.get("tick");a&&a.set(i,n);const o=e.get("axisFill");o&&o.set(i,n);const l=e.get("bullet");if(l){const u=l.get("sprite");u&&u.set(i,n)}}_toggleDataItem(e,n){const i=e.get("label"),s="visible";i&&i.setPrivate(s,n);const r=e.get("grid");r&&r.setPrivate(s,n);const a=e.get("tick");a&&a.setPrivate(s,n);const o=e.get("axisFill");o&&o.setPrivate(s,n);const l=e.get("bullet");if(l){const u=l.get("sprite");u&&u.setPrivate(s,n)}}_createAssets(e,n,i){var s,r,a;const o=this.get("renderer");let l="minor";const u=e.get("label");if(!u)o.makeLabel(e,n);else{let f=u.get("themeTags"),h=!1;i?(f==null?void 0:f.indexOf(l))==-1&&(h=!0):(f==null?void 0:f.indexOf(l))!=-1&&(h=!0),h&&((s=u.parent)===null||s===void 0||s.children.removeValue(u),o.makeLabel(e,n),u.dispose(),o.labels.removeValue(u))}const d=e.get("grid");if(!d)o.makeGrid(e,n);else{let f=d.get("themeTags"),h=!1;i?(f==null?void 0:f.indexOf(l))==-1&&(h=!0):(f==null?void 0:f.indexOf(l))!=-1&&(h=!0),h&&((r=d.parent)===null||r===void 0||r.children.removeValue(d),o.makeGrid(e,n),d.dispose(),o.grid.removeValue(d))}const c=e.get("tick");if(!c)o.makeTick(e,n);else{let f=!1,h=c.get("themeTags");i?(h==null?void 0:h.indexOf(l))==-1&&(f=!0):(h==null?void 0:h.indexOf(l))!=-1&&(f=!0),f&&((a=c.parent)===null||a===void 0||a.children.removeValue(c),o.makeTick(e,n),c.dispose(),o.ticks.removeValue(c))}!i&&!e.get("axisFill")&&o.makeAxisFill(e,n),this._processBullet(e)}_processBullet(e){let n=e.get("bullet"),i=this.get("bullet");if(!n&&i&&!e.get("isRange")&&(n=i(this._root,this,e)),n){n.axis=this;const s=n.get("sprite");s&&(s._setDataItem(e),e.setRaw("bullet",n),s.parent||this.bulletsContainer.children.push(s))}}_afterChanged(){super._afterChanged();const e=this.chart;e&&(e._updateChartLayout(),e.axisHeadersContainer.markDirtySize()),this.get("renderer")._updatePositions(),this._seriesAdded=!1}disposeDataItem(e){super.disposeDataItem(e);const n=this.get("renderer"),i=e.get("label");i&&(n.labels.removeValue(i),i.dispose());const s=e.get("tick");s&&(n.ticks.removeValue(s),s.dispose());const r=e.get("grid");r&&(n.grid.removeValue(r),r.dispose());const a=e.get("axisFill");a&&(n.axisFills.removeValue(a),a.dispose());const o=e.get("bullet");o&&o.dispose()}_updateGhost(){this.setPrivate("cellWidth",this.getCellWidthPosition()*this.get("renderer").axisLength());const e=this.ghostLabel;if(!e.isHidden()){const s=e.localBounds(),r=Math.ceil(s.right-s.left);let a=e.get("text");oe(this.dataItems,o=>{const l=o.get("label");if(l&&!l.isHidden()){const u=l.localBounds();Math.ceil(u.right-u.left)>r&&(a=l.text._getText())}}),e.set("text",a)}let n=this.get("start",0),i=this.get("end",1);this.get("renderer").updateLabel(e,n+(i-n)*.5)}_handleCursorPosition(e,n){e=this.get("renderer").toAxisPosition(e),this._cursorPosition=e,this._snapToSeries=n,this.updateTooltip()}updateTooltip(){const e=this._snapToSeries;let n=this._cursorPosition;const i=this.get("tooltip"),s=this.get("renderer");me(n)&&(oe(this.series,r=>{if(r.get("baseAxis")===this){const a=this.getSeriesItem(r,n,this.get("tooltipLocation"));e&&e.indexOf(r)!=-1?(r.updateLegendMarker(a),r.updateLegendValue(a),r._settings.tooltipDataItem=a):(r.showDataItemTooltip(a),r.setRaw("tooltipDataItem",a))}}),this.get("snapTooltip")&&(n=this.roundAxisPosition(n,this.get("tooltipLocation",.5))),this.setPrivateRaw("tooltipPosition",n),i&&(s.updateTooltipBounds(i),ma(n)?i.hide(0):(this._updateTooltipText(i,n),s.positionTooltip(i,n),n<this.get("start",0)||n>this.get("end",1)?i.hide(0):i.show(0))))}_updateTooltipText(e,n){e.label.set("text",this.getTooltipText(n))}roundAxisPosition(e,n){return e}handleCursorShow(){let e=this.get("tooltip");e&&e.show()}handleCursorHide(){let e=this.get("tooltip");e&&e.hide()}processSeriesDataItem(e,n){}_clearDirty(){super._clearDirty(),this._sizeDirty=!1,this._rangesDirty=!1}coordinateToPosition(e){const n=this.get("renderer");return n.toAxisPosition(e/n.axisLength())}toAxisPosition(e){return this.get("renderer").toAxisPosition(e)}toGlobalPosition(e){return this.get("renderer").toGlobalPosition(e)}fixPosition(e){return this.get("renderer").fixPosition(e)}shouldGap(e,n,i,s){return!1}createAxisRange(e){return this.axisRanges.push(e)}_groupSeriesData(e){}getCellWidthPosition(){return .05}}Object.defineProperty(kc,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Axis"});Object.defineProperty(kc,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:_c.classNames.concat([kc.className])});class Yl extends kc{constructor(){super(...arguments),Object.defineProperty(this,"_dirtyExtremes",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_dirtySelectionExtremes",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_dseHandled",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_deltaMinMax",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"_minReal",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_maxReal",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_minRealLog",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_baseValue",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_syncDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_minLogAdjusted",{enumerable:!0,configurable:!0,writable:!0,value:1})}markDirtyExtremes(){this._dirtyExtremes=!0,this.markDirty()}markDirtySelectionExtremes(){this._dirtySelectionExtremes=!0,this.markDirty()}_afterNew(){this._settings.themeTags=Vt(this._settings.themeTags,["axis"]),this.setPrivateRaw("name","value"),this.addTag("value"),super._afterNew()}_prepareChildren(){if(super._prepareChildren(),this.isDirty("syncWithAxis")){this._prevSettings.syncWithAxis&&this._syncDp&&this._syncDp.dispose();let i=this.get("syncWithAxis");i&&(this._syncDp=new Os([i.onPrivate("selectionMinFinal",()=>{this._dirtySelectionExtremes=!0}),i.onPrivate("selectionMaxFinal",()=>{this._dirtySelectionExtremes=!0})]))}let e=!1;if((this.isDirty("min")||this.isDirty("max")||this.isDirty("maxPrecision")||this.isDirty("numberFormat"))&&(e=!0,this.ghostLabel.set("text","")),(this._sizeDirty||this._dirtyExtremes||this._valuesDirty||e||this.isPrivateDirty("width")||this.isPrivateDirty("height")||this.isDirty("extraMin")||this.isDirty("extraMax")||this.isDirty("logarithmic")||this.isDirty("treatZeroAs")||this.isDirty("baseValue")||this.isDirty("strictMinMax")||this.isDirty("strictMinMaxSelection"))&&(this._getMinMax(),this._dirtyExtremes=!1),this._handleSizeDirty(),this._dirtySelectionExtremes&&!this._isPanning&&this.get("autoZoom",!0)){const n=this.chart;let i=!1;if(n){const s=this.get("renderer").getPrivate("letter");s=="Y"?n.xAxes.each(r=>{r.className!="ValueAxis"&&(i=!0)}):s=="X"&&n.yAxes.each(r=>{r.className!="ValueAxis"&&(i=!0)})}i&&this._getSelectionMinMax(),this._dirtySelectionExtremes=!1}this._groupData(),(this._sizeDirty||this._valuesDirty||this.isDirty("start")||this.isDirty("end")||this.isPrivateDirty("min")||this.isPrivateDirty("selectionMax")||this.isPrivateDirty("selectionMin")||this.isPrivateDirty("max")||this.isPrivateDirty("step")||this.isPrivateDirty("width")||this.isPrivateDirty("height")||this.isDirty("logarithmic"))&&(this._handleRangeChange(),this._prepareAxisItems(),this._updateAxisRanges()),this._baseValue=this.baseValue()}_handleSizeDirty(){this._sizeDirty&&!this._dseHandled&&(this._dirtySelectionExtremes=!0,this._dseHandled=!0)}_clearDirty(){super._clearDirty(),this._dseHandled=!1}_groupData(){}_formatText(e){const n=this.get("numberFormat"),i=this.getNumberFormatter();let s="";return n?s=i.format(e,n):s=i.format(e,void 0,this.getPrivate("stepDecimalPlaces")),s}_prepareAxisItems(){const e=this.getPrivate("min"),n=this.getPrivate("max");if(me(e)&&me(n)){const i=this.get("logarithmic"),s=this.getPrivate("step"),r=this.getPrivate("selectionMin"),a=this.getPrivate("selectionMax")+s;let o=r-s,l=1,u=e;if(i){if(o=this._minLogAdjusted,o<r)for(;o<r;)o+=s;u=o,u<=0&&(u=1,s<1&&(me(this._minRealLog)?u=this._minRealLog:u=Math.pow(10,-50))),l=Math.log(a-s)*Math.LOG10E-Math.log(u)*Math.LOG10E,l>2&&(o=Math.pow(10,Math.log(u)*Math.LOG10E-50))}const d=this.get("renderer"),c=d.get("minorLabelsEnabled"),f=d.get("minorGridEnabled",c);let h=Math.pow(10,Math.floor(Math.log(Math.abs(s))*Math.LOG10E));const p=Math.round(s/h);let g=2;ci(p/5,10)%1==0&&(g=5),ci(p/10,10)%1==0&&(g=10);let v=s/g,_=0,b=0,x=-1/0;for(;o<a;){let k;this.dataItems.length<_+1?(k=new aa(this,void 0,{}),this._dataItems.push(k),this.processDataItem(k)):k=this.dataItems[_],this._createAssets(k,[]),this._toggleDataItem(k,!0),k.setRaw("value",o);const I=k.get("label");I&&I.set("text",this._formatText(o)),this._prepareDataItem(k);let E=o;if(i&&l>2?E=Math.pow(10,Math.log(u)*Math.LOG10E+_-50):E+=s,f){let S=o+v;for(i&&(l>2&&(v=this._adjustMinMax(o,E,10).step),S=o+v);S<E-s*1e-11;){let w;this.minorDataItems.length<b+1?(w=new aa(this,void 0,{}),this.minorDataItems.push(w),this.processDataItem(w)):w=this.minorDataItems[b],this._createAssets(w,["minor"],!0),this._toggleDataItem(w,!0),w.setRaw("value",S);const P=w.get("label");P&&(c?P.set("text",this._formatText(S)):P.setPrivate("visible",!1)),this._prepareDataItem(w),S+=v,b++}}if(o=E,x==o)break;let T=Math.pow(10,Math.floor(Math.log(Math.abs(s))*Math.LOG10E));if(T<1&&!i){let S=Math.round(Math.abs(Math.log(Math.abs(T))*Math.LOG10E))+2;o=ci(o,S)}_++,x=o}for(let k=_;k<this.dataItems.length;k++)this._toggleDataItem(this.dataItems[k],!1);for(let k=b;k<this.minorDataItems.length;k++)this._toggleDataItem(this.minorDataItems[k],!1);oe(this.series,k=>{k.inited&&k._markDirtyAxes()}),this._updateGhost()}}_prepareDataItem(e,n){let i=this.get("renderer"),s=e.get("value"),r=e.get("endValue"),a=this.valueToPosition(s),o=a,l=this.valueToPosition(s+this.getPrivate("step"));me(r)&&(o=this.valueToPosition(r),l=o),e.get("isRange")&&r==null&&(l=a);let u=o,d=e.get("labelEndValue");d!=null&&(u=this.valueToPosition(d)),i.updateLabel(e.get("label"),a,u,n);const c=e.get("grid");if(i.updateGrid(c,a,o),c&&(s==this.get("baseValue",0)?(c.addTag("base"),c._applyThemes()):c.hasTag("base")&&(c.removeTag("base"),c._applyThemes())),i.updateTick(e.get("tick"),a,u,n),i.updateFill(e.get("axisFill"),a,l),this._processBullet(e),i.updateBullet(e.get("bullet"),a,o),!e.get("isRange")){const f=this.get("fillRule");f&&f(e)}}_handleRangeChange(){let e=this.positionToValue(this.get("start",0)),n=this.positionToValue(this.get("end",1));const i=this.get("renderer").gridCount();let s=this._adjustMinMax(e,n,i,!0),r=VU(s.step);this.setPrivateRaw("stepDecimalPlaces",r),e=ci(e,r),n=ci(n,r),s=this._adjustMinMax(e,n,i,!0);let a=s.step;e=s.min,n=s.max,(this.getPrivate("selectionMin")!==e||this.getPrivate("selectionMax")!==n||this.getPrivate("step")!==a)&&(this.setPrivateRaw("selectionMin",e),this.setPrivateRaw("selectionMax",n),this.setPrivateRaw("step",a))}positionToValue(e){const n=this.getPrivate("min"),i=this.getPrivate("max");return this.get("logarithmic")?Math.pow(Math.E,(e*(Math.log(i)*Math.LOG10E-Math.log(n)*Math.LOG10E)+Math.log(n)*Math.LOG10E)/Math.LOG10E):e*(i-n)+n}valueToPosition(e){const n=this.getPrivate("min"),i=this.getPrivate("max");if(this.get("logarithmic")){if(e<=0){let s=this.get("treatZeroAs");me(s)&&(e=s)}return(Math.log(e)*Math.LOG10E-Math.log(n)*Math.LOG10E)/(Math.log(i)*Math.LOG10E-Math.log(n)*Math.LOG10E)}else return(e-n)/(i-n)}valueToFinalPosition(e){const n=this.getPrivate("minFinal"),i=this.getPrivate("maxFinal");if(this.get("logarithmic")){if(e<=0){let s=this.get("treatZeroAs");me(s)&&(e=s)}return(Math.log(e)*Math.LOG10E-Math.log(n)*Math.LOG10E)/(Math.log(i)*Math.LOG10E-Math.log(n)*Math.LOG10E)}else return(e-n)/(i-n)}getX(e,n,i){e=i+(e-i)*n;const s=this.valueToPosition(e);return this._settings.renderer.positionToCoordinate(s)}getY(e,n,i){e=i+(e-i)*n;const s=this.valueToPosition(e);return this._settings.renderer.positionToCoordinate(s)}getDataItemCoordinateX(e,n,i,s){return this._settings.renderer.positionToCoordinate(this.getDataItemPositionX(e,n,i,s))}getDataItemPositionX(e,n,i,s){let r=e.get(n);if(e.get("stackToItemX")){const o=e.component;r=r*s+o.getStackedXValueWorking(e,n)}else r=this._baseValue+(r-this._baseValue)*s;return this.valueToPosition(r)}getDataItemCoordinateY(e,n,i,s){return this._settings.renderer.positionToCoordinate(this.getDataItemPositionY(e,n,i,s))}getDataItemPositionY(e,n,i,s){let r=e.get(n);if(e.get("stackToItemY")){const o=e.component;r=r*s+o.getStackedYValueWorking(e,n)}else r=this._baseValue+(r-this._baseValue)*s;return this.valueToPosition(r)}basePosition(){return this.valueToPosition(this.baseValue())}baseValue(){const e=Math.min(this.getPrivate("minFinal",-1/0),this.getPrivate("selectionMin",-1/0)),n=Math.max(this.getPrivate("maxFinal",1/0),this.getPrivate("selectionMax",1/0));let i=this.get("baseValue",0);return i<e&&(i=e),i>n&&(i=n),i}cellEndValue(e){return e}fixSmallStep(e){return 1+e===1?(e*=2,this.fixSmallStep(e)):e}_fixMin(e){return e}_fixMax(e){return e}_calculateTotals(){if(this.get("calculateTotals")){let e=this.series[0];if(e){let n=e.startIndex();if(e.dataItems.length>0){n>0&&n--;let i=e.endIndex();i<e.dataItems.length&&i++;let s,r;e.get("yAxis")==this?(s="valueY",r="vcy"):e.get("xAxis")==this&&(s="valueX",r="vcx");let a=s+"Working";if(s)for(let o=n;o<i;o++){let l=0,u=0;oe(this.series,d=>{if(!d.get("excludeFromTotal")){let c=d.dataItems[o];if(c){let f=c.get(a)*d.get(r);ma(f)||(l+=f,u+=Math.abs(f))}}}),oe(this.series,d=>{if(!d.get("excludeFromTotal")){let c=d.dataItems[o];if(c){let f=c.get(a)*d.get(r);ma(f)||(c.set(s+"Total",u),c.set(s+"Sum",l),c.set(s+"TotalPercent",f/u*100))}}})}}}}}_getSelectionMinMax(){const e=this.getPrivate("minFinal"),n=this.getPrivate("maxFinal"),i=this.get("min"),s=this.get("max");let r=this.get("extraMin",0),a=this.get("extraMax",0);this.get("logarithmic")&&(this.get("extraMin")==null&&(r=.1),this.get("extraMax")==null&&(a=.2));const o=this.get("renderer").gridCount(),l=this.get("strictMinMaxSelection");let u=this.get("strictMinMax");if(me(e)&&me(n)){let d=n,c=e;if(oe(this.series,k=>{if(!k.get("ignoreMinMax")){let I,E;const T=k.getPrivate("outOfSelection");if(k.get("xAxis")===this){if(!T){let S=k.getPrivate("minX"),w=k.getPrivate("maxX");(k.startIndex()!=0||k.endIndex()!=k.dataItems.length)&&(S=void 0,w=void 0),I=k.getPrivate("selectionMinX",S),E=k.getPrivate("selectionMaxX",w)}}else if(k.get("yAxis")===this&&!T){let S=k.getPrivate("minY"),w=k.getPrivate("maxY");(k.startIndex()!=0||k.endIndex()!=k.dataItems.length)&&(S=void 0,w=void 0),I=k.getPrivate("selectionMinY",S),E=k.getPrivate("selectionMaxY",w)}!k.isHidden()&&!k.isShowing()&&(me(I)&&(d=Math.min(d,I)),me(E)&&(c=Math.max(c,E)))}}),this.axisRanges.each(k=>{if(k.get("affectsMinMax")){let I=k.get("value");I!=null&&(d=Math.min(d,I),c=Math.max(c,I)),I=k.get("endValue"),I!=null&&(d=Math.min(d,I),c=Math.max(c,I))}}),d>c&&([d,c]=[c,d]),me(i)?u?d=i:d=e:u&&me(this._minReal)&&(d=this._minReal),me(s)?u?c=s:c=n:u&&me(this._maxReal)&&(c=this._maxReal),d===c){let k=d;if(d-=this._deltaMinMax,c+=this._deltaMinMax,d<e){let E=k-e;E==0&&(E=this._deltaMinMax),d=k-E,c=k+E,u=!0}let I=this._adjustMinMax(d,c,o,u);d=I.min,c=I.max}let f=d,h=c,p=c-d;d-=p*r,c+=p*a;let g=this._adjustMinMax(d,c,o);d=g.min,c=g.max,d=Kn(d,e,n),c=Kn(c,e,n),g=this._adjustMinMax(d,c,o,!0),u||(d=g.min,c=g.max);const v=this.get("syncWithAxis");if(v&&(g=this._syncAxes(d,c,g.step,v.getPrivate("selectionMinFinal",v.getPrivate("minFinal",0)),v.getPrivate("selectionMaxFinal",v.getPrivate("maxFinal",1)),v.getPrivate("selectionStepFinal",v.getPrivate("step",1))),g.min<e&&(g.min=e),g.max>n&&(g.max=n),d=g.min,c=g.max),u&&(me(i)&&(d=Math.max(d,i)),me(s)&&(c=Math.min(c,s))),l&&(d=f-(h-f)*r,c=h+(h-f)*a),u){me(i)?d=i:d=f,me(s)?c=s:c=h,c-d<=1e-8&&(d-=this._deltaMinMax,c+=this._deltaMinMax);let k=c-d;d-=k*r,c+=k*a}this.get("logarithmic")&&(d<=0&&(d=f*(1-Math.min(r,.99))),d<e&&(d=e),c>n&&(c=n));let _=Math.min(20,Math.ceil(Math.log(this.getPrivate("maxZoomFactor",100)+1)/Math.LN10)+2),b=ci(this.valueToFinalPosition(d),_),x=ci(this.valueToFinalPosition(c),_);this.setPrivateRaw("selectionMinFinal",d),this.setPrivateRaw("selectionMaxFinal",c),this.setPrivateRaw("selectionStepFinal",g.step),this.zoom(b,x)}}_getMinMax(){let e=this.get("min"),n=this.get("max"),i=1/0,s=-1/0,r=this.get("extraMin",0),a=this.get("extraMax",0);this.get("logarithmic")&&(this.get("extraMin")==null&&(r=.1),this.get("extraMax")==null&&(a=.2));let o=1/0;if(oe(this.series,x=>{if(!x.get("ignoreMinMax")){let k,I;if(x.get("xAxis")===this?(k=x.getPrivate("minX"),I=x.getPrivate("maxX")):x.get("yAxis")===this&&(k=x.getPrivate("minY"),I=x.getPrivate("maxY")),me(k)&&me(I)){i=Math.min(i,k),s=Math.max(s,I);let E=I-k;E<=0&&(E=Math.abs(I/100)),E<o&&(o=E)}}}),this.axisRanges.each(x=>{if(x.get("affectsMinMax")){let k=x.get("value");k!=null&&(i=Math.min(i,k),s=Math.max(s,k)),k=x.get("endValue"),k!=null&&(i=Math.min(i,k),s=Math.max(s,k))}}),this.get("logarithmic")){let x=this.get("treatZeroAs");me(x)&&i<=0&&(i=x)}if(i===0&&s===0&&(s=.9,i=-.9),me(e)&&(i=e),me(n)&&(s=n),i===1/0||s===-1/0){this.setPrivate("minFinal",void 0),this.setPrivate("maxFinal",void 0);return}i>s&&([i,s]=[s,i]);const l=i,u=s;let d=this.adapters.fold("min",i),c=this.adapters.fold("max",s);this._minRealLog=i,me(d)&&(i=d),me(c)&&(s=c),i=this._fixMin(i),s=this._fixMax(s),s-i<=1/Math.pow(10,15)&&(s-i!==0?this._deltaMinMax=(s-i)/2:this._getDelta(s),i-=this._deltaMinMax,s+=this._deltaMinMax),i-=(s-i)*r,s+=(s-i)*a,this.get("logarithmic")&&(i<0&&l>=0&&(i=0),s>0&&u<=0&&(s=0)),this._minReal=i,this._maxReal=s;let f=this.get("strictMinMax"),h=this.get("strictMinMaxSelection",!1);h&&(f=h);let p=f;me(n)&&(p=!0);let g=this.get("renderer").gridCount(),v=this._adjustMinMax(i,s,g,p);if(i=v.min,s=v.max,v=this._adjustMinMax(i,s,g,!0),i=v.min,s=v.max,f){me(e)?i=e:i=this._minReal,me(n)?s=n:s=this._maxReal,s-i<=1e-8&&(i-=this._deltaMinMax,s+=this._deltaMinMax);let x=s-i;i-=x*r,s+=x*a}d=this.adapters.fold("min",i),c=this.adapters.fold("max",s),me(d)&&(i=d),me(c)&&(s=c),o==1/0&&(o=s-i);let _=Math.round(Math.abs(Math.log(Math.abs(s-i))*Math.LOG10E))+5;i=ci(i,_),s=ci(s,_);const b=this.get("syncWithAxis");if(b&&(v=this._syncAxes(i,s,v.step,b.getPrivate("minFinal",b.getPrivate("min",0)),b.getPrivate("maxFinal",b.getPrivate("max",1)),b.getPrivate("step",1)),i=v.min,s=v.max),this.setPrivateRaw("maxZoomFactor",Math.max(1,Math.ceil((s-i)/o*this.get("maxZoomFactor",100)))),this._fixZoomFactor(),this.get("logarithmic")&&(this._minLogAdjusted=i,i=this._minReal,s=this._maxReal,i<=0&&(i=l*(1-Math.min(r,.99)))),me(i)&&me(s)&&(this.getPrivate("minFinal")!==i||this.getPrivate("maxFinal")!==s)){this.setPrivate("minFinal",i),this.setPrivate("maxFinal",s),this._saveMinMax(i,s);const x=this.get("interpolationDuration",0),k=this.get("interpolationEasing");this.animatePrivate({key:"min",to:i,duration:x,easing:k}),this.animatePrivate({key:"max",to:s,duration:x,easing:k})}}_fixZoomFactor(){}_getDelta(e){let n=Math.log(Math.abs(e))*Math.LOG10E,i=Math.pow(10,Math.floor(n));i=i/10,this._deltaMinMax=i}_saveMinMax(e,n){}_adjustMinMax(e,n,i,s){i<=1&&(i=1),i=Math.round(i);let r=e,a=n,o=n-e;o===0&&(o=Math.abs(n));let l=Math.log(Math.abs(o))*Math.LOG10E,u=Math.pow(10,Math.floor(l));u=u/10;let d=u;s&&(d=0),s?(e=Math.floor(e/u)*u,n=Math.ceil(n/u)*u):(e=Math.ceil(e/u)*u-d,n=Math.floor(n/u)*u+d),e<0&&r>=0&&(e=0),n>0&&a<=0&&(n=0),l=Math.log(Math.abs(o))*Math.LOG10E,u=Math.pow(10,Math.floor(l)),u=u/100;let c=Math.ceil(o/i/u)*u,f=Math.pow(10,Math.floor(Math.log(Math.abs(c))*Math.LOG10E)),h=Math.ceil(c/f);h>5?h=10:h<=5&&h>2&&(h=5),c=Math.ceil(c/(f*h))*f*h;let p=this.get("maxPrecision");if(me(p)){let b=y0e(c,p);p<Number.MAX_VALUE&&c!==b&&(c=b,c==0&&(c=1))}let g=0;f<1&&(g=Math.round(Math.abs(Math.log(Math.abs(f))*Math.LOG10E))+1,c=ci(c,g));let v=Math.floor(e/c);e=ci(c*v,g);let _;return s?_=Math.floor(n/c):_=Math.ceil(n/c),_===v&&_++,n=ci(c*_,g),n<a&&(n=n+c),e>r&&(e=e-c),c=this.fixSmallStep(c),{min:e,max:n,step:c}}getTooltipText(e,n){const i=this.get("tooltipNumberFormat",this.get("numberFormat")),s=this.getNumberFormatter(),r=this.get("extraTooltipPrecision",0),a=this.getPrivate("stepDecimalPlaces",0)+r,o=ci(this.positionToValue(e),a);return i?s.format(o,i):s.format(o,void 0,a)}getSeriesItem(e,n){let i=this.getPrivate("name")+this.get("renderer").getPrivate("letter"),s=this.positionToValue(n),r,a;if(oe(e.dataItems,(o,l)=>{const u=Math.abs(o.get(i)-s);(r===void 0||u<a)&&(r=l,a=u)}),r!=null)return e.dataItems[r]}zoomToValues(e,n,i){const s=this.getPrivate("minFinal",0),r=this.getPrivate("maxFinal",0);this.getPrivate("min")!=null&&this.getPrivate("max")!=null&&this.zoom((e-s)/(r-s),(n-s)/(r-s),i)}_syncAxes(e,n,i,s,r,a){if(this.get("syncWithAxis")){let l=Math.round(r-s)/a,u=Math.round((n-e)/i),d=this.get("renderer").gridCount();if(me(l)&&me(u)){let c=!1,f=0,h=(n-e)*.01,p=e,g=n,v=i;for(;c!=!0;)if(c=this._checkSync(p,g,v,l),f++,f>500&&(c=!0),c)e=p,n=g,i=v;else{f/3==Math.round(f/3)?(p=e-h*f,e>=0&&p<0&&(p=0)):(g=n+h*f,g<=0&&g>0&&(g=0));let _=this._adjustMinMax(p,g,d,!0);p=_.min,g=_.max,v=_.step}}}return{min:e,max:n,step:i}}_checkSync(e,n,i,s){let r=(n-e)/i;for(let a=1;a<s;a++)if(ci(r/a,1)==s||r*a==s)return!0;return!1}getCellWidthPosition(){let e=this.getPrivate("selectionMax",this.getPrivate("max")),n=this.getPrivate("selectionMin",this.getPrivate("min"));return me(e)&&me(n)?this.getPrivate("step",1)/(e-n):.05}nextPosition(e){e==null&&(e=1),this.get("renderer").getPrivate("letter")=="Y"&&(e*=-1);let n=this.positionToValue(this.getPrivate("tooltipPosition",0));return n+=this.getPrivate("step",1)*e,n=Kn(n,this.getPrivate("selectionMin",0),this.getPrivate("selectionMax",1)),this.toGlobalPosition(this.valueToPosition(n))}}Object.defineProperty(Yl,"className",{enumerable:!0,configurable:!0,writable:!0,value:"ValueAxis"});Object.defineProperty(Yl,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:kc.classNames.concat([Yl.className])});class Tc extends kc{constructor(){super(...arguments),Object.defineProperty(this,"_frequency",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"_itemMap",{enumerable:!0,configurable:!0,writable:!0,value:{}})}_afterNew(){this._settings.themeTags=Vt(this._settings.themeTags,["axis"]),this.fields.push("category"),this.setPrivateRaw("name","category"),this.addTag("category"),super._afterNew()}_prepareChildren(){super._prepareChildren();const e=this.dataItems.length;let n=0;this._valuesDirty&&(this._itemMap={},oe(this.dataItems,i=>{i.setRaw("index",n),this._itemMap[i.get("category")]=i,n++}),this.setPrivateRaw("maxZoomFactor",e)),this.setPrivateRaw("startIndex",Math.max(Math.round(this.get("start",0)*e),0)),this.setPrivateRaw("endIndex",Math.min(Math.round(this.get("end",1)*e),e)),(this._sizeDirty||this._valuesDirty||this.isDirty("start")||this.isDirty("end")||this.isPrivateDirty("endIndex")||this.isPrivateDirty("startIndex")||this.isPrivateDirty("width")||this.isPrivateDirty("height"))&&this.dataItems.length>0&&(this._handleRangeChange(),this._prepareAxisItems(),this._updateAxisRanges())}_handleRangeChange(){oe(this.series,e=>{let n=this.dataItems[this.startIndex()].get("category"),i=this.dataItems[this.endIndex()-1].get("category"),s=e.get("baseAxis"),r=e.get("xAxis"),a=e.get("yAxis");if(r instanceof Tc&&a instanceof Tc)e._markDirtyAxes();else if(s===this){let o,l,u=a;if(r===s?(e.get("categoryXField")&&(o="categoryX"),e.get("openCategoryXField")&&(l="openCategoryX")):a===s&&(e.get("categoryYField")&&(o="categoryY"),e.get("openCategoryYField")&&(l="openCategoryY"),u=r),u instanceof Yl&&(o||l)){let d,c;for(let g=0,v=e.dataItems.length;g<v;g++){let _=e.dataItems[g];if(o&&_.get(o)===n){d=_;break}if(l&&_.get(l)===n){d=_;break}}for(let g=e.dataItems.length-1;g>=0;g--){let v=e.dataItems[g];if(o&&v.get(o)===i){c=v;break}if(l&&v.get(l)===i){c=v;break}}let f=0,h=e.dataItems.length;d&&(f=e.dataItems.indexOf(d)),c&&(h=e.dataItems.indexOf(c)+1),e.setPrivate("startIndex",f),e.setPrivate("endIndex",h);let p=!1;for(let g=f;g<h;g++){const v=e.dataItems[g];if(oe(e.__valueXShowFields,_=>{v.get(_)!=null&&(p=!0)}),oe(e.__valueYShowFields,_=>{v.get(_)!=null&&(p=!0)}),p)break}e.setPrivate("outOfSelection",!p)}e._markDirtyAxes()}})}_prepareAxisItems(){var e;const n=this.get("renderer"),i=this.dataItems.length;let s=this.startIndex();s>0&&s--;let r=this.endIndex();r<i&&r++;const a=n.get("minorLabelsEnabled"),o=n.get("minorGridEnabled",a);let l=n.axisLength()/Math.max(n.get("minGridDistance"),1),u=Math.max(1,Math.min(i,Math.ceil((r-s)/l)));s=Math.floor(s/u)*u,this._frequency=u;for(let c=0;c<i;c++)this._toggleDataItem(this.dataItems[c],!1);let d=this.dataItems[s].get("index",0);for(let c=s;c<r;c=c+u){let f=this.dataItems[c];this._createAssets(f,[]),this._toggleDataItem(f,!0);let h=u;o&&(h=1),this._prepareDataItem(f,d,h),d++}if(n.get("minorGridEnabled"))for(let c=s;c<r;c++){let f=this.dataItems[c];c%u!=0&&(this._createAssets(f,["minor"],!0),this._toggleDataItem(f,!0),this._prepareDataItem(f,0,1),a||(e=f.get("label"))===null||e===void 0||e.setPrivate("visible",!1))}this._updateGhost()}_prepareDataItem(e,n,i){let s=this.get("renderer"),r=e.get("categoryLocation",0),a=e.get("endCategoryLocation",1),o=e.get("index");me(o)||(o=this.categoryToIndex(e.get("category")));let l=this.indexToPosition(o,r),u=e.get("endCategory"),d;u?(d=this.categoryToIndex(u),me(d)||(d=o)):d=o;let c=this.indexToPosition(d,a),f,h;e.get("isRange")?f=d:f=o+this._frequency-1,h=this.indexToPosition(f,a),s.updateLabel(e.get("label"),l,c,i),s.updateGrid(e.get("grid"),l,c),s.updateTick(e.get("tick"),l,c,i),s.updateFill(e.get("axisFill"),l,h),this._processBullet(e),s.updateBullet(e.get("bullet"),l,c);const p=this.get("fillRule");p&&p(e,n)}startIndex(){let e=this.dataItems.length;return Math.min(Math.max(this.getPrivate("startIndex",0),0),e-1)}endIndex(){let e=this.dataItems.length;return Math.max(1,Math.min(this.getPrivate("endIndex",e),e))}baseValue(){}basePosition(){return 0}getX(e){let n=this._itemMap[e];return n?this._settings.renderer.positionToCoordinate(this.indexToPosition(n.get("index",0))):NaN}getY(e){let n=this._itemMap[e];return n?this._settings.renderer.positionToCoordinate(this.indexToPosition(n.get("index",0))):NaN}getDataItemPositionX(e,n,i,s){const r=e.get(n),a=this._itemMap[r];return a?this.indexToPosition(a.get("index",0),i):NaN}getDataItemCoordinateX(e,n,i,s){return this._settings.renderer.positionToCoordinate(this.getDataItemPositionX(e,n,i,s))}getDataItemPositionY(e,n,i,s){const r=e.get(n),a=this._itemMap[r];return a?this.indexToPosition(a.get("index",0),i):NaN}getDataItemCoordinateY(e,n,i,s){return this._settings.renderer.positionToCoordinate(this.getDataItemPositionY(e,n,i,s))}indexToPosition(e,n){me(n)||(n=.5);let i=this.dataItems.length,s=this.get("startLocation",0),r=this.get("endLocation",1);i-=s,i-=1-r;let a=(e+n-s)/i,o=this.dataItems[e];return o&&(a+=o.get("deltaPosition",0)),a}categoryToIndex(e){let n=this._itemMap[e];return n?n.get("index"):NaN}dataItemToPosition(e){return this.indexToPosition(e.get("index"))}roundAxisPosition(e,n){return e+=(.5-n)/this.dataItems.length,this.indexToPosition(this.axisPositionToIndex(e),n)}axisPositionToIndex(e){let n=this.dataItems.length;return Kn(Math.floor(e*n),0,n-1)}getTooltipText(e,n){const i=this.dataItems[this.axisPositionToIndex(e)];if(i){const s=i.get("label");if(s)return _h(s,this.get("tooltipText",""))}}_updateTooltipText(e,n){e._setDataItem(this.dataItems[this.axisPositionToIndex(n)]),e.label.text.markDirtyText()}getSeriesItem(e,n){if(this.dataItems.length>0){let i=this.getPrivate("name")+this.get("renderer").getPrivate("letter"),s=this.axisPositionToIndex(n),r=e.dataItems[s],a=this.dataItems[s],o=a.get("category");if(r&&a&&r.get(i)===o)return r;for(let l=0,u=e.dataItems.length;l<u;l++){let d=e.dataItems[l];if(d.get(i)===o)return d}}}zoomToIndexes(e,n,i){let s=this.dataItems.length;this.zoom(e/s,n/s,i)}zoomToCategories(e,n,i){this.zoomToIndexes(this.categoryToIndex(e),this.categoryToIndex(n)+1,i)}getCellWidthPosition(){return this._frequency/this.dataItems.length/(this.get("end",1)-this.get("start",0))}nextPosition(e){e==null&&(e=1),this.get("renderer").getPrivate("letter")=="Y"&&(e*=-1);const n=this.getPrivate("tooltipPosition",0),i=Kn(this.axisPositionToIndex(n)+e,0,this.dataItems.length-1);return this.toGlobalPosition(this.indexToPosition(i))}}Object.defineProperty(Tc,"className",{enumerable:!0,configurable:!0,writable:!0,value:"CategoryAxis"});Object.defineProperty(Tc,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:kc.classNames.concat([Tc.className])});class Cy extends Yl{constructor(){super(...arguments),Object.defineProperty(this,"_dataGrouped",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_seriesDataGrouped",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_groupingCalculated",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_intervalDuration",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"_baseDuration",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"_intervalMax",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_intervalMin",{enumerable:!0,configurable:!0,writable:!0,value:{}})}_afterNew(){this._settings.themeTags=Vt(this._settings.themeTags,["axis"]),super._afterNew(),this._setBaseInterval(this.get("baseInterval")),this.on("baseInterval",()=>{this._setBaseInterval(this.get("baseInterval"))})}_setBaseInterval(e){this.setPrivateRaw("baseInterval",e),this._baseDuration=Ur(e)}_fixZoomFactor(){const e=this.get("maxZoomFactor");e!=null&&e!=1/0?this.setPrivateRaw("maxZoomFactor",e):this.setPrivateRaw("maxZoomFactor",Math.round((this.getPrivate("max",0)-this.getPrivate("min",0))/this.baseMainDuration()))}_groupData(){const e=this.getPrivate("min"),n=this.getPrivate("max");if(me(e)&&me(n)){this._fixZoomFactor();const i=this.getPrivate("groupInterval");if(i?this._setBaseInterval(i):this._setBaseInterval(this.get("baseInterval")),this.isDirty("groupInterval")){let s=this.get("groupInterval");s&&(this.setRaw("groupIntervals",[s]),this._handleRangeChange())}if(this.isDirty("groupData")&&!this._dataGrouped){if(this.get("groupData"))oe(this.series,s=>{this._groupSeriesData(s)}),this._handleRangeChange();else{let s=this.get("baseInterval"),r=s.timeUnit+s.count;oe(this.series,a=>{a.setDataSet(r),a.resetGrouping()}),this._setBaseInterval(s),this.setPrivateRaw("groupInterval",void 0),this.markDirtyExtremes()}this._dataGrouped=!0}}}_groupSeriesData(e){if(this.get("groupData")&&!e.get("groupDataDisabled")){this._dataGrouped=!0,this._seriesDataGrouped=!0;let n=[],i=this.baseMainDuration(),s=this.get("groupIntervals");oe(s,h=>{Ur(h)>i&&n.push(h)}),e._dataSets={};const r=this.getPrivate("name")+this.get("renderer").getPrivate("letter");let a;const o=e.get("baseAxis");e.get("xAxis")===o?a=e._valueYFields:e.get("yAxis")===o&&(a=e._valueXFields);let l=e._mainDataItems,u=this.get("baseInterval"),d=u.timeUnit+u.count;e._dataSets[d]=l;const c=e.get("groupDataCallback");let f=e.get("groupDataWithOriginals",!1);c&&(f=!0),oe(n,h=>{let p=-1/0,g=h.timeUnit+h.count;e._dataSets[g]=[];let v,_={},b={},x={},k={};oe(a,w=>{_[w]=0,b[w]=0,x[w]=e.get(w+"Grouped"),k[w]=w+"Working"});let I=Ji(h.timeUnit),E=l[0],T;E&&(T=l[0].get(r));let S;oe(l,w=>{let P=w.get(r),C=li(P,h.timeUnit,h.count,this._root,T),D;p<C-I/24?(D=Bu(w.dataContext),v=new aa(e,D,e._makeDataItem(D)),v.setRaw(r,C),e._dataSets[g].push(v),oe(a,A=>{let N=w.get(A);me(N)?(v.setRaw(A,N),v.setRaw(k[A],N),b[A]=1,_[A]=N):(_[A]=0,b[A]=0)}),f&&v.set("originals",[w]),c&&S&&c(S,h),S=v):(oe(a,A=>{let N=x[A],B=w.get(A);if(B!=null){let z=v.get(A);switch(N){case"close":v.setRaw(A,B);break;case"sum":v.setRaw(A,z+B);break;case"open":break;case"low":B<z&&v.setRaw(A,B);break;case"high":B>z&&v.setRaw(A,B);break;case"average":b[A]++,_[A]+=B;let W=_[A]/b[A];v.setRaw(A,W);break;case"extreme":Math.abs(B)>Math.abs(z)&&v.setRaw(A,B);break}v.setRaw(k[A],v.get(A));let q=Bu(w.dataContext);q[r]=C,v.dataContext=q}}),f&&v.get("originals").push(w)),p=C}),c&&S&&c(S,h)}),e._dataSetId&&e.setDataSet(e._dataSetId),this.markDirtySize(),this._seriesAdded&&this._root.events.once("frameended",()=>{this.markDirtySize()})}}_clearDirty(){super._clearDirty(),this._groupingCalculated=!1,this._dataGrouped=!1}getGroupInterval(e){let n=this.get("baseInterval"),i=xk(0,e,this.get("groupCount",1/0),this.get("groupIntervals"));return Ur(i)<Ur(n)&&(i=Object.assign({},n)),i}getIntervalMax(e){return this._intervalMax[e.timeUnit+e.count]}getIntervalMin(e){return this._intervalMin[e.timeUnit+e.count]}_handleRangeChange(){super._handleRangeChange();let e=Math.round(this.getPrivate("selectionMin")),n=Math.round(this.getPrivate("selectionMax"));if(me(e)&&me(n)){if(this.get("endLocation")==0&&(n+=1),this.get("groupData")&&!this._groupingCalculated){this._groupingCalculated=!0;let i=this.get("groupInterval"),s=this.getPrivate("groupInterval"),r=n-e+(this.get("startLocation",0)+(1-this.get("endLocation",1))*this.baseDuration());if(s){let a=Ur(s);r=Math.ceil(r/a)*a}if(i||(i=this.getGroupInterval(r)),i&&(!s||s.timeUnit!==i.timeUnit||s.count!==i.count||this._seriesDataGrouped)){this._seriesDataGrouped=!1,this.setPrivateRaw("groupInterval",i),this._setBaseInterval(i);let a=i.timeUnit+i.count;oe(this.series,o=>{o.get("baseAxis")===this&&o.setDataSet(a)}),this.markDirtyExtremes(),this._root.events.once("frameended",()=>{this._root.events.once("frameended",()=>{const o="groupintervalchanged";this.events.isEnabled(o)&&this.events.dispatch(o,{type:o,target:this})})})}}oe(this.series,i=>{if(i.get("baseAxis")===this){let s=this.getPrivate("name")+this.get("renderer").getPrivate("letter"),a=RU(i.dataItems,g=>ja(g.get(s),e)).index;a>0&&(a-=1),n+=this.baseDuration()*(1-this.get("endLocation",1));let l=gk(i.dataItems,g=>ja(g.get(s),n)).index,u=l;u>1&&u--;const d=i.dataItems[a],c=i.dataItems[u];let f,h;d&&(h=d.get(s)),c&&(f=c.get(s));let p=!1;f!=null&&h!=null&&(f<e||h>n)&&(p=!0),i.setPrivate("outOfSelection",p),i.setPrivate("startIndex",a),i.setPrivate("adjustedStartIndex",i._adjustStartIndex(a)),i.setPrivate("endIndex",l),this.root.events.once("frameended",()=>{i._markDirtyPrivateKey("adjustedStartIndex")})}})}}_adjustMinMax(e,n,i,s){return{min:e,max:n,step:(n-e)/i}}intervalDuration(){return this._intervalDuration}_saveMinMax(e,n){let i=this.getPrivate("groupInterval");i||(i=this.get("baseInterval"));let s=i.timeUnit+i.count;this._intervalMin[s]=e,this._intervalMax[s]=n}_getM(e){return e=="month"||e=="year"||e=="day"?1.05:1.01}_getMinorInterval(e){var n;let i,s=e.count,r=e.timeUnit;return s>1&&(s==10||s==15?s=5:s==12?s=2:s==6?s=1:s==30?s=10:s<10&&(s=1),i={timeUnit:r,count:s}),r=="week"&&(((n=this.getPrivate("baseInterval"))===null||n===void 0?void 0:n.timeUnit)!="week"?i={timeUnit:"day",count:1}:i={timeUnit:"week",count:1}),i}_prepareAxisItems(){const e=this.getPrivate("min"),n=this.getPrivate("max");if(me(e)&&me(n)){const i=this._root,s=Math.round(this.getPrivate("selectionMin")),r=Math.round(this.getPrivate("selectionMax")),a=this.get("renderer"),o=this.getPrivate("baseInterval");let l=s,u=0;const d=this.get("gridIntervals");let c=xk(0,r-s,a.gridCount(),d);Ur(c)<this.baseDuration()&&(c=Object.assign({},o));const f=Ur(c);this._intervalDuration=f;const h=GU(c.timeUnit),p=i.utc,g=i.timezone;l=li(s-f,c.timeUnit,c.count,i,e);let v=l-f,_;const b=this.get("dateFormats");this.setPrivateRaw("gridInterval",c);const x=a.get("minorLabelsEnabled"),k=a.get("minorGridEnabled",x);let I,E=0;k&&(I=this._getMinorInterval(c),E=Ur(I));let T=0;for(;l<r+f;){let S;this.dataItems.length<u+1?(S=new aa(this,void 0,{}),this._dataItems.push(S),this.processDataItem(S)):S=this.dataItems[u],this._createAssets(S,[]),this._toggleDataItem(S,!0),S.setRaw("value",l),S.setRaw("labelEndValue",void 0);let w=l+Ji(c.timeUnit,c.count*this._getM(c.timeUnit));w=li(w,c.timeUnit,1,i),S.setRaw("endValue",w);let P=new Date(l);_=b[c.timeUnit],h&&this.get("markUnitChange")&&me(v)&&c.timeUnit!="year"&&qU(l,v,h,p,g)&&(_=this.get("periodChangeDateFormats")[c.timeUnit]);const C=S.get("label");C&&C.set("text",i.dateFormatter.format(P,_));let D=c.count;if(c.timeUnit=="week"&&S.setRaw("labelEndValue",l),k){D=1;let A=c.timeUnit;A=="week"&&(A="day");let N=l+Ji(A,this._getM(A));N=li(N,A,1,i),S.setRaw("labelEndValue",N)}if(this._prepareDataItem(S,D),v=l,l=w,I){const A=I.timeUnit,N=I.count,B=this._getM(A);let z=li(v+E*B,A,N,i,v),q,W=this.get("minorDateFormats",this.get("dateFormats"));for(;z<l-.01*E;){let K;this.minorDataItems.length<T+1?(K=new aa(this,void 0,{}),this.minorDataItems.push(K),this.processDataItem(K)):K=this.minorDataItems[T],this._createAssets(K,["minor"],!0),this._toggleDataItem(K,!0),K.setRaw("value",z);let Y=z+Ji(A,N*B);Y=li(Y,A,1,i),K.setRaw("endValue",Y);let Z=new Date(z);_=W[A];const ee=K.get("label");if(ee&&(x?ee.set("text",i.dateFormatter.format(Z,_)):ee.setPrivate("visible",!1)),this._prepareDataItem(K,1),z==q)break;q=z,z=Y,T++}}if(l==v)break;u++}for(let S=u;S<this.dataItems.length;S++)this._toggleDataItem(this.dataItems[S],!1);for(let S=T;S<this.minorDataItems.length;S++)this._toggleDataItem(this.minorDataItems[S],!1);oe(this.series,S=>{S.inited&&S._markDirtyAxes()})}this._updateGhost()}_updateFinals(e,n){this.setPrivateRaw("selectionMinFinal",this.positionToValue(e)),this.setPrivateRaw("selectionMaxFinal",this.positionToValue(n))}_getDelta(){this._deltaMinMax=this.baseDuration()/2}_fixMin(e){const n=this.getPrivate("baseInterval"),i=n.timeUnit;let s=li(e,i,n.count,this._root),r=s+Ji(i,n.count*this._getM(i));return r=li(r,i,1,this._root),s+(r-s)*this.get("startLocation",0)}_fixMax(e){const n=this.getPrivate("baseInterval"),i=n.timeUnit;let s=li(e,i,n.count,this._root),r=s+Ji(i,n.count*this._getM(i));return r=li(r,i,1,this._root),s+(r-s)*this.get("endLocation",1)}_updateDates(e,n){}baseDuration(){return this._baseDuration}baseMainDuration(){return Ur(this.get("baseInterval"))}processSeriesDataItem(e,n){const i=this.getPrivate("baseInterval");e.open||(e.open={}),e.close||(e.close={}),oe(n,s=>{let r=e.get(s);if(me(r)){let a=e.open[s],o=e.close[s];if(!(r>=a&&r<=o)){const l=i.timeUnit,u=i.count;a=li(r,l,u,this._root),o=a+Ji(l,u*this._getM(l)),o=li(o,l,1,this._root),e.open[s]=a,e.close[s]=o}this._updateDates(a,e.component)}})}_handleSizeDirty(){}getDataItemPositionX(e,n,i,s){let r,a;e.open&&e.close?(r=e.open[n],a=e.close[n]):(r=e.get(n),a=r);let o=r+(a-r)*i;return o=this._baseValue+(o-this._baseValue)*s,this.valueToPosition(o)}getDataItemCoordinateX(e,n,i,s){return this._settings.renderer.positionToCoordinate(this.getDataItemPositionX(e,n,i,s))}getDataItemPositionY(e,n,i,s){let r,a;e.open&&e.close?(r=e.open[n],a=e.close[n]):(r=e.get(n),a=r);let o=r+(a-r)*i;return o=this._baseValue+(o-this._baseValue)*s,this.valueToPosition(o)}getDataItemCoordinateY(e,n,i,s){return this._settings.renderer.positionToCoordinate(this.getDataItemPositionY(e,n,i,s))}roundAxisPosition(e,n){let i=this.positionToValue(e);i=i-(n-.5)*this.baseDuration();let s=this.getPrivate("baseInterval");if(!ma(i)){const r=this._root.locale.firstDayOfWeek,a=s.timeUnit,o=this._root.utc,l=this._root.timezone,u=s.count;i=li(i,a,u,this._root,this.getPrivate("min",0));let d=Sx(s,new Date(i),r,o,l);return l&&(i=li(i+this.baseDuration()*.05,a,u,this._root,this.getPrivate("min",0)),d=Sx(s,new Date(i+d*n),r,o,l)),this.valueToPosition(i+d*n)}return NaN}getTooltipText(e,n){if(this.getPrivate("min")!=null){let i=this.get("tooltipDateFormats")[this.getPrivate("baseInterval").timeUnit],s=this.positionToValue(e);if(me(s)){let r=new Date(s),a=this.getPrivate("baseInterval"),o=Sx(a,r,this._root.locale.firstDayOfWeek,this._root.utc,this._root.timezone);return n!==!1&&(r=new Date(s+this.get("tooltipIntervalOffset",-this.get("tooltipLocation",.5))*o)),this._root.dateFormatter.format(r,this.get("tooltipDateFormat",i))}}return""}getSeriesItem(e,n,i,s){let r=this.getPrivate("name")+this.get("renderer").getPrivate("letter"),a=this.positionToValue(n);i==null&&(i=.5),a=a-(i-.5)*this.baseDuration();const o=gk(e.dataItems,l=>{let u=0;return l.open&&(u=l.open[r]),ja(u,a)});if(s||e.get("snapTooltip")){let l=e.dataItems[o.index-1],u=e.dataItems[o.index];if(l&&u&&l.open&&u.close){let d=l.open[r],c=u.close[r];if(Math.abs(a-d)>Math.abs(a-c))return u}if(l)return l;if(u)return u}else{const l=e.dataItems[o.index-1];if(l&&l.open&&l.close){let u=l.open[r],d=l.close[r];if(a>=u&&a<=d)return l}}}shouldGap(e,n,i,s){const r=e.get(s);return n.get(s)-r>this.baseDuration()*i}zoomToDates(e,n,i){this.zoomToValues(e.getTime(),n.getTime(),i)}zoomToValues(e,n,i){const s=this.getPrivate("minFinal",0),r=this.getPrivate("maxFinal",0);if(this.getPrivate("min")!=null&&this.getPrivate("max")!=null)if(this.get("groupData")){const a=this.getGroupInterval(n-e),o=this.get("baseInterval");let l=this.getIntervalMin(o),u=this.getIntervalMax(o)-1;u=li(u,a.timeUnit,a.count,this.root),u+=this._getM(a.timeUnit)*Ur(a),u=li(u,a.timeUnit,a.count,this.root);let d=li(l,a.timeUnit,a.count,this.root),c=li(u,a.timeUnit,a.count,this.root),f=(e-d)/(c-d),h=(n-d)/(c-d);this.zoom(f,h,i)}else this.zoom((e-s)/(r-s),(n-s)/(r-s),i)}positionToDate(e){return new Date(this.positionToValue(e))}dateToPosition(e){return this.valueToPosition(e.getTime())}getCellWidthPosition(){let e=this.getPrivate("selectionMax",this.getPrivate("max")),n=this.getPrivate("selectionMin",this.getPrivate("min"));return me(e)&&me(n)?this._intervalDuration/(e-n):.05}nextPosition(e){e==null&&(e=1);let n=this.get("tooltipLocation",.5)*this.baseDuration();this.get("renderer").getPrivate("letter")=="Y"&&(e*=-1);let i=this.positionToValue(this.getPrivate("tooltipPosition",0));const s=this.getPrivate("baseInterval");let r=this._nextTime(i,e,s),a=this.getPrivate("selectionMin",0),o=this.getPrivate("selectionMax",0),l=li(a,s.timeUnit,s.count,this._root),u=li(o,s.timeUnit,s.count,this._root);return r+=n,r=Kn(r,l+n,u-n),this.toGlobalPosition(this.valueToPosition(r))}_nextTime(e,n,i){return li(e+n*this.baseDuration(),i.timeUnit,i.count,this._root)}}Object.defineProperty(Cy,"className",{enumerable:!0,configurable:!0,writable:!0,value:"DateAxis"});Object.defineProperty(Cy,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Yl.classNames.concat([Cy.className])});class Ey extends Hi{constructor(){super(...arguments),Object.defineProperty(this,"_tickPoints",{enumerable:!0,configurable:!0,writable:!0,value:[]})}}Object.defineProperty(Ey,"className",{enumerable:!0,configurable:!0,writable:!0,value:"AxisLabel"});Object.defineProperty(Ey,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Hi.classNames.concat([Ey.className])});class Iy extends bh{constructor(){super(...arguments),Object.defineProperty(this,"_tickPoints",{enumerable:!0,configurable:!0,writable:!0,value:[]})}}Object.defineProperty(Iy,"className",{enumerable:!0,configurable:!0,writable:!0,value:"AxisTick"});Object.defineProperty(Iy,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:bh.classNames.concat([Iy.className])});class Pc extends cn{constructor(){super(...arguments),Object.defineProperty(this,"_axisLength",{enumerable:!0,configurable:!0,writable:!0,value:100}),Object.defineProperty(this,"_start",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_end",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"_inversed",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_minSize",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"chart",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_lc",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"_ls",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_thumbDownPoint",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_downStart",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_downEnd",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"ticks",{enumerable:!0,configurable:!0,writable:!0,value:this.addDisposer(new ji(Sn.new({}),()=>Iy._new(this._root,{themeTags:Vt(this.ticks.template.get("themeTags",[]),this.get("themeTags",[]))},[this.ticks.template])))}),Object.defineProperty(this,"grid",{enumerable:!0,configurable:!0,writable:!0,value:this.addDisposer(new ji(Sn.new({}),()=>xh._new(this._root,{themeTags:Vt(this.grid.template.get("themeTags",[]),this.get("themeTags",[]))},[this.grid.template])))}),Object.defineProperty(this,"axisFills",{enumerable:!0,configurable:!0,writable:!0,value:this.addDisposer(new ji(Sn.new({}),()=>cn._new(this._root,{themeTags:Vt(this.axisFills.template.get("themeTags",["axis","fill"]),this.get("themeTags",[]))},[this.axisFills.template])))}),Object.defineProperty(this,"labels",{enumerable:!0,configurable:!0,writable:!0,value:this.addDisposer(new ji(Sn.new({}),()=>Ey._new(this._root,{themeTags:Vt(this.labels.template.get("themeTags",[]),this.get("themeTags",[]))},[this.labels.template])))}),Object.defineProperty(this,"axis",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"thumb",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}makeTick(e,n){const i=this.ticks.make();return i._setDataItem(e),e.setRaw("tick",i),i.set("themeTags",Vt(i.get("themeTags"),n)),this.axis.labelsContainer.children.push(i),this.ticks.push(i),i}makeGrid(e,n){const i=this.grid.make();return i._setDataItem(e),e.setRaw("grid",i),i.set("themeTags",Vt(i.get("themeTags"),n)),this.axis.gridContainer.children.push(i),this.grid.push(i),i}makeAxisFill(e,n){const i=this.axisFills.make();return i._setDataItem(e),i.set("themeTags",Vt(i.get("themeTags"),n)),this.axis.gridContainer.children.push(i),e.setRaw("axisFill",i),this.axisFills.push(i),i}makeLabel(e,n){const i=this.labels.make();return i.set("themeTags",Vt(i.get("themeTags"),n)),this.axis.labelsContainer.children.moveValue(i,0),i._setDataItem(e),e.setRaw("label",i),this.labels.push(i),i}axisLength(){return 0}gridCount(){return this.axisLength()/this.get("minGridDistance",50)}_updatePositions(){}_afterNew(){super._afterNew(),this.set("isMeasured",!1);const e=this.thumb;e&&(this._disposers.push(e.events.on("pointerdown",n=>{this._handleThumbDown(n)})),this._disposers.push(e.events.on("globalpointerup",n=>{this._handleThumbUp(n)})),this._disposers.push(e.events.on("globalpointermove",n=>{this._handleThumbMove(n)})))}_beforeChanged(){super._beforeChanged(),this.isDirty("minGridDistance")&&this.root.events.once("frameended",()=>{this.axis.markDirtySize()})}_changed(){if(super._changed(),this.isDirty("pan")){const e=this.thumb;if(e){const n=this.axis.labelsContainer,i=this.get("pan");i=="zoom"?n.children.push(e):i=="none"&&n.children.removeValue(e)}}}_handleThumbDown(e){this._thumbDownPoint=this.toLocal(e.point);const n=this.axis;this._downStart=n.get("start"),this._downEnd=n.get("end")}_handleThumbUp(e){this._thumbDownPoint=void 0}_handleThumbMove(e){const n=this._thumbDownPoint;if(n){const i=this.toLocal(e.point),s=this._downStart,r=this._downEnd,a=this._getPan(i,n)*Math.min(1,r-s)/2*this.get("panSensitivity",1);this.axis.zoom(s-a,r+a,0)}}_getPan(e,n){return 0}positionToCoordinate(e){return this._inversed?(this._end-e)*this._axisLength:(e-this._start)*this._axisLength}updateTooltipBounds(e){}_updateSize(){this.markDirty(),this._clear=!0}toAxisPosition(e){const n=this._start||0,i=this._end||1;return e=e*(i-n),this.get("inversed")?e=i-e:e=n+e,e}toGlobalPosition(e){const n=this._start||0,i=this._end||1;return this.get("inversed")?e=i-e:e=e-n,e=e/(i-n),e}fixPosition(e){return this.get("inversed")?1-e:e}_updateLC(){}toggleVisibility(e,n,i,s){let r=this.axis;const a=r.get("start",0),o=r.get("end",1);let l=a+(o-a)*(i-1e-4),u=a+(o-a)*(s+1e-4);n<l||n>u?e.setPrivate("visible",!1):e.setPrivate("visible",!0)}_positionTooltip(e,n){const i=this.chart;i&&(e.set("pointTo",this._display.toGlobal(n)),i.inPlot(n)||e.hide())}processAxis(){}}Object.defineProperty(Pc,"className",{enumerable:!0,configurable:!0,writable:!0,value:"AxisRenderer"});Object.defineProperty(Pc,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:cn.classNames.concat([Pc.className])});class wg extends Pc{constructor(){super(...arguments),Object.defineProperty(this,"thumb",{enumerable:!0,configurable:!0,writable:!0,value:tr.new(this._root,{width:Fe,isMeasured:!1,themeTags:["axis","x","thumb"]})})}_afterNew(){this._settings.themeTags=Vt(this._settings.themeTags,["renderer","x"]),super._afterNew(),this.setPrivateRaw("letter","X");const e=this.grid.template;e.set("height",Fe),e.set("width",0),e.set("draw",(n,i)=>{n.moveTo(0,0),n.lineTo(0,i.height())}),this.set("draw",(n,i)=>{n.moveTo(0,0),n.lineTo(i.width(),0)})}_changed(){super._changed();const e=this.axis;e.ghostLabel.setPrivate("visible",!this.get("inside")),e.ghostLabel.set("x",-1e3);const n="opposite",i="inside";if(this.isDirty(n)||this.isDirty(i)){const s=this.chart,r=e.children;if(this.get(i)?e.addTag(i):e.removeTag(i),s){if(this.get(n)){const a=s.topAxesContainer.children;a.indexOf(e)==-1&&a.insertIndex(0,e),e.addTag(n),r.moveValue(this)}else{const a=s.bottomAxesContainer.children;a.indexOf(e)==-1&&a.moveValue(e),e.removeTag(n),r.moveValue(this,0)}e.ghostLabel._applyThemes(),this.labels.each(a=>{a._applyThemes()}),this.root._markDirtyRedraw()}e.markDirtySize()}this.thumb.setPrivate("height",e.labelsContainer.height())}_getPan(e,n){return(n.x-e.x)/this.width()}toAxisPosition(e){const n=this._start||0,i=this._end||1;return e-=this._ls,e=e*(i-n)/this._lc,this.get("inversed")?e=i-e:e=n+e,e}toGlobalPosition(e){const n=this._start||0,i=this._end||1;return this.get("inversed")?e=i-e:e=e-n,e=e/(i-n)*this._lc,e+=this._ls,e}_updateLC(){const e=this.axis,n=e.parent;if(n){const i=n.innerWidth();this._lc=this.axisLength()/i,this._ls=(e.x()-n.get("paddingLeft",0))/i}}_updatePositions(){const e=this.axis,n=e.x()-Qn(e.get("centerX",0),e.width())-e.parent.get("paddingLeft",0);e.gridContainer.set("x",n),e.topGridContainer.set("x",n),e.bulletsContainer.set("y",this.y());const i=e.chart;if(i){const s=i.plotContainer,r=e.axisHeader;let a=e.get("marginLeft",0),o=e.x()-a;const l=e.parent;l&&(o-=l.get("paddingLeft",0)),r.children.length>0?(a=e.axisHeader.width(),e.set("marginLeft",a+1)):r.set("width",a),r.setAll({x:o,y:-1,height:s.height()+2})}}processAxis(){super.processAxis();const e=this.axis;e.get("width")==null&&e.set("width",Fe);const n=this._root.verticalLayout;e.set("layout",n),e.labelsContainer.set("width",Fe),e.axisHeader.setAll({layout:n})}axisLength(){return this.axis.width()}positionToPoint(e){return{x:this.positionToCoordinate(e),y:0}}updateTick(e,n,i,s){if(e){me(n)||(n=0);let r=.5;me(s)&&s>1?r=e.get("multiLocation",r):r=e.get("location",r),me(i)&&i!=n&&(n=n+(i-n)*r),e.set("x",this.positionToCoordinate(n));let a=e.get("length",0);const o=e.get("inside",this.get("inside",!1));this.get("opposite")?(e.set("y",Fe),o||(a*=-1)):(e.set("y",0),o&&(a*=-1)),e.set("draw",l=>{l.moveTo(0,0),l.lineTo(0,a)}),this.toggleVisibility(e,n,e.get("minPosition",0),e.get("maxPosition",1))}}updateLabel(e,n,i,s){if(e){let r=.5;me(s)&&s>1?r=e.get("multiLocation",r):r=e.get("location",r),me(n)||(n=0);const a=e.get("inside",this.get("inside",!1));this.get("opposite")?a?(e.set("position","absolute"),e.set("y",0)):(e.set("position","relative"),e.set("y",Fe)):a?(e.set("y",0),e.set("position","absolute")):(e.set("y",void 0),e.set("position","relative")),me(i)&&i!=n&&(n=n+(i-n)*r),e.set("x",this.positionToCoordinate(n)),this.toggleVisibility(e,n,e.get("minPosition",0),e.get("maxPosition",1))}}updateGrid(e,n,i){if(e){me(n)||(n=0);let s=e.get("location",.5);me(i)&&i!=n&&(n=n+(i-n)*s),e.set("x",this.positionToCoordinate(n)),this.toggleVisibility(e,n,0,1)}}updateBullet(e,n,i){if(e){const s=e.get("sprite");if(s){me(n)||(n=0);let r=e.get("location",.5);me(i)&&i!=n&&(n=n+(i-n)*r);let a=this.axis.roundAxisPosition(n,r),o=this.axis._bullets[a],l=-1;if(this.get("opposite")&&(l=1),e.get("stacked"))if(o){let u=o.get("sprite");u&&s.set("y",u.y()+u.height()*l)}else s.set("y",0);this.axis._bullets[a]=e,s.set("x",this.positionToCoordinate(n)),this.toggleVisibility(s,n,0,1)}}}updateFill(e,n,i){if(e){me(n)||(n=0),me(i)||(i=1);let s=this.positionToCoordinate(n),r=this.positionToCoordinate(i);this.fillDrawMethod(e,s,r)}}fillDrawMethod(e,n,i){e.set("draw",s=>{const r=this.axis.gridContainer.height(),a=this.width();i<n&&([i,n]=[n,i]),!(n>a||i<0)&&(s.moveTo(n,0),s.lineTo(i,0),s.lineTo(i,r),s.lineTo(n,r),s.lineTo(n,0))})}positionTooltip(e,n){this._positionTooltip(e,{x:this.positionToCoordinate(n),y:0})}updateTooltipBounds(e){const n=this.get("inside"),i=1e5;let s=this._display.toGlobal({x:0,y:0}),r=s.x,a=0,o=this.axisLength(),l=i,u="up";this.get("opposite")?n?(u="up",a=s.y,l=i):(u="down",a=s.y-i,l=i):n?(u="down",a=s.y-i,l=i):(u="up",a=s.y,l=i);const d={left:r,right:r+o,top:a,bottom:a+l},c=e.get("bounds");FU(d,c)||(e.set("bounds",d),e.set("pointerOrientation",u))}}Object.defineProperty(wg,"className",{enumerable:!0,configurable:!0,writable:!0,value:"AxisRendererX"});Object.defineProperty(wg,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Pc.classNames.concat([wg.className])});class xg extends Pc{constructor(){super(...arguments),Object.defineProperty(this,"_downY",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"thumb",{enumerable:!0,configurable:!0,writable:!0,value:tr.new(this._root,{height:Fe,isMeasured:!1,themeTags:["axis","y","thumb"]})})}_afterNew(){this._settings.themeTags=Vt(this._settings.themeTags,["renderer","y"]),this._settings.opposite&&this._settings.themeTags.push("opposite"),super._afterNew(),this.setPrivateRaw("letter","Y");const e=this.grid.template;e.set("width",Fe),e.set("height",0),e.set("draw",(n,i)=>{n.moveTo(0,0),n.lineTo(i.width(),0)}),this.set("draw",(n,i)=>{n.moveTo(0,0),n.lineTo(0,i.height())})}_getPan(e,n){return(e.y-n.y)/this.height()}_changed(){super._changed();const e=this.axis;e.ghostLabel.setPrivate("visible",!this.get("inside")),e.ghostLabel.set("y",-1e3);const n=this.thumb,i="opposite",s="inside",r=this.chart;if(this.isDirty(i)||this.isDirty(s)){const o=e.children;if(this.get(s)?e.addTag(s):e.removeTag(s),r){if(this.get(i)){const l=r.rightAxesContainer.children;l.indexOf(e)==-1&&l.moveValue(e,0),e.addTag(i),o.moveValue(this,0)}else{const l=r.leftAxesContainer.children;l.indexOf(e)==-1&&l.moveValue(e),e.removeTag(i),o.moveValue(this)}e.ghostLabel._applyThemes(),this.labels.each(l=>{l._applyThemes()}),this.root._markDirtyRedraw()}e.markDirtySize()}const a=e.labelsContainer.width();r&&(this.get(i)?n.set("centerX",0):n.set("centerX",a)),n.setPrivate("width",a)}processAxis(){super.processAxis();const e=this.axis;e.get("height")==null&&e.set("height",Fe);const n=this._root.horizontalLayout;e.set("layout",n),e.labelsContainer.set("height",Fe),e.axisHeader.set("layout",n)}_updatePositions(){const e=this.axis,n=e.y()-Qn(e.get("centerY",0),e.height());e.gridContainer.set("y",n),e.topGridContainer.set("y",n),e.bulletsContainer.set("x",this.x());const i=e.chart;if(i){const s=i.plotContainer,r=e.axisHeader;let a=e.get("marginTop",0);r.children.length>0?(a=e.axisHeader.height(),e.set("marginTop",a+1)):r.set("height",a),r.setAll({y:e.y()-a,x:-1,width:s.width()+2})}}axisLength(){return this.axis.innerHeight()}positionToPoint(e){return{x:0,y:this.positionToCoordinate(e)}}updateLabel(e,n,i,s){if(e){me(n)||(n=0);let r=.5;me(s)&&s>1?r=e.get("multiLocation",r):r=e.get("location",r);const a=this.get("opposite"),o=e.get("inside",this.get("inside",!1));a?(e.set("x",0),o?e.set("position","absolute"):e.set("position","relative")):o?(e.set("x",0),e.set("position","absolute")):(e.set("x",void 0),e.set("position","relative")),me(i)&&i!=n&&(n=n+(i-n)*r),e.set("y",this.positionToCoordinate(n)),this.toggleVisibility(e,n,e.get("minPosition",0),e.get("maxPosition",1))}}updateGrid(e,n,i){if(e){me(n)||(n=0);let s=e.get("location",.5);me(i)&&i!=n&&(n=n+(i-n)*s),e.set("y",this.positionToCoordinate(n)),this.toggleVisibility(e,n,0,1)}}updateTick(e,n,i,s){if(e){me(n)||(n=0);let r=.5;me(s)&&s>1?r=e.get("multiLocation",r):r=e.get("location",r),me(i)&&i!=n&&(n=n+(i-n)*r),e.set("y",this.positionToCoordinate(n));let a=e.get("length",0);const o=e.get("inside",this.get("inside",!1));this.get("opposite")?(e.set("x",0),o&&(a*=-1)):o||(a*=-1),e.set("draw",l=>{l.moveTo(0,0),l.lineTo(a,0)}),this.toggleVisibility(e,n,e.get("minPosition",0),e.get("maxPosition",1))}}updateBullet(e,n,i){if(e){const s=e.get("sprite");if(s){me(n)||(n=0);let r=e.get("location",.5);me(i)&&i!=n&&(n=n+(i-n)*r);let a=this.axis.roundAxisPosition(n,r),o=this.axis._bullets[a],l=1;if(this.get("opposite")&&(l=-1),e.get("stacked"))if(o){let u=o.get("sprite");u&&s.set("x",u.x()+u.width()*l)}else s.set("x",0);this.axis._bullets[a]=e,s.set("y",this.positionToCoordinate(n)),this.toggleVisibility(s,n,0,1)}}}updateFill(e,n,i){if(e){me(n)||(n=0),me(i)||(i=1);let s=this.positionToCoordinate(n),r=this.positionToCoordinate(i);this.fillDrawMethod(e,s,r)}}fillDrawMethod(e,n,i){e.set("draw",s=>{const r=this.axis.gridContainer.width(),a=this.height();i<n&&([i,n]=[n,i]),!(n>a||i<0)&&(s.moveTo(0,n),s.lineTo(r,n),s.lineTo(r,i),s.lineTo(0,i),s.lineTo(0,n))})}positionToCoordinate(e){return this._inversed?(e-this._start)*this._axisLength:(this._end-e)*this._axisLength}positionTooltip(e,n){this._positionTooltip(e,{x:0,y:this.positionToCoordinate(n)})}updateTooltipBounds(e){const n=this.get("inside"),i=1e5;let s=this._display.toGlobal({x:0,y:0}),r=s.y,a=0,o=this.axisLength(),l=i,u="right";this.get("opposite")?n?(u="right",a=s.x-i,l=i):(u="left",a=s.x,l=i):n?(u="left",a=s.x,l=i):(u="right",a=s.x-i,l=i);const d={left:a,right:a+l,top:r,bottom:r+o},c=e.get("bounds");FU(d,c)||(e.set("bounds",d),e.set("pointerOrientation",u))}_updateLC(){const e=this.axis,n=e.parent;if(n){const i=n.innerHeight();this._lc=this.axisLength()/i,this._ls=e.y()/i}}toAxisPosition(e){const n=this._start||0,i=this._end||1;return e-=this._ls,e=e*(i-n)/this._lc,this.get("inversed")?e=n+e:e=i-e,e}toGlobalPosition(e){const n=this._start||0,i=this._end||1;return this.get("inversed")?e=e-n:e=i-e,e=e/(i-n)*this._lc,e+=this._ls,e}fixPosition(e){return this.get("inversed")?e:1-e}}Object.defineProperty(xg,"className",{enumerable:!0,configurable:!0,writable:!0,value:"AxisRendererY"});Object.defineProperty(xg,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Pc.classNames.concat([xg.className])});class Dy extends Sc{constructor(){super(...arguments),Object.defineProperty(this,"columns",{enumerable:!0,configurable:!0,writable:!0,value:this.addDisposer(new ji(Sn.new({}),()=>Ga._new(this._root,{position:"absolute",themeTags:Vt(this.columns.template.get("themeTags",[]),["series","column"])},[this.columns.template])))})}makeColumn(e,n){const i=this.mainContainer.children.push(n.make());return i._setDataItem(e),n.push(i),i}_processAxisRange(e){super._processAxisRange(e),e.columns=new ji(Sn.new({}),()=>Ga._new(this._root,{position:"absolute",themeTags:Vt(e.columns.template.get("themeTags",[]),["series","column"])},[this.columns.template,e.columns.template]))}}Object.defineProperty(Dy,"className",{enumerable:!0,configurable:!0,writable:!0,value:"ColumnSeries"});Object.defineProperty(Dy,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Sc.classNames.concat([Dy.className])});class Ay extends xc{constructor(){super(...arguments),Object.defineProperty(this,"_endIndex",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_strokeGenerator",{enumerable:!0,configurable:!0,writable:!0,value:t9()}),Object.defineProperty(this,"_fillGenerator",{enumerable:!0,configurable:!0,writable:!0,value:jxe()}),Object.defineProperty(this,"_legendStroke",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_legendFill",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"strokes",{enumerable:!0,configurable:!0,writable:!0,value:this.addDisposer(new ji(Sn.new({}),()=>cn._new(this._root,{themeTags:Vt(this.strokes.template.get("themeTags",[]),["line","series","stroke"])},[this.strokes.template])))}),Object.defineProperty(this,"fills",{enumerable:!0,configurable:!0,writable:!0,value:this.addDisposer(new ji(Sn.new({}),()=>cn._new(this._root,{themeTags:Vt(this.strokes.template.get("themeTags",[]),["line","series","fill"])},[this.fills.template])))}),Object.defineProperty(this,"_fillTemplate",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_strokeTemplate",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_previousPoint",{enumerable:!0,configurable:!0,writable:!0,value:[0,0,0,0]}),Object.defineProperty(this,"_dindex",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_sindex",{enumerable:!0,configurable:!0,writable:!0,value:0})}_afterNew(){this._fillGenerator.y0(function(e){return e[3]}),this._fillGenerator.x0(function(e){return e[2]}),this._fillGenerator.y1(function(e){return e[1]}),this._fillGenerator.x1(function(e){return e[0]}),super._afterNew()}makeStroke(e){const n=this.mainContainer.children.push(e.make());return e.push(n),n}makeFill(e){const n=this.mainContainer.children.push(e.make());return e.push(n),n}_updateChildren(){this._strokeTemplate=void 0,this._fillTemplate=void 0;let e=this.get("xAxis"),n=this.get("yAxis");if(this.isDirty("stroke")){const i=this.get("stroke");this.strokes.template.set("stroke",i);const s=this._legendStroke;s&&s.states.lookup("default").set("stroke",i)}if(this.isDirty("fill")){const i=this.get("fill");this.fills.template.set("fill",i);const s=this._legendFill;s&&s.states.lookup("default").set("fill",i)}if(this.isDirty("fillPattern")){const i=this.get("fillPattern");this.fills.template.set("fillPattern",i);const s=this._legendFill;s&&s.states.lookup("default").set("fillPattern",i)}if(this.isDirty("curveFactory")){const i=this.get("curveFactory");i&&(this._strokeGenerator.curve(i),this._fillGenerator.curve(i))}if(e.inited&&n.inited){if(this._axesDirty||this._valuesDirty||this._stackDirty||this.isDirty("vcx")||this.isDirty("vcy")||this._sizeDirty||this.isDirty("connect")||this.isDirty("curveFactory")){this.fills.each(d=>{d.setPrivate("visible",!1)}),this.strokes.each(d=>{d.setPrivate("visible",!1)}),this.axisRanges.each(d=>{let c=d.fills;c&&c.each(h=>{h.setPrivate("visible",!1)});let f=d.strokes;f&&f.each(h=>{h.setPrivate("visible",!1)})});let i=this.startIndex(),s=this.strokes.template.get("templateField"),r=this.fills.template.get("templateField"),a=!0,o=!0;s&&(a=!1),r&&(o=!1);for(let d=i-1;d>=0;d--){let c=this.dataItems[d],f=!0,h=c.dataContext;if(s&&h[s]&&(a=!0),r&&h[r]&&(o=!0),oe(this._valueFields,p=>{me(c.get(p))||(f=!1)}),f&&a&&o){i=d;break}}let l=this.dataItems.length,u=this.endIndex();if(u<l){u++;for(let d=u;d<l;d++){let c=this.dataItems[d],f=!0;if(oe(this._valueFields,h=>{me(c.get(h))||(f=!1)}),f){u=d+1;break}}}if(i>0&&i--,this._endIndex=u,this._clearGraphics(),this._sindex=0,this._dindex=i,this.dataItems.length==1)this._startSegment(0);else for(;this._dindex<u-1;)this._startSegment(this._dindex),this._sindex++}}else this._skipped=!0;super._updateChildren()}_clearGraphics(){this.strokes.clear(),this.fills.clear(),this.axisRanges.each(e=>{e.fills.clear(),e.strokes.clear()})}_startSegment(e){let n=this._endIndex,i=n;const s=this.get("autoGapCount"),r=this.get("connect"),a=this.makeFill(this.fills),o=this._fillTemplate,l=this.fills.template;o&&o!=l&&(a.template=o),a.setPrivate("visible",!0);const u=this.makeStroke(this.strokes),d=this._strokeTemplate;d&&d!=this.strokes.template&&(u.template=d),u.setPrivate("visible",!0);let c=this.get("xAxis"),f=this.get("yAxis"),h=this.get("baseAxis"),p=this.get("vcx",1),g=this.get("vcy",1),v=this._xField,_=this._yField,b=this._xOpenField,x=this._yOpenField;const k=this.get("openValueXField"),I=this.get("openValueYField");k||(b=this._xField),I||(x=this._yField);const E=this.get("stacked"),T=c.basePosition(),S=f.basePosition();let w;h===f?w=this._yField:w=this._xField;const P=[];let C=[];P.push(C);const D=this.strokes.template.get("templateField"),A=this.fills.template.get("templateField");let N=this.get("locationX",.5),B=this.get("locationY",.5),z=this.get("openLocationX",N),q=this.get("openLocationY",B);const W=this.get("minDistance",0);let K,Y=this.fills.template.get("visible");this.axisRanges.length>0&&(Y=!0);let Z=!1;(E||k||I)&&(Z=!0);const ee={points:C,segments:P,stacked:E,getOpen:Z,basePosX:T,basePosY:S,fillVisible:Y,xField:v,yField:_,xOpenField:b,yOpenField:x,vcx:p,vcy:g,baseAxis:h,xAxis:c,yAxis:f,locationX:N,locationY:B,openLocationX:z,openLocationY:q,minDistance:W};let le=this._strokeTemplate,de=this._fillTemplate;for(K=e;K<i;K++){this._dindex=K;const he=this._dataItems[K];let re=he.get(v),U=he.get(_);if(re==null||U==null?r||(C=[],P.push(C),ee.points=C):this._getPoints(he,ee),D){let X=he.dataContext[D];if(X)if(X instanceof Sn||(X=Sn.new(X)),this._strokeTemplate=X,K>e){i=K;break}else le=X,u.template=X}if(A){let X=he.dataContext[A];if(X)if(X instanceof Sn||(X=Sn.new(X)),this._fillTemplate=X,K>e){i=K;break}else de=X,a.template=X}if(!r){let X=this.dataItems[K+1];X&&h.shouldGap(he,X,s,w)&&(C=[],P.push(C),ee.points=C)}}a.setRaw("userData",[e,K]),u.setRaw("userData",[e,K]),K===n&&this._endLine(C,P[0][0]),u&&this._drawStroke(u,P),a&&this._drawFill(a,P),this.axisRanges.each(he=>{const re=he.container,U=he.fills,X=this.makeFill(U);re&&re.children.push(X),X.setPrivate("visible",!0),this._drawFill(X,P);const ae=he.strokes,pe=this.makeStroke(ae);re&&re.children.push(pe),le&&le!=this.strokes.template&&(pe.template=le),de&&de!=this.fills.template&&(X.template=de),pe.setPrivate("visible",!0),this._drawStroke(pe,P),X.setRaw("userData",[e,K]),pe.setRaw("userData",[e,K])})}_getPoints(e,n){let i=n.points,s=e.get("locationX",n.locationX),r=e.get("locationY",n.locationY),a=n.xAxis.getDataItemPositionX(e,n.xField,s,n.vcx),o=n.yAxis.getDataItemPositionY(e,n.yField,r,n.vcy);if(this._shouldInclude(a)){const l=this.getPoint(a,o),u=[l.x,l.y];if(l.x+=this._x,l.y+=this._y,e.set("point",l),n.fillVisible){let d=a,c=o;if(n.baseAxis===n.xAxis?c=n.basePosY:n.baseAxis===n.yAxis&&(d=n.basePosX),n.getOpen){let h=e.get(n.xOpenField),p=e.get(n.yOpenField);if(h!=null&&p!=null){let g=e.get("openLocationX",n.openLocationX),v=e.get("openLocationY",n.openLocationY);if(n.stacked){let _=e.get("stackToItemX"),b=e.get("stackToItemY");_?(d=n.xAxis.getDataItemPositionX(_,n.xField,g,_.component.get("vcx")),ma(d)&&(d=n.basePosX)):n.yAxis===n.baseAxis?d=n.basePosX:d=n.xAxis.getDataItemPositionX(e,n.xOpenField,g,n.vcx),b?(c=n.yAxis.getDataItemPositionY(b,n.yField,v,b.component.get("vcy")),ma(c)&&(c=n.basePosY)):n.xAxis===n.baseAxis?c=n.basePosY:c=n.yAxis.getDataItemPositionY(e,n.yOpenField,v,n.vcy)}else d=n.xAxis.getDataItemPositionX(e,n.xOpenField,g,n.vcx),c=n.yAxis.getDataItemPositionY(e,n.yOpenField,v,n.vcy)}}let f=this.getPoint(d,c);u[2]=f.x,u[3]=f.y}if(n.minDistance>0){const d=u[0],c=u[1],f=u[2],h=u[3],p=this._previousPoint,g=p[0],v=p[1],_=p[2],b=p[3];(Math.hypot(d-g,c-v)>n.minDistance||f&&h&&Math.hypot(f-_,h-b)>n.minDistance)&&(i.push(u),this._previousPoint=u)}else i.push(u)}}_endLine(e,n){}_drawStroke(e,n){e.get("visible")&&!e.get("forceHidden")&&e.set("draw",i=>{oe(n,s=>{this._strokeGenerator.context(i),this._strokeGenerator(s)})})}_drawFill(e,n){e.get("visible")&&!e.get("forceHidden")&&e.set("draw",i=>{oe(n,s=>{this._fillGenerator.context(i),this._fillGenerator(s)})})}_processAxisRange(e){super._processAxisRange(e),e.fills=new ji(Sn.new({}),()=>cn._new(this._root,{themeTags:Vt(e.fills.template.get("themeTags",[]),["line","series","fill"])},[this.fills.template,e.fills.template])),e.strokes=new ji(Sn.new({}),()=>cn._new(this._root,{themeTags:Vt(e.strokes.template.get("themeTags",[]),["line","series","stroke"])},[this.strokes.template,e.strokes.template]))}createLegendMarker(e){const n=this.get("legendDataItem");if(n){const i=n.get("marker"),s=n.get("markerRectangle");s&&s.setPrivate("visible",!1),i.set("background",tr.new(i._root,{fillOpacity:0,fill:pl(0)}));const r=i.children.push(cn._new(i._root,{themeTags:["line","series","legend","marker","stroke"],interactive:!1},[this.strokes.template]));this._legendStroke=r;const a=i.children.push(cn._new(i._root,{themeTags:["line","series","legend","marker","fill"]},[this.fills.template]));this._legendFill=a;const o=this._root.interfaceColors.get("disabled");if(r.states.create("disabled",{fill:o,stroke:o}),a.states.create("disabled",{fill:o,stroke:o}),this.bullets.length>0){const l=this.bullets.getIndex(0);if(l){const u=l(i._root,this,new aa(this,{legend:!0},{}));if(u){const d=u.get("sprite");d instanceof cn&&d.states.create("disabled",{fill:o,stroke:o}),d&&(d.set("tooltipText",void 0),d.set("tooltipHTML",void 0),i.children.push(d),d.setAll({x:i.width()/2,y:i.height()/2}),i.events.on("boundschanged",()=>{d.setAll({x:i.width()/2,y:i.height()/2})}))}}}}}}Object.defineProperty(Ay,"className",{enumerable:!0,configurable:!0,writable:!0,value:"LineSeries"});Object.defineProperty(Ay,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:xc.classNames.concat([Ay.className])});function Gxe(t,e){const n=yh.new(t,{content:"Il grafico non contiene dati"});return e.events.on("datavalidated",function(i){const s=i.target;if(i.target.data.length<1){const r=s.get("valueXField"),a=s.get("valueYField"),o=[],l=new Date;for(let u=0;u<Ki.int(30,60);u++){const d={};Txe(l,"day",1),d[r]=l.getTime(),d[a]=Ki.int(5,30),o.push(d)}s.data.setAll(o),n.open()}else n.close()}),n}function Hw(t,e){const n=yh.new(t,{content:"Il grafico non contiene dati"});return e.events.on("datavalidated",function(i){const s=i.target;if(i.target.data.length<1){const r=s.get("categoryField"),a=s.get("valueField"),o=[];for(let l=0;l<3;l++){const u={};u[r]="",u[a]=1,o.push(u)}s.data.setAll(o),s.labels.template.set("forceHidden",!0),s.ticks.template.set("forceHidden",!0),n.open()}else s.labels.template.set("forceHidden",!1),s.ticks.template.set("forceHidden",!1),n.close()}),n}function qxe(t,e,n){const i=yh.new(t,{content:"Il grafico non contiene dati"}),s=[Ki.word(6),Ki.word(6),Ki.word(6)];return e.events.on("datavalidated",function(r){const a=r.target;if(r.target.data.length<1){const o=a.get("categoryField"),l=[];for(let u=0;u<s.length;u++){const d={};d[o]=s[u],l.push(d)}a.data.setAll(l),i.open()}else i.close()}),n.forEach(r=>r.events.on("datavalidated",function(a){const o=a.target;if(a.target.data.length<1){const l=o.get("categoryXField"),u=o.get("valueYField"),d=[];for(let c=0;c<s.length;c++){const f={};f[l]=s[c],f[u]=Ki.int(3,9),d.push(f)}console.log(d),o.data.setAll(d),i.open()}else i.close()})),i}const Xxe=kt({__name:"LessonDistribution",props:{from:{},to:{},schools:{default:()=>[]}},setup(t){let e,n,i;function s(u){i=u,e=i.container.children.push(st.new(i,{layout:i.verticalLayout,width:Fe,height:Fe})).children.push(bc.new(i,{endAngle:270,innerRadius:jn(60)})).series.push(wc.new(i,{valueField:"value",categoryField:"category",endAngle:270,alignLabels:!1})),l(),e.slices.template.setAll({cornerRadius:8,tooltipText:"{category}: {value}"}),e.states.create("hidden",{endAngle:-90}),e.labels.template.setAll({textType:"circular"}),Hw(i,e)}function r(){e.appear(1e3,100)}function a(){return!!e}async function o(u,d,...c){const f=await Lo.instance.getLessonTrend(u,d,...c);e.data.setAll(f),l()}function l(){n==null||n.dispose(),n=Hi.new(i,{centerX:jn(50),centerY:jn(50),text:"Lezioni: {valueSum}",populateText:!0,fontSize:"1.5em"}),e.children.push(n)}return(u,d)=>(be(),De(ef,{schools:u.schools,from:u.from,to:u.to,"create-chart":s,"after-chart-created":r,"are-update-condition-satistied":a,"update-chart-data":o,title:"Distribuzione delle Lezioni",subtitle:"Numero di lezioni in una scuola"},null,8,["schools","from","to"]))}}),Kxe=kt({__name:"SalaryDistribution",props:{from:{},to:{},schools:{default:()=>[]}},setup(t){let e,n,i;function s(u){i=u,e=i.container.children.push(st.new(i,{layout:i.verticalLayout,width:Fe,height:Fe})).children.push(bc.new(i,{endAngle:270,innerRadius:jn(60)})).series.push(wc.new(i,{valueField:"value",categoryField:"category",endAngle:270,alignLabels:!1})),l(),e.slices.template.setAll({cornerRadius:8,tooltipText:"{category}: {valuePercentTotal.formatNumber('0.00')}% ({value} €)"}),e.states.create("hidden",{endAngle:-90}),e.labels.template.setAll({textType:"circular"}),Hw(i,e)}function r(){e.appear(1e3,100)}function a(){return!!e}async function o(u,d,...c){const f=await Lo.instance.getSalaryDistribution(u,d,...c);e.data.setAll(f),l()}function l(){n==null||n.dispose(),n=Hi.new(i,{centerX:jn(50),centerY:jn(50),text:"Totale: {valueSum}€",populateText:!0,fontSize:"1.5em"}),e.children.push(n)}return(u,d)=>(be(),De(ef,{schools:u.schools,from:u.from,to:u.to,"create-chart":s,"after-chart-created":r,"are-update-condition-satistied":a,"update-chart-data":o,title:"Distribuzione dello Stipendio",subtitle:"Divisione dello stipendio per Scuola"},null,8,["schools","from","to"]))}}),Qxe=kt({__name:"SalaryTrend",props:{from:{},to:{},schools:{default:()=>[]}},setup(t){let e,n;function i(o){e=o.container.children.push(bg.new(o,{panX:!0,panY:!0,wheelX:"panX",wheelY:"zoomX",pinchZoomX:!0,paddingLeft:0})),e.set("cursor",Py.new(o,{behavior:"none"})).lineY.set("visible",!1);const u=e.xAxes.push(Cy.new(o,{maxDeviation:.2,baseInterval:{timeUnit:"day",count:1},renderer:wg.new(o,{minorGridEnabled:!0}),tooltip:Wl.new(o,{})})),d=e.yAxes.push(Yl.new(o,{renderer:xg.new(o,{pan:"zoom"})}));n=e.series.push(Ay.new(o,{name:"Series",xAxis:u,yAxis:d,valueYField:"value",valueXField:"date",tooltip:Wl.new(o,{labelText:"{valueY}"})})),e.set("scrollbarX",gg.new(o,{orientation:"horizontal"})),Gxe(o,n)}function s(){n.appear(1e3),e.appear(1e3,100)}function r(){return!!n}async function a(o,l,...u){const d=await Lo.instance.getSalaryTrend(o,l,...u);n.data.setAll(d)}return(o,l)=>(be(),De(ef,{schools:o.schools,from:o.from,to:o.to,"create-chart":i,"after-chart-created":s,"are-update-condition-satistied":r,"update-chart-data":a,title:"Andamento dello Stipendio",subtitle:"Andamento dello stipendio in un periodo di tempo per scuola"},null,8,["schools","from","to"]))}}),Jxe=kt({__name:"SchoolDistribution",props:{from:{},to:{},schools:{default:()=>[]}},setup(t){let e,n,i;function s(u){i=u,e=i.container.children.push(st.new(i,{layout:i.verticalLayout,width:Fe,height:Fe})).children.push(bc.new(i,{endAngle:270,innerRadius:jn(60)})).series.push(wc.new(i,{valueField:"value",categoryField:"category",endAngle:270,alignLabels:!1})),l(),e.slices.template.setAll({cornerRadius:8,tooltipText:"{category}: {value}"}),e.states.create("hidden",{endAngle:-90}),e.labels.template.setAll({textType:"circular"}),Hw(i,e)}function r(){e.appear(1e3,100)}function a(){return!!e}async function o(u,d,...c){const f=await Lo.instance.getSchoolDistribution(...c);e.data.setAll(f),l()}function l(){n==null||n.dispose(),n=Hi.new(i,{centerX:jn(50),centerY:jn(50),text:"Scuole: {valueSum}",populateText:!0,fontSize:"1.5em"}),e.children.push(n)}return(u,d)=>(be(),De(ef,{schools:u.schools,from:u.from,to:u.to,"create-chart":s,"after-chart-created":r,"are-update-condition-satistied":a,"update-chart-data":o,title:"Distribuzione delle scuole"},null,8,["schools","from","to"]))}}),Zxe=kt({__name:"SchoolStudentDistribution",props:{from:{},to:{},schools:{default:()=>[]}},setup(t){let e,n,i;function s(u){i=u,e=i.container.children.push(st.new(i,{layout:i.verticalLayout,width:Fe,height:Fe})).children.push(bc.new(i,{endAngle:270,innerRadius:jn(60)})).series.push(wc.new(i,{valueField:"value",categoryField:"category",endAngle:270,alignLabels:!1})),l(),e.slices.template.setAll({cornerRadius:8,tooltipText:"{category}: {value}"}),e.states.create("hidden",{endAngle:-90}),e.labels.template.setAll({textType:"circular"}),Hw(i,e)}function r(){e.appear(1e3,100)}function a(){return!!e}async function o(u,d,...c){const f=await Lo.instance.getSchoolStudentDistribution(...c);e.data.setAll(f),l()}function l(){n==null||n.dispose(),n=Hi.new(i,{centerX:jn(50),centerY:jn(50),text:"Studenti: {valueSum}",populateText:!0,fontSize:"1.5em"}),e.children.push(n)}return(u,d)=>(be(),De(ef,{schools:u.schools,from:u.from,to:u.to,"create-chart":s,"after-chart-created":r,"are-update-condition-satistied":a,"update-chart-data":o,title:"Distribuzione degli studenti",subtitle:"Numero di studenti in una scuola"},null,8,["schools","from","to"]))}}),eSe=kt({__name:"StudentTrend",props:{from:{},to:{},schools:{default:()=>[]}},setup(t){let e,n,i,s,r;const a=[];function o(f){e=f,n=e.container.children.push(bg.new(e,{panX:!1,panY:!1,wheelX:"panX",wheelY:"zoomX",paddingLeft:0,layout:e.verticalLayout})),n.set("scrollbarX",gg.new(e,{orientation:"horizontal"}));const h=wg.new(e,{minorGridEnabled:!0,minGridDistance:10});i=n.xAxes.push(Tc.new(e,{categoryField:"student",renderer:h,tooltip:Wl.new(e,{})})),h.grid.template.setAll({location:1}),h.labels.template.setAll({rotation:45,centerY:lt,centerX:0}),a.push(i),s=n.yAxes.push(Yl.new(e,{min:0,renderer:xg.new(e,{strokeOpacity:.1})})),r=n.children.push(wy.new(e,{centerX:lt,x:lt}));const p=[c("Presente","present"),c("Assente","absent"),c("Recupero","recovery")];a.push(...p),qxe(e,i,p)}function l(){n.appear(1e3,100)}function u(){return!!a}async function d(f,h,...p){const g=await Lo.instance.getStudentTrend(f,h,...p);a.forEach(v=>v.data.setAll(g))}function c(f,h){let p=n.series.push(Dy.new(e,{name:f,stacked:!0,xAxis:i,yAxis:s,valueYField:h,categoryXField:"student"}));return p.columns.template.setAll({tooltipText:"{name}, {categoryX}: {valueY}",tooltipY:jn(10)}),p.appear(),p.bullets.push(function(){return by.new(e,{sprite:Hi.new(e,{text:"{valueY}",fill:e.interfaceColors.get("alternativeText"),centerY:lt,centerX:lt,populateText:!0})})}),r.data.push(p),p}return(f,h)=>(be(),De(ef,{schools:f.schools,from:f.from,to:f.to,"create-chart":o,"after-chart-created":l,"are-update-condition-satistied":u,"update-chart-data":d,title:"Andamento degli Studenti",subtitle:"Andamento della presenza in un periodo di tempo per studente"},null,8,["schools","from","to"]))}}),tSe=kt({__name:"StatisticsView",setup(t){const e=["salary","schools","lessons","students"],n=Wg(),i=Oc(),s=G(e[0]),r=G(),a=G(!1),o=G([]),l=G([]),u=O(()=>n.query.tab),d=O(()=>n.query.filters),c=O(()=>n.query.from),f=O(()=>n.query.to),h=O(()=>o.value.filter(b=>l.value.includes(b.id)));we(u,p,{immediate:!0}),we(d,g,{immediate:!0}),we(c,g,{immediate:!0}),we(f,g,{immediate:!0}),we(o,g),we(s,v),we(l,v),we(r,v);function p(){u.value&&e.includes(u.value.toLowerCase())&&(s.value=u.value)}function g(){var b,x,k;l.value=((b=d.value)==null?void 0:b.split(","))??o.value.map(I=>I.id),c.value&&(r.value={from:c.value,to:(x=r.value)==null?void 0:x.to}),f.value&&(r.value={from:(k=r.value)==null?void 0:k.from,to:f.value}),d.value&&e.includes(u.value.toLowerCase())&&(s.value=u.value)}function v(){var k,I;let b=`/statistics?tab=${s.value}`;const x=l.value.join(",");x&&x.length!=0&&(b+="&filters="+x),(k=r.value)!=null&&k.from&&(b+=`&from=${r.value.from}`),(I=r.value)!=null&&I.to&&(b+=`&to=${r.value.to}`),i.push(b)}async function _(){a.value=!0,o.value=await Lr.instance.getAll(),a.value=!1}return Tt(()=>{Lo.instance.cache.clear(),_()}),(b,x)=>{const k=j("v-tab"),I=j("v-tabs"),E=j("v-col"),T=j("v-select"),S=j("v-row"),w=j("v-card-text"),P=j("v-card"),C=j("v-tabs-window-item"),D=j("v-tabs-window");return be(),bt("div",null,[m(I,{modelValue:s.value,"onUpdate:modelValue":x[0]||(x[0]=A=>s.value=A),color:"primary","align-tabs":"center"},{default:M(()=>[m(k,{"prepend-icon":"mdi-cash",text:"Stipendio",value:"salary"}),m(k,{"prepend-icon":"mdi-town-hall",text:"Scuole",value:"schools"}),m(k,{"prepend-icon":"mdi-calendar-blank",text:"Lezioni",value:"lessons"}),m(k,{"prepend-icon":"mdi-account-school",text:"Studenti",value:"students"})]),_:1},8,["modelValue"]),m(S,{class:"align-end"},{default:M(()=>[m(E,{cols:"12",md:"8"},{default:M(()=>[m(IU,{modelValue:r.value,"onUpdate:modelValue":x[1]||(x[1]=A=>r.value=A),class:"mt-2"},null,8,["modelValue"])]),_:1}),m(E,{cols:"12",md:"4"},{default:M(()=>[m(T,{modelValue:l.value,"onUpdate:modelValue":x[2]||(x[2]=A=>l.value=A),items:o.value,loading:a.value,"item-value":"id",label:"Scuole","item-title":"name",variant:"outlined",density:"compact","hide-details":"",chips:"",multiple:""},null,8,["modelValue","items","loading"])]),_:1})]),_:1}),m(D,{modelValue:s.value,"onUpdate:modelValue":x[3]||(x[3]=A=>s.value=A),class:"w-100"},{default:M(()=>[m(C,{value:"salary"},{default:M(()=>[m(P,{flat:""},{default:M(()=>[m(w,null,{default:M(()=>{var A,N,B,z;return[m(Kxe,{schools:h.value,from:(A=r.value)==null?void 0:A.from,to:(N=r.value)==null?void 0:N.to},null,8,["schools","from","to"]),m(Qxe,{schools:h.value,from:(B=r.value)==null?void 0:B.from,to:(z=r.value)==null?void 0:z.to},null,8,["schools","from","to"])]}),_:1})]),_:1})]),_:1}),m(C,{value:"schools"},{default:M(()=>[m(P,{flat:""},{default:M(()=>[m(w,null,{default:M(()=>{var A,N,B,z;return[m(Jxe,{schools:h.value,from:(A=r.value)==null?void 0:A.from,to:(N=r.value)==null?void 0:N.to},null,8,["schools","from","to"]),m(Zxe,{schools:h.value,from:(B=r.value)==null?void 0:B.from,to:(z=r.value)==null?void 0:z.to},null,8,["schools","from","to"])]}),_:1})]),_:1})]),_:1}),m(C,{value:"lessons"},{default:M(()=>[m(P,{flat:""},{default:M(()=>[m(w,null,{default:M(()=>{var A,N;return[m(Xxe,{schools:h.value,from:(A=r.value)==null?void 0:A.from,to:(N=r.value)==null?void 0:N.to},null,8,["schools","from","to"])]}),_:1})]),_:1})]),_:1}),m(C,{value:"students"},{default:M(()=>[m(P,{flat:""},{default:M(()=>[m(w,null,{default:M(()=>{var A,N;return[m(eSe,{schools:h.value,from:(A=r.value)==null?void 0:A.from,to:(N=r.value)==null?void 0:N.to},null,8,["schools","from","to"])]}),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])])}}}),nSe={class:"text-center ma-4"},wV=kt({__name:"HomeView",setup(t){let e;const n=G([]),i=G([]),s=G(!1),r=G(!1),a=G(!1),o=G(!1),l=G(!1);function u(h){h&&(r.value=!1)}function d(h){return h.city?`${h.name} (${h.city})`:h.name}async function c(){o.value=!0,i.value=await lg.instance.getTodayLessons(),o.value=!1,l.value=!0}async function f(){s.value=!0,e=Lr.instance.observeAll().subscribe({next:h=>{n.value=h,s.value=!1},error:h=>{Ze.warning("Impossibile caricare le scuole..."),console.error(h),s.value=!1}})}return Tt(async()=>{a.value=Qs.getItem("loadTodayLesson")??!1,a.value&&c(),await f()}),Us(()=>{e==null||e.unsubscribe()}),(h,p)=>{const g=j("v-skeleton-loader"),v=j("v-col"),_=j("v-row"),b=j("v-expand-transition"),x=j("v-card"),k=j("v-icon"),I=j("v-dialog"),E=j("v-divider"),T=j("v-btn"),S=j("v-slide-y-transition"),w=j("v-container");return be(),De(w,{fluid:""},{default:M(()=>[m(b,{mode:"out-in"},{default:M(()=>[s.value?(be(),De(_,{key:0},{default:M(()=>[(be(),bt(Ee,null,xi(3,P=>m(v,{key:P,cols:"12",sm:"4"},{default:M(()=>[m(g,{class:"pa-2",type:"card"})]),_:2},1024)),64))]),_:1})):Wt("",!0)]),_:1}),m(_,null,{default:M(()=>[(be(!0),bt(Ee,null,xi(n.value,P=>(be(),De(v,{key:P.name,cols:"12",sm:"4"},{default:M(()=>[m(x,{"append-icon":"mdi-open-in-new",class:"pa-2",to:"/school/"+P.id,"prepend-icon":"mdi-home",subtitle:"Visualizza tutti gli aggiornamenti della scuola "+P.name,title:d(P),color:P.color??se(CU)},null,8,["to","subtitle","title","color"])]),_:2},1024))),128)),m(v,{cols:"12",sm:"4"},{default:M(()=>[m(I,{modelValue:r.value,"onUpdate:modelValue":p[2]||(p[2]=P=>r.value=P),fullscreen:""},{activator:M(({props:P})=>[m(x,J({class:"pa-2",color:"secondary"},P),{default:M(()=>[Me("div",nSe,[p[4]||(p[4]=Me("p",{class:"text-h6 font-weight"},"Aggiungi una scuola",-1)),m(k,{size:"x-large"},{default:M(()=>p[3]||(p[3]=[Pe("mdi-plus")])),_:1})])]),_:2},1040)]),default:M(()=>[m(EU,{onClose:p[0]||(p[0]=P=>r.value=!1),onSave:p[1]||(p[1]=P=>u(P))})]),_:1},8,["modelValue"])]),_:1})]),_:1}),m(E,{class:"my-4"}),m(_,{class:"justify-center"},{default:M(()=>[m(v,{cols:"auto"},{default:M(()=>[m(T,{onClick:c,loading:o.value},{default:M(()=>[Pe("Carica le lezioni di oggi ("+at(se(ch)(new Date))+")",1)]),_:1},8,["loading"])]),_:1})]),_:1}),m(S,{mode:"out-in"},{default:M(()=>[o.value?(be(),De(_,{key:1},{default:M(()=>[(be(),bt(Ee,null,xi(3,P=>m(v,{key:P,cols:"12",sm:"4"},{default:M(()=>[m(g,{class:"pa-2",type:"card"})]),_:2},1024)),64))]),_:1})):(be(),De(_,{key:0},{default:M(()=>[i.value.length==0&&l.value?(be(),De(v,{key:0,cols:"12"},{default:M(()=>p[5]||(p[5]=[Me("p",null,"Nessuna lezione in programma per oggi!",-1)])),_:1})):Wt("",!0),(be(!0),bt(Ee,null,xi(i.value,P=>(be(),De(v,{key:P.lesson.id,cols:"12",sm:"4"},{default:M(()=>[m(x,{"append-icon":"mdi-open-in-new",class:"pa-2",to:"/lesson/"+P.lesson.id,"prepend-icon":"mdi-book-clock",subtitle:"Visualizza la lezione del giorno",title:P.school.name,color:"info"},null,8,["to","title"])]),_:2},1024))),128))]),_:1}))]),_:1})]),_:1})}}}),iSe={};function sSe(t,e){return be(),bt("main",null,e[0]||(e[0]=[Me("svg",{viewBox:"0 0 541.17206 328.45184",id:"svg2",version:"1.1"},[Me("metadata",{id:"metadata8"}),Me("defs",{id:"defs6"},[Me("pattern",{patternUnits:"userSpaceOnUse",width:"1.5",height:"1",patternTransform:"translate(0,0) scale(10,10)",id:"Strips2_1"},[Me("rect",{style:{fill:"black",stroke:"none"},x:"0",y:"-0.5",width:"1",height:"2",id:"rect5419"})]),Me("linearGradient",{"osb:paint":"solid",id:"linearGradient6096"},[Me("stop",{id:"stop6094",offset:"0",style:{"stop-color":"#000000","stop-opacity":"1"}})])]),Me("g",{transform:"translate(170.14515,0.038164)",id:"layer1"},[Me("g",{id:"g6219"},[Me("path",{transform:"matrix(1.0150687,0,0,11.193923,-1.3895945,-2685.7441)",style:{display:"inline",fill:"#000000","fill-opacity":"1",stroke:"#000000","stroke-width":"0.1px","stroke-linecap":"butt","stroke-linejoin":"miter","stroke-opacity":"1"},d:"m 145.0586,263.51309 c -90.20375,-0.0994 -119.20375,-0.0994 -119.20375,-0.0994",id:"path6180"}),Me("g",{id:"g6174"},[Me("ellipse",{ry:"9.161705",rx:"9.3055239",cy:"91.32917",cx:"84.963676",id:"path4488",style:{display:"inline",opacity:"1",fill:"none","fill-opacity":"0.4627451","fill-rule":"nonzero",stroke:"#000000","stroke-width":"1.08691013","stroke-miterlimit":"4","stroke-dasharray":"none","stroke-opacity":"1"}}),Me("path",{id:"path4490",d:"m 84.984382,-0.03816399 c 0.911733,-5.0186e-4 1.661858,18.47051499 1.674386,41.22988399 0.0069,12.610431 -0.214009,23.904598 -0.56753,31.469836 -0.282878,6.088471 -0.652275,9.761785 -1.058838,9.762119 -0.406564,3.33e-4 -0.78198,-3.672386 -1.074838,-9.760657 -0.36185,-7.564779 -0.595233,-18.858715 -0.602175,-31.469228 -0.01253,-22.759565 0.717262,-41.23145213 1.628995,-41.23195399 z",style:{display:"inline",fill:"#000000",stroke:"none","stroke-width":"0.23743393px","stroke-linecap":"butt","stroke-linejoin":"miter","stroke-opacity":"1"}}),Me("path",{id:"path4496",d:"m 85.115421,100.5729 c -0.0036,3.37532 -0.0071,6.75165 -0.0107,10.12897 m 0.512159,0.18258 c -1.914603,-0.23621 -3.505591,1.17801 -4.861444,2.68113 -1.355853,1.50312 -2.473764,3.09173 -3.387866,4.59538 -0.914103,1.50365 -1.620209,2.91586 -2.416229,4.41952 -0.79602,1.50365 -1.67928,3.09352 -0.808656,3.24054 0.870624,0.14702 3.490408,-1.14815 5.700074,-1.91396 2.209666,-0.76581 4.001473,-1.00079 5.922125,-0.86765 1.920652,0.13314 3.947462,0.6325 6.245357,1.6195 2.297896,0.98701 4.861161,2.46015 4.9051,0.91309 0.04394,-1.54706 -2.430929,-6.11379 -4.787811,-9.33976 -2.356882,-3.22597 -4.596047,-5.11158 -6.51065,-5.34779 z",style:{display:"inline",fill:"#000000","fill-opacity":"1",stroke:"#000000","stroke-width":"1px","stroke-linecap":"butt","stroke-linejoin":"miter","stroke-opacity":"1"}}),Me("rect",{ry:"5",y:"314.84082",x:"35.355339",height:"9.8994951",width:"100.76272",id:"rect4553",style:{display:"inline",opacity:"1",fill:"#000000","fill-opacity":"1","fill-rule":"nonzero",stroke:"#000000","stroke-width":"1.00157475","stroke-miterlimit":"4","stroke-dasharray":"none","stroke-opacity":"1"}}),Me("path",{id:"path4513",d:"m 74.6875,125.03748 c -8.394789,7.68654 -16.790624,15.37405 -23.988969,22.38484 -7.198345,7.0108 -13.197555,13.3433 -18.781379,20.01048 -5.583823,6.66719 -10.749655,13.66605 -13.916608,18.7496 -3.166952,5.08355 -4.333432,8.24971 -4.750315,11.08369 -0.416883,2.83399 -0.08368,5.33304 1.809372,16.25302 1.893048,10.91998 5.343489,30.24673 9.760132,48.66349 4.416642,18.41676 9.798356,35.91675 15.180267,53.41738",style:{display:"inline",fill:"none",stroke:"#000000","stroke-width":"1px","stroke-linecap":"butt","stroke-linejoin":"miter","stroke-opacity":"1"}}),Me("path",{id:"path4517",d:"m 76.9375,124.66248 c -4.548745,6.50695 -9.29087,13.29053 -13.530749,18.69724 -4.239879,5.4067 -8.072459,9.57255 -11.572943,13.98975 -3.500484,4.41719 -6.66636,9.08269 -9.333429,13.99996 -2.66707,4.91727 -4.833205,10.08267 -6.333458,15.08327 -1.500252,5.0006 -2.33339,9.8328 -2.500149,14.33343 -0.166759,4.50062 0.333124,8.66631 1.249922,15.50064 0.916798,6.83434 2.249854,16.33237 3.499902,24.91604 1.250047,8.58368 2.416611,16.24967 4.583438,28.58394 2.166827,12.33427 5.333153,29.33244 8.499966,46.33323",style:{display:"inline",fill:"none",stroke:"#000000","stroke-width":"1px","stroke-linecap":"butt","stroke-linejoin":"miter","stroke-opacity":"1"}}),Me("path",{id:"path4521",d:"m 96.8125,126.22498 c 6.89586,6.45836 13.7917,12.9167 19.98957,19.14581 6.19786,6.22912 11.69789,12.22914 17.11456,18.39581 5.41666,6.16667 10.74996,12.49995 14.74993,17.91655 3.99997,5.41659 6.66659,9.91653 7.16671,17.83316 0.50012,7.91664 -1.16644,19.24921 -3.3502,31.24619 -2.18376,11.99698 -4.81616,24.33632 -8.42063,38.99809 -3.60448,14.66177 -8.06212,31.17154 -12.56244,47.83939",style:{display:"inline",fill:"none",stroke:"#000000","stroke-width":"1px","stroke-linecap":"butt","stroke-linejoin":"miter","stroke-opacity":"1"}}),Me("path",{id:"path4525",d:"m 91.9375,124.09998 c 5.854072,7.16655 11.70824,14.33322 16.21863,20.16651 4.51039,5.83328 7.67706,10.33329 11.92718,16.33346 4.25012,6.00017 9.58322,13.49984 12.66653,18.58299 3.08332,5.08314 3.91663,7.74974 4.68205,10.91384 0.76542,3.1641 1.40129,6.50242 1.69781,8.02406 0.29651,1.52165 0.22299,1.06579 0.14933,0.60912",style:{display:"inline",fill:"none",stroke:"#000000","stroke-width":"1px","stroke-linecap":"butt","stroke-linejoin":"miter","stroke-opacity":"1"}}),Me("path",{id:"path4533",d:"m 89,123.66248 c 6.159885,11.51771 12.31996,23.03577 16.83724,31.78904 4.51728,8.75327 7.29964,14.54985 9.24424,18.32123 1.9446,3.77138 3.00519,5.42118 4.1838,9.19262 1.17861,3.77144 2.47477,9.6631 1.94443,23.80647 -0.53034,14.14338 -2.88706,36.53226 -5.4209,56.44951 -2.53383,19.91725 -5.24428,37.35836 -7.95503,54.80146",style:{display:"inline",fill:"none",stroke:"#000000","stroke-width":"1px","stroke-linecap":"butt","stroke-linejoin":"miter","stroke-opacity":"1"}}),Me("path",{id:"path4537",d:"m 87.0625,123.03748 c 2.916637,10.42937 5.833458,20.8594 7.291964,26.66356 1.458505,5.80416 1.458505,6.98257 2.402021,11.11052 0.943517,4.12795 2.827535,11.19302 4.065005,16.02501 1.23748,4.832 1.82668,7.42447 2.12139,10.84263 0.29471,3.41815 0.29471,7.65958 -0.11785,20.44893 -0.41255,12.78934 -1.23731,34.11536 -2.18014,53.62015 -0.94282,19.50478 -2.003429,37.18159 -3.064154,54.86032",style:{display:"inline",fill:"none",stroke:"#000000","stroke-width":"1px","stroke-linecap":"butt","stroke-linejoin":"miter","stroke-opacity":"1"}}),Me("path",{id:"path4541",d:"m 85.206367,122.98266 c 0.117841,11.74369 0.235693,23.48835 0.235693,36.55072 -10e-7,13.06238 -0.117833,27.43796 -0.05891,45.3521 0.05892,17.91413 0.29461,39.36153 0.707091,58.80738 0.412482,19.44585 1.001711,36.88701 1.590999,54.32995",style:{display:"inline",fill:"none",stroke:"#000000","stroke-width":"1px","stroke-linecap":"butt","stroke-linejoin":"miter","stroke-opacity":"1"}}),Me("path",{id:"path4545",d:"m 83.12978,122.92016 c -2.601311,10.56131 -5.214983,21.17282 -7.40283,31.41665 -2.187847,10.24384 -3.955407,20.14218 -5.074975,26.03483 -1.119568,5.89264 -1.59092,7.77805 -1.885708,10.07706 -0.294789,2.29901 -0.412567,5.0079 5.1e-5,17.56339 0.412617,12.55548 1.355064,34.93859 2.474996,54.74239 1.119932,19.80379 2.415574,37.00049 3.712005,54.20767",style:{display:"inline",fill:"none",stroke:"#000000","stroke-width":"1px","stroke-linecap":"butt","stroke-linejoin":"miter","stroke-opacity":"1"}}),Me("path",{id:"path4549",d:"m 79.25478,124.23266 c -5.440192,11.56251 -10.880951,23.12622 -15.899657,33.56368 -5.018706,10.43747 -9.614414,19.74672 -11.912808,26.70033 -2.298394,6.95362 -2.298394,11.54922 -1.355419,24.57415 0.942974,13.02493 2.828182,34.46917 5.066095,53.84746 2.237913,19.37829 4.833109,36.71892 7.425959,54.04387",style:{display:"inline",fill:"none",stroke:"#000000","stroke-width":"1px","stroke-linecap":"butt","stroke-linejoin":"miter","stroke-opacity":"1"}}),Me("path",{id:"path4556",d:"m 42.426407,155.38825 c 3.4184,0.82513 6.836082,1.65009 10.606997,2.18034 3.770916,0.53024 7.89657,0.76599 11.608535,0.88382 3.711965,0.11782 7.012548,0.11782 10.429711,0.0589 3.417163,-0.0589 6.953769,-0.17681 10.606588,-0.23572 3.652818,-0.0589 7.425155,-0.0589 11.137027,-0.23569 3.711875,-0.17679 7.366225,-0.53043 10.724475,-0.70716 3.35826,-0.17672 6.4233,-0.17672 9.48702,-0.58922 3.06372,-0.41251 6.12885,-1.23774 9.1918,-2.06238",style:{display:"inline",fill:"none",stroke:"#000000","stroke-width":"1px","stroke-linecap":"butt","stroke-linejoin":"miter","stroke-opacity":"1"}}),Me("path",{id:"path4560",d:"m 13.113199,198.16821 c 47.547038,0.40361 95.093071,0.80721 142.638101,1.2108",style:{display:"inline",fill:"none",stroke:"#000000","stroke-width":"1.00614154px","stroke-linecap":"butt","stroke-linejoin":"miter","stroke-opacity":"1"}}),Me("path",{id:"path4529",d:"m 132.6875,263.34998 c -4.2289,18.4155 -8.45806,36.83216 -12.6875,55.25",style:{display:"inline",fill:"none",stroke:"#000000","stroke-width":"1px","stroke-linecap":"butt","stroke-linejoin":"miter","stroke-opacity":"1"}}),Me("ellipse",{ry:"4.6715717",rx:"2.5",cy:"238.08525",cx:"119.12262",id:"path4614",style:{display:"inline",opacity:"1",fill:"#000000","fill-opacity":"1","fill-rule":"nonzero",stroke:"#000000","stroke-width":"1.00157475","stroke-miterlimit":"4","stroke-dasharray":"none","stroke-opacity":"1"}}),Me("ellipse",{ry:"4.3158579",rx:"4.9001703",cy:"4.3948641",cx:"85.016434",id:"path4616",style:{display:"inline",opacity:"1",fill:"#000000","fill-opacity":"1","fill-rule":"nonzero",stroke:"#000000","stroke-width":"0.82170224","stroke-miterlimit":"4","stroke-dasharray":"none","stroke-opacity":"1"}}),Me("ellipse",{transform:"translate(-170.14515,-0.038164)",ry:"3.880542",rx:"3.5777507",cy:"164.5713",cx:"321.42224",id:"path4565",style:{opacity:"1",fill:"#000000","fill-opacity":"1","fill-rule":"nonzero",stroke:"#000000","stroke-width":"1.00157475","stroke-miterlimit":"4","stroke-dasharray":"none","stroke-opacity":"1"}}),Me("path",{transform:"translate(-170.14515,-0.038164)",id:"path4567",d:"m 321.74355,168.0687 c -1e-5,3.3913 -3.42414,11.26702 -8.73834,11.26702 -5.3142,0 -18.59463,27.24606 -8.38477,3.759 1.35199,-3.11016 5.69513,-12.89881 10.50609,-15.15612 8.05545,-3.77965 6.61702,-3.26121 6.61702,0.1301 z",style:{opacity:"1",fill:"#000000","fill-opacity":"1","fill-rule":"nonzero",stroke:"#000000","stroke-width":"1.00157475","stroke-miterlimit":"4","stroke-dasharray":"none","stroke-opacity":"1"}}),Me("path",{transform:"translate(-170.14515,-0.038164)",id:"path4570",d:"m 325,163.45184 c 1.66722,0.62594 3.33388,1.25167 3.33438,1.56444 5e-4,0.31276 -1.66671,0.31276 -3.33438,0.31276",style:{fill:"none",stroke:"#000000","stroke-width":"1px","stroke-linecap":"butt","stroke-linejoin":"miter","stroke-opacity":"1"}}),Me("path",{transform:"translate(-170.14515,-0.038164)",id:"path4578",d:"m 314.72098,177.37003 c -0.21488,1.64138 -0.42965,3.28197 0.28484,3.96351 0.71449,0.68155 2.35396,0.39999 3.99418,0.1183",style:{fill:"none",stroke:"#000000","stroke-width":"1px","stroke-linecap":"butt","stroke-linejoin":"miter","stroke-opacity":"1"}}),Me("path",{transform:"translate(-170.14515,-0.038164)",id:"path4578-1",d:"m 316,176.45184 c -0.29612,1.41007 -0.59214,2.81967 -0.25801,3.48764 0.33413,0.66798 1.29605,0.59017 2.25801,0.51236",style:{fill:"none",stroke:"#000000","stroke-width":"1px","stroke-linecap":"butt","stroke-linejoin":"miter","stroke-opacity":"1"}}),Me("path",{transform:"translate(-170.14515,-0.038164)",id:"path4610",d:"m 318,180.45184 c 0.66667,0 1.33434,0 1.501,0.16616 0.16667,0.16617 -0.16667,0.49951 0.001,0.66667 0.16767,0.16717 0.68771,0.16717 0.89053,0.36949 0.20282,0.20233 -0.0582,0.46335 -0.39253,0.79768",style:{fill:"none",stroke:"#000000","stroke-width":"1px","stroke-linecap":"butt","stroke-linejoin":"miter","stroke-opacity":"1"}}),Me("path",{id:"path4573",d:"m 155,199.59998 34.15106,6.52318 v 11.49049 l -1.06066,13.43503 -3.88908,19.44543 -3.00521,10.42983 -4.06586,12.19759 -17.14734,-4.94975 -14.92431,-4.65869 v 0 L 155,199.59998",style:{fill:"none",stroke:"#000000","stroke-width":"1px","stroke-linecap":"butt","stroke-linejoin":"miter","stroke-opacity":"1"}}),Me("path",{id:"path4575",d:"m 172.53405,202.94118 -2.65165,33.23402 -3.53553,16.97056 -5.12652,15.73313",style:{fill:"none",stroke:"#000000","stroke-width":"1px","stroke-linecap":"butt","stroke-linejoin":"miter","stroke-opacity":"1"}}),Me("path",{id:"path4579",d:"m 187.2662,239.00256 c 0.76634,-0.82482 2.12163,-2.00333 3.50552,-2.26818 1.38389,-0.26485 2.79921,0.38383 3.2412,1.53192 0.442,1.14808 -0.0885,2.79852 -1.5624,3.24089 -1.4739,0.44236 -3.88809,-0.32312 -3.7995,0.001 0.0886,0.32427 2.68064,1.73812 4.00626,3.12221 1.32563,1.38408 1.38456,2.73956 0.79537,3.38822 -0.5892,0.64866 -1.82576,0.58977 -2.53349,0.11762 -0.70773,-0.47215 -0.88437,-1.35536 -1.59092,-2.65068 -0.70656,-1.29532 -1.94507,-3.00565 -2.47512,-4.09626 -0.53005,-1.09062 -0.35326,-1.56206 0.41308,-2.38689 z",style:{fill:"#000000","fill-opacity":"1",stroke:"#000000","stroke-width":"1px","stroke-linecap":"butt","stroke-linejoin":"miter","stroke-opacity":"1"}})])])]),Me("g",{id:"layer3"},[Me("g",{id:"text4526",style:{fill:"url(#Strips2_1)","fill-opacity":"1",stroke:"none","stroke-width":"1.23488784"},transform:"matrix(0.97168718,0,0,1.0291378,170.14515,0.038164)","aria-label":"4"},[Me("path",{id:"path4555",style:{fill:"url(#Strips2_1)","fill-opacity":"1",stroke:"#000000","stroke-width":"1.23488784","stroke-opacity":"1"},d:"M -0.46490841,256.59082 H -26.166013 v 43.5298 h -41.214384 v -43.5298 h -75.829833 l -9.95629,-15.28174 64.136994,-140.0826 h 8.914347 l 33.573515,15.8606 -48.507941,89.60655 -11.461305,19.56526 h 39.130513 l 4.399288,-43.06672 h 36.815096 v 43.06672 h 25.70110459 z"})]),Me("g",{id:"text4526-2",style:{fill:"url(#Strips2_1)","fill-opacity":"1",stroke:"none","stroke-width":"1.23488784"},transform:"matrix(0.97168718,0,0,1.0291378,377.95605,103.2934)","aria-label":"4"},[Me("path",{id:"path4558",style:{fill:"url(#Strips2_1)","fill-opacity":"1",stroke:"#000000","stroke-width":"1.23488784","stroke-opacity":"1"},d:"m 147.55592,156.33602 h -25.70111 v 43.5298 H 80.640431 v -43.5298 H 4.8105946 L -5.1456892,141.05429 58.991302,0.97168512 h 8.914347 L 101.47916,16.832277 52.971223,106.43883 41.50992,126.00409 h 39.130511 l 4.399288,-43.06672 h 36.815091 v 43.06672 h 25.70111 z"})])])],-1),Me("p",{id:"errorText",class:"text-center"},"Oh no! Qualcosa si è rotto...",-1),Me("a",{id:"errorLink",href:"/"},"Torna alla Home",-1)]))}const rSe=KC(iSe,[["render",sSe],["__scopeId","data-v-d59d52b5"]]),n9=tne({history:Dte("/teachers-agenda"),routes:[{path:"/",name:"home",meta:{requiresAuth:!0},component:wV},{path:"/school/:id",meta:{requiresAuth:!0,transition:"v-slide-x-transition"},component:Mwe},{path:"/lesson/:id",name:"lesson",meta:{requiresAuth:!0},component:Hbe},{path:"/recoveries",name:"recoveries",meta:{requiresAuth:!0},component:wV},{path:"/calendar",name:"calendar",meta:{requiresAuth:!0},component:_be},{path:"/statistics",name:"statistics",meta:{requiresAuth:!0},component:tSe},{path:"/settings",name:"settings",meta:{requiresAuth:!0},component:Vwe},{path:"/login",name:"login",component:ewe},{path:"/debugger",name:"debugger",meta:{requiresAuth:!0},component:Xbe},{path:"/:pathMatch(.*)*",component:rSe}]});n9.beforeEach(async t=>{if(t.name=="login"&&await fD())return{path:"/"};if(t.meta.requiresAuth&&!await fD())return{path:"/login",query:{redirect:t.fullPath}}});const aSe=()=>{window.onerror=function(e,n,i){return xl.instance.push(Hn.EXCEPTION,{error:e,url:n,line:i}),!1},window.onunhandledrejection=function(e){try{const n={message:e.reason.message,stack:e.reason.stack};xl.instance.push(Hn.PROMISE_REJECTION,n)}catch{xl.instance.push(Hn.PROMISE_REJECTION,e)}};function t(e){const n=console[e].bind(console);return function(...i){let s=Hn.INFO;e=="error"?s=Hn.ERROR:e=="warn"&&(s=Hn.WARNING),xl.instance.push(s,...Array.from(i)),n.apply(console,i)}}["log","error","warn"].forEach(e=>{console[e]=t(e)})};"true".toLowerCase()==="true"&&aSe();const{firebaseApp:oSe}=Ice(),Yc=ZL(lue);Yc.config.performance=!0;Yc.use(qz());Yc.use(n9);Yc.use(Cve);Yc.use(Jee,{firebaseApp:oSe,modules:[Xee()]});Yc.use(c2,{autoClose:3e3});Yc.mount("#app");
