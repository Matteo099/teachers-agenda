var a3=Object.defineProperty;var l3=(e,t,n)=>t in e?a3(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var An=(e,t,n)=>l3(e,typeof t!="symbol"?t+"":t,n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();/**
* @vue/shared v3.5.7
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function dS(e){const t=Object.create(null);for(const n of e.split(","))t[n]=1;return n=>n in t}const Wt={},Bu=[],Cs=()=>{},u3=()=>!1,Zg=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),fS=e=>e.startsWith("onUpdate:"),zn=Object.assign,hS=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},c3=Object.prototype.hasOwnProperty,qt=(e,t)=>c3.call(e,t),st=Array.isArray,Uu=e=>ep(e)==="[object Map]",VR=e=>ep(e)==="[object Set]",vt=e=>typeof e=="function",Dn=e=>typeof e=="string",Ta=e=>typeof e=="symbol",pn=e=>e!==null&&typeof e=="object",NR=e=>(pn(e)||vt(e))&&vt(e.then)&&vt(e.catch),MR=Object.prototype.toString,ep=e=>MR.call(e),d3=e=>ep(e).slice(8,-1),LR=e=>ep(e)==="[object Object]",vS=e=>Dn(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Ud=dS(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),tp=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},f3=/-(\w)/g,ur=tp(e=>e.replace(f3,(t,n)=>n?n.toUpperCase():"")),h3=/\B([A-Z])/g,Ia=tp(e=>e.replace(h3,"-$1").toLowerCase()),Fs=tp(e=>e.charAt(0).toUpperCase()+e.slice(1)),sy=tp(e=>e?`on${Fs(e)}`:""),nr=(e,t)=>!Object.is(e,t),Xv=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},FR=(e,t,n,i=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:i,value:n})},yb=e=>{const t=parseFloat(e);return isNaN(t)?e:t},v3=e=>{const t=Dn(e)?Number(e):NaN;return isNaN(t)?e:t};let Lk;const $R=()=>Lk||(Lk=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function np(e){if(st(e)){const t={};for(let n=0;n<e.length;n++){const i=e[n],r=Dn(i)?_3(i):np(i);if(r)for(const s in r)t[s]=r[s]}return t}else if(Dn(e)||pn(e))return e}const m3=/;(?![^(]*\))/g,g3=/:([^]+)/,p3=/\/\*[^]*?\*\//g;function _3(e){const t={};return e.replace(p3,"").split(m3).forEach(n=>{if(n){const i=n.split(g3);i.length>1&&(t[i[0].trim()]=i[1].trim())}}),t}function ip(e){let t="";if(Dn(e))t=e;else if(st(e))for(let n=0;n<e.length;n++){const i=ip(e[n]);i&&(t+=i+" ")}else if(pn(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}function BR(e){if(!e)return null;let{class:t,style:n}=e;return t&&!Dn(t)&&(e.class=ip(t)),n&&(e.style=np(n)),e}const y3="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",b3=dS(y3);function UR(e){return!!e||e===""}const jR=e=>!!(e&&e.__v_isRef===!0),ht=e=>Dn(e)?e:e==null?"":st(e)||pn(e)&&(e.toString===MR||!vt(e.toString))?jR(e)?ht(e.value):JSON.stringify(e,HR,2):String(e),HR=(e,t)=>jR(t)?HR(e,t.value):Uu(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[i,r],s)=>(n[oy(i,s)+" =>"]=r,n),{})}:VR(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>oy(n))}:Ta(t)?oy(t):pn(t)&&!st(t)&&!LR(t)?String(t):t,oy=(e,t="")=>{var n;return Ta(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};/**
* @vue/reactivity v3.5.7
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Gi;class WR{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Gi,!t&&Gi&&(this.index=(Gi.scopes||(Gi.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].pause();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].resume();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].resume()}}run(t){if(this._active){const n=Gi;try{return Gi=this,t()}finally{Gi=n}}}on(){Gi=this}off(){Gi=this.parent}stop(t){if(this._active){let n,i;for(n=0,i=this.effects.length;n<i;n++)this.effects[n].stop();for(n=0,i=this.cleanups.length;n<i;n++)this.cleanups[n]();if(this.scopes)for(n=0,i=this.scopes.length;n<i;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!t){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0,this._active=!1}}}function ch(e){return new WR(e)}function zR(){return Gi}function ki(e,t=!1){Gi&&Gi.cleanups.push(e)}let ln;const ay=new WeakSet;class GR{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Gi&&Gi.active&&Gi.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,ay.has(this)&&(ay.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||YR(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Fk(this),KR(this);const t=ln,n=es;ln=this,es=!0;try{return this.fn()}finally{XR(this),ln=t,es=n,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)pS(t);this.deps=this.depsTail=void 0,Fk(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?ay.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){bb(this)&&this.run()}get dirty(){return bb(this)}}let qR=0,jd;function YR(e){e.flags|=8,e.next=jd,jd=e}function mS(){qR++}function gS(){if(--qR>0)return;let e;for(;jd;){let t=jd;for(jd=void 0;t;){const n=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(i){e||(e=i)}t=n}}if(e)throw e}function KR(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function XR(e){let t,n=e.depsTail,i=n;for(;i;){const r=i.prevDep;i.version===-1?(i===n&&(n=r),pS(i),w3(i)):t=i,i.dep.activeLink=i.prevActiveLink,i.prevActiveLink=void 0,i=r}e.deps=t,e.depsTail=n}function bb(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(QR(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function QR(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===df))return;e.globalVersion=df;const t=e.dep;if(e.flags|=2,t.version>0&&!e.isSSR&&e.deps&&!bb(e)){e.flags&=-3;return}const n=ln,i=es;ln=e,es=!0;try{KR(e);const r=e.fn(e._value);(t.version===0||nr(r,e._value))&&(e._value=r,t.version++)}catch(r){throw t.version++,r}finally{ln=n,es=i,XR(e),e.flags&=-3}}function pS(e,t=!1){const{dep:n,prevSub:i,nextSub:r}=e;if(i&&(i.nextSub=r,e.prevSub=void 0),r&&(r.prevSub=i,e.nextSub=void 0),n.subs===e&&(n.subs=i),!n.subs)if(n.computed){n.computed.flags&=-5;for(let s=n.computed.deps;s;s=s.nextDep)pS(s,!0)}else n.map&&!t&&(n.map.delete(n.key),n.map.size||ff.delete(n.target))}function w3(e){const{prevDep:t,nextDep:n}=e;t&&(t.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=t,e.nextDep=void 0)}let es=!0;const JR=[];function Aa(){JR.push(es),es=!1}function Pa(){const e=JR.pop();es=e===void 0?!0:e}function Fk(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const n=ln;ln=void 0;try{t()}finally{ln=n}}}let df=0;class S3{constructor(t,n){this.sub=t,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class rp{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.target=void 0,this.map=void 0,this.key=void 0}track(t){if(!ln||!es||ln===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==ln)n=this.activeLink=new S3(ln,this),ln.deps?(n.prevDep=ln.depsTail,ln.depsTail.nextDep=n,ln.depsTail=n):ln.deps=ln.depsTail=n,ln.flags&4&&ZR(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const i=n.nextDep;i.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=i),n.prevDep=ln.depsTail,n.nextDep=void 0,ln.depsTail.nextDep=n,ln.depsTail=n,ln.deps===n&&(ln.deps=i)}return n}trigger(t){this.version++,df++,this.notify(t)}notify(t){mS();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{gS()}}}function ZR(e){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let i=t.deps;i;i=i.nextDep)ZR(i)}const n=e.dep.subs;n!==e&&(e.prevSub=n,n&&(n.nextSub=e)),e.dep.subs=e}const ff=new WeakMap,vl=Symbol(""),wb=Symbol(""),hf=Symbol("");function Ui(e,t,n){if(es&&ln){let i=ff.get(e);i||ff.set(e,i=new Map);let r=i.get(n);r||(i.set(n,r=new rp),r.target=e,r.map=i,r.key=n),r.track()}}function ho(e,t,n,i,r,s){const o=ff.get(e);if(!o){df++;return}const a=l=>{l&&l.trigger()};if(mS(),t==="clear")o.forEach(a);else{const l=st(e),u=l&&vS(n);if(l&&n==="length"){const d=Number(i);o.forEach((c,f)=>{(f==="length"||f===hf||!Ta(f)&&f>=d)&&a(c)})}else switch(n!==void 0&&a(o.get(n)),u&&a(o.get(hf)),t){case"add":l?u&&a(o.get("length")):(a(o.get(vl)),Uu(e)&&a(o.get(wb)));break;case"delete":l||(a(o.get(vl)),Uu(e)&&a(o.get(wb)));break;case"set":Uu(e)&&a(o.get(vl));break}}gS()}function E3(e,t){var n;return(n=ff.get(e))==null?void 0:n.get(t)}function gu(e){const t=Ge(e);return t===e?t:(Ui(t,"iterate",hf),$r(e)?t:t.map(Oi))}function sp(e){return Ui(e=Ge(e),"iterate",hf),e}const C3={__proto__:null,[Symbol.iterator](){return ly(this,Symbol.iterator,Oi)},concat(...e){return gu(this).concat(...e.map(t=>st(t)?gu(t):t))},entries(){return ly(this,"entries",e=>(e[1]=Oi(e[1]),e))},every(e,t){return Xs(this,"every",e,t,void 0,arguments)},filter(e,t){return Xs(this,"filter",e,t,n=>n.map(Oi),arguments)},find(e,t){return Xs(this,"find",e,t,Oi,arguments)},findIndex(e,t){return Xs(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return Xs(this,"findLast",e,t,Oi,arguments)},findLastIndex(e,t){return Xs(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return Xs(this,"forEach",e,t,void 0,arguments)},includes(...e){return uy(this,"includes",e)},indexOf(...e){return uy(this,"indexOf",e)},join(e){return gu(this).join(e)},lastIndexOf(...e){return uy(this,"lastIndexOf",e)},map(e,t){return Xs(this,"map",e,t,void 0,arguments)},pop(){return gd(this,"pop")},push(...e){return gd(this,"push",e)},reduce(e,...t){return $k(this,"reduce",e,t)},reduceRight(e,...t){return $k(this,"reduceRight",e,t)},shift(){return gd(this,"shift")},some(e,t){return Xs(this,"some",e,t,void 0,arguments)},splice(...e){return gd(this,"splice",e)},toReversed(){return gu(this).toReversed()},toSorted(e){return gu(this).toSorted(e)},toSpliced(...e){return gu(this).toSpliced(...e)},unshift(...e){return gd(this,"unshift",e)},values(){return ly(this,"values",Oi)}};function ly(e,t,n){const i=sp(e),r=i[t]();return i!==e&&!$r(e)&&(r._next=r.next,r.next=()=>{const s=r._next();return s.value&&(s.value=n(s.value)),s}),r}const k3=Array.prototype;function Xs(e,t,n,i,r,s){const o=sp(e),a=o!==e&&!$r(e),l=o[t];if(l!==k3[t]){const c=l.apply(e,s);return a?Oi(c):c}let u=n;o!==e&&(a?u=function(c,f){return n.call(this,Oi(c),f,e)}:n.length>2&&(u=function(c,f){return n.call(this,c,f,e)}));const d=l.call(o,u,i);return a&&r?r(d):d}function $k(e,t,n,i){const r=sp(e);let s=n;return r!==e&&($r(e)?n.length>3&&(s=function(o,a,l){return n.call(this,o,a,l,e)}):s=function(o,a,l){return n.call(this,o,Oi(a),l,e)}),r[t](s,...i)}function uy(e,t,n){const i=Ge(e);Ui(i,"iterate",hf);const r=i[t](...n);return(r===-1||r===!1)&&wS(n[0])?(n[0]=Ge(n[0]),i[t](...n)):r}function gd(e,t,n=[]){Aa(),mS();const i=Ge(e)[t].apply(e,n);return gS(),Pa(),i}const T3=dS("__proto__,__v_isRef,__isVue"),eO=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Ta));function I3(e){Ta(e)||(e=String(e));const t=Ge(this);return Ui(t,"has",e),t.hasOwnProperty(e)}class tO{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,i){const r=this._isReadonly,s=this._isShallow;if(n==="__v_isReactive")return!r;if(n==="__v_isReadonly")return r;if(n==="__v_isShallow")return s;if(n==="__v_raw")return i===(r?s?B3:sO:s?rO:iO).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(i)?t:void 0;const o=st(t);if(!r){let l;if(o&&(l=C3[n]))return l;if(n==="hasOwnProperty")return I3}const a=Reflect.get(t,n,Je(t)?t:i);return(Ta(n)?eO.has(n):T3(n))||(r||Ui(t,"get",n),s)?a:Je(a)?o&&vS(n)?a:a.value:pn(a)?r?xc(a):cn(a):a}}class nO extends tO{constructor(t=!1){super(!1,t)}set(t,n,i,r){let s=t[n];if(!this._isShallow){const l=El(s);if(!$r(i)&&!El(i)&&(s=Ge(s),i=Ge(i)),!st(t)&&Je(s)&&!Je(i))return l?!1:(s.value=i,!0)}const o=st(t)&&vS(n)?Number(n)<t.length:qt(t,n),a=Reflect.set(t,n,i,Je(t)?t:r);return t===Ge(r)&&(o?nr(i,s)&&ho(t,"set",n,i):ho(t,"add",n,i)),a}deleteProperty(t,n){const i=qt(t,n);t[n];const r=Reflect.deleteProperty(t,n);return r&&i&&ho(t,"delete",n,void 0),r}has(t,n){const i=Reflect.has(t,n);return(!Ta(n)||!eO.has(n))&&Ui(t,"has",n),i}ownKeys(t){return Ui(t,"iterate",st(t)?"length":vl),Reflect.ownKeys(t)}}class A3 extends tO{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const P3=new nO,x3=new A3,D3=new nO(!0);const _S=e=>e,op=e=>Reflect.getPrototypeOf(e);function cv(e,t,n=!1,i=!1){e=e.__v_raw;const r=Ge(e),s=Ge(t);n||(nr(t,s)&&Ui(r,"get",t),Ui(r,"get",s));const{has:o}=op(r),a=i?_S:n?ES:Oi;if(o.call(r,t))return a(e.get(t));if(o.call(r,s))return a(e.get(s));e!==r&&e.get(t)}function dv(e,t=!1){const n=this.__v_raw,i=Ge(n),r=Ge(e);return t||(nr(e,r)&&Ui(i,"has",e),Ui(i,"has",r)),e===r?n.has(e):n.has(e)||n.has(r)}function fv(e,t=!1){return e=e.__v_raw,!t&&Ui(Ge(e),"iterate",vl),Reflect.get(e,"size",e)}function Bk(e,t=!1){!t&&!$r(e)&&!El(e)&&(e=Ge(e));const n=Ge(this);return op(n).has.call(n,e)||(n.add(e),ho(n,"add",e,e)),this}function Uk(e,t,n=!1){!n&&!$r(t)&&!El(t)&&(t=Ge(t));const i=Ge(this),{has:r,get:s}=op(i);let o=r.call(i,e);o||(e=Ge(e),o=r.call(i,e));const a=s.call(i,e);return i.set(e,t),o?nr(t,a)&&ho(i,"set",e,t):ho(i,"add",e,t),this}function jk(e){const t=Ge(this),{has:n,get:i}=op(t);let r=n.call(t,e);r||(e=Ge(e),r=n.call(t,e)),i&&i.call(t,e);const s=t.delete(e);return r&&ho(t,"delete",e,void 0),s}function Hk(){const e=Ge(this),t=e.size!==0,n=e.clear();return t&&ho(e,"clear",void 0,void 0),n}function hv(e,t){return function(i,r){const s=this,o=s.__v_raw,a=Ge(o),l=t?_S:e?ES:Oi;return!e&&Ui(a,"iterate",vl),o.forEach((u,d)=>i.call(r,l(u),l(d),s))}}function vv(e,t,n){return function(...i){const r=this.__v_raw,s=Ge(r),o=Uu(s),a=e==="entries"||e===Symbol.iterator&&o,l=e==="keys"&&o,u=r[e](...i),d=n?_S:t?ES:Oi;return!t&&Ui(s,"iterate",l?wb:vl),{next(){const{value:c,done:f}=u.next();return f?{value:c,done:f}:{value:a?[d(c[0]),d(c[1])]:d(c),done:f}},[Symbol.iterator](){return this}}}}function Uo(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function R3(){const e={get(s){return cv(this,s)},get size(){return fv(this)},has:dv,add:Bk,set:Uk,delete:jk,clear:Hk,forEach:hv(!1,!1)},t={get(s){return cv(this,s,!1,!0)},get size(){return fv(this)},has:dv,add(s){return Bk.call(this,s,!0)},set(s,o){return Uk.call(this,s,o,!0)},delete:jk,clear:Hk,forEach:hv(!1,!0)},n={get(s){return cv(this,s,!0)},get size(){return fv(this,!0)},has(s){return dv.call(this,s,!0)},add:Uo("add"),set:Uo("set"),delete:Uo("delete"),clear:Uo("clear"),forEach:hv(!0,!1)},i={get(s){return cv(this,s,!0,!0)},get size(){return fv(this,!0)},has(s){return dv.call(this,s,!0)},add:Uo("add"),set:Uo("set"),delete:Uo("delete"),clear:Uo("clear"),forEach:hv(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(s=>{e[s]=vv(s,!1,!1),n[s]=vv(s,!0,!1),t[s]=vv(s,!1,!0),i[s]=vv(s,!0,!0)}),[e,n,t,i]}const[O3,V3,N3,M3]=R3();function yS(e,t){const n=t?e?M3:N3:e?V3:O3;return(i,r,s)=>r==="__v_isReactive"?!e:r==="__v_isReadonly"?e:r==="__v_raw"?i:Reflect.get(qt(n,r)&&r in i?n:i,r,s)}const L3={get:yS(!1,!1)},F3={get:yS(!1,!0)},$3={get:yS(!0,!1)};const iO=new WeakMap,rO=new WeakMap,sO=new WeakMap,B3=new WeakMap;function U3(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function j3(e){return e.__v_skip||!Object.isExtensible(e)?0:U3(d3(e))}function cn(e){return El(e)?e:bS(e,!1,P3,L3,iO)}function oO(e){return bS(e,!1,D3,F3,rO)}function xc(e){return bS(e,!0,x3,$3,sO)}function bS(e,t,n,i,r){if(!pn(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const s=r.get(e);if(s)return s;const o=j3(e);if(o===0)return e;const a=new Proxy(e,o===2?i:n);return r.set(e,a),a}function ml(e){return El(e)?ml(e.__v_raw):!!(e&&e.__v_isReactive)}function El(e){return!!(e&&e.__v_isReadonly)}function $r(e){return!!(e&&e.__v_isShallow)}function wS(e){return e?!!e.__v_raw:!1}function Ge(e){const t=e&&e.__v_raw;return t?Ge(t):e}function SS(e){return!qt(e,"__v_skip")&&Object.isExtensible(e)&&FR(e,"__v_skip",!0),e}const Oi=e=>pn(e)?cn(e):e,ES=e=>pn(e)?xc(e):e;function Je(e){return e?e.__v_isRef===!0:!1}function W(e){return aO(e,!1)}function ke(e){return aO(e,!0)}function aO(e,t){return Je(e)?e:new H3(e,t)}class H3{constructor(t,n){this.dep=new rp,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?t:Ge(t),this._value=n?t:Oi(t),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(t){const n=this._rawValue,i=this.__v_isShallow||$r(t)||El(t);t=i?t:Ge(t),nr(t,n)&&(this._rawValue=t,this._value=i?t:Oi(t),this.dep.trigger())}}function oe(e){return Je(e)?e.value:e}function fn(e){return vt(e)?e():oe(e)}const W3={get:(e,t,n)=>t==="__v_raw"?e:oe(Reflect.get(e,t,n)),set:(e,t,n,i)=>{const r=e[t];return Je(r)&&!Je(n)?(r.value=n,!0):Reflect.set(e,t,n,i)}};function lO(e){return ml(e)?e:new Proxy(e,W3)}class z3{constructor(t){this.__v_isRef=!0,this._value=void 0;const n=this.dep=new rp,{get:i,set:r}=t(n.track.bind(n),n.trigger.bind(n));this._get=i,this._set=r}get value(){return this._value=this._get()}set value(t){this._set(t)}}function G3(e){return new z3(e)}function xa(e){const t=st(e)?new Array(e.length):{};for(const n in e)t[n]=uO(e,n);return t}class q3{constructor(t,n,i){this._object=t,this._key=n,this._defaultValue=i,this.__v_isRef=!0,this._value=void 0}get value(){const t=this._object[this._key];return this._value=t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return E3(Ge(this._object),this._key)}}class Y3{constructor(t){this._getter=t,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function de(e,t,n){return Je(e)?e:vt(e)?new Y3(e):pn(e)&&arguments.length>1?uO(e,t,n):W(e)}function uO(e,t,n){const i=e[t];return Je(i)?i:new q3(e,t,n)}class K3{constructor(t,n,i){this.fn=t,this.setter=n,this._value=void 0,this.dep=new rp(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=df-1,this.effect=this,this.__v_isReadonly=!n,this.isSSR=i}notify(){if(this.flags|=16,!(this.flags&8)&&ln!==this)return YR(this),!0}get value(){const t=this.dep.track();return QR(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function X3(e,t,n=!1){let i,r;return vt(e)?i=e:(i=e.get,r=e.set),new K3(i,r,n)}const mv={},Im=new WeakMap;let Xa;function Q3(e,t=!1,n=Xa){if(n){let i=Im.get(n);i||Im.set(n,i=[]),i.push(e)}}function J3(e,t,n=Wt){const{immediate:i,deep:r,once:s,scheduler:o,augmentJob:a,call:l}=n,u=k=>r?k:$r(k)||r===!1||r===0?no(k,1):no(k);let d,c,f,v,m=!1,p=!1;if(Je(e)?(c=()=>e.value,m=$r(e)):ml(e)?(c=()=>u(e),m=!0):st(e)?(p=!0,m=e.some(k=>ml(k)||$r(k)),c=()=>e.map(k=>{if(Je(k))return k.value;if(ml(k))return u(k);if(vt(k))return l?l(k,2):k()})):vt(e)?t?c=l?()=>l(e,2):e:c=()=>{if(f){Aa();try{f()}finally{Pa()}}const k=Xa;Xa=d;try{return l?l(e,3,[v]):e(v)}finally{Xa=k}}:c=Cs,t&&r){const k=c,R=r===!0?1/0:r;c=()=>no(k(),R)}const _=zR(),y=()=>{d.stop(),_&&hS(_.effects,d)};if(s&&t){const k=t;t=(...R)=>{k(...R),y()}}let b=p?new Array(e.length).fill(mv):mv;const C=k=>{if(!(!(d.flags&1)||!d.dirty&&!k))if(t){const R=d.run();if(r||m||(p?R.some((O,x)=>nr(O,b[x])):nr(R,b))){f&&f();const O=Xa;Xa=d;try{const x=[R,b===mv?void 0:p&&b[0]===mv?[]:b,v];l?l(t,3,x):t(...x),b=R}finally{Xa=O}}}else d.run()};return a&&a(C),d=new GR(c),d.scheduler=o?()=>o(C,!1):C,v=k=>Q3(k,!1,d),f=d.onStop=()=>{const k=Im.get(d);if(k){if(l)l(k,4);else for(const R of k)R();Im.delete(d)}},t?i?C(!0):b=d.run():o?o(C.bind(null,!0),!0):d.run(),y.pause=d.pause.bind(d),y.resume=d.resume.bind(d),y.stop=y,y}function no(e,t=1/0,n){if(t<=0||!pn(e)||e.__v_skip||(n=n||new Set,n.has(e)))return e;if(n.add(e),t--,Je(e))no(e.value,t,n);else if(st(e))for(let i=0;i<e.length;i++)no(e[i],t,n);else if(VR(e)||Uu(e))e.forEach(i=>{no(i,t,n)});else if(LR(e)){for(const i in e)no(e[i],t,n);for(const i of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,i)&&no(e[i],t,n)}return e}/**
* @vue/runtime-core v3.5.7
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function dh(e,t,n,i){try{return i?e(...i):e()}catch(r){ap(r,t,n)}}function rs(e,t,n,i){if(vt(e)){const r=dh(e,t,n,i);return r&&NR(r)&&r.catch(s=>{ap(s,t,n)}),r}if(st(e)){const r=[];for(let s=0;s<e.length;s++)r.push(rs(e[s],t,n,i));return r}}function ap(e,t,n,i=!0){const r=t?t.vnode:null,{errorHandler:s,throwUnhandledErrorInProduction:o}=t&&t.appContext.config||Wt;if(t){let a=t.parent;const l=t.proxy,u=`https://vuejs.org/error-reference/#runtime-${n}`;for(;a;){const d=a.ec;if(d){for(let c=0;c<d.length;c++)if(d[c](e,l,u)===!1)return}a=a.parent}if(s){Aa(),dh(s,null,10,[e,l,u]),Pa();return}}Z3(e,n,r,i,o)}function Z3(e,t,n,i=!0,r=!1){if(r)throw e;console.error(e)}let vf=!1,Sb=!1;const Yi=[];let gs=0;const ju=[];let qo=null,Iu=0;const cO=Promise.resolve();let CS=null;function at(e){const t=CS||cO;return e?t.then(this?e.bind(this):e):t}function ej(e){let t=vf?gs+1:0,n=Yi.length;for(;t<n;){const i=t+n>>>1,r=Yi[i],s=mf(r);s<e||s===e&&r.flags&2?t=i+1:n=i}return t}function kS(e){if(!(e.flags&1)){const t=mf(e),n=Yi[Yi.length-1];!n||!(e.flags&2)&&t>=mf(n)?Yi.push(e):Yi.splice(ej(t),0,e),e.flags|=1,dO()}}function dO(){!vf&&!Sb&&(Sb=!0,CS=cO.then(hO))}function tj(e){st(e)?ju.push(...e):qo&&e.id===-1?qo.splice(Iu+1,0,e):e.flags&1||(ju.push(e),e.flags|=1),dO()}function Wk(e,t,n=vf?gs+1:0){for(;n<Yi.length;n++){const i=Yi[n];if(i&&i.flags&2){if(e&&i.id!==e.uid)continue;Yi.splice(n,1),n--,i.flags&4&&(i.flags&=-2),i(),i.flags&4||(i.flags&=-2)}}}function fO(e){if(ju.length){const t=[...new Set(ju)].sort((n,i)=>mf(n)-mf(i));if(ju.length=0,qo){qo.push(...t);return}for(qo=t,Iu=0;Iu<qo.length;Iu++){const n=qo[Iu];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}qo=null,Iu=0}}const mf=e=>e.id==null?e.flags&2?-1:1/0:e.id;function hO(e){Sb=!1,vf=!0;try{for(gs=0;gs<Yi.length;gs++){const t=Yi[gs];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),dh(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;gs<Yi.length;gs++){const t=Yi[gs];t&&(t.flags&=-2)}gs=0,Yi.length=0,fO(),vf=!1,CS=null,(Yi.length||ju.length)&&hO()}}let ui=null,vO=null;function Am(e){const t=ui;return ui=e,vO=e&&e.type.__scopeId||null,t}function N(e,t=ui,n){if(!t||e._n)return e;const i=(...r)=>{i._d&&tT(-1);const s=Am(t);let o;try{o=e(...r)}finally{Am(s),i._d&&tT(1)}return o};return i._n=!0,i._c=!0,i._d=!0,i}function _n(e,t){if(ui===null)return e;const n=hp(ui),i=e.dirs||(e.dirs=[]);for(let r=0;r<t.length;r++){let[s,o,a,l=Wt]=t[r];s&&(vt(s)&&(s={mounted:s,updated:s}),s.deep&&no(o),i.push({dir:s,instance:n,value:o,oldValue:void 0,arg:a,modifiers:l}))}return e}function za(e,t,n,i){const r=e.dirs,s=t&&t.dirs;for(let o=0;o<r.length;o++){const a=r[o];s&&(a.oldValue=s[o].value);let l=a.dir[i];l&&(Aa(),rs(l,n,8,[e.el,a,e,t]),Pa())}}const mO=Symbol("_vte"),gO=e=>e.__isTeleport,Hd=e=>e&&(e.disabled||e.disabled===""),nj=e=>e&&(e.defer||e.defer===""),zk=e=>typeof SVGElement<"u"&&e instanceof SVGElement,Gk=e=>typeof MathMLElement=="function"&&e instanceof MathMLElement,Eb=(e,t)=>{const n=e&&e.to;return Dn(n)?t?t(n):null:n},ij={name:"Teleport",__isTeleport:!0,process(e,t,n,i,r,s,o,a,l,u){const{mc:d,pc:c,pbc:f,o:{insert:v,querySelector:m,createText:p,createComment:_}}=u,y=Hd(t.props);let{shapeFlag:b,children:C,dynamicChildren:k}=t;if(e==null){const R=t.el=p(""),O=t.anchor=p("");v(R,n,i),v(O,n,i);const x=(w,E)=>{b&16&&(r&&r.isCE&&(r.ce._teleportTarget=w),d(C,w,E,r,s,o,a,l))},S=()=>{const w=t.target=Eb(t.props,m),E=_O(w,t,p,v);w&&(o!=="svg"&&zk(w)?o="svg":o!=="mathml"&&Gk(w)&&(o="mathml"),y||(x(w,E),Qv(t)))};y&&(x(n,O),Qv(t)),nj(t.props)?tr(S,s):S()}else{t.el=e.el,t.targetStart=e.targetStart;const R=t.anchor=e.anchor,O=t.target=e.target,x=t.targetAnchor=e.targetAnchor,S=Hd(e.props),w=S?n:O,E=S?R:x;if(o==="svg"||zk(O)?o="svg":(o==="mathml"||Gk(O))&&(o="mathml"),k?(f(e.dynamicChildren,k,w,r,s,o,a),NS(e,t,!0)):l||c(e,t,w,E,r,s,o,a,!1),y)S?t.props&&e.props&&t.props.to!==e.props.to&&(t.props.to=e.props.to):gv(t,n,R,u,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const A=t.target=Eb(t.props,m);A&&gv(t,A,null,u,0)}else S&&gv(t,O,x,u,1);Qv(t)}},remove(e,t,n,{um:i,o:{remove:r}},s){const{shapeFlag:o,children:a,anchor:l,targetStart:u,targetAnchor:d,target:c,props:f}=e;if(c&&(r(u),r(d)),s&&r(l),o&16){const v=s||!Hd(f);for(let m=0;m<a.length;m++){const p=a[m];i(p,t,n,v,!!p.dynamicChildren)}}},move:gv,hydrate:rj};function gv(e,t,n,{o:{insert:i},m:r},s=2){s===0&&i(e.targetAnchor,t,n);const{el:o,anchor:a,shapeFlag:l,children:u,props:d}=e,c=s===2;if(c&&i(o,t,n),(!c||Hd(d))&&l&16)for(let f=0;f<u.length;f++)r(u[f],t,n,2);c&&i(a,t,n)}function rj(e,t,n,i,r,s,{o:{nextSibling:o,parentNode:a,querySelector:l,insert:u,createText:d}},c){const f=t.target=Eb(t.props,l);if(f){const v=f._lpa||f.firstChild;if(t.shapeFlag&16)if(Hd(t.props))t.anchor=c(o(e),t,a(e),n,i,r,s),t.targetStart=v,t.targetAnchor=v&&o(v);else{t.anchor=o(e);let m=v;for(;m;){if(m&&m.nodeType===8){if(m.data==="teleport start anchor")t.targetStart=m;else if(m.data==="teleport anchor"){t.targetAnchor=m,f._lpa=t.targetAnchor&&o(t.targetAnchor);break}}m=o(m)}t.targetAnchor||_O(f,t,d,u),c(v&&o(v),t,f,n,i,r,s)}Qv(t)}return t.anchor&&o(t.anchor)}const pO=ij;function Qv(e){const t=e.ctx;if(t&&t.ut){let n=e.targetStart;for(;n&&n!==e.targetAnchor;)n.nodeType===1&&n.setAttribute("data-v-owner",t.uid),n=n.nextSibling;t.ut()}}function _O(e,t,n,i){const r=t.targetStart=n(""),s=t.targetAnchor=n("");return r[mO]=s,e&&(i(r,e),i(s,e)),s}const Yo=Symbol("_leaveCb"),pv=Symbol("_enterCb");function yO(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return bt(()=>{e.isMounted=!0}),di(()=>{e.isUnmounting=!0}),e}const Vr=[Function,Array],bO={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Vr,onEnter:Vr,onAfterEnter:Vr,onEnterCancelled:Vr,onBeforeLeave:Vr,onLeave:Vr,onAfterLeave:Vr,onLeaveCancelled:Vr,onBeforeAppear:Vr,onAppear:Vr,onAfterAppear:Vr,onAppearCancelled:Vr},wO=e=>{const t=e.subTree;return t.component?wO(t.component):t},sj={name:"BaseTransition",props:bO,setup(e,{slots:t}){const n=zl(),i=yO();return()=>{const r=t.default&&TS(t.default(),!0);if(!r||!r.length)return;const s=SO(r),o=Ge(e),{mode:a}=o;if(i.isLeaving)return cy(s);const l=qk(s);if(!l)return cy(s);let u=gf(l,o,i,n,f=>u=f);l.type!==Li&&Cl(l,u);const d=n.subTree,c=d&&qk(d);if(c&&c.type!==Li&&!el(l,c)&&wO(n).type!==Li){const f=gf(c,o,i,n);if(Cl(c,f),a==="out-in"&&l.type!==Li)return i.isLeaving=!0,f.afterLeave=()=>{i.isLeaving=!1,n.job.flags&8||n.update(),delete f.afterLeave},cy(s);a==="in-out"&&l.type!==Li&&(f.delayLeave=(v,m,p)=>{const _=EO(i,c);_[String(c.key)]=c,v[Yo]=()=>{m(),v[Yo]=void 0,delete u.delayedLeave},u.delayedLeave=p})}return s}}};function SO(e){let t=e[0];if(e.length>1){for(const n of e)if(n.type!==Li){t=n;break}}return t}const oj=sj;function EO(e,t){const{leavingVNodes:n}=e;let i=n.get(t.type);return i||(i=Object.create(null),n.set(t.type,i)),i}function gf(e,t,n,i,r){const{appear:s,mode:o,persisted:a=!1,onBeforeEnter:l,onEnter:u,onAfterEnter:d,onEnterCancelled:c,onBeforeLeave:f,onLeave:v,onAfterLeave:m,onLeaveCancelled:p,onBeforeAppear:_,onAppear:y,onAfterAppear:b,onAppearCancelled:C}=t,k=String(e.key),R=EO(n,e),O=(w,E)=>{w&&rs(w,i,9,E)},x=(w,E)=>{const A=E[1];O(w,E),st(w)?w.every(P=>P.length<=1)&&A():w.length<=1&&A()},S={mode:o,persisted:a,beforeEnter(w){let E=l;if(!n.isMounted)if(s)E=_||l;else return;w[Yo]&&w[Yo](!0);const A=R[k];A&&el(e,A)&&A.el[Yo]&&A.el[Yo](),O(E,[w])},enter(w){let E=u,A=d,P=c;if(!n.isMounted)if(s)E=y||u,A=b||d,P=C||c;else return;let D=!1;const B=w[pv]=$=>{D||(D=!0,$?O(P,[w]):O(A,[w]),S.delayedLeave&&S.delayedLeave(),w[pv]=void 0)};E?x(E,[w,B]):B()},leave(w,E){const A=String(e.key);if(w[pv]&&w[pv](!0),n.isUnmounting)return E();O(f,[w]);let P=!1;const D=w[Yo]=B=>{P||(P=!0,E(),B?O(p,[w]):O(m,[w]),w[Yo]=void 0,R[A]===e&&delete R[A])};R[A]=e,v?x(v,[w,D]):D()},clone(w){const E=gf(w,t,n,i,r);return r&&r(E),E}};return S}function cy(e){if(lp(e))return e=Ds(e),e.children=null,e}function qk(e){if(!lp(e))return gO(e.type)&&e.children?SO(e.children):e;const{shapeFlag:t,children:n}=e;if(n){if(t&16)return n[0];if(t&32&&vt(n.default))return n.default()}}function Cl(e,t){e.shapeFlag&6&&e.component?(e.transition=t,Cl(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function TS(e,t=!1,n){let i=[],r=0;for(let s=0;s<e.length;s++){let o=e[s];const a=n==null?o.key:String(n)+String(o.key!=null?o.key:s);o.type===Te?(o.patchFlag&128&&r++,i=i.concat(TS(o.children,t,a))):(t||o.type!==Li)&&i.push(a!=null?Ds(o,{key:a}):o)}if(r>1)for(let s=0;s<i.length;s++)i[s].patchFlag=-2;return i}/*! #__NO_SIDE_EFFECTS__ */function At(e,t){return vt(e)?zn({name:e.name},t,{setup:e}):e}function CO(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function kO(e){const t=zl(),n=ke(null);if(t){const r=t.refs===Wt?t.refs={}:t.refs;Object.defineProperty(r,e,{enumerable:!0,get:()=>n.value,set:s=>n.value=s})}return n}function Cb(e,t,n,i,r=!1){if(st(e)){e.forEach((m,p)=>Cb(m,t&&(st(t)?t[p]:t),n,i,r));return}if(Hu(i)&&!r)return;const s=i.shapeFlag&4?hp(i.component):i.el,o=r?null:s,{i:a,r:l}=e,u=t&&t.r,d=a.refs===Wt?a.refs={}:a.refs,c=a.setupState,f=Ge(c),v=c===Wt?()=>!1:m=>qt(f,m);if(u!=null&&u!==l&&(Dn(u)?(d[u]=null,v(u)&&(c[u]=null)):Je(u)&&(u.value=null)),vt(l))dh(l,a,12,[o,d]);else{const m=Dn(l),p=Je(l);if(m||p){const _=()=>{if(e.f){const y=m?v(l)?c[l]:d[l]:l.value;r?st(y)&&hS(y,s):st(y)?y.includes(s)||y.push(s):m?(d[l]=[s],v(l)&&(c[l]=d[l])):(l.value=[s],e.k&&(d[e.k]=l.value))}else m?(d[l]=o,v(l)&&(c[l]=o)):p&&(l.value=o,e.k&&(d[e.k]=o))};o?(_.id=-1,tr(_,n)):_()}}}const Hu=e=>!!e.type.__asyncLoader,lp=e=>e.type.__isKeepAlive;function TO(e,t){IO(e,"a",t)}function IS(e,t){IO(e,"da",t)}function IO(e,t,n=_i){const i=e.__wdc||(e.__wdc=()=>{let r=n;for(;r;){if(r.isDeactivated)return;r=r.parent}return e()});if(up(t,i,n),n){let r=n.parent;for(;r&&r.parent;)lp(r.parent.vnode)&&aj(i,t,n,r),r=r.parent}}function aj(e,t,n,i){const r=up(t,e,i,!0);Ar(()=>{hS(i[t],r)},n)}function up(e,t,n=_i,i=!1){if(n){const r=n[e]||(n[e]=[]),s=t.__weh||(t.__weh=(...o)=>{Aa();const a=hh(n),l=rs(t,n,e,o);return a(),Pa(),l});return i?r.unshift(s):r.push(s),s}}const Po=e=>(t,n=_i)=>{(!fp||e==="sp")&&up(e,(...i)=>t(...i),n)},AS=Po("bm"),bt=Po("m"),AO=Po("bu"),PS=Po("u"),di=Po("bum"),Ar=Po("um"),PO=Po("sp"),lj=Po("rtg"),uj=Po("rtc");function cj(e,t=_i){up("ec",e,t)}const xS="components",dj="directives";function U(e,t){return DS(xS,e,!0,t)||e}const xO=Symbol.for("v-ndc");function DO(e){return Dn(e)?DS(xS,e,!1)||e:e||xO}function cr(e){return DS(dj,e)}function DS(e,t,n=!0,i=!1){const r=ui||_i;if(r){const s=r.type;if(e===xS){const a=Xj(s,!1);if(a&&(a===t||a===ur(t)||a===Fs(ur(t))))return s}const o=Yk(r[e]||s[e],t)||Yk(r.appContext[e],t);return!o&&i?s:o}}function Yk(e,t){return e&&(e[t]||e[ur(t)]||e[Fs(ur(t))])}function Si(e,t,n,i){let r;const s=n,o=st(e);if(o||Dn(e)){const a=o&&ml(e);let l=!1;a&&(l=!$r(e),e=sp(e)),r=new Array(e.length);for(let u=0,d=e.length;u<d;u++)r[u]=t(l?Oi(e[u]):e[u],u,void 0,s)}else if(typeof e=="number"){r=new Array(e);for(let a=0;a<e;a++)r[a]=t(a+1,a,void 0,s)}else if(pn(e))if(e[Symbol.iterator])r=Array.from(e,(a,l)=>t(a,l,void 0,s));else{const a=Object.keys(e);r=new Array(a.length);for(let l=0,u=a.length;l<u;l++){const d=a[l];r[l]=t(e[d],d,l,s)}}else r=[];return r}function RS(e,t){for(let n=0;n<t.length;n++){const i=t[n];if(st(i))for(let r=0;r<i.length;r++)e[i[r].name]=i[r].fn;else i&&(e[i.name]=i.key?(...r)=>{const s=i.fn(...r);return s&&(s.key=i.key),s}:i.fn)}return e}function fj(e,t,n={},i,r){if(ui.ce||ui.parent&&Hu(ui.parent)&&ui.parent.ce)return n.name=t,ye(),Me(Te,null,[h("slot",n,i)],64);let s=e[t];s&&s._c&&(s._d=!1),ye();const o=s&&RO(s(n)),a=Me(Te,{key:(n.key||o&&o.key||`_${t}`)+(!o&&i?"_fb":"")},o||[],o&&e._===1?64:-2);return a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),s&&s._c&&(s._d=!0),a}function RO(e){return e.some(t=>kl(t)?!(t.type===Li||t.type===Te&&!RO(t.children)):!0)?e:null}const kb=e=>e?QO(e)?hp(e):kb(e.parent):null,Wd=zn(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>kb(e.parent),$root:e=>kb(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>OS(e),$forceUpdate:e=>e.f||(e.f=()=>{kS(e.update)}),$nextTick:e=>e.n||(e.n=at.bind(e.proxy)),$watch:e=>Vj.bind(e)}),dy=(e,t)=>e!==Wt&&!e.__isScriptSetup&&qt(e,t),hj={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:n,setupState:i,data:r,props:s,accessCache:o,type:a,appContext:l}=e;let u;if(t[0]!=="$"){const v=o[t];if(v!==void 0)switch(v){case 1:return i[t];case 2:return r[t];case 4:return n[t];case 3:return s[t]}else{if(dy(i,t))return o[t]=1,i[t];if(r!==Wt&&qt(r,t))return o[t]=2,r[t];if((u=e.propsOptions[0])&&qt(u,t))return o[t]=3,s[t];if(n!==Wt&&qt(n,t))return o[t]=4,n[t];Tb&&(o[t]=0)}}const d=Wd[t];let c,f;if(d)return t==="$attrs"&&Ui(e.attrs,"get",""),d(e);if((c=a.__cssModules)&&(c=c[t]))return c;if(n!==Wt&&qt(n,t))return o[t]=4,n[t];if(f=l.config.globalProperties,qt(f,t))return f[t]},set({_:e},t,n){const{data:i,setupState:r,ctx:s}=e;return dy(r,t)?(r[t]=n,!0):i!==Wt&&qt(i,t)?(i[t]=n,!0):qt(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(s[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:i,appContext:r,propsOptions:s}},o){let a;return!!n[o]||e!==Wt&&qt(e,o)||dy(t,o)||(a=s[0])&&qt(a,o)||qt(i,o)||qt(Wd,o)||qt(r.config.globalProperties,o)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:qt(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function Pm(e){return st(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}function tc(e,t){return!e||!t?e||t:st(e)&&st(t)?e.concat(t):zn({},Pm(e),Pm(t))}let Tb=!0;function vj(e){const t=OS(e),n=e.proxy,i=e.ctx;Tb=!1,t.beforeCreate&&Kk(t.beforeCreate,e,"bc");const{data:r,computed:s,methods:o,watch:a,provide:l,inject:u,created:d,beforeMount:c,mounted:f,beforeUpdate:v,updated:m,activated:p,deactivated:_,beforeDestroy:y,beforeUnmount:b,destroyed:C,unmounted:k,render:R,renderTracked:O,renderTriggered:x,errorCaptured:S,serverPrefetch:w,expose:E,inheritAttrs:A,components:P,directives:D,filters:B}=t;if(u&&mj(u,i,null),o)for(const Y in o){const H=o[Y];vt(H)&&(i[Y]=H.bind(n))}if(r){const Y=r.call(n,n);pn(Y)&&(e.data=cn(Y))}if(Tb=!0,s)for(const Y in s){const H=s[Y],q=vt(H)?H.bind(n,n):vt(H.get)?H.get.bind(n,n):Cs,z=!vt(H)&&vt(H.set)?H.set.bind(n):Cs,ne=I({get:q,set:z});Object.defineProperty(i,Y,{enumerable:!0,configurable:!0,get:()=>ne.value,set:ue=>ne.value=ue})}if(a)for(const Y in a)OO(a[Y],i,n,Y);if(l){const Y=vt(l)?l.call(n):l;Reflect.ownKeys(Y).forEach(H=>{Ut(H,Y[H])})}d&&Kk(d,e,"c");function j(Y,H){st(H)?H.forEach(q=>Y(q.bind(n))):H&&Y(H.bind(n))}if(j(AS,c),j(bt,f),j(AO,v),j(PS,m),j(TO,p),j(IS,_),j(cj,S),j(uj,O),j(lj,x),j(di,b),j(Ar,k),j(PO,w),st(E))if(E.length){const Y=e.exposed||(e.exposed={});E.forEach(H=>{Object.defineProperty(Y,H,{get:()=>n[H],set:q=>n[H]=q})})}else e.exposed||(e.exposed={});R&&e.render===Cs&&(e.render=R),A!=null&&(e.inheritAttrs=A),P&&(e.components=P),D&&(e.directives=D),w&&CO(e)}function mj(e,t,n=Cs){st(e)&&(e=Ib(e));for(const i in e){const r=e[i];let s;pn(r)?"default"in r?s=ot(r.from||i,r.default,!0):s=ot(r.from||i):s=ot(r),Je(s)?Object.defineProperty(t,i,{enumerable:!0,configurable:!0,get:()=>s.value,set:o=>s.value=o}):t[i]=s}}function Kk(e,t,n){rs(st(e)?e.map(i=>i.bind(t.proxy)):e.bind(t.proxy),t,n)}function OO(e,t,n,i){let r=i.includes(".")?zO(n,i):()=>n[i];if(Dn(e)){const s=t[e];vt(s)&&ge(r,s)}else if(vt(e))ge(r,e.bind(n));else if(pn(e))if(st(e))e.forEach(s=>OO(s,t,n,i));else{const s=vt(e.handler)?e.handler.bind(n):t[e.handler];vt(s)&&ge(r,s,e)}}function OS(e){const t=e.type,{mixins:n,extends:i}=t,{mixins:r,optionsCache:s,config:{optionMergeStrategies:o}}=e.appContext,a=s.get(t);let l;return a?l=a:!r.length&&!n&&!i?l=t:(l={},r.length&&r.forEach(u=>xm(l,u,o,!0)),xm(l,t,o)),pn(t)&&s.set(t,l),l}function xm(e,t,n,i=!1){const{mixins:r,extends:s}=t;s&&xm(e,s,n,!0),r&&r.forEach(o=>xm(e,o,n,!0));for(const o in t)if(!(i&&o==="expose")){const a=gj[o]||n&&n[o];e[o]=a?a(e[o],t[o]):t[o]}return e}const gj={data:Xk,props:Qk,emits:Qk,methods:Id,computed:Id,beforeCreate:zi,created:zi,beforeMount:zi,mounted:zi,beforeUpdate:zi,updated:zi,beforeDestroy:zi,beforeUnmount:zi,destroyed:zi,unmounted:zi,activated:zi,deactivated:zi,errorCaptured:zi,serverPrefetch:zi,components:Id,directives:Id,watch:_j,provide:Xk,inject:pj};function Xk(e,t){return t?e?function(){return zn(vt(e)?e.call(this,this):e,vt(t)?t.call(this,this):t)}:t:e}function pj(e,t){return Id(Ib(e),Ib(t))}function Ib(e){if(st(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function zi(e,t){return e?[...new Set([].concat(e,t))]:t}function Id(e,t){return e?zn(Object.create(null),e,t):t}function Qk(e,t){return e?st(e)&&st(t)?[...new Set([...e,...t])]:zn(Object.create(null),Pm(e),Pm(t??{})):t}function _j(e,t){if(!e)return t;if(!t)return e;const n=zn(Object.create(null),e);for(const i in t)n[i]=zi(e[i],t[i]);return n}function VO(){return{app:null,config:{isNativeTag:u3,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let yj=0;function bj(e,t){return function(i,r=null){vt(i)||(i=zn({},i)),r!=null&&!pn(r)&&(r=null);const s=VO(),o=new WeakSet,a=[];let l=!1;const u=s.app={_uid:yj++,_component:i,_props:r,_container:null,_context:s,_instance:null,version:Jj,get config(){return s.config},set config(d){},use(d,...c){return o.has(d)||(d&&vt(d.install)?(o.add(d),d.install(u,...c)):vt(d)&&(o.add(d),d(u,...c))),u},mixin(d){return s.mixins.includes(d)||s.mixins.push(d),u},component(d,c){return c?(s.components[d]=c,u):s.components[d]},directive(d,c){return c?(s.directives[d]=c,u):s.directives[d]},mount(d,c,f){if(!l){const v=u._ceVNode||h(i,r);return v.appContext=s,f===!0?f="svg":f===!1&&(f=void 0),c&&t?t(v,d):e(v,d,f),l=!0,u._container=d,d.__vue_app__=u,hp(v.component)}},onUnmount(d){a.push(d)},unmount(){l&&(rs(a,u._instance,16),e(null,u._container),delete u._container.__vue_app__)},provide(d,c){return s.provides[d]=c,u},runWithContext(d){const c=Wu;Wu=u;try{return d()}finally{Wu=c}}};return u}}let Wu=null;function Ut(e,t){if(_i){let n=_i.provides;const i=_i.parent&&_i.parent.provides;i===n&&(n=_i.provides=Object.create(i)),n[e]=t}}function ot(e,t,n=!1){const i=_i||ui;if(i||Wu){const r=Wu?Wu._context.provides:i?i.parent==null?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides:void 0;if(r&&e in r)return r[e];if(arguments.length>1)return n&&vt(t)?t.call(i&&i.proxy):t}}const NO={},MO=()=>Object.create(NO),LO=e=>Object.getPrototypeOf(e)===NO;function wj(e,t,n,i=!1){const r={},s=MO();e.propsDefaults=Object.create(null),FO(e,t,r,s);for(const o in e.propsOptions[0])o in r||(r[o]=void 0);n?e.props=i?r:oO(r):e.type.props?e.props=r:e.props=s,e.attrs=s}function Sj(e,t,n,i){const{props:r,attrs:s,vnode:{patchFlag:o}}=e,a=Ge(r),[l]=e.propsOptions;let u=!1;if((i||o>0)&&!(o&16)){if(o&8){const d=e.vnode.dynamicProps;for(let c=0;c<d.length;c++){let f=d[c];if(dp(e.emitsOptions,f))continue;const v=t[f];if(l)if(qt(s,f))v!==s[f]&&(s[f]=v,u=!0);else{const m=ur(f);r[m]=Ab(l,a,m,v,e,!1)}else v!==s[f]&&(s[f]=v,u=!0)}}}else{FO(e,t,r,s)&&(u=!0);let d;for(const c in a)(!t||!qt(t,c)&&((d=Ia(c))===c||!qt(t,d)))&&(l?n&&(n[c]!==void 0||n[d]!==void 0)&&(r[c]=Ab(l,a,c,void 0,e,!0)):delete r[c]);if(s!==a)for(const c in s)(!t||!qt(t,c))&&(delete s[c],u=!0)}u&&ho(e.attrs,"set","")}function FO(e,t,n,i){const[r,s]=e.propsOptions;let o=!1,a;if(t)for(let l in t){if(Ud(l))continue;const u=t[l];let d;r&&qt(r,d=ur(l))?!s||!s.includes(d)?n[d]=u:(a||(a={}))[d]=u:dp(e.emitsOptions,l)||(!(l in i)||u!==i[l])&&(i[l]=u,o=!0)}if(s){const l=Ge(n),u=a||Wt;for(let d=0;d<s.length;d++){const c=s[d];n[c]=Ab(r,l,c,u[c],e,!qt(u,c))}}return o}function Ab(e,t,n,i,r,s){const o=e[n];if(o!=null){const a=qt(o,"default");if(a&&i===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&vt(l)){const{propsDefaults:u}=r;if(n in u)i=u[n];else{const d=hh(r);i=u[n]=l.call(null,t),d()}}else i=l;r.ce&&r.ce._setProp(n,i)}o[0]&&(s&&!a?i=!1:o[1]&&(i===""||i===Ia(n))&&(i=!0))}return i}const Ej=new WeakMap;function $O(e,t,n=!1){const i=n?Ej:t.propsCache,r=i.get(e);if(r)return r;const s=e.props,o={},a=[];let l=!1;if(!vt(e)){const d=c=>{l=!0;const[f,v]=$O(c,t,!0);zn(o,f),v&&a.push(...v)};!n&&t.mixins.length&&t.mixins.forEach(d),e.extends&&d(e.extends),e.mixins&&e.mixins.forEach(d)}if(!s&&!l)return pn(e)&&i.set(e,Bu),Bu;if(st(s))for(let d=0;d<s.length;d++){const c=ur(s[d]);Jk(c)&&(o[c]=Wt)}else if(s)for(const d in s){const c=ur(d);if(Jk(c)){const f=s[d],v=o[c]=st(f)||vt(f)?{type:f}:zn({},f),m=v.type;let p=!1,_=!0;if(st(m))for(let y=0;y<m.length;++y){const b=m[y],C=vt(b)&&b.name;if(C==="Boolean"){p=!0;break}else C==="String"&&(_=!1)}else p=vt(m)&&m.name==="Boolean";v[0]=p,v[1]=_,(p||qt(v,"default"))&&a.push(c)}}const u=[o,a];return pn(e)&&i.set(e,u),u}function Jk(e){return e[0]!=="$"&&!Ud(e)}const BO=e=>e[0]==="_"||e==="$stable",VS=e=>st(e)?e.map(_s):[_s(e)],Cj=(e,t,n)=>{if(t._n)return t;const i=N((...r)=>VS(t(...r)),n);return i._c=!1,i},UO=(e,t,n)=>{const i=e._ctx;for(const r in e){if(BO(r))continue;const s=e[r];if(vt(s))t[r]=Cj(r,s,i);else if(s!=null){const o=VS(s);t[r]=()=>o}}},jO=(e,t)=>{const n=VS(t);e.slots.default=()=>n},HO=(e,t,n)=>{for(const i in t)(n||i!=="_")&&(e[i]=t[i])},kj=(e,t,n)=>{const i=e.slots=MO();if(e.vnode.shapeFlag&32){const r=t._;r?(HO(i,t,n),n&&FR(i,"_",r,!0)):UO(t,i)}else t&&jO(e,t)},Tj=(e,t,n)=>{const{vnode:i,slots:r}=e;let s=!0,o=Wt;if(i.shapeFlag&32){const a=t._;a?n&&a===1?s=!1:HO(r,t,n):(s=!t.$stable,UO(t,r)),o=t}else t&&(jO(e,t),o={default:1});if(s)for(const a in r)!BO(a)&&o[a]==null&&delete r[a]},tr=Bj;function Ij(e){return Aj(e)}function Aj(e,t){const n=$R();n.__VUE__=!0;const{insert:i,remove:r,patchProp:s,createElement:o,createText:a,createComment:l,setText:u,setElementText:d,parentNode:c,nextSibling:f,setScopeId:v=Cs,insertStaticContent:m}=e,p=(M,L,J,ce=null,ae=null,me=null,Pe=void 0,we=null,De=!!L.dynamicChildren)=>{if(M===L)return;M&&!el(M,L)&&(ce=G(M),ue(M,ae,me,!0),M=null),L.patchFlag===-2&&(De=!1,L.dynamicChildren=null);const{type:Se,ref:ze,shapeFlag:Le}=L;switch(Se){case fh:_(M,L,J,ce);break;case Li:y(M,L,J,ce);break;case vy:M==null&&b(L,J,ce,Pe);break;case Te:P(M,L,J,ce,ae,me,Pe,we,De);break;default:Le&1?R(M,L,J,ce,ae,me,Pe,we,De):Le&6?D(M,L,J,ce,ae,me,Pe,we,De):(Le&64||Le&128)&&Se.process(M,L,J,ce,ae,me,Pe,we,De,ee)}ze!=null&&ae&&Cb(ze,M&&M.ref,me,L||M,!L)},_=(M,L,J,ce)=>{if(M==null)i(L.el=a(L.children),J,ce);else{const ae=L.el=M.el;L.children!==M.children&&u(ae,L.children)}},y=(M,L,J,ce)=>{M==null?i(L.el=l(L.children||""),J,ce):L.el=M.el},b=(M,L,J,ce)=>{[M.el,M.anchor]=m(M.children,L,J,ce,M.el,M.anchor)},C=({el:M,anchor:L},J,ce)=>{let ae;for(;M&&M!==L;)ae=f(M),i(M,J,ce),M=ae;i(L,J,ce)},k=({el:M,anchor:L})=>{let J;for(;M&&M!==L;)J=f(M),r(M),M=J;r(L)},R=(M,L,J,ce,ae,me,Pe,we,De)=>{L.type==="svg"?Pe="svg":L.type==="math"&&(Pe="mathml"),M==null?O(L,J,ce,ae,me,Pe,we,De):w(M,L,ae,me,Pe,we,De)},O=(M,L,J,ce,ae,me,Pe,we)=>{let De,Se;const{props:ze,shapeFlag:Le,transition:He,dirs:Ve}=M;if(De=M.el=o(M.type,me,ze&&ze.is,ze),Le&8?d(De,M.children):Le&16&&S(M.children,De,null,ce,ae,fy(M,me),Pe,we),Ve&&za(M,null,ce,"created"),x(De,M,M.scopeId,Pe,ce),ze){for(const kt in ze)kt!=="value"&&!Ud(kt)&&s(De,kt,null,ze[kt],me,ce);"value"in ze&&s(De,"value",null,ze.value,me),(Se=ze.onVnodeBeforeMount)&&vs(Se,ce,M)}Ve&&za(M,null,ce,"beforeMount");const tt=Pj(ae,He);tt&&He.beforeEnter(De),i(De,L,J),((Se=ze&&ze.onVnodeMounted)||tt||Ve)&&tr(()=>{Se&&vs(Se,ce,M),tt&&He.enter(De),Ve&&za(M,null,ce,"mounted")},ae)},x=(M,L,J,ce,ae)=>{if(J&&v(M,J),ce)for(let me=0;me<ce.length;me++)v(M,ce[me]);if(ae){let me=ae.subTree;if(L===me||YO(me.type)&&(me.ssContent===L||me.ssFallback===L)){const Pe=ae.vnode;x(M,Pe,Pe.scopeId,Pe.slotScopeIds,ae.parent)}}},S=(M,L,J,ce,ae,me,Pe,we,De=0)=>{for(let Se=De;Se<M.length;Se++){const ze=M[Se]=we?Ko(M[Se]):_s(M[Se]);p(null,ze,L,J,ce,ae,me,Pe,we)}},w=(M,L,J,ce,ae,me,Pe)=>{const we=L.el=M.el;let{patchFlag:De,dynamicChildren:Se,dirs:ze}=L;De|=M.patchFlag&16;const Le=M.props||Wt,He=L.props||Wt;let Ve;if(J&&Ga(J,!1),(Ve=He.onVnodeBeforeUpdate)&&vs(Ve,J,L,M),ze&&za(L,M,J,"beforeUpdate"),J&&Ga(J,!0),(Le.innerHTML&&He.innerHTML==null||Le.textContent&&He.textContent==null)&&d(we,""),Se?E(M.dynamicChildren,Se,we,J,ce,fy(L,ae),me):Pe||H(M,L,we,null,J,ce,fy(L,ae),me,!1),De>0){if(De&16)A(we,Le,He,J,ae);else if(De&2&&Le.class!==He.class&&s(we,"class",null,He.class,ae),De&4&&s(we,"style",Le.style,He.style,ae),De&8){const tt=L.dynamicProps;for(let kt=0;kt<tt.length;kt++){const Ke=tt[kt],le=Le[Ke],re=He[Ke];(re!==le||Ke==="value")&&s(we,Ke,le,re,ae,J)}}De&1&&M.children!==L.children&&d(we,L.children)}else!Pe&&Se==null&&A(we,Le,He,J,ae);((Ve=He.onVnodeUpdated)||ze)&&tr(()=>{Ve&&vs(Ve,J,L,M),ze&&za(L,M,J,"updated")},ce)},E=(M,L,J,ce,ae,me,Pe)=>{for(let we=0;we<L.length;we++){const De=M[we],Se=L[we],ze=De.el&&(De.type===Te||!el(De,Se)||De.shapeFlag&70)?c(De.el):J;p(De,Se,ze,null,ce,ae,me,Pe,!0)}},A=(M,L,J,ce,ae)=>{if(L!==J){if(L!==Wt)for(const me in L)!Ud(me)&&!(me in J)&&s(M,me,L[me],null,ae,ce);for(const me in J){if(Ud(me))continue;const Pe=J[me],we=L[me];Pe!==we&&me!=="value"&&s(M,me,we,Pe,ae,ce)}"value"in J&&s(M,"value",L.value,J.value,ae)}},P=(M,L,J,ce,ae,me,Pe,we,De)=>{const Se=L.el=M?M.el:a(""),ze=L.anchor=M?M.anchor:a("");let{patchFlag:Le,dynamicChildren:He,slotScopeIds:Ve}=L;Ve&&(we=we?we.concat(Ve):Ve),M==null?(i(Se,J,ce),i(ze,J,ce),S(L.children||[],J,ze,ae,me,Pe,we,De)):Le>0&&Le&64&&He&&M.dynamicChildren?(E(M.dynamicChildren,He,J,ae,me,Pe,we),(L.key!=null||ae&&L===ae.subTree)&&NS(M,L,!0)):H(M,L,J,ze,ae,me,Pe,we,De)},D=(M,L,J,ce,ae,me,Pe,we,De)=>{L.slotScopeIds=we,M==null?L.shapeFlag&512?ae.ctx.activate(L,J,ce,Pe,De):B(L,J,ce,ae,me,Pe,De):$(M,L,De)},B=(M,L,J,ce,ae,me,Pe)=>{const we=M.component=zj(M,ce,ae);if(lp(M)&&(we.ctx.renderer=ee),Gj(we,!1,Pe),we.asyncDep){if(ae&&ae.registerDep(we,j,Pe),!M.el){const De=we.subTree=h(Li);y(null,De,L,J)}}else j(we,M,L,J,ae,me,Pe)},$=(M,L,J)=>{const ce=L.component=M.component;if(Fj(M,L,J))if(ce.asyncDep&&!ce.asyncResolved){Y(ce,L,J);return}else ce.next=L,ce.update();else L.el=M.el,ce.vnode=L},j=(M,L,J,ce,ae,me,Pe)=>{const we=()=>{if(M.isMounted){let{next:Le,bu:He,u:Ve,parent:tt,vnode:kt}=M;{const Fe=WO(M);if(Fe){Le&&(Le.el=kt.el,Y(M,Le,Pe)),Fe.asyncDep.then(()=>{M.isUnmounted||we()});return}}let Ke=Le,le;Ga(M,!1),Le?(Le.el=kt.el,Y(M,Le,Pe)):Le=kt,He&&Xv(He),(le=Le.props&&Le.props.onVnodeBeforeUpdate)&&vs(le,tt,Le,kt),Ga(M,!0);const re=hy(M),Ee=M.subTree;M.subTree=re,p(Ee,re,c(Ee.el),G(Ee),M,ae,me),Le.el=re.el,Ke===null&&$j(M,re.el),Ve&&tr(Ve,ae),(le=Le.props&&Le.props.onVnodeUpdated)&&tr(()=>vs(le,tt,Le,kt),ae)}else{let Le;const{el:He,props:Ve}=L,{bm:tt,m:kt,parent:Ke,root:le,type:re}=M,Ee=Hu(L);if(Ga(M,!1),tt&&Xv(tt),!Ee&&(Le=Ve&&Ve.onVnodeBeforeMount)&&vs(Le,Ke,L),Ga(M,!0),He&&_e){const Fe=()=>{M.subTree=hy(M),_e(He,M.subTree,M,ae,null)};Ee&&re.__asyncHydrate?re.__asyncHydrate(He,M,Fe):Fe()}else{le.ce&&le.ce._injectChildStyle(re);const Fe=M.subTree=hy(M);p(null,Fe,J,ce,M,ae,me),L.el=Fe.el}if(kt&&tr(kt,ae),!Ee&&(Le=Ve&&Ve.onVnodeMounted)){const Fe=L;tr(()=>vs(Le,Ke,Fe),ae)}(L.shapeFlag&256||Ke&&Hu(Ke.vnode)&&Ke.vnode.shapeFlag&256)&&M.a&&tr(M.a,ae),M.isMounted=!0,L=J=ce=null}};M.scope.on();const De=M.effect=new GR(we);M.scope.off();const Se=M.update=De.run.bind(De),ze=M.job=De.runIfDirty.bind(De);ze.i=M,ze.id=M.uid,De.scheduler=()=>kS(ze),Ga(M,!0),Se()},Y=(M,L,J)=>{L.component=M;const ce=M.vnode.props;M.vnode=L,M.next=null,Sj(M,L.props,ce,J),Tj(M,L.children,J),Aa(),Wk(M),Pa()},H=(M,L,J,ce,ae,me,Pe,we,De=!1)=>{const Se=M&&M.children,ze=M?M.shapeFlag:0,Le=L.children,{patchFlag:He,shapeFlag:Ve}=L;if(He>0){if(He&128){z(Se,Le,J,ce,ae,me,Pe,we,De);return}else if(He&256){q(Se,Le,J,ce,ae,me,Pe,we,De);return}}Ve&8?(ze&16&&se(Se,ae,me),Le!==Se&&d(J,Le)):ze&16?Ve&16?z(Se,Le,J,ce,ae,me,Pe,we,De):se(Se,ae,me,!0):(ze&8&&d(J,""),Ve&16&&S(Le,J,ce,ae,me,Pe,we,De))},q=(M,L,J,ce,ae,me,Pe,we,De)=>{M=M||Bu,L=L||Bu;const Se=M.length,ze=L.length,Le=Math.min(Se,ze);let He;for(He=0;He<Le;He++){const Ve=L[He]=De?Ko(L[He]):_s(L[He]);p(M[He],Ve,J,null,ae,me,Pe,we,De)}Se>ze?se(M,ae,me,!0,!1,Le):S(L,J,ce,ae,me,Pe,we,De,Le)},z=(M,L,J,ce,ae,me,Pe,we,De)=>{let Se=0;const ze=L.length;let Le=M.length-1,He=ze-1;for(;Se<=Le&&Se<=He;){const Ve=M[Se],tt=L[Se]=De?Ko(L[Se]):_s(L[Se]);if(el(Ve,tt))p(Ve,tt,J,null,ae,me,Pe,we,De);else break;Se++}for(;Se<=Le&&Se<=He;){const Ve=M[Le],tt=L[He]=De?Ko(L[He]):_s(L[He]);if(el(Ve,tt))p(Ve,tt,J,null,ae,me,Pe,we,De);else break;Le--,He--}if(Se>Le){if(Se<=He){const Ve=He+1,tt=Ve<ze?L[Ve].el:ce;for(;Se<=He;)p(null,L[Se]=De?Ko(L[Se]):_s(L[Se]),J,tt,ae,me,Pe,we,De),Se++}}else if(Se>He)for(;Se<=Le;)ue(M[Se],ae,me,!0),Se++;else{const Ve=Se,tt=Se,kt=new Map;for(Se=tt;Se<=He;Se++){const qe=L[Se]=De?Ko(L[Se]):_s(L[Se]);qe.key!=null&&kt.set(qe.key,Se)}let Ke,le=0;const re=He-tt+1;let Ee=!1,Fe=0;const et=new Array(re);for(Se=0;Se<re;Se++)et[Se]=0;for(Se=Ve;Se<=Le;Se++){const qe=M[Se];if(le>=re){ue(qe,ae,me,!0);continue}let Tt;if(qe.key!=null)Tt=kt.get(qe.key);else for(Ke=tt;Ke<=He;Ke++)if(et[Ke-tt]===0&&el(qe,L[Ke])){Tt=Ke;break}Tt===void 0?ue(qe,ae,me,!0):(et[Tt-tt]=Se+1,Tt>=Fe?Fe=Tt:Ee=!0,p(qe,L[Tt],J,null,ae,me,Pe,we,De),le++)}const ft=Ee?xj(et):Bu;for(Ke=ft.length-1,Se=re-1;Se>=0;Se--){const qe=tt+Se,Tt=L[qe],on=qe+1<ze?L[qe+1].el:ce;et[Se]===0?p(null,Tt,J,on,ae,me,Pe,we,De):Ee&&(Ke<0||Se!==ft[Ke]?ne(Tt,J,on,2):Ke--)}}},ne=(M,L,J,ce,ae=null)=>{const{el:me,type:Pe,transition:we,children:De,shapeFlag:Se}=M;if(Se&6){ne(M.component.subTree,L,J,ce);return}if(Se&128){M.suspense.move(L,J,ce);return}if(Se&64){Pe.move(M,L,J,ee);return}if(Pe===Te){i(me,L,J);for(let Le=0;Le<De.length;Le++)ne(De[Le],L,J,ce);i(M.anchor,L,J);return}if(Pe===vy){C(M,L,J);return}if(ce!==2&&Se&1&&we)if(ce===0)we.beforeEnter(me),i(me,L,J),tr(()=>we.enter(me),ae);else{const{leave:Le,delayLeave:He,afterLeave:Ve}=we,tt=()=>i(me,L,J),kt=()=>{Le(me,()=>{tt(),Ve&&Ve()})};He?He(me,tt,kt):kt()}else i(me,L,J)},ue=(M,L,J,ce=!1,ae=!1)=>{const{type:me,props:Pe,ref:we,children:De,dynamicChildren:Se,shapeFlag:ze,patchFlag:Le,dirs:He,cacheIndex:Ve}=M;if(Le===-2&&(ae=!1),we!=null&&Cb(we,null,J,M,!0),Ve!=null&&(L.renderCache[Ve]=void 0),ze&256){L.ctx.deactivate(M);return}const tt=ze&1&&He,kt=!Hu(M);let Ke;if(kt&&(Ke=Pe&&Pe.onVnodeBeforeUnmount)&&vs(Ke,L,M),ze&6)Ne(M.component,J,ce);else{if(ze&128){M.suspense.unmount(J,ce);return}tt&&za(M,null,L,"beforeUnmount"),ze&64?M.type.remove(M,L,J,ee,ce):Se&&!Se.hasOnce&&(me!==Te||Le>0&&Le&64)?se(Se,L,J,!1,!0):(me===Te&&Le&384||!ae&&ze&16)&&se(De,L,J),ce&&be(M)}(kt&&(Ke=Pe&&Pe.onVnodeUnmounted)||tt)&&tr(()=>{Ke&&vs(Ke,L,M),tt&&za(M,null,L,"unmounted")},J)},be=M=>{const{type:L,el:J,anchor:ce,transition:ae}=M;if(L===Te){Ae(J,ce);return}if(L===vy){k(M);return}const me=()=>{r(J),ae&&!ae.persisted&&ae.afterLeave&&ae.afterLeave()};if(M.shapeFlag&1&&ae&&!ae.persisted){const{leave:Pe,delayLeave:we}=ae,De=()=>Pe(J,me);we?we(M.el,me,De):De()}else me()},Ae=(M,L)=>{let J;for(;M!==L;)J=f(M),r(M),M=J;r(L)},Ne=(M,L,J)=>{const{bum:ce,scope:ae,job:me,subTree:Pe,um:we,m:De,a:Se}=M;Zk(De),Zk(Se),ce&&Xv(ce),ae.stop(),me&&(me.flags|=8,ue(Pe,M,L,J)),we&&tr(we,L),tr(()=>{M.isUnmounted=!0},L),L&&L.pendingBranch&&!L.isUnmounted&&M.asyncDep&&!M.asyncResolved&&M.suspenseId===L.pendingId&&(L.deps--,L.deps===0&&L.resolve())},se=(M,L,J,ce=!1,ae=!1,me=0)=>{for(let Pe=me;Pe<M.length;Pe++)ue(M[Pe],L,J,ce,ae)},G=M=>{if(M.shapeFlag&6)return G(M.component.subTree);if(M.shapeFlag&128)return M.suspense.next();const L=f(M.anchor||M.el),J=L&&L[mO];return J?f(J):L};let ie=!1;const Q=(M,L,J)=>{M==null?L._vnode&&ue(L._vnode,null,null,!0):p(L._vnode||null,M,L,null,null,null,J),L._vnode=M,ie||(ie=!0,Wk(),fO(),ie=!1)},ee={p,um:ue,m:ne,r:be,mt:B,mc:S,pc:H,pbc:E,n:G,o:e};let X,_e;return{render:Q,hydrate:X,createApp:bj(Q,X)}}function fy({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function Ga({effect:e,job:t},n){n?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function Pj(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function NS(e,t,n=!1){const i=e.children,r=t.children;if(st(i)&&st(r))for(let s=0;s<i.length;s++){const o=i[s];let a=r[s];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=r[s]=Ko(r[s]),a.el=o.el),!n&&a.patchFlag!==-2&&NS(o,a)),a.type===fh&&(a.el=o.el)}}function xj(e){const t=e.slice(),n=[0];let i,r,s,o,a;const l=e.length;for(i=0;i<l;i++){const u=e[i];if(u!==0){if(r=n[n.length-1],e[r]<u){t[i]=r,n.push(i);continue}for(s=0,o=n.length-1;s<o;)a=s+o>>1,e[n[a]]<u?s=a+1:o=a;u<e[n[s]]&&(s>0&&(t[i]=n[s-1]),n[s]=i)}}for(s=n.length,o=n[s-1];s-- >0;)n[s]=o,o=t[o];return n}function WO(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:WO(t)}function Zk(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const Dj=Symbol.for("v-scx"),Rj=()=>ot(Dj);function rn(e,t){return cp(e,null,t)}function Oj(e,t){return cp(e,null,{flush:"sync"})}function ge(e,t,n){return cp(e,t,n)}function cp(e,t,n=Wt){const{immediate:i,deep:r,flush:s,once:o}=n,a=zn({},n);let l;if(fp)if(s==="sync"){const f=Rj();l=f.__watcherHandles||(f.__watcherHandles=[])}else if(!t||i)a.once=!0;else{const f=()=>{};return f.stop=Cs,f.resume=Cs,f.pause=Cs,f}const u=_i;a.call=(f,v,m)=>rs(f,u,v,m);let d=!1;s==="post"?a.scheduler=f=>{tr(f,u&&u.suspense)}:s!=="sync"&&(d=!0,a.scheduler=(f,v)=>{v?f():kS(f)}),a.augmentJob=f=>{t&&(f.flags|=4),d&&(f.flags|=2,u&&(f.id=u.uid,f.i=u))};const c=J3(e,t,a);return l&&l.push(c),c}function Vj(e,t,n){const i=this.proxy,r=Dn(e)?e.includes(".")?zO(i,e):()=>i[e]:e.bind(i,i);let s;vt(t)?s=t:(s=t.handler,n=t);const o=hh(this),a=cp(r,s.bind(i),n);return o(),a}function zO(e,t){const n=t.split(".");return()=>{let i=e;for(let r=0;r<n.length&&i;r++)i=i[n[r]];return i}}function nc(e,t,n=Wt){const i=zl(),r=ur(t),s=Ia(t),o=GO(e,t),a=G3((l,u)=>{let d,c=Wt,f;return Oj(()=>{const v=e[t];nr(d,v)&&(d=v,u())}),{get(){return l(),n.get?n.get(d):d},set(v){const m=n.set?n.set(v):v;if(!nr(m,d)&&!(c!==Wt&&nr(v,c)))return;const p=i.vnode.props;p&&(t in p||r in p||s in p)&&(`onUpdate:${t}`in p||`onUpdate:${r}`in p||`onUpdate:${s}`in p)||(d=v,u()),i.emit(`update:${t}`,m),nr(v,m)&&nr(v,c)&&!nr(m,f)&&u(),c=v,f=m}}});return a[Symbol.iterator]=()=>{let l=0;return{next(){return l<2?{value:l++?o||Wt:a,done:!1}:{done:!0}}}},a}const GO=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${ur(t)}Modifiers`]||e[`${Ia(t)}Modifiers`];function Nj(e,t,...n){if(e.isUnmounted)return;const i=e.vnode.props||Wt;let r=n;const s=t.startsWith("update:"),o=s&&GO(i,t.slice(7));o&&(o.trim&&(r=n.map(d=>Dn(d)?d.trim():d)),o.number&&(r=n.map(yb)));let a,l=i[a=sy(t)]||i[a=sy(ur(t))];!l&&s&&(l=i[a=sy(Ia(t))]),l&&rs(l,e,6,r);const u=i[a+"Once"];if(u){if(!e.emitted)e.emitted={};else if(e.emitted[a])return;e.emitted[a]=!0,rs(u,e,6,r)}}function qO(e,t,n=!1){const i=t.emitsCache,r=i.get(e);if(r!==void 0)return r;const s=e.emits;let o={},a=!1;if(!vt(e)){const l=u=>{const d=qO(u,t,!0);d&&(a=!0,zn(o,d))};!n&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!s&&!a?(pn(e)&&i.set(e,null),null):(st(s)?s.forEach(l=>o[l]=null):zn(o,s),pn(e)&&i.set(e,o),o)}function dp(e,t){return!e||!Zg(t)?!1:(t=t.slice(2).replace(/Once$/,""),qt(e,t[0].toLowerCase()+t.slice(1))||qt(e,Ia(t))||qt(e,t))}function hy(e){const{type:t,vnode:n,proxy:i,withProxy:r,propsOptions:[s],slots:o,attrs:a,emit:l,render:u,renderCache:d,props:c,data:f,setupState:v,ctx:m,inheritAttrs:p}=e,_=Am(e);let y,b;try{if(n.shapeFlag&4){const k=r||i,R=k;y=_s(u.call(R,k,d,c,v,f,m)),b=a}else{const k=t;y=_s(k.length>1?k(c,{attrs:a,slots:o,emit:l}):k(c,null)),b=t.props?a:Mj(a)}}catch(k){zd.length=0,ap(k,e,1),y=h(Li)}let C=y;if(b&&p!==!1){const k=Object.keys(b),{shapeFlag:R}=C;k.length&&R&7&&(s&&k.some(fS)&&(b=Lj(b,s)),C=Ds(C,b,!1,!0))}return n.dirs&&(C=Ds(C,null,!1,!0),C.dirs=C.dirs?C.dirs.concat(n.dirs):n.dirs),n.transition&&Cl(C,n.transition),y=C,Am(_),y}const Mj=e=>{let t;for(const n in e)(n==="class"||n==="style"||Zg(n))&&((t||(t={}))[n]=e[n]);return t},Lj=(e,t)=>{const n={};for(const i in e)(!fS(i)||!(i.slice(9)in t))&&(n[i]=e[i]);return n};function Fj(e,t,n){const{props:i,children:r,component:s}=e,{props:o,children:a,patchFlag:l}=t,u=s.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return i?eT(i,o,u):!!o;if(l&8){const d=t.dynamicProps;for(let c=0;c<d.length;c++){const f=d[c];if(o[f]!==i[f]&&!dp(u,f))return!0}}}else return(r||a)&&(!a||!a.$stable)?!0:i===o?!1:i?o?eT(i,o,u):!0:!!o;return!1}function eT(e,t,n){const i=Object.keys(t);if(i.length!==Object.keys(e).length)return!0;for(let r=0;r<i.length;r++){const s=i[r];if(t[s]!==e[s]&&!dp(n,s))return!0}return!1}function $j({vnode:e,parent:t},n){for(;t;){const i=t.subTree;if(i.suspense&&i.suspense.activeBranch===e&&(i.el=e.el),i===e)(e=t.vnode).el=n,t=t.parent;else break}}const YO=e=>e.__isSuspense;function Bj(e,t){t&&t.pendingBranch?st(e)?t.effects.push(...e):t.effects.push(e):tj(e)}const Te=Symbol.for("v-fgt"),fh=Symbol.for("v-txt"),Li=Symbol.for("v-cmt"),vy=Symbol.for("v-stc"),zd=[];let yr=null;function ye(e=!1){zd.push(yr=e?null:[])}function Uj(){zd.pop(),yr=zd[zd.length-1]||null}let pf=1;function tT(e){pf+=e,e<0&&yr&&(yr.hasOnce=!0)}function KO(e){return e.dynamicChildren=pf>0?yr||Bu:null,Uj(),pf>0&&yr&&yr.push(e),e}function wt(e,t,n,i,r,s){return KO(it(e,t,n,i,r,s,!0))}function Me(e,t,n,i,r){return KO(h(e,t,n,i,r,!0))}function kl(e){return e?e.__v_isVNode===!0:!1}function el(e,t){return e.type===t.type&&e.key===t.key}const XO=({key:e})=>e??null,Jv=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?Dn(e)||Je(e)||vt(e)?{i:ui,r:e,k:t,f:!!n}:e:null);function it(e,t=null,n=null,i=0,r=null,s=e===Te?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&XO(t),ref:t&&Jv(t),scopeId:vO,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:i,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:ui};return a?(LS(l,n),s&128&&e.normalize(l)):n&&(l.shapeFlag|=Dn(n)?8:16),pf>0&&!o&&yr&&(l.patchFlag>0||s&6)&&l.patchFlag!==32&&yr.push(l),l}const h=jj;function jj(e,t=null,n=null,i=0,r=null,s=!1){if((!e||e===xO)&&(e=Li),kl(e)){const a=Ds(e,t,!0);return n&&LS(a,n),pf>0&&!s&&yr&&(a.shapeFlag&6?yr[yr.indexOf(e)]=a:yr.push(a)),a.patchFlag=-2,a}if(Qj(e)&&(e=e.__vccOpts),t){t=MS(t);let{class:a,style:l}=t;a&&!Dn(a)&&(t.class=ip(a)),pn(l)&&(wS(l)&&!st(l)&&(l=zn({},l)),t.style=np(l))}const o=Dn(e)?1:YO(e)?128:gO(e)?64:pn(e)?4:vt(e)?2:0;return it(e,t,n,i,r,o,s,!0)}function MS(e){return e?wS(e)||LO(e)?zn({},e):e:null}function Ds(e,t,n=!1,i=!1){const{props:r,ref:s,patchFlag:o,children:a,transition:l}=e,u=t?Z(r||{},t):r,d={__v_isVNode:!0,__v_skip:!0,type:e.type,props:u,key:u&&XO(u),ref:t&&t.ref?n&&s?st(s)?s.concat(Jv(t)):[s,Jv(t)]:Jv(t):s,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:a,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Te?o===-1?16:o|16:o,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:l,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Ds(e.ssContent),ssFallback:e.ssFallback&&Ds(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return l&&i&&Cl(d,l.clone(d)),d}function Ie(e=" ",t=0){return h(fh,null,e,t)}function Jt(e="",t=!1){return t?(ye(),Me(Li,null,e)):h(Li,null,e)}function _s(e){return e==null||typeof e=="boolean"?h(Li):st(e)?h(Te,null,e.slice()):typeof e=="object"?Ko(e):h(fh,null,String(e))}function Ko(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Ds(e)}function LS(e,t){let n=0;const{shapeFlag:i}=e;if(t==null)t=null;else if(st(t))n=16;else if(typeof t=="object")if(i&65){const r=t.default;r&&(r._c&&(r._d=!1),LS(e,r()),r._c&&(r._d=!0));return}else{n=32;const r=t._;!r&&!LO(t)?t._ctx=ui:r===3&&ui&&(ui.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else vt(t)?(t={default:t,_ctx:ui},n=32):(t=String(t),i&64?(n=16,t=[Ie(t)]):n=8);e.children=t,e.shapeFlag|=n}function Z(...e){const t={};for(let n=0;n<e.length;n++){const i=e[n];for(const r in i)if(r==="class")t.class!==i.class&&(t.class=ip([t.class,i.class]));else if(r==="style")t.style=np([t.style,i.style]);else if(Zg(r)){const s=t[r],o=i[r];o&&s!==o&&!(st(s)&&s.includes(o))&&(t[r]=s?[].concat(s,o):o)}else r!==""&&(t[r]=i[r])}return t}function vs(e,t,n,i=null){rs(e,t,7,[n,i])}const Hj=VO();let Wj=0;function zj(e,t,n){const i=e.type,r=(t?t.appContext:e.appContext)||Hj,s={uid:Wj++,vnode:e,type:i,parent:t,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new WR(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(r.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:$O(i,r),emitsOptions:qO(i,r),emit:null,emitted:null,propsDefaults:Wt,inheritAttrs:i.inheritAttrs,ctx:Wt,data:Wt,props:Wt,attrs:Wt,slots:Wt,refs:Wt,setupState:Wt,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=t?t.root:s,s.emit=Nj.bind(null,s),e.ce&&e.ce(s),s}let _i=null;const zl=()=>_i||ui;let Dm,Pb;{const e=$R(),t=(n,i)=>{let r;return(r=e[n])||(r=e[n]=[]),r.push(i),s=>{r.length>1?r.forEach(o=>o(s)):r[0](s)}};Dm=t("__VUE_INSTANCE_SETTERS__",n=>_i=n),Pb=t("__VUE_SSR_SETTERS__",n=>fp=n)}const hh=e=>{const t=_i;return Dm(e),e.scope.on(),()=>{e.scope.off(),Dm(t)}},nT=()=>{_i&&_i.scope.off(),Dm(null)};function QO(e){return e.vnode.shapeFlag&4}let fp=!1;function Gj(e,t=!1,n=!1){t&&Pb(t);const{props:i,children:r}=e.vnode,s=QO(e);wj(e,i,s,t),kj(e,r,n);const o=s?qj(e,t):void 0;return t&&Pb(!1),o}function qj(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,hj);const{setup:i}=n;if(i){const r=e.setupContext=i.length>1?Kj(e):null,s=hh(e);Aa();const o=dh(i,e,0,[e.props,r]);if(Pa(),s(),NR(o)){if(Hu(e)||CO(e),o.then(nT,nT),t)return o.then(a=>{iT(e,a,t)}).catch(a=>{ap(a,e,0)});e.asyncDep=o}else iT(e,o,t)}else JO(e,t)}function iT(e,t,n){vt(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:pn(t)&&(e.setupState=lO(t)),JO(e,n)}let rT;function JO(e,t,n){const i=e.type;if(!e.render){if(!t&&rT&&!i.render){const r=i.template||OS(e).template;if(r){const{isCustomElement:s,compilerOptions:o}=e.appContext.config,{delimiters:a,compilerOptions:l}=i,u=zn(zn({isCustomElement:s,delimiters:a},o),l);i.render=rT(r,u)}}e.render=i.render||Cs}{const r=hh(e);Aa();try{vj(e)}finally{Pa(),r()}}}const Yj={get(e,t){return Ui(e,"get",""),e[t]}};function Kj(e){const t=n=>{e.exposed=n||{}};return{attrs:new Proxy(e.attrs,Yj),slots:e.slots,emit:e.emit,expose:t}}function hp(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(lO(SS(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in Wd)return Wd[n](e)},has(t,n){return n in t||n in Wd}})):e.proxy}function Xj(e,t=!0){return vt(e)?e.displayName||e.name:e.name||t&&e.__name}function Qj(e){return vt(e)&&"__vccOpts"in e}const I=(e,t)=>X3(e,t,fp);function ni(e,t,n){const i=arguments.length;return i===2?pn(t)&&!st(t)?kl(t)?h(e,null,[t]):h(e,t):h(e,null,t):(i>3?n=Array.prototype.slice.call(arguments,2):i===3&&kl(n)&&(n=[n]),h(e,t,n))}const Jj="3.5.7";/**
* @vue/runtime-dom v3.5.7
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let xb;const sT=typeof window<"u"&&window.trustedTypes;if(sT)try{xb=sT.createPolicy("vue",{createHTML:e=>e})}catch{}const ZO=xb?e=>xb.createHTML(e):e=>e,Zj="http://www.w3.org/2000/svg",e5="http://www.w3.org/1998/Math/MathML",to=typeof document<"u"?document:null,oT=to&&to.createElement("template"),t5={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,i)=>{const r=t==="svg"?to.createElementNS(Zj,e):t==="mathml"?to.createElementNS(e5,e):n?to.createElement(e,{is:n}):to.createElement(e);return e==="select"&&i&&i.multiple!=null&&r.setAttribute("multiple",i.multiple),r},createText:e=>to.createTextNode(e),createComment:e=>to.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>to.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,i,r,s){const o=n?n.previousSibling:t.lastChild;if(r&&(r===s||r.nextSibling))for(;t.insertBefore(r.cloneNode(!0),n),!(r===s||!(r=r.nextSibling)););else{oT.innerHTML=ZO(i==="svg"?`<svg>${e}</svg>`:i==="mathml"?`<math>${e}</math>`:e);const a=oT.content;if(i==="svg"||i==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}t.insertBefore(a,n)}return[o?o.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},jo="transition",pd="animation",ic=Symbol("_vtc"),eV={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},tV=zn({},bO,eV),n5=e=>(e.displayName="Transition",e.props=tV,e),va=n5((e,{slots:t})=>ni(oj,nV(e),t)),qa=(e,t=[])=>{st(e)?e.forEach(n=>n(...t)):e&&e(...t)},aT=e=>e?st(e)?e.some(t=>t.length>1):e.length>1:!1;function nV(e){const t={};for(const P in e)P in eV||(t[P]=e[P]);if(e.css===!1)return t;const{name:n="v",type:i,duration:r,enterFromClass:s=`${n}-enter-from`,enterActiveClass:o=`${n}-enter-active`,enterToClass:a=`${n}-enter-to`,appearFromClass:l=s,appearActiveClass:u=o,appearToClass:d=a,leaveFromClass:c=`${n}-leave-from`,leaveActiveClass:f=`${n}-leave-active`,leaveToClass:v=`${n}-leave-to`}=e,m=i5(r),p=m&&m[0],_=m&&m[1],{onBeforeEnter:y,onEnter:b,onEnterCancelled:C,onLeave:k,onLeaveCancelled:R,onBeforeAppear:O=y,onAppear:x=b,onAppearCancelled:S=C}=t,w=(P,D,B)=>{zo(P,D?d:a),zo(P,D?u:o),B&&B()},E=(P,D)=>{P._isLeaving=!1,zo(P,c),zo(P,v),zo(P,f),D&&D()},A=P=>(D,B)=>{const $=P?x:b,j=()=>w(D,P,B);qa($,[D,j]),lT(()=>{zo(D,P?l:s),Zs(D,P?d:a),aT($)||uT(D,i,p,j)})};return zn(t,{onBeforeEnter(P){qa(y,[P]),Zs(P,s),Zs(P,o)},onBeforeAppear(P){qa(O,[P]),Zs(P,l),Zs(P,u)},onEnter:A(!1),onAppear:A(!0),onLeave(P,D){P._isLeaving=!0;const B=()=>E(P,D);Zs(P,c),Zs(P,f),rV(),lT(()=>{P._isLeaving&&(zo(P,c),Zs(P,v),aT(k)||uT(P,i,_,B))}),qa(k,[P,B])},onEnterCancelled(P){w(P,!1),qa(C,[P])},onAppearCancelled(P){w(P,!0),qa(S,[P])},onLeaveCancelled(P){E(P),qa(R,[P])}})}function i5(e){if(e==null)return null;if(pn(e))return[my(e.enter),my(e.leave)];{const t=my(e);return[t,t]}}function my(e){return v3(e)}function Zs(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.add(n)),(e[ic]||(e[ic]=new Set)).add(t)}function zo(e,t){t.split(/\s+/).forEach(i=>i&&e.classList.remove(i));const n=e[ic];n&&(n.delete(t),n.size||(e[ic]=void 0))}function lT(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let r5=0;function uT(e,t,n,i){const r=e._endId=++r5,s=()=>{r===e._endId&&i()};if(n!=null)return setTimeout(s,n);const{type:o,timeout:a,propCount:l}=iV(e,t);if(!o)return i();const u=o+"end";let d=0;const c=()=>{e.removeEventListener(u,f),s()},f=v=>{v.target===e&&++d>=l&&c()};setTimeout(()=>{d<l&&c()},a+1),e.addEventListener(u,f)}function iV(e,t){const n=window.getComputedStyle(e),i=m=>(n[m]||"").split(", "),r=i(`${jo}Delay`),s=i(`${jo}Duration`),o=cT(r,s),a=i(`${pd}Delay`),l=i(`${pd}Duration`),u=cT(a,l);let d=null,c=0,f=0;t===jo?o>0&&(d=jo,c=o,f=s.length):t===pd?u>0&&(d=pd,c=u,f=l.length):(c=Math.max(o,u),d=c>0?o>u?jo:pd:null,f=d?d===jo?s.length:l.length:0);const v=d===jo&&/\b(transform|all)(,|$)/.test(i(`${jo}Property`).toString());return{type:d,timeout:c,propCount:f,hasTransform:v}}function cT(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((n,i)=>dT(n)+dT(e[i])))}function dT(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}function rV(){return document.body.offsetHeight}function s5(e,t,n){const i=e[ic];i&&(t=(t?[t,...i]:[...i]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const Rm=Symbol("_vod"),sV=Symbol("_vsh"),fs={beforeMount(e,{value:t},{transition:n}){e[Rm]=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):_d(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:i}){!t!=!n&&(i?t?(i.beforeEnter(e),_d(e,!0),i.enter(e)):i.leave(e,()=>{_d(e,!1)}):_d(e,t))},beforeUnmount(e,{value:t}){_d(e,t)}};function _d(e,t){e.style.display=t?e[Rm]:"none",e[sV]=!t}const o5=Symbol(""),a5=/(^|;)\s*display\s*:/;function l5(e,t,n){const i=e.style,r=Dn(n);let s=!1;if(n&&!r){if(t)if(Dn(t))for(const o of t.split(";")){const a=o.slice(0,o.indexOf(":")).trim();n[a]==null&&Zv(i,a,"")}else for(const o in t)n[o]==null&&Zv(i,o,"");for(const o in n)o==="display"&&(s=!0),Zv(i,o,n[o])}else if(r){if(t!==n){const o=i[o5];o&&(n+=";"+o),i.cssText=n,s=a5.test(n)}}else t&&e.removeAttribute("style");Rm in e&&(e[Rm]=s?i.display:"",e[sV]&&(i.display="none"))}const fT=/\s*!important$/;function Zv(e,t,n){if(st(n))n.forEach(i=>Zv(e,t,i));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const i=u5(e,t);fT.test(n)?e.setProperty(Ia(i),n.replace(fT,""),"important"):e[i]=n}}const hT=["Webkit","Moz","ms"],gy={};function u5(e,t){const n=gy[t];if(n)return n;let i=ur(t);if(i!=="filter"&&i in e)return gy[t]=i;i=Fs(i);for(let r=0;r<hT.length;r++){const s=hT[r]+i;if(s in e)return gy[t]=s}return t}const vT="http://www.w3.org/1999/xlink";function mT(e,t,n,i,r,s=b3(t)){i&&t.startsWith("xlink:")?n==null?e.removeAttributeNS(vT,t.slice(6,t.length)):e.setAttributeNS(vT,t,n):n==null||s&&!UR(n)?e.removeAttribute(t):e.setAttribute(t,s?"":Ta(n)?String(n):n)}function c5(e,t,n,i){if(t==="innerHTML"||t==="textContent"){n!=null&&(e[t]=t==="innerHTML"?ZO(n):n);return}const r=e.tagName;if(t==="value"&&r!=="PROGRESS"&&!r.includes("-")){const o=r==="OPTION"?e.getAttribute("value")||"":e.value,a=n==null?e.type==="checkbox"?"on":"":String(n);(o!==a||!("_value"in e))&&(e.value=a),n==null&&e.removeAttribute(t),e._value=n;return}let s=!1;if(n===""||n==null){const o=typeof e[t];o==="boolean"?n=UR(n):n==null&&o==="string"?(n="",s=!0):o==="number"&&(n=0,s=!0)}try{e[t]=n}catch{}s&&e.removeAttribute(t)}function Au(e,t,n,i){e.addEventListener(t,n,i)}function d5(e,t,n,i){e.removeEventListener(t,n,i)}const gT=Symbol("_vei");function f5(e,t,n,i,r=null){const s=e[gT]||(e[gT]={}),o=s[t];if(i&&o)o.value=i;else{const[a,l]=h5(t);if(i){const u=s[t]=g5(i,r);Au(e,a,u,l)}else o&&(d5(e,a,o,l),s[t]=void 0)}}const pT=/(?:Once|Passive|Capture)$/;function h5(e){let t;if(pT.test(e)){t={};let i;for(;i=e.match(pT);)e=e.slice(0,e.length-i[0].length),t[i[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Ia(e.slice(2)),t]}let py=0;const v5=Promise.resolve(),m5=()=>py||(v5.then(()=>py=0),py=Date.now());function g5(e,t){const n=i=>{if(!i._vts)i._vts=Date.now();else if(i._vts<=n.attached)return;rs(p5(i,n.value),t,5,[i])};return n.value=e,n.attached=m5(),n}function p5(e,t){if(st(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(i=>r=>!r._stopped&&i&&i(r))}else return t}const _T=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,_5=(e,t,n,i,r,s)=>{const o=r==="svg";t==="class"?s5(e,i,o):t==="style"?l5(e,n,i):Zg(t)?fS(t)||f5(e,t,n,i,s):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):y5(e,t,i,o))?(c5(e,t,i),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&mT(e,t,i,o,s,t!=="value")):(t==="true-value"?e._trueValue=i:t==="false-value"&&(e._falseValue=i),mT(e,t,i,o))};function y5(e,t,n,i){if(i)return!!(t==="innerHTML"||t==="textContent"||t in e&&_T(t)&&vt(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const r=e.tagName;if(r==="IMG"||r==="VIDEO"||r==="CANVAS"||r==="SOURCE")return!1}return _T(t)&&Dn(n)?!1:!!(t in e||e._isVueCE&&(/[A-Z]/.test(t)||!Dn(n)))}const oV=new WeakMap,aV=new WeakMap,Om=Symbol("_moveCb"),yT=Symbol("_enterCb"),b5=e=>(delete e.props.mode,e),w5=b5({name:"TransitionGroup",props:zn({},tV,{tag:String,moveClass:String}),setup(e,{slots:t}){const n=zl(),i=yO();let r,s;return PS(()=>{if(!r.length)return;const o=e.moveClass||`${e.name||"v"}-move`;if(!k5(r[0].el,n.vnode.el,o))return;r.forEach(S5),r.forEach(E5);const a=r.filter(C5);rV(),a.forEach(l=>{const u=l.el,d=u.style;Zs(u,o),d.transform=d.webkitTransform=d.transitionDuration="";const c=u[Om]=f=>{f&&f.target!==u||(!f||/transform$/.test(f.propertyName))&&(u.removeEventListener("transitionend",c),u[Om]=null,zo(u,o))};u.addEventListener("transitionend",c)})}),()=>{const o=Ge(e),a=nV(o);let l=o.tag||Te;if(r=[],s)for(let u=0;u<s.length;u++){const d=s[u];d.el&&d.el instanceof Element&&(r.push(d),Cl(d,gf(d,a,i,n)),oV.set(d,d.el.getBoundingClientRect()))}s=t.default?TS(t.default()):[];for(let u=0;u<s.length;u++){const d=s[u];d.key!=null&&Cl(d,gf(d,a,i,n))}return h(l,null,s)}}}),FS=w5;function S5(e){const t=e.el;t[Om]&&t[Om](),t[yT]&&t[yT]()}function E5(e){aV.set(e,e.el.getBoundingClientRect())}function C5(e){const t=oV.get(e),n=aV.get(e),i=t.left-n.left,r=t.top-n.top;if(i||r){const s=e.el.style;return s.transform=s.webkitTransform=`translate(${i}px,${r}px)`,s.transitionDuration="0s",e}}function k5(e,t,n){const i=e.cloneNode(),r=e[ic];r&&r.forEach(a=>{a.split(/\s+/).forEach(l=>l&&i.classList.remove(l))}),n.split(/\s+/).forEach(a=>a&&i.classList.add(a)),i.style.display="none";const s=t.nodeType===1?t:t.parentNode;s.appendChild(i);const{hasTransform:o}=iV(i);return s.removeChild(i),o}const bT=e=>{const t=e.props["onUpdate:modelValue"]||!1;return st(t)?n=>Xv(t,n):t};function T5(e){e.target.composing=!0}function wT(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const _y=Symbol("_assign"),I5={created(e,{modifiers:{lazy:t,trim:n,number:i}},r){e[_y]=bT(r);const s=i||r.props&&r.props.type==="number";Au(e,t?"change":"input",o=>{if(o.target.composing)return;let a=e.value;n&&(a=a.trim()),s&&(a=yb(a)),e[_y](a)}),n&&Au(e,"change",()=>{e.value=e.value.trim()}),t||(Au(e,"compositionstart",T5),Au(e,"compositionend",wT),Au(e,"change",wT))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:n,modifiers:{lazy:i,trim:r,number:s}},o){if(e[_y]=bT(o),e.composing)return;const a=(s||e.type==="number")&&!/^0\d/.test(e.value)?yb(e.value):e.value,l=t??"";a!==l&&(document.activeElement===e&&e.type!=="range"&&(i&&t===n||r&&e.value.trim()===l)||(e.value=l))}},A5=["ctrl","shift","alt","meta"],P5={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>A5.some(n=>e[`${n}Key`]&&!t.includes(n))},Tl=(e,t)=>{const n=e._withMods||(e._withMods={}),i=t.join(".");return n[i]||(n[i]=(r,...s)=>{for(let o=0;o<t.length;o++){const a=P5[t[o]];if(a&&a(r,t))return}return e(r,...s)})},x5=zn({patchProp:_5},t5);let ST;function lV(){return ST||(ST=Ij(x5))}const uV=(...e)=>{lV().render(...e)},cV=(...e)=>{const t=lV().createApp(...e),{mount:n}=t;return t.mount=i=>{const r=R5(i);if(!r)return;const s=t._component;!vt(s)&&!s.render&&!s.template&&(s.template=r.innerHTML),r.nodeType===1&&(r.textContent="");const o=n(r,!1,D5(r));return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),o},t};function D5(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function R5(e){return Dn(e)?document.querySelector(e):e}var O5=!1;/*!
 * pinia v2.2.2
 * (c) 2024 Eduardo San Martin Morote
 * @license MIT
 */const V5=Symbol();var ET;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(ET||(ET={}));function N5(){const e=ch(!0),t=e.run(()=>W({}));let n=[],i=[];const r=SS({install(s){r._a=s,s.provide(V5,r),s.config.globalProperties.$pinia=r,i.forEach(o=>n.push(o)),i=[]},use(s){return!this._a&&!O5?i.push(s):n.push(s),this},_p:n,_a:null,_e:e,_s:new Map,state:t});return r}const vh={TOP_LEFT:"top-left",TOP_RIGHT:"top-right",TOP_CENTER:"top-center",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",BOTTOM_CENTER:"bottom-center"},rc={LIGHT:"light",DARK:"dark",COLORED:"colored",AUTO:"auto"},Zi={INFO:"info",SUCCESS:"success",WARNING:"warning",ERROR:"error",DEFAULT:"default"},M5={BOUNCE:"bounce",SLIDE:"slide",FLIP:"flip",ZOOM:"zoom",NONE:"none"},dV={dangerouslyHTMLString:!1,multiple:!0,position:vh.TOP_RIGHT,autoClose:5e3,transition:"bounce",hideProgressBar:!1,pauseOnHover:!0,pauseOnFocusLoss:!0,closeOnClick:!0,className:"",bodyClassName:"",style:{},progressClassName:"",progressStyle:{},role:"alert",theme:"light"},L5={rtl:!1,newestOnTop:!1,toastClassName:""},fV={...dV,...L5};({...dV,type:Zi.DEFAULT});var Yt=(e=>(e[e.COLLAPSE_DURATION=300]="COLLAPSE_DURATION",e[e.DEBOUNCE_DURATION=50]="DEBOUNCE_DURATION",e.CSS_NAMESPACE="Toastify",e))(Yt||{}),Db=(e=>(e.ENTRANCE_ANIMATION_END="d",e))(Db||{});const F5={enter:"Toastify--animate Toastify__bounce-enter",exit:"Toastify--animate Toastify__bounce-exit",appendPosition:!0},$5={enter:"Toastify--animate Toastify__slide-enter",exit:"Toastify--animate Toastify__slide-exit",appendPosition:!0},B5={enter:"Toastify--animate Toastify__zoom-enter",exit:"Toastify--animate Toastify__zoom-exit"},U5={enter:"Toastify--animate Toastify__flip-enter",exit:"Toastify--animate Toastify__flip-exit"},CT="Toastify--animate Toastify__none-enter";function hV(e,t=!1){var n;let i=F5;if(!e||typeof e=="string")switch(e){case"flip":i=U5;break;case"zoom":i=B5;break;case"slide":i=$5;break}else i=e;if(t)i.enter=CT;else if(i.enter===CT){const r=(n=i.exit.split("__")[1])==null?void 0:n.split("-")[0];i.enter=`Toastify--animate Toastify__${r}-enter`}return i}function j5(e){return e.containerId||String(e.position)}const vp="will-unmount";function H5(e=vh.TOP_RIGHT){return!!document.querySelector(`.${Yt.CSS_NAMESPACE}__toast-container--${e}`)}function W5(e=vh.TOP_RIGHT){return`${Yt.CSS_NAMESPACE}__toast-container--${e}`}function z5(e,t,n=!1){const i=[`${Yt.CSS_NAMESPACE}__toast-container`,`${Yt.CSS_NAMESPACE}__toast-container--${e}`,n?`${Yt.CSS_NAMESPACE}__toast-container--rtl`:null].filter(Boolean).join(" ");return zu(t)?t({position:e,rtl:n,defaultClassName:i}):`${i} ${t||""}`}function G5(e){var t;const{position:n,containerClassName:i,rtl:r=!1,style:s={}}=e,o=Yt.CSS_NAMESPACE,a=W5(n),l=document.querySelector(`.${o}`),u=document.querySelector(`.${a}`),d=!!u&&!((t=u.className)!=null&&t.includes(vp)),c=l||document.createElement("div"),f=document.createElement("div");f.className=z5(n,i,r),f.dataset.testid=`${Yt.CSS_NAMESPACE}__toast-container--${n}`,f.id=j5(e);for(const v in s)if(Object.prototype.hasOwnProperty.call(s,v)){const m=s[v];f.style[v]=m}return l||(c.className=Yt.CSS_NAMESPACE,document.body.appendChild(c)),d||c.appendChild(f),f}function Rb(e){var t,n,i;const r=typeof e=="string"?e:((t=e.currentTarget)==null?void 0:t.id)||((n=e.target)==null?void 0:n.id),s=document.getElementById(r);s&&s.removeEventListener("animationend",Rb,!1);try{_f[r].unmount(),(i=document.getElementById(r))==null||i.remove(),delete _f[r],delete gi[r]}catch{}}const _f=cn({});function q5(e,t){const n=document.getElementById(String(t));n&&(_f[n.id]=e)}function Ob(e,t=!0){const n=String(e);if(!_f[n])return;const i=document.getElementById(n);i&&i.classList.add(vp),t?(K5(e),i&&i.addEventListener("animationend",Rb,!1)):Rb(n),Rs.items=Rs.items.filter(r=>r.containerId!==e)}function Y5(e){for(const t in _f)Ob(t,e);Rs.items=[]}function vV(e,t){const n=document.getElementById(e.toastId);if(n){let i=e;i={...i,...hV(i.transition)};const r=i.appendPosition?`${i.exit}--${i.position}`:i.exit;n.className+=` ${r}`,t&&t(n)}}function K5(e){for(const t in gi)if(t===e)for(const n of gi[t]||[])vV(n)}function X5(e){const t=sc().find(n=>n.toastId===e);return t==null?void 0:t.containerId}function $S(e){return document.getElementById(e)}function Q5(e){const t=$S(e.containerId);return t&&t.classList.contains(vp)}function kT(e){var t;const n=kl(e.content)?Ge(e.content.props):null;return n??Ge((t=e.data)!=null?t:{})}function J5(e){return e?Rs.items.filter(t=>t.containerId===e).length>0:Rs.items.length>0}function Z5(){if(Rs.items.length>0){const e=Rs.items.shift();em(e==null?void 0:e.toastContent,e==null?void 0:e.toastProps)}}const gi=cn({}),Rs=cn({items:[]});function sc(){const e=Ge(gi);return Object.values(e).reduce((t,n)=>[...t,...n],[])}function eH(e){return sc().find(t=>t.toastId===e)}function em(e,t={}){if(Q5(t)){const n=$S(t.containerId);n&&n.addEventListener("animationend",Vb.bind(null,e,t),!1)}else Vb(e,t)}function Vb(e,t={}){const n=$S(t.containerId);n&&n.removeEventListener("animationend",Vb.bind(null,e,t),!1);const i=gi[t.containerId]||[],r=i.length>0;if(!r&&!H5(t.position)){const s=G5(t),o=cV(yH,t);o.mount(s),q5(o,s.id)}r&&!t.updateId&&(t.position=i[0].position),at(()=>{t.updateId?gr.update(t):gr.add(e,t)})}const gr={add(e,t){const{containerId:n=""}=t;n&&(gi[n]=gi[n]||[],gi[n].find(i=>i.toastId===t.toastId)||setTimeout(()=>{var i,r;t.newestOnTop?(i=gi[n])==null||i.unshift(t):(r=gi[n])==null||r.push(t),t.onOpen&&t.onOpen(kT(t))},t.delay||0))},remove(e){if(e){const t=X5(e);if(t){const n=gi[t];let i=n.find(r=>r.toastId===e);gi[t]=n.filter(r=>r.toastId!==e),!gi[t].length&&!J5(t)&&Ob(t,!1),Z5(),at(()=>{i!=null&&i.onClose&&(i.onClose(kT(i)),i=void 0)})}}},update(e={}){const{containerId:t=""}=e;if(t&&e.updateId){gi[t]=gi[t]||[];const n=gi[t].find(s=>s.toastId===e.toastId),i=(n==null?void 0:n.position)!==e.position||(n==null?void 0:n.transition)!==e.transition,r={...e,disabledEnterTransition:!i,updateId:void 0};gr.dismissForce(e==null?void 0:e.toastId),setTimeout(()=>{Xe(r.content,r)},e.delay||0)}},clear(e,t=!0){e?Ob(e,t):Y5(t)},dismissCallback(e){var t;const n=(t=e.currentTarget)==null?void 0:t.id,i=document.getElementById(n);i&&(i.removeEventListener("animationend",gr.dismissCallback,!1),setTimeout(()=>{gr.remove(n)}))},dismiss(e){if(e){const t=sc();for(const n of t)if(n.toastId===e){vV(n,i=>{i.addEventListener("animationend",gr.dismissCallback,!1)});break}}},dismissForce(e){if(e){const t=sc();for(const n of t)if(n.toastId===e){const i=document.getElementById(e);i&&(i.remove(),i.removeEventListener("animationend",gr.dismissCallback,!1),gr.remove(e));break}}}},mV=cn({}),Vm=cn({});function gV(){return Math.random().toString(36).substring(2,9)}function tH(e){return typeof e=="number"&&!isNaN(e)}function Nb(e){return typeof e=="string"}function zu(e){return typeof e=="function"}function mp(...e){return Z(...e)}function tm(e){return typeof e=="object"&&(!!(e!=null&&e.render)||!!(e!=null&&e.setup)||typeof(e==null?void 0:e.type)=="object")}function nH(e={}){mV[`${Yt.CSS_NAMESPACE}-default-options`]=e}function iH(){return mV[`${Yt.CSS_NAMESPACE}-default-options`]||fV}function rH(){return document.documentElement.classList.contains("dark")?"dark":"light"}var nm=(e=>(e[e.Enter=0]="Enter",e[e.Exit=1]="Exit",e))(nm||{});const pV={containerId:{type:[String,Number],required:!1,default:""},clearOnUrlChange:{type:Boolean,required:!1,default:!0},disabledEnterTransition:{type:Boolean,required:!1,default:!1},dangerouslyHTMLString:{type:Boolean,required:!1,default:!1},multiple:{type:Boolean,required:!1,default:!0},limit:{type:Number,required:!1,default:void 0},position:{type:String,required:!1,default:vh.TOP_LEFT},bodyClassName:{type:String,required:!1,default:""},autoClose:{type:[Number,Boolean],required:!1,default:!1},closeButton:{type:[Boolean,Function,Object],required:!1,default:void 0},transition:{type:[String,Object],required:!1,default:"bounce"},hideProgressBar:{type:Boolean,required:!1,default:!1},pauseOnHover:{type:Boolean,required:!1,default:!0},pauseOnFocusLoss:{type:Boolean,required:!1,default:!0},closeOnClick:{type:Boolean,required:!1,default:!0},progress:{type:Number,required:!1,default:void 0},progressClassName:{type:String,required:!1,default:""},toastStyle:{type:Object,required:!1,default(){return{}}},progressStyle:{type:Object,required:!1,default(){return{}}},role:{type:String,required:!1,default:"alert"},theme:{type:String,required:!1,default:rc.AUTO},content:{type:[String,Object,Function],required:!1,default:""},toastId:{type:[String,Number],required:!1,default:""},data:{type:[Object,String],required:!1,default(){return{}}},type:{type:String,required:!1,default:Zi.DEFAULT},icon:{type:[Boolean,String,Number,Object,Function],required:!1,default:void 0},delay:{type:Number,required:!1,default:void 0},onOpen:{type:Function,required:!1,default:void 0},onClose:{type:Function,required:!1,default:void 0},onClick:{type:Function,required:!1,default:void 0},isLoading:{type:Boolean,required:!1,default:void 0},rtl:{type:Boolean,required:!1,default:!1},toastClassName:{type:String,required:!1,default:""},updateId:{type:[String,Number],required:!1,default:""}},sH={autoClose:{type:[Number,Boolean],required:!0},isRunning:{type:Boolean,required:!1,default:void 0},type:{type:String,required:!1,default:Zi.DEFAULT},theme:{type:String,required:!1,default:rc.AUTO},hide:{type:Boolean,required:!1,default:void 0},className:{type:[String,Function],required:!1,default:""},controlledProgress:{type:Boolean,required:!1,default:void 0},rtl:{type:Boolean,required:!1,default:void 0},isIn:{type:Boolean,required:!1,default:void 0},progress:{type:Number,required:!1,default:void 0},closeToast:{type:Function,required:!1,default:void 0}},oH=At({name:"ProgressBar",props:sH,setup(e,{attrs:t}){const n=W(),i=I(()=>e.hide?"true":"false"),r=I(()=>({...t.style||{},animationDuration:`${e.autoClose===!0?5e3:e.autoClose}ms`,animationPlayState:e.isRunning?"running":"paused",opacity:e.hide||e.autoClose===!1?0:1,transform:e.controlledProgress?`scaleX(${e.progress})`:"none"})),s=I(()=>[`${Yt.CSS_NAMESPACE}__progress-bar`,e.controlledProgress?`${Yt.CSS_NAMESPACE}__progress-bar--controlled`:`${Yt.CSS_NAMESPACE}__progress-bar--animated`,`${Yt.CSS_NAMESPACE}__progress-bar-theme--${e.theme}`,`${Yt.CSS_NAMESPACE}__progress-bar--${e.type}`,e.rtl?`${Yt.CSS_NAMESPACE}__progress-bar--rtl`:null].filter(Boolean).join(" ")),o=I(()=>`${s.value} ${(t==null?void 0:t.class)||""}`),a=()=>{n.value&&(n.value.onanimationend=null,n.value.ontransitionend=null)},l=()=>{e.isIn&&e.closeToast&&e.autoClose!==!1&&(e.closeToast(),a())},u=I(()=>e.controlledProgress?null:l),d=I(()=>e.controlledProgress?l:null);return rn(()=>{n.value&&(a(),n.value.onanimationend=u.value,n.value.ontransitionend=d.value)}),()=>h("div",{ref:n,role:"progressbar","aria-hidden":i.value,"aria-label":"notification timer",class:o.value,style:r.value},null)}}),aH=At({name:"CloseButton",inheritAttrs:!1,props:{theme:{type:String,required:!1,default:rc.AUTO},type:{type:String,required:!1,default:rc.LIGHT},ariaLabel:{type:String,required:!1,default:"close"},closeToast:{type:Function,required:!1,default:void 0}},setup(e){return()=>h("button",{class:`${Yt.CSS_NAMESPACE}__close-button ${Yt.CSS_NAMESPACE}__close-button--${e.theme}`,type:"button",onClick:t=>{t.stopPropagation(),e.closeToast&&e.closeToast(t)},"aria-label":e.ariaLabel},[h("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},[h("path",{"fill-rule":"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"},null)])])}}),gp=({theme:e,type:t,path:n,...i})=>h("svg",Z({viewBox:"0 0 24 24",width:"100%",height:"100%",fill:e==="colored"?"currentColor":`var(--toastify-icon-color-${t})`},i),[h("path",{d:n},null)]);function lH(e){return h(gp,Z(e,{path:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}),null)}function uH(e){return h(gp,Z(e,{path:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}),null)}function cH(e){return h(gp,Z(e,{path:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}),null)}function dH(e){return h(gp,Z(e,{path:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}),null)}function fH(){return h("div",{class:`${Yt.CSS_NAMESPACE}__spinner`},null)}const Mb={info:uH,warning:lH,success:cH,error:dH,spinner:fH},hH=e=>e in Mb;function vH({theme:e,type:t,isLoading:n,icon:i}){let r;const s={theme:e,type:t};return n?r=Mb.spinner():i===!1?r=void 0:tm(i)?r=Ge(i):zu(i)?r=i(s):kl(i)?r=Ds(i,s):Nb(i)||tH(i)?r=i:hH(t)&&(r=Mb[t](s)),r}const mH=()=>{};function gH(e,t,n=Yt.COLLAPSE_DURATION){const{scrollHeight:i,style:r}=e,s=n;requestAnimationFrame(()=>{r.minHeight="initial",r.height=i+"px",r.transition=`all ${s}ms`,requestAnimationFrame(()=>{r.height="0",r.padding="0",r.margin="0",setTimeout(t,s)})})}function pH(e){const t=W(!1),n=W(!1),i=W(!1),r=W(nm.Enter),s=cn({...e,appendPosition:e.appendPosition||!1,collapse:typeof e.collapse>"u"?!0:e.collapse,collapseDuration:e.collapseDuration||Yt.COLLAPSE_DURATION}),o=s.done||mH,a=I(()=>s.appendPosition?`${s.enter}--${s.position}`:s.enter),l=I(()=>s.appendPosition?`${s.exit}--${s.position}`:s.exit),u=I(()=>e.pauseOnHover?{onMouseenter:_,onMouseleave:p}:{});function d(){const b=a.value.split(" ");f().addEventListener(Db.ENTRANCE_ANIMATION_END,p,{once:!0});const C=R=>{const O=f();R.target===O&&(O.dispatchEvent(new Event(Db.ENTRANCE_ANIMATION_END)),O.removeEventListener("animationend",C),O.removeEventListener("animationcancel",C),r.value===nm.Enter&&R.type!=="animationcancel"&&O.classList.remove(...b))},k=()=>{const R=f();R.classList.add(...b),R.addEventListener("animationend",C),R.addEventListener("animationcancel",C)};e.pauseOnFocusLoss&&v(),k()}function c(){if(!f())return;const b=()=>{const k=f();k.removeEventListener("animationend",b),s.collapse?gH(k,o,s.collapseDuration):o()},C=()=>{const k=f();r.value=nm.Exit,k&&(k.className+=` ${l.value}`,k.addEventListener("animationend",b))};n.value||(i.value?b():setTimeout(C))}function f(){return e.toastRef.value}function v(){document.hasFocus()||_(),window.addEventListener("focus",p),window.addEventListener("blur",_)}function m(){window.removeEventListener("focus",p),window.removeEventListener("blur",_)}function p(){(!e.loading.value||e.isLoading===void 0)&&(t.value=!0)}function _(){t.value=!1}function y(b){b&&(b.stopPropagation(),b.preventDefault()),n.value=!1}return rn(c),rn(()=>{const b=sc();n.value=b.findIndex(C=>C.toastId===s.toastId)>-1}),rn(()=>{e.isLoading!==void 0&&(e.loading.value?_():p())}),bt(d),Ar(()=>{e.pauseOnFocusLoss&&m()}),{isIn:n,isRunning:t,hideToast:y,eventHandlers:u}}const _H=At({name:"ToastItem",inheritAttrs:!1,props:pV,setup(e){const t=W(),n=I(()=>!!e.isLoading),i=I(()=>e.progress!==void 0&&e.progress!==null),r=I(()=>vH(e)),s=I(()=>[`${Yt.CSS_NAMESPACE}__toast`,`${Yt.CSS_NAMESPACE}__toast-theme--${e.theme}`,`${Yt.CSS_NAMESPACE}__toast--${e.type}`,e.rtl?`${Yt.CSS_NAMESPACE}__toast--rtl`:void 0,e.toastClassName||""].filter(Boolean).join(" ")),{isRunning:o,isIn:a,hideToast:l,eventHandlers:u}=pH({toastRef:t,loading:n,done:()=>{gr.remove(e.toastId)},...hV(e.transition,e.disabledEnterTransition),...e});return()=>h("div",Z({id:e.toastId,class:s.value,style:e.toastStyle||{},ref:t,"data-testid":`toast-item-${e.toastId}`,onClick:d=>{e.closeOnClick&&l(),e.onClick&&e.onClick(d)}},u.value),[h("div",{role:e.role,"data-testid":"toast-body",class:`${Yt.CSS_NAMESPACE}__toast-body ${e.bodyClassName||""}`},[r.value!=null&&h("div",{"data-testid":`toast-icon-${e.type}`,class:[`${Yt.CSS_NAMESPACE}__toast-icon`,e.isLoading?"":`${Yt.CSS_NAMESPACE}--animate-icon ${Yt.CSS_NAMESPACE}__zoom-enter`].join(" ")},[tm(r.value)?ni(Ge(r.value),{theme:e.theme,type:e.type}):zu(r.value)?r.value({theme:e.theme,type:e.type}):r.value]),h("div",{"data-testid":"toast-content"},[tm(e.content)?ni(Ge(e.content),{toastProps:Ge(e),closeToast:l,data:e.data}):zu(e.content)?e.content({toastProps:Ge(e),closeToast:l,data:e.data}):e.dangerouslyHTMLString?ni("div",{innerHTML:e.content}):e.content])]),(e.closeButton===void 0||e.closeButton===!0)&&h(aH,{theme:e.theme,closeToast:d=>{d.stopPropagation(),d.preventDefault(),l()}},null),tm(e.closeButton)?ni(Ge(e.closeButton),{closeToast:l,type:e.type,theme:e.theme}):zu(e.closeButton)?e.closeButton({closeToast:l,type:e.type,theme:e.theme}):null,h(oH,{className:e.progressClassName,style:e.progressStyle,rtl:e.rtl,theme:e.theme,isIn:a.value,type:e.type,hide:e.hideProgressBar,isRunning:o.value,autoClose:e.autoClose,controlledProgress:i.value,progress:e.progress,closeToast:e.isLoading?void 0:l},null)])}});let Gd=0;function _V(){typeof window>"u"||(Gd&&window.cancelAnimationFrame(Gd),Gd=window.requestAnimationFrame(_V),Vm.lastUrl!==window.location.href&&(Vm.lastUrl=window.location.href,gr.clear()))}const yH=At({name:"ToastifyContainer",inheritAttrs:!1,props:pV,setup(e){const t=I(()=>e.containerId),n=I(()=>gi[t.value]||[]),i=I(()=>n.value.filter(r=>r.position===e.position));return bt(()=>{typeof window<"u"&&e.clearOnUrlChange&&window.requestAnimationFrame(_V)}),Ar(()=>{typeof window<"u"&&Gd&&(window.cancelAnimationFrame(Gd),Vm.lastUrl="")}),()=>h(Te,null,[i.value.map(r=>{const{toastId:s=""}=r;return h(_H,Z({key:s},r),null)})])}});let yy=!1;function yV(){const e=[];return sc().forEach(t=>{const n=document.getElementById(t.containerId);n&&!n.classList.contains(vp)&&e.push(t)}),e}function bH(e){const t=yV().length,n=e??0;return n>0&&t+Rs.items.length>=n}function wH(e){bH(e.limit)&&!e.updateId&&Rs.items.push({toastId:e.toastId,containerId:e.containerId,toastContent:e.content,toastProps:e})}function Da(e,t,n={}){if(yy)return;n=mp(iH(),{type:t},Ge(n)),(!n.toastId||typeof n.toastId!="string"&&typeof n.toastId!="number")&&(n.toastId=gV()),n={...n,content:e,containerId:n.containerId||String(n.position)};const i=Number(n==null?void 0:n.progress);return i<0&&(n.progress=0),i>1&&(n.progress=1),n.theme==="auto"&&(n.theme=rH()),wH(n),Vm.lastUrl=window.location.href,n.multiple?Rs.items.length?n.updateId&&em(e,n):em(e,n):(yy=!0,Xe.clearAll(void 0,!1),setTimeout(()=>{em(e,n)},0),setTimeout(()=>{yy=!1},390)),n.toastId}const Xe=(e,t)=>Da(e,Zi.DEFAULT,t);Xe.info=(e,t)=>Da(e,Zi.DEFAULT,{...t,type:Zi.INFO});Xe.error=(e,t)=>Da(e,Zi.DEFAULT,{...t,type:Zi.ERROR});Xe.warning=(e,t)=>Da(e,Zi.DEFAULT,{...t,type:Zi.WARNING});Xe.warn=Xe.warning;Xe.success=(e,t)=>Da(e,Zi.DEFAULT,{...t,type:Zi.SUCCESS});Xe.loading=(e,t)=>Da(e,Zi.DEFAULT,mp(t,{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1}));Xe.dark=(e,t)=>Da(e,Zi.DEFAULT,mp(t,{theme:rc.DARK}));Xe.remove=e=>{e?gr.dismiss(e):gr.clear()};Xe.clearAll=(e,t)=>{at(()=>{gr.clear(e,t)})};Xe.isActive=e=>{let t=!1;return t=yV().findIndex(n=>n.toastId===e)>-1,t};Xe.update=(e,t={})=>{setTimeout(()=>{const n=eH(e);if(n){const i=Ge(n),{content:r}=i,s={...i,...t,toastId:t.toastId||e,updateId:gV()},o=s.render||r;delete s.render,Da(o,s.type,s)}},0)};Xe.done=e=>{Xe.update(e,{isLoading:!1,progress:1})};Xe.promise=SH;function SH(e,{pending:t,error:n,success:i},r){var s,o,a;let l;const u={...r||{},autoClose:!1};t&&(l=Nb(t)?Xe.loading(t,u):Xe.loading(t.render,{...u,...t}));const d={autoClose:(s=r==null?void 0:r.autoClose)!=null?s:!0,closeOnClick:(o=r==null?void 0:r.closeOnClick)!=null?o:!0,closeButton:(a=r==null?void 0:r.autoClose)!=null?a:null,isLoading:void 0,draggable:null,delay:100},c=(v,m,p)=>{if(m==null){Xe.remove(l);return}const _={type:v,...d,...r,data:p},y=Nb(m)?{render:m}:m;return l?Xe.update(l,{..._,...y,isLoading:!1}):Xe(y.render,{..._,...y,isLoading:!1}),p},f=zu(e)?e():e;return f.then(v=>{c("success",i,v)}).catch(v=>{c("error",n,v)}),f}Xe.POSITION=vh;Xe.THEME=rc;Xe.TYPE=Zi;Xe.TRANSITIONS=M5;const bV={install(e,t={}){EH(t)}};typeof window<"u"&&(window.Vue3Toastify=bV);function EH(e={}){const t=mp(fV,e);nH(t)}var TT={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wV={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ue=function(e,t){if(!e)throw Dc(t)},Dc=function(e){return new Error("Firebase Database ("+wV.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SV=function(e){const t=[];let n=0;for(let i=0;i<e.length;i++){let r=e.charCodeAt(i);r<128?t[n++]=r:r<2048?(t[n++]=r>>6|192,t[n++]=r&63|128):(r&64512)===55296&&i+1<e.length&&(e.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(e.charCodeAt(++i)&1023),t[n++]=r>>18|240,t[n++]=r>>12&63|128,t[n++]=r>>6&63|128,t[n++]=r&63|128):(t[n++]=r>>12|224,t[n++]=r>>6&63|128,t[n++]=r&63|128)}return t},CH=function(e){const t=[];let n=0,i=0;for(;n<e.length;){const r=e[n++];if(r<128)t[i++]=String.fromCharCode(r);else if(r>191&&r<224){const s=e[n++];t[i++]=String.fromCharCode((r&31)<<6|s&63)}else if(r>239&&r<365){const s=e[n++],o=e[n++],a=e[n++],l=((r&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;t[i++]=String.fromCharCode(55296+(l>>10)),t[i++]=String.fromCharCode(56320+(l&1023))}else{const s=e[n++],o=e[n++];t[i++]=String.fromCharCode((r&15)<<12|(s&63)<<6|o&63)}}return t.join("")},pp={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<e.length;r+=3){const s=e[r],o=r+1<e.length,a=o?e[r+1]:0,l=r+2<e.length,u=l?e[r+2]:0,d=s>>2,c=(s&3)<<4|a>>4;let f=(a&15)<<2|u>>6,v=u&63;l||(v=64,o||(f=64)),i.push(n[d],n[c],n[f],n[v])}return i.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(SV(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):CH(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<e.length;){const s=n[e.charAt(r++)],a=r<e.length?n[e.charAt(r)]:0;++r;const u=r<e.length?n[e.charAt(r)]:64;++r;const c=r<e.length?n[e.charAt(r)]:64;if(++r,s==null||a==null||u==null||c==null)throw new kH;const f=s<<2|a>>4;if(i.push(f),u!==64){const v=a<<4&240|u>>2;if(i.push(v),c!==64){const m=u<<6&192|c;i.push(m)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class kH extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const EV=function(e){const t=SV(e);return pp.encodeByteArray(t,!0)},Nm=function(e){return EV(e).replace(/\./g,"")},Mm=function(e){try{return pp.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TH(e){return CV(void 0,e)}function CV(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:const n=t;return new Date(n.getTime());case Object:e===void 0&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)!t.hasOwnProperty(n)||!IH(n)||(e[n]=CV(e[n],t[n]));return e}function IH(e){return e!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AH(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PH=()=>AH().__FIREBASE_DEFAULTS__,xH=()=>{if(typeof process>"u"||typeof TT>"u")return;const e=TT.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},DH=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&Mm(e[1]);return t&&JSON.parse(t)},_p=()=>{try{return PH()||xH()||DH()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},kV=e=>{var t,n;return(n=(t=_p())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},RH=e=>{const t=kV(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),i]:[t.substring(0,n),i]},TV=()=>{var e;return(e=_p())===null||e===void 0?void 0:e.config},IV=e=>{var t;return(t=_p())===null||t===void 0?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yf{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OH(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=t||"demo-project",r=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Nm(JSON.stringify(n)),Nm(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ji(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function BS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ji())}function VH(){var e;const t=(e=_p())===null||e===void 0?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function NH(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function MH(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function AV(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function LH(){const e=ji();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function PV(){return wV.NODE_ADMIN===!0}function FH(){return!VH()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function xV(){try{return typeof indexedDB=="object"}catch{return!1}}function $H(){return new Promise((e,t)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),e(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var s;t(((s=r.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BH="FirebaseError";class $s extends Error{constructor(t,n,i){super(n),this.code=t,this.customData=i,this.name=BH,Object.setPrototypeOf(this,$s.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Rc.prototype.create)}}class Rc{constructor(t,n,i){this.service=t,this.serviceName=n,this.errors=i}create(t,...n){const i=n[0]||{},r=`${this.service}/${t}`,s=this.errors[t],o=s?UH(s,i):"Error",a=`${this.serviceName}: ${o} (${r}).`;return new $s(r,a,i)}}function UH(e,t){return e.replace(jH,(n,i)=>{const r=t[i];return r!=null?String(r):`<${i}?>`})}const jH=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bf(e){return JSON.parse(e)}function yi(e){return JSON.stringify(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DV=function(e){let t={},n={},i={},r="";try{const s=e.split(".");t=bf(Mm(s[0])||""),n=bf(Mm(s[1])||""),r=s[2],i=n.d||{},delete n.d}catch{}return{header:t,claims:n,data:i,signature:r}},HH=function(e){const t=DV(e),n=t.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},WH=function(e){const t=DV(e).claims;return typeof t=="object"&&t.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xo(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function oc(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]}function Lb(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Lm(e,t,n){const i={};for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(i[r]=t.call(n,e[r],r,e));return i}function Fm(e,t){if(e===t)return!0;const n=Object.keys(e),i=Object.keys(t);for(const r of n){if(!i.includes(r))return!1;const s=e[r],o=t[r];if(IT(s)&&IT(o)){if(!Fm(s,o))return!1}else if(s!==o)return!1}for(const r of i)if(!n.includes(r))return!1;return!0}function IT(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oc(e){const t=[];for(const[n,i]of Object.entries(e))Array.isArray(i)?i.forEach(r=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}function Ad(e){const t={};return e.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[r,s]=i.split("=");t[decodeURIComponent(r)]=decodeURIComponent(s)}}),t}function Pd(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zH{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(t,n){n||(n=0);const i=this.W_;if(typeof t=="string")for(let c=0;c<16;c++)i[c]=t.charCodeAt(n)<<24|t.charCodeAt(n+1)<<16|t.charCodeAt(n+2)<<8|t.charCodeAt(n+3),n+=4;else for(let c=0;c<16;c++)i[c]=t[n]<<24|t[n+1]<<16|t[n+2]<<8|t[n+3],n+=4;for(let c=16;c<80;c++){const f=i[c-3]^i[c-8]^i[c-14]^i[c-16];i[c]=(f<<1|f>>>31)&4294967295}let r=this.chain_[0],s=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4],u,d;for(let c=0;c<80;c++){c<40?c<20?(u=a^s&(o^a),d=1518500249):(u=s^o^a,d=1859775393):c<60?(u=s&o|a&(s|o),d=2400959708):(u=s^o^a,d=3395469782);const f=(r<<5|r>>>27)+u+l+d+i[c]&4294967295;l=a,a=o,o=(s<<30|s>>>2)&4294967295,s=r,r=f}this.chain_[0]=this.chain_[0]+r&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(t,n){if(t==null)return;n===void 0&&(n=t.length);const i=n-this.blockSize;let r=0;const s=this.buf_;let o=this.inbuf_;for(;r<n;){if(o===0)for(;r<=i;)this.compress_(t,r),r+=this.blockSize;if(typeof t=="string"){for(;r<n;)if(s[o]=t.charCodeAt(r),++o,++r,o===this.blockSize){this.compress_(s),o=0;break}}else for(;r<n;)if(s[o]=t[r],++o,++r,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const t=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let r=this.blockSize-1;r>=56;r--)this.buf_[r]=n&255,n/=256;this.compress_(this.buf_);let i=0;for(let r=0;r<5;r++)for(let s=24;s>=0;s-=8)t[i]=this.chain_[r]>>s&255,++i;return t}}function GH(e,t){const n=new qH(e,t);return n.subscribe.bind(n)}class qH{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(i=>{this.error(i)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,i){let r;if(t===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");YH(t,["next","error","complete"])?r=t:r={next:t,error:n,complete:i},r.next===void 0&&(r.next=by),r.error===void 0&&(r.error=by),r.complete===void 0&&(r.complete=by);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),s}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function YH(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function by(){}function KH(e,t){return`${e} failed: ${t} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XH=function(e){const t=[];let n=0;for(let i=0;i<e.length;i++){let r=e.charCodeAt(i);if(r>=55296&&r<=56319){const s=r-55296;i++,Ue(i<e.length,"Surrogate pair missing trail surrogate.");const o=e.charCodeAt(i)-56320;r=65536+(s<<10)+o}r<128?t[n++]=r:r<2048?(t[n++]=r>>6|192,t[n++]=r&63|128):r<65536?(t[n++]=r>>12|224,t[n++]=r>>6&63|128,t[n++]=r&63|128):(t[n++]=r>>18|240,t[n++]=r>>12&63|128,t[n++]=r>>6&63|128,t[n++]=r&63|128)}return t},yp=function(e){let t=0;for(let n=0;n<e.length;n++){const i=e.charCodeAt(n);i<128?t++:i<2048?t+=2:i>=55296&&i<=56319?(t+=4,n++):t+=3}return t};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gn(e){return e&&e._delegate?e._delegate:e}class ss{constructor(t,n,i){this.name=t,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QH{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const i=new yf;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const i=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),r=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(ZH(t))try{this.getOrInitializeService({instanceIdentifier:Qa})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:r});i.resolve(s)}catch{}}}}clearInstance(t=Qa){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Qa){return this.instances.has(t)}getOptions(t=Qa){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);i===a&&o.resolve(r)}return r}onInit(t,n){var i;const r=this.normalizeInstanceIdentifier(n),s=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;s.add(t),this.onInitCallbacks.set(r,s);const o=this.instances.get(r);return o&&t(o,r),()=>{s.delete(t)}}invokeOnInitCallbacks(t,n){const i=this.onInitCallbacks.get(n);if(i)for(const r of i)try{r(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:JH(t),options:n}),this.instances.set(t,i),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=Qa){return this.component?this.component.multipleInstances?t:Qa:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function JH(e){return e===Qa?void 0:e}function ZH(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e9{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new QH(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pt;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(Pt||(Pt={}));const t9={debug:Pt.DEBUG,verbose:Pt.VERBOSE,info:Pt.INFO,warn:Pt.WARN,error:Pt.ERROR,silent:Pt.SILENT},n9=Pt.INFO,i9={[Pt.DEBUG]:"log",[Pt.VERBOSE]:"log",[Pt.INFO]:"info",[Pt.WARN]:"warn",[Pt.ERROR]:"error"},r9=(e,t,...n)=>{if(t<e.logLevel)return;const i=new Date().toISOString(),r=i9[t];if(r)console[r](`[${i}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class mh{constructor(t){this.name=t,this._logLevel=n9,this._logHandler=r9,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Pt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?t9[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Pt.DEBUG,...t),this._logHandler(this,Pt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Pt.VERBOSE,...t),this._logHandler(this,Pt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Pt.INFO,...t),this._logHandler(this,Pt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Pt.WARN,...t),this._logHandler(this,Pt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Pt.ERROR,...t),this._logHandler(this,Pt.ERROR,...t)}}const s9=(e,t)=>t.some(n=>e instanceof n);let AT,PT;function o9(){return AT||(AT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function a9(){return PT||(PT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const RV=new WeakMap,Fb=new WeakMap,OV=new WeakMap,wy=new WeakMap,US=new WeakMap;function l9(e){const t=new Promise((n,i)=>{const r=()=>{e.removeEventListener("success",s),e.removeEventListener("error",o)},s=()=>{n(aa(e.result)),r()},o=()=>{i(e.error),r()};e.addEventListener("success",s),e.addEventListener("error",o)});return t.then(n=>{n instanceof IDBCursor&&RV.set(n,e)}).catch(()=>{}),US.set(t,e),t}function u9(e){if(Fb.has(e))return;const t=new Promise((n,i)=>{const r=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",o),e.removeEventListener("abort",o)},s=()=>{n(),r()},o=()=>{i(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",s),e.addEventListener("error",o),e.addEventListener("abort",o)});Fb.set(e,t)}let $b={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return Fb.get(e);if(t==="objectStoreNames")return e.objectStoreNames||OV.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return aa(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function c9(e){$b=e($b)}function d9(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const i=e.call(Sy(this),t,...n);return OV.set(i,t.sort?t.sort():[t]),aa(i)}:a9().includes(e)?function(...t){return e.apply(Sy(this),t),aa(RV.get(this))}:function(...t){return aa(e.apply(Sy(this),t))}}function f9(e){return typeof e=="function"?d9(e):(e instanceof IDBTransaction&&u9(e),s9(e,o9())?new Proxy(e,$b):e)}function aa(e){if(e instanceof IDBRequest)return l9(e);if(wy.has(e))return wy.get(e);const t=f9(e);return t!==e&&(wy.set(e,t),US.set(t,e)),t}const Sy=e=>US.get(e);function h9(e,t,{blocked:n,upgrade:i,blocking:r,terminated:s}={}){const o=indexedDB.open(e,t),a=aa(o);return i&&o.addEventListener("upgradeneeded",l=>{i(aa(o.result),l.oldVersion,l.newVersion,aa(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),r&&l.addEventListener("versionchange",u=>r(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const v9=["get","getKey","getAll","getAllKeys","count"],m9=["put","add","delete","clear"],Ey=new Map;function xT(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Ey.get(t))return Ey.get(t);const n=t.replace(/FromIndex$/,""),i=t!==n,r=m9.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(r||v9.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,r?"readwrite":"readonly");let u=l.store;return i&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),r&&l.done]))[0]};return Ey.set(t,s),s}c9(e=>({...e,get:(t,n,i)=>xT(t,n)||e.get(t,n,i),has:(t,n)=>!!xT(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g9{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(p9(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function p9(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Bb="@firebase/app",DT="0.10.11";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yo=new mh("@firebase/app"),_9="@firebase/app-compat",y9="@firebase/analytics-compat",b9="@firebase/analytics",w9="@firebase/app-check-compat",S9="@firebase/app-check",E9="@firebase/auth",C9="@firebase/auth-compat",k9="@firebase/database",T9="@firebase/database-compat",I9="@firebase/functions",A9="@firebase/functions-compat",P9="@firebase/installations",x9="@firebase/installations-compat",D9="@firebase/messaging",R9="@firebase/messaging-compat",O9="@firebase/performance",V9="@firebase/performance-compat",N9="@firebase/remote-config",M9="@firebase/remote-config-compat",L9="@firebase/storage",F9="@firebase/storage-compat",$9="@firebase/firestore",B9="@firebase/vertexai-preview",U9="@firebase/firestore-compat",j9="firebase",H9="10.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ub="[DEFAULT]",W9={[Bb]:"fire-core",[_9]:"fire-core-compat",[b9]:"fire-analytics",[y9]:"fire-analytics-compat",[S9]:"fire-app-check",[w9]:"fire-app-check-compat",[E9]:"fire-auth",[C9]:"fire-auth-compat",[k9]:"fire-rtdb",[T9]:"fire-rtdb-compat",[I9]:"fire-fn",[A9]:"fire-fn-compat",[P9]:"fire-iid",[x9]:"fire-iid-compat",[D9]:"fire-fcm",[R9]:"fire-fcm-compat",[O9]:"fire-perf",[V9]:"fire-perf-compat",[N9]:"fire-rc",[M9]:"fire-rc-compat",[L9]:"fire-gcs",[F9]:"fire-gcs-compat",[$9]:"fire-fst",[U9]:"fire-fst-compat",[B9]:"fire-vertex","fire-js":"fire-js",[j9]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wf=new Map,z9=new Map,jb=new Map;function RT(e,t){try{e.container.addComponent(t)}catch(n){yo.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Os(e){const t=e.name;if(jb.has(t))return yo.debug(`There were multiple attempts to register component ${t}.`),!1;jb.set(t,e);for(const n of wf.values())RT(n,e);for(const n of z9.values())RT(n,e);return!0}function jS(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Kr(e){return e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G9={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},la=new Rc("app","Firebase",G9);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q9{constructor(t,n,i){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new ss("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw la.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ra=H9;function VV(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const i=Object.assign({name:Ub,automaticDataCollectionEnabled:!1},t),r=i.name;if(typeof r!="string"||!r)throw la.create("bad-app-name",{appName:String(r)});if(n||(n=TV()),!n)throw la.create("no-options");const s=wf.get(r);if(s){if(Fm(n,s.options)&&Fm(i,s.config))return s;throw la.create("duplicate-app",{appName:r})}const o=new e9(r);for(const l of jb.values())o.addComponent(l);const a=new q9(n,i,o);return wf.set(r,a),a}function HS(e=Ub){const t=wf.get(e);if(!t&&e===Ub&&TV())return VV();if(!t)throw la.create("no-app",{appName:e});return t}function Y9(){return Array.from(wf.values())}function Sr(e,t,n){var i;let r=(i=W9[e])!==null&&i!==void 0?i:e;n&&(r+=`-${n}`);const s=r.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const a=[`Unable to register library "${r}" with version "${t}":`];s&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),yo.warn(a.join(" "));return}Os(new ss(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K9="firebase-heartbeat-database",X9=1,Sf="firebase-heartbeat-store";let Cy=null;function NV(){return Cy||(Cy=h9(K9,X9,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(Sf)}catch(n){console.warn(n)}}}}).catch(e=>{throw la.create("idb-open",{originalErrorMessage:e.message})})),Cy}async function Q9(e){try{const n=(await NV()).transaction(Sf),i=await n.objectStore(Sf).get(MV(e));return await n.done,i}catch(t){if(t instanceof $s)yo.warn(t.message);else{const n=la.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});yo.warn(n.message)}}}async function OT(e,t){try{const i=(await NV()).transaction(Sf,"readwrite");await i.objectStore(Sf).put(t,MV(e)),await i.done}catch(n){if(n instanceof $s)yo.warn(n.message);else{const i=la.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});yo.warn(i.message)}}}function MV(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J9=1024,Z9=30*24*60*60*1e3;class eW{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new nW(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var t,n;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=VT();return((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:r}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=Z9}),this._storage.overwrite(this._heartbeatsCache))}catch(i){yo.warn(i)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=VT(),{heartbeatsToSend:i,unsentEntries:r}=tW(this._heartbeatsCache.heartbeats),s=Nm(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return yo.warn(n),""}}}function VT(){return new Date().toISOString().substring(0,10)}function tW(e,t=J9){const n=[];let i=e.slice();for(const r of e){const s=n.find(o=>o.agent===r.agent);if(s){if(s.dates.push(r.date),NT(n)>t){s.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),NT(n)>t){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class nW{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return xV()?$H().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Q9(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return OT(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return OT(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function NT(e){return Nm(JSON.stringify({version:2,heartbeats:e})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iW(e){Os(new ss("platform-logger",t=>new g9(t),"PRIVATE")),Os(new ss("heartbeat",t=>new eW(t),"PRIVATE")),Sr(Bb,DT,e),Sr(Bb,DT,"esm2017"),Sr("fire-js","")}iW("");function WS(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]]);return n}function LV(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const rW=LV,FV=new Rc("auth","Firebase",LV());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $m=new mh("@firebase/auth");function sW(e,...t){$m.logLevel<=Pt.WARN&&$m.warn(`Auth (${Ra}): ${e}`,...t)}function im(e,...t){$m.logLevel<=Pt.ERROR&&$m.error(`Auth (${Ra}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Br(e,...t){throw GS(e,...t)}function ts(e,...t){return GS(e,...t)}function zS(e,t,n){const i=Object.assign(Object.assign({},rW()),{[t]:n});return new Rc("auth","Firebase",i).create(t,{appName:e.name})}function vo(e){return zS(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function oW(e,t,n){const i=n;if(!(t instanceof i))throw i.name!==t.constructor.name&&Br(e,"argument-error"),zS(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function GS(e,...t){if(typeof e!="string"){const n=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=e.name),e._errorFactory.create(n,...i)}return FV.create(e,...t)}function ct(e,t,...n){if(!e)throw GS(t,...n)}function ao(e){const t="INTERNAL ASSERTION FAILED: "+e;throw im(t),new Error(t)}function bo(e,t){e||ao(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hb(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.href)||""}function aW(){return MT()==="http:"||MT()==="https:"}function MT(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lW(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(aW()||MH()||"connection"in navigator)?navigator.onLine:!0}function uW(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gh{constructor(t,n){this.shortDelay=t,this.longDelay=n,bo(n>t,"Short delay should be less than long delay!"),this.isMobile=BS()||AV()}get(){return lW()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qS(e,t){bo(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $V{static initialize(t,n,i){this.fetchImpl=t,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ao("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ao("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ao("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cW={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dW=new gh(3e4,6e4);function Do(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function Bs(e,t,n,i,r={}){return BV(e,r,async()=>{let s={},o={};i&&(t==="GET"?o=i:s={body:JSON.stringify(i)});const a=Oc(Object.assign({key:e.config.apiKey},o)).slice(1),l=await e._getAdditionalHeaders();l["Content-Type"]="application/json",e.languageCode&&(l["X-Firebase-Locale"]=e.languageCode);const u=Object.assign({method:t,headers:l},s);return NH()||(u.referrerPolicy="no-referrer"),$V.fetch()(UV(e,e.config.apiHost,n,a),u)})}async function BV(e,t,n){e._canInitEmulator=!1;const i=Object.assign(Object.assign({},cW),t);try{const r=new hW(e),s=await Promise.race([n(),r.promise]);r.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw _v(e,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw _v(e,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw _v(e,"email-already-in-use",o);if(l==="USER_DISABLED")throw _v(e,"user-disabled",o);const d=i[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw zS(e,d,u);Br(e,d)}}catch(r){if(r instanceof $s)throw r;Br(e,"network-request-failed",{message:String(r)})}}async function ph(e,t,n,i,r={}){const s=await Bs(e,t,n,i,r);return"mfaPendingCredential"in s&&Br(e,"multi-factor-auth-required",{_serverResponse:s}),s}function UV(e,t,n,i){const r=`${t}${n}?${i}`;return e.config.emulator?qS(e.config,r):`${e.config.apiScheme}://${r}`}function fW(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class hW{constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(ts(this.auth,"network-request-failed")),dW.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function _v(e,t,n){const i={appName:e.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const r=ts(e,t,i);return r.customData._tokenResponse=n,r}function LT(e){return e!==void 0&&e.enterprise!==void 0}class vW{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===t)return fW(n.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}}async function mW(e,t){return Bs(e,"GET","/v2/recaptchaConfig",Do(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gW(e,t){return Bs(e,"POST","/v1/accounts:delete",t)}async function jV(e,t){return Bs(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qd(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function pW(e,t=!1){const n=Gn(e),i=await n.getIdToken(t),r=YS(i);ct(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");const s=typeof r.firebase=="object"?r.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:r,token:i,authTime:qd(ky(r.auth_time)),issuedAtTime:qd(ky(r.iat)),expirationTime:qd(ky(r.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function ky(e){return Number(e)*1e3}function YS(e){const[t,n,i]=e.split(".");if(t===void 0||n===void 0||i===void 0)return im("JWT malformed, contained fewer than 3 sections"),null;try{const r=Mm(n);return r?JSON.parse(r):(im("Failed to decode base64 JWT payload"),null)}catch(r){return im("Caught error parsing JWT payload as JSON",r==null?void 0:r.toString()),null}}function FT(e){const t=YS(e);return ct(t,"internal-error"),ct(typeof t.exp<"u","internal-error"),ct(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ac(e,t,n=!1){if(n)return t;try{return await t}catch(i){throw i instanceof $s&&_W(i)&&e.auth.currentUser===e&&await e.auth.signOut(),i}}function _W({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yW{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wb{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=qd(this.lastLoginAt),this.creationTime=qd(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bm(e){var t;const n=e.auth,i=await e.getIdToken(),r=await ac(e,jV(n,{idToken:i}));ct(r==null?void 0:r.users.length,n,"internal-error");const s=r.users[0];e._notifyReloadListener(s);const o=!((t=s.providerUserInfo)===null||t===void 0)&&t.length?HV(s.providerUserInfo):[],a=wW(e.providerData,o),l=e.isAnonymous,u=!(e.email&&s.passwordHash)&&!(a!=null&&a.length),d=l?u:!1,c={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Wb(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(e,c)}async function bW(e){const t=Gn(e);await Bm(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function wW(e,t){return[...e.filter(i=>!t.some(r=>r.providerId===i.providerId)),...t]}function HV(e){return e.map(t=>{var{providerId:n}=t,i=WS(t,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SW(e,t){const n=await BV(e,{},async()=>{const i=Oc({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:s}=e.config,o=UV(e,r,"/v1/token",`key=${s}`),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",$V.fetch()(o,{method:"POST",headers:a,body:i})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function EW(e,t){return Bs(e,"POST","/v2/accounts:revokeToken",Do(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){ct(t.idToken,"internal-error"),ct(typeof t.idToken<"u","internal-error"),ct(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):FT(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){ct(t.length!==0,"internal-error");const n=FT(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ct(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:i,refreshToken:r,expiresIn:s}=await SW(t,n);this.updateTokensAndExpiration(i,r,Number(s))}updateTokensAndExpiration(t,n,i){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(t,n){const{refreshToken:i,accessToken:r,expirationTime:s}=n,o=new Gu;return i&&(ct(typeof i=="string","internal-error",{appName:t}),o.refreshToken=i),r&&(ct(typeof r=="string","internal-error",{appName:t}),o.accessToken=r),s&&(ct(typeof s=="number","internal-error",{appName:t}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Gu,this.toJSON())}_performRefresh(){return ao("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ho(e,t){ct(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class lo{constructor(t){var{uid:n,auth:i,stsTokenManager:r}=t,s=WS(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new yW(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Wb(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(t){const n=await ac(this,this.stsTokenManager.getToken(this.auth,t));return ct(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return pW(this,t)}reload(){return bW(this)}_assign(t){this!==t&&(ct(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new lo(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){ct(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let i=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),i=!0),n&&await Bm(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Kr(this.auth.app))return Promise.reject(vo(this.auth));const t=await this.getIdToken();return await ac(this,gW(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var i,r,s,o,a,l,u,d;const c=(i=n.displayName)!==null&&i!==void 0?i:void 0,f=(r=n.email)!==null&&r!==void 0?r:void 0,v=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,m=(o=n.photoURL)!==null&&o!==void 0?o:void 0,p=(a=n.tenantId)!==null&&a!==void 0?a:void 0,_=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,y=(u=n.createdAt)!==null&&u!==void 0?u:void 0,b=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:C,emailVerified:k,isAnonymous:R,providerData:O,stsTokenManager:x}=n;ct(C&&x,t,"internal-error");const S=Gu.fromJSON(this.name,x);ct(typeof C=="string",t,"internal-error"),Ho(c,t.name),Ho(f,t.name),ct(typeof k=="boolean",t,"internal-error"),ct(typeof R=="boolean",t,"internal-error"),Ho(v,t.name),Ho(m,t.name),Ho(p,t.name),Ho(_,t.name),Ho(y,t.name),Ho(b,t.name);const w=new lo({uid:C,auth:t,email:f,emailVerified:k,displayName:c,isAnonymous:R,photoURL:m,phoneNumber:v,tenantId:p,stsTokenManager:S,createdAt:y,lastLoginAt:b});return O&&Array.isArray(O)&&(w.providerData=O.map(E=>Object.assign({},E))),_&&(w._redirectEventId=_),w}static async _fromIdTokenResponse(t,n,i=!1){const r=new Gu;r.updateFromServerResponse(n);const s=new lo({uid:n.localId,auth:t,stsTokenManager:r,isAnonymous:i});return await Bm(s),s}static async _fromGetAccountInfoResponse(t,n,i){const r=n.users[0];ct(r.localId!==void 0,"internal-error");const s=r.providerUserInfo!==void 0?HV(r.providerUserInfo):[],o=!(r.email&&r.passwordHash)&&!(s!=null&&s.length),a=new Gu;a.updateFromIdToken(i);const l=new lo({uid:r.localId,auth:t,stsTokenManager:a,isAnonymous:o}),u={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:s,metadata:new Wb(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $T=new Map;function uo(e){bo(e instanceof Function,"Expected a class definition");let t=$T.get(e);return t?(bo(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,$T.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WV{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}WV.type="NONE";const BT=WV;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rm(e,t,n){return`firebase:${e}:${t}:${n}`}class qu{constructor(t,n,i){this.persistence=t,this.auth=n,this.userKey=i;const{config:r,name:s}=this.auth;this.fullUserKey=rm(this.userKey,r.apiKey,s),this.fullPersistenceKey=rm("persistence",r.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);return t?lo._fromJSON(this.auth,t):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,i="authUser"){if(!n.length)return new qu(uo(BT),t,i);const r=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=r[0]||uo(BT);const o=rm(i,t.config.apiKey,t.name);let a=null;for(const u of n)try{const d=await u._get(o);if(d){const c=lo._fromJSON(t,d);u!==s&&(a=c),s=u;break}}catch{}const l=r.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new qu(s,t,i):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new qu(s,t,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UT(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(YV(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(zV(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(XV(t))return"Blackberry";if(QV(t))return"Webos";if(GV(t))return"Safari";if((t.includes("chrome/")||qV(t))&&!t.includes("edge/"))return"Chrome";if(KV(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=e.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function zV(e=ji()){return/firefox\//i.test(e)}function GV(e=ji()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function qV(e=ji()){return/crios\//i.test(e)}function YV(e=ji()){return/iemobile/i.test(e)}function KV(e=ji()){return/android/i.test(e)}function XV(e=ji()){return/blackberry/i.test(e)}function QV(e=ji()){return/webos/i.test(e)}function KS(e=ji()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function CW(e=ji()){var t;return KS(e)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function kW(){return LH()&&document.documentMode===10}function JV(e=ji()){return KS(e)||KV(e)||QV(e)||XV(e)||/windows phone/i.test(e)||YV(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZV(e,t=[]){let n;switch(e){case"Browser":n=UT(ji());break;case"Worker":n=`${UT(ji())}-${e}`;break;default:n=e}const i=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ra}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TW{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const i=s=>new Promise((o,a)=>{try{const l=t(s);o(l)}catch(l){a(l)}});i.onAbort=n,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const i of this.queue)await i(t),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const r of n)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IW(e,t={}){return Bs(e,"GET","/v2/passwordPolicy",Do(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AW=6;class PW{constructor(t){var n,i,r,s;const o=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:AW,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(i=t.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(s=t.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var n,i,r,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,l),this.validatePasswordCharacterOptions(t,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(i=l.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(r=l.containsLowercaseLetter)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(t,n){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=t.length>=i),r&&(n.meetsMaxPasswordLength=t.length<=r)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let r=0;r<t.length;r++)i=t.charAt(r),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(t,n,i,r,s){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xW{constructor(t,n,i,r){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new jT(this),this.idTokenSubscription=new jT(this),this.beforeStateQueue=new TW(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=FV,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=uo(n)),this._initializationPromise=this.queue(async()=>{var i,r;if(!this._deleted&&(this.persistenceManager=await qu.create(this,t),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((r=this.currentUser)===null||r===void 0?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await jV(this,{idToken:t}),i=await lo._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var n;if(Kr(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,s=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(t);(!o||o===a)&&(l!=null&&l.user)&&(r=l.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return ct(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await Bm(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=uW()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Kr(this.app))return Promise.reject(vo(this));const n=t?Gn(t):null;return n&&ct(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&ct(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Kr(this.app)?Promise.reject(vo(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Kr(this.app)?Promise.reject(vo(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(uo(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await IW(this),n=new PW(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new Rc("auth","Firebase",t())}onAuthStateChanged(t,n,i){return this.registerStateListener(this.authStateSubscription,t,n,i)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,i){return this.registerStateListener(this.idTokenSubscription,t,n,i)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const i=this.onAuthStateChanged(()=>{i(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await EW(this,i)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const i=await this.getOrInitRedirectPersistenceManager(n);return t===null?i.removeCurrentUser():i.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&uo(t)||this._popupRedirectResolver;ct(n,this,"argument-error"),this.redirectPersistenceManager=await qu.create(this,[uo(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,i,r){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ct(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=t.addObserver(n,i,r);return()=>{o=!0,l()}}else{const l=t.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return ct(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=ZV(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const i=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());i&&(n["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(n["X-Firebase-AppCheck"]=r),n}async _getAppCheckToken(){var t;const n=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return n!=null&&n.error&&sW(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Ro(e){return Gn(e)}class jT{constructor(t){this.auth=t,this.observer=null,this.addObserver=GH(n=>this.observer=n)}get next(){return ct(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function DW(e){bp=e}function eN(e){return bp.loadJS(e)}function RW(){return bp.recaptchaEnterpriseScript}function OW(){return bp.gapiScript}function VW(e){return`__${e}${Math.floor(Math.random()*1e6)}`}const NW="recaptcha-enterprise",MW="NO_RECAPTCHA";class LW{constructor(t){this.type=NW,this.auth=Ro(t)}async verify(t="verify",n=!1){async function i(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{mW(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new vW(l);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(l=>{a(l)})})}function r(s,o,a){const l=window.grecaptcha;LT(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:t}).then(u=>{o(u)}).catch(()=>{o(MW)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{i(this.auth).then(a=>{if(!n&&LT(window.grecaptcha))r(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=RW();l.length!==0&&(l+=a),eN(l).then(()=>{r(a,s,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})}}async function HT(e,t,n,i=!1){const r=new LW(e);let s;try{s=await r.verify(n)}catch{s=await r.verify(n,!0)}const o=Object.assign({},t);return i?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function Um(e,t,n,i){var r;if(!((r=e._getRecaptchaConfig())===null||r===void 0)&&r.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await HT(e,t,n,n==="getOobCode");return i(e,s)}else return i(e,t).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await HT(e,t,n,n==="getOobCode");return i(e,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tN(e,t){const n=jS(e,"auth");if(n.isInitialized()){const r=n.getImmediate(),s=n.getOptions();if(Fm(s,t??{}))return r;Br(r,"already-initialized")}return n.initialize({options:t})}function FW(e,t){const n=(t==null?void 0:t.persistence)||[],i=(Array.isArray(n)?n:[n]).map(uo);t!=null&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(i,t==null?void 0:t.popupRedirectResolver)}function nN(e,t,n){const i=Ro(e);ct(i._canInitEmulator,i,"emulator-config-failed"),ct(/^https?:\/\//.test(t),i,"invalid-emulator-scheme");const r=!1,s=iN(t),{host:o,port:a}=$W(t),l=a===null?"":`:${a}`;i.config.emulator={url:`${s}//${o}${l}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:r})}),BW()}function iN(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function $W(e){const t=iN(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const s=r[1];return{host:s,port:WT(i.substr(s.length+1))}}else{const[s,o]=i.split(":");return{host:s,port:WT(o)}}}function WT(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function BW(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XS{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return ao("not implemented")}_getIdTokenResponse(t){return ao("not implemented")}_linkToIdToken(t,n){return ao("not implemented")}_getReauthenticationResolver(t){return ao("not implemented")}}async function UW(e,t){return Bs(e,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jW(e,t){return ph(e,"POST","/v1/accounts:signInWithPassword",Do(e,t))}async function HW(e,t){return Bs(e,"POST","/v1/accounts:sendOobCode",Do(e,t))}async function WW(e,t){return HW(e,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zW(e,t){return ph(e,"POST","/v1/accounts:signInWithEmailLink",Do(e,t))}async function GW(e,t){return ph(e,"POST","/v1/accounts:signInWithEmailLink",Do(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ef extends XS{constructor(t,n,i,r=null){super("password",i),this._email=t,this._password=n,this._tenantId=r}static _fromEmailAndPassword(t,n){return new Ef(t,n,"password")}static _fromEmailAndCode(t,n,i=null){return new Ef(t,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Um(t,n,"signInWithPassword",jW);case"emailLink":return zW(t,{email:this._email,oobCode:this._password});default:Br(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":const i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Um(t,i,"signUpPassword",UW);case"emailLink":return GW(t,{idToken:n,email:this._email,oobCode:this._password});default:Br(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yu(e,t){return ph(e,"POST","/v1/accounts:signInWithIdp",Do(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qW="http://localhost";class Il extends XS{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Il(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):Br("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:i,signInMethod:r}=n,s=WS(n,["providerId","signInMethod"]);if(!i||!r)return null;const o=new Il(i,r);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(t){const n=this.buildRequest();return Yu(t,n)}_linkToIdToken(t,n){const i=this.buildRequest();return i.idToken=n,Yu(t,i)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,Yu(t,n)}buildRequest(){const t={requestUri:qW,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=Oc(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YW(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function KW(e){const t=Ad(Pd(e)).link,n=t?Ad(Pd(t)).deep_link_id:null,i=Ad(Pd(e)).deep_link_id;return(i?Ad(Pd(i)).link:null)||i||n||t||e}class QS{constructor(t){var n,i,r,s,o,a;const l=Ad(Pd(t)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,d=(i=l.oobCode)!==null&&i!==void 0?i:null,c=YW((r=l.mode)!==null&&r!==void 0?r:null);ct(u&&d&&c,"argument-error"),this.apiKey=u,this.operation=c,this.code=d,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(t){const n=KW(t);try{return new QS(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc{constructor(){this.providerId=Vc.PROVIDER_ID}static credential(t,n){return Ef._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const i=QS.parseLink(n);return ct(i,"argument-error"),Ef._fromEmailAndCode(t,i.code,i.tenantId)}}Vc.PROVIDER_ID="password";Vc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Vc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JS{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h extends JS{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo extends _h{constructor(){super("facebook.com")}static credential(t){return Il._fromParams({providerId:Jo.PROVIDER_ID,signInMethod:Jo.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Jo.credentialFromTaggedObject(t)}static credentialFromError(t){return Jo.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Jo.credential(t.oauthAccessToken)}catch{return null}}}Jo.FACEBOOK_SIGN_IN_METHOD="facebook.com";Jo.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io extends _h{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Il._fromParams({providerId:io.PROVIDER_ID,signInMethod:io.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return io.credentialFromTaggedObject(t)}static credentialFromError(t){return io.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:i}=t;if(!n&&!i)return null;try{return io.credential(n,i)}catch{return null}}}io.GOOGLE_SIGN_IN_METHOD="google.com";io.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo extends _h{constructor(){super("github.com")}static credential(t){return Il._fromParams({providerId:Zo.PROVIDER_ID,signInMethod:Zo.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Zo.credentialFromTaggedObject(t)}static credentialFromError(t){return Zo.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Zo.credential(t.oauthAccessToken)}catch{return null}}}Zo.GITHUB_SIGN_IN_METHOD="github.com";Zo.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea extends _h{constructor(){super("twitter.com")}static credential(t,n){return Il._fromParams({providerId:ea.PROVIDER_ID,signInMethod:ea.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return ea.credentialFromTaggedObject(t)}static credentialFromError(t){return ea.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=t;if(!n||!i)return null;try{return ea.credential(n,i)}catch{return null}}}ea.TWITTER_SIGN_IN_METHOD="twitter.com";ea.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XW(e,t){return ph(e,"POST","/v1/accounts:signUp",Do(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Al{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,i,r=!1){const s=await lo._fromIdTokenResponse(t,i,r),o=zT(i);return new Al({user:s,providerId:o,_tokenResponse:i,operationType:n})}static async _forOperation(t,n,i){await t._updateTokensIfNecessary(i,!0);const r=zT(i);return new Al({user:t,providerId:r,_tokenResponse:i,operationType:n})}}function zT(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jm extends $s{constructor(t,n,i,r){var s;super(n.code,n.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,jm.prototype),this.customData={appName:t.name,tenantId:(s=t.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(t,n,i,r){return new jm(t,n,i,r)}}function rN(e,t,n,i){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?jm._fromErrorAndOperation(e,s,t,i):s})}async function QW(e,t,n=!1){const i=await ac(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Al._forOperation(e,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JW(e,t,n=!1){const{auth:i}=e;if(Kr(i.app))return Promise.reject(vo(i));const r="reauthenticate";try{const s=await ac(e,rN(i,r,t,e),n);ct(s.idToken,i,"internal-error");const o=YS(s.idToken);ct(o,i,"internal-error");const{sub:a}=o;return ct(e.uid===a,i,"user-mismatch"),Al._forOperation(e,r,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Br(i,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sN(e,t,n=!1){if(Kr(e.app))return Promise.reject(vo(e));const i="signIn",r=await rN(e,i,t),s=await Al._fromIdTokenResponse(e,i,r);return n||await e._updateCurrentUser(s.user),s}async function ZW(e,t){return sN(Ro(e),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oN(e){const t=Ro(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function ez(e,t,n){const i=Ro(e);await Um(i,{requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"},"getOobCode",WW)}async function tz(e,t,n){if(Kr(e.app))return Promise.reject(vo(e));const i=Ro(e),o=await Um(i,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",XW).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&oN(e),l}),a=await Al._fromIdTokenResponse(i,"signIn",o);return await i._updateCurrentUser(a.user),a}function nz(e,t,n){return Kr(e.app)?Promise.reject(vo(e)):ZW(Gn(e),Vc.credential(t,n)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&oN(e),i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iz(e,t){return Bs(e,"POST","/v1/accounts:update",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rz(e,{displayName:t,photoURL:n}){if(t===void 0&&n===void 0)return;const i=Gn(e),s={idToken:await i.getIdToken(),displayName:t,photoUrl:n,returnSecureToken:!0},o=await ac(i,iz(i.auth,s));i.displayName=o.displayName||null,i.photoURL=o.photoUrl||null;const a=i.providerData.find(({providerId:l})=>l==="password");a&&(a.displayName=i.displayName,a.photoURL=i.photoURL),await i._updateTokensIfNecessary(o)}function aN(e,t,n,i){return Gn(e).onIdTokenChanged(t,n,i)}function sz(e,t,n){return Gn(e).beforeAuthStateChanged(t,n)}function oz(e){return Gn(e).signOut()}const Hm="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lN{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Hm,"1"),this.storage.removeItem(Hm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const az=1e3,lz=10;class uN extends lN{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=JV(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),r=this.localCache[n];i!==r&&t(n,r,i)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const i=t.key;n?this.detachListener():this.stopPolling();const r=()=>{const o=this.storage.getItem(i);!n&&this.localCache[i]===o||this.notifyListeners(i,o)},s=this.storage.getItem(i);kW()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(r,lz):r()}notifyListeners(t,n){this.localCache[t]=n;const i=this.listeners[t];if(i)for(const r of Array.from(i))r(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:i}),!0)})},az)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}uN.type="LOCAL";const cN=uN;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dN extends lN{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}dN.type="SESSION";const ZS=dN;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uz(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wp{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(r=>r.isListeningto(t));if(n)return n;const i=new wp(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:i,eventType:r,data:s}=n.data,o=this.handlersMap[r];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:r});const a=Array.from(o).map(async u=>u(n.origin,s)),l=await uz(a);n.ports[0].postMessage({status:"done",eventId:i,eventType:r,response:l})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}wp.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eE(e="",t=10){let n="";for(let i=0;i<t;i++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cz{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,i=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=eE("",20);r.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},i);o={messageChannel:r,onMessage(c){const f=c;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(f.data.response);break;default:clearTimeout(d),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:t,eventId:u,data:n},[r.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ks(){return window}function dz(e){ks().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fN(){return typeof ks().WorkerGlobalScope<"u"&&typeof ks().importScripts=="function"}async function fz(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function hz(){var e;return((e=navigator==null?void 0:navigator.serviceWorker)===null||e===void 0?void 0:e.controller)||null}function vz(){return fN()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hN="firebaseLocalStorageDb",mz=1,Wm="firebaseLocalStorage",vN="fbase_key";class yh{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Sp(e,t){return e.transaction([Wm],t?"readwrite":"readonly").objectStore(Wm)}function gz(){const e=indexedDB.deleteDatabase(hN);return new yh(e).toPromise()}function zb(){const e=indexedDB.open(hN,mz);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const i=e.result;try{i.createObjectStore(Wm,{keyPath:vN})}catch(r){n(r)}}),e.addEventListener("success",async()=>{const i=e.result;i.objectStoreNames.contains(Wm)?t(i):(i.close(),await gz(),t(await zb()))})})}async function GT(e,t,n){const i=Sp(e,!0).put({[vN]:t,value:n});return new yh(i).toPromise()}async function pz(e,t){const n=Sp(e,!1).get(t),i=await new yh(n).toPromise();return i===void 0?null:i.value}function qT(e,t){const n=Sp(e,!0).delete(t);return new yh(n).toPromise()}const _z=800,yz=3;class mN{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await zb(),this.db)}async _withRetries(t){let n=0;for(;;)try{const i=await this._openDb();return await t(i)}catch(i){if(n++>yz)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return fN()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=wp._getInstance(vz()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await fz(),!this.activeServiceWorker)return;this.sender=new cz(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((n=i[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||hz()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await zb();return await GT(t,Hm,"1"),await qT(t,Hm),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>GT(i,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(i=>pz(i,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>qT(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(r=>{const s=Sp(r,!1).getAll();return new yh(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(t.length!==0)for(const{fbase_key:r,value:s}of t)i.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(s)&&(this.notifyListeners(r,s),n.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!i.has(r)&&(this.notifyListeners(r,null),n.push(r));return n}notifyListeners(t,n){this.localCache[t]=n;const i=this.listeners[t];if(i)for(const r of Array.from(i))r(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),_z)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}mN.type="LOCAL";const gN=mN;new gh(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pN(e,t){return t?uo(t):(ct(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tE extends XS{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Yu(t,this._buildIdpRequest())}_linkToIdToken(t,n){return Yu(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return Yu(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function bz(e){return sN(e.auth,new tE(e),e.bypassAuthState)}function wz(e){const{auth:t,user:n}=e;return ct(n,t,"internal-error"),JW(n,new tE(e),e.bypassAuthState)}async function Sz(e){const{auth:t,user:n}=e;return ct(n,t,"internal-error"),QW(n,new tE(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _N{constructor(t,n,i,r,s=!1){this.auth=t,this.resolver=i,this.user=r,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:i,postBody:r,tenantId:s,error:o,type:a}=t;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:i,tenantId:s||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return bz;case"linkViaPopup":case"linkViaRedirect":return Sz;case"reauthViaPopup":case"reauthViaRedirect":return wz;default:Br(this.auth,"internal-error")}}resolve(t){bo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){bo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ez=new gh(2e3,1e4);async function Cz(e,t,n){if(Kr(e.app))return Promise.reject(ts(e,"operation-not-supported-in-this-environment"));const i=Ro(e);oW(e,t,JS);const r=pN(i,n);return new ol(i,"signInViaPopup",t,r).executeNotNull()}class ol extends _N{constructor(t,n,i,r,s){super(t,n,r,s),this.provider=i,this.authWindow=null,this.pollId=null,ol.currentPopupAction&&ol.currentPopupAction.cancel(),ol.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return ct(t,this.auth,"internal-error"),t}async onExecution(){bo(this.filter.length===1,"Popup operations only handle one event");const t=eE();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ts(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(ts(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ol.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,i;if(!((i=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ts(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,Ez.get())};t()}}ol.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kz="pendingRedirect",sm=new Map;class Tz extends _N{constructor(t,n,i=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let t=sm.get(this.auth._key());if(!t){try{const i=await Iz(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(i)}catch(n){t=()=>Promise.reject(n)}sm.set(this.auth._key(),t)}return this.bypassAuthState||sm.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Iz(e,t){const n=xz(t),i=Pz(e);if(!await i._isAvailable())return!1;const r=await i._get(n)==="true";return await i._remove(n),r}function Az(e,t){sm.set(e._key(),t)}function Pz(e){return uo(e._redirectPersistence)}function xz(e){return rm(kz,e.config.apiKey,e.name)}async function Dz(e,t,n=!1){if(Kr(e.app))return Promise.reject(vo(e));const i=Ro(e),r=pN(i,t),o=await new Tz(i,r,n).execute();return o&&!n&&(delete o.user._redirectEventId,await i._persistUserIfCurrent(o.user),await i._setRedirectUser(null,t)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rz=10*60*1e3;class Oz{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(t,i)&&(n=!0,this.sendToConsumer(t,i),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!Vz(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var i;if(t.error&&!yN(t)){const r=((i=t.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(ts(this.auth,r))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const i=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&i}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=Rz&&this.cachedEventUids.clear(),this.cachedEventUids.has(YT(t))}saveEventToCache(t){this.cachedEventUids.add(YT(t)),this.lastProcessedEventTime=Date.now()}}function YT(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function yN({type:e,error:t}){return e==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function Vz(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return yN(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nz(e,t={}){return Bs(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mz=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Lz=/^https?/;async function Fz(e){if(e.config.emulator)return;const{authorizedDomains:t}=await Nz(e);for(const n of t)try{if($z(n))return}catch{}Br(e,"unauthorized-domain")}function $z(e){const t=Hb(),{protocol:n,hostname:i}=new URL(t);if(e.startsWith("chrome-extension://")){const o=new URL(e);return o.hostname===""&&i===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===i}if(!Lz.test(n))return!1;if(Mz.test(e))return i===e;const r=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bz=new gh(3e4,6e4);function KT(){const e=ks().___jsl;if(e!=null&&e.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function Uz(e){return new Promise((t,n)=>{var i,r,s;function o(){KT(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{KT(),n(ts(e,"network-request-failed"))},timeout:Bz.get()})}if(!((r=(i=ks().gapi)===null||i===void 0?void 0:i.iframes)===null||r===void 0)&&r.Iframe)t(gapi.iframes.getContext());else if(!((s=ks().gapi)===null||s===void 0)&&s.load)o();else{const a=VW("iframefcb");return ks()[a]=()=>{gapi.load?o():n(ts(e,"network-request-failed"))},eN(`${OW()}?onload=${a}`).catch(l=>n(l))}}).catch(t=>{throw om=null,t})}let om=null;function jz(e){return om=om||Uz(e),om}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hz=new gh(5e3,15e3),Wz="__/auth/iframe",zz="emulator/auth/iframe",Gz={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},qz=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Yz(e){const t=e.config;ct(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?qS(t,zz):`https://${e.config.authDomain}/${Wz}`,i={apiKey:t.apiKey,appName:e.name,v:Ra},r=qz.get(e.config.apiHost);r&&(i.eid=r);const s=e._getFrameworks();return s.length&&(i.fw=s.join(",")),`${n}?${Oc(i).slice(1)}`}async function Kz(e){const t=await jz(e),n=ks().gapi;return ct(n,e,"internal-error"),t.open({where:document.body,url:Yz(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Gz,dontclear:!0},i=>new Promise(async(r,s)=>{await i.restyle({setHideOnLeave:!1});const o=ts(e,"network-request-failed"),a=ks().setTimeout(()=>{s(o)},Hz.get());function l(){ks().clearTimeout(a),r(i)}i.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xz={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Qz=500,Jz=600,Zz="_blank",e8="http://localhost";class XT{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function t8(e,t,n,i=Qz,r=Jz){const s=Math.max((window.screen.availHeight-r)/2,0).toString(),o=Math.max((window.screen.availWidth-i)/2,0).toString();let a="";const l=Object.assign(Object.assign({},Xz),{width:i.toString(),height:r.toString(),top:s,left:o}),u=ji().toLowerCase();n&&(a=qV(u)?Zz:n),zV(u)&&(t=t||e8,l.scrollbars="yes");const d=Object.entries(l).reduce((f,[v,m])=>`${f}${v}=${m},`,"");if(CW(u)&&a!=="_self")return n8(t||"",a),new XT(null);const c=window.open(t||"",a,d);ct(c,e,"popup-blocked");try{c.focus()}catch{}return new XT(c)}function n8(e,t){const n=document.createElement("a");n.href=e,n.target=t;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i8="__/auth/handler",r8="emulator/auth/handler",s8=encodeURIComponent("fac");async function QT(e,t,n,i,r,s){ct(e.config.authDomain,e,"auth-domain-config-required"),ct(e.config.apiKey,e,"invalid-api-key");const o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:i,v:Ra,eventId:r};if(t instanceof JS){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",Lb(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(const[d,c]of Object.entries({}))o[d]=c}if(t instanceof _h){const d=t.getScopes().filter(c=>c!=="");d.length>0&&(o.scopes=d.join(","))}e.tenantId&&(o.tid=e.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await e._getAppCheckToken(),u=l?`#${s8}=${encodeURIComponent(l)}`:"";return`${o8(e)}?${Oc(a).slice(1)}${u}`}function o8({config:e}){return e.emulator?qS(e,r8):`https://${e.authDomain}/${i8}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ty="webStorageSupport";class a8{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ZS,this._completeRedirectFn=Dz,this._overrideRedirectResult=Az}async _openPopup(t,n,i,r){var s;bo((s=this.eventManagers[t._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await QT(t,n,i,Hb(),r);return t8(t,o,eE())}async _openRedirect(t,n,i,r){await this._originValidation(t);const s=await QT(t,n,i,Hb(),r);return dz(s),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:r,promise:s}=this.eventManagers[n];return r?Promise.resolve(r):(bo(s,"If manager is not set, promise should be"),s)}const i=this.initAndGetManager(t);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(t){const n=await Kz(t),i=new Oz(t);return n.register("authEvent",r=>(ct(r==null?void 0:r.authEvent,t,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:i},this.iframes[t._key()]=n,i}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(Ty,{type:Ty},r=>{var s;const o=(s=r==null?void 0:r[0])===null||s===void 0?void 0:s[Ty];o!==void 0&&n(!!o),Br(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Fz(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return JV()||GV()||KS()}}const bN=a8;var JT="@firebase/auth",ZT="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l8{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(i=>{t((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ct(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u8(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function c8(e){Os(new ss("auth",(t,{options:n})=>{const i=t.getProvider("app").getImmediate(),r=t.getProvider("heartbeat"),s=t.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=i.options;ct(o&&!o.includes(":"),"invalid-api-key",{appName:i.name});const l={apiKey:o,authDomain:a,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ZV(e)},u=new xW(i,r,s,l);return FW(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,i)=>{t.getProvider("auth-internal").initialize()})),Os(new ss("auth-internal",t=>{const n=Ro(t.getProvider("auth").getImmediate());return(i=>new l8(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Sr(JT,ZT,u8(e)),Sr(JT,ZT,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d8=5*60,f8=IV("authIdTokenMaxAge")||d8;let eI=null;const h8=e=>async t=>{const n=t&&await t.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>f8)return;const r=n==null?void 0:n.token;eI!==r&&(eI=r,await fetch(e,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function v8(e=HS()){const t=jS(e,"auth");if(t.isInitialized())return t.getImmediate();const n=tN(e,{popupRedirectResolver:bN,persistence:[gN,cN,ZS]}),i=IV("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(i,location.origin);if(location.origin===s.origin){const o=h8(s.toString());sz(n,o,()=>o(n.currentUser)),aN(n,a=>o(a))}}const r=kV("auth");return r&&nN(n,`http://${r}`),n}function m8(){var e,t;return(t=(e=document.getElementsByTagName("head"))===null||e===void 0?void 0:e[0])!==null&&t!==void 0?t:document}DW({loadJS(e){return new Promise((t,n)=>{const i=document.createElement("script");i.setAttribute("src",e),i.onload=t,i.onerror=r=>{const s=ts("internal-error");s.customData=r,n(s)},i.type="text/javascript",i.charset="UTF-8",m8().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});c8("Browser");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g8=new Map,p8={activated:!1,tokenObservers:[]};function os(e){return g8.get(e)||Object.assign({},p8)}const tI={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _8{constructor(t,n,i,r,s){if(this.operation=t,this.retryPolicy=n,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=r,r>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}async process(t){this.stop();try{this.pending=new yf,this.pending.promise.catch(n=>{}),await y8(this.getNextRun(t)),this.pending.resolve(),await this.pending.promise,this.pending=new yf,this.pending.promise.catch(n=>{}),await this.operation(),this.pending.resolve(),await this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}function y8(e){return new Promise(t=>{setTimeout(t,e)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b8={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"},zm=new Rc("appCheck","AppCheck",b8);function wN(e){if(!os(e).activated)throw zm.create("use-before-activation",{appName:e.name})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w8="firebase-app-check-database",S8=1,Gb="firebase-app-check-store";let yv=null;function E8(){return yv||(yv=new Promise((e,t)=>{try{const n=indexedDB.open(w8,S8);n.onsuccess=i=>{e(i.target.result)},n.onerror=i=>{var r;t(zm.create("storage-open",{originalErrorMessage:(r=i.target.error)===null||r===void 0?void 0:r.message}))},n.onupgradeneeded=i=>{const r=i.target.result;switch(i.oldVersion){case 0:r.createObjectStore(Gb,{keyPath:"compositeKey"})}}}catch(n){t(zm.create("storage-open",{originalErrorMessage:n==null?void 0:n.message}))}}),yv)}function C8(e,t){return k8(T8(e),t)}async function k8(e,t){const i=(await E8()).transaction(Gb,"readwrite"),s=i.objectStore(Gb).put({compositeKey:e,value:t});return new Promise((o,a)=>{s.onsuccess=l=>{o()},i.onerror=l=>{var u;a(zm.create("storage-set",{originalErrorMessage:(u=l.target.error)===null||u===void 0?void 0:u.message}))}})}function T8(e){return`${e.options.appId}-${e.name}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qb=new mh("@firebase/app-check");function nI(e,t){return xV()?C8(e,t).catch(n=>{qb.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I8={error:"UNKNOWN_ERROR"};function A8(e){return pp.encodeString(JSON.stringify(e),!1)}async function Yb(e,t=!1){const n=e.app;wN(n);const i=os(n);let r=i.token,s;if(r&&!xd(r)&&(i.token=void 0,r=void 0),!r){const l=await i.cachedTokenPromise;l&&(xd(l)?r=l:await nI(n,void 0))}if(!t&&r&&xd(r))return{token:r.token};let o=!1;try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),o=!0),r=await os(n).exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"?qb.warn(l.message):qb.error(l),s=l}let a;return r?s?xd(r)?a={token:r.token,internalError:s}:a=rI(s):(a={token:r.token},i.token=r,await nI(n,r)):a=rI(s),o&&R8(n,a),a}async function P8(e){const t=e.app;wN(t);const{provider:n}=os(t);{const{token:i}=await n.getToken();return{token:i}}}function x8(e,t,n,i){const{app:r}=e,s=os(r),o={next:n,error:i,type:t};if(s.tokenObservers=[...s.tokenObservers,o],s.token&&xd(s.token)){const a=s.token;Promise.resolve().then(()=>{n({token:a.token}),iI(e)}).catch(()=>{})}s.cachedTokenPromise.then(()=>iI(e))}function SN(e,t){const n=os(e),i=n.tokenObservers.filter(r=>r.next!==t);i.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=i}function iI(e){const{app:t}=e,n=os(t);let i=n.tokenRefresher;i||(i=D8(e),n.tokenRefresher=i),!i.isRunning()&&n.isTokenAutoRefreshEnabled&&i.start()}function D8(e){const{app:t}=e;return new _8(async()=>{const n=os(t);let i;if(n.token?i=await Yb(e,!0):i=await Yb(e),i.error)throw i.error;if(i.internalError)throw i.internalError},()=>!0,()=>{const n=os(t);if(n.token){let i=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5;const r=n.token.expireTimeMillis-5*60*1e3;return i=Math.min(i,r),Math.max(0,i-Date.now())}else return 0},tI.RETRIAL_MIN_WAIT,tI.RETRIAL_MAX_WAIT)}function R8(e,t){const n=os(e).tokenObservers;for(const i of n)try{i.type==="EXTERNAL"&&t.error!=null?i.error(t.error):i.next(t)}catch{}}function xd(e){return e.expireTimeMillis-Date.now()>0}function rI(e){return{token:A8(I8),error:e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O8{constructor(t,n){this.app=t,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:t}=os(this.app);for(const n of t)SN(this.app,n.next);return Promise.resolve()}}function V8(e,t){return new O8(e,t)}function N8(e){return{getToken:t=>Yb(e,t),getLimitedUseToken:()=>P8(e),addTokenListener:t=>x8(e,"INTERNAL",t),removeTokenListener:t=>SN(e.app,t)}}const M8="@firebase/app-check",L8="0.8.8",F8="app-check",sI="app-check-internal";function $8(){Os(new ss(F8,e=>{const t=e.getProvider("app").getImmediate(),n=e.getProvider("heartbeat");return V8(t,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider(sI).initialize()})),Os(new ss(sI,e=>{const t=e.getProvider("app-check").getImmediate();return N8(t)},"PUBLIC").setInstantiationMode("EXPLICIT")),Sr(M8,L8)}$8();var B8="firebase",U8="10.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Sr(B8,U8,"app");const EN=Symbol("firebaseApp");function bh(e){return zl()&&ot(EN,null)||HS(e)}const ys=()=>{},j8=typeof window<"u";function nE(e,t){return t.split(".").reduce((n,i)=>n&&n[i],e)}function H8(e,t,n){const i=(""+t).split("."),r=i.pop(),s=i.reduce((o,a)=>o&&o[a],e);if(s!=null)return Array.isArray(s)?s.splice(Number(r),1,n):s[r]=n}function Gl(e){return!!e&&typeof e=="object"}const W8=Object.prototype;function z8(e){return Gl(e)&&Object.getPrototypeOf(e)===W8}function iE(e){return Gl(e)&&e.type==="document"}function G8(e){return Gl(e)&&e.type==="collection"}function q8(e){return iE(e)||G8(e)}function Y8(e){return Gl(e)&&e.type==="query"}function K8(e){return Gl(e)&&"ref"in e}function X8(e){return Gl(e)&&typeof e.bucket=="string"}function Q8(e,t){let n;return()=>{if(!n)return n=!0,e(t())}}const J8=Symbol.for("v-scx");function Z8(){return!!ot(J8,0)}const bv=new WeakMap;function e7(e,t){if(!bv.has(e)){const n=ch(!0);bv.set(e,n);const{unmount:i}=t;t.unmount=()=>{i.call(t),n.stop(),bv.delete(e)}}return bv.get(e)}const CN=new WeakMap;function kN(e){return CN.get(bh(e))}const wv=new WeakMap;function TN(e){const t=bh(e);if(!wv.has(t)){let n;const r=[new Promise(s=>{n=s}),s=>{wv.set(t,s),n(s.value)}];wv.set(t,r)}return wv.get(t)}function oI(e){const t=TN(e);return Array.isArray(t)?t[0]:Promise.resolve(t.value)}function t7(e,t){aN(t,n=>{const i=TN();e.value=n,Array.isArray(i)&&i[1](e)})}var aI={};const lI="@firebase/database",uI="1.0.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let IN="";function n7(e){IN=e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i7{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,n){n==null?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),yi(n))}get(t){const n=this.domStorage_.getItem(this.prefixedName_(t));return n==null?null:bf(n)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r7{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,n){n==null?delete this.cache_[t]:this.cache_[t]=n}get(t){return xo(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AN=function(e){try{if(typeof window<"u"&&typeof window[e]<"u"){const t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new i7(t)}}catch{}return new r7},al=AN("localStorage"),s7=AN("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ku=new mh("@firebase/database"),o7=function(){let e=1;return function(){return e++}}(),PN=function(e){const t=XH(e),n=new zH;n.update(t);const i=n.digest();return pp.encodeByteArray(i)},wh=function(...e){let t="";for(let n=0;n<e.length;n++){const i=e[n];Array.isArray(i)||i&&typeof i=="object"&&typeof i.length=="number"?t+=wh.apply(null,i):typeof i=="object"?t+=yi(i):t+=i,t+=" "}return t};let Yd=null,cI=!0;const a7=function(e,t){Ue(!t,"Can't turn on custom loggers persistently."),Ku.logLevel=Pt.VERBOSE,Yd=Ku.log.bind(Ku)},Vi=function(...e){if(cI===!0&&(cI=!1,Yd===null&&s7.get("logging_enabled")===!0&&a7()),Yd){const t=wh.apply(null,e);Yd(t)}},Sh=function(e){return function(...t){Vi(e,...t)}},Kb=function(...e){const t="FIREBASE INTERNAL ERROR: "+wh(...e);Ku.error(t)},Pl=function(...e){const t=`FIREBASE FATAL ERROR: ${wh(...e)}`;throw Ku.error(t),new Error(t)},Er=function(...e){const t="FIREBASE WARNING: "+wh(...e);Ku.warn(t)},l7=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Er("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},xN=function(e){return typeof e=="number"&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},u7=function(e){if(document.readyState==="complete")e();else{let t=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}t||(t=!0,e())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},lc="[MIN_NAME]",xl="[MAX_NAME]",Nc=function(e,t){if(e===t)return 0;if(e===lc||t===xl)return-1;if(t===lc||e===xl)return 1;{const n=dI(e),i=dI(t);return n!==null?i!==null?n-i===0?e.length-t.length:n-i:-1:i!==null?1:e<t?-1:1}},c7=function(e,t){return e===t?0:e<t?-1:1},yd=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+yi(t))},rE=function(e){if(typeof e!="object"||e===null)return yi(e);const t=[];for(const i in e)t.push(i);t.sort();let n="{";for(let i=0;i<t.length;i++)i!==0&&(n+=","),n+=yi(t[i]),n+=":",n+=rE(e[t[i]]);return n+="}",n},DN=function(e,t){const n=e.length;if(n<=t)return[e];const i=[];for(let r=0;r<n;r+=t)r+t>n?i.push(e.substring(r,n)):i.push(e.substring(r,r+t));return i};function Ur(e,t){for(const n in e)e.hasOwnProperty(n)&&t(n,e[n])}const RN=function(e){Ue(!xN(e),"Invalid JSON number");const t=11,n=52,i=(1<<t-1)-1;let r,s,o,a,l;e===0?(s=0,o=0,r=1/e===-1/0?1:0):(r=e<0,e=Math.abs(e),e>=Math.pow(2,1-i)?(a=Math.min(Math.floor(Math.log(e)/Math.LN2),i),s=a+i,o=Math.round(e*Math.pow(2,n-a)-Math.pow(2,n))):(s=0,o=Math.round(e/Math.pow(2,1-i-n))));const u=[];for(l=n;l;l-=1)u.push(o%2?1:0),o=Math.floor(o/2);for(l=t;l;l-=1)u.push(s%2?1:0),s=Math.floor(s/2);u.push(r?1:0),u.reverse();const d=u.join("");let c="";for(l=0;l<64;l+=8){let f=parseInt(d.substr(l,8),2).toString(16);f.length===1&&(f="0"+f),c=c+f}return c.toLowerCase()},d7=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},f7=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"},h7=new RegExp("^-?(0*)\\d{1,10}$"),v7=-2147483648,m7=2147483647,dI=function(e){if(h7.test(e)){const t=Number(e);if(t>=v7&&t<=m7)return t}return null},Eh=function(e){try{e()}catch(t){setTimeout(()=>{const n=t.stack||"";throw Er("Exception was thrown by user callback.",n),t},Math.floor(0))}},g7=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Kd=function(e,t){const n=setTimeout(e,t);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p7{constructor(t,n){this.appName_=t,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(i=>this.appCheck=i)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((n,i)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(n,i):n(null)},0)})}addTokenChangeListener(t){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(i=>i.addTokenListener(t))}notifyForInvalidToken(){Er(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _7{constructor(t,n,i){this.appName_=t,this.firebaseOptions_=n,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(r=>this.auth_=r)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(n=>n&&n.code==="auth/token-not-initialized"?(Vi("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,i)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(n,i):n(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(n=>n.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(n=>n.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Er(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sE="5",ON="v",VN="s",NN="r",MN="f",LN=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,FN="ls",$N="p",Xb="ac",BN="websocket",UN="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y7{constructor(t,n,i,r,s=!1,o="",a=!1,l=!1){this.secure=n,this.namespace=i,this.webSocketOnly=r,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=al.get("host:"+t)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&al.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){const t=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${t}${this.host}/${n}`}}function b7(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams}function jN(e,t,n){Ue(typeof t=="string","typeof type must == string"),Ue(typeof n=="object","typeof params must == object");let i;if(t===BN)i=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else if(t===UN)i=(e.secure?"https://":"http://")+e.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+t);b7(e)&&(n.ns=e.namespace);const r=[];return Ur(n,(s,o)=>{r.push(s+"="+o)}),i+r.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w7{constructor(){this.counters_={}}incrementCounter(t,n=1){xo(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=n}get(){return TH(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iy={},Ay={};function oE(e){const t=e.toString();return Iy[t]||(Iy[t]=new w7),Iy[t]}function S7(e,t){const n=e.toString();return Ay[n]||(Ay[n]=t()),Ay[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E7{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,n){this.closeAfterResponse=t,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,n){for(this.pendingResponses[t]=n;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<i.length;++r)i[r]&&Eh(()=>{this.onMessage_(i[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fI="start",C7="close",k7="pLPCommand",T7="pRTLPCB",HN="id",WN="pw",zN="ser",I7="cb",A7="seg",P7="ts",x7="d",D7="dframe",GN=1870,qN=30,R7=GN-qN,O7=25e3,V7=3e4;class Ou{constructor(t,n,i,r,s,o,a){this.connId=t,this.repoInfo=n,this.applicationId=i,this.appCheckToken=r,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Sh(t),this.stats_=oE(n),this.urlFn=l=>(this.appCheckToken&&(l[Xb]=this.appCheckToken),jN(n,UN,l))}open(t,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new E7(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(V7)),u7(()=>{if(this.isClosed_)return;this.scriptTagHolder=new aE((...s)=>{const[o,a,l,u,d]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===fI)this.id=a,this.password=l;else if(o===C7)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{const[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const i={};i[fI]="t",i[zN]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(i[I7]=this.scriptTagHolder.uniqueCallbackIdentifier),i[ON]=sE,this.transportSessionId&&(i[VN]=this.transportSessionId),this.lastSessionId&&(i[FN]=this.lastSessionId),this.applicationId&&(i[$N]=this.applicationId),this.appCheckToken&&(i[Xb]=this.appCheckToken),typeof location<"u"&&location.hostname&&LN.test(location.hostname)&&(i[NN]=MN);const r=this.urlFn(i);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Ou.forceAllow_=!0}static forceDisallow(){Ou.forceDisallow_=!0}static isAvailable(){return Ou.forceAllow_?!0:!Ou.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!d7()&&!f7()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const n=yi(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const i=EV(n),r=DN(i,R7);for(let s=0;s<r.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[s]),this.curSegmentNum++}addDisconnectPingFrame(t,n){this.myDisconnFrame=document.createElement("iframe");const i={};i[D7]="t",i[HN]=t,i[WN]=n,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const n=yi(t).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class aE{constructor(t,n,i,r){this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=o7(),window[k7+this.uniqueCallbackIdentifier]=t,window[T7+this.uniqueCallbackIdentifier]=n,this.myIFrame=aE.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){Vi("frame writing exception"),a.stack&&Vi(a.stack),Vi(a)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",document.body){document.body.appendChild(t);try{t.contentWindow.document||Vi("No IE domain setting required")}catch{const i=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,n){for(this.myID=t,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t[HN]=this.myID,t[WN]=this.myPW,t[zN]=this.currentSerial;let n=this.urlFn(t),i="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+qN+i.length<=GN;){const o=this.pendingSegs.shift();i=i+"&"+A7+r+"="+o.seg+"&"+P7+r+"="+o.ts+"&"+x7+r+"="+o.d,r++}return n=n+i,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(t,n,i){this.pendingSegs.push({seg:t,ts:n,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(t,n){this.outstandingRequests.add(n);const i=()=>{this.outstandingRequests.delete(n),this.newRequest_()},r=setTimeout(i,Math.floor(O7)),s=()=>{clearTimeout(r),i()};this.addTag(t,s)}addTag(t,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=t,i.onload=i.onreadystatechange=function(){const r=i.readyState;(!r||r==="loaded"||r==="complete")&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),n())},i.onerror=()=>{Vi("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N7=16384,M7=45e3;let Gm=null;typeof MozWebSocket<"u"?Gm=MozWebSocket:typeof WebSocket<"u"&&(Gm=WebSocket);class zr{constructor(t,n,i,r,s,o,a){this.connId=t,this.applicationId=i,this.appCheckToken=r,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Sh(this.connId),this.stats_=oE(n),this.connURL=zr.connectionURL_(n,o,a,r,i),this.nodeAdmin=n.nodeAdmin}static connectionURL_(t,n,i,r,s){const o={};return o[ON]=sE,typeof location<"u"&&location.hostname&&LN.test(location.hostname)&&(o[NN]=MN),n&&(o[VN]=n),i&&(o[FN]=i),r&&(o[Xb]=r),s&&(o[$N]=s),jN(t,BN,o)}open(t,n){this.onDisconnect=n,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,al.set("previous_websocket_failure",!0);try{let i;PV(),this.mySock=new Gm(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const r=i.message||i.data;r&&this.log_(r),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const r=i.message||i.data;r&&this.log_(r),this.onClosed_()}}start(){}static forceDisallow(){zr.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(n);i&&i.length>1&&parseFloat(i[1])<4.4&&(t=!0)}return!t&&Gm!==null&&!zr.forceDisallow_}static previouslyFailed(){return al.isInMemoryStorage||al.get("previous_websocket_failure")===!0}markConnectionHealthy(){al.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const i=bf(n);this.onMessage(i)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if(Ue(this.frames===null,"We already have a frame buffer"),t.length<=6){const n=Number(t);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(this.mySock===null)return;const n=t.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const i=this.extractFrameCount_(n);i!==null&&this.appendFrame_(i)}}send(t){this.resetKeepAlive();const n=yi(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const i=DN(n,N7);i.length>1&&this.sendString_(String(i.length));for(let r=0;r<i.length;r++)this.sendString_(i[r])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(M7))}sendString_(t){try{this.mySock.send(t)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}zr.responsesRequiredToBeHealthy=2;zr.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cf{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[Ou,zr]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(t){const n=zr&&zr.isAvailable();let i=n&&!zr.previouslyFailed();if(t.webSocketOnly&&(n||Er("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[zr];else{const r=this.transports_=[];for(const s of Cf.ALL_TRANSPORTS)s&&s.isAvailable()&&r.push(s);Cf.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Cf.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L7=6e4,F7=5e3,$7=10*1024,B7=100*1024,Py="t",hI="d",U7="s",vI="r",j7="e",mI="o",gI="a",pI="n",_I="p",H7="h";class W7{constructor(t,n,i,r,s,o,a,l,u,d){this.id=t,this.repoInfo_=n,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=u,this.lastSessionId=d,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Sh("c:"+this.id+":"),this.transportManager_=new Cf(n),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,i)},Math.floor(0));const r=t.healthyTimeout||0;r>0&&(this.healthyTimeout_=Kd(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>B7?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>$7?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return n=>{t===this.conn_?this.onConnectionLost_(n):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return n=>{this.state_!==2&&(t===this.rx_?this.onPrimaryMessageReceived_(n):t===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(t){const n={t:"d",d:t};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if(Py in t){const n=t[Py];n===gI?this.upgradeIfSecondaryHealthy_():n===vI?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===mI&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const n=yd("t",t),i=yd("d",t);if(n==="c")this.onSecondaryControl_(i);else if(n==="d")this.pendingDataMessages.push(i);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:_I,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:gI,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:pI,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const n=yd("t",t),i=yd("d",t);n==="c"?this.onControl_(i):n==="d"&&this.onDataMessage_(i)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const n=yd(Py,t);if(hI in t){const i=t[hI];if(n===H7){const r=Object.assign({},i);this.repoInfo_.isUsingEmulator&&(r.h=this.repoInfo_.host),this.onHandshake_(r)}else if(n===pI){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===U7?this.onConnectionShutdown_(i):n===vI?this.onReset_(i):n===j7?Kb("Server Error: "+i):n===mI?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Kb("Unknown control packet command: "+n)}}onHandshake_(t){const n=t.ts,i=t.v,r=t.h;this.sessionId=t.s,this.repoInfo_.host=r,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),sE!==i&&Er("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,i),Kd(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(L7))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,n){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Kd(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(F7))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:_I,d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,!t&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(al.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(t)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YN{put(t,n,i,r){}merge(t,n,i,r){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,n,i){}onDisconnectMerge(t,n,i){}onDisconnectCancel(t,n){}reportStats(t){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KN{constructor(t){this.allowedEvents_=t,this.listeners_={},Ue(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...n){if(Array.isArray(this.listeners_[t])){const i=[...this.listeners_[t]];for(let r=0;r<i.length;r++)i[r].callback.apply(i[r].context,n)}}on(t,n,i){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:n,context:i});const r=this.getInitialEvent(t);r&&n.apply(i,r)}off(t,n,i){this.validateEventType_(t);const r=this.listeners_[t]||[];for(let s=0;s<r.length;s++)if(r[s].callback===n&&(!i||i===r[s].context)){r.splice(s,1);return}}validateEventType_(t){Ue(this.allowedEvents_.find(n=>n===t),"Unknown event: "+t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qm extends KN{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!BS()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new qm}getInitialEvent(t){return Ue(t==="online","Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yI=32,bI=768;class In{constructor(t,n){if(n===void 0){this.pieces_=t.split("/");let i=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}toString(){let t="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(t+="/"+this.pieces_[n]);return t||"/"}}function tn(){return new In("")}function Nt(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function ma(e){return e.pieces_.length-e.pieceNum_}function En(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new In(e.pieces_,t)}function XN(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function z7(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)e.pieces_[n]!==""&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}function QN(e,t=0){return e.pieces_.slice(e.pieceNum_+t)}function JN(e){if(e.pieceNum_>=e.pieces_.length)return null;const t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new In(t,0)}function li(e,t){const n=[];for(let i=e.pieceNum_;i<e.pieces_.length;i++)n.push(e.pieces_[i]);if(t instanceof In)for(let i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);else{const i=t.split("/");for(let r=0;r<i.length;r++)i[r].length>0&&n.push(i[r])}return new In(n,0)}function Rt(e){return e.pieceNum_>=e.pieces_.length}function Lr(e,t){const n=Nt(e),i=Nt(t);if(n===null)return t;if(n===i)return Lr(En(e),En(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function ZN(e,t){if(ma(e)!==ma(t))return!1;for(let n=e.pieceNum_,i=t.pieceNum_;n<=e.pieces_.length;n++,i++)if(e.pieces_[n]!==t.pieces_[i])return!1;return!0}function Xr(e,t){let n=e.pieceNum_,i=t.pieceNum_;if(ma(e)>ma(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[i])return!1;++n,++i}return!0}class G7{constructor(t,n){this.errorPrefix_=n,this.parts_=QN(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=yp(this.parts_[i]);eM(this)}}function q7(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=yp(t),eM(e)}function Y7(e){const t=e.parts_.pop();e.byteLength_-=yp(t),e.parts_.length>0&&(e.byteLength_-=1)}function eM(e){if(e.byteLength_>bI)throw new Error(e.errorPrefix_+"has a key path longer than "+bI+" bytes ("+e.byteLength_+").");if(e.parts_.length>yI)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+yI+") or object contains a cycle "+Ja(e))}function Ja(e){return e.parts_.length===0?"":"in property '"+e.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lE extends KN{constructor(){super(["visible"]);let t,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const i=!document[t];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new lE}getInitialEvent(t){return Ue(t==="visible","Unknown event type: "+t),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bd=1e3,K7=60*5*1e3,wI=30*1e3,X7=1.3,Q7=3e4,J7="server_kill",SI=3;class mo extends YN{constructor(t,n,i,r,s,o,a,l){if(super(),this.repoInfo_=t,this.applicationId_=n,this.onDataUpdate_=i,this.onConnectStatus_=r,this.onServerInfoUpdate_=s,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=mo.nextPersistentConnectionId_++,this.log_=Sh("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=bd,this.maxReconnectDelay_=K7,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!PV())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");lE.getInstance().on("visible",this.onVisible_,this),t.host.indexOf("fblocal")===-1&&qm.getInstance().on("online",this.onOnline_,this)}sendRequest(t,n,i){const r=++this.requestNumber_,s={r,a:t,b:n};this.log_(yi(s)),Ue(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),i&&(this.requestCBHash_[r]=i)}get(t){this.initConnection_();const n=new yf,r={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:o=>{const a=o.d;o.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(r),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(t,n,i,r){this.initConnection_();const s=t._queryIdentifier,o=t._path.toString();this.log_("Listen called for "+o+" "+s),this.listens.has(o)||this.listens.set(o,new Map),Ue(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Ue(!this.listens.get(o).has(s),"listen() called twice for same path/queryId.");const a={onComplete:r,hashFn:n,query:t,tag:i};this.listens.get(o).set(s,a),this.connected_&&this.sendListen_(a)}sendGet_(t){const n=this.outstandingGets_[t];this.sendRequest("g",n.request,i=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(i)})}sendListen_(t){const n=t.query,i=n._path.toString(),r=n._queryIdentifier;this.log_("Listen on "+i+" for "+r);const s={p:i},o="q";t.tag&&(s.q=n._queryObject,s.t=t.tag),s.h=t.hashFn(),this.sendRequest(o,s,a=>{const l=a.d,u=a.s;mo.warnOnListenWarnings_(l,n),(this.listens.get(i)&&this.listens.get(i).get(r))===t&&(this.log_("listen response",a),u!=="ok"&&this.removeListen_(i,r),t.onComplete&&t.onComplete(u,l))})}static warnOnListenWarnings_(t,n){if(t&&typeof t=="object"&&xo(t,"w")){const i=oc(t,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const r='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();Er(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${r} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&t.length===40||WH(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=wI)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,n=HH(t)?"auth":"gauth",i={cred:t};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(n,i,r=>{const s=r.s,o=r.d||"error";this.authToken_===t&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const n=t.s,i=t.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,i)})}unlisten(t,n){const i=t._path.toString(),r=t._queryIdentifier;this.log_("Unlisten called for "+i+" "+r),Ue(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,r)&&this.connected_&&this.sendUnlisten_(i,r,t._queryObject,n)}sendUnlisten_(t,n,i,r){this.log_("Unlisten on "+t+" for "+n);const s={p:t},o="n";r&&(s.q=i,s.t=r),this.sendRequest(o,s)}onDisconnectPut(t,n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,n,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:n,onComplete:i})}onDisconnectMerge(t,n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,n,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:n,onComplete:i})}onDisconnectCancel(t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(t,n,i,r){const s={p:n,d:i};this.log_("onDisconnect "+t,s),this.sendRequest(t,s,o=>{r&&setTimeout(()=>{r(o.s,o.d)},Math.floor(0))})}put(t,n,i,r){this.putInternal("p",t,n,i,r)}merge(t,n,i,r){this.putInternal("m",t,n,i,r)}putInternal(t,n,i,r,s){this.initConnection_();const o={p:n,d:i};s!==void 0&&(o.h=s),this.outstandingPuts_.push({action:t,request:o,onComplete:r}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(t){const n=this.outstandingPuts_[t].action,i=this.outstandingPuts_[t].request,r=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(n,i,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[t],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),r&&r(s.s,s.d)})}reportStats(t){if(this.connected_){const n={c:t};this.log_("reportStats",n),this.sendRequest("s",n,i=>{if(i.s!=="ok"){const s=i.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+yi(t));const n=t.r,i=this.requestCBHash_[n];i&&(delete this.requestCBHash_[n],i(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,n){this.log_("handleServerMessage",t,n),t==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):t==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):t==="c"?this.onListenRevoked_(n.p,n.q):t==="ac"?this.onAuthRevoked_(n.s,n.d):t==="apc"?this.onAppCheckRevoked_(n.s,n.d):t==="sd"?this.onSecurityDebugPacket_(n):Kb("Unrecognized action received from server: "+yi(t)+`
Are you using the latest client?`)}onReady_(t,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(t),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){Ue(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=bd,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=bd,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>Q7&&(this.reconnectDelay_=bd),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const t=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-t);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*X7)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const t=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),r=this.id+":"+mo.nextConnectionId_++,s=this.lastSessionId;let o=!1,a=null;const l=function(){a?a.close():(o=!0,i())},u=function(c){Ue(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(c)};this.realtime_={close:l,sendRequest:u};const d=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[c,f]=await Promise.all([this.authTokenProvider_.getToken(d),this.appCheckTokenProvider_.getToken(d)]);o?Vi("getToken() completed but was canceled"):(Vi("getToken() completed. Creating connection."),this.authToken_=c&&c.accessToken,this.appCheckToken_=f&&f.token,a=new W7(r,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,n,i,v=>{Er(v+" ("+this.repoInfo_.toString()+")"),this.interrupt(J7)},s))}catch(c){this.log_("Failed to get token: "+c),o||(this.repoInfo_.nodeAdmin&&Er(c),l())}}}interrupt(t){Vi("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){Vi("Resuming connection for reason: "+t),delete this.interruptReasons_[t],Lb(this.interruptReasons_)&&(this.reconnectDelay_=bd,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const n=t-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const n=this.outstandingPuts_[t];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(t,n){let i;n?i=n.map(s=>rE(s)).join("$"):i="default";const r=this.removeListen_(t,i);r&&r.onComplete&&r.onComplete("permission_denied")}removeListen_(t,n){const i=new In(t).toString();let r;if(this.listens.has(i)){const s=this.listens.get(i);r=s.get(n),s.delete(n),s.size===0&&this.listens.delete(i)}else r=void 0;return r}onAuthRevoked_(t,n){Vi("Auth token revoked: "+t+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(t==="invalid_token"||t==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=SI&&(this.reconnectDelay_=wI,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,n){Vi("App check token revoked: "+t+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(t==="invalid_token"||t==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=SI&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const n of t.values())this.sendListen_(n);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let n="js";t["sdk."+n+"."+IN.replace(/\./g,"-")]=1,BS()?t["framework.cordova"]=1:AV()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=qm.getInstance().currentlyOnline();return Lb(this.interruptReasons_)&&t}}mo.nextPersistentConnectionId_=0;mo.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(t,n){this.name=t,this.node=n}static Wrap(t,n){return new Lt(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ep{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,n){const i=new Lt(lc,t),r=new Lt(lc,n);return this.compare(i,r)!==0}minPost(){return Lt.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sv;class tM extends Ep{static get __EMPTY_NODE(){return Sv}static set __EMPTY_NODE(t){Sv=t}compare(t,n){return Nc(t.name,n.name)}isDefinedOn(t){throw Dc("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,n){return!1}minPost(){return Lt.MIN}maxPost(){return new Lt(xl,Sv)}makePost(t,n){return Ue(typeof t=="string","KeyIndex indexValue must always be a string."),new Lt(t,Sv)}toString(){return".key"}}const Xu=new tM;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ev=class{constructor(t,n,i,r,s=null){this.isReverse_=r,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!t.isEmpty();)if(t=t,o=n?i(t.key,n):1,r&&(o*=-1),o<0)this.isReverse_?t=t.left:t=t.right;else if(o===0){this.nodeStack_.push(t);break}else this.nodeStack_.push(t),this.isReverse_?t=t.right:t=t.left}getNext(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(t.key,t.value):n={key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}},mr=class Dd{constructor(t,n,i,r,s){this.key=t,this.value=n,this.color=i??Dd.RED,this.left=r??bs.EMPTY_NODE,this.right=s??bs.EMPTY_NODE}copy(t,n,i,r,s){return new Dd(t??this.key,n??this.value,i??this.color,r??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,i){let r=this;const s=i(t,r.key);return s<0?r=r.copy(null,null,null,r.left.insert(t,n,i),null):s===0?r=r.copy(null,n,null,null,null):r=r.copy(null,null,null,null,r.right.insert(t,n,i)),r.fixUp_()}removeMin_(){if(this.left.isEmpty())return bs.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,n){let i,r;if(i=this,n(t,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),n(t,i.key)===0){if(i.right.isEmpty())return bs.EMPTY_NODE;r=i.right.min_(),i=i.copy(r.key,r.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,Dd.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,Dd.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}};mr.RED=!0;mr.BLACK=!1;class Z7{copy(t,n,i,r,s){return this}insert(t,n,i){return new mr(t,n,null)}remove(t,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}let bs=class am{constructor(t,n=am.EMPTY_NODE){this.comparator_=t,this.root_=n}insert(t,n){return new am(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,mr.BLACK,null,null))}remove(t){return new am(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,mr.BLACK,null,null))}get(t){let n,i=this.root_;for(;!i.isEmpty();){if(n=this.comparator_(t,i.key),n===0)return i.value;n<0?i=i.left:n>0&&(i=i.right)}return null}getPredecessorKey(t){let n,i=this.root_,r=null;for(;!i.isEmpty();)if(n=this.comparator_(t,i.key),n===0){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}else n<0?i=i.left:n>0&&(r=i,i=i.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new Ev(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,n){return new Ev(this.root_,t,this.comparator_,!1,n)}getReverseIteratorFrom(t,n){return new Ev(this.root_,t,this.comparator_,!0,n)}getReverseIterator(t){return new Ev(this.root_,null,this.comparator_,!0,t)}};bs.EMPTY_NODE=new Z7;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eG(e,t){return Nc(e.name,t.name)}function uE(e,t){return Nc(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qb;function tG(e){Qb=e}const nM=function(e){return typeof e=="number"?"number:"+RN(e):"string:"+e},iM=function(e){if(e.isLeafNode()){const t=e.val();Ue(typeof t=="string"||typeof t=="number"||typeof t=="object"&&xo(t,".sv"),"Priority must be a string or number.")}else Ue(e===Qb||e.isEmpty(),"priority of unexpected type.");Ue(e===Qb||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let EI;class oi{constructor(t,n=oi.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=n,this.lazyHash_=null,Ue(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),iM(this.priorityNode_)}static set __childrenNodeConstructor(t){EI=t}static get __childrenNodeConstructor(){return EI}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new oi(this.value_,t)}getImmediateChild(t){return t===".priority"?this.priorityNode_:oi.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return Rt(t)?this:Nt(t)===".priority"?this.priorityNode_:oi.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,n){return null}updateImmediateChild(t,n){return t===".priority"?this.updatePriority(n):n.isEmpty()&&t!==".priority"?this:oi.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)}updateChild(t,n){const i=Nt(t);return i===null?n:n.isEmpty()&&i!==".priority"?this:(Ue(i!==".priority"||ma(t)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,oi.__childrenNodeConstructor.EMPTY_NODE.updateChild(En(t),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,n){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+nM(this.priorityNode_.val())+":");const n=typeof this.value_;t+=n+":",n==="number"?t+=RN(this.value_):t+=this.value_,this.lazyHash_=PN(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===oi.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof oi.__childrenNodeConstructor?-1:(Ue(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const n=typeof t.value_,i=typeof this.value_,r=oi.VALUE_TYPE_ORDER.indexOf(n),s=oi.VALUE_TYPE_ORDER.indexOf(i);return Ue(r>=0,"Unknown leaf type: "+n),Ue(s>=0,"Unknown leaf type: "+i),r===s?i==="object"?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:s-r}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const n=t;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}oi.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rM,sM;function nG(e){rM=e}function iG(e){sM=e}class rG extends Ep{compare(t,n){const i=t.node.getPriority(),r=n.node.getPriority(),s=i.compareTo(r);return s===0?Nc(t.name,n.name):s}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,n){return!t.getPriority().equals(n.getPriority())}minPost(){return Lt.MIN}maxPost(){return new Lt(xl,new oi("[PRIORITY-POST]",sM))}makePost(t,n){const i=rM(t);return new Lt(n,new oi("[PRIORITY-POST]",i))}toString(){return".priority"}}const Fi=new rG;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sG=Math.log(2);class oG{constructor(t){const n=s=>parseInt(Math.log(s)/sG,10),i=s=>parseInt(Array(s+1).join("1"),2);this.count=n(t+1),this.current_=this.count-1;const r=i(this.count);this.bits_=t+1&r}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const Ym=function(e,t,n,i){e.sort(t);const r=function(l,u){const d=u-l;let c,f;if(d===0)return null;if(d===1)return c=e[l],f=n?n(c):c,new mr(f,c.node,mr.BLACK,null,null);{const v=parseInt(d/2,10)+l,m=r(l,v),p=r(v+1,u);return c=e[v],f=n?n(c):c,new mr(f,c.node,mr.BLACK,m,p)}},s=function(l){let u=null,d=null,c=e.length;const f=function(m,p){const _=c-m,y=c;c-=m;const b=r(_+1,y),C=e[_],k=n?n(C):C;v(new mr(k,C.node,p,null,b))},v=function(m){u?(u.left=m,u=m):(d=m,u=m)};for(let m=0;m<l.count;++m){const p=l.nextBitIsOne(),_=Math.pow(2,l.count-(m+1));p?f(_,mr.BLACK):(f(_,mr.BLACK),f(_,mr.RED))}return d},o=new oG(e.length),a=s(o);return new bs(i||t,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xy;const pu={};class co{constructor(t,n){this.indexes_=t,this.indexSet_=n}static get Default(){return Ue(pu&&Fi,"ChildrenNode.ts has not been loaded"),xy=xy||new co({".priority":pu},{".priority":Fi}),xy}get(t){const n=oc(this.indexes_,t);if(!n)throw new Error("No index defined for "+t);return n instanceof bs?n:null}hasIndex(t){return xo(this.indexSet_,t.toString())}addIndex(t,n){Ue(t!==Xu,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let r=!1;const s=n.getIterator(Lt.Wrap);let o=s.getNext();for(;o;)r=r||t.isDefinedOn(o.node),i.push(o),o=s.getNext();let a;r?a=Ym(i,t.getCompare()):a=pu;const l=t.toString(),u=Object.assign({},this.indexSet_);u[l]=t;const d=Object.assign({},this.indexes_);return d[l]=a,new co(d,u)}addToIndexes(t,n){const i=Lm(this.indexes_,(r,s)=>{const o=oc(this.indexSet_,s);if(Ue(o,"Missing index implementation for "+s),r===pu)if(o.isDefinedOn(t.node)){const a=[],l=n.getIterator(Lt.Wrap);let u=l.getNext();for(;u;)u.name!==t.name&&a.push(u),u=l.getNext();return a.push(t),Ym(a,o.getCompare())}else return pu;else{const a=n.get(t.name);let l=r;return a&&(l=l.remove(new Lt(t.name,a))),l.insert(t,t.node)}});return new co(i,this.indexSet_)}removeFromIndexes(t,n){const i=Lm(this.indexes_,r=>{if(r===pu)return r;{const s=n.get(t.name);return s?r.remove(new Lt(t.name,s)):r}});return new co(i,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wd;class Kt{constructor(t,n,i){this.children_=t,this.priorityNode_=n,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&iM(this.priorityNode_),this.children_.isEmpty()&&Ue(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return wd||(wd=new Kt(new bs(uE),null,co.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||wd}updatePriority(t){return this.children_.isEmpty()?this:new Kt(this.children_,t,this.indexMap_)}getImmediateChild(t){if(t===".priority")return this.getPriority();{const n=this.children_.get(t);return n===null?wd:n}}getChild(t){const n=Nt(t);return n===null?this:this.getImmediateChild(n).getChild(En(t))}hasChild(t){return this.children_.get(t)!==null}updateImmediateChild(t,n){if(Ue(n,"We should always be passing snapshot nodes"),t===".priority")return this.updatePriority(n);{const i=new Lt(t,n);let r,s;n.isEmpty()?(r=this.children_.remove(t),s=this.indexMap_.removeFromIndexes(i,this.children_)):(r=this.children_.insert(t,n),s=this.indexMap_.addToIndexes(i,this.children_));const o=r.isEmpty()?wd:this.priorityNode_;return new Kt(r,o,s)}}updateChild(t,n){const i=Nt(t);if(i===null)return n;{Ue(Nt(t)!==".priority"||ma(t)===1,".priority must be the last token in a path");const r=this.getImmediateChild(i).updateChild(En(t),n);return this.updateImmediateChild(i,r)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const n={};let i=0,r=0,s=!0;if(this.forEachChild(Fi,(o,a)=>{n[o]=a.val(t),i++,s&&Kt.INTEGER_REGEXP_.test(o)?r=Math.max(r,Number(o)):s=!1}),!t&&s&&r<2*i){const o=[];for(const a in n)o[a]=n[a];return o}else return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let t="";this.getPriority().isEmpty()||(t+="priority:"+nM(this.getPriority().val())+":"),this.forEachChild(Fi,(n,i)=>{const r=i.hash();r!==""&&(t+=":"+n+":"+r)}),this.lazyHash_=t===""?"":PN(t)}return this.lazyHash_}getPredecessorChildName(t,n,i){const r=this.resolveIndex_(i);if(r){const s=r.getPredecessorKey(new Lt(t,n));return s?s.name:null}else return this.children_.getPredecessorKey(t)}getFirstChildName(t){const n=this.resolveIndex_(t);if(n){const i=n.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(t){const n=this.getFirstChildName(t);return n?new Lt(n,this.children_.get(n)):null}getLastChildName(t){const n=this.resolveIndex_(t);if(n){const i=n.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(t){const n=this.getLastChildName(t);return n?new Lt(n,this.children_.get(n)):null}forEachChild(t,n){const i=this.resolveIndex_(t);return i?i.inorderTraversal(r=>n(r.name,r.node)):this.children_.inorderTraversal(n)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,n){const i=this.resolveIndex_(n);if(i)return i.getIteratorFrom(t,r=>r);{const r=this.children_.getIteratorFrom(t.name,Lt.Wrap);let s=r.peek();for(;s!=null&&n.compare(s,t)<0;)r.getNext(),s=r.peek();return r}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,n){const i=this.resolveIndex_(n);if(i)return i.getReverseIteratorFrom(t,r=>r);{const r=this.children_.getReverseIteratorFrom(t.name,Lt.Wrap);let s=r.peek();for(;s!=null&&n.compare(s,t)>0;)r.getNext(),s=r.peek();return r}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===Ch?-1:0}withIndex(t){if(t===Xu||this.indexMap_.hasIndex(t))return this;{const n=this.indexMap_.addIndex(t,this.children_);return new Kt(this.children_,this.priorityNode_,n)}}isIndexed(t){return t===Xu||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const n=t;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const i=this.getIterator(Fi),r=n.getIterator(Fi);let s=i.getNext(),o=r.getNext();for(;s&&o;){if(s.name!==o.name||!s.node.equals(o.node))return!1;s=i.getNext(),o=r.getNext()}return s===null&&o===null}else return!1;else return!1}}resolveIndex_(t){return t===Xu?null:this.indexMap_.get(t.toString())}}Kt.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class aG extends Kt{constructor(){super(new bs(uE),Kt.EMPTY_NODE,co.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return Kt.EMPTY_NODE}isEmpty(){return!1}}const Ch=new aG;Object.defineProperties(Lt,{MIN:{value:new Lt(lc,Kt.EMPTY_NODE)},MAX:{value:new Lt(xl,Ch)}});tM.__EMPTY_NODE=Kt.EMPTY_NODE;oi.__childrenNodeConstructor=Kt;tG(Ch);iG(Ch);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lG=!0;function Ni(e,t=null){if(e===null)return Kt.EMPTY_NODE;if(typeof e=="object"&&".priority"in e&&(t=e[".priority"]),Ue(t===null||typeof t=="string"||typeof t=="number"||typeof t=="object"&&".sv"in t,"Invalid priority type found: "+typeof t),typeof e=="object"&&".value"in e&&e[".value"]!==null&&(e=e[".value"]),typeof e!="object"||".sv"in e){const n=e;return new oi(n,Ni(t))}if(!(e instanceof Array)&&lG){const n=[];let i=!1;if(Ur(e,(o,a)=>{if(o.substring(0,1)!=="."){const l=Ni(a);l.isEmpty()||(i=i||!l.getPriority().isEmpty(),n.push(new Lt(o,l)))}}),n.length===0)return Kt.EMPTY_NODE;const s=Ym(n,eG,o=>o.name,uE);if(i){const o=Ym(n,Fi.getCompare());return new Kt(s,Ni(t),new co({".priority":o},{".priority":Fi}))}else return new Kt(s,Ni(t),co.Default)}else{let n=Kt.EMPTY_NODE;return Ur(e,(i,r)=>{if(xo(e,i)&&i.substring(0,1)!=="."){const s=Ni(r);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(i,s))}}),n.updatePriority(Ni(t))}}nG(Ni);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uG extends Ep{constructor(t){super(),this.indexPath_=t,Ue(!Rt(t)&&Nt(t)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,n){const i=this.extractChild(t.node),r=this.extractChild(n.node),s=i.compareTo(r);return s===0?Nc(t.name,n.name):s}makePost(t,n){const i=Ni(t),r=Kt.EMPTY_NODE.updateChild(this.indexPath_,i);return new Lt(n,r)}maxPost(){const t=Kt.EMPTY_NODE.updateChild(this.indexPath_,Ch);return new Lt(xl,t)}toString(){return QN(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cG extends Ep{compare(t,n){const i=t.node.compareTo(n.node);return i===0?Nc(t.name,n.name):i}isDefinedOn(t){return!0}indexedValueChanged(t,n){return!t.equals(n)}minPost(){return Lt.MIN}maxPost(){return Lt.MAX}makePost(t,n){const i=Ni(t);return new Lt(n,i)}toString(){return".value"}}const dG=new cG;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fG(e){return{type:"value",snapshotNode:e}}function hG(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function vG(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function CI(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}function mG(e,t){return{type:"child_moved",snapshotNode:t,childName:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cE{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Fi}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return Ue(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return Ue(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:lc}hasEnd(){return this.endSet_}getIndexEndValue(){return Ue(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return Ue(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:xl}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return Ue(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Fi}copy(){const t=new cE;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function kI(e){const t={};if(e.isDefault())return t;let n;if(e.index_===Fi?n="$priority":e.index_===dG?n="$value":e.index_===Xu?n="$key":(Ue(e.index_ instanceof uG,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=yi(n),e.startSet_){const i=e.startAfterSet_?"startAfter":"startAt";t[i]=yi(e.indexStartValue_),e.startNameSet_&&(t[i]+=","+yi(e.indexStartName_))}if(e.endSet_){const i=e.endBeforeSet_?"endBefore":"endAt";t[i]=yi(e.indexEndValue_),e.endNameSet_&&(t[i]+=","+yi(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function TI(e){const t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;let n=e.viewFrom_;n===""&&(e.isViewFromLeft()?n="l":n="r"),t.vf=n}return e.index_!==Fi&&(t.i=e.index_.toString()),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Km extends YN{constructor(t,n,i,r){super(),this.repoInfo_=t,this.onDataUpdate_=n,this.authTokenProvider_=i,this.appCheckTokenProvider_=r,this.log_=Sh("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,n){return n!==void 0?"tag$"+n:(Ue(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,n,i,r){const s=t._path.toString();this.log_("Listen called for "+s+" "+t._queryIdentifier);const o=Km.getListenId_(t,i),a={};this.listens_[o]=a;const l=kI(t._queryParams);this.restRequest_(s+".json",l,(u,d)=>{let c=d;if(u===404&&(c=null,u=null),u===null&&this.onDataUpdate_(s,c,!1,i),oc(this.listens_,o)===a){let f;u?u===401?f="permission_denied":f="rest_error:"+u:f="ok",r(f,null)}})}unlisten(t,n){const i=Km.getListenId_(t,n);delete this.listens_[i]}get(t){const n=kI(t._queryParams),i=t._path.toString(),r=new yf;return this.restRequest_(i+".json",n,(s,o)=>{let a=o;s===404&&(a=null,s=null),s===null?(this.onDataUpdate_(i,a,!1,null),r.resolve(a)):r.reject(new Error(a))}),r.promise}refreshAuthToken(t){}restRequest_(t,n={},i){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,s])=>{r&&r.accessToken&&(n.auth=r.accessToken),s&&s.token&&(n.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+Oc(n);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(i&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=bf(a.responseText)}catch{Er("Failed to parse JSON response for "+o+": "+a.responseText)}i(null,l)}else a.status!==401&&a.status!==404&&Er("Got unsuccessful REST response for "+o+" Status: "+a.status),i(a.status);i=null}},a.open("GET",o,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gG{constructor(){this.rootNode_=Kt.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,n){this.rootNode_=this.rootNode_.updateChild(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xm(){return{value:null,children:new Map}}function oM(e,t,n){if(Rt(t))e.value=n,e.children.clear();else if(e.value!==null)e.value=e.value.updateChild(t,n);else{const i=Nt(t);e.children.has(i)||e.children.set(i,Xm());const r=e.children.get(i);t=En(t),oM(r,t,n)}}function Jb(e,t,n){e.value!==null?n(t,e.value):pG(e,(i,r)=>{const s=new In(t.toString()+"/"+i);Jb(r,s,n)})}function pG(e,t){e.children.forEach((n,i)=>{t(i,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _G{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),n=Object.assign({},t);return this.last_&&Ur(this.last_,(i,r)=>{n[i]=n[i]-r}),this.last_=t,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const II=10*1e3,yG=30*1e3,bG=5*60*1e3;class wG{constructor(t,n){this.server_=n,this.statsToReport_={},this.statsListener_=new _G(t);const i=II+(yG-II)*Math.random();Kd(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const t=this.statsListener_.get(),n={};let i=!1;Ur(t,(r,s)=>{s>0&&xo(this.statsToReport_,r)&&(n[r]=s,i=!0)}),i&&this.server_.reportStats(n),Kd(this.reportStats_.bind(this),Math.floor(Math.random()*2*bG))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ws;(function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(ws||(ws={}));function aM(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function lM(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function uM(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qm{constructor(t,n,i){this.path=t,this.affectedTree=n,this.revert=i,this.type=ws.ACK_USER_WRITE,this.source=aM()}operationForChild(t){if(Rt(this.path)){if(this.affectedTree.value!=null)return Ue(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new In(t));return new Qm(tn(),n,this.revert)}}else return Ue(Nt(this.path)===t,"operationForChild called for unrelated child."),new Qm(En(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dl{constructor(t,n,i){this.source=t,this.path=n,this.snap=i,this.type=ws.OVERWRITE}operationForChild(t){return Rt(this.path)?new Dl(this.source,tn(),this.snap.getImmediateChild(t)):new Dl(this.source,En(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kf{constructor(t,n,i){this.source=t,this.path=n,this.children=i,this.type=ws.MERGE}operationForChild(t){if(Rt(this.path)){const n=this.children.subtree(new In(t));return n.isEmpty()?null:n.value?new Dl(this.source,tn(),n.value):new kf(this.source,tn(),n)}else return Ue(Nt(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new kf(this.source,En(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dE{constructor(t,n,i){this.node_=t,this.fullyInitialized_=n,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(Rt(t))return this.isFullyInitialized()&&!this.filtered_;const n=Nt(t);return this.isCompleteForChild(n)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}function SG(e,t,n,i){const r=[],s=[];return t.forEach(o=>{o.type==="child_changed"&&e.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(mG(o.childName,o.snapshotNode))}),Sd(e,r,"child_removed",t,i,n),Sd(e,r,"child_added",t,i,n),Sd(e,r,"child_moved",s,i,n),Sd(e,r,"child_changed",t,i,n),Sd(e,r,"value",t,i,n),r}function Sd(e,t,n,i,r,s){const o=i.filter(a=>a.type===n);o.sort((a,l)=>CG(e,a,l)),o.forEach(a=>{const l=EG(e,a,s);r.forEach(u=>{u.respondsTo(a.type)&&t.push(u.createEvent(l,e.query_))})})}function EG(e,t,n){return t.type==="value"||t.type==="child_removed"||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}function CG(e,t,n){if(t.childName==null||n.childName==null)throw Dc("Should only compare child_ events.");const i=new Lt(t.childName,t.snapshotNode),r=new Lt(n.childName,n.snapshotNode);return e.index_.compare(i,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cM(e,t){return{eventCache:e,serverCache:t}}function Xd(e,t,n,i){return cM(new dE(t,n,i),e.serverCache)}function dM(e,t,n,i){return cM(e.eventCache,new dE(t,n,i))}function Zb(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function Rl(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dy;const kG=()=>(Dy||(Dy=new bs(c7)),Dy);class Sn{constructor(t,n=kG()){this.value=t,this.children=n}static fromObject(t){let n=new Sn(null);return Ur(t,(i,r)=>{n=n.set(new In(i),r)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,n){if(this.value!=null&&n(this.value))return{path:tn(),value:this.value};if(Rt(t))return null;{const i=Nt(t),r=this.children.get(i);if(r!==null){const s=r.findRootMostMatchingPathAndValue(En(t),n);return s!=null?{path:li(new In(i),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(Rt(t))return this;{const n=Nt(t),i=this.children.get(n);return i!==null?i.subtree(En(t)):new Sn(null)}}set(t,n){if(Rt(t))return new Sn(n,this.children);{const i=Nt(t),s=(this.children.get(i)||new Sn(null)).set(En(t),n),o=this.children.insert(i,s);return new Sn(this.value,o)}}remove(t){if(Rt(t))return this.children.isEmpty()?new Sn(null):new Sn(null,this.children);{const n=Nt(t),i=this.children.get(n);if(i){const r=i.remove(En(t));let s;return r.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,r),this.value===null&&s.isEmpty()?new Sn(null):new Sn(this.value,s)}else return this}}get(t){if(Rt(t))return this.value;{const n=Nt(t),i=this.children.get(n);return i?i.get(En(t)):null}}setTree(t,n){if(Rt(t))return n;{const i=Nt(t),s=(this.children.get(i)||new Sn(null)).setTree(En(t),n);let o;return s.isEmpty()?o=this.children.remove(i):o=this.children.insert(i,s),new Sn(this.value,o)}}fold(t){return this.fold_(tn(),t)}fold_(t,n){const i={};return this.children.inorderTraversal((r,s)=>{i[r]=s.fold_(li(t,r),n)}),n(t,this.value,i)}findOnPath(t,n){return this.findOnPath_(t,tn(),n)}findOnPath_(t,n,i){const r=this.value?i(n,this.value):!1;if(r)return r;if(Rt(t))return null;{const s=Nt(t),o=this.children.get(s);return o?o.findOnPath_(En(t),li(n,s),i):null}}foreachOnPath(t,n){return this.foreachOnPath_(t,tn(),n)}foreachOnPath_(t,n,i){if(Rt(t))return this;{this.value&&i(n,this.value);const r=Nt(t),s=this.children.get(r);return s?s.foreachOnPath_(En(t),li(n,r),i):new Sn(null)}}foreach(t){this.foreach_(tn(),t)}foreach_(t,n){this.children.inorderTraversal((i,r)=>{r.foreach_(li(t,i),n)}),this.value&&n(t,this.value)}foreachChild(t){this.children.inorderTraversal((n,i)=>{i.value&&t(n,i.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns{constructor(t){this.writeTree_=t}static empty(){return new ns(new Sn(null))}}function Qd(e,t,n){if(Rt(t))return new ns(new Sn(n));{const i=e.writeTree_.findRootMostValueAndPath(t);if(i!=null){const r=i.path;let s=i.value;const o=Lr(r,t);return s=s.updateChild(o,n),new ns(e.writeTree_.set(r,s))}else{const r=new Sn(n),s=e.writeTree_.setTree(t,r);return new ns(s)}}}function AI(e,t,n){let i=e;return Ur(n,(r,s)=>{i=Qd(i,li(t,r),s)}),i}function PI(e,t){if(Rt(t))return ns.empty();{const n=e.writeTree_.setTree(t,new Sn(null));return new ns(n)}}function e0(e,t){return ql(e,t)!=null}function ql(e,t){const n=e.writeTree_.findRootMostValueAndPath(t);return n!=null?e.writeTree_.get(n.path).getChild(Lr(n.path,t)):null}function xI(e){const t=[],n=e.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Fi,(i,r)=>{t.push(new Lt(i,r))}):e.writeTree_.children.inorderTraversal((i,r)=>{r.value!=null&&t.push(new Lt(i,r.value))}),t}function ua(e,t){if(Rt(t))return e;{const n=ql(e,t);return n!=null?new ns(new Sn(n)):new ns(e.writeTree_.subtree(t))}}function t0(e){return e.writeTree_.isEmpty()}function uc(e,t){return fM(tn(),e.writeTree_,t)}function fM(e,t,n){if(t.value!=null)return n.updateChild(e,t.value);{let i=null;return t.children.inorderTraversal((r,s)=>{r===".priority"?(Ue(s.value!==null,"Priority writes must always be leaf nodes"),i=s.value):n=fM(li(e,r),s,n)}),!n.getChild(e).isEmpty()&&i!==null&&(n=n.updateChild(li(e,".priority"),i)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hM(e,t){return _M(t,e)}function TG(e,t,n,i,r){Ue(i>e.lastWriteId,"Stacking an older write on top of newer ones"),r===void 0&&(r=!0),e.allWrites.push({path:t,snap:n,writeId:i,visible:r}),r&&(e.visibleWrites=Qd(e.visibleWrites,t,n)),e.lastWriteId=i}function IG(e,t){for(let n=0;n<e.allWrites.length;n++){const i=e.allWrites[n];if(i.writeId===t)return i}return null}function AG(e,t){const n=e.allWrites.findIndex(a=>a.writeId===t);Ue(n>=0,"removeWrite called with nonexistent writeId.");const i=e.allWrites[n];e.allWrites.splice(n,1);let r=i.visible,s=!1,o=e.allWrites.length-1;for(;r&&o>=0;){const a=e.allWrites[o];a.visible&&(o>=n&&PG(a,i.path)?r=!1:Xr(i.path,a.path)&&(s=!0)),o--}if(r){if(s)return xG(e),!0;if(i.snap)e.visibleWrites=PI(e.visibleWrites,i.path);else{const a=i.children;Ur(a,l=>{e.visibleWrites=PI(e.visibleWrites,li(i.path,l))})}return!0}else return!1}function PG(e,t){if(e.snap)return Xr(e.path,t);for(const n in e.children)if(e.children.hasOwnProperty(n)&&Xr(li(e.path,n),t))return!0;return!1}function xG(e){e.visibleWrites=vM(e.allWrites,DG,tn()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}function DG(e){return e.visible}function vM(e,t,n){let i=ns.empty();for(let r=0;r<e.length;++r){const s=e[r];if(t(s)){const o=s.path;let a;if(s.snap)Xr(n,o)?(a=Lr(n,o),i=Qd(i,a,s.snap)):Xr(o,n)&&(a=Lr(o,n),i=Qd(i,tn(),s.snap.getChild(a)));else if(s.children){if(Xr(n,o))a=Lr(n,o),i=AI(i,a,s.children);else if(Xr(o,n))if(a=Lr(o,n),Rt(a))i=AI(i,tn(),s.children);else{const l=oc(s.children,Nt(a));if(l){const u=l.getChild(En(a));i=Qd(i,tn(),u)}}}else throw Dc("WriteRecord should have .snap or .children")}}return i}function mM(e,t,n,i,r){if(!i&&!r){const s=ql(e.visibleWrites,t);if(s!=null)return s;{const o=ua(e.visibleWrites,t);if(t0(o))return n;if(n==null&&!e0(o,tn()))return null;{const a=n||Kt.EMPTY_NODE;return uc(o,a)}}}else{const s=ua(e.visibleWrites,t);if(!r&&t0(s))return n;if(!r&&n==null&&!e0(s,tn()))return null;{const o=function(u){return(u.visible||r)&&(!i||!~i.indexOf(u.writeId))&&(Xr(u.path,t)||Xr(t,u.path))},a=vM(e.allWrites,o,t),l=n||Kt.EMPTY_NODE;return uc(a,l)}}}function RG(e,t,n){let i=Kt.EMPTY_NODE;const r=ql(e.visibleWrites,t);if(r)return r.isLeafNode()||r.forEachChild(Fi,(s,o)=>{i=i.updateImmediateChild(s,o)}),i;if(n){const s=ua(e.visibleWrites,t);return n.forEachChild(Fi,(o,a)=>{const l=uc(ua(s,new In(o)),a);i=i.updateImmediateChild(o,l)}),xI(s).forEach(o=>{i=i.updateImmediateChild(o.name,o.node)}),i}else{const s=ua(e.visibleWrites,t);return xI(s).forEach(o=>{i=i.updateImmediateChild(o.name,o.node)}),i}}function OG(e,t,n,i,r){Ue(i||r,"Either existingEventSnap or existingServerSnap must exist");const s=li(t,n);if(e0(e.visibleWrites,s))return null;{const o=ua(e.visibleWrites,s);return t0(o)?r.getChild(n):uc(o,r.getChild(n))}}function VG(e,t,n,i){const r=li(t,n),s=ql(e.visibleWrites,r);if(s!=null)return s;if(i.isCompleteForChild(n)){const o=ua(e.visibleWrites,r);return uc(o,i.getNode().getImmediateChild(n))}else return null}function NG(e,t){return ql(e.visibleWrites,t)}function MG(e,t,n,i,r,s,o){let a;const l=ua(e.visibleWrites,t),u=ql(l,tn());if(u!=null)a=u;else if(n!=null)a=uc(l,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){const d=[],c=o.getCompare(),f=s?a.getReverseIteratorFrom(i,o):a.getIteratorFrom(i,o);let v=f.getNext();for(;v&&d.length<r;)c(v,i)!==0&&d.push(v),v=f.getNext();return d}else return[]}function LG(){return{visibleWrites:ns.empty(),allWrites:[],lastWriteId:-1}}function n0(e,t,n,i){return mM(e.writeTree,e.treePath,t,n,i)}function gM(e,t){return RG(e.writeTree,e.treePath,t)}function DI(e,t,n,i){return OG(e.writeTree,e.treePath,t,n,i)}function Jm(e,t){return NG(e.writeTree,li(e.treePath,t))}function FG(e,t,n,i,r,s){return MG(e.writeTree,e.treePath,t,n,i,r,s)}function fE(e,t,n){return VG(e.writeTree,e.treePath,t,n)}function pM(e,t){return _M(li(e.treePath,t),e.writeTree)}function _M(e,t){return{treePath:e,writeTree:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $G{constructor(){this.changeMap=new Map}trackChildChange(t){const n=t.type,i=t.childName;Ue(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),Ue(i!==".priority","Only non-priority child changes can be tracked.");const r=this.changeMap.get(i);if(r){const s=r.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(i,CI(i,t.snapshotNode,r.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(i);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(i,vG(i,r.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(i,hG(i,t.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(i,CI(i,t.snapshotNode,r.oldSnap));else throw Dc("Illegal combination of changes: "+t+" occurred after "+r)}else this.changeMap.set(i,t)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BG{getCompleteChild(t){return null}getChildAfterChild(t,n,i){return null}}const yM=new BG;class hE{constructor(t,n,i=null){this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=i}getCompleteChild(t){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(t))return n.getNode().getImmediateChild(t);{const i=this.optCompleteServerCache_!=null?new dE(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return fE(this.writes_,t,i)}}getChildAfterChild(t,n,i){const r=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Rl(this.viewCache_),s=FG(this.writes_,r,n,1,i,t);return s.length===0?null:s[0]}}function UG(e,t){Ue(t.eventCache.getNode().isIndexed(e.filter.getIndex()),"Event snap not indexed"),Ue(t.serverCache.getNode().isIndexed(e.filter.getIndex()),"Server snap not indexed")}function jG(e,t,n,i,r){const s=new $G;let o,a;if(n.type===ws.OVERWRITE){const u=n;u.source.fromUser?o=i0(e,t,u.path,u.snap,i,r,s):(Ue(u.source.fromServer,"Unknown source."),a=u.source.tagged||t.serverCache.isFiltered()&&!Rt(u.path),o=Zm(e,t,u.path,u.snap,i,r,a,s))}else if(n.type===ws.MERGE){const u=n;u.source.fromUser?o=WG(e,t,u.path,u.children,i,r,s):(Ue(u.source.fromServer,"Unknown source."),a=u.source.tagged||t.serverCache.isFiltered(),o=r0(e,t,u.path,u.children,i,r,a,s))}else if(n.type===ws.ACK_USER_WRITE){const u=n;u.revert?o=qG(e,t,u.path,i,r,s):o=zG(e,t,u.path,u.affectedTree,i,r,s)}else if(n.type===ws.LISTEN_COMPLETE)o=GG(e,t,n.path,i,s);else throw Dc("Unknown operation type: "+n.type);const l=s.getChanges();return HG(t,o,l),{viewCache:o,changes:l}}function HG(e,t,n){const i=t.eventCache;if(i.isFullyInitialized()){const r=i.getNode().isLeafNode()||i.getNode().isEmpty(),s=Zb(e);(n.length>0||!e.eventCache.isFullyInitialized()||r&&!i.getNode().equals(s)||!i.getNode().getPriority().equals(s.getPriority()))&&n.push(fG(Zb(t)))}}function bM(e,t,n,i,r,s){const o=t.eventCache;if(Jm(i,n)!=null)return t;{let a,l;if(Rt(n))if(Ue(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const u=Rl(t),d=u instanceof Kt?u:Kt.EMPTY_NODE,c=gM(i,d);a=e.filter.updateFullNode(t.eventCache.getNode(),c,s)}else{const u=n0(i,Rl(t));a=e.filter.updateFullNode(t.eventCache.getNode(),u,s)}else{const u=Nt(n);if(u===".priority"){Ue(ma(n)===1,"Can't have a priority with additional path components");const d=o.getNode();l=t.serverCache.getNode();const c=DI(i,n,d,l);c!=null?a=e.filter.updatePriority(d,c):a=o.getNode()}else{const d=En(n);let c;if(o.isCompleteForChild(u)){l=t.serverCache.getNode();const f=DI(i,n,o.getNode(),l);f!=null?c=o.getNode().getImmediateChild(u).updateChild(d,f):c=o.getNode().getImmediateChild(u)}else c=fE(i,u,t.serverCache);c!=null?a=e.filter.updateChild(o.getNode(),u,c,d,r,s):a=o.getNode()}}return Xd(t,a,o.isFullyInitialized()||Rt(n),e.filter.filtersNodes())}}function Zm(e,t,n,i,r,s,o,a){const l=t.serverCache;let u;const d=o?e.filter:e.filter.getIndexedFilter();if(Rt(n))u=d.updateFullNode(l.getNode(),i,null);else if(d.filtersNodes()&&!l.isFiltered()){const v=l.getNode().updateChild(n,i);u=d.updateFullNode(l.getNode(),v,null)}else{const v=Nt(n);if(!l.isCompleteForPath(n)&&ma(n)>1)return t;const m=En(n),_=l.getNode().getImmediateChild(v).updateChild(m,i);v===".priority"?u=d.updatePriority(l.getNode(),_):u=d.updateChild(l.getNode(),v,_,m,yM,null)}const c=dM(t,u,l.isFullyInitialized()||Rt(n),d.filtersNodes()),f=new hE(r,c,s);return bM(e,c,n,r,f,a)}function i0(e,t,n,i,r,s,o){const a=t.eventCache;let l,u;const d=new hE(r,t,s);if(Rt(n))u=e.filter.updateFullNode(t.eventCache.getNode(),i,o),l=Xd(t,u,!0,e.filter.filtersNodes());else{const c=Nt(n);if(c===".priority")u=e.filter.updatePriority(t.eventCache.getNode(),i),l=Xd(t,u,a.isFullyInitialized(),a.isFiltered());else{const f=En(n),v=a.getNode().getImmediateChild(c);let m;if(Rt(f))m=i;else{const p=d.getCompleteChild(c);p!=null?XN(f)===".priority"&&p.getChild(JN(f)).isEmpty()?m=p:m=p.updateChild(f,i):m=Kt.EMPTY_NODE}if(v.equals(m))l=t;else{const p=e.filter.updateChild(a.getNode(),c,m,f,d,o);l=Xd(t,p,a.isFullyInitialized(),e.filter.filtersNodes())}}}return l}function RI(e,t){return e.eventCache.isCompleteForChild(t)}function WG(e,t,n,i,r,s,o){let a=t;return i.foreach((l,u)=>{const d=li(n,l);RI(t,Nt(d))&&(a=i0(e,a,d,u,r,s,o))}),i.foreach((l,u)=>{const d=li(n,l);RI(t,Nt(d))||(a=i0(e,a,d,u,r,s,o))}),a}function OI(e,t,n){return n.foreach((i,r)=>{t=t.updateChild(i,r)}),t}function r0(e,t,n,i,r,s,o,a){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let l=t,u;Rt(n)?u=i:u=new Sn(null).setTree(n,i);const d=t.serverCache.getNode();return u.children.inorderTraversal((c,f)=>{if(d.hasChild(c)){const v=t.serverCache.getNode().getImmediateChild(c),m=OI(e,v,f);l=Zm(e,l,new In(c),m,r,s,o,a)}}),u.children.inorderTraversal((c,f)=>{const v=!t.serverCache.isCompleteForChild(c)&&f.value===null;if(!d.hasChild(c)&&!v){const m=t.serverCache.getNode().getImmediateChild(c),p=OI(e,m,f);l=Zm(e,l,new In(c),p,r,s,o,a)}}),l}function zG(e,t,n,i,r,s,o){if(Jm(r,n)!=null)return t;const a=t.serverCache.isFiltered(),l=t.serverCache;if(i.value!=null){if(Rt(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return Zm(e,t,n,l.getNode().getChild(n),r,s,a,o);if(Rt(n)){let u=new Sn(null);return l.getNode().forEachChild(Xu,(d,c)=>{u=u.set(new In(d),c)}),r0(e,t,n,u,r,s,a,o)}else return t}else{let u=new Sn(null);return i.foreach((d,c)=>{const f=li(n,d);l.isCompleteForPath(f)&&(u=u.set(d,l.getNode().getChild(f)))}),r0(e,t,n,u,r,s,a,o)}}function GG(e,t,n,i,r){const s=t.serverCache,o=dM(t,s.getNode(),s.isFullyInitialized()||Rt(n),s.isFiltered());return bM(e,o,n,i,yM,r)}function qG(e,t,n,i,r,s){let o;if(Jm(i,n)!=null)return t;{const a=new hE(i,t,r),l=t.eventCache.getNode();let u;if(Rt(n)||Nt(n)===".priority"){let d;if(t.serverCache.isFullyInitialized())d=n0(i,Rl(t));else{const c=t.serverCache.getNode();Ue(c instanceof Kt,"serverChildren would be complete if leaf node"),d=gM(i,c)}d=d,u=e.filter.updateFullNode(l,d,s)}else{const d=Nt(n);let c=fE(i,d,t.serverCache);c==null&&t.serverCache.isCompleteForChild(d)&&(c=l.getImmediateChild(d)),c!=null?u=e.filter.updateChild(l,d,c,En(n),a,s):t.eventCache.getNode().hasChild(d)?u=e.filter.updateChild(l,d,Kt.EMPTY_NODE,En(n),a,s):u=l,u.isEmpty()&&t.serverCache.isFullyInitialized()&&(o=n0(i,Rl(t)),o.isLeafNode()&&(u=e.filter.updateFullNode(u,o,s)))}return o=t.serverCache.isFullyInitialized()||Jm(i,tn())!=null,Xd(t,u,o,e.filter.filtersNodes())}}function YG(e,t){const n=Rl(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!Rt(t)&&!n.getImmediateChild(Nt(t)).isEmpty())?n.getChild(t):null}function VI(e,t,n,i){t.type===ws.MERGE&&t.source.queryId!==null&&(Ue(Rl(e.viewCache_),"We should always have a full cache before handling merges"),Ue(Zb(e.viewCache_),"Missing event cache, even though we have a server cache"));const r=e.viewCache_,s=jG(e.processor_,r,t,n,i);return UG(e.processor_,s.viewCache),Ue(s.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=s.viewCache,KG(e,s.changes,s.viewCache.eventCache.getNode())}function KG(e,t,n,i){const r=e.eventRegistrations_;return SG(e.eventGenerator_,t,n,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let NI;function XG(e){Ue(!NI,"__referenceConstructor has already been defined"),NI=e}function vE(e,t,n,i){const r=t.source.queryId;if(r!==null){const s=e.views.get(r);return Ue(s!=null,"SyncTree gave us an op for an invalid query."),VI(s,t,n,i)}else{let s=[];for(const o of e.views.values())s=s.concat(VI(o,t,n,i));return s}}function mE(e,t){let n=null;for(const i of e.views.values())n=n||YG(i,t);return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let MI;function QG(e){Ue(!MI,"__referenceConstructor has already been defined"),MI=e}class LI{constructor(t){this.listenProvider_=t,this.syncPointTree_=new Sn(null),this.pendingWriteTree_=LG(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function JG(e,t,n,i,r){return TG(e.pendingWriteTree_,t,n,i,r),r?kp(e,new Dl(aM(),t,n)):[]}function Vu(e,t,n=!1){const i=IG(e.pendingWriteTree_,t);if(AG(e.pendingWriteTree_,t)){let s=new Sn(null);return i.snap!=null?s=s.set(tn(),!0):Ur(i.children,o=>{s=s.set(new In(o),!0)}),kp(e,new Qm(i.path,s,n))}else return[]}function Cp(e,t,n){return kp(e,new Dl(lM(),t,n))}function ZG(e,t,n){const i=Sn.fromObject(n);return kp(e,new kf(lM(),t,i))}function eq(e,t,n,i){const r=CM(e,i);if(r!=null){const s=kM(r),o=s.path,a=s.queryId,l=Lr(o,t),u=new Dl(uM(a),l,n);return TM(e,o,u)}else return[]}function tq(e,t,n,i){const r=CM(e,i);if(r){const s=kM(r),o=s.path,a=s.queryId,l=Lr(o,t),u=Sn.fromObject(n),d=new kf(uM(a),l,u);return TM(e,o,d)}else return[]}function wM(e,t,n){const r=e.pendingWriteTree_,s=e.syncPointTree_.findOnPath(t,(o,a)=>{const l=Lr(o,t),u=mE(a,l);if(u)return u});return mM(r,t,s,n,!0)}function kp(e,t){return SM(t,e.syncPointTree_,null,hM(e.pendingWriteTree_,tn()))}function SM(e,t,n,i){if(Rt(e.path))return EM(e,t,n,i);{const r=t.get(tn());n==null&&r!=null&&(n=mE(r,tn()));let s=[];const o=Nt(e.path),a=e.operationForChild(o),l=t.children.get(o);if(l&&a){const u=n?n.getImmediateChild(o):null,d=pM(i,o);s=s.concat(SM(a,l,u,d))}return r&&(s=s.concat(vE(r,e,i,n))),s}}function EM(e,t,n,i){const r=t.get(tn());n==null&&r!=null&&(n=mE(r,tn()));let s=[];return t.children.inorderTraversal((o,a)=>{const l=n?n.getImmediateChild(o):null,u=pM(i,o),d=e.operationForChild(o);d&&(s=s.concat(EM(d,a,l,u)))}),r&&(s=s.concat(vE(r,e,i,n))),s}function CM(e,t){return e.tagToQueryMap.get(t)}function kM(e){const t=e.indexOf("$");return Ue(t!==-1&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new In(e.substr(0,t))}}function TM(e,t,n){const i=e.syncPointTree_.get(t);Ue(i,"Missing sync point for query tag that we're tracking");const r=hM(e.pendingWriteTree_,t);return vE(i,n,r,null)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gE{constructor(t){this.node_=t}getImmediateChild(t){const n=this.node_.getImmediateChild(t);return new gE(n)}node(){return this.node_}}class pE{constructor(t,n){this.syncTree_=t,this.path_=n}getImmediateChild(t){const n=li(this.path_,t);return new pE(this.syncTree_,n)}node(){return wM(this.syncTree_,this.path_)}}const nq=function(e){return e=e||{},e.timestamp=e.timestamp||new Date().getTime(),e},FI=function(e,t,n){if(!e||typeof e!="object")return e;if(Ue(".sv"in e,"Unexpected leaf node or priority contents"),typeof e[".sv"]=="string")return iq(e[".sv"],t,n);if(typeof e[".sv"]=="object")return rq(e[".sv"],t);Ue(!1,"Unexpected server value: "+JSON.stringify(e,null,2))},iq=function(e,t,n){switch(e){case"timestamp":return n.timestamp;default:Ue(!1,"Unexpected server value: "+e)}},rq=function(e,t,n){e.hasOwnProperty("increment")||Ue(!1,"Unexpected server value: "+JSON.stringify(e,null,2));const i=e.increment;typeof i!="number"&&Ue(!1,"Unexpected increment value: "+i);const r=t.node();if(Ue(r!==null&&typeof r<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;const o=r.getValue();return typeof o!="number"?i:o+i},sq=function(e,t,n,i){return _E(t,new pE(n,e),i)},oq=function(e,t,n){return _E(e,new gE(t),n)};function _E(e,t,n){const i=e.getPriority().val(),r=FI(i,t.getImmediateChild(".priority"),n);let s;if(e.isLeafNode()){const o=e,a=FI(o.getValue(),t,n);return a!==o.getValue()||r!==o.getPriority().val()?new oi(a,Ni(r)):e}else{const o=e;return s=o,r!==o.getPriority().val()&&(s=s.updatePriority(new oi(r))),o.forEachChild(Fi,(a,l)=>{const u=_E(l,t.getImmediateChild(a),n);u!==l&&(s=s.updateImmediateChild(a,u))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yE{constructor(t="",n=null,i={children:{},childCount:0}){this.name=t,this.parent=n,this.node=i}}function bE(e,t){let n=t instanceof In?t:new In(t),i=e,r=Nt(n);for(;r!==null;){const s=oc(i.node.children,r)||{children:{},childCount:0};i=new yE(r,i,s),n=En(n),r=Nt(n)}return i}function Mc(e){return e.node.value}function IM(e,t){e.node.value=t,s0(e)}function AM(e){return e.node.childCount>0}function aq(e){return Mc(e)===void 0&&!AM(e)}function Tp(e,t){Ur(e.node.children,(n,i)=>{t(new yE(n,e,i))})}function PM(e,t,n,i){n&&!i&&t(e),Tp(e,r=>{PM(r,t,!0,i)}),n&&i&&t(e)}function lq(e,t,n){let i=e.parent;for(;i!==null;){if(t(i))return!0;i=i.parent}return!1}function kh(e){return new In(e.parent===null?e.name:kh(e.parent)+"/"+e.name)}function s0(e){e.parent!==null&&uq(e.parent,e.name,e)}function uq(e,t,n){const i=aq(n),r=xo(e.node.children,t);i&&r?(delete e.node.children[t],e.node.childCount--,s0(e)):!i&&!r&&(e.node.children[t]=n.node,e.node.childCount++,s0(e))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cq=/[\[\].#$\/\u0000-\u001F\u007F]/,dq=/[\[\].#$\u0000-\u001F\u007F]/,Ry=10*1024*1024,xM=function(e){return typeof e=="string"&&e.length!==0&&!cq.test(e)},fq=function(e){return typeof e=="string"&&e.length!==0&&!dq.test(e)},hq=function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),fq(e)},DM=function(e,t,n){const i=n instanceof In?new G7(n,e):n;if(t===void 0)throw new Error(e+"contains undefined "+Ja(i));if(typeof t=="function")throw new Error(e+"contains a function "+Ja(i)+" with contents = "+t.toString());if(xN(t))throw new Error(e+"contains "+t.toString()+" "+Ja(i));if(typeof t=="string"&&t.length>Ry/3&&yp(t)>Ry)throw new Error(e+"contains a string greater than "+Ry+" utf8 bytes "+Ja(i)+" ('"+t.substring(0,50)+"...')");if(t&&typeof t=="object"){let r=!1,s=!1;if(Ur(t,(o,a)=>{if(o===".value")r=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!xM(o)))throw new Error(e+" contains an invalid key ("+o+") "+Ja(i)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);q7(i,o),DM(e,a,i),Y7(i)}),r&&s)throw new Error(e+' contains ".value" child '+Ja(i)+" in addition to actual children.")}},vq=function(e,t){const n=t.path.toString();if(typeof t.repoInfo.host!="string"||t.repoInfo.host.length===0||!xM(t.repoInfo.namespace)&&t.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!hq(n))throw new Error(KH(e,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mq{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function gq(e,t){let n=null;for(let i=0;i<t.length;i++){const r=t[i],s=r.getPath();n!==null&&!ZN(s,n.path)&&(e.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(r)}n&&e.eventLists_.push(n)}function Yl(e,t,n){gq(e,n),pq(e,i=>Xr(i,t)||Xr(t,i))}function pq(e,t){e.recursionDepth_++;let n=!0;for(let i=0;i<e.eventLists_.length;i++){const r=e.eventLists_[i];if(r){const s=r.path;t(s)?(_q(e.eventLists_[i]),e.eventLists_[i]=null):n=!1}}n&&(e.eventLists_=[]),e.recursionDepth_--}function _q(e){for(let t=0;t<e.events.length;t++){const n=e.events[t];if(n!==null){e.events[t]=null;const i=n.getEventRunner();Yd&&Vi("event: "+n.toString()),Eh(i)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yq="repo_interrupt",bq=25;class wq{constructor(t,n,i,r){this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=i,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new mq,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Xm(),this.transactionQueueTree_=new yE,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Sq(e,t,n){if(e.stats_=oE(e.repoInfo_),e.forceRestClient_||g7())e.server_=new Km(e.repoInfo_,(i,r,s,o)=>{$I(e,i,r,s,o)},e.authTokenProvider_,e.appCheckProvider_),setTimeout(()=>BI(e,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{yi(n)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}e.persistentConnection_=new mo(e.repoInfo_,t,(i,r,s,o)=>{$I(e,i,r,s,o)},i=>{BI(e,i)},i=>{Cq(e,i)},e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener(i=>{e.server_.refreshAuthToken(i)}),e.appCheckProvider_.addTokenChangeListener(i=>{e.server_.refreshAppCheckToken(i.token)}),e.statsReporter_=S7(e.repoInfo_,()=>new wG(e.stats_,e.server_)),e.infoData_=new gG,e.infoSyncTree_=new LI({startListening:(i,r,s,o)=>{let a=[];const l=e.infoData_.getNode(i._path);return l.isEmpty()||(a=Cp(e.infoSyncTree_,i._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),wE(e,"connected",!1),e.serverSyncTree_=new LI({startListening:(i,r,s,o)=>(e.server_.listen(i,s,r,(a,l)=>{const u=o(a,l);Yl(e.eventQueue_,i._path,u)}),[]),stopListening:(i,r)=>{e.server_.unlisten(i,r)}})}function Eq(e){const n=e.infoData_.getNode(new In(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function RM(e){return nq({timestamp:Eq(e)})}function $I(e,t,n,i,r){e.dataUpdateCount++;const s=new In(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let o=[];if(r)if(i){const l=Lm(n,u=>Ni(u));o=tq(e.serverSyncTree_,s,l,r)}else{const l=Ni(n);o=eq(e.serverSyncTree_,s,l,r)}else if(i){const l=Lm(n,u=>Ni(u));o=ZG(e.serverSyncTree_,s,l)}else{const l=Ni(n);o=Cp(e.serverSyncTree_,s,l)}let a=s;o.length>0&&(a=EE(e,s)),Yl(e.eventQueue_,a,o)}function BI(e,t){wE(e,"connected",t),t===!1&&Tq(e)}function Cq(e,t){Ur(t,(n,i)=>{wE(e,n,i)})}function wE(e,t,n){const i=new In("/.info/"+t),r=Ni(n);e.infoData_.updateSnapshot(i,r);const s=Cp(e.infoSyncTree_,i,r);Yl(e.eventQueue_,i,s)}function kq(e){return e.nextWriteId_++}function Tq(e){OM(e,"onDisconnectEvents");const t=RM(e),n=Xm();Jb(e.onDisconnect_,tn(),(r,s)=>{const o=sq(r,s,e.serverSyncTree_,t);oM(n,r,o)});let i=[];Jb(n,tn(),(r,s)=>{i=i.concat(Cp(e.serverSyncTree_,r,s));const o=xq(e,r);EE(e,o)}),e.onDisconnect_=Xm(),Yl(e.eventQueue_,tn(),i)}function Iq(e){e.persistentConnection_&&e.persistentConnection_.interrupt(yq)}function OM(e,...t){let n="";e.persistentConnection_&&(n=e.persistentConnection_.id+":"),Vi(n,...t)}function VM(e,t,n){return wM(e.serverSyncTree_,t,n)||Kt.EMPTY_NODE}function SE(e,t=e.transactionQueueTree_){if(t||Ip(e,t),Mc(t)){const n=MM(e,t);Ue(n.length>0,"Sending zero length transaction queue"),n.every(r=>r.status===0)&&Aq(e,kh(t),n)}else AM(t)&&Tp(t,n=>{SE(e,n)})}function Aq(e,t,n){const i=n.map(u=>u.currentWriteId),r=VM(e,t,i);let s=r;const o=r.hash();for(let u=0;u<n.length;u++){const d=n[u];Ue(d.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),d.status=1,d.retryCount++;const c=Lr(t,d.path);s=s.updateChild(c,d.currentOutputSnapshotRaw)}const a=s.val(!0),l=t;e.server_.put(l.toString(),a,u=>{OM(e,"transaction put response",{path:l.toString(),status:u});let d=[];if(u==="ok"){const c=[];for(let f=0;f<n.length;f++)n[f].status=2,d=d.concat(Vu(e.serverSyncTree_,n[f].currentWriteId)),n[f].onComplete&&c.push(()=>n[f].onComplete(null,!0,n[f].currentOutputSnapshotResolved)),n[f].unwatcher();Ip(e,bE(e.transactionQueueTree_,t)),SE(e,e.transactionQueueTree_),Yl(e.eventQueue_,t,d);for(let f=0;f<c.length;f++)Eh(c[f])}else{if(u==="datastale")for(let c=0;c<n.length;c++)n[c].status===3?n[c].status=4:n[c].status=0;else{Er("transaction at "+l.toString()+" failed: "+u);for(let c=0;c<n.length;c++)n[c].status=4,n[c].abortReason=u}EE(e,t)}},o)}function EE(e,t){const n=NM(e,t),i=kh(n),r=MM(e,n);return Pq(e,r,i),i}function Pq(e,t,n){if(t.length===0)return;const i=[];let r=[];const o=t.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<t.length;a++){const l=t[a],u=Lr(n,l.path);let d=!1,c;if(Ue(u!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)d=!0,c=l.abortReason,r=r.concat(Vu(e.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=bq)d=!0,c="maxretry",r=r.concat(Vu(e.serverSyncTree_,l.currentWriteId,!0));else{const f=VM(e,l.path,o);l.currentInputSnapshot=f;const v=t[a].update(f.val());if(v!==void 0){DM("transaction failed: Data returned ",v,l.path);let m=Ni(v);typeof v=="object"&&v!=null&&xo(v,".priority")||(m=m.updatePriority(f.getPriority()));const _=l.currentWriteId,y=RM(e),b=oq(m,f,y);l.currentOutputSnapshotRaw=m,l.currentOutputSnapshotResolved=b,l.currentWriteId=kq(e),o.splice(o.indexOf(_),1),r=r.concat(JG(e.serverSyncTree_,l.path,b,l.currentWriteId,l.applyLocally)),r=r.concat(Vu(e.serverSyncTree_,_,!0))}else d=!0,c="nodata",r=r.concat(Vu(e.serverSyncTree_,l.currentWriteId,!0))}Yl(e.eventQueue_,n,r),r=[],d&&(t[a].status=2,function(f){setTimeout(f,Math.floor(0))}(t[a].unwatcher),t[a].onComplete&&(c==="nodata"?i.push(()=>t[a].onComplete(null,!1,t[a].currentInputSnapshot)):i.push(()=>t[a].onComplete(new Error(c),!1,null))))}Ip(e,e.transactionQueueTree_);for(let a=0;a<i.length;a++)Eh(i[a]);SE(e,e.transactionQueueTree_)}function NM(e,t){let n,i=e.transactionQueueTree_;for(n=Nt(t);n!==null&&Mc(i)===void 0;)i=bE(i,n),t=En(t),n=Nt(t);return i}function MM(e,t){const n=[];return LM(e,t,n),n.sort((i,r)=>i.order-r.order),n}function LM(e,t,n){const i=Mc(t);if(i)for(let r=0;r<i.length;r++)n.push(i[r]);Tp(t,r=>{LM(e,r,n)})}function Ip(e,t){const n=Mc(t);if(n){let i=0;for(let r=0;r<n.length;r++)n[r].status!==2&&(n[i]=n[r],i++);n.length=i,IM(t,n.length>0?n:void 0)}Tp(t,i=>{Ip(e,i)})}function xq(e,t){const n=kh(NM(e,t)),i=bE(e.transactionQueueTree_,t);return lq(i,r=>{Oy(e,r)}),Oy(e,i),PM(i,r=>{Oy(e,r)}),n}function Oy(e,t){const n=Mc(t);if(n){const i=[];let r=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(Ue(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(Ue(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),r=r.concat(Vu(e.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&i.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?IM(t,void 0):n.length=s+1,Yl(e.eventQueue_,kh(t),r);for(let o=0;o<i.length;o++)Eh(i[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dq(e){let t="";const n=e.split("/");for(let i=0;i<n.length;i++)if(n[i].length>0){let r=n[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch{}t+="/"+r}return t}function Rq(e){const t={};e.charAt(0)==="?"&&(e=e.substring(1));for(const n of e.split("&")){if(n.length===0)continue;const i=n.split("=");i.length===2?t[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):Er(`Invalid query segment '${n}' in query '${e}'`)}return t}const UI=function(e,t){const n=Oq(e),i=n.namespace;n.domain==="firebase.com"&&Pl(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||i==="undefined")&&n.domain!=="localhost"&&Pl("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||l7();const r=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new y7(n.host,n.secure,i,r,t,"",i!==n.subdomain),path:new In(n.pathString)}},Oq=function(e){let t="",n="",i="",r="",s="",o=!0,a="https",l=443;if(typeof e=="string"){let u=e.indexOf("//");u>=0&&(a=e.substring(0,u-1),e=e.substring(u+2));let d=e.indexOf("/");d===-1&&(d=e.length);let c=e.indexOf("?");c===-1&&(c=e.length),t=e.substring(0,Math.min(d,c)),d<c&&(r=Dq(e.substring(d,c)));const f=Rq(e.substring(Math.min(e.length,c)));u=t.indexOf(":"),u>=0?(o=a==="https"||a==="wss",l=parseInt(t.substring(u+1),10)):u=t.length;const v=t.slice(0,u);if(v.toLowerCase()==="localhost")n="localhost";else if(v.split(".").length<=2)n=v;else{const m=t.indexOf(".");i=t.substring(0,m).toLowerCase(),n=t.substring(m+1),s=i}"ns"in f&&(s=f.ns)}return{host:t,port:l,domain:n,subdomain:i,secure:o,scheme:a,pathString:r,namespace:s}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CE{constructor(t,n,i,r){this._repo=t,this._path=n,this._queryParams=i,this._orderByCalled=r}get key(){return Rt(this._path)?null:XN(this._path)}get ref(){return new Lc(this._repo,this._path)}get _queryIdentifier(){const t=TI(this._queryParams),n=rE(t);return n==="{}"?"default":n}get _queryObject(){return TI(this._queryParams)}isEqual(t){if(t=Gn(t),!(t instanceof CE))return!1;const n=this._repo===t._repo,i=ZN(this._path,t._path),r=this._queryIdentifier===t._queryIdentifier;return n&&i&&r}toJSON(){return this.toString()}toString(){return this._repo.toString()+z7(this._path)}}class Lc extends CE{constructor(t,n){super(t,n,new cE,!1)}get parent(){const t=JN(this._path);return t===null?null:new Lc(this._repo,t)}get root(){let t=this;for(;t.parent!==null;)t=t.parent;return t}}XG(Lc);QG(Lc);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vq="FIREBASE_DATABASE_EMULATOR_HOST",o0={};let Nq=!1;function Mq(e,t,n,i,r){let s=i||e.options.databaseURL;s===void 0&&(e.options.projectId||Pl("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Vi("Using default host for project ",e.options.projectId),s=`${e.options.projectId}-default-rtdb.firebaseio.com`);let o=UI(s,r),a=o.repoInfo,l;typeof process<"u"&&aI&&(l=aI[Vq]),l?(s=`http://${l}?ns=${a.namespace}`,o=UI(s,r),a=o.repoInfo):o.repoInfo.secure;const u=new _7(e.name,e.options,t);vq("Invalid Firebase Database URL",o),Rt(o.path)||Pl("Database URL must point to the root of a Firebase Database (not including a child path).");const d=Fq(a,e,u,new p7(e.name,n));return new $q(d,e)}function Lq(e,t){const n=o0[t];(!n||n[e.key]!==e)&&Pl(`Database ${t}(${e.repoInfo_}) has already been deleted.`),Iq(e),delete n[e.key]}function Fq(e,t,n,i){let r=o0[t.name];r||(r={},o0[t.name]=r);let s=r[e.toURLString()];return s&&Pl("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new wq(e,Nq,n,i),r[e.toURLString()]=s,s}class $q{constructor(t,n){this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(Sq(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Lc(this._repo,tn())),this._rootInternal}_delete(){return this._rootInternal!==null&&(Lq(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){this._rootInternal===null&&Pl("Cannot call "+t+" on a deleted database.")}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bq(e){n7(Ra),Os(new ss("database",(t,{instanceIdentifier:n})=>{const i=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return Mq(i,r,s,n)},"PUBLIC").setMultipleInstances(!0)),Sr(lI,uI,e),Sr(lI,uI,"esm2017")}mo.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)};mo.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};Bq();var jI=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var gl,FM;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(x,S){function w(){}w.prototype=S.prototype,x.D=S.prototype,x.prototype=new w,x.prototype.constructor=x,x.C=function(E,A,P){for(var D=Array(arguments.length-2),B=2;B<arguments.length;B++)D[B-2]=arguments[B];return S.prototype[A].apply(E,D)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(i,n),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(x,S,w){w||(w=0);var E=Array(16);if(typeof S=="string")for(var A=0;16>A;++A)E[A]=S.charCodeAt(w++)|S.charCodeAt(w++)<<8|S.charCodeAt(w++)<<16|S.charCodeAt(w++)<<24;else for(A=0;16>A;++A)E[A]=S[w++]|S[w++]<<8|S[w++]<<16|S[w++]<<24;S=x.g[0],w=x.g[1],A=x.g[2];var P=x.g[3],D=S+(P^w&(A^P))+E[0]+3614090360&4294967295;S=w+(D<<7&4294967295|D>>>25),D=P+(A^S&(w^A))+E[1]+3905402710&4294967295,P=S+(D<<12&4294967295|D>>>20),D=A+(w^P&(S^w))+E[2]+606105819&4294967295,A=P+(D<<17&4294967295|D>>>15),D=w+(S^A&(P^S))+E[3]+3250441966&4294967295,w=A+(D<<22&4294967295|D>>>10),D=S+(P^w&(A^P))+E[4]+4118548399&4294967295,S=w+(D<<7&4294967295|D>>>25),D=P+(A^S&(w^A))+E[5]+1200080426&4294967295,P=S+(D<<12&4294967295|D>>>20),D=A+(w^P&(S^w))+E[6]+2821735955&4294967295,A=P+(D<<17&4294967295|D>>>15),D=w+(S^A&(P^S))+E[7]+4249261313&4294967295,w=A+(D<<22&4294967295|D>>>10),D=S+(P^w&(A^P))+E[8]+1770035416&4294967295,S=w+(D<<7&4294967295|D>>>25),D=P+(A^S&(w^A))+E[9]+2336552879&4294967295,P=S+(D<<12&4294967295|D>>>20),D=A+(w^P&(S^w))+E[10]+4294925233&4294967295,A=P+(D<<17&4294967295|D>>>15),D=w+(S^A&(P^S))+E[11]+2304563134&4294967295,w=A+(D<<22&4294967295|D>>>10),D=S+(P^w&(A^P))+E[12]+1804603682&4294967295,S=w+(D<<7&4294967295|D>>>25),D=P+(A^S&(w^A))+E[13]+4254626195&4294967295,P=S+(D<<12&4294967295|D>>>20),D=A+(w^P&(S^w))+E[14]+2792965006&4294967295,A=P+(D<<17&4294967295|D>>>15),D=w+(S^A&(P^S))+E[15]+1236535329&4294967295,w=A+(D<<22&4294967295|D>>>10),D=S+(A^P&(w^A))+E[1]+4129170786&4294967295,S=w+(D<<5&4294967295|D>>>27),D=P+(w^A&(S^w))+E[6]+3225465664&4294967295,P=S+(D<<9&4294967295|D>>>23),D=A+(S^w&(P^S))+E[11]+643717713&4294967295,A=P+(D<<14&4294967295|D>>>18),D=w+(P^S&(A^P))+E[0]+3921069994&4294967295,w=A+(D<<20&4294967295|D>>>12),D=S+(A^P&(w^A))+E[5]+3593408605&4294967295,S=w+(D<<5&4294967295|D>>>27),D=P+(w^A&(S^w))+E[10]+38016083&4294967295,P=S+(D<<9&4294967295|D>>>23),D=A+(S^w&(P^S))+E[15]+3634488961&4294967295,A=P+(D<<14&4294967295|D>>>18),D=w+(P^S&(A^P))+E[4]+3889429448&4294967295,w=A+(D<<20&4294967295|D>>>12),D=S+(A^P&(w^A))+E[9]+568446438&4294967295,S=w+(D<<5&4294967295|D>>>27),D=P+(w^A&(S^w))+E[14]+3275163606&4294967295,P=S+(D<<9&4294967295|D>>>23),D=A+(S^w&(P^S))+E[3]+4107603335&4294967295,A=P+(D<<14&4294967295|D>>>18),D=w+(P^S&(A^P))+E[8]+1163531501&4294967295,w=A+(D<<20&4294967295|D>>>12),D=S+(A^P&(w^A))+E[13]+2850285829&4294967295,S=w+(D<<5&4294967295|D>>>27),D=P+(w^A&(S^w))+E[2]+4243563512&4294967295,P=S+(D<<9&4294967295|D>>>23),D=A+(S^w&(P^S))+E[7]+1735328473&4294967295,A=P+(D<<14&4294967295|D>>>18),D=w+(P^S&(A^P))+E[12]+2368359562&4294967295,w=A+(D<<20&4294967295|D>>>12),D=S+(w^A^P)+E[5]+4294588738&4294967295,S=w+(D<<4&4294967295|D>>>28),D=P+(S^w^A)+E[8]+2272392833&4294967295,P=S+(D<<11&4294967295|D>>>21),D=A+(P^S^w)+E[11]+1839030562&4294967295,A=P+(D<<16&4294967295|D>>>16),D=w+(A^P^S)+E[14]+4259657740&4294967295,w=A+(D<<23&4294967295|D>>>9),D=S+(w^A^P)+E[1]+2763975236&4294967295,S=w+(D<<4&4294967295|D>>>28),D=P+(S^w^A)+E[4]+1272893353&4294967295,P=S+(D<<11&4294967295|D>>>21),D=A+(P^S^w)+E[7]+4139469664&4294967295,A=P+(D<<16&4294967295|D>>>16),D=w+(A^P^S)+E[10]+3200236656&4294967295,w=A+(D<<23&4294967295|D>>>9),D=S+(w^A^P)+E[13]+681279174&4294967295,S=w+(D<<4&4294967295|D>>>28),D=P+(S^w^A)+E[0]+3936430074&4294967295,P=S+(D<<11&4294967295|D>>>21),D=A+(P^S^w)+E[3]+3572445317&4294967295,A=P+(D<<16&4294967295|D>>>16),D=w+(A^P^S)+E[6]+76029189&4294967295,w=A+(D<<23&4294967295|D>>>9),D=S+(w^A^P)+E[9]+3654602809&4294967295,S=w+(D<<4&4294967295|D>>>28),D=P+(S^w^A)+E[12]+3873151461&4294967295,P=S+(D<<11&4294967295|D>>>21),D=A+(P^S^w)+E[15]+530742520&4294967295,A=P+(D<<16&4294967295|D>>>16),D=w+(A^P^S)+E[2]+3299628645&4294967295,w=A+(D<<23&4294967295|D>>>9),D=S+(A^(w|~P))+E[0]+4096336452&4294967295,S=w+(D<<6&4294967295|D>>>26),D=P+(w^(S|~A))+E[7]+1126891415&4294967295,P=S+(D<<10&4294967295|D>>>22),D=A+(S^(P|~w))+E[14]+2878612391&4294967295,A=P+(D<<15&4294967295|D>>>17),D=w+(P^(A|~S))+E[5]+4237533241&4294967295,w=A+(D<<21&4294967295|D>>>11),D=S+(A^(w|~P))+E[12]+1700485571&4294967295,S=w+(D<<6&4294967295|D>>>26),D=P+(w^(S|~A))+E[3]+2399980690&4294967295,P=S+(D<<10&4294967295|D>>>22),D=A+(S^(P|~w))+E[10]+4293915773&4294967295,A=P+(D<<15&4294967295|D>>>17),D=w+(P^(A|~S))+E[1]+2240044497&4294967295,w=A+(D<<21&4294967295|D>>>11),D=S+(A^(w|~P))+E[8]+1873313359&4294967295,S=w+(D<<6&4294967295|D>>>26),D=P+(w^(S|~A))+E[15]+4264355552&4294967295,P=S+(D<<10&4294967295|D>>>22),D=A+(S^(P|~w))+E[6]+2734768916&4294967295,A=P+(D<<15&4294967295|D>>>17),D=w+(P^(A|~S))+E[13]+1309151649&4294967295,w=A+(D<<21&4294967295|D>>>11),D=S+(A^(w|~P))+E[4]+4149444226&4294967295,S=w+(D<<6&4294967295|D>>>26),D=P+(w^(S|~A))+E[11]+3174756917&4294967295,P=S+(D<<10&4294967295|D>>>22),D=A+(S^(P|~w))+E[2]+718787259&4294967295,A=P+(D<<15&4294967295|D>>>17),D=w+(P^(A|~S))+E[9]+3951481745&4294967295,x.g[0]=x.g[0]+S&4294967295,x.g[1]=x.g[1]+(A+(D<<21&4294967295|D>>>11))&4294967295,x.g[2]=x.g[2]+A&4294967295,x.g[3]=x.g[3]+P&4294967295}i.prototype.u=function(x,S){S===void 0&&(S=x.length);for(var w=S-this.blockSize,E=this.B,A=this.h,P=0;P<S;){if(A==0)for(;P<=w;)r(this,x,P),P+=this.blockSize;if(typeof x=="string"){for(;P<S;)if(E[A++]=x.charCodeAt(P++),A==this.blockSize){r(this,E),A=0;break}}else for(;P<S;)if(E[A++]=x[P++],A==this.blockSize){r(this,E),A=0;break}}this.h=A,this.o+=S},i.prototype.v=function(){var x=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);x[0]=128;for(var S=1;S<x.length-8;++S)x[S]=0;var w=8*this.o;for(S=x.length-8;S<x.length;++S)x[S]=w&255,w/=256;for(this.u(x),x=Array(16),S=w=0;4>S;++S)for(var E=0;32>E;E+=8)x[w++]=this.g[S]>>>E&255;return x};function s(x,S){var w=a;return Object.prototype.hasOwnProperty.call(w,x)?w[x]:w[x]=S(x)}function o(x,S){this.h=S;for(var w=[],E=!0,A=x.length-1;0<=A;A--){var P=x[A]|0;E&&P==S||(w[A]=P,E=!1)}this.g=w}var a={};function l(x){return-128<=x&&128>x?s(x,function(S){return new o([S|0],0>S?-1:0)}):new o([x|0],0>x?-1:0)}function u(x){if(isNaN(x)||!isFinite(x))return c;if(0>x)return _(u(-x));for(var S=[],w=1,E=0;x>=w;E++)S[E]=x/w|0,w*=4294967296;return new o(S,0)}function d(x,S){if(x.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(x.charAt(0)=="-")return _(d(x.substring(1),S));if(0<=x.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=u(Math.pow(S,8)),E=c,A=0;A<x.length;A+=8){var P=Math.min(8,x.length-A),D=parseInt(x.substring(A,A+P),S);8>P?(P=u(Math.pow(S,P)),E=E.j(P).add(u(D))):(E=E.j(w),E=E.add(u(D)))}return E}var c=l(0),f=l(1),v=l(16777216);e=o.prototype,e.m=function(){if(p(this))return-_(this).m();for(var x=0,S=1,w=0;w<this.g.length;w++){var E=this.i(w);x+=(0<=E?E:4294967296+E)*S,S*=4294967296}return x},e.toString=function(x){if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(m(this))return"0";if(p(this))return"-"+_(this).toString(x);for(var S=u(Math.pow(x,6)),w=this,E="";;){var A=k(w,S).g;w=y(w,A.j(S));var P=((0<w.g.length?w.g[0]:w.h)>>>0).toString(x);if(w=A,m(w))return P+E;for(;6>P.length;)P="0"+P;E=P+E}},e.i=function(x){return 0>x?0:x<this.g.length?this.g[x]:this.h};function m(x){if(x.h!=0)return!1;for(var S=0;S<x.g.length;S++)if(x.g[S]!=0)return!1;return!0}function p(x){return x.h==-1}e.l=function(x){return x=y(this,x),p(x)?-1:m(x)?0:1};function _(x){for(var S=x.g.length,w=[],E=0;E<S;E++)w[E]=~x.g[E];return new o(w,~x.h).add(f)}e.abs=function(){return p(this)?_(this):this},e.add=function(x){for(var S=Math.max(this.g.length,x.g.length),w=[],E=0,A=0;A<=S;A++){var P=E+(this.i(A)&65535)+(x.i(A)&65535),D=(P>>>16)+(this.i(A)>>>16)+(x.i(A)>>>16);E=D>>>16,P&=65535,D&=65535,w[A]=D<<16|P}return new o(w,w[w.length-1]&-2147483648?-1:0)};function y(x,S){return x.add(_(S))}e.j=function(x){if(m(this)||m(x))return c;if(p(this))return p(x)?_(this).j(_(x)):_(_(this).j(x));if(p(x))return _(this.j(_(x)));if(0>this.l(v)&&0>x.l(v))return u(this.m()*x.m());for(var S=this.g.length+x.g.length,w=[],E=0;E<2*S;E++)w[E]=0;for(E=0;E<this.g.length;E++)for(var A=0;A<x.g.length;A++){var P=this.i(E)>>>16,D=this.i(E)&65535,B=x.i(A)>>>16,$=x.i(A)&65535;w[2*E+2*A]+=D*$,b(w,2*E+2*A),w[2*E+2*A+1]+=P*$,b(w,2*E+2*A+1),w[2*E+2*A+1]+=D*B,b(w,2*E+2*A+1),w[2*E+2*A+2]+=P*B,b(w,2*E+2*A+2)}for(E=0;E<S;E++)w[E]=w[2*E+1]<<16|w[2*E];for(E=S;E<2*S;E++)w[E]=0;return new o(w,0)};function b(x,S){for(;(x[S]&65535)!=x[S];)x[S+1]+=x[S]>>>16,x[S]&=65535,S++}function C(x,S){this.g=x,this.h=S}function k(x,S){if(m(S))throw Error("division by zero");if(m(x))return new C(c,c);if(p(x))return S=k(_(x),S),new C(_(S.g),_(S.h));if(p(S))return S=k(x,_(S)),new C(_(S.g),S.h);if(30<x.g.length){if(p(x)||p(S))throw Error("slowDivide_ only works with positive integers.");for(var w=f,E=S;0>=E.l(x);)w=R(w),E=R(E);var A=O(w,1),P=O(E,1);for(E=O(E,2),w=O(w,2);!m(E);){var D=P.add(E);0>=D.l(x)&&(A=A.add(w),P=D),E=O(E,1),w=O(w,1)}return S=y(x,A.j(S)),new C(A,S)}for(A=c;0<=x.l(S);){for(w=Math.max(1,Math.floor(x.m()/S.m())),E=Math.ceil(Math.log(w)/Math.LN2),E=48>=E?1:Math.pow(2,E-48),P=u(w),D=P.j(S);p(D)||0<D.l(x);)w-=E,P=u(w),D=P.j(S);m(P)&&(P=f),A=A.add(P),x=y(x,D)}return new C(A,x)}e.A=function(x){return k(this,x).h},e.and=function(x){for(var S=Math.max(this.g.length,x.g.length),w=[],E=0;E<S;E++)w[E]=this.i(E)&x.i(E);return new o(w,this.h&x.h)},e.or=function(x){for(var S=Math.max(this.g.length,x.g.length),w=[],E=0;E<S;E++)w[E]=this.i(E)|x.i(E);return new o(w,this.h|x.h)},e.xor=function(x){for(var S=Math.max(this.g.length,x.g.length),w=[],E=0;E<S;E++)w[E]=this.i(E)^x.i(E);return new o(w,this.h^x.h)};function R(x){for(var S=x.g.length+1,w=[],E=0;E<S;E++)w[E]=x.i(E)<<1|x.i(E-1)>>>31;return new o(w,x.h)}function O(x,S){var w=S>>5;S%=32;for(var E=x.g.length-w,A=[],P=0;P<E;P++)A[P]=0<S?x.i(P+w)>>>S|x.i(P+w+1)<<32-S:x.i(P+w);return new o(A,x.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,FM=i,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=d,gl=o}).apply(typeof jI<"u"?jI:typeof self<"u"?self:typeof window<"u"?window:{});var Cv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var $M,BM,Rd,UM,lm,a0,jM,HM,WM;(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(g,T,V){return g==Array.prototype||g==Object.prototype||(g[T]=V.value),g};function n(g){g=[typeof globalThis=="object"&&globalThis,g,typeof window=="object"&&window,typeof self=="object"&&self,typeof Cv=="object"&&Cv];for(var T=0;T<g.length;++T){var V=g[T];if(V&&V.Math==Math)return V}throw Error("Cannot find global object")}var i=n(this);function r(g,T){if(T)e:{var V=i;g=g.split(".");for(var F=0;F<g.length-1;F++){var he=g[F];if(!(he in V))break e;V=V[he]}g=g[g.length-1],F=V[g],T=T(F),T!=F&&T!=null&&t(V,g,{configurable:!0,writable:!0,value:T})}}function s(g,T){g instanceof String&&(g+="");var V=0,F=!1,he={next:function(){if(!F&&V<g.length){var pe=V++;return{value:T(pe,g[pe]),done:!1}}return F=!0,{done:!0,value:void 0}}};return he[Symbol.iterator]=function(){return he},he}r("Array.prototype.values",function(g){return g||function(){return s(this,function(T,V){return V})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(g){var T=typeof g;return T=T!="object"?T:g?Array.isArray(g)?"array":T:"null",T=="array"||T=="object"&&typeof g.length=="number"}function u(g){var T=typeof g;return T=="object"&&g!=null||T=="function"}function d(g,T,V){return g.call.apply(g.bind,arguments)}function c(g,T,V){if(!g)throw Error();if(2<arguments.length){var F=Array.prototype.slice.call(arguments,2);return function(){var he=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(he,F),g.apply(T,he)}}return function(){return g.apply(T,arguments)}}function f(g,T,V){return f=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:c,f.apply(null,arguments)}function v(g,T){var V=Array.prototype.slice.call(arguments,1);return function(){var F=V.slice();return F.push.apply(F,arguments),g.apply(this,F)}}function m(g,T){function V(){}V.prototype=T.prototype,g.aa=T.prototype,g.prototype=new V,g.prototype.constructor=g,g.Qb=function(F,he,pe){for(var Be=Array(arguments.length-2),an=2;an<arguments.length;an++)Be[an-2]=arguments[an];return T.prototype[he].apply(F,Be)}}function p(g){const T=g.length;if(0<T){const V=Array(T);for(let F=0;F<T;F++)V[F]=g[F];return V}return[]}function _(g,T){for(let V=1;V<arguments.length;V++){const F=arguments[V];if(l(F)){const he=g.length||0,pe=F.length||0;g.length=he+pe;for(let Be=0;Be<pe;Be++)g[he+Be]=F[Be]}else g.push(F)}}class y{constructor(T,V){this.i=T,this.j=V,this.h=0,this.g=null}get(){let T;return 0<this.h?(this.h--,T=this.g,this.g=T.next,T.next=null):T=this.i(),T}}function b(g){return/^[\s\xa0]*$/.test(g)}function C(){var g=a.navigator;return g&&(g=g.userAgent)?g:""}function k(g){return k[" "](g),g}k[" "]=function(){};var R=C().indexOf("Gecko")!=-1&&!(C().toLowerCase().indexOf("webkit")!=-1&&C().indexOf("Edge")==-1)&&!(C().indexOf("Trident")!=-1||C().indexOf("MSIE")!=-1)&&C().indexOf("Edge")==-1;function O(g,T,V){for(const F in g)T.call(V,g[F],F,g)}function x(g,T){for(const V in g)T.call(void 0,g[V],V,g)}function S(g){const T={};for(const V in g)T[V]=g[V];return T}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function E(g,T){let V,F;for(let he=1;he<arguments.length;he++){F=arguments[he];for(V in F)g[V]=F[V];for(let pe=0;pe<w.length;pe++)V=w[pe],Object.prototype.hasOwnProperty.call(F,V)&&(g[V]=F[V])}}function A(g){var T=1;g=g.split(":");const V=[];for(;0<T&&g.length;)V.push(g.shift()),T--;return g.length&&V.push(g.join(":")),V}function P(g){a.setTimeout(()=>{throw g},0)}function D(){var g=q;let T=null;return g.g&&(T=g.g,g.g=g.g.next,g.g||(g.h=null),T.next=null),T}class B{constructor(){this.h=this.g=null}add(T,V){const F=$.get();F.set(T,V),this.h?this.h.next=F:this.g=F,this.h=F}}var $=new y(()=>new j,g=>g.reset());class j{constructor(){this.next=this.g=this.h=null}set(T,V){this.h=T,this.g=V,this.next=null}reset(){this.next=this.g=this.h=null}}let Y,H=!1,q=new B,z=()=>{const g=a.Promise.resolve(void 0);Y=()=>{g.then(ne)}};var ne=()=>{for(var g;g=D();){try{g.h.call(g.g)}catch(V){P(V)}var T=$;T.j(g),100>T.h&&(T.h++,g.next=T.g,T.g=g)}H=!1};function ue(){this.s=this.s,this.C=this.C}ue.prototype.s=!1,ue.prototype.ma=function(){this.s||(this.s=!0,this.N())},ue.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function be(g,T){this.type=g,this.g=this.target=T,this.defaultPrevented=!1}be.prototype.h=function(){this.defaultPrevented=!0};var Ae=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var g=!1,T=Object.defineProperty({},"passive",{get:function(){g=!0}});try{const V=()=>{};a.addEventListener("test",V,T),a.removeEventListener("test",V,T)}catch{}return g}();function Ne(g,T){if(be.call(this,g?g.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,g){var V=this.type=g.type,F=g.changedTouches&&g.changedTouches.length?g.changedTouches[0]:null;if(this.target=g.target||g.srcElement,this.g=T,T=g.relatedTarget){if(R){e:{try{k(T.nodeName);var he=!0;break e}catch{}he=!1}he||(T=null)}}else V=="mouseover"?T=g.fromElement:V=="mouseout"&&(T=g.toElement);this.relatedTarget=T,F?(this.clientX=F.clientX!==void 0?F.clientX:F.pageX,this.clientY=F.clientY!==void 0?F.clientY:F.pageY,this.screenX=F.screenX||0,this.screenY=F.screenY||0):(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0),this.button=g.button,this.key=g.key||"",this.ctrlKey=g.ctrlKey,this.altKey=g.altKey,this.shiftKey=g.shiftKey,this.metaKey=g.metaKey,this.pointerId=g.pointerId||0,this.pointerType=typeof g.pointerType=="string"?g.pointerType:se[g.pointerType]||"",this.state=g.state,this.i=g,g.defaultPrevented&&Ne.aa.h.call(this)}}m(Ne,be);var se={2:"touch",3:"pen",4:"mouse"};Ne.prototype.h=function(){Ne.aa.h.call(this);var g=this.i;g.preventDefault?g.preventDefault():g.returnValue=!1};var G="closure_listenable_"+(1e6*Math.random()|0),ie=0;function Q(g,T,V,F,he){this.listener=g,this.proxy=null,this.src=T,this.type=V,this.capture=!!F,this.ha=he,this.key=++ie,this.da=this.fa=!1}function ee(g){g.da=!0,g.listener=null,g.proxy=null,g.src=null,g.ha=null}function X(g){this.src=g,this.g={},this.h=0}X.prototype.add=function(g,T,V,F,he){var pe=g.toString();g=this.g[pe],g||(g=this.g[pe]=[],this.h++);var Be=M(g,T,F,he);return-1<Be?(T=g[Be],V||(T.fa=!1)):(T=new Q(T,this.src,pe,!!F,he),T.fa=V,g.push(T)),T};function _e(g,T){var V=T.type;if(V in g.g){var F=g.g[V],he=Array.prototype.indexOf.call(F,T,void 0),pe;(pe=0<=he)&&Array.prototype.splice.call(F,he,1),pe&&(ee(T),g.g[V].length==0&&(delete g.g[V],g.h--))}}function M(g,T,V,F){for(var he=0;he<g.length;++he){var pe=g[he];if(!pe.da&&pe.listener==T&&pe.capture==!!V&&pe.ha==F)return he}return-1}var L="closure_lm_"+(1e6*Math.random()|0),J={};function ce(g,T,V,F,he){if(Array.isArray(T)){for(var pe=0;pe<T.length;pe++)ce(g,T[pe],V,F,he);return null}return V=He(V),g&&g[G]?g.K(T,V,u(F)?!!F.capture:!!F,he):ae(g,T,V,!1,F,he)}function ae(g,T,V,F,he,pe){if(!T)throw Error("Invalid event type");var Be=u(he)?!!he.capture:!!he,an=ze(g);if(an||(g[L]=an=new X(g)),V=an.add(T,V,F,Be,pe),V.proxy)return V;if(F=me(),V.proxy=F,F.src=g,F.listener=V,g.addEventListener)Ae||(he=Be),he===void 0&&(he=!1),g.addEventListener(T.toString(),F,he);else if(g.attachEvent)g.attachEvent(De(T.toString()),F);else if(g.addListener&&g.removeListener)g.addListener(F);else throw Error("addEventListener and attachEvent are unavailable.");return V}function me(){function g(V){return T.call(g.src,g.listener,V)}const T=Se;return g}function Pe(g,T,V,F,he){if(Array.isArray(T))for(var pe=0;pe<T.length;pe++)Pe(g,T[pe],V,F,he);else F=u(F)?!!F.capture:!!F,V=He(V),g&&g[G]?(g=g.i,T=String(T).toString(),T in g.g&&(pe=g.g[T],V=M(pe,V,F,he),-1<V&&(ee(pe[V]),Array.prototype.splice.call(pe,V,1),pe.length==0&&(delete g.g[T],g.h--)))):g&&(g=ze(g))&&(T=g.g[T.toString()],g=-1,T&&(g=M(T,V,F,he)),(V=-1<g?T[g]:null)&&we(V))}function we(g){if(typeof g!="number"&&g&&!g.da){var T=g.src;if(T&&T[G])_e(T.i,g);else{var V=g.type,F=g.proxy;T.removeEventListener?T.removeEventListener(V,F,g.capture):T.detachEvent?T.detachEvent(De(V),F):T.addListener&&T.removeListener&&T.removeListener(F),(V=ze(T))?(_e(V,g),V.h==0&&(V.src=null,T[L]=null)):ee(g)}}}function De(g){return g in J?J[g]:J[g]="on"+g}function Se(g,T){if(g.da)g=!0;else{T=new Ne(T,this);var V=g.listener,F=g.ha||g.src;g.fa&&we(g),g=V.call(F,T)}return g}function ze(g){return g=g[L],g instanceof X?g:null}var Le="__closure_events_fn_"+(1e9*Math.random()>>>0);function He(g){return typeof g=="function"?g:(g[Le]||(g[Le]=function(T){return g.handleEvent(T)}),g[Le])}function Ve(){ue.call(this),this.i=new X(this),this.M=this,this.F=null}m(Ve,ue),Ve.prototype[G]=!0,Ve.prototype.removeEventListener=function(g,T,V,F){Pe(this,g,T,V,F)};function tt(g,T){var V,F=g.F;if(F)for(V=[];F;F=F.F)V.push(F);if(g=g.M,F=T.type||T,typeof T=="string")T=new be(T,g);else if(T instanceof be)T.target=T.target||g;else{var he=T;T=new be(F,g),E(T,he)}if(he=!0,V)for(var pe=V.length-1;0<=pe;pe--){var Be=T.g=V[pe];he=kt(Be,F,!0,T)&&he}if(Be=T.g=g,he=kt(Be,F,!0,T)&&he,he=kt(Be,F,!1,T)&&he,V)for(pe=0;pe<V.length;pe++)Be=T.g=V[pe],he=kt(Be,F,!1,T)&&he}Ve.prototype.N=function(){if(Ve.aa.N.call(this),this.i){var g=this.i,T;for(T in g.g){for(var V=g.g[T],F=0;F<V.length;F++)ee(V[F]);delete g.g[T],g.h--}}this.F=null},Ve.prototype.K=function(g,T,V,F){return this.i.add(String(g),T,!1,V,F)},Ve.prototype.L=function(g,T,V,F){return this.i.add(String(g),T,!0,V,F)};function kt(g,T,V,F){if(T=g.i.g[String(T)],!T)return!0;T=T.concat();for(var he=!0,pe=0;pe<T.length;++pe){var Be=T[pe];if(Be&&!Be.da&&Be.capture==V){var an=Be.listener,vi=Be.ha||Be.src;Be.fa&&_e(g.i,Be),he=an.call(vi,F)!==!1&&he}}return he&&!F.defaultPrevented}function Ke(g,T,V){if(typeof g=="function")V&&(g=f(g,V));else if(g&&typeof g.handleEvent=="function")g=f(g.handleEvent,g);else throw Error("Invalid listener argument");return 2147483647<Number(T)?-1:a.setTimeout(g,T||0)}function le(g){g.g=Ke(()=>{g.g=null,g.i&&(g.i=!1,le(g))},g.l);const T=g.h;g.h=null,g.m.apply(null,T)}class re extends ue{constructor(T,V){super(),this.m=T,this.l=V,this.h=null,this.i=!1,this.g=null}j(T){this.h=arguments,this.g?this.i=!0:le(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ee(g){ue.call(this),this.h=g,this.g={}}m(Ee,ue);var Fe=[];function et(g){O(g.g,function(T,V){this.g.hasOwnProperty(V)&&we(T)},g),g.g={}}Ee.prototype.N=function(){Ee.aa.N.call(this),et(this)},Ee.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ft=a.JSON.stringify,qe=a.JSON.parse,Tt=class{stringify(g){return a.JSON.stringify(g,void 0)}parse(g){return a.JSON.parse(g,void 0)}};function on(){}on.prototype.h=null;function ti(g){return g.h||(g.h=g.i())}function Zt(){}var Fn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function si(){be.call(this,"d")}m(si,be);function Ai(){be.call(this,"c")}m(Ai,be);var fr={},cu=null;function Lo(){return cu=cu||new Ve}fr.La="serverreachability";function du(g){be.call(this,fr.La,g)}m(du,be);function qs(g){const T=Lo();tt(T,new du(T))}fr.STAT_EVENT="statevent";function XC(g,T){be.call(this,fr.STAT_EVENT,g),this.stat=T}m(XC,be);function Wi(g){const T=Lo();tt(T,new XC(T,g))}fr.Ma="timingevent";function QC(g,T){be.call(this,fr.Ma,g),this.size=T}m(QC,be);function sd(g,T){if(typeof g!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){g()},T)}function od(){this.g=!0}od.prototype.xa=function(){this.g=!1};function F6(g,T,V,F,he,pe){g.info(function(){if(g.g)if(pe)for(var Be="",an=pe.split("&"),vi=0;vi<an.length;vi++){var jt=an[vi].split("=");if(1<jt.length){var Pi=jt[0];jt=jt[1];var xi=Pi.split("_");Be=2<=xi.length&&xi[1]=="type"?Be+(Pi+"="+jt+"&"):Be+(Pi+"=redacted&")}}else Be=null;else Be=pe;return"XMLHTTP REQ ("+F+") [attempt "+he+"]: "+T+`
`+V+`
`+Be})}function $6(g,T,V,F,he,pe,Be){g.info(function(){return"XMLHTTP RESP ("+F+") [ attempt "+he+"]: "+T+`
`+V+`
`+pe+" "+Be})}function fu(g,T,V,F){g.info(function(){return"XMLHTTP TEXT ("+T+"): "+U6(g,V)+(F?" "+F:"")})}function B6(g,T){g.info(function(){return"TIMEOUT: "+T})}od.prototype.info=function(){};function U6(g,T){if(!g.g)return T;if(!T)return null;try{var V=JSON.parse(T);if(V){for(g=0;g<V.length;g++)if(Array.isArray(V[g])){var F=V[g];if(!(2>F.length)){var he=F[1];if(Array.isArray(he)&&!(1>he.length)){var pe=he[0];if(pe!="noop"&&pe!="stop"&&pe!="close")for(var Be=1;Be<he.length;Be++)he[Be]=""}}}}return ft(V)}catch{return T}}var Qh={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},JC={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},q_;function Jh(){}m(Jh,on),Jh.prototype.g=function(){return new XMLHttpRequest},Jh.prototype.i=function(){return{}},q_=new Jh;function Fo(g,T,V,F){this.j=g,this.i=T,this.l=V,this.R=F||1,this.U=new Ee(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ZC}function ZC(){this.i=null,this.g="",this.h=!1}var ek={},Y_={};function K_(g,T,V){g.L=1,g.v=nv(Ys(T)),g.m=V,g.P=!0,tk(g,null)}function tk(g,T){g.F=Date.now(),Zh(g),g.A=Ys(g.v);var V=g.A,F=g.R;Array.isArray(F)||(F=[String(F)]),mk(V.i,"t",F),g.C=0,V=g.j.J,g.h=new ZC,g.g=Ok(g.j,V?T:null,!g.m),0<g.O&&(g.M=new re(f(g.Y,g,g.g),g.O)),T=g.U,V=g.g,F=g.ca;var he="readystatechange";Array.isArray(he)||(he&&(Fe[0]=he.toString()),he=Fe);for(var pe=0;pe<he.length;pe++){var Be=ce(V,he[pe],F||T.handleEvent,!1,T.h||T);if(!Be)break;T.g[Be.key]=Be}T=g.H?S(g.H):{},g.m?(g.u||(g.u="POST"),T["Content-Type"]="application/x-www-form-urlencoded",g.g.ea(g.A,g.u,g.m,T)):(g.u="GET",g.g.ea(g.A,g.u,null,T)),qs(),F6(g.i,g.u,g.A,g.l,g.R,g.m)}Fo.prototype.ca=function(g){g=g.target;const T=this.M;T&&Ks(g)==3?T.j():this.Y(g)},Fo.prototype.Y=function(g){try{if(g==this.g)e:{const xi=Ks(this.g);var T=this.g.Ba();const mu=this.g.Z();if(!(3>xi)&&(xi!=3||this.g&&(this.h.h||this.g.oa()||Sk(this.g)))){this.J||xi!=4||T==7||(T==8||0>=mu?qs(3):qs(2)),X_(this);var V=this.g.Z();this.X=V;t:if(nk(this)){var F=Sk(this.g);g="";var he=F.length,pe=Ks(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ja(this),ad(this);var Be="";break t}this.h.i=new a.TextDecoder}for(T=0;T<he;T++)this.h.h=!0,g+=this.h.i.decode(F[T],{stream:!(pe&&T==he-1)});F.length=0,this.h.g+=g,this.C=0,Be=this.h.g}else Be=this.g.oa();if(this.o=V==200,$6(this.i,this.u,this.A,this.l,this.R,xi,V),this.o){if(this.T&&!this.K){t:{if(this.g){var an,vi=this.g;if((an=vi.g?vi.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!b(an)){var jt=an;break t}}jt=null}if(V=jt)fu(this.i,this.l,V,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Q_(this,V);else{this.o=!1,this.s=3,Wi(12),ja(this),ad(this);break e}}if(this.P){V=!0;let Wr;for(;!this.J&&this.C<Be.length;)if(Wr=j6(this,Be),Wr==Y_){xi==4&&(this.s=4,Wi(14),V=!1),fu(this.i,this.l,null,"[Incomplete Response]");break}else if(Wr==ek){this.s=4,Wi(15),fu(this.i,this.l,Be,"[Invalid Chunk]"),V=!1;break}else fu(this.i,this.l,Wr,null),Q_(this,Wr);if(nk(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),xi!=4||Be.length!=0||this.h.h||(this.s=1,Wi(16),V=!1),this.o=this.o&&V,!V)fu(this.i,this.l,Be,"[Invalid Chunked Response]"),ja(this),ad(this);else if(0<Be.length&&!this.W){this.W=!0;var Pi=this.j;Pi.g==this&&Pi.ba&&!Pi.M&&(Pi.j.info("Great, no buffering proxy detected. Bytes received: "+Be.length),iy(Pi),Pi.M=!0,Wi(11))}}else fu(this.i,this.l,Be,null),Q_(this,Be);xi==4&&ja(this),this.o&&!this.J&&(xi==4?Pk(this.j,this):(this.o=!1,Zh(this)))}else s3(this.g),V==400&&0<Be.indexOf("Unknown SID")?(this.s=3,Wi(12)):(this.s=0,Wi(13)),ja(this),ad(this)}}}catch{}finally{}};function nk(g){return g.g?g.u=="GET"&&g.L!=2&&g.j.Ca:!1}function j6(g,T){var V=g.C,F=T.indexOf(`
`,V);return F==-1?Y_:(V=Number(T.substring(V,F)),isNaN(V)?ek:(F+=1,F+V>T.length?Y_:(T=T.slice(F,F+V),g.C=F+V,T)))}Fo.prototype.cancel=function(){this.J=!0,ja(this)};function Zh(g){g.S=Date.now()+g.I,ik(g,g.I)}function ik(g,T){if(g.B!=null)throw Error("WatchDog timer not null");g.B=sd(f(g.ba,g),T)}function X_(g){g.B&&(a.clearTimeout(g.B),g.B=null)}Fo.prototype.ba=function(){this.B=null;const g=Date.now();0<=g-this.S?(B6(this.i,this.A),this.L!=2&&(qs(),Wi(17)),ja(this),this.s=2,ad(this)):ik(this,this.S-g)};function ad(g){g.j.G==0||g.J||Pk(g.j,g)}function ja(g){X_(g);var T=g.M;T&&typeof T.ma=="function"&&T.ma(),g.M=null,et(g.U),g.g&&(T=g.g,g.g=null,T.abort(),T.ma())}function Q_(g,T){try{var V=g.j;if(V.G!=0&&(V.g==g||J_(V.h,g))){if(!g.K&&J_(V.h,g)&&V.G==3){try{var F=V.Da.g.parse(T)}catch{F=null}if(Array.isArray(F)&&F.length==3){var he=F;if(he[0]==0){e:if(!V.u){if(V.g)if(V.g.F+3e3<g.F)av(V),sv(V);else break e;ny(V),Wi(18)}}else V.za=he[1],0<V.za-V.T&&37500>he[2]&&V.F&&V.v==0&&!V.C&&(V.C=sd(f(V.Za,V),6e3));if(1>=ok(V.h)&&V.ca){try{V.ca()}catch{}V.ca=void 0}}else Wa(V,11)}else if((g.K||V.g==g)&&av(V),!b(T))for(he=V.Da.g.parse(T),T=0;T<he.length;T++){let jt=he[T];if(V.T=jt[0],jt=jt[1],V.G==2)if(jt[0]=="c"){V.K=jt[1],V.ia=jt[2];const Pi=jt[3];Pi!=null&&(V.la=Pi,V.j.info("VER="+V.la));const xi=jt[4];xi!=null&&(V.Aa=xi,V.j.info("SVER="+V.Aa));const mu=jt[5];mu!=null&&typeof mu=="number"&&0<mu&&(F=1.5*mu,V.L=F,V.j.info("backChannelRequestTimeoutMs_="+F)),F=V;const Wr=g.g;if(Wr){const uv=Wr.g?Wr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(uv){var pe=F.h;pe.g||uv.indexOf("spdy")==-1&&uv.indexOf("quic")==-1&&uv.indexOf("h2")==-1||(pe.j=pe.l,pe.g=new Set,pe.h&&(Z_(pe,pe.h),pe.h=null))}if(F.D){const ry=Wr.g?Wr.g.getResponseHeader("X-HTTP-Session-Id"):null;ry&&(F.ya=ry,wn(F.I,F.D,ry))}}V.G=3,V.l&&V.l.ua(),V.ba&&(V.R=Date.now()-g.F,V.j.info("Handshake RTT: "+V.R+"ms")),F=V;var Be=g;if(F.qa=Rk(F,F.J?F.ia:null,F.W),Be.K){ak(F.h,Be);var an=Be,vi=F.L;vi&&(an.I=vi),an.B&&(X_(an),Zh(an)),F.g=Be}else Ik(F);0<V.i.length&&ov(V)}else jt[0]!="stop"&&jt[0]!="close"||Wa(V,7);else V.G==3&&(jt[0]=="stop"||jt[0]=="close"?jt[0]=="stop"?Wa(V,7):ty(V):jt[0]!="noop"&&V.l&&V.l.ta(jt),V.v=0)}}qs(4)}catch{}}var H6=class{constructor(g,T){this.g=g,this.map=T}};function rk(g){this.l=g||10,a.PerformanceNavigationTiming?(g=a.performance.getEntriesByType("navigation"),g=0<g.length&&(g[0].nextHopProtocol=="hq"||g[0].nextHopProtocol=="h2")):g=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=g?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function sk(g){return g.h?!0:g.g?g.g.size>=g.j:!1}function ok(g){return g.h?1:g.g?g.g.size:0}function J_(g,T){return g.h?g.h==T:g.g?g.g.has(T):!1}function Z_(g,T){g.g?g.g.add(T):g.h=T}function ak(g,T){g.h&&g.h==T?g.h=null:g.g&&g.g.has(T)&&g.g.delete(T)}rk.prototype.cancel=function(){if(this.i=lk(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const g of this.g.values())g.cancel();this.g.clear()}};function lk(g){if(g.h!=null)return g.i.concat(g.h.D);if(g.g!=null&&g.g.size!==0){let T=g.i;for(const V of g.g.values())T=T.concat(V.D);return T}return p(g.i)}function W6(g){if(g.V&&typeof g.V=="function")return g.V();if(typeof Map<"u"&&g instanceof Map||typeof Set<"u"&&g instanceof Set)return Array.from(g.values());if(typeof g=="string")return g.split("");if(l(g)){for(var T=[],V=g.length,F=0;F<V;F++)T.push(g[F]);return T}T=[],V=0;for(F in g)T[V++]=g[F];return T}function z6(g){if(g.na&&typeof g.na=="function")return g.na();if(!g.V||typeof g.V!="function"){if(typeof Map<"u"&&g instanceof Map)return Array.from(g.keys());if(!(typeof Set<"u"&&g instanceof Set)){if(l(g)||typeof g=="string"){var T=[];g=g.length;for(var V=0;V<g;V++)T.push(V);return T}T=[],V=0;for(const F in g)T[V++]=F;return T}}}function uk(g,T){if(g.forEach&&typeof g.forEach=="function")g.forEach(T,void 0);else if(l(g)||typeof g=="string")Array.prototype.forEach.call(g,T,void 0);else for(var V=z6(g),F=W6(g),he=F.length,pe=0;pe<he;pe++)T.call(void 0,F[pe],V&&V[pe],g)}var ck=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function G6(g,T){if(g){g=g.split("&");for(var V=0;V<g.length;V++){var F=g[V].indexOf("="),he=null;if(0<=F){var pe=g[V].substring(0,F);he=g[V].substring(F+1)}else pe=g[V];T(pe,he?decodeURIComponent(he.replace(/\+/g," ")):"")}}}function Ha(g){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,g instanceof Ha){this.h=g.h,ev(this,g.j),this.o=g.o,this.g=g.g,tv(this,g.s),this.l=g.l;var T=g.i,V=new cd;V.i=T.i,T.g&&(V.g=new Map(T.g),V.h=T.h),dk(this,V),this.m=g.m}else g&&(T=String(g).match(ck))?(this.h=!1,ev(this,T[1]||"",!0),this.o=ld(T[2]||""),this.g=ld(T[3]||"",!0),tv(this,T[4]),this.l=ld(T[5]||"",!0),dk(this,T[6]||"",!0),this.m=ld(T[7]||"")):(this.h=!1,this.i=new cd(null,this.h))}Ha.prototype.toString=function(){var g=[],T=this.j;T&&g.push(ud(T,fk,!0),":");var V=this.g;return(V||T=="file")&&(g.push("//"),(T=this.o)&&g.push(ud(T,fk,!0),"@"),g.push(encodeURIComponent(String(V)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),V=this.s,V!=null&&g.push(":",String(V))),(V=this.l)&&(this.g&&V.charAt(0)!="/"&&g.push("/"),g.push(ud(V,V.charAt(0)=="/"?K6:Y6,!0))),(V=this.i.toString())&&g.push("?",V),(V=this.m)&&g.push("#",ud(V,Q6)),g.join("")};function Ys(g){return new Ha(g)}function ev(g,T,V){g.j=V?ld(T,!0):T,g.j&&(g.j=g.j.replace(/:$/,""))}function tv(g,T){if(T){if(T=Number(T),isNaN(T)||0>T)throw Error("Bad port number "+T);g.s=T}else g.s=null}function dk(g,T,V){T instanceof cd?(g.i=T,J6(g.i,g.h)):(V||(T=ud(T,X6)),g.i=new cd(T,g.h))}function wn(g,T,V){g.i.set(T,V)}function nv(g){return wn(g,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),g}function ld(g,T){return g?T?decodeURI(g.replace(/%25/g,"%2525")):decodeURIComponent(g):""}function ud(g,T,V){return typeof g=="string"?(g=encodeURI(g).replace(T,q6),V&&(g=g.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g):null}function q6(g){return g=g.charCodeAt(0),"%"+(g>>4&15).toString(16)+(g&15).toString(16)}var fk=/[#\/\?@]/g,Y6=/[#\?:]/g,K6=/[#\?]/g,X6=/[#\?@]/g,Q6=/#/g;function cd(g,T){this.h=this.g=null,this.i=g||null,this.j=!!T}function $o(g){g.g||(g.g=new Map,g.h=0,g.i&&G6(g.i,function(T,V){g.add(decodeURIComponent(T.replace(/\+/g," ")),V)}))}e=cd.prototype,e.add=function(g,T){$o(this),this.i=null,g=hu(this,g);var V=this.g.get(g);return V||this.g.set(g,V=[]),V.push(T),this.h+=1,this};function hk(g,T){$o(g),T=hu(g,T),g.g.has(T)&&(g.i=null,g.h-=g.g.get(T).length,g.g.delete(T))}function vk(g,T){return $o(g),T=hu(g,T),g.g.has(T)}e.forEach=function(g,T){$o(this),this.g.forEach(function(V,F){V.forEach(function(he){g.call(T,he,F,this)},this)},this)},e.na=function(){$o(this);const g=Array.from(this.g.values()),T=Array.from(this.g.keys()),V=[];for(let F=0;F<T.length;F++){const he=g[F];for(let pe=0;pe<he.length;pe++)V.push(T[F])}return V},e.V=function(g){$o(this);let T=[];if(typeof g=="string")vk(this,g)&&(T=T.concat(this.g.get(hu(this,g))));else{g=Array.from(this.g.values());for(let V=0;V<g.length;V++)T=T.concat(g[V])}return T},e.set=function(g,T){return $o(this),this.i=null,g=hu(this,g),vk(this,g)&&(this.h-=this.g.get(g).length),this.g.set(g,[T]),this.h+=1,this},e.get=function(g,T){return g?(g=this.V(g),0<g.length?String(g[0]):T):T};function mk(g,T,V){hk(g,T),0<V.length&&(g.i=null,g.g.set(hu(g,T),p(V)),g.h+=V.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const g=[],T=Array.from(this.g.keys());for(var V=0;V<T.length;V++){var F=T[V];const pe=encodeURIComponent(String(F)),Be=this.V(F);for(F=0;F<Be.length;F++){var he=pe;Be[F]!==""&&(he+="="+encodeURIComponent(String(Be[F]))),g.push(he)}}return this.i=g.join("&")};function hu(g,T){return T=String(T),g.j&&(T=T.toLowerCase()),T}function J6(g,T){T&&!g.j&&($o(g),g.i=null,g.g.forEach(function(V,F){var he=F.toLowerCase();F!=he&&(hk(this,F),mk(this,he,V))},g)),g.j=T}function Z6(g,T){const V=new od;if(a.Image){const F=new Image;F.onload=v(Bo,V,"TestLoadImage: loaded",!0,T,F),F.onerror=v(Bo,V,"TestLoadImage: error",!1,T,F),F.onabort=v(Bo,V,"TestLoadImage: abort",!1,T,F),F.ontimeout=v(Bo,V,"TestLoadImage: timeout",!1,T,F),a.setTimeout(function(){F.ontimeout&&F.ontimeout()},1e4),F.src=g}else T(!1)}function e3(g,T){const V=new od,F=new AbortController,he=setTimeout(()=>{F.abort(),Bo(V,"TestPingServer: timeout",!1,T)},1e4);fetch(g,{signal:F.signal}).then(pe=>{clearTimeout(he),pe.ok?Bo(V,"TestPingServer: ok",!0,T):Bo(V,"TestPingServer: server error",!1,T)}).catch(()=>{clearTimeout(he),Bo(V,"TestPingServer: error",!1,T)})}function Bo(g,T,V,F,he){try{he&&(he.onload=null,he.onerror=null,he.onabort=null,he.ontimeout=null),F(V)}catch{}}function t3(){this.g=new Tt}function n3(g,T,V){const F=V||"";try{uk(g,function(he,pe){let Be=he;u(he)&&(Be=ft(he)),T.push(F+pe+"="+encodeURIComponent(Be))})}catch(he){throw T.push(F+"type="+encodeURIComponent("_badmap")),he}}function dd(g){this.l=g.Ub||null,this.j=g.eb||!1}m(dd,on),dd.prototype.g=function(){return new iv(this.l,this.j)},dd.prototype.i=function(g){return function(){return g}}({});function iv(g,T){Ve.call(this),this.D=g,this.o=T,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}m(iv,Ve),e=iv.prototype,e.open=function(g,T){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=g,this.A=T,this.readyState=1,hd(this)},e.send=function(g){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const T={headers:this.u,method:this.B,credentials:this.m,cache:void 0};g&&(T.body=g),(this.D||a).fetch(new Request(this.A,T)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,fd(this)),this.readyState=0},e.Sa=function(g){if(this.g&&(this.l=g,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=g.headers,this.readyState=2,hd(this)),this.g&&(this.readyState=3,hd(this),this.g)))if(this.responseType==="arraybuffer")g.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in g){if(this.j=g.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;gk(this)}else g.text().then(this.Ra.bind(this),this.ga.bind(this))};function gk(g){g.j.read().then(g.Pa.bind(g)).catch(g.ga.bind(g))}e.Pa=function(g){if(this.g){if(this.o&&g.value)this.response.push(g.value);else if(!this.o){var T=g.value?g.value:new Uint8Array(0);(T=this.v.decode(T,{stream:!g.done}))&&(this.response=this.responseText+=T)}g.done?fd(this):hd(this),this.readyState==3&&gk(this)}},e.Ra=function(g){this.g&&(this.response=this.responseText=g,fd(this))},e.Qa=function(g){this.g&&(this.response=g,fd(this))},e.ga=function(){this.g&&fd(this)};function fd(g){g.readyState=4,g.l=null,g.j=null,g.v=null,hd(g)}e.setRequestHeader=function(g,T){this.u.append(g,T)},e.getResponseHeader=function(g){return this.h&&this.h.get(g.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const g=[],T=this.h.entries();for(var V=T.next();!V.done;)V=V.value,g.push(V[0]+": "+V[1]),V=T.next();return g.join(`\r
`)};function hd(g){g.onreadystatechange&&g.onreadystatechange.call(g)}Object.defineProperty(iv.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(g){this.m=g?"include":"same-origin"}});function pk(g){let T="";return O(g,function(V,F){T+=F,T+=":",T+=V,T+=`\r
`}),T}function ey(g,T,V){e:{for(F in V){var F=!1;break e}F=!0}F||(V=pk(V),typeof g=="string"?V!=null&&encodeURIComponent(String(V)):wn(g,T,V))}function $n(g){Ve.call(this),this.headers=new Map,this.o=g||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}m($n,Ve);var i3=/^https?$/i,r3=["POST","PUT"];e=$n.prototype,e.Ha=function(g){this.J=g},e.ea=function(g,T,V,F){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+g);T=T?T.toUpperCase():"GET",this.D=g,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():q_.g(),this.v=this.o?ti(this.o):ti(q_),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(T,String(g),!0),this.B=!1}catch(pe){_k(this,pe);return}if(g=V||"",V=new Map(this.headers),F)if(Object.getPrototypeOf(F)===Object.prototype)for(var he in F)V.set(he,F[he]);else if(typeof F.keys=="function"&&typeof F.get=="function")for(const pe of F.keys())V.set(pe,F.get(pe));else throw Error("Unknown input type for opt_headers: "+String(F));F=Array.from(V.keys()).find(pe=>pe.toLowerCase()=="content-type"),he=a.FormData&&g instanceof a.FormData,!(0<=Array.prototype.indexOf.call(r3,T,void 0))||F||he||V.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[pe,Be]of V)this.g.setRequestHeader(pe,Be);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{wk(this),this.u=!0,this.g.send(g),this.u=!1}catch(pe){_k(this,pe)}};function _k(g,T){g.h=!1,g.g&&(g.j=!0,g.g.abort(),g.j=!1),g.l=T,g.m=5,yk(g),rv(g)}function yk(g){g.A||(g.A=!0,tt(g,"complete"),tt(g,"error"))}e.abort=function(g){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=g||7,tt(this,"complete"),tt(this,"abort"),rv(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),rv(this,!0)),$n.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?bk(this):this.bb())},e.bb=function(){bk(this)};function bk(g){if(g.h&&typeof o<"u"&&(!g.v[1]||Ks(g)!=4||g.Z()!=2)){if(g.u&&Ks(g)==4)Ke(g.Ea,0,g);else if(tt(g,"readystatechange"),Ks(g)==4){g.h=!1;try{const Be=g.Z();e:switch(Be){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var T=!0;break e;default:T=!1}var V;if(!(V=T)){var F;if(F=Be===0){var he=String(g.D).match(ck)[1]||null;!he&&a.self&&a.self.location&&(he=a.self.location.protocol.slice(0,-1)),F=!i3.test(he?he.toLowerCase():"")}V=F}if(V)tt(g,"complete"),tt(g,"success");else{g.m=6;try{var pe=2<Ks(g)?g.g.statusText:""}catch{pe=""}g.l=pe+" ["+g.Z()+"]",yk(g)}}finally{rv(g)}}}}function rv(g,T){if(g.g){wk(g);const V=g.g,F=g.v[0]?()=>{}:null;g.g=null,g.v=null,T||tt(g,"ready");try{V.onreadystatechange=F}catch{}}}function wk(g){g.I&&(a.clearTimeout(g.I),g.I=null)}e.isActive=function(){return!!this.g};function Ks(g){return g.g?g.g.readyState:0}e.Z=function(){try{return 2<Ks(this)?this.g.status:-1}catch{return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.Oa=function(g){if(this.g){var T=this.g.responseText;return g&&T.indexOf(g)==0&&(T=T.substring(g.length)),qe(T)}};function Sk(g){try{if(!g.g)return null;if("response"in g.g)return g.g.response;switch(g.H){case"":case"text":return g.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in g.g)return g.g.mozResponseArrayBuffer}return null}catch{return null}}function s3(g){const T={};g=(g.g&&2<=Ks(g)&&g.g.getAllResponseHeaders()||"").split(`\r
`);for(let F=0;F<g.length;F++){if(b(g[F]))continue;var V=A(g[F]);const he=V[0];if(V=V[1],typeof V!="string")continue;V=V.trim();const pe=T[he]||[];T[he]=pe,pe.push(V)}x(T,function(F){return F.join(", ")})}e.Ba=function(){return this.m},e.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function vd(g,T,V){return V&&V.internalChannelParams&&V.internalChannelParams[g]||T}function Ek(g){this.Aa=0,this.i=[],this.j=new od,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=vd("failFast",!1,g),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=vd("baseRetryDelayMs",5e3,g),this.cb=vd("retryDelaySeedMs",1e4,g),this.Wa=vd("forwardChannelMaxRetries",2,g),this.wa=vd("forwardChannelRequestTimeoutMs",2e4,g),this.pa=g&&g.xmlHttpFactory||void 0,this.Xa=g&&g.Tb||void 0,this.Ca=g&&g.useFetchStreams||!1,this.L=void 0,this.J=g&&g.supportsCrossDomainXhr||!1,this.K="",this.h=new rk(g&&g.concurrentRequestLimit),this.Da=new t3,this.P=g&&g.fastHandshake||!1,this.O=g&&g.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=g&&g.Rb||!1,g&&g.xa&&this.j.xa(),g&&g.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&g&&g.detectBufferingProxy||!1,this.ja=void 0,g&&g.longPollingTimeout&&0<g.longPollingTimeout&&(this.ja=g.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}e=Ek.prototype,e.la=8,e.G=1,e.connect=function(g,T,V,F){Wi(0),this.W=g,this.H=T||{},V&&F!==void 0&&(this.H.OSID=V,this.H.OAID=F),this.F=this.X,this.I=Rk(this,null,this.W),ov(this)};function ty(g){if(Ck(g),g.G==3){var T=g.U++,V=Ys(g.I);if(wn(V,"SID",g.K),wn(V,"RID",T),wn(V,"TYPE","terminate"),md(g,V),T=new Fo(g,g.j,T),T.L=2,T.v=nv(Ys(V)),V=!1,a.navigator&&a.navigator.sendBeacon)try{V=a.navigator.sendBeacon(T.v.toString(),"")}catch{}!V&&a.Image&&(new Image().src=T.v,V=!0),V||(T.g=Ok(T.j,null),T.g.ea(T.v)),T.F=Date.now(),Zh(T)}Dk(g)}function sv(g){g.g&&(iy(g),g.g.cancel(),g.g=null)}function Ck(g){sv(g),g.u&&(a.clearTimeout(g.u),g.u=null),av(g),g.h.cancel(),g.s&&(typeof g.s=="number"&&a.clearTimeout(g.s),g.s=null)}function ov(g){if(!sk(g.h)&&!g.s){g.s=!0;var T=g.Ga;Y||z(),H||(Y(),H=!0),q.add(T,g),g.B=0}}function o3(g,T){return ok(g.h)>=g.h.j-(g.s?1:0)?!1:g.s?(g.i=T.D.concat(g.i),!0):g.G==1||g.G==2||g.B>=(g.Va?0:g.Wa)?!1:(g.s=sd(f(g.Ga,g,T),xk(g,g.B)),g.B++,!0)}e.Ga=function(g){if(this.s)if(this.s=null,this.G==1){if(!g){this.U=Math.floor(1e5*Math.random()),g=this.U++;const he=new Fo(this,this.j,g);let pe=this.o;if(this.S&&(pe?(pe=S(pe),E(pe,this.S)):pe=this.S),this.m!==null||this.O||(he.H=pe,pe=null),this.P)e:{for(var T=0,V=0;V<this.i.length;V++){t:{var F=this.i[V];if("__data__"in F.map&&(F=F.map.__data__,typeof F=="string")){F=F.length;break t}F=void 0}if(F===void 0)break;if(T+=F,4096<T){T=V;break e}if(T===4096||V===this.i.length-1){T=V+1;break e}}T=1e3}else T=1e3;T=Tk(this,he,T),V=Ys(this.I),wn(V,"RID",g),wn(V,"CVER",22),this.D&&wn(V,"X-HTTP-Session-Id",this.D),md(this,V),pe&&(this.O?T="headers="+encodeURIComponent(String(pk(pe)))+"&"+T:this.m&&ey(V,this.m,pe)),Z_(this.h,he),this.Ua&&wn(V,"TYPE","init"),this.P?(wn(V,"$req",T),wn(V,"SID","null"),he.T=!0,K_(he,V,null)):K_(he,V,T),this.G=2}}else this.G==3&&(g?kk(this,g):this.i.length==0||sk(this.h)||kk(this))};function kk(g,T){var V;T?V=T.l:V=g.U++;const F=Ys(g.I);wn(F,"SID",g.K),wn(F,"RID",V),wn(F,"AID",g.T),md(g,F),g.m&&g.o&&ey(F,g.m,g.o),V=new Fo(g,g.j,V,g.B+1),g.m===null&&(V.H=g.o),T&&(g.i=T.D.concat(g.i)),T=Tk(g,V,1e3),V.I=Math.round(.5*g.wa)+Math.round(.5*g.wa*Math.random()),Z_(g.h,V),K_(V,F,T)}function md(g,T){g.H&&O(g.H,function(V,F){wn(T,F,V)}),g.l&&uk({},function(V,F){wn(T,F,V)})}function Tk(g,T,V){V=Math.min(g.i.length,V);var F=g.l?f(g.l.Na,g.l,g):null;e:{var he=g.i;let pe=-1;for(;;){const Be=["count="+V];pe==-1?0<V?(pe=he[0].g,Be.push("ofs="+pe)):pe=0:Be.push("ofs="+pe);let an=!0;for(let vi=0;vi<V;vi++){let jt=he[vi].g;const Pi=he[vi].map;if(jt-=pe,0>jt)pe=Math.max(0,he[vi].g-100),an=!1;else try{n3(Pi,Be,"req"+jt+"_")}catch{F&&F(Pi)}}if(an){F=Be.join("&");break e}}}return g=g.i.splice(0,V),T.D=g,F}function Ik(g){if(!g.g&&!g.u){g.Y=1;var T=g.Fa;Y||z(),H||(Y(),H=!0),q.add(T,g),g.v=0}}function ny(g){return g.g||g.u||3<=g.v?!1:(g.Y++,g.u=sd(f(g.Fa,g),xk(g,g.v)),g.v++,!0)}e.Fa=function(){if(this.u=null,Ak(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var g=2*this.R;this.j.info("BP detection timer enabled: "+g),this.A=sd(f(this.ab,this),g)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Wi(10),sv(this),Ak(this))};function iy(g){g.A!=null&&(a.clearTimeout(g.A),g.A=null)}function Ak(g){g.g=new Fo(g,g.j,"rpc",g.Y),g.m===null&&(g.g.H=g.o),g.g.O=0;var T=Ys(g.qa);wn(T,"RID","rpc"),wn(T,"SID",g.K),wn(T,"AID",g.T),wn(T,"CI",g.F?"0":"1"),!g.F&&g.ja&&wn(T,"TO",g.ja),wn(T,"TYPE","xmlhttp"),md(g,T),g.m&&g.o&&ey(T,g.m,g.o),g.L&&(g.g.I=g.L);var V=g.g;g=g.ia,V.L=1,V.v=nv(Ys(T)),V.m=null,V.P=!0,tk(V,g)}e.Za=function(){this.C!=null&&(this.C=null,sv(this),ny(this),Wi(19))};function av(g){g.C!=null&&(a.clearTimeout(g.C),g.C=null)}function Pk(g,T){var V=null;if(g.g==T){av(g),iy(g),g.g=null;var F=2}else if(J_(g.h,T))V=T.D,ak(g.h,T),F=1;else return;if(g.G!=0){if(T.o)if(F==1){V=T.m?T.m.length:0,T=Date.now()-T.F;var he=g.B;F=Lo(),tt(F,new QC(F,V)),ov(g)}else Ik(g);else if(he=T.s,he==3||he==0&&0<T.X||!(F==1&&o3(g,T)||F==2&&ny(g)))switch(V&&0<V.length&&(T=g.h,T.i=T.i.concat(V)),he){case 1:Wa(g,5);break;case 4:Wa(g,10);break;case 3:Wa(g,6);break;default:Wa(g,2)}}}function xk(g,T){let V=g.Ta+Math.floor(Math.random()*g.cb);return g.isActive()||(V*=2),V*T}function Wa(g,T){if(g.j.info("Error code "+T),T==2){var V=f(g.fb,g),F=g.Xa;const he=!F;F=new Ha(F||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||ev(F,"https"),nv(F),he?Z6(F.toString(),V):e3(F.toString(),V)}else Wi(2);g.G=0,g.l&&g.l.sa(T),Dk(g),Ck(g)}e.fb=function(g){g?(this.j.info("Successfully pinged google.com"),Wi(2)):(this.j.info("Failed to ping google.com"),Wi(1))};function Dk(g){if(g.G=0,g.ka=[],g.l){const T=lk(g.h);(T.length!=0||g.i.length!=0)&&(_(g.ka,T),_(g.ka,g.i),g.h.i.length=0,p(g.i),g.i.length=0),g.l.ra()}}function Rk(g,T,V){var F=V instanceof Ha?Ys(V):new Ha(V);if(F.g!="")T&&(F.g=T+"."+F.g),tv(F,F.s);else{var he=a.location;F=he.protocol,T=T?T+"."+he.hostname:he.hostname,he=+he.port;var pe=new Ha(null);F&&ev(pe,F),T&&(pe.g=T),he&&tv(pe,he),V&&(pe.l=V),F=pe}return V=g.D,T=g.ya,V&&T&&wn(F,V,T),wn(F,"VER",g.la),md(g,F),F}function Ok(g,T,V){if(T&&!g.J)throw Error("Can't create secondary domain capable XhrIo object.");return T=g.Ca&&!g.pa?new $n(new dd({eb:V})):new $n(g.pa),T.Ha(g.J),T}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function Vk(){}e=Vk.prototype,e.ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){};function lv(){}lv.prototype.g=function(g,T){return new hr(g,T)};function hr(g,T){Ve.call(this),this.g=new Ek(T),this.l=g,this.h=T&&T.messageUrlParams||null,g=T&&T.messageHeaders||null,T&&T.clientProtocolHeaderRequired&&(g?g["X-Client-Protocol"]="webchannel":g={"X-Client-Protocol":"webchannel"}),this.g.o=g,g=T&&T.initMessageHeaders||null,T&&T.messageContentType&&(g?g["X-WebChannel-Content-Type"]=T.messageContentType:g={"X-WebChannel-Content-Type":T.messageContentType}),T&&T.va&&(g?g["X-WebChannel-Client-Profile"]=T.va:g={"X-WebChannel-Client-Profile":T.va}),this.g.S=g,(g=T&&T.Sb)&&!b(g)&&(this.g.m=g),this.v=T&&T.supportsCrossDomainXhr||!1,this.u=T&&T.sendRawJson||!1,(T=T&&T.httpSessionIdParam)&&!b(T)&&(this.g.D=T,g=this.h,g!==null&&T in g&&(g=this.h,T in g&&delete g[T])),this.j=new vu(this)}m(hr,Ve),hr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},hr.prototype.close=function(){ty(this.g)},hr.prototype.o=function(g){var T=this.g;if(typeof g=="string"){var V={};V.__data__=g,g=V}else this.u&&(V={},V.__data__=ft(g),g=V);T.i.push(new H6(T.Ya++,g)),T.G==3&&ov(T)},hr.prototype.N=function(){this.g.l=null,delete this.j,ty(this.g),delete this.g,hr.aa.N.call(this)};function Nk(g){si.call(this),g.__headers__&&(this.headers=g.__headers__,this.statusCode=g.__status__,delete g.__headers__,delete g.__status__);var T=g.__sm__;if(T){e:{for(const V in T){g=V;break e}g=void 0}(this.i=g)&&(g=this.i,T=T!==null&&g in T?T[g]:void 0),this.data=T}else this.data=g}m(Nk,si);function Mk(){Ai.call(this),this.status=1}m(Mk,Ai);function vu(g){this.g=g}m(vu,Vk),vu.prototype.ua=function(){tt(this.g,"a")},vu.prototype.ta=function(g){tt(this.g,new Nk(g))},vu.prototype.sa=function(g){tt(this.g,new Mk)},vu.prototype.ra=function(){tt(this.g,"b")},lv.prototype.createWebChannel=lv.prototype.g,hr.prototype.send=hr.prototype.o,hr.prototype.open=hr.prototype.m,hr.prototype.close=hr.prototype.close,WM=function(){return new lv},HM=function(){return Lo()},jM=fr,a0={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Qh.NO_ERROR=0,Qh.TIMEOUT=8,Qh.HTTP_ERROR=6,lm=Qh,JC.COMPLETE="complete",UM=JC,Zt.EventType=Fn,Fn.OPEN="a",Fn.CLOSE="b",Fn.ERROR="c",Fn.MESSAGE="d",Ve.prototype.listen=Ve.prototype.K,Rd=Zt,BM=dd,$n.prototype.listenOnce=$n.prototype.L,$n.prototype.getLastError=$n.prototype.Ka,$n.prototype.getLastErrorCode=$n.prototype.Ba,$n.prototype.getStatus=$n.prototype.Z,$n.prototype.getResponseJson=$n.prototype.Oa,$n.prototype.getResponseText=$n.prototype.oa,$n.prototype.send=$n.prototype.ea,$n.prototype.setWithCredentials=$n.prototype.Ha,$M=$n}).apply(typeof Cv<"u"?Cv:typeof self<"u"?self:typeof window<"u"?window:{});const HI="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Ri.UNAUTHENTICATED=new Ri(null),Ri.GOOGLE_CREDENTIALS=new Ri("google-credentials-uid"),Ri.FIRST_PARTY=new Ri("first-party-uid"),Ri.MOCK_USER=new Ri("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fc="10.13.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ol=new mh("@firebase/firestore");function Ed(){return Ol.logLevel}function Qe(e,...t){if(Ol.logLevel<=Pt.DEBUG){const n=t.map(kE);Ol.debug(`Firestore (${Fc}): ${e}`,...n)}}function wo(e,...t){if(Ol.logLevel<=Pt.ERROR){const n=t.map(kE);Ol.error(`Firestore (${Fc}): ${e}`,...n)}}function cc(e,...t){if(Ol.logLevel<=Pt.WARN){const n=t.map(kE);Ol.warn(`Firestore (${Fc}): ${e}`,...n)}}function kE(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mt(e="Unexpected state"){const t=`FIRESTORE (${Fc}) INTERNAL ASSERTION FAILED: `+e;throw wo(t),new Error(t)}function dn(e,t){e||mt()}function _t(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ce={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class We extends $s{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zM{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class Uq{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(Ri.UNAUTHENTICATED))}shutdown(){}}class jq{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Hq{constructor(t){this.t=t,this.currentUser=Ri.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){let i=this.i;const r=l=>this.i!==i?(i=this.i,n(l)):Promise.resolve();let s=new go;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new go,t.enqueueRetryable(()=>r(this.currentUser))};const o=()=>{const l=s;t.enqueueRetryable(async()=>{await l.promise,await r(this.currentUser)})},a=l=>{Qe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(Qe("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new go)}},0),o()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==t?(Qe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(dn(typeof i.accessToken=="string"),new zM(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return dn(t===null||typeof t=="string"),new Ri(t)}}class Wq{constructor(t,n,i){this.l=t,this.h=n,this.P=i,this.type="FirstParty",this.user=Ri.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class zq{constructor(t,n,i){this.l=t,this.h=n,this.P=i}getToken(){return Promise.resolve(new Wq(this.l,this.h,this.P))}start(t,n){t.enqueueRetryable(()=>n(Ri.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Gq{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class qq{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,n){const i=s=>{s.error!=null&&Qe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,Qe("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{t.enqueueRetryable(()=>i(s))};const r=s=>{Qe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?r(s):Qe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(dn(typeof n.token=="string"),this.R=n.token,new Gq(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yq(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let i=0;i<e;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GM{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length;let i="";for(;i.length<20;){const r=Yq(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<n&&(i+=t.charAt(r[s]%t.length))}return i}}function Ht(e,t){return e<t?-1:e>t?1:0}function dc(e,t,n){return e.length===t.length&&e.every((i,r)=>n(i,t[r]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new We(Ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new We(Ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new We(Ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new We(Ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return St.fromMillis(Date.now())}static fromDate(t){return St.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),i=Math.floor(1e6*(t-1e3*n));return new St(n,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?Ht(this.nanoseconds,t.nanoseconds):Ht(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(t){this.timestamp=t}static fromTimestamp(t){return new gt(t)}static min(){return new gt(new St(0,0))}static max(){return new gt(new St(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tf{constructor(t,n,i){n===void 0?n=0:n>t.length&&mt(),i===void 0?i=t.length-n:i>t.length-n&&mt(),this.segments=t,this.offset=n,this.len=i}get length(){return this.len}isEqual(t){return Tf.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Tf?t.forEach(i=>{n.push(i)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,i=this.limit();n<i;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const i=Math.min(t.length,n.length);for(let r=0;r<i;r++){const s=t.get(r),o=n.get(r);if(s<o)return-1;if(s>o)return 1}return t.length<n.length?-1:t.length>n.length?1:0}}class kn extends Tf{construct(t,n,i){return new kn(t,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const i of t){if(i.indexOf("//")>=0)throw new We(Ce.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(r=>r.length>0))}return new kn(n)}static emptyPath(){return new kn([])}}const Kq=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class bi extends Tf{construct(t,n,i){return new bi(t,n,i)}static isValidIdentifier(t){return Kq.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),bi.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new bi(["__name__"])}static fromServerFormat(t){const n=[];let i="",r=0;const s=()=>{if(i.length===0)throw new We(Ce.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let o=!1;for(;r<t.length;){const a=t[r];if(a==="\\"){if(r+1===t.length)throw new We(Ce.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const l=t[r+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new We(Ce.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=l,r+=2}else a==="`"?(o=!o,r++):a!=="."||o?(i+=a,r++):(s(),r++)}if(s(),o)throw new We(Ce.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new bi(n)}static emptyPath(){return new bi([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rt{constructor(t){this.path=t}static fromPath(t){return new rt(kn.fromString(t))}static fromName(t){return new rt(kn.fromString(t).popFirst(5))}static empty(){return new rt(kn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&kn.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return kn.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new rt(new kn(t.slice()))}}function Xq(e,t){const n=e.toTimestamp().seconds,i=e.toTimestamp().nanoseconds+1,r=gt.fromTimestamp(i===1e9?new St(n+1,0):new St(n,i));return new ga(r,rt.empty(),t)}function Qq(e){return new ga(e.readTime,e.key,-1)}class ga{constructor(t,n,i){this.readTime=t,this.documentKey=n,this.largestBatchId=i}static min(){return new ga(gt.min(),rt.empty(),-1)}static max(){return new ga(gt.max(),rt.empty(),-1)}}function Jq(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=rt.comparator(e.documentKey,t.documentKey),n!==0?n:Ht(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zq="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class eY{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Th(e){if(e.code!==Ce.FAILED_PRECONDITION||e.message!==Zq)throw e;Qe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&mt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new Re((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(t,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(n,s).next(i,r)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof Re?n:Re.resolve(n)}catch(n){return Re.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):Re.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):Re.reject(n)}static resolve(t){return new Re((n,i)=>{n(t)})}static reject(t){return new Re((n,i)=>{i(t)})}static waitFor(t){return new Re((n,i)=>{let r=0,s=0,o=!1;t.forEach(a=>{++r,a.next(()=>{++s,o&&s===r&&n()},l=>i(l))}),o=!0,s===r&&n()})}static or(t){let n=Re.resolve(!1);for(const i of t)n=n.next(r=>r?Re.resolve(r):i());return n}static forEach(t,n){const i=[];return t.forEach((r,s)=>{i.push(n.call(this,r,s))}),this.waitFor(i)}static mapArray(t,n){return new Re((i,r)=>{const s=t.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(t[u]).next(d=>{o[u]=d,++a,a===s&&i(o)},d=>r(d))}})}static doWhile(t,n){return new Re((i,r)=>{const s=()=>{t()===!0?n().next(()=>{s()},r):i()};s()})}}function tY(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ih(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TE{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=i=>this.ie(i),this.se=i=>n.writeSequenceNumber(i))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.se&&this.se(t),t}}TE.oe=-1;function Ap(e){return e==null}function eg(e){return e===0&&1/e==-1/0}function nY(e){return typeof e=="number"&&Number.isInteger(e)&&!eg(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WI(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Kl(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function qM(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(t,n){this.comparator=t,this.root=n||pi.EMPTY}insert(t,n){return new Ln(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,pi.BLACK,null,null))}remove(t){return new Ln(this.comparator,this.root.remove(t,this.comparator).copy(null,null,pi.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(t,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(t){let n=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(r===0)return n+i.left.size;r<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,i)=>(t(n,i),!1))}toString(){const t=[];return this.inorderTraversal((n,i)=>(t.push(`${n}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new kv(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new kv(this.root,t,this.comparator,!1)}getReverseIterator(){return new kv(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new kv(this.root,t,this.comparator,!0)}}class kv{constructor(t,n,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!t.isEmpty();)if(s=n?i(t.key,n):1,n&&r&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(s===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class pi{constructor(t,n,i,r,s){this.key=t,this.value=n,this.color=i??pi.RED,this.left=r??pi.EMPTY,this.right=s??pi.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,i,r,s){return new pi(t??this.key,n??this.value,i??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,i){let r=this;const s=i(t,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(t,n,i),null):s===0?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(t,n,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return pi.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let i,r=this;if(n(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),n(t,r.key)===0){if(r.right.isEmpty())return pi.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,pi.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,pi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw mt();const t=this.left.check();if(t!==this.right.check())throw mt();return t+(this.isRed()?0:1)}}pi.EMPTY=null,pi.RED=!0,pi.BLACK=!1;pi.EMPTY=new class{constructor(){this.size=0}get key(){throw mt()}get value(){throw mt()}get color(){throw mt()}get left(){throw mt()}get right(){throw mt()}copy(t,n,i,r,s){return this}insert(t,n,i){return new pi(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wi{constructor(t){this.comparator=t,this.data=new Ln(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,i)=>(t(n),!1))}forEachInRange(t,n){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;n(r.key)}}forEachWhile(t,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new zI(this.data.getIterator())}getIteratorFrom(t){return new zI(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(i=>{n=n.add(i)}),n}isEqual(t){if(!(t instanceof wi)||this.size!==t.size)return!1;const n=this.data.getIterator(),i=t.data.getIterator();for(;n.hasNext();){const r=n.getNext().key,s=i.getNext().key;if(this.comparator(r,s)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new wi(this.comparator);return n.data=t,n}}class zI{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br{constructor(t){this.fields=t,t.sort(bi.comparator)}static empty(){return new br([])}unionWith(t){let n=new wi(bi.comparator);for(const i of this.fields)n=n.add(i);for(const i of t)n=n.add(i);return new br(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return dc(this.fields,t.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YM extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ei{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(r){try{return atob(r)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new YM("Invalid base64 string: "+s):s}}(t);return new Ei(n)}static fromUint8Array(t){const n=function(r){let s="";for(let o=0;o<r.length;++o)s+=String.fromCharCode(r[o]);return s}(t);return new Ei(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let r=0;r<n.length;r++)i[r]=n.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Ht(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ei.EMPTY_BYTE_STRING=new Ei("");const iY=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function pa(e){if(dn(!!e),typeof e=="string"){let t=0;const n=iY.exec(e);if(dn(!!n),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}const i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Wn(e.seconds),nanos:Wn(e.nanos)}}function Wn(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function Vl(e){return typeof e=="string"?Ei.fromBase64String(e):Ei.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IE(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function AE(e){const t=e.mapValue.fields.__previous_value__;return IE(t)?AE(t):t}function If(e){const t=pa(e.mapValue.fields.__local_write_time__.timestampValue);return new St(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rY{constructor(t,n,i,r,s,o,a,l,u){this.databaseId=t,this.appId=n,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class Af{constructor(t,n){this.projectId=t,this.database=n||"(default)"}static empty(){return new Af("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(t){return t instanceof Af&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tv={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Nl(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?IE(e)?4:oY(e)?9007199254740991:sY(e)?10:11:mt()}function Vs(e,t){if(e===t)return!0;const n=Nl(e);if(n!==Nl(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return If(e).isEqual(If(t));case 3:return function(r,s){if(typeof r.timestampValue=="string"&&typeof s.timestampValue=="string"&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;const o=pa(r.timestampValue),a=pa(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(r,s){return Vl(r.bytesValue).isEqual(Vl(s.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(r,s){return Wn(r.geoPointValue.latitude)===Wn(s.geoPointValue.latitude)&&Wn(r.geoPointValue.longitude)===Wn(s.geoPointValue.longitude)}(e,t);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return Wn(r.integerValue)===Wn(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){const o=Wn(r.doubleValue),a=Wn(s.doubleValue);return o===a?eg(o)===eg(a):isNaN(o)&&isNaN(a)}return!1}(e,t);case 9:return dc(e.arrayValue.values||[],t.arrayValue.values||[],Vs);case 10:case 11:return function(r,s){const o=r.mapValue.fields||{},a=s.mapValue.fields||{};if(WI(o)!==WI(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Vs(o[l],a[l])))return!1;return!0}(e,t);default:return mt()}}function Pf(e,t){return(e.values||[]).find(n=>Vs(n,t))!==void 0}function fc(e,t){if(e===t)return 0;const n=Nl(e),i=Nl(t);if(n!==i)return Ht(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ht(e.booleanValue,t.booleanValue);case 2:return function(s,o){const a=Wn(s.integerValue||s.doubleValue),l=Wn(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(e,t);case 3:return GI(e.timestampValue,t.timestampValue);case 4:return GI(If(e),If(t));case 5:return Ht(e.stringValue,t.stringValue);case 6:return function(s,o){const a=Vl(s),l=Vl(o);return a.compareTo(l)}(e.bytesValue,t.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const d=Ht(a[u],l[u]);if(d!==0)return d}return Ht(a.length,l.length)}(e.referenceValue,t.referenceValue);case 8:return function(s,o){const a=Ht(Wn(s.latitude),Wn(o.latitude));return a!==0?a:Ht(Wn(s.longitude),Wn(o.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return qI(e.arrayValue,t.arrayValue);case 10:return function(s,o){var a,l,u,d;const c=s.fields||{},f=o.fields||{},v=(a=c.value)===null||a===void 0?void 0:a.arrayValue,m=(l=f.value)===null||l===void 0?void 0:l.arrayValue,p=Ht(((u=v==null?void 0:v.values)===null||u===void 0?void 0:u.length)||0,((d=m==null?void 0:m.values)===null||d===void 0?void 0:d.length)||0);return p!==0?p:qI(v,m)}(e.mapValue,t.mapValue);case 11:return function(s,o){if(s===Tv.mapValue&&o===Tv.mapValue)return 0;if(s===Tv.mapValue)return 1;if(o===Tv.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),u=o.fields||{},d=Object.keys(u);l.sort(),d.sort();for(let c=0;c<l.length&&c<d.length;++c){const f=Ht(l[c],d[c]);if(f!==0)return f;const v=fc(a[l[c]],u[d[c]]);if(v!==0)return v}return Ht(l.length,d.length)}(e.mapValue,t.mapValue);default:throw mt()}}function GI(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return Ht(e,t);const n=pa(e),i=pa(t),r=Ht(n.seconds,i.seconds);return r!==0?r:Ht(n.nanos,i.nanos)}function qI(e,t){const n=e.values||[],i=t.values||[];for(let r=0;r<n.length&&r<i.length;++r){const s=fc(n[r],i[r]);if(s)return s}return Ht(n.length,i.length)}function hc(e){return l0(e)}function l0(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(n){const i=pa(n);return`time(${i.seconds},${i.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(n){return Vl(n).toBase64()}(e.bytesValue):"referenceValue"in e?function(n){return rt.fromName(n).toString()}(e.referenceValue):"geoPointValue"in e?function(n){return`geo(${n.latitude},${n.longitude})`}(e.geoPointValue):"arrayValue"in e?function(n){let i="[",r=!0;for(const s of n.values||[])r?r=!1:i+=",",i+=l0(s);return i+"]"}(e.arrayValue):"mapValue"in e?function(n){const i=Object.keys(n.fields||{}).sort();let r="{",s=!0;for(const o of i)s?s=!1:r+=",",r+=`${o}:${l0(n.fields[o])}`;return r+"}"}(e.mapValue):mt()}function YI(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function u0(e){return!!e&&"integerValue"in e}function PE(e){return!!e&&"arrayValue"in e}function KI(e){return!!e&&"nullValue"in e}function XI(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function um(e){return!!e&&"mapValue"in e}function sY(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Jd(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Kl(e.mapValue.fields,(n,i)=>t.mapValue.fields[n]=Jd(i)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Jd(e.arrayValue.values[n]);return t}return Object.assign({},e)}function oY(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or{constructor(t){this.value=t}static empty(){return new or({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let i=0;i<t.length-1;++i)if(n=(n.mapValue.fields||{})[t.get(i)],!um(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Jd(n)}setAll(t){let n=bi.emptyPath(),i={},r=[];t.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,i,r),i={},r=[],n=a.popLast()}o?i[a.lastSegment()]=Jd(o):r.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,i,r)}delete(t){const n=this.field(t.popLast());um(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return Vs(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=n.mapValue.fields[t.get(i)];um(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[t.get(i)]=r),n=r}return n.mapValue.fields}applyChanges(t,n,i){Kl(n,(r,s)=>t[r]=s);for(const r of i)delete t[r]}clone(){return new or(Jd(this.value))}}function KM(e){const t=[];return Kl(e.fields,(n,i)=>{const r=new bi([n]);if(um(i)){const s=KM(i.mapValue).fields;if(s.length===0)t.push(r);else for(const o of s)t.push(r.child(o))}else t.push(r)}),new br(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi{constructor(t,n,i,r,s,o,a){this.key=t,this.documentType=n,this.version=i,this.readTime=r,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(t){return new Mi(t,0,gt.min(),gt.min(),gt.min(),or.empty(),0)}static newFoundDocument(t,n,i,r){return new Mi(t,1,n,gt.min(),i,r,0)}static newNoDocument(t,n){return new Mi(t,2,n,gt.min(),gt.min(),or.empty(),0)}static newUnknownDocument(t,n){return new Mi(t,3,n,gt.min(),gt.min(),or.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(gt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=or.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=or.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=gt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Mi&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Mi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tg{constructor(t,n){this.position=t,this.inclusive=n}}function QI(e,t,n){let i=0;for(let r=0;r<e.position.length;r++){const s=t[r],o=e.position[r];if(s.field.isKeyField()?i=rt.comparator(rt.fromName(o.referenceValue),n.key):i=fc(o,n.data.field(s.field)),s.dir==="desc"&&(i*=-1),i!==0)break}return i}function JI(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Vs(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xf{constructor(t,n="asc"){this.field=t,this.dir=n}}function aY(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XM{}class Qn extends XM{constructor(t,n,i){super(),this.field=t,this.op=n,this.value=i}static create(t,n,i){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,i):new uY(t,n,i):n==="array-contains"?new fY(t,i):n==="in"?new hY(t,i):n==="not-in"?new vY(t,i):n==="array-contains-any"?new mY(t,i):new Qn(t,n,i)}static createKeyFieldInFilter(t,n,i){return n==="in"?new cY(t,i):new dY(t,i)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(fc(n,this.value)):n!==null&&Nl(this.value)===Nl(n)&&this.matchesComparison(fc(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return mt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class as extends XM{constructor(t,n){super(),this.filters=t,this.op=n,this.ae=null}static create(t,n){return new as(t,n)}matches(t){return QM(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function QM(e){return e.op==="and"}function JM(e){return lY(e)&&QM(e)}function lY(e){for(const t of e.filters)if(t instanceof as)return!1;return!0}function c0(e){if(e instanceof Qn)return e.field.canonicalString()+e.op.toString()+hc(e.value);if(JM(e))return e.filters.map(t=>c0(t)).join(",");{const t=e.filters.map(n=>c0(n)).join(",");return`${e.op}(${t})`}}function ZM(e,t){return e instanceof Qn?function(i,r){return r instanceof Qn&&i.op===r.op&&i.field.isEqual(r.field)&&Vs(i.value,r.value)}(e,t):e instanceof as?function(i,r){return r instanceof as&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce((s,o,a)=>s&&ZM(o,r.filters[a]),!0):!1}(e,t):void mt()}function e2(e){return e instanceof Qn?function(n){return`${n.field.canonicalString()} ${n.op} ${hc(n.value)}`}(e):e instanceof as?function(n){return n.op.toString()+" {"+n.getFilters().map(e2).join(" ,")+"}"}(e):"Filter"}class uY extends Qn{constructor(t,n,i){super(t,n,i),this.key=rt.fromName(i.referenceValue)}matches(t){const n=rt.comparator(t.key,this.key);return this.matchesComparison(n)}}class cY extends Qn{constructor(t,n){super(t,"in",n),this.keys=t2("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class dY extends Qn{constructor(t,n){super(t,"not-in",n),this.keys=t2("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function t2(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>rt.fromName(i.referenceValue))}class fY extends Qn{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return PE(n)&&Pf(n.arrayValue,this.value)}}class hY extends Qn{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Pf(this.value.arrayValue,n)}}class vY extends Qn{constructor(t,n){super(t,"not-in",n)}matches(t){if(Pf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&!Pf(this.value.arrayValue,n)}}class mY extends Qn{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!PE(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>Pf(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gY{constructor(t,n=null,i=[],r=[],s=null,o=null,a=null){this.path=t,this.collectionGroup=n,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}}function ZI(e,t=null,n=[],i=[],r=null,s=null,o=null){return new gY(e,t,n,i,r,s,o)}function xE(e){const t=_t(e);if(t.ue===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(i=>c0(i)).join(","),n+="|ob:",n+=t.orderBy.map(i=>function(s){return s.field.canonicalString()+s.dir}(i)).join(","),Ap(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(i=>hc(i)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(i=>hc(i)).join(",")),t.ue=n}return t.ue}function DE(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!aY(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!ZM(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!JI(e.startAt,t.startAt)&&JI(e.endAt,t.endAt)}function d0(e){return rt.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $c{constructor(t,n=null,i=[],r=[],s=null,o="F",a=null,l=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function pY(e,t,n,i,r,s,o,a){return new $c(e,t,n,i,r,s,o,a)}function Pp(e){return new $c(e)}function eA(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function n2(e){return e.collectionGroup!==null}function Zd(e){const t=_t(e);if(t.ce===null){t.ce=[];const n=new Set;for(const s of t.explicitOrderBy)t.ce.push(s),n.add(s.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new wi(bi.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(t).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||t.ce.push(new xf(s,i))}),n.has(bi.keyField().canonicalString())||t.ce.push(new xf(bi.keyField(),i))}return t.ce}function Ts(e){const t=_t(e);return t.le||(t.le=_Y(t,Zd(e))),t.le}function _Y(e,t){if(e.limitType==="F")return ZI(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(r=>{const s=r.dir==="desc"?"asc":"desc";return new xf(r.field,s)});const n=e.endAt?new tg(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new tg(e.startAt.position,e.startAt.inclusive):null;return ZI(e.path,e.collectionGroup,t,e.filters,e.limit,n,i)}}function f0(e,t){const n=e.filters.concat([t]);return new $c(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function h0(e,t,n){return new $c(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function xp(e,t){return DE(Ts(e),Ts(t))&&e.limitType===t.limitType}function i2(e){return`${xE(Ts(e))}|lt:${e.limitType}`}function Pu(e){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(r=>e2(r)).join(", ")}]`),Ap(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(r=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(r)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(r=>hc(r)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(r=>hc(r)).join(",")),`Target(${i})`}(Ts(e))}; limitType=${e.limitType})`}function Dp(e,t){return t.isFoundDocument()&&function(i,r){const s=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(s):rt.isDocumentKey(i.path)?i.path.isEqual(s):i.path.isImmediateParentOf(s)}(e,t)&&function(i,r){for(const s of Zd(i))if(!s.field.isKeyField()&&r.data.field(s.field)===null)return!1;return!0}(e,t)&&function(i,r){for(const s of i.filters)if(!s.matches(r))return!1;return!0}(e,t)&&function(i,r){return!(i.startAt&&!function(o,a,l){const u=QI(o,a,l);return o.inclusive?u<=0:u<0}(i.startAt,Zd(i),r)||i.endAt&&!function(o,a,l){const u=QI(o,a,l);return o.inclusive?u>=0:u>0}(i.endAt,Zd(i),r))}(e,t)}function yY(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function r2(e){return(t,n)=>{let i=!1;for(const r of Zd(e)){const s=bY(r,t,n);if(s!==0)return s;i=i||r.field.isKeyField()}return 0}}function bY(e,t,n){const i=e.field.isKeyField()?rt.comparator(t.key,n.key):function(s,o,a){const l=o.data.field(s),u=a.data.field(s);return l!==null&&u!==null?fc(l,u):mt()}(e.field,t,n);switch(e.dir){case"asc":return i;case"desc":return-1*i;default:return mt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bc{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),i=this.inner[n];if(i!==void 0){for(const[r,s]of i)if(this.equalsFn(r,t))return s}}has(t){return this.get(t)!==void 0}set(t,n){const i=this.mapKeyFn(t),r=this.inner[i];if(r===void 0)return this.inner[i]=[[t,n]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],t))return void(r[s]=[t,n]);r.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),i=this.inner[n];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return i.length===1?delete this.inner[n]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(t){Kl(this.inner,(n,i)=>{for(const[r,s]of i)t(r,s)})}isEmpty(){return qM(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wY=new Ln(rt.comparator);function So(){return wY}const s2=new Ln(rt.comparator);function Od(...e){let t=s2;for(const n of e)t=t.insert(n.key,n);return t}function o2(e){let t=s2;return e.forEach((n,i)=>t=t.insert(n,i.overlayedDocument)),t}function ll(){return ef()}function a2(){return ef()}function ef(){return new Bc(e=>e.toString(),(e,t)=>e.isEqual(t))}const SY=new Ln(rt.comparator),EY=new wi(rt.comparator);function xt(...e){let t=EY;for(const n of e)t=t.add(n);return t}const CY=new wi(Ht);function kY(){return CY}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RE(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:eg(t)?"-0":t}}function l2(e){return{integerValue:""+e}}function TY(e,t){return nY(t)?l2(t):RE(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rp{constructor(){this._=void 0}}function IY(e,t,n){return e instanceof ng?function(r,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&IE(s)&&(s=AE(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,t):e instanceof Df?c2(e,t):e instanceof Rf?d2(e,t):function(r,s){const o=u2(r,s),a=tA(o)+tA(r.Pe);return u0(o)&&u0(r.Pe)?l2(a):RE(r.serializer,a)}(e,t)}function AY(e,t,n){return e instanceof Df?c2(e,t):e instanceof Rf?d2(e,t):n}function u2(e,t){return e instanceof ig?function(i){return u0(i)||function(s){return!!s&&"doubleValue"in s}(i)}(t)?t:{integerValue:0}:null}class ng extends Rp{}class Df extends Rp{constructor(t){super(),this.elements=t}}function c2(e,t){const n=f2(t);for(const i of e.elements)n.some(r=>Vs(r,i))||n.push(i);return{arrayValue:{values:n}}}class Rf extends Rp{constructor(t){super(),this.elements=t}}function d2(e,t){let n=f2(t);for(const i of e.elements)n=n.filter(r=>!Vs(r,i));return{arrayValue:{values:n}}}class ig extends Rp{constructor(t,n){super(),this.serializer=t,this.Pe=n}}function tA(e){return Wn(e.integerValue||e.doubleValue)}function f2(e){return PE(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}function PY(e,t){return e.field.isEqual(t.field)&&function(i,r){return i instanceof Df&&r instanceof Df||i instanceof Rf&&r instanceof Rf?dc(i.elements,r.elements,Vs):i instanceof ig&&r instanceof ig?Vs(i.Pe,r.Pe):i instanceof ng&&r instanceof ng}(e.transform,t.transform)}class xY{constructor(t,n){this.version=t,this.transformResults=n}}class lr{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new lr}static exists(t){return new lr(void 0,t)}static updateTime(t){return new lr(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function cm(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class Op{}function h2(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new Vp(e.key,lr.none()):new Ah(e.key,e.data,lr.none());{const n=e.data,i=or.empty();let r=new wi(bi.comparator);for(let s of t.fields)if(!r.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?i.delete(s):i.set(s,o),r=r.add(s)}return new Oa(e.key,i,new br(r.toArray()),lr.none())}}function DY(e,t,n){e instanceof Ah?function(r,s,o){const a=r.value.clone(),l=iA(r.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(e,t,n):e instanceof Oa?function(r,s,o){if(!cm(r.precondition,s))return void s.convertToUnknownDocument(o.version);const a=iA(r.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(v2(r)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(e,t,n):function(r,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,t,n)}function tf(e,t,n,i){return e instanceof Ah?function(s,o,a,l){if(!cm(s.precondition,o))return a;const u=s.value.clone(),d=rA(s.fieldTransforms,l,o);return u.setAll(d),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(e,t,n,i):e instanceof Oa?function(s,o,a,l){if(!cm(s.precondition,o))return a;const u=rA(s.fieldTransforms,l,o),d=o.data;return d.setAll(v2(s)),d.setAll(u),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(c=>c.field))}(e,t,n,i):function(s,o,a){return cm(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(e,t,n)}function RY(e,t){let n=null;for(const i of e.fieldTransforms){const r=t.data.field(i.field),s=u2(i.transform,r||null);s!=null&&(n===null&&(n=or.empty()),n.set(i.field,s))}return n||null}function nA(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&dc(i,r,(s,o)=>PY(s,o))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Ah extends Op{constructor(t,n,i,r=[]){super(),this.key=t,this.value=n,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Oa extends Op{constructor(t,n,i,r,s=[]){super(),this.key=t,this.data=n,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function v2(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=e.data.field(n);t.set(n,i)}}),t}function iA(e,t,n){const i=new Map;dn(e.length===n.length);for(let r=0;r<n.length;r++){const s=e[r],o=s.transform,a=t.data.field(s.field);i.set(s.field,AY(o,a,n[r]))}return i}function rA(e,t,n){const i=new Map;for(const r of e){const s=r.transform,o=n.data.field(r.field);i.set(r.field,IY(s,o,t))}return i}class Vp extends Op{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class OY extends Op{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VY{constructor(t,n,i,r){this.batchId=t,this.localWriteTime=n,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,n){const i=n.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(t.key)&&DY(s,t,i[r])}}applyToLocalView(t,n){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(n=tf(i,t,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(n=tf(i,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const i=a2();return this.mutations.forEach(r=>{const s=t.get(r.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(r.key)?null:a;const l=h2(o,a);l!==null&&i.set(r.key,l),o.isValidDocument()||o.convertToNoDocument(gt.min())}),i}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),xt())}isEqual(t){return this.batchId===t.batchId&&dc(this.mutations,t.mutations,(n,i)=>nA(n,i))&&dc(this.baseMutations,t.baseMutations,(n,i)=>nA(n,i))}}class OE{constructor(t,n,i,r){this.batch=t,this.commitVersion=n,this.mutationResults=i,this.docVersions=r}static from(t,n,i){dn(t.mutations.length===i.length);let r=function(){return SY}();const s=t.mutations;for(let o=0;o<s.length;o++)r=r.insert(s[o].key,i[o].version);return new OE(t,n,i,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NY{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MY{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Kn,Vt;function LY(e){switch(e){default:return mt();case Ce.CANCELLED:case Ce.UNKNOWN:case Ce.DEADLINE_EXCEEDED:case Ce.RESOURCE_EXHAUSTED:case Ce.INTERNAL:case Ce.UNAVAILABLE:case Ce.UNAUTHENTICATED:return!1;case Ce.INVALID_ARGUMENT:case Ce.NOT_FOUND:case Ce.ALREADY_EXISTS:case Ce.PERMISSION_DENIED:case Ce.FAILED_PRECONDITION:case Ce.ABORTED:case Ce.OUT_OF_RANGE:case Ce.UNIMPLEMENTED:case Ce.DATA_LOSS:return!0}}function m2(e){if(e===void 0)return wo("GRPC error has no .code"),Ce.UNKNOWN;switch(e){case Kn.OK:return Ce.OK;case Kn.CANCELLED:return Ce.CANCELLED;case Kn.UNKNOWN:return Ce.UNKNOWN;case Kn.DEADLINE_EXCEEDED:return Ce.DEADLINE_EXCEEDED;case Kn.RESOURCE_EXHAUSTED:return Ce.RESOURCE_EXHAUSTED;case Kn.INTERNAL:return Ce.INTERNAL;case Kn.UNAVAILABLE:return Ce.UNAVAILABLE;case Kn.UNAUTHENTICATED:return Ce.UNAUTHENTICATED;case Kn.INVALID_ARGUMENT:return Ce.INVALID_ARGUMENT;case Kn.NOT_FOUND:return Ce.NOT_FOUND;case Kn.ALREADY_EXISTS:return Ce.ALREADY_EXISTS;case Kn.PERMISSION_DENIED:return Ce.PERMISSION_DENIED;case Kn.FAILED_PRECONDITION:return Ce.FAILED_PRECONDITION;case Kn.ABORTED:return Ce.ABORTED;case Kn.OUT_OF_RANGE:return Ce.OUT_OF_RANGE;case Kn.UNIMPLEMENTED:return Ce.UNIMPLEMENTED;case Kn.DATA_LOSS:return Ce.DATA_LOSS;default:return mt()}}(Vt=Kn||(Kn={}))[Vt.OK=0]="OK",Vt[Vt.CANCELLED=1]="CANCELLED",Vt[Vt.UNKNOWN=2]="UNKNOWN",Vt[Vt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Vt[Vt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Vt[Vt.NOT_FOUND=5]="NOT_FOUND",Vt[Vt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Vt[Vt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Vt[Vt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Vt[Vt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Vt[Vt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Vt[Vt.ABORTED=10]="ABORTED",Vt[Vt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Vt[Vt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Vt[Vt.INTERNAL=13]="INTERNAL",Vt[Vt.UNAVAILABLE=14]="UNAVAILABLE",Vt[Vt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FY(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $Y=new gl([4294967295,4294967295],0);function sA(e){const t=FY().encode(e),n=new FM;return n.update(t),new Uint8Array(n.digest())}function oA(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),i=t.getUint32(4,!0),r=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new gl([n,i],0),new gl([r,s],0)]}class VE{constructor(t,n,i){if(this.bitmap=t,this.padding=n,this.hashCount=i,n<0||n>=8)throw new Vd(`Invalid padding: ${n}`);if(i<0)throw new Vd(`Invalid hash count: ${i}`);if(t.length>0&&this.hashCount===0)throw new Vd(`Invalid hash count: ${i}`);if(t.length===0&&n!==0)throw new Vd(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*t.length-n,this.Te=gl.fromNumber(this.Ie)}Ee(t,n,i){let r=t.add(n.multiply(gl.fromNumber(i)));return r.compare($Y)===1&&(r=new gl([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Te).toNumber()}de(t){return(this.bitmap[Math.floor(t/8)]&1<<t%8)!=0}mightContain(t){if(this.Ie===0)return!1;const n=sA(t),[i,r]=oA(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(i,r,s);if(!this.de(o))return!1}return!0}static create(t,n,i){const r=t%8==0?0:8-t%8,s=new Uint8Array(Math.ceil(t/8)),o=new VE(s,r,n);return i.forEach(a=>o.insert(a)),o}insert(t){if(this.Ie===0)return;const n=sA(t),[i,r]=oA(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(i,r,s);this.Ae(o)}}Ae(t){const n=Math.floor(t/8),i=t%8;this.bitmap[n]|=1<<i}}class Vd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Np{constructor(t,n,i,r,s){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(t,n,i){const r=new Map;return r.set(t,Ph.createSynthesizedTargetChangeForCurrentChange(t,n,i)),new Np(gt.min(),r,new Ln(Ht),So(),xt())}}class Ph{constructor(t,n,i,r,s){this.resumeToken=t,this.current=n,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(t,n,i){return new Ph(i,n,xt(),xt(),xt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dm{constructor(t,n,i,r){this.Re=t,this.removedTargetIds=n,this.key=i,this.Ve=r}}class g2{constructor(t,n){this.targetId=t,this.me=n}}class p2{constructor(t,n,i=Ei.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=n,this.resumeToken=i,this.cause=r}}class aA{constructor(){this.fe=0,this.ge=uA(),this.pe=Ei.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(t){t.approximateByteSize()>0&&(this.we=!0,this.pe=t)}ve(){let t=xt(),n=xt(),i=xt();return this.ge.forEach((r,s)=>{switch(s){case 0:t=t.add(r);break;case 2:n=n.add(r);break;case 1:i=i.add(r);break;default:mt()}}),new Ph(this.pe,this.ye,t,n,i)}Ce(){this.we=!1,this.ge=uA()}Fe(t,n){this.we=!0,this.ge=this.ge.insert(t,n)}Me(t){this.we=!0,this.ge=this.ge.remove(t)}xe(){this.fe+=1}Oe(){this.fe-=1,dn(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class BY{constructor(t){this.Le=t,this.Be=new Map,this.ke=So(),this.qe=lA(),this.Qe=new Ln(Ht)}Ke(t){for(const n of t.Re)t.Ve&&t.Ve.isFoundDocument()?this.$e(n,t.Ve):this.Ue(n,t.key,t.Ve);for(const n of t.removedTargetIds)this.Ue(n,t.key,t.Ve)}We(t){this.forEachTarget(t,n=>{const i=this.Ge(n);switch(t.state){case 0:this.ze(n)&&i.De(t.resumeToken);break;case 1:i.Oe(),i.Se||i.Ce(),i.De(t.resumeToken);break;case 2:i.Oe(),i.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(i.Ne(),i.De(t.resumeToken));break;case 4:this.ze(n)&&(this.je(n),i.De(t.resumeToken));break;default:mt()}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.Be.forEach((i,r)=>{this.ze(r)&&n(r)})}He(t){const n=t.targetId,i=t.me.count,r=this.Je(n);if(r){const s=r.target;if(d0(s))if(i===0){const o=new rt(s.path);this.Ue(n,o,Mi.newNoDocument(o,gt.min()))}else dn(i===1);else{const o=this.Ye(n);if(o!==i){const a=this.Ze(t),l=a?this.Xe(a,t,o):1;if(l!==0){this.je(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,u)}}}}}Ze(t){const n=t.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:s=0}=n;let o,a;try{o=Vl(i).toUint8Array()}catch(l){if(l instanceof YM)return cc("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new VE(o,r,s)}catch(l){return cc(l instanceof Vd?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(t,n,i){return n.me.count===i-this.nt(t,n.targetId)?0:2}nt(t,n){const i=this.Le.getRemoteKeysForTarget(n);let r=0;return i.forEach(s=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;t.mightContain(a)||(this.Ue(n,s,null),r++)}),r}rt(t){const n=new Map;this.Be.forEach((s,o)=>{const a=this.Je(o);if(a){if(s.current&&d0(a.target)){const l=new rt(a.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,Mi.newNoDocument(l,t))}s.be&&(n.set(o,s.ve()),s.Ce())}});let i=xt();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.Je(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(i=i.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(t));const r=new Np(t,n,this.Qe,this.ke,i);return this.ke=So(),this.qe=lA(),this.Qe=new Ln(Ht),r}$e(t,n){if(!this.ze(t))return;const i=this.it(t,n.key)?2:0;this.Ge(t).Fe(n.key,i),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(t))}Ue(t,n,i){if(!this.ze(t))return;const r=this.Ge(t);this.it(t,n)?r.Fe(n,1):r.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(t)),i&&(this.ke=this.ke.insert(n,i))}removeTarget(t){this.Be.delete(t)}Ye(t){const n=this.Ge(t).ve();return this.Le.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}xe(t){this.Ge(t).xe()}Ge(t){let n=this.Be.get(t);return n||(n=new aA,this.Be.set(t,n)),n}st(t){let n=this.qe.get(t);return n||(n=new wi(Ht),this.qe=this.qe.insert(t,n)),n}ze(t){const n=this.Je(t)!==null;return n||Qe("WatchChangeAggregator","Detected inactive target",t),n}Je(t){const n=this.Be.get(t);return n&&n.Se?null:this.Le.ot(t)}je(t){this.Be.set(t,new aA),this.Le.getRemoteKeysForTarget(t).forEach(n=>{this.Ue(t,n,null)})}it(t,n){return this.Le.getRemoteKeysForTarget(t).has(n)}}function lA(){return new Ln(rt.comparator)}function uA(){return new Ln(rt.comparator)}const UY={asc:"ASCENDING",desc:"DESCENDING"},jY={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},HY={and:"AND",or:"OR"};class WY{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function v0(e,t){return e.useProto3Json||Ap(t)?t:{value:t}}function rg(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function _2(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function zY(e,t){return rg(e,t.toTimestamp())}function Is(e){return dn(!!e),gt.fromTimestamp(function(n){const i=pa(n);return new St(i.seconds,i.nanos)}(e))}function NE(e,t){return m0(e,t).canonicalString()}function m0(e,t){const n=function(r){return new kn(["projects",r.projectId,"databases",r.database])}(e).child("documents");return t===void 0?n:n.child(t)}function y2(e){const t=kn.fromString(e);return dn(C2(t)),t}function g0(e,t){return NE(e.databaseId,t.path)}function Vy(e,t){const n=y2(t);if(n.get(1)!==e.databaseId.projectId)throw new We(Ce.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new We(Ce.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new rt(w2(n))}function b2(e,t){return NE(e.databaseId,t)}function GY(e){const t=y2(e);return t.length===4?kn.emptyPath():w2(t)}function p0(e){return new kn(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function w2(e){return dn(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function cA(e,t,n){return{name:g0(e,t),fields:n.value.mapValue.fields}}function qY(e,t){let n;if("targetChange"in t){t.targetChange;const i=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:mt()}(t.targetChange.targetChangeType||"NO_CHANGE"),r=t.targetChange.targetIds||[],s=function(u,d){return u.useProto3Json?(dn(d===void 0||typeof d=="string"),Ei.fromBase64String(d||"")):(dn(d===void 0||d instanceof Buffer||d instanceof Uint8Array),Ei.fromUint8Array(d||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,a=o&&function(u){const d=u.code===void 0?Ce.UNKNOWN:m2(u.code);return new We(d,u.message||"")}(o);n=new p2(i,r,s,a||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const r=Vy(e,i.document.name),s=Is(i.document.updateTime),o=i.document.createTime?Is(i.document.createTime):gt.min(),a=new or({mapValue:{fields:i.document.fields}}),l=Mi.newFoundDocument(r,s,o,a),u=i.targetIds||[],d=i.removedTargetIds||[];n=new dm(u,d,l.key,l)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const r=Vy(e,i.document),s=i.readTime?Is(i.readTime):gt.min(),o=Mi.newNoDocument(r,s),a=i.removedTargetIds||[];n=new dm([],a,o.key,o)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const r=Vy(e,i.document),s=i.removedTargetIds||[];n=new dm([],s,r,null)}else{if(!("filter"in t))return mt();{t.filter;const i=t.filter;i.targetId;const{count:r=0,unchangedNames:s}=i,o=new MY(r,s),a=i.targetId;n=new g2(a,o)}}return n}function YY(e,t){let n;if(t instanceof Ah)n={update:cA(e,t.key,t.value)};else if(t instanceof Vp)n={delete:g0(e,t.key)};else if(t instanceof Oa)n={update:cA(e,t.key,t.data),updateMask:iK(t.fieldMask)};else{if(!(t instanceof OY))return mt();n={verify:g0(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(i=>function(s,o){const a=o.transform;if(a instanceof ng)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Df)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Rf)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof ig)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw mt()}(0,i))),t.precondition.isNone||(n.currentDocument=function(r,s){return s.updateTime!==void 0?{updateTime:zY(r,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:mt()}(e,t.precondition)),n}function KY(e,t){return e&&e.length>0?(dn(t!==void 0),e.map(n=>function(r,s){let o=r.updateTime?Is(r.updateTime):Is(s);return o.isEqual(gt.min())&&(o=Is(s)),new xY(o,r.transformResults||[])}(n,t))):[]}function XY(e,t){return{documents:[b2(e,t.path)]}}function QY(e,t){const n={structuredQuery:{}},i=t.path;let r;t.collectionGroup!==null?(r=i,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(r=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=b2(e,r);const s=function(u){if(u.length!==0)return E2(as.create(u,"and"))}(t.filters);s&&(n.structuredQuery.where=s);const o=function(u){if(u.length!==0)return u.map(d=>function(f){return{field:xu(f.field),direction:eK(f.dir)}}(d))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);const a=v0(e,t.limit);return a!==null&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(t.endAt)),{_t:n,parent:r}}function JY(e){let t=GY(e.parent);const n=e.structuredQuery,i=n.from?n.from.length:0;let r=null;if(i>0){dn(i===1);const d=n.from[0];d.allDescendants?r=d.collectionId:t=t.child(d.collectionId)}let s=[];n.where&&(s=function(c){const f=S2(c);return f instanceof as&&JM(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=function(c){return c.map(f=>function(m){return new xf(Du(m.field),function(_){switch(_){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(m.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(c){let f;return f=typeof c=="object"?c.value:c,Ap(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(c){const f=!!c.before,v=c.values||[];return new tg(v,f)}(n.startAt));let u=null;return n.endAt&&(u=function(c){const f=!c.before,v=c.values||[];return new tg(v,f)}(n.endAt)),pY(t,r,o,s,a,"F",l,u)}function ZY(e,t){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return mt()}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function S2(e){return e.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=Du(n.unaryFilter.field);return Qn.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=Du(n.unaryFilter.field);return Qn.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Du(n.unaryFilter.field);return Qn.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Du(n.unaryFilter.field);return Qn.create(o,"!=",{nullValue:"NULL_VALUE"});default:return mt()}}(e):e.fieldFilter!==void 0?function(n){return Qn.create(Du(n.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return mt()}}(n.fieldFilter.op),n.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(n){return as.create(n.compositeFilter.filters.map(i=>S2(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return mt()}}(n.compositeFilter.op))}(e):mt()}function eK(e){return UY[e]}function tK(e){return jY[e]}function nK(e){return HY[e]}function xu(e){return{fieldPath:e.canonicalString()}}function Du(e){return bi.fromServerFormat(e.fieldPath)}function E2(e){return e instanceof Qn?function(n){if(n.op==="=="){if(XI(n.value))return{unaryFilter:{field:xu(n.field),op:"IS_NAN"}};if(KI(n.value))return{unaryFilter:{field:xu(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(XI(n.value))return{unaryFilter:{field:xu(n.field),op:"IS_NOT_NAN"}};if(KI(n.value))return{unaryFilter:{field:xu(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:xu(n.field),op:tK(n.op),value:n.value}}}(e):e instanceof as?function(n){const i=n.getFilters().map(r=>E2(r));return i.length===1?i[0]:{compositeFilter:{op:nK(n.op),filters:i}}}(e):mt()}function iK(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function C2(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na{constructor(t,n,i,r,s=gt.min(),o=gt.min(),a=Ei.EMPTY_BYTE_STRING,l=null){this.target=t,this.targetId=n,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(t){return new na(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new na(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new na(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new na(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rK{constructor(t){this.ct=t}}function sK(e){const t=JY({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?h0(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oK{constructor(){this.un=new aK}addToCollectionParentIndex(t,n){return this.un.add(n),Re.resolve()}getCollectionParents(t,n){return Re.resolve(this.un.getEntries(n))}addFieldIndex(t,n){return Re.resolve()}deleteFieldIndex(t,n){return Re.resolve()}deleteAllFieldIndexes(t){return Re.resolve()}createTargetIndexes(t,n){return Re.resolve()}getDocumentsMatchingTarget(t,n){return Re.resolve(null)}getIndexType(t,n){return Re.resolve(0)}getFieldIndexes(t,n){return Re.resolve([])}getNextCollectionGroupToUpdate(t){return Re.resolve(null)}getMinOffset(t,n){return Re.resolve(ga.min())}getMinOffsetFromCollectionGroup(t,n){return Re.resolve(ga.min())}updateCollectionGroup(t,n,i){return Re.resolve()}updateIndexEntries(t,n){return Re.resolve()}}class aK{constructor(){this.index={}}add(t){const n=t.lastSegment(),i=t.popLast(),r=this.index[n]||new wi(kn.comparator),s=!r.has(i);return this.index[n]=r.add(i),s}has(t){const n=t.lastSegment(),i=t.popLast(),r=this.index[n];return r&&r.has(i)}getEntries(t){return(this.index[t]||new wi(kn.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc{constructor(t){this.Ln=t}next(){return this.Ln+=2,this.Ln}static Bn(){return new vc(0)}static kn(){return new vc(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lK{constructor(){this.changes=new Bc(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,Mi.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?Re.resolve(i):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uK{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cK{constructor(t,n,i,r){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=r}getDocument(t,n){let i=null;return this.documentOverlayCache.getOverlay(t,n).next(r=>(i=r,this.remoteDocumentCache.getEntry(t,n))).next(r=>(i!==null&&tf(i.mutation,r,br.empty(),St.now()),r))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(i=>this.getLocalViewOfDocuments(t,i,xt()).next(()=>i))}getLocalViewOfDocuments(t,n,i=xt()){const r=ll();return this.populateOverlays(t,r,n).next(()=>this.computeViews(t,n,r,i).next(s=>{let o=Od();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(t,n){const i=ll();return this.populateOverlays(t,i,n).next(()=>this.computeViews(t,n,i,xt()))}populateOverlays(t,n,i){const r=[];return i.forEach(s=>{n.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(t,r).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(t,n,i,r){let s=So();const o=ef(),a=function(){return ef()}();return n.forEach((l,u)=>{const d=i.get(u.key);r.has(u.key)&&(d===void 0||d.mutation instanceof Oa)?s=s.insert(u.key,u):d!==void 0?(o.set(u.key,d.mutation.getFieldMask()),tf(d.mutation,u,d.mutation.getFieldMask(),St.now())):o.set(u.key,br.empty())}),this.recalculateAndSaveOverlays(t,s).next(l=>(l.forEach((u,d)=>o.set(u,d)),n.forEach((u,d)=>{var c;return a.set(u,new uK(d,(c=o.get(u))!==null&&c!==void 0?c:null))}),a))}recalculateAndSaveOverlays(t,n){const i=ef();let r=new Ln((o,a)=>o-a),s=xt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let d=i.get(l)||br.empty();d=a.applyToLocalView(u,d),i.set(l,d);const c=(r.get(a.batchId)||xt()).add(l);r=r.insert(a.batchId,c)})}).next(()=>{const o=[],a=r.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,d=l.value,c=a2();d.forEach(f=>{if(!s.has(f)){const v=h2(n.get(f),i.get(f));v!==null&&c.set(f,v),s=s.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(t,u,c))}return Re.waitFor(o)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,n,i,r){return function(o){return rt.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):n2(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,i,r):this.getDocumentsMatchingCollectionQuery(t,n,i,r)}getNextDocuments(t,n,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,i,r).next(s=>{const o=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,i.largestBatchId,r-s.size):Re.resolve(ll());let a=-1,l=s;return o.next(u=>Re.forEach(u,(d,c)=>(a<c.largestBatchId&&(a=c.largestBatchId),s.get(d)?Re.resolve():this.remoteDocumentCache.getEntry(t,d).next(f=>{l=l.insert(d,f)}))).next(()=>this.populateOverlays(t,u,s)).next(()=>this.computeViews(t,l,u,xt())).next(d=>({batchId:a,changes:o2(d)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new rt(n)).next(i=>{let r=Od();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(t,n,i,r){const s=n.collectionGroup;let o=Od();return this.indexManager.getCollectionParents(t,s).next(a=>Re.forEach(a,l=>{const u=function(c,f){return new $c(f,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(t,u,i,r).next(d=>{d.forEach((c,f)=>{o=o.insert(c,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(t,n,i,r){let s;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,i.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,i,s,r))).next(o=>{s.forEach((l,u)=>{const d=u.getKey();o.get(d)===null&&(o=o.insert(d,Mi.newInvalidDocument(d)))});let a=Od();return o.forEach((l,u)=>{const d=s.get(l);d!==void 0&&tf(d.mutation,u,br.empty(),St.now()),Dp(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dK{constructor(t){this.serializer=t,this.hr=new Map,this.Pr=new Map}getBundleMetadata(t,n){return Re.resolve(this.hr.get(n))}saveBundleMetadata(t,n){return this.hr.set(n.id,function(r){return{id:r.id,version:r.version,createTime:Is(r.createTime)}}(n)),Re.resolve()}getNamedQuery(t,n){return Re.resolve(this.Pr.get(n))}saveNamedQuery(t,n){return this.Pr.set(n.name,function(r){return{name:r.name,query:sK(r.bundledQuery),readTime:Is(r.readTime)}}(n)),Re.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fK{constructor(){this.overlays=new Ln(rt.comparator),this.Ir=new Map}getOverlay(t,n){return Re.resolve(this.overlays.get(n))}getOverlays(t,n){const i=ll();return Re.forEach(n,r=>this.getOverlay(t,r).next(s=>{s!==null&&i.set(r,s)})).next(()=>i)}saveOverlays(t,n,i){return i.forEach((r,s)=>{this.ht(t,n,s)}),Re.resolve()}removeOverlaysForBatchId(t,n,i){const r=this.Ir.get(i);return r!==void 0&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(i)),Re.resolve()}getOverlaysForCollection(t,n,i){const r=ll(),s=n.length+1,o=new rt(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>i&&r.set(l.getKey(),l)}return Re.resolve(r)}getOverlaysForCollectionGroup(t,n,i,r){let s=new Ln((u,d)=>u-d);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>i){let d=s.get(u.largestBatchId);d===null&&(d=ll(),s=s.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const a=ll(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,d)=>a.set(u,d)),!(a.size()>=r)););return Re.resolve(a)}ht(t,n,i){const r=this.overlays.get(i.key);if(r!==null){const o=this.Ir.get(r.largestBatchId).delete(i.key);this.Ir.set(r.largestBatchId,o)}this.overlays=this.overlays.insert(i.key,new NY(n,i));let s=this.Ir.get(n);s===void 0&&(s=xt(),this.Ir.set(n,s)),this.Ir.set(n,s.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hK{constructor(){this.sessionToken=Ei.EMPTY_BYTE_STRING}getSessionToken(t){return Re.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,Re.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ME{constructor(){this.Tr=new wi(ai.Er),this.dr=new wi(ai.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(t,n){const i=new ai(t,n);this.Tr=this.Tr.add(i),this.dr=this.dr.add(i)}Rr(t,n){t.forEach(i=>this.addReference(i,n))}removeReference(t,n){this.Vr(new ai(t,n))}mr(t,n){t.forEach(i=>this.removeReference(i,n))}gr(t){const n=new rt(new kn([])),i=new ai(n,t),r=new ai(n,t+1),s=[];return this.dr.forEachInRange([i,r],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(t=>this.Vr(t))}Vr(t){this.Tr=this.Tr.delete(t),this.dr=this.dr.delete(t)}yr(t){const n=new rt(new kn([])),i=new ai(n,t),r=new ai(n,t+1);let s=xt();return this.dr.forEachInRange([i,r],o=>{s=s.add(o.key)}),s}containsKey(t){const n=new ai(t,0),i=this.Tr.firstAfterOrEqual(n);return i!==null&&t.isEqual(i.key)}}class ai{constructor(t,n){this.key=t,this.wr=n}static Er(t,n){return rt.comparator(t.key,n.key)||Ht(t.wr,n.wr)}static Ar(t,n){return Ht(t.wr,n.wr)||rt.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vK{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new wi(ai.Er)}checkEmpty(t){return Re.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,i,r){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new VY(s,n,i,r);this.mutationQueue.push(o);for(const a of r)this.br=this.br.add(new ai(a.key,s)),this.indexManager.addToCollectionParentIndex(t,a.key.path.popLast());return Re.resolve(o)}lookupMutationBatch(t,n){return Re.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(t,n){const i=n+1,r=this.vr(i),s=r<0?0:r;return Re.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return Re.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(t){return Re.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const i=new ai(n,0),r=new ai(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([i,r],o=>{const a=this.Dr(o.wr);s.push(a)}),Re.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(t,n){let i=new wi(Ht);return n.forEach(r=>{const s=new ai(r,0),o=new ai(r,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],a=>{i=i.add(a.wr)})}),Re.resolve(this.Cr(i))}getAllMutationBatchesAffectingQuery(t,n){const i=n.path,r=i.length+1;let s=i;rt.isDocumentKey(s)||(s=s.child(""));const o=new ai(new rt(s),0);let a=new wi(Ht);return this.br.forEachWhile(l=>{const u=l.key.path;return!!i.isPrefixOf(u)&&(u.length===r&&(a=a.add(l.wr)),!0)},o),Re.resolve(this.Cr(a))}Cr(t){const n=[];return t.forEach(i=>{const r=this.Dr(i);r!==null&&n.push(r)}),n}removeMutationBatch(t,n){dn(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let i=this.br;return Re.forEach(n.mutations,r=>{const s=new ai(r.key,n.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this.br=i})}On(t){}containsKey(t,n){const i=new ai(n,0),r=this.br.firstAfterOrEqual(i);return Re.resolve(n.isEqual(r&&r.key))}performConsistencyCheck(t){return this.mutationQueue.length,Re.resolve()}Fr(t,n){return this.vr(t)}vr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Dr(t){const n=this.vr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mK{constructor(t){this.Mr=t,this.docs=function(){return new Ln(rt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const i=n.key,r=this.docs.get(i),s=r?r.size:0,o=this.Mr(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const i=this.docs.get(n);return Re.resolve(i?i.document.mutableCopy():Mi.newInvalidDocument(n))}getEntries(t,n){let i=So();return n.forEach(r=>{const s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():Mi.newInvalidDocument(r))}),Re.resolve(i)}getDocumentsMatchingQuery(t,n,i,r){let s=So();const o=n.path,a=new rt(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:d}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||Jq(Qq(d),i)<=0||(r.has(d.key)||Dp(n,d))&&(s=s.insert(d.key,d.mutableCopy()))}return Re.resolve(s)}getAllFromCollectionGroup(t,n,i,r){mt()}Or(t,n){return Re.forEach(this.docs,i=>n(i))}newChangeBuffer(t){return new gK(this)}getSize(t){return Re.resolve(this.size)}}class gK extends lK{constructor(t){super(),this.cr=t}applyChanges(t){const n=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?n.push(this.cr.addEntry(t,r)):this.cr.removeEntry(i)}),Re.waitFor(n)}getFromCache(t,n){return this.cr.getEntry(t,n)}getAllFromCache(t,n){return this.cr.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pK{constructor(t){this.persistence=t,this.Nr=new Bc(n=>xE(n),DE),this.lastRemoteSnapshotVersion=gt.min(),this.highestTargetId=0,this.Lr=0,this.Br=new ME,this.targetCount=0,this.kr=vc.Bn()}forEachTarget(t,n){return this.Nr.forEach((i,r)=>n(r)),Re.resolve()}getLastRemoteSnapshotVersion(t){return Re.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Re.resolve(this.Lr)}allocateTargetId(t){return this.highestTargetId=this.kr.next(),Re.resolve(this.highestTargetId)}setTargetsMetadata(t,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.Lr&&(this.Lr=n),Re.resolve()}Kn(t){this.Nr.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.kr=new vc(n),this.highestTargetId=n),t.sequenceNumber>this.Lr&&(this.Lr=t.sequenceNumber)}addTargetData(t,n){return this.Kn(n),this.targetCount+=1,Re.resolve()}updateTargetData(t,n){return this.Kn(n),Re.resolve()}removeTargetData(t,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,Re.resolve()}removeTargets(t,n,i){let r=0;const s=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=n&&i.get(a.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(t,a.targetId)),r++)}),Re.waitFor(s).next(()=>r)}getTargetCount(t){return Re.resolve(this.targetCount)}getTargetData(t,n){const i=this.Nr.get(n)||null;return Re.resolve(i)}addMatchingKeys(t,n,i){return this.Br.Rr(n,i),Re.resolve()}removeMatchingKeys(t,n,i){this.Br.mr(n,i);const r=this.persistence.referenceDelegate,s=[];return r&&n.forEach(o=>{s.push(r.markPotentiallyOrphaned(t,o))}),Re.waitFor(s)}removeMatchingKeysForTargetId(t,n){return this.Br.gr(n),Re.resolve()}getMatchingKeysForTargetId(t,n){const i=this.Br.yr(n);return Re.resolve(i)}containsKey(t,n){return Re.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _K{constructor(t,n){this.qr={},this.overlays={},this.Qr=new TE(0),this.Kr=!1,this.Kr=!0,this.$r=new hK,this.referenceDelegate=t(this),this.Ur=new pK(this),this.indexManager=new oK,this.remoteDocumentCache=function(r){return new mK(r)}(i=>this.referenceDelegate.Wr(i)),this.serializer=new rK(n),this.Gr=new dK(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new fK,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let i=this.qr[t.toKey()];return i||(i=new vK(n,this.referenceDelegate),this.qr[t.toKey()]=i),i}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(t,n,i){Qe("MemoryPersistence","Starting transaction:",t);const r=new yK(this.Qr.next());return this.referenceDelegate.zr(),i(r).next(s=>this.referenceDelegate.jr(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Hr(t,n){return Re.or(Object.values(this.qr).map(i=>()=>i.containsKey(t,n)))}}class yK extends eY{constructor(t){super(),this.currentSequenceNumber=t}}class LE{constructor(t){this.persistence=t,this.Jr=new ME,this.Yr=null}static Zr(t){return new LE(t)}get Xr(){if(this.Yr)return this.Yr;throw mt()}addReference(t,n,i){return this.Jr.addReference(i,n),this.Xr.delete(i.toString()),Re.resolve()}removeReference(t,n,i){return this.Jr.removeReference(i,n),this.Xr.add(i.toString()),Re.resolve()}markPotentiallyOrphaned(t,n){return this.Xr.add(n.toString()),Re.resolve()}removeTarget(t,n){this.Jr.gr(n.targetId).forEach(r=>this.Xr.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,n.targetId).next(r=>{r.forEach(s=>this.Xr.add(s.toString()))}).next(()=>i.removeTargetData(t,n))}zr(){this.Yr=new Set}jr(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Re.forEach(this.Xr,i=>{const r=rt.fromPath(i);return this.ei(t,r).next(s=>{s||n.removeEntry(r,gt.min())})}).next(()=>(this.Yr=null,n.apply(t)))}updateLimboDocument(t,n){return this.ei(t,n).next(i=>{i?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(t){return 0}ei(t,n){return Re.or([()=>Re.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Hr(t,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FE{constructor(t,n,i,r){this.targetId=t,this.fromCache=n,this.$i=i,this.Ui=r}static Wi(t,n){let i=xt(),r=xt();for(const s of n.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new FE(t,n.fromCache,i,r)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bK{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wK{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return FH()?8:tY(ji())>0?6:4}()}initialize(t,n){this.Ji=t,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(t,n,i,r){const s={result:null};return this.Yi(t,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(t,n,r,i).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new bK;return this.Xi(t,n,o).next(a=>{if(s.result=a,this.zi)return this.es(t,n,o,a.size)})}).next(()=>s.result)}es(t,n,i,r){return i.documentReadCount<this.ji?(Ed()<=Pt.DEBUG&&Qe("QueryEngine","SDK will not create cache indexes for query:",Pu(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),Re.resolve()):(Ed()<=Pt.DEBUG&&Qe("QueryEngine","Query:",Pu(n),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.Hi*r?(Ed()<=Pt.DEBUG&&Qe("QueryEngine","The SDK decides to create cache indexes for query:",Pu(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ts(n))):Re.resolve())}Yi(t,n){if(eA(n))return Re.resolve(null);let i=Ts(n);return this.indexManager.getIndexType(t,i).next(r=>r===0?null:(n.limit!==null&&r===1&&(n=h0(n,null,"F"),i=Ts(n)),this.indexManager.getDocumentsMatchingTarget(t,i).next(s=>{const o=xt(...s);return this.Ji.getDocuments(t,o).next(a=>this.indexManager.getMinOffset(t,i).next(l=>{const u=this.ts(n,a);return this.ns(n,u,o,l.readTime)?this.Yi(t,h0(n,null,"F")):this.rs(t,u,n,l)}))})))}Zi(t,n,i,r){return eA(n)||r.isEqual(gt.min())?Re.resolve(null):this.Ji.getDocuments(t,i).next(s=>{const o=this.ts(n,s);return this.ns(n,o,i,r)?Re.resolve(null):(Ed()<=Pt.DEBUG&&Qe("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Pu(n)),this.rs(t,o,n,Xq(r,-1)).next(a=>a))})}ts(t,n){let i=new wi(r2(t));return n.forEach((r,s)=>{Dp(t,s)&&(i=i.add(s))}),i}ns(t,n,i,r){if(t.limit===null)return!1;if(i.size!==n.size)return!0;const s=t.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Xi(t,n,i){return Ed()<=Pt.DEBUG&&Qe("QueryEngine","Using full collection scan to execute query:",Pu(n)),this.Ji.getDocumentsMatchingQuery(t,n,ga.min(),i)}rs(t,n,i,r){return this.Ji.getDocumentsMatchingQuery(t,i,r).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SK{constructor(t,n,i,r){this.persistence=t,this.ss=n,this.serializer=r,this.os=new Ln(Ht),this._s=new Bc(s=>xE(s),DE),this.us=new Map,this.cs=t.getRemoteDocumentCache(),this.Ur=t.getTargetCache(),this.Gr=t.getBundleCache(),this.ls(i)}ls(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new cK(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.os))}}function EK(e,t,n,i){return new SK(e,t,n,i)}async function k2(e,t){const n=_t(e);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let r;return n.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,n.ls(t),n.mutationQueue.getAllMutationBatches(i))).next(s=>{const o=[],a=[];let l=xt();for(const u of r){o.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}for(const u of s){a.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(i,l).next(u=>({hs:u,removedBatchIds:o,addedBatchIds:a}))})})}function CK(e,t){const n=_t(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=t.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,l,u,d){const c=u.batch,f=c.keys();let v=Re.resolve();return f.forEach(m=>{v=v.next(()=>d.getEntry(l,m)).next(p=>{const _=u.docVersions.get(m);dn(_!==null),p.version.compareTo(_)<0&&(c.applyToRemoteDocument(p,u),p.isValidDocument()&&(p.setReadTime(u.commitVersion),d.addEntry(p)))})}),v.next(()=>a.mutationQueue.removeMutationBatch(l,c))}(n,i,t,s).next(()=>s.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,r,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(a){let l=xt();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(t))).next(()=>n.localDocuments.getDocuments(i,r))})}function T2(e){const t=_t(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Ur.getLastRemoteSnapshotVersion(n))}function kK(e,t){const n=_t(e),i=t.snapshotVersion;let r=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});r=n.os;const a=[];t.targetChanges.forEach((d,c)=>{const f=r.get(c);if(!f)return;a.push(n.Ur.removeMatchingKeys(s,d.removedDocuments,c).next(()=>n.Ur.addMatchingKeys(s,d.addedDocuments,c)));let v=f.withSequenceNumber(s.currentSequenceNumber);t.targetMismatches.get(c)!==null?v=v.withResumeToken(Ei.EMPTY_BYTE_STRING,gt.min()).withLastLimboFreeSnapshotVersion(gt.min()):d.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(d.resumeToken,i)),r=r.insert(c,v),function(p,_,y){return p.resumeToken.approximateByteSize()===0||_.snapshotVersion.toMicroseconds()-p.snapshotVersion.toMicroseconds()>=3e8?!0:y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0}(f,v,d)&&a.push(n.Ur.updateTargetData(s,v))});let l=So(),u=xt();if(t.documentUpdates.forEach(d=>{t.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))}),a.push(TK(s,o,t.documentUpdates).next(d=>{l=d.Ps,u=d.Is})),!i.isEqual(gt.min())){const d=n.Ur.getLastRemoteSnapshotVersion(s).next(c=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,i));a.push(d)}return Re.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.os=r,s))}function TK(e,t,n){let i=xt(),r=xt();return n.forEach(s=>i=i.add(s)),t.getEntries(e,i).next(s=>{let o=So();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(r=r.add(a)),l.isNoDocument()&&l.version.isEqual(gt.min())?(t.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(t.addEntry(l),o=o.insert(a,l)):Qe("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{Ps:o,Is:r}})}function IK(e,t){const n=_t(e);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(t===void 0&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function AK(e,t){const n=_t(e);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return n.Ur.getTargetData(i,t).next(s=>s?(r=s,Re.resolve(r)):n.Ur.allocateTargetId(i).next(o=>(r=new na(t,o,"TargetPurposeListen",i.currentSequenceNumber),n.Ur.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=n.os.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.os=n.os.insert(i.targetId,i),n._s.set(t,i.targetId)),i})}async function _0(e,t,n){const i=_t(e),r=i.os.get(t),s=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",s,o=>i.persistence.referenceDelegate.removeTarget(o,r))}catch(o){if(!Ih(o))throw o;Qe("LocalStore",`Failed to update sequence numbers for target ${t}: ${o}`)}i.os=i.os.remove(t),i._s.delete(r.target)}function dA(e,t,n){const i=_t(e);let r=gt.min(),s=xt();return i.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,d){const c=_t(l),f=c._s.get(d);return f!==void 0?Re.resolve(c.os.get(f)):c.Ur.getTargetData(u,d)}(i,o,Ts(t)).next(a=>{if(a)return r=a.lastLimboFreeSnapshotVersion,i.Ur.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>i.ss.getDocumentsMatchingQuery(o,t,n?r:gt.min(),n?s:xt())).next(a=>(PK(i,yY(t),a),{documents:a,Ts:s})))}function PK(e,t,n){let i=e.us.get(t)||gt.min();n.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),e.us.set(t,i)}class fA{constructor(){this.activeTargetIds=kY()}fs(t){this.activeTargetIds=this.activeTargetIds.add(t)}gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Vs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class xK{constructor(){this.so=new fA,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,i){}addLocalQueryTarget(t,n=!0){return n&&this.so.fs(t),this.oo[t]||"not-current"}updateQueryState(t,n,i){this.oo[t]=n}removeLocalQueryTarget(t){this.so.gs(t)}isLocalQueryTarget(t){return this.so.activeTargetIds.has(t)}clearQueryState(t){delete this.oo[t]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(t){return this.so.activeTargetIds.has(t)}start(){return this.so=new fA,Promise.resolve()}handleUserChange(t,n,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DK{_o(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hA{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(t){this.ho.push(t)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Qe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.ho)t(0)}lo(){Qe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.ho)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Iv=null;function Ny(){return Iv===null?Iv=function(){return 268435456+Math.round(2147483648*Math.random())}():Iv++,"0x"+Iv.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RK={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OK{constructor(t){this.Io=t.Io,this.To=t.To}Eo(t){this.Ao=t}Ro(t){this.Vo=t}mo(t){this.fo=t}onMessage(t){this.po=t}close(){this.To()}send(t){this.Io(t)}yo(){this.Ao()}wo(){this.Vo()}So(t){this.fo(t)}bo(t){this.po(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Di="WebChannelConnection";class VK extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const i=n.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=i+"://"+n.host,this.vo=`projects/${r}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${r}`:`project_id=${r}&database_id=${s}`}get Fo(){return!1}Mo(n,i,r,s,o){const a=Ny(),l=this.xo(n,i.toUriEncodedString());Qe("RestConnection",`Sending RPC '${n}' ${a}:`,l,r);const u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,s,o),this.No(n,l,u,r).then(d=>(Qe("RestConnection",`Received RPC '${n}' ${a}: `,d),d),d=>{throw cc("RestConnection",`RPC '${n}' ${a} failed with error: `,d,"url: ",l,"request:",r),d})}Lo(n,i,r,s,o,a){return this.Mo(n,i,r,s,o)}Oo(n,i,r){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Fc}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((s,o)=>n[o]=s),r&&r.headers.forEach((s,o)=>n[o]=s)}xo(n,i){const r=RK[n];return`${this.Do}/v1/${i}:${r}`}terminate(){}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}No(t,n,i,r){const s=Ny();return new Promise((o,a)=>{const l=new $M;l.setWithCredentials(!0),l.listenOnce(UM.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case lm.NO_ERROR:const d=l.getResponseJson();Qe(Di,`XHR for RPC '${t}' ${s} received:`,JSON.stringify(d)),o(d);break;case lm.TIMEOUT:Qe(Di,`RPC '${t}' ${s} timed out`),a(new We(Ce.DEADLINE_EXCEEDED,"Request time out"));break;case lm.HTTP_ERROR:const c=l.getStatus();if(Qe(Di,`RPC '${t}' ${s} failed with status:`,c,"response text:",l.getResponseText()),c>0){let f=l.getResponseJson();Array.isArray(f)&&(f=f[0]);const v=f==null?void 0:f.error;if(v&&v.status&&v.message){const m=function(_){const y=_.toLowerCase().replace(/_/g,"-");return Object.values(Ce).indexOf(y)>=0?y:Ce.UNKNOWN}(v.status);a(new We(m,v.message))}else a(new We(Ce.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new We(Ce.UNAVAILABLE,"Connection failed."));break;default:mt()}}finally{Qe(Di,`RPC '${t}' ${s} completed.`)}});const u=JSON.stringify(r);Qe(Di,`RPC '${t}' ${s} sending request:`,r),l.send(n,"POST",u,i,15)})}Bo(t,n,i){const r=Ny(),s=[this.Do,"/","google.firestore.v1.Firestore","/",t,"/channel"],o=WM(),a=HM(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.xmlHttpFactory=new BM({})),this.Oo(l.initMessageHeaders,n,i),l.encodeInitMessageHeaders=!0;const d=s.join("");Qe(Di,`Creating RPC '${t}' stream ${r}: ${d}`,l);const c=o.createWebChannel(d,l);let f=!1,v=!1;const m=new OK({Io:_=>{v?Qe(Di,`Not sending because RPC '${t}' stream ${r} is closed:`,_):(f||(Qe(Di,`Opening RPC '${t}' stream ${r} transport.`),c.open(),f=!0),Qe(Di,`RPC '${t}' stream ${r} sending:`,_),c.send(_))},To:()=>c.close()}),p=(_,y,b)=>{_.listen(y,C=>{try{b(C)}catch(k){setTimeout(()=>{throw k},0)}})};return p(c,Rd.EventType.OPEN,()=>{v||(Qe(Di,`RPC '${t}' stream ${r} transport opened.`),m.yo())}),p(c,Rd.EventType.CLOSE,()=>{v||(v=!0,Qe(Di,`RPC '${t}' stream ${r} transport closed`),m.So())}),p(c,Rd.EventType.ERROR,_=>{v||(v=!0,cc(Di,`RPC '${t}' stream ${r} transport errored:`,_),m.So(new We(Ce.UNAVAILABLE,"The operation could not be completed")))}),p(c,Rd.EventType.MESSAGE,_=>{var y;if(!v){const b=_.data[0];dn(!!b);const C=b,k=C.error||((y=C[0])===null||y===void 0?void 0:y.error);if(k){Qe(Di,`RPC '${t}' stream ${r} received error:`,k);const R=k.status;let O=function(w){const E=Kn[w];if(E!==void 0)return m2(E)}(R),x=k.message;O===void 0&&(O=Ce.INTERNAL,x="Unknown error status: "+R+" with message "+k.message),v=!0,m.So(new We(O,x)),c.close()}else Qe(Di,`RPC '${t}' stream ${r} received:`,b),m.bo(b)}}),p(a,jM.STAT_EVENT,_=>{_.stat===a0.PROXY?Qe(Di,`RPC '${t}' stream ${r} detected buffering proxy`):_.stat===a0.NOPROXY&&Qe(Di,`RPC '${t}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{m.wo()},0),m}}function My(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mp(e){return new WY(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I2{constructor(t,n,i=1e3,r=1.5,s=6e4){this.ui=t,this.timerId=n,this.ko=i,this.qo=r,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(t){this.cancel();const n=Math.floor(this.Ko+this.zo()),i=Math.max(0,Date.now()-this.Uo),r=Math.max(0,n-i);r>0&&Qe("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,r,()=>(this.Uo=Date.now(),t())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A2{constructor(t,n,i,r,s,o,a,l){this.ui=t,this.Ho=i,this.Jo=r,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new I2(t,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(t){this.u_(),this.stream.send(t)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(t,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,t!==4?this.t_.reset():n&&n.code===Ce.RESOURCE_EXHAUSTED?(wo(n.toString()),wo("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===Ce.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.mo(n)}l_(){}auth(){this.state=1;const t=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Yo===n&&this.P_(i,r)},i=>{t(()=>{const r=new We(Ce.UNKNOWN,"Fetching auth token failed: "+i.message);return this.I_(r)})})}P_(t,n){const i=this.h_(this.Yo);this.stream=this.T_(t,n),this.stream.Eo(()=>{i(()=>this.listener.Eo())}),this.stream.Ro(()=>{i(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(r=>{i(()=>this.I_(r))}),this.stream.onMessage(r=>{i(()=>++this.e_==1?this.E_(r):this.onNext(r))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(t){return Qe("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}h_(t){return n=>{this.ui.enqueueAndForget(()=>this.Yo===t?n():(Qe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class NK extends A2{constructor(t,n,i,r,s,o){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,r,o),this.serializer=s}T_(t,n){return this.connection.Bo("Listen",t,n)}E_(t){return this.onNext(t)}onNext(t){this.t_.reset();const n=qY(this.serializer,t),i=function(s){if(!("targetChange"in s))return gt.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?gt.min():o.readTime?Is(o.readTime):gt.min()}(t);return this.listener.d_(n,i)}A_(t){const n={};n.database=p0(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=d0(l)?{documents:XY(s,l)}:{query:QY(s,l)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=_2(s,o.resumeToken);const u=v0(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(gt.min())>0){a.readTime=rg(s,o.snapshotVersion.toTimestamp());const u=v0(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,t);const i=ZY(this.serializer,t);i&&(n.labels=i),this.a_(n)}R_(t){const n={};n.database=p0(this.serializer),n.removeTarget=t,this.a_(n)}}class MK extends A2{constructor(t,n,i,r,s,o){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,r,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(t,n){return this.connection.Bo("Write",t,n)}E_(t){return dn(!!t.streamToken),this.lastStreamToken=t.streamToken,dn(!t.writeResults||t.writeResults.length===0),this.listener.f_()}onNext(t){dn(!!t.streamToken),this.lastStreamToken=t.streamToken,this.t_.reset();const n=KY(t.writeResults,t.commitTime),i=Is(t.commitTime);return this.listener.g_(i,n)}p_(){const t={};t.database=p0(this.serializer),this.a_(t)}m_(t){const n={streamToken:this.lastStreamToken,writes:t.map(i=>YY(this.serializer,i))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LK extends class{}{constructor(t,n,i,r){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=i,this.serializer=r,this.y_=!1}w_(){if(this.y_)throw new We(Ce.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(t,n,i,r){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(t,m0(n,i),r,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===Ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new We(Ce.UNKNOWN,s.toString())})}Lo(t,n,i,r,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(t,m0(n,i),r,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===Ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new We(Ce.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class FK{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(t){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.C_("Offline")))}set(t){this.x_(),this.S_=0,t==="Online"&&(this.D_=!1),this.C_(t)}C_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}F_(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(wo(n),this.D_=!1):Qe("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $K{constructor(t,n,i,r,s){this.localStore=t,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{i.enqueueAndForget(async()=>{Xl(this)&&(Qe("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=_t(l);u.L_.add(4),await xh(u),u.q_.set("Unknown"),u.L_.delete(4),await Lp(u)}(this))})}),this.q_=new FK(i,r)}}async function Lp(e){if(Xl(e))for(const t of e.B_)await t(!0)}async function xh(e){for(const t of e.B_)await t(!1)}function P2(e,t){const n=_t(e);n.N_.has(t.targetId)||(n.N_.set(t.targetId,t),jE(n)?UE(n):Uc(n).r_()&&BE(n,t))}function $E(e,t){const n=_t(e),i=Uc(n);n.N_.delete(t),i.r_()&&x2(n,t),n.N_.size===0&&(i.r_()?i.o_():Xl(n)&&n.q_.set("Unknown"))}function BE(e,t){if(e.Q_.xe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(gt.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Uc(e).A_(t)}function x2(e,t){e.Q_.xe(t),Uc(e).R_(t)}function UE(e){e.Q_=new BY({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),ot:t=>e.N_.get(t)||null,tt:()=>e.datastore.serializer.databaseId}),Uc(e).start(),e.q_.v_()}function jE(e){return Xl(e)&&!Uc(e).n_()&&e.N_.size>0}function Xl(e){return _t(e).L_.size===0}function D2(e){e.Q_=void 0}async function BK(e){e.q_.set("Online")}async function UK(e){e.N_.forEach((t,n)=>{BE(e,t)})}async function jK(e,t){D2(e),jE(e)?(e.q_.M_(t),UE(e)):e.q_.set("Unknown")}async function HK(e,t,n){if(e.q_.set("Online"),t instanceof p2&&t.state===2&&t.cause)try{await async function(r,s){const o=s.cause;for(const a of s.targetIds)r.N_.has(a)&&(await r.remoteSyncer.rejectListen(a,o),r.N_.delete(a),r.Q_.removeTarget(a))}(e,t)}catch(i){Qe("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),i),await sg(e,i)}else if(t instanceof dm?e.Q_.Ke(t):t instanceof g2?e.Q_.He(t):e.Q_.We(t),!n.isEqual(gt.min()))try{const i=await T2(e.localStore);n.compareTo(i)>=0&&await function(s,o){const a=s.Q_.rt(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const d=s.N_.get(u);d&&s.N_.set(u,d.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const d=s.N_.get(l);if(!d)return;s.N_.set(l,d.withResumeToken(Ei.EMPTY_BYTE_STRING,d.snapshotVersion)),x2(s,l);const c=new na(d.target,l,u,d.sequenceNumber);BE(s,c)}),s.remoteSyncer.applyRemoteEvent(a)}(e,n)}catch(i){Qe("RemoteStore","Failed to raise snapshot:",i),await sg(e,i)}}async function sg(e,t,n){if(!Ih(t))throw t;e.L_.add(1),await xh(e),e.q_.set("Offline"),n||(n=()=>T2(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{Qe("RemoteStore","Retrying IndexedDB access"),await n(),e.L_.delete(1),await Lp(e)})}function R2(e,t){return t().catch(n=>sg(e,n,t))}async function Fp(e){const t=_t(e),n=_a(t);let i=t.O_.length>0?t.O_[t.O_.length-1].batchId:-1;for(;WK(t);)try{const r=await IK(t.localStore,i);if(r===null){t.O_.length===0&&n.o_();break}i=r.batchId,zK(t,r)}catch(r){await sg(t,r)}O2(t)&&V2(t)}function WK(e){return Xl(e)&&e.O_.length<10}function zK(e,t){e.O_.push(t);const n=_a(e);n.r_()&&n.V_&&n.m_(t.mutations)}function O2(e){return Xl(e)&&!_a(e).n_()&&e.O_.length>0}function V2(e){_a(e).start()}async function GK(e){_a(e).p_()}async function qK(e){const t=_a(e);for(const n of e.O_)t.m_(n.mutations)}async function YK(e,t,n){const i=e.O_.shift(),r=OE.from(i,t,n);await R2(e,()=>e.remoteSyncer.applySuccessfulWrite(r)),await Fp(e)}async function KK(e,t){t&&_a(e).V_&&await async function(i,r){if(function(o){return LY(o)&&o!==Ce.ABORTED}(r.code)){const s=i.O_.shift();_a(i).s_(),await R2(i,()=>i.remoteSyncer.rejectFailedWrite(s.batchId,r)),await Fp(i)}}(e,t),O2(e)&&V2(e)}async function vA(e,t){const n=_t(e);n.asyncQueue.verifyOperationInProgress(),Qe("RemoteStore","RemoteStore received new credentials");const i=Xl(n);n.L_.add(3),await xh(n),i&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.L_.delete(3),await Lp(n)}async function XK(e,t){const n=_t(e);t?(n.L_.delete(2),await Lp(n)):t||(n.L_.add(2),await xh(n),n.q_.set("Unknown"))}function Uc(e){return e.K_||(e.K_=function(n,i,r){const s=_t(n);return s.w_(),new NK(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(e.datastore,e.asyncQueue,{Eo:BK.bind(null,e),Ro:UK.bind(null,e),mo:jK.bind(null,e),d_:HK.bind(null,e)}),e.B_.push(async t=>{t?(e.K_.s_(),jE(e)?UE(e):e.q_.set("Unknown")):(await e.K_.stop(),D2(e))})),e.K_}function _a(e){return e.U_||(e.U_=function(n,i,r){const s=_t(n);return s.w_(),new MK(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(e.datastore,e.asyncQueue,{Eo:()=>Promise.resolve(),Ro:GK.bind(null,e),mo:KK.bind(null,e),f_:qK.bind(null,e),g_:YK.bind(null,e)}),e.B_.push(async t=>{t?(e.U_.s_(),await Fp(e)):(await e.U_.stop(),e.O_.length>0&&(Qe("RemoteStore",`Stopping write stream with ${e.O_.length} pending writes`),e.O_=[]))})),e.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HE{constructor(t,n,i,r,s){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new go,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,i,r,s){const o=Date.now()+i,a=new HE(t,n,o,r,s);return a.start(i),a}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new We(Ce.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function WE(e,t){if(wo("AsyncQueue",`${t}: ${e}`),Ih(e))return new We(Ce.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qu{constructor(t){this.comparator=t?(n,i)=>t(n,i)||rt.comparator(n.key,i.key):(n,i)=>rt.comparator(n.key,i.key),this.keyedMap=Od(),this.sortedSet=new Ln(this.comparator)}static emptySet(t){return new Qu(t.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,i)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Qu)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;n.hasNext();){const r=n.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const i=new Qu;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mA{constructor(){this.W_=new Ln(rt.comparator)}track(t){const n=t.doc.key,i=this.W_.get(n);i?t.type!==0&&i.type===3?this.W_=this.W_.insert(n,t):t.type===3&&i.type!==1?this.W_=this.W_.insert(n,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.W_=this.W_.insert(n,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.W_=this.W_.insert(n,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.W_=this.W_.remove(n):t.type===1&&i.type===2?this.W_=this.W_.insert(n,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.W_=this.W_.insert(n,{type:2,doc:t.doc}):mt():this.W_=this.W_.insert(n,t)}G_(){const t=[];return this.W_.inorderTraversal((n,i)=>{t.push(i)}),t}}class mc{constructor(t,n,i,r,s,o,a,l,u){this.query=t,this.docs=n,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(t,n,i,r,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new mc(t,n,Qu.emptySet(n),o,i,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&xp(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,i=t.docChanges;if(n.length!==i.length)return!1;for(let r=0;r<n.length;r++)if(n[r].type!==i[r].type||!n[r].doc.isEqual(i[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QK{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(t=>t.J_())}}class JK{constructor(){this.queries=gA(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,i){const r=_t(n),s=r.queries;r.queries=gA(),s.forEach((o,a)=>{for(const l of a.j_)l.onError(i)})})(this,new We(Ce.ABORTED,"Firestore shutting down"))}}function gA(){return new Bc(e=>i2(e),xp)}async function zE(e,t){const n=_t(e);let i=3;const r=t.query;let s=n.queries.get(r);s?!s.H_()&&t.J_()&&(i=2):(s=new QK,i=t.J_()?0:1);try{switch(i){case 0:s.z_=await n.onListen(r,!0);break;case 1:s.z_=await n.onListen(r,!1);break;case 2:await n.onFirstRemoteStoreListen(r)}}catch(o){const a=WE(o,`Initialization of query '${Pu(t.query)}' failed`);return void t.onError(a)}n.queries.set(r,s),s.j_.push(t),t.Z_(n.onlineState),s.z_&&t.X_(s.z_)&&qE(n)}async function GE(e,t){const n=_t(e),i=t.query;let r=3;const s=n.queries.get(i);if(s){const o=s.j_.indexOf(t);o>=0&&(s.j_.splice(o,1),s.j_.length===0?r=t.J_()?0:1:!s.H_()&&t.J_()&&(r=2))}switch(r){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function ZK(e,t){const n=_t(e);let i=!1;for(const r of t){const s=r.query,o=n.queries.get(s);if(o){for(const a of o.j_)a.X_(r)&&(i=!0);o.z_=r}}i&&qE(n)}function eX(e,t,n){const i=_t(e),r=i.queries.get(t);if(r)for(const s of r.j_)s.onError(n);i.queries.delete(t)}function qE(e){e.Y_.forEach(t=>{t.next()})}var y0,pA;(pA=y0||(y0={})).ea="default",pA.Cache="cache";class YE{constructor(t,n,i){this.query=t,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=i||{}}X_(t){if(!this.options.includeMetadataChanges){const i=[];for(const r of t.docChanges)r.type!==3&&i.push(r);t=new mc(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.na?this.ia(t)&&(this.ta.next(t),n=!0):this.sa(t,this.onlineState)&&(this.oa(t),n=!0),this.ra=t,n}onError(t){this.ta.error(t)}Z_(t){this.onlineState=t;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,t)&&(this.oa(this.ra),n=!0),n}sa(t,n){if(!t.fromCache||!this.J_())return!0;const i=n!=="Offline";return(!this.options._a||!i)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}ia(t){if(t.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(t){t=mc.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.na=!0,this.ta.next(t)}J_(){return this.options.source!==y0.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N2{constructor(t){this.key=t}}class M2{constructor(t){this.key=t}}class tX{constructor(t,n){this.query=t,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=xt(),this.mutatedKeys=xt(),this.Aa=r2(t),this.Ra=new Qu(this.Aa)}get Va(){return this.Ta}ma(t,n){const i=n?n.fa:new mA,r=n?n.Ra:this.Ra;let s=n?n.mutatedKeys:this.mutatedKeys,o=r,a=!1;const l=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,u=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((d,c)=>{const f=r.get(d),v=Dp(this.query,c)?c:null,m=!!f&&this.mutatedKeys.has(f.key),p=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations);let _=!1;f&&v?f.data.isEqual(v.data)?m!==p&&(i.track({type:3,doc:v}),_=!0):this.ga(f,v)||(i.track({type:2,doc:v}),_=!0,(l&&this.Aa(v,l)>0||u&&this.Aa(v,u)<0)&&(a=!0)):!f&&v?(i.track({type:0,doc:v}),_=!0):f&&!v&&(i.track({type:1,doc:f}),_=!0,(l||u)&&(a=!0)),_&&(v?(o=o.add(v),s=p?s.add(d):s.delete(d)):(o=o.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),s=s.delete(d.key),i.track({type:1,doc:d})}return{Ra:o,fa:i,ns:a,mutatedKeys:s}}ga(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,i,r){const s=this.Ra;this.Ra=t.Ra,this.mutatedKeys=t.mutatedKeys;const o=t.fa.G_();o.sort((d,c)=>function(v,m){const p=_=>{switch(_){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return mt()}};return p(v)-p(m)}(d.type,c.type)||this.Aa(d.doc,c.doc)),this.pa(i),r=r!=null&&r;const a=n&&!r?this.ya():[],l=this.da.size===0&&this.current&&!r?1:0,u=l!==this.Ea;return this.Ea=l,o.length!==0||u?{snapshot:new mc(this.query,t.Ra,s,o,t.mutatedKeys,l===0,u,!1,!!i&&i.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new mA,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(t){return!this.Ta.has(t)&&!!this.Ra.has(t)&&!this.Ra.get(t).hasLocalMutations}pa(t){t&&(t.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=t.current)}ya(){if(!this.current)return[];const t=this.da;this.da=xt(),this.Ra.forEach(i=>{this.Sa(i.key)&&(this.da=this.da.add(i.key))});const n=[];return t.forEach(i=>{this.da.has(i)||n.push(new M2(i))}),this.da.forEach(i=>{t.has(i)||n.push(new N2(i))}),n}ba(t){this.Ta=t.Ts,this.da=xt();const n=this.ma(t.documents);return this.applyChanges(n,!0)}Da(){return mc.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class nX{constructor(t,n,i){this.query=t,this.targetId=n,this.view=i}}class iX{constructor(t){this.key=t,this.va=!1}}class rX{constructor(t,n,i,r,s,o){this.localStore=t,this.remoteStore=n,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new Bc(a=>i2(a),xp),this.Ma=new Map,this.xa=new Set,this.Oa=new Ln(rt.comparator),this.Na=new Map,this.La=new ME,this.Ba={},this.ka=new Map,this.qa=vc.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function sX(e,t,n=!0){const i=j2(e);let r;const s=i.Fa.get(t);return s?(i.sharedClientState.addLocalQueryTarget(s.targetId),r=s.view.Da()):r=await L2(i,t,n,!0),r}async function oX(e,t){const n=j2(e);await L2(n,t,!0,!1)}async function L2(e,t,n,i){const r=await AK(e.localStore,Ts(t)),s=r.targetId,o=e.sharedClientState.addLocalQueryTarget(s,n);let a;return i&&(a=await aX(e,t,s,o==="current",r.resumeToken)),e.isPrimaryClient&&n&&P2(e.remoteStore,r),a}async function aX(e,t,n,i,r){e.Ka=(c,f,v)=>async function(p,_,y,b){let C=_.view.ma(y);C.ns&&(C=await dA(p.localStore,_.query,!1).then(({documents:x})=>_.view.ma(x,C)));const k=b&&b.targetChanges.get(_.targetId),R=b&&b.targetMismatches.get(_.targetId)!=null,O=_.view.applyChanges(C,p.isPrimaryClient,k,R);return yA(p,_.targetId,O.wa),O.snapshot}(e,c,f,v);const s=await dA(e.localStore,t,!0),o=new tX(t,s.Ts),a=o.ma(s.documents),l=Ph.createSynthesizedTargetChangeForCurrentChange(n,i&&e.onlineState!=="Offline",r),u=o.applyChanges(a,e.isPrimaryClient,l);yA(e,n,u.wa);const d=new nX(t,n,o);return e.Fa.set(t,d),e.Ma.has(n)?e.Ma.get(n).push(t):e.Ma.set(n,[t]),u.snapshot}async function lX(e,t,n){const i=_t(e),r=i.Fa.get(t),s=i.Ma.get(r.targetId);if(s.length>1)return i.Ma.set(r.targetId,s.filter(o=>!xp(o,t))),void i.Fa.delete(t);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||await _0(i.localStore,r.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(r.targetId),n&&$E(i.remoteStore,r.targetId),b0(i,r.targetId)}).catch(Th)):(b0(i,r.targetId),await _0(i.localStore,r.targetId,!0))}async function uX(e,t){const n=_t(e),i=n.Fa.get(t),r=n.Ma.get(i.targetId);n.isPrimaryClient&&r.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),$E(n.remoteStore,i.targetId))}async function cX(e,t,n){const i=pX(e);try{const r=await function(o,a){const l=_t(o),u=St.now(),d=a.reduce((v,m)=>v.add(m.key),xt());let c,f;return l.persistence.runTransaction("Locally write mutations","readwrite",v=>{let m=So(),p=xt();return l.cs.getEntries(v,d).next(_=>{m=_,m.forEach((y,b)=>{b.isValidDocument()||(p=p.add(y))})}).next(()=>l.localDocuments.getOverlayedDocuments(v,m)).next(_=>{c=_;const y=[];for(const b of a){const C=RY(b,c.get(b.key).overlayedDocument);C!=null&&y.push(new Oa(b.key,C,KM(C.value.mapValue),lr.exists(!0)))}return l.mutationQueue.addMutationBatch(v,u,y,a)}).next(_=>{f=_;const y=_.applyToLocalDocumentSet(c,p);return l.documentOverlayCache.saveOverlays(v,_.batchId,y)})}).then(()=>({batchId:f.batchId,changes:o2(c)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(r.batchId),function(o,a,l){let u=o.Ba[o.currentUser.toKey()];u||(u=new Ln(Ht)),u=u.insert(a,l),o.Ba[o.currentUser.toKey()]=u}(i,r.batchId,n),await Dh(i,r.changes),await Fp(i.remoteStore)}catch(r){const s=WE(r,"Failed to persist write");n.reject(s)}}async function F2(e,t){const n=_t(e);try{const i=await kK(n.localStore,t);t.targetChanges.forEach((r,s)=>{const o=n.Na.get(s);o&&(dn(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?o.va=!0:r.modifiedDocuments.size>0?dn(o.va):r.removedDocuments.size>0&&(dn(o.va),o.va=!1))}),await Dh(n,i,t)}catch(i){await Th(i)}}function _A(e,t,n){const i=_t(e);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const r=[];i.Fa.forEach((s,o)=>{const a=o.view.Z_(t);a.snapshot&&r.push(a.snapshot)}),function(o,a){const l=_t(o);l.onlineState=a;let u=!1;l.queries.forEach((d,c)=>{for(const f of c.j_)f.Z_(a)&&(u=!0)}),u&&qE(l)}(i.eventManager,t),r.length&&i.Ca.d_(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function dX(e,t,n){const i=_t(e);i.sharedClientState.updateQueryState(t,"rejected",n);const r=i.Na.get(t),s=r&&r.key;if(s){let o=new Ln(rt.comparator);o=o.insert(s,Mi.newNoDocument(s,gt.min()));const a=xt().add(s),l=new Np(gt.min(),new Map,new Ln(Ht),o,a);await F2(i,l),i.Oa=i.Oa.remove(s),i.Na.delete(t),KE(i)}else await _0(i.localStore,t,!1).then(()=>b0(i,t,n)).catch(Th)}async function fX(e,t){const n=_t(e),i=t.batch.batchId;try{const r=await CK(n.localStore,t);B2(n,i,null),$2(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await Dh(n,r)}catch(r){await Th(r)}}async function hX(e,t,n){const i=_t(e);try{const r=await function(o,a){const l=_t(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return l.mutationQueue.lookupMutationBatch(u,a).next(c=>(dn(c!==null),d=c.keys(),l.mutationQueue.removeMutationBatch(u,c))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>l.localDocuments.getDocuments(u,d))})}(i.localStore,t);B2(i,t,n),$2(i,t),i.sharedClientState.updateMutationState(t,"rejected",n),await Dh(i,r)}catch(r){await Th(r)}}function $2(e,t){(e.ka.get(t)||[]).forEach(n=>{n.resolve()}),e.ka.delete(t)}function B2(e,t,n){const i=_t(e);let r=i.Ba[i.currentUser.toKey()];if(r){const s=r.get(t);s&&(n?s.reject(n):s.resolve(),r=r.remove(t)),i.Ba[i.currentUser.toKey()]=r}}function b0(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const i of e.Ma.get(t))e.Fa.delete(i),n&&e.Ca.$a(i,n);e.Ma.delete(t),e.isPrimaryClient&&e.La.gr(t).forEach(i=>{e.La.containsKey(i)||U2(e,i)})}function U2(e,t){e.xa.delete(t.path.canonicalString());const n=e.Oa.get(t);n!==null&&($E(e.remoteStore,n),e.Oa=e.Oa.remove(t),e.Na.delete(n),KE(e))}function yA(e,t,n){for(const i of n)i instanceof N2?(e.La.addReference(i.key,t),vX(e,i)):i instanceof M2?(Qe("SyncEngine","Document no longer in limbo: "+i.key),e.La.removeReference(i.key,t),e.La.containsKey(i.key)||U2(e,i.key)):mt()}function vX(e,t){const n=t.key,i=n.path.canonicalString();e.Oa.get(n)||e.xa.has(i)||(Qe("SyncEngine","New document in limbo: "+n),e.xa.add(i),KE(e))}function KE(e){for(;e.xa.size>0&&e.Oa.size<e.maxConcurrentLimboResolutions;){const t=e.xa.values().next().value;e.xa.delete(t);const n=new rt(kn.fromString(t)),i=e.qa.next();e.Na.set(i,new iX(n)),e.Oa=e.Oa.insert(n,i),P2(e.remoteStore,new na(Ts(Pp(n.path)),i,"TargetPurposeLimboResolution",TE.oe))}}async function Dh(e,t,n){const i=_t(e),r=[],s=[],o=[];i.Fa.isEmpty()||(i.Fa.forEach((a,l)=>{o.push(i.Ka(l,t,n).then(u=>{var d;if((u||n)&&i.isPrimaryClient){const c=u?!u.fromCache:(d=n==null?void 0:n.targetChanges.get(l.targetId))===null||d===void 0?void 0:d.current;i.sharedClientState.updateQueryState(l.targetId,c?"current":"not-current")}if(u){r.push(u);const c=FE.Wi(l.targetId,u);s.push(c)}}))}),await Promise.all(o),i.Ca.d_(r),await async function(l,u){const d=_t(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",c=>Re.forEach(u,f=>Re.forEach(f.$i,v=>d.persistence.referenceDelegate.addReference(c,f.targetId,v)).next(()=>Re.forEach(f.Ui,v=>d.persistence.referenceDelegate.removeReference(c,f.targetId,v)))))}catch(c){if(!Ih(c))throw c;Qe("LocalStore","Failed to update sequence numbers: "+c)}for(const c of u){const f=c.targetId;if(!c.fromCache){const v=d.os.get(f),m=v.snapshotVersion,p=v.withLastLimboFreeSnapshotVersion(m);d.os=d.os.insert(f,p)}}}(i.localStore,s))}async function mX(e,t){const n=_t(e);if(!n.currentUser.isEqual(t)){Qe("SyncEngine","User change. New user:",t.toKey());const i=await k2(n.localStore,t);n.currentUser=t,function(s,o){s.ka.forEach(a=>{a.forEach(l=>{l.reject(new We(Ce.CANCELLED,o))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),await Dh(n,i.hs)}}function gX(e,t){const n=_t(e),i=n.Na.get(t);if(i&&i.va)return xt().add(i.key);{let r=xt();const s=n.Ma.get(t);if(!s)return r;for(const o of s){const a=n.Fa.get(o);r=r.unionWith(a.view.Va)}return r}}function j2(e){const t=_t(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=F2.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=gX.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=dX.bind(null,t),t.Ca.d_=ZK.bind(null,t.eventManager),t.Ca.$a=eX.bind(null,t.eventManager),t}function pX(e){const t=_t(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=fX.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=hX.bind(null,t),t}class bA{constructor(){this.synchronizeTabs=!1}async initialize(t){this.serializer=Mp(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),await this.persistence.start(),this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore)}createGarbageCollectionScheduler(t,n){return null}createIndexBackfillerScheduler(t,n){return null}createLocalStore(t){return EK(this.persistence,new wK,t.initialUser,this.serializer)}createPersistence(t){return new _K(LE.Zr,this.serializer)}createSharedClientState(t){return new xK}async terminate(){var t,n;(t=this.gcScheduler)===null||t===void 0||t.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class _X{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>_A(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=mX.bind(null,this.syncEngine),await XK(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new JK}()}createDatastore(t){const n=Mp(t.databaseInfo.databaseId),i=function(s){return new VK(s)}(t.databaseInfo);return function(s,o,a,l){return new LK(s,o,a,l)}(t.authCredentials,t.appCheckCredentials,i,n)}createRemoteStore(t){return function(i,r,s,o,a){return new $K(i,r,s,o,a)}(this.localStore,this.datastore,t.asyncQueue,n=>_A(this.syncEngine,n,0),function(){return hA.D()?new hA:new DK}())}createSyncEngine(t,n){return function(r,s,o,a,l,u,d){const c=new rX(r,s,o,a,l,u);return d&&(c.Qa=!0),c}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await async function(r){const s=_t(r);Qe("RemoteStore","RemoteStore shutting down."),s.L_.add(5),await xh(s),s.k_.shutdown(),s.q_.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XE{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Ga(this.observer.next,t)}error(t){this.observer.error?this.Ga(this.observer.error,t):wo("Uncaught Error in snapshot listener:",t.toString())}za(){this.muted=!0}Ga(t,n){this.muted||setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yX{constructor(t,n,i,r){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=r,this.user=Ri.UNAUTHENTICATED,this.clientId=GM.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,async s=>{Qe("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(i,s=>(Qe("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new We(Ce.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const t=new go;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const i=WE(n,"Failed to shutdown persistence");t.reject(i)}}),t.promise}}async function Ly(e,t){e.asyncQueue.verifyOperationInProgress(),Qe("FirestoreClient","Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let i=n.initialUser;e.setCredentialChangeListener(async r=>{i.isEqual(r)||(await k2(t.localStore,r),i=r)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function wA(e,t){e.asyncQueue.verifyOperationInProgress();const n=await wX(e);Qe("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(i=>vA(t.remoteStore,i)),e.setAppCheckTokenChangeListener((i,r)=>vA(t.remoteStore,r)),e._onlineComponents=t}function bX(e){return e.name==="FirebaseError"?e.code===Ce.FAILED_PRECONDITION||e.code===Ce.UNIMPLEMENTED:!(typeof DOMException<"u"&&e instanceof DOMException)||e.code===22||e.code===20||e.code===11}async function wX(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Qe("FirestoreClient","Using user provided OfflineComponentProvider");try{await Ly(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!bX(n))throw n;cc("Error using user provided cache. Falling back to memory cache: "+n),await Ly(e,new bA)}}else Qe("FirestoreClient","Using default OfflineComponentProvider"),await Ly(e,new bA);return e._offlineComponents}async function H2(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Qe("FirestoreClient","Using user provided OnlineComponentProvider"),await wA(e,e._uninitializedComponentsProvider._online)):(Qe("FirestoreClient","Using default OnlineComponentProvider"),await wA(e,new _X))),e._onlineComponents}function SX(e){return H2(e).then(t=>t.syncEngine)}async function og(e){const t=await H2(e),n=t.eventManager;return n.onListen=sX.bind(null,t.syncEngine),n.onUnlisten=lX.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=oX.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=uX.bind(null,t.syncEngine),n}function EX(e,t,n={}){const i=new go;return e.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const d=new XE({next:f=>{o.enqueueAndForget(()=>GE(s,c));const v=f.docs.has(a);!v&&f.fromCache?u.reject(new We(Ce.UNAVAILABLE,"Failed to get document because the client is offline.")):v&&f.fromCache&&l&&l.source==="server"?u.reject(new We(Ce.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(f)},error:f=>u.reject(f)}),c=new YE(Pp(a.path),d,{includeMetadataChanges:!0,_a:!0});return zE(s,c)}(await og(e),e.asyncQueue,t,n,i)),i.promise}function CX(e,t,n={}){const i=new go;return e.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const d=new XE({next:f=>{o.enqueueAndForget(()=>GE(s,c)),f.fromCache&&l.source==="server"?u.reject(new We(Ce.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(f)},error:f=>u.reject(f)}),c=new YE(a,d,{includeMetadataChanges:!0,_a:!0});return zE(s,c)}(await og(e),e.asyncQueue,t,n,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W2(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SA=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z2(e,t,n){if(!n)throw new We(Ce.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function kX(e,t,n,i){if(t===!0&&i===!0)throw new We(Ce.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function EA(e){if(!rt.isDocumentKey(e))throw new We(Ce.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function CA(e){if(rt.isDocumentKey(e))throw new We(Ce.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function $p(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(i){return i.constructor?i.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":mt()}function Cr(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new We(Ce.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=$p(e);throw new We(Ce.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kA{constructor(t){var n,i;if(t.host===void 0){if(t.ssl!==void 0)throw new We(Ce.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new We(Ce.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}kX("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=W2((i=t.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new We(Ce.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new We(Ce.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new We(Ce.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Bp{constructor(t,n,i,r){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new kA({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new We(Ce.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(t){if(this._settingsFrozen)throw new We(Ce.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new kA(t),t.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new Uq;switch(i.type){case"firstParty":return new zq(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new We(Ce.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=SA.get(n);i&&(Qe("ComponentProvider","Removing Datastore"),SA.delete(n),i.terminate())}(this),Promise.resolve()}}function G2(e,t,n,i={}){var r;const s=(e=Cr(e,Bp))._getSettings(),o=`${t}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&cc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),i.mockUserToken){let a,l;if(typeof i.mockUserToken=="string")a=i.mockUserToken,l=Ri.MOCK_USER;else{a=OH(i.mockUserToken,(r=e._app)===null||r===void 0?void 0:r.options.projectId);const u=i.mockUserToken.sub||i.mockUserToken.user_id;if(!u)throw new We(Ce.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Ri(u)}e._authCredentials=new jq(new zM(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Va{constructor(t,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new Va(this.firestore,t,this._query)}}class Qi{constructor(t,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ca(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Qi(this.firestore,t,this._key)}}class ca extends Va{constructor(t,n,i){super(t,n,Pp(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Qi(this.firestore,null,new rt(t))}withConverter(t){return new ca(this.firestore,t,this._path)}}function TX(e,t,...n){if(e=Gn(e),z2("collection","path",t),e instanceof Bp){const i=kn.fromString(t,...n);return CA(i),new ca(e,null,i)}{if(!(e instanceof Qi||e instanceof ca))throw new We(Ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=e._path.child(kn.fromString(t,...n));return CA(i),new ca(e.firestore,null,i)}}function Nd(e,t,...n){if(e=Gn(e),arguments.length===1&&(t=GM.newId()),z2("doc","path",t),e instanceof Bp){const i=kn.fromString(t,...n);return EA(i),new Qi(e,null,new rt(i))}{if(!(e instanceof Qi||e instanceof ca))throw new We(Ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=e._path.child(kn.fromString(t,...n));return EA(i),new Qi(e.firestore,e instanceof ca?e.converter:null,new rt(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IX{constructor(){this.au=Promise.resolve(),this.uu=[],this.cu=!1,this.lu=[],this.hu=null,this.Pu=!1,this.Iu=!1,this.Tu=[],this.t_=new I2(this,"async_queue_retry"),this.Eu=()=>{const n=My();n&&Qe("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()};const t=My();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Eu)}get isShuttingDown(){return this.cu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.du(),this.Au(t)}enterRestrictedMode(t){if(!this.cu){this.cu=!0,this.Iu=t||!1;const n=My();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Eu)}}enqueue(t){if(this.du(),this.cu)return new Promise(()=>{});const n=new go;return this.Au(()=>this.cu&&this.Iu?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.uu.push(t),this.Ru()))}async Ru(){if(this.uu.length!==0){try{await this.uu[0](),this.uu.shift(),this.t_.reset()}catch(t){if(!Ih(t))throw t;Qe("AsyncQueue","Operation failed with retryable error: "+t)}this.uu.length>0&&this.t_.Go(()=>this.Ru())}}Au(t){const n=this.au.then(()=>(this.Pu=!0,t().catch(i=>{this.hu=i,this.Pu=!1;const r=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(i);throw wo("INTERNAL UNHANDLED ERROR: ",r),i}).then(i=>(this.Pu=!1,i))));return this.au=n,n}enqueueAfterDelay(t,n,i){this.du(),this.Tu.indexOf(t)>-1&&(n=0);const r=HE.createAndSchedule(this,t,n,i,s=>this.Vu(s));return this.lu.push(r),r}du(){this.hu&&mt()}verifyOperationInProgress(){}async mu(){let t;do t=this.au,await t;while(t!==this.au)}fu(t){for(const n of this.lu)if(n.timerId===t)return!0;return!1}gu(t){return this.mu().then(()=>{this.lu.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.lu)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.mu()})}pu(t){this.Tu.push(t)}Vu(t){const n=this.lu.indexOf(t);this.lu.splice(n,1)}}function TA(e){return function(n,i){if(typeof n!="object"||n===null)return!1;const r=n;for(const s of i)if(s in r&&typeof r[s]=="function")return!0;return!1}(e,["next","error","complete"])}class Eo extends Bp{constructor(t,n,i,r){super(t,n,i,r),this.type="firestore",this._queue=function(){return new IX}(),this._persistenceKey=(r==null?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||Y2(this),this._firestoreClient.terminate()}}function q2(e,t){const n=typeof e=="object"?e:HS(),i=typeof e=="string"?e:"(default)",r=jS(n,"firestore").getImmediate({identifier:i});if(!r._initialized){const s=RH("firestore");s&&G2(r,...s)}return r}function Rh(e){return e._firestoreClient||Y2(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function Y2(e){var t,n,i;const r=e._freezeSettings(),s=function(a,l,u,d){return new rY(a,l,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,W2(d.experimentalLongPollingOptions),d.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,r);e._firestoreClient=new yX(e._authCredentials,e._appCheckCredentials,e._queue,s),!((n=r.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=r.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.localCache.kind,_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc{constructor(t){this._byteString=t}static fromBase64String(t){try{return new gc(Ei.fromBase64String(t))}catch(n){throw new We(Ce.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new gc(Ei.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new We(Ce.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new bi(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}function AX(){return new Oh("__name__")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QE{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Up{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new We(Ce.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new We(Ce.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Ht(this._lat,t._lat)||Ht(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JE{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(i,r){if(i.length!==r.length)return!1;for(let s=0;s<i.length;++s)if(i[s]!==r[s])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PX=/^__.*__$/;class xX{constructor(t,n,i){this.data=t,this.fieldMask=n,this.fieldTransforms=i}toMutation(t,n){return this.fieldMask!==null?new Oa(t,this.data,this.fieldMask,n,this.fieldTransforms):new Ah(t,this.data,n,this.fieldTransforms)}}class K2{constructor(t,n,i){this.data=t,this.fieldMask=n,this.fieldTransforms=i}toMutation(t,n){return new Oa(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function X2(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw mt()}}class ZE{constructor(t,n,i,r,s,o){this.settings=t,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=r,s===void 0&&this.yu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get wu(){return this.settings.wu}Su(t){return new ZE(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}bu(t){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(t),r=this.Su({path:i,Du:!1});return r.vu(t),r}Cu(t){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(t),r=this.Su({path:i,Du:!1});return r.yu(),r}Fu(t){return this.Su({path:void 0,Du:!0})}Mu(t){return ag(t,this.settings.methodName,this.settings.xu||!1,this.path,this.settings.Ou)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}yu(){if(this.path)for(let t=0;t<this.path.length;t++)this.vu(this.path.get(t))}vu(t){if(t.length===0)throw this.Mu("Document fields must not be empty");if(X2(this.wu)&&PX.test(t))throw this.Mu('Document fields cannot begin and end with "__"')}}class DX{constructor(t,n,i){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=i||Mp(t)}Nu(t,n,i,r=!1){return new ZE({wu:t,methodName:n,Ou:i,path:bi.emptyPath(),Du:!1,xu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function jp(e){const t=e._freezeSettings(),n=Mp(e._databaseId);return new DX(e._databaseId,!!t.ignoreUndefinedProperties,n)}function e1(e,t,n,i,r,s={}){const o=e.Nu(s.merge||s.mergeFields?2:0,t,n,r);t1("Data must be an object, but it was:",o,i);const a=Q2(i,o);let l,u;if(s.merge)l=new br(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const d=[];for(const c of s.mergeFields){const f=w0(t,c,n);if(!o.contains(f))throw new We(Ce.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);Z2(d,f)||d.push(f)}l=new br(d),u=o.fieldTransforms.filter(c=>l.covers(c.field))}else l=null,u=o.fieldTransforms;return new xX(new or(a),l,u)}class Hp extends QE{_toFieldTransform(t){if(t.wu!==2)throw t.wu===1?t.Mu(`${this._methodName}() can only appear at the top level of your update data`):t.Mu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Hp}}function RX(e,t,n,i){const r=e.Nu(1,t,n);t1("Data must be an object, but it was:",r,i);const s=[],o=or.empty();Kl(i,(l,u)=>{const d=n1(t,l,n);u=Gn(u);const c=r.Cu(d);if(u instanceof Hp)s.push(d);else{const f=Vh(u,c);f!=null&&(s.push(d),o.set(d,f))}});const a=new br(s);return new K2(o,a,r.fieldTransforms)}function OX(e,t,n,i,r,s){const o=e.Nu(1,t,n),a=[w0(t,i,n)],l=[r];if(s.length%2!=0)throw new We(Ce.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<s.length;f+=2)a.push(w0(t,s[f])),l.push(s[f+1]);const u=[],d=or.empty();for(let f=a.length-1;f>=0;--f)if(!Z2(u,a[f])){const v=a[f];let m=l[f];m=Gn(m);const p=o.Cu(v);if(m instanceof Hp)u.push(v);else{const _=Vh(m,p);_!=null&&(u.push(v),d.set(v,_))}}const c=new br(u);return new K2(d,c,o.fieldTransforms)}function VX(e,t,n,i=!1){return Vh(n,e.Nu(i?4:3,t))}function Vh(e,t){if(J2(e=Gn(e)))return t1("Unsupported field value:",t,e),Q2(e,t);if(e instanceof QE)return function(i,r){if(!X2(r.wu))throw r.Mu(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Mu(`${i._methodName}() is not currently supported inside arrays`);const s=i._toFieldTransform(r);s&&r.fieldTransforms.push(s)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Du&&t.wu!==4)throw t.Mu("Nested arrays are not supported");return function(i,r){const s=[];let o=0;for(const a of i){let l=Vh(a,r.Fu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(e,t)}return function(i,r){if((i=Gn(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return TY(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const s=St.fromDate(i);return{timestampValue:rg(r.serializer,s)}}if(i instanceof St){const s=new St(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:rg(r.serializer,s)}}if(i instanceof Up)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof gc)return{bytesValue:_2(r.serializer,i._byteString)};if(i instanceof Qi){const s=r.databaseId,o=i.firestore._databaseId;if(!o.isEqual(s))throw r.Mu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:NE(i.firestore._databaseId||r.databaseId,i._key.path)}}if(i instanceof JE)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(l=>{if(typeof l!="number")throw a.Mu("VectorValues must only contain numeric values.");return RE(a.serializer,l)})}}}}}}(i,r);throw r.Mu(`Unsupported field value: ${$p(i)}`)}(e,t)}function Q2(e,t){const n={};return qM(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Kl(e,(i,r)=>{const s=Vh(r,t.bu(i));s!=null&&(n[i]=s)}),{mapValue:{fields:n}}}function J2(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof St||e instanceof Up||e instanceof gc||e instanceof Qi||e instanceof QE||e instanceof JE)}function t1(e,t,n){if(!J2(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const i=$p(n);throw i==="an object"?t.Mu(e+" a custom object"):t.Mu(e+" "+i)}}function w0(e,t,n){if((t=Gn(t))instanceof Oh)return t._internalPath;if(typeof t=="string")return n1(e,t);throw ag("Field path arguments must be of type string or ",e,!1,void 0,n)}const NX=new RegExp("[~\\*/\\[\\]]");function n1(e,t,n){if(t.search(NX)>=0)throw ag(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new Oh(...t.split("."))._internalPath}catch{throw ag(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function ag(e,t,n,i,r){const s=i&&!i.isEmpty(),o=r!==void 0;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${i}`),o&&(l+=` in document ${r}`),l+=")"),new We(Ce.INVALID_ARGUMENT,a+e+l)}function Z2(e,t){return e.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eL{constructor(t,n,i,r,s){this._firestore=t,this._userDataWriter=n,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Qi(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new MX(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(Wp("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class MX extends eL{data(){return super.data()}}function Wp(e,t){return typeof t=="string"?n1(e,t):t instanceof Oh?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tL(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new We(Ce.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class i1{}class nL extends i1{}function Fy(e,t,...n){let i=[];t instanceof i1&&i.push(t),i=i.concat(n),function(s){const o=s.filter(l=>l instanceof r1).length,a=s.filter(l=>l instanceof zp).length;if(o>1||o>0&&a>0)throw new We(Ce.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)e=r._apply(e);return e}class zp extends nL{constructor(t,n,i){super(),this._field=t,this._op=n,this._value=i,this.type="where"}static _create(t,n,i){return new zp(t,n,i)}_apply(t){const n=this._parse(t);return rL(t._query,n),new Va(t.firestore,t.converter,f0(t._query,n))}_parse(t){const n=jp(t.firestore);return function(s,o,a,l,u,d,c){let f;if(u.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new We(Ce.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){AA(c,d);const v=[];for(const m of c)v.push(IA(l,s,m));f={arrayValue:{values:v}}}else f=IA(l,s,c)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||AA(c,d),f=VX(a,o,c,d==="in"||d==="not-in");return Qn.create(u,d,f)}(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}function xn(e,t,n){const i=t,r=Wp("where",e);return zp._create(r,i,n)}class r1 extends i1{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new r1(t,n)}_parse(t){const n=this._queryConstraints.map(i=>i._parse(t)).filter(i=>i.getFilters().length>0);return n.length===1?n[0]:as.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:(function(r,s){let o=r;const a=s.getFlattenedFilters();for(const l of a)rL(o,l),o=f0(o,l)}(t._query,n),new Va(t.firestore,t.converter,f0(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class s1 extends nL{constructor(t,n){super(),this._field=t,this._direction=n,this.type="orderBy"}static _create(t,n){return new s1(t,n)}_apply(t){const n=function(r,s,o){if(r.startAt!==null)throw new We(Ce.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new We(Ce.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new xf(s,o)}(t._query,this._field,this._direction);return new Va(t.firestore,t.converter,function(r,s){const o=r.explicitOrderBy.concat([s]);return new $c(r.path,r.collectionGroup,o,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(t._query,n))}}function iL(e,t="asc"){const n=t,i=Wp("orderBy",e);return s1._create(i,n)}function IA(e,t,n){if(typeof(n=Gn(n))=="string"){if(n==="")throw new We(Ce.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!n2(t)&&n.indexOf("/")!==-1)throw new We(Ce.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=t.path.child(kn.fromString(n));if(!rt.isDocumentKey(i))throw new We(Ce.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return YI(e,new rt(i))}if(n instanceof Qi)return YI(e,n._key);throw new We(Ce.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${$p(n)}.`)}function AA(e,t){if(!Array.isArray(e)||e.length===0)throw new We(Ce.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function rL(e,t){const n=function(r,s){for(const o of r)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(e.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(n!==null)throw n===t.op?new We(Ce.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new We(Ce.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class LX{convertValue(t,n="none"){switch(Nl(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Wn(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Vl(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw mt()}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const i={};return Kl(t,(r,s)=>{i[r]=this.convertValue(s,n)}),i}convertVectorValue(t){var n,i,r;const s=(r=(i=(n=t.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||i===void 0?void 0:i.values)===null||r===void 0?void 0:r.map(o=>Wn(o.doubleValue));return new JE(s)}convertGeoPoint(t){return new Up(Wn(t.latitude),Wn(t.longitude))}convertArray(t,n){return(t.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(t,n){switch(n){case"previous":const i=AE(t);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(If(t));default:return null}}convertTimestamp(t){const n=pa(t);return new St(n.seconds,n.nanos)}convertDocumentKey(t,n){const i=kn.fromString(t);dn(C2(i));const r=new Af(i.get(1),i.get(3)),s=new rt(i.popFirst(5));return r.isEqual(n)||wo(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o1(e,t,n){let i;return i=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class sL extends eL{constructor(t,n,i,r,s,o){super(t,n,i,r,o),this._firestore=t,this._firestoreImpl=t,this.metadata=s}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new fm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const i=this._document.data.field(Wp("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}}class fm extends sL{data(t={}){return super.data(t)}}class oL{constructor(t,n,i,r){this._firestore=t,this._userDataWriter=n,this._snapshot=r,this.metadata=new Md(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(i=>{t.call(n,new fm(this._firestore,this._userDataWriter,i.key,i,new Md(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new We(Ce.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,s){if(r._snapshot.oldDocs.isEmpty()){let o=0;return r._snapshot.docChanges.map(a=>{const l=new fm(r._firestore,r._userDataWriter,a.doc.key,a.doc,new Md(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new fm(r._firestore,r._userDataWriter,a.doc.key,a.doc,new Md(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter);let u=-1,d=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:FX(a.type),doc:l,oldIndex:u,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function FX(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return mt()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a1(e){e=Cr(e,Qi);const t=Cr(e.firestore,Eo);return EX(Rh(t),e._key).then(n=>aL(t,e,n))}class l1 extends LX{constructor(t){super(),this.firestore=t}convertBytes(t){return new gc(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new Qi(this.firestore,null,n)}}function S0(e){e=Cr(e,Va);const t=Cr(e.firestore,Eo),n=Rh(t),i=new l1(t);return tL(e._query),CX(n,e._query).then(r=>new oL(t,i,e,r))}function $X(e,t,n){e=Cr(e,Qi);const i=Cr(e.firestore,Eo),r=o1(e.converter,t,n);return qp(i,[e1(jp(i),"setDoc",e._key,r,e.converter!==null,n).toMutation(e._key,lr.none())])}function BX(e){return qp(Cr(e.firestore,Eo),[new Vp(e._key,lr.none())])}function UX(e,t){const n=Cr(e.firestore,Eo),i=Nd(e),r=o1(e.converter,t);return qp(n,[e1(jp(e.firestore),"addDoc",i._key,r,e.converter!==null,{}).toMutation(i._key,lr.exists(!1))]).then(()=>i)}function Gp(e,...t){var n,i,r;e=Gn(e);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof t[o]!="object"||TA(t[o])||(s=t[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(TA(t[o])){const c=t[o];t[o]=(n=c.next)===null||n===void 0?void 0:n.bind(c),t[o+1]=(i=c.error)===null||i===void 0?void 0:i.bind(c),t[o+2]=(r=c.complete)===null||r===void 0?void 0:r.bind(c)}let l,u,d;if(e instanceof Qi)u=Cr(e.firestore,Eo),d=Pp(e._key.path),l={next:c=>{t[o]&&t[o](aL(u,e,c))},error:t[o+1],complete:t[o+2]};else{const c=Cr(e,Va);u=Cr(c.firestore,Eo),d=c._query;const f=new l1(u);l={next:v=>{t[o]&&t[o](new oL(u,f,c,v))},error:t[o+1],complete:t[o+2]},tL(e._query)}return function(f,v,m,p){const _=new XE(p),y=new YE(v,_,m);return f.asyncQueue.enqueueAndForget(async()=>zE(await og(f),y)),()=>{_.za(),f.asyncQueue.enqueueAndForget(async()=>GE(await og(f),y))}}(Rh(u),d,a,l)}function qp(e,t){return function(i,r){const s=new go;return i.asyncQueue.enqueueAndForget(async()=>cX(await SX(i),r,s)),s.promise}(Rh(e),t)}function aL(e,t,n){const i=n.docs.get(t._key),r=new l1(e);return new sL(e,r,t._key,i,new Md(n.hasPendingWrites,n.fromCache),t.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jX{constructor(t,n){this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=jp(t)}set(t,n,i){this._verifyNotCommitted();const r=$y(t,this._firestore),s=o1(r.converter,n,i),o=e1(this._dataReader,"WriteBatch.set",r._key,s,r.converter!==null,i);return this._mutations.push(o.toMutation(r._key,lr.none())),this}update(t,n,i,...r){this._verifyNotCommitted();const s=$y(t,this._firestore);let o;return o=typeof(n=Gn(n))=="string"||n instanceof Oh?OX(this._dataReader,"WriteBatch.update",s._key,n,i,r):RX(this._dataReader,"WriteBatch.update",s._key,n),this._mutations.push(o.toMutation(s._key,lr.exists(!0))),this}delete(t){this._verifyNotCommitted();const n=$y(t,this._firestore);return this._mutations=this._mutations.concat(new Vp(n._key,lr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new We(Ce.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function $y(e,t){if((e=Gn(e)).firestore!==t)throw new We(Ce.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PA(e){return Rh(e=Cr(e,Eo)),new jX(e,t=>qp(e,t))}(function(t,n=!0){(function(r){Fc=r})(Ra),Os(new ss("firestore",(i,{instanceIdentifier:r,options:s})=>{const o=i.getProvider("app").getImmediate(),a=new Eo(new Hq(i.getProvider("auth-internal")),new qq(i.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new We(Ce.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Af(u.options.projectId,d)}(o,r),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Sr(HI,"4.7.2",t),Sr(HI,"4.7.2","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lL="firebasestorage.googleapis.com",HX="storageBucket",WX=2*60*1e3,zX=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us extends $s{constructor(t,n,i=0){super(By(t),`Firebase Storage: ${n} (${By(t)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Us.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return By(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Ns;(function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Ns||(Ns={}));function By(e){return"storage/"+e}function GX(){const e="An unknown error occurred, please check the error payload for server response.";return new Us(Ns.UNKNOWN,e)}function qX(){return new Us(Ns.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function YX(){return new Us(Ns.CANCELED,"User canceled the upload/download.")}function KX(e){return new Us(Ns.INVALID_URL,"Invalid URL '"+e+"'.")}function XX(e){return new Us(Ns.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+e+"'.")}function xA(e){return new Us(Ns.INVALID_ARGUMENT,e)}function uL(){return new Us(Ns.APP_DELETED,"The Firebase app was deleted.")}function QX(e){return new Us(Ns.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr{constructor(t,n){this.bucket=t,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,n){let i;try{i=Qr.makeFromUrl(t,n)}catch{return new Qr(t,"")}if(i.path==="")return i;throw XX(t)}static makeFromUrl(t,n){let i=null;const r="([A-Za-z0-9.\\-_]+)";function s(k){k.path.charAt(k.path.length-1)==="/"&&(k.path_=k.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+r+o,"i"),l={bucket:1,path:3};function u(k){k.path_=decodeURIComponent(k.path)}const d="v[A-Za-z0-9_]+",c=n.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",v=new RegExp(`^https?://${c}/${d}/b/${r}/o${f}`,"i"),m={bucket:1,path:3},p=n===lL?"(?:storage.googleapis.com|storage.cloud.google.com)":n,_="([^?#]*)",y=new RegExp(`^https?://${p}/${r}/${_}`,"i"),C=[{regex:a,indices:l,postModify:s},{regex:v,indices:m,postModify:u},{regex:y,indices:{bucket:1,path:2},postModify:u}];for(let k=0;k<C.length;k++){const R=C[k],O=R.regex.exec(t);if(O){const x=O[R.indices.bucket];let S=O[R.indices.path];S||(S=""),i=new Qr(x,S),R.postModify(i);break}}if(i==null)throw KX(t);return i}}class JX{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZX(e,t,n){let i=1,r=null,s=null,o=!1,a=0;function l(){return a===2}let u=!1;function d(..._){u||(u=!0,t.apply(null,_))}function c(_){r=setTimeout(()=>{r=null,e(v,l())},_)}function f(){s&&clearTimeout(s)}function v(_,...y){if(u){f();return}if(_){f(),d.call(null,_,...y);return}if(l()||o){f(),d.call(null,_,...y);return}i<64&&(i*=2);let C;a===1?(a=2,C=0):C=(i+Math.random())*1e3,c(C)}let m=!1;function p(_){m||(m=!0,f(),!u&&(r!==null?(_||(a=2),clearTimeout(r),c(0)):_||(a=1)))}return c(0),s=setTimeout(()=>{o=!0,p(!0)},n),p}function eQ(e){e(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tQ(e){return e!==void 0}function DA(e,t,n,i){if(i<t)throw xA(`Invalid value for '${e}'. Expected ${t} or greater.`);if(i>n)throw xA(`Invalid value for '${e}'. Expected ${n} or less.`)}function nQ(e){const t=encodeURIComponent;let n="?";for(const i in e)if(e.hasOwnProperty(i)){const r=t(i)+"="+t(e[i]);n=n+r+"&"}return n=n.slice(0,-1),n}var lg;(function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"})(lg||(lg={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iQ(e,t){const n=e>=500&&e<600,r=[408,429].indexOf(e)!==-1,s=t.indexOf(e)!==-1;return n||r||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rQ{constructor(t,n,i,r,s,o,a,l,u,d,c,f=!0){this.url_=t,this.method_=n,this.headers_=i,this.body_=r,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=d,this.connectionFactory_=c,this.retry=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((v,m)=>{this.resolve_=v,this.reject_=m,this.start_()})}start_(){const t=(i,r)=>{if(r){i(!1,new Av(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const l=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===lg.NO_ERROR,l=s.getStatus();if(!a||iQ(l,this.additionalRetryCodes_)&&this.retry){const d=s.getErrorCode()===lg.ABORT;i(!1,new Av(!1,null,d));return}const u=this.successCodes_.indexOf(l)!==-1;i(!0,new Av(u,s))})},n=(i,r)=>{const s=this.resolve_,o=this.reject_,a=r.connection;if(r.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());tQ(l)?s(l):s()}catch(l){o(l)}else if(a!==null){const l=GX();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(r.canceled){const l=this.appDelete_?uL():YX();o(l)}else{const l=qX();o(l)}};this.canceled_?n(!1,new Av(!1,null,!0)):this.backoffId_=ZX(t,n,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&eQ(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Av{constructor(t,n,i){this.wasSuccessCode=t,this.connection=n,this.canceled=!!i}}function sQ(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function oQ(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function aQ(e,t){t&&(e["X-Firebase-GMPID"]=t)}function lQ(e,t){t!==null&&(e["X-Firebase-AppCheck"]=t)}function uQ(e,t,n,i,r,s,o=!0){const a=nQ(e.urlParams),l=e.url+a,u=Object.assign({},e.headers);return aQ(u,t),sQ(u,n),oQ(u,s),lQ(u,i),new rQ(l,e.method,u,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,r,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cQ(e){if(e.length===0)return null;const t=e.lastIndexOf("/");return t===-1?"":e.slice(0,t)}function dQ(e){const t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fQ=class E0{constructor(t,n){this._service=t,n instanceof Qr?this._location=n:this._location=Qr.makeFromUrl(n,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,n){return new E0(t,n)}get root(){const t=new Qr(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return dQ(this._location.path)}get storage(){return this._service}get parent(){const t=cQ(this._location.path);if(t===null)return null;const n=new Qr(this._location.bucket,t);return new E0(this._service,n)}_throwIfRoot(t){if(this._location.path==="")throw QX(t)}};function RA(e,t){const n=t==null?void 0:t[HX];return n==null?null:Qr.makeFromBucketSpec(n,e)}class hQ{constructor(t,n,i,r,s){this.app=t,this._authProvider=n,this._appCheckProvider=i,this._url=r,this._firebaseVersion=s,this._bucket=null,this._host=lL,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=WX,this._maxUploadRetryTime=zX,this._requests=new Set,r!=null?this._bucket=Qr.makeFromBucketSpec(r,this._host):this._bucket=RA(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=Qr.makeFromBucketSpec(this._url,t):this._bucket=RA(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){DA("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){DA("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const n=await t.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new fQ(this,t)}_makeRequest(t,n,i,r,s=!0){if(this._deleted)return new JX(uL());{const o=uQ(t,this._appId,i,r,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(t,n){const[i,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,n,i,r).getPromise()}}const OA="@firebase/storage",VA="0.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vQ="storage";function mQ(e,{instanceIdentifier:t}){const n=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),r=e.getProvider("app-check-internal");return new hQ(n,i,r,t,Ra)}function gQ(){Os(new ss(vQ,mQ,"PUBLIC").setMultipleInstances(!0)),Sr(OA,VA,""),Sr(OA,VA,"esm2017")}gQ();const Uy=new WeakMap;function cL(e,t){return Uy.has(t)||Uy.set(t,{f:{},r:{},s:{},u:{}}),Uy.get(t)}function pQ(e,t,n,i){if(!e)return n;const[r,s]=dL(e);if(!r)return n;const o=cL(void 0,i)[r]||{},a=t||s;return a&&a in o?o[a]:n}function _Q(e,t,n,i){if(!e)return;const[r,s]=dL(e);if(!r)return;const o=cL(void 0,i)[r],a=t||s;if(a)return n.then(l=>{o[a]=l}).catch(ys),a}function dL(e){return q8(e)||Y8(e)?["f",e.path]:K8(e)?["r",e.toString()]:X8(e)?["s",e.toString()]:[]}const jy=new WeakMap;function yQ(e,t,n){const i=bh();jy.has(i)||jy.set(i,new Map);const r=jy.get(i),s=_Q(t,n,e,i);return s&&r.set(s,e),s?()=>r.delete(s):ys}const bQ={toFirestore(e){return e},fromFirestore(e,t){return e.exists()?Object.defineProperties(e.data(t),{id:{value:e.id}}):null}};function C0(e,t,n,i){if(!z8(e))return[e,{}];const r=[{},{}],s=Object.keys(n).reduce((a,l)=>{const u=n[l];return a[u.path]=u.data(),a},{});function o(a,l,u,d){l=l||{};const[c,f]=d;Object.getOwnPropertyNames(a).forEach(v=>{const m=Object.getOwnPropertyDescriptor(a,v);m&&!m.enumerable&&Object.defineProperty(c,v,m)});for(const v in a){const m=a[v];if(m==null||m instanceof Date||m instanceof St||m instanceof Up)c[v]=m;else if(iE(m)){const p=u+v;c[v]=p in n?l[v]:m.path,f[p]=m.converter?m:m.withConverter(i.converter)}else if(Array.isArray(m)){c[v]=Array(m.length);for(let p=0;p<m.length;p++){const _=m[p];_&&_.path in s&&(c[v][p]=s[_.path])}o(m,l[v]||c[v],u+v+".",[c[v],f])}else Gl(m)?(c[v]={},o(m,l[v],u+v+".",[c[v],f])):c[v]=m}}return o(e,t,"",r),r}const u1={reset:!1,wait:!0,maxRefDepth:2,converter:bQ,snapshotOptions:{serverTimestamps:"estimate"}};function ug(e){for(const t in e)e[t].unsub()}function k0(e,t,n,i,r,s,o,a,l){const[u,d]=C0(i.data(e.snapshotOptions),nE(t,n),r,e);s.set(t,n,u),T0(e,t,n,r,d,s,o,a,l)}function wQ({ref:e,target:t,path:n,depth:i,resolve:r,reject:s,ops:o},a){const l=Object.create(null);let u=ys;return a.once?a1(e).then(d=>{d.exists()?k0(a,t,n,d,l,o,i,r,s):(o.set(t,n,null),r())}).catch(s):u=Gp(e,d=>{d.exists()?k0(a,t,n,d,l,o,i,r,s):(o.set(t,n,null),r())},s),()=>{u(),ug(l)}}function T0(e,t,n,i,r,s,o,a,l){const u=Object.keys(r);if(Object.keys(i).filter(p=>u.indexOf(p)<0).forEach(p=>{i[p].unsub(),delete i[p]}),!u.length||++o>e.maxRefDepth)return a(n);let c=0;const f=u.length,v=Object.create(null);function m(p){p in v&&++c>=f&&a(n)}u.forEach(p=>{const _=i[p],y=r[p],b=`${n}.${p}`;if(v[b]=!0,_)if(_.path!==y.path)_.unsub();else return;i[p]={data:()=>nE(t,b),unsub:wQ({ref:y,target:t,path:b,depth:o,ops:s,resolve:m.bind(null,b),reject:l},e),path:y.path}})}function SQ(e,t,n,i,r,s){const o=Object.assign({},u1,s),{snapshotListenOptions:a,snapshotOptions:l,wait:u,once:d}=o,c="value";let f=W(u?[]:e.value);u||n.set(e,c,[]);const v=i;let m,p=ys;const _=[],y={added:({newIndex:C,doc:k})=>{_.splice(C,0,Object.create(null));const R=_[C],[O,x]=C0(k.data(l),void 0,R,o);n.add(fn(f),C,O),T0(o,f,`${c}.${C}`,R,x,n,0,i.bind(null,k),r)},modified:({oldIndex:C,newIndex:k,doc:R})=>{const O=fn(f),x=_[C],S=O[C],[w,E]=C0(R.data(l),S,x,o);_.splice(k,0,x),n.remove(O,C),n.add(O,k,w),T0(o,f,`${c}.${k}`,x,E,n,0,i,r)},removed:({oldIndex:C})=>{const k=fn(f);n.remove(k,C),ug(_.splice(C,1)[0])}};function b(C){const k=C.docChanges(a);if(!m&&k.length){m=!0;let R=0;const O=k.length,x=Object.create(null);for(let S=0;S<O;S++)x[k[S].doc.id]=!0;i=S=>{S&&S.id in x&&++R>=O&&(u&&(n.set(e,c,fn(f)),f=e),v(fn(f)),i=ys)}}k.forEach(R=>{y[R.type](R)}),k.length||(u&&(n.set(e,c,fn(f)),f=e),i(fn(f)))}return d?S0(t).then(b).catch(r):p=Gp(t,b,r),C=>{if(p(),C){const k=typeof C=="function"?C():[];n.set(e,c,k)}_.forEach(ug)}}function EQ(e,t,n,i,r,s){const o=Object.assign({},u1,s),a="value",l=Object.create(null);i=Q8(i,()=>nE(e,a));let u=ys;function d(c){c.exists()?k0(o,e,a,c,l,n,0,i,r):(n.set(e,a,null),i(null))}return o.once?a1(t).then(d).catch(r):u=Gp(t,d,r),c=>{if(u(),c){const f=typeof c=="function"?c():null;n.set(e,a,f)}ug(l)}}const NA=Symbol();function CQ(e,t){let n=ys;const i=Object.assign({},u1,t),r=fn(e),s=i.target||W();Z8()&&(i.once=!0);const o=pQ(r,i.ssrKey,NA,bh()),a=o!==NA;a&&(s.value=o);let l=!a;const u=W(!1),d=W(),c=ke(),f=zR();let v=ys;function m(){let y=fn(e);const b=new Promise((C,k)=>{if(n(i.reset),!y)return n=ys,C(null);u.value=l,l=!0,y.converter||(y=y.withConverter(i.converter)),n=(iE(y)?EQ:SQ)(s,y,kQ,C,k,i)}).catch(C=>(c.value===b&&(d.value=C),Promise.reject(C))).finally(()=>{c.value===b&&(u.value=!1)});c.value=b}let p=ys;(Je(e)||typeof e=="function")&&(p=ge(e,m)),m(),r&&(v=yQ(c.value,r,i.ssrKey)),zl()&&PO(()=>c.value),f&&ki(_);function _(y=i.reset){p(),v(),n(y)}return Object.defineProperties(s,{error:{get:()=>d},data:{get:()=>s},pending:{get:()=>u},promise:{get:()=>c},stop:{get:()=>_}})}const kQ={set:(e,t,n)=>H8(e,t,n),add:(e,t,n)=>e.splice(t,0,n),remove:(e,t)=>e.splice(t,1)};function Yp(e,t){return CQ(e,t)}function I0(e){return q2(bh(e))}function TQ(e){return IQ({initialUser:e,dependencies:{popupRedirectResolver:bN,persistence:[gN,cN,ZS]}})}const fL=Symbol("VueFireAuth");function IQ({dependencies:e,initialUser:t}){return(n,i)=>{const[r,s]=AQ(n,i,t,e);t7(r,s)}}function AQ(e,t,n,i,r=tN(e,i)){const s=e7(e,t).run(()=>W(n));return CN.set(e,s),t.provide(fL,r),[s,r]}function hL(e){return j8?ot(fL):null}function PQ(e,{firebaseApp:t,modules:n=[]}){e.provide(EN,t);for(const i of n)i(t,e)}/*!
  * vue-router v4.4.5
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const Ru=typeof document<"u";function vL(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function xQ(e){return e.__esModule||e[Symbol.toStringTag]==="Module"||e.default&&vL(e.default)}const Qt=Object.assign;function Hy(e,t){const n={};for(const i in t){const r=t[i];n[i]=ls(r)?r.map(e):e(r)}return n}const nf=()=>{},ls=Array.isArray,mL=/#/g,DQ=/&/g,RQ=/\//g,OQ=/=/g,VQ=/\?/g,gL=/\+/g,NQ=/%5B/g,MQ=/%5D/g,pL=/%5E/g,LQ=/%60/g,_L=/%7B/g,FQ=/%7C/g,yL=/%7D/g,$Q=/%20/g;function c1(e){return encodeURI(""+e).replace(FQ,"|").replace(NQ,"[").replace(MQ,"]")}function BQ(e){return c1(e).replace(_L,"{").replace(yL,"}").replace(pL,"^")}function A0(e){return c1(e).replace(gL,"%2B").replace($Q,"+").replace(mL,"%23").replace(DQ,"%26").replace(LQ,"`").replace(_L,"{").replace(yL,"}").replace(pL,"^")}function UQ(e){return A0(e).replace(OQ,"%3D")}function jQ(e){return c1(e).replace(mL,"%23").replace(VQ,"%3F")}function HQ(e){return e==null?"":jQ(e).replace(RQ,"%2F")}function Of(e){try{return decodeURIComponent(""+e)}catch{}return""+e}const WQ=/\/$/,zQ=e=>e.replace(WQ,"");function Wy(e,t,n="/"){let i,r={},s="",o="";const a=t.indexOf("#");let l=t.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(i=t.slice(0,l),s=t.slice(l+1,a>-1?a:t.length),r=e(s)),a>-1&&(i=i||t.slice(0,a),o=t.slice(a,t.length)),i=KQ(i??t,n),{fullPath:i+(s&&"?")+s+o,path:i,query:r,hash:Of(o)}}function GQ(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function MA(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function qQ(e,t,n){const i=t.matched.length-1,r=n.matched.length-1;return i>-1&&i===r&&pc(t.matched[i],n.matched[r])&&bL(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function pc(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function bL(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!YQ(e[n],t[n]))return!1;return!0}function YQ(e,t){return ls(e)?LA(e,t):ls(t)?LA(t,e):e===t}function LA(e,t){return ls(t)?e.length===t.length&&e.every((n,i)=>n===t[i]):e.length===1&&e[0]===t}function KQ(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),i=e.split("/"),r=i[i.length-1];(r===".."||r===".")&&i.push("");let s=n.length-1,o,a;for(o=0;o<i.length;o++)if(a=i[o],a!==".")if(a==="..")s>1&&s--;else break;return n.slice(0,s).join("/")+"/"+i.slice(o).join("/")}const Wo={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var Vf;(function(e){e.pop="pop",e.push="push"})(Vf||(Vf={}));var rf;(function(e){e.back="back",e.forward="forward",e.unknown=""})(rf||(rf={}));function XQ(e){if(!e)if(Ru){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),zQ(e)}const QQ=/^[^#]+#/;function JQ(e,t){return e.replace(QQ,"#")+t}function ZQ(e,t){const n=document.documentElement.getBoundingClientRect(),i=e.getBoundingClientRect();return{behavior:t.behavior,left:i.left-n.left-(t.left||0),top:i.top-n.top-(t.top||0)}}const Kp=()=>({left:window.scrollX,top:window.scrollY});function eJ(e){let t;if("el"in e){const n=e.el,i=typeof n=="string"&&n.startsWith("#"),r=typeof n=="string"?i?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!r)return;t=ZQ(r,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function FA(e,t){return(history.state?history.state.position-t:-1)+e}const P0=new Map;function tJ(e,t){P0.set(e,t)}function nJ(e){const t=P0.get(e);return P0.delete(e),t}let iJ=()=>location.protocol+"//"+location.host;function wL(e,t){const{pathname:n,search:i,hash:r}=t,s=e.indexOf("#");if(s>-1){let a=r.includes(e.slice(s))?e.slice(s).length:1,l=r.slice(a);return l[0]!=="/"&&(l="/"+l),MA(l,"")}return MA(n,e)+i+r}function rJ(e,t,n,i){let r=[],s=[],o=null;const a=({state:f})=>{const v=wL(e,location),m=n.value,p=t.value;let _=0;if(f){if(n.value=v,t.value=f,o&&o===m){o=null;return}_=p?f.position-p.position:0}else i(v);r.forEach(y=>{y(n.value,m,{delta:_,type:Vf.pop,direction:_?_>0?rf.forward:rf.back:rf.unknown})})};function l(){o=n.value}function u(f){r.push(f);const v=()=>{const m=r.indexOf(f);m>-1&&r.splice(m,1)};return s.push(v),v}function d(){const{history:f}=window;f.state&&f.replaceState(Qt({},f.state,{scroll:Kp()}),"")}function c(){for(const f of s)f();s=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",d)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",d,{passive:!0}),{pauseListeners:l,listen:u,destroy:c}}function $A(e,t,n,i=!1,r=!1){return{back:e,current:t,forward:n,replaced:i,position:window.history.length,scroll:r?Kp():null}}function sJ(e){const{history:t,location:n}=window,i={value:wL(e,n)},r={value:t.state};r.value||s(i.value,{back:null,current:i.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function s(l,u,d){const c=e.indexOf("#"),f=c>-1?(n.host&&document.querySelector("base")?e:e.slice(c))+l:iJ()+e+l;try{t[d?"replaceState":"pushState"](u,"",f),r.value=u}catch(v){console.error(v),n[d?"replace":"assign"](f)}}function o(l,u){const d=Qt({},t.state,$A(r.value.back,l,r.value.forward,!0),u,{position:r.value.position});s(l,d,!0),i.value=l}function a(l,u){const d=Qt({},r.value,t.state,{forward:l,scroll:Kp()});s(d.current,d,!0);const c=Qt({},$A(i.value,l,null),{position:d.position+1},u);s(l,c,!1),i.value=l}return{location:i,state:r,push:a,replace:o}}function oJ(e){e=XQ(e);const t=sJ(e),n=rJ(e,t.state,t.location,t.replace);function i(s,o=!0){o||n.pauseListeners(),history.go(s)}const r=Qt({location:"",base:e,go:i,createHref:JQ.bind(null,e)},t,n);return Object.defineProperty(r,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(r,"state",{enumerable:!0,get:()=>t.state.value}),r}function aJ(e){return e=location.host?e||location.pathname+location.search:"",e.includes("#")||(e+="#"),oJ(e)}function lJ(e){return typeof e=="string"||e&&typeof e=="object"}function SL(e){return typeof e=="string"||typeof e=="symbol"}const EL=Symbol("");var BA;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(BA||(BA={}));function _c(e,t){return Qt(new Error,{type:e,[EL]:!0},t)}function Qs(e,t){return e instanceof Error&&EL in e&&(t==null||!!(e.type&t))}const UA="[^/]+?",uJ={sensitive:!1,strict:!1,start:!0,end:!0},cJ=/[.+*?^${}()[\]/\\]/g;function dJ(e,t){const n=Qt({},uJ,t),i=[];let r=n.start?"^":"";const s=[];for(const u of e){const d=u.length?[]:[90];n.strict&&!u.length&&(r+="/");for(let c=0;c<u.length;c++){const f=u[c];let v=40+(n.sensitive?.25:0);if(f.type===0)c||(r+="/"),r+=f.value.replace(cJ,"\\$&"),v+=40;else if(f.type===1){const{value:m,repeatable:p,optional:_,regexp:y}=f;s.push({name:m,repeatable:p,optional:_});const b=y||UA;if(b!==UA){v+=10;try{new RegExp(`(${b})`)}catch(k){throw new Error(`Invalid custom RegExp for param "${m}" (${b}): `+k.message)}}let C=p?`((?:${b})(?:/(?:${b}))*)`:`(${b})`;c||(C=_&&u.length<2?`(?:/${C})`:"/"+C),_&&(C+="?"),r+=C,v+=20,_&&(v+=-8),p&&(v+=-20),b===".*"&&(v+=-50)}d.push(v)}i.push(d)}if(n.strict&&n.end){const u=i.length-1;i[u][i[u].length-1]+=.7000000000000001}n.strict||(r+="/?"),n.end?r+="$":n.strict&&(r+="(?:/|$)");const o=new RegExp(r,n.sensitive?"":"i");function a(u){const d=u.match(o),c={};if(!d)return null;for(let f=1;f<d.length;f++){const v=d[f]||"",m=s[f-1];c[m.name]=v&&m.repeatable?v.split("/"):v}return c}function l(u){let d="",c=!1;for(const f of e){(!c||!d.endsWith("/"))&&(d+="/"),c=!1;for(const v of f)if(v.type===0)d+=v.value;else if(v.type===1){const{value:m,repeatable:p,optional:_}=v,y=m in u?u[m]:"";if(ls(y)&&!p)throw new Error(`Provided param "${m}" is an array but it is not repeatable (* or + modifiers)`);const b=ls(y)?y.join("/"):y;if(!b)if(_)f.length<2&&(d.endsWith("/")?d=d.slice(0,-1):c=!0);else throw new Error(`Missing required param "${m}"`);d+=b}}return d||"/"}return{re:o,score:i,keys:s,parse:a,stringify:l}}function fJ(e,t){let n=0;for(;n<e.length&&n<t.length;){const i=t[n]-e[n];if(i)return i;n++}return e.length<t.length?e.length===1&&e[0]===80?-1:1:e.length>t.length?t.length===1&&t[0]===80?1:-1:0}function CL(e,t){let n=0;const i=e.score,r=t.score;for(;n<i.length&&n<r.length;){const s=fJ(i[n],r[n]);if(s)return s;n++}if(Math.abs(r.length-i.length)===1){if(jA(i))return 1;if(jA(r))return-1}return r.length-i.length}function jA(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const hJ={type:0,value:""},vJ=/[a-zA-Z0-9_]/;function mJ(e){if(!e)return[[]];if(e==="/")return[[hJ]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(v){throw new Error(`ERR (${n})/"${u}": ${v}`)}let n=0,i=n;const r=[];let s;function o(){s&&r.push(s),s=[]}let a=0,l,u="",d="";function c(){u&&(n===0?s.push({type:0,value:u}):n===1||n===2||n===3?(s.length>1&&(l==="*"||l==="+")&&t(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),s.push({type:1,value:u,regexp:d,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):t("Invalid state to consume buffer"),u="")}function f(){u+=l}for(;a<e.length;){if(l=e[a++],l==="\\"&&n!==2){i=n,n=4;continue}switch(n){case 0:l==="/"?(u&&c(),o()):l===":"?(c(),n=1):f();break;case 4:f(),n=i;break;case 1:l==="("?n=2:vJ.test(l)?f():(c(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?d[d.length-1]=="\\"?d=d.slice(0,-1)+l:n=3:d+=l;break;case 3:c(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,d="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${u}"`),c(),o(),r}function gJ(e,t,n){const i=dJ(mJ(e.path),n),r=Qt(i,{record:e,parent:t,children:[],alias:[]});return t&&!r.record.aliasOf==!t.record.aliasOf&&t.children.push(r),r}function pJ(e,t){const n=[],i=new Map;t=GA({strict:!1,end:!0,sensitive:!1},t);function r(c){return i.get(c)}function s(c,f,v){const m=!v,p=WA(c);p.aliasOf=v&&v.record;const _=GA(t,c),y=[p];if("alias"in c){const k=typeof c.alias=="string"?[c.alias]:c.alias;for(const R of k)y.push(WA(Qt({},p,{components:v?v.record.components:p.components,path:R,aliasOf:v?v.record:p})))}let b,C;for(const k of y){const{path:R}=k;if(f&&R[0]!=="/"){const O=f.record.path,x=O[O.length-1]==="/"?"":"/";k.path=f.record.path+(R&&x+R)}if(b=gJ(k,f,_),v?v.alias.push(b):(C=C||b,C!==b&&C.alias.push(b),m&&c.name&&!zA(b)&&o(c.name)),kL(b)&&l(b),p.children){const O=p.children;for(let x=0;x<O.length;x++)s(O[x],b,v&&v.children[x])}v=v||b}return C?()=>{o(C)}:nf}function o(c){if(SL(c)){const f=i.get(c);f&&(i.delete(c),n.splice(n.indexOf(f),1),f.children.forEach(o),f.alias.forEach(o))}else{const f=n.indexOf(c);f>-1&&(n.splice(f,1),c.record.name&&i.delete(c.record.name),c.children.forEach(o),c.alias.forEach(o))}}function a(){return n}function l(c){const f=bJ(c,n);n.splice(f,0,c),c.record.name&&!zA(c)&&i.set(c.record.name,c)}function u(c,f){let v,m={},p,_;if("name"in c&&c.name){if(v=i.get(c.name),!v)throw _c(1,{location:c});_=v.record.name,m=Qt(HA(f.params,v.keys.filter(C=>!C.optional).concat(v.parent?v.parent.keys.filter(C=>C.optional):[]).map(C=>C.name)),c.params&&HA(c.params,v.keys.map(C=>C.name))),p=v.stringify(m)}else if(c.path!=null)p=c.path,v=n.find(C=>C.re.test(p)),v&&(m=v.parse(p),_=v.record.name);else{if(v=f.name?i.get(f.name):n.find(C=>C.re.test(f.path)),!v)throw _c(1,{location:c,currentLocation:f});_=v.record.name,m=Qt({},f.params,c.params),p=v.stringify(m)}const y=[];let b=v;for(;b;)y.unshift(b.record),b=b.parent;return{name:_,path:p,params:m,matched:y,meta:yJ(y)}}e.forEach(c=>s(c));function d(){n.length=0,i.clear()}return{addRoute:s,resolve:u,removeRoute:o,clearRoutes:d,getRoutes:a,getRecordMatcher:r}}function HA(e,t){const n={};for(const i of t)i in e&&(n[i]=e[i]);return n}function WA(e){const t={path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:e.aliasOf,beforeEnter:e.beforeEnter,props:_J(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function _J(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const i in e.components)t[i]=typeof n=="object"?n[i]:n;return t}function zA(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function yJ(e){return e.reduce((t,n)=>Qt(t,n.meta),{})}function GA(e,t){const n={};for(const i in e)n[i]=i in t?t[i]:e[i];return n}function bJ(e,t){let n=0,i=t.length;for(;n!==i;){const s=n+i>>1;CL(e,t[s])<0?i=s:n=s+1}const r=wJ(e);return r&&(i=t.lastIndexOf(r,i-1)),i}function wJ(e){let t=e;for(;t=t.parent;)if(kL(t)&&CL(e,t)===0)return t}function kL({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function SJ(e){const t={};if(e===""||e==="?")return t;const i=(e[0]==="?"?e.slice(1):e).split("&");for(let r=0;r<i.length;++r){const s=i[r].replace(gL," "),o=s.indexOf("="),a=Of(o<0?s:s.slice(0,o)),l=o<0?null:Of(s.slice(o+1));if(a in t){let u=t[a];ls(u)||(u=t[a]=[u]),u.push(l)}else t[a]=l}return t}function qA(e){let t="";for(let n in e){const i=e[n];if(n=UQ(n),i==null){i!==void 0&&(t+=(t.length?"&":"")+n);continue}(ls(i)?i.map(s=>s&&A0(s)):[i&&A0(i)]).forEach(s=>{s!==void 0&&(t+=(t.length?"&":"")+n,s!=null&&(t+="="+s))})}return t}function EJ(e){const t={};for(const n in e){const i=e[n];i!==void 0&&(t[n]=ls(i)?i.map(r=>r==null?null:""+r):i==null?i:""+i)}return t}const CJ=Symbol(""),YA=Symbol(""),Xp=Symbol(""),d1=Symbol(""),x0=Symbol("");function Cd(){let e=[];function t(i){return e.push(i),()=>{const r=e.indexOf(i);r>-1&&e.splice(r,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function Xo(e,t,n,i,r,s=o=>o()){const o=i&&(i.enterCallbacks[r]=i.enterCallbacks[r]||[]);return()=>new Promise((a,l)=>{const u=f=>{f===!1?l(_c(4,{from:n,to:t})):f instanceof Error?l(f):lJ(f)?l(_c(2,{from:t,to:f})):(o&&i.enterCallbacks[r]===o&&typeof f=="function"&&o.push(f),a())},d=s(()=>e.call(i&&i.instances[r],t,n,u));let c=Promise.resolve(d);e.length<3&&(c=c.then(u)),c.catch(f=>l(f))})}function zy(e,t,n,i,r=s=>s()){const s=[];for(const o of e)for(const a in o.components){let l=o.components[a];if(!(t!=="beforeRouteEnter"&&!o.instances[a]))if(vL(l)){const d=(l.__vccOpts||l)[t];d&&s.push(Xo(d,n,i,o,a,r))}else{let u=l();s.push(()=>u.then(d=>{if(!d)throw new Error(`Couldn't resolve component "${a}" at "${o.path}"`);const c=xQ(d)?d.default:d;o.mods[a]=d,o.components[a]=c;const v=(c.__vccOpts||c)[t];return v&&Xo(v,n,i,o,a,r)()}))}}return s}function KA(e){const t=ot(Xp),n=ot(d1),i=I(()=>{const l=oe(e.to);return t.resolve(l)}),r=I(()=>{const{matched:l}=i.value,{length:u}=l,d=l[u-1],c=n.matched;if(!d||!c.length)return-1;const f=c.findIndex(pc.bind(null,d));if(f>-1)return f;const v=XA(l[u-2]);return u>1&&XA(d)===v&&c[c.length-1].path!==v?c.findIndex(pc.bind(null,l[u-2])):f}),s=I(()=>r.value>-1&&AJ(n.params,i.value.params)),o=I(()=>r.value>-1&&r.value===n.matched.length-1&&bL(n.params,i.value.params));function a(l={}){return IJ(l)?t[oe(e.replace)?"replace":"push"](oe(e.to)).catch(nf):Promise.resolve()}return{route:i,href:I(()=>i.value.href),isActive:s,isExactActive:o,navigate:a}}const kJ=At({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:KA,setup(e,{slots:t}){const n=cn(KA(e)),{options:i}=ot(Xp),r=I(()=>({[QA(e.activeClass,i.linkActiveClass,"router-link-active")]:n.isActive,[QA(e.exactActiveClass,i.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const s=t.default&&t.default(n);return e.custom?s:ni("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:r.value},s)}}}),TJ=kJ;function IJ(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function AJ(e,t){for(const n in t){const i=t[n],r=e[n];if(typeof i=="string"){if(i!==r)return!1}else if(!ls(r)||r.length!==i.length||i.some((s,o)=>s!==r[o]))return!1}return!0}function XA(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const QA=(e,t,n)=>e??t??n,PJ=At({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const i=ot(x0),r=I(()=>e.route||i.value),s=ot(YA,0),o=I(()=>{let u=oe(s);const{matched:d}=r.value;let c;for(;(c=d[u])&&!c.components;)u++;return u}),a=I(()=>r.value.matched[o.value]);Ut(YA,I(()=>o.value+1)),Ut(CJ,a),Ut(x0,r);const l=W();return ge(()=>[l.value,a.value,e.name],([u,d,c],[f,v,m])=>{d&&(d.instances[c]=u,v&&v!==d&&u&&u===f&&(d.leaveGuards.size||(d.leaveGuards=v.leaveGuards),d.updateGuards.size||(d.updateGuards=v.updateGuards))),u&&d&&(!v||!pc(d,v)||!f)&&(d.enterCallbacks[c]||[]).forEach(p=>p(u))},{flush:"post"}),()=>{const u=r.value,d=e.name,c=a.value,f=c&&c.components[d];if(!f)return JA(n.default,{Component:f,route:u});const v=c.props[d],m=v?v===!0?u.params:typeof v=="function"?v(u):v:null,_=ni(f,Qt({},m,t,{onVnodeUnmounted:y=>{y.component.isUnmounted&&(c.instances[d]=null)},ref:l}));return JA(n.default,{Component:_,route:u})||_}}});function JA(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const xJ=PJ;function DJ(e){const t=pJ(e.routes,e),n=e.parseQuery||SJ,i=e.stringifyQuery||qA,r=e.history,s=Cd(),o=Cd(),a=Cd(),l=ke(Wo);let u=Wo;Ru&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const d=Hy.bind(null,G=>""+G),c=Hy.bind(null,HQ),f=Hy.bind(null,Of);function v(G,ie){let Q,ee;return SL(G)?(Q=t.getRecordMatcher(G),ee=ie):ee=G,t.addRoute(ee,Q)}function m(G){const ie=t.getRecordMatcher(G);ie&&t.removeRoute(ie)}function p(){return t.getRoutes().map(G=>G.record)}function _(G){return!!t.getRecordMatcher(G)}function y(G,ie){if(ie=Qt({},ie||l.value),typeof G=="string"){const L=Wy(n,G,ie.path),J=t.resolve({path:L.path},ie),ce=r.createHref(L.fullPath);return Qt(L,J,{params:f(J.params),hash:Of(L.hash),redirectedFrom:void 0,href:ce})}let Q;if(G.path!=null)Q=Qt({},G,{path:Wy(n,G.path,ie.path).path});else{const L=Qt({},G.params);for(const J in L)L[J]==null&&delete L[J];Q=Qt({},G,{params:c(L)}),ie.params=c(ie.params)}const ee=t.resolve(Q,ie),X=G.hash||"";ee.params=d(f(ee.params));const _e=GQ(i,Qt({},G,{hash:BQ(X),path:ee.path})),M=r.createHref(_e);return Qt({fullPath:_e,hash:X,query:i===qA?EJ(G.query):G.query||{}},ee,{redirectedFrom:void 0,href:M})}function b(G){return typeof G=="string"?Wy(n,G,l.value.path):Qt({},G)}function C(G,ie){if(u!==G)return _c(8,{from:ie,to:G})}function k(G){return x(G)}function R(G){return k(Qt(b(G),{replace:!0}))}function O(G){const ie=G.matched[G.matched.length-1];if(ie&&ie.redirect){const{redirect:Q}=ie;let ee=typeof Q=="function"?Q(G):Q;return typeof ee=="string"&&(ee=ee.includes("?")||ee.includes("#")?ee=b(ee):{path:ee},ee.params={}),Qt({query:G.query,hash:G.hash,params:ee.path!=null?{}:G.params},ee)}}function x(G,ie){const Q=u=y(G),ee=l.value,X=G.state,_e=G.force,M=G.replace===!0,L=O(Q);if(L)return x(Qt(b(L),{state:typeof L=="object"?Qt({},X,L.state):X,force:_e,replace:M}),ie||Q);const J=Q;J.redirectedFrom=ie;let ce;return!_e&&qQ(i,ee,Q)&&(ce=_c(16,{to:J,from:ee}),ne(ee,ee,!0,!1)),(ce?Promise.resolve(ce):E(J,ee)).catch(ae=>Qs(ae)?Qs(ae,2)?ae:z(ae):H(ae,J,ee)).then(ae=>{if(ae){if(Qs(ae,2))return x(Qt({replace:M},b(ae.to),{state:typeof ae.to=="object"?Qt({},X,ae.to.state):X,force:_e}),ie||J)}else ae=P(J,ee,!0,M,X);return A(J,ee,ae),ae})}function S(G,ie){const Q=C(G,ie);return Q?Promise.reject(Q):Promise.resolve()}function w(G){const ie=Ae.values().next().value;return ie&&typeof ie.runWithContext=="function"?ie.runWithContext(G):G()}function E(G,ie){let Q;const[ee,X,_e]=RJ(G,ie);Q=zy(ee.reverse(),"beforeRouteLeave",G,ie);for(const L of ee)L.leaveGuards.forEach(J=>{Q.push(Xo(J,G,ie))});const M=S.bind(null,G,ie);return Q.push(M),se(Q).then(()=>{Q=[];for(const L of s.list())Q.push(Xo(L,G,ie));return Q.push(M),se(Q)}).then(()=>{Q=zy(X,"beforeRouteUpdate",G,ie);for(const L of X)L.updateGuards.forEach(J=>{Q.push(Xo(J,G,ie))});return Q.push(M),se(Q)}).then(()=>{Q=[];for(const L of _e)if(L.beforeEnter)if(ls(L.beforeEnter))for(const J of L.beforeEnter)Q.push(Xo(J,G,ie));else Q.push(Xo(L.beforeEnter,G,ie));return Q.push(M),se(Q)}).then(()=>(G.matched.forEach(L=>L.enterCallbacks={}),Q=zy(_e,"beforeRouteEnter",G,ie,w),Q.push(M),se(Q))).then(()=>{Q=[];for(const L of o.list())Q.push(Xo(L,G,ie));return Q.push(M),se(Q)}).catch(L=>Qs(L,8)?L:Promise.reject(L))}function A(G,ie,Q){a.list().forEach(ee=>w(()=>ee(G,ie,Q)))}function P(G,ie,Q,ee,X){const _e=C(G,ie);if(_e)return _e;const M=ie===Wo,L=Ru?history.state:{};Q&&(ee||M?r.replace(G.fullPath,Qt({scroll:M&&L&&L.scroll},X)):r.push(G.fullPath,X)),l.value=G,ne(G,ie,Q,M),z()}let D;function B(){D||(D=r.listen((G,ie,Q)=>{if(!Ne.listening)return;const ee=y(G),X=O(ee);if(X){x(Qt(X,{replace:!0}),ee).catch(nf);return}u=ee;const _e=l.value;Ru&&tJ(FA(_e.fullPath,Q.delta),Kp()),E(ee,_e).catch(M=>Qs(M,12)?M:Qs(M,2)?(x(M.to,ee).then(L=>{Qs(L,20)&&!Q.delta&&Q.type===Vf.pop&&r.go(-1,!1)}).catch(nf),Promise.reject()):(Q.delta&&r.go(-Q.delta,!1),H(M,ee,_e))).then(M=>{M=M||P(ee,_e,!1),M&&(Q.delta&&!Qs(M,8)?r.go(-Q.delta,!1):Q.type===Vf.pop&&Qs(M,20)&&r.go(-1,!1)),A(ee,_e,M)}).catch(nf)}))}let $=Cd(),j=Cd(),Y;function H(G,ie,Q){z(G);const ee=j.list();return ee.length?ee.forEach(X=>X(G,ie,Q)):console.error(G),Promise.reject(G)}function q(){return Y&&l.value!==Wo?Promise.resolve():new Promise((G,ie)=>{$.add([G,ie])})}function z(G){return Y||(Y=!G,B(),$.list().forEach(([ie,Q])=>G?Q(G):ie()),$.reset()),G}function ne(G,ie,Q,ee){const{scrollBehavior:X}=e;if(!Ru||!X)return Promise.resolve();const _e=!Q&&nJ(FA(G.fullPath,0))||(ee||!Q)&&history.state&&history.state.scroll||null;return at().then(()=>X(G,ie,_e)).then(M=>M&&eJ(M)).catch(M=>H(M,G,ie))}const ue=G=>r.go(G);let be;const Ae=new Set,Ne={currentRoute:l,listening:!0,addRoute:v,removeRoute:m,clearRoutes:t.clearRoutes,hasRoute:_,getRoutes:p,resolve:y,options:e,push:k,replace:R,go:ue,back:()=>ue(-1),forward:()=>ue(1),beforeEach:s.add,beforeResolve:o.add,afterEach:a.add,onError:j.add,isReady:q,install(G){const ie=this;G.component("RouterLink",TJ),G.component("RouterView",xJ),G.config.globalProperties.$router=ie,Object.defineProperty(G.config.globalProperties,"$route",{enumerable:!0,get:()=>oe(l)}),Ru&&!be&&l.value===Wo&&(be=!0,k(r.location).catch(X=>{}));const Q={};for(const X in Wo)Object.defineProperty(Q,X,{get:()=>l.value[X],enumerable:!0});G.provide(Xp,ie),G.provide(d1,oO(Q)),G.provide(x0,l);const ee=G.unmount;Ae.add(G),G.unmount=function(){Ae.delete(G),Ae.size<1&&(u=Wo,D&&D(),D=null,l.value=Wo,be=!1,Y=!1),ee()}}};function se(G){return G.reduce((ie,Q)=>ie.then(()=>w(Q)),Promise.resolve())}return Ne}function RJ(e,t){const n=[],i=[],r=[],s=Math.max(t.matched.length,e.matched.length);for(let o=0;o<s;o++){const a=t.matched[o];a&&(e.matched.find(u=>pc(u,a))?i.push(a):n.push(a));const l=e.matched[o];l&&(t.matched.find(u=>pc(u,l))||r.push(l))}return[n,i,r]}function jc(){return ot(Xp)}function Qp(e){return ot(d1)}function Ji(e,t){let n;function i(){n=ch(),n.run(()=>t.length?t(()=>{n==null||n.stop(),i()}):t())}ge(e,r=>{r&&!n?i():r||(n==null||n.stop(),n=void 0)},{immediate:!0}),ki(()=>{n==null||n.stop()})}const Bt=typeof window<"u",f1=Bt&&"IntersectionObserver"in window,OJ=Bt&&("ontouchstart"in window||window.navigator.maxTouchPoints>0),ZA=Bt&&"EyeDropper"in window;function eP(e,t,n){VJ(e,t),t.set(e,n)}function VJ(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function NJ(e,t,n){return e.set(TL(e,t),n),n}function Ya(e,t){return e.get(TL(e,t))}function TL(e,t,n){if(typeof e=="function"?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")}function IL(e,t,n){const i=t.length-1;if(i<0)return e===void 0?n:e;for(let r=0;r<i;r++){if(e==null)return n;e=e[t[r]]}return e==null||e[t[i]]===void 0?n:e[t[i]]}function js(e,t){if(e===t)return!0;if(e instanceof Date&&t instanceof Date&&e.getTime()!==t.getTime()||e!==Object(e)||t!==Object(t))return!1;const n=Object.keys(e);return n.length!==Object.keys(t).length?!1:n.every(i=>js(e[i],t[i]))}function Ml(e,t,n){return e==null||!t||typeof t!="string"?n:e[t]!==void 0?e[t]:(t=t.replace(/\[(\w+)\]/g,".$1"),t=t.replace(/^\./,""),IL(e,t.split("."),n))}function jn(e,t,n){if(t===!0)return e===void 0?n:e;if(t==null||typeof t=="boolean")return n;if(e!==Object(e)){if(typeof t!="function")return n;const r=t(e,n);return typeof r>"u"?n:r}if(typeof t=="string")return Ml(e,t,n);if(Array.isArray(t))return IL(e,t,n);if(typeof t!="function")return n;const i=t(e,n);return typeof i>"u"?n:i}function wr(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return Array.from({length:e},(n,i)=>t+i)}function Oe(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"px";if(!(e==null||e===""))return isNaN(+e)?String(e):isFinite(+e)?`${Number(e)}${t}`:void 0}function h1(e){return e!==null&&typeof e=="object"&&!Array.isArray(e)}function tP(e){let t;return e!==null&&typeof e=="object"&&((t=Object.getPrototypeOf(e))===Object.prototype||t===null)}function v1(e){if(e&&"$el"in e){const t=e.$el;return(t==null?void 0:t.nodeType)===Node.TEXT_NODE?t.nextElementSibling:t}return e}const nP=Object.freeze({enter:13,tab:9,delete:46,esc:27,space:32,up:38,down:40,left:37,right:39,end:35,home:36,del:46,backspace:8,insert:45,pageup:33,pagedown:34,shift:16}),D0=Object.freeze({enter:"Enter",tab:"Tab",delete:"Delete",esc:"Escape",space:"Space",up:"ArrowUp",down:"ArrowDown",left:"ArrowLeft",right:"ArrowRight",end:"End",home:"Home",del:"Delete",backspace:"Backspace",insert:"Insert",pageup:"PageUp",pagedown:"PageDown",shift:"Shift"});function AL(e){return Object.keys(e)}function ul(e,t){return t.every(n=>e.hasOwnProperty(n))}function m1(e,t){const n={},i=new Set(Object.keys(e));for(const r of t)i.has(r)&&(n[r]=e[r]);return n}function R0(e,t,n){const i=Object.create(null),r=Object.create(null);for(const s in e)t.some(o=>o instanceof RegExp?o.test(s):o===s)&&!(n!=null&&n.some(o=>o===s))?i[s]=e[s]:r[s]=e[s];return[i,r]}function zt(e,t){const n={...e};return t.forEach(i=>delete n[i]),n}function Jp(e,t){const n={};return t.forEach(i=>n[i]=e[i]),n}const PL=/^on[^a-z]/,Zp=e=>PL.test(e),MJ=["onAfterscriptexecute","onAnimationcancel","onAnimationend","onAnimationiteration","onAnimationstart","onAuxclick","onBeforeinput","onBeforescriptexecute","onChange","onClick","onCompositionend","onCompositionstart","onCompositionupdate","onContextmenu","onCopy","onCut","onDblclick","onFocusin","onFocusout","onFullscreenchange","onFullscreenerror","onGesturechange","onGestureend","onGesturestart","onGotpointercapture","onInput","onKeydown","onKeypress","onKeyup","onLostpointercapture","onMousedown","onMousemove","onMouseout","onMouseover","onMouseup","onMousewheel","onPaste","onPointercancel","onPointerdown","onPointerenter","onPointerleave","onPointermove","onPointerout","onPointerover","onPointerup","onReset","onSelect","onSubmit","onTouchcancel","onTouchend","onTouchmove","onTouchstart","onTransitioncancel","onTransitionend","onTransitionrun","onTransitionstart","onWheel"],LJ=["ArrowUp","ArrowDown","ArrowRight","ArrowLeft","Enter","Escape","Tab"," "];function FJ(e){return e.isComposing&&LJ.includes(e.key)}function Na(e){const[t,n]=R0(e,[PL]),i=zt(t,MJ),[r,s]=R0(n,["class","style","id",/^data-/]);return Object.assign(r,t),Object.assign(s,i),[r,s]}function mn(e){return e==null?[]:Array.isArray(e)?e:[e]}function $J(e,t){let n=0;const i=function(){for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];clearTimeout(n),n=setTimeout(()=>e(...s),oe(t))};return i.clear=()=>{clearTimeout(n)},i.immediate=e,i}function Tn(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;return Math.max(t,Math.min(n,e))}function cg(e){const t=e.toString().trim();return t.includes(".")?t.length-t.indexOf(".")-1:0}function iP(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"0";return e+n.repeat(Math.max(0,t-e.length))}function rP(e,t){return(arguments.length>2&&arguments[2]!==void 0?arguments[2]:"0").repeat(Math.max(0,t-e.length))+e}function BJ(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;const n=[];let i=0;for(;i<e.length;)n.push(e.substr(i,t)),i+=t;return n}function UJ(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return Array.from({length:Math.ceil(e.length/t)},(n,i)=>e.slice(i*t,i*t+t))}function sP(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e3;if(e<t)return`${e} B`;const n=t===1024?["Ki","Mi","Gi"]:["k","M","G"];let i=-1;for(;Math.abs(e)>=t&&i<n.length-1;)e/=t,++i;return`${e.toFixed(1)} ${n[i]}B`}function $i(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;const i={};for(const r in e)i[r]=e[r];for(const r in t){const s=e[r],o=t[r];if(tP(s)&&tP(o)){i[r]=$i(s,o,n);continue}if(n&&Array.isArray(s)&&Array.isArray(o)){i[r]=n(s,o);continue}i[r]=o}return i}function xL(e){return e.map(t=>t.type===Te?xL(t.children):t).flat()}function pl(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";if(pl.cache.has(e))return pl.cache.get(e);const t=e.replace(/[^a-z]/gi,"-").replace(/\B([A-Z])/g,"-$1").toLowerCase();return pl.cache.set(e,t),t}pl.cache=new Map;function Nu(e,t){if(!t||typeof t!="object")return[];if(Array.isArray(t))return t.map(n=>Nu(e,n)).flat(1);if(t.suspense)return Nu(e,t.ssContent);if(Array.isArray(t.children))return t.children.map(n=>Nu(e,n)).flat(1);if(t.component){if(Object.getOwnPropertySymbols(t.component.provides).includes(e))return[t.component];if(t.component.subTree)return Nu(e,t.component.subTree).flat(1)}return[]}var Pv=new WeakMap,_u=new WeakMap;class jJ{constructor(t){eP(this,Pv,[]),eP(this,_u,0),this.size=t}push(t){Ya(Pv,this)[Ya(_u,this)]=t,NJ(_u,this,(Ya(_u,this)+1)%this.size)}values(){return Ya(Pv,this).slice(Ya(_u,this)).concat(Ya(Pv,this).slice(0,Ya(_u,this)))}}function HJ(e){return"touches"in e?{clientX:e.touches[0].clientX,clientY:e.touches[0].clientY}:{clientX:e.clientX,clientY:e.clientY}}function g1(e){const t=cn({}),n=I(e);return rn(()=>{for(const i in n.value)t[i]=n.value[i]},{flush:"sync"}),xa(t)}function dg(e,t){return e.includes(t)}function DL(e){return e[2].toLowerCase()+e.slice(3)}const ii=()=>[Function,Array];function oP(e,t){return t="on"+Fs(t),!!(e[t]||e[`${t}Once`]||e[`${t}Capture`]||e[`${t}OnceCapture`]||e[`${t}CaptureOnce`])}function p1(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(Array.isArray(e))for(const r of e)r(...n);else typeof e=="function"&&e(...n)}function Nf(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const n=["button","[href]",'input:not([type="hidden"])',"select","textarea","[tabindex]"].map(i=>`${i}${t?':not([tabindex="-1"])':""}:not([disabled])`).join(", ");return[...e.querySelectorAll(n)]}function RL(e,t,n){let i,r=e.indexOf(document.activeElement);const s=t==="next"?1:-1;do r+=s,i=e[r];while((!i||i.offsetParent==null||!((n==null?void 0:n(i))??!0))&&r<e.length&&r>=0);return i}function _l(e,t){var i,r,s,o;const n=Nf(e);if(!t)(e===document.activeElement||!e.contains(document.activeElement))&&((i=n[0])==null||i.focus());else if(t==="first")(r=n[0])==null||r.focus();else if(t==="last")(s=n.at(-1))==null||s.focus();else if(typeof t=="number")(o=n[t])==null||o.focus();else{const a=RL(n,t);a?a.focus():_l(e,t==="next"?"first":"last")}}function xv(e){return e==null||typeof e=="string"&&e.trim()===""}function OL(){}function yc(e,t){if(!(Bt&&typeof CSS<"u"&&typeof CSS.supports<"u"&&CSS.supports(`selector(${t})`)))return null;try{return!!e&&e.matches(t)}catch{return null}}function e_(e){return e.some(t=>kl(t)?t.type===Li?!1:t.type!==Te||e_(t.children):!0)?e:null}function WJ(e,t){if(!Bt||e===0)return t(),()=>{};const n=window.setTimeout(t,e);return()=>window.clearTimeout(n)}function zJ(e,t){const n=e.clientX,i=e.clientY,r=t.getBoundingClientRect(),s=r.left,o=r.top,a=r.right,l=r.bottom;return n>=s&&n<=a&&i>=o&&i<=l}function fg(){const e=ke(),t=n=>{e.value=n};return Object.defineProperty(t,"value",{enumerable:!0,get:()=>e.value,set:n=>e.value=n}),Object.defineProperty(t,"el",{enumerable:!0,get:()=>v1(e.value)}),t}function hg(e){const t=e.key.length===1,n=!e.ctrlKey&&!e.metaKey&&!e.altKey;return t&&n}const VL=["top","bottom"],GJ=["start","end","left","right"];function O0(e,t){let[n,i]=e.split(" ");return i||(i=dg(VL,n)?"start":dg(GJ,n)?"top":"center"),{side:V0(n,t),align:V0(i,t)}}function V0(e,t){return e==="start"?t?"right":"left":e==="end"?t?"left":"right":e}function Gy(e){return{side:{center:"center",top:"bottom",bottom:"top",left:"right",right:"left"}[e.side],align:e.align}}function qy(e){return{side:e.side,align:{center:"center",top:"bottom",bottom:"top",left:"right",right:"left"}[e.align]}}function aP(e){return{side:e.align,align:e.side}}function lP(e){return dg(VL,e.side)?"y":"x"}class yl{constructor(t){let{x:n,y:i,width:r,height:s}=t;this.x=n,this.y=i,this.width=r,this.height=s}get top(){return this.y}get bottom(){return this.y+this.height}get left(){return this.x}get right(){return this.x+this.width}}function uP(e,t){return{x:{before:Math.max(0,t.left-e.left),after:Math.max(0,e.right-t.right)},y:{before:Math.max(0,t.top-e.top),after:Math.max(0,e.bottom-t.bottom)}}}function NL(e){return Array.isArray(e)?new yl({x:e[0],y:e[1],width:0,height:0}):e.getBoundingClientRect()}function _1(e){const t=e.getBoundingClientRect(),n=getComputedStyle(e),i=n.transform;if(i){let r,s,o,a,l;if(i.startsWith("matrix3d("))r=i.slice(9,-1).split(/, /),s=+r[0],o=+r[5],a=+r[12],l=+r[13];else if(i.startsWith("matrix("))r=i.slice(7,-1).split(/, /),s=+r[0],o=+r[3],a=+r[4],l=+r[5];else return new yl(t);const u=n.transformOrigin,d=t.x-a-(1-s)*parseFloat(u),c=t.y-l-(1-o)*parseFloat(u.slice(u.indexOf(" ")+1)),f=s?t.width/s:e.offsetWidth+1,v=o?t.height/o:e.offsetHeight+1;return new yl({x:d,y:c,width:f,height:v})}else return new yl(t)}function cl(e,t,n){if(typeof e.animate>"u")return{finished:Promise.resolve()};let i;try{i=e.animate(t,n)}catch{return{finished:Promise.resolve()}}return typeof i.finished>"u"&&(i.finished=new Promise(r=>{i.onfinish=()=>{r(i)}})),i}const hm=new WeakMap;function qJ(e,t){Object.keys(t).forEach(n=>{if(Zp(n)){const i=DL(n),r=hm.get(e);if(t[n]==null)r==null||r.forEach(s=>{const[o,a]=s;o===i&&(e.removeEventListener(i,a),r.delete(s))});else if(!r||![...r].some(s=>s[0]===i&&s[1]===t[n])){e.addEventListener(i,t[n]);const s=r||new Set;s.add([i,t[n]]),hm.has(e)||hm.set(e,s)}}else t[n]==null?e.removeAttribute(n):e.setAttribute(n,t[n])})}function YJ(e,t){Object.keys(t).forEach(n=>{if(Zp(n)){const i=DL(n),r=hm.get(e);r==null||r.forEach(s=>{const[o,a]=s;o===i&&(e.removeEventListener(i,a),r.delete(s))})}else e.removeAttribute(n)})}const yu=2.4,cP=.2126729,dP=.7151522,fP=.072175,KJ=.55,XJ=.58,QJ=.57,JJ=.62,Dv=.03,hP=1.45,ZJ=5e-4,eZ=1.25,tZ=1.25,vP=.078,mP=12.82051282051282,Rv=.06,gP=.001;function pP(e,t){const n=(e.r/255)**yu,i=(e.g/255)**yu,r=(e.b/255)**yu,s=(t.r/255)**yu,o=(t.g/255)**yu,a=(t.b/255)**yu;let l=n*cP+i*dP+r*fP,u=s*cP+o*dP+a*fP;if(l<=Dv&&(l+=(Dv-l)**hP),u<=Dv&&(u+=(Dv-u)**hP),Math.abs(u-l)<ZJ)return 0;let d;if(u>l){const c=(u**KJ-l**XJ)*eZ;d=c<gP?0:c<vP?c-c*mP*Rv:c-Rv}else{const c=(u**JJ-l**QJ)*tZ;d=c>-gP?0:c>-vP?c-c*mP*Rv:c+Rv}return d*100}function nZ(e,t){t=Array.isArray(t)?t.slice(0,-1).map(n=>`'${n}'`).join(", ")+` or '${t.at(-1)}'`:`'${t}'`}const vg=.20689655172413793,iZ=e=>e>vg**3?Math.cbrt(e):e/(3*vg**2)+4/29,rZ=e=>e>vg?e**3:3*vg**2*(e-4/29);function ML(e){const t=iZ,n=t(e[1]);return[116*n-16,500*(t(e[0]/.95047)-n),200*(n-t(e[2]/1.08883))]}function LL(e){const t=rZ,n=(e[0]+16)/116;return[t(n+e[1]/500)*.95047,t(n),t(n-e[2]/200)*1.08883]}const sZ=[[3.2406,-1.5372,-.4986],[-.9689,1.8758,.0415],[.0557,-.204,1.057]],oZ=e=>e<=.0031308?e*12.92:1.055*e**(1/2.4)-.055,aZ=[[.4124,.3576,.1805],[.2126,.7152,.0722],[.0193,.1192,.9505]],lZ=e=>e<=.04045?e/12.92:((e+.055)/1.055)**2.4;function FL(e){const t=Array(3),n=oZ,i=sZ;for(let r=0;r<3;++r)t[r]=Math.round(Tn(n(i[r][0]*e[0]+i[r][1]*e[1]+i[r][2]*e[2]))*255);return{r:t[0],g:t[1],b:t[2]}}function y1(e){let{r:t,g:n,b:i}=e;const r=[0,0,0],s=lZ,o=aZ;t=s(t/255),n=s(n/255),i=s(i/255);for(let a=0;a<3;++a)r[a]=o[a][0]*t+o[a][1]*n+o[a][2]*i;return r}function N0(e){return!!e&&/^(#|var\(--|(rgb|hsl)a?\()/.test(e)}function uZ(e){return N0(e)&&!/^((rgb|hsl)a?\()?var\(--/.test(e)}const _P=/^(?<fn>(?:rgb|hsl)a?)\((?<values>.+)\)/,cZ={rgb:(e,t,n,i)=>({r:e,g:t,b:n,a:i}),rgba:(e,t,n,i)=>({r:e,g:t,b:n,a:i}),hsl:(e,t,n,i)=>yP({h:e,s:t,l:n,a:i}),hsla:(e,t,n,i)=>yP({h:e,s:t,l:n,a:i}),hsv:(e,t,n,i)=>Co({h:e,s:t,v:n,a:i}),hsva:(e,t,n,i)=>Co({h:e,s:t,v:n,a:i})};function Fr(e){if(typeof e=="number")return{r:(e&16711680)>>16,g:(e&65280)>>8,b:e&255};if(typeof e=="string"&&_P.test(e)){const{groups:t}=e.match(_P),{fn:n,values:i}=t,r=i.split(/,\s*/).map(s=>s.endsWith("%")&&["hsl","hsla","hsv","hsva"].includes(n)?parseFloat(s)/100:parseFloat(s));return cZ[n](...r)}else if(typeof e=="string"){let t=e.startsWith("#")?e.slice(1):e;return[3,4].includes(t.length)?t=t.split("").map(n=>n+n).join(""):[6,8].includes(t.length),HL(t)}else if(typeof e=="object"){if(ul(e,["r","g","b"]))return e;if(ul(e,["h","s","l"]))return Co(b1(e));if(ul(e,["h","s","v"]))return Co(e)}throw new TypeError(`Invalid color: ${e==null?e:String(e)||e.constructor.name}
Expected #hex, #hexa, rgb(), rgba(), hsl(), hsla(), object or number`)}function Co(e){const{h:t,s:n,v:i,a:r}=e,s=a=>{const l=(a+t/60)%6;return i-i*n*Math.max(Math.min(l,4-l,1),0)},o=[s(5),s(3),s(1)].map(a=>Math.round(a*255));return{r:o[0],g:o[1],b:o[2],a:r}}function yP(e){return Co(b1(e))}function t_(e){if(!e)return{h:0,s:1,v:1,a:1};const t=e.r/255,n=e.g/255,i=e.b/255,r=Math.max(t,n,i),s=Math.min(t,n,i);let o=0;r!==s&&(r===t?o=60*(0+(n-i)/(r-s)):r===n?o=60*(2+(i-t)/(r-s)):r===i&&(o=60*(4+(t-n)/(r-s)))),o<0&&(o=o+360);const a=r===0?0:(r-s)/r,l=[o,a,r];return{h:l[0],s:l[1],v:l[2],a:e.a}}function $L(e){const{h:t,s:n,v:i,a:r}=e,s=i-i*n/2,o=s===1||s===0?0:(i-s)/Math.min(s,1-s);return{h:t,s:o,l:s,a:r}}function b1(e){const{h:t,s:n,l:i,a:r}=e,s=i+n*Math.min(i,1-i),o=s===0?0:2-2*i/s;return{h:t,s:o,v:s,a:r}}function BL(e){let{r:t,g:n,b:i,a:r}=e;return r===void 0?`rgb(${t}, ${n}, ${i})`:`rgba(${t}, ${n}, ${i}, ${r})`}function UL(e){return BL(Co(e))}function Ov(e){const t=Math.round(e).toString(16);return("00".substr(0,2-t.length)+t).toUpperCase()}function jL(e){let{r:t,g:n,b:i,a:r}=e;return`#${[Ov(t),Ov(n),Ov(i),r!==void 0?Ov(Math.round(r*255)):""].join("")}`}function HL(e){e=dZ(e);let[t,n,i,r]=BJ(e,2).map(s=>parseInt(s,16));return r=r===void 0?r:r/255,{r:t,g:n,b:i,a:r}}function WL(e){const t=HL(e);return t_(t)}function zL(e){return jL(Co(e))}function dZ(e){return e.startsWith("#")&&(e=e.slice(1)),e=e.replace(/([^0-9a-f])/gi,"F"),(e.length===3||e.length===4)&&(e=e.split("").map(t=>t+t).join("")),e.length!==6&&(e=iP(iP(e,6),8,"F")),e}function fZ(e,t){const n=ML(y1(e));return n[0]=n[0]+t*10,FL(LL(n))}function hZ(e,t){const n=ML(y1(e));return n[0]=n[0]-t*10,FL(LL(n))}function M0(e){const t=Fr(e);return y1(t)[1]}function vZ(e,t){const n=M0(e),i=M0(t),r=Math.max(n,i),s=Math.min(n,i);return(r+.05)/(s+.05)}function GL(e){const t=Math.abs(pP(Fr(0),Fr(e)));return Math.abs(pP(Fr(16777215),Fr(e)))>Math.min(t,50)?"#fff":"#000"}function te(e,t){return n=>Object.keys(e).reduce((i,r)=>{const o=typeof e[r]=="object"&&e[r]!=null&&!Array.isArray(e[r])?e[r]:{type:e[r]};return n&&r in n?i[r]={...o,default:n[r]}:i[r]=o,t&&!i[r].source&&(i[r].source=t),i},{})}const $e=te({class:[String,Array,Object],style:{type:[String,Array,Object],default:null}},"component");function Rn(e,t){const n=zl();if(!n)throw new Error(`[Vuetify] ${e} must be called from inside a setup function`);return n}function Hs(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"composables";const t=Rn(e).type;return pl((t==null?void 0:t.aliasName)||(t==null?void 0:t.name))}let qL=0,vm=new WeakMap;function fi(){const e=Rn("getUid");if(vm.has(e))return vm.get(e);{const t=qL++;return vm.set(e,t),t}}fi.reset=()=>{qL=0,vm=new WeakMap};function mZ(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Rn("injectSelf");const{provides:n}=t;if(n&&e in n)return n[e]}const bc=Symbol.for("vuetify:defaults");function gZ(e){return W(e)}function w1(){const e=ot(bc);if(!e)throw new Error("[Vuetify] Could not find defaults instance");return e}function yn(e,t){const n=w1(),i=W(e),r=I(()=>{if(oe(t==null?void 0:t.disabled))return n.value;const o=oe(t==null?void 0:t.scoped),a=oe(t==null?void 0:t.reset),l=oe(t==null?void 0:t.root);if(i.value==null&&!(o||a||l))return n.value;let u=$i(i.value,{prev:n.value});if(o)return u;if(a||l){const d=Number(a||1/0);for(let c=0;c<=d&&!(!u||!("prev"in u));c++)u=u.prev;return u&&typeof l=="string"&&l in u&&(u=$i($i(u,{prev:u}),u[l])),u}return u.prev?$i(u.prev,u):u});return Ut(bc,r),r}function pZ(e,t){var n,i;return typeof((n=e.props)==null?void 0:n[t])<"u"||typeof((i=e.props)==null?void 0:i[pl(t)])<"u"}function _Z(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:w1();const i=Rn("useDefaults");if(t=t??i.type.name??i.type.__name,!t)throw new Error("[Vuetify] Could not determine component name");const r=I(()=>{var l;return(l=n.value)==null?void 0:l[e._as??t]}),s=new Proxy(e,{get(l,u){var c,f,v,m,p,_,y;const d=Reflect.get(l,u);return u==="class"||u==="style"?[(c=r.value)==null?void 0:c[u],d].filter(b=>b!=null):typeof u=="string"&&!pZ(i.vnode,u)?((f=r.value)==null?void 0:f[u])!==void 0?(v=r.value)==null?void 0:v[u]:((p=(m=n.value)==null?void 0:m.global)==null?void 0:p[u])!==void 0?(y=(_=n.value)==null?void 0:_.global)==null?void 0:y[u]:d:d}}),o=ke();rn(()=>{if(r.value){const l=Object.entries(r.value).filter(u=>{let[d]=u;return d.startsWith(d[0].toUpperCase())});o.value=l.length?Object.fromEntries(l):void 0}else o.value=void 0});function a(){const l=mZ(bc,i);Ut(bc,I(()=>o.value?$i((l==null?void 0:l.value)??{},o.value):l==null?void 0:l.value))}return{props:s,provideSubDefaults:a}}function Pr(e){if(e._setup=e._setup??e.setup,!e.name)return e;if(e._setup){e.props=te(e.props??{},e.name)();const t=Object.keys(e.props).filter(n=>n!=="class"&&n!=="style");e.filterProps=function(i){return m1(i,t)},e.props._as=String,e.setup=function(i,r){const s=w1();if(!s.value)return e._setup(i,r);const{props:o,provideSubDefaults:a}=_Z(i,i._as??e.name,s),l=e._setup(o,r);return a(),l}}return e}function fe(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return t=>(e?Pr:At)(t)}function yZ(e,t){return t.props=e,t}function Ws(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"div",n=arguments.length>2?arguments[2]:void 0;return fe()({name:n??Fs(ur(e.replace(/__/g,"-"))),props:{tag:{type:String,default:t},...$e()},setup(i,r){let{slots:s}=r;return()=>{var o;return ni(i.tag,{class:[e,i.class],style:i.style},(o=s.default)==null?void 0:o.call(s))}}})}function YL(e){if(typeof e.getRootNode!="function"){for(;e.parentNode;)e=e.parentNode;return e!==document?null:document}const t=e.getRootNode();return t!==document&&t.getRootNode({composed:!0})!==document?null:t}const Mf="cubic-bezier(0.4, 0, 0.2, 1)",bZ="cubic-bezier(0.0, 0, 0.2, 1)",wZ="cubic-bezier(0.4, 0, 1, 1)";function bP(e,t,n){return Object.keys(e).filter(i=>Zp(i)&&i.endsWith(t)).reduce((i,r)=>(i[r.slice(0,-t.length)]=s=>e[r](s,n(s)),i),{})}function S1(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;for(;e;){if(t?SZ(e):E1(e))return e;e=e.parentElement}return document.scrollingElement}function Lf(e,t){const n=[];if(t&&e&&!t.contains(e))return n;for(;e&&(E1(e)&&n.push(e),e!==t);)e=e.parentElement;return n}function E1(e){if(!e||e.nodeType!==Node.ELEMENT_NODE)return!1;const t=window.getComputedStyle(e);return t.overflowY==="scroll"||t.overflowY==="auto"&&e.scrollHeight>e.clientHeight}function SZ(e){if(!e||e.nodeType!==Node.ELEMENT_NODE)return!1;const t=window.getComputedStyle(e);return["scroll","auto"].includes(t.overflowY)}function EZ(e){for(;e;){if(window.getComputedStyle(e).position==="fixed")return!0;e=e.offsetParent}return!1}function ve(e){const t=Rn("useRender");t.render=e}function je(e,t,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:c=>c,r=arguments.length>4&&arguments[4]!==void 0?arguments[4]:c=>c;const s=Rn("useProxiedModel"),o=W(e[t]!==void 0?e[t]:n),a=pl(t),u=I(a!==t?()=>{var c,f,v,m;return e[t],!!(((c=s.vnode.props)!=null&&c.hasOwnProperty(t)||(f=s.vnode.props)!=null&&f.hasOwnProperty(a))&&((v=s.vnode.props)!=null&&v.hasOwnProperty(`onUpdate:${t}`)||(m=s.vnode.props)!=null&&m.hasOwnProperty(`onUpdate:${a}`)))}:()=>{var c,f;return e[t],!!((c=s.vnode.props)!=null&&c.hasOwnProperty(t)&&((f=s.vnode.props)!=null&&f.hasOwnProperty(`onUpdate:${t}`)))});Ji(()=>!u.value,()=>{ge(()=>e[t],c=>{o.value=c})});const d=I({get(){const c=e[t];return i(u.value?c:o.value)},set(c){const f=r(c),v=Ge(u.value?e[t]:o.value);v===f||i(v)===c||(o.value=f,s==null||s.emit(`update:${t}`,f))}});return Object.defineProperty(d,"externalValue",{get:()=>u.value?e[t]:o.value}),d}const KL={badge:"Badge",open:"Open",close:"Close",dismiss:"Dismiss",confirmEdit:{ok:"OK",cancel:"Cancel"},dataIterator:{noResultsText:"No matching records found",loadingText:"Loading items..."},dataTable:{itemsPerPageText:"Rows per page:",ariaLabel:{sortDescending:"Sorted descending.",sortAscending:"Sorted ascending.",sortNone:"Not sorted.",activateNone:"Activate to remove sorting.",activateDescending:"Activate to sort descending.",activateAscending:"Activate to sort ascending."},sortBy:"Sort by"},dataFooter:{itemsPerPageText:"Items per page:",itemsPerPageAll:"All",nextPage:"Next page",prevPage:"Previous page",firstPage:"First page",lastPage:"Last page",pageText:"{0}-{1} of {2}"},dateRangeInput:{divider:"to"},datePicker:{itemsSelected:"{0} selected",range:{title:"Select dates",header:"Enter dates"},title:"Select date",header:"Enter date",input:{placeholder:"Enter date"}},noDataText:"No data available",carousel:{prev:"Previous visual",next:"Next visual",ariaLabel:{delimiter:"Carousel slide {0} of {1}"}},calendar:{moreEvents:"{0} more",today:"Today"},input:{clear:"Clear {0}",prependAction:"{0} prepended action",appendAction:"{0} appended action",otp:"Please enter OTP character {0}"},fileInput:{counter:"{0} files",counterSize:"{0} files ({1} in total)"},timePicker:{am:"AM",pm:"PM",title:"Select Time"},pagination:{ariaLabel:{root:"Pagination Navigation",next:"Next page",previous:"Previous page",page:"Go to page {0}",currentPage:"Page {0}, Current page",first:"First page",last:"Last page"}},stepper:{next:"Next",prev:"Previous"},rating:{ariaLabel:{item:"Rating {0} of {1}"}},loading:"Loading...",infiniteScroll:{loadMore:"Load more",empty:"No more"}},wP="$vuetify.",SP=(e,t)=>e.replace(/\{(\d+)\}/g,(n,i)=>String(t[+i])),XL=(e,t,n)=>function(i){for(var r=arguments.length,s=new Array(r>1?r-1:0),o=1;o<r;o++)s[o-1]=arguments[o];if(!i.startsWith(wP))return SP(i,s);const a=i.replace(wP,""),l=e.value&&n.value[e.value],u=t.value&&n.value[t.value];let d=Ml(l,a,null);return d||(`${i}${e.value}`,d=Ml(u,a,null)),d||(d=i),typeof d!="string"&&(d=i),SP(d,s)};function QL(e,t){return(n,i)=>new Intl.NumberFormat([e.value,t.value],i).format(n)}function Yy(e,t,n){const i=je(e,t,e[t]??n.value);return i.value=e[t]??n.value,ge(n,r=>{e[t]==null&&(i.value=n.value)}),i}function JL(e){return t=>{const n=Yy(t,"locale",e.current),i=Yy(t,"fallback",e.fallback),r=Yy(t,"messages",e.messages);return{name:"vuetify",current:n,fallback:i,messages:r,t:XL(n,i,r),n:QL(n,i),provide:JL({current:n,fallback:i,messages:r})}}}function CZ(e){const t=ke((e==null?void 0:e.locale)??"en"),n=ke((e==null?void 0:e.fallback)??"en"),i=W({en:KL,...e==null?void 0:e.messages});return{name:"vuetify",current:t,fallback:n,messages:i,t:XL(t,n,i),n:QL(t,n),provide:JL({current:t,fallback:n,messages:i})}}const wc=Symbol.for("vuetify:locale");function kZ(e){return e.name!=null}function TZ(e){const t=e!=null&&e.adapter&&kZ(e==null?void 0:e.adapter)?e==null?void 0:e.adapter:CZ(e),n=PZ(t,e);return{...t,...n}}function sn(){const e=ot(wc);if(!e)throw new Error("[Vuetify] Could not find injected locale instance");return e}function IZ(e){const t=ot(wc);if(!t)throw new Error("[Vuetify] Could not find injected locale instance");const n=t.provide(e),i=xZ(n,t.rtl,e),r={...n,...i};return Ut(wc,r),r}function AZ(){return{af:!1,ar:!0,bg:!1,ca:!1,ckb:!1,cs:!1,de:!1,el:!1,en:!1,es:!1,et:!1,fa:!0,fi:!1,fr:!1,hr:!1,hu:!1,he:!0,id:!1,it:!1,ja:!1,km:!1,ko:!1,lv:!1,lt:!1,nl:!1,no:!1,pl:!1,pt:!1,ro:!1,ru:!1,sk:!1,sl:!1,srCyrl:!1,srLatn:!1,sv:!1,th:!1,tr:!1,az:!1,uk:!1,vi:!1,zhHans:!1,zhHant:!1}}function PZ(e,t){const n=W((t==null?void 0:t.rtl)??AZ()),i=I(()=>n.value[e.current.value]??!1);return{isRtl:i,rtl:n,rtlClasses:I(()=>`v-locale--is-${i.value?"rtl":"ltr"}`)}}function xZ(e,t,n){const i=I(()=>n.rtl??t.value[e.current.value]??!1);return{isRtl:i,rtl:t,rtlClasses:I(()=>`v-locale--is-${i.value?"rtl":"ltr"}`)}}function Jn(){const e=ot(wc);if(!e)throw new Error("[Vuetify] Could not find injected rtl instance");return{isRtl:e.isRtl,rtlClasses:e.rtlClasses}}const n_={"001":1,AD:1,AE:6,AF:6,AG:0,AI:1,AL:1,AM:1,AN:1,AR:1,AS:0,AT:1,AU:1,AX:1,AZ:1,BA:1,BD:0,BE:1,BG:1,BH:6,BM:1,BN:1,BR:0,BS:0,BT:0,BW:0,BY:1,BZ:0,CA:0,CH:1,CL:1,CM:1,CN:1,CO:0,CR:1,CY:1,CZ:1,DE:1,DJ:6,DK:1,DM:0,DO:0,DZ:6,EC:1,EE:1,EG:6,ES:1,ET:0,FI:1,FJ:1,FO:1,FR:1,GB:1,"GB-alt-variant":0,GE:1,GF:1,GP:1,GR:1,GT:0,GU:0,HK:0,HN:0,HR:1,HU:1,ID:0,IE:1,IL:0,IN:0,IQ:6,IR:6,IS:1,IT:1,JM:0,JO:6,JP:0,KE:0,KG:1,KH:0,KR:0,KW:6,KZ:1,LA:0,LB:1,LI:1,LK:1,LT:1,LU:1,LV:1,LY:6,MC:1,MD:1,ME:1,MH:0,MK:1,MM:0,MN:1,MO:0,MQ:1,MT:0,MV:5,MX:0,MY:1,MZ:0,NI:0,NL:1,NO:1,NP:0,NZ:1,OM:6,PA:0,PE:0,PH:0,PK:0,PL:1,PR:0,PT:0,PY:0,QA:6,RE:1,RO:1,RS:1,RU:1,SA:0,SD:6,SE:1,SG:0,SI:1,SK:1,SM:1,SV:0,SY:6,TH:0,TJ:1,TM:1,TR:1,TT:0,TW:0,UA:1,UM:0,US:0,UY:1,UZ:1,VA:1,VE:0,VI:0,VN:1,WS:0,XK:1,YE:0,ZA:0,ZW:0};function DZ(e,t,n){const i=[];let r=[];const s=ZL(e),o=eF(e),a=n??n_[t.slice(-2).toUpperCase()]??0,l=(s.getDay()-a+7)%7,u=(o.getDay()-a+7)%7;for(let d=0;d<l;d++){const c=new Date(s);c.setDate(c.getDate()-(l-d)),r.push(c)}for(let d=1;d<=o.getDate();d++){const c=new Date(e.getFullYear(),e.getMonth(),d);r.push(c),r.length===7&&(i.push(r),r=[])}for(let d=1;d<7-u;d++){const c=new Date(o);c.setDate(c.getDate()+d),r.push(c)}return r.length>0&&i.push(r),i}function RZ(e,t,n){const i=n??n_[t.slice(-2).toUpperCase()]??0,r=new Date(e);for(;r.getDay()!==i;)r.setDate(r.getDate()-1);return r}function OZ(e,t){const n=new Date(e),i=((n_[t.slice(-2).toUpperCase()]??0)+6)%7;for(;n.getDay()!==i;)n.setDate(n.getDate()+1);return n}function ZL(e){return new Date(e.getFullYear(),e.getMonth(),1)}function eF(e){return new Date(e.getFullYear(),e.getMonth()+1,0)}function VZ(e){const t=e.split("-").map(Number);return new Date(t[0],t[1]-1,t[2])}const NZ=/^([12]\d{3}-([1-9]|0[1-9]|1[0-2])-([1-9]|0[1-9]|[12]\d|3[01]))$/;function tF(e){if(e==null)return new Date;if(e instanceof Date)return e;if(typeof e=="string"){let t;if(NZ.test(e))return VZ(e);if(t=Date.parse(e),!isNaN(t))return new Date(t)}return null}const EP=new Date(2e3,0,2);function MZ(e,t){const n=t??n_[e.slice(-2).toUpperCase()]??0;return wr(7).map(i=>{const r=new Date(EP);return r.setDate(EP.getDate()+n+i),new Intl.DateTimeFormat(e,{weekday:"narrow"}).format(r)})}function LZ(e,t,n,i){const r=tF(e)??new Date,s=i==null?void 0:i[t];if(typeof s=="function")return s(r,t,n);let o={};switch(t){case"fullDate":o={year:"numeric",month:"long",day:"numeric"};break;case"fullDateWithWeekday":o={weekday:"long",year:"numeric",month:"long",day:"numeric"};break;case"normalDate":const a=r.getDate(),l=new Intl.DateTimeFormat(n,{month:"long"}).format(r);return`${a} ${l}`;case"normalDateWithWeekday":o={weekday:"short",day:"numeric",month:"short"};break;case"shortDate":o={month:"short",day:"numeric"};break;case"year":o={year:"numeric"};break;case"month":o={month:"long"};break;case"monthShort":o={month:"short"};break;case"monthAndYear":o={month:"long",year:"numeric"};break;case"monthAndDate":o={month:"long",day:"numeric"};break;case"weekday":o={weekday:"long"};break;case"weekdayShort":o={weekday:"short"};break;case"dayOfMonth":return new Intl.NumberFormat(n).format(r.getDate());case"hours12h":o={hour:"numeric",hour12:!0};break;case"hours24h":o={hour:"numeric",hour12:!1};break;case"minutes":o={minute:"numeric"};break;case"seconds":o={second:"numeric"};break;case"fullTime":o={hour:"numeric",minute:"numeric",second:"numeric",hour12:!0};break;case"fullTime12h":o={hour:"numeric",minute:"numeric",second:"numeric",hour12:!0};break;case"fullTime24h":o={hour:"numeric",minute:"numeric",second:"numeric",hour12:!1};break;case"fullDateTime":o={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",hour12:!0};break;case"fullDateTime12h":o={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",hour12:!0};break;case"fullDateTime24h":o={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",hour12:!1};break;case"keyboardDate":o={year:"numeric",month:"2-digit",day:"2-digit"};break;case"keyboardDateTime":o={year:"numeric",month:"2-digit",day:"2-digit",hour:"numeric",minute:"numeric",second:"numeric",hour12:!1};break;case"keyboardDateTime12h":o={year:"numeric",month:"2-digit",day:"2-digit",hour:"numeric",minute:"numeric",second:"numeric",hour12:!0};break;case"keyboardDateTime24h":o={year:"numeric",month:"2-digit",day:"2-digit",hour:"numeric",minute:"numeric",second:"numeric",hour12:!1};break;default:o=s??{timeZone:"UTC",timeZoneName:"short"}}return new Intl.DateTimeFormat(n,o).format(r)}function FZ(e,t){const n=e.toJsDate(t),i=n.getFullYear(),r=rP(String(n.getMonth()+1),2,"0"),s=rP(String(n.getDate()),2,"0");return`${i}-${r}-${s}`}function $Z(e){const[t,n,i]=e.split("-").map(Number);return new Date(t,n-1,i)}function BZ(e,t){const n=new Date(e);return n.setMinutes(n.getMinutes()+t),n}function UZ(e,t){const n=new Date(e);return n.setHours(n.getHours()+t),n}function jZ(e,t){const n=new Date(e);return n.setDate(n.getDate()+t),n}function HZ(e,t){const n=new Date(e);return n.setDate(n.getDate()+t*7),n}function WZ(e,t){const n=new Date(e);return n.setDate(1),n.setMonth(n.getMonth()+t),n}function zZ(e){return e.getFullYear()}function GZ(e){return e.getMonth()}function qZ(e){return e.getDate()}function YZ(e){return new Date(e.getFullYear(),e.getMonth()+1,1)}function KZ(e){return new Date(e.getFullYear(),e.getMonth()-1,1)}function XZ(e){return e.getHours()}function QZ(e){return e.getMinutes()}function JZ(e){return new Date(e.getFullYear(),0,1)}function ZZ(e){return new Date(e.getFullYear(),11,31)}function eee(e,t){return mg(e,t[0])&&iee(e,t[1])}function tee(e){const t=new Date(e);return t instanceof Date&&!isNaN(t.getTime())}function mg(e,t){return e.getTime()>t.getTime()}function nee(e,t){return mg(L0(e),L0(t))}function iee(e,t){return e.getTime()<t.getTime()}function CP(e,t){return e.getTime()===t.getTime()}function ree(e,t){return e.getDate()===t.getDate()&&e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear()}function see(e,t){return e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear()}function oee(e,t){return e.getFullYear()===t.getFullYear()}function aee(e,t,n){const i=new Date(e),r=new Date(t);switch(n){case"years":return i.getFullYear()-r.getFullYear();case"quarters":return Math.floor((i.getMonth()-r.getMonth()+(i.getFullYear()-r.getFullYear())*12)/4);case"months":return i.getMonth()-r.getMonth()+(i.getFullYear()-r.getFullYear())*12;case"weeks":return Math.floor((i.getTime()-r.getTime())/(1e3*60*60*24*7));case"days":return Math.floor((i.getTime()-r.getTime())/(1e3*60*60*24));case"hours":return Math.floor((i.getTime()-r.getTime())/(1e3*60*60));case"minutes":return Math.floor((i.getTime()-r.getTime())/(1e3*60));case"seconds":return Math.floor((i.getTime()-r.getTime())/1e3);default:return i.getTime()-r.getTime()}}function lee(e,t){const n=new Date(e);return n.setHours(t),n}function uee(e,t){const n=new Date(e);return n.setMinutes(t),n}function cee(e,t){const n=new Date(e);return n.setMonth(t),n}function dee(e,t){const n=new Date(e);return n.setDate(t),n}function fee(e,t){const n=new Date(e);return n.setFullYear(t),n}function L0(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate(),0,0,0,0)}function hee(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate(),23,59,59,999)}class vee{constructor(t){this.locale=t.locale,this.formats=t.formats}date(t){return tF(t)}toJsDate(t){return t}toISO(t){return FZ(this,t)}parseISO(t){return $Z(t)}addMinutes(t,n){return BZ(t,n)}addHours(t,n){return UZ(t,n)}addDays(t,n){return jZ(t,n)}addWeeks(t,n){return HZ(t,n)}addMonths(t,n){return WZ(t,n)}getWeekArray(t,n){return DZ(t,this.locale,n?Number(n):void 0)}startOfWeek(t,n){return RZ(t,this.locale,n?Number(n):void 0)}endOfWeek(t){return OZ(t,this.locale)}startOfMonth(t){return ZL(t)}endOfMonth(t){return eF(t)}format(t,n){return LZ(t,n,this.locale,this.formats)}isEqual(t,n){return CP(t,n)}isValid(t){return tee(t)}isWithinRange(t,n){return eee(t,n)}isAfter(t,n){return mg(t,n)}isAfterDay(t,n){return nee(t,n)}isBefore(t,n){return!mg(t,n)&&!CP(t,n)}isSameDay(t,n){return ree(t,n)}isSameMonth(t,n){return see(t,n)}isSameYear(t,n){return oee(t,n)}setMinutes(t,n){return uee(t,n)}setHours(t,n){return lee(t,n)}setMonth(t,n){return cee(t,n)}setDate(t,n){return dee(t,n)}setYear(t,n){return fee(t,n)}getDiff(t,n,i){return aee(t,n,i)}getWeekdays(t){return MZ(this.locale,t?Number(t):void 0)}getYear(t){return zZ(t)}getMonth(t){return GZ(t)}getDate(t){return qZ(t)}getNextMonth(t){return YZ(t)}getPreviousMonth(t){return KZ(t)}getHours(t){return XZ(t)}getMinutes(t){return QZ(t)}startOfDay(t){return L0(t)}endOfDay(t){return hee(t)}startOfYear(t){return JZ(t)}endOfYear(t){return ZZ(t)}}const nF=Symbol.for("vuetify:date-options"),kP=Symbol.for("vuetify:date-adapter");function mee(e,t){const n=$i({adapter:vee,locale:{af:"af-ZA",bg:"bg-BG",ca:"ca-ES",ckb:"",cs:"cs-CZ",de:"de-DE",el:"el-GR",en:"en-US",et:"et-EE",fa:"fa-IR",fi:"fi-FI",hr:"hr-HR",hu:"hu-HU",he:"he-IL",id:"id-ID",it:"it-IT",ja:"ja-JP",ko:"ko-KR",lv:"lv-LV",lt:"lt-LT",nl:"nl-NL",no:"no-NO",pl:"pl-PL",pt:"pt-PT",ro:"ro-RO",ru:"ru-RU",sk:"sk-SK",sl:"sl-SI",srCyrl:"sr-SP",srLatn:"sr-SP",sv:"sv-SE",th:"th-TH",tr:"tr-TR",az:"az-AZ",uk:"uk-UA",vi:"vi-VN",zhHans:"zh-CN",zhHant:"zh-TW"}},e);return{options:n,instance:iF(n,t)}}function iF(e,t){const n=cn(typeof e.adapter=="function"?new e.adapter({locale:e.locale[t.current.value]??t.current.value,formats:e.formats}):e.adapter);return ge(t.current,i=>{n.locale=e.locale[i]??i??n.locale}),n}function jr(){const e=ot(nF);if(!e)throw new Error("[Vuetify] Could not find injected date options");const t=sn();return iF(e,t)}function gee(e,t){const n=e.toJsDate(t);let i=n.getFullYear(),r=new Date(i,0,1);if(n<r)i=i-1,r=new Date(i,0,1);else{const a=new Date(i+1,0,1);n>=a&&(i=i+1,r=a)}const s=Math.abs(n.getTime()-r.getTime()),o=Math.ceil(s/(1e3*60*60*24));return Math.floor(o/7)+1}const i_=["sm","md","lg","xl","xxl"],F0=Symbol.for("vuetify:display"),TP={mobileBreakpoint:"lg",thresholds:{xs:0,sm:600,md:960,lg:1280,xl:1920,xxl:2560}},pee=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:TP;return $i(TP,e)};function IP(e){return Bt&&!e?window.innerWidth:typeof e=="object"&&e.clientWidth||0}function AP(e){return Bt&&!e?window.innerHeight:typeof e=="object"&&e.clientHeight||0}function PP(e){const t=Bt&&!e?window.navigator.userAgent:"ssr";function n(m){return!!t.match(m)}const i=n(/android/i),r=n(/iphone|ipad|ipod/i),s=n(/cordova/i),o=n(/electron/i),a=n(/chrome/i),l=n(/edge/i),u=n(/firefox/i),d=n(/opera/i),c=n(/win/i),f=n(/mac/i),v=n(/linux/i);return{android:i,ios:r,cordova:s,electron:o,chrome:a,edge:l,firefox:u,opera:d,win:c,mac:f,linux:v,touch:OJ,ssr:t==="ssr"}}function _ee(e,t){const{thresholds:n,mobileBreakpoint:i}=pee(e),r=ke(AP(t)),s=ke(PP(t)),o=cn({}),a=ke(IP(t));function l(){r.value=AP(),a.value=IP()}function u(){l(),s.value=PP()}return rn(()=>{const d=a.value<n.sm,c=a.value<n.md&&!d,f=a.value<n.lg&&!(c||d),v=a.value<n.xl&&!(f||c||d),m=a.value<n.xxl&&!(v||f||c||d),p=a.value>=n.xxl,_=d?"xs":c?"sm":f?"md":v?"lg":m?"xl":"xxl",y=typeof i=="number"?i:n[i],b=a.value<y;o.xs=d,o.sm=c,o.md=f,o.lg=v,o.xl=m,o.xxl=p,o.smAndUp=!d,o.mdAndUp=!(d||c),o.lgAndUp=!(d||c||f),o.xlAndUp=!(d||c||f||v),o.smAndDown=!(f||v||m||p),o.mdAndDown=!(v||m||p),o.lgAndDown=!(m||p),o.xlAndDown=!p,o.name=_,o.height=r.value,o.width=a.value,o.mobile=b,o.mobileBreakpoint=i,o.platform=s.value,o.thresholds=n}),Bt&&window.addEventListener("resize",l,{passive:!0}),{...xa(o),update:u,ssr:!!t}}const Ql=te({mobile:{type:Boolean,default:!1},mobileBreakpoint:[Number,String]},"display");function xr(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Hs();const n=ot(F0);if(!n)throw new Error("Could not find Vuetify display injection");const i=I(()=>{if(e.mobile!=null)return e.mobile;if(!e.mobileBreakpoint)return n.mobile.value;const s=typeof e.mobileBreakpoint=="number"?e.mobileBreakpoint:n.thresholds.value[e.mobileBreakpoint];return n.width.value<s}),r=I(()=>t?{[`${t}--mobile`]:i.value}:{});return{...n,displayClasses:r,mobile:i}}const rF=Symbol.for("vuetify:goto");function sF(){return{container:void 0,duration:300,layout:!1,offset:0,easing:"easeInOutCubic",patterns:{linear:e=>e,easeInQuad:e=>e**2,easeOutQuad:e=>e*(2-e),easeInOutQuad:e=>e<.5?2*e**2:-1+(4-2*e)*e,easeInCubic:e=>e**3,easeOutCubic:e=>--e**3+1,easeInOutCubic:e=>e<.5?4*e**3:(e-1)*(2*e-2)*(2*e-2)+1,easeInQuart:e=>e**4,easeOutQuart:e=>1- --e**4,easeInOutQuart:e=>e<.5?8*e**4:1-8*--e**4,easeInQuint:e=>e**5,easeOutQuint:e=>1+--e**5,easeInOutQuint:e=>e<.5?16*e**5:1+16*--e**5}}}function yee(e){return C1(e)??(document.scrollingElement||document.body)}function C1(e){return typeof e=="string"?document.querySelector(e):v1(e)}function Ky(e,t,n){if(typeof e=="number")return t&&n?-e:e;let i=C1(e),r=0;for(;i;)r+=t?i.offsetLeft:i.offsetTop,i=i.offsetParent;return r}function bee(e,t){return{rtl:t.isRtl,options:$i(sF(),e)}}async function xP(e,t,n,i){const r=n?"scrollLeft":"scrollTop",s=$i((i==null?void 0:i.options)??sF(),t),o=i==null?void 0:i.rtl.value,a=(typeof e=="number"?e:C1(e))??0,l=s.container==="parent"&&a instanceof HTMLElement?a.parentElement:yee(s.container),u=typeof s.easing=="function"?s.easing:s.patterns[s.easing];if(!u)throw new TypeError(`Easing function "${s.easing}" not found.`);let d;if(typeof a=="number")d=Ky(a,n,o);else if(d=Ky(a,n,o)-Ky(l,n,o),s.layout){const m=window.getComputedStyle(a).getPropertyValue("--v-layout-top");m&&(d-=parseInt(m,10))}d+=s.offset,d=See(l,d,!!o,!!n);const c=l[r]??0;if(d===c)return Promise.resolve(d);const f=performance.now();return new Promise(v=>requestAnimationFrame(function m(p){const y=(p-f)/s.duration,b=Math.floor(c+(d-c)*u(Tn(y,0,1)));if(l[r]=b,y>=1&&Math.abs(b-l[r])<10)return v(d);if(y>2)return v(l[r]);requestAnimationFrame(m)}))}function wee(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const t=ot(rF),{isRtl:n}=Jn();if(!t)throw new Error("[Vuetify] Could not find injected goto instance");const i={...t,rtl:I(()=>t.rtl.value||n.value)};async function r(s,o){return xP(s,$i(e,o),!1,i)}return r.horizontal=async(s,o)=>xP(s,$i(e,o),!0,i),r}function See(e,t,n,i){const{scrollWidth:r,scrollHeight:s}=e,[o,a]=e===document.scrollingElement?[window.innerWidth,window.innerHeight]:[e.offsetWidth,e.offsetHeight];let l,u;return i?n?(l=-(r-o),u=0):(l=0,u=r-o):(l=0,u=s+-a),Math.max(Math.min(t,u),l)}const Eee={collapse:"mdi-chevron-up",complete:"mdi-check",cancel:"mdi-close-circle",close:"mdi-close",delete:"mdi-close-circle",clear:"mdi-close-circle",success:"mdi-check-circle",info:"mdi-information",warning:"mdi-alert-circle",error:"mdi-close-circle",prev:"mdi-chevron-left",next:"mdi-chevron-right",checkboxOn:"mdi-checkbox-marked",checkboxOff:"mdi-checkbox-blank-outline",checkboxIndeterminate:"mdi-minus-box",delimiter:"mdi-circle",sortAsc:"mdi-arrow-up",sortDesc:"mdi-arrow-down",expand:"mdi-chevron-down",menu:"mdi-menu",subgroup:"mdi-menu-down",dropdown:"mdi-menu-down",radioOn:"mdi-radiobox-marked",radioOff:"mdi-radiobox-blank",edit:"mdi-pencil",ratingEmpty:"mdi-star-outline",ratingFull:"mdi-star",ratingHalf:"mdi-star-half-full",loading:"mdi-cached",first:"mdi-page-first",last:"mdi-page-last",unfold:"mdi-unfold-more-horizontal",file:"mdi-paperclip",plus:"mdi-plus",minus:"mdi-minus",calendar:"mdi-calendar",treeviewCollapse:"mdi-menu-down",treeviewExpand:"mdi-menu-right",eyeDropper:"mdi-eyedropper"},Cee={component:e=>ni(T1,{...e,class:"mdi"})},Ze=[String,Function,Object,Array],$0=Symbol.for("vuetify:icons"),r_=te({icon:{type:Ze},tag:{type:String,required:!0}},"icon"),B0=fe()({name:"VComponentIcon",props:r_(),setup(e,t){let{slots:n}=t;return()=>{const i=e.icon;return h(e.tag,null,{default:()=>{var r;return[e.icon?h(i,null,null):(r=n.default)==null?void 0:r.call(n)]}})}}}),k1=Pr({name:"VSvgIcon",inheritAttrs:!1,props:r_(),setup(e,t){let{attrs:n}=t;return()=>h(e.tag,Z(n,{style:null}),{default:()=>[h("svg",{class:"v-icon__svg",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",role:"img","aria-hidden":"true"},[Array.isArray(e.icon)?e.icon.map(i=>Array.isArray(i)?h("path",{d:i[0],"fill-opacity":i[1]},null):h("path",{d:i},null)):h("path",{d:e.icon},null)])]})}}),kee=Pr({name:"VLigatureIcon",props:r_(),setup(e){return()=>h(e.tag,null,{default:()=>[e.icon]})}}),T1=Pr({name:"VClassIcon",props:r_(),setup(e){return()=>h(e.tag,{class:e.icon},null)}});function Tee(){return{svg:{component:k1},class:{component:T1}}}function Iee(e){const t=Tee(),n=(e==null?void 0:e.defaultSet)??"mdi";return n==="mdi"&&!t.mdi&&(t.mdi=Cee),$i({defaultSet:n,sets:t,aliases:{...Eee,vuetify:["M8.2241 14.2009L12 21L22 3H14.4459L8.2241 14.2009Z",["M7.26303 12.4733L7.00113 12L2 3H12.5261C12.5261 3 12.5261 3 12.5261 3L7.26303 12.4733Z",.6]],"vuetify-outline":"svg:M7.26 12.47 12.53 3H2L7.26 12.47ZM14.45 3 8.22 14.2 12 21 22 3H14.45ZM18.6 5 12 16.88 10.51 14.2 15.62 5ZM7.26 8.35 5.4 5H9.13L7.26 8.35Z","vuetify-play":["m6.376 13.184-4.11-7.192C1.505 4.66 2.467 3 4.003 3h8.532l-.953 1.576-.006.01-.396.677c-.429.732-.214 1.507.194 2.015.404.503 1.092.878 1.869.806a3.72 3.72 0 0 1 1.005.022c.276.053.434.143.523.237.138.146.38.635-.25 2.09-.893 1.63-1.553 1.722-1.847 1.677-.213-.033-.468-.158-.756-.406a4.95 4.95 0 0 1-.8-.927c-.39-.564-1.04-.84-1.66-.846-.625-.006-1.316.27-1.693.921l-.478.826-.911 1.506Z",["M9.093 11.552c.046-.079.144-.15.32-.148a.53.53 0 0 1 .43.207c.285.414.636.847 1.046 1.2.405.35.914.662 1.516.754 1.334.205 2.502-.698 3.48-2.495l.014-.028.013-.03c.687-1.574.774-2.852-.005-3.675-.37-.391-.861-.586-1.333-.676a5.243 5.243 0 0 0-1.447-.044c-.173.016-.393-.073-.54-.257-.145-.18-.127-.316-.082-.392l.393-.672L14.287 3h5.71c1.536 0 2.499 1.659 1.737 2.992l-7.997 13.996c-.768 1.344-2.706 1.344-3.473 0l-3.037-5.314 1.377-2.278.004-.006.004-.007.481-.831Z",.6]]}},e)}const Aee=e=>{const t=ot($0);if(!t)throw new Error("Missing Vuetify Icons provide!");return{iconData:I(()=>{var l;const i=oe(e);if(!i)return{component:B0};let r=i;if(typeof r=="string"&&(r=r.trim(),r.startsWith("$")&&(r=(l=t.aliases)==null?void 0:l[r.slice(1)])),Array.isArray(r))return{component:k1,icon:r};if(typeof r!="string")return{component:B0,icon:r};const s=Object.keys(t.sets).find(u=>typeof r=="string"&&r.startsWith(`${u}:`)),o=s?r.slice(s.length+1):r;return{component:t.sets[s??t.defaultSet].component,icon:o}})}},Ff=Symbol.for("vuetify:theme"),Ct=te({theme:String},"theme");function DP(){return{defaultTheme:"light",variations:{colors:[],lighten:0,darken:0},themes:{light:{dark:!1,colors:{background:"#FFFFFF",surface:"#FFFFFF","surface-bright":"#FFFFFF","surface-light":"#EEEEEE","surface-variant":"#424242","on-surface-variant":"#EEEEEE",primary:"#1867C0","primary-darken-1":"#1F5592",secondary:"#48A9A6","secondary-darken-1":"#018786",error:"#B00020",info:"#2196F3",success:"#4CAF50",warning:"#FB8C00"},variables:{"border-color":"#000000","border-opacity":.12,"high-emphasis-opacity":.87,"medium-emphasis-opacity":.6,"disabled-opacity":.38,"idle-opacity":.04,"hover-opacity":.04,"focus-opacity":.12,"selected-opacity":.08,"activated-opacity":.12,"pressed-opacity":.12,"dragged-opacity":.08,"theme-kbd":"#212529","theme-on-kbd":"#FFFFFF","theme-code":"#F5F5F5","theme-on-code":"#000000"}},dark:{dark:!0,colors:{background:"#121212",surface:"#212121","surface-bright":"#ccbfd6","surface-light":"#424242","surface-variant":"#a3a3a3","on-surface-variant":"#424242",primary:"#2196F3","primary-darken-1":"#277CC1",secondary:"#54B6B2","secondary-darken-1":"#48A9A6",error:"#CF6679",info:"#2196F3",success:"#4CAF50",warning:"#FB8C00"},variables:{"border-color":"#FFFFFF","border-opacity":.12,"high-emphasis-opacity":1,"medium-emphasis-opacity":.7,"disabled-opacity":.5,"idle-opacity":.1,"hover-opacity":.04,"focus-opacity":.12,"selected-opacity":.08,"activated-opacity":.12,"pressed-opacity":.16,"dragged-opacity":.08,"theme-kbd":"#212529","theme-on-kbd":"#FFFFFF","theme-code":"#343434","theme-on-code":"#CCCCCC"}}}}}function Pee(){var i,r;let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:DP();const t=DP();if(!e)return{...t,isDisabled:!0};const n={};for(const[s,o]of Object.entries(e.themes??{})){const a=o.dark||s==="dark"?(i=t.themes)==null?void 0:i.dark:(r=t.themes)==null?void 0:r.light;n[s]=$i(a,o)}return $i(t,{...e,themes:n})}function xee(e){const t=Pee(e),n=W(t.defaultTheme),i=W(t.themes),r=I(()=>{const d={};for(const[c,f]of Object.entries(i.value)){const v=d[c]={...f,colors:{...f.colors}};if(t.variations)for(const m of t.variations.colors){const p=v.colors[m];if(p)for(const _ of["lighten","darken"]){const y=_==="lighten"?fZ:hZ;for(const b of wr(t.variations[_],1))v.colors[`${m}-${_}-${b}`]=jL(y(Fr(p),b))}}for(const m of Object.keys(v.colors)){if(/^on-[a-z]/.test(m)||v.colors[`on-${m}`])continue;const p=`on-${m}`,_=Fr(v.colors[m]);v.colors[p]=GL(_)}}return d}),s=I(()=>r.value[n.value]),o=I(()=>{var m;const d=[];(m=s.value)!=null&&m.dark&&Ka(d,":root",["color-scheme: dark"]),Ka(d,":root",RP(s.value));for(const[p,_]of Object.entries(r.value))Ka(d,`.v-theme--${p}`,[`color-scheme: ${_.dark?"dark":"normal"}`,...RP(_)]);const c=[],f=[],v=new Set(Object.values(r.value).flatMap(p=>Object.keys(p.colors)));for(const p of v)/^on-[a-z]/.test(p)?Ka(f,`.${p}`,[`color: rgb(var(--v-theme-${p})) !important`]):(Ka(c,`.bg-${p}`,[`--v-theme-overlay-multiplier: var(--v-theme-${p}-overlay-multiplier)`,`background-color: rgb(var(--v-theme-${p})) !important`,`color: rgb(var(--v-theme-on-${p})) !important`]),Ka(f,`.text-${p}`,[`color: rgb(var(--v-theme-${p})) !important`]),Ka(f,`.border-${p}`,[`--v-border-color: var(--v-theme-${p})`]));return d.push(...c,...f),d.map((p,_)=>_===0?p:`    ${p}`).join("")});function a(){return{style:[{children:o.value,id:"vuetify-theme-stylesheet",nonce:t.cspNonce||!1}]}}function l(d){if(t.isDisabled)return;const c=d._context.provides.usehead;if(c)if(c.push){const f=c.push(a);Bt&&ge(o,()=>{f.patch(a)})}else Bt?(c.addHeadObjs(I(a)),rn(()=>c.updateDOM())):c.addHeadObjs(a());else{let v=function(){if(typeof document<"u"&&!f){const m=document.createElement("style");m.type="text/css",m.id="vuetify-theme-stylesheet",t.cspNonce&&m.setAttribute("nonce",t.cspNonce),f=m,document.head.appendChild(f)}f&&(f.innerHTML=o.value)},f=Bt?document.getElementById("vuetify-theme-stylesheet"):null;Bt?ge(o,v,{immediate:!0}):v()}}const u=I(()=>t.isDisabled?void 0:`v-theme--${n.value}`);return{install:l,isDisabled:t.isDisabled,name:n,themes:i,current:s,computedThemes:r,themeClasses:u,styles:o,global:{name:n,current:s}}}function Ft(e){Rn("provideTheme");const t=ot(Ff,null);if(!t)throw new Error("Could not find Vuetify theme injection");const n=I(()=>e.theme??t.name.value),i=I(()=>t.themes.value[n.value]),r=I(()=>t.isDisabled?void 0:`v-theme--${n.value}`),s={...t,name:n,current:i,themeClasses:r};return Ut(Ff,s),s}function I1(){Rn("useTheme");const e=ot(Ff,null);if(!e)throw new Error("Could not find Vuetify theme injection");return e}function Ka(e,t,n){e.push(`${t} {
`,...n.map(i=>`  ${i};
`),`}
`)}function RP(e){const t=e.dark?2:1,n=e.dark?1:2,i=[];for(const[r,s]of Object.entries(e.colors)){const o=Fr(s);i.push(`--v-theme-${r}: ${o.r},${o.g},${o.b}`),r.startsWith("on-")||i.push(`--v-theme-${r}-overlay-multiplier: ${M0(s)>.18?t:n}`)}for(const[r,s]of Object.entries(e.variables)){const o=typeof s=="string"&&s.startsWith("#")?Fr(s):void 0,a=o?`${o.r}, ${o.g}, ${o.b}`:void 0;i.push(`--v-${r}: ${a??s}`)}return i}function us(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"content";const n=fg(),i=W();if(Bt){const r=new ResizeObserver(s=>{e==null||e(s,r),s.length&&(t==="content"?i.value=s[0].contentRect:i.value=s[0].target.getBoundingClientRect())});di(()=>{r.disconnect()}),ge(()=>n.el,(s,o)=>{o&&(r.unobserve(o),i.value=void 0),s&&r.observe(s)},{flush:"post"})}return{resizeRef:n,contentRect:xc(i)}}const $f=Symbol.for("vuetify:layout"),oF=Symbol.for("vuetify:layout-item"),OP=1e3,aF=te({overlaps:{type:Array,default:()=>[]},fullHeight:Boolean},"layout"),Jl=te({name:{type:String},order:{type:[Number,String],default:0},absolute:Boolean},"layout-item");function lF(){const e=ot($f);if(!e)throw new Error("[Vuetify] Could not find injected layout");return{getLayoutItem:e.getLayoutItem,mainRect:e.mainRect,mainStyles:e.mainStyles}}function Zl(e){const t=ot($f);if(!t)throw new Error("[Vuetify] Could not find injected layout");const n=e.id??`layout-item-${fi()}`,i=Rn("useLayoutItem");Ut(oF,{id:n});const r=ke(!1);IS(()=>r.value=!0),TO(()=>r.value=!1);const{layoutItemStyles:s,layoutItemScrimStyles:o}=t.register(i,{...e,active:I(()=>r.value?!1:e.active.value),id:n});return di(()=>t.unregister(n)),{layoutItemStyles:s,layoutRect:t.layoutRect,layoutItemScrimStyles:o}}const Dee=(e,t,n,i)=>{let r={top:0,left:0,right:0,bottom:0};const s=[{id:"",layer:{...r}}];for(const o of e){const a=t.get(o),l=n.get(o),u=i.get(o);if(!a||!l||!u)continue;const d={...r,[a.value]:parseInt(r[a.value],10)+(u.value?parseInt(l.value,10):0)};s.push({id:o,layer:d}),r=d}return s};function uF(e){const t=ot($f,null),n=I(()=>t?t.rootZIndex.value-100:OP),i=W([]),r=cn(new Map),s=cn(new Map),o=cn(new Map),a=cn(new Map),l=cn(new Map),{resizeRef:u,contentRect:d}=us(),c=I(()=>{const O=new Map,x=e.overlaps??[];for(const S of x.filter(w=>w.includes(":"))){const[w,E]=S.split(":");if(!i.value.includes(w)||!i.value.includes(E))continue;const A=r.get(w),P=r.get(E),D=s.get(w),B=s.get(E);!A||!P||!D||!B||(O.set(E,{position:A.value,amount:parseInt(D.value,10)}),O.set(w,{position:P.value,amount:-parseInt(B.value,10)}))}return O}),f=I(()=>{const O=[...new Set([...o.values()].map(S=>S.value))].sort((S,w)=>S-w),x=[];for(const S of O){const w=i.value.filter(E=>{var A;return((A=o.get(E))==null?void 0:A.value)===S});x.push(...w)}return Dee(x,r,s,a)}),v=I(()=>!Array.from(l.values()).some(O=>O.value)),m=I(()=>f.value[f.value.length-1].layer),p=I(()=>({"--v-layout-left":Oe(m.value.left),"--v-layout-right":Oe(m.value.right),"--v-layout-top":Oe(m.value.top),"--v-layout-bottom":Oe(m.value.bottom),...v.value?void 0:{transition:"none"}})),_=I(()=>f.value.slice(1).map((O,x)=>{let{id:S}=O;const{layer:w}=f.value[x],E=s.get(S),A=r.get(S);return{id:S,...w,size:Number(E.value),position:A.value}})),y=O=>_.value.find(x=>x.id===O),b=Rn("createLayout"),C=ke(!1);bt(()=>{C.value=!0}),Ut($f,{register:(O,x)=>{let{id:S,order:w,position:E,layoutSize:A,elementSize:P,active:D,disableTransitions:B,absolute:$}=x;o.set(S,w),r.set(S,E),s.set(S,A),a.set(S,D),B&&l.set(S,B);const Y=Nu(oF,b==null?void 0:b.vnode).indexOf(O);Y>-1?i.value.splice(Y,0,S):i.value.push(S);const H=I(()=>_.value.findIndex(ue=>ue.id===S)),q=I(()=>n.value+f.value.length*2-H.value*2),z=I(()=>{const ue=E.value==="left"||E.value==="right",be=E.value==="right",Ae=E.value==="bottom",Ne=P.value??A.value,se=Ne===0?"%":"px",G={[E.value]:0,zIndex:q.value,transform:`translate${ue?"X":"Y"}(${(D.value?0:-(Ne===0?100:Ne))*(be||Ae?-1:1)}${se})`,position:$.value||n.value!==OP?"absolute":"fixed",...v.value?void 0:{transition:"none"}};if(!C.value)return G;const ie=_.value[H.value];if(!ie)throw new Error(`[Vuetify] Could not find layout item "${S}"`);const Q=c.value.get(S);return Q&&(ie[Q.position]+=Q.amount),{...G,height:ue?`calc(100% - ${ie.top}px - ${ie.bottom}px)`:P.value?`${P.value}px`:void 0,left:be?void 0:`${ie.left}px`,right:be?`${ie.right}px`:void 0,top:E.value!=="bottom"?`${ie.top}px`:void 0,bottom:E.value!=="top"?`${ie.bottom}px`:void 0,width:ue?P.value?`${P.value}px`:void 0:`calc(100% - ${ie.left}px - ${ie.right}px)`}}),ne=I(()=>({zIndex:q.value-1}));return{layoutItemStyles:z,layoutItemScrimStyles:ne,zIndex:q}},unregister:O=>{o.delete(O),r.delete(O),s.delete(O),a.delete(O),l.delete(O),i.value=i.value.filter(x=>x!==O)},mainRect:m,mainStyles:p,getLayoutItem:y,items:_,layoutRect:d,rootZIndex:n});const k=I(()=>["v-layout",{"v-layout--full-height":e.fullHeight}]),R=I(()=>({zIndex:t?n.value:void 0,position:t?"relative":void 0,overflow:t?"hidden":void 0}));return{layoutClasses:k,layoutStyles:R,getLayoutItem:y,items:_,layoutRect:d,layoutRef:u}}function cF(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{blueprint:t,...n}=e,i=$i(t,n),{aliases:r={},components:s={},directives:o={}}=i,a=gZ(i.defaults),l=_ee(i.display,i.ssr),u=xee(i.theme),d=Iee(i.icons),c=TZ(i.locale),f=mee(i.date,c),v=bee(i.goTo,c);return{install:p=>{for(const _ in o)p.directive(_,o[_]);for(const _ in s)p.component(_,s[_]);for(const _ in r)p.component(_,Pr({...r[_],name:_,aliasName:r[_].name}));if(u.install(p),p.provide(bc,a),p.provide(F0,l),p.provide(Ff,u),p.provide($0,d),p.provide(wc,c),p.provide(nF,f.options),p.provide(kP,f.instance),p.provide(rF,v),Bt&&i.ssr)if(p.$nuxt)p.$nuxt.hook("app:suspense:resolve",()=>{l.update()});else{const{mount:_}=p;p.mount=function(){const y=_(...arguments);return at(()=>l.update()),p.mount=_,y}}fi.reset(),p.mixin({computed:{$vuetify(){return cn({defaults:bu.call(this,bc),display:bu.call(this,F0),theme:bu.call(this,Ff),icons:bu.call(this,$0),locale:bu.call(this,wc),date:bu.call(this,kP)})}}})},defaults:a,display:l,theme:u,icons:d,locale:c,date:f,goTo:v}}const Ree="3.7.2";cF.version=Ree;function bu(e){var i,r;const t=this.$,n=((i=t.parent)==null?void 0:i.provides)??((r=t.vnode.appContext)==null?void 0:r.provides);if(n&&e in n)return n[e]}class Jr{static getItem(t){try{const n=localStorage.getItem(t);return n?JSON.parse(n):null}catch(n){return console.error(`Error retrieving item from localStorage: ${n}`),null}}static setItem(t,n){try{const i=JSON.stringify(n);localStorage.setItem(t,i)}catch(i){console.error(`Error setting item in localStorage: ${i}`)}}static removeItem(t){localStorage.removeItem(t)}static clear(){localStorage.clear()}}const Cn=e=>e,VP=function(e,t){const n=e.getDay();if(t==n)return e;const i=(t-n+7)%7||7,r=new Date(e);return r.setDate(e.getDate()+i),r},Oee=function(e,t){const n=e.getDay();if(t==n)return e;const i=(t-n+7)%7||7,r=new Date(e);return r.setDate(e.getDate()-i),r},Vee=new Intl.DateTimeFormat("it-IT",{year:"numeric",month:"2-digit",day:"2-digit",timeZone:"Europe/Rome"}),A1=function(e){if(!e)return"";const t=new Date(e);return Vee.format(t)},Nee=new Intl.DateTimeFormat("it-IT",{timeStyle:"medium",dateStyle:"short",timeZone:"Europe/Rome"}),Mee=function(e){if(!e)return"";const t=new Date(e);return Nee.format(t)},Lee=function(e,t){if(e.length!==t.length)return!1;const n=[...e].sort(),i=[...t].sort();return n.every((r,s)=>r===i[s])},Fee=function(e,t=30,n=80){let i=0;for(let s=0;s<e.length;s++)i=e.charCodeAt(s)+((i<<5)-i);return"hsl("+i%360+", "+t+"%, "+n+"%)"};class dF{constructor(){An(this,"handlers",[]);An(this,"unsubscription");An(this,"cache")}subscribe(t,n=!1){return this.handlers.push(t),n&&this.cache!=null&&t.next(this.cache),new $ee(this,t)}unsubscribe(t){var i;const n=this.handlers.indexOf(t);n!==-1&&this.handlers.splice(n,1),this.handlers.length==0&&((i=this.unsubscription)==null||i.call(this))}unsubscribeAll(){this.clear()}setUnsubscription(t){this.unsubscription=t}next(t){this.cache=t,[...this.handlers].forEach(n=>n.next(t))}error(t){[...this.handlers].forEach(n=>{var i;return(i=n.error)==null?void 0:i.call(n,t)}),console.log(t)}clear(){this.handlers=[]}expose(){return this}}class $ee{constructor(t,n){this.liteEvent=t,this.handler=n}unsubscribe(){this.liteEvent.unsubscribe(this.handler)}}const Bee=()=>{const e=new WeakSet;return(t,n)=>{if(typeof n=="object"&&n!==null){if(e.has(n))return;e.add(n)}return n}};var Pn=(e=>(e[e.ERROR=0]="ERROR",e[e.WARNING=1]="WARNING",e[e.INFO=2]="INFO",e[e.EXCEPTION=3]="EXCEPTION",e[e.PROMISE_REJECTION=4]="PROMISE_REJECTION",e[e.ALL=5]="ALL",e))(Pn||{});const Ug=class Ug{constructor(){An(this,"logs",[]);An(this,"logs2",[]);An(this,"_subscription",new dF)}static get instance(){return this._instance||(this._instance=new Ug),this._instance}get subscription(){return this._subscription}get enabled(){return Jr.getItem("debugEnabled")??!0}push(t,...n){if(!this.enabled)return;const i=JSON.stringify(n,Bee()),r=new Date;this.logs.push({level:t,message:i,timestamp:r}),this._subscription.next(this.logs)}clear(){this.logs.length=0,this._subscription.next(this.logs)}};An(Ug,"_instance",null);let ia=Ug;const Uee={class:"d-flex justify-center w-100"},jee={key:1,class:"text-h7"},Hee={class:"mx-auto text-center"},Wee={key:0},zee={key:1,class:"text-h7"},Gee={class:"text-caption mt-1"},qee=At({__name:"App",setup(e){const{mobile:t}=xr({mobileBreakpoint:"md"}),n=W(1),i=I(()=>{switch(n.value){case 0:return"blue-grey";case 1:return"teal";case 2:return"brown";case 3:return"indigo";default:return"blue-grey"}}),r=[],s=hL(),o=I1(),a=new URL("/teachers-agenda/assets/logor-m1FxASBK.png",import.meta.url).href,l=W(!1),u=W(!0),d="1.0.0-alpha4",c={text:`Versione ${d}`,scrollStrategy:"close",location:"bottom",scrim:!0,persistent:!1,openOnClick:!0,openOnHover:!1},f=kN(),v=jc(),m=Qp(),p=I(()=>{var C,k;return((k=(C=f.value)==null?void 0:C.displayName)==null?void 0:k.split(" ").map(R=>R.charAt(0)).join(""))??"TA"}),_=I(()=>{var C;return((C=f.value)==null?void 0:C.photoURL)??a}),y=I(()=>Fee(p.value));ge(f,async(C,k)=>{if(!C&&k&&m.meta.requiresAuth)return v.push({name:"login"});if(C){if(typeof m.query.redirect=="string")return v.push(m.query.redirect);if(m.name=="login")return v.push("/")}}),ge(()=>m.name,()=>u.value=m.name=="login");function b(){const C=Jr.getItem("theme")??"myCustomLightTheme";o.global.name.value=C=="myCustomDarkTheme"?"myCustomLightTheme":"myCustomDarkTheme",Jr.setItem("theme",o.global.name.value)}return bt(()=>{o.global.name.value=Jr.getItem("theme")??"myCustomLightTheme"}),(C,k)=>{const R=U("v-img"),O=U("v-list-item-title"),x=U("v-list-item-subtitle"),S=U("v-list-item"),w=U("v-divider"),E=U("v-icon"),A=U("v-list"),P=U("v-footer"),D=U("v-navigation-drawer"),B=U("v-app-bar-nav-icon"),$=U("v-app-bar-title"),j=U("v-btn"),Y=U("v-menu"),H=U("v-avatar"),q=U("v-fab-transition"),z=U("v-card-text"),ne=U("v-card"),ue=U("v-app-bar"),be=U("v-slide-x-transition"),Ae=U("router-view"),Ne=U("v-container"),se=U("v-main"),G=U("v-bottom-navigation"),ie=U("v-layout"),Q=U("v-app"),ee=cr("tooltip");return ye(),Me(Q,null,{default:N(()=>[!u.value&&!oe(t)?(ye(),Me(D,{key:0,permanent:"",modelValue:l.value,"onUpdate:modelValue":k[0]||(k[0]=X=>l.value=X)},{append:N(()=>[h(P,{height:"45",class:"px-0"},{default:N(()=>[it("div",Uee,[h(E,{start:""},{default:N(()=>k[12]||(k[12]=[Ie("mdi-alpha-v-circle")])),_:1}),it("span",null,ht(oe(d)),1)])]),_:1})]),default:N(()=>[h(S,{height:"64"},{prepend:N(()=>[h(R,{contain:"",src:oe(a),height:"45",width:"45"},null,8,["src"])]),default:N(()=>[h(O,{class:"text-h6 ml-3"},{default:N(()=>k[4]||(k[4]=[Ie("Agenda")])),_:1}),h(x,{class:"text-h6 ml-3 pb-1"},{default:N(()=>k[5]||(k[5]=[Ie("Del Maestro")])),_:1})]),_:1}),h(w),h(A,{dense:"",nav:""},{default:N(()=>[h(S,{to:"/",color:"lime-darken-4"},{prepend:N(()=>[h(E,{icon:"mdi-home"})]),default:N(()=>[h(O,null,{default:N(()=>k[6]||(k[6]=[Ie("Home")])),_:1})]),_:1}),h(S,{to:"/schools",color:"lime-darken-4"},{prepend:N(()=>[h(E,{icon:"mdi-town-hall"})]),default:N(()=>[h(O,null,{default:N(()=>k[7]||(k[7]=[Ie("Gestisci Scuole")])),_:1})]),_:1}),h(S,{to:"/calendar",color:"lime-darken-4"},{prepend:N(()=>[h(E,{icon:"mdi-calendar"})]),default:N(()=>[h(O,null,{default:N(()=>k[8]||(k[8]=[Ie("Calendario")])),_:1})]),_:1}),h(S,{to:"/lesson/"+new Date,color:"lime-darken-4"},{prepend:N(()=>[h(E,{icon:"mdi-book-account"})]),default:N(()=>[h(O,null,{default:N(()=>k[9]||(k[9]=[Ie("Lezioni")])),_:1})]),_:1},8,["to"]),h(S,{to:"/recoveries",color:"lime-darken-4"},{prepend:N(()=>[h(E,{icon:"mdi-repeat"})]),default:N(()=>[h(O,null,{default:N(()=>k[10]||(k[10]=[Ie("Recuperi")])),_:1})]),_:1}),h(S,{to:"/reports",color:"lime-darken-4"},{prepend:N(()=>[h(E,{icon:"mdi-chart-bar"})]),default:N(()=>[h(O,null,{default:N(()=>k[11]||(k[11]=[Ie("Statistiche")])),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])):Jt("",!0),h(ue,{color:"grey-darken-4"},{default:N(()=>[!u.value&&!oe(t)?(ye(),Me(B,{key:0,onClick:k[1]||(k[1]=X=>l.value=!l.value)})):Jt("",!0),h($,{style:{"margin-left":"-10px"}}),oe(t)?_n((ye(),Me(j,{key:1,icon:"",class:"mr-2"},{default:N(()=>[h(E,{right:""},{default:N(()=>k[13]||(k[13]=[Ie("mdi-information")])),_:1})]),_:1})),[[ee,c]]):Jt("",!0),h(j,{onClick:b,icon:"",class:"mr-2"},{default:N(()=>[h(E,{right:""},{default:N(()=>k[14]||(k[14]=[Ie("mdi-theme-light-dark")])),_:1})]),_:1}),h(Y,{transition:"slide-y-transition"},{activator:N(({props:X})=>[h(j,Z({icon:"",class:"mr-2"},X),{default:N(()=>[h(E,{right:""},{default:N(()=>k[15]||(k[15]=[Ie("mdi-bell")])),_:1})]),_:2},1040)]),default:N(()=>[h(A,null,{default:N(()=>[(ye(),wt(Te,null,Si(r,(X,_e)=>h(S,{key:_e},{default:N(()=>[h(O,null,{default:N(()=>[Ie(ht(X.title),1)]),_:2},1024)]),_:2},1024)),64))]),_:1})]),_:1}),h(Y,{"min-width":"200px",class:"mr-2",rounded:""},{activator:N(({props:X})=>[h(j,Z({class:"mr-2",icon:""},X),{default:N(()=>[h(H,{color:y.value},{default:N(()=>[_.value?(ye(),Me(R,{key:0,src:_.value},null,8,["src"])):(ye(),wt("span",jee,ht(p.value),1))]),_:1},8,["color"])]),_:2},1040)]),default:N(()=>[h(ne,null,{default:N(()=>[h(z,null,{default:N(()=>[it("div",Hee,[oe(f)?(ye(),wt("div",Wee,[h(H,{color:y.value},{default:N(()=>[_.value?(ye(),Me(R,{key:0,src:_.value},null,8,["src"])):(ye(),wt("span",zee,ht(p.value),1))]),_:1},8,["color"]),it("h3",null,ht(oe(f).displayName),1),it("p",Gee,ht(oe(f).email),1),h(w,{class:"my-3"}),h(j,{variant:"text",rounded:"",to:"/settings"},{default:N(()=>[h(E,{right:"",class:"mr-2"},{default:N(()=>k[16]||(k[16]=[Ie("mdi-cog")])),_:1}),k[17]||(k[17]=Ie(" Impostazioni "))]),_:1}),k[20]||(k[20]=it("br",null,null,-1)),h(j,{variant:"text",rounded:"",to:"/debugger"},{default:N(()=>[h(E,{right:"",class:"mr-2"},{default:N(()=>k[18]||(k[18]=[Ie("mdi-bug")])),_:1}),k[19]||(k[19]=Ie(" Debugger "))]),_:1}),h(w,{class:"my-3"})])):Jt("",!0),h(q,null,{default:N(()=>[oe(f)?(ye(),Me(j,{key:1,class:"mx-5",variant:"text",onClick:k[2]||(k[2]=X=>oe(oz)(oe(s)))},{default:N(()=>[k[24]||(k[24]=Ie(" Esci ")),h(E,{right:"",class:"ml-2"},{default:N(()=>k[23]||(k[23]=[Ie("mdi-logout")])),_:1})]),_:1})):(ye(),Me(j,{key:0,class:"mx-5",variant:"outlined",to:"/login"},{default:N(()=>[k[22]||(k[22]=Ie(" Accedi ")),h(E,{right:"",class:"ml-2"},{default:N(()=>k[21]||(k[21]=[Ie("mdi-login")])),_:1})]),_:1}))]),_:1})])]),_:1})]),_:1})]),_:1})]),_:1}),h(se,null,{default:N(()=>[h(Ne,{fluid:""},{default:N(()=>[h(Ae,null,{default:N(({Component:X,route:_e})=>[h(be,{"leave-absolute":""},{default:N(()=>[(ye(),Me(DO(X)))]),_:2},1024)]),_:1})]),_:1})]),_:1}),!u.value&&oe(t)?(ye(),Me(ie,{key:1,class:"overflow-visible position-relative",style:{height:"56px"}},{default:N(()=>[h(G,{class:"position-fixed bottom-0",modelValue:n.value,"onUpdate:modelValue":k[3]||(k[3]=X=>n.value=X),"bg-color":i.value,mode:"shift"},{default:N(()=>[h(j,{to:"/"},{default:N(()=>[h(E,null,{default:N(()=>k[25]||(k[25]=[Ie("mdi-home")])),_:1}),k[26]||(k[26]=it("span",null,"Home",-1))]),_:1})]),_:1},8,["modelValue","bg-color"])]),_:1})):Jt("",!0)]),_:1})}}}),Yee={apiKey:"AIzaSyDhEJoQLDHojsr_VEtB1O9IErI__pShKa8",authDomain:"teachers-agenda.firebaseapp.com",projectId:"teachers-agenda",storageBucket:"teachers-agenda.appspot.com",messagingSenderId:"56057008308",appId:"1:56057008308:web:ca3a75547d1b64ba3087e1",measurementId:"G-KWTDHCXRJ4"};function Kee(e){const t=e||VV(Yee),n=v8(t),i=q2(t);return"true".toLowerCase()==="true"&&location.hostname==="localhost"&&(nN(n,"http://localhost:9099"),G2(i,"localhost",8080)),{firebaseApp:t,auth:n,firestore:i}}function Xee(){const e=Y9()[0];return Kee(e)}const Qee=new io,Jee=te({...$e(),...aF({fullHeight:!0}),...Ct()},"VApp"),Zee=fe()({name:"VApp",props:Jee(),setup(e,t){let{slots:n}=t;const i=Ft(e),{layoutClasses:r,getLayoutItem:s,items:o,layoutRef:a}=uF(e),{rtlClasses:l}=Jn();return ve(()=>{var u;return h("div",{ref:a,class:["v-application",i.themeClasses.value,r.value,l.value,e.class],style:[e.style]},[h("div",{class:"v-application__wrap"},[(u=n.default)==null?void 0:u.call(n)])])}),{getLayoutItem:s,items:o,theme:i}}}),ut=te({tag:{type:String,default:"div"}},"tag"),fF=te({text:String,...$e(),...ut()},"VToolbarTitle"),P1=fe()({name:"VToolbarTitle",props:fF(),setup(e,t){let{slots:n}=t;return ve(()=>{const i=!!(n.default||n.text||e.text);return h(e.tag,{class:["v-toolbar-title",e.class],style:e.style},{default:()=>{var r;return[i&&h("div",{class:"v-toolbar-title__placeholder"},[n.text?n.text():e.text,(r=n.default)==null?void 0:r.call(n)])]}})}),{}}}),ete=te({disabled:Boolean,group:Boolean,hideOnLeave:Boolean,leaveAbsolute:Boolean,mode:String,origin:String},"transition");function Dr(e,t,n){return fe()({name:e,props:ete({mode:n,origin:t}),setup(i,r){let{slots:s}=r;const o={onBeforeEnter(a){i.origin&&(a.style.transformOrigin=i.origin)},onLeave(a){if(i.leaveAbsolute){const{offsetTop:l,offsetLeft:u,offsetWidth:d,offsetHeight:c}=a;a._transitionInitialStyles={position:a.style.position,top:a.style.top,left:a.style.left,width:a.style.width,height:a.style.height},a.style.position="absolute",a.style.top=`${l}px`,a.style.left=`${u}px`,a.style.width=`${d}px`,a.style.height=`${c}px`}i.hideOnLeave&&a.style.setProperty("display","none","important")},onAfterLeave(a){if(i.leaveAbsolute&&(a!=null&&a._transitionInitialStyles)){const{position:l,top:u,left:d,width:c,height:f}=a._transitionInitialStyles;delete a._transitionInitialStyles,a.style.position=l||"",a.style.top=u||"",a.style.left=d||"",a.style.width=c||"",a.style.height=f||""}}};return()=>{const a=i.group?FS:va;return ni(a,{name:i.disabled?"":e,css:!i.disabled,...i.group?void 0:{mode:i.mode},...i.disabled?{}:o},s.default)}}})}function hF(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"in-out";return fe()({name:e,props:{mode:{type:String,default:n},disabled:Boolean,group:Boolean},setup(i,r){let{slots:s}=r;const o=i.group?FS:va;return()=>ni(o,{name:i.disabled?"":e,css:!i.disabled,...i.disabled?{}:t},s.default)}})}function vF(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";const n=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1)?"width":"height",i=ur(`offset-${n}`);return{onBeforeEnter(o){o._parent=o.parentNode,o._initialStyle={transition:o.style.transition,overflow:o.style.overflow,[n]:o.style[n]}},onEnter(o){const a=o._initialStyle;o.style.setProperty("transition","none","important"),o.style.overflow="hidden";const l=`${o[i]}px`;o.style[n]="0",o.offsetHeight,o.style.transition=a.transition,e&&o._parent&&o._parent.classList.add(e),requestAnimationFrame(()=>{o.style[n]=l})},onAfterEnter:s,onEnterCancelled:s,onLeave(o){o._initialStyle={transition:"",overflow:o.style.overflow,[n]:o.style[n]},o.style.overflow="hidden",o.style[n]=`${o[i]}px`,o.offsetHeight,requestAnimationFrame(()=>o.style[n]="0")},onAfterLeave:r,onLeaveCancelled:r};function r(o){e&&o._parent&&o._parent.classList.remove(e),s(o)}function s(o){const a=o._initialStyle[n];o.style.overflow=o._initialStyle.overflow,a!=null&&(o.style[n]=a),delete o._initialStyle}}const tte=te({target:[Object,Array]},"v-dialog-transition"),s_=fe()({name:"VDialogTransition",props:tte(),setup(e,t){let{slots:n}=t;const i={onBeforeEnter(r){r.style.pointerEvents="none",r.style.visibility="hidden"},async onEnter(r,s){var f;await new Promise(v=>requestAnimationFrame(v)),await new Promise(v=>requestAnimationFrame(v)),r.style.visibility="";const{x:o,y:a,sx:l,sy:u,speed:d}=MP(e.target,r),c=cl(r,[{transform:`translate(${o}px, ${a}px) scale(${l}, ${u})`,opacity:0},{}],{duration:225*d,easing:bZ});(f=NP(r))==null||f.forEach(v=>{cl(v,[{opacity:0},{opacity:0,offset:.33},{}],{duration:225*2*d,easing:Mf})}),c.finished.then(()=>s())},onAfterEnter(r){r.style.removeProperty("pointer-events")},onBeforeLeave(r){r.style.pointerEvents="none"},async onLeave(r,s){var f;await new Promise(v=>requestAnimationFrame(v));const{x:o,y:a,sx:l,sy:u,speed:d}=MP(e.target,r);cl(r,[{},{transform:`translate(${o}px, ${a}px) scale(${l}, ${u})`,opacity:0}],{duration:125*d,easing:wZ}).finished.then(()=>s()),(f=NP(r))==null||f.forEach(v=>{cl(v,[{},{opacity:0,offset:.2},{opacity:0}],{duration:125*2*d,easing:Mf})})},onAfterLeave(r){r.style.removeProperty("pointer-events")}};return()=>e.target?h(va,Z({name:"dialog-transition"},i,{css:!1}),n):h(va,{name:"dialog-transition"},n)}});function NP(e){var n;const t=(n=e.querySelector(":scope > .v-card, :scope > .v-sheet, :scope > .v-list"))==null?void 0:n.children;return t&&[...t]}function MP(e,t){const n=NL(e),i=_1(t),[r,s]=getComputedStyle(t).transformOrigin.split(" ").map(y=>parseFloat(y)),[o,a]=getComputedStyle(t).getPropertyValue("--v-overlay-anchor-origin").split(" ");let l=n.left+n.width/2;o==="left"||a==="left"?l-=n.width/2:(o==="right"||a==="right")&&(l+=n.width/2);let u=n.top+n.height/2;o==="top"||a==="top"?u-=n.height/2:(o==="bottom"||a==="bottom")&&(u+=n.height/2);const d=n.width/i.width,c=n.height/i.height,f=Math.max(1,d,c),v=d/f||0,m=c/f||0,p=i.width*i.height/(window.innerWidth*window.innerHeight),_=p>.12?Math.min(1.5,(p-.12)*10+1):1;return{x:l-(r+i.left),y:u-(s+i.top),sx:v,sy:m,speed:_}}const nte=Dr("fab-transition","center center","out-in"),ite=Dr("dialog-bottom-transition"),rte=Dr("dialog-top-transition"),Bf=Dr("fade-transition"),x1=Dr("scale-transition"),ste=Dr("scroll-x-transition"),ote=Dr("scroll-x-reverse-transition"),ate=Dr("scroll-y-transition"),lte=Dr("scroll-y-reverse-transition"),ute=Dr("slide-x-transition"),cte=Dr("slide-x-reverse-transition"),D1=Dr("slide-y-transition"),dte=Dr("slide-y-reverse-transition"),o_=hF("expand-transition",vF()),R1=hF("expand-x-transition",vF("",!0)),fte=te({defaults:Object,disabled:Boolean,reset:[Number,String],root:[Boolean,String],scoped:Boolean},"VDefaultsProvider"),lt=fe(!1)({name:"VDefaultsProvider",props:fte(),setup(e,t){let{slots:n}=t;const{defaults:i,disabled:r,reset:s,root:o,scoped:a}=xa(e);return yn(i,{reset:s,root:o,scoped:a,disabled:r}),()=>{var l;return(l=n.default)==null?void 0:l.call(n)}}}),qn=te({height:[Number,String],maxHeight:[Number,String],maxWidth:[Number,String],minHeight:[Number,String],minWidth:[Number,String],width:[Number,String]},"dimension");function Yn(e){return{dimensionStyles:I(()=>{const n={},i=Oe(e.height),r=Oe(e.maxHeight),s=Oe(e.maxWidth),o=Oe(e.minHeight),a=Oe(e.minWidth),l=Oe(e.width);return i!=null&&(n.height=i),r!=null&&(n.maxHeight=r),s!=null&&(n.maxWidth=s),o!=null&&(n.minHeight=o),a!=null&&(n.minWidth=a),l!=null&&(n.width=l),n})}}function hte(e){return{aspectStyles:I(()=>{const t=Number(e.aspectRatio);return t?{paddingBottom:String(1/t*100)+"%"}:void 0})}}const mF=te({aspectRatio:[String,Number],contentClass:null,inline:Boolean,...$e(),...qn()},"VResponsive"),U0=fe()({name:"VResponsive",props:mF(),setup(e,t){let{slots:n}=t;const{aspectStyles:i}=hte(e),{dimensionStyles:r}=Yn(e);return ve(()=>{var s;return h("div",{class:["v-responsive",{"v-responsive--inline":e.inline},e.class],style:[r.value,e.style]},[h("div",{class:"v-responsive__sizer",style:i.value},null),(s=n.additional)==null?void 0:s.call(n),n.default&&h("div",{class:["v-responsive__content",e.contentClass]},[n.default()])])}),{}}});function O1(e){return g1(()=>{const t=[],n={};if(e.value.background)if(N0(e.value.background)){if(n.backgroundColor=e.value.background,!e.value.text&&uZ(e.value.background)){const i=Fr(e.value.background);if(i.a==null||i.a===1){const r=GL(i);n.color=r,n.caretColor=r}}}else t.push(`bg-${e.value.background}`);return e.value.text&&(N0(e.value.text)?(n.color=e.value.text,n.caretColor=e.value.text):t.push(`text-${e.value.text}`)),{colorClasses:t,colorStyles:n}})}function ci(e,t){const n=I(()=>({text:Je(e)?e.value:t?e[t]:null})),{colorClasses:i,colorStyles:r}=O1(n);return{textColorClasses:i,textColorStyles:r}}function Gt(e,t){const n=I(()=>({background:Je(e)?e.value:t?e[t]:null})),{colorClasses:i,colorStyles:r}=O1(n);return{backgroundColorClasses:i,backgroundColorStyles:r}}const bn=te({rounded:{type:[Boolean,Number,String],default:void 0},tile:Boolean},"rounded");function On(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Hs();return{roundedClasses:I(()=>{const i=Je(e)?e.value:e.rounded,r=Je(e)?e.value:e.tile,s=[];if(i===!0||i==="")s.push(`${t}--rounded`);else if(typeof i=="string"||i===0)for(const o of String(i).split(" "))s.push(`rounded-${o}`);else(r||i===!1)&&s.push("rounded-0");return s})}}const hs=te({transition:{type:[Boolean,String,Object],default:"fade-transition",validator:e=>e!==!0}},"transition"),Bi=(e,t)=>{let{slots:n}=t;const{transition:i,disabled:r,group:s,...o}=e,{component:a=s?FS:va,...l}=typeof i=="object"?i:{};return ni(a,Z(typeof i=="string"?{name:r?"":i}:l,typeof i=="string"?{}:Object.fromEntries(Object.entries({disabled:r,group:s}).filter(u=>{let[d,c]=u;return c!==void 0})),o),n)};function vte(e,t){if(!f1)return;const n=t.modifiers||{},i=t.value,{handler:r,options:s}=typeof i=="object"?i:{handler:i,options:{}},o=new IntersectionObserver(function(){var c;let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],l=arguments.length>1?arguments[1]:void 0;const u=(c=e._observe)==null?void 0:c[t.instance.$.uid];if(!u)return;const d=a.some(f=>f.isIntersecting);r&&(!n.quiet||u.init)&&(!n.once||d||u.init)&&r(d,a,l),d&&n.once?gF(e,t):u.init=!0},s);e._observe=Object(e._observe),e._observe[t.instance.$.uid]={init:!1,observer:o},o.observe(e)}function gF(e,t){var i;const n=(i=e._observe)==null?void 0:i[t.instance.$.uid];n&&(n.observer.unobserve(e),delete e._observe[t.instance.$.uid])}const Nh={mounted:vte,unmounted:gF},pF=te({absolute:Boolean,alt:String,cover:Boolean,color:String,draggable:{type:[Boolean,String],default:void 0},eager:Boolean,gradient:String,lazySrc:String,options:{type:Object,default:()=>({root:void 0,rootMargin:void 0,threshold:void 0})},sizes:String,src:{type:[String,Object],default:""},crossorigin:String,referrerpolicy:String,srcset:String,position:String,...mF(),...$e(),...bn(),...hs()},"VImg"),ko=fe()({name:"VImg",directives:{intersect:Nh},props:pF(),emits:{loadstart:e=>!0,load:e=>!0,error:e=>!0},setup(e,t){let{emit:n,slots:i}=t;const{backgroundColorClasses:r,backgroundColorStyles:s}=Gt(de(e,"color")),{roundedClasses:o}=On(e),a=Rn("VImg"),l=ke(""),u=W(),d=ke(e.eager?"loading":"idle"),c=ke(),f=ke(),v=I(()=>e.src&&typeof e.src=="object"?{src:e.src.src,srcset:e.srcset||e.src.srcset,lazySrc:e.lazySrc||e.src.lazySrc,aspect:Number(e.aspectRatio||e.src.aspect||0)}:{src:e.src,srcset:e.srcset,lazySrc:e.lazySrc,aspect:Number(e.aspectRatio||0)}),m=I(()=>v.value.aspect||c.value/f.value||0);ge(()=>e.src,()=>{p(d.value!=="idle")}),ge(m,(P,D)=>{!P&&D&&u.value&&k(u.value)}),AS(()=>p());function p(P){if(!(e.eager&&P)&&!(f1&&!P&&!e.eager)){if(d.value="loading",v.value.lazySrc){const D=new Image;D.src=v.value.lazySrc,k(D,null)}v.value.src&&at(()=>{var D;n("loadstart",((D=u.value)==null?void 0:D.currentSrc)||v.value.src),setTimeout(()=>{var B;if(!a.isUnmounted)if((B=u.value)!=null&&B.complete){if(u.value.naturalWidth||y(),d.value==="error")return;m.value||k(u.value,null),d.value==="loading"&&_()}else m.value||k(u.value),b()})})}}function _(){var P;a.isUnmounted||(b(),k(u.value),d.value="loaded",n("load",((P=u.value)==null?void 0:P.currentSrc)||v.value.src))}function y(){var P;a.isUnmounted||(d.value="error",n("error",((P=u.value)==null?void 0:P.currentSrc)||v.value.src))}function b(){const P=u.value;P&&(l.value=P.currentSrc||P.src)}let C=-1;di(()=>{clearTimeout(C)});function k(P){let D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:100;const B=()=>{if(clearTimeout(C),a.isUnmounted)return;const{naturalHeight:$,naturalWidth:j}=P;$||j?(c.value=j,f.value=$):!P.complete&&d.value==="loading"&&D!=null?C=window.setTimeout(B,D):(P.currentSrc.endsWith(".svg")||P.currentSrc.startsWith("data:image/svg+xml"))&&(c.value=1,f.value=1)};B()}const R=I(()=>({"v-img__img--cover":e.cover,"v-img__img--contain":!e.cover})),O=()=>{var B;if(!v.value.src||d.value==="idle")return null;const P=h("img",{class:["v-img__img",R.value],style:{objectPosition:e.position},src:v.value.src,srcset:v.value.srcset,alt:e.alt,crossorigin:e.crossorigin,referrerpolicy:e.referrerpolicy,draggable:e.draggable,sizes:e.sizes,ref:u,onLoad:_,onError:y},null),D=(B=i.sources)==null?void 0:B.call(i);return h(Bi,{transition:e.transition,appear:!0},{default:()=>[_n(D?h("picture",{class:"v-img__picture"},[D,P]):P,[[fs,d.value==="loaded"]])]})},x=()=>h(Bi,{transition:e.transition},{default:()=>[v.value.lazySrc&&d.value!=="loaded"&&h("img",{class:["v-img__img","v-img__img--preload",R.value],style:{objectPosition:e.position},src:v.value.lazySrc,alt:e.alt,crossorigin:e.crossorigin,referrerpolicy:e.referrerpolicy,draggable:e.draggable},null)]}),S=()=>i.placeholder?h(Bi,{transition:e.transition,appear:!0},{default:()=>[(d.value==="loading"||d.value==="error"&&!i.error)&&h("div",{class:"v-img__placeholder"},[i.placeholder()])]}):null,w=()=>i.error?h(Bi,{transition:e.transition,appear:!0},{default:()=>[d.value==="error"&&h("div",{class:"v-img__error"},[i.error()])]}):null,E=()=>e.gradient?h("div",{class:"v-img__gradient",style:{backgroundImage:`linear-gradient(${e.gradient})`}},null):null,A=ke(!1);{const P=ge(m,D=>{D&&(requestAnimationFrame(()=>{requestAnimationFrame(()=>{A.value=!0})}),P())})}return ve(()=>{const P=U0.filterProps(e);return _n(h(U0,Z({class:["v-img",{"v-img--absolute":e.absolute,"v-img--booting":!A.value},r.value,o.value,e.class],style:[{width:Oe(e.width==="auto"?c.value:e.width)},s.value,e.style]},P,{aspectRatio:m.value,"aria-label":e.alt,role:e.alt?"img":void 0}),{additional:()=>h(Te,null,[h(O,null,null),h(x,null,null),h(E,null,null),h(S,null,null),h(w,null,null)]),default:i.default}),[[cr("intersect"),{handler:p,options:e.options},null,{once:!0}]])}),{currentSrc:l,image:u,state:d,naturalWidth:c,naturalHeight:f}}}),dr=te({border:[Boolean,Number,String]},"border");function Rr(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Hs();return{borderClasses:I(()=>{const i=Je(e)?e.value:e.border,r=[];if(i===!0||i==="")r.push(`${t}--border`);else if(typeof i=="string"||i===0)for(const s of String(i).split(" "))r.push(`border-${s}`);return r})}}const Zn=te({elevation:{type:[Number,String],validator(e){const t=parseInt(e);return!isNaN(t)&&t>=0&&t<=24}}},"elevation");function hi(e){return{elevationClasses:I(()=>{const n=Je(e)?e.value:e.elevation,i=[];return n==null||i.push(`elevation-${n}`),i})}}const mte=[null,"prominent","default","comfortable","compact"],_F=te({absolute:Boolean,collapse:Boolean,color:String,density:{type:String,default:"default",validator:e=>mte.includes(e)},extended:Boolean,extensionHeight:{type:[Number,String],default:48},flat:Boolean,floating:Boolean,height:{type:[Number,String],default:64},image:String,title:String,...dr(),...$e(),...Zn(),...bn(),...ut({tag:"header"}),...Ct()},"VToolbar"),j0=fe()({name:"VToolbar",props:_F(),setup(e,t){var v;let{slots:n}=t;const{backgroundColorClasses:i,backgroundColorStyles:r}=Gt(de(e,"color")),{borderClasses:s}=Rr(e),{elevationClasses:o}=hi(e),{roundedClasses:a}=On(e),{themeClasses:l}=Ft(e),{rtlClasses:u}=Jn(),d=ke(!!(e.extended||(v=n.extension)!=null&&v.call(n))),c=I(()=>parseInt(Number(e.height)+(e.density==="prominent"?Number(e.height):0)-(e.density==="comfortable"?8:0)-(e.density==="compact"?16:0),10)),f=I(()=>d.value?parseInt(Number(e.extensionHeight)+(e.density==="prominent"?Number(e.extensionHeight):0)-(e.density==="comfortable"?4:0)-(e.density==="compact"?8:0),10):0);return yn({VBtn:{variant:"text"}}),ve(()=>{var y;const m=!!(e.title||n.title),p=!!(n.image||e.image),_=(y=n.extension)==null?void 0:y.call(n);return d.value=!!(e.extended||_),h(e.tag,{class:["v-toolbar",{"v-toolbar--absolute":e.absolute,"v-toolbar--collapse":e.collapse,"v-toolbar--flat":e.flat,"v-toolbar--floating":e.floating,[`v-toolbar--density-${e.density}`]:!0},i.value,s.value,o.value,a.value,l.value,u.value,e.class],style:[r.value,e.style]},{default:()=>[p&&h("div",{key:"image",class:"v-toolbar__image"},[n.image?h(lt,{key:"image-defaults",disabled:!e.image,defaults:{VImg:{cover:!0,src:e.image}}},n.image):h(ko,{key:"image-img",cover:!0,src:e.image},null)]),h(lt,{defaults:{VTabs:{height:Oe(c.value)}}},{default:()=>{var b,C,k;return[h("div",{class:"v-toolbar__content",style:{height:Oe(c.value)}},[n.prepend&&h("div",{class:"v-toolbar__prepend"},[(b=n.prepend)==null?void 0:b.call(n)]),m&&h(P1,{key:"title",text:e.title},{text:n.title}),(C=n.default)==null?void 0:C.call(n),n.append&&h("div",{class:"v-toolbar__append"},[(k=n.append)==null?void 0:k.call(n)])])]}}),h(lt,{defaults:{VTabs:{height:Oe(f.value)}}},{default:()=>[h(o_,null,{default:()=>[d.value&&h("div",{class:"v-toolbar__extension",style:{height:Oe(f.value)}},[_])]})]})]})}),{contentHeight:c,extensionHeight:f}}}),gte=te({scrollTarget:{type:String},scrollThreshold:{type:[String,Number],default:300}},"scroll");function pte(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{canScroll:n}=t;let i=0,r=0;const s=W(null),o=ke(0),a=ke(0),l=ke(0),u=ke(!1),d=ke(!1),c=I(()=>Number(e.scrollThreshold)),f=I(()=>Tn((c.value-o.value)/c.value||0)),v=()=>{const m=s.value;if(!m||n&&!n.value)return;i=o.value,o.value="window"in m?m.pageYOffset:m.scrollTop;const p=m instanceof Window?document.documentElement.scrollHeight:m.scrollHeight;if(r!==p){r=p;return}d.value=o.value<i,l.value=Math.abs(o.value-c.value)};return ge(d,()=>{a.value=a.value||o.value}),ge(u,()=>{a.value=0}),bt(()=>{ge(()=>e.scrollTarget,m=>{var _;const p=m?document.querySelector(m):window;p&&p!==s.value&&((_=s.value)==null||_.removeEventListener("scroll",v),s.value=p,s.value.addEventListener("scroll",v,{passive:!0}))},{immediate:!0})}),di(()=>{var m;(m=s.value)==null||m.removeEventListener("scroll",v)}),n&&ge(n,v,{immediate:!0}),{scrollThreshold:c,currentScroll:o,currentThreshold:l,isScrollActive:u,scrollRatio:f,isScrollingUp:d,savedScroll:a}}function eu(){const e=ke(!1);return bt(()=>{window.requestAnimationFrame(()=>{e.value=!0})}),{ssrBootStyles:I(()=>e.value?void 0:{transition:"none !important"}),isBooted:xc(e)}}const _te=te({scrollBehavior:String,modelValue:{type:Boolean,default:!0},location:{type:String,default:"top",validator:e=>["top","bottom"].includes(e)},..._F(),...Jl(),...gte(),height:{type:[Number,String],default:64}},"VAppBar"),yte=fe()({name:"VAppBar",props:_te(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const i=W(),r=je(e,"modelValue"),s=I(()=>{var C;const b=new Set(((C=e.scrollBehavior)==null?void 0:C.split(" "))??[]);return{hide:b.has("hide"),fullyHide:b.has("fully-hide"),inverted:b.has("inverted"),collapse:b.has("collapse"),elevate:b.has("elevate"),fadeImage:b.has("fade-image")}}),o=I(()=>{const b=s.value;return b.hide||b.fullyHide||b.inverted||b.collapse||b.elevate||b.fadeImage||!r.value}),{currentScroll:a,scrollThreshold:l,isScrollingUp:u,scrollRatio:d}=pte(e,{canScroll:o}),c=I(()=>s.value.hide||s.value.fullyHide),f=I(()=>e.collapse||s.value.collapse&&(s.value.inverted?d.value>0:d.value===0)),v=I(()=>e.flat||s.value.fullyHide&&!r.value||s.value.elevate&&(s.value.inverted?a.value>0:a.value===0)),m=I(()=>s.value.fadeImage?s.value.inverted?1-d.value:d.value:void 0),p=I(()=>{var k,R;if(s.value.hide&&s.value.inverted)return 0;const b=((k=i.value)==null?void 0:k.contentHeight)??0,C=((R=i.value)==null?void 0:R.extensionHeight)??0;return c.value?a.value<l.value||s.value.fullyHide?b+C:b:b+C});Ji(I(()=>!!e.scrollBehavior),()=>{rn(()=>{c.value?s.value.inverted?r.value=a.value>l.value:r.value=u.value||a.value<l.value:r.value=!0})});const{ssrBootStyles:_}=eu(),{layoutItemStyles:y}=Zl({id:e.name,order:I(()=>parseInt(e.order,10)),position:de(e,"location"),layoutSize:p,elementSize:ke(void 0),active:r,absolute:de(e,"absolute")});return ve(()=>{const b=j0.filterProps(e);return h(j0,Z({ref:i,class:["v-app-bar",{"v-app-bar--bottom":e.location==="bottom"},e.class],style:[{...y.value,"--v-toolbar-image-opacity":m.value,height:void 0,..._.value},e.style]},b,{collapse:f.value,flat:v.value}),n)}),{}}}),bte=[null,"default","comfortable","compact"],ri=te({density:{type:String,default:"default",validator:e=>bte.includes(e)}},"density");function Hi(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Hs();return{densityClasses:I(()=>`${t}--density-${e.density}`)}}const wte=["elevated","flat","tonal","outlined","text","plain"];function Ma(e,t){return h(Te,null,[e&&h("span",{key:"overlay",class:`${t}__overlay`},null),h("span",{key:"underlay",class:`${t}__underlay`},null)])}const Hr=te({color:String,variant:{type:String,default:"elevated",validator:e=>wte.includes(e)}},"variant");function tu(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Hs();const n=I(()=>{const{variant:s}=oe(e);return`${t}--variant-${s}`}),{colorClasses:i,colorStyles:r}=O1(I(()=>{const{variant:s,color:o}=oe(e);return{[["elevated","flat"].includes(s)?"background":"text"]:o}}));return{colorClasses:i,colorStyles:r,variantClasses:n}}const yF=te({baseColor:String,divided:Boolean,...dr(),...$e(),...ri(),...Zn(),...bn(),...ut(),...Ct(),...Hr()},"VBtnGroup"),H0=fe()({name:"VBtnGroup",props:yF(),setup(e,t){let{slots:n}=t;const{themeClasses:i}=Ft(e),{densityClasses:r}=Hi(e),{borderClasses:s}=Rr(e),{elevationClasses:o}=hi(e),{roundedClasses:a}=On(e);yn({VBtn:{height:"auto",baseColor:de(e,"baseColor"),color:de(e,"color"),density:de(e,"density"),flat:!0,variant:de(e,"variant")}}),ve(()=>h(e.tag,{class:["v-btn-group",{"v-btn-group--divided":e.divided},i.value,s.value,r.value,o.value,a.value,e.class],style:e.style},n))}}),nu=te({modelValue:{type:null,default:void 0},multiple:Boolean,mandatory:[Boolean,String],max:Number,selectedClass:String,disabled:Boolean},"group"),iu=te({value:null,disabled:Boolean,selectedClass:String},"group-item");function ru(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;const i=Rn("useGroupItem");if(!i)throw new Error("[Vuetify] useGroupItem composable must be used inside a component setup function");const r=fi();Ut(Symbol.for(`${t.description}:id`),r);const s=ot(t,null);if(!s){if(!n)return s;throw new Error(`[Vuetify] Could not find useGroup injection with symbol ${t.description}`)}const o=de(e,"value"),a=I(()=>!!(s.disabled.value||e.disabled));s.register({id:r,value:o,disabled:a},i),di(()=>{s.unregister(r)});const l=I(()=>s.isSelected(r)),u=I(()=>s.items.value[0].id===r),d=I(()=>s.items.value[s.items.value.length-1].id===r),c=I(()=>l.value&&[s.selectedClass.value,e.selectedClass]);return ge(l,f=>{i.emit("group:selected",{value:f})},{flush:"sync"}),{id:r,isSelected:l,isFirst:u,isLast:d,toggle:()=>s.select(r,!l.value),select:f=>s.select(r,f),selectedClass:c,value:o,disabled:a,group:s}}function La(e,t){let n=!1;const i=cn([]),r=je(e,"modelValue",[],f=>f==null?[]:bF(i,mn(f)),f=>{const v=Ete(i,f);return e.multiple?v:v[0]}),s=Rn("useGroup");function o(f,v){const m=f,p=Symbol.for(`${t.description}:id`),y=Nu(p,s==null?void 0:s.vnode).indexOf(v);oe(m.value)==null&&(m.value=y,m.useIndexAsValue=!0),y>-1?i.splice(y,0,m):i.push(m)}function a(f){if(n)return;l();const v=i.findIndex(m=>m.id===f);i.splice(v,1)}function l(){const f=i.find(v=>!v.disabled);f&&e.mandatory==="force"&&!r.value.length&&(r.value=[f.id])}bt(()=>{l()}),di(()=>{n=!0}),PS(()=>{for(let f=0;f<i.length;f++)i[f].useIndexAsValue&&(i[f].value=f)});function u(f,v){const m=i.find(p=>p.id===f);if(!(v&&(m!=null&&m.disabled)))if(e.multiple){const p=r.value.slice(),_=p.findIndex(b=>b===f),y=~_;if(v=v??!y,y&&e.mandatory&&p.length<=1||!y&&e.max!=null&&p.length+1>e.max)return;_<0&&v?p.push(f):_>=0&&!v&&p.splice(_,1),r.value=p}else{const p=r.value.includes(f);if(e.mandatory&&p)return;r.value=v??!p?[f]:[]}}function d(f){if(e.multiple,r.value.length){const v=r.value[0],m=i.findIndex(y=>y.id===v);let p=(m+f)%i.length,_=i[p];for(;_.disabled&&p!==m;)p=(p+f)%i.length,_=i[p];if(_.disabled)return;r.value=[i[p].id]}else{const v=i.find(m=>!m.disabled);v&&(r.value=[v.id])}}const c={register:o,unregister:a,selected:r,select:u,disabled:de(e,"disabled"),prev:()=>d(i.length-1),next:()=>d(1),isSelected:f=>r.value.includes(f),selectedClass:I(()=>e.selectedClass),items:I(()=>i),getItemIndex:f=>Ste(i,f)};return Ut(t,c),c}function Ste(e,t){const n=bF(e,[t]);return n.length?e.findIndex(i=>i.id===n[0]):-1}function bF(e,t){const n=[];return t.forEach(i=>{const r=e.find(o=>js(i,o.value)),s=e[i];(r==null?void 0:r.value)!=null?n.push(r.id):s!=null&&n.push(s.id)}),n}function Ete(e,t){const n=[];return t.forEach(i=>{const r=e.findIndex(s=>s.id===i);if(~r){const s=e[r];n.push(s.value!=null?s.value:r)}}),n}const V1=Symbol.for("vuetify:v-btn-toggle"),Cte=te({...yF(),...nu()},"VBtnToggle"),kte=fe()({name:"VBtnToggle",props:Cte(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const{isSelected:i,next:r,prev:s,select:o,selected:a}=La(e,V1);return ve(()=>{const l=H0.filterProps(e);return h(H0,Z({class:["v-btn-toggle",e.class]},l,{style:e.style}),{default:()=>{var u;return[(u=n.default)==null?void 0:u.call(n,{isSelected:i,next:r,prev:s,select:o,selected:a})]}})}),{next:r,prev:s,select:o}}}),Tte=["x-small","small","default","large","x-large"],zs=te({size:{type:[String,Number],default:"default"}},"size");function Hc(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Hs();return g1(()=>{let n,i;return dg(Tte,e.size)?n=`${t}--size-${e.size}`:e.size&&(i={width:Oe(e.size),height:Oe(e.size)}),{sizeClasses:n,sizeStyles:i}})}const Ite=te({color:String,disabled:Boolean,start:Boolean,end:Boolean,icon:Ze,...$e(),...zs(),...ut({tag:"i"}),...Ct()},"VIcon"),Dt=fe()({name:"VIcon",props:Ite(),setup(e,t){let{attrs:n,slots:i}=t;const r=W(),{themeClasses:s}=Ft(e),{iconData:o}=Aee(I(()=>r.value||e.icon)),{sizeClasses:a}=Hc(e),{textColorClasses:l,textColorStyles:u}=ci(de(e,"color"));return ve(()=>{var f,v;const d=(f=i.default)==null?void 0:f.call(i);d&&(r.value=(v=xL(d).filter(m=>m.type===fh&&m.children&&typeof m.children=="string")[0])==null?void 0:v.children);const c=!!(n.onClick||n.onClickOnce);return h(o.value.component,{tag:e.tag,icon:o.value.icon,class:["v-icon","notranslate",s.value,a.value,l.value,{"v-icon--clickable":c,"v-icon--disabled":e.disabled,"v-icon--start":e.start,"v-icon--end":e.end},e.class],style:[a.value?void 0:{fontSize:Oe(e.size),height:Oe(e.size),width:Oe(e.size)},u.value,e.style],role:c?"button":void 0,"aria-hidden":!c,tabindex:c?e.disabled?-1:0:void 0},{default:()=>[d]})}),{}}});function a_(e,t){const n=W(),i=ke(!1);if(f1){const r=new IntersectionObserver(s=>{i.value=!!s.find(o=>o.isIntersecting)},t);di(()=>{r.disconnect()}),ge(n,(s,o)=>{o&&(r.unobserve(o),i.value=!1),s&&r.observe(s)},{flush:"post"})}return{intersectionRef:n,isIntersecting:i}}const Ate=te({bgColor:String,color:String,indeterminate:[Boolean,String],modelValue:{type:[Number,String],default:0},rotate:{type:[Number,String],default:0},width:{type:[Number,String],default:4},...$e(),...zs(),...ut({tag:"div"}),...Ct()},"VProgressCircular"),ya=fe()({name:"VProgressCircular",props:Ate(),setup(e,t){let{slots:n}=t;const i=20,r=2*Math.PI*i,s=W(),{themeClasses:o}=Ft(e),{sizeClasses:a,sizeStyles:l}=Hc(e),{textColorClasses:u,textColorStyles:d}=ci(de(e,"color")),{textColorClasses:c,textColorStyles:f}=ci(de(e,"bgColor")),{intersectionRef:v,isIntersecting:m}=a_(),{resizeRef:p,contentRect:_}=us(),y=I(()=>Math.max(0,Math.min(100,parseFloat(e.modelValue)))),b=I(()=>Number(e.width)),C=I(()=>l.value?Number(e.size):_.value?_.value.width:Math.max(b.value,32)),k=I(()=>i/(1-b.value/C.value)*2),R=I(()=>b.value/C.value*k.value),O=I(()=>Oe((100-y.value)/100*r));return rn(()=>{v.value=s.value,p.value=s.value}),ve(()=>h(e.tag,{ref:s,class:["v-progress-circular",{"v-progress-circular--indeterminate":!!e.indeterminate,"v-progress-circular--visible":m.value,"v-progress-circular--disable-shrink":e.indeterminate==="disable-shrink"},o.value,a.value,u.value,e.class],style:[l.value,d.value,e.style],role:"progressbar","aria-valuemin":"0","aria-valuemax":"100","aria-valuenow":e.indeterminate?void 0:y.value},{default:()=>[h("svg",{style:{transform:`rotate(calc(-90deg + ${Number(e.rotate)}deg))`},xmlns:"http://www.w3.org/2000/svg",viewBox:`0 0 ${k.value} ${k.value}`},[h("circle",{class:["v-progress-circular__underlay",c.value],style:f.value,fill:"transparent",cx:"50%",cy:"50%",r:i,"stroke-width":R.value,"stroke-dasharray":r,"stroke-dashoffset":0},null),h("circle",{class:"v-progress-circular__overlay",fill:"transparent",cx:"50%",cy:"50%",r:i,"stroke-width":R.value,"stroke-dasharray":r,"stroke-dashoffset":O.value},null)]),n.default&&h("div",{class:"v-progress-circular__content"},[n.default({value:y.value})])]})),{}}}),LP={center:"center",top:"bottom",bottom:"top",left:"right",right:"left"},Oo=te({location:String},"location");function su(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=arguments.length>2?arguments[2]:void 0;const{isRtl:i}=Jn();return{locationStyles:I(()=>{if(!e.location)return{};const{side:s,align:o}=O0(e.location.split(" ").length>1?e.location:`${e.location} center`,i.value);function a(u){return n?n(u):0}const l={};return s!=="center"&&(t?l[LP[s]]=`calc(100% - ${a(s)}px)`:l[s]=0),o!=="center"?t?l[LP[o]]=`calc(100% - ${a(o)}px)`:l[o]=0:(s==="center"?l.top=l.left="50%":l[{top:"left",bottom:"left",left:"top",right:"top"}[s]]="50%",l.transform={top:"translateX(-50%)",bottom:"translateX(-50%)",left:"translateY(-50%)",right:"translateY(-50%)",center:"translate(-50%, -50%)"}[s]),l})}}const Pte=te({absolute:Boolean,active:{type:Boolean,default:!0},bgColor:String,bgOpacity:[Number,String],bufferValue:{type:[Number,String],default:0},bufferColor:String,bufferOpacity:[Number,String],clickable:Boolean,color:String,height:{type:[Number,String],default:4},indeterminate:Boolean,max:{type:[Number,String],default:100},modelValue:{type:[Number,String],default:0},opacity:[Number,String],reverse:Boolean,stream:Boolean,striped:Boolean,roundedBar:Boolean,...$e(),...Oo({location:"top"}),...bn(),...ut(),...Ct()},"VProgressLinear"),l_=fe()({name:"VProgressLinear",props:Pte(),emits:{"update:modelValue":e=>!0},setup(e,t){var A;let{slots:n}=t;const i=je(e,"modelValue"),{isRtl:r,rtlClasses:s}=Jn(),{themeClasses:o}=Ft(e),{locationStyles:a}=su(e),{textColorClasses:l,textColorStyles:u}=ci(e,"color"),{backgroundColorClasses:d,backgroundColorStyles:c}=Gt(I(()=>e.bgColor||e.color)),{backgroundColorClasses:f,backgroundColorStyles:v}=Gt(I(()=>e.bufferColor||e.bgColor||e.color)),{backgroundColorClasses:m,backgroundColorStyles:p}=Gt(e,"color"),{roundedClasses:_}=On(e),{intersectionRef:y,isIntersecting:b}=a_(),C=I(()=>parseFloat(e.max)),k=I(()=>parseFloat(e.height)),R=I(()=>Tn(parseFloat(e.bufferValue)/C.value*100,0,100)),O=I(()=>Tn(parseFloat(i.value)/C.value*100,0,100)),x=I(()=>r.value!==e.reverse),S=I(()=>e.indeterminate?"fade-transition":"slide-x-transition"),w=Bt&&((A=window.matchMedia)==null?void 0:A.call(window,"(forced-colors: active)").matches);function E(P){if(!y.value)return;const{left:D,right:B,width:$}=y.value.getBoundingClientRect(),j=x.value?$-P.clientX+(B-$):P.clientX-D;i.value=Math.round(j/$*C.value)}return ve(()=>h(e.tag,{ref:y,class:["v-progress-linear",{"v-progress-linear--absolute":e.absolute,"v-progress-linear--active":e.active&&b.value,"v-progress-linear--reverse":x.value,"v-progress-linear--rounded":e.rounded,"v-progress-linear--rounded-bar":e.roundedBar,"v-progress-linear--striped":e.striped},_.value,o.value,s.value,e.class],style:[{bottom:e.location==="bottom"?0:void 0,top:e.location==="top"?0:void 0,height:e.active?Oe(k.value):0,"--v-progress-linear-height":Oe(k.value),...e.absolute?a.value:{}},e.style],role:"progressbar","aria-hidden":e.active?"false":"true","aria-valuemin":"0","aria-valuemax":e.max,"aria-valuenow":e.indeterminate?void 0:O.value,onClick:e.clickable&&E},{default:()=>[e.stream&&h("div",{key:"stream",class:["v-progress-linear__stream",l.value],style:{...u.value,[x.value?"left":"right"]:Oe(-k.value),borderTop:`${Oe(k.value/2)} dotted`,opacity:parseFloat(e.bufferOpacity),top:`calc(50% - ${Oe(k.value/4)})`,width:Oe(100-R.value,"%"),"--v-progress-linear-stream-to":Oe(k.value*(x.value?1:-1))}},null),h("div",{class:["v-progress-linear__background",w?void 0:d.value],style:[c.value,{opacity:parseFloat(e.bgOpacity),width:e.stream?0:void 0}]},null),h("div",{class:["v-progress-linear__buffer",w?void 0:f.value],style:[v.value,{opacity:parseFloat(e.bufferOpacity),width:Oe(R.value,"%")}]},null),h(va,{name:S.value},{default:()=>[e.indeterminate?h("div",{class:"v-progress-linear__indeterminate"},[["long","short"].map(P=>h("div",{key:P,class:["v-progress-linear__indeterminate",P,w?void 0:m.value],style:p.value},null))]):h("div",{class:["v-progress-linear__determinate",w?void 0:m.value],style:[p.value,{width:Oe(O.value,"%")}]},null)]}),n.default&&h("div",{class:"v-progress-linear__content"},[n.default({value:O.value,buffer:R.value})])]})),{}}}),u_=te({loading:[Boolean,String]},"loader");function Mh(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Hs();return{loaderClasses:I(()=>({[`${t}--loading`]:e.loading}))}}function Lh(e,t){var i;let{slots:n}=t;return h("div",{class:`${e.name}__loader`},[((i=n.default)==null?void 0:i.call(n,{color:e.color,isActive:e.active}))||h(l_,{absolute:e.absolute,active:e.active,color:e.color,height:"2",indeterminate:!0},null)])}const xte=["static","relative","fixed","absolute","sticky"],Wc=te({position:{type:String,validator:e=>xte.includes(e)}},"position");function zc(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Hs();return{positionClasses:I(()=>e.position?`${t}--${e.position}`:void 0)}}function Dte(){const e=Rn("useRoute");return I(()=>{var t;return(t=e==null?void 0:e.proxy)==null?void 0:t.$route})}function wF(){var e,t;return(t=(e=Rn("useRouter"))==null?void 0:e.proxy)==null?void 0:t.$router}function Gc(e,t){var c,f;const n=DO("RouterLink"),i=I(()=>!!(e.href||e.to)),r=I(()=>(i==null?void 0:i.value)||oP(t,"click")||oP(e,"click"));if(typeof n=="string"||!("useLink"in n)){const v=de(e,"href");return{isLink:i,isClickable:r,href:v,linkProps:cn({href:v})}}const s=I(()=>({...e,to:de(()=>e.to||"")})),o=n.useLink(s.value),a=I(()=>e.to?o:void 0),l=Dte(),u=I(()=>{var v,m,p;return a.value?e.exact?l.value?((p=a.value.isExactActive)==null?void 0:p.value)&&js(a.value.route.value.query,l.value.query):((m=a.value.isExactActive)==null?void 0:m.value)??!1:((v=a.value.isActive)==null?void 0:v.value)??!1:!1}),d=I(()=>{var v;return e.to?(v=a.value)==null?void 0:v.route.value.href:e.href});return{isLink:i,isClickable:r,isActive:u,route:(c=a.value)==null?void 0:c.route,navigate:(f=a.value)==null?void 0:f.navigate,href:d,linkProps:cn({href:d,"aria-current":I(()=>u.value?"page":void 0)})}}const Fh=te({href:String,replace:Boolean,to:[String,Object],exact:Boolean},"router");let Xy=!1;function Rte(e,t){let n=!1,i,r;Bt&&(at(()=>{window.addEventListener("popstate",s),i=e==null?void 0:e.beforeEach((o,a,l)=>{Xy?n?t(l):l():setTimeout(()=>n?t(l):l()),Xy=!0}),r=e==null?void 0:e.afterEach(()=>{Xy=!1})}),ki(()=>{window.removeEventListener("popstate",s),i==null||i(),r==null||r()}));function s(o){var a;(a=o.state)!=null&&a.replaced||(n=!0,setTimeout(()=>n=!1))}}function Ote(e,t){ge(()=>{var n;return(n=e.isActive)==null?void 0:n.value},n=>{e.isLink.value&&n&&t&&at(()=>{t(!0)})},{immediate:!0})}const W0=Symbol("rippleStop"),Vte=80;function FP(e,t){e.style.transform=t,e.style.webkitTransform=t}function z0(e){return e.constructor.name==="TouchEvent"}function SF(e){return e.constructor.name==="KeyboardEvent"}const Nte=function(e,t){var c;let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=0,r=0;if(!SF(e)){const f=t.getBoundingClientRect(),v=z0(e)?e.touches[e.touches.length-1]:e;i=v.clientX-f.left,r=v.clientY-f.top}let s=0,o=.3;(c=t._ripple)!=null&&c.circle?(o=.15,s=t.clientWidth/2,s=n.center?s:s+Math.sqrt((i-s)**2+(r-s)**2)/4):s=Math.sqrt(t.clientWidth**2+t.clientHeight**2)/2;const a=`${(t.clientWidth-s*2)/2}px`,l=`${(t.clientHeight-s*2)/2}px`,u=n.center?a:`${i-s}px`,d=n.center?l:`${r-s}px`;return{radius:s,scale:o,x:u,y:d,centerX:a,centerY:l}},gg={show(e,t){var v;let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!((v=t==null?void 0:t._ripple)!=null&&v.enabled))return;const i=document.createElement("span"),r=document.createElement("span");i.appendChild(r),i.className="v-ripple__container",n.class&&(i.className+=` ${n.class}`);const{radius:s,scale:o,x:a,y:l,centerX:u,centerY:d}=Nte(e,t,n),c=`${s*2}px`;r.className="v-ripple__animation",r.style.width=c,r.style.height=c,t.appendChild(i);const f=window.getComputedStyle(t);f&&f.position==="static"&&(t.style.position="relative",t.dataset.previousPosition="static"),r.classList.add("v-ripple__animation--enter"),r.classList.add("v-ripple__animation--visible"),FP(r,`translate(${a}, ${l}) scale3d(${o},${o},${o})`),r.dataset.activated=String(performance.now()),setTimeout(()=>{r.classList.remove("v-ripple__animation--enter"),r.classList.add("v-ripple__animation--in"),FP(r,`translate(${u}, ${d}) scale3d(1,1,1)`)},0)},hide(e){var s;if(!((s=e==null?void 0:e._ripple)!=null&&s.enabled))return;const t=e.getElementsByClassName("v-ripple__animation");if(t.length===0)return;const n=t[t.length-1];if(n.dataset.isHiding)return;n.dataset.isHiding="true";const i=performance.now()-Number(n.dataset.activated),r=Math.max(250-i,0);setTimeout(()=>{n.classList.remove("v-ripple__animation--in"),n.classList.add("v-ripple__animation--out"),setTimeout(()=>{var a;e.getElementsByClassName("v-ripple__animation").length===1&&e.dataset.previousPosition&&(e.style.position=e.dataset.previousPosition,delete e.dataset.previousPosition),((a=n.parentNode)==null?void 0:a.parentNode)===e&&e.removeChild(n.parentNode)},300)},r)}};function EF(e){return typeof e>"u"||!!e}function Uf(e){const t={},n=e.currentTarget;if(!(!(n!=null&&n._ripple)||n._ripple.touched||e[W0])){if(e[W0]=!0,z0(e))n._ripple.touched=!0,n._ripple.isTouch=!0;else if(n._ripple.isTouch)return;if(t.center=n._ripple.centered||SF(e),n._ripple.class&&(t.class=n._ripple.class),z0(e)){if(n._ripple.showTimerCommit)return;n._ripple.showTimerCommit=()=>{gg.show(e,n,t)},n._ripple.showTimer=window.setTimeout(()=>{var i;(i=n==null?void 0:n._ripple)!=null&&i.showTimerCommit&&(n._ripple.showTimerCommit(),n._ripple.showTimerCommit=null)},Vte)}else gg.show(e,n,t)}}function $P(e){e[W0]=!0}function _r(e){const t=e.currentTarget;if(t!=null&&t._ripple){if(window.clearTimeout(t._ripple.showTimer),e.type==="touchend"&&t._ripple.showTimerCommit){t._ripple.showTimerCommit(),t._ripple.showTimerCommit=null,t._ripple.showTimer=window.setTimeout(()=>{_r(e)});return}window.setTimeout(()=>{t._ripple&&(t._ripple.touched=!1)}),gg.hide(t)}}function CF(e){const t=e.currentTarget;t!=null&&t._ripple&&(t._ripple.showTimerCommit&&(t._ripple.showTimerCommit=null),window.clearTimeout(t._ripple.showTimer))}let jf=!1;function kF(e){!jf&&(e.keyCode===nP.enter||e.keyCode===nP.space)&&(jf=!0,Uf(e))}function TF(e){jf=!1,_r(e)}function IF(e){jf&&(jf=!1,_r(e))}function AF(e,t,n){const{value:i,modifiers:r}=t,s=EF(i);if(s||gg.hide(e),e._ripple=e._ripple??{},e._ripple.enabled=s,e._ripple.centered=r.center,e._ripple.circle=r.circle,h1(i)&&i.class&&(e._ripple.class=i.class),s&&!n){if(r.stop){e.addEventListener("touchstart",$P,{passive:!0}),e.addEventListener("mousedown",$P);return}e.addEventListener("touchstart",Uf,{passive:!0}),e.addEventListener("touchend",_r,{passive:!0}),e.addEventListener("touchmove",CF,{passive:!0}),e.addEventListener("touchcancel",_r),e.addEventListener("mousedown",Uf),e.addEventListener("mouseup",_r),e.addEventListener("mouseleave",_r),e.addEventListener("keydown",kF),e.addEventListener("keyup",TF),e.addEventListener("blur",IF),e.addEventListener("dragstart",_r,{passive:!0})}else!s&&n&&PF(e)}function PF(e){e.removeEventListener("mousedown",Uf),e.removeEventListener("touchstart",Uf),e.removeEventListener("touchend",_r),e.removeEventListener("touchmove",CF),e.removeEventListener("touchcancel",_r),e.removeEventListener("mouseup",_r),e.removeEventListener("mouseleave",_r),e.removeEventListener("keydown",kF),e.removeEventListener("keyup",TF),e.removeEventListener("dragstart",_r),e.removeEventListener("blur",IF)}function Mte(e,t){AF(e,t,!1)}function Lte(e){delete e._ripple,PF(e)}function Fte(e,t){if(t.value===t.oldValue)return;const n=EF(t.oldValue);AF(e,t,n)}const Vo={mounted:Mte,unmounted:Lte,updated:Fte},c_=te({active:{type:Boolean,default:void 0},activeColor:String,baseColor:String,symbol:{type:null,default:V1},flat:Boolean,icon:[Boolean,String,Function,Object],prependIcon:Ze,appendIcon:Ze,block:Boolean,readonly:Boolean,slim:Boolean,stacked:Boolean,ripple:{type:[Boolean,Object],default:!0},text:String,...dr(),...$e(),...ri(),...qn(),...Zn(),...iu(),...u_(),...Oo(),...Wc(),...bn(),...Fh(),...zs(),...ut({tag:"button"}),...Ct(),...Hr({variant:"elevated"})},"VBtn"),dt=fe()({name:"VBtn",props:c_(),emits:{"group:selected":e=>!0},setup(e,t){let{attrs:n,slots:i}=t;const{themeClasses:r}=Ft(e),{borderClasses:s}=Rr(e),{densityClasses:o}=Hi(e),{dimensionStyles:a}=Yn(e),{elevationClasses:l}=hi(e),{loaderClasses:u}=Mh(e),{locationStyles:d}=su(e),{positionClasses:c}=zc(e),{roundedClasses:f}=On(e),{sizeClasses:v,sizeStyles:m}=Hc(e),p=ru(e,e.symbol,!1),_=Gc(e,n),y=I(()=>{var A;return e.active!==void 0?e.active:_.isLink.value?(A=_.isActive)==null?void 0:A.value:p==null?void 0:p.isSelected.value}),b=I(()=>y.value?e.activeColor??e.color:e.color),C=I(()=>{var P,D;return{color:(p==null?void 0:p.isSelected.value)&&(!_.isLink.value||((P=_.isActive)==null?void 0:P.value))||!p||((D=_.isActive)==null?void 0:D.value)?b.value??e.baseColor:e.baseColor,variant:e.variant}}),{colorClasses:k,colorStyles:R,variantClasses:O}=tu(C),x=I(()=>(p==null?void 0:p.disabled.value)||e.disabled),S=I(()=>e.variant==="elevated"&&!(e.disabled||e.flat||e.border)),w=I(()=>{if(!(e.value===void 0||typeof e.value=="symbol"))return Object(e.value)===e.value?JSON.stringify(e.value,null,0):e.value});function E(A){var P;x.value||_.isLink.value&&(A.metaKey||A.ctrlKey||A.shiftKey||A.button!==0||n.target==="_blank")||((P=_.navigate)==null||P.call(_,A),p==null||p.toggle())}return Ote(_,p==null?void 0:p.select),ve(()=>{const A=_.isLink.value?"a":e.tag,P=!!(e.prependIcon||i.prepend),D=!!(e.appendIcon||i.append),B=!!(e.icon&&e.icon!==!0);return _n(h(A,Z({type:A==="a"?void 0:"button",class:["v-btn",p==null?void 0:p.selectedClass.value,{"v-btn--active":y.value,"v-btn--block":e.block,"v-btn--disabled":x.value,"v-btn--elevated":S.value,"v-btn--flat":e.flat,"v-btn--icon":!!e.icon,"v-btn--loading":e.loading,"v-btn--readonly":e.readonly,"v-btn--slim":e.slim,"v-btn--stacked":e.stacked},r.value,s.value,k.value,o.value,l.value,u.value,c.value,f.value,v.value,O.value,e.class],style:[R.value,a.value,d.value,m.value,e.style],"aria-busy":e.loading?!0:void 0,disabled:x.value||void 0,tabindex:e.loading||e.readonly?-1:void 0,onClick:E,value:w.value},_.linkProps),{default:()=>{var $;return[Ma(!0,"v-btn"),!e.icon&&P&&h("span",{key:"prepend",class:"v-btn__prepend"},[i.prepend?h(lt,{key:"prepend-defaults",disabled:!e.prependIcon,defaults:{VIcon:{icon:e.prependIcon}}},i.prepend):h(Dt,{key:"prepend-icon",icon:e.prependIcon},null)]),h("span",{class:"v-btn__content","data-no-activator":""},[!i.default&&B?h(Dt,{key:"content-icon",icon:e.icon},null):h(lt,{key:"content-defaults",disabled:!B,defaults:{VIcon:{icon:e.icon}}},{default:()=>{var j;return[((j=i.default)==null?void 0:j.call(i))??e.text]}})]),!e.icon&&D&&h("span",{key:"append",class:"v-btn__append"},[i.append?h(lt,{key:"append-defaults",disabled:!e.appendIcon,defaults:{VIcon:{icon:e.appendIcon}}},i.append):h(Dt,{key:"append-icon",icon:e.appendIcon},null)]),!!e.loading&&h("span",{key:"loader",class:"v-btn__loader"},[(($=i.loader)==null?void 0:$.call(i))??h(ya,{color:typeof e.loading=="boolean"?void 0:e.loading,indeterminate:!0,width:"2"},null)])]}}),[[Vo,!x.value&&e.ripple,"",{center:!!e.icon}]])}),{group:p}}}),$te=te({...c_({icon:"$menu",variant:"text"})},"VAppBarNavIcon"),Bte=fe()({name:"VAppBarNavIcon",props:$te(),setup(e,t){let{slots:n}=t;return ve(()=>h(dt,Z(e,{class:["v-app-bar-nav-icon"]}),n)),{}}}),Ute=fe()({name:"VAppBarTitle",props:fF(),setup(e,t){let{slots:n}=t;return ve(()=>h(P1,Z(e,{class:"v-app-bar-title"}),n)),{}}}),xF=Ws("v-alert-title"),jte=["success","info","warning","error"],Hte=te({border:{type:[Boolean,String],validator:e=>typeof e=="boolean"||["top","end","bottom","start"].includes(e)},borderColor:String,closable:Boolean,closeIcon:{type:Ze,default:"$close"},closeLabel:{type:String,default:"$vuetify.close"},icon:{type:[Boolean,String,Function,Object],default:null},modelValue:{type:Boolean,default:!0},prominent:Boolean,title:String,text:String,type:{type:String,validator:e=>jte.includes(e)},...$e(),...ri(),...qn(),...Zn(),...Oo(),...Wc(),...bn(),...ut(),...Ct(),...Hr({variant:"flat"})},"VAlert"),Wte=fe()({name:"VAlert",props:Hte(),emits:{"click:close":e=>!0,"update:modelValue":e=>!0},setup(e,t){let{emit:n,slots:i}=t;const r=je(e,"modelValue"),s=I(()=>{if(e.icon!==!1)return e.type?e.icon??`$${e.type}`:e.icon}),o=I(()=>({color:e.color??e.type,variant:e.variant})),{themeClasses:a}=Ft(e),{colorClasses:l,colorStyles:u,variantClasses:d}=tu(o),{densityClasses:c}=Hi(e),{dimensionStyles:f}=Yn(e),{elevationClasses:v}=hi(e),{locationStyles:m}=su(e),{positionClasses:p}=zc(e),{roundedClasses:_}=On(e),{textColorClasses:y,textColorStyles:b}=ci(de(e,"borderColor")),{t:C}=sn(),k=I(()=>({"aria-label":C(e.closeLabel),onClick(R){r.value=!1,n("click:close",R)}}));return()=>{const R=!!(i.prepend||s.value),O=!!(i.title||e.title),x=!!(i.close||e.closable);return r.value&&h(e.tag,{class:["v-alert",e.border&&{"v-alert--border":!!e.border,[`v-alert--border-${e.border===!0?"start":e.border}`]:!0},{"v-alert--prominent":e.prominent},a.value,l.value,c.value,v.value,p.value,_.value,d.value,e.class],style:[u.value,f.value,m.value,e.style],role:"alert"},{default:()=>{var S,w;return[Ma(!1,"v-alert"),e.border&&h("div",{key:"border",class:["v-alert__border",y.value],style:b.value},null),R&&h("div",{key:"prepend",class:"v-alert__prepend"},[i.prepend?h(lt,{key:"prepend-defaults",disabled:!s.value,defaults:{VIcon:{density:e.density,icon:s.value,size:e.prominent?44:28}}},i.prepend):h(Dt,{key:"prepend-icon",density:e.density,icon:s.value,size:e.prominent?44:28},null)]),h("div",{class:"v-alert__content"},[O&&h(xF,{key:"title"},{default:()=>{var E;return[((E=i.title)==null?void 0:E.call(i))??e.title]}}),((S=i.text)==null?void 0:S.call(i))??e.text,(w=i.default)==null?void 0:w.call(i)]),i.append&&h("div",{key:"append",class:"v-alert__append"},[i.append()]),x&&h("div",{key:"close",class:"v-alert__close"},[i.close?h(lt,{key:"close-defaults",defaults:{VBtn:{icon:e.closeIcon,size:"x-small",variant:"text"}}},{default:()=>{var E;return[(E=i.close)==null?void 0:E.call(i,{props:k.value})]}}):h(dt,Z({key:"close-btn",icon:e.closeIcon,size:"x-small",variant:"text"},k.value),null)])]}})}}}),zte=te({start:Boolean,end:Boolean,icon:Ze,image:String,text:String,...dr(),...$e(),...ri(),...bn(),...zs(),...ut(),...Ct(),...Hr({variant:"flat"})},"VAvatar"),kr=fe()({name:"VAvatar",props:zte(),setup(e,t){let{slots:n}=t;const{themeClasses:i}=Ft(e),{borderClasses:r}=Rr(e),{colorClasses:s,colorStyles:o,variantClasses:a}=tu(e),{densityClasses:l}=Hi(e),{roundedClasses:u}=On(e),{sizeClasses:d,sizeStyles:c}=Hc(e);return ve(()=>h(e.tag,{class:["v-avatar",{"v-avatar--start":e.start,"v-avatar--end":e.end},i.value,r.value,s.value,l.value,u.value,d.value,a.value,e.class],style:[o.value,c.value,e.style]},{default:()=>[n.default?h(lt,{key:"content-defaults",defaults:{VImg:{cover:!0,src:e.image},VIcon:{icon:e.icon}}},{default:()=>[n.default()]}):e.image?h(ko,{key:"image",src:e.image,alt:"",cover:!0},null):e.icon?h(Dt,{key:"icon",icon:e.icon},null):e.text,Ma(!1,"v-avatar")]})),{}}}),Gte=te({text:String,onClick:ii(),...$e(),...Ct()},"VLabel"),qc=fe()({name:"VLabel",props:Gte(),setup(e,t){let{slots:n}=t;return ve(()=>{var i;return h("label",{class:["v-label",{"v-label--clickable":!!e.onClick},e.class],style:e.style,onClick:e.onClick},[e.text,(i=n.default)==null?void 0:i.call(n)])}),{}}}),DF=Symbol.for("vuetify:selection-control-group"),N1=te({color:String,disabled:{type:Boolean,default:null},defaultsTarget:String,error:Boolean,id:String,inline:Boolean,falseIcon:Ze,trueIcon:Ze,ripple:{type:[Boolean,Object],default:!0},multiple:{type:Boolean,default:null},name:String,readonly:{type:Boolean,default:null},modelValue:null,type:String,valueComparator:{type:Function,default:js},...$e(),...ri(),...Ct()},"SelectionControlGroup"),qte=te({...N1({defaultsTarget:"VSelectionControl"})},"VSelectionControlGroup"),RF=fe()({name:"VSelectionControlGroup",props:qte(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const i=je(e,"modelValue"),r=fi(),s=I(()=>e.id||`v-selection-control-group-${r}`),o=I(()=>e.name||s.value),a=new Set;return Ut(DF,{modelValue:i,forceUpdate:()=>{a.forEach(l=>l())},onForceUpdate:l=>{a.add(l),ki(()=>{a.delete(l)})}}),yn({[e.defaultsTarget]:{color:de(e,"color"),disabled:de(e,"disabled"),density:de(e,"density"),error:de(e,"error"),inline:de(e,"inline"),modelValue:i,multiple:I(()=>!!e.multiple||e.multiple==null&&Array.isArray(i.value)),name:o,falseIcon:de(e,"falseIcon"),trueIcon:de(e,"trueIcon"),readonly:de(e,"readonly"),ripple:de(e,"ripple"),type:de(e,"type"),valueComparator:de(e,"valueComparator")}}),ve(()=>{var l;return h("div",{class:["v-selection-control-group",{"v-selection-control-group--inline":e.inline},e.class],style:e.style,role:e.type==="radio"?"radiogroup":void 0},[(l=n.default)==null?void 0:l.call(n)])}),{}}}),d_=te({label:String,baseColor:String,trueValue:null,falseValue:null,value:null,...$e(),...N1()},"VSelectionControl");function Yte(e){const t=ot(DF,void 0),{densityClasses:n}=Hi(e),i=je(e,"modelValue"),r=I(()=>e.trueValue!==void 0?e.trueValue:e.value!==void 0?e.value:!0),s=I(()=>e.falseValue!==void 0?e.falseValue:!1),o=I(()=>!!e.multiple||e.multiple==null&&Array.isArray(i.value)),a=I({get(){const v=t?t.modelValue.value:i.value;return o.value?mn(v).some(m=>e.valueComparator(m,r.value)):e.valueComparator(v,r.value)},set(v){if(e.readonly)return;const m=v?r.value:s.value;let p=m;o.value&&(p=v?[...mn(i.value),m]:mn(i.value).filter(_=>!e.valueComparator(_,r.value))),t?t.modelValue.value=p:i.value=p}}),{textColorClasses:l,textColorStyles:u}=ci(I(()=>{if(!(e.error||e.disabled))return a.value?e.color:e.baseColor})),{backgroundColorClasses:d,backgroundColorStyles:c}=Gt(I(()=>a.value&&!e.error&&!e.disabled?e.color:e.baseColor)),f=I(()=>a.value?e.trueIcon:e.falseIcon);return{group:t,densityClasses:n,trueValue:r,falseValue:s,model:a,textColorClasses:l,textColorStyles:u,backgroundColorClasses:d,backgroundColorStyles:c,icon:f}}const ba=fe()({name:"VSelectionControl",directives:{Ripple:Vo},inheritAttrs:!1,props:d_(),emits:{"update:modelValue":e=>!0},setup(e,t){let{attrs:n,slots:i}=t;const{group:r,densityClasses:s,icon:o,model:a,textColorClasses:l,textColorStyles:u,backgroundColorClasses:d,backgroundColorStyles:c,trueValue:f}=Yte(e),v=fi(),m=ke(!1),p=ke(!1),_=W(),y=I(()=>e.id||`input-${v}`),b=I(()=>!e.disabled&&!e.readonly);r==null||r.onForceUpdate(()=>{_.value&&(_.value.checked=a.value)});function C(x){b.value&&(m.value=!0,yc(x.target,":focus-visible")!==!1&&(p.value=!0))}function k(){m.value=!1,p.value=!1}function R(x){x.stopPropagation()}function O(x){if(!b.value){_.value&&(_.value.checked=a.value);return}e.readonly&&r&&at(()=>r.forceUpdate()),a.value=x.target.checked}return ve(()=>{var A,P;const x=i.label?i.label({label:e.label,props:{for:y.value}}):e.label,[S,w]=Na(n),E=h("input",Z({ref:_,checked:a.value,disabled:!!e.disabled,id:y.value,onBlur:k,onFocus:C,onInput:O,"aria-disabled":!!e.disabled,"aria-label":e.label,type:e.type,value:f.value,name:e.name,"aria-checked":e.type==="checkbox"?a.value:void 0},w),null);return h("div",Z({class:["v-selection-control",{"v-selection-control--dirty":a.value,"v-selection-control--disabled":e.disabled,"v-selection-control--error":e.error,"v-selection-control--focused":m.value,"v-selection-control--focus-visible":p.value,"v-selection-control--inline":e.inline},s.value,e.class]},S,{style:e.style}),[h("div",{class:["v-selection-control__wrapper",l.value],style:u.value},[(A=i.default)==null?void 0:A.call(i,{backgroundColorClasses:d,backgroundColorStyles:c}),_n(h("div",{class:["v-selection-control__input"]},[((P=i.input)==null?void 0:P.call(i,{model:a,textColorClasses:l,textColorStyles:u,backgroundColorClasses:d,backgroundColorStyles:c,inputNode:E,icon:o.value,props:{onFocus:C,onBlur:k,id:y.value}}))??h(Te,null,[o.value&&h(Dt,{key:"icon",icon:o.value},null),E])]),[[cr("ripple"),e.ripple&&[!e.disabled&&!e.readonly,null,["center","circle"]]]])]),x&&h(qc,{for:y.value,onClick:R},{default:()=>[x]})])}),{isFocused:m,input:_}}}),OF=te({indeterminate:Boolean,indeterminateIcon:{type:Ze,default:"$checkboxIndeterminate"},...d_({falseIcon:"$checkboxOff",trueIcon:"$checkboxOn"})},"VCheckboxBtn"),Ms=fe()({name:"VCheckboxBtn",props:OF(),emits:{"update:modelValue":e=>!0,"update:indeterminate":e=>!0},setup(e,t){let{slots:n}=t;const i=je(e,"indeterminate"),r=je(e,"modelValue");function s(l){i.value&&(i.value=!1)}const o=I(()=>i.value?e.indeterminateIcon:e.falseIcon),a=I(()=>i.value?e.indeterminateIcon:e.trueIcon);return ve(()=>{const l=zt(ba.filterProps(e),["modelValue"]);return h(ba,Z(l,{modelValue:r.value,"onUpdate:modelValue":[u=>r.value=u,s],class:["v-checkbox-btn",e.class],style:e.style,type:"checkbox",falseIcon:o.value,trueIcon:a.value,"aria-checked":i.value?"mixed":void 0}),n)}),{}}});function VF(e){const{t}=sn();function n(i){let{name:r}=i;const s={prepend:"prependAction",prependInner:"prependAction",append:"appendAction",appendInner:"appendAction",clear:"clear"}[r],o=e[`onClick:${r}`],a=o&&s?t(`$vuetify.input.${s}`,e.label??""):void 0;return h(Dt,{icon:e[`${r}Icon`],"aria-label":a,onClick:o},null)}return{InputIcon:n}}const Kte=te({active:Boolean,color:String,messages:{type:[Array,String],default:()=>[]},...$e(),...hs({transition:{component:D1,leaveAbsolute:!0,group:!0}})},"VMessages"),NF=fe()({name:"VMessages",props:Kte(),setup(e,t){let{slots:n}=t;const i=I(()=>mn(e.messages)),{textColorClasses:r,textColorStyles:s}=ci(I(()=>e.color));return ve(()=>h(Bi,{transition:e.transition,tag:"div",class:["v-messages",r.value,e.class],style:[s.value,e.style],role:"alert","aria-live":"polite"},{default:()=>[e.active&&i.value.map((o,a)=>h("div",{class:"v-messages__message",key:`${a}-${i.value}`},[n.message?n.message({message:o}):o]))]})),{}}}),Yc=te({focused:Boolean,"onUpdate:focused":ii()},"focus");function Gs(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Hs();const n=je(e,"focused"),i=I(()=>({[`${t}--focused`]:n.value}));function r(){n.value=!0}function s(){n.value=!1}return{focusClasses:i,isFocused:n,focus:r,blur:s}}const MF=Symbol.for("vuetify:form"),Xte=te({disabled:Boolean,fastFail:Boolean,readonly:Boolean,modelValue:{type:Boolean,default:null},validateOn:{type:String,default:"input"}},"form");function Qte(e){const t=je(e,"modelValue"),n=I(()=>e.disabled),i=I(()=>e.readonly),r=ke(!1),s=W([]),o=W([]);async function a(){const d=[];let c=!0;o.value=[],r.value=!0;for(const f of s.value){const v=await f.validate();if(v.length>0&&(c=!1,d.push({id:f.id,errorMessages:v})),!c&&e.fastFail)break}return o.value=d,r.value=!1,{valid:c,errors:o.value}}function l(){s.value.forEach(d=>d.reset())}function u(){s.value.forEach(d=>d.resetValidation())}return ge(s,()=>{let d=0,c=0;const f=[];for(const v of s.value)v.isValid===!1?(c++,f.push({id:v.id,errorMessages:v.errorMessages})):v.isValid===!0&&d++;o.value=f,t.value=c>0?!1:d===s.value.length?!0:null},{deep:!0,flush:"post"}),Ut(MF,{register:d=>{let{id:c,vm:f,validate:v,reset:m,resetValidation:p}=d;s.value.some(_=>_.id===c),s.value.push({id:c,validate:v,reset:m,resetValidation:p,vm:SS(f),isValid:null,errorMessages:[]})},unregister:d=>{s.value=s.value.filter(c=>c.id!==d)},update:(d,c,f)=>{const v=s.value.find(m=>m.id===d);v&&(v.isValid=c,v.errorMessages=f)},isDisabled:n,isReadonly:i,isValidating:r,isValid:t,items:s,validateOn:de(e,"validateOn")}),{errors:o,isDisabled:n,isReadonly:i,isValidating:r,isValid:t,items:s,validate:a,reset:l,resetValidation:u}}function $h(){return ot(MF,null)}const LF=te({disabled:{type:Boolean,default:null},error:Boolean,errorMessages:{type:[Array,String],default:()=>[]},maxErrors:{type:[Number,String],default:1},name:String,label:String,readonly:{type:Boolean,default:null},rules:{type:Array,default:()=>[]},modelValue:null,validateOn:String,validationValue:null,...Yc()},"validation");function FF(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Hs(),n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:fi();const i=je(e,"modelValue"),r=I(()=>e.validationValue===void 0?i.value:e.validationValue),s=$h(),o=W([]),a=ke(!0),l=I(()=>!!(mn(i.value===""?null:i.value).length||mn(r.value===""?null:r.value).length)),u=I(()=>!!(e.disabled??(s==null?void 0:s.isDisabled.value))),d=I(()=>!!(e.readonly??(s==null?void 0:s.isReadonly.value))),c=I(()=>{var R;return(R=e.errorMessages)!=null&&R.length?mn(e.errorMessages).concat(o.value).slice(0,Math.max(0,+e.maxErrors)):o.value}),f=I(()=>{let R=(e.validateOn??(s==null?void 0:s.validateOn.value))||"input";R==="lazy"&&(R="input lazy"),R==="eager"&&(R="input eager");const O=new Set((R==null?void 0:R.split(" "))??[]);return{input:O.has("input"),blur:O.has("blur")||O.has("input")||O.has("invalid-input"),invalidInput:O.has("invalid-input"),lazy:O.has("lazy"),eager:O.has("eager")}}),v=I(()=>{var R;return e.error||(R=e.errorMessages)!=null&&R.length?!1:e.rules.length?a.value?o.value.length||f.value.lazy?null:!0:!o.value.length:!0}),m=ke(!1),p=I(()=>({[`${t}--error`]:v.value===!1,[`${t}--dirty`]:l.value,[`${t}--disabled`]:u.value,[`${t}--readonly`]:d.value})),_=Rn("validation"),y=I(()=>e.name??oe(n));AS(()=>{s==null||s.register({id:y.value,vm:_,validate:k,reset:b,resetValidation:C})}),di(()=>{s==null||s.unregister(y.value)}),bt(async()=>{f.value.lazy||await k(!f.value.eager),s==null||s.update(y.value,v.value,c.value)}),Ji(()=>f.value.input||f.value.invalidInput&&v.value===!1,()=>{ge(r,()=>{if(r.value!=null)k();else if(e.focused){const R=ge(()=>e.focused,O=>{O||k(),R()})}})}),Ji(()=>f.value.blur,()=>{ge(()=>e.focused,R=>{R||k()})}),ge([v,c],()=>{s==null||s.update(y.value,v.value,c.value)});async function b(){i.value=null,await at(),await C()}async function C(){a.value=!0,f.value.lazy?o.value=[]:await k(!f.value.eager)}async function k(){let R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const O=[];m.value=!0;for(const x of e.rules){if(O.length>=+(e.maxErrors??1))break;const w=await(typeof x=="function"?x:()=>x)(r.value);if(w!==!0){if(w!==!1&&typeof w!="string"){console.warn(`${w} is not a valid value. Rule functions must return boolean true or a string.`);continue}O.push(w||"")}}return o.value=O,m.value=!1,a.value=R,o.value}return{errorMessages:c,isDirty:l,isDisabled:u,isReadonly:d,isPristine:a,isValid:v,isValidating:m,reset:b,resetValidation:C,validate:k,validationClasses:p}}const No=te({id:String,appendIcon:Ze,centerAffix:{type:Boolean,default:!0},prependIcon:Ze,hideDetails:[Boolean,String],hideSpinButtons:Boolean,hint:String,persistentHint:Boolean,messages:{type:[Array,String],default:()=>[]},direction:{type:String,default:"horizontal",validator:e=>["horizontal","vertical"].includes(e)},"onClick:prepend":ii(),"onClick:append":ii(),...$e(),...ri(),...Jp(qn(),["maxWidth","minWidth","width"]),...Ct(),...LF()},"VInput"),Ci=fe()({name:"VInput",props:{...No()},emits:{"update:modelValue":e=>!0},setup(e,t){let{attrs:n,slots:i,emit:r}=t;const{densityClasses:s}=Hi(e),{dimensionStyles:o}=Yn(e),{themeClasses:a}=Ft(e),{rtlClasses:l}=Jn(),{InputIcon:u}=VF(e),d=fi(),c=I(()=>e.id||`input-${d}`),f=I(()=>`${c.value}-messages`),{errorMessages:v,isDirty:m,isDisabled:p,isReadonly:_,isPristine:y,isValid:b,isValidating:C,reset:k,resetValidation:R,validate:O,validationClasses:x}=FF(e,"v-input",c),S=I(()=>({id:c,messagesId:f,isDirty:m,isDisabled:p,isReadonly:_,isPristine:y,isValid:b,isValidating:C,reset:k,resetValidation:R,validate:O})),w=I(()=>{var E;return(E=e.errorMessages)!=null&&E.length||!y.value&&v.value.length?v.value:e.hint&&(e.persistentHint||e.focused)?e.hint:e.messages});return ve(()=>{var B,$,j,Y;const E=!!(i.prepend||e.prependIcon),A=!!(i.append||e.appendIcon),P=w.value.length>0,D=!e.hideDetails||e.hideDetails==="auto"&&(P||!!i.details);return h("div",{class:["v-input",`v-input--${e.direction}`,{"v-input--center-affix":e.centerAffix,"v-input--hide-spin-buttons":e.hideSpinButtons},s.value,a.value,l.value,x.value,e.class],style:[o.value,e.style]},[E&&h("div",{key:"prepend",class:"v-input__prepend"},[(B=i.prepend)==null?void 0:B.call(i,S.value),e.prependIcon&&h(u,{key:"prepend-icon",name:"prepend"},null)]),i.default&&h("div",{class:"v-input__control"},[($=i.default)==null?void 0:$.call(i,S.value)]),A&&h("div",{key:"append",class:"v-input__append"},[e.appendIcon&&h(u,{key:"append-icon",name:"append"},null),(j=i.append)==null?void 0:j.call(i,S.value)]),D&&h("div",{class:"v-input__details"},[h(NF,{id:f.value,active:P,messages:w.value},{message:i.message}),(Y=i.details)==null?void 0:Y.call(i,S.value)])])}),{reset:k,resetValidation:R,validate:O,isValid:b,errorMessages:v}}}),Jte=te({...No(),...zt(OF(),["inline"])},"VCheckbox"),Zte=fe()({name:"VCheckbox",inheritAttrs:!1,props:Jte(),emits:{"update:modelValue":e=>!0,"update:focused":e=>!0},setup(e,t){let{attrs:n,slots:i}=t;const r=je(e,"modelValue"),{isFocused:s,focus:o,blur:a}=Gs(e),l=fi(),u=I(()=>e.id||`checkbox-${l}`);return ve(()=>{const[d,c]=Na(n),f=Ci.filterProps(e),v=Ms.filterProps(e);return h(Ci,Z({class:["v-checkbox",e.class]},d,f,{modelValue:r.value,"onUpdate:modelValue":m=>r.value=m,id:u.value,focused:s.value,style:e.style}),{...i,default:m=>{let{id:p,messagesId:_,isDisabled:y,isReadonly:b,isValid:C}=m;return h(Ms,Z(v,{id:p.value,"aria-describedby":_.value,disabled:y.value,readonly:b.value},c,{error:C.value===!1,modelValue:r.value,"onUpdate:modelValue":k=>r.value=k,onFocus:o,onBlur:a}),i)}})}),{}}});function ene(e){let{selectedElement:t,containerElement:n,isRtl:i,isHorizontal:r}=e;const s=Hf(r,n),o=$F(r,i,n),a=Hf(r,t),l=BF(r,t),u=a*.4;return o>l?l-u:o+s<l+a?l-s+a+u:o}function tne(e){let{selectedElement:t,containerElement:n,isHorizontal:i}=e;const r=Hf(i,n),s=BF(i,t),o=Hf(i,t);return s-r/2+o/2}function BP(e,t){const n=e?"scrollWidth":"scrollHeight";return(t==null?void 0:t[n])||0}function nne(e,t){const n=e?"clientWidth":"clientHeight";return(t==null?void 0:t[n])||0}function $F(e,t,n){if(!n)return 0;const{scrollLeft:i,offsetWidth:r,scrollWidth:s}=n;return e?t?s-r+i:i:n.scrollTop}function Hf(e,t){const n=e?"offsetWidth":"offsetHeight";return(t==null?void 0:t[n])||0}function BF(e,t){const n=e?"offsetLeft":"offsetTop";return(t==null?void 0:t[n])||0}const UF=Symbol.for("vuetify:v-slide-group"),M1=te({centerActive:Boolean,direction:{type:String,default:"horizontal"},symbol:{type:null,default:UF},nextIcon:{type:Ze,default:"$next"},prevIcon:{type:Ze,default:"$prev"},showArrows:{type:[Boolean,String],validator:e=>typeof e=="boolean"||["always","desktop","mobile"].includes(e)},...$e(),...Ql({mobile:null}),...ut(),...nu({selectedClass:"v-slide-group-item--active"})},"VSlideGroup"),Wf=fe()({name:"VSlideGroup",props:M1(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const{isRtl:i}=Jn(),{displayClasses:r,mobile:s}=xr(e),o=La(e,e.symbol),a=ke(!1),l=ke(0),u=ke(0),d=ke(0),c=I(()=>e.direction==="horizontal"),{resizeRef:f,contentRect:v}=us(),{resizeRef:m,contentRect:p}=us(),_=wee(),y=I(()=>({container:f.el,duration:200,easing:"easeOutQuart"})),b=I(()=>o.selected.value.length?o.items.value.findIndex(z=>z.id===o.selected.value[0]):-1),C=I(()=>o.selected.value.length?o.items.value.findIndex(z=>z.id===o.selected.value[o.selected.value.length-1]):-1);if(Bt){let z=-1;ge(()=>[o.selected.value,v.value,p.value,c.value],()=>{cancelAnimationFrame(z),z=requestAnimationFrame(()=>{if(v.value&&p.value){const ne=c.value?"width":"height";u.value=v.value[ne],d.value=p.value[ne],a.value=u.value+1<d.value}if(b.value>=0&&m.el){const ne=m.el.children[C.value];R(ne,e.centerActive)}})})}const k=ke(!1);function R(z,ne){let ue=0;ne?ue=tne({containerElement:f.el,isHorizontal:c.value,selectedElement:z}):ue=ene({containerElement:f.el,isHorizontal:c.value,isRtl:i.value,selectedElement:z}),O(ue)}function O(z){if(!Bt||!f.el)return;const ne=Hf(c.value,f.el),ue=$F(c.value,i.value,f.el);if(!(BP(c.value,f.el)<=ne||Math.abs(z-ue)<16)){if(c.value&&i.value&&f.el){const{scrollWidth:Ae,offsetWidth:Ne}=f.el;z=Ae-Ne-z}c.value?_.horizontal(z,y.value):_(z,y.value)}}function x(z){const{scrollTop:ne,scrollLeft:ue}=z.target;l.value=c.value?ue:ne}function S(z){if(k.value=!0,!(!a.value||!m.el)){for(const ne of z.composedPath())for(const ue of m.el.children)if(ue===ne){R(ue);return}}}function w(z){k.value=!1}let E=!1;function A(z){var ne;!E&&!k.value&&!(z.relatedTarget&&((ne=m.el)!=null&&ne.contains(z.relatedTarget)))&&B(),E=!1}function P(){E=!0}function D(z){if(!m.el)return;function ne(ue){z.preventDefault(),B(ue)}c.value?z.key==="ArrowRight"?ne(i.value?"prev":"next"):z.key==="ArrowLeft"&&ne(i.value?"next":"prev"):z.key==="ArrowDown"?ne("next"):z.key==="ArrowUp"&&ne("prev"),z.key==="Home"?ne("first"):z.key==="End"&&ne("last")}function B(z){var ue,be;if(!m.el)return;let ne;if(!z)ne=Nf(m.el)[0];else if(z==="next"){if(ne=(ue=m.el.querySelector(":focus"))==null?void 0:ue.nextElementSibling,!ne)return B("first")}else if(z==="prev"){if(ne=(be=m.el.querySelector(":focus"))==null?void 0:be.previousElementSibling,!ne)return B("last")}else z==="first"?ne=m.el.firstElementChild:z==="last"&&(ne=m.el.lastElementChild);ne&&ne.focus({preventScroll:!0})}function $(z){const ne=c.value&&i.value?-1:1,ue=(z==="prev"?-ne:ne)*u.value;let be=l.value+ue;if(c.value&&i.value&&f.el){const{scrollWidth:Ae,offsetWidth:Ne}=f.el;be+=Ae-Ne}O(be)}const j=I(()=>({next:o.next,prev:o.prev,select:o.select,isSelected:o.isSelected})),Y=I(()=>{switch(e.showArrows){case"always":return!0;case"desktop":return!s.value;case!0:return a.value||Math.abs(l.value)>0;case"mobile":return s.value||a.value||Math.abs(l.value)>0;default:return!s.value&&(a.value||Math.abs(l.value)>0)}}),H=I(()=>Math.abs(l.value)>1),q=I(()=>{if(!f.value)return!1;const z=BP(c.value,f.el),ne=nne(c.value,f.el);return z-ne-Math.abs(l.value)>1});return ve(()=>h(e.tag,{class:["v-slide-group",{"v-slide-group--vertical":!c.value,"v-slide-group--has-affixes":Y.value,"v-slide-group--is-overflowing":a.value},r.value,e.class],style:e.style,tabindex:k.value||o.selected.value.length?-1:0,onFocus:A},{default:()=>{var z,ne,ue;return[Y.value&&h("div",{key:"prev",class:["v-slide-group__prev",{"v-slide-group__prev--disabled":!H.value}],onMousedown:P,onClick:()=>H.value&&$("prev")},[((z=n.prev)==null?void 0:z.call(n,j.value))??h(Bf,null,{default:()=>[h(Dt,{icon:i.value?e.nextIcon:e.prevIcon},null)]})]),h("div",{key:"container",ref:f,class:"v-slide-group__container",onScroll:x},[h("div",{ref:m,class:"v-slide-group__content",onFocusin:S,onFocusout:w,onKeydown:D},[(ne=n.default)==null?void 0:ne.call(n,j.value)])]),Y.value&&h("div",{key:"next",class:["v-slide-group__next",{"v-slide-group__next--disabled":!q.value}],onMousedown:P,onClick:()=>q.value&&$("next")},[((ue=n.next)==null?void 0:ue.call(n,j.value))??h(Bf,null,{default:()=>[h(Dt,{icon:i.value?e.prevIcon:e.nextIcon},null)]})])]}})),{selected:o.selected,scrollTo:$,scrollOffset:l,focus:B,hasPrev:H,hasNext:q}}}),jF=Symbol.for("vuetify:v-chip-group"),ine=te({column:Boolean,filter:Boolean,valueComparator:{type:Function,default:js},...M1(),...$e(),...nu({selectedClass:"v-chip--selected"}),...ut(),...Ct(),...Hr({variant:"tonal"})},"VChipGroup"),rne=fe()({name:"VChipGroup",props:ine(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const{themeClasses:i}=Ft(e),{isSelected:r,select:s,next:o,prev:a,selected:l}=La(e,jF);return yn({VChip:{color:de(e,"color"),disabled:de(e,"disabled"),filter:de(e,"filter"),variant:de(e,"variant")}}),ve(()=>{const u=Wf.filterProps(e);return h(Wf,Z(u,{class:["v-chip-group",{"v-chip-group--column":e.column},i.value,e.class],style:e.style}),{default:()=>{var d;return[(d=n.default)==null?void 0:d.call(n,{isSelected:r,select:s,next:o,prev:a,selected:l.value})]}})}),{}}}),sne=te({activeClass:String,appendAvatar:String,appendIcon:Ze,closable:Boolean,closeIcon:{type:Ze,default:"$delete"},closeLabel:{type:String,default:"$vuetify.close"},draggable:Boolean,filter:Boolean,filterIcon:{type:String,default:"$complete"},label:Boolean,link:{type:Boolean,default:void 0},pill:Boolean,prependAvatar:String,prependIcon:Ze,ripple:{type:[Boolean,Object],default:!0},text:String,modelValue:{type:Boolean,default:!0},onClick:ii(),onClickOnce:ii(),...dr(),...$e(),...ri(),...Zn(),...iu(),...bn(),...Fh(),...zs(),...ut({tag:"span"}),...Ct(),...Hr({variant:"tonal"})},"VChip"),ou=fe()({name:"VChip",directives:{Ripple:Vo},props:sne(),emits:{"click:close":e=>!0,"update:modelValue":e=>!0,"group:selected":e=>!0,click:e=>!0},setup(e,t){let{attrs:n,emit:i,slots:r}=t;const{t:s}=sn(),{borderClasses:o}=Rr(e),{colorClasses:a,colorStyles:l,variantClasses:u}=tu(e),{densityClasses:d}=Hi(e),{elevationClasses:c}=hi(e),{roundedClasses:f}=On(e),{sizeClasses:v}=Hc(e),{themeClasses:m}=Ft(e),p=je(e,"modelValue"),_=ru(e,jF,!1),y=Gc(e,n),b=I(()=>e.link!==!1&&y.isLink.value),C=I(()=>!e.disabled&&e.link!==!1&&(!!_||e.link||y.isClickable.value)),k=I(()=>({"aria-label":s(e.closeLabel),onClick(x){x.preventDefault(),x.stopPropagation(),p.value=!1,i("click:close",x)}}));function R(x){var S;i("click",x),C.value&&((S=y.navigate)==null||S.call(y,x),_==null||_.toggle())}function O(x){(x.key==="Enter"||x.key===" ")&&(x.preventDefault(),R(x))}return()=>{const x=y.isLink.value?"a":e.tag,S=!!(e.appendIcon||e.appendAvatar),w=!!(S||r.append),E=!!(r.close||e.closable),A=!!(r.filter||e.filter)&&_,P=!!(e.prependIcon||e.prependAvatar),D=!!(P||r.prepend),B=!_||_.isSelected.value;return p.value&&_n(h(x,Z({class:["v-chip",{"v-chip--disabled":e.disabled,"v-chip--label":e.label,"v-chip--link":C.value,"v-chip--filter":A,"v-chip--pill":e.pill},m.value,o.value,B?a.value:void 0,d.value,c.value,f.value,v.value,u.value,_==null?void 0:_.selectedClass.value,e.class],style:[B?l.value:void 0,e.style],disabled:e.disabled||void 0,draggable:e.draggable,tabindex:C.value?0:void 0,onClick:R,onKeydown:C.value&&!b.value&&O},y.linkProps),{default:()=>{var $;return[Ma(C.value,"v-chip"),A&&h(R1,{key:"filter"},{default:()=>[_n(h("div",{class:"v-chip__filter"},[r.filter?h(lt,{key:"filter-defaults",disabled:!e.filterIcon,defaults:{VIcon:{icon:e.filterIcon}}},r.filter):h(Dt,{key:"filter-icon",icon:e.filterIcon},null)]),[[fs,_.isSelected.value]])]}),D&&h("div",{key:"prepend",class:"v-chip__prepend"},[r.prepend?h(lt,{key:"prepend-defaults",disabled:!P,defaults:{VAvatar:{image:e.prependAvatar,start:!0},VIcon:{icon:e.prependIcon,start:!0}}},r.prepend):h(Te,null,[e.prependIcon&&h(Dt,{key:"prepend-icon",icon:e.prependIcon,start:!0},null),e.prependAvatar&&h(kr,{key:"prepend-avatar",image:e.prependAvatar,start:!0},null)])]),h("div",{class:"v-chip__content","data-no-activator":""},[(($=r.default)==null?void 0:$.call(r,{isSelected:_==null?void 0:_.isSelected.value,selectedClass:_==null?void 0:_.selectedClass.value,select:_==null?void 0:_.select,toggle:_==null?void 0:_.toggle,value:_==null?void 0:_.value.value,disabled:e.disabled}))??e.text]),w&&h("div",{key:"append",class:"v-chip__append"},[r.append?h(lt,{key:"append-defaults",disabled:!S,defaults:{VAvatar:{end:!0,image:e.appendAvatar},VIcon:{end:!0,icon:e.appendIcon}}},r.append):h(Te,null,[e.appendIcon&&h(Dt,{key:"append-icon",end:!0,icon:e.appendIcon},null),e.appendAvatar&&h(kr,{key:"append-avatar",end:!0,image:e.appendAvatar},null)])]),E&&h("button",Z({key:"close",class:"v-chip__close",type:"button"},k.value),[r.close?h(lt,{key:"close-defaults",defaults:{VIcon:{icon:e.closeIcon,size:"x-small"}}},r.close):h(Dt,{key:"close-icon",icon:e.closeIcon,size:"x-small"},null)])]}}),[[cr("ripple"),C.value&&e.ripple,null]])}}}),G0=Symbol.for("vuetify:list");function HF(){const e=ot(G0,{hasPrepend:ke(!1),updateHasPrepend:()=>null}),t={hasPrepend:ke(!1),updateHasPrepend:n=>{n&&(t.hasPrepend.value=n)}};return Ut(G0,t),e}function WF(){return ot(G0,null)}const L1=e=>{const t={activate:n=>{let{id:i,value:r,activated:s}=n;return i=Ge(i),e&&!r&&s.size===1&&s.has(i)||(r?s.add(i):s.delete(i)),s},in:(n,i,r)=>{let s=new Set;if(n!=null)for(const o of mn(n))s=t.activate({id:o,value:!0,activated:new Set(s),children:i,parents:r});return s},out:n=>Array.from(n)};return t},zF=e=>{const t=L1(e);return{activate:i=>{let{activated:r,id:s,...o}=i;s=Ge(s);const a=r.has(s)?new Set([s]):new Set;return t.activate({...o,id:s,activated:a})},in:(i,r,s)=>{let o=new Set;if(i!=null){const a=mn(i);a.length&&(o=t.in(a.slice(0,1),r,s))}return o},out:(i,r,s)=>t.out(i,r,s)}},one=e=>{const t=L1(e);return{activate:i=>{let{id:r,activated:s,children:o,...a}=i;return r=Ge(r),o.has(r)?s:t.activate({id:r,activated:s,children:o,...a})},in:t.in,out:t.out}},ane=e=>{const t=zF(e);return{activate:i=>{let{id:r,activated:s,children:o,...a}=i;return r=Ge(r),o.has(r)?s:t.activate({id:r,activated:s,children:o,...a})},in:t.in,out:t.out}},lne={open:e=>{let{id:t,value:n,opened:i,parents:r}=e;if(n){const s=new Set;s.add(t);let o=r.get(t);for(;o!=null;)s.add(o),o=r.get(o);return s}else return i.delete(t),i},select:()=>null},GF={open:e=>{let{id:t,value:n,opened:i,parents:r}=e;if(n){let s=r.get(t);for(i.add(t);s!=null&&s!==t;)i.add(s),s=r.get(s);return i}else i.delete(t);return i},select:()=>null},une={open:GF.open,select:e=>{let{id:t,value:n,opened:i,parents:r}=e;if(!n)return i;const s=[];let o=r.get(t);for(;o!=null;)s.push(o),o=r.get(o);return new Set(s)}},F1=e=>{const t={select:n=>{let{id:i,value:r,selected:s}=n;if(i=Ge(i),e&&!r){const o=Array.from(s.entries()).reduce((a,l)=>{let[u,d]=l;return d==="on"&&a.push(u),a},[]);if(o.length===1&&o[0]===i)return s}return s.set(i,r?"on":"off"),s},in:(n,i,r)=>{let s=new Map;for(const o of n||[])s=t.select({id:o,value:!0,selected:new Map(s),children:i,parents:r});return s},out:n=>{const i=[];for(const[r,s]of n.entries())s==="on"&&i.push(r);return i}};return t},qF=e=>{const t=F1(e);return{select:i=>{let{selected:r,id:s,...o}=i;s=Ge(s);const a=r.has(s)?new Map([[s,r.get(s)]]):new Map;return t.select({...o,id:s,selected:a})},in:(i,r,s)=>{let o=new Map;return i!=null&&i.length&&(o=t.in(i.slice(0,1),r,s)),o},out:(i,r,s)=>t.out(i,r,s)}},cne=e=>{const t=F1(e);return{select:i=>{let{id:r,selected:s,children:o,...a}=i;return r=Ge(r),o.has(r)?s:t.select({id:r,selected:s,children:o,...a})},in:t.in,out:t.out}},dne=e=>{const t=qF(e);return{select:i=>{let{id:r,selected:s,children:o,...a}=i;return r=Ge(r),o.has(r)?s:t.select({id:r,selected:s,children:o,...a})},in:t.in,out:t.out}},fne=e=>{const t={select:n=>{let{id:i,value:r,selected:s,children:o,parents:a}=n;i=Ge(i);const l=new Map(s),u=[i];for(;u.length;){const c=u.shift();s.set(Ge(c),r?"on":"off"),o.has(c)&&u.push(...o.get(c))}let d=Ge(a.get(i));for(;d;){const c=o.get(d),f=c.every(m=>s.get(Ge(m))==="on"),v=c.every(m=>!s.has(Ge(m))||s.get(Ge(m))==="off");s.set(d,f?"on":v?"off":"indeterminate"),d=Ge(a.get(d))}return e&&!r&&Array.from(s.entries()).reduce((f,v)=>{let[m,p]=v;return p==="on"&&f.push(m),f},[]).length===0?l:s},in:(n,i,r)=>{let s=new Map;for(const o of n||[])s=t.select({id:o,value:!0,selected:new Map(s),children:i,parents:r});return s},out:(n,i)=>{const r=[];for(const[s,o]of n.entries())o==="on"&&!i.has(s)&&r.push(s);return r}};return t},zf=Symbol.for("vuetify:nested"),YF={id:ke(),root:{register:()=>null,unregister:()=>null,parents:W(new Map),children:W(new Map),open:()=>null,openOnSelect:()=>null,activate:()=>null,select:()=>null,activatable:W(!1),selectable:W(!1),opened:W(new Set),activated:W(new Set),selected:W(new Map),selectedValues:W([]),getPath:()=>[]}},hne=te({activatable:Boolean,selectable:Boolean,activeStrategy:[String,Function,Object],selectStrategy:[String,Function,Object],openStrategy:[String,Object],opened:null,activated:null,selected:null,mandatory:Boolean},"nested"),vne=e=>{let t=!1;const n=W(new Map),i=W(new Map),r=je(e,"opened",e.opened,m=>new Set(m),m=>[...m.values()]),s=I(()=>{if(typeof e.activeStrategy=="object")return e.activeStrategy;if(typeof e.activeStrategy=="function")return e.activeStrategy(e.mandatory);switch(e.activeStrategy){case"leaf":return one(e.mandatory);case"single-leaf":return ane(e.mandatory);case"independent":return L1(e.mandatory);case"single-independent":default:return zF(e.mandatory)}}),o=I(()=>{if(typeof e.selectStrategy=="object")return e.selectStrategy;if(typeof e.selectStrategy=="function")return e.selectStrategy(e.mandatory);switch(e.selectStrategy){case"single-leaf":return dne(e.mandatory);case"leaf":return cne(e.mandatory);case"independent":return F1(e.mandatory);case"single-independent":return qF(e.mandatory);case"classic":default:return fne(e.mandatory)}}),a=I(()=>{if(typeof e.openStrategy=="object")return e.openStrategy;switch(e.openStrategy){case"list":return une;case"single":return lne;case"multiple":default:return GF}}),l=je(e,"activated",e.activated,m=>s.value.in(m,n.value,i.value),m=>s.value.out(m,n.value,i.value)),u=je(e,"selected",e.selected,m=>o.value.in(m,n.value,i.value),m=>o.value.out(m,n.value,i.value));di(()=>{t=!0});function d(m){const p=[];let _=m;for(;_!=null;)p.unshift(_),_=i.value.get(_);return p}const c=Rn("nested"),f=new Set,v={id:ke(),root:{opened:r,activatable:de(e,"activatable"),selectable:de(e,"selectable"),activated:l,selected:u,selectedValues:I(()=>{const m=[];for(const[p,_]of u.value.entries())_==="on"&&m.push(p);return m}),register:(m,p,_)=>{if(f.has(m)){d(m).join(" -> "),d(p).concat(m).join(" -> ");return}else f.add(m);p&&m!==p&&i.value.set(m,p),_&&n.value.set(m,[]),p!=null&&n.value.set(p,[...n.value.get(p)||[],m])},unregister:m=>{if(t)return;f.delete(m),n.value.delete(m);const p=i.value.get(m);if(p){const _=n.value.get(p)??[];n.value.set(p,_.filter(y=>y!==m))}i.value.delete(m)},open:(m,p,_)=>{c.emit("click:open",{id:m,value:p,path:d(m),event:_});const y=a.value.open({id:m,value:p,opened:new Set(r.value),children:n.value,parents:i.value,event:_});y&&(r.value=y)},openOnSelect:(m,p,_)=>{const y=a.value.select({id:m,value:p,selected:new Map(u.value),opened:new Set(r.value),children:n.value,parents:i.value,event:_});y&&(r.value=y)},select:(m,p,_)=>{c.emit("click:select",{id:m,value:p,path:d(m),event:_});const y=o.value.select({id:m,value:p,selected:new Map(u.value),children:n.value,parents:i.value,event:_});y&&(u.value=y),v.root.openOnSelect(m,p,_)},activate:(m,p,_)=>{if(!e.activatable)return v.root.select(m,!0,_);c.emit("click:activate",{id:m,value:p,path:d(m),event:_});const y=s.value.activate({id:m,value:p,activated:new Set(l.value),children:n.value,parents:i.value,event:_});y&&(l.value=y)},children:n,parents:i,getPath:d}};return Ut(zf,v),v.root},KF=(e,t)=>{const n=ot(zf,YF),i=Symbol(fi()),r=I(()=>e.value!==void 0?e.value:i),s={...n,id:r,open:(o,a)=>n.root.open(r.value,o,a),openOnSelect:(o,a)=>n.root.openOnSelect(r.value,o,a),isOpen:I(()=>n.root.opened.value.has(r.value)),parent:I(()=>n.root.parents.value.get(r.value)),activate:(o,a)=>n.root.activate(r.value,o,a),isActivated:I(()=>n.root.activated.value.has(Ge(r.value))),select:(o,a)=>n.root.select(r.value,o,a),isSelected:I(()=>n.root.selected.value.get(Ge(r.value))==="on"),isIndeterminate:I(()=>n.root.selected.value.get(r.value)==="indeterminate"),isLeaf:I(()=>!n.root.children.value.get(r.value)),isGroupActivator:n.isGroupActivator};return!n.isGroupActivator&&n.root.register(r.value,n.id.value,t),di(()=>{!n.isGroupActivator&&n.root.unregister(r.value)}),t&&Ut(zf,s),s},mne=()=>{const e=ot(zf,YF);Ut(zf,{...e,isGroupActivator:!0})},gne=Pr({name:"VListGroupActivator",setup(e,t){let{slots:n}=t;return mne(),()=>{var i;return(i=n.default)==null?void 0:i.call(n)}}}),XF=te({activeColor:String,baseColor:String,color:String,collapseIcon:{type:Ze,default:"$collapse"},expandIcon:{type:Ze,default:"$expand"},prependIcon:Ze,appendIcon:Ze,fluid:Boolean,subgroup:Boolean,title:String,value:null,...$e(),...ut()},"VListGroup"),Gf=fe()({name:"VListGroup",props:XF(),setup(e,t){let{slots:n}=t;const{isOpen:i,open:r,id:s}=KF(de(e,"value"),!0),o=I(()=>`v-list-group--id-${String(s.value)}`),a=WF(),{isBooted:l}=eu();function u(v){v.stopPropagation(),r(!i.value,v)}const d=I(()=>({onClick:u,class:"v-list-group__header",id:o.value})),c=I(()=>i.value?e.collapseIcon:e.expandIcon),f=I(()=>({VListItem:{active:i.value,activeColor:e.activeColor,baseColor:e.baseColor,color:e.color,prependIcon:e.prependIcon||e.subgroup&&c.value,appendIcon:e.appendIcon||!e.subgroup&&c.value,title:e.title,value:e.value}}));return ve(()=>h(e.tag,{class:["v-list-group",{"v-list-group--prepend":a==null?void 0:a.hasPrepend.value,"v-list-group--fluid":e.fluid,"v-list-group--subgroup":e.subgroup,"v-list-group--open":i.value},e.class],style:e.style},{default:()=>[n.activator&&h(lt,{defaults:f.value},{default:()=>[h(gne,null,{default:()=>[n.activator({props:d.value,isOpen:i.value})]})]}),h(Bi,{transition:{component:o_},disabled:!l.value},{default:()=>{var v;return[_n(h("div",{class:"v-list-group__items",role:"group","aria-labelledby":o.value},[(v=n.default)==null?void 0:v.call(n)]),[[fs,i.value]])]}})]})),{isOpen:i}}}),pne=te({opacity:[Number,String],...$e(),...ut()},"VListItemSubtitle"),QF=fe()({name:"VListItemSubtitle",props:pne(),setup(e,t){let{slots:n}=t;return ve(()=>h(e.tag,{class:["v-list-item-subtitle",e.class],style:[{"--v-list-item-subtitle-opacity":e.opacity},e.style]},n)),{}}}),JF=Ws("v-list-item-title"),ZF=te({active:{type:Boolean,default:void 0},activeClass:String,activeColor:String,appendAvatar:String,appendIcon:Ze,baseColor:String,disabled:Boolean,lines:[Boolean,String],link:{type:Boolean,default:void 0},nav:Boolean,prependAvatar:String,prependIcon:Ze,ripple:{type:[Boolean,Object],default:!0},slim:Boolean,subtitle:[String,Number],title:[String,Number],value:null,onClick:ii(),onClickOnce:ii(),...dr(),...$e(),...ri(),...qn(),...Zn(),...bn(),...Fh(),...ut(),...Ct(),...Hr({variant:"text"})},"VListItem"),cs=fe()({name:"VListItem",directives:{Ripple:Vo},props:ZF(),emits:{click:e=>!0},setup(e,t){let{attrs:n,slots:i,emit:r}=t;const s=Gc(e,n),o=I(()=>e.value===void 0?s.href.value:e.value),{activate:a,isActivated:l,select:u,isOpen:d,isSelected:c,isIndeterminate:f,isGroupActivator:v,root:m,parent:p,openOnSelect:_,id:y}=KF(o,!1),b=WF(),C=I(()=>{var ue;return e.active!==!1&&(e.active||((ue=s.isActive)==null?void 0:ue.value)||(m.activatable.value?l.value:c.value))}),k=I(()=>e.link!==!1&&s.isLink.value),R=I(()=>!e.disabled&&e.link!==!1&&(e.link||s.isClickable.value||!!b&&(m.selectable.value||m.activatable.value||e.value!=null))),O=I(()=>e.rounded||e.nav),x=I(()=>e.color??e.activeColor),S=I(()=>({color:C.value?x.value??e.baseColor:e.baseColor,variant:e.variant}));ge(()=>{var ue;return(ue=s.isActive)==null?void 0:ue.value},ue=>{ue&&p.value!=null&&m.open(p.value,!0),ue&&_(ue)},{immediate:!0});const{themeClasses:w}=Ft(e),{borderClasses:E}=Rr(e),{colorClasses:A,colorStyles:P,variantClasses:D}=tu(S),{densityClasses:B}=Hi(e),{dimensionStyles:$}=Yn(e),{elevationClasses:j}=hi(e),{roundedClasses:Y}=On(O),H=I(()=>e.lines?`v-list-item--${e.lines}-line`:void 0),q=I(()=>({isActive:C.value,select:u,isOpen:d.value,isSelected:c.value,isIndeterminate:f.value}));function z(ue){var be;r("click",ue),R.value&&((be=s.navigate)==null||be.call(s,ue),!v&&(m.activatable.value?a(!l.value,ue):(m.selectable.value||e.value!=null)&&u(!c.value,ue)))}function ne(ue){(ue.key==="Enter"||ue.key===" ")&&(ue.preventDefault(),ue.target.dispatchEvent(new MouseEvent("click",ue)))}return ve(()=>{const ue=k.value?"a":e.tag,be=i.title||e.title!=null,Ae=i.subtitle||e.subtitle!=null,Ne=!!(e.appendAvatar||e.appendIcon),se=!!(Ne||i.append),G=!!(e.prependAvatar||e.prependIcon),ie=!!(G||i.prepend);return b==null||b.updateHasPrepend(ie),e.activeColor&&nZ("active-color",["color","base-color"]),_n(h(ue,Z({class:["v-list-item",{"v-list-item--active":C.value,"v-list-item--disabled":e.disabled,"v-list-item--link":R.value,"v-list-item--nav":e.nav,"v-list-item--prepend":!ie&&(b==null?void 0:b.hasPrepend.value),"v-list-item--slim":e.slim,[`${e.activeClass}`]:e.activeClass&&C.value},w.value,E.value,A.value,B.value,j.value,H.value,Y.value,D.value,e.class],style:[P.value,$.value,e.style],tabindex:R.value?b?-2:0:void 0,onClick:z,onKeydown:R.value&&!k.value&&ne},s.linkProps),{default:()=>{var Q;return[Ma(R.value||C.value,"v-list-item"),ie&&h("div",{key:"prepend",class:"v-list-item__prepend"},[i.prepend?h(lt,{key:"prepend-defaults",disabled:!G,defaults:{VAvatar:{density:e.density,image:e.prependAvatar},VIcon:{density:e.density,icon:e.prependIcon},VListItemAction:{start:!0}}},{default:()=>{var ee;return[(ee=i.prepend)==null?void 0:ee.call(i,q.value)]}}):h(Te,null,[e.prependAvatar&&h(kr,{key:"prepend-avatar",density:e.density,image:e.prependAvatar},null),e.prependIcon&&h(Dt,{key:"prepend-icon",density:e.density,icon:e.prependIcon},null)]),h("div",{class:"v-list-item__spacer"},null)]),h("div",{class:"v-list-item__content","data-no-activator":""},[be&&h(JF,{key:"title"},{default:()=>{var ee;return[((ee=i.title)==null?void 0:ee.call(i,{title:e.title}))??e.title]}}),Ae&&h(QF,{key:"subtitle"},{default:()=>{var ee;return[((ee=i.subtitle)==null?void 0:ee.call(i,{subtitle:e.subtitle}))??e.subtitle]}}),(Q=i.default)==null?void 0:Q.call(i,q.value)]),se&&h("div",{key:"append",class:"v-list-item__append"},[i.append?h(lt,{key:"append-defaults",disabled:!Ne,defaults:{VAvatar:{density:e.density,image:e.appendAvatar},VIcon:{density:e.density,icon:e.appendIcon},VListItemAction:{end:!0}}},{default:()=>{var ee;return[(ee=i.append)==null?void 0:ee.call(i,q.value)]}}):h(Te,null,[e.appendIcon&&h(Dt,{key:"append-icon",density:e.density,icon:e.appendIcon},null),e.appendAvatar&&h(kr,{key:"append-avatar",density:e.density,image:e.appendAvatar},null)]),h("div",{class:"v-list-item__spacer"},null)])]}}),[[cr("ripple"),R.value&&e.ripple]])}),{activate:a,isActivated:l,isGroupActivator:v,isSelected:c,list:b,select:u,root:m,id:y}}}),_ne=te({color:String,inset:Boolean,sticky:Boolean,title:String,...$e(),...ut()},"VListSubheader"),e$=fe()({name:"VListSubheader",props:_ne(),setup(e,t){let{slots:n}=t;const{textColorClasses:i,textColorStyles:r}=ci(de(e,"color"));return ve(()=>{const s=!!(n.default||e.title);return h(e.tag,{class:["v-list-subheader",{"v-list-subheader--inset":e.inset,"v-list-subheader--sticky":e.sticky},i.value,e.class],style:[{textColorStyles:r},e.style]},{default:()=>{var o;return[s&&h("div",{class:"v-list-subheader__text"},[((o=n.default)==null?void 0:o.call(n))??e.title])]}})}),{}}}),yne=te({color:String,inset:Boolean,length:[Number,String],opacity:[Number,String],thickness:[Number,String],vertical:Boolean,...$e(),...Ct()},"VDivider"),fo=fe()({name:"VDivider",props:yne(),setup(e,t){let{attrs:n,slots:i}=t;const{themeClasses:r}=Ft(e),{textColorClasses:s,textColorStyles:o}=ci(de(e,"color")),a=I(()=>{const l={};return e.length&&(l[e.vertical?"height":"width"]=Oe(e.length)),e.thickness&&(l[e.vertical?"borderRightWidth":"borderTopWidth"]=Oe(e.thickness)),l});return ve(()=>{const l=h("hr",{class:[{"v-divider":!0,"v-divider--inset":e.inset,"v-divider--vertical":e.vertical},r.value,s.value,e.class],style:[a.value,o.value,{"--v-border-opacity":e.opacity},e.style],"aria-orientation":!n.role||n.role==="separator"?e.vertical?"vertical":"horizontal":void 0,role:`${n.role||"separator"}`},null);return i.default?h("div",{class:["v-divider__wrapper",{"v-divider__wrapper--vertical":e.vertical,"v-divider__wrapper--inset":e.inset}]},[l,h("div",{class:"v-divider__content"},[i.default()]),l]):l}),{}}}),bne=te({items:Array,returnObject:Boolean},"VListChildren"),t$=fe()({name:"VListChildren",props:bne(),setup(e,t){let{slots:n}=t;return HF(),()=>{var i,r;return((i=n.default)==null?void 0:i.call(n))??((r=e.items)==null?void 0:r.map(s=>{var f,v;let{children:o,props:a,type:l,raw:u}=s;if(l==="divider")return((f=n.divider)==null?void 0:f.call(n,{props:a}))??h(fo,a,null);if(l==="subheader")return((v=n.subheader)==null?void 0:v.call(n,{props:a}))??h(e$,a,null);const d={subtitle:n.subtitle?m=>{var p;return(p=n.subtitle)==null?void 0:p.call(n,{...m,item:u})}:void 0,prepend:n.prepend?m=>{var p;return(p=n.prepend)==null?void 0:p.call(n,{...m,item:u})}:void 0,append:n.append?m=>{var p;return(p=n.append)==null?void 0:p.call(n,{...m,item:u})}:void 0,title:n.title?m=>{var p;return(p=n.title)==null?void 0:p.call(n,{...m,item:u})}:void 0},c=Gf.filterProps(a);return o?h(Gf,Z({value:a==null?void 0:a.value},c),{activator:m=>{let{props:p}=m;const _={...a,...p,value:e.returnObject?u:a.value};return n.header?n.header({props:_}):h(cs,_,d)},default:()=>h(t$,{items:o,returnObject:e.returnObject},n)}):n.item?n.item({props:a}):h(cs,Z(a,{value:e.returnObject?u:a.value}),d)}))}}}),n$=te({items:{type:Array,default:()=>[]},itemTitle:{type:[String,Array,Function],default:"title"},itemValue:{type:[String,Array,Function],default:"value"},itemChildren:{type:[Boolean,String,Array,Function],default:"children"},itemProps:{type:[Boolean,String,Array,Function],default:"props"},returnObject:Boolean,valueComparator:{type:Function,default:js}},"list-items");function ta(e,t){const n=jn(t,e.itemTitle,t),i=jn(t,e.itemValue,n),r=jn(t,e.itemChildren),s=e.itemProps===!0?typeof t=="object"&&t!=null&&!Array.isArray(t)?"children"in t?zt(t,["children"]):t:void 0:jn(t,e.itemProps),o={title:n,value:i,...s};return{title:String(o.title??""),value:o.value,props:o,children:Array.isArray(r)?i$(e,r):void 0,raw:t}}function i$(e,t){const n=[];for(const i of t)n.push(ta(e,i));return n}function $1(e){const t=I(()=>i$(e,e.items)),n=I(()=>t.value.some(s=>s.value===null));function i(s){return n.value||(s=s.filter(o=>o!==null)),s.map(o=>e.returnObject&&typeof o=="string"?ta(e,o):t.value.find(a=>e.valueComparator(o,a.value))||ta(e,o))}function r(s){return e.returnObject?s.map(o=>{let{raw:a}=o;return a}):s.map(o=>{let{value:a}=o;return a})}return{items:t,transformIn:i,transformOut:r}}function wne(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"}function Sne(e,t){const n=jn(t,e.itemType,"item"),i=wne(t)?t:jn(t,e.itemTitle),r=jn(t,e.itemValue,void 0),s=jn(t,e.itemChildren),o=e.itemProps===!0?zt(t,["children"]):jn(t,e.itemProps),a={title:i,value:r,...o};return{type:n,title:a.title,value:a.value,props:a,children:n==="item"&&s?r$(e,s):void 0,raw:t}}function r$(e,t){const n=[];for(const i of t)n.push(Sne(e,i));return n}function s$(e){return{items:I(()=>r$(e,e.items))}}const o$=te({baseColor:String,activeColor:String,activeClass:String,bgColor:String,disabled:Boolean,expandIcon:String,collapseIcon:String,lines:{type:[Boolean,String],default:"one"},slim:Boolean,nav:Boolean,"onClick:open":ii(),"onClick:select":ii(),"onUpdate:opened":ii(),...hne({selectStrategy:"single-leaf",openStrategy:"list"}),...dr(),...$e(),...ri(),...qn(),...Zn(),itemType:{type:String,default:"type"},...n$(),...bn(),...ut(),...Ct(),...Hr({variant:"text"})},"VList"),Sc=fe()({name:"VList",props:o$(),emits:{"update:selected":e=>!0,"update:activated":e=>!0,"update:opened":e=>!0,"click:open":e=>!0,"click:activate":e=>!0,"click:select":e=>!0},setup(e,t){let{slots:n}=t;const{items:i}=s$(e),{themeClasses:r}=Ft(e),{backgroundColorClasses:s,backgroundColorStyles:o}=Gt(de(e,"bgColor")),{borderClasses:a}=Rr(e),{densityClasses:l}=Hi(e),{dimensionStyles:u}=Yn(e),{elevationClasses:d}=hi(e),{roundedClasses:c}=On(e),{children:f,open:v,parents:m,select:p,getPath:_}=vne(e),y=I(()=>e.lines?`v-list--${e.lines}-line`:void 0),b=de(e,"activeColor"),C=de(e,"baseColor"),k=de(e,"color");HF(),yn({VListGroup:{activeColor:b,baseColor:C,color:k,expandIcon:de(e,"expandIcon"),collapseIcon:de(e,"collapseIcon")},VListItem:{activeClass:de(e,"activeClass"),activeColor:b,baseColor:C,color:k,density:de(e,"density"),disabled:de(e,"disabled"),lines:de(e,"lines"),nav:de(e,"nav"),slim:de(e,"slim"),variant:de(e,"variant")}});const R=ke(!1),O=W();function x(D){R.value=!0}function S(D){R.value=!1}function w(D){var B;!R.value&&!(D.relatedTarget&&((B=O.value)!=null&&B.contains(D.relatedTarget)))&&P()}function E(D){const B=D.target;if(!(!O.value||["INPUT","TEXTAREA"].includes(B.tagName))){if(D.key==="ArrowDown")P("next");else if(D.key==="ArrowUp")P("prev");else if(D.key==="Home")P("first");else if(D.key==="End")P("last");else return;D.preventDefault()}}function A(D){R.value=!0}function P(D){if(O.value)return _l(O.value,D)}return ve(()=>h(e.tag,{ref:O,class:["v-list",{"v-list--disabled":e.disabled,"v-list--nav":e.nav,"v-list--slim":e.slim},r.value,s.value,a.value,l.value,d.value,y.value,c.value,e.class],style:[o.value,u.value,e.style],tabindex:e.disabled||R.value?-1:0,role:"listbox","aria-activedescendant":void 0,onFocusin:x,onFocusout:S,onFocus:w,onKeydown:E,onMousedown:A},{default:()=>[h(t$,{items:i.value,returnObject:e.returnObject},n)]})),{open:v,select:p,focus:P,children:f,parents:m,getPath:_}}}),Ene=Ws("v-list-img"),Cne=te({start:Boolean,end:Boolean,...$e(),...ut()},"VListItemAction"),a$=fe()({name:"VListItemAction",props:Cne(),setup(e,t){let{slots:n}=t;return ve(()=>h(e.tag,{class:["v-list-item-action",{"v-list-item-action--start":e.start,"v-list-item-action--end":e.end},e.class],style:e.style},n)),{}}}),kne=te({start:Boolean,end:Boolean,...$e(),...ut()},"VListItemMedia"),Tne=fe()({name:"VListItemMedia",props:kne(),setup(e,t){let{slots:n}=t;return ve(()=>h(e.tag,{class:["v-list-item-media",{"v-list-item-media--start":e.start,"v-list-item-media--end":e.end},e.class],style:e.style},n)),{}}});function Qy(e,t){return{x:e.x+t.x,y:e.y+t.y}}function Ine(e,t){return{x:e.x-t.x,y:e.y-t.y}}function UP(e,t){if(e.side==="top"||e.side==="bottom"){const{side:n,align:i}=e,r=i==="left"?0:i==="center"?t.width/2:i==="right"?t.width:i,s=n==="top"?0:n==="bottom"?t.height:n;return Qy({x:r,y:s},t)}else if(e.side==="left"||e.side==="right"){const{side:n,align:i}=e,r=n==="left"?0:n==="right"?t.width:n,s=i==="top"?0:i==="center"?t.height/2:i==="bottom"?t.height:i;return Qy({x:r,y:s},t)}return Qy({x:t.width/2,y:t.height/2},t)}const l$={static:xne,connected:Rne},Ane=te({locationStrategy:{type:[String,Function],default:"static",validator:e=>typeof e=="function"||e in l$},location:{type:String,default:"bottom"},origin:{type:String,default:"auto"},offset:[Number,String,Array]},"VOverlay-location-strategies");function Pne(e,t){const n=W({}),i=W();Bt&&Ji(()=>!!(t.isActive.value&&e.locationStrategy),s=>{var o,a;ge(()=>e.locationStrategy,s),ki(()=>{window.removeEventListener("resize",r),i.value=void 0}),window.addEventListener("resize",r,{passive:!0}),typeof e.locationStrategy=="function"?i.value=(o=e.locationStrategy(t,e,n))==null?void 0:o.updateLocation:i.value=(a=l$[e.locationStrategy](t,e,n))==null?void 0:a.updateLocation});function r(s){var o;(o=i.value)==null||o.call(i,s)}return{contentStyles:n,updateLocation:i}}function xne(){}function Dne(e,t){const n=_1(e);return t?n.x+=parseFloat(e.style.right||0):n.x-=parseFloat(e.style.left||0),n.y-=parseFloat(e.style.top||0),n}function Rne(e,t,n){(Array.isArray(e.target.value)||EZ(e.target.value))&&Object.assign(n.value,{position:"fixed",top:0,[e.isRtl.value?"right":"left"]:0});const{preferredAnchor:r,preferredOrigin:s}=g1(()=>{const m=O0(t.location,e.isRtl.value),p=t.origin==="overlap"?m:t.origin==="auto"?Gy(m):O0(t.origin,e.isRtl.value);return m.side===p.side&&m.align===qy(p).align?{preferredAnchor:aP(m),preferredOrigin:aP(p)}:{preferredAnchor:m,preferredOrigin:p}}),[o,a,l,u]=["minWidth","minHeight","maxWidth","maxHeight"].map(m=>I(()=>{const p=parseFloat(t[m]);return isNaN(p)?1/0:p})),d=I(()=>{if(Array.isArray(t.offset))return t.offset;if(typeof t.offset=="string"){const m=t.offset.split(" ").map(parseFloat);return m.length<2&&m.push(0),m}return typeof t.offset=="number"?[t.offset,0]:[0,0]});let c=!1;const f=new ResizeObserver(()=>{c&&v()});ge([e.target,e.contentEl],(m,p)=>{let[_,y]=m,[b,C]=p;b&&!Array.isArray(b)&&f.unobserve(b),_&&!Array.isArray(_)&&f.observe(_),C&&f.unobserve(C),y&&f.observe(y)},{immediate:!0}),ki(()=>{f.disconnect()});function v(){if(c=!1,requestAnimationFrame(()=>c=!0),!e.target.value||!e.contentEl.value)return;const m=NL(e.target.value),p=Dne(e.contentEl.value,e.isRtl.value),_=Lf(e.contentEl.value),y=12;_.length||(_.push(document.documentElement),e.contentEl.value.style.top&&e.contentEl.value.style.left||(p.x-=parseFloat(document.documentElement.style.getPropertyValue("--v-body-scroll-x")||0),p.y-=parseFloat(document.documentElement.style.getPropertyValue("--v-body-scroll-y")||0)));const b=_.reduce((A,P)=>{const D=P.getBoundingClientRect(),B=new yl({x:P===document.documentElement?0:D.x,y:P===document.documentElement?0:D.y,width:P.clientWidth,height:P.clientHeight});return A?new yl({x:Math.max(A.left,B.left),y:Math.max(A.top,B.top),width:Math.min(A.right,B.right)-Math.max(A.left,B.left),height:Math.min(A.bottom,B.bottom)-Math.max(A.top,B.top)}):B},void 0);b.x+=y,b.y+=y,b.width-=y*2,b.height-=y*2;let C={anchor:r.value,origin:s.value};function k(A){const P=new yl(p),D=UP(A.anchor,m),B=UP(A.origin,P);let{x:$,y:j}=Ine(D,B);switch(A.anchor.side){case"top":j-=d.value[0];break;case"bottom":j+=d.value[0];break;case"left":$-=d.value[0];break;case"right":$+=d.value[0];break}switch(A.anchor.align){case"top":j-=d.value[1];break;case"bottom":j+=d.value[1];break;case"left":$-=d.value[1];break;case"right":$+=d.value[1];break}return P.x+=$,P.y+=j,P.width=Math.min(P.width,l.value),P.height=Math.min(P.height,u.value),{overflows:uP(P,b),x:$,y:j}}let R=0,O=0;const x={x:0,y:0},S={x:!1,y:!1};let w=-1;for(;!(w++>10);){const{x:A,y:P,overflows:D}=k(C);R+=A,O+=P,p.x+=A,p.y+=P;{const B=lP(C.anchor),$=D.x.before||D.x.after,j=D.y.before||D.y.after;let Y=!1;if(["x","y"].forEach(H=>{if(H==="x"&&$&&!S.x||H==="y"&&j&&!S.y){const q={anchor:{...C.anchor},origin:{...C.origin}},z=H==="x"?B==="y"?qy:Gy:B==="y"?Gy:qy;q.anchor=z(q.anchor),q.origin=z(q.origin);const{overflows:ne}=k(q);(ne[H].before<=D[H].before&&ne[H].after<=D[H].after||ne[H].before+ne[H].after<(D[H].before+D[H].after)/2)&&(C=q,Y=S[H]=!0)}}),Y)continue}D.x.before&&(R+=D.x.before,p.x+=D.x.before),D.x.after&&(R-=D.x.after,p.x-=D.x.after),D.y.before&&(O+=D.y.before,p.y+=D.y.before),D.y.after&&(O-=D.y.after,p.y-=D.y.after);{const B=uP(p,b);x.x=b.width-B.x.before-B.x.after,x.y=b.height-B.y.before-B.y.after,R+=B.x.before,p.x+=B.x.before,O+=B.y.before,p.y+=B.y.before}break}const E=lP(C.anchor);return Object.assign(n.value,{"--v-overlay-anchor-origin":`${C.anchor.side} ${C.anchor.align}`,transformOrigin:`${C.origin.side} ${C.origin.align}`,top:Oe(Jy(O)),left:e.isRtl.value?void 0:Oe(Jy(R)),right:e.isRtl.value?Oe(Jy(-R)):void 0,minWidth:Oe(E==="y"?Math.min(o.value,m.width):o.value),maxWidth:Oe(jP(Tn(x.x,o.value===1/0?0:o.value,l.value))),maxHeight:Oe(jP(Tn(x.y,a.value===1/0?0:a.value,u.value)))}),{available:x,contentBox:p}}return ge(()=>[r.value,s.value,t.offset,t.minWidth,t.minHeight,t.maxWidth,t.maxHeight],()=>v()),at(()=>{const m=v();if(!m)return;const{available:p,contentBox:_}=m;_.height>p.y&&requestAnimationFrame(()=>{v(),requestAnimationFrame(()=>{v()})})}),{updateLocation:v}}function Jy(e){return Math.round(e*devicePixelRatio)/devicePixelRatio}function jP(e){return Math.ceil(e*devicePixelRatio)/devicePixelRatio}let q0=!0;const pg=[];function One(e){!q0||pg.length?(pg.push(e),Y0()):(q0=!1,e(),Y0())}let HP=-1;function Y0(){cancelAnimationFrame(HP),HP=requestAnimationFrame(()=>{const e=pg.shift();e&&e(),pg.length?Y0():q0=!0})}const mm={none:null,close:Mne,block:Lne,reposition:Fne},Vne=te({scrollStrategy:{type:[String,Function],default:"block",validator:e=>typeof e=="function"||e in mm}},"VOverlay-scroll-strategies");function Nne(e,t){if(!Bt)return;let n;rn(async()=>{n==null||n.stop(),t.isActive.value&&e.scrollStrategy&&(n=ch(),await new Promise(i=>setTimeout(i)),n.active&&n.run(()=>{var i;typeof e.scrollStrategy=="function"?e.scrollStrategy(t,e,n):(i=mm[e.scrollStrategy])==null||i.call(mm,t,e,n)}))}),ki(()=>{n==null||n.stop()})}function Mne(e){function t(n){e.isActive.value=!1}u$(e.targetEl.value??e.contentEl.value,t)}function Lne(e,t){var o;const n=(o=e.root.value)==null?void 0:o.offsetParent,i=[...new Set([...Lf(e.targetEl.value,t.contained?n:void 0),...Lf(e.contentEl.value,t.contained?n:void 0)])].filter(a=>!a.classList.contains("v-overlay-scroll-blocked")),r=window.innerWidth-document.documentElement.offsetWidth,s=(a=>E1(a)&&a)(n||document.documentElement);s&&e.root.value.classList.add("v-overlay--scroll-blocked"),i.forEach((a,l)=>{a.style.setProperty("--v-body-scroll-x",Oe(-a.scrollLeft)),a.style.setProperty("--v-body-scroll-y",Oe(-a.scrollTop)),a!==document.documentElement&&a.style.setProperty("--v-scrollbar-offset",Oe(r)),a.classList.add("v-overlay-scroll-blocked")}),ki(()=>{i.forEach((a,l)=>{const u=parseFloat(a.style.getPropertyValue("--v-body-scroll-x")),d=parseFloat(a.style.getPropertyValue("--v-body-scroll-y")),c=a.style.scrollBehavior;a.style.scrollBehavior="auto",a.style.removeProperty("--v-body-scroll-x"),a.style.removeProperty("--v-body-scroll-y"),a.style.removeProperty("--v-scrollbar-offset"),a.classList.remove("v-overlay-scroll-blocked"),a.scrollLeft=-u,a.scrollTop=-d,a.style.scrollBehavior=c}),s&&e.root.value.classList.remove("v-overlay--scroll-blocked")})}function Fne(e,t,n){let i=!1,r=-1,s=-1;function o(a){One(()=>{var d,c;const l=performance.now();(c=(d=e.updateLocation).value)==null||c.call(d,a),i=(performance.now()-l)/(1e3/60)>2})}s=(typeof requestIdleCallback>"u"?a=>a():requestIdleCallback)(()=>{n.run(()=>{u$(e.targetEl.value??e.contentEl.value,a=>{i?(cancelAnimationFrame(r),r=requestAnimationFrame(()=>{r=requestAnimationFrame(()=>{o(a)})})):o(a)})})}),ki(()=>{typeof cancelIdleCallback<"u"&&cancelIdleCallback(s),cancelAnimationFrame(r)})}function u$(e,t){const n=[document,...Lf(e)];n.forEach(i=>{i.addEventListener("scroll",t,{passive:!0})}),ki(()=>{n.forEach(i=>{i.removeEventListener("scroll",t)})})}const K0=Symbol.for("vuetify:v-menu"),B1=te({closeDelay:[Number,String],openDelay:[Number,String]},"delay");function U1(e,t){let n=()=>{};function i(o){n==null||n();const a=Number(o?e.openDelay:e.closeDelay);return new Promise(l=>{n=WJ(a,()=>{t==null||t(o),l(o)})})}function r(){return i(!0)}function s(){return i(!1)}return{clearDelay:n,runOpenDelay:r,runCloseDelay:s}}const $ne=te({target:[String,Object],activator:[String,Object],activatorProps:{type:Object,default:()=>({})},openOnClick:{type:Boolean,default:void 0},openOnHover:Boolean,openOnFocus:{type:Boolean,default:void 0},closeOnContentClick:Boolean,...B1()},"VOverlay-activator");function Bne(e,t){let{isActive:n,isTop:i,contentEl:r}=t;const s=Rn("useActivator"),o=W();let a=!1,l=!1,u=!0;const d=I(()=>e.openOnFocus||e.openOnFocus==null&&e.openOnHover),c=I(()=>e.openOnClick||e.openOnClick==null&&!e.openOnHover&&!d.value),{runOpenDelay:f,runCloseDelay:v}=U1(e,S=>{S===(e.openOnHover&&a||d.value&&l)&&!(e.openOnHover&&n.value&&!i.value)&&(n.value!==S&&(u=!0),n.value=S)}),m=W(),p={onClick:S=>{S.stopPropagation(),o.value=S.currentTarget||S.target,n.value||(m.value=[S.clientX,S.clientY]),n.value=!n.value},onMouseenter:S=>{var w;(w=S.sourceCapabilities)!=null&&w.firesTouchEvents||(a=!0,o.value=S.currentTarget||S.target,f())},onMouseleave:S=>{a=!1,v()},onFocus:S=>{yc(S.target,":focus-visible")!==!1&&(l=!0,S.stopPropagation(),o.value=S.currentTarget||S.target,f())},onBlur:S=>{l=!1,S.stopPropagation(),v()}},_=I(()=>{const S={};return c.value&&(S.onClick=p.onClick),e.openOnHover&&(S.onMouseenter=p.onMouseenter,S.onMouseleave=p.onMouseleave),d.value&&(S.onFocus=p.onFocus,S.onBlur=p.onBlur),S}),y=I(()=>{const S={};if(e.openOnHover&&(S.onMouseenter=()=>{a=!0,f()},S.onMouseleave=()=>{a=!1,v()}),d.value&&(S.onFocusin=()=>{l=!0,f()},S.onFocusout=()=>{l=!1,v()}),e.closeOnContentClick){const w=ot(K0,null);S.onClick=()=>{n.value=!1,w==null||w.closeParents()}}return S}),b=I(()=>{const S={};return e.openOnHover&&(S.onMouseenter=()=>{u&&(a=!0,u=!1,f())},S.onMouseleave=()=>{a=!1,v()}),S});ge(i,S=>{var w;S&&(e.openOnHover&&!a&&(!d.value||!l)||d.value&&!l&&(!e.openOnHover||!a))&&!((w=r.value)!=null&&w.contains(document.activeElement))&&(n.value=!1)}),ge(n,S=>{S||setTimeout(()=>{m.value=void 0})},{flush:"post"});const C=fg();rn(()=>{C.value&&at(()=>{o.value=C.el})});const k=fg(),R=I(()=>e.target==="cursor"&&m.value?m.value:k.value?k.el:c$(e.target,s)||o.value),O=I(()=>Array.isArray(R.value)?void 0:R.value);let x;return ge(()=>!!e.activator,S=>{S&&Bt?(x=ch(),x.run(()=>{Une(e,s,{activatorEl:o,activatorEvents:_})})):x&&x.stop()},{flush:"post",immediate:!0}),ki(()=>{x==null||x.stop()}),{activatorEl:o,activatorRef:C,target:R,targetEl:O,targetRef:k,activatorEvents:_,contentEvents:y,scrimEvents:b}}function Une(e,t,n){let{activatorEl:i,activatorEvents:r}=n;ge(()=>e.activator,(l,u)=>{if(u&&l!==u){const d=a(u);d&&o(d)}l&&at(()=>s())},{immediate:!0}),ge(()=>e.activatorProps,()=>{s()}),ki(()=>{o()});function s(){let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:a(),u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e.activatorProps;l&&qJ(l,Z(r.value,u))}function o(){let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:a(),u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e.activatorProps;l&&YJ(l,Z(r.value,u))}function a(){let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:e.activator;const u=c$(l,t);return i.value=(u==null?void 0:u.nodeType)===Node.ELEMENT_NODE?u:void 0,i.value}}function c$(e,t){var i,r;if(!e)return;let n;if(e==="parent"){let s=(r=(i=t==null?void 0:t.proxy)==null?void 0:i.$el)==null?void 0:r.parentNode;for(;s!=null&&s.hasAttribute("data-no-activator");)s=s.parentNode;n=s}else typeof e=="string"?n=document.querySelector(e):"$el"in e?n=e.$el:n=e;return n}function d$(){if(!Bt)return ke(!1);const{ssr:e}=xr();if(e){const t=ke(!1);return bt(()=>{t.value=!0}),t}else return ke(!0)}const j1=te({eager:Boolean},"lazy");function H1(e,t){const n=ke(!1),i=I(()=>n.value||e.eager||t.value);ge(t,()=>n.value=!0);function r(){e.eager||(n.value=!1)}return{isBooted:n,hasContent:i,onAfterLeave:r}}function au(){const t=Rn("useScopeId").vnode.scopeId;return{scopeId:t?{[t]:""}:void 0}}const WP=Symbol.for("vuetify:stack"),kd=cn([]);function jne(e,t,n){const i=Rn("useStack"),r=!n,s=ot(WP,void 0),o=cn({activeChildren:new Set});Ut(WP,o);const a=ke(+t.value);Ji(e,()=>{var c;const d=(c=kd.at(-1))==null?void 0:c[1];a.value=d?d+10:+t.value,r&&kd.push([i.uid,a.value]),s==null||s.activeChildren.add(i.uid),ki(()=>{if(r){const f=Ge(kd).findIndex(v=>v[0]===i.uid);kd.splice(f,1)}s==null||s.activeChildren.delete(i.uid)})});const l=ke(!0);r&&rn(()=>{var c;const d=((c=kd.at(-1))==null?void 0:c[0])===i.uid;setTimeout(()=>l.value=d)});const u=I(()=>!o.activeChildren.size);return{globalTop:xc(l),localTop:u,stackStyles:I(()=>({zIndex:a.value}))}}function Hne(e){return{teleportTarget:I(()=>{const n=e();if(n===!0||!Bt)return;const i=n===!1?document.body:typeof n=="string"?document.querySelector(n):n;if(i==null)return;let r=[...i.children].find(s=>s.matches(".v-overlay-container"));return r||(r=document.createElement("div"),r.className="v-overlay-container",i.appendChild(r)),r})}}function Wne(){return!0}function f$(e,t,n){if(!e||h$(e,n)===!1)return!1;const i=YL(t);if(typeof ShadowRoot<"u"&&i instanceof ShadowRoot&&i.host===e.target)return!1;const r=(typeof n.value=="object"&&n.value.include||(()=>[]))();return r.push(t),!r.some(s=>s==null?void 0:s.contains(e.target))}function h$(e,t){return(typeof t.value=="object"&&t.value.closeConditional||Wne)(e)}function zne(e,t,n){const i=typeof n.value=="function"?n.value:n.value.handler;e.shadowTarget=e.target,t._clickOutside.lastMousedownWasOutside&&f$(e,t,n)&&setTimeout(()=>{h$(e,n)&&i&&i(e)},0)}function zP(e,t){const n=YL(e);t(document),typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&t(n)}const v$={mounted(e,t){const n=r=>zne(r,e,t),i=r=>{e._clickOutside.lastMousedownWasOutside=f$(r,e,t)};zP(e,r=>{r.addEventListener("click",n,!0),r.addEventListener("mousedown",i,!0)}),e._clickOutside||(e._clickOutside={lastMousedownWasOutside:!1}),e._clickOutside[t.instance.$.uid]={onClick:n,onMousedown:i}},beforeUnmount(e,t){e._clickOutside&&(zP(e,n=>{var s;if(!n||!((s=e._clickOutside)!=null&&s[t.instance.$.uid]))return;const{onClick:i,onMousedown:r}=e._clickOutside[t.instance.$.uid];n.removeEventListener("click",i,!0),n.removeEventListener("mousedown",r,!0)}),delete e._clickOutside[t.instance.$.uid])}};function Gne(e){const{modelValue:t,color:n,...i}=e;return h(va,{name:"fade-transition",appear:!0},{default:()=>[e.modelValue&&h("div",Z({class:["v-overlay__scrim",e.color.backgroundColorClasses.value],style:e.color.backgroundColorStyles.value},i),null)]})}const Bh=te({absolute:Boolean,attach:[Boolean,String,Object],closeOnBack:{type:Boolean,default:!0},contained:Boolean,contentClass:null,contentProps:null,disabled:Boolean,opacity:[Number,String],noClickAnimation:Boolean,modelValue:Boolean,persistent:Boolean,scrim:{type:[Boolean,String],default:!0},zIndex:{type:[Number,String],default:2e3},...$ne(),...$e(),...qn(),...j1(),...Ane(),...Vne(),...Ct(),...hs()},"VOverlay"),Ls=fe()({name:"VOverlay",directives:{ClickOutside:v$},inheritAttrs:!1,props:{_disableGlobalStack:Boolean,...Bh()},emits:{"click:outside":e=>!0,"update:modelValue":e=>!0,afterEnter:()=>!0,afterLeave:()=>!0},setup(e,t){let{slots:n,attrs:i,emit:r}=t;const s=Rn("VOverlay"),o=W(),a=W(),l=W(),u=je(e,"modelValue"),d=I({get:()=>u.value,set:se=>{se&&e.disabled||(u.value=se)}}),{themeClasses:c}=Ft(e),{rtlClasses:f,isRtl:v}=Jn(),{hasContent:m,onAfterLeave:p}=H1(e,d),_=Gt(I(()=>typeof e.scrim=="string"?e.scrim:null)),{globalTop:y,localTop:b,stackStyles:C}=jne(d,de(e,"zIndex"),e._disableGlobalStack),{activatorEl:k,activatorRef:R,target:O,targetEl:x,targetRef:S,activatorEvents:w,contentEvents:E,scrimEvents:A}=Bne(e,{isActive:d,isTop:b,contentEl:l}),{teleportTarget:P}=Hne(()=>{var ie,Q,ee;const se=e.attach||e.contained;if(se)return se;const G=((ie=k==null?void 0:k.value)==null?void 0:ie.getRootNode())||((ee=(Q=s.proxy)==null?void 0:Q.$el)==null?void 0:ee.getRootNode());return G instanceof ShadowRoot?G:!1}),{dimensionStyles:D}=Yn(e),B=d$(),{scopeId:$}=au();ge(()=>e.disabled,se=>{se&&(d.value=!1)});const{contentStyles:j,updateLocation:Y}=Pne(e,{isRtl:v,contentEl:l,target:O,isActive:d});Nne(e,{root:o,contentEl:l,targetEl:x,isActive:d,updateLocation:Y});function H(se){r("click:outside",se),e.persistent?be():d.value=!1}function q(se){return d.value&&y.value&&(!e.scrim||se.target===a.value||se instanceof MouseEvent&&se.shadowTarget===a.value)}Bt&&ge(d,se=>{se?window.addEventListener("keydown",z):window.removeEventListener("keydown",z)},{immediate:!0}),di(()=>{Bt&&window.removeEventListener("keydown",z)});function z(se){var G,ie;se.key==="Escape"&&y.value&&(e.persistent?be():(d.value=!1,(G=l.value)!=null&&G.contains(document.activeElement)&&((ie=k.value)==null||ie.focus())))}const ne=wF();Ji(()=>e.closeOnBack,()=>{Rte(ne,se=>{y.value&&d.value?(se(!1),e.persistent?be():d.value=!1):se()})});const ue=W();ge(()=>d.value&&(e.absolute||e.contained)&&P.value==null,se=>{if(se){const G=S1(o.value);G&&G!==document.scrollingElement&&(ue.value=G.scrollTop)}});function be(){e.noClickAnimation||l.value&&cl(l.value,[{transformOrigin:"center"},{transform:"scale(1.03)"},{transformOrigin:"center"}],{duration:150,easing:Mf})}function Ae(){r("afterEnter")}function Ne(){p(),r("afterLeave")}return ve(()=>{var se;return h(Te,null,[(se=n.activator)==null?void 0:se.call(n,{isActive:d.value,targetRef:S,props:Z({ref:R},w.value,e.activatorProps)}),B.value&&m.value&&h(pO,{disabled:!P.value,to:P.value},{default:()=>[h("div",Z({class:["v-overlay",{"v-overlay--absolute":e.absolute||e.contained,"v-overlay--active":d.value,"v-overlay--contained":e.contained},c.value,f.value,e.class],style:[C.value,{"--v-overlay-opacity":e.opacity,top:Oe(ue.value)},e.style],ref:o},$,i),[h(Gne,Z({color:_,modelValue:d.value&&!!e.scrim,ref:a},A.value),null),h(Bi,{appear:!0,persisted:!0,transition:e.transition,target:O.value,onAfterEnter:Ae,onAfterLeave:Ne},{default:()=>{var G;return[_n(h("div",Z({ref:l,class:["v-overlay__content",e.contentClass],style:[D.value,j.value]},E.value,e.contentProps),[(G=n.default)==null?void 0:G.call(n,{isActive:d})]),[[fs,d.value],[cr("click-outside"),{handler:H,closeConditional:q,include:()=>[k.value]}]])]}})])]})])}),{activatorEl:k,scrimEl:a,target:O,animateClick:be,contentEl:l,globalTop:y,localTop:b,updateLocation:Y}}}),Zy=Symbol("Forwarded refs");function eb(e,t){let n=e;for(;n;){const i=Reflect.getOwnPropertyDescriptor(n,t);if(i)return i;n=Object.getPrototypeOf(n)}}function Or(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return e[Zy]=n,new Proxy(e,{get(r,s){if(Reflect.has(r,s))return Reflect.get(r,s);if(!(typeof s=="symbol"||s.startsWith("$")||s.startsWith("__"))){for(const o of n)if(o.value&&Reflect.has(o.value,s)){const a=Reflect.get(o.value,s);return typeof a=="function"?a.bind(o.value):a}}},has(r,s){if(Reflect.has(r,s))return!0;if(typeof s=="symbol"||s.startsWith("$")||s.startsWith("__"))return!1;for(const o of n)if(o.value&&Reflect.has(o.value,s))return!0;return!1},set(r,s,o){if(Reflect.has(r,s))return Reflect.set(r,s,o);if(typeof s=="symbol"||s.startsWith("$")||s.startsWith("__"))return!1;for(const a of n)if(a.value&&Reflect.has(a.value,s))return Reflect.set(a.value,s,o);return!1},getOwnPropertyDescriptor(r,s){var a;const o=Reflect.getOwnPropertyDescriptor(r,s);if(o)return o;if(!(typeof s=="symbol"||s.startsWith("$")||s.startsWith("__"))){for(const l of n){if(!l.value)continue;const u=eb(l.value,s)??("_"in l.value?eb((a=l.value._)==null?void 0:a.setupState,s):void 0);if(u)return u}for(const l of n){const u=l.value&&l.value[Zy];if(!u)continue;const d=u.slice();for(;d.length;){const c=d.shift(),f=eb(c.value,s);if(f)return f;const v=c.value&&c.value[Zy];v&&d.push(...v)}}}}})}const m$=te({id:String,submenu:Boolean,...zt(Bh({closeDelay:250,closeOnContentClick:!0,locationStrategy:"connected",location:void 0,openDelay:300,scrim:!1,scrollStrategy:"reposition",transition:{component:s_}}),["absolute"])},"VMenu"),Ll=fe()({name:"VMenu",props:m$(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const i=je(e,"modelValue"),{scopeId:r}=au(),{isRtl:s}=Jn(),o=fi(),a=I(()=>e.id||`v-menu-${o}`),l=W(),u=ot(K0,null),d=ke(new Set);Ut(K0,{register(){d.value.add(o)},unregister(){d.value.delete(o)},closeParents(_){setTimeout(()=>{var y;!d.value.size&&!e.persistent&&(_==null||(y=l.value)!=null&&y.contentEl&&!zJ(_,l.value.contentEl))&&(i.value=!1,u==null||u.closeParents())},40)}}),di(()=>u==null?void 0:u.unregister()),IS(()=>i.value=!1);async function c(_){var C,k,R;const y=_.relatedTarget,b=_.target;await at(),i.value&&y!==b&&((C=l.value)!=null&&C.contentEl)&&((k=l.value)!=null&&k.globalTop)&&![document,l.value.contentEl].includes(b)&&!l.value.contentEl.contains(b)&&((R=Nf(l.value.contentEl)[0])==null||R.focus())}ge(i,_=>{_?(u==null||u.register(),document.addEventListener("focusin",c,{once:!0})):(u==null||u.unregister(),document.removeEventListener("focusin",c))});function f(_){u==null||u.closeParents(_)}function v(_){var y,b,C,k,R;if(!e.disabled)if(_.key==="Tab"||_.key==="Enter"&&!e.closeOnContentClick){if(_.key==="Enter"&&(_.target instanceof HTMLTextAreaElement||_.target instanceof HTMLInputElement&&_.target.closest("form")))return;_.key==="Enter"&&_.preventDefault(),RL(Nf((y=l.value)==null?void 0:y.contentEl,!1),_.shiftKey?"prev":"next",x=>x.tabIndex>=0)||(i.value=!1,(C=(b=l.value)==null?void 0:b.activatorEl)==null||C.focus())}else e.submenu&&_.key===(s.value?"ArrowRight":"ArrowLeft")&&(i.value=!1,(R=(k=l.value)==null?void 0:k.activatorEl)==null||R.focus())}function m(_){var b;if(e.disabled)return;const y=(b=l.value)==null?void 0:b.contentEl;y&&i.value?_.key==="ArrowDown"?(_.preventDefault(),_.stopImmediatePropagation(),_l(y,"next")):_.key==="ArrowUp"?(_.preventDefault(),_.stopImmediatePropagation(),_l(y,"prev")):e.submenu&&(_.key===(s.value?"ArrowRight":"ArrowLeft")?i.value=!1:_.key===(s.value?"ArrowLeft":"ArrowRight")&&(_.preventDefault(),_l(y,"first"))):(e.submenu?_.key===(s.value?"ArrowLeft":"ArrowRight"):["ArrowDown","ArrowUp"].includes(_.key))&&(i.value=!0,_.preventDefault(),setTimeout(()=>setTimeout(()=>m(_))))}const p=I(()=>Z({"aria-haspopup":"menu","aria-expanded":String(i.value),"aria-owns":a.value,onKeydown:m},e.activatorProps));return ve(()=>{const _=Ls.filterProps(e);return h(Ls,Z({ref:l,id:a.value,class:["v-menu",e.class],style:e.style},_,{modelValue:i.value,"onUpdate:modelValue":y=>i.value=y,absolute:!0,activatorProps:p.value,location:e.location??(e.submenu?"end":"bottom"),"onClick:outside":f,onKeydown:v},r),{activator:n.activator,default:function(){for(var y=arguments.length,b=new Array(y),C=0;C<y;C++)b[C]=arguments[C];return h(lt,{root:"VMenu"},{default:()=>{var k;return[(k=n.default)==null?void 0:k.call(n,...b)]}})}})}),Or({id:a,ΨopenChildren:d},l)}}),qne=te({active:Boolean,disabled:Boolean,max:[Number,String],value:{type:[Number,String],default:0},...$e(),...hs({transition:{component:D1}})},"VCounter"),f_=fe()({name:"VCounter",functional:!0,props:qne(),setup(e,t){let{slots:n}=t;const i=I(()=>e.max?`${e.value} / ${e.max}`:String(e.value));return ve(()=>h(Bi,{transition:e.transition},{default:()=>[_n(h("div",{class:["v-counter",{"text-error":e.max&&!e.disabled&&parseFloat(e.value)>parseFloat(e.max)},e.class],style:e.style},[n.default?n.default({counter:i.value,max:e.max,value:e.value}):i.value]),[[fs,e.active]])]})),{}}}),Yne=te({floating:Boolean,...$e()},"VFieldLabel"),Ld=fe()({name:"VFieldLabel",props:Yne(),setup(e,t){let{slots:n}=t;return ve(()=>h(qc,{class:["v-field-label",{"v-field-label--floating":e.floating},e.class],style:e.style,"aria-hidden":e.floating||void 0},n)),{}}}),Kne=["underlined","outlined","filled","solo","solo-inverted","solo-filled","plain"],Uh=te({appendInnerIcon:Ze,bgColor:String,clearable:Boolean,clearIcon:{type:Ze,default:"$clear"},active:Boolean,centerAffix:{type:Boolean,default:void 0},color:String,baseColor:String,dirty:Boolean,disabled:{type:Boolean,default:null},error:Boolean,flat:Boolean,label:String,persistentClear:Boolean,prependInnerIcon:Ze,reverse:Boolean,singleLine:Boolean,variant:{type:String,default:"filled",validator:e=>Kne.includes(e)},"onClick:clear":ii(),"onClick:appendInner":ii(),"onClick:prependInner":ii(),...$e(),...u_(),...bn(),...Ct()},"VField"),Kc=fe()({name:"VField",inheritAttrs:!1,props:{id:String,...Yc(),...Uh()},emits:{"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,t){let{attrs:n,emit:i,slots:r}=t;const{themeClasses:s}=Ft(e),{loaderClasses:o}=Mh(e),{focusClasses:a,isFocused:l,focus:u,blur:d}=Gs(e),{InputIcon:c}=VF(e),{roundedClasses:f}=On(e),{rtlClasses:v}=Jn(),m=I(()=>e.dirty||e.active),p=I(()=>!e.singleLine&&!!(e.label||r.label)),_=fi(),y=I(()=>e.id||`input-${_}`),b=I(()=>`${y.value}-messages`),C=W(),k=W(),R=W(),O=I(()=>["plain","underlined"].includes(e.variant)),{backgroundColorClasses:x,backgroundColorStyles:S}=Gt(de(e,"bgColor")),{textColorClasses:w,textColorStyles:E}=ci(I(()=>e.error||e.disabled?void 0:m.value&&l.value?e.color:e.baseColor));ge(m,B=>{if(p.value){const $=C.value.$el,j=k.value.$el;requestAnimationFrame(()=>{const Y=_1($),H=j.getBoundingClientRect(),q=H.x-Y.x,z=H.y-Y.y-(Y.height/2-H.height/2),ne=H.width/.75,ue=Math.abs(ne-Y.width)>1?{maxWidth:Oe(ne)}:void 0,be=getComputedStyle($),Ae=getComputedStyle(j),Ne=parseFloat(be.transitionDuration)*1e3||150,se=parseFloat(Ae.getPropertyValue("--v-field-label-scale")),G=Ae.getPropertyValue("color");$.style.visibility="visible",j.style.visibility="hidden",cl($,{transform:`translate(${q}px, ${z}px) scale(${se})`,color:G,...ue},{duration:Ne,easing:Mf,direction:B?"normal":"reverse"}).finished.then(()=>{$.style.removeProperty("visibility"),j.style.removeProperty("visibility")})})}},{flush:"post"});const A=I(()=>({isActive:m,isFocused:l,controlRef:R,blur:d,focus:u}));function P(B){B.target!==document.activeElement&&B.preventDefault()}function D(B){var $;B.key!=="Enter"&&B.key!==" "||(B.preventDefault(),B.stopPropagation(),($=e["onClick:clear"])==null||$.call(e,new MouseEvent("click")))}return ve(()=>{var q,z,ne;const B=e.variant==="outlined",$=!!(r["prepend-inner"]||e.prependInnerIcon),j=!!(e.clearable||r.clear),Y=!!(r["append-inner"]||e.appendInnerIcon||j),H=()=>r.label?r.label({...A.value,label:e.label,props:{for:y.value}}):e.label;return h("div",Z({class:["v-field",{"v-field--active":m.value,"v-field--appended":Y,"v-field--center-affix":e.centerAffix??!O.value,"v-field--disabled":e.disabled,"v-field--dirty":e.dirty,"v-field--error":e.error,"v-field--flat":e.flat,"v-field--has-background":!!e.bgColor,"v-field--persistent-clear":e.persistentClear,"v-field--prepended":$,"v-field--reverse":e.reverse,"v-field--single-line":e.singleLine,"v-field--no-label":!H(),[`v-field--variant-${e.variant}`]:!0},s.value,x.value,a.value,o.value,f.value,v.value,e.class],style:[S.value,e.style],onClick:P},n),[h("div",{class:"v-field__overlay"},null),h(Lh,{name:"v-field",active:!!e.loading,color:e.error?"error":typeof e.loading=="string"?e.loading:e.color},{default:r.loader}),$&&h("div",{key:"prepend",class:"v-field__prepend-inner"},[e.prependInnerIcon&&h(c,{key:"prepend-icon",name:"prependInner"},null),(q=r["prepend-inner"])==null?void 0:q.call(r,A.value)]),h("div",{class:"v-field__field","data-no-activator":""},[["filled","solo","solo-inverted","solo-filled"].includes(e.variant)&&p.value&&h(Ld,{key:"floating-label",ref:k,class:[w.value],floating:!0,for:y.value,style:E.value},{default:()=>[H()]}),h(Ld,{ref:C,for:y.value},{default:()=>[H()]}),(z=r.default)==null?void 0:z.call(r,{...A.value,props:{id:y.value,class:"v-field__input","aria-describedby":b.value},focus:u,blur:d})]),j&&h(R1,{key:"clear"},{default:()=>[_n(h("div",{class:"v-field__clearable",onMousedown:ue=>{ue.preventDefault(),ue.stopPropagation()}},[h(lt,{defaults:{VIcon:{icon:e.clearIcon}}},{default:()=>[r.clear?r.clear({...A.value,props:{onKeydown:D,onFocus:u,onBlur:d,onClick:e["onClick:clear"]}}):h(c,{name:"clear",onKeydown:D,onFocus:u,onBlur:d},null)]})]),[[fs,e.dirty]])]}),Y&&h("div",{key:"append",class:"v-field__append-inner"},[(ne=r["append-inner"])==null?void 0:ne.call(r,A.value),e.appendInnerIcon&&h(c,{key:"append-icon",name:"appendInner"},null)]),h("div",{class:["v-field__outline",w.value],style:E.value},[B&&h(Te,null,[h("div",{class:"v-field__outline__start"},null),p.value&&h("div",{class:"v-field__outline__notch"},[h(Ld,{ref:k,floating:!0,for:y.value},{default:()=>[H()]})]),h("div",{class:"v-field__outline__end"},null)]),O.value&&p.value&&h(Ld,{ref:k,floating:!0,for:y.value},{default:()=>[H()]})])])}),{controlRef:R}}});function W1(e){const t=Object.keys(Kc.props).filter(n=>!Zp(n)&&n!=="class"&&n!=="style");return m1(e,t)}const Xne=["color","file","time","date","datetime-local","week","month"],Xc=te({autofocus:Boolean,counter:[Boolean,Number,String],counterValue:[Number,Function],prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,suffix:String,role:String,type:{type:String,default:"text"},modelModifiers:Object,...No(),...Uh()},"VTextField"),ds=fe()({name:"VTextField",directives:{Intersect:Nh},inheritAttrs:!1,props:Xc(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,t){let{attrs:n,emit:i,slots:r}=t;const s=je(e,"modelValue"),{isFocused:o,focus:a,blur:l}=Gs(e),u=I(()=>typeof e.counterValue=="function"?e.counterValue(s.value):typeof e.counterValue=="number"?e.counterValue:(s.value??"").toString().length),d=I(()=>{if(n.maxlength)return n.maxlength;if(!(!e.counter||typeof e.counter!="number"&&typeof e.counter!="string"))return e.counter}),c=I(()=>["plain","underlined"].includes(e.variant));function f(O,x){var S,w;!e.autofocus||!O||(w=(S=x[0].target)==null?void 0:S.focus)==null||w.call(S)}const v=W(),m=W(),p=W(),_=I(()=>Xne.includes(e.type)||e.persistentPlaceholder||o.value||e.active);function y(){var O;p.value!==document.activeElement&&((O=p.value)==null||O.focus()),o.value||a()}function b(O){i("mousedown:control",O),O.target!==p.value&&(y(),O.preventDefault())}function C(O){y(),i("click:control",O)}function k(O){O.stopPropagation(),y(),at(()=>{s.value=null,p1(e["onClick:clear"],O)})}function R(O){var S;const x=O.target;if(s.value=x.value,(S=e.modelModifiers)!=null&&S.trim&&["text","search","password","tel","url"].includes(e.type)){const w=[x.selectionStart,x.selectionEnd];at(()=>{x.selectionStart=w[0],x.selectionEnd=w[1]})}}return ve(()=>{const O=!!(r.counter||e.counter!==!1&&e.counter!=null),x=!!(O||r.details),[S,w]=Na(n),{modelValue:E,...A}=Ci.filterProps(e),P=W1(e);return h(Ci,Z({ref:v,modelValue:s.value,"onUpdate:modelValue":D=>s.value=D,class:["v-text-field",{"v-text-field--prefixed":e.prefix,"v-text-field--suffixed":e.suffix,"v-input--plain-underlined":c.value},e.class],style:e.style},S,A,{centerAffix:!c.value,focused:o.value}),{...r,default:D=>{let{id:B,isDisabled:$,isDirty:j,isReadonly:Y,isValid:H}=D;return h(Kc,Z({ref:m,onMousedown:b,onClick:C,"onClick:clear":k,"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"],role:e.role},P,{id:B.value,active:_.value||j.value,dirty:j.value||e.dirty,disabled:$.value,focused:o.value,error:H.value===!1}),{...r,default:q=>{let{props:{class:z,...ne}}=q;const ue=_n(h("input",Z({ref:p,value:s.value,onInput:R,autofocus:e.autofocus,readonly:Y.value,disabled:$.value,name:e.name,placeholder:e.placeholder,size:1,type:e.type,onFocus:y,onBlur:l},ne,w),null),[[cr("intersect"),{handler:f},null,{once:!0}]]);return h(Te,null,[e.prefix&&h("span",{class:"v-text-field__prefix"},[h("span",{class:"v-text-field__prefix__text"},[e.prefix])]),r.default?h("div",{class:z,"data-no-activator":""},[r.default(),ue]):Ds(ue,{class:z}),e.suffix&&h("span",{class:"v-text-field__suffix"},[h("span",{class:"v-text-field__suffix__text"},[e.suffix])])])}})},details:x?D=>{var B;return h(Te,null,[(B=r.details)==null?void 0:B.call(r,D),O&&h(Te,null,[h("span",null,null),h(f_,{active:e.persistentCounter||o.value,value:u.value,max:d.value,disabled:e.disabled},r.counter)])])}:void 0})}),Or({},v,m,p)}}),Qne=te({renderless:Boolean,...$e()},"VVirtualScrollItem"),g$=fe()({name:"VVirtualScrollItem",inheritAttrs:!1,props:Qne(),emits:{"update:height":e=>!0},setup(e,t){let{attrs:n,emit:i,slots:r}=t;const{resizeRef:s,contentRect:o}=us(void 0,"border");ge(()=>{var a;return(a=o.value)==null?void 0:a.height},a=>{a!=null&&i("update:height",a)}),ve(()=>{var a,l;return e.renderless?h(Te,null,[(a=r.default)==null?void 0:a.call(r,{itemRef:s})]):h("div",Z({ref:s,class:["v-virtual-scroll__item",e.class],style:e.style},n),[(l=r.default)==null?void 0:l.call(r)])})}}),Jne=-1,Zne=1,tb=100,p$=te({itemHeight:{type:[Number,String],default:null},height:[Number,String]},"virtual");function _$(e,t){const n=xr(),i=ke(0);rn(()=>{i.value=parseFloat(e.itemHeight||0)});const r=ke(0),s=ke(Math.ceil((parseInt(e.height)||n.height.value)/(i.value||16))||1),o=ke(0),a=ke(0),l=W(),u=W();let d=0;const{resizeRef:c,contentRect:f}=us();rn(()=>{c.value=l.value});const v=I(()=>{var q;return l.value===document.documentElement?n.height.value:((q=f.value)==null?void 0:q.height)||parseInt(e.height)||0}),m=I(()=>!!(l.value&&u.value&&v.value&&i.value));let p=Array.from({length:t.value.length}),_=Array.from({length:t.value.length});const y=ke(0);let b=-1;function C(q){return p[q]||i.value}const k=$J(()=>{const q=performance.now();_[0]=0;const z=t.value.length;for(let ne=1;ne<=z-1;ne++)_[ne]=(_[ne-1]||0)+C(ne-1);y.value=Math.max(y.value,performance.now()-q)},y),R=ge(m,q=>{q&&(R(),d=u.value.offsetTop,k.immediate(),$(),~b&&at(()=>{Bt&&window.requestAnimationFrame(()=>{Y(b),b=-1})}))});ki(()=>{k.clear()});function O(q,z){const ne=p[q],ue=i.value;i.value=ue?Math.min(i.value,z):z,(ne!==z||ue!==i.value)&&(p[q]=z,k())}function x(q){return q=Tn(q,0,t.value.length-1),_[q]||0}function S(q){return eie(_,q)}let w=0,E=0,A=0;ge(v,(q,z)=>{z&&($(),q<z&&requestAnimationFrame(()=>{E=0,$()}))});function P(){if(!l.value||!u.value)return;const q=l.value.scrollTop,z=performance.now();z-A>500?(E=Math.sign(q-w),d=u.value.offsetTop):E=q-w,w=q,A=z,$()}function D(){!l.value||!u.value||(E=0,A=0,$())}let B=-1;function $(){cancelAnimationFrame(B),B=requestAnimationFrame(j)}function j(){if(!l.value||!v.value)return;const q=w-d,z=Math.sign(E),ne=Math.max(0,q-tb),ue=Tn(S(ne),0,t.value.length),be=q+v.value+tb,Ae=Tn(S(be)+1,ue+1,t.value.length);if((z!==Jne||ue<r.value)&&(z!==Zne||Ae>s.value)){const Ne=x(r.value)-x(ue),se=x(Ae)-x(s.value);Math.max(Ne,se)>tb?(r.value=ue,s.value=Ae):(ue<=0&&(r.value=ue),Ae>=t.value.length&&(s.value=Ae))}o.value=x(r.value),a.value=x(t.value.length)-x(s.value)}function Y(q){const z=x(q);!l.value||q&&!z?b=q:l.value.scrollTop=z}const H=I(()=>t.value.slice(r.value,s.value).map((q,z)=>({raw:q,index:z+r.value})));return ge(t,()=>{p=Array.from({length:t.value.length}),_=Array.from({length:t.value.length}),k.immediate(),$()},{deep:!0}),{calculateVisibleItems:$,containerRef:l,markerRef:u,computedItems:H,paddingTop:o,paddingBottom:a,scrollToIndex:Y,handleScroll:P,handleScrollend:D,handleItemResize:O}}function eie(e,t){let n=e.length-1,i=0,r=0,s=null,o=-1;if(e[n]<t)return n;for(;i<=n;)if(r=i+n>>1,s=e[r],s>t)n=r-1;else if(s<t)o=r,i=r+1;else return s===t?r:i;return o}const tie=te({items:{type:Array,default:()=>[]},renderless:Boolean,...p$(),...$e(),...qn()},"VVirtualScroll"),h_=fe()({name:"VVirtualScroll",props:tie(),setup(e,t){let{slots:n}=t;const i=Rn("VVirtualScroll"),{dimensionStyles:r}=Yn(e),{calculateVisibleItems:s,containerRef:o,markerRef:a,handleScroll:l,handleScrollend:u,handleItemResize:d,scrollToIndex:c,paddingTop:f,paddingBottom:v,computedItems:m}=_$(e,de(e,"items"));return Ji(()=>e.renderless,()=>{function p(){var b,C;const y=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)?"addEventListener":"removeEventListener";o.value===document.documentElement?(document[y]("scroll",l,{passive:!0}),document[y]("scrollend",u)):((b=o.value)==null||b[y]("scroll",l,{passive:!0}),(C=o.value)==null||C[y]("scrollend",u))}bt(()=>{o.value=S1(i.vnode.el,!0),p(!0)}),ki(p)}),ve(()=>{const p=m.value.map(_=>h(g$,{key:_.index,renderless:e.renderless,"onUpdate:height":y=>d(_.index,y)},{default:y=>{var b;return(b=n.default)==null?void 0:b.call(n,{item:_.raw,index:_.index,...y})}}));return e.renderless?h(Te,null,[h("div",{ref:a,class:"v-virtual-scroll__spacer",style:{paddingTop:Oe(f.value)}},null),p,h("div",{class:"v-virtual-scroll__spacer",style:{paddingBottom:Oe(v.value)}},null)]):h("div",{ref:o,class:["v-virtual-scroll",e.class],onScrollPassive:l,onScrollend:u,style:[r.value,e.style]},[h("div",{ref:a,class:"v-virtual-scroll__container",style:{paddingTop:Oe(f.value),paddingBottom:Oe(v.value)}},[p])])}),{calculateVisibleItems:s,scrollToIndex:c}}});function z1(e,t){const n=ke(!1);let i;function r(a){cancelAnimationFrame(i),n.value=!0,i=requestAnimationFrame(()=>{i=requestAnimationFrame(()=>{n.value=!1})})}async function s(){await new Promise(a=>requestAnimationFrame(a)),await new Promise(a=>requestAnimationFrame(a)),await new Promise(a=>requestAnimationFrame(a)),await new Promise(a=>{if(n.value){const l=ge(n,()=>{l(),a()})}else a()})}async function o(a){var d,c;if(a.key==="Tab"&&((d=t.value)==null||d.focus()),!["PageDown","PageUp","Home","End"].includes(a.key))return;const l=(c=e.value)==null?void 0:c.$el;if(!l)return;(a.key==="Home"||a.key==="End")&&l.scrollTo({top:a.key==="Home"?0:l.scrollHeight,behavior:"smooth"}),await s();const u=l.querySelectorAll(":scope > :not(.v-virtual-scroll__spacer)");if(a.key==="PageDown"||a.key==="Home"){const f=l.getBoundingClientRect().top;for(const v of u)if(v.getBoundingClientRect().top>=f){v.focus();break}}else{const f=l.getBoundingClientRect().bottom;for(const v of[...u].reverse())if(v.getBoundingClientRect().bottom<=f){v.focus();break}}}return{onScrollPassive:r,onKeydown:o}}const G1=te({chips:Boolean,closableChips:Boolean,closeText:{type:String,default:"$vuetify.close"},openText:{type:String,default:"$vuetify.open"},eager:Boolean,hideNoData:Boolean,hideSelected:Boolean,listProps:{type:Object},menu:Boolean,menuIcon:{type:Ze,default:"$dropdown"},menuProps:{type:Object},multiple:Boolean,noDataText:{type:String,default:"$vuetify.noDataText"},openOnClear:Boolean,itemColor:String,...n$({itemChildren:!1})},"Select"),nie=te({...G1(),...zt(Xc({modelValue:null,role:"combobox"}),["validationValue","dirty","appendInnerIcon"]),...hs({transition:{component:s_}})},"VSelect"),q1=fe()({name:"VSelect",props:nie(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,"update:menu":e=>!0},setup(e,t){let{slots:n}=t;const{t:i}=sn(),r=W(),s=W(),o=W(),a=je(e,"menu"),l=I({get:()=>a.value,set:q=>{var z;a.value&&!q&&((z=s.value)!=null&&z.ΨopenChildren.size)||(a.value=q)}}),{items:u,transformIn:d,transformOut:c}=$1(e),f=je(e,"modelValue",[],q=>d(q===null?[null]:mn(q)),q=>{const z=c(q);return e.multiple?z:z[0]??null}),v=I(()=>typeof e.counterValue=="function"?e.counterValue(f.value):typeof e.counterValue=="number"?e.counterValue:f.value.length),m=$h(),p=I(()=>f.value.map(q=>q.value)),_=ke(!1),y=I(()=>l.value?e.closeText:e.openText);let b="",C;const k=I(()=>e.hideSelected?u.value.filter(q=>!f.value.some(z=>e.valueComparator(z,q))):u.value),R=I(()=>e.hideNoData&&!k.value.length||e.readonly||(m==null?void 0:m.isReadonly.value)),O=I(()=>{var q;return{...e.menuProps,activatorProps:{...((q=e.menuProps)==null?void 0:q.activatorProps)||{},"aria-haspopup":"listbox"}}}),x=W(),S=z1(x,r);function w(q){e.openOnClear&&(l.value=!0)}function E(){R.value||(l.value=!l.value)}function A(q){hg(q)&&P(q)}function P(q){var be,Ae;if(!q.key||e.readonly||m!=null&&m.isReadonly.value)return;["Enter"," ","ArrowDown","ArrowUp","Home","End"].includes(q.key)&&q.preventDefault(),["Enter","ArrowDown"," "].includes(q.key)&&(l.value=!0),["Escape","Tab"].includes(q.key)&&(l.value=!1),q.key==="Home"?(be=x.value)==null||be.focus("first"):q.key==="End"&&((Ae=x.value)==null||Ae.focus("last"));const z=1e3;if(e.multiple||!hg(q))return;const ne=performance.now();ne-C>z&&(b=""),b+=q.key.toLowerCase(),C=ne;const ue=u.value.find(Ne=>Ne.title.toLowerCase().startsWith(b));if(ue!==void 0){f.value=[ue];const Ne=k.value.indexOf(ue);Bt&&window.requestAnimationFrame(()=>{var se;Ne>=0&&((se=o.value)==null||se.scrollToIndex(Ne))})}}function D(q){let z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!q.props.disabled)if(e.multiple){const ne=f.value.findIndex(be=>e.valueComparator(be.value,q.value)),ue=z??!~ne;if(~ne){const be=ue?[...f.value,q]:[...f.value];be.splice(ne,1),f.value=be}else ue&&(f.value=[...f.value,q])}else{const ne=z!==!1;f.value=ne?[q]:[],at(()=>{l.value=!1})}}function B(q){var z;(z=x.value)!=null&&z.$el.contains(q.relatedTarget)||(l.value=!1)}function $(){var q;e.eager&&((q=o.value)==null||q.calculateVisibleItems())}function j(){var q;_.value&&((q=r.value)==null||q.focus())}function Y(q){_.value=!0}function H(q){if(q==null)f.value=[];else if(yc(r.value,":autofill")||yc(r.value,":-webkit-autofill")){const z=u.value.find(ne=>ne.title===q);z&&D(z)}else r.value&&(r.value.value="")}return ge(l,()=>{if(!e.hideSelected&&l.value&&f.value.length){const q=k.value.findIndex(z=>f.value.some(ne=>e.valueComparator(ne.value,z.value)));Bt&&window.requestAnimationFrame(()=>{var z;q>=0&&((z=o.value)==null||z.scrollToIndex(q))})}}),ge(()=>e.items,(q,z)=>{l.value||_.value&&!z.length&&q.length&&(l.value=!0)}),ve(()=>{const q=!!(e.chips||n.chip),z=!!(!e.hideNoData||k.value.length||n["prepend-item"]||n["append-item"]||n["no-data"]),ne=f.value.length>0,ue=ds.filterProps(e),be=ne||!_.value&&e.label&&!e.persistentPlaceholder?void 0:e.placeholder;return h(ds,Z({ref:r},ue,{modelValue:f.value.map(Ae=>Ae.props.value).join(", "),"onUpdate:modelValue":H,focused:_.value,"onUpdate:focused":Ae=>_.value=Ae,validationValue:f.externalValue,counterValue:v.value,dirty:ne,class:["v-select",{"v-select--active-menu":l.value,"v-select--chips":!!e.chips,[`v-select--${e.multiple?"multiple":"single"}`]:!0,"v-select--selected":f.value.length,"v-select--selection-slot":!!n.selection},e.class],style:e.style,inputmode:"none",placeholder:be,"onClick:clear":w,"onMousedown:control":E,onBlur:B,onKeydown:P,"aria-label":i(y.value),title:i(y.value)}),{...n,default:()=>h(Te,null,[h(Ll,Z({ref:s,modelValue:l.value,"onUpdate:modelValue":Ae=>l.value=Ae,activator:"parent",contentClass:"v-select__content",disabled:R.value,eager:e.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:e.transition,onAfterEnter:$,onAfterLeave:j},O.value),{default:()=>[z&&h(Sc,Z({ref:x,selected:p.value,selectStrategy:e.multiple?"independent":"single-independent",onMousedown:Ae=>Ae.preventDefault(),onKeydown:A,onFocusin:Y,tabindex:"-1","aria-live":"polite",color:e.itemColor??e.color},S,e.listProps),{default:()=>{var Ae,Ne,se;return[(Ae=n["prepend-item"])==null?void 0:Ae.call(n),!k.value.length&&!e.hideNoData&&(((Ne=n["no-data"])==null?void 0:Ne.call(n))??h(cs,{title:i(e.noDataText)},null)),h(h_,{ref:o,renderless:!0,items:k.value},{default:G=>{var _e;let{item:ie,index:Q,itemRef:ee}=G;const X=Z(ie.props,{ref:ee,key:Q,onClick:()=>D(ie,null)});return((_e=n.item)==null?void 0:_e.call(n,{item:ie,index:Q,props:X}))??h(cs,Z(X,{role:"option"}),{prepend:M=>{let{isSelected:L}=M;return h(Te,null,[e.multiple&&!e.hideSelected?h(Ms,{key:ie.value,modelValue:L,ripple:!1,tabindex:"-1"},null):void 0,ie.props.prependAvatar&&h(kr,{image:ie.props.prependAvatar},null),ie.props.prependIcon&&h(Dt,{icon:ie.props.prependIcon},null)])}})}}),(se=n["append-item"])==null?void 0:se.call(n)]}})]}),f.value.map((Ae,Ne)=>{function se(ee){ee.stopPropagation(),ee.preventDefault(),D(Ae,!1)}const G={"onClick:close":se,onKeydown(ee){ee.key!=="Enter"&&ee.key!==" "||(ee.preventDefault(),ee.stopPropagation(),se(ee))},onMousedown(ee){ee.preventDefault(),ee.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0},ie=q?!!n.chip:!!n.selection,Q=ie?e_(q?n.chip({item:Ae,index:Ne,props:G}):n.selection({item:Ae,index:Ne})):void 0;if(!(ie&&!Q))return h("div",{key:Ae.value,class:"v-select__selection"},[q?n.chip?h(lt,{key:"chip-defaults",defaults:{VChip:{closable:e.closableChips,size:"small",text:Ae.title}}},{default:()=>[Q]}):h(ou,Z({key:"chip",closable:e.closableChips,size:"small",text:Ae.title,disabled:Ae.props.disabled},G),null):Q??h("span",{class:"v-select__selection-text"},[Ae.title,e.multiple&&Ne<f.value.length-1&&h("span",{class:"v-select__selection-comma"},[Ie(",")])])])})]),"append-inner":function(){var G;for(var Ae=arguments.length,Ne=new Array(Ae),se=0;se<Ae;se++)Ne[se]=arguments[se];return h(Te,null,[(G=n["append-inner"])==null?void 0:G.call(n,...Ne),e.menuIcon?h(Dt,{class:"v-select__menu-icon",icon:e.menuIcon},null):void 0])}})}),Or({isFocused:_,menu:l,select:D},r)}}),iie=(e,t,n)=>e==null||t==null?-1:e.toString().toLocaleLowerCase().indexOf(t.toString().toLocaleLowerCase()),Qc=te({customFilter:Function,customKeyFilter:Object,filterKeys:[Array,String],filterMode:{type:String,default:"intersection"},noFilter:Boolean},"filter");function rie(e,t,n){var a;const i=[],r=(n==null?void 0:n.default)??iie,s=n!=null&&n.filterKeys?mn(n.filterKeys):!1,o=Object.keys((n==null?void 0:n.customKeyFilter)??{}).length;if(!(e!=null&&e.length))return i;e:for(let l=0;l<e.length;l++){const[u,d=u]=mn(e[l]),c={},f={};let v=-1;if((t||o>0)&&!(n!=null&&n.noFilter)){if(typeof u=="object"){const _=s||Object.keys(d);for(const y of _){const b=jn(d,y),C=(a=n==null?void 0:n.customKeyFilter)==null?void 0:a[y];if(v=C?C(b,t,u):r(b,t,u),v!==-1&&v!==!1)C?c[y]=v:f[y]=v;else if((n==null?void 0:n.filterMode)==="every")continue e}}else v=r(u,t,u),v!==-1&&v!==!1&&(f.title=v);const m=Object.keys(f).length,p=Object.keys(c).length;if(!m&&!p||(n==null?void 0:n.filterMode)==="union"&&p!==o&&!m||(n==null?void 0:n.filterMode)==="intersection"&&(p!==o||!m))continue}i.push({index:l,matches:{...f,...c}})}return i}function Jc(e,t,n,i){const r=W([]),s=W(new Map),o=I(()=>i!=null&&i.transform?oe(t).map(l=>[l,i.transform(l)]):oe(t));rn(()=>{const l=typeof n=="function"?n():oe(n),u=typeof l!="string"&&typeof l!="number"?"":String(l),d=rie(o.value,u,{customKeyFilter:{...e.customKeyFilter,...oe(i==null?void 0:i.customKeyFilter)},default:e.customFilter,filterKeys:e.filterKeys,filterMode:e.filterMode,noFilter:e.noFilter}),c=oe(t),f=[],v=new Map;d.forEach(m=>{let{index:p,matches:_}=m;const y=c[p];f.push(y),v.set(y.value,_)}),r.value=f,s.value=v});function a(l){return s.value.get(l.value)}return{filteredItems:r,filteredMatches:s,getMatches:a}}function sie(e,t,n){if(t==null)return e;if(Array.isArray(t))throw new Error("Multiple matches is not implemented");return typeof t=="number"&&~t?h(Te,null,[h("span",{class:"v-autocomplete__unmask"},[e.substr(0,t)]),h("span",{class:"v-autocomplete__mask"},[e.substr(t,n)]),h("span",{class:"v-autocomplete__unmask"},[e.substr(t+n)])]):e}const oie=te({autoSelectFirst:{type:[Boolean,String]},clearOnSelect:Boolean,search:String,...Qc({filterKeys:["title"]}),...G1(),...zt(Xc({modelValue:null,role:"combobox"}),["validationValue","dirty","appendInnerIcon"]),...hs({transition:!1})},"VAutocomplete"),aie=fe()({name:"VAutocomplete",props:oie(),emits:{"update:focused":e=>!0,"update:search":e=>!0,"update:modelValue":e=>!0,"update:menu":e=>!0},setup(e,t){let{slots:n}=t;const{t:i}=sn(),r=W(),s=ke(!1),o=ke(!0),a=ke(!1),l=W(),u=W(),d=je(e,"menu"),c=I({get:()=>d.value,set:X=>{var _e;d.value&&!X&&((_e=l.value)!=null&&_e.ΨopenChildren.size)||(d.value=X)}}),f=ke(-1),v=I(()=>{var X;return(X=r.value)==null?void 0:X.color}),m=I(()=>c.value?e.closeText:e.openText),{items:p,transformIn:_,transformOut:y}=$1(e),{textColorClasses:b,textColorStyles:C}=ci(v),k=je(e,"search",""),R=je(e,"modelValue",[],X=>_(X===null?[null]:mn(X)),X=>{const _e=y(X);return e.multiple?_e:_e[0]??null}),O=I(()=>typeof e.counterValue=="function"?e.counterValue(R.value):typeof e.counterValue=="number"?e.counterValue:R.value.length),x=$h(),{filteredItems:S,getMatches:w}=Jc(e,p,()=>o.value?"":k.value),E=I(()=>e.hideSelected?S.value.filter(X=>!R.value.some(_e=>_e.value===X.value)):S.value),A=I(()=>!!(e.chips||n.chip)),P=I(()=>A.value||!!n.selection),D=I(()=>R.value.map(X=>X.props.value)),B=I(()=>{var _e;return(e.autoSelectFirst===!0||e.autoSelectFirst==="exact"&&k.value===((_e=E.value[0])==null?void 0:_e.title))&&E.value.length>0&&!o.value&&!a.value}),$=I(()=>e.hideNoData&&!E.value.length||e.readonly||(x==null?void 0:x.isReadonly.value)),j=W(),Y=z1(j,r);function H(X){e.openOnClear&&(c.value=!0),k.value=""}function q(){$.value||(c.value=!0)}function z(X){$.value||(s.value&&(X.preventDefault(),X.stopPropagation()),c.value=!c.value)}function ne(X){var _e;hg(X)&&((_e=r.value)==null||_e.focus())}function ue(X){var L,J,ce;if(e.readonly||x!=null&&x.isReadonly.value)return;const _e=r.value.selectionStart,M=R.value.length;if((f.value>-1||["Enter","ArrowDown","ArrowUp"].includes(X.key))&&X.preventDefault(),["Enter","ArrowDown"].includes(X.key)&&(c.value=!0),["Escape"].includes(X.key)&&(c.value=!1),B.value&&["Enter","Tab"].includes(X.key)&&!R.value.some(ae=>{let{value:me}=ae;return me===E.value[0].value})&&ee(E.value[0]),X.key==="ArrowDown"&&B.value&&((L=j.value)==null||L.focus("next")),["Backspace","Delete"].includes(X.key)){if(!e.multiple&&P.value&&R.value.length>0&&!k.value)return ee(R.value[0],!1);if(~f.value){const ae=f.value;ee(R.value[f.value],!1),f.value=ae>=M-1?M-2:ae}else X.key==="Backspace"&&!k.value&&(f.value=M-1)}if(e.multiple){if(X.key==="ArrowLeft"){if(f.value<0&&_e>0)return;const ae=f.value>-1?f.value-1:M-1;R.value[ae]?f.value=ae:(f.value=-1,r.value.setSelectionRange((J=k.value)==null?void 0:J.length,(ce=k.value)==null?void 0:ce.length))}if(X.key==="ArrowRight"){if(f.value<0)return;const ae=f.value+1;R.value[ae]?f.value=ae:(f.value=-1,r.value.setSelectionRange(0,0))}}}function be(X){if(yc(r.value,":autofill")||yc(r.value,":-webkit-autofill")){const _e=p.value.find(M=>M.title===X.target.value);_e&&ee(_e)}}function Ae(){var X;e.eager&&((X=u.value)==null||X.calculateVisibleItems())}function Ne(){var X;s.value&&(o.value=!0,(X=r.value)==null||X.focus())}function se(X){s.value=!0,setTimeout(()=>{a.value=!0})}function G(X){a.value=!1}function ie(X){(X==null||X===""&&!e.multiple&&!P.value)&&(R.value=[])}const Q=ke(!1);function ee(X){let _e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!(!X||X.props.disabled))if(e.multiple){const M=R.value.findIndex(J=>e.valueComparator(J.value,X.value)),L=_e??!~M;if(~M){const J=L?[...R.value,X]:[...R.value];J.splice(M,1),R.value=J}else L&&(R.value=[...R.value,X]);e.clearOnSelect&&(k.value="")}else{const M=_e!==!1;R.value=M?[X]:[],k.value=M&&!P.value?X.title:"",at(()=>{c.value=!1,o.value=!0})}}return ge(s,(X,_e)=>{var M;X!==_e&&(X?(Q.value=!0,k.value=e.multiple||P.value?"":String(((M=R.value.at(-1))==null?void 0:M.props.title)??""),o.value=!0,at(()=>Q.value=!1)):(!e.multiple&&k.value==null&&(R.value=[]),c.value=!1,R.value.some(L=>{let{title:J}=L;return J===k.value})||(k.value=""),f.value=-1))}),ge(k,X=>{!s.value||Q.value||(X&&(c.value=!0),o.value=!X)}),ge(c,()=>{if(!e.hideSelected&&c.value&&R.value.length){const X=E.value.findIndex(_e=>R.value.some(M=>_e.value===M.value));Bt&&window.requestAnimationFrame(()=>{var _e;X>=0&&((_e=u.value)==null||_e.scrollToIndex(X))})}}),ge(()=>e.items,(X,_e)=>{c.value||s.value&&!_e.length&&X.length&&(c.value=!0)}),ve(()=>{const X=!!(!e.hideNoData||E.value.length||n["prepend-item"]||n["append-item"]||n["no-data"]),_e=R.value.length>0,M=ds.filterProps(e);return h(ds,Z({ref:r},M,{modelValue:k.value,"onUpdate:modelValue":[L=>k.value=L,ie],focused:s.value,"onUpdate:focused":L=>s.value=L,validationValue:R.externalValue,counterValue:O.value,dirty:_e,onChange:be,class:["v-autocomplete",`v-autocomplete--${e.multiple?"multiple":"single"}`,{"v-autocomplete--active-menu":c.value,"v-autocomplete--chips":!!e.chips,"v-autocomplete--selection-slot":!!P.value,"v-autocomplete--selecting-index":f.value>-1},e.class],style:e.style,readonly:e.readonly,placeholder:_e?void 0:e.placeholder,"onClick:clear":H,"onMousedown:control":q,onKeydown:ue}),{...n,default:()=>h(Te,null,[h(Ll,Z({ref:l,modelValue:c.value,"onUpdate:modelValue":L=>c.value=L,activator:"parent",contentClass:"v-autocomplete__content",disabled:$.value,eager:e.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:e.transition,onAfterEnter:Ae,onAfterLeave:Ne},e.menuProps),{default:()=>[X&&h(Sc,Z({ref:j,selected:D.value,selectStrategy:e.multiple?"independent":"single-independent",onMousedown:L=>L.preventDefault(),onKeydown:ne,onFocusin:se,onFocusout:G,tabindex:"-1","aria-live":"polite",color:e.itemColor??e.color},Y,e.listProps),{default:()=>{var L,J,ce;return[(L=n["prepend-item"])==null?void 0:L.call(n),!E.value.length&&!e.hideNoData&&(((J=n["no-data"])==null?void 0:J.call(n))??h(cs,{title:i(e.noDataText)},null)),h(h_,{ref:u,renderless:!0,items:E.value},{default:ae=>{var Se;let{item:me,index:Pe,itemRef:we}=ae;const De=Z(me.props,{ref:we,key:Pe,active:B.value&&Pe===0?!0:void 0,onClick:()=>ee(me,null)});return((Se=n.item)==null?void 0:Se.call(n,{item:me,index:Pe,props:De}))??h(cs,Z(De,{role:"option"}),{prepend:ze=>{let{isSelected:Le}=ze;return h(Te,null,[e.multiple&&!e.hideSelected?h(Ms,{key:me.value,modelValue:Le,ripple:!1,tabindex:"-1"},null):void 0,me.props.prependAvatar&&h(kr,{image:me.props.prependAvatar},null),me.props.prependIcon&&h(Dt,{icon:me.props.prependIcon},null)])},title:()=>{var ze,Le;return o.value?me.title:sie(me.title,(ze=w(me))==null?void 0:ze.title,((Le=k.value)==null?void 0:Le.length)??0)}})}}),(ce=n["append-item"])==null?void 0:ce.call(n)]}})]}),R.value.map((L,J)=>{function ce(we){we.stopPropagation(),we.preventDefault(),ee(L,!1)}const ae={"onClick:close":ce,onKeydown(we){we.key!=="Enter"&&we.key!==" "||(we.preventDefault(),we.stopPropagation(),ce(we))},onMousedown(we){we.preventDefault(),we.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0},me=A.value?!!n.chip:!!n.selection,Pe=me?e_(A.value?n.chip({item:L,index:J,props:ae}):n.selection({item:L,index:J})):void 0;if(!(me&&!Pe))return h("div",{key:L.value,class:["v-autocomplete__selection",J===f.value&&["v-autocomplete__selection--selected",b.value]],style:J===f.value?C.value:{}},[A.value?n.chip?h(lt,{key:"chip-defaults",defaults:{VChip:{closable:e.closableChips,size:"small",text:L.title}}},{default:()=>[Pe]}):h(ou,Z({key:"chip",closable:e.closableChips,size:"small",text:L.title,disabled:L.props.disabled},ae),null):Pe??h("span",{class:"v-autocomplete__selection-text"},[L.title,e.multiple&&J<R.value.length-1&&h("span",{class:"v-autocomplete__selection-comma"},[Ie(",")])])])})]),"append-inner":function(){var ae;for(var L=arguments.length,J=new Array(L),ce=0;ce<L;ce++)J[ce]=arguments[ce];return h(Te,null,[(ae=n["append-inner"])==null?void 0:ae.call(n,...J),e.menuIcon?h(Dt,{class:"v-autocomplete__menu-icon",icon:e.menuIcon,onMousedown:z,onClick:OL,"aria-label":i(m.value),title:i(m.value),tabindex:"-1"},null):void 0])}})}),Or({isFocused:s,isPristine:o,menu:c,search:k,filteredItems:S,select:ee},r)}}),lie=te({bordered:Boolean,color:String,content:[Number,String],dot:Boolean,floating:Boolean,icon:Ze,inline:Boolean,label:{type:String,default:"$vuetify.badge"},max:[Number,String],modelValue:{type:Boolean,default:!0},offsetX:[Number,String],offsetY:[Number,String],textColor:String,...$e(),...Oo({location:"top end"}),...bn(),...ut(),...Ct(),...hs({transition:"scale-rotate-transition"})},"VBadge"),y$=fe()({name:"VBadge",inheritAttrs:!1,props:lie(),setup(e,t){const{backgroundColorClasses:n,backgroundColorStyles:i}=Gt(de(e,"color")),{roundedClasses:r}=On(e),{t:s}=sn(),{textColorClasses:o,textColorStyles:a}=ci(de(e,"textColor")),{themeClasses:l}=I1(),{locationStyles:u}=su(e,!0,d=>(e.floating?e.dot?2:4:e.dot?8:12)+(["top","bottom"].includes(d)?+(e.offsetY??0):["left","right"].includes(d)?+(e.offsetX??0):0));return ve(()=>{const d=Number(e.content),c=!e.max||isNaN(d)?e.content:d<=+e.max?d:`${e.max}+`,[f,v]=R0(t.attrs,["aria-atomic","aria-label","aria-live","role","title"]);return h(e.tag,Z({class:["v-badge",{"v-badge--bordered":e.bordered,"v-badge--dot":e.dot,"v-badge--floating":e.floating,"v-badge--inline":e.inline},e.class]},v,{style:e.style}),{default:()=>{var m,p;return[h("div",{class:"v-badge__wrapper"},[(p=(m=t.slots).default)==null?void 0:p.call(m),h(Bi,{transition:e.transition},{default:()=>{var _,y;return[_n(h("span",Z({class:["v-badge__badge",l.value,n.value,r.value,o.value],style:[i.value,a.value,e.inline?{}:u.value],"aria-atomic":"true","aria-label":s(e.label,d),"aria-live":"polite",role:"status"},f),[e.dot?void 0:t.slots.badge?(y=(_=t.slots).badge)==null?void 0:y.call(_):e.icon?h(Dt,{icon:e.icon},null):c]),[[fs,e.modelValue]])]}})])]}})}),{}}}),uie=te({color:String,density:String,...$e()},"VBannerActions"),b$=fe()({name:"VBannerActions",props:uie(),setup(e,t){let{slots:n}=t;return yn({VBtn:{color:e.color,density:e.density,slim:!0,variant:"text"}}),ve(()=>{var i;return h("div",{class:["v-banner-actions",e.class],style:e.style},[(i=n.default)==null?void 0:i.call(n)])}),{}}}),w$=Ws("v-banner-text"),cie=te({avatar:String,bgColor:String,color:String,icon:Ze,lines:String,stacked:Boolean,sticky:Boolean,text:String,...dr(),...$e(),...ri(),...qn(),...Ql({mobile:null}),...Zn(),...Oo(),...Wc(),...bn(),...ut(),...Ct()},"VBanner"),die=fe()({name:"VBanner",props:cie(),setup(e,t){let{slots:n}=t;const{backgroundColorClasses:i,backgroundColorStyles:r}=Gt(e,"bgColor"),{borderClasses:s}=Rr(e),{densityClasses:o}=Hi(e),{displayClasses:a,mobile:l}=xr(e),{dimensionStyles:u}=Yn(e),{elevationClasses:d}=hi(e),{locationStyles:c}=su(e),{positionClasses:f}=zc(e),{roundedClasses:v}=On(e),{themeClasses:m}=Ft(e),p=de(e,"color"),_=de(e,"density");yn({VBannerActions:{color:p,density:_}}),ve(()=>{const y=!!(e.text||n.text),b=!!(e.avatar||e.icon),C=!!(b||n.prepend);return h(e.tag,{class:["v-banner",{"v-banner--stacked":e.stacked||l.value,"v-banner--sticky":e.sticky,[`v-banner--${e.lines}-line`]:!!e.lines},m.value,i.value,s.value,o.value,a.value,d.value,f.value,v.value,e.class],style:[r.value,u.value,c.value,e.style],role:"banner"},{default:()=>{var k;return[C&&h("div",{key:"prepend",class:"v-banner__prepend"},[n.prepend?h(lt,{key:"prepend-defaults",disabled:!b,defaults:{VAvatar:{color:p.value,density:_.value,icon:e.icon,image:e.avatar}}},n.prepend):h(kr,{key:"prepend-avatar",color:p.value,density:_.value,icon:e.icon,image:e.avatar},null)]),h("div",{class:"v-banner__content"},[y&&h(w$,{key:"text"},{default:()=>{var R;return[((R=n.text)==null?void 0:R.call(n))??e.text]}}),(k=n.default)==null?void 0:k.call(n)]),n.actions&&h(b$,{key:"actions"},n.actions)]}})})}}),fie=te({baseColor:String,bgColor:String,color:String,grow:Boolean,mode:{type:String,validator:e=>!e||["horizontal","shift"].includes(e)},height:{type:[Number,String],default:56},active:{type:Boolean,default:!0},...dr(),...$e(),...ri(),...Zn(),...bn(),...Jl({name:"bottom-navigation"}),...ut({tag:"header"}),...nu({selectedClass:"v-btn--selected"}),...Ct()},"VBottomNavigation"),hie=fe()({name:"VBottomNavigation",props:fie(),emits:{"update:active":e=>!0,"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const{themeClasses:i}=I1(),{borderClasses:r}=Rr(e),{backgroundColorClasses:s,backgroundColorStyles:o}=Gt(de(e,"bgColor")),{densityClasses:a}=Hi(e),{elevationClasses:l}=hi(e),{roundedClasses:u}=On(e),{ssrBootStyles:d}=eu(),c=I(()=>Number(e.height)-(e.density==="comfortable"?8:0)-(e.density==="compact"?16:0)),f=je(e,"active",e.active),{layoutItemStyles:v}=Zl({id:e.name,order:I(()=>parseInt(e.order,10)),position:I(()=>"bottom"),layoutSize:I(()=>f.value?c.value:0),elementSize:c,active:f,absolute:de(e,"absolute")});return La(e,V1),yn({VBtn:{baseColor:de(e,"baseColor"),color:de(e,"color"),density:de(e,"density"),stacked:I(()=>e.mode!=="horizontal"),variant:"text"}},{scoped:!0}),ve(()=>h(e.tag,{class:["v-bottom-navigation",{"v-bottom-navigation--active":f.value,"v-bottom-navigation--grow":e.grow,"v-bottom-navigation--shift":e.mode==="shift"},i.value,s.value,r.value,a.value,l.value,u.value,e.class],style:[o.value,v.value,{height:Oe(c.value)},d.value,e.style]},{default:()=>[n.default&&h("div",{class:"v-bottom-navigation__content"},[n.default()])]})),{}}}),S$=te({fullscreen:Boolean,retainFocus:{type:Boolean,default:!0},scrollable:Boolean,...Bh({origin:"center center",scrollStrategy:"block",transition:{component:s_},zIndex:2400})},"VDialog"),X0=fe()({name:"VDialog",props:S$(),emits:{"update:modelValue":e=>!0,afterEnter:()=>!0,afterLeave:()=>!0},setup(e,t){let{emit:n,slots:i}=t;const r=je(e,"modelValue"),{scopeId:s}=au(),o=W();function a(d){var v,m;const c=d.relatedTarget,f=d.target;if(c!==f&&((v=o.value)!=null&&v.contentEl)&&((m=o.value)!=null&&m.globalTop)&&![document,o.value.contentEl].includes(f)&&!o.value.contentEl.contains(f)){const p=Nf(o.value.contentEl);if(!p.length)return;const _=p[0],y=p[p.length-1];c===_?y.focus():_.focus()}}Bt&&ge(()=>r.value&&e.retainFocus,d=>{d?document.addEventListener("focusin",a):document.removeEventListener("focusin",a)},{immediate:!0});function l(){var d;n("afterEnter"),(d=o.value)!=null&&d.contentEl&&!o.value.contentEl.contains(document.activeElement)&&o.value.contentEl.focus({preventScroll:!0})}function u(){n("afterLeave")}return ge(r,async d=>{var c;d||(await at(),(c=o.value.activatorEl)==null||c.focus({preventScroll:!0}))}),ve(()=>{const d=Ls.filterProps(e),c=Z({"aria-haspopup":"dialog"},e.activatorProps),f=Z({tabindex:-1},e.contentProps);return h(Ls,Z({ref:o,class:["v-dialog",{"v-dialog--fullscreen":e.fullscreen,"v-dialog--scrollable":e.scrollable},e.class],style:e.style},d,{modelValue:r.value,"onUpdate:modelValue":v=>r.value=v,"aria-modal":"true",activatorProps:c,contentProps:f,role:"dialog",onAfterEnter:l,onAfterLeave:u},s),{activator:i.activator,default:function(){for(var v=arguments.length,m=new Array(v),p=0;p<v;p++)m[p]=arguments[p];return h(lt,{root:"VDialog"},{default:()=>{var _;return[(_=i.default)==null?void 0:_.call(i,...m)]}})}})}),Or({},o)}}),vie=te({inset:Boolean,...S$({transition:"bottom-sheet-transition"})},"VBottomSheet"),mie=fe()({name:"VBottomSheet",props:vie(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const i=je(e,"modelValue");return ve(()=>{const r=X0.filterProps(e);return h(X0,Z(r,{contentClass:["v-bottom-sheet__content",e.contentClass],modelValue:i.value,"onUpdate:modelValue":s=>i.value=s,class:["v-bottom-sheet",{"v-bottom-sheet--inset":e.inset},e.class],style:e.style}),n)}),{}}}),gie=te({divider:[Number,String],...$e()},"VBreadcrumbsDivider"),E$=fe()({name:"VBreadcrumbsDivider",props:gie(),setup(e,t){let{slots:n}=t;return ve(()=>{var i;return h("li",{class:["v-breadcrumbs-divider",e.class],style:e.style},[((i=n==null?void 0:n.default)==null?void 0:i.call(n))??e.divider])}),{}}}),pie=te({active:Boolean,activeClass:String,activeColor:String,color:String,disabled:Boolean,title:String,...$e(),...Fh(),...ut({tag:"li"})},"VBreadcrumbsItem"),C$=fe()({name:"VBreadcrumbsItem",props:pie(),setup(e,t){let{slots:n,attrs:i}=t;const r=Gc(e,i),s=I(()=>{var u;return e.active||((u=r.isActive)==null?void 0:u.value)}),o=I(()=>s.value?e.activeColor:e.color),{textColorClasses:a,textColorStyles:l}=ci(o);return ve(()=>h(e.tag,{class:["v-breadcrumbs-item",{"v-breadcrumbs-item--active":s.value,"v-breadcrumbs-item--disabled":e.disabled,[`${e.activeClass}`]:s.value&&e.activeClass},a.value,e.class],style:[l.value,e.style],"aria-current":s.value?"page":void 0},{default:()=>{var u,d;return[r.isLink.value?h("a",Z({class:"v-breadcrumbs-item--link",onClick:r.navigate},r.linkProps),[((d=n.default)==null?void 0:d.call(n))??e.title]):((u=n.default)==null?void 0:u.call(n))??e.title]}})),{}}}),_ie=te({activeClass:String,activeColor:String,bgColor:String,color:String,disabled:Boolean,divider:{type:String,default:"/"},icon:Ze,items:{type:Array,default:()=>[]},...$e(),...ri(),...bn(),...ut({tag:"ul"})},"VBreadcrumbs"),yie=fe()({name:"VBreadcrumbs",props:_ie(),setup(e,t){let{slots:n}=t;const{backgroundColorClasses:i,backgroundColorStyles:r}=Gt(de(e,"bgColor")),{densityClasses:s}=Hi(e),{roundedClasses:o}=On(e);yn({VBreadcrumbsDivider:{divider:de(e,"divider")},VBreadcrumbsItem:{activeClass:de(e,"activeClass"),activeColor:de(e,"activeColor"),color:de(e,"color"),disabled:de(e,"disabled")}});const a=I(()=>e.items.map(l=>typeof l=="string"?{item:{title:l},raw:l}:{item:l,raw:l}));return ve(()=>{const l=!!(n.prepend||e.icon);return h(e.tag,{class:["v-breadcrumbs",i.value,s.value,o.value,e.class],style:[r.value,e.style]},{default:()=>{var u;return[l&&h("li",{key:"prepend",class:"v-breadcrumbs__prepend"},[n.prepend?h(lt,{key:"prepend-defaults",disabled:!e.icon,defaults:{VIcon:{icon:e.icon,start:!0}}},n.prepend):h(Dt,{key:"prepend-icon",start:!0,icon:e.icon},null)]),a.value.map((d,c,f)=>{var p;let{item:v,raw:m}=d;return h(Te,null,[((p=n.item)==null?void 0:p.call(n,{item:v,index:c}))??h(C$,Z({key:c,disabled:c>=f.length-1},typeof v=="string"?{title:v}:v),{default:n.title?()=>{var _;return(_=n.title)==null?void 0:_.call(n,{item:v,index:c})}:void 0}),c<f.length-1&&h(E$,null,{default:n.divider?()=>{var _;return(_=n.divider)==null?void 0:_.call(n,{item:m,index:c})}:void 0})])}),(u=n.default)==null?void 0:u.call(n)]}})}),{}}}),k$=fe()({name:"VCardActions",props:$e(),setup(e,t){let{slots:n}=t;return yn({VBtn:{slim:!0,variant:"text"}}),ve(()=>{var i;return h("div",{class:["v-card-actions",e.class],style:e.style},[(i=n.default)==null?void 0:i.call(n)])}),{}}}),bie=te({opacity:[Number,String],...$e(),...ut()},"VCardSubtitle"),T$=fe()({name:"VCardSubtitle",props:bie(),setup(e,t){let{slots:n}=t;return ve(()=>h(e.tag,{class:["v-card-subtitle",e.class],style:[{"--v-card-subtitle-opacity":e.opacity},e.style]},n)),{}}}),I$=Ws("v-card-title"),wie=te({appendAvatar:String,appendIcon:Ze,prependAvatar:String,prependIcon:Ze,subtitle:[String,Number],title:[String,Number],...$e(),...ri()},"VCardItem"),A$=fe()({name:"VCardItem",props:wie(),setup(e,t){let{slots:n}=t;return ve(()=>{var u;const i=!!(e.prependAvatar||e.prependIcon),r=!!(i||n.prepend),s=!!(e.appendAvatar||e.appendIcon),o=!!(s||n.append),a=!!(e.title!=null||n.title),l=!!(e.subtitle!=null||n.subtitle);return h("div",{class:["v-card-item",e.class],style:e.style},[r&&h("div",{key:"prepend",class:"v-card-item__prepend"},[n.prepend?h(lt,{key:"prepend-defaults",disabled:!i,defaults:{VAvatar:{density:e.density,image:e.prependAvatar},VIcon:{density:e.density,icon:e.prependIcon}}},n.prepend):h(Te,null,[e.prependAvatar&&h(kr,{key:"prepend-avatar",density:e.density,image:e.prependAvatar},null),e.prependIcon&&h(Dt,{key:"prepend-icon",density:e.density,icon:e.prependIcon},null)])]),h("div",{class:"v-card-item__content"},[a&&h(I$,{key:"title"},{default:()=>{var d;return[((d=n.title)==null?void 0:d.call(n))??e.title]}}),l&&h(T$,{key:"subtitle"},{default:()=>{var d;return[((d=n.subtitle)==null?void 0:d.call(n))??e.subtitle]}}),(u=n.default)==null?void 0:u.call(n)]),o&&h("div",{key:"append",class:"v-card-item__append"},[n.append?h(lt,{key:"append-defaults",disabled:!s,defaults:{VAvatar:{density:e.density,image:e.appendAvatar},VIcon:{density:e.density,icon:e.appendIcon}}},n.append):h(Te,null,[e.appendIcon&&h(Dt,{key:"append-icon",density:e.density,icon:e.appendIcon},null),e.appendAvatar&&h(kr,{key:"append-avatar",density:e.density,image:e.appendAvatar},null)])])])}),{}}}),Sie=te({opacity:[Number,String],...$e(),...ut()},"VCardText"),P$=fe()({name:"VCardText",props:Sie(),setup(e,t){let{slots:n}=t;return ve(()=>h(e.tag,{class:["v-card-text",e.class],style:[{"--v-card-text-opacity":e.opacity},e.style]},n)),{}}}),Eie=te({appendAvatar:String,appendIcon:Ze,disabled:Boolean,flat:Boolean,hover:Boolean,image:String,link:{type:Boolean,default:void 0},prependAvatar:String,prependIcon:Ze,ripple:{type:[Boolean,Object],default:!0},subtitle:[String,Number],text:[String,Number],title:[String,Number],...dr(),...$e(),...ri(),...qn(),...Zn(),...u_(),...Oo(),...Wc(),...bn(),...Fh(),...ut(),...Ct(),...Hr({variant:"elevated"})},"VCard"),Cie=fe()({name:"VCard",directives:{Ripple:Vo},props:Eie(),setup(e,t){let{attrs:n,slots:i}=t;const{themeClasses:r}=Ft(e),{borderClasses:s}=Rr(e),{colorClasses:o,colorStyles:a,variantClasses:l}=tu(e),{densityClasses:u}=Hi(e),{dimensionStyles:d}=Yn(e),{elevationClasses:c}=hi(e),{loaderClasses:f}=Mh(e),{locationStyles:v}=su(e),{positionClasses:m}=zc(e),{roundedClasses:p}=On(e),_=Gc(e,n),y=I(()=>e.link!==!1&&_.isLink.value),b=I(()=>!e.disabled&&e.link!==!1&&(e.link||_.isClickable.value));return ve(()=>{const C=y.value?"a":e.tag,k=!!(i.title||e.title!=null),R=!!(i.subtitle||e.subtitle!=null),O=k||R,x=!!(i.append||e.appendAvatar||e.appendIcon),S=!!(i.prepend||e.prependAvatar||e.prependIcon),w=!!(i.image||e.image),E=O||S||x,A=!!(i.text||e.text!=null);return _n(h(C,Z({class:["v-card",{"v-card--disabled":e.disabled,"v-card--flat":e.flat,"v-card--hover":e.hover&&!(e.disabled||e.flat),"v-card--link":b.value},r.value,s.value,o.value,u.value,c.value,f.value,m.value,p.value,l.value,e.class],style:[a.value,d.value,v.value,e.style],onClick:b.value&&_.navigate,tabindex:e.disabled?-1:void 0},_.linkProps),{default:()=>{var P;return[w&&h("div",{key:"image",class:"v-card__image"},[i.image?h(lt,{key:"image-defaults",disabled:!e.image,defaults:{VImg:{cover:!0,src:e.image}}},i.image):h(ko,{key:"image-img",cover:!0,src:e.image},null)]),h(Lh,{name:"v-card",active:!!e.loading,color:typeof e.loading=="boolean"?void 0:e.loading},{default:i.loader}),E&&h(A$,{key:"item",prependAvatar:e.prependAvatar,prependIcon:e.prependIcon,title:e.title,subtitle:e.subtitle,appendAvatar:e.appendAvatar,appendIcon:e.appendIcon},{default:i.item,prepend:i.prepend,title:i.title,subtitle:i.subtitle,append:i.append}),A&&h(P$,{key:"text"},{default:()=>{var D;return[((D=i.text)==null?void 0:D.call(i))??e.text]}}),(P=i.default)==null?void 0:P.call(i),i.actions&&h(k$,null,{default:i.actions}),Ma(b.value,"v-card")]}}),[[cr("ripple"),b.value&&e.ripple]])}),{}}}),kie=e=>{const{touchstartX:t,touchendX:n,touchstartY:i,touchendY:r}=e,s=.5,o=16;e.offsetX=n-t,e.offsetY=r-i,Math.abs(e.offsetY)<s*Math.abs(e.offsetX)&&(e.left&&n<t-o&&e.left(e),e.right&&n>t+o&&e.right(e)),Math.abs(e.offsetX)<s*Math.abs(e.offsetY)&&(e.up&&r<i-o&&e.up(e),e.down&&r>i+o&&e.down(e))};function Tie(e,t){var i;const n=e.changedTouches[0];t.touchstartX=n.clientX,t.touchstartY=n.clientY,(i=t.start)==null||i.call(t,{originalEvent:e,...t})}function Iie(e,t){var i;const n=e.changedTouches[0];t.touchendX=n.clientX,t.touchendY=n.clientY,(i=t.end)==null||i.call(t,{originalEvent:e,...t}),kie(t)}function Aie(e,t){var i;const n=e.changedTouches[0];t.touchmoveX=n.clientX,t.touchmoveY=n.clientY,(i=t.move)==null||i.call(t,{originalEvent:e,...t})}function Pie(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const t={touchstartX:0,touchstartY:0,touchendX:0,touchendY:0,touchmoveX:0,touchmoveY:0,offsetX:0,offsetY:0,left:e.left,right:e.right,up:e.up,down:e.down,start:e.start,move:e.move,end:e.end};return{touchstart:n=>Tie(n,t),touchend:n=>Iie(n,t),touchmove:n=>Aie(n,t)}}function xie(e,t){var a;const n=t.value,i=n!=null&&n.parent?e.parentElement:e,r=(n==null?void 0:n.options)??{passive:!0},s=(a=t.instance)==null?void 0:a.$.uid;if(!i||!s)return;const o=Pie(t.value);i._touchHandlers=i._touchHandlers??Object.create(null),i._touchHandlers[s]=o,AL(o).forEach(l=>{i.addEventListener(l,o[l],r)})}function Die(e,t){var s,o;const n=(s=t.value)!=null&&s.parent?e.parentElement:e,i=(o=t.instance)==null?void 0:o.$.uid;if(!(n!=null&&n._touchHandlers)||!i)return;const r=n._touchHandlers[i];AL(r).forEach(a=>{n.removeEventListener(a,r[a])}),delete n._touchHandlers[i]}const Y1={mounted:xie,unmounted:Die},x$=Symbol.for("vuetify:v-window"),D$=Symbol.for("vuetify:v-window-group"),v_=te({continuous:Boolean,nextIcon:{type:[Boolean,String,Function,Object],default:"$next"},prevIcon:{type:[Boolean,String,Function,Object],default:"$prev"},reverse:Boolean,showArrows:{type:[Boolean,String],validator:e=>typeof e=="boolean"||e==="hover"},touch:{type:[Object,Boolean],default:void 0},direction:{type:String,default:"horizontal"},modelValue:null,disabled:Boolean,selectedClass:{type:String,default:"v-window-item--active"},mandatory:{type:[Boolean,String],default:"force"},...$e(),...ut(),...Ct()},"VWindow"),Fl=fe()({name:"VWindow",directives:{Touch:Y1},props:v_(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const{themeClasses:i}=Ft(e),{isRtl:r}=Jn(),{t:s}=sn(),o=La(e,D$),a=W(),l=I(()=>r.value?!e.reverse:e.reverse),u=ke(!1),d=I(()=>{const k=e.direction==="vertical"?"y":"x",O=(l.value?!u.value:u.value)?"-reverse":"";return`v-window-${k}${O}-transition`}),c=ke(0),f=W(void 0),v=I(()=>o.items.value.findIndex(k=>o.selected.value.includes(k.id)));ge(v,(k,R)=>{const O=o.items.value.length,x=O-1;O<=2?u.value=k<R:k===x&&R===0?u.value=!0:k===0&&R===x?u.value=!1:u.value=k<R}),Ut(x$,{transition:d,isReversed:u,transitionCount:c,transitionHeight:f,rootRef:a});const m=I(()=>e.continuous||v.value!==0),p=I(()=>e.continuous||v.value!==o.items.value.length-1);function _(){m.value&&o.prev()}function y(){p.value&&o.next()}const b=I(()=>{const k=[],R={icon:r.value?e.nextIcon:e.prevIcon,class:`v-window__${l.value?"right":"left"}`,onClick:o.prev,"aria-label":s("$vuetify.carousel.prev")};k.push(m.value?n.prev?n.prev({props:R}):h(dt,R,null):h("div",null,null));const O={icon:r.value?e.prevIcon:e.nextIcon,class:`v-window__${l.value?"left":"right"}`,onClick:o.next,"aria-label":s("$vuetify.carousel.next")};return k.push(p.value?n.next?n.next({props:O}):h(dt,O,null):h("div",null,null)),k}),C=I(()=>e.touch===!1?e.touch:{...{left:()=>{l.value?_():y()},right:()=>{l.value?y():_()},start:R=>{let{originalEvent:O}=R;O.stopPropagation()}},...e.touch===!0?{}:e.touch});return ve(()=>_n(h(e.tag,{ref:a,class:["v-window",{"v-window--show-arrows-on-hover":e.showArrows==="hover"},i.value,e.class],style:e.style},{default:()=>{var k,R;return[h("div",{class:"v-window__container",style:{height:f.value}},[(k=n.default)==null?void 0:k.call(n,{group:o}),e.showArrows!==!1&&h("div",{class:"v-window__controls"},[b.value])]),(R=n.additional)==null?void 0:R.call(n,{group:o})]}}),[[cr("touch"),C.value]])),{group:o}}}),Rie=te({color:String,cycle:Boolean,delimiterIcon:{type:Ze,default:"$delimiter"},height:{type:[Number,String],default:500},hideDelimiters:Boolean,hideDelimiterBackground:Boolean,interval:{type:[Number,String],default:6e3,validator:e=>Number(e)>0},progress:[Boolean,String],verticalDelimiters:[Boolean,String],...v_({continuous:!0,mandatory:"force",showArrows:!0})},"VCarousel"),Oie=fe()({name:"VCarousel",props:Rie(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const i=je(e,"modelValue"),{t:r}=sn(),s=W();let o=-1;ge(i,l),ge(()=>e.interval,l),ge(()=>e.cycle,u=>{u?l():window.clearTimeout(o)}),bt(a);function a(){!e.cycle||!s.value||(o=window.setTimeout(s.value.group.next,+e.interval>0?+e.interval:6e3))}function l(){window.clearTimeout(o),window.requestAnimationFrame(a)}return ve(()=>{const u=Fl.filterProps(e);return h(Fl,Z({ref:s},u,{modelValue:i.value,"onUpdate:modelValue":d=>i.value=d,class:["v-carousel",{"v-carousel--hide-delimiter-background":e.hideDelimiterBackground,"v-carousel--vertical-delimiters":e.verticalDelimiters},e.class],style:[{height:Oe(e.height)},e.style]}),{default:n.default,additional:d=>{let{group:c}=d;return h(Te,null,[!e.hideDelimiters&&h("div",{class:"v-carousel__controls",style:{left:e.verticalDelimiters==="left"&&e.verticalDelimiters?0:"auto",right:e.verticalDelimiters==="right"?0:"auto"}},[c.items.value.length>0&&h(lt,{defaults:{VBtn:{color:e.color,icon:e.delimiterIcon,size:"x-small",variant:"text"}},scoped:!0},{default:()=>[c.items.value.map((f,v)=>{const m={id:`carousel-item-${f.id}`,"aria-label":r("$vuetify.carousel.ariaLabel.delimiter",v+1,c.items.value.length),class:["v-carousel__controls__item",c.isSelected(f.id)&&"v-btn--active"],onClick:()=>c.select(f.id,!0)};return n.item?n.item({props:m,item:f}):h(dt,Z(f,m),null)})]})]),e.progress&&h(l_,{class:"v-carousel__progress",color:typeof e.progress=="string"?e.progress:void 0,modelValue:(c.getItemIndex(i.value)+1)/c.items.value.length*100},null)])},prev:n.prev,next:n.next})}),{}}}),m_=te({reverseTransition:{type:[Boolean,String],default:void 0},transition:{type:[Boolean,String],default:void 0},...$e(),...iu(),...j1()},"VWindowItem"),$l=fe()({name:"VWindowItem",directives:{Touch:Y1},props:m_(),emits:{"group:selected":e=>!0},setup(e,t){let{slots:n}=t;const i=ot(x$),r=ru(e,D$),{isBooted:s}=eu();if(!i||!r)throw new Error("[Vuetify] VWindowItem must be used inside VWindow");const o=ke(!1),a=I(()=>s.value&&(i.isReversed.value?e.reverseTransition!==!1:e.transition!==!1));function l(){!o.value||!i||(o.value=!1,i.transitionCount.value>0&&(i.transitionCount.value-=1,i.transitionCount.value===0&&(i.transitionHeight.value=void 0)))}function u(){var m;o.value||!i||(o.value=!0,i.transitionCount.value===0&&(i.transitionHeight.value=Oe((m=i.rootRef.value)==null?void 0:m.clientHeight)),i.transitionCount.value+=1)}function d(){l()}function c(m){o.value&&at(()=>{!a.value||!o.value||!i||(i.transitionHeight.value=Oe(m.clientHeight))})}const f=I(()=>{const m=i.isReversed.value?e.reverseTransition:e.transition;return a.value?{name:typeof m!="string"?i.transition.value:m,onBeforeEnter:u,onAfterEnter:l,onEnterCancelled:d,onBeforeLeave:u,onAfterLeave:l,onLeaveCancelled:d,onEnter:c}:!1}),{hasContent:v}=H1(e,r.isSelected);return ve(()=>h(Bi,{transition:f.value,disabled:!s.value},{default:()=>{var m;return[_n(h("div",{class:["v-window-item",r.selectedClass.value,e.class],style:e.style},[v.value&&((m=n.default)==null?void 0:m.call(n))]),[[fs,r.isSelected.value]])]}})),{groupItem:r}}}),Vie=te({...pF(),...m_()},"VCarouselItem"),Nie=fe()({name:"VCarouselItem",inheritAttrs:!1,props:Vie(),setup(e,t){let{slots:n,attrs:i}=t;ve(()=>{const r=ko.filterProps(e),s=$l.filterProps(e);return h($l,Z({class:["v-carousel-item",e.class]},s),{default:()=>[h(ko,Z(i,r),n)]})})}}),Mie=Ws("v-code"),Lie=te({color:{type:Object},disabled:Boolean,dotSize:{type:[Number,String],default:10},height:{type:[Number,String],default:150},width:{type:[Number,String],default:300},...$e()},"VColorPickerCanvas"),Fie=Pr({name:"VColorPickerCanvas",props:Lie(),emits:{"update:color":e=>!0,"update:position":e=>!0},setup(e,t){let{emit:n}=t;const i=ke(!1),r=W(),s=ke(parseFloat(e.width)),o=ke(parseFloat(e.height)),a=W({x:0,y:0}),l=I({get:()=>a.value,set(_){var C,k;if(!r.value)return;const{x:y,y:b}=_;a.value=_,n("update:color",{h:((C=e.color)==null?void 0:C.h)??0,s:Tn(y,0,s.value)/s.value,v:1-Tn(b,0,o.value)/o.value,a:((k=e.color)==null?void 0:k.a)??1})}}),u=I(()=>{const{x:_,y}=l.value,b=parseInt(e.dotSize,10)/2;return{width:Oe(e.dotSize),height:Oe(e.dotSize),transform:`translate(${Oe(_-b)}, ${Oe(y-b)})`}}),{resizeRef:d}=us(_=>{var C;if(!((C=d.el)!=null&&C.offsetParent))return;const{width:y,height:b}=_[0].contentRect;s.value=y,o.value=b});function c(_,y,b){const{left:C,top:k,width:R,height:O}=b;l.value={x:Tn(_-C,0,R),y:Tn(y-k,0,O)}}function f(_){_.type==="mousedown"&&_.preventDefault(),!e.disabled&&(v(_),window.addEventListener("mousemove",v),window.addEventListener("mouseup",m),window.addEventListener("touchmove",v),window.addEventListener("touchend",m))}function v(_){if(e.disabled||!r.value)return;i.value=!0;const y=HJ(_);c(y.clientX,y.clientY,r.value.getBoundingClientRect())}function m(){window.removeEventListener("mousemove",v),window.removeEventListener("mouseup",m),window.removeEventListener("touchmove",v),window.removeEventListener("touchend",m)}function p(){var k;if(!r.value)return;const _=r.value,y=_.getContext("2d");if(!y)return;const b=y.createLinearGradient(0,0,_.width,0);b.addColorStop(0,"hsla(0, 0%, 100%, 1)"),b.addColorStop(1,`hsla(${((k=e.color)==null?void 0:k.h)??0}, 100%, 50%, 1)`),y.fillStyle=b,y.fillRect(0,0,_.width,_.height);const C=y.createLinearGradient(0,0,0,_.height);C.addColorStop(0,"hsla(0, 0%, 0%, 0)"),C.addColorStop(1,"hsla(0, 0%, 0%, 1)"),y.fillStyle=C,y.fillRect(0,0,_.width,_.height)}return ge(()=>{var _;return(_=e.color)==null?void 0:_.h},p,{immediate:!0}),ge(()=>[s.value,o.value],(_,y)=>{p(),a.value={x:l.value.x*_[0]/y[0],y:l.value.y*_[1]/y[1]}},{flush:"post"}),ge(()=>e.color,()=>{if(i.value){i.value=!1;return}a.value=e.color?{x:e.color.s*s.value,y:(1-e.color.v)*o.value}:{x:0,y:0}},{deep:!0,immediate:!0}),bt(()=>p()),ve(()=>h("div",{ref:d,class:["v-color-picker-canvas",e.class],style:e.style,onMousedown:f,onTouchstartPassive:f},[h("canvas",{ref:r,width:s.value,height:o.value},null),e.color&&h("div",{class:["v-color-picker-canvas__dot",{"v-color-picker-canvas__dot--disabled":e.disabled}],style:u.value},null)])),{}}});function $ie(e,t){if(t){const{a:n,...i}=e;return i}return e}function Bie(e,t){if(t==null||typeof t=="string"){const n=zL(e);return e.a===1?n.slice(0,7):n}if(typeof t=="object"){let n;return ul(t,["r","g","b"])?n=Co(e):ul(t,["h","s","l"])?n=$L(e):ul(t,["h","s","v"])&&(n=e),$ie(n,!ul(t,["a"])&&e.a===1)}return e}const Mu={h:0,s:0,v:0,a:1},Q0={inputProps:{type:"number",min:0},inputs:[{label:"R",max:255,step:1,getValue:e=>Math.round(e.r),getColor:(e,t)=>({...e,r:Number(t)})},{label:"G",max:255,step:1,getValue:e=>Math.round(e.g),getColor:(e,t)=>({...e,g:Number(t)})},{label:"B",max:255,step:1,getValue:e=>Math.round(e.b),getColor:(e,t)=>({...e,b:Number(t)})},{label:"A",max:1,step:.01,getValue:e=>{let{a:t}=e;return t!=null?Math.round(t*100)/100:1},getColor:(e,t)=>({...e,a:Number(t)})}],to:Co,from:t_};var OR;const Uie={...Q0,inputs:(OR=Q0.inputs)==null?void 0:OR.slice(0,3)},J0={inputProps:{type:"number",min:0},inputs:[{label:"H",max:360,step:1,getValue:e=>Math.round(e.h),getColor:(e,t)=>({...e,h:Number(t)})},{label:"S",max:1,step:.01,getValue:e=>Math.round(e.s*100)/100,getColor:(e,t)=>({...e,s:Number(t)})},{label:"L",max:1,step:.01,getValue:e=>Math.round(e.l*100)/100,getColor:(e,t)=>({...e,l:Number(t)})},{label:"A",max:1,step:.01,getValue:e=>{let{a:t}=e;return t!=null?Math.round(t*100)/100:1},getColor:(e,t)=>({...e,a:Number(t)})}],to:$L,from:b1},jie={...J0,inputs:J0.inputs.slice(0,3)},R$={inputProps:{type:"text"},inputs:[{label:"HEXA",getValue:e=>e,getColor:(e,t)=>t}],to:zL,from:WL},Hie={...R$,inputs:[{label:"HEX",getValue:e=>e.slice(0,7),getColor:(e,t)=>t}]},bl={rgb:Uie,rgba:Q0,hsl:jie,hsla:J0,hex:Hie,hexa:R$},Wie=e=>{let{label:t,...n}=e;return h("div",{class:"v-color-picker-edit__input"},[h("input",n,null),h("span",null,[t])])},zie=te({color:Object,disabled:Boolean,mode:{type:String,default:"rgba",validator:e=>Object.keys(bl).includes(e)},modes:{type:Array,default:()=>Object.keys(bl),validator:e=>Array.isArray(e)&&e.every(t=>Object.keys(bl).includes(t))},...$e()},"VColorPickerEdit"),Gie=Pr({name:"VColorPickerEdit",props:zie(),emits:{"update:color":e=>!0,"update:mode":e=>!0},setup(e,t){let{emit:n}=t;const i=I(()=>e.modes.map(s=>({...bl[s],name:s}))),r=I(()=>{var a;const s=i.value.find(l=>l.name===e.mode);if(!s)return[];const o=e.color?s.to(e.color):null;return(a=s.inputs)==null?void 0:a.map(l=>{let{getValue:u,getColor:d,...c}=l;return{...s.inputProps,...c,disabled:e.disabled,value:o&&u(o),onChange:f=>{const v=f.target;v&&n("update:color",s.from(d(o??s.to(Mu),v.value)))}}})});return ve(()=>{var s;return h("div",{class:["v-color-picker-edit",e.class],style:e.style},[(s=r.value)==null?void 0:s.map(o=>h(Wie,o,null)),i.value.length>1&&h(dt,{icon:"$unfold",size:"x-small",variant:"plain",onClick:()=>{const o=i.value.findIndex(a=>a.name===e.mode);n("update:mode",i.value[(o+1)%i.value.length].name)}},null)])}),{}}}),K1=Symbol.for("vuetify:v-slider");function Z0(e,t,n){const i=n==="vertical",r=t.getBoundingClientRect(),s="touches"in e?e.touches[0]:e;return i?s.clientY-(r.top+r.height/2):s.clientX-(r.left+r.width/2)}function qie(e,t){return"touches"in e&&e.touches.length?e.touches[0][t]:"changedTouches"in e&&e.changedTouches.length?e.changedTouches[0][t]:e[t]}const O$=te({disabled:{type:Boolean,default:null},error:Boolean,readonly:{type:Boolean,default:null},max:{type:[Number,String],default:100},min:{type:[Number,String],default:0},step:{type:[Number,String],default:0},thumbColor:String,thumbLabel:{type:[Boolean,String],default:void 0,validator:e=>typeof e=="boolean"||e==="always"},thumbSize:{type:[Number,String],default:20},showTicks:{type:[Boolean,String],default:!1,validator:e=>typeof e=="boolean"||e==="always"},ticks:{type:[Array,Object]},tickSize:{type:[Number,String],default:2},color:String,trackColor:String,trackFillColor:String,trackSize:{type:[Number,String],default:4},direction:{type:String,default:"horizontal",validator:e=>["vertical","horizontal"].includes(e)},reverse:Boolean,...bn(),...Zn({elevation:2}),ripple:{type:Boolean,default:!0}},"Slider"),V$=e=>{const t=I(()=>parseFloat(e.min)),n=I(()=>parseFloat(e.max)),i=I(()=>+e.step>0?parseFloat(e.step):0),r=I(()=>Math.max(cg(i.value),cg(t.value)));function s(o){if(o=parseFloat(o),i.value<=0)return o;const a=Tn(o,t.value,n.value),l=t.value%i.value,u=Math.round((a-l)/i.value)*i.value+l;return parseFloat(Math.min(u,n.value).toFixed(r.value))}return{min:t,max:n,step:i,decimals:r,roundValue:s}},N$=e=>{let{props:t,steps:n,onSliderStart:i,onSliderMove:r,onSliderEnd:s,getActiveThumb:o}=e;const{isRtl:a}=Jn(),l=de(t,"reverse"),u=I(()=>t.direction==="vertical"),d=I(()=>u.value!==l.value),{min:c,max:f,step:v,decimals:m,roundValue:p}=n,_=I(()=>parseInt(t.thumbSize,10)),y=I(()=>parseInt(t.tickSize,10)),b=I(()=>parseInt(t.trackSize,10)),C=I(()=>(f.value-c.value)/v.value),k=de(t,"disabled"),R=I(()=>t.error||t.disabled?void 0:t.thumbColor??t.color),O=I(()=>t.error||t.disabled?void 0:t.trackColor??t.color),x=I(()=>t.error||t.disabled?void 0:t.trackFillColor??t.color),S=ke(!1),w=ke(0),E=W(),A=W();function P(se){var J;const G=t.direction==="vertical",ie=G?"top":"left",Q=G?"height":"width",ee=G?"clientY":"clientX",{[ie]:X,[Q]:_e}=(J=E.value)==null?void 0:J.$el.getBoundingClientRect(),M=qie(se,ee);let L=Math.min(Math.max((M-X-w.value)/_e,0),1)||0;return(G?d.value:d.value!==a.value)&&(L=1-L),p(c.value+L*(f.value-c.value))}const D=se=>{s({value:P(se)}),S.value=!1,w.value=0},B=se=>{A.value=o(se),A.value&&(A.value.focus(),S.value=!0,A.value.contains(se.target)?w.value=Z0(se,A.value,t.direction):(w.value=0,r({value:P(se)})),i({value:P(se)}))},$={passive:!0,capture:!0};function j(se){r({value:P(se)})}function Y(se){se.stopPropagation(),se.preventDefault(),D(se),window.removeEventListener("mousemove",j,$),window.removeEventListener("mouseup",Y)}function H(se){var G;D(se),window.removeEventListener("touchmove",j,$),(G=se.target)==null||G.removeEventListener("touchend",H)}function q(se){var G;B(se),window.addEventListener("touchmove",j,$),(G=se.target)==null||G.addEventListener("touchend",H,{passive:!1})}function z(se){se.preventDefault(),B(se),window.addEventListener("mousemove",j,$),window.addEventListener("mouseup",Y,{passive:!1})}const ne=se=>{const G=(se-c.value)/(f.value-c.value)*100;return Tn(isNaN(G)?0:G,0,100)},ue=de(t,"showTicks"),be=I(()=>ue.value?t.ticks?Array.isArray(t.ticks)?t.ticks.map(se=>({value:se,position:ne(se),label:se.toString()})):Object.keys(t.ticks).map(se=>({value:parseFloat(se),position:ne(parseFloat(se)),label:t.ticks[se]})):C.value!==1/0?wr(C.value+1).map(se=>{const G=c.value+se*v.value;return{value:G,position:ne(G)}}):[]:[]),Ae=I(()=>be.value.some(se=>{let{label:G}=se;return!!G})),Ne={activeThumbRef:A,color:de(t,"color"),decimals:m,disabled:k,direction:de(t,"direction"),elevation:de(t,"elevation"),hasLabels:Ae,isReversed:l,indexFromEnd:d,min:c,max:f,mousePressed:S,numTicks:C,onSliderMousedown:z,onSliderTouchstart:q,parsedTicks:be,parseMouseMove:P,position:ne,readonly:de(t,"readonly"),rounded:de(t,"rounded"),roundValue:p,showTicks:ue,startOffset:w,step:v,thumbSize:_,thumbColor:R,thumbLabel:de(t,"thumbLabel"),ticks:de(t,"ticks"),tickSize:y,trackColor:O,trackContainerRef:E,trackFillColor:x,trackSize:b,vertical:u};return Ut(K1,Ne),Ne},Yie=te({focused:Boolean,max:{type:Number,required:!0},min:{type:Number,required:!0},modelValue:{type:Number,required:!0},position:{type:Number,required:!0},ripple:{type:[Boolean,Object],default:!0},name:String,...$e()},"VSliderThumb"),ew=fe()({name:"VSliderThumb",directives:{Ripple:Vo},props:Yie(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n,emit:i}=t;const r=ot(K1),{isRtl:s,rtlClasses:o}=Jn();if(!r)throw new Error("[Vuetify] v-slider-thumb must be used inside v-slider or v-range-slider");const{thumbColor:a,step:l,disabled:u,thumbSize:d,thumbLabel:c,direction:f,isReversed:v,vertical:m,readonly:p,elevation:_,mousePressed:y,decimals:b,indexFromEnd:C}=r,k=I(()=>u.value?void 0:_.value),{elevationClasses:R}=hi(k),{textColorClasses:O,textColorStyles:x}=ci(a),{pageup:S,pagedown:w,end:E,home:A,left:P,right:D,down:B,up:$}=D0,j=[S,w,E,A,P,D,B,$],Y=I(()=>l.value?[1,2,3]:[1,5,10]);function H(z,ne){if(!j.includes(z.key))return;z.preventDefault();const ue=l.value||.1,be=(e.max-e.min)/ue;if([P,D,B,$].includes(z.key)){const Ne=(m.value?[s.value?P:D,v.value?B:$]:C.value!==s.value?[P,$]:[D,$]).includes(z.key)?1:-1,se=z.shiftKey?2:z.ctrlKey?1:0;ne=ne+Ne*ue*Y.value[se]}else if(z.key===A)ne=e.min;else if(z.key===E)ne=e.max;else{const Ae=z.key===w?1:-1;ne=ne-Ae*ue*(be>100?be/10:10)}return Math.max(e.min,Math.min(e.max,ne))}function q(z){const ne=H(z,e.modelValue);ne!=null&&i("update:modelValue",ne)}return ve(()=>{const z=Oe(C.value?100-e.position:e.position,"%");return h("div",{class:["v-slider-thumb",{"v-slider-thumb--focused":e.focused,"v-slider-thumb--pressed":e.focused&&y.value},e.class,o.value],style:[{"--v-slider-thumb-position":z,"--v-slider-thumb-size":Oe(d.value)},e.style],role:"slider",tabindex:u.value?-1:0,"aria-label":e.name,"aria-valuemin":e.min,"aria-valuemax":e.max,"aria-valuenow":e.modelValue,"aria-readonly":!!p.value,"aria-orientation":f.value,onKeydown:p.value?void 0:q},[h("div",{class:["v-slider-thumb__surface",O.value,R.value],style:{...x.value}},null),_n(h("div",{class:["v-slider-thumb__ripple",O.value],style:x.value},null),[[cr("ripple"),e.ripple,null,{circle:!0,center:!0}]]),h(x1,{origin:"bottom center"},{default:()=>{var ne;return[_n(h("div",{class:"v-slider-thumb__label-container"},[h("div",{class:["v-slider-thumb__label"]},[h("div",null,[((ne=n["thumb-label"])==null?void 0:ne.call(n,{modelValue:e.modelValue}))??e.modelValue.toFixed(l.value?b.value:1)])])]),[[fs,c.value&&e.focused||c.value==="always"]])]}})])}),{}}}),Kie=te({start:{type:Number,required:!0},stop:{type:Number,required:!0},...$e()},"VSliderTrack"),M$=fe()({name:"VSliderTrack",props:Kie(),emits:{},setup(e,t){let{slots:n}=t;const i=ot(K1);if(!i)throw new Error("[Vuetify] v-slider-track must be inside v-slider or v-range-slider");const{color:r,parsedTicks:s,rounded:o,showTicks:a,tickSize:l,trackColor:u,trackFillColor:d,trackSize:c,vertical:f,min:v,max:m,indexFromEnd:p}=i,{roundedClasses:_}=On(o),{backgroundColorClasses:y,backgroundColorStyles:b}=Gt(d),{backgroundColorClasses:C,backgroundColorStyles:k}=Gt(u),R=I(()=>`inset-${f.value?"block":"inline"}-${p.value?"end":"start"}`),O=I(()=>f.value?"height":"width"),x=I(()=>({[R.value]:"0%",[O.value]:"100%"})),S=I(()=>e.stop-e.start),w=I(()=>({[R.value]:Oe(e.start,"%"),[O.value]:Oe(S.value,"%")})),E=I(()=>a.value?(f.value?s.value.slice().reverse():s.value).map((P,D)=>{var $;const B=P.value!==v.value&&P.value!==m.value?Oe(P.position,"%"):void 0;return h("div",{key:P.value,class:["v-slider-track__tick",{"v-slider-track__tick--filled":P.position>=e.start&&P.position<=e.stop,"v-slider-track__tick--first":P.value===v.value,"v-slider-track__tick--last":P.value===m.value}],style:{[R.value]:B}},[(P.label||n["tick-label"])&&h("div",{class:"v-slider-track__tick-label"},[(($=n["tick-label"])==null?void 0:$.call(n,{tick:P,index:D}))??P.label])])}):[]);return ve(()=>h("div",{class:["v-slider-track",_.value,e.class],style:[{"--v-slider-track-size":Oe(c.value),"--v-slider-tick-size":Oe(l.value)},e.style]},[h("div",{class:["v-slider-track__background",C.value,{"v-slider-track__background--opacity":!!r.value||!d.value}],style:{...x.value,...k.value}},null),h("div",{class:["v-slider-track__fill",y.value],style:{...w.value,...b.value}},null),a.value&&h("div",{class:["v-slider-track__ticks",{"v-slider-track__ticks--always-show":a.value==="always"}]},[E.value])])),{}}}),Xie=te({...Yc(),...O$(),...No(),modelValue:{type:[Number,String],default:0}},"VSlider"),tw=fe()({name:"VSlider",props:Xie(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,start:e=>!0,end:e=>!0},setup(e,t){let{slots:n,emit:i}=t;const r=W(),{rtlClasses:s}=Jn(),o=V$(e),a=je(e,"modelValue",void 0,O=>o.roundValue(O??o.min.value)),{min:l,max:u,mousePressed:d,roundValue:c,onSliderMousedown:f,onSliderTouchstart:v,trackContainerRef:m,position:p,hasLabels:_,readonly:y}=N$({props:e,steps:o,onSliderStart:()=>{i("start",a.value)},onSliderEnd:O=>{let{value:x}=O;const S=c(x);a.value=S,i("end",S)},onSliderMove:O=>{let{value:x}=O;return a.value=c(x)},getActiveThumb:()=>{var O;return(O=r.value)==null?void 0:O.$el}}),{isFocused:b,focus:C,blur:k}=Gs(e),R=I(()=>p(a.value));return ve(()=>{const O=Ci.filterProps(e),x=!!(e.label||n.label||n.prepend);return h(Ci,Z({class:["v-slider",{"v-slider--has-labels":!!n["tick-label"]||_.value,"v-slider--focused":b.value,"v-slider--pressed":d.value,"v-slider--disabled":e.disabled},s.value,e.class],style:e.style},O,{focused:b.value}),{...n,prepend:x?S=>{var w,E;return h(Te,null,[((w=n.label)==null?void 0:w.call(n,S))??(e.label?h(qc,{id:S.id.value,class:"v-slider__label",text:e.label},null):void 0),(E=n.prepend)==null?void 0:E.call(n,S)])}:void 0,default:S=>{let{id:w,messagesId:E}=S;return h("div",{class:"v-slider__container",onMousedown:y.value?void 0:f,onTouchstartPassive:y.value?void 0:v},[h("input",{id:w.value,name:e.name||w.value,disabled:!!e.disabled,readonly:!!e.readonly,tabindex:"-1",value:a.value},null),h(M$,{ref:m,start:0,stop:R.value},{"tick-label":n["tick-label"]}),h(ew,{ref:r,"aria-describedby":E.value,focused:b.value,min:l.value,max:u.value,modelValue:a.value,"onUpdate:modelValue":A=>a.value=A,position:R.value,elevation:e.elevation,onFocus:C,onBlur:k,ripple:e.ripple,name:e.name},{"thumb-label":n["thumb-label"]})])}})}),{}}}),Qie=te({color:{type:Object},disabled:Boolean,hideAlpha:Boolean,...$e()},"VColorPickerPreview"),Jie=Pr({name:"VColorPickerPreview",props:Qie(),emits:{"update:color":e=>!0},setup(e,t){let{emit:n}=t;const i=new AbortController;Ar(()=>i.abort());async function r(){if(!ZA)return;const s=new window.EyeDropper;try{const o=await s.open({signal:i.signal}),a=WL(o.sRGBHex);n("update:color",{...e.color??Mu,...a})}catch{}}return ve(()=>{var s,o;return h("div",{class:["v-color-picker-preview",{"v-color-picker-preview--hide-alpha":e.hideAlpha},e.class],style:e.style},[ZA&&h("div",{class:"v-color-picker-preview__eye-dropper",key:"eyeDropper"},[h(dt,{onClick:r,icon:"$eyeDropper",variant:"plain",density:"comfortable"},null)]),h("div",{class:"v-color-picker-preview__dot"},[h("div",{style:{background:UL(e.color??Mu)}},null)]),h("div",{class:"v-color-picker-preview__sliders"},[h(tw,{class:"v-color-picker-preview__track v-color-picker-preview__hue",modelValue:(s=e.color)==null?void 0:s.h,"onUpdate:modelValue":a=>n("update:color",{...e.color??Mu,h:a}),step:0,min:0,max:360,disabled:e.disabled,thumbSize:14,trackSize:8,trackFillColor:"white",hideDetails:!0},null),!e.hideAlpha&&h(tw,{class:"v-color-picker-preview__track v-color-picker-preview__alpha",modelValue:((o=e.color)==null?void 0:o.a)??1,"onUpdate:modelValue":a=>n("update:color",{...e.color??Mu,a}),step:1/256,min:0,max:1,disabled:e.disabled,thumbSize:14,trackSize:8,trackFillColor:"white",hideDetails:!0},null)])])}),{}}}),Zie={base:"#f44336",lighten5:"#ffebee",lighten4:"#ffcdd2",lighten3:"#ef9a9a",lighten2:"#e57373",lighten1:"#ef5350",darken1:"#e53935",darken2:"#d32f2f",darken3:"#c62828",darken4:"#b71c1c",accent1:"#ff8a80",accent2:"#ff5252",accent3:"#ff1744",accent4:"#d50000"},ere={base:"#e91e63",lighten5:"#fce4ec",lighten4:"#f8bbd0",lighten3:"#f48fb1",lighten2:"#f06292",lighten1:"#ec407a",darken1:"#d81b60",darken2:"#c2185b",darken3:"#ad1457",darken4:"#880e4f",accent1:"#ff80ab",accent2:"#ff4081",accent3:"#f50057",accent4:"#c51162"},tre={base:"#9c27b0",lighten5:"#f3e5f5",lighten4:"#e1bee7",lighten3:"#ce93d8",lighten2:"#ba68c8",lighten1:"#ab47bc",darken1:"#8e24aa",darken2:"#7b1fa2",darken3:"#6a1b9a",darken4:"#4a148c",accent1:"#ea80fc",accent2:"#e040fb",accent3:"#d500f9",accent4:"#aa00ff"},nre={base:"#673ab7",lighten5:"#ede7f6",lighten4:"#d1c4e9",lighten3:"#b39ddb",lighten2:"#9575cd",lighten1:"#7e57c2",darken1:"#5e35b1",darken2:"#512da8",darken3:"#4527a0",darken4:"#311b92",accent1:"#b388ff",accent2:"#7c4dff",accent3:"#651fff",accent4:"#6200ea"},ire={base:"#3f51b5",lighten5:"#e8eaf6",lighten4:"#c5cae9",lighten3:"#9fa8da",lighten2:"#7986cb",lighten1:"#5c6bc0",darken1:"#3949ab",darken2:"#303f9f",darken3:"#283593",darken4:"#1a237e",accent1:"#8c9eff",accent2:"#536dfe",accent3:"#3d5afe",accent4:"#304ffe"},rre={base:"#2196f3",lighten5:"#e3f2fd",lighten4:"#bbdefb",lighten3:"#90caf9",lighten2:"#64b5f6",lighten1:"#42a5f5",darken1:"#1e88e5",darken2:"#1976d2",darken3:"#1565c0",darken4:"#0d47a1",accent1:"#82b1ff",accent2:"#448aff",accent3:"#2979ff",accent4:"#2962ff"},sre={base:"#03a9f4",lighten5:"#e1f5fe",lighten4:"#b3e5fc",lighten3:"#81d4fa",lighten2:"#4fc3f7",lighten1:"#29b6f6",darken1:"#039be5",darken2:"#0288d1",darken3:"#0277bd",darken4:"#01579b",accent1:"#80d8ff",accent2:"#40c4ff",accent3:"#00b0ff",accent4:"#0091ea"},ore={base:"#00bcd4",lighten5:"#e0f7fa",lighten4:"#b2ebf2",lighten3:"#80deea",lighten2:"#4dd0e1",lighten1:"#26c6da",darken1:"#00acc1",darken2:"#0097a7",darken3:"#00838f",darken4:"#006064",accent1:"#84ffff",accent2:"#18ffff",accent3:"#00e5ff",accent4:"#00b8d4"},are={base:"#009688",lighten5:"#e0f2f1",lighten4:"#b2dfdb",lighten3:"#80cbc4",lighten2:"#4db6ac",lighten1:"#26a69a",darken1:"#00897b",darken2:"#00796b",darken3:"#00695c",darken4:"#004d40",accent1:"#a7ffeb",accent2:"#64ffda",accent3:"#1de9b6",accent4:"#00bfa5"},lre={base:"#4caf50",lighten5:"#e8f5e9",lighten4:"#c8e6c9",lighten3:"#a5d6a7",lighten2:"#81c784",lighten1:"#66bb6a",darken1:"#43a047",darken2:"#388e3c",darken3:"#2e7d32",darken4:"#1b5e20",accent1:"#b9f6ca",accent2:"#69f0ae",accent3:"#00e676",accent4:"#00c853"},ure={base:"#8bc34a",lighten5:"#f1f8e9",lighten4:"#dcedc8",lighten3:"#c5e1a5",lighten2:"#aed581",lighten1:"#9ccc65",darken1:"#7cb342",darken2:"#689f38",darken3:"#558b2f",darken4:"#33691e",accent1:"#ccff90",accent2:"#b2ff59",accent3:"#76ff03",accent4:"#64dd17"},cre={base:"#cddc39",lighten5:"#f9fbe7",lighten4:"#f0f4c3",lighten3:"#e6ee9c",lighten2:"#dce775",lighten1:"#d4e157",darken1:"#c0ca33",darken2:"#afb42b",darken3:"#9e9d24",darken4:"#827717",accent1:"#f4ff81",accent2:"#eeff41",accent3:"#c6ff00",accent4:"#aeea00"},dre={base:"#ffeb3b",lighten5:"#fffde7",lighten4:"#fff9c4",lighten3:"#fff59d",lighten2:"#fff176",lighten1:"#ffee58",darken1:"#fdd835",darken2:"#fbc02d",darken3:"#f9a825",darken4:"#f57f17",accent1:"#ffff8d",accent2:"#ffff00",accent3:"#ffea00",accent4:"#ffd600"},fre={base:"#ffc107",lighten5:"#fff8e1",lighten4:"#ffecb3",lighten3:"#ffe082",lighten2:"#ffd54f",lighten1:"#ffca28",darken1:"#ffb300",darken2:"#ffa000",darken3:"#ff8f00",darken4:"#ff6f00",accent1:"#ffe57f",accent2:"#ffd740",accent3:"#ffc400",accent4:"#ffab00"},hre={base:"#ff9800",lighten5:"#fff3e0",lighten4:"#ffe0b2",lighten3:"#ffcc80",lighten2:"#ffb74d",lighten1:"#ffa726",darken1:"#fb8c00",darken2:"#f57c00",darken3:"#ef6c00",darken4:"#e65100",accent1:"#ffd180",accent2:"#ffab40",accent3:"#ff9100",accent4:"#ff6d00"},vre={base:"#ff5722",lighten5:"#fbe9e7",lighten4:"#ffccbc",lighten3:"#ffab91",lighten2:"#ff8a65",lighten1:"#ff7043",darken1:"#f4511e",darken2:"#e64a19",darken3:"#d84315",darken4:"#bf360c",accent1:"#ff9e80",accent2:"#ff6e40",accent3:"#ff3d00",accent4:"#dd2c00"},mre={base:"#795548",lighten5:"#efebe9",lighten4:"#d7ccc8",lighten3:"#bcaaa4",lighten2:"#a1887f",lighten1:"#8d6e63",darken1:"#6d4c41",darken2:"#5d4037",darken3:"#4e342e",darken4:"#3e2723"},gre={base:"#607d8b",lighten5:"#eceff1",lighten4:"#cfd8dc",lighten3:"#b0bec5",lighten2:"#90a4ae",lighten1:"#78909c",darken1:"#546e7a",darken2:"#455a64",darken3:"#37474f",darken4:"#263238"},pre={base:"#9e9e9e",lighten5:"#fafafa",lighten4:"#f5f5f5",lighten3:"#eeeeee",lighten2:"#e0e0e0",lighten1:"#bdbdbd",darken1:"#757575",darken2:"#616161",darken3:"#424242",darken4:"#212121"},_re={black:"#000000",white:"#ffffff",transparent:"#ffffff00"},yre={red:Zie,pink:ere,purple:tre,deepPurple:nre,indigo:ire,blue:rre,lightBlue:sre,cyan:ore,teal:are,green:lre,lightGreen:ure,lime:cre,yellow:dre,amber:fre,orange:hre,deepOrange:vre,brown:mre,blueGrey:gre,grey:pre,shades:_re},bre=te({swatches:{type:Array,default:()=>wre(yre)},disabled:Boolean,color:Object,maxHeight:[Number,String],...$e()},"VColorPickerSwatches");function wre(e){return Object.keys(e).map(t=>{const n=e[t];return n.base?[n.base,n.darken4,n.darken3,n.darken2,n.darken1,n.lighten1,n.lighten2,n.lighten3,n.lighten4,n.lighten5]:[n.black,n.white,n.transparent]})}const Sre=Pr({name:"VColorPickerSwatches",props:bre(),emits:{"update:color":e=>!0},setup(e,t){let{emit:n}=t;return ve(()=>h("div",{class:["v-color-picker-swatches",e.class],style:[{maxHeight:Oe(e.maxHeight)},e.style]},[h("div",null,[e.swatches.map(i=>h("div",{class:"v-color-picker-swatches__swatch"},[i.map(r=>{const s=Fr(r),o=t_(s),a=BL(s);return h("div",{class:"v-color-picker-swatches__color",onClick:()=>o&&n("update:color",o)},[h("div",{style:{background:a}},[e.color&&js(e.color,o)?h(Dt,{size:"x-small",icon:"$success",color:vZ(r,"#FFFFFF")>2?"white":"black"},null):void 0])])})]))])])),{}}}),g_=te({color:String,...dr(),...$e(),...qn(),...Zn(),...Oo(),...Wc(),...bn(),...ut(),...Ct()},"VSheet"),wa=fe()({name:"VSheet",props:g_(),setup(e,t){let{slots:n}=t;const{themeClasses:i}=Ft(e),{backgroundColorClasses:r,backgroundColorStyles:s}=Gt(de(e,"color")),{borderClasses:o}=Rr(e),{dimensionStyles:a}=Yn(e),{elevationClasses:l}=hi(e),{locationStyles:u}=su(e),{positionClasses:d}=zc(e),{roundedClasses:c}=On(e);return ve(()=>h(e.tag,{class:["v-sheet",i.value,r.value,o.value,l.value,d.value,c.value,e.class],style:[s.value,a.value,u.value,e.style]},n)),{}}}),Ere=te({canvasHeight:{type:[String,Number],default:150},disabled:Boolean,dotSize:{type:[Number,String],default:10},hideCanvas:Boolean,hideSliders:Boolean,hideInputs:Boolean,mode:{type:String,default:"rgba",validator:e=>Object.keys(bl).includes(e)},modes:{type:Array,default:()=>Object.keys(bl),validator:e=>Array.isArray(e)&&e.every(t=>Object.keys(bl).includes(t))},showSwatches:Boolean,swatches:Array,swatchesMaxHeight:{type:[Number,String],default:150},modelValue:{type:[Object,String]},...zt(g_({width:300}),["height","location","minHeight","maxHeight","minWidth","maxWidth"])},"VColorPicker"),Cre=Pr({name:"VColorPicker",props:Ere(),emits:{"update:modelValue":e=>!0,"update:mode":e=>!0},setup(e){const t=je(e,"mode"),n=W(null),i=je(e,"modelValue",void 0,l=>{if(l==null||l==="")return null;let u;try{u=t_(Fr(l))}catch{return null}return u},l=>l?Bie(l,e.modelValue):null),r=I(()=>i.value?{...i.value,h:n.value??i.value.h}:null),{rtlClasses:s}=Jn();let o=!0;ge(i,l=>{if(!o){o=!0;return}l&&(n.value=l.h)},{immediate:!0});const a=l=>{o=!1,n.value=l.h,i.value=l};return bt(()=>{e.modes.includes(t.value)||(t.value=e.modes[0])}),yn({VSlider:{color:void 0,trackColor:void 0,trackFillColor:void 0}}),ve(()=>{const l=wa.filterProps(e);return h(wa,Z({rounded:e.rounded,elevation:e.elevation,theme:e.theme,class:["v-color-picker",s.value,e.class],style:[{"--v-color-picker-color-hsv":UL({...r.value??Mu,a:1})},e.style]},l,{maxWidth:e.width}),{default:()=>[!e.hideCanvas&&h(Fie,{key:"canvas",color:r.value,"onUpdate:color":a,disabled:e.disabled,dotSize:e.dotSize,width:e.width,height:e.canvasHeight},null),(!e.hideSliders||!e.hideInputs)&&h("div",{key:"controls",class:"v-color-picker__controls"},[!e.hideSliders&&h(Jie,{key:"preview",color:r.value,"onUpdate:color":a,hideAlpha:!t.value.endsWith("a"),disabled:e.disabled},null),!e.hideInputs&&h(Gie,{key:"edit",modes:e.modes,mode:t.value,"onUpdate:mode":u=>t.value=u,color:r.value,"onUpdate:color":a,disabled:e.disabled},null)]),e.showSwatches&&h(Sre,{key:"swatches",color:r.value,"onUpdate:color":a,maxHeight:e.swatchesMaxHeight,swatches:e.swatches,disabled:e.disabled},null)]})}),{}}});function kre(e,t,n){if(t==null)return e;if(Array.isArray(t))throw new Error("Multiple matches is not implemented");return typeof t=="number"&&~t?h(Te,null,[h("span",{class:"v-combobox__unmask"},[e.substr(0,t)]),h("span",{class:"v-combobox__mask"},[e.substr(t,n)]),h("span",{class:"v-combobox__unmask"},[e.substr(t+n)])]):e}const Tre=te({autoSelectFirst:{type:[Boolean,String]},clearOnSelect:{type:Boolean,default:!0},delimiters:Array,...Qc({filterKeys:["title"]}),...G1({hideNoData:!0,returnObject:!0}),...zt(Xc({modelValue:null,role:"combobox"}),["validationValue","dirty","appendInnerIcon"]),...hs({transition:!1})},"VCombobox"),Ire=fe()({name:"VCombobox",props:Tre(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,"update:search":e=>!0,"update:menu":e=>!0},setup(e,t){var _e;let{emit:n,slots:i}=t;const{t:r}=sn(),s=W(),o=ke(!1),a=ke(!0),l=ke(!1),u=W(),d=W(),c=je(e,"menu"),f=I({get:()=>c.value,set:M=>{var L;c.value&&!M&&((L=u.value)!=null&&L.ΨopenChildren.size)||(c.value=M)}}),v=ke(-1);let m=!1;const p=I(()=>{var M;return(M=s.value)==null?void 0:M.color}),_=I(()=>f.value?e.closeText:e.openText),{items:y,transformIn:b,transformOut:C}=$1(e),{textColorClasses:k,textColorStyles:R}=ci(p),O=je(e,"modelValue",[],M=>b(mn(M)),M=>{const L=C(M);return e.multiple?L:L[0]??null}),x=$h(),S=I(()=>!!(e.chips||i.chip)),w=I(()=>S.value||!!i.selection),E=ke(!e.multiple&&!w.value?((_e=O.value[0])==null?void 0:_e.title)??"":""),A=I({get:()=>E.value,set:M=>{var L;if(E.value=M??"",!e.multiple&&!w.value&&(O.value=[ta(e,M)]),M&&e.multiple&&((L=e.delimiters)!=null&&L.length)){const J=M.split(new RegExp(`(?:${e.delimiters.join("|")})+`));J.length>1&&(J.forEach(ce=>{ce=ce.trim(),ce&&ie(ta(e,ce))}),E.value="")}M||(v.value=-1),a.value=!M}}),P=I(()=>typeof e.counterValue=="function"?e.counterValue(O.value):typeof e.counterValue=="number"?e.counterValue:e.multiple?O.value.length:A.value.length);ge(E,M=>{m?at(()=>m=!1):o.value&&!f.value&&(f.value=!0),n("update:search",M)}),ge(O,M=>{var L;!e.multiple&&!w.value&&(E.value=((L=M[0])==null?void 0:L.title)??"")});const{filteredItems:D,getMatches:B}=Jc(e,y,()=>a.value?"":A.value),$=I(()=>e.hideSelected?D.value.filter(M=>!O.value.some(L=>L.value===M.value)):D.value),j=I(()=>O.value.map(M=>M.value)),Y=I(()=>{var L;return(e.autoSelectFirst===!0||e.autoSelectFirst==="exact"&&A.value===((L=$.value[0])==null?void 0:L.title))&&$.value.length>0&&!a.value&&!l.value}),H=I(()=>e.hideNoData&&!$.value.length||e.readonly||(x==null?void 0:x.isReadonly.value)),q=W(),z=z1(q,s);function ne(M){m=!0,e.openOnClear&&(f.value=!0)}function ue(){H.value||(f.value=!0)}function be(M){H.value||(o.value&&(M.preventDefault(),M.stopPropagation()),f.value=!f.value)}function Ae(M){var L;hg(M)&&((L=s.value)==null||L.focus())}function Ne(M){var ce;if(FJ(M)||e.readonly||x!=null&&x.isReadonly.value)return;const L=s.value.selectionStart,J=O.value.length;if((v.value>-1||["Enter","ArrowDown","ArrowUp"].includes(M.key))&&M.preventDefault(),["Enter","ArrowDown"].includes(M.key)&&(f.value=!0),["Escape"].includes(M.key)&&(f.value=!1),["Enter","Escape","Tab"].includes(M.key)&&(Y.value&&["Enter","Tab"].includes(M.key)&&!O.value.some(ae=>{let{value:me}=ae;return me===$.value[0].value})&&ie(D.value[0]),a.value=!0),M.key==="ArrowDown"&&Y.value&&((ce=q.value)==null||ce.focus("next")),M.key==="Enter"&&A.value&&(ie(ta(e,A.value)),w.value&&(E.value="")),["Backspace","Delete"].includes(M.key)){if(!e.multiple&&w.value&&O.value.length>0&&!A.value)return ie(O.value[0],!1);if(~v.value){const ae=v.value;ie(O.value[v.value],!1),v.value=ae>=J-1?J-2:ae}else M.key==="Backspace"&&!A.value&&(v.value=J-1)}if(e.multiple){if(M.key==="ArrowLeft"){if(v.value<0&&L>0)return;const ae=v.value>-1?v.value-1:J-1;O.value[ae]?v.value=ae:(v.value=-1,s.value.setSelectionRange(A.value.length,A.value.length))}if(M.key==="ArrowRight"){if(v.value<0)return;const ae=v.value+1;O.value[ae]?v.value=ae:(v.value=-1,s.value.setSelectionRange(0,0))}}}function se(){var M;e.eager&&((M=d.value)==null||M.calculateVisibleItems())}function G(){var M;o.value&&(a.value=!0,(M=s.value)==null||M.focus())}function ie(M){let L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!(!M||M.props.disabled))if(e.multiple){const J=O.value.findIndex(ae=>e.valueComparator(ae.value,M.value)),ce=L??!~J;if(~J){const ae=ce?[...O.value,M]:[...O.value];ae.splice(J,1),O.value=ae}else ce&&(O.value=[...O.value,M]);e.clearOnSelect&&(A.value="")}else{const J=L!==!1;O.value=J?[M]:[],E.value=J&&!w.value?M.title:"",at(()=>{f.value=!1,a.value=!0})}}function Q(M){o.value=!0,setTimeout(()=>{l.value=!0})}function ee(M){l.value=!1}function X(M){(M==null||M===""&&!e.multiple&&!w.value)&&(O.value=[])}return ge(o,(M,L)=>{if(!(M||M===L)&&(v.value=-1,f.value=!1,A.value)){if(e.multiple){ie(ta(e,A.value));return}if(!w.value)return;O.value.some(J=>{let{title:ce}=J;return ce===A.value})?E.value="":ie(ta(e,A.value))}}),ge(f,()=>{if(!e.hideSelected&&f.value&&O.value.length){const M=$.value.findIndex(L=>O.value.some(J=>e.valueComparator(J.value,L.value)));Bt&&window.requestAnimationFrame(()=>{var L;M>=0&&((L=d.value)==null||L.scrollToIndex(M))})}}),ge(()=>e.items,(M,L)=>{f.value||o.value&&!L.length&&M.length&&(f.value=!0)}),ve(()=>{const M=!!(!e.hideNoData||$.value.length||i["prepend-item"]||i["append-item"]||i["no-data"]),L=O.value.length>0,J=ds.filterProps(e);return h(ds,Z({ref:s},J,{modelValue:A.value,"onUpdate:modelValue":[ce=>A.value=ce,X],focused:o.value,"onUpdate:focused":ce=>o.value=ce,validationValue:O.externalValue,counterValue:P.value,dirty:L,class:["v-combobox",{"v-combobox--active-menu":f.value,"v-combobox--chips":!!e.chips,"v-combobox--selection-slot":!!w.value,"v-combobox--selecting-index":v.value>-1,[`v-combobox--${e.multiple?"multiple":"single"}`]:!0},e.class],style:e.style,readonly:e.readonly,placeholder:L?void 0:e.placeholder,"onClick:clear":ne,"onMousedown:control":ue,onKeydown:Ne}),{...i,default:()=>h(Te,null,[h(Ll,Z({ref:u,modelValue:f.value,"onUpdate:modelValue":ce=>f.value=ce,activator:"parent",contentClass:"v-combobox__content",disabled:H.value,eager:e.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:e.transition,onAfterEnter:se,onAfterLeave:G},e.menuProps),{default:()=>[M&&h(Sc,Z({ref:q,selected:j.value,selectStrategy:e.multiple?"independent":"single-independent",onMousedown:ce=>ce.preventDefault(),onKeydown:Ae,onFocusin:Q,onFocusout:ee,tabindex:"-1","aria-live":"polite",color:e.itemColor??e.color},z,e.listProps),{default:()=>{var ce,ae,me;return[(ce=i["prepend-item"])==null?void 0:ce.call(i),!$.value.length&&!e.hideNoData&&(((ae=i["no-data"])==null?void 0:ae.call(i))??h(cs,{title:r(e.noDataText)},null)),h(h_,{ref:d,renderless:!0,items:$.value},{default:Pe=>{var Le;let{item:we,index:De,itemRef:Se}=Pe;const ze=Z(we.props,{ref:Se,key:De,active:Y.value&&De===0?!0:void 0,onClick:()=>ie(we,null)});return((Le=i.item)==null?void 0:Le.call(i,{item:we,index:De,props:ze}))??h(cs,Z(ze,{role:"option"}),{prepend:He=>{let{isSelected:Ve}=He;return h(Te,null,[e.multiple&&!e.hideSelected?h(Ms,{key:we.value,modelValue:Ve,ripple:!1,tabindex:"-1"},null):void 0,we.props.prependAvatar&&h(kr,{image:we.props.prependAvatar},null),we.props.prependIcon&&h(Dt,{icon:we.props.prependIcon},null)])},title:()=>{var He,Ve;return a.value?we.title:kre(we.title,(He=B(we))==null?void 0:He.title,((Ve=A.value)==null?void 0:Ve.length)??0)}})}}),(me=i["append-item"])==null?void 0:me.call(i)]}})]}),O.value.map((ce,ae)=>{function me(Se){Se.stopPropagation(),Se.preventDefault(),ie(ce,!1)}const Pe={"onClick:close":me,onKeydown(Se){Se.key!=="Enter"&&Se.key!==" "||(Se.preventDefault(),Se.stopPropagation(),me(Se))},onMousedown(Se){Se.preventDefault(),Se.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0},we=S.value?!!i.chip:!!i.selection,De=we?e_(S.value?i.chip({item:ce,index:ae,props:Pe}):i.selection({item:ce,index:ae})):void 0;if(!(we&&!De))return h("div",{key:ce.value,class:["v-combobox__selection",ae===v.value&&["v-combobox__selection--selected",k.value]],style:ae===v.value?R.value:{}},[S.value?i.chip?h(lt,{key:"chip-defaults",defaults:{VChip:{closable:e.closableChips,size:"small",text:ce.title}}},{default:()=>[De]}):h(ou,Z({key:"chip",closable:e.closableChips,size:"small",text:ce.title,disabled:ce.props.disabled},Pe),null):De??h("span",{class:"v-combobox__selection-text"},[ce.title,e.multiple&&ae<O.value.length-1&&h("span",{class:"v-combobox__selection-comma"},[Ie(",")])])])})]),"append-inner":function(){var Pe;for(var ce=arguments.length,ae=new Array(ce),me=0;me<ce;me++)ae[me]=arguments[me];return h(Te,null,[(Pe=i["append-inner"])==null?void 0:Pe.call(i,...ae),(!e.hideNoData||e.items.length)&&e.menuIcon?h(Dt,{class:"v-combobox__menu-icon",icon:e.menuIcon,onMousedown:be,onClick:OL,"aria-label":r(_.value),title:r(_.value),tabindex:"-1"},null):void 0])}})}),Or({isFocused:o,isPristine:a,menu:f,search:A,selectionIndex:v,filteredItems:D,select:ie},s)}}),L$=te({modelValue:null,color:String,cancelText:{type:String,default:"$vuetify.confirmEdit.cancel"},okText:{type:String,default:"$vuetify.confirmEdit.ok"}},"VConfirmEdit"),nw=fe()({name:"VConfirmEdit",props:L$(),emits:{cancel:()=>!0,save:e=>!0,"update:modelValue":e=>!0},setup(e,t){let{emit:n,slots:i}=t;const r=je(e,"modelValue"),s=W();rn(()=>{s.value=structuredClone(Ge(r.value))});const{t:o}=sn(),a=I(()=>js(r.value,s.value));function l(){r.value=s.value,n("save",s.value)}function u(){s.value=structuredClone(Ge(r.value)),n("cancel")}let d=!1;return ve(()=>{var f;const c=h(Te,null,[h(dt,{disabled:a.value,variant:"text",color:e.color,onClick:u,text:o(e.cancelText)},null),h(dt,{disabled:a.value,variant:"text",color:e.color,onClick:l,text:o(e.okText)},null)]);return h(Te,null,[(f=i.default)==null?void 0:f.call(i,{model:s,save:l,cancel:u,isPristine:a.value,get actions(){return d=!0,c}}),!d&&c])}),{save:l,cancel:u,isPristine:a}}}),F$=te({expandOnClick:Boolean,showExpand:Boolean,expanded:{type:Array,default:()=>[]}},"DataTable-expand"),$$=Symbol.for("vuetify:datatable:expanded");function p_(e){const t=de(e,"expandOnClick"),n=je(e,"expanded",e.expanded,a=>new Set(a),a=>[...a.values()]);function i(a,l){const u=new Set(n.value);l?u.add(a.value):u.delete(a.value),n.value=u}function r(a){return n.value.has(a.value)}function s(a){i(a,!r(a))}const o={expand:i,expanded:n,expandOnClick:t,isExpanded:r,toggleExpand:s};return Ut($$,o),o}function B$(){const e=ot($$);if(!e)throw new Error("foo");return e}const X1=te({groupBy:{type:Array,default:()=>[]}},"DataTable-group"),U$=Symbol.for("vuetify:data-table-group");function Q1(e){return{groupBy:je(e,"groupBy")}}function __(e){const{disableSort:t,groupBy:n,sortBy:i}=e,r=W(new Set),s=I(()=>n.value.map(d=>({...d,order:d.order??!1})).concat(t!=null&&t.value?[]:i.value));function o(d){return r.value.has(d.id)}function a(d){const c=new Set(r.value);o(d)?c.delete(d.id):c.add(d.id),r.value=c}function l(d){function c(f){const v=[];for(const m of f.items)"type"in m&&m.type==="group"?v.push(...c(m)):v.push(m);return v}return c({type:"group",items:d,id:"dummy",key:"dummy",value:"dummy",depth:0})}const u={sortByWithGroups:s,toggleGroup:a,opened:r,groupBy:n,extractRows:l,isGroupOpen:o};return Ut(U$,u),u}function j$(){const e=ot(U$);if(!e)throw new Error("Missing group!");return e}function Are(e,t){if(!e.length)return[];const n=new Map;for(const i of e){const r=Ml(i.raw,t);n.has(r)||n.set(r,[]),n.get(r).push(i)}return n}function H$(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"root";if(!t.length)return[];const r=Are(e,t[0]),s=[],o=t.slice(1);return r.forEach((a,l)=>{const u=t[0],d=`${i}_${u}_${l}`;s.push({depth:n,id:d,key:u,value:l,items:o.length?H$(a,o,n+1,d):a,type:"group"})}),s}function W$(e,t){const n=[];for(const i of e)"type"in i&&i.type==="group"?(i.value!=null&&n.push(i),(t.has(i.id)||i.value==null)&&n.push(...W$(i.items,t))):n.push(i);return n}function y_(e,t,n){return{flatItems:I(()=>{if(!t.value.length)return e.value;const r=H$(e.value,t.value.map(s=>s.key));return W$(r,n.value)})}}function b_(e){let{page:t,itemsPerPage:n,sortBy:i,groupBy:r,search:s}=e;const o=Rn("VDataTable"),a=I(()=>({page:t.value,itemsPerPage:n.value,sortBy:i.value,groupBy:r.value,search:s.value}));let l=null;ge(a,()=>{js(l,a.value)||(l&&l.search!==a.value.search&&(t.value=1),o.emit("update:options",a.value),l=a.value)},{deep:!0,immediate:!0})}const J1=te({page:{type:[Number,String],default:1},itemsPerPage:{type:[Number,String],default:10}},"DataTable-paginate"),z$=Symbol.for("vuetify:data-table-pagination");function Z1(e){const t=je(e,"page",void 0,i=>+(i??1)),n=je(e,"itemsPerPage",void 0,i=>+(i??10));return{page:t,itemsPerPage:n}}function eC(e){const{page:t,itemsPerPage:n,itemsLength:i}=e,r=I(()=>n.value===-1?0:n.value*(t.value-1)),s=I(()=>n.value===-1?i.value:Math.min(i.value,r.value+n.value)),o=I(()=>n.value===-1||i.value===0?1:Math.ceil(i.value/n.value));rn(()=>{t.value>o.value&&(t.value=o.value)});function a(f){n.value=f,t.value=1}function l(){t.value=Tn(t.value+1,1,o.value)}function u(){t.value=Tn(t.value-1,1,o.value)}function d(f){t.value=Tn(f,1,o.value)}const c={page:t,itemsPerPage:n,startIndex:r,stopIndex:s,pageCount:o,itemsLength:i,nextPage:l,prevPage:u,setPage:d,setItemsPerPage:a};return Ut(z$,c),c}function Pre(){const e=ot(z$);if(!e)throw new Error("Missing pagination!");return e}function G$(e){const t=Rn("usePaginatedItems"),{items:n,startIndex:i,stopIndex:r,itemsPerPage:s}=e,o=I(()=>s.value<=0?n.value:n.value.slice(i.value,r.value));return ge(o,a=>{t.emit("update:currentItems",a)}),{paginatedItems:o}}const xre={showSelectAll:!1,allSelected:()=>[],select:e=>{var i;let{items:t,value:n}=e;return new Set(n?[(i=t[0])==null?void 0:i.value]:[])},selectAll:e=>{let{selected:t}=e;return t}},q$={showSelectAll:!0,allSelected:e=>{let{currentPage:t}=e;return t},select:e=>{let{items:t,value:n,selected:i}=e;for(const r of t)n?i.add(r.value):i.delete(r.value);return i},selectAll:e=>{let{value:t,currentPage:n,selected:i}=e;return q$.select({items:n,value:t,selected:i})}},Y$={showSelectAll:!0,allSelected:e=>{let{allItems:t}=e;return t},select:e=>{let{items:t,value:n,selected:i}=e;for(const r of t)n?i.add(r.value):i.delete(r.value);return i},selectAll:e=>{let{value:t,allItems:n,selected:i}=e;return Y$.select({items:n,value:t,selected:i})}},K$=te({showSelect:Boolean,selectStrategy:{type:[String,Object],default:"page"},modelValue:{type:Array,default:()=>[]},valueComparator:{type:Function,default:js}},"DataTable-select"),X$=Symbol.for("vuetify:data-table-selection");function w_(e,t){let{allItems:n,currentPage:i}=t;const r=je(e,"modelValue",e.modelValue,y=>new Set(mn(y).map(b=>{var C;return((C=n.value.find(k=>e.valueComparator(b,k.value)))==null?void 0:C.value)??b})),y=>[...y.values()]),s=I(()=>n.value.filter(y=>y.selectable)),o=I(()=>i.value.filter(y=>y.selectable)),a=I(()=>{if(typeof e.selectStrategy=="object")return e.selectStrategy;switch(e.selectStrategy){case"single":return xre;case"all":return Y$;case"page":default:return q$}});function l(y){return mn(y).every(b=>r.value.has(b.value))}function u(y){return mn(y).some(b=>r.value.has(b.value))}function d(y,b){const C=a.value.select({items:y,value:b,selected:new Set(r.value)});r.value=C}function c(y){d([y],!l([y]))}function f(y){const b=a.value.selectAll({value:y,allItems:s.value,currentPage:o.value,selected:new Set(r.value)});r.value=b}const v=I(()=>r.value.size>0),m=I(()=>{const y=a.value.allSelected({allItems:s.value,currentPage:o.value});return!!y.length&&l(y)}),p=I(()=>a.value.showSelectAll),_={toggleSelect:c,select:d,selectAll:f,isSelected:l,isSomeSelected:u,someSelected:v,allSelected:m,showSelectAll:p};return Ut(X$,_),_}function S_(){const e=ot(X$);if(!e)throw new Error("Missing selection!");return e}const Q$=te({sortBy:{type:Array,default:()=>[]},customKeySort:Object,multiSort:Boolean,mustSort:Boolean},"DataTable-sort"),J$=Symbol.for("vuetify:data-table-sort");function E_(e){const t=je(e,"sortBy"),n=de(e,"mustSort"),i=de(e,"multiSort");return{sortBy:t,mustSort:n,multiSort:i}}function C_(e){const{sortBy:t,mustSort:n,multiSort:i,page:r}=e,s=l=>{if(l.key==null)return;let u=t.value.map(c=>({...c}))??[];const d=u.find(c=>c.key===l.key);d?d.order==="desc"?n.value?d.order="asc":u=u.filter(c=>c.key!==l.key):d.order="desc":i.value?u=[...u,{key:l.key,order:"asc"}]:u=[{key:l.key,order:"asc"}],t.value=u,r&&(r.value=1)};function o(l){return!!t.value.find(u=>u.key===l.key)}const a={sortBy:t,toggleSort:s,isSorted:o};return Ut(J$,a),a}function Z$(){const e=ot(J$);if(!e)throw new Error("Missing sort!");return e}function tC(e,t,n,i){const r=sn();return{sortedItems:I(()=>{var o,a;return n.value.length?Dre(t.value,n.value,r.current.value,{transform:i==null?void 0:i.transform,sortFunctions:{...e.customKeySort,...(o=i==null?void 0:i.sortFunctions)==null?void 0:o.value},sortRawFunctions:(a=i==null?void 0:i.sortRawFunctions)==null?void 0:a.value}):t.value})}}function Dre(e,t,n,i){const r=new Intl.Collator(n,{sensitivity:"accent",usage:"sort"});return e.map(o=>[o,i!=null&&i.transform?i.transform(o):o]).sort((o,a)=>{var l,u;for(let d=0;d<t.length;d++){let c=!1;const f=t[d].key,v=t[d].order??"asc";if(v===!1)continue;let m=Ml(o[1],f),p=Ml(a[1],f),_=o[0].raw,y=a[0].raw;if(v==="desc"&&([m,p]=[p,m],[_,y]=[y,_]),(l=i==null?void 0:i.sortRawFunctions)!=null&&l[f]){const b=i.sortRawFunctions[f](_,y);if(b==null)continue;if(c=!0,b)return b}if((u=i==null?void 0:i.sortFunctions)!=null&&u[f]){const b=i.sortFunctions[f](m,p);if(b==null)continue;if(c=!0,b)return b}if(!c){if(m instanceof Date&&p instanceof Date)return m.getTime()-p.getTime();if([m,p]=[m,p].map(b=>b!=null?b.toString().toLocaleLowerCase():b),m!==p)return xv(m)&&xv(p)?0:xv(m)?-1:xv(p)?1:!isNaN(m)&&!isNaN(p)?Number(m)-Number(p):r.compare(m,p)}}return 0}).map(o=>{let[a]=o;return a})}const Rre=te({items:{type:Array,default:()=>[]},itemValue:{type:[String,Array,Function],default:"id"},itemSelectable:{type:[String,Array,Function],default:null},returnObject:Boolean},"DataIterator-items");function Ore(e,t){const n=e.returnObject?t:jn(t,e.itemValue),i=jn(t,e.itemSelectable,!0);return{type:"item",value:n,selectable:i,raw:t}}function Vre(e,t){const n=[];for(const i of t)n.push(Ore(e,i));return n}function Nre(e){return{items:I(()=>Vre(e,e.items))}}const Mre=te({search:String,loading:Boolean,...$e(),...Rre(),...K$(),...Q$(),...J1({itemsPerPage:5}),...F$(),...X1(),...Qc(),...ut(),...hs({transition:{component:Bf,hideOnLeave:!0}})},"VDataIterator"),Lre=fe()({name:"VDataIterator",props:Mre(),emits:{"update:modelValue":e=>!0,"update:groupBy":e=>!0,"update:page":e=>!0,"update:itemsPerPage":e=>!0,"update:sortBy":e=>!0,"update:options":e=>!0,"update:expanded":e=>!0,"update:currentItems":e=>!0},setup(e,t){let{slots:n}=t;const i=je(e,"groupBy"),r=de(e,"search"),{items:s}=Nre(e),{filteredItems:o}=Jc(e,s,r,{transform:ne=>ne.raw}),{sortBy:a,multiSort:l,mustSort:u}=E_(e),{page:d,itemsPerPage:c}=Z1(e),{toggleSort:f}=C_({sortBy:a,multiSort:l,mustSort:u,page:d}),{sortByWithGroups:v,opened:m,extractRows:p,isGroupOpen:_,toggleGroup:y}=__({groupBy:i,sortBy:a}),{sortedItems:b}=tC(e,o,v,{transform:ne=>ne.raw}),{flatItems:C}=y_(b,i,m),k=I(()=>C.value.length),{startIndex:R,stopIndex:O,pageCount:x,prevPage:S,nextPage:w,setItemsPerPage:E,setPage:A}=eC({page:d,itemsPerPage:c,itemsLength:k}),{paginatedItems:P}=G$({items:C,startIndex:R,stopIndex:O,itemsPerPage:c}),D=I(()=>p(P.value)),{isSelected:B,select:$,selectAll:j,toggleSelect:Y}=w_(e,{allItems:s,currentPage:D}),{isExpanded:H,toggleExpand:q}=p_(e);b_({page:d,itemsPerPage:c,sortBy:a,groupBy:i,search:r});const z=I(()=>({page:d.value,itemsPerPage:c.value,sortBy:a.value,pageCount:x.value,toggleSort:f,prevPage:S,nextPage:w,setPage:A,setItemsPerPage:E,isSelected:B,select:$,selectAll:j,toggleSelect:Y,isExpanded:H,toggleExpand:q,isGroupOpen:_,toggleGroup:y,items:D.value,groupedItems:P.value}));return ve(()=>h(e.tag,{class:["v-data-iterator",{"v-data-iterator--loading":e.loading},e.class],style:e.style},{default:()=>{var ne,ue;return[(ne=n.header)==null?void 0:ne.call(n,z.value),h(Bi,{transition:e.transition},{default:()=>{var be,Ae;return[e.loading?h(Lh,{key:"loader",name:"v-data-iterator",active:!0},{default:Ne=>{var se;return(se=n.loader)==null?void 0:se.call(n,Ne)}}):h("div",{key:"items"},[P.value.length?(Ae=n.default)==null?void 0:Ae.call(n,z.value):(be=n["no-data"])==null?void 0:be.call(n)])]}}),(ue=n.footer)==null?void 0:ue.call(n,z.value)]}})),{}}});function Fre(){const e=W([]);AO(()=>e.value=[]);function t(n,i){e.value[i]=n}return{refs:e,updateRef:t}}const $re=te({activeColor:String,start:{type:[Number,String],default:1},modelValue:{type:Number,default:e=>e.start},disabled:Boolean,length:{type:[Number,String],default:1,validator:e=>e%1===0},totalVisible:[Number,String],firstIcon:{type:Ze,default:"$first"},prevIcon:{type:Ze,default:"$prev"},nextIcon:{type:Ze,default:"$next"},lastIcon:{type:Ze,default:"$last"},ariaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.root"},pageAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.page"},currentPageAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.currentPage"},firstAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.first"},previousAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.previous"},nextAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.next"},lastAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.last"},ellipsis:{type:String,default:"..."},showFirstLastPage:Boolean,...dr(),...$e(),...ri(),...Zn(),...bn(),...zs(),...ut({tag:"nav"}),...Ct(),...Hr({variant:"text"})},"VPagination"),iw=fe()({name:"VPagination",props:$re(),emits:{"update:modelValue":e=>!0,first:e=>!0,prev:e=>!0,next:e=>!0,last:e=>!0},setup(e,t){let{slots:n,emit:i}=t;const r=je(e,"modelValue"),{t:s,n:o}=sn(),{isRtl:a}=Jn(),{themeClasses:l}=Ft(e),{width:u}=xr(),d=ke(-1);yn(void 0,{scoped:!0});const{resizeRef:c}=us(S=>{if(!S.length)return;const{target:w,contentRect:E}=S[0],A=w.querySelector(".v-pagination__list > *");if(!A)return;const P=E.width,D=A.offsetWidth+parseFloat(getComputedStyle(A).marginRight)*2;d.value=p(P,D)}),f=I(()=>parseInt(e.length,10)),v=I(()=>parseInt(e.start,10)),m=I(()=>e.totalVisible!=null?parseInt(e.totalVisible,10):d.value>=0?d.value:p(u.value,58));function p(S,w){const E=e.showFirstLastPage?5:3;return Math.max(0,Math.floor(+((S-w*E)/w).toFixed(2)))}const _=I(()=>{if(f.value<=0||isNaN(f.value)||f.value>Number.MAX_SAFE_INTEGER)return[];if(m.value<=0)return[];if(m.value===1)return[r.value];if(f.value<=m.value)return wr(f.value,v.value);const S=m.value%2===0,w=S?m.value/2:Math.floor(m.value/2),E=S?w:w+1,A=f.value-w;if(E-r.value>=0)return[...wr(Math.max(1,m.value-1),v.value),e.ellipsis,f.value];if(r.value-A>=(S?1:0)){const P=m.value-1,D=f.value-P+v.value;return[v.value,e.ellipsis,...wr(P,D)]}else{const P=Math.max(1,m.value-3),D=P===1?r.value:r.value-Math.ceil(P/2)+v.value;return[v.value,e.ellipsis,...wr(P,D),e.ellipsis,f.value]}});function y(S,w,E){S.preventDefault(),r.value=w,E&&i(E,w)}const{refs:b,updateRef:C}=Fre();yn({VPaginationBtn:{color:de(e,"color"),border:de(e,"border"),density:de(e,"density"),size:de(e,"size"),variant:de(e,"variant"),rounded:de(e,"rounded"),elevation:de(e,"elevation")}});const k=I(()=>_.value.map((S,w)=>{const E=A=>C(A,w);if(typeof S=="string")return{isActive:!1,key:`ellipsis-${w}`,page:S,props:{ref:E,ellipsis:!0,icon:!0,disabled:!0}};{const A=S===r.value;return{isActive:A,key:S,page:o(S),props:{ref:E,ellipsis:!1,icon:!0,disabled:!!e.disabled||+e.length<2,color:A?e.activeColor:e.color,"aria-current":A,"aria-label":s(A?e.currentPageAriaLabel:e.pageAriaLabel,S),onClick:P=>y(P,S)}}}})),R=I(()=>{const S=!!e.disabled||r.value<=v.value,w=!!e.disabled||r.value>=v.value+f.value-1;return{first:e.showFirstLastPage?{icon:a.value?e.lastIcon:e.firstIcon,onClick:E=>y(E,v.value,"first"),disabled:S,"aria-label":s(e.firstAriaLabel),"aria-disabled":S}:void 0,prev:{icon:a.value?e.nextIcon:e.prevIcon,onClick:E=>y(E,r.value-1,"prev"),disabled:S,"aria-label":s(e.previousAriaLabel),"aria-disabled":S},next:{icon:a.value?e.prevIcon:e.nextIcon,onClick:E=>y(E,r.value+1,"next"),disabled:w,"aria-label":s(e.nextAriaLabel),"aria-disabled":w},last:e.showFirstLastPage?{icon:a.value?e.firstIcon:e.lastIcon,onClick:E=>y(E,v.value+f.value-1,"last"),disabled:w,"aria-label":s(e.lastAriaLabel),"aria-disabled":w}:void 0}});function O(){var w;const S=r.value-v.value;(w=b.value[S])==null||w.$el.focus()}function x(S){S.key===D0.left&&!e.disabled&&r.value>+e.start?(r.value=r.value-1,at(O)):S.key===D0.right&&!e.disabled&&r.value<v.value+f.value-1&&(r.value=r.value+1,at(O))}return ve(()=>h(e.tag,{ref:c,class:["v-pagination",l.value,e.class],style:e.style,role:"navigation","aria-label":s(e.ariaLabel),onKeydown:x,"data-test":"v-pagination-root"},{default:()=>[h("ul",{class:"v-pagination__list"},[e.showFirstLastPage&&h("li",{key:"first",class:"v-pagination__first","data-test":"v-pagination-first"},[n.first?n.first(R.value.first):h(dt,Z({_as:"VPaginationBtn"},R.value.first),null)]),h("li",{key:"prev",class:"v-pagination__prev","data-test":"v-pagination-prev"},[n.prev?n.prev(R.value.prev):h(dt,Z({_as:"VPaginationBtn"},R.value.prev),null)]),k.value.map((S,w)=>h("li",{key:S.key,class:["v-pagination__item",{"v-pagination__item--is-active":S.isActive}],"data-test":"v-pagination-item"},[n.item?n.item(S):h(dt,Z({_as:"VPaginationBtn"},S.props),{default:()=>[S.page]})])),h("li",{key:"next",class:"v-pagination__next","data-test":"v-pagination-next"},[n.next?n.next(R.value.next):h(dt,Z({_as:"VPaginationBtn"},R.value.next),null)]),e.showFirstLastPage&&h("li",{key:"last",class:"v-pagination__last","data-test":"v-pagination-last"},[n.last?n.last(R.value.last):h(dt,Z({_as:"VPaginationBtn"},R.value.last),null)])])]})),{}}}),nC=te({prevIcon:{type:Ze,default:"$prev"},nextIcon:{type:Ze,default:"$next"},firstIcon:{type:Ze,default:"$first"},lastIcon:{type:Ze,default:"$last"},itemsPerPageText:{type:String,default:"$vuetify.dataFooter.itemsPerPageText"},pageText:{type:String,default:"$vuetify.dataFooter.pageText"},firstPageLabel:{type:String,default:"$vuetify.dataFooter.firstPage"},prevPageLabel:{type:String,default:"$vuetify.dataFooter.prevPage"},nextPageLabel:{type:String,default:"$vuetify.dataFooter.nextPage"},lastPageLabel:{type:String,default:"$vuetify.dataFooter.lastPage"},itemsPerPageOptions:{type:Array,default:()=>[{value:10,title:"10"},{value:25,title:"25"},{value:50,title:"50"},{value:100,title:"100"},{value:-1,title:"$vuetify.dataFooter.itemsPerPageAll"}]},showCurrentPage:Boolean},"VDataTableFooter"),qf=fe()({name:"VDataTableFooter",props:nC(),setup(e,t){let{slots:n}=t;const{t:i}=sn(),{page:r,pageCount:s,startIndex:o,stopIndex:a,itemsLength:l,itemsPerPage:u,setItemsPerPage:d}=Pre(),c=I(()=>e.itemsPerPageOptions.map(f=>typeof f=="number"?{value:f,title:f===-1?i("$vuetify.dataFooter.itemsPerPageAll"):String(f)}:{...f,title:isNaN(Number(f.title))?i(f.title):f.title}));return ve(()=>{var v;const f=iw.filterProps(e);return h("div",{class:"v-data-table-footer"},[(v=n.prepend)==null?void 0:v.call(n),h("div",{class:"v-data-table-footer__items-per-page"},[h("span",null,[i(e.itemsPerPageText)]),h(q1,{items:c.value,modelValue:u.value,"onUpdate:modelValue":m=>d(Number(m)),density:"compact",variant:"outlined","hide-details":!0},null)]),h("div",{class:"v-data-table-footer__info"},[h("div",null,[i(e.pageText,l.value?o.value+1:0,a.value,l.value)])]),h("div",{class:"v-data-table-footer__pagination"},[h(iw,Z({modelValue:r.value,"onUpdate:modelValue":m=>r.value=m,density:"comfortable","first-aria-label":e.firstPageLabel,"last-aria-label":e.lastPageLabel,length:s.value,"next-aria-label":e.nextPageLabel,"previous-aria-label":e.prevPageLabel,rounded:!0,"show-first-last-page":!0,"total-visible":e.showCurrentPage?1:0,variant:"plain"},f),null)])])}),{}}}),_g=yZ({align:{type:String,default:"start"},fixed:Boolean,fixedOffset:[Number,String],height:[Number,String],lastFixed:Boolean,noPadding:Boolean,tag:String,width:[Number,String],maxWidth:[Number,String],nowrap:Boolean},(e,t)=>{let{slots:n}=t;const i=e.tag??"td";return h(i,{class:["v-data-table__td",{"v-data-table-column--fixed":e.fixed,"v-data-table-column--last-fixed":e.lastFixed,"v-data-table-column--no-padding":e.noPadding,"v-data-table-column--nowrap":e.nowrap},`v-data-table-column--align-${e.align}`],style:{height:Oe(e.height),width:Oe(e.width),maxWidth:Oe(e.maxWidth),left:Oe(e.fixedOffset||null)}},{default:()=>{var r;return[(r=n.default)==null?void 0:r.call(n)]}})}),Bre=te({headers:Array},"DataTable-header"),eB=Symbol.for("vuetify:data-table-headers"),tB={title:"",sortable:!1},Ure={...tB,width:48};function jre(){const t=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]).map(n=>({element:n,priority:0}));return{enqueue:(n,i)=>{let r=!1;for(let s=0;s<t.length;s++)if(t[s].priority>i){t.splice(s,0,{element:n,priority:i}),r=!0;break}r||t.push({element:n,priority:i})},size:()=>t.length,count:()=>{let n=0;if(!t.length)return 0;const i=Math.floor(t[0].priority);for(let r=0;r<t.length;r++)Math.floor(t[r].priority)===i&&(n+=1);return n},dequeue:()=>t.shift()}}function rw(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];if(!e.children)t.push(e);else for(const n of e.children)rw(n,t);return t}function nB(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:new Set;for(const n of e)n.key&&t.add(n.key),n.children&&nB(n.children,t);return t}function Hre(e){if(e.key){if(e.key==="data-table-group")return tB;if(["data-table-expand","data-table-select"].includes(e.key))return Ure}}function iC(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return e.children?Math.max(t,...e.children.map(n=>iC(n,t+1))):t}function Wre(e){let t=!1;function n(s){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(s)if(o&&(s.fixed=!0),s.fixed)if(s.children)for(let a=s.children.length-1;a>=0;a--)n(s.children[a],!0);else t?isNaN(+s.width)&&(`${s.key}`,void 0):s.lastFixed=!0,t=!0;else if(s.children)for(let a=s.children.length-1;a>=0;a--)n(s.children[a]);else t=!1}for(let s=e.length-1;s>=0;s--)n(e[s]);function i(s){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(!s)return o;if(s.children){s.fixedOffset=o;for(const a of s.children)o=i(a,o)}else s.fixed&&(s.fixedOffset=o,o+=parseFloat(s.width||"0")||0);return o}let r=0;for(const s of e)r=i(s,r)}function zre(e,t){const n=[];let i=0;const r=jre(e);for(;r.size()>0;){let o=r.count();const a=[];let l=1;for(;o>0;){const{element:u,priority:d}=r.dequeue(),c=t-i-iC(u);if(a.push({...u,rowspan:c??1,colspan:u.children?rw(u).length:1}),u.children)for(const f of u.children){const v=d%1+l/Math.pow(10,i+2);r.enqueue(f,i+c+v)}l+=1,o-=1}i+=1,n.push(a)}return{columns:e.map(o=>rw(o)).flat(),headers:n}}function iB(e){const t=[];for(const n of e){const i={...Hre(n),...n},r=i.key??(typeof i.value=="string"?i.value:null),s=i.value??r??null,o={...i,key:r,value:s,sortable:i.sortable??(i.key!=null||!!i.sort),children:i.children?iB(i.children):void 0};t.push(o)}return t}function rC(e,t){const n=W([]),i=W([]),r=W({}),s=W({}),o=W({});rn(()=>{var p,_,y;const u=(e.headers||Object.keys(e.items[0]??{}).map(b=>({key:b,title:Fs(b)}))).slice(),d=nB(u);(p=t==null?void 0:t.groupBy)!=null&&p.value.length&&!d.has("data-table-group")&&u.unshift({key:"data-table-group",title:"Group"}),(_=t==null?void 0:t.showSelect)!=null&&_.value&&!d.has("data-table-select")&&u.unshift({key:"data-table-select"}),(y=t==null?void 0:t.showExpand)!=null&&y.value&&!d.has("data-table-expand")&&u.push({key:"data-table-expand"});const c=iB(u);Wre(c);const f=Math.max(...c.map(b=>iC(b)))+1,v=zre(c,f);n.value=v.headers,i.value=v.columns;const m=v.headers.flat(1);for(const b of m)b.key&&(b.sortable&&(b.sort&&(r.value[b.key]=b.sort),b.sortRaw&&(s.value[b.key]=b.sortRaw)),b.filter&&(o.value[b.key]=b.filter))});const a={headers:n,columns:i,sortFunctions:r,sortRawFunctions:s,filterFunctions:o};return Ut(eB,a),a}function k_(){const e=ot(eB);if(!e)throw new Error("Missing headers!");return e}const rB=te({color:String,sticky:Boolean,disableSort:Boolean,multiSort:Boolean,sortAscIcon:{type:Ze,default:"$sortAsc"},sortDescIcon:{type:Ze,default:"$sortDesc"},headerProps:{type:Object},...Ql(),...u_()},"VDataTableHeaders"),Bl=fe()({name:"VDataTableHeaders",props:rB(),setup(e,t){let{slots:n}=t;const{t:i}=sn(),{toggleSort:r,sortBy:s,isSorted:o}=Z$(),{someSelected:a,allSelected:l,selectAll:u,showSelectAll:d}=S_(),{columns:c,headers:f}=k_(),{loaderClasses:v}=Mh(e);function m(S,w){if(!(!e.sticky&&!S.fixed))return{position:"sticky",left:S.fixed?Oe(S.fixedOffset):void 0,top:e.sticky?`calc(var(--v-table-header-height) * ${w})`:void 0}}function p(S){const w=s.value.find(E=>E.key===S.key);return w?w.order==="asc"?e.sortAscIcon:e.sortDescIcon:e.sortAscIcon}const{backgroundColorClasses:_,backgroundColorStyles:y}=Gt(e,"color"),{displayClasses:b,mobile:C}=xr(e),k=I(()=>({headers:f.value,columns:c.value,toggleSort:r,isSorted:o,sortBy:s.value,someSelected:a.value,allSelected:l.value,selectAll:u,getSortIcon:p})),R=I(()=>["v-data-table__th",{"v-data-table__th--sticky":e.sticky},b.value,v.value]),O=S=>{let{column:w,x:E,y:A}=S;const P=w.key==="data-table-select"||w.key==="data-table-expand",D=Z(e.headerProps??{},w.headerProps??{});return h(_g,Z({tag:"th",align:w.align,class:[{"v-data-table__th--sortable":w.sortable&&!e.disableSort,"v-data-table__th--sorted":o(w),"v-data-table__th--fixed":w.fixed},...R.value],style:{width:Oe(w.width),minWidth:Oe(w.minWidth),maxWidth:Oe(w.maxWidth),...m(w,A)},colspan:w.colspan,rowspan:w.rowspan,onClick:w.sortable?()=>r(w):void 0,fixed:w.fixed,nowrap:w.nowrap,lastFixed:w.lastFixed,noPadding:P},D),{default:()=>{var j;const B=`header.${w.key}`,$={column:w,selectAll:u,isSorted:o,toggleSort:r,sortBy:s.value,someSelected:a.value,allSelected:l.value,getSortIcon:p};return n[B]?n[B]($):w.key==="data-table-select"?((j=n["header.data-table-select"])==null?void 0:j.call(n,$))??(d.value&&h(Ms,{modelValue:l.value,indeterminate:a.value&&!l.value,"onUpdate:modelValue":u},null)):h("div",{class:"v-data-table-header__content"},[h("span",null,[w.title]),w.sortable&&!e.disableSort&&h(Dt,{key:"icon",class:"v-data-table-header__sort-icon",icon:p(w)},null),e.multiSort&&o(w)&&h("div",{key:"badge",class:["v-data-table-header__sort-badge",..._.value],style:y.value},[s.value.findIndex(Y=>Y.key===w.key)+1])])}})},x=()=>{const S=Z(e.headerProps??{}??{}),w=I(()=>c.value.filter(A=>(A==null?void 0:A.sortable)&&!e.disableSort)),E=I(()=>{if(c.value.find(P=>P.key==="data-table-select")!=null)return l.value?"$checkboxOn":a.value?"$checkboxIndeterminate":"$checkboxOff"});return h(_g,Z({tag:"th",class:[...R.value],colspan:f.value.length+1},S),{default:()=>[h("div",{class:"v-data-table-header__content"},[h(q1,{chips:!0,class:"v-data-table__td-sort-select",clearable:!0,density:"default",items:w.value,label:i("$vuetify.dataTable.sortBy"),multiple:e.multiSort,variant:"underlined","onClick:clear":()=>s.value=[],appendIcon:E.value,"onClick:append":()=>u(!l.value)},{...n,chip:A=>{var P;return h(ou,{onClick:(P=A.item.raw)!=null&&P.sortable?()=>r(A.item.raw):void 0,onMousedown:D=>{D.preventDefault(),D.stopPropagation()}},{default:()=>[A.item.title,h(Dt,{class:["v-data-table__td-sort-icon",o(A.item.raw)&&"v-data-table__td-sort-icon-active"],icon:p(A.item.raw),size:"small"},null)]})}})])]})};ve(()=>C.value?h("tr",null,[h(x,null,null)]):h(Te,null,[n.headers?n.headers(k.value):f.value.map((S,w)=>h("tr",null,[S.map((E,A)=>h(O,{column:E,x:A,y:w},null))])),e.loading&&h("tr",{class:"v-data-table-progress"},[h("th",{colspan:c.value.length},[h(Lh,{name:"v-data-table-progress",absolute:!0,active:!0,color:typeof e.loading=="boolean"?void 0:e.loading,indeterminate:!0},{default:n.loader})])])]))}}),Gre=te({item:{type:Object,required:!0}},"VDataTableGroupHeaderRow"),qre=fe()({name:"VDataTableGroupHeaderRow",props:Gre(),setup(e,t){let{slots:n}=t;const{isGroupOpen:i,toggleGroup:r,extractRows:s}=j$(),{isSelected:o,isSomeSelected:a,select:l}=S_(),{columns:u}=k_(),d=I(()=>s([e.item]));return()=>h("tr",{class:"v-data-table-group-header-row",style:{"--v-data-table-group-header-row-depth":e.item.depth}},[u.value.map(c=>{var f,v;if(c.key==="data-table-group"){const m=i(e.item)?"$expand":"$next",p=()=>r(e.item);return((f=n["data-table-group"])==null?void 0:f.call(n,{item:e.item,count:d.value.length,props:{icon:m,onClick:p}}))??h(_g,{class:"v-data-table-group-header-row__column"},{default:()=>[h(dt,{size:"small",variant:"text",icon:m,onClick:p},null),h("span",null,[e.item.value]),h("span",null,[Ie("("),d.value.length,Ie(")")])]})}if(c.key==="data-table-select"){const m=o(d.value),p=a(d.value)&&!m,_=y=>l(d.value,y);return((v=n["data-table-select"])==null?void 0:v.call(n,{props:{modelValue:m,indeterminate:p,"onUpdate:modelValue":_}}))??h("td",null,[h(Ms,{modelValue:m,indeterminate:p,"onUpdate:modelValue":_},null)])}return h("td",null,null)})])}}),Yre=te({index:Number,item:Object,cellProps:[Object,Function],onClick:ii(),onContextmenu:ii(),onDblclick:ii(),...Ql()},"VDataTableRow"),sC=fe()({name:"VDataTableRow",props:Yre(),setup(e,t){let{slots:n}=t;const{displayClasses:i,mobile:r}=xr(e,"v-data-table__tr"),{isSelected:s,toggleSelect:o,someSelected:a,allSelected:l,selectAll:u}=S_(),{isExpanded:d,toggleExpand:c}=B$(),{toggleSort:f,sortBy:v,isSorted:m}=Z$(),{columns:p}=k_();ve(()=>h("tr",{class:["v-data-table__tr",{"v-data-table__tr--clickable":!!(e.onClick||e.onContextmenu||e.onDblclick)},i.value],onClick:e.onClick,onContextmenu:e.onContextmenu,onDblclick:e.onDblclick},[e.item&&p.value.map((_,y)=>{const b=e.item,C=`item.${_.key}`,k=`header.${_.key}`,R={index:e.index,item:b.raw,internalItem:b,value:Ml(b.columns,_.key),column:_,isSelected:s,toggleSelect:o,isExpanded:d,toggleExpand:c},O={column:_,selectAll:u,isSorted:m,toggleSort:f,sortBy:v.value,someSelected:a.value,allSelected:l.value,getSortIcon:()=>""},x=typeof e.cellProps=="function"?e.cellProps({index:R.index,item:R.item,internalItem:R.internalItem,value:R.value,column:_}):e.cellProps,S=typeof _.cellProps=="function"?_.cellProps({index:R.index,item:R.item,internalItem:R.internalItem,value:R.value}):_.cellProps;return h(_g,Z({align:_.align,class:{"v-data-table__td--expanded-row":_.key==="data-table-expand","v-data-table__td--select-row":_.key==="data-table-select"},fixed:_.fixed,fixedOffset:_.fixedOffset,lastFixed:_.lastFixed,maxWidth:r.value?void 0:_.maxWidth,noPadding:_.key==="data-table-select"||_.key==="data-table-expand",nowrap:_.nowrap,width:r.value?void 0:_.width},x,S),{default:()=>{var E,A,P,D,B;if(n[C]&&!r.value)return(E=n[C])==null?void 0:E.call(n,R);if(_.key==="data-table-select")return((A=n["item.data-table-select"])==null?void 0:A.call(n,R))??h(Ms,{disabled:!b.selectable,modelValue:s([b]),onClick:Tl(()=>o(b),["stop"])},null);if(_.key==="data-table-expand")return((P=n["item.data-table-expand"])==null?void 0:P.call(n,R))??h(dt,{icon:d(b)?"$collapse":"$expand",size:"small",variant:"text",onClick:Tl(()=>c(b),["stop"])},null);const w=ht(R.value);return r.value?h(Te,null,[h("div",{class:"v-data-table__td-title"},[((D=n[k])==null?void 0:D.call(n,O))??_.title]),h("div",{class:"v-data-table__td-value"},[((B=n[C])==null?void 0:B.call(n,R))??w])]):w}})})]))}}),sB=te({loading:[Boolean,String],loadingText:{type:String,default:"$vuetify.dataIterator.loadingText"},hideNoData:Boolean,items:{type:Array,default:()=>[]},noDataText:{type:String,default:"$vuetify.noDataText"},rowProps:[Object,Function],cellProps:[Object,Function],...Ql()},"VDataTableRows"),Ul=fe()({name:"VDataTableRows",inheritAttrs:!1,props:sB(),setup(e,t){let{attrs:n,slots:i}=t;const{columns:r}=k_(),{expandOnClick:s,toggleExpand:o,isExpanded:a}=B$(),{isSelected:l,toggleSelect:u}=S_(),{toggleGroup:d,isGroupOpen:c}=j$(),{t:f}=sn(),{mobile:v}=xr(e);return ve(()=>{var m,p;return e.loading&&(!e.items.length||i.loading)?h("tr",{class:"v-data-table-rows-loading",key:"loading"},[h("td",{colspan:r.value.length},[((m=i.loading)==null?void 0:m.call(i))??f(e.loadingText)])]):!e.loading&&!e.items.length&&!e.hideNoData?h("tr",{class:"v-data-table-rows-no-data",key:"no-data"},[h("td",{colspan:r.value.length},[((p=i["no-data"])==null?void 0:p.call(i))??f(e.noDataText)])]):h(Te,null,[e.items.map((_,y)=>{var k;if(_.type==="group"){const R={index:y,item:_,columns:r.value,isExpanded:a,toggleExpand:o,isSelected:l,toggleSelect:u,toggleGroup:d,isGroupOpen:c};return i["group-header"]?i["group-header"](R):h(qre,Z({key:`group-header_${_.id}`,item:_},bP(n,":group-header",()=>R)),i)}const b={index:y,item:_.raw,internalItem:_,columns:r.value,isExpanded:a,toggleExpand:o,isSelected:l,toggleSelect:u},C={...b,props:Z({key:`item_${_.key??_.index}`,onClick:s.value?()=>{o(_)}:void 0,index:y,item:_,cellProps:e.cellProps,mobile:v.value},bP(n,":row",()=>b),typeof e.rowProps=="function"?e.rowProps({item:b.item,index:b.index,internalItem:b.internalItem}):e.rowProps)};return h(Te,{key:C.props.key},[i.item?i.item(C):h(sC,C.props,i),a(_)&&((k=i["expanded-row"])==null?void 0:k.call(i,b))])})])}),{}}}),oB=te({fixedHeader:Boolean,fixedFooter:Boolean,height:[Number,String],hover:Boolean,...$e(),...ri(),...ut(),...Ct()},"VTable"),jl=fe()({name:"VTable",props:oB(),setup(e,t){let{slots:n,emit:i}=t;const{themeClasses:r}=Ft(e),{densityClasses:s}=Hi(e);return ve(()=>h(e.tag,{class:["v-table",{"v-table--fixed-height":!!e.height,"v-table--fixed-header":e.fixedHeader,"v-table--fixed-footer":e.fixedFooter,"v-table--has-top":!!n.top,"v-table--has-bottom":!!n.bottom,"v-table--hover":e.hover},r.value,s.value,e.class],style:e.style},{default:()=>{var o,a,l;return[(o=n.top)==null?void 0:o.call(n),n.default?h("div",{class:"v-table__wrapper",style:{height:Oe(e.height)}},[h("table",null,[n.default()])]):(a=n.wrapper)==null?void 0:a.call(n),(l=n.bottom)==null?void 0:l.call(n)]}})),{}}}),Kre=te({items:{type:Array,default:()=>[]},itemValue:{type:[String,Array,Function],default:"id"},itemSelectable:{type:[String,Array,Function],default:null},rowProps:[Object,Function],cellProps:[Object,Function],returnObject:Boolean},"DataTable-items");function Xre(e,t,n,i){const r=e.returnObject?t:jn(t,e.itemValue),s=jn(t,e.itemSelectable,!0),o=i.reduce((a,l)=>(l.key!=null&&(a[l.key]=jn(t,l.value)),a),{});return{type:"item",key:e.returnObject?jn(t,e.itemValue):r,index:n,value:r,selectable:s,columns:o,raw:t}}function Qre(e,t,n){return t.map((i,r)=>Xre(e,i,r,n))}function oC(e,t){return{items:I(()=>Qre(e,e.items,t.value))}}const aC=te({...sB(),hideDefaultBody:Boolean,hideDefaultFooter:Boolean,hideDefaultHeader:Boolean,width:[String,Number],search:String,...F$(),...X1(),...Bre(),...Kre(),...K$(),...Q$(),...rB(),...oB()},"DataTable"),Jre=te({...J1(),...aC(),...Qc(),...nC()},"VDataTable"),Zre=fe()({name:"VDataTable",props:Jre(),emits:{"update:modelValue":e=>!0,"update:page":e=>!0,"update:itemsPerPage":e=>!0,"update:sortBy":e=>!0,"update:options":e=>!0,"update:groupBy":e=>!0,"update:expanded":e=>!0,"update:currentItems":e=>!0},setup(e,t){let{attrs:n,slots:i}=t;const{groupBy:r}=Q1(e),{sortBy:s,multiSort:o,mustSort:a}=E_(e),{page:l,itemsPerPage:u}=Z1(e),{disableSort:d}=xa(e),{columns:c,headers:f,sortFunctions:v,sortRawFunctions:m,filterFunctions:p}=rC(e,{groupBy:r,showSelect:de(e,"showSelect"),showExpand:de(e,"showExpand")}),{items:_}=oC(e,c),y=de(e,"search"),{filteredItems:b}=Jc(e,_,y,{transform:G=>G.columns,customKeyFilter:p}),{toggleSort:C}=C_({sortBy:s,multiSort:o,mustSort:a,page:l}),{sortByWithGroups:k,opened:R,extractRows:O,isGroupOpen:x,toggleGroup:S}=__({groupBy:r,sortBy:s,disableSort:d}),{sortedItems:w}=tC(e,b,k,{transform:G=>({...G.raw,...G.columns}),sortFunctions:v,sortRawFunctions:m}),{flatItems:E}=y_(w,r,R),A=I(()=>E.value.length),{startIndex:P,stopIndex:D,pageCount:B,setItemsPerPage:$}=eC({page:l,itemsPerPage:u,itemsLength:A}),{paginatedItems:j}=G$({items:E,startIndex:P,stopIndex:D,itemsPerPage:u}),Y=I(()=>O(j.value)),{isSelected:H,select:q,selectAll:z,toggleSelect:ne,someSelected:ue,allSelected:be}=w_(e,{allItems:_,currentPage:Y}),{isExpanded:Ae,toggleExpand:Ne}=p_(e);b_({page:l,itemsPerPage:u,sortBy:s,groupBy:r,search:y}),yn({VDataTableRows:{hideNoData:de(e,"hideNoData"),noDataText:de(e,"noDataText"),loading:de(e,"loading"),loadingText:de(e,"loadingText")}});const se=I(()=>({page:l.value,itemsPerPage:u.value,sortBy:s.value,pageCount:B.value,toggleSort:C,setItemsPerPage:$,someSelected:ue.value,allSelected:be.value,isSelected:H,select:q,selectAll:z,toggleSelect:ne,isExpanded:Ae,toggleExpand:Ne,isGroupOpen:x,toggleGroup:S,items:Y.value.map(G=>G.raw),internalItems:Y.value,groupedItems:j.value,columns:c.value,headers:f.value}));return ve(()=>{const G=qf.filterProps(e),ie=Bl.filterProps(e),Q=Ul.filterProps(e),ee=jl.filterProps(e);return h(jl,Z({class:["v-data-table",{"v-data-table--show-select":e.showSelect,"v-data-table--loading":e.loading},e.class],style:e.style},ee),{top:()=>{var X;return(X=i.top)==null?void 0:X.call(i,se.value)},default:()=>{var X,_e,M,L,J,ce;return i.default?i.default(se.value):h(Te,null,[(X=i.colgroup)==null?void 0:X.call(i,se.value),!e.hideDefaultHeader&&h("thead",{key:"thead"},[h(Bl,ie,i)]),(_e=i.thead)==null?void 0:_e.call(i,se.value),!e.hideDefaultBody&&h("tbody",null,[(M=i["body.prepend"])==null?void 0:M.call(i,se.value),i.body?i.body(se.value):h(Ul,Z(n,Q,{items:j.value}),i),(L=i["body.append"])==null?void 0:L.call(i,se.value)]),(J=i.tbody)==null?void 0:J.call(i,se.value),(ce=i.tfoot)==null?void 0:ce.call(i,se.value)])},bottom:()=>i.bottom?i.bottom(se.value):!e.hideDefaultFooter&&h(Te,null,[h(fo,null,null),h(qf,G,{prepend:i["footer.prepend"]})])})}),{}}}),ese=te({...aC(),...X1(),...p$(),...Qc()},"VDataTableVirtual"),tse=fe()({name:"VDataTableVirtual",props:ese(),emits:{"update:modelValue":e=>!0,"update:sortBy":e=>!0,"update:options":e=>!0,"update:groupBy":e=>!0,"update:expanded":e=>!0},setup(e,t){let{attrs:n,slots:i}=t;const{groupBy:r}=Q1(e),{sortBy:s,multiSort:o,mustSort:a}=E_(e),{disableSort:l}=xa(e),{columns:u,headers:d,filterFunctions:c,sortFunctions:f,sortRawFunctions:v}=rC(e,{groupBy:r,showSelect:de(e,"showSelect"),showExpand:de(e,"showExpand")}),{items:m}=oC(e,u),p=de(e,"search"),{filteredItems:_}=Jc(e,m,p,{transform:ie=>ie.columns,customKeyFilter:c}),{toggleSort:y}=C_({sortBy:s,multiSort:o,mustSort:a}),{sortByWithGroups:b,opened:C,extractRows:k,isGroupOpen:R,toggleGroup:O}=__({groupBy:r,sortBy:s,disableSort:l}),{sortedItems:x}=tC(e,_,b,{transform:ie=>({...ie.raw,...ie.columns}),sortFunctions:f,sortRawFunctions:v}),{flatItems:S}=y_(x,r,C),w=I(()=>k(S.value)),{isSelected:E,select:A,selectAll:P,toggleSelect:D,someSelected:B,allSelected:$}=w_(e,{allItems:w,currentPage:w}),{isExpanded:j,toggleExpand:Y}=p_(e),{containerRef:H,markerRef:q,paddingTop:z,paddingBottom:ne,computedItems:ue,handleItemResize:be,handleScroll:Ae,handleScrollend:Ne}=_$(e,S),se=I(()=>ue.value.map(ie=>ie.raw));b_({sortBy:s,page:ke(1),itemsPerPage:ke(-1),groupBy:r,search:p}),yn({VDataTableRows:{hideNoData:de(e,"hideNoData"),noDataText:de(e,"noDataText"),loading:de(e,"loading"),loadingText:de(e,"loadingText")}});const G=I(()=>({sortBy:s.value,toggleSort:y,someSelected:B.value,allSelected:$.value,isSelected:E,select:A,selectAll:P,toggleSelect:D,isExpanded:j,toggleExpand:Y,isGroupOpen:R,toggleGroup:O,items:w.value.map(ie=>ie.raw),internalItems:w.value,groupedItems:S.value,columns:u.value,headers:d.value}));ve(()=>{const ie=Bl.filterProps(e),Q=Ul.filterProps(e),ee=jl.filterProps(e);return h(jl,Z({class:["v-data-table",{"v-data-table--loading":e.loading},e.class],style:e.style},ee),{top:()=>{var X;return(X=i.top)==null?void 0:X.call(i,G.value)},wrapper:()=>{var X,_e,M;return h("div",{ref:H,onScrollPassive:Ae,onScrollend:Ne,class:"v-table__wrapper",style:{height:Oe(e.height)}},[h("table",null,[(X=i.colgroup)==null?void 0:X.call(i,G.value),!e.hideDefaultHeader&&h("thead",{key:"thead"},[h(Bl,Z(ie,{sticky:e.fixedHeader}),i)]),!e.hideDefaultBody&&h("tbody",null,[h("tr",{ref:q,style:{height:Oe(z.value),border:0}},[h("td",{colspan:u.value.length,style:{height:0,border:0}},null)]),(_e=i["body.prepend"])==null?void 0:_e.call(i,G.value),h(Ul,Z(n,Q,{items:se.value}),{...i,item:L=>h(g$,{key:L.internalItem.index,renderless:!0,"onUpdate:height":J=>be(L.internalItem.index,J)},{default:J=>{var ae;let{itemRef:ce}=J;return((ae=i.item)==null?void 0:ae.call(i,{...L,itemRef:ce}))??h(sC,Z(L.props,{ref:ce,key:L.internalItem.index,index:L.internalItem.index}),i)}})}),(M=i["body.append"])==null?void 0:M.call(i,G.value),h("tr",{style:{height:Oe(ne.value),border:0}},[h("td",{colspan:u.value.length,style:{height:0,border:0}},null)])])])])},bottom:()=>{var X;return(X=i.bottom)==null?void 0:X.call(i,G.value)}})})}}),nse=te({itemsLength:{type:[Number,String],required:!0},...J1(),...aC(),...nC()},"VDataTableServer"),ise=fe()({name:"VDataTableServer",props:nse(),emits:{"update:modelValue":e=>!0,"update:page":e=>!0,"update:itemsPerPage":e=>!0,"update:sortBy":e=>!0,"update:options":e=>!0,"update:expanded":e=>!0,"update:groupBy":e=>!0},setup(e,t){let{attrs:n,slots:i}=t;const{groupBy:r}=Q1(e),{sortBy:s,multiSort:o,mustSort:a}=E_(e),{page:l,itemsPerPage:u}=Z1(e),{disableSort:d}=xa(e),c=I(()=>parseInt(e.itemsLength,10)),{columns:f,headers:v}=rC(e,{groupBy:r,showSelect:de(e,"showSelect"),showExpand:de(e,"showExpand")}),{items:m}=oC(e,f),{toggleSort:p}=C_({sortBy:s,multiSort:o,mustSort:a,page:l}),{opened:_,isGroupOpen:y,toggleGroup:b,extractRows:C}=__({groupBy:r,sortBy:s,disableSort:d}),{pageCount:k,setItemsPerPage:R}=eC({page:l,itemsPerPage:u,itemsLength:c}),{flatItems:O}=y_(m,r,_),{isSelected:x,select:S,selectAll:w,toggleSelect:E,someSelected:A,allSelected:P}=w_(e,{allItems:m,currentPage:m}),{isExpanded:D,toggleExpand:B}=p_(e),$=I(()=>C(m.value));b_({page:l,itemsPerPage:u,sortBy:s,groupBy:r,search:de(e,"search")}),Ut("v-data-table",{toggleSort:p,sortBy:s}),yn({VDataTableRows:{hideNoData:de(e,"hideNoData"),noDataText:de(e,"noDataText"),loading:de(e,"loading"),loadingText:de(e,"loadingText")}});const j=I(()=>({page:l.value,itemsPerPage:u.value,sortBy:s.value,pageCount:k.value,toggleSort:p,setItemsPerPage:R,someSelected:A.value,allSelected:P.value,isSelected:x,select:S,selectAll:w,toggleSelect:E,isExpanded:D,toggleExpand:B,isGroupOpen:y,toggleGroup:b,items:$.value.map(Y=>Y.raw),internalItems:$.value,groupedItems:O.value,columns:f.value,headers:v.value}));ve(()=>{const Y=qf.filterProps(e),H=Bl.filterProps(e),q=Ul.filterProps(e),z=jl.filterProps(e);return h(jl,Z({class:["v-data-table",{"v-data-table--loading":e.loading},e.class],style:e.style},z),{top:()=>{var ne;return(ne=i.top)==null?void 0:ne.call(i,j.value)},default:()=>{var ne,ue,be,Ae,Ne,se;return i.default?i.default(j.value):h(Te,null,[(ne=i.colgroup)==null?void 0:ne.call(i,j.value),!e.hideDefaultHeader&&h("thead",{key:"thead",class:"v-data-table__thead",role:"rowgroup"},[h(Bl,Z(H,{sticky:e.fixedHeader}),i)]),(ue=i.thead)==null?void 0:ue.call(i,j.value),!e.hideDefaultBody&&h("tbody",{class:"v-data-table__tbody",role:"rowgroup"},[(be=i["body.prepend"])==null?void 0:be.call(i,j.value),i.body?i.body(j.value):h(Ul,Z(n,q,{items:O.value}),i),(Ae=i["body.append"])==null?void 0:Ae.call(i,j.value)]),(Ne=i.tbody)==null?void 0:Ne.call(i,j.value),(se=i.tfoot)==null?void 0:se.call(i,j.value)])},bottom:()=>i.bottom?i.bottom(j.value):!e.hideDefaultFooter&&h(Te,null,[h(fo,null,null),h(qf,Y,{prepend:i["footer.prepend"]})])})})}}),rse=te({fluid:{type:Boolean,default:!1},...$e(),...qn(),...ut()},"VContainer"),sse=fe()({name:"VContainer",props:rse(),setup(e,t){let{slots:n}=t;const{rtlClasses:i}=Jn(),{dimensionStyles:r}=Yn(e);return ve(()=>h(e.tag,{class:["v-container",{"v-container--fluid":e.fluid},i.value,e.class],style:[r.value,e.style]},n)),{}}}),aB=i_.reduce((e,t)=>(e[t]={type:[Boolean,String,Number],default:!1},e),{}),lB=i_.reduce((e,t)=>{const n="offset"+Fs(t);return e[n]={type:[String,Number],default:null},e},{}),uB=i_.reduce((e,t)=>{const n="order"+Fs(t);return e[n]={type:[String,Number],default:null},e},{}),GP={col:Object.keys(aB),offset:Object.keys(lB),order:Object.keys(uB)};function ose(e,t,n){let i=e;if(!(n==null||n===!1)){if(t){const r=t.replace(e,"");i+=`-${r}`}return e==="col"&&(i="v-"+i),e==="col"&&(n===""||n===!0)||(i+=`-${n}`),i.toLowerCase()}}const ase=["auto","start","end","center","baseline","stretch"],lse=te({cols:{type:[Boolean,String,Number],default:!1},...aB,offset:{type:[String,Number],default:null},...lB,order:{type:[String,Number],default:null},...uB,alignSelf:{type:String,default:null,validator:e=>ase.includes(e)},...$e(),...ut()},"VCol"),use=fe()({name:"VCol",props:lse(),setup(e,t){let{slots:n}=t;const i=I(()=>{const r=[];let s;for(s in GP)GP[s].forEach(a=>{const l=e[a],u=ose(s,a,l);u&&r.push(u)});const o=r.some(a=>a.startsWith("v-col-"));return r.push({"v-col":!o||!e.cols,[`v-col-${e.cols}`]:e.cols,[`offset-${e.offset}`]:e.offset,[`order-${e.order}`]:e.order,[`align-self-${e.alignSelf}`]:e.alignSelf}),r});return()=>{var r;return ni(e.tag,{class:[i.value,e.class],style:e.style},(r=n.default)==null?void 0:r.call(n))}}}),lC=["start","end","center"],cB=["space-between","space-around","space-evenly"];function uC(e,t){return i_.reduce((n,i)=>{const r=e+Fs(i);return n[r]=t(),n},{})}const cse=[...lC,"baseline","stretch"],dB=e=>cse.includes(e),fB=uC("align",()=>({type:String,default:null,validator:dB})),dse=[...lC,...cB],hB=e=>dse.includes(e),vB=uC("justify",()=>({type:String,default:null,validator:hB})),fse=[...lC,...cB,"stretch"],mB=e=>fse.includes(e),gB=uC("alignContent",()=>({type:String,default:null,validator:mB})),qP={align:Object.keys(fB),justify:Object.keys(vB),alignContent:Object.keys(gB)},hse={align:"align",justify:"justify",alignContent:"align-content"};function vse(e,t,n){let i=hse[e];if(n!=null){if(t){const r=t.replace(e,"");i+=`-${r}`}return i+=`-${n}`,i.toLowerCase()}}const mse=te({dense:Boolean,noGutters:Boolean,align:{type:String,default:null,validator:dB},...fB,justify:{type:String,default:null,validator:hB},...vB,alignContent:{type:String,default:null,validator:mB},...gB,...$e(),...ut()},"VRow"),gse=fe()({name:"VRow",props:mse(),setup(e,t){let{slots:n}=t;const i=I(()=>{const r=[];let s;for(s in qP)qP[s].forEach(o=>{const a=e[o],l=vse(s,o,a);l&&r.push(l)});return r.push({"v-row--no-gutters":e.noGutters,"v-row--dense":e.dense,[`align-${e.align}`]:e.align,[`justify-${e.justify}`]:e.justify,[`align-content-${e.alignContent}`]:e.alignContent}),r});return()=>{var r;return ni(e.tag,{class:["v-row",i.value,e.class],style:e.style},(r=n.default)==null?void 0:r.call(n))}}}),pB=Ws("v-spacer","div","VSpacer"),_B=te({active:{type:[String,Array],default:void 0},disabled:{type:[Boolean,String,Array],default:!1},nextIcon:{type:Ze,default:"$next"},prevIcon:{type:Ze,default:"$prev"},modeIcon:{type:Ze,default:"$subgroup"},text:String,viewMode:{type:String,default:"month"}},"VDatePickerControls"),sw=fe()({name:"VDatePickerControls",props:_B(),emits:{"click:year":()=>!0,"click:month":()=>!0,"click:prev":()=>!0,"click:next":()=>!0,"click:text":()=>!0},setup(e,t){let{emit:n}=t;const i=I(()=>Array.isArray(e.disabled)?e.disabled.includes("text"):!!e.disabled),r=I(()=>Array.isArray(e.disabled)?e.disabled.includes("mode"):!!e.disabled),s=I(()=>Array.isArray(e.disabled)?e.disabled.includes("prev"):!!e.disabled),o=I(()=>Array.isArray(e.disabled)?e.disabled.includes("next"):!!e.disabled);function a(){n("click:prev")}function l(){n("click:next")}function u(){n("click:year")}function d(){n("click:month")}return ve(()=>h("div",{class:["v-date-picker-controls"]},[h(dt,{class:"v-date-picker-controls__month-btn",disabled:i.value,text:e.text,variant:"text",rounded:!0,onClick:d},null),h(dt,{key:"mode-btn",class:"v-date-picker-controls__mode-btn",disabled:r.value,density:"comfortable",icon:e.modeIcon,variant:"text",onClick:u},null),h(pB,{key:"mode-spacer"},null),h("div",{key:"month-buttons",class:"v-date-picker-controls__month"},[h(dt,{disabled:s.value,icon:e.prevIcon,variant:"text",onClick:a},null),h(dt,{disabled:o.value,icon:e.nextIcon,variant:"text",onClick:l},null)])])),{}}}),pse=te({appendIcon:String,color:String,header:String,transition:String,onClick:ii()},"VDatePickerHeader"),ow=fe()({name:"VDatePickerHeader",props:pse(),emits:{click:()=>!0,"click:append":()=>!0},setup(e,t){let{emit:n,slots:i}=t;const{backgroundColorClasses:r,backgroundColorStyles:s}=Gt(e,"color");function o(){n("click")}function a(){n("click:append")}return ve(()=>{const l=!!(i.default||e.header),u=!!(i.append||e.appendIcon);return h("div",{class:["v-date-picker-header",{"v-date-picker-header--clickable":!!e.onClick},r.value],style:s.value,onClick:o},[i.prepend&&h("div",{key:"prepend",class:"v-date-picker-header__prepend"},[i.prepend()]),l&&h(Bi,{key:"content",name:e.transition},{default:()=>{var d;return[h("div",{key:e.header,class:"v-date-picker-header__content"},[((d=i.default)==null?void 0:d.call(i))??e.header])]}}),u&&h("div",{class:"v-date-picker-header__append"},[i.append?h(lt,{key:"append-defaults",disabled:!e.appendIcon,defaults:{VBtn:{icon:e.appendIcon,variant:"text"}}},{default:()=>{var d;return[(d=i.append)==null?void 0:d.call(i)]}}):h(dt,{key:"append-btn",icon:e.appendIcon,variant:"text",onClick:a},null)])])}),{}}}),yB=te({allowedDates:[Array,Function],disabled:Boolean,displayValue:null,modelValue:Array,month:[Number,String],max:null,min:null,showAdjacentMonths:Boolean,year:[Number,String],weekdays:{type:Array,default:()=>[0,1,2,3,4,5,6]},weeksInMonth:{type:String,default:"dynamic"},firstDayOfWeek:[Number,String]},"calendar");function bB(e){const t=jr(),n=je(e,"modelValue",[],v=>mn(v)),i=I(()=>e.displayValue?t.date(e.displayValue):n.value.length>0?t.date(n.value[0]):e.min?t.date(e.min):Array.isArray(e.allowedDates)?t.date(e.allowedDates[0]):t.date()),r=je(e,"year",void 0,v=>{const m=v!=null?Number(v):t.getYear(i.value);return t.startOfYear(t.setYear(t.date(),m))},v=>t.getYear(v)),s=je(e,"month",void 0,v=>{const m=v!=null?Number(v):t.getMonth(i.value),p=t.setYear(t.startOfMonth(t.date()),t.getYear(r.value));return t.setMonth(p,m)},v=>t.getMonth(v)),o=I(()=>{const v=Number(e.firstDayOfWeek??0);return e.weekdays.map(m=>(m+v)%7)}),a=I(()=>{const v=t.getWeekArray(s.value,e.firstDayOfWeek),m=v.flat(),p=6*7;if(e.weeksInMonth==="static"&&m.length<p){const _=m[m.length-1];let y=[];for(let b=1;b<=p-m.length;b++)y.push(t.addDays(_,b)),b%7===0&&(v.push(y),y=[])}return v});function l(v,m){return v.filter(p=>o.value.includes(t.toJsDate(p).getDay())).map((p,_)=>{const y=t.toISO(p),b=!t.isSameMonth(p,s.value),C=t.isSameDay(p,t.startOfMonth(s.value)),k=t.isSameDay(p,t.endOfMonth(s.value)),R=t.isSameDay(p,s.value);return{date:p,isoDate:y,formatted:t.format(p,"keyboardDate"),year:t.getYear(p),month:t.getMonth(p),isDisabled:f(p),isWeekStart:_%7===0,isWeekEnd:_%7===6,isToday:t.isSameDay(p,m),isAdjacent:b,isHidden:b&&!e.showAdjacentMonths,isStart:C,isSelected:n.value.some(O=>t.isSameDay(p,O)),isEnd:k,isSame:R,localized:t.format(p,"dayOfMonth")}})}const u=I(()=>{const v=t.startOfWeek(i.value,e.firstDayOfWeek),m=[];for(let _=0;_<=6;_++)m.push(t.addDays(v,_));const p=t.date();return l(m,p)}),d=I(()=>{const v=a.value.flat(),m=t.date();return l(v,m)}),c=I(()=>a.value.map(v=>v.length?gee(t,v[0]):null));function f(v){if(e.disabled)return!0;const m=t.date(v);return e.min&&t.isAfter(t.date(e.min),m)||e.max&&t.isAfter(m,t.date(e.max))?!0:Array.isArray(e.allowedDates)&&e.allowedDates.length>0?!e.allowedDates.some(p=>t.isSameDay(t.date(p),m)):typeof e.allowedDates=="function"?!e.allowedDates(m):!1}return{displayValue:i,daysInMonth:d,daysInWeek:u,genDays:l,model:n,weeksInMonth:a,weekDays:o,weekNumbers:c}}const wB=te({color:String,hideWeekdays:Boolean,multiple:[Boolean,Number,String],showWeek:Boolean,transition:{type:String,default:"picker-transition"},reverseTransition:{type:String,default:"picker-reverse-transition"},...yB()},"VDatePickerMonth"),aw=fe()({name:"VDatePickerMonth",props:wB(),emits:{"update:modelValue":e=>!0,"update:month":e=>!0,"update:year":e=>!0},setup(e,t){let{emit:n,slots:i}=t;const r=W(),{daysInMonth:s,model:o,weekNumbers:a}=bB(e),l=jr(),u=ke(),d=ke(),c=ke(!1),f=I(()=>c.value?e.reverseTransition:e.transition);e.multiple==="range"&&o.value.length>0&&(u.value=o.value[0],o.value.length>1&&(d.value=o.value[o.value.length-1]));const v=I(()=>{const y=["number","string"].includes(typeof e.multiple)?Number(e.multiple):1/0;return o.value.length>=y});ge(s,(y,b)=>{b&&(c.value=l.isBefore(y[0].date,b[0].date))});function m(y){const b=l.startOfDay(y);if(o.value.length===0?u.value=void 0:o.value.length===1&&(u.value=o.value[0],d.value=void 0),!u.value)u.value=b,o.value=[u.value];else if(d.value)u.value=y,d.value=void 0,o.value=[u.value];else{if(l.isSameDay(b,u.value)){u.value=void 0,o.value=[];return}else l.isBefore(b,u.value)?(d.value=l.endOfDay(u.value),u.value=b):d.value=l.endOfDay(b);const C=l.getDiff(d.value,u.value,"days"),k=[u.value];for(let R=1;R<C;R++){const O=l.addDays(u.value,R);k.push(O)}k.push(d.value),o.value=k}}function p(y){const b=o.value.findIndex(C=>l.isSameDay(C,y));if(b===-1)o.value=[...o.value,y];else{const C=[...o.value];C.splice(b,1),o.value=C}}function _(y){e.multiple==="range"?m(y):e.multiple?p(y):o.value=[y]}return()=>h("div",{class:"v-date-picker-month"},[e.showWeek&&h("div",{key:"weeks",class:"v-date-picker-month__weeks"},[!e.hideWeekdays&&h("div",{key:"hide-week-days",class:"v-date-picker-month__day"},[Ie(" ")]),a.value.map(y=>h("div",{class:["v-date-picker-month__day","v-date-picker-month__day--adjacent"]},[y]))]),h(Bi,{name:f.value},{default:()=>{var y;return[h("div",{ref:r,key:(y=s.value[0].date)==null?void 0:y.toString(),class:"v-date-picker-month__days"},[!e.hideWeekdays&&l.getWeekdays(e.firstDayOfWeek).map(b=>h("div",{class:["v-date-picker-month__day","v-date-picker-month__weekday"]},[b])),s.value.map((b,C)=>{const k={props:{onClick:()=>_(b.date)},item:b,i:C};return v.value&&!b.isSelected&&(b.isDisabled=!0),h("div",{class:["v-date-picker-month__day",{"v-date-picker-month__day--adjacent":b.isAdjacent,"v-date-picker-month__day--hide-adjacent":b.isHidden,"v-date-picker-month__day--selected":b.isSelected,"v-date-picker-month__day--week-end":b.isWeekEnd,"v-date-picker-month__day--week-start":b.isWeekStart}],"data-v-date":b.isDisabled?void 0:b.isoDate},[(e.showAdjacentMonths||!b.isAdjacent)&&h(lt,{defaults:{VBtn:{class:"v-date-picker-month__day-btn",color:(b.isSelected||b.isToday)&&!b.isDisabled?e.color:void 0,disabled:b.isDisabled,icon:!0,ripple:!1,text:b.localized,variant:b.isDisabled?b.isToday?"outlined":"text":b.isToday&&!b.isSelected?"outlined":"flat",onClick:()=>_(b.date)}}},{default:()=>{var R;return[((R=i.day)==null?void 0:R.call(i,k))??h(dt,k.props,null)]}})])})])]}})])}}),SB=te({color:String,height:[String,Number],min:null,max:null,modelValue:Number,year:Number},"VDatePickerMonths"),lw=fe()({name:"VDatePickerMonths",props:SB(),emits:{"update:modelValue":e=>!0},setup(e,t){let{emit:n,slots:i}=t;const r=jr(),s=je(e,"modelValue"),o=I(()=>{let a=r.startOfYear(r.date());return e.year&&(a=r.setYear(a,e.year)),wr(12).map(l=>{const u=r.format(a,"monthShort"),d=!!(e.min&&r.isAfter(r.startOfMonth(r.date(e.min)),a)||e.max&&r.isAfter(a,r.startOfMonth(r.date(e.max))));return a=r.getNextMonth(a),{isDisabled:d,text:u,value:l}})});return rn(()=>{s.value=s.value??r.getMonth(r.date())}),ve(()=>h("div",{class:"v-date-picker-months",style:{height:Oe(e.height)}},[h("div",{class:"v-date-picker-months__content"},[o.value.map((a,l)=>{var c;const u={active:s.value===l,color:s.value===l?e.color:void 0,disabled:a.isDisabled,rounded:!0,text:a.text,variant:s.value===a.value?"flat":"text",onClick:()=>d(l)};function d(f){if(s.value===f){n("update:modelValue",s.value);return}s.value=f}return((c=i.month)==null?void 0:c.call(i,{month:a,i:l,props:u}))??h(dt,Z({key:"month"},u),null)})])])),{}}}),EB=te({color:String,height:[String,Number],min:null,max:null,modelValue:Number},"VDatePickerYears"),uw=fe()({name:"VDatePickerYears",props:EB(),emits:{"update:modelValue":e=>!0},setup(e,t){let{emit:n,slots:i}=t;const r=jr(),s=je(e,"modelValue"),o=I(()=>{const l=r.getYear(r.date());let u=l-100,d=l+52;e.min&&(u=r.getYear(r.date(e.min))),e.max&&(d=r.getYear(r.date(e.max)));let c=r.startOfYear(r.date());return c=r.setYear(c,u),wr(d-u+1,u).map(f=>{const v=r.format(c,"year");return c=r.setYear(c,r.getYear(c)+1),{text:v,value:f}})});rn(()=>{s.value=s.value??r.getYear(r.date())});const a=fg();return bt(async()=>{var l;await at(),(l=a.el)==null||l.scrollIntoView({block:"center"})}),ve(()=>h("div",{class:"v-date-picker-years",style:{height:Oe(e.height)}},[h("div",{class:"v-date-picker-years__content"},[o.value.map((l,u)=>{var c;const d={ref:s.value===l.value?a:void 0,active:s.value===l.value,color:s.value===l.value?e.color:void 0,rounded:!0,text:l.text,variant:s.value===l.value?"flat":"text",onClick:()=>{if(s.value===l.value){n("update:modelValue",s.value);return}s.value=l.value}};return((c=i.year)==null?void 0:c.call(i,{year:l,i:u,props:d}))??h(dt,Z({key:"month"},d),null)})])])),{}}}),CB=Ws("v-picker-title"),cC=te({bgColor:String,landscape:Boolean,title:String,hideHeader:Boolean,...g_()},"VPicker"),Yf=fe()({name:"VPicker",props:cC(),setup(e,t){let{slots:n}=t;const{backgroundColorClasses:i,backgroundColorStyles:r}=Gt(de(e,"color"));return ve(()=>{const s=wa.filterProps(e),o=!!(e.title||n.title);return h(wa,Z(s,{color:e.bgColor,class:["v-picker",{"v-picker--landscape":e.landscape,"v-picker--with-actions":!!n.actions},e.class],style:e.style}),{default:()=>{var a;return[!e.hideHeader&&h("div",{key:"header",class:[i.value],style:[r.value]},[o&&h(CB,{key:"picker-title"},{default:()=>{var l;return[((l=n.title)==null?void 0:l.call(n))??e.title]}}),n.header&&h("div",{class:"v-picker__header"},[n.header()])]),h("div",{class:"v-picker__body"},[(a=n.default)==null?void 0:a.call(n)]),n.actions&&h(lt,{defaults:{VBtn:{slim:!0,variant:"text"}}},{default:()=>[h("div",{class:"v-picker__actions"},[n.actions()])]})]}})}),{}}}),kB=te({header:{type:String,default:"$vuetify.datePicker.header"},..._B(),...wB({weeksInMonth:"static"}),...zt(SB(),["modelValue"]),...zt(EB(),["modelValue"]),...cC({title:"$vuetify.datePicker.title"}),modelValue:null},"VDatePicker"),cw=fe()({name:"VDatePicker",props:kB(),emits:{"update:modelValue":e=>!0,"update:month":e=>!0,"update:year":e=>!0,"update:viewMode":e=>!0},setup(e,t){let{emit:n,slots:i}=t;const r=jr(),{t:s}=sn(),o=je(e,"modelValue",void 0,w=>mn(w),w=>e.multiple?w:w[0]),a=je(e,"viewMode"),l=I(()=>{var E;const w=r.date((E=o.value)==null?void 0:E[0]);return w&&r.isValid(w)?w:r.date()}),u=W(Number(e.month??r.getMonth(r.startOfMonth(l.value)))),d=W(Number(e.year??r.getYear(r.startOfYear(r.setMonth(l.value,u.value))))),c=ke(!1),f=I(()=>e.multiple&&o.value.length>1?s("$vuetify.datePicker.itemsSelected",o.value.length):o.value[0]&&r.isValid(o.value[0])?r.format(r.date(o.value[0]),"normalDateWithWeekday"):s(e.header)),v=I(()=>{let w=r.date();return w=r.setDate(w,1),w=r.setMonth(w,u.value),w=r.setYear(w,d.value),r.format(w,"monthAndYear")}),m=I(()=>`date-picker-header${c.value?"-reverse":""}-transition`),p=I(()=>{const w=r.date(e.min);return e.min&&r.isValid(w)?w:null}),_=I(()=>{const w=r.date(e.max);return e.max&&r.isValid(w)?w:null}),y=I(()=>{if(e.disabled)return!0;const w=[];if(a.value!=="month")w.push("prev","next");else{let E=r.date();if(E=r.setYear(E,d.value),E=r.setMonth(E,u.value),p.value){const A=r.addDays(r.startOfMonth(E),-1);r.isAfter(p.value,A)&&w.push("prev")}if(_.value){const A=r.addDays(r.endOfMonth(E),1);r.isAfter(A,_.value)&&w.push("next")}}return w});function b(){u.value<11?u.value++:(d.value++,u.value=0,S(d.value)),x(u.value)}function C(){u.value>0?u.value--:(d.value--,u.value=11,S(d.value)),x(u.value)}function k(){a.value="month"}function R(){a.value=a.value==="months"?"month":"months"}function O(){a.value=a.value==="year"?"month":"year"}function x(w){a.value==="months"&&R(),n("update:month",w)}function S(w){a.value==="year"&&O(),n("update:year",w)}return ge(o,(w,E)=>{const A=mn(E),P=mn(w);if(!P.length)return;const D=r.date(A[A.length-1]),B=r.date(P[P.length-1]),$=r.getMonth(B),j=r.getYear(B);$!==u.value&&(u.value=$,x(u.value)),j!==d.value&&(d.value=j,S(d.value)),c.value=r.isBefore(D,B)}),ve(()=>{const w=Yf.filterProps(e),E=sw.filterProps(e),A=ow.filterProps(e),P=aw.filterProps(e),D=zt(lw.filterProps(e),["modelValue"]),B=zt(uw.filterProps(e),["modelValue"]),$={header:f.value,transition:m.value};return h(Yf,Z(w,{class:["v-date-picker",`v-date-picker--${a.value}`,{"v-date-picker--show-week":e.showWeek},e.class],style:e.style}),{title:()=>{var j;return((j=i.title)==null?void 0:j.call(i))??h("div",{class:"v-date-picker__title"},[s(e.title)])},header:()=>i.header?h(lt,{defaults:{VDatePickerHeader:{...$}}},{default:()=>{var j;return[(j=i.header)==null?void 0:j.call(i,$)]}}):h(ow,Z({key:"header"},A,$,{onClick:a.value!=="month"?k:void 0}),{...i,default:void 0}),default:()=>h(Te,null,[h(sw,Z(E,{disabled:y.value,text:v.value,"onClick:next":b,"onClick:prev":C,"onClick:month":R,"onClick:year":O}),null),h(Bf,{hideOnLeave:!0},{default:()=>[a.value==="months"?h(lw,Z({key:"date-picker-months"},D,{modelValue:u.value,"onUpdate:modelValue":[j=>u.value=j,x],min:p.value,max:_.value,year:d.value}),null):a.value==="year"?h(uw,Z({key:"date-picker-years"},B,{modelValue:d.value,"onUpdate:modelValue":[j=>d.value=j,S],min:p.value,max:_.value}),null):h(aw,Z({key:"date-picker-month"},P,{modelValue:o.value,"onUpdate:modelValue":j=>o.value=j,month:u.value,"onUpdate:month":[j=>u.value=j,x],year:d.value,"onUpdate:year":[j=>d.value=j,S],min:p.value,max:_.value}),null)]})]),actions:i.actions})}),{}}}),_se=te({actionText:String,bgColor:String,color:String,icon:Ze,image:String,justify:{type:String,default:"center"},headline:String,title:String,text:String,textWidth:{type:[Number,String],default:500},href:String,to:String,...$e(),...qn(),...zs({size:void 0}),...Ct()},"VEmptyState"),yse=fe()({name:"VEmptyState",props:_se(),emits:{"click:action":e=>!0},setup(e,t){let{emit:n,slots:i}=t;const{themeClasses:r}=Ft(e),{backgroundColorClasses:s,backgroundColorStyles:o}=Gt(de(e,"bgColor")),{dimensionStyles:a}=Yn(e),{displayClasses:l}=xr();function u(d){n("click:action",d)}return ve(()=>{var _,y,b;const d=!!(i.actions||e.actionText),c=!!(i.headline||e.headline),f=!!(i.title||e.title),v=!!(i.text||e.text),m=!!(i.media||e.image||e.icon),p=e.size||(e.image?200:96);return h("div",{class:["v-empty-state",{[`v-empty-state--${e.justify}`]:!0},r.value,s.value,l.value,e.class],style:[o.value,a.value,e.style]},[m&&h("div",{key:"media",class:"v-empty-state__media"},[i.media?h(lt,{key:"media-defaults",defaults:{VImg:{src:e.image,height:p},VIcon:{size:p,icon:e.icon}}},{default:()=>[i.media()]}):h(Te,null,[e.image?h(ko,{key:"image",src:e.image,height:p},null):e.icon?h(Dt,{key:"icon",color:e.color,size:p,icon:e.icon},null):void 0])]),c&&h("div",{key:"headline",class:"v-empty-state__headline"},[((_=i.headline)==null?void 0:_.call(i))??e.headline]),f&&h("div",{key:"title",class:"v-empty-state__title"},[((y=i.title)==null?void 0:y.call(i))??e.title]),v&&h("div",{key:"text",class:"v-empty-state__text",style:{maxWidth:Oe(e.textWidth)}},[((b=i.text)==null?void 0:b.call(i))??e.text]),i.default&&h("div",{key:"content",class:"v-empty-state__content"},[i.default()]),d&&h("div",{key:"actions",class:"v-empty-state__actions"},[h(lt,{defaults:{VBtn:{class:"v-empty-state__action-btn",color:e.color??"surface-variant",text:e.actionText}}},{default:()=>{var C;return[((C=i.actions)==null?void 0:C.call(i,{props:{onClick:u}}))??h(dt,{onClick:u},null)]}})])])}),{}}}),Kf=Symbol.for("vuetify:v-expansion-panel"),TB=te({...$e(),...j1()},"VExpansionPanelText"),dw=fe()({name:"VExpansionPanelText",props:TB(),setup(e,t){let{slots:n}=t;const i=ot(Kf);if(!i)throw new Error("[Vuetify] v-expansion-panel-text needs to be placed inside v-expansion-panel");const{hasContent:r,onAfterLeave:s}=H1(e,i.isSelected);return ve(()=>h(o_,{onAfterLeave:s},{default:()=>{var o;return[_n(h("div",{class:["v-expansion-panel-text",e.class],style:e.style},[n.default&&r.value&&h("div",{class:"v-expansion-panel-text__wrapper"},[(o=n.default)==null?void 0:o.call(n)])]),[[fs,i.isSelected.value]])]}})),{}}}),IB=te({color:String,expandIcon:{type:Ze,default:"$expand"},collapseIcon:{type:Ze,default:"$collapse"},hideActions:Boolean,focusable:Boolean,static:Boolean,ripple:{type:[Boolean,Object],default:!1},readonly:Boolean,...$e(),...qn()},"VExpansionPanelTitle"),fw=fe()({name:"VExpansionPanelTitle",directives:{Ripple:Vo},props:IB(),setup(e,t){let{slots:n}=t;const i=ot(Kf);if(!i)throw new Error("[Vuetify] v-expansion-panel-title needs to be placed inside v-expansion-panel");const{backgroundColorClasses:r,backgroundColorStyles:s}=Gt(e,"color"),{dimensionStyles:o}=Yn(e),a=I(()=>({collapseIcon:e.collapseIcon,disabled:i.disabled.value,expanded:i.isSelected.value,expandIcon:e.expandIcon,readonly:e.readonly})),l=I(()=>i.isSelected.value?e.collapseIcon:e.expandIcon);return ve(()=>{var u;return _n(h("button",{class:["v-expansion-panel-title",{"v-expansion-panel-title--active":i.isSelected.value,"v-expansion-panel-title--focusable":e.focusable,"v-expansion-panel-title--static":e.static},r.value,e.class],style:[s.value,o.value,e.style],type:"button",tabindex:i.disabled.value?-1:void 0,disabled:i.disabled.value,"aria-expanded":i.isSelected.value,onClick:e.readonly?void 0:i.toggle},[h("span",{class:"v-expansion-panel-title__overlay"},null),(u=n.default)==null?void 0:u.call(n,a.value),!e.hideActions&&h(lt,{defaults:{VIcon:{icon:l.value}}},{default:()=>{var d;return[h("span",{class:"v-expansion-panel-title__icon"},[((d=n.actions)==null?void 0:d.call(n,a.value))??h(Dt,null,null)])]}})]),[[cr("ripple"),e.ripple]])}),{}}}),dC=te({title:String,text:String,bgColor:String,...Zn(),...iu(),...bn(),...ut(),...IB(),...TB()},"VExpansionPanel"),hw=fe()({name:"VExpansionPanel",props:dC(),emits:{"group:selected":e=>!0},setup(e,t){let{slots:n}=t;const i=ru(e,Kf),{backgroundColorClasses:r,backgroundColorStyles:s}=Gt(e,"bgColor"),{elevationClasses:o}=hi(e),{roundedClasses:a}=On(e),l=I(()=>(i==null?void 0:i.disabled.value)||e.disabled),u=I(()=>i.group.items.value.reduce((f,v,m)=>(i.group.selected.value.includes(v.id)&&f.push(m),f),[])),d=I(()=>{const f=i.group.items.value.findIndex(v=>v.id===i.id);return!i.isSelected.value&&u.value.some(v=>v-f===1)}),c=I(()=>{const f=i.group.items.value.findIndex(v=>v.id===i.id);return!i.isSelected.value&&u.value.some(v=>v-f===-1)});return Ut(Kf,i),ve(()=>{const f=!!(n.text||e.text),v=!!(n.title||e.title),m=fw.filterProps(e),p=dw.filterProps(e);return h(e.tag,{class:["v-expansion-panel",{"v-expansion-panel--active":i.isSelected.value,"v-expansion-panel--before-active":d.value,"v-expansion-panel--after-active":c.value,"v-expansion-panel--disabled":l.value},a.value,r.value,e.class],style:[s.value,e.style]},{default:()=>[h("div",{class:["v-expansion-panel__shadow",...o.value]},null),h(lt,{defaults:{VExpansionPanelTitle:{...m},VExpansionPanelText:{...p}}},{default:()=>{var _;return[v&&h(fw,{key:"title"},{default:()=>[n.title?n.title():e.title]}),f&&h(dw,{key:"text"},{default:()=>[n.text?n.text():e.text]}),(_=n.default)==null?void 0:_.call(n)]}})]})}),{groupItem:i}}}),bse=["default","accordion","inset","popout"],AB=te({flat:Boolean,...nu(),...m1(dC(),["bgColor","collapseIcon","color","eager","elevation","expandIcon","focusable","hideActions","readonly","ripple","rounded","tile","static"]),...Ct(),...$e(),...ut(),variant:{type:String,default:"default",validator:e=>bse.includes(e)}},"VExpansionPanels"),vw=fe()({name:"VExpansionPanels",props:AB(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const{next:i,prev:r}=La(e,Kf),{themeClasses:s}=Ft(e),o=I(()=>e.variant&&`v-expansion-panels--variant-${e.variant}`);return yn({VExpansionPanel:{bgColor:de(e,"bgColor"),collapseIcon:de(e,"collapseIcon"),color:de(e,"color"),eager:de(e,"eager"),elevation:de(e,"elevation"),expandIcon:de(e,"expandIcon"),focusable:de(e,"focusable"),hideActions:de(e,"hideActions"),readonly:de(e,"readonly"),ripple:de(e,"ripple"),rounded:de(e,"rounded"),static:de(e,"static")}}),ve(()=>h(e.tag,{class:["v-expansion-panels",{"v-expansion-panels--flat":e.flat,"v-expansion-panels--tile":e.tile},s.value,o.value,e.class],style:e.style},{default:()=>{var a;return[(a=n.default)==null?void 0:a.call(n,{prev:r,next:i})]}})),{next:i,prev:r}}}),wse=te({app:Boolean,appear:Boolean,extended:Boolean,layout:Boolean,offset:Boolean,modelValue:{type:Boolean,default:!0},...zt(c_({active:!0}),["location"]),...Jl(),...Oo(),...hs({transition:"fab-transition"})},"VFab"),Sse=fe()({name:"VFab",props:wse(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const i=je(e,"modelValue"),r=ke(56),s=W(),{resizeRef:o}=us(c=>{c.length&&(r.value=c[0].target.clientHeight)}),a=I(()=>e.app||e.absolute),l=I(()=>{var c;return a.value?((c=e.location)==null?void 0:c.split(" ").shift())??"bottom":!1}),u=I(()=>{var c;return a.value?((c=e.location)==null?void 0:c.split(" ")[1])??"end":!1});Ji(()=>e.app,()=>{const c=Zl({id:e.name,order:I(()=>parseInt(e.order,10)),position:l,layoutSize:I(()=>e.layout?r.value+24:0),elementSize:I(()=>r.value+24),active:I(()=>e.app&&i.value),absolute:de(e,"absolute")});rn(()=>{s.value=c.layoutItemStyles.value})});const d=W();return ve(()=>{const c=dt.filterProps(e);return h("div",{ref:d,class:["v-fab",{"v-fab--absolute":e.absolute,"v-fab--app":!!e.app,"v-fab--extended":e.extended,"v-fab--offset":e.offset,[`v-fab--${l.value}`]:a.value,[`v-fab--${u.value}`]:a.value},e.class],style:[e.app?{...s.value}:{height:"inherit",width:void 0},e.style]},[h("div",{class:"v-fab__container"},[h(Bi,{appear:e.appear,transition:e.transition},{default:()=>[_n(h(dt,Z({ref:o},c,{active:void 0,location:void 0}),n),[[fs,e.active]])]})])])}),{}}}),Ese=te({chips:Boolean,counter:Boolean,counterSizeString:{type:String,default:"$vuetify.fileInput.counterSize"},counterString:{type:String,default:"$vuetify.fileInput.counter"},hideInput:Boolean,multiple:Boolean,showSize:{type:[Boolean,Number,String],default:!1,validator:e=>typeof e=="boolean"||[1e3,1024].includes(Number(e))},...No({prependIcon:"$file"}),modelValue:{type:[Array,Object],default:e=>e.multiple?[]:null,validator:e=>mn(e).every(t=>t!=null&&typeof t=="object")},...Uh({clearable:!0})},"VFileInput"),Cse=fe()({name:"VFileInput",inheritAttrs:!1,props:Ese(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,t){let{attrs:n,emit:i,slots:r}=t;const{t:s}=sn(),o=je(e,"modelValue",e.modelValue,w=>mn(w),w=>!e.multiple&&Array.isArray(w)?w[0]:w),{isFocused:a,focus:l,blur:u}=Gs(e),d=I(()=>typeof e.showSize!="boolean"?e.showSize:void 0),c=I(()=>(o.value??[]).reduce((w,E)=>{let{size:A=0}=E;return w+A},0)),f=I(()=>sP(c.value,d.value)),v=I(()=>(o.value??[]).map(w=>{const{name:E="",size:A=0}=w;return e.showSize?`${E} (${sP(A,d.value)})`:E})),m=I(()=>{var E;const w=((E=o.value)==null?void 0:E.length)??0;return e.showSize?s(e.counterSizeString,w,f.value):s(e.counterString,w)}),p=W(),_=W(),y=W(),b=I(()=>a.value||e.active),C=I(()=>["plain","underlined"].includes(e.variant));function k(){var w;y.value!==document.activeElement&&((w=y.value)==null||w.focus()),a.value||l()}function R(w){var E;(E=y.value)==null||E.click()}function O(w){i("mousedown:control",w)}function x(w){var E;(E=y.value)==null||E.click(),i("click:control",w)}function S(w){w.stopPropagation(),k(),at(()=>{o.value=[],p1(e["onClick:clear"],w)})}return ge(o,w=>{(!Array.isArray(w)||!w.length)&&y.value&&(y.value.value="")}),ve(()=>{const w=!!(r.counter||e.counter),E=!!(w||r.details),[A,P]=Na(n),{modelValue:D,...B}=Ci.filterProps(e),$=W1(e);return h(Ci,Z({ref:p,modelValue:o.value,"onUpdate:modelValue":j=>o.value=j,class:["v-file-input",{"v-file-input--chips":!!e.chips,"v-file-input--hide":e.hideInput,"v-input--plain-underlined":C.value},e.class],style:e.style,"onClick:prepend":R},A,B,{centerAffix:!C.value,focused:a.value}),{...r,default:j=>{let{id:Y,isDisabled:H,isDirty:q,isReadonly:z,isValid:ne}=j;return h(Kc,Z({ref:_,"prepend-icon":e.prependIcon,onMousedown:O,onClick:x,"onClick:clear":S,"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"]},$,{id:Y.value,active:b.value||q.value,dirty:q.value||e.dirty,disabled:H.value,focused:a.value,error:ne.value===!1}),{...r,default:ue=>{var Ne;let{props:{class:be,...Ae}}=ue;return h(Te,null,[h("input",Z({ref:y,type:"file",readonly:z.value,disabled:H.value,multiple:e.multiple,name:e.name,onClick:se=>{se.stopPropagation(),z.value&&se.preventDefault(),k()},onChange:se=>{if(!se.target)return;const G=se.target;o.value=[...G.files??[]]},onFocus:k,onBlur:u},Ae,P),null),h("div",{class:be},[!!((Ne=o.value)!=null&&Ne.length)&&!e.hideInput&&(r.selection?r.selection({fileNames:v.value,totalBytes:c.value,totalBytesReadable:f.value}):e.chips?v.value.map(se=>h(ou,{key:se,size:"small",text:se},null)):v.value.join(", "))])])}})},details:E?j=>{var Y,H;return h(Te,null,[(Y=r.details)==null?void 0:Y.call(r,j),w&&h(Te,null,[h("span",null,null),h(f_,{active:!!((H=o.value)!=null&&H.length),value:m.value,disabled:e.disabled},r.counter)])])}:void 0})}),Or({},p,_,y)}}),kse=te({app:Boolean,color:String,height:{type:[Number,String],default:"auto"},...dr(),...$e(),...Zn(),...Jl(),...bn(),...ut({tag:"footer"}),...Ct()},"VFooter"),Tse=fe()({name:"VFooter",props:kse(),setup(e,t){let{slots:n}=t;const i=W(),{themeClasses:r}=Ft(e),{backgroundColorClasses:s,backgroundColorStyles:o}=Gt(de(e,"color")),{borderClasses:a}=Rr(e),{elevationClasses:l}=hi(e),{roundedClasses:u}=On(e),d=ke(32),{resizeRef:c}=us(v=>{v.length&&(d.value=v[0].target.clientHeight)}),f=I(()=>e.height==="auto"?d.value:parseInt(e.height,10));return Ji(()=>e.app,()=>{const v=Zl({id:e.name,order:I(()=>parseInt(e.order,10)),position:I(()=>"bottom"),layoutSize:f,elementSize:I(()=>e.height==="auto"?void 0:f.value),active:I(()=>e.app),absolute:de(e,"absolute")});rn(()=>{i.value=v.layoutItemStyles.value})}),ve(()=>h(e.tag,{ref:c,class:["v-footer",r.value,s.value,a.value,l.value,u.value,e.class],style:[o.value,e.app?i.value:{height:Oe(e.height)},e.style]},n)),{}}}),Ise=te({...$e(),...Xte()},"VForm"),Ase=fe()({name:"VForm",props:Ise(),emits:{"update:modelValue":e=>!0,submit:e=>!0},setup(e,t){let{slots:n,emit:i}=t;const r=Qte(e),s=W();function o(l){l.preventDefault(),r.reset()}function a(l){const u=l,d=r.validate();u.then=d.then.bind(d),u.catch=d.catch.bind(d),u.finally=d.finally.bind(d),i("submit",u),u.defaultPrevented||d.then(c=>{var v;let{valid:f}=c;f&&((v=s.value)==null||v.submit())}),u.preventDefault()}return ve(()=>{var l;return h("form",{ref:s,class:["v-form",e.class],style:e.style,novalidate:!0,onReset:o,onSubmit:a},[(l=n.default)==null?void 0:l.call(n,r)])}),Or(r,s)}}),Pse=te({disabled:Boolean,modelValue:{type:Boolean,default:null},...B1()},"VHover"),xse=fe()({name:"VHover",props:Pse(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const i=je(e,"modelValue"),{runOpenDelay:r,runCloseDelay:s}=U1(e,o=>!e.disabled&&(i.value=o));return()=>{var o;return(o=n.default)==null?void 0:o.call(n,{isHovering:i.value,props:{onMouseenter:r,onMouseleave:s}})}}}),Dse=te({color:String,direction:{type:String,default:"vertical",validator:e=>["vertical","horizontal"].includes(e)},side:{type:String,default:"end",validator:e=>["start","end","both"].includes(e)},mode:{type:String,default:"intersect",validator:e=>["intersect","manual"].includes(e)},margin:[Number,String],loadMoreText:{type:String,default:"$vuetify.infiniteScroll.loadMore"},emptyText:{type:String,default:"$vuetify.infiniteScroll.empty"},...qn(),...ut()},"VInfiniteScroll"),YP=Pr({name:"VInfiniteScrollIntersect",props:{side:{type:String,required:!0},rootMargin:String},emits:{intersect:(e,t)=>!0},setup(e,t){let{emit:n}=t;const{intersectionRef:i,isIntersecting:r}=a_();return ge(r,async s=>{n("intersect",e.side,s)}),ve(()=>h("div",{class:"v-infinite-scroll-intersect",style:{"--v-infinite-margin-size":e.rootMargin},ref:i},[Ie(" ")])),{}}}),Rse=fe()({name:"VInfiniteScroll",props:Dse(),emits:{load:e=>!0},setup(e,t){let{slots:n,emit:i}=t;const r=W(),s=ke("ok"),o=ke("ok"),a=I(()=>Oe(e.margin)),l=ke(!1);function u(R){if(!r.value)return;const O=e.direction==="vertical"?"scrollTop":"scrollLeft";r.value[O]=R}function d(){if(!r.value)return 0;const R=e.direction==="vertical"?"scrollTop":"scrollLeft";return r.value[R]}function c(){if(!r.value)return 0;const R=e.direction==="vertical"?"scrollHeight":"scrollWidth";return r.value[R]}function f(){if(!r.value)return 0;const R=e.direction==="vertical"?"clientHeight":"clientWidth";return r.value[R]}bt(()=>{r.value&&(e.side==="start"?u(c()):e.side==="both"&&u(c()/2-f()/2))});function v(R,O){R==="start"?s.value=O:R==="end"&&(o.value=O)}function m(R){return R==="start"?s.value:o.value}let p=0;function _(R,O){l.value=O,l.value&&y(R)}function y(R){if(e.mode!=="manual"&&!l.value)return;const O=m(R);if(!r.value||["empty","loading"].includes(O))return;p=c(),v(R,"loading");function x(S){v(R,S),at(()=>{S==="empty"||S==="error"||(S==="ok"&&R==="start"&&u(c()-p+d()),e.mode!=="manual"&&at(()=>{window.requestAnimationFrame(()=>{window.requestAnimationFrame(()=>{window.requestAnimationFrame(()=>{y(R)})})})}))})}i("load",{side:R,done:x})}const{t:b}=sn();function C(R,O){var w,E,A,P,D;if(e.side!==R&&e.side!=="both")return;const x=()=>y(R),S={side:R,props:{onClick:x,color:e.color}};return O==="error"?(w=n.error)==null?void 0:w.call(n,S):O==="empty"?((E=n.empty)==null?void 0:E.call(n,S))??h("div",null,[b(e.emptyText)]):e.mode==="manual"?O==="loading"?((A=n.loading)==null?void 0:A.call(n,S))??h(ya,{indeterminate:!0,color:e.color},null):((P=n["load-more"])==null?void 0:P.call(n,S))??h(dt,{variant:"outlined",color:e.color,onClick:x},{default:()=>[b(e.loadMoreText)]}):((D=n.loading)==null?void 0:D.call(n,S))??h(ya,{indeterminate:!0,color:e.color},null)}const{dimensionStyles:k}=Yn(e);ve(()=>{const R=e.tag,O=e.side==="start"||e.side==="both",x=e.side==="end"||e.side==="both",S=e.mode==="intersect";return h(R,{ref:r,class:["v-infinite-scroll",`v-infinite-scroll--${e.direction}`,{"v-infinite-scroll--start":O,"v-infinite-scroll--end":x}],style:k.value},{default:()=>{var w;return[h("div",{class:"v-infinite-scroll__side"},[C("start",s.value)]),O&&S&&h(YP,{key:"start",side:"start",onIntersect:_,rootMargin:a.value},null),(w=n.default)==null?void 0:w.call(n),x&&S&&h(YP,{key:"end",side:"end",onIntersect:_,rootMargin:a.value},null),h("div",{class:"v-infinite-scroll__side"},[C("end",o.value)])]}})})}}),PB=Symbol.for("vuetify:v-item-group"),Ose=te({...$e(),...nu({selectedClass:"v-item--selected"}),...ut(),...Ct()},"VItemGroup"),Vse=fe()({name:"VItemGroup",props:Ose(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const{themeClasses:i}=Ft(e),{isSelected:r,select:s,next:o,prev:a,selected:l}=La(e,PB);return()=>h(e.tag,{class:["v-item-group",i.value,e.class],style:e.style},{default:()=>{var u;return[(u=n.default)==null?void 0:u.call(n,{isSelected:r,select:s,next:o,prev:a,selected:l.value})]}})}}),Nse=fe()({name:"VItem",props:iu(),emits:{"group:selected":e=>!0},setup(e,t){let{slots:n}=t;const{isSelected:i,select:r,toggle:s,selectedClass:o,value:a,disabled:l}=ru(e,PB);return()=>{var u;return(u=n.default)==null?void 0:u.call(n,{isSelected:i.value,selectedClass:o.value,select:r,toggle:s,value:a.value,disabled:l.value})}}}),Mse=Ws("v-kbd"),Lse=te({...$e(),...qn(),...aF()},"VLayout"),Fse=fe()({name:"VLayout",props:Lse(),setup(e,t){let{slots:n}=t;const{layoutClasses:i,layoutStyles:r,getLayoutItem:s,items:o,layoutRef:a}=uF(e),{dimensionStyles:l}=Yn(e);return ve(()=>{var u;return h("div",{ref:a,class:[i.value,e.class],style:[l.value,r.value,e.style]},[(u=n.default)==null?void 0:u.call(n)])}),{getLayoutItem:s,items:o}}}),$se=te({position:{type:String,required:!0},size:{type:[Number,String],default:300},modelValue:Boolean,...$e(),...Jl()},"VLayoutItem"),Bse=fe()({name:"VLayoutItem",props:$se(),setup(e,t){let{slots:n}=t;const{layoutItemStyles:i}=Zl({id:e.name,order:I(()=>parseInt(e.order,10)),position:de(e,"position"),elementSize:de(e,"size"),layoutSize:de(e,"size"),active:de(e,"modelValue"),absolute:de(e,"absolute")});return()=>{var r;return h("div",{class:["v-layout-item",e.class],style:[i.value,e.style]},[(r=n.default)==null?void 0:r.call(n)])}}}),Use=te({modelValue:Boolean,options:{type:Object,default:()=>({root:void 0,rootMargin:void 0,threshold:void 0})},...$e(),...qn(),...ut(),...hs({transition:"fade-transition"})},"VLazy"),jse=fe()({name:"VLazy",directives:{intersect:Nh},props:Use(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const{dimensionStyles:i}=Yn(e),r=je(e,"modelValue");function s(o){r.value||(r.value=o)}return ve(()=>_n(h(e.tag,{class:["v-lazy",e.class],style:[i.value,e.style]},{default:()=>[r.value&&h(Bi,{transition:e.transition,appear:!0},{default:()=>{var o;return[(o=n.default)==null?void 0:o.call(n)]}})]}),[[cr("intersect"),{handler:s,options:e.options},null]])),{}}}),Hse=te({locale:String,fallbackLocale:String,messages:Object,rtl:{type:Boolean,default:void 0},...$e()},"VLocaleProvider"),Wse=fe()({name:"VLocaleProvider",props:Hse(),setup(e,t){let{slots:n}=t;const{rtlClasses:i}=IZ(e);return ve(()=>{var r;return h("div",{class:["v-locale-provider",i.value,e.class],style:e.style},[(r=n.default)==null?void 0:r.call(n)])}),{}}}),zse=te({scrollable:Boolean,...$e(),...qn(),...ut({tag:"main"})},"VMain"),Gse=fe()({name:"VMain",props:zse(),setup(e,t){let{slots:n}=t;const{dimensionStyles:i}=Yn(e),{mainStyles:r}=lF(),{ssrBootStyles:s}=eu();return ve(()=>h(e.tag,{class:["v-main",{"v-main--scrollable":e.scrollable},e.class],style:[r.value,s.value,i.value,e.style]},{default:()=>{var o,a;return[e.scrollable?h("div",{class:"v-main__scroller"},[(o=n.default)==null?void 0:o.call(n)]):(a=n.default)==null?void 0:a.call(n)]}})),{}}});function qse(e){let{rootEl:t,isSticky:n,layoutItemStyles:i}=e;const r=ke(!1),s=ke(0),o=I(()=>{const u=typeof r.value=="boolean"?"top":r.value;return[n.value?{top:"auto",bottom:"auto",height:void 0}:void 0,r.value?{[u]:Oe(s.value)}:{top:i.value.top}]});bt(()=>{ge(n,u=>{u?window.addEventListener("scroll",l,{passive:!0}):window.removeEventListener("scroll",l)},{immediate:!0})}),di(()=>{window.removeEventListener("scroll",l)});let a=0;function l(){const u=a>window.scrollY?"up":"down",d=t.value.getBoundingClientRect(),c=parseFloat(i.value.top??0),f=window.scrollY-Math.max(0,s.value-c),v=d.height+Math.max(s.value,c)-window.scrollY-window.innerHeight,m=parseFloat(getComputedStyle(t.value).getPropertyValue("--v-body-scroll-y"))||0;d.height<window.innerHeight-c?(r.value="top",s.value=c):u==="up"&&r.value==="bottom"||u==="down"&&r.value==="top"?(s.value=window.scrollY+d.top-m,r.value=!0):u==="down"&&v<=0?(s.value=0,r.value="bottom"):u==="up"&&f<=0&&(m?r.value!=="top"&&(s.value=-f+m+c,r.value="top"):(s.value=d.top+f,r.value="top")),a=window.scrollY}return{isStuck:r,stickyStyles:o}}const Yse=100,Kse=20;function KP(e){return(e<0?-1:1)*Math.sqrt(Math.abs(e))*1.41421356237}function XP(e){if(e.length<2)return 0;if(e.length===2)return e[1].t===e[0].t?0:(e[1].d-e[0].d)/(e[1].t-e[0].t);let t=0;for(let n=e.length-1;n>0;n--){if(e[n].t===e[n-1].t)continue;const i=KP(t),r=(e[n].d-e[n-1].d)/(e[n].t-e[n-1].t);t+=(r-i)*Math.abs(r),n===e.length-1&&(t*=.5)}return KP(t)*1e3}function Xse(){const e={};function t(r){Array.from(r.changedTouches).forEach(s=>{(e[s.identifier]??(e[s.identifier]=new jJ(Kse))).push([r.timeStamp,s])})}function n(r){Array.from(r.changedTouches).forEach(s=>{delete e[s.identifier]})}function i(r){var u;const s=(u=e[r])==null?void 0:u.values().reverse();if(!s)throw new Error(`No samples for touch id ${r}`);const o=s[0],a=[],l=[];for(const d of s){if(o[0]-d[0]>Yse)break;a.push({t:d[0],d:d[1].clientX}),l.push({t:d[0],d:d[1].clientY})}return{x:XP(a),y:XP(l),get direction(){const{x:d,y:c}=this,[f,v]=[Math.abs(d),Math.abs(c)];return f>v&&d>=0?"right":f>v&&d<=0?"left":v>f&&c>=0?"down":v>f&&c<=0?"up":Qse()}}}return{addMovement:t,endTouch:n,getVelocity:i}}function Qse(){throw new Error}function Jse(e){let{el:t,isActive:n,isTemporary:i,width:r,touchless:s,position:o}=e;bt(()=>{window.addEventListener("touchstart",b,{passive:!0}),window.addEventListener("touchmove",C,{passive:!1}),window.addEventListener("touchend",k,{passive:!0})}),di(()=>{window.removeEventListener("touchstart",b),window.removeEventListener("touchmove",C),window.removeEventListener("touchend",k)});const a=I(()=>["left","right"].includes(o.value)),{addMovement:l,endTouch:u,getVelocity:d}=Xse();let c=!1;const f=ke(!1),v=ke(0),m=ke(0);let p;function _(O,x){return(o.value==="left"?O:o.value==="right"?document.documentElement.clientWidth-O:o.value==="top"?O:o.value==="bottom"?document.documentElement.clientHeight-O:wu())-(x?r.value:0)}function y(O){let x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const S=o.value==="left"?(O-m.value)/r.value:o.value==="right"?(document.documentElement.clientWidth-O-m.value)/r.value:o.value==="top"?(O-m.value)/r.value:o.value==="bottom"?(document.documentElement.clientHeight-O-m.value)/r.value:wu();return x?Math.max(0,Math.min(1,S)):S}function b(O){if(s.value)return;const x=O.changedTouches[0].clientX,S=O.changedTouches[0].clientY,w=25,E=o.value==="left"?x<w:o.value==="right"?x>document.documentElement.clientWidth-w:o.value==="top"?S<w:o.value==="bottom"?S>document.documentElement.clientHeight-w:wu(),A=n.value&&(o.value==="left"?x<r.value:o.value==="right"?x>document.documentElement.clientWidth-r.value:o.value==="top"?S<r.value:o.value==="bottom"?S>document.documentElement.clientHeight-r.value:wu());(E||A||n.value&&i.value)&&(p=[x,S],m.value=_(a.value?x:S,n.value),v.value=y(a.value?x:S),c=m.value>-20&&m.value<80,u(O),l(O))}function C(O){const x=O.changedTouches[0].clientX,S=O.changedTouches[0].clientY;if(c){if(!O.cancelable){c=!1;return}const E=Math.abs(x-p[0]),A=Math.abs(S-p[1]);(a.value?E>A&&E>3:A>E&&A>3)?(f.value=!0,c=!1):(a.value?A:E)>3&&(c=!1)}if(!f.value)return;O.preventDefault(),l(O);const w=y(a.value?x:S,!1);v.value=Math.max(0,Math.min(1,w)),w>1?m.value=_(a.value?x:S,!0):w<0&&(m.value=_(a.value?x:S,!1))}function k(O){if(c=!1,!f.value)return;l(O),f.value=!1;const x=d(O.changedTouches[0].identifier),S=Math.abs(x.x),w=Math.abs(x.y);(a.value?S>w&&S>400:w>S&&w>3)?n.value=x.direction===({left:"right",right:"left",top:"down",bottom:"up"}[o.value]||wu()):n.value=v.value>.5}const R=I(()=>f.value?{transform:o.value==="left"?`translateX(calc(-100% + ${v.value*r.value}px))`:o.value==="right"?`translateX(calc(100% - ${v.value*r.value}px))`:o.value==="top"?`translateY(calc(-100% + ${v.value*r.value}px))`:o.value==="bottom"?`translateY(calc(100% - ${v.value*r.value}px))`:wu(),transition:"none"}:void 0);return Ji(f,()=>{var S,w;const O=((S=t.value)==null?void 0:S.style.transform)??null,x=((w=t.value)==null?void 0:w.style.transition)??null;rn(()=>{var E,A,P,D;(A=t.value)==null||A.style.setProperty("transform",((E=R.value)==null?void 0:E.transform)||"none"),(D=t.value)==null||D.style.setProperty("transition",((P=R.value)==null?void 0:P.transition)||null)}),ki(()=>{var E,A;(E=t.value)==null||E.style.setProperty("transform",O),(A=t.value)==null||A.style.setProperty("transition",x)})}),{isDragging:f,dragProgress:v,dragStyles:R}}function wu(){throw new Error}const Zse=["start","end","left","right","top","bottom"],eoe=te({color:String,disableResizeWatcher:Boolean,disableRouteWatcher:Boolean,expandOnHover:Boolean,floating:Boolean,modelValue:{type:Boolean,default:null},permanent:Boolean,rail:{type:Boolean,default:null},railWidth:{type:[Number,String],default:56},scrim:{type:[Boolean,String],default:!0},image:String,temporary:Boolean,persistent:Boolean,touchless:Boolean,width:{type:[Number,String],default:256},location:{type:String,default:"start",validator:e=>Zse.includes(e)},sticky:Boolean,...dr(),...$e(),...B1(),...Ql({mobile:null}),...Zn(),...Jl(),...bn(),...ut({tag:"nav"}),...Ct()},"VNavigationDrawer"),toe=fe()({name:"VNavigationDrawer",props:eoe(),emits:{"update:modelValue":e=>!0,"update:rail":e=>!0},setup(e,t){let{attrs:n,emit:i,slots:r}=t;const{isRtl:s}=Jn(),{themeClasses:o}=Ft(e),{borderClasses:a}=Rr(e),{backgroundColorClasses:l,backgroundColorStyles:u}=Gt(de(e,"color")),{elevationClasses:d}=hi(e),{displayClasses:c,mobile:f}=xr(e),{roundedClasses:v}=On(e),m=wF(),p=je(e,"modelValue",null,ne=>!!ne),{ssrBootStyles:_}=eu(),{scopeId:y}=au(),b=W(),C=ke(!1),{runOpenDelay:k,runCloseDelay:R}=U1(e,ne=>{C.value=ne}),O=I(()=>e.rail&&e.expandOnHover&&C.value?Number(e.width):Number(e.rail?e.railWidth:e.width)),x=I(()=>V0(e.location,s.value)),S=I(()=>e.persistent),w=I(()=>!e.permanent&&(f.value||e.temporary)),E=I(()=>e.sticky&&!w.value&&x.value!=="bottom");Ji(()=>e.expandOnHover&&e.rail!=null,()=>{ge(C,ne=>i("update:rail",!ne))}),Ji(()=>!e.disableResizeWatcher,()=>{ge(w,ne=>!e.permanent&&at(()=>p.value=!ne))}),Ji(()=>!e.disableRouteWatcher&&!!m,()=>{ge(m.currentRoute,()=>w.value&&(p.value=!1))}),ge(()=>e.permanent,ne=>{ne&&(p.value=!0)}),e.modelValue==null&&!w.value&&(p.value=e.permanent||!f.value);const{isDragging:A,dragProgress:P}=Jse({el:b,isActive:p,isTemporary:w,width:O,touchless:de(e,"touchless"),position:x}),D=I(()=>{const ne=w.value?0:e.rail&&e.expandOnHover?Number(e.railWidth):O.value;return A.value?ne*P.value:ne}),B=I(()=>["top","bottom"].includes(e.location)?0:O.value),{layoutItemStyles:$,layoutItemScrimStyles:j}=Zl({id:e.name,order:I(()=>parseInt(e.order,10)),position:x,layoutSize:D,elementSize:B,active:I(()=>p.value||A.value),disableTransitions:I(()=>A.value),absolute:I(()=>e.absolute||E.value&&typeof Y.value!="string")}),{isStuck:Y,stickyStyles:H}=qse({rootEl:b,isSticky:E,layoutItemStyles:$}),q=Gt(I(()=>typeof e.scrim=="string"?e.scrim:null)),z=I(()=>({...A.value?{opacity:P.value*.2,transition:"none"}:void 0,...j.value}));return yn({VList:{bgColor:"transparent"}}),ve(()=>{const ne=r.image||e.image;return h(Te,null,[h(e.tag,Z({ref:b,onMouseenter:k,onMouseleave:R,class:["v-navigation-drawer",`v-navigation-drawer--${x.value}`,{"v-navigation-drawer--expand-on-hover":e.expandOnHover,"v-navigation-drawer--floating":e.floating,"v-navigation-drawer--is-hovering":C.value,"v-navigation-drawer--rail":e.rail,"v-navigation-drawer--temporary":w.value,"v-navigation-drawer--persistent":S.value,"v-navigation-drawer--active":p.value,"v-navigation-drawer--sticky":E.value},o.value,l.value,a.value,c.value,d.value,v.value,e.class],style:[u.value,$.value,_.value,H.value,e.style,["top","bottom"].includes(x.value)?{height:"auto"}:{}]},y,n),{default:()=>{var ue,be,Ae;return[ne&&h("div",{key:"image",class:"v-navigation-drawer__img"},[r.image?h(lt,{key:"image-defaults",disabled:!e.image,defaults:{VImg:{alt:"",cover:!0,height:"inherit",src:e.image}}},r.image):h(ko,{key:"image-img",alt:"",cover:!0,height:"inherit",src:e.image},null)]),r.prepend&&h("div",{class:"v-navigation-drawer__prepend"},[(ue=r.prepend)==null?void 0:ue.call(r)]),h("div",{class:"v-navigation-drawer__content"},[(be=r.default)==null?void 0:be.call(r)]),r.append&&h("div",{class:"v-navigation-drawer__append"},[(Ae=r.append)==null?void 0:Ae.call(r)])]}}),h(va,{name:"fade-transition"},{default:()=>[w.value&&(A.value||p.value)&&!!e.scrim&&h("div",Z({class:["v-navigation-drawer__scrim",q.backgroundColorClasses.value],style:[z.value,q.backgroundColorStyles.value],onClick:()=>{S.value||(p.value=!1)}},y),null)]})])}),{isStuck:Y}}}),noe=Pr({name:"VNoSsr",setup(e,t){let{slots:n}=t;const i=d$();return()=>{var r;return i.value&&((r=n.default)==null?void 0:r.call(n))}}}),ioe=te({autofocus:Boolean,divider:String,focusAll:Boolean,label:{type:String,default:"$vuetify.input.otp"},length:{type:[Number,String],default:6},modelValue:{type:[Number,String],default:void 0},placeholder:String,type:{type:String,default:"number"},...qn(),...Yc(),...Jp(Uh({variant:"outlined"}),["baseColor","bgColor","class","color","disabled","error","loading","rounded","style","theme","variant"])},"VOtpInput"),roe=fe()({name:"VOtpInput",props:ioe(),emits:{finish:e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,t){let{attrs:n,emit:i,slots:r}=t;const{dimensionStyles:s}=Yn(e),{isFocused:o,focus:a,blur:l}=Gs(e),u=je(e,"modelValue","",S=>S==null?[]:String(S).split(""),S=>S.join("")),{t:d}=sn(),c=I(()=>Number(e.length)),f=I(()=>Array(c.value).fill(0)),v=W(-1),m=W(),p=W([]),_=I(()=>p.value[v.value]);function y(){if(x(_.value.value)){_.value.value="";return}const S=u.value.slice(),w=_.value.value;S[v.value]=w;let E=null;v.value>u.value.length?E=u.value.length+1:v.value+1!==c.value&&(E="next"),u.value=S,E&&_l(m.value,E)}function b(S){const w=u.value.slice(),E=v.value;let A=null;["ArrowLeft","ArrowRight","Backspace","Delete"].includes(S.key)&&(S.preventDefault(),S.key==="ArrowLeft"?A="prev":S.key==="ArrowRight"?A="next":["Backspace","Delete"].includes(S.key)&&(w[v.value]="",u.value=w,v.value>0&&S.key==="Backspace"?A="prev":requestAnimationFrame(()=>{var P;(P=p.value[E])==null||P.select()})),requestAnimationFrame(()=>{A!=null&&_l(m.value,A)}))}function C(S,w){var A,P;w.preventDefault(),w.stopPropagation();const E=((A=w==null?void 0:w.clipboardData)==null?void 0:A.getData("Text").slice(0,c.value))??"";x(E)||(u.value=E.split(""),(P=p.value)==null||P[S].blur())}function k(){u.value=[]}function R(S,w){a(),v.value=w}function O(){l(),v.value=-1}function x(S){return e.type==="number"&&/[^0-9]/g.test(S)}return yn({VField:{color:I(()=>e.color),bgColor:I(()=>e.color),baseColor:I(()=>e.baseColor),disabled:I(()=>e.disabled),error:I(()=>e.error),variant:I(()=>e.variant)}},{scoped:!0}),ge(u,S=>{S.length===c.value&&i("finish",S.join(""))},{deep:!0}),ge(v,S=>{S<0||at(()=>{var w;(w=p.value[S])==null||w.select()})}),ve(()=>{var E;const[S,w]=Na(n);return h("div",Z({class:["v-otp-input",{"v-otp-input--divided":!!e.divider},e.class],style:[e.style]},S),[h("div",{ref:m,class:"v-otp-input__content",style:[s.value]},[f.value.map((A,P)=>h(Te,null,[e.divider&&P!==0&&h("span",{class:"v-otp-input__divider"},[e.divider]),h(Kc,{focused:o.value&&e.focusAll||v.value===P,key:P},{...r,loader:void 0,default:()=>h("input",{ref:D=>p.value[P]=D,"aria-label":d(e.label,P+1),autofocus:P===0&&e.autofocus,autocomplete:"one-time-code",class:["v-otp-input__field"],disabled:e.disabled,inputmode:e.type==="number"?"numeric":"text",min:e.type==="number"?0:void 0,maxlength:"1",placeholder:e.placeholder,type:e.type==="number"?"text":e.type,value:u.value[P],onInput:y,onFocus:D=>R(D,P),onBlur:O,onKeydown:b,onPaste:D=>C(P,D)},null)})])),h("input",Z({class:"v-otp-input-input",type:"hidden"},w,{value:u.value.join("")}),null),h(Ls,{contained:!0,"content-class":"v-otp-input__loader","model-value":!!e.loading,persistent:!0},{default:()=>{var A;return[((A=r.loader)==null?void 0:A.call(r))??h(ya,{color:typeof e.loading=="boolean"?void 0:e.loading,indeterminate:!0,size:"24",width:"2"},null)]}}),(E=r.default)==null?void 0:E.call(r)])])}),{blur:()=>{var S;(S=p.value)==null||S.some(w=>w.blur())},focus:()=>{var S;(S=p.value)==null||S[0].focus()},reset:k,isFocused:o}}});function soe(e){return Math.floor(Math.abs(e))*Math.sign(e)}const ooe=te({scale:{type:[Number,String],default:.5},...$e()},"VParallax"),aoe=fe()({name:"VParallax",props:ooe(),setup(e,t){let{slots:n}=t;const{intersectionRef:i,isIntersecting:r}=a_(),{resizeRef:s,contentRect:o}=us(),{height:a}=xr(),l=W();rn(()=>{var v;i.value=s.value=(v=l.value)==null?void 0:v.$el});let u;ge(r,v=>{v?(u=S1(i.value),u=u===document.scrollingElement?document:u,u.addEventListener("scroll",f,{passive:!0}),f()):u.removeEventListener("scroll",f)}),di(()=>{u==null||u.removeEventListener("scroll",f)}),ge(a,f),ge(()=>{var v;return(v=o.value)==null?void 0:v.height},f);const d=I(()=>1-Tn(+e.scale));let c=-1;function f(){r.value&&(cancelAnimationFrame(c),c=requestAnimationFrame(()=>{var R;const v=((R=l.value)==null?void 0:R.$el).querySelector(".v-img__img");if(!v)return;const m=u instanceof Document?document.documentElement.clientHeight:u.clientHeight,p=u instanceof Document?window.scrollY:u.scrollTop,_=i.value.getBoundingClientRect().top+p,y=o.value.height,b=_+(y-m)/2,C=soe((p-b)*d.value),k=Math.max(1,(d.value*(m-y)+y)/y);v.style.setProperty("transform",`translateY(${C}px) scale(${k})`)}))}return ve(()=>h(ko,{class:["v-parallax",{"v-parallax--active":r.value},e.class],style:e.style,ref:l,cover:!0,onLoadstart:f,onLoad:f},n)),{}}}),loe=te({...d_({falseIcon:"$radioOff",trueIcon:"$radioOn"})},"VRadio"),uoe=fe()({name:"VRadio",props:loe(),setup(e,t){let{slots:n}=t;return ve(()=>{const i=ba.filterProps(e);return h(ba,Z(i,{class:["v-radio",e.class],style:e.style,type:"radio"}),n)}),{}}}),coe=te({height:{type:[Number,String],default:"auto"},...No(),...zt(N1(),["multiple"]),trueIcon:{type:Ze,default:"$radioOn"},falseIcon:{type:Ze,default:"$radioOff"},type:{type:String,default:"radio"}},"VRadioGroup"),doe=fe()({name:"VRadioGroup",inheritAttrs:!1,props:coe(),emits:{"update:modelValue":e=>!0},setup(e,t){let{attrs:n,slots:i}=t;const r=fi(),s=I(()=>e.id||`radio-group-${r}`),o=je(e,"modelValue");return ve(()=>{const[a,l]=Na(n),u=Ci.filterProps(e),d=ba.filterProps(e),c=i.label?i.label({label:e.label,props:{for:s.value}}):e.label;return h(Ci,Z({class:["v-radio-group",e.class],style:e.style},a,u,{modelValue:o.value,"onUpdate:modelValue":f=>o.value=f,id:s.value}),{...i,default:f=>{let{id:v,messagesId:m,isDisabled:p,isReadonly:_}=f;return h(Te,null,[c&&h(qc,{id:v.value},{default:()=>[c]}),h(RF,Z(d,{id:v.value,"aria-describedby":m.value,defaultsTarget:"VRadio",trueIcon:e.trueIcon,falseIcon:e.falseIcon,type:e.type,disabled:p.value,readonly:_.value,"aria-labelledby":c?v.value:void 0,multiple:!1},l,{modelValue:o.value,"onUpdate:modelValue":y=>o.value=y}),i)])}})}),{}}}),foe=te({...Yc(),...No(),...O$(),strict:Boolean,modelValue:{type:Array,default:()=>[0,0]}},"VRangeSlider"),hoe=fe()({name:"VRangeSlider",props:foe(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,end:e=>!0,start:e=>!0},setup(e,t){let{slots:n,emit:i}=t;const r=W(),s=W(),o=W(),{rtlClasses:a}=Jn();function l(E){if(!r.value||!s.value)return;const A=Z0(E,r.value.$el,e.direction),P=Z0(E,s.value.$el,e.direction),D=Math.abs(A),B=Math.abs(P);return D<B||D===B&&A<0?r.value.$el:s.value.$el}const u=V$(e),d=je(e,"modelValue",void 0,E=>E!=null&&E.length?E.map(A=>u.roundValue(A)):[0,0]),{activeThumbRef:c,hasLabels:f,max:v,min:m,mousePressed:p,onSliderMousedown:_,onSliderTouchstart:y,position:b,trackContainerRef:C,readonly:k}=N$({props:e,steps:u,onSliderStart:()=>{i("start",d.value)},onSliderEnd:E=>{var D;let{value:A}=E;const P=c.value===((D=r.value)==null?void 0:D.$el)?[A,d.value[1]]:[d.value[0],A];!e.strict&&P[0]<P[1]&&(d.value=P),i("end",d.value)},onSliderMove:E=>{var B,$,j,Y;let{value:A}=E;const[P,D]=d.value;!e.strict&&P===D&&P!==m.value&&(c.value=A>P?(B=s.value)==null?void 0:B.$el:($=r.value)==null?void 0:$.$el,(j=c.value)==null||j.focus()),c.value===((Y=r.value)==null?void 0:Y.$el)?d.value=[Math.min(A,D),D]:d.value=[P,Math.max(P,A)]},getActiveThumb:l}),{isFocused:R,focus:O,blur:x}=Gs(e),S=I(()=>b(d.value[0])),w=I(()=>b(d.value[1]));return ve(()=>{const E=Ci.filterProps(e),A=!!(e.label||n.label||n.prepend);return h(Ci,Z({class:["v-slider","v-range-slider",{"v-slider--has-labels":!!n["tick-label"]||f.value,"v-slider--focused":R.value,"v-slider--pressed":p.value,"v-slider--disabled":e.disabled},a.value,e.class],style:e.style,ref:o},E,{focused:R.value}),{...n,prepend:A?P=>{var D,B;return h(Te,null,[((D=n.label)==null?void 0:D.call(n,P))??(e.label?h(qc,{class:"v-slider__label",text:e.label},null):void 0),(B=n.prepend)==null?void 0:B.call(n,P)])}:void 0,default:P=>{var $,j;let{id:D,messagesId:B}=P;return h("div",{class:"v-slider__container",onMousedown:k.value?void 0:_,onTouchstartPassive:k.value?void 0:y},[h("input",{id:`${D.value}_start`,name:e.name||D.value,disabled:!!e.disabled,readonly:!!e.readonly,tabindex:"-1",value:d.value[0]},null),h("input",{id:`${D.value}_stop`,name:e.name||D.value,disabled:!!e.disabled,readonly:!!e.readonly,tabindex:"-1",value:d.value[1]},null),h(M$,{ref:C,start:S.value,stop:w.value},{"tick-label":n["tick-label"]}),h(ew,{ref:r,"aria-describedby":B.value,focused:R&&c.value===(($=r.value)==null?void 0:$.$el),modelValue:d.value[0],"onUpdate:modelValue":Y=>d.value=[Y,d.value[1]],onFocus:Y=>{var H,q,z,ne;O(),c.value=(H=r.value)==null?void 0:H.$el,d.value[0]===d.value[1]&&d.value[1]===m.value&&Y.relatedTarget!==((q=s.value)==null?void 0:q.$el)&&((z=r.value)==null||z.$el.blur(),(ne=s.value)==null||ne.$el.focus())},onBlur:()=>{x(),c.value=void 0},min:m.value,max:d.value[1],position:S.value,ripple:e.ripple},{"thumb-label":n["thumb-label"]}),h(ew,{ref:s,"aria-describedby":B.value,focused:R&&c.value===((j=s.value)==null?void 0:j.$el),modelValue:d.value[1],"onUpdate:modelValue":Y=>d.value=[d.value[0],Y],onFocus:Y=>{var H,q,z,ne;O(),c.value=(H=s.value)==null?void 0:H.$el,d.value[0]===d.value[1]&&d.value[0]===v.value&&Y.relatedTarget!==((q=r.value)==null?void 0:q.$el)&&((z=s.value)==null||z.$el.blur(),(ne=r.value)==null||ne.$el.focus())},onBlur:()=>{x(),c.value=void 0},min:d.value[0],max:v.value,position:w.value,ripple:e.ripple},{"thumb-label":n["thumb-label"]})])}})}),{}}}),voe=te({name:String,itemAriaLabel:{type:String,default:"$vuetify.rating.ariaLabel.item"},activeColor:String,color:String,clearable:Boolean,disabled:Boolean,emptyIcon:{type:Ze,default:"$ratingEmpty"},fullIcon:{type:Ze,default:"$ratingFull"},halfIncrements:Boolean,hover:Boolean,length:{type:[Number,String],default:5},readonly:Boolean,modelValue:{type:[Number,String],default:0},itemLabels:Array,itemLabelPosition:{type:String,default:"top",validator:e=>["top","bottom"].includes(e)},ripple:Boolean,...$e(),...ri(),...zs(),...ut(),...Ct()},"VRating"),moe=fe()({name:"VRating",props:voe(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const{t:i}=sn(),{themeClasses:r}=Ft(e),s=je(e,"modelValue"),o=I(()=>Tn(parseFloat(s.value),0,+e.length)),a=I(()=>wr(Number(e.length),1)),l=I(()=>a.value.flatMap(p=>e.halfIncrements?[p-.5,p]:[p])),u=ke(-1),d=I(()=>l.value.map(p=>{const _=e.hover&&u.value>-1,y=o.value>=p,b=u.value>=p,k=(_?b:y)?e.fullIcon:e.emptyIcon,R=e.activeColor??e.color,O=y||b?R:e.color;return{isFilled:y,isHovered:b,icon:k,color:O}})),c=I(()=>[0,...l.value].map(p=>{function _(){u.value=p}function y(){u.value=-1}function b(){e.disabled||e.readonly||(s.value=o.value===p&&e.clearable?0:p)}return{onMouseenter:e.hover?_:void 0,onMouseleave:e.hover?y:void 0,onClick:b}})),f=I(()=>e.name??`v-rating-${fi()}`);function v(p){var S,w;let{value:_,index:y,showStar:b=!0}=p;const{onMouseenter:C,onMouseleave:k,onClick:R}=c.value[y+1],O=`${f.value}-${String(_).replace(".","-")}`,x={color:(S=d.value[y])==null?void 0:S.color,density:e.density,disabled:e.disabled,icon:(w=d.value[y])==null?void 0:w.icon,ripple:e.ripple,size:e.size,variant:"plain"};return h(Te,null,[h("label",{for:O,class:{"v-rating__item--half":e.halfIncrements&&_%1>0,"v-rating__item--full":e.halfIncrements&&_%1===0},onMouseenter:C,onMouseleave:k,onClick:R},[h("span",{class:"v-rating__hidden"},[i(e.itemAriaLabel,_,e.length)]),b?n.item?n.item({...d.value[y],props:x,value:_,index:y,rating:o.value}):h(dt,Z({"aria-label":i(e.itemAriaLabel,_,e.length)},x),null):void 0]),h("input",{class:"v-rating__hidden",name:f.value,id:O,type:"radio",value:_,checked:o.value===_,tabindex:-1,readonly:e.readonly,disabled:e.disabled},null)])}function m(p){return n["item-label"]?n["item-label"](p):p.label?h("span",null,[p.label]):h("span",null,[Ie(" ")])}return ve(()=>{var _;const p=!!((_=e.itemLabels)!=null&&_.length)||n["item-label"];return h(e.tag,{class:["v-rating",{"v-rating--hover":e.hover,"v-rating--readonly":e.readonly},r.value,e.class],style:e.style},{default:()=>[h(v,{value:0,index:-1,showStar:!1},null),a.value.map((y,b)=>{var C,k;return h("div",{class:"v-rating__wrapper"},[p&&e.itemLabelPosition==="top"?m({value:y,index:b,label:(C=e.itemLabels)==null?void 0:C[b]}):void 0,h("div",{class:"v-rating__item"},[e.halfIncrements?h(Te,null,[h(v,{value:y-.5,index:b*2},null),h(v,{value:y,index:b*2+1},null)]):h(v,{value:y,index:b},null)]),p&&e.itemLabelPosition==="bottom"?m({value:y,index:b,label:(k=e.itemLabels)==null?void 0:k[b]}):void 0])})]})}),{}}}),goe={actions:"button@2",article:"heading, paragraph",avatar:"avatar",button:"button",card:"image, heading","card-avatar":"image, list-item-avatar",chip:"chip","date-picker":"list-item, heading, divider, date-picker-options, date-picker-days, actions","date-picker-options":"text, avatar@2","date-picker-days":"avatar@28",divider:"divider",heading:"heading",image:"image","list-item":"text","list-item-avatar":"avatar, text","list-item-two-line":"sentences","list-item-avatar-two-line":"avatar, sentences","list-item-three-line":"paragraph","list-item-avatar-three-line":"avatar, paragraph",ossein:"ossein",paragraph:"text@3",sentences:"text@2",subtitle:"text",table:"table-heading, table-thead, table-tbody, table-tfoot","table-heading":"chip, text","table-thead":"heading@6","table-tbody":"table-row-divider@6","table-row-divider":"table-row, divider","table-row":"text@6","table-tfoot":"text@2, avatar@2",text:"text"};function poe(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return h("div",{class:["v-skeleton-loader__bone",`v-skeleton-loader__${e}`]},[t])}function QP(e){const[t,n]=e.split("@");return Array.from({length:n}).map(()=>T_(t))}function T_(e){let t=[];if(!e)return t;const n=goe[e];if(e!==n){if(e.includes(","))return JP(e);if(e.includes("@"))return QP(e);n.includes(",")?t=JP(n):n.includes("@")?t=QP(n):n&&t.push(T_(n))}return[poe(e,t)]}function JP(e){return e.replace(/\s/g,"").split(",").map(T_)}const _oe=te({boilerplate:Boolean,color:String,loading:Boolean,loadingText:{type:String,default:"$vuetify.loading"},type:{type:[String,Array],default:"ossein"},...qn(),...Zn(),...Ct()},"VSkeletonLoader"),yoe=fe()({name:"VSkeletonLoader",props:_oe(),setup(e,t){let{slots:n}=t;const{backgroundColorClasses:i,backgroundColorStyles:r}=Gt(de(e,"color")),{dimensionStyles:s}=Yn(e),{elevationClasses:o}=hi(e),{themeClasses:a}=Ft(e),{t:l}=sn(),u=I(()=>T_(mn(e.type).join(",")));return ve(()=>{var f;const d=!n.default||e.loading,c=e.boilerplate||!d?{}:{ariaLive:"polite",ariaLabel:l(e.loadingText),role:"alert"};return h("div",Z({class:["v-skeleton-loader",{"v-skeleton-loader--boilerplate":e.boilerplate},a.value,i.value,o.value],style:[r.value,d?s.value:{}]},c),[d?u.value:(f=n.default)==null?void 0:f.call(n)])}),{}}}),boe=fe()({name:"VSlideGroupItem",props:iu(),emits:{"group:selected":e=>!0},setup(e,t){let{slots:n}=t;const i=ru(e,UF);return()=>{var r;return(r=n.default)==null?void 0:r.call(n,{isSelected:i.isSelected.value,select:i.select,toggle:i.toggle,selectedClass:i.selectedClass.value})}}});function woe(e){const t=ke(e());let n=-1;function i(){clearInterval(n)}function r(){i(),at(()=>t.value=e())}function s(o){const a=o?getComputedStyle(o):{transitionDuration:.2},l=parseFloat(a.transitionDuration)*1e3||200;if(i(),t.value<=0)return;const u=performance.now();n=window.setInterval(()=>{const d=performance.now()-u+l;t.value=Math.max(e()-d,0),t.value<=0&&i()},l)}return ki(i),{clear:i,time:t,start:s,reset:r}}const xB=te({multiLine:Boolean,text:String,timer:[Boolean,String],timeout:{type:[Number,String],default:5e3},vertical:Boolean,...Oo({location:"bottom"}),...Wc(),...bn(),...Hr(),...Ct(),...zt(Bh({transition:"v-snackbar-transition"}),["persistent","noClickAnimation","scrim","scrollStrategy"])},"VSnackbar"),mw=fe()({name:"VSnackbar",props:xB(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const i=je(e,"modelValue"),{positionClasses:r}=zc(e),{scopeId:s}=au(),{themeClasses:o}=Ft(e),{colorClasses:a,colorStyles:l,variantClasses:u}=tu(e),{roundedClasses:d}=On(e),c=woe(()=>Number(e.timeout)),f=W(),v=W(),m=ke(!1),p=ke(0),_=W(),y=ot($f,void 0);Ji(()=>!!y,()=>{const A=lF();rn(()=>{_.value=A.mainStyles.value})}),ge(i,C),ge(()=>e.timeout,C),bt(()=>{i.value&&C()});let b=-1;function C(){c.reset(),window.clearTimeout(b);const A=Number(e.timeout);if(!i.value||A===-1)return;const P=v1(v.value);c.start(P),b=window.setTimeout(()=>{i.value=!1},A)}function k(){c.reset(),window.clearTimeout(b)}function R(){m.value=!0,k()}function O(){m.value=!1,C()}function x(A){p.value=A.touches[0].clientY}function S(A){Math.abs(p.value-A.changedTouches[0].clientY)>50&&(i.value=!1)}function w(){m.value&&O()}const E=I(()=>e.location.split(" ").reduce((A,P)=>(A[`v-snackbar--${P}`]=!0,A),{}));return ve(()=>{const A=Ls.filterProps(e),P=!!(n.default||n.text||e.text);return h(Ls,Z({ref:f,class:["v-snackbar",{"v-snackbar--active":i.value,"v-snackbar--multi-line":e.multiLine&&!e.vertical,"v-snackbar--timer":!!e.timer,"v-snackbar--vertical":e.vertical},E.value,r.value,e.class],style:[_.value,e.style]},A,{modelValue:i.value,"onUpdate:modelValue":D=>i.value=D,contentProps:Z({class:["v-snackbar__wrapper",o.value,a.value,d.value,u.value],style:[l.value],onPointerenter:R,onPointerleave:O},A.contentProps),persistent:!0,noClickAnimation:!0,scrim:!1,scrollStrategy:"none",_disableGlobalStack:!0,onTouchstartPassive:x,onTouchend:S,onAfterLeave:w},s),{default:()=>{var D,B;return[Ma(!1,"v-snackbar"),e.timer&&!m.value&&h("div",{key:"timer",class:"v-snackbar__timer"},[h(l_,{ref:v,color:typeof e.timer=="string"?e.timer:"info",max:e.timeout,"model-value":c.time.value},null)]),P&&h("div",{key:"content",class:"v-snackbar__content",role:"status","aria-live":"polite"},[((D=n.text)==null?void 0:D.call(n))??e.text,(B=n.default)==null?void 0:B.call(n)]),n.actions&&h(lt,{defaults:{VBtn:{variant:"text",ripple:!1,slim:!0}}},{default:()=>[h("div",{class:"v-snackbar__actions"},[n.actions({isActive:i})])]})]},activator:n.activator})}),Or({},f)}}),DB=te({autoDraw:Boolean,autoDrawDuration:[Number,String],autoDrawEasing:{type:String,default:"ease"},color:String,gradient:{type:Array,default:()=>[]},gradientDirection:{type:String,validator:e=>["top","bottom","left","right"].includes(e),default:"top"},height:{type:[String,Number],default:75},labels:{type:Array,default:()=>[]},labelSize:{type:[Number,String],default:7},lineWidth:{type:[String,Number],default:4},id:String,itemValue:{type:String,default:"value"},modelValue:{type:Array,default:()=>[]},min:[String,Number],max:[String,Number],padding:{type:[String,Number],default:8},showLabels:Boolean,smooth:Boolean,width:{type:[Number,String],default:300}},"Line"),RB=te({autoLineWidth:Boolean,...DB()},"VBarline"),ZP=fe()({name:"VBarline",props:RB(),setup(e,t){let{slots:n}=t;const i=fi(),r=I(()=>e.id||`barline-${i}`),s=I(()=>Number(e.autoDrawDuration)||500),o=I(()=>!!(e.showLabels||e.labels.length>0||n!=null&&n.label)),a=I(()=>parseFloat(e.lineWidth)||4),l=I(()=>Math.max(e.modelValue.length*a.value,Number(e.width))),u=I(()=>({minX:0,maxX:l.value,minY:0,maxY:parseInt(e.height,10)})),d=I(()=>e.modelValue.map(p=>jn(p,e.itemValue,p)));function c(p,_){const{minX:y,maxX:b,minY:C,maxY:k}=_,R=p.length;let O=e.max!=null?Number(e.max):Math.max(...p),x=e.min!=null?Number(e.min):Math.min(...p);x>0&&e.min==null&&(x=0),O<0&&e.max==null&&(O=0);const S=b/R,w=(k-C)/(O-x||1),E=k-Math.abs(x*w);return p.map((A,P)=>{const D=Math.abs(w*A);return{x:y+P*S,y:E-D+ +(A<0)*D,height:D,value:A}})}const f=I(()=>{const p=[],_=c(d.value,u.value),y=_.length;for(let b=0;p.length<y;b++){const C=_[b];let k=e.labels[b];k||(k=typeof C=="object"?C.value:C),p.push({x:C.x,value:String(k)})}return p}),v=I(()=>c(d.value,u.value)),m=I(()=>(Math.abs(v.value[0].x-v.value[1].x)-a.value)/2);ve(()=>{const p=e.gradient.slice().length?e.gradient.slice().reverse():[""];return h("svg",{display:"block"},[h("defs",null,[h("linearGradient",{id:r.value,gradientUnits:"userSpaceOnUse",x1:e.gradientDirection==="left"?"100%":"0",y1:e.gradientDirection==="top"?"100%":"0",x2:e.gradientDirection==="right"?"100%":"0",y2:e.gradientDirection==="bottom"?"100%":"0"},[p.map((_,y)=>h("stop",{offset:y/Math.max(p.length-1,1),"stop-color":_||"currentColor"},null))])]),h("clipPath",{id:`${r.value}-clip`},[v.value.map(_=>h("rect",{x:_.x+m.value,y:_.y,width:a.value,height:_.height,rx:typeof e.smooth=="number"?e.smooth:e.smooth?2:0,ry:typeof e.smooth=="number"?e.smooth:e.smooth?2:0},[e.autoDraw&&h(Te,null,[h("animate",{attributeName:"y",from:_.y+_.height,to:_.y,dur:`${s.value}ms`,fill:"freeze"},null),h("animate",{attributeName:"height",from:"0",to:_.height,dur:`${s.value}ms`,fill:"freeze"},null)])]))]),o.value&&h("g",{key:"labels",style:{textAnchor:"middle",dominantBaseline:"mathematical",fill:"currentColor"}},[f.value.map((_,y)=>{var b;return h("text",{x:_.x+m.value+a.value/2,y:parseInt(e.height,10)-2+(parseInt(e.labelSize,10)||7*.75),"font-size":Number(e.labelSize)||7},[((b=n.label)==null?void 0:b.call(n,{index:y,value:_.value}))??_.value])})]),h("g",{"clip-path":`url(#${r.value}-clip)`,fill:`url(#${r.value})`},[h("rect",{x:0,y:0,width:Math.max(e.modelValue.length*a.value,Number(e.width)),height:e.height},null)])])})}});function Soe(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:75;if(e.length===0)return"";const r=e.shift(),s=e[e.length-1];return(n?`M${r.x} ${i-r.x+2} L${r.x} ${r.y}`:`M${r.x} ${r.y}`)+e.map((o,a)=>{const l=e[a+1],u=e[a-1]||r,d=l&&Eoe(l,o,u);if(!l||d)return`L${o.x} ${o.y}`;const c=Math.min(ex(u,o),ex(l,o)),v=c/2<t?c/2:t,m=tx(u,o,v),p=tx(l,o,v);return`L${m.x} ${m.y}S${o.x} ${o.y} ${p.x} ${p.y}`}).join("")+(n?`L${s.x} ${i-r.x+2} Z`:"")}function Vv(e){return parseInt(e,10)}function Eoe(e,t,n){return Vv(e.x+n.x)===Vv(2*t.x)&&Vv(e.y+n.y)===Vv(2*t.y)}function ex(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function tx(e,t,n){const i={x:e.x-t.x,y:e.y-t.y},r=Math.sqrt(i.x*i.x+i.y*i.y),s={x:i.x/r,y:i.y/r};return{x:t.x+s.x*n,y:t.y+s.y*n}}const OB=te({fill:Boolean,...DB()},"VTrendline"),nx=fe()({name:"VTrendline",props:OB(),setup(e,t){let{slots:n}=t;const i=fi(),r=I(()=>e.id||`trendline-${i}`),s=I(()=>Number(e.autoDrawDuration)||(e.fill?500:2e3)),o=W(0),a=W(null);function l(_,y){const{minX:b,maxX:C,minY:k,maxY:R}=y,O=_.length,x=e.max!=null?Number(e.max):Math.max(..._),S=e.min!=null?Number(e.min):Math.min(..._),w=(C-b)/(O-1),E=(R-k)/(x-S||1);return _.map((A,P)=>({x:b+P*w,y:R-(A-S)*E,value:A}))}const u=I(()=>!!(e.showLabels||e.labels.length>0||n!=null&&n.label)),d=I(()=>parseFloat(e.lineWidth)||4),c=I(()=>Number(e.width)),f=I(()=>{const _=Number(e.padding);return{minX:_,maxX:c.value-_,minY:_,maxY:parseInt(e.height,10)-_}}),v=I(()=>e.modelValue.map(_=>jn(_,e.itemValue,_))),m=I(()=>{const _=[],y=l(v.value,f.value),b=y.length;for(let C=0;_.length<b;C++){const k=y[C];let R=e.labels[C];R||(R=typeof k=="object"?k.value:k),_.push({x:k.x,value:String(R)})}return _});ge(()=>e.modelValue,async()=>{if(await at(),!e.autoDraw||!a.value)return;const _=a.value,y=_.getTotalLength();e.fill?(_.style.transformOrigin="bottom center",_.style.transition="none",_.style.transform="scaleY(0)",_.getBoundingClientRect(),_.style.transition=`transform ${s.value}ms ${e.autoDrawEasing}`,_.style.transform="scaleY(1)"):(_.style.strokeDasharray=`${y}`,_.style.strokeDashoffset=`${y}`,_.getBoundingClientRect(),_.style.transition=`stroke-dashoffset ${s.value}ms ${e.autoDrawEasing}`,_.style.strokeDashoffset="0"),o.value=y},{immediate:!0});function p(_){return Soe(l(v.value,f.value),e.smooth?8:Number(e.smooth),_,parseInt(e.height,10))}ve(()=>{var y;const _=e.gradient.slice().length?e.gradient.slice().reverse():[""];return h("svg",{display:"block","stroke-width":parseFloat(e.lineWidth)??4},[h("defs",null,[h("linearGradient",{id:r.value,gradientUnits:"userSpaceOnUse",x1:e.gradientDirection==="left"?"100%":"0",y1:e.gradientDirection==="top"?"100%":"0",x2:e.gradientDirection==="right"?"100%":"0",y2:e.gradientDirection==="bottom"?"100%":"0"},[_.map((b,C)=>h("stop",{offset:C/Math.max(_.length-1,1),"stop-color":b||"currentColor"},null))])]),u.value&&h("g",{key:"labels",style:{textAnchor:"middle",dominantBaseline:"mathematical",fill:"currentColor"}},[m.value.map((b,C)=>{var k;return h("text",{x:b.x+d.value/2+d.value/2,y:parseInt(e.height,10)-4+(parseInt(e.labelSize,10)||7*.75),"font-size":Number(e.labelSize)||7},[((k=n.label)==null?void 0:k.call(n,{index:C,value:b.value}))??b.value])})]),h("path",{ref:a,d:p(e.fill),fill:e.fill?`url(#${r.value})`:"none",stroke:e.fill?"none":`url(#${r.value})`},null),e.fill&&h("path",{d:p(!1),fill:"none",stroke:e.color??((y=e.gradient)==null?void 0:y[0])},null)])})}}),Coe=te({type:{type:String,default:"trend"},...RB(),...OB()},"VSparkline"),koe=fe()({name:"VSparkline",props:Coe(),setup(e,t){let{slots:n}=t;const{textColorClasses:i,textColorStyles:r}=ci(de(e,"color")),s=I(()=>!!(e.showLabels||e.labels.length>0||n!=null&&n.label)),o=I(()=>{let a=parseInt(e.height,10);return s.value&&(a+=parseInt(e.labelSize,10)*1.5),a});ve(()=>{const a=e.type==="trend"?nx:ZP,l=e.type==="trend"?nx.filterProps(e):ZP.filterProps(e);return h(a,Z({key:e.type,class:i.value,style:r.value,viewBox:`0 0 ${e.width} ${parseInt(o.value,10)}`},l),n)})}}),Toe=te({...$e(),...m$({offset:8,minWidth:0,openDelay:0,closeDelay:100,location:"top center",transition:"scale-transition"})},"VSpeedDial"),Ioe=fe()({name:"VSpeedDial",props:Toe(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const i=je(e,"modelValue"),r=W(),s=I(()=>{var u;const[a,l="center"]=((u=e.location)==null?void 0:u.split(" "))??[];return`${a} ${l}`}),o=I(()=>({[`v-speed-dial__content--${s.value.replace(" ","-")}`]:!0}));return ve(()=>{const a=Ll.filterProps(e);return h(Ll,Z(a,{modelValue:i.value,"onUpdate:modelValue":l=>i.value=l,class:e.class,style:e.style,contentClass:["v-speed-dial__content",o.value,e.contentClass],location:s.value,ref:r,transition:"fade-transition"}),{...n,default:l=>h(lt,{defaults:{VBtn:{size:"small"}}},{default:()=>[h(Bi,{appear:!0,group:!0,transition:e.transition},{default:()=>{var u;return[(u=n.default)==null?void 0:u.call(n,l)]}})]})})}),{}}}),fC=Symbol.for("vuetify:v-stepper"),hC=te({color:String,disabled:{type:[Boolean,String],default:!1},prevText:{type:String,default:"$vuetify.stepper.prev"},nextText:{type:String,default:"$vuetify.stepper.next"}},"VStepperActions"),yg=fe()({name:"VStepperActions",props:hC(),emits:{"click:prev":()=>!0,"click:next":()=>!0},setup(e,t){let{emit:n,slots:i}=t;const{t:r}=sn();function s(){n("click:prev")}function o(){n("click:next")}return ve(()=>{const a={onClick:s},l={onClick:o};return h("div",{class:"v-stepper-actions"},[h(lt,{defaults:{VBtn:{disabled:["prev",!0].includes(e.disabled),text:r(e.prevText),variant:"text"}}},{default:()=>{var u;return[((u=i.prev)==null?void 0:u.call(i,{props:a}))??h(dt,a,null)]}}),h(lt,{defaults:{VBtn:{color:e.color,disabled:["next",!0].includes(e.disabled),text:r(e.nextText),variant:"tonal"}}},{default:()=>{var u;return[((u=i.next)==null?void 0:u.call(i,{props:l}))??h(dt,l,null)]}})])}),{}}}),VB=Ws("v-stepper-header"),NB=te({color:String,title:String,subtitle:String,complete:Boolean,completeIcon:{type:String,default:"$complete"},editable:Boolean,editIcon:{type:String,default:"$edit"},error:Boolean,errorIcon:{type:String,default:"$error"},icon:String,ripple:{type:[Boolean,Object],default:!0},rules:{type:Array,default:()=>[]}},"StepperItem"),Aoe=te({...NB(),...iu()},"VStepperItem"),MB=fe()({name:"VStepperItem",directives:{Ripple:Vo},props:Aoe(),emits:{"group:selected":e=>!0},setup(e,t){let{slots:n}=t;const i=ru(e,fC,!0),r=I(()=>(i==null?void 0:i.value.value)??e.value),s=I(()=>e.rules.every(f=>f()===!0)),o=I(()=>!e.disabled&&e.editable),a=I(()=>!e.disabled&&e.editable),l=I(()=>e.error||!s.value),u=I(()=>e.complete||e.rules.length>0&&s.value),d=I(()=>l.value?e.errorIcon:u.value?e.completeIcon:i.isSelected.value&&e.editable?e.editIcon:e.icon),c=I(()=>({canEdit:a.value,hasError:l.value,hasCompleted:u.value,title:e.title,subtitle:e.subtitle,step:r.value,value:e.value}));return ve(()=>{var _,y,b;const f=(!i||i.isSelected.value||u.value||a.value)&&!l.value&&!e.disabled,v=!!(e.title!=null||n.title),m=!!(e.subtitle!=null||n.subtitle);function p(){i==null||i.toggle()}return _n(h("button",{class:["v-stepper-item",{"v-stepper-item--complete":u.value,"v-stepper-item--disabled":e.disabled,"v-stepper-item--error":l.value},i==null?void 0:i.selectedClass.value],disabled:!e.editable,onClick:p},[o.value&&Ma(!0,"v-stepper-item"),h(kr,{key:"stepper-avatar",class:"v-stepper-item__avatar",color:f?e.color:void 0,size:24},{default:()=>{var C;return[((C=n.icon)==null?void 0:C.call(n,c.value))??(d.value?h(Dt,{icon:d.value},null):r.value)]}}),h("div",{class:"v-stepper-item__content"},[v&&h("div",{key:"title",class:"v-stepper-item__title"},[((_=n.title)==null?void 0:_.call(n,c.value))??e.title]),m&&h("div",{key:"subtitle",class:"v-stepper-item__subtitle"},[((y=n.subtitle)==null?void 0:y.call(n,c.value))??e.subtitle]),(b=n.default)==null?void 0:b.call(n,c.value)])]),[[cr("ripple"),e.ripple&&e.editable,null]])}),{}}}),Poe=te({...zt(v_(),["continuous","nextIcon","prevIcon","showArrows","touch","mandatory"])},"VStepperWindow"),LB=fe()({name:"VStepperWindow",props:Poe(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const i=ot(fC,null),r=je(e,"modelValue"),s=I({get(){var o;return r.value!=null||!i?r.value:(o=i.items.value.find(a=>i.selected.value.includes(a.id)))==null?void 0:o.value},set(o){r.value=o}});return ve(()=>{const o=Fl.filterProps(e);return h(Fl,Z({_as:"VStepperWindow"},o,{modelValue:s.value,"onUpdate:modelValue":a=>s.value=a,class:["v-stepper-window",e.class],style:e.style,mandatory:!1,touch:!1}),n)}),{}}}),xoe=te({...m_()},"VStepperWindowItem"),FB=fe()({name:"VStepperWindowItem",props:xoe(),setup(e,t){let{slots:n}=t;return ve(()=>{const i=$l.filterProps(e);return h($l,Z({_as:"VStepperWindowItem"},i,{class:["v-stepper-window-item",e.class],style:e.style}),n)}),{}}}),$B=te({altLabels:Boolean,bgColor:String,completeIcon:String,editIcon:String,editable:Boolean,errorIcon:String,hideActions:Boolean,items:{type:Array,default:()=>[]},itemTitle:{type:String,default:"title"},itemValue:{type:String,default:"value"},nonLinear:Boolean,flat:Boolean,...Ql()},"Stepper"),Doe=te({...$B(),...nu({mandatory:"force",selectedClass:"v-stepper-item--selected"}),...g_(),...Jp(hC(),["prevText","nextText"])},"VStepper"),Roe=fe()({name:"VStepper",props:Doe(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const{items:i,next:r,prev:s,selected:o}=La(e,fC),{displayClasses:a,mobile:l}=xr(e),{completeIcon:u,editIcon:d,errorIcon:c,color:f,editable:v,prevText:m,nextText:p}=xa(e),_=I(()=>e.items.map((C,k)=>{const R=jn(C,e.itemTitle,C),O=jn(C,e.itemValue,k+1);return{title:R,value:O,raw:C}})),y=I(()=>i.value.findIndex(C=>o.value.includes(C.id))),b=I(()=>e.disabled?e.disabled:y.value===0?"prev":y.value===i.value.length-1?"next":!1);return yn({VStepperItem:{editable:v,errorIcon:c,completeIcon:u,editIcon:d,prevText:m,nextText:p},VStepperActions:{color:f,disabled:b,prevText:m,nextText:p}}),ve(()=>{const C=wa.filterProps(e),k=!!(n.header||e.items.length),R=e.items.length>0,O=!e.hideActions&&!!(R||n.actions);return h(wa,Z(C,{color:e.bgColor,class:["v-stepper",{"v-stepper--alt-labels":e.altLabels,"v-stepper--flat":e.flat,"v-stepper--non-linear":e.nonLinear,"v-stepper--mobile":l.value},a.value,e.class],style:e.style}),{default:()=>{var x,S;return[k&&h(VB,{key:"stepper-header"},{default:()=>[_.value.map((w,E)=>{let{raw:A,...P}=w;return h(Te,null,[!!E&&h(fo,null,null),h(MB,P,{default:n[`header-item.${P.value}`]??n.header,icon:n.icon,title:n.title,subtitle:n.subtitle})])})]}),R&&h(LB,{key:"stepper-window"},{default:()=>[_.value.map(w=>h(FB,{value:w.value},{default:()=>{var E,A;return((E=n[`item.${w.value}`])==null?void 0:E.call(n,w))??((A=n.item)==null?void 0:A.call(n,w))}}))]}),(x=n.default)==null?void 0:x.call(n,{prev:s,next:r}),O&&(((S=n.actions)==null?void 0:S.call(n,{next:r,prev:s}))??h(yg,{key:"stepper-actions","onClick:prev":s,"onClick:next":r},n))]}})}),{prev:s,next:r}}}),Ooe=te({indeterminate:Boolean,inset:Boolean,flat:Boolean,loading:{type:[Boolean,String],default:!1},...No(),...d_()},"VSwitch"),Voe=fe()({name:"VSwitch",inheritAttrs:!1,props:Ooe(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,"update:indeterminate":e=>!0},setup(e,t){let{attrs:n,slots:i}=t;const r=je(e,"indeterminate"),s=je(e,"modelValue"),{loaderClasses:o}=Mh(e),{isFocused:a,focus:l,blur:u}=Gs(e),d=W(),c=Bt&&window.matchMedia("(forced-colors: active)").matches,f=I(()=>typeof e.loading=="string"&&e.loading!==""?e.loading:e.color),v=fi(),m=I(()=>e.id||`switch-${v}`);function p(){r.value&&(r.value=!1)}function _(y){var b,C;y.stopPropagation(),y.preventDefault(),(C=(b=d.value)==null?void 0:b.input)==null||C.click()}return ve(()=>{const[y,b]=Na(n),C=Ci.filterProps(e),k=ba.filterProps(e);return h(Ci,Z({class:["v-switch",{"v-switch--flat":e.flat},{"v-switch--inset":e.inset},{"v-switch--indeterminate":r.value},o.value,e.class]},y,C,{modelValue:s.value,"onUpdate:modelValue":R=>s.value=R,id:m.value,focused:a.value,style:e.style}),{...i,default:R=>{let{id:O,messagesId:x,isDisabled:S,isReadonly:w,isValid:E}=R;const A={model:s,isValid:E};return h(ba,Z({ref:d},k,{modelValue:s.value,"onUpdate:modelValue":[P=>s.value=P,p],id:O.value,"aria-describedby":x.value,type:"checkbox","aria-checked":r.value?"mixed":void 0,disabled:S.value,readonly:w.value,onFocus:l,onBlur:u},b),{...i,default:P=>{let{backgroundColorClasses:D,backgroundColorStyles:B}=P;return h("div",{class:["v-switch__track",c?void 0:D.value],style:B.value,onClick:_},[i["track-true"]&&h("div",{key:"prepend",class:"v-switch__track-true"},[i["track-true"](A)]),i["track-false"]&&h("div",{key:"append",class:"v-switch__track-false"},[i["track-false"](A)])])},input:P=>{let{inputNode:D,icon:B,backgroundColorClasses:$,backgroundColorStyles:j}=P;return h(Te,null,[D,h("div",{class:["v-switch__thumb",{"v-switch__thumb--filled":B||e.loading},e.inset||c?void 0:$.value],style:e.inset?void 0:j.value},[i.thumb?h(lt,{defaults:{VIcon:{icon:B,size:"x-small"}}},{default:()=>[i.thumb({...A,icon:B})]}):h(x1,null,{default:()=>[e.loading?h(Lh,{name:"v-switch",active:!0,color:E.value===!1?void 0:f.value},{default:Y=>i.loader?i.loader(Y):h(ya,{active:Y.isActive,color:Y.color,indeterminate:!0,size:"16",width:"2"},null)}):B&&h(Dt,{key:String(B),icon:B,size:"x-small"},null)]})])])}})}})}),{}}}),Noe=te({color:String,height:[Number,String],window:Boolean,...$e(),...Zn(),...Jl(),...bn(),...ut(),...Ct()},"VSystemBar"),Moe=fe()({name:"VSystemBar",props:Noe(),setup(e,t){let{slots:n}=t;const{themeClasses:i}=Ft(e),{backgroundColorClasses:r,backgroundColorStyles:s}=Gt(de(e,"color")),{elevationClasses:o}=hi(e),{roundedClasses:a}=On(e),{ssrBootStyles:l}=eu(),u=I(()=>e.height??(e.window?32:24)),{layoutItemStyles:d}=Zl({id:e.name,order:I(()=>parseInt(e.order,10)),position:ke("top"),layoutSize:u,elementSize:u,active:I(()=>!0),absolute:de(e,"absolute")});return ve(()=>h(e.tag,{class:["v-system-bar",{"v-system-bar--window":e.window},i.value,r.value,o.value,a.value,e.class],style:[s.value,d.value,l.value,e.style]},n)),{}}}),vC=Symbol.for("vuetify:v-tabs"),Loe=te({fixed:Boolean,sliderColor:String,hideSlider:Boolean,direction:{type:String,default:"horizontal"},...zt(c_({selectedClass:"v-tab--selected",variant:"text"}),["active","block","flat","location","position","symbol"])},"VTab"),BB=fe()({name:"VTab",props:Loe(),setup(e,t){let{slots:n,attrs:i}=t;const{textColorClasses:r,textColorStyles:s}=ci(e,"sliderColor"),o=W(),a=W(),l=I(()=>e.direction==="horizontal"),u=I(()=>{var c,f;return((f=(c=o.value)==null?void 0:c.group)==null?void 0:f.isSelected.value)??!1});function d(c){var v,m;let{value:f}=c;if(f){const p=(m=(v=o.value)==null?void 0:v.$el.parentElement)==null?void 0:m.querySelector(".v-tab--selected .v-tab__slider"),_=a.value;if(!p||!_)return;const y=getComputedStyle(p).color,b=p.getBoundingClientRect(),C=_.getBoundingClientRect(),k=l.value?"x":"y",R=l.value?"X":"Y",O=l.value?"right":"bottom",x=l.value?"width":"height",S=b[k],w=C[k],E=S>w?b[O]-C[O]:b[k]-C[k],A=Math.sign(E)>0?l.value?"right":"bottom":Math.sign(E)<0?l.value?"left":"top":"center",D=(Math.abs(E)+(Math.sign(E)<0?b[x]:C[x]))/Math.max(b[x],C[x])||0,B=b[x]/C[x]||0,$=1.5;cl(_,{backgroundColor:[y,"currentcolor"],transform:[`translate${R}(${E}px) scale${R}(${B})`,`translate${R}(${E/$}px) scale${R}(${(D-1)/$+1})`,"none"],transformOrigin:Array(3).fill(A)},{duration:225,easing:Mf})}}return ve(()=>{const c=dt.filterProps(e);return h(dt,Z({symbol:vC,ref:o,class:["v-tab",e.class],style:e.style,tabindex:u.value?0:-1,role:"tab","aria-selected":String(u.value),active:!1},c,i,{block:e.fixed,maxWidth:e.fixed?300:void 0,"onGroup:selected":d}),{...n,default:()=>{var f;return h(Te,null,[((f=n.default)==null?void 0:f.call(n))??e.text,!e.hideSlider&&h("div",{ref:a,class:["v-tab__slider",r.value],style:s.value},null)])}})}),Or({},o)}}),Foe=te({...zt(v_(),["continuous","nextIcon","prevIcon","showArrows","touch","mandatory"])},"VTabsWindow"),UB=fe()({name:"VTabsWindow",props:Foe(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const i=ot(vC,null),r=je(e,"modelValue"),s=I({get(){var o;return r.value!=null||!i?r.value:(o=i.items.value.find(a=>i.selected.value.includes(a.id)))==null?void 0:o.value},set(o){r.value=o}});return ve(()=>{const o=Fl.filterProps(e);return h(Fl,Z({_as:"VTabsWindow"},o,{modelValue:s.value,"onUpdate:modelValue":a=>s.value=a,class:["v-tabs-window",e.class],style:e.style,mandatory:!1,touch:!1}),n)}),{}}}),$oe=te({...m_()},"VTabsWindowItem"),jB=fe()({name:"VTabsWindowItem",props:$oe(),setup(e,t){let{slots:n}=t;return ve(()=>{const i=$l.filterProps(e);return h($l,Z({_as:"VTabsWindowItem"},i,{class:["v-tabs-window-item",e.class],style:e.style}),n)}),{}}});function Boe(e){return e?e.map(t=>h1(t)?t:{text:t,value:t}):[]}const Uoe=te({alignTabs:{type:String,default:"start"},color:String,fixedTabs:Boolean,items:{type:Array,default:()=>[]},stacked:Boolean,bgColor:String,grow:Boolean,height:{type:[Number,String],default:void 0},hideSlider:Boolean,sliderColor:String,...M1({mandatory:"force",selectedClass:"v-tab-item--selected"}),...ri(),...ut()},"VTabs"),joe=fe()({name:"VTabs",props:Uoe(),emits:{"update:modelValue":e=>!0},setup(e,t){let{attrs:n,slots:i}=t;const r=je(e,"modelValue"),s=I(()=>Boe(e.items)),{densityClasses:o}=Hi(e),{backgroundColorClasses:a,backgroundColorStyles:l}=Gt(de(e,"bgColor")),{scopeId:u}=au();return yn({VTab:{color:de(e,"color"),direction:de(e,"direction"),stacked:de(e,"stacked"),fixed:de(e,"fixedTabs"),sliderColor:de(e,"sliderColor"),hideSlider:de(e,"hideSlider")}}),ve(()=>{const d=Wf.filterProps(e),c=!!(i.window||e.items.length>0);return h(Te,null,[h(Wf,Z(d,{modelValue:r.value,"onUpdate:modelValue":f=>r.value=f,class:["v-tabs",`v-tabs--${e.direction}`,`v-tabs--align-tabs-${e.alignTabs}`,{"v-tabs--fixed-tabs":e.fixedTabs,"v-tabs--grow":e.grow,"v-tabs--stacked":e.stacked},o.value,a.value,e.class],style:[{"--v-tabs-height":Oe(e.height)},l.value,e.style],role:"tablist",symbol:vC},u,n),{default:()=>{var f;return[((f=i.default)==null?void 0:f.call(i))??s.value.map(v=>{var m;return((m=i.tab)==null?void 0:m.call(i,{item:v}))??h(BB,Z(v,{key:v.text,value:v.value}),{default:i[`tab.${v.value}`]?()=>{var p;return(p=i[`tab.${v.value}`])==null?void 0:p.call(i,{item:v})}:void 0})})]}}),c&&h(UB,Z({modelValue:r.value,"onUpdate:modelValue":f=>r.value=f,key:"tabs-window"},u),{default:()=>{var f;return[s.value.map(v=>{var m;return((m=i.item)==null?void 0:m.call(i,{item:v}))??h(jB,{value:v.value},{default:()=>{var p;return(p=i[`item.${v.value}`])==null?void 0:p.call(i,{item:v})}})}),(f=i.window)==null?void 0:f.call(i)]}})])}),{}}}),Hoe=te({autoGrow:Boolean,autofocus:Boolean,counter:[Boolean,Number,String],counterValue:Function,prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,noResize:Boolean,rows:{type:[Number,String],default:5,validator:e=>!isNaN(parseFloat(e))},maxRows:{type:[Number,String],validator:e=>!isNaN(parseFloat(e))},suffix:String,modelModifiers:Object,...No(),...Uh()},"VTextarea"),Woe=fe()({name:"VTextarea",directives:{Intersect:Nh},inheritAttrs:!1,props:Hoe(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,t){let{attrs:n,emit:i,slots:r}=t;const s=je(e,"modelValue"),{isFocused:o,focus:a,blur:l}=Gs(e),u=I(()=>typeof e.counterValue=="function"?e.counterValue(s.value):(s.value||"").toString().length),d=I(()=>{if(n.maxlength)return n.maxlength;if(!(!e.counter||typeof e.counter!="number"&&typeof e.counter!="string"))return e.counter});function c(A,P){var D,B;!e.autofocus||!A||(B=(D=P[0].target)==null?void 0:D.focus)==null||B.call(D)}const f=W(),v=W(),m=ke(""),p=W(),_=I(()=>e.persistentPlaceholder||o.value||e.active);function y(){var A;p.value!==document.activeElement&&((A=p.value)==null||A.focus()),o.value||a()}function b(A){y(),i("click:control",A)}function C(A){i("mousedown:control",A)}function k(A){A.stopPropagation(),y(),at(()=>{s.value="",p1(e["onClick:clear"],A)})}function R(A){var D;const P=A.target;if(s.value=P.value,(D=e.modelModifiers)!=null&&D.trim){const B=[P.selectionStart,P.selectionEnd];at(()=>{P.selectionStart=B[0],P.selectionEnd=B[1]})}}const O=W(),x=W(+e.rows),S=I(()=>["plain","underlined"].includes(e.variant));rn(()=>{e.autoGrow||(x.value=+e.rows)});function w(){e.autoGrow&&at(()=>{if(!O.value||!v.value)return;const A=getComputedStyle(O.value),P=getComputedStyle(v.value.$el),D=parseFloat(A.getPropertyValue("--v-field-padding-top"))+parseFloat(A.getPropertyValue("--v-input-padding-top"))+parseFloat(A.getPropertyValue("--v-field-padding-bottom")),B=O.value.scrollHeight,$=parseFloat(A.lineHeight),j=Math.max(parseFloat(e.rows)*$+D,parseFloat(P.getPropertyValue("--v-input-control-height"))),Y=parseFloat(e.maxRows)*$+D||1/0,H=Tn(B??0,j,Y);x.value=Math.floor((H-D)/$),m.value=Oe(H)})}bt(w),ge(s,w),ge(()=>e.rows,w),ge(()=>e.maxRows,w),ge(()=>e.density,w);let E;return ge(O,A=>{A?(E=new ResizeObserver(w),E.observe(O.value)):E==null||E.disconnect()}),di(()=>{E==null||E.disconnect()}),ve(()=>{const A=!!(r.counter||e.counter||e.counterValue),P=!!(A||r.details),[D,B]=Na(n),{modelValue:$,...j}=Ci.filterProps(e),Y=W1(e);return h(Ci,Z({ref:f,modelValue:s.value,"onUpdate:modelValue":H=>s.value=H,class:["v-textarea v-text-field",{"v-textarea--prefixed":e.prefix,"v-textarea--suffixed":e.suffix,"v-text-field--prefixed":e.prefix,"v-text-field--suffixed":e.suffix,"v-textarea--auto-grow":e.autoGrow,"v-textarea--no-resize":e.noResize||e.autoGrow,"v-input--plain-underlined":S.value},e.class],style:e.style},D,j,{centerAffix:x.value===1&&!S.value,focused:o.value}),{...r,default:H=>{let{id:q,isDisabled:z,isDirty:ne,isReadonly:ue,isValid:be}=H;return h(Kc,Z({ref:v,style:{"--v-textarea-control-height":m.value},onClick:b,onMousedown:C,"onClick:clear":k,"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"]},Y,{id:q.value,active:_.value||ne.value,centerAffix:x.value===1&&!S.value,dirty:ne.value||e.dirty,disabled:z.value,focused:o.value,error:be.value===!1}),{...r,default:Ae=>{let{props:{class:Ne,...se}}=Ae;return h(Te,null,[e.prefix&&h("span",{class:"v-text-field__prefix"},[e.prefix]),_n(h("textarea",Z({ref:p,class:Ne,value:s.value,onInput:R,autofocus:e.autofocus,readonly:ue.value,disabled:z.value,placeholder:e.placeholder,rows:e.rows,name:e.name,onFocus:y,onBlur:l},se,B),null),[[cr("intersect"),{handler:c},null,{once:!0}]]),e.autoGrow&&_n(h("textarea",{class:[Ne,"v-textarea__sizer"],id:`${se.id}-sizer`,"onUpdate:modelValue":G=>s.value=G,ref:O,readonly:!0,"aria-hidden":"true"},null),[[I5,s.value]]),e.suffix&&h("span",{class:"v-text-field__suffix"},[e.suffix])])}})},details:P?H=>{var q;return h(Te,null,[(q=r.details)==null?void 0:q.call(r,H),A&&h(Te,null,[h("span",null,null),h(f_,{active:e.persistentCounter||o.value,value:u.value,max:d.value,disabled:e.disabled},r.counter)])])}:void 0})}),Or({},f,v,p)}}),zoe=te({withBackground:Boolean,...$e(),...Ct(),...ut()},"VThemeProvider"),Goe=fe()({name:"VThemeProvider",props:zoe(),setup(e,t){let{slots:n}=t;const{themeClasses:i}=Ft(e);return()=>{var r;return e.withBackground?h(e.tag,{class:["v-theme-provider",i.value,e.class],style:e.style},{default:()=>{var s;return[(s=n.default)==null?void 0:s.call(n)]}}):(r=n.default)==null?void 0:r.call(n)}}}),qoe=te({dotColor:String,fillDot:Boolean,hideDot:Boolean,icon:Ze,iconColor:String,lineColor:String,...$e(),...bn(),...zs(),...Zn()},"VTimelineDivider"),Yoe=fe()({name:"VTimelineDivider",props:qoe(),setup(e,t){let{slots:n}=t;const{sizeClasses:i,sizeStyles:r}=Hc(e,"v-timeline-divider__dot"),{backgroundColorStyles:s,backgroundColorClasses:o}=Gt(de(e,"dotColor")),{roundedClasses:a}=On(e,"v-timeline-divider__dot"),{elevationClasses:l}=hi(e),{backgroundColorClasses:u,backgroundColorStyles:d}=Gt(de(e,"lineColor"));return ve(()=>h("div",{class:["v-timeline-divider",{"v-timeline-divider--fill-dot":e.fillDot},e.class],style:e.style},[h("div",{class:["v-timeline-divider__before",u.value],style:d.value},null),!e.hideDot&&h("div",{key:"dot",class:["v-timeline-divider__dot",l.value,a.value,i.value],style:r.value},[h("div",{class:["v-timeline-divider__inner-dot",o.value,a.value],style:s.value},[n.default?h(lt,{key:"icon-defaults",disabled:!e.icon,defaults:{VIcon:{color:e.iconColor,icon:e.icon,size:e.size}}},n.default):h(Dt,{key:"icon",color:e.iconColor,icon:e.icon,size:e.size},null)])]),h("div",{class:["v-timeline-divider__after",u.value],style:d.value},null)])),{}}}),HB=te({density:String,dotColor:String,fillDot:Boolean,hideDot:Boolean,hideOpposite:{type:Boolean,default:void 0},icon:Ze,iconColor:String,lineInset:[Number,String],...$e(),...qn(),...Zn(),...bn(),...zs(),...ut()},"VTimelineItem"),Koe=fe()({name:"VTimelineItem",props:HB(),setup(e,t){let{slots:n}=t;const{dimensionStyles:i}=Yn(e),r=ke(0),s=W();return ge(s,o=>{var a;o&&(r.value=((a=o.$el.querySelector(".v-timeline-divider__dot"))==null?void 0:a.getBoundingClientRect().width)??0)},{flush:"post"}),ve(()=>{var o,a;return h("div",{class:["v-timeline-item",{"v-timeline-item--fill-dot":e.fillDot},e.class],style:[{"--v-timeline-dot-size":Oe(r.value),"--v-timeline-line-inset":e.lineInset?`calc(var(--v-timeline-dot-size) / 2 + ${Oe(e.lineInset)})`:Oe(0)},e.style]},[h("div",{class:"v-timeline-item__body",style:i.value},[(o=n.default)==null?void 0:o.call(n)]),h(Yoe,{ref:s,hideDot:e.hideDot,icon:e.icon,iconColor:e.iconColor,size:e.size,elevation:e.elevation,dotColor:e.dotColor,fillDot:e.fillDot,rounded:e.rounded},{default:n.icon}),e.density!=="compact"&&h("div",{class:"v-timeline-item__opposite"},[!e.hideOpposite&&((a=n.opposite)==null?void 0:a.call(n))])])}),{}}}),Xoe=te({align:{type:String,default:"center",validator:e=>["center","start"].includes(e)},direction:{type:String,default:"vertical",validator:e=>["vertical","horizontal"].includes(e)},justify:{type:String,default:"auto",validator:e=>["auto","center"].includes(e)},side:{type:String,validator:e=>e==null||["start","end"].includes(e)},lineThickness:{type:[String,Number],default:2},lineColor:String,truncateLine:{type:String,validator:e=>["start","end","both"].includes(e)},...Jp(HB({lineInset:0}),["dotColor","fillDot","hideOpposite","iconColor","lineInset","size"]),...$e(),...ri(),...ut(),...Ct()},"VTimeline"),Qoe=fe()({name:"VTimeline",props:Xoe(),setup(e,t){let{slots:n}=t;const{themeClasses:i}=Ft(e),{densityClasses:r}=Hi(e),{rtlClasses:s}=Jn();yn({VTimelineDivider:{lineColor:de(e,"lineColor")},VTimelineItem:{density:de(e,"density"),dotColor:de(e,"dotColor"),fillDot:de(e,"fillDot"),hideOpposite:de(e,"hideOpposite"),iconColor:de(e,"iconColor"),lineColor:de(e,"lineColor"),lineInset:de(e,"lineInset"),size:de(e,"size")}});const o=I(()=>{const l=e.side?e.side:e.density!=="default"?"end":null;return l&&`v-timeline--side-${l}`}),a=I(()=>{const l=["v-timeline--truncate-line-start","v-timeline--truncate-line-end"];switch(e.truncateLine){case"both":return l;case"start":return l[0];case"end":return l[1];default:return null}});return ve(()=>h(e.tag,{class:["v-timeline",`v-timeline--${e.direction}`,`v-timeline--align-${e.align}`,`v-timeline--justify-${e.justify}`,a.value,{"v-timeline--inset-line":!!e.lineInset},i.value,r.value,o.value,s.value,e.class],style:[{"--v-timeline-line-thickness":Oe(e.lineThickness)},e.style]},n)),{}}}),Joe=te({...$e(),...Hr({variant:"text"})},"VToolbarItems"),Zoe=fe()({name:"VToolbarItems",props:Joe(),setup(e,t){let{slots:n}=t;return yn({VBtn:{color:de(e,"color"),height:"inherit",variant:de(e,"variant")}}),ve(()=>{var i;return h("div",{class:["v-toolbar-items",e.class],style:e.style},[(i=n.default)==null?void 0:i.call(n)])}),{}}}),eae=te({id:String,text:String,...zt(Bh({closeOnBack:!1,location:"end",locationStrategy:"connected",eager:!0,minWidth:0,offset:10,openOnClick:!1,openOnHover:!0,origin:"auto",scrim:!1,scrollStrategy:"reposition",transition:!1}),["absolute","persistent"])},"VTooltip"),WB=fe()({name:"VTooltip",props:eae(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const i=je(e,"modelValue"),{scopeId:r}=au(),s=fi(),o=I(()=>e.id||`v-tooltip-${s}`),a=W(),l=I(()=>e.location.split(" ").length>1?e.location:e.location+" center"),u=I(()=>e.origin==="auto"||e.origin==="overlap"||e.origin.split(" ").length>1||e.location.split(" ").length>1?e.origin:e.origin+" center"),d=I(()=>e.transition?e.transition:i.value?"scale-transition":"fade-transition"),c=I(()=>Z({"aria-describedby":o.value},e.activatorProps));return ve(()=>{const f=Ls.filterProps(e);return h(Ls,Z({ref:a,class:["v-tooltip",e.class],style:e.style,id:o.value},f,{modelValue:i.value,"onUpdate:modelValue":v=>i.value=v,transition:d.value,absolute:!0,location:l.value,origin:u.value,persistent:!0,role:"tooltip",activatorProps:c.value,_disableGlobalStack:!0},r),{activator:n.activator,default:function(){var _;for(var v=arguments.length,m=new Array(v),p=0;p<v;p++)m[p]=arguments[p];return((_=n.default)==null?void 0:_.call(n,...m))??e.text}})}),Or({},a)}}),tae=fe()({name:"VValidation",props:LF(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const i=FF(e,"validation");return()=>{var r;return(r=n.default)==null?void 0:r.call(n,i)}}}),nae=Object.freeze(Object.defineProperty({__proto__:null,VAlert:Wte,VAlertTitle:xF,VApp:Zee,VAppBar:yte,VAppBarNavIcon:Bte,VAppBarTitle:Ute,VAutocomplete:aie,VAvatar:kr,VBadge:y$,VBanner:die,VBannerActions:b$,VBannerText:w$,VBottomNavigation:hie,VBottomSheet:mie,VBreadcrumbs:yie,VBreadcrumbsDivider:E$,VBreadcrumbsItem:C$,VBtn:dt,VBtnGroup:H0,VBtnToggle:kte,VCard:Cie,VCardActions:k$,VCardItem:A$,VCardSubtitle:T$,VCardText:P$,VCardTitle:I$,VCarousel:Oie,VCarouselItem:Nie,VCheckbox:Zte,VCheckboxBtn:Ms,VChip:ou,VChipGroup:rne,VClassIcon:T1,VCode:Mie,VCol:use,VColorPicker:Cre,VCombobox:Ire,VComponentIcon:B0,VConfirmEdit:nw,VContainer:sse,VCounter:f_,VDataIterator:Lre,VDataTable:Zre,VDataTableFooter:qf,VDataTableHeaders:Bl,VDataTableRow:sC,VDataTableRows:Ul,VDataTableServer:ise,VDataTableVirtual:tse,VDatePicker:cw,VDatePickerControls:sw,VDatePickerHeader:ow,VDatePickerMonth:aw,VDatePickerMonths:lw,VDatePickerYears:uw,VDefaultsProvider:lt,VDialog:X0,VDialogBottomTransition:ite,VDialogTopTransition:rte,VDialogTransition:s_,VDivider:fo,VEmptyState:yse,VExpandTransition:o_,VExpandXTransition:R1,VExpansionPanel:hw,VExpansionPanelText:dw,VExpansionPanelTitle:fw,VExpansionPanels:vw,VFab:Sse,VFabTransition:nte,VFadeTransition:Bf,VField:Kc,VFieldLabel:Ld,VFileInput:Cse,VFooter:Tse,VForm:Ase,VHover:xse,VIcon:Dt,VImg:ko,VInfiniteScroll:Rse,VInput:Ci,VItem:Nse,VItemGroup:Vse,VKbd:Mse,VLabel:qc,VLayout:Fse,VLayoutItem:Bse,VLazy:jse,VLigatureIcon:kee,VList:Sc,VListGroup:Gf,VListImg:Ene,VListItem:cs,VListItemAction:a$,VListItemMedia:Tne,VListItemSubtitle:QF,VListItemTitle:JF,VListSubheader:e$,VLocaleProvider:Wse,VMain:Gse,VMenu:Ll,VMessages:NF,VNavigationDrawer:toe,VNoSsr:noe,VOtpInput:roe,VOverlay:Ls,VPagination:iw,VParallax:aoe,VProgressCircular:ya,VProgressLinear:l_,VRadio:uoe,VRadioGroup:doe,VRangeSlider:hoe,VRating:moe,VResponsive:U0,VRow:gse,VScaleTransition:x1,VScrollXReverseTransition:ote,VScrollXTransition:ste,VScrollYReverseTransition:lte,VScrollYTransition:ate,VSelect:q1,VSelectionControl:ba,VSelectionControlGroup:RF,VSheet:wa,VSkeletonLoader:yoe,VSlideGroup:Wf,VSlideGroupItem:boe,VSlideXReverseTransition:cte,VSlideXTransition:ute,VSlideYReverseTransition:dte,VSlideYTransition:D1,VSlider:tw,VSnackbar:mw,VSpacer:pB,VSparkline:koe,VSpeedDial:Ioe,VStepper:Roe,VStepperActions:yg,VStepperHeader:VB,VStepperItem:MB,VStepperWindow:LB,VStepperWindowItem:FB,VSvgIcon:k1,VSwitch:Voe,VSystemBar:Moe,VTab:BB,VTable:jl,VTabs:joe,VTabsWindow:UB,VTabsWindowItem:jB,VTextField:ds,VTextarea:Woe,VThemeProvider:Goe,VTimeline:Qoe,VTimelineItem:Koe,VToolbar:j0,VToolbarItems:Zoe,VToolbarTitle:P1,VTooltip:WB,VValidation:tae,VVirtualScroll:h_,VWindow:Fl,VWindowItem:$l},Symbol.toStringTag,{value:"Module"}));function iae(e,t){const n=t.modifiers||{},i=t.value,{once:r,immediate:s,...o}=n,a=!Object.keys(o).length,{handler:l,options:u}=typeof i=="object"?i:{handler:i,options:{attributes:(o==null?void 0:o.attr)??a,characterData:(o==null?void 0:o.char)??a,childList:(o==null?void 0:o.child)??a,subtree:(o==null?void 0:o.sub)??a}},d=new MutationObserver(function(){let c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],f=arguments.length>1?arguments[1]:void 0;l==null||l(c,f),r&&zB(e,t)});s&&(l==null||l([],d)),e._mutate=Object(e._mutate),e._mutate[t.instance.$.uid]={observer:d},d.observe(e,u)}function zB(e,t){var n;(n=e._mutate)!=null&&n[t.instance.$.uid]&&(e._mutate[t.instance.$.uid].observer.disconnect(),delete e._mutate[t.instance.$.uid])}const rae={mounted:iae,unmounted:zB};function sae(e,t){var r,s;const n=t.value,i={passive:!((r=t.modifiers)!=null&&r.active)};window.addEventListener("resize",n,i),e._onResize=Object(e._onResize),e._onResize[t.instance.$.uid]={handler:n,options:i},(s=t.modifiers)!=null&&s.quiet||n()}function oae(e,t){var r;if(!((r=e._onResize)!=null&&r[t.instance.$.uid]))return;const{handler:n,options:i}=e._onResize[t.instance.$.uid];window.removeEventListener("resize",n,i),delete e._onResize[t.instance.$.uid]}const aae={mounted:sae,unmounted:oae};function GB(e,t){const{self:n=!1}=t.modifiers??{},i=t.value,r=typeof i=="object"&&i.options||{passive:!0},s=typeof i=="function"||"handleEvent"in i?i:i.handler,o=n?e:t.arg?document.querySelector(t.arg):window;o&&(o.addEventListener("scroll",s,r),e._onScroll=Object(e._onScroll),e._onScroll[t.instance.$.uid]={handler:s,options:r,target:n?void 0:o})}function qB(e,t){var s;if(!((s=e._onScroll)!=null&&s[t.instance.$.uid]))return;const{handler:n,options:i,target:r=e}=e._onScroll[t.instance.$.uid];r.removeEventListener("scroll",n,i),delete e._onScroll[t.instance.$.uid]}function lae(e,t){t.value!==t.oldValue&&(qB(e,t),GB(e,t))}const uae={mounted:GB,unmounted:qB,updated:lae};function cae(e,t){const n=typeof e=="string"?U(e):e,i=dae(n,t);return{mounted:i,updated:i,unmounted(r){uV(null,r)}}}function dae(e,t){return function(n,i,r){var c,f,v;const s=typeof t=="function"?t(i):t,o=((c=i.value)==null?void 0:c.text)??i.value??(s==null?void 0:s.text),a=h1(i.value)?i.value:{},l=()=>o??n.textContent,u=(r.ctx===i.instance.$?(f=fae(r,i.instance.$))==null?void 0:f.provides:(v=r.ctx)==null?void 0:v.provides)??i.instance.$.provides,d=ni(e,Z(s,a),l);d.appContext=Object.assign(Object.create(null),i.instance.$.appContext,{provides:u}),uV(d,n)}}function fae(e,t){const n=new Set,i=s=>{var o,a;for(const l of s){if(!l)continue;if(l===e)return!0;n.add(l);let u;if(l.suspense?u=i([l.ssContent]):Array.isArray(l.children)?u=i(l.children):(o=l.component)!=null&&o.vnode&&(u=i([(a=l.component)==null?void 0:a.subTree])),u)return u;n.delete(l)}return!1};if(!i([t.subTree]))throw new Error("Could not find original vnode");const r=Array.from(n).reverse();for(const s of r)if(s.component)return s.component;return t}const hae=cae(WB,e=>{var t;return{activator:"parent",location:(t=e.arg)==null?void 0:t.replace("-"," "),text:typeof e.value=="boolean"?void 0:e.value}}),vae=Object.freeze(Object.defineProperty({__proto__:null,ClickOutside:v$,Intersect:Nh,Mutate:rae,Resize:aae,Ripple:Vo,Scroll:uae,Tooltip:hae,Touch:Y1},Symbol.toStringTag,{value:"Module"})),mae=te({allDay:Boolean,interval:Object,intervalDivisions:{type:Number,required:!0},intervalDuration:{type:Number,required:!0},intervalHeight:{type:Number,required:!0},event:Object},"VCalendarIntervalEvent"),gw=fe()({name:"VCalendarIntervalEvent",props:mae(),setup(e){const t=jr(),n=()=>{var i,r,s,o;if(!((i=e.event)!=null&&i.first)&&!((r=e.event)!=null&&r.last)||t.isEqual((s=e.event)==null?void 0:s.start,(o=e.interval)==null?void 0:o.start))return{height:"100%",margin:Oe(0)};{const{height:a,margin:l}=Array.from({length:e.intervalDivisions},u=>u*(e.intervalDuration/e.intervalDivisions)).reduce((u,d,c)=>{var f,v;return t.isBefore(t.addMinutes((f=e.interval)==null?void 0:f.start,d),(v=e.event)==null?void 0:v.start)?{height:Oe(e.intervalHeight/e.intervalDivisions*c),margin:Oe(e.intervalHeight/e.intervalDivisions*c)}:{height:u.height,margin:u.margin}},{height:"",margin:""});return{height:a,margin:l}}};return ve(()=>{var i,r,s,o,a;return h(wa,{height:n().height,density:"comfortable",style:`margin-top: ${n().margin}`,class:"v-calendar-internal-event",color:((i=e.event)==null?void 0:i.color)??void 0,rounded:(r=e.event)!=null&&r.first&&((s=e.event)!=null&&s.last)?!0:(o=e.event)!=null&&o.first?"t":(a=e.event)!=null&&a.last?"b":!1},{default:()=>{var l,u;return[(l=e.event)!=null&&l.first?(u=e.event)==null?void 0:u.title:""]}})}),{}}}),YB=te({day:{type:Object,default:()=>({})},dayIndex:Number,events:Array,intervalDivisions:{type:Number,default:2},intervalDuration:{type:Number,default:60},intervalHeight:{type:Number,default:48},intervalFormat:{type:[String,Function],default:"fullTime12h"},intervalStart:{type:Number,default:0}},"VCalendarInterval"),pw=fe()({name:"VCalendarInterval",props:{index:{type:Number,required:!0},...YB()},setup(e,t){const n=jr(),i=I(()=>{const r=n.addMinutes(n.startOfDay(e.day.date),e.intervalDuration*(e.index+e.intervalStart)),s=n.addMinutes(n.startOfDay(e.day.date),e.intervalDuration*(e.index+e.intervalStart+1)-1);return{...e.day,label:n.format(r,"fullTime24h"),start:r,end:s,events:e.events?e.events.filter(o=>!o.allDay&&(n.isEqual(r,o.start)||n.isWithinRange(o.start,[r,s])||n.isWithinRange(r,[o.start,o.end])||n.isEqual(s,o.end))).map(o=>({...o,first:n.isEqual(r,o.start)||n.isWithinRange(o.start,[r,s]),last:n.isEqual(s,o.end)||n.isWithinRange(o.end,[r,s])})):[]}});return ve(()=>{var r,s;return e.dayIndex===0?h("div",{class:"v-calendar-day__row-with-label",style:`height: ${Oe(e.intervalHeight)}`},[h("div",{class:"v-calendar-day__row-label"},[h("slot",{name:"intervalFormat",interval:i.value},[e.index?e.intervalFormat?typeof e.intervalFormat=="string"?n.format(i.value.start,"hours12h"):e.intervalFormat(i.value):i.value.label:""])]),h("div",{class:"v-calendar-day__row-hairline"},null),h("div",{class:["v-calendar-day__row-content",i.value.events.some(o=>!o.last)?"v-calendar-day__row-content-through":""]},[h("slot",{name:"intervalBody",interval:i.value},[(r=i.value.events)==null?void 0:r.map(o=>h(gw,{event:o,interval:i.value,intervalDivisions:e.intervalDivisions,intervalDuration:e.intervalDuration,intervalHeight:e.intervalHeight},null))])])]):h("div",{class:"v-calendar-day__row-without-label",style:`height: ${Oe(e.intervalHeight)}`},[h("div",{class:["v-calendar-day__row-content",i.value.events.some(o=>!o.last)?"v-calendar-day__row-content-through":""]},[h("slot",{name:"intervalBody",interval:i.value},[(s=i.value.events)==null?void 0:s.filter(o=>!o.allDay).map(o=>h(gw,{event:o,interval:i.value,intervalDivisions:e.intervalDivisions,intervalDuration:e.intervalDuration,intervalHeight:e.intervalHeight},null))])])])}),{interval:i}}}),KB=te({hideDayHeader:Boolean,intervals:{type:Number,default:24},...YB()},"VCalendarDay"),gm=fe()({name:"VCalendarDay",props:KB(),setup(e){const t=jr(),n=I(()=>[...Array.from({length:e.intervals},(i,r)=>r).filter((i,r)=>e.intervalDuration*(r+e.intervalStart)<1440)]);return ve(()=>{const i=pw.filterProps(e);return h("div",{class:"v-calendar-day__container"},[!e.hideDayHeader&&h("div",{key:"calender-week-name",class:"v-calendar-weekly__head-weekday"},[t.format(e.day.date,"weekdayShort"),h("div",null,[h(dt,{icon:!0,text:t.format(e.day.date,"dayOfMonth"),variant:"text"},null)])]),n.value.map((r,s)=>h(pw,Z({index:s},i),null))])}),{intervals:n}}}),XB=te({nextIcon:{type:String,default:"$next"},prevIcon:{type:String,default:"$prev"},title:String,text:{type:String,default:"$vuetify.calendar.today"},viewMode:{type:String,default:"month"}},"VCalendarHeader"),_w=fe()({name:"VCalendarHeader",props:XB(),emits:{"click:next":()=>!0,"click:prev":()=>!0,"click:toToday":()=>!0},setup(e,t){let{emit:n}=t;const{t:i}=sn();function r(){n("click:prev")}function s(){n("click:next")}function o(){n("click:toToday")}return ve(()=>h("div",{class:"v-calendar-header"},[e.text&&h(dt,{key:"today",class:"v-calendar-header__today",text:i(e.text),variant:"outlined",onClick:o},null),h(dt,{density:"comfortable",icon:e.prevIcon,variant:"text",onClick:r},null),h(dt,{density:"comfortable",icon:e.nextIcon,variant:"text",onClick:s},null),h("div",{class:"v-calendar-header__title"},[e.title])])),{}}}),gae=te({allDay:Boolean,day:Object,event:Object},"VCalendarEvent"),ix=fe()({name:"VCalendarEvent",props:gae(),setup(e){return ve(()=>h(ou,{color:e.allDay?"primary":void 0,density:"comfortable",label:e.allDay,width:"100%"},{default:()=>{var t,n;return[h(y$,{inline:!0,dot:!0,color:(t=e.event)==null?void 0:t.color},null),(n=e.event)==null?void 0:n.title]}})),{}}}),pae=te({active:Boolean,color:String,day:Object,disabled:Boolean,events:Array,title:[Number,String]},"VCalendarMonthDay"),QB=fe()({name:"VCalendarMonthDay",props:pae(),setup(e,t){let{emit:n,slots:i}=t;return ve(()=>{var s,o,a,l,u,d,c,f,v,m,p;const r=!!(e.title||(s=i.title)!=null&&s.call(i,{title:e.title}));return h("div",{class:["v-calendar-month__day"]},[!((o=e.day)!=null&&o.isHidden)&&r&&h("div",{key:"title",class:"v-calendar-weekly__day-label"},[((a=i.title)==null?void 0:a.call(i,{title:e.title}))??h(dt,{class:(l=e.day)!=null&&l.isToday?"v-calendar-weekly__day-label__today":void 0,color:e.color,disabled:e.disabled,icon:!0,size:"x-small",variant:(u=e.day)!=null&&u.isToday?void 0:"flat"},{default:()=>[e.title]})]),!((d=e.day)!=null&&d.isHidden)&&h("div",{key:"content",class:"v-calendar-weekly__day-content"},[((c=i.content)==null?void 0:c.call(i))??h("div",null,[h("div",{class:"v-calendar-weekly__day-alldayevents-container"},[(f=e.events)==null?void 0:f.filter(_=>_.allDay).map(_=>i.event?i.event({day:e.day,allDay:!0,event:_}):h(ix,{day:e.day,event:_,allDay:!0},null))]),h("div",{class:"v-calendar-weekly__day-events-container"},[(v=e.events)==null?void 0:v.filter(_=>!_.allDay).map(_=>i.event?i.event({day:e.day,event:_,allDay:!1}):h(ix,{day:e.day,event:_},null))])])]),!((m=e.day)!=null&&m.isHidden)&&((p=i.default)==null?void 0:p.call(i))])}),{}}}),_ae=te({hideHeader:Boolean,hideWeekNumber:Boolean,...yB(),...KB(),...XB()},"VCalender"),yae=fe()({name:"VCalendar",props:_ae(),emits:{next:null,prev:null,"update:modelValue":null},setup(e,t){let{emit:n,slots:i}=t;const r=jr(),{daysInMonth:s,daysInWeek:o,genDays:a,model:l,displayValue:u,weekNumbers:d,weekDays:c}=bB(e),f=r.getWeekdays();function v(){e.viewMode==="month"&&(l.value=[r.addMonths(u.value,1)]),e.viewMode==="week"&&(l.value=[r.addDays(u.value,7)]),e.viewMode==="day"&&(l.value=[r.addDays(u.value,1)])}function m(){e.viewMode==="month"&&(l.value=[r.addMonths(u.value,-1)]),e.viewMode==="week"&&(l.value=[r.addDays(u.value,-7)]),e.viewMode==="day"&&(l.value=[r.addDays(u.value,-1)])}function p(){l.value=[r.date()]}const _=I(()=>r.format(u.value,"monthAndYear"));return ve(()=>{var C;const y=gm.filterProps(e),b=_w.filterProps(e);return h("div",{class:["v-calendar",{"v-calendar-monthly":e.viewMode==="month","v-calendar-weekly":e.viewMode==="week","v-calendar-day":e.viewMode==="day"}]},[h("div",null,[!e.hideHeader&&(i.header?i.header({title:_.value}):h(_w,Z({key:"calendar-header"},b,{title:_.value,"onClick:next":v,"onClick:prev":m,"onClick:toToday":p}),null))]),h("div",{class:["v-calendar__container",`days__${c.value.length}`]},[e.viewMode==="month"&&!e.hideDayHeader&&h("div",{class:["v-calendar-weekly__head",`days__${c.value.length}`,...e.hideWeekNumber?[]:["v-calendar-weekly__head-weeknumbers"]],key:"calenderWeeklyHead"},[e.hideWeekNumber?"":h("div",{key:"weekNumber0",class:"v-calendar-weekly__head-weeknumber"},null),c.value.map(k=>h("div",{class:`v-calendar-weekly__head-weekday${e.hideWeekNumber?"":"-with-weeknumber"}`},[f[k]]))]),e.viewMode==="month"&&h("div",{key:"VCalendarMonth",class:["v-calendar-month__days",`days${e.hideWeekNumber?"":"-with-weeknumbers"}__${c.value.length}`,...e.hideWeekNumber?[]:["v-calendar-month__weeknumbers"]]},[UJ(s.value,c.value.length).map((k,R)=>[e.hideWeekNumber?"":h("div",{class:"v-calendar-month__weeknumber"},[d.value[R]]),k.map(O=>{var x;return h(QB,{color:r.isSameDay(r.date(),O.date)?"primary":void 0,day:O,title:O?r.format(O.date,"dayOfMonth"):"NaN",events:(x=e.events)==null?void 0:x.filter(S=>r.isSameDay(O.date,S.start)||r.isSameDay(O.date,S.end))},{event:i.event})})])]),e.viewMode==="week"&&o.value.map((k,R)=>{var O;return h(gm,Z(y,{day:k,dayIndex:R,events:(O=e.events)==null?void 0:O.filter(x=>r.isSameDay(x.start,k.date)||r.isSameDay(x.end,k.date))}),null)}),e.viewMode==="day"&&h(gm,Z(y,{day:a([u.value],r.date())[0],dayIndex:0,events:(C=e.events)==null?void 0:C.filter(k=>r.isSameDay(k.start,a([u.value],r.date())[0].date)||r.isSameDay(k.end,a([u.value],r.date())[0].date))}),null)])])}),{daysInMonth:s,daysInWeek:o,genDays:a}}}),bae=te({hideActions:Boolean,...Yc(),...L$(),...Xc({placeholder:"mm/dd/yyyy",prependIcon:"$calendar"}),...zt(kB({weeksInMonth:"dynamic",hideHeader:!0}),["active"])},"VDateInput"),wae=fe()({name:"VDateInput",props:bae(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const{t:i}=sn(),r=jr(),{isFocused:s,focus:o,blur:a}=Gs(e),l=je(e,"modelValue",e.multiple?[]:null),u=ke(!1),d=I(()=>{const p=mn(l.value);if(!p.length)return null;if(e.multiple===!0)return i("$vuetify.datePicker.itemsSelected",p.length);if(e.multiple==="range"){const _=p[0],y=p[p.length-1];return r.isValid(_)&&r.isValid(y)?`${r.format(_,"keyboardDate")} - ${r.format(y,"keyboardDate")}`:""}return r.isValid(l.value)?r.format(l.value,"keyboardDate"):""}),c=I(()=>!e.disabled&&!e.readonly);function f(p){if(p.key!=="Enter")return;if(!u.value||!s.value){u.value=!0;return}const _=p.target;l.value=r.date(_.value)}function v(p){p.preventDefault(),p.stopPropagation(),u.value=!0}function m(){u.value=!1}ve(()=>{const p=nw.filterProps(e),_=cw.filterProps(zt(e,["active"])),y=ds.filterProps(e);return h(ds,Z(y,{class:e.class,style:e.style,modelValue:d.value,onKeydown:c.value?f:void 0,focused:u.value||s.value,onFocus:o,onBlur:a,"onClick:control":c.value?v:void 0,"onClick:prepend":c.value?v:void 0}),{default:()=>{var b;return[h(Ll,{modelValue:u.value,"onUpdate:modelValue":C=>u.value=C,activator:"parent","min-width":"0",closeOnContentClick:!1,openOnClick:!1},{default:()=>[h(nw,Z(p,{modelValue:l.value,"onUpdate:modelValue":C=>l.value=C,onSave:m}),{default:C=>{let{actions:k,model:R}=C;return h(cw,Z(_,{modelValue:e.hideActions?l.value:R.value,"onUpdate:modelValue":O=>{e.hideActions?(l.value=O,e.multiple||(u.value=!1)):R.value=O},onMousedown:O=>O.preventDefault()}),{actions:e.hideActions?void 0:()=>k})}})]}),(b=n.default)==null?void 0:b.call(n)]}})})}}),Sae=te({controlVariant:{type:String,default:"default"},inset:Boolean,hideInput:Boolean,modelValue:{type:Number,default:null},min:{type:Number,default:Number.MIN_SAFE_INTEGER},max:{type:Number,default:Number.MAX_SAFE_INTEGER},step:{type:Number,default:1},...zt(Xc({}),["appendInnerIcon","modelValue","prependInnerIcon"])},"VNumberInput"),Eae=fe()({name:"VNumberInput",props:{...Sae()},emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const i=je(e,"modelValue"),r=I({get:()=>i.value,set(E){if(E===null){i.value=null;return}!isNaN(+E)&&+E<=e.max&&+E>=e.min&&(i.value=+E)}}),s=W(),o=I(()=>cg(e.step)),a=I(()=>typeof r.value=="number"?cg(r.value):0),l=$h(),u=I(()=>e.disabled||e.readonly||(l==null?void 0:l.isReadonly.value)),d=I(()=>u.value?!1:(r.value??0)+e.step<=e.max),c=I(()=>u.value?!1:(r.value??0)-e.step>=e.min),f=I(()=>e.hideInput?"stacked":e.controlVariant),v=I(()=>f.value==="split"?"$plus":"$collapse"),m=I(()=>f.value==="split"?"$minus":"$expand"),p=I(()=>f.value==="split"?"default":"small"),_=I(()=>f.value==="stacked"?"auto":"100%"),y=I(()=>({click:k})),b=I(()=>({click:R}));bt(()=>{!e.readonly&&!e.disabled&&w()});function C(){let E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;if(u.value)return;if(r.value==null){r.value=Tn(0,e.min,e.max);return}const A=Math.max(a.value,o.value);E?d.value&&(r.value=+(r.value+e.step).toFixed(A)):c.value&&(r.value=+(r.value-e.step).toFixed(A))}function k(E){E.stopPropagation(),C()}function R(E){E.stopPropagation(),C(!1)}function O(E){var $,j,Y;if(!E.data)return;const A=($=E.target)==null?void 0:$.value,P=(j=E.target)==null?void 0:j.selectionStart,D=(Y=E.target)==null?void 0:Y.selectionEnd,B=A?A.slice(0,P)+E.data+A.slice(D):E.data;/^-?(\d+(\.\d*)?|(\.\d+)|\d*|\.)$/.test(B)||E.preventDefault()}async function x(E){["Enter","ArrowLeft","ArrowRight","Backspace","Delete","Tab"].includes(E.key)||E.ctrlKey||["ArrowDown","ArrowUp"].includes(E.key)&&(E.preventDefault(),w(),await at(),E.key==="ArrowDown"?C(!1):C())}function S(E){E.stopPropagation()}function w(){if(!s.value)return;const E=s.value.value;E&&!isNaN(+E)?r.value=Tn(+E,e.min,e.max):r.value=null}return ve(()=>{const{modelValue:E,...A}=ds.filterProps(e);function P(){return n.increment?h(lt,{key:"increment-defaults",defaults:{VBtn:{disabled:!d.value,flat:!0,height:_.value,size:p.value,icon:v.value}}},{default:()=>[n.increment(y.value)]}):h(dt,{disabled:!d.value,flat:!0,key:"increment-btn",height:_.value,name:"increment-btn",icon:v.value,onClick:k,onMousedown:S,size:p.value,tabindex:"-1"},null)}function D(){return n.decrement?h(lt,{key:"decrement-defaults",defaults:{VBtn:{disabled:!c.value,flat:!0,height:_.value,size:p.value,icon:m.value}}},{default:()=>[n.decrement(b.value)]}):h(dt,{disabled:!c.value,flat:!0,key:"decrement-btn",height:_.value,name:"decrement-btn",icon:m.value,size:p.value,tabindex:"-1",onClick:R,onMousedown:S},null)}function B(){return h("div",{class:"v-number-input__control"},[D(),h(fo,{vertical:f.value!=="stacked"},null),P()])}function $(){return!e.hideInput&&!e.inset?h(fo,{vertical:!0},null):void 0}const j=f.value==="split"?h("div",{class:"v-number-input__control"},[h(fo,{vertical:!0},null),P()]):e.reverse?void 0:h(Te,null,[$(),B()]),Y=n["append-inner"]||j,H=f.value==="split"?h("div",{class:"v-number-input__control"},[D(),h(fo,{vertical:!0},null)]):e.reverse?h(Te,null,[B(),$()]):void 0,q=n["prepend-inner"]||H;return h(ds,Z({ref:s,modelValue:r.value,"onUpdate:modelValue":z=>r.value=z,onBeforeinput:O,onChange:w,onKeydown:x,class:["v-number-input",{"v-number-input--default":f.value==="default","v-number-input--hide-input":e.hideInput,"v-number-input--inset":e.inset,"v-number-input--reverse":e.reverse,"v-number-input--split":f.value==="split","v-number-input--stacked":f.value==="stacked"},e.class]},A,{style:e.style,inputmode:"decimal"}),{...n,"append-inner":Y?function(){var be;for(var z=arguments.length,ne=new Array(z),ue=0;ue<z;ue++)ne[ue]=arguments[ue];return h(Te,null,[(be=n["append-inner"])==null?void 0:be.call(n,...ne),j])}:void 0,"prepend-inner":q?function(){var be;for(var z=arguments.length,ne=new Array(z),ue=0;ue<z;ue++)ne[ue]=arguments[ue];return h(Te,null,[H,(be=n["prepend-inner"])==null?void 0:be.call(n,...ne)])}:void 0})}),Or({},s)}}),Cae=te({...hC()},"VStepperActions"),JB=fe()({name:"VStepperVerticalActions",props:Cae(),emits:{"click:prev":()=>!0,"click:next":()=>!0},setup(e,t){let{emit:n,slots:i}=t;function r(){n("click:prev")}function s(){n("click:next")}return ve(()=>{const o=yg.filterProps(e);return h(yg,Z({class:"v-stepper-vertical-actions"},o,{"onClick:prev":r,"onClick:next":s}),i)}),{}}}),kae=te({hideActions:Boolean,...NB(),...zt(dC({expandIcon:"",collapseIcon:""}),["hideActions"])},"VStepperVerticalItem"),ZB=fe()({name:"VStepperVerticalItem",props:kae(),emits:{"click:next":()=>!0,"click:prev":()=>!0,"click:finish":()=>!0},setup(e,t){let{emit:n,slots:i}=t;const r=W(),s=I(()=>isNaN(parseInt(e.value))?e.value:Number(e.value)),o=I(()=>{var b;return(b=r.value)==null?void 0:b.groupItem}),a=I(()=>{var b;return((b=o.value)==null?void 0:b.isSelected.value)??!1}),l=I(()=>a.value?e.rules.every(b=>b()===!0):null),u=I(()=>!e.disabled&&e.editable),d=I(()=>e.error||a.value&&!l.value),c=I(()=>e.complete||e.rules.length>0&&l.value===!0),f=I(()=>{var b;return e.disabled?e.disabled:(b=o.value)!=null&&b.isFirst.value?"prev":!1}),v=I(()=>{var b;return d.value?e.errorIcon:c.value?e.completeIcon:(b=o.value)!=null&&b.isSelected.value&&e.editable?e.editIcon:e.icon}),m=I(()=>({canEdit:u.value,hasError:d.value,hasCompleted:c.value,title:e.title,subtitle:e.subtitle,step:s.value,value:e.value})),p=I(()=>({...m.value,prev:y,next:_}));function _(){var b;n("click:next"),!((b=o.value)!=null&&b.isLast.value)&&o.value.group.next()}function y(){n("click:prev"),o.value.group.prev()}return ve(()=>{var R;const b=(c.value||((R=o.value)==null?void 0:R.isSelected.value))&&!d.value&&!e.disabled,C=!e.hideActions||!!i.actions,k=hw.filterProps(e);return h(hw,Z({_as:"VStepperVerticalItem",ref:r},k,{class:["v-stepper-vertical-item",{"v-stepper-vertical-item--complete":c.value,"v-stepper-vertical-item--disabled":e.disabled,"v-stepper-vertical-item--editable":u.value,"v-stepper-vertical-item--error":d.value},e.class],readonly:!e.editable,style:e.style,color:"","hide-actions":!1,value:s.value}),{title:()=>{var O,x;return h(Te,null,[h(kr,{key:"stepper-avatar",class:"v-stepper-vertical-item__avatar",color:b?e.color:void 0,size:24,start:!0},{default:()=>{var S;return[((S=i.icon)==null?void 0:S.call(i,m.value))??(v.value?h(Dt,{icon:v.value},null):s.value)]}}),h("div",null,[h("div",{class:"v-stepper-vertical-item__title"},[((O=i.title)==null?void 0:O.call(i,m.value))??e.title]),h("div",{class:"v-stepper-vertical-item__subtitle"},[((x=i.subtitle)==null?void 0:x.call(i,m.value))??e.subtitle])])])},text:()=>{var O,x;return h(Te,null,[((O=i.default)==null?void 0:O.call(i,m.value))??e.text,C&&h(lt,{defaults:{VStepperVerticalActions:{disabled:f.value,finish:(x=o.value)==null?void 0:x.isLast.value}}},{default:()=>{var S;return[((S=i.actions)==null?void 0:S.call(i,p.value))??h(JB,{"onClick:next":_,"onClick:prev":y},{prev:i.prev?()=>{var w;return(w=i.prev)==null?void 0:w.call(i,p.value)}:void 0,next:i.next?()=>{var w;return(w=i.next)==null?void 0:w.call(i,p.value)}:void 0})]}})])}})}),{}}}),Tae=te({prevText:{type:String,default:"$vuetify.stepper.prev"},nextText:{type:String,default:"$vuetify.stepper.next"},...$B(),...zt(AB({mandatory:"force",variant:"accordion"}),["static"])},"VStepperVertical"),Iae=fe()({name:"VStepperVertical",props:Tae(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const i=W(),{color:r,eager:s,editable:o,prevText:a,nextText:l,hideActions:u}=xa(e),d=je(e,"modelValue"),c=I(()=>e.items.map((f,v)=>{const m=jn(f,e.itemTitle,f),p=jn(f,e.itemValue,v+1);return{title:m,value:p,raw:f}}));return yn({VStepperVerticalItem:{color:r,eager:s,editable:o,prevText:a,nextText:l,hideActions:u,static:!0},VStepperActions:{color:r}}),ve(()=>{const f=vw.filterProps(e);return h(vw,Z(f,{modelValue:d.value,"onUpdate:modelValue":v=>d.value=v,ref:i,class:["v-stepper",{"v-stepper--alt-labels":e.altLabels,"v-stepper--flat":e.flat,"v-stepper--non-linear":e.nonLinear,"v-stepper--mobile":e.mobile},e.class],style:e.style}),{...n,default:v=>{var _;let{prev:m,next:p}=v;return h(Te,null,[c.value.map(y=>{let{raw:b,...C}=y;return h(ZB,C,{...n,default:n[`item.${C.value}`]})}),(_=n.default)==null?void 0:_.call(n,{prev:m,next:p,step:d.value})])}})}),{}}}),Aae=fe()({name:"VPullToRefresh",props:{disabled:Boolean,pullDownThreshold:{type:Number,default:64}},emits:{load:e=>!0},setup(e,t){let{slots:n,emit:i}=t,r=0,s=[];const o=ke(0),a=W(),l=ke(!1),u=ke(!1),d=ke(!1),c=I(()=>o.value>=e.pullDownThreshold&&!l.value),f=I(()=>Tn(o.value,0,e.pullDownThreshold));function v(_){l.value||e.disabled||(d.value=!0,r="clientY"in _?_.clientY:_.touches[0].clientY)}function m(_){if(l.value||!d.value||e.disabled)return;const y="clientY"in _?_.clientY:_.touches[0].clientY;s.length&&!s[0].scrollTop&&(o.value=y-r)}function p(_){l.value||e.disabled||(d.value=!1,c.value?(i("load",{done:function(){l.value&&(o.value=0,l.value=!1)}}),l.value=!0):o.value=0)}bt(()=>{s=Lf(a.value)}),ge([f,l],()=>{if(s.length){const _=f.value&&!l.value;s.forEach(y=>y.style.overflow=_?"hidden":"auto")}}),ge(f,(_,y)=>{u.value=_<y}),ve(()=>{var _;return h("div",{class:["v-pull-to-refresh"],onTouchstart:v,onTouchmove:m,onTouchend:p,onMousedown:v,onMouseup:p,onMouseleave:p,onMousemove:m,ref:a},[h("div",{class:["v-pull-to-refresh__pull-down",{"v-pull-to-refresh__pull-down--touching":d.value}],style:{top:Oe(-1*e.pullDownThreshold+f.value),height:Oe(e.pullDownThreshold)}},[n.pullDownPanel?n.pullDownPanel({canRefresh:c.value,goingUp:u.value,refreshing:l.value}):h("div",{class:["v-pull-to-refresh__pull-down-default"]},[l.value?h(ya,{indeterminate:!0,active:!1},null):h(Dt,{icon:c.value||u.value?"$sortAsc":"$sortDesc"},null)])]),h("div",{class:["v-pull-to-refresh__scroll-container",{"v-pull-to-refresh__scroll-container--touching":d.value}],style:{top:Oe(f.value)}},[(_=n.default)==null?void 0:_.call(n)])])})}}),Pae=te({closable:[Boolean,String],closeText:{type:String,default:"$vuetify.dismiss"},modelValue:{type:Array,default:()=>[]},...zt(xB(),["modelValue"])},"VSnackbarQueue"),xae=fe()({name:"VSnackbarQueue",props:Pae(),emits:{"update:modelValue":e=>!0},setup(e,t){let{emit:n,slots:i}=t;const{t:r}=sn(),s=ke(!1),o=ke(!1),a=ke();ge(()=>e.modelValue.length,(f,v)=>{!o.value&&f>v&&u()}),ge(s,f=>{f&&(o.value=!0)});function l(){e.modelValue.length?u():(a.value=void 0,o.value=!1)}function u(){const[f,...v]=e.modelValue;n("update:modelValue",v),a.value=typeof f=="string"?{text:f}:f,at(()=>{s.value=!0})}function d(){s.value=!1}const c=I(()=>({color:typeof e.closable=="string"?e.closable:void 0,text:r(e.closeText)}));ve(()=>{const f=!!(e.closable||i.actions),{modelValue:v,...m}=mw.filterProps(e);return h(Te,null,[o.value&&!!a.value&&(i.default?h(lt,{defaults:{VSnackbar:a.value}},{default:()=>[i.default({item:a.value})]}):h(mw,Z(m,a.value,{modelValue:s.value,"onUpdate:modelValue":p=>s.value=p,onAfterLeave:l}),{text:i.text?()=>{var p;return(p=i.text)==null?void 0:p.call(i,{item:a.value})}:void 0,actions:f?()=>h(Te,null,[i.actions?h(lt,{defaults:{VBtn:c.value}},{default:()=>[i.actions({item:a.value,props:{onClick:d}})]}):h(dt,Z(c.value,{onClick:d}),null)]):void 0}))])})}});function dl(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;return String(e).padStart(t,"0")}const Dae=te({allowedValues:Function,ampm:Boolean,color:String,disabled:Boolean,displayedValue:null,double:Boolean,format:{type:Function,default:e=>e},max:{type:Number,required:!0},min:{type:Number,required:!0},scrollable:Boolean,readonly:Boolean,rotate:{type:Number,default:0},step:{type:Number,default:1},modelValue:{type:Number}},"VTimePickerClock"),yw=fe()({name:"VTimePickerClock",props:Dae(),emits:{change:e=>!0,input:e=>!0},setup(e,t){let{emit:n}=t;const i=W(null),r=W(null),s=W(void 0),o=W(!1),a=W(null),l=W(null),{textColorClasses:u,textColorStyles:d}=ci(de(e,"color")),{backgroundColorClasses:c,backgroundColorStyles:f}=Gt(de(e,"color")),v=I(()=>e.max-e.min+1),m=I(()=>e.double?v.value/2:v.value),p=I(()=>360/m.value),_=I(()=>p.value*Math.PI/180),y=I(()=>e.modelValue==null?e.min:e.modelValue),b=I(()=>.62),C=I(()=>{const H=[];for(let q=e.min;q<=e.max;q=q+e.step)H.push(q);return H});ge(()=>e.modelValue,H=>{s.value=H});function k(H){s.value!==H&&(s.value=H),n("input",H)}function R(H){return!e.allowedValues||e.allowedValues(H)}function O(H){if(!e.scrollable||e.disabled)return;H.preventDefault();const q=Math.sign(-H.deltaY||1);let z=y.value;do z=z+q,z=(z-e.min+v.value)%v.value+e.min;while(!R(z)&&z!==y.value);z!==e.displayedValue&&k(z)}function x(H){return e.double&&H-e.min>=m.value}function S(H){return x(H)?b.value:1}function w(H){const q=e.rotate*Math.PI/180;return{x:Math.sin((H-e.min)*_.value+q)*S(H),y:-Math.cos((H-e.min)*_.value+q)*S(H)}}function E(H,q){const z=(Math.round(H/p.value)+(q?m.value:0))%v.value+e.min;return H<360-p.value/2?z:q?e.max-m.value+1:e.min}function A(H){const{x:q,y:z}=w(H);return{left:`${50+q*50}%`,top:`${50+z*50}%`}}function P(H,q){const z=q.x-H.x,ne=q.y-H.y;return Math.sqrt(z*z+ne*ne)}function D(H,q){const z=2*Math.atan2(q.y-H.y-P(H,q),q.x-H.x);return Math.abs(z*180/Math.PI)}function B(H){a.value===null&&(a.value=H),l.value=H,k(H)}function $(H){var X,_e;if(H.preventDefault(),!o.value&&H.type!=="click"||!i.value)return;const{width:q,top:z,left:ne}=(X=i.value)==null?void 0:X.getBoundingClientRect(),{width:ue}=((_e=r.value)==null?void 0:_e.getBoundingClientRect())??{width:0},{clientX:be,clientY:Ae}="touches"in H?H.touches[0]:H,Ne={x:q/2,y:-q/2},se={x:be-ne,y:z-Ae},G=Math.round(D(Ne,se)-e.rotate+360)%360,ie=e.double&&P(Ne,se)<(ue+ue*b.value)/4,Q=Math.ceil(15/p.value);let ee;for(let M=0;M<Q;M++)if(ee=E(G+M*p.value,ie),R(ee)||(ee=E(G-M*p.value,ie),R(ee)))return B(ee)}function j(H){e.disabled||(H.preventDefault(),window.addEventListener("mousemove",$),window.addEventListener("touchmove",$),window.addEventListener("mouseup",Y),window.addEventListener("touchend",Y),a.value=null,l.value=null,o.value=!0,$(H))}function Y(H){H.stopPropagation(),window.removeEventListener("mousemove",$),window.removeEventListener("touchmove",$),window.removeEventListener("mouseup",Y),window.removeEventListener("touchend",Y),o.value=!1,l.value!==null&&R(l.value)&&n("change",l.value)}ve(()=>h("div",{class:[{"v-time-picker-clock":!0,"v-time-picker-clock--indeterminate":e.modelValue==null,"v-time-picker-clock--readonly":e.readonly}],onMousedown:j,onTouchstart:j,onWheel:O,ref:i},[h("div",{class:"v-time-picker-clock__inner",ref:r},[h("div",{class:[{"v-time-picker-clock__hand":!0,"v-time-picker-clock__hand--inner":x(e.modelValue)},u.value],style:[{transform:`rotate(${e.rotate+p.value*(y.value-e.min)}deg) scaleY(${S(y.value)})`},d.value]},null),C.value.map(H=>{const q=H===y.value;return h("div",{class:[{"v-time-picker-clock__item":!0,"v-time-picker-clock__item--active":q,"v-time-picker-clock__item--disabled":e.disabled||!R(H)},q&&c.value],style:[A(H),q&&f.value]},[h("span",null,[e.format(H)])])})])]))}});var Bn=function(e){return e[e.Hour=1]="Hour",e[e.Minute=2]="Minute",e[e.Second=3]="Second",e}(Bn||{});const Rae=te({ampm:Boolean,ampmInTitle:Boolean,ampmReadonly:Boolean,color:String,disabled:Boolean,hour:Number,minute:Number,second:Number,period:String,readonly:Boolean,useSeconds:Boolean,selecting:Number,value:Number},"VTimePickerControls"),bw=fe()({name:"VTimePickerControls",props:Rae(),emits:{"update:period":e=>!0,"update:selecting":e=>!0},setup(e,t){let{emit:n,slots:i}=t;const{t:r}=sn();return ve(()=>{let s=e.hour;return e.ampm&&(s=s?(s-1)%12+1:12),h("div",{class:"v-time-picker-controls"},[h("div",{class:{"v-time-picker-controls__time":!0,"v-time-picker-controls__time--with-seconds":e.useSeconds}},[h(dt,{active:e.selecting===1,color:e.selecting===1?e.color:void 0,disabled:e.disabled,variant:"tonal",class:{"v-time-picker-controls__time__btn":!0,"v-time-picker-controls__time--with-ampm__btn":e.ampm,"v-time-picker-controls__time--with-seconds__btn":e.useSeconds},text:e.hour==null?"--":dl(`${s}`),onClick:()=>n("update:selecting",Bn.Hour)},null),h("span",{class:["v-time-picker-controls__time__separator",{"v-time-picker-controls--with-seconds__time__separator":e.useSeconds}]},[Ie(":")]),h(dt,{active:e.selecting===2,color:e.selecting===2?e.color:void 0,class:{"v-time-picker-controls__time__btn":!0,"v-time-picker-controls__time__btn__active":e.selecting===2,"v-time-picker-controls__time--with-ampm__btn":e.ampm,"v-time-picker-controls__time--with-seconds__btn":e.useSeconds},disabled:e.disabled,variant:"tonal",text:e.minute==null?"--":dl(e.minute),onClick:()=>n("update:selecting",Bn.Minute)},null),e.useSeconds&&h("span",{class:["v-time-picker-controls__time__separator",{"v-time-picker-controls--with-seconds__time__separator":e.useSeconds}],key:"secondsDivider"},[Ie(":")]),e.useSeconds&&h(dt,{key:"secondsVal",variant:"tonal",onClick:()=>n("update:selecting",Bn.Second),class:{"v-time-picker-controls__time__btn":!0,"v-time-picker-controls__time__btn__active":e.selecting===3,"v-time-picker-controls__time--with-seconds__btn":e.useSeconds},disabled:e.disabled,text:e.second==null?"--":dl(e.second)},null),e.ampm&&e.ampmInTitle&&h("div",{class:["v-time-picker-controls__ampm",{"v-time-picker-controls__ampm--readonly":e.ampmReadonly}]},[h(dt,{active:e.period==="am",color:e.period==="am"?e.color:void 0,class:{"v-time-picker-controls__ampm__am":!0,"v-time-picker-controls__ampm__btn":!0,"v-time-picker-controls__ampm__btn__active":e.period==="am"},disabled:e.disabled,text:r("$vuetify.timePicker.am"),variant:e.disabled&&e.period==="am"?"elevated":"tonal",onClick:()=>e.period!=="am"?n("update:period","am"):null},null),h(dt,{active:e.period==="pm",color:e.period==="pm"?e.color:void 0,class:{"v-time-picker-controls__ampm__pm":!0,"v-time-picker-controls__ampm__btn":!0,"v-time-picker-controls__ampm__btn__active":e.period==="pm"},disabled:e.disabled,text:r("$vuetify.timePicker.pm"),variant:e.disabled&&e.period==="pm"?"elevated":"tonal",onClick:()=>e.period!=="pm"?n("update:period","pm"):null},null)])])])}),{}}}),Oae=wr(24),e4=wr(12),Vae=e4.map(e=>e+12);wr(60);const Nae={1:"hour",2:"minute",3:"second"},Mae=te({allowedHours:[Function,Array],allowedMinutes:[Function,Array],allowedSeconds:[Function,Array],ampmInTitle:Boolean,disabled:Boolean,format:{type:String,default:"ampm"},max:String,min:String,modelValue:null,readonly:Boolean,scrollable:Boolean,useSeconds:Boolean,...zt(cC({title:"$vuetify.timePicker.title"}),["landscape"])},"VTimePicker"),Lae=fe()({name:"VTimePicker",props:Mae(),emits:{"update:hour":e=>!0,"update:minute":e=>!0,"update:period":e=>!0,"update:second":e=>!0,"update:modelValue":e=>!0},setup(e,t){let{emit:n,slots:i}=t;const{t:r}=sn(),s=W(null),o=W(null),a=W(null),l=W(null),u=W(null),d=W(null),c=W("am"),f=W(Bn.Hour),v=W(null),m=W(null),p=I(()=>{let P;if(e.allowedHours instanceof Array?P=$=>e.allowedHours.includes($):P=e.allowedHours,!e.min&&!e.max)return P;const D=e.min?Number(e.min.split(":")[0]):0,B=e.max?Number(e.max.split(":")[0]):23;return $=>$>=D*1&&$<=B*1&&(!P||P($))}),_=I(()=>{let P;const D=!p.value||s.value===null||p.value(s.value);if(e.allowedMinutes instanceof Array?P=z=>e.allowedMinutes.includes(z):P=e.allowedMinutes,!e.min&&!e.max)return D?P:()=>!1;const[B,$]=e.min?e.min.split(":").map(Number):[0,0],[j,Y]=e.max?e.max.split(":").map(Number):[23,59],H=B*60+$*1,q=j*60+Y*1;return z=>{const ne=60*s.value+z;return ne>=H&&ne<=q&&D&&(!P||P(z))}}),y=I(()=>{let P;const B=(!p.value||s.value===null||p.value(s.value))&&(!_.value||o.value===null||_.value(o.value));if(e.allowedSeconds instanceof Array?P=be=>e.allowedSeconds.includes(be):P=e.allowedSeconds,!e.min&&!e.max)return B?P:()=>!1;const[$,j,Y]=e.min?e.min.split(":").map(Number):[0,0,0],[H,q,z]=e.max?e.max.split(":").map(Number):[23,59,59],ne=$*3600+j*60+(Y||0)*1,ue=H*3600+q*60+(z||0)*1;return be=>{const Ae=3600*s.value+60*o.value+be;return Ae>=ne&&Ae<=ue&&B&&(!P||P(be))}}),b=I(()=>e.format==="ampm");ge(()=>e.modelValue,P=>x(P)),bt(()=>{x(e.modelValue)});function C(){return s.value!=null&&o.value!=null&&(!e.useSeconds||a.value!=null)?`${dl(s.value)}:${dl(o.value)}`+(e.useSeconds?`:${dl(a.value)}`:""):null}function k(){const P=C();P!==null&&n("update:modelValue",P)}function R(P){return P?(P-1)%12+1:12}function O(P,D){return P%12+(D==="pm"?12:0)}function x(P){if(P==null||P==="")s.value=null,o.value=null,a.value=null;else if(P instanceof Date)s.value=P.getHours(),o.value=P.getMinutes(),a.value=P.getSeconds();else{const[D,,B,,$,j]=P.trim().toLowerCase().match(/^(\d+):(\d+)(:(\d+))?([ap]m)?$/)||new Array(6);s.value=j?O(parseInt(D,10),j):parseInt(D,10),o.value=parseInt(B,10),a.value=parseInt($||0,10)}c.value=s.value==null||s.value<12?"am":"pm"}function S(P,D){const B=p.value;if(!B)return D;const $=b.value?D<12?e4:Vae:Oae;return(($.find(Y=>B((Y+D)%$.length+$[0]))||0)+D)%$.length+$[0]}function w(P){if(c.value=P,s.value!=null){const D=s.value+(c.value==="am"?-12:12);s.value=S("hour",D)}return n("update:period",P),k(),!0}function E(P){f.value===Bn.Hour?s.value=b.value?O(P,c.value):P:f.value===Bn.Minute?o.value=P:a.value=P}function A(P){switch(Nae[f.value]){case"hour":n("update:hour",P);break;case"minute":n("update:minute",P);break;case"second":n("update:second",P);break}const D=f.value===(e.useSeconds?Bn.Second:Bn.Minute);f.value===Bn.Hour?f.value=Bn.Minute:e.useSeconds&&f.value===Bn.Minute&&(f.value=Bn.Second),!(s.value===l.value&&o.value===u.value&&(!e.useSeconds||a.value===d.value)||C()===null)&&(l.value=s.value,u.value=o.value,e.useSeconds&&(d.value=a.value),D&&k())}ve(()=>{const P=Yf.filterProps(e),D=bw.filterProps(e),B=yw.filterProps(zt(e,["format","modelValue","min","max"]));return h(Yf,Z(P,{color:void 0,class:["v-time-picker",e.class],style:e.style}),{title:()=>{var $;return(($=i.title)==null?void 0:$.call(i))??h("div",{class:"v-time-picker__title"},[r(e.title)])},header:()=>h(bw,Z(D,{ampm:b.value||e.ampmInTitle,ampmReadonly:b.value&&!e.ampmInTitle,hour:s.value,minute:o.value,period:c.value,second:a.value,selecting:f.value,"onUpdate:period":$=>w($),"onUpdate:selecting":$=>f.value=$,ref:v}),null),default:()=>h(yw,Z(B,{allowedValues:f.value===Bn.Hour?p.value:f.value===Bn.Minute?_.value:y.value,double:f.value===Bn.Hour&&!b.value,format:f.value===Bn.Hour?b.value?R:$=>$:$=>dl($,2),max:f.value===Bn.Hour?b.value&&c.value==="am"?11:23:59,min:f.value===Bn.Hour&&b.value&&c.value==="pm"?12:0,size:20,step:f.value===Bn.Hour?1:5,modelValue:f.value===Bn.Hour?s.value:f.value===Bn.Minute?o.value:a.value,onChange:A,onInput:E,ref:m}),null),actions:i.actions})})}}),Fae=te({...zt(XF({collapseIcon:"$treeviewCollapse",expandIcon:"$treeviewExpand"}),["subgroup"])},"VTreeviewGroup"),ww=fe()({name:"VTreeviewGroup",props:Fae(),setup(e,t){let{slots:n}=t;const i=W(),r=I(()=>{var o;return(o=i.value)!=null&&o.isOpen?e.collapseIcon:e.expandIcon}),s=I(()=>{var o;return{VTreeviewItem:{prependIcon:void 0,appendIcon:void 0,active:(o=i.value)==null?void 0:o.isOpen,toggleIcon:r.value}}});return ve(()=>{const o=Gf.filterProps(e);return h(Gf,Z(o,{ref:i,class:["v-treeview-group",e.class],subgroup:!0}),{...n,activator:n.activator?a=>h(Te,null,[h(lt,{defaults:s.value},{default:()=>{var l;return[(l=n.activator)==null?void 0:l.call(n,a)]}})]):void 0})}),{}}}),t4=Symbol.for("vuetify:v-treeview"),$ae=te({loading:Boolean,onToggleExpand:ii(),toggleIcon:Ze,...ZF({slim:!0})},"VTreeviewItem"),Sw=fe()({name:"VTreeviewItem",props:$ae(),setup(e,t){let{attrs:n,slots:i,emit:r}=t;const s=Gc(e,n),o=W(),a=I(()=>{var c,f;return((c=o.value)==null?void 0:c.root.activatable.value)&&((f=o.value)==null?void 0:f.isGroupActivator)}),l=I(()=>{var c;return!e.disabled&&e.link!==!1&&(e.link||s.isClickable.value||e.value!=null&&!!((c=o.value)!=null&&c.list)||a.value)});function u(c){var f,v,m,p;!l.value||!a.value&&((f=o.value)!=null&&f.isGroupActivator)||(v=o.value)!=null&&v.root.activatable.value&&((p=o.value)==null||p.activate(!((m=o.value)!=null&&m.isActivated),c))}const d=ot(t4,{visibleIds:W()}).visibleIds;return ve(()=>{var v,m;const c=zt(cs.filterProps(e),["onClick"]),f=i.prepend||e.toggleIcon;return h(cs,Z({ref:o},c,{active:(v=o.value)==null?void 0:v.isActivated,class:["v-treeview-item",{"v-treeview-item--activatable-group-activator":a.value,"v-treeview-item--filtered":d.value&&!d.value.has((m=o.value)==null?void 0:m.id)},e.class],ripple:!1,onClick:e.onClick??u}),{...i,prepend:f?p=>{var _;return h(Te,null,[e.toggleIcon&&h(a$,{start:!1},{default:()=>[h(dt,{density:"compact",icon:e.toggleIcon,loading:e.loading,variant:"text",onClick:e.onToggleExpand},{loader(){return h(ya,{indeterminate:"disable-shrink",size:"20",width:"2"},null)}})]}),(_=i.prepend)==null?void 0:_.call(i,p)])}:void 0})}),{}}}),n4=te({loadChildren:Function,loadingIcon:{type:String,default:"$loading"},items:Array,openOnClick:{type:Boolean,default:void 0},indeterminateIcon:{type:Ze,default:"$checkboxIndeterminate"},falseIcon:Ze,trueIcon:Ze,returnObject:Boolean,selectable:Boolean,selectedColor:String,selectStrategy:[String,Function,Object]},"VTreeviewChildren"),bg=fe()({name:"VTreeviewChildren",props:n4(),setup(e,t){let{emit:n,slots:i}=t;const r=ke(null),s=I(()=>e.openOnClick!=null?e.openOnClick:e.selectable);function o(l){return new Promise(u=>{var d,c;if(!((d=e.items)!=null&&d.length)||!e.loadChildren)return u();if(((c=l==null?void 0:l.children)==null?void 0:c.length)===0){r.value=l.value,e.loadChildren(l).then(u);return}u()}).finally(()=>{r.value=null})}function a(l,u){e.selectable&&l(!u)}return()=>{var l,u;return((l=i.default)==null?void 0:l.call(i))??((u=e.items)==null?void 0:u.map(d=>{var b;let{children:c,props:f,raw:v}=d;const m=r.value===v.value,p={prepend:C=>{var k;return h(Te,null,[e.selectable&&(!c||c&&!["leaf","single-leaf"].includes(e.selectStrategy))&&h("div",null,[h(Ms,{key:v.value,modelValue:C.isSelected,loading:m,color:e.selectedColor,indeterminate:C.isIndeterminate,indeterminateIcon:e.indeterminateIcon,falseIcon:e.falseIcon,trueIcon:e.trueIcon,onClick:Tl(()=>a(C.select,C.isSelected),["stop"]),onKeydown:R=>{["Enter","Space"].includes(R.key)&&(R.stopPropagation(),a(C.select,C.isSelected))}},null)]),(k=i.prepend)==null?void 0:k.call(i,{...C,item:v})])},append:i.append?C=>{var k;return(k=i.append)==null?void 0:k.call(i,{...C,item:v})}:void 0,title:i.title?C=>{var k;return(k=i.title)==null?void 0:k.call(i,{...C,item:v})}:void 0},_=ww.filterProps(f),y=bg.filterProps(e);return c?h(ww,Z(_,{value:e.returnObject?v:_==null?void 0:_.value}),{activator:C=>{let{props:k}=C;const R={...f,...k,value:f==null?void 0:f.value,onToggleExpand:[()=>o(v),k.onClick],onClick:s.value?[()=>o(v),k.onClick]:void 0};return h(Sw,Z(R,{value:e.returnObject?Ge(v):f.value,loading:m}),p)},default:()=>h(bg,Z(y,{items:c,returnObject:e.returnObject}),i)}):((b=i.item)==null?void 0:b.call(i,{props:f}))??h(Sw,Z(f,{value:e.returnObject?Ge(v):f.value}),p)}))}}});function i4(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];for(const n of e)t.push(n),n.children&&i4(n.children,t);return t}const Bae=te({openAll:Boolean,search:String,...Qc({filterKeys:["title"]}),...n4(),...zt(o$({collapseIcon:"$treeviewCollapse",expandIcon:"$treeviewExpand",slim:!0}),["itemType","nav","openStrategy"]),modelValue:{type:Array,default:()=>[]}},"VTreeview"),Uae=fe()({name:"VTreeview",props:Bae(),emits:{"update:opened":e=>!0,"update:activated":e=>!0,"update:selected":e=>!0,"update:modelValue":e=>!0,"click:open":e=>!0,"click:select":e=>!0},setup(e,t){let{slots:n}=t;const{items:i}=s$(e),r=de(e,"activeColor"),s=de(e,"baseColor"),o=de(e,"color"),a=je(e,"activated"),l=je(e,"modelValue"),u=je(e,"selected",e.modelValue),d=I({get:()=>u.value,set(C){u.value=C,l.value=C}}),c=W(),f=I(()=>e.openAll?b(i.value):e.opened),v=I(()=>i4(i.value)),m=de(e,"search"),{filteredItems:p}=Jc(e,v,m),_=I(()=>{var k;if(!m.value)return null;const C=(k=c.value)==null?void 0:k.getPath;return C?new Set(p.value.flatMap(R=>[...C(R.props.value),...y(R.props.value)])):null});function y(C){var O,x;const k=[],R=(((O=c.value)==null?void 0:O.children.get(C))??[]).slice();for(;R.length;){const S=R.shift();S&&(k.push(S),R.push(...(((x=c.value)==null?void 0:x.children.get(S))??[]).slice()))}return k}function b(C){let k=[];for(const R of C)R.children&&(k.push(e.returnObject?Ge(R.raw):R.value),R.children&&(k=k.concat(b(R.children))));return k}return Ut(t4,{visibleIds:_}),yn({VTreeviewGroup:{activeColor:r,baseColor:s,color:o,collapseIcon:de(e,"collapseIcon"),expandIcon:de(e,"expandIcon")},VTreeviewItem:{activeClass:de(e,"activeClass"),activeColor:r,baseColor:s,color:o,density:de(e,"density"),disabled:de(e,"disabled"),lines:de(e,"lines"),variant:de(e,"variant")}}),ve(()=>{const C=Sc.filterProps(e),k=bg.filterProps(e);return h(Sc,Z({ref:c},C,{class:["v-treeview",e.class],"open-strategy":"multiple",style:e.style,opened:f.value,activated:a.value,"onUpdate:activated":R=>a.value=R,selected:d.value,"onUpdate:selected":R=>d.value=R}),{default:()=>[h(bg,Z(k,{returnObject:e.returnObject,items:i.value}),n)]})}),{}}}),jae=Object.freeze(Object.defineProperty({__proto__:null,VCalendar:yae,VCalendarDay:gm,VCalendarHeader:_w,VCalendarInterval:pw,VCalendarIntervalEvent:gw,VCalendarMonthDay:QB,VDateInput:wae,VNumberInput:Eae,VPicker:Yf,VPickerTitle:CB,VPullToRefresh:Aae,VSnackbarQueue:xae,VStepperVertical:Iae,VStepperVerticalActions:JB,VStepperVerticalItem:ZB,VTimePicker:Lae,VTimePickerClock:yw,VTimePickerControls:bw,VTreeview:Uae,VTreeviewGroup:ww,VTreeviewItem:Sw},Symbol.toStringTag,{value:"Module"})),Hae={badge:"Distintivo",open:"Apri",close:"Chiudi",dismiss:"Dismiss",confirmEdit:{ok:"OK",cancel:"Annulla"},dataIterator:{noResultsText:"Nessun risultato trovato",loadingText:"Caricamento in corso..."},dataTable:{itemsPerPageText:"Righe per pagina:",ariaLabel:{sortDescending:"Ordinati in ordine decrescente.",sortAscending:"Ordinati in ordine crescente.",sortNone:"Non ordinato.",activateNone:"Attiva per rimuovere l'ordinamento.",activateDescending:"Attiva per ordinare in ordine decrescente.",activateAscending:"Attiva per ordinare in ordine crescente."},sortBy:"Ordina per"},dataFooter:{itemsPerPageText:"Elementi per pagina:",itemsPerPageAll:"Tutti",nextPage:"Pagina seguente",prevPage:"Pagina precedente",firstPage:"Prima pagina",lastPage:"Ultima pagina",pageText:"{0}-{1} di {2}"},dateRangeInput:{divider:"a"},datePicker:{itemsSelected:"{0} selected",range:{title:"Seleziona date",header:"Inserisci date"},title:"Seleziona data",header:"Inserisci data",input:{placeholder:"Inserisci data"}},noDataText:"Nessun elemento disponibile",carousel:{prev:"Vista precedente",next:"Prossima vista",ariaLabel:{delimiter:"Slide carosello {0} di {1}"}},calendar:{moreEvents:"{0} di più",today:"Today"},input:{clear:"Cancella {0}",prependAction:"Azione precedente {0}",appendAction:"Azione successiva {0}",otp:"Inserisci il codice OTP {0}"},fileInput:{counter:"{0} file",counterSize:"{0} file ({1} in totale)"},timePicker:{am:"AM",pm:"PM",title:"Select Time"},pagination:{ariaLabel:{root:"Navigazione impaginazione",next:"Pagina seguente",previous:"Pagina precedente",page:"Vai alla pagina {0}",currentPage:"Pagina corrente, pagina {0}",first:"Prima pagina",last:"Ultima pagina"}},stepper:{next:"Successivo",prev:"Precedente"},rating:{ariaLabel:{item:"Valutazione {0} di {1}"}},loading:"Caricamento...",infiniteScroll:{loadMore:"Carica altro",empty:"Nessun elemento"}},Wae={dark:!1,colors:{background:"#FFFFFF",surface:"#FFFFFF",primary:"#6200EE","primary-darken-1":"#3700B3",secondary:"#03DAC6","secondary-darken-1":"#018786",error:"#B00020",info:"#2196F3",success:"#4CAF50",warning:"#FB8C00","blue-grey-lighten":"#37474F"}},zae={dark:!0,colors:{success:"#78dc77",secondary:"#000000",primary:"#cfbdff",info:"#9ecaff","blue-grey-lighten":"#ECEFF1"}},Gae=cF({components:{...nae,...jae},directives:vae,theme:{defaultTheme:"myCustomLightTheme",themes:{myCustomLightTheme:Wae,myCustomDarkTheme:zae}},locale:{locale:"it",fallback:"en",messages:{en:KL,it:Hae}},date:{locale:{it:"it-IT"}}});var I_,yt,r4,s4,tl,rx,o4,Ew,mC,Cw,kw,a4,Xf={},l4=[],qae=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,A_=Array.isArray;function ra(e,t){for(var n in t)e[n]=t[n];return e}function u4(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function Hl(e,t,n){var i,r,s,o={};for(s in t)s=="key"?i=t[s]:s=="ref"?r=t[s]:o[s]=t[s];if(arguments.length>2&&(o.children=arguments.length>3?I_.call(arguments,2):n),typeof e=="function"&&e.defaultProps!=null)for(s in e.defaultProps)o[s]===void 0&&(o[s]=e.defaultProps[s]);return pm(e,o,i,r,null)}function pm(e,t,n,i,r){var s={type:e,props:t,key:n,ref:i,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:r??++r4,__i:-1,__u:0};return r==null&&yt.vnode!=null&&yt.vnode(s),s}function Ot(e){return e.children}function As(e,t){this.props=e,this.context=t}function Ec(e,t){if(t==null)return e.__?Ec(e.__,e.__i+1):null;for(var n;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null)return n.__e;return typeof e.type=="function"?Ec(e):null}function c4(e){var t,n;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null){e.__e=e.__c.base=n.__e;break}return c4(e)}}function Tw(e){(!e.__d&&(e.__d=!0)&&tl.push(e)&&!wg.__r++||rx!==yt.debounceRendering)&&((rx=yt.debounceRendering)||o4)(wg)}function wg(){var e,t,n,i,r,s,o,a;for(tl.sort(Ew);e=tl.shift();)e.__d&&(t=tl.length,i=void 0,s=(r=(n=e).__v).__e,o=[],a=[],n.__P&&((i=ra({},r)).__v=r.__v+1,yt.vnode&&yt.vnode(i),gC(n.__P,i,r,n.__n,n.__P.namespaceURI,32&r.__u?[s]:null,o,s??Ec(r),!!(32&r.__u),a),i.__v=r.__v,i.__.__k[i.__i]=i,h4(o,i,a),i.__e!=s&&c4(i)),tl.length>t&&tl.sort(Ew));wg.__r=0}function d4(e,t,n,i,r,s,o,a,l,u,d){var c,f,v,m,p,_=i&&i.__k||l4,y=t.length;for(n.__d=l,Yae(n,t,_),l=n.__d,c=0;c<y;c++)(v=n.__k[c])!=null&&(f=v.__i===-1?Xf:_[v.__i]||Xf,v.__i=c,gC(e,v,f,r,s,o,a,l,u,d),m=v.__e,v.ref&&f.ref!=v.ref&&(f.ref&&pC(f.ref,null,v),d.push(v.ref,v.__c||m,v)),p==null&&m!=null&&(p=m),65536&v.__u||f.__k===v.__k?l=f4(v,l,e):typeof v.type=="function"&&v.__d!==void 0?l=v.__d:m&&(l=m.nextSibling),v.__d=void 0,v.__u&=-196609);n.__d=l,n.__e=p}function Yae(e,t,n){var i,r,s,o,a,l=t.length,u=n.length,d=u,c=0;for(e.__k=[],i=0;i<l;i++)(r=t[i])!=null&&typeof r!="boolean"&&typeof r!="function"?(o=i+c,(r=e.__k[i]=typeof r=="string"||typeof r=="number"||typeof r=="bigint"||r.constructor==String?pm(null,r,null,null,null):A_(r)?pm(Ot,{children:r},null,null,null):r.constructor===void 0&&r.__b>0?pm(r.type,r.props,r.key,r.ref?r.ref:null,r.__v):r).__=e,r.__b=e.__b+1,s=null,(a=r.__i=Kae(r,n,o,d))!==-1&&(d--,(s=n[a])&&(s.__u|=131072)),s==null||s.__v===null?(a==-1&&c--,typeof r.type!="function"&&(r.__u|=65536)):a!==o&&(a==o-1?c--:a==o+1?c++:(a>o?c--:c++,r.__u|=65536))):r=e.__k[i]=null;if(d)for(i=0;i<u;i++)(s=n[i])!=null&&!(131072&s.__u)&&(s.__e==e.__d&&(e.__d=Ec(s)),v4(s,s))}function f4(e,t,n){var i,r;if(typeof e.type=="function"){for(i=e.__k,r=0;i&&r<i.length;r++)i[r]&&(i[r].__=e,t=f4(i[r],t,n));return t}e.__e!=t&&(t&&e.type&&!n.contains(t)&&(t=Ec(e)),n.insertBefore(e.__e,t||null),t=e.__e);do t=t&&t.nextSibling;while(t!=null&&t.nodeType===8);return t}function Sg(e,t){return t=t||[],e==null||typeof e=="boolean"||(A_(e)?e.some(function(n){Sg(n,t)}):t.push(e)),t}function Kae(e,t,n,i){var r=e.key,s=e.type,o=n-1,a=n+1,l=t[n];if(l===null||l&&r==l.key&&s===l.type&&!(131072&l.__u))return n;if(i>(l!=null&&!(131072&l.__u)?1:0))for(;o>=0||a<t.length;){if(o>=0){if((l=t[o])&&!(131072&l.__u)&&r==l.key&&s===l.type)return o;o--}if(a<t.length){if((l=t[a])&&!(131072&l.__u)&&r==l.key&&s===l.type)return a;a++}}return-1}function sx(e,t,n){t[0]==="-"?e.setProperty(t,n??""):e[t]=n==null?"":typeof n!="number"||qae.test(t)?n:n+"px"}function Nv(e,t,n,i,r){var s;e:if(t==="style")if(typeof n=="string")e.style.cssText=n;else{if(typeof i=="string"&&(e.style.cssText=i=""),i)for(t in i)n&&t in n||sx(e.style,t,"");if(n)for(t in n)i&&n[t]===i[t]||sx(e.style,t,n[t])}else if(t[0]==="o"&&t[1]==="n")s=t!==(t=t.replace(/(PointerCapture)$|Capture$/i,"$1")),t=t.toLowerCase()in e||t==="onFocusOut"||t==="onFocusIn"?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+s]=n,n?i?n.u=i.u:(n.u=mC,e.addEventListener(t,s?kw:Cw,s)):e.removeEventListener(t,s?kw:Cw,s);else{if(r=="http://www.w3.org/2000/svg")t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(t!="width"&&t!="height"&&t!="href"&&t!="list"&&t!="form"&&t!="tabIndex"&&t!="download"&&t!="rowSpan"&&t!="colSpan"&&t!="role"&&t!="popover"&&t in e)try{e[t]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&t[4]!=="-"?e.removeAttribute(t):e.setAttribute(t,t=="popover"&&n==1?"":n))}}function ox(e){return function(t){if(this.l){var n=this.l[t.type+e];if(t.t==null)t.t=mC++;else if(t.t<n.u)return;return n(yt.event?yt.event(t):t)}}}function gC(e,t,n,i,r,s,o,a,l,u){var d,c,f,v,m,p,_,y,b,C,k,R,O,x,S,w,E=t.type;if(t.constructor!==void 0)return null;128&n.__u&&(l=!!(32&n.__u),s=[a=t.__e=n.__e]),(d=yt.__b)&&d(t);e:if(typeof E=="function")try{if(y=t.props,b="prototype"in E&&E.prototype.render,C=(d=E.contextType)&&i[d.__c],k=d?C?C.props.value:d.__:i,n.__c?_=(c=t.__c=n.__c).__=c.__E:(b?t.__c=c=new E(y,k):(t.__c=c=new As(y,k),c.constructor=E,c.render=Qae),C&&C.sub(c),c.props=y,c.state||(c.state={}),c.context=k,c.__n=i,f=c.__d=!0,c.__h=[],c._sb=[]),b&&c.__s==null&&(c.__s=c.state),b&&E.getDerivedStateFromProps!=null&&(c.__s==c.state&&(c.__s=ra({},c.__s)),ra(c.__s,E.getDerivedStateFromProps(y,c.__s))),v=c.props,m=c.state,c.__v=t,f)b&&E.getDerivedStateFromProps==null&&c.componentWillMount!=null&&c.componentWillMount(),b&&c.componentDidMount!=null&&c.__h.push(c.componentDidMount);else{if(b&&E.getDerivedStateFromProps==null&&y!==v&&c.componentWillReceiveProps!=null&&c.componentWillReceiveProps(y,k),!c.__e&&(c.shouldComponentUpdate!=null&&c.shouldComponentUpdate(y,c.__s,k)===!1||t.__v===n.__v)){for(t.__v!==n.__v&&(c.props=y,c.state=c.__s,c.__d=!1),t.__e=n.__e,t.__k=n.__k,t.__k.some(function(A){A&&(A.__=t)}),R=0;R<c._sb.length;R++)c.__h.push(c._sb[R]);c._sb=[],c.__h.length&&o.push(c);break e}c.componentWillUpdate!=null&&c.componentWillUpdate(y,c.__s,k),b&&c.componentDidUpdate!=null&&c.__h.push(function(){c.componentDidUpdate(v,m,p)})}if(c.context=k,c.props=y,c.__P=e,c.__e=!1,O=yt.__r,x=0,b){for(c.state=c.__s,c.__d=!1,O&&O(t),d=c.render(c.props,c.state,c.context),S=0;S<c._sb.length;S++)c.__h.push(c._sb[S]);c._sb=[]}else do c.__d=!1,O&&O(t),d=c.render(c.props,c.state,c.context),c.state=c.__s;while(c.__d&&++x<25);c.state=c.__s,c.getChildContext!=null&&(i=ra(ra({},i),c.getChildContext())),b&&!f&&c.getSnapshotBeforeUpdate!=null&&(p=c.getSnapshotBeforeUpdate(v,m)),d4(e,A_(w=d!=null&&d.type===Ot&&d.key==null?d.props.children:d)?w:[w],t,n,i,r,s,o,a,l,u),c.base=t.__e,t.__u&=-161,c.__h.length&&o.push(c),_&&(c.__E=c.__=null)}catch(A){if(t.__v=null,l||s!=null){for(t.__u|=l?160:128;a&&a.nodeType===8&&a.nextSibling;)a=a.nextSibling;s[s.indexOf(a)]=null,t.__e=a}else t.__e=n.__e,t.__k=n.__k;yt.__e(A,t,n)}else s==null&&t.__v===n.__v?(t.__k=n.__k,t.__e=n.__e):t.__e=Xae(n.__e,t,n,i,r,s,o,l,u);(d=yt.diffed)&&d(t)}function h4(e,t,n){t.__d=void 0;for(var i=0;i<n.length;i++)pC(n[i],n[++i],n[++i]);yt.__c&&yt.__c(t,e),e.some(function(r){try{e=r.__h,r.__h=[],e.some(function(s){s.call(r)})}catch(s){yt.__e(s,r.__v)}})}function Xae(e,t,n,i,r,s,o,a,l){var u,d,c,f,v,m,p,_=n.props,y=t.props,b=t.type;if(b==="svg"?r="http://www.w3.org/2000/svg":b==="math"?r="http://www.w3.org/1998/Math/MathML":r||(r="http://www.w3.org/1999/xhtml"),s!=null){for(u=0;u<s.length;u++)if((v=s[u])&&"setAttribute"in v==!!b&&(b?v.localName===b:v.nodeType===3)){e=v,s[u]=null;break}}if(e==null){if(b===null)return document.createTextNode(y);e=document.createElementNS(r,b,y.is&&y),a&&(yt.__m&&yt.__m(t,s),a=!1),s=null}if(b===null)_===y||a&&e.data===y||(e.data=y);else{if(s=s&&I_.call(e.childNodes),_=n.props||Xf,!a&&s!=null)for(_={},u=0;u<e.attributes.length;u++)_[(v=e.attributes[u]).name]=v.value;for(u in _)if(v=_[u],u!="children"){if(u=="dangerouslySetInnerHTML")c=v;else if(!(u in y)){if(u=="value"&&"defaultValue"in y||u=="checked"&&"defaultChecked"in y)continue;Nv(e,u,null,v,r)}}for(u in y)v=y[u],u=="children"?f=v:u=="dangerouslySetInnerHTML"?d=v:u=="value"?m=v:u=="checked"?p=v:a&&typeof v!="function"||_[u]===v||Nv(e,u,v,_[u],r);if(d)a||c&&(d.__html===c.__html||d.__html===e.innerHTML)||(e.innerHTML=d.__html),t.__k=[];else if(c&&(e.innerHTML=""),d4(e,A_(f)?f:[f],t,n,i,b==="foreignObject"?"http://www.w3.org/1999/xhtml":r,s,o,s?s[0]:n.__k&&Ec(n,0),a,l),s!=null)for(u=s.length;u--;)u4(s[u]);a||(u="value",b==="progress"&&m==null?e.removeAttribute("value"):m!==void 0&&(m!==e[u]||b==="progress"&&!m||b==="option"&&m!==_[u])&&Nv(e,u,m,_[u],r),u="checked",p!==void 0&&p!==e[u]&&Nv(e,u,p,_[u],r))}return e}function pC(e,t,n){try{if(typeof e=="function"){var i=typeof e.__u=="function";i&&e.__u(),i&&t==null||(e.__u=e(t))}else e.current=t}catch(r){yt.__e(r,n)}}function v4(e,t,n){var i,r;if(yt.unmount&&yt.unmount(e),(i=e.ref)&&(i.current&&i.current!==e.__e||pC(i,null,t)),(i=e.__c)!=null){if(i.componentWillUnmount)try{i.componentWillUnmount()}catch(s){yt.__e(s,t)}i.base=i.__P=null}if(i=e.__k)for(r=0;r<i.length;r++)i[r]&&v4(i[r],t,n||typeof e.type!="function");n||u4(e.__e),e.__c=e.__=e.__e=e.__d=void 0}function Qae(e,t,n){return this.constructor(e,n)}function Eg(e,t,n){var i,r,s,o;yt.__&&yt.__(e,t),r=(i=typeof n=="function")?null:t.__k,s=[],o=[],gC(t,e=(!i&&n||t).__k=Hl(Ot,null,[e]),r||Xf,Xf,t.namespaceURI,!i&&n?[n]:r?null:t.firstChild?I_.call(t.childNodes):null,s,!i&&n?n:r?r.__e:t.firstChild,i,o),h4(s,e,o)}function m4(e,t){var n={__c:t="__cC"+a4++,__:e,Consumer:function(i,r){return i.children(r)},Provider:function(i){var r,s;return this.getChildContext||(r=new Set,(s={})[t]=this,this.getChildContext=function(){return s},this.componentWillUnmount=function(){r=null},this.shouldComponentUpdate=function(o){this.props.value!==o.value&&r.forEach(function(a){a.__e=!0,Tw(a)})},this.sub=function(o){r.add(o);var a=o.componentWillUnmount;o.componentWillUnmount=function(){r&&r.delete(o),a&&a.call(o)}}),i.children}};return n.Provider.__=n.Consumer.contextType=n}I_=l4.slice,yt={__e:function(e,t,n,i){for(var r,s,o;t=t.__;)if((r=t.__c)&&!r.__)try{if((s=r.constructor)&&s.getDerivedStateFromError!=null&&(r.setState(s.getDerivedStateFromError(e)),o=r.__d),r.componentDidCatch!=null&&(r.componentDidCatch(e,i||{}),o=r.__d),o)return r.__E=r}catch(a){e=a}throw e}},r4=0,s4=function(e){return e!=null&&e.constructor==null},As.prototype.setState=function(e,t){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=ra({},this.state),typeof e=="function"&&(e=e(ra({},n),this.props)),e&&ra(n,e),e!=null&&this.__v&&(t&&this._sb.push(t),Tw(this))},As.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),Tw(this))},As.prototype.render=Ot,tl=[],o4=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Ew=function(e,t){return e.__v.__b-t.__v.__b},wg.__r=0,mC=0,Cw=ox(!1),kw=ox(!0),a4=0;var Jae=0;function K(e,t,n,i,r,s){t||(t={});var o,a,l=t;"ref"in t&&(o=t.ref,delete t.ref);var u={type:e,props:l,key:n,ref:o,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:--Jae,__i:-1,__u:0,__source:r,__self:s};if(typeof e=="function"&&(o=e.defaultProps))for(a in o)l[a]===void 0&&(l[a]=o[a]);return yt.vnode&&yt.vnode(u),u}var Cc,Nn,nb,ax,Cg=0,g4=[],Xn=yt,lx=Xn.__b,ux=Xn.__r,cx=Xn.diffed,dx=Xn.__c,fx=Xn.unmount,hx=Xn.__;function P_(e,t){Xn.__h&&Xn.__h(Nn,e,Cg||t),Cg=0;var n=Nn.__H||(Nn.__H={__:[],__h:[]});return e>=n.__.length&&n.__.push({}),n.__[e]}function Et(e){return Cg=1,Zae(_4,e)}function Zae(e,t,n){var i=P_(Cc++,2);if(i.t=e,!i.__c&&(i.__=[n?n(t):_4(void 0,t),function(a){var l=i.__N?i.__N[0]:i.__[0],u=i.t(l,a);l!==u&&(i.__N=[u,i.__[1]],i.__c.setState({}))}],i.__c=Nn,!Nn.u)){var r=function(a,l,u){if(!i.__c.__H)return!0;var d=i.__c.__H.__.filter(function(f){return!!f.__c});if(d.every(function(f){return!f.__N}))return!s||s.call(this,a,l,u);var c=!1;return d.forEach(function(f){if(f.__N){var v=f.__[0];f.__=f.__N,f.__N=void 0,v!==f.__[0]&&(c=!0)}}),!(!c&&i.__c.props===a)&&(!s||s.call(this,a,l,u))};Nn.u=!0;var s=Nn.shouldComponentUpdate,o=Nn.componentWillUpdate;Nn.componentWillUpdate=function(a,l,u){if(this.__e){var d=s;s=void 0,r(a,l,u),s=d}o&&o.call(this,a,l,u)},Nn.shouldComponentUpdate=r}return i.__N||i.__}function Xt(e,t){var n=P_(Cc++,3);!Xn.__s&&p4(n.__H,t)&&(n.__=e,n.i=t,Nn.__H.__h.push(n))}function ele(e){return Cg=5,_C(function(){return{current:e}},[])}function _C(e,t){var n=P_(Cc++,7);return p4(n.__H,t)&&(n.__=e(),n.__H=t,n.__h=e),n.__}function Vn(e){var t=Nn.context[e.__c],n=P_(Cc++,9);return n.c=e,t?(n.__==null&&(n.__=!0,t.sub(Nn)),t.props.value):e.__}function tle(){for(var e;e=g4.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(_m),e.__H.__h.forEach(Iw),e.__H.__h=[]}catch(t){e.__H.__h=[],Xn.__e(t,e.__v)}}Xn.__b=function(e){Nn=null,lx&&lx(e)},Xn.__=function(e,t){e&&t.__k&&t.__k.__m&&(e.__m=t.__k.__m),hx&&hx(e,t)},Xn.__r=function(e){ux&&ux(e),Cc=0;var t=(Nn=e.__c).__H;t&&(nb===Nn?(t.__h=[],Nn.__h=[],t.__.forEach(function(n){n.__N&&(n.__=n.__N),n.i=n.__N=void 0})):(t.__h.forEach(_m),t.__h.forEach(Iw),t.__h=[],Cc=0)),nb=Nn},Xn.diffed=function(e){cx&&cx(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(g4.push(t)!==1&&ax===Xn.requestAnimationFrame||((ax=Xn.requestAnimationFrame)||nle)(tle)),t.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.i=void 0})),nb=Nn=null},Xn.__c=function(e,t){t.some(function(n){try{n.__h.forEach(_m),n.__h=n.__h.filter(function(i){return!i.__||Iw(i)})}catch(i){t.some(function(r){r.__h&&(r.__h=[])}),t=[],Xn.__e(i,n.__v)}}),dx&&dx(e,t)},Xn.unmount=function(e){fx&&fx(e);var t,n=e.__c;n&&n.__H&&(n.__H.__.forEach(function(i){try{_m(i)}catch(r){t=r}}),n.__H=void 0,t&&Xn.__e(t,n.__v))};var vx=typeof requestAnimationFrame=="function";function nle(e){var t,n=function(){clearTimeout(i),vx&&cancelAnimationFrame(t),setTimeout(e)},i=setTimeout(n,100);vx&&(t=requestAnimationFrame(n))}function _m(e){var t=Nn,n=e.__c;typeof n=="function"&&(e.__c=void 0,n()),Nn=t}function Iw(e){var t=Nn;e.__c=e.__(),Nn=t}function p4(e,t){return!e||e.length!==t.length||t.some(function(n,i){return n!==e[i]})}function _4(e,t){return typeof t=="function"?t(e):t}function mx(e,t){for(var n in e)if(n!=="__source"&&!(n in t))return!0;for(var i in t)if(i!=="__source"&&e[i]!==t[i])return!0;return!1}function gx(e,t){this.props=e,this.context=t}(gx.prototype=new As).isPureReactComponent=!0,gx.prototype.shouldComponentUpdate=function(e,t){return mx(this.props,e)||mx(this.state,t)};var px=yt.__b;yt.__b=function(e){e.type&&e.type.__f&&e.ref&&(e.props.ref=e.ref,e.ref=null),px&&px(e)};var ile=yt.__e;yt.__e=function(e,t,n,i){if(e.then){for(var r,s=t;s=s.__;)if((r=s.__c)&&r.__c)return t.__e==null&&(t.__e=n.__e,t.__k=n.__k),r.__c(e,t)}ile(e,t,n,i)};var _x=yt.unmount;function y4(e,t,n){return e&&(e.__c&&e.__c.__H&&(e.__c.__H.__.forEach(function(i){typeof i.__c=="function"&&i.__c()}),e.__c.__H=null),(e=function(i,r){for(var s in r)i[s]=r[s];return i}({},e)).__c!=null&&(e.__c.__P===n&&(e.__c.__P=t),e.__c=null),e.__k=e.__k&&e.__k.map(function(i){return y4(i,t,n)})),e}function b4(e,t,n){return e&&n&&(e.__v=null,e.__k=e.__k&&e.__k.map(function(i){return b4(i,t,n)}),e.__c&&e.__c.__P===t&&(e.__e&&n.appendChild(e.__e),e.__c.__e=!0,e.__c.__P=n)),e}function ib(){this.__u=0,this.t=null,this.__b=null}function w4(e){var t=e.__.__c;return t&&t.__a&&t.__a(e)}function Mv(){this.u=null,this.o=null}yt.unmount=function(e){var t=e.__c;t&&t.__R&&t.__R(),t&&32&e.__u&&(e.type=null),_x&&_x(e)},(ib.prototype=new As).__c=function(e,t){var n=t.__c,i=this;i.t==null&&(i.t=[]),i.t.push(n);var r=w4(i.__v),s=!1,o=function(){s||(s=!0,n.__R=null,r?r(a):a())};n.__R=o;var a=function(){if(!--i.__u){if(i.state.__a){var l=i.state.__a;i.__v.__k[0]=b4(l,l.__c.__P,l.__c.__O)}var u;for(i.setState({__a:i.__b=null});u=i.t.pop();)u.forceUpdate()}};i.__u++||32&t.__u||i.setState({__a:i.__b=i.__v.__k[0]}),e.then(o,o)},ib.prototype.componentWillUnmount=function(){this.t=[]},ib.prototype.render=function(e,t){if(this.__b){if(this.__v.__k){var n=document.createElement("div"),i=this.__v.__k[0].__c;this.__v.__k[0]=y4(this.__b,n,i.__O=i.__P)}this.__b=null}var r=t.__a&&Hl(Ot,null,e.fallback);return r&&(r.__u&=-33),[Hl(Ot,null,t.__a?null:e.children),r]};var yx=function(e,t,n){if(++n[1]===n[0]&&e.o.delete(t),e.props.revealOrder&&(e.props.revealOrder[0]!=="t"||!e.o.size))for(n=e.u;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;e.u=n=n[2]}};function rle(e){return this.getChildContext=function(){return e.context},e.children}function sle(e){var t=this,n=e.i;t.componentWillUnmount=function(){Eg(null,t.l),t.l=null,t.i=null},t.i&&t.i!==n&&t.componentWillUnmount(),t.l||(t.i=n,t.l={nodeType:1,parentNode:n,childNodes:[],contains:function(){return!0},appendChild:function(i){this.childNodes.push(i),t.i.appendChild(i)},insertBefore:function(i,r){this.childNodes.push(i),t.i.appendChild(i)},removeChild:function(i){this.childNodes.splice(this.childNodes.indexOf(i)>>>1,1),t.i.removeChild(i)}}),Eg(Hl(rle,{context:t.context},e.__v),t.l)}function ole(e,t){var n=Hl(sle,{__v:e,i:t});return n.containerInfo=t,n}(Mv.prototype=new As).__a=function(e){var t=this,n=w4(t.__v),i=t.o.get(e);return i[0]++,function(r){var s=function(){t.props.revealOrder?(i.push(r),yx(t,e,i)):r()};n?n(s):s()}},Mv.prototype.render=function(e){this.u=null,this.o=new Map;var t=Sg(e.children);e.revealOrder&&e.revealOrder[0]==="b"&&t.reverse();for(var n=t.length;n--;)this.o.set(t[n],this.u=[1,0,this.u]);return e.children},Mv.prototype.componentDidUpdate=Mv.prototype.componentDidMount=function(){var e=this;this.o.forEach(function(t,n){yx(e,n,t)})};var ale=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,lle=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,ule=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,cle=/[A-Z0-9]/g,dle=typeof document<"u",fle=function(e){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/:/fil|che|ra/).test(e)};As.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(e){Object.defineProperty(As.prototype,e,{configurable:!0,get:function(){return this["UNSAFE_"+e]},set:function(t){Object.defineProperty(this,e,{configurable:!0,writable:!0,value:t})}})});var bx=yt.event;function hle(){}function vle(){return this.cancelBubble}function mle(){return this.defaultPrevented}yt.event=function(e){return bx&&(e=bx(e)),e.persist=hle,e.isPropagationStopped=vle,e.isDefaultPrevented=mle,e.nativeEvent=e};var gle={enumerable:!1,configurable:!0,get:function(){return this.class}},wx=yt.vnode;yt.vnode=function(e){typeof e.type=="string"&&function(t){var n=t.props,i=t.type,r={},s=i.indexOf("-")===-1;for(var o in n){var a=n[o];if(!(o==="value"&&"defaultValue"in n&&a==null||dle&&o==="children"&&i==="noscript"||o==="class"||o==="className")){var l=o.toLowerCase();o==="defaultValue"&&"value"in n&&n.value==null?o="value":o==="download"&&a===!0?a="":l==="translate"&&a==="no"?a=!1:l[0]==="o"&&l[1]==="n"?l==="ondoubleclick"?o="ondblclick":l!=="onchange"||i!=="input"&&i!=="textarea"||fle(n.type)?l==="onfocus"?o="onfocusin":l==="onblur"?o="onfocusout":ule.test(o)&&(o=l):l=o="oninput":s&&lle.test(o)?o=o.replace(cle,"-$&").toLowerCase():a===null&&(a=void 0),l==="oninput"&&r[o=l]&&(o="oninputCapture"),r[o]=a}}i=="select"&&r.multiple&&Array.isArray(r.value)&&(r.value=Sg(n.children).forEach(function(u){u.props.selected=r.value.indexOf(u.props.value)!=-1})),i=="select"&&r.defaultValue!=null&&(r.value=Sg(n.children).forEach(function(u){u.props.selected=r.multiple?r.defaultValue.indexOf(u.props.value)!=-1:r.defaultValue==u.props.value})),n.class&&!n.className?(r.class=n.class,Object.defineProperty(r,"className",gle)):(n.className&&!n.class||n.class&&n.className)&&(r.class=r.className=n.className),t.props=r}(e),e.$$typeof=ale,wx&&wx(e)};var Sx=yt.__r;yt.__r=function(e){Sx&&Sx(e),e.__c};var Ex=yt.diffed;yt.diffed=function(e){Ex&&Ex(e);var t=e.props,n=e.__e;n!=null&&e.type==="textarea"&&"value"in t&&t.value!==n.value&&(n.value=t.value==null?"":t.value)};var ple=Symbol.for("preact-signals");function x_(){if(da>1)da--;else{for(var e,t=!1;sf!==void 0;){var n=sf;for(sf=void 0,Pw++;n!==void 0;){var i=n.o;if(n.o=void 0,n.f&=-3,!(8&n.f)&&E4(n))try{n.c()}catch(r){t||(e=r,t=!0)}n=i}}if(Pw=0,da--,t)throw e}}function Aw(e){if(da>0)return e();da++;try{return e()}finally{x_()}}var un=void 0,sf=void 0,da=0,Pw=0,kg=0;function S4(e){if(un!==void 0){var t=e.n;if(t===void 0||t.t!==un)return t={i:0,S:e,p:un.s,n:void 0,t:un,e:void 0,x:void 0,r:t},un.s!==void 0&&(un.s.n=t),un.s=t,e.n=t,32&un.f&&e.S(t),t;if(t.i===-1)return t.i=0,t.n!==void 0&&(t.n.p=t.p,t.p!==void 0&&(t.p.n=t.n),t.p=un.s,t.n=void 0,un.s.n=t,un.s=t),t}}function Ti(e){this.v=e,this.i=0,this.n=void 0,this.t=void 0}Ti.prototype.brand=ple;Ti.prototype.h=function(){return!0};Ti.prototype.S=function(e){this.t!==e&&e.e===void 0&&(e.x=this.t,this.t!==void 0&&(this.t.e=e),this.t=e)};Ti.prototype.U=function(e){if(this.t!==void 0){var t=e.e,n=e.x;t!==void 0&&(t.x=n,e.e=void 0),n!==void 0&&(n.e=t,e.x=void 0),e===this.t&&(this.t=n)}};Ti.prototype.subscribe=function(e){var t=this;return To(function(){var n=t.value,i=un;un=void 0;try{e(n)}finally{un=i}})};Ti.prototype.valueOf=function(){return this.value};Ti.prototype.toString=function(){return this.value+""};Ti.prototype.toJSON=function(){return this.value};Ti.prototype.peek=function(){var e=un;un=void 0;try{return this.value}finally{un=e}};Object.defineProperty(Ti.prototype,"value",{get:function(){var e=S4(this);return e!==void 0&&(e.i=this.i),this.v},set:function(e){if(e!==this.v){if(Pw>100)throw new Error("Cycle detected");this.v=e,this.i++,kg++,da++;try{for(var t=this.t;t!==void 0;t=t.x)t.t.N()}finally{x_()}}}});function $t(e){return new Ti(e)}function E4(e){for(var t=e.s;t!==void 0;t=t.n)if(t.S.i!==t.i||!t.S.h()||t.S.i!==t.i)return!0;return!1}function C4(e){for(var t=e.s;t!==void 0;t=t.n){var n=t.S.n;if(n!==void 0&&(t.r=n),t.S.n=t,t.i=-1,t.n===void 0){e.s=t;break}}}function k4(e){for(var t=e.s,n=void 0;t!==void 0;){var i=t.p;t.i===-1?(t.S.U(t),i!==void 0&&(i.n=t.n),t.n!==void 0&&(t.n.p=i)):n=t,t.S.n=t.r,t.r!==void 0&&(t.r=void 0),t=i}e.s=n}function Zc(e){Ti.call(this,void 0),this.x=e,this.s=void 0,this.g=kg-1,this.f=4}(Zc.prototype=new Ti).h=function(){if(this.f&=-3,1&this.f)return!1;if((36&this.f)==32||(this.f&=-5,this.g===kg))return!0;if(this.g=kg,this.f|=1,this.i>0&&!E4(this))return this.f&=-2,!0;var e=un;try{C4(this),un=this;var t=this.x();(16&this.f||this.v!==t||this.i===0)&&(this.v=t,this.f&=-17,this.i++)}catch(n){this.v=n,this.f|=16,this.i++}return un=e,k4(this),this.f&=-2,!0};Zc.prototype.S=function(e){if(this.t===void 0){this.f|=36;for(var t=this.s;t!==void 0;t=t.n)t.S.S(t)}Ti.prototype.S.call(this,e)};Zc.prototype.U=function(e){if(this.t!==void 0&&(Ti.prototype.U.call(this,e),this.t===void 0)){this.f&=-33;for(var t=this.s;t!==void 0;t=t.n)t.S.U(t)}};Zc.prototype.N=function(){if(!(2&this.f)){this.f|=6;for(var e=this.t;e!==void 0;e=e.x)e.t.N()}};Object.defineProperty(Zc.prototype,"value",{get:function(){if(1&this.f)throw new Error("Cycle detected");var e=S4(this);if(this.h(),e!==void 0&&(e.i=this.i),16&this.f)throw this.v;return this.v}});function T4(e){return new Zc(e)}function I4(e){var t=e.u;if(e.u=void 0,typeof t=="function"){da++;var n=un;un=void 0;try{t()}catch(i){throw e.f&=-2,e.f|=8,yC(e),i}finally{un=n,x_()}}}function yC(e){for(var t=e.s;t!==void 0;t=t.n)t.S.U(t);e.x=void 0,e.s=void 0,I4(e)}function _le(e){if(un!==this)throw new Error("Out-of-order effect");k4(this),un=e,this.f&=-2,8&this.f&&yC(this),x_()}function jh(e){this.x=e,this.u=void 0,this.s=void 0,this.o=void 0,this.f=32}jh.prototype.c=function(){var e=this.S();try{if(8&this.f||this.x===void 0)return;var t=this.x();typeof t=="function"&&(this.u=t)}finally{e()}};jh.prototype.S=function(){if(1&this.f)throw new Error("Cycle detected");this.f|=1,this.f&=-9,I4(this),C4(this),da++;var e=un;return un=this,_le.bind(this,e)};jh.prototype.N=function(){2&this.f||(this.f|=2,this.o=sf,sf=this)};jh.prototype.d=function(){this.f|=8,1&this.f||yC(this)};function To(e){var t=new jh(e);try{t.c()}catch(n){throw t.d(),n}return t.d.bind(t)}var rb;function ed(e,t){yt[e]=t.bind(null,yt[e]||function(){})}function Tg(e){rb&&rb(),rb=e&&e.S()}function A4(e){var t=this,n=e.data,i=ble(n);i.value=n;var r=_C(function(){for(var s=t.__v;s=s.__;)if(s.__c){s.__c.__$f|=4;break}return t.__$u.c=function(){var o;!s4(r.peek())&&((o=t.base)==null?void 0:o.nodeType)===3?t.base.data=r.peek():(t.__$f|=1,t.setState({}))},T4(function(){var o=i.value.value;return o===0?0:o===!0?"":o||""})},[]);return r.value}A4.displayName="_st";Object.defineProperties(Ti.prototype,{constructor:{configurable:!0,value:void 0},type:{configurable:!0,value:A4},props:{configurable:!0,get:function(){return{data:this}}},__b:{configurable:!0,value:1}});ed("__b",function(e,t){if(typeof t.type=="string"){var n,i=t.props;for(var r in i)if(r!=="children"){var s=i[r];s instanceof Ti&&(n||(t.__np=n={}),n[r]=s,i[r]=s.peek())}}e(t)});ed("__r",function(e,t){Tg();var n,i=t.__c;i&&(i.__$f&=-2,(n=i.__$u)===void 0&&(i.__$u=n=function(r){var s;return To(function(){s=this}),s.c=function(){i.__$f|=1,i.setState({})},s}())),Tg(n),e(t)});ed("__e",function(e,t,n,i){Tg(),e(t,n,i)});ed("diffed",function(e,t){Tg();var n;if(typeof t.type=="string"&&(n=t.__e)){var i=t.__np,r=t.props;if(i){var s=n.U;if(s)for(var o in s){var a=s[o];a!==void 0&&!(o in i)&&(a.d(),s[o]=void 0)}else n.U=s={};for(var l in i){var u=s[l],d=i[l];u===void 0?(u=yle(n,l,d,r),s[l]=u):u.o(d,r)}}}e(t)});function yle(e,t,n,i){var r=t in e&&e.ownerSVGElement===void 0,s=$t(n);return{o:function(o,a){s.value=o,i=a},d:To(function(){var o=s.value.value;i[t]!==o&&(i[t]=o,r?e[t]=o:o?e.setAttribute(t,o):e.removeAttribute(t))})}}ed("unmount",function(e,t){if(typeof t.type=="string"){var n=t.__e;if(n){var i=n.U;if(i){n.U=void 0;for(var r in i){var s=i[r];s&&s.d()}}}}else{var o=t.__c;if(o){var a=o.__$u;a&&(o.__$u=void 0,a.d())}}e(t)});ed("__h",function(e,t,n,i){(i<3||i===9)&&(t.__$f|=2),e(t,n,i)});As.prototype.shouldComponentUpdate=function(e,t){var n=this.__$u;if(!(n&&n.s!==void 0||4&this.__$f)||3&this.__$f)return!0;for(var i in t)return!0;for(var r in e)if(r!=="__source"&&e[r]!==this.props[r])return!0;for(var s in this.props)if(!(s in e))return!0;return!1};function ble(e){return _C(function(){return $t(e)},[])}function fa(e){var t=ele(e);t.current=e,Xt(function(){return To(function(){return t.current()})},[])}const Mo=m4({}),Cx={DATE_STRING:/^\d{4}-\d{2}-\d{2}$/,TIME_STRING:/^\d{2}:\d{2}$/,DATE_TIME_STRING:/^\d{4}-\d{2}-\d{2} \d{2}:\d{2}$/};let wle=class extends Error{constructor(t){super(`Invalid date time specification: ${t}`)}};const nn=e=>{if(!Cx.DATE_TIME_STRING.test(e)&&!Cx.DATE_STRING.test(e))throw new wle(e);return new Date(Number(e.slice(0,4)),Number(e.slice(5,7))-1,Number(e.slice(8,10)),Number(e.slice(11,13)),Number(e.slice(14,16)))},Tr=e=>{const t=e.slice(11,13),n=e.slice(14,16);return{year:Number(e.slice(0,4)),month:Number(e.slice(5,7))-1,date:Number(e.slice(8,10)),hours:t!==""?Number(t):void 0,minutes:n!==""?Number(n):void 0}},P4=(e,t)=>e.toLocaleString(t,{month:"long"}),Sle=(e,t)=>e.toLocaleString(t,{month:"numeric",day:"numeric",year:"numeric"}),Ele=(e,t)=>e.map(n=>n.toLocaleString(t,{weekday:"short"}).charAt(0)),bC=(e,t)=>e.toLocaleString(t,{weekday:"short"}),Cle=(e,t)=>e.map(n=>bC(n,t)),x4=(e,t)=>["zh-cn","ca-es"].includes(t.toLowerCase())?Cle(e,t):Ele(e,t);var kle="data:image/svg+xml,%3c%3fxml version='1.0' encoding='utf-8'%3f%3e%3c!-- Uploaded to: SVG Repo%2c www.svgrepo.com%2c Generator: SVG Repo Mixer Tools --%3e%3csvg width='800px' height='800px' viewBox='0 0 24 24' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3cpath d='M6 9L12 15L18 9' stroke='%23DED8E1' stroke-width='4' stroke-linecap='round' stroke-linejoin='round'/%3e%3c/svg%3e";const Ki=()=>"s"+Math.random().toString(36).substring(2,11),Ig=e=>e.key==="Enter"||e.key===" ";function Tle(){const e=Ki(),t=Ki(),n=Ki(),i=Vn(Mo),r=f=>f===""?i.translate("MM/DD/YYYY"):Sle(nn(f),i.config.locale.value);Xt(()=>{i.datePickerState.inputDisplayedValue.value=r(i.datePickerState.selectedDate.value)},[i.datePickerState.selectedDate.value,i.config.locale.value]);const[s,o]=Et([]),a=()=>{const f=document.getElementById(n);i.datePickerState.inputWrapperElement.value=f instanceof HTMLDivElement?f:void 0};Xt(()=>{i.config.teleportTo&&a();const f=["sx__date-input-wrapper"];i.datePickerState.isOpen.value&&f.push("sx__date-input--active"),o(f)},[i.datePickerState.isOpen.value]);const l=f=>{f.key==="Enter"&&u(f)},u=f=>{f.stopPropagation();try{i.datePickerState.inputDisplayedValue.value=f.target.value,i.datePickerState.close()}catch{}};Xt(()=>{const f=document.getElementById(e);if(f!==null)return f.addEventListener("change",u),()=>f.removeEventListener("change",u)});const d=f=>{u(f),i.datePickerState.open()},c=f=>{Ig(f)&&(f.preventDefault(),i.datePickerState.open(),setTimeout(()=>{const v=document.querySelector('[data-focus="true"]');v instanceof HTMLElement&&v.focus()},50))};return K(Ot,{children:K("div",{className:s.join(" "),id:n,children:[K("label",{for:e,id:t,className:"sx__date-input-label",children:i.config.label||i.translate("Date")}),K("input",{id:e,tabIndex:i.datePickerState.isDisabled.value?-1:0,name:i.config.name||"date","aria-describedby":t,value:i.datePickerState.inputDisplayedValue.value,"data-testid":"date-picker-input",className:"sx__date-input",onClick:d,onKeyUp:l,type:"text"}),K("button",{tabIndex:i.datePickerState.isDisabled.value?-1:0,"aria-label":i.translate("Choose Date"),onKeyDown:c,onClick:()=>i.datePickerState.open(),className:"sx__date-input-chevron-wrapper",children:K("img",{className:"sx__date-input-chevron",src:kle,alt:""})})]})})}var fl;(function(e){e.MONTH_DAYS="month-days",e.YEARS="years"})(fl||(fl={}));const Ile="years-view",Ale="months-view",Ple="date-picker-week";let xle=class extends Error{constructor(t,n){super(`Number must be between ${t} and ${n}.`),Object.defineProperty(this,"min",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"max",{enumerable:!0,configurable:!0,writable:!0,value:n})}};const qi=e=>{if(e<0||e>99)throw new xle(0,99);return String(e).padStart(2,"0")},Hn=e=>`${e.getFullYear()}-${qi(e.getMonth()+1)}-${qi(e.getDate())}`,Dle=e=>`${qi(e.getHours())}:${qi(e.getMinutes())}`,D_=e=>`${Hn(e)} ${Dle(e)}`,R_=(e,t)=>{const{year:n,month:i,date:r,hours:s,minutes:o}=Tr(e),a=s!==void 0&&o!==void 0,l=new Date(n,i,r,s??0,o??0);let u=(l.getMonth()+t)%12;return u<0&&(u+=12),l.setMonth(l.getMonth()+t),l.getMonth()>u?l.setDate(0):l.getMonth()<u&&(l.setMonth(l.getMonth()+1),l.setDate(0)),a?D_(l):Hn(l)},Fa=(e,t)=>{const{year:n,month:i,date:r,hours:s,minutes:o}=Tr(e),a=s!==void 0&&o!==void 0,l=new Date(n,i,r,s??0,o??0);return l.setDate(l.getDate()+t),a?D_(l):Hn(l)},en=e=>e.slice(0,10),kc=e=>e.slice(11),D4=(e,t)=>(e=e.slice(0,8)+qi(t)+e.slice(10),e),Rle=e=>(e=R_(e,-1),D4(e,1)),Ole=e=>(e=R_(e,1),D4(e,1)),sb=(e,t)=>`${Hn(nn(e))} ${t}`;function Ag({direction:e,onClick:t,buttonText:n,disabled:i=!1}){return K("button",{disabled:i,className:"sx__chevron-wrapper sx__ripple",onMouseUp:t,onKeyDown:s=>{Ig(s)&&t()},tabIndex:0,children:K("i",{className:`sx__chevron sx__chevron--${e}`,children:n})})}function Vle({setYearsView:e}){const t=Vn(Mo),n=c=>{const f=nn(c);return P4(f,t.config.locale.value)},i=c=>Tr(c).year,[r,s]=Et(n(t.datePickerState.datePickerDate.value)),[o,a]=Et(i(t.datePickerState.datePickerDate.value)),l=()=>{t.datePickerState.datePickerDate.value=Rle(t.datePickerState.datePickerDate.value)},u=()=>{t.datePickerState.datePickerDate.value=Ole(t.datePickerState.datePickerDate.value)};Xt(()=>{s(n(t.datePickerState.datePickerDate.value)),a(i(t.datePickerState.datePickerDate.value))},[t.datePickerState.datePickerDate.value]);const d=c=>{c.stopPropagation(),e()};return K(Ot,{children:K("header",{className:"sx__date-picker__month-view-header",children:[K(Ag,{direction:"previous",onClick:()=>l(),buttonText:t.translate("Previous month")}),K("button",{className:"sx__date-picker__month-view-header__month-year",onClick:c=>d(c),children:r+" "+o}),K(Ag,{direction:"next",onClick:()=>u(),buttonText:t.translate("Next month")})]})})}function Nle(){const e=Vn(Mo),t=e.timeUnitsImpl.getWeekFor(nn(e.datePickerState.datePickerDate.value)),n=x4(t,e.config.locale.value);return K("div",{className:"sx__date-picker__day-names",children:n.map(i=>K("span",{"data-testid":"day-name",className:"sx__date-picker__day-name",children:i}))})}const wC=e=>{const t=new Date;return e.getDate()===t.getDate()&&e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear()},Mle=(e,t)=>e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear();function R4({strokeColor:e}){return K(Ot,{children:K("svg",{className:"sx__event-icon",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[K("g",{id:"SVGRepo_bgCarrier","stroke-width":"0"}),K("g",{id:"SVGRepo_tracerCarrier","stroke-linecap":"round","stroke-linejoin":"round"}),K("g",{id:"SVGRepo_iconCarrier",children:[K("path",{d:"M12 8V12L15 15",stroke:e,"stroke-width":"2","stroke-linecap":"round"}),K("circle",{cx:"12",cy:"12",r:"9",stroke:e,"stroke-width":"2"})]})]})})}function Lle({strokeColor:e}){return K(Ot,{children:K("svg",{className:"sx__event-icon",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[K("g",{id:"SVGRepo_bgCarrier","stroke-width":"0"}),K("g",{id:"SVGRepo_tracerCarrier","stroke-linecap":"round","stroke-linejoin":"round"}),K("g",{id:"SVGRepo_iconCarrier",children:[K("path",{d:"M15 7C15 8.65685 13.6569 10 12 10C10.3431 10 9 8.65685 9 7C9 5.34315 10.3431 4 12 4C13.6569 4 15 5.34315 15 7Z",stroke:e,"stroke-width":"2"}),K("path",{d:"M5 19.5C5 15.9101 7.91015 13 11.5 13H12.5C16.0899 13 19 15.9101 19 19.5V20C19 20.5523 18.5523 21 18 21H6C5.44772 21 5 20.5523 5 20V19.5Z",stroke:e,"stroke-width":"2"})]})]})})}function Fle({strokeColor:e}){return K(Ot,{children:K("svg",{className:"sx__event-icon",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[K("g",{id:"SVGRepo_bgCarrier","stroke-width":"0"}),K("g",{id:"SVGRepo_tracerCarrier","stroke-linecap":"round","stroke-linejoin":"round"}),K("g",{id:"SVGRepo_iconCarrier",children:[K("g",{"clip-path":"url(#clip0_429_11046)",children:[K("rect",{x:"12",y:"11",width:"0.01",height:"0.01",stroke:e,"stroke-width":"2","stroke-linejoin":"round"}),K("path",{d:"M12 22L17.5 16.5C20.5376 13.4624 20.5376 8.53757 17.5 5.5C14.4624 2.46244 9.53757 2.46244 6.5 5.5C3.46244 8.53757 3.46244 13.4624 6.5 16.5L12 22Z",stroke:e,"stroke-width":"2","stroke-linejoin":"round"})]}),K("defs",{children:K("clipPath",{id:"clip0_429_11046",children:K("rect",{width:"24",height:"24",fill:"white"})})})]})]})})}const $le=/^(0[0-9]|1[0-9]|2[0-3]):[0-5][0-9]$/,Qo=/^(\d{4})-(\d{2})-(\d{2}) (0[0-9]|1[0-9]|2[0-3]):[0-5][0-9]$/,Lv=/^(\d{4})-(\d{2})-(\d{2})$/;let Ble=class extends Error{constructor(t){super(`Invalid time string: ${t}`)}};const SC=1.6666666666666667,Sa=e=>{if(!$le.test(e)&&e!=="24:00")throw new Ble(e);const[t,n]=e.split(":").map(r=>parseInt(r,10));let i=(n*SC).toString();return i.split(".")[0].length<2&&(i=`0${i}`),Number(t+i)},Pg=e=>{const t=Math.floor(e/100),n=Math.round(e%100/SC);return`${qi(t)}:${qi(n)}`},Ule=(e,t)=>{const n=t/SC,i=nn(e);return i.setMinutes(i.getMinutes()+n),D_(i)};var xw;(function(e){e[e.SUNDAY=0]="SUNDAY",e[e.MONDAY=1]="MONDAY",e[e.TUESDAY=2]="TUESDAY",e[e.WEDNESDAY=3]="WEDNESDAY",e[e.THURSDAY=4]="THURSDAY",e[e.FRIDAY=5]="FRIDAY",e[e.SATURDAY=6]="SATURDAY"})(xw||(xw={}));const O4="en-US",V4=xw.MONDAY,jle="primary";let Hle=class{constructor(t,n,i,r,s,o,a,l,u,d=void 0,c={},f={}){Object.defineProperty(this,"_config",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"id",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(this,"start",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"end",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"title",{enumerable:!0,configurable:!0,writable:!0,value:s}),Object.defineProperty(this,"people",{enumerable:!0,configurable:!0,writable:!0,value:o}),Object.defineProperty(this,"location",{enumerable:!0,configurable:!0,writable:!0,value:a}),Object.defineProperty(this,"description",{enumerable:!0,configurable:!0,writable:!0,value:l}),Object.defineProperty(this,"calendarId",{enumerable:!0,configurable:!0,writable:!0,value:u}),Object.defineProperty(this,"_options",{enumerable:!0,configurable:!0,writable:!0,value:d}),Object.defineProperty(this,"_customContent",{enumerable:!0,configurable:!0,writable:!0,value:c}),Object.defineProperty(this,"_foreignProperties",{enumerable:!0,configurable:!0,writable:!0,value:f}),Object.defineProperty(this,"_previousConcurrentEvents",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_totalConcurrentEvents",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_nDaysInGrid",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_eventFragments",{enumerable:!0,configurable:!0,writable:!0,value:{}})}get _isSingleDayTimed(){return Qo.test(this.start)&&Qo.test(this.end)&&en(this.start)===en(this.end)}get _isSingleDayFullDay(){return Lv.test(this.start)&&Lv.test(this.end)&&this.start===this.end}get _isMultiDayTimed(){return Qo.test(this.start)&&Qo.test(this.end)&&en(this.start)!==en(this.end)}get _isMultiDayFullDay(){return Lv.test(this.start)&&Lv.test(this.end)&&this.start!==this.end}get _isSingleHybridDayTimed(){if(!this._config.isHybridDay||!Qo.test(this.start)||!Qo.test(this.end))return!1;const t=en(this.start),n=en(this.end),i=Hn(new Date(nn(n).getTime()-864e5));if(t!==n&&t!==i)return!1;const r=this._config.dayBoundaries.value,s=Sa(kc(this.start)),o=Sa(kc(this.end));return s>=r.start&&(o<=r.end||o>s)||s<r.end&&o<=r.end}get _color(){return this.calendarId&&this._config.calendars.value&&this.calendarId in this._config.calendars.value?this._config.calendars.value[this.calendarId].colorName:jle}_getForeignProperties(){return this._foreignProperties}_getExternalEvent(){return{id:this.id,start:this.start,end:this.end,title:this.title,people:this.people,location:this.location,description:this.description,calendarId:this.calendarId,_options:this._options,...this._getForeignProperties()}}},N4=class{constructor(t,n,i,r){Object.defineProperty(this,"_config",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"id",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(this,"start",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"end",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"people",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"location",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"description",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"title",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"calendarId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_foreignProperties",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_options",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_customContent",{enumerable:!0,configurable:!0,writable:!0,value:{}})}build(){return new Hle(this._config,this.id,this.start,this.end,this.title,this.people,this.location,this.description,this.calendarId,this._options,this._customContent,this._foreignProperties)}withTitle(t){return this.title=t,this}withPeople(t){return this.people=t,this}withLocation(t){return this.location=t,this}withDescription(t){return this.description=t,this}withForeignProperties(t){return this._foreignProperties=t,this}withCalendarId(t){return this.calendarId=t,this}withOptions(t){return this._options=t,this}withCustomContent(t){return this._customContent=t,this}};const Qf=(e,t)=>{const n=new N4(t.config,e.id,e.start,e.end).withTitle(e.title).withPeople(e.people).withCalendarId(e.calendarId).withForeignProperties(JSON.parse(JSON.stringify(e._getForeignProperties()))).withLocation(e.location).withDescription(e.description).withOptions(e._options).withCustomContent(e._customContent).build();return n._nDaysInGrid=e._nDaysInGrid,n},Wle=e=>e.reduce((t,n,i)=>i===0?n:i===e.length-1?`${t} & ${n}`:`${t}, ${n}`,""),Za=(e,t)=>{const{year:n,month:i,date:r}=Tr(e);return new Date(n,i,r).toLocaleDateString(t,{day:"numeric",month:"long",year:"numeric"})},ha=Za,Lu=(e,t)=>{const{year:n,month:i,date:r,hours:s,minutes:o}=Tr(e);return new Date(n,i,r,s,o).toLocaleTimeString(t,{hour:"numeric",minute:"numeric"})},M4=(e,t,n="–")=>{const i={start:e.start,end:e.end};return e._isSingleDayFullDay?Za(i.start,t):e._isMultiDayFullDay?`${Za(i.start,t)} ${n} ${Za(i.end,t)}`:e._isSingleDayTimed?`${Za(i.start,t)} <span aria-hidden="true">⋅</span> ${Lu(i.start,t)} ${n} ${Lu(i.end,t)}`:`${Za(i.start,t)}, ${Lu(i.start,t)} ${n} ${Za(i.end,t)}, ${Lu(i.end,t)}`};function zle({week:e}){const t=Vn(Mo),n=e.map(a=>{const l=["sx__date-picker__day"];return wC(a)&&l.push("sx__date-picker__day--today"),Hn(a)===t.datePickerState.selectedDate.value&&l.push("sx__date-picker__day--selected"),Mle(a,nn(t.datePickerState.datePickerDate.value))||l.push("is-leading-or-trailing"),{day:a,classes:l}}),i=a=>{const l=Hn(a);return l>=t.config.min&&l<=t.config.max},r=a=>{t.datePickerState.selectedDate.value=Hn(a),t.datePickerState.close()},s=a=>Hn(a.day)===t.datePickerState.datePickerDate.value,o=a=>{if(a.key==="Enter"){t.datePickerState.selectedDate.value=t.datePickerState.datePickerDate.value,t.datePickerState.close();return}const l=new Map([["ArrowDown",7],["ArrowUp",-7],["ArrowLeft",-1],["ArrowRight",1]]);t.datePickerState.datePickerDate.value=Fa(t.datePickerState.datePickerDate.value,l.get(a.key)||0)};return K(Ot,{children:K("div",{"data-testid":Ple,className:"sx__date-picker__week",children:n.map(a=>K("button",{tabIndex:s(a)?0:-1,disabled:!i(a.day),"aria-label":ha(t.datePickerState.datePickerDate.value,t.config.locale.value),className:a.classes.join(" "),"data-focus":s(a)?"true":void 0,onClick:()=>r(a.day),onKeyDown:o,children:a.day.getDate()}))})})}function Gle({seatYearsView:e}){const t=Ki(),n=Vn(Mo),[i,r]=Et([]),s=()=>{const o=nn(n.datePickerState.datePickerDate.value);r(n.timeUnitsImpl.getMonthWithTrailingAndLeadingDays(o.getFullYear(),o.getMonth()))};return Xt(()=>{s()},[n.datePickerState.datePickerDate.value]),Xt(()=>{const o=new MutationObserver(l=>{l.forEach(u=>{const d=u.target;d.dataset.focus==="true"&&d.focus()})}),a=document.getElementById(t);return o.observe(a,{childList:!0,subtree:!0,attributes:!0}),()=>o.disconnect()},[]),K(Ot,{children:K("div",{id:t,"data-testid":Ale,className:"sx__date-picker__month-view",children:[K(Vle,{setYearsView:e}),K(Nle,{}),i.map(o=>K(zle,{week:o}))]})})}function qle({year:e,setYearAndMonth:t,isExpanded:n,expand:i}){const r=Vn(Mo),s=r.timeUnitsImpl.getMonthsFor(e),o=(a,l)=>{a.stopPropagation(),t(e,l.getMonth())};return K(Ot,{children:K("li",{className:n?"sx__is-expanded":"",children:[K("button",{className:"sx__date-picker__years-accordion__expand-button sx__ripple--wide",onClick:()=>i(e),children:e}),n&&K("div",{className:"sx__date-picker__years-view-accordion__panel",children:s.map(a=>K("button",{className:"sx__date-picker__years-view-accordion__month",onClick:l=>o(l,a),children:P4(a,r.config.locale.value)}))})]})})}function Yle({setMonthView:e}){const t=Vn(Mo),n=nn(t.config.min).getFullYear(),i=nn(t.config.max).getFullYear(),r=Array.from({length:i-n+1},(u,d)=>n+d),{year:s}=Tr(t.datePickerState.selectedDate.value),[o,a]=Et(s),l=(u,d)=>{t.datePickerState.datePickerDate.value=Hn(new Date(u,d,1)),e()};return Xt(()=>{var u;const d=(u=document.querySelector(".sx__date-picker__years-view"))===null||u===void 0?void 0:u.querySelector(".sx__is-expanded");d&&d.scrollIntoView({block:"center"})},[]),K(Ot,{children:K("ul",{className:"sx__date-picker__years-view","data-testid":Ile,children:r.map(u=>K(qle,{year:u,setYearAndMonth:(d,c)=>l(d,c),isExpanded:o===u,expand:d=>a(d)}))})})}const Kle=e=>{if(e){const t=e.scrollHeight>e.clientHeight,i=window.getComputedStyle(e).overflowY.indexOf("hidden")!==-1;return t&&!i}return!0},L4=(e,t=[])=>!e||e===document.body||e.nodeType===Node.DOCUMENT_FRAGMENT_NODE?(t.push(window),t):(Kle(e)&&t.push(e),L4(e.assignedSlot?e.assignedSlot.parentNode:e.parentNode,t)),kx="sx__date-picker-popup";function Xle(){const e=Vn(Mo),[t,n]=Et(fl.MONTH_DAYS),i=[kx,e.config.placement],[r,s]=Et(i);Xt(()=>{s([...i,e.datePickerState.isDark.value?"is-dark":""])},[e.datePickerState.isDark.value]);const o=m=>{m.target.closest(`.${kx}`)||e.datePickerState.close()},a=m=>{m.key==="Escape"&&(e.config.listeners.onEscapeKeyDown?e.config.listeners.onEscapeKeyDown(e):e.datePickerState.close())};Xt(()=>(document.addEventListener("click",o),document.addEventListener("keydown",a),()=>{document.removeEventListener("click",o),document.removeEventListener("keydown",a)}),[]);const l=Number(getComputedStyle(document.documentElement).fontSize.split("px")[0]),u=362,d=332,c=()=>{const m=e.datePickerState.inputWrapperElement.value,p=m==null?void 0:m.getBoundingClientRect();if(!(m===void 0||!(p instanceof DOMRect)))return{top:e.config.placement.includes("bottom")?p.height+p.y+1:p.y-l-u,left:e.config.placement.includes("start")?p.x:p.x+p.width-d,width:d,position:"fixed"}},[f,v]=Et(c());return Xt(()=>{const m=e.datePickerState.inputWrapperElement.value;if(m===void 0)return;const p=L4(m),_=()=>v(c());return p.forEach(y=>y.addEventListener("scroll",_)),()=>p.forEach(y=>y.removeEventListener("scroll",_))},[]),K(Ot,{children:K("div",{style:e.config.teleportTo?f:void 0,"data-testid":"date-picker-popup",className:r.join(" "),children:t===fl.MONTH_DAYS?K(Gle,{seatYearsView:()=>n(fl.YEARS)}):K(Yle,{setMonthView:()=>n(fl.MONTH_DAYS)})})})}function Qle({$app:e}){const t=["sx__date-picker-wrapper"],[n,i]=Et(t);Xt(()=>{var s;const o=[...t];e.datePickerState.isDark.value&&o.push("is-dark"),!((s=e.config.style)===null||s===void 0)&&s.fullWidth&&o.push("has-full-width"),e.datePickerState.isDisabled.value&&o.push("is-disabled"),i(o)},[e.datePickerState.isDark.value,e.datePickerState.isDisabled.value]);let r=K(Xle,{});return e.config.teleportTo&&(r=ole(r,e.config.teleportTo)),K(Ot,{children:K("div",{className:n.join(" "),children:K(Mo.Provider,{value:e,children:[K(Tle,{}),e.datePickerState.isOpen.value&&r]})})})}const ei=m4({});class Jle{constructor(t,n,i,r){Object.defineProperty(this,"datePickerState",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"config",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(this,"timeUnitsImpl",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"translate",{enumerable:!0,configurable:!0,writable:!0,value:r})}}class Zle{constructor(){Object.defineProperty(this,"datePickerState",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"config",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"timeUnitsImpl",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"translate",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}build(){return new Jle(this.datePickerState,this.config,this.timeUnitsImpl,this.translate)}withDatePickerState(t){return this.datePickerState=t,this}withConfig(t){return this.config=t,this}withTimeUnitsImpl(t){return this.timeUnitsImpl=t,this}withTranslate(t){return this.translate=t,this}}var Xi;(function(e){e.Day="day",e.Week="week",e.MonthGrid="month-grid",e.MonthAgenda="month-agenda"})(Xi||(Xi={}));const Dw=e=>[e.config.locale.value,{month:"long"}],Rw=e=>[e.config.locale.value,{year:"numeric"}],eue=(e,t,n)=>{const i=nn(t).toLocaleString(...Dw(e)),r=nn(t).toLocaleString(...Rw(e)),s=nn(n).toLocaleString(...Dw(e)),o=nn(n).toLocaleString(...Rw(e));return i===s&&r===o?`${i} ${r}`:i!==s&&r===o?`${i} – ${s} ${r}`:`${i} ${r} – ${s} ${o}`},tue=e=>{const t=nn(e.datePickerState.selectedDate.value).toLocaleString(...Dw(e)),n=nn(e.datePickerState.selectedDate.value).toLocaleString(...Rw(e));return`${t} ${n}`};function nue(){const e=Vn(ei),[t,n]=Et("");return Xt(()=>{e.calendarState.view.value===Xi.Week&&n(eue(e,e.calendarState.range.value.start,e.calendarState.range.value.end)),(e.calendarState.view.value===Xi.MonthGrid||e.calendarState.view.value===Xi.Day||e.calendarState.view.value===Xi.MonthAgenda)&&n(tue(e))},[e.calendarState.range.value]),K("span",{className:"sx__range-heading",children:t})}function iue(){const e=Vn(ei);return K("button",{className:"sx__today-button sx__ripple",onClick:()=>{e.datePickerState.selectedDate.value=Hn(new Date)},children:e.translate("Today")})}function rue(){const e=Vn(ei),[t,n]=Et([]);Xt(()=>{e.calendarState.isCalendarSmall.value?n(e.config.views.value.filter(p=>p.hasSmallScreenCompat)):n(e.config.views.value.filter(p=>p.hasWideScreenCompat))},[e.calendarState.isCalendarSmall.value]);const[i,r]=Et("");Xt(()=>{const p=e.config.views.value.find(_=>_.name===e.calendarState.view.value);p&&r(e.translate(p.label))},[e.calendarState.view.value]);const[s,o]=Et(!1),a=p=>{const _=p.target;_ instanceof HTMLElement&&!_.closest(".sx__view-selection")&&o(!1)};Xt(()=>(document.addEventListener("click",a),()=>document.removeEventListener("click",a)),[]);const l=p=>{o(!1),e.calendarState.setView(p,e.datePickerState.selectedDate.value)},[u,d]=Et(),[c,f]=Et(0),v=p=>{Ig(p)&&o(!s),setTimeout(()=>{var _;const y=(_=e.elements.calendarWrapper)===null||_===void 0?void 0:_.querySelectorAll(".sx__view-selection-item");if(!y)return;d(y);const b=y[0];b instanceof HTMLElement&&(f(0),b.focus())},50)},m=(p,_)=>{if(u)if(p.key==="ArrowDown"){const y=u[c+1];y instanceof HTMLElement&&(f(c+1),y.focus())}else if(p.key==="ArrowUp"){const y=u[c-1];y instanceof HTMLElement&&(f(c-1),y.focus())}else Ig(p)&&l(_)};return K("div",{className:"sx__view-selection",children:[K("div",{tabIndex:0,role:"button","aria-label":e.translate("Select View"),className:"sx__view-selection-selected-item sx__ripple",onClick:()=>o(!s),onKeyDown:v,children:i}),s&&K("ul",{"data-testid":"view-selection-items",className:"sx__view-selection-items",children:t.map(p=>K("li",{"aria-label":e.translate("Select View")+" "+e.translate(p.label),tabIndex:-1,role:"button",onKeyDown:_=>m(_,p.name),onClick:()=>l(p.name),className:"sx__view-selection-item"+(p.name===e.calendarState.view.value?" is-selected":""),children:e.translate(p.label)}))})]})}function sue(){const e=Vn(ei),t=l=>{const u=e.config.views.value.find(d=>d.name===e.calendarState.view.value);u&&(e.datePickerState.selectedDate.value=u.backwardForwardFn(e.datePickerState.selectedDate.value,l==="forwards"?u.backwardForwardUnits:-u.backwardForwardUnits))},[n,i]=Et("");fa(()=>{i(`${ha(e.calendarState.range.value.start,e.config.locale.value)} ${e.translate("to")} ${ha(e.calendarState.range.value.end,e.config.locale.value)}`)});const[r,s]=Et(""),[o,a]=Et("");return Xt(()=>{const l=e.config.views.value.find(u=>u.name===e.calendarState.view.value);l&&(s(l.setDateRange({range:e.calendarState.range,calendarConfig:e.config,timeUnitsImpl:e.timeUnitsImpl,date:l.backwardForwardFn(e.datePickerState.selectedDate.value,-l.backwardForwardUnits)}).end),a(l.setDateRange({range:e.calendarState.range,calendarConfig:e.config,timeUnitsImpl:e.timeUnitsImpl,date:l.backwardForwardFn(e.datePickerState.selectedDate.value,l.backwardForwardUnits)}).start))},[e.datePickerState.selectedDate.value,e.calendarState.view.value]),K(Ot,{children:K("div",{className:"sx__forward-backward-navigation","aria-label":n,"aria-live":"polite",children:[K(Ag,{disabled:!!(e.config.minDate.value&&en(r)<e.config.minDate.value),onClick:()=>t("backwards"),direction:"previous",buttonText:e.translate("Previous period")}),K(Ag,{disabled:!!(e.config.maxDate.value&&en(o)>e.config.maxDate.value),onClick:()=>t("forwards"),direction:"next",buttonText:e.translate("Next period")})]})})}const ro=e=>document.querySelector(`[data-ccid="${e}"]`);function oue(){const e=Vn(ei),t=new Zle().withDatePickerState(e.datePickerState).withConfig(e.datePickerConfig).withTranslate(e.translate).withTimeUnitsImpl(e.timeUnitsImpl).build(),n=e.config._customComponentFns.headerContent,i=Et(n?Ki():void 0)[0],r=e.config._customComponentFns.headerContentLeftPrepend,s=Et(r?Ki():void 0)[0],o=e.config._customComponentFns.headerContentLeftAppend,a=Et(o?Ki():void 0)[0],l=e.config._customComponentFns.headerContentRightPrepend,u=Et(l?Ki():void 0)[0],d=e.config._customComponentFns.headerContentRightAppend,c=Et(d?Ki():void 0)[0];Xt(()=>{n&&n(ro(i),{}),r&&s&&r(ro(s),{}),o&&o(ro(a),{}),l&&l(ro(u),{}),d&&d(ro(c),{})},[]);const f=e.config.locale.value;return K("header",{className:"sx__calendar-header","data-ccid":i,children:!n&&K(Ot,{children:[K("div",{className:"sx__calendar-header-content",children:[s&&K("div",{"data-ccid":s}),K(iue,{}),K(sue,{}),K(nue,{}),a&&K("div",{"data-ccid":a})]}),K("div",{className:"sx__calendar-header-content",children:[u&&K("div",{"data-ccid":u}),e.config.views.value.length>1&&K(rue,{},f+"-view-selection"),K(Qle,{$app:t}),c&&K("div",{"data-ccid":c})]})]})})}const aue=(e,t)=>{e.elements.calendarWrapper=document.getElementById(t)},lue=(e,t)=>{const n=e.config.views.value.find(i=>i.name===e.calendarState.view.value);if(t){if(n.hasSmallScreenCompat)return;const i=e.config.views.value.find(r=>r.hasSmallScreenCompat);i&&e.calendarState.setView(i.name,e.datePickerState.selectedDate.value)}else{if(n.hasWideScreenCompat)return;const i=e.config.views.value.find(r=>r.hasWideScreenCompat);i&&e.calendarState.setView(i.name,e.datePickerState.selectedDate.value)}},uue=e=>{const t=document.documentElement,n=e.elements.calendarWrapper,i=+window.getComputedStyle(t).fontSize.split("p")[0],r=700,s=16/i,o=r/s;if(!n)return;const a=e.config.callbacks.isCalendarSmall?e.config.callbacks.isCalendarSmall(e):n.clientWidth<o;a!==e.calendarState.isCalendarSmall.value&&(e.calendarState.isCalendarSmall.value=a,lue(e,a))};function cue(e){const t="sx__calendar-wrapper",[n,i]=Et([t]);return fa(()=>{const r=[t];e.calendarState.isCalendarSmall.value&&r.push("sx__is-calendar-small"),e.calendarState.isDark.value&&r.push("is-dark"),i(r)}),n}const due=e=>{Object.values(e.config.plugins).forEach(t=>{t!=null&&t.onRender&&t.onRender(e)})},fue=e=>{Object.values(e.config.plugins).forEach(t=>{t!=null&&t.destroy&&t.destroy()})},hue=e=>{Object.values(e.config.plugins).forEach(t=>{t!=null&&t.beforeRender&&t.beforeRender(e)})};function vue({$app:e}){var t;const n=Ki(),i=Ki();Xt(()=>{var f;return aue(e,n),due(e),!((f=e.config.callbacks)===null||f===void 0)&&f.onRender&&e.config.callbacks.onRender(e),()=>fue(e)},[]);const r=()=>{uue(e)};Xt(()=>{if(e.config.isResponsive)return r(),window.addEventListener("resize",r),()=>window.removeEventListener("resize",r)},[]);const s=cue(e),[o,a]=Et();fa(()=>{const f=e.config.views.value.find(m=>m.name===e.calendarState.view.value),v=document.getElementById(i);!f||!v||f.name===(o==null?void 0:o.name)||(o&&o.destroy(),a(f),f.render(v,e))});const[l,u]=Et(""),[d,c]=Et("");return fa(()=>{var f,v;const m=(((f=e.calendarState.range.value)===null||f===void 0?void 0:f.start)||"")>l;c(m?"sx__slide-left":"sx__slide-right"),setTimeout(()=>{c("")},300),u(((v=e.calendarState.range.value)===null||v===void 0?void 0:v.start)||"")}),fa(()=>{e.datePickerConfig.locale.value=e.config.locale.value}),K(Ot,{children:K("div",{className:s.join(" "),id:n,children:K("div",{className:"sx__calendar",children:K(ei.Provider,{value:e,children:[K(oue,{}),K("div",{className:["sx__view-container",d].join(" "),id:i}),e.config.plugins.eventModal&&e.config.plugins.eventModal.calendarEvent.value&&K(e.config.plugins.eventModal.ComponentFn,{$app:e},(t=e.config.plugins.eventModal.calendarEvent.value)===null||t===void 0?void 0:t.id)]})})})})}const ym=(e,t)=>{const{id:n,start:i,end:r,title:s,description:o,location:a,people:l,_options:u,...d}=e;return new N4(t,n,i,r).withTitle(s).withDescription(o).withLocation(a).withPeople(l).withCalendarId(e.calendarId).withOptions(u).withForeignProperties(d).withCustomContent(e._customContent).build()};let mue=class{constructor(t){Object.defineProperty(this,"$app",{enumerable:!0,configurable:!0,writable:!0,value:t})}set(t){this.$app.calendarEvents.list.value=t.map(n=>ym(n,this.$app.config))}add(t){const n=ym(t,this.$app.config),i=[...this.$app.calendarEvents.list.value];i.push(n),this.$app.calendarEvents.list.value=i}get(t){var n;return(n=this.$app.calendarEvents.list.value.find(i=>i.id===t))===null||n===void 0?void 0:n._getExternalEvent()}getAll(){return this.$app.calendarEvents.list.value.map(t=>t._getExternalEvent())}remove(t){const n=this.$app.calendarEvents.list.value.findIndex(r=>r.id===t),i=[...this.$app.calendarEvents.list.value];i.splice(n,1),this.$app.calendarEvents.list.value=i}update(t){const n=this.$app.calendarEvents.list.value.findIndex(r=>r.id===t.id),i=[...this.$app.calendarEvents.list.value];i.splice(n,1,ym(t,this.$app.config)),this.$app.calendarEvents.list.value=i}};class gue{constructor(t){var n;Object.defineProperty(this,"$app",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"events",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.events=new mue(this.$app),hue(this.$app),Object.values(this.$app.config.plugins).forEach(i=>{i!=null&&i.name&&(this[i.name]=i)}),!((n=t.config.callbacks)===null||n===void 0)&&n.beforeRender&&t.config.callbacks.beforeRender(t)}render(t){Eg(Hl(vue,{$app:this.$app}),t)}setTheme(t){this.$app.calendarState.isDark.value=t==="dark"}getTheme(){return this.$app.calendarState.isDark.value?"dark":"light"}_setCustomComponentFn(t,n){this.$app.config._customComponentFns[t]=n}}class pue{constructor(t,n,i,r,s,o,a,l={calendarWrapper:void 0}){Object.defineProperty(this,"config",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"timeUnitsImpl",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(this,"calendarState",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"datePickerState",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"translate",{enumerable:!0,configurable:!0,writable:!0,value:s}),Object.defineProperty(this,"datePickerConfig",{enumerable:!0,configurable:!0,writable:!0,value:o}),Object.defineProperty(this,"calendarEvents",{enumerable:!0,configurable:!0,writable:!0,value:a}),Object.defineProperty(this,"elements",{enumerable:!0,configurable:!0,writable:!0,value:l})}}class _ue{constructor(){Object.defineProperty(this,"config",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"timeUnitsImpl",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"datePickerState",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"calendarState",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"translate",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"datePickerConfig",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"calendarEvents",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}build(){return new pue(this.config,this.timeUnitsImpl,this.calendarState,this.datePickerState,this.translate,this.datePickerConfig,this.calendarEvents)}withConfig(t){return this.config=t,this}withTimeUnitsImpl(t){return this.timeUnitsImpl=t,this}withDatePickerState(t){return this.datePickerState=t,this}withCalendarState(t){return this.calendarState=t,this}withTranslate(t){return this.translate=t,this}withDatePickerConfig(t){return this.datePickerConfig=t,this}withCalendarEvents(t){return this.calendarEvents=t,this}}var Gr;(function(e){e.SLASH="/",e.DASH="-",e.PERIOD="."})(Gr||(Gr={}));var qr;(function(e){e.DMY="DMY",e.MDY="MDY",e.YMD="YMD"})(qr||(qr={}));const Td={slashMDY:{delimiter:Gr.SLASH,order:qr.MDY},slashDMY:{delimiter:Gr.SLASH,order:qr.DMY},slashYMD:{delimiter:Gr.SLASH,order:qr.YMD},periodDMY:{delimiter:Gr.PERIOD,order:qr.DMY},dashYMD:{delimiter:Gr.DASH,order:qr.YMD}},yue=new Map([["en-US",Td.slashMDY],["en-GB",Td.slashDMY],["zh-CN",Td.slashYMD],["de-DE",Td.periodDMY],["sv-SE",Td.dashYMD]]);class bue extends Error{constructor(t){super(`Locale not supported: ${t}`)}}class F4 extends Error{constructor(t,n){super(`Invalid date format: ${t} for locale: ${n}`)}}const Fv=(e,t,n)=>{const i=e.match(t);if(!i)throw new F4(e,n);return i},wue=(e,t)=>{if(/^\d{4}-\d{2}-\d{2}$/.test(e))return e;const i=yue.get(t);if(!i)throw new bue(t);const{order:r,delimiter:s}=i,o=/^(\d{1,2})\/(\d{1,2})\/(\d{4})$/,a=/^(\d{1,2})\.(\d{1,2})\.(\d{4})$/,l=/^(\d{4})\/(\d{1,2})\/(\d{1,2})$/;if(r===qr.DMY&&s===Gr.SLASH){const u=Fv(e,o,t),[,d,c,f]=u;return`${f}-${qi(+c)}-${qi(+d)}`}if(r===qr.MDY&&s===Gr.SLASH){const u=Fv(e,o,t),[,d,c,f]=u;return`${f}-${qi(+d)}-${qi(+c)}`}if(r===qr.YMD&&s===Gr.SLASH){const u=Fv(e,l,t),[,d,c,f]=u;return`${d}-${qi(+c)}-${qi(+f)}`}if(r===qr.DMY&&s===Gr.PERIOD){const u=Fv(e,a,t),[,d,c,f]=u;return`${f}-${qi(+c)}-${qi(+d)}`}throw new F4(e,t)},Sue=(e,t)=>{var n;const i=Hn(new Date),r=typeof t=="string"?t:i,s=$t(!1),o=$t(e.disabled||!1),a=$t(fl.MONTH_DAYS),l=$t(r),u=$t(r||i),d=$t(((n=e.style)===null||n===void 0?void 0:n.dark)||!1),c=$t(t||""),f=$t(t||"");To(()=>{try{const p=wue(c.value,e.locale.value);if(p<e.min||p>e.max){c.value=f.value;return}l.value=p,u.value=p,f.value=c.value}catch{}});let v=!1;const m=p=>{if(!v)return v=!0;e.listeners.onChange(p)};return To(()=>{var p;!((p=e.listeners)===null||p===void 0)&&p.onChange&&m(l.value)}),{inputWrapperElement:$t(void 0),isOpen:s,isDisabled:o,datePickerView:a,selectedDate:l,datePickerDate:u,inputDisplayedValue:c,isDark:d,open:()=>s.value=!0,close:()=>s.value=!1,toggle:()=>s.value=!s.value,setView:p=>a.value=p}},Eue={Date:"Datum","MM/DD/YYYY":"TT.MM.JJJJ","Next month":"Nächster Monat","Previous month":"Vorheriger Monat","Choose Date":"Datum auswählen"},Cue={Today:"Heute",Month:"Monat",Week:"Woche",Day:"Tag","Select View":"Ansicht auswählen",events:"Ereignisse",event:"Ereignis","No events":"Keine Ereignisse","Next period":"Nächster Zeitraum","Previous period":"Vorheriger Zeitraum",to:"bis","Full day- and multiple day events":"Ganztägige und mehrtägige Ereignisse","Link to {{n}} more events on {{date}}":"Link zu {{n}} weiteren Ereignissen am {{date}}","Link to 1 more event on {{date}}":"Link zu 1 weiteren Ereignis am {{date}}"},kue={...Eue,...Cue},Tue={Date:"Date","MM/DD/YYYY":"MM/DD/YYYY","Next month":"Next month","Previous month":"Previous month","Choose Date":"Choose Date"},Iue={Today:"Today",Month:"Month",Week:"Week",Day:"Day","Select View":"Select View",events:"events",event:"event","No events":"No events","Next period":"Next period","Previous period":"Previous period",to:"to","Full day- and multiple day events":"Full day- and multiple day events","Link to {{n}} more events on {{date}}":"Link to {{n}} more events on {{date}}","Link to 1 more event on {{date}}":"Link to 1 more event on {{date}}"},Aue={...Tue,...Iue},Pue={Date:"Data","MM/DD/YYYY":"DD/MM/YYYY","Next month":"Mese successivo","Previous month":"Mese precedente","Choose Date":"Scegli la data"},xue={Today:"Oggi",Month:"Mese",Week:"Settimana",Day:"Giorno","Select View":"Seleziona la vista",events:"eventi",event:"evento","No events":"Nessun evento","Next period":"Periodo successivo","Previous period":"Periodo precedente",to:"a","Full day- and multiple day events":"Eventi della giornata e plurigiornalieri","Link to {{n}} more events on {{date}}":"Link a {{n}} eventi in più il {{date}}","Link to 1 more event on {{date}}":"Link a 1 evento in più il {{date}}"},Due={...Pue,...xue},Rue={Date:"Date","MM/DD/YYYY":"DD/MM/YYYY","Next month":"Next month","Previous month":"Previous month","Choose Date":"Choose Date"},Oue={Today:"Today",Month:"Month",Week:"Week",Day:"Day","Select View":"Select View",events:"events",event:"event","No events":"No events","Next period":"Next period","Previous period":"Previous period",to:"to","Full day- and multiple day events":"Full day- and multiple day events","Link to {{n}} more events on {{date}}":"Link to {{n}} more events on {{date}}","Link to 1 more event on {{date}}":"Link to 1 more event on {{date}}"},Vue={...Rue,...Oue},Nue={Date:"Datum","MM/DD/YYYY":"ÅÅÅÅ-MM-DD","Next month":"Nästa månad","Previous month":"Föregående månad","Choose Date":"Välj datum"},Mue={Today:"Idag",Month:"Månad",Week:"Vecka",Day:"Dag","Select View":"Välj vy",events:"händelser",event:"händelse","No events":"Inga händelser","Next period":"Nästa period","Previous period":"Föregående period",to:"till","Full day- and multiple day events":"Heldags- och flerdagshändelser","Link to {{n}} more events on {{date}}":"Länk till {{n}} fler händelser den {{date}}","Link to 1 more event on {{date}}":"Länk till 1 händelse till den {{date}}"},Lue={...Nue,...Mue},Fue={Date:"日期","MM/DD/YYYY":"年/月/日","Next month":"下个月","Previous month":"上个月","Choose Date":"选择日期"},$ue={Today:"今天",Month:"月",Week:"周",Day:"日","Select View":"选择视图",events:"场活动",event:"活动","No events":"没有活动","Next period":"下一段时间","Previous period":"上一段时间",to:"至","Full day- and multiple day events":"全天和多天活动","Link to {{n}} more events on {{date}}":"链接到{{date}}上的{{n}}个更多活动","Link to 1 more event on {{date}}":"链接到{{date}}上的1个更多活动"},Bue={...Fue,...$ue},Uue={Date:"日付","MM/DD/YYYY":"年/月/日","Next month":"次の月","Previous month":"前の月","Choose Date":"日付を選択"},jue={Today:"今日",Month:"月",Week:"週",Day:"日","Select View":"ビューを選択",events:"イベント",event:"イベント","No events":"イベントなし","Next period":"次の期間","Previous period":"前の期間",to:"から","Full day- and multiple day events":"終日および複数日イベント","Link to {{n}} more events on {{date}}":"{{date}} に{{n}}件のイベントへのリンク","Link to 1 more event on {{date}}":"{{date}} に1件のイベントへのリンク"},Hue={...Uue,...jue},Wue={Date:"Дата","MM/DD/YYYY":"ММ/ДД/ГГГГ","Next month":"Следующий месяц","Previous month":"Прошлый месяц","Choose Date":"Выберите дату"},zue={Today:"Сегодня",Month:"Месяц",Week:"Неделя",Day:"День","Select View":"Выберите вид",events:"события",event:"событие","No events":"Нет событий","Next period":"Следующий период","Previous period":"Прошлый период",to:"по","Full day- and multiple day events":"События на целый день и несколько дней подряд","Link to {{n}} more events on {{date}}":"Ссылка на {{n}} дополнительных событий на {{date}}","Link to 1 more event on {{date}}":"Ссылка на 1 дополнительное событие на {{date}}"},Gue={...Wue,...zue},que={Date:"일자","MM/DD/YYYY":"년/월/일","Next month":"다음 달","Previous month":"이전 달","Choose Date":"날짜 선택"},Yue={Today:"오늘",Month:"월",Week:"주",Day:"일","Select View":"보기 선택",events:"일정들",event:"일정","No events":"일정 없음","Next period":"다음","Previous period":"이전",to:"부터","Full day- and multiple day events":"종일 및 복수일 일정","Link to {{n}} more events on {{date}}":"{{date}}에 {{n}}개 이상의 이벤트로 이동","Link to 1 more event on {{date}}":"{{date}}에 1개 이상의 이벤트로 이동"},Kue={...que,...Yue},Xue={Date:"Date","MM/DD/YYYY":"JJ/MM/AAAA","Next month":"Mois suivant","Previous month":"Mois précédent","Choose Date":"Choisir une date"},Que={Today:"Aujourd'hui",Month:"Mois",Week:"Semaine",Day:"Jour","Select View":"Choisir la vue",events:"événements",event:"événement","No events":"Aucun événement","Next period":"Période suivante","Previous period":"Période précédente",to:"à","Full day- and multiple day events":"Événements d'une ou plusieurs journées","Link to {{n}} more events on {{date}}":"Lien vers {{n}} autres événements le {{date}}","Link to 1 more event on {{date}}":"Lien vers 1 autre événement le {{date}}"},Jue={...Xue,...Que},Zue={Date:"Dato","MM/DD/YYYY":"ÅÅÅÅ-MM-DD","Next month":"Næste måned","Previous month":"Foregående måned","Choose Date":"Vælg dato"},ece={Today:"I dag",Month:"Måned",Week:"Uge",Day:"Dag","Select View":"Vælg visning",events:"begivenheder",event:"begivenhed","No events":"Ingen begivenheder","Next period":"Næste periode","Previous period":"Forgående periode",to:"til","Full day- and multiple day events":"Heldagsbegivenheder og flerdagsbegivenheder","Link to {{n}} more events on {{date}}":"Link til {{n}} flere begivenheder den {{date}}","Link to 1 more event on {{date}}":"Link til 1 mere begivenhed den {{date}}"},tce={...Zue,...ece},nce={Date:"Data","MM/DD/YYYY":"DD/MM/YYYY","Next month":"Następny miesiąc","Previous month":"Poprzedni miesiąc","Choose Date":"Wybiewrz datę"},ice={Today:"Dzisiaj",Month:"Miesiąc",Week:"Tydzień",Day:"Dzień","Select View":"Wybierz widok",events:"wydarzenia",event:"wydarzenie","No events":"Brak wydarzeń","Next period":"Następny okres","Previous period":"Poprzedni okres",to:"do","Full day- and multiple day events":"Wydarzenia całodniowe i wielodniowe","Link to {{n}} more events on {{date}}":"Link do {{n}} kolejnych wydarzeń w dniu {{date}}","Link to 1 more event on {{date}}":"Link do 1 kolejnego wydarzenia w dniu {{date}}"},rce={...nce,...ice},sce={Date:"Fecha","MM/DD/YYYY":"DD/MM/YYYY","Next month":"Siguiente mes","Previous month":"Mes anterior","Choose Date":"Seleccione una fecha"},oce={Today:"Hoy",Month:"Mes",Week:"Semana",Day:"Día","Select View":"Seleccione una vista",events:"eventos",event:"evento","No events":"Sin eventos","Next period":"Siguiente período","Previous period":"Período anterior",to:"a","Full day- and multiple day events":"Día completo y eventos de múltiples días","Link to {{n}} more events on {{date}}":"Enlace a {{n}} eventos más el {{date}}","Link to 1 more event on {{date}}":"Enlace a 1 evento más el {{date}}"},ace={...sce,...oce},lce={Today:"Vandaag",Month:"Maand",Week:"Week",Day:"Dag","Select View":"Kies weergave",events:"gebeurtenissen",event:"gebeurtenis","No events":"Geen gebeurtenissen","Next period":"Volgende periode","Previous period":"Vorige periode",to:"tot","Full day- and multiple day events":"Evenementen van een hele dag en meerdere dagen","Link to {{n}} more events on {{date}}":"Link naar {{n}} meer evenementen op {{date}}","Link to 1 more event on {{date}}":"Link naar 1 meer evenement op {{date}}"},uce={Date:"Datum","MM/DD/YYYY":"DD-MM-JJJJ","Next month":"Volgende maand","Previous month":"Vorige maand","Choose Date":"Kies datum"},cce={...uce,...lce},dce={Date:"Data","MM/DD/YYYY":"DD/MM/YYYY","Next month":"Mês seguinte","Previous month":"Mês anterior","Choose Date":"Escolha uma data"},fce={Today:"Hoje",Month:"Mês",Week:"Semana",Day:"Dia","Select View":"Selecione uma visualização",events:"eventos",event:"evento","No events":"Sem eventos","Next period":"Período seguinte","Previous period":"Período anterior",to:"a","Full day- and multiple day events":"Dia inteiro e eventos de vários dias","Link to {{n}} more events on {{date}}":"Link para mais {{n}} eventos em {{date}}","Link to 1 more event on {{date}}":"Link para mais 1 evento em {{date}}"},hce={...dce,...fce},vce={Date:"Dátum","MM/DD/YYYY":"DD/MM/YYYY","Next month":"Ďalší mesiac","Previous month":"Predchádzajúci mesiac","Choose Date":"Vyberte dátum"},mce={Today:"Dnes",Month:"Mesiac",Week:"Týždeň",Day:"Deň","Select View":"Vyberte zobrazenie",events:"udalosti",event:"udalosť","No events":"Žiadne udalosti","Next period":"Ďalšie obdobie","Previous period":"Predchádzajúce obdobie",to:"do","Full day- and multiple day events":"Celodenné a viacdňové udalosti","Link to {{n}} more events on {{date}}":"Odkaz na {{n}} ďalších udalostí dňa {{date}}","Link to 1 more event on {{date}}":"Odkaz na 1 ďalšiu udalosť dňa {{date}}"},gce={...vce,...mce},pce={Date:"Датум","MM/DD/YYYY":"DD/MM/YYYY","Next month":"Следен месец","Previous month":"Претходен месец","Choose Date":"Избери Датум"},_ce={Today:"Денес",Month:"Месец",Week:"Недела",Day:"Ден","Select View":"Избери Преглед",events:"настани",event:"настан","No events":"Нема настани","Next period":"Следен период","Previous period":"Претходен период",to:"до","Full day- and multiple day events":"Целодневни и повеќедневни настани","Link to {{n}} more events on {{date}}":"Линк до {{n}} повеќе настани на {{date}}","Link to 1 more event on {{date}}":"Линк до 1 повеќе настан на {{date}}"},yce={...pce,..._ce},bce={Date:"Tarih","MM/DD/YYYY":"GG/AA/YYYY","Next month":"Sonraki ay","Previous month":"Önceki ay","Choose Date":"Tarih Seç"},wce={Today:"Bugün",Month:"Aylık",Week:"Haftalık",Day:"Günlük","Select View":"Görünüm Seç",events:"etkinlikler",event:"etkinlik","No events":"Etkinlik yok","Next period":"Sonraki dönem","Previous period":"Önceki dönem",to:"dan","Full day- and multiple day events":"Tüm gün ve çoklu gün etkinlikleri","Link to {{n}} more events on {{date}}":"{{date}} tarihinde {{n}} etkinliğe bağlantı","Link to 1 more event on {{date}}":"{{date}} tarihinde 1 etkinliğe bağlantı"},Sce={...bce,...wce},Ece={Date:"Датасы","MM/DD/YYYY":"АА/КК/ЖЖЖЖ","Next month":"Кийинки ай","Previous month":"Өткөн ай","Choose Date":"Күндү тандаңыз"},Cce={Today:"Бүгүн",Month:"Ай",Week:"Апта",Day:"Күн","Select View":"Көрүнүштү тандаңыз",events:"Окуялар",event:"Окуя","No events":"Окуя жок","Next period":"Кийинки мезгил","Previous period":"Өткөн мезгил",to:"чейин","Full day- and multiple day events":"Күн бою жана бир нече күн катары менен болгон окуялар","Link to {{n}} more events on {{date}}":"{{date}} күнүндө {{n}} окуяга байланыш","Link to 1 more event on {{date}}":"{{date}} күнүндө 1 окуяга байланыш"},kce={...Ece,...Cce},Tce={Date:"Tanggal","MM/DD/YYYY":"DD.MM.YYYY","Next month":"Bulan depan","Previous month":"Bulan sebelumnya","Choose Date":"Pilih tanggal"},Ice={Today:"Hari Ini",Month:"Bulan",Week:"Minggu",Day:"Hari","Select View":"Pilih tampilan",events:"Acara",event:"Acara","No events":"Tidak ada acara","Next period":"Periode selanjutnya","Previous period":"Periode sebelumnya",to:"sampai","Full day- and multiple day events":"Sepanjang hari dan acara beberapa hari ","Link to {{n}} more events on {{date}}":"Tautan ke {{n}} acara lainnya pada {{date}}","Link to 1 more event on {{date}}":"Tautan ke 1 acara lainnya pada {{date}}"},Ace={...Tce,...Ice},Pce={Date:"Datum","MM/DD/YYYY":"DD/MM/YYYY","Next month":"Další měsíc","Previous month":"Předchozí měsíc","Choose Date":"Vyberte datum"},xce={Today:"Dnes",Month:"Měsíc",Week:"Týden",Day:"Den","Select View":"Vyberte zobrazení",events:"události",event:"událost","No events":"Žádné události","Next period":"Příští období","Previous period":"Předchozí období",to:"do","Full day- and multiple day events":"Celodenní a vícedenní události","Link to {{n}} more events on {{date}}":"Odkaz na {{n}} dalších událostí dne {{date}}","Link to 1 more event on {{date}}":"Odkaz na 1 další událost dne {{date}}"},Dce={...Pce,...xce},Rce={Date:"Kuupäev","MM/DD/YYYY":"PP.KK.AAAA","Next month":"Järgmine kuu","Previous month":"Eelmine kuu","Choose Date":"Vali kuupäev"},Oce={Today:"Täna",Month:"Kuu",Week:"Nädal",Day:"Päev","Select View":"Vali vaade",events:"sündmused",event:"sündmus","No events":"Pole sündmusi","Next period":"Järgmine periood","Previous period":"Eelmine periood",to:"kuni","Full day- and multiple day events":"Täispäeva- ja mitmepäevasündmused","Link to {{n}} more events on {{date}}":"Link {{n}} rohkematele sündmustele kuupäeval {{date}}","Link to 1 more event on {{date}}":"Link ühele lisasündmusele kuupäeval {{date}}"},Vce={...Rce,...Oce},Nce={Date:"Дата","MM/DD/YYYY":"ММ/ДД/РРРР","Next month":"Наступний місяць","Previous month":"Минулий місяць","Choose Date":"Виберіть дату"},Mce={Today:"Сьогодні",Month:"Місяць",Week:"Тиждень",Day:"День","Select View":"Виберіть вигляд",events:"події",event:"подія","No events":"Немає подій","Next period":"Наступний період","Previous period":"Минулий період",to:"по","Full day- and multiple day events":"Події на цілий день і кілька днів поспіль","Link to {{n}} more events on {{date}}":"Посилання на {{n}} додаткові події на {{date}}","Link to 1 more event on {{date}}":"Посилання на 1 додаткову подію на {{date}}"},Lce={...Nce,...Mce},Fce={Date:"Datum","MM/DD/YYYY":"DD/MM/YYYY","Next month":"Sledeći mesec","Previous month":"Prethodni mesec","Choose Date":"Izaberite datum"},$ce={Today:"Danas",Month:"Mesec",Week:"Nedelja",Day:"Dan","Select View":"Odaberite pregled",events:"Događaji",event:"Događaj","No events":"Nema događaja","Next period":"Naredni period","Previous period":"Prethodni period",to:"do","Full day- and multiple day events":"Celodnevni i višednevni događaji","Link to {{n}} more events on {{date}}":"Link do još {{n}} događaja na {{date}}","Link to 1 more event on {{date}}":"Link do jednog događaja na {{date}}"},Bce={...Fce,...$ce};class Uce extends Error{constructor(t){super(`Invalid locale: ${t}`)}}const jce=(e,t)=>(n,i)=>{if(!/^[a-z]{2}-[A-Z]{2}$/.test(e.value))throw new Uce(e.value);const r=e.value.replace("-",""),s=t[r];if(!s)return n;let o=s[n]||n;return Object.keys(i||{}).forEach(a=>{const l=String(i==null?void 0:i[a]);l&&(o=o.replace(`{{${a}}}`,l))}),o},Hce={Date:"Data","MM/DD/YYYY":"DD/MM/YYYY","Next month":"Següent mes","Previous month":"Mes anterior","Choose Date":"Selecciona una data"},Wce={Today:"Avui",Month:"Mes",Week:"Setmana",Day:"Dia","Select View":"Selecciona una vista",events:"Esdeveniments",event:"Esdeveniment","No events":"Sense esdeveniments","Next period":"Següent període","Previous period":"Període anterior",to:"a","Full day- and multiple day events":"Esdeveniments de dia complet i de múltiples dies","Link to {{n}} more events on {{date}}":"Enllaç a {{n}} esdeveniments més el {{date}}","Link to 1 more event on {{date}}":"Enllaç a 1 esdeveniment més el {{date}}"},zce={...Hce,...Wce},Gce={deDE:kue,enUS:Aue,itIT:Due,enGB:Vue,svSE:Lue,zhCN:Bue,jaJP:Hue,ruRU:Gue,koKR:Kue,frFR:Jue,daDK:tce,mkMK:yce,plPL:rce,esES:ace,nlNL:cce,ptBR:hce,skSK:gce,trTR:Sce,kyKG:kce,idID:Ace,csCZ:Dce,etEE:Vce,ukUA:Lce,caES:zce,srRS:Bce};class qce{constructor(t){Object.defineProperty(this,"config",{enumerable:!0,configurable:!0,writable:!0,value:t})}setLight(){Object.entries(this.config.calendars.value||{}).forEach(([t,n])=>{if(!n.lightColors){console.warn(`No light colors defined for calendar ${t}`);return}this.setColors(n.colorName,n.lightColors)})}setDark(){Object.entries(this.config.calendars.value||{}).forEach(([t,n])=>{if(!n.darkColors){console.warn(`No dark colors defined for calendar ${t}`);return}this.setColors(n.colorName,n.darkColors)})}setColors(t,n){document.documentElement.style.setProperty(`--sx-color-${t}`,n.main),document.documentElement.style.setProperty(`--sx-color-${t}-container`,n.container),document.documentElement.style.setProperty(`--sx-color-on-${t}-container`,n.onContainer)}}const Yce=(e,t,n)=>{var i;const r=$t(((i=e.views.value.find(f=>f.name===e.defaultView))===null||i===void 0?void 0:i.name)||e.views.value[0].name),s=T4(()=>r.value),o=$t(null);let a=!1;const l=f=>{if(!a)return a=!0;e.callbacks.onRangeUpdate&&f.value&&e.callbacks.onRangeUpdate(f.value)};To(()=>{e.callbacks.onRangeUpdate&&o.value&&l(o)});const u=f=>{var v,m;const _=e.views.value.find(y=>y.name===r.value).setDateRange({calendarConfig:e,date:f,range:o,timeUnitsImpl:t});_.start===((v=o.value)===null||v===void 0?void 0:v.start)&&_.end===((m=o.value)===null||m===void 0?void 0:m.end)||(o.value=_)};u(n||Hn(new Date));const d=$t(void 0),c=$t(e.isDark.value||!1);return To(()=>{const f=new qce(e);c.value?f.setDark():f.setLight()}),{view:s,isDark:c,setRange:u,range:o,isCalendarSmall:d,setView:(f,v)=>{Aw(()=>{r.value=f,u(v)})}}},Kce=(e,t)=>{const n=$t(e.map(r=>ym(r,t))),i=$t(void 0);return{list:n,filterPredicate:i}};Xi.Week;const Xce={start:0,end:2400},Qce=1600,Jf="blocker",Jce=(e,t,n)=>e===t?2400:n?2400-e+t:t-e;class Zce{constructor(t=O4,n=V4,i=Xi.Week,r=[],s=Xce,o,a={},l={},u=!1,d=!0,c={},f={},v=void 0,m=void 0,p={nEventsPerDay:4}){Object.defineProperty(this,"defaultView",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"plugins",{enumerable:!0,configurable:!0,writable:!0,value:l}),Object.defineProperty(this,"isResponsive",{enumerable:!0,configurable:!0,writable:!0,value:d}),Object.defineProperty(this,"callbacks",{enumerable:!0,configurable:!0,writable:!0,value:c}),Object.defineProperty(this,"_customComponentFns",{enumerable:!0,configurable:!0,writable:!0,value:f}),Object.defineProperty(this,"locale",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"firstDayOfWeek",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"views",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"dayBoundaries",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"weekOptions",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"calendars",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"isDark",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"minDate",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"maxDate",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"monthGridOptions",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.locale=$t(t),this.firstDayOfWeek=$t(n),this.views=$t(r),this.dayBoundaries=$t(s),this.weekOptions=$t(o),this.calendars=$t(a),this.isDark=$t(u),this.minDate=$t(v),this.maxDate=$t(m),this.monthGridOptions=$t(p)}get isHybridDay(){return this.dayBoundaries.value.start>this.dayBoundaries.value.end||this.dayBoundaries.value.start!==0&&this.dayBoundaries.value.start===this.dayBoundaries.value.end}get timePointsPerDay(){return Jce(this.dayBoundaries.value.start,this.dayBoundaries.value.end,this.isHybridDay)}}class ede{constructor(){Object.defineProperty(this,"locale",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"firstDayOfWeek",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"defaultView",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"views",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"dayBoundaries",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"weekOptions",{enumerable:!0,configurable:!0,writable:!0,value:{gridHeight:Qce,nDays:7,eventWidth:100,timeAxisFormatOptions:{hour:"numeric"}}}),Object.defineProperty(this,"monthGridOptions",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"calendars",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"plugins",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"isDark",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"isResponsive",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"callbacks",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"minDate",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"maxDate",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}build(){return new Zce(this.locale,this.firstDayOfWeek,this.defaultView,this.views,this.dayBoundaries,this.weekOptions,this.calendars,this.plugins,this.isDark,this.isResponsive,this.callbacks,{},this.minDate,this.maxDate,this.monthGridOptions)}withLocale(t){return this.locale=t,this}withFirstDayOfWeek(t){return this.firstDayOfWeek=t,this}withDefaultView(t){return this.defaultView=t,this}withViews(t){return this.views=t,this}withDayBoundaries(t){return t?(this.dayBoundaries={start:Sa(t.start),end:Sa(t.end)},this):this}withWeekOptions(t){return this.weekOptions={...this.weekOptions,...t},this}withCalendars(t){return this.calendars=t,this}withPlugins(t){return t?(t.forEach(n=>{this.plugins[n.name]=n}),this):this}withIsDark(t){return this.isDark=t,this}withIsResponsive(t){return this.isResponsive=t,this}withCallbacks(t){return this.callbacks=t,this}withMinDate(t){return this.minDate=t,this}withMaxDate(t){return this.maxDate=t,this}withMonthGridOptions(t){return this.monthGridOptions=t,this}}const tde=(e,t)=>new ede().withLocale(e.locale).withFirstDayOfWeek(e.firstDayOfWeek).withDefaultView(e.defaultView).withViews(e.views).withDayBoundaries(e.dayBoundaries).withWeekOptions(e.weekOptions).withCalendars(e.calendars).withPlugins(t).withIsDark(e.isDark).withIsResponsive(e.isResponsive).withCallbacks(e.callbacks).withMinDate(e.minDate).withMaxDate(e.maxDate).withMonthGridOptions(e.monthGridOptions).build();var Ow;(function(e){e[e.JANUARY=0]="JANUARY",e[e.FEBRUARY=1]="FEBRUARY",e[e.MARCH=2]="MARCH",e[e.APRIL=3]="APRIL",e[e.MAY=4]="MAY",e[e.JUNE=5]="JUNE",e[e.JULY=6]="JULY",e[e.AUGUST=7]="AUGUST",e[e.SEPTEMBER=8]="SEPTEMBER",e[e.OCTOBER=9]="OCTOBER",e[e.NOVEMBER=10]="NOVEMBER",e[e.DECEMBER=11]="DECEMBER"})(Ow||(Ow={}));class $4 extends Error{constructor(){super("Year zero does not exist in the Gregorian calendar.")}}class nde extends Date{constructor(t,n,i){if(super(t,n,i),t===0)throw new $4;this.setFullYear(t)}get year(){return this.getFullYear()}get month(){return this.getMonth()}get date(){return this.getDate()}}class ide{constructor(t){Object.defineProperty(this,"config",{enumerable:!0,configurable:!0,writable:!0,value:t})}get firstDayOfWeek(){return this.config.firstDayOfWeek.value}set firstDayOfWeek(t){this.config.firstDayOfWeek.value=t}getMonthWithTrailingAndLeadingDays(t,n){if(t===0)throw new $4;const i=new Date(t,n,1),r=[this.getWeekFor(i)];let s=!0,o=r[0][0];for(;s;){const a=new Date(o.getFullYear(),o.getMonth(),o.getDate()+7);a.getMonth()===n?(r.push(this.getWeekFor(a)),o=a):s=!1}return r}getWeekFor(t){const n=[this.getFirstDateOfWeek(t)];for(;n.length<7;){const i=n[n.length-1],r=new Date(i);r.setDate(i.getDate()+1),n.push(r)}return n}getMonthsFor(t){return Object.values(Ow).filter(n=>!isNaN(Number(n))).map(n=>new nde(t,Number(n),1))}getFirstDateOfWeek(t){const n=t.getDay()-this.firstDayOfWeek,i=t;return n===0||(n>0?i.setDate(t.getDate()-n):i.setDate(t.getDate()-(7+n))),i}}class rde{constructor(){Object.defineProperty(this,"config",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}build(){return new ide(this.config)}withConfig(t){return this.config=t,this}}const sde=e=>new rde().withConfig(e).build();var xg;(function(e){e.TOP_START="top-start",e.TOP_END="top-end",e.BOTTOM_START="bottom-start",e.BOTTOM_END="bottom-end"})(xg||(xg={}));class ode{constructor(t=O4,n=V4,i=Hn(new Date(1970,0,1)),r=Hn(new Date(new Date().getFullYear()+50,11,31)),s=xg.BOTTOM_START,o={},a={},l,u,d,c){Object.defineProperty(this,"min",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"max",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"placement",{enumerable:!0,configurable:!0,writable:!0,value:s}),Object.defineProperty(this,"listeners",{enumerable:!0,configurable:!0,writable:!0,value:o}),Object.defineProperty(this,"style",{enumerable:!0,configurable:!0,writable:!0,value:a}),Object.defineProperty(this,"teleportTo",{enumerable:!0,configurable:!0,writable:!0,value:l}),Object.defineProperty(this,"label",{enumerable:!0,configurable:!0,writable:!0,value:u}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:d}),Object.defineProperty(this,"disabled",{enumerable:!0,configurable:!0,writable:!0,value:c}),Object.defineProperty(this,"locale",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"firstDayOfWeek",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.locale=$t(t),this.firstDayOfWeek=$t(n)}}class ade{constructor(){Object.defineProperty(this,"locale",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"firstDayOfWeek",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"min",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"max",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"placement",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"listeners",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"style",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"teleportTo",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"label",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"disabled",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}build(){return new ode(this.locale,this.firstDayOfWeek,this.min,this.max,this.placement,this.listeners,this.style,this.teleportTo,this.label,this.name,this.disabled)}withLocale(t){return this.locale=t,this}withFirstDayOfWeek(t){return this.firstDayOfWeek=t,this}withMin(t){return this.min=t,this}withMax(t){return this.max=t,this}withPlacement(t){return this.placement=t,this}withListeners(t){return this.listeners=t,this}withStyle(t){return this.style=t,this}withTeleportTo(t){return this.teleportTo=t,this}withLabel(t){return this.label=t,this}withName(t){return this.name=t,this}withDisabled(t){return this.disabled=t,this}}const lde=(e,t)=>{var n;return new ade().withLocale(e.locale).withFirstDayOfWeek(e.firstDayOfWeek).withMin(e.minDate).withMax(e.maxDate).withStyle((n=e.datePicker)===null||n===void 0?void 0:n.style).withPlacement(xg.BOTTOM_END).withListeners({onChange:t}).build()},ude=(e,t)=>{let n=null;return i=>{var r;e.setRange(i),!((r=t.callbacks)===null||r===void 0)&&r.onSelectedDateUpdate&&i!==n&&(n=i,t.callbacks.onSelectedDateUpdate(i))}},cde=(e,t)=>{if(e&&t)throw new Error("You cannot provide plugins over the config object and as an argument to createCalendar.")},dde=(e,t)=>{var n;const i=tde(e,t),r=sde(i),s=Yce(i,r,e.selectedDate),o=ude(s,e),a=lde(e,o),l=Sue(a,e.selectedDate||((n=e.datePicker)===null||n===void 0?void 0:n.selectedDate)),u=Kce(e.events||[],i);return new _ue().withConfig(i).withTimeUnitsImpl(r).withDatePickerState(l).withCalendarEvents(u).withDatePickerConfig(a).withCalendarState(s).withTranslate(jce(i.locale,Gce)).build()},B4=(e,t)=>(cde(e.plugins,t),new gue(dde(e,e.plugins||[])));class fde{constructor(t){Object.defineProperty(this,"randomId",{enumerable:!0,configurable:!0,writable:!0,value:Ki()}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"label",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"Component",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"setDateRange",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"hasSmallScreenCompat",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"hasWideScreenCompat",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"backwardForwardFn",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"backwardForwardUnits",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=t.name,this.label=t.label,this.Component=t.Component,this.setDateRange=t.setDateRange,this.hasSmallScreenCompat=t.hasSmallScreenCompat,this.hasWideScreenCompat=t.hasWideScreenCompat,this.backwardForwardFn=t.backwardForwardFn,this.backwardForwardUnits=t.backwardForwardUnits}render(t,n){Eg(Hl(this.Component,{$app:n,id:this.randomId}),t)}destroy(){const t=document.getElementById(this.randomId);t&&t.remove()}}const $a=e=>new fde(e),Vw=(e,t,n)=>{if(n<t.start){const i=2400-t.start;return(n+i)/e*100}return(n-t.start)/e*100},hde=(e,t,n,i)=>Vw(i,n,Sa(kc(t)))-Vw(i,n,Sa(kc(e))),vde=(e,t)=>!e._totalConcurrentEvents||!e._previousConcurrentEvents?0:(e._previousConcurrentEvents||0)/(e._totalConcurrentEvents||0)*t,mde=(e,t)=>t-e,gde=e=>e._previousConcurrentEvents?"1px solid #fff":0,U4=e=>"time-grid-event-copy-"+e,Hh=e=>"touches"in e&&typeof e.touches=="object";function O_(e){const[t,n]=Et(),i=u=>{if(!u)return n(void 0);n(Qf(u,e))},[r,s]=Et(),o=(u,d)=>{s(setTimeout(()=>u(d),150))},a=(u,d)=>{if(Hh(u)&&u.touches.length===0||!e.config.plugins.eventModal)return;const c=u.target;if(!(c instanceof HTMLElement))return;const f=c.classList.contains("sx__event")?c:c.closest(".sx__event");f instanceof HTMLElement&&(e.config.plugins.eventModal.calendarEventElement.value=f,e.config.plugins.eventModal.setCalendarEvent(d,f.getBoundingClientRect()))};return{eventCopy:t,updateCopy:i,createDragStartTimeout:o,setClickedEventIfNotDragging:(u,d)=>{r&&(clearTimeout(r),a(d,u)),s(void 0)},setClickedEvent:a}}const pde=(e,t)=>{let n=e?"custom-time-grid-event-"+Ki():void 0;return n&&t&&(n+="-copy"),n},Ea=(e,t)=>{e.config.callbacks.onEventClick&&e.config.callbacks.onEventClick(t._getExternalEvent())},j4=e=>{const t=Hh(e)?e.touches[0]:e;return{clientX:t.clientX,clientY:t.clientY}},_de=(e,t,n)=>Vw(n,t,Sa(kc(e))),Zf=e=>{setTimeout(()=>{e()})},V_=e=>{const t=e.elements.calendarWrapper;if(!(t instanceof HTMLElement))return;const n=t.querySelector(".sx__event-modal");n instanceof HTMLElement&&setTimeout(()=>{n.focus()},100)};function H4({calendarEvent:e,dayBoundariesDateTime:t,isCopy:n,setMouseDown:i}){var r,s,o,a;const l=Vn(ei),{eventCopy:u,updateCopy:d,createDragStartTimeout:c,setClickedEventIfNotDragging:f,setClickedEvent:v}=O_(l),m=[l.config.locale.value,{hour:"numeric",minute:"numeric"}],p=(D,B)=>{const $=nn(D).toLocaleTimeString(...m),j=nn(B).toLocaleTimeString(...m);return`${$} – ${j}`},_={borderLeft:`4px solid var(--sx-color-${e._color})`,textColor:`var(--sx-color-on-${e._color}-container)`,backgroundColor:`var(--sx-color-${e._color}-container)`,iconStroke:`var(--sx-color-on-${e._color}-container)`},y=vde(e,l.config.weekOptions.value.eventWidth),b=D=>{var B;if(Hh(D)&&D.preventDefault(),!t||!D.target||!l.config.plugins.dragAndDrop||!((B=e._options)===null||B===void 0)&&B.disableDND)return;const $=Qf(e,l);d($),l.config.plugins.dragAndDrop.createTimeGridDragHandler({$app:l,eventCoordinates:j4(D),updateCopy:d,eventCopy:$},t)},C=l.config._customComponentFns.timeGridEvent,k=pde(C,n);Xt(()=>{C&&C(ro(k),{calendarEvent:e._getExternalEvent()})},[e,u]);const R=D=>{D.stopPropagation(),Ea(l,e)},O=D=>{(D.key==="Enter"||D.key===" ")&&(D.stopPropagation(),v(D,e),Ea(l,e),Zf(()=>{V_(l)}))},x=D=>{if(i(!0),D.stopPropagation(),!!t&&l.config.plugins.resize){const B=Qf(e,l);d(B),l.config.plugins.resize.createTimeGridEventResizer(B,d,D,t)}},S=gde(e),w=["sx__time-grid-event","sx__event"];n&&w.push("is-event-copy"),!((r=e._options)===null||r===void 0)&&r.additionalClasses&&w.push(...e._options.additionalClasses);const E=D=>{i(!0),c(b,D)},A=D=>{Zf(()=>i(!1)),f(e,D)},P=(s=e._customContent)===null||s===void 0?void 0:s.timeGrid;return K(Ot,{children:[K("div",{id:n?U4(e.id):void 0,"data-event-id":e.id,onClick:R,onKeyDown:O,onMouseDown:E,onMouseUp:A,onTouchStart:E,onTouchEnd:A,className:w.join(" "),tabIndex:0,role:"button",style:{top:`${_de(e.start,l.config.dayBoundaries.value,l.config.timePointsPerDay)}%`,height:`${hde(e.start,e.end,l.config.dayBoundaries.value,l.config.timePointsPerDay)}%`,left:`${y}%`,width:`${mde(y,n?100:l.config.weekOptions.value.eventWidth)}%`,backgroundColor:C?void 0:_.backgroundColor,color:C?void 0:_.textColor,borderTop:S,borderRight:S,borderBottom:S,borderLeft:C?void 0:_.borderLeft,padding:C?"0":void 0},children:K("div",{"data-ccid":k,className:"sx__time-grid-event-inner",children:[!C&&!P&&K(Ot,{children:[e.title&&K("div",{className:"sx__time-grid-event-title",children:e.title}),K("div",{className:"sx__time-grid-event-time",children:[K(R4,{strokeColor:_.iconStroke}),p(e.start,e.end)]}),e.people&&e.people.length>0&&K("div",{className:"sx__time-grid-event-people",children:[K(Lle,{strokeColor:_.iconStroke}),Wle(e.people)]}),e.location&&K("div",{className:"sx__time-grid-event-location",children:[K(Fle,{strokeColor:_.iconStroke}),e.location]})]}),P&&K("div",{dangerouslySetInnerHTML:{__html:((o=e._customContent)===null||o===void 0?void 0:o.timeGrid)||""}}),l.config.plugins.resize&&!(!((a=e._options)===null||a===void 0)&&a.disableResize)&&K("div",{className:"sx__time-grid-event-resize-handle",onMouseDown:x})]})}),u&&K(H4,{calendarEvent:u,isCopy:!0,setMouseDown:i})]})}const EC=(e,t)=>e.start===t.start?e.end<t.end?1:e.end>t.end?-1:0:e.start<t.start?-1:e.start>t.start?1:0,yde=(e,t)=>{const n=en(e.start),i=en(t.start),r=en(e.end),s=en(t.end);return n===i?r<s?1:r>s?-1:0:n<i?-1:n>i?1:0},Nw=(e,t=[],n=0)=>{for(let i=n;i<e.length;i++){const r=e[i],s=e[i+1];if(t.length&&(!s||t.every(o=>o.end<s.start))){t.push(r);for(let o=0;o<t.length;o++){const a=t[o],l=t.filter((d,c)=>d===a||c>o?!1:d.start<=a.start&&d.end>a.start).length,u=t.filter((d,c)=>d===a||c<o?!1:d.start<a.end&&d.end>=a.start).length;a._totalConcurrentEvents=l+u+1,a._previousConcurrentEvents=l}return t=[],Nw(e,t,i+1)}if(s&&r.end>s.start||t.some(o=>o.end>r.start))return t.push(r),Nw(e,t,i+1);r._totalConcurrentEvents=1,r._previousConcurrentEvents=0}return e},bde=(e,t,n)=>{if(!(e.target instanceof HTMLElement))return;const i="sx__time-grid-day",r=e.target.classList.contains(i)?e.target:e.target.closest("."+i),o=(e.clientY-r.getBoundingClientRect().top)/r.getBoundingClientRect().height*100,a=Math.round(t.config.timePointsPerDay/100*o);return Ule(n,a)},N_=e=>{switch(e){case 0:return"sx__sunday";case 1:return"sx__monday";case 2:return"sx__tuesday";case 3:return"sx__wednesday";case 4:return"sx__thursday";case 5:return"sx__friday";case 6:return"sx__saturday";default:throw new Error("Invalid weekday")}};function wde({calendarEvents:e,date:t}){const[n,i]=Et(!1),r=Vn(ei),s=Pg(r.config.dayBoundaries.value.start),o=Pg(r.config.dayBoundaries.value.end),a=sb(t,s),l=r.config.isHybridDay?Fa(sb(t,o),1):sb(t,o),u={start:a,end:l},d=e.sort(EC),[c,f]=Et([]);Xt(()=>{f(Nw(d))},[e]);const v=(b,C)=>{if(!C||n)return;const k=bde(b,r,a);k&&C(k)},m=()=>{setTimeout(()=>{i(!1)},10)},p=["sx__time-grid-day",N_(nn(t).getDay())],[_,y]=Et(p);return fa(()=>{const b=[...p];r.datePickerState.selectedDate.value===t&&b.push("is-selected"),y(b)}),K("div",{className:_.join(" "),"data-time-grid-date":t,onClick:b=>v(b,r.config.callbacks.onClickDateTime),onDblClick:b=>v(b,r.config.callbacks.onDoubleClickDateTime),"aria-label":ha(t,r.config.locale.value),onMouseLeave:()=>i(!1),onMouseUp:m,onTouchEnd:m,children:c.map(b=>K(H4,{calendarEvent:b,dayBoundariesDateTime:u,setMouseDown:i},b.id))})}const Sde=({start:e,end:t},n)=>{const i=[];let r=Math.floor(e/100);if(n){for(;r<24;)i.push(r),r+=1;r=0}const s=t===0?24:Math.ceil(t/100);for(;r<s;)i.push(r),r+=1;return i};function Ede(){const e=Vn(ei),[t,n]=Et([]);fa(()=>{n(Sde(e.config.dayBoundaries.value,e.config.isHybridDay));const r=e.config.timePointsPerDay/100,s=e.config.weekOptions.value.gridHeight/r;document.documentElement.style.setProperty("--sx-week-grid-hour-height",`${s}px`)});const i=new Intl.DateTimeFormat(e.config.locale.value,e.config.weekOptions.value.timeAxisFormatOptions);return K(Ot,{children:K("div",{className:"sx__week-grid__time-axis",children:t.map(r=>K("div",{className:"sx__week-grid__hour",children:K("span",{className:"sx__week-grid__hour-text",children:i.format(new Date(0,0,0,r))})}))})})}function Cde({week:e}){const t=Vn(ei),n=i=>{const r=["sx__week-grid__date",N_(i.getDay())];return wC(i)&&r.push("sx__week-grid__date--is-today"),r.join(" ")};return K(Ot,{children:K("div",{className:"sx__week-grid__date-axis",children:e.map(i=>K("div",{className:n(i),"data-date":Hn(i),children:[K("div",{className:"sx__week-grid__day-name",children:bC(i,t.config.locale.value)}),K("div",{className:"sx__week-grid__date-number",children:i.getDate()})]}))})})}const kde=e=>{const t=[],n=[];for(const i of e){if(i._isSingleDayTimed||i._isSingleHybridDayTimed){n.push(i);continue}(i._isSingleDayFullDay||i._isMultiDayFullDay||i._isMultiDayTimed)&&t.push(i)}return{timeGridEvents:n,dateGridEvents:t}},Tx=(e,t)=>{const n=Hn(t);return e[n]={date:n,timeGridEvents:[],dateGridEvents:{}},e},Tde=e=>e.calendarState.view.value===Xi.Day?Tx({},nn(e.calendarState.range.value.start)):e.timeUnitsImpl.getWeekFor(nn(e.datePickerState.selectedDate.value)).slice(0,e.config.weekOptions.value.nDays).reduce(Tx,{}),Ide=(e,t,n)=>{var i;for(const r of e){const s=n.calendarState.range.value;if(r.start>=s.start&&r.end<=s.end){let o=en(r.start);const a=kc(r.start);Sa(a)<n.config.dayBoundaries.value.start&&(o=Fa(o,-1)),(i=t[o])===null||i===void 0||i.timeGridEvents.push(r)}}return t},Ade=(e,t)=>{const n=Object.keys(t).sort(),i=n[0],r=n[n.length-1],s=new Set;for(const o of e){const a=en(o.start),l=en(o.end),u=!!t[a];let d=u;if(!u&&a<i&&l>=i&&(d=!0),!d)continue;const c=u?a:i,f=l<=r?l:r,v=Object.values(t).filter(_=>_.date>=c&&_.date<=f);let m,p=0;for(;m===void 0;)v.every(y=>!y.dateGridEvents[p])?(m=p,s.add(p)):p++;for(const[_,y]of v.entries())_===0?(o._nDaysInGrid=v.length,y.dateGridEvents[m]=o):y.dateGridEvents[m]=Jf}for(const o of Array.from(s))for(const[,a]of Object.entries(t))a.dateGridEvents[o]||(a.dateGridEvents[o]=void 0);return t},Pde=(e,t,n)=>{let i=2;const r=10;return e&&n&&(i+=r),t&&n&&(i+=r),i},xde=(e,t,n)=>({borderBottomLeftRadius:e||n?0:void 0,borderTopLeftRadius:e||n?0:void 0,borderBottomRightRadius:t||n?0:void 0,borderTopRightRadius:t||n?0:void 0});function W4({calendarEvent:e,gridRow:t,isCopy:n}){var i,r,s,o;const a=Vn(ei),{eventCopy:l,updateCopy:u,createDragStartTimeout:d,setClickedEventIfNotDragging:c,setClickedEvent:f}=O_(a),v={borderLeft:`4px solid var(--sx-color-${e._color})`,color:`var(--sx-color-on-${e._color}-container)`,backgroundColor:`var(--sx-color-${e._color}-container)`},m=w=>{var E;if(!a.config.plugins.dragAndDrop||!((E=e._options)===null||E===void 0)&&E.disableDND)return;Hh(w)&&w.preventDefault();const A=Qf(e,a);u(A),a.config.plugins.dragAndDrop.createDateGridDragHandler({eventCoordinates:j4(w),eventCopy:A,updateCopy:u,$app:a})},p=en(e.start)<en(a.calendarState.range.value.start),_=en(e.end)>en(a.calendarState.range.value.end),y={backgroundColor:v.backgroundColor},b=a.config._customComponentFns.dateGridEvent;let C=b?"custom-date-grid-event-"+Ki():void 0;n&&C&&(C+="-copy"),Xt(()=>{b&&b(ro(C),{calendarEvent:e._getExternalEvent()})},[e,l]);const k=w=>{w.stopPropagation();const E=Qf(e,a);u(E),a.config.plugins.resize.createDateGridEventResizer(E,u,w)},R=w=>{(w.key==="Enter"||w.key===" ")&&(w.stopPropagation(),f(w,e),Ea(a,e),Zf(()=>{V_(a)}))},O=["sx__event","sx__date-grid-event","sx__date-grid-cell"];n&&O.push("sx__date-grid-event--copy"),p&&O.push("sx__date-grid-event--overflow-left"),_&&O.push("sx__date-grid-event--overflow-right"),!((i=e._options)===null||i===void 0)&&i.additionalClasses&&O.push(...e._options.additionalClasses);const x=p?"none":v.borderLeft,S=(r=e._customContent)===null||r===void 0?void 0:r.dateGrid;return K(Ot,{children:[K("div",{id:n?U4(e.id):void 0,tabIndex:0,"aria-label":e.title+" "+M4(e,a.config.locale.value,a.translate("to")),role:"button","data-ccid":C,"data-event-id":e.id,onMouseDown:w=>d(m,w),onMouseUp:w=>c(e,w),onTouchStart:w=>d(m,w),onTouchEnd:w=>c(e,w),onClick:()=>Ea(a,e),onKeyDown:R,className:O.join(" "),style:{width:`calc(${e._nDaysInGrid*100}% - ${Pde(p,_,!b)}px)`,gridRow:t,display:l?"none":"flex",padding:b?"0px":void 0,borderLeft:b?void 0:x,color:b?void 0:v.color,backgroundColor:b?void 0:v.backgroundColor,...xde(p,_,!!b)},children:[!b&&!S&&K(Ot,{children:[p&&K("div",{className:"sx__date-grid-event--left-overflow",style:y}),K("span",{className:"sx__date-grid-event-text",children:[e.title,"  ",Qo.test(e.start)&&K("span",{className:"sx__date-grid-event-time",children:Lu(e.start,a.config.locale.value)})]}),_&&K("div",{className:"sx__date-grid-event--right-overflow",style:y})]}),S&&K("div",{dangerouslySetInnerHTML:{__html:((s=e._customContent)===null||s===void 0?void 0:s.dateGrid)||""}}),a.config.plugins.resize&&!(!((o=e._options)===null||o===void 0)&&o.disableResize)&&!_&&K("div",{className:"sx__date-grid-event-resize-handle",onMouseDown:k})]}),l&&K(W4,{calendarEvent:l,gridRow:t,isCopy:!0})]})}function Dde({calendarEvents:e,date:t}){return K("div",{className:"sx__date-grid-day","data-date-grid-date":t,children:Object.values(e).map((n,i)=>n===Jf||!n?K("div",{className:"sx__date-grid-cell",style:{gridRow:i+1}}):K(W4,{calendarEvent:n,gridRow:i+1}))})}const z4=({$app:e,id:t})=>{document.documentElement.style.setProperty("--sx-week-grid-height",`${e.config.weekOptions.value.gridHeight}px`);const[n,i]=Et({});return fa(()=>{var r,s;const o=(r=e.calendarState.range.value)===null||r===void 0?void 0:r.start,a=(s=e.calendarState.range.value)===null||s===void 0?void 0:s.end;if(!o||!a)return;let l=Tde(e);const u=e.calendarEvents.filterPredicate.value?e.calendarEvents.list.value.filter(e.calendarEvents.filterPredicate.value):e.calendarEvents.list.value,{dateGridEvents:d,timeGridEvents:c}=kde(u);l=Ade(d.sort(EC),l),l=Ide(c,l,e),i(l)}),K(Ot,{children:K(ei.Provider,{value:e,children:K("div",{className:"sx__week-wrapper",id:t,children:[K("div",{className:"sx__week-header",children:K("div",{className:"sx__week-header-content",children:[K(Cde,{week:Object.values(n).map(r=>nn(r.date))}),K("div",{className:"sx__date-grid","aria-label":e.translate("Full day- and multiple day events"),children:Object.values(n).map(r=>K(Dde,{date:r.date,calendarEvents:r.dateGridEvents},r.date))}),K("div",{className:"sx__week-header-border"})]})}),K("div",{className:"sx__week-grid",children:[K(Ede,{}),Object.values(n).map(r=>K(wde,{calendarEvents:r.timeGridEvents,date:r.date},r.date))]})]})})})},G4=(e,t)=>`${Hn(t)} ${Pg(e.dayBoundaries.value.start)}`,q4=(e,t)=>{let n=Pg(e.dayBoundaries.value.end),i=Hn(t);return e.isHybridDay&&(i=Fa(i,1)),e.dayBoundaries.value.end===2400&&(n="23:59"),`${i} ${n}`},Rde=e=>{const t=e.timeUnitsImpl.getWeekFor(nn(e.date)).slice(0,e.calendarConfig.weekOptions.value.nDays);return{start:G4(e.calendarConfig,t[0]),end:q4(e.calendarConfig,t[t.length-1])}},Y4=e=>{const{year:t,month:n}=Tr(e.date),i=e.timeUnitsImpl.getMonthWithTrailingAndLeadingDays(t,n),r=Hn(i[i.length-1][i[i.length-1].length-1]);return{start:D_(i[0][0]),end:`${r} 23:59`}},Ode=e=>({start:G4(e.calendarConfig,nn(e.date)),end:q4(e.calendarConfig,nn(e.date))}),K4={name:Xi.Week,label:"Week",Component:z4,setDateRange:Rde,hasSmallScreenCompat:!1,hasWideScreenCompat:!0,backwardForwardFn:Fa,backwardForwardUnits:7},Vde=$a(K4),Nde=()=>$a(K4),Mde=(e,t)=>(e.push({date:Hn(t),events:{}}),e),Lde=(e,t)=>{const{year:n,month:i}=Tr(e),r=t.getMonthWithTrailingAndLeadingDays(n,i),s=[];for(const o of r)s.push(o.reduce(Mde,[]));return s};function Fde({gridRow:e,calendarEvent:t,date:n,isFirstWeek:i,isLastWeek:r}){var s,o,a,l,u;const d=Vn(ei),c=i&&((s=d.calendarState.range.value)===null||s===void 0?void 0:s.start)&&en(t.start)<en(d.calendarState.range.value.start),f=r&&((o=d.calendarState.range.value)===null||o===void 0?void 0:o.end)&&en(t.end)>en(d.calendarState.range.value.end),{createDragStartTimeout:v,setClickedEventIfNotDragging:m,setClickedEvent:p}=O_(d),_=en(t.start)===n,y=t._eventFragments[n],b={borderLeft:_?`4px solid var(--sx-color-${t._color})`:void 0,color:`var(--sx-color-on-${t._color}-container)`,backgroundColor:`var(--sx-color-${t._color}-container)`,width:`calc(${y*100+"%"} + ${y}px - 10px)`},C=E=>{var A;Hh(E)&&E.preventDefault(),E.target&&(!d.config.plugins.dragAndDrop||!((A=t._options)===null||A===void 0)&&A.disableDND||d.config.plugins.dragAndDrop.createMonthGridDragHandler(t,d))},k=d.config._customComponentFns.monthGridEvent,R=k?"custom-month-grid-event-"+Ki():void 0;Xt(()=>{k&&k(ro(R),{calendarEvent:t._getExternalEvent(),hasStartDate:_})},[t]);const O=E=>{E.stopPropagation(),Ea(d,t)},x=E=>{(E.key==="Enter"||E.key===" ")&&(E.stopPropagation(),p(E,t),Ea(d,t),Zf(()=>{V_(d)}))},S=["sx__event","sx__month-grid-event","sx__month-grid-cell"];!((a=t._options)===null||a===void 0)&&a.additionalClasses&&S.push(...t._options.additionalClasses),c&&S.push("sx__month-grid-event--overflow-left"),f&&S.push("sx__month-grid-event--overflow-right");const w=(l=t._customContent)===null||l===void 0?void 0:l.monthGrid;return K("div",{draggable:!!d.config.plugins.dragAndDrop,"data-event-id":t.id,"data-ccid":R,onMouseDown:E=>v(C,E),onMouseUp:E=>m(t,E),onTouchStart:E=>v(C,E),onTouchEnd:E=>m(t,E),onClick:O,onKeyDown:x,className:S.join(" "),style:{gridRow:e,width:b.width,padding:k?"0px":void 0,borderLeft:k?void 0:b.borderLeft,color:k?void 0:b.color,backgroundColor:k?void 0:b.backgroundColor},tabIndex:0,role:"button",children:[!k&&!w&&K(Ot,{children:[Qo.test(t.start)&&K("div",{className:"sx__month-grid-event-time",children:Lu(t.start,d.config.locale.value)}),K("div",{className:"sx__month-grid-event-title",children:t.title})]}),w&&K("div",{dangerouslySetInnerHTML:{__html:((u=t._customContent)===null||u===void 0?void 0:u.monthGrid)||""}})]})}function $de({day:e,isFirstWeek:t,isLastWeek:n}){const i=Vn(ei),r=Object.values(e.events).filter(b=>typeof b=="object"||b===Jf).length,s=b=>b===1?i.translate("event"):i.translate("events"),o=b=>b===1?i.translate("Link to 1 more event on {{date}}",{date:ha(e.date,i.config.locale.value)}):i.translate("Link to {{n}} more events on {{date}}",{date:ha(e.date,i.config.locale.value),n:r-i.config.monthGridOptions.value.nEventsPerDay}),a=b=>{b.stopPropagation(),i.config.callbacks.onClickPlusEvents&&i.config.callbacks.onClickPlusEvents(e.date),i.config.views.value.find(C=>C.name===Xi.Day)&&setTimeout(()=>{i.datePickerState.selectedDate.value=e.date,i.calendarState.setView(Xi.Day,e.date)},250)},l=["sx__month-grid-day__header-date"],u=nn(e.date),d=u;wC(d)&&l.push("sx__is-today");const{month:c}=Tr(i.datePickerState.selectedDate.value),{month:f}=Tr(e.date),v=["sx__month-grid-day",N_(u.getDay())],[m,p]=Et(v);Xt(()=>{const b=[...v];f!==c&&b.push("is-leading-or-trailing"),i.datePickerState.selectedDate.value===e.date&&b.push("is-selected"),p(b)},[i.datePickerState.selectedDate.value]);const y=Object.values(e.events).slice(i.config.monthGridOptions.value.nEventsPerDay).filter(b=>b===Jf||typeof b=="object").length;return K("div",{className:m.join(" "),"data-date":e.date,onClick:()=>i.config.callbacks.onClickDate&&i.config.callbacks.onClickDate(e.date),"aria-label":ha(e.date,i.config.locale.value),onDblClick:()=>{var b,C;return(C=(b=i.config.callbacks).onDoubleClickDate)===null||C===void 0?void 0:C.call(b,e.date)},children:[K("div",{className:"sx__month-grid-day__header",children:[t?K("div",{className:"sx__month-grid-day__header-day-name",children:bC(d,i.config.locale.value)}):null,K("div",{className:l.join(" "),children:d.getDate()})]}),K("div",{className:"sx__month-grid-day__events",children:Object.values(e.events).slice(0,i.config.monthGridOptions.value.nEventsPerDay).map((b,C)=>typeof b!="object"?K("div",{className:"sx__month-grid-blocker sx__month-grid-cell",style:{gridRow:C+1}}):K(Fde,{gridRow:C+1,calendarEvent:b,date:e.date,isFirstWeek:t,isLastWeek:n}))}),y>0?K("button",{className:"sx__month-grid-day__events-more sx__ripple--wide","aria-label":o(y),onClick:a,children:`+ ${y} ${s(y)}`}):null]})}function Bde({week:e,isFirstWeek:t,isLastWeek:n}){return K("div",{className:"sx__month-grid-week",children:e.map(i=>{const r=i.date;return K($de,{day:i,isFirstWeek:t,isLastWeek:n},r)})})}const Ude=(e,t)=>{const n=Object.keys(t).sort(),i=n[0],r=n[n.length-1],s=new Set;for(const o of e){const a=en(o.start),l=en(o.end),u=!!t[a];let d=u;if(!u&&a<i&&l>=i&&(d=!0),!d)continue;const c=u?a:i,f=l<=r?l:r,v=Object.values(t).filter(_=>_.date>=c&&_.date<=f);let m,p=0;for(;m===void 0;)v.every(y=>!y.events[p])?(m=p,s.add(p)):p++;for(const[_,y]of v.entries())_===0?(o._eventFragments[c]=v.length,y.events[m]=o):y.events[m]=Jf}for(const o of Array.from(s))for(const[,a]of Object.entries(t))a.events[o]||(a.events[o]=void 0);return t},jde=(e,t)=>{const n=[];return e.forEach(i=>{const r={};i.forEach(s=>r[s.date]=s),n.push(r)}),n.forEach(i=>Ude(t,i)),e},Hde=({$app:e,id:t})=>{var n,i;const[r,s]=Et([]);return Xt(()=>{e.calendarEvents.list.value.forEach(l=>{l._eventFragments={}});const o=Lde(e.datePickerState.selectedDate.value,e.timeUnitsImpl),a=e.calendarEvents.filterPredicate.value?e.calendarEvents.list.value.filter(e.calendarEvents.filterPredicate.value):e.calendarEvents.list.value;s(jde(o,a.sort(yde)))},[(n=e.calendarState.range.value)===null||n===void 0?void 0:n.start,(i=e.calendarState.range.value)===null||i===void 0?void 0:i.end,e.calendarEvents.list.value,e.calendarEvents.filterPredicate.value]),K(ei.Provider,{value:e,children:K("div",{id:t,className:"sx__month-grid-wrapper",children:r.map((o,a)=>K(Bde,{week:o,isFirstWeek:a===0,isLastWeek:a===r.length-1},a))})})},X4={name:Xi.MonthGrid,label:"Month",setDateRange:Y4,Component:Hde,hasWideScreenCompat:!0,hasSmallScreenCompat:!1,backwardForwardFn:R_,backwardForwardUnits:1};$a(X4);const Wde=()=>$a(X4),zde=({$app:e,id:t})=>K(z4,{$app:e,id:t}),Q4={name:Xi.Day,label:"Day",setDateRange:Ode,hasWideScreenCompat:!0,hasSmallScreenCompat:!0,Component:zde,backwardForwardFn:Fa,backwardForwardUnits:1};$a(Q4);const J4=()=>$a(Q4),Gde=(e,t)=>{const{year:n,month:i}=Tr(e);return{weeks:t.getMonthWithTrailingAndLeadingDays(n,i).map(s=>s.map(o=>({date:Hn(o),events:[]})))}};function qde({day:e,isActive:t,setActiveDate:n}){const i=Vn(ei),{month:r}=Tr(i.datePickerState.selectedDate.value),{month:s}=Tr(e.date),o=nn(e.date),a=["sx__month-agenda-day",N_(o.getDay())];t&&a.push("sx__month-agenda-day--active"),s!==r&&a.push("is-leading-or-trailing");const l=()=>{var c,f;n(e.date),(f=(c=i.config.callbacks).onClickAgendaDate)===null||f===void 0||f.call(c,e.date)},u=c=>c.date===i.datePickerState.selectedDate.value,d=c=>{const f=new Map([["ArrowDown",7],["ArrowUp",-7],["ArrowLeft",-1],["ArrowRight",1]]);i.datePickerState.selectedDate.value=Fa(i.datePickerState.selectedDate.value,f.get(c.key)||0)};return K("button",{className:a.join(" "),onClick:l,"aria-label":ha(e.date,i.config.locale.value),tabIndex:u(e)?0:-1,"data-agenda-focus":u(e)?"true":void 0,onKeyDown:d,children:[K("div",{children:o.getDate()}),K("div",{className:"sx__month-agenda-day__event-icons",children:e.events.slice(0,3).map(c=>K("div",{style:{backgroundColor:`var(--sx-color-${c._color})`,filter:"brightness(1.6)"},className:"sx__month-agenda-day__event-icon"}))})]})}function Yde({week:e,setActiveDate:t,activeDate:n}){return K("div",{className:"sx__month-agenda-week",children:e.map((i,r)=>K(qde,{setActiveDate:t,day:i,isActive:n===i.date},r+i.date))})}function Kde({week:e}){const t=Vn(ei),n=x4(e.map(i=>nn(i.date)),t.config.locale.value);return K("div",{className:"sx__month-agenda-day-names",children:n.map(i=>K("div",{className:"sx__month-agenda-day-name",children:i}))})}const Xde=(e,t)=>{let n=e;const i=[n];for(;n<t;)n=Fa(n,1),i.push(n);return i},Qde=e=>t=>{Xde(en(t.start),en(t.end)).forEach(n=>{e[n]&&e[n].events.push(t)})},Jde=(e,t)=>{const n=e.weeks.reduce((i,r)=>(r.forEach(s=>{i[s.date]=s}),i),{});return t.forEach(Qde(n)),e};function Zde({calendarEvent:e}){var t,n;const i=Vn(ei),{setClickedEvent:r}=O_(i),s={backgroundColor:`var(--sx-color-${e._color}-container)`,color:`var(--sx-color-on-${e._color}-container)`,borderLeft:`4px solid var(--sx-color-${e._color})`},o=i.config._customComponentFns.monthAgendaEvent,a=o?"custom-month-agenda-event-"+e.id:void 0;Xt(()=>{o&&o(ro(a),{calendarEvent:e._getExternalEvent()})},[e]);const l=c=>{r(c,e),Ea(i,e)},u=c=>{(c.key==="Enter"||c.key===" ")&&(c.stopPropagation(),r(c,e),Ea(i,e),Zf(()=>{V_(i)}))},d=(t=e._customContent)===null||t===void 0?void 0:t.monthAgenda;return K("div",{className:"sx__event sx__month-agenda-event","data-ccid":a,"data-event-id":e.id,style:{backgroundColor:o?void 0:s.backgroundColor,color:o?void 0:s.color,borderLeft:o?void 0:s.borderLeft,padding:o?"0px":void 0},onClick:c=>l(c),onKeyDown:u,tabIndex:0,role:"button",children:[!o&&!d&&K(Ot,{children:[K("div",{className:"sx__month-agenda-event__title",children:e.title}),K("div",{className:"sx__month-agenda-event__time sx__month-agenda-event__has-icon",children:[K(R4,{strokeColor:`var(--sx-color-on-${e._color}-container)`}),K("div",{dangerouslySetInnerHTML:{__html:M4(e,i.config.locale.value)}})]})]}),d&&K("div",{dangerouslySetInnerHTML:{__html:((n=e._customContent)===null||n===void 0?void 0:n.monthAgenda)||""}})]})}function efe({events:e}){const t=Vn(ei);return K("div",{className:"sx__month-agenda-events",children:e.length?e.map(n=>K(Zde,{calendarEvent:n},n.id)):K("div",{className:"sx__month-agenda-events__empty",children:t.translate("No events")})})}const tfe=({$app:e,id:t})=>{var n;const i=()=>{const o=e.calendarEvents.filterPredicate.value?e.calendarEvents.list.value.filter(e.calendarEvents.filterPredicate.value):e.calendarEvents.list.value;return Jde(Gde(e.datePickerState.selectedDate.value,e.timeUnitsImpl),o.sort(EC))},[r,s]=Et(i());return Xt(()=>{s(i())},[e.datePickerState.selectedDate.value,e.calendarEvents.list.value,e.calendarEvents.filterPredicate.value]),Xt(()=>{const o=new MutationObserver(l=>{l.forEach(u=>{const d=u.target;d.dataset.agendaFocus==="true"&&d.focus()})}),a=document.getElementById(t);return o.observe(a,{childList:!0,subtree:!0,attributes:!0}),()=>o.disconnect()},[]),K(ei.Provider,{value:e,children:K("div",{id:t,className:"sx__month-agenda-wrapper",children:[K(Kde,{week:r.weeks[0]}),K("div",{className:"sx__month-agenda-weeks",children:r.weeks.map((o,a)=>K(Yde,{week:o,setActiveDate:l=>e.datePickerState.selectedDate.value=l,activeDate:e.datePickerState.selectedDate.value},a))}),K(efe,{events:((n=r.weeks.flat().find(o=>o.date===e.datePickerState.selectedDate.value))===null||n===void 0?void 0:n.events)||[]},e.datePickerState.selectedDate.value)]})})},Z4={name:Xi.MonthAgenda,label:"Month",setDateRange:Y4,Component:tfe,hasSmallScreenCompat:!0,hasWideScreenCompat:!1,backwardForwardFn:R_,backwardForwardUnits:1};$a(Z4);const nfe=()=>$a(Z4),Mr=["Domenica","Lunedì","Martedì","Mercoledì","Giovedì","Venerdì","Sabato"],Ix=["Gennaio","Febbraio","Marzo","Aprile","Maggio","Giugno","Luglio","Agosto","Settembre","Ottobre","Novembre","Dicembre"];class Mt{constructor(t=0,n=0,i=0){this.hour=t,this.minutes=n,this.seconds=i}static fromITime(t){const n=Math.trunc(t/3600),i=Math.trunc((t-n*3600)/60),r=t-(n*3600+i*60);return new Mt(n,i,r)}static fromHHMM(t){try{const n=t.split(":");if(n.length!=2)return;const i=parseInt(n[0]),r=parseInt(n[1]);return new Mt(i,r)}catch{return}}getTotalMinutes(){return this.hour*60+this.minutes}toITime(){return this.hour*3600+this.minutes*60+this.seconds}add(t){return this.hour+=t.hour??0,this.minutes+=t.minutes??0,this.seconds+=t.seconds??0,this}format(){const t=this.hour.toString().padStart(2,"0")||"00",n=this.minutes.toString().padStart(2,"0")||"00",i=this.seconds.toString().padStart(2,"0");return this.seconds!=0?`${t}:${n}:${i}`:`${t}:${n}`}}class pt{constructor(t,n,i){this.day=t,this.month=n,this.year=i}static today(){return this.fromDate(new Date)}static fromIyyyyMMdd(t){if(t.length!=8)throw new Error("Unable to parse date, format not correct (yyyyMMdd): "+t);const n=parseInt(t.substring(0,4)),i=parseInt(t.substring(4,6)),r=parseInt(t.substring(6,8));return new pt(r,i,n)}toIyyyyMMdd(t="",n=0){return`${this.year.toString().padStart(4,"0")}${t}${(this.month+n).toString().padStart(2,"0")}${t}${this.day.toString().padStart(2,"0")}`}static fromDate(t){const n=t.getFullYear(),i=t.getMonth(),r=t.getDate();return new pt(r,i,n)}toDate(){return new Date(this.year,this.month,this.day)}format(){return A1(this.toDate())}equals(t){return this.day==t.day&&this.month==t.month&&this.year==t.year}getYear(){return this.year}getMonth(){return this.month}getDay(){return this.day}}var eh=(e=>(e[e.ABSENT_AND_PRESENT=0]="ABSENT_AND_PRESENT",e[e.ONLY_PRESENT=1]="ONLY_PRESENT",e))(eh||{});const ife=["gray","green","red","orange"];var vn=(e=>(e[e.NONE=0]="NONE",e[e.PRESENT=1]="PRESENT",e[e.ABSENT=2]="ABSENT",e[e.CANCELLED=3]="CANCELLED",e))(vn||{});const rfe={unset:"Lezioni di Recupero da Programmare",pending:"Lezioni di Recupero Programmate",done:"Lezioni di Recupero Completate"};var td=(e=>(e.SCHOOLS="schools",e.STUDENTS="students",e.WEEKLY_LESSONS="weeklyLessons",e.DAILY_LESSONS="dailyLessons",e.RECOVERY_LESSONS="recoveryLessons",e))(td||{});const sfe=()=>({toFirestore:e=>e,fromFirestore:e=>{const t=e.data();return t.id=e.id,t}}),ofe=e=>TX(I0(),e).withConverter(sfe());function Wh(e,t){const n=`${e}/${t}/user${e.charAt(0).toUpperCase()+e.slice(1)}`;return ofe(n)}class zh{constructor(t){An(this,"user",kN());An(this,"cache",{});this._collectionReference=t}get collectionReference(){var t,n,i;return(this.cache.userId!=((t=this.user.value)==null?void 0:t.uid)||!this.cache.collectionReference)&&(this.cache={userId:(n=this.user.value)==null?void 0:n.uid,collectionReference:this._collectionReference(((i=this.user.value)==null?void 0:i.uid)??"")}),this.cache.collectionReference}observe(t){return I(()=>Nd(this.collectionReference,t.value))}async get(t){return(await this.getDoc(t)).data()}async getDoc(t){return await a1(Nd(this.collectionReference,t))}async getAll(...t){const n=Fy(this.collectionReference,...t);return(await S0(n)).docs.map(r=>r.data())}async getAllDocs(...t){const n=Fy(this.collectionReference,...t);return await S0(n)}async save(t,n){return n!=null?($X(Nd(this.collectionReference,n),t),n):(await UX(this.collectionReference,t)).id}observeAll(...t){const n=new dF,i=Fy(this.collectionReference,...t),r=Gp(i,s=>{const o=s.docs.map(a=>a.data());n.next(o)},s=>{n.error(s)});return n.setUnsubscription(r),n}async delete(t){await BX(Nd(this.collectionReference,t))}deleteAll(){throw new Error("Method not implemented.")}}const jg=class jg extends zh{constructor(){super(t=>Wh(td.SCHOOLS,t))}static get instance(){return this._instance||(this._instance=new jg),this._instance}};An(jg,"_instance",null);let Io=jg;var afe=Object.create,eU=Object.defineProperty,lfe=Object.getOwnPropertyDescriptor,CC=Object.getOwnPropertyNames,ufe=Object.getPrototypeOf,cfe=Object.prototype.hasOwnProperty,dfe=(e,t)=>function(){return e&&(t=(0,e[CC(e)[0]])(e=0)),t},ffe=(e,t)=>function(){return t||(0,e[CC(e)[0]])((t={exports:{}}).exports,t),t.exports},hfe=(e,t,n,i)=>{if(t&&typeof t=="object"||typeof t=="function")for(let r of CC(t))!cfe.call(e,r)&&r!==n&&eU(e,r,{get:()=>t[r],enumerable:!(i=lfe(t,r))||i.enumerable});return e},vfe=(e,t,n)=>(n=e!=null?afe(ufe(e)):{},hfe(eU(n,"default",{value:e,enumerable:!0}),e)),Gh=dfe({"../../node_modules/.pnpm/tsup@8.3.0_@microsoft+api-extractor@7.43.0_@types+node@20.16.11__@swc+core@1.5.29_jiti@2.0.0__khi6fwhekjxtif3xyxfitrs5gq/node_modules/tsup/assets/esm_shims.js"(){}}),mfe=ffe({"../../node_modules/.pnpm/rfdc@1.4.1/node_modules/rfdc/index.js"(e,t){Gh(),t.exports=i;function n(s){return s instanceof Buffer?Buffer.from(s):new s.constructor(s.buffer.slice(),s.byteOffset,s.length)}function i(s){if(s=s||{},s.circles)return r(s);const o=new Map;if(o.set(Date,c=>new Date(c)),o.set(Map,(c,f)=>new Map(l(Array.from(c),f))),o.set(Set,(c,f)=>new Set(l(Array.from(c),f))),s.constructorHandlers)for(const c of s.constructorHandlers)o.set(c[0],c[1]);let a=null;return s.proto?d:u;function l(c,f){const v=Object.keys(c),m=new Array(v.length);for(let p=0;p<v.length;p++){const _=v[p],y=c[_];typeof y!="object"||y===null?m[_]=y:y.constructor!==Object&&(a=o.get(y.constructor))?m[_]=a(y,f):ArrayBuffer.isView(y)?m[_]=n(y):m[_]=f(y)}return m}function u(c){if(typeof c!="object"||c===null)return c;if(Array.isArray(c))return l(c,u);if(c.constructor!==Object&&(a=o.get(c.constructor)))return a(c,u);const f={};for(const v in c){if(Object.hasOwnProperty.call(c,v)===!1)continue;const m=c[v];typeof m!="object"||m===null?f[v]=m:m.constructor!==Object&&(a=o.get(m.constructor))?f[v]=a(m,u):ArrayBuffer.isView(m)?f[v]=n(m):f[v]=u(m)}return f}function d(c){if(typeof c!="object"||c===null)return c;if(Array.isArray(c))return l(c,d);if(c.constructor!==Object&&(a=o.get(c.constructor)))return a(c,d);const f={};for(const v in c){const m=c[v];typeof m!="object"||m===null?f[v]=m:m.constructor!==Object&&(a=o.get(m.constructor))?f[v]=a(m,d):ArrayBuffer.isView(m)?f[v]=n(m):f[v]=d(m)}return f}}function r(s){const o=[],a=[],l=new Map;if(l.set(Date,v=>new Date(v)),l.set(Map,(v,m)=>new Map(d(Array.from(v),m))),l.set(Set,(v,m)=>new Set(d(Array.from(v),m))),s.constructorHandlers)for(const v of s.constructorHandlers)l.set(v[0],v[1]);let u=null;return s.proto?f:c;function d(v,m){const p=Object.keys(v),_=new Array(p.length);for(let y=0;y<p.length;y++){const b=p[y],C=v[b];if(typeof C!="object"||C===null)_[b]=C;else if(C.constructor!==Object&&(u=l.get(C.constructor)))_[b]=u(C,m);else if(ArrayBuffer.isView(C))_[b]=n(C);else{const k=o.indexOf(C);k!==-1?_[b]=a[k]:_[b]=m(C)}}return _}function c(v){if(typeof v!="object"||v===null)return v;if(Array.isArray(v))return d(v,c);if(v.constructor!==Object&&(u=l.get(v.constructor)))return u(v,c);const m={};o.push(v),a.push(m);for(const p in v){if(Object.hasOwnProperty.call(v,p)===!1)continue;const _=v[p];if(typeof _!="object"||_===null)m[p]=_;else if(_.constructor!==Object&&(u=l.get(_.constructor)))m[p]=u(_,c);else if(ArrayBuffer.isView(_))m[p]=n(_);else{const y=o.indexOf(_);y!==-1?m[p]=a[y]:m[p]=c(_)}}return o.pop(),a.pop(),m}function f(v){if(typeof v!="object"||v===null)return v;if(Array.isArray(v))return d(v,f);if(v.constructor!==Object&&(u=l.get(v.constructor)))return u(v,f);const m={};o.push(v),a.push(m);for(const p in v){const _=v[p];if(typeof _!="object"||_===null)m[p]=_;else if(_.constructor!==Object&&(u=l.get(_.constructor)))m[p]=u(_,f);else if(ArrayBuffer.isView(_))m[p]=n(_);else{const y=o.indexOf(_);y!==-1?m[p]=a[y]:m[p]=f(_)}}return o.pop(),a.pop(),m}}}});Gh();Gh();Gh();var tU=typeof navigator<"u",Ye=typeof window<"u"?window:typeof globalThis<"u"?globalThis:typeof global<"u"?global:{};typeof Ye.chrome<"u"&&Ye.chrome.devtools;tU&&(Ye.self,Ye.top);var Ax;typeof navigator<"u"&&((Ax=navigator.userAgent)==null||Ax.toLowerCase().includes("electron"));Gh();var gfe=vfe(mfe()),pfe=/(?:^|[-_/])(\w)/g;function _fe(e,t){return t?t.toUpperCase():""}function yfe(e){return e&&`${e}`.replace(pfe,_fe)}function bfe(e,t){let n=e.replace(/^[a-z]:/i,"").replace(/\\/g,"/");n.endsWith(`index${t}`)&&(n=n.replace(`/index${t}`,t));const i=n.lastIndexOf("/"),r=n.substring(i+1);{const s=r.lastIndexOf(t);return r.substring(0,s)}}var Px=(0,gfe.default)({circles:!0});const wfe={trailing:!0};function M_(e,t=25,n={}){if(n={...wfe,...n},!Number.isFinite(t))throw new TypeError("Expected `wait` to be a finite number");let i,r,s=[],o,a;const l=(u,d)=>(o=Sfe(e,u,d),o.finally(()=>{if(o=null,n.trailing&&a&&!r){const c=l(u,a);return a=null,c}}),o);return function(...u){return o?(n.trailing&&(a=u),o):new Promise(d=>{const c=!r&&n.leading;clearTimeout(r),r=setTimeout(()=>{r=null;const f=n.leading?i:l(this,u);for(const v of s)v(f);s=[]},t),c?(i=l(this,u),d(i)):s.push(d)})}}async function Sfe(e,t,n){return await e.apply(t,n)}function Mw(e,t={},n){for(const i in e){const r=e[i],s=n?`${n}:${i}`:i;typeof r=="object"&&r!==null?Mw(r,t,s):typeof r=="function"&&(t[s]=r)}return t}const Efe={run:e=>e()},Cfe=()=>Efe,nU=typeof console.createTask<"u"?console.createTask:Cfe;function kfe(e,t){const n=t.shift(),i=nU(n);return e.reduce((r,s)=>r.then(()=>i.run(()=>s(...t))),Promise.resolve())}function Tfe(e,t){const n=t.shift(),i=nU(n);return Promise.all(e.map(r=>i.run(()=>r(...t))))}function ob(e,t){for(const n of[...e])n(t)}class Ife{constructor(){this._hooks={},this._before=void 0,this._after=void 0,this._deprecatedMessages=void 0,this._deprecatedHooks={},this.hook=this.hook.bind(this),this.callHook=this.callHook.bind(this),this.callHookWith=this.callHookWith.bind(this)}hook(t,n,i={}){if(!t||typeof n!="function")return()=>{};const r=t;let s;for(;this._deprecatedHooks[t];)s=this._deprecatedHooks[t],t=s.to;if(s&&!i.allowDeprecated){let o=s.message;o||(o=`${r} hook has been deprecated`+(s.to?`, please use ${s.to}`:"")),this._deprecatedMessages||(this._deprecatedMessages=new Set),this._deprecatedMessages.has(o)||(console.warn(o),this._deprecatedMessages.add(o))}if(!n.name)try{Object.defineProperty(n,"name",{get:()=>"_"+t.replace(/\W+/g,"_")+"_hook_cb",configurable:!0})}catch{}return this._hooks[t]=this._hooks[t]||[],this._hooks[t].push(n),()=>{n&&(this.removeHook(t,n),n=void 0)}}hookOnce(t,n){let i,r=(...s)=>(typeof i=="function"&&i(),i=void 0,r=void 0,n(...s));return i=this.hook(t,r),i}removeHook(t,n){if(this._hooks[t]){const i=this._hooks[t].indexOf(n);i!==-1&&this._hooks[t].splice(i,1),this._hooks[t].length===0&&delete this._hooks[t]}}deprecateHook(t,n){this._deprecatedHooks[t]=typeof n=="string"?{to:n}:n;const i=this._hooks[t]||[];delete this._hooks[t];for(const r of i)this.hook(t,r)}deprecateHooks(t){Object.assign(this._deprecatedHooks,t);for(const n in t)this.deprecateHook(n,t[n])}addHooks(t){const n=Mw(t),i=Object.keys(n).map(r=>this.hook(r,n[r]));return()=>{for(const r of i.splice(0,i.length))r()}}removeHooks(t){const n=Mw(t);for(const i in n)this.removeHook(i,n[i])}removeAllHooks(){for(const t in this._hooks)delete this._hooks[t]}callHook(t,...n){return n.unshift(t),this.callHookWith(kfe,t,...n)}callHookParallel(t,...n){return n.unshift(t),this.callHookWith(Tfe,t,...n)}callHookWith(t,n,...i){const r=this._before||this._after?{name:n,args:i,context:{}}:void 0;this._before&&ob(this._before,r);const s=t(n in this._hooks?[...this._hooks[n]]:[],i);return s instanceof Promise?s.finally(()=>{this._after&&r&&ob(this._after,r)}):(this._after&&r&&ob(this._after,r),s)}beforeEach(t){return this._before=this._before||[],this._before.push(t),()=>{if(this._before!==void 0){const n=this._before.indexOf(t);n!==-1&&this._before.splice(n,1)}}}afterEach(t){return this._after=this._after||[],this._after.push(t),()=>{if(this._after!==void 0){const n=this._after.indexOf(t);n!==-1&&this._after.splice(n,1)}}}}function iU(){return new Ife}var Afe=Object.create,rU=Object.defineProperty,Pfe=Object.getOwnPropertyDescriptor,kC=Object.getOwnPropertyNames,xfe=Object.getPrototypeOf,Dfe=Object.prototype.hasOwnProperty,Rfe=(e,t)=>function(){return e&&(t=(0,e[kC(e)[0]])(e=0)),t},sU=(e,t)=>function(){return t||(0,e[kC(e)[0]])((t={exports:{}}).exports,t),t.exports},Ofe=(e,t,n,i)=>{if(t&&typeof t=="object"||typeof t=="function")for(let r of kC(t))!Dfe.call(e,r)&&r!==n&&rU(e,r,{get:()=>t[r],enumerable:!(i=Pfe(t,r))||i.enumerable});return e},Vfe=(e,t,n)=>(n=e!=null?Afe(xfe(e)):{},Ofe(rU(n,"default",{value:e,enumerable:!0}),e)),xe=Rfe({"../../node_modules/.pnpm/tsup@8.3.0_@microsoft+api-extractor@7.43.0_@types+node@20.16.11__@swc+core@1.5.29_jiti@2.0.0__khi6fwhekjxtif3xyxfitrs5gq/node_modules/tsup/assets/esm_shims.js"(){}}),Nfe=sU({"../../node_modules/.pnpm/speakingurl@14.0.1/node_modules/speakingurl/lib/speakingurl.js"(e,t){xe(),function(n){var i={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"Ae",Å:"A",Æ:"AE",Ç:"C",È:"E",É:"E",Ê:"E",Ë:"E",Ì:"I",Í:"I",Î:"I",Ï:"I",Ð:"D",Ñ:"N",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"Oe",Ő:"O",Ø:"O",Ù:"U",Ú:"U",Û:"U",Ü:"Ue",Ű:"U",Ý:"Y",Þ:"TH",ß:"ss",à:"a",á:"a",â:"a",ã:"a",ä:"ae",å:"a",æ:"ae",ç:"c",è:"e",é:"e",ê:"e",ë:"e",ì:"i",í:"i",î:"i",ï:"i",ð:"d",ñ:"n",ò:"o",ó:"o",ô:"o",õ:"o",ö:"oe",ő:"o",ø:"o",ù:"u",ú:"u",û:"u",ü:"ue",ű:"u",ý:"y",þ:"th",ÿ:"y","ẞ":"SS",ا:"a",أ:"a",إ:"i",آ:"aa",ؤ:"u",ئ:"e",ء:"a",ب:"b",ت:"t",ث:"th",ج:"j",ح:"h",خ:"kh",د:"d",ذ:"th",ر:"r",ز:"z",س:"s",ش:"sh",ص:"s",ض:"dh",ط:"t",ظ:"z",ع:"a",غ:"gh",ف:"f",ق:"q",ك:"k",ل:"l",م:"m",ن:"n",ه:"h",و:"w",ي:"y",ى:"a",ة:"h",ﻻ:"la",ﻷ:"laa",ﻹ:"lai",ﻵ:"laa",گ:"g",چ:"ch",پ:"p",ژ:"zh",ک:"k",ی:"y","َ":"a","ً":"an","ِ":"e","ٍ":"en","ُ":"u","ٌ":"on","ْ":"","٠":"0","١":"1","٢":"2","٣":"3","٤":"4","٥":"5","٦":"6","٧":"7","٨":"8","٩":"9","۰":"0","۱":"1","۲":"2","۳":"3","۴":"4","۵":"5","۶":"6","۷":"7","۸":"8","۹":"9",က:"k",ခ:"kh",ဂ:"g",ဃ:"ga",င:"ng",စ:"s",ဆ:"sa",ဇ:"z","စျ":"za",ည:"ny",ဋ:"t",ဌ:"ta",ဍ:"d",ဎ:"da",ဏ:"na",တ:"t",ထ:"ta",ဒ:"d",ဓ:"da",န:"n",ပ:"p",ဖ:"pa",ဗ:"b",ဘ:"ba",မ:"m",ယ:"y",ရ:"ya",လ:"l",ဝ:"w",သ:"th",ဟ:"h",ဠ:"la",အ:"a","ြ":"y","ျ":"ya","ွ":"w","ြွ":"yw","ျွ":"ywa","ှ":"h",ဧ:"e","၏":"-e",ဣ:"i",ဤ:"-i",ဉ:"u",ဦ:"-u",ဩ:"aw","သြော":"aw",ဪ:"aw","၀":"0","၁":"1","၂":"2","၃":"3","၄":"4","၅":"5","၆":"6","၇":"7","၈":"8","၉":"9","္":"","့":"","း":"",č:"c",ď:"d",ě:"e",ň:"n",ř:"r",š:"s",ť:"t",ů:"u",ž:"z",Č:"C",Ď:"D",Ě:"E",Ň:"N",Ř:"R",Š:"S",Ť:"T",Ů:"U",Ž:"Z",ހ:"h",ށ:"sh",ނ:"n",ރ:"r",ބ:"b",ޅ:"lh",ކ:"k",އ:"a",ވ:"v",މ:"m",ފ:"f",ދ:"dh",ތ:"th",ލ:"l",ގ:"g",ޏ:"gn",ސ:"s",ޑ:"d",ޒ:"z",ޓ:"t",ޔ:"y",ޕ:"p",ޖ:"j",ޗ:"ch",ޘ:"tt",ޙ:"hh",ޚ:"kh",ޛ:"th",ޜ:"z",ޝ:"sh",ޞ:"s",ޟ:"d",ޠ:"t",ޡ:"z",ޢ:"a",ޣ:"gh",ޤ:"q",ޥ:"w","ަ":"a","ާ":"aa","ި":"i","ީ":"ee","ު":"u","ޫ":"oo","ެ":"e","ޭ":"ey","ޮ":"o","ޯ":"oa","ް":"",ა:"a",ბ:"b",გ:"g",დ:"d",ე:"e",ვ:"v",ზ:"z",თ:"t",ი:"i",კ:"k",ლ:"l",მ:"m",ნ:"n",ო:"o",პ:"p",ჟ:"zh",რ:"r",ს:"s",ტ:"t",უ:"u",ფ:"p",ქ:"k",ღ:"gh",ყ:"q",შ:"sh",ჩ:"ch",ც:"ts",ძ:"dz",წ:"ts",ჭ:"ch",ხ:"kh",ჯ:"j",ჰ:"h",α:"a",β:"v",γ:"g",δ:"d",ε:"e",ζ:"z",η:"i",θ:"th",ι:"i",κ:"k",λ:"l",μ:"m",ν:"n",ξ:"ks",ο:"o",π:"p",ρ:"r",σ:"s",τ:"t",υ:"y",φ:"f",χ:"x",ψ:"ps",ω:"o",ά:"a",έ:"e",ί:"i",ό:"o",ύ:"y",ή:"i",ώ:"o",ς:"s",ϊ:"i",ΰ:"y",ϋ:"y",ΐ:"i",Α:"A",Β:"B",Γ:"G",Δ:"D",Ε:"E",Ζ:"Z",Η:"I",Θ:"TH",Ι:"I",Κ:"K",Λ:"L",Μ:"M",Ν:"N",Ξ:"KS",Ο:"O",Π:"P",Ρ:"R",Σ:"S",Τ:"T",Υ:"Y",Φ:"F",Χ:"X",Ψ:"PS",Ω:"O",Ά:"A",Έ:"E",Ί:"I",Ό:"O",Ύ:"Y",Ή:"I",Ώ:"O",Ϊ:"I",Ϋ:"Y",ā:"a",ē:"e",ģ:"g",ī:"i",ķ:"k",ļ:"l",ņ:"n",ū:"u",Ā:"A",Ē:"E",Ģ:"G",Ī:"I",Ķ:"k",Ļ:"L",Ņ:"N",Ū:"U",Ќ:"Kj",ќ:"kj",Љ:"Lj",љ:"lj",Њ:"Nj",њ:"nj",Тс:"Ts",тс:"ts",ą:"a",ć:"c",ę:"e",ł:"l",ń:"n",ś:"s",ź:"z",ż:"z",Ą:"A",Ć:"C",Ę:"E",Ł:"L",Ń:"N",Ś:"S",Ź:"Z",Ż:"Z",Є:"Ye",І:"I",Ї:"Yi",Ґ:"G",є:"ye",і:"i",ї:"yi",ґ:"g",ă:"a",Ă:"A",ș:"s",Ș:"S",ț:"t",Ț:"T",ţ:"t",Ţ:"T",а:"a",б:"b",в:"v",г:"g",д:"d",е:"e",ё:"yo",ж:"zh",з:"z",и:"i",й:"i",к:"k",л:"l",м:"m",н:"n",о:"o",п:"p",р:"r",с:"s",т:"t",у:"u",ф:"f",х:"kh",ц:"c",ч:"ch",ш:"sh",щ:"sh",ъ:"",ы:"y",ь:"",э:"e",ю:"yu",я:"ya",А:"A",Б:"B",В:"V",Г:"G",Д:"D",Е:"E",Ё:"Yo",Ж:"Zh",З:"Z",И:"I",Й:"I",К:"K",Л:"L",М:"M",Н:"N",О:"O",П:"P",Р:"R",С:"S",Т:"T",У:"U",Ф:"F",Х:"Kh",Ц:"C",Ч:"Ch",Ш:"Sh",Щ:"Sh",Ъ:"",Ы:"Y",Ь:"",Э:"E",Ю:"Yu",Я:"Ya",ђ:"dj",ј:"j",ћ:"c",џ:"dz",Ђ:"Dj",Ј:"j",Ћ:"C",Џ:"Dz",ľ:"l",ĺ:"l",ŕ:"r",Ľ:"L",Ĺ:"L",Ŕ:"R",ş:"s",Ş:"S",ı:"i",İ:"I",ğ:"g",Ğ:"G",ả:"a",Ả:"A",ẳ:"a",Ẳ:"A",ẩ:"a",Ẩ:"A",đ:"d",Đ:"D",ẹ:"e",Ẹ:"E",ẽ:"e",Ẽ:"E",ẻ:"e",Ẻ:"E",ế:"e",Ế:"E",ề:"e",Ề:"E",ệ:"e",Ệ:"E",ễ:"e",Ễ:"E",ể:"e",Ể:"E",ỏ:"o",ọ:"o",Ọ:"o",ố:"o",Ố:"O",ồ:"o",Ồ:"O",ổ:"o",Ổ:"O",ộ:"o",Ộ:"O",ỗ:"o",Ỗ:"O",ơ:"o",Ơ:"O",ớ:"o",Ớ:"O",ờ:"o",Ờ:"O",ợ:"o",Ợ:"O",ỡ:"o",Ỡ:"O",Ở:"o",ở:"o",ị:"i",Ị:"I",ĩ:"i",Ĩ:"I",ỉ:"i",Ỉ:"i",ủ:"u",Ủ:"U",ụ:"u",Ụ:"U",ũ:"u",Ũ:"U",ư:"u",Ư:"U",ứ:"u",Ứ:"U",ừ:"u",Ừ:"U",ự:"u",Ự:"U",ữ:"u",Ữ:"U",ử:"u",Ử:"ư",ỷ:"y",Ỷ:"y",ỳ:"y",Ỳ:"Y",ỵ:"y",Ỵ:"Y",ỹ:"y",Ỹ:"Y",ạ:"a",Ạ:"A",ấ:"a",Ấ:"A",ầ:"a",Ầ:"A",ậ:"a",Ậ:"A",ẫ:"a",Ẫ:"A",ắ:"a",Ắ:"A",ằ:"a",Ằ:"A",ặ:"a",Ặ:"A",ẵ:"a",Ẵ:"A","⓪":"0","①":"1","②":"2","③":"3","④":"4","⑤":"5","⑥":"6","⑦":"7","⑧":"8","⑨":"9","⑩":"10","⑪":"11","⑫":"12","⑬":"13","⑭":"14","⑮":"15","⑯":"16","⑰":"17","⑱":"18","⑲":"18","⑳":"18","⓵":"1","⓶":"2","⓷":"3","⓸":"4","⓹":"5","⓺":"6","⓻":"7","⓼":"8","⓽":"9","⓾":"10","⓿":"0","⓫":"11","⓬":"12","⓭":"13","⓮":"14","⓯":"15","⓰":"16","⓱":"17","⓲":"18","⓳":"19","⓴":"20","Ⓐ":"A","Ⓑ":"B","Ⓒ":"C","Ⓓ":"D","Ⓔ":"E","Ⓕ":"F","Ⓖ":"G","Ⓗ":"H","Ⓘ":"I","Ⓙ":"J","Ⓚ":"K","Ⓛ":"L","Ⓜ":"M","Ⓝ":"N","Ⓞ":"O","Ⓟ":"P","Ⓠ":"Q","Ⓡ":"R","Ⓢ":"S","Ⓣ":"T","Ⓤ":"U","Ⓥ":"V","Ⓦ":"W","Ⓧ":"X","Ⓨ":"Y","Ⓩ":"Z","ⓐ":"a","ⓑ":"b","ⓒ":"c","ⓓ":"d","ⓔ":"e","ⓕ":"f","ⓖ":"g","ⓗ":"h","ⓘ":"i","ⓙ":"j","ⓚ":"k","ⓛ":"l","ⓜ":"m","ⓝ":"n","ⓞ":"o","ⓟ":"p","ⓠ":"q","ⓡ":"r","ⓢ":"s","ⓣ":"t","ⓤ":"u","ⓦ":"v","ⓥ":"w","ⓧ":"x","ⓨ":"y","ⓩ":"z","“":'"',"”":'"',"‘":"'","’":"'","∂":"d",ƒ:"f","™":"(TM)","©":"(C)",œ:"oe",Œ:"OE","®":"(R)","†":"+","℠":"(SM)","…":"...","˚":"o",º:"o",ª:"a","•":"*","၊":",","။":".",$:"USD","€":"EUR","₢":"BRN","₣":"FRF","£":"GBP","₤":"ITL","₦":"NGN","₧":"ESP","₩":"KRW","₪":"ILS","₫":"VND","₭":"LAK","₮":"MNT","₯":"GRD","₱":"ARS","₲":"PYG","₳":"ARA","₴":"UAH","₵":"GHS","¢":"cent","¥":"CNY",元:"CNY",円:"YEN","﷼":"IRR","₠":"EWE","฿":"THB","₨":"INR","₹":"INR","₰":"PF","₺":"TRY","؋":"AFN","₼":"AZN",лв:"BGN","៛":"KHR","₡":"CRC","₸":"KZT",ден:"MKD",zł:"PLN","₽":"RUB","₾":"GEL"},r=["်","ް"],s={"ာ":"a","ါ":"a","ေ":"e","ဲ":"e","ိ":"i","ီ":"i","ို":"o","ု":"u","ူ":"u","ေါင်":"aung","ော":"aw","ော်":"aw","ေါ":"aw","ေါ်":"aw","်":"်","က်":"et","ိုက်":"aik","ောက်":"auk","င်":"in","ိုင်":"aing","ောင်":"aung","စ်":"it","ည်":"i","တ်":"at","ိတ်":"eik","ုတ်":"ok","ွတ်":"ut","ေတ်":"it","ဒ်":"d","ိုဒ်":"ok","ုဒ်":"ait","န်":"an","ာန်":"an","ိန်":"ein","ုန်":"on","ွန်":"un","ပ်":"at","ိပ်":"eik","ုပ်":"ok","ွပ်":"ut","န်ုပ်":"nub","မ်":"an","ိမ်":"ein","ုမ်":"on","ွမ်":"un","ယ်":"e","ိုလ်":"ol","ဉ်":"in","ံ":"an","ိံ":"ein","ုံ":"on","ައް":"ah","ަށް":"ah"},o={en:{},az:{ç:"c",ə:"e",ğ:"g",ı:"i",ö:"o",ş:"s",ü:"u",Ç:"C",Ə:"E",Ğ:"G",İ:"I",Ö:"O",Ş:"S",Ü:"U"},cs:{č:"c",ď:"d",ě:"e",ň:"n",ř:"r",š:"s",ť:"t",ů:"u",ž:"z",Č:"C",Ď:"D",Ě:"E",Ň:"N",Ř:"R",Š:"S",Ť:"T",Ů:"U",Ž:"Z"},fi:{ä:"a",Ä:"A",ö:"o",Ö:"O"},hu:{ä:"a",Ä:"A",ö:"o",Ö:"O",ü:"u",Ü:"U",ű:"u",Ű:"U"},lt:{ą:"a",č:"c",ę:"e",ė:"e",į:"i",š:"s",ų:"u",ū:"u",ž:"z",Ą:"A",Č:"C",Ę:"E",Ė:"E",Į:"I",Š:"S",Ų:"U",Ū:"U"},lv:{ā:"a",č:"c",ē:"e",ģ:"g",ī:"i",ķ:"k",ļ:"l",ņ:"n",š:"s",ū:"u",ž:"z",Ā:"A",Č:"C",Ē:"E",Ģ:"G",Ī:"i",Ķ:"k",Ļ:"L",Ņ:"N",Š:"S",Ū:"u",Ž:"Z"},pl:{ą:"a",ć:"c",ę:"e",ł:"l",ń:"n",ó:"o",ś:"s",ź:"z",ż:"z",Ą:"A",Ć:"C",Ę:"e",Ł:"L",Ń:"N",Ó:"O",Ś:"S",Ź:"Z",Ż:"Z"},sv:{ä:"a",Ä:"A",ö:"o",Ö:"O"},sk:{ä:"a",Ä:"A"},sr:{љ:"lj",њ:"nj",Љ:"Lj",Њ:"Nj",đ:"dj",Đ:"Dj"},tr:{Ü:"U",Ö:"O",ü:"u",ö:"o"}},a={ar:{"∆":"delta","∞":"la-nihaya","♥":"hob","&":"wa","|":"aw","<":"aqal-men",">":"akbar-men","∑":"majmou","¤":"omla"},az:{},ca:{"∆":"delta","∞":"infinit","♥":"amor","&":"i","|":"o","<":"menys que",">":"mes que","∑":"suma dels","¤":"moneda"},cs:{"∆":"delta","∞":"nekonecno","♥":"laska","&":"a","|":"nebo","<":"mensi nez",">":"vetsi nez","∑":"soucet","¤":"mena"},de:{"∆":"delta","∞":"unendlich","♥":"Liebe","&":"und","|":"oder","<":"kleiner als",">":"groesser als","∑":"Summe von","¤":"Waehrung"},dv:{"∆":"delta","∞":"kolunulaa","♥":"loabi","&":"aai","|":"noonee","<":"ah vure kuda",">":"ah vure bodu","∑":"jumula","¤":"faisaa"},en:{"∆":"delta","∞":"infinity","♥":"love","&":"and","|":"or","<":"less than",">":"greater than","∑":"sum","¤":"currency"},es:{"∆":"delta","∞":"infinito","♥":"amor","&":"y","|":"u","<":"menos que",">":"mas que","∑":"suma de los","¤":"moneda"},fa:{"∆":"delta","∞":"bi-nahayat","♥":"eshgh","&":"va","|":"ya","<":"kamtar-az",">":"bishtar-az","∑":"majmooe","¤":"vahed"},fi:{"∆":"delta","∞":"aarettomyys","♥":"rakkaus","&":"ja","|":"tai","<":"pienempi kuin",">":"suurempi kuin","∑":"summa","¤":"valuutta"},fr:{"∆":"delta","∞":"infiniment","♥":"Amour","&":"et","|":"ou","<":"moins que",">":"superieure a","∑":"somme des","¤":"monnaie"},ge:{"∆":"delta","∞":"usasruloba","♥":"siqvaruli","&":"da","|":"an","<":"naklebi",">":"meti","∑":"jami","¤":"valuta"},gr:{},hu:{"∆":"delta","∞":"vegtelen","♥":"szerelem","&":"es","|":"vagy","<":"kisebb mint",">":"nagyobb mint","∑":"szumma","¤":"penznem"},it:{"∆":"delta","∞":"infinito","♥":"amore","&":"e","|":"o","<":"minore di",">":"maggiore di","∑":"somma","¤":"moneta"},lt:{"∆":"delta","∞":"begalybe","♥":"meile","&":"ir","|":"ar","<":"maziau nei",">":"daugiau nei","∑":"suma","¤":"valiuta"},lv:{"∆":"delta","∞":"bezgaliba","♥":"milestiba","&":"un","|":"vai","<":"mazak neka",">":"lielaks neka","∑":"summa","¤":"valuta"},my:{"∆":"kwahkhyaet","∞":"asaonasme","♥":"akhyait","&":"nhin","|":"tho","<":"ngethaw",">":"kyithaw","∑":"paungld","¤":"ngwekye"},mk:{},nl:{"∆":"delta","∞":"oneindig","♥":"liefde","&":"en","|":"of","<":"kleiner dan",">":"groter dan","∑":"som","¤":"valuta"},pl:{"∆":"delta","∞":"nieskonczonosc","♥":"milosc","&":"i","|":"lub","<":"mniejsze niz",">":"wieksze niz","∑":"suma","¤":"waluta"},pt:{"∆":"delta","∞":"infinito","♥":"amor","&":"e","|":"ou","<":"menor que",">":"maior que","∑":"soma","¤":"moeda"},ro:{"∆":"delta","∞":"infinit","♥":"dragoste","&":"si","|":"sau","<":"mai mic ca",">":"mai mare ca","∑":"suma","¤":"valuta"},ru:{"∆":"delta","∞":"beskonechno","♥":"lubov","&":"i","|":"ili","<":"menshe",">":"bolshe","∑":"summa","¤":"valjuta"},sk:{"∆":"delta","∞":"nekonecno","♥":"laska","&":"a","|":"alebo","<":"menej ako",">":"viac ako","∑":"sucet","¤":"mena"},sr:{},tr:{"∆":"delta","∞":"sonsuzluk","♥":"ask","&":"ve","|":"veya","<":"kucuktur",">":"buyuktur","∑":"toplam","¤":"para birimi"},uk:{"∆":"delta","∞":"bezkinechnist","♥":"lubov","&":"i","|":"abo","<":"menshe",">":"bilshe","∑":"suma","¤":"valjuta"},vn:{"∆":"delta","∞":"vo cuc","♥":"yeu","&":"va","|":"hoac","<":"nho hon",">":"lon hon","∑":"tong","¤":"tien te"}},l=[";","?",":","@","&","=","+","$",",","/"].join(""),u=[";","?",":","@","&","=","+","$",","].join(""),d=[".","!","~","*","'","(",")"].join(""),c=function(_,y){var b="-",C="",k="",R=!0,O={},x,S,w,E,A,P,D,B,$,j,Y,H,q,z,ne="";if(typeof _!="string")return"";if(typeof y=="string"&&(b=y),D=a.en,B=o.en,typeof y=="object"){x=y.maintainCase||!1,O=y.custom&&typeof y.custom=="object"?y.custom:O,w=+y.truncate>1&&y.truncate||!1,E=y.uric||!1,A=y.uricNoSlash||!1,P=y.mark||!1,R=!(y.symbols===!1||y.lang===!1),b=y.separator||b,E&&(ne+=l),A&&(ne+=u),P&&(ne+=d),D=y.lang&&a[y.lang]&&R?a[y.lang]:R?a.en:{},B=y.lang&&o[y.lang]?o[y.lang]:y.lang===!1||y.lang===!0?{}:o.en,y.titleCase&&typeof y.titleCase.length=="number"&&Array.prototype.toString.call(y.titleCase)?(y.titleCase.forEach(function(ue){O[ue+""]=ue+""}),S=!0):S=!!y.titleCase,y.custom&&typeof y.custom.length=="number"&&Array.prototype.toString.call(y.custom)&&y.custom.forEach(function(ue){O[ue+""]=ue+""}),Object.keys(O).forEach(function(ue){var be;ue.length>1?be=new RegExp("\\b"+v(ue)+"\\b","gi"):be=new RegExp(v(ue),"gi"),_=_.replace(be,O[ue])});for(Y in O)ne+=Y}for(ne+=b,ne=v(ne),_=_.replace(/(^\s+|\s+$)/g,""),q=!1,z=!1,j=0,H=_.length;j<H;j++)Y=_[j],m(Y,O)?q=!1:B[Y]?(Y=q&&B[Y].match(/[A-Za-z0-9]/)?" "+B[Y]:B[Y],q=!1):Y in i?(j+1<H&&r.indexOf(_[j+1])>=0?(k+=Y,Y=""):z===!0?(Y=s[k]+i[Y],k=""):Y=q&&i[Y].match(/[A-Za-z0-9]/)?" "+i[Y]:i[Y],q=!1,z=!1):Y in s?(k+=Y,Y="",j===H-1&&(Y=s[k]),z=!0):D[Y]&&!(E&&l.indexOf(Y)!==-1)&&!(A&&u.indexOf(Y)!==-1)?(Y=q||C.substr(-1).match(/[A-Za-z0-9]/)?b+D[Y]:D[Y],Y+=_[j+1]!==void 0&&_[j+1].match(/[A-Za-z0-9]/)?b:"",q=!0):(z===!0?(Y=s[k]+Y,k="",z=!1):q&&(/[A-Za-z0-9]/.test(Y)||C.substr(-1).match(/A-Za-z0-9]/))&&(Y=" "+Y),q=!1),C+=Y.replace(new RegExp("[^\\w\\s"+ne+"_-]","g"),b);return S&&(C=C.replace(/(\w)(\S*)/g,function(ue,be,Ae){var Ne=be.toUpperCase()+(Ae!==null?Ae:"");return Object.keys(O).indexOf(Ne.toLowerCase())<0?Ne:Ne.toLowerCase()})),C=C.replace(/\s+/g,b).replace(new RegExp("\\"+b+"+","g"),b).replace(new RegExp("(^\\"+b+"+|\\"+b+"+$)","g"),""),w&&C.length>w&&($=C.charAt(w)===b,C=C.slice(0,w),$||(C=C.slice(0,C.lastIndexOf(b)))),!x&&!S&&(C=C.toLowerCase()),C},f=function(_){return function(b){return c(b,_)}},v=function(_){return _.replace(/[-\\^$*+?.()|[\]{}\/]/g,"\\$&")},m=function(p,_){for(var y in _)if(_[y]===p)return!0};if(typeof t<"u"&&t.exports)t.exports=c,t.exports.createSlug=f;else if(typeof define<"u"&&define.amd)define([],function(){return c});else try{if(n.getSlug||n.createSlug)throw"speakingurl: globals exists /(getSlug|createSlug)/";n.getSlug=c,n.createSlug=f}catch{}}(e)}}),Mfe=sU({"../../node_modules/.pnpm/speakingurl@14.0.1/node_modules/speakingurl/index.js"(e,t){xe(),t.exports=Nfe()}});xe();xe();xe();xe();xe();xe();xe();function Lfe(e){return!!(e&&e.__v_isReadonly)}function oU(e){return Lfe(e)?oU(e.__v_raw):!!(e&&e.__v_isReactive)}function ab(e){return!!(e&&e.__v_isRef===!0)}function Fd(e){const t=e&&e.__v_raw;return t?Fd(t):e}var Ffe=Symbol.for("v-fgt");xe();function $fe(e){var t;const n=e.name||e._componentTag||e.__VUE_DEVTOOLS_COMPONENT_GUSSED_NAME__||e.__name;return n==="index"&&((t=e.__file)!=null&&t.endsWith("index.vue"))?"":n}function Bfe(e){const t=e.__file;if(t)return yfe(bfe(t,".vue"))}function xx(e,t){return e.type.__VUE_DEVTOOLS_COMPONENT_GUSSED_NAME__=t,t}function TC(e){if(e.__VUE_DEVTOOLS_NEXT_APP_RECORD__)return e.__VUE_DEVTOOLS_NEXT_APP_RECORD__;if(e.root)return e.appContext.app.__VUE_DEVTOOLS_NEXT_APP_RECORD__}async function Ufe(e){const{app:t,uid:n,instance:i}=e;try{if(i.__VUE_DEVTOOLS_NEXT_UID__)return i.__VUE_DEVTOOLS_NEXT_UID__;const r=await TC(t);if(!r)return null;const s=r.rootInstance===i;return`${r.id}:${s?"root":n}`}catch{}}function aU(e){var t;return((t=e.subTree)==null?void 0:t.type)===Ffe}function L_(e){var t,n,i;const r=$fe((e==null?void 0:e.type)||{});if(r)return r;if((e==null?void 0:e.root)===e)return"Root";for(const o in(n=(t=e.parent)==null?void 0:t.type)==null?void 0:n.components)if(e.parent.type.components[o]===(e==null?void 0:e.type))return xx(e,o);for(const o in(i=e.appContext)==null?void 0:i.components)if(e.appContext.components[o]===(e==null?void 0:e.type))return xx(e,o);const s=Bfe((e==null?void 0:e.type)||{});return s||"Anonymous Component"}function Lw(e,t){return t=t||`${e.id}:root`,e.instanceMap.get(t)||e.instanceMap.get(":root")}var jfe=class{constructor(){this.refEditor=new Hfe}set(e,t,n,i){const r=Array.isArray(t)?t:t.split(".");for(;r.length>1;){const a=r.shift();e instanceof Map&&(e=e.get(a)),e instanceof Set?e=Array.from(e.values())[a]:e=e[a],this.refEditor.isRef(e)&&(e=this.refEditor.get(e))}const s=r[0],o=this.refEditor.get(e)[s];i?i(e,s,n):this.refEditor.isRef(o)?this.refEditor.set(o,n):e[s]=n}get(e,t){const n=Array.isArray(t)?t:t.split(".");for(let i=0;i<n.length;i++)if(e instanceof Map?e=e.get(n[i]):e=e[n[i]],this.refEditor.isRef(e)&&(e=this.refEditor.get(e)),!e)return;return e}has(e,t,n=!1){if(typeof e>"u")return!1;const i=Array.isArray(t)?t.slice():t.split("."),r=n?2:1;for(;e&&i.length>r;){const s=i.shift();e=e[s],this.refEditor.isRef(e)&&(e=this.refEditor.get(e))}return e!=null&&Object.prototype.hasOwnProperty.call(e,i[0])}createDefaultSetCallback(e){return(t,n,i)=>{if((e.remove||e.newKey)&&(Array.isArray(t)?t.splice(n,1):Fd(t)instanceof Map?t.delete(n):Fd(t)instanceof Set?t.delete(Array.from(t.values())[n]):Reflect.deleteProperty(t,n)),!e.remove){const r=t[e.newKey||n];this.refEditor.isRef(r)?this.refEditor.set(r,i):Fd(t)instanceof Map?t.set(e.newKey||n,i):Fd(t)instanceof Set?t.add(i):t[e.newKey||n]=i}}}},Hfe=class{set(e,t){if(ab(e))e.value=t;else{if(e instanceof Set&&Array.isArray(t)){e.clear(),t.forEach(r=>e.add(r));return}const n=Object.keys(t);if(e instanceof Map){const r=new Set(e.keys());n.forEach(s=>{e.set(s,Reflect.get(t,s)),r.delete(s)}),r.forEach(s=>e.delete(s));return}const i=new Set(Object.keys(e));n.forEach(r=>{Reflect.set(e,r,Reflect.get(t,r)),i.delete(r)}),i.forEach(r=>Reflect.deleteProperty(e,r))}}get(e){return ab(e)?e.value:e}isRef(e){return ab(e)||oU(e)}};xe();function IC(e){return aU(e)?Wfe(e.subTree):e.subTree?[e.subTree.el]:[]}function Wfe(e){if(!e.children)return[];const t=[];return e.children.forEach(n=>{n.component?t.push(...IC(n.component)):n!=null&&n.el&&t.push(n.el)}),t}xe();xe();function zfe(){const e={top:0,bottom:0,left:0,right:0,get width(){return e.right-e.left},get height(){return e.bottom-e.top}};return e}var $v;function Gfe(e){return $v||($v=document.createRange()),$v.selectNode(e),$v.getBoundingClientRect()}function qfe(e){const t=zfe();if(!e.children)return t;for(let n=0,i=e.children.length;n<i;n++){const r=e.children[n];let s;if(r.component)s=Wl(r.component);else if(r.el){const o=r.el;o.nodeType===1||o.getBoundingClientRect?s=o.getBoundingClientRect():o.nodeType===3&&o.data.trim()&&(s=Gfe(o))}s&&Yfe(t,s)}return t}function Yfe(e,t){return(!e.top||t.top<e.top)&&(e.top=t.top),(!e.bottom||t.bottom>e.bottom)&&(e.bottom=t.bottom),(!e.left||t.left<e.left)&&(e.left=t.left),(!e.right||t.right>e.right)&&(e.right=t.right),e}var Dx={top:0,left:0,right:0,bottom:0,width:0,height:0};function Wl(e){const t=e.subTree.el;return typeof window>"u"?Dx:aU(e)?qfe(e.subTree):(t==null?void 0:t.nodeType)===1?t==null?void 0:t.getBoundingClientRect():e.subTree.component?Wl(e.subTree.component):Dx}var lU="__vue-devtools-component-inspector__",uU="__vue-devtools-component-inspector__card__",cU="__vue-devtools-component-inspector__name__",dU="__vue-devtools-component-inspector__indicator__",fU={display:"block",zIndex:2147483640,position:"fixed",backgroundColor:"#42b88325",border:"1px solid #42b88350",borderRadius:"5px",transition:"all 0.1s ease-in",pointerEvents:"none"},Kfe={fontFamily:"Arial, Helvetica, sans-serif",padding:"5px 8px",borderRadius:"4px",textAlign:"left",position:"absolute",left:0,color:"#e9e9e9",fontSize:"14px",fontWeight:600,lineHeight:"24px",backgroundColor:"#42b883",boxShadow:"0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px -1px rgba(0, 0, 0, 0.1)"},Xfe={display:"inline-block",fontWeight:400,fontStyle:"normal",fontSize:"12px",opacity:.7};function nd(){return document.getElementById(lU)}function Qfe(){return document.getElementById(uU)}function Jfe(){return document.getElementById(dU)}function Zfe(){return document.getElementById(cU)}function AC(e){return{left:`${Math.round(e.left*100)/100}px`,top:`${Math.round(e.top*100)/100}px`,width:`${Math.round(e.width*100)/100}px`,height:`${Math.round(e.height*100)/100}px`}}function PC(e){var t;const n=document.createElement("div");n.id=(t=e.elementId)!=null?t:lU,Object.assign(n.style,{...fU,...AC(e.bounds),...e.style});const i=document.createElement("span");i.id=uU,Object.assign(i.style,{...Kfe,top:e.bounds.top<35?0:"-35px"});const r=document.createElement("span");r.id=cU,r.innerHTML=`&lt;${e.name}&gt;&nbsp;&nbsp;`;const s=document.createElement("i");return s.id=dU,s.innerHTML=`${Math.round(e.bounds.width*100)/100} x ${Math.round(e.bounds.height*100)/100}`,Object.assign(s.style,Xfe),i.appendChild(r),i.appendChild(s),n.appendChild(i),document.body.appendChild(n),n}function xC(e){const t=nd(),n=Qfe(),i=Zfe(),r=Jfe();t&&(Object.assign(t.style,{...fU,...AC(e.bounds)}),Object.assign(n.style,{top:e.bounds.top<35?0:"-35px"}),i.innerHTML=`&lt;${e.name}&gt;&nbsp;&nbsp;`,r.innerHTML=`${Math.round(e.bounds.width*100)/100} x ${Math.round(e.bounds.height*100)/100}`)}function ehe(e){const t=Wl(e),n=L_(e);nd()?xC({bounds:t,name:n}):PC({bounds:t,name:n})}function hU(){const e=nd();e&&(e.style.display="none")}var Fw=null;function $w(e){const t=e.target;if(t){const n=t.__vueParentComponent;if(n&&(Fw=n,n.vnode.el)){const r=Wl(n),s=L_(n);nd()?xC({bounds:r,name:s}):PC({bounds:r,name:s})}}}function the(e,t){var n;if(e.preventDefault(),e.stopPropagation(),Fw){const i=(n=ir.value)==null?void 0:n.app;Ufe({app:i,uid:i.uid,instance:Fw}).then(r=>{t(r)})}}var Dg=null;function nhe(){hU(),window.removeEventListener("mouseover",$w),window.removeEventListener("click",Dg,!0),Dg=null}function ihe(){return window.addEventListener("mouseover",$w),new Promise(e=>{function t(n){n.preventDefault(),n.stopPropagation(),the(n,i=>{window.removeEventListener("click",t,!0),Dg=null,window.removeEventListener("mouseover",$w);const r=nd();r&&(r.style.display="none"),e(JSON.stringify({id:i}))})}Dg=t,window.addEventListener("click",t,!0)})}function rhe(e){const t=Lw(ir.value,e.id);if(t){const[n]=IC(t);if(typeof n.scrollIntoView=="function")n.scrollIntoView({behavior:"smooth"});else{const i=Wl(t),r=document.createElement("div"),s={...AC(i),position:"absolute"};Object.assign(r.style,s),document.body.appendChild(r),r.scrollIntoView({behavior:"smooth"}),setTimeout(()=>{document.body.removeChild(r)},2e3)}setTimeout(()=>{const i=Wl(t);if(i.width||i.height){const r=L_(t),s=nd();s?xC({...e,name:r,bounds:i}):PC({...e,name:r,bounds:i}),setTimeout(()=>{s&&(s.style.display="none")},1500)}},1200)}}xe();var Rx,Ox;(Ox=(Rx=Ye).__VUE_DEVTOOLS_COMPONENT_INSPECTOR_ENABLED__)!=null||(Rx.__VUE_DEVTOOLS_COMPONENT_INSPECTOR_ENABLED__=!0);function she(e){let t=0;const n=setInterval(()=>{Ye.__VUE_INSPECTOR__&&(clearInterval(n),t+=30,e()),t>=5e3&&clearInterval(n)},30)}function ohe(){const e=Ye.__VUE_INSPECTOR__,t=e.openInEditor;e.openInEditor=async(...n)=>{e.disable(),t(...n)}}function ahe(){return new Promise(e=>{function t(){ohe(),e(Ye.__VUE_INSPECTOR__)}Ye.__VUE_INSPECTOR__?t():she(()=>{t()})})}xe();xe();xe();var lhe="__VUE_DEVTOOLS_KIT_TIMELINE_LAYERS_STATE__";function uhe(){if(!tU||typeof localStorage>"u")return{recordingState:!1,mouseEventEnabled:!1,keyboardEventEnabled:!1,componentEventEnabled:!1,performanceEventEnabled:!1,selected:""};const e=localStorage.getItem(lhe);return e?JSON.parse(e):{recordingState:!1,mouseEventEnabled:!1,keyboardEventEnabled:!1,componentEventEnabled:!1,performanceEventEnabled:!1,selected:""}}xe();xe();xe();var Vx,Nx;(Nx=(Vx=Ye).__VUE_DEVTOOLS_KIT_TIMELINE_LAYERS)!=null||(Vx.__VUE_DEVTOOLS_KIT_TIMELINE_LAYERS=[]);var che=new Proxy(Ye.__VUE_DEVTOOLS_KIT_TIMELINE_LAYERS,{get(e,t,n){return Reflect.get(e,t,n)}});function dhe(e,t){che.push({...e,descriptorId:t.id,appRecord:TC(t.app)})}var Mx,Lx;(Lx=(Mx=Ye).__VUE_DEVTOOLS_KIT_INSPECTOR__)!=null||(Mx.__VUE_DEVTOOLS_KIT_INSPECTOR__=[]);var DC=new Proxy(Ye.__VUE_DEVTOOLS_KIT_INSPECTOR__,{get(e,t,n){return Reflect.get(e,t,n)}}),vU=M_(()=>{id.hooks.callHook("sendInspectorToClient",mU())});function fhe(e,t){DC.push({options:e,descriptor:t,treeFilter:"",selectedNodeId:"",appRecord:TC(t.app)}),vU()}function mU(){return DC.filter(e=>e.descriptor.app===ir.value.app).filter(e=>e.descriptor.id!=="components").map(e=>{var t;const n=e.descriptor,i=e.options;return{id:i.id,label:i.label,logo:n.logo,icon:`custom-ic-baseline-${(t=i==null?void 0:i.icon)==null?void 0:t.replace(/_/g,"-")}`,packageName:n.packageName,homepage:n.homepage,pluginId:n.id}})}function bm(e,t){return DC.find(n=>n.options.id===e&&(t?n.descriptor.app===t:!0))}function hhe(){const e=iU();return e.hook("addInspector",({inspector:t,plugin:n})=>{fhe(t,n.descriptor)}),e.hook("sendInspectorTree",async({inspectorId:t,plugin:n})=>{var i;if(!t||!((i=n==null?void 0:n.descriptor)!=null&&i.app))return;const r=bm(t,n.descriptor.app),s={app:n.descriptor.app,inspectorId:t,filter:(r==null?void 0:r.treeFilter)||"",rootNodes:[]};await new Promise(o=>{e.callHookWith(async a=>{await Promise.all(a.map(l=>l(s))),o()},"getInspectorTree")}),e.callHookWith(async o=>{await Promise.all(o.map(a=>a({inspectorId:t,rootNodes:s.rootNodes})))},"sendInspectorTreeToClient")}),e.hook("sendInspectorState",async({inspectorId:t,plugin:n})=>{var i;if(!t||!((i=n==null?void 0:n.descriptor)!=null&&i.app))return;const r=bm(t,n.descriptor.app),s={app:n.descriptor.app,inspectorId:t,nodeId:(r==null?void 0:r.selectedNodeId)||"",state:null},o={currentTab:`custom-inspector:${t}`};s.nodeId&&await new Promise(a=>{e.callHookWith(async l=>{await Promise.all(l.map(u=>u(s,o))),a()},"getInspectorState")}),e.callHookWith(async a=>{await Promise.all(a.map(l=>l({inspectorId:t,nodeId:s.nodeId,state:s.state})))},"sendInspectorStateToClient")}),e.hook("customInspectorSelectNode",({inspectorId:t,nodeId:n,plugin:i})=>{const r=bm(t,i.descriptor.app);r&&(r.selectedNodeId=n)}),e.hook("timelineLayerAdded",({options:t,plugin:n})=>{dhe(t,n.descriptor)}),e.hook("timelineEventAdded",({options:t,plugin:n})=>{e.callHookWith(async i=>{await Promise.all(i.map(r=>r(t)))},"sendTimelineEventToClient")}),e.hook("getComponentInstances",async({app:t})=>{const n=t.__VUE_DEVTOOLS_NEXT_APP_RECORD__;if(!n)return null;const i=n.id.toString();return[...n.instanceMap].filter(([s])=>s.split(":")[0]===i).map(([,s])=>s)}),e.hook("getComponentBounds",async({instance:t})=>Wl(t)),e.hook("getComponentName",({instance:t})=>L_(t)),e.hook("componentHighlight",({uid:t})=>{const n=ir.value.instanceMap.get(t);n&&ehe(n)}),e.hook("componentUnhighlight",()=>{hU()}),e}var Fx,$x;($x=(Fx=Ye).__VUE_DEVTOOLS_KIT_APP_RECORDS__)!=null||(Fx.__VUE_DEVTOOLS_KIT_APP_RECORDS__=[]);var Bx,Ux;(Ux=(Bx=Ye).__VUE_DEVTOOLS_KIT_ACTIVE_APP_RECORD__)!=null||(Bx.__VUE_DEVTOOLS_KIT_ACTIVE_APP_RECORD__={});var jx,Hx;(Hx=(jx=Ye).__VUE_DEVTOOLS_KIT_ACTIVE_APP_RECORD_ID__)!=null||(jx.__VUE_DEVTOOLS_KIT_ACTIVE_APP_RECORD_ID__="");var Wx,zx;(zx=(Wx=Ye).__VUE_DEVTOOLS_KIT_CUSTOM_TABS__)!=null||(Wx.__VUE_DEVTOOLS_KIT_CUSTOM_TABS__=[]);var Gx,qx;(qx=(Gx=Ye).__VUE_DEVTOOLS_KIT_CUSTOM_COMMANDS__)!=null||(Gx.__VUE_DEVTOOLS_KIT_CUSTOM_COMMANDS__=[]);var hl="__VUE_DEVTOOLS_KIT_GLOBAL_STATE__";function vhe(){return{connected:!1,clientConnected:!1,vitePluginDetected:!0,appRecords:[],activeAppRecordId:"",tabs:[],commands:[],highPerfModeEnabled:!0,devtoolsClientDetected:{},perfUniqueGroupId:0,timelineLayersState:uhe()}}var Yx,Kx;(Kx=(Yx=Ye)[hl])!=null||(Yx[hl]=vhe());var mhe=M_(e=>{id.hooks.callHook("devtoolsStateUpdated",{state:e})});M_((e,t)=>{id.hooks.callHook("devtoolsConnectedUpdated",{state:e,oldState:t})});var F_=new Proxy(Ye.__VUE_DEVTOOLS_KIT_APP_RECORDS__,{get(e,t,n){return t==="value"?Ye.__VUE_DEVTOOLS_KIT_APP_RECORDS__:Ye.__VUE_DEVTOOLS_KIT_APP_RECORDS__[t]}}),ir=new Proxy(Ye.__VUE_DEVTOOLS_KIT_ACTIVE_APP_RECORD__,{get(e,t,n){return t==="value"?Ye.__VUE_DEVTOOLS_KIT_ACTIVE_APP_RECORD__:t==="id"?Ye.__VUE_DEVTOOLS_KIT_ACTIVE_APP_RECORD_ID__:Ye.__VUE_DEVTOOLS_KIT_ACTIVE_APP_RECORD__[t]}});function gU(){mhe({...Ye[hl],appRecords:F_.value,activeAppRecordId:ir.id,tabs:Ye.__VUE_DEVTOOLS_KIT_CUSTOM_TABS__,commands:Ye.__VUE_DEVTOOLS_KIT_CUSTOM_COMMANDS__})}function ghe(e){Ye.__VUE_DEVTOOLS_KIT_ACTIVE_APP_RECORD__=e,gU()}function phe(e){Ye.__VUE_DEVTOOLS_KIT_ACTIVE_APP_RECORD_ID__=e,gU()}var wl=new Proxy(Ye[hl],{get(e,t){return t==="appRecords"?F_:t==="activeAppRecordId"?ir.id:t==="tabs"?Ye.__VUE_DEVTOOLS_KIT_CUSTOM_TABS__:t==="commands"?Ye.__VUE_DEVTOOLS_KIT_CUSTOM_COMMANDS__:Ye[hl][t]},deleteProperty(e,t){return delete e[t],!0},set(e,t,n){return{...Ye[hl]},e[t]=n,Ye[hl][t]=n,!0}});function _he(e={}){var t,n,i;const{file:r,host:s,baseUrl:o=window.location.origin,line:a=0,column:l=0}=e;if(r){if(s==="chrome-extension"){const u=r.replace(/\\/g,"\\\\"),d=(n=(t=window.VUE_DEVTOOLS_CONFIG)==null?void 0:t.openInEditorHost)!=null?n:"/";fetch(`${d}__open-in-editor?file=${encodeURI(r)}`).then(c=>{if(!c.ok){const f=`Opening component ${u} failed`;console.log(`%c${f}`,"color:red")}})}else if(wl.vitePluginDetected){const u=(i=Ye.__VUE_DEVTOOLS_OPEN_IN_EDITOR_BASE_URL__)!=null?i:o;Ye.__VUE_INSPECTOR__.openInEditor(u,r,a,l)}}}xe();xe();xe();xe();xe();var Xx,Qx;(Qx=(Xx=Ye).__VUE_DEVTOOLS_KIT_PLUGIN_BUFFER__)!=null||(Xx.__VUE_DEVTOOLS_KIT_PLUGIN_BUFFER__=[]);var RC=new Proxy(Ye.__VUE_DEVTOOLS_KIT_PLUGIN_BUFFER__,{get(e,t,n){return Reflect.get(e,t,n)}});function Bw(e){const t={};return Object.keys(e).forEach(n=>{t[n]=e[n].defaultValue}),t}function OC(e){return`__VUE_DEVTOOLS_NEXT_PLUGIN_SETTINGS__${e}__`}function yhe(e){var t,n,i;const r=(n=(t=RC.find(s=>{var o;return s[0].id===e&&!!((o=s[0])!=null&&o.settings)}))==null?void 0:t[0])!=null?n:null;return(i=r==null?void 0:r.settings)!=null?i:null}function pU(e,t){var n,i,r;const s=OC(e);if(s){const o=localStorage.getItem(s);if(o)return JSON.parse(o)}if(e){const o=(i=(n=RC.find(a=>a[0].id===e))==null?void 0:n[0])!=null?i:null;return Bw((r=o==null?void 0:o.settings)!=null?r:{})}return Bw(t)}function bhe(e,t){const n=OC(e);localStorage.getItem(n)||localStorage.setItem(n,JSON.stringify(Bw(t)))}function whe(e,t,n){const i=OC(e),r=localStorage.getItem(i),s=JSON.parse(r||"{}"),o={...s,[t]:n};localStorage.setItem(i,JSON.stringify(o)),id.hooks.callHookWith(a=>{a.forEach(l=>l({pluginId:e,key:t,oldValue:s[t],newValue:n,settings:o}))},"setPluginSettings")}xe();xe();xe();xe();xe();xe();xe();xe();xe();xe();xe();var Jx,Zx,vr=(Zx=(Jx=Ye).__VUE_DEVTOOLS_HOOK)!=null?Zx:Jx.__VUE_DEVTOOLS_HOOK=iU(),She={vueAppInit(e){vr.hook("app:init",e)},vueAppUnmount(e){vr.hook("app:unmount",e)},vueAppConnected(e){vr.hook("app:connected",e)},componentAdded(e){return vr.hook("component:added",e)},componentEmit(e){return vr.hook("component:emit",e)},componentUpdated(e){return vr.hook("component:updated",e)},componentRemoved(e){return vr.hook("component:removed",e)},setupDevtoolsPlugin(e){vr.hook("devtools-plugin:setup",e)},perfStart(e){return vr.hook("perf:start",e)},perfEnd(e){return vr.hook("perf:end",e)}},Ehe={on:She,setupDevToolsPlugin(e,t){return vr.callHook("devtools-plugin:setup",e,t)}},Che=class{constructor({plugin:e,ctx:t}){this.hooks=t.hooks,this.plugin=e}get on(){return{visitComponentTree:e=>{this.hooks.hook("visitComponentTree",e)},inspectComponent:e=>{this.hooks.hook("inspectComponent",e)},editComponentState:e=>{this.hooks.hook("editComponentState",e)},getInspectorTree:e=>{this.hooks.hook("getInspectorTree",e)},getInspectorState:e=>{this.hooks.hook("getInspectorState",e)},editInspectorState:e=>{this.hooks.hook("editInspectorState",e)},inspectTimelineEvent:e=>{this.hooks.hook("inspectTimelineEvent",e)},timelineCleared:e=>{this.hooks.hook("timelineCleared",e)},setPluginSettings:e=>{this.hooks.hook("setPluginSettings",e)}}}notifyComponentUpdate(e){var t;const n=mU().find(i=>i.packageName===this.plugin.descriptor.packageName);if(n!=null&&n.id){if(e){const i=[e.appContext.app,e.uid,(t=e.parent)==null?void 0:t.uid,e];vr.callHook("component:updated",...i)}else vr.callHook("component:updated");this.hooks.callHook("sendInspectorState",{inspectorId:n.id,plugin:this.plugin})}}addInspector(e){this.hooks.callHook("addInspector",{inspector:e,plugin:this.plugin}),this.plugin.descriptor.settings&&bhe(e.id,this.plugin.descriptor.settings)}sendInspectorTree(e){this.hooks.callHook("sendInspectorTree",{inspectorId:e,plugin:this.plugin})}sendInspectorState(e){this.hooks.callHook("sendInspectorState",{inspectorId:e,plugin:this.plugin})}selectInspectorNode(e,t){this.hooks.callHook("customInspectorSelectNode",{inspectorId:e,nodeId:t,plugin:this.plugin})}now(){return Date.now()}addTimelineLayer(e){this.hooks.callHook("timelineLayerAdded",{options:e,plugin:this.plugin})}addTimelineEvent(e){this.hooks.callHook("timelineEventAdded",{options:e,plugin:this.plugin})}getSettings(e){return pU(e??this.plugin.descriptor.id,this.plugin.descriptor.settings)}getComponentInstances(e){return this.hooks.callHook("getComponentInstances",{app:e})}getComponentBounds(e){return this.hooks.callHook("getComponentBounds",{instance:e})}getComponentName(e){return this.hooks.callHook("getComponentName",{instance:e})}highlightElement(e){const t=e.__VUE_DEVTOOLS_NEXT_UID__;return this.hooks.callHook("componentHighlight",{uid:t})}unhighlightElement(){return this.hooks.callHook("componentUnhighlight")}},khe=Che;xe();xe();xe();xe();var The="__vue_devtool_undefined__",Ihe="__vue_devtool_infinity__",Ahe="__vue_devtool_negative_infinity__",Phe="__vue_devtool_nan__";xe();xe();var xhe={[The]:"undefined",[Phe]:"NaN",[Ihe]:"Infinity",[Ahe]:"-Infinity"};Object.entries(xhe).reduce((e,[t,n])=>(e[n]=t,e),{});xe();xe();xe();xe();xe();var eD,tD;(tD=(eD=Ye).__VUE_DEVTOOLS_KIT__REGISTERED_PLUGIN_APPS__)!=null||(eD.__VUE_DEVTOOLS_KIT__REGISTERED_PLUGIN_APPS__=new Set);function Dhe(e,t){const[n,i]=e;if(n.app!==t)return;const r=new khe({plugin:{setupFn:i,descriptor:n},ctx:id});n.packageName==="vuex"&&r.on.editInspectorState(s=>{r.sendInspectorState(s.inspectorId)}),i(r)}function Rhe(e){Ye.__VUE_DEVTOOLS_KIT__REGISTERED_PLUGIN_APPS__.has(e)||(Ye.__VUE_DEVTOOLS_KIT__REGISTERED_PLUGIN_APPS__.add(e),RC.forEach(t=>{Dhe(t,e)}))}xe();xe();var th="__VUE_DEVTOOLS_ROUTER__",Tc="__VUE_DEVTOOLS_ROUTER_INFO__",nD,iD;(iD=(nD=Ye)[Tc])!=null||(nD[Tc]={currentRoute:null,routes:[]});var rD,sD;(sD=(rD=Ye)[th])!=null||(rD[th]={});new Proxy(Ye[Tc],{get(e,t){return Ye[Tc][t]}});new Proxy(Ye[th],{get(e,t){if(t==="value")return Ye[th]}});function Ohe(e){const t=new Map;return((e==null?void 0:e.getRoutes())||[]).filter(n=>!t.has(n.path)&&t.set(n.path,1))}function VC(e){return e.map(t=>{let{path:n,name:i,children:r,meta:s}=t;return r!=null&&r.length&&(r=VC(r)),{path:n,name:i,children:r,meta:s}})}function Vhe(e){if(e){const{fullPath:t,hash:n,href:i,path:r,name:s,matched:o,params:a,query:l}=e;return{fullPath:t,hash:n,href:i,path:r,name:s,params:a,query:l,matched:VC(o)}}return e}function Nhe(e,t){function n(){var i;const r=(i=e.app)==null?void 0:i.config.globalProperties.$router,s=Vhe(r==null?void 0:r.currentRoute.value),o=VC(Ohe(r)),a=console.warn;console.warn=()=>{},Ye[Tc]={currentRoute:s?Px(s):{},routes:Px(o)},Ye[th]=r,console.warn=a}n(),Ehe.on.componentUpdated(M_(()=>{var i;((i=t.value)==null?void 0:i.app)===e.app&&(n(),id.hooks.callHook("routerInfoUpdated",{state:Ye[Tc]}))},200))}function Mhe(e){return{async getInspectorTree(t){const n={...t,app:ir.value.app,rootNodes:[]};return await new Promise(i=>{e.callHookWith(async r=>{await Promise.all(r.map(s=>s(n))),i()},"getInspectorTree")}),n.rootNodes},async getInspectorState(t){const n={...t,app:ir.value.app,state:null},i={currentTab:`custom-inspector:${t.inspectorId}`};return await new Promise(r=>{e.callHookWith(async s=>{await Promise.all(s.map(o=>o(n,i))),r()},"getInspectorState")}),n.state},editInspectorState(t){const n=new jfe,i={...t,app:ir.value.app,set:(r,s=t.path,o=t.state.value,a)=>{n.set(r,s,o,a||n.createDefaultSetCallback(t.state))}};e.callHookWith(r=>{r.forEach(s=>s(i))},"editInspectorState")},sendInspectorState(t){const n=bm(t);e.callHook("sendInspectorState",{inspectorId:t,plugin:{descriptor:n.descriptor,setupFn:()=>({})}})},inspectComponentInspector(){return ihe()},cancelInspectComponentInspector(){return nhe()},getComponentRenderCode(t){const n=Lw(ir.value,t);if(n)return(n==null?void 0:n.type)instanceof Function?n.type.toString():n.render.toString()},scrollToComponent(t){return rhe({id:t})},openInEditor:_he,getVueInspector:ahe,toggleApp(t){const n=F_.value.find(i=>i.id===t);n&&(phe(t),ghe(n),Nhe(n,ir),vU(),Rhe(n.app))},inspectDOM(t){const n=Lw(ir.value,t);if(n){const[i]=IC(n);i&&(Ye.__VUE_DEVTOOLS_INSPECT_DOM_TARGET__=i)}},updatePluginSettings(t,n,i){whe(t,n,i)},getPluginSettings(t){return{options:yhe(t),values:pU(t)}}}}xe();var oD,aD;(aD=(oD=Ye).__VUE_DEVTOOLS_ENV__)!=null||(oD.__VUE_DEVTOOLS_ENV__={vitePluginDetected:!1});var lD=hhe(),uD,cD;(cD=(uD=Ye).__VUE_DEVTOOLS_KIT_CONTEXT__)!=null||(uD.__VUE_DEVTOOLS_KIT_CONTEXT__={hooks:lD,get state(){return{...wl,activeAppRecordId:ir.id,activeAppRecord:ir.value,appRecords:F_.value}},api:Mhe(lD)});var id=Ye.__VUE_DEVTOOLS_KIT_CONTEXT__;xe();Vfe(Mfe());var dD,fD;(fD=(dD=Ye).__VUE_DEVTOOLS_NEXT_APP_RECORD_INFO__)!=null||(dD.__VUE_DEVTOOLS_NEXT_APP_RECORD_INFO__={id:0,appIds:new Set});xe();function Lhe(e){wl.highPerfModeEnabled=e??!wl.highPerfModeEnabled}xe();xe();xe();function Fhe(e){wl.devtoolsClientDetected={...wl.devtoolsClientDetected,...e};const t=Object.values(wl.devtoolsClientDetected).some(Boolean);Lhe(!t)}var hD,vD;(vD=(hD=Ye).__VUE_DEVTOOLS_UPDATE_CLIENT_DETECTED__)!=null||(hD.__VUE_DEVTOOLS_UPDATE_CLIENT_DETECTED__=Fhe);xe();xe();xe();xe();xe();xe();xe();var $he=class{constructor(){this.keyToValue=new Map,this.valueToKey=new Map}set(e,t){this.keyToValue.set(e,t),this.valueToKey.set(t,e)}getByKey(e){return this.keyToValue.get(e)}getByValue(e){return this.valueToKey.get(e)}clear(){this.keyToValue.clear(),this.valueToKey.clear()}},_U=class{constructor(e){this.generateIdentifier=e,this.kv=new $he}register(e,t){this.kv.getByValue(e)||(t||(t=this.generateIdentifier(e)),this.kv.set(t,e))}clear(){this.kv.clear()}getIdentifier(e){return this.kv.getByValue(e)}getValue(e){return this.kv.getByKey(e)}},Bhe=class extends _U{constructor(){super(e=>e.name),this.classToAllowedProps=new Map}register(e,t){typeof t=="object"?(t.allowProps&&this.classToAllowedProps.set(e,t.allowProps),super.register(e,t.identifier)):super.register(e,t)}getAllowedProps(e){return this.classToAllowedProps.get(e)}};xe();xe();function Uhe(e){if("values"in Object)return Object.values(e);const t=[];for(const n in e)e.hasOwnProperty(n)&&t.push(e[n]);return t}function jhe(e,t){const n=Uhe(e);if("find"in n)return n.find(t);const i=n;for(let r=0;r<i.length;r++){const s=i[r];if(t(s))return s}}function Ic(e,t){Object.entries(e).forEach(([n,i])=>t(i,n))}function wm(e,t){return e.indexOf(t)!==-1}function mD(e,t){for(let n=0;n<e.length;n++){const i=e[n];if(t(i))return i}}var Hhe=class{constructor(){this.transfomers={}}register(e){this.transfomers[e.name]=e}findApplicable(e){return jhe(this.transfomers,t=>t.isApplicable(e))}findByName(e){return this.transfomers[e]}};xe();xe();var Whe=e=>Object.prototype.toString.call(e).slice(8,-1),yU=e=>typeof e>"u",zhe=e=>e===null,nh=e=>typeof e!="object"||e===null||e===Object.prototype?!1:Object.getPrototypeOf(e)===null?!0:Object.getPrototypeOf(e)===Object.prototype,Uw=e=>nh(e)&&Object.keys(e).length===0,Ca=e=>Array.isArray(e),Ghe=e=>typeof e=="string",qhe=e=>typeof e=="number"&&!isNaN(e),Yhe=e=>typeof e=="boolean",Khe=e=>e instanceof RegExp,ih=e=>e instanceof Map,rh=e=>e instanceof Set,bU=e=>Whe(e)==="Symbol",Xhe=e=>e instanceof Date&&!isNaN(e.valueOf()),Qhe=e=>e instanceof Error,gD=e=>typeof e=="number"&&isNaN(e),Jhe=e=>Yhe(e)||zhe(e)||yU(e)||qhe(e)||Ghe(e)||bU(e),Zhe=e=>typeof e=="bigint",eve=e=>e===1/0||e===-1/0,tve=e=>ArrayBuffer.isView(e)&&!(e instanceof DataView),nve=e=>e instanceof URL;xe();var wU=e=>e.replace(/\./g,"\\."),lb=e=>e.map(String).map(wU).join("."),of=e=>{const t=[];let n="";for(let r=0;r<e.length;r++){let s=e.charAt(r);if(s==="\\"&&e.charAt(r+1)==="."){n+=".",r++;continue}if(s==="."){t.push(n),n="";continue}n+=s}const i=n;return t.push(i),t};xe();function ms(e,t,n,i){return{isApplicable:e,annotation:t,transform:n,untransform:i}}var SU=[ms(yU,"undefined",()=>null,()=>{}),ms(Zhe,"bigint",e=>e.toString(),e=>typeof BigInt<"u"?BigInt(e):(console.error("Please add a BigInt polyfill."),e)),ms(Xhe,"Date",e=>e.toISOString(),e=>new Date(e)),ms(Qhe,"Error",(e,t)=>{const n={name:e.name,message:e.message};return t.allowedErrorProps.forEach(i=>{n[i]=e[i]}),n},(e,t)=>{const n=new Error(e.message);return n.name=e.name,n.stack=e.stack,t.allowedErrorProps.forEach(i=>{n[i]=e[i]}),n}),ms(Khe,"regexp",e=>""+e,e=>{const t=e.slice(1,e.lastIndexOf("/")),n=e.slice(e.lastIndexOf("/")+1);return new RegExp(t,n)}),ms(rh,"set",e=>[...e.values()],e=>new Set(e)),ms(ih,"map",e=>[...e.entries()],e=>new Map(e)),ms(e=>gD(e)||eve(e),"number",e=>gD(e)?"NaN":e>0?"Infinity":"-Infinity",Number),ms(e=>e===0&&1/e===-1/0,"number",()=>"-0",Number),ms(nve,"URL",e=>e.toString(),e=>new URL(e))];function $_(e,t,n,i){return{isApplicable:e,annotation:t,transform:n,untransform:i}}var EU=$_((e,t)=>bU(e)?!!t.symbolRegistry.getIdentifier(e):!1,(e,t)=>["symbol",t.symbolRegistry.getIdentifier(e)],e=>e.description,(e,t,n)=>{const i=n.symbolRegistry.getValue(t[1]);if(!i)throw new Error("Trying to deserialize unknown symbol");return i}),ive=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array,Uint8ClampedArray].reduce((e,t)=>(e[t.name]=t,e),{}),CU=$_(tve,e=>["typed-array",e.constructor.name],e=>[...e],(e,t)=>{const n=ive[t[1]];if(!n)throw new Error("Trying to deserialize unknown typed array");return new n(e)});function kU(e,t){return e!=null&&e.constructor?!!t.classRegistry.getIdentifier(e.constructor):!1}var TU=$_(kU,(e,t)=>["class",t.classRegistry.getIdentifier(e.constructor)],(e,t)=>{const n=t.classRegistry.getAllowedProps(e.constructor);if(!n)return{...e};const i={};return n.forEach(r=>{i[r]=e[r]}),i},(e,t,n)=>{const i=n.classRegistry.getValue(t[1]);if(!i)throw new Error("Trying to deserialize unknown class - check https://github.com/blitz-js/superjson/issues/116#issuecomment-773996564");return Object.assign(Object.create(i.prototype),e)}),IU=$_((e,t)=>!!t.customTransformerRegistry.findApplicable(e),(e,t)=>["custom",t.customTransformerRegistry.findApplicable(e).name],(e,t)=>t.customTransformerRegistry.findApplicable(e).serialize(e),(e,t,n)=>{const i=n.customTransformerRegistry.findByName(t[1]);if(!i)throw new Error("Trying to deserialize unknown custom value");return i.deserialize(e)}),rve=[TU,EU,IU,CU],pD=(e,t)=>{const n=mD(rve,r=>r.isApplicable(e,t));if(n)return{value:n.transform(e,t),type:n.annotation(e,t)};const i=mD(SU,r=>r.isApplicable(e,t));if(i)return{value:i.transform(e,t),type:i.annotation}},AU={};SU.forEach(e=>{AU[e.annotation]=e});var sve=(e,t,n)=>{if(Ca(t))switch(t[0]){case"symbol":return EU.untransform(e,t,n);case"class":return TU.untransform(e,t,n);case"custom":return IU.untransform(e,t,n);case"typed-array":return CU.untransform(e,t,n);default:throw new Error("Unknown transformation: "+t)}else{const i=AU[t];if(!i)throw new Error("Unknown transformation: "+t);return i.untransform(e,n)}};xe();var Fu=(e,t)=>{const n=e.keys();for(;t>0;)n.next(),t--;return n.next().value};function PU(e){if(wm(e,"__proto__"))throw new Error("__proto__ is not allowed as a property");if(wm(e,"prototype"))throw new Error("prototype is not allowed as a property");if(wm(e,"constructor"))throw new Error("constructor is not allowed as a property")}var ove=(e,t)=>{PU(t);for(let n=0;n<t.length;n++){const i=t[n];if(rh(e))e=Fu(e,+i);else if(ih(e)){const r=+i,s=+t[++n]==0?"key":"value",o=Fu(e,r);switch(s){case"key":e=o;break;case"value":e=e.get(o);break}}else e=e[i]}return e},jw=(e,t,n)=>{if(PU(t),t.length===0)return n(e);let i=e;for(let s=0;s<t.length-1;s++){const o=t[s];if(Ca(i)){const a=+o;i=i[a]}else if(nh(i))i=i[o];else if(rh(i)){const a=+o;i=Fu(i,a)}else if(ih(i)){if(s===t.length-2)break;const l=+o,u=+t[++s]==0?"key":"value",d=Fu(i,l);switch(u){case"key":i=d;break;case"value":i=i.get(d);break}}}const r=t[t.length-1];if(Ca(i)?i[+r]=n(i[+r]):nh(i)&&(i[r]=n(i[r])),rh(i)){const s=Fu(i,+r),o=n(s);s!==o&&(i.delete(s),i.add(o))}if(ih(i)){const s=+t[t.length-2],o=Fu(i,s);switch(+r==0?"key":"value"){case"key":{const l=n(o);i.set(l,i.get(o)),l!==o&&i.delete(o);break}case"value":{i.set(o,n(i.get(o)));break}}}return e};function Hw(e,t,n=[]){if(!e)return;if(!Ca(e)){Ic(e,(s,o)=>Hw(s,t,[...n,...of(o)]));return}const[i,r]=e;r&&Ic(r,(s,o)=>{Hw(s,t,[...n,...of(o)])}),t(i,n)}function ave(e,t,n){return Hw(t,(i,r)=>{e=jw(e,r,s=>sve(s,i,n))}),e}function lve(e,t){function n(i,r){const s=ove(e,of(r));i.map(of).forEach(o=>{e=jw(e,o,()=>s)})}if(Ca(t)){const[i,r]=t;i.forEach(s=>{e=jw(e,of(s),()=>e)}),r&&Ic(r,n)}else Ic(t,n);return e}var uve=(e,t)=>nh(e)||Ca(e)||ih(e)||rh(e)||kU(e,t);function cve(e,t,n){const i=n.get(e);i?i.push(t):n.set(e,[t])}function dve(e,t){const n={};let i;return e.forEach(r=>{if(r.length<=1)return;t||(r=r.map(a=>a.map(String)).sort((a,l)=>a.length-l.length));const[s,...o]=r;s.length===0?i=o.map(lb):n[lb(s)]=o.map(lb)}),i?Uw(n)?[i]:[i,n]:Uw(n)?void 0:n}var xU=(e,t,n,i,r=[],s=[],o=new Map)=>{var a;const l=Jhe(e);if(!l){cve(e,r,t);const m=o.get(e);if(m)return i?{transformedValue:null}:m}if(!uve(e,n)){const m=pD(e,n),p=m?{transformedValue:m.value,annotations:[m.type]}:{transformedValue:e};return l||o.set(e,p),p}if(wm(s,e))return{transformedValue:null};const u=pD(e,n),d=(a=u==null?void 0:u.value)!=null?a:e,c=Ca(d)?[]:{},f={};Ic(d,(m,p)=>{if(p==="__proto__"||p==="constructor"||p==="prototype")throw new Error(`Detected property ${p}. This is a prototype pollution risk, please remove it from your object.`);const _=xU(m,t,n,i,[...r,p],[...s,e],o);c[p]=_.transformedValue,Ca(_.annotations)?f[p]=_.annotations:nh(_.annotations)&&Ic(_.annotations,(y,b)=>{f[wU(p)+"."+b]=y})});const v=Uw(f)?{transformedValue:c,annotations:u?[u.type]:void 0}:{transformedValue:c,annotations:u?[u.type,f]:f};return l||o.set(e,v),v};xe();xe();function DU(e){return Object.prototype.toString.call(e).slice(8,-1)}function _D(e){return DU(e)==="Array"}function fve(e){if(DU(e)!=="Object")return!1;const t=Object.getPrototypeOf(e);return!!t&&t.constructor===Object&&t===Object.prototype}function hve(e,t,n,i,r){const s={}.propertyIsEnumerable.call(i,t)?"enumerable":"nonenumerable";s==="enumerable"&&(e[t]=n),r&&s==="nonenumerable"&&Object.defineProperty(e,t,{value:n,enumerable:!1,writable:!0,configurable:!0})}function Ww(e,t={}){if(_D(e))return e.map(r=>Ww(r,t));if(!fve(e))return e;const n=Object.getOwnPropertyNames(e),i=Object.getOwnPropertySymbols(e);return[...n,...i].reduce((r,s)=>{if(_D(t.props)&&!t.props.includes(s))return r;const o=e[s],a=Ww(o,t);return hve(r,s,a,e,t.nonenumerable),r},{})}var gn=class{constructor({dedupe:e=!1}={}){this.classRegistry=new Bhe,this.symbolRegistry=new _U(t=>{var n;return(n=t.description)!=null?n:""}),this.customTransformerRegistry=new Hhe,this.allowedErrorProps=[],this.dedupe=e}serialize(e){const t=new Map,n=xU(e,t,this,this.dedupe),i={json:n.transformedValue};n.annotations&&(i.meta={...i.meta,values:n.annotations});const r=dve(t,this.dedupe);return r&&(i.meta={...i.meta,referentialEqualities:r}),i}deserialize(e){const{json:t,meta:n}=e;let i=Ww(t);return n!=null&&n.values&&(i=ave(i,n.values,this)),n!=null&&n.referentialEqualities&&(i=lve(i,n.referentialEqualities)),i}stringify(e){return JSON.stringify(this.serialize(e))}parse(e){return this.deserialize(JSON.parse(e))}registerClass(e,t){this.classRegistry.register(e,t)}registerSymbol(e,t){this.symbolRegistry.register(e,t)}registerCustom(e,t){this.customTransformerRegistry.register({name:t,...e})}allowErrorProps(...e){this.allowedErrorProps.push(...e)}};gn.defaultInstance=new gn;gn.serialize=gn.defaultInstance.serialize.bind(gn.defaultInstance);gn.deserialize=gn.defaultInstance.deserialize.bind(gn.defaultInstance);gn.stringify=gn.defaultInstance.stringify.bind(gn.defaultInstance);gn.parse=gn.defaultInstance.parse.bind(gn.defaultInstance);gn.registerClass=gn.defaultInstance.registerClass.bind(gn.defaultInstance);gn.registerSymbol=gn.defaultInstance.registerSymbol.bind(gn.defaultInstance);gn.registerCustom=gn.defaultInstance.registerCustom.bind(gn.defaultInstance);gn.allowErrorProps=gn.defaultInstance.allowErrorProps.bind(gn.defaultInstance);xe();xe();xe();xe();xe();xe();xe();xe();xe();xe();xe();xe();xe();xe();xe();xe();xe();xe();xe();xe();xe();xe();xe();var yD,bD;(bD=(yD=Ye).__VUE_DEVTOOLS_KIT_MESSAGE_CHANNELS__)!=null||(yD.__VUE_DEVTOOLS_KIT_MESSAGE_CHANNELS__=[]);var wD,SD;(SD=(wD=Ye).__VUE_DEVTOOLS_KIT_RPC_CLIENT__)!=null||(wD.__VUE_DEVTOOLS_KIT_RPC_CLIENT__=null);var ED,CD;(CD=(ED=Ye).__VUE_DEVTOOLS_KIT_RPC_SERVER__)!=null||(ED.__VUE_DEVTOOLS_KIT_RPC_SERVER__=null);var kD,TD;(TD=(kD=Ye).__VUE_DEVTOOLS_KIT_VITE_RPC_CLIENT__)!=null||(kD.__VUE_DEVTOOLS_KIT_VITE_RPC_CLIENT__=null);var ID,AD;(AD=(ID=Ye).__VUE_DEVTOOLS_KIT_VITE_RPC_SERVER__)!=null||(ID.__VUE_DEVTOOLS_KIT_VITE_RPC_SERVER__=null);var PD,xD;(xD=(PD=Ye).__VUE_DEVTOOLS_KIT_BROADCAST_RPC_SERVER__)!=null||(PD.__VUE_DEVTOOLS_KIT_BROADCAST_RPC_SERVER__=null);xe();xe();xe();xe();xe();xe();xe();/**
  * vee-validate v4.14.3
  * (c) 2024 Abdelrahman Awad
  * @license MIT
  */function Yr(e){return typeof e=="function"}function RU(e){return e==null}const Ac=e=>e!==null&&!!e&&typeof e=="object"&&!Array.isArray(e);function NC(e){return Number(e)>=0}function vve(e){return typeof e=="object"&&e!==null}function mve(e){return e==null?e===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}function DD(e){if(!vve(e)||mve(e)!=="[object Object]")return!1;if(Object.getPrototypeOf(e)===null)return!0;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function sh(e,t){return Object.keys(t).forEach(n=>{if(DD(t[n])&&DD(e[n])){e[n]||(e[n]={}),sh(e[n],t[n]);return}e[n]=t[n]}),e}function Bv(e){const t=e.split(".");if(!t.length)return"";let n=String(t[0]);for(let i=1;i<t.length;i++){if(NC(t[i])){n+=`[${t[i]}]`;continue}n+=`.${t[i]}`}return n}const gve={};function pve(e){return gve[e]}function RD(e,t,n){typeof n.value=="object"&&(n.value=hn(n.value)),!n.enumerable||n.get||n.set||!n.configurable||!n.writable||t==="__proto__"?Object.defineProperty(e,t,n):e[t]=n.value}function hn(e){if(typeof e!="object")return e;var t=0,n,i,r,s=Object.prototype.toString.call(e);if(s==="[object Object]"?r=Object.create(e.__proto__||null):s==="[object Array]"?r=Array(e.length):s==="[object Set]"?(r=new Set,e.forEach(function(o){r.add(hn(o))})):s==="[object Map]"?(r=new Map,e.forEach(function(o,a){r.set(hn(a),hn(o))})):s==="[object Date]"?r=new Date(+e):s==="[object RegExp]"?r=new RegExp(e.source,e.flags):s==="[object DataView]"?r=new e.constructor(hn(e.buffer)):s==="[object ArrayBuffer]"?r=e.slice(0):s.slice(-6)==="Array]"&&(r=new e.constructor(e)),r){for(i=Object.getOwnPropertySymbols(e);t<i.length;t++)RD(r,i[t],Object.getOwnPropertyDescriptor(e,i[t]));for(t=0,i=Object.getOwnPropertyNames(e);t<i.length;t++)Object.hasOwnProperty.call(r,n=i[t])&&r[n]===e[n]||RD(r,n,Object.getOwnPropertyDescriptor(e,n))}return r||e}const _ve=Symbol("vee-validate-form"),yve=Symbol("vee-validate-form-context"),bve=typeof window<"u";function wve(e){return Yr(e)&&!!e.__locatorRef}function sa(e){return!!e&&Yr(e.parse)&&e.__type==="VVTypedSchema"}function OU(e){return!!e&&Yr(e.validate)}function Sve(e){return e==="checkbox"||e==="radio"}function Eve(e){return Ac(e)||Array.isArray(e)}function Cve(e){return Array.isArray(e)?e.length===0:Ac(e)&&Object.keys(e).length===0}function B_(e){return/^\[.+\]$/i.test(e)}function kve(e){return VU(e)&&e.multiple}function VU(e){return e.tagName==="SELECT"}function Tve(e){return NU(e)&&e.target&&"submit"in e.target}function NU(e){return e?!!(typeof Event<"u"&&Yr(Event)&&e instanceof Event||e&&e.srcElement):!1}function af(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var n,i,r;if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(i=n;i--!==0;)if(!af(e[i],t[i]))return!1;return!0}if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(i of e.entries())if(!t.has(i[0]))return!1;for(i of e.entries())if(!af(i[1],t.get(i[0])))return!1;return!0}if(OD(e)&&OD(t))return!(e.size!==t.size||e.name!==t.name||e.lastModified!==t.lastModified||e.type!==t.type);if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(i of e.entries())if(!t.has(i[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(n=e.length,n!=t.length)return!1;for(i=n;i--!==0;)if(e[i]!==t[i])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();for(r=Object.keys(e),n=r.length,i=n;i--!==0;){var s=r[i];if(!af(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function OD(e){return bve?e instanceof File:!1}function MC(e){return B_(e)?e.replace(/\[|\]/gi,""):e}function so(e,t,n){return e?B_(t)?e[MC(t)]:(t||"").split(/\.|\[(\d+)\]/).filter(Boolean).reduce((r,s)=>Eve(r)&&s in r?r[s]:n,e):n}function eo(e,t,n){if(B_(t)){e[MC(t)]=n;return}const i=t.split(/\.|\[(\d+)\]/).filter(Boolean);let r=e;for(let s=0;s<i.length;s++){if(s===i.length-1){r[i[s]]=n;return}(!(i[s]in r)||RU(r[i[s]]))&&(r[i[s]]=NC(i[s+1])?[]:{}),r=r[i[s]]}}function ub(e,t){if(Array.isArray(e)&&NC(t)){e.splice(Number(t),1);return}Ac(e)&&delete e[t]}function VD(e,t){if(B_(t)){delete e[MC(t)];return}const n=t.split(/\.|\[(\d+)\]/).filter(Boolean);let i=e;for(let s=0;s<n.length;s++){if(s===n.length-1){ub(i,n[s]);break}if(!(n[s]in i)||RU(i[n[s]]))break;i=i[n[s]]}const r=n.map((s,o)=>so(e,n.slice(0,o).join(".")));for(let s=r.length-1;s>=0;s--)if(Cve(r[s])){if(s===0){ub(e,n[0]);continue}ub(r[s-1],n[s-1])}}function Nr(e){return Object.keys(e)}function ND(e,t=0){let n=null,i=[];return function(...r){return n&&clearTimeout(n),n=setTimeout(()=>{const s=e(...r);i.forEach(o=>o(s)),i=[]},t),new Promise(s=>i.push(s))}}function Ive(e,t){let n;return async function(...r){const s=e(...r);n=s;const o=await s;return s!==n?o:(n=void 0,t(o,r))}}function MD(e){return Array.isArray(e)?e:e?[e]:[]}function Uv(e,t){const n={};for(const i in e)t.includes(i)||(n[i]=e[i]);return n}function Ave(e){let t=null,n=[];return function(...i){const r=at(()=>{if(t!==r)return;const s=e(...i);n.forEach(o=>o(s)),n=[],t=null});return t=r,new Promise(s=>n.push(s))}}function cb(e){if(MU(e))return e._value}function MU(e){return"_value"in e}function Pve(e){return e.type==="number"||e.type==="range"?Number.isNaN(e.valueAsNumber)?e.value:e.valueAsNumber:e.value}function LD(e){if(!NU(e))return e;const t=e.target;if(Sve(t.type)&&MU(t))return cb(t);if(t.type==="file"&&t.files){const n=Array.from(t.files);return t.multiple?n:n[0]}if(kve(t))return Array.from(t.options).filter(n=>n.selected&&!n.disabled).map(cb);if(VU(t)){const n=Array.from(t.options).find(i=>i.selected);return n?cb(n):t.value}return Pve(t)}function xve(e){const t={};return Object.defineProperty(t,"_$$isNormalized",{value:!0,writable:!1,enumerable:!1,configurable:!1}),e?Ac(e)&&e._$$isNormalized?e:Ac(e)?Object.keys(e).reduce((n,i)=>{const r=Dve(e[i]);return e[i]!==!1&&(n[i]=FD(r)),n},t):typeof e!="string"?t:e.split("|").reduce((n,i)=>{const r=Rve(i);return r.name&&(n[r.name]=FD(r.params)),n},t):t}function Dve(e){return e===!0?[]:Array.isArray(e)||Ac(e)?e:[e]}function FD(e){const t=n=>typeof n=="string"&&n[0]==="@"?Ove(n.slice(1)):n;return Array.isArray(e)?e.map(t):e instanceof RegExp?[e]:Object.keys(e).reduce((n,i)=>(n[i]=t(e[i]),n),{})}const Rve=e=>{let t=[];const n=e.split(":")[0];return e.includes(":")&&(t=e.split(":").slice(1).join(":").split(",")),{name:n,params:t}};function Ove(e){const t=n=>{var i;return(i=so(n,e))!==null&&i!==void 0?i:n[e]};return t.__locatorRef=e,t}const Vve={generateMessage:({field:e})=>`${e} is not valid.`,bails:!0,validateOnBlur:!0,validateOnChange:!0,validateOnInput:!1,validateOnModelUpdate:!0};let Nve=Object.assign({},Vve);const $d=()=>Nve;async function Mve(e,t,n={}){const i=n==null?void 0:n.bails,r={name:(n==null?void 0:n.name)||"{field}",rules:t,label:n==null?void 0:n.label,bails:i??!0,formData:(n==null?void 0:n.values)||{}},s=await Lve(r,e);return Object.assign(Object.assign({},s),{valid:!s.errors.length})}async function Lve(e,t){const n=e.rules;if(sa(n)||OU(n))return $ve(t,Object.assign(Object.assign({},e),{rules:n}));if(Yr(n)||Array.isArray(n)){const a={field:e.label||e.name,name:e.name,label:e.label,form:e.formData,value:t},l=Array.isArray(n)?n:[n],u=l.length,d=[];for(let c=0;c<u;c++){const f=l[c],v=await f(t,a);if(!(typeof v!="string"&&!Array.isArray(v)&&v)){if(Array.isArray(v))d.push(...v);else{const p=typeof v=="string"?v:FU(a);d.push(p)}if(e.bails)return{errors:d}}}return{errors:d}}const i=Object.assign(Object.assign({},e),{rules:xve(n)}),r=[],s=Object.keys(i.rules),o=s.length;for(let a=0;a<o;a++){const l=s[a],u=await Bve(i,t,{name:l,params:i.rules[l]});if(u.error&&(r.push(u.error),e.bails))return{errors:r}}return{errors:r}}function Fve(e){return!!e&&e.name==="ValidationError"}function LU(e){return{__type:"VVTypedSchema",async parse(n,i){var r;try{return{output:await e.validate(n,{abortEarly:!1,context:(i==null?void 0:i.formData)||{}}),errors:[]}}catch(s){if(!Fve(s))throw s;if(!(!((r=s.inner)===null||r===void 0)&&r.length)&&s.errors.length)return{errors:[{path:s.path,errors:s.errors}]};const o=s.inner.reduce((a,l)=>{const u=l.path||"";return a[u]||(a[u]={errors:[],path:u}),a[u].errors.push(...l.errors),a},{});return{errors:Object.values(o)}}}}}async function $ve(e,t){const i=await(sa(t.rules)?t.rules:LU(t.rules)).parse(e,{formData:t.formData}),r=[];for(const s of i.errors)s.errors.length&&r.push(...s.errors);return{value:i.value,errors:r}}async function Bve(e,t,n){const i=pve(n.name);if(!i)throw new Error(`No such validator '${n.name}' exists.`);const r=Uve(n.params,e.formData),s={field:e.label||e.name,name:e.name,label:e.label,value:t,form:e.formData,rule:Object.assign(Object.assign({},n),{params:r})},o=await i(t,r,s);return typeof o=="string"?{error:o}:{error:o?void 0:FU(s)}}function FU(e){const t=$d().generateMessage;return t?t(e):"Field is invalid"}function Uve(e,t){const n=i=>wve(i)?i(t):i;return Array.isArray(e)?e.map(n):Object.keys(e).reduce((i,r)=>(i[r]=n(e[r]),i),{})}async function jve(e,t){const i=await(sa(e)?e:LU(e)).parse(hn(t),{formData:hn(t)}),r={},s={};for(const o of i.errors){const a=o.errors,l=(o.path||"").replace(/\["(\d+)"\]/g,(u,d)=>`[${d}]`);r[l]={valid:!a.length,errors:a},a.length&&(s[l]=a[0])}return{valid:!i.errors.length,results:r,errors:s,values:i.value,source:"schema"}}async function Hve(e,t,n){const r=Nr(e).map(async u=>{var d,c,f;const v=(d=n==null?void 0:n.names)===null||d===void 0?void 0:d[u],m=await Mve(so(t,u),e[u],{name:(v==null?void 0:v.name)||u,label:v==null?void 0:v.label,values:t,bails:(f=(c=n==null?void 0:n.bailsMap)===null||c===void 0?void 0:c[u])!==null&&f!==void 0?f:!0});return Object.assign(Object.assign({},m),{path:u})});let s=!0;const o=await Promise.all(r),a={},l={};for(const u of o)a[u.path]={valid:u.valid,errors:u.errors},u.valid||(s=!1,l[u.path]=u.errors[0]);return{valid:s,results:a,errors:l,source:"schema"}}let Wve=0;const jv=["bails","fieldsCount","id","multiple","type","validate"];function $U(e){const t=(e==null?void 0:e.initialValues)||{},n=Object.assign({},fn(t)),i=oe(e==null?void 0:e.validationSchema);return i&&sa(i)&&Yr(i.cast)?hn(i.cast(n)||{}):hn(n)}function ka(e){var t;const n=Wve++;let i=0;const r=W(!1),s=W(!1),o=W(0),a=[],l=cn($U(e)),u=W([]),d=W({}),c=W({}),f=Ave(()=>{c.value=u.value.reduce((le,re)=>(le[Bv(fn(re.path))]=re,le),{})});function v(le,re){const Ee=j(le);if(!Ee){typeof le=="string"&&(d.value[Bv(le)]=MD(re));return}if(typeof le=="string"){const Fe=Bv(le);d.value[Fe]&&delete d.value[Fe]}Ee.errors=MD(re),Ee.valid=!Ee.errors.length}function m(le){Nr(le).forEach(re=>{v(re,le[re])})}e!=null&&e.initialErrors&&m(e.initialErrors);const p=I(()=>{const le=u.value.reduce((re,Ee)=>(Ee.errors.length&&(re[Ee.path]=Ee.errors),re),{});return Object.assign(Object.assign({},d.value),le)}),_=I(()=>Nr(p.value).reduce((le,re)=>{const Ee=p.value[re];return Ee!=null&&Ee.length&&(le[re]=Ee[0]),le},{})),y=I(()=>u.value.reduce((le,re)=>(le[re.path]={name:re.path||"",label:re.label||""},le),{})),b=I(()=>u.value.reduce((le,re)=>{var Ee;return le[re.path]=(Ee=re.bails)!==null&&Ee!==void 0?Ee:!0,le},{})),C=Object.assign({},(e==null?void 0:e.initialErrors)||{}),k=(t=e==null?void 0:e.keepValuesOnUnmount)!==null&&t!==void 0?t:!1,{initialValues:R,originalInitialValues:O,setInitialValues:x}=Gve(u,l,e),S=zve(u,l,O,_),w=I(()=>u.value.reduce((le,re)=>{const Ee=so(l,re.path);return eo(le,re.path,Ee),le},{})),E=e==null?void 0:e.validationSchema;function A(le,re){var Ee,Fe;const et=I(()=>so(R.value,fn(le))),ft=c.value[fn(le)],qe=(re==null?void 0:re.type)==="checkbox"||(re==null?void 0:re.type)==="radio";if(ft&&qe){ft.multiple=!0;const Ai=i++;return Array.isArray(ft.id)?ft.id.push(Ai):ft.id=[ft.id,Ai],ft.fieldsCount++,ft.__flags.pendingUnmount[Ai]=!1,ft}const Tt=I(()=>so(l,fn(le))),on=fn(le),ti=H.findIndex(Ai=>Ai===on);ti!==-1&&H.splice(ti,1);const Zt=I(()=>{var Ai,fr,cu,Lo;const du=fn(E);if(sa(du))return(fr=(Ai=du.describe)===null||Ai===void 0?void 0:Ai.call(du,fn(le)).required)!==null&&fr!==void 0?fr:!1;const qs=fn(re==null?void 0:re.schema);return sa(qs)&&(Lo=(cu=qs.describe)===null||cu===void 0?void 0:cu.call(qs).required)!==null&&Lo!==void 0?Lo:!1}),Fn=i++,si=cn({id:Fn,path:le,touched:!1,pending:!1,valid:!0,validated:!!(!((Ee=C[on])===null||Ee===void 0)&&Ee.length),required:Zt,initialValue:et,errors:ke([]),bails:(Fe=re==null?void 0:re.bails)!==null&&Fe!==void 0?Fe:!1,label:re==null?void 0:re.label,type:(re==null?void 0:re.type)||"default",value:Tt,multiple:!1,__flags:{pendingUnmount:{[Fn]:!1},pendingReset:!1},fieldsCount:1,validate:re==null?void 0:re.validate,dirty:I(()=>!af(oe(Tt),oe(et)))});return u.value.push(si),c.value[on]=si,f(),_.value[on]&&!C[on]&&at(()=>{Pe(on,{mode:"silent"})}),Je(le)&&ge(le,Ai=>{f();const fr=hn(Tt.value);c.value[Ai]=si,at(()=>{eo(l,Ai,fr)})}),si}const P=ND(ze,5),D=ND(ze,5),B=Ive(async le=>await(le==="silent"?P():D()),(le,[re])=>{const Ee=Nr(se.errorBag.value),et=[...new Set([...Nr(le.results),...u.value.map(ft=>ft.path),...Ee])].sort().reduce((ft,qe)=>{var Tt;const on=qe,ti=j(on)||Y(on),Zt=((Tt=le.results[on])===null||Tt===void 0?void 0:Tt.errors)||[],Fn=fn(ti==null?void 0:ti.path)||on,si=qve({errors:Zt,valid:!Zt.length},ft.results[Fn]);return ft.results[Fn]=si,si.valid||(ft.errors[Fn]=si.errors[0]),ti&&d.value[Fn]&&delete d.value[Fn],ti?(ti.valid=si.valid,re==="silent"||re==="validated-only"&&!ti.validated||v(ti,si.errors),ft):(v(Fn,Zt),ft)},{valid:le.valid,results:{},errors:{},source:le.source});return le.values&&(et.values=le.values,et.source=le.source),Nr(et.results).forEach(ft=>{var qe;const Tt=j(ft);Tt&&re!=="silent"&&(re==="validated-only"&&!Tt.validated||v(Tt,(qe=et.results[ft])===null||qe===void 0?void 0:qe.errors))}),et});function $(le){u.value.forEach(le)}function j(le){const re=typeof le=="string"?Bv(le):le;return typeof re=="string"?c.value[re]:re}function Y(le){return u.value.filter(Ee=>le.startsWith(Ee.path)).reduce((Ee,Fe)=>Ee?Fe.path.length>Ee.path.length?Fe:Ee:Fe,void 0)}let H=[],q;function z(le){return H.push(le),q||(q=at(()=>{[...H].sort().reverse().forEach(Ee=>{VD(l,Ee)}),H=[],q=null})),q}function ne(le){return function(Ee,Fe){return function(ft){return ft instanceof Event&&(ft.preventDefault(),ft.stopPropagation()),$(qe=>qe.touched=!0),r.value=!0,o.value++,me().then(qe=>{const Tt=hn(l);if(qe.valid&&typeof Ee=="function"){const on=hn(w.value);let ti=le?on:Tt;return qe.values&&(ti=qe.source==="schema"?qe.values:Object.assign({},ti,qe.values)),Ee(ti,{evt:ft,controlledValues:on,setErrors:m,setFieldError:v,setTouched:J,setFieldTouched:X,setValues:Q,setFieldValue:G,resetForm:ae,resetField:ce})}!qe.valid&&typeof Fe=="function"&&Fe({values:Tt,evt:ft,errors:qe.errors,results:qe.results})}).then(qe=>(r.value=!1,qe),qe=>{throw r.value=!1,qe})}}}const be=ne(!1);be.withControlled=ne(!0);function Ae(le,re){const Ee=u.value.findIndex(et=>et.path===le&&(Array.isArray(et.id)?et.id.includes(re):et.id===re)),Fe=u.value[Ee];if(!(Ee===-1||!Fe)){if(at(()=>{Pe(le,{mode:"silent",warn:!1})}),Fe.multiple&&Fe.fieldsCount&&Fe.fieldsCount--,Array.isArray(Fe.id)){const et=Fe.id.indexOf(re);et>=0&&Fe.id.splice(et,1),delete Fe.__flags.pendingUnmount[re]}(!Fe.multiple||Fe.fieldsCount<=0)&&(u.value.splice(Ee,1),we(le),f(),delete c.value[le])}}function Ne(le){Nr(c.value).forEach(re=>{re.startsWith(le)&&delete c.value[re]}),u.value=u.value.filter(re=>!re.path.startsWith(le)),at(()=>{f()})}const se={formId:n,values:l,controlledValues:w,errorBag:p,errors:_,schema:E,submitCount:o,meta:S,isSubmitting:r,isValidating:s,fieldArrays:a,keepValuesOnUnmount:k,validateSchema:oe(E)?B:void 0,validate:me,setFieldError:v,validateField:Pe,setFieldValue:G,setValues:Q,setErrors:m,setFieldTouched:X,setTouched:J,resetForm:ae,resetField:ce,handleSubmit:be,useFieldModel:Ve,defineInputBinds:tt,defineComponentBinds:kt,defineField:He,stageInitialValue:De,unsetInitialValue:we,setFieldInitialValue:Se,createPathState:A,getPathState:j,unsetPathValue:z,removePathState:Ae,initialValues:R,getAllPathStates:()=>u.value,destroyPath:Ne,isFieldTouched:_e,isFieldDirty:M,isFieldValid:L};function G(le,re,Ee=!0){const Fe=hn(re),et=typeof le=="string"?le:le.path;j(et)||A(et),eo(l,et,Fe),Ee&&Pe(et)}function ie(le,re=!0){Nr(l).forEach(Ee=>{delete l[Ee]}),Nr(le).forEach(Ee=>{G(Ee,le[Ee],!1)}),re&&me()}function Q(le,re=!0){sh(l,le),a.forEach(Ee=>Ee&&Ee.reset()),re&&me()}function ee(le,re){const Ee=j(fn(le))||A(le);return I({get(){return Ee.value},set(Fe){var et;const ft=fn(le);G(ft,Fe,(et=fn(re))!==null&&et!==void 0?et:!1)}})}function X(le,re){const Ee=j(le);Ee&&(Ee.touched=re)}function _e(le){const re=j(le);return re?re.touched:u.value.filter(Ee=>Ee.path.startsWith(le)).some(Ee=>Ee.touched)}function M(le){const re=j(le);return re?re.dirty:u.value.filter(Ee=>Ee.path.startsWith(le)).some(Ee=>Ee.dirty)}function L(le){const re=j(le);return re?re.valid:u.value.filter(Ee=>Ee.path.startsWith(le)).every(Ee=>Ee.valid)}function J(le){if(typeof le=="boolean"){$(re=>{re.touched=le});return}Nr(le).forEach(re=>{X(re,!!le[re])})}function ce(le,re){var Ee;const Fe=re&&"value"in re?re.value:so(R.value,le),et=j(le);et&&(et.__flags.pendingReset=!0),Se(le,hn(Fe),!0),G(le,Fe,!1),X(le,(Ee=re==null?void 0:re.touched)!==null&&Ee!==void 0?Ee:!1),v(le,(re==null?void 0:re.errors)||[]),at(()=>{et&&(et.__flags.pendingReset=!1)})}function ae(le,re){let Ee=hn(le!=null&&le.values?le.values:O.value);Ee=re!=null&&re.force?Ee:sh(O.value,Ee),Ee=sa(E)&&Yr(E.cast)?E.cast(Ee):Ee,x(Ee,{force:re==null?void 0:re.force}),$(Fe=>{var et;Fe.__flags.pendingReset=!0,Fe.validated=!1,Fe.touched=((et=le==null?void 0:le.touched)===null||et===void 0?void 0:et[Fe.path])||!1,G(Fe.path,so(Ee,Fe.path),!1),v(Fe.path,void 0)}),re!=null&&re.force?ie(Ee,!1):Q(Ee,!1),m((le==null?void 0:le.errors)||{}),o.value=(le==null?void 0:le.submitCount)||0,at(()=>{me({mode:"silent"}),$(Fe=>{Fe.__flags.pendingReset=!1})})}async function me(le){const re=(le==null?void 0:le.mode)||"force";if(re==="force"&&$(qe=>qe.validated=!0),se.validateSchema)return se.validateSchema(re);s.value=!0;const Ee=await Promise.all(u.value.map(qe=>qe.validate?qe.validate(le).then(Tt=>({key:qe.path,valid:Tt.valid,errors:Tt.errors,value:Tt.value})):Promise.resolve({key:qe.path,valid:!0,errors:[],value:void 0})));s.value=!1;const Fe={},et={},ft={};for(const qe of Ee)Fe[qe.key]={valid:qe.valid,errors:qe.errors},qe.value&&eo(ft,qe.key,qe.value),qe.errors.length&&(et[qe.key]=qe.errors[0]);return{valid:Ee.every(qe=>qe.valid),results:Fe,errors:et,values:ft,source:"fields"}}async function Pe(le,re){var Ee;const Fe=j(le);if(Fe&&(re==null?void 0:re.mode)!=="silent"&&(Fe.validated=!0),E){const{results:et}=await B((re==null?void 0:re.mode)||"validated-only");return et[le]||{errors:[],valid:!0}}return Fe!=null&&Fe.validate?Fe.validate(re):(!Fe&&(Ee=re==null?void 0:re.warn),Promise.resolve({errors:[],valid:!0}))}function we(le){VD(R.value,le)}function De(le,re,Ee=!1){Se(le,re),eo(l,le,re),Ee&&!(e!=null&&e.initialValues)&&eo(O.value,le,hn(re))}function Se(le,re,Ee=!1){eo(R.value,le,hn(re)),Ee&&eo(O.value,le,hn(re))}async function ze(){const le=oe(E);if(!le)return{valid:!0,results:{},errors:{},source:"none"};s.value=!0;const re=OU(le)||sa(le)?await jve(le,l):await Hve(le,l,{names:y.value,bailsMap:b.value});return s.value=!1,re}const Le=be((le,{evt:re})=>{Tve(re)&&re.target.submit()});bt(()=>{if(e!=null&&e.initialErrors&&m(e.initialErrors),e!=null&&e.initialTouched&&J(e.initialTouched),e!=null&&e.validateOnMount){me();return}se.validateSchema&&se.validateSchema("silent")}),Je(E)&&ge(E,()=>{var le;(le=se.validateSchema)===null||le===void 0||le.call(se,"validated-only")}),Ut(_ve,se);function He(le,re){const Ee=Yr(re)||re==null?void 0:re.label,Fe=j(fn(le))||A(le,{label:Ee}),et=()=>Yr(re)?re(Uv(Fe,jv)):re||{};function ft(){var Zt;Fe.touched=!0,((Zt=et().validateOnBlur)!==null&&Zt!==void 0?Zt:$d().validateOnBlur)&&Pe(Fe.path)}function qe(){var Zt;((Zt=et().validateOnInput)!==null&&Zt!==void 0?Zt:$d().validateOnInput)&&at(()=>{Pe(Fe.path)})}function Tt(){var Zt;((Zt=et().validateOnChange)!==null&&Zt!==void 0?Zt:$d().validateOnChange)&&at(()=>{Pe(Fe.path)})}const on=I(()=>{const Zt={onChange:Tt,onInput:qe,onBlur:ft};return Yr(re)?Object.assign(Object.assign({},Zt),re(Uv(Fe,jv)).props||{}):re!=null&&re.props?Object.assign(Object.assign({},Zt),re.props(Uv(Fe,jv))):Zt});return[ee(le,()=>{var Zt,Fn,si;return(si=(Zt=et().validateOnModelUpdate)!==null&&Zt!==void 0?Zt:(Fn=$d())===null||Fn===void 0?void 0:Fn.validateOnModelUpdate)!==null&&si!==void 0?si:!0}),on]}function Ve(le){return Array.isArray(le)?le.map(re=>ee(re,!0)):ee(le)}function tt(le,re){const[Ee,Fe]=He(le,re);function et(){Fe.value.onBlur()}function ft(Tt){const on=LD(Tt);G(fn(le),on,!1),Fe.value.onInput()}function qe(Tt){const on=LD(Tt);G(fn(le),on,!1),Fe.value.onChange()}return I(()=>Object.assign(Object.assign({},Fe.value),{onBlur:et,onInput:ft,onChange:qe,value:Ee.value}))}function kt(le,re){const[Ee,Fe]=He(le,re),et=j(fn(le));function ft(qe){Ee.value=qe}return I(()=>{const qe=Yr(re)?re(Uv(et,jv)):re||{};return Object.assign({[qe.model||"modelValue"]:Ee.value,[`onUpdate:${qe.model||"modelValue"}`]:ft},Fe.value)})}const Ke=Object.assign(Object.assign({},se),{values:xc(l),handleReset:()=>ae(),submitForm:Le});return Ut(yve,Ke),Ke}function zve(e,t,n,i){const r={touched:"some",pending:"some",valid:"every"},s=I(()=>!af(t,oe(n)));function o(){const l=e.value;return Nr(r).reduce((u,d)=>{const c=r[d];return u[d]=l[c](f=>f[d]),u},{})}const a=cn(o());return rn(()=>{const l=o();a.touched=l.touched,a.valid=l.valid,a.pending=l.pending}),I(()=>Object.assign(Object.assign({initialValues:oe(n)},a),{valid:a.valid&&!Nr(i.value).length,dirty:s.value}))}function Gve(e,t,n){const i=$U(n),r=W(i),s=W(hn(i));function o(a,l){l!=null&&l.force?(r.value=hn(a),s.value=hn(a)):(r.value=sh(hn(r.value)||{},hn(a)),s.value=sh(hn(s.value)||{},hn(a))),l!=null&&l.updateFields&&e.value.forEach(u=>{if(u.touched)return;const c=so(r.value,u.path);eo(t,u.path,hn(c))})}return{initialValues:r,originalInitialValues:s,setInitialValues:o}}function qve(e,t){return t?{valid:e.valid&&t.valid,errors:[...e.errors,...t.errors]}:e}function Yve(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function lu(e){this._maxSize=e,this.clear()}lu.prototype.clear=function(){this._size=0,this._values=Object.create(null)};lu.prototype.get=function(e){return this._values[e]};lu.prototype.set=function(e,t){return this._size>=this._maxSize&&this.clear(),e in this._values||this._size++,this._values[e]=t};var Kve=/[^.^\]^[]+|(?=\[\]|\.\.)/g,BU=/^\d+$/,Xve=/^\d/,Qve=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,Jve=/^\s*(['"]?)(.*?)(\1)\s*$/,LC=512,$D=new lu(LC),BD=new lu(LC),UD=new lu(LC),Sl={Cache:lu,split:zw,normalizePath:db,setter:function(e){var t=db(e);return BD.get(e)||BD.set(e,function(i,r){for(var s=0,o=t.length,a=i;s<o-1;){var l=t[s];if(l==="__proto__"||l==="constructor"||l==="prototype")return i;a=a[t[s++]]}a[t[s]]=r})},getter:function(e,t){var n=db(e);return UD.get(e)||UD.set(e,function(r){for(var s=0,o=n.length;s<o;)if(r!=null||!t)r=r[n[s++]];else return;return r})},join:function(e){return e.reduce(function(t,n){return t+(FC(n)||BU.test(n)?"["+n+"]":(t?".":"")+n)},"")},forEach:function(e,t,n){Zve(Array.isArray(e)?e:zw(e),t,n)}};function db(e){return $D.get(e)||$D.set(e,zw(e).map(function(t){return t.replace(Jve,"$2")}))}function zw(e){return e.match(Kve)||[""]}function Zve(e,t,n){var i=e.length,r,s,o,a;for(s=0;s<i;s++)r=e[s],r&&(nme(r)&&(r='"'+r+'"'),a=FC(r),o=!a&&/^\d+$/.test(r),t.call(n,r,a,o,s,e))}function FC(e){return typeof e=="string"&&e&&["'",'"'].indexOf(e.charAt(0))!==-1}function eme(e){return e.match(Xve)&&!e.match(BU)}function tme(e){return Qve.test(e)}function nme(e){return!FC(e)&&(eme(e)||tme(e))}const ime=/[A-Z\xc0-\xd6\xd8-\xde]?[a-z\xdf-\xf6\xf8-\xff]+(?:['’](?:d|ll|m|re|s|t|ve))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde]|$)|(?:[A-Z\xc0-\xd6\xd8-\xde]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['’](?:D|LL|M|RE|S|T|VE))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde](?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])|$)|[A-Z\xc0-\xd6\xd8-\xde]?(?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['’](?:d|ll|m|re|s|t|ve))?|[A-Z\xc0-\xd6\xd8-\xde]+(?:['’](?:D|LL|M|RE|S|T|VE))?|\d*(?:1ST|2ND|3RD|(?![123])\dTH)(?=\b|[a-z_])|\d*(?:1st|2nd|3rd|(?![123])\dth)(?=\b|[A-Z_])|\d+|(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g,U_=e=>e.match(ime)||[],j_=e=>e[0].toUpperCase()+e.slice(1),$C=(e,t)=>U_(e).join(t).toLowerCase(),UU=e=>U_(e).reduce((t,n)=>`${t}${t?n[0].toUpperCase()+n.slice(1).toLowerCase():n.toLowerCase()}`,""),rme=e=>j_(UU(e)),sme=e=>$C(e,"_"),ome=e=>$C(e,"-"),ame=e=>j_($C(e," ")),lme=e=>U_(e).map(j_).join(" ");var fb={words:U_,upperFirst:j_,camelCase:UU,pascalCase:rme,snakeCase:sme,kebabCase:ome,sentenceCase:ame,titleCase:lme},BC={exports:{}};BC.exports=function(e){return jU(ume(e),e)};BC.exports.array=jU;function jU(e,t){var n=e.length,i=new Array(n),r={},s=n,o=cme(t),a=dme(e);for(t.forEach(function(u){if(!a.has(u[0])||!a.has(u[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")});s--;)r[s]||l(e[s],s,new Set);return i;function l(u,d,c){if(c.has(u)){var f;try{f=", node was:"+JSON.stringify(u)}catch{f=""}throw new Error("Cyclic dependency"+f)}if(!a.has(u))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(u));if(!r[d]){r[d]=!0;var v=o.get(u)||new Set;if(v=Array.from(v),d=v.length){c.add(u);do{var m=v[--d];l(m,a.get(m),c)}while(d);c.delete(u)}i[--n]=u}}}function ume(e){for(var t=new Set,n=0,i=e.length;n<i;n++){var r=e[n];t.add(r[0]),t.add(r[1])}return Array.from(t)}function cme(e){for(var t=new Map,n=0,i=e.length;n<i;n++){var r=e[n];t.has(r[0])||t.set(r[0],new Set),t.has(r[1])||t.set(r[1],new Set),t.get(r[0]).add(r[1])}return t}function dme(e){for(var t=new Map,n=0,i=e.length;n<i;n++)t.set(e[n],n);return t}var fme=BC.exports;const hme=Yve(fme),vme=Object.prototype.toString,mme=Error.prototype.toString,gme=RegExp.prototype.toString,pme=typeof Symbol<"u"?Symbol.prototype.toString:()=>"",_me=/^Symbol\((.*)\)(.*)$/;function yme(e){return e!=+e?"NaN":e===0&&1/e<0?"-0":""+e}function jD(e,t=!1){if(e==null||e===!0||e===!1)return""+e;const n=typeof e;if(n==="number")return yme(e);if(n==="string")return t?`"${e}"`:e;if(n==="function")return"[Function "+(e.name||"anonymous")+"]";if(n==="symbol")return pme.call(e).replace(_me,"Symbol($1)");const i=vme.call(e).slice(8,-1);return i==="Date"?isNaN(e.getTime())?""+e:e.toISOString(e):i==="Error"||e instanceof Error?"["+mme.call(e)+"]":i==="RegExp"?gme.call(e):null}function po(e,t){let n=jD(e,t);return n!==null?n:JSON.stringify(e,function(i,r){let s=jD(this[i],t);return s!==null?s:r},2)}function HU(e){return e==null?[]:[].concat(e)}let WU,zU,GU,bme=/\$\{\s*(\w+)\s*\}/g;WU=Symbol.toStringTag;class HD{constructor(t,n,i,r){this.name=void 0,this.message=void 0,this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=void 0,this.inner=void 0,this[WU]="Error",this.name="ValidationError",this.value=n,this.path=i,this.type=r,this.errors=[],this.inner=[],HU(t).forEach(s=>{if(rr.isError(s)){this.errors.push(...s.errors);const o=s.inner.length?s.inner:[s];this.inner.push(...o)}else this.errors.push(s)}),this.message=this.errors.length>1?`${this.errors.length} errors occurred`:this.errors[0]}}zU=Symbol.hasInstance;GU=Symbol.toStringTag;class rr extends Error{static formatError(t,n){const i=n.label||n.path||"this";return i!==n.path&&(n=Object.assign({},n,{path:i})),typeof t=="string"?t.replace(bme,(r,s)=>po(n[s])):typeof t=="function"?t(n):t}static isError(t){return t&&t.name==="ValidationError"}constructor(t,n,i,r,s){const o=new HD(t,n,i,r);if(s)return o;super(),this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=[],this.inner=[],this[GU]="Error",this.name=o.name,this.message=o.message,this.type=o.type,this.value=o.value,this.path=o.path,this.errors=o.errors,this.inner=o.inner,Error.captureStackTrace&&Error.captureStackTrace(this,rr)}static[zU](t){return HD[Symbol.hasInstance](t)||super[Symbol.hasInstance](t)}}let ps={default:"${path} is invalid",required:"${path} is a required field",defined:"${path} must be defined",notNull:"${path} cannot be null",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:({path:e,type:t,value:n,originalValue:i})=>{const r=i!=null&&i!==n?` (cast from the value \`${po(i,!0)}\`).`:".";return t!=="mixed"?`${e} must be a \`${t}\` type, but the final value was: \`${po(n,!0)}\``+r:`${e} must match the configured type. The validated value was: \`${po(n,!0)}\``+r}},er={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",datetime:"${path} must be a valid ISO date-time",datetime_precision:"${path} must be a valid ISO date-time with a sub-second precision of exactly ${precision} digits",datetime_offset:'${path} must be a valid ISO date-time with UTC "Z" timezone',trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},Go={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},Gw={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},qw={isValue:"${path} field must be ${value}"},Yw={noUnknown:"${path} field has unspecified keys: ${unknown}"},Sm={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"},wme={notType:e=>{const{path:t,value:n,spec:i}=e,r=i.types.length;if(Array.isArray(n)){if(n.length<r)return`${t} tuple value has too few items, expected a length of ${r} but got ${n.length} for value: \`${po(n,!0)}\``;if(n.length>r)return`${t} tuple value has too many items, expected a length of ${r} but got ${n.length} for value: \`${po(n,!0)}\``}return rr.formatError(ps.notType,e)}};Object.assign(Object.create(null),{mixed:ps,string:er,number:Go,date:Gw,object:Yw,array:Sm,boolean:qw,tuple:wme});const H_=e=>e&&e.__isYupSchema__;class Rg{static fromOptions(t,n){if(!n.then&&!n.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");let{is:i,then:r,otherwise:s}=n,o=typeof i=="function"?i:(...a)=>a.every(l=>l===i);return new Rg(t,(a,l)=>{var u;let d=o(...a)?r:s;return(u=d==null?void 0:d(l))!=null?u:l})}constructor(t,n){this.fn=void 0,this.refs=t,this.refs=t,this.fn=n}resolve(t,n){let i=this.refs.map(s=>s.getValue(n==null?void 0:n.value,n==null?void 0:n.parent,n==null?void 0:n.context)),r=this.fn(i,t,n);if(r===void 0||r===t)return t;if(!H_(r))throw new TypeError("conditions must return a schema object");return r.resolve(n)}}const Hv={context:"$",value:"."};function Sme(e,t){return new Ba(e,t)}class Ba{constructor(t,n={}){if(this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,typeof t!="string")throw new TypeError("ref must be a string, got: "+t);if(this.key=t.trim(),t==="")throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===Hv.context,this.isValue=this.key[0]===Hv.value,this.isSibling=!this.isContext&&!this.isValue;let i=this.isContext?Hv.context:this.isValue?Hv.value:"";this.path=this.key.slice(i.length),this.getter=this.path&&Sl.getter(this.path,!0),this.map=n.map}getValue(t,n,i){let r=this.isContext?i:this.isValue?t:n;return this.getter&&(r=this.getter(r||{})),this.map&&(r=this.map(r)),r}cast(t,n){return this.getValue(t,n==null?void 0:n.parent,n==null?void 0:n.context)}resolve(){return this}describe(){return{type:"ref",key:this.key}}toString(){return`Ref(${this.key})`}static isRef(t){return t&&t.__isYupRef}}Ba.prototype.__isYupRef=!0;const Zr=e=>e==null;function Su(e){function t({value:n,path:i="",options:r,originalValue:s,schema:o},a,l){const{name:u,test:d,params:c,message:f,skipAbsent:v}=e;let{parent:m,context:p,abortEarly:_=o.spec.abortEarly,disableStackTrace:y=o.spec.disableStackTrace}=r;function b(A){return Ba.isRef(A)?A.getValue(n,m,p):A}function C(A={}){const P=Object.assign({value:n,originalValue:s,label:o.spec.label,path:A.path||i,spec:o.spec,disableStackTrace:A.disableStackTrace||y},c,A.params);for(const B of Object.keys(P))P[B]=b(P[B]);const D=new rr(rr.formatError(A.message||f,P),n,P.path,A.type||u,P.disableStackTrace);return D.params=P,D}const k=_?a:l;let R={path:i,parent:m,type:u,from:r.from,createError:C,resolve:b,options:r,originalValue:s,schema:o};const O=A=>{rr.isError(A)?k(A):A?l(null):k(C())},x=A=>{rr.isError(A)?k(A):a(A)};if(v&&Zr(n))return O(!0);let w;try{var E;if(w=d.call(R,n,R),typeof((E=w)==null?void 0:E.then)=="function"){if(r.sync)throw new Error(`Validation test of type: "${R.type}" returned a Promise during a synchronous validate. This test will finish after the validate call has returned`);return Promise.resolve(w).then(O,x)}}catch(A){x(A);return}O(w)}return t.OPTIONS=e,t}function Eme(e,t,n,i=n){let r,s,o;return t?(Sl.forEach(t,(a,l,u)=>{let d=l?a.slice(1,a.length-1):a;e=e.resolve({context:i,parent:r,value:n});let c=e.type==="tuple",f=u?parseInt(d,10):0;if(e.innerType||c){if(c&&!u)throw new Error(`Yup.reach cannot implicitly index into a tuple type. the path part "${o}" must contain an index to the tuple element, e.g. "${o}[0]"`);if(n&&f>=n.length)throw new Error(`Yup.reach cannot resolve an array item at index: ${a}, in the path: ${t}. because there is no value at that index. `);r=n,n=n&&n[f],e=c?e.spec.types[f]:e.innerType}if(!u){if(!e.fields||!e.fields[d])throw new Error(`The schema does not contain the path: ${t}. (failed at: ${o} which is a type: "${e.type}")`);r=n,n=n&&n[d],e=e.fields[d]}s=d,o=l?"["+a+"]":"."+a}),{schema:e,parent:r,parentPath:s}):{parent:r,parentPath:t,schema:e}}class Og extends Set{describe(){const t=[];for(const n of this.values())t.push(Ba.isRef(n)?n.describe():n);return t}resolveAll(t){let n=[];for(const i of this.values())n.push(t(i));return n}clone(){return new Og(this.values())}merge(t,n){const i=this.clone();return t.forEach(r=>i.add(r)),n.forEach(r=>i.delete(r)),i}}function $u(e,t=new Map){if(H_(e)||!e||typeof e!="object")return e;if(t.has(e))return t.get(e);let n;if(e instanceof Date)n=new Date(e.getTime()),t.set(e,n);else if(e instanceof RegExp)n=new RegExp(e),t.set(e,n);else if(Array.isArray(e)){n=new Array(e.length),t.set(e,n);for(let i=0;i<e.length;i++)n[i]=$u(e[i],t)}else if(e instanceof Map){n=new Map,t.set(e,n);for(const[i,r]of e.entries())n.set(i,$u(r,t))}else if(e instanceof Set){n=new Set,t.set(e,n);for(const i of e)n.add($u(i,t))}else if(e instanceof Object){n={},t.set(e,n);for(const[i,r]of Object.entries(e))n[i]=$u(r,t)}else throw Error(`Unable to clone ${e}`);return n}class Ir{constructor(t){this.type=void 0,this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this.internalTests={},this._whitelist=new Og,this._blacklist=new Og,this.exclusiveTests=Object.create(null),this._typeCheck=void 0,this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation(()=>{this.typeError(ps.notType)}),this.type=t.type,this._typeCheck=t.check,this.spec=Object.assign({strip:!1,strict:!1,abortEarly:!0,recursive:!0,disableStackTrace:!1,nullable:!1,optional:!0,coerce:!0},t==null?void 0:t.spec),this.withMutation(n=>{n.nonNullable()})}get _type(){return this.type}clone(t){if(this._mutate)return t&&Object.assign(this.spec,t),this;const n=Object.create(Object.getPrototypeOf(this));return n.type=this.type,n._typeCheck=this._typeCheck,n._whitelist=this._whitelist.clone(),n._blacklist=this._blacklist.clone(),n.internalTests=Object.assign({},this.internalTests),n.exclusiveTests=Object.assign({},this.exclusiveTests),n.deps=[...this.deps],n.conditions=[...this.conditions],n.tests=[...this.tests],n.transforms=[...this.transforms],n.spec=$u(Object.assign({},this.spec,t)),n}label(t){let n=this.clone();return n.spec.label=t,n}meta(...t){if(t.length===0)return this.spec.meta;let n=this.clone();return n.spec.meta=Object.assign(n.spec.meta||{},t[0]),n}withMutation(t){let n=this._mutate;this._mutate=!0;let i=t(this);return this._mutate=n,i}concat(t){if(!t||t===this)return this;if(t.type!==this.type&&this.type!=="mixed")throw new TypeError(`You cannot \`concat()\` schema's of different types: ${this.type} and ${t.type}`);let n=this,i=t.clone();const r=Object.assign({},n.spec,i.spec);return i.spec=r,i.internalTests=Object.assign({},n.internalTests,i.internalTests),i._whitelist=n._whitelist.merge(t._whitelist,t._blacklist),i._blacklist=n._blacklist.merge(t._blacklist,t._whitelist),i.tests=n.tests,i.exclusiveTests=n.exclusiveTests,i.withMutation(s=>{t.tests.forEach(o=>{s.test(o.OPTIONS)})}),i.transforms=[...n.transforms,...i.transforms],i}isType(t){return t==null?!!(this.spec.nullable&&t===null||this.spec.optional&&t===void 0):this._typeCheck(t)}resolve(t){let n=this;if(n.conditions.length){let i=n.conditions;n=n.clone(),n.conditions=[],n=i.reduce((r,s)=>s.resolve(r,t),n),n=n.resolve(t)}return n}resolveOptions(t){var n,i,r,s;return Object.assign({},t,{from:t.from||[],strict:(n=t.strict)!=null?n:this.spec.strict,abortEarly:(i=t.abortEarly)!=null?i:this.spec.abortEarly,recursive:(r=t.recursive)!=null?r:this.spec.recursive,disableStackTrace:(s=t.disableStackTrace)!=null?s:this.spec.disableStackTrace})}cast(t,n={}){let i=this.resolve(Object.assign({value:t},n)),r=n.assert==="ignore-optionality",s=i._cast(t,n);if(n.assert!==!1&&!i.isType(s)){if(r&&Zr(s))return s;let o=po(t),a=po(s);throw new TypeError(`The value of ${n.path||"field"} could not be cast to a value that satisfies the schema type: "${i.type}". 

attempted value: ${o} 
`+(a!==o?`result of cast: ${a}`:""))}return s}_cast(t,n){let i=t===void 0?t:this.transforms.reduce((r,s)=>s.call(this,r,t,this),t);return i===void 0&&(i=this.getDefault(n)),i}_validate(t,n={},i,r){let{path:s,originalValue:o=t,strict:a=this.spec.strict}=n,l=t;a||(l=this._cast(l,Object.assign({assert:!1},n)));let u=[];for(let d of Object.values(this.internalTests))d&&u.push(d);this.runTests({path:s,value:l,originalValue:o,options:n,tests:u},i,d=>{if(d.length)return r(d,l);this.runTests({path:s,value:l,originalValue:o,options:n,tests:this.tests},i,r)})}runTests(t,n,i){let r=!1,{tests:s,value:o,originalValue:a,path:l,options:u}=t,d=p=>{r||(r=!0,n(p,o))},c=p=>{r||(r=!0,i(p,o))},f=s.length,v=[];if(!f)return c([]);let m={value:o,originalValue:a,path:l,options:u,schema:this};for(let p=0;p<s.length;p++){const _=s[p];_(m,d,function(b){b&&(Array.isArray(b)?v.push(...b):v.push(b)),--f<=0&&c(v)})}}asNestedTest({key:t,index:n,parent:i,parentPath:r,originalParent:s,options:o}){const a=t??n;if(a==null)throw TypeError("Must include `key` or `index` for nested validations");const l=typeof a=="number";let u=i[a];const d=Object.assign({},o,{strict:!0,parent:i,value:u,originalValue:s[a],key:void 0,[l?"index":"key"]:a,path:l||a.includes(".")?`${r||""}[${l?a:`"${a}"`}]`:(r?`${r}.`:"")+t});return(c,f,v)=>this.resolve(d)._validate(u,d,f,v)}validate(t,n){var i;let r=this.resolve(Object.assign({},n,{value:t})),s=(i=n==null?void 0:n.disableStackTrace)!=null?i:r.spec.disableStackTrace;return new Promise((o,a)=>r._validate(t,n,(l,u)=>{rr.isError(l)&&(l.value=u),a(l)},(l,u)=>{l.length?a(new rr(l,u,void 0,void 0,s)):o(u)}))}validateSync(t,n){var i;let r=this.resolve(Object.assign({},n,{value:t})),s,o=(i=n==null?void 0:n.disableStackTrace)!=null?i:r.spec.disableStackTrace;return r._validate(t,Object.assign({},n,{sync:!0}),(a,l)=>{throw rr.isError(a)&&(a.value=l),a},(a,l)=>{if(a.length)throw new rr(a,t,void 0,void 0,o);s=l}),s}isValid(t,n){return this.validate(t,n).then(()=>!0,i=>{if(rr.isError(i))return!1;throw i})}isValidSync(t,n){try{return this.validateSync(t,n),!0}catch(i){if(rr.isError(i))return!1;throw i}}_getDefault(t){let n=this.spec.default;return n==null?n:typeof n=="function"?n.call(this,t):$u(n)}getDefault(t){return this.resolve(t||{})._getDefault(t)}default(t){return arguments.length===0?this._getDefault():this.clone({default:t})}strict(t=!0){return this.clone({strict:t})}nullability(t,n){const i=this.clone({nullable:t});return i.internalTests.nullable=Su({message:n,name:"nullable",test(r){return r===null?this.schema.spec.nullable:!0}}),i}optionality(t,n){const i=this.clone({optional:t});return i.internalTests.optionality=Su({message:n,name:"optionality",test(r){return r===void 0?this.schema.spec.optional:!0}}),i}optional(){return this.optionality(!0)}defined(t=ps.defined){return this.optionality(!1,t)}nullable(){return this.nullability(!0)}nonNullable(t=ps.notNull){return this.nullability(!1,t)}required(t=ps.required){return this.clone().withMutation(n=>n.nonNullable(t).defined(t))}notRequired(){return this.clone().withMutation(t=>t.nullable().optional())}transform(t){let n=this.clone();return n.transforms.push(t),n}test(...t){let n;if(t.length===1?typeof t[0]=="function"?n={test:t[0]}:n=t[0]:t.length===2?n={name:t[0],test:t[1]}:n={name:t[0],message:t[1],test:t[2]},n.message===void 0&&(n.message=ps.default),typeof n.test!="function")throw new TypeError("`test` is a required parameters");let i=this.clone(),r=Su(n),s=n.exclusive||n.name&&i.exclusiveTests[n.name]===!0;if(n.exclusive&&!n.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return n.name&&(i.exclusiveTests[n.name]=!!n.exclusive),i.tests=i.tests.filter(o=>!(o.OPTIONS.name===n.name&&(s||o.OPTIONS.test===r.OPTIONS.test))),i.tests.push(r),i}when(t,n){!Array.isArray(t)&&typeof t!="string"&&(n=t,t=".");let i=this.clone(),r=HU(t).map(s=>new Ba(s));return r.forEach(s=>{s.isSibling&&i.deps.push(s.key)}),i.conditions.push(typeof n=="function"?new Rg(r,n):Rg.fromOptions(r,n)),i}typeError(t){let n=this.clone();return n.internalTests.typeError=Su({message:t,name:"typeError",skipAbsent:!0,test(i){return this.schema._typeCheck(i)?!0:this.createError({params:{type:this.schema.type}})}}),n}oneOf(t,n=ps.oneOf){let i=this.clone();return t.forEach(r=>{i._whitelist.add(r),i._blacklist.delete(r)}),i.internalTests.whiteList=Su({message:n,name:"oneOf",skipAbsent:!0,test(r){let s=this.schema._whitelist,o=s.resolveAll(this.resolve);return o.includes(r)?!0:this.createError({params:{values:Array.from(s).join(", "),resolved:o}})}}),i}notOneOf(t,n=ps.notOneOf){let i=this.clone();return t.forEach(r=>{i._blacklist.add(r),i._whitelist.delete(r)}),i.internalTests.blacklist=Su({message:n,name:"notOneOf",test(r){let s=this.schema._blacklist,o=s.resolveAll(this.resolve);return o.includes(r)?this.createError({params:{values:Array.from(s).join(", "),resolved:o}}):!0}}),i}strip(t=!0){let n=this.clone();return n.spec.strip=t,n}describe(t){const n=(t?this.resolve(t):this).clone(),{label:i,meta:r,optional:s,nullable:o}=n.spec;return{meta:r,label:i,optional:s,nullable:o,default:n.getDefault(t),type:n.type,oneOf:n._whitelist.describe(),notOneOf:n._blacklist.describe(),tests:n.tests.map(l=>({name:l.OPTIONS.name,params:l.OPTIONS.params})).filter((l,u,d)=>d.findIndex(c=>c.name===l.name)===u)}}}Ir.prototype.__isYupSchema__=!0;for(const e of["validate","validateSync"])Ir.prototype[`${e}At`]=function(t,n,i={}){const{parent:r,parentPath:s,schema:o}=Eme(this,t,n,i.context);return o[e](r&&r[s],Object.assign({},i,{parent:r,path:t}))};for(const e of["equals","is"])Ir.prototype[e]=Ir.prototype.oneOf;for(const e of["not","nope"])Ir.prototype[e]=Ir.prototype.notOneOf;function qU(){return new YU}class YU extends Ir{constructor(){super({type:"boolean",check(t){return t instanceof Boolean&&(t=t.valueOf()),typeof t=="boolean"}}),this.withMutation(()=>{this.transform((t,n,i)=>{if(i.spec.coerce&&!i.isType(t)){if(/^(true|1)$/i.test(String(t)))return!0;if(/^(false|0)$/i.test(String(t)))return!1}return t})})}isTrue(t=qw.isValue){return this.test({message:t,name:"is-value",exclusive:!0,params:{value:"true"},test(n){return Zr(n)||n===!0}})}isFalse(t=qw.isValue){return this.test({message:t,name:"is-value",exclusive:!0,params:{value:"false"},test(n){return Zr(n)||n===!1}})}default(t){return super.default(t)}defined(t){return super.defined(t)}optional(){return super.optional()}required(t){return super.required(t)}notRequired(){return super.notRequired()}nullable(){return super.nullable()}nonNullable(t){return super.nonNullable(t)}strip(t){return super.strip(t)}}qU.prototype=YU.prototype;const Cme=/^(\d{4}|[+-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,.](\d{1,}))?)?(?:(Z)|([+-])(\d{2})(?::?(\d{2}))?)?)?$/;function kme(e){const t=Kw(e);if(!t)return Date.parse?Date.parse(e):Number.NaN;if(t.z===void 0&&t.plusMinus===void 0)return new Date(t.year,t.month,t.day,t.hour,t.minute,t.second,t.millisecond).valueOf();let n=0;return t.z!=="Z"&&t.plusMinus!==void 0&&(n=t.hourOffset*60+t.minuteOffset,t.plusMinus==="+"&&(n=0-n)),Date.UTC(t.year,t.month,t.day,t.hour,t.minute+n,t.second,t.millisecond)}function Kw(e){var t,n;const i=Cme.exec(e);return i?{year:Js(i[1]),month:Js(i[2],1)-1,day:Js(i[3],1),hour:Js(i[4]),minute:Js(i[5]),second:Js(i[6]),millisecond:i[7]?Js(i[7].substring(0,3)):0,precision:(t=(n=i[7])==null?void 0:n.length)!=null?t:void 0,z:i[8]||void 0,plusMinus:i[9]||void 0,hourOffset:Js(i[10]),minuteOffset:Js(i[11])}:null}function Js(e,t=0){return Number(e)||t}let Tme=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Ime=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,Ame=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,Pme="^\\d{4}-\\d{2}-\\d{2}",xme="\\d{2}:\\d{2}:\\d{2}",Dme="(([+-]\\d{2}(:?\\d{2})?)|Z)",Rme=new RegExp(`${Pme}T${xme}(\\.\\d+)?${Dme}$`),Ome=e=>Zr(e)||e===e.trim(),Vme={}.toString();function Mn(){return new KU}class KU extends Ir{constructor(){super({type:"string",check(t){return t instanceof String&&(t=t.valueOf()),typeof t=="string"}}),this.withMutation(()=>{this.transform((t,n,i)=>{if(!i.spec.coerce||i.isType(t)||Array.isArray(t))return t;const r=t!=null&&t.toString?t.toString():t;return r===Vme?t:r})})}required(t){return super.required(t).withMutation(n=>n.test({message:t||ps.required,name:"required",skipAbsent:!0,test:i=>!!i.length}))}notRequired(){return super.notRequired().withMutation(t=>(t.tests=t.tests.filter(n=>n.OPTIONS.name!=="required"),t))}length(t,n=er.length){return this.test({message:n,name:"length",exclusive:!0,params:{length:t},skipAbsent:!0,test(i){return i.length===this.resolve(t)}})}min(t,n=er.min){return this.test({message:n,name:"min",exclusive:!0,params:{min:t},skipAbsent:!0,test(i){return i.length>=this.resolve(t)}})}max(t,n=er.max){return this.test({name:"max",exclusive:!0,message:n,params:{max:t},skipAbsent:!0,test(i){return i.length<=this.resolve(t)}})}matches(t,n){let i=!1,r,s;return n&&(typeof n=="object"?{excludeEmptyString:i=!1,message:r,name:s}=n:r=n),this.test({name:s||"matches",message:r||er.matches,params:{regex:t},skipAbsent:!0,test:o=>o===""&&i||o.search(t)!==-1})}email(t=er.email){return this.matches(Tme,{name:"email",message:t,excludeEmptyString:!0})}url(t=er.url){return this.matches(Ime,{name:"url",message:t,excludeEmptyString:!0})}uuid(t=er.uuid){return this.matches(Ame,{name:"uuid",message:t,excludeEmptyString:!1})}datetime(t){let n="",i,r;return t&&(typeof t=="object"?{message:n="",allowOffset:i=!1,precision:r=void 0}=t:n=t),this.matches(Rme,{name:"datetime",message:n||er.datetime,excludeEmptyString:!0}).test({name:"datetime_offset",message:n||er.datetime_offset,params:{allowOffset:i},skipAbsent:!0,test:s=>{if(!s||i)return!0;const o=Kw(s);return o?!!o.z:!1}}).test({name:"datetime_precision",message:n||er.datetime_precision,params:{precision:r},skipAbsent:!0,test:s=>{if(!s||r==null)return!0;const o=Kw(s);return o?o.precision===r:!1}})}ensure(){return this.default("").transform(t=>t===null?"":t)}trim(t=er.trim){return this.transform(n=>n!=null?n.trim():n).test({message:t,name:"trim",test:Ome})}lowercase(t=er.lowercase){return this.transform(n=>Zr(n)?n:n.toLowerCase()).test({message:t,name:"string_case",exclusive:!0,skipAbsent:!0,test:n=>Zr(n)||n===n.toLowerCase()})}uppercase(t=er.uppercase){return this.transform(n=>Zr(n)?n:n.toUpperCase()).test({message:t,name:"string_case",exclusive:!0,skipAbsent:!0,test:n=>Zr(n)||n===n.toUpperCase()})}}Mn.prototype=KU.prototype;let Nme=e=>e!=+e;function lf(){return new XU}class XU extends Ir{constructor(){super({type:"number",check(t){return t instanceof Number&&(t=t.valueOf()),typeof t=="number"&&!Nme(t)}}),this.withMutation(()=>{this.transform((t,n,i)=>{if(!i.spec.coerce)return t;let r=t;if(typeof r=="string"){if(r=r.replace(/\s/g,""),r==="")return NaN;r=+r}return i.isType(r)||r===null?r:parseFloat(r)})})}min(t,n=Go.min){return this.test({message:n,name:"min",exclusive:!0,params:{min:t},skipAbsent:!0,test(i){return i>=this.resolve(t)}})}max(t,n=Go.max){return this.test({message:n,name:"max",exclusive:!0,params:{max:t},skipAbsent:!0,test(i){return i<=this.resolve(t)}})}lessThan(t,n=Go.lessThan){return this.test({message:n,name:"max",exclusive:!0,params:{less:t},skipAbsent:!0,test(i){return i<this.resolve(t)}})}moreThan(t,n=Go.moreThan){return this.test({message:n,name:"min",exclusive:!0,params:{more:t},skipAbsent:!0,test(i){return i>this.resolve(t)}})}positive(t=Go.positive){return this.moreThan(0,t)}negative(t=Go.negative){return this.lessThan(0,t)}integer(t=Go.integer){return this.test({name:"integer",message:t,skipAbsent:!0,test:n=>Number.isInteger(n)})}truncate(){return this.transform(t=>Zr(t)?t:t|0)}round(t){var n;let i=["ceil","floor","round","trunc"];if(t=((n=t)==null?void 0:n.toLowerCase())||"round",t==="trunc")return this.truncate();if(i.indexOf(t.toLowerCase())===-1)throw new TypeError("Only valid options for round() are: "+i.join(", "));return this.transform(r=>Zr(r)?r:Math[t](r))}}lf.prototype=XU.prototype;let QU=new Date(""),Mme=e=>Object.prototype.toString.call(e)==="[object Date]";function Ju(){return new qh}class qh extends Ir{constructor(){super({type:"date",check(t){return Mme(t)&&!isNaN(t.getTime())}}),this.withMutation(()=>{this.transform((t,n,i)=>!i.spec.coerce||i.isType(t)||t===null?t:(t=kme(t),isNaN(t)?qh.INVALID_DATE:new Date(t)))})}prepareParam(t,n){let i;if(Ba.isRef(t))i=t;else{let r=this.cast(t);if(!this._typeCheck(r))throw new TypeError(`\`${n}\` must be a Date or a value that can be \`cast()\` to a Date`);i=r}return i}min(t,n=Gw.min){let i=this.prepareParam(t,"min");return this.test({message:n,name:"min",exclusive:!0,params:{min:t},skipAbsent:!0,test(r){return r>=this.resolve(i)}})}max(t,n=Gw.max){let i=this.prepareParam(t,"max");return this.test({message:n,name:"max",exclusive:!0,params:{max:t},skipAbsent:!0,test(r){return r<=this.resolve(i)}})}}qh.INVALID_DATE=QU;Ju.prototype=qh.prototype;Ju.INVALID_DATE=QU;function Lme(e,t=[]){let n=[],i=new Set,r=new Set(t.map(([o,a])=>`${o}-${a}`));function s(o,a){let l=Sl.split(o)[0];i.add(l),r.has(`${a}-${l}`)||n.push([a,l])}for(const o of Object.keys(e)){let a=e[o];i.add(o),Ba.isRef(a)&&a.isSibling?s(a.path,o):H_(a)&&"deps"in a&&a.deps.forEach(l=>s(l,o))}return hme.array(Array.from(i),n).reverse()}function WD(e,t){let n=1/0;return e.some((i,r)=>{var s;if((s=t.path)!=null&&s.includes(i))return n=r,!0}),n}function JU(e){return(t,n)=>WD(e,t)-WD(e,n)}const ZU=(e,t,n)=>{if(typeof e!="string")return e;let i=e;try{i=JSON.parse(e)}catch{}return n.isType(i)?i:e};function Em(e){if("fields"in e){const t={};for(const[n,i]of Object.entries(e.fields))t[n]=Em(i);return e.setFields(t)}if(e.type==="array"){const t=e.optional();return t.innerType&&(t.innerType=Em(t.innerType)),t}return e.type==="tuple"?e.optional().clone({types:e.spec.types.map(Em)}):"optional"in e?e.optional():e}const Fme=(e,t)=>{const n=[...Sl.normalizePath(t)];if(n.length===1)return n[0]in e;let i=n.pop(),r=Sl.getter(Sl.join(n),!0)(e);return!!(r&&i in r)};let zD=e=>Object.prototype.toString.call(e)==="[object Object]";function $me(e,t){let n=Object.keys(e.fields);return Object.keys(t).filter(i=>n.indexOf(i)===-1)}const Bme=JU([]);function is(e){return new e6(e)}class e6 extends Ir{constructor(t){super({type:"object",check(n){return zD(n)||typeof n=="function"}}),this.fields=Object.create(null),this._sortErrors=Bme,this._nodes=[],this._excludedEdges=[],this.withMutation(()=>{t&&this.shape(t)})}_cast(t,n={}){var i;let r=super._cast(t,n);if(r===void 0)return this.getDefault(n);if(!this._typeCheck(r))return r;let s=this.fields,o=(i=n.stripUnknown)!=null?i:this.spec.noUnknown,a=[].concat(this._nodes,Object.keys(r).filter(c=>!this._nodes.includes(c))),l={},u=Object.assign({},n,{parent:l,__validating:n.__validating||!1}),d=!1;for(const c of a){let f=s[c],v=c in r;if(f){let m,p=r[c];u.path=(n.path?`${n.path}.`:"")+c,f=f.resolve({value:p,context:n.context,parent:l});let _=f instanceof Ir?f.spec:void 0,y=_==null?void 0:_.strict;if(_!=null&&_.strip){d=d||c in r;continue}m=!n.__validating||!y?f.cast(r[c],u):r[c],m!==void 0&&(l[c]=m)}else v&&!o&&(l[c]=r[c]);(v!==c in l||l[c]!==r[c])&&(d=!0)}return d?l:r}_validate(t,n={},i,r){let{from:s=[],originalValue:o=t,recursive:a=this.spec.recursive}=n;n.from=[{schema:this,value:o},...s],n.__validating=!0,n.originalValue=o,super._validate(t,n,i,(l,u)=>{if(!a||!zD(u)){r(l,u);return}o=o||u;let d=[];for(let c of this._nodes){let f=this.fields[c];!f||Ba.isRef(f)||d.push(f.asNestedTest({options:n,key:c,parent:u,parentPath:n.path,originalParent:o}))}this.runTests({tests:d,value:u,originalValue:o,options:n},i,c=>{r(c.sort(this._sortErrors).concat(l),u)})})}clone(t){const n=super.clone(t);return n.fields=Object.assign({},this.fields),n._nodes=this._nodes,n._excludedEdges=this._excludedEdges,n._sortErrors=this._sortErrors,n}concat(t){let n=super.concat(t),i=n.fields;for(let[r,s]of Object.entries(this.fields)){const o=i[r];i[r]=o===void 0?s:o}return n.withMutation(r=>r.setFields(i,[...this._excludedEdges,...t._excludedEdges]))}_getDefault(t){if("default"in this.spec)return super._getDefault(t);if(!this._nodes.length)return;let n={};return this._nodes.forEach(i=>{var r;const s=this.fields[i];let o=t;(r=o)!=null&&r.value&&(o=Object.assign({},o,{parent:o.value,value:o.value[i]})),n[i]=s&&"getDefault"in s?s.getDefault(o):void 0}),n}setFields(t,n){let i=this.clone();return i.fields=t,i._nodes=Lme(t,n),i._sortErrors=JU(Object.keys(t)),n&&(i._excludedEdges=n),i}shape(t,n=[]){return this.clone().withMutation(i=>{let r=i._excludedEdges;return n.length&&(Array.isArray(n[0])||(n=[n]),r=[...i._excludedEdges,...n]),i.setFields(Object.assign(i.fields,t),r)})}partial(){const t={};for(const[n,i]of Object.entries(this.fields))t[n]="optional"in i&&i.optional instanceof Function?i.optional():i;return this.setFields(t)}deepPartial(){return Em(this)}pick(t){const n={};for(const i of t)this.fields[i]&&(n[i]=this.fields[i]);return this.setFields(n,this._excludedEdges.filter(([i,r])=>t.includes(i)&&t.includes(r)))}omit(t){const n=[];for(const i of Object.keys(this.fields))t.includes(i)||n.push(i);return this.pick(n)}from(t,n,i){let r=Sl.getter(t,!0);return this.transform(s=>{if(!s)return s;let o=s;return Fme(s,t)&&(o=Object.assign({},s),i||delete o[t],o[n]=r(s)),o})}json(){return this.transform(ZU)}noUnknown(t=!0,n=Yw.noUnknown){typeof t!="boolean"&&(n=t,t=!0);let i=this.test({name:"noUnknown",exclusive:!0,message:n,test(r){if(r==null)return!0;const s=$me(this.schema,r);return!t||s.length===0||this.createError({params:{unknown:s.join(", ")}})}});return i.spec.noUnknown=t,i}unknown(t=!0,n=Yw.noUnknown){return this.noUnknown(!t,n)}transformKeys(t){return this.transform(n=>{if(!n)return n;const i={};for(const r of Object.keys(n))i[t(r)]=n[r];return i})}camelCase(){return this.transformKeys(fb.camelCase)}snakeCase(){return this.transformKeys(fb.snakeCase)}constantCase(){return this.transformKeys(t=>fb.snakeCase(t).toUpperCase())}describe(t){const n=(t?this.resolve(t):this).clone(),i=super.describe(t);i.fields={};for(const[s,o]of Object.entries(n.fields)){var r;let a=t;(r=a)!=null&&r.value&&(a=Object.assign({},a,{parent:a.value,value:a.value[s]})),i.fields[s]=o.describe(a)}return i}}is.prototype=e6.prototype;function W_(e){return new t6(e)}class t6 extends Ir{constructor(t){super({type:"array",spec:{types:t},check(n){return Array.isArray(n)}}),this.innerType=void 0,this.innerType=t}_cast(t,n){const i=super._cast(t,n);if(!this._typeCheck(i)||!this.innerType)return i;let r=!1;const s=i.map((o,a)=>{const l=this.innerType.cast(o,Object.assign({},n,{path:`${n.path||""}[${a}]`}));return l!==o&&(r=!0),l});return r?s:i}_validate(t,n={},i,r){var s;let o=this.innerType,a=(s=n.recursive)!=null?s:this.spec.recursive;n.originalValue!=null&&n.originalValue,super._validate(t,n,i,(l,u)=>{var d;if(!a||!o||!this._typeCheck(u)){r(l,u);return}let c=new Array(u.length);for(let v=0;v<u.length;v++){var f;c[v]=o.asNestedTest({options:n,index:v,parent:u,parentPath:n.path,originalParent:(f=n.originalValue)!=null?f:t})}this.runTests({value:u,tests:c,originalValue:(d=n.originalValue)!=null?d:t,options:n},i,v=>r(v.concat(l),u))})}clone(t){const n=super.clone(t);return n.innerType=this.innerType,n}json(){return this.transform(ZU)}concat(t){let n=super.concat(t);return n.innerType=this.innerType,t.innerType&&(n.innerType=n.innerType?n.innerType.concat(t.innerType):t.innerType),n}of(t){let n=this.clone();if(!H_(t))throw new TypeError("`array.of()` sub-schema must be a valid yup schema not: "+po(t));return n.innerType=t,n.spec=Object.assign({},n.spec,{types:t}),n}length(t,n=Sm.length){return this.test({message:n,name:"length",exclusive:!0,params:{length:t},skipAbsent:!0,test(i){return i.length===this.resolve(t)}})}min(t,n){return n=n||Sm.min,this.test({message:n,name:"min",exclusive:!0,params:{min:t},skipAbsent:!0,test(i){return i.length>=this.resolve(t)}})}max(t,n){return n=n||Sm.max,this.test({message:n,name:"max",exclusive:!0,params:{max:t},skipAbsent:!0,test(i){return i.length<=this.resolve(t)}})}ensure(){return this.default(()=>[]).transform((t,n)=>this._typeCheck(t)?t:n==null?[]:[].concat(n))}compact(t){let n=t?(i,r,s)=>!t(i,r,s):i=>!!i;return this.transform(i=>i!=null?i.filter(n):i)}describe(t){const n=(t?this.resolve(t):this).clone(),i=super.describe(t);if(n.innerType){var r;let s=t;(r=s)!=null&&r.value&&(s=Object.assign({},s,{parent:s.value,value:s.value[0]})),i.innerType=n.innerType.describe(s)}return i}}W_.prototype=t6.prototype;const Ume=At({__name:"LevelRangeEditor",props:{initialLevelRanges:{}},emits:["close","save"],setup(e,{emit:t}){const n=e,i=t,r=W(0),s=W(""),o=W(),a=W([]);ge(()=>n.initialLevelRanges,()=>l());function l(){n.initialLevelRanges&&(a.value=JSON.parse(JSON.stringify(n.initialLevelRanges)),a.value.length>0&&(o.value=a.value[0]))}function u(v,m){const p=v.levels.indexOf(m);v.levels.splice(p,1)}function d(){const v=o.value;if(v){const m=a.value.findIndex(p=>p.price==v.price);a.value.splice(m,1),o.value=a.value[0]}}function c(){const v=+r.value;if(v==null||v==null||isNaN(v)||v==0||(r.value=0,a.value.findIndex(p=>p.price==v)!=-1))return;const m=o.value={price:v,levels:[]};a.value.push(m),a.value.sort((p,_)=>p.price-_.price)}function f(v){const m=s.value.trim();m.length!=0&&(s.value="",!v.levels.includes(m)&&v.levels.push(m))}return bt(()=>l()),(v,m)=>{const p=U("v-number-input"),_=U("v-col"),y=U("v-btn"),b=U("v-row"),C=U("v-tab"),k=U("v-tabs"),R=U("v-text-field"),O=U("v-icon"),x=U("v-list"),S=U("v-tabs-window-item"),w=U("v-tabs-window"),E=U("v-card"),A=U("v-card-text"),P=U("v-divider"),D=U("v-spacer"),B=U("v-card-actions");return ye(),Me(E,{"prepend-icon":"mdi-format-list-numbered",title:"Livelli"},{default:N(()=>[h(A,null,{default:N(()=>[h(b,{class:"my-3 mb-10 justify-center"},{default:N(()=>[h(_,{class:"px-2",cols:"12",md:"4"},{default:N(()=>[h(p,{"max-width":"500",modelValue:r.value,"onUpdate:modelValue":m[0]||(m[0]=$=>r.value=$),reverse:!1,controlVariant:"default",label:"Fascia di Prezzo",prefix:"€",hideInput:!1,inset:!1,min:0},null,8,["modelValue"])]),_:1}),h(_,{class:"px-2",cols:"12",md:"1"},{default:N(()=>[h(y,{onClick:c,icon:"mdi-plus",color:"success"}),h(y,{onClick:d,icon:"mdi-minus",color:"error"})]),_:1})]),_:1}),o.value?(ye(),Me(E,{key:0,class:"mx-5 mt-5 pa-2",elevation:"3"},{default:N(()=>[h(k,{modelValue:o.value,"onUpdate:modelValue":m[1]||(m[1]=$=>o.value=$),class:"my-2","align-tabs":"center",color:"primary","show-arrows":""},{default:N(()=>[(ye(!0),wt(Te,null,Si(a.value,$=>(ye(),Me(C,{key:$.price,text:$.price+" €",value:$},null,8,["text","value"]))),128))]),_:1},8,["modelValue"]),h(w,{modelValue:o.value,"onUpdate:modelValue":m[3]||(m[3]=$=>o.value=$)},{default:N(()=>[(ye(!0),wt(Te,null,Si(a.value,$=>(ye(),Me(S,{class:"mx-5 my-5",key:$.price,value:$},{default:N(()=>[h(R,{modelValue:s.value,"onUpdate:modelValue":m[2]||(m[2]=j=>s.value=j),label:"Nome Livello","append-icon":"mdi-plus",type:"text","onClick:append":j=>f($)},null,8,["modelValue","onClick:append"]),h(x,{items:$.levels},{append:N(({item:j})=>[h(O,{size:"small",onClick:Y=>u($,j)},{default:N(()=>m[6]||(m[6]=[Ie(" mdi-delete ")])),_:2},1032,["onClick"])]),_:2},1032,["items"])]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])]),_:1})):Jt("",!0)]),_:1}),h(P),h(B,null,{default:N(()=>[h(D),h(y,{text:"Annulla",variant:"plain",onClick:m[4]||(m[4]=$=>i("close"))}),h(y,{color:"primary",text:"Salva Livelli",variant:"tonal",onClick:m[5]||(m[5]=$=>i("save",a.value))})]),_:1})]),_:1})}}}),jme=At({__name:"ManagerEditor",props:{initialManagerOptions:{}},emits:["close","save"],setup(e,{emit:t}){const n=e,i=t,r=is({totalStudents:lf().required("Il Numero Totale degli Studenti è obbligatorio").positive().label("Numero Totale Studenti"),quotePerStudent:lf().required("La Quota per Studente è obbligatoria").positive().label("Quota per Studente"),cashFund:lf().positive().label("Fondo Cassa").nullable().optional()}),{defineField:s,handleSubmit:o}=ka({validationSchema:r}),a=_=>({props:{"error-messages":_.errors}}),[l,u]=s("totalStudents",a),[d,c]=s("quotePerStudent",a),[f,v]=s("cashFund",a),m=o(async _=>{i("save",{..._})},_=>{Xe.warn("Ci sono alcuni errori! Inserisci correttamente i dati"),console.log(_)});ge(()=>n.initialManagerOptions,()=>p(),{immediate:!0});function p(){n.initialManagerOptions&&(l.value=n.initialManagerOptions.totalStudents,d.value=n.initialManagerOptions.quotePerStudent,f.value=n.initialManagerOptions.cashFund)}return(_,y)=>{const b=U("v-number-input"),C=U("v-col"),k=U("v-row"),R=U("v-card-text"),O=U("v-divider"),x=U("v-spacer"),S=U("v-btn"),w=U("v-card-actions"),E=U("v-card");return ye(),Me(E,{"prepend-icon":"mdi-account",title:"Gestione Scuola"},{default:N(()=>[h(R,null,{default:N(()=>[h(k,{class:"my-3 mb-10 justify-center"},{default:N(()=>[h(C,{cols:"12",md:"6"},{default:N(()=>[h(b,Z({modelValue:oe(l),"onUpdate:modelValue":y[0]||(y[0]=A=>Je(l)?l.value=A:null)},oe(u),{reverse:!1,controlVariant:"default",label:"Numero Totale Studenti",hideInput:!1,inset:!1,min:0}),null,16,["modelValue"])]),_:1}),h(C,{cols:"12",md:"6"},{default:N(()=>[h(b,Z({modelValue:oe(d),"onUpdate:modelValue":y[1]||(y[1]=A=>Je(d)?d.value=A:null)},oe(c),{reverse:!1,controlVariant:"default",label:"Quota per Studente",prefix:"€",hideInput:!1,inset:!1,min:0}),null,16,["modelValue"])]),_:1}),h(C,{cols:"12",md:"6"},{default:N(()=>[h(b,Z({modelValue:oe(f),"onUpdate:modelValue":y[2]||(y[2]=A=>Je(f)?f.value=A:null)},oe(v),{reverse:!1,controlVariant:"default",label:"Fondo Cassa",hideInput:!1,prefix:"€",inset:!1,min:0}),null,16,["modelValue"])]),_:1})]),_:1})]),_:1}),h(O),h(w,null,{default:N(()=>[h(x),h(S,{text:"Annulla",variant:"plain",onClick:y[3]||(y[3]=A=>i("close"))}),h(S,{color:"primary",text:"Salva Gestione",variant:"tonal",onClick:oe(m)},null,8,["onClick"])]),_:1})]),_:1})}}}),Hme={class:"v-input--center-affix v-input--error"},Wme={class:"v-input__details"},zme={class:"v-messages__message v-messages",role:"alert"},Gme={class:"v-input--center-affix v-input--error"},qme={class:"v-input__details"},Yme={class:"v-messages__message v-messages",role:"alert"},n6=At({__name:"SchoolEditor",props:{initialSchool:{},edit:{type:Boolean}},emits:["close","save"],setup(e,{emit:t}){const n=e,i=t,r=W(!1),s=W(!1),o=W(!1),a=[{key:eh.ABSENT_AND_PRESENT,value:"La lezione viene pagata sia se lo studente è presente sia se è assente"},{key:eh.ONLY_PRESENT,value:"La lezione viene pagata solo se lo studente è presente"}],l=is({name:Mn().required("Il Nome è obbligatorio").min(1).label("Nome"),city:Mn().label("Città").nullable().optional(),email:Mn().label("Email").nullable().optional(),phoneNumber:Mn().label("Numero di Telefono").nullable().optional(),managed:qU().label("Gestione"),salaryStrategy:Mn().required("L'Opzione di pagamento lezioni è obbligatorio").label("Opzione di Pagamento"),managerOptions:is().test({test:Y=>k.value?Y!==void 0:!0,message:"Configurare la Gestione della Scuola correttamente",exclusive:!1,name:"managedProp"}).label("Opzioni Gestione"),levelRanges:W_().of(is()).test({test:Y=>!!Y&&Y.length!=0,message:"I livelli sono obbligatori; configurare correttamente i Livelli",exclusive:!1,name:"level"}).label("Livelli")}),{defineField:u,handleSubmit:d}=ka({validationSchema:l}),c=Y=>({props:{"error-messages":Y.errors}}),[f,v]=u("name",c),[m,p]=u("city",c),[_,y]=u("email",c),[b,C]=u("phoneNumber",c),[k,R]=u("managed",c),[O,x]=u("salaryStrategy",c),[S,w]=u("managerOptions",c),[E,A]=u("levelRanges",c),P=d(async Y=>{j(Y)},Y=>{Xe.warn("Ci sono alcuni errori! Inserisci correttamente i dati"),console.log(Y)});ge(()=>n.initialSchool,()=>D());function D(){if(n.initialSchool){const Y=JSON.parse(JSON.stringify(n.initialSchool));f.value=Y.name,m.value=Y.city??"",_.value=Y.email??"",b.value=Y.phoneNumber??"",O.value=Y.salaryStrategy,k.value=Y.managed,S.value=Y.managerOptions,E.value=Y.levelRanges}}function B(Y){console.log(Y,JSON.stringify(Y)),S.value=Y,s.value=!1}function $(Y){console.log(Y,JSON.stringify(Y)),E.value=Y,r.value=!1}async function j(Y){var q,z;o.value=!0;const H={name:Y.name,salaryStrategy:Y.salaryStrategy,managed:k.value??!1,levelRanges:Y.levelRanges,createdAt:n.edit?(q=n.initialSchool)==null?void 0:q.createdAt:St.now(),updatedAt:St.now()};Y.city&&(H.city=Y.city),Y.email&&(H.email=Y.email),Y.phoneNumber&&(H.phoneNumber=Y.phoneNumber),k.value&&(H.managerOptions=S.value);try{n.edit&&((z=n.initialSchool)==null?void 0:z.id)!=null?(await Io.instance.save(H,n.initialSchool.id),Xe.success("Scuola Aggiornata"),n.initialSchool.salaryStrategy!=null&&n.initialSchool.salaryStrategy!=H.salaryStrategy&&Xe.warning("E' stata aggiornata l'opzione di pagamento, tuttavia TUTTE le lezioni giornaliere create fino ad ora non saranno aggiornate in automatico!",{autoClose:1e4})):(await Io.instance.save(H),Xe.success("Scuola Creata")),i("save",H)}catch(ne){i("save"),Xe.error("Errore durante il salvataggio"),console.error("Error adding document (schools): ",ne)}finally{o.value=!1}}return bt(()=>D()),(Y,H)=>{const q=U("v-text-field"),z=U("v-col"),ne=U("v-select"),ue=U("v-checkbox"),be=U("v-btn"),Ae=U("v-dialog"),Ne=U("v-row"),se=U("v-card-text"),G=U("v-divider"),ie=U("v-spacer"),Q=U("v-card-actions"),ee=U("v-card");return ye(),Me(ee,{"prepend-icon":"mdi-school",title:"Scuola"},{default:N(()=>[h(se,null,{default:N(()=>[h(Ne,{dense:""},{default:N(()=>[h(z,{cols:"12",md:"6"},{default:N(()=>[h(q,Z({modelValue:oe(f),"onUpdate:modelValue":H[0]||(H[0]=X=>Je(f)?f.value=X:null)},oe(v),{label:"Nome",required:""}),null,16,["modelValue"])]),_:1}),h(z,{cols:"12",md:"6"},{default:N(()=>[h(q,Z({modelValue:oe(m),"onUpdate:modelValue":H[1]||(H[1]=X=>Je(m)?m.value=X:null)},oe(p),{label:"Città"}),null,16,["modelValue"])]),_:1}),h(z,{cols:"12",md:"6"},{default:N(()=>[h(q,Z({modelValue:oe(_),"onUpdate:modelValue":H[2]||(H[2]=X=>Je(_)?_.value=X:null)},oe(y),{label:"Email"}),null,16,["modelValue"])]),_:1}),h(z,{cols:"12",md:"6"},{default:N(()=>[h(q,Z({modelValue:oe(b),"onUpdate:modelValue":H[3]||(H[3]=X=>Je(b)?b.value=X:null)},oe(C),{label:"Numero di Telefono"}),null,16,["modelValue"])]),_:1}),h(z,{cols:"12",md:"12"},{default:N(()=>[h(Ne,{"justify-center":""},{default:N(()=>[h(z,{class:"align-self-center"},{default:N(()=>[h(ne,Z({modelValue:oe(O),"onUpdate:modelValue":H[4]||(H[4]=X=>Je(O)?O.value=X:null)},oe(x),{items:a,"item-title":"value","item-value":"key",label:"Opzione di Pagamento",required:""}),null,16,["modelValue"])]),_:1}),h(z,{class:"align-self-center"},{default:N(()=>[h(ue,Z({modelValue:oe(k),"onUpdate:modelValue":H[5]||(H[5]=X=>Je(k)?k.value=X:null)},oe(R),{label:"Gestione"}),null,16,["modelValue"])]),_:1}),h(z,{class:"align-self-center"},{default:N(()=>[oe(k)?(ye(),Me(Ae,{key:0,modelValue:s.value,"onUpdate:modelValue":H[8]||(H[8]=X=>s.value=X),fullscreen:""},{activator:N(({props:X})=>{var _e;return[it("div",Hme,[h(be,Z({text:"Gestione"},X),null,16),it("div",Wme,[it("div",zme,[it("span",null,ht((_e=oe(w)["error-messages"])==null?void 0:_e[0]),1)])])])]}),default:N(()=>[h(jme,{initialManagerOptions:oe(S),onClose:H[6]||(H[6]=X=>s.value=!1),onSave:H[7]||(H[7]=X=>B(X))},null,8,["initialManagerOptions"])]),_:1},8,["modelValue"])):Jt("",!0)]),_:1})]),_:1})]),_:1}),h(z,{cols:"12",md:"6"},{default:N(()=>[h(Ae,{modelValue:r.value,"onUpdate:modelValue":H[11]||(H[11]=X=>r.value=X),fullscreen:""},{activator:N(({props:X})=>{var _e;return[it("div",Gme,[h(be,Z({text:"Gestisci Livelli"},X),null,16),it("div",qme,[it("div",Yme,[it("span",null,ht((_e=oe(A)["error-messages"])==null?void 0:_e[0]),1)])])])]}),default:N(()=>[h(Ume,{initialLevelRanges:oe(E),onClose:H[9]||(H[9]=X=>r.value=!1),onSave:H[10]||(H[10]=X=>$(X))},null,8,["initialLevelRanges"])]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1}),h(G),h(Q,null,{default:N(()=>[h(ie),h(be,{text:"Chiudi",variant:"plain",onClick:H[12]||(H[12]=X=>i("close"))}),h(be,{color:"primary",loading:o.value,disabled:o.value,text:Y.edit?"Salva Modifiche":"Crea",variant:"tonal",onClick:oe(P)},null,8,["loading","disabled","text","onClick"])]),_:1})]),_:1})}}}),Kme={class:"text-center ma-4"},hb=At({__name:"HomeView",setup(e){let t;const n=W([]),i=W(!1),r=W(!1);function s(l){l&&(r.value=!1)}function o(l){return l.city?`${l.name} (${l.city})`:l.name}async function a(){i.value=!0,t=Io.instance.observeAll().subscribe({next:l=>{n.value=l,i.value=!1},error:l=>{Xe.warning("Impossibile caricare le scuole..."),i.value=!1}})}return bt(async()=>{await a()}),Ar(()=>{t==null||t.unsubscribe()}),(l,u)=>{const d=U("v-skeleton-loader"),c=U("v-col"),f=U("v-row"),v=U("v-expand-transition"),m=U("v-card"),p=U("v-icon"),_=U("v-dialog"),y=U("v-container");return ye(),Me(y,{fluid:""},{default:N(()=>[h(v,{mode:"out-in"},{default:N(()=>[i.value?(ye(),Me(f,{key:0,"no-gutters":""},{default:N(()=>[(ye(),wt(Te,null,Si(3,b=>h(c,{key:b,cols:"12",sm:"4"},{default:N(()=>[h(d,{class:"ma-2 pa-2",type:"card"})]),_:2},1024)),64))]),_:1})):Jt("",!0)]),_:1}),h(f,{"no-gutters":""},{default:N(()=>[(ye(!0),wt(Te,null,Si(n.value,b=>(ye(),Me(c,{key:b.name,cols:"12",sm:"4"},{default:N(()=>[h(m,{"append-icon":"mdi-open-in-new",class:"ma-2 pa-2",to:"/school/"+b.id,"prepend-icon":"mdi-town-hall",subtitle:"Visualizza tutti gli aggiornamenti della scuola "+b.name,title:o(b),color:"primary"},null,8,["to","subtitle","title"])]),_:2},1024))),128)),h(c,{cols:"12",sm:"4"},{default:N(()=>[h(_,{modelValue:r.value,"onUpdate:modelValue":u[2]||(u[2]=b=>r.value=b),fullscreen:""},{activator:N(({props:b})=>[h(m,Z({class:"ma-2 pa-2",color:"secondary"},b),{default:N(()=>[it("div",Kme,[u[4]||(u[4]=it("p",{class:"text-h6 font-weight"},"Aggiungi una scuola",-1)),h(p,{size:"x-large"},{default:N(()=>u[3]||(u[3]=[Ie("mdi-plus")])),_:1})])]),_:2},1040)]),default:N(()=>[h(n6,{onClose:u[0]||(u[0]=b=>r.value=!1),onSave:u[1]||(u[1]=b=>s(b))})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1})}}}),Xme=["colspan"],Qme=At({__name:"ManageSchoolView",setup(e){const t=W([]),n=[{key:"data-table-expand"},{title:"Nome",align:"start",sortable:!0,key:"name"},{title:"Città",key:"city"},{title:"Indirizzo",key:"address"},{title:"€ / minuto",key:"paymentCriteria"}],i=W([]);function r(){}function s(a){}function o(a){}return bt(()=>{for(let a=0;a<10;a++)i.value.push({id:a,name:"La Fenice",city:"Servigliano",address:"Commenda n° 8/bis",paymentCriteria:.5})}),(a,l)=>{const u=U("v-text-field"),d=U("v-btn"),c=U("v-row"),f=U("v-col"),v=U("v-container"),m=U("v-data-table");return ye(),Me(v,{fluid:""},{default:N(()=>[l[8]||(l[8]=it("p",{class:"text-h5 text-center mb-6"},"Le mie scuole",-1)),h(c,{class:"mr-4 mb-1 align-center"},{default:N(()=>[h(u,{class:"ma-2","prepend-inner-icon":"mdi-magnify",density:"comfortable",placeholder:"Ricerca...",theme:"light",variant:"solo","hide-details":""}),h(d,{"prepend-icon":"mdi-plus",color:"success",onClick:r},{default:N(()=>l[1]||(l[1]=[Ie("nuova scuola")])),_:1})]),_:1}),h(m,{expanded:t.value,"onUpdate:expanded":l[0]||(l[0]=p=>t.value=p),headers:n,items:i.value,"item-value":"id","show-expand":""},{"expanded-row":N(({columns:p,item:_})=>[it("tr",null,[it("td",{colspan:p.length},[h(v,{class:"ma-3"},{default:N(()=>[h(c,null,{default:N(()=>[h(f,{cols:"12",md:"9"},{default:N(()=>[Ie(" More info about "+ht(_.name)+" ",1),l[2]||(l[2]=it("p",null,"...",-1)),l[3]||(l[3]=it("p",null,"...",-1)),l[4]||(l[4]=it("p",null,"...",-1))]),_:2},1024),h(f,{cols:"12",md:"3"},{default:N(()=>[h(c,{class:"my-2"},{default:N(()=>[h(d,{"prepend-icon":"mdi-eye",to:"/school/"+_.id},{default:N(()=>l[5]||(l[5]=[Ie("Visualizza")])),_:2},1032,["to"])]),_:2},1024),h(c,{class:"my-2"},{default:N(()=>[h(d,{"prepend-icon":"mdi-pencil",onClick:y=>void 0},{default:N(()=>l[6]||(l[6]=[Ie("Modifica")])),_:2},1032,["onClick"])]),_:2},1024),h(c,{class:"my-2"},{default:N(()=>[h(d,{"prepend-icon":"mdi-delete-outline",color:"error",onClick:y=>void 0},{default:N(()=>l[7]||(l[7]=[Ie("Elimina")])),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)],8,Xme)])]),_:1},8,["expanded","items"])]),_:1})}}}),Yh=At({__name:"DeleteDialog",props:{objName:{default:"Oggetto"},useToast:{type:Boolean,default:!0},name:{},onDelete:{}},emits:["delete"],setup(e,{emit:t}){const n=e,i=W(!1),r=W(!1);async function s(){var a;r.value=!0;const o=await((a=n.onDelete)==null?void 0:a.call(n))??!1;n.useToast&&(o?Xe.success(`${n.objName} eliminato/a`):Xe.warning("Errore durante l'eliminazione")),r.value=!1,i.value=o}return(o,a)=>{const l=U("v-card-text"),u=U("v-btn"),d=U("v-spacer"),c=U("v-card-actions"),f=U("v-card"),v=U("v-dialog");return ye(),Me(v,{modelValue:i.value,"onUpdate:modelValue":a[1]||(a[1]=m=>i.value=m)},{activator:N(({props:m})=>[fj(o.$slots,"activator",BR(MS({props:m})))]),default:N(()=>[h(f,{"prepend-icon":"mdi-alert",class:"mx-auto","max-width":"500",title:"Elimina "+o.objName},{default:N(()=>[h(l,null,{default:N(()=>[it("p",null,[a[2]||(a[2]=Ie("Sei sicuro di voler eliminare ")),it("b",null,ht(o.name),1),a[3]||(a[3]=Ie("?"))]),a[4]||(a[4]=it("br",null,null,-1)),a[5]||(a[5]=it("p",null,[Ie("Dopo avere eliminato la risorsa "),it("b",null,"NON"),Ie(" è più possibile recuperare i dati!")],-1))]),_:1}),h(c,null,{default:N(()=>[h(u,{text:"Annulla",onClick:a[0]||(a[0]=m=>i.value=!1)}),h(d),h(u,{color:"surface-variant",text:"Elimina",variant:"flat",onClick:s,loading:r.value},null,8,["loading"])]),_:1})]),_:1},8,["title"])]),_:3},8,["modelValue"])}}}),Kh=At({__name:"BackButton",setup(e){const t=jc();function n(){t.go(-1)}return(i,r)=>{const s=U("v-btn");return ye(),Me(s,{icon:"mdi-arrow-left",onClick:n,variant:"text"})}}}),Hg=class Hg extends zh{constructor(){super(t=>Wh(td.STUDENTS,t))}static get instance(){return this._instance||(this._instance=new Hg),this._instance}};An(Hg,"_instance",null);let _o=Hg;const Wg=class Wg extends zh{constructor(){super(t=>Wh(td.WEEKLY_LESSONS,t))}static get instance(){return this._instance||(this._instance=new Wg),this._instance}};An(Wg,"_instance",null);let Ps=Wg;const zg=class zg extends zh{constructor(){super(t=>Wh(td.DAILY_LESSONS,t))}static get instance(){return this._instance||(this._instance=new zg),this._instance}};An(zg,"_instance",null);let It=zg;var mi=[];for(var vb=0;vb<256;++vb)mi.push((vb+256).toString(16).slice(1));function Jme(e,t=0){return(mi[e[t+0]]+mi[e[t+1]]+mi[e[t+2]]+mi[e[t+3]]+"-"+mi[e[t+4]]+mi[e[t+5]]+"-"+mi[e[t+6]]+mi[e[t+7]]+"-"+mi[e[t+8]]+mi[e[t+9]]+"-"+mi[e[t+10]]+mi[e[t+11]]+mi[e[t+12]]+mi[e[t+13]]+mi[e[t+14]]+mi[e[t+15]]).toLowerCase()}var Wv,Zme=new Uint8Array(16);function ege(){if(!Wv&&(Wv=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Wv))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Wv(Zme)}var tge=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);const GD={randomUUID:tge};function Zu(e,t,n){if(GD.randomUUID&&!t&&!e)return GD.randomUUID();e=e||{};var i=e.random||(e.rng||ege)();return i[6]=i[6]&15|64,i[8]=i[8]&63|128,Jme(i)}const Gg=class Gg{static get instance(){return this._instance||(this._instance=new Gg),this._instance}async computeSalary(t,n,i){const r=await ar.instance.getDailyLessonOfSchoolBetweenDate(t.id,n,i);return this.computeSalaryOfDailyLessons(r)}async computeSalaryOfDailyLessons(t){const n=[];return t.forEach(i=>{const r=i.lessons.filter(o=>o.status==vn.PRESENT).length,s=i.lessons.filter(o=>o.status==vn.ABSENT).length;n.push({dailyLessonId:i.id,date:i.date,lastUpdate:i.lastSalaryUpdate,salary:i.salary,presents:r,absents:s})}),n}computeSalaryByStudentLesson(t,n){var r;if(!t)return 0;if(t.salaryStrategy==eh.ABSENT_AND_PRESENT&&(n.status==vn.PRESENT||n.status==vn.ABSENT)||t.salaryStrategy==eh.ONLY_PRESENT&&n.status==vn.PRESENT){const s=(r=t.levelRanges.find(o=>o.levels.includes(n.level)))==null?void 0:r.price;if(s!=null)return s*((n.endTime-n.startTime)/60)}return 0}};An(Gg,"_instance",null);let oh=Gg;const qg=class qg extends zh{constructor(){super(t=>Wh(td.RECOVERY_LESSONS,t))}static get instance(){return this._instance||(this._instance=new qg),this._instance}};An(qg,"_instance",null);let oo=qg;const Yg=class Yg{static get instance(){return this._instance||(this._instance=new Yg),this._instance}async getStudentsOfSchool(t){const n=xn(Cn("schoolId"),"==",t);return _o.instance.getAll(n)}observeStudentsOfSchool(t){const n=xn(Cn("schoolId"),"==",t);return _o.instance.observeAll(n)}async getStudentsOfSchoolWithIds(t,n){if(n.length==0)return[];const i=xn(Cn("schoolId"),"==",t),r=xn(AX(),"in",n);return _o.instance.getAll(i,r)}};An(Yg,"_instance",null);let Ao=Yg;var Bd=(e=>(e[e.SET_PRESENT=0]="SET_PRESENT",e[e.SET_ABSENT=1]="SET_ABSENT",e[e.CANCEL=2]="CANCEL",e[e.RESET=3]="RESET",e))(Bd||{});const sl=class sl{static get instance(){return this._instance||(this._instance=new sl),this._instance}async computeDailyLessons(t){const n=Array.from(new Set(t.recoveries.flatMap(d=>{var c;return[d.originalLesson.dailyLessonId,(c=d.recoveryLesson)==null?void 0:c.dailyLessonId]}).filter(Boolean))),r=(await Promise.all(n.map(d=>It.instance.get(d)))).filter(Boolean),s=await Ao.instance.getStudentsOfSchool(t.schoolId),o=[],a=[],l=[],u=(d,c,f,v,m)=>{f.push({...d,...c,...v,recoveryStatus:m})};return t.recoveries.forEach(d=>{const{originalLesson:c,recoveryLesson:f,status:v}=d,m=r.find(y=>y.id===c.dailyLessonId),p=f?r.find(y=>y.id===f.dailyLessonId):void 0;if(!m){console.warn("Unable to load original daily lesson of a recovery...");return}const _={originalDailyLesson:m,recoveryDailyLesson:p};m.lessons.forEach(y=>{if(y.lessonId!==c.lessonId)return;const b=s.find(C=>C.id===y.studentId);b&&(p?v!=null?u(y,b,l,_,v):u(y,b,a,_):u(y,b,o,_))})}),{recoveryMap:[{type:"unset",recoveries:o},{type:"pending",recoveries:a},{type:"done",recoveries:l}],schoolId:t.schoolId}}async getOrCreate(t){const n=await oo.instance.getDoc(t);if(n.exists())return n.data();const i={recoveries:[],schoolId:t};return await oo.instance.save(i,t),i}getRecoveryType(t){return!t.status&&!t.recoveryLesson?0:!t.status&&t.recoveryLesson?1:2}addRecoveryByType(t,n,i,r){let s=t.recoveries.findIndex(a=>a.originalLesson.dailyLessonId==n.dailyLessonId&&a.originalLesson.lessonId==n.lessonId);s==-1&&(t.recoveries.push({originalLesson:n}),s=t.recoveries.length-1);const o=t.recoveries[s];i==0?o.originalLesson=r:i==1?o.recoveryLesson=r:o.status=r}removeRecoveryByType(t,n,i){const r=t.recoveries.findIndex(s=>s.originalLesson.dailyLessonId==n.dailyLessonId&&s.originalLesson.lessonId==n.lessonId);if(r!=-1){if(i==0)return t.recoveries.splice(r,1),!0;if(i==1){if(t.recoveries[r].recoveryLesson)return delete t.recoveries[r].recoveryLesson,!0}else if(t.recoveries[r].status)return delete t.recoveries[r].status,!0}return!1}async updateRecovery(t,n,...i){var s;const r=await sl.instance.getOrCreate(n);for await(const o of i){const a=((s=o.recovery)==null?void 0:s.ref)=="original",l=a?{dailyLessonId:o.recovery.lessonRef.dailyLessonId,lessonId:o.recovery.lessonRef.lessonId}:{dailyLessonId:o.dailyLessonId,lessonId:o.lessonId};if(t==0)if(!a)this.removeRecoveryByType(r,l,0);else{const u=vn.PRESENT;this.addRecoveryByType(r,l,2,u)}else if(t==1)if(a){const u={...l};this.removeRecoveryByType(r,l,1),this.addRecoveryByType(r,l,0,u);const d=l.lessonId,c=await It.instance.get(l.dailyLessonId);await ar.instance.moveRecoveryRefToUndoneList(c,d)}else{const u={...l};this.addRecoveryByType(r,l,0,u)}else if(t==2)if(!a)this.removeRecoveryByType(r,l,0);else{const u=vn.CANCELLED;this.addRecoveryByType(r,l,2,u)}else if(t==3){if(!a)this.removeRecoveryByType(r,l,0);else if(!this.removeRecoveryByType(r,l,2)){const d={dailyLessonId:o.dailyLessonId,lessonId:o.lessonId};this.addRecoveryByType(r,l,1,d);const c=l.lessonId,f=o.lessonId,v={lessonRef:{...l},ref:"original"},m={lessonRef:{...d},ref:"recovery"},p=await It.instance.get(l.dailyLessonId),_=await It.instance.get(o.dailyLessonId);await ar.instance.addRecoveryRef(p,c,m),await ar.instance.addRecoveryRef(_,f,v)}}}oo.instance.save(r,n)}async scheduleRecovery(t,n){const i=await sl.instance.getOrCreate(t.schoolId),r=await ar.instance.createRecoveryLesson(n),s=await It.instance.getDoc(t.originalDailyLesson.id);if(s.exists()){const l=s.data(),u=l.lessons.find(d=>d.lessonId==t.lessonId);u&&(u.recovery={ref:"recovery",lessonRef:{dailyLessonId:r.dailyLessonId,lessonId:r.lessonId}},await It.instance.save(l,l.id))}else console.warn("");const o={dailyLessonId:t.originalDailyLesson.id,lessonId:t.lessonId},a={dailyLessonId:r.dailyLessonId,lessonId:r.lessonId};this.addRecoveryByType(i,o,1,a),oo.instance.save(i,t.schoolId)}async cancelRecovery(t,n){var c,f,v,m,p,_;if(!t.recoveryDailyLesson)return;const i=await sl.instance.getOrCreate(t.schoolId);let r,s;const o=[];((c=t.recovery)==null?void 0:c.ref)=="recovery"?(r=t.recovery.lessonRef,s=(v=(f=t.recoveryDailyLesson.lessons.find(y=>y.lessonId==(r==null?void 0:r.lessonId)))==null?void 0:f.recovery)==null?void 0:v.lessonRef):((m=t.recovery)==null?void 0:m.ref)=="original"&&(s=t.recovery.lessonRef,r=(_=(p=t.originalDailyLesson.lessons.find(y=>y.lessonId==(s==null?void 0:s.lessonId)))==null?void 0:p.recovery)==null?void 0:_.lessonRef);const a=await It.instance.get(t.recoveryDailyLesson.id),l=a==null?void 0:a.lessons.findIndex(y=>y.lessonId==(r==null?void 0:r.lessonId));await ar.instance.deleteLesson(a,l);const u=await It.instance.get(t.originalDailyLesson.id),d=u==null?void 0:u.lessons.findIndex(y=>y.lessonId==(s==null?void 0:s.lessonId));u&&d!=null&&d!=-1&&(delete u.lessons[d].recovery,await It.instance.save(u,u.id)),s&&(o.push(2,1),n&&o.push(0),o.forEach(y=>this.removeRecoveryByType(i,s,y)),await oo.instance.save(i,t.schoolId))}};An(sl,"_instance",null);let Ss=sl;const Kg=class Kg{static get instance(){return this._instance||(this._instance=new Kg),this._instance}async getStudentLesson(t,n){n??(n=t.lessons.map(r=>r.studentId));const i=await Ao.instance.getStudentsOfSchoolWithIds(t.schoolId,n);return t.lessons.map(r=>{const s=i.find(o=>o.id==r.studentId);return{...r,...s}})}};An(Kg,"_instance",null);let ah=Kg;const Xg=class Xg{static get instance(){return this._instance||(this._instance=new Xg),this._instance}async getWeeklyLessonOfSchool(t){const n=xn(Cn("schoolId"),"==",t);return Ps.instance.getAll(n)}async getWeeklyLessonOfSchoolByDayBetweenDate(t,n,i){const r=xn(Cn("schoolId"),"==",t),s=xn(Cn("dayOfWeek"),"==",n),o=xn(Cn("from"),"<=",i),a=xn(Cn("to"),">=",i);return Ps.instance.getAll(r,s,o,a)}observeWeekLessonOfSchool(t){const n=xn(Cn("schoolId"),"==",t),i=iL(Cn("dayOfWeek"));return Ps.instance.observeAll(n,i)}};An(Xg,"_instance",null);let lh=Xg;const cf=class cf{static get instance(){return this._instance||(this._instance=new cf),this._instance}async getDailyLessonOfSchoolByDate(t,n){const i=xn(Cn("schoolId"),"==",t),r=xn(Cn("date"),"==",n);return It.instance.getAll(i,r)}async getDailyLessonOfSchoolFromDate(t,n,i){const r=[],s=xn(Cn("schoolId"),"==",t),o=xn(Cn("date"),">=",n);return r.push(s,o),i&&r.push(iL(Cn("date"),i)),It.instance.getAll(...r)}async getDailyLessonOfSchoolBetweenDate(t,n,i){const r=xn(Cn("schoolId"),"==",t),s=xn(Cn("date"),">=",n),o=xn(Cn("date"),"<=",i);return await It.instance.getAll(r,s,o)}async getOrCreateDailyLessonId(t,n){return n instanceof Date?this.createDailyLessonByDate(t,n):this.handleLessonProjection(t,n)}async handleLessonProjection(t,n){if(!n.dailyLessonId){const i=this.buildDailyLessonFromProjection(t,n);return It.instance.save(i)}return n.dailyLessonId}buildDailyLessonFromProjection(t,n){return{date:n.date.toIyyyyMMdd(),schoolId:t,lessons:n.lessons.map(i=>({lessonId:Zu(),status:vn.NONE,studentId:i.studentId,startTime:i.startTime,endTime:i.endTime,createdAt:St.now(),updatedAt:St.now()}))}}async createDailyLessonByDate(t,n){var o;const i=pt.fromDate(n).toIyyyyMMdd(),r=await cf.instance.getDailyLessonOfSchoolByDate(t,i);if((o=r==null?void 0:r[0])!=null&&o.id)return r[0].id;const s=await this.buildDailyLessonFromWeeklyOrEmpty(t,n,i);return It.instance.save(s)}async buildDailyLessonFromWeeklyOrEmpty(t,n,i){const r=await lh.instance.getWeeklyLessonOfSchoolByDayBetweenDate(t,n.getDay(),i),s=r==null?void 0:r[0];return s?{date:i,schoolId:t,lessons:s.schedule.map(o=>({lessonId:Zu(),status:vn.NONE,studentId:o.studentId,startTime:o.startTime,endTime:o.endTime,createdAt:St.now(),updatedAt:St.now()}))}:{date:i,schoolId:t,lessons:[]}}async removeRecoveryLesson(t){const n=await It.instance.getDoc(t.dailyLessonId);if(n.exists()){const i=n.data(),r=i.lessons.findIndex(s=>s.lessonId==t.lessonId);if(r!=-1){const s=i.lessons.splice(r,1)[0];s.recovery||console.warn("Deleting a lesson not marked as recovery lesson!",s),It.instance.save(i,i.id)}}}async createRecoveryLesson(t){const n={lessonId:Zu(),status:vn.NONE,studentId:t.studentId,startTime:t.startTime,endTime:t.endTime,recovery:{ref:"original",lessonRef:{dailyLessonId:t.originalDailyLessonId,lessonId:t.originalLessonId}},createdAt:St.now(),updatedAt:St.now()},i=await this.getOrCreateDailyLessonId(t.schoolId,t.date),r=await It.instance.get(i);return r.lessons.push(n),await It.instance.save(r,r.id),{...n,dailyLessonId:r.id}}async removeRecoveryRef(t,n){const i=t.lessons.find(r=>r.lessonId==n);i&&i.recovery&&(delete i.recovery,await It.instance.save(t,t.id))}async moveRecoveryRefToUndoneList(t,n){const i=t.lessons.find(r=>r.lessonId==n);if(i&&i.recovery){const r={...i.recovery.lessonRef};i.undoneRecoveryRef||(i.undoneRecoveryRef=[]),i.undoneRecoveryRef.push(r),delete i.recovery,await It.instance.save(t,t.id)}}async addRecoveryRef(t,n,i){const r=t.lessons.find(s=>s.lessonId==n);r&&(r.recovery=i,await It.instance.save(t,t.id))}async deleteLessonAndRecoveryReferences(t,n,i,r){var o,a;const s=n.lessons.findIndex(l=>l.studentId==t.id)??-1;if(s==-1)return!1;try{const l=n.lessons[s];if(((o=l.recovery)==null?void 0:o.ref)=="original"){const u=await It.instance.get(l.recovery.lessonRef.dailyLessonId),d=n;if(!u)return console.warn("Unable to cancel recovery because original daily lesson does not exist"),!1;const c={...t,originalDailyLesson:u,recoveryDailyLesson:d};await Ss.instance.cancelRecovery(c,r)}else if(((a=l.recovery)==null?void 0:a.ref)=="recovery"){const u=await It.instance.get(l.recovery.lessonRef.dailyLessonId);if(!u)return console.warn("Unable to cancel recovery because recovery daily lesson does not exist"),!1;const c=(await ah.instance.getStudentLesson(u)).find(f=>f.lessonId==l.recovery.lessonRef.lessonId);if(!c)return console.warn("Unable to cancel recovery because recovery student lesson does not exist"),!1;await this.deleteLessonAndRecoveryReferences(c,u,i,!0),n.lessons.splice(s,1),await It.instance.save(n,n.id)}else await this.deleteLesson(n,s,i);return!0}catch{return!1}}async deleteLesson(t,n,i){t&&n!=null&&n!=-1&&(t.lessons.splice(n,1),t.lessons.length==0&&i?await It.instance.delete(t.id):await It.instance.save(t,t.id))}async computeSalaryOfDailyLesson(t,n){const i=await It.instance.get(n);if(!i)return;const r=i.lessons.map(a=>a.studentId),s=await ah.instance.getStudentLesson(i,r);let o=0;if(i.lessons.forEach(a=>{const l=s.find(u=>u.id==a.studentId);l!==void 0&&(o+=oh.instance.computeSalaryByStudentLesson(t,l))}),o!=i.salary)return i.salary=o,i.lastSalaryUpdate=St.now(),await It.instance.save(i,i.id),i}};An(cf,"_instance",null);let ar=cf;const Qg=class Qg{static get instance(){return this._instance||(this._instance=new Qg),this._instance}async deleteById(t){const n=PA(I0()),i=await Io.instance.getDoc(t);n.delete(i.ref),(await this.getSchoolRelations(t)).forEach(r=>n.delete(r)),await n.commit()}async delete(t){const n=PA(I0()),i=t.id;n.delete(t),(await this.getSchoolRelations(i)).forEach(r=>n.delete(r)),await n.commit()}async getSchoolRelations(t){const n=[];return(await _o.instance.getAllDocs(xn(Cn("schoolId"),"==",t))).forEach(a=>n.push(a.ref)),(await Ps.instance.getAllDocs(xn(Cn("schoolId"),"==",t))).forEach(a=>n.push(a.ref)),(await It.instance.getAllDocs(xn(Cn("schoolId"),"==",t))).forEach(a=>n.push(a.ref)),(await oo.instance.getAllDocs(xn(Cn("schoolId"),"==",t))).forEach(a=>n.push(a.ref)),n}async getSchoolLessons(t,n){const i=n instanceof Date?pt.fromDate(n).toIyyyyMMdd():n,r=await ar.instance.getDailyLessonOfSchoolFromDate(t,i,"desc"),s=await lh.instance.getWeeklyLessonOfSchool(t);return{dailyLessons:r,weeklyLessons:s,schoolId:t}}};An(Qg,"_instance",null);let Vg=Qg;var Xw;(function(e){e.DragAndDrop="dragAndDrop",e.EventModal="eventModal",e.ScrollController="scrollController",e.EventRecurrence="eventRecurrence",e.Resize="resize",e.CalendarControls="calendarControls",e.CurrentTime="currentTime"})(Xw||(Xw={}));let nge=class extends Error{constructor(t){super(`Invalid time string: ${t}`)}};const ige=/^(0[0-9]|1[0-9]|2[0-3]):[0-5][0-9]$/,Eu=/^(\d{4})-(\d{2})-(\d{2}) (0[0-9]|1[0-9]|2[0-3]):[0-5][0-9]$/,zv=/^(\d{4})-(\d{2})-(\d{2})$/,qD={DATE_STRING:/^\d{4}-\d{2}-\d{2}$/,TIME_STRING:/^\d{2}:\d{2}$/,DATE_TIME_STRING:/^\d{4}-\d{2}-\d{2} \d{2}:\d{2}$/};let rge=class extends Error{constructor(t){super(`Invalid date time specification: ${t}`)}};const i6=e=>{if(!qD.DATE_TIME_STRING.test(e)&&!qD.DATE_STRING.test(e))throw new rge(e);return new Date(Number(e.slice(0,4)),Number(e.slice(5,7))-1,Number(e.slice(8,10)),Number(e.slice(11,13)),Number(e.slice(14,16)))},Qw=e=>{const t=e.slice(11,13),n=e.slice(14,16);return{year:Number(e.slice(0,4)),month:Number(e.slice(5,7))-1,date:Number(e.slice(8,10)),hours:t!==""?Number(t):void 0,minutes:n!==""?Number(n):void 0}};let sge=class extends Error{constructor(t,n){super(`Number must be between ${t} and ${n}.`),Object.defineProperty(this,"min",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"max",{enumerable:!0,configurable:!0,writable:!0,value:n})}};const Ng=e=>{if(e<0||e>99)throw new sge(0,99);return String(e).padStart(2,"0")},UC=e=>`${e.getFullYear()}-${Ng(e.getMonth()+1)}-${Ng(e.getDate())}`,oge=e=>`${Ng(e.getHours())}:${Ng(e.getMinutes())}`,r6=e=>`${UC(e)} ${oge(e)}`,s6=1.6666666666666667,YD=e=>{if(!ige.test(e)&&e!=="24:00")throw new nge(e);const[t,n]=e.split(":").map(r=>parseInt(r,10));let i=(n*s6).toString();return i.split(".")[0].length<2&&(i=`0${i}`),Number(t+i)},KD=(e,t)=>{const n=t/s6,i=i6(e);return i.setMinutes(i.getMinutes()+n),r6(i)},Es=(e,t)=>{const{year:n,month:i,date:r,hours:s,minutes:o}=Qw(e),a=s!==void 0&&o!==void 0,l=new Date(n,i,r,s??0,o??0);return l.setDate(l.getDate()+t),a?r6(l):UC(l)},sr=e=>e.slice(0,10),Jw=e=>e.slice(11),XD=(e,t)=>{const n=Jw(e);return`${t} ${n}`},o6=e=>"time-grid-event-copy-"+e,age=(e,t,n)=>{var i;(i=e.config.plugins.eventRecurrence)===null||i===void 0||i.updateRecurrenceDND(t.id,n,t.start)},lge=(e,t)=>{const n=e.calendarEvents.list.value.find(i=>i.id===t.id);n&&(n.start=t.start,n.end=t.end,e.calendarEvents.list.value=[...e.calendarEvents.list.value])},jC=(e,t,n)=>{"rrule"in t._getForeignProperties()&&e.config.plugins.eventRecurrence?age(e,t,n):lge(e,t),e.config.callbacks.onEventUpdate&&e.config.callbacks.onEventUpdate(t._getExternalEvent())},uge=e=>"touches"in e&&typeof e.touches=="object",a6=e=>{const t=uge(e)?e.touches[0]:e;return{clientX:t.clientX,clientY:t.clientY}},cge=e=>e.config.timePointsPerDay/e.config.weekOptions.value.gridHeight;class dge{constructor(t,n,i,r,s,o){Object.defineProperty(this,"$app",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"eventCoordinates",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(this,"eventCopy",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"updateCopy",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"dayBoundariesDateTime",{enumerable:!0,configurable:!0,writable:!0,value:s}),Object.defineProperty(this,"CHANGE_THRESHOLD_IN_TIME_POINTS",{enumerable:!0,configurable:!0,writable:!0,value:o}),Object.defineProperty(this,"dayWidth",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"startY",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"startX",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"lastIntervalDiff",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"lastDaysDiff",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"originalStart",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"handleMouseOrTouchMove",{enumerable:!0,configurable:!0,writable:!0,value:a=>{const{clientX:l,clientY:u}=a6(a),c=(u-this.startY)*this.timePointsPerPixel(),f=Math.round(c/this.CHANGE_THRESHOLD_IN_TIME_POINTS),v=l-this.startX,m=Math.round(v/this.dayWidth);this.handleVerticalMouseOrTouchMove(f),this.handleHorizontalMouseOrTouchMove(m)}}),Object.defineProperty(this,"handleMouseUpOrTouchEnd",{enumerable:!0,configurable:!0,writable:!0,value:()=>{document.removeEventListener("mousemove",this.handleMouseOrTouchMove),document.removeEventListener("touchmove",this.handleMouseOrTouchMove),this.updateCopy(void 0),this.updateOriginalEvent()}}),this.dayWidth=t.elements.calendarWrapper.querySelector(".sx__time-grid-day").clientWidth,this.startY=this.eventCoordinates.clientY,this.startX=this.eventCoordinates.clientX,this.originalStart=this.eventCopy.start,this.init()}init(){document.addEventListener("mousemove",this.handleMouseOrTouchMove),document.addEventListener("mouseup",this.handleMouseUpOrTouchEnd,{once:!0}),document.addEventListener("touchmove",this.handleMouseOrTouchMove,{passive:!1}),document.addEventListener("touchend",this.handleMouseUpOrTouchEnd,{once:!0})}timePointsPerPixel(){return cge(this.$app)}handleVerticalMouseOrTouchMove(t){if(t===this.lastIntervalDiff)return;const n=t>this.lastIntervalDiff?this.CHANGE_THRESHOLD_IN_TIME_POINTS:-this.CHANGE_THRESHOLD_IN_TIME_POINTS;this.setTimeForEventCopy(n),this.lastIntervalDiff=t}setTimeForEventCopy(t){const n=KD(this.eventCopy.start,t),i=KD(this.eventCopy.end,t);n<Es(this.dayBoundariesDateTime.start,this.lastDaysDiff)||i>Es(this.dayBoundariesDateTime.end,this.lastDaysDiff)||(this.eventCopy.start=n,this.eventCopy.end=i,this.updateCopy(this.eventCopy))}handleHorizontalMouseOrTouchMove(t){if(t===this.lastDaysDiff)return;const n=t-this.lastDaysDiff,i=Es(sr(this.eventCopy.start),n),r=Es(sr(this.eventCopy.end),n),s=XD(this.eventCopy.start,i),o=XD(this.eventCopy.end,r);s<this.$app.calendarState.range.value.start||o>this.$app.calendarState.range.value.end||(this.setDateForEventCopy(s,o),this.transformEventCopyPosition(t),this.lastDaysDiff=t)}setDateForEventCopy(t,n){this.eventCopy.start=t,this.eventCopy.end=n,this.updateCopy(this.eventCopy)}transformEventCopyPosition(t){const n=this.$app.elements.calendarWrapper.querySelector("#"+o6(this.eventCopy.id));n.style.transform=`translateX(calc(${t*100}% + ${t}px))`}updateOriginalEvent(){if(this.lastIntervalDiff===0&&this.lastDaysDiff===0)return;const t=this.lastDaysDiff===0,n=document.querySelector(`[data-event-id="${this.eventCopy.id}"]`);!t&&n instanceof HTMLElement&&(n.style.display="none"),jC(this.$app,this.eventCopy,this.originalStart)}}const fge=e=>e.elements.calendarWrapper.querySelector(".sx__time-grid-day").clientWidth,hge=(e,t)=>e.elements.calendarWrapper.querySelector("#"+o6(t.id)),QD=1e3*60*60*24;class vge{constructor(t,n,i,r){Object.defineProperty(this,"$app",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"eventCopy",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"updateCopy",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"startX",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"dayWidth",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"originalStart",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"originalEnd",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"rangeStartDate",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"rangeEndDate",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"lastDaysDiff",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"handleMouseOrTouchMove",{enumerable:!0,configurable:!0,writable:!0,value:s=>{const{clientX:o}=a6(s),a=o-this.startX,l=Math.round(a/this.dayWidth);if(l===this.lastDaysDiff)return;const u=Es(this.originalStart,l),d=Es(this.originalEnd,l),c=sr(u),f=sr(d);if(c>this.rangeEndDate||f<this.rangeStartDate)return;this.eventCopy.start=u,this.eventCopy.end=d;const m=c>=this.rangeStartDate&&c<=this.rangeEndDate?c:this.rangeStartDate,_=f>=this.rangeStartDate&&f<=this.rangeEndDate?f:this.rangeEndDate;this.eventCopy._nDaysInGrid=Math.round((new Date(_).getTime()-new Date(m).getTime())/QD)+1,c>=this.rangeStartDate&&this.transformEventCopyPosition(c),this.updateCopy(this.eventCopy),this.lastDaysDiff=l}}),Object.defineProperty(this,"handleMouseUpOrTouchEnd",{enumerable:!0,configurable:!0,writable:!0,value:()=>{document.removeEventListener("mousemove",this.handleMouseOrTouchMove),document.removeEventListener("touchmove",this.handleMouseOrTouchMove),this.updateOriginalEvent(),setTimeout(()=>{this.updateCopy(void 0)},10)}}),this.startX=n.clientX,this.dayWidth=fge(this.$app),this.originalStart=this.eventCopy.start,this.originalEnd=this.eventCopy.end,this.rangeStartDate=sr(this.$app.calendarState.range.value.start),this.rangeEndDate=Es(this.rangeStartDate,t.config.weekOptions.value.nDays-1),this.init()}init(){document.addEventListener("mousemove",this.handleMouseOrTouchMove),document.addEventListener("mouseup",this.handleMouseUpOrTouchEnd,{once:!0}),document.addEventListener("touchmove",this.handleMouseOrTouchMove,{passive:!1}),document.addEventListener("touchend",this.handleMouseUpOrTouchEnd,{once:!0})}transformEventCopyPosition(t){const n=sr(this.originalStart),i=Math.round((new Date(t).getTime()-new Date(n>=this.rangeStartDate?n:this.rangeStartDate).getTime())/QD);hge(this.$app,this.eventCopy).style.transform=`translateX(calc(${i*this.dayWidth}px + ${i}px))`}updateOriginalEvent(){this.lastDaysDiff!==0&&jC(this.$app,this.eventCopy,this.originalStart)}}const JD=(e,t)=>{const{year:n,month:i,date:r}=Qw(e),{year:s,month:o,date:a}=Qw(t),l=new Date(n,i,r),d=new Date(s,o,a).getTime()-l.getTime();return Math.round(d/(1e3*3600*24))};var Zw;(function(e){e[e.SUNDAY=0]="SUNDAY",e[e.MONDAY=1]="MONDAY",e[e.TUESDAY=2]="TUESDAY",e[e.WEDNESDAY=3]="WEDNESDAY",e[e.THURSDAY=4]="THURSDAY",e[e.FRIDAY=5]="FRIDAY",e[e.SATURDAY=6]="SATURDAY"})(Zw||(Zw={}));Zw.MONDAY;const mge="primary";let gge=class{constructor(t,n,i,r,s,o,a,l,u,d=void 0,c={},f={}){Object.defineProperty(this,"_config",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"id",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(this,"start",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"end",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"title",{enumerable:!0,configurable:!0,writable:!0,value:s}),Object.defineProperty(this,"people",{enumerable:!0,configurable:!0,writable:!0,value:o}),Object.defineProperty(this,"location",{enumerable:!0,configurable:!0,writable:!0,value:a}),Object.defineProperty(this,"description",{enumerable:!0,configurable:!0,writable:!0,value:l}),Object.defineProperty(this,"calendarId",{enumerable:!0,configurable:!0,writable:!0,value:u}),Object.defineProperty(this,"_options",{enumerable:!0,configurable:!0,writable:!0,value:d}),Object.defineProperty(this,"_customContent",{enumerable:!0,configurable:!0,writable:!0,value:c}),Object.defineProperty(this,"_foreignProperties",{enumerable:!0,configurable:!0,writable:!0,value:f}),Object.defineProperty(this,"_previousConcurrentEvents",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_totalConcurrentEvents",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_nDaysInGrid",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_eventFragments",{enumerable:!0,configurable:!0,writable:!0,value:{}})}get _isSingleDayTimed(){return Eu.test(this.start)&&Eu.test(this.end)&&sr(this.start)===sr(this.end)}get _isSingleDayFullDay(){return zv.test(this.start)&&zv.test(this.end)&&this.start===this.end}get _isMultiDayTimed(){return Eu.test(this.start)&&Eu.test(this.end)&&sr(this.start)!==sr(this.end)}get _isMultiDayFullDay(){return zv.test(this.start)&&zv.test(this.end)&&this.start!==this.end}get _isSingleHybridDayTimed(){if(!this._config.isHybridDay||!Eu.test(this.start)||!Eu.test(this.end))return!1;const t=sr(this.start),n=sr(this.end),i=UC(new Date(i6(n).getTime()-864e5));if(t!==n&&t!==i)return!1;const r=this._config.dayBoundaries.value,s=YD(Jw(this.start)),o=YD(Jw(this.end));return s>=r.start&&(o<=r.end||o>s)||s<r.end&&o<=r.end}get _color(){return this.calendarId&&this._config.calendars.value&&this.calendarId in this._config.calendars.value?this._config.calendars.value[this.calendarId].colorName:mge}_getForeignProperties(){return this._foreignProperties}_getExternalEvent(){return{id:this.id,start:this.start,end:this.end,title:this.title,people:this.people,location:this.location,description:this.description,calendarId:this.calendarId,_options:this._options,...this._getForeignProperties()}}},pge=class{constructor(t,n,i,r){Object.defineProperty(this,"_config",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"id",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(this,"start",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"end",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"people",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"location",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"description",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"title",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"calendarId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_foreignProperties",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_options",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_customContent",{enumerable:!0,configurable:!0,writable:!0,value:{}})}build(){return new gge(this._config,this.id,this.start,this.end,this.title,this.people,this.location,this.description,this.calendarId,this._options,this._customContent,this._foreignProperties)}withTitle(t){return this.title=t,this}withPeople(t){return this.people=t,this}withLocation(t){return this.location=t,this}withDescription(t){return this.description=t,this}withForeignProperties(t){return this._foreignProperties=t,this}withCalendarId(t){return this.calendarId=t,this}withOptions(t){return this._options=t,this}withCustomContent(t){return this._customContent=t,this}};const _ge=(e,t)=>{const n=new pge(t.config,e.id,e.start,e.end).withTitle(e.title).withPeople(e.people).withCalendarId(e.calendarId).withForeignProperties(JSON.parse(JSON.stringify(e._getForeignProperties()))).withLocation(e.location).withDescription(e.description).withOptions(e._options).withCustomContent(e._customContent).build();return n._nDaysInGrid=e._nDaysInGrid,n};class yge{constructor(t,n){Object.defineProperty(this,"calendarEvent",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"$app",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(this,"allDayElements",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"currentDragoverDate",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"eventNDays",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"originalStart",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"MONTH_DAY_CLASS_NAME",{enumerable:!0,configurable:!0,writable:!0,value:"sx__month-grid-day"}),Object.defineProperty(this,"MONTH_DAY_SELECTOR",{enumerable:!0,configurable:!0,writable:!0,value:`.${this.MONTH_DAY_CLASS_NAME}`}),Object.defineProperty(this,"DAY_DRAGOVER_CLASS_NAME",{enumerable:!0,configurable:!0,writable:!0,value:"sx__month-grid-day--dragover"}),Object.defineProperty(this,"handleDragOver",{enumerable:!0,configurable:!0,writable:!0,value:i=>{i.preventDefault();let r=i.target;if((!(r instanceof HTMLDivElement)||!r.classList.contains(this.MONTH_DAY_CLASS_NAME))&&(r=i.target.closest(this.MONTH_DAY_SELECTOR)),this.currentDragoverDate===r.dataset.date)return;this.currentDragoverDate=r.dataset.date;const s=Es(this.currentDragoverDate,this.eventNDays-1);this.allDayElements.forEach(o=>{const a=o.dataset.date;a>=this.currentDragoverDate&&a<=s?o.classList.add(this.DAY_DRAGOVER_CLASS_NAME):o.classList.remove(this.DAY_DRAGOVER_CLASS_NAME)})}}),Object.defineProperty(this,"handleDragEnd",{enumerable:!0,configurable:!0,writable:!0,value:()=>{this.allDayElements.forEach(i=>{i.removeEventListener("dragover",this.handleDragOver),i.classList.remove(this.DAY_DRAGOVER_CLASS_NAME)}),this.setCalendarEventPointerEventsTo("auto"),this.updateCalendarEvent()}}),Object.defineProperty(this,"setCalendarEventPointerEventsTo",{enumerable:!0,configurable:!0,writable:!0,value:i=>{var r;((r=this.$app.elements.calendarWrapper)===null||r===void 0?void 0:r.querySelectorAll(".sx__event")).forEach(s=>{String(s.dataset.eventId)!==String(this.calendarEvent.id)&&(s.style.pointerEvents=i)})}}),Object.defineProperty(this,"updateCalendarEvent",{enumerable:!0,configurable:!0,writable:!0,value:()=>{const i=_ge(this.calendarEvent,this.$app),r=JD(sr(this.calendarEvent.start),sr(this.currentDragoverDate));i.start=Es(i.start,r),i.end=Es(i.end,r),jC(this.$app,i,this.originalStart)}}),this.originalStart=this.calendarEvent.start,this.allDayElements=n.elements.calendarWrapper.querySelectorAll(this.MONTH_DAY_SELECTOR),this.eventNDays=JD(this.calendarEvent.start,this.calendarEvent.end)+1,this.init()}init(){document.addEventListener("dragend",this.handleDragEnd,{once:!0}),this.allDayElements.forEach(t=>{t.addEventListener("dragover",this.handleDragOver)}),this.setCalendarEventPointerEventsTo("none")}}const bge=(e,t)=>(t.name=e,t);class wge{onRender(t){t.elements.calendarWrapper&&(t.elements.calendarWrapper.dataset.hasDnd="true")}constructor(t){Object.defineProperty(this,"minutesPerInterval",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:Xw.DragAndDrop})}createTimeGridDragHandler(t,n){return new dge(t.$app,t.eventCoordinates,t.eventCopy,t.updateCopy,n,this.getTimePointsForIntervalConfig())}getTimePointsForIntervalConfig(){return this.minutesPerInterval===60?100:this.minutesPerInterval===30?50:25}createDateGridDragHandler(t){return new vge(t.$app,t.eventCoordinates,t.eventCopy,t.updateCopy)}createMonthGridDragHandler(t,n){return new yge(t,n)}}const Sge=(e=15)=>bge("dragAndDrop",new wge(e));var eS;(function(e){e.DragAndDrop="dragAndDrop",e.EventModal="eventModal",e.ScrollController="scrollController",e.EventRecurrence="eventRecurrence",e.Resize="resize",e.CalendarControls="calendarControls",e.CurrentTime="currentTime"})(eS||(eS={}));const Ege=()=>"s"+Math.random().toString(36).substring(2,11),Cge=(e,t)=>function(n){n.target instanceof HTMLElement&&(n.target.closest(`#${t}`)||e.config.plugins.eventModal.close())},kge=(e,t,n=250)=>{const o=t.bottom-e.top>n,a=t.bottom<e.bottom,l=t.top<e.top;let u=0,d=0,c="0%";e.bottom-t.top>n&&!l?u=t.top:o&&a?u=t.bottom-n:o&&!a?u=e.bottom-n:u=e.top,e.right-t.right>410?(d=t.right+10,c="-10%"):t.left-e.left>410?(d=t.left-410,c="10%"):d=e.left,document.documentElement.style.setProperty("--sx-event-modal-animation-start",c),document.documentElement.style.setProperty("--sx-event-modal-top",`${u}px`),document.documentElement.style.setProperty("--sx-event-modal-left",`${d}px`)};function Tge({strokeColor:e}){return K(Ot,{children:K("svg",{className:"sx__event-icon",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[K("g",{id:"SVGRepo_bgCarrier","stroke-width":"0"}),K("g",{id:"SVGRepo_tracerCarrier","stroke-linecap":"round","stroke-linejoin":"round"}),K("g",{id:"SVGRepo_iconCarrier",children:[K("path",{d:"M12 8V12L15 15",stroke:e,"stroke-width":"2","stroke-linecap":"round"}),K("circle",{cx:"12",cy:"12",r:"9",stroke:e,"stroke-width":"2"})]})]})})}function Ige({strokeColor:e}){return K(Ot,{children:K("svg",{className:"sx__event-icon",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[K("g",{id:"SVGRepo_bgCarrier","stroke-width":"0"}),K("g",{id:"SVGRepo_tracerCarrier","stroke-linecap":"round","stroke-linejoin":"round"}),K("g",{id:"SVGRepo_iconCarrier",children:[K("path",{d:"M15 7C15 8.65685 13.6569 10 12 10C10.3431 10 9 8.65685 9 7C9 5.34315 10.3431 4 12 4C13.6569 4 15 5.34315 15 7Z",stroke:e,"stroke-width":"2"}),K("path",{d:"M5 19.5C5 15.9101 7.91015 13 11.5 13H12.5C16.0899 13 19 15.9101 19 19.5V20C19 20.5523 18.5523 21 18 21H6C5.44772 21 5 20.5523 5 20V19.5Z",stroke:e,"stroke-width":"2"})]})]})})}const Age=e=>e.reduce((t,n,i)=>i===0?n:i===e.length-1?`${t} & ${n}`:`${t}, ${n}`,"");function Pge({strokeColor:e}){return K(Ot,{children:K("svg",{className:"sx__event-icon",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[K("g",{id:"SVGRepo_bgCarrier","stroke-width":"0"}),K("g",{id:"SVGRepo_tracerCarrier","stroke-linecap":"round","stroke-linejoin":"round"}),K("g",{id:"SVGRepo_iconCarrier",children:[K("g",{"clip-path":"url(#clip0_429_11046)",children:[K("rect",{x:"12",y:"11",width:"0.01",height:"0.01",stroke:e,"stroke-width":"2","stroke-linejoin":"round"}),K("path",{d:"M12 22L17.5 16.5C20.5376 13.4624 20.5376 8.53757 17.5 5.5C14.4624 2.46244 9.53757 2.46244 6.5 5.5C3.46244 8.53757 3.46244 13.4624 6.5 16.5L12 22Z",stroke:e,"stroke-width":"2","stroke-linejoin":"round"})]}),K("defs",{children:K("clipPath",{id:"clip0_429_11046",children:K("rect",{width:"24",height:"24",fill:"white"})})})]})]})})}function xge({strokeColor:e}){return K(Ot,{children:K("svg",{className:"sx__event-icon",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[K("g",{id:"SVGRepo_bgCarrier","stroke-width":"0"}),K("g",{id:"SVGRepo_tracerCarrier","stroke-linecap":"round","stroke-linejoin":"round"}),K("g",{id:"SVGRepo_iconCarrier",children:[K("rect",{x:"4",y:"4",width:"16",height:"16",rx:"3",stroke:e,"stroke-width":"2"}),K("path",{d:"M16 10L8 10",stroke:e,"stroke-width":"2","stroke-linecap":"round"}),K("path",{d:"M16 14L8 14",stroke:e,"stroke-width":"2","stroke-linecap":"round"})]})]})})}const l6=e=>{const t=e.slice(11,13),n=e.slice(14,16);return{year:Number(e.slice(0,4)),month:Number(e.slice(5,7))-1,date:Number(e.slice(8,10)),hours:t!==""?Number(t):void 0,minutes:n!==""?Number(n):void 0}},Cu=(e,t)=>{const{year:n,month:i,date:r}=l6(e);return new Date(n,i,r).toLocaleDateString(t,{day:"numeric",month:"long",year:"numeric"})},Gv=(e,t)=>{const{year:n,month:i,date:r,hours:s,minutes:o}=l6(e);return new Date(n,i,r,s,o).toLocaleTimeString(t,{hour:"numeric",minute:"numeric"})},Dge=(e,t,n="–")=>{const i={start:e.start,end:e.end};return e._isSingleDayFullDay?Cu(i.start,t):e._isMultiDayFullDay?`${Cu(i.start,t)} ${n} ${Cu(i.end,t)}`:e._isSingleDayTimed?`${Cu(i.start,t)} <span aria-hidden="true">⋅</span> ${Gv(i.start,t)} ${n} ${Gv(i.end,t)}`:`${Cu(i.start,t)}, ${Gv(i.start,t)} ${n} ${Cu(i.end,t)}, ${Gv(i.end,t)}`},Rge=e=>{const t="#000",n="var(--sx-color-neutral-variant)",i=$t(e.calendarState.isDark.value?n:t);return To(()=>{e.calendarState.isDark.value?i.value=n:i.value=t}),i},Oge=e=>{if(e){const t=e.scrollHeight>e.clientHeight,i=window.getComputedStyle(e).overflowY.indexOf("hidden")!==-1;return t&&!i}return!0},u6=(e,t=[])=>!e||e===document.body||e.nodeType===Node.DOCUMENT_FRAGMENT_NODE?(t.push(window),t):(Oge(e)&&t.push(e),u6(e.assignedSlot?e.assignedSlot.parentNode:e.parentNode,t)),Vge=e=>{setTimeout(()=>{e()})};function Nge({$app:e}){const[t]=Et(Ege()),{value:n}=e.config.plugins.eventModal.calendarEvent,[i,r]=Et(!1),s=e.config._customComponentFns.eventModal,[o,a]=Et("sx__event-modal"),l=()=>{var c,f,v;kge((c=e.elements.calendarWrapper)===null||c===void 0?void 0:c.getBoundingClientRect(),(f=e.config.plugins.eventModal)===null||f===void 0?void 0:f.calendarEventDOMRect.value,((v=e.elements.calendarWrapper)===null||v===void 0?void 0:v.querySelector(".sx__event-modal")).clientHeight)},u=()=>{var c,f;e.config.plugins.eventModal.calendarEventDOMRect.value=(f=(c=e.config.plugins.eventModal)===null||c===void 0?void 0:c.calendarEventElement.value)===null||f===void 0?void 0:f.getBoundingClientRect(),l()};Xt(()=>{var c;s?s(document.querySelector(`[data-ccid=${t}]`),{calendarEvent:n==null?void 0:n._getExternalEvent()}):a(o.concat(" sx__event-modal-default")),Vge(()=>{l()}),r(!0);const f=Cge(e,t),v=u6(((c=e.config.plugins.eventModal)===null||c===void 0?void 0:c.calendarEventElement.value)||null);return v.forEach(m=>m.addEventListener("scroll",u)),document.addEventListener("click",f),()=>{document.removeEventListener("click",f),v.forEach(m=>m.removeEventListener("scroll",u))}},[]);const d=Rge(e);return K(Ot,{children:n&&K("div",{id:t,tabIndex:0,"data-ccid":t,className:`${o}${i?" is-open":""}`,children:!s&&K(Ot,{children:[K("div",{className:"sx__has-icon sx__event-modal__title",children:[K("div",{style:{backgroundColor:`var(--sx-color-${n._color}-container)`},className:"sx__event-modal__color-icon sx__event-icon"}),n.title]}),K("div",{className:"sx__has-icon sx__event-modal__time",children:[K(Tge,{strokeColor:d.value}),K("div",{dangerouslySetInnerHTML:{__html:Dge(n,e.config.locale.value)}})]}),n.people&&n.people.length&&K("div",{className:"sx__has-icon sx__event-modal__people",children:[K(Ige,{strokeColor:d.value}),Age(n.people)]}),n.location&&K("div",{className:"sx__has-icon sx__event-modal__location",children:[K(Pge,{strokeColor:d.value}),n.location]}),n.description&&K("div",{className:"sx__has-icon sx__event-modal__description",children:[K(xge,{strokeColor:d.value}),n.description]})]})})})}const Mge=(e,t)=>(t.name=e,t);class Lge{constructor(){Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:eS.EventModal}),Object.defineProperty(this,"calendarEvent",{enumerable:!0,configurable:!0,writable:!0,value:$t(null)}),Object.defineProperty(this,"calendarEventDOMRect",{enumerable:!0,configurable:!0,writable:!0,value:$t(null)}),Object.defineProperty(this,"calendarEventElement",{enumerable:!0,configurable:!0,writable:!0,value:$t(null)}),Object.defineProperty(this,"ComponentFn",{enumerable:!0,configurable:!0,writable:!0,value:Nge})}setCalendarEvent(t,n){Aw(()=>{this.calendarEvent.value=t,this.calendarEventDOMRect.value=n})}close(){Aw(()=>{this.calendarEvent.value=null,this.calendarEventDOMRect.value=null})}}const c6=()=>Mge("eventModal",new Lge),Fge=/^(0[0-9]|1[0-9]|2[0-3]):[0-5][0-9]$/,ku=/^(\d{4})-(\d{2})-(\d{2}) (0[0-9]|1[0-9]|2[0-3]):[0-5][0-9]$/,qv=/^(\d{4})-(\d{2})-(\d{2})$/,ZD={DATE_STRING:/^\d{4}-\d{2}-\d{2}$/,TIME_STRING:/^\d{2}:\d{2}$/,DATE_TIME_STRING:/^\d{4}-\d{2}-\d{2} \d{2}:\d{2}$/};class $ge extends Error{constructor(t){super(`Invalid date time specification: ${t}`)}}const Bge=e=>{if(!ZD.DATE_TIME_STRING.test(e)&&!ZD.DATE_STRING.test(e))throw new $ge(e);return new Date(Number(e.slice(0,4)),Number(e.slice(5,7))-1,Number(e.slice(8,10)),Number(e.slice(11,13)),Number(e.slice(14,16)))};let Uge=class extends Error{constructor(t,n){super(`Number must be between ${t} and ${n}.`),Object.defineProperty(this,"min",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"max",{enumerable:!0,configurable:!0,writable:!0,value:n})}};const eR=e=>{if(e<0||e>99)throw new Uge(0,99);return String(e).padStart(2,"0")},jge=e=>`${e.getFullYear()}-${eR(e.getMonth()+1)}-${eR(e.getDate())}`;let Hge=class extends Error{constructor(t){super(`Invalid time string: ${t}`)}};const Wge=1.6666666666666667,tR=e=>{if(!Fge.test(e)&&e!=="24:00")throw new Hge(e);const[t,n]=e.split(":").map(r=>parseInt(r,10));let i=(n*Wge).toString();return i.split(".")[0].length<2&&(i=`0${i}`),Number(t+i)},Tu=e=>e.slice(0,10),nR=e=>e.slice(11);var tS;(function(e){e[e.SUNDAY=0]="SUNDAY",e[e.MONDAY=1]="MONDAY",e[e.TUESDAY=2]="TUESDAY",e[e.WEDNESDAY=3]="WEDNESDAY",e[e.THURSDAY=4]="THURSDAY",e[e.FRIDAY=5]="FRIDAY",e[e.SATURDAY=6]="SATURDAY"})(tS||(tS={}));tS.MONDAY;const zge="primary";class Gge{constructor(t,n,i,r,s,o,a,l,u,d=void 0,c={},f={}){Object.defineProperty(this,"_config",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"id",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(this,"start",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"end",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"title",{enumerable:!0,configurable:!0,writable:!0,value:s}),Object.defineProperty(this,"people",{enumerable:!0,configurable:!0,writable:!0,value:o}),Object.defineProperty(this,"location",{enumerable:!0,configurable:!0,writable:!0,value:a}),Object.defineProperty(this,"description",{enumerable:!0,configurable:!0,writable:!0,value:l}),Object.defineProperty(this,"calendarId",{enumerable:!0,configurable:!0,writable:!0,value:u}),Object.defineProperty(this,"_options",{enumerable:!0,configurable:!0,writable:!0,value:d}),Object.defineProperty(this,"_customContent",{enumerable:!0,configurable:!0,writable:!0,value:c}),Object.defineProperty(this,"_foreignProperties",{enumerable:!0,configurable:!0,writable:!0,value:f}),Object.defineProperty(this,"_previousConcurrentEvents",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_totalConcurrentEvents",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_nDaysInGrid",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_eventFragments",{enumerable:!0,configurable:!0,writable:!0,value:{}})}get _isSingleDayTimed(){return ku.test(this.start)&&ku.test(this.end)&&Tu(this.start)===Tu(this.end)}get _isSingleDayFullDay(){return qv.test(this.start)&&qv.test(this.end)&&this.start===this.end}get _isMultiDayTimed(){return ku.test(this.start)&&ku.test(this.end)&&Tu(this.start)!==Tu(this.end)}get _isMultiDayFullDay(){return qv.test(this.start)&&qv.test(this.end)&&this.start!==this.end}get _isSingleHybridDayTimed(){if(!this._config.isHybridDay||!ku.test(this.start)||!ku.test(this.end))return!1;const t=Tu(this.start),n=Tu(this.end),i=jge(new Date(Bge(n).getTime()-864e5));if(t!==n&&t!==i)return!1;const r=this._config.dayBoundaries.value,s=tR(nR(this.start)),o=tR(nR(this.end));return s>=r.start&&(o<=r.end||o>s)||s<r.end&&o<=r.end}get _color(){return this.calendarId&&this._config.calendars.value&&this.calendarId in this._config.calendars.value?this._config.calendars.value[this.calendarId].colorName:zge}_getForeignProperties(){return this._foreignProperties}_getExternalEvent(){return{id:this.id,start:this.start,end:this.end,title:this.title,people:this.people,location:this.location,description:this.description,calendarId:this.calendarId,_options:this._options,...this._getForeignProperties()}}}class qge{constructor(t,n,i,r){Object.defineProperty(this,"_config",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"id",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(this,"start",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"end",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"people",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"location",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"description",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"title",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"calendarId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_foreignProperties",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_options",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_customContent",{enumerable:!0,configurable:!0,writable:!0,value:{}})}build(){return new Gge(this._config,this.id,this.start,this.end,this.title,this.people,this.location,this.description,this.calendarId,this._options,this._customContent,this._foreignProperties)}withTitle(t){return this.title=t,this}withPeople(t){return this.people=t,this}withLocation(t){return this.location=t,this}withDescription(t){return this.description=t,this}withForeignProperties(t){return this._foreignProperties=t,this}withCalendarId(t){return this.calendarId=t,this}withOptions(t){return this._options=t,this}withCustomContent(t){return this._customContent=t,this}}const mb=(e,t)=>{const{id:n,start:i,end:r,title:s,description:o,location:a,people:l,_options:u,...d}=e;return new qge(t,n,i,r).withTitle(s).withDescription(o).withLocation(a).withPeople(l).withCalendarId(e.calendarId).withOptions(u).withForeignProperties(d).withCustomContent(e._customContent).build()};class Yge{constructor(t){Object.defineProperty(this,"$app",{enumerable:!0,configurable:!0,writable:!0,value:t})}set(t){this.$app.calendarEvents.list.value=t.map(n=>mb(n,this.$app.config))}add(t){const n=mb(t,this.$app.config),i=[...this.$app.calendarEvents.list.value];i.push(n),this.$app.calendarEvents.list.value=i}get(t){var n;return(n=this.$app.calendarEvents.list.value.find(i=>i.id===t))===null||n===void 0?void 0:n._getExternalEvent()}getAll(){return this.$app.calendarEvents.list.value.map(t=>t._getExternalEvent())}remove(t){const n=this.$app.calendarEvents.list.value.findIndex(r=>r.id===t),i=[...this.$app.calendarEvents.list.value];i.splice(n,1),this.$app.calendarEvents.list.value=i}update(t){const n=this.$app.calendarEvents.list.value.findIndex(r=>r.id===t.id),i=[...this.$app.calendarEvents.list.value];i.splice(n,1,mb(t,this.$app.config)),this.$app.calendarEvents.list.value=i}}const Kge=(e,t)=>(t.name=e,t);class Xge{constructor(){Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EventsServicePlugin"}),Object.defineProperty(this,"$app",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"eventsFacade",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}beforeRender(t){this.$app=t,this.eventsFacade=new Yge(t)}update(t){this.eventsFacade.update(t)}add(t){this.eventsFacade.add(t)}remove(t){this.eventsFacade.remove(t)}get(t){return this.eventsFacade.get(t)}getAll(){return this.eventsFacade.getAll()}set(t){this.eventsFacade.set(t)}setBackgroundEvents(t){this.$app.calendarEvents.backgroundEvents.value=t}}const d6=()=>Kge("eventsService",new Xge),Qge=(e,t)=>(n,i)=>{const r={Component:ni(t,i),wrapperElement:n};e(r)};class Jge extends Error{constructor(t){super(t),this.name="[Schedule-X reactivity error]"}}const f6=At({name:"ScheduleXCalendar",props:{calendarApp:{type:Object,required:!0},customComponents:{type:Object,default:()=>({})}},data(){return{elId:"sx"+Math.random().toString(36).substr(2,9),customComponentsMeta:[]}},mounted(){if(ml(this.calendarApp))throw new Jge("calendarApp cannot be saved in a ref. Since this causes deep reactivity, it destroys the calendars internal reactivity. Save in a normal const or shallowRef");const e={...this.customComponents,...this.$slots};for(const[t,n]of Object.entries(e))this.calendarApp._setCustomComponentFn(t,Qge(this.setCustomComponentMeta,n));this.calendarApp.render(document.getElementById(this.elId))},methods:{setCustomComponentMeta(e){if(!(e.wrapperElement instanceof HTMLElement))return;const t=({wrapperElement:s})=>s instanceof HTMLElement,n=[...this.customComponentsMeta.filter(t)],i=e.wrapperElement.dataset.ccid,r=n.find(({wrapperElement:s})=>s.dataset.ccid===i);r&&n.splice(n.indexOf(r),1),this.customComponentsMeta=[...n,e]}},render(){const e=this.customComponentsMeta.map(({Component:t,wrapperElement:n})=>ni(pO,{to:n},t));return ni("div",{id:this.elId,class:"sx-vue-calendar-wrapper"},ni(Te,{},e))}});var HC,nt,h6,v6,nl,iR,m6,nS,g6,iS={},p6=[],Zge=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,z_=Array.isArray;function oa(e,t){for(var n in t)e[n]=t[n];return e}function _6(e){var t=e.parentNode;t&&t.removeChild(e)}function rR(e,t,n){var i,r,s,o={};for(s in t)s=="key"?i=t[s]:s=="ref"?r=t[s]:o[s]=t[s];if(arguments.length>2&&(o.children=arguments.length>3?HC.call(arguments,2):n),typeof e=="function"&&e.defaultProps!=null)for(s in e.defaultProps)o[s]===void 0&&(o[s]=e.defaultProps[s]);return Cm(e,o,i,r,null)}function Cm(e,t,n,i,r){var s={type:e,props:t,key:n,ref:i,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:r??++h6,__i:-1,__u:0};return r==null&&nt.vnode!=null&&nt.vnode(s),s}function uh(e){return e.children}function xs(e,t){this.props=e,this.context=t}function Pc(e,t){if(t==null)return e.__?Pc(e.__,e.__i+1):null;for(var n;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null)return n.__e;return typeof e.type=="function"?Pc(e):null}function y6(e){var t,n;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null){e.__e=e.__c.base=n.__e;break}return y6(e)}}function rS(e){(!e.__d&&(e.__d=!0)&&nl.push(e)&&!Mg.__r++||iR!==nt.debounceRendering)&&((iR=nt.debounceRendering)||m6)(Mg)}function Mg(){var e,t,n,i,r,s,o,a,l;for(nl.sort(nS);e=nl.shift();)e.__d&&(t=nl.length,i=void 0,s=(r=(n=e).__v).__e,a=[],l=[],(o=n.__P)&&((i=oa({},r)).__v=r.__v+1,nt.vnode&&nt.vnode(i),S6(o,i,r,n.__n,o.ownerSVGElement!==void 0,32&r.__u?[s]:null,a,s??Pc(r),!!(32&r.__u),l),i.__.__k[i.__i]=i,npe(a,i,l),i.__e!=s&&y6(i)),nl.length>t&&nl.sort(nS));Mg.__r=0}function b6(e,t,n,i,r,s,o,a,l,u,d){var c,f,v,m,p,_=i&&i.__k||p6,y=t.length;for(n.__d=l,epe(n,t,_),l=n.__d,c=0;c<y;c++)(v=n.__k[c])!=null&&typeof v!="boolean"&&typeof v!="function"&&(f=v.__i===-1?iS:_[v.__i]||iS,v.__i=c,S6(e,v,f,r,s,o,a,l,u,d),m=v.__e,v.ref&&f.ref!=v.ref&&(f.ref&&WC(f.ref,null,v),d.push(v.ref,v.__c||m,v)),p==null&&m!=null&&(p=m),65536&v.__u||f.__k===v.__k?l=w6(v,l,e):typeof v.type=="function"&&v.__d!==void 0?l=v.__d:m&&(l=m.nextSibling),v.__d=void 0,v.__u&=-196609);n.__d=l,n.__e=p}function epe(e,t,n){var i,r,s,o,a,l=t.length,u=n.length,d=u,c=0;for(e.__k=[],i=0;i<l;i++)(r=e.__k[i]=(r=t[i])==null||typeof r=="boolean"||typeof r=="function"?null:typeof r=="string"||typeof r=="number"||typeof r=="bigint"||r.constructor==String?Cm(null,r,null,null,r):z_(r)?Cm(uh,{children:r},null,null,null):r.constructor===void 0&&r.__b>0?Cm(r.type,r.props,r.key,r.ref?r.ref:null,r.__v):r)!=null?(r.__=e,r.__b=e.__b+1,a=tpe(r,n,o=i+c,d),r.__i=a,s=null,a!==-1&&(d--,(s=n[a])&&(s.__u|=131072)),s==null||s.__v===null?(a==-1&&c--,typeof r.type!="function"&&(r.__u|=65536)):a!==o&&(a===o+1?c++:a>o?d>l-o?c+=a-o:c--:c=a<o&&a==o-1?a-o:0,a!==i+c&&(r.__u|=65536))):(s=n[i])&&s.key==null&&s.__e&&(s.__e==e.__d&&(e.__d=Pc(s)),sS(s,s,!1),n[i]=null,d--);if(d)for(i=0;i<u;i++)(s=n[i])!=null&&!(131072&s.__u)&&(s.__e==e.__d&&(e.__d=Pc(s)),sS(s,s))}function w6(e,t,n){var i,r;if(typeof e.type=="function"){for(i=e.__k,r=0;i&&r<i.length;r++)i[r]&&(i[r].__=e,t=w6(i[r],t,n));return t}return e.__e!=t&&(n.insertBefore(e.__e,t||null),t=e.__e),t&&t.nextSibling}function Lg(e,t){return t=t||[],e==null||typeof e=="boolean"||(z_(e)?e.some(function(n){Lg(n,t)}):t.push(e)),t}function tpe(e,t,n,i){var r=e.key,s=e.type,o=n-1,a=n+1,l=t[n];if(l===null||l&&r==l.key&&s===l.type)return n;if(i>(l!=null&&!(131072&l.__u)?1:0))for(;o>=0||a<t.length;){if(o>=0){if((l=t[o])&&!(131072&l.__u)&&r==l.key&&s===l.type)return o;o--}if(a<t.length){if((l=t[a])&&!(131072&l.__u)&&r==l.key&&s===l.type)return a;a++}}return-1}function sR(e,t,n){t[0]==="-"?e.setProperty(t,n??""):e[t]=n==null?"":typeof n!="number"||Zge.test(t)?n:n+"px"}function Yv(e,t,n,i,r){var s;e:if(t==="style")if(typeof n=="string")e.style.cssText=n;else{if(typeof i=="string"&&(e.style.cssText=i=""),i)for(t in i)n&&t in n||sR(e.style,t,"");if(n)for(t in n)i&&n[t]===i[t]||sR(e.style,t,n[t])}else if(t[0]==="o"&&t[1]==="n")s=t!==(t=t.replace(/(PointerCapture)$|Capture$/,"$1")),t=t.toLowerCase()in e?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+s]=n,n?i?n.u=i.u:(n.u=Date.now(),e.addEventListener(t,s?aR:oR,s)):e.removeEventListener(t,s?aR:oR,s);else{if(r)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(t!=="width"&&t!=="height"&&t!=="href"&&t!=="list"&&t!=="form"&&t!=="tabIndex"&&t!=="download"&&t!=="rowSpan"&&t!=="colSpan"&&t!=="role"&&t in e)try{e[t]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&t[4]!=="-"?e.removeAttribute(t):e.setAttribute(t,n))}}function oR(e){var t=this.l[e.type+!1];if(e.t){if(e.t<=t.u)return}else e.t=Date.now();return t(nt.event?nt.event(e):e)}function aR(e){return this.l[e.type+!0](nt.event?nt.event(e):e)}function S6(e,t,n,i,r,s,o,a,l,u){var d,c,f,v,m,p,_,y,b,C,k,R,O,x,S,w=t.type;if(t.constructor!==void 0)return null;128&n.__u&&(l=!!(32&n.__u),s=[a=t.__e=n.__e]),(d=nt.__b)&&d(t);e:if(typeof w=="function")try{if(y=t.props,b=(d=w.contextType)&&i[d.__c],C=d?b?b.props.value:d.__:i,n.__c?_=(c=t.__c=n.__c).__=c.__E:("prototype"in w&&w.prototype.render?t.__c=c=new w(y,C):(t.__c=c=new xs(y,C),c.constructor=w,c.render=rpe),b&&b.sub(c),c.props=y,c.state||(c.state={}),c.context=C,c.__n=i,f=c.__d=!0,c.__h=[],c._sb=[]),c.__s==null&&(c.__s=c.state),w.getDerivedStateFromProps!=null&&(c.__s==c.state&&(c.__s=oa({},c.__s)),oa(c.__s,w.getDerivedStateFromProps(y,c.__s))),v=c.props,m=c.state,c.__v=t,f)w.getDerivedStateFromProps==null&&c.componentWillMount!=null&&c.componentWillMount(),c.componentDidMount!=null&&c.__h.push(c.componentDidMount);else{if(w.getDerivedStateFromProps==null&&y!==v&&c.componentWillReceiveProps!=null&&c.componentWillReceiveProps(y,C),!c.__e&&(c.shouldComponentUpdate!=null&&c.shouldComponentUpdate(y,c.__s,C)===!1||t.__v===n.__v)){for(t.__v!==n.__v&&(c.props=y,c.state=c.__s,c.__d=!1),t.__e=n.__e,t.__k=n.__k,t.__k.forEach(function(E){E&&(E.__=t)}),k=0;k<c._sb.length;k++)c.__h.push(c._sb[k]);c._sb=[],c.__h.length&&o.push(c);break e}c.componentWillUpdate!=null&&c.componentWillUpdate(y,c.__s,C),c.componentDidUpdate!=null&&c.__h.push(function(){c.componentDidUpdate(v,m,p)})}if(c.context=C,c.props=y,c.__P=e,c.__e=!1,R=nt.__r,O=0,"prototype"in w&&w.prototype.render){for(c.state=c.__s,c.__d=!1,R&&R(t),d=c.render(c.props,c.state,c.context),x=0;x<c._sb.length;x++)c.__h.push(c._sb[x]);c._sb=[]}else do c.__d=!1,R&&R(t),d=c.render(c.props,c.state,c.context),c.state=c.__s;while(c.__d&&++O<25);c.state=c.__s,c.getChildContext!=null&&(i=oa(oa({},i),c.getChildContext())),f||c.getSnapshotBeforeUpdate==null||(p=c.getSnapshotBeforeUpdate(v,m)),b6(e,z_(S=d!=null&&d.type===uh&&d.key==null?d.props.children:d)?S:[S],t,n,i,r,s,o,a,l,u),c.base=t.__e,t.__u&=-161,c.__h.length&&o.push(c),_&&(c.__E=c.__=null)}catch(E){t.__v=null,l||s!=null?(t.__e=a,t.__u|=l?160:32,s[s.indexOf(a)]=null):(t.__e=n.__e,t.__k=n.__k),nt.__e(E,t,n)}else s==null&&t.__v===n.__v?(t.__k=n.__k,t.__e=n.__e):t.__e=ipe(n.__e,t,n,i,r,s,o,l,u);(d=nt.diffed)&&d(t)}function npe(e,t,n){t.__d=void 0;for(var i=0;i<n.length;i++)WC(n[i],n[++i],n[++i]);nt.__c&&nt.__c(t,e),e.some(function(r){try{e=r.__h,r.__h=[],e.some(function(s){s.call(r)})}catch(s){nt.__e(s,r.__v)}})}function ipe(e,t,n,i,r,s,o,a,l){var u,d,c,f,v,m,p,_=n.props,y=t.props,b=t.type;if(b==="svg"&&(r=!0),s!=null){for(u=0;u<s.length;u++)if((v=s[u])&&"setAttribute"in v==!!b&&(b?v.localName===b:v.nodeType===3)){e=v,s[u]=null;break}}if(e==null){if(b===null)return document.createTextNode(y);e=r?document.createElementNS("http://www.w3.org/2000/svg",b):document.createElement(b,y.is&&y),s=null,a=!1}if(b===null)_===y||a&&e.data===y||(e.data=y);else{if(s=s&&HC.call(e.childNodes),_=n.props||iS,!a&&s!=null)for(_={},u=0;u<e.attributes.length;u++)_[(v=e.attributes[u]).name]=v.value;for(u in _)v=_[u],u=="children"||(u=="dangerouslySetInnerHTML"?c=v:u==="key"||u in y||Yv(e,u,null,v,r));for(u in y)v=y[u],u=="children"?f=v:u=="dangerouslySetInnerHTML"?d=v:u=="value"?m=v:u=="checked"?p=v:u==="key"||a&&typeof v!="function"||_[u]===v||Yv(e,u,v,_[u],r);if(d)a||c&&(d.__html===c.__html||d.__html===e.innerHTML)||(e.innerHTML=d.__html),t.__k=[];else if(c&&(e.innerHTML=""),b6(e,z_(f)?f:[f],t,n,i,r&&b!=="foreignObject",s,o,s?s[0]:n.__k&&Pc(n,0),a,l),s!=null)for(u=s.length;u--;)s[u]!=null&&_6(s[u]);a||(u="value",m!==void 0&&(m!==e[u]||b==="progress"&&!m||b==="option"&&m!==_[u])&&Yv(e,u,m,_[u],!1),u="checked",p!==void 0&&p!==e[u]&&Yv(e,u,p,_[u],!1))}return e}function WC(e,t,n){try{typeof e=="function"?e(t):e.current=t}catch(i){nt.__e(i,n)}}function sS(e,t,n){var i,r;if(nt.unmount&&nt.unmount(e),(i=e.ref)&&(i.current&&i.current!==e.__e||WC(i,null,t)),(i=e.__c)!=null){if(i.componentWillUnmount)try{i.componentWillUnmount()}catch(s){nt.__e(s,t)}i.base=i.__P=null,e.__c=void 0}if(i=e.__k)for(r=0;r<i.length;r++)i[r]&&sS(i[r],t,n||typeof e.type!="function");n||e.__e==null||_6(e.__e),e.__=e.__e=e.__d=void 0}function rpe(e,t,n){return this.constructor(e,n)}function spe(e,t){var n={__c:t="__cC"+g6++,__:e,Consumer:function(i,r){return i.children(r)},Provider:function(i){var r,s;return this.getChildContext||(r=[],(s={})[t]=this,this.getChildContext=function(){return s},this.shouldComponentUpdate=function(o){this.props.value!==o.value&&r.some(function(a){a.__e=!0,rS(a)})},this.sub=function(o){r.push(o);var a=o.componentWillUnmount;o.componentWillUnmount=function(){r.splice(r.indexOf(o),1),a&&a.call(o)}}),i.children}};return n.Provider.__=n.Consumer.contextType=n}HC=p6.slice,nt={__e:function(e,t,n,i){for(var r,s,o;t=t.__;)if((r=t.__c)&&!r.__)try{if((s=r.constructor)&&s.getDerivedStateFromError!=null&&(r.setState(s.getDerivedStateFromError(e)),o=r.__d),r.componentDidCatch!=null&&(r.componentDidCatch(e,i||{}),o=r.__d),o)return r.__E=r}catch(a){e=a}throw e}},h6=0,v6=function(e){return e!=null&&e.constructor==null},xs.prototype.setState=function(e,t){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=oa({},this.state),typeof e=="function"&&(e=e(oa({},n),this.props)),e&&oa(n,e),e!=null&&this.__v&&(t&&this._sb.push(t),rS(this))},xs.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),rS(this))},xs.prototype.render=uh,nl=[],m6=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,nS=function(e,t){return e.__v.__b-t.__v.__b},Mg.__r=0,g6=0;var oS,pr,gb,lR,uR=0,E6=[],km=[],cR=nt.__b,dR=nt.__r,fR=nt.diffed,hR=nt.__c,vR=nt.unmount;function ope(e,t){nt.__h&&nt.__h(pr,e,uR||t),uR=0;var n=pr.__H||(pr.__H={__:[],__h:[]});return e>=n.__.length&&n.__.push({__V:km}),n.__[e]}function C6(e,t){var n=ope(oS++,7);return upe(n.__H,t)?(n.__V=e(),n.i=t,n.__h=e,n.__V):n.__}function ape(){for(var e;e=E6.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(Tm),e.__H.__h.forEach(aS),e.__H.__h=[]}catch(t){e.__H.__h=[],nt.__e(t,e.__v)}}nt.__b=function(e){pr=null,cR&&cR(e)},nt.__r=function(e){dR&&dR(e),oS=0;var t=(pr=e.__c).__H;t&&(gb===pr?(t.__h=[],pr.__h=[],t.__.forEach(function(n){n.__N&&(n.__=n.__N),n.__V=km,n.__N=n.i=void 0})):(t.__h.forEach(Tm),t.__h.forEach(aS),t.__h=[],oS=0)),gb=pr},nt.diffed=function(e){fR&&fR(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(E6.push(t)!==1&&lR===nt.requestAnimationFrame||((lR=nt.requestAnimationFrame)||lpe)(ape)),t.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.__V!==km&&(n.__=n.__V),n.i=void 0,n.__V=km})),gb=pr=null},nt.__c=function(e,t){t.some(function(n){try{n.__h.forEach(Tm),n.__h=n.__h.filter(function(i){return!i.__||aS(i)})}catch(i){t.some(function(r){r.__h&&(r.__h=[])}),t=[],nt.__e(i,n.__v)}}),hR&&hR(e,t)},nt.unmount=function(e){vR&&vR(e);var t,n=e.__c;n&&n.__H&&(n.__H.__.forEach(function(i){try{Tm(i)}catch(r){t=r}}),n.__H=void 0,t&&nt.__e(t,n.__v))};var mR=typeof requestAnimationFrame=="function";function lpe(e){var t,n=function(){clearTimeout(i),mR&&cancelAnimationFrame(t),setTimeout(e)},i=setTimeout(n,100);mR&&(t=requestAnimationFrame(n))}function Tm(e){var t=pr,n=e.__c;typeof n=="function"&&(e.__c=void 0,n()),pr=t}function aS(e){var t=pr;e.__c=e.__(),pr=t}function upe(e,t){return!e||e.length!==t.length||t.some(function(n,i){return n!==e[i]})}function cpe(e,t){for(var n in t)e[n]=t[n];return e}function gR(e,t){for(var n in e)if(n!=="__source"&&!(n in t))return!0;for(var i in t)if(i!=="__source"&&e[i]!==t[i])return!0;return!1}function pR(e){this.props=e}(pR.prototype=new xs).isPureReactComponent=!0,pR.prototype.shouldComponentUpdate=function(e,t){return gR(this.props,e)||gR(this.state,t)};var _R=nt.__b;nt.__b=function(e){e.type&&e.type.__f&&e.ref&&(e.props.ref=e.ref,e.ref=null),_R&&_R(e)};var dpe=nt.__e;nt.__e=function(e,t,n,i){if(e.then){for(var r,s=t;s=s.__;)if((r=s.__c)&&r.__c)return t.__e==null&&(t.__e=n.__e,t.__k=n.__k),r.__c(e,t)}dpe(e,t,n,i)};var yR=nt.unmount;function k6(e,t,n){return e&&(e.__c&&e.__c.__H&&(e.__c.__H.__.forEach(function(i){typeof i.__c=="function"&&i.__c()}),e.__c.__H=null),(e=cpe({},e)).__c!=null&&(e.__c.__P===n&&(e.__c.__P=t),e.__c=null),e.__k=e.__k&&e.__k.map(function(i){return k6(i,t,n)})),e}function T6(e,t,n){return e&&n&&(e.__v=null,e.__k=e.__k&&e.__k.map(function(i){return T6(i,t,n)}),e.__c&&e.__c.__P===t&&(e.__e&&n.appendChild(e.__e),e.__c.__e=!0,e.__c.__P=n)),e}function pb(){this.__u=0,this.t=null,this.__b=null}function I6(e){var t=e.__.__c;return t&&t.__a&&t.__a(e)}function Kv(){this.u=null,this.o=null}nt.unmount=function(e){var t=e.__c;t&&t.__R&&t.__R(),t&&32&e.__u&&(e.type=null),yR&&yR(e)},(pb.prototype=new xs).__c=function(e,t){var n=t.__c,i=this;i.t==null&&(i.t=[]),i.t.push(n);var r=I6(i.__v),s=!1,o=function(){s||(s=!0,n.__R=null,r?r(a):a())};n.__R=o;var a=function(){if(!--i.__u){if(i.state.__a){var l=i.state.__a;i.__v.__k[0]=T6(l,l.__c.__P,l.__c.__O)}var u;for(i.setState({__a:i.__b=null});u=i.t.pop();)u.forceUpdate()}};i.__u++||32&t.__u||i.setState({__a:i.__b=i.__v.__k[0]}),e.then(o,o)},pb.prototype.componentWillUnmount=function(){this.t=[]},pb.prototype.render=function(e,t){if(this.__b){if(this.__v.__k){var n=document.createElement("div"),i=this.__v.__k[0].__c;this.__v.__k[0]=k6(this.__b,n,i.__O=i.__P)}this.__b=null}var r=t.__a&&rR(uh,null,e.fallback);return r&&(r.__u&=-33),[rR(uh,null,t.__a?null:e.children),r]};var bR=function(e,t,n){if(++n[1]===n[0]&&e.o.delete(t),e.props.revealOrder&&(e.props.revealOrder[0]!=="t"||!e.o.size))for(n=e.u;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;e.u=n=n[2]}};(Kv.prototype=new xs).__a=function(e){var t=this,n=I6(t.__v),i=t.o.get(e);return i[0]++,function(r){var s=function(){t.props.revealOrder?(i.push(r),bR(t,e,i)):r()};n?n(s):s()}},Kv.prototype.render=function(e){this.u=null,this.o=new Map;var t=Lg(e.children);e.revealOrder&&e.revealOrder[0]==="b"&&t.reverse();for(var n=t.length;n--;)this.o.set(t[n],this.u=[1,0,this.u]);return e.children},Kv.prototype.componentDidUpdate=Kv.prototype.componentDidMount=function(){var e=this;this.o.forEach(function(t,n){bR(e,n,t)})};var fpe=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,hpe=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,vpe=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,mpe=/[A-Z0-9]/g,gpe=typeof document<"u",ppe=function(e){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/:/fil|che|ra/).test(e)};xs.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(e){Object.defineProperty(xs.prototype,e,{configurable:!0,get:function(){return this["UNSAFE_"+e]},set:function(t){Object.defineProperty(this,e,{configurable:!0,writable:!0,value:t})}})});var wR=nt.event;function _pe(){}function ype(){return this.cancelBubble}function bpe(){return this.defaultPrevented}nt.event=function(e){return wR&&(e=wR(e)),e.persist=_pe,e.isPropagationStopped=ype,e.isDefaultPrevented=bpe,e.nativeEvent=e};var wpe={enumerable:!1,configurable:!0,get:function(){return this.class}},SR=nt.vnode;nt.vnode=function(e){typeof e.type=="string"&&function(t){var n=t.props,i=t.type,r={};for(var s in n){var o=n[s];if(!(s==="value"&&"defaultValue"in n&&o==null||gpe&&s==="children"&&i==="noscript"||s==="class"||s==="className")){var a=s.toLowerCase();s==="defaultValue"&&"value"in n&&n.value==null?s="value":s==="download"&&o===!0?o="":a==="ondoubleclick"?s="ondblclick":a!=="onchange"||i!=="input"&&i!=="textarea"||ppe(n.type)?a==="onfocus"?s="onfocusin":a==="onblur"?s="onfocusout":vpe.test(s)?s=a:i.indexOf("-")===-1&&hpe.test(s)?s=s.replace(mpe,"-$&").toLowerCase():o===null&&(o=void 0):a=s="oninput",a==="oninput"&&r[s=a]&&(s="oninputCapture"),r[s]=o}}i=="select"&&r.multiple&&Array.isArray(r.value)&&(r.value=Lg(n.children).forEach(function(l){l.props.selected=r.value.indexOf(l.props.value)!=-1})),i=="select"&&r.defaultValue!=null&&(r.value=Lg(n.children).forEach(function(l){l.props.selected=r.multiple?r.defaultValue.indexOf(l.props.value)!=-1:r.defaultValue==l.props.value})),n.class&&!n.className?(r.class=n.class,Object.defineProperty(r,"className",wpe)):(n.className&&!n.class||n.class&&n.className)&&(r.class=r.className=n.className),t.props=r}(e),e.$$typeof=fpe,SR&&SR(e)};var ER=nt.__r;nt.__r=function(e){ER&&ER(e),e.__c};var CR=nt.diffed;nt.diffed=function(e){CR&&CR(e);var t=e.props,n=e.__e;n!=null&&e.type==="textarea"&&"value"in t&&t.value!==n.value&&(n.value=t.value==null?"":t.value)};function G_(){throw new Error("Cycle detected")}var Spe=Symbol.for("preact-signals");function zC(){if(ec>1)ec--;else{for(var e,t=!1;uf!==void 0;){var n=uf;for(uf=void 0,lS++;n!==void 0;){var i=n.o;if(n.o=void 0,n.f&=-3,!(8&n.f)&&x6(n))try{n.c()}catch(r){t||(e=r,t=!0)}n=i}}if(lS=0,ec--,t)throw e}}var Un=void 0,uf=void 0,ec=0,lS=0,Fg=0;function A6(e){if(Un!==void 0){var t=e.n;if(t===void 0||t.t!==Un)return t={i:0,S:e,p:Un.s,n:void 0,t:Un,e:void 0,x:void 0,r:t},Un.s!==void 0&&(Un.s.n=t),Un.s=t,e.n=t,32&Un.f&&e.S(t),t;if(t.i===-1)return t.i=0,t.n!==void 0&&(t.n.p=t.p,t.p!==void 0&&(t.p.n=t.n),t.p=Un.s,t.n=void 0,Un.s.n=t,Un.s=t),t}}function Ii(e){this.v=e,this.i=0,this.n=void 0,this.t=void 0}Ii.prototype.brand=Spe;Ii.prototype.h=function(){return!0};Ii.prototype.S=function(e){this.t!==e&&e.e===void 0&&(e.x=this.t,this.t!==void 0&&(this.t.e=e),this.t=e)};Ii.prototype.U=function(e){if(this.t!==void 0){var t=e.e,n=e.x;t!==void 0&&(t.x=n,e.e=void 0),n!==void 0&&(n.e=t,e.x=void 0),e===this.t&&(this.t=n)}};Ii.prototype.subscribe=function(e){var t=this;return qC(function(){var n=t.value,i=32&this.f;this.f&=-33;try{e(n)}finally{this.f|=i}})};Ii.prototype.valueOf=function(){return this.value};Ii.prototype.toString=function(){return this.value+""};Ii.prototype.toJSON=function(){return this.value};Ii.prototype.peek=function(){return this.v};Object.defineProperty(Ii.prototype,"value",{get:function(){var e=A6(this);return e!==void 0&&(e.i=this.i),this.v},set:function(e){if(Un instanceof Ua&&function(){throw new Error("Computed cannot have side-effects")}(),e!==this.v){lS>100&&G_(),this.v=e,this.i++,Fg++,ec++;try{for(var t=this.t;t!==void 0;t=t.x)t.t.N()}finally{zC()}}}});function P6(e){return new Ii(e)}function x6(e){for(var t=e.s;t!==void 0;t=t.n)if(t.S.i!==t.i||!t.S.h()||t.S.i!==t.i)return!0;return!1}function D6(e){for(var t=e.s;t!==void 0;t=t.n){var n=t.S.n;if(n!==void 0&&(t.r=n),t.S.n=t,t.i=-1,t.n===void 0){e.s=t;break}}}function R6(e){for(var t=e.s,n=void 0;t!==void 0;){var i=t.p;t.i===-1?(t.S.U(t),i!==void 0&&(i.n=t.n),t.n!==void 0&&(t.n.p=i)):n=t,t.S.n=t.r,t.r!==void 0&&(t.r=void 0),t=i}e.s=n}function Ua(e){Ii.call(this,void 0),this.x=e,this.s=void 0,this.g=Fg-1,this.f=4}(Ua.prototype=new Ii).h=function(){if(this.f&=-3,1&this.f)return!1;if((36&this.f)==32||(this.f&=-5,this.g===Fg))return!0;if(this.g=Fg,this.f|=1,this.i>0&&!x6(this))return this.f&=-2,!0;var e=Un;try{D6(this),Un=this;var t=this.x();(16&this.f||this.v!==t||this.i===0)&&(this.v=t,this.f&=-17,this.i++)}catch(n){this.v=n,this.f|=16,this.i++}return Un=e,R6(this),this.f&=-2,!0};Ua.prototype.S=function(e){if(this.t===void 0){this.f|=36;for(var t=this.s;t!==void 0;t=t.n)t.S.S(t)}Ii.prototype.S.call(this,e)};Ua.prototype.U=function(e){if(this.t!==void 0&&(Ii.prototype.U.call(this,e),this.t===void 0)){this.f&=-33;for(var t=this.s;t!==void 0;t=t.n)t.S.U(t)}};Ua.prototype.N=function(){if(!(2&this.f)){this.f|=6;for(var e=this.t;e!==void 0;e=e.x)e.t.N()}};Ua.prototype.peek=function(){if(this.h()||G_(),16&this.f)throw this.v;return this.v};Object.defineProperty(Ua.prototype,"value",{get:function(){1&this.f&&G_();var e=A6(this);if(this.h(),e!==void 0&&(e.i=this.i),16&this.f)throw this.v;return this.v}});function Epe(e){return new Ua(e)}function O6(e){var t=e.u;if(e.u=void 0,typeof t=="function"){ec++;var n=Un;Un=void 0;try{t()}catch(i){throw e.f&=-2,e.f|=8,GC(e),i}finally{Un=n,zC()}}}function GC(e){for(var t=e.s;t!==void 0;t=t.n)t.S.U(t);e.x=void 0,e.s=void 0,O6(e)}function Cpe(e){if(Un!==this)throw new Error("Out-of-order effect");R6(this),Un=e,this.f&=-2,8&this.f&&GC(this),zC()}function Xh(e){this.x=e,this.u=void 0,this.s=void 0,this.o=void 0,this.f=32}Xh.prototype.c=function(){var e=this.S();try{if(8&this.f||this.x===void 0)return;var t=this.x();typeof t=="function"&&(this.u=t)}finally{e()}};Xh.prototype.S=function(){1&this.f&&G_(),this.f|=1,this.f&=-9,O6(this),D6(this),ec++;var e=Un;return Un=this,Cpe.bind(this,e)};Xh.prototype.N=function(){2&this.f||(this.f|=2,this.o=uf,uf=this)};Xh.prototype.d=function(){this.f|=8,1&this.f||GC(this)};function qC(e){var t=new Xh(e);try{t.c()}catch(n){throw t.d(),n}return t.d.bind(t)}var _b;function rd(e,t){nt[e]=t.bind(null,nt[e]||function(){})}function $g(e){_b&&_b(),_b=e&&e.S()}function V6(e){var t=this,n=e.data,i=Tpe(n);i.value=n;var r=C6(function(){for(var s=t.__v;s=s.__;)if(s.__c){s.__c.__$f|=4;break}return t.__$u.c=function(){var o;!v6(r.peek())&&((o=t.base)==null?void 0:o.nodeType)===3?t.base.data=r.peek():(t.__$f|=1,t.setState({}))},Epe(function(){var o=i.value.value;return o===0?0:o===!0?"":o||""})},[]);return r.value}V6.displayName="_st";Object.defineProperties(Ii.prototype,{constructor:{configurable:!0,value:void 0},type:{configurable:!0,value:V6},props:{configurable:!0,get:function(){return{data:this}}},__b:{configurable:!0,value:1}});rd("__b",function(e,t){if(typeof t.type=="string"){var n,i=t.props;for(var r in i)if(r!=="children"){var s=i[r];s instanceof Ii&&(n||(t.__np=n={}),n[r]=s,i[r]=s.peek())}}e(t)});rd("__r",function(e,t){$g();var n,i=t.__c;i&&(i.__$f&=-2,(n=i.__$u)===void 0&&(i.__$u=n=function(r){var s;return qC(function(){s=this}),s.c=function(){i.__$f|=1,i.setState({})},s}())),$g(n),e(t)});rd("__e",function(e,t,n,i){$g(),e(t,n,i)});rd("diffed",function(e,t){$g();var n;if(typeof t.type=="string"&&(n=t.__e)){var i=t.__np,r=t.props;if(i){var s=n.U;if(s)for(var o in s){var a=s[o];a!==void 0&&!(o in i)&&(a.d(),s[o]=void 0)}else n.U=s={};for(var l in i){var u=s[l],d=i[l];u===void 0?(u=kpe(n,l,d,r),s[l]=u):u.o(d,r)}}}e(t)});function kpe(e,t,n,i){var r=t in e&&e.ownerSVGElement===void 0,s=P6(n);return{o:function(o,a){s.value=o,i=a},d:qC(function(){var o=s.value.value;i[t]!==o&&(i[t]=o,r?e[t]=o:o?e.setAttribute(t,o):e.removeAttribute(t))})}}rd("unmount",function(e,t){if(typeof t.type=="string"){var n=t.__e;if(n){var i=n.U;if(i){n.U=void 0;for(var r in i){var s=i[r];s&&s.d()}}}}else{var o=t.__c;if(o){var a=o.__$u;a&&(o.__$u=void 0,a.d())}}e(t)});rd("__h",function(e,t,n,i){(i<3||i===9)&&(t.__$f|=2),e(t,n,i)});xs.prototype.shouldComponentUpdate=function(e,t){var n=this.__$u;if(!(n&&n.s!==void 0||4&this.__$f)||3&this.__$f)return!0;for(var i in t)return!0;for(var r in e)if(r!=="__source"&&e[r]!==this.props[r])return!0;for(var s in this.props)if(!(s in e))return!0;return!1};function Tpe(e){return C6(function(){return P6(e)},[])}spe({});var kR;(function(e){e.MONTH_DAYS="month-days",e.YEARS="years"})(kR||(kR={}));var uS;(function(e){e[e.SUNDAY=0]="SUNDAY",e[e.MONDAY=1]="MONDAY",e[e.TUESDAY=2]="TUESDAY",e[e.WEDNESDAY=3]="WEDNESDAY",e[e.THURSDAY=4]="THURSDAY",e[e.FRIDAY=5]="FRIDAY",e[e.SATURDAY=6]="SATURDAY"})(uS||(uS={}));uS.MONDAY;var TR;(function(e){e[e.JANUARY=0]="JANUARY",e[e.FEBRUARY=1]="FEBRUARY",e[e.MARCH=2]="MARCH",e[e.APRIL=3]="APRIL",e[e.MAY=4]="MAY",e[e.JUNE=5]="JUNE",e[e.JULY=6]="JULY",e[e.AUGUST=7]="AUGUST",e[e.SEPTEMBER=8]="SEPTEMBER",e[e.OCTOBER=9]="OCTOBER",e[e.NOVEMBER=10]="NOVEMBER",e[e.DECEMBER=11]="DECEMBER"})(TR||(TR={}));var il;(function(e){e.SLASH="/",e.DASH="-",e.PERIOD="."})(il||(il={}));var rl;(function(e){e.DMY="DMY",e.MDY="MDY",e.YMD="YMD"})(rl||(rl={}));il.SLASH,rl.MDY,il.SLASH,rl.DMY,il.SLASH,rl.YMD,il.PERIOD,rl.DMY,il.DASH,rl.YMD;var IR;(function(e){e.TOP_START="top-start",e.TOP_END="top-end",e.BOTTOM_START="bottom-start",e.BOTTOM_END="bottom-end"})(IR||(IR={}));const N6=At({__name:"EditLessonTime",props:{startTime:{},endTime:{},minutesOfLesson:{default:60}},emits:["close","save"],setup(e,{emit:t}){const n=e,i=t,r=W(!1),s=W(!1),o=W(!0),a=is({startTime:Mn().required("L'Orario di inizio Lezione è obbligatorio").label("Orario di inizio Lezione"),endTime:Mn().required("L'Orario di fine Lezione è obbligatorio").label("Orario di fine Lezione")}),{defineField:l,handleSubmit:u}=ka({validationSchema:a}),d=b=>({props:{"error-messages":b.errors}}),[c,f]=l("startTime",d),[v,m]=l("endTime",d),p=u(async b=>{var C,k;if((((C=Mt.fromHHMM(c.value))==null?void 0:C.getTotalMinutes())??0)>(((k=Mt.fromHHMM(v.value))==null?void 0:k.getTotalMinutes())??0)){Xe.warning("L'orario di inizio lezione deve essere antecedente all'orario di fine lezione");return}i("save",{...b})},b=>{Xe.warn("Ci sono alcuni errori! Inserisci correttamente i dati"),console.log(b)});ge(n,()=>_(),{immediate:!0}),ge(c,()=>y()),ge(o,()=>y());function _(){n.startTime&&(c.value=n.startTime),n.endTime&&(v.value=n.endTime),y()}function y(){if(o.value&&n.minutesOfLesson!=null){const b=Mt.fromHHMM(c.value);if(!b)return;v.value=Mt.fromITime((b.getTotalMinutes()+n.minutesOfLesson)*60).format()}}return(b,C)=>{const k=U("v-checkbox"),R=U("v-col"),O=U("v-time-picker"),x=U("v-dialog"),S=U("v-text-field"),w=U("v-row"),E=U("v-card-text"),A=U("v-spacer"),P=U("v-btn"),D=U("v-card-actions"),B=U("v-card");return ye(),Me(B,{title:"Modifica orario lezione",elevation:"2"},{default:N(()=>[h(E,null,{default:N(()=>[h(w,{justify:"space-around"},{default:N(()=>[h(R,{cols:"11",md:"6"},{default:N(()=>[h(k,{modelValue:o.value,"onUpdate:modelValue":C[0]||(C[0]=$=>o.value=$),label:"Allinea la data di fine lezione in base alla durata della lezione definita dallo studente"},null,8,["modelValue"])]),_:1}),h(R,{cols:"11",sm:"5"},{default:N(()=>[h(S,Z({modelValue:oe(c),"onUpdate:modelValue":C[3]||(C[3]=$=>Je(c)?c.value=$:null),active:r.value,focus:r.value,label:"Data di inizio"},oe(f),{"prepend-icon":"mdi-clock-time-four-outline",readonly:""}),{default:N(()=>[h(x,{modelValue:r.value,"onUpdate:modelValue":C[2]||(C[2]=$=>r.value=$),activator:"parent",width:"auto"},{default:N(()=>[r.value?(ye(),Me(O,{key:0,format:"24hr",modelValue:oe(c),"onUpdate:modelValue":C[1]||(C[1]=$=>Je(c)?c.value=$:null)},null,8,["modelValue"])):Jt("",!0)]),_:1},8,["modelValue"])]),_:1},16,["modelValue","active","focus"])]),_:1}),h(R,{cols:"11",sm:"5"},{default:N(()=>[h(S,Z({modelValue:oe(v),"onUpdate:modelValue":C[6]||(C[6]=$=>Je(v)?v.value=$:null),active:s.value,focused:s.value,label:"Data di fine"},oe(m),{"prepend-icon":"mdi-clock-time-four-outline",disabled:o.value,readonly:""}),{default:N(()=>[h(x,{modelValue:s.value,"onUpdate:modelValue":C[5]||(C[5]=$=>s.value=$),activator:"parent",width:"auto"},{default:N(()=>[s.value?(ye(),Me(O,{key:0,format:"24hr",modelValue:oe(v),"onUpdate:modelValue":C[4]||(C[4]=$=>Je(v)?v.value=$:null)},null,8,["modelValue"])):Jt("",!0)]),_:1},8,["modelValue"])]),_:1},16,["modelValue","active","focused","disabled"])]),_:1})]),_:1})]),_:1}),h(D,null,{default:N(()=>[h(A),h(P,{text:"Annulla",variant:"plain",onClick:C[7]||(C[7]=Tl($=>i("close"),["stop"]))}),h(P,{color:"primary",text:"Modifica",variant:"tonal",onClick:Tl(oe(p),["stop"])},null,8,["onClick"])]),_:1})]),_:1})}}}),Ipe=At({__name:"DailyLessonCalendar",props:tc({date:{default:()=>pt.today()},editable:{type:Boolean,default:!1},showDay:{type:Boolean,default:!1},sort:{type:Boolean,default:!1}},{modelValue:{default:[]},modelModifiers:{}}),emits:tc(["edit"],["update:modelValue"]),setup(e,{emit:t}){const n=e,i=t,r=nc(e,"modelValue"),s=W([]),o=W(!1);ge(r,()=>c(),{deep:!0});const a=d6(),l=c6(),u=Sge(15),d=B4({locale:"it-IT",selectedDate:n.date.toIyyyyMMdd("-"),views:[J4()],events:[],plugins:n.editable?[u,a,l]:[u,a],callbacks:{onEventUpdate(y){const b=s.value.find(C=>C.id==y.id);b&&(b.start=y.start,b.end=y.end,m(y))}}});function c(){s.value=f(),s.value.forEach(y=>{y._options||(y._options={}),y._options.disableDND=!n.editable,a.get(y.id)?a.update(y):a.add(y)}),console.log("updateInternalEvents",a.getAll(),n.date),a.getAll().forEach(y=>{s.value.findIndex(C=>C.id==y.id)==-1&&a.remove(y.id)})}function f(){const y=n.date.toIyyyyMMdd("-");return r.value.map(b=>"lessonId"in b?(console.log(b),{id:b.lessonId,start:y+" "+Mt.fromITime(b.startTime).format(),end:y+" "+Mt.fromITime(b.endTime).format(),title:`${b.name} ${b.surname} - ${Mr[b.lessonDay??0]}`,data:{...b}}):b)}function v(y,b){var x,S;if(!y)return;const C=s.value.find(w=>w.id==y.id);if(!C)return;const k={...y},R=(x=k.start)==null?void 0:x.split(" "),O=(S=k.end)==null?void 0:S.split(" ");C.start=R[0]+" "+b.startTime,C.end=O[0]+" "+b.endTime,m(C),o.value=!1}function m(y){var C,k;const b=r.value.find(R=>"lessonId"in R?R.lessonId==y.id:R.id==y.id);b&&("lessonId"in b?(b.startTime=((C=Mt.fromHHMM(y.start.split(" ")[1]))==null?void 0:C.toITime())??b.startTime,b.endTime=((k=Mt.fromHHMM(y.end.split(" ")[1]))==null?void 0:k.toITime())??b.endTime):(b.start=y.start,b.end=y.end),n.sort&&r.value.sort((R,O)=>R.startTime-O.startTime),i("edit"))}function p(){const y=document.getElementsByClassName("sx__calendar-header")[0];y.style.display=y.style.display=="none"?"":"none",_()}function _(y=0){const b=document.getElementsByClassName("sx__week-header")[0];b?b.style.display=n.showDay?"":"none":y>=10?console.error("Unable to hide day header"):setTimeout(()=>_(y+1),10)}return bt(()=>{p(),c()}),(y,b)=>{const C=U("v-spacer"),k=U("v-btn"),R=U("v-dialog"),O=U("v-card-actions"),x=U("v-card"),S=U("v-container");return ye(),Me(S,null,{default:N(()=>[h(oe(f6),{"calendar-app":oe(d)},{eventModal:N(({calendarEvent:w})=>[h(x,{elevation:"3",title:w.title,subtitle:w.start.split(" ")[1]+" - "+w.end.split(" ")[1],text:w.description},{default:N(()=>[h(O,null,{default:N(()=>[h(C),h(R,{modelValue:o.value,"onUpdate:modelValue":b[2]||(b[2]=E=>o.value=E),transition:"dialog-bottom-transition"},{activator:N(({props:E})=>[h(k,{text:"Chiudi",onClick:b[0]||(b[0]=A=>oe(l).close())}),h(k,Z({text:"Modifica",color:"primary"},E,{onClick:b[1]||(b[1]=Tl(()=>{},["stop"]))}),null,16)]),default:N(({isActive:E})=>{var A,P;return[h(N6,{onClose:D=>E.value=!1,onSave:D=>v(w,D),startTime:(A=w.start)==null?void 0:A.split(" ")[1],endTime:(P=w.end)==null?void 0:P.split(" ")[1],minutesOfLesson:w.data.minutesLessonDuration},null,8,["onClose","onSave","startTime","endTime","minutesOfLesson"])]}),_:2},1032,["modelValue"])]),_:2},1024)]),_:2},1032,["title","subtitle","text"])]),_:1},8,["calendar-app"])]),_:1})}}}),YC=(e,t)=>{const n=e.__vccOpts||e;for(const[i,r]of t)n[i]=r;return n},KC=YC(Ipe,[["__scopeId","data-v-a762334b"]]),Ape={key:1,class:"text-grey text-caption align-self-center"},AR=At({__name:"WeekLessonEditor",props:{school:{default:()=>({id:"1"})},edit:{type:Boolean},initialWeekLesson:{}},emits:["close","save"],setup(e,{emit:t}){const n=t,i=e,r=[];let s;const o=W([]),a=W([]),l=W([]),u=W([]),d=W(!1),c=W(!1),f=W(!1),v=is({dayOfWeek:Mn().required("Il Giorno è obbligatorio").label("Giorno"),from:Ju().required("La Data di Inizio delle lezioni settimanali è obbligatoria").label("Dal"),to:Ju().required("La Data di Fine delle lezioni settimanali è obbligatoria").label("Al"),excludeDates:W_().of(Ju()).label("Giorni da Escludere").nullable().optional(),startingTime:Mn().required("L'Orario della prima Lezione è obbligatorio").label("Orario della prima Lezione")}),{defineField:m,handleSubmit:p}=ka({validationSchema:v}),_=G=>({props:{"error-messages":G.errors}}),[y,b]=m("dayOfWeek",_),[C,k]=m("from",_),[R,O]=m("to",_),[x,S]=m("excludeDates",_),[w,E]=m("startingTime",_);let A=!1;const P=W([]),D=p(async G=>{ue()},G=>{Xe.warn("Ci sono alcuni errori! Inserisci correttamente i dati"),console.log(G)});ge(()=>i.initialWeekLesson,()=>z()),ge(y,()=>ne()),ge(C,()=>ne()),ge(R,()=>ne()),ge(u,()=>Y()),ge(w,()=>{H(),A=!1}),ge(y,async()=>await se()),ge(P,()=>q(),{deep:!0});const B=I(()=>u.value.length===l.value.length),$=I(()=>u.value.length>0);function j(){B.value?u.value=[]:u.value=l.value.slice()}function Y(){var G;for(const ie of u.value)if(o.value.findIndex(ee=>ee.studentId===ie.id)===-1){const ee=o.value.reduce((M,L)=>L.endTime>M?L.endTime:M,((G=Mt.fromHHMM(w.value))==null?void 0:G.getTotalMinutes())??0),X=ie.minutesLessonDuration||0,_e=ee+X*60;o.value.push({lessonId:Zu(),studentId:ie.id,startTime:ee,endTime:_e})}for(const ie of[...o.value])if(u.value.findIndex(ee=>ee.id==ie.studentId)==-1){const ee=o.value.indexOf(ie);o.value.splice(ee,1)}H()}function H(){var ie;if(!A&&o.value.length>0){o.value.sort((X,_e)=>X.startTime-_e.startTime);const ee=(((ie=Mt.fromHHMM(w.value))==null?void 0:ie.getTotalMinutes())??0)*60-o.value[0].startTime;o.value.forEach(X=>{X.startTime+=ee,X.endTime+=ee})}const G=pt.today();P.value=o.value.map(Q=>{const ee=be(Q.studentId);return{id:Q.lessonId,start:G.toIyyyyMMdd("-")+" "+Mt.fromITime(Q.startTime).format(),end:G.toIyyyyMMdd("-")+" "+Mt.fromITime(Q.endTime).format(),title:`${Ae(Q.studentId)} - ${Ne(Q.studentId)}`,data:{...Q,...ee}}})}function q(){o.value=P.value.map(G=>{const ie=G.start.split(" ")[1],Q=G.end.split(" ")[1];return{lessonId:G.data.lessonId,startTime:Mt.fromHHMM(ie).toITime(),endTime:Mt.fromHHMM(Q).toITime(),studentId:G.data.studentId}})}function z(){if(i.initialWeekLesson){const G=JSON.parse(JSON.stringify(i.initialWeekLesson));y.value=Mr[G.dayOfWeek],C.value=pt.fromIyyyyMMdd(G.from).toDate(),R.value=pt.fromIyyyyMMdd(G.to).toDate(),x.value=G.exclude.map(Q=>pt.fromIyyyyMMdd(Q).toDate()),o.value=G.schedule;const ie=o.value.map(Q=>Q.studentId);if(u.value=l.value.filter(Q=>ie.includes(Q.id)),o.value.length>0){A=!0;const Q=o.value[0].startTime;w.value=Mt.fromITime(Q).format()}}}function ne(){if(y.value===void 0||C.value===void 0||R.value===void 0)return;a.value=[];const G=Mr.indexOf(y.value);let ie=new Date(C.value);for(;ie<=R.value;){if(ie.getDay()===G){const Q=new Date(ie);a.value.push({name:A1(Q),value:Q})}ie.setDate(ie.getDate()+1)}}async function ue(G){var Q,ee,X;c.value=!0;const ie={schoolId:i.school.id,dayOfWeek:Mr.indexOf(y.value),from:pt.fromDate(C.value).toIyyyyMMdd(),to:pt.fromDate(R.value).toIyyyyMMdd(),exclude:((Q=x.value)==null?void 0:Q.map(_e=>pt.fromDate(_e).toIyyyyMMdd()))??[],schedule:o.value.sort((_e,M)=>_e.startTime-M.startTime),createdAt:i.edit?(ee=i.initialWeekLesson)==null?void 0:ee.createdAt:St.now(),updatedAt:St.now()};try{i.edit&&((X=i.initialWeekLesson)==null?void 0:X.id)!=null?(await Ps.instance.save(ie,i.initialWeekLesson.id),Xe.success("Lezione Settimanale Aggiornata")):(await Ps.instance.save(ie),Xe.success("Lezione Settimanale Creata")),n("save",ie)}catch(_e){n("save"),Xe.error("Errore durante il salvataggio"),console.error("Error adding document (schools): ",_e)}finally{c.value=!1}}function be(G){return l.value.find(ie=>ie.id==G)}function Ae(G){let ie;return typeof G=="string"?ie=be(G):ie=G,`${ie==null?void 0:ie.name} ${ie==null?void 0:ie.surname}`}function Ne(G){let ie;return typeof G=="string"?ie=be(G):ie=G,Mr[(ie==null?void 0:ie.lessonDay)??0]}async function se(){s==null||s.unsubscribe(),f.value=!0;const G=new Promise((ie,Q)=>{s=Ao.instance.observeStudentsOfSchool(i.school.id).subscribe({next:ee=>{l.value=ee,f.value=!1,ie()},error:ee=>{f.value=!1,Q(ee)}})});r.push(s),await G}return Ar(()=>{r.forEach(G=>G.unsubscribe())}),bt(async()=>{await se(),z()}),(G,ie)=>{const Q=U("v-select"),ee=U("v-col"),X=U("v-row"),_e=U("v-date-input"),M=U("v-chip"),L=U("v-time-picker"),J=U("v-dialog"),ce=U("v-text-field"),ae=U("v-checkbox-btn"),me=U("v-list-item"),Pe=U("v-divider"),we=U("v-form"),De=U("v-card-text"),Se=U("v-spacer"),ze=U("v-btn"),Le=U("v-card-actions"),He=U("v-card");return ye(),Me(He,{title:"Lezione Settimanale"},{default:N(()=>[h(De,null,{default:N(()=>[h(we,{class:"ma-2"},{default:N(()=>[h(X,{class:"my-1 justify-center"},{default:N(()=>[h(ee,{class:"px-2"},{default:N(()=>[h(Q,Z({modelValue:oe(y),"onUpdate:modelValue":ie[0]||(ie[0]=Ve=>Je(y)?y.value=Ve:null)},oe(b),{items:oe(Mr),label:"Giorno",required:""}),null,16,["modelValue","items"])]),_:1})]),_:1}),h(X,{class:"my-1 justify-center"},{default:N(()=>[h(ee,{class:"px-2",cols:"12",md:"4"},{default:N(()=>[h(_e,Z({max:oe(R),modelValue:oe(C),"onUpdate:modelValue":ie[1]||(ie[1]=Ve=>Je(C)?C.value=Ve:null)},oe(k),{label:"Dal",inputmode:"none"}),null,16,["max","modelValue"])]),_:1}),h(ee,{class:"px-2",cols:"12",md:"4"},{default:N(()=>[h(_e,Z({min:oe(C),modelValue:oe(R),"onUpdate:modelValue":ie[2]||(ie[2]=Ve=>Je(R)?R.value=Ve:null)},oe(O),{label:"Al",inputmode:"none"}),null,16,["min","modelValue"])]),_:1}),h(ee,{class:"px-2",cols:"12",md:"4"},{default:N(()=>[h(Q,Z({modelValue:oe(x),"onUpdate:modelValue":ie[3]||(ie[3]=Ve=>Je(x)?x.value=Ve:null)},oe(S),{items:a.value,label:"Giorni da Escludere",multiple:"","item-title":"name","item-value":"value","no-data-text":"Nessuna Data Disponibile",clearable:""}),{selection:N(({item:Ve,index:tt})=>[tt<2?(ye(),Me(M,{key:0},{default:N(()=>[it("span",null,ht(Ve.title),1)]),_:2},1024)):Jt("",!0),tt===2?(ye(),wt("span",Ape," (+"+ht(oe(x).length-2)+" others) ",1)):Jt("",!0)]),_:1},16,["modelValue","items"])]),_:1})]),_:1}),h(X,{class:"my-1 justify-center"},{default:N(()=>[h(ee,{class:"px-2",cols:"12",md:"6"},{default:N(()=>[h(ce,Z({modelValue:oe(w),"onUpdate:modelValue":ie[6]||(ie[6]=Ve=>Je(w)?w.value=Ve:null)},oe(E),{active:d.value,focused:d.value,inputmode:"none",label:"Orario della prima Lezione","prepend-icon":"mdi-clock-time-four-outline",readonly:""}),{default:N(()=>[h(J,{modelValue:d.value,"onUpdate:modelValue":ie[5]||(ie[5]=Ve=>d.value=Ve),activator:"parent",width:"auto"},{default:N(()=>[d.value?(ye(),Me(L,{key:0,modelValue:oe(w),"onUpdate:modelValue":ie[4]||(ie[4]=Ve=>Je(w)?w.value=Ve:null),format:"24hr"},null,8,["modelValue"])):Jt("",!0)]),_:1},8,["modelValue"])]),_:1},16,["modelValue","active","focused"])]),_:1}),h(ee,{class:"px-2",cols:"12",md:"6"},{default:N(()=>[h(Q,{modelValue:u.value,"onUpdate:modelValue":ie[7]||(ie[7]=Ve=>u.value=Ve),items:l.value,label:"Studenti","item-title":"name","item-value":"id","return-object":!0,multiple:"","no-data-text":"Nessuno studente disponibile per questa scuola"},RS({_:2},[l.value.length>1?{name:"prepend-item",fn:N(()=>[h(me,{title:"Seleziona tutti",onClick:j},{prepend:N(()=>[h(ae,{color:$.value?"indigo-darken-4":void 0,indeterminate:$.value&&!B.value,"model-value":B.value},null,8,["color","indeterminate","model-value"])]),_:1}),h(Pe,{class:"mt-2"})]),key:"0"}:void 0]),1032,["modelValue","items"])]),_:1})]),_:1})]),_:1}),h(KC,{modelValue:P.value,"onUpdate:modelValue":ie[8]||(ie[8]=Ve=>P.value=Ve),editable:""},null,8,["modelValue"])]),_:1}),h(Le,null,{default:N(()=>[h(Se),h(ze,{text:"Chiudi",onClick:ie[9]||(ie[9]=Ve=>n("close"))}),h(ze,{text:"Salva",color:"primary",onClick:oe(D),loading:c.value},null,8,["onClick","loading"])]),_:1})]),_:1})}}}),Ppe={key:1},xpe=At({__name:"CalendarLessonEditor",props:{school:{}},emits:["close"],setup(e,{emit:t}){const n=e,i=t,r=[],s=W([]),o=W(!1),a=W(!1),l=W([]),u=W(!1);async function d(m){if(!m)return!1;try{return await Ps.instance.delete(m.id),!0}catch{return!1}}async function c(){o.value=!0;const m=lh.instance.observeWeekLessonOfSchool(n.school.id).subscribe({next:p=>{s.value=p,o.value=!1},error:p=>o.value=!1});r.push(m)}async function f(){a.value=!0;const m=Ao.instance.observeStudentsOfSchool(n.school.id).subscribe({next:p=>{l.value=p,a.value=!1},error:p=>a.value=!1});r.push(m)}function v(m){const p=l.value.find(_=>_.id==m);return`${p==null?void 0:p.name} ${p==null?void 0:p.surname}`}return bt(async()=>{await f(),await c()}),Ar(()=>{r.forEach(m=>m.unsubscribe())}),(m,p)=>{const _=U("v-btn"),y=U("v-dialog"),b=U("v-col"),C=U("v-row"),k=U("v-expansion-panel-title"),R=U("v-list-item"),O=U("v-list"),x=U("v-expansion-panel-text"),S=U("v-expansion-panel"),w=U("v-expansion-panels"),E=U("v-card-text"),A=U("v-spacer"),P=U("v-card-actions"),D=U("v-card");return ye(),Me(D,{title:"Calendario",loading:o.value||a.value},{append:N(()=>[h(y,{modelValue:u.value,"onUpdate:modelValue":p[2]||(p[2]=B=>u.value=B),transition:"dialog-bottom-transition",fullscreen:""},{activator:N(({props:B})=>[h(_,Z({icon:"mdi-plus"},B,{variant:"text"}),null,16)]),default:N(()=>[h(AR,{school:m.school,onClose:p[0]||(p[0]=B=>u.value=!1),onSave:p[1]||(p[1]=B=>B?u.value=!1:null)},null,8,["school"])]),_:1},8,["modelValue"])]),default:N(()=>[h(E,null,{default:N(()=>[h(w,null,{default:N(()=>[(ye(!0),wt(Te,null,Si(s.value,B=>(ye(),Me(S,{key:B.id},{default:N(()=>[h(k,null,{default:N(()=>[h(C,{"no-gutters":""},{default:N(()=>[h(b,{class:"d-flex justify-start",cols:"5"},{default:N(()=>[it("span",null,[p[5]||(p[5]=Ie("Tutti i ")),it("b",null,ht(oe(Mr)[B.dayOfWeek]),1)])]),_:2},1024),h(b,{class:"text-grey",cols:"5"},{default:N(()=>[Ie(" Dal "+ht(oe(pt).fromIyyyyMMdd(B.from).format())+" al "+ht(oe(pt).fromIyyyyMMdd(B.to).format()),1)]),_:2},1024),h(b,{cols:"1"},{default:N(()=>[h(y,{transition:"dialog-bottom-transition",fullscreen:""},{activator:N(({props:$})=>[h(_,Z({icon:"mdi-pencil",variant:"text",onClick:p[3]||(p[3]=Tl(j=>console.log("edit"),["stop"])),ref_for:!0},$),null,16)]),default:N(({isActive:$})=>[h(AR,{school:m.school,initialWeekLesson:B,edit:"",onClose:j=>$.value=!1,onSave:j=>j?$.value=!1:null},null,8,["school","initialWeekLesson","onClose","onSave"])]),_:2},1024)]),_:2},1024),h(b,{cols:"1"},{default:N(()=>[h(Yh,{name:"Tutti i "+oe(Mr)[B.dayOfWeek],objName:"Lezione Programmata",onDelete:async()=>await d(B)},{activator:N(({props:$})=>[h(_,Z({icon:"mdi-delete",variant:"text",ref_for:!0},$),null,16)]),_:2},1032,["name","onDelete"])]),_:2},1024)]),_:2},1024)]),_:2},1024),h(x,null,{default:N(()=>[B.schedule.length>0?(ye(),Me(O,{key:0},{default:N(()=>[(ye(!0),wt(Te,null,Si(B.schedule,$=>(ye(),Me(R,{key:$.studentId,value:$,color:"primary"},{prepend:N(()=>[it("p",null,[it("b",null,ht(oe(Mt).fromITime($.startTime).format())+" - "+ht(oe(Mt).fromITime($.endTime).format()),1),p[6]||(p[6]=it("span",null," - ",-1)),it("i",null,ht(v($.studentId)),1)])]),_:2},1032,["value"]))),128))]),_:2},1024)):(ye(),wt("span",Ppe,"Nessuna lezione programmata"))]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1}),h(P,null,{default:N(()=>[h(A),h(_,{text:"Chiudi",onClick:p[4]||(p[4]=B=>i("close"))})]),_:1})]),_:1},8,["loading"])}}}),Jg=class Jg{constructor(){An(this,"today")}static get instance(){return this._instance||(this._instance=new Jg),this._instance}calculateToday(){const t=new Date(new Date().toDateString()),n=pt.fromDate(t);this.today={asDate:t,asString:n.toIyyyyMMdd(),asyyyyMMdd:n,asIyyyyMMdd:n.toIyyyyMMdd()}}async getCalendarLessons(t,n,i){const r=[],s=await ar.instance.getDailyLessonOfSchoolBetweenDate(t,n.date.toIyyyyMMdd(),i.date.toIyyyyMMdd());r.push(...s.flatMap(f=>{const v=pt.fromIyyyyMMdd(f.date).toIyyyyMMdd("-",1);return f.lessons.map(m=>({id:f.id+"_"+m.lessonId,title:m.studentId,start:v+" "+Mt.fromITime(m.startTime).format(),end:v+" "+Mt.fromITime(m.endTime).format(),data:{date:v,dailyLessonId:f.id}}))}));const o=xn(Cn("schoolId"),"==",t),a=xn(Cn("from"),"<=",i.date.toIyyyyMMdd()),l=xn(Cn("to"),">=",n.date.toIyyyyMMdd()),u=await Ps.instance.getAll(o,a,l),d=i.date.toDate(),c=n.date.toDate();for(;c<=d&&u.length>0;)u.forEach(f=>{const v=VP(c,f.dayOfWeek);if(v>d||v>pt.fromIyyyyMMdd(f.to).toDate()||v<pt.fromIyyyyMMdd(f.from).toDate())return;const m=pt.fromDate(v).toIyyyyMMdd("-",1);r.find(p=>{var _;return((_=p.data)==null?void 0:_.date)==m})||r.push(...f.schedule.map(p=>({id:Zu(),title:p.studentId,start:m+" "+Mt.fromITime(p.startTime).format(),end:m+" "+Mt.fromITime(p.endTime).format()})))}),c.setDate(c.getDate()+7);return r}async getGroupedLessons(t){const n=[];return this.calculateToday(),await this.addLastLessons(t,n,2),this.addUpcomingLessons(t.dailyLessons,t.weeklyLessons,n,4),this.groupLessonsByMonth(n)}async addLastLessons(t,n,i){const r=t.dailyLessons,s=t.weeklyLessons,o=r.filter(d=>d.date<=this.today.asString);o.sort((d,c)=>c.date.localeCompare(d.date)),o.slice(0,i).reverse().forEach(d=>{n.push(this.createLessonProjection(d,!1))});const l=new Date,u=[...s];for(;n.length<i&&u.length>0;)u.forEach(async(d,c)=>{if(n.length>=i)return;const f=Oee(l,d.dayOfWeek),v=pt.fromDate(f),m=v.toIyyyyMMdd();if(d.from>m||m>d.to){u.splice(c,1);return}d.exclude.includes(m)||n.some(p=>p.date.equals(v))||n.push({date:v,pending:!0,next:!1,lessons:d.schedule})}),l.setDate(l.getDate()-7)}addUpcomingLessons(t,n,i,r){const s=new Date,o=i.length+r,a=t.filter(d=>d.date>this.today.asString).sort((d,c)=>d.date.localeCompare(c.date));let l=0;const u=[...n];for(;(u.length>0||a.length>l)&&i.length<o;){if(u.length==0){const d=a[l];i.push(this.createLessonProjection(d,!1)),l++}u.forEach((d,c)=>{if(i.length>=o)return;const f=VP(s,d.dayOfWeek),v=pt.fromDate(f),m=v.toIyyyyMMdd();if(d.from>m||m>d.to){u.splice(c,1);return}for(;a.length>l&&a[l].date<=m&&i.length<o;){const p=a[l];i.push(this.createLessonProjection(p,!1)),l++}d.exclude.includes(m)||i.length<o&&!i.some(p=>p.date.equals(v))&&i.push({date:v,next:!1,lessons:d.schedule})}),s.setDate(s.getDate()+7)}}groupLessonsByMonth(t){const n=[];let i=!1;return t.sort((r,s)=>r.date.toIyyyyMMdd()>s.date.toIyyyyMMdd()?1:-1).forEach(r=>{const s=r.date.getMonth();let o=n.findIndex(a=>a.month==Ix[s]);o==-1&&(n.push({month:Ix[s],lessons:[]}),o=n.length-1),!i&&r.date.toDate()>=this.today.asDate&&(i=!0,r.next=!0),n[o].lessons.push(r)}),n}createLessonProjection(t,n){const i=t.date<=this.today.asString&&t.lessons.some(s=>s.status==vn.NONE),r=t.lessons.some(s=>{var o;return((o=s.recovery)==null?void 0:o.ref)=="original"});return{dailyLessonId:t.id,date:pt.fromIyyyyMMdd(t.date),recovery:r,pending:i,next:n,lessons:t.lessons}}};An(Jg,"_instance",null);let Bg=Jg;const Dpe=At({__name:"LessonView",props:{school:{}},setup(e){const t=jc(),n=jr(),i=e,r=[],s=W([]),o=W(),a=W(!1),l=W(!1),u=W(!1),d=I(()=>i.school==null||a.value||l.value||u.value);ge(i.school,()=>v());function c(m){return m.next?"primary":m.pending?"warning":m.recovery?"info":"grey-lighten-1"}async function f(m){const p=await ar.instance.getOrCreateDailyLessonId(i.school.id,m);t.push(`/lesson/${p}`)}async function v(){u.value=!0;const m=new Date(new Date().toDateString()),p=n.addMonths(m,-12),_=await Vg.instance.getSchoolLessons(i.school.id,p);s.value=await Bg.instance.getGroupedLessons(_),u.value=!1}return bt(async()=>{await v()}),Ar(()=>{r.forEach(m=>m==null?void 0:m())}),(m,p)=>{const _=U("v-btn"),y=U("v-date-picker"),b=U("v-col"),C=U("v-row"),k=U("v-card-text"),R=U("v-spacer"),O=U("v-card-actions"),x=U("v-card"),S=U("v-dialog"),w=U("v-list-subheader"),E=U("v-icon"),A=U("v-avatar"),P=U("v-list-item"),D=U("v-list");return ye(),Me(x,{title:"Lezioni",elevation:"3",loading:d.value},{append:N(()=>[h(S,{transition:"dialog-bottom-transition",class:"justify-center"},{activator:N(({props:B})=>[h(_,Z({icon:"mdi-calendar",variant:"text",disabled:!m.school},B),null,16,["disabled"])]),default:N(({isActive:B})=>[h(x,{maxWidth:"400px"},{default:N(()=>[h(k,null,{default:N(()=>[h(C,{class:"justify-center"},{default:N(()=>[h(b,{cols:"auto"},{default:N(()=>[h(y,{modelValue:o.value,"onUpdate:modelValue":p[0]||(p[0]=$=>o.value=$)},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),h(O,null,{default:N(()=>[h(R),h(_,{text:"Chiudi",onClick:$=>B.value=!1},null,8,["onClick"]),h(_,{text:"Ok",color:"primary",onClick:p[1]||(p[1]=$=>f(o.value)),disabled:!o.value},null,8,["disabled"])]),_:2},1024)]),_:2},1024)]),_:1}),h(_,{icon:"mdi-refresh",variant:"text",disabled:!m.school||u.value,onClick:v},null,8,["disabled"]),h(S,{transition:"dialog-bottom-transition",fullscreen:""},{activator:N(({props:B})=>[h(_,Z({icon:"mdi-pencil",variant:"text"},B,{disabled:!m.school}),null,16,["disabled"])]),default:N(({isActive:B})=>[h(xpe,{school:m.school,onClose:$=>{B.value=!1,v()}},null,8,["school","onClose"])]),_:1}),h(_,{icon:"mdi-eye-arrow-right",variant:"text",to:"/lessons/"+m.school.id},null,8,["to"])]),default:N(()=>[h(D,{lines:"two"},{default:N(()=>[(ye(!0),wt(Te,null,Si(s.value,B=>(ye(),wt(Te,{key:B.month},[h(w,{inset:""},{default:N(()=>[Ie(ht(B.month),1)]),_:2},1024),(ye(!0),wt(Te,null,Si(B.lessons,$=>(ye(),Me(P,{key:$.date.toString(),title:$.date.format(),onClick:j=>f($),baseColor:$.next?"primary":""},RS({prepend:N(()=>[h(A,{color:c($)},{default:N(()=>[h(E,{color:"white"},{default:N(()=>p[2]||(p[2]=[Ie("mdi-calendar")])),_:1})]),_:2},1032,["color"])]),_:2},[$.pending||$.recovery?{name:"append",fn:N(()=>[$.pending?(ye(),Me(E,{key:0,color:"warning"},{default:N(()=>p[3]||(p[3]=[Ie("mdi-alert")])),_:1})):Jt("",!0),$.recovery?(ye(),Me(E,{key:1,color:"info"},{default:N(()=>p[4]||(p[4]=[Ie("mdi-alpha-r-circle")])),_:1})):Jt("",!0)]),key:"0"}:void 0]),1032,["title","onClick","baseColor"]))),128))],64))),128))]),_:1})]),_:1},8,["loading"])}}}),Rpe=YC(Dpe,[["__scopeId","data-v-4d67d72d"]]),Ope=At({__name:"ScheduleRecoveryLessonButton",props:tc({school:{}},{modelValue:{required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const t=e,n=nc(e,"modelValue"),i=W(!1),r=W(!1),s=W(!1),o=is({date:Ju().required("La Data della Lezione di Recupero è obbligatoria").label("Data della Lezione di Recupero"),time:Mn().required("L'Orario della Lezione di Recupero è obbligatorio").label("Orario della Lezione di Recupero")}),{defineField:a,handleSubmit:l,resetForm:u}=ka({validationSchema:o}),d=b=>({props:{"error-messages":b.errors}}),[c,f]=a("date",d),[v,m]=a("time",d),p=l(async b=>{y()},b=>{Xe.warn("Ci sono alcuni errori! Inserisci correttamente i dati"),console.log(b)});function _(){r.value=!1,c.value=void 0,v.value=void 0,u()}async function y(){if(!(!c.value||!v.value||!n.value))try{s.value=!0;const b=Mt.fromHHMM(v.value),C={studentId:n.value.studentId,schoolId:t.school.id,originalDailyLessonId:n.value.originalDailyLesson.id,originalLessonId:n.value.lessonId,date:c.value,startTime:b.toITime(),endTime:b.add({minutes:n.value.minutesLessonDuration}).toITime()};await Ss.instance.scheduleRecovery(n.value,C),r.value=!1}catch{Xe.error("Impossibile schedulare la lezione di recupero")}finally{s.value=!1}}return(b,C)=>{const k=U("v-btn"),R=U("v-date-input"),O=U("v-col"),x=U("v-time-picker"),S=U("v-dialog"),w=U("v-text-field"),E=U("v-row"),A=U("v-card-text"),P=U("v-spacer"),D=U("v-card-actions"),B=U("v-card");return ye(),Me(S,{modelValue:r.value,"onUpdate:modelValue":C[5]||(C[5]=$=>r.value=$),width:"auto",scrollable:"",persistent:""},{activator:N(({props:$})=>[h(k,BR(MS($)),{default:N(()=>C[6]||(C[6]=[Ie("programma")])),_:2},1040)]),default:N(()=>[h(B,{title:"Programma Lezione di Recupero",subtitle:n.value.name+" "+n.value.surname+" - "+oe(pt).fromIyyyyMMdd(n.value.originalDailyLesson.date).format(),loading:s.value},{default:N(()=>[h(A,{class:"pa-6"},{default:N(()=>[h(E,null,{default:N(()=>[h(O,{cols:"12",md:"12"},{default:N(()=>[h(R,Z({modelValue:oe(c),"onUpdate:modelValue":C[0]||(C[0]=$=>Je(c)?c.value=$:null)},oe(f),{label:"Data della Lezione di Recupero",inputmode:"none"}),null,16,["modelValue"])]),_:1}),h(O,{cols:"12",lg:"12"},{default:N(()=>[h(w,Z({modelValue:oe(v),"onUpdate:modelValue":C[3]||(C[3]=$=>Je(v)?v.value=$:null)},oe(m),{active:i.value,focused:i.value,inputmode:"none",label:"Orario della prima Lezione","prepend-icon":"mdi-clock-time-four-outline",readonly:""}),{default:N(()=>[h(S,{modelValue:i.value,"onUpdate:modelValue":C[2]||(C[2]=$=>i.value=$),activator:"parent",width:"auto"},{default:N(()=>[i.value?(ye(),Me(x,{key:0,modelValue:oe(v),"onUpdate:modelValue":C[1]||(C[1]=$=>Je(v)?v.value=$:null),format:"24hr"},null,8,["modelValue"])):Jt("",!0)]),_:1},8,["modelValue"])]),_:1},16,["modelValue","active","focused"])]),_:1})]),_:1})]),_:1}),h(D,null,{default:N(()=>[h(P),h(k,{text:"Annulla",onClick:_}),h(k,{color:"primary",text:"Salva",onClick:C[4]||(C[4]=$=>oe(p)($))})]),_:1})]),_:1},8,["subtitle","loading"])]),_:1},8,["modelValue"])}}}),Vpe={key:0},Npe={key:1},Mpe={key:2},Lpe={key:0},Fpe={key:1},$pe={key:0},Bpe={key:2},Upe={key:0},jpe=At({__name:"RecoveryLessonView",props:{school:{}},setup(e){const t=e,n=I(()=>t.school.id),i=oo.instance.observe(n),r=Yp(i),s=W(),o=W(!1),a=W(!1);ge(r,async()=>u());async function l(d){try{a.value=!0,await Ss.instance.cancelRecovery(d)}catch{Xe.warn("Impossibile annullare la lezione di recupero")}finally{a.value=!1}}async function u(){if(r.value)try{o.value=!0,s.value=await Ss.instance.computeDailyLessons(r.value),console.log(s)}catch{Xe.warning("Impossibile caricare le Lezioni di Recupero")}finally{o.value=!1}}return(d,c)=>{const f=U("v-list-subheader"),v=U("v-list-item"),m=U("v-btn"),p=U("v-icon"),_=U("v-divider"),y=U("v-list"),b=U("v-card-text"),C=U("v-card");return ye(),Me(C,{title:"Recuperi",elevation:"3",loading:o.value},{default:N(()=>[h(y,{lines:"three"},{default:N(()=>{var k;return[(ye(!0),wt(Te,null,Si((k=s.value)==null?void 0:k.recoveryMap,(R,O)=>(ye(),wt(Te,{key:R.type},[h(f,{inset:""},{default:N(()=>[it("b",null,ht(oe(rfe)[R.type]),1)]),_:2},1024),R.recoveries.length==0?(ye(),Me(v,{key:0},{default:N(()=>[R.type=="unset"?(ye(),wt("div",Vpe," Nessuna lezione da recuperare ")):R.type=="pending"?(ye(),wt("div",Npe," Nessuna lezione di recupero programmata ")):(ye(),wt("div",Mpe," Nessuna lezione di recupero effettuata "))]),_:2},1024)):Jt("",!0),(ye(!0),wt(Te,null,Si(R.recoveries,(x,S)=>(ye(),Me(v,{key:`${x.lessonId}_${x.originalDailyLesson.id}`},{title:N(()=>[Ie(ht(x.name)+" "+ht(x.surname),1)]),subtitle:N(()=>[R.type=="unset"?(ye(),wt("div",Lpe," Da recuperare la lezione del "+ht(oe(pt).fromIyyyyMMdd(x.originalDailyLesson.date).format()),1)):R.type=="pending"?(ye(),wt("div",Fpe,[Ie(" Recupero della lezione del "+ht(oe(pt).fromIyyyyMMdd(x.originalDailyLesson.date).format())+" programmato ",1),x.recoveryDailyLesson?(ye(),wt("span",$pe," per il "+ht(oe(pt).fromIyyyyMMdd(x.recoveryDailyLesson.date).format()),1)):Jt("",!0)])):(ye(),wt("div",Bpe,[Ie(" Recupero della lezione del "+ht(oe(pt).fromIyyyyMMdd(x.originalDailyLesson.date).format())+" effettuato ",1),x.recoveryDailyLesson?(ye(),wt("span",Upe," il "+ht(oe(pt).fromIyyyyMMdd(x.recoveryDailyLesson.date).format()),1)):Jt("",!0)]))]),append:N(()=>[R.type=="unset"?(ye(),Me(Ope,{key:0,modelValue:R.recoveries[S],"onUpdate:modelValue":w=>R.recoveries[S]=w,school:d.school},null,8,["modelValue","onUpdate:modelValue","school"])):R.type=="pending"?(ye(),Me(m,{key:1,onClick:w=>l(x),loading:a.value,disabled:a.value},{default:N(()=>c[0]||(c[0]=[Ie("annulla")])),_:2},1032,["onClick","loading","disabled"])):x.recoveryStatus==oe(vn).CANCELLED?(ye(),Me(p,{key:2,color:"warning"},{default:N(()=>c[1]||(c[1]=[Ie(" mdi-cancel ")])),_:1})):(ye(),Me(p,{key:3,color:"success"},{default:N(()=>c[2]||(c[2]=[Ie(" mdi-check-all ")])),_:1}))]),_:2},1024))),128)),O!=2?(ye(),Me(_,{key:1})):Jt("",!0)],64))),128))]}),_:1}),s.value?Jt("",!0):(ye(),Me(b,{key:0},{default:N(()=>c[3]||(c[3]=[Ie(" Nessun recupero in programma ")])),_:1}))]),_:1},8,["loading"])}}}),PR=At({__name:"StudentEditor",props:{school:{},initialStudent:{},edit:{type:Boolean}},emits:["close","save"],setup(e,{emit:t}){const n=e,i=t,r=W(),s=W([]),o=W(!1);ge(()=>n.initialStudent,()=>E()),ge(()=>n.school,()=>A());const a=is({name:Mn().required("Il Nome è obbligatorio").min(1).label("Nome"),surname:Mn().required("Il Cognome è obbligatorio").min(1).label("Cognome"),contact:Mn().label("Contatto").nullable().optional(),lessonDay:Mn().label("Giono di Lezione").nullable().optional(),level:Mn().required("Il Livello è obbligatorio").label("Livello"),minutesLessonDuration:lf().required("La Durata della Lezione è obbligatoria").min(1).label("Durata della Lezione"),notes:W_().of(Mn()).label("Note")}),{defineField:l,handleSubmit:u}=ka({validationSchema:a}),d=D=>({props:{"error-messages":D.errors}}),[c,f]=l("name",d),[v,m]=l("surname",d),[p,_]=l("contact",d),[y,b]=l("lessonDay",d),[C,k]=l("level",d),[R,O]=l("minutesLessonDuration",d),[x,S]=l("notes",d),w=u(async D=>{P(D)},D=>{Xe.warn("Ci sono alcuni errori! Inserisci correttamente i dati"),console.log(D)});function E(){if(n.initialStudent){const D=JSON.parse(JSON.stringify(n.initialStudent));c.value=D.name,v.value=D.surname??"",p.value=D.contact??"",y.value=Mr[D.lessonDay],C.value=D.level,x.value=D.notes??[],R.value=D.minutesLessonDuration}}function A(){r.value=n.school,s.value=r.value.levelRanges.flatMap(D=>D.levels)}async function P(D){var $,j;o.value=!0;const B={...D};B.schoolId=r.value.id,B.createdAt=n.edit?($=n.initialStudent)==null?void 0:$.createdAt:St.now(),B.updatedAt=St.now(),y.value&&(B.lessonDay=Mr.indexOf(y.value));try{n.edit&&((j=n.initialStudent)==null?void 0:j.id)!=null?(await _o.instance.save(B,n.initialStudent.id),Xe.success("Studente Aggiornato")):(await _o.instance.save(B),Xe.success("Studente Creato")),i("save",B)}catch(Y){i("save"),Xe.error("Errore durante il salvataggio"),console.error("Error adding document (schools): ",Y)}finally{o.value=!1}}return bt(()=>{E(),A()}),(D,B)=>{const $=U("v-text-field"),j=U("v-col"),Y=U("v-select"),H=U("v-number-input"),q=U("v-row"),z=U("v-card-text"),ne=U("v-divider"),ue=U("v-spacer"),be=U("v-btn"),Ae=U("v-card-actions"),Ne=U("v-card");return ye(),Me(Ne,{"prepend-icon":"mdi-school",title:`Studente (${D.school.name})`},{default:N(()=>[h(z,null,{default:N(()=>[h(q,{dense:""},{default:N(()=>[h(j,{cols:"12",md:"6"},{default:N(()=>[h($,Z({modelValue:oe(c),"onUpdate:modelValue":B[0]||(B[0]=se=>Je(c)?c.value=se:null)},oe(f),{label:"Nome"}),null,16,["modelValue"])]),_:1}),h(j,{cols:"12",md:"6"},{default:N(()=>[h($,Z({modelValue:oe(v),"onUpdate:modelValue":B[1]||(B[1]=se=>Je(v)?v.value=se:null)},oe(m),{label:"Cognome"}),null,16,["modelValue"])]),_:1}),h(j,{cols:"12",md:"6"},{default:N(()=>[h($,Z({modelValue:oe(p),"onUpdate:modelValue":B[2]||(B[2]=se=>Je(p)?p.value=se:null)},oe(_),{label:"Contatto"}),null,16,["modelValue"])]),_:1}),h(j,{cols:"12",md:"6"},{default:N(()=>[h(Y,Z({modelValue:oe(C),"onUpdate:modelValue":B[3]||(B[3]=se=>Je(C)?C.value=se:null)},oe(k),{items:s.value,label:"Livello"}),null,16,["modelValue","items"])]),_:1}),h(j,{cols:"12",md:"6"},{default:N(()=>[h(Y,Z({modelValue:oe(y),"onUpdate:modelValue":B[4]||(B[4]=se=>Je(y)?y.value=se:null)},oe(b),{items:oe(Mr),label:"Giorno della Lezione"}),null,16,["modelValue","items"])]),_:1}),h(j,{cols:"12",md:"6"},{default:N(()=>[h(H,Z({modelValue:oe(R),"onUpdate:modelValue":B[5]||(B[5]=se=>Je(R)?R.value=se:null)},oe(O),{reverse:!1,controlVariant:"default",label:"Durata della Lezione",suffix:"min",hideInput:!1,inset:!1,min:1}),null,16,["modelValue"])]),_:1})]),_:1})]),_:1}),h(ne),h(Ae,null,{default:N(()=>[h(ue),h(be,{text:"Chiudi",variant:"plain",onClick:B[6]||(B[6]=se=>i("close"))}),h(be,{color:"primary",loading:o.value,disabled:o.value,text:D.edit?"Salva Modifiche":"Crea",variant:"tonal",onClick:oe(w)},null,8,["loading","disabled","text","onClick"])]),_:1})]),_:1},8,["title"])}}}),Hpe=At({__name:"StudentView",props:{school:{}},setup(e){const t=e,n=[],i=W([]),r=W(!1),s=W(!1),o=[{title:"Nome",align:"start",sortable:!0,key:"name"},{title:"Cognome",key:"surname"},{title:"Contatto",key:"contact"},{title:"Giorno della Lezione",key:"lessonDay"},{title:"Operazioni",key:"actions",sortable:!1}];function a(d){d&&(s.value=!1)}async function l(d){if(!d)return!1;try{return await _o.instance.delete(d.id),!0}catch{return!1}}async function u(){r.value=!0;const d=Ao.instance.observeStudentsOfSchool(t.school.id).subscribe({next:c=>{i.value=c,r.value=!1},error:c=>r.value=!1});n.push(d)}return bt(async()=>{await u()}),Ar(()=>{n.forEach(d=>d.unsubscribe())}),(d,c)=>{const f=U("v-text-field"),v=U("v-btn"),m=U("v-dialog"),p=U("v-row"),_=U("v-icon"),y=U("v-data-table"),b=U("v-card-text"),C=U("v-card");return ye(),Me(C,{title:"Studenti",elevation:"3",loading:r.value},{default:N(()=>[h(b,null,{default:N(()=>[h(p,{class:"mr-4 mb-1 align-center"},{default:N(()=>[h(f,{class:"ma-2","prepend-inner-icon":"mdi-magnify",density:"comfortable",placeholder:"Ricerca...",theme:"light",variant:"solo","hide-details":""}),h(m,{modelValue:s.value,"onUpdate:modelValue":c[2]||(c[2]=k=>s.value=k),fullscreen:""},{activator:N(({props:k})=>[h(v,Z({"prepend-icon":"mdi-plus",color:"success"},k),{default:N(()=>c[3]||(c[3]=[Ie("nuovo studente")])),_:2},1040)]),default:N(()=>[h(PR,{school:d.school,onClose:c[0]||(c[0]=k=>s.value=!1),onSave:c[1]||(c[1]=k=>a(k))},null,8,["school"])]),_:1},8,["modelValue"])]),_:1}),h(y,{headers:o,items:i.value,"item-value":"id"},{"item.lessonDay":N(({item:k})=>[Ie(ht(oe(Mr)[k.lessonDay]),1)]),"item.actions":N(({item:k})=>[h(m,{fullscreen:""},{activator:N(({props:R})=>[h(_,Z({class:"me-2",size:"small"},R),{default:N(()=>c[4]||(c[4]=[Ie(" mdi-pencil ")])),_:2},1040)]),default:N(({isActive:R})=>[h(PR,{edit:"",school:d.school,initialStudent:k,onClose:O=>R.value=!1,onSave:O=>R.value=!1},null,8,["school","initialStudent","onClose","onSave"])]),_:2},1024),h(Yh,{name:k.name+" "+k.surname,objName:"Studente",onDelete:async()=>await l(k)},{activator:N(({props:R})=>[h(_,Z({size:"small"},R),{default:N(()=>c[5]||(c[5]=[Ie(" mdi-delete ")])),_:2},1040)]),_:2},1032,["name","onDelete"])]),_:1},8,["items"])]),_:1})]),_:1},8,["loading"])}}}),Wpe=At({__name:"DateSelect",props:{modelValue:{default:{from:void 0,to:void 0}},modelModifiers:{}},emits:["update:modelValue"],setup(e){const t=jr(),n=["Assoluto","Relativo"],i=["Ultima settimana","Ultimo mese","Ultimi 3 mesi","Ultimi 6 mesi","Ultimo anno"],r=W(n[1]),s=W(i[0]),o=W();let a=!1;const l=nc(e,"modelValue");ge(r,u,{immediate:!0}),ge(s,u,{immediate:!0}),ge(o,u,{immediate:!0}),ge(l,d,{immediate:!0});function u(){var c,f,v;if(a=!0,r.value==n[1]){let m;s.value==i[1]?m=t.addMonths(new Date,-1):s.value==i[2]?m=t.addMonths(new Date,-3):s.value==i[3]?m=t.addMonths(new Date,-6):s.value==i[4]?m=t.addMonths(new Date,-12):m=t.addDays(new Date,-7),l.value={from:pt.fromDate(m).toIyyyyMMdd()}}else if(r.value==n[0]){const m=(c=o.value)==null?void 0:c[0],p=((f=o.value)==null?void 0:f[o.value.length-1])??((v=o.value)==null?void 0:v[0]);m&&p&&(l.value={from:pt.fromDate(m).toIyyyyMMdd(),to:pt.fromDate(p).toIyyyyMMdd()})}}function d(){var v,m;if(a){a=!1;return}const c=(v=l.value)==null?void 0:v.from,f=(m=l.value)==null?void 0:m.to;if(c&&!f){r.value=n[1];const p=new Date,_=new Date(p.getTime()-pt.fromIyyyyMMdd(c).toDate().getTime()),y=_.getUTCFullYear()-1970,b=_.getUTCMonth(),C=_.getUTCDate()-1;C==7&&b==0&&y==0?s.value=i[0]:(C==30||b==1)&&y==0?s.value=i[1]:(C==90||b==3)&&y==0?s.value=i[2]:(C==180||b==6)&&y==0?s.value=i[3]:C==365||b==12||y==1?s.value=i[4]:(console.warn("Selected period not recognized, falling to last week"),s.value=i[0])}else if(c&&f){r.value=n[0],o.value=[];const p=pt.fromIyyyyMMdd(c).toDate(),_=pt.fromIyyyyMMdd(f).toDate();for(const y=p;y<=_;y.setDate(y.getDate()+1))o.value.push(new Date(y))}}return(c,f)=>{const v=U("v-select"),m=U("v-col"),p=U("v-date-input"),_=U("v-row");return ye(),Me(_,{class:"px-2 mb-2"},{default:N(()=>[h(m,{cols:"12",md:"6"},{default:N(()=>[h(v,{variant:"outlined",density:"compact",modelValue:r.value,"onUpdate:modelValue":f[0]||(f[0]=y=>r.value=y),items:n,"hide-details":""},null,8,["modelValue"])]),_:1}),r.value==n[0]?(ye(),Me(m,{key:0,cols:"12",md:"6"},{default:N(()=>[h(p,{variant:"outlined",density:"compact",modelValue:o.value,"onUpdate:modelValue":f[1]||(f[1]=y=>o.value=y),multiple:"range",inputmode:"none","hide-details":""},null,8,["modelValue"])]),_:1})):(ye(),Me(m,{key:1,cols:"12",md:"6"},{default:N(()=>[h(v,{variant:"outlined",density:"compact",modelValue:s.value,"onUpdate:modelValue":f[2]||(f[2]=y=>s.value=y),items:i,"hide-details":""},null,8,["modelValue"])]),_:1}))]),_:1})}}}),zpe={class:"d-flex justify-center"},Gpe={colspan:"6",class:"text-center font-weight-bold"},qpe=At({__name:"SalaryView",props:{school:{}},setup(e){const t=e,n=W([]),i=W(!1),r=W({}),s=W({}),o=[{title:"Data",align:"start",sortable:!0,key:"date"},{title:"Presenti",key:"presents"},{title:"Assenti",key:"absents"},{title:"Stipendio giornaliero",key:"salary"},{title:"Aggiornato il",key:"lastUpdate"},{title:"Operazioni",key:"actions",sortable:!1}],a=I(()=>{const d=n.value.reduce((c,f)=>c+f.salary,0);return isNaN(d)?0:d});ge(s,l);async function l(){if(!s.value||!s.value.from)return;const d=s.value.to??pt.today().toIyyyyMMdd();i.value=!0,n.value=await oh.instance.computeSalary(t.school,s.value.from,d),i.value=!1}async function u(d,c){r.value[d.dailyLessonId]=!0;const f=await ar.instance.computeSalaryOfDailyLesson(t.school,d.dailyLessonId);f?(n.value[c].salary=f.salary,n.value[c].lastUpdate=f.lastSalaryUpdate):Xe.info(`Lo stipendio della lezione del ${pt.fromIyyyyMMdd(d.date).format()} è già aggiornato!`),r.value[d.dailyLessonId]=!1}return bt(async()=>{await l()}),(d,c)=>{const f=U("v-btn"),v=U("v-data-table"),m=U("v-card-text"),p=U("v-card");return ye(),Me(p,{title:"Stipendio",elevation:"3",loading:i.value},{default:N(()=>[h(m,null,{default:N(()=>[h(Wpe,{modelValue:s.value,"onUpdate:modelValue":c[0]||(c[0]=_=>s.value=_)},null,8,["modelValue"]),h(v,{headers:o,items:n.value,"item-value":"id"},{"item.date":N(({item:_})=>[Ie(ht(oe(pt).fromIyyyyMMdd(_.date).format()),1)]),"item.lastUpdate":N(({item:_})=>[Ie(ht(_.lastUpdate?oe(Mee)(new(oe(St))(_.lastUpdate.seconds,_.lastUpdate.nanoseconds).toDate()):""),1)]),"item.actions":N(({item:_,index:y})=>[it("div",zpe,[h(f,{icon:"mdi-refresh",variant:"text",onClick:b=>u(_,y),loading:r.value[_.dailyLessonId]},null,8,["onClick","loading"])])]),"body.append":N(()=>[it("tr",null,[it("td",Gpe,"Totale "+ht(a.value)+" €",1)])]),_:1},8,["items"])]),_:1})]),_:1},8,["loading"])}}}),Ype=At({__name:"SchoolView",setup(e){const t=Qp(),n=jc(),i=I(()=>t.params.id),r=Io.instance.observe(i),s=Yp(r),o=[],a=W([]);async function l(){if(!s.value)return!1;try{return Vg.instance.delete(r.value),n.push("/"),!0}catch{return!1}}async function u(){const d=[{id:0,title:"Questa è una nota molto carina e paffutella",description:"",student:"Matteo Rossi"},{id:1,title:"Questa è una nota con descrizione",description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Ut viverra tincidunt risus sit amet interdum. Nam sed leo id ipsum efficitur congue nec ut est. Nullam in metus leo. In commodo, leo eu vulputate euismod, urna lacus efficitur nibh, ut maximus felis metus eu odio. Duis cursus commodo auctor. Suspendisse condimentum lorem dui, id tristique lectus commodo nec.",student:"Luca Verdi"}];a.value=d}return bt(async()=>{await u()}),Ar(()=>{o.forEach(d=>d())}),(d,c)=>{const f=U("v-btn"),v=U("v-list-item"),m=U("v-dialog"),p=U("v-list"),_=U("v-menu"),y=U("v-col"),b=U("v-row"),C=U("v-expansion-panel-title"),k=U("v-expansion-panel-text"),R=U("v-expansion-panel"),O=U("v-expansion-panels"),x=U("v-card"),S=U("v-skeleton-loader"),w=U("v-container");return oe(s)?(ye(),Me(x,{key:0,class:"pa-3",title:oe(s).name,elevation:"0"},{prepend:N(()=>[h(Kh)]),append:N(()=>[h(_,{transition:"slide-y-transition"},{activator:N(({props:E})=>[h(f,Z({icon:"mdi-dots-vertical",variant:"text"},E),null,16)]),default:N(()=>[h(p,null,{default:N(()=>[h(m,{fullscreen:""},{activator:N(({props:E})=>[h(v,Z({title:"Modifica"},E),null,16)]),default:N(({isActive:E})=>[h(n6,{edit:"",initialSchool:oe(s),onClose:A=>E.value=!1,onSave:A=>E.value=!1},null,8,["initialSchool","onClose","onSave"])]),_:1}),h(Yh,{name:oe(s).name,objName:"Scuola",onDelete:l},{activator:N(({props:E})=>[h(v,Z({title:"Elimina"},E),null,16)]),_:1},8,["name"])]),_:1})]),_:1})]),default:N(()=>[h(b,{class:"mt-5"},{default:N(()=>[h(y,{class:"pa-2",cols:"12",md:"6"},{default:N(()=>[h(Rpe,{school:oe(s)},null,8,["school"])]),_:1}),h(y,{class:"pa-2",cols:"12",md:"6"},{default:N(()=>[h(jpe,{school:oe(s)},null,8,["school"])]),_:1})]),_:1}),h(b,null,{default:N(()=>[h(y,{class:"pa-2",cols:"12",md:"6"},{default:N(()=>[h(Hpe,{school:oe(s)},null,8,["school"])]),_:1}),h(y,{class:"pa-2",cols:"12",md:"6"},{default:N(()=>[h(qpe,{school:oe(s)},null,8,["school"])]),_:1})]),_:1}),h(b,null,{default:N(()=>[h(y,{class:"pa-2",cols:"12"},{default:N(()=>[h(x,{title:"Note",elevation:"3"},{default:N(()=>[h(O,null,{default:N(()=>[(ye(!0),wt(Te,null,Si(a.value,E=>(ye(),Me(R,{key:E.id},{default:N(()=>[h(C,null,{default:N(()=>[h(b,{"no-gutters":""},{default:N(()=>[h(y,{class:"d-flex justify-start",cols:"8"},{default:N(()=>[Ie(ht(E.title),1)]),_:2},1024),h(y,{class:"text-grey",cols:"4"},{default:N(()=>[it("span",null,ht(E.student),1)]),_:2},1024)]),_:2},1024)]),_:2},1024),h(k,null,{default:N(()=>[Ie(ht(E.description),1)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["title"])):(ye(),Me(w,{key:1,fluid:""},{default:N(()=>[h(S,{class:"mx-auto",type:"heading"}),h(b,{class:"justify-center mt-4"},{default:N(()=>[(ye(),wt(Te,null,Si(5,E=>h(y,{key:E,cols:"12",md:"6"},{default:N(()=>[h(S,{elevation:"3",type:"card"})]),_:2},1024)),64))]),_:1})]),_:1}))}}});var cS;(function(e){e.DragAndDrop="dragAndDrop",e.EventModal="eventModal",e.ScrollController="scrollController",e.EventRecurrence="eventRecurrence",e.Resize="resize",e.CalendarControls="calendarControls",e.CurrentTime="currentTime"})(cS||(cS={}));const Kpe=/^(0[0-9]|1[0-9]|2[0-3]):[0-5][0-9]$/,Xpe=/^(\d{4})-(\d{2})-(\d{2})$/;class Qpe extends Error{constructor(t){super(`Invalid time string: ${t}`)}}class Jpe extends Error{constructor(t,n){super(`Number must be between ${t} and ${n}.`),Object.defineProperty(this,"min",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"max",{enumerable:!0,configurable:!0,writable:!0,value:n})}}const xR=e=>{if(e<0||e>99)throw new Jpe(0,99);return String(e).padStart(2,"0")},M6=1.6666666666666667,DR=e=>{if(!Kpe.test(e)&&e!=="24:00")throw new Qpe(e);const[t,n]=e.split(":").map(r=>parseInt(r,10));let i=(n*M6).toString();return i.split(".")[0].length<2&&(i=`0${i}`),Number(t+i)},RR=e=>{const t=Math.floor(e/100),n=Math.round(e%100/M6);return`${xR(t)}:${xR(n)}`},Zpe=(e,t)=>(t.name=e,t);class e_e{constructor(){Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:cS.CalendarControls}),Object.defineProperty(this,"$app",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"getDate",{enumerable:!0,configurable:!0,writable:!0,value:()=>this.$app.datePickerState.selectedDate.value}),Object.defineProperty(this,"getView",{enumerable:!0,configurable:!0,writable:!0,value:()=>this.$app.calendarState.view.value}),Object.defineProperty(this,"getFirstDayOfWeek",{enumerable:!0,configurable:!0,writable:!0,value:()=>this.$app.config.firstDayOfWeek.value}),Object.defineProperty(this,"getLocale",{enumerable:!0,configurable:!0,writable:!0,value:()=>this.$app.config.locale.value}),Object.defineProperty(this,"getViews",{enumerable:!0,configurable:!0,writable:!0,value:()=>this.$app.config.views.value}),Object.defineProperty(this,"getDayBoundaries",{enumerable:!0,configurable:!0,writable:!0,value:()=>({start:RR(this.$app.config.dayBoundaries.value.start),end:RR(this.$app.config.dayBoundaries.value.end)})}),Object.defineProperty(this,"getWeekOptions",{enumerable:!0,configurable:!0,writable:!0,value:()=>this.$app.config.weekOptions.value}),Object.defineProperty(this,"getCalendars",{enumerable:!0,configurable:!0,writable:!0,value:()=>this.$app.config.calendars.value}),Object.defineProperty(this,"getMinDate",{enumerable:!0,configurable:!0,writable:!0,value:()=>this.$app.config.minDate.value}),Object.defineProperty(this,"getMaxDate",{enumerable:!0,configurable:!0,writable:!0,value:()=>this.$app.config.maxDate.value}),Object.defineProperty(this,"getMonthGridOptions",{enumerable:!0,configurable:!0,writable:!0,value:()=>this.$app.config.monthGridOptions.value}),Object.defineProperty(this,"getRange",{enumerable:!0,configurable:!0,writable:!0,value:()=>this.$app.calendarState.range.value})}beforeRender(t){this.$app=t}onRender(t){this.$app=t}setDate(t){if(!Xpe.test(t))throw new Error("Invalid date. Expected format YYYY-MM-DD");this.$app.datePickerState.selectedDate.value=t}setView(t){if(!this.$app.config.views.value.find(i=>i.name===t))throw new Error(`Invalid view name. Expected one of ${this.$app.config.views.value.map(i=>i.name).join(", ")}`);this.$app.calendarState.setView(t,this.$app.datePickerState.selectedDate.value)}setFirstDayOfWeek(t){this.$app.config.firstDayOfWeek.value=t}setLocale(t){this.$app.config.locale.value=t}setViews(t){const n=this.$app.calendarState.view.value;if(!t.some(r=>r.name===n))throw new Error(`Currently active view is not in given views. Expected to find ${n} in ${t.map(r=>r.name).join(",")}`);this.$app.config.views.value=t}setDayBoundaries(t){this.$app.config.dayBoundaries.value={start:DR(t.start),end:DR(t.end)}}setWeekOptions(t){this.$app.config.weekOptions.value={...this.$app.config.weekOptions.value,...t}}setCalendars(t){this.$app.config.calendars.value=t}setMinDate(t){this.$app.config.minDate.value=t}setMaxDate(t){this.$app.config.maxDate.value=t}setMonthGridOptions(t){this.$app.config.monthGridOptions.value=t}}const t_e=()=>Zpe("calendarControls",new e_e),n_e=At({__name:"SchoolLessonView",setup(e){const t=Qp(),n=jc(),i=I(()=>t.params.id),r=Io.instance.observe(i),s=Yp(r),o=[],a=W(!1),l=d6(),u=c6(),d=t_e(),c=B4({locale:"it-IT",views:[J4(),Nde(),Wde(),nfe()],defaultView:Vde.name,events:[],plugins:[l,u,d],callbacks:{beforeRender(p){const _=p.calendarState.range.value;m(_)},onRangeUpdate(p){m(p)}}});ge(s,()=>m());async function f(p){u.close(),n.push(`/lesson/${p}`)}function v(){o.forEach(p=>{p._options||(p._options={}),l.get(p.id)?l.update(p):l.add(p)}),l.getAll().forEach(p=>{o.findIndex(y=>y.id==p.id)==-1&&l.remove(p.id)})}async function m(p){if(p??(p=d.getRange()),!p||!s.value)return;o.length=0,a.value=!0;const _={date:pt.fromDate(new Date(p.start)),time:Mt.fromHHMM(p.start.split(" ")[1])},y={date:pt.fromDate(new Date(p.end)),time:Mt.fromHHMM(p.end.split(" ")[1])},b=await Bg.instance.getCalendarLessons(s.value.id,_,y),C=Array.from(new Set(b.map(R=>R.title).filter(Boolean))),k=await Ao.instance.getStudentsOfSchoolWithIds(s.value.id,C);b.forEach(R=>{const O=k.find(x=>x.id==R.title);O&&(R.title=O.name+" "+O.surname)}),o.push(...b),console.log(b),v(),a.value=!1}return(p,_)=>{const y=U("v-progress-linear"),b=U("v-icon"),C=U("v-spacer"),k=U("v-btn"),R=U("v-card-actions"),O=U("v-card"),x=U("v-container");return oe(s)?(ye(),Me(O,{key:0,class:"pa-3",title:oe(s).name,elevation:"0"},{prepend:N(()=>[h(Kh)]),default:N(()=>[h(x,null,{default:N(()=>[h(y,{active:a.value,color:"primary",indeterminate:""},null,8,["active"]),h(oe(f6),{"calendar-app":oe(c)},{eventModal:N(({calendarEvent:S})=>[h(O,{elevation:"3",title:S.title,text:S.description},{subtitle:N(()=>[h(b,null,{default:N(()=>_[0]||(_[0]=[Ie("mdi-clock-outline")])),_:1}),Ie(" "+ht(oe(A1)(S.start.split(" ")[0])+" ⋅ "+S.start.split(" ")[1]+" - "+S.end.split(" ")[1]),1)]),default:N(()=>[h(R,null,{default:N(()=>[h(C),h(k,{text:"vai",onClick:w=>f(S.data.dailyLessonId)},null,8,["onClick"])]),_:2},1024)]),_:2},1032,["title","text"])]),_:1},8,["calendar-app"])]),_:1})]),_:1},8,["title"])):Jt("",!0)}}}),i_e=At({__name:"VSelectStudents",props:tc({allStudents:{default:()=>[]}},{modelValue:{default:[]},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const t=e,n=nc(e,"modelValue"),i=I(()=>n.value.length===t.allStudents.length),r=I(()=>n.value.length>0);function s(){i.value?n.value=[]:n.value=t.allStudents.slice()}return(o,a)=>{const l=U("v-checkbox-btn"),u=U("v-list-item"),d=U("v-divider"),c=U("v-select");return ye(),Me(c,{modelValue:n.value,"onUpdate:modelValue":a[0]||(a[0]=f=>n.value=f),items:o.allStudents,label:"Studenti","item-title":"name","item-value":"id","return-object":!0,multiple:"","no-data-text":"Nessuno studente disponibile per questa scuola"},RS({_:2},[o.allStudents.length>1?{name:"prepend-item",fn:N(()=>[h(u,{title:"Seleziona tutti",onClick:s},{prepend:N(()=>[h(l,{color:r.value?"indigo-darken-4":void 0,indeterminate:r.value&&!i.value,"model-value":i.value},null,8,["color","indeterminate","model-value"])]),_:1}),h(d,{class:"mt-2"})]),key:"0"}:void 0]),1032,["modelValue","items"])}}}),r_e=At({__name:"LessonItem",props:tc({onDeleteLessonItem:{type:Function},updateLessonTime:{type:Function},moveLesson:{type:Function}},{item:{required:!0},itemModifiers:{},select:{},selectModifiers:{}}),emits:tc(["present","absent","reset","cancel","updateLessonTime","notes","deleteStudent"],["update:item","update:select"]),setup(e,{emit:t}){const n=e,i=nc(e,"item"),r=nc(e,"select"),s=t,o=W(!1),a=W(!1),l=W();async function u(c){await n.updateLessonTime(c)&&(o.value=!1)}async function d(){l.value&&(await n.moveLesson(l.value)?(a.value=!1,l.value=void 0):Xe.warn("Impossibile spostare la lezione..."))}return(c,f)=>{const v=U("v-checkbox"),m=U("v-card-title"),p=U("v-btn"),_=U("v-date-picker"),y=U("v-card-text"),b=U("v-spacer"),C=U("v-card-actions"),k=U("v-card"),R=U("v-dialog"),O=U("v-icon");return ye(),Me(k,{elevation:"3"},{default:N(()=>[h(m,null,{default:N(()=>[h(v,{modelValue:r.value,"onUpdate:modelValue":f[0]||(f[0]=x=>r.value=x),value:i.value.id,multiple:""},{label:N(()=>[it("span",null,[it("b",null,ht(oe(Mt).fromITime(i.value.startTime).format())+" - "+ht(oe(Mt).fromITime(i.value.endTime).format()),1),f[9]||(f[9]=Ie("   ")),it("i",null,ht(i.value.name)+" "+ht(i.value.surname),1)])]),_:1},8,["modelValue","value"])]),_:1}),h(y,null,{default:N(()=>{var x;return[!i.value.recovery||i.value.recovery.ref=="original"?(ye(),wt(Te,{key:0},[i.value.status!=oe(vn).PRESENT&&i.value.status!=oe(vn).CANCELLED?(ye(),Me(p,{key:0,class:"ma-1",onClick:f[1]||(f[1]=S=>s("present"))},{default:N(()=>f[10]||(f[10]=[Ie("presente")])),_:1})):Jt("",!0),i.value.status!=oe(vn).ABSENT&&i.value.status!=oe(vn).CANCELLED?(ye(),Me(p,{key:1,class:"ma-1",onClick:f[2]||(f[2]=S=>s("absent"))},{default:N(()=>f[11]||(f[11]=[Ie("assente")])),_:1})):Jt("",!0),i.value.status!=oe(vn).CANCELLED?(ye(),Me(p,{key:2,class:"ma-1",onClick:f[3]||(f[3]=S=>s("cancel"))},{default:N(()=>f[12]||(f[12]=[Ie("cancella")])),_:1})):Jt("",!0),i.value.status!=oe(vn).NONE?(ye(),Me(p,{key:3,class:"ma-1",onClick:f[4]||(f[4]=S=>s("reset"))},{default:N(()=>f[13]||(f[13]=[Ie("reset")])),_:1})):Jt("",!0),h(R,{modelValue:a.value,"onUpdate:modelValue":f[6]||(f[6]=S=>a.value=S),transition:"dialog-bottom-transition",fullscreen:""},{activator:N(({props:S})=>[!i.value.recovery&&i.value.status==oe(vn).NONE?(ye(),Me(p,Z({key:0,class:"ma-1"},S),{default:N(()=>f[14]||(f[14]=[Ie("sposta")])),_:2},1040)):Jt("",!0)]),default:N(({isActive:S})=>[h(k,null,{default:N(()=>[h(y,null,{default:N(()=>[h(_,{class:"w-100",modelValue:l.value,"onUpdate:modelValue":f[5]||(f[5]=w=>l.value=w)},null,8,["modelValue"])]),_:1}),h(C,null,{default:N(()=>[h(b),h(p,{text:"Annulla",onClick:w=>{S.value=!1,l.value=void 0}},null,8,["onClick"]),h(p,{color:"primary",text:"Sposta",onClick:d,disabled:!l.value},null,8,["disabled"])]),_:2},1024)]),_:2},1024)]),_:1},8,["modelValue"]),h(R,{modelValue:o.value,"onUpdate:modelValue":f[7]||(f[7]=S=>o.value=S),transition:"dialog-bottom-transition",fullscreen:""},{activator:N(({props:S})=>[h(p,Z({class:"ma-1"},S),{default:N(()=>f[15]||(f[15]=[Ie("modifica orario")])),_:2},1040)]),default:N(({isActive:S})=>[h(N6,{onClose:w=>S.value=!1,onSave:u,startTime:oe(Mt).fromITime(i.value.startTime).format(),endTime:oe(Mt).fromITime(i.value.endTime).format(),minutesOfLesson:i.value.minutesLessonDuration},null,8,["onClose","startTime","endTime","minutesOfLesson"])]),_:1},8,["modelValue"]),((x=i.value.recovery)==null?void 0:x.ref)=="original"?(ye(),Me(p,{key:4,class:"ma-1",to:`/lesson/${i.value.recovery.lessonRef.dailyLessonId}`},{prepend:N(()=>[h(O,null,{default:N(()=>f[16]||(f[16]=[Ie("mdi-eye-arrow-left-outline")])),_:1})]),default:N(()=>[f[17]||(f[17]=Ie(" origine"))]),_:1},8,["to"])):Jt("",!0)],64)):(ye(),Me(p,{key:1,class:"ma-1",to:`/lesson/${i.value.recovery.lessonRef.dailyLessonId}`},{prepend:N(()=>[h(O,null,{default:N(()=>f[18]||(f[18]=[Ie("mdi-eye-arrow-right-outline")])),_:1})]),default:N(()=>[f[19]||(f[19]=Ie("recupero"))]),_:1},8,["to"])),h(p,{class:"ma-1",onClick:f[8]||(f[8]=S=>s("notes"))},{default:N(()=>f[20]||(f[20]=[Ie("note")])),_:1}),h(Yh,{name:`${i.value.name} ${i.value.surname}`,objName:"Studente",onDelete:c.onDeleteLessonItem},{activator:N(({props:S})=>[h(p,Z({color:"error"},S),{default:N(()=>f[21]||(f[21]=[Ie("elimina")])),_:2},1040)]),_:1},8,["name","onDelete"])]}),_:1})]),_:1})}}}),s_e={class:"text-h5 text-center"},o_e={class:"text-subtitle"},a_e=At({__name:"DailyLessonView",setup(e){const t=Qp(),n=jc(),i=I(()=>t.params.id),r=It.instance.observe(i),s=Yp(r),o=W(),a=W([]),l=W(!1),u=W([]),d=W([]),c=W([]),f=W(!1),v=W(!1),m=W(!1),p=W(!1),_=W(!1),y=W(!1),b=W(!0),C=W(0),k=kO("deleteDailyLessonBtn"),R=I(()=>{var Q,ee;return isNaN(((Q=s.value)==null?void 0:Q.salary)??0)?0:(ee=s.value)==null?void 0:ee.salary}),O=I(()=>a.value.length!=0),x=I(()=>f.value||v.value||!s.value||b.value);let S;ge(s,()=>Ne()),ge(r,()=>b.value=!0),ge(a,()=>{a.value.length==0&&(l.value=!1)});function w(Q){return Q.trial?"yellow":Q.recovery&&Q.recovery.ref=="recovery"?"blue":ife[Q.status]}async function E(Q){q();const ee=a.value.map(X=>u.value.find(_e=>_e.id==X)).filter(X=>!!X);ee.push(Q),ee.forEach(X=>X.status=vn.PRESENT),a.value=[],await se(),await Ss.instance.updateRecovery(Bd.SET_PRESENT,s.value.schoolId,...ee.map(X=>({...X,dailyLessonId:s.value.id})))}async function A(Q){q();const ee=a.value.map(X=>u.value.find(_e=>_e.id==X)).filter(X=>!!X);ee.push(Q),ee.forEach(X=>X.status=vn.ABSENT),a.value=[],await se(),await Ss.instance.updateRecovery(Bd.SET_ABSENT,s.value.schoolId,...ee.map(X=>({...X,dailyLessonId:s.value.id})))}async function P(Q){Q&&(q(),Q.status=vn.CANCELLED,await se(),await Ss.instance.updateRecovery(Bd.CANCEL,s.value.schoolId,{...Q,dailyLessonId:s.value.id}))}async function D(Q){Q&&(q(),Q.status=vn.NONE,await se(),await Ss.instance.updateRecovery(Bd.RESET,s.value.schoolId,{...Q,dailyLessonId:s.value.id}))}async function B(Q,ee){if(!Q||!o.value||!ee)return console.warn("Unable to move the lesson because the event/school/date is undefined!"),!1;const X=await ar.instance.getOrCreateDailyLessonId(o.value.id,ee),_e=await It.instance.get(X);if(_e)_e.lessons.push({lessonId:Q.lessonId,studentId:Q.studentId,endTime:Q.endTime,startTime:Q.startTime,status:vn.NONE,updatedAt:St.now(),createdAt:St.now()}),await It.instance.save(_e,_e.id);else return console.warn("Unable to move the lesson because the new daily lesson is undefined!"),!1;return await Ae(Q,!1)}async function $(Q,ee){var M,L;const X=(M=Mt.fromHHMM(ee.startTime))==null?void 0:M.toITime(),_e=(L=Mt.fromHHMM(ee.endTime))==null?void 0:L.toITime();return X==null||_e==null?!1:(q(),Q.startTime=X,Q.endTime=_e,u.value.sort((J,ce)=>J.startTime-ce.startTime),await se(),!0)}function j(Q){}function Y(){l.value?a.value=[]:a.value=[...u.value.map(Q=>Q.id)]}let H;function q(){H=JSON.stringify(u.value)}function z(){H!=null&&(u.value=JSON.parse(H))}async function ne(){if(s.value)try{m.value=!0;const Q=s.value.lessons.map(X=>X.studentId),ee=await Ao.instance.getStudentsOfSchool(s.value.schoolId);d.value=ee.filter(X=>!Q.includes(X.id)),c.value=[]}catch(Q){Xe.warn("Impossibile caricare gli studenti..."),console.log(Q)}finally{m.value=!1}}async function ue(){_.value=!0;const Q={...s.value};c.value.forEach(ee=>{var _e,M;const X=((_e=Q.lessons)==null?void 0:_e.length)==0?0:Q.lessons[Q.lessons.length-1].endTime;(M=Q.lessons)==null||M.push({lessonId:Zu(),status:vn.NONE,studentId:ee.id,startTime:X,endTime:X+ee.minutesLessonDuration*60,createdAt:St.now(),updatedAt:St.now()})});try{await It.instance.save(Q,Q.id),Xe.success("Studenti aggiunti!"),y.value=!1,console.log("Document (daily lessons) update with ID: ",Q.id)}catch{Xe.warning("Impossibile aggiungere gli studenti alla lezione giornaliera")}finally{_.value=!1}}async function be(){if(!s.value)return!1;try{return await It.instance.delete(s.value.id),n.push(`/school/${o.value.id}`),!0}catch{return!1}}async function Ae(Q,ee=!0){if(!s.value)return!1;try{const X=await ar.instance.deleteLessonAndRecoveryReferences(Q,s.value,ee);return X&&(!s.value||s.value.lessons.length==0)&&n.push(`/school/${o.value.id}`),X}catch(X){return console.warn("Unable to delete the student lesson...",X),!1}}async function Ne(){if(b.value=!1,!s.value)return;o.value||(v.value=!0,o.value=await Io.instance.get(s.value.schoolId),v.value=!1);const Q=u.value.map(_e=>_e.studentId),ee=s.value.lessons.map(_e=>_e.studentId);Lee(Q,ee)&&S==s.value.id||(f.value=!0,S=s.value.id,u.value=await ah.instance.getStudentLesson(s.value,ee),G(),f.value=!1)}async function se(){p.value=!0;const Q=ie();if(Q===void 0){p.value=!1;return}try{await It.instance.save(Q,Q.id),Xe.success("Modifiche salvate",{autoClose:1e3}),p.value=!1}catch(ee){console.error("Error adding document (dailyLesson): ",ee),p.value=!1,z()}}function G(){var Q,ee;((Q=s.value)==null?void 0:Q.salaryStrategy)!=((ee=o.value)==null?void 0:ee.salaryStrategy)&&(Xe.info("Aggiornamento dello stipendio giornaliero in corso..."),se())}function ie(){var M,L;const Q=s.value;if(Q===void 0)return;const ee=[];let X=0;Q.lessons.forEach(J=>{const ce=u.value.find(me=>me.id==J.studentId);if(ce===void 0)return;const ae={lessonId:J.lessonId,createdAt:J.createdAt,studentId:J.studentId,startTime:ce.startTime,endTime:ce.endTime,status:ce.status,updatedAt:St.now()};J.recovery&&(ae.recovery=J.recovery),J.trial&&(ae.trial=J.trial),ee.push(ae),X+=oh.instance.computeSalaryByStudentLesson(o.value,ce)});const _e={date:Q.date,id:Q.id,lessons:ee.sort((J,ce)=>J.startTime-ce.startTime),schoolId:Q.schoolId,lastSalaryUpdate:St.now(),salary:X};return((M=o.value)==null?void 0:M.salaryStrategy)!=null&&(_e.salaryStrategy=(L=o.value)==null?void 0:L.salaryStrategy),_e}return Ar(()=>{}),bt(async()=>{window.scrollTo(0,0)}),(Q,ee)=>{const X=U("v-col"),_e=U("v-row"),M=U("v-btn"),L=U("v-card-text"),J=U("v-spacer"),ce=U("v-card-actions"),ae=U("v-card"),me=U("v-dialog"),Pe=U("v-checkbox"),we=U("v-icon"),De=U("v-btn-toggle"),Se=U("v-timeline-item"),ze=U("v-timeline"),Le=U("v-slide-x-transition"),He=U("v-container"),Ve=U("v-progress-circular"),tt=U("v-overlay"),kt=U("v-skeleton-loader");return oe(s)&&!x.value?(ye(),Me(He,{key:0,fluid:""},{default:N(()=>[h(_e,{class:"justify-center align-center mb-6"},{default:N(()=>[h(X,{cols:"auto"},{default:N(()=>[h(Kh)]),_:1}),h(X,null,{default:N(()=>[h(_e,null,{default:N(()=>[h(X,null,{default:N(()=>[it("p",s_e,[ee[7]||(ee[7]=Ie("Lezioni del ")),it("b",null,ht(oe(pt).fromIyyyyMMdd(oe(s).date).format()),1)])]),_:1})]),_:1}),h(_e,{class:"justify-center"},{default:N(()=>[h(X,{cols:"auto"},{default:N(()=>[it("span",o_e,[ee[8]||(ee[8]=Ie(" Totale: ")),it("b",null,ht(R.value)+" €",1)])]),_:1})]),_:1})]),_:1})]),_:1}),h(_e,null,{default:N(()=>[h(X,null,{default:N(()=>[h(M,{onClick:E,disabled:!O.value},{default:N(()=>ee[9]||(ee[9]=[Ie("presenti")])),_:1},8,["disabled"])]),_:1}),h(X,null,{default:N(()=>[h(M,{onClick:A,disabled:!O.value},{default:N(()=>ee[10]||(ee[10]=[Ie("assenti")])),_:1},8,["disabled"])]),_:1}),h(X,null,{default:N(()=>[h(me,{modelValue:y.value,"onUpdate:modelValue":ee[2]||(ee[2]=Ke=>y.value=Ke),transition:"dialog-bottom-transition","max-width":"500",persistent:""},{activator:N(({props:Ke})=>[h(M,Z({onClick:ne},Ke),{default:N(()=>ee[11]||(ee[11]=[Ie("Aggiungi studente")])),_:2},1040)]),default:N(()=>[h(ae,{title:"Tutti gli studenti della scuola",loading:m.value},{default:N(()=>[h(L,null,{default:N(()=>[h(i_e,{modelValue:c.value,"onUpdate:modelValue":ee[0]||(ee[0]=Ke=>c.value=Ke),"all-students":d.value},null,8,["modelValue","all-students"])]),_:1}),h(ce,null,{default:N(()=>[h(M,{text:"Annulla",onClick:ee[1]||(ee[1]=Ke=>y.value=!1)}),h(J),h(M,{color:"primary",text:"Salva",onClick:ue,loading:_.value},null,8,["loading"])]),_:1})]),_:1},8,["loading"])]),_:1},8,["modelValue"])]),_:1}),h(X,null,{default:N(()=>[h(Pe,{modelValue:l.value,"onUpdate:modelValue":ee[3]||(ee[3]=Ke=>l.value=Ke),indeterminate:a.value.length!=0&&a.value.length!=u.value.length,onClick:Y},null,8,["modelValue","indeterminate"])]),_:1}),h(X,null,{default:N(()=>[h(Yh,{name:oe(pt).fromIyyyyMMdd(oe(s).date).format(),objName:"Lezione Giornaliera",onDelete:async()=>await be()},{activator:N(({props:Ke})=>[h(M,Z({color:"error"},Ke,{ref_key:"deleteDailyLessonBtn",ref:k}),{default:N(()=>ee[12]||(ee[12]=[Ie("elimina lezione")])),_:2},1040)]),_:1},8,["name","onDelete"])]),_:1}),h(X,null,{default:N(()=>[h(De,{modelValue:C.value,"onUpdate:modelValue":ee[4]||(ee[4]=Ke=>C.value=Ke),mandatory:"",shaped:""},{default:N(()=>[h(M,null,{default:N(()=>[h(we,null,{default:N(()=>ee[13]||(ee[13]=[Ie("mdi-timeline-text-outline")])),_:1})]),_:1}),h(M,null,{default:N(()=>[h(we,null,{default:N(()=>ee[14]||(ee[14]=[Ie("mdi-calendar-week-begin-outline")])),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1}),h(He,{fluid:""},{default:N(()=>[h(Le,{"leave-absolute":""},{default:N(()=>[C.value==1?(ye(),Me(KC,{key:0,date:oe(pt).fromIyyyyMMdd(oe(s).date),modelValue:u.value,"onUpdate:modelValue":ee[5]||(ee[5]=Ke=>u.value=Ke),editable:"",sort:"",onEdit:se},null,8,["date","modelValue"])):(ye(),Me(ze,{key:1,side:"end","truncate-line":"both"},{default:N(()=>[(ye(!0),wt(Te,null,Si(u.value,(Ke,le)=>(ye(),Me(Se,{key:Ke.id+oe(s).id,"dot-color":w(Ke),size:"small"},{default:N(()=>[(ye(),Me(r_e,{key:Ke.id+oe(s).id,item:u.value[le],"onUpdate:item":re=>u.value[le]=re,select:a.value,"onUpdate:select":ee[6]||(ee[6]=re=>a.value=re),onPresent:re=>E(Ke),onAbsent:re=>A(Ke),moveLesson:async re=>await B(Ke,re),onCancel:re=>P(Ke),onReset:re=>D(Ke),updateLessonTime:async re=>await $(Ke,re),onNotes:re=>void 0,onDeleteLessonItem:async()=>await Ae(Ke)},null,8,["item","onUpdate:item","select","onPresent","onAbsent","moveLesson","onCancel","onReset","updateLessonTime","onNotes","onDeleteLessonItem"]))]),_:2},1032,["dot-color"]))),128))]),_:1}))]),_:1})]),_:1}),h(tt,{"model-value":p.value,class:"align-center justify-center"},{default:N(()=>[h(Ve,{color:"primary",size:"64",indeterminate:""})]),_:1},8,["model-value"])]),_:1})):(ye(),Me(He,{key:1,fluid:""},{default:N(()=>[h(kt,{class:"mx-auto",type:"heading"}),h(kt,{class:"mx-auto justify-center",type:"chip, chip, chip, chip, chip, chip, chip"}),(ye(),wt(Te,null,Si(3,Ke=>h(kt,{key:Ke,class:"mx-auto justify-center mt-4","max-width":"75%",elevation:"3",type:"sentences, chip, chip, chip, chip"})),64))]),_:1}))}}}),l_e=At({__name:"CalendarView",setup(e){const t=W([]);async function n(){const i=pt.today();let r=Mt.fromITime(13*3600+40*60);for(let s=1;s<=6;s++){const o=r.format();r=r.add({hour:1});const a=r.format();t.value.push({id:s,title:"Studente "+s,start:i.toIyyyyMMdd("-")+" "+o,end:i.toIyyyyMMdd("-")+" "+a})}console.log(t.value)}return bt(async()=>{await n()}),(i,r)=>(ye(),Me(KC,{events:t.value,editable:""},null,8,["events"]))}}),u_e=At({__name:"SettingsView",setup(e){const t=W(!1),n=I(()=>`Abilitare console debug: ${t.value?"on":"off"}`);ge(t,()=>Jr.setItem("debugEnabled",t.value));function i(){t.value=Jr.getItem("debugEnabled")??!1}return bt(()=>i()),(r,s)=>{const o=U("v-col"),a=U("v-row"),l=U("v-switch"),u=U("v-form"),d=U("v-container");return ye(),Me(d,{fluid:"",class:"mb-5"},{default:N(()=>[h(a,{class:"justify-center align-center mb-6"},{default:N(()=>[h(o,{cols:"auto"},{default:N(()=>[h(Kh)]),_:1}),h(o,null,{default:N(()=>s[1]||(s[1]=[it("p",{class:"text-h5 text-center"},"Impostazioni Utente",-1)])),_:1})]),_:1}),h(a,null,{default:N(()=>[h(o,null,{default:N(()=>[h(u,{class:"ma-2"},{default:N(()=>[h(a,{class:"justify-center"},{default:N(()=>[h(o,{class:"px-2"},{default:N(()=>[h(l,{modelValue:t.value,"onUpdate:modelValue":s[0]||(s[0]=c=>t.value=c),color:"primary",label:n.value},null,8,["modelValue","label"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}}}),c_e={key:0,class:"text-h5 font-weight-bold"},d_e={key:1,class:"text-h5 font-weight-bold"},f_e={key:0,class:"text-center text-body-2"},h_e={key:1,class:"text-center text-body-2"},v_e=At({__name:"LoginView",setup(e){const t=new URL("/teachers-agenda/assets/logor-m1FxASBK.png",import.meta.url).href,n=is({lEmail:Mn().required("L'email è obbligatoria").label("Email").email(),lPassword:Mn().required("La password è obbligatoria").label("Password").min(8)}),i=is({rName:Mn().label("Nome"),rEmail:Mn().required("L'email è obbligatoria").label("Email").email(),rPassword:Mn().required("La password è obbligatoria").label("Password").min(8),rPasswordConfirm:Mn().oneOf([Sme("rPassword")],"Le passwords devono essere uguali").required().label("Ripeti password")}),r=ka({validationSchema:n}),s=ka({validationSchema:i}),o=$=>({props:{"error-messages":$.errors}}),[a,l]=r.defineField("lEmail",o),[u,d]=r.defineField("lPassword",o),[c,f]=s.defineField("rName",o),[v,m]=s.defineField("rEmail",o),[p,_]=s.defineField("rPassword",o),[y,b]=s.defineField("rPasswordConfirm",o),C=W(Jr.getItem("userSettings")??!1),k=W(!1),R=W(!1),O=W(!1),x=W("login"),S=hL();ge(x,()=>{r.resetForm(),s.resetForm()}),ge(C,$=>{$?w():Jr.removeItem("userSettings")}),ge(a,()=>{C.value&&w()});function w(){const $={name:a.value};Jr.setItem("userSettings",$)}async function E(){(await r.validate()).valid&&nz(S,a.value,u.value).catch(j=>{Xe.error("Login fallito: "+j),console.error("Failed signin",j)})}function A(){Cz(S,Qee).catch($=>{Xe.error("Login fallito: "+$),console.error("Failed signin",$)})}function P(){Xe.warn("Login via facebook non disponibile")}async function D(){if(!(await r.validateField("lEmail")).valid){Xe.warning("Inserisci l'email per effettuare il reset della password. Un link sarà inviato via email!");return}try{await ez(S,a.value),Xe.success("Controlla la tua email per effettuare il reset della password!")}catch(j){Xe.error("Reset della password fallito: "+j),console.error("Failed reset password",j)}}async function B(){if((await s.validate()).valid)try{const j=await tz(S,v.value,p.value);c.value.trim().length>0&&rz(j.user,{displayName:c.value.trim()})}catch(j){Xe.error("Registrazione fallita: "+j),console.error("Failed signup",j)}}return bt(()=>{const $=Jr.getItem("userSettings");C.value=!!$,$&&$.name&&(a.value=$.name)}),($,j)=>{const Y=U("v-img"),H=U("v-row"),q=U("v-text-field"),z=U("v-col"),ne=U("v-checkbox"),ue=U("v-btn"),be=U("v-divider"),Ae=U("v-form"),Ne=U("v-card-text"),se=U("v-card"),G=U("v-fab-transition"),ie=U("v-container");return ye(),Me(ie,null,{default:N(()=>[h(H,{class:"justify-center pt-5 pb-2"},{default:N(()=>[h(Y,{contain:"",src:oe(t),height:"50",width:"50"},null,8,["src"])]),_:1}),h(H,{class:"justify-center pb-10"},{default:N(()=>[x.value=="login"?(ye(),wt("p",c_e,"Accedi al tuo account")):(ye(),wt("p",d_e,"Crea un nuovo account"))]),_:1}),h(G,null,{default:N(()=>[x.value=="login"?(ye(),Me(H,{key:0,class:"justify-center pb-8"},{default:N(()=>[h(se,{"min-width":"400",elevation:"3"},{default:N(()=>[h(Ne,null,{default:N(()=>[h(Ae,{class:"ma-2"},{default:N(()=>[h(H,{class:"justify-center"},{default:N(()=>[h(z,{class:"px-2"},{default:N(()=>[h(q,Z({density:"compact",variant:"outlined",modelValue:oe(a),"onUpdate:modelValue":j[0]||(j[0]=Q=>Je(a)?a.value=Q:null)},oe(l),{type:"email",label:"Email",autocomplete:"on"}),null,16,["modelValue"])]),_:1})]),_:1}),h(H,{class:"justify-center"},{default:N(()=>[h(z,{class:"px-2"},{default:N(()=>[h(q,Z({density:"compact",variant:"outlined",modelValue:oe(u),"onUpdate:modelValue":j[1]||(j[1]=Q=>Je(u)?u.value=Q:null),hint:"Almeno 8 caratteri","append-inner-icon":k.value?"mdi-eye":"mdi-eye-off"},oe(d),{type:k.value?"text":"password","onClick:appendInner":j[2]||(j[2]=Q=>k.value=!k.value),counter:"",label:"Password",autocomplete:"on"}),null,16,["modelValue","append-inner-icon","type"])]),_:1})]),_:1}),h(H,{class:"justify-space-between align-center"},{default:N(()=>[h(z,{class:"px-2"},{default:N(()=>[h(ne,{density:"compact",modelValue:C.value,"onUpdate:modelValue":j[3]||(j[3]=Q=>C.value=Q),label:"Ricordati","hide-details":""},null,8,["modelValue"])]),_:1}),h(z,{class:"px-2"},{default:N(()=>[it("a",{class:"text-decoration-none text-primary text-body-2 font-weight-medium cursor-pointer",onClick:D}," Password dimenticata? ")]),_:1})]),_:1}),h(H,{class:"mb-5 justify-center"},{default:N(()=>[h(z,{class:"px-2"},{default:N(()=>[h(ue,{class:"w-100",variant:"flat",color:"blue",onClick:E},{default:N(()=>j[12]||(j[12]=[Ie("Accedi")])),_:1})]),_:1})]),_:1}),h(be,{class:"my-5"},{default:N(()=>j[13]||(j[13]=[Ie("Oppure")])),_:1}),h(H,{class:"my-1 justify-center pt-5"},{default:N(()=>[h(z,{class:"px-2"},{default:N(()=>[h(ue,{class:"w-100 text-body-1",variant:"outlined",color:"error","prepend-icon":"mdi-google",onClick:A},{default:N(()=>j[14]||(j[14]=[Ie("Google")])),_:1})]),_:1}),h(z,{class:"px-2"},{default:N(()=>[h(ue,{class:"w-100 text-body-1",variant:"outlined",color:"blue","prepend-icon":"mdi-facebook",onClick:P},{default:N(()=>j[15]||(j[15]=[Ie("Facebook")])),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})):(ye(),Me(H,{key:1,class:"justify-center pb-8"},{default:N(()=>[h(se,{"min-width":"400",elevation:"3"},{default:N(()=>[h(Ne,null,{default:N(()=>[h(Ae,{class:"ma-2"},{default:N(()=>[h(H,{class:"justify-center"},{default:N(()=>[h(z,{class:"px-2"},{default:N(()=>[h(q,Z({density:"compact",variant:"outlined",modelValue:oe(c),"onUpdate:modelValue":j[4]||(j[4]=Q=>Je(c)?c.value=Q:null)},oe(f),{label:"Nome"}),null,16,["modelValue"])]),_:1})]),_:1}),h(H,{class:"justify-center"},{default:N(()=>[h(z,{class:"px-2"},{default:N(()=>[h(q,Z({density:"compact",variant:"outlined",modelValue:oe(v),"onUpdate:modelValue":j[5]||(j[5]=Q=>Je(v)?v.value=Q:null)},oe(m),{type:"email",label:"Email",autocomplete:"on"}),null,16,["modelValue"])]),_:1})]),_:1}),h(H,{class:"justify-center"},{default:N(()=>[h(z,{class:"px-2"},{default:N(()=>[h(q,Z({density:"compact",variant:"outlined",modelValue:oe(p),"onUpdate:modelValue":j[6]||(j[6]=Q=>Je(p)?p.value=Q:null),hint:"Almeno 8 caratteri","append-inner-icon":R.value?"mdi-eye":"mdi-eye-off",type:R.value?"text":"password","onClick:appendInner":j[7]||(j[7]=Q=>R.value=!R.value),counter:""},oe(_),{label:"Password"}),null,16,["modelValue","append-inner-icon","type"])]),_:1})]),_:1}),h(H,{class:"justify-center"},{default:N(()=>[h(z,{class:"px-2"},{default:N(()=>[h(q,Z({density:"compact",variant:"outlined",modelValue:oe(y),"onUpdate:modelValue":j[8]||(j[8]=Q=>Je(y)?y.value=Q:null),"append-inner-icon":O.value?"mdi-eye":"mdi-eye-off",type:O.value?"text":"password","onClick:appendInner":j[9]||(j[9]=Q=>O.value=!O.value),counter:""},oe(b),{label:"Ripeti Password"}),null,16,["modelValue","append-inner-icon","type"])]),_:1})]),_:1}),h(H,{class:"mb-5 justify-center"},{default:N(()=>[h(z,{class:"px-2"},{default:N(()=>[h(ue,{class:"w-100",variant:"flat",color:"blue",onClick:B},{default:N(()=>j[16]||(j[16]=[Ie("Registrati")])),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}))]),_:1}),h(H,{class:"justify-center pb-10"},{default:N(()=>[x.value=="login"?(ye(),wt("div",f_e,[j[17]||(j[17]=Ie(" Non hai un account? ")),it("a",{class:"text-decoration-none text-primary font-weight-medium cursor-pointer",onClick:j[10]||(j[10]=Q=>x.value="register")},"Registrati")])):(ye(),wt("div",h_e,[j[18]||(j[18]=Ie(" Hai già un account? ")),it("a",{class:"text-decoration-none text-primary font-weight-medium cursor-pointer",onClick:j[11]||(j[11]=Q=>x.value="login")},"Accedi")]))]),_:1})]),_:1})}}}),m_e={key:0,class:"text-caption"},g_e={key:1,class:"text-caption"},p_e={key:2,class:"text-caption"},__e=At({__name:"LogConsole",props:{bufferSize:{default:250}},setup(e){const t=e,n=W([]),i=W([]),r=W(!0),s=W(!0),o=kO("consoleOutput"),a=[{text:()=>`Totale ${n.value.length}`,icon:"mdi-format-list-bulleted",color:"",type:Pn.ALL},{text:()=>`Errori ${n.value.filter(y=>y.level==Pn.ERROR||y.level==Pn.EXCEPTION||y.level==Pn.PROMISE_REJECTION).length}`,icon:"mdi-close-octagon",color:"error",type:Pn.ERROR},{text:()=>`Warning ${n.value.filter(y=>y.level==Pn.WARNING).length}`,icon:"mdi-alert-outline",color:"warning",type:Pn.WARNING},{text:()=>`Info ${n.value.filter(y=>y.level==Pn.INFO).length}`,icon:"mdi-information-outline",color:"info",type:Pn.INFO}],l=W([]);let u;ge(l,()=>{l.value.length==0||l.value.includes(Pn.ALL)?i.value=n.value:i.value=n.value.filter(y=>l.value.includes(y.level)),_()});function d(){ia.instance.clear()}async function c(){const y=i.value.map(b=>b.timestamp.toJSON()+" - "+b.message).join(`
`);navigator.clipboard.writeText(y)}function f(){r.value=!r.value}function v(){s.value=!s.value,_()}function m(y){if(l.value.includes(y))l.value=[];else{const b=[y];y==Pn.ERROR&&b.push(Pn.EXCEPTION,Pn.PROMISE_REJECTION),l.value=b}}function p(y){i.value=n.value=[...y].splice(0,t.bufferSize),_()}function _(){s.value&&setTimeout(()=>{var y,b;(b=o.value)==null||b.$el.scrollTo({top:(y=o.value)==null?void 0:y.$el.scrollHeight,behavior:"smooth"})},100)}return bt(()=>{u=ia.instance.subscription.subscribe({next:y=>p(y)},!0)}),Ar(()=>{u==null||u.unsubscribe()}),(y,b)=>{const C=U("v-btn"),k=U("v-spacer"),R=U("v-system-bar"),O=U("v-icon"),x=U("v-list-item-title"),S=U("v-list-item"),w=U("v-list"),E=U("v-col"),A=U("v-slide-x-transition"),P=U("v-card"),D=U("v-card-text"),B=U("v-row"),$=U("v-main"),j=U("v-layout");return ye(),Me(P,{class:"console-card"},{default:N(()=>[h(j,null,{default:N(()=>[h(R,{color:"pink-darken-2",style:{height:"35px"}},{default:N(()=>[h(C,{class:"ms-1",density:"compact",variant:"text",icon:"mdi-dots-vertical",onClick:f}),h(C,{class:"ms-1",density:"compact",variant:"text",icon:"mdi-format-vertical-align-bottom",color:s.value?"yellow":"",onClick:v},null,8,["color"]),h(C,{class:"ms-1",density:"compact",variant:"text",icon:"mdi-content-copy",onClick:c}),h(k),h(C,{class:"ms-1",density:"compact",variant:"text",icon:"mdi-delete",onClick:d})]),_:1}),h($,null,{default:N(()=>[h(B,{class:"pa-0 pt-3"},{default:N(()=>[h(A,{"hide-on-leave":""},{default:N(()=>[r.value?(ye(),Me(E,{key:0,class:"my-4 border-e-thin"},{default:N(()=>[h(w,{lines:!1,density:"compact",nav:""},{default:N(()=>[(ye(),wt(Te,null,Si(a,(Y,H)=>h(S,{key:H,value:Y,color:"primary",onClick:q=>m(Y.type)},{prepend:N(()=>[h(O,{icon:Y.icon,color:Y.color},null,8,["icon","color"])]),default:N(()=>[h(x,null,{default:N(()=>[Ie(ht(Y.text()),1)]),_:2},1024)]),_:2},1032,["value","onClick"])),64))]),_:1})]),_:1})):Jt("",!0)]),_:1}),h(E,{md:r.value?10:12},{default:N(()=>[h(D,{class:"console-output px-2",ref_key:"consoleOutput",ref:o},{default:N(()=>[(ye(!0),wt(Te,null,Si(i.value,(Y,H)=>(ye(),Me(P,{key:H,class:"log-entry my-1 pa-1"},{default:N(()=>[Y.level==oe(Pn).ERROR||Y.level==oe(Pn).EXCEPTION||Y.level==oe(Pn).PROMISE_REJECTION?(ye(),wt("p",m_e,[h(O,{color:"error",class:"mr-2"},{default:N(()=>b[0]||(b[0]=[Ie("mdi-close-octagon")])),_:1}),Ie(" "+ht(Y.message),1)])):Y.level==oe(Pn).WARNING?(ye(),wt("p",g_e,[h(O,{color:"warning",class:"mr-2"},{default:N(()=>b[1]||(b[1]=[Ie("mdi-alert-outline")])),_:1}),Ie(" "+ht(Y.message),1)])):(ye(),wt("p",p_e,[h(O,{color:"info",class:"mr-2"},{default:N(()=>b[2]||(b[2]=[Ie("mdi-information-outline")])),_:1}),Ie(" "+ht(Y.message),1)]))]),_:2},1024))),128))]),_:1},512)]),_:1},8,["md"])]),_:1})]),_:1})]),_:1})]),_:1})}}}),y_e=YC(__e,[["__scopeId","data-v-e81b5894"]]),b_e=At({__name:"DebuggerView",setup(e){const t=W(!1);return bt(()=>{t.value=Jr.getItem("debugEnabled")??!1}),(n,i)=>{const r=U("v-col"),s=U("v-row"),o=U("v-icon"),a=U("v-btn"),l=U("v-container");return ye(),Me(l,{fluid:"",class:"mb-5"},{default:N(()=>[h(s,{class:"justify-center align-center mb-6"},{default:N(()=>[h(r,{cols:"auto"},{default:N(()=>[h(Kh)]),_:1}),h(r,null,{default:N(()=>i[0]||(i[0]=[it("p",{class:"text-h5 text-center"},"Log dell'applicazione",-1)])),_:1})]),_:1}),h(s,null,{default:N(()=>[t.value?(ye(),Me(r,{key:0},{default:N(()=>[h(y_e)]),_:1})):(ye(),Me(r,{key:1,class:"text-center"},{default:N(()=>[it("p",null,[i[3]||(i[3]=Ie("La console di debug non è abilitata. Abilitala tramite le ")),h(a,{to:"settings",variant:"text"},{default:N(()=>[h(o,null,{default:N(()=>i[1]||(i[1]=[Ie("mdi-link")])),_:1}),i[2]||(i[2]=Ie(" impostazioni"))]),_:1})])]),_:1}))]),_:1})]),_:1})}}}),L6=DJ({history:aJ("/teachers-agenda"),routes:[{path:"/",name:"home",meta:{requiresAuth:!0},component:hb},{path:"/schools",name:"schools",meta:{requiresAuth:!0},component:Qme},{path:"/school/:id",meta:{requiresAuth:!0,transition:"v-slide-x-transition"},component:Ype},{path:"/lessons/:id",name:"lessons",meta:{requiresAuth:!0},component:n_e},{path:"/lesson/:id",name:"lesson",meta:{requiresAuth:!0},component:a_e},{path:"/recoveries",name:"recoveries",meta:{requiresAuth:!0},component:hb},{path:"/calendar",name:"calendar",meta:{requiresAuth:!0},component:l_e},{path:"/reports",name:"reports",meta:{requiresAuth:!0},component:hb},{path:"/settings",name:"settings",meta:{requiresAuth:!0},component:u_e},{path:"/login",name:"login",component:v_e},{path:"/debugger",name:"debugger",component:b_e}]});L6.beforeEach(async e=>{if(e.name=="login"&&await oI())return{path:"/"};if(e.meta.requiresAuth&&!await oI())return{path:"/login",query:{redirect:e.fullPath}}});const w_e=()=>{window.onerror=function(t,n,i){return ia.instance.push(Pn.EXCEPTION,{error:t,url:n,line:i}),!1},window.onunhandledrejection=function(t){try{const n={message:t.reason.message,stack:t.reason.stack};ia.instance.push(Pn.PROMISE_REJECTION,n)}catch{ia.instance.push(Pn.PROMISE_REJECTION,t)}};function e(t){const n=console[t].bind(console);return function(...i){let r=Pn.INFO;t=="error"?r=Pn.ERROR:t=="warn"&&(r=Pn.WARNING),ia.instance.push(r,...Array.from(i)),n.apply(console,i)}}["log","error","warn"].forEach(t=>{console[t]=e(t)})};"true".toLowerCase()==="true"&&w_e();const{firebaseApp:S_e}=Xee(),uu=cV(qee);uu.config.performance=!0;uu.use(N5());uu.use(L6);uu.use(Gae);uu.use(PQ,{firebaseApp:S_e,modules:[TQ()]});uu.use(bV,{autoClose:3e3});uu.mount("#app");
